Title: Piston (Lightning Talk) â€” Ben Striegel
Publication date: 2017-10-25
Playlist: Rust Belt Rust 2016
Description: 
	
Captions: 
	00:00:04,720 --> 00:00:09,580
oh if anyone ever okay has anyone used

00:00:06,910 --> 00:00:11,799
piston before here okay you know what it

00:00:09,580 --> 00:00:14,830
is if you haven't used it before piston

00:00:11,799 --> 00:00:17,050
is a kind okay

00:00:14,830 --> 00:00:19,270
some call it a video game engine it's

00:00:17,050 --> 00:00:21,250
not real microphone some call it a video

00:00:19,270 --> 00:00:24,460
game engine it isn't really an engine in

00:00:21,250 --> 00:00:26,350
the typical sense awesome it's really

00:00:24,460 --> 00:00:28,540
more a collection of libraries and

00:00:26,350 --> 00:00:30,040
piston kind of dates back pretty far in

00:00:28,540 --> 00:00:32,349
rust as a matter of fact it's kind of

00:00:30,040 --> 00:00:33,760
one of the earliest big project is

00:00:32,349 --> 00:00:35,320
actually very large community around it

00:00:33,760 --> 00:00:36,999
and they're kind of they're kind of out

00:00:35,320 --> 00:00:38,620
there with a lot of really wild dreams

00:00:36,999 --> 00:00:40,239
and sometimes we're kind of like wow

00:00:38,620 --> 00:00:42,609
that's like really ambitious but you do

00:00:40,239 --> 00:00:43,749
you you do you and so here I wanted to

00:00:42,609 --> 00:00:45,399
kind of just like talk about like how

00:00:43,749 --> 00:00:47,050
easy it is to actually get started with

00:00:45,399 --> 00:00:48,730
using some of their very simple

00:00:47,050 --> 00:00:49,899
libraries or some are more complex than

00:00:48,730 --> 00:00:54,159
others but we'll work on the simple ones

00:00:49,899 --> 00:00:56,739
right now so it is as simple as did you

00:00:54,159 --> 00:00:57,909
do we are here and then pardon me I just

00:00:56,739 --> 00:00:59,199
kind of had it so that my new one but

00:00:57,909 --> 00:01:00,940
naumann byron right here is kind of a

00:00:59,199 --> 00:01:03,339
brand-new computer I'm vaguely okay so

00:01:00,940 --> 00:01:05,409
we have a new imagine this is a

00:01:03,339 --> 00:01:07,479
brand-new French repository cargo nude

00:01:05,409 --> 00:01:08,830
all kinds of goodness in here let's go

00:01:07,479 --> 00:01:11,020
into cargo to Tamil and the only thing

00:01:08,830 --> 00:01:12,610
you need here in dependencies is piston

00:01:11,020 --> 00:01:13,990
window and is there is a newer version

00:01:12,610 --> 00:01:14,530
that I'm using an older version cousin

00:01:13,990 --> 00:01:16,750
Musinga

00:01:14,530 --> 00:01:19,840
a tutorial that I'll show you later on

00:01:16,750 --> 00:01:20,890
the link to and right here is this is

00:01:19,840 --> 00:01:22,030
the only thing you need and it will get

00:01:20,890 --> 00:01:24,250
everything else for you and kind of how

00:01:22,030 --> 00:01:26,200
long will be a cooking show they will

00:01:24,250 --> 00:01:27,430
kind of pre bake the cake for you before

00:01:26,200 --> 00:01:28,720
they actually kind of pull it out of the

00:01:27,430 --> 00:01:30,460
oven at the commercial break because

00:01:28,720 --> 00:01:33,760
it's no time to actually let you sit

00:01:30,460 --> 00:01:36,760
there and watch the cake bake actually

00:01:33,760 --> 00:01:39,130
there let you watch all of these he's

00:01:36,760 --> 00:01:40,570
not a lot of dependencies need to

00:01:39,130 --> 00:01:43,330
compile for it and so when I say a

00:01:40,570 --> 00:01:45,850
zillion piston libraries I mean all of

00:01:43,330 --> 00:01:47,350
these need to compile and there's a lot

00:01:45,850 --> 00:01:48,580
of things in here and in fact it

00:01:47,350 --> 00:01:49,720
actually all works really well is kind

00:01:48,580 --> 00:01:52,150
of testament to the fact that rusts

00:01:49,720 --> 00:01:54,490
accustomed is vaguely stable and like

00:01:52,150 --> 00:01:57,100
reliable these days there's a lot of

00:01:54,490 --> 00:01:58,810
just really like here's rayon which Niko

00:01:57,100 --> 00:02:00,010
talking about later and just all sorts

00:01:58,810 --> 00:02:01,390
of a lot of things that they've even

00:02:00,010 --> 00:02:03,880
given back to community in terms of like

00:02:01,390 --> 00:02:05,320
things that servo uses which is a web

00:02:03,880 --> 00:02:07,270
browser that Mozilla is running and rust

00:02:05,320 --> 00:02:08,530
and all sorts of libraries that are

00:02:07,270 --> 00:02:11,500
really cool but anyway we get this thing

00:02:08,530 --> 00:02:12,760
and then we have go into our main file

00:02:11,500 --> 00:02:14,740
right here and this is all it takes

00:02:12,760 --> 00:02:17,210
right here so we kind of import this

00:02:14,740 --> 00:02:18,560
piston window crate we use the

00:02:17,210 --> 00:02:20,690
things that are inside and then we have

00:02:18,560 --> 00:02:22,700
hang we have this window you create a

00:02:20,690 --> 00:02:24,620
new window object give it a few settings

00:02:22,700 --> 00:02:26,900
give it a title setting and some

00:02:24,620 --> 00:02:29,540
dimensions till to actually ever exit on

00:02:26,900 --> 00:02:31,540
key presses we build it and then we have

00:02:29,540 --> 00:02:35,510
a program blue papers currently empty

00:02:31,540 --> 00:02:37,490
and then if we cargo run we get this

00:02:35,510 --> 00:02:40,790
which is nothing actually

00:02:37,490 --> 00:02:42,260
hmm actually it might not be nothing if

00:02:40,790 --> 00:02:43,760
you try this they come along at home it

00:02:42,260 --> 00:02:45,800
might actually be just totally random

00:02:43,760 --> 00:02:47,360
contents of your video buffer so it

00:02:45,800 --> 00:02:49,280
might be black or it might be a really

00:02:47,360 --> 00:02:51,920
beautiful kind of mix of greens and

00:02:49,280 --> 00:02:53,720
blues and random colors so that is step

00:02:51,920 --> 00:02:55,400
one but we want to do make things kind

00:02:53,720 --> 00:02:57,950
of a more interesting I actually draw

00:02:55,400 --> 00:03:01,930
anything at all so let me uh I didn't

00:02:57,950 --> 00:03:08,420
want to live oh crap that's right

00:03:01,930 --> 00:03:15,370
remember how it works no I don't get out

00:03:08,420 --> 00:03:15,370
of a the orphan branch here I hear I

00:03:16,510 --> 00:03:20,630
like it you got the master is what I

00:03:18,290 --> 00:03:23,780
want all right do Lou

00:03:20,630 --> 00:03:34,660
Oh live coding all right next thing oh

00:03:23,780 --> 00:03:34,660
look all right oh no what have I done

00:03:34,870 --> 00:03:41,990
mmm it's a collaborative live coding

00:03:39,860 --> 00:03:44,240
session here it's marginally better than

00:03:41,990 --> 00:03:48,170
actually left coding it myself so now we

00:03:44,240 --> 00:03:49,760
can check out the main file here and we

00:03:48,170 --> 00:03:51,290
have added a few things here still the

00:03:49,760 --> 00:03:52,910
same kind of builder up here for the

00:03:51,290 --> 00:03:54,980
basics but now inside this program loop

00:03:52,910 --> 00:03:59,030
which kind of just goes forever until we

00:03:54,980 --> 00:04:02,000
decide to stop it we have we look at the

00:03:59,030 --> 00:04:04,220
render arguments actually this is that's

00:04:02,000 --> 00:04:06,640
one we have the render arguments which

00:04:04,220 --> 00:04:09,430
look kind of like um it's an event

00:04:06,640 --> 00:04:10,720
it happens every single frame and we can

00:04:09,430 --> 00:04:11,830
kind of say hey what do you want to draw

00:04:10,720 --> 00:04:13,390
on this rain right now we're kind of

00:04:11,830 --> 00:04:15,670
drawing this one thing unconditionally

00:04:13,390 --> 00:04:17,049
so you draw 2d we give it and clear out

00:04:15,670 --> 00:04:18,340
the entire space then we draw a

00:04:17,049 --> 00:04:21,250
rectangle at these coordinates of these

00:04:18,340 --> 00:04:33,130
dimensions and let's see what happens

00:04:21,250 --> 00:04:35,020
when me run this purple square and now

00:04:33,130 --> 00:04:37,450
one last step let's make this a little

00:04:35,020 --> 00:04:47,200
bit interactive that's right get check

00:04:37,450 --> 00:04:50,410
out master altogether now check out I'm

00:04:47,200 --> 00:04:51,240
good I'm good you're all so smart all

00:04:50,410 --> 00:04:54,040
right

00:04:51,240 --> 00:04:55,780
mmm check out what our last step is so

00:04:54,040 --> 00:04:59,410
now at this last step we have is out of

00:04:55,780 --> 00:05:00,940
these last two lines here we have up

00:04:59,410 --> 00:05:02,170
here we'll render arguments here our

00:05:00,940 --> 00:05:04,060
update arguments which means that every

00:05:02,170 --> 00:05:05,620
frame we want to update something in the

00:05:04,060 --> 00:05:07,360
frame we now have these two objects in

00:05:05,620 --> 00:05:11,110
here and just these two total mutable

00:05:07,360 --> 00:05:13,150
tuples and we have a position which

00:05:11,110 --> 00:05:15,160
changes by the Delta every time and then

00:05:13,150 --> 00:05:18,669
we can change the Delta down here by

00:05:15,160 --> 00:05:20,470
pushing keyboard events so kind of key

00:05:18,669 --> 00:05:21,640
press art sometimes everytime every

00:05:20,470 --> 00:05:23,290
frame it will see what buttons are

00:05:21,640 --> 00:05:25,330
pressed and it's pretty straightforward

00:05:23,290 --> 00:05:27,310
and you know check key up key down key

00:05:25,330 --> 00:05:32,020
left key right or key space okay so stop

00:05:27,310 --> 00:05:34,120
it what's going on my being I'm a being

00:05:32,020 --> 00:05:36,100
clapped offstage all right I'll run it

00:05:34,120 --> 00:05:37,720
just to be clear well let's do it let's

00:05:36,100 --> 00:05:39,840
do it let's do it let's do it let's do

00:05:37,720 --> 00:05:39,840
it

00:05:40,259 --> 00:05:47,499
and here it goes and it's all it takes

00:05:44,770 --> 00:05:52,800
to make an interactive - thingy with

00:05:47,499 --> 00:05:52,800

YouTube URL: https://www.youtube.com/watch?v=wsj2-LY-vg8


