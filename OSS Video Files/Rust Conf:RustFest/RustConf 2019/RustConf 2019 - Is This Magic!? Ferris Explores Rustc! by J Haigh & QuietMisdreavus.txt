Title: RustConf 2019 - Is This Magic!? Ferris Explores Rustc! by J Haigh & QuietMisdreavus
Publication date: 2019-09-16
Playlist: RustConf 2019
Description: 
	RustConf 2019 - Is This Magic!? Ferris Explores Rustc! by J Haigh & QuietMisdreavus

Join our protagonist Ferris as they explore the wild unknown of the Rust compiler. With a little help from the locals, they manage to make a map of the various compiler crates, and gain an understanding of where each fits in the compiler. They also get to see where the locals congregate, and plan out their own expeditions. Eager for some extra hands, the locals start to teach Ferris the ropes of compiler development, from finding a good first issue, to setting up their own build, to testing their code. They even get some tips about working through the Pull Request workflow, to make sure their first contribution goes smoothly. Will Ferris discover the magic inside Rustc? Tune in to find out!
Captions: 
	00:00:08,770 --> 00:00:15,680
[Music]

00:00:16,810 --> 00:00:21,020
hello welcome to the talk we're going to

00:00:19,820 --> 00:00:22,940
explain how to do your first

00:00:21,020 --> 00:00:25,700
contribution to rust see the roughs

00:00:22,940 --> 00:00:27,560
compiler to sum the rust compilers just

00:00:25,700 --> 00:00:30,260
the thing that yells at them when they

00:00:27,560 --> 00:00:31,970
run cargo build some people get curious

00:00:30,260 --> 00:00:34,059
about what happens under the hood and

00:00:31,970 --> 00:00:36,140
the compiler holds all the answers

00:00:34,059 --> 00:00:37,820
getting a better understanding of the

00:00:36,140 --> 00:00:40,220
compiler by reading the code and

00:00:37,820 --> 00:00:42,980
starting to contribute to rusty turns

00:00:40,220 --> 00:00:44,570
the angry red compiler errors into a

00:00:42,980 --> 00:00:47,690
hopeful friend trying to guide you along

00:00:44,570 --> 00:00:49,370
on an adventure will give you an

00:00:47,690 --> 00:00:52,370
introduction to the compiler and the

00:00:49,370 --> 00:00:54,350
teams tell you about what you need to

00:00:52,370 --> 00:00:56,570
set up your dev environment find a good

00:00:54,350 --> 00:00:58,790
first issue work through an example

00:00:56,570 --> 00:01:01,519
issue and explain the pull requests

00:00:58,790 --> 00:01:03,739
workflow we're going to present this

00:01:01,519 --> 00:01:05,299
talk as a whimsical kind of story with

00:01:03,739 --> 00:01:07,310
occasional breaks for more in-depth

00:01:05,299 --> 00:01:10,400
technical information but first we'd

00:01:07,310 --> 00:01:12,290
like to introduce ourselves hello my

00:01:10,400 --> 00:01:14,540
name is Jay Hague and I'm debug Steven

00:01:12,290 --> 00:01:16,610
on Twitter I'm currently a Haskell

00:01:14,540 --> 00:01:18,680
developer at sim space

00:01:16,610 --> 00:01:21,530
I'm organizing Colorado gold rust this

00:01:18,680 --> 00:01:24,290
year it's on September 20th and 21st if

00:01:21,530 --> 00:01:25,760
you're interested in attending and I've

00:01:24,290 --> 00:01:27,680
contributed to a handful of rust

00:01:25,760 --> 00:01:30,260
projects including Russ stock inside of

00:01:27,680 --> 00:01:32,000
rusty I did my first contribution to

00:01:30,260 --> 00:01:34,070
rusty at the recurse Center last winter

00:01:32,000 --> 00:01:36,380
the recurse Center is a self-directed

00:01:34,070 --> 00:01:40,610
community driven coding retreat in New

00:01:36,380 --> 00:01:41,840
York City hi my name is gray but you

00:01:40,610 --> 00:01:43,640
might know me better as quite

00:01:41,840 --> 00:01:45,770
mischievous on Twitter and github and

00:01:43,640 --> 00:01:47,780
the like I'm the lead of the Russ talk

00:01:45,770 --> 00:01:49,820
team so I help out a lot with

00:01:47,780 --> 00:01:52,190
maintaining the Russ talk tool that runs

00:01:49,820 --> 00:01:55,040
inside cargo dock and docks our rest

00:01:52,190 --> 00:01:56,390
documentation hosting site later this

00:01:55,040 --> 00:01:58,130
year also be tending attending the

00:01:56,390 --> 00:02:00,860
Ricker Center to spend even more time

00:01:58,130 --> 00:02:02,570
working on those things but without

00:02:00,860 --> 00:02:05,540
further ado let's jump right into our

00:02:02,570 --> 00:02:08,269
story I'm sure many of you know our

00:02:05,540 --> 00:02:10,310
lovable mascot Ferris the crab they're a

00:02:08,269 --> 00:02:12,860
curious sort helped along by the

00:02:10,310 --> 00:02:14,420
friendly rust community today it looks

00:02:12,860 --> 00:02:15,379
like Ferris is hanging out on the beach

00:02:14,420 --> 00:02:20,930
playing

00:02:15,379 --> 00:02:22,599
oh it looks like Ferris has found

00:02:20,930 --> 00:02:24,650
themselves a little hole to burrow into

00:02:22,599 --> 00:02:27,439
what have you found there Ferris

00:02:24,650 --> 00:02:28,760
I've always been rusty gas fan I just

00:02:27,439 --> 00:02:31,040
loved the language and I've gotten

00:02:28,760 --> 00:02:32,480
pretty good at writing Rus code I want

00:02:31,040 --> 00:02:35,209
to know more about how the Rus

00:02:32,480 --> 00:02:37,220
programming language works so today as

00:02:35,209 --> 00:02:38,870
you can see I'm digging into the sand to

00:02:37,220 --> 00:02:43,430
see if maybe I can find answers to my

00:02:38,870 --> 00:02:46,329
questions there oh dear oh dear that

00:02:43,430 --> 00:02:49,189
isn't any ordinary hole it's a wormhole

00:02:46,329 --> 00:02:51,530
where do you think it will lead this

00:02:49,189 --> 00:02:53,180
doesn't seem to have any visible bottom

00:02:51,530 --> 00:02:55,370
it seems to just be tumbling downward

00:02:53,180 --> 00:02:58,370
and downward who knows where we might

00:02:55,370 --> 00:03:00,409
land we could land in a magical other

00:02:58,370 --> 00:03:06,709
world or right back where we started

00:03:00,409 --> 00:03:11,930
who knows oh my look what's happened to

00:03:06,709 --> 00:03:13,849
you Ferris looks like I've landed on a

00:03:11,930 --> 00:03:15,889
desert island but this isn't the same

00:03:13,849 --> 00:03:20,840
island I was playing on earlier who's

00:03:15,889 --> 00:03:23,000
that approaching ahoy there welcome to

00:03:20,840 --> 00:03:25,449
the rust sea home of rust see the rust

00:03:23,000 --> 00:03:25,449
compiler

00:03:30,870 --> 00:03:36,879
who may you be I'm Ferris the rusty

00:03:34,900 --> 00:03:38,500
sounds like a fun place I was trying to

00:03:36,879 --> 00:03:40,209
learn more about how rust works and

00:03:38,500 --> 00:03:42,430
contribute back to the community can you

00:03:40,209 --> 00:03:45,239
show me around sure I could show you the

00:03:42,430 --> 00:03:47,680
lay of the land I have a map right here

00:03:45,239 --> 00:03:50,230
here on the rust see there are many

00:03:47,680 --> 00:03:52,480
islands that you can visit from parser

00:03:50,230 --> 00:03:55,209
island and the Far West you can continue

00:03:52,480 --> 00:03:57,250
on to resolve Island High Island check

00:03:55,209 --> 00:04:00,459
island middle news low islands and

00:03:57,250 --> 00:04:02,200
finally link island in the Far West each

00:04:00,459 --> 00:04:04,180
island has a special industry that

00:04:02,200 --> 00:04:07,900
contributes to its local culture but

00:04:04,180 --> 00:04:09,129
that's just the main island chain to

00:04:07,900 --> 00:04:11,260
kind of take a step back from the story

00:04:09,129 --> 00:04:14,530
a little bit this corresponds to the

00:04:11,260 --> 00:04:15,670
flow of the compiler you know like

00:04:14,530 --> 00:04:17,229
there's several steps that it goes

00:04:15,670 --> 00:04:19,720
through there's the parser the named

00:04:17,229 --> 00:04:21,489
resolver there's the type checker and

00:04:19,720 --> 00:04:23,530
the borrowed checker there's sort of

00:04:21,489 --> 00:04:26,260
intermediate representations high middle

00:04:23,530 --> 00:04:29,530
and low and then at the end it blinks it

00:04:26,260 --> 00:04:31,389
into the final binary so like there's

00:04:29,530 --> 00:04:34,060
this like basic process that you go

00:04:31,389 --> 00:04:35,949
through this is also why that if you've

00:04:34,060 --> 00:04:37,900
work if you're working on your code and

00:04:35,949 --> 00:04:39,970
it seems like you've gotten through all

00:04:37,900 --> 00:04:42,010
of your compiler errors and then you're

00:04:39,970 --> 00:04:43,449
hit with a bunch more that's because

00:04:42,010 --> 00:04:46,960
you've reached the next phase you reach

00:04:43,449 --> 00:04:48,970
the next island so to speak but let's

00:04:46,960 --> 00:04:50,830
jump right back into the story there are

00:04:48,970 --> 00:04:53,530
many islands on the rest sea and there

00:04:50,830 --> 00:04:56,169
are also many peoples there's the

00:04:53,530 --> 00:04:58,770
industrious compiled Ariens keepers of

00:04:56,169 --> 00:05:02,289
the vast machines of the main islands

00:04:58,770 --> 00:05:05,680
the resourceful language painstaking

00:05:02,289 --> 00:05:08,289
designers of those machines the studious

00:05:05,680 --> 00:05:12,010
dachshund authors of great stones of

00:05:08,289 --> 00:05:14,260
knowledge the gregarious communitarians

00:05:12,010 --> 00:05:15,060
always looking out for newcomers to the

00:05:14,260 --> 00:05:17,949
islands

00:05:15,060 --> 00:05:20,289
the crafty tool crafters creators of

00:05:17,949 --> 00:05:22,570
machines used by both the Islanders and

00:05:20,289 --> 00:05:26,680
people all over the world and many more

00:05:22,570 --> 00:05:28,750
I wouldn't be more than just the rust

00:05:26,680 --> 00:05:30,580
language mascot I want to be a pirate

00:05:28,750 --> 00:05:33,280
too in our quest to make the rusty even

00:05:30,580 --> 00:05:36,039
better how can I become a contributor to

00:05:33,280 --> 00:05:38,349
the compiler and get started well the

00:05:36,039 --> 00:05:40,029
easiest thing you can do is start with

00:05:38,349 --> 00:05:41,450
an issue to work on that'll get you all

00:05:40,029 --> 00:05:43,430
the experience you need

00:05:41,450 --> 00:05:45,020
if you want to just read about the

00:05:43,430 --> 00:05:46,490
current issues facing the islands

00:05:45,020 --> 00:05:49,130
there's no better place than the bouncy

00:05:46,490 --> 00:05:50,870
board we try to keep it categorized so

00:05:49,130 --> 00:05:53,330
you can look around for what pleases you

00:05:50,870 --> 00:05:55,340
some labels are valuable prizes like

00:05:53,330 --> 00:05:57,050
either cheesy or E - mental err

00:05:55,340 --> 00:05:59,690
those are prime targets for newcomers to

00:05:57,050 --> 00:06:01,610
snatch up so be quick I'm more of a

00:05:59,690 --> 00:06:03,740
social type I prefer to talk to people

00:06:01,610 --> 00:06:05,750
where they are okay

00:06:03,740 --> 00:06:07,040
loo take you to the watering hole all

00:06:05,750 --> 00:06:10,040
the finest sailors plan their

00:06:07,040 --> 00:06:12,020
expeditions they're welcome in

00:06:10,040 --> 00:06:14,930
it looks like the specials today are the

00:06:12,020 --> 00:06:17,000
discord drought and the Zulu singer Wow

00:06:14,930 --> 00:06:18,500
there are so many people here I wonder

00:06:17,000 --> 00:06:20,080
if anyone here needs a help with

00:06:18,500 --> 00:06:28,220
anything

00:06:20,080 --> 00:06:29,660
hmm excuse me you there yeah do you know

00:06:28,220 --> 00:06:35,870
if there's any trouble out on the rust

00:06:29,660 --> 00:06:39,500
see a strange noise when you aren't

00:06:35,870 --> 00:06:41,710
sailing you say I wonder what that could

00:06:39,500 --> 00:06:41,710
be

00:06:44,140 --> 00:06:49,280
gosh well I think I know some sailors

00:06:47,180 --> 00:06:53,240
who could help you out let's get started

00:06:49,280 --> 00:06:55,880
so take an step back from the story a

00:06:53,240 --> 00:06:57,890
little bit this is how you get started

00:06:55,880 --> 00:06:59,660
on the issue in contributions you can

00:06:57,890 --> 00:07:01,910
find an issue that someone else has

00:06:59,660 --> 00:07:04,430
posted to work on or you can kind of

00:07:01,910 --> 00:07:07,640
jump in with the teens and get invested

00:07:04,430 --> 00:07:09,410
in the lingo and stuff so the compiler

00:07:07,640 --> 00:07:11,930
repo and many of the official like all

00:07:09,410 --> 00:07:15,040
of the official and a rust project

00:07:11,930 --> 00:07:17,360
repositories keep an adduct issues page

00:07:15,040 --> 00:07:20,600
and there's even a team of people

00:07:17,360 --> 00:07:22,220
specifically that keep up with the the

00:07:20,600 --> 00:07:24,710
issues and pull requests on the compiler

00:07:22,220 --> 00:07:27,410
repo and there are a bunch of labels

00:07:24,710 --> 00:07:29,720
that we use but the couple that I called

00:07:27,410 --> 00:07:31,130
out eat a cheesy need detriment or mean

00:07:29,720 --> 00:07:33,290
that either you don't need a lot of

00:07:31,130 --> 00:07:35,390
experience with the compiler to work on

00:07:33,290 --> 00:07:38,150
it like it doesn't need a lot of

00:07:35,390 --> 00:07:39,350
in-depth knowledge or that someone has

00:07:38,150 --> 00:07:41,990
laid out the steps to resolve it

00:07:39,350 --> 00:07:43,610
respectively and so like I said if you

00:07:41,990 --> 00:07:46,670
find both of these on an issue it's not

00:07:43,610 --> 00:07:49,100
likely to be there for very long and if

00:07:46,670 --> 00:07:50,840
you're feeling more social a bunch of

00:07:49,100 --> 00:07:52,940
the teams have chat rooms or places

00:07:50,840 --> 00:07:53,639
where they hang out and so you can go in

00:07:52,940 --> 00:07:57,000
local

00:07:53,639 --> 00:07:59,159
learn the lingo find out things to work

00:07:57,000 --> 00:08:00,569
on before they're even posted and if as

00:07:59,159 --> 00:08:04,289
they're being worked as they're being

00:08:00,569 --> 00:08:06,330
designed let's hop right back in if you

00:08:04,289 --> 00:08:07,669
want to go on an expedition you'll need

00:08:06,330 --> 00:08:09,509
to provision yourself the Canon

00:08:07,669 --> 00:08:10,250
unfortunately we can just clone you a

00:08:09,509 --> 00:08:12,889
new one

00:08:10,250 --> 00:08:17,969
you also need some tools to get started

00:08:12,889 --> 00:08:21,629
your own clanging bell a curled sword I

00:08:17,969 --> 00:08:24,509
see you've got one already a talisman we

00:08:21,629 --> 00:08:27,330
call the vexatious get that should work

00:08:24,509 --> 00:08:31,169
nicely and of course your own life

00:08:27,330 --> 00:08:32,640
Python I'll so remember that you can

00:08:31,169 --> 00:08:34,349
tweak and configure your cannon to your

00:08:32,640 --> 00:08:36,810
liking there's a configuration file that

00:08:34,349 --> 00:08:39,479
comes with it so you can read through it

00:08:36,810 --> 00:08:42,930
all and see what tweaks you can make and

00:08:39,479 --> 00:08:45,570
again this ties back to rust is built on

00:08:42,930 --> 00:08:47,970
github there's a nice repo and that you

00:08:45,570 --> 00:08:50,070
can fork for your own and clone yourself

00:08:47,970 --> 00:08:51,570
to get the code on your machine there

00:08:50,070 --> 00:08:52,140
are a handful of dependencies to be able

00:08:51,570 --> 00:08:54,810
to build it

00:08:52,140 --> 00:08:57,390
like I said curl get a C++ compiler I

00:08:54,810 --> 00:09:01,019
mentioned clang but gzz and MSPCA work

00:08:57,390 --> 00:09:02,550
too Python and C make and there's a

00:09:01,019 --> 00:09:07,019
configuration file it's kept in the

00:09:02,550 --> 00:09:09,000
repos conflict Tamil example so and that

00:09:07,019 --> 00:09:12,980
has all of the documentation for each

00:09:09,000 --> 00:09:15,060
what each have knob and option does and

00:09:12,980 --> 00:09:18,570
when you want to tweak it for yourself

00:09:15,060 --> 00:09:20,730
copy it and as conflict Tamil and week

00:09:18,570 --> 00:09:24,329
away and that'll play with your compile

00:09:20,730 --> 00:09:26,180
process jumping back in now that we're

00:09:24,329 --> 00:09:28,649
all set up let's get ready to fire

00:09:26,180 --> 00:09:30,269
remember a pirate ship doesn't work the

00:09:28,649 --> 00:09:33,120
same as those cargo ships you might be

00:09:30,269 --> 00:09:35,430
used to we do things a little

00:09:33,120 --> 00:09:38,269
differently around here we use a tool

00:09:35,430 --> 00:09:40,380
called X x marks the spot you might know

00:09:38,269 --> 00:09:41,070
but it should almost work the same as

00:09:40,380 --> 00:09:44,100
what you're used to

00:09:41,070 --> 00:09:47,010
there's a check a build a dock a test

00:09:44,100 --> 00:09:48,870
same as usual just keep in mind we fire

00:09:47,010 --> 00:09:50,790
our cannons and stages here keeps

00:09:48,870 --> 00:09:53,040
everything shipshape sometimes you'll be

00:09:50,790 --> 00:09:54,390
in stage one sometimes stage two it

00:09:53,040 --> 00:09:56,779
depends on what kind of expedition

00:09:54,390 --> 00:09:56,779
you're on

00:09:57,800 --> 00:10:02,809
so as I mentioned building the rest

00:10:00,350 --> 00:10:05,360
compiler you don't use cargo directly it

00:10:02,809 --> 00:10:07,449
has its own little build tool it manages

00:10:05,360 --> 00:10:09,980
building putting the compiler together

00:10:07,449 --> 00:10:13,009
because the rest compiler is itself

00:10:09,980 --> 00:10:14,869
built written in rust it needs to kind

00:10:13,009 --> 00:10:17,209
of build itself a couple times to make

00:10:14,869 --> 00:10:20,449
sure everything is valid and you get a

00:10:17,209 --> 00:10:24,019
useable compiler at the end so instead

00:10:20,449 --> 00:10:26,959
we use X pi which is just this Python

00:10:24,019 --> 00:10:29,239
script that's included in the repo and

00:10:26,959 --> 00:10:31,879
it weirds a little bit like cargo you've

00:10:29,239 --> 00:10:34,819
got check build test and dock it has its

00:10:31,879 --> 00:10:37,040
own set of documentation but it works Li

00:10:34,819 --> 00:10:39,559
the same and like I said there's also

00:10:37,040 --> 00:10:41,629
stages because it kind of builds itself

00:10:39,559 --> 00:10:44,480
so depending on what you're working on

00:10:41,629 --> 00:10:47,480
you can kind of skip the last build and

00:10:44,480 --> 00:10:50,809
work on stage one or sometimes you need

00:10:47,480 --> 00:10:54,410
to work on stage two so you know just

00:10:50,809 --> 00:10:55,999
kind of if you're if you wonder what

00:10:54,410 --> 00:10:57,920
you're working if you wonder which one

00:10:55,999 --> 00:10:59,629
you need talk to someone on the compiler

00:10:57,920 --> 00:11:04,970
team they'll fly point you in the right

00:10:59,629 --> 00:11:06,439
direction fire there are so many issues

00:11:04,970 --> 00:11:08,540
you can encounter when you're out

00:11:06,439 --> 00:11:10,189
sailing the rough sea when you've found

00:11:08,540 --> 00:11:12,110
your own issue and your dev environment

00:11:10,189 --> 00:11:15,170
is all set up you're almost ready to

00:11:12,110 --> 00:11:16,850
start writing code at that point you've

00:11:15,170 --> 00:11:17,990
probably read through the issue make

00:11:16,850 --> 00:11:19,549
sure you know the problem you're trying

00:11:17,990 --> 00:11:21,889
to solve and ask questions if there's

00:11:19,549 --> 00:11:23,869
anything you're unclear on asking

00:11:21,889 --> 00:11:25,850
questions either on the issue or in the

00:11:23,869 --> 00:11:28,160
team channel or the most likely spots to

00:11:25,850 --> 00:11:29,389
get answers if you're working with

00:11:28,160 --> 00:11:31,129
somewhere I've been talking with the

00:11:29,389 --> 00:11:34,730
team you may ask questions somewhere

00:11:31,129 --> 00:11:36,079
else or work with a mentor directly just

00:11:34,730 --> 00:11:38,929
ask the team with their preferences

00:11:36,079 --> 00:11:41,600
let's walk through an example and see

00:11:38,929 --> 00:11:44,360
about exploring the code and adding our

00:11:41,600 --> 00:11:46,839
own contribution to it so panic bit

00:11:44,360 --> 00:11:49,129
filed an issue that they wanted to see

00:11:46,839 --> 00:11:53,419
re-exported crates and create items in

00:11:49,129 --> 00:11:55,970
line and Russ doc this code would

00:11:53,419 --> 00:11:59,959
display foo as if it were a module in

00:11:55,970 --> 00:12:02,269
the docs this code would inline the

00:11:59,959 --> 00:12:05,209
re-exported items as if you were a

00:12:02,269 --> 00:12:07,350
module in Whiting takes the items from

00:12:05,209 --> 00:12:10,200
one location and duplicates their

00:12:07,350 --> 00:12:12,870
documentation in other location Rostock

00:12:10,200 --> 00:12:16,380
code lives in the compiler repo in

00:12:12,870 --> 00:12:18,120
source / with roughstock we can find the

00:12:16,380 --> 00:12:20,340
existing code for how crates and

00:12:18,120 --> 00:12:22,190
exported items are currently handled and

00:12:20,340 --> 00:12:24,990
then changed it how we want it to be

00:12:22,190 --> 00:12:26,790
from a high level we know Russ talk

00:12:24,990 --> 00:12:29,700
walks through the generated abstract

00:12:26,790 --> 00:12:32,970
syntax tree and then Queens up the ast

00:12:29,700 --> 00:12:35,010
to remove duplications this is where the

00:12:32,970 --> 00:12:37,350
implementation for how the docs should

00:12:35,010 --> 00:12:40,880
be generated lives let's look at the

00:12:37,350 --> 00:12:40,880
section of code for crates and crates

00:12:43,730 --> 00:12:48,240
this section of code currently Queen's

00:12:46,290 --> 00:12:51,090
up the extern crate and returns a single

00:12:48,240 --> 00:12:52,950
external a.m. our implementation for

00:12:51,090 --> 00:12:55,530
showing the exported crate and items

00:12:52,950 --> 00:12:58,170
needs to go and sign the clean trade

00:12:55,530 --> 00:13:00,360
function for an extern crate we know

00:12:58,170 --> 00:13:02,160
that we may return multiple items since

00:13:00,360 --> 00:13:05,100
there are many items that can be

00:13:02,160 --> 00:13:08,520
exported from a crate we want to add the

00:13:05,100 --> 00:13:10,650
items names to a please inline list if

00:13:08,520 --> 00:13:14,190
we have the dock inline attribute above

00:13:10,650 --> 00:13:16,440
the item we want to iterate through our

00:13:14,190 --> 00:13:18,120
items and if the item is in the poison

00:13:16,440 --> 00:13:22,920
line list we want to try to inline that

00:13:18,120 --> 00:13:26,370
item luckily we saw there's a try inline

00:13:22,920 --> 00:13:28,470
function there are certain situations

00:13:26,370 --> 00:13:30,060
where an item can't be inlined either

00:13:28,470 --> 00:13:32,970
it's local or we're not going to

00:13:30,060 --> 00:13:34,530
generate it for a page etc so we need to

00:13:32,970 --> 00:13:38,580
take that into account when solving this

00:13:34,530 --> 00:13:40,980
problem the logic ends up looking

00:13:38,580 --> 00:13:42,570
something like this if there's a pub on

00:13:40,980 --> 00:13:47,280
the extern create statement start

00:13:42,570 --> 00:13:50,730
looking through the attributes if

00:13:47,280 --> 00:13:52,320
there's a dock attribute above a

00:13:50,730 --> 00:13:55,170
statement we'll look through the

00:13:52,320 --> 00:13:57,090
parenthesized list then if there's an

00:13:55,170 --> 00:14:01,980
inline in that parenthesized wist will

00:13:57,090 --> 00:14:04,620
try to inline that item in the if pwease

00:14:01,980 --> 00:14:07,010
inline block if we found the dock inline

00:14:04,620 --> 00:14:10,110
attribute will try to inline that item

00:14:07,010 --> 00:14:11,370
we'll need to have an empty hash set for

00:14:10,110 --> 00:14:22,339
try inline

00:14:11,370 --> 00:14:22,339
Oh technical difficulties

00:14:27,200 --> 00:14:35,420
I didn't see what it was we need an

00:14:32,810 --> 00:14:37,639
empty hash set for try in line we also

00:14:35,420 --> 00:14:39,740
need a def which the compiler uses to

00:14:37,639 --> 00:14:42,110
identify items in crates it compiles

00:14:39,740 --> 00:14:45,139
this one corresponds to the root of the

00:14:42,110 --> 00:14:47,449
crate we're importing try in line

00:14:45,139 --> 00:14:49,399
returns an option if it returns the

00:14:47,449 --> 00:14:51,589
crates items use that instead of the

00:14:49,399 --> 00:14:54,649
extern crate item which we would

00:14:51,589 --> 00:14:56,570
otherwise return later on the function

00:14:54,649 --> 00:14:58,730
signature also changes a little bit here

00:14:56,570 --> 00:15:01,220
instead of returning a single item the

00:14:58,730 --> 00:15:03,949
crate we might return the crate and the

00:15:01,220 --> 00:15:05,600
items exported from the crate so we did

00:15:03,949 --> 00:15:09,800
a few changes to allow us to return a

00:15:05,600 --> 00:15:11,480
vector of items back where this function

00:15:09,800 --> 00:15:16,820
is called reira placed our previous use

00:15:11,480 --> 00:15:18,260
of math with flat map and we changed the

00:15:16,820 --> 00:15:21,560
imple queen-to-be

00:15:18,260 --> 00:15:25,070
to allow us to return a vector of items

00:15:21,560 --> 00:15:28,160
instead of a singular item we also use

00:15:25,070 --> 00:15:30,380
the Beck macro to wrap the extra and

00:15:28,160 --> 00:15:35,510
create item array we originally returned

00:15:30,380 --> 00:15:38,600
when we weren't in mining but we aren't

00:15:35,510 --> 00:15:40,490
done yet we also need to add some new

00:15:38,600 --> 00:15:42,230
crates to test the code we just wrote

00:15:40,490 --> 00:15:45,320
and write some docs to make sure that

00:15:42,230 --> 00:15:46,579
users can verify this works and so that

00:15:45,320 --> 00:15:49,699
they know how to use it for their rest

00:15:46,579 --> 00:15:55,339
code we add a sample case to the test

00:15:49,699 --> 00:15:56,810
suite the raw stock tests are a little

00:15:55,339 --> 00:15:58,279
special compared to the rest of the

00:15:56,810 --> 00:16:01,130
compiler so we're not going to get into

00:15:58,279 --> 00:16:03,290
the details of how these tests work we

00:16:01,130 --> 00:16:05,570
do have a companion blog post on both of

00:16:03,290 --> 00:16:07,250
our blogs full of links to where you can

00:16:05,570 --> 00:16:09,310
read more about those if you're

00:16:07,250 --> 00:16:09,310
interested

00:16:10,150 --> 00:16:15,100
so now that we figured out the issue

00:16:12,610 --> 00:16:17,380
solves it and made our docks in line the

00:16:15,100 --> 00:16:19,300
externals we need to let the Islanders

00:16:17,380 --> 00:16:20,950
know so that they can tell everyone else

00:16:19,300 --> 00:16:22,930
about the new feature I'll make sure

00:16:20,950 --> 00:16:24,130
everything stays shipshape how do we

00:16:22,930 --> 00:16:26,440
notify the Islanders

00:16:24,130 --> 00:16:28,510
I'll show you we sometimes call these

00:16:26,440 --> 00:16:29,740
broadcasts to pull so we'll need to

00:16:28,510 --> 00:16:32,560
write a letter called the pull request

00:16:29,740 --> 00:16:34,720
or a PR so we can ask them to pull about

00:16:32,560 --> 00:16:37,150
our expedition oh I know about those

00:16:34,720 --> 00:16:39,910
from my other adventures great this

00:16:37,150 --> 00:16:42,490
should be a breeze then so when you were

00:16:39,910 --> 00:16:44,470
creating a pull request we want to talk

00:16:42,490 --> 00:16:47,380
about the issues we were looking for and

00:16:44,470 --> 00:16:49,210
solving and how we solved it so you may

00:16:47,380 --> 00:16:51,820
want to link to the particular issue

00:16:49,210 --> 00:16:53,800
that you're fixing if there is one here

00:16:51,820 --> 00:16:55,920
our issue was about inlining extern

00:16:53,800 --> 00:16:58,150
crates on the sea near parser island

00:16:55,920 --> 00:16:59,740
when we looked into it we found the

00:16:58,150 --> 00:17:01,390
extern crates and they're exported

00:16:59,740 --> 00:17:02,950
functions were not yet being shown as

00:17:01,390 --> 00:17:05,980
modules in our generative rust

00:17:02,950 --> 00:17:08,679
documentation so to add this feature we

00:17:05,980 --> 00:17:11,860
implement a crane for extra and create

00:17:08,679 --> 00:17:13,300
items and to make sure it stays first we

00:17:11,860 --> 00:17:15,010
put in a check to make sure that our

00:17:13,300 --> 00:17:16,809
documentation generated the way we would

00:17:15,010 --> 00:17:21,490
expect that should keep the dachshund

00:17:16,809 --> 00:17:24,130
happy yeah so now that we have the PR

00:17:21,490 --> 00:17:26,079
written up let's send it off they might

00:17:24,130 --> 00:17:28,929
write back to ask for more details or to

00:17:26,079 --> 00:17:30,580
go back and tweak the fix but if they

00:17:28,929 --> 00:17:31,420
like it they'll run it through a machine

00:17:30,580 --> 00:17:33,070
called bourse

00:17:31,420 --> 00:17:35,020
to pull it out to all of the islands

00:17:33,070 --> 00:17:38,920
it's also possible to turn it down

00:17:35,020 --> 00:17:40,570
oh no problem not every PR will land but

00:17:38,920 --> 00:17:41,980
it's still a contribution of your time

00:17:40,570 --> 00:17:43,780
and knowledge and walking away from

00:17:41,980 --> 00:17:46,240
every contribution teaches you something

00:17:43,780 --> 00:17:47,350
new it's awesome to get code in but

00:17:46,240 --> 00:17:51,160
you're always going to walk away with

00:17:47,350 --> 00:17:52,420
some sort of contribution now that you

00:17:51,160 --> 00:17:53,830
have you for a sex petition under your

00:17:52,420 --> 00:17:55,750
belt what do you think of life on the

00:17:53,830 --> 00:17:59,010
rest see it looks like it's a pirate's

00:17:55,750 --> 00:17:59,010
life for me yeah

00:17:59,740 --> 00:18:03,829
[Applause]

00:18:05,540 --> 00:18:09,290
thanks for coming again if you want to

00:18:08,010 --> 00:18:11,520
read even more about how to contribute

00:18:09,290 --> 00:18:14,190
like Jay said we have a companion blog

00:18:11,520 --> 00:18:16,320
post on both of our blogs that goes into

00:18:14,190 --> 00:18:18,030
more detail about the workflow there's

00:18:16,320 --> 00:18:20,010
also a great guide that the compiler

00:18:18,030 --> 00:18:21,660
team has put together about all the ins

00:18:20,010 --> 00:18:23,910
and outs of the compiler how to build at

00:18:21,660 --> 00:18:27,090
how testing works and way more that's

00:18:23,910 --> 00:18:29,880
the third link there I've also put the

00:18:27,090 --> 00:18:31,770
link to the compiler repo itself as well

00:18:29,880 --> 00:18:33,090
as the discord where mini where a lot of

00:18:31,770 --> 00:18:34,790
the teams hang out and the zoo look

00:18:33,090 --> 00:18:39,440
where a lot more of the teams hang out

00:18:34,790 --> 00:18:43,250
so thanks again we hope you all enjoyed

00:18:39,440 --> 00:18:56,539
[Applause]

00:18:43,250 --> 00:18:56,539

YouTube URL: https://www.youtube.com/watch?v=KJ-V2BOtZnM


