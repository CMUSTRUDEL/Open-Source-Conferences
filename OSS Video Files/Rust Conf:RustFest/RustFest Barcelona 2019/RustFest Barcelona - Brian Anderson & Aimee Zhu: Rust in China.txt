Title: RustFest Barcelona - Brian Anderson & Aimee Zhu: Rust in China
Publication date: 2019-11-26
Playlist: RustFest Barcelona 2019
Description: 
	Rust in China is a different thing than Rust here. Itâ€™s almost unimaginable. This is a field report from inside a Chinese software company building on Rust.

https://barcelona.rustfest.eu/sessions/rust-in-china
Captions: 
	00:00:05,130 --> 00:00:06,130
BRIAN: Thank you.

00:00:06,130 --> 00:00:11,340
This is a talk about what's going on in China, at least with respect to Rust.

00:00:11,340 --> 00:00:15,440
Here we have a link to the presentation materials.

00:00:15,440 --> 00:00:17,770
You might want to go check out that link.

00:00:17,770 --> 00:00:22,579
We have far more content than we will fit into this talk and we are going to go really

00:00:22,579 --> 00:00:23,579
fast.

00:00:23,579 --> 00:00:30,320
If you want to follow up on any of the material, there's lots of links that you can click on.

00:00:30,320 --> 00:00:36,010
My name is Brian, I have been doing Rust since 2010.

00:00:36,010 --> 00:00:40,680
I used to work at Mozilla where I was on the core team before there was a core team and

00:00:40,680 --> 00:00:47,040
right now I work at PingCAP, a Chinese company that builds a distributed database in Rust.

00:00:47,040 --> 00:00:48,040
And go.

00:00:48,040 --> 00:00:51,940
AIMEE: Hi, I'm Aimee again.

00:00:51,940 --> 00:00:57,250
Our team is building the permissionless blockchain network.

00:00:57,250 --> 00:01:03,430
Also I created a blockchain monthly newsletter earlier this year and we are also organised

00:01:03,430 --> 00:01:10,810
RustCon Asia this year in April and it's the first Rust conference in China.

00:01:10,810 --> 00:01:14,109
BRIAN: Thanks, Aimee.

00:01:14,109 --> 00:01:17,329
Okay, so here is the thesis of this talk.

00:01:17,329 --> 00:01:19,880
Rust is not a success in China.

00:01:19,880 --> 00:01:21,810
It's a huge bummer.

00:01:21,810 --> 00:01:28,490
That's not to say that Rust is a failure in China, but the adoption is pretty low, lower

00:01:28,490 --> 00:01:32,799
than you might expect, and awareness is also low among engineers.

00:01:32,799 --> 00:01:36,969
All right, here is what we are going to talk about a bit.

00:01:36,969 --> 00:01:41,509
We are going to show you some of the production users, of which there are some that you will

00:01:41,509 --> 00:01:47,670
know in China and some of what they are doing and some of the interesting contributions

00:01:47,670 --> 00:01:49,729
they are making to the Rust community.

00:01:49,729 --> 00:01:55,679
We will talk about the obstacles that Rust is facing toward adoption in China.

00:01:55,679 --> 00:02:01,179
Then we will highlight some of the accomplishments of the Rust community in China and finally

00:02:01,179 --> 00:02:07,679
a little bit about the future of Rust and some of the potential solutions to Rust's

00:02:07,679 --> 00:02:10,160
obstacles in China.

00:02:10,160 --> 00:02:15,530
During this talk I will probably make some generalisations of the form like: China being

00:02:15,530 --> 00:02:17,200
like this, we'd be like this.

00:02:17,200 --> 00:02:20,170
I know that's kind of risky and horrible.

00:02:20,170 --> 00:02:24,530
I don't like a generalisation but it's a useful rhetorical device.

00:02:24,530 --> 00:02:28,670
I hope I don't offend anybody.

00:02:28,670 --> 00:02:34,580
This patronising slide is to reinforce and remind you how important the Chinese market

00:02:34,580 --> 00:02:36,310
is.

00:02:36,310 --> 00:02:37,310
China is huge.

00:02:37,310 --> 00:02:40,090
There are a lot of people in China.

00:02:40,090 --> 00:02:44,970
This is a vacation slide, me and Alex from the core team.

00:02:44,970 --> 00:02:48,860
We visited China in 2017.

00:02:48,860 --> 00:02:52,760
The guy in the middle there is a guy named Tenex from PingCAP, the company that I work

00:02:52,760 --> 00:03:01,350
for now, and that company was also the first Rust production user in China.

00:03:01,350 --> 00:03:04,140
Not really a vacation; that was work.

00:03:04,140 --> 00:03:08,910
Okay, now Aimee is going to tell you a little bit about what is going on in the world of

00:03:08,910 --> 00:03:13,890
Chinese Rust production users.

00:03:13,890 --> 00:03:25,180
AIMEE: As you can see from the logos here, Alibaba, Baidu, very big companies in China,

00:03:25,180 --> 00:03:27,620
they have different projects.

00:03:27,620 --> 00:03:38,210
One interesting project in Alibaba is they generate target image-focused advertisements

00:03:38,210 --> 00:03:52,240
but also they are doing secure computing research and that is they use Rust as a cloud service

00:03:52,240 --> 00:03:53,240
layer.

00:03:53,240 --> 00:04:02,610
There are a lot of - some other very popular apps like bilibili, a video platform, PingCAP

00:04:02,610 --> 00:04:14,930
database company, and also the two Chinese characters, in China they use Rust for the

00:04:14,930 --> 00:04:21,150
search engine and also some other blockchain companies; imToken, on the very left, that's

00:04:21,150 --> 00:04:33,650
a blockchain wallet and that is where I was working at and SparkPool

00:04:33,650 --> 00:04:36,090
is the biggest mining pool.

00:04:36,090 --> 00:04:37,450
Most projects are open source.

00:04:37,450 --> 00:04:41,760
You can check the GitHub for all the stuff here.

00:04:41,760 --> 00:04:51,890
And Nervos, where I work at, they have a virtual machine and CKB is a base layer of the blockchain.

00:04:51,890 --> 00:04:59,990
Muta is another framework for building other blockchains and PingCAP, where Brian works,

00:04:59,990 --> 00:05:16,570
they have a lot of web hosts with the distributed secure database, and that's all from my side.

00:05:16,570 --> 00:05:37,970
BRIAN: Okay, so Aimee showed you that slide of prominent Rust production users in China.

00:05:37,970 --> 00:05:45,450
I want to emphasise that that is all of the Rust production users in China, and we kind

00:05:45,450 --> 00:05:48,990
of scoured the Internet for them last night.

00:05:48,990 --> 00:05:53,210
Some of those are really prominent companies, and it's really exciting that they are using

00:05:53,210 --> 00:05:57,130
Rust, but they are mostly using them - the big companies on that slide are mostly using

00:05:57,130 --> 00:06:03,110
them in a fairly small way, but at least there's that awareness in those companies.

00:06:03,110 --> 00:06:11,300
Those big companies like Alibaba are going to drive it.

00:06:11,300 --> 00:06:21,870
Unfortunately, I can't really talk about this without at least acknowledging the Great Firewall.

00:06:21,870 --> 00:06:24,389
You've probably heard of the Great Firewall.

00:06:24,389 --> 00:06:28,050
It impacts everything in China.

00:06:28,050 --> 00:06:33,240
Your life is digital these days and the Great Firewall just reaches into that digital life

00:06:33,240 --> 00:06:36,360
in every conceivable way.

00:06:36,360 --> 00:06:40,550
You've surely heard about the Great Firewall and what it does, but unless you've actually

00:06:40,550 --> 00:06:47,889
been in mainland China you probably don't really feel it in your bones, what the GFW

00:06:47,889 --> 00:06:49,320
does to you.

00:06:49,320 --> 00:06:55,810
I can't really tell you what the GFW actually is because it's a very complex thing but essentially

00:06:55,810 --> 00:07:00,949
there is an Internet in China and it works great.

00:07:00,949 --> 00:07:06,449
And there is the Internet that we all know outside of China, and it is utterly broken.

00:07:06,449 --> 00:07:14,389
Almost every service that I use personally, as soon as I enter China, just stops working.

00:07:14,389 --> 00:07:21,570
The big impact that this has - it has many impacts on Rust engineers in China, but the

00:07:21,570 --> 00:07:31,680
really big, horrible one that it has is that the Rust Toolset does not work in China.

00:07:31,680 --> 00:07:34,740
Rustup and cargo, the things that you take for granted and everybody loves, that makes

00:07:34,740 --> 00:07:38,729
Rust so easy to use, they literally don't work in China.

00:07:38,729 --> 00:07:44,650
If you go to the website and follow the instructions that we give everybody - like, this is how

00:07:44,650 --> 00:07:51,010
you use Rust - it honestly is not going to work for your newbie Rust user that is excitedly

00:07:51,010 --> 00:07:53,009
trying to onboard themselves to Rust.

00:07:53,009 --> 00:07:57,330
What's probably going to happen is that either rustup is going to fail to download a toolchain

00:07:57,330 --> 00:08:02,400
from the Rust distribution servers or that cargo will fail to download packages from

00:08:02,400 --> 00:08:05,250
crates.io.

00:08:05,250 --> 00:08:09,070
Obviously this is a really, really horrible story and your first experience with Rust

00:08:09,070 --> 00:08:13,900
is going to be a disaster if you are in China.

00:08:13,900 --> 00:08:23,990
Fortunately, the Rust community in China is doing the best they can and the University

00:08:23,990 --> 00:08:30,290
of Science and Technology of China has a user group there that has created mirrors for crates.io

00:08:30,290 --> 00:08:35,849
and mirrors for rustup, so if you know what to do and you know the right people and they

00:08:35,849 --> 00:08:43,770
hand you the secret documents then you can figure out how to use Rust in China, but in

00:08:43,770 --> 00:08:48,690
a lot of ways the Rust community in China is like a secret society.

00:08:48,690 --> 00:08:54,370
You can't go to the Rust website and figure out how to be inducted into the Rust community.

00:08:54,370 --> 00:08:59,210
You've got to have somebody tell you how to use Rust and where to find the other people

00:08:59,210 --> 00:09:07,110
that use Rust, and another reason why the community is like a secret society is because

00:09:07,110 --> 00:09:10,960
of the way communities are organised and communicate in China.

00:09:10,960 --> 00:09:17,770
Again, like the GFW, you have probably heard of WeChat which is the social media app in

00:09:17,770 --> 00:09:21,790
China, but it's much more than that, it's basically the tool that runs your life in

00:09:21,790 --> 00:09:22,790
China.

00:09:22,790 --> 00:09:28,750
You use it for instant messaging, for group chats, to make almost all your payments in

00:09:28,750 --> 00:09:34,800
China and you even use it to order your food at the restaurant.

00:09:34,800 --> 00:09:41,380
Everything happens through WeChat and this has two really big, negative consequences

00:09:41,380 --> 00:09:44,339
for organising a community in China.

00:09:44,339 --> 00:09:50,060
The first is that WeChat groups are private and invitation only, so again you go to the

00:09:50,060 --> 00:09:55,750
Rust website and as a Chinese user you try to figure out: where do I go get help?

00:09:55,750 --> 00:10:00,899
You probably see that you are ushered towards Discord or something like that and maybe you

00:10:00,899 --> 00:10:03,089
go there and it doesn't work.

00:10:03,089 --> 00:10:06,650
Certainly you go to Discord and don't find anybody that speaks Chinese.

00:10:06,650 --> 00:10:11,860
What you really need to do to get help is again to find somebody else who is already

00:10:11,860 --> 00:10:17,270
part of the Rust community and have them tell you the secret that: oh, you need to be invited

00:10:17,270 --> 00:10:20,810
to this WeChat group and then you can get help.

00:10:20,810 --> 00:10:28,060
The second way that WeChat really negatively impacts adoption in China is that WeChat groups

00:10:28,060 --> 00:10:34,670
are limited to 500 people, so in a real practical sense this means that the Chinese community

00:10:34,670 --> 00:10:39,210
for Rust is made of 500 people.

00:10:39,210 --> 00:10:44,670
In practice, we have attentive moderators and when one room fills up they will create

00:10:44,670 --> 00:10:51,230
Rust group 2, 3, 4, but this just creates disjointed Rust communities of people and

00:10:51,230 --> 00:10:53,240
it's a huge problem.

00:10:53,240 --> 00:11:01,210
I would like to say something about engineering culture, but my ideas there are vague and

00:11:01,210 --> 00:11:04,770
I don't really have a lot of time, but again I will be around, you can ask me questions

00:11:04,770 --> 00:11:05,770
later.

00:11:05,770 --> 00:11:09,220
I am going to move on.

00:11:09,220 --> 00:11:15,430
It feels like something went wrong in China with Rust adoption and that we could have

00:11:15,430 --> 00:11:21,550
done better.

00:11:21,550 --> 00:11:26,320
I can say more about this, but in the interests of time I need to move on to the next part

00:11:26,320 --> 00:11:31,180
where we talk about the good things that are happening in Rust.

00:11:31,180 --> 00:11:35,840
So Aimee is going to talk a little bit about what the Rust community is doing that is so

00:11:35,840 --> 00:11:36,840
great.

00:11:36,840 --> 00:11:39,870
AIMEE: Thank you again.

00:11:39,870 --> 00:11:49,649
There are many problems already like officialdom or whatever can also bar the local Chinese

00:11:49,649 --> 00:11:51,640
team, but it's fun.

00:11:51,640 --> 00:11:58,110
We also have a local amenity who are doing a lot of effort to make the community grow.

00:11:58,110 --> 00:12:04,600
I would like to highlight Alex Zhang and Mike Tang.

00:12:04,600 --> 00:12:13,190
Alex even wrote a book about Rust programming, Mike runs almost all the Rust groups in China

00:12:13,190 --> 00:12:23,490
and they also run rust.cc which is all about the programming language and they use that

00:12:23,490 --> 00:12:28,391
forum to share all the things with the community.

00:12:28,391 --> 00:12:34,959
They also organise a team who translate Rust language official website to Chinese.

00:12:34,959 --> 00:12:40,830
Thanks for all the members here and we also organised the RustCon Asia this year, the

00:12:40,830 --> 00:12:49,310
first in China, we had one day of keynote talks and two full days of workshops with

00:12:49,310 --> 00:12:52,950
about 300 attendees there.

00:12:52,950 --> 00:12:59,500
It was a great time and we are also asking for support for the next conference.

00:12:59,500 --> 00:13:00,760
Brian.

00:13:00,760 --> 00:13:05,820
BRIAN: Thank you, Aimee.

00:13:05,820 --> 00:13:10,760
I want to emphasise that Aimee organised that entire conference this year, and it really

00:13:10,760 --> 00:13:14,680
went well.

00:13:14,680 --> 00:13:23,230
[Applause] Okay, so in the last minute here I want to

00:13:23,230 --> 00:13:27,440
talk a little bit about some of those problems and the solutions and what we expect to see

00:13:27,440 --> 00:13:28,460
in the future.

00:13:28,460 --> 00:13:34,700
Like I said, it's tempting to believe that somebody over here screwed up when we see

00:13:34,700 --> 00:13:40,550
the low adoption and awareness of Rust in China, but the more that I talk to engineers

00:13:40,550 --> 00:13:47,270
and I experience the Rust community in China, the more I realise that every individual local

00:13:47,270 --> 00:13:52,700
community is unique and has its own unique problems, and it's kind of impossible for

00:13:52,700 --> 00:13:57,550
me to come in and say: well, you shouldn't be using WeChat because the fact of the matter

00:13:57,550 --> 00:14:02,320
is WeChat is where the people are in China and you've going to where the people are,

00:14:02,320 --> 00:14:11,050
so WeChat, for example, poses a lot of problems to community building but also you've got

00:14:11,050 --> 00:14:14,260
to be on WeChat because that's where people expect you to be.

00:14:14,260 --> 00:14:18,990
So it's really up to the Chinese Rust community to figure out those kind of communication

00:14:18,990 --> 00:14:22,120
and organisational issues.

00:14:22,120 --> 00:14:30,350
I expect that Rust adoption in China will continue to be led by a few companies and,

00:14:30,350 --> 00:14:36,290
as we see, the companies like Alibaba and Baidu use Rust more and more they will sort

00:14:36,290 --> 00:14:42,740
of build confidence in the engineers in China that Rust is a language worth learning and

00:14:42,740 --> 00:14:45,329
worth adopting.

00:14:45,329 --> 00:14:53,160
I really would love for somebody to step up and fix cargo and rustup and this is the one

00:14:53,160 --> 00:14:57,110
big technical thing that is really on the team to fix.

00:14:57,110 --> 00:15:02,360
This involves infrastructure issues, it involves legal issues, and somebody really has to do

00:15:02,360 --> 00:15:06,860
hard work to make that happen, but in order for people to use your product, the product

00:15:06,860 --> 00:15:08,980
has got to work.

00:15:08,980 --> 00:15:13,230
All right, I think I'm going to wrap up now.

00:15:13,230 --> 00:15:16,690
Again, link is on the slides.

00:15:16,690 --> 00:15:19,100
We have much more that we can possibly talk about Rust in China.

00:15:19,100 --> 00:15:22,840
If you want to talk to us, come and find us in the hallway track.

00:15:22,840 --> 00:15:27,050
We will take no questions right now because we are running late.

00:15:27,050 --> 00:15:28,050
Please enjoy your lunch.

00:15:28,050 --> 00:15:28,279

YouTube URL: https://www.youtube.com/watch?v=j_ha1-1w6sw


