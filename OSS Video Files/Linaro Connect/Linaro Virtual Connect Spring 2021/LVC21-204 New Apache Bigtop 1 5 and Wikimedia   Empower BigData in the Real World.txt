Title: LVC21-204 New Apache Bigtop 1 5 and Wikimedia   Empower BigData in the Real World
Publication date: 2021-04-15
Playlist: Linaro Virtual Connect Spring 2021
Description: 
	Bigtop is the Apache project for Infrastructure Engineers and Data Scientists who is looking for packaging, testing, and configuration of the open-source Big Data components.Â 

Its latest version 1.5.0 has been released in Dec 2020 and more fully supports Arm64 as a Big Data stack. 

From a real-world use case of Bigtop, the Analytics/Data-Engineering team at the Wikimedia Foundation has been collaborating with the project to move from its Cloudera CDH 5.x Hadoop distribution to Apache Bigtop. 

In this session, the speakers provides an overview of new features implementation, the recent upgrade and some basic usages from users' point of view. 
On the other hand, it's not easy to move away from CDH in the Wikimedia ecosystem where several tools gravitate around Hadoop-related projects. Then the co-speakers will also give a brief introduction of the work done with upstream to support the Wikimedia's use case and the migration/upgrade plan devised.
Captions: 
	00:00:02,639 --> 00:00:06,000
hi

00:00:03,360 --> 00:00:07,600
good morning uh good afternoon everyone

00:00:06,000 --> 00:00:10,800
welcome to this virtual

00:00:07,600 --> 00:00:14,000
online session and in this talk

00:00:10,800 --> 00:00:17,359
um will be presented by luca and

00:00:14,000 --> 00:00:21,119
yuki who are from wikimedia and

00:00:17,359 --> 00:00:24,960
uh let me introduce myself first

00:00:21,119 --> 00:00:29,359
my name is yuki gup i am

00:00:24,960 --> 00:00:32,960
the liaro assignee and work on art

00:00:29,359 --> 00:00:36,160
i am the committer and the pmc member

00:00:32,960 --> 00:00:39,520
of apache big top in r

00:00:36,160 --> 00:00:42,719
i'm mainly focused on enable

00:00:39,520 --> 00:00:46,000
and optimize the data science stacks

00:00:42,719 --> 00:00:49,039
i'm 64 in this session

00:00:46,000 --> 00:00:50,879
firstly i'd like to provide the overview

00:00:49,039 --> 00:00:54,239
of the top

00:00:50,879 --> 00:00:57,760
them were introduced to new features

00:00:54,239 --> 00:00:59,120
and implementation and the recent

00:00:57,760 --> 00:01:02,320
upgrade into some

00:00:59,120 --> 00:01:05,600
basic usage from the user's

00:01:02,320 --> 00:01:09,360
point of view and then

00:01:05,600 --> 00:01:12,000
uh luca will give a brief introduction

00:01:09,360 --> 00:01:13,040
after walk down with some stream to

00:01:12,000 --> 00:01:16,400
support

00:01:13,040 --> 00:01:19,600
user media wikimedia's use case

00:01:16,400 --> 00:01:23,759
for the top first of

00:01:19,600 --> 00:01:26,720
all what is the big top big top is the

00:01:23,759 --> 00:01:27,520
apache project for infrastructure

00:01:26,720 --> 00:01:31,119
engineers

00:01:27,520 --> 00:01:33,040
and data scientists who are looking for

00:01:31,119 --> 00:01:36,159
packaging

00:01:33,040 --> 00:01:40,880
testing and configuration

00:01:36,159 --> 00:01:44,799
of open source big data components

00:01:40,880 --> 00:01:49,920
and you know the top

00:01:44,799 --> 00:01:53,119
where can packaged hot topic systems

00:01:49,920 --> 00:01:56,560
to rpm the dipping artifacts

00:01:53,119 --> 00:02:00,240
and petrol pull support over

00:01:56,560 --> 00:02:03,920
25 and how to existing

00:02:00,240 --> 00:02:07,200
components maybe you were asked

00:02:03,920 --> 00:02:10,800
what do people use victim for

00:02:07,200 --> 00:02:14,319
you can download the top to build

00:02:10,800 --> 00:02:17,360
hadoop from website and

00:02:14,319 --> 00:02:20,959
you can have already do

00:02:17,360 --> 00:02:24,800
a distributed apache

00:02:20,959 --> 00:02:28,640
hadoop cluster to test your code

00:02:24,800 --> 00:02:31,840
you can also run apache top smoke test

00:02:28,640 --> 00:02:36,239
to ensure that your cluster is

00:02:31,840 --> 00:02:39,840
working and

00:02:36,239 --> 00:02:42,959
this is the big top future snapshot

00:02:39,840 --> 00:02:45,760
okay for package the big top

00:02:42,959 --> 00:02:47,040
packages you know the the hardware to

00:02:45,760 --> 00:02:50,400
rpms and

00:02:47,040 --> 00:02:53,920
debians to artifacts so that

00:02:50,400 --> 00:02:57,440
you can manage and maintain and deploy

00:02:53,920 --> 00:03:01,440
them to your own cluster

00:02:57,440 --> 00:03:04,959
and for virtualization the top provides

00:03:01,440 --> 00:03:07,920
the background to recipes and raw

00:03:04,959 --> 00:03:09,440
images and the darker recipes of or

00:03:07,920 --> 00:03:12,640
deploying the hadoop

00:03:09,440 --> 00:03:15,920
from zero and the user can

00:03:12,640 --> 00:03:16,640
create a local cluster on virtual

00:03:15,920 --> 00:03:20,239
machines

00:03:16,640 --> 00:03:23,760
virtual machines or containers by

00:03:20,239 --> 00:03:26,799
using the top and

00:03:23,760 --> 00:03:30,840
for deployment and desktop

00:03:26,799 --> 00:03:34,640
also support automatically and deploy

00:03:30,840 --> 00:03:38,400
components using puppets many fats

00:03:34,640 --> 00:03:40,640
provided by the top it's last

00:03:38,400 --> 00:03:41,440
but not least important to use to

00:03:40,640 --> 00:03:44,480
testing

00:03:41,440 --> 00:03:45,200
you know testing is too important and

00:03:44,480 --> 00:03:49,040
bitter

00:03:45,200 --> 00:03:52,799
provides the integrated smog testing

00:03:49,040 --> 00:03:57,519
from work alongside a suit of over

00:03:52,799 --> 00:03:57,519
55 testifies for users

00:03:57,599 --> 00:04:05,360
and this is the status of

00:04:01,200 --> 00:04:08,560
our big top release for xa x64

00:04:05,360 --> 00:04:13,680
and we started to add

00:04:08,560 --> 00:04:18,720
a access for support to the top things

00:04:13,680 --> 00:04:22,160
2018 and in march 2018

00:04:18,720 --> 00:04:26,080
ci nodes were added to the top

00:04:22,160 --> 00:04:29,360
with 2.2 1.2 release

00:04:26,080 --> 00:04:33,280
and in november 2018

00:04:29,360 --> 00:04:36,400
um was officially aided to top support

00:04:33,280 --> 00:04:40,080
matrix with 1.3

00:04:36,400 --> 00:04:43,040
release it made um officially the first

00:04:40,080 --> 00:04:44,320
class citizen with the four armed 64

00:04:43,040 --> 00:04:47,840
support

00:04:44,320 --> 00:04:51,280
from the most advanced dictators

00:04:47,840 --> 00:04:54,400
date to to date

00:04:51,280 --> 00:04:57,759
in april 2019

00:04:54,400 --> 00:05:02,080
um smoke test ci matrix goes

00:04:57,759 --> 00:05:05,600
online in 1.4 release

00:05:02,080 --> 00:05:10,240
and uh for this new 1.5

00:05:05,600 --> 00:05:13,440
release we implemented some new features

00:05:10,240 --> 00:05:17,520
like defining a new top

00:05:13,440 --> 00:05:18,080
and pack also adding the elk to the top

00:05:17,520 --> 00:05:21,440
and

00:05:18,080 --> 00:05:24,639
upgrading some core components

00:05:21,440 --> 00:05:25,360
it helps to support the effective use of

00:05:24,639 --> 00:05:29,520
the

00:05:25,360 --> 00:05:32,560
hardwood ecosystems on the cluster

00:05:29,520 --> 00:05:35,600
and let me give a brief

00:05:32,560 --> 00:05:38,639
introduction to the new features in 1.5

00:05:35,600 --> 00:05:42,080
release first of all is to unpack

00:05:38,639 --> 00:05:45,360
packages means measurement

00:05:42,080 --> 00:05:48,960
packages it defines the set of services

00:05:45,360 --> 00:05:53,680
and the ripples where to obtain

00:05:48,960 --> 00:05:57,199
software packages for those services

00:05:53,680 --> 00:06:00,479
empire could be released as separate

00:05:57,199 --> 00:06:03,759
artifacts for users it is

00:06:00,479 --> 00:06:07,280
convenient for users to select

00:06:03,759 --> 00:06:08,160
different kinds of impact in their

00:06:07,280 --> 00:06:11,680
cluster

00:06:08,160 --> 00:06:12,720
which also includes different software

00:06:11,680 --> 00:06:16,080
services

00:06:12,720 --> 00:06:16,720
in this case we defined the big top and

00:06:16,080 --> 00:06:20,000
packer

00:06:16,720 --> 00:06:24,080
for ar64 service servers

00:06:20,000 --> 00:06:27,520
and it includes some fundamental

00:06:24,080 --> 00:06:32,639
elements like hdfs yam

00:06:27,520 --> 00:06:32,639
zookeeper and metal reduce

00:06:32,880 --> 00:06:36,720
it's the use case after our big top and

00:06:35,520 --> 00:06:40,800
pad to deploy

00:06:36,720 --> 00:06:44,240
dictator software stake by barry okay

00:06:40,800 --> 00:06:46,960
american manager complex and

00:06:44,240 --> 00:06:49,599
large distributed systems of the hadoop

00:06:46,960 --> 00:06:52,960
by simply access the web ui

00:06:49,599 --> 00:06:56,080
we can and the users can access

00:06:52,960 --> 00:06:57,120
this web ui to deploy the hard operated

00:06:56,080 --> 00:07:01,039
projects

00:06:57,120 --> 00:07:04,880
and embarrass web interact with a murray

00:07:01,039 --> 00:07:08,080
server by risk for api and

00:07:04,880 --> 00:07:11,120
virus server ox train to the services um

00:07:08,080 --> 00:07:14,800
and viral agents and this

00:07:11,120 --> 00:07:15,440
the services comes from the software

00:07:14,800 --> 00:07:18,240
stack

00:07:15,440 --> 00:07:18,880
and which defines in our you know the

00:07:18,240 --> 00:07:22,560
top

00:07:18,880 --> 00:07:26,319
and path as this picture show

00:07:22,560 --> 00:07:29,120
you know and users can deploy

00:07:26,319 --> 00:07:30,240
the services they want from the unpack

00:07:29,120 --> 00:07:33,199
to say

00:07:30,240 --> 00:07:33,199
embarrass agent

00:07:33,759 --> 00:07:41,360
okay and it's the

00:07:36,960 --> 00:07:43,919
impact use case and the next is in this

00:07:41,360 --> 00:07:46,160
1.5 release we also add some new

00:07:43,919 --> 00:07:49,199
distributes support to big top

00:07:46,160 --> 00:07:52,879
like diving time ubuntu 18

00:07:49,199 --> 00:07:55,280
fedora 31 and santos a

00:07:52,879 --> 00:07:57,440
and all components are successfully

00:07:55,280 --> 00:08:00,800
deployed on these distros

00:07:57,440 --> 00:08:00,800
for af64

00:08:01,280 --> 00:08:08,240
and we also add elasticsearch

00:08:05,039 --> 00:08:10,160
and lockstage and keybinders to you know

00:08:08,240 --> 00:08:13,280
the elk stack

00:08:10,160 --> 00:08:15,840
to the back top and

00:08:13,280 --> 00:08:17,440
some core you know the components were

00:08:15,840 --> 00:08:20,720
also upgraded

00:08:17,440 --> 00:08:24,560
like hadoop spa gateways

00:08:20,720 --> 00:08:27,599
high cuff current discipline and

00:08:24,560 --> 00:08:31,199
they are over about 19

00:08:27,599 --> 00:08:34,399
you know bug fixes and

00:08:31,199 --> 00:08:37,680
24 improvements and fine

00:08:34,399 --> 00:08:42,399
new features implementation and just

00:08:37,680 --> 00:08:46,080
new release and you can

00:08:42,399 --> 00:08:49,120
if you want know more details you can

00:08:46,080 --> 00:08:52,399
visit our official website okay

00:08:49,120 --> 00:08:55,440
and okay that's all for the part of

00:08:52,399 --> 00:08:56,800
my about what's the talk and it's the

00:08:55,440 --> 00:09:00,000
new features

00:08:56,800 --> 00:09:02,880
the next let's welcome the luca

00:09:00,000 --> 00:09:03,920
who is from wikimedia to share his work

00:09:02,880 --> 00:09:09,120
achievements

00:09:03,920 --> 00:09:11,120
with us thank you

00:09:09,120 --> 00:09:13,279
thanks yuki and hi everybody my name is

00:09:11,120 --> 00:09:15,200
luca and i work as an sre for the

00:09:13,279 --> 00:09:16,800
wikimedia foundation and today i'm here

00:09:15,200 --> 00:09:20,080
to give you an introduction about

00:09:16,800 --> 00:09:20,839
why we migrated to apache big top before

00:09:20,080 --> 00:09:24,320
starting

00:09:20,839 --> 00:09:28,959
uh a few notes about wikimedia

00:09:24,320 --> 00:09:31,279
we are a non-profit us-based foundation

00:09:28,959 --> 00:09:32,640
and that supports a wide variety of

00:09:31,279 --> 00:09:36,000
wiki-based projects

00:09:32,640 --> 00:09:38,080
and the most famous one being wikipedia

00:09:36,000 --> 00:09:40,320
our mission is to provide the

00:09:38,080 --> 00:09:44,080
infrastructure and software stacks

00:09:40,320 --> 00:09:46,800
to people that want to add content

00:09:44,080 --> 00:09:48,800
to these projects for example say adding

00:09:46,800 --> 00:09:52,880
wiki pages to wikipedia

00:09:48,800 --> 00:09:57,040
and modifying them or similar

00:09:52,880 --> 00:10:00,160
and also serve the content

00:09:57,040 --> 00:10:03,200
to anybody on the internet

00:10:00,160 --> 00:10:06,399
for free without running any ads

00:10:03,200 --> 00:10:08,640
our main sustainment

00:10:06,399 --> 00:10:09,440
is our donations from small to big

00:10:08,640 --> 00:10:11,839
donors

00:10:09,440 --> 00:10:13,360
throughout the year we don't run on

00:10:11,839 --> 00:10:17,440
cloud providers

00:10:13,360 --> 00:10:20,640
we run on our own hardware and we try to

00:10:17,440 --> 00:10:21,200
uh strive as much as much as possible

00:10:20,640 --> 00:10:24,959
for

00:10:21,200 --> 00:10:25,680
um strict user privacy uh that includes

00:10:24,959 --> 00:10:28,480
also

00:10:25,680 --> 00:10:29,600
uh trying to retain as few data as

00:10:28,480 --> 00:10:34,959
possible about

00:10:29,600 --> 00:10:34,959
whoever visits our web our websites

00:10:35,040 --> 00:10:38,959
more specifically i am part of the

00:10:37,040 --> 00:10:41,839
analytics engineering team

00:10:38,959 --> 00:10:42,560
and our mission is as written into the

00:10:41,839 --> 00:10:44,880
slide

00:10:42,560 --> 00:10:46,800
empower and support data informed

00:10:44,880 --> 00:10:48,399
decision making across the foundation

00:10:46,800 --> 00:10:51,519
and the community

00:10:48,399 --> 00:10:52,399
more practically this means running the

00:10:51,519 --> 00:10:56,079
infrastructure

00:10:52,399 --> 00:10:59,519
that ingests all the data related to

00:10:56,079 --> 00:11:02,560
that comes from our wiki projects and

00:10:59,519 --> 00:11:07,440
an example could be the http

00:11:02,560 --> 00:11:10,800
visits to all our websites are

00:11:07,440 --> 00:11:14,000
encoded into json

00:11:10,800 --> 00:11:17,519
ingested stored and then processed

00:11:14,000 --> 00:11:18,560
into um for the creation of for example

00:11:17,519 --> 00:11:20,959
data sets

00:11:18,560 --> 00:11:23,040
or to allow people to to query the data

00:11:20,959 --> 00:11:26,720
and explore it

00:11:23,040 --> 00:11:30,079
the data that we provide is used from

00:11:26,720 --> 00:11:33,360
people within the foundation um

00:11:30,079 --> 00:11:35,440
or also to it is also published for

00:11:33,360 --> 00:11:36,240
people outside the foundation an example

00:11:35,440 --> 00:11:40,240
could be

00:11:36,240 --> 00:11:40,800
um and based in italy and in italy there

00:11:40,240 --> 00:11:43,600
is

00:11:40,800 --> 00:11:45,519
a specific wikimedia chapter that is

00:11:43,600 --> 00:11:48,800
related to

00:11:45,519 --> 00:11:49,760
more the italian ecosystem ecosystems

00:11:48,800 --> 00:11:53,040
about

00:11:49,760 --> 00:11:55,120
italian wikipedia etc etc and

00:11:53,040 --> 00:11:56,399
they may want to have specific

00:11:55,120 --> 00:11:59,760
informations about

00:11:56,399 --> 00:12:02,880
how projects like italian wikipedia

00:11:59,760 --> 00:12:06,240
are going how many editors

00:12:02,880 --> 00:12:06,720
so all the analytics data that usually

00:12:06,240 --> 00:12:09,360
people

00:12:06,720 --> 00:12:10,079
want and are interested in we try to

00:12:09,360 --> 00:12:13,120
provide it

00:12:10,079 --> 00:12:16,560
to within and

00:12:13,120 --> 00:12:17,360
outside the foundation i put some links

00:12:16,560 --> 00:12:20,800
in here

00:12:17,360 --> 00:12:23,120
if you're interested and

00:12:20,800 --> 00:12:26,320
if you want to reach out to my team feel

00:12:23,120 --> 00:12:28,720
free to uh to check the first link

00:12:26,320 --> 00:12:30,959
we have all the informations related

00:12:28,720 --> 00:12:34,480
about what we manage and what we are

00:12:30,959 --> 00:12:36,399
what i'm going to discuss in a in a bit

00:12:34,480 --> 00:12:39,519
and also there are informations about

00:12:36,399 --> 00:12:40,880
how to reach us if you have questions

00:12:39,519 --> 00:12:42,959
there are other two links that are

00:12:40,880 --> 00:12:44,000
really important related to our privacy

00:12:42,959 --> 00:12:46,399
policy

00:12:44,000 --> 00:12:46,399
that is

00:12:47,279 --> 00:12:50,639
that is basically enforced not only in

00:12:49,839 --> 00:12:52,800
our team but

00:12:50,639 --> 00:12:55,279
globally at the foundation and more

00:12:52,800 --> 00:13:00,079
specifically data retention guidelines

00:12:55,279 --> 00:13:03,279
that we enforce as a consequence of that

00:13:00,079 --> 00:13:05,519
as as previously said we try to

00:13:03,279 --> 00:13:06,320
keep as few data as possible about our

00:13:05,519 --> 00:13:09,279
users and

00:13:06,320 --> 00:13:09,920
if we have to we try to sanitize the

00:13:09,279 --> 00:13:12,240
data

00:13:09,920 --> 00:13:13,120
to avoid storing privacy sensitive

00:13:12,240 --> 00:13:16,000
information

00:13:13,120 --> 00:13:16,000
as much as possible

00:13:16,720 --> 00:13:20,240
as you can imagine we have terabytes of

00:13:19,519 --> 00:13:22,480
data

00:13:20,240 --> 00:13:24,000
that are flowing in every day and

00:13:22,480 --> 00:13:27,519
constantly every hour

00:13:24,000 --> 00:13:29,360
uh we ingest or for example or the http

00:13:27,519 --> 00:13:30,800
visits and all the data that comes from

00:13:29,360 --> 00:13:34,399
the wiki projects

00:13:30,800 --> 00:13:37,839
via kafka and then from kafka

00:13:34,399 --> 00:13:39,360
it goes into hadoop's hdfs that is the

00:13:37,839 --> 00:13:42,160
distributed file system

00:13:39,360 --> 00:13:42,160
and in this case

00:13:42,959 --> 00:13:48,800
it is the left side of the picture

00:13:46,000 --> 00:13:51,040
so data comes into kafka and then goblin

00:13:48,800 --> 00:13:52,959
and kamus are two tools that

00:13:51,040 --> 00:13:54,399
read from kafka and they are able to

00:13:52,959 --> 00:13:57,279
store on

00:13:54,399 --> 00:14:01,040
the distributed file system regularly

00:13:57,279 --> 00:14:03,199
then on the top you can see that we have

00:14:01,040 --> 00:14:04,639
scheduling tools uh those are apache

00:14:03,199 --> 00:14:07,199
airflow and uzi

00:14:04,639 --> 00:14:10,160
and we we use them to basically process

00:14:07,199 --> 00:14:14,240
as data comes in

00:14:10,160 --> 00:14:17,519
process the data as it comes in creating

00:14:14,240 --> 00:14:21,120
derived data sets that we are later on

00:14:17,519 --> 00:14:24,160
uh offering to you to various users

00:14:21,120 --> 00:14:26,720
um on the bottom you can see that we

00:14:24,160 --> 00:14:29,440
have the querying layer composed by hive

00:14:26,720 --> 00:14:30,720
spark and presto those are like an a

00:14:29,440 --> 00:14:34,720
little example about

00:14:30,720 --> 00:14:34,720
tools that we offer to explore the data

00:14:35,040 --> 00:14:38,800
via for example common line on the

00:14:38,160 --> 00:14:40,720
cluster

00:14:38,800 --> 00:14:42,880
and then on the right hand side you can

00:14:40,720 --> 00:14:45,839
see cassandra android

00:14:42,880 --> 00:14:47,600
those are examples of what we call the

00:14:45,839 --> 00:14:51,760
serving layer

00:14:47,600 --> 00:14:54,959
so data sets that are created from our

00:14:51,760 --> 00:14:55,920
scheduling tools are pushed to these

00:14:54,959 --> 00:14:59,120
systems

00:14:55,920 --> 00:15:02,240
and the data is then offered via

00:14:59,120 --> 00:15:03,120
apis in the cassandra case to the public

00:15:02,240 --> 00:15:06,639
internet

00:15:03,120 --> 00:15:07,440
uh via an api called analytics query

00:15:06,639 --> 00:15:11,040
service or

00:15:07,440 --> 00:15:13,519
aqs in the case of druid it is more

00:15:11,040 --> 00:15:15,760
related to internal use cases so data

00:15:13,519 --> 00:15:16,959
exploration tools like superset apache

00:15:15,760 --> 00:15:19,040
superset

00:15:16,959 --> 00:15:20,720
allegro tornillo and also cloud there

00:15:19,040 --> 00:15:24,480
are hue

00:15:20,720 --> 00:15:27,839
all the infrastructure runs on 130 hosts

00:15:24,480 --> 00:15:30,320
all on debian x86 intel based

00:15:27,839 --> 00:15:32,560
as previously said we don't run on cloud

00:15:30,320 --> 00:15:36,320
providers but we have our

00:15:32,560 --> 00:15:37,839
bare metal hardware in various little

00:15:36,320 --> 00:15:41,680
data centers across the

00:15:37,839 --> 00:15:43,759
globe the capabilities of the

00:15:41,680 --> 00:15:45,360
hadoop distributed file system in our

00:15:43,759 --> 00:15:48,800
case are around

00:15:45,360 --> 00:15:52,720
3 petabytes so it is not

00:15:48,800 --> 00:15:52,720
a huge amount but it is also

00:15:53,040 --> 00:15:59,440
a good size um

00:15:56,639 --> 00:16:00,720
and yeah the challenge is uh we ingest a

00:15:59,440 --> 00:16:03,440
lot of terabytes

00:16:00,720 --> 00:16:05,600
daily so we have to process them and

00:16:03,440 --> 00:16:08,560
hadoop is really central to our

00:16:05,600 --> 00:16:10,800
ecosystem so we need uh

00:16:08,560 --> 00:16:11,759
to keep it updated as much as possible

00:16:10,800 --> 00:16:13,839
and we

00:16:11,759 --> 00:16:16,480
we want to have less problem as few

00:16:13,839 --> 00:16:18,880
problems as possible with it

00:16:16,480 --> 00:16:20,959
and as you can see from the list that i

00:16:18,880 --> 00:16:24,160
put in here of commits

00:16:20,959 --> 00:16:26,160
we were using cloudera cdh cdh as

00:16:24,160 --> 00:16:28,880
distribution of our packages

00:16:26,160 --> 00:16:30,880
we were lagging behind the major tools

00:16:28,880 --> 00:16:34,560
for example we were using

00:16:30,880 --> 00:16:37,199
up to some months ago hadoop 2.6.0

00:16:34,560 --> 00:16:38,320
this is very old and a lot of tools are

00:16:37,199 --> 00:16:40,639
starting to

00:16:38,320 --> 00:16:41,680
require more up-to-date versions of

00:16:40,639 --> 00:16:46,320
hadoop

00:16:41,680 --> 00:16:46,880
we we tried to upgrade to cdh6 in the

00:16:46,320 --> 00:16:50,560
past

00:16:46,880 --> 00:16:52,480
but we discovered that they dropped the

00:16:50,560 --> 00:16:55,759
debian support that is the os that we

00:16:52,480 --> 00:16:59,839
use on the majority of our hosts

00:16:55,759 --> 00:17:03,680
so we try to look for alternatives

00:16:59,839 --> 00:17:06,240
and eventually we discover big top

00:17:03,680 --> 00:17:06,799
one of the things that we were trying to

00:17:06,240 --> 00:17:08,480
to look

00:17:06,799 --> 00:17:10,720
into an alternative was a way to

00:17:08,480 --> 00:17:11,600
participate to more directly to the

00:17:10,720 --> 00:17:14,720
community

00:17:11,600 --> 00:17:19,439
uh to the upstream community

00:17:14,720 --> 00:17:23,120
and uh to have a way to influence the

00:17:19,439 --> 00:17:25,919
the directions of the project

00:17:23,120 --> 00:17:28,720
actively just to be clear cloudera

00:17:25,919 --> 00:17:32,080
served us really well over the years

00:17:28,720 --> 00:17:36,480
this was more a desire for more

00:17:32,080 --> 00:17:38,799
openness and and community

00:17:36,480 --> 00:17:40,080
we eventually chose big top we are

00:17:38,799 --> 00:17:42,320
really happy about it

00:17:40,080 --> 00:17:44,320
i'm going to introduce a little bit why

00:17:42,320 --> 00:17:47,280
the major motivations the first one

00:17:44,320 --> 00:17:48,799
is the fact that big top provides hadoop

00:17:47,280 --> 00:17:51,039
packages

00:17:48,799 --> 00:17:52,160
both and this is what i'm trying what i

00:17:51,039 --> 00:17:55,280
tried to depict

00:17:52,160 --> 00:17:56,640
into this picture

00:17:55,280 --> 00:17:58,640
both from the

00:17:56,640 --> 00:18:00,559
[Music]

00:17:58,640 --> 00:18:02,480
release point of view so every now and

00:18:00,559 --> 00:18:05,520
then the project

00:18:02,480 --> 00:18:07,360
releases debian packages for a certain

00:18:05,520 --> 00:18:10,720
version of the distribution

00:18:07,360 --> 00:18:11,280
but also um docker images and this is

00:18:10,720 --> 00:18:14,240
the right

00:18:11,280 --> 00:18:15,039
hand side of the picture with all the

00:18:14,240 --> 00:18:18,960
tools

00:18:15,039 --> 00:18:20,960
needed to rebuild those debian packages

00:18:18,960 --> 00:18:23,840
if needed for example let's say

00:18:20,960 --> 00:18:25,840
somebody wants to add a custom patch

00:18:23,840 --> 00:18:28,640
once you test

00:18:25,840 --> 00:18:30,400
different things there is a security

00:18:28,640 --> 00:18:33,060
patch that was not included

00:18:30,400 --> 00:18:34,320
in the release when it was uh

00:18:33,060 --> 00:18:38,240
[Music]

00:18:34,320 --> 00:18:40,480
at the time that it went out and so

00:18:38,240 --> 00:18:42,559
you want a quick way to to patch the

00:18:40,480 --> 00:18:43,600
data before the distribution has the

00:18:42,559 --> 00:18:47,120
time to

00:18:43,600 --> 00:18:49,120
to catch up all these use cases so it is

00:18:47,120 --> 00:18:51,520
really good to have a way to have

00:18:49,120 --> 00:18:53,280
to override the default packages if

00:18:51,520 --> 00:18:56,400
needed

00:18:53,280 --> 00:19:00,000
the the other motivation

00:18:56,400 --> 00:19:01,760
is um the mantra so big top being an

00:19:00,000 --> 00:19:03,200
apache project follows the community

00:19:01,760 --> 00:19:07,600
over code mantra

00:19:03,200 --> 00:19:08,640
and this is um to avoid privileging code

00:19:07,600 --> 00:19:10,640
development over

00:19:08,640 --> 00:19:11,919
the health of the community we were

00:19:10,640 --> 00:19:14,799
looking for

00:19:11,919 --> 00:19:17,520
a way to interact more with the project

00:19:14,799 --> 00:19:21,360
and as you can see from the email list

00:19:17,520 --> 00:19:24,640
email list there is a wide variety

00:19:21,360 --> 00:19:26,400
of ways uh

00:19:24,640 --> 00:19:28,720
to participate in the project the

00:19:26,400 --> 00:19:31,120
sending patches or asking questions

00:19:28,720 --> 00:19:32,240
getting feedback from the community and

00:19:31,120 --> 00:19:35,919
we used

00:19:32,240 --> 00:19:38,240
um this peculiarity of big top a lot

00:19:35,919 --> 00:19:39,120
while we were trying to come up with an

00:19:38,240 --> 00:19:42,000
upgrade plan

00:19:39,120 --> 00:19:43,200
and why we while we were also testing

00:19:42,000 --> 00:19:45,810
the packages

00:19:43,200 --> 00:19:47,039
finding problems and trying to

00:19:45,810 --> 00:19:51,280
[Music]

00:19:47,039 --> 00:19:53,919
to solve them so we ended up deploying

00:19:51,280 --> 00:19:54,880
the last version of wikitop that is 1.5

00:19:53,919 --> 00:19:58,080
in february

00:19:54,880 --> 00:19:58,480
and the deployment was successful it it

00:19:58,080 --> 00:20:02,960
was

00:19:58,480 --> 00:20:06,159
uh it there were some surprises um

00:20:02,960 --> 00:20:09,679
when that that didn't came up from the

00:20:06,159 --> 00:20:12,159
uh the the extensive tests that we ran

00:20:09,679 --> 00:20:14,240
over the past months in a separate

00:20:12,159 --> 00:20:17,280
testing environment

00:20:14,240 --> 00:20:19,280
um so what we

00:20:17,280 --> 00:20:21,520
what we're trying to do is to come up

00:20:19,280 --> 00:20:22,880
with a good documentation for the big

00:20:21,520 --> 00:20:25,280
top community to avoid

00:20:22,880 --> 00:20:26,400
other people to get to get to get into

00:20:25,280 --> 00:20:29,440
the same troubles

00:20:26,400 --> 00:20:32,240
and to have smoother uh upgrades uh

00:20:29,440 --> 00:20:33,520
if needed uh we also have been

00:20:32,240 --> 00:20:37,679
contributing to

00:20:33,520 --> 00:20:40,559
to big top with some patches and

00:20:37,679 --> 00:20:41,120
and we hope to to have a series of blog

00:20:40,559 --> 00:20:43,120
posts

00:20:41,120 --> 00:20:44,799
shared between wikimedia and apache big

00:20:43,120 --> 00:20:48,159
top related to

00:20:44,799 --> 00:20:48,960
the technical details of the of the

00:20:48,159 --> 00:20:52,080
upgrade

00:20:48,960 --> 00:20:54,960
that i didn't have time to uh

00:20:52,080 --> 00:20:56,720
to show you today uh in case you have

00:20:54,960 --> 00:20:58,320
questions or you want to follow up you

00:20:56,720 --> 00:21:00,320
want more details feel free to send me

00:20:58,320 --> 00:21:02,080
an email and i will be happy to provide

00:21:00,320 --> 00:21:05,679
you all the details

00:21:02,080 --> 00:21:05,679
or hopefully wait for the

00:21:05,840 --> 00:21:09,039
the blog posts thanks a lot for your

00:21:08,240 --> 00:21:13,799
attention

00:21:09,039 --> 00:21:16,799
and and i think now it is time for

00:21:13,799 --> 00:21:16,799

YouTube URL: https://www.youtube.com/watch?v=1eHXTBsJmjg


