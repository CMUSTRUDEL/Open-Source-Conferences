Title: YVR18-111: Lock-free read-write concurrency in rte_hash
Publication date: 2019-05-09
Playlist: Linaro Connect Vancouver 2018
Description: 
	Recent patches have tried to address the reader-writer concurrency in rte_hash library. However, these fall short on solving the problem on multiple use cases. These solutions result in further significant problems when the use cases involve preemptible writer threads. Lock free addition and deletion algorithms are required to truly solve the read-write concurrency. This talk explores the need for lock-free algorithms in the context of rte_hash library, the changes required in rte_hash for 64bit systems. It will also discuss various options available for solving the issue on 32bit systems and seek feedback. Performance numbers with this proposal will also be presented.
Captions: 
	00:00:02,110 --> 00:00:07,120
[Music]

00:01:01,720 --> 00:01:04,810
[Music]

00:01:51,840 --> 00:01:53,840
Oh

00:02:03,770 --> 00:02:06,959
[Music]

00:02:50,379 --> 00:02:53,379
so

00:03:14,610 --> 00:03:18,459
[Music]

00:04:03,910 --> 00:04:06,910
heeey

00:04:39,540 --> 00:04:48,670
so ideally so in that case bigger city

00:04:44,440 --> 00:04:52,000
let's come back in April so he goes to

00:04:48,670 --> 00:04:54,100
the kitchen and gets this big what

00:04:52,000 --> 00:04:57,240
should I go with the psychic back by

00:04:54,100 --> 00:04:57,240
beta aggressive competition

00:05:55,830 --> 00:05:58,920
[Music]

00:06:11,740 --> 00:06:14,740
so

00:07:08,789 --> 00:07:55,439
so so so so most of the cases the writer

00:07:50,829 --> 00:08:01,139
is running on operating system like -

00:07:55,439 --> 00:08:01,139
what that means is that

00:08:44,209 --> 00:08:51,529
so the competition Newton index two

00:08:48,149 --> 00:08:51,529
magnets one beta

00:08:51,750 --> 00:08:54,809
[Music]

00:09:00,980 --> 00:09:04,039
[Music]

00:11:32,640 --> 00:11:35,700
[Music]

00:12:01,850 --> 00:12:24,500
I would like to define tokens 1/3 so P

00:12:17,370 --> 00:12:28,550
is what the inspire reference reference

00:12:24,500 --> 00:12:28,550
the new readers

00:12:35,900 --> 00:12:39,059
[Music]

00:12:45,630 --> 00:13:19,920
we are supported across multiple

00:13:16,210 --> 00:13:19,920
architectures and in my case

00:13:27,070 --> 00:13:30,149
[Music]

00:13:34,319 --> 00:13:41,680
so in this case we need two sets of

00:13:39,579 --> 00:13:45,339
cables one for me

00:13:41,680 --> 00:13:50,649
he shot it

00:13:45,339 --> 00:14:03,160
okay maybe to us so we could settle with

00:13:50,649 --> 00:14:08,279
one but use possessed with effect so

00:14:03,160 --> 00:14:08,279
coming to many artists so I have

00:14:32,050 --> 00:14:35,200
you know

00:14:41,450 --> 00:14:44,599
[Music]

00:16:02,250 --> 00:16:21,250
so if we see here the operation fee and

00:16:07,480 --> 00:16:24,089
synchronize data will vary here but the

00:16:21,250 --> 00:16:24,089
operations

00:17:15,660 --> 00:17:18,859
[Music]

00:17:35,670 --> 00:17:43,360
so even you justify a Miami we see we

00:17:41,020 --> 00:17:44,160
don't have impacts anymore in this

00:17:43,360 --> 00:17:48,660
operation

00:17:44,160 --> 00:17:48,660
so this is matter of course Inga so

00:17:49,059 --> 00:17:55,080
who fails to say software packs

00:18:16,110 --> 00:18:25,590
somehow were normally they are accessing

00:18:19,930 --> 00:18:25,590
college so we talked about the hatch

00:18:26,030 --> 00:18:32,700
so if I the writer who is moving this is

00:18:30,030 --> 00:18:36,150
when we had read a special title

00:18:32,700 --> 00:18:39,330
de facto streets so what can happen here

00:18:36,150 --> 00:18:45,110
is the reader might not find that angry

00:18:39,330 --> 00:18:45,110
ever expressed so we have

00:19:33,540 --> 00:19:36,540
is

00:20:32,670 --> 00:20:40,990
but stop at this fine he leaves his

00:20:36,190 --> 00:20:49,140
local government so you see the steps

00:20:40,990 --> 00:20:49,140
plus one so what is it about me

00:20:59,669 --> 00:21:02,669
so

00:21:44,560 --> 00:21:47,640
[Music]

00:22:02,080 --> 00:22:05,220
[Music]

00:22:47,989 --> 00:22:56,440
so here I show who writes lyrics and

00:22:51,979 --> 00:23:03,879
each one of them is p1 p2 p3

00:22:56,440 --> 00:23:03,879
so all these blue spaces

00:23:13,030 --> 00:23:16,170
[Music]

00:24:01,039 --> 00:24:04,789
but every year

00:24:48,330 --> 00:24:57,760
so when we free the memory associated so

00:24:54,970 --> 00:25:01,260
we have a beach wait for my present

00:24:57,760 --> 00:25:01,260
state power each

00:25:07,890 --> 00:25:16,770
and associated with it

00:25:38,660 --> 00:25:46,460
so the goal clearly too good for this

00:25:42,150 --> 00:25:49,790
library is Project X ability the

00:25:46,460 --> 00:25:54,870
definition of the question shape is very

00:25:49,790 --> 00:25:57,140
application can define so what that

00:25:54,870 --> 00:25:57,140
means

00:26:37,100 --> 00:26:45,890
good question so I have got two

00:26:41,640 --> 00:26:50,070
experiments here so in one experiment

00:26:45,890 --> 00:26:54,320
the I have got one right that way with

00:26:50,070 --> 00:26:54,320
the twist

00:27:53,620 --> 00:27:56,250
yes

00:28:13,330 --> 00:29:01,149
so I had fewer resettle and we had a

00:28:55,340 --> 00:29:01,149
skin issue over there because us

00:29:13,110 --> 00:29:16,230
[Music]

00:29:25,879 --> 00:29:31,440
so yes I mean performance is one thing

00:29:29,609 --> 00:29:35,600
but I need the key problem that we have

00:29:31,440 --> 00:29:35,600
here is what

00:29:47,150 --> 00:29:52,250
flattery sure like a synchronize with

00:29:54,790 --> 00:30:01,030
how you are ensuring that what

00:30:02,280 --> 00:30:17,650
yes so so the customization what

00:30:08,350 --> 00:30:20,520
so what I need is you reach this

00:30:17,650 --> 00:30:20,520
variable

00:30:28,110 --> 00:30:35,980
so far here with me - beep beep -

00:30:31,900 --> 00:30:39,220
succeed what they actually means if the

00:30:35,980 --> 00:30:39,700
reader sees the mean value of the key

00:30:39,220 --> 00:30:42,970
mechs

00:30:39,700 --> 00:30:52,570
he said he's guaranteed that all these

00:30:42,970 --> 00:30:55,750
three locations so if I is not there

00:30:52,570 --> 00:30:56,680
that is not likely to sit with us

00:30:55,750 --> 00:31:00,100
updated

00:30:56,680 --> 00:31:04,540
- so one thing that's missing from the

00:31:00,100 --> 00:31:07,950
slaves is what happens when we when we

00:31:04,540 --> 00:31:07,950
are mates

00:31:16,290 --> 00:31:21,930
so for the sake of this discussion

00:31:51,370 --> 00:31:59,299
you can just look through science or

00:31:55,140 --> 00:31:59,299
the operating on this

00:32:20,059 --> 00:32:23,059
so

00:32:51,620 --> 00:32:54,620
this

00:33:44,540 --> 00:33:52,629
this is a global counter

00:33:47,690 --> 00:33:52,629
the difference you got

00:33:57,470 --> 00:34:00,470
colonization

00:34:03,499 --> 00:34:54,450
yes yeah yes yeah give us the evidence

00:34:49,069 --> 00:34:56,300
that if the writer not wins then your

00:34:54,450 --> 00:34:59,130
attention

00:34:56,300 --> 00:35:08,840
that's one thing the second thing is

00:34:59,130 --> 00:35:08,840
escape discussion

00:35:13,660 --> 00:35:18,960
right thank you so much

00:35:17,100 --> 00:35:23,969
you

00:35:18,960 --> 00:35:23,969

YouTube URL: https://www.youtube.com/watch?v=yMI2pUzlrq4


