Title: !!Con 2020 - Reverse engineer your ski goggles for fun and profit! by Jonathan Kingsley
Publication date: 2020-05-28
Playlist: !!Con 2020
Description: 
	Reverse engineer your ski goggles for fun and profit! by Jonathan Kingsley

Do you like tearing down weird hardware? Are you a fan of bringing old things back to life? Do you love to break both legs with the snowsports equivalent of distracted driving? Well, do we have the talk for you! In this talk we’ll somehow fit in: breaking down the demise of Recon Instruments, discuss how to reverse engineer hardware from a company that’s as dead as a doornail, demo some brand new firmware for a 7 year old piece of hardware, and explain how all of this will still not make you cool.

Jonathan is a software engineer by day and live production tech, pyrotechnician, and musical theatre peformer by night. His interests include hardware reverse engineering and information security. He has once set a swimming pool on fire.
Captions: 
	00:00:12,980 --> 00:00:17,390
hi there I'm John I'm here to talk to

00:00:15,890 --> 00:00:19,400
you about reverse engineering your ski

00:00:17,390 --> 00:00:22,099
goggles for fun and profit and exercise

00:00:19,400 --> 00:00:25,910
which so far has involved a net loss and

00:00:22,099 --> 00:00:26,540
very little fun so who the hell is this

00:00:25,910 --> 00:00:32,180
moon bat

00:00:26,540 --> 00:00:33,890
well I'm John I ski I am well known for

00:00:32,180 --> 00:00:36,080
breaking things before they break me

00:00:33,890 --> 00:00:38,390
usually when it comes to software and

00:00:36,080 --> 00:00:40,879
hardware reverse engineering I am a

00:00:38,390 --> 00:00:44,570
professional pyro technician and a

00:00:40,879 --> 00:00:47,720
semi-professional bunny dad bun for tax

00:00:44,570 --> 00:00:48,019
so now we've gone all of that out of the

00:00:47,720 --> 00:00:51,650
way

00:00:48,019 --> 00:00:55,070
who become instruments well

00:00:51,650 --> 00:00:58,250
recon instruments were a Vancouver based

00:00:55,070 --> 00:01:00,769
software company headquartered in this

00:00:58,250 --> 00:01:03,110
building founded with the original

00:01:00,769 --> 00:01:05,570
intention of making smart swimming

00:01:03,110 --> 00:01:07,820
goggles when that venture turned out to

00:01:05,570 --> 00:01:10,940
be harder and less lucrative than they

00:01:07,820 --> 00:01:11,890
anticipated they pivoted to other forms

00:01:10,940 --> 00:01:14,299
of smart eyewear

00:01:11,890 --> 00:01:17,539
actually beating Google glass to the

00:01:14,299 --> 00:01:22,329
market by almost a full year they then

00:01:17,539 --> 00:01:27,009
released among other things after the

00:01:22,329 --> 00:01:30,619
after the ski goggles they then released

00:01:27,009 --> 00:01:32,359
cycling glasses in the form of jet which

00:01:30,619 --> 00:01:34,100
I would make the argument actually makes

00:01:32,359 --> 00:01:37,490
you look even less cool than Google

00:01:34,100 --> 00:01:38,750
glass somehow and the piece of hardware

00:01:37,490 --> 00:01:44,119
that we're mostly going to be discussing

00:01:38,750 --> 00:01:46,880
today the snow to smart ski goggles and

00:01:44,119 --> 00:01:49,369
these Puffy's were everywhere

00:01:46,880 --> 00:01:51,770
they got stocked in Apple stores they

00:01:49,369 --> 00:01:55,340
had official integrations with GoPro

00:01:51,770 --> 00:01:57,679
Oakley Smith Optics at the time a lot of

00:01:55,340 --> 00:01:58,880
people in the snow sports corner of

00:01:57,679 --> 00:02:00,499
things were really going nuts about

00:01:58,880 --> 00:02:03,920
these like they they were a real hot

00:02:00,499 --> 00:02:07,549
ticket item for a while and they are

00:02:03,920 --> 00:02:11,600
powered by this little box the actual

00:02:07,549 --> 00:02:13,520
snow to see recon had the real smart

00:02:11,600 --> 00:02:15,290
idea that if they were busy making the

00:02:13,520 --> 00:02:18,530
hardware they could just get existing

00:02:15,290 --> 00:02:20,360
ski goggles to make the goggles and then

00:02:18,530 --> 00:02:22,040
build this standard whereby the goggle

00:02:20,360 --> 00:02:24,379
manufactures would just build a cutout

00:02:22,040 --> 00:02:25,940
into the goggles to swap the unit and

00:02:24,379 --> 00:02:26,690
battery in so you could either buy the

00:02:25,940 --> 00:02:28,730
goggles or

00:02:26,690 --> 00:02:30,680
to the shelf or pre fit it into a pair

00:02:28,730 --> 00:02:35,750
of goggles that supported them and off

00:02:30,680 --> 00:02:36,950
you go little bit like this so this is

00:02:35,750 --> 00:02:38,720
generally what the kind of view of I

00:02:36,950 --> 00:02:40,670
looks like you have a little view

00:02:38,720 --> 00:02:43,280
essentially in the bottom right corner

00:02:40,670 --> 00:02:47,180
of your peripheral vision and otherwise

00:02:43,280 --> 00:02:50,210
it's pretty much unobstructed so big

00:02:47,180 --> 00:02:54,050
news they do so well that they get

00:02:50,210 --> 00:02:56,030
acquired by Intel they start to scale up

00:02:54,050 --> 00:02:58,010
production release things like the jet

00:02:56,030 --> 00:03:00,020
that we talked about earlier and even

00:02:58,010 --> 00:03:02,030
announced partnerships to bring the jet

00:03:00,020 --> 00:03:04,190
into and to files use for things like

00:03:02,030 --> 00:03:08,930
repair manual access or improve stock

00:03:04,190 --> 00:03:13,040
picking and then almost exactly two

00:03:08,930 --> 00:03:14,960
years later the bad news hits it's at

00:03:13,040 --> 00:03:18,530
this point that the story kind of goes

00:03:14,960 --> 00:03:20,810
dark Intel completely shutters not only

00:03:18,530 --> 00:03:22,580
recon but their entire wearables

00:03:20,810 --> 00:03:24,620
division announces that they're

00:03:22,580 --> 00:03:27,230
discontinuing support for not only the

00:03:24,620 --> 00:03:29,800
hardware but the software platforms that

00:03:27,230 --> 00:03:34,760
backed a lot of the functionality and

00:03:29,800 --> 00:03:37,190
basically ever talks about it again so I

00:03:34,760 --> 00:03:38,989
always having wanted one of these things

00:03:37,190 --> 00:03:41,660
see that everything has kind of gone

00:03:38,989 --> 00:03:43,730
sideways for them and go hey these must

00:03:41,660 --> 00:03:46,370
be cheap and easy to acquire now I'll

00:03:43,730 --> 00:03:46,670
just buy one and fix it up how hard can

00:03:46,370 --> 00:03:50,239
it be

00:03:46,670 --> 00:03:52,430
I would now in hindsight put that on my

00:03:50,239 --> 00:03:54,050
very rapidly increasing list of famous

00:03:52,430 --> 00:03:58,430
last words because it turns out the

00:03:54,050 --> 00:04:01,820
answer to that question is really hot so

00:03:58,430 --> 00:04:04,010
I start my search I set up eBay search

00:04:01,820 --> 00:04:06,350
notifications for these terms that these

00:04:04,010 --> 00:04:08,660
things tend to show up under I scour

00:04:06,350 --> 00:04:10,550
Reddit and Twitter looking for anyone

00:04:08,660 --> 00:04:12,620
who has ever mentioned owning one in the

00:04:10,550 --> 00:04:15,320
hope that they will sell it to me and I

00:04:12,620 --> 00:04:16,880
troll the internet with looking to find

00:04:15,320 --> 00:04:19,580
people who are willing to sell them and

00:04:16,880 --> 00:04:21,880
after a long while of not being able to

00:04:19,580 --> 00:04:24,260
find anything I start to get hits I

00:04:21,880 --> 00:04:28,400
managed to track down the rarest of the

00:04:24,260 --> 00:04:30,410
rare this modulus no.2 on Kijiji in

00:04:28,400 --> 00:04:31,820
Canada and convinced the poor guy

00:04:30,410 --> 00:04:33,740
selling it that an extra hundred bucks

00:04:31,820 --> 00:04:36,919
plus shipping is worth it to override

00:04:33,740 --> 00:04:38,690
collection only I found someone selling

00:04:36,919 --> 00:04:39,360
a job lot of five broken units which I

00:04:38,690 --> 00:04:41,009
picked up with

00:04:39,360 --> 00:04:43,319
expectation that at some point I'd be

00:04:41,009 --> 00:04:45,719
able to fix them I managed to track down

00:04:43,319 --> 00:04:47,759
a journalist on Twitter who was kind

00:04:45,719 --> 00:04:50,699
enough to send me his early review jet

00:04:47,759 --> 00:04:52,169
for a small fee plus shipping and I

00:04:50,699 --> 00:04:54,150
managed to find a few variants of the

00:04:52,169 --> 00:04:58,289
snow - that surfaced on eBay and I was

00:04:54,150 --> 00:05:00,750
able to snap them up I also have the

00:04:58,289 --> 00:05:03,900
snow two's owned by a very well known

00:05:00,750 --> 00:05:05,819
technology executive who I ended up in

00:05:03,900 --> 00:05:07,590
conversation with primarily because I

00:05:05,819 --> 00:05:09,990
called the M team on Twitter after

00:05:07,590 --> 00:05:12,210
seeing a tweet he'd made four years ago

00:05:09,990 --> 00:05:14,699
about having them and did not know at

00:05:12,210 --> 00:05:18,020
the time who he was and then proceeded

00:05:14,699 --> 00:05:23,279
to I'll say Google his name and go oh

00:05:18,020 --> 00:05:25,560
okay that's that's novel so somehow

00:05:23,279 --> 00:05:27,840
through a series of blind luck and

00:05:25,560 --> 00:05:30,029
overpaying Canadians I have managed to

00:05:27,840 --> 00:05:32,400
get myself a whole bunch of examples of

00:05:30,029 --> 00:05:36,560
this hardware including some prototype

00:05:32,400 --> 00:05:39,719
and early release versions so what now

00:05:36,560 --> 00:05:41,250
well if you're anything like me you have

00:05:39,719 --> 00:05:42,870
desensitized yourself

00:05:41,250 --> 00:05:44,969
to the cold emotionally draining

00:05:42,870 --> 00:05:46,469
experience of cold messaging random

00:05:44,969 --> 00:05:48,949
strangers on the internet about ski

00:05:46,469 --> 00:05:52,680
goggles so you do the same thing again

00:05:48,949 --> 00:05:54,930
except with former employees and I find

00:05:52,680 --> 00:05:57,629
one person who can't really say much

00:05:54,930 --> 00:05:59,909
because of NDA's and all that jazz but

00:05:57,629 --> 00:06:02,129
gives me just enough information in

00:05:59,909 --> 00:06:05,099
terms of pointers of how things roughly

00:06:02,129 --> 00:06:06,990
should work to be able to start poking

00:06:05,099 --> 00:06:10,860
at the firmware sitting under the hood

00:06:06,990 --> 00:06:13,469
with these so let's quickly run through

00:06:10,860 --> 00:06:15,060
obsolete firmware 101 or how to

00:06:13,469 --> 00:06:18,719
completely break your one-of-a-kind

00:06:15,060 --> 00:06:21,750
Hardware pet project so it turns out

00:06:18,719 --> 00:06:25,139
hardware is hard and most hardware

00:06:21,750 --> 00:06:27,029
engineers like to be lazy so you do a

00:06:25,139 --> 00:06:29,520
bit of digging and after a while you

00:06:27,029 --> 00:06:31,650
realize quite quickly that the main

00:06:29,520 --> 00:06:34,050
chipsets that all of these things use

00:06:31,650 --> 00:06:36,830
are based off of a reference

00:06:34,050 --> 00:06:38,879
implementation by Texas Instruments

00:06:36,830 --> 00:06:42,180
specifically the Texas Instruments OMAP

00:06:38,879 --> 00:06:44,909
three board and the O there stands for

00:06:42,180 --> 00:06:46,830
open which helps us a ton because it

00:06:44,909 --> 00:06:49,080
turns out when you base your entire

00:06:46,830 --> 00:06:51,030
family of stuff off of a really

00:06:49,080 --> 00:06:53,850
well-known standard for

00:06:51,030 --> 00:06:55,920
where you can find examples of the

00:06:53,850 --> 00:06:59,040
kernel and bootloader for it

00:06:55,920 --> 00:07:03,030
thank you shared hardware platforms so

00:06:59,040 --> 00:07:04,920
we now have a method to run it

00:07:03,030 --> 00:07:06,600
essentially kickstart code running on

00:07:04,920 --> 00:07:07,320
these things so how do we actually get

00:07:06,600 --> 00:07:10,260
to that point

00:07:07,320 --> 00:07:13,050
well these boards are running Android

00:07:10,260 --> 00:07:15,330
but like proper old dingy Android from

00:07:13,050 --> 00:07:17,850
back in the day so we want to figure out

00:07:15,330 --> 00:07:19,950
how to update that to nice fancy shiny

00:07:17,850 --> 00:07:21,960
new Android with which we can do strange

00:07:19,950 --> 00:07:25,410
and deviant things like run Kotlin and

00:07:21,960 --> 00:07:27,000
cry so the next step we grabbed the

00:07:25,410 --> 00:07:29,340
Android applications and tear them down

00:07:27,000 --> 00:07:31,320
and if you dig far into not enough into

00:07:29,340 --> 00:07:35,090
that what you discover is the update

00:07:31,320 --> 00:07:37,920
server URLs and the update packages and

00:07:35,090 --> 00:07:40,650
precisely how to build a firmware update

00:07:37,920 --> 00:07:43,650
package which then allows you to

00:07:40,650 --> 00:07:45,480
essentially use the existing bootloader

00:07:43,650 --> 00:07:48,600
implementation and a little bit of

00:07:45,480 --> 00:07:50,520
trickery to boot your own operating

00:07:48,600 --> 00:07:54,660
system on it providing that it can run

00:07:50,520 --> 00:07:56,160
within that specific chip now this is

00:07:54,660 --> 00:07:58,590
slightly complicated by the fact that

00:07:56,160 --> 00:08:00,390
one the update system is unable to

00:07:58,590 --> 00:08:03,300
update itself due to not having an

00:08:00,390 --> 00:08:06,420
update server anymore and to the fact

00:08:03,300 --> 00:08:09,690
that I discovered very quickly that when

00:08:06,420 --> 00:08:12,300
you factory reset them it sets it back

00:08:09,690 --> 00:08:14,580
to an even older version of Android than

00:08:12,300 --> 00:08:16,710
the ancient sarcophagus build that most

00:08:14,580 --> 00:08:18,720
of them shipped with which means that

00:08:16,710 --> 00:08:21,870
you end up in this great situation where

00:08:18,720 --> 00:08:24,600
after swearing into a mirror to restore

00:08:21,870 --> 00:08:27,870
morale little you figure out how to

00:08:24,600 --> 00:08:30,180
build an update package that can reset

00:08:27,870 --> 00:08:32,190
your factory reset which you can only do

00:08:30,180 --> 00:08:39,210
by reverse engineering the unabated pull

00:08:32,190 --> 00:08:41,670
up data so after a year or so of my

00:08:39,210 --> 00:08:46,830
sanity quickly going down the drain and

00:08:41,670 --> 00:08:53,700
a lot of staring at decompiled Java did

00:08:46,830 --> 00:08:56,520
this work yes yes it did so this all

00:08:53,700 --> 00:08:59,340
comes full circle now to the project

00:08:56,520 --> 00:09:02,730
that my shenanigan re here has become

00:08:59,340 --> 00:09:04,680
which is open week on open week on is an

00:09:02,730 --> 00:09:06,630
open source project away

00:09:04,680 --> 00:09:08,220
still in the very early days of this

00:09:06,630 --> 00:09:09,960
especially because very few people

00:09:08,220 --> 00:09:12,480
actually have this hardware and can test

00:09:09,960 --> 00:09:15,390
it but the goal with this that we're

00:09:12,480 --> 00:09:18,930
working towards is to build fully open

00:09:15,390 --> 00:09:21,330
source firmware applications bootloader

00:09:18,930 --> 00:09:23,880
code and other infrastructure so that we

00:09:21,330 --> 00:09:26,820
can take these devices and make them

00:09:23,880 --> 00:09:29,520
amazing again because I still have a

00:09:26,820 --> 00:09:33,029
fundamental belief that these things are

00:09:29,520 --> 00:09:35,070
awesome and like frankly trying to get a

00:09:33,029 --> 00:09:37,589
heads-up display anywhere near the cost

00:09:35,070 --> 00:09:39,420
of these things is near impossible I'm

00:09:37,589 --> 00:09:41,970
reliably informed they kind of have a

00:09:39,420 --> 00:09:43,770
habit of really blowing people's minds

00:09:41,970 --> 00:09:45,270
when you use them so I'm kind of sad or

00:09:43,770 --> 00:09:46,860
not doing bangbang con in person this

00:09:45,270 --> 00:09:48,149
year because if we were then I could

00:09:46,860 --> 00:09:51,810
have let you all try one on and have

00:09:48,149 --> 00:09:54,380
your mind going for real however thank

00:09:51,810 --> 00:09:57,060
you very much for listening to my talk

00:09:54,380 --> 00:09:59,310
if you want to find out more about any

00:09:57,060 --> 00:10:01,080
of the heavy technical detail in

00:09:59,310 --> 00:10:03,240
relation to this project or what I'm

00:10:01,080 --> 00:10:06,600
doing with open recon or outside of that

00:10:03,240 --> 00:10:09,270
you can find me on Twitter here or on

00:10:06,600 --> 00:10:10,110
the discord channel for this talk thank

00:10:09,270 --> 00:10:13,730
you very much

00:10:10,110 --> 00:10:13,730

YouTube URL: https://www.youtube.com/watch?v=9IByYkFR-aQ


