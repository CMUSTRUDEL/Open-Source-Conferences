Title: !!Con West 2020: Tom Verbeure - Cisco Purses Cubed!
Publication date: 2020-03-23
Playlist: !!Con West 2020
Description: 
	Presented at !!Con West 2020: http://bangbangcon.com/west

Twelve discounted purses, obsolete Cisco hardware found on eBay, one cube. This talk shows how old stuff, destined to end up in the dump, can be upcycled into something entirely new: a story of reverse engineering unknown modems, dismantling hideous purses, LED driving protocols, designing PCBs on the cheap, some mechanical work, and reprogramming it all into a striking showpiece.

#bangbangcon #bangbangconwest #bangbangconwest2020
Captions: 
	00:00:26,720 --> 00:00:33,800
So Project McÂ² was a TV program for kids, where high school girl spies would save

00:00:33,800 --> 00:00:38,000
the world using science and technology.

00:00:38,000 --> 00:00:45,280
And the project and the TV show had merchandise, and one of them was this fabulous pixel purse.

00:00:45,280 --> 00:00:46,360
(Oooooh!)

00:00:47,140 --> 00:00:49,460
(laughter)

00:00:50,080 --> 00:00:57,500
So the pixel purse uses an LED matrix, and so I didn't know anything about this, until

00:00:57,500 --> 00:01:03,670
I saw this tweet, saying that, you know, they were on sale for $6.16.

00:01:03,670 --> 00:01:06,720
Coming down from the original price of $60.

00:01:06,720 --> 00:01:08,020
And that's really interesting.

00:01:08,020 --> 00:01:14,350
Because if you see the LED panel itself, even on AliExpress, it's usually around $15.

00:01:14,350 --> 00:01:18,530
I always wanted to make one of those really fancy LED cubes.

00:01:18,530 --> 00:01:21,390
And so you have a 2x1 aspect ratio for these LEDs.

00:01:21,390 --> 00:01:26,280
In order to make a cube with those things, you need 12 of those purses.

00:01:27,189 --> 00:01:30,360
But Amazon had a purchase limitation.

00:01:30,369 --> 00:01:32,120
You could only buy a few of them.

00:01:32,120 --> 00:01:38,520
So I recruited my colleagues, and organized a group buy, and three days later, these boxes

00:01:38,520 --> 00:01:40,600
arrived at work.

00:01:40,600 --> 00:01:44,840
And I love to think that there is a very confused data scientist at Amazon, trying to figure

00:01:44,840 --> 00:01:49,940
out why a major graphics company is buying all these purses.

00:01:49,940 --> 00:01:51,460
But anyway...

00:01:51,460 --> 00:01:55,500
So if you look at it closer, it seems like it's fabric, but it's not.

00:01:55,500 --> 00:02:00,350
It's really a very ugly hard plastic case.

00:02:00,350 --> 00:02:02,330
And that's an aliasing thing.

00:02:02,330 --> 00:02:03,850
That's just a picture thing.

00:02:03,850 --> 00:02:05,500
But if you look inside, it's very simple.

00:02:05,500 --> 00:02:06,500
You have the LED matrix.

00:02:06,500 --> 00:02:07,500
You have some electronics.

00:02:07,500 --> 00:02:08,619
You have a switch.

00:02:08,620 --> 00:02:11,160
And you have four AA batteries.

00:02:12,600 --> 00:02:16,100
So in order to avoid trouble with my wife, because I already have so many boxes in the garage

00:02:16,100 --> 00:02:20,420
I did a rapid controlled disassembly.

00:02:20,420 --> 00:02:21,480
(laughter)

00:02:21,480 --> 00:02:24,400
And so basically there's the loot.

00:02:24,400 --> 00:02:26,510
12 panels, 48 AA batteries.

00:02:26,510 --> 00:02:29,250
I will never have to buy those again.

00:02:29,250 --> 00:02:33,489
And then a whole bucket full of screws and some electronics, including...

00:02:33,489 --> 00:02:35,590
I desoldered the components from that.

00:02:35,590 --> 00:02:39,220
4 megabit SPI prong and some voltage regulators.

00:02:39,830 --> 00:02:42,060
Now I'm not really a fashionista.

00:02:42,060 --> 00:02:45,380
My hobby is actually field programmable gate arrays.

00:02:45,420 --> 00:02:46,640
FPGAs.

00:02:47,440 --> 00:02:52,100
These are pretty expensive for hobbyists, especially in low volume, but the way around that

00:02:52,100 --> 00:02:59,160
is to go on eBay and you find products that actually use FPGAs and then basically repurpose them

00:02:59,160 --> 00:03:01,160
for your own use.

00:03:01,720 --> 00:03:06,430
Cisco is one of the companies that really buys a lot of FPGAs.

00:03:06,430 --> 00:03:10,430
One of the major benefits is that it can use operating system updates to reconfigure the

00:03:10,430 --> 00:03:14,830
FPGAs with their own, with bugfixes and stuff like that.

00:03:14,830 --> 00:03:18,330
If you look at the board, it's really you have an off-the-shelf modem that fits in a

00:03:18,330 --> 00:03:26,349
PCMCIA slot and the FPGA itself is used as glue logic to connect to this HWIC slot, and

00:03:26,349 --> 00:03:30,760
that slides into a standard Cisco router, so you can expand the router, that is basically

00:03:32,520 --> 00:03:37,180
-- a LAN, you can give it a 1 connection.

00:03:37,180 --> 00:03:39,870
So if you look at the component itself, you have the FPGA.

00:03:39,870 --> 00:03:40,870
Very important.

00:03:40,870 --> 00:03:44,300
You have a JTAG USB blaster pin-out, that's a debug port.

00:03:44,300 --> 00:03:49,750
Then you have a RS232 connector, some RAM, some unpopulated Norflash RAM, et cetera.

00:03:49,750 --> 00:03:52,770
It's really very very useful for hobbyists.

00:03:52,770 --> 00:03:58,420
So I set out to completely reverse engineer that thing and this is the high level block diagram

00:03:59,020 --> 00:04:02,140
All the low level details about how to program -- you can find it on the web.

00:04:02,140 --> 00:04:05,069
It's on my GitHub.

00:04:05,069 --> 00:04:10,800
The HWIC connector that Cisco uses is proprietary, and so what you need, I designed a small little

00:04:10,800 --> 00:04:18,100
PCB that converts this HWIC pin-out into a standard 2.54 millimeter pin header.

00:04:18,400 --> 00:04:23,060
So as a hobbyist, you can use that and you don't need to mess with these really tiny pins.

00:04:24,180 --> 00:04:29,940
If we talk about PCBs, when I was a kid, a long time ago, making your own PCBs was really

00:04:29,940 --> 00:04:31,870
a very nasty procedure.

00:04:31,870 --> 00:04:36,180
You had to use all these really kind of dirty chemicals, you had to shine with UV light

00:04:36,180 --> 00:04:41,241
an image onto a copper plate and you had to use other nasty chemicals to etch that away, and if

00:04:41,241 --> 00:04:46,790
you were really lucky and experienced, eventually you might end up that actually looks nice.

00:04:46,790 --> 00:04:47,949
So I never got to it.

00:04:47,949 --> 00:04:51,940
But if you go look at this today, you can...

00:04:51,940 --> 00:04:56,240
I decided that finally it was time to make my own PCB, and today these Chinese companies

00:04:56,240 --> 00:04:58,910
offer prototypes for really cheap.

00:04:58,910 --> 00:05:05,960
I downloaded one night KiCad and that same night, it was very late, I was able to upload

00:05:05,960 --> 00:05:10,120
a design to JLCPCB, which is the company I used.

00:05:10,120 --> 00:05:16,199
And three weeks later, a very nice PCB came out in the mail, and the amazing part is:

00:05:16,199 --> 00:05:20,500
It's $2 for five PCBs, which is just astonishing, I think.

00:05:20,500 --> 00:05:23,400
And then there's another $5 to ship it from China to here.

00:05:23,400 --> 00:05:29,400
So for $7, you end up with a professional, very high quality PCB.

00:05:29,400 --> 00:05:34,180
And PCBs are an example of mass volume, low cost, and really high precision mechanics,

00:05:34,180 --> 00:05:35,530
if you think about it.

00:05:35,530 --> 00:05:39,640
You can have -- the vias they're like 0.2 millimeters in diameter.

00:05:39,640 --> 00:05:42,800
So think about what kind of precision you have there.

00:05:42,800 --> 00:05:43,900
And that made me think...

00:05:43,900 --> 00:05:48,990
Well, you can not only use PCBs just for electronics.

00:05:48,990 --> 00:05:51,430
But what if you used it for pure mechanical stuff?

00:05:51,430 --> 00:05:52,900
I don't know how to use a 3D printer.

00:05:52,900 --> 00:05:55,050
I don't have a laser cutter.

00:05:55,050 --> 00:05:59,669
But maybe you can use PCBs to do mechanical stuff and it has nothing to do with electronics.

00:05:59,669 --> 00:06:03,639
And as a proof of concept, I decided to design a badge for !!Con.

00:06:04,220 --> 00:06:05,580
And same thing.

00:06:05,580 --> 00:06:11,979
I installed Inkscape, uploaded the bitmap, converted to an SVG file, and then I used

00:06:11,979 --> 00:06:17,770
a plugin called svg2shenzhen that converts the badge into a PCB and just produces it.

00:06:17,770 --> 00:06:22,449
And this is the badge.

00:06:22,449 --> 00:06:26,720
I gave that proof of concept to Josh, who really took it to the next level, and that's

00:06:26,720 --> 00:06:30,100
basically the badge you have around your neck.

00:06:30,100 --> 00:06:34,320
(applause)

00:06:34,320 --> 00:06:39,169
But really, if there's one takeaway of this talk, I think it's that PCBs are so cheap

00:06:39,169 --> 00:06:43,350
and so easy to make, and you can use them for more things than just electronics.

00:06:43,350 --> 00:06:46,960
There are all kinds of possibilities I can't even think about.

00:06:46,960 --> 00:06:50,110
Anyway, so now we have everything in place for the cube.

00:06:50,110 --> 00:06:54,150
We have cheap electronics with LED magic spells.

00:06:54,150 --> 00:06:57,699
We have a potential way for mechanics, so let's build something.

00:06:57,699 --> 00:07:00,450
So LED panels -- they have this weird construction.

00:07:00,450 --> 00:07:03,360
And a very weird interface called the HUB75.

00:07:03,680 --> 00:07:08,780
If you want to have color shades and whatever -- you need pretty precise timing to control

00:07:08,880 --> 00:07:13,220
every LED in some kind of serial format.

00:07:13,229 --> 00:07:15,170
And FPGAs are really perfect for that.

00:07:15,170 --> 00:07:22,039
So I designed on FPGA a driver to do that, and then I added also a soft RISC-V CPU on

00:07:22,039 --> 00:07:27,699
there, which then basically provides the pixels, so that you can get your image.

00:07:27,700 --> 00:07:30,080
And this is the hello world of LED panels!

00:07:31,550 --> 00:07:34,100
And then you can see there the FPGA driving it.

00:07:34,100 --> 00:07:38,630
That is a custom board at the point, I mean, a prototype.

00:07:38,630 --> 00:07:42,510
So then for the mechanics -- I decided on a pyramid structure that was built out of

00:07:42,510 --> 00:07:45,090
three identical legs.

00:07:45,090 --> 00:07:50,919
And with a caliper, I had to be really precise in order to find exactly on the LED matrix

00:07:50,919 --> 00:07:52,509
panel where the holes are.

00:07:52,509 --> 00:07:56,699
Then you put those holes there, and I used these kind of right angle connector things

00:07:56,699 --> 00:07:59,870
to basically solder them all together.

00:07:59,870 --> 00:08:02,100
And then basically that's the result from that.

00:08:02,100 --> 00:08:04,060
So here you have those things.

00:08:04,060 --> 00:08:07,449
And this will form the structure that keeps everything in place.

00:08:07,449 --> 00:08:08,830
And then it's time to assemble.

00:08:08,830 --> 00:08:15,240
So you start with two things, you see everything around it, and you just build it up.

00:08:15,240 --> 00:08:19,930
To me, this really gave the feeling of the Death Star tunnel in Star Wars.

00:08:19,930 --> 00:08:21,890
I think it looks really cool.

00:08:21,890 --> 00:08:25,430
Now, I only showed you this once, this whole sequence.

00:08:25,430 --> 00:08:27,740
In reality, I did it about four or five times.

00:08:27,740 --> 00:08:29,449
There's 60 screws in there.

00:08:29,449 --> 00:08:31,759
It takes hours to really get this right.

00:08:31,759 --> 00:08:36,380
And to give you an example about why I had to do this...

00:08:36,380 --> 00:08:38,349
Just to fix mistakes -- here's a good example.

00:08:38,349 --> 00:08:42,400
Here you see some of the LEDs, and in the middle, you see that screw, right?

00:08:42,400 --> 00:08:43,400
And it looks fine.

00:08:43,420 --> 00:08:46,759
But when you zoom in, you see the problem.

00:08:46,759 --> 00:08:50,699
If you're really tight on this, you'll get a short circuit between those two things.

00:08:50,700 --> 00:08:52,480
There's 60 of these screws like that.

00:08:52,480 --> 00:08:58,480
So the solution was to basically use this five second UV hardening glue and for each screw

00:08:58,520 --> 00:09:03,020
put a little blob of glue on there and harden it, and now you have an insulation layer

00:09:03,020 --> 00:09:07,920
between the screw head and the thing and basically you don't have issues anymore.

00:09:07,920 --> 00:09:09,329
This is basically the end result.

00:09:09,329 --> 00:09:13,140
You get something that looks really nice.

00:09:13,240 --> 00:09:16,160
And you can get more information about it here.

00:09:16,160 --> 00:09:18,420
So I have a bunch of articles about it.

00:09:18,420 --> 00:09:20,209
You can look it up online.

00:09:20,209 --> 00:09:23,520
And now let's see if we can get this to work!

00:09:29,580 --> 00:09:30,500
Okay.

00:09:41,380 --> 00:09:43,060
And here it is!

00:09:43,060 --> 00:09:51,160
(applause)

00:09:52,880 --> 00:09:53,879
And that's it.

00:09:53,879 --> 00:09:54,879
Thanks!

00:09:54,880 --> 00:09:56,640

YouTube URL: https://www.youtube.com/watch?v=0tBU5-lJYmU


