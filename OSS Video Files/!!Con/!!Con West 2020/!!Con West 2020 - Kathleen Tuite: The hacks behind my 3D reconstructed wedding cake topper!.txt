Title: !!Con West 2020 - Kathleen Tuite: The hacks behind my 3D reconstructed wedding cake topper!
Publication date: 2020-03-23
Playlist: !!Con West 2020
Description: 
	Presented at !!Con West 2020: http://bangbangcon.com/west

There is cool technology for capturing your likeness with a depth camera like a Kinect and fusing it into a single model. There are also neat ways of 3D printing those models in a bunch of different materials!

As a computer graphics/vision researcher, I thought it would be pretty straightforward to make a model of myself and my partner as a custom wedding cake topper. But time pressure and unfortunate artifacts meant I ALSO had to do some Javascript sleuthing, decode a proprietary 3D model format, and befriend my local makerspace to get it done!!

#bangbangcon #bangbangconwest #bangbangconwest2020
Captions: 
	00:00:25,860 --> 00:00:26,660
Okay.

00:00:26,660 --> 00:00:27,880
Thank you very much.

00:00:27,880 --> 00:00:29,840
I'm Kathleen.

00:00:29,840 --> 00:00:31,660
My pronouns are she/her.

00:00:31,660 --> 00:00:34,420
And I'm gonna tell you a little story.

00:00:34,430 --> 00:00:35,500
It's part love story.

00:00:35,500 --> 00:00:41,510
I met my partner here at UCSC, right in the Baskin Engineering Area in a computer graphics

00:00:41,510 --> 00:00:42,899
class.

00:00:42,899 --> 00:00:48,789
And one of the first lab activities was like bringing in an object from home.

00:00:48,789 --> 00:00:52,860
And 3D scanning it with a structured light sensor, and I brought this garden gnome that

00:00:52,860 --> 00:00:59,850
my roommate had, that we called No-Pants Dan, because his legs were flesh-colored, but it's

00:00:59,850 --> 00:01:07,610
also a story of overengineering my way into a problem and then overengineering my way

00:01:07,610 --> 00:01:10,520
out of it again.

00:01:10,520 --> 00:01:16,340
And it's also cameras and imaging sensors and things that make 3D models of things -- are

00:01:16,340 --> 00:01:20,470
super cool, and they've gotten a lot better over the last many years.

00:01:20,470 --> 00:01:22,760
So we're gonna learn all about that.

00:01:22,760 --> 00:01:23,910
So a little bit about me.

00:01:23,910 --> 00:01:27,930
I got my PhD in computer science from the University of Washington.

00:01:27,930 --> 00:01:31,600
Doing collaborative photography and crowd sourcing 3D reconstructions through a game

00:01:31,600 --> 00:01:34,180
I made called Photo City.

00:01:34,180 --> 00:01:35,930
And thereâ€™s some other 3D reconstruction stuff in there.

00:01:35,930 --> 00:01:37,420
So this is my thing.

00:01:37,420 --> 00:01:41,530
Making 3D models of things, especially buildings and large spaces.

00:01:41,530 --> 00:01:47,180
So when I was getting married, I guess a thing you're supposed to do is have a cake and put

00:01:47,180 --> 00:01:50,810
a little thingy on top that represents you as a couple.

00:01:50,810 --> 00:01:54,350
So my partner and I were trying to figure out what that should be.

00:01:54,350 --> 00:01:57,100
Maybe we should make a 3D model of ourselves!

00:01:57,100 --> 00:02:00,530
And the imaging techniques that I was using for my stuff were all like...

00:02:00,530 --> 00:02:01,530
Image-based.

00:02:01,530 --> 00:02:04,910
We needed a depth sensor, or something that would work on humans.

00:02:04,910 --> 00:02:11,099
Conveniently, there's a guy, Richard Newcome, who was doing a postdoc at my lab at UW.

00:02:11,099 --> 00:02:15,230
Here he is, giving a demo of his Kinect Fusion technology.

00:02:15,230 --> 00:02:20,230
The way Kinect Fusion works is you have a Kinect with a structured light sensor and

00:02:20,230 --> 00:02:25,120
you wave it around and it fuses all of these different depth fields together that are seen

00:02:25,120 --> 00:02:28,160
from different angles into a single 3D model.

00:02:28,160 --> 00:02:29,340
So we're like...

00:02:29,340 --> 00:02:30,340
Yeah!

00:02:30,340 --> 00:02:31,340
We'll do that!

00:02:31,340 --> 00:02:34,840
But unfortunately, Richard was out of town during the few weeks we had this idea to do

00:02:34,840 --> 00:02:40,390
this for our wedding, so we search online and found a company called Shapify, where

00:02:40,390 --> 00:02:46,010
you could go to a fancy booth somewhere in Europe and get scanned and they would print

00:02:46,010 --> 00:02:52,220
a model, or you could do -- like, use their software and do some DIY Kinect scanning,

00:02:52,220 --> 00:02:57,060
where you set up your Kinect and rotate in front of it yourself.

00:02:57,060 --> 00:02:59,280
And then you could order a 3D print from this company.

00:02:59,280 --> 00:03:00,280
Okay.

00:03:00,280 --> 00:03:01,280
This is what we'll do.

00:03:01,280 --> 00:03:04,140
So back to the computer graphics lab at UW now.

00:03:04,140 --> 00:03:08,470
We snuck in, in the middle of the night, with our wedding clothes on.

00:03:08,470 --> 00:03:11,810
When none of my friends were there.

00:03:11,810 --> 00:03:13,150
And here's a test run.

00:03:13,150 --> 00:03:15,069
Before we put on our fancy clothes.

00:03:15,069 --> 00:03:17,730
Of trying out the shape of our software.

00:03:17,730 --> 00:03:24,750
Here's a Vine of a test run of the two of us, where we had to stand very still and move

00:03:24,750 --> 00:03:26,500
in eight different directions.

00:03:26,500 --> 00:03:30,550
Trying not to change our pose.

00:03:30,550 --> 00:03:33,190
But it made a model.

00:03:33,190 --> 00:03:38,400
And we ordered a color 3D sandstone print from the company, Shapify, and it came back

00:03:38,400 --> 00:03:39,400
like...

00:03:39,400 --> 00:03:40,400
Aw.

00:03:40,400 --> 00:03:41,400
Isn't that cool?

00:03:41,400 --> 00:03:42,430
Pretty cool.

00:03:42,430 --> 00:03:43,420
But...

00:03:46,320 --> 00:03:47,000
I mean...

00:03:47,000 --> 00:03:47,500
Well...

00:03:47,500 --> 00:03:48,300
This isn't gonna get any better.

00:03:48,420 --> 00:03:50,560
But the lighting in the lab was really crappy.

00:03:50,560 --> 00:03:53,220
Fluorescent school lighting.

00:03:53,220 --> 00:03:56,910
And the colors on the model were kind of green and dark and sickly.

00:03:56,910 --> 00:03:57,910
I was like...

00:03:57,910 --> 00:04:00,850
This is just not aesthetic enough for my wedding.

00:04:00,850 --> 00:04:02,060
I don't like this.

00:04:02,060 --> 00:04:05,140
How do I get this data so I can reprint it?

00:04:05,140 --> 00:04:11,520
And I go to the website for Shapify and there's no way to get the model out!

00:04:11,520 --> 00:04:15,330
But I could see this 3D interactive viewer that was on the website at the time.

00:04:15,330 --> 00:04:18,070
I could see the data!

00:04:18,070 --> 00:04:20,199
The triangles are in there!

00:04:20,199 --> 00:04:22,340
I know that they're there!

00:04:22,340 --> 00:04:24,840
Maybe I could have emailed them and asked them.

00:04:24,840 --> 00:04:25,840
But...

00:04:25,840 --> 00:04:28,050
I was too shy.

00:04:28,050 --> 00:04:29,050
I just...

00:04:29,050 --> 00:04:33,509
I wrote a program instead.

00:04:33,509 --> 00:04:37,879
And conveniently, I've made some 3D viewers back in my day, since the undergrad class

00:04:37,879 --> 00:04:38,879
here.

00:04:38,879 --> 00:04:44,749
I made a Java-based point cloud interactive tracing thing, I made a streaming point cloud

00:04:44,749 --> 00:04:45,749
viewer based in Flash.

00:04:45,749 --> 00:04:46,860
I was like...

00:04:46,860 --> 00:04:49,810
Maybe I can figure this out!

00:04:49,810 --> 00:04:50,990
So that's what I tried.

00:04:50,990 --> 00:04:52,180
This is what I did.

00:04:52,180 --> 00:04:53,939
Shapify website.

00:04:53,939 --> 00:04:58,259
I inspected the network traffic.

00:04:58,259 --> 00:05:01,050
I saw, like, a big blob of 3D data coming in.

00:05:01,050 --> 00:05:02,080
But it was encoded.

00:05:02,080 --> 00:05:03,449
And I was like...

00:05:03,449 --> 00:05:04,509
I can't read this!

00:05:04,509 --> 00:05:08,460
I downloaded a copy of the whole website, including the local JavaScript file to poke

00:05:08,460 --> 00:05:12,020
at and get it to decode the model for me.

00:05:12,020 --> 00:05:17,940
Somehow successfully it did that, and I was able to print out the triangles.

00:05:17,940 --> 00:05:23,990
And format them in a nice Ply file of vertices and edges and triangles.

00:05:23,990 --> 00:05:24,990
And get the data!

00:05:24,990 --> 00:05:29,330
And as a note, when I was making this talk, now they have server side rendering, so you

00:05:29,330 --> 00:05:32,990
drag a little box around, and it makes the picture on their side.

00:05:32,990 --> 00:05:36,150
So you can't get the triangles out as easily!

00:05:36,150 --> 00:05:39,330
I don't know.

00:05:39,330 --> 00:05:40,330
So okay.

00:05:40,330 --> 00:05:41,330
We got the 3D model up.

00:05:41,330 --> 00:05:42,330
Yes.

00:05:42,330 --> 00:05:43,449
Here it is.

00:05:43,449 --> 00:05:44,449
Great.

00:05:44,449 --> 00:05:45,729
Now I needed to print it.

00:05:45,729 --> 00:05:49,099
And at this point, there was like two weeks, maybe less, before our wedding.

00:05:49,099 --> 00:05:53,120
We couldn't go to Shapeways or something.

00:05:53,120 --> 00:05:54,860
More pictures of the model.

00:05:54,860 --> 00:06:00,259
So we had to go to our local friendly maker space in Seattle, Metrix, which is now closed,

00:06:00,259 --> 00:06:02,150
and we asked them for help.

00:06:02,150 --> 00:06:09,380
And one of the things about the model was that the Kinect, the way that it worked, my

00:06:09,380 --> 00:06:12,479
husband's shiny dress shoes messed up his foot.

00:06:12,479 --> 00:06:20,559
So a person at Metrix painstakingly reconstructed the foot for us, so that was really nice of her.

00:06:20,559 --> 00:06:24,650
So we started it printing.

00:06:24,650 --> 00:06:26,810
We went in there probably 11 o clock at night.

00:06:26,810 --> 00:06:28,009
It was taking a while.

00:06:28,009 --> 00:06:29,009
We're like...

00:06:29,009 --> 00:06:30,880
We'll come back tomorrow.

00:06:30,880 --> 00:06:34,880
We came back the next day and saw our model in the little display case.

00:06:35,000 --> 00:06:39,840
Is this like a ceramics painting place where it's on display and you can print it up and

00:06:39,840 --> 00:06:40,840
take it home?

00:06:40,840 --> 00:06:41,580
They're like...

00:06:41,580 --> 00:06:45,380
No, we printed a second copy of you to keep for ourselves.

00:06:46,260 --> 00:06:53,040
It's kind of like that Robin Williams movie where he keeps photos of a family when he's

00:06:53,050 --> 00:06:54,449
developing the film.

00:06:54,449 --> 00:06:56,550
Also, looking at their Flickr stream...

00:06:56,550 --> 00:06:57,550
Like...

00:06:57,550 --> 00:06:58,550
Oh, great.

00:06:58,550 --> 00:07:01,530
They took lots of pictures of the 3D of us.

00:07:01,530 --> 00:07:03,340
So that was kind of nice to see.

00:07:03,340 --> 00:07:04,780
As I was making this talk.

00:07:05,160 --> 00:07:06,920
We got it home.

00:07:07,160 --> 00:07:09,789
Here's the colored sandstone, next to the white plastic.

00:07:09,789 --> 00:07:11,909
A couple different views of that.

00:07:11,909 --> 00:07:13,190
We made it a little bit bigger.

00:07:13,190 --> 00:07:15,430
Kind of details in the back.

00:07:15,430 --> 00:07:17,680
We put it on our cake.

00:07:17,680 --> 00:07:21,759
It all worked out.

00:07:21,759 --> 00:07:25,220
And also, as I was making this talk, I went back to the website.

00:07:25,220 --> 00:07:27,930
Now you can download the data for free.

00:07:27,930 --> 00:07:28,939
Since I already bought it.

00:07:28,939 --> 00:07:34,439
So I was able to just get it and look at the color model, which I hadn't seen before.

00:07:34,439 --> 00:07:36,120
So that was convenient.

00:07:36,120 --> 00:07:37,499
Yeah.

00:07:37,499 --> 00:07:40,259
You know.

00:07:40,259 --> 00:07:44,589
And in the last minute or so, I just want to talk about...

00:07:44,589 --> 00:07:45,589
It's 2020!

00:07:45,589 --> 00:07:47,639
This actually was done in 2014.

00:07:47,639 --> 00:07:49,240
When we had a Kinect.

00:07:49,240 --> 00:07:50,800
What would you do now?

00:07:50,800 --> 00:07:55,879
Well, now there's like a tiny little Kinect in my iPhone these days.

00:07:55,879 --> 00:08:01,619
Like, literally the structured light sensor that the Kinect has, there's something like

00:08:01,619 --> 00:08:02,879
that in your phone.

00:08:02,879 --> 00:08:04,349
There's a little dot projector.

00:08:04,349 --> 00:08:06,460
It's how the faceID works.

00:08:06,460 --> 00:08:07,869
And I didn't even put this together.

00:08:07,869 --> 00:08:09,760
Oh, that's where the depth camera is.

00:08:09,760 --> 00:08:11,120
It's on the front of my phone.

00:08:12,360 --> 00:08:18,860
So I found some iOS app called Capture, and I was using it before this talk.

00:08:18,860 --> 00:08:25,379
And this sure looks a lot like the visualization of Kinect Fusion to me.

00:08:25,379 --> 00:08:27,039
And makes a nice little point cloud.

00:08:27,039 --> 00:08:31,409
So I think if I were to redo this, in this day and age, I wouldn't have to sneak into

00:08:31,409 --> 00:08:32,409
my lab.

00:08:32,409 --> 00:08:34,580
I could do a lot of this in the comfort of my own home.

00:08:34,580 --> 00:08:36,270
I could find a place with better lighting.

00:08:36,270 --> 00:08:40,889
I was very excited to make some models of my cat here.

00:08:40,889 --> 00:08:42,719
And oh, we had to find her when she was sleeping.

00:08:42,719 --> 00:08:43,719
So she wasn't like...

00:08:43,719 --> 00:08:46,070
Ooh, you're waving a phone around!

00:08:46,070 --> 00:08:51,160
So with that, here are three of the tools that I used.

00:08:51,160 --> 00:08:56,180
MeshLab, to look at 3D models of everything, Shapify, and this Capture scan.

00:08:56,180 --> 00:09:01,029
And I want to point out that this whole topic, this project, grew out of my undergraduate

00:09:01,029 --> 00:09:06,540
education here at UCSC a long time ago, with amazing TAs and graduate students.

00:09:06,540 --> 00:09:09,360
At the time, they were getting paid enough to live here.

00:09:09,360 --> 00:09:11,470
Now they're not, so that's why they're on strike.

00:09:11,470 --> 00:09:14,040
And I urge you to support the grad strike here.

00:09:14,040 --> 00:09:14,559

YouTube URL: https://www.youtube.com/watch?v=08QmNfIvbCE


