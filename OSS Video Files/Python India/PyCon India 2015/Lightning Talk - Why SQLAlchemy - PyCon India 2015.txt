Title: Lightning Talk - Why SQLAlchemy - PyCon India 2015
Publication date: 2015-10-12
Playlist: PyCon India 2015
Description: 
	Speaker: Yash

Url: http://www.sqlalchemy.org/
Captions: 
	00:00:00,000 --> 00:00:07,529
okay so the next talk is about SQL

00:00:03,330 --> 00:00:09,300
alchemy by a schmear otra okay so first

00:00:07,529 --> 00:00:13,440
of all I am going to start with a show

00:00:09,300 --> 00:00:17,279
of hands how many of you work with

00:00:13,440 --> 00:00:20,699
relational databases okay that's awfully

00:00:17,279 --> 00:00:23,970
lot okay and out of those how many of

00:00:20,699 --> 00:00:27,900
you use Django and am i right to assume

00:00:23,970 --> 00:00:29,970
that you use the Django RM I think I'm

00:00:27,900 --> 00:00:32,880
anybody who doesn't anybody who has

00:00:29,970 --> 00:00:35,489
heard of a scale alchemy by the way okay

00:00:32,880 --> 00:00:39,600
that's cool so anyway for those who

00:00:35,489 --> 00:00:44,940
don't know it's an ORM I'm yash Malhotra

00:00:39,600 --> 00:00:46,469
I'm a student open-source evangelist so

00:00:44,940 --> 00:00:49,170
today I'm just going to tell you about a

00:00:46,469 --> 00:00:52,289
little bit about SEL alchemy how does it

00:00:49,170 --> 00:00:54,989
work why many people find it better than

00:00:52,289 --> 00:00:58,649
the Django so our aim and by many people

00:00:54,989 --> 00:01:02,660
consider best wore him out there so what

00:00:58,649 --> 00:01:07,200
is a scale alchemy it's basically a

00:01:02,660 --> 00:01:10,500
toolkit and an ORM it provided this is

00:01:07,200 --> 00:01:12,720
basically from the website so it doesn't

00:01:10,500 --> 00:01:14,310
really you can read it but what it

00:01:12,720 --> 00:01:16,409
basically means is if you use a

00:01:14,310 --> 00:01:18,770
relational database and you're writing

00:01:16,409 --> 00:01:23,250
Roy as Hilary's it's time for a change

00:01:18,770 --> 00:01:25,710
it is more secure it you don't have to

00:01:23,250 --> 00:01:30,930
manually escape characters to prevent

00:01:25,710 --> 00:01:33,299
injections and it's more pythonic and RM

00:01:30,930 --> 00:01:37,320
is an object relational Matt mapper it

00:01:33,299 --> 00:01:41,040
basically creates herb you can basically

00:01:37,320 --> 00:01:43,110
create a ddl in your code like a class

00:01:41,040 --> 00:01:45,030
and then the table name and then you can

00:01:43,110 --> 00:01:48,479
write the columns in your class I will

00:01:45,030 --> 00:01:53,970
show you the code snippets later how

00:01:48,479 --> 00:01:56,040
does it work and so it extra basically

00:01:53,970 --> 00:01:59,850
one thing which SQL alchemy does better

00:01:56,040 --> 00:02:03,619
than Django is it exists excesses more

00:01:59,850 --> 00:02:06,299
layers of the Django of the SQL or SQL

00:02:03,619 --> 00:02:08,970
compared to django I think Django item

00:02:06,299 --> 00:02:12,330
just excesses the top layer and you

00:02:08,970 --> 00:02:13,860
can't do many customizable many you

00:02:12,330 --> 00:02:16,830
can't customize many things with

00:02:13,860 --> 00:02:19,500
but with a scale alchemy you get a bit

00:02:16,830 --> 00:02:22,170
more power you feel like you you're

00:02:19,500 --> 00:02:26,100
controlling most things so via scale

00:02:22,170 --> 00:02:28,980
alchemy first of all like it's more

00:02:26,100 --> 00:02:32,970
pythonic I think many of you must have

00:02:28,980 --> 00:02:34,800
used a post safe signal and he has

00:02:32,970 --> 00:02:38,430
anybody tried to override the safe

00:02:34,800 --> 00:02:41,250
matter in Django irem so some people

00:02:38,430 --> 00:02:43,320
have so it's a good way and many people

00:02:41,250 --> 00:02:45,660
and instyle who you'll find it the first

00:02:43,320 --> 00:02:49,200
answer but I don't consider it very

00:02:45,660 --> 00:02:51,270
pythonic so SQL alchemy has event

00:02:49,200 --> 00:02:55,380
lessness you can add event listeners for

00:02:51,270 --> 00:03:01,650
a table pre insert after insert it works

00:02:55,380 --> 00:03:05,820
like triggers so yeah that's more it

00:03:01,650 --> 00:03:07,890
it's moga also its syntax is consistent

00:03:05,820 --> 00:03:10,830
like in SQL alchemy if you are doing a

00:03:07,890 --> 00:03:12,989
query you just write session dot query

00:03:10,830 --> 00:03:17,400
than the table name and then you write

00:03:12,989 --> 00:03:20,400
filter like say you have to see which

00:03:17,400 --> 00:03:21,930
persons get a list of people whose age

00:03:20,400 --> 00:03:24,810
is greater than 30 so you can write this

00:03:21,930 --> 00:03:27,930
filter user dot age greater than equal

00:03:24,810 --> 00:03:30,209
to 30 or something like that and it's

00:03:27,930 --> 00:03:31,650
similar everywhere but in Django for

00:03:30,209 --> 00:03:34,590
that you have to write like underscore

00:03:31,650 --> 00:03:36,480
underscore gte on discount Rosco GT and

00:03:34,590 --> 00:03:37,760
if you are working with multiple foreign

00:03:36,480 --> 00:03:39,630
keys it's like underscore underscore

00:03:37,760 --> 00:03:43,500
then the table name underscore

00:03:39,630 --> 00:03:47,130
underscore so it really is crumbles it

00:03:43,500 --> 00:03:49,200
doesn't look nice so if you are

00:03:47,130 --> 00:03:51,600
interested in SQL alkem it's very simple

00:03:49,200 --> 00:03:57,480
to start just paper install SQL alchemy

00:03:51,600 --> 00:04:01,470
and ok so the first imports you can

00:03:57,480 --> 00:04:03,540
leave that this engine part is basically

00:04:01,470 --> 00:04:07,140
you it works with by the wit works with

00:04:03,540 --> 00:04:10,560
all the RDS oracle SQL Lite pause raise

00:04:07,140 --> 00:04:14,190
my scale ok now I'm just going to give

00:04:10,560 --> 00:04:17,190
you example here like a class user and

00:04:14,190 --> 00:04:20,850
it has a table name user three columns

00:04:17,190 --> 00:04:23,880
ID name email and when I do base dot

00:04:20,850 --> 00:04:27,180
method or create all engine so imagine I

00:04:23,880 --> 00:04:27,660
have multiple classes like this and this

00:04:27,180 --> 00:04:29,970
command

00:04:27,660 --> 00:04:32,130
basically creates all the tables in

00:04:29,970 --> 00:04:35,730
whatever they in whatever database you

00:04:32,130 --> 00:04:41,250
specify here so it's very clean and it's

00:04:35,730 --> 00:04:43,500
much more easy to handle and this is the

00:04:41,250 --> 00:04:47,580
scale alchemy API say i have created

00:04:43,500 --> 00:04:49,890
three users and i added them actually

00:04:47,580 --> 00:04:52,290
this was going to be a lifetime of the

00:04:49,890 --> 00:04:55,500
code but due to some problem with hdmi

00:04:52,290 --> 00:04:57,990
port I couldn't give it so querying is

00:04:55,500 --> 00:05:01,260
simply easy session dot query table name

00:04:57,990 --> 00:05:03,470
and if you want to do something specific

00:05:01,260 --> 00:05:05,930
you can session dot query filter and

00:05:03,470 --> 00:05:09,810
double equal to you can search by email

00:05:05,930 --> 00:05:12,420
so for update basically what I did is if

00:05:09,810 --> 00:05:16,590
I have need to update my name to my full

00:05:12,420 --> 00:05:19,110
name so i took that object i change its

00:05:16,590 --> 00:05:22,590
name and then i added it to the session

00:05:19,110 --> 00:05:26,400
and I committed it so it's pretty simple

00:05:22,590 --> 00:05:29,580
and if you are working with Django RM

00:05:26,400 --> 00:05:33,230
you can shift it shift to SQL alchemy

00:05:29,580 --> 00:05:38,670
there's a tool called al-jami aaltje my

00:05:33,230 --> 00:05:43,520
if you want it and then similarly you

00:05:38,670 --> 00:05:46,950
can delete delete with the session and

00:05:43,520 --> 00:05:50,160
basically you can do a lot of things so

00:05:46,950 --> 00:05:52,950
I don't know how many of you will try it

00:05:50,160 --> 00:05:55,919
but I do suggest like just give a scale

00:05:52,950 --> 00:05:59,580
alchemy a try for those who do complex

00:05:55,919 --> 00:06:02,070
scale operations in a joint lots of

00:05:59,580 --> 00:06:04,290
outer joints or who may be facing some

00:06:02,070 --> 00:06:07,410
scaling problems due to relational

00:06:04,290 --> 00:06:09,360
databases in their Django websites i

00:06:07,410 --> 00:06:12,150
highly suggest them to try a scale

00:06:09,360 --> 00:06:17,990
alchemy and that's it thank you any

00:06:12,150 --> 00:06:17,990

YouTube URL: https://www.youtube.com/watch?v=rwXyv9YG7Z4


