Title: Lightning Talk - Deployment automation - PyCon India 2015
Publication date: 2015-10-12
Playlist: PyCon India 2015
Description: 
	
Captions: 
	00:00:00,000 --> 00:00:04,890
hi everyone so deployment automation

00:00:02,700 --> 00:00:06,620
deployment automation is something which

00:00:04,890 --> 00:00:08,849
every organization wants to have

00:00:06,620 --> 00:00:11,099
evidence to achieve a single click

00:00:08,849 --> 00:00:14,099
deployment process so how can you date

00:00:11,099 --> 00:00:15,690
let me tell you the requirements that we

00:00:14,099 --> 00:00:18,900
were having the problem statements we

00:00:15,690 --> 00:00:21,660
had so we have around eight to nine lobs

00:00:18,900 --> 00:00:23,550
line of business and everyone were

00:00:21,660 --> 00:00:25,640
having their own deployment scripts and

00:00:23,550 --> 00:00:27,869
few of the logs were having even

00:00:25,640 --> 00:00:30,800
deployments totally manually so one

00:00:27,869 --> 00:00:33,239
person sits on server logs into it and

00:00:30,800 --> 00:00:35,790
do the changes restart the application

00:00:33,239 --> 00:00:38,309
then logs into the another server so it

00:00:35,790 --> 00:00:40,770
was most of the process was manually so

00:00:38,309 --> 00:00:44,520
obviously it's not acceptable how can we

00:00:40,770 --> 00:00:46,559
do it totally automated so when we

00:00:44,520 --> 00:00:48,809
started exploring it we got to know

00:00:46,559 --> 00:00:51,329
about the run deck which is based on

00:00:48,809 --> 00:00:53,250
basically acid mechanism but it was not

00:00:51,329 --> 00:00:55,500
suitable for us because we have we are

00:00:53,250 --> 00:00:58,020
having windows servers also as a stack

00:00:55,500 --> 00:01:00,059
so then afterwards we explored M

00:00:58,020 --> 00:01:02,460
collective so it's an orchestration tune

00:01:00,059 --> 00:01:05,580
which comes along with the puppet most

00:01:02,460 --> 00:01:07,619
of you have used it so we are having one

00:01:05,580 --> 00:01:10,260
client server and thousands of master

00:01:07,619 --> 00:01:12,030
servers so you can actually push the

00:01:10,260 --> 00:01:14,369
commands from one client server to all

00:01:12,030 --> 00:01:17,280
the server's parallely so we are having

00:01:14,369 --> 00:01:20,100
activemq as a queuing system you push

00:01:17,280 --> 00:01:23,130
the commands it gets queued in the

00:01:20,100 --> 00:01:26,790
activemq and all the master servers look

00:01:23,130 --> 00:01:29,700
at the commands that it this particular

00:01:26,790 --> 00:01:31,439
command is for me or not then it acts on

00:01:29,700 --> 00:01:34,170
that command and response to that

00:01:31,439 --> 00:01:35,700
activemq and from activemq be read that

00:01:34,170 --> 00:01:38,400
verse the response of that particular

00:01:35,700 --> 00:01:40,890
command or on that particular server so

00:01:38,400 --> 00:01:43,649
it's actually based basically parallel

00:01:40,890 --> 00:01:45,750
deployments happening on so let me show

00:01:43,649 --> 00:01:48,689
you the deployment dashboard that we are

00:01:45,750 --> 00:01:50,579
having so this is a deployment dashboard

00:01:48,689 --> 00:01:54,180
you can see that we have application

00:01:50,579 --> 00:01:56,579
projects and all so what we have done is

00:01:54,180 --> 00:01:59,040
we have a my sequel as a back end so we

00:01:56,579 --> 00:02:01,350
store all the applications all these

00:01:59,040 --> 00:02:03,299
servers map to it and what all actions

00:02:01,350 --> 00:02:05,280
we want to trigger to it we have master

00:02:03,299 --> 00:02:07,020
table defining all the actions and we

00:02:05,280 --> 00:02:09,090
have another table define mapping

00:02:07,020 --> 00:02:11,009
application with the actions so what all

00:02:09,090 --> 00:02:13,590
actions you want to trigger on that

00:02:11,009 --> 00:02:15,750
particular application so by seller

00:02:13,590 --> 00:02:18,540
think that application you can basically

00:02:15,750 --> 00:02:20,489
you need to define configuration also so

00:02:18,540 --> 00:02:22,290
what are the basically containers you

00:02:20,489 --> 00:02:25,410
have you want to restart on it you

00:02:22,290 --> 00:02:28,709
define all the actions basically let me

00:02:25,410 --> 00:02:33,000
show you okay just leave it so basically

00:02:28,709 --> 00:02:34,500
when we when we click on the deploy we

00:02:33,000 --> 00:02:37,110
are having multiple options to deploy a

00:02:34,500 --> 00:02:39,720
redeploy a resume roll back whenever you

00:02:37,110 --> 00:02:41,040
click on the dip I option and so it

00:02:39,720 --> 00:02:42,330
picks up the all the action from the

00:02:41,040 --> 00:02:44,670
back end but elections you want to

00:02:42,330 --> 00:02:47,040
trigger in serial order and we have

00:02:44,670 --> 00:02:49,440
integrated it with it with the f5 using

00:02:47,040 --> 00:02:50,970
the PI control AP we have integrated it

00:02:49,440 --> 00:02:53,220
with this entry on to enable or disable

00:02:50,970 --> 00:02:56,790
notifications that you have configured

00:02:53,220 --> 00:02:59,489
in so it's totally just single click you

00:02:56,790 --> 00:03:01,620
can deploy the changes on thousands of

00:02:59,489 --> 00:03:06,390
servers parallely in just 15 to 20

00:03:01,620 --> 00:03:08,989
minutes and we also implemented the

00:03:06,390 --> 00:03:11,610
runtime logs you can see on this it's

00:03:08,989 --> 00:03:15,510
basically implemented using the web

00:03:11,610 --> 00:03:17,730
sockets and we have optional to even

00:03:15,510 --> 00:03:19,680
enable or disable the servers on f5

00:03:17,730 --> 00:03:21,780
directly using the PI controller a way

00:03:19,680 --> 00:03:24,150
we have given detail complete detail

00:03:21,780 --> 00:03:26,910
here server wise but the status of the

00:03:24,150 --> 00:03:28,290
deployment on particular server if some

00:03:26,910 --> 00:03:30,630
error comes then also it shows

00:03:28,290 --> 00:03:32,160
everything is available on to itself low

00:03:30,630 --> 00:03:34,650
need to log in to that server and do

00:03:32,160 --> 00:03:36,660
anything so what person just need to log

00:03:34,650 --> 00:03:38,819
in and just click on deploy and your

00:03:36,660 --> 00:03:41,060
application will be deployed in just 15

00:03:38,819 --> 00:03:49,560
to 50 minutes on thousands of servers

00:03:41,060 --> 00:03:51,840
thank you thank you any questions yes so

00:03:49,560 --> 00:04:00,139
we are trying to open source it soon it

00:03:51,840 --> 00:04:00,139

YouTube URL: https://www.youtube.com/watch?v=dEA-0o7kBzY


