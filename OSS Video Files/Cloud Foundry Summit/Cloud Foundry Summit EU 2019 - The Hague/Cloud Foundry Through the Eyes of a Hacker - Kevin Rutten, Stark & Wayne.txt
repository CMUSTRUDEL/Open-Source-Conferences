Title: Cloud Foundry Through the Eyes of a Hacker - Kevin Rutten, Stark & Wayne
Publication date: 2019-09-13
Playlist: Cloud Foundry Summit EU 2019 - The Hague
Description: 
	Cloud Foundry Through the Eyes of a Hacker - Kevin Rutten, Stark & Wayne 

What does Cloud Foundry look like from an attackerâ€™s perspective? What can an outsider see? What if the attacker was a knowledgeable insider? Can either of these people break our system, steal data, or modify it to their advantage? Armed with this information, how can we mitigate our risks? In this talk, we will examine the Cloud Foundry attack surface. By looking through the eyes of a potential attacker and examining possible risks, you will be better prepared to mitigate risks and defend your infrastructure. 

For more info: https://www.cloudfoundry.org/
Captions: 
	00:00:00,060 --> 00:00:08,130
saying given one for showing up and my

00:00:04,080 --> 00:00:11,219
talk is through the eyes of a hacker now

00:00:08,130 --> 00:00:13,190
cloud country edition so my name is

00:00:11,219 --> 00:00:16,400
Kevin I work for Stark and Wayne

00:00:13,190 --> 00:00:21,510
consultancy we love Cloud Foundry we

00:00:16,400 --> 00:00:23,400
basically set up and maintain and work

00:00:21,510 --> 00:00:23,730
on it and support the community we love

00:00:23,400 --> 00:00:27,029
it

00:00:23,730 --> 00:00:31,610
so it was kind of one of the things we

00:00:27,029 --> 00:00:35,430
decided we should figure out a hacker

00:00:31,610 --> 00:00:38,000
right does he love Cloud Foundry you

00:00:35,430 --> 00:00:41,250
know what would it look like to him and

00:00:38,000 --> 00:00:42,960
if you're you know in the security world

00:00:41,250 --> 00:00:46,230
you know about all the stuff going on

00:00:42,960 --> 00:00:48,480
you and some where's and blue keep and

00:00:46,230 --> 00:00:53,129
so forth but we want to look at

00:00:48,480 --> 00:00:55,770
something a little bit more towards the

00:00:53,129 --> 00:00:57,989
Cloud Foundry side and we're not really

00:00:55,770 --> 00:01:00,989
talking too much about you know the

00:00:57,989 --> 00:01:04,350
curious the the the brilliant hackers

00:01:00,989 --> 00:01:07,770
we're more talking you know the guys who

00:01:04,350 --> 00:01:10,830
want a quick buck or you know they're

00:01:07,770 --> 00:01:13,979
just in a to you know be bad guys and

00:01:10,830 --> 00:01:17,580
their main means of attack is gonna be

00:01:13,979 --> 00:01:21,780
stuff like phishing attacks and scripts

00:01:17,580 --> 00:01:25,229
that they get off and you know so we

00:01:21,780 --> 00:01:30,180
started to look at this okay we had

00:01:25,229 --> 00:01:31,920
slide oh by the way TV's lots of things

00:01:30,180 --> 00:01:34,259
lots of holes on the operating systems

00:01:31,920 --> 00:01:36,600
in components we're not really gonna be

00:01:34,259 --> 00:01:43,140
talking about that directly keep your

00:01:36,600 --> 00:01:45,810
systems updated so round one so okay our

00:01:43,140 --> 00:01:48,119
friend the hacker wants to attack

00:01:45,810 --> 00:01:50,130
something he starts using some common

00:01:48,119 --> 00:01:52,860
tools and map whatever find an open port

00:01:50,130 --> 00:01:56,880
okay hey here's an interesting one left

00:01:52,860 --> 00:01:59,100
curl it hmm that's a weird message one

00:01:56,880 --> 00:02:02,100
minute of Google hey this is Cloud

00:01:59,100 --> 00:02:04,380
Foundry here the route okay so what is

00:02:02,100 --> 00:02:06,270
this cloud found everything Wow here's

00:02:04,380 --> 00:02:08,599
some great documentation here's the

00:02:06,270 --> 00:02:11,580
thing to log in you need a domain name

00:02:08,599 --> 00:02:13,050
okay well I got might be jet dress SSL

00:02:11,580 --> 00:02:15,060
certificate

00:02:13,050 --> 00:02:19,140
okay a little bit of information leakage

00:02:15,060 --> 00:02:21,570
maybe but all of us developers and

00:02:19,140 --> 00:02:25,320
operators we need SSL Certificates we

00:02:21,570 --> 00:02:28,680
need to have a port something open for

00:02:25,320 --> 00:02:33,150
people to connect to right so he now

00:02:28,680 --> 00:02:35,310
knows here are all the domain names

00:02:33,150 --> 00:02:37,290
there's one login on system there is

00:02:35,310 --> 00:02:40,860
system dot from all the documentation

00:02:37,290 --> 00:02:43,890
he's seen API dot system dot North dock

00:02:40,860 --> 00:02:46,910
you know CFD example.com I'm gonna start

00:02:43,890 --> 00:02:49,320
poking at that right there the v2 info

00:02:46,910 --> 00:02:54,660
get some version numbers get some other

00:02:49,320 --> 00:02:58,380
information now you know as operators we

00:02:54,660 --> 00:03:00,330
set this up right we have a firewall and

00:02:58,380 --> 00:03:02,730
a load balancer somewhere it's going to

00:03:00,330 --> 00:03:05,520
come in it's going to go through our go

00:03:02,730 --> 00:03:09,210
routers in our CF hey this is standard

00:03:05,520 --> 00:03:12,000
and maybe we see you know some weird

00:03:09,210 --> 00:03:13,380
requests coming in on the API port we

00:03:12,000 --> 00:03:17,540
want to do something about that well we

00:03:13,380 --> 00:03:20,820
have a VPN will you change the DNS entry

00:03:17,540 --> 00:03:24,030
you try doing it goes to attend dot

00:03:20,820 --> 00:03:26,270
something times out right we've stopped

00:03:24,030 --> 00:03:31,980
the tracker in his house in his tracks

00:03:26,270 --> 00:03:34,050
he can't do anything and please if you

00:03:31,980 --> 00:03:37,940
maintain any laundry please keep it

00:03:34,050 --> 00:03:41,820
up-to-date so round two

00:03:37,940 --> 00:03:45,570
our hacker well he's he's not gonna give

00:03:41,820 --> 00:03:47,700
up that easily right you can pass in the

00:03:45,570 --> 00:03:52,350
B host right coming through a little

00:03:47,700 --> 00:03:55,170
bouncer so he finds out oh this works

00:03:52,350 --> 00:03:57,120
just pop it into as he host you know

00:03:55,170 --> 00:03:57,890
nothing fancy he can continue his

00:03:57,120 --> 00:04:03,000
attacks

00:03:57,890 --> 00:04:05,610
so as an operator you know there's some

00:04:03,000 --> 00:04:08,820
stuff we can do to stop it you can go on

00:04:05,610 --> 00:04:09,510
to your load balancer and you can

00:04:08,820 --> 00:04:13,260
blacklist

00:04:09,510 --> 00:04:14,700
domain names and vhosts right not too

00:04:13,260 --> 00:04:17,660
sure if anyone here has done that before

00:04:14,700 --> 00:04:21,989
anyone who really wants to do that but

00:04:17,660 --> 00:04:24,750
okay we do this we can block the hacker

00:04:21,989 --> 00:04:26,580
right in

00:04:24,750 --> 00:04:28,740
H a proxy you'd have something like

00:04:26,580 --> 00:04:31,920
silence we drop a quest and nginx if

00:04:28,740 --> 00:04:33,420
using an engine decks reverse proxy you

00:04:31,920 --> 00:04:37,710
can just add another server block to

00:04:33,420 --> 00:04:39,600
return 503 403 I differently to do it

00:04:37,710 --> 00:04:45,860
after you think f5 they have a way

00:04:39,600 --> 00:04:51,690
elby's so and everyone please remember

00:04:45,860 --> 00:04:52,610
update your clock down trees okay round

00:04:51,690 --> 00:04:57,210
three

00:04:52,610 --> 00:05:00,570
our hacker he's up and all the coolest

00:04:57,210 --> 00:05:02,870
latest hacking techniques right you go

00:05:00,570 --> 00:05:07,380
onto the dark web you can do stuff like

00:05:02,870 --> 00:05:09,300
by email and password list right adobe

00:05:07,380 --> 00:05:14,280
has been broken into had their list

00:05:09,300 --> 00:05:16,350
stolen xkt there's hundreds of sites

00:05:14,280 --> 00:05:17,940
where their databases have been dumped

00:05:16,350 --> 00:05:21,930
and there's a whole bunch of these

00:05:17,940 --> 00:05:23,970
emails and passwords right and so what's

00:05:21,930 --> 00:05:27,810
happening right now is hackers are

00:05:23,970 --> 00:05:30,390
taking these known good emails and old

00:05:27,810 --> 00:05:32,520
passwords and they're saying well okay

00:05:30,390 --> 00:05:35,370
this was from adobe let's try this with

00:05:32,520 --> 00:05:38,040
ebay let's try this is amazon let's try

00:05:35,370 --> 00:05:40,229
this maybe they used it somewhere all

00:05:38,040 --> 00:05:41,880
right very common attack nowadays and

00:05:40,229 --> 00:05:43,470
you're going well that's not really

00:05:41,880 --> 00:05:45,870
going to work someone throwing hundreds

00:05:43,470 --> 00:05:47,940
and hundreds of login attempts an api

00:05:45,870 --> 00:05:50,130
it'll get great limited it'll get

00:05:47,940 --> 00:05:54,030
blocked it'll get you know failed a ban

00:05:50,130 --> 00:05:55,979
and raccattack them kickstarter except

00:05:54,030 --> 00:05:59,640
they're some tools out there in the dark

00:05:55,979 --> 00:06:03,240
web you can rent a proxy with you know

00:05:59,640 --> 00:06:06,360
those uh botnets and so your requests go

00:06:03,240 --> 00:06:09,960
to this bottleneck and go from thousands

00:06:06,360 --> 00:06:12,780
of IP addresses so one email and one one

00:06:09,960 --> 00:06:14,729
email and one password comes from one IP

00:06:12,780 --> 00:06:17,100
address the next email and password

00:06:14,729 --> 00:06:18,360
comes from another IP address another

00:06:17,100 --> 00:06:21,540
email and password comes from another

00:06:18,360 --> 00:06:24,900
one right looks like good traffic if you

00:06:21,540 --> 00:06:28,110
try and tighten down how many login

00:06:24,900 --> 00:06:31,050
attempts from one IP address you've just

00:06:28,110 --> 00:06:34,430
hosed any offices you have that have one

00:06:31,050 --> 00:06:34,430
router so

00:06:35,100 --> 00:06:38,960
the solution most of the industry is

00:06:36,510 --> 00:06:43,110
using is multi-factor authentication

00:06:38,960 --> 00:06:46,740
right it's actually built in to UAA it

00:06:43,110 --> 00:06:51,630
was released last year in 2018 but it's

00:06:46,740 --> 00:06:53,550
still not very popular the documentation

00:06:51,630 --> 00:06:56,940
for it basically doesn't exist it's a

00:06:53,550 --> 00:06:58,680
few API calls there's some changes that

00:06:56,940 --> 00:07:00,330
be done and there's a lot of people that

00:06:58,680 --> 00:07:02,310
don't like using it because you have to

00:07:00,330 --> 00:07:03,570
a little app on your phone right Google

00:07:02,310 --> 00:07:05,490
ascend to cater is probably the one

00:07:03,570 --> 00:07:08,280
you're most familiar with Microsoft

00:07:05,490 --> 00:07:11,300
makes one I actually like Aussie it has

00:07:08,280 --> 00:07:15,360
a way of backing up your one-time codes

00:07:11,300 --> 00:07:18,330
to other phones so I had it on my phone

00:07:15,360 --> 00:07:20,190
I used the Bluetooth copy to copy to my

00:07:18,330 --> 00:07:23,460
iPad so if I left my phone downstairs

00:07:20,190 --> 00:07:26,100
I'm logging in somewhere okay

00:07:23,460 --> 00:07:29,210
makes two-factor authentication more

00:07:26,100 --> 00:07:31,950
palatable which is one of the problems

00:07:29,210 --> 00:07:34,050
but you know people are complaining well

00:07:31,950 --> 00:07:35,790
it's gonna break all my pipelines right

00:07:34,050 --> 00:07:37,070
my pipeline is login it can't do

00:07:35,790 --> 00:07:39,600
two-factor authentication

00:07:37,070 --> 00:07:42,990
what the cloud country people are

00:07:39,600 --> 00:07:45,980
suggesting is you switch over to you

00:07:42,990 --> 00:07:48,240
know the client secret find cadential

00:07:45,980 --> 00:07:50,100
they've done that to the smoke test

00:07:48,240 --> 00:07:52,020
which is why they will work again but

00:07:50,100 --> 00:07:55,020
that's one of the reasons why you didn't

00:07:52,020 --> 00:07:56,490
hear too much about it in 2018 is they

00:07:55,020 --> 00:08:00,300
weren't pushing it because smoke tests

00:07:56,490 --> 00:08:02,820
had to be updated and you know this is a

00:08:00,300 --> 00:08:05,130
bit different right without multi-factor

00:08:02,820 --> 00:08:07,980
authentication because you're generating

00:08:05,130 --> 00:08:09,990
basically a random ID and a random

00:08:07,980 --> 00:08:12,960
password that hopefully you're storing

00:08:09,990 --> 00:08:15,510
in your pipeline's vault or credit hub

00:08:12,960 --> 00:08:18,180
it's not going to be usable anywhere

00:08:15,510 --> 00:08:19,380
else it's not reusable so you know the

00:08:18,180 --> 00:08:22,250
fact it doesn't have multi-factor

00:08:19,380 --> 00:08:26,610
authentication on it isn't a big issue

00:08:22,250 --> 00:08:31,230
right but to turn on multi-factor

00:08:26,610 --> 00:08:33,210
authentication is this is just one of 20

00:08:31,230 --> 00:08:36,660
30 different UAA commands you have to

00:08:33,210 --> 00:08:37,890
run correctly to get it turned on and

00:08:36,660 --> 00:08:40,140
most people are doing it on separate

00:08:37,890 --> 00:08:42,450
zones and there's a whole debate on

00:08:40,140 --> 00:08:46,440
whether or not you're going to you know

00:08:42,450 --> 00:08:48,270
force it on everybody or not so show of

00:08:46,440 --> 00:08:48,960
hands that anybody have multi-factor

00:08:48,270 --> 00:08:53,240
authentication

00:08:48,960 --> 00:08:55,860
on any of their cloud boundaries yeah

00:08:53,240 --> 00:08:57,750
this as far as I know there's only like

00:08:55,860 --> 00:08:59,550
three cloud foundries in the world that

00:08:57,750 --> 00:09:00,780
has successfully turned it on it's

00:08:59,550 --> 00:09:04,050
something that we kind of need to work

00:09:00,780 --> 00:09:10,730
on by the way everyone please remember

00:09:04,050 --> 00:09:13,020
to update your cloud boundaries okay so

00:09:10,730 --> 00:09:16,110
none of us are using multi-factor

00:09:13,020 --> 00:09:22,950
authentication probably very few of us

00:09:16,110 --> 00:09:24,960
have gotten our login api's blocked off

00:09:22,950 --> 00:09:28,590
on the internet you know on the VPN only

00:09:24,960 --> 00:09:31,020
or anything like that so you know our

00:09:28,590 --> 00:09:34,380
company has a designer the company is

00:09:31,020 --> 00:09:35,790
paying for his Adobe suite all right

00:09:34,380 --> 00:09:37,230
he's logged into Cloud Foundry once or

00:09:35,790 --> 00:09:41,160
twice he's logged into Adobe Adobe

00:09:37,230 --> 00:09:43,140
attacked password list taken out he

00:09:41,160 --> 00:09:45,060
changes his Adobe password like a good

00:09:43,140 --> 00:09:48,930
person it gets all about his other

00:09:45,060 --> 00:09:51,960
credentials password list comes our

00:09:48,930 --> 00:09:54,120
little hacker guy that's his past with

00:09:51,960 --> 00:09:58,290
attack he then he's found someone's

00:09:54,120 --> 00:10:02,040
credentials so the most common first

00:09:58,290 --> 00:10:05,220
attack is gonna be just hey push him a

00:10:02,040 --> 00:10:08,520
Bitcoin miner easy money right no

00:10:05,220 --> 00:10:10,860
problem there's four or five of them you

00:10:08,520 --> 00:10:13,740
know already on docker hub for things

00:10:10,860 --> 00:10:14,910
that are more CPU friendly and this has

00:10:13,740 --> 00:10:18,390
been around for a long time this is a

00:10:14,910 --> 00:10:22,290
slide from 2014 pivotal talking about

00:10:18,390 --> 00:10:23,940
their pivotal web services and just how

00:10:22,290 --> 00:10:27,000
much problems they're having with

00:10:23,940 --> 00:10:29,400
Bitcoin miners right you get free 21-day

00:10:27,000 --> 00:10:32,250
trial people sign up upload Bitcoin

00:10:29,400 --> 00:10:35,040
miners you know for like a couple cents

00:10:32,250 --> 00:10:36,360
and it's free for them if you got the

00:10:35,040 --> 00:10:38,610
email stolen credit cards or whatever

00:10:36,360 --> 00:10:40,410
you can you know push it up Amazon has

00:10:38,610 --> 00:10:42,630
this problem and jr. had this problem a

00:10:40,410 --> 00:10:45,690
whole bunch of hosting providers you

00:10:42,630 --> 00:10:48,270
know Bitcoin nice but not too big of a

00:10:45,690 --> 00:10:50,720
problem for us because we're monitoring

00:10:48,270 --> 00:10:53,550
our Cloud Foundry right we have you know

00:10:50,720 --> 00:10:55,470
Prometheus installed in a dashboard we

00:10:53,550 --> 00:10:56,960
should be watching for cells that are at

00:10:55,470 --> 00:10:59,520
a hundred percent or 90 percent

00:10:56,960 --> 00:11:02,279
constantly because even if it's not a

00:10:59,520 --> 00:11:04,350
Bitcoin miner right you don't make

00:11:02,279 --> 00:11:06,629
it's a bad Java app that's gone crazy or

00:11:04,350 --> 00:11:08,759
something so if someone's pushing up

00:11:06,629 --> 00:11:12,870
Bitcoin miners hopefully you will see it

00:11:08,759 --> 00:11:15,089
will be able to clean it up right and if

00:11:12,870 --> 00:11:17,269
it's not a Bitcoin miner then you'll

00:11:15,089 --> 00:11:23,279
just talk to the app developer and say

00:11:17,269 --> 00:11:24,930
come on so and just a quick note this is

00:11:23,279 --> 00:11:26,249
a honeybee sensitive you time if it was

00:11:24,930 --> 00:11:29,189
something like a build pack it would be

00:11:26,249 --> 00:11:31,499
more spiky because of disk i/o so you

00:11:29,189 --> 00:11:32,850
can do stuff like set up monitors that

00:11:31,499 --> 00:11:35,819
say hey if something is a hundred

00:11:32,850 --> 00:11:40,410
percent for two minutes alert me right

00:11:35,819 --> 00:11:42,120
it's not too difficult and everyone

00:11:40,410 --> 00:11:50,819
please remember to update your cloud

00:11:42,120 --> 00:11:52,910
boundaries so our hacker he's not into

00:11:50,819 --> 00:11:56,040
Bitcoin he's a little bit more clever

00:11:52,910 --> 00:11:58,769
there is some fantastic documentation

00:11:56,040 --> 00:12:01,620
some great courses the pivotal website

00:11:58,769 --> 00:12:04,740
the training all of these conference

00:12:01,620 --> 00:12:07,170
talks he's gonna start poking around he

00:12:04,740 --> 00:12:10,019
gots a login he's gonna do this orc

00:12:07,170 --> 00:12:13,290
thing and space thing and hey look at

00:12:10,019 --> 00:12:16,699
these databases hooked up Ian V I've got

00:12:13,290 --> 00:12:19,680
the creds alright I can now start

00:12:16,699 --> 00:12:23,180
downloading the app databases

00:12:19,680 --> 00:12:26,100
alright you you have a little you know

00:12:23,180 --> 00:12:29,490
messaging app or you know maybe your

00:12:26,100 --> 00:12:31,709
payroll up on Cloud Foundry and they

00:12:29,490 --> 00:12:33,870
download the app and that apps going to

00:12:31,709 --> 00:12:37,079
have probably an authentication table

00:12:33,870 --> 00:12:39,480
with emails in it he's now got a fresh

00:12:37,079 --> 00:12:41,990
list of emails that's probably quite

00:12:39,480 --> 00:12:45,350
relevant for your Cloud Foundry and

00:12:41,990 --> 00:12:48,059
depending on the age of the

00:12:45,350 --> 00:12:49,500
authentication library maybe they're not

00:12:48,059 --> 00:12:52,319
hashed very well maybe they're not

00:12:49,500 --> 00:12:54,420
salted maybe your developer skipped

00:12:52,319 --> 00:12:56,399
every single security course in this

00:12:54,420 --> 00:12:59,370
during the passwords plaintext I mean

00:12:56,399 --> 00:13:01,410
that that still happens today so he gets

00:12:59,370 --> 00:13:04,740
in he grabs one of these passwords lists

00:13:01,410 --> 00:13:06,689
he throws it against you a a again maybe

00:13:04,740 --> 00:13:09,449
he gets a few more logins maybe he gets

00:13:06,689 --> 00:13:13,709
another login with more databases and

00:13:09,449 --> 00:13:16,019
the cycle repeats and also if you have a

00:13:13,709 --> 00:13:19,139
list of emails

00:13:16,019 --> 00:13:21,480
and passwords that work on a site you

00:13:19,139 --> 00:13:24,480
can sell it again right there is a dark

00:13:21,480 --> 00:13:26,550
web where you take these lists of hacked

00:13:24,480 --> 00:13:28,679
sites you test them against another one

00:13:26,550 --> 00:13:31,889
don't do anything just see which ones

00:13:28,679 --> 00:13:36,569
login and those lists of Ascenta cage

00:13:31,889 --> 00:13:37,829
ones are worth more money right and the

00:13:36,569 --> 00:13:39,660
cycle repeats because those ones

00:13:37,829 --> 00:13:41,549
no one knows they've been hacked no

00:13:39,660 --> 00:13:43,439
one's gonna change their password right

00:13:41,549 --> 00:13:45,569
I mean how many times do you guys go to

00:13:43,439 --> 00:13:47,040
your site and say well I don't know I've

00:13:45,569 --> 00:13:50,129
been hacked bungo change my password

00:13:47,040 --> 00:13:54,269
anyway right doesn't happen so this

00:13:50,129 --> 00:13:58,499
cycle can repeat and repeat and repeat

00:13:54,269 --> 00:14:07,889
and please everyone please remember it's

00:13:58,499 --> 00:14:10,829
update you Cloud Foundry so we got a

00:14:07,889 --> 00:14:12,959
hacker that's pretty cover and we're

00:14:10,829 --> 00:14:14,429
gonna go a little bit further right he's

00:14:12,959 --> 00:14:16,439
been studying up on Cloud Foundry a

00:14:14,429 --> 00:14:18,600
little bit you know it says we're going

00:14:16,439 --> 00:14:21,269
for someone who's not quite the you know

00:14:18,600 --> 00:14:23,399
lazy guy it's between Game of Thrones

00:14:21,269 --> 00:14:25,799
seasons it's Friday night he doesn't

00:14:23,399 --> 00:14:28,559
know where to go so he's reading up

00:14:25,799 --> 00:14:30,240
applications security groups right he

00:14:28,559 --> 00:14:34,350
starts looking into this here's an IP

00:14:30,240 --> 00:14:36,929
range this is how Cloud Foundry says all

00:14:34,350 --> 00:14:40,160
of these services are white listed the

00:14:36,929 --> 00:14:43,740
IP range is gonna have Postgres Redis

00:14:40,160 --> 00:14:47,999
you know MongoDB all these things that

00:14:43,740 --> 00:14:51,689
offsets operators stand up for our users

00:14:47,999 --> 00:14:54,839
and our Data Services team and you know

00:14:51,689 --> 00:14:55,860
I don't think they're all going to be up

00:14:54,839 --> 00:14:57,449
to date

00:14:55,860 --> 00:14:59,009
alright that's that's one of the

00:14:57,449 --> 00:15:02,279
problems that our industry has if we

00:14:59,009 --> 00:15:04,949
stand something up it works patches come

00:15:02,279 --> 00:15:08,279
out and we like to get you lit for next

00:15:04,949 --> 00:15:13,439
month while there's a hacker that gets

00:15:08,279 --> 00:15:15,059
onto your Cloud Foundry well he's now

00:15:13,439 --> 00:15:18,509
got a way of figuring out where those

00:15:15,059 --> 00:15:24,059
databases are he can push code up to

00:15:18,509 --> 00:15:26,009
your containers he can SSH in and well

00:15:24,059 --> 00:15:27,840
he can basically do anything he's inside

00:15:26,009 --> 00:15:44,620
your network

00:15:27,840 --> 00:15:46,930
give me a second so so yeah you got you

00:15:44,620 --> 00:15:49,330
have this nice range of ips and you can

00:15:46,930 --> 00:15:52,420
go through and I mean these are limited

00:15:49,330 --> 00:15:54,310
to the orgs and spaces but this is

00:15:52,420 --> 00:15:57,460
information there's not much we can do

00:15:54,310 --> 00:16:00,010
because if we start you know locking it

00:15:57,460 --> 00:16:01,750
down well then I developers have

00:16:00,010 --> 00:16:03,250
problems right they push an app and

00:16:01,750 --> 00:16:04,810
they're like saying hey I need a new

00:16:03,250 --> 00:16:08,410
security group added for this database

00:16:04,810 --> 00:16:12,220
so there's kind of this conundrum we

00:16:08,410 --> 00:16:15,060
have okay and by the way everyone please

00:16:12,220 --> 00:16:20,430
remember update your Cloud Foundry

00:16:15,060 --> 00:16:24,700
so this talk was gonna be about you know

00:16:20,430 --> 00:16:27,430
CVEs and network layouts and whole bunch

00:16:24,700 --> 00:16:28,930
of other things and when Michael and I

00:16:27,430 --> 00:16:32,710
start looking at this we're like okay do

00:16:28,930 --> 00:16:36,130
we test this on Diego do we look at what

00:16:32,710 --> 00:16:39,940
Wharton has for it here's this ireenie

00:16:36,130 --> 00:16:41,140
stuff coming out in his tio well we're

00:16:39,940 --> 00:16:43,530
kind of looking at well if we're if

00:16:41,140 --> 00:16:46,780
we're doing a deep dive into network

00:16:43,530 --> 00:16:52,990
architectures and VLANs and stuff that's

00:16:46,780 --> 00:16:58,350
changing day by day by day and this came

00:16:52,990 --> 00:17:01,780
out in July so so folks did a little

00:16:58,350 --> 00:17:04,150
test they set up ten honeypot Windows

00:17:01,780 --> 00:17:06,250
machines with RDP turned on Remote

00:17:04,150 --> 00:17:10,410
Desktop Protocol and they just left them

00:17:06,250 --> 00:17:13,000
seeing what happened within one minute

00:17:10,410 --> 00:17:14,890
the first one sound or sorry within two

00:17:13,000 --> 00:17:19,110
minutes the first one was found within

00:17:14,890 --> 00:17:22,390
15 hours all ten of these honey pots

00:17:19,110 --> 00:17:25,390
were found people are poking at them

00:17:22,390 --> 00:17:28,510
trying logins and stuff and you guys are

00:17:25,390 --> 00:17:31,960
going L re P that sets a dumpster fire I

00:17:28,510 --> 00:17:36,070
can understand that right but they're

00:17:31,960 --> 00:17:38,350
looking first day a couple hits next day

00:17:36,070 --> 00:17:40,290
more and more and more and more and this

00:17:38,350 --> 00:17:43,770
was going up and up and up and up

00:17:40,290 --> 00:17:46,410
and you know again no surprise everyone

00:17:43,770 --> 00:17:49,830
here has heard of blue keep-right

00:17:46,410 --> 00:17:51,990
Windows has got some huge holes in it

00:17:49,830 --> 00:17:56,070
Microsoft actually went and released a

00:17:51,990 --> 00:17:58,950
patch for XP blue keeper so bad right so

00:17:56,070 --> 00:18:03,570
this shouldn't be surprising except this

00:17:58,950 --> 00:18:06,600
report came out one week before blue

00:18:03,570 --> 00:18:08,400
keep was announced this isn't people

00:18:06,600 --> 00:18:10,650
looking for RDP because it was a hole in

00:18:08,400 --> 00:18:13,820
it this is people who were looking for

00:18:10,650 --> 00:18:19,140
something they could throw password that

00:18:13,820 --> 00:18:21,330
this went up exponentially right after

00:18:19,140 --> 00:18:23,550
blue key came out because you didn't

00:18:21,330 --> 00:18:27,210
need credentials anymore so what we're

00:18:23,550 --> 00:18:30,210
looking at is you know Windows Server no

00:18:27,210 --> 00:18:32,310
known vulnerabilities hackers just

00:18:30,210 --> 00:18:35,370
poking at it just throwing passwords at

00:18:32,310 --> 00:18:40,940
it you know dictionaries attacks and and

00:18:35,370 --> 00:18:43,260
things like that so the hackers are

00:18:40,940 --> 00:18:45,210
making these lists they're checking them

00:18:43,260 --> 00:18:47,910
twice giving them to their friends their

00:18:45,210 --> 00:18:50,640
friends are checking them and they went

00:18:47,910 --> 00:18:53,820
from you know a hundred

00:18:50,640 --> 00:18:56,880
pings per day to hundred thousand and

00:18:53,820 --> 00:18:58,530
then to millions all right I mean it's

00:18:56,880 --> 00:19:00,510
almost a denial of service how many

00:18:58,530 --> 00:19:02,280
people are trying to log in and any of

00:19:00,510 --> 00:19:04,770
you who have you know booted up an

00:19:02,280 --> 00:19:06,390
Apache or and nginx server to run maybe

00:19:04,770 --> 00:19:09,120
a little blog site or something

00:19:06,390 --> 00:19:11,340
if you look into your access house you

00:19:09,120 --> 00:19:14,280
see those you know config dot PHP and

00:19:11,340 --> 00:19:17,160
indexed up PHP right people are just

00:19:14,280 --> 00:19:19,320
looking for ports are open and throwing

00:19:17,160 --> 00:19:20,970
whatever they can and say well is this

00:19:19,320 --> 00:19:23,430
on the ability either PHP installed

00:19:20,970 --> 00:19:27,780
is there a Java app installed and keeps

00:19:23,430 --> 00:19:31,140
hitting and hitting and hitting so we're

00:19:27,780 --> 00:19:34,110
kind of in this this balance we have our

00:19:31,140 --> 00:19:36,330
end user we have our operators we have

00:19:34,110 --> 00:19:39,660
the security team security team wants us

00:19:36,330 --> 00:19:42,900
to lock everything down right no access

00:19:39,660 --> 00:19:45,960
to anyone really secure our developers

00:19:42,900 --> 00:19:47,790
want everything open I won't be able to

00:19:45,960 --> 00:19:49,670
do what I want when I need it I don't

00:19:47,790 --> 00:19:52,650
want to create tickets for this

00:19:49,670 --> 00:19:53,700
operators are I want to make sure this

00:19:52,650 --> 00:19:56,639
stuff stays up

00:19:53,700 --> 00:20:01,350
make sure we have the resources it's

00:19:56,639 --> 00:20:03,000
kind of a continuing battle and you know

00:20:01,350 --> 00:20:03,620
that's kind of the world we're living in

00:20:03,000 --> 00:20:08,250
right now

00:20:03,620 --> 00:20:11,010
so to get back to the passwords in 2011

00:20:08,250 --> 00:20:14,580
when the first leaked databases came out

00:20:11,010 --> 00:20:17,039
a study took two of them and tried to

00:20:14,580 --> 00:20:20,549
find matching emails and then started

00:20:17,039 --> 00:20:22,799
looking at which ones had matching

00:20:20,549 --> 00:20:25,529
passwords right the Gawker database and

00:20:22,799 --> 00:20:30,539
the rootkit comp database and they found

00:20:25,529 --> 00:20:33,149
of the users that overlapped 76% used

00:20:30,539 --> 00:20:35,220
the same password between two sites and

00:20:33,149 --> 00:20:39,649
some others had you know variations of

00:20:35,220 --> 00:20:41,940
one or two characters couple years later

00:20:39,649 --> 00:20:45,809
another study was done this one was a

00:20:41,940 --> 00:20:47,279
survey to people basically saying hey do

00:20:45,809 --> 00:20:50,309
you use the same password on multiple

00:20:47,279 --> 00:20:54,840
sites right and the obvious answer is

00:20:50,309 --> 00:21:01,730
yes yes 55% said we use the same

00:20:54,840 --> 00:21:01,730
password and that is kind of a problem

00:21:03,169 --> 00:21:10,340
so you know I'm kind of bringing this up

00:21:08,100 --> 00:21:13,399
because when we're looking at security

00:21:10,340 --> 00:21:18,600
right first thing we want to focus on is

00:21:13,399 --> 00:21:22,169
you know network layouts and CVEs and

00:21:18,600 --> 00:21:24,690
whatnot and we were kind of thrown aback

00:21:22,169 --> 00:21:28,679
when we're looking at this just at how

00:21:24,690 --> 00:21:31,440
big you know this problem was there the

00:21:28,679 --> 00:21:33,929
website you probably know about if you

00:21:31,440 --> 00:21:36,830
haven't go there put your name in all

00:21:33,929 --> 00:21:39,179
right have you been owned see if your

00:21:36,830 --> 00:21:41,490
name is on the site that you know maybe

00:21:39,179 --> 00:21:45,260
you logged into ten years ago and forgot

00:21:41,490 --> 00:21:48,620
about all right as of yesterday

00:21:45,260 --> 00:21:52,350
all right there's four hundred websites

00:21:48,620 --> 00:21:55,159
eight billion accounts that have names

00:21:52,350 --> 00:21:58,919
and passwords that have been leaked and

00:21:55,159 --> 00:22:00,990
I'm totally guilty and you know maybe

00:21:58,919 --> 00:22:03,389
you're thinking okay well you know if

00:22:00,990 --> 00:22:06,480
they get my name and password from my

00:22:03,389 --> 00:22:08,020
photo site that's my personal password

00:22:06,480 --> 00:22:13,170
they're not gonna get my cloud

00:22:08,020 --> 00:22:15,520
right but at the same time my work email

00:22:13,170 --> 00:22:19,390
you know I signed up to LinkedIn I

00:22:15,520 --> 00:22:20,490
signed up to work-related stuff and you

00:22:19,390 --> 00:22:23,140
know you kind of have to start thinking

00:22:20,490 --> 00:22:25,540
your work email your personal email all

00:22:23,140 --> 00:22:27,700
these emails you're on multiple sites

00:22:25,540 --> 00:22:29,430
especially you know if you're I don't

00:22:27,700 --> 00:22:33,520
know how many of you have a sandbox and

00:22:29,430 --> 00:22:39,870
a dev and a prod how many of you are

00:22:33,520 --> 00:22:42,910
using the same password for all right so

00:22:39,870 --> 00:22:46,300
we kind of have to rethink how we're

00:22:42,910 --> 00:22:48,310
doing passwords the National Institute

00:22:46,300 --> 00:22:49,960
of Standards and Technology actually

00:22:48,310 --> 00:22:52,180
reversed some recommendations they have

00:22:49,960 --> 00:22:53,980
on passwords right they used to have the

00:22:52,180 --> 00:22:57,600
recommendation to have symbols and

00:22:53,980 --> 00:23:00,310
uppercase and lowercase and right now

00:22:57,600 --> 00:23:03,130
that made passwords that were hard for

00:23:00,310 --> 00:23:06,580
us to remember very easy for machines to

00:23:03,130 --> 00:23:08,290
remember or just go through right and we

00:23:06,580 --> 00:23:10,090
would end up writing it down pathway

00:23:08,290 --> 00:23:13,260
managers which we all should be using

00:23:10,090 --> 00:23:15,910
we're used now the the common

00:23:13,260 --> 00:23:19,450
recommendation is just long pass phrases

00:23:15,910 --> 00:23:21,280
right instead of cloud cow which I think

00:23:19,450 --> 00:23:22,540
all of us know from our operator days it

00:23:21,280 --> 00:23:25,600
should be something like security hates

00:23:22,540 --> 00:23:28,390
cloud cow right not much different it's

00:23:25,600 --> 00:23:30,190
much longer so they're also saying

00:23:28,390 --> 00:23:32,650
things like you know make sure if you

00:23:30,190 --> 00:23:35,590
have a password field it accepts at

00:23:32,650 --> 00:23:38,290
least 64 character long passwords we're

00:23:35,590 --> 00:23:42,160
not in university we had a basically a

00:23:38,290 --> 00:23:44,770
boy genius who I think he got into

00:23:42,160 --> 00:23:46,420
university when he was 14 and he was

00:23:44,770 --> 00:23:52,570
going for his master's in mathematics

00:23:46,420 --> 00:23:55,090
and his password was PI 240 digits right

00:23:52,570 --> 00:23:57,160
and he was you know didn't mind telling

00:23:55,090 --> 00:23:58,870
people because how many people knew PI

00:23:57,160 --> 00:24:01,450
before the digits he had memorized

00:23:58,870 --> 00:24:03,190
and so he's logging in and one day he's

00:24:01,450 --> 00:24:05,170
like logging in and he's typing it in

00:24:03,190 --> 00:24:08,110
and he's like messes up the tenths digit

00:24:05,170 --> 00:24:09,390
he's like yeah who cares enter he's

00:24:08,110 --> 00:24:12,970
logged in

00:24:09,390 --> 00:24:15,490
hold on say what he typed in nine

00:24:12,970 --> 00:24:19,900
correct digits of his password and was

00:24:15,490 --> 00:24:21,380
logged in the UNIX systems Sun OS at the

00:24:19,900 --> 00:24:23,030
time used

00:24:21,380 --> 00:24:25,250
which had an eight character password

00:24:23,030 --> 00:24:28,850
limit anything past eight characters

00:24:25,250 --> 00:24:35,300
ignored so his password was the first

00:24:28,850 --> 00:24:39,320
eight digits of pi so so when we're

00:24:35,300 --> 00:24:43,040
talking about some of these attacks it's

00:24:39,320 --> 00:24:44,960
not actually our cloud foundries that we

00:24:43,040 --> 00:24:46,730
should really be worried about it's the

00:24:44,960 --> 00:24:48,920
security of all the other sites on the

00:24:46,730 --> 00:24:56,630
internet that can actually get us into a

00:24:48,920 --> 00:24:58,250
lot of trouble all right so I'm going to

00:24:56,630 --> 00:24:59,960
go back to what I was talking to about

00:24:58,250 --> 00:25:04,640
before with with multi-factor

00:24:59,960 --> 00:25:10,130
authentication and with trying to make

00:25:04,640 --> 00:25:14,960
some rules to block who can access your

00:25:10,130 --> 00:25:17,630
API because we're not doing that right

00:25:14,960 --> 00:25:20,600
now it's very complicated it's not

00:25:17,630 --> 00:25:24,620
documented I think we need to actually

00:25:20,600 --> 00:25:28,900
take a step back and make an effort to

00:25:24,620 --> 00:25:31,460
try and limit these password attacks

00:25:28,900 --> 00:25:32,930
that we should try and get multi-factor

00:25:31,460 --> 00:25:35,200
sentation I'm actually working on a blog

00:25:32,930 --> 00:25:37,280
post and some better documentation

00:25:35,200 --> 00:25:39,530
unfortunately it's actually a lot more

00:25:37,280 --> 00:25:43,130
complicated than I expected and I didn't

00:25:39,530 --> 00:25:45,530
have it ready in time for this talk but

00:25:43,130 --> 00:25:47,900
we're trying to get it so that you can

00:25:45,530 --> 00:25:49,700
basically type in a few commands turn on

00:25:47,900 --> 00:25:52,310
multi-factor authentication at least for

00:25:49,700 --> 00:25:54,740
some zones on all your cloud foundries

00:25:52,310 --> 00:25:57,590
you know this week so that when you

00:25:54,740 --> 00:26:02,810
stand up a Cloud Foundry you have it on

00:25:57,590 --> 00:26:05,630
by default day one and if you are

00:26:02,810 --> 00:26:08,240
thinking well I don't want to put my API

00:26:05,630 --> 00:26:10,430
behind a firewall right very

00:26:08,240 --> 00:26:13,040
inconvenient if you're developers are

00:26:10,430 --> 00:26:14,900
using pipelines to deploy like you push

00:26:13,040 --> 00:26:18,500
your app to github or bitbucket or

00:26:14,900 --> 00:26:20,870
whatever pipelines trigger then as long

00:26:18,500 --> 00:26:25,130
as your Concours workers or jenkins or

00:26:20,870 --> 00:26:28,280
Travis CI is in the VPN alright it uses

00:26:25,130 --> 00:26:29,990
client secrets it can push it then all

00:26:28,280 --> 00:26:32,660
the stuff like the CF scale you can do

00:26:29,990 --> 00:26:36,680
maybe from a jump box or do it from the

00:26:32,660 --> 00:26:46,940
VPN and it won't be a big disruption to

00:26:36,680 --> 00:26:48,560
your users right if your so now we've

00:26:46,940 --> 00:26:51,820
been mostly talking about passwords I'm

00:26:48,560 --> 00:26:55,940
kind of trying to hammer in just how bad

00:26:51,820 --> 00:26:58,460
it actually is how many of the hackers I

00:26:55,940 --> 00:27:00,890
mean you've got the real amazing hackers

00:26:58,460 --> 00:27:03,080
who will go in with a debugger and try

00:27:00,890 --> 00:27:06,410
and single step through code for buffer

00:27:03,080 --> 00:27:10,610
overflows they'll do white box attacks

00:27:06,410 --> 00:27:13,460
fuzzing of the api's right and they're

00:27:10,610 --> 00:27:15,110
actually pretty good now I've been

00:27:13,460 --> 00:27:16,640
beating up on Cloud Foundry but I've

00:27:15,110 --> 00:27:19,580
actually included cloud foundry and

00:27:16,640 --> 00:27:21,560
kubernetes because you know everyone in

00:27:19,580 --> 00:27:26,420
here there's some kubernetes in your

00:27:21,560 --> 00:27:30,710
cloud foundry now soon right there are

00:27:26,420 --> 00:27:32,570
quite a bit of overlap I'm not focusing

00:27:30,710 --> 00:27:36,590
on kubernetes because this story for

00:27:32,570 --> 00:27:38,660
logging in and maintaining is still kind

00:27:36,590 --> 00:27:42,140
of in flux right whether using cube

00:27:38,660 --> 00:27:46,580
control or something else to login Cloud

00:27:42,140 --> 00:27:51,460
Foundry very mature the API is fantastic

00:27:46,580 --> 00:27:53,930
the CLI is great and it actually

00:27:51,460 --> 00:27:57,680
ironically is great for developers which

00:27:53,930 --> 00:28:01,240
means it's also great for hackers so if

00:27:57,680 --> 00:28:03,470
you weren't aware just a few weeks ago

00:28:01,240 --> 00:28:06,350
denial of service attack against

00:28:03,470 --> 00:28:10,310
kubernetes right the go language had a

00:28:06,350 --> 00:28:13,400
few weaknesses in there HTTP and you

00:28:10,310 --> 00:28:14,930
could send a whole bunch of requests

00:28:13,400 --> 00:28:15,860
that could dial-up service your

00:28:14,930 --> 00:28:19,540
kubernetes

00:28:15,860 --> 00:28:21,950
we use go in like our go routers I

00:28:19,540 --> 00:28:24,770
didn't find any reference to this

00:28:21,950 --> 00:28:27,200
affecting Cloud Foundry but there's a

00:28:24,770 --> 00:28:30,260
good chance that we're using the same

00:28:27,200 --> 00:28:33,140
stuff and with sto and ireenie and all

00:28:30,260 --> 00:28:35,390
that coming in this would be affecting

00:28:33,140 --> 00:28:37,490
us now this is not you know getting on

00:28:35,390 --> 00:28:42,440
to the box style this is denial of

00:28:37,490 --> 00:28:46,400
service so when we're looking at our

00:28:42,440 --> 00:28:47,000
security it's kind of a holistic

00:28:46,400 --> 00:28:50,690
approach it

00:28:47,000 --> 00:28:54,919
it's very easy to focus on a lot of the

00:28:50,690 --> 00:28:58,669
technical details but password reuse and

00:28:54,919 --> 00:29:02,240
weak passwords is actually the biggest

00:28:58,669 --> 00:29:03,919
problem because that's the easiest one

00:29:02,240 --> 00:29:06,559
you don't need any technical skills

00:29:03,919 --> 00:29:09,429
right you use nmap find a couple IP

00:29:06,559 --> 00:29:12,200
addresses you can use a bash script or

00:29:09,429 --> 00:29:16,130
powershell or Ruby or Python just to

00:29:12,200 --> 00:29:21,230
call the CF CLI with you know admin AAAA

00:29:16,130 --> 00:29:25,760
admin AAB admin a AAC and if there's no

00:29:21,230 --> 00:29:28,340
rate-limiting if there's no CloudFlare

00:29:25,760 --> 00:29:30,380
or something like that in your stack to

00:29:28,340 --> 00:29:33,159
stop it you can just run that for a

00:29:30,380 --> 00:29:35,780
couple days trying brute-force it if

00:29:33,159 --> 00:29:39,830
they're lucky they buy the right

00:29:35,780 --> 00:29:41,750
password list they come in phishing a

00:29:39,830 --> 00:29:43,970
the one that I didn't really talk about

00:29:41,750 --> 00:29:45,559
we all know that is he can email that

00:29:43,970 --> 00:29:50,570
says hey you have to log into your Cloud

00:29:45,559 --> 00:29:51,830
Foundry to you know win a prize and some

00:29:50,570 --> 00:29:54,020
people put their name and password in

00:29:51,830 --> 00:29:55,700
nobody in this room of course because

00:29:54,020 --> 00:29:59,000
using Cloud Foundry at the price of its

00:29:55,700 --> 00:30:03,620
own so and then CVEs

00:29:59,000 --> 00:30:05,780
so a couple pink slides popped up during

00:30:03,620 --> 00:30:06,620
my presentation I didn't really say too

00:30:05,780 --> 00:30:09,919
much about them

00:30:06,620 --> 00:30:12,919
right one thing you might have noticed

00:30:09,919 --> 00:30:15,559
is they were all specifically for you a

00:30:12,919 --> 00:30:21,260
a I chose a couple of the recent ones

00:30:15,559 --> 00:30:25,730
that affected you AAA only right and if

00:30:21,260 --> 00:30:27,919
you had a clever hacker then you could

00:30:25,730 --> 00:30:30,230
kind of chain them together right

00:30:27,919 --> 00:30:33,799
there's one that we were doing something

00:30:30,230 --> 00:30:35,240
silly if there was no domain name you

00:30:33,799 --> 00:30:39,770
know like it min or something like that

00:30:35,240 --> 00:30:42,230
it was attached at unknown org which

00:30:39,770 --> 00:30:44,270
someone actually owns and so you could

00:30:42,230 --> 00:30:46,760
send reset emails and other stuff to

00:30:44,270 --> 00:30:49,059
this domain that someone else owns now

00:30:46,760 --> 00:30:52,190
you know that's case they ignore it

00:30:49,059 --> 00:30:54,350
maybe a mail filter you know bounces it

00:30:52,190 --> 00:30:57,020
back because there's no user you know

00:30:54,350 --> 00:31:00,260
you don't know what happens to it but

00:30:57,020 --> 00:31:03,169
there's another one that allows you to

00:31:00,260 --> 00:31:04,760
some clickjacking or grab a refresh

00:31:03,169 --> 00:31:06,860
token instead of the authorization token

00:31:04,760 --> 00:31:10,850
there's a whole bunch of these little C

00:31:06,860 --> 00:31:14,660
V's that might help you get a name and

00:31:10,850 --> 00:31:17,360
password or a log in multi-factor

00:31:14,660 --> 00:31:19,190
authentication has a big hole a few

00:31:17,360 --> 00:31:22,280
months ago where you could brute-force

00:31:19,190 --> 00:31:24,049
the multi-factor authentication it

00:31:22,280 --> 00:31:26,299
didn't actually stop you from trying

00:31:24,049 --> 00:31:29,570
multiple times so even with multi-factor

00:31:26,299 --> 00:31:33,830
authentication turned on you could try a

00:31:29,570 --> 00:31:36,049
million times per second kind of negated

00:31:33,830 --> 00:31:38,419
its advantage it's been fixed by the way

00:31:36,049 --> 00:31:39,950
it's been fixed but ok so if you can get

00:31:38,419 --> 00:31:42,230
a name and password and you can brute

00:31:39,950 --> 00:31:46,010
force your multi-factor authentication

00:31:42,230 --> 00:31:48,950
then you can get in and oh there was a

00:31:46,010 --> 00:31:51,010
slight hole where you could craft

00:31:48,950 --> 00:31:55,790
something to elevate your privileges

00:31:51,010 --> 00:31:57,559
with you eh eh oh oh and by the way if

00:31:55,790 --> 00:32:01,059
you could get in and you have a valid

00:31:57,559 --> 00:32:04,429
name and password up until last month

00:32:01,059 --> 00:32:07,190
you could then change your password pass

00:32:04,429 --> 00:32:09,140
in a specially crafted password that

00:32:07,190 --> 00:32:13,010
would do a buffer overflow on Postgres

00:32:09,140 --> 00:32:15,280
and run code on your Postgres instance

00:32:13,010 --> 00:32:19,130
which is outside of your Cloud Foundry

00:32:15,280 --> 00:32:26,150
or sorry inside of your you know Cloud

00:32:19,130 --> 00:32:34,610
Foundry so yeah please keep your cloud

00:32:26,150 --> 00:32:36,230
foundries up to date please so when we

00:32:34,610 --> 00:32:37,850
were working on this talk you know we

00:32:36,230 --> 00:32:41,240
were hoping to come up with some really

00:32:37,850 --> 00:32:45,980
clever attack where we're breaking into

00:32:41,240 --> 00:32:48,590
garden and you know we uploaded it turns

00:32:45,980 --> 00:32:50,830
out the new stem cells are based on

00:32:48,590 --> 00:32:54,320
Bionic you can just glue the Bionic

00:32:50,830 --> 00:32:55,250
instance app get whatever you want take

00:32:54,320 --> 00:32:58,130
all those files

00:32:55,250 --> 00:33:01,160
stick it into a bundle and CF push it so

00:32:58,130 --> 00:33:03,080
we had you know TCP dump and nmap all

00:33:01,160 --> 00:33:06,740
running inside the container and we were

00:33:03,080 --> 00:33:08,150
poking around and the more research we

00:33:06,740 --> 00:33:11,270
did the more we realized that these

00:33:08,150 --> 00:33:13,640
attacks you know well cute and maybe

00:33:11,270 --> 00:33:15,080
entertaining aren't

00:33:13,640 --> 00:33:19,520
the ones that you really have to worry

00:33:15,080 --> 00:33:24,820
about so as long as you're keeping your

00:33:19,520 --> 00:33:28,670
systems patched and you turn on MFA and

00:33:24,820 --> 00:33:30,590
you limit your API and log in you're

00:33:28,670 --> 00:33:34,250
actually going to be getting rid of a

00:33:30,590 --> 00:33:36,920
lot of the biggest problems you're gonna

00:33:34,250 --> 00:33:38,480
run into I mean it's this is the

00:33:36,920 --> 00:33:41,929
operator track we're talking Cloud

00:33:38,480 --> 00:33:43,210
Foundry we could be talking for hours

00:33:41,929 --> 00:33:46,190
and hours if you want to talk about

00:33:43,210 --> 00:33:48,950
exploits and note packages or build

00:33:46,190 --> 00:33:51,799
packs we have Ruby we have Python and we

00:33:48,950 --> 00:33:55,520
have all these languages that have their

00:33:51,799 --> 00:34:00,250
own security nightmare and we're just

00:33:55,520 --> 00:34:04,700
focusing right now on Cloud Foundry so

00:34:00,250 --> 00:34:06,320
if even one of you leaves here and says

00:34:04,700 --> 00:34:08,060
you know maybe I'm going to look into

00:34:06,320 --> 00:34:10,070
this multi-factor authentication and

00:34:08,060 --> 00:34:12,200
maybe maybe I'm gonna see if I can you

00:34:10,070 --> 00:34:16,419
know maybe see if I can talk to the team

00:34:12,200 --> 00:34:19,040
about tightening that API endpoint I

00:34:16,419 --> 00:34:23,750
think that's a huge win for our

00:34:19,040 --> 00:34:26,119
community especially if doing that we

00:34:23,750 --> 00:34:29,210
learn a little bit more on how to make

00:34:26,119 --> 00:34:37,550
this maybe in the future like a checkbox

00:34:29,210 --> 00:34:43,149
when you install it so thank you any

00:34:37,550 --> 00:34:46,149
anything you want to talk about it's uh

00:34:43,149 --> 00:34:46,149
yes

00:34:51,429 --> 00:35:02,050
ah I'll give you I'll give you this I

00:35:00,760 --> 00:35:06,730
was gonna repeat the question but it's

00:35:02,050 --> 00:35:09,250
uh yeah he's asking about resources

00:35:06,730 --> 00:35:13,210
shall I repeat yes please please okay so

00:35:09,250 --> 00:35:17,140
we talked about CVS and how I can became

00:35:13,210 --> 00:35:19,869
aware of data however what is your

00:35:17,140 --> 00:35:22,270
opinion about resource exhaustion source

00:35:19,869 --> 00:35:24,520
meaning for example overloading go

00:35:22,270 --> 00:35:32,650
router even if you are outside of the

00:35:24,520 --> 00:35:35,849
system so yeah

00:35:32,650 --> 00:35:38,829
denial of service attacks are a problem

00:35:35,849 --> 00:35:40,450
you know the easy solution that people

00:35:38,829 --> 00:35:42,760
would be pointing to now is things like

00:35:40,450 --> 00:35:48,220
you know having CloudFlare in front of

00:35:42,760 --> 00:35:55,119
it there is not I'm not too sure what we

00:35:48,220 --> 00:35:57,730
can do right now scaling is hard Cloud

00:35:55,119 --> 00:36:00,700
Foundry makes it easier but I remember

00:35:57,730 --> 00:36:04,180
on Amazon days you had to actually

00:36:00,700 --> 00:36:06,640
submit a form to Amazon if you were

00:36:04,180 --> 00:36:09,010
conducting a spike in traffic so they

00:36:06,640 --> 00:36:10,839
could pre-warm your elastic load

00:36:09,010 --> 00:36:13,480
balancer because the last load balancers

00:36:10,839 --> 00:36:14,890
have slow response times so we had

00:36:13,480 --> 00:36:16,569
customers who had a lot of load

00:36:14,890 --> 00:36:18,369
balancers they were going to be on The

00:36:16,569 --> 00:36:20,559
Oprah Show or something and they're

00:36:18,369 --> 00:36:22,720
telling us hey we're gonna have a huge

00:36:20,559 --> 00:36:24,579
spike in traffic at this time can you

00:36:22,720 --> 00:36:26,349
make sure our site goes up and then we

00:36:24,579 --> 00:36:27,910
go to Amazon and they say well you have

00:36:26,349 --> 00:36:30,220
to fill out this paperwork to tell us

00:36:27,910 --> 00:36:34,150
when and we'll get some engineers to

00:36:30,220 --> 00:36:37,270
maybe boost you know and that's kind of

00:36:34,150 --> 00:36:38,530
a problem that probably is only going to

00:36:37,270 --> 00:36:40,750
be fixed with a little bit of planning

00:36:38,530 --> 00:36:43,299
and communication right if you are

00:36:40,750 --> 00:36:44,530
running a cloud foundry and everything

00:36:43,299 --> 00:36:47,230
looks good you're getting you know a

00:36:44,530 --> 00:36:49,210
million requests an hour for an app and

00:36:47,230 --> 00:36:51,099
they don't tell you that they're going

00:36:49,210 --> 00:36:54,849
to be on The Tonight Show or Oprah or

00:36:51,099 --> 00:36:57,309
you know stranger things you're going to

00:36:54,849 --> 00:36:59,859
run into problems and there's not too

00:36:57,309 --> 00:37:01,059
much you can do about that because well

00:36:59,859 --> 00:37:03,010
there's probably gonna be a talk that's

00:37:01,059 --> 00:37:05,760
gonna tell you how to solve it

00:37:03,010 --> 00:37:05,760
Yeah right

00:37:09,790 --> 00:37:15,780
I recently read an article about

00:37:12,690 --> 00:37:19,090
passport let's login using the file to

00:37:15,780 --> 00:37:21,790
the promised reset topic that the

00:37:19,090 --> 00:37:25,150
community so you AAA

00:37:21,790 --> 00:37:27,550
does mention things like the phyto - and

00:37:25,150 --> 00:37:30,070
Yubikey there's a couple companies out

00:37:27,550 --> 00:37:31,869
there that are working on it Steve

00:37:30,070 --> 00:37:34,210
Gibson is working on the squirrel

00:37:31,869 --> 00:37:38,980
protocol which is another password list

00:37:34,210 --> 00:37:42,820
login you can use LDAP and other things

00:37:38,980 --> 00:37:45,010
with you AAA so I personally don't know

00:37:42,820 --> 00:37:47,950
if I want to move to a path worthless

00:37:45,010 --> 00:37:50,380
world I do know I want to move to a two

00:37:47,950 --> 00:37:52,510
or three factor right in data centers

00:37:50,380 --> 00:37:54,850
you have three factors what you have

00:37:52,510 --> 00:37:59,280
what you know what you are what you have

00:37:54,850 --> 00:38:02,770
is your swipe card or your USB stick

00:37:59,280 --> 00:38:05,350
what you know is your PIN code or

00:38:02,770 --> 00:38:08,530
password and what you are is your you

00:38:05,350 --> 00:38:10,720
know handprint or retinal scan right the

00:38:08,530 --> 00:38:12,490
big joke that's going around is a whole

00:38:10,720 --> 00:38:14,920
bunch of Android phones to try and catch

00:38:12,490 --> 00:38:16,930
up with touch ID shift their fingerprint

00:38:14,920 --> 00:38:19,030
sensors in debug mode which meant every

00:38:16,930 --> 00:38:20,650
single photo of your fingerprint was

00:38:19,030 --> 00:38:22,840
actually stored on device for debugging

00:38:20,650 --> 00:38:26,140
purposes so someone took your phone all

00:38:22,840 --> 00:38:27,880
your fingerprints were there and so the

00:38:26,140 --> 00:38:30,910
joke was okay if that happens just

00:38:27,880 --> 00:38:35,560
change your fingerprints all right you

00:38:30,910 --> 00:38:37,210
can't do that so it has to be something

00:38:35,560 --> 00:38:39,490
like you said the Yubikey

00:38:37,210 --> 00:38:41,890
but if you lose that it has to be kind

00:38:39,490 --> 00:38:45,100
of a mix I personally would recommend

00:38:41,890 --> 00:38:48,100
you have a two or three factors solution

00:38:45,100 --> 00:38:49,270
and that's why I'm like begging everyone

00:38:48,100 --> 00:38:51,850
here to look into multi-factor

00:38:49,270 --> 00:38:54,400
authentication to see if you can even

00:38:51,850 --> 00:38:57,609
play with it in your environment and get

00:38:54,400 --> 00:39:00,940
the documentation improved and look at

00:38:57,609 --> 00:39:10,510
the actually I can show you for one

00:39:00,940 --> 00:39:13,599
second it's right here somewhere here

00:39:10,510 --> 00:39:20,020
is the API Docs for it

00:39:13,599 --> 00:39:22,650
and MFI providers and there is you know

00:39:20,020 --> 00:39:27,130
available include Google Authenticator

00:39:22,650 --> 00:39:29,500
but there are a few documents for other

00:39:27,130 --> 00:39:31,349
types I don't know what state they're in

00:39:29,500 --> 00:39:35,500
I'm just trying to get this one working

00:39:31,349 --> 00:39:37,680
okay so I will say thank you to

00:39:35,500 --> 00:39:37,680
everybody

00:39:37,820 --> 00:39:41,949

YouTube URL: https://www.youtube.com/watch?v=J0SN2uS7_bI


