Title: BOSH 2.0: The Evolution - Alexander Lomov, Altoros
Publication date: 2016-09-30
Playlist: Cloud Foundry Summit Europe 2016
Description: 
	BOSH 2.0: The Evolution - Alexander Lomov, Altoros

BOSH 2.0 is not what most people think it is. It is not a major release of BOSH, and, in fact, not a version at all. BOSH 2.0 is a set of concepts, features, and ideas designed to improve and evolve the BOSH project. In this talk, Alexander will share with you the most exciting and useful upcoming and existing BOSH features, give you a tour to the internals, and show how new changes appear in the project. He will also highlight the main driving forces of the BOSH evolution, describe the role of the Concourse project in this process, show how we can influence the direction in which BOSH is moving. BOSH 2.0 is almost out, so be ready to get the most of it!

About Alexander Lomov
Alexander Lomov is a Cloud Foundry Engineer at Altoros. With extensive experience in Ruby, Go, and Python, he was involved in development of several BOSH CPIs and a number of other Cloud Foundry-related projects. A fan of the open source movement, Alexander has contributed to BOSH, Admin UI, Fog, etc.
Captions: 
	00:00:00,089 --> 00:00:08,670
my name is Alex la mothe and I walk at

00:00:04,230 --> 00:00:12,300
all Taurus and my experience with Bosch

00:00:08,670 --> 00:00:18,560
lasts for three years and it was amazing

00:00:12,300 --> 00:00:18,560
time with lots of challenges and

00:00:18,710 --> 00:00:28,470
discoveries so I guess it is impossible

00:00:25,830 --> 00:00:32,510
to talk about Bosch without showing laws

00:00:28,470 --> 00:00:35,820
of Yama cult that's why I have my

00:00:32,510 --> 00:00:41,129
presentation online on speaker Dirk I

00:00:35,820 --> 00:00:44,640
will show you I will show you a link and

00:00:41,129 --> 00:00:48,289
I suggest you to follow this to follow

00:00:44,640 --> 00:00:48,289
my presentational using these slides

00:00:55,329 --> 00:00:58,980
thank you my server

00:01:24,380 --> 00:01:27,340
I was

00:01:36,369 --> 00:01:45,689
oh I see there is no some phones here so

00:01:40,450 --> 00:01:45,689
I will proceed with the online version

00:02:08,240 --> 00:02:16,400
I guess it's better like these but okay

00:02:12,730 --> 00:02:19,580
looks better now we are ready so I am

00:02:16,400 --> 00:02:22,750
Alex llama file walk in R&D department

00:02:19,580 --> 00:02:30,350
in Taurus and here's the link you can

00:02:22,750 --> 00:02:33,590
use to to follow the slide so when you

00:02:30,350 --> 00:02:38,150
start to walk with some technology the

00:02:33,590 --> 00:02:42,380
first thing that you see is its logo and

00:02:38,150 --> 00:02:47,630
both Bosh has almost official logo it's

00:02:42,380 --> 00:02:50,930
a clam and if I would if they asked me

00:02:47,630 --> 00:02:54,860
to create some logo football I will I

00:02:50,930 --> 00:03:00,620
think that I'll end up with this logo

00:02:54,860 --> 00:03:03,920
because it shows all my everything that

00:03:00,620 --> 00:03:08,930
I think about this product I think that

00:03:03,920 --> 00:03:11,780
there is some point so London Bosch is

00:03:08,930 --> 00:03:15,050
sometimes hard but there is a point of

00:03:11,780 --> 00:03:18,230
non return when you can't understand why

00:03:15,050 --> 00:03:21,890
other people don't use these this

00:03:18,230 --> 00:03:25,510
product but I think that people that

00:03:21,890 --> 00:03:31,850
lawyers from DC Comics will sue me for

00:03:25,510 --> 00:03:34,750
using this symbol and I would prefer a

00:03:31,850 --> 00:03:38,090
clam the first time I have seen this

00:03:34,750 --> 00:03:41,120
clam I was really afraid because I

00:03:38,090 --> 00:03:45,850
thought that this is a clam and I will

00:03:41,120 --> 00:03:51,110
find pearl inside of it and finally I

00:03:45,850 --> 00:03:53,780
found a font when it got familiar with

00:03:51,110 --> 00:03:58,000
this product I learned that there is

00:03:53,780 --> 00:04:07,730
only Ruby and go there and it was it was

00:03:58,000 --> 00:04:10,160
great so this so this is a clam and this

00:04:07,730 --> 00:04:14,510
it has a shell and you never know what's

00:04:10,160 --> 00:04:21,070
inside and inside it it inside in it can

00:04:14,510 --> 00:04:26,020
be cute still it can be not so

00:04:21,070 --> 00:04:31,290
and fortunately the boss team is

00:04:26,020 --> 00:04:36,820
developing borscht with great speed and

00:04:31,290 --> 00:04:40,450
we avoid these dangerous places and and

00:04:36,820 --> 00:04:43,930
we have less and less strange strange

00:04:40,450 --> 00:04:46,840
box in boss so and I would like oh I

00:04:43,930 --> 00:04:49,870
would also like to compare Bosh with a

00:04:46,840 --> 00:04:54,430
good book because of the speed it is

00:04:49,870 --> 00:04:58,450
developed because you can open the same

00:04:54,430 --> 00:05:00,520
court in two weeks and you will find

00:04:58,450 --> 00:05:05,050
something new and clever there and they

00:05:00,520 --> 00:05:08,770
can learn a lot from this so this

00:05:05,050 --> 00:05:13,270
presentation is about Bosch 2.0 and all

00:05:08,770 --> 00:05:19,780
time I remember both had one before its

00:05:13,270 --> 00:05:24,280
version it has 3000 releases after first

00:05:19,780 --> 00:05:29,160
stable release so most of my surrounding

00:05:24,280 --> 00:05:32,800
didn't believe that there will be any

00:05:29,160 --> 00:05:37,780
second version of Bosch and I personally

00:05:32,800 --> 00:05:40,060
me had an idea of Bosch versioning I I

00:05:37,780 --> 00:05:42,670
had I thought that there is some kind of

00:05:40,060 --> 00:05:51,850
idea behind this versioning I thought

00:05:42,670 --> 00:05:55,840
that that Bosch will will will add a new

00:05:51,850 --> 00:05:59,650
version until it will reach number which

00:05:55,840 --> 00:06:04,120
will be one point sixty 180 which

00:05:59,650 --> 00:06:07,270
represents golden ratio and this will be

00:06:04,120 --> 00:06:09,570
a version of board that that should be

00:06:07,270 --> 00:06:14,820
ideal

00:06:09,570 --> 00:06:22,450
still we have these mysterious both 2.0

00:06:14,820 --> 00:06:26,310
and let's see what what behind it the

00:06:22,450 --> 00:06:33,190
thing is that there is no new version

00:06:26,310 --> 00:06:34,540
called 2.0 and Bosch 2.0 is just set of

00:06:33,190 --> 00:06:37,120
concept and

00:06:34,540 --> 00:06:40,210
features that are implemented

00:06:37,120 --> 00:06:43,060
continuously inside of current version

00:06:40,210 --> 00:06:45,490
of Bosch and this is a good thing we can

00:06:43,060 --> 00:06:52,300
take advantage of all estate features

00:06:45,490 --> 00:06:54,670
right now so continues so this process

00:06:52,300 --> 00:07:01,600
looks like a continuous evolution and

00:06:54,670 --> 00:07:06,280
it's it's I think that it is the the

00:07:01,600 --> 00:07:08,860
right things to the right a way to to

00:07:06,280 --> 00:07:11,530
create a product because it's it's more

00:07:08,860 --> 00:07:15,280
closer to nature and you can change it

00:07:11,530 --> 00:07:19,360
with the small releases and you have

00:07:15,280 --> 00:07:22,480
large changes in the in the end so how

00:07:19,360 --> 00:07:25,230
does the Bosch evolution work the very

00:07:22,480 --> 00:07:29,740
special place that I want you to know is

00:07:25,230 --> 00:07:32,110
both notes project so if you are

00:07:29,740 --> 00:07:36,670
interested in knowing what in what

00:07:32,110 --> 00:07:39,360
direction wash goes you you definitely

00:07:36,670 --> 00:07:44,470
need to visit this project you can also

00:07:39,360 --> 00:07:48,700
impact the direction of both development

00:07:44,470 --> 00:07:53,050
by creating pull requests or or if you

00:07:48,700 --> 00:07:59,740
in this github project in national

00:07:53,050 --> 00:08:01,960
natural in in in nature in evolution has

00:07:59,740 --> 00:08:06,870
its driving force and it is natural

00:08:01,960 --> 00:08:12,730
selection and in both driving force of

00:08:06,870 --> 00:08:16,000
evolution is conquer CI so conquer CI is

00:08:12,730 --> 00:08:22,840
open source continuous integration tool

00:08:16,000 --> 00:08:25,440
that that takes pipelines and workflows

00:08:22,840 --> 00:08:28,540
as Frost

00:08:25,440 --> 00:08:32,979
first-class citizens so this is very

00:08:28,540 --> 00:08:36,729
powerful tool and it's very young but

00:08:32,979 --> 00:08:39,070
still it can do everything you need last

00:08:36,729 --> 00:08:44,050
time I had presentation in Santa Clara

00:08:39,070 --> 00:08:47,530
I used concourse to make a slide to I

00:08:44,050 --> 00:08:48,350
use it as a keynote so I guess you can

00:08:47,530 --> 00:08:54,760
find

00:08:48,350 --> 00:08:58,130
you can apply Concours everywhere so

00:08:54,760 --> 00:09:01,340
what is new in boss to point out this is

00:08:58,130 --> 00:09:05,420
like the most interesting interesting

00:09:01,340 --> 00:09:09,710
part of this presentation to begin with

00:09:05,420 --> 00:09:15,440
I would suggest you to watch her keynote

00:09:09,710 --> 00:09:18,620
of might Rider which was called ideas

00:09:15,440 --> 00:09:22,610
for manifest sanity he gave very

00:09:18,620 --> 00:09:25,370
visionary view of the way we're both

00:09:22,610 --> 00:09:30,200
goals and what we need to expect from it

00:09:25,370 --> 00:09:39,110
from it to start so the first feature

00:09:30,200 --> 00:09:46,040
I'm happy about that is that can give so

00:09:39,110 --> 00:09:51,110
that's the one feature that can gave

00:09:46,040 --> 00:09:53,990
Bosch new version I guess new birth so

00:09:51,110 --> 00:09:57,380
this is what's in it and I guess there

00:09:53,990 --> 00:10:00,260
is a generation of Bosch users who

00:09:57,380 --> 00:10:04,730
doesn't know what's what Micra Bosch is

00:10:00,260 --> 00:10:10,100
and I'm happy for them but some time ago

00:10:04,730 --> 00:10:13,490
we needed to store all wash all Bosch

00:10:10,100 --> 00:10:18,980
sources inside of every virtual machine

00:10:13,490 --> 00:10:21,710
that was deployed by Bosch it was very

00:10:18,980 --> 00:10:26,050
strange concept and I was tired to

00:10:21,710 --> 00:10:29,840
explain this concept to newcomers and

00:10:26,050 --> 00:10:33,320
the next great feature was external CPI

00:10:29,840 --> 00:10:36,530
and CPI stands for cloud provider

00:10:33,320 --> 00:10:41,740
interface and this is rope wrapper

00:10:36,530 --> 00:10:50,960
between a board director and cloud API

00:10:41,740 --> 00:10:55,310
it allowed to add lots of lots of it

00:10:50,960 --> 00:10:57,920
allowed to create a lot of CP is for

00:10:55,310 --> 00:11:01,760
different clouds clouds and lots of

00:10:57,920 --> 00:11:04,990
clouds currently have bosch support with

00:11:01,760 --> 00:11:12,110
for this time you needed to for borscht

00:11:04,990 --> 00:11:14,300
project and run you and change it and it

00:11:12,110 --> 00:11:19,430
was kind of hot

00:11:14,300 --> 00:11:22,000
I guess the some people from this from

00:11:19,430 --> 00:11:26,030
this room know how hard it was and

00:11:22,000 --> 00:11:28,580
another cool feature is called dynamic

00:11:26,030 --> 00:11:32,000
provisioning and the idea behind is to

00:11:28,580 --> 00:11:37,370
bring experience of working with service

00:11:32,000 --> 00:11:41,350
broker to working with borscht so at

00:11:37,370 --> 00:11:45,020
some point you are going to have

00:11:41,350 --> 00:11:48,830
experienced just Ryan just running

00:11:45,020 --> 00:11:53,470
comment asking boss to create some

00:11:48,830 --> 00:11:57,730
service and it will run it without any

00:11:53,470 --> 00:12:03,320
without any manifests this is large

00:11:57,730 --> 00:12:08,410
changes and we I can divide these

00:12:03,320 --> 00:12:11,600
dynamic provisioning in several features

00:12:08,410 --> 00:12:15,440
cloud config availability zones links

00:12:11,600 --> 00:12:18,380
and Lublin is working so that I think

00:12:15,440 --> 00:12:21,230
that most of you already tried the power

00:12:18,380 --> 00:12:25,850
of cloud config which helped us to

00:12:21,230 --> 00:12:29,150
divide to divide manifest on tupa in two

00:12:25,850 --> 00:12:32,360
parts one part is cloud config which was

00:12:29,150 --> 00:12:36,380
cloud related and another manifest

00:12:32,360 --> 00:12:38,720
itself it made manifest most more shot

00:12:36,380 --> 00:12:43,430
it made manifest much shorter and easier

00:12:38,720 --> 00:12:45,800
to manage cloud config is global for all

00:12:43,430 --> 00:12:49,220
boss director for all deployments that

00:12:45,800 --> 00:12:51,650
you have in your boss and sometimes it's

00:12:49,220 --> 00:12:53,800
not so comfortable but the change change

00:12:51,650 --> 00:12:57,460
but the things are going to change

00:12:53,800 --> 00:13:01,550
another cool thing is availability zones

00:12:57,460 --> 00:13:06,890
before we needed to create resource

00:13:01,550 --> 00:13:10,460
pools special resource pools to be able

00:13:06,890 --> 00:13:13,990
to deploy jobs to different availability

00:13:10,460 --> 00:13:15,620
zones so that these times has passed and

00:13:13,990 --> 00:13:19,640
the

00:13:15,620 --> 00:13:25,990
availability zones are more into it into

00:13:19,640 --> 00:13:31,240
it intuitive and also these have

00:13:25,990 --> 00:13:35,900
interesting subs

00:13:31,240 --> 00:13:40,180
interesting feature and the feature is

00:13:35,900 --> 00:13:44,240
that Bosch is going to balance instances

00:13:40,180 --> 00:13:46,160
between these availability zones so for

00:13:44,240 --> 00:13:51,290
instance in this case there are three

00:13:46,160 --> 00:13:53,690
instances and Bosch will deploy two

00:13:51,290 --> 00:13:58,279
instances to one availability zone and

00:13:53,690 --> 00:14:00,920
one instance to another and if you

00:13:58,279 --> 00:14:04,990
change amount of instances it will

00:14:00,920 --> 00:14:08,740
rebalance this the number of these VMs

00:14:04,990 --> 00:14:11,870
so to my mind is very cool feature

00:14:08,740 --> 00:14:17,690
another thing is global is working and

00:14:11,870 --> 00:14:19,760
global is working stands for so global

00:14:17,690 --> 00:14:23,589
networking is a feature in which both

00:14:19,760 --> 00:14:28,750
director can assign a static IP ice to

00:14:23,589 --> 00:14:33,560
virtual machines by itself and these

00:14:28,750 --> 00:14:36,560
this leads us to their world where we no

00:14:33,560 --> 00:14:40,029
need to declare static IP is no more I

00:14:36,560 --> 00:14:46,959
guess that it should be a national

00:14:40,029 --> 00:14:51,500
national holiday in Bosch world because

00:14:46,959 --> 00:14:55,279
because I guess everybody was tired to

00:14:51,500 --> 00:14:59,300
maintain static api's but you may ask

00:14:55,279 --> 00:14:59,870
how different jobs are going to find

00:14:59,300 --> 00:15:02,480
each other

00:14:59,870 --> 00:15:07,089
without knowing their IP is and the

00:15:02,480 --> 00:15:11,330
answer is that bosch provides links and

00:15:07,089 --> 00:15:14,510
links is the way how jobs can talk with

00:15:11,330 --> 00:15:18,100
which it each others and provide all

00:15:14,510 --> 00:15:22,810
necessary information credentials and

00:15:18,100 --> 00:15:26,510
and eyepiece using these machines

00:15:22,810 --> 00:15:28,360
mechanism so what what is the links what

00:15:26,510 --> 00:15:32,320
do they look like

00:15:28,360 --> 00:15:39,430
the answer is that in manifest we'll

00:15:32,320 --> 00:15:42,880
only need to show what jobs provide we

00:15:39,430 --> 00:15:47,520
job provide link and we job consumes and

00:15:42,880 --> 00:15:52,180
both director will will allow them to

00:15:47,520 --> 00:15:54,280
pass this information and in release

00:15:52,180 --> 00:15:59,530
templates we'll have additional

00:15:54,280 --> 00:16:02,560
functions that will allow us to to get

00:15:59,530 --> 00:16:07,720
this information so this example is

00:16:02,560 --> 00:16:10,720
taken from concours concours bas-reliefs

00:16:07,720 --> 00:16:14,680
and this is the reason I like concours

00:16:10,720 --> 00:16:17,890
because they they take all recent

00:16:14,680 --> 00:16:20,740
changes from Bosch and apply to their

00:16:17,890 --> 00:16:25,510
releases and you can find a lot a lot of

00:16:20,740 --> 00:16:28,870
interesting stuff there so there is also

00:16:25,510 --> 00:16:33,580
can fix error the thing you need to look

00:16:28,870 --> 00:16:38,380
into and this config server is is used

00:16:33,580 --> 00:16:44,250
to store all a sensitive data and the

00:16:38,380 --> 00:16:46,930
idea is that you can make that you can

00:16:44,250 --> 00:16:52,660
that our manifest will be something like

00:16:46,930 --> 00:16:58,150
templates and both director will insert

00:16:52,660 --> 00:17:02,880
these these template values inside

00:16:58,150 --> 00:17:09,130
manifest in runtime using config server

00:17:02,880 --> 00:17:13,390
so these config server can get the

00:17:09,130 --> 00:17:16,270
values for properties using two in two

00:17:13,390 --> 00:17:18,730
ways so one of them is a using manifest

00:17:16,270 --> 00:17:23,410
so the borscht operator can just run

00:17:18,730 --> 00:17:26,490
comment and use some manifest to to

00:17:23,410 --> 00:17:32,050
update the values and another one is

00:17:26,490 --> 00:17:33,910
both links so one release so one job

00:17:32,050 --> 00:17:36,250
during the deployment creates some

00:17:33,910 --> 00:17:40,360
values and put it in config server and

00:17:36,250 --> 00:17:41,890
another job can get this values the

00:17:40,360 --> 00:17:43,899
config server is

00:17:41,890 --> 00:17:48,370
the work on config server is currently

00:17:43,899 --> 00:17:53,890
in progress but I hope it will be out

00:17:48,370 --> 00:17:59,110
soon and people who try to customize

00:17:53,890 --> 00:18:06,460
themselves probably probably remember

00:17:59,110 --> 00:18:09,659
these this pain and this the thing that

00:18:06,460 --> 00:18:15,580
is going to save them is called add-ons

00:18:09,659 --> 00:18:19,779
adults are the way the way you can

00:18:15,580 --> 00:18:23,380
extend stem cells by adding some but by

00:18:19,779 --> 00:18:26,380
adding some agents or changing stem

00:18:23,380 --> 00:18:29,740
cells in the way you want and you don't

00:18:26,380 --> 00:18:31,960
need to fork a stem cell builder and

00:18:29,740 --> 00:18:36,309
bring your changes there and seeing

00:18:31,960 --> 00:18:41,289
these changes with with upstream every

00:18:36,309 --> 00:18:46,649
time new release is out so this is this

00:18:41,289 --> 00:18:54,330
is the coolest features from my side and

00:18:46,649 --> 00:18:57,880
what else Bosch have so at this moment

00:18:54,330 --> 00:19:01,809
Bosch and darker became closer and they

00:18:57,880 --> 00:19:03,970
have such cute logos of sea creatures

00:19:01,809 --> 00:19:09,370
and I can't see reason why they

00:19:03,970 --> 00:19:13,450
shouldn't be together and there the news

00:19:09,370 --> 00:19:16,899
is that dr. CPI is in development mode

00:19:13,450 --> 00:19:21,159
and it will be out soon I guess it was

00:19:16,899 --> 00:19:25,570
and one more thing one more great thing

00:19:21,159 --> 00:19:28,210
is that you can run Bosch light inside

00:19:25,570 --> 00:19:35,190
of concourse so wash light currently can

00:19:28,210 --> 00:19:40,149
be run inside of a container using using

00:19:35,190 --> 00:19:43,690
both light docker image and this means

00:19:40,149 --> 00:19:49,840
that we finally get to the place where

00:19:43,690 --> 00:19:54,130
we can get integration tests in our CI

00:19:49,840 --> 00:19:54,990
spy planes without without building some

00:19:54,130 --> 00:19:58,940
salute

00:19:54,990 --> 00:20:04,370
where we have borscht outside of

00:19:58,940 --> 00:20:09,440
concourse the last and the most

00:20:04,370 --> 00:20:13,590
impressive feature that was announced by

00:20:09,440 --> 00:20:17,640
Matt Ryder was called bought bundles and

00:20:13,590 --> 00:20:21,179
the idea of these was to make Bosch a

00:20:17,640 --> 00:20:26,300
packaging tool that will take some kind

00:20:21,179 --> 00:20:33,030
of bundles with releases and and

00:20:26,300 --> 00:20:35,220
manifests and it can deploy it should

00:20:33,030 --> 00:20:41,450
deploy these bundles with only one

00:20:35,220 --> 00:20:45,270
command so thank you for for this

00:20:41,450 --> 00:20:48,929
meeting I was glad to see so many

00:20:45,270 --> 00:20:53,280
interested people in Bosch and now we

00:20:48,929 --> 00:20:59,130
can discuss you can ask questions about

00:20:53,280 --> 00:21:06,079
the feature I mentioned tent that's it

00:20:59,130 --> 00:21:06,079

YouTube URL: https://www.youtube.com/watch?v=0ceEsUxGJ9U


