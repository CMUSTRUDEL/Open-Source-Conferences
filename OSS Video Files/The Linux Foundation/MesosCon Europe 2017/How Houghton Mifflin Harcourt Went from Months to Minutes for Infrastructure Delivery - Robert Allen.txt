Title: How Houghton Mifflin Harcourt Went from Months to Minutes for Infrastructure Delivery - Robert Allen
Publication date: 2017-10-31
Playlist: MesosCon Europe 2017
Description: 
	How Houghton Mifflin Harcourt Went from Months to Minutes for Infrastructure Delivery - Robert Allen, Houghton Mifflin Harcourt

At the beginning of 2016 Houghton Mifflin Harcourt was facing months to get infrastructure in place to develop new application for the educational needs of the world. With back to school closing in a platform was needed to allow engineering to pivot, innovate and embrace a more agile approach to solving the needs of the industry. By leveraging Apache Mesos and Apache Aurora they were able to deliver those applications while cutting annual costs by six figures and begin the process of empowering engineers to focus on innovative products and not the infrastructure.

About Robert Allen
Spending more than 20 years in the technology sector as developer, architect and leader within the communications and e-commerce sectors; today much of his passion revolves around Amazon Web Services, Mesos, Aurora and Spark with a collective goal of bringing modern techniques to the education industry.
Captions: 
	00:00:00,000 --> 00:00:05,310
I welcome my name's Robert Allen I'm

00:00:02,460 --> 00:00:07,350
from houghton mifflin harcourt I'm

00:00:05,310 --> 00:00:10,230
suspecting most of you haven't heard of

00:00:07,350 --> 00:00:13,139
us or don't know who we are but we're a

00:00:10,230 --> 00:00:16,859
global publisher some of our works that

00:00:13,139 --> 00:00:20,850
you might be familiar with our C Lord of

00:00:16,859 --> 00:00:22,710
the Rings all the Tolkien works pretty

00:00:20,850 --> 00:00:26,789
sure most of us remove those Life of Pi

00:00:22,710 --> 00:00:28,230
and several others we're about a hundred

00:00:26,789 --> 00:00:31,859
and eighty five-year-old publishing

00:00:28,230 --> 00:00:36,750
company which in itself brings a lot of

00:00:31,859 --> 00:00:38,100
challenges our besides the trade the you

00:00:36,750 --> 00:00:40,170
know the the publishing of books and

00:00:38,100 --> 00:00:44,670
such we work heavily in K through 12

00:00:40,170 --> 00:00:48,420
education assessments formative

00:00:44,670 --> 00:00:52,590
education formative assessments we have

00:00:48,420 --> 00:00:54,510
a large staff of learning architects we

00:00:52,590 --> 00:00:57,120
deliver a lot of high stakes assessments

00:00:54,510 --> 00:00:59,390
things like that we also do a lot of

00:00:57,120 --> 00:01:07,820
research we work with schools to develop

00:00:59,390 --> 00:01:12,810
practices on various types of education

00:01:07,820 --> 00:01:14,820
aspects like when an intervention so

00:01:12,810 --> 00:01:17,659
students fall behind things like that or

00:01:14,820 --> 00:01:19,979
you know accelerated students it's not

00:01:17,659 --> 00:01:21,630
that's where the professional services

00:01:19,979 --> 00:01:26,960
come in we provide a lot of data to

00:01:21,630 --> 00:01:30,360
schools comprehensive assessments etc a

00:01:26,960 --> 00:01:35,220
few years ago I guess about three years

00:01:30,360 --> 00:01:37,110
ago we sort of we came into a crisis the

00:01:35,220 --> 00:01:38,880
markets changing in education I'm sure a

00:01:37,110 --> 00:01:40,729
lot of you have noticed that a lot of

00:01:38,880 --> 00:01:43,229
different companies coming into it

00:01:40,729 --> 00:01:46,200
innovation accelerating in various areas

00:01:43,229 --> 00:01:48,060
and we found ourselves sort of having

00:01:46,200 --> 00:01:52,140
difficulty with you know innovating the

00:01:48,060 --> 00:01:55,170
products developing the products and

00:01:52,140 --> 00:01:55,770
that led us to recognize that we have a

00:01:55,170 --> 00:01:59,790
problem

00:01:55,770 --> 00:02:02,130
a large group of people weren't really

00:01:59,790 --> 00:02:05,840
sure what that problem was everybody's

00:02:02,130 --> 00:02:09,539
you know some people ignored the problem

00:02:05,840 --> 00:02:11,220
some people didn't but we had a we had a

00:02:09,539 --> 00:02:13,640
lot of trouble getting consensus on what

00:02:11,220 --> 00:02:15,690
those problems were

00:02:13,640 --> 00:02:17,370
so about three years ago we started

00:02:15,690 --> 00:02:18,930
looking at that and trying to understand

00:02:17,370 --> 00:02:20,610
how do we get these products delivered

00:02:18,930 --> 00:02:23,550
nothing was really getting delivered to

00:02:20,610 --> 00:02:28,110
the customers that needed to be and so

00:02:23,550 --> 00:02:29,820
we ended up recognizing that we have a

00:02:28,110 --> 00:02:32,250
portfolio of about 900 different

00:02:29,820 --> 00:02:34,650
applications that and most of them are

00:02:32,250 --> 00:02:36,510
different however almost all of them

00:02:34,650 --> 00:02:39,920
share about 60% of the same

00:02:36,510 --> 00:02:45,420
functionality and because we have a pool

00:02:39,920 --> 00:02:47,220
between 400 600 engineers which is a lot

00:02:45,420 --> 00:02:49,890
of teams a lot of people building the

00:02:47,220 --> 00:02:51,570
same thing different things and we

00:02:49,890 --> 00:02:53,280
recognized that almost all of the

00:02:51,570 --> 00:02:55,020
development time was being spent doing

00:02:53,280 --> 00:02:59,760
the same thing every time

00:02:55,020 --> 00:03:03,120
and when that happens we just we

00:02:59,760 --> 00:03:05,880
couldn't get anything done and so we

00:03:03,120 --> 00:03:08,190
also had situations where the operations

00:03:05,880 --> 00:03:09,510
at the what we call the Technology Group

00:03:08,190 --> 00:03:12,690
they couldn't get infrastructure

00:03:09,510 --> 00:03:14,970
delivered I say months but in some cases

00:03:12,690 --> 00:03:17,250
it was years so they would have a

00:03:14,970 --> 00:03:19,170
product that we need to develop we would

00:03:17,250 --> 00:03:21,510
need infrastructure to build you know to

00:03:19,170 --> 00:03:23,160
build those development cycles in and we

00:03:21,510 --> 00:03:26,040
couldn't even get access to it for over

00:03:23,160 --> 00:03:28,860
a year around this time is when I joined

00:03:26,040 --> 00:03:31,110
the company and I was asked to look at

00:03:28,860 --> 00:03:33,180
it from a much smaller perspective more

00:03:31,110 --> 00:03:35,940
from one or two teams instead of the

00:03:33,180 --> 00:03:37,590
five or six hundred engineers and I come

00:03:35,940 --> 00:03:40,290
from and telecommunications background

00:03:37,590 --> 00:03:42,269
and I'd already been looking at Mesa at

00:03:40,290 --> 00:03:44,730
the time but it was very new there was a

00:03:42,269 --> 00:03:48,180
lot of things missing like containers

00:03:44,730 --> 00:03:50,880
and I think it was like version 0.1 or

00:03:48,180 --> 00:03:53,430
something but it was pretty clear to me

00:03:50,880 --> 00:03:55,200
at the time that that was the direction

00:03:53,430 --> 00:03:57,989
we needed to go to orchestrate all these

00:03:55,200 --> 00:03:59,760
different applications and so all these

00:03:57,989 --> 00:04:01,050
monolithic applications they all have

00:03:59,760 --> 00:04:03,750
they all shared the different things

00:04:01,050 --> 00:04:05,640
like you know authentication logging in

00:04:03,750 --> 00:04:07,769
most cases they didn't even have time to

00:04:05,640 --> 00:04:10,830
develop metrics you know where they

00:04:07,769 --> 00:04:13,170
could monitor it properly there was a

00:04:10,830 --> 00:04:15,510
culture of if I can get it through dev

00:04:13,170 --> 00:04:17,790
and I can accept it in QA I can just get

00:04:15,510 --> 00:04:20,640
it over the wall it would go into legacy

00:04:17,790 --> 00:04:22,109
in to support mode and someone else had

00:04:20,640 --> 00:04:24,780
to deal with it and so there is this

00:04:22,109 --> 00:04:25,580
culture of really just running away from

00:04:24,780 --> 00:04:27,199
that problem

00:04:25,580 --> 00:04:29,659
and just give it to somebody else

00:04:27,199 --> 00:04:32,060
contracts you know contractors in some

00:04:29,659 --> 00:04:35,090
case that were responsible for you know

00:04:32,060 --> 00:04:37,039
the the the health state of it once it

00:04:35,090 --> 00:04:39,050
was delivered and so it led to a lot of

00:04:37,039 --> 00:04:42,169
upset customers it led to a lot of

00:04:39,050 --> 00:04:45,770
things just really not it wasn't good it

00:04:42,169 --> 00:04:49,129
was bad and there's a few here that can

00:04:45,770 --> 00:04:51,080
attest to that I say up to six months

00:04:49,129 --> 00:04:53,960
there were literally cases that went as

00:04:51,080 --> 00:04:55,250
much as eighteen months and you know by

00:04:53,960 --> 00:04:57,229
the time you would get the

00:04:55,250 --> 00:04:59,449
infrastructure the products already

00:04:57,229 --> 00:05:03,379
moved on you're gone you've lost your

00:04:59,449 --> 00:05:05,330
opportunity other things you know like I

00:05:03,379 --> 00:05:06,889
said the logging you know just all of

00:05:05,330 --> 00:05:09,110
these different aspects it was clear

00:05:06,889 --> 00:05:11,060
that if we could if we could narrow that

00:05:09,110 --> 00:05:13,969
down and let you know and let our

00:05:11,060 --> 00:05:15,169
engineers focus on you know what's core

00:05:13,969 --> 00:05:17,810
of the business and you know

00:05:15,169 --> 00:05:19,580
infrastructure and operations we're not

00:05:17,810 --> 00:05:22,009
an infrastructure and operations company

00:05:19,580 --> 00:05:24,740
we're an education company and what we

00:05:22,009 --> 00:05:26,419
needed to do was have you know let all

00:05:24,740 --> 00:05:27,830
of those engineers that you know those

00:05:26,419 --> 00:05:29,870
hundreds of engineers out there and

00:05:27,830 --> 00:05:31,370
those teams really focus on what was

00:05:29,870 --> 00:05:33,529
core to the business which is just

00:05:31,370 --> 00:05:35,479
building the application not worrying

00:05:33,529 --> 00:05:37,279
about necessarily the security the

00:05:35,479 --> 00:05:40,310
authentication logging the metrics and

00:05:37,279 --> 00:05:42,229
really define what that was and so we

00:05:40,310 --> 00:05:44,630
come up with you know a series of goals

00:05:42,229 --> 00:05:46,130
and there was a process and then we

00:05:44,630 --> 00:05:49,279
spent six months really talking about

00:05:46,130 --> 00:05:51,080
what we wanted to do and we wanted we

00:05:49,279 --> 00:05:52,610
wanted engineers to be empowered and to

00:05:51,080 --> 00:05:54,949
do that they needed to own it from

00:05:52,610 --> 00:05:56,750
concept all the way to legacy if you

00:05:54,949 --> 00:05:58,310
develop it and you don't develop it

00:05:56,750 --> 00:06:00,620
right you're the one that's gonna get

00:05:58,310 --> 00:06:05,629
woke up at night you got to fix it and

00:06:00,620 --> 00:06:07,250
so we started enforcing that that took a

00:06:05,629 --> 00:06:09,409
cultural shift I mean we had to really

00:06:07,250 --> 00:06:12,349
you know get people to understand that

00:06:09,409 --> 00:06:14,539
you can't make bad - so you have to

00:06:12,349 --> 00:06:17,090
really think about what you're doing we

00:06:14,539 --> 00:06:18,800
wanted continuous delivery the release

00:06:17,090 --> 00:06:20,870
cycle on some of these apps that we were

00:06:18,800 --> 00:06:24,340
that we were delivering to the customers

00:06:20,870 --> 00:06:27,529
were months or years the fear was that

00:06:24,340 --> 00:06:29,180
the students were the teachers and the

00:06:27,529 --> 00:06:32,629
educators that were consuming these

00:06:29,180 --> 00:06:34,969
products couldn't handle change and the

00:06:32,629 --> 00:06:36,949
culture we had to we had to really we

00:06:34,969 --> 00:06:38,449
had to help people understand that there

00:06:36,949 --> 00:06:40,789
are ways to

00:06:38,449 --> 00:06:46,099
continually deliver product without

00:06:40,789 --> 00:06:47,689
imposing mass change on the consumers we

00:06:46,099 --> 00:06:50,419
had to stop preventing failure we had

00:06:47,689 --> 00:06:51,710
pools and we still do in some cases we

00:06:50,419 --> 00:06:53,629
have pools of people their

00:06:51,710 --> 00:06:56,150
responsibility is to prevent things from

00:06:53,629 --> 00:06:58,430
changing yeah and so it's hard to

00:06:56,150 --> 00:07:00,249
deliver a product when you got a whole

00:06:58,430 --> 00:07:03,349
team of people saying you can't do that

00:07:00,249 --> 00:07:05,270
and we had to change that we had we had

00:07:03,349 --> 00:07:07,099
to get people thinking that you know

00:07:05,270 --> 00:07:09,830
it's better to have small change sets

00:07:07,099 --> 00:07:12,409
lots of them and because when you do

00:07:09,830 --> 00:07:15,139
that you have you're imposing a lot or

00:07:12,409 --> 00:07:18,889
you're imposing less change and less

00:07:15,139 --> 00:07:20,509
potential failure you know in you know

00:07:18,889 --> 00:07:22,879
if you do a change set with you know

00:07:20,509 --> 00:07:24,680
thousands of change sets in it and you

00:07:22,879 --> 00:07:26,479
deliver that potentially you have a

00:07:24,680 --> 00:07:27,860
thousand problems what we wanted to get

00:07:26,479 --> 00:07:30,409
to and we're still working that

00:07:27,860 --> 00:07:32,749
direction is having you know one or two

00:07:30,409 --> 00:07:35,779
changes going in maybe two or three

00:07:32,749 --> 00:07:38,539
times in a day in some places we have

00:07:35,779 --> 00:07:40,639
that some places we don't and we wanted

00:07:38,539 --> 00:07:43,189
to decompose these services into you

00:07:40,639 --> 00:07:45,639
know segregation and responsibilities so

00:07:43,189 --> 00:07:47,990
one service handles thoth indication

00:07:45,639 --> 00:07:50,210
authorization you know on all these

00:07:47,990 --> 00:07:52,639
different things and really again let

00:07:50,210 --> 00:07:59,529
those teams focus on that product and

00:07:52,639 --> 00:08:02,419
that product long and so November 2015

00:07:59,529 --> 00:08:06,409
my team was chartered to solve this

00:08:02,419 --> 00:08:09,379
problem the catch was we had to deliver

00:08:06,409 --> 00:08:12,469
a solution in six months or less the

00:08:09,379 --> 00:08:18,050
only way whether there was that was

00:08:12,469 --> 00:08:20,060
another crisis moment because from you

00:08:18,050 --> 00:08:22,669
know as a start-up which is where I come

00:08:20,060 --> 00:08:24,319
from the background startup it's sort of

00:08:22,669 --> 00:08:26,029
easy to Greenfield solutions like this

00:08:24,319 --> 00:08:28,159
when you don't necessarily have a lot of

00:08:26,029 --> 00:08:29,749
customers right well we have millions of

00:08:28,159 --> 00:08:31,879
customers we have millions of students

00:08:29,749 --> 00:08:33,829
we have a lot of constraints around data

00:08:31,879 --> 00:08:35,449
you know there's there's all sorts of

00:08:33,829 --> 00:08:37,449
regulations around the data that we deal

00:08:35,449 --> 00:08:39,500
with the handling of that data

00:08:37,449 --> 00:08:41,300
geographic restrictions on where that

00:08:39,500 --> 00:08:43,610
data can be handled or stored or

00:08:41,300 --> 00:08:45,079
processed and all these things so we had

00:08:43,610 --> 00:08:46,910
to step back we had to look at it we had

00:08:45,079 --> 00:08:48,500
to look for ways how can we solve this

00:08:46,910 --> 00:08:50,839
problem and so we developed with the

00:08:48,500 --> 00:08:52,310
team was formed what we now call bedrock

00:08:50,839 --> 00:08:56,990
Technical Services

00:08:52,310 --> 00:09:00,950
the entire package of ideas goals etc we

00:08:56,990 --> 00:09:03,470
call bedrock it's an okay name but

00:09:00,950 --> 00:09:07,220
probably could have been better but it's

00:09:03,470 --> 00:09:11,140
good it works so we're currently a team

00:09:07,220 --> 00:09:13,490
of five people and at the time it was a

00:09:11,140 --> 00:09:16,840
it was challenging in the early months

00:09:13,490 --> 00:09:18,770
to say the least so we knew that

00:09:16,840 --> 00:09:21,140
technology alone can't solve this

00:09:18,770 --> 00:09:23,090
problem right so we knew that we had to

00:09:21,140 --> 00:09:24,920
have a grassroots understanding

00:09:23,090 --> 00:09:26,720
throughout the company that this is the

00:09:24,920 --> 00:09:27,830
direction we're going these are the

00:09:26,720 --> 00:09:29,570
problems we're going to solve and we

00:09:27,830 --> 00:09:31,490
need to do this together this is not

00:09:29,570 --> 00:09:33,380
something and it never will be something

00:09:31,490 --> 00:09:36,050
that you can solve from a grassroots or

00:09:33,380 --> 00:09:40,670
I'm sorry from a command level you can't

00:09:36,050 --> 00:09:42,800
tell 600 engineers and you know 50 or 60

00:09:40,670 --> 00:09:45,230
teams of developers that you're going to

00:09:42,800 --> 00:09:47,420
do it this way you know and it has to be

00:09:45,230 --> 00:09:48,860
done this way you need you have to get a

00:09:47,420 --> 00:09:51,560
consensus or at least an understanding

00:09:48,860 --> 00:09:53,030
of all these people you know that this

00:09:51,560 --> 00:09:54,770
is direction we're going we're going to

00:09:53,030 --> 00:09:58,280
take these steps and you have to be

00:09:54,770 --> 00:10:01,670
pragmatic about it all and the

00:09:58,280 --> 00:10:03,500
pragmatism is that I can't or we can't

00:10:01,670 --> 00:10:05,900
come out with a whole bunch of solutions

00:10:03,500 --> 00:10:08,680
at one time and change everybody's world

00:10:05,900 --> 00:10:11,450
overnight so we needed a way to really

00:10:08,680 --> 00:10:13,700
provide a level of behavioral design in

00:10:11,450 --> 00:10:17,450
how those how the infrastructure is

00:10:13,700 --> 00:10:19,430
delivered so what we strive to do is to

00:10:17,450 --> 00:10:23,390
make the right things the easy thing

00:10:19,430 --> 00:10:24,800
right and you can't and in there are

00:10:23,390 --> 00:10:26,540
cases where you can't make the right

00:10:24,800 --> 00:10:32,630
thing easy you have to make the wrong

00:10:26,540 --> 00:10:34,520
thing hard which turns out that's not as

00:10:32,630 --> 00:10:39,820
difficult as it sounds because most of

00:10:34,520 --> 00:10:43,460
it's hard anyways so we run Mesa Aurora

00:10:39,820 --> 00:10:47,120
pretty much exclusively for canoer job

00:10:43,460 --> 00:10:49,820
orchestration like I said before we're

00:10:47,120 --> 00:10:52,460
currently a team of five people plus

00:10:49,820 --> 00:10:54,200
myself I try not to contribute too much

00:10:52,460 --> 00:10:56,780
because I'm more of the chaos monkey and

00:10:54,200 --> 00:10:59,080
things frustrates the team from time to

00:10:56,780 --> 00:11:01,740
time but

00:10:59,080 --> 00:11:04,660
so we run maces Aurora we have

00:11:01,740 --> 00:11:07,899
approximately 30 individual teams that

00:11:04,660 --> 00:11:10,390
are contributing to that today they are

00:11:07,899 --> 00:11:13,330
all empowered to do to do their own

00:11:10,390 --> 00:11:16,029
deliveries their own you know their own

00:11:13,330 --> 00:11:19,870
job definitions etc and we do that with

00:11:16,029 --> 00:11:22,660
Aurora we do find the in it's an ongoing

00:11:19,870 --> 00:11:25,029
process because a lot of times engineers

00:11:22,660 --> 00:11:27,790
don't understand thing they don't

00:11:25,029 --> 00:11:29,829
I wouldn't say understand they don't

00:11:27,790 --> 00:11:32,500
always take into consideration what

00:11:29,829 --> 00:11:36,990
their decisions impact the entire

00:11:32,500 --> 00:11:39,730
cluster and so my team's job is to make

00:11:36,990 --> 00:11:42,490
bedrock safe for engineers not engineers

00:11:39,730 --> 00:11:44,740
safe for bedrock when you accept that

00:11:42,490 --> 00:11:45,970
and you and you truly you know embrace

00:11:44,740 --> 00:11:48,459
that approach to it

00:11:45,970 --> 00:11:50,260
it changes operations approached

00:11:48,459 --> 00:11:52,660
everything so it means that you have to

00:11:50,260 --> 00:11:55,029
put governance in place but not

00:11:52,660 --> 00:11:56,680
restrictive you can't restrict what

00:11:55,029 --> 00:11:59,230
they're doing but you just have to make

00:11:56,680 --> 00:12:02,440
it safe for them to go in and not impact

00:11:59,230 --> 00:12:05,800
other consumers of the cluster that's

00:12:02,440 --> 00:12:09,970
not always easy there's a lot of

00:12:05,800 --> 00:12:12,459
challenges around that and so that's

00:12:09,970 --> 00:12:15,220
where we get into you know other aspects

00:12:12,459 --> 00:12:17,640
of the cluster so we also use linker D

00:12:15,220 --> 00:12:20,320
now we originally started with finagle

00:12:17,640 --> 00:12:25,390
we do have finagle in some places that

00:12:20,320 --> 00:12:28,240
we use because because Aurora originally

00:12:25,390 --> 00:12:32,250
originates with Twitter and they develop

00:12:28,240 --> 00:12:35,050
finagle to work with the zookeeper the

00:12:32,250 --> 00:12:37,529
the service discovery pattern that or

00:12:35,050 --> 00:12:40,980
the group membership patterns and the

00:12:37,529 --> 00:12:44,470
where they call them server sets etc

00:12:40,980 --> 00:12:46,329
that was sort of a nice fit but as we

00:12:44,470 --> 00:12:48,370
started scaling out we also ran into

00:12:46,329 --> 00:12:52,420
other issues with like AWS so we're

00:12:48,370 --> 00:12:54,399
currently in AWS which gets into the

00:12:52,420 --> 00:12:56,529
whole other crisis that the company had

00:12:54,399 --> 00:12:58,660
with when they started doing the lift

00:12:56,529 --> 00:13:01,690
and shift you guys familiar with what

00:12:58,660 --> 00:13:04,510
that does to a company yeah so there was

00:13:01,690 --> 00:13:07,690
a there was an almost eight figure panic

00:13:04,510 --> 00:13:13,170
that happened probably my second year

00:13:07,690 --> 00:13:17,020
HMH so the budget was bad it was

00:13:13,170 --> 00:13:20,710
yeah it was a crisis they had no idea

00:13:17,020 --> 00:13:23,020
what was coming because cloud providers

00:13:20,710 --> 00:13:24,730
are like banks if you don't have a plan

00:13:23,020 --> 00:13:28,270
for your money don't worry they have one

00:13:24,730 --> 00:13:31,810
for you and they they will clean your

00:13:28,270 --> 00:13:33,760
wallet out quick the the assumption

00:13:31,810 --> 00:13:36,160
going into it for a lot of you know the

00:13:33,760 --> 00:13:37,870
leadership at that time was that we go

00:13:36,160 --> 00:13:39,880
to the cloud it's an automatic savings

00:13:37,870 --> 00:13:42,190
but the reality is and I think we all

00:13:39,880 --> 00:13:43,900
know this that you can't just jump in

00:13:42,190 --> 00:13:46,030
the cloud without a plan you you know

00:13:43,900 --> 00:13:48,880
you the the cost-saving comes in the

00:13:46,030 --> 00:13:52,660
ability to scale down scale up the way

00:13:48,880 --> 00:13:55,210
HMH did this at the time was in to some

00:13:52,660 --> 00:13:58,540
degree we still do in every environment

00:13:55,210 --> 00:14:04,510
every app was copied seven times so you

00:13:58,540 --> 00:14:06,160
had dev in sir-sir to some cases cert

00:14:04,510 --> 00:14:07,750
three so they had certifications

00:14:06,160 --> 00:14:09,280
environments for the certification

00:14:07,750 --> 00:14:11,110
environment and another certification

00:14:09,280 --> 00:14:12,910
environment and then you might get the

00:14:11,110 --> 00:14:16,060
prod and in some cases you had to prod

00:14:12,910 --> 00:14:18,220
you know Stax so when you repeat all of

00:14:16,060 --> 00:14:21,130
those you know all of those things your

00:14:18,220 --> 00:14:23,740
cost just grows you can't control it and

00:14:21,130 --> 00:14:25,330
so what we've done is you know that one

00:14:23,740 --> 00:14:28,510
of the main decisions and this this is

00:14:25,330 --> 00:14:30,220
what really upset a lot of people was it

00:14:28,510 --> 00:14:32,440
was a conscious decision to go into this

00:14:30,220 --> 00:14:34,270
with maces and rora to only have one

00:14:32,440 --> 00:14:36,880
environment for the infrastructure we

00:14:34,270 --> 00:14:39,280
have two but nothing's ever truly

00:14:36,880 --> 00:14:41,890
deployed in the in the dev environment

00:14:39,280 --> 00:14:43,810
so we test all of the infrastructure to

00:14:41,890 --> 00:14:46,480
us regardless of whether the app is dev

00:14:43,810 --> 00:14:49,540
or production the infrastructure it runs

00:14:46,480 --> 00:14:51,460
on his production and so that really

00:14:49,540 --> 00:14:54,640
helps us make decisions and keep things

00:14:51,460 --> 00:14:57,100
stable for them going through now the

00:14:54,640 --> 00:14:59,589
old-school mentality of you having to

00:14:57,100 --> 00:15:02,110
keep everything segregated and separate

00:14:59,589 --> 00:15:05,260
with networks and VLANs and all these

00:15:02,110 --> 00:15:06,850
things there was a lot of panic around

00:15:05,260 --> 00:15:10,210
that you know in containers of

00:15:06,850 --> 00:15:13,270
containers bad we can't do containers it

00:15:10,210 --> 00:15:16,290
was it was a mess originally we started

00:15:13,270 --> 00:15:19,390
with cloud formation

00:15:16,290 --> 00:15:20,830
it was great until it wasn't

00:15:19,390 --> 00:15:23,140
which didn't take long to get to where

00:15:20,830 --> 00:15:26,200
it wasn't we lots of issues and as we

00:15:23,140 --> 00:15:28,000
scaled out you know applying updates

00:15:26,200 --> 00:15:30,160
with co-op formation would call all

00:15:28,000 --> 00:15:32,590
kinds of headaches because sometimes it

00:15:30,160 --> 00:15:34,540
would lock up yeah you would get the the

00:15:32,590 --> 00:15:37,900
resource bound you couldn't get the

00:15:34,540 --> 00:15:40,300
resource down and in some parts of our

00:15:37,900 --> 00:15:42,010
stack it would take days to get an you

00:15:40,300 --> 00:15:43,930
know change applied to that because we'd

00:15:42,010 --> 00:15:46,630
have to go through support somebody AWS

00:15:43,930 --> 00:15:48,780
we'd have to kill it and the whole you

00:15:46,630 --> 00:15:50,950
know everything about it was bad

00:15:48,780 --> 00:15:53,800
terraform came about and we adopted that

00:15:50,950 --> 00:15:55,780
and which led to you know keeping

00:15:53,800 --> 00:15:59,110
secrets somewhere else which we've now

00:15:55,780 --> 00:16:01,420
started going towards vault and it's

00:15:59,110 --> 00:16:02,860
gotten much better it's also open the

00:16:01,420 --> 00:16:04,450
door for us to start looking at other

00:16:02,860 --> 00:16:10,270
providers to move some of these

00:16:04,450 --> 00:16:13,510
workloads to and then finally we use

00:16:10,270 --> 00:16:15,490
Jenkins now the one thing I think is

00:16:13,510 --> 00:16:20,500
almost universal maybe not quite is that

00:16:15,490 --> 00:16:23,380
everybody hates jinkin it works but

00:16:20,500 --> 00:16:25,930
because the team was so small we we

00:16:23,380 --> 00:16:27,970
accepted the fact that some things were

00:16:25,930 --> 00:16:29,410
just going to use because we don't have

00:16:27,970 --> 00:16:33,220
time to develop or work on another

00:16:29,410 --> 00:16:34,900
solution Jenkins was that for us as well

00:16:33,220 --> 00:16:36,220
as you know data dog and some of the

00:16:34,900 --> 00:16:38,380
more expensive things those were

00:16:36,220 --> 00:16:41,830
conscious decisions earlier that over

00:16:38,380 --> 00:16:44,040
time we would start to work out we

00:16:41,830 --> 00:16:47,650
originally started with one monolithic

00:16:44,040 --> 00:16:49,420
Jenkins deployment using operations

00:16:47,650 --> 00:16:51,970
center etc that everybody deployed their

00:16:49,420 --> 00:16:53,620
jobs to but then the other problem with

00:16:51,970 --> 00:16:57,100
Jenkins cropped up where you have

00:16:53,620 --> 00:16:58,870
plug-in collisions right so then we

00:16:57,100 --> 00:17:01,589
realized that well with 30 teams we

00:16:58,870 --> 00:17:03,430
can't have 30 teams doing this so

00:17:01,589 --> 00:17:05,290
because everybody wanted a different

00:17:03,430 --> 00:17:07,540
plug-in the plugins were in conflict

00:17:05,290 --> 00:17:08,020
Jenkins was down like every hour it was

00:17:07,540 --> 00:17:11,410
a nightmare

00:17:08,020 --> 00:17:13,240
so we split it out now the teams manage

00:17:11,410 --> 00:17:14,530
their own Jenkins and they manage it

00:17:13,240 --> 00:17:16,630
through Aurora they run it just like

00:17:14,530 --> 00:17:19,780
another job and they deploy everything

00:17:16,630 --> 00:17:22,300
there that has been that has been a

00:17:19,780 --> 00:17:24,420
great improvement for everything excuse

00:17:22,300 --> 00:17:24,420
me

00:17:27,490 --> 00:17:36,470
so as we do this we realize that there's

00:17:33,740 --> 00:17:38,380
a lot we have to watch you know we have

00:17:36,470 --> 00:17:41,000
a lot of expectation we have all these

00:17:38,380 --> 00:17:43,660
guidelines so if you don't meet these

00:17:41,000 --> 00:17:48,770
guidelines you know the certain patterns

00:17:43,660 --> 00:17:52,850
health checks monitoring formats logging

00:17:48,770 --> 00:17:54,770
etc you can't run there you can't run

00:17:52,850 --> 00:17:57,200
your app in bedrock and you're stuck

00:17:54,770 --> 00:18:00,380
with the months or whatever trying to

00:17:57,200 --> 00:18:03,230
get infrastructure that that's that

00:18:00,380 --> 00:18:06,380
making things harder concept behavioral

00:18:03,230 --> 00:18:08,600
design so you want to run your app if

00:18:06,380 --> 00:18:11,330
you want to do it now you have to do

00:18:08,600 --> 00:18:13,850
these things and so we spend a lot of

00:18:11,330 --> 00:18:17,210
time inspecting this you know we we

00:18:13,850 --> 00:18:19,070
inspect how the apps are being deployed

00:18:17,210 --> 00:18:20,770
how they're running that they're

00:18:19,070 --> 00:18:23,390
providing the metrics that they should

00:18:20,770 --> 00:18:25,940
and for the most part doing the right

00:18:23,390 --> 00:18:28,790
things and it's important to realize

00:18:25,940 --> 00:18:30,860
that you know you have to constantly be

00:18:28,790 --> 00:18:32,809
monitoring and watching not just the

00:18:30,860 --> 00:18:35,150
performance but just the entire

00:18:32,809 --> 00:18:38,990
environment you know the the culture and

00:18:35,150 --> 00:18:41,330
so this led to really embracing the

00:18:38,990 --> 00:18:43,820
openness you know being open about our

00:18:41,330 --> 00:18:47,290
failures being open about what worked

00:18:43,820 --> 00:18:49,580
what didn't in a 200 year old company

00:18:47,290 --> 00:18:53,660
that's not an easy thing for people to

00:18:49,580 --> 00:18:55,550
do a lot of people like to you know you

00:18:53,660 --> 00:18:58,880
know oh it broke but we're not gonna

00:18:55,550 --> 00:19:02,809
tell anybody and so we had to embrace

00:18:58,880 --> 00:19:06,200
you know really well my team had to act

00:19:02,809 --> 00:19:10,820
as an example of you know you know

00:19:06,200 --> 00:19:13,850
airing our laundry so to speak we we

00:19:10,820 --> 00:19:15,290
have we've made a lot of mistakes but

00:19:13,850 --> 00:19:16,760
we've done a lot of things right and but

00:19:15,290 --> 00:19:20,000
we've always learned from our mistakes I

00:19:16,760 --> 00:19:21,530
think I say I think because that's

00:19:20,000 --> 00:19:24,980
something that's not judged for months

00:19:21,530 --> 00:19:28,070
or years down the road getting teams to

00:19:24,980 --> 00:19:31,880
do that was at first difficult but it's

00:19:28,070 --> 00:19:35,960
gotten much easier over time we slack is

00:19:31,880 --> 00:19:37,790
we use slack slack is is very good for

00:19:35,960 --> 00:19:41,150
that

00:19:37,790 --> 00:19:45,140
when we have you know outages we always

00:19:41,150 --> 00:19:48,080
publish in RF rfo a reason for outage we

00:19:45,140 --> 00:19:51,140
try to outline exactly why it happened

00:19:48,080 --> 00:19:52,940
what mitigations we took and what our

00:19:51,140 --> 00:19:55,820
plans are for the future preventing that

00:19:52,940 --> 00:19:58,730
to happen that whole communication chain

00:19:55,820 --> 00:20:00,380
is important you know you probably come

00:19:58,730 --> 00:20:03,080
in here thinking there's going to be an

00:20:00,380 --> 00:20:06,260
entirely technical talk but it's not

00:20:03,080 --> 00:20:09,020
because it's really you know technology

00:20:06,260 --> 00:20:10,970
you know everybody likes to present that

00:20:09,020 --> 00:20:13,880
the technology is a solution to all your

00:20:10,970 --> 00:20:15,560
problems and while it's it's it's a

00:20:13,880 --> 00:20:17,810
major part of it it's important to

00:20:15,560 --> 00:20:19,730
understand that if you don't have a plan

00:20:17,810 --> 00:20:21,800
and you don't have a culture that goes

00:20:19,730 --> 00:20:26,060
with those changes you're not going to

00:20:21,800 --> 00:20:28,790
be successful and it literally took two

00:20:26,060 --> 00:20:30,800
years just to get in a large company

00:20:28,790 --> 00:20:33,290
like this to really get the the momentum

00:20:30,800 --> 00:20:35,420
going to make these changes because had

00:20:33,290 --> 00:20:37,160
it not been for that crisis you know

00:20:35,420 --> 00:20:39,290
that not being able to deliver any

00:20:37,160 --> 00:20:42,620
applications that needed to be delivered

00:20:39,290 --> 00:20:43,790
for that year that school year you know

00:20:42,620 --> 00:20:45,950
we'd probably still be doing the same

00:20:43,790 --> 00:20:48,790
thing and you know I might be somewhere

00:20:45,950 --> 00:20:52,040
else by now I don't know but it's a it's

00:20:48,790 --> 00:20:53,990
been quite a learning experience and so

00:20:52,040 --> 00:20:56,390
the philosophical aspects of this is

00:20:53,990 --> 00:20:58,580
really you know you can't you have to

00:20:56,390 --> 00:20:59,840
empower the engineers you have to set

00:20:58,580 --> 00:21:02,510
those engagements you have to have

00:20:59,840 --> 00:21:03,590
accountability and really all of these

00:21:02,510 --> 00:21:06,350
things come together and then

00:21:03,590 --> 00:21:08,930
celebrating the successes the failures

00:21:06,350 --> 00:21:10,910
and recognizing what is and isn't

00:21:08,930 --> 00:21:13,480
working because they're all equally

00:21:10,910 --> 00:21:13,480
important

00:21:20,049 --> 00:21:27,409
so really I want to I wanted to get

00:21:25,850 --> 00:21:31,250
through this quick so there would be

00:21:27,409 --> 00:21:33,320
time for questions because we have a lot

00:21:31,250 --> 00:21:35,149
to share about this but it really

00:21:33,320 --> 00:21:37,640
depends you know I'm interested in you

00:21:35,149 --> 00:21:39,169
know what are you interested in and what

00:21:37,640 --> 00:21:45,590
can we share with you in more detail

00:21:39,169 --> 00:21:56,120
beyond this now I'm very hard of hearing

00:21:45,590 --> 00:21:58,190
so bear with me yeah so you've mentioned

00:21:56,120 --> 00:21:59,929
that it took like around two years to

00:21:58,190 --> 00:22:02,570
actually do the whole kind of grassroots

00:21:59,929 --> 00:22:05,870
change and still follow that the

00:22:02,570 --> 00:22:08,059
question is though being a 200 year old

00:22:05,870 --> 00:22:11,360
company I suppose that you went from

00:22:08,059 --> 00:22:15,529
this kind of like Ponzi scheme and

00:22:11,360 --> 00:22:20,149
management structure to maybe something

00:22:15,529 --> 00:22:21,350
else I mean so your bedrock team has

00:22:20,149 --> 00:22:25,789
obviously been kind of you know

00:22:21,350 --> 00:22:29,210
comprised like a tribe if you will if if

00:22:25,789 --> 00:22:33,460
will like use modifies naming so did

00:22:29,210 --> 00:22:33,460
something else change in that department

00:22:37,550 --> 00:22:41,210
so that's that's a great question yes

00:22:39,770 --> 00:22:44,720
there was a lot of change in management

00:22:41,210 --> 00:22:47,510
and all I would say it's safe to say

00:22:44,720 --> 00:22:52,850
that it was involuntary change for those

00:22:47,510 --> 00:22:55,610
managers yes a lot of change a lot of

00:22:52,850 --> 00:22:57,740
restructuring and the management it

00:22:55,610 --> 00:22:59,510
really wasn't until the new management

00:22:57,740 --> 00:23:02,510
got in place that we started getting

00:22:59,510 --> 00:23:04,820
momentum for this so wow this was

00:23:02,510 --> 00:23:07,940
something that at the time it was you

00:23:04,820 --> 00:23:09,470
know Ryan and I just the two of us doing

00:23:07,940 --> 00:23:11,780
this and we were trying to get you know

00:23:09,470 --> 00:23:14,390
adoption momentum there was no

00:23:11,780 --> 00:23:16,070
acceptance of it there in fact there was

00:23:14,390 --> 00:23:19,730
a lot of resistance and in some cases

00:23:16,070 --> 00:23:22,390
you know institutional resistance to it

00:23:19,730 --> 00:23:24,560
it wasn't until management changed and

00:23:22,390 --> 00:23:26,210
management knew that there was nothing

00:23:24,560 --> 00:23:28,670
sustainable there and there was nothing

00:23:26,210 --> 00:23:30,230
that that could really be saved you had

00:23:28,670 --> 00:23:34,000
to throw it all out and start over and

00:23:30,230 --> 00:23:36,590
we've done that now we still have

00:23:34,000 --> 00:23:39,590
because we are a 200 year old company we

00:23:36,590 --> 00:23:41,270
still have silos of different business

00:23:39,590 --> 00:23:44,630
units that have their own engineering

00:23:41,270 --> 00:23:47,690
groups right and but I think a

00:23:44,630 --> 00:23:49,970
management has continued to change up

00:23:47,690 --> 00:23:52,630
until recently in some ways we still

00:23:49,970 --> 00:23:55,270
have a lot of change going on and and

00:23:52,630 --> 00:23:58,120
it's through that I think that we'll see

00:23:55,270 --> 00:24:02,210
much more openness now we've actually

00:23:58,120 --> 00:24:04,520
gone out as a team and sold what we're

00:24:02,210 --> 00:24:07,190
doing to internal business units to get

00:24:04,520 --> 00:24:09,410
them interested in it and that's sort of

00:24:07,190 --> 00:24:11,150
where the the marketing aspect you know

00:24:09,410 --> 00:24:14,420
the the bedrock you know we created

00:24:11,150 --> 00:24:16,160
logos and you know things like that to

00:24:14,420 --> 00:24:17,870
sort of help sell it internally and

00:24:16,160 --> 00:24:20,600
that's an important part and I think

00:24:17,870 --> 00:24:22,190
that you know we also want the other

00:24:20,600 --> 00:24:24,770
teams that are developing products

00:24:22,190 --> 00:24:27,080
internally that externally our customers

00:24:24,770 --> 00:24:29,420
don't really know that it's called

00:24:27,080 --> 00:24:31,670
orchid or whatever name we call it but

00:24:29,420 --> 00:24:33,980
internally it's important to know that

00:24:31,670 --> 00:24:36,230
you know these services are available

00:24:33,980 --> 00:24:38,810
for other parts of the business unit and

00:24:36,230 --> 00:24:42,370
how they can adopt that and so that was

00:24:38,810 --> 00:24:42,370
a big that was a big part of that

00:24:51,000 --> 00:24:58,440
a very similar question to the person

00:24:55,440 --> 00:25:01,350
before so we are undertaking a similar

00:24:58,440 --> 00:25:04,260
very similar actually journey so I'm

00:25:01,350 --> 00:25:07,290
wondering how did you manage to convince

00:25:04,260 --> 00:25:09,990
the product team so we call them to

00:25:07,290 --> 00:25:11,670
really you build it you run it right so

00:25:09,990 --> 00:25:14,610
that is what we are currently struggling

00:25:11,670 --> 00:25:16,230
a lot with so product teams to try to I

00:25:14,610 --> 00:25:17,580
mean that one has the benefits right so

00:25:16,230 --> 00:25:19,800
they want to be on the platform they

00:25:17,580 --> 00:25:22,440
want to be a dryer but on the other hand

00:25:19,800 --> 00:25:24,780
who takes the full ownership and also

00:25:22,440 --> 00:25:27,960
support the applications and owner to

00:25:24,780 --> 00:25:29,370
legacy that's what I found really

00:25:27,960 --> 00:25:39,750
interesting on the slides so if you can

00:25:29,370 --> 00:25:42,180
have some words on that so we're this

00:25:39,750 --> 00:25:45,540
what how we really managed to improve

00:25:42,180 --> 00:25:49,620
that was there was one team that was in

00:25:45,540 --> 00:25:51,270
they were all working probably 80 hours

00:25:49,620 --> 00:25:54,840
a week trying to get their product out

00:25:51,270 --> 00:25:56,610
and it's the identity team which is not

00:25:54,840 --> 00:26:00,030
an easy problem identity and

00:25:56,610 --> 00:26:01,440
authorizations and all that and they'd

00:26:00,030 --> 00:26:03,570
already gone through this a whole year

00:26:01,440 --> 00:26:08,610
and that's where this whole crisis

00:26:03,570 --> 00:26:12,330
started and so what we did we actually

00:26:08,610 --> 00:26:14,880
went as a team and we were travelling to

00:26:12,330 --> 00:26:16,380
Dublin and we would go in and we'd sit

00:26:14,880 --> 00:26:18,780
down with them and we would work with

00:26:16,380 --> 00:26:20,490
them and we would help them through you

00:26:18,780 --> 00:26:22,890
know the the learning hurdles of it all

00:26:20,490 --> 00:26:25,590
I think that one of the things you'll

00:26:22,890 --> 00:26:27,510
find is that most of your resistance

00:26:25,590 --> 00:26:30,720
comes from fear of change and fear of

00:26:27,510 --> 00:26:32,850
change is derived from not having a full

00:26:30,720 --> 00:26:34,920
understanding of the solution and so

00:26:32,850 --> 00:26:37,380
what we managed to do was to go out

00:26:34,920 --> 00:26:39,870
there work with them show them how their

00:26:37,380 --> 00:26:43,080
life gets simpler doing this and it's

00:26:39,870 --> 00:26:45,060
it's just persistence it really is and

00:26:43,080 --> 00:26:47,130
you have to start with one small you

00:26:45,060 --> 00:26:50,130
know start with one team or a small

00:26:47,130 --> 00:26:52,290
group of people and really get them on

00:26:50,130 --> 00:26:54,000
board get them to fully understand it

00:26:52,290 --> 00:26:55,950
and then let them be the agents of

00:26:54,000 --> 00:26:58,770
change so that's where your grassroots

00:26:55,950 --> 00:27:01,500
level comes from right so we worked with

00:26:58,770 --> 00:27:03,300
them we got you know we trained them we

00:27:01,500 --> 00:27:04,560
help them understand the benefits of

00:27:03,300 --> 00:27:06,720
what they're doing

00:27:04,560 --> 00:27:08,790
you know once they understood that if

00:27:06,720 --> 00:27:10,770
you develop better software you have

00:27:08,790 --> 00:27:12,450
less support issues and so then it

00:27:10,770 --> 00:27:14,250
becomes well maybe maybe that's

00:27:12,450 --> 00:27:17,490
supporting the through the full life

00:27:14,250 --> 00:27:19,320
cycles not as bad as we thought and but

00:27:17,490 --> 00:27:21,720
that takes time because first you have

00:27:19,320 --> 00:27:23,130
to clean out all the the old problems

00:27:21,720 --> 00:27:25,200
that were always there

00:27:23,130 --> 00:27:26,460
you have to change in some cases you

00:27:25,200 --> 00:27:29,100
have to change your whole development

00:27:26,460 --> 00:27:32,130
lifecycle you know in how you develop

00:27:29,100 --> 00:27:33,480
the software itself it's not just you

00:27:32,130 --> 00:27:36,030
know this is one of these things it's

00:27:33,480 --> 00:27:37,800
not just a once one thing fits all you

00:27:36,030 --> 00:27:40,440
know you can't just say you know you

00:27:37,800 --> 00:27:42,540
change how you deploy apps your life is

00:27:40,440 --> 00:27:43,950
gonna get better no you you can change

00:27:42,540 --> 00:27:45,990
how you deploy apps but you're still

00:27:43,950 --> 00:27:48,980
building crap apps you're still dealing

00:27:45,990 --> 00:27:51,720
with crap problems so it's a matter of

00:27:48,980 --> 00:27:53,670
just iterating working with them in some

00:27:51,720 --> 00:27:56,040
cases we learned that what we thought

00:27:53,670 --> 00:27:57,810
was a good solution wasn't and so we

00:27:56,040 --> 00:28:00,570
have to listen to them so to us they're

00:27:57,810 --> 00:28:03,570
our customers and and so we support them

00:28:00,570 --> 00:28:07,410
through that it's not you know it's not

00:28:03,570 --> 00:28:11,090
adversarial it can't be and oftentimes I

00:28:07,410 --> 00:28:14,850
think that in there's a culture in

00:28:11,090 --> 00:28:17,580
operations going way back of adversarial

00:28:14,850 --> 00:28:20,010
and it just it's not good you have to

00:28:17,580 --> 00:28:22,020
throw all of that out you know and you

00:28:20,010 --> 00:28:24,420
have to also work with the team that's

00:28:22,020 --> 00:28:25,530
doing this and some in some ways you

00:28:24,420 --> 00:28:28,230
have to teach the people that you're

00:28:25,530 --> 00:28:29,700
working with yourself that you have to

00:28:28,230 --> 00:28:31,440
change how you approach it you have to

00:28:29,700 --> 00:28:33,210
you know you have to work on your people

00:28:31,440 --> 00:28:35,820
skills you have to you know it's just

00:28:33,210 --> 00:28:37,980
there's a lot of things to it it's not

00:28:35,820 --> 00:28:40,650
like I said it's philosophical and

00:28:37,980 --> 00:28:42,600
technical but in reality the technical

00:28:40,650 --> 00:28:44,700
facets of solving these problems are

00:28:42,600 --> 00:28:46,920
very minimal it's almost all a people

00:28:44,700 --> 00:28:50,270
problem so you have to keep that in mind

00:28:46,920 --> 00:28:50,270
going forward that answer your question

00:29:00,539 --> 00:29:16,479
hi short question how did you solve your

00:29:03,989 --> 00:29:19,899
database problem short question

00:29:16,479 --> 00:29:24,700
short answer we didn't but now seriously

00:29:19,899 --> 00:29:28,450
uh we were very deliberate in what we do

00:29:24,700 --> 00:29:31,119
and don't do and we do use RDS for a lot

00:29:28,450 --> 00:29:32,919
of databases right now it's not optimal

00:29:31,119 --> 00:29:35,200
it's not great and it's expensive

00:29:32,919 --> 00:29:37,389
it really is especially when they want

00:29:35,200 --> 00:29:40,469
to run you know four or five node Aurora

00:29:37,389 --> 00:29:43,299
clusters and and not maysa Aurora but

00:29:40,469 --> 00:29:46,209
Amazon Aurora things like that it gets

00:29:43,299 --> 00:29:50,559
expensive but it's a trade-off you know

00:29:46,209 --> 00:29:53,409
we use terraform we the engineers the

00:29:50,559 --> 00:29:55,659
engineer teams are expected to create

00:29:53,409 --> 00:29:57,190
their own terraform poll request we

00:29:55,659 --> 00:29:59,799
review the requests we deploy their

00:29:57,190 --> 00:30:02,320
database and then the accounting is done

00:29:59,799 --> 00:30:05,649
with cost tags etc that's how we solve

00:30:02,320 --> 00:30:09,070
that problem at this time I don't want

00:30:05,649 --> 00:30:11,289
to take on putting databases in Aurora I

00:30:09,070 --> 00:30:14,049
mean it's bad enough that we run an

00:30:11,289 --> 00:30:16,690
elastic search cluster and I don't even

00:30:14,049 --> 00:30:19,749
know how many nodes it is right now but

00:30:16,690 --> 00:30:21,909
it is the biggest pain to deal with you

00:30:19,749 --> 00:30:23,409
know you see a lot of these

00:30:21,909 --> 00:30:25,089
presentations oh yeah you can spin up an

00:30:23,409 --> 00:30:25,959
elastic search cluster in May says well

00:30:25,089 --> 00:30:28,779
it's not that simple

00:30:25,959 --> 00:30:30,909
not at scale you know we there's a lot

00:30:28,779 --> 00:30:32,829
of data that we you know that teams are

00:30:30,909 --> 00:30:34,570
putting in elasticsearch we deal with a

00:30:32,829 --> 00:30:38,440
lot of problems with that you know it's

00:30:34,570 --> 00:30:40,329
mostly shards you know some of the we

00:30:38,440 --> 00:30:43,450
have over 50,000 shards in our

00:30:40,329 --> 00:30:46,089
elasticsearch database right now that

00:30:43,450 --> 00:30:48,159
creates the nightmare it's all the time

00:30:46,089 --> 00:30:50,649
when it's trying to rebalance its so

00:30:48,159 --> 00:30:54,009
it's not a problem I want to take on not

00:30:50,649 --> 00:30:56,469
yet and so in the in the interim for now

00:30:54,009 --> 00:30:59,440
it's we will continue using RDS or what

00:30:56,469 --> 00:31:02,099
other you know external tomatos database

00:30:59,440 --> 00:31:02,099
solutions are

00:31:11,560 --> 00:31:16,600
so he did the follow-up questions Mayan

00:31:14,750 --> 00:31:24,730
I'm doing a follow-up question to his

00:31:16,600 --> 00:31:28,060
because that's how inception works so

00:31:24,730 --> 00:31:30,950
regarding the color to change I have a

00:31:28,060 --> 00:31:32,720
interesting situation and this is

00:31:30,950 --> 00:31:33,050
actually a question about education as

00:31:32,720 --> 00:31:36,950
well

00:31:33,050 --> 00:31:38,780
so you said that you you know you went

00:31:36,950 --> 00:31:41,570
all the teams then you found these

00:31:38,780 --> 00:31:46,430
people who became your agent of change

00:31:41,570 --> 00:31:48,290
your zeal that's if you will well you

00:31:46,430 --> 00:31:51,890
have taken a somewhat of a Stallman

00:31:48,290 --> 00:31:56,480
approach of course everyone should use

00:31:51,890 --> 00:31:59,690
them so the question was and is actually

00:31:56,480 --> 00:32:04,280
so you have these very junior engineers

00:31:59,690 --> 00:32:07,010
coming into the team engineers who are

00:32:04,280 --> 00:32:08,540
not taught to think about distributed

00:32:07,010 --> 00:32:10,940
systems who are not taught to think

00:32:08,540 --> 00:32:14,030
about you know what will happen in the

00:32:10,940 --> 00:32:16,130
long term who do not know who do not

00:32:14,030 --> 00:32:18,140
understand why they should lock things

00:32:16,130 --> 00:32:19,880
and what are the different system levels

00:32:18,140 --> 00:32:22,010
because this is something that you know

00:32:19,880 --> 00:32:27,860
why you just send everything to a CD out

00:32:22,010 --> 00:32:30,890
so the question here is how do you how

00:32:27,860 --> 00:32:33,560
do you kind of like prepare these very

00:32:30,890 --> 00:32:37,280
junior engineers to think in this more

00:32:33,560 --> 00:32:42,890
of a kind of distributed system failure

00:32:37,280 --> 00:32:45,800
will always happen mindset rather than

00:32:42,890 --> 00:32:47,390
oh yeah you know what I just like I do

00:32:45,800 --> 00:32:50,210
something and nodejs

00:32:47,390 --> 00:32:52,510
and it like runs and it's like so

00:32:50,210 --> 00:32:52,510
awesome

00:33:04,430 --> 00:33:13,440
so one of the things we do is so mostly

00:33:09,510 --> 00:33:16,410
my teams in Chicago right the majority

00:33:13,440 --> 00:33:18,450
of our engineers are in Dublin so every

00:33:16,410 --> 00:33:21,840
quarter we go to Dublin for two weeks

00:33:18,450 --> 00:33:24,660
and we do two-hour sessions twice a day

00:33:21,840 --> 00:33:26,670
for two weeks and we cover things that

00:33:24,660 --> 00:33:29,460
are bedrock specific we cover

00:33:26,670 --> 00:33:31,980
development practices and you know we we

00:33:29,460 --> 00:33:33,990
talk with the teams about cap theory and

00:33:31,980 --> 00:33:34,920
all these different things it's

00:33:33,990 --> 00:33:38,130
something that you just have to

00:33:34,920 --> 00:33:40,080
reinforce but probably one of the

00:33:38,130 --> 00:33:43,020
biggest things that we've done is we've

00:33:40,080 --> 00:33:45,330
moved away from primarily contractors

00:33:43,020 --> 00:33:47,280
you know coming in and doing a lot of

00:33:45,330 --> 00:33:50,250
the engineering and so we're out

00:33:47,280 --> 00:33:52,770
recruiting this is my plug now but we're

00:33:50,250 --> 00:33:55,320
out recruiting you know senior engineers

00:33:52,770 --> 00:33:57,720
staff level engineers to actually come

00:33:55,320 --> 00:34:01,430
into these teams and act as mentors and

00:33:57,720 --> 00:34:04,530
you know provide guidance to the teams I

00:34:01,430 --> 00:34:06,330
don't know if many of you have had you

00:34:04,530 --> 00:34:08,940
know gone through the whole recruiting

00:34:06,330 --> 00:34:12,780
cycle on the hiring side of things it's

00:34:08,940 --> 00:34:14,460
not easy you know and so it but we've

00:34:12,780 --> 00:34:16,500
made progress in that right so we've

00:34:14,460 --> 00:34:18,450
we've got a lot of really good engineers

00:34:16,500 --> 00:34:20,280
that are in teams now and they're

00:34:18,450 --> 00:34:23,100
providing that guidance and that has

00:34:20,280 --> 00:34:25,889
made a huge improvement you know you

00:34:23,100 --> 00:34:28,050
have to you you just have to keep

00:34:25,889 --> 00:34:30,179
reinforcing it and when we do see things

00:34:28,050 --> 00:34:32,750
that you know are sort of sideways with

00:34:30,179 --> 00:34:34,740
what we expect that's where the you know

00:34:32,750 --> 00:34:36,389
that's where our pull requests

00:34:34,740 --> 00:34:38,850
everything that goes in you know we

00:34:36,389 --> 00:34:40,800
review whether it's ourselves or the

00:34:38,850 --> 00:34:43,080
engineers and we provide that ongoing

00:34:40,800 --> 00:34:46,440
feedback and that's really how you have

00:34:43,080 --> 00:34:48,330
to do it part of the bedrock principles

00:34:46,440 --> 00:34:51,090
that we applied is that everything goes

00:34:48,330 --> 00:34:53,159
through you know code review now that

00:34:51,090 --> 00:34:56,070
wasn't always the case which to me seems

00:34:53,159 --> 00:34:57,390
extremely odd but that's just the way it

00:34:56,070 --> 00:35:00,060
was you know they were committing to the

00:34:57,390 --> 00:35:01,830
master branch or actually subversion at

00:35:00,060 --> 00:35:05,850
the time

00:35:01,830 --> 00:35:07,740
but you can imagine yeah so that that's

00:35:05,850 --> 00:35:09,210
really the that's really it I mean you

00:35:07,740 --> 00:35:11,790
have to have you just have to keep

00:35:09,210 --> 00:35:25,590
putting strong people on the teams to

00:35:11,790 --> 00:35:27,360
act as those mentors and guides so how

00:35:25,590 --> 00:35:31,670
did you get there in the first place

00:35:27,360 --> 00:35:36,440
because you strike me as a very

00:35:31,670 --> 00:35:39,660
progressive vanguard technologist

00:35:36,440 --> 00:35:41,700
voluntarily signing up with a 200 year

00:35:39,660 --> 00:35:55,560
old dinosaur of a company and that's the

00:35:41,700 --> 00:35:58,260
disconnect for me good question so four

00:35:55,560 --> 00:36:02,220
years ago or so maybe five years ago and

00:35:58,260 --> 00:36:05,270
this is an interesting story but my

00:36:02,220 --> 00:36:09,360
previous boss at the last place I work

00:36:05,270 --> 00:36:12,710
in a startup he ended up there I think

00:36:09,360 --> 00:36:15,330
mostly because it was close to his home

00:36:12,710 --> 00:36:18,300
it took him almost a year and a half to

00:36:15,330 --> 00:36:24,600
get me hired to go through the 200 year

00:36:18,300 --> 00:36:27,510
old company process of hiring yeah but

00:36:24,600 --> 00:36:29,700
he was persistent and he and I are good

00:36:27,510 --> 00:36:31,830
friends and I liked working with him as

00:36:29,700 --> 00:36:32,400
a boss and that's really what helped get

00:36:31,830 --> 00:36:34,320
me in there

00:36:32,400 --> 00:36:35,760
had it been anyone else there's no way

00:36:34,320 --> 00:36:40,080
it would have happened I wouldn't have

00:36:35,760 --> 00:36:41,780
and I'm not I I don't know about you

00:36:40,080 --> 00:36:44,250
guys but the whole interview process

00:36:41,780 --> 00:36:46,470
doing the resume and all that it's just

00:36:44,250 --> 00:36:50,040
not my thing I just I hate doing it it's

00:36:46,470 --> 00:36:53,760
a huge pain but so that that's sort of

00:36:50,040 --> 00:36:55,710
made it easy and yeah it worked out but

00:36:53,760 --> 00:36:58,050
had it been anyone else no I wouldn't be

00:36:55,710 --> 00:37:01,290
there I added probably left Chicago

00:36:58,050 --> 00:37:03,000
which is okay I'm from Texas so Chicago

00:37:01,290 --> 00:37:04,710
is not my home place I probably would

00:37:03,000 --> 00:37:08,130
have gone west or something I don't know

00:37:04,710 --> 00:37:11,010
but yeah it worked out so that's how I

00:37:08,130 --> 00:37:13,350
got there now it's important to note

00:37:11,010 --> 00:37:14,910
that whole year-and-a-half thing has

00:37:13,350 --> 00:37:18,000
gone away

00:37:14,910 --> 00:37:20,280
it's not perfect you know there's still

00:37:18,000 --> 00:37:22,200
a bit of a lead time and we have trouble

00:37:20,280 --> 00:37:24,150
competing with the startups where

00:37:22,200 --> 00:37:26,250
they're they're much quicker executing

00:37:24,150 --> 00:37:29,520
you know hiring than we are but we're

00:37:26,250 --> 00:37:31,560
working to improve that we've also you

00:37:29,520 --> 00:37:33,120
know the jobs the way we hire for jobs

00:37:31,560 --> 00:37:35,520
now has changed quite a bit

00:37:33,120 --> 00:37:37,860
you know so if you look at if you're

00:37:35,520 --> 00:37:41,070
interested you look at careers hpmh

00:37:37,860 --> 00:37:43,770
co.com you'll see that you may see that

00:37:41,070 --> 00:37:46,080
you know there's some well

00:37:43,770 --> 00:37:49,290
modern-looking you know job descriptions

00:37:46,080 --> 00:37:55,160
in there four of which are for my team

00:37:49,290 --> 00:37:55,160
anybody's interested but anyways

00:38:04,150 --> 00:38:15,230
so what were those wrong things that you

00:38:08,270 --> 00:38:18,350
made it harder to do for the team the

00:38:15,230 --> 00:38:20,510
first one that comes to mind is we

00:38:18,350 --> 00:38:22,940
started trying to use graphite to

00:38:20,510 --> 00:38:25,340
collect all of our metrics it was very

00:38:22,940 --> 00:38:27,950
difficult to for a small team to manage

00:38:25,340 --> 00:38:29,360
at that scale that's when we sort of

00:38:27,950 --> 00:38:33,440
just pulled the plug and we went to date

00:38:29,360 --> 00:38:36,140
a dog they do dog is kind of pricey at

00:38:33,440 --> 00:38:40,640
scale though right so now we're running

00:38:36,140 --> 00:38:42,260
an influx DB you know in capacitor and

00:38:40,640 --> 00:38:44,960
we're actually working now

00:38:42,260 --> 00:38:47,660
we're close I'm hoping q1 will be off of

00:38:44,960 --> 00:38:51,170
that and we'll completely you know be

00:38:47,660 --> 00:38:54,680
self monitored and alerting some of the

00:38:51,170 --> 00:38:58,250
other things we didn't start out with

00:38:54,680 --> 00:39:00,380
containers per se we we tried to run a

00:38:58,250 --> 00:39:03,250
lot of the JVM things native you know

00:39:00,380 --> 00:39:05,720
using the the basic maysa container Iser

00:39:03,250 --> 00:39:06,830
they didn't work out so well because all

00:39:05,720 --> 00:39:09,110
the teams have like different

00:39:06,830 --> 00:39:11,330
requirements for their JVM heat

00:39:09,110 --> 00:39:14,300
management all that just it wasn't

00:39:11,330 --> 00:39:16,220
working too well and it was hard for us

00:39:14,300 --> 00:39:17,720
to support you know a small team again

00:39:16,220 --> 00:39:19,450
all these different engineers trying to

00:39:17,720 --> 00:39:21,800
support all the different requirements

00:39:19,450 --> 00:39:24,770
natively to the maysa agents was

00:39:21,800 --> 00:39:26,270
impossible that's when we really adopted

00:39:24,770 --> 00:39:28,340
containers so everything that goes in

00:39:26,270 --> 00:39:30,850
has to go in in some form of a container

00:39:28,340 --> 00:39:34,010
and asked to manage its own requirements

00:39:30,850 --> 00:39:36,410
which then led to the other problem the

00:39:34,010 --> 00:39:37,730
wrong thing was you know how do you how

00:39:36,410 --> 00:39:40,280
do you take a lot of people that have no

00:39:37,730 --> 00:39:41,750
ops experience even even at the

00:39:40,280 --> 00:39:43,400
container level right you still have to

00:39:41,750 --> 00:39:45,800
have some some understanding of

00:39:43,400 --> 00:39:47,420
operations and inputting the right

00:39:45,800 --> 00:39:50,570
package using the security and all these

00:39:47,420 --> 00:39:52,130
different things so that's gotten much

00:39:50,570 --> 00:39:55,130
better what we ended up doing was

00:39:52,130 --> 00:39:58,490
creating base containers that everybody

00:39:55,130 --> 00:40:00,980
uses to sort of take that you know to

00:39:58,490 --> 00:40:03,910
simplify that for them and provide the

00:40:00,980 --> 00:40:03,910
constraints around that

00:40:06,490 --> 00:40:16,520
the other thing is relying on our ec2

00:40:11,930 --> 00:40:19,490
profiles for credentials etc without

00:40:16,520 --> 00:40:21,560
having some form of segregation of those

00:40:19,490 --> 00:40:23,780
credentials and so we ended up

00:40:21,560 --> 00:40:27,170
that's where vault has come in for us to

00:40:23,780 --> 00:40:28,990
manage those credentials better and in

00:40:27,170 --> 00:40:31,310
some cases we just we ended up

00:40:28,990 --> 00:40:35,060
segregating you know based on

00:40:31,310 --> 00:40:37,190
auto-scaling groups that's helped a lot

00:40:35,060 --> 00:40:40,100
and then finally probably the biggest

00:40:37,190 --> 00:40:44,300
one was thinking that we could attach

00:40:40,100 --> 00:40:48,710
300 plus load balancers to a single auto

00:40:44,300 --> 00:40:52,760
scaling group in ec2 turns out they they

00:40:48,710 --> 00:40:54,770
have a soft limit of like 50 so anything

00:40:52,760 --> 00:40:58,430
more than 50 lbs on an auto scaling

00:40:54,770 --> 00:41:00,500
group they don't usually do we've

00:40:58,430 --> 00:41:02,300
managed to twist their arm because we

00:41:00,500 --> 00:41:03,800
spend money to give us more we're at

00:41:02,300 --> 00:41:05,990
like 300 but they're not giving us

00:41:03,800 --> 00:41:09,170
anymore which is why we're throwing all

00:41:05,990 --> 00:41:10,910
the yield B's out probably very soon

00:41:09,170 --> 00:41:14,240
actually Patrick's been working on that

00:41:10,910 --> 00:41:16,460
a lot with linker D H a proxy so which

00:41:14,240 --> 00:41:19,130
turns out that's gonna save us you know

00:41:16,460 --> 00:41:21,020
a few thousand dollars a year just in

00:41:19,130 --> 00:41:23,800
itself so and we'll get a lot more

00:41:21,020 --> 00:41:26,630
performance out of it but don't assume

00:41:23,800 --> 00:41:28,430
you know the AWS limitations are

00:41:26,630 --> 00:41:31,700
infinite they're not or any other

00:41:28,430 --> 00:41:33,140
provider for that matter that is

00:41:31,700 --> 00:41:35,420
probably the biggest one that that one's

00:41:33,140 --> 00:41:38,090
actually got us in a pinch now because

00:41:35,420 --> 00:41:40,400
we're limited at 300 and I think we're

00:41:38,090 --> 00:41:42,740
like 295 or something you know and we're

00:41:40,400 --> 00:41:45,230
always pulling older apps out so that we

00:41:42,740 --> 00:41:47,150
can make room for Production apps until

00:41:45,230 --> 00:41:54,080
we can get our linker D solution in

00:41:47,150 --> 00:41:57,800
place it's about all we have time for

00:41:54,080 --> 00:42:01,220
questions we have a break outside so you

00:41:57,800 --> 00:42:02,900
guys can chat further so several of the

00:42:01,220 --> 00:42:04,910
team are here and you know if you have

00:42:02,900 --> 00:42:07,720
any other questions feel free to to ask

00:42:04,910 --> 00:42:07,720
them you guys

00:42:07,920 --> 00:42:14,319
yeah so some Ryan Patrick and myself so

00:42:12,519 --> 00:42:16,180
if you see us feel free to stop by ask

00:42:14,319 --> 00:42:17,690
us and we'll be happy to talk about it

00:42:16,180 --> 00:42:23,459
thank you

00:42:17,690 --> 00:42:23,459

YouTube URL: https://www.youtube.com/watch?v=fgXPvI8QdpU


