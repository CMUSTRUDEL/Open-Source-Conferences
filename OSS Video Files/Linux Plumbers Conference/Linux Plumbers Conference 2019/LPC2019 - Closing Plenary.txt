Title: LPC2019 - Closing Plenary
Publication date: 2019-09-20
Playlist: Linux Plumbers Conference 2019
Description: 
	Closing Plenary
Captions: 
	00:00:00,090 --> 00:00:01,133
- Welcome, everyone.

00:00:03,200 --> 00:00:06,943
Welcome to the last session of the 2019 Plumbers.

00:00:08,060 --> 00:00:11,130
Hopefully, you guys have all been enjoying yourself

00:00:11,130 --> 00:00:14,450
and have been effective at solving some problems,

00:00:14,450 --> 00:00:16,250
which is what Plumbers is all about.

00:00:17,830 --> 00:00:21,000
What we'll be doing right now is just going through

00:00:22,670 --> 00:00:25,400
a couple of closing remarks and then we will be having

00:00:25,400 --> 00:00:27,033
a plenary from Thomas Gleixner.

00:00:27,940 --> 00:00:29,130
And then we'll be giving you directions

00:00:29,130 --> 00:00:30,430
on how to get to the dinner

00:00:30,430 --> 00:00:33,190
and they'll be buses coming to take us there.

00:00:33,190 --> 00:00:36,360
So, (laughs) okay the important part, right?

00:00:36,360 --> 00:00:37,193
Yeah.

00:00:37,193 --> 00:00:38,026
Fair enough.

00:00:40,508 --> 00:00:43,570
Well, if you've got comments during the session,

00:00:43,570 --> 00:00:46,530
please just stand up

00:00:46,530 --> 00:00:47,890
and wait for a mike to come to you

00:00:47,890 --> 00:00:49,243
so it can all get recorded.

00:00:50,080 --> 00:00:52,460
And, with that, I will

00:00:52,460 --> 00:00:54,940
start off with saying thank you very much

00:00:54,940 --> 00:00:58,130
to our Diamond Sponsor Facebook.

00:00:58,130 --> 00:00:59,586
If you could give them a round of applause.

00:00:59,586 --> 00:01:00,565
(audience applauding)

00:01:00,565 --> 00:01:01,748
Because they've helped provide

00:01:01,748 --> 00:01:02,593
a lot of this stuff for us all.

00:01:06,890 --> 00:01:09,913
We've also had some wonderful Platinum sponsors this year.

00:01:10,830 --> 00:01:13,571
Google, Intel, and NetApp have all helped

00:01:13,571 --> 00:01:16,942
making this event possible for you guys.

00:01:16,942 --> 00:01:20,109
(audience applauding)

00:01:22,590 --> 00:01:24,840
Our Gold sponsors Arm, Dell,

00:01:24,840 --> 00:01:27,030
Microsoft Azure, and Western Digital

00:01:27,030 --> 00:01:29,270
have contributed in as well.

00:01:29,270 --> 00:01:32,240
As has our Silver sponsors.

00:01:32,240 --> 00:01:34,710
So, we've had a wonderful suite of sponsors this year

00:01:34,710 --> 00:01:35,700
that's helped make this actually

00:01:35,700 --> 00:01:38,570
the biggest probably Plumbers event ever.

00:01:38,570 --> 00:01:40,913
So, if you could join me in thanking them.

00:01:40,913 --> 00:01:44,080
(audience applauding)

00:01:47,140 --> 00:01:49,680
And hopefully you guys enjoyed lunch.

00:01:49,680 --> 00:01:51,783
And tonight is being sponsored by Google.

00:01:52,680 --> 00:01:53,960
The Catch-boxes I think

00:01:53,960 --> 00:01:55,873
were much more effective this year

00:01:55,873 --> 00:01:58,103
and I don't think we have any injuries from them.

00:01:58,103 --> 00:01:59,190
(audience laughing)

00:01:59,190 --> 00:02:00,700
- [Audience] (faintly speaking)

00:02:00,700 --> 00:02:01,590
- We had one injury?

00:02:01,590 --> 00:02:03,348
Oh, I'm sorry.

00:02:03,348 --> 00:02:04,840
- [Audience] (faintly speaking)

00:02:04,840 --> 00:02:06,290
- Hopefully, not too serious.

00:02:07,150 --> 00:02:09,330
And then thank you to VMware for our T-shirts,

00:02:09,330 --> 00:02:13,040
and to LWN.net for the hosting

00:02:13,040 --> 00:02:16,140
our website for Plumbers,

00:02:16,140 --> 00:02:17,763
and our airline sponsor TAP.

00:02:18,811 --> 00:02:21,157
(audience applauding)

00:02:21,157 --> 00:02:22,530
That has been our sponsor suite.

00:02:22,530 --> 00:02:23,620
So, it's the best ever sponsors

00:02:23,620 --> 00:02:25,403
we've had up 'til now.

00:02:26,240 --> 00:02:29,180
And obviously a special thanks to the Linux Foundation.

00:02:29,180 --> 00:02:31,230
In particular, Megan, Tricia,

00:02:31,230 --> 00:02:32,570
and Courntenay who have actually kept

00:02:32,570 --> 00:02:34,440
this going so smoothly.

00:02:34,440 --> 00:02:35,862
Very much appreciated.

00:02:35,862 --> 00:02:36,760
(audience applauding)

00:02:36,760 --> 00:02:38,171
Thank you.

00:02:38,171 --> 00:02:39,338
Thanks, Megan.

00:02:42,660 --> 00:02:45,710
So, just a piece of clean up.

00:02:45,710 --> 00:02:49,670
The Micro-conference participants for the runners.

00:02:49,670 --> 00:02:52,420
Can you please make sure that the presenters

00:02:52,420 --> 00:02:53,980
have all the slides uploaded

00:02:53,980 --> 00:02:55,760
and Etherpads are up to date.

00:02:55,760 --> 00:02:57,050
If you could go that, that'd be great.

00:02:57,050 --> 00:03:00,420
The information should be coming up shortly.

00:03:00,420 --> 00:03:02,220
And combined with the videos

00:03:02,220 --> 00:03:03,966
it'll hopefully be a nice, full package for people

00:03:03,966 --> 00:03:06,150
who weren't able to join us this year.

00:03:06,150 --> 00:03:08,720
This year we actually had over 100 plus

00:03:08,720 --> 00:03:11,340
on the wait list that we could not accommodate.

00:03:11,340 --> 00:03:12,980
So, it's really important that we actually

00:03:12,980 --> 00:03:14,890
be able to communicate the information to them

00:03:14,890 --> 00:03:16,340
that weren't able to join us.

00:03:17,600 --> 00:03:20,500
And so, some of the numbers that we did have, though,

00:03:20,500 --> 00:03:21,900
is we had a new track this year.

00:03:21,900 --> 00:03:23,640
We tried a BOF track

00:03:23,640 --> 00:03:24,817
and we had 18 spots on it

00:03:24,817 --> 00:03:26,950
and we ended up with 21.

00:03:26,950 --> 00:03:29,451
So, we ended up spilling out to some others.

00:03:29,451 --> 00:03:30,760
So, the BOF track seemed to be fairly effective

00:03:30,760 --> 00:03:32,710
and successful for people (exclaiming).

00:03:36,730 --> 00:03:37,680
That's interesting.

00:03:39,070 --> 00:03:40,850
Do I need to watch how I step?

00:03:40,850 --> 00:03:41,683
Okay (laughs).

00:03:42,560 --> 00:03:43,410
We'll, step back.

00:03:45,040 --> 00:03:47,110
We had three referee tracks

00:03:47,110 --> 00:03:48,540
and so thank you to the committees

00:03:48,540 --> 00:03:53,120
from the Kernel and then the Networking committee,

00:03:53,120 --> 00:03:54,700
as well as our Plumbers committee

00:03:54,700 --> 00:03:56,810
for the refereed tracks.

00:03:56,810 --> 00:04:01,040
This year, we had 18 micro-conferences

00:04:01,040 --> 00:04:03,222
going simultaneously now.

00:04:03,222 --> 00:04:05,340
Last year was just 13.

00:04:05,340 --> 00:04:07,930
So, we're up by five more micro-conferences

00:04:07,930 --> 00:04:11,403
and hopefully that helps solve a few more problems.

00:04:13,810 --> 00:04:17,280
Before we started, there were 60 presentations uploaded.

00:04:17,280 --> 00:04:18,740
Way to go.

00:04:18,740 --> 00:04:19,960
That makes easier for people to follow

00:04:19,960 --> 00:04:20,793
things to events.

00:04:20,793 --> 00:04:21,850
Definitely.

00:04:21,850 --> 00:04:23,850
And there's 111 now and hopefully we can get

00:04:23,850 --> 00:04:26,300
the rest of them up there in the next week or so.

00:04:27,350 --> 00:04:30,200
We had 123 hours of scheduled content.

00:04:30,200 --> 00:04:34,800
There were 220 talks actually on the agenda this time

00:04:34,800 --> 00:04:37,950
and this came in from 340 abstracts.

00:04:37,950 --> 00:04:41,773
And we had 520 registered people participating.

00:04:43,050 --> 00:04:44,560
234 of those were speaking

00:04:45,470 --> 00:04:46,890
and when I checked this morning

00:04:46,890 --> 00:04:49,470
there were only four badges that were not picked up

00:04:50,460 --> 00:04:51,870
by the attendants in this session.

00:04:51,870 --> 00:04:54,080
So, everyone who came...

00:04:56,500 --> 00:04:57,333
Awesome attendance.

00:04:57,333 --> 00:04:58,969
That's just what I'm gonna say.

00:04:58,969 --> 00:05:02,800
(audience laughing)

00:05:02,800 --> 00:05:05,013
To sort of give you guys a feeling of who's here.

00:05:06,790 --> 00:05:08,730
We actually had a really good diverse group

00:05:08,730 --> 00:05:09,830
from around the world.

00:05:12,777 --> 00:05:13,987
And we've got a lot of people

00:05:13,987 --> 00:05:14,820
that have come across from the U.S.

00:05:14,820 --> 00:05:17,560
So, thank you to them for getting on planes

00:05:17,560 --> 00:05:20,060
and dealing with the jet lag.

00:05:20,060 --> 00:05:21,230
And then thank you to the people

00:05:21,230 --> 00:05:22,965
who've come from far away like China

00:05:22,965 --> 00:05:27,183
and Brazil, and so forth.

00:05:30,230 --> 00:05:32,480
Hopefully the discussions made it worthwhile.

00:05:36,850 --> 00:05:39,090
I also like to thank the existing members

00:05:39,090 --> 00:05:40,760
of the organizing committee

00:05:40,760 --> 00:05:42,560
who've helped to pull this together.

00:05:44,050 --> 00:05:45,560
Guy Lunardi had basically been handling

00:05:45,560 --> 00:05:49,240
our social media as well as our schedules.

00:05:49,240 --> 00:05:52,318
Elena who basically did a very thankless job

00:05:52,318 --> 00:05:56,430
of trying to deal our wait list and our registrations.

00:05:56,430 --> 00:05:59,083
So, thank you again Elena for dealing with that mess.

00:06:00,089 --> 00:06:00,922
(laughs) Much appreciated.

00:06:00,922 --> 00:06:02,382
We've got to figure out something better next year.

00:06:02,382 --> 00:06:05,549
(audience applauding)

00:06:07,349 --> 00:06:09,130
And I think you've all been receiving notes from James

00:06:09,130 --> 00:06:10,526
and he's been helping a lot with

00:06:10,526 --> 00:06:13,360
making sure things keep going smoothly

00:06:13,360 --> 00:06:14,660
as well as he's been working and keeping

00:06:14,660 --> 00:06:16,780
an eye on our finances for us this year.

00:06:16,780 --> 00:06:18,960
And then Jon who's been doing social media

00:06:18,960 --> 00:06:21,810
as well as helping out wherever he possibly can.

00:06:21,810 --> 00:06:24,020
And much appreciated for that.

00:06:24,020 --> 00:06:25,730
Laura has been helping out

00:06:25,730 --> 00:06:27,906
and Laura will be the chair for next year for us.

00:06:27,906 --> 00:06:31,073
(audience applauding)

00:06:32,160 --> 00:06:35,110
And then a big thank to Steve for handling

00:06:35,110 --> 00:06:38,250
the mini-comps and having such a successful program

00:06:38,250 --> 00:06:40,240
of mini-comps this year.

00:06:40,240 --> 00:06:42,720
And then Paul McKenney is our program chair

00:06:42,720 --> 00:06:44,020
and managing our refereed tracks

00:06:44,020 --> 00:06:45,900
and all the content for the BOFs and so forth.

00:06:45,900 --> 00:06:47,240
So, thank you to them.

00:06:47,240 --> 00:06:49,780
And then Jake's been doing our blogs.

00:06:49,780 --> 00:06:52,710
David Woodhouse has basically managed

00:06:52,710 --> 00:06:54,400
to help fill in the gaps

00:06:54,400 --> 00:06:56,490
and get the speaker guests and so forth.

00:06:56,490 --> 00:06:59,160
So, I wanted to say thank you to all of them

00:06:59,160 --> 00:07:00,290
but also thank you very much

00:07:00,290 --> 00:07:02,720
to Rui Silva who's been our local

00:07:04,110 --> 00:07:07,300
advisor and driving us around when necessary

00:07:07,300 --> 00:07:09,930
and helping us to translate to Portuguese

00:07:09,930 --> 00:07:10,850
when we get confused.

00:07:10,850 --> 00:07:12,970
So, again, thank you very much to Rui

00:07:12,970 --> 00:07:14,258
for helping us all out this year.

00:07:14,258 --> 00:07:17,425
(audience applauding)

00:07:20,795 --> 00:07:22,783
And with that, I'm gonna turn it over Laura.

00:07:28,280 --> 00:07:29,113
- Hi, everyone.

00:07:29,113 --> 00:07:31,050
On behalf of the Linux Foundation Technical Advisory

00:07:31,050 --> 00:07:33,400
Board I just wanted thank everyone

00:07:33,400 --> 00:07:36,410
who participated in our election this year.

00:07:36,410 --> 00:07:37,390
As you may know,

00:07:37,390 --> 00:07:39,320
we did something different this year.

00:07:39,320 --> 00:07:41,710
Instead of doing in-person voting,

00:07:41,710 --> 00:07:43,530
we went and did electronic voting.

00:07:43,530 --> 00:07:47,200
We had 174 people who responded to our voting for the TAB

00:07:47,200 --> 00:07:50,260
and I'd love congratulate our existing,

00:07:50,260 --> 00:07:51,500
our new TAB members,

00:07:51,500 --> 00:07:53,370
and I look forward to working with them

00:07:53,370 --> 00:07:56,490
on the TAB and for another successful year.

00:07:56,490 --> 00:07:58,754
And I'd also like to take this time to

00:07:58,754 --> 00:08:01,060
make sure we give another special round of applause

00:08:01,060 --> 00:08:03,857
who was the chair this year for Plumbers.

00:08:03,857 --> 00:08:07,024
(audience applauding)

00:08:09,366 --> 00:08:11,010
She did a fantastic job making sure

00:08:11,010 --> 00:08:13,650
running meetings and we were all staying on track.

00:08:13,650 --> 00:08:16,360
And without further ado I'd like to now introduce

00:08:16,360 --> 00:08:20,160
our closing keynote speaker, Thomas Gleixner.

00:08:20,160 --> 00:08:22,420
He's well known in the kernel community

00:08:22,420 --> 00:08:24,620
for working on real-time and he's here

00:08:24,620 --> 00:08:27,209
to give us a very entertaining talk.

00:08:27,209 --> 00:08:28,208
So, Thomas.

00:08:28,208 --> 00:08:31,375
(audience applauding)

00:08:34,250 --> 00:08:36,063
- Thank you for the introductions.

00:08:37,920 --> 00:08:39,850
I got asked to give the keynote

00:08:39,850 --> 00:08:41,983
and I wondered what to talk about.

00:08:43,760 --> 00:08:45,540
Up to the point where it occurred to me

00:08:45,540 --> 00:08:48,200
that there are several anniversaries

00:08:49,720 --> 00:08:51,920
happening around this time.

00:08:51,920 --> 00:08:55,320
So, I thought it's good to look back

00:08:57,100 --> 00:08:59,273
and talk about dreams,

00:09:00,320 --> 00:09:03,350
which you need to have to get something done.

00:09:03,350 --> 00:09:05,851
But when you have dreams you also have that

00:09:05,851 --> 00:09:09,063
other ugly side effect which is nightmares.

00:09:10,009 --> 00:09:12,714
(audience laughing)

00:09:12,714 --> 00:09:15,103
So, there should be some slides somewhere.

00:09:16,136 --> 00:09:17,242
- [Woman] Just push (faintly speaking).

00:09:17,242 --> 00:09:18,075
- Push.

00:09:18,075 --> 00:09:19,185
Where?

00:09:19,185 --> 00:09:20,841
- [Woman] Personal data (faintly speaking).

00:09:20,841 --> 00:09:21,674
(audience laughing)

00:09:21,674 --> 00:09:22,507
- Oh.

00:09:24,290 --> 00:09:27,980
I'm dragging those drawings around for a long time.

00:09:27,980 --> 00:09:30,840
My daughter did them back then when I talked about

00:09:30,840 --> 00:09:35,403
the embedded nightmare many years ago.

00:09:36,960 --> 00:09:37,853
And it's gotten better.

00:09:41,103 --> 00:09:42,850
I wanna go back in time.

00:09:42,850 --> 00:09:45,903
I want to go roughly to the beginning.

00:09:46,850 --> 00:09:49,060
That was 1991.

00:09:49,060 --> 00:09:50,960
It has made people angry.

00:09:50,960 --> 00:09:53,853
Just think about the Tannebaum debate.

00:09:57,753 --> 00:09:59,670
So, shortly after that,

00:09:59,670 --> 00:10:03,200
I discovered this Linux thingy because somebody told me

00:10:03,200 --> 00:10:05,100
this cool stuff out there.

00:10:05,100 --> 00:10:10,100
I was doing hardware design and designing micro-controllers

00:10:10,700 --> 00:10:13,673
into motion-control systems.

00:10:15,523 --> 00:10:18,650
And because back then there was no software division.

00:10:18,650 --> 00:10:21,340
Obviously, the stupid guy who decided

00:10:21,340 --> 00:10:23,380
to put a micro-controller on the PCB

00:10:23,380 --> 00:10:25,063
had also to do the firmware.

00:10:26,000 --> 00:10:31,000
So, my operating system back then was very easy.

00:10:32,267 --> 00:10:34,463
A main program loop and a timer interrupt.

00:10:35,500 --> 00:10:36,333
Cool.

00:10:37,330 --> 00:10:39,700
No caches, no speculation.

00:10:39,700 --> 00:10:40,728
Nothing.

00:10:40,728 --> 00:10:42,850
(audience laughing)

00:10:42,850 --> 00:10:43,683
Stupid.

00:10:43,683 --> 00:10:45,500
This Linux thing it was interesting

00:10:45,500 --> 00:10:47,680
for me because as I came

00:10:48,810 --> 00:10:52,660
from hardware engineering and I have no clue about software,

00:10:52,660 --> 00:10:54,150
I wanted to look how such

00:10:54,150 --> 00:10:55,963
an operating system looks inside.

00:10:57,400 --> 00:10:59,440
This was very interesting because back then

00:10:59,440 --> 00:11:02,393
it was 25,000 lines of code so you could read it.

00:11:03,840 --> 00:11:05,892
The only person who got ever angry about

00:11:05,892 --> 00:11:09,870
that thing was my wife.

00:11:09,870 --> 00:11:10,903
So,

00:11:12,820 --> 00:11:14,400
fast forward.

00:11:14,400 --> 00:11:17,190
In 1999, I decided no I don't want

00:11:17,190 --> 00:11:20,457
to do that hardware stuff anymore

00:11:20,457 --> 00:11:21,730
and want to do something else.

00:11:21,730 --> 00:11:24,050
So, I was following Linux development.

00:11:24,050 --> 00:11:26,077
I was sending random patches.

00:11:26,077 --> 00:11:28,250
One of my boxes broke.

00:11:28,250 --> 00:11:29,380
And then I said,

00:11:29,380 --> 00:11:31,800
okay this thing is going to take off

00:11:31,800 --> 00:11:34,053
in the industrial space as well.

00:11:35,320 --> 00:11:37,097
Most people looked at me and said,

00:11:37,097 --> 00:11:38,767
"You're totally crazy,"

00:11:39,810 --> 00:11:43,343
which didn't surprise but I know that I'm crazy.

00:11:46,328 --> 00:11:48,120
But the crazy thing is something which follow through

00:11:48,120 --> 00:11:50,400
that talk because that comes up

00:11:50,400 --> 00:11:51,843
every once and so often.

00:11:54,840 --> 00:11:57,880
But then I realized oh yes that was

00:11:57,880 --> 00:11:58,810
one of the nightmares.

00:11:58,810 --> 00:12:00,450
There's no real-time support.

00:12:00,450 --> 00:12:01,923
Where to go from there?

00:12:04,160 --> 00:12:06,430
Thankfully, there were academics out there

00:12:06,430 --> 00:12:10,393
who did a really good job in creating VARTS.

00:12:11,300 --> 00:12:14,250
Variants of real-time systems on top

00:12:14,250 --> 00:12:16,530
or underneath of Linux.

00:12:16,530 --> 00:12:20,511
So, I was working on and off on RTAI,

00:12:20,511 --> 00:12:22,880
RTLinux, and then I discovered

00:12:22,880 --> 00:12:24,790
the Kansas University Variant,

00:12:24,790 --> 00:12:28,493
which was very close to what we are doing today.

00:12:30,998 --> 00:12:32,640
And this was all interesting.

00:12:32,640 --> 00:12:35,680
I got some other projects to work on.

00:12:35,680 --> 00:12:37,440
Started to work on NAND flash

00:12:37,440 --> 00:12:39,730
because a customer decided that NAND flash

00:12:39,730 --> 00:12:42,773
is well supported in the kernel, which was not.

00:12:45,010 --> 00:12:48,860
So, and this was the first time I discovered

00:12:48,860 --> 00:12:51,023
one really bad thing.

00:12:52,300 --> 00:12:55,910
You go there, you look at a piece of code and fix it,

00:12:55,910 --> 00:12:59,300
and it turns out nobody cares about it at all.

00:12:59,300 --> 00:13:00,707
And then somebody says,

00:13:00,707 --> 00:13:04,938
"Oh, you've got an entry in the maintainers file."

00:13:04,938 --> 00:13:06,950
(audience laughing)

00:13:06,950 --> 00:13:08,543
You touched it, you own it.

00:13:10,620 --> 00:13:12,173
Happened several times.

00:13:13,120 --> 00:13:17,143
And NAND flash was by far the least ugly of all that.

00:13:21,655 --> 00:13:24,670
So, and then 2004.

00:13:24,670 --> 00:13:28,680
I do a quick quiz on those quotes.

00:13:28,680 --> 00:13:29,680
They are all from

00:13:29,680 --> 00:13:31,870
the big real-time debate on LKML,

00:13:31,870 --> 00:13:34,120
which spawned off a single email

00:13:34,120 --> 00:13:35,190
and I looked it up.

00:13:35,190 --> 00:13:38,733
The email threat is more than 2,600 mails.

00:13:41,150 --> 00:13:44,280
It derailed in tons of thingies

00:13:44,280 --> 00:13:46,583
so you can paint a really nice tree of it.

00:13:51,485 --> 00:13:52,860
So, I go through each item.

00:13:52,860 --> 00:13:54,440
You raise your hands

00:13:56,195 --> 00:13:59,250
and the question I'm asking you is

00:13:59,250 --> 00:14:00,300
is this a Linux code?

00:14:01,457 --> 00:14:05,100
(audience laughing)

00:14:05,100 --> 00:14:07,723
So, real-time people are totally crazy.

00:14:09,273 --> 00:14:12,770
(audience laughing)

00:14:12,770 --> 00:14:16,723
Friends let not use friends priority inheritance.

00:14:19,880 --> 00:14:20,763
Interesting.

00:14:21,680 --> 00:14:23,858
Not going to happen ever.

00:14:23,858 --> 00:14:26,840
(audience laughing)

00:14:26,840 --> 00:14:28,053
Just go away.

00:14:30,460 --> 00:14:32,650
Use a microkernel for the real-time thing

00:14:32,650 --> 00:14:33,863
and be done with it.

00:14:36,130 --> 00:14:37,703
All of them are Linux.

00:14:38,597 --> 00:14:43,090
(audience laughing and clapping loudly)

00:14:43,090 --> 00:14:44,040
Who would have thought?

00:14:44,040 --> 00:14:48,330
I mean, I guess that nobody would think

00:14:48,330 --> 00:14:51,045
that Linus would recommend the microkernel.

00:14:51,045 --> 00:14:52,800
(audience laughing)

00:14:52,800 --> 00:14:55,123
But in that context he actually did.

00:14:57,720 --> 00:15:00,803
So, once that settled down,

00:15:02,730 --> 00:15:04,888
we started to work on it

00:15:04,888 --> 00:15:08,500
and it worked perfectly fine except

00:15:08,500 --> 00:15:11,424
for a few things.

00:15:11,424 --> 00:15:12,670
(audience laughing)

00:15:12,670 --> 00:15:17,670
RCU, timers, deadlocks, deadlocks, deadlocks.

00:15:19,360 --> 00:15:21,890
So, the thing was with RCU we looked into RCU

00:15:21,890 --> 00:15:24,713
Ingo Molnar and I, and said,

00:15:25,927 --> 00:15:29,157
"This cannot be understood."

00:15:31,950 --> 00:15:33,400
So, we went off,

00:15:33,400 --> 00:15:35,717
wrote mail to Paul McKenney and said,

00:15:35,717 --> 00:15:37,247
"Paul, we are in trouble."

00:15:38,180 --> 00:15:40,840
10 minutes later we got a reply from Paul,

00:15:40,840 --> 00:15:43,743
I knew that long ago that you're in trouble.

00:15:43,743 --> 00:15:46,170
(audience laughing)

00:15:46,170 --> 00:15:48,357
I already started working on it (laughs).

00:15:50,351 --> 00:15:51,930
That was fun.

00:15:51,930 --> 00:15:53,253
Timers, well,

00:15:54,100 --> 00:15:56,453
that was another interesting part.

00:15:57,943 --> 00:15:59,860
It's really old code back then

00:15:59,860 --> 00:16:01,960
and already nobody cared about it.

00:16:01,960 --> 00:16:04,990
Had interesting features, and then the deadlocks.

00:16:04,990 --> 00:16:08,840
All deadlocks we experienced in RT were real deadlocks

00:16:08,840 --> 00:16:10,093
in the mainline kernel.

00:16:10,990 --> 00:16:14,520
So, Ingo and I spent an awful lot of time

00:16:14,520 --> 00:16:18,110
to decode all those deadlocks and fix them.

00:16:18,110 --> 00:16:21,700
And then at some point we really got tired of it.

00:16:21,700 --> 00:16:24,310
Because we wanted to get this other stuff done.

00:16:25,300 --> 00:16:28,503
So, we came up with lockdep.

00:16:29,550 --> 00:16:31,560
I know most people hated lockdep

00:16:31,560 --> 00:16:33,453
when we brought it into the kernel.

00:16:34,850 --> 00:16:36,750
But I think most people love it today.

00:16:37,600 --> 00:16:39,158
So, yeah.

00:16:39,158 --> 00:16:39,991
It was fun.

00:16:41,728 --> 00:16:45,185
So, but this enabled us to do a first production ready

00:16:45,185 --> 00:16:47,163
version in 2006 which was cool.

00:16:50,180 --> 00:16:53,630
And then we went on and tried gradually

00:16:53,630 --> 00:16:55,970
to merge the stuff we came up with

00:16:57,010 --> 00:16:58,970
into the mainline kernel.

00:16:58,970 --> 00:17:03,270
And one of it was HR timers in NOHz.

00:17:05,000 --> 00:17:07,090
Linus wanted to have NOHz.

00:17:07,090 --> 00:17:11,120
It came unfortunately bundled with HR timers.

00:17:11,120 --> 00:17:13,510
There was no way to rip that apart.

00:17:13,510 --> 00:17:14,903
Sorry, Linus about that.

00:17:16,670 --> 00:17:19,070
But then shortly before we

00:17:19,070 --> 00:17:21,100
were about to merge it,

00:17:21,100 --> 00:17:24,253
somebody sent me back a report against x86-64.

00:17:26,540 --> 00:17:27,660
So, I was traveling

00:17:29,335 --> 00:17:31,040
and sat in a boring meeting

00:17:31,040 --> 00:17:33,175
and looked at the code and said,

00:17:33,175 --> 00:17:34,008
"Hey, that's an easy fix."

00:17:34,008 --> 00:17:35,223
Sent the patch out,

00:17:36,100 --> 00:17:38,543
got confirmed, fixes x86.

00:17:40,400 --> 00:17:42,500
An hour later I got an angry email,

00:17:42,500 --> 00:17:44,053
you broke 32 bit.

00:17:46,630 --> 00:17:47,463
Well, wait a moment.

00:17:47,463 --> 00:17:51,640
I touched a file in Arch x86-64,

00:17:51,640 --> 00:17:54,793
how the hell can I break Arch i386?

00:17:56,200 --> 00:17:59,990
Digging deeper I found eight different ways

00:18:01,217 --> 00:18:02,110
(audience laughing)

00:18:02,110 --> 00:18:07,110
how x86-64 and i386 shared files.

00:18:08,690 --> 00:18:13,690
Some links make file references direct includes

00:18:14,470 --> 00:18:16,943
and other totally ugly tricks.

00:18:18,230 --> 00:18:19,734
Okay.

00:18:19,734 --> 00:18:21,430
I looked at the both things

00:18:21,430 --> 00:18:24,797
which I broke and said,

00:18:24,797 --> 00:18:29,277
"Why aren't these things all in one directory?"

00:18:31,140 --> 00:18:32,110
So, yes.

00:18:32,110 --> 00:18:34,730
That started off that I looked into merging

00:18:34,730 --> 00:18:36,840
the two architectures which took

00:18:37,720 --> 00:18:40,390
Ingo and me two years not working on real time

00:18:40,390 --> 00:18:43,003
because we merged x86 together.

00:18:46,025 --> 00:18:47,608
Yeah.

00:18:47,608 --> 00:18:48,441
It was really interesting.

00:18:50,786 --> 00:18:52,253
And that's the nightmare to it.

00:18:53,390 --> 00:18:56,530
I didn't quote the full mail because that's not

00:18:56,530 --> 00:19:00,054
code of conduct compliant anymore.

00:19:00,054 --> 00:19:03,054
(audience laughing)

00:19:04,570 --> 00:19:05,800
So, yes.

00:19:05,800 --> 00:19:10,173
Then the following years we were busy doing x86.

00:19:11,200 --> 00:19:12,773
By the time we,

00:19:13,830 --> 00:19:16,840
just as a side project we started perf.

00:19:16,840 --> 00:19:19,170
And at some point I went back to

00:19:20,310 --> 00:19:21,523
work on RT.

00:19:23,700 --> 00:19:24,533
Which then

00:19:27,550 --> 00:19:29,260
I got exposed because

00:19:30,220 --> 00:19:31,860
while I was doing all that

00:19:31,860 --> 00:19:36,763
I got several other entries into the maintainer file.

00:19:37,800 --> 00:19:40,303
Which then exposed me to patches.

00:19:41,470 --> 00:19:44,543
And a lot of them are enterprise quality.

00:19:46,220 --> 00:19:48,160
So, how does that look like?

00:19:48,160 --> 00:19:49,953
That's mostly voodoo.

00:19:51,630 --> 00:19:52,593
Duct tape.

00:19:53,920 --> 00:19:54,903
Works for me.

00:19:56,538 --> 00:19:59,253
Ioctls that sized.

00:20:00,687 --> 00:20:03,060
And totally random other things.

00:20:03,060 --> 00:20:05,796
Nothing of it makes sense but you have

00:20:05,796 --> 00:20:06,910
to fend it off.

00:20:06,910 --> 00:20:09,300
So, that's yeah still haunting me.

00:20:09,300 --> 00:20:10,770
I could rip up that slide

00:20:10,770 --> 00:20:13,200
every other slides.

00:20:13,200 --> 00:20:15,083
So, that's still true today.

00:20:17,300 --> 00:20:18,870
So, over time I learned how

00:20:18,870 --> 00:20:21,053
to deal with that.

00:20:22,270 --> 00:20:24,160
My first reactions to that

00:20:24,160 --> 00:20:27,283
were probably just my grumpy self.

00:20:30,451 --> 00:20:33,790
So, and this is something I'm really

00:20:33,790 --> 00:20:37,633
deeply care about and we need to get better at that.

00:20:38,930 --> 00:20:41,680
One of the important things people have

00:20:41,680 --> 00:20:46,040
to really understand you can't just

00:20:46,040 --> 00:20:48,010
solve your particular problem

00:20:48,010 --> 00:20:50,990
by gluing something into the code.

00:20:50,990 --> 00:20:52,063
That doesn't work.

00:20:52,900 --> 00:20:54,580
It works for you,

00:20:54,580 --> 00:20:56,330
but it doesn't work for everybody else

00:20:56,330 --> 00:20:58,700
and especially not for the maintainers.

00:20:58,700 --> 00:21:00,950
Because you got the problem solved.

00:21:00,950 --> 00:21:02,280
You go away.

00:21:02,280 --> 00:21:04,380
You do some work on something else.

00:21:04,380 --> 00:21:06,860
And the fallout from what you did

00:21:06,860 --> 00:21:08,560
is coming back to the maintainers

00:21:08,560 --> 00:21:09,840
and they have to deal with it.

00:21:09,840 --> 00:21:12,820
So, the defense line for me

00:21:12,820 --> 00:21:16,203
and of maintainers in general should be say no.

00:21:17,770 --> 00:21:18,730
Do it right.

00:21:18,730 --> 00:21:20,070
Do it proper.

00:21:20,070 --> 00:21:23,800
So, I had one thing last year going on.

00:21:23,800 --> 00:21:26,432
I looked at it and I said, "Yeah, makes sense but no.

00:21:26,432 --> 00:21:29,760
"This breaks here, breaks there, and whatever."

00:21:29,760 --> 00:21:31,740
So, we have to go and clean it up.

00:21:31,740 --> 00:21:35,650
Clean up the whole logic and magic behind it

00:21:35,650 --> 00:21:37,580
and I told the submitter that

00:21:37,580 --> 00:21:39,340
and he came back with the answer

00:21:39,340 --> 00:21:41,933
that's out of the scope of my project.

00:21:43,640 --> 00:21:46,230
He got a reply from me, very polite,

00:21:46,230 --> 00:21:48,716
now it is in the scope of your project.

00:21:48,716 --> 00:21:51,716
(audience laughing)

00:21:52,800 --> 00:21:54,930
He actually did it.

00:21:54,930 --> 00:21:57,120
He cleaned it up and was happy about it

00:21:57,120 --> 00:21:59,040
afterwards that he actually

00:21:59,040 --> 00:22:03,640
went all down the road and did the whole restructuring

00:22:03,640 --> 00:22:06,060
because it made a lot of the things he actually

00:22:06,060 --> 00:22:09,193
wanted to do easier, simpler, cleaner.

00:22:10,311 --> 00:22:11,563
So, and I think that's something.

00:22:14,020 --> 00:22:16,620
I'm doing that and I think every maintainer

00:22:16,620 --> 00:22:18,480
in the tree should do that

00:22:18,480 --> 00:22:20,193
for his own mental sanity.

00:22:21,910 --> 00:22:25,664
Because you're going to be haunted by the stuff

00:22:25,664 --> 00:22:27,643
you get thrown at.

00:22:29,150 --> 00:22:34,150
So, 2009, 2012 was just working on RT on and off.

00:22:35,000 --> 00:22:36,560
Doing a little bit maintainer work.

00:22:36,560 --> 00:22:37,840
Whatever.

00:22:37,840 --> 00:22:42,840
And then I ran into that other enterprise problem.

00:22:44,530 --> 00:22:45,890
Everybody was telling me

00:22:47,090 --> 00:22:49,530
they use RT, they love RT,

00:22:49,530 --> 00:22:51,293
but nobody wanted to pay for it.

00:22:52,130 --> 00:22:56,370
So, in 2014, I actually decided

00:22:56,370 --> 00:22:58,910
to make it a hobbyist project

00:22:58,910 --> 00:23:01,190
and it got the most hilarious emails

00:23:01,190 --> 00:23:02,690
from all over the world.

00:23:02,690 --> 00:23:06,713
You cannot do this, our products depend on it.

00:23:06,713 --> 00:23:09,050
(audience laughing)

00:23:09,050 --> 00:23:11,210
I sent a form letter reply,

00:23:11,210 --> 00:23:13,340
I can't tell you where the slot is,

00:23:13,340 --> 00:23:14,940
where it can drop the (mumbles).

00:23:17,540 --> 00:23:19,463
They started to panic.

00:23:21,598 --> 00:23:23,443
But don't panic.

00:23:24,626 --> 00:23:25,570
So, people were thinking actually

00:23:25,570 --> 00:23:27,890
about solutions for the problem.

00:23:27,890 --> 00:23:30,050
OSADL stepped in for a year

00:23:30,050 --> 00:23:33,620
and then the Linux Foundation Real-Time Project

00:23:36,610 --> 00:23:37,443
was put together.

00:23:37,443 --> 00:23:38,276
Thank you, Kate.

00:23:40,909 --> 00:23:45,113
And we were able to work in earnest on it.

00:23:46,204 --> 00:23:48,240
There's a lot of work.

00:23:48,240 --> 00:23:50,260
What we achieved in that time

00:23:51,950 --> 00:23:53,280
and we really went down

00:23:53,280 --> 00:23:55,110
and did it from ground up.

00:23:55,110 --> 00:23:58,423
We fixed hot block, which was interesting.

00:23:59,870 --> 00:24:02,280
The CPU hot block clean up.

00:24:02,280 --> 00:24:05,000
Took us only 650 patches.

00:24:05,000 --> 00:24:08,890
Up to the point where we also switched

00:24:08,890 --> 00:24:10,480
the locking over to something which

00:24:10,480 --> 00:24:11,813
is visible to lockf.

00:24:12,670 --> 00:24:14,420
Which caused lockf to unearth

00:24:14,420 --> 00:24:16,540
all the existing data locks,

00:24:16,540 --> 00:24:18,440
which were well hidden.

00:24:18,440 --> 00:24:22,293
Which caused another 110 patches to fix that mess.

00:24:23,797 --> 00:24:25,173
So, yeah, it's fun.

00:24:26,211 --> 00:24:27,044
But then

00:24:28,870 --> 00:24:30,023
in 2018,

00:24:32,001 --> 00:24:34,210
we were plugging along.

00:24:34,210 --> 00:24:36,760
We were all happy and then we got...

00:24:37,757 --> 00:24:41,771
No, in '17 we were disrupted by this.

00:24:41,771 --> 00:24:44,771
(audience laughing)

00:24:51,196 --> 00:24:53,146
Yeah, that was my first reaction to it.

00:24:55,000 --> 00:24:59,100
Because not due to the technical problem.

00:24:59,100 --> 00:25:01,800
I knew immediately what was coming along

00:25:01,800 --> 00:25:03,430
with the technical problem

00:25:03,430 --> 00:25:06,143
and what would be worse than the technical problem.

00:25:07,220 --> 00:25:10,097
Because of all the secrecy of all the other

00:25:10,097 --> 00:25:13,510
companies and operating system vendors in the world

00:25:13,510 --> 00:25:17,510
in would end up in a really stupid nightmare

00:25:17,510 --> 00:25:20,793
of bureaucracy, politics, and lawyers.

00:25:22,000 --> 00:25:23,070
Now, if you

00:25:24,960 --> 00:25:27,460
were at your literature class

00:25:27,460 --> 00:25:29,850
and paying attention you know that there's

00:25:29,850 --> 00:25:33,400
a well-known solution from a very famous

00:25:34,800 --> 00:25:37,460
British writer

00:25:38,540 --> 00:25:40,373
what to do with the lawyers.

00:25:41,250 --> 00:25:44,250
(audience laughing)

00:25:45,960 --> 00:25:49,363
But that doesn't work, folks.

00:25:50,350 --> 00:25:52,735
It violates the code of...

00:25:52,735 --> 00:25:56,985
(audience laughing and applauding)

00:25:59,700 --> 00:26:02,270
So, we had to deal with it

00:26:02,270 --> 00:26:03,760
and had to cope with it.

00:26:03,760 --> 00:26:05,373
We're still suffering from it.

00:26:06,330 --> 00:26:08,297
Some of you might have noticed that we have

00:26:08,297 --> 00:26:12,440
a documented process what we think

00:26:12,440 --> 00:26:14,580
and this is the only way because

00:26:14,580 --> 00:26:17,310
we as a community cannot sign NDAs

00:26:17,310 --> 00:26:19,890
and companies have finally to understand that

00:26:21,579 --> 00:26:24,610
We are telling them this for years

00:26:24,610 --> 00:26:26,080
but now they hae it written.

00:26:26,080 --> 00:26:27,870
So, maybe that helps better

00:26:27,870 --> 00:26:32,100
for their attempts of trying to understand it.

00:26:32,100 --> 00:26:33,110
I don't know.

00:26:33,110 --> 00:26:33,943
We'll see.

00:26:35,300 --> 00:26:40,133
So, after that, we went back to work.

00:26:41,030 --> 00:26:42,490
Dalt was the second wave,

00:26:42,490 --> 00:26:45,000
which was way better to deal with.

00:26:45,000 --> 00:26:47,890
But still annoying and then

00:26:50,610 --> 00:26:52,360
yeah somewhere (mumbles) here.

00:26:54,410 --> 00:26:58,370
We got the other thing which just made people

00:26:58,370 --> 00:27:00,380
run around and screaming

00:27:00,380 --> 00:27:05,380
and discuss everything in totally unordered ways.

00:27:07,850 --> 00:27:10,810
It's the clock but it happened.

00:27:10,810 --> 00:27:12,260
We are all right with it

00:27:12,260 --> 00:27:14,280
and I think we are all happy.

00:27:14,280 --> 00:27:16,243
It's there in the form we have it.

00:27:17,165 --> 00:27:18,300
So, I'm not complaining

00:27:18,300 --> 00:27:20,376
it just was yet another thing

00:27:20,376 --> 00:27:22,130
to happen out of the blue

00:27:22,130 --> 00:27:25,314
and where the hell is all our people

00:27:25,314 --> 00:27:28,060
I need for reviewing something?

00:27:28,060 --> 00:27:31,340
Oh, they're off at discussing code of conduct issues.

00:27:31,340 --> 00:27:32,173
Great.

00:27:34,360 --> 00:27:36,983
2019, we got back to normal.

00:27:38,010 --> 00:27:43,010
We started to make progress with our backlog.

00:27:43,030 --> 00:27:47,020
We actually have most of the big items

00:27:47,020 --> 00:27:52,020
which we need to solve to get finally this thing done.

00:27:56,320 --> 00:27:58,100
In shape and in tree.

00:27:58,100 --> 00:27:59,840
The last outstanding issue.

00:27:59,840 --> 00:28:01,530
The big one was printk

00:28:02,548 --> 00:28:04,090
and I think we agreed on a solution

00:28:04,090 --> 00:28:05,333
in this very conference.

00:28:06,651 --> 00:28:07,840
So, Plumbers has

00:28:09,190 --> 00:28:10,740
done what it should do.

00:28:10,740 --> 00:28:12,890
Bring people together so they can sit down

00:28:12,890 --> 00:28:15,630
and hash it out in person.

00:28:15,630 --> 00:28:20,130
The discussion was no longer being resolvable by mail.

00:28:23,860 --> 00:28:25,330
Because.

00:28:25,330 --> 00:28:26,830
No particular reason.

00:28:26,830 --> 00:28:28,010
It happens.

00:28:28,010 --> 00:28:30,830
So, that's what conferences are for

00:28:30,830 --> 00:28:34,310
and why I really look back

00:28:34,310 --> 00:28:37,660
and it's 15 years now that I'm working on RT

00:28:39,160 --> 00:28:41,180
on the real-time preempt patch set.

00:28:41,180 --> 00:28:43,390
Pretty much 15 years now

00:28:43,390 --> 00:28:46,010
and it's almost exactly 20 years

00:28:46,010 --> 00:28:48,840
from now when I started to look

00:28:48,840 --> 00:28:51,380
in how real-time could be supported

00:28:51,380 --> 00:28:53,183
on a Linux kernel.

00:28:54,994 --> 00:28:56,694
And I was sure back then it works.

00:28:57,954 --> 00:28:59,550
I'm even more sure now.

00:28:59,550 --> 00:29:03,243
Even if the academics still claim that it can't work.

00:29:05,766 --> 00:29:07,870
But we have this micro-conference session today

00:29:07,870 --> 00:29:09,720
where we're talking about that

00:29:09,720 --> 00:29:12,520
and one of the academics actually

00:29:15,440 --> 00:29:18,610
admitted himself that what they are doing

00:29:18,610 --> 00:29:21,700
is they have all these nice

00:29:22,630 --> 00:29:24,920
computations where they prove

00:29:24,920 --> 00:29:27,240
whether something works or not.

00:29:27,240 --> 00:29:30,630
But they also have a gazillion of assumptions

00:29:30,630 --> 00:29:31,743
where they just say,

00:29:32,597 --> 00:29:34,497
"This problem doesn't exist."

00:29:36,200 --> 00:29:40,080
So, I'm grateful that academic's looking

00:29:40,080 --> 00:29:43,200
into that problem but I also think they need

00:29:43,200 --> 00:29:47,290
to go and figure out that there are these assumptions

00:29:47,290 --> 00:29:49,200
which really should exist

00:29:50,050 --> 00:29:53,253
in order to figure out whether something works or not.

00:29:54,430 --> 00:29:56,033
So, yes.

00:29:56,920 --> 00:29:58,600
That's where we are.

00:29:58,600 --> 00:30:02,170
We got finally some signaling

00:30:02,170 --> 00:30:07,170
into the kernels the context Preempt-RT switches there.

00:30:07,200 --> 00:30:09,253
You can't turn it on yet.

00:30:10,672 --> 00:30:12,560
It's hidden behind a dependency

00:30:12,560 --> 00:30:15,930
but it allows us to do some of the depending stuff

00:30:15,930 --> 00:30:16,810
on top of it

00:30:16,810 --> 00:30:20,550
and we will just do that in the way we've done it

00:30:20,550 --> 00:30:22,623
in the last 15 years.

00:30:23,950 --> 00:30:25,140
Polish it up.

00:30:25,140 --> 00:30:26,403
Make Linus happy.

00:30:27,380 --> 00:30:28,493
And get it done.

00:30:29,420 --> 00:30:32,090
And that brings to me to an interesting question

00:30:32,090 --> 00:30:35,560
I got asked over the years over and over

00:30:35,560 --> 00:30:39,923
and I got asked it a couple of days ago.

00:30:41,790 --> 00:30:45,113
How do you get crazy shit into the Linux kernel?

00:30:46,217 --> 00:30:47,720
(audience laughing)

00:30:47,720 --> 00:30:49,970
There's a very easy answer to that.

00:30:49,970 --> 00:30:52,080
And it's actually coming from

00:30:53,270 --> 00:30:54,403
Linus himself.

00:30:56,020 --> 00:30:59,380
The real-time people have actually been pretty good

00:30:59,380 --> 00:31:02,400
at slipping their stuff in in small increments

00:31:02,400 --> 00:31:05,963
and always with good reasons why they aren't crazy.

00:31:05,963 --> 00:31:07,890
(audience laughing)

00:31:07,890 --> 00:31:10,463
So, I told you there's this crazy thing.

00:31:11,390 --> 00:31:13,850
And here I still think the hard real-time people

00:31:13,850 --> 00:31:15,113
are mostly crazy.

00:31:16,652 --> 00:31:19,973
I guess this is true today.

00:31:21,270 --> 00:31:22,263
Come on, admit it!

00:31:23,247 --> 00:31:26,247
(audience laughing)

00:31:28,647 --> 00:31:31,750
So, Linus can work with crazy people, he's saying.

00:31:31,750 --> 00:31:35,820
He just wants them to wrap their crazy stuff

00:31:35,820 --> 00:31:37,880
into this Trojan horses,

00:31:37,880 --> 00:31:41,500
not to talk about the soldiers inside,

00:31:41,500 --> 00:31:44,080
give him this warm and cozy feeling

00:31:44,080 --> 00:31:46,693
that he's merging something really useful.

00:31:48,950 --> 00:31:50,610
I mean,

00:31:50,610 --> 00:31:52,260
you know that

00:31:52,260 --> 00:31:54,183
about the soldiers inside.

00:31:55,222 --> 00:31:57,560
But as long as the gift package

00:31:57,560 --> 00:32:00,633
is nicely wrapped you don't care, right?

00:32:02,440 --> 00:32:05,600
That's my answer to how you get crazy stuff

00:32:05,600 --> 00:32:07,520
into the Linux kernel.

00:32:07,520 --> 00:32:10,060
But there's a second answer to it.

00:32:10,060 --> 00:32:12,710
Go and work from ground up.

00:32:12,710 --> 00:32:15,140
Don't try to build on things

00:32:15,140 --> 00:32:18,040
into the kernel because that's going to hurt us,

00:32:18,040 --> 00:32:22,233
everybody, and you in the long term as well.

00:32:23,410 --> 00:32:27,270
So, yes, it's a lot of extra work you're doing.

00:32:27,270 --> 00:32:30,710
But then this was always something

00:32:30,710 --> 00:32:34,790
where you can lay the groundwork for your crazy stuff.

00:32:34,790 --> 00:32:39,410
So, of course, when we reworked CPU hotplug

00:32:39,410 --> 00:32:41,670
aside from making it actually work

00:32:42,680 --> 00:32:43,973
for the first time ever,

00:32:45,100 --> 00:32:48,280
we carefully made it in a way

00:32:48,280 --> 00:32:50,463
that it won't break on RT again.

00:32:51,688 --> 00:32:52,610
Which is

00:32:54,320 --> 00:32:55,673
okay I think.

00:32:56,890 --> 00:32:59,223
So, as long as it works.

00:33:00,210 --> 00:33:03,400
So, yes, this is my answer.

00:33:03,400 --> 00:33:05,440
This one and the other one.

00:33:05,440 --> 00:33:06,460
Do it from ground up.

00:33:06,460 --> 00:33:08,510
Go the extra mile.

00:33:08,510 --> 00:33:09,390
It's worth it.

00:33:09,390 --> 00:33:13,080
It's worth for the quality of the kernel.

00:33:13,080 --> 00:33:15,170
For the stability of the kernel.

00:33:15,170 --> 00:33:17,113
Don't do the duct-tape thing.

00:33:18,280 --> 00:33:21,440
So, I came up with a picture

00:33:21,440 --> 00:33:25,010
of what I was doing the last 15 years.

00:33:25,010 --> 00:33:28,840
It's feeling like changing every wheel

00:33:30,850 --> 00:33:32,203
on a running train.

00:33:34,350 --> 00:33:37,480
So, but you're not alone changing wheels.

00:33:37,480 --> 00:33:39,250
Other people are changing wheels as well

00:33:39,250 --> 00:33:42,030
in random orders and some people

00:33:43,450 --> 00:33:47,072
think it's a good idea to put square wheels on.

00:33:47,072 --> 00:33:48,350
(audience laughing)

00:33:48,350 --> 00:33:51,120
So, once they realize they don't work,

00:33:51,120 --> 00:33:53,641
instead of changing them again

00:33:53,641 --> 00:33:58,641
and use round wheels they use duct tape to make them round.

00:33:58,853 --> 00:34:01,450
(audience laughing)

00:34:01,450 --> 00:34:03,060
So, the problem is at some point

00:34:03,060 --> 00:34:04,410
the duct tape falls apart

00:34:04,410 --> 00:34:07,620
and you're back to the original state.

00:34:07,620 --> 00:34:09,820
So, you should have used the round wheel

00:34:09,820 --> 00:34:12,910
and not insisted on repairing

00:34:12,910 --> 00:34:17,150
your squared wheel with weird means.

00:34:17,150 --> 00:34:18,510
So, yes, that's

00:34:19,976 --> 00:34:21,920
the things I deeply care about

00:34:22,830 --> 00:34:25,210
and I think that's something

00:34:26,616 --> 00:34:29,383
every maintainer in the industry should care about.

00:34:31,110 --> 00:34:33,653
Don't proliferate duct-tape programming.

00:34:36,410 --> 00:34:37,243
Yeah, I know.

00:34:37,243 --> 00:34:40,310
Duct-tape programming is the most common

00:34:40,310 --> 00:34:42,273
thing in the industry.

00:34:43,613 --> 00:34:46,360
I mean, from my company work

00:34:46,360 --> 00:34:48,170
I occasionally can...

00:34:49,800 --> 00:34:53,263
I'm forced to look into customer code.

00:34:55,721 --> 00:34:57,571
And that's not a pleasant experience.

00:34:58,960 --> 00:35:01,290
You see, oh yes.

00:35:01,290 --> 00:35:02,790
100 lines of code

00:35:03,887 --> 00:35:06,183
and 50 lines come into doubt.

00:35:07,840 --> 00:35:10,130
And you see exactly what they tried to do

00:35:10,130 --> 00:35:12,403
in order to make it work.

00:35:13,919 --> 00:35:14,752
And then you have to

00:35:17,561 --> 00:35:19,710
figure out thingies.

00:35:19,710 --> 00:35:22,120
You can't even figure out which code

00:35:22,120 --> 00:35:24,550
is actually doing what

00:35:24,550 --> 00:35:25,920
because there's so much information

00:35:25,920 --> 00:35:29,223
but it contains all the history of failed attempts.

00:35:30,510 --> 00:35:31,343
It's great.

00:35:32,860 --> 00:35:36,240
Yeah, my theory is this whole industry

00:35:36,240 --> 00:35:37,880
is just working by chance.

00:35:37,880 --> 00:35:39,279
There's no plan.

00:35:39,279 --> 00:35:42,450
(audience laughing)

00:35:42,450 --> 00:35:43,283
So,

00:35:45,660 --> 00:35:49,150
with that, if you have questions

00:35:49,150 --> 00:35:51,290
I can answer I'm happy to do so.

00:35:51,290 --> 00:35:55,800
If not, I want to thank you for your attention

00:35:55,800 --> 00:35:58,823
and leave you off to the party.

00:36:01,675 --> 00:36:04,842
(audience applauding)

00:36:12,111 --> 00:36:15,382
That's my dream I'm going to dream on for now.

00:36:15,382 --> 00:36:16,364
(audience laughing)

00:36:16,364 --> 00:36:18,464
And don't provide with nightmares anymore.

00:36:19,410 --> 00:36:22,103
I just want to have this cozy dream forever.

00:36:23,280 --> 00:36:24,113
- [Woman] Okay.

00:36:24,113 --> 00:36:24,946
If anyone wants to ask questions,

00:36:24,946 --> 00:36:26,558
if you could raise your hands

00:36:26,558 --> 00:36:27,903
and stand up we'll try to get you a mike.

00:36:30,380 --> 00:36:31,213
Okay.

00:36:34,010 --> 00:36:36,840
- Your description of the changes in the interesting

00:36:36,840 --> 00:36:38,480
code you were looking at from industry,

00:36:38,480 --> 00:36:41,700
isn't that a description of evolution in action?

00:36:41,700 --> 00:36:43,920
- Yes, it's evolution in action

00:36:43,920 --> 00:36:47,566
but it's a weird form of evolution.

00:36:47,566 --> 00:36:50,566
(audience laughing)

00:36:53,030 --> 00:36:54,770
Contrary to normal evolution,

00:36:54,770 --> 00:36:58,653
which extincts bad things.

00:36:59,570 --> 00:37:01,120
- [Man] Like your appendix?

00:37:01,120 --> 00:37:04,023
- This proliferates the bad things.

00:37:05,087 --> 00:37:07,387
So, there's something wrong with that analogy.

00:37:08,240 --> 00:37:10,870
- I could go through a bunch of taxonomy

00:37:10,870 --> 00:37:12,380
and zoological curiosities.

00:37:12,380 --> 00:37:14,096
But I'll leave it there.

00:37:14,096 --> 00:37:17,710
(audience laughing)

00:37:17,710 --> 00:37:18,543
- Okay.

00:37:19,860 --> 00:37:20,693
- Anyone else?

00:37:22,620 --> 00:37:23,453
Oops.

00:37:30,740 --> 00:37:32,723
Who? (laughs)

00:37:35,330 --> 00:37:36,810
- Thomas, now you're getting close

00:37:36,810 --> 00:37:41,160
to actually finishing merging the Preempt patches,

00:37:41,160 --> 00:37:43,090
what do you actually want to do next?

00:37:43,090 --> 00:37:45,610
What are going to occupy your time with?

00:37:45,610 --> 00:37:46,443
(audience laughing)

00:37:46,443 --> 00:37:49,870
The next 20 years? (laughs)

00:37:49,870 --> 00:37:53,037
(audience applauding)

00:37:55,870 --> 00:37:56,703
- Dreaming.

00:37:58,930 --> 00:38:00,760
Having time for grandkids.

00:38:00,760 --> 00:38:01,963
Go on vacation.

00:38:02,880 --> 00:38:04,903
Eventually make retirement plans.

00:38:06,000 --> 00:38:07,450
No.

00:38:07,450 --> 00:38:10,660
I have no real plans yet.

00:38:10,660 --> 00:38:15,660
But I guess the things which are on this one-directional

00:38:16,780 --> 00:38:19,240
file which is named to-do list

00:38:20,650 --> 00:38:23,306
is large enough to keep me busy

00:38:23,306 --> 00:38:26,123
for the next five decades.

00:38:27,300 --> 00:38:28,973
Not that I want to get that old.

00:38:31,090 --> 00:38:33,850
- This is actually a request, not a question.

00:38:33,850 --> 00:38:35,770
Once you've finally have finished real-time

00:38:35,770 --> 00:38:38,727
can you provide us a retrospective roadmap, please?

00:38:38,727 --> 00:38:41,718
(audience laughing)

00:38:41,718 --> 00:38:43,203
- Of course.

00:38:45,600 --> 00:38:49,702
Yeah, I actually let someone who understands

00:38:49,702 --> 00:38:53,250
how to draw that thing do that.

00:38:53,250 --> 00:38:55,443
So, I hire an MBA or so.

00:38:58,050 --> 00:38:59,590
- What is your favorite idea,

00:38:59,590 --> 00:39:02,123
your favorite part of the RT subsystem?

00:39:05,340 --> 00:39:06,903
- My favorite part of it?

00:39:09,740 --> 00:39:10,573
I can't tell.

00:39:12,220 --> 00:39:14,488
Definitely not futex.

00:39:14,488 --> 00:39:16,490
(audience laughing)

00:39:16,490 --> 00:39:19,750
I can tell what I do not favor.

00:39:19,750 --> 00:39:21,950
So, we can exclude a lot of things.

00:39:21,950 --> 00:39:25,318
But no, there's nothing remaining.

00:39:25,318 --> 00:39:28,318
(audience laughing)

00:39:29,701 --> 00:39:33,113
No, I can't come up with one particular thing.

00:39:34,261 --> 00:39:36,363
- [Man] Most horrific?

00:39:36,363 --> 00:39:37,346
- Most horrific?

00:39:37,346 --> 00:39:38,423
Futex.

00:39:38,423 --> 00:39:39,556
(audience laughing)

00:39:39,556 --> 00:39:41,240
There's an easy answer.

00:39:41,240 --> 00:39:43,543
That's truly an easy question.

00:39:44,450 --> 00:39:47,303
Second horrific has nothing to do with RT.

00:39:47,303 --> 00:39:50,573
It's the fundamental broken x86 hardware.

00:39:52,680 --> 00:39:54,323
But we can fix that in software.

00:39:55,890 --> 00:39:58,203
So, with that.

00:40:00,947 --> 00:40:01,831
- You want one more?

00:40:01,831 --> 00:40:02,730
- There's one more.

00:40:02,730 --> 00:40:05,280
- I know I lay awake at night dreaming

00:40:05,280 --> 00:40:08,453
of a processor that can context switch in five cycles.

00:40:09,790 --> 00:40:12,290
- No, I'm dreaming of a processor

00:40:12,290 --> 00:40:15,510
which actually does all the things I care about,

00:40:15,510 --> 00:40:19,720
context switching, entry, and all the things correct.

00:40:20,865 --> 00:40:22,211
(audience laughing)

00:40:22,211 --> 00:40:25,910
(audience applauding)

00:40:25,910 --> 00:40:28,060
I don't care about the five microseconds.

00:40:28,060 --> 00:40:30,290
That's a side effect.

00:40:30,290 --> 00:40:31,230
It comes with it.

00:40:31,230 --> 00:40:33,323
Once you have it correct, it does that.

00:40:35,700 --> 00:40:38,380
- Since you have some expertise in the area,

00:40:38,380 --> 00:40:42,981
is there a favorite Trojan horse skill you could impart?

00:40:42,981 --> 00:40:43,814
(audience laughing)

00:40:43,814 --> 00:40:45,360
- The Trojan horse.

00:40:45,360 --> 00:40:46,813
My favorite Trojan horse.

00:40:48,360 --> 00:40:50,640
I think one of the real good ones

00:40:50,640 --> 00:40:53,183
was the NOHz/HR-timer combo.

00:40:55,220 --> 00:40:56,846
Linus wanted to have the NOHz

00:40:56,846 --> 00:40:58,810
thingy solved because the laptops

00:40:58,810 --> 00:41:02,000
were draining battery like crazy.

00:41:02,000 --> 00:41:03,540
But the bad news was

00:41:03,540 --> 00:41:05,253
once the kernel fixed it,

00:41:06,950 --> 00:41:10,400
we figured out not only the kernel

00:41:10,400 --> 00:41:12,420
is draining battery user space

00:41:12,420 --> 00:41:14,033
is draining even more.

00:41:15,860 --> 00:41:17,550
Guess what?

00:41:17,550 --> 00:41:22,550
If you ran a contemporary desktop back then,

00:41:22,720 --> 00:41:25,320
you were waking up

00:41:25,320 --> 00:41:29,700
as fast as you can roughly ever 10 milliseconds

00:41:29,700 --> 00:41:32,673
just for the clock applet.

00:41:36,140 --> 00:41:40,540
In order to either increase the second hand

00:41:41,970 --> 00:41:45,120
once per second or if the second hand

00:41:45,120 --> 00:41:47,993
was disabled the minute hand once per minute,

00:41:48,940 --> 00:41:51,430
therefore you woke up for the second hand

00:41:51,430 --> 00:41:52,970
at least 100 times.

00:41:52,970 --> 00:41:56,243
And then you can do the math.

00:41:58,160 --> 00:41:58,993
Yeah.

00:41:58,993 --> 00:42:00,233
But that got fixed eventually.

00:42:02,170 --> 00:42:04,670
And then other people came up with crazy ideas.

00:42:04,670 --> 00:42:07,540
What you can do with NOHz, NOHz_full.

00:42:08,510 --> 00:42:10,370
Not having a ticket all while running

00:42:10,370 --> 00:42:12,390
in user space and things like that.

00:42:12,390 --> 00:42:13,223
Yeah.

00:42:14,260 --> 00:42:17,380
But that was not part of that Trojan horse package.

00:42:17,380 --> 00:42:20,123
That came later and I wasn't involved.

00:42:21,224 --> 00:42:22,057
(audience laughing)

00:42:22,057 --> 00:42:22,890
- Much.

00:42:25,852 --> 00:42:27,217
- Mostly not (laughs).

00:42:30,615 --> 00:42:31,448
Okay.

00:42:31,448 --> 00:42:33,940
- Well, I think we're pretty good right now then.

00:42:33,940 --> 00:42:34,826
- Yeah.

00:42:34,826 --> 00:42:35,688
- And I'll just give you guys

00:42:35,688 --> 00:42:36,521
the rest of the information for tonight.

00:42:36,521 --> 00:42:37,550
And thank you very much, Thomas.

00:42:37,550 --> 00:42:39,720
- Thank you and off for the party.

00:42:39,720 --> 00:42:42,887
(audience applauding)

00:42:47,390 --> 00:42:49,430
- So, there's been questions in the hallways

00:42:49,430 --> 00:42:51,888
and we've been trying to get it nailed down

00:42:51,888 --> 00:42:52,760
but we don't still quite know our next venue yet.

00:42:52,760 --> 00:42:55,180
We're in negotiations with two venues

00:42:55,180 --> 00:42:57,893
and we're likely going to be back in Canada next year.

00:42:59,223 --> 00:43:01,750
And we'll be putting a blog spot.

00:43:01,750 --> 00:43:02,690
They'll be a blog coming out

00:43:02,690 --> 00:43:03,523
in the next couple of weeks.

00:43:03,523 --> 00:43:05,210
As soon as we've got the contracts signed.

00:43:05,210 --> 00:43:07,050
So, watch this space.

00:43:07,050 --> 00:43:08,380
We wish we could've told you right now

00:43:08,380 --> 00:43:10,267
but it's comin'.

00:43:12,450 --> 00:43:15,950
Tonight's event is going to be at the CCB.

00:43:15,950 --> 00:43:17,970
The Centro Cultural de Belem

00:43:17,970 --> 00:43:20,600
and there are going to be

00:43:21,680 --> 00:43:25,793
buses starting pretty much as you exit here.

00:43:27,670 --> 00:43:31,410
The CCB is right down by the water.

00:43:31,410 --> 00:43:34,200
By the river and you can see Torre de Belem

00:43:34,200 --> 00:43:35,420
if you look outside

00:43:35,420 --> 00:43:37,430
and you can also see the Discoveries Tower.

00:43:37,430 --> 00:43:40,670
And so, it's in a nice part of the town.

00:43:40,670 --> 00:43:43,300
Very touristic and scenic.

00:43:43,300 --> 00:43:45,310
And we'll be in this building here.

00:43:45,310 --> 00:43:46,810
And there's indoor and outdoor

00:43:47,650 --> 00:43:49,030
that we'll be working from.

00:43:49,030 --> 00:43:50,110
And the buses will be taking us

00:43:50,110 --> 00:43:52,270
right to that building and picking up.

00:43:52,270 --> 00:43:56,133
And so, the buses will be circulating

00:43:56,133 --> 00:43:57,870
after they've taken us

00:43:57,870 --> 00:43:59,630
and the last bus will be departing from

00:43:59,630 --> 00:44:03,630
the venue at 11 o'clock.

00:44:03,630 --> 00:44:06,860
The buses, we'll be boarding them from this floor here.

00:44:06,860 --> 00:44:08,830
So, you'll just be going out of here

00:44:08,830 --> 00:44:10,110
and going that way rather than going down

00:44:10,110 --> 00:44:11,710
to the main lobby.

00:44:11,710 --> 00:44:13,180
And we should be able to pick them up

00:44:13,180 --> 00:44:14,240
on this floor here

00:44:14,240 --> 00:44:16,783
and start to move ourselves over there.

00:44:18,240 --> 00:44:19,440
Badges.

00:44:19,440 --> 00:44:21,073
Please where them tonight.

00:44:22,460 --> 00:44:25,060
Since we are going to making sure

00:44:25,060 --> 00:44:29,103
that people are coming in with badges for the venue.

00:44:29,960 --> 00:44:32,270
So, I guess in closing

00:44:32,270 --> 00:44:33,860
thank you again, everyone.

00:44:33,860 --> 00:44:35,630
Each one of you for making Plumbers

00:44:35,630 --> 00:44:37,320
so effective this year.

00:44:37,320 --> 00:44:38,720
Very much appreciated

00:44:40,338 --> 00:44:41,230
and if you want to help us

00:44:41,230 --> 00:44:42,590
make Plumbers better for next year,

00:44:42,590 --> 00:44:45,137
if you could take five minutes and (mumbles).

00:44:46,460 --> 00:44:47,510
Oops, we've got a question.

00:44:47,510 --> 00:44:48,360
Okay.

00:44:48,360 --> 00:44:50,880
- [Audience] For guest passes, how does that work?

00:44:50,880 --> 00:44:53,600
- Pick up a guest pass at the registration desk.

00:44:53,600 --> 00:44:57,100
If you've registered, there's a pass there for the person.

00:44:57,100 --> 00:44:57,933
Okay?

00:45:00,501 --> 00:45:01,423
And with the survey.

00:45:02,460 --> 00:45:03,700
And with that,

00:45:03,700 --> 00:45:05,063
thank you very much.

00:45:05,935 --> 00:45:06,942
(audience applauding)

00:45:06,942 --> 00:45:08,663
And thank you for the end of Plumbers for this year.

00:45:18,437 --> 00:45:20,710
- Just one more thank you to Kate

00:45:20,710 --> 00:45:22,411
for holding it all together for us.

00:45:22,411 --> 00:45:25,661

YouTube URL: https://www.youtube.com/watch?v=BTak9U6vuc0


