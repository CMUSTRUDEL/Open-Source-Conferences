Title: MountainWest RubyConf 2014 - A Magical Gathering by Aaron Patterson
Publication date: 2020-01-24
Playlist: MWRC 2014
Description: 
	Let's roll up our sleeves, and learn about Ruby and OpenCV. Let there be coding. Let there be learning. But most of all, let this be the most magical of all gatherings. I've put on my robe and my wizard hat, now lets make magic happen!

Help us caption & translate this video!

http://amara.org/v/FG2g/
Captions: 
	00:00:24,860 --> 00:00:34,230
good morning whoo yes good morning um

00:00:31,680 --> 00:00:36,450
why am I not seeing my notes here there

00:00:34,230 --> 00:00:39,059
we go all right I'm very excited to be

00:00:36,450 --> 00:00:41,370
here um a couple weeks ago I went to

00:00:39,059 --> 00:00:45,390
ruby on ales and I got a cold and i

00:00:41,370 --> 00:00:47,280
think i got it from mike so i think that

00:00:45,390 --> 00:00:52,020
this conference is Ruby for what ails

00:00:47,280 --> 00:00:53,280
you which is a cold my name is Aaron

00:00:52,020 --> 00:00:55,140
Patterson you can find me on the

00:00:53,280 --> 00:00:57,060
Internet as tender love I am on the Ruby

00:00:55,140 --> 00:00:58,890
core team and I am also on the rails

00:00:57,060 --> 00:01:00,329
core team it doesn't mean that i know

00:00:58,890 --> 00:01:04,850
what i'm talking about it just means

00:01:00,329 --> 00:01:07,860
that i'm really bad at saying no so

00:01:04,850 --> 00:01:09,930
anyway I'm really really excited to be

00:01:07,860 --> 00:01:12,660
here I'm actually from Utah i am from

00:01:09,930 --> 00:01:14,850
utah grew up here in Salt Lake City and

00:01:12,660 --> 00:01:16,860
people always ask me the same question

00:01:14,850 --> 00:01:19,050
when they find out that I'm from Utah

00:01:16,860 --> 00:01:20,850
and I just want to like preface

00:01:19,050 --> 00:01:27,049
everybody and answer it up front the

00:01:20,850 --> 00:01:27,049
answer is no I don't know how to ski I

00:01:31,729 --> 00:01:36,930
grew up in rose park but I moved to

00:01:34,470 --> 00:01:38,909
Seattle about 14 years ago so don't ask

00:01:36,930 --> 00:01:41,580
me for any food recommendations but I

00:01:38,909 --> 00:01:45,090
want to see how many of you all live

00:01:41,580 --> 00:01:47,400
here in Utah now okay and how many of

00:01:45,090 --> 00:01:49,020
you were from out of town okay so about

00:01:47,400 --> 00:01:50,790
half and half all right so half of

00:01:49,020 --> 00:01:52,799
you're going to kno know this stuff

00:01:50,790 --> 00:01:56,729
already when I talk about some Utah

00:01:52,799 --> 00:02:00,150
stuff so this is the Utah State cooking

00:01:56,729 --> 00:02:01,890
pot is a Dutch oven I don't know why we

00:02:00,150 --> 00:02:04,049
did this I remember we did this back in

00:02:01,890 --> 00:02:05,640
1997 I was still living here and there

00:02:04,049 --> 00:02:08,369
was a hubbub because people are like why

00:02:05,640 --> 00:02:10,079
are you passing some real laws instead

00:02:08,369 --> 00:02:13,110
of talking about cooking pots anyway

00:02:10,079 --> 00:02:14,579
cooking pot I love my Dutch oven um you

00:02:13,110 --> 00:02:16,260
should check out stonecutter because

00:02:14,579 --> 00:02:17,790
apparently they have scones here that

00:02:16,260 --> 00:02:19,620
are different from anywhere else I've

00:02:17,790 --> 00:02:21,000
never been just going cutter but you

00:02:19,620 --> 00:02:22,860
should go to crown burger because they

00:02:21,000 --> 00:02:27,090
have pastrami sandwiches that are super

00:02:22,860 --> 00:02:29,639
good right right the state snack is

00:02:27,090 --> 00:02:31,799
green jello this is through this is

00:02:29,639 --> 00:02:33,540
totally true so if you go somewhere in

00:02:31,799 --> 00:02:34,140
order some food try to get green jello

00:02:33,540 --> 00:02:36,180
and for

00:02:34,140 --> 00:02:40,100
Onis like authenticity points it will

00:02:36,180 --> 00:02:42,840
have carrots in it totally serious uh

00:02:40,100 --> 00:02:45,000
also you should get fry sauce this is

00:02:42,840 --> 00:02:46,890
like Utah things like fry sauce you dip

00:02:45,000 --> 00:02:48,750
fries in it I guarantee you anywhere you

00:02:46,890 --> 00:02:51,360
go to eat like if they have fries ask

00:02:48,750 --> 00:02:54,420
for fry sauce they will have it I'm

00:02:51,360 --> 00:02:55,740
serious the other thing I want to talk

00:02:54,420 --> 00:02:59,370
about last thing I want to talk about

00:02:55,740 --> 00:03:00,690
for these Utah stuff for people who have

00:02:59,370 --> 00:03:07,380
not been here before it's a little bit

00:03:00,690 --> 00:03:13,650
of weird stuff yeah so this is the weird

00:03:07,380 --> 00:03:17,640
stuff that was valid like we have we

00:03:13,650 --> 00:03:21,660
have a pyramid google that word you'll

00:03:17,640 --> 00:03:23,640
find interesting things I'm not going to

00:03:21,660 --> 00:03:26,220
cover it but you can find that online um

00:03:23,640 --> 00:03:27,989
also there's this Sphinx this is a

00:03:26,220 --> 00:03:31,440
sphinx of joseph smith you should go

00:03:27,989 --> 00:03:34,830
check this out it is it is it really is

00:03:31,440 --> 00:03:36,600
there is a there's a park called gilgal

00:03:34,830 --> 00:03:38,310
park it's actually very close to here

00:03:36,600 --> 00:03:41,250
you can probably walk I'd say it's

00:03:38,310 --> 00:03:42,720
within walking distance go check this

00:03:41,250 --> 00:03:45,269
out there's a bunch of like stone work

00:03:42,720 --> 00:03:47,160
and stuff there it used to be closed off

00:03:45,269 --> 00:03:48,840
to the public this whole park was closed

00:03:47,160 --> 00:03:50,970
off to the public who is privately owned

00:03:48,840 --> 00:03:52,980
property when I was going to high school

00:03:50,970 --> 00:03:54,329
here I would sneak into this park and

00:03:52,980 --> 00:03:57,720
take pictures that I've been kicked out

00:03:54,329 --> 00:04:01,320
of this park many times however they

00:03:57,720 --> 00:04:02,340
were so the people who owned it we're

00:04:01,320 --> 00:04:04,709
gonna sell it and they were going to

00:04:02,340 --> 00:04:06,720
build build houses on this place but

00:04:04,709 --> 00:04:08,579
they said like you know everybody's like

00:04:06,720 --> 00:04:09,900
no we don't want you to do that so the

00:04:08,579 --> 00:04:12,000
city actually bought it and turned it

00:04:09,900 --> 00:04:13,799
into an actual park so you can go there

00:04:12,000 --> 00:04:16,500
without sneaking in it's a public park

00:04:13,799 --> 00:04:19,260
so anyway yes you should check this out

00:04:16,500 --> 00:04:23,340
and I brought two very special guests

00:04:19,260 --> 00:04:27,919
with me today my parents so nobody

00:04:23,340 --> 00:04:27,919
embarrass me they're down here

00:04:29,060 --> 00:04:36,449
so I invited them I invited them because

00:04:32,759 --> 00:04:38,849
I would like to just see what I do like

00:04:36,449 --> 00:04:40,409
I don't actually i'm i'm not sure that

00:04:38,849 --> 00:04:44,819
they believe that I actually draw a

00:04:40,409 --> 00:04:47,520
paycheck but I mean I think obviously

00:04:44,819 --> 00:04:49,080
I've been living on my own for quite a

00:04:47,520 --> 00:04:50,789
while and I have to be getting money

00:04:49,080 --> 00:04:52,889
from somewhere but I would like them to

00:04:50,789 --> 00:04:54,870
know that I'm not like you know getting

00:04:52,889 --> 00:04:56,520
money from loan sharks or whatever my

00:04:54,870 --> 00:04:58,199
entire life so I thought I would invite

00:04:56,520 --> 00:05:00,530
them to see you know so they could see

00:04:58,199 --> 00:05:02,940
what I actually do for a living

00:05:00,530 --> 00:05:08,520
unfortunately this this talk has

00:05:02,940 --> 00:05:10,830
absolutely nothing to do with my job but

00:05:08,520 --> 00:05:12,719
I mean hopefully hopefully will do will

00:05:10,830 --> 00:05:14,460
do something they taught me they taught

00:05:12,719 --> 00:05:20,909
me a very important lesson that was if

00:05:14,460 --> 00:05:22,770
you learn stuff you can do things so if

00:05:20,909 --> 00:05:24,870
you look at my if you look at my grades

00:05:22,770 --> 00:05:27,889
from school you'll notice that I didn't

00:05:24,870 --> 00:05:31,710
learn this lesson for quite a long time

00:05:27,889 --> 00:05:33,389
anyway uh unfortunately unfortunately

00:05:31,710 --> 00:05:37,620
the usefulness of this talk is about

00:05:33,389 --> 00:05:39,659
zero so we might discuss some relat

00:05:37,620 --> 00:05:43,289
relat n'stuff but alright let's get into

00:05:39,659 --> 00:05:48,360
it this talk is called oh ho ho it's

00:05:43,289 --> 00:05:54,930
magic you know I could talk a lot about

00:05:48,360 --> 00:05:56,550
magic the gathering uh yeah yes I play

00:05:54,930 --> 00:06:00,150
magic together anyone else here play

00:05:56,550 --> 00:06:02,400
anyone a few people yeah yes yes okay so

00:06:00,150 --> 00:06:04,589
recently I started playing again I'll

00:06:02,400 --> 00:06:06,779
talk about all right magic the gathering

00:06:04,589 --> 00:06:08,849
for people you don't know who don't know

00:06:06,779 --> 00:06:10,409
is a collectible card game it's a it's

00:06:08,849 --> 00:06:12,300
just it's a card game and you can

00:06:10,409 --> 00:06:14,400
collect car collect the cards and play

00:06:12,300 --> 00:06:16,889
against people and stuff and i played

00:06:14,400 --> 00:06:20,430
this i played this game about 10 years

00:06:16,889 --> 00:06:22,319
ago and i bought a whole bunch of cards

00:06:20,430 --> 00:06:24,029
and i was having a good time then i went

00:06:22,319 --> 00:06:25,860
to a tournament and got destroyed by a

00:06:24,029 --> 00:06:28,199
13 year old and he like slapped me in

00:06:25,860 --> 00:06:31,680
the face and insulted my insulted my

00:06:28,199 --> 00:06:33,750
parents so I quit I is basically like

00:06:31,680 --> 00:06:36,270
playing call of duty except in real life

00:06:33,750 --> 00:06:40,560
it was just it was extremely terrible so

00:06:36,270 --> 00:06:42,540
I just quit and then anyway so

00:06:40,560 --> 00:06:43,590
recently like somebody friend of mine

00:06:42,540 --> 00:06:45,030
was like hey do you want to play I'm

00:06:43,590 --> 00:06:46,169
sorry to play magic gathering you want

00:06:45,030 --> 00:06:48,240
to play and I was like yeah i've got

00:06:46,169 --> 00:06:51,090
like thousands of cards in my closet i'd

00:06:48,240 --> 00:06:53,550
love to play so i pulled the cards out

00:06:51,090 --> 00:06:55,710
and i was like i have no idea what i'm

00:06:53,550 --> 00:06:57,720
doing and i literally have thousands of

00:06:55,710 --> 00:07:00,690
cards like five or six thousand cards

00:06:57,720 --> 00:07:02,280
and i don't know what i have so i was

00:07:00,690 --> 00:07:04,530
looking at all these cards and i'm like

00:07:02,280 --> 00:07:08,310
i was thinking to myself well what do I

00:07:04,530 --> 00:07:10,169
have and is it any good and how much is

00:07:08,310 --> 00:07:11,730
it worth like what these are the things

00:07:10,169 --> 00:07:14,010
i want to know about these cards and i

00:07:11,730 --> 00:07:15,960
had thousands of these and I didn't want

00:07:14,010 --> 00:07:19,410
to figure it all out like this seemed

00:07:15,960 --> 00:07:21,360
like a job for computers so this seems

00:07:19,410 --> 00:07:23,280
like a repetitive task exactly something

00:07:21,360 --> 00:07:26,160
that computers should be able to do so I

00:07:23,280 --> 00:07:28,200
put on my robe and wizard hat and I put

00:07:26,160 --> 00:07:29,760
together a system to identify these

00:07:28,200 --> 00:07:31,650
magic cards and that's what we're going

00:07:29,760 --> 00:07:33,600
to talk about today is how identified

00:07:31,650 --> 00:07:35,610
these how I'm identifying these things

00:07:33,600 --> 00:07:37,169
using a computer so it's hopefully less

00:07:35,610 --> 00:07:41,070
work though you'll see it's actually

00:07:37,169 --> 00:07:42,389
more work but that's not what's

00:07:41,070 --> 00:07:47,280
important the important part is the

00:07:42,389 --> 00:07:48,690
journey right it's the journey anyway so

00:07:47,280 --> 00:07:50,520
we'll talk about my hardware the

00:07:48,690 --> 00:07:53,130
hardware i have is basically a laptop

00:07:50,520 --> 00:07:54,960
and a webcam and this this box here

00:07:53,130 --> 00:07:56,789
that's totally washed out but I've got a

00:07:54,960 --> 00:07:59,520
little Bach a light box there with a

00:07:56,789 --> 00:08:01,050
with light on top of it and the webcam

00:07:59,520 --> 00:08:03,060
points into the box so it's just

00:08:01,050 --> 00:08:04,650
pointing down like that and it sees in

00:08:03,060 --> 00:08:07,169
there looks like that that's what it

00:08:04,650 --> 00:08:09,630
sees so I got a card in there and here's

00:08:07,169 --> 00:08:12,090
a demo of the demo of the final system

00:08:09,630 --> 00:08:15,479
like basically up here on the right is

00:08:12,090 --> 00:08:17,669
my webcam view like it's a live stream

00:08:15,479 --> 00:08:19,530
for my webcam up there in the upper left

00:08:17,669 --> 00:08:22,500
that is the program working it's

00:08:19,530 --> 00:08:24,090
identifying the cards so it shows me

00:08:22,500 --> 00:08:26,400
what it thinks is the right card and I

00:08:24,090 --> 00:08:28,229
say like yes that's the right one and it

00:08:26,400 --> 00:08:30,570
saves it you can see the terminal like I

00:08:28,229 --> 00:08:32,459
get more there's values being shown

00:08:30,570 --> 00:08:35,130
there at the bottom that's when the card

00:08:32,459 --> 00:08:37,500
gets saved so it's showing that stuff

00:08:35,130 --> 00:08:40,500
alright so I say it says save that a

00:08:37,500 --> 00:08:42,570
good job you save the card so I keep

00:08:40,500 --> 00:08:45,140
going and this is what I do is I put the

00:08:42,570 --> 00:08:49,560
card in the computers like okay good job

00:08:45,140 --> 00:08:52,920
there it is anyway so our high-level

00:08:49,560 --> 00:08:53,970
process is basically we have a machine

00:08:52,920 --> 00:08:55,949
that takes

00:08:53,970 --> 00:08:58,980
photo it takes a photo of the card and

00:08:55,949 --> 00:09:01,290
then it tries to extract the card from

00:08:58,980 --> 00:09:04,860
that photo then it tries to identify the

00:09:01,290 --> 00:09:07,019
card and then save the data and then we

00:09:04,860 --> 00:09:10,379
just repeat this loop over and over and

00:09:07,019 --> 00:09:11,970
over again right so I kind of glossed

00:09:10,379 --> 00:09:13,350
over card identification we're going to

00:09:11,970 --> 00:09:15,240
go into that a little bit more detail

00:09:13,350 --> 00:09:17,160
basically we start out I start out with

00:09:15,240 --> 00:09:19,110
a corpus of data like I have a whole

00:09:17,160 --> 00:09:21,629
bunch of images that I know are good I

00:09:19,110 --> 00:09:23,730
know that these particular images match

00:09:21,629 --> 00:09:26,370
up with this particular data right I

00:09:23,730 --> 00:09:27,930
have some image card I have some picture

00:09:26,370 --> 00:09:31,560
of a card and I know that that card goes

00:09:27,930 --> 00:09:33,089
with that data in text right so the

00:09:31,560 --> 00:09:34,920
program will take a guess using this

00:09:33,089 --> 00:09:37,319
corpus it gets the image takes a guess

00:09:34,920 --> 00:09:39,509
and then it prompts me and says hey Erin

00:09:37,319 --> 00:09:41,459
am i right I think it's this card like I

00:09:39,509 --> 00:09:43,860
think it's one of these I'm pretty

00:09:41,459 --> 00:09:46,920
confident this one am I correct and I

00:09:43,860 --> 00:09:49,769
say like yes good job or no this is the

00:09:46,920 --> 00:09:53,100
actual answer and then we repeat this

00:09:49,769 --> 00:09:54,959
loop but it learns every time I teach it

00:09:53,100 --> 00:09:56,879
it saves that data so that hopefully the

00:09:54,959 --> 00:09:59,519
next time we go through this loop it

00:09:56,879 --> 00:10:01,949
gets smarter so it has a larger corpus

00:09:59,519 --> 00:10:03,360
to search from the actual system parts

00:10:01,949 --> 00:10:06,180
like the actual code that's involved

00:10:03,360 --> 00:10:08,100
here i have i use this lib p hatch for

00:10:06,180 --> 00:10:09,720
doing card matching opencv for

00:10:08,100 --> 00:10:11,790
recognition and cropping and then sequel

00:10:09,720 --> 00:10:14,250
like 34 actually change the storing the

00:10:11,790 --> 00:10:18,660
data and i'm going to go over each of

00:10:14,250 --> 00:10:22,500
those parts so information gathering is

00:10:18,660 --> 00:10:23,779
concerned get it gathering so i'll talk

00:10:22,500 --> 00:10:26,639
about how i gather the information

00:10:23,779 --> 00:10:29,189
basically i got it all from wizards of

00:10:26,639 --> 00:10:30,809
the coast website which what i did is we

00:10:29,189 --> 00:10:32,879
have a pay a web page that looks like

00:10:30,809 --> 00:10:34,379
this and what I have to grab from it is

00:10:32,879 --> 00:10:36,540
i need to get like well i need the name

00:10:34,379 --> 00:10:38,040
of the card I need to get the image

00:10:36,540 --> 00:10:40,379
because i have to do matches against

00:10:38,040 --> 00:10:42,180
that i get the set the reason i get the

00:10:40,379 --> 00:10:45,720
set is because a particular card can be

00:10:42,180 --> 00:10:47,430
reissued multiple years however the

00:10:45,720 --> 00:10:49,470
particular year in which it was issued

00:10:47,430 --> 00:10:51,000
impacts the price so i want to know what

00:10:49,470 --> 00:10:53,100
I like I want to know how much it's

00:10:51,000 --> 00:10:54,660
worth so I need to know the set and then

00:10:53,100 --> 00:10:56,730
I don't know if the cards are any good

00:10:54,660 --> 00:10:59,009
so I choose I also save the rating

00:10:56,730 --> 00:11:00,750
anyway so thinking about this like I'm

00:10:59,009 --> 00:11:03,540
like okay I'm going to model this data

00:11:00,750 --> 00:11:06,269
we have a scarred image it's like we got

00:11:03,540 --> 00:11:07,730
an image we got a card so obviously our

00:11:06,269 --> 00:11:09,709
relationship here is an Emmy

00:11:07,730 --> 00:11:12,350
has one card and the card has one image

00:11:09,709 --> 00:11:14,120
totally makes sense right so I get all

00:11:12,350 --> 00:11:16,579
my program written and then all sudden I

00:11:14,120 --> 00:11:19,130
find out nope you're wrong there is one

00:11:16,579 --> 00:11:22,699
image this is this here is one image but

00:11:19,130 --> 00:11:24,740
it has two cards on it and you know

00:11:22,699 --> 00:11:26,300
everybody everybody here who's ever

00:11:24,740 --> 00:11:28,430
written web application those when your

00:11:26,300 --> 00:11:30,230
data changes you like goth sucks sucks

00:11:28,430 --> 00:11:32,149
super hard so anyway this happened I'm

00:11:30,230 --> 00:11:35,060
like okay I'll fix it I fix it all right

00:11:32,149 --> 00:11:37,459
an image has many cards card has one

00:11:35,060 --> 00:11:39,620
image we're good to go so I rerun my

00:11:37,459 --> 00:11:44,990
program it crashes again because of this

00:11:39,620 --> 00:11:48,529
stupid card which is two images that

00:11:44,990 --> 00:11:50,600
belongs to one card so then I have to

00:11:48,529 --> 00:11:52,880
change my data again so we're like okay

00:11:50,600 --> 00:11:54,800
we image has velocity cards hard card

00:11:52,880 --> 00:11:57,800
has hasn't belongs to many images okay

00:11:54,800 --> 00:11:59,449
great so technology I use I want to talk

00:11:57,800 --> 00:12:00,800
about how I actually downloaded this

00:11:59,449 --> 00:12:02,449
data so we're going to talk about how I

00:12:00,800 --> 00:12:05,209
actually scrape this website and got the

00:12:02,449 --> 00:12:06,680
data and I used promises in Ruby does

00:12:05,209 --> 00:12:10,070
anybody anyone know that we have

00:12:06,680 --> 00:12:13,100
promises in Ruby we do yes so everyone

00:12:10,070 --> 00:12:15,440
know what a promise is I will talk about

00:12:13,100 --> 00:12:17,540
what a promise is a promise is something

00:12:15,440 --> 00:12:19,190
I say like hey I want you to execute

00:12:17,540 --> 00:12:20,750
this code like I got a chunk of code

00:12:19,190 --> 00:12:23,480
here I need you to perform this

00:12:20,750 --> 00:12:25,279
particular calculation I don't care when

00:12:23,480 --> 00:12:26,750
you do it like I want you to do it at

00:12:25,279 --> 00:12:28,880
some point in the future later on I'm

00:12:26,750 --> 00:12:31,639
going to ask you for the value right

00:12:28,880 --> 00:12:34,430
it's basically think of it as I promise

00:12:31,639 --> 00:12:36,199
to do this work at some point so here's

00:12:34,430 --> 00:12:38,389
what our in Ruby here's what our promise

00:12:36,199 --> 00:12:40,250
API looks like we say like okay here's

00:12:38,389 --> 00:12:42,500
we give it a chunk of work and we can

00:12:40,250 --> 00:12:44,209
ask the promise for its status we can

00:12:42,500 --> 00:12:46,610
call the value method the value method

00:12:44,209 --> 00:12:48,410
will give us the resulting value of the

00:12:46,610 --> 00:12:50,209
computation but it will block until the

00:12:48,410 --> 00:12:52,310
computation finishes so in this

00:12:50,209 --> 00:12:54,199
particular case when I call value it

00:12:52,310 --> 00:12:56,810
might it might sit there for five

00:12:54,199 --> 00:12:58,550
seconds until it calculates 10 x 20 50

00:12:56,810 --> 00:12:59,990
we can ask whether or not the promise is

00:12:58,550 --> 00:13:02,680
alive and we can actually cancel

00:12:59,990 --> 00:13:04,310
promises too so this entire

00:13:02,680 --> 00:13:05,990
implementation let me show you the

00:13:04,310 --> 00:13:09,699
entire implementation of the promise

00:13:05,990 --> 00:13:09,699
system in Ruby this is it

00:13:10,690 --> 00:13:15,950
that is the entire implementation the

00:13:14,120 --> 00:13:18,079
only downside about this is that you can

00:13:15,950 --> 00:13:20,300
have too many promises you can make an

00:13:18,079 --> 00:13:22,190
unlimited number of promises in Ruby and

00:13:20,300 --> 00:13:23,630
we don't really want that when we think

00:13:22,190 --> 00:13:25,220
about these problems as its threads it

00:13:23,630 --> 00:13:26,810
doesn't really make sense because maybe

00:13:25,220 --> 00:13:28,790
we can't execute that much stuff in

00:13:26,810 --> 00:13:30,620
parallel like if you only have four cpus

00:13:28,790 --> 00:13:34,279
does it make sense to make a million

00:13:30,620 --> 00:13:36,380
promises maybe not so what I needed to

00:13:34,279 --> 00:13:38,540
do is I need to limit my promises so

00:13:36,380 --> 00:13:40,160
what's really cool in Ruby is we can

00:13:38,540 --> 00:13:41,480
actually limit the number of promises we

00:13:40,160 --> 00:13:43,639
have in the way I did it was with this

00:13:41,480 --> 00:13:47,320
executor pool which is basically just a

00:13:43,639 --> 00:13:50,600
thread pool lets me run n or sighs sighs

00:13:47,320 --> 00:13:52,190
promises in parallel unfortunately it

00:13:50,600 --> 00:13:53,959
makes our promised implementation look a

00:13:52,190 --> 00:13:55,430
little bit harder this is what the

00:13:53,959 --> 00:13:57,230
promised code looks like and what it

00:13:55,430 --> 00:13:59,240
does is we have an executor thread which

00:13:57,230 --> 00:14:01,160
actually execute the block of code our

00:13:59,240 --> 00:14:02,810
main thread says like hey give me the

00:14:01,160 --> 00:14:04,600
value but it sits there until the

00:14:02,810 --> 00:14:06,560
executor thread says okay I'm done

00:14:04,600 --> 00:14:08,660
releases it and then the main thread can

00:14:06,560 --> 00:14:10,399
actually get the value well let what

00:14:08,660 --> 00:14:12,740
this lets me do is it lets me cue up a

00:14:10,399 --> 00:14:14,630
bunch of work and I say okay I want you

00:14:12,740 --> 00:14:15,890
to queue up Q of some work go grab some

00:14:14,630 --> 00:14:17,480
data from wizards of the coast to

00:14:15,890 --> 00:14:19,399
process it and then I want the value a

00:14:17,480 --> 00:14:21,740
little bit later and I needed to I

00:14:19,399 --> 00:14:24,050
wanted to limit this to five connections

00:14:21,740 --> 00:14:26,480
so I was only making five simultaneous

00:14:24,050 --> 00:14:28,880
connections to wizards of the coast so

00:14:26,480 --> 00:14:31,490
this is basically me an action shot like

00:14:28,880 --> 00:14:33,860
oh yeah five connections look at that

00:14:31,490 --> 00:14:36,050
parallel it's so amazing so I downloaded

00:14:33,860 --> 00:14:37,820
like I downloaded all this data in

00:14:36,050 --> 00:14:40,310
parallel with this code and I ended up

00:14:37,820 --> 00:14:42,140
with 1.6 gigabytes of data on my hard

00:14:40,310 --> 00:14:44,690
drive which was really awesome i was

00:14:42,140 --> 00:14:49,339
able to download 1.6 gigs in about like

00:14:44,690 --> 00:14:55,610
I think 40 minutes or so so I was like I

00:14:49,339 --> 00:14:59,240
wonder if they've noticed me anyway so

00:14:55,610 --> 00:15:01,069
after doing all this work all this work

00:14:59,240 --> 00:15:03,620
I come to find out about this amazing

00:15:01,069 --> 00:15:04,660
website called MTG jace Hong com which

00:15:03,620 --> 00:15:07,750
is

00:15:04,660 --> 00:15:12,910
which is literally all of that data in

00:15:07,750 --> 00:15:15,339
JSON format all of that data in JSON

00:15:12,910 --> 00:15:19,930
format so the moral of the story is try

00:15:15,339 --> 00:15:22,509
google first you can save a lot of time

00:15:19,930 --> 00:15:26,949
I remember it's the journey right it's

00:15:22,509 --> 00:15:29,529
the journey so anyway anyway the next

00:15:26,949 --> 00:15:31,600
thing I use is perceptual hatching so I

00:15:29,529 --> 00:15:32,949
need to be able to identify these images

00:15:31,600 --> 00:15:35,050
like make sure that they're the same

00:15:32,949 --> 00:15:36,490
like I took a picture I got a card I

00:15:35,050 --> 00:15:39,430
need to make sure match it up with the

00:15:36,490 --> 00:15:41,860
cards we have in the cips system so I do

00:15:39,430 --> 00:15:44,110
that with perceptual hashing and the way

00:15:41,860 --> 00:15:46,060
this works is I have two images so on

00:15:44,110 --> 00:15:47,860
the left there is my reference image and

00:15:46,060 --> 00:15:49,750
on the right is my scanned image and

00:15:47,860 --> 00:15:51,579
what the perceptual hatch does is it

00:15:49,750 --> 00:15:52,990
calculates a key for a particular image

00:15:51,579 --> 00:15:54,819
and down there at the bottom those are

00:15:52,990 --> 00:15:57,699
the keys for these two these two images

00:15:54,819 --> 00:15:59,560
it's just like think of it just like you

00:15:57,699 --> 00:16:01,329
would think of a hash key hatch key

00:15:59,560 --> 00:16:04,600
algorithm like calculating a key for a

00:16:01,329 --> 00:16:06,939
particular thing right so what I do with

00:16:04,600 --> 00:16:08,769
these is I say like okay I need to

00:16:06,939 --> 00:16:10,990
figure out how far apart they are and

00:16:08,769 --> 00:16:13,300
this for this particular library given

00:16:10,990 --> 00:16:14,889
to hash keys i can calculate distance

00:16:13,300 --> 00:16:17,199
from each other what it's called the

00:16:14,889 --> 00:16:19,839
Hamming distance so will tell me how

00:16:17,199 --> 00:16:20,860
similar these two images are and this is

00:16:19,839 --> 00:16:22,329
the code this is what the code looks

00:16:20,860 --> 00:16:24,699
like so you can see like okay I've

00:16:22,329 --> 00:16:26,259
generated a half's for a and B and then

00:16:24,699 --> 00:16:28,870
I get the Hamming distance between the

00:16:26,259 --> 00:16:30,160
two and the Hamming distance is eight so

00:16:28,870 --> 00:16:32,259
we don't really know what that means

00:16:30,160 --> 00:16:33,850
except that if we look at another card

00:16:32,259 --> 00:16:36,220
like these two cards look totally

00:16:33,850 --> 00:16:37,750
different we get two values for them and

00:16:36,220 --> 00:16:41,310
we see in this case the Hamming distance

00:16:37,750 --> 00:16:45,430
is 28 so the lower the Hamming distance

00:16:41,310 --> 00:16:46,899
the closer the images are together so

00:16:45,430 --> 00:16:48,639
the next thing I needed to do with this

00:16:46,899 --> 00:16:52,870
is I need to be able to sort this data I

00:16:48,639 --> 00:16:56,470
have like wizards has produced I think

00:16:52,870 --> 00:16:58,660
about 25,000 cards 25,000 unique cards

00:16:56,470 --> 00:17:00,939
so I need to be able to calculate this

00:16:58,660 --> 00:17:03,220
Hamming distance against 25,000 unique

00:17:00,939 --> 00:17:05,709
cards and get the top you know three or

00:17:03,220 --> 00:17:08,110
four or whatever and I actually do this

00:17:05,709 --> 00:17:09,880
in the database what I did is I extended

00:17:08,110 --> 00:17:11,500
sequel light three to add a Hamming

00:17:09,880 --> 00:17:14,589
distance function which actually calls

00:17:11,500 --> 00:17:16,360
out to this lib p hash calculates the

00:17:14,589 --> 00:17:18,410
Hamming distance inside of the database

00:17:16,360 --> 00:17:20,060
and then I can sort by hand

00:17:18,410 --> 00:17:21,920
distance in ascending order so this

00:17:20,060 --> 00:17:23,360
doesn't actually have to reenter Ruby I

00:17:21,920 --> 00:17:27,020
can say like hey database figure out

00:17:23,360 --> 00:17:28,250
everything for me and it does so the

00:17:27,020 --> 00:17:30,290
next thing I did is I had to calculate

00:17:28,250 --> 00:17:32,420
hatches for the entire corpus I

00:17:30,290 --> 00:17:34,070
downloaded all these images I need to

00:17:32,420 --> 00:17:35,270
figure out what all their hashes are and

00:17:34,070 --> 00:17:37,400
then store them in the database so i

00:17:35,270 --> 00:17:40,340
could sort the way i did this was with

00:17:37,400 --> 00:17:42,500
this not actual code just queued up all

00:17:40,340 --> 00:17:44,480
these i have four cpus i want to do this

00:17:42,500 --> 00:17:46,190
all in parallel so i've got four cpus i

00:17:44,480 --> 00:17:47,750
need to calculate these and calculating

00:17:46,190 --> 00:17:49,910
hashes took a very long time it took

00:17:47,750 --> 00:17:54,110
about i don't know maybe an hour or so

00:17:49,910 --> 00:17:56,210
to do all 26,000 26,000 hashes in

00:17:54,110 --> 00:17:58,580
advance and what sucked is i was doing

00:17:56,210 --> 00:18:01,370
this i had four cpus and i see this it's

00:17:58,580 --> 00:18:04,820
like it's using one cpu i'm super

00:18:01,370 --> 00:18:06,980
annoyed by this but what I discovered is

00:18:04,820 --> 00:18:08,600
like all this all this computation

00:18:06,980 --> 00:18:12,410
that's going on is completely it's

00:18:08,600 --> 00:18:14,660
completely in C so it's just it doesn't

00:18:12,410 --> 00:18:16,280
have to re-enter the Ruby Ruby runtime

00:18:14,660 --> 00:18:18,260
that's all written in C and what that

00:18:16,280 --> 00:18:21,470
means is you can actually release rubies

00:18:18,260 --> 00:18:24,230
rubies Gil around that C code you can

00:18:21,470 --> 00:18:26,360
say like hey I want you to unlock here

00:18:24,230 --> 00:18:28,580
and perform some calculation and then

00:18:26,360 --> 00:18:30,260
reacquire after you get done and what

00:18:28,580 --> 00:18:33,050
that means is we can actually execute

00:18:30,260 --> 00:18:34,940
cpu-intensive code in parallel so I

00:18:33,050 --> 00:18:37,520
patched the library and sent them a

00:18:34,940 --> 00:18:40,100
patch for this so that it would unlock

00:18:37,520 --> 00:18:42,710
the GBL around doing calculating those

00:18:40,100 --> 00:18:45,080
hashes and after that now i have i'm

00:18:42,710 --> 00:18:47,510
using all four cpus to calculate hashes

00:18:45,080 --> 00:18:53,300
for my entire corpus and I was like yeah

00:18:47,510 --> 00:18:54,860
a threat it's amazing anyway so the next

00:18:53,300 --> 00:18:56,420
thing is recognition and cropping and

00:18:54,860 --> 00:18:59,360
this is the part where I get like kind

00:18:56,420 --> 00:19:02,120
of I don't know a bit cargo cult II so

00:18:59,360 --> 00:19:04,190
for those of you that don't know a cargo

00:19:02,120 --> 00:19:05,780
cult thing is basically like you're not

00:19:04,190 --> 00:19:07,910
sure exactly how this works you just

00:19:05,780 --> 00:19:10,130
like right down the incantations and

00:19:07,910 --> 00:19:12,920
things seem to happen and the reason is

00:19:10,130 --> 00:19:15,470
because i'm using opencv opencv is

00:19:12,920 --> 00:19:17,600
extremely poorly documented extremely

00:19:15,470 --> 00:19:19,400
poorly documented so i really have no

00:19:17,600 --> 00:19:21,980
idea and i really have no idea what I'm

00:19:19,400 --> 00:19:23,960
doing so basically this is cargo cult

00:19:21,980 --> 00:19:26,630
thing what's weird is it's like it's got

00:19:23,960 --> 00:19:28,520
every single method documented like it's

00:19:26,630 --> 00:19:30,320
got all of them you go look at the api's

00:19:28,520 --> 00:19:31,789
and you're like oh this is that method

00:19:30,320 --> 00:19:33,830
we can't tell

00:19:31,789 --> 00:19:36,859
what the method actually does you don't

00:19:33,830 --> 00:19:38,869
know what it means so anyway like if you

00:19:36,859 --> 00:19:41,600
want to learn opencv you start googling

00:19:38,869 --> 00:19:43,639
around and you get some examples from

00:19:41,600 --> 00:19:45,289
from people and like I i took some

00:19:43,639 --> 00:19:46,999
examples from some people and put some

00:19:45,289 --> 00:19:48,109
code in here now I I'm looking at the

00:19:46,999 --> 00:19:51,440
color that I'm trying to figure out what

00:19:48,109 --> 00:19:53,929
it does like what does this mean so if

00:19:51,440 --> 00:19:56,659
you look at some of my code in my repo

00:19:53,929 --> 00:19:58,700
that's the repo there on github if you

00:19:56,659 --> 00:20:00,889
look at it like I tried to track down

00:19:58,700 --> 00:20:04,489
the actual origin of this particular bit

00:20:00,889 --> 00:20:06,320
of code and it came from this guy and he

00:20:04,489 --> 00:20:08,809
got it from this guy and he got it from

00:20:06,320 --> 00:20:12,109
this guy and he got it from this guy and

00:20:08,809 --> 00:20:15,679
this guy like doesn't explain it at all

00:20:12,109 --> 00:20:17,029
it's like just I have no idea anyway so

00:20:15,679 --> 00:20:18,679
I'm going to discuss the code that's in

00:20:17,029 --> 00:20:21,499
there and try to get rid of any myths

00:20:18,679 --> 00:20:23,479
around it or any like crazy stuff so

00:20:21,499 --> 00:20:25,429
basically the problem that I'm trying to

00:20:23,479 --> 00:20:28,269
solve is I have so let's let's take a

00:20:25,429 --> 00:20:30,710
look at what we have we have as a photo

00:20:28,269 --> 00:20:32,210
so this is the photo I take with my

00:20:30,710 --> 00:20:33,950
webcam it looks like this and there's

00:20:32,210 --> 00:20:36,679
like it's kind of washed out but you'll

00:20:33,950 --> 00:20:37,970
see like this this card is just in the

00:20:36,679 --> 00:20:41,809
middle of the screen it's just there

00:20:37,970 --> 00:20:43,849
right what we want is what we want is we

00:20:41,809 --> 00:20:46,369
need to have a nicely cropped card like

00:20:43,849 --> 00:20:47,419
this that's rectangular you'll notice in

00:20:46,369 --> 00:20:48,859
the previous image it was not

00:20:47,419 --> 00:20:51,229
rectangular and we need it that way so

00:20:48,859 --> 00:20:52,639
we can compare it against the corpus so

00:20:51,229 --> 00:20:54,889
we can compare it against those two and

00:20:52,639 --> 00:20:58,669
see how against that original image and

00:20:54,889 --> 00:21:01,389
see how similar it is so we take a photo

00:20:58,669 --> 00:21:03,590
and I'm going to hand wave over this

00:21:01,389 --> 00:21:06,259
somehow you got a photo on your machine

00:21:03,590 --> 00:21:08,090
that happened we have a photo and we

00:21:06,259 --> 00:21:09,559
need to pre-process it and the first

00:21:08,090 --> 00:21:12,320
thing you do for preprocessing with

00:21:09,559 --> 00:21:14,419
opencv is change it to grayscale now we

00:21:12,320 --> 00:21:16,519
use grayscale the grayscale output looks

00:21:14,419 --> 00:21:18,229
like this it is now gray amazing at

00:21:16,519 --> 00:21:19,970
heart and then we need to do edge

00:21:18,229 --> 00:21:22,940
detection on this so we need to detect

00:21:19,970 --> 00:21:25,009
all the edges and opencv ships with an

00:21:22,940 --> 00:21:27,139
algorithm called the canny edge detector

00:21:25,009 --> 00:21:29,389
which is an algorithm for detecting

00:21:27,139 --> 00:21:30,409
edges in an image and I have no idea how

00:21:29,389 --> 00:21:31,999
it works you should go read the

00:21:30,409 --> 00:21:33,769
wikipedia page which is what i did i

00:21:31,999 --> 00:21:36,169
still didn't understand it anyway you

00:21:33,769 --> 00:21:37,970
just say give me the candy edges find

00:21:36,169 --> 00:21:39,229
all the edges and here's the output for

00:21:37,970 --> 00:21:40,820
it it's kind of hard to see but you'll

00:21:39,229 --> 00:21:43,340
see those little white lines in there

00:21:40,820 --> 00:21:45,280
those are the edges in the cards that's

00:21:43,340 --> 00:21:46,630
the edges so the neck

00:21:45,280 --> 00:21:49,600
thing I need to do is I need to get all

00:21:46,630 --> 00:21:52,630
the contours out of this and find things

00:21:49,600 --> 00:21:54,700
that are not holes you may be asking

00:21:52,630 --> 00:21:56,620
well Erin what does a hole so there's

00:21:54,700 --> 00:21:58,870
what this does is it it loops over all

00:21:56,620 --> 00:22:01,660
the contours and says like okay skip it

00:21:58,870 --> 00:22:03,010
if it's a unless it's a hole like you

00:22:01,660 --> 00:22:04,420
know put it on there skip all the things

00:22:03,010 --> 00:22:06,070
that are not holes and you're like Aaron

00:22:04,420 --> 00:22:08,530
what does a whole I'll show you what a

00:22:06,070 --> 00:22:10,480
hole is so on the outside here we have a

00:22:08,530 --> 00:22:12,430
contour and on the inside we have a

00:22:10,480 --> 00:22:15,430
whole what opens TV considers to be a

00:22:12,430 --> 00:22:18,370
hole so a whole is something that is a

00:22:15,430 --> 00:22:20,320
hole in your outer contour or lack of a

00:22:18,370 --> 00:22:22,360
better explanation so that little that

00:22:20,320 --> 00:22:24,730
box there around the text is considered

00:22:22,360 --> 00:22:27,100
a hole around that outer contour so I

00:22:24,730 --> 00:22:29,200
only want the outer contours and this is

00:22:27,100 --> 00:22:32,140
what opencv thinks is all the contours

00:22:29,200 --> 00:22:33,880
on the image so the next thing I need to

00:22:32,140 --> 00:22:36,070
do is like well I want the largest

00:22:33,880 --> 00:22:38,890
contour there so I say okay just give me

00:22:36,070 --> 00:22:40,720
the max one you can ask a contour for

00:22:38,890 --> 00:22:42,690
its area get the area of the contour

00:22:40,720 --> 00:22:44,650
just give me the biggest one and then

00:22:42,690 --> 00:22:46,660
it's probably hard to see here but

00:22:44,650 --> 00:22:50,320
you'll see like the biggest contour is

00:22:46,660 --> 00:22:52,270
that line that's around the card so now

00:22:50,320 --> 00:22:54,750
that I have this contour this contour is

00:22:52,270 --> 00:22:57,280
just an object that represents that

00:22:54,750 --> 00:22:59,260
singular contour around the card that's

00:22:57,280 --> 00:23:01,150
all it represents but what I need is I

00:22:59,260 --> 00:23:02,680
need to get a polygon out of this so

00:23:01,150 --> 00:23:06,190
that I can cut the polygon out of the

00:23:02,680 --> 00:23:08,170
image so I say okay opencv tell me what

00:23:06,190 --> 00:23:10,540
the tell me what the polygon is here and

00:23:08,170 --> 00:23:12,640
this is a give me a polygon for this

00:23:10,540 --> 00:23:15,520
particular contour and what's extremely

00:23:12,640 --> 00:23:17,260
exciting is you say like okay give me a

00:23:15,520 --> 00:23:19,630
polygon give you a convex hull for that

00:23:17,260 --> 00:23:22,120
and if you go look at the C code for

00:23:19,630 --> 00:23:23,650
this it has a flag that says like okay I

00:23:22,120 --> 00:23:25,510
want these points to be in clockwise

00:23:23,650 --> 00:23:27,190
order so you get a list of points back

00:23:25,510 --> 00:23:30,820
and the points are supposed to be

00:23:27,190 --> 00:23:32,860
ordered clockwise the exciting very

00:23:30,820 --> 00:23:35,680
extremely exciting thing about this code

00:23:32,860 --> 00:23:39,150
is that it gives them to you in

00:23:35,680 --> 00:23:39,150
counterclockwise order

00:23:39,220 --> 00:23:44,390
which is why I had to reverse them

00:23:42,040 --> 00:23:45,980
because it was the wrong direction I

00:23:44,390 --> 00:23:47,780
don't know I seriously don't know why

00:23:45,980 --> 00:23:51,070
there's literally a constant it's like

00:23:47,780 --> 00:23:54,410
okay clockwise and it's not clockwise

00:23:51,070 --> 00:23:56,060
anyway so I get that I get the points in

00:23:54,410 --> 00:23:58,010
clockwise order and if you get booked at

00:23:56,060 --> 00:23:59,330
it plot it here like we get right there

00:23:58,010 --> 00:24:02,870
the four corners of the card that's

00:23:59,330 --> 00:24:05,060
exactly what we want so the next problem

00:24:02,870 --> 00:24:07,910
we have to solve with this is that this

00:24:05,060 --> 00:24:11,000
is not this is not rectangular it's just

00:24:07,910 --> 00:24:13,130
some weird I guess trapezoid type image

00:24:11,000 --> 00:24:16,820
we need a rectangular shape out of it so

00:24:13,130 --> 00:24:18,800
what we say is we say hey opencv give me

00:24:16,820 --> 00:24:20,660
a warp matrix and what this is is I say

00:24:18,800 --> 00:24:23,090
like okay I want a particular rectangle

00:24:20,660 --> 00:24:24,980
I want these particular dimensions give

00:24:23,090 --> 00:24:26,210
me a matrix for warping the image such

00:24:24,980 --> 00:24:28,700
that it will end up with these

00:24:26,210 --> 00:24:30,740
particular dimensions so we said this is

00:24:28,700 --> 00:24:35,030
the this is the code to do that gives us

00:24:30,740 --> 00:24:37,280
a warp matrix amazing so then we we warp

00:24:35,030 --> 00:24:39,110
the image with that matrix and then we

00:24:37,280 --> 00:24:41,120
end up with this so the image looks

00:24:39,110 --> 00:24:42,530
totally weird but you can see up there

00:24:41,120 --> 00:24:46,190
in the upper left hand corner we have

00:24:42,530 --> 00:24:48,920
the image placed at zero zero and it is

00:24:46,190 --> 00:24:52,040
now rectangular and we can say okay I

00:24:48,920 --> 00:24:54,350
need a return on investment that may

00:24:52,040 --> 00:24:58,430
actually that may actually stand for

00:24:54,350 --> 00:25:00,560
region of interest and I care about that

00:24:58,430 --> 00:25:02,960
upper left hand corner and then we

00:25:00,560 --> 00:25:04,700
finally get the image out of there so

00:25:02,960 --> 00:25:06,530
now we can actually do card matching

00:25:04,700 --> 00:25:09,110
with this we get that we've got that

00:25:06,530 --> 00:25:10,550
image we can actually match cards now so

00:25:09,110 --> 00:25:12,410
we look up we get the Hamming distance

00:25:10,550 --> 00:25:14,810
for this feed the Hamming distance into

00:25:12,410 --> 00:25:16,880
the database sort everything and then we

00:25:14,810 --> 00:25:18,620
can say like once we find a match we can

00:25:16,880 --> 00:25:20,060
save the card and again I'm going to

00:25:18,620 --> 00:25:21,530
completely hand wave over saving the

00:25:20,060 --> 00:25:26,270
card because i only have five minutes

00:25:21,530 --> 00:25:28,670
left so yeah anyway so this is what this

00:25:26,270 --> 00:25:30,590
is what it looks like in the outcome

00:25:28,670 --> 00:25:33,770
here is like okay great it'll find the

00:25:30,590 --> 00:25:35,840
card we save the card and you'll see you

00:25:33,770 --> 00:25:37,400
can see in this example it becomes part

00:25:35,840 --> 00:25:39,050
of the corpus after we save it so as

00:25:37,400 --> 00:25:42,020
soon as I saved it now we have two of

00:25:39,050 --> 00:25:43,580
those cards there right so as soon as

00:25:42,020 --> 00:25:45,440
you save it it becomes part of the

00:25:43,580 --> 00:25:48,560
corpus and it gets smarter about finding

00:25:45,440 --> 00:25:50,240
these now after this I'm able to answer

00:25:48,560 --> 00:25:51,680
the questions now now I can finally

00:25:50,240 --> 00:25:52,130
answer the questions you know what do I

00:25:51,680 --> 00:25:54,650
have

00:25:52,130 --> 00:25:57,560
with this query I know exactly the cards

00:25:54,650 --> 00:25:59,210
i have and i can also say like how good

00:25:57,560 --> 00:26:01,360
are they i can order by raiding and i

00:25:59,210 --> 00:26:04,280
know like well okay this is my best card

00:26:01,360 --> 00:26:05,930
and this is my worst card and for those

00:26:04,280 --> 00:26:10,700
of you that play magic this card is

00:26:05,930 --> 00:26:12,620
really this super terrible anyway I how

00:26:10,700 --> 00:26:13,780
much is for how much they're worth um I

00:26:12,620 --> 00:26:15,890
can't I still can't tell you that

00:26:13,780 --> 00:26:17,720
because I haven't integrated with any

00:26:15,890 --> 00:26:19,250
pricing systems yet like I've been

00:26:17,720 --> 00:26:21,920
looking into that I don't I don't have

00:26:19,250 --> 00:26:22,880
that yet some of the challenges like I

00:26:21,920 --> 00:26:24,530
want to talk about some of the

00:26:22,880 --> 00:26:26,450
challenges with a system like this is

00:26:24,530 --> 00:26:29,360
one of the challenges is time to focus

00:26:26,450 --> 00:26:32,630
so this webcam takes forever to focus if

00:26:29,360 --> 00:26:35,840
you look at when I set a card down over

00:26:32,630 --> 00:26:38,120
here if we look at the live feed you'll

00:26:35,840 --> 00:26:41,660
see like I set the card down and it's

00:26:38,120 --> 00:26:43,880
like okay focus focus focus up there we

00:26:41,660 --> 00:26:48,260
go now I can identify it and when you

00:26:43,880 --> 00:26:50,060
have 6,000 cards to identify that like

00:26:48,260 --> 00:26:52,820
second or whatever that it takes there

00:26:50,060 --> 00:26:54,170
is it seems like a millennium the next

00:26:52,820 --> 00:26:56,660
thing we have the next problem we have

00:26:54,170 --> 00:26:59,750
is total failure so like I'll put a card

00:26:56,660 --> 00:27:01,820
in and the systems like I have no idea

00:26:59,750 --> 00:27:03,800
what that is you'll see those three

00:27:01,820 --> 00:27:05,870
cards on the Left thirds always changing

00:27:03,800 --> 00:27:08,210
it has no idea what it is it can't

00:27:05,870 --> 00:27:10,040
identify it and in that case I actually

00:27:08,210 --> 00:27:11,870
have to teach the system manually I have

00:27:10,040 --> 00:27:13,730
to be like okay hey system this card is

00:27:11,870 --> 00:27:15,500
actually one of these images the good

00:27:13,730 --> 00:27:17,450
news though is that after i teach it the

00:27:15,500 --> 00:27:21,080
first time the next time it gets it

00:27:17,450 --> 00:27:26,090
right so get smarter the next problem is

00:27:21,080 --> 00:27:32,030
similar artwork so these are all

00:27:26,090 --> 00:27:33,710
different cards they're all so they're

00:27:32,030 --> 00:27:35,270
all the same card they're just from

00:27:33,710 --> 00:27:37,850
different sets right but they're

00:27:35,270 --> 00:27:41,030
extremely similar so my systems like ah

00:27:37,850 --> 00:27:42,740
they look they look exactly the same I'm

00:27:41,030 --> 00:27:44,720
not sure which one this is and I have to

00:27:42,740 --> 00:27:46,250
tell it the right one the other problem

00:27:44,720 --> 00:27:49,630
is the cat keeps moving stuff around

00:27:46,250 --> 00:27:51,830
it's kind of annoying plays with that

00:27:49,630 --> 00:27:55,340
anyway so this is the stuff that I've

00:27:51,830 --> 00:27:58,040
been working on hopefully you can use

00:27:55,340 --> 00:28:01,960
some of the stuff maybe the promises i

00:27:58,040 --> 00:28:01,960
have no idea anyway thank you very much

00:28:31,990 --> 00:28:34,990
Cheers

00:28:45,180 --> 00:28:47,240

YouTube URL: https://www.youtube.com/watch?v=pIC35tsfUmw


