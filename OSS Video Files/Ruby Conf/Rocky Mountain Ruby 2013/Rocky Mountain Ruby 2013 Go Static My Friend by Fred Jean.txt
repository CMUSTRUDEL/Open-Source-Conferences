Title: Rocky Mountain Ruby 2013 Go Static My Friend by Fred Jean
Publication date: 2020-01-27
Playlist: Rocky Mountain Ruby 2013
Description: 
	In the beginning was the static resource, and it was good. It was easy to reason about. It was easy to host, once you got over the hurdle of getting an internet connection and installing a web server. It just wasn't very... dynamic. So we started a journey to build increasingly dynamic web sites. This leads to increasingly complex infrastructure used to host what are basically content-only web sites.

Middleman allows us to return to simpler days by building data driven sites. It provides elements that Ruby on Rails developers are familiar and comfortable with such as layouts, templates and partials. Amazon S3 gives us a great, highly available and very cost effective way to host the resulting site.

This talk will focus on how to use Middleman to build a data driven site and publish it to S3.

Help us caption & translate this video!

http://amara.org/v/FG7O/
Captions: 
	00:00:29,960 --> 00:00:39,690
okay so this sounds ominous but I don't

00:00:36,570 --> 00:00:41,280
quite go quite as far as and he just did

00:00:39,690 --> 00:00:45,420
that just go to the beginning of the web

00:00:41,280 --> 00:00:48,390
here with tim berners-lee during the

00:00:45,420 --> 00:00:50,480
days of the web we didn't have dynamic

00:00:48,390 --> 00:00:52,380
applications all we had was static files

00:00:50,480 --> 00:00:54,989
naturally the first thing that Tim

00:00:52,380 --> 00:00:59,040
berners-lee put together was just some

00:00:54,989 --> 00:01:00,629
basic HTML are some links and some basic

00:00:59,040 --> 00:01:02,879
calls to initially be server that ran in

00:01:00,629 --> 00:01:09,149
the next work station saying buy em some

00:01:02,879 --> 00:01:12,810
on his desk we quickly no we saw with

00:01:09,149 --> 00:01:15,630
static websites we start quickly started

00:01:12,810 --> 00:01:17,700
to look at other options which are to

00:01:15,630 --> 00:01:19,859
generate content on the fly or via

00:01:17,700 --> 00:01:22,350
strips so that we could for example

00:01:19,859 --> 00:01:24,719
nomas are not the words coffee in the

00:01:22,350 --> 00:01:26,639
CERN Stargell room and not have to go

00:01:24,719 --> 00:01:28,350
down to the rooms we build different

00:01:26,639 --> 00:01:31,770
scripts to generate information about

00:01:28,350 --> 00:01:33,659
weather and other data we figure out how

00:01:31,770 --> 00:01:37,049
to write one of occasions using things

00:01:33,659 --> 00:01:39,389
like CGI pearl strips shell scripts and

00:01:37,049 --> 00:01:41,429
so on so that we could do it right on

00:01:39,389 --> 00:01:49,680
the fly as part of a request response

00:01:41,429 --> 00:01:52,320
cycle and these applications grew until

00:01:49,680 --> 00:01:54,240
they needed some more content so they

00:01:52,320 --> 00:01:56,250
need some databases so we could go ahead

00:01:54,240 --> 00:02:00,480
and say here's the content I need to

00:01:56,250 --> 00:02:03,360
present these days using data stores no

00:02:00,480 --> 00:02:07,229
sequel and so on and we keep having to

00:02:03,360 --> 00:02:11,130
grow and scale and what we're learning

00:02:07,229 --> 00:02:12,660
here is that scaling is hard are you go

00:02:11,130 --> 00:02:14,190
in and you start with a web server in a

00:02:12,660 --> 00:02:16,620
database on the same machine your laptop

00:02:14,190 --> 00:02:19,320
as you write applications you start to

00:02:16,620 --> 00:02:20,880
go ahead and push them out and you need

00:02:19,320 --> 00:02:23,160
another web server you need another

00:02:20,880 --> 00:02:24,810
database server you go to you have

00:02:23,160 --> 00:02:27,450
a bigger sets and you have chartered

00:02:24,810 --> 00:02:29,310
clusters and soon you have a small

00:02:27,450 --> 00:02:31,440
nightmare to manage and you start to

00:02:29,310 --> 00:02:35,220
look like this and sometimes you need it

00:02:31,440 --> 00:02:37,050
if you are Twitter Facebook github you

00:02:35,220 --> 00:02:38,370
need a complexity just to handle the

00:02:37,050 --> 00:02:41,150
traffic just to handle what you need to

00:02:38,370 --> 00:02:44,070
push out if you're the Obama campaign

00:02:41,150 --> 00:02:45,630
you do need as well the complexity is

00:02:44,070 --> 00:02:49,560
just a few track everybody you're

00:02:45,630 --> 00:02:53,400
talking to we however don't all need

00:02:49,560 --> 00:02:55,110
that sometimes in some cases you might

00:02:53,400 --> 00:02:58,320
be able to get away with just generate

00:02:55,110 --> 00:03:00,660
some static content you might be able to

00:02:58,320 --> 00:03:02,430
get away with this by not having a

00:03:00,660 --> 00:03:05,400
database not having another store just

00:03:02,430 --> 00:03:07,160
having data like you pull from a file

00:03:05,400 --> 00:03:12,030
system that you use to build your site

00:03:07,160 --> 00:03:14,040
and these days thanks to amazon and

00:03:12,030 --> 00:03:16,830
other service providers you don't even

00:03:14,040 --> 00:03:18,180
have to run your own servers or even

00:03:16,830 --> 00:03:22,260
your own instances in the cloud you can

00:03:18,180 --> 00:03:24,090
push it out to s3 and not have to worry

00:03:22,260 --> 00:03:28,739
about things like scalability weblog

00:03:24,090 --> 00:03:31,049
load balancers and so on today i'll talk

00:03:28,739 --> 00:03:35,579
about a tool called middlemen which is

00:03:31,049 --> 00:03:38,130
greater doing all these things so what

00:03:35,579 --> 00:03:40,230
is milliman it's the static site

00:03:38,130 --> 00:03:43,769
generator there's a few of those around

00:03:40,230 --> 00:03:45,180
if you are part of the github community

00:03:43,769 --> 00:03:48,810
you probably know about there are pages

00:03:45,180 --> 00:03:50,430
in Jack L other press and so on one nice

00:03:48,810 --> 00:03:53,010
thing here is Milliman this bill on top

00:03:50,430 --> 00:03:56,310
of padrino which is kind of a sibling of

00:03:53,010 --> 00:03:58,859
rails it takes sinatra and it puts

00:03:56,310 --> 00:04:02,280
together some data access some do layers

00:03:58,859 --> 00:04:03,420
and integrates it nicely great thing

00:04:02,280 --> 00:04:06,360
about sinatra it's a

00:04:03,420 --> 00:04:07,830
out it's a rack application which has

00:04:06,360 --> 00:04:11,360
some great implications and we'll talk

00:04:07,830 --> 00:04:11,360
about some of those through the talk

00:04:12,560 --> 00:04:19,590
milliman is all about the view later as

00:04:17,419 --> 00:04:20,940
you have a select site you don't have

00:04:19,590 --> 00:04:23,790
controllers you don't have access to

00:04:20,940 --> 00:04:29,520
data base so all that minimum and

00:04:23,790 --> 00:04:31,440
focuses on is how to build a view so you

00:04:29,520 --> 00:04:33,360
basically have things like templates and

00:04:31,440 --> 00:04:34,889
layouts and partials seems like you're

00:04:33,360 --> 00:04:37,169
already comfortable with if you are else

00:04:34,889 --> 00:04:39,090
the barber you also have you helpers

00:04:37,169 --> 00:04:41,490
which are great to be able to dry up

00:04:39,090 --> 00:04:46,080
your templates I will see some of those

00:04:41,490 --> 00:04:48,090
moving forward there's a few templating

00:04:46,080 --> 00:04:50,280
options so if you're doing rails apps

00:04:48,090 --> 00:04:53,940
you already know about ER be your

00:04:50,280 --> 00:04:56,370
priority are using robisz Hamels also a

00:04:53,940 --> 00:04:58,830
great option if you like to take out all

00:04:56,370 --> 00:05:00,840
the chatter from your templates are

00:04:58,830 --> 00:05:04,169
markdown is great if you have straight

00:05:00,840 --> 00:05:06,600
content I remember blog a middleman and

00:05:04,169 --> 00:05:08,430
I use markdown for the content we're so

00:05:06,600 --> 00:05:11,460
easy to just have to think through the

00:05:08,430 --> 00:05:13,590
content itself maybe some details about

00:05:11,460 --> 00:05:16,220
styling but not have to focus on the

00:05:13,590 --> 00:05:18,870
details of what tags are using and

00:05:16,220 --> 00:05:22,289
there's a few others thermoelectric if

00:05:18,870 --> 00:05:23,550
you like that kind of stuff a nice thing

00:05:22,289 --> 00:05:26,729
about the templates is there they are

00:05:23,550 --> 00:05:31,680
composable you can go ahead and for

00:05:26,729 --> 00:05:33,479
example use er be to insert I values

00:05:31,680 --> 00:05:34,830
into your markdown template before you

00:05:33,479 --> 00:05:38,940
pass it to mark down then turn it turn

00:05:34,830 --> 00:05:40,830
next in HTML document it reads from

00:05:38,940 --> 00:05:43,979
right to left so you start with er be

00:05:40,830 --> 00:05:45,600
mark down and then the index itself or

00:05:43,979 --> 00:05:48,000
probably more familiar with ER be no

00:05:45,600 --> 00:05:52,590
index 2.html that er be as a way to

00:05:48,000 --> 00:05:54,900
present it one we don't have access to a

00:05:52,590 --> 00:05:57,440
database when the site is deployed and

00:05:54,900 --> 00:06:00,000
running we do have access to data and

00:05:57,440 --> 00:06:02,220
we'll go into more details further down

00:06:00,000 --> 00:06:05,400
a nice thing with middlemen is its

00:06:02,220 --> 00:06:08,190
configuration driven since you don't

00:06:05,400 --> 00:06:10,139
have a controller on your application on

00:06:08,190 --> 00:06:12,690
your website you can just go ahead and

00:06:10,139 --> 00:06:16,349
tell income fig for example what path

00:06:12,690 --> 00:06:17,110
you have which basket generates but also

00:06:16,349 --> 00:06:19,570
for exam

00:06:17,110 --> 00:06:22,420
what extensions to load and how to build

00:06:19,570 --> 00:06:28,090
your site and we'll throw some of those

00:06:22,420 --> 00:06:29,920
examples as well for sit down so we'll

00:06:28,090 --> 00:06:31,990
start with this here so this is the

00:06:29,920 --> 00:06:34,030
development cycle you're building a site

00:06:31,990 --> 00:06:36,970
you have some content you want to put

00:06:34,030 --> 00:06:41,890
out and what we're doing here is running

00:06:36,970 --> 00:06:44,080
it I have a Freddy contrived example of

00:06:41,890 --> 00:06:46,420
a simple team page that I've put

00:06:44,080 --> 00:06:48,490
together for this talk it's pretty

00:06:46,420 --> 00:06:50,620
simple we have an index few pictures

00:06:48,490 --> 00:06:53,550
some links we have some detail pages

00:06:50,620 --> 00:06:59,550
down and all this is that are driven

00:06:53,550 --> 00:07:06,370
this is all running right now right here

00:06:59,550 --> 00:07:07,780
by default by default minimun uses the

00:07:06,370 --> 00:07:10,210
same port us in our tracks or four five

00:07:07,780 --> 00:07:12,850
six seven but my presentation is also

00:07:10,210 --> 00:07:15,670
writing a minimun so I borrowed four

00:07:12,850 --> 00:07:19,090
five six eight this is all you have to

00:07:15,670 --> 00:07:24,580
do just run Milliman server and you're

00:07:19,090 --> 00:07:27,820
ready to go and then fabric app will see

00:07:24,580 --> 00:07:34,510
that this is how I'm running the page

00:07:27,820 --> 00:07:37,600
right now so when you run the tool what

00:07:34,510 --> 00:07:41,920
happens is that middle men boots up Iraq

00:07:37,600 --> 00:07:43,120
application and runs it rolls automate

00:07:41,920 --> 00:07:45,850
awareness may have configured in the

00:07:43,120 --> 00:07:46,960
config file and then you access it like

00:07:45,850 --> 00:07:48,580
you would normally another right

00:07:46,960 --> 00:07:54,430
application it's an entire app or rails

00:07:48,580 --> 00:07:56,290
app at this point it's still dynamic our

00:07:54,430 --> 00:07:59,290
Milliman has some ability to provide

00:07:56,290 --> 00:08:00,760
some data so there's a front matter the

00:07:59,290 --> 00:08:02,290
formatter is great it's going to made a

00:08:00,760 --> 00:08:04,630
data for your page you just look at at

00:08:02,290 --> 00:08:07,150
the current page what is running right

00:08:04,630 --> 00:08:09,760
now you can get to it we are a helper

00:08:07,150 --> 00:08:15,160
crawl current page and the helper has a

00:08:09,760 --> 00:08:17,970
method called data and this is what it

00:08:15,160 --> 00:08:20,970
looks like so here we have it in llamo

00:08:17,970 --> 00:08:23,620
this is a simple team page for example

00:08:20,970 --> 00:08:25,630
it's great also for tags it's right for

00:08:23,620 --> 00:08:28,360
as I saying they give me only put in the

00:08:25,630 --> 00:08:30,879
page information like title

00:08:28,360 --> 00:08:32,740
which layout you want to use so the

00:08:30,879 --> 00:08:36,310
blogging engine uses that information as

00:08:32,740 --> 00:08:39,310
well if you're into Jason you can use

00:08:36,310 --> 00:08:40,839
Jason as well similar syntax it just

00:08:39,310 --> 00:08:43,479
looks a little bit different here so you

00:08:40,839 --> 00:08:45,190
have the title the sample page have been

00:08:43,479 --> 00:08:47,740
in Ruby for a few years I actually

00:08:45,190 --> 00:08:52,779
prefer the yellow version personally but

00:08:47,740 --> 00:08:54,850
it matter of taste we see here we can

00:08:52,779 --> 00:08:56,890
use the current page to get the data in

00:08:54,850 --> 00:09:04,839
the title and this is what it becomes

00:08:56,890 --> 00:09:09,370
based on the data so in the page this is

00:09:04,839 --> 00:09:15,040
what it looks like we can see around on

00:09:09,370 --> 00:09:20,980
top here we have the we have the tunnels

00:09:15,040 --> 00:09:22,959
being defined when the page is loaded we

00:09:20,980 --> 00:09:31,570
can see in the tab here the title bin

00:09:22,959 --> 00:09:33,490
set so far matter is great from metadata

00:09:31,570 --> 00:09:35,500
can suffer you can just provide

00:09:33,490 --> 00:09:38,050
information about the page but the nice

00:09:35,500 --> 00:09:41,579
part about building the data driven site

00:09:38,050 --> 00:09:45,640
is you can use actual data to build it

00:09:41,579 --> 00:09:47,649
so for example you can use local data in

00:09:45,640 --> 00:09:50,890
Metal Men which is just a set of JSON

00:09:47,649 --> 00:09:54,220
files or llamo again it's based on your

00:09:50,890 --> 00:09:58,209
matter of taste and it's stored in your

00:09:54,220 --> 00:10:00,310
project on the data and is available

00:09:58,209 --> 00:10:05,140
whether the data helper and this is what

00:10:00,310 --> 00:10:06,850
it looks like in the project so here in

00:10:05,140 --> 00:10:08,829
my project I have a data file a data

00:10:06,850 --> 00:10:13,529
directory and there's a team that llamo

00:10:08,829 --> 00:10:13,529
file that i can read as a bell my page

00:10:16,980 --> 00:10:21,910
you can in this case we have a team that

00:10:19,990 --> 00:10:24,600
Yama file and this is what exactly it

00:10:21,910 --> 00:10:24,600
looks like

00:10:29,350 --> 00:10:35,180
there we go so you know you have any

00:10:33,920 --> 00:10:37,970
fields if you want so in this case I

00:10:35,180 --> 00:10:39,920
have a slug a name our title that's is

00:10:37,970 --> 00:10:45,339
fine there in a bit of a bio which I

00:10:39,920 --> 00:10:49,970
borrowed from 04 where I used to work

00:10:45,339 --> 00:10:51,889
that data is passed to the page so you

00:10:49,970 --> 00:10:53,360
go in and for example if you have to

00:10:51,889 --> 00:10:55,519
build an index page of all the team

00:10:53,360 --> 00:11:00,350
members you go in essay form for each of

00:10:55,519 --> 00:11:03,439
the items in my team local data do the

00:11:00,350 --> 00:11:06,199
following so in this case we're adding

00:11:03,439 --> 00:11:09,740
an image tag so we can have a picture

00:11:06,199 --> 00:11:12,139
displayed and we go ahead and add a link

00:11:09,740 --> 00:11:14,600
so we can do a page further down and

00:11:12,139 --> 00:11:22,399
we'll see a bit more about that in a few

00:11:14,600 --> 00:11:25,250
moments once you render it it looks just

00:11:22,399 --> 00:11:28,339
like this so in this case I have the

00:11:25,250 --> 00:11:31,490
central sample team page with myself on

00:11:28,339 --> 00:11:33,800
top and my innate a link to a detail

00:11:31,490 --> 00:11:36,230
page and other team members that people

00:11:33,800 --> 00:11:41,060
are used to work with so a few months

00:11:36,230 --> 00:11:42,230
ago few weeks ago it's nice that you

00:11:41,060 --> 00:11:44,389
have the ability to draw ahead and say

00:11:42,230 --> 00:11:45,889
well here's some data to put on the page

00:11:44,389 --> 00:11:48,889
but the nice thing about members you can

00:11:45,889 --> 00:11:52,220
actually generate pages other people can

00:11:48,889 --> 00:11:54,199
go to so if you have multiple team

00:11:52,220 --> 00:11:56,689
members of your team each member can

00:11:54,199 --> 00:12:01,250
have its own page you do this in the

00:11:56,689 --> 00:12:02,689
configuration pay file and you say for

00:12:01,250 --> 00:12:04,819
each of the team members go ahead and

00:12:02,689 --> 00:12:10,309
create this page create this no I just

00:12:04,819 --> 00:12:15,230
location so the team members a link use

00:12:10,309 --> 00:12:17,839
the team template and then pass

00:12:15,230 --> 00:12:20,990
environments to it and this is what the

00:12:17,839 --> 00:12:22,850
team template looks like oh it will

00:12:20,990 --> 00:12:25,189
create pages looks just like this so we

00:12:22,850 --> 00:12:29,050
had Fred Peter Anthony it will create

00:12:25,189 --> 00:12:34,759
links to those pages in the file system

00:12:29,050 --> 00:12:37,520
and this is how you use the data here as

00:12:34,759 --> 00:12:46,140
you build your page

00:12:37,520 --> 00:12:50,700
so in my project on the source team team

00:12:46,140 --> 00:12:52,920
the HTML I go ahead and build a page for

00:12:50,700 --> 00:12:54,660
an additional team member here so in

00:12:52,920 --> 00:12:56,880
this case I create a section with image

00:12:54,660 --> 00:12:58,590
tag and so on and an aside blog to be

00:12:56,880 --> 00:13:02,640
able to say well this these are the

00:12:58,590 --> 00:13:06,450
links to other things if I go back to my

00:13:02,640 --> 00:13:07,890
sample page click here here's the

00:13:06,450 --> 00:13:10,050
information I have the value of one

00:13:07,890 --> 00:13:11,940
other fun stuff so this is generated

00:13:10,050 --> 00:13:22,380
dynamically I can go in and change my

00:13:11,940 --> 00:13:28,220
data and change the content so I to go

00:13:22,380 --> 00:13:28,220
by Fred if I go here and reload

00:13:36,630 --> 00:13:42,650
there we go it will go ahead and show

00:13:38,970 --> 00:13:47,760
Fred Jean here and if I take on the link

00:13:42,650 --> 00:13:57,690
it should have updated it's the demo

00:13:47,760 --> 00:13:59,340
dads so when your patients generator you

00:13:57,690 --> 00:14:01,140
can see here that all the placeholders

00:13:59,340 --> 00:14:03,930
have been replaced so we have the link

00:14:01,140 --> 00:14:08,190
to the image we had on top the link to

00:14:03,930 --> 00:14:12,570
my github profile and others things that

00:14:08,190 --> 00:14:14,430
are provided it's all good so so far

00:14:12,570 --> 00:14:16,980
there's no real benefits to minimum

00:14:14,430 --> 00:14:18,630
beyond a rails app all you're doing is

00:14:16,980 --> 00:14:22,260
accessing a server that's during a

00:14:18,630 --> 00:14:24,720
content as you go but that's just the

00:14:22,260 --> 00:14:28,110
ability to do things as part of the

00:14:24,720 --> 00:14:30,810
build cycle what we're going to do next

00:14:28,110 --> 00:14:35,130
is take that content and package it into

00:14:30,810 --> 00:14:38,100
a set of HTML and CSS files so we go

00:14:35,130 --> 00:14:48,120
here I happen to have a shell hide

00:14:38,100 --> 00:14:51,210
hidden here and i will build it so what

00:14:48,120 --> 00:14:53,040
the bill tremendas is again boots up the

00:14:51,210 --> 00:14:54,210
stack starts the application and

00:14:53,040 --> 00:14:58,050
certainly male where you have configured

00:14:54,210 --> 00:14:59,460
and it walks through the site map which

00:14:58,050 --> 00:15:01,890
is a data structure an amendment

00:14:59,460 --> 00:15:04,560
maintains that is a pointer in the link

00:15:01,890 --> 00:15:07,410
to all the sites that you have all the

00:15:04,560 --> 00:15:09,900
pages that you have on your site it goes

00:15:07,410 --> 00:15:12,830
some cleanup applies different

00:15:09,900 --> 00:15:15,660
extensions to it and you end up with

00:15:12,830 --> 00:15:21,770
select content so this point i could say

00:15:15,660 --> 00:15:21,770
open build team

00:15:24,019 --> 00:15:27,769
and again it goes literally using the

00:15:26,149 --> 00:15:30,100
file URL and then the pictures are

00:15:27,769 --> 00:15:30,100
showing up

00:15:35,430 --> 00:15:39,910
one thing that happened here is as I was

00:15:37,990 --> 00:15:42,190
building the site is applied a bunch of

00:15:39,910 --> 00:15:44,920
extensions things that help us either

00:15:42,190 --> 00:15:48,340
optimize the page or change the content

00:15:44,920 --> 00:15:50,560
as it goes milliman comes with a lot of

00:15:48,340 --> 00:15:54,340
very helpful page optimization tools

00:15:50,560 --> 00:15:56,260
such as minifying CSS and your

00:15:54,340 --> 00:15:57,970
javascript special you can smudge the

00:15:56,260 --> 00:16:02,020
images that you have so that they are

00:15:57,970 --> 00:16:04,060
optimized for the website you can go

00:16:02,020 --> 00:16:06,550
ahead also magnify the HTML take out all

00:16:04,060 --> 00:16:08,890
this extra white space calls everything

00:16:06,550 --> 00:16:11,560
you don't need to still generate

00:16:08,890 --> 00:16:16,450
compliant HTML that we can build up at a

00:16:11,560 --> 00:16:19,660
point when my favorite one is using gzip

00:16:16,450 --> 00:16:22,140
to compress your text content so that it

00:16:19,660 --> 00:16:24,850
takes a lot less bandwidth going down

00:16:22,140 --> 00:16:27,220
now so do things like manage assets so

00:16:24,850 --> 00:16:29,260
dealing with Pastor your assets so you

00:16:27,220 --> 00:16:30,850
can have a relative path as you build

00:16:29,260 --> 00:16:33,490
content that has a major especially with

00:16:30,850 --> 00:16:36,310
pages for example or using acid hash

00:16:33,490 --> 00:16:38,230
which make it easier to cash with an

00:16:36,310 --> 00:16:40,480
asset hash it puts the fingerprint on a

00:16:38,230 --> 00:16:42,550
document and adds it up I me a lot of

00:16:40,480 --> 00:16:44,800
these things are also happening if you

00:16:42,550 --> 00:16:46,690
in rails you have the except I plans he

00:16:44,800 --> 00:16:51,280
has prac at the same tools also

00:16:46,690 --> 00:16:53,020
available in middlemen and the whole

00:16:51,280 --> 00:16:54,760
reason you do this is beside being

00:16:53,020 --> 00:16:56,860
nicely user trying to have a page that

00:16:54,760 --> 00:16:58,660
loads faster it saves you money because

00:16:56,860 --> 00:17:04,810
you use that spent with and that's

00:16:58,660 --> 00:17:08,079
storage so once we've work on the site

00:17:04,810 --> 00:17:09,880
we built it it's all dynamic it's all

00:17:08,079 --> 00:17:12,640
HTML this point install select content

00:17:09,880 --> 00:17:15,130
we still need to publish it somehow at

00:17:12,640 --> 00:17:19,260
that point we have not yet pushed it out

00:17:15,130 --> 00:17:22,810
so we will change only later or laptop

00:17:19,260 --> 00:17:25,870
and this is a seven to take here so i

00:17:22,810 --> 00:17:28,870
wrote a nifty gem a few months ago

00:17:25,870 --> 00:17:31,360
working for the dojo for tell us to just

00:17:28,870 --> 00:17:32,680
make sure we push what we needed for one

00:17:31,360 --> 00:17:35,170
of our clients i had a relatively large

00:17:32,680 --> 00:17:37,510
website at a time line here as you can

00:17:35,170 --> 00:17:40,720
see is that it's a gemma tries really

00:17:37,510 --> 00:17:44,610
hard let the bush files to s3 but it

00:17:40,720 --> 00:17:44,610
will do so if it must

00:17:45,230 --> 00:17:50,120
so s3 is configured as part of the

00:17:47,330 --> 00:17:52,929
configuration screen here so going back

00:17:50,120 --> 00:17:52,929
to them

00:18:05,430 --> 00:18:11,880
we can go ahead and say as an extension

00:18:08,010 --> 00:18:13,350
activate s3 so that we can then publish

00:18:11,880 --> 00:18:16,140
it to the web site and all we have to do

00:18:13,350 --> 00:18:23,820
is do that which bucket to go to and

00:18:16,140 --> 00:18:25,680
also which region to to reply you do

00:18:23,820 --> 00:18:27,270
have to provide AWS credentials so I

00:18:25,680 --> 00:18:28,770
tend not to put them in my car in the

00:18:27,270 --> 00:18:31,590
RBI put them as part of environment

00:18:28,770 --> 00:18:35,700
variables somebody asked me to implement

00:18:31,590 --> 00:18:38,610
a feature which could drop a s3 that the

00:18:35,700 --> 00:18:41,430
s3 sync file at the root of your project

00:18:38,610 --> 00:18:45,180
be able to load it the main reason here

00:18:41,430 --> 00:18:47,040
is if you have a public get people that

00:18:45,180 --> 00:18:48,600
you're using to host your site you

00:18:47,040 --> 00:18:52,050
probably don't want to provide your exit

00:18:48,600 --> 00:18:56,310
your s3 credentials so this stiff them

00:18:52,050 --> 00:19:00,810
the ability to do just that and then you

00:18:56,310 --> 00:19:12,180
push it so I can go in here go back to

00:19:00,810 --> 00:19:13,770
my shell and say and publish it so s

00:19:12,180 --> 00:19:18,480
three figures out what a nice updates

00:19:13,770 --> 00:19:20,310
and it starts to push them in this case

00:19:18,480 --> 00:19:25,400
we had a couple updates that came from

00:19:20,310 --> 00:19:25,400
Mike change in the team that llamo file

00:19:27,110 --> 00:19:32,640
so now that content is an s3 so nice

00:19:29,700 --> 00:19:33,900
things about s3 sink is beside trying to

00:19:32,640 --> 00:19:37,410
figure only what you need to push it

00:19:33,900 --> 00:19:39,420
also figures make sure that the ACL is

00:19:37,410 --> 00:19:42,150
set properly so that the world can see a

00:19:39,420 --> 00:19:44,760
content it applies some caching headers

00:19:42,150 --> 00:19:46,440
if you need to it goes in it figures out

00:19:44,760 --> 00:19:48,840
if you have gzip files and you want to

00:19:46,440 --> 00:19:51,090
publish those instead of the expended

00:19:48,840 --> 00:19:53,820
files you can push them out and now have

00:19:51,090 --> 00:19:58,620
to know be able to be nicer users and

00:19:53,820 --> 00:20:01,020
provide some compressed content the

00:19:58,620 --> 00:20:03,810
reason why we chose industry for or why

00:20:01,020 --> 00:20:06,960
i chose actually for this is it supports

00:20:03,810 --> 00:20:08,520
acting as a web server and all you have

00:20:06,960 --> 00:20:12,370
to do is take it back at and configure

00:20:08,520 --> 00:20:15,220
it and don't worries i have

00:20:12,370 --> 00:20:17,080
easier to read version of this you go in

00:20:15,220 --> 00:20:19,900
and say well this is index document if

00:20:17,080 --> 00:20:23,380
you don't have a file to provide look

00:20:19,900 --> 00:20:25,600
for index 2.html and if something is

00:20:23,380 --> 00:20:28,300
this an error whether because you are

00:20:25,600 --> 00:20:31,210
not allowed to get to the page you

00:20:28,300 --> 00:20:33,370
forgot to set the ACLS or because you

00:20:31,210 --> 00:20:40,809
can find a page present this as an error

00:20:33,370 --> 00:20:43,300
page once you have your budget set up

00:20:40,809 --> 00:20:46,059
there is a bit of a URL here it's not

00:20:43,300 --> 00:20:47,800
here but entry will give you around you

00:20:46,059 --> 00:20:53,290
can go to to park at it and see how

00:20:47,800 --> 00:20:55,179
things are going you probably don't want

00:20:53,290 --> 00:20:58,179
to use it for actual websites though

00:20:55,179 --> 00:21:00,010
because it's not easy to remember its

00:20:58,179 --> 00:21:03,340
name of your backyard that the region

00:21:00,010 --> 00:21:05,230
the website AWS it's relatively long so

00:21:03,340 --> 00:21:08,350
what you want to do is on a dns to serve

00:21:05,230 --> 00:21:10,270
it one thing here is the hostname view

00:21:08,350 --> 00:21:14,110
pic has to match the bucket name so that

00:21:10,270 --> 00:21:16,330
amazon knows how to route to your place

00:21:14,110 --> 00:21:18,850
in most cases you'll need to sing a

00:21:16,330 --> 00:21:20,710
cname but sometimes if you want to have

00:21:18,850 --> 00:21:22,660
a naked ma the main for example you may

00:21:20,710 --> 00:21:25,720
have to use something from the areas

00:21:22,660 --> 00:21:28,450
which is not standard it is hammer

00:21:25,720 --> 00:21:29,440
supported by ralphs 53 the end simple

00:21:28,450 --> 00:21:31,630
works pretty well and there's also

00:21:29,440 --> 00:21:35,200
another company called the ends DNS Made

00:21:31,630 --> 00:21:37,540
Easy that supports a a name record so

00:21:35,200 --> 00:21:41,080
for example if you have dub dub dub that

00:21:37,540 --> 00:21:42,760
Friday net you don't need an alias you

00:21:41,080 --> 00:21:46,059
can just use a cname if you have fresh

00:21:42,760 --> 00:21:50,770
in net then you need to use alias are

00:21:46,059 --> 00:21:52,750
just some big ratings of DNS and at that

00:21:50,770 --> 00:21:56,110
point people can go into your website

00:21:52,750 --> 00:22:01,780
and access it via the web via the s3

00:21:56,110 --> 00:22:04,240
bucket so here this one is actually

00:22:01,780 --> 00:22:11,470
comes from the packet we've seen Fred

00:22:04,240 --> 00:22:14,250
genus changed and we have there we go we

00:22:11,470 --> 00:22:14,250
have a page updated

00:22:20,800 --> 00:22:27,590
so wrappin up we went ahead and we had a

00:22:26,090 --> 00:22:30,440
workflow will use minimun to build a

00:22:27,590 --> 00:22:35,390
site now a very contrived example of a

00:22:30,440 --> 00:22:40,190
team page we built it package it set up

00:22:35,390 --> 00:22:42,530
as HTML and CSS and JavaScript and we

00:22:40,190 --> 00:22:48,530
publish it to the web where our users

00:22:42,530 --> 00:22:50,270
can go ahead and look at it we can't

00:22:48,530 --> 00:22:51,680
quite go back to the early days of the

00:22:50,270 --> 00:22:53,750
web or everything was just statics and

00:22:51,680 --> 00:22:58,010
documents and links I mean early on they

00:22:53,750 --> 00:22:59,800
didn't have images but we are able with

00:22:58,010 --> 00:23:02,120
a bit of thinking to big different tools

00:22:59,800 --> 00:23:05,360
pick some solutions that match better

00:23:02,120 --> 00:23:07,130
we're trying to do and possibly help us

00:23:05,360 --> 00:23:09,200
make it easier and simpler to serve our

00:23:07,130 --> 00:23:13,280
content it's about our customers and

00:23:09,200 --> 00:23:17,390
their users thank you for your time I'm

00:23:13,280 --> 00:23:21,610
Fredrik or Fred Jean i can be reached

00:23:17,390 --> 00:23:21,610

YouTube URL: https://www.youtube.com/watch?v=wijS-Qlhdf0


