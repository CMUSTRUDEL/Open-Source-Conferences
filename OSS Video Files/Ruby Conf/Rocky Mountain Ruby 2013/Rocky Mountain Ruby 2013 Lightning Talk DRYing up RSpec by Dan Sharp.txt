Title: Rocky Mountain Ruby 2013 Lightning Talk DRYing up RSpec by Dan Sharp
Publication date: 2020-01-27
Playlist: Rocky Mountain Ruby 2013
Description: 
	Help us caption & translate this video!

http://amara.org/v/FG66/
Captions: 
	00:00:07,990 --> 00:00:13,309
right answer about the senior software

00:00:11,389 --> 00:00:19,430
detective you're some random sort of

00:00:13,309 --> 00:00:22,730
providing superdrug in under 20 years

00:00:19,430 --> 00:00:24,670
Ruby for moving right over the issue so

00:00:22,730 --> 00:00:26,900
but I really will need to test him

00:00:24,670 --> 00:00:29,769
seriously hardcore for the last few

00:00:26,900 --> 00:00:34,519
years so I talked about my driving tests

00:00:29,769 --> 00:00:36,229
because to get code makes djs cry this

00:00:34,519 --> 00:00:38,659
can be really fast if I only have three

00:00:36,229 --> 00:00:41,569
minutes some different strategies for

00:00:38,659 --> 00:00:44,780
pestering share examples share contexts

00:00:41,569 --> 00:00:47,690
helper methods including modules looping

00:00:44,780 --> 00:00:49,969
constructs custom actors and fancy movie

00:00:47,690 --> 00:00:53,239
tricks we're set time to go into those

00:00:49,969 --> 00:00:54,649
on the water some quick rules of thumb

00:00:53,239 --> 00:00:56,929
when you're drying up your test don't

00:00:54,649 --> 00:00:59,600
try too early wait for duplication

00:00:56,929 --> 00:01:02,329
before you on you know sacrificing the

00:00:59,600 --> 00:01:04,869
ability or understand it test them just

00:01:02,329 --> 00:01:07,609
exercise code they described intent and

00:01:04,869 --> 00:01:10,640
when I find the easiest place to share

00:01:07,609 --> 00:01:12,380
examples in a support folder but mostly

00:01:10,640 --> 00:01:15,829
it's all routine above the back of the

00:01:12,380 --> 00:01:17,210
review online contagion a shared example

00:01:15,829 --> 00:01:20,060
is a quick way to define like a test

00:01:17,210 --> 00:01:22,429
template a storage of a test run that

00:01:20,060 --> 00:01:25,460
can be applied the another test a good

00:01:22,429 --> 00:01:26,690
r-spec way to try your tests it's best

00:01:25,460 --> 00:01:29,990
use I found

00:01:26,690 --> 00:01:32,990
a common shape my controller tests or

00:01:29,990 --> 00:01:34,520
algorithms or subclasses so a very quick

00:01:32,990 --> 00:01:37,820
example here let's see other typical

00:01:34,520 --> 00:01:41,180
rails controller specs a post on the

00:01:37,820 --> 00:01:43,070
Left row Loretta comments controller you

00:01:41,180 --> 00:01:44,600
could dry them up with a share example

00:01:43,070 --> 00:01:46,700
that describes the things that are

00:01:44,600 --> 00:01:49,460
similar to them and you get something

00:01:46,700 --> 00:01:51,410
that looks nice and simple like this so

00:01:49,460 --> 00:01:54,470
you have you should behave like your

00:01:51,410 --> 00:01:57,320
code is a lot easier to read some really

00:01:54,470 --> 00:02:00,020
fast tips tip one aim them so that they

00:01:57,320 --> 00:02:01,670
can read well like shared example of

00:02:00,020 --> 00:02:02,960
Fibonacci calculator so that your code

00:02:01,670 --> 00:02:05,240
was I was reading in your staff and

00:02:02,960 --> 00:02:07,400
saying it should behave like a Fibonacci

00:02:05,240 --> 00:02:11,330
calculator if you actually named

00:02:07,400 --> 00:02:13,450
important a it reads phone to use the

00:02:11,330 --> 00:02:15,860
described class this gives you a way to

00:02:13,450 --> 00:02:17,990
when you describe the class you're gonna

00:02:15,860 --> 00:02:21,670
test you can then use some rubies magic

00:02:17,990 --> 00:02:24,530
on fertilize concise singular eyes

00:02:21,670 --> 00:02:26,960
separate 53 events and passing variables

00:02:24,530 --> 00:02:28,970
to share examples so you can do fancy

00:02:26,960 --> 00:02:31,190
stuff like that I have a controller

00:02:28,970 --> 00:02:34,150
tests that redirects from different

00:02:31,190 --> 00:02:37,160
place and normal that can pass that in

00:02:34,150 --> 00:02:39,110
24 bearing for the four variants of the

00:02:37,160 --> 00:02:40,400
shared group two of our in the current

00:02:39,110 --> 00:02:42,850
context to they'll create their own

00:02:40,400 --> 00:02:46,280
tested context to just be aware of that

00:02:42,850 --> 00:02:48,230
it's in five Go Green first before you

00:02:46,280 --> 00:02:50,989
do this don't start with your examples

00:02:48,230 --> 00:02:52,910
eat your destiny first so you refractor

00:02:50,989 --> 00:02:54,860
to dry using one of these techniques and

00:02:52,910 --> 00:02:57,200
it stopped the green it's still

00:02:54,860 --> 00:02:59,769
beautiful understandable and that's it

00:02:57,200 --> 00:02:59,769
thank you

00:03:02,640 --> 00:03:04,700

YouTube URL: https://www.youtube.com/watch?v=Ma12X8dj5z8


