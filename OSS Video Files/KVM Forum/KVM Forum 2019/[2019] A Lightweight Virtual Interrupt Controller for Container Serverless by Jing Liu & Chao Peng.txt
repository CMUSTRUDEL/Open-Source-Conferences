Title: [2019] A Lightweight Virtual Interrupt Controller for Container Serverless by Jing Liu & Chao Peng
Publication date: 2019-11-12
Playlist: KVM Forum 2019
Description: 
	On x86 platforms, interrupts are configured and delivered to operating system through either the interrupt controllers(e.g. PIC/APIC) or MSI/MSI-X. Similarly for virtualized x86 system, the same set of technologies are used. However, this is not fundamentally required and for some light weight virtualization usages like Kata Containers and Firecracker, which mainly focus on virtio devices and even MSI/MSI-X is not included due to complexity of PCI, the existing interrupt controllers and interrupt handling flow in both host and guest sides are over-killed. We prototyped a new virtual and simplified interrupt controller which fits current kernel interrupt framework well and meanwhile keeps only minimal code in VMM side. This will present the solution as well as the performance data and demonstrate how it can achieve simple and efficient interrupt handling for virtio-mmio device.

---

Jing Liu
Intel
Software Engineer

Jing Liu is a software engineer working in Intel virtualization team. She focuses on hardware virtualization enabling work and innovation optimization projects for modern cloud in these years. She was once a speaker for colleges in previous company IBM.

Chao Peng
Intel
Senior Software Engineer

Chao Peng is a senior software engineer in Intel virtualization team. His responsibilities include enabling various hardware virtualization features in open source VMM/OS, as well as developing new usages models in virtualization and cloud environment. He was speaker in KVM forum/Xen summit/Linux Conference in past years.

Note: We apologize for lower video quality due to technical problems.
Captions: 
	00:00:00,390 --> 00:00:02,750
[Music]

00:00:07,309 --> 00:00:17,490
okay let's study so this suppose a

00:00:14,700 --> 00:00:19,710
stasis Orissa yeah or is some session is

00:00:17,490 --> 00:00:22,430
to talk about the virtual machine-based

00:00:19,710 --> 00:00:25,680
the container and the service user case

00:00:22,430 --> 00:00:27,900
so from by topic have a focus on the

00:00:25,680 --> 00:00:30,920
device in the rubber virtualization for

00:00:27,900 --> 00:00:30,920
this USD case

00:00:31,369 --> 00:00:38,600
okay so let's quickly go have a recap

00:00:36,180 --> 00:00:43,440
from the interrupt controller available

00:00:38,600 --> 00:00:48,030
x86 platform the first integral

00:00:43,440 --> 00:00:49,440
controller is called peak it has two

00:00:48,030 --> 00:00:52,860
problems first

00:00:49,440 --> 00:00:55,680
it can only support a very limited

00:00:52,860 --> 00:01:01,079
number of the interrupt so typically the

00:00:55,680 --> 00:01:05,640
only support the up to 15 interrupts

00:01:01,079 --> 00:01:08,400
across the the who machines and the

00:01:05,640 --> 00:01:10,530
second problem is the own in Geneva

00:01:08,400 --> 00:01:15,740
interrupt to a single CEO

00:01:10,530 --> 00:01:18,540
so no SMPS to solve this issue we think

00:01:15,740 --> 00:01:20,900
we come to the restoration of the

00:01:18,540 --> 00:01:25,020
interrupt controller which caused epic

00:01:20,900 --> 00:01:28,259
for epic we had to two parts the i/o a

00:01:25,020 --> 00:01:31,740
big and to aside and the the nuclear pig

00:01:28,259 --> 00:01:37,710
and step aside for our epicatechin

00:01:31,740 --> 00:01:42,780
support up to typically up to 24 in the

00:01:37,710 --> 00:01:46,920
wraps for the across related devices and

00:01:42,780 --> 00:01:49,950
the most importantly it can rule they

00:01:46,920 --> 00:01:52,439
interrupt two different disappears so

00:01:49,950 --> 00:01:56,490
that's really important when we have the

00:01:52,439 --> 00:01:59,310
multi cause well for post peak and a

00:01:56,490 --> 00:02:03,540
peak way actually the I implemented with

00:01:59,310 --> 00:02:07,500
some hardware interrupt lines so so it's

00:02:03,540 --> 00:02:10,789
kind of hard to skill up with if we want

00:02:07,500 --> 00:02:10,789
to support more interrupts

00:02:10,930 --> 00:02:15,069
ms:i and the other sides use

00:02:13,540 --> 00:02:18,380
message-based

00:02:15,069 --> 00:02:20,900
back the delta t never interrupt so easy

00:02:18,380 --> 00:02:25,310
talent use a interrupt lines anymore

00:02:20,900 --> 00:02:28,340
they they're interrupting information

00:02:25,310 --> 00:02:33,980
like a vector number and the destination

00:02:28,340 --> 00:02:37,400
are included in this message so that or

00:02:33,980 --> 00:02:41,870
the reservation information are already

00:02:37,400 --> 00:02:46,700
available but mm size typically can't

00:02:41,870 --> 00:02:49,670
support I guess said said it to

00:02:46,700 --> 00:02:52,580
interrupt per device and for the

00:02:49,670 --> 00:02:58,459
instantly diversion a Meza X can support

00:02:52,580 --> 00:03:04,220
even more web MSI the answer is I am si

00:02:58,459 --> 00:03:08,120
is pieces specific so it's part of a

00:03:04,220 --> 00:03:13,040
pizza psi devices so if we want to do

00:03:08,120 --> 00:03:17,299
the the the one producer MSI for non PCI

00:03:13,040 --> 00:03:20,870
device is kind of hard for us there's

00:03:17,299 --> 00:03:23,810
always some device like some HP t use

00:03:20,870 --> 00:03:30,590
the MSI but they that is the support is

00:03:23,810 --> 00:03:34,459
in a very high can way but communique am

00:03:30,590 --> 00:03:39,049
provided the what is interrupting

00:03:34,459 --> 00:03:41,680
controller emulations impose and the US

00:03:39,049 --> 00:03:44,810
base termination under the contamination

00:03:41,680 --> 00:03:46,900
depends what you really cares for

00:03:44,810 --> 00:03:50,060
example if you care about the

00:03:46,900 --> 00:03:53,299
performance then you run the when you

00:03:50,060 --> 00:03:56,030
use the government emulation the kernel

00:03:53,299 --> 00:03:58,910
emanation if you care about the security

00:03:56,030 --> 00:04:02,299
that you you don't want to the expose

00:03:58,910 --> 00:04:04,220
that attacked service in the channel you

00:04:02,299 --> 00:04:07,730
probably want to use a condom

00:04:04,220 --> 00:04:10,040
Kumu emulation what you you you actually

00:04:07,730 --> 00:04:13,069
you can use the combinations so Kumu

00:04:10,040 --> 00:04:17,690
provider option so you can use that with

00:04:13,069 --> 00:04:21,500
a combination well tear women Kumu

00:04:17,690 --> 00:04:23,480
provider was is legacy under modern

00:04:21,500 --> 00:04:27,080
interrupt emanations

00:04:23,480 --> 00:04:31,130
is for general purpose use each case so

00:04:27,080 --> 00:04:38,510
for today's my topic ever focuses on the

00:04:31,130 --> 00:04:40,280
road annual case or a focus so we focus

00:04:38,510 --> 00:04:43,040
on the container and seven issue each

00:04:40,280 --> 00:04:45,230
case as I just mentioned so sometimes

00:04:43,040 --> 00:04:48,890
the cordon derivative virtualization use

00:04:45,230 --> 00:04:52,250
case examples include a free cracker or

00:04:48,890 --> 00:04:56,240
color containers so both of them I carry

00:04:52,250 --> 00:05:01,090
em paste of containers in a continuous

00:04:56,240 --> 00:05:03,320
Emily solution was the big change here

00:05:01,090 --> 00:05:07,640
comparing to their tradition which

00:05:03,320 --> 00:05:10,430
machine is the user interface II we

00:05:07,640 --> 00:05:13,820
exposed for traditional which machine we

00:05:10,430 --> 00:05:17,750
expose a machine interface where for

00:05:13,820 --> 00:05:19,970
containers urbanism model we just expose

00:05:17,750 --> 00:05:21,800
the system call interface to a

00:05:19,970 --> 00:05:25,250
containers or there's seventies

00:05:21,800 --> 00:05:28,130
applications so for traditional virtual

00:05:25,250 --> 00:05:29,960
machine since we suppose machine

00:05:28,130 --> 00:05:34,670
interface so we need to abate the

00:05:29,960 --> 00:05:38,660
harvest page since I guess I assumed it

00:05:34,670 --> 00:05:41,950
was a super made they were well for

00:05:38,660 --> 00:05:44,990
container service seven is huge case

00:05:41,950 --> 00:05:48,460
virtualization is still being used but

00:05:44,990 --> 00:05:52,360
it's just some interpret code of the

00:05:48,460 --> 00:05:56,290
infrastructure so that give us some

00:05:52,360 --> 00:05:56,290
opportunity to improve

00:06:00,250 --> 00:06:05,870
another as a spaghetti for our focus is

00:06:03,400 --> 00:06:08,840
we only went to support limited very

00:06:05,870 --> 00:06:13,190
limited to best types this is possible

00:06:08,840 --> 00:06:16,250
because we were not going to run a full

00:06:13,190 --> 00:06:19,160
function virtual machine we have our

00:06:16,250 --> 00:06:22,100
control of the guest Colonel so we can

00:06:19,160 --> 00:06:26,000
do what what we really did what the

00:06:22,100 --> 00:06:28,729
effectively for a solution for example

00:06:26,000 --> 00:06:32,919
the red cracker use a pure radio system

00:06:28,729 --> 00:06:36,979
for us we was to use a pure water system

00:06:32,919 --> 00:06:38,270
excit success radio can be run and to

00:06:36,979 --> 00:06:42,789
transport yes

00:06:38,270 --> 00:06:46,550
whether over a PCR on the radio mmm

00:06:42,789 --> 00:06:50,990
whether wide open I use embody MSI an

00:06:46,550 --> 00:06:55,880
MSI into X interrupt mechanism well for

00:06:50,990 --> 00:07:00,919
whatever remember it now just use the

00:06:55,880 --> 00:07:04,610
next in the rabbinate interface so we

00:07:00,919 --> 00:07:08,240
have built a pure variable system with

00:07:04,610 --> 00:07:09,530
weather PCI transport yeah and we are

00:07:08,240 --> 00:07:14,500
continue to stately

00:07:09,530 --> 00:07:14,500
Iparis envision person might have a memo

00:07:15,669 --> 00:07:21,949
so what's her motivation for us to turn

00:07:18,919 --> 00:07:28,460
to the weather Oh a memo from the

00:07:21,949 --> 00:07:31,699
weather pizza the answer is that way so

00:07:28,460 --> 00:07:33,770
we have graphs that mystics and the

00:07:31,699 --> 00:07:38,810
number of files and the line of code

00:07:33,770 --> 00:07:43,130
that way well for whatever transponder

00:07:38,810 --> 00:07:46,970
yes for the to travel a yes for posts in

00:07:43,130 --> 00:07:48,440
news Karen cast and the crew back end so

00:07:46,970 --> 00:07:52,070
the data is operative

00:07:48,440 --> 00:07:56,030
whatever a member is much much later so

00:07:52,070 --> 00:07:59,240
even you can reduce some configurations

00:07:56,030 --> 00:08:02,240
to remove some of the code or or

00:07:59,240 --> 00:08:05,360
manually you just like us we already did

00:08:02,240 --> 00:08:08,210
some work to strip down there PCI stuff

00:08:05,360 --> 00:08:12,070
that we don't necessarily need but

00:08:08,210 --> 00:08:13,280
there's still not in the same level so

00:08:12,070 --> 00:08:15,770
loose

00:08:13,280 --> 00:08:20,450
like whether a member is exactly the

00:08:15,770 --> 00:08:23,750
river free-for-all used case so this is

00:08:20,450 --> 00:08:26,389
why we adopt we would try to fund some

00:08:23,750 --> 00:08:30,580
options to with this with this

00:08:26,389 --> 00:08:33,710
transponder yes so basically yes code

00:08:30,580 --> 00:08:37,640
under us to achieve a short boot and

00:08:33,710 --> 00:08:41,950
high identity was more at activism so

00:08:37,640 --> 00:08:41,950
those are critical for our space

00:08:43,450 --> 00:08:49,339
necessary what's the minimum requirement

00:08:46,010 --> 00:08:52,670
for for us to deliver an interrupt from

00:08:49,339 --> 00:08:55,700
the device to the to the guest Colonel

00:08:52,670 --> 00:08:59,300
the first way when the device was a

00:08:55,700 --> 00:09:01,520
polymer interrupt for performance the

00:08:59,300 --> 00:09:03,950
secondary common is we want the entire

00:09:01,520 --> 00:09:07,480
rap balance and support that if we can

00:09:03,950 --> 00:09:11,750
make full use of the the mud core

00:09:07,480 --> 00:09:16,430
capability against Colonel under there

00:09:11,750 --> 00:09:21,800
and as there we went we wish that the

00:09:16,430 --> 00:09:23,390
interrupting wearing can be very fast so

00:09:21,800 --> 00:09:26,839
let's take the multiple interrupt

00:09:23,390 --> 00:09:31,670
support this occurrence data's for

00:09:26,839 --> 00:09:34,430
whatever mmm both configuration change

00:09:31,670 --> 00:09:38,839
notification and the cue change

00:09:34,430 --> 00:09:43,520
notification share the same I aku so

00:09:38,839 --> 00:09:46,460
that is not good things in the case in a

00:09:43,520 --> 00:09:49,430
row behind una we have to check what is

00:09:46,460 --> 00:09:51,980
exactly in varies is the chemical regime

00:09:49,430 --> 00:09:57,230
change or is Rico change if it's a couch

00:09:51,980 --> 00:09:58,400
and which couid is also this Romania's

00:09:57,230 --> 00:10:03,020
front window

00:09:58,400 --> 00:10:07,610
the trooper narrations the result is

00:10:03,020 --> 00:10:11,870
what we want so for every forty will

00:10:07,610 --> 00:10:13,850
change and the couch and the person is

00:10:11,870 --> 00:10:17,920
they have their own interrupt vector

00:10:13,850 --> 00:10:20,860
allocated and that a virtual device can

00:10:17,920 --> 00:10:24,920
context the device into the case

00:10:20,860 --> 00:10:28,530
independently this basically what

00:10:24,920 --> 00:10:34,530
the status in for the weather OPI but

00:10:28,530 --> 00:10:37,650
for whatever MMO we want to see the next

00:10:34,530 --> 00:10:43,500
requirement is an interval balancing so

00:10:37,650 --> 00:10:47,220
the four car for coming whatever MMO is

00:10:43,500 --> 00:10:50,820
the only one who I interrupt so once we

00:10:47,220 --> 00:10:54,000
are more interrupt yes we wanted the

00:10:50,820 --> 00:10:59,370
integral balances so at the case piano

00:10:54,000 --> 00:11:01,970
concerns that the actual continue to

00:10:59,370 --> 00:11:04,770
different with apos sorry to come

00:11:01,970 --> 00:11:10,250
because some work balancing or making

00:11:04,770 --> 00:11:10,250
the effective use of the guest CBO's

00:11:10,700 --> 00:11:18,030
researchers an example that for radio

00:11:13,770 --> 00:11:19,770
net would just pin the configuration

00:11:18,030 --> 00:11:22,200
notification and the couch had a

00:11:19,770 --> 00:11:27,110
notification to difference appears that

00:11:22,200 --> 00:11:33,780
we can further use the all the

00:11:27,110 --> 00:11:38,490
recipients in the case so we have

00:11:33,780 --> 00:11:41,400
several solutions the true solutions the

00:11:38,490 --> 00:11:44,550
this refers of solution this solution we

00:11:41,400 --> 00:11:50,130
person we want to reuse them entire that

00:11:44,550 --> 00:11:52,440
existed for the radio piece I because M

00:11:50,130 --> 00:11:54,600
asam is always the polymer to interrupt

00:11:52,440 --> 00:11:58,320
and was really support in the rubber

00:11:54,600 --> 00:12:02,970
balancing so once we ended us we were

00:11:58,320 --> 00:12:04,980
careless capability so to to support

00:12:02,970 --> 00:12:09,300
this we actually read some traffic cone

00:12:04,980 --> 00:12:12,390
so besides adding the MSF register

00:12:09,300 --> 00:12:14,970
format to the ambit of MMO completions

00:12:12,390 --> 00:12:17,760
were format in a public way wasn't

00:12:14,970 --> 00:12:21,630
needed to introduce more fields like we

00:12:17,760 --> 00:12:25,320
need to provide a new field for guests

00:12:21,630 --> 00:12:28,110
to configure the vector that that will

00:12:25,320 --> 00:12:31,980
be used for for configuration change our

00:12:28,110 --> 00:12:34,080
change for interrupt balancing and the

00:12:31,980 --> 00:12:37,580
interrupts leaders in control we just

00:12:34,080 --> 00:12:41,510
use the uses in registers

00:12:37,580 --> 00:12:45,470
were you a messiah so for this son

00:12:41,510 --> 00:12:48,860
whooshing way we have pretty cool that

00:12:45,470 --> 00:12:51,650
Cody sharing with the existing psi code

00:12:48,860 --> 00:12:55,400
across the canoe

00:12:51,650 --> 00:13:00,590
Kabam and the Cascade oh well let's do

00:12:55,400 --> 00:13:04,010
some dance I did that's that actually is

00:13:00,590 --> 00:13:07,490
hard to do that akkanee and there was of

00:13:04,010 --> 00:13:11,350
the air for his zach is actually not not

00:13:07,490 --> 00:13:13,940
a driver effort since in our parties the

00:13:11,350 --> 00:13:17,060
because we want to get rid of a PSI code

00:13:13,940 --> 00:13:20,590
so Emma site sometimes

00:13:17,060 --> 00:13:24,470
curries tight close ways physically

00:13:20,590 --> 00:13:27,980
sometimes it's quite hard for us to do

00:13:24,470 --> 00:13:30,650
that where we can eat so then we have

00:13:27,980 --> 00:13:34,220
the solution to request rather in the

00:13:30,650 --> 00:13:36,320
rubber storage was waiting shorty is so

00:13:34,220 --> 00:13:40,160
for this one wishing way also try to

00:13:36,320 --> 00:13:44,720
reuse the MSI conception but we will try

00:13:40,160 --> 00:13:49,460
to make some modifications so to make it

00:13:44,720 --> 00:13:53,450
scanning and I was away will make some

00:13:49,460 --> 00:13:59,240
improvement started we can get even

00:13:53,450 --> 00:14:03,380
better performers them aside let's say

00:13:59,240 --> 00:14:08,950
the that's basically the spec change

00:14:03,380 --> 00:14:11,420
proposal from us so the facade is MSI X

00:14:08,950 --> 00:14:16,280
registered on a yacht the residue debris

00:14:11,420 --> 00:14:18,830
is so so similarly we is will also have

00:14:16,280 --> 00:14:19,550
a new table that point to us reach our

00:14:18,830 --> 00:14:26,960
typos

00:14:19,550 --> 00:14:31,030
let's say the details so for the that

00:14:26,960 --> 00:14:35,270
the header the header structure that we

00:14:31,030 --> 00:14:38,360
will remove that since next cabinet ID

00:14:35,270 --> 00:14:40,940
and then discoverability we don't

00:14:38,360 --> 00:14:44,480
actually need a lot so we just remove

00:14:40,940 --> 00:14:46,700
that under for message' control we're

00:14:44,480 --> 00:14:50,990
just actually are

00:14:46,700 --> 00:14:53,900
a table size that is useful for us so we

00:14:50,990 --> 00:14:57,320
use a table size will refine it as a

00:14:53,900 --> 00:14:59,900
worked account and therefore the table

00:14:57,320 --> 00:15:03,920
state table opposite and the PPF sit and

00:14:59,900 --> 00:15:06,260
the table by index register and people

00:15:03,920 --> 00:15:09,500
back in the register there was a kind of

00:15:06,260 --> 00:15:14,540
two pieces specific so we just used some

00:15:09,500 --> 00:15:16,340
memory update to instead of that by

00:15:14,540 --> 00:15:21,920
doing this we can remove the terrine

00:15:16,340 --> 00:15:25,270
remove the piece our conceptions the

00:15:21,920 --> 00:15:29,750
next changes for the Emma's for the best

00:15:25,270 --> 00:15:32,680
entry format so will be we reuse a

00:15:29,750 --> 00:15:36,620
message address on the metadata format

00:15:32,680 --> 00:15:39,470
because we have to we don't have to do

00:15:36,620 --> 00:15:42,520
like this but for our prototype or just

00:15:39,470 --> 00:15:46,520
for simplicity we want to reuse a user's

00:15:42,520 --> 00:15:52,250
career among API so that we can we don't

00:15:46,520 --> 00:15:55,610
need change and so we so we use that so

00:15:52,250 --> 00:15:58,670
we use that directly but for the vector

00:15:55,610 --> 00:16:01,100
can work the control register we did

00:15:58,670 --> 00:16:04,760
some modifications sorry but vision

00:16:01,100 --> 00:16:08,180
behind this is that we want to improve

00:16:04,760 --> 00:16:14,210
we want to reduce some misery when my

00:16:08,180 --> 00:16:17,810
usage that that for MSI we because of or

00:16:14,210 --> 00:16:20,900
the other entry registers they are mixed

00:16:17,810 --> 00:16:24,170
together but if you look at the water

00:16:20,900 --> 00:16:26,840
registers among the among those you will

00:16:24,170 --> 00:16:29,300
find we're owning here but we only to

00:16:26,840 --> 00:16:31,040
trap the vector control we don't need to

00:16:29,300 --> 00:16:36,740
chop the message address or metadata

00:16:31,040 --> 00:16:39,440
registers so because for MSI those

00:16:36,740 --> 00:16:41,900
register I just mixed together so for

00:16:39,440 --> 00:16:44,510
example inhibiting mapping it's how fast

00:16:41,900 --> 00:16:47,540
to set the different permission so that

00:16:44,510 --> 00:16:51,050
they both some some register which

00:16:47,540 --> 00:16:55,100
happened under the window job so we

00:16:51,050 --> 00:16:57,740
splitted as we did try new table so we

00:16:55,100 --> 00:16:59,449
can set a different permission so that

00:16:57,740 --> 00:17:01,730
all in there

00:16:59,449 --> 00:17:06,919
control we could travel where the others

00:17:01,730 --> 00:17:08,480
will not get a job well for vector

00:17:06,919 --> 00:17:10,730
control just some of the fades away

00:17:08,480 --> 00:17:13,459
actually for our kids we don't necessary

00:17:10,730 --> 00:17:18,289
indeed so we only care about him a speed

00:17:13,459 --> 00:17:20,269
so we this table only with masks appear

00:17:18,289 --> 00:17:23,510
here every table so it contains the only

00:17:20,269 --> 00:17:30,799
they just like the PBA tables so it's

00:17:23,510 --> 00:17:32,779
included it must be for PBA our table we

00:17:30,799 --> 00:17:38,809
just reuse that they already know a

00:17:32,779 --> 00:17:43,070
separate table okay so let's say what we

00:17:38,809 --> 00:17:46,970
also try to find out ways that how can

00:17:43,070 --> 00:17:49,549
we get how fast we catch you for the

00:17:46,970 --> 00:17:52,820
interrupting very friendly for example

00:17:49,549 --> 00:17:56,000
from the Kumu diverse model to the case

00:17:52,820 --> 00:17:59,419
of what case in a row behind una this is

00:17:56,000 --> 00:18:07,250
some psycho server genuine interrupt

00:17:59,419 --> 00:18:12,409
innocent pure that way connected so for

00:18:07,250 --> 00:18:14,240
creamy parts just about 1500 m cycles so

00:18:12,409 --> 00:18:16,370
we have no cat occurred but there's not

00:18:14,240 --> 00:18:19,539
room opportunity for us to improve

00:18:16,370 --> 00:18:22,970
because most of the i/o época handling

00:18:19,539 --> 00:18:26,659
well for kevin part it's there some

00:18:22,970 --> 00:18:29,269
numbers change things all in cycles but

00:18:26,659 --> 00:18:32,350
when we do cattle code it's actually not

00:18:29,269 --> 00:18:35,350
to tom spindle in the care of myself

00:18:32,350 --> 00:18:40,460
just not a repentance which also

00:18:35,350 --> 00:18:43,730
including yes psychos so I so one option

00:18:40,460 --> 00:18:45,889
is to use a post interrupt if income you

00:18:43,730 --> 00:18:50,779
cause a coma satirical

00:18:45,889 --> 00:18:53,659
if personal ability in is enabled you

00:18:50,779 --> 00:18:57,320
work immediately inject into the video

00:18:53,659 --> 00:19:00,980
so for us I think we need a company

00:18:57,320 --> 00:19:05,289
corporation to make de facto the current

00:19:00,980 --> 00:19:09,620
is there prevented some coverage changes

00:19:05,289 --> 00:19:10,269
the next one is a like the psycho cynic

00:19:09,620 --> 00:19:14,259
is in the

00:19:10,269 --> 00:19:17,200
guest in Aruba and Ola so the biggest

00:19:14,259 --> 00:19:22,809
the overhead comes from the reddit where

00:19:17,200 --> 00:19:25,440
you are well he registers in total

00:19:22,809 --> 00:19:28,690
provider you are virtualization Meganium

00:19:25,440 --> 00:19:31,239
hardware features and I was a way have

00:19:28,690 --> 00:19:34,359
the software as endeavour encoding in

00:19:31,239 --> 00:19:36,369
the cabin code but during our prototype

00:19:34,359 --> 00:19:40,029
of a funnel that political achievement

00:19:36,369 --> 00:19:43,149
an odd function to repair a fix to

00:19:40,029 --> 00:19:47,679
reduce his trap to save a magazine to

00:19:43,149 --> 00:19:50,049
the hypervisor so turning away Kyle was

00:19:47,679 --> 00:19:55,149
by using his hardware features we can to

00:19:50,049 --> 00:19:58,570
reduce almost 120 Solon's

00:19:55,149 --> 00:20:01,839
cycles and that's across several

00:19:58,570 --> 00:20:05,469
interactive real-time and almost nine

00:20:01,839 --> 00:20:07,299
minutes again so this is a summary so we

00:20:05,469 --> 00:20:10,089
are purely a new integrated system for

00:20:07,299 --> 00:20:12,339
container and seventies with the minimal

00:20:10,089 --> 00:20:14,799
features the multiple developers aboard

00:20:12,339 --> 00:20:17,259
on the inner panels in support we're

00:20:14,799 --> 00:20:20,979
also proud to have several options I'm

00:20:17,259 --> 00:20:24,909
sure a radio system with post pizza and

00:20:20,979 --> 00:20:28,719
a MMO as a 2000 years and for whether a

00:20:24,909 --> 00:20:33,339
mammoth was born ears we we use MSI and

00:20:28,719 --> 00:20:37,779
we also use a new new whatever native

00:20:33,339 --> 00:20:40,479
interrupt mechanism and the last way was

00:20:37,779 --> 00:20:42,309
use a hard we try to as use the harbour

00:20:40,479 --> 00:20:45,519
feature as much as possible to improve

00:20:42,309 --> 00:20:50,049
the interrupting whirring so what's the

00:20:45,519 --> 00:20:53,169
nest so for both the Amazon and aware

00:20:50,049 --> 00:20:55,989
heirs we need a when did it change this

00:20:53,169 --> 00:20:59,019
big so it's time to change this big

00:20:55,989 --> 00:21:01,209
but is it but what I am issuing is just

00:20:59,019 --> 00:21:03,479
some proposal for us it's doesn't means

00:21:01,209 --> 00:21:07,349
it's a foreigner solution so we want

00:21:03,479 --> 00:21:10,209
want to schedule our opinions and this

00:21:07,349 --> 00:21:13,320
was the way or we had some Java code so

00:21:10,209 --> 00:21:16,239
we want to contribute this Java code to

00:21:13,320 --> 00:21:18,249
post-up dream the government came up

00:21:16,239 --> 00:21:21,450
dream coming up soon or cascade Oh

00:21:18,249 --> 00:21:21,450
change up dream

00:21:21,539 --> 00:21:27,329
another difficult thing for us is as an

00:21:24,569 --> 00:21:30,089
assigned device that's how can we do a

00:21:27,329 --> 00:21:33,499
pass through with this and vision it's

00:21:30,089 --> 00:21:39,949
kind of whatever code but where I think

00:21:33,499 --> 00:21:43,559
about this so president is not undoable

00:21:39,949 --> 00:21:47,699
so we're trying to find a way that even

00:21:43,559 --> 00:21:50,579
without the p-side code how can we try

00:21:47,699 --> 00:21:55,439
to assign device to the two friend house

00:21:50,579 --> 00:22:00,439
to cast okay

00:21:55,439 --> 00:22:00,439
that's only half any question

00:22:09,020 --> 00:22:15,620
hi thanks for the talk very interesting

00:22:11,840 --> 00:22:18,320
the the base assumption is that you're

00:22:15,620 --> 00:22:19,760
basically scared of PCI right you bet

00:22:18,320 --> 00:22:22,580
scared of Linda Pizza I caught being

00:22:19,760 --> 00:22:24,590
slow you're scared of the QM you attack

00:22:22,580 --> 00:22:26,780
surface of the PCI code it's it's just

00:22:24,590 --> 00:22:30,590
that basically you're digging yourself a

00:22:26,780 --> 00:22:32,360
rabbit hole out of PCI into essentially

00:22:30,590 --> 00:22:36,470
duplicating most of its functionality

00:22:32,360 --> 00:22:38,210
with a separate video specific interface

00:22:36,470 --> 00:22:40,730
correct yes okay

00:22:38,210 --> 00:22:43,190
can't we just simply make the PCI

00:22:40,730 --> 00:22:46,280
surface smaller make that fast

00:22:43,190 --> 00:22:49,040
maybe propagate free propagate

00:22:46,280 --> 00:22:51,860
information I understand that

00:22:49,040 --> 00:22:55,850
currently say for example scanning a PCI

00:22:51,860 --> 00:22:59,179
bus might be slow but we may as well

00:22:55,850 --> 00:23:02,300
just invent a sign a CPI extension to

00:22:59,179 --> 00:23:04,730
just limit us to devices we know exist

00:23:02,300 --> 00:23:06,710
right should wouldn't it make much more

00:23:04,730 --> 00:23:08,720
sense to just leverage the existing PCI

00:23:06,710 --> 00:23:10,790
infrastructure and just trim it down to

00:23:08,720 --> 00:23:12,200
a scope where we are satisfied with the

00:23:10,790 --> 00:23:14,240
initialization time that it takes and

00:23:12,200 --> 00:23:15,620
then we can reuse all the interfaces and

00:23:14,240 --> 00:23:19,970
don't reinvent the wheel five times

00:23:15,620 --> 00:23:25,820
again yes yes actually as I mentioned we

00:23:19,970 --> 00:23:28,670
already delight we we based on the grass

00:23:25,820 --> 00:23:32,000
women we build a hypervisor so in that

00:23:28,670 --> 00:23:35,179
project we are to use a pure PC based

00:23:32,000 --> 00:23:39,530
video device so that code can already be

00:23:35,179 --> 00:23:42,320
very smaller so just so compared to the

00:23:39,530 --> 00:23:46,340
chest video a member with a covering of

00:23:42,320 --> 00:23:48,620
a prototype so just do some cat wait yes

00:23:46,340 --> 00:23:51,410
so this one these two directions one

00:23:48,620 --> 00:23:54,410
duration is we can reduce a better piece

00:23:51,410 --> 00:23:56,990
I to human smaller so is that that's the

00:23:54,410 --> 00:23:59,809
path pony I am Not sure we will try to

00:23:56,990 --> 00:24:01,610
continue to optimize that path so the

00:23:59,809 --> 00:24:05,929
other passes each other this is the

00:24:01,610 --> 00:24:07,309
whatever I agree and we essentially will

00:24:05,929 --> 00:24:10,070
end up with the same result at the end

00:24:07,309 --> 00:24:11,450
of the day just that we suddenly end up

00:24:10,070 --> 00:24:13,790
with something that is actually

00:24:11,450 --> 00:24:15,530
backwards compatible if we stick to PCI

00:24:13,790 --> 00:24:17,900
which I would way prefer over everything

00:24:15,530 --> 00:24:19,880
else and so if we could just simply

00:24:17,900 --> 00:24:21,530
focus our efforts on making PCI the PCI

00:24:19,880 --> 00:24:24,170
based approach go fast

00:24:21,530 --> 00:24:26,260
I'd be much happier yeah awesome thank

00:24:24,170 --> 00:24:26,260
you

00:24:33,870 --> 00:24:37,970
okay is there no other questions thank

00:24:36,270 --> 00:24:40,760
you can join the lunch

00:24:37,970 --> 00:24:47,609
[Applause]

00:24:40,760 --> 00:24:47,609

YouTube URL: https://www.youtube.com/watch?v=aNDT1xaxxcI


