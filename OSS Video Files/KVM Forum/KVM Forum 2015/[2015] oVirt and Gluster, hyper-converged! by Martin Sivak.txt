Title: [2015] oVirt and Gluster, hyper-converged! by Martin Sivak
Publication date: 2015-09-10
Playlist: KVM Forum 2015
Description: 
	We were asked to come up with a solution to setting up a cluster where storage, management and VMs are running together on small number of nodes. This solution is currently known as hyper converged architecture. This kind of setup seems to be getting quite common in small deployments, but it was not possible to use it and maintain all oVirt reliability features until now. This presentation will be about the design, configuration and installation of the minimal possible reliable cluster using three hyper converged hosts with oVirt as the software stack and Gluster for the storage - all running together in highly available setup across all three nodes.

Martin Sivak
Red Hat
Senior Software Engineer
Brno
Martin has been working for Red Hat (Brno, Czech Republic) for the past eight years. He spent most of the time working in the installer team and now he is responsible for MoM and VDSM parts of the quality of service effort in oVirt.
Martin's main focus is on Python development and he has 5 years of experience teaching the Python language at local universities. Since 2006 he has led a local LinuxAlt conference team (2 days, 500 attendees).
He holds a masters engineering degree and an RHCE.

Slides: https://drive.google.com/open?id=0BzyAwvVlQckeYmlaS0M0QVdGclk
Captions: 
	00:00:15,350 --> 00:00:22,619
my name is Marc I work for over at Red

00:00:19,410 --> 00:00:25,830
Hat I've been doing this for more than

00:00:22,619 --> 00:00:26,820
two years now and today I'll be talking

00:00:25,830 --> 00:00:28,920
about

00:00:26,820 --> 00:00:31,640
I will sorry I'll be talking about

00:00:28,920 --> 00:00:35,550
something which is called hyper converge

00:00:31,640 --> 00:00:37,440
it's a concept and we would like to tell

00:00:35,550 --> 00:00:40,219
you what the concept is about and how

00:00:37,440 --> 00:00:42,570
far we are with the implementation and

00:00:40,219 --> 00:00:44,129
I'm sorry for being so high level

00:00:42,570 --> 00:00:46,200
because after all the previous

00:00:44,129 --> 00:00:49,410
presentations I'm not going to be

00:00:46,200 --> 00:00:52,559
talking about any capi or XML so or

00:00:49,410 --> 00:00:56,610
kennel drivers so I hope you'll bear

00:00:52,559 --> 00:00:59,520
with me okay so what I'll be talking

00:00:56,610 --> 00:01:01,350
about today might be pretty important

00:00:59,520 --> 00:01:04,439
for you unless you know whatever it is

00:01:01,350 --> 00:01:07,710
about is the architecture of overt and

00:01:04,439 --> 00:01:10,049
what kind of storage we use possible

00:01:07,710 --> 00:01:12,510
failure points in the standard overt

00:01:10,049 --> 00:01:13,950
setup which is one of the reasons we are

00:01:12,510 --> 00:01:17,659
doing the whole how to converse thing

00:01:13,950 --> 00:01:21,390
and then some refresher talks about

00:01:17,659 --> 00:01:25,830
hosted engine what it is how it works in

00:01:21,390 --> 00:01:28,080
a very quick summary and the same for

00:01:25,830 --> 00:01:29,880
Gloucester so you know about the

00:01:28,080 --> 00:01:32,220
technology we are going to use for how

00:01:29,880 --> 00:01:34,049
to converge and then I'll show you how

00:01:32,220 --> 00:01:36,810
to put it all together and where we are

00:01:34,049 --> 00:01:39,479
how to setup it how to bootstrap it how

00:01:36,810 --> 00:01:44,520
to manage it and especially what's in

00:01:39,479 --> 00:01:48,840
and what's done so let's get started

00:01:44,520 --> 00:01:50,729
Overton it's architecture can you raise

00:01:48,840 --> 00:01:54,799
your hand if you know what / it is about

00:01:50,729 --> 00:01:57,360
or if you've ever used it please okay

00:01:54,799 --> 00:02:00,210
that's more people than I thought there

00:01:57,360 --> 00:02:02,250
would be but that's good so for all the

00:02:00,210 --> 00:02:06,990
others over it is the data center

00:02:02,250 --> 00:02:09,209
management system you set up your

00:02:06,990 --> 00:02:10,709
physical hosts you start some agents on

00:02:09,209 --> 00:02:13,310
those hosts and then we have a nice

00:02:10,709 --> 00:02:14,840
management tool with the UI

00:02:13,310 --> 00:02:17,900
running in a web browser where you can

00:02:14,840 --> 00:02:23,560
start your VMs migrate them between

00:02:17,900 --> 00:02:27,410
hosts stuff like that so what we do and

00:02:23,560 --> 00:02:28,880
how it works it's a data center

00:02:27,410 --> 00:02:30,830
management so we have the actual

00:02:28,880 --> 00:02:33,410
management platform drunks on top of

00:02:30,830 --> 00:02:35,239
JBoss and traditionally it needed a

00:02:33,410 --> 00:02:37,340
separate host so we had a single house

00:02:35,239 --> 00:02:39,769
that was doing nothing else than running

00:02:37,340 --> 00:02:41,720
the JBoss instance and on top of that it

00:02:39,769 --> 00:02:44,989
was running our overt management to it

00:02:41,720 --> 00:02:47,000
and that did you the VIP server which

00:02:44,989 --> 00:02:49,400
you could used to do the whole

00:02:47,000 --> 00:02:53,720
management to click everything great

00:02:49,400 --> 00:02:56,810
storage start VMs now underneath that

00:02:53,720 --> 00:02:58,610
you had your set of physical hosts those

00:02:56,810 --> 00:03:02,510
were the hosts that's very used for

00:02:58,610 --> 00:03:05,390
running the virtual machines and there

00:03:02,510 --> 00:03:07,730
was some communication between those two

00:03:05,390 --> 00:03:10,459
so all the agents were communicating

00:03:07,730 --> 00:03:12,260
with the management and then you have a

00:03:10,459 --> 00:03:15,830
separate set of hosts running your

00:03:12,260 --> 00:03:18,620
storage or some other storage solution

00:03:15,830 --> 00:03:21,890
traditionally again we used NFS or I

00:03:18,620 --> 00:03:25,250
scuzzy technologies like that so you see

00:03:21,890 --> 00:03:26,660
that on the on the illustration here but

00:03:25,250 --> 00:03:28,519
basically we had three different groups

00:03:26,660 --> 00:03:30,470
of hosts you had the single host running

00:03:28,519 --> 00:03:32,480
management you had couple of hosts

00:03:30,470 --> 00:03:35,239
running your real chip machines and then

00:03:32,480 --> 00:03:38,150
you had a storage solution there are

00:03:35,239 --> 00:03:40,430
some running agents on the on the host

00:03:38,150 --> 00:03:43,880
that's not really important for a VM

00:03:40,430 --> 00:03:50,359
thoughts I guess but this is how it

00:03:43,880 --> 00:03:54,230
works now for a storage our storage is

00:03:50,359 --> 00:03:56,180
basically the main the most important

00:03:54,230 --> 00:03:58,489
part of the whole management because

00:03:56,180 --> 00:04:00,620
it's C it is used for all the

00:03:58,489 --> 00:04:05,180
synchronization it is used to store all

00:04:00,620 --> 00:04:07,910
the data it's used for locking so if we

00:04:05,180 --> 00:04:09,680
need to make sure that some VM is not

00:04:07,910 --> 00:04:12,470
running model you know multiple times

00:04:09,680 --> 00:04:15,470
holding a brain split or something then

00:04:12,470 --> 00:04:17,600
we need a storage view sign lock so

00:04:15,470 --> 00:04:19,400
everything is storage based everything

00:04:17,600 --> 00:04:21,049
is synchronized using the storage and

00:04:19,400 --> 00:04:23,599
the storage is the most important part

00:04:21,049 --> 00:04:25,080
we have plus the management platform

00:04:23,599 --> 00:04:28,710
which runs its own database

00:04:25,080 --> 00:04:31,409
now you see on the illustration you can

00:04:28,710 --> 00:04:32,190
have multiple storage connections and we

00:04:31,409 --> 00:04:35,780
support

00:04:32,190 --> 00:04:38,699
technology like NFS FCP I scuzzy and

00:04:35,780 --> 00:04:40,440
Gloucester Gloucester is on a separate

00:04:38,699 --> 00:04:41,330
line because it's a different kind of

00:04:40,440 --> 00:04:47,539
storage

00:04:41,330 --> 00:04:49,860
NFS I scuzzy of CP all are single point

00:04:47,539 --> 00:04:53,180
services basically when you connect to

00:04:49,860 --> 00:04:56,370
an FSU have to give it an actual NFS IP

00:04:53,180 --> 00:04:57,919
unless you use some really magic magical

00:04:56,370 --> 00:05:01,620
technology

00:04:57,919 --> 00:05:05,360
Jason I think Brooks has described in

00:05:01,620 --> 00:05:07,379
his bluster setup blog post now

00:05:05,360 --> 00:05:09,419
Gloucester is a different thing with

00:05:07,379 --> 00:05:12,090
Gloucester you set up multiple hosts

00:05:09,419 --> 00:05:14,039
that act as one and you can connect to

00:05:12,090 --> 00:05:17,580
any one of those and you'll get the

00:05:14,039 --> 00:05:19,949
whole thing it's redundant and I'll be

00:05:17,580 --> 00:05:23,129
talking about that in a second so

00:05:19,949 --> 00:05:26,639
storage isn't very important now what

00:05:23,129 --> 00:05:29,969
can happen and where the issues are if

00:05:26,639 --> 00:05:32,370
something goes down so the network

00:05:29,969 --> 00:05:34,979
connection between your management

00:05:32,370 --> 00:05:37,380
machine and your hosts can go down or

00:05:34,979 --> 00:05:39,419
the actual management machine can go

00:05:37,380 --> 00:05:40,919
down because of power failure because of

00:05:39,419 --> 00:05:43,590
a buck in the kernel

00:05:40,919 --> 00:05:46,020
I mean there are many reasons a JBoss

00:05:43,590 --> 00:05:47,969
instance can go down it should not but

00:05:46,020 --> 00:05:49,380
you know it's a physical hardware it's a

00:05:47,969 --> 00:05:52,469
single machine it's a single point of

00:05:49,380 --> 00:05:55,919
failure the other place which can fail

00:05:52,469 --> 00:05:58,500
is the connection to your storage so if

00:05:55,919 --> 00:06:00,719
that happens all your VMs will get post

00:05:58,500 --> 00:06:03,719
because they need the storage connection

00:06:00,719 --> 00:06:05,699
the engine will probably start throwing

00:06:03,719 --> 00:06:08,430
and errors you know throwing errors on

00:06:05,699 --> 00:06:11,849
you because we do some instances those

00:06:08,430 --> 00:06:13,169
are the agents running on our hosts just

00:06:11,849 --> 00:06:15,629
lost connection to all the

00:06:13,169 --> 00:06:18,919
synchronization directories so that's

00:06:15,629 --> 00:06:22,199
another place where something can happen

00:06:18,919 --> 00:06:23,969
your data are safe because your storage

00:06:22,199 --> 00:06:26,250
technology probably supports some

00:06:23,969 --> 00:06:30,360
redundancy you can have rate you can

00:06:26,250 --> 00:06:33,630
have backups but you just can't get to

00:06:30,360 --> 00:06:37,020
those which is also bad especially some

00:06:33,630 --> 00:06:37,710
lock is relying on the storage

00:06:37,020 --> 00:06:40,170
connection

00:06:37,710 --> 00:06:42,360
and if you lose your storage storage

00:06:40,170 --> 00:06:44,700
connection and it doesn't recover in a

00:06:42,360 --> 00:06:47,220
couple of minutes I think someone can

00:06:44,700 --> 00:06:49,500
actually reboot your host which is not

00:06:47,220 --> 00:06:51,450
really a good idea if you have important

00:06:49,500 --> 00:06:53,160
VMs running there on the other hand the

00:06:51,450 --> 00:06:55,350
VMS are frozen at the moment because

00:06:53,160 --> 00:06:57,110
they couldn't get to their storage so it

00:06:55,350 --> 00:07:00,960
might be actually the best thing to do

00:06:57,110 --> 00:07:04,740
just restart them now what we can do to

00:07:00,960 --> 00:07:07,610
remove those failure points single over

00:07:04,740 --> 00:07:12,000
to engine instance that's the management

00:07:07,610 --> 00:07:14,670
is needed and we only have one but what

00:07:12,000 --> 00:07:17,700
we can do we can start the engine

00:07:14,670 --> 00:07:20,430
instance management in a VM it's a kind

00:07:17,700 --> 00:07:22,320
of a chicken and egg problem because you

00:07:20,430 --> 00:07:24,900
basically start you are starting a

00:07:22,320 --> 00:07:26,420
management service inside the VM in a

00:07:24,900 --> 00:07:29,220
cluster that's supposed to be managing

00:07:26,420 --> 00:07:32,580
so there is some bootstrap procedure for

00:07:29,220 --> 00:07:35,190
that but it reduces the hardware failure

00:07:32,580 --> 00:07:39,330
risks you can migrate the management

00:07:35,190 --> 00:07:41,790
across the cluster and you can

00:07:39,330 --> 00:07:43,800
decommission hosts and still let it run

00:07:41,790 --> 00:07:45,570
somewhere else so that's hosted engine

00:07:43,800 --> 00:07:45,990
I'll give you a refresher about how it

00:07:45,570 --> 00:07:48,660
works

00:07:45,990 --> 00:07:50,970
I'm probably on the next slide and then

00:07:48,660 --> 00:07:54,210
regarding the storage when you use

00:07:50,970 --> 00:07:57,600
Gloster you basically get some of the

00:07:54,210 --> 00:07:59,130
safety features for free so if multiple

00:07:57,600 --> 00:08:01,860
hosts you have redundancy you can

00:07:59,130 --> 00:08:04,260
connect to any one of those hosts you

00:08:01,860 --> 00:08:07,380
have some quorum features so basically

00:08:04,260 --> 00:08:09,540
if you have three hosts and two are

00:08:07,380 --> 00:08:11,370
telling you that the bit s11 is telling

00:08:09,540 --> 00:08:13,050
you that the bit is zero bluster knows

00:08:11,370 --> 00:08:17,730
what to do and how to give you the right

00:08:13,050 --> 00:08:21,710
data so as I said when a storage issue

00:08:17,730 --> 00:08:23,910
happens your data are usually safe and

00:08:21,710 --> 00:08:26,610
because you are using some technology

00:08:23,910 --> 00:08:28,170
that supports data safety but the

00:08:26,610 --> 00:08:29,790
infrastructure is not so if you lose

00:08:28,170 --> 00:08:31,950
network connection you can get to your

00:08:29,790 --> 00:08:32,960
storage glossary kinds of mitigates that

00:08:31,950 --> 00:08:36,320
you can

00:08:32,960 --> 00:08:39,740
use a separate VLAN you can use bonding

00:08:36,320 --> 00:08:41,780
just to remove you know to lower the

00:08:39,740 --> 00:08:45,230
probability of the failure they cannot

00:08:41,780 --> 00:08:47,870
get to zero but you can get close so

00:08:45,230 --> 00:08:50,600
that's cluster now hosted engine I

00:08:47,870 --> 00:08:54,370
already said that hosted engine is the

00:08:50,600 --> 00:08:57,740
management running inside the VM it's

00:08:54,370 --> 00:09:00,490
tricky to install how many of you have

00:08:57,740 --> 00:09:03,590
actually tried to install hosted engine

00:09:00,490 --> 00:09:08,150
okay except of our overt guys and there

00:09:03,590 --> 00:09:11,450
were another good guy yeah nobody okay

00:09:08,150 --> 00:09:14,000
so it's tricky I mean traditionally

00:09:11,450 --> 00:09:16,070
we've I mean we've introduced hosted

00:09:14,000 --> 00:09:18,620
engine like two years ago something like

00:09:16,070 --> 00:09:21,080
that and the installation was really

00:09:18,620 --> 00:09:23,360
tricky you were you had to respond to

00:09:21,080 --> 00:09:25,520
multiple questions some of them required

00:09:23,360 --> 00:09:28,370
specific answers they were in

00:09:25,520 --> 00:09:30,200
correlation to previous answer and if

00:09:28,370 --> 00:09:32,150
you did it wrong at the end it didn't

00:09:30,200 --> 00:09:34,550
start and you had to start from the

00:09:32,150 --> 00:09:37,090
beginning so it was strictly and it

00:09:34,550 --> 00:09:39,950
wasn't easy and it was very error-prone

00:09:37,090 --> 00:09:41,990
and it's because it's a chicken-egg

00:09:39,950 --> 00:09:44,810
problem so we were basically starting a

00:09:41,990 --> 00:09:46,820
host then starting the management and

00:09:44,810 --> 00:09:48,500
somehow injecting the host into the

00:09:46,820 --> 00:09:51,140
database with the management could see

00:09:48,500 --> 00:09:53,840
it and you know preparing the storage

00:09:51,140 --> 00:09:55,520
for it everything we had a tool and we

00:09:53,840 --> 00:09:58,910
have a tool for that but it's still

00:09:55,520 --> 00:10:00,800
pretty tricky operation but when it when

00:09:58,910 --> 00:10:03,290
it's running it's actually pretty nice

00:10:00,800 --> 00:10:05,690
so you have a management that runs

00:10:03,290 --> 00:10:07,490
inside the VM and you can do most of the

00:10:05,690 --> 00:10:10,700
stuff you can do to any other VM you can

00:10:07,490 --> 00:10:13,190
migrate it across your nodes you can

00:10:10,700 --> 00:10:14,900
mark it as highly available we have

00:10:13,190 --> 00:10:16,790
diamond that makes sure that the

00:10:14,900 --> 00:10:20,120
management is actually running so if

00:10:16,790 --> 00:10:22,100
your house goes down unexpectedly the

00:10:20,120 --> 00:10:24,650
management is we start it on some other

00:10:22,100 --> 00:10:27,440
host so you can get I don't know maybe

00:10:24,650 --> 00:10:30,530
two I think it's up to five minutes

00:10:27,440 --> 00:10:32,870
downtown on the management but it will

00:10:30,530 --> 00:10:34,940
start up and you'll be able to do stuff

00:10:32,870 --> 00:10:36,950
the VMS are safe I mean if the

00:10:34,940 --> 00:10:38,750
management goes down you will have no

00:10:36,950 --> 00:10:39,600
reporting and you can't do anything

00:10:38,750 --> 00:10:43,649
manually

00:10:39,600 --> 00:10:45,269
but the actual VMs running are safe so

00:10:43,649 --> 00:10:47,970
this is only about the above the

00:10:45,269 --> 00:10:49,800
management mode we have a special agent

00:10:47,970 --> 00:10:51,720
for monitoring that's running on all the

00:10:49,800 --> 00:10:54,930
hosts that are capable of running your

00:10:51,720 --> 00:10:56,850
management you do not have to enable all

00:10:54,930 --> 00:10:58,680
the hosts to run the management so you

00:10:56,850 --> 00:11:00,930
can only select the hosts that are more

00:10:58,680 --> 00:11:03,420
powerful or something like that but

00:11:00,930 --> 00:11:05,430
again hosted engine uses storage bay

00:11:03,420 --> 00:11:08,279
synchronization so if you lose your

00:11:05,430 --> 00:11:10,769
storage connection or if something

00:11:08,279 --> 00:11:13,440
happens to the data there you're screwed

00:11:10,769 --> 00:11:15,630
and the management might go down or it

00:11:13,440 --> 00:11:18,060
will probably be running and when it

00:11:15,630 --> 00:11:19,470
goes down it won't be restarted so again

00:11:18,060 --> 00:11:27,420
we are getting to the point that the

00:11:19,470 --> 00:11:31,829
storage is very important for us now the

00:11:27,420 --> 00:11:35,130
the hyper converge is a concept

00:11:31,829 --> 00:11:37,110
I'll explain later but there were some

00:11:35,130 --> 00:11:39,449
of the things we had to change to make

00:11:37,110 --> 00:11:43,529
this possible

00:11:39,449 --> 00:11:46,110
so claustrophobia did to host an engine

00:11:43,529 --> 00:11:49,319
set up we had to remove it because

00:11:46,110 --> 00:11:52,589
people are trying to use it with low

00:11:49,319 --> 00:11:53,910
quorums like a quorum - in cluster if

00:11:52,589 --> 00:11:55,529
you know what that means it means that

00:11:53,910 --> 00:11:59,310
you have you only have two hosts that

00:11:55,529 --> 00:12:01,019
have to you know agree on the result and

00:11:59,310 --> 00:12:04,079
when you have only two hosts and one one

00:12:01,019 --> 00:12:06,209
goes down or if you try to connect to

00:12:04,079 --> 00:12:07,889
the two different hosts and writing

00:12:06,209 --> 00:12:10,139
you're writing data through two

00:12:07,889 --> 00:12:12,149
different hosts it's actually hard to

00:12:10,139 --> 00:12:14,399
decide which copy is the right one

00:12:12,149 --> 00:12:15,959
because you only have two hosts they

00:12:14,399 --> 00:12:18,300
have a different copy different

00:12:15,959 --> 00:12:20,730
synchronization so I mean there is a

00:12:18,300 --> 00:12:23,910
race condition and since we rely on

00:12:20,730 --> 00:12:25,910
storage for synchronization purposes it

00:12:23,910 --> 00:12:28,649
wasn't really good because both house

00:12:25,910 --> 00:12:31,050
wanted to tell us that oh something has

00:12:28,649 --> 00:12:33,000
higher priority for example so it was

00:12:31,050 --> 00:12:35,130
breaking the setup people were

00:12:33,000 --> 00:12:37,680
complaining and we told them what the

00:12:35,130 --> 00:12:40,079
issue is but at the end we just decided

00:12:37,680 --> 00:12:42,240
to remove goes to support for from the

00:12:40,079 --> 00:12:45,470
host engine setup so people are not

00:12:42,240 --> 00:12:48,310
hitting that without you know explicitly

00:12:45,470 --> 00:12:51,189
hacking

00:12:48,310 --> 00:12:54,670
now we're 'edit cluster as a support to

00:12:51,189 --> 00:12:57,579
hostel engine setup and we also worked

00:12:54,670 --> 00:13:01,360
with a glossary fest team so now we are

00:12:57,579 --> 00:13:02,279
using GFF api I'll explain what that

00:13:01,360 --> 00:13:06,059
means

00:13:02,279 --> 00:13:09,249
probably on the next slide or very soon

00:13:06,059 --> 00:13:12,610
before that we were actually using NFS

00:13:09,249 --> 00:13:17,350
gateway for accessing hosted serving

00:13:12,610 --> 00:13:20,319
cluster NFS has this inherent limitation

00:13:17,350 --> 00:13:22,089
where you need the single IP to connect

00:13:20,319 --> 00:13:23,709
to your NFS server if the server goes

00:13:22,089 --> 00:13:27,100
down you have to change the IPS

00:13:23,709 --> 00:13:29,980
everywhere so that was another failure

00:13:27,100 --> 00:13:33,459
point we wanted to remove and gf API

00:13:29,980 --> 00:13:36,339
allows us to do that now I already

00:13:33,459 --> 00:13:39,189
explained to you how tricky the engine

00:13:36,339 --> 00:13:42,279
setup was so we introduced and over

00:13:39,189 --> 00:13:45,089
engine appliance Simona I was probably

00:13:42,279 --> 00:13:48,569
talking about that I think yesterday so

00:13:45,089 --> 00:13:51,670
after me okay so the next presentation

00:13:48,569 --> 00:13:54,220
will be about host engine reply sorry

00:13:51,670 --> 00:13:56,709
ovirt-engine appliance you will

00:13:54,220 --> 00:13:58,509
basically get an OVF image with

00:13:56,709 --> 00:14:00,339
pre-configured instance of the

00:13:58,509 --> 00:14:02,470
management so you do not have to answer

00:14:00,339 --> 00:14:07,209
all the tricky questions only about half

00:14:02,470 --> 00:14:09,399
of them and it will spin up the VM with

00:14:07,209 --> 00:14:12,040
the management for you which is really

00:14:09,399 --> 00:14:13,720
cool you just install an RPM start host

00:14:12,040 --> 00:14:18,120
engine setup I'll show you how that

00:14:13,720 --> 00:14:23,350
works I have some images or scripted

00:14:18,120 --> 00:14:25,959
demo so I'll show you how that works it

00:14:23,350 --> 00:14:28,779
simplifies the setup tremendously

00:14:25,959 --> 00:14:31,300
now it also uses cloud in its

00:14:28,779 --> 00:14:34,629
configuration if you do not know what

00:14:31,300 --> 00:14:37,839
cloud in it is you might but I don't

00:14:34,629 --> 00:14:40,420
know it's generally it creates a virtual

00:14:37,839 --> 00:14:42,939
hard drive in the install system in the

00:14:40,420 --> 00:14:46,089
VM and the operating system knows to

00:14:42,939 --> 00:14:48,569
check the hard drive and run some

00:14:46,089 --> 00:14:51,970
scripts from it that's basically the

00:14:48,569 --> 00:14:54,879
summary so basically you start a VM you

00:14:51,970 --> 00:14:57,370
somehow inject USB key to it with the

00:14:54,879 --> 00:14:59,139
proper scripts and when it boots up it

00:14:57,370 --> 00:15:01,780
executes all the scripts and configures

00:14:59,139 --> 00:15:05,890
itself and we prepare all that for you

00:15:01,780 --> 00:15:08,320
so the appliance removes about half of

00:15:05,890 --> 00:15:12,160
the complexity from the hosting engine

00:15:08,320 --> 00:15:15,610
set up now another improvement we did

00:15:12,160 --> 00:15:17,800
for a two hosted engine is that we we

00:15:15,610 --> 00:15:20,350
are moving the configuration of the VM

00:15:17,800 --> 00:15:22,720
to shared storage again the storage is

00:15:20,350 --> 00:15:24,910
important for us but what we had right

00:15:22,720 --> 00:15:26,860
now what we had till now and what we

00:15:24,910 --> 00:15:29,290
still have actually at this moment is

00:15:26,860 --> 00:15:31,960
that each host that's capable of running

00:15:29,290 --> 00:15:34,900
the management VM has its own config

00:15:31,960 --> 00:15:37,270
file which configures the VM it

00:15:34,900 --> 00:15:41,080
specifies how much memory the VM has it

00:15:37,270 --> 00:15:43,650
specifies how many CPUs the VM has and

00:15:41,080 --> 00:15:46,540
we have we have a copy on each host

00:15:43,650 --> 00:15:49,720
that's error prone if you want to change

00:15:46,540 --> 00:15:51,790
the configuration of the VM you actually

00:15:49,720 --> 00:15:54,700
have to go to all your hosts and change

00:15:51,790 --> 00:15:57,670
the file that's not nice and it's not

00:15:54,700 --> 00:16:01,080
easy to do so we are moving there to

00:15:57,670 --> 00:16:04,960
shared storage we still have some backup

00:16:01,080 --> 00:16:06,910
plan and we have a compatibility code so

00:16:04,960 --> 00:16:08,710
if you don't have that we will still

00:16:06,910 --> 00:16:11,650
pick up the configuration from the

00:16:08,710 --> 00:16:16,150
original file it's also used for over

00:16:11,650 --> 00:16:18,820
3.5 to 3.6 upgrade or when we introduce

00:16:16,150 --> 00:16:21,880
that it's supposed to be there but I'll

00:16:18,820 --> 00:16:23,770
tell you the situation in a second so

00:16:21,880 --> 00:16:28,810
basically we will use the old

00:16:23,770 --> 00:16:30,700
configuration or if we have the if it's

00:16:28,810 --> 00:16:33,610
there we'll use the shared configuration

00:16:30,700 --> 00:16:36,490
and what we do is we actually copy the

00:16:33,610 --> 00:16:39,040
shared configuration every hour or so we

00:16:36,490 --> 00:16:41,320
copy it to a host so we have an offline

00:16:39,040 --> 00:16:45,580
backup if the network goes down we can

00:16:41,320 --> 00:16:48,940
still spin up the management so there

00:16:45,580 --> 00:16:51,280
are some compatibility reasons and

00:16:48,940 --> 00:16:53,710
backup reasons for us still having a

00:16:51,280 --> 00:16:56,110
local copy but right now the out earth

00:16:53,710 --> 00:16:59,680
of authoritative copy is going to be on

00:16:56,110 --> 00:17:03,490
a shared storage that was actually a bit

00:16:59,680 --> 00:17:07,569
tricky Simonet it's great job to you

00:17:03,490 --> 00:17:09,280
know fixing that and it allows us to do

00:17:07,569 --> 00:17:12,250
another thing which wasn't possible

00:17:09,280 --> 00:17:13,829
before we are introducing a management

00:17:12,250 --> 00:17:16,799
UI in the

00:17:13,829 --> 00:17:19,110
Oh work management platform where you

00:17:16,799 --> 00:17:21,569
would be able to actually edit the VM

00:17:19,110 --> 00:17:24,329
the hosted engine VM directly from the

00:17:21,569 --> 00:17:27,559
from the management it's it wasn't

00:17:24,329 --> 00:17:31,440
possible before the VM was visible but

00:17:27,559 --> 00:17:33,120
our irritation was disabled because we

00:17:31,440 --> 00:17:34,830
had a specific configuration and

00:17:33,120 --> 00:17:36,539
obviously you are not starting the

00:17:34,830 --> 00:17:38,309
management from inside the management

00:17:36,539 --> 00:17:42,350
what you do is when the management goes

00:17:38,309 --> 00:17:44,970
down the separate daemon is starting pad

00:17:42,350 --> 00:17:47,340
chicken-and-egg problem again so right

00:17:44,970 --> 00:17:49,470
now what what we all do we actually

00:17:47,340 --> 00:17:52,350
introduced and we are introducing the UI

00:17:49,470 --> 00:17:55,830
you will edit the VM and every now and

00:17:52,350 --> 00:17:58,380
then the config of that VM is actually

00:17:55,830 --> 00:18:03,480
posted to the shared storage from where

00:17:58,380 --> 00:18:11,389
the whole demon pair we use we read it

00:18:03,480 --> 00:18:14,970
and use it so now it was a really short

00:18:11,389 --> 00:18:18,059
hosted Engine introduction sorry I can

00:18:14,970 --> 00:18:20,130
be so you know more specific but the

00:18:18,059 --> 00:18:23,940
whole hosted engine presentation could

00:18:20,130 --> 00:18:26,309
take hours actually so let's move to

00:18:23,940 --> 00:18:28,380
blaster FS that you might be more

00:18:26,309 --> 00:18:30,899
familiar with Gloster FS are done with

00:18:28,380 --> 00:18:34,830
hosting engine class Rufus is a pretty

00:18:30,899 --> 00:18:39,090
pretty nice file system it's distributed

00:18:34,830 --> 00:18:42,419
it has built-in fault tolerant and it

00:18:39,090 --> 00:18:44,370
has a couple of layered architecture and

00:18:42,419 --> 00:18:47,010
it doesn't require anything specific

00:18:44,370 --> 00:18:50,549
than a couple of packages ghost refers

00:18:47,010 --> 00:18:52,950
demon and a file system with extended

00:18:50,549 --> 00:18:55,230
attribute support so if you look at the

00:18:52,950 --> 00:18:57,990
image what you do when you create your

00:18:55,230 --> 00:18:59,789
glossary first volume is you create some

00:18:57,990 --> 00:19:01,559
partition you do not even have to do

00:18:59,789 --> 00:19:03,360
that but you have to force it if you

00:19:01,559 --> 00:19:05,190
want to use a directory but you create a

00:19:03,360 --> 00:19:08,100
partition you create a directory on top

00:19:05,190 --> 00:19:11,940
of that and you tell Gloucester oh this

00:19:08,100 --> 00:19:13,889
is my break brick is just it's just like

00:19:11,940 --> 00:19:17,669
a physical disk in the real world it's

00:19:13,889 --> 00:19:20,070
just a place to store data then you take

00:19:17,669 --> 00:19:22,980
multiple bricks and merge them together

00:19:20,070 --> 00:19:26,040
to a volume volume is like your file

00:19:22,980 --> 00:19:29,820
system basically so you create a volume

00:19:26,040 --> 00:19:35,640
and you can specify the properties of

00:19:29,820 --> 00:19:39,090
that volume you can give it quorum

00:19:35,640 --> 00:19:41,910
information for example I'll share it on

00:19:39,090 --> 00:19:46,500
some other slides so you can set up a

00:19:41,910 --> 00:19:49,020
stripe mirroring distribution basically

00:19:46,500 --> 00:19:50,760
you can the volume has some properties

00:19:49,020 --> 00:19:53,160
that control where the data are placed

00:19:50,760 --> 00:19:55,110
on the bricks so you can have a copy on

00:19:53,160 --> 00:19:57,360
every brick you can have copy on some of

00:19:55,110 --> 00:19:59,610
the bricks you can stripe so you can

00:19:57,360 --> 00:20:02,250
multiply the amount of free space you

00:19:59,610 --> 00:20:06,060
have but that's the same as I think it's

00:20:02,250 --> 00:20:08,310
rate one when you basically stripe if

00:20:06,060 --> 00:20:10,230
any one any of those bricks goes down

00:20:08,310 --> 00:20:12,960
you lose the whole whole system so you

00:20:10,230 --> 00:20:14,930
can select that and that's how it works

00:20:12,960 --> 00:20:17,340
it's complete in userspace

00:20:14,930 --> 00:20:19,980
traditional there was a fuse interface

00:20:17,340 --> 00:20:23,130
so you used fuse to access that that

00:20:19,980 --> 00:20:30,690
used quite a lot of CPU now with the GAF

00:20:23,130 --> 00:20:33,480
API it's a bit easier yeah this is what

00:20:30,690 --> 00:20:35,100
a brick looks like see it's just that

00:20:33,480 --> 00:20:37,110
another directory on your file system

00:20:35,100 --> 00:20:39,720
and the only thing you do you tell

00:20:37,110 --> 00:20:41,250
cluster this is a break this directory

00:20:39,720 --> 00:20:42,840
is my break and gossler will start

00:20:41,250 --> 00:20:45,900
putting data there once you add it to a

00:20:42,840 --> 00:20:48,890
volume so each brick inherits the limits

00:20:45,900 --> 00:20:51,750
of the filesystem which is important

00:20:48,890 --> 00:20:55,020
it obviously limits the amount of free

00:20:51,750 --> 00:20:57,060
space you get for this brick the best

00:20:55,020 --> 00:20:58,620
practice says that all your bricks that

00:20:57,060 --> 00:21:00,600
are added to a single volume should be

00:20:58,620 --> 00:21:02,580
the same sized obviously for mirroring

00:21:00,600 --> 00:21:06,780
you need that otherwise you're not using

00:21:02,580 --> 00:21:09,600
the full potential so that's like that's

00:21:06,780 --> 00:21:12,000
how it works you are not limited in any

00:21:09,600 --> 00:21:13,980
way in the number in the count of bricks

00:21:12,000 --> 00:21:15,720
you want to have on your on your system

00:21:13,980 --> 00:21:18,530
so you can have multiple directories on

00:21:15,720 --> 00:21:21,300
a single host you can use those

00:21:18,530 --> 00:21:23,970
directories for bricks that are either

00:21:21,300 --> 00:21:28,260
part of different volumes or part of the

00:21:23,970 --> 00:21:30,420
same volume the although having multiple

00:21:28,260 --> 00:21:32,480
bricks on the same host being part of

00:21:30,420 --> 00:21:37,190
the same volume doesn't make much sense

00:21:32,480 --> 00:21:39,960
but you can do that so

00:21:37,190 --> 00:21:42,180
now this is about volume as I already

00:21:39,960 --> 00:21:44,040
said volume is the mountable entity it

00:21:42,180 --> 00:21:47,520
consists of couple of bricks and you can

00:21:44,040 --> 00:21:50,040
select the mode it operates in so you

00:21:47,520 --> 00:21:52,350
see that bricks from the same node can

00:21:50,040 --> 00:21:54,450
be part of different volumes that's the

00:21:52,350 --> 00:21:57,060
usual way of doing that you can have

00:21:54,450 --> 00:22:01,280
different types of volumes distribute

00:21:57,060 --> 00:22:04,530
stripe replicate and the most important

00:22:01,280 --> 00:22:07,830
property of a volume is the quorum

00:22:04,530 --> 00:22:12,660
settings at least for us the quorum

00:22:07,830 --> 00:22:17,280
setting specifies how many nodes have to

00:22:12,660 --> 00:22:19,080
agree on the actual data block if you

00:22:17,280 --> 00:22:21,210
have two hosts I already told you that

00:22:19,080 --> 00:22:24,020
you can have issues because when two

00:22:21,210 --> 00:22:28,290
hosts are starting start to argue about

00:22:24,020 --> 00:22:30,920
what a bit or byte value is it probably

00:22:28,290 --> 00:22:34,950
uses blocks but you get a point

00:22:30,920 --> 00:22:37,800
there is nobody to decide who is correct

00:22:34,950 --> 00:22:39,990
if you select quorum 3 which is the only

00:22:37,800 --> 00:22:42,840
mount with support then you have 3 hosts

00:22:39,990 --> 00:22:46,290
so when to start argue there is the

00:22:42,840 --> 00:22:49,890
third house that can you know check his

00:22:46,290 --> 00:22:52,140
own copy and give a vote to one of those

00:22:49,890 --> 00:22:55,620
two so basically if you have three hosts

00:22:52,140 --> 00:22:58,200
it's much easier to determine what is

00:22:55,620 --> 00:23:00,570
the correct value and that's the only

00:22:58,200 --> 00:23:02,460
mode we support for these obvious

00:23:00,570 --> 00:23:05,700
reasons we rely on the storage to be

00:23:02,460 --> 00:23:07,440
correct if you have quorum 3 you can be

00:23:05,700 --> 00:23:09,180
pretty sure that what you get from

00:23:07,440 --> 00:23:16,350
Gloucester is correct if you have poram

00:23:09,180 --> 00:23:18,930
2 you get synchronization issues so now

00:23:16,350 --> 00:23:23,070
I already talked about Lib gf API

00:23:18,930 --> 00:23:27,090
support so Gloucester FS exports API for

00:23:23,070 --> 00:23:30,510
accessing cluster volumes this is the

00:23:27,090 --> 00:23:33,690
traditional way so Q mu was connecting

00:23:30,510 --> 00:23:36,990
to the kernel virtual file system using

00:23:33,690 --> 00:23:40,290
the usual means it was a mounted foster

00:23:36,990 --> 00:23:42,360
volume that went to diffuse cluster FS

00:23:40,290 --> 00:23:44,250
daemon that then talked over the network

00:23:42,360 --> 00:23:47,160
to its counterpart on the destination

00:23:44,250 --> 00:23:49,590
host and that went to the cluster brick

00:23:47,160 --> 00:23:51,870
and file system as you can see there are

00:23:49,590 --> 00:23:56,190
a lot of contact switches it goes from

00:23:51,870 --> 00:24:00,960
kernel to use space and back so it's not

00:23:56,190 --> 00:24:02,970
that efficient fortunately well we asked

00:24:00,960 --> 00:24:04,410
the cluster people and they helped us

00:24:02,970 --> 00:24:06,810
and they probably wanted that I wanted

00:24:04,410 --> 00:24:09,240
this anyway so they helped us and we

00:24:06,810 --> 00:24:11,190
have a lip chief API support now

00:24:09,240 --> 00:24:17,070
so hosted engine uses the direct

00:24:11,190 --> 00:24:19,740
approach chramu talks to the network

00:24:17,070 --> 00:24:21,690
directly and it talks to the cluster

00:24:19,740 --> 00:24:24,390
counterpart on the destination host

00:24:21,690 --> 00:24:26,850
without doing all the fuse and kernel

00:24:24,390 --> 00:24:28,890
magic on the source host that reduces

00:24:26,850 --> 00:24:31,560
contact switches tremendously it

00:24:28,890 --> 00:24:33,420
improves the performance and it's more

00:24:31,560 --> 00:24:35,310
direct you can see that at least three

00:24:33,420 --> 00:24:39,780
different steps were removed so that

00:24:35,310 --> 00:24:45,950
that helps Judas to come for supporting

00:24:39,780 --> 00:24:48,690
that it's it's it's really cool now I

00:24:45,950 --> 00:24:50,670
showed you all the bits and pieces but

00:24:48,690 --> 00:24:52,860
those together are really just bits and

00:24:50,670 --> 00:24:55,080
pieces and you are used to your bits and

00:24:52,860 --> 00:24:57,060
pieces through the low-level parts but

00:24:55,080 --> 00:25:01,350
what we do we actually integrate that to

00:24:57,060 --> 00:25:03,230
a product or to project so putting it

00:25:01,350 --> 00:25:05,960
all together requires a couple of

00:25:03,230 --> 00:25:08,700
ingredients you need over the cluster

00:25:05,960 --> 00:25:11,880
you need gloss refers back to rich

00:25:08,700 --> 00:25:13,860
domain and you will get hosted engine

00:25:11,880 --> 00:25:16,710
that will maintain the high availability

00:25:13,860 --> 00:25:20,120
of the management and you will install

00:25:16,710 --> 00:25:20,120
that using the pre-configured

00:25:20,300 --> 00:25:27,470
ovirt-engine appliance to make it easier

00:25:24,060 --> 00:25:30,840
now I have I have one disclaimer to make

00:25:27,470 --> 00:25:33,930
unfortunately we found out a week ago

00:25:30,840 --> 00:25:36,270
that it wasn't totally ready to be

00:25:33,930 --> 00:25:38,910
pushed you know to the public space so

00:25:36,270 --> 00:25:41,580
we we removed that feature from over

00:25:38,910 --> 00:25:44,160
three point six so the the freshest

00:25:41,580 --> 00:25:48,030
coming feature sorry the freshest coming

00:25:44,160 --> 00:25:50,550
version of overt won't have the nice UI

00:25:48,030 --> 00:25:53,460
and it won't have all the nice features

00:25:50,550 --> 00:25:56,250
it's still possible to do a setup

00:25:53,460 --> 00:25:58,260
manually it might be a bit tricky it's

00:25:56,250 --> 00:25:59,570
still experimental and we are working

00:25:58,260 --> 00:26:01,940
very hard on

00:25:59,570 --> 00:26:04,760
you know putting it back there but right

00:26:01,940 --> 00:26:07,100
now it's not there so I'm kind of

00:26:04,760 --> 00:26:10,550
ashamed of that but we didn't make the

00:26:07,100 --> 00:26:13,130
feature freeze so we had to we had to

00:26:10,550 --> 00:26:16,600
remove that so now I'll be talking about

00:26:13,130 --> 00:26:18,830
how to how to set up works and while

00:26:16,600 --> 00:26:21,200
conducting you through the setup and

00:26:18,830 --> 00:26:22,790
showing you all the nice features we

00:26:21,200 --> 00:26:25,610
introduced or we are going to introduce

00:26:22,790 --> 00:26:29,630
I'll show you the differences and I'll

00:26:25,610 --> 00:26:31,400
show you what we have right now so the

00:26:29,630 --> 00:26:34,130
whole architecture of hyper-converged

00:26:31,400 --> 00:26:37,540
overt in gloucester FS as you can see

00:26:34,130 --> 00:26:40,280
now how let me show you the first image

00:26:37,540 --> 00:26:42,770
so this is the first image we have a

00:26:40,280 --> 00:26:44,780
separate engine house separate house for

00:26:42,770 --> 00:26:49,700
the VMS and separate hosts for the

00:26:44,780 --> 00:26:52,070
storage now if you compare it with this

00:26:49,700 --> 00:26:54,890
image you see that we have a single set

00:26:52,070 --> 00:26:56,930
of hosts the house are running

00:26:54,890 --> 00:26:59,570
everything together management is on

00:26:56,930 --> 00:27:01,640
those hosts inside the VM our VMs are on

00:26:59,570 --> 00:27:04,250
those hosts the storage is on the same

00:27:01,640 --> 00:27:08,810
set of hosts and that makes it easy to

00:27:04,250 --> 00:27:12,050
add a host spin up spin it up and extend

00:27:08,810 --> 00:27:16,430
your storage your CPU power to run the

00:27:12,050 --> 00:27:18,050
VMS the boxes can be standardized you

00:27:16,430 --> 00:27:19,880
don't have to care about where you are

00:27:18,050 --> 00:27:21,230
whether you are adding a host for

00:27:19,880 --> 00:27:23,000
virtual machines or whether we are

00:27:21,230 --> 00:27:26,990
adding a host for storage you get

00:27:23,000 --> 00:27:29,840
everything together it also allows you

00:27:26,990 --> 00:27:32,330
to easily plan the migrations of your

00:27:29,840 --> 00:27:37,310
engine because all the hosts are equal

00:27:32,330 --> 00:27:40,510
and that was our goal the second goal we

00:27:37,310 --> 00:27:44,180
had was to allow running the whole overt

00:27:40,510 --> 00:27:46,160
environment on three hosts only there

00:27:44,180 --> 00:27:49,160
are people requesting a really small

00:27:46,160 --> 00:27:53,720
scale setup which would still be highly

00:27:49,160 --> 00:27:55,400
available for glass reasons and for

00:27:53,720 --> 00:27:58,490
hosting Asian reasons we couldn't do

00:27:55,400 --> 00:28:01,670
this with two hosts only because then we

00:27:58,490 --> 00:28:05,120
would only have quorum two and as I

00:28:01,670 --> 00:28:07,460
already said the determinist you know we

00:28:05,120 --> 00:28:10,430
can't determine who is right in quorum

00:28:07,460 --> 00:28:12,860
quorum to set up but with three hosts we

00:28:10,430 --> 00:28:13,130
can do that so this actually allows you

00:28:12,860 --> 00:28:15,020
to

00:28:13,130 --> 00:28:18,800
three hosts in your office very

00:28:15,020 --> 00:28:22,210
small-scale office and have storage

00:28:18,800 --> 00:28:25,070
management and VMs with highly

00:28:22,210 --> 00:28:28,220
availability of storage of management

00:28:25,070 --> 00:28:33,530
and of your VMs on that setup which is

00:28:28,220 --> 00:28:35,870
one of the goals we had so that's our

00:28:33,530 --> 00:28:38,210
plan you can see everything is running

00:28:35,870 --> 00:28:43,820
unison same set of hosts it allows you

00:28:38,210 --> 00:28:46,250
to do pretty nice things so the actual

00:28:43,820 --> 00:28:48,290
ingredients so we all need at least

00:28:46,250 --> 00:28:52,400
three virtualization capable hosts

00:28:48,290 --> 00:28:59,120
currently with center of 7.1 or rel 7.1

00:28:52,400 --> 00:29:01,430
plus with overt repositories or ravage

00:28:59,120 --> 00:29:04,760
on top of rel or on top of Santo us

00:29:01,430 --> 00:29:07,280
currently we are actually not 100% sure

00:29:04,760 --> 00:29:10,520
about that status of rev H we'll have to

00:29:07,280 --> 00:29:14,270
work with the team to make it more

00:29:10,520 --> 00:29:16,160
seamless and more reliable you will need

00:29:14,270 --> 00:29:18,710
at least 10 megabytes of temporary space

00:29:16,160 --> 00:29:20,330
on the primary host so when you have

00:29:18,710 --> 00:29:22,700
multiple hosts you need to do the

00:29:20,330 --> 00:29:24,200
bootstrap because you have no management

00:29:22,700 --> 00:29:26,480
running right now you have nothing

00:29:24,200 --> 00:29:28,130
running no VM you only have your hosts

00:29:26,480 --> 00:29:29,600
so we will pick up one of those hosts

00:29:28,130 --> 00:29:32,390
and you need at least 10 gigabytes of

00:29:29,600 --> 00:29:34,340
temporary space which is usually not an

00:29:32,390 --> 00:29:37,220
issue on a physical house but I did that

00:29:34,340 --> 00:29:38,990
in nested virtualization environment and

00:29:37,220 --> 00:29:41,000
I was hit by that so that's why I'm

00:29:38,990 --> 00:29:43,520
mentioning that you will need two

00:29:41,000 --> 00:29:47,480
separate partitions for data at least 20

00:29:43,520 --> 00:29:51,140
gigabyte vinegar by its size of standing

00:29:47,480 --> 00:29:53,540
ab exercise again one will be used for

00:29:51,140 --> 00:29:55,840
hosted engine the actual VM that runs

00:29:53,540 --> 00:29:58,640
the management we have a special storage

00:29:55,840 --> 00:30:00,710
domain for that the second one will be

00:29:58,640 --> 00:30:02,510
used for all your VMs so it's probably

00:30:00,710 --> 00:30:05,500
supposed it will probably need to be a

00:30:02,510 --> 00:30:08,930
bit bigger than just 20 gigabytes but

00:30:05,500 --> 00:30:11,000
this is the requirement then you can

00:30:08,930 --> 00:30:13,400
either use static network configuration

00:30:11,000 --> 00:30:15,380
or if you use dynamic network

00:30:13,400 --> 00:30:17,510
configuration you will need DHCP

00:30:15,380 --> 00:30:17,840
configure to map a MAC address to fixed

00:30:17,510 --> 00:30:20,240
IP

00:30:17,840 --> 00:30:23,960
that's one of the really tricky points

00:30:20,240 --> 00:30:26,500
in hostel engine setup there the VM gets

00:30:23,960 --> 00:30:28,330
an IP and the hostname has to

00:30:26,500 --> 00:30:29,350
the hostname you selected when you were

00:30:28,330 --> 00:30:32,380
doing the bootstrap

00:30:29,350 --> 00:30:35,470
so you basically need a deterministic

00:30:32,380 --> 00:30:38,169
way of telling hosted engine that spin

00:30:35,470 --> 00:30:40,570
up this VM give it this IP and it has to

00:30:38,169 --> 00:30:42,250
ask this hostname so you will need DHCP

00:30:40,570 --> 00:30:45,010
with the proper MAC address two IP

00:30:42,250 --> 00:30:47,860
mapping you will need DNS commit proper

00:30:45,010 --> 00:30:51,549
a and PTR records PTR is probably not

00:30:47,860 --> 00:30:53,919
necessary but it's a good thing to have

00:30:51,549 --> 00:30:56,320
and then you will need to install the

00:30:53,919 --> 00:30:59,650
overed release package that prepares all

00:30:56,320 --> 00:31:01,330
the repositories on your host now to

00:30:59,650 --> 00:31:03,190
install hosted engine you either need

00:31:01,330 --> 00:31:06,010
the physical access to console on one of

00:31:03,190 --> 00:31:08,830
your hosts the primary one or you can

00:31:06,010 --> 00:31:11,350
connect over network but then we

00:31:08,830 --> 00:31:13,510
actually require well I think we don't

00:31:11,350 --> 00:31:17,200
require that but we really recommend

00:31:13,510 --> 00:31:19,030
using screen to shield you from network

00:31:17,200 --> 00:31:21,340
connection issues like when we

00:31:19,030 --> 00:31:24,250
reconfigure the firewall and the

00:31:21,340 --> 00:31:27,010
connection is temporarily interrupted it

00:31:24,250 --> 00:31:29,290
might you know kill your SSH connection

00:31:27,010 --> 00:31:31,960
and that's not a good idea so we

00:31:29,290 --> 00:31:34,929
recommend screen so you are shielded

00:31:31,960 --> 00:31:38,140
from this now this is a step that will

00:31:34,929 --> 00:31:40,720
be done by the hosted engine setup after

00:31:38,140 --> 00:31:43,330
we finish it but right now we have to do

00:31:40,720 --> 00:31:46,059
it manually so basically creating your

00:31:43,330 --> 00:31:49,360
own cluster volume it's as easy as

00:31:46,059 --> 00:31:52,240
installing the proper packages yum

00:31:49,360 --> 00:31:54,280
install ghost refer server systemctl

00:31:52,240 --> 00:31:57,340
enable a ghost of a server so you

00:31:54,280 --> 00:31:59,380
basically start the server and that's

00:31:57,340 --> 00:32:03,040
just the daemon that manages everything

00:31:59,380 --> 00:32:04,809
then you create your directory very very

00:32:03,040 --> 00:32:07,809
for your cluster break

00:32:04,809 --> 00:32:10,410
I used a sorry Gloucester hosted engine

00:32:07,809 --> 00:32:14,350
break it can be any part you want

00:32:10,410 --> 00:32:17,590
Gloucester tools kind of require that

00:32:14,350 --> 00:32:19,480
you use separate partition for that the

00:32:17,590 --> 00:32:22,270
tool actually checks for that but you

00:32:19,480 --> 00:32:25,210
can force it to use a directory only

00:32:22,270 --> 00:32:26,590
that's what I did for testing I mean

00:32:25,210 --> 00:32:28,390
using a separate partition is a good

00:32:26,590 --> 00:32:32,380
idea so you are not starving your

00:32:28,390 --> 00:32:35,720
operating system but it's not 100%

00:32:32,380 --> 00:32:39,980
necessary it's probably recommended

00:32:35,720 --> 00:32:42,259
now when you have the break and you

00:32:39,980 --> 00:32:45,110
basically create a break on every house

00:32:42,259 --> 00:32:48,679
you have so you can set up all the

00:32:45,110 --> 00:32:51,019
distribution in cluster you tell the

00:32:48,679 --> 00:32:53,750
cluster on the primary note where the

00:32:51,019 --> 00:32:55,700
other notes are so cluster peer probe

00:32:53,750 --> 00:32:58,309
and you give it I P address of another

00:32:55,700 --> 00:33:02,899
host and you executive for each host you

00:32:58,309 --> 00:33:04,490
have it internally prepares all the

00:33:02,899 --> 00:33:07,669
Gloucester connections between those

00:33:04,490 --> 00:33:10,370
those hosts and the hospital see each

00:33:07,669 --> 00:33:12,110
other it also means that you can use any

00:33:10,370 --> 00:33:16,190
of those hosts to connect to any of

00:33:12,110 --> 00:33:19,039
those volumes you create independently

00:33:16,190 --> 00:33:21,379
or when the where the bricks are you

00:33:19,039 --> 00:33:23,299
just use one of the IPS it connects

00:33:21,379 --> 00:33:26,090
there and gets the list of all the other

00:33:23,299 --> 00:33:29,090
hosts and then it will use the breaks

00:33:26,090 --> 00:33:31,639
for data and then the final step you

00:33:29,090 --> 00:33:34,000
actually create the volume and the board

00:33:31,639 --> 00:33:37,600
part is really important you have to

00:33:34,000 --> 00:33:40,220
tell cluster that you want replica three

00:33:37,600 --> 00:33:42,679
so it actually starts using replica

00:33:40,220 --> 00:33:44,720
three algorithms and you give it the

00:33:42,679 --> 00:33:47,899
list of all the directories in your

00:33:44,720 --> 00:33:50,389
hosts then you actually start a volume

00:33:47,899 --> 00:33:52,070
and it spins up the volume you can't see

00:33:50,389 --> 00:33:54,320
anything yet in your operating system

00:33:52,070 --> 00:34:01,309
but since this point it's actually

00:33:54,320 --> 00:34:03,529
mountable so there is a another part of

00:34:01,309 --> 00:34:05,779
setting up the volume that will be done

00:34:03,529 --> 00:34:09,200
automatically again but right now this

00:34:05,779 --> 00:34:11,869
is specific for overt I'm setting the

00:34:09,200 --> 00:34:13,579
quorum title Auto now because we are

00:34:11,869 --> 00:34:16,909
using quorum three but if one of the

00:34:13,579 --> 00:34:21,889
hosts or two of those hosts go down we

00:34:16,909 --> 00:34:24,050
want us to to degrade well in a nice way

00:34:21,889 --> 00:34:25,819
if you only have one host you are also

00:34:24,050 --> 00:34:27,589
fine you don't have any high

00:34:25,819 --> 00:34:30,409
availability you don't have redundancy

00:34:27,589 --> 00:34:33,700
but you can still read the data and you

00:34:30,409 --> 00:34:37,909
can restart the VM it will read the data

00:34:33,700 --> 00:34:39,829
probably and then you can kind of fix

00:34:37,909 --> 00:34:44,780
your cluster so you can start the other

00:34:39,829 --> 00:34:47,389
hosts backup then we have some timeout

00:34:44,780 --> 00:34:50,540
timeout configuration we have to allow

00:34:47,389 --> 00:34:52,909
access to the bricks from any house we

00:34:50,540 --> 00:34:58,540
have we have to set some permission

00:34:52,909 --> 00:35:01,760
permission numbers owner UID GUI

00:34:58,540 --> 00:35:03,740
basically that means that VDS m and I

00:35:01,760 --> 00:35:06,470
think it's the video some user and KVM

00:35:03,740 --> 00:35:11,599
group so we do some mechanics s the

00:35:06,470 --> 00:35:14,660
actual volume allow insecure on I'm not

00:35:11,599 --> 00:35:17,420
sure if it's necessary right now it used

00:35:14,660 --> 00:35:20,750
to be necessary but Gloucester Group did

00:35:17,420 --> 00:35:24,619
some work regarding to HTTP and

00:35:20,750 --> 00:35:25,970
basically as a salt connection so is

00:35:24,619 --> 00:35:28,400
there anybody from the Gloucester team

00:35:25,970 --> 00:35:33,650
actually here do you know how what the

00:35:28,400 --> 00:35:39,530
status of the assault connection is it's

00:35:33,650 --> 00:35:42,470
not necessary now next phase okay next

00:35:39,530 --> 00:35:45,020
release so all right so Gloucester will

00:35:42,470 --> 00:35:50,660
support secure connection in the next

00:35:45,020 --> 00:35:52,250
release so now we have the Gloucester

00:35:50,660 --> 00:35:54,410
setup that will be done automatically

00:35:52,250 --> 00:35:56,450
and now this is what you will actually

00:35:54,410 --> 00:35:58,310
see when you start installing hosted

00:35:56,450 --> 00:36:00,380
engine you install ovirt-engine

00:35:58,310 --> 00:36:02,300
appliance didn't ice that's the nice

00:36:00,380 --> 00:36:03,619
thing we already introduced it's one of

00:36:02,300 --> 00:36:05,960
the things we actually have right now

00:36:03,619 --> 00:36:09,020
you install the over hosted engine set

00:36:05,960 --> 00:36:11,990
up and then Gloucester Gloucester has

00:36:09,020 --> 00:36:14,480
server some support packages now when

00:36:11,990 --> 00:36:18,020
you start the setup it starts asking you

00:36:14,480 --> 00:36:19,490
questions whenever first question is do

00:36:18,020 --> 00:36:22,730
you really want to install hosted engine

00:36:19,490 --> 00:36:25,099
obviously that's yes but then you need

00:36:22,730 --> 00:36:28,970
to specify the storage type we added

00:36:25,099 --> 00:36:30,710
Gloucester so you saw it cost refers you

00:36:28,970 --> 00:36:34,190
give it the full storage part your

00:36:30,710 --> 00:36:37,760
Gloucester volume you can use any IP out

00:36:34,190 --> 00:36:40,190
of all those Gloucester notes so I used

00:36:37,760 --> 00:36:41,930
the IP of my primary host here but you

00:36:40,190 --> 00:36:43,640
can use any of those it will

00:36:41,930 --> 00:36:45,470
automatically determine everything and

00:36:43,640 --> 00:36:48,700
the high availability will be working

00:36:45,470 --> 00:36:51,920
you give it a part to Gloucester volume

00:36:48,700 --> 00:36:54,109
it's not a part to any break it's really

00:36:51,920 --> 00:36:56,830
just slash name of the volume because

00:36:54,109 --> 00:36:58,810
Gloucester exposes the volume names

00:36:56,830 --> 00:37:00,820
and then hosted engines will detect

00:36:58,810 --> 00:37:03,190
where you are running replicas 3 we

00:37:00,820 --> 00:37:05,350
actually have the check now so it won't

00:37:03,190 --> 00:37:07,810
complain if you are not and it won't let

00:37:05,350 --> 00:37:09,910
you go on then

00:37:07,810 --> 00:37:12,460
some other lines and questions will

00:37:09,910 --> 00:37:15,310
happen nothing really important for the

00:37:12,460 --> 00:37:19,150
hosted engine setup and then it will ask

00:37:15,310 --> 00:37:23,290
you how the VM for the management should

00:37:19,150 --> 00:37:24,940
be started when you select disk it

00:37:23,290 --> 00:37:28,030
actually automatically gives you the

00:37:24,940 --> 00:37:30,220
option to use the appliance it knows the

00:37:28,030 --> 00:37:32,560
proper locations for the appliance files

00:37:30,220 --> 00:37:35,370
so it will automate it automatically

00:37:32,560 --> 00:37:37,900
detect the over the appliance image and

00:37:35,370 --> 00:37:40,690
it will give you the option to use it so

00:37:37,900 --> 00:37:45,940
I did that and then it allows you to

00:37:40,690 --> 00:37:48,610
customize the actual VM options like the

00:37:45,940 --> 00:37:51,010
memory size there is some default I

00:37:48,610 --> 00:37:54,520
think I used the default here 16

00:37:51,010 --> 00:37:56,680
gigabytes of RAM you can change it it

00:37:54,520 --> 00:37:59,950
also asks you about number of CPUs if

00:37:56,680 --> 00:38:01,450
I'm not mistaken and it asks you whether

00:37:59,950 --> 00:38:03,810
you want to use cloud in it to actually

00:38:01,450 --> 00:38:06,190
customize the internals of the VM

00:38:03,810 --> 00:38:08,830
because memory size that's still

00:38:06,190 --> 00:38:11,080
configuration of the actual VM the

00:38:08,830 --> 00:38:13,210
virtual machine it's not configuring

00:38:11,080 --> 00:38:16,030
anything with regards to the management

00:38:13,210 --> 00:38:18,880
to the engine to JBoss but you can you

00:38:16,030 --> 00:38:21,010
actually have to customize the internals

00:38:18,880 --> 00:38:23,530
so it will use cloud in it it will start

00:38:21,010 --> 00:38:26,080
in you know starter VM and run the

00:38:23,530 --> 00:38:28,000
scripts in the operating system and here

00:38:26,080 --> 00:38:29,500
is one of the tricky parts you have to

00:38:28,000 --> 00:38:31,390
give it an engine fqdn

00:38:29,500 --> 00:38:35,890
so you actually have to give it a host

00:38:31,390 --> 00:38:38,380
name you want the management to use in

00:38:35,890 --> 00:38:40,810
the past this was the tricky part

00:38:38,380 --> 00:38:43,300
because if your DHCP wasn't configured

00:38:40,810 --> 00:38:46,270
properly if your IP wasn't pertinent

00:38:43,300 --> 00:38:49,510
figure properly or if you used a

00:38:46,270 --> 00:38:51,850
different fqdn in this setup and in the

00:38:49,510 --> 00:38:54,580
ovirt-engine setup running inside the VM

00:38:51,850 --> 00:38:57,910
it couldn't talk to each other properly

00:38:54,580 --> 00:39:00,910
and the install failed right now

00:38:57,910 --> 00:39:03,250
you only give it one fqdn and it

00:39:00,910 --> 00:39:07,120
automatically pass is the same fqdn to

00:39:03,250 --> 00:39:09,730
inside the virtual machine so you we

00:39:07,120 --> 00:39:12,920
removed one of the points where you

00:39:09,730 --> 00:39:14,840
we're eligible to make a mistake and we

00:39:12,920 --> 00:39:17,090
did that many times I mean even me

00:39:14,840 --> 00:39:19,940
installing hosted engine using the

00:39:17,090 --> 00:39:23,120
original setup on the first try was

00:39:19,940 --> 00:39:25,970
almost almost impossible you always did

00:39:23,120 --> 00:39:27,280
some mistake so now the only thing you

00:39:25,970 --> 00:39:29,330
have to select is the MAC address

00:39:27,280 --> 00:39:31,970
because we're using and I was using

00:39:29,330 --> 00:39:33,620
dynamic IP allocation so you have to

00:39:31,970 --> 00:39:35,810
give it the proper MAC address to the VM

00:39:33,620 --> 00:39:39,470
so it gets the proper IP that's

00:39:35,810 --> 00:39:42,560
allocated and matches the fqdn so that's

00:39:39,470 --> 00:39:45,080
what I do and then it just gives you all

00:39:42,560 --> 00:39:47,060
the information and asks you to confirm

00:39:45,080 --> 00:39:50,630
that there are quite a lot of other

00:39:47,060 --> 00:39:54,170
questions you might want to select but

00:39:50,630 --> 00:39:55,280
they're mostly about passwords that's

00:39:54,170 --> 00:39:57,680
not really important for the

00:39:55,280 --> 00:39:59,510
installation but obviously you have to

00:39:57,680 --> 00:40:01,430
cite some root password for the VM you

00:39:59,510 --> 00:40:05,690
have to select the password for the

00:40:01,430 --> 00:40:07,730
management so that those lines I omitted

00:40:05,690 --> 00:40:11,240
because they were not that important for

00:40:07,730 --> 00:40:12,590
the actual project I'm talking about you

00:40:11,240 --> 00:40:14,870
can actually watch a full video of

00:40:12,590 --> 00:40:18,560
hosted engine installation with the

00:40:14,870 --> 00:40:21,500
appliance on YouTube it's Simone I did

00:40:18,560 --> 00:40:23,540
that I just lost it yes moved somewhere

00:40:21,500 --> 00:40:25,700
but Simone I did that and as I said

00:40:23,540 --> 00:40:30,490
we'll have a presentation about how the

00:40:25,700 --> 00:40:34,120
appliance install works after me so

00:40:30,490 --> 00:40:37,580
that's when you want the full details

00:40:34,120 --> 00:40:39,560
now to finish setup of over cluster now

00:40:37,580 --> 00:40:41,690
you have a running management but it

00:40:39,560 --> 00:40:44,090
doesn't contain anything it you can see

00:40:41,690 --> 00:40:48,200
one house there the one that's running

00:40:44,090 --> 00:40:50,930
the management you can see the VM video

00:40:48,200 --> 00:40:53,330
management and the storage for the

00:40:50,930 --> 00:40:55,340
management is hidden so you only log in

00:40:53,330 --> 00:40:57,890
you make sure that goes to support this

00:40:55,340 --> 00:41:00,230
enabled that you can add remaining nodes

00:40:57,890 --> 00:41:02,800
you create and add the main storage

00:41:00,230 --> 00:41:06,770
domain I have slides for that so you

00:41:02,800 --> 00:41:09,980
this is actually part of our UI for all

00:41:06,770 --> 00:41:12,020
your all you little guys this is

00:41:09,980 --> 00:41:15,140
something you do not see too often I

00:41:12,020 --> 00:41:17,540
guess it's not an API and C but

00:41:15,140 --> 00:41:20,510
basically you just check to check boxes

00:41:17,540 --> 00:41:23,599
and then all the hosts that are going to

00:41:20,510 --> 00:41:25,249
be added later we'll get Gloster support

00:41:23,599 --> 00:41:29,209
all the Gloucester support packages

00:41:25,249 --> 00:41:32,269
installed everything enabled in system D

00:41:29,209 --> 00:41:35,269
all the firewall rules will know that

00:41:32,269 --> 00:41:37,670
there is Gloucester connection support

00:41:35,269 --> 00:41:39,349
so everything will be fine it enables

00:41:37,670 --> 00:41:42,469
bricks and volume management from the

00:41:39,349 --> 00:41:46,880
ovirt-engine api and the web and min

00:41:42,469 --> 00:41:49,069
there's one commit right now we can shut

00:41:46,880 --> 00:41:51,079
down house from the management I mean if

00:41:49,069 --> 00:41:54,109
the host is not responding we can reboot

00:41:51,079 --> 00:41:56,119
it but currently that code doesn't know

00:41:54,109 --> 00:41:57,979
that the same host is running Gloucester

00:41:56,119 --> 00:42:01,400
storage so it will happily reboot the

00:41:57,979 --> 00:42:03,079
house and kill your brick we'll have to

00:42:01,400 --> 00:42:07,430
fix that obviously but that's one of the

00:42:03,079 --> 00:42:12,890
issues we have right now adding

00:42:07,430 --> 00:42:16,969
additional nodes yeah yeah fencing

00:42:12,890 --> 00:42:20,420
doesn't have to be enabled but that you

00:42:16,969 --> 00:42:21,619
know removes some other features so it's

00:42:20,420 --> 00:42:24,259
one of the issues we have to solve

00:42:21,619 --> 00:42:27,140
adding additional hosts traditionally

00:42:24,259 --> 00:42:28,880
you had to install hosted engine using

00:42:27,140 --> 00:42:30,349
the same setup it emitted some of the

00:42:28,880 --> 00:42:31,819
questions because it detected you

00:42:30,349 --> 00:42:35,150
already have post engine set up

00:42:31,819 --> 00:42:38,029
environment but we basically simplify

00:42:35,150 --> 00:42:38,359
that to a single check box and one text

00:42:38,029 --> 00:42:40,699
box

00:42:38,359 --> 00:42:42,979
so now additional host you just click

00:42:40,699 --> 00:42:44,569
the check box add a host and it will run

00:42:42,979 --> 00:42:50,959
all the setup for you with all the right

00:42:44,569 --> 00:42:54,079
questions now adding ghoster storage we

00:42:50,959 --> 00:42:56,209
have a cluster management in the web

00:42:54,079 --> 00:42:58,489
management UI we've had it for some time

00:42:56,209 --> 00:43:01,099
but it's constantly improving so

00:42:58,489 --> 00:43:02,690
basically when you add when you want to

00:43:01,099 --> 00:43:05,029
add a new gloucester volume you don't

00:43:02,690 --> 00:43:06,920
have to go to the to the node and

00:43:05,029 --> 00:43:10,309
execute the gloucester commands that was

00:43:06,920 --> 00:43:14,239
only needed for the bootstrap you select

00:43:10,309 --> 00:43:16,150
volumes click add volume and then you

00:43:14,239 --> 00:43:18,739
just give it the path to the brakes and

00:43:16,150 --> 00:43:21,170
it will create a new volume for you it

00:43:18,739 --> 00:43:23,209
even monitors the state of the brick so

00:43:21,170 --> 00:43:24,949
it tells you how many bricks are up how

00:43:23,209 --> 00:43:27,799
many bricks are down it gives you all

00:43:24,949 --> 00:43:30,469
the necessary information about the used

00:43:27,799 --> 00:43:32,839
space about the quorum in from you know

00:43:30,469 --> 00:43:35,660
about the quorum status so basically we

00:43:32,839 --> 00:43:40,369
get everything nicely in the UI and

00:43:35,660 --> 00:43:42,410
it's it just works right now now you

00:43:40,369 --> 00:43:43,849
just add the new volume as the new

00:43:42,410 --> 00:43:46,640
storage domain and you are ready to

00:43:43,849 --> 00:43:49,010
start your VMs it will crunch some

00:43:46,640 --> 00:43:51,500
numbers for some time like a couple of

00:43:49,010 --> 00:43:53,660
seconds maybe minutes or two but then

00:43:51,500 --> 00:43:55,369
you will have everything ready and you

00:43:53,660 --> 00:43:58,670
can start your VMs you can create your

00:43:55,369 --> 00:44:01,490
VM so you can start migrations now

00:43:58,670 --> 00:44:03,859
things we are going to add and we have

00:44:01,490 --> 00:44:07,490
the patches they haven't been merged yet

00:44:03,859 --> 00:44:11,210
so it's not totally ready but we have it

00:44:07,490 --> 00:44:12,859
is that you can edit the VM so we

00:44:11,210 --> 00:44:14,780
actually want to support for editing

00:44:12,859 --> 00:44:17,950
memory and CPU allocation of the

00:44:14,780 --> 00:44:20,240
management vm network configuration and

00:44:17,950 --> 00:44:24,950
as I said it's still working progress

00:44:20,240 --> 00:44:27,650
and I already described the mechanism so

00:44:24,950 --> 00:44:30,309
the management creates a novia file

00:44:27,650 --> 00:44:33,020
which is the kind of standard

00:44:30,309 --> 00:44:34,910
description of a vm when you export a vm

00:44:33,020 --> 00:44:37,700
and it puts that to the shared storage

00:44:34,910 --> 00:44:39,440
and hosted engine daemons that manage

00:44:37,700 --> 00:44:41,690
the high availability will pick it up

00:44:39,440 --> 00:44:45,440
and when the VM goes down they will use

00:44:41,690 --> 00:44:48,049
that information to restart the VM I

00:44:45,440 --> 00:44:52,640
only have two more slides and one of

00:44:48,049 --> 00:44:56,089
them is thank you so so the other thing

00:44:52,640 --> 00:44:57,890
we are adding is a UI for hosted engine

00:44:56,089 --> 00:45:00,799
management because hosting engine has a

00:44:57,890 --> 00:45:02,180
state machine inside and you can

00:45:00,799 --> 00:45:03,799
configure that state machine you can

00:45:02,180 --> 00:45:07,640
configure timeouts you can configure

00:45:03,799 --> 00:45:10,279
some reporting SMTP server code scoring

00:45:07,640 --> 00:45:16,279
so basically the actual logic that

00:45:10,279 --> 00:45:19,940
controls where the VM is running yeah so

00:45:16,279 --> 00:45:22,279
what's missing I already I already said

00:45:19,940 --> 00:45:25,700
what's missing we removed the automated

00:45:22,279 --> 00:45:27,950
hyper-converged setup because it wasn't

00:45:25,700 --> 00:45:30,770
ready we need the full support for the

00:45:27,950 --> 00:45:32,900
VM management r4 and we need the hosted

00:45:30,770 --> 00:45:35,180
engine configuration UI we have patches

00:45:32,900 --> 00:45:38,809
for most of that we just haven't been

00:45:35,180 --> 00:45:41,450
able to emerge that yet support for map

00:45:38,809 --> 00:45:43,730
for multiple gloucester brick servers is

00:45:41,450 --> 00:45:47,089
not ideal and the cost of people and

00:45:43,730 --> 00:45:48,590
actually crema people here might know

00:45:47,089 --> 00:45:50,090
about that already

00:45:48,590 --> 00:45:52,190
you cramp is actually the one who is

00:45:50,090 --> 00:45:54,590
assigned to that back when you are

00:45:52,190 --> 00:45:56,750
connecting to Gloucester Clemmie only

00:45:54,590 --> 00:45:59,600
accepts one IP not the list of all the

00:45:56,750 --> 00:46:01,970
possible IPs so when the one host is

00:45:59,600 --> 00:46:03,740
down it might not connect but when it

00:46:01,970 --> 00:46:06,110
connects the high availability works

00:46:03,740 --> 00:46:07,880
properly so there is a back where we

00:46:06,110 --> 00:46:10,250
need to be able to give it all the

00:46:07,880 --> 00:46:16,600
secondary server so it can try other

00:46:10,250 --> 00:46:18,980
servers as well and that's all I had and

00:46:16,600 --> 00:46:21,800
if you have any questions about hosted

00:46:18,980 --> 00:46:25,250
engine just ask me ping us send us an

00:46:21,800 --> 00:46:28,040
email I am a couple of seconds for like

00:46:25,250 --> 00:46:33,710
minute or two overdue so if you have any

00:46:28,040 --> 00:46:35,720
questions just ask them now okay I guess

00:46:33,710 --> 00:46:38,210
I was too high level for you so no

00:46:35,720 --> 00:46:40,660
questions thank you and enjoy the rest

00:46:38,210 --> 00:46:40,660

YouTube URL: https://www.youtube.com/watch?v=EbRdUPVlxyQ


