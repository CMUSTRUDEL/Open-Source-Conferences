Title: Keynote: Libvirt Status Report by Peter Krempa
Publication date: 2018-11-17
Playlist: KVM Forum 2018
Description: 
	Peter Krempa
Red Hat
Captions: 
	00:00:01,040 --> 00:00:08,040
[Music]

00:00:05,210 --> 00:00:10,200
so welcome to the lipfird keynote my

00:00:08,040 --> 00:00:12,840
name name is Peter krempe I'm I work for

00:00:10,200 --> 00:00:13,259
Red Hat in the Czech Republic mostly on

00:00:12,840 --> 00:00:18,029
libvirt

00:00:13,259 --> 00:00:20,369
so how did we do this year this year we

00:00:18,029 --> 00:00:23,699
had 10 releases because we stick to a

00:00:20,369 --> 00:00:27,109
very specific release cycle and on the

00:00:23,699 --> 00:00:32,009
beginning of the every month so we had

00:00:27,109 --> 00:00:34,829
108 outers 48 new ones it's slightly

00:00:32,009 --> 00:00:39,210
less than we had last time or last year

00:00:34,829 --> 00:00:42,989
we had around 3,800 comments that's

00:00:39,210 --> 00:00:46,469
slightly more than we had before we

00:00:42,989 --> 00:00:49,260
added around 100,000 lines but this

00:00:46,469 --> 00:00:52,800
release cycle we actually deleted a lot

00:00:49,260 --> 00:00:54,329
of code which is great and we had a lot

00:00:52,800 --> 00:00:56,489
of emails on the mailing list which is

00:00:54,329 --> 00:01:00,600
hard to get through especially after

00:00:56,489 --> 00:01:06,330
some time off so the releases are

00:01:00,600 --> 00:01:08,760
usually going Slightly or fairly equal

00:01:06,330 --> 00:01:10,350
in size we have some some of them are

00:01:08,760 --> 00:01:14,400
bigger because they have a longer time

00:01:10,350 --> 00:01:18,240
but that's usual so for the Liberty

00:01:14,400 --> 00:01:21,210
project the the few numbers the top

00:01:18,240 --> 00:01:24,810
contributors for this year was me Hal

00:01:21,210 --> 00:01:25,409
Daniel and me and four reviewers this

00:01:24,810 --> 00:01:30,439
year

00:01:25,409 --> 00:01:30,439
John yon and Eric were the best

00:01:34,990 --> 00:01:43,219
so for we can break it down also by the

00:01:40,810 --> 00:01:49,100
companies that motivate the people to

00:01:43,219 --> 00:01:52,310
work on our projects so so unfortunately

00:01:49,100 --> 00:01:55,429
from upstreams perspective redhead is

00:01:52,310 --> 00:01:58,810
fairly big into libvirt so it was like

00:01:55,429 --> 00:02:02,090
80% of contributions come from redhead

00:01:58,810 --> 00:02:05,629
then we have fairly big chunk at least

00:02:02,090 --> 00:02:08,720
10% of individuals mostly google Summer

00:02:05,629 --> 00:02:12,769
of Code students and also other persons

00:02:08,720 --> 00:02:15,709
who want to contribute and then

00:02:12,769 --> 00:02:23,269
companies and distribution manufacturers

00:02:15,709 --> 00:02:27,379
who support or upstream their patches so

00:02:23,269 --> 00:02:30,500
for for community internships libvirt

00:02:27,379 --> 00:02:34,160
project or the liberal ecosystem got

00:02:30,500 --> 00:02:37,400
four internship positions this year it

00:02:34,160 --> 00:02:41,680
started from internal clean ups of the

00:02:37,400 --> 00:02:44,750
code or improvements of our tool chains

00:02:41,680 --> 00:02:46,250
through native ice castle so that you

00:02:44,750 --> 00:02:50,480
don't have to use the kernel for that

00:02:46,250 --> 00:02:55,609
and avoid many problems we had an OC I

00:02:50,480 --> 00:02:58,609
to liberate Alexi project where you

00:02:55,609 --> 00:03:03,019
where you can use the OCI container to

00:02:58,609 --> 00:03:07,099
run in Alexi and least or the last one

00:03:03,019 --> 00:03:11,530
was node.js bindings we had a half or a

00:03:07,099 --> 00:03:14,540
50% success rate in these projects so

00:03:11,530 --> 00:03:17,450
four notable features added to libvirt

00:03:14,540 --> 00:03:20,389
was B sock communication for guests

00:03:17,450 --> 00:03:22,579
Scotty persistent reservations Intel

00:03:20,389 --> 00:03:27,739
memory and cache management technologies

00:03:22,579 --> 00:03:30,709
AMD secure support virtual TPM then we

00:03:27,739 --> 00:03:34,489
had some more TLS support for discs and

00:03:30,709 --> 00:03:39,019
VNC and other cleanups obviously more

00:03:34,489 --> 00:03:40,609
platform support and also what I did not

00:03:39,019 --> 00:03:44,269
add to the slides we also added risk

00:03:40,609 --> 00:03:46,400
risk five supported and obviously

00:03:44,269 --> 00:03:47,069
scalability implemented pieces as you

00:03:46,400 --> 00:03:50,969
could see

00:03:47,069 --> 00:03:55,500
with marks talked on yesterday I think

00:03:50,969 --> 00:03:57,060
oh no it wasn't on Wednesday so but

00:03:55,500 --> 00:03:59,810
livered is not the only project that

00:03:57,060 --> 00:04:03,209
most of deliberate people deal with we

00:03:59,810 --> 00:04:05,879
we do so the stats I was talking about

00:04:03,209 --> 00:04:07,920
our only four deliberate repository we

00:04:05,879 --> 00:04:11,340
all split out all language bindings in

00:04:07,920 --> 00:04:14,159
two separate repositories so those are

00:04:11,340 --> 00:04:16,859
there then we have a big chunk of work

00:04:14,159 --> 00:04:20,579
goes into word manager and word install

00:04:16,859 --> 00:04:22,199
limousine for lead guests a fest and our

00:04:20,579 --> 00:04:24,840
new upcoming projects which I will

00:04:22,199 --> 00:04:27,599
mention later and also the our CI system

00:04:24,840 --> 00:04:33,840
which thankfully now runs better

00:04:27,599 --> 00:04:36,960
upstream so what's new in revolving

00:04:33,840 --> 00:04:40,320
around live bird we now have the D bus

00:04:36,960 --> 00:04:43,639
bridge or bindings depending on how we

00:04:40,320 --> 00:04:46,979
put it which were created for

00:04:43,639 --> 00:04:50,039
integration of VM management support

00:04:46,979 --> 00:04:53,729
into cockpit so that's this like fancy

00:04:50,039 --> 00:04:57,479
web page based server management tool we

00:04:53,729 --> 00:05:00,780
also spend a lot of effort to try to

00:04:57,479 --> 00:05:05,130
modularize the liver daemon for upcoming

00:05:00,780 --> 00:05:07,590
split up which will be used by Qbert who

00:05:05,130 --> 00:05:12,900
where they try to use libvirt for their

00:05:07,590 --> 00:05:16,979
VM support and we also improved our or

00:05:12,900 --> 00:05:19,560
we plan to do better on unifying all the

00:05:16,979 --> 00:05:24,500
effort that is necessary to put into

00:05:19,560 --> 00:05:26,760
better configuration of your VMs this is

00:05:24,500 --> 00:05:29,280
closely connected to this because

00:05:26,760 --> 00:05:32,070
Liberty is fairly strict about not

00:05:29,280 --> 00:05:37,380
breaking your working configurations

00:05:32,070 --> 00:05:41,940
which on the other hand means that we

00:05:37,380 --> 00:05:44,639
tend to pick suboptimal defaults at the

00:05:41,940 --> 00:05:47,220
beginning so the users should be aware

00:05:44,639 --> 00:05:49,530
or users and software's using liberal

00:05:47,220 --> 00:05:52,440
should be aware that there are things

00:05:49,530 --> 00:05:54,360
they need to do better we have create or

00:05:52,440 --> 00:05:56,789
daniel has created libo as in for this

00:05:54,360 --> 00:05:59,490
reason where you can query the database

00:05:56,789 --> 00:06:00,900
for which devices are supported by your

00:05:59,490 --> 00:06:04,260
operating system and big

00:06:00,900 --> 00:06:09,390
better default and we also try to should

00:06:04,260 --> 00:06:13,140
try to do better in persuading users to

00:06:09,390 --> 00:06:14,880
use this new newer and fancier tools

00:06:13,140 --> 00:06:16,530
that will allow you to pick better

00:06:14,880 --> 00:06:20,010
defaults than sticking to version and

00:06:16,530 --> 00:06:23,610
our command line API which does not

00:06:20,010 --> 00:06:26,070
allow this and at the end it should help

00:06:23,610 --> 00:06:30,780
the duplicating logic of the setup

00:06:26,070 --> 00:06:33,150
because at least over an openstack have

00:06:30,780 --> 00:06:39,060
a lot of common code to deal with like

00:06:33,150 --> 00:06:41,610
vert which is not a good thing and there

00:06:39,060 --> 00:06:43,950
was also talk about duplicating stuff so

00:06:41,610 --> 00:06:45,690
leopard needs to do better in letting

00:06:43,950 --> 00:06:48,690
the users know that they are using

00:06:45,690 --> 00:06:53,210
deprecated configurations or suboptimal

00:06:48,690 --> 00:06:56,010
configurations so our CI systems were

00:06:53,210 --> 00:07:02,130
improved slightly from the last time we

00:06:56,010 --> 00:07:05,310
are still missing good integration tests

00:07:02,130 --> 00:07:07,440
and functional tests but even in the

00:07:05,310 --> 00:07:12,390
current configuration we are able to

00:07:07,440 --> 00:07:15,570
catch quite a lot of mistakes by the

00:07:12,390 --> 00:07:18,780
developers the improvements from last

00:07:15,570 --> 00:07:22,110
year is docker image support where you

00:07:18,780 --> 00:07:23,940
can download the image which contains

00:07:22,110 --> 00:07:29,040
the environment to build libvirt from

00:07:23,940 --> 00:07:31,170
scratch without any extra effort and the

00:07:29,040 --> 00:07:33,570
last section is I call it coming soon

00:07:31,170 --> 00:07:39,570
because most of the items there were

00:07:33,570 --> 00:07:41,550
there last year so so specifically I am

00:07:39,570 --> 00:07:44,910
working on adding block their support to

00:07:41,550 --> 00:07:47,790
lip-read which resulted into a big chunk

00:07:44,910 --> 00:07:50,780
of refactorings because we had a lot of

00:07:47,790 --> 00:07:53,700
technical depth - to pay back

00:07:50,780 --> 00:07:58,200
we now strive for Eric Blake tries to

00:07:53,700 --> 00:08:00,870
add support for incremental backups to

00:07:58,200 --> 00:08:03,120
early birth which are now almost fully

00:08:00,870 --> 00:08:07,500
supported by qmu so we need to create

00:08:03,120 --> 00:08:12,180
our infrastructure to it we are now

00:08:07,500 --> 00:08:12,849
working towards supporting or fixing the

00:08:12,180 --> 00:08:16,569
very

00:08:12,849 --> 00:08:19,179
problem of messing up users labeling so

00:08:16,569 --> 00:08:22,929
the users and groups of file system

00:08:19,179 --> 00:08:29,819
objects and we also try to improve our

00:08:22,929 --> 00:08:34,539
internal infrastructure to for handling

00:08:29,819 --> 00:08:36,819
events and other other things and the

00:08:34,539 --> 00:08:40,240
other sub projects I was mentioning also

00:08:36,819 --> 00:08:43,360
try to try to do their best in their

00:08:40,240 --> 00:08:45,310
efforts so for example when we started

00:08:43,360 --> 00:08:47,920
last year the cockpit project did not

00:08:45,310 --> 00:08:51,660
almost work for with lip-read and now

00:08:47,920 --> 00:08:55,280
it's pretty useful so thank you

00:08:51,660 --> 00:09:01,059
[Applause]

00:08:55,280 --> 00:09:01,059

YouTube URL: https://www.youtube.com/watch?v=oULID5nWcE0


