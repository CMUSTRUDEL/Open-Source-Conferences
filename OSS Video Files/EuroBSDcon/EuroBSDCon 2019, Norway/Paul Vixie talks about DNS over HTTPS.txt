Title: Paul Vixie talks about DNS over HTTPS
Publication date: 2019-10-26
Playlist: EuroBSDCon 2019, Norway
Description: 
	Paul Vixie was responsible for BIND from 1989 to 1999, and is the author of a dozen or so IETF RFC documents about DNS. He also started the first anti-spam company (MAPS) where he co-invented the DNS RBL (Realtime Blackhole List), and was the founder and later president of the first U.S.-based commercial Internet Exchange (PAIX). Today he serves as CEO of Farsight Security, home of the Security Information Exchange (SIE) and the worldâ€™s leading Passive DNS database (DNSDB). He wrote the Cron software used on all UNIX-type computers today. He is also co-inventor of the DNS Response Rate Limiting (RRL) and Response Policy Zone (RPZ) feature-sets now in wide use to protect the operational Internet Domain Name System against online attacks. He received his Ph.D. from Keio University in 2011, and was inducted into the Internet Hall of Fame in 2014.
More Info:
https://2019.eurobsdcon.org/talk-speakers/#DoH
Captions: 
	00:00:03,910 --> 00:00:10,190
good morning before we start the next

00:00:07,850 --> 00:00:13,330
torque the air conditioning is currently

00:00:10,190 --> 00:00:17,270
broken but the hotel is working on it

00:00:13,330 --> 00:00:19,279
our next speaker everybody in this room

00:00:17,270 --> 00:00:21,020
is running a software on a daily basis

00:00:19,279 --> 00:00:23,800
and I suspect most of you even know

00:00:21,020 --> 00:00:32,899
about it please welcome mr. Paul vixie

00:00:23,800 --> 00:00:36,740
who's going who's going to tell us about

00:00:32,899 --> 00:00:39,070
the DNS over HTTPS and much more thank

00:00:36,740 --> 00:00:39,070
you Paul

00:00:42,850 --> 00:00:48,740
thank you very much and thank you all

00:00:45,680 --> 00:00:50,690
for coming to other rooms now and I'm

00:00:48,740 --> 00:00:55,700
happy to see that some of you chose this

00:00:50,690 --> 00:00:59,030
one there has been a cold war for

00:00:55,700 --> 00:01:01,930
control of the DNS resolution path ever

00:00:59,030 --> 00:01:04,519
since commercialization and

00:01:01,930 --> 00:01:07,670
privatization of the Internet began in

00:01:04,519 --> 00:01:12,550
the mid 90s so we're into our third

00:01:07,670 --> 00:01:14,960
decade of it and it's heating up because

00:01:12,550 --> 00:01:18,260
a lot more people than ever before

00:01:14,960 --> 00:01:20,479
understand that DNS is the protocol that

00:01:18,260 --> 00:01:24,110
gets used in order to start most

00:01:20,479 --> 00:01:27,860
Internet transactions therefore if you

00:01:24,110 --> 00:01:30,409
can see those trans questions and

00:01:27,860 --> 00:01:32,150
possibly modify those DNS answers you

00:01:30,409 --> 00:01:33,979
can learn a lot about what people are

00:01:32,150 --> 00:01:36,680
doing you could maybe change what they

00:01:33,979 --> 00:01:39,830
do to make whatever they end up doing

00:01:36,680 --> 00:01:42,409
more advantageous in other words money

00:01:39,830 --> 00:01:46,820
has changed everything and the trend is

00:01:42,409 --> 00:01:48,830
accelerating so there's some things

00:01:46,820 --> 00:01:52,880
happening right now

00:01:48,830 --> 00:01:56,270
DNS over HTTPS is the debacle of the

00:01:52,880 --> 00:01:58,689
moment and it occasions this travel and

00:01:56,270 --> 00:02:01,250
was the title I gave you for the program

00:01:58,689 --> 00:02:03,229
but there is a broader story and I want

00:02:01,250 --> 00:02:06,020
to give you some historical context and

00:02:03,229 --> 00:02:12,500
also some little bit of future

00:02:06,020 --> 00:02:15,680
predictions I plan to use all of my time

00:02:12,500 --> 00:02:17,590
and then we can have QA in the early

00:02:15,680 --> 00:02:19,960
part of the break for those of you who

00:02:17,590 --> 00:02:24,350
actually prefer that sort of thing

00:02:19,960 --> 00:02:27,500
so here we have a bunch of snippets from

00:02:24,350 --> 00:02:31,820
various terminal windows on the upper

00:02:27,500 --> 00:02:35,180
right you see some IPFW rules

00:02:31,820 --> 00:02:37,280
that's the firewall in freebsd it may

00:02:35,180 --> 00:02:39,800
work else right that's what that's where

00:02:37,280 --> 00:02:42,230
I use it and it's simple enough it

00:02:39,800 --> 00:02:44,480
creates a couple of tables and then adds

00:02:42,230 --> 00:02:46,220
a couple of rules basically if you're

00:02:44,480 --> 00:02:48,350
already in one of these tables and

00:02:46,220 --> 00:02:51,440
you're trying to reach tcp port for

00:02:48,350 --> 00:02:56,150
for-4 should be 4 4 3 but I didn't want

00:02:51,440 --> 00:02:58,190
to break HTTP during my testing if

00:02:56,150 --> 00:03:00,920
you're already in the go table then it

00:02:58,190 --> 00:03:03,440
just lets your syn packets out and if

00:03:00,920 --> 00:03:05,330
you're already in the know table it will

00:03:03,440 --> 00:03:09,380
stop your packets

00:03:05,330 --> 00:03:12,920
that's a TCP reset in this case if you

00:03:09,380 --> 00:03:16,850
are trying to do an outbound syn on port

00:03:12,920 --> 00:03:20,239
4 4 3 really which is the port used for

00:03:16,850 --> 00:03:22,730
HTTP then it diverts you to a program

00:03:20,239 --> 00:03:24,410
and we really have whistle

00:03:22,730 --> 00:03:26,270
communications to thank for the ability

00:03:24,410 --> 00:03:28,910
to do all this because back in the day

00:03:26,270 --> 00:03:30,860
this is how they did NAT and we still

00:03:28,910 --> 00:03:34,670
have the divert capability even though I

00:03:30,860 --> 00:03:36,500
may be its only user and as in all

00:03:34,670 --> 00:03:37,760
firewalls after we're done perturbing

00:03:36,500 --> 00:03:41,450
the part we care about with letter

00:03:37,760 --> 00:03:43,220
everything else through so you can see

00:03:41,450 --> 00:03:45,670
below that the traditional read eval

00:03:43,220 --> 00:03:47,930
print loop that's in most programs

00:03:45,670 --> 00:03:49,700
really were reading things from the

00:03:47,930 --> 00:03:52,430
divert socket that are essentially raw

00:03:49,700 --> 00:03:55,400
packets so the thing that processes that

00:03:52,430 --> 00:04:01,340
has to start out by saying is this ipv4

00:03:55,400 --> 00:04:02,690
or ipv6 and it works from there you can

00:04:01,340 --> 00:04:05,480
see down at the bottom that there's

00:04:02,690 --> 00:04:07,580
ability and ability now to ask questions

00:04:05,480 --> 00:04:10,459
from something called passive dns this

00:04:07,580 --> 00:04:13,640
is a database a lot of people have them

00:04:10,459 --> 00:04:16,190
I have one it's just made up of cache

00:04:13,640 --> 00:04:18,500
miss traffic from large populations and

00:04:16,190 --> 00:04:20,840
it means that you can sort of do the

00:04:18,500 --> 00:04:23,300
interesting cross reference task that

00:04:20,840 --> 00:04:25,550
has not been possible given the demise

00:04:23,300 --> 00:04:27,110
of PTR records in the DNS

00:04:25,550 --> 00:04:29,240
in other words if you want to know what

00:04:27,110 --> 00:04:31,310
are all of the names that have recently

00:04:29,240 --> 00:04:33,949
pointed at a certain address there is a

00:04:31,310 --> 00:04:36,050
way to find out it's relatively

00:04:33,949 --> 00:04:41,990
performant enough to be used in line

00:04:36,050 --> 00:04:44,319
like this and you can see the the

00:04:41,990 --> 00:04:47,990
pseudocode there the logic of that

00:04:44,319 --> 00:04:50,509
particular input routine is to just do

00:04:47,990 --> 00:04:53,720
an enumeration to attack against an IP

00:04:50,509 --> 00:04:56,419
address try every name that has been

00:04:53,720 --> 00:05:00,020
used has been seen pointed at an IP

00:04:56,419 --> 00:05:03,620
address as an S and I as a host keyword

00:05:00,020 --> 00:05:07,729
in an HTTP transaction and find out if

00:05:03,620 --> 00:05:11,270
it answers the dns over HTTP service

00:05:07,729 --> 00:05:13,789
which would be slash DNS - query that's

00:05:11,270 --> 00:05:16,819
in RFC eight four eight four and then

00:05:13,789 --> 00:05:18,560
put it based on that put it that address

00:05:16,819 --> 00:05:22,610
into one of the two tables that you see

00:05:18,560 --> 00:05:24,620
again up at the upper right toward the

00:05:22,610 --> 00:05:26,659
middle of the left you'll see an example

00:05:24,620 --> 00:05:28,400
of the sort of debugging output that

00:05:26,659 --> 00:05:33,380
you're getting when you try to do that

00:05:28,400 --> 00:05:34,940
telnet that's at the top so anyway I was

00:05:33,380 --> 00:05:37,270
thinking I would do a live demo but that

00:05:34,940 --> 00:05:42,440
would take longer than this explanation

00:05:37,270 --> 00:05:44,060
what you if you're a sane normal for

00:05:42,440 --> 00:05:46,729
this room person should be thinking

00:05:44,060 --> 00:05:49,340
right now is why would I ever do

00:05:46,729 --> 00:05:51,139
something like this it's complicated

00:05:49,340 --> 00:05:52,460
it's gonna break it's gonna create

00:05:51,139 --> 00:05:56,090
problems

00:05:52,460 --> 00:06:01,840
what could its purpose possibly be let

00:05:56,090 --> 00:06:04,880
me explain this is the DNS architecture

00:06:01,840 --> 00:06:07,750
as created in the mid-80s

00:06:04,880 --> 00:06:10,880
and more or less as it still is today I

00:06:07,750 --> 00:06:13,610
can't think of another system that has

00:06:10,880 --> 00:06:16,310
grown nine orders of magnitude without

00:06:13,610 --> 00:06:18,529
having to change its fundamental

00:06:16,310 --> 00:06:21,830
architecture in any way unless it's IP

00:06:18,529 --> 00:06:26,710
itself and we could argue with ipv6 that

00:06:21,830 --> 00:06:29,150
it didn't so briefly what's happening I

00:06:26,710 --> 00:06:30,830
know that at least half of you are

00:06:29,150 --> 00:06:34,219
experts on this but for the other half

00:06:30,830 --> 00:06:36,570
I'll just say data has to get into the

00:06:34,219 --> 00:06:38,250
DNS from outside the DNS

00:06:36,570 --> 00:06:40,280
and it does that at the top of this

00:06:38,250 --> 00:06:43,320
diagram and the authority servers

00:06:40,280 --> 00:06:44,610
usually if you're running bind or NSD or

00:06:43,320 --> 00:06:46,740
something like that there'll be a zone

00:06:44,610 --> 00:06:49,020
file that gets read and then offered

00:06:46,740 --> 00:06:51,870
over the DNS protocol its contents or

00:06:49,020 --> 00:06:53,310
them available for queries so the

00:06:51,870 --> 00:06:55,170
answers are coming in from the top the

00:06:53,310 --> 00:06:57,120
questions are coming in from the bottom

00:06:55,170 --> 00:07:01,260
they come from our applications our

00:06:57,120 --> 00:07:03,240
devices our IOT devices us perhaps if

00:07:01,260 --> 00:07:05,760
we're still typing host names rather

00:07:03,240 --> 00:07:07,560
than clicking on links and they go

00:07:05,760 --> 00:07:11,580
through what is called a stub resolver

00:07:07,560 --> 00:07:13,710
which starts out knowing only one thing

00:07:11,580 --> 00:07:16,440
which is the address of the server it

00:07:13,710 --> 00:07:19,590
should use to actually get DNS service

00:07:16,440 --> 00:07:22,620
and that's the box in the middle so the

00:07:19,590 --> 00:07:24,660
questions come down excuse me questions

00:07:22,620 --> 00:07:27,840
come up the answers come down they meet

00:07:24,660 --> 00:07:31,080
the middle and that middle thing is

00:07:27,840 --> 00:07:36,660
where all of the complexity most of the

00:07:31,080 --> 00:07:38,640
danger most of the money to be made and

00:07:36,660 --> 00:07:44,460
all the vulnerabilities in this system

00:07:38,640 --> 00:07:47,940
have come now to credit the original

00:07:44,460 --> 00:07:50,040
creator here that cache on the left is

00:07:47,940 --> 00:07:51,750
what has made it possible for this

00:07:50,040 --> 00:07:54,300
architecture to scale nine orders of

00:07:51,750 --> 00:07:56,460
magnitude so what's happening there is

00:07:54,300 --> 00:07:58,860
if you're signed on to the Wi-Fi here

00:07:56,460 --> 00:08:02,520
you're using the recursive name server

00:07:58,860 --> 00:08:04,650
that was assigned to you with DHCP and

00:08:02,520 --> 00:08:07,260
you ask a question that somebody else on

00:08:04,650 --> 00:08:08,460
that Wi-Fi has recently asked chances

00:08:07,260 --> 00:08:11,010
are good you're going to get a copy of

00:08:08,460 --> 00:08:12,960
the answer they got maybe with a smaller

00:08:11,010 --> 00:08:16,410
time-to-live field because it does

00:08:12,960 --> 00:08:18,150
expire at some point but the fact that

00:08:16,410 --> 00:08:20,190
not every query has to go all the way to

00:08:18,150 --> 00:08:23,670
the top of this diagram is the reason

00:08:20,190 --> 00:08:25,620
that we're still using DNS now that we

00:08:23,670 --> 00:08:30,330
have billions of users instead of

00:08:25,620 --> 00:08:32,690
thousands of users finally since we are

00:08:30,330 --> 00:08:35,580
in GDP our land I want to say that

00:08:32,690 --> 00:08:37,560
according to me my analysis of it

00:08:35,580 --> 00:08:39,150
according to a number of lawyers I've

00:08:37,560 --> 00:08:41,540
consulted and including the lawyers

00:08:39,150 --> 00:08:44,190
inside of some European telcos and

00:08:41,540 --> 00:08:46,560
universities also Japanese universities

00:08:44,190 --> 00:08:48,300
and American universities the thing on

00:08:46,560 --> 00:08:49,570
the bottom of the transactions between

00:08:48,300 --> 00:08:51,880
your phone or

00:08:49,570 --> 00:08:54,130
laptop or virtual server and it's

00:08:51,880 --> 00:08:56,110
recursive server is personally

00:08:54,130 --> 00:08:58,960
identifiable information because that

00:08:56,110 --> 00:09:00,550
device can be tied the IP address you're

00:08:58,960 --> 00:09:02,710
sending from can be tied to an

00:09:00,550 --> 00:09:04,510
individual and because the information

00:09:02,710 --> 00:09:06,940
you're asking for is third party it

00:09:04,510 --> 00:09:09,940
demonstrates a third party intent on

00:09:06,940 --> 00:09:11,410
your part you're not just asking some

00:09:09,940 --> 00:09:13,660
web server for something that it has

00:09:11,410 --> 00:09:16,060
which is unavoidable you're actually

00:09:13,660 --> 00:09:20,860
trusting somebody to know what third

00:09:16,060 --> 00:09:23,770
party you intend to visit next and this

00:09:20,860 --> 00:09:26,260
analysis is much older than gdpr I knew

00:09:23,770 --> 00:09:29,410
that there was PII down there and so in

00:09:26,260 --> 00:09:32,230
all of my DNS analysis we only look at

00:09:29,410 --> 00:09:36,370
the links between the middle and top box

00:09:32,230 --> 00:09:39,970
and I don't want any PII to enter my

00:09:36,370 --> 00:09:47,830
analysis I am lonely in that position by

00:09:39,970 --> 00:09:51,070
the way so this is kind of still the

00:09:47,830 --> 00:09:52,450
topology I mean there's a lot of

00:09:51,070 --> 00:09:54,220
variation as far as which

00:09:52,450 --> 00:09:56,320
fiber-to-the-home gateway or which

00:09:54,220 --> 00:09:58,000
mobile telephone company might be going

00:09:56,320 --> 00:10:01,360
through but pretty much you've got a

00:09:58,000 --> 00:10:03,880
land even if it's Wi-Fi now you've got

00:10:01,360 --> 00:10:06,430
users and apps and they're on that land

00:10:03,880 --> 00:10:10,260
and you have maybe a campus or maybe

00:10:06,430 --> 00:10:12,730
your apartment and you have some ISP now

00:10:10,260 --> 00:10:15,880
from my point of view when working on

00:10:12,730 --> 00:10:18,850
DNS since the late 80s I have watched

00:10:15,880 --> 00:10:20,980
the that middle box that recursive name

00:10:18,850 --> 00:10:22,960
server move further and further away

00:10:20,980 --> 00:10:25,660
from the users and applications who

00:10:22,960 --> 00:10:28,570
depend on it we used to have one on our

00:10:25,660 --> 00:10:33,000
land would be running on maybe a back

00:10:28,570 --> 00:10:35,920
750 or something like that and so our

00:10:33,000 --> 00:10:38,170
our cache was very close to us this

00:10:35,920 --> 00:10:40,000
turned out to be very important for

00:10:38,170 --> 00:10:41,440
negative answers because knowing that

00:10:40,000 --> 00:10:45,100
something is not going to work is

00:10:41,440 --> 00:10:48,070
actually a huge performance leading

00:10:45,100 --> 00:10:50,260
indicator in other words the faster you

00:10:48,070 --> 00:10:51,910
find out that that DNS lookup is for

00:10:50,260 --> 00:10:53,830
something that doesn't exist the faster

00:10:51,910 --> 00:10:55,750
you can get on to useful work so

00:10:53,830 --> 00:10:58,600
changing that from a 1 millisecond

00:10:55,750 --> 00:11:01,120
latency on your lamb to a 25 millisecond

00:10:58,600 --> 00:11:03,730
latency on the far end of the Internet

00:11:01,120 --> 00:11:06,639
if 25 milliseconds if you're lucky will

00:11:03,730 --> 00:11:09,120
change how many transactions per second

00:11:06,639 --> 00:11:12,449
and really every click of every web

00:11:09,120 --> 00:11:15,249
browser is a transaction in this sense

00:11:12,449 --> 00:11:16,990
anyway it moved out of the land over to

00:11:15,249 --> 00:11:18,749
the campus and then from there to the

00:11:16,990 --> 00:11:21,370
ISP once we started doing

00:11:18,749 --> 00:11:22,959
commercialization privatization a lot of

00:11:21,370 --> 00:11:24,699
people came into the internet who did

00:11:22,959 --> 00:11:26,319
not want to run a name server they just

00:11:24,699 --> 00:11:29,800
wanted an internet connection for

00:11:26,319 --> 00:11:32,170
whatever reason and they expected the

00:11:29,800 --> 00:11:37,839
ISP to provide things like recursive

00:11:32,170 --> 00:11:39,610
name service but that is now under under

00:11:37,839 --> 00:11:41,410
fire all of this is under fire because

00:11:39,610 --> 00:11:47,680
there's money to be made moving it even

00:11:41,410 --> 00:11:50,259
further away so the first major battle

00:11:47,680 --> 00:11:53,709
in the war for control over the DNS

00:11:50,259 --> 00:11:56,319
resolution path was when Verisign who's

00:11:53,709 --> 00:11:58,089
in the DNS business I made a deal with

00:11:56,319 --> 00:12:02,829
site finders in the advertising business

00:11:58,089 --> 00:12:06,540
and said what if we could direct a whole

00:12:02,829 --> 00:12:09,639
bunch of traffic towards some address

00:12:06,540 --> 00:12:12,639
and tell you in a side channel of what

00:12:09,639 --> 00:12:14,499
name they thought they were using when

00:12:12,639 --> 00:12:16,990
they reached your address so that you

00:12:14,499 --> 00:12:18,790
could then craft in a turdus meant so

00:12:16,990 --> 00:12:21,670
that somebody who went to you know

00:12:18,790 --> 00:12:24,550
typographic Ericom would end up at the

00:12:21,670 --> 00:12:26,860
site finder advertising server seeing

00:12:24,550 --> 00:12:28,360
whatever set of ads you thought was

00:12:26,860 --> 00:12:31,709
appropriate for the type of graphical

00:12:28,360 --> 00:12:34,029
error they had made and them both being

00:12:31,709 --> 00:12:37,029
large corporate persons they both

00:12:34,029 --> 00:12:39,279
thought this was a fine plan so they did

00:12:37,029 --> 00:12:41,949
that therefore there was a wild card

00:12:39,279 --> 00:12:43,480
added at the apex of dot-com which meant

00:12:41,949 --> 00:12:47,559
that you could no longer get a negative

00:12:43,480 --> 00:12:51,370
answer from them because if a wild card

00:12:47,559 --> 00:12:52,870
exists and nothing doesn't exist it will

00:12:51,370 --> 00:12:55,779
synthesize an answer for whatever

00:12:52,870 --> 00:12:57,459
question you may ask actually think

00:12:55,779 --> 00:12:59,610
that's a poor design for wild carding

00:12:57,459 --> 00:13:02,019
and a lot of people have had a lot of

00:12:59,610 --> 00:13:04,509
wishes that it had been otherwise but

00:13:02,019 --> 00:13:08,110
that's what we've got so there was a

00:13:04,509 --> 00:13:11,009
huge outcry of this because this is the

00:13:08,110 --> 00:13:13,160
early 2000s not everybody was using

00:13:11,009 --> 00:13:16,430
every dot-com name

00:13:13,160 --> 00:13:18,529
for web the way they pretty much do now

00:13:16,430 --> 00:13:20,269
statistically now it's likely that if

00:13:18,529 --> 00:13:23,019
you're making a DNS transactions because

00:13:20,269 --> 00:13:26,060
you intend to connect to an HTTP server

00:13:23,019 --> 00:13:28,759
but there's still a small marginal

00:13:26,060 --> 00:13:31,790
population who makes queries for the

00:13:28,759 --> 00:13:34,220
purpose of reaching an SMTP server or an

00:13:31,790 --> 00:13:36,319
NTP server or something else and what

00:13:34,220 --> 00:13:38,209
happened in this case is that the server

00:13:36,319 --> 00:13:43,930
that they were returning the address of

00:13:38,209 --> 00:13:46,970
had to find a way to constructively

00:13:43,930 --> 00:13:49,339
reject everything that was coming to it

00:13:46,970 --> 00:13:52,480
as a result of that wildcard well there

00:13:49,339 --> 00:13:54,829
were also huge privacy problems this was

00:13:52,480 --> 00:13:59,720
really a gigantic uproar

00:13:54,829 --> 00:14:01,910
so at ISC my nonprofit at that time we

00:13:59,720 --> 00:14:04,220
were responsible for bind since the

00:14:01,910 --> 00:14:07,519
berkeley team had kind of let go of it

00:14:04,220 --> 00:14:10,490
in the late 80s so we added a feature

00:14:07,519 --> 00:14:12,110
called delegation only so that we could

00:14:10,490 --> 00:14:16,339
actually just say in the recursive

00:14:12,110 --> 00:14:18,829
server if you get something you get an a

00:14:16,339 --> 00:14:20,839
record from the dot-com servers you

00:14:18,829 --> 00:14:22,399
actually get an answer instead of some

00:14:20,839 --> 00:14:25,370
NS records pointing you at a different

00:14:22,399 --> 00:14:26,959
server then that's and that's an error

00:14:25,370 --> 00:14:29,060
and you should pretend that you had

00:14:26,959 --> 00:14:32,630
gotten a negative answer in other words

00:14:29,060 --> 00:14:36,850
we restored service and we did this

00:14:32,630 --> 00:14:42,680
rapidly it took about 40 hours and then

00:14:36,850 --> 00:14:45,290
somebody immediately said lawsuit and so

00:14:42,680 --> 00:14:47,209
we changed it to be delegation only

00:14:45,290 --> 00:14:49,310
except in other words instead of

00:14:47,209 --> 00:14:51,110
enumerated in your config file that the

00:14:49,310 --> 00:14:53,389
top-level domains you would treat this

00:14:51,110 --> 00:14:54,860
way you instead had to enumerate at the

00:14:53,389 --> 00:14:58,759
top-level domains that you would not

00:14:54,860 --> 00:15:00,649
treat this way and that way somebody who

00:14:58,759 --> 00:15:03,550
was recommending that you add this

00:15:00,649 --> 00:15:06,290
configuration was not guilty of

00:15:03,550 --> 00:15:11,149
conspiracy and restraint of trade as

00:15:06,290 --> 00:15:12,889
they called it we had this in bind 9 and

00:15:11,149 --> 00:15:14,240
a bunch of people demanded it and bind 8

00:15:12,889 --> 00:15:16,129
because for whatever reason they were

00:15:14,240 --> 00:15:19,579
still running it and then there were

00:15:16,129 --> 00:15:21,800
lawsuits as a member of the ICANN

00:15:19,579 --> 00:15:24,100
security instability committee I was

00:15:21,800 --> 00:15:26,900
sued along with every other member

00:15:24,100 --> 00:15:29,990
they didn't actually intend any harm

00:15:26,900 --> 00:15:32,390
against me I knew people at Verisign

00:15:29,990 --> 00:15:34,190
then I know people of Verisign now but

00:15:32,390 --> 00:15:35,930
they needed this to be a conspiracy in

00:15:34,190 --> 00:15:37,760
restraint of trade they couldn't just go

00:15:35,930 --> 00:15:39,470
after one party there had to be a whole

00:15:37,760 --> 00:15:43,280
bunch of people working together or the

00:15:39,470 --> 00:15:45,440
law didn't apply so Olaf cokeman made

00:15:43,280 --> 00:15:49,280
some very cool t-shirts and I don't know

00:15:45,440 --> 00:15:54,590
where mine is but I am a very crime site

00:15:49,280 --> 00:15:57,680
finder accredited co-conspirator and the

00:15:54,590 --> 00:16:00,800
lawsuit ended as lawsuits do they settle

00:15:57,680 --> 00:16:02,510
down a court for terms undisclosed and a

00:16:00,800 --> 00:16:06,140
lot of us were left wondering was this

00:16:02,510 --> 00:16:08,660
just a game was this them trying to set

00:16:06,140 --> 00:16:10,670
themselves up for the next renegotiation

00:16:08,660 --> 00:16:12,620
of the.com contract so that they could

00:16:10,670 --> 00:16:14,180
get more money per year for a domain

00:16:12,620 --> 00:16:17,750
name you know because again corporate

00:16:14,180 --> 00:16:21,220
persons have broad and tangled agendas

00:16:17,750 --> 00:16:25,400
anyway there were skirmishes before this

00:16:21,220 --> 00:16:27,620
anytime somebody intends to move into

00:16:25,400 --> 00:16:29,870
into territory there are scouting

00:16:27,620 --> 00:16:31,850
expeditions and so there had been all

00:16:29,870 --> 00:16:34,340
kinds of advertising redirection

00:16:31,850 --> 00:16:35,810
happening at the ISP level there were

00:16:34,340 --> 00:16:38,060
companies that were selling modified

00:16:35,810 --> 00:16:39,970
versions of bind that had this feature

00:16:38,060 --> 00:16:43,070
if you want to call it that add it to it

00:16:39,970 --> 00:16:45,230
and the reason was simply that the ISP

00:16:43,070 --> 00:16:48,980
market was a race to the bottom the

00:16:45,230 --> 00:16:52,370
margins were very thin famously said

00:16:48,980 --> 00:16:54,920
that if you were a o L and any customer

00:16:52,370 --> 00:16:57,470
ever called your support help desk for

00:16:54,920 --> 00:16:59,360
any reason then you would never make a

00:16:57,470 --> 00:17:02,750
profit off of that customer no longer

00:16:59,360 --> 00:17:04,339
how long they stayed a member of AOL so

00:17:02,750 --> 00:17:06,320
that's the situation they were in

00:17:04,339 --> 00:17:08,330
therefore anything that they could

00:17:06,320 --> 00:17:10,790
scrape money off the side of as it went

00:17:08,330 --> 00:17:12,950
by they did and this and this DNS thing

00:17:10,790 --> 00:17:14,420
was it was a big deal but this was

00:17:12,950 --> 00:17:21,820
really the first time it reached the

00:17:14,420 --> 00:17:24,530
level of newspaper headlines so open dns

00:17:21,820 --> 00:17:30,170
came into existence at about that time

00:17:24,530 --> 00:17:31,880
sometime in the mid early 2000s late mid

00:17:30,170 --> 00:17:34,580
I don't know somewhere in there and they

00:17:31,880 --> 00:17:36,410
said you know there's no reason to do

00:17:34,580 --> 00:17:36,640
recursive name service on the LAN or in

00:17:36,410 --> 00:17:39,070
the

00:17:36,640 --> 00:17:42,100
ISP we could do it as in any caste

00:17:39,070 --> 00:17:46,120
service and just put servers west coast

00:17:42,100 --> 00:17:49,120
east coast Europe etc and people could

00:17:46,120 --> 00:17:51,910
just bypass their ISP and use us for

00:17:49,120 --> 00:17:53,710
their recursive name service and I of

00:17:51,910 --> 00:17:56,650
course thought well that nobody would be

00:17:53,710 --> 00:18:00,100
dumb enough to do that but I was wrong

00:17:56,650 --> 00:18:01,840
they they got a lot of customers at one

00:18:00,100 --> 00:18:05,050
point I remember them saying that they

00:18:01,840 --> 00:18:06,910
had 21 million daily IP addresses

00:18:05,050 --> 00:18:10,150
hitting their services and that was back

00:18:06,910 --> 00:18:12,040
then at a time that Comcast was only

00:18:10,150 --> 00:18:13,930
claiming 18 million so it gives you an

00:18:12,040 --> 00:18:15,610
idea about how you can get everybody in

00:18:13,930 --> 00:18:17,530
the world to send you their data and

00:18:15,610 --> 00:18:21,460
think that you're doing them a favor

00:18:17,530 --> 00:18:25,090
it's wow I was not ready to be part of

00:18:21,460 --> 00:18:28,360
that revolution let me tell you and they

00:18:25,090 --> 00:18:30,940
did the normal set of things that smart

00:18:28,360 --> 00:18:32,680
companies do they tried something they

00:18:30,940 --> 00:18:34,480
didn't care how controversial it was

00:18:32,680 --> 00:18:36,300
because it turns out that even bad

00:18:34,480 --> 00:18:39,490
publicity is better than no publicity

00:18:36,300 --> 00:18:41,050
and their question was is this going to

00:18:39,490 --> 00:18:42,910
help us grow the company and if it

00:18:41,050 --> 00:18:44,320
didn't then they failed fast they got

00:18:42,910 --> 00:18:46,780
out of that business tried something

00:18:44,320 --> 00:18:48,580
else so the first thing they tried is

00:18:46,780 --> 00:18:51,910
that advertising redirection thing that

00:18:48,580 --> 00:18:54,370
I told you about they would look at the

00:18:51,910 --> 00:18:57,070
name that you asked for it not just in

00:18:54,370 --> 00:18:59,200
com but any name you asked for and see

00:18:57,070 --> 00:19:00,250
number one does it exist because if it

00:18:59,200 --> 00:19:02,080
does they're going to give you that

00:19:00,250 --> 00:19:03,520
answer but if it doesn't oh boy they

00:19:02,080 --> 00:19:06,730
could do all kinds of stuff

00:19:03,520 --> 00:19:10,120
machine learning was not a marketable

00:19:06,730 --> 00:19:11,470
term at the time so I'm not sure what

00:19:10,120 --> 00:19:13,120
they called it when speaking to

00:19:11,470 --> 00:19:14,680
investors but they had all kinds of

00:19:13,120 --> 00:19:16,780
fancy ways to see if there was somebody

00:19:14,680 --> 00:19:18,870
who had bought some advertising keyword

00:19:16,780 --> 00:19:21,490
that correspondent to the name that you

00:19:18,870 --> 00:19:24,040
had asked for that didn't exist and then

00:19:21,490 --> 00:19:25,840
they would send you to an ad service

00:19:24,040 --> 00:19:30,250
that would would offer you something

00:19:25,840 --> 00:19:32,710
about that I didn't make the money so

00:19:30,250 --> 00:19:34,090
they stopped doing it they tried

00:19:32,710 --> 00:19:36,400
something else they still wanted to be

00:19:34,090 --> 00:19:37,810
in the ad business and they said gee

00:19:36,400 --> 00:19:40,780
there's this new Google thing

00:19:37,810 --> 00:19:43,270
let's intercept dub dub dub google.com

00:19:40,780 --> 00:19:45,130
so when people ask for that instead of

00:19:43,270 --> 00:19:46,870
getting a Google address they get an

00:19:45,130 --> 00:19:49,030
Open DNS address

00:19:46,870 --> 00:19:50,980
and they didn't live it didn't show the

00:19:49,030 --> 00:19:53,620
Google logo on the search page then you

00:19:50,980 --> 00:19:55,510
knew that you had been redirected and

00:19:53,620 --> 00:19:57,610
they didn't steal exactly

00:19:55,510 --> 00:20:00,160
because after you typed in your keywords

00:19:57,610 --> 00:20:01,690
they would then redirect you to Google

00:20:00,160 --> 00:20:03,490
so the next thing you saw after hitting

00:20:01,690 --> 00:20:05,590
the I'm feeling lucky button was the

00:20:03,490 --> 00:20:07,540
Google answer to your question they did

00:20:05,590 --> 00:20:09,490
not data mined the answers that you got

00:20:07,540 --> 00:20:11,350
from Google what they wanted to do was

00:20:09,490 --> 00:20:13,570
to associate the keywords you had asked

00:20:11,350 --> 00:20:14,830
for with your IP address so that they

00:20:13,570 --> 00:20:18,910
could figure out how to help other

00:20:14,830 --> 00:20:21,340
people sell you targeted ads and if

00:20:18,910 --> 00:20:23,260
you're wondering why did Google decide

00:20:21,340 --> 00:20:27,790
to enter the DNS business and create

00:20:23,260 --> 00:20:31,480
8.8.8.8 it was the same month so one

00:20:27,790 --> 00:20:33,520
could view this as a happy accident for

00:20:31,480 --> 00:20:34,720
Google because they get a lot of benefit

00:20:33,520 --> 00:20:37,660
from running that but I don't believe

00:20:34,720 --> 00:20:41,590
that that was their plan until OpenDNS

00:20:37,660 --> 00:20:44,140
did this so what you're seeing here is a

00:20:41,590 --> 00:20:45,970
lot of ambition a lot of innovation

00:20:44,140 --> 00:20:47,980
applied to the task of making companies

00:20:45,970 --> 00:20:51,130
more successful so that their investors

00:20:47,980 --> 00:20:53,680
will be happier and finally I want to

00:20:51,130 --> 00:20:56,350
say that you know we've got 1.1 now

00:20:53,680 --> 00:20:59,400
which is CloudFlare and we've got 9.9

00:20:56,350 --> 00:21:02,500
which really is IBM any date of course

00:20:59,400 --> 00:21:04,090
but there are 200 more addresses out

00:21:02,500 --> 00:21:06,730
there that are and on and on and on em

00:21:04,090 --> 00:21:08,410
you know you should think about whether

00:21:06,730 --> 00:21:10,060
this is going to be your retirement is

00:21:08,410 --> 00:21:20,020
to go set up a service like this and

00:21:10,060 --> 00:21:22,270
sell ads actually don't so the next

00:21:20,020 --> 00:21:27,160
problem that we faced was due to the

00:21:22,270 --> 00:21:29,800
wide success of 8.8 and open DNS and who

00:21:27,160 --> 00:21:32,700
knows what how many other wide-area any

00:21:29,800 --> 00:21:34,720
casted recursive servers there were

00:21:32,700 --> 00:21:36,630
something that the content delivery

00:21:34,720 --> 00:21:39,960
networks had been doing stopped working

00:21:36,630 --> 00:21:42,640
they were using the source address of

00:21:39,960 --> 00:21:46,000
the cache miss transaction that came

00:21:42,640 --> 00:21:47,890
from your recursive name server because

00:21:46,000 --> 00:21:49,780
it had to go to their authority server

00:21:47,890 --> 00:21:51,340
therefore they knew the IP address of

00:21:49,780 --> 00:21:53,800
the recursive name server that you were

00:21:51,340 --> 00:21:55,390
using and they could use the topology of

00:21:53,800 --> 00:21:56,910
that name server in other words where is

00:21:55,390 --> 00:21:58,740
it in the world

00:21:56,910 --> 00:22:02,880
where is it at least on the network is

00:21:58,740 --> 00:22:05,040
it in Europe northern or southern is it

00:22:02,880 --> 00:22:07,560
you know in Asia is it in South America

00:22:05,040 --> 00:22:10,770
North America and that way if they had

00:22:07,560 --> 00:22:12,150
mirrors of the content you wanted that

00:22:10,770 --> 00:22:15,510
where everywhere in the world they could

00:22:12,150 --> 00:22:18,180
use the source IP address of the cache

00:22:15,510 --> 00:22:20,850
miss from your recursive server to

00:22:18,180 --> 00:22:23,880
decide which of the mirror servers that

00:22:20,850 --> 00:22:26,310
could answer you should answer you

00:22:23,880 --> 00:22:27,990
I have always called this stupid DNS

00:22:26,310 --> 00:22:29,910
tricks and if you google that term

00:22:27,990 --> 00:22:33,690
you'll find an article in ACM queue

00:22:29,910 --> 00:22:36,480
written by me about that nevertheless it

00:22:33,690 --> 00:22:38,520
stopped working because the topology of

00:22:36,480 --> 00:22:40,560
whichever recursive name server you were

00:22:38,520 --> 00:22:42,390
now using was now far across the

00:22:40,560 --> 00:22:44,550
internet from you and could no longer be

00:22:42,390 --> 00:22:46,470
used as any kind of predictor a little

00:22:44,550 --> 00:22:48,840
own a good predictor of where your

00:22:46,470 --> 00:22:52,440
subsequent web fetch was going to come

00:22:48,840 --> 00:22:54,480
from since this was the principal

00:22:52,440 --> 00:22:56,280
marketing advantage that they had when

00:22:54,480 --> 00:22:59,630
trying to sell CD on services you might

00:22:56,280 --> 00:23:02,100
imagine that there was a bit of a panic

00:22:59,630 --> 00:23:06,840
so they said what we really need you to

00:23:02,100 --> 00:23:09,660
do is add the end-users IP address

00:23:06,840 --> 00:23:13,650
subnet to the cache miss so that when we

00:23:09,660 --> 00:23:15,450
receive a cache mass from Open DNS or

00:23:13,650 --> 00:23:18,810
Google or what have you we will know

00:23:15,450 --> 00:23:23,630
what network the end-user is on that you

00:23:18,810 --> 00:23:26,040
are serving in that case this is bizarre

00:23:23,630 --> 00:23:27,660
because it's an information leak and

00:23:26,040 --> 00:23:29,580
it's telling more people that you don't

00:23:27,660 --> 00:23:33,780
need to have knowit who you are when you

00:23:29,580 --> 00:23:36,360
did something and the IETF predictably

00:23:33,780 --> 00:23:38,460
said you know this is a business problem

00:23:36,360 --> 00:23:40,350
that you created by having a CDN why

00:23:38,460 --> 00:23:46,190
don't you solve it without adding

00:23:40,350 --> 00:23:49,320
complexity so they did not do that they

00:23:46,190 --> 00:23:54,330
they created a DNS client subnet as a

00:23:49,320 --> 00:23:56,100
private extension that was then widely

00:23:54,330 --> 00:23:57,540
adopted by all of the recursive name

00:23:56,100 --> 00:23:59,280
server operators because they didn't

00:23:57,540 --> 00:24:01,980
want to be known that gee if you used

00:23:59,280 --> 00:24:05,010
8.8 then you won't get good web service

00:24:01,980 --> 00:24:07,380
from all the people that aren't Google

00:24:05,010 --> 00:24:09,420
and the web people didn't want it to be

00:24:07,380 --> 00:24:11,940
known that they didn't actually know

00:24:09,420 --> 00:24:14,100
where you were which server you should

00:24:11,940 --> 00:24:16,440
be getting service from so they were

00:24:14,100 --> 00:24:19,110
powerfully incentive incentivized to

00:24:16,440 --> 00:24:20,970
create the system anyway and then after

00:24:19,110 --> 00:24:23,430
they did so they came back to the IETF

00:24:20,970 --> 00:24:26,400
and said okay you said no we did it

00:24:23,430 --> 00:24:28,680
anyway now it's in broad use would you

00:24:26,400 --> 00:24:30,480
like to have it documented as an RFC or

00:24:28,680 --> 00:24:32,540
would you just like this to be a text

00:24:30,480 --> 00:24:35,550
file somewhere and at that point the RFC

00:24:32,540 --> 00:24:37,380
excuse me the IETF did what they had to

00:24:35,550 --> 00:24:41,250
do which was to fold their tent and say

00:24:37,380 --> 00:24:43,290
I guess you win and that is how you get

00:24:41,250 --> 00:24:45,240
large populations of people who don't

00:24:43,290 --> 00:24:48,200
want to cooperate to cooperate it's a

00:24:45,240 --> 00:24:50,730
textbook example I've used it myself

00:24:48,200 --> 00:24:54,720
although I like to think in better in

00:24:50,730 --> 00:24:56,490
service of better ethics than that I do

00:24:54,720 --> 00:24:59,520
want to say the C DNS client subnet

00:24:56,490 --> 00:25:00,900
thing is a disaster for privacy because

00:24:59,520 --> 00:25:03,770
while you're supposed to include only

00:25:00,900 --> 00:25:09,690
the network like say the Class C or

00:25:03,770 --> 00:25:12,660
slash 56 if it's an ipv6 a huge number

00:25:09,690 --> 00:25:14,430
of middle box vendors did not read that

00:25:12,660 --> 00:25:16,950
part of the specification and they

00:25:14,430 --> 00:25:19,890
include the entire slash 32 or the

00:25:16,950 --> 00:25:22,290
entire slash 128 and I know this because

00:25:19,890 --> 00:25:24,510
I am one of the operators of the C root

00:25:22,290 --> 00:25:28,320
server and cogent communications and so

00:25:24,510 --> 00:25:29,820
I have seen it so the number of people

00:25:28,320 --> 00:25:33,270
who are having their entire address

00:25:29,820 --> 00:25:35,940
leaked is high enough that it would be

00:25:33,270 --> 00:25:38,010
really disturbing if it were published

00:25:35,940 --> 00:25:43,080
about which is why I'm working with the

00:25:38,010 --> 00:25:45,330
DNS o Ark people to publish about it so

00:25:43,080 --> 00:25:47,460
this is the new topology which is where

00:25:45,330 --> 00:25:49,320
you going all the way out to the

00:25:47,460 --> 00:25:52,710
Internet through your land your campus

00:25:49,320 --> 00:25:54,540
your your ISP and out to the far side of

00:25:52,710 --> 00:25:57,360
the Internet to talk to a recursive

00:25:54,540 --> 00:26:01,170
server who then includes your IP address

00:25:57,360 --> 00:26:03,060
when they have to go down to the CDN so

00:26:01,170 --> 00:26:04,620
that that CDN will know which corner of

00:26:03,060 --> 00:26:06,300
the internet you are probably coming

00:26:04,620 --> 00:26:08,790
from because you could no longer tell

00:26:06,300 --> 00:26:12,780
because the original architecture of the

00:26:08,790 --> 00:26:15,740
DNS was not monetizable enough by these

00:26:12,780 --> 00:26:15,740
these folks

00:26:17,360 --> 00:26:24,060
now at the time DNS was not encrypted in

00:26:22,710 --> 00:26:26,400
other words everything that I just

00:26:24,060 --> 00:26:28,620
described was either a UDP packet in

00:26:26,400 --> 00:26:31,110
clear text or a TCP session and clear

00:26:28,620 --> 00:26:33,630
text and it was possible for anybody in

00:26:31,110 --> 00:26:36,650
that long string of pearls between you

00:26:33,630 --> 00:26:39,810
and those other endpoints to find out

00:26:36,650 --> 00:26:41,610
exactly what you were looking at and if

00:26:39,810 --> 00:26:43,740
they were fast enough or if they were on

00:26:41,610 --> 00:26:46,560
path they could cause you to receive the

00:26:43,740 --> 00:26:48,840
wrong answer and a number of different

00:26:46,560 --> 00:26:51,960
initiatives have gone on trans solved

00:26:48,840 --> 00:26:54,540
that problem DNS SEC for example was I

00:26:51,960 --> 00:26:57,570
think just turned 25 years old and has

00:26:54,540 --> 00:26:59,760
almost 5% penetration of the of the

00:26:57,570 --> 00:27:01,830
market so we'll see how that goes but

00:26:59,760 --> 00:27:03,480
that with DNS sack we didn't make

00:27:01,830 --> 00:27:06,150
anything more private we just made it

00:27:03,480 --> 00:27:08,130
more authentic so when DNS sack is used

00:27:06,150 --> 00:27:09,600
you're still speaking clear text it's

00:27:08,130 --> 00:27:12,120
just that the answer includes digital

00:27:09,600 --> 00:27:13,710
signatures which you can verify against

00:27:12,120 --> 00:27:17,220
published keys to make sure that you

00:27:13,710 --> 00:27:18,630
know when you've been lied to so that

00:27:17,220 --> 00:27:21,420
was good but it wasn't good enough

00:27:18,630 --> 00:27:27,020
especially after the Snowden disclosures

00:27:21,420 --> 00:27:29,340
so more or less triggered by the Snowden

00:27:27,020 --> 00:27:31,290
flight to Hong Kong and the subsequent

00:27:29,340 --> 00:27:35,100
disclosures the internet Activities

00:27:31,290 --> 00:27:39,000
Board who are the putative grownups at

00:27:35,100 --> 00:27:41,910
the IETF said in an RFC about this they

00:27:39,000 --> 00:27:44,430
said all right that's a game over

00:27:41,910 --> 00:27:46,980
everything has to be encrypted now no

00:27:44,430 --> 00:27:49,590
new protocols in clear-text and

00:27:46,980 --> 00:27:52,140
everybody go fix the existing protocols

00:27:49,590 --> 00:27:53,430
and you know that may or may not have

00:27:52,140 --> 00:27:56,280
been an overreaction but it was

00:27:53,430 --> 00:27:58,050
certainly a gateway to current

00:27:56,280 --> 00:28:01,050
circumstance that is the excuse people

00:27:58,050 --> 00:28:02,220
had to do the things they've done now

00:28:01,050 --> 00:28:04,290
before that had happened

00:28:02,220 --> 00:28:06,020
dan Bernstein had tried to solve this

00:28:04,290 --> 00:28:09,180
problem with something called DNS crypt

00:28:06,020 --> 00:28:12,390
but it was there didn't seem to be an

00:28:09,180 --> 00:28:13,980
obvious call for it and it was pretty

00:28:12,390 --> 00:28:16,410
hard to understand so it never really

00:28:13,980 --> 00:28:19,650
caught on but after the Snowden

00:28:16,410 --> 00:28:20,880
disclosures the DNS working group said

00:28:19,650 --> 00:28:22,740
all right we need a special working

00:28:20,880 --> 00:28:27,030
group just for this it was just deep

00:28:22,740 --> 00:28:31,410
root I think and we're going to

00:28:27,030 --> 00:28:33,900
make the DNS protocol cryptid and they

00:28:31,410 --> 00:28:36,540
did this only for the TCP side there is

00:28:33,900 --> 00:28:37,920
a Datagram TLS standard but nobody uses

00:28:36,540 --> 00:28:39,600
it I don't know why it got to be

00:28:37,920 --> 00:28:41,430
standardized if nobody was going to use

00:28:39,600 --> 00:28:43,680
it but nevertheless nobody uses it

00:28:41,430 --> 00:28:48,180
so we don't have this for UDP but at

00:28:43,680 --> 00:28:49,980
least DNS over TLS on TCP now works and

00:28:48,180 --> 00:28:54,510
speaking as somebody who has implemented

00:28:49,980 --> 00:28:56,580
the DNS over TCP port 53 protocol a few

00:28:54,510 --> 00:28:58,920
times and defended any number of attacks

00:28:56,580 --> 00:29:03,780
against it I can tell you that the old

00:28:58,920 --> 00:29:06,960
DNS TCP protocol was terrible and there

00:29:03,780 --> 00:29:09,930
was no way to keep it working under even

00:29:06,960 --> 00:29:12,300
the slightest attack you know a Perl

00:29:09,930 --> 00:29:15,060
script that I can type on one line of

00:29:12,300 --> 00:29:20,970
the shell can bring down the TCP portion

00:29:15,060 --> 00:29:24,180
of any DNS / port 53 server so I was

00:29:20,970 --> 00:29:27,240
glad to see it get worked on my only

00:29:24,180 --> 00:29:29,940
request to the team who did work on it

00:29:27,240 --> 00:29:31,830
on D for DNS over TLS was please get a

00:29:29,940 --> 00:29:33,900
new port number because there are so

00:29:31,830 --> 00:29:36,360
many servers who will not be able to

00:29:33,900 --> 00:29:38,820
negotiate from the old protocol to the

00:29:36,360 --> 00:29:41,670
new protocol and I really don't want to

00:29:38,820 --> 00:29:43,440
cause widespread brokenness and so they

00:29:41,670 --> 00:29:46,140
did listen to me on that and everything

00:29:43,440 --> 00:29:49,200
else they did they did well we are in a

00:29:46,140 --> 00:29:50,880
position now where we've got a TCP

00:29:49,200 --> 00:29:53,130
protocol that is so good that we could

00:29:50,880 --> 00:29:57,900
use it persistently that means that your

00:29:53,130 --> 00:29:59,760
phone could maintain a TCP connection to

00:29:57,900 --> 00:30:02,010
its recursive name server all day long

00:29:59,760 --> 00:30:05,040
and not have to negotiate TCP and TLS

00:30:02,010 --> 00:30:07,860
and so forth for every query as it does

00:30:05,040 --> 00:30:11,310
now so this is really a great

00:30:07,860 --> 00:30:14,070
advancement however it was not enough

00:30:11,310 --> 00:30:17,100
for the web people they interpreted the

00:30:14,070 --> 00:30:19,440
Internet activities boards RFC about the

00:30:17,100 --> 00:30:22,170
Snowden disclosures differently than the

00:30:19,440 --> 00:30:26,160
DNS working group had done web people

00:30:22,170 --> 00:30:27,990
said part of privacy is that no one can

00:30:26,160 --> 00:30:29,760
see what you're doing

00:30:27,990 --> 00:30:32,940
including that no one can tell that

00:30:29,760 --> 00:30:37,430
you're making a DNS lookup so they

00:30:32,940 --> 00:30:40,730
crafted something called DNS over HTTPS

00:30:37,430 --> 00:30:42,990
which is now making the rounds

00:30:40,730 --> 00:30:46,309
so I'm gonna talk a little more about

00:30:42,990 --> 00:30:49,289
that but let me start out by saying that

00:30:46,309 --> 00:30:50,789
by putting it on this port they have

00:30:49,289 --> 00:30:53,340
mixed it in with all of the other

00:30:50,789 --> 00:30:56,730
traffic that we see right because almost

00:30:53,340 --> 00:30:58,919
everything uses TCP 443 I don't get a

00:30:56,730 --> 00:31:02,309
lot of TCP 80 traffic and my net flows

00:30:58,919 --> 00:31:04,169
anymore and they did this deliberately

00:31:02,309 --> 00:31:06,929
there is a line in the introductory

00:31:04,169 --> 00:31:10,460
paragraph of RFC 8 for 8 for that that

00:31:06,929 --> 00:31:14,820
says this protocol was designed to

00:31:10,460 --> 00:31:19,289
prevent interference by on paths on

00:31:14,820 --> 00:31:22,679
paths actors in DNS operations so it's

00:31:19,289 --> 00:31:25,440
not unblockable by accident it has no

00:31:22,679 --> 00:31:28,110
features that DNS over TLS didn't

00:31:25,440 --> 00:31:30,210
already have a year earlier except that

00:31:28,110 --> 00:31:33,480
it is designed to prevent interference

00:31:30,210 --> 00:31:36,149
by an on line there on path attacker

00:31:33,480 --> 00:31:38,340
such as a system administrator network

00:31:36,149 --> 00:31:42,990
administrator parental controls device

00:31:38,340 --> 00:31:49,440
or seaso or authoritarian government I

00:31:42,990 --> 00:31:52,909
suppose so let me go through that I do

00:31:49,440 --> 00:31:55,889
want to say public service announcement

00:31:52,909 --> 00:31:58,559
this business of monitoring your own DNS

00:31:55,889 --> 00:32:00,779
and possibly telling your DNS that

00:31:58,559 --> 00:32:03,990
certain truths ought to be withheld from

00:32:00,779 --> 00:32:07,769
your submit your smartphone or your your

00:32:03,990 --> 00:32:10,350
home Wi-Fi really does work and I have

00:32:07,769 --> 00:32:13,769
been part of two open source open

00:32:10,350 --> 00:32:15,389
protocol unpatented completely free to

00:32:13,769 --> 00:32:18,120
you you don't know anybody a nickel if

00:32:15,389 --> 00:32:19,850
you use them protocols for both getting

00:32:18,120 --> 00:32:22,830
telemetry out of your server and

00:32:19,850 --> 00:32:25,110
inserting policy into it all under

00:32:22,830 --> 00:32:28,529
programmatic control so if you don't

00:32:25,110 --> 00:32:30,299
know about dns tap T ap or if you don't

00:32:28,529 --> 00:32:34,590
know about their response policy zone

00:32:30,299 --> 00:32:36,740
DNS firewall which is DNS rpz and you

00:32:34,590 --> 00:32:38,519
take nothing else away from this

00:32:36,740 --> 00:32:41,700
presentation I hope you'll at least

00:32:38,519 --> 00:32:44,639
Google those things every open source

00:32:41,700 --> 00:32:47,370
name server that you can find supports

00:32:44,639 --> 00:32:49,080
both so you don't have to change what

00:32:47,370 --> 00:32:50,909
name server you're running or anything

00:32:49,080 --> 00:32:51,950
else this these are things we should all

00:32:50,909 --> 00:32:55,190
be doing

00:32:51,950 --> 00:32:59,600
that the do each community thinks that

00:32:55,190 --> 00:33:02,840
we should not be doing so first I want

00:32:59,600 --> 00:33:04,520
to say this is a political project when

00:33:02,840 --> 00:33:07,580
you argue about whether something can be

00:33:04,520 --> 00:33:08,630
blocked you're not making a technical

00:33:07,580 --> 00:33:10,460
statement you're making a political

00:33:08,630 --> 00:33:13,730
statement you're talking about what

00:33:10,460 --> 00:33:15,500
people should be allowed to do because

00:33:13,730 --> 00:33:18,730
the technical problem was already solved

00:33:15,500 --> 00:33:22,310
TLS is the underlying crypto protocol of

00:33:18,730 --> 00:33:26,120
HTTP so nobody could argue that either

00:33:22,310 --> 00:33:28,730
one has stronger crypto the difference

00:33:26,120 --> 00:33:30,890
is that one can be stopped at the

00:33:28,730 --> 00:33:32,630
firewall and the other one can't and if

00:33:30,890 --> 00:33:34,960
you developed a protocol with that in

00:33:32,630 --> 00:33:37,610
mind that is a political project

00:33:34,960 --> 00:33:44,180
not unlike tour although tor has a lot

00:33:37,610 --> 00:33:46,970
of very fine technologists so it's a big

00:33:44,180 --> 00:33:49,310
lie the justification that this will

00:33:46,970 --> 00:33:51,590
somehow keep you out of jail in an

00:33:49,310 --> 00:33:54,140
authoritarian regime you can now be a

00:33:51,590 --> 00:33:55,460
dissident and operate freely without

00:33:54,140 --> 00:33:58,190
worrying about having your door kicked

00:33:55,460 --> 00:34:01,070
in is totally not true

00:33:58,190 --> 00:34:03,320
because if you think about the powers of

00:34:01,070 --> 00:34:06,200
an on path attacker they are in the

00:34:03,320 --> 00:34:09,470
position to run TCP dump on your house

00:34:06,200 --> 00:34:11,929
and so yeah they'll see that you had a

00:34:09,470 --> 00:34:14,540
couple of packets on port 443 to some

00:34:11,929 --> 00:34:16,880
server that you know maybe it supports

00:34:14,540 --> 00:34:19,429
do H maybe they think it could support

00:34:16,880 --> 00:34:22,400
do H maybe it doesn't support do H but

00:34:19,429 --> 00:34:27,200
either way they can't decrypt it anymore

00:34:22,400 --> 00:34:30,050
and and so you're safe as far as them

00:34:27,200 --> 00:34:32,030
reading your dns transaction however

00:34:30,050 --> 00:34:34,310
unless you're using a VPN the very next

00:34:32,030 --> 00:34:37,760
thing you're going to do is send a TCP

00:34:34,310 --> 00:34:39,380
syn packet to some IP address or some

00:34:37,760 --> 00:34:43,220
other packet to some IP address and

00:34:39,380 --> 00:34:45,230
because IPSec even if it were used only

00:34:43,220 --> 00:34:46,550
encrypts the payload not the headers

00:34:45,230 --> 00:34:50,000
because the routers have to be able to

00:34:46,550 --> 00:34:54,230
see these addresses right so they know

00:34:50,000 --> 00:34:54,620
what your answer was and by what you do

00:34:54,230 --> 00:34:58,520
next

00:34:54,620 --> 00:35:00,200
and trivial data science applied to that

00:34:58,520 --> 00:35:04,060
will tell them what your question had to

00:35:00,200 --> 00:35:07,150
be so you get no

00:35:04,060 --> 00:35:11,230
actual privacy from a nation-state

00:35:07,150 --> 00:35:14,140
attacker and the idea that that you

00:35:11,230 --> 00:35:16,060
would or that you could is crazy and so

00:35:14,140 --> 00:35:17,770
I view that as a big lie being used to

00:35:16,060 --> 00:35:22,080
sold some sell something that is going

00:35:17,770 --> 00:35:22,080
to do more harm globally than good ever

00:35:25,860 --> 00:35:30,730
there are other problems if you have

00:35:28,150 --> 00:35:34,090
local naming than the devices that use

00:35:30,730 --> 00:35:37,060
do H will know about that I realize

00:35:34,090 --> 00:35:40,210
local naming is not in broad use but it

00:35:37,060 --> 00:35:41,530
is still in some use and now a number of

00:35:40,210 --> 00:35:43,180
people are going to come into corporate

00:35:41,530 --> 00:35:45,490
helpdesk saying I can't reach the

00:35:43,180 --> 00:35:47,380
cafeteria anymore well that's because

00:35:45,490 --> 00:35:48,730
you're not using my DNS server and I'm

00:35:47,380 --> 00:35:54,310
the only one in the world who knows

00:35:48,730 --> 00:35:56,440
where your cafeteria is so I'm got to

00:35:54,310 --> 00:35:56,830
hurry this up a little bit I got 10

00:35:56,440 --> 00:36:03,160
minutes

00:35:56,830 --> 00:36:05,860
I just told so I understand that there

00:36:03,160 --> 00:36:07,390
is a lot of goodwill and that trying to

00:36:05,860 --> 00:36:10,180
help people and authoritarian regimes

00:36:07,390 --> 00:36:12,340
does not make you evil on the other hand

00:36:10,180 --> 00:36:14,440
if the global cost is going to be felt

00:36:12,340 --> 00:36:16,900
more harshly by people who are on your

00:36:14,440 --> 00:36:18,490
side that means you didn't think through

00:36:16,900 --> 00:36:21,910
the game theory of what you were working

00:36:18,490 --> 00:36:24,940
on and what this will actually lead to

00:36:21,910 --> 00:36:28,150
is full proxy a lot of networks that

00:36:24,940 --> 00:36:29,980
used to allow HTTP outbound because they

00:36:28,150 --> 00:36:32,050
could intercept that they could inspect

00:36:29,980 --> 00:36:35,230
it they could look for patterns of

00:36:32,050 --> 00:36:39,430
malware or what have you are now on the

00:36:35,230 --> 00:36:40,810
in the face of TLS 1.3 and encrypted s

00:36:39,430 --> 00:36:42,520
in eyes they're just going to have to

00:36:40,810 --> 00:36:44,860
insist that everything go through a

00:36:42,520 --> 00:36:47,130
proxy and that everything all data be

00:36:44,860 --> 00:36:49,690
decrypted and strip-searched at the door

00:36:47,130 --> 00:36:53,320
this turns out to be illegal in some

00:36:49,690 --> 00:36:55,960
countries like Germany and it's illegal

00:36:53,320 --> 00:36:57,790
for some websites in other countries for

00:36:55,960 --> 00:37:00,280
example if you're an employee using the

00:36:57,790 --> 00:37:02,260
company's equipment in Britain Great

00:37:00,280 --> 00:37:04,570
Britain and you visit your online

00:37:02,260 --> 00:37:06,820
banking site and they see what you did

00:37:04,570 --> 00:37:09,310
then they've broken the law so this

00:37:06,820 --> 00:37:15,730
really is the biggest culture where the

00:37:09,310 --> 00:37:17,390
internet has had yet but I gotta say I'm

00:37:15,730 --> 00:37:19,370
still responsible for the trash

00:37:17,390 --> 00:37:20,810
that leaves my network I established

00:37:19,370 --> 00:37:23,050
that principle and I started the first

00:37:20,810 --> 00:37:25,580
anti-spam company back in the mid 90s

00:37:23,050 --> 00:37:26,960
people would say oh that's my customer

00:37:25,580 --> 00:37:28,610
they're doing that I can't stop them

00:37:26,960 --> 00:37:30,230
actually it's coming from you and I can

00:37:28,610 --> 00:37:33,230
stop you so you're gonna choose which of

00:37:30,230 --> 00:37:35,480
those you want to have have happen and

00:37:33,230 --> 00:37:38,510
people gradually learned that they will

00:37:35,480 --> 00:37:41,270
be held responsibility for the emissions

00:37:38,510 --> 00:37:42,770
of their network the chemical polluter

00:37:41,270 --> 00:37:44,150
business model of just putting your

00:37:42,770 --> 00:37:46,870
factory by the river and letting the

00:37:44,150 --> 00:37:50,060
people downstream cope as best they can

00:37:46,870 --> 00:37:51,920
was stopped but now it is restarted I

00:37:50,060 --> 00:37:55,750
don't have a choice about what leaves my

00:37:51,920 --> 00:37:59,600
network and it's going to get worse

00:37:55,750 --> 00:38:01,400
because there are still questions and it

00:37:59,600 --> 00:38:03,380
turns out that the web relies on

00:38:01,400 --> 00:38:05,530
advertising and so their technology

00:38:03,380 --> 00:38:07,820
optimizes for that first and foremost

00:38:05,530 --> 00:38:09,650
and if they can include the DNS

00:38:07,820 --> 00:38:13,210
relationships that you will need to

00:38:09,650 --> 00:38:16,160
fetch the company in JavaScript files or

00:38:13,210 --> 00:38:17,510
style files or pictures or whatever it

00:38:16,160 --> 00:38:19,400
is they can include all that DNS

00:38:17,510 --> 00:38:20,870
information and meta headers then you

00:38:19,400 --> 00:38:23,540
don't have to make any questions and you

00:38:20,870 --> 00:38:25,430
they can get the time to your eyeball

00:38:23,540 --> 00:38:28,610
meeting the first photon of the next ad

00:38:25,430 --> 00:38:30,260
down to the theoretical minimum they're

00:38:28,610 --> 00:38:32,300
not going to include any DNS SEC

00:38:30,260 --> 00:38:34,790
information here which means that

00:38:32,300 --> 00:38:37,010
website defacements that add bitcoin

00:38:34,790 --> 00:38:40,580
mining to what was otherwise a safe

00:38:37,010 --> 00:38:43,160
website to visit will now start Bitcoin

00:38:40,580 --> 00:38:45,830
miners in your browser without giving

00:38:43,160 --> 00:38:47,330
the local network administrator any

00:38:45,830 --> 00:38:49,130
opportunity to have monitored the

00:38:47,330 --> 00:38:54,320
transactions that led to that or perhaps

00:38:49,130 --> 00:38:58,970
to filter them out they call this beyond

00:38:54,320 --> 00:39:02,990
Corp the perimeter less Network Mozilla

00:38:58,970 --> 00:39:05,480
has taken this seriously they may have

00:39:02,990 --> 00:39:07,550
implemented it and they are now turning

00:39:05,480 --> 00:39:10,250
it on by default they're not asking

00:39:07,550 --> 00:39:12,080
their users in North America if they

00:39:10,250 --> 00:39:14,990
want to use do h2 CloudFlare they're

00:39:12,080 --> 00:39:16,370
just flipping the switch they say that

00:39:14,990 --> 00:39:18,320
they have a contract in place with

00:39:16,370 --> 00:39:20,270
CloudFlare that makes that safe I say

00:39:18,320 --> 00:39:22,340
they're a non-profit public benefit

00:39:20,270 --> 00:39:24,320
charity and I shouldn't have to opt out

00:39:22,340 --> 00:39:26,480
of something that they have chosen for

00:39:24,320 --> 00:39:29,300
me they the Google approach with Chrome

00:39:26,480 --> 00:39:30,830
is that they will use do H to your

00:39:29,300 --> 00:39:32,480
system resolver

00:39:30,830 --> 00:39:33,620
they think they know a URL that would

00:39:32,480 --> 00:39:36,620
get the same answer if you're using

00:39:33,620 --> 00:39:39,170
8.8.8.8 they will switch that from old

00:39:36,620 --> 00:39:40,910
DNS to new DNS and do it in the browser

00:39:39,170 --> 00:39:42,560
rather than asking the system resolver

00:39:40,910 --> 00:39:44,060
but if you're using a name server that

00:39:42,560 --> 00:39:47,030
Google doesn't recognize they don't do

00:39:44,060 --> 00:39:54,110
that it's very hard to be in a world

00:39:47,030 --> 00:39:56,990
where Google is the hero up until the

00:39:54,110 --> 00:39:59,030
publication of RFC had 48 for the

00:39:56,990 --> 00:40:00,590
internet was a cooperative network you

00:39:59,030 --> 00:40:01,910
had to speak the protocol that the other

00:40:00,590 --> 00:40:04,220
side expected or you couldn't

00:40:01,910 --> 00:40:06,770
communicate you had to respect global

00:40:04,220 --> 00:40:11,000
identifier assignments like IP addresses

00:40:06,770 --> 00:40:13,280
domain names and you could withdraw your

00:40:11,000 --> 00:40:15,740
participation as I did with the first

00:40:13,280 --> 00:40:18,230
anti-spam project you could in other

00:40:15,740 --> 00:40:21,040
words as any of the actors named on this

00:40:18,230 --> 00:40:23,870
slide move the gap in your particular

00:40:21,040 --> 00:40:25,850
line segment up or down in order to say

00:40:23,870 --> 00:40:29,000
that communication is not welcome here

00:40:25,850 --> 00:40:31,610
now we have an RFC that explains how you

00:40:29,000 --> 00:40:33,320
can get your yourself heard even if

00:40:31,610 --> 00:40:40,370
somebody else wishes to withdraw their

00:40:33,320 --> 00:40:41,960
consent that's a brave new world so you

00:40:40,370 --> 00:40:46,310
know giving people bad choices and

00:40:41,960 --> 00:40:48,530
letting them take the least bad of which

00:40:46,310 --> 00:40:50,750
all will be good for you is

00:40:48,530 --> 00:40:52,520
tried-and-true that is the way politics

00:40:50,750 --> 00:40:54,590
has always been practiced in the history

00:40:52,520 --> 00:40:55,780
books I read and that's what's happening

00:40:54,590 --> 00:40:58,790
here

00:40:55,780 --> 00:41:01,580
they are expecting me to choose from the

00:40:58,790 --> 00:41:04,010
menu that that I've given on this slide

00:41:01,580 --> 00:41:08,420
and I'm gonna do something that isn't

00:41:04,010 --> 00:41:11,360
that I'm gonna make my own way because

00:41:08,420 --> 00:41:15,020
consent matters I still think that all

00:41:11,360 --> 00:41:17,510
communications should be consensual I'm

00:41:15,020 --> 00:41:18,890
not ready to change that because a

00:41:17,510 --> 00:41:21,830
product manager at the Mozilla

00:41:18,890 --> 00:41:28,250
Corporation thinks I should or

00:41:21,830 --> 00:41:29,930
CloudFlare thinks I should so that odd

00:41:28,250 --> 00:41:33,440
looking demo I gave you is something

00:41:29,930 --> 00:41:35,330
that is actually mostly half-assed

00:41:33,440 --> 00:41:38,390
working I'll see how I can get it

00:41:35,330 --> 00:41:40,160
working if anyone wants to see it it's

00:41:38,390 --> 00:41:41,780
obviously a prototype this will have a

00:41:40,160 --> 00:41:43,310
long way to go before it's commercial

00:41:41,780 --> 00:41:44,000
strength but the idea of doing an

00:41:43,310 --> 00:41:47,330
enumeration

00:41:44,000 --> 00:41:49,820
attack against an IP addresses HTTP

00:41:47,330 --> 00:41:51,740
server to find out if any of the names

00:41:49,820 --> 00:41:53,930
that have been seen pointing at it

00:41:51,740 --> 00:41:58,030
support the do each protocol and then

00:41:53,930 --> 00:42:00,590
blacklisting that address works and

00:41:58,030 --> 00:42:03,590
there's been a change in patent law in

00:42:00,590 --> 00:42:05,840
the u.s. prior art is nowhere near as

00:42:03,590 --> 00:42:08,210
powerful as it once was first to file as

00:42:05,840 --> 00:42:10,730
the new regime so I filed a patent on

00:42:08,210 --> 00:42:14,090
this which I will be releasing to the

00:42:10,730 --> 00:42:15,440
community for the under the usual if you

00:42:14,090 --> 00:42:19,190
don't sue me than you get to use my

00:42:15,440 --> 00:42:20,540
patent rules because first a file was

00:42:19,190 --> 00:42:22,160
the one that was going to have the right

00:42:20,540 --> 00:42:28,730
to determine who got to do this so it

00:42:22,160 --> 00:42:30,440
was me so I said this seemed reasonable

00:42:28,730 --> 00:42:33,530
at the time it even seems reasonable in

00:42:30,440 --> 00:42:38,510
retrospect to a reporter earlier this

00:42:33,530 --> 00:42:41,720
week and they published it and as part

00:42:38,510 --> 00:42:45,080
of publishing it they asked Mozilla and

00:42:41,720 --> 00:42:47,450
CloudFlare for comments and what each of

00:42:45,080 --> 00:42:51,080
them said is there's nothing to see here

00:42:47,450 --> 00:42:54,270
move along we understood there was a

00:42:51,080 --> 00:42:56,500
problem and we have solved it

00:42:54,270 --> 00:42:59,150
[Music]

00:42:56,500 --> 00:43:02,630
you know we all deal with a lot of

00:42:59,150 --> 00:43:04,640
corporate persons in our lives and we

00:43:02,630 --> 00:43:09,350
know when this direction and redirection

00:43:04,640 --> 00:43:10,910
is being applied and we also know some

00:43:09,350 --> 00:43:12,530
of you anyway know that it takes at

00:43:10,910 --> 00:43:15,460
least an order of magnitude more energy

00:43:12,530 --> 00:43:18,350
to combat than to generate it

00:43:15,460 --> 00:43:19,790
so I'm not sure how far I'm going to go

00:43:18,350 --> 00:43:23,480
in this discussion with these particular

00:43:19,790 --> 00:43:26,870
people I am very happy that gdpr

00:43:23,480 --> 00:43:29,810
is something that they are afraid of so

00:43:26,870 --> 00:43:31,760
at least here in this country

00:43:29,810 --> 00:43:34,850
I don't think Mozilla is going to be

00:43:31,760 --> 00:43:39,650
turning this on by default but here's

00:43:34,850 --> 00:43:42,550
the here's the issue I have never used

00:43:39,650 --> 00:43:45,890
eBay from my net bsd email account

00:43:42,550 --> 00:43:47,870
therefore the fact that there is an

00:43:45,890 --> 00:43:51,260
image that contains both the eBay logo

00:43:47,870 --> 00:43:52,880
and my net bsd login means that i have

00:43:51,260 --> 00:43:57,200
been spammed by somebody who's trying to

00:43:52,880 --> 00:43:59,690
steal from me and I need the right

00:43:57,200 --> 00:44:02,420
and the capability to make sure that all

00:43:59,690 --> 00:44:04,570
devices including Mozilla browsers IOT

00:44:02,420 --> 00:44:07,250
lightbulbs everything on my network

00:44:04,570 --> 00:44:12,290
checks with my filtering before they

00:44:07,250 --> 00:44:15,500
decide to contact that DNS server that

00:44:12,290 --> 00:44:17,720
is a net good for the world that I have

00:44:15,500 --> 00:44:20,359
that ability and that others also have

00:44:17,720 --> 00:44:22,220
that ability so the idea that somehow

00:44:20,359 --> 00:44:24,349
we're going to treat parents and CISOs

00:44:22,220 --> 00:44:26,810
the same way we treat authoritarian

00:44:24,349 --> 00:44:29,570
regimes was wrong on the face of it and

00:44:26,810 --> 00:44:31,730
somebody early on in the planning part

00:44:29,570 --> 00:44:35,800
of do H should have said but wait what

00:44:31,730 --> 00:44:40,460
if this is evil those are the old days

00:44:35,800 --> 00:44:43,220
so I understand that we've all got stuff

00:44:40,460 --> 00:44:45,140
to do on any given day we've got to add

00:44:43,220 --> 00:44:47,660
a feature if it's a bug ship a product

00:44:45,140 --> 00:44:49,339
upgrade something whatever it is we got

00:44:47,660 --> 00:44:51,740
to do that's what we get paid for and

00:44:49,339 --> 00:44:53,390
trying to think about every butterfly

00:44:51,740 --> 00:44:54,950
effect that could possibly happen in the

00:44:53,390 --> 00:44:58,099
future as a result of what we got to do

00:44:54,950 --> 00:45:00,619
today would paralyze any of us and so we

00:44:58,099 --> 00:45:02,690
don't we are selective about what we how

00:45:00,619 --> 00:45:05,240
we go about worrying about side effects

00:45:02,690 --> 00:45:06,560
when we're deploying something and

00:45:05,240 --> 00:45:09,109
that's natural there's nothing

00:45:06,560 --> 00:45:11,810
particularly evil about that unless you

00:45:09,109 --> 00:45:16,579
give it no thought whatsoever which

00:45:11,810 --> 00:45:18,710
clearly is happening and you know DNS is

00:45:16,579 --> 00:45:21,200
a distributed coherent reliable

00:45:18,710 --> 00:45:23,780
autonomous hierarchical database is the

00:45:21,200 --> 00:45:25,550
first of its kind and now that I see how

00:45:23,780 --> 00:45:28,010
the world treats it I'm suspecting that

00:45:25,550 --> 00:45:29,900
it will be the last of its kind

00:45:28,010 --> 00:45:33,530
nothing else like this will be allowed

00:45:29,900 --> 00:45:35,440
to exist and while I really cherish my

00:45:33,530 --> 00:45:37,910
role trying to keep the thing running

00:45:35,440 --> 00:45:41,060
writing code writing RFC is running

00:45:37,910 --> 00:45:43,220
servers I've got to say that it's a

00:45:41,060 --> 00:45:45,020
wonderful problem to have it's n

00:45:43,220 --> 00:45:46,940
dimensional puzzle solving where the

00:45:45,020 --> 00:45:49,220
puzzles and the number of dimensions are

00:45:46,940 --> 00:45:51,440
changing as you're solving it is just

00:45:49,220 --> 00:45:53,119
totally cool but I would love it if the

00:45:51,440 --> 00:45:54,770
people who are making it harder would

00:45:53,119 --> 00:45:59,210
stop doing that because it was hard

00:45:54,770 --> 00:46:01,010
enough before they came so what we're

00:45:59,210 --> 00:46:03,829
seeing in our politics today is a lot of

00:46:01,010 --> 00:46:08,579
polarization a lot of extremism

00:46:03,829 --> 00:46:13,309
a lot of fact-free at a stations and

00:46:08,579 --> 00:46:16,799
this is brutal this is now in our world

00:46:13,309 --> 00:46:20,009
our consent is not being asked for we're

00:46:16,799 --> 00:46:22,589
being told what the devices and apps in

00:46:20,009 --> 00:46:24,509
our possession are going to do maybe if

00:46:22,589 --> 00:46:27,209
we ask or preferably we're not being

00:46:24,509 --> 00:46:28,410
told because we don't need to know it's

00:46:27,209 --> 00:46:31,920
a big argument about the freedom to

00:46:28,410 --> 00:46:34,910
tinker and if we don't get up on our

00:46:31,920 --> 00:46:37,049
hind legs and put fists in our hands

00:46:34,910 --> 00:46:41,999
we're gonna be we're gonna have the

00:46:37,049 --> 00:46:44,519
network that Minnie tell or some X 4 X

00:46:41,999 --> 00:46:46,769
400 X 25 provider wanted us to have all

00:46:44,519 --> 00:46:48,689
along where there are powerful

00:46:46,769 --> 00:46:51,329
corporations who control the protocols

00:46:48,689 --> 00:46:53,880
and they control the activities and we

00:46:51,329 --> 00:46:57,390
are their customers and perhaps their

00:46:53,880 --> 00:47:01,259
servants I will not go into that good

00:46:57,390 --> 00:47:04,339
night quietly thank you very much for

00:47:01,259 --> 00:47:04,339
coming I'm open for questions

00:47:15,070 --> 00:47:19,280
it really is to break those of you

00:47:17,540 --> 00:47:21,440
willing to give up the break we can do

00:47:19,280 --> 00:47:22,850
two three four five questions if you

00:47:21,440 --> 00:47:37,460
have one please come up to this

00:47:22,850 --> 00:47:39,170
microphone which is not on yet hello hi

00:47:37,460 --> 00:47:41,120
Paul thanks very much for giving us a

00:47:39,170 --> 00:47:43,790
historical perspective as well as a

00:47:41,120 --> 00:47:48,050
technical detail in the ongoing

00:47:43,790 --> 00:47:51,560
discussion I wonder where the outcry of

00:47:48,050 --> 00:47:54,080
the corporate world is because as far as

00:47:51,560 --> 00:47:55,820
I know even are completely mistaken do

00:47:54,080 --> 00:47:57,800
eight will completely break any

00:47:55,820 --> 00:48:00,650
corporate network that relies on Active

00:47:57,800 --> 00:48:02,750
Directory because it's mandatory that

00:48:00,650 --> 00:48:04,640
all the client applications use the

00:48:02,750 --> 00:48:08,120
domain controllers as their local

00:48:04,640 --> 00:48:11,120
resolvers unless all that nicely

00:48:08,120 --> 00:48:12,850
integrated Kerberos Elda up and which

00:48:11,120 --> 00:48:18,260
Microsoft actually does quite well

00:48:12,850 --> 00:48:20,390
breaks so the various corporate people

00:48:18,260 --> 00:48:22,310
who have been made aware of this have

00:48:20,390 --> 00:48:24,170
certainly said what you said you know

00:48:22,310 --> 00:48:27,590
I've got compliance issues that I can no

00:48:24,170 --> 00:48:29,360
longer meet with this certainly the CEO

00:48:27,590 --> 00:48:30,800
of British Telecom ought to be worried

00:48:29,360 --> 00:48:33,140
about going to jail if he can no longer

00:48:30,800 --> 00:48:36,020
follow the UK law about the various

00:48:33,140 --> 00:48:38,330
online child abuse prevention --zz that

00:48:36,020 --> 00:48:43,460
are required by his network by the

00:48:38,330 --> 00:48:46,120
federal law there the parental controls

00:48:43,460 --> 00:48:49,370
people are also up in arms about it

00:48:46,120 --> 00:48:51,770
sadly what we're getting from the

00:48:49,370 --> 00:48:55,240
corporate PR people at the companies who

00:48:51,770 --> 00:48:59,000
want to push this on us is a lot of

00:48:55,240 --> 00:49:00,980
simplistic ignorant like well you've got

00:48:59,000 --> 00:49:02,810
the ability to control the configuration

00:49:00,980 --> 00:49:06,050
of Mozilla through some sort of group

00:49:02,810 --> 00:49:08,180
permissions or whatever so just use that

00:49:06,050 --> 00:49:09,680
and then we won't ever turn it on

00:49:08,180 --> 00:49:12,440
because you will have told us in your

00:49:09,680 --> 00:49:14,930
corporate controls not to do that as we

00:49:12,440 --> 00:49:17,390
in this room know that does not address

00:49:14,930 --> 00:49:21,080
address the BYOD problem which is not

00:49:17,390 --> 00:49:22,270
well-salt anyway and somebody come in

00:49:21,080 --> 00:49:24,710
from home with

00:49:22,270 --> 00:49:26,900
nameservers set to the wrong thing used

00:49:24,710 --> 00:49:28,580
to have it not work unless they fixed it

00:49:26,900 --> 00:49:30,500
to use the corporate name servers once

00:49:28,580 --> 00:49:34,010
they went on the Wi-Fi now it'll work

00:49:30,500 --> 00:49:36,680
just fine and that was maybe not the

00:49:34,010 --> 00:49:38,750
explicit intent but its outcome that is

00:49:36,680 --> 00:49:43,400
allowed for by the explicit intents that

00:49:38,750 --> 00:49:45,980
have been stated so what I predict is

00:49:43,400 --> 00:49:49,520
going to happen is that once we have TLS

00:49:45,980 --> 00:49:53,359
1.3 with encrypted sni the traditional

00:49:49,520 --> 00:49:55,369
HTTP passive are sort of transparent

00:49:53,359 --> 00:49:57,410
interception that's been done on

00:49:55,369 --> 00:50:00,200
outbound connections by the Palo Alto

00:49:57,410 --> 00:50:02,840
Networks firewall for example and other

00:50:00,200 --> 00:50:06,980
next-generation firewalls is going to

00:50:02,840 --> 00:50:09,410
stop working at which point they're

00:50:06,980 --> 00:50:12,160
going to move to a model that requires

00:50:09,410 --> 00:50:14,540
that the proxy be explicitly set

00:50:12,160 --> 00:50:16,970
otherwise you can't get out on this

00:50:14,540 --> 00:50:19,400
protocol this is going to be hugely

00:50:16,970 --> 00:50:22,460
expensive especially for embedded

00:50:19,400 --> 00:50:24,320
controllers and IOT and industrial

00:50:22,460 --> 00:50:26,480
control where they don't give you a

00:50:24,320 --> 00:50:28,400
setting for what should my proxy be

00:50:26,480 --> 00:50:29,750
there's nothing in the DHCP assignment

00:50:28,400 --> 00:50:31,790
that tells you by the way you need a web

00:50:29,750 --> 00:50:34,340
proxy but I suspect that they're gonna

00:50:31,790 --> 00:50:36,040
be pushing for that fairly soon the

00:50:34,340 --> 00:50:41,000
other thing they're going to be doing is

00:50:36,040 --> 00:50:42,859
forcing a fallback to TLS 1.1 we're

00:50:41,000 --> 00:50:45,680
transparent interception is still

00:50:42,859 --> 00:50:47,900
possible so I know that it's going to be

00:50:45,680 --> 00:50:49,760
very expensive there's gonna be a lot of

00:50:47,900 --> 00:50:51,320
people hurt by it and I know that the

00:50:49,760 --> 00:50:53,000
corporate people I've talked to are

00:50:51,320 --> 00:50:55,250
usually surprised they have not heard

00:50:53,000 --> 00:51:00,680
that this risk is coming that's why I

00:50:55,250 --> 00:51:05,450
travel this is all about Internet facing

00:51:00,680 --> 00:51:07,490
traffic but if do H gets deployed into

00:51:05,450 --> 00:51:09,320
corporate networks with operators not

00:51:07,490 --> 00:51:11,810
knowing it will break local service

00:51:09,320 --> 00:51:14,180
discovery and all that fancy domain

00:51:11,810 --> 00:51:16,730
single sign-on for all those internet

00:51:14,180 --> 00:51:18,560
web applications ERP systems and

00:51:16,730 --> 00:51:20,450
whatever you have they're all hell will

00:51:18,560 --> 00:51:24,619
be breaking loose yes and I don't see

00:51:20,450 --> 00:51:28,550
this anywhere on the radar its I've

00:51:24,619 --> 00:51:30,380
raised this trust me right I'm I have

00:51:28,550 --> 00:51:32,090
tried to secure such networks and I have

00:51:30,380 --> 00:51:34,490
cell services to people who secure such

00:51:32,090 --> 00:51:36,200
networks and so I that's very much on my

00:51:34,490 --> 00:51:36,910
lips to say this all hell's gonna break

00:51:36,200 --> 00:51:40,369
loose

00:51:36,910 --> 00:51:42,530
sadly the people who are pushing this

00:51:40,369 --> 00:51:44,109
are by and large 20-somethings who have

00:51:42,530 --> 00:51:47,390
not tried to secure networks like that

00:51:44,109 --> 00:51:48,890
and what they've told me is that the

00:51:47,390 --> 00:51:50,480
network hasn't had a perimeter for a

00:51:48,890 --> 00:51:52,450
long time and you've been living on

00:51:50,480 --> 00:51:54,950
borrowed time and you just should just

00:51:52,450 --> 00:51:56,420
remove your firewall and put all of your

00:51:54,950 --> 00:51:59,030
security in the end point and what I've

00:51:56,420 --> 00:52:01,130
tried to explain is the last network

00:51:59,030 --> 00:52:03,530
that works that way might be turned off

00:52:01,130 --> 00:52:06,920
50 years from now but that's optimistic

00:52:03,530 --> 00:52:09,590
and you can't just throw the poison into

00:52:06,920 --> 00:52:11,810
the room and say ok cope with that right

00:52:09,590 --> 00:52:13,670
you know that we needed a we needed some

00:52:11,810 --> 00:52:15,140
kind of a public conversation about this

00:52:13,670 --> 00:52:16,790
and instead what we're getting is

00:52:15,140 --> 00:52:20,000
unilateralism from a bunch of political

00:52:16,790 --> 00:52:22,100
activists so right now I am contributing

00:52:20,000 --> 00:52:23,900
to the polarization of the debate and I

00:52:22,100 --> 00:52:25,750
don't know how to stop but I will stop

00:52:23,900 --> 00:52:28,970
because we have to seek a common future

00:52:25,750 --> 00:52:32,869
there's a project encrypted - DNS

00:52:28,970 --> 00:52:35,750
dot-org that a number of companies some

00:52:32,869 --> 00:52:37,280
on each side of that question have all

00:52:35,750 --> 00:52:39,500
agreed to join so that we can have

00:52:37,280 --> 00:52:40,130
discussions write position papers meet

00:52:39,500 --> 00:52:42,350
in person

00:52:40,130 --> 00:52:45,170
perhaps with nerf baseball bats I don't

00:52:42,350 --> 00:52:47,300
know what that will be because we all

00:52:45,170 --> 00:52:49,550
agree that this should be encrypted we

00:52:47,300 --> 00:52:54,619
don't agree about what side effects are

00:52:49,550 --> 00:52:58,450
acceptable or desirable I'm really sorry

00:52:54,619 --> 00:52:58,450
but the TTL for the slot expired

00:53:05,960 --> 00:53:12,260
thank you thank you great honor to 1/2

00:53:09,980 --> 00:53:13,280
the viewer thank you the greater honor

00:53:12,260 --> 00:53:15,760
to be invited

00:53:13,280 --> 00:53:15,760
thank you

00:53:22,220 --> 00:53:24,280

YouTube URL: https://www.youtube.com/watch?v=ZxTdEEuyxHU


