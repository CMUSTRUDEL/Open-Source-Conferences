Title: The Warden - FreeBSD and Linux Jail Managementt - Kris Moore, EuroBSDcon 2012
Publication date: 2012-12-07
Playlist: EuroBSDcon 2012, Poland
Description: 
	EuroBSDcon 2012
Warsaw, Poland 18-21 October
Captions: 
	                              alright guys I'm gonna go to get started                               my name is Chris Moore                               I'm with the pc-bsd project I am the                               founder and lead developer hack on that                               all day so it's a lot of fun I like my                               job at school the parking thing at                               conferences not so much but you know                               bear with me and we'll get through ok                               but today I'm going to be talking about                                the warden and what it is and what's                                coming in                                                          we're going to go through some command                                line functionality of it and we're going                                to take a break go to the goobie axis                                showing you how with simple clicks you                                can do all the same stuff those long                                commands get it done for you but first                                of all what is the warden well let me                                give you a little bit of history about                                it it's a Dale management utility it                                originally shipped with PCBs c                                          an add-on it wasn't included with the                                operating system it had a GUI and                                command-line interface very basic and                                you know some basic jail functionality                                for importing exporting you know setting                                up jails I mean it really wasn't that                                impressive it was more just to get the                                GUI and command-line working together as                                a starting place but I always knew there                                was gonna be a lot of new stuff we                                wanted to put in here eventually and                                when                                                              finally had time I was able to dedicate                                a couple months to sitting down and                                adding some new features so if we're                                gonna go over what some of those are                                today so new                                                            longer a download add-on package it's                                built right into through us and a pc-bsd                                                                                             for those who don't know what true Isis                                on the pc-bsd DVDs starting with                                        you grab those traditionally we've                                always had the ability to install pc-bsd                                and then previously well we've now added                                something called sure less which is our                                other server oxides if you want                                something you know previously base but                                with extra packages solar food                                environments that Wormtail support and                                you can install our special sir                                true or less awkward system which is                                again vanilla previous you know the hood                                so we're not taking anything away or or                                changing it too much on yeah we're also                                pitching it especially the Linux system                                developers or system administrators and                                we can give utilities like sudo in the                                box and we the Linux OS that's they're                                so excited and they hear that done                                FreeBSD and get my pseudo my bash and                                then run ZFS and how cool is that right                                so we're seeing some some really                                positive signs talking to a lot of Linux                                guys about this but anyway for the                                warden again it still includes a full                                command-line graphical interface so that                                hasn't changed from the previous it's                                written                                                             backend so real easy to look at and hack                                on and then the graphical interface is a                                C++ cute four and one of the cool new                                features is it ZFS enable and we'll talk                                a little bit more about what that means                                in a moment also for                                                support where you can do now multiple IP                                v                                                                  course we still have support for                                importing and exporting which is                                important we'll talk about that here in                                a minute                                for the GUI we've added a lot of new                                graphical utilities so now you can                                manage packages graphically updates                                users start and stop services                                graphically again if you're somebody who                                has no idea about freebsd services where                                they are you know linux system in this                                is really cool for you cuz you can now                                get up and get a jail running with a few                                clicks without having to know the                                internals and then you can dig in as you                                have time and we also have support for                                multiple types of jails and we're going                                to talk about that here in a moment as                                well and we can import jails from custom                                archives so if you're a freebsd server                                administrator and you have jails already                                 we can then import those into the warden                                 if you want some of our nice                                 functionality that we offer a grant                                 graphical package management we can do                                 some basic statistics on your jail - via                                 the GUI and the command line just give                                 you an idea what's going on but one of                                 the things i want to talk about really                                 quick is this idea of multiple jail                                 types i know you're all familiar with                                 what a traditional jail is on freebsd                                 that's what most people are running we                                 do - others called ports jail and linux                                 jails linux you can guess what that is                                 but the ports jail first its previously                                 jails                                 it does a few special things mounting                                 user home and temp into the jail copying                                 your Etsy password file so you have your                                 users in the jail but what it's useful                                 for is if you want to run a sandbox                                 where you can set up a whole nother                                 porch tree you know do development ports                                 if you're hacking on something and you                                 don't want to mess with your running                                 desktop or you're running user local                                 base you can now have a sandbox location                                 where you can run the X apps right out                                 of that jail as your user account and                                 actually they're functional and and work                                 really well so I use it for development                                 it's it's been pretty handy it's a                                 feature we had in pc-bsd                                                it's in the word and you can have as                                 many of them as you want it so you can                                 have as many development projects                                 rolling at a time and and not have to                                 worry about it trashing anything on your                                 box and feel free to stop me if anyone                                 has questions but I love chasing rabbit                                 drills ports jail on PCBs d                                     originally named it that because we have                                 PBIS of course for the base desktop and                                 then we encouraged users to install                                 their ports collections in this jail so                                 that they wouldn't go and accidentally                                 remove Lib PNG and then not build a boot                                 in the KB a year you know have some                                 disaster happens so it was a safe place                                 to go on run porch that was the idea and                                 so we just kept that name because it's                                 familiar to our community so we'll                                 introduce that to you but that's that's                                 what we mean when we say Porsche jail                                 now the linux jail okay                                 obviously we're talking about linux in                                 the site of jail where it should be kept                                 it belongs there what we do right now is                                 we can install Debian or Gen                                             jail it's still using all the ZFS stuff                                 under the hood all the functionality the                                 warden provides it includes easy to                                 setup distro scripts so we're note by no                                 means limited to these two distributions                                 those just happen to be the two easiest                                 one those that I picked to put in for                                   one but those scripts which populate                                 your Linux jail are user configurable                                 you can specify it at the command prompt                                 which script you want to use to load                                 which distro I'll just give you a brief                                 example of what one looks like so with                                 our Linux script for Debian for example                                 there's a cool utility in the board                                 supports tree called de bootstrap I                                 don't know if you're familiar with it                                 but essentially just say give me a                                 release                                 throw it in some directory and it'll                                 download Debian for him put it in a root                                 directory which in this case is going to                                 become our jail and then our scripts                                 will usually do some cleanup there's                                 some stuff from running Linux in a jail                                 we got to do we don't want it trying to                                 unmount things so we do some stuff so                                 when you shut it down it's not a hanging                                 on you and complaining too loudly but                                 again these scripts we're hoping to get                                 users to help contribute them so if you                                 have some Linux distro you need to run                                 into jail hooks or some cool app you                                 need there that they don't really source                                 for we don't have a port for please feel                                 free to write stuff like this and send                                 it to me it will include in the next                                 release for you so you don't have to                                 maintain it we'll start taking care of                                 that for you now the ZFS support in the                                 warden so what have we done with ZFS                                 well first of all it's all automatic                                 there's zero configuration for ZFS all                                 it needs is the FS on your filesystem so                                 if you install pc-bsd or QoS and you                                 know click the ZFS option this will just                                 be enabled out a box for you it'll go                                 ahead and you know detect your your pool                                 name etc and use it for all the right                                 commands and of course it does snapshot                                 creation and management of the snapshots                                 we now have scheduled snapshot ability                                 which I'll show you that in the GUI here                                 in a little bit it's easy to clone                                 snapshots if you're in the GUI again one                                 click your snapshot is cloned you may                                 now go view the files on it and of                                 course we can revert back to previous so                                 it's got all the pretty typical ZFS                                 stuff you'd expect so at this point I'm                                 actually going to show you what some of                                 this usage looks like so you can get a                                 kind of an idea the syntax again stop me                                 if you have questions I'll be happy to                                 explain why things are the way they are                                 or if you have suggestions I love                                 hearing from users what can we do to                                 make this better because I want it to be                                 the best it can be so first of all this                                 isn't a true OS box I'm sorry the fonts                                 a little grainy                                 I just took screenshots but what I'm                                 doing here is I'm just running the                                 command warden that's the main command                                 for everything and you just pass it a                                 variety of flags in this case I'm                                 telling it we want to create a new jail                                 in                                                                   address so that's going to be your                                 unique name at the moment I'm hoping to                                 change that a little later but I'll talk                                 about that in a bit yes                                 yes well okay I'll let you know here in                                 a moment so if next thing is the                                 hostname T Jail and then the - ports                                 flag says we want ports but as you                                 pointed out it says it's installing                                 world in this case what it's doing is                                 untrue us and pc-bsd                                 it'll go out to our mirror or whatever                                 your default mirror is and fetch the                                 world environment automatically for you                                 so it's going to grab it from our FTP or                                 HTTP server it'll save it somewhere on                                 your hard drive so that you can quickly                                 make other jails later without having to                                 redownload it and that'll be based on                                 the release so it'll be                                               running nine one yeah like a custom                                 world yes there's an option in the crate                                 flag to specify your own archive so you                                 can roll and modify and customize it any                                 way you wish and then say this is what I                                 want to use to populate this jail yeah                                 yeah yeah you can have multiple IP                                 addresses on a jail so I could create                                 this jail and give it a few other IP                                 addresses later or ipv                                                 the IP for that jail has to be unique                                 the initial IP that's just the way we                                 have done it for a while there's some                                 work going on to change that especially                                 for port drills because we want to                                 change it or you don't even need an IP                                 address so that'll be changing in the                                 near future but at the moment it's by                                 the initial IP address that's the way                                 you reference it and you can see it's                                 just gone ahead and created it and user                                 jails so standard location in this case                                 again same command I'm just giving it                                 the dashboard jail flag and again it                                 does all the work in the background I                                 make a ports jail sandbox for you and                                 then last but not least a Linux jail                                 this is a little more complicated we're                                 gonna go ahead and give it an IP and                                 hostname we're gonna feed it the Linux                                 jail a flag and then we have to give it                                 the name of the script so that's where                                 our default scripts are so in this case                                 we want to do Debian                                                    it's going to be I truncate it cuz it                                 does a lot of stuff here but yeah at                                 this point it's running that de                                 bootstrap utility it's downloading                                 putting it all in the jail for you and                                 that's where you can supply your own                                 scripts so if you want to do something                                 for fedora and you have a way to fetch                                 fedora easily or have them sitting on                                 your drive                                 somewhere you can script that in say                                 this is gonna pull my fedora into this                                 jail and again please share those with                                 me if you get them because we want to                                 include them as well no okay so the                                 question was you know jails are not                                 hypervisors are we loading Linux kernels                                 so no it's not running a Linux kernel                                 you're still using the FreeBSD we're                                 using the Linux compact layer for this                                 so obviously if there's some bug in the                                 copales you're gonna mess up something                                 in your jail and hopefully more of those                                 things get ironed out over time I can                                 tell you this has been pretty popular                                 when I talk to system ins that are                                 running Linux now and absolutely hate it                                 because they want to use ZFS and butter                                 FS is nowhere near close to being ready                                 for them and so as soon as they say oh                                 yeah you could just run that in a jail                                 on ours with ZFS the other HIEs get                                 really big yeah you know you see the                                 wheels turning like this this sounds                                 really cool and they're like I don't                                 need a Linux kernel I all they need is                                 the user land half the time they just                                 want some particular app to run in there                                 so this will this will do it for me                                 after we've set up our jails I've just                                 created three here a reference thing                                 that was really easy just the warden                                 list it'll give you a quick you know IP                                 list here what's their weather set to                                 auto star status you know they're all                                 stopped at the moment and then of course                                 the type so you can quickly look and go                                 these are my Linux jails these are my                                 standard jails etc starting very simple                                 again we're trying to keep the commands                                 easy here just warden start then the IP                                 address that'll be the unique identifier                                 whatever that ends up being in the                                 future and again stopping same thing                                 it's gonna go ahead and the run the                                 start and stop scripts they're now                                 logging into the jail so we have a                                 Shahrukh command which is actually                                 running jail in the background log you                                 into the jail so you can execute that                                 and it'll dump you into your jail                                 session you're open this bottom example                                 here I've sheared into Linux Debian                                 install I did and you can see it shows                                 up as Kay FreeBSD and you so that that's                                 what it was identifying itself as also                                 optionally I don't have it on a slide                                 but if you give it another argument                                 after the IP address a command you want                                 to run inside the jail you can do that                                 too so if you're in a ports jail sandbox                                 you could give it user local B in                                 Firefox and it'll just fire it right up                                 on your desktop just like it was a local                                 application so what does this look like                                 what's it doing in the background well                                 and user Jail's is our default location                                 that's changeable via the configuration                                 files but after I've set up these three                                 jails you'll see I have my warden chroot                                 file that's my my world environment that                                 I'm using to extract the jails and you                                 can replace that a monkey with it if you                                 please and then the jail addresses there                                 those are the directories and then we                                 have our metadata which is where we                                 store extra flags for jails settings etc                                 stored outside of the jail and those are                                 what we use when we're importing and                                 exporting and move my stuff around and                                 of course if you're running ZFS again                                 you saw in those commands are I didn't                                 say anything about ZFS it just did it                                 automatically for me so you do a listing                                 prep for jails everything's in its own                                 ZFS dataset automatically now so again                                 we want to keep this as easy as possible                                 so snapshot support again you can do                                 this off in the command line you could                                 script this in if you wanted to although                                 we have some facilities to automate it                                 for you but all we do to just say ZFS                                 make me a snapshot of this jail done                                 it'll do it you can list it'll give you                                 a list of all the dates when the                                 snapshots were created reverting again                                 you just feed it to the IP address and                                 then the date of the snapshot you want                                 to roll back to it'll start it'll stop                                 the jail for you revert and start a                                 backup if it was previously running so                                 it'll take care of all that for you                                 now cloning so say I have a snapshot                                 from a week ago that has a file on it                                 that somebody deleted I need to go get                                 back and I don't want to revert again                                 cloning is real easy I just get my list                                 of snapshots and say clone me that                                 snapshot it'll go ahead and clone it and                                 mount it for you somewhere on the file                                 system it'll give you that address so                                 you know where to go look and you can                                 list all the clones on the system as                                 well so when you're ready to nuke it you                                 just run our ZFS RM clone IP address the                                 clone you want to get rid of it's gone                                 just takes care of all the ZFS plates in                                 the background yes                                 yes not not via the interface you could                                 if you did it manually if you'd like yes                                 mm correct yeah that would be cool uh                                                                                                      want to do some scheduled snapshots                                 again I don't want to know the details                                 all I want to do is say give me some                                 cron snapshots of this jail I want to                                 start it because you can stop it as well                                 I want to do it hourly you could say                                 daily and then you specify the number of                                 days you want to keep so you could just                                 give it a couple weeks there as much as                                 you need as little as you need some                                 people need to want to do more often                                 than that it's real easy to put that in                                 cron if you would like it it just                                 generates the cron entry for you and you                                 can go hack it up yourself a few if you                                 want to but that we man were down the                                 road okay updates that's another thing                                 we can do for the jail so we can say                                 check for updates to this jail and it's                                 going to go ahead and run previous the                                 update on it and make sure everything's                                 up to snuff inside the jail for you and                                 give you the commands to do the FreeBSD                                 update when that's done assuming there                                 are patches flags so you want to set                                 some cools the jail option like raw                                 sockets because you're running Postgres                                 or something well we can do that so we                                 can get the flags for the jail and set                                 them we can just run set space flags                                 jail name and then just give it a comma                                 delimited list of whatever Flags you                                 particularly want for that jail you can                                 get them again later and you know it's                                 it's pretty simple again the interface                                 here and that'll support all the jail                                 Flags yes what was that                                 well no these you have to set these all                                 superuser obviously this isn't running                                 yes yeah yeah you cannot set any of                                 these wardens gonna the only thing you                                 can do is a user I think is run the                                 lista man to see what jails are on the                                 system but you cannot modify your monkey                                 around with any of the other jail stuff                                 you can if manually just our interface                                 isn't going to allow you to do that well                                 no no excuse me                                 I take that back that was the way it                                 used to be for the port jail now you can                                 so if you run warden ciruit my user                                 Firefox wherever it's running it as your                                 user account I'm sorry I get confused                                 what it did now this is nine so yeah                                 nine does that is your use the jail me                                 command as the internal and then it logs                                 in does its thing okay so that's just                                 some of the backend what's gonna happen                                 I'm gonna break out here really quick                                 and show you guys what it looks like via                                 the GUI if you're a lazy desktop user                                 like me and don't want to remember all                                 those commands                                 so okay so this is the first time you                                 launch the GUI here I've already set up                                 a couple jails you can see I have a poor                                 jail it's kind of fuzzy there and then                                 the Debian jail's my Linux jail and                                 we're gonna have some cool tabs on the                                 bottom here which just gives you some                                 info it's not running there's no active                                 connections I have no additional IP                                 addresses on it what the size on the                                 disk is we'll have some tools in here                                 for launching a terminal checking for                                 updates                                 service manager user administrator we're                                 gonna get into that in a second and then                                 the snapshots I'll come back to that                                 you're really quick I want to show you                                 guys how we create a jail so so we'll                                 just give it a name jailbird is the                                 default you think whatever you want                                 traditional jail obviously not a secure                                 password give it a second it's gonna go                                 ahead and set up my jail for me anybody                                 any questions or wait input it might                                 take a minute they don't have to be no I                                 just at home I just give them an IP                                 address on my local network and they                                 just work not yes that is a feature we                                 want to do                                                             jails sequentially from this IP address                                 or whatever yeah yeah that's so that is                                 something I do plan on adding                                          just at this point we've got the time to                                 go add that back in so the jails gone                                 ahead and been created again that's all                                 on ZFS what was that yeah I'm sorry I                                 didn't mention that so yeah it just                                 falls back to you FS if if you don't                                 have ZFS on your user jails directory                                 it's just going to do all this same                                 stuff on you FS what you're gonna lose                                 is the snapshot functionality all that's                                 going to be grayed out or the warden                                 will say I'm sorry you're on you FS you                                 can't do these snapshots and all the                                 cool things so you really want to be on                                 Ziya                                 it'll ya it'll do the Zacks a mount                                 points on you FS user jails IP address                                 it's well it's not a mound it's just                                 gonna create a directory and dump it                                 there for you for ZFS it's gonna make                                 that amount point it's gonna make that a                                 ZFS data set and user jails no you can                                 go compress it and set that on if you                                 like                                 we don't compress it why default I might                                 add an option down the road and the GUI                                 or via the command line to say just Auto                                 compress this sure sure we may end up                                 doing some stuff like that too let me                                 show you how we how we do that here                                 really quick okay so ya set the                                 properties on it yeah that would be                                 again once we get a little farther down                                 the road hopefully we'll have all the                                 ZFS options right there and you can set                                 your property yes yes that's that's the                                 plan is to add those in so now that the                                 jail is here we're just gonna go ahead                                 and start her up real quick okay we're                                 started yeah so now that activates all                                 the utilities so we have graphical                                 utility for managing the users on the                                 jail I can come here and say hey                                 somebody needs access to this box let's                                 just give back yes here yes and unsecure                                 password again yeah yeah I like this guy                                 he can administrate the system that's it                                 it's on that user is now in the jail                                 all right so we've just launched a                                 terminal inside the jail that there's a                                 user chris is a directory got created                                 just took care of it all for you again                                 that was a couple clicks any Linux                                 system in and does no any of the FreeBSD                                 commands and go and click and get his                                 jail setup or Windows guy I mean doesn't                                 matter I'm not trying to pick on Lex                                 guys but it's the thing to do with the                                 VSC conferences right but uh anyway so                                 we've done that today we've installed                                 some software here we have a graphical                                 way we can manage the services that are                                 running it's gonna go through and show                                 you what's disabled what's not disabled                                 in RFC comm and I think by default I had                                 SSH on on this sucker                                 yeah that's the sage is running I could                                 come here and start stop restart it                                 disable it etc again it's a disabled app                                 this is bad bunch of code I'll check on                                 that and of course we can do the check                                 for updates via the GUI as well it's                                 gonna do the same stuff you saw on the                                 background before Oh in this case it's                                 not gonna find you things I don't have a                                 network connection you go away now the                                 fun stuff snapshots so we're on ZFS                                 again if you're on ufs this is gonna be                                 grayed out it's gonna give you a nice                                 little warning saying I'm sorry get a                                 real computer and run ZFS okay so I've                                 just gone ahead and created my first                                 snapshot here I can go ahead and make a                                 whole bunch lo if I like and then I can                                 scroll back through time and see them                                 all I can see where I'm clicking here                                 you know organized by date great I want                                 to restore it I can't restore it's gonna                                 roll back in this case though will say I                                 just want to grab a file off it                                 wonderful it's gone ahead and mounted                                 the snapshot for me and tells me right                                 word set and I mean now go ahead and                                 start browsing that and when I'm                                 finished of course we can just unmount                                 the snapshot so that's how it works                                 against net scheduled snapshots pretty                                 self-explanatory just hit the pull down                                 button for the amount you want last but                                 not least we also do package                                 management via the GUI for it so you can                                 come in here and say hey I really want                                 to get some Apache packages or whatever                                 just click I'm hit apply fetches them                                 from our server and you have a pachi                                 running in the jail right now for                                        have a pretty limited set of packages                                 we're offering for the jail for nine two                                 we're gonna move to package ng and start                                 building our own entire repository of                                 everything so hopefully you should be                                 able to go here and grab any of the                                 ports or packages from the FreeBSD tree                                 and have it available and it'll keep                                 those up to date for you I can't show it                                 to you here on this screen but on our                                 tray we have an update manager it runs                                 just like most so desktop operating                                 systems it's smart enough it'll actually                                 check your jails to when it's checking                                 for updates and come up and flag you hay                                 in this Jail Apaches out-of-date maybe                                 you want to think about doing something                                 about that so it's it's got some neat                                 integration with our other utilities                                 okay here and last but not least will                                 say say I've made this jail on my                                 desktop again cuz I'm lazy and I like to                                 use buoys I just want to save it                                 somewhere and it's gonna export the jail                                 for me that's gonna go ahead and take a                                 moment but it's just basically                                 compressing it and dumping it to an                                 archive file eventually I made you some                                 stuff with ZFS with that to make it a                                 little neater but uh that's that's how                                 it works for the moment while we're                                 waiting for that luckily I've already                                 have a VirtualBox running with the same                                 jail or another jail that I created                                 there so will say this is my server                                 sitting under my desk or down at the                                 Kolo or whatever and I've set my archive                                 file and I'm ready to roll so I can do                                 warden import and then give it the                                 archive file now cool thing is you can                                 change the IP address on it as well                                 during the import time there's flags to                                 change the IP and hostname so if you've                                 done it on a local address and need to                                 give it your public address at the Colo                                 you can specify those on the command                                 line that will update the freebsd IP                                 addresses and like ours                                 Kampf and the host file it won't go                                 update all your services though so if                                 you have a patchy or my sequel set to                                 internal IP addresses you'll still have                                 to go set those by hand but it at least                                 get it up and running so you can SSH                                 into the box and it'll have the correct                                 IP and all that'll work out of box there                                 we go so now it's gonna go ahead and                                 import and when it's done I'll have a                                 fully-fledged                                 jail ready to roll there any questions                                 really quick line moving some of these                                 windows around yeah                                 dee doop yeah yeah                                 okay so dee doop my some of my                                 co-workers that I external shades of                                 grey and white when you mentioned dee                                 doop and their experience with free nas                                 with that so yeah you could potentially                                 go turn that on I don't have any options                                 to do that right now because it's a                                 memory hog and you can potentially I                                 guess John was it you can corrupt the                                 entire zpool if it runs out of memory or                                 something all I know is as soon as I                                 mentioned it to Josh she's like no don't                                 give users any ability to do dee doop                                 like that's the last thing you want to                                 do yeah yeah yeah use compression but                                 yeah so no we don't offer that out of                                 box I mean if dee doop at some point                                 becomes more stable and yeah sure i                                 would love to have that on yes                                 sure yeah I actually I've looked at that                                 same was a walkthrough on how to set                                 that up and that's something interesting                                 we may incorporate something like that                                 down the road yeah that's the thing it's                                 like a whole new world now with all                                 these things with ZFS and what you can                                 do and it gives me a lot of options so                                 we're definitely thinking down the road                                 we may do some of those things we're                                 gonna steal a lot of ideas you know from                                 the other jail programs as well yes well                                 this is one this is one I exported so                                 this was a jail I had on my desktop and                                 I exported and that could be whatever                                 was in the jail all the packages yes                                 well it's by default it's gonna use a                                 blank FreeBSD environment but you can                                 provide your own image so if you have                                 your own pre-created yeah it's it it's                                 an image of ours yes it's just a stock                                 correct that's that's where I would like                                 to go with it eventually where we just                                 send it over as the FSN and it's done so                                 yep yeah yeah there's there's a lot of                                 cool stuff we'd love to do with that and                                 of course I don't have to be the one to                                 write all this patches are welcome it's                                 all in shell it's really easy to hack on                                 so feel free to send me something yes                                 yeah the version in the porch tree is                                 really old                                 this new stuff hasn't yet port yet I                                 have to do some refactoring of it to put                                 it back into the parse tree it uses some                                 new libraries that I have elsewhere so I                                 hope to do that after nine one releases                                 so I won't leave you guys out in the                                 cold too too long all right okay so                                 we've gone ahead and imported our jail                                 here you can see it sits there and good                                 to go                                 and it's grade the meta directory and                                 it's made automatically the ZFS datasets                                 for it as well so I could make this on                                 my ufs desktop even and then send it to                                 the data server and then get all the ZFS                                 functionality it's not going to limit                                 you just because you created it on one                                 you can move back and forth if you'd                                 like okay and over here this one                                 finished exporting really quick let's                                 just fire up the old Debian jail                                 this may take a while I don't think                                 without my networking how quick it's                                 going to be okay so linux is up and                                 running                                 No okay and that's I have some slides on                                 that here at the moment I'm glad you                                 asked we're going to talk about that in                                 a second so you can see running debian                                 in here apt-get actually worked so I                                 mean if I had a network connection I'd                                 grab something for you but uh no I don't                                 know hey you know                                                       mean you can run their native package                                 management all inside the jail I can SSH                                 into that and give it to the Linux guy                                 and he can go install whatever service                                 he needs and just be happy to know it's                                 running on FreeBSD in the background all                                 right let me go back to the slide                                 portion of my talk here                                 okay so we've taken a look at the GUI                                 now thinking ahead what do we what are                                 we looking at doing here in the future                                 well first thing I mentioned before                                 we're looking at doing jails without an                                 IP address we're gonna just drop that so                                 we can add whatever we want without IPS                                 we actually want to borrow some code                                 from freenas Brina has had some really                                 good snapshot support for ZFS with the                                 off-site replication they've done a lot                                 of work on making that solid it's a                                 Python module some I'll have to see how                                 I integrate that but I've been told                                 that's the way to go because they've                                 already spent the countless hours to                                 debug it and make sure it works so we                                 want to integrate something like that                                 into the warden as well of course                                 additional Linux distros definitely want                                 to see those as an and as I mentioned                                 package ng repository so hopefully we'll                                 just have every package available we'll                                 create our own server set with special                                 options for inside your jail another                                 feature we want to add nobody brought it                                 up is                                                                  it's going to use the same architecture                                 as the host but I would like to add on a                                 flag where you can just say okay this is                                 cool give me a                                                        simple to do to just need to sit down                                 and get it done we want to do some stuff                                 with ZFS for cloning for the creation so                                 we're not using archive files that                                 should make the jail creation almost                                 instant and then one thing I want to do                                 is you know how I showed via the command                                 line you can set J options like allow                                 raw sockets or whatever we want to add                                 something that gooey or just lists all                                 those and you can just click click click                                 I want those options done you don't have                                 to know what the what the actual flags                                 are and as you mentioned Linux utility                                 so as we start seeing more Linux distros                                 show up in the warden is jailed Linux is                                 I want to add some support so that once                                 you install the Linux yum manager or                                 something or some graphical utility for                                 administrating your Linux system it'll                                 just add the icons right to the ward                                 where you can say ok launch the Linux                                 this it'll pop it right up it'll handle                                 all the X messiness in the background so                                 you don't have to worry about how that's                                 working and then you can administrate it                                 via their graphical utilities as well                                 and we might even do something with                                 their update management                                 way additionally that may be a little                                 trickier integrating that into my system                                 trade but if there's a way to do it all                                 I'll definitely take a whack at it and                                 see if we can get it done so that's the                                 end of what I have prepared a lot of                                 info up on our website and wiki page of                                 course comments are always welcome                                 patches are more welcome but I'll be                                 glad to work with anybody and if you                                 have good ideas this is still pretty                                 fresh project a lot of stuff's going                                 into it so I'll be happy to entertain                                 thoughts and see what we can put in any                                 other questions yes I don't have that                                 via the warden yet again that would be a                                 cool feature if I can hold yeah yeah I'm                                 not going to commit to that                                            list of wants is already getting rather                                 large so maybe a                                                       again those are cool things if you email                                 me or put them on the wiki page as a                                 suggestion it'll eventually get put in                                 yes any other questions                                 yes                                 I don't at the moment okay dan has oh                                 okay                                 so Dan's looking for the secret sauce he                                 doesn't have the secret sauce that's the                                 deal                                 okay cool deal okay guys well if there's                                 no more questions I'll be around for the                                 rest of the show feel free to come on by                                 and I'll be glad to talk to you more if                                 you got more internal stuff you want to                                 know about thank you guys
YouTube URL: https://www.youtube.com/watch?v=2WEX_W7nH3Y


