Title: Lightning Talk: Computing Confidentially in the Clouds - Aeva Black, Azure Confidential Compute
Publication date: 2021-05-04
Playlist: Cloud Native Security Day EU 2021
Description: 
	Donâ€™t miss out! Join us at our upcoming event: KubeCon + CloudNativeCon North America 2021 in Los Angeles, CA from October 12-15. Learn more at https://kubecon.io The conference features presentations from developers and end users of Kubernetes, Prometheus, Envoy, and all of the other CNCF-hosted projects.

Lightning Talk: Computing Confidentially in the Clouds - Aeva Black, Azure Confidential Compute, Microsoft 

A cloud is just someone else's computer -- someone that you trust in ways you may not even realize: to patch their infrastructure against the latest threats, to keep your data in the right country, and to only access it in legally compliant ways. What if you didn't have to trust them? What if you could audit the integrity of their systems at any time, isolate your work from cloud admins, and guarantee your data is processed only when and where you want? Sounds good, right? With new hardware coming online in all major cloud providers, Confidential Computing promises to alter this trust relationship - but the tech stack is still young, and it isn't integrated in cloud native yet. In this session, Aeva Black will present a vision towards this goal, introduce a few open source projects which facilitate it, and hold space for a discussion of future work.
Captions: 
	00:00:01,920 --> 00:00:05,359
hi folks and welcome to computing

00:00:03,760 --> 00:00:07,600
confidentially in the clouds

00:00:05,359 --> 00:00:09,040
a lightning talk introducing the topic

00:00:07,600 --> 00:00:10,880
of confidential computing

00:00:09,040 --> 00:00:12,240
my name is ava black and i'm an open

00:00:10,880 --> 00:00:14,920
source program manager

00:00:12,240 --> 00:00:16,640
at azure in the confidential compute

00:00:14,920 --> 00:00:18,240
team

00:00:16,640 --> 00:00:20,320
now today i'll be speaking more about a

00:00:18,240 --> 00:00:22,480
broad shift in technology

00:00:20,320 --> 00:00:25,359
rather than any specific company or

00:00:22,480 --> 00:00:27,279
product or open source project

00:00:25,359 --> 00:00:28,560
uh there are some places you can find me

00:00:27,279 --> 00:00:31,599
on the internet like

00:00:28,560 --> 00:00:33,040
the consortium or the cncf i'm also

00:00:31,599 --> 00:00:34,960
pretty active in kubernetes in the code

00:00:33,040 --> 00:00:38,480
of conduct committee

00:00:34,960 --> 00:00:38,480
and you can follow me on twitter

00:00:39,040 --> 00:00:42,800
so you might have heard the joke uh that

00:00:41,280 --> 00:00:44,000
uh the cloud is just someone else's

00:00:42,800 --> 00:00:47,600
computer but this is really

00:00:44,000 --> 00:00:48,640
it's a misnomer it belies the complexity

00:00:47,600 --> 00:00:51,520
and the scale

00:00:48,640 --> 00:00:53,520
of operating a cloud and it hides all of

00:00:51,520 --> 00:00:55,600
the work underneath those layers

00:00:53,520 --> 00:00:58,960
which must not be forgotten if you were

00:00:55,600 --> 00:01:00,480
well working in security

00:00:58,960 --> 00:01:02,320
now if you're not cloud provider then

00:01:00,480 --> 00:01:04,320
your operating environment

00:01:02,320 --> 00:01:06,560
uh is fundamentally different today than

00:01:04,320 --> 00:01:09,040
it was before you were consuming a cloud

00:01:06,560 --> 00:01:12,159
or you're using a cloud uh whether it

00:01:09,040 --> 00:01:15,040
was a decade ago or more

00:01:12,159 --> 00:01:15,840
but contractually speaking the business

00:01:15,040 --> 00:01:19,119
arrangements

00:01:15,840 --> 00:01:21,119
or agreements around responsibilities

00:01:19,119 --> 00:01:21,840
requirements to protect data are not all

00:01:21,119 --> 00:01:24,080
that different

00:01:21,840 --> 00:01:25,600
today than in the days of dedicated

00:01:24,080 --> 00:01:27,759
hosting when everyone got their own bare

00:01:25,600 --> 00:01:30,720
metal server

00:01:27,759 --> 00:01:32,720
and over time we have added a lot of

00:01:30,720 --> 00:01:34,880
additional security protections

00:01:32,720 --> 00:01:36,000
to encrypt data at rest encrypt data in

00:01:34,880 --> 00:01:37,759
transit

00:01:36,000 --> 00:01:39,200
we've even added specialized hardware

00:01:37,759 --> 00:01:40,479
devices

00:01:39,200 --> 00:01:43,119
particularly to cloud computing

00:01:40,479 --> 00:01:44,880
environments like hsn's and tpms to try

00:01:43,119 --> 00:01:48,720
and bring some of the security

00:01:44,880 --> 00:01:51,040
promises back to these environments

00:01:48,720 --> 00:01:52,399
there are we can talk about three

00:01:51,040 --> 00:01:56,079
different isolation

00:01:52,399 --> 00:01:59,200
models guest guest guest host and host

00:01:56,079 --> 00:02:00,880
guest traditional hypervisors only

00:01:59,200 --> 00:02:02,320
support two of these right they protect

00:02:00,880 --> 00:02:04,880
the host

00:02:02,320 --> 00:02:05,600
against potentially malicious guests

00:02:04,880 --> 00:02:07,119
because if

00:02:05,600 --> 00:02:09,200
a guest could compromise the host it

00:02:07,119 --> 00:02:12,640
could then get at other guests

00:02:09,200 --> 00:02:13,680
and we don't want that now confidential

00:02:12,640 --> 00:02:16,319
computing

00:02:13,680 --> 00:02:16,959
tries to invert this tries to protect

00:02:16,319 --> 00:02:19,680
the guest

00:02:16,959 --> 00:02:20,640
against a potentially compromised or

00:02:19,680 --> 00:02:22,959
malicious

00:02:20,640 --> 00:02:23,840
host environment whether that compromise

00:02:22,959 --> 00:02:26,959
might be

00:02:23,840 --> 00:02:29,440
a fault in the kernel or an unpatched

00:02:26,959 --> 00:02:31,599
device firmware or whatever it might be

00:02:29,440 --> 00:02:33,280
some layer below the guest

00:02:31,599 --> 00:02:35,040
if the compromise with a threat comes

00:02:33,280 --> 00:02:37,200
from there today there is really not

00:02:35,040 --> 00:02:39,840
much protection in the guest environment

00:02:37,200 --> 00:02:40,480
and so this movement by the industry is

00:02:39,840 --> 00:02:42,319
trying to

00:02:40,480 --> 00:02:45,760
trying to solve that uh particular

00:02:42,319 --> 00:02:48,319
problem or that that threat vector

00:02:45,760 --> 00:02:49,599
now no security solution is perfect and

00:02:48,319 --> 00:02:52,640
so this should be seen as

00:02:49,599 --> 00:02:54,160
entirely additive to any existing

00:02:52,640 --> 00:02:54,879
security measures you might have in

00:02:54,160 --> 00:02:57,519
place

00:02:54,879 --> 00:03:00,720
it's also still very early days and so

00:02:57,519 --> 00:03:02,159
things are changing pretty rapidly

00:03:00,720 --> 00:03:03,920
now the confidential computing

00:03:02,159 --> 00:03:05,200
consortium itself is another linux

00:03:03,920 --> 00:03:07,920
foundation project

00:03:05,200 --> 00:03:08,800
like the cncf backed by some of the same

00:03:07,920 --> 00:03:11,040
companies

00:03:08,800 --> 00:03:12,159
a lot of the large hardware and cloud

00:03:11,040 --> 00:03:14,800
providers

00:03:12,159 --> 00:03:16,720
and it has as a group we've defined

00:03:14,800 --> 00:03:18,239
confidential computing as the protection

00:03:16,720 --> 00:03:20,959
of data in use

00:03:18,239 --> 00:03:24,159
by performing computation in a trusted

00:03:20,959 --> 00:03:24,159
execution environment

00:03:24,319 --> 00:03:28,159
and all these companies since the

00:03:25,920 --> 00:03:29,920
founding about a year and a half ago

00:03:28,159 --> 00:03:32,480
a lot of companies have come together to

00:03:29,920 --> 00:03:33,360
really rally behind this cause and try

00:03:32,480 --> 00:03:36,560
and bring this

00:03:33,360 --> 00:03:36,560
vision to reality

00:03:37,040 --> 00:03:40,799
along the way we've identified three key

00:03:39,760 --> 00:03:42,480
properties

00:03:40,799 --> 00:03:43,840
and make a given environment

00:03:42,480 --> 00:03:45,280
confidential

00:03:43,840 --> 00:03:46,799
as well as some additional properties

00:03:45,280 --> 00:03:48,879
that might be present but are not

00:03:46,799 --> 00:03:51,680
necessary strictly speaking to protect

00:03:48,879 --> 00:03:51,680
data in use

00:03:52,000 --> 00:03:55,360
we've also identified two different

00:03:54,560 --> 00:03:58,000
modes

00:03:55,360 --> 00:04:00,239
if you will for that protection based on

00:03:58,000 --> 00:04:04,640
hardware one is process based

00:04:00,239 --> 00:04:06,799
and one is vm based or application based

00:04:04,640 --> 00:04:07,760
and so the in the process isolation

00:04:06,799 --> 00:04:10,480
scenario

00:04:07,760 --> 00:04:12,400
a particular trusted environment is set

00:04:10,480 --> 00:04:15,200
up where a process is run

00:04:12,400 --> 00:04:15,920
uh it's launched within a untrusted

00:04:15,200 --> 00:04:18,880
guests

00:04:15,920 --> 00:04:19,759
next to other untrusted processes and

00:04:18,880 --> 00:04:23,040
this

00:04:19,759 --> 00:04:24,960
works through uh the cpu itself

00:04:23,040 --> 00:04:26,639
in this case sgx but that's not the only

00:04:24,960 --> 00:04:29,360
way arm trust zone

00:04:26,639 --> 00:04:31,360
has a pretty similar model to this and

00:04:29,360 --> 00:04:33,280
it's just less prevalent in cloud so i

00:04:31,360 --> 00:04:36,000
didn't really include it in the slide

00:04:33,280 --> 00:04:38,160
the alternate model the vm based model

00:04:36,000 --> 00:04:39,040
actually relies on the hypervisor to

00:04:38,160 --> 00:04:41,680
launch

00:04:39,040 --> 00:04:42,639
a trusted guest operating system but

00:04:41,680 --> 00:04:44,960
it's the cpu

00:04:42,639 --> 00:04:46,880
that is ultimately isolating that

00:04:44,960 --> 00:04:49,680
environment that memory region

00:04:46,880 --> 00:04:50,960
those memory pages from other guests

00:04:49,680 --> 00:04:54,400
from the hypervisor

00:04:50,960 --> 00:04:54,400
and from other hardware devices

00:04:54,639 --> 00:05:00,000
now i should mention tpms and hsns

00:04:57,680 --> 00:05:01,440
these tools have been around for a while

00:05:00,000 --> 00:05:02,000
and people often ask how are they

00:05:01,440 --> 00:05:05,039
different

00:05:02,000 --> 00:05:08,000
than tees a tpm

00:05:05,039 --> 00:05:09,520
lets a verifying process verify the

00:05:08,000 --> 00:05:10,160
integrity of other components of the

00:05:09,520 --> 00:05:13,280
platform

00:05:10,160 --> 00:05:15,600
like the hypervisor or the hardware

00:05:13,280 --> 00:05:16,960
but it doesn't isolate memory it doesn't

00:05:15,600 --> 00:05:20,479
protect against

00:05:16,960 --> 00:05:20,479
a changed

00:05:20,960 --> 00:05:24,560
different access pattern but it might

00:05:22,960 --> 00:05:27,039
let you detect a

00:05:24,560 --> 00:05:28,080
faulty system or an unpatched system

00:05:27,039 --> 00:05:31,039
something like that

00:05:28,080 --> 00:05:33,039
and an hsm lets you protect the

00:05:31,039 --> 00:05:33,759
confidentiality of some small amount of

00:05:33,039 --> 00:05:35,759
data like

00:05:33,759 --> 00:05:37,280
a key but it doesn't guarantee the

00:05:35,759 --> 00:05:40,400
integrity of the application

00:05:37,280 --> 00:05:40,400
processing that data

00:05:40,720 --> 00:05:47,680
now today available for cloud native use

00:05:45,440 --> 00:05:48,960
intel has released the sgx device

00:05:47,680 --> 00:05:51,440
drivers for kubernetes

00:05:48,960 --> 00:05:53,600
which is pretty awesome and azure has

00:05:51,440 --> 00:05:56,000
also been working on some similar things

00:05:53,600 --> 00:05:57,919
and we have in production uh kubernetes

00:05:56,000 --> 00:05:58,319
clusters with sgx devices enabled in

00:05:57,919 --> 00:06:00,240
them

00:05:58,319 --> 00:06:01,840
i know a couple other cloud providers

00:06:00,240 --> 00:06:05,199
like ibm also have

00:06:01,840 --> 00:06:05,680
sgx available to their clouds uh and

00:06:05,199 --> 00:06:08,080
this is

00:06:05,680 --> 00:06:08,880
you know useful for launching or

00:06:08,080 --> 00:06:12,000
orchestrating

00:06:08,880 --> 00:06:15,520
with kubernetes a process designed to

00:06:12,000 --> 00:06:15,520
use an sgx device

00:06:15,919 --> 00:06:19,039
i did mention at the beginning of this

00:06:17,440 --> 00:06:20,479
talk the notion of trust and maybe

00:06:19,039 --> 00:06:23,360
inverting trust so i want to talk

00:06:20,479 --> 00:06:24,000
more about that and i need to introduce

00:06:23,360 --> 00:06:27,120
two

00:06:24,000 --> 00:06:28,960
legal terms now the exact definition of

00:06:27,120 --> 00:06:30,639
these terms varies depending on what

00:06:28,960 --> 00:06:34,960
regulation you're looking at

00:06:30,639 --> 00:06:36,560
what region you're in um and so the gdpr

00:06:34,960 --> 00:06:39,199
here in europe for example or if you're

00:06:36,560 --> 00:06:41,600
in california the ccpa

00:06:39,199 --> 00:06:43,120
other states like washington uh have

00:06:41,600 --> 00:06:45,039
other laws that are being drafted right

00:06:43,120 --> 00:06:45,919
now i know india is looking at similar

00:06:45,039 --> 00:06:48,479
laws

00:06:45,919 --> 00:06:49,599
um this talk is not legal advice i'm not

00:06:48,479 --> 00:06:52,000
a lawyer

00:06:49,599 --> 00:06:52,960
so whatever region you're practicing in

00:06:52,000 --> 00:06:55,440
or

00:06:52,960 --> 00:06:57,120
operating in uh if these laws apply of

00:06:55,440 --> 00:06:59,120
course consult your own attorneys

00:06:57,120 --> 00:07:01,120
for advice but i want to add the gist

00:06:59,120 --> 00:07:03,280
here

00:07:01,120 --> 00:07:04,560
whenever a person's data is handled by a

00:07:03,280 --> 00:07:05,919
company

00:07:04,560 --> 00:07:07,680
with whom they have established a

00:07:05,919 --> 00:07:10,400
relationship like say for me

00:07:07,680 --> 00:07:10,960
my email provider that company is the

00:07:10,400 --> 00:07:13,199
data

00:07:10,960 --> 00:07:15,280
controller they are controlling the data

00:07:13,199 --> 00:07:17,120
on my behalf and according to our

00:07:15,280 --> 00:07:18,400
agreement whatever i checked and signed

00:07:17,120 --> 00:07:21,599
when i signed up for that email

00:07:18,400 --> 00:07:23,199
uh provider now that data controller

00:07:21,599 --> 00:07:24,960
might set up agreements with other

00:07:23,199 --> 00:07:25,520
businesses to process data on their

00:07:24,960 --> 00:07:28,080
behalf

00:07:25,520 --> 00:07:29,120
maintain backups or off-site data

00:07:28,080 --> 00:07:31,520
recovery

00:07:29,120 --> 00:07:33,520
or index the data or provide some other

00:07:31,520 --> 00:07:35,599
services for me

00:07:33,520 --> 00:07:37,840
those data processors operate on the

00:07:35,599 --> 00:07:39,360
data on behalf of or under the guidance

00:07:37,840 --> 00:07:42,960
of the data controller

00:07:39,360 --> 00:07:44,560
and so there are obligations as far as

00:07:42,960 --> 00:07:46,879
protecting my data

00:07:44,560 --> 00:07:47,919
on both of those entities and and those

00:07:46,879 --> 00:07:49,280
might differ between

00:07:47,919 --> 00:07:51,360
different laws again so i'm not going to

00:07:49,280 --> 00:07:53,039
give advice here but just broach the

00:07:51,360 --> 00:07:56,400
topic we all need to begin

00:07:53,039 --> 00:07:58,639
considering these implications

00:07:56,400 --> 00:08:00,879
one thing is important to think about

00:07:58,639 --> 00:08:02,879
that none of those obligations today are

00:08:00,879 --> 00:08:04,800
contractually enforced between the data

00:08:02,879 --> 00:08:07,199
processor data controller

00:08:04,800 --> 00:08:09,280
it's a business agreement there's no

00:08:07,199 --> 00:08:10,960
enforcement at a hardware or a crypto

00:08:09,280 --> 00:08:14,400
level

00:08:10,960 --> 00:08:15,919
so that's today what if

00:08:14,400 --> 00:08:17,599
what if we could enforce policy

00:08:15,919 --> 00:08:19,199
cryptographically you know notary is

00:08:17,599 --> 00:08:22,160
working on enforcing it

00:08:19,199 --> 00:08:23,120
uh and adding that capability for these

00:08:22,160 --> 00:08:26,000
checksums

00:08:23,120 --> 00:08:29,039
for what images are run and signed where

00:08:26,000 --> 00:08:32,000
and by whom and that's fantastic

00:08:29,039 --> 00:08:33,519
what if the actual launch control could

00:08:32,000 --> 00:08:35,680
not just be through the orchestration

00:08:33,519 --> 00:08:38,560
system but verified in the hardware

00:08:35,680 --> 00:08:40,000
does that help i think it might this

00:08:38,560 --> 00:08:41,440
also sounds kind of like blockchain

00:08:40,000 --> 00:08:45,040
but maybe without the massive power

00:08:41,440 --> 00:08:48,720
consumption so that's cool

00:08:45,040 --> 00:08:50,160
what if as a tenant i could lock down my

00:08:48,720 --> 00:08:52,800
environment i could prevent

00:08:50,160 --> 00:08:54,000
the cloud hosting company or their

00:08:52,800 --> 00:08:56,160
agents or

00:08:54,000 --> 00:08:57,440
anyone else using the environment from

00:08:56,160 --> 00:09:00,399
accessing

00:08:57,440 --> 00:09:02,000
my data or my customers data and what if

00:09:00,399 --> 00:09:04,800
i could verify that

00:09:02,000 --> 00:09:05,839
through a trusted third party even if my

00:09:04,800 --> 00:09:07,680
data controller

00:09:05,839 --> 00:09:09,519
chose through business agreements to

00:09:07,680 --> 00:09:10,240
have someone else process the data on my

00:09:09,519 --> 00:09:11,680
behalf

00:09:10,240 --> 00:09:15,279
what if i could still maintain that

00:09:11,680 --> 00:09:17,519
enforcement through hardware

00:09:15,279 --> 00:09:18,320
and so really what if we what if we

00:09:17,519 --> 00:09:20,160
invert

00:09:18,320 --> 00:09:22,640
the trust relationship inherent in

00:09:20,160 --> 00:09:25,440
outsourced computing i think the

00:09:22,640 --> 00:09:26,959
implications are pretty far-reaching now

00:09:25,440 --> 00:09:28,399
a group at cambridge

00:09:26,959 --> 00:09:31,120
i don't have the link handy but try and

00:09:28,399 --> 00:09:33,760
get it and put it in chat

00:09:31,120 --> 00:09:34,399
they recently published a position paper

00:09:33,760 --> 00:09:36,399
that

00:09:34,399 --> 00:09:38,000
proposes the implications this

00:09:36,399 --> 00:09:40,480
technology could have

00:09:38,000 --> 00:09:41,600
on the gdpr regulations and companies

00:09:40,480 --> 00:09:44,080
underneath it

00:09:41,600 --> 00:09:46,320
that it might strengthen the guarantees

00:09:44,080 --> 00:09:48,880
that data controllers are able to make

00:09:46,320 --> 00:09:50,800
and thus enable more companies to more

00:09:48,880 --> 00:09:52,560
easily comply with the gdpr

00:09:50,800 --> 00:09:54,080
i think that's pretty awesome there's a

00:09:52,560 --> 00:09:55,680
lot of other implications i just don't

00:09:54,080 --> 00:09:57,760
have time to go into here

00:09:55,680 --> 00:09:59,600
but i would love to chat with you about

00:09:57,760 --> 00:10:00,399
them and i'd love it if you're

00:09:59,600 --> 00:10:02,320
interested

00:10:00,399 --> 00:10:04,399
in collaborating on this you know come

00:10:02,320 --> 00:10:06,560
work with the ccc or

00:10:04,399 --> 00:10:09,120
look at some of the projects around

00:10:06,560 --> 00:10:09,680
confidential computing and sgx or amd

00:10:09,120 --> 00:10:12,720
sev

00:10:09,680 --> 00:10:14,720
or arm trust zone and find ways to

00:10:12,720 --> 00:10:17,040
surface up those capabilities into the

00:10:14,720 --> 00:10:19,120
cloud native landscape

00:10:17,040 --> 00:10:20,959
and the ccc is actually planning to host

00:10:19,120 --> 00:10:22,079
a dev summit pretty soon stay tuned for

00:10:20,959 --> 00:10:23,920
details

00:10:22,079 --> 00:10:25,200
um we're really you know we'd love the

00:10:23,920 --> 00:10:28,880
collaboration between

00:10:25,200 --> 00:10:30,800
cloud native and confidential computing

00:10:28,880 --> 00:10:32,959
so if you like this talk you know find

00:10:30,800 --> 00:10:35,760
me online follow me on twitter

00:10:32,959 --> 00:10:36,720
you can find me on slack and send me any

00:10:35,760 --> 00:10:42,000
questions you have

00:10:36,720 --> 00:10:42,000

YouTube URL: https://www.youtube.com/watch?v=Fl7QwG5BSAQ


