Title: Alyssa Ong: Bot Building - Debunking Myths And Hard Lessons Learned - JSConf.Asia 2018
Publication date: 2018-02-06
Playlist: JSConf.Asia 2018
Description: 
	Building a bot isn’t hard… or is it? In this session, we’ll be going through fun code stories and demos to uncover some best practices in building bots and NLP models. Find out about common challenges & limitations faced, and the top scenarios and myths when it comes to bots for enterprises. In this session, I will share personal stories during my bot building journey, and learnings from the successes and failures that resulted.

Alyssa works with Microsoft's Commercial Software Engineering team and is the resident expert in bots. Featured in VentureBeat as one of the top 100 people to watch in the chatbot space, she loves working with startups and enterprises across Southeast Asia and bringing their bots to life (not literally). She is also a part time bubble tea addict, cryptocurrency trader and student of life.



JSConf.Asia - Capitol Theatre, Singapore - 27 January 2018

Source: https://2018.jsconf.asia/

License: For reuse of this video under a more permissive license please get in touch with us. The speakers retain the copyright for their performances.
Captions: 
	00:00:00,180 --> 00:00:12,370
[Music]

00:00:13,130 --> 00:00:20,490
everyone how are you doing hopefully not

00:00:15,960 --> 00:00:24,420
too hungover cool so my name is Alyssa

00:00:20,490 --> 00:00:27,869
and I'm here today to according to J's

00:00:24,420 --> 00:00:30,539
comp aja spilled some tasty beans on

00:00:27,869 --> 00:00:32,430
vote voting I still don't know it's

00:00:30,539 --> 00:00:39,059
filling some tasty beans actually means

00:00:32,430 --> 00:00:42,840
but you'll see okay so who am i yeah

00:00:39,059 --> 00:00:43,920
okay that's my intro done okay I make

00:00:42,840 --> 00:00:46,559
sure we from the commercial software

00:00:43,920 --> 00:00:48,840
engineering team in Microsoft so what we

00:00:46,559 --> 00:00:51,300
do is we work with enterprise and

00:00:48,840 --> 00:00:54,570
startup developers just like you guys to

00:00:51,300 --> 00:00:56,730
build epic stuff so this is my twitter

00:00:54,570 --> 00:00:59,969
handle if you want to like shown any

00:00:56,730 --> 00:01:02,550
questions during my talk alright so on

00:00:59,969 --> 00:01:04,860
the menu today I'm just gonna more

00:01:02,550 --> 00:01:07,799
specifically cover these different

00:01:04,860 --> 00:01:10,470
things so let's start with a simple

00:01:07,799 --> 00:01:14,430
gentle introduction into what sports and

00:01:10,470 --> 00:01:18,570
an LP okay so whose try to bought or try

00:01:14,430 --> 00:01:21,990
to build on before okay

00:01:18,570 --> 00:01:26,220
maybe fifty percent of you so in the

00:01:21,990 --> 00:01:28,200
middle of 2016 around that time I think

00:01:26,220 --> 00:01:30,780
Facebook released their messenger API

00:01:28,200 --> 00:01:33,180
platform and a lot of companies started

00:01:30,780 --> 00:01:35,820
getting real for more about you know

00:01:33,180 --> 00:01:38,130
having chat interfaces or an engine to

00:01:35,820 --> 00:01:40,439
build chat interfaces so it suddenly

00:01:38,130 --> 00:01:43,880
became like really cool so have a small

00:01:40,439 --> 00:01:48,210
little app that lives in your messenger

00:01:43,880 --> 00:01:50,299
so yeah a tripod is a service that you

00:01:48,210 --> 00:01:54,119
interact with by a chat interface and

00:01:50,299 --> 00:01:56,280
this is common misconception that your

00:01:54,119 --> 00:01:57,689
bot can only be smart oh it's a good boy

00:01:56,280 --> 00:02:01,250
only if you use natural language

00:01:57,689 --> 00:02:04,380
processing which is NLP but to be honest

00:02:01,250 --> 00:02:06,630
that's a myth if your bot is badly

00:02:04,380 --> 00:02:08,580
designed NOP is not going to save it you

00:02:06,630 --> 00:02:15,690
can put makeup on a potato but it's no

00:02:08,580 --> 00:02:18,150
potato okay so what about NLP natural

00:02:15,690 --> 00:02:20,150
language processing it's a form of

00:02:18,150 --> 00:02:23,010
machine learning text classification

00:02:20,150 --> 00:02:25,349
specifically and it it involves you

00:02:23,010 --> 00:02:28,560
trying to understand what your user is

00:02:25,349 --> 00:02:30,900
trying to do so I think universally

00:02:28,560 --> 00:02:32,400
there's these two main concepts that

00:02:30,900 --> 00:02:34,379
have been adopted across all the

00:02:32,400 --> 00:02:37,940
different chat engine platforms and

00:02:34,379 --> 00:02:40,379
that's intent and entities okay so

00:02:37,940 --> 00:02:42,840
intent is what a user is trying to do

00:02:40,379 --> 00:02:44,580
and then entity is the important data

00:02:42,840 --> 00:02:47,190
within what your user says that's

00:02:44,580 --> 00:02:48,930
important so for example I want a chili

00:02:47,190 --> 00:02:51,180
crab which is great in Singapore by the

00:02:48,930 --> 00:02:56,250
way and sell it those are your two food

00:02:51,180 --> 00:02:58,290
entities all right okay so how do you go

00:02:56,250 --> 00:03:00,150
about making one I'm not gonna tell you

00:02:58,290 --> 00:03:00,530
that do it the Microsoft way or the

00:03:00,150 --> 00:03:03,540
highway

00:03:00,530 --> 00:03:06,450
that's a ton of different ways you can

00:03:03,540 --> 00:03:10,140
make a bot so dialogue flow is from

00:03:06,450 --> 00:03:11,580
Google they acquired a Pio a I if you

00:03:10,140 --> 00:03:13,440
guys didn't know that which from

00:03:11,580 --> 00:03:17,430
Facebook that's IBM Watson and even

00:03:13,440 --> 00:03:20,069
bought kit from howdy but today my demos

00:03:17,430 --> 00:03:21,659
are gonna be using the Microsoft bought

00:03:20,069 --> 00:03:26,730
frameworks nodejs

00:03:21,659 --> 00:03:29,069
SDK seeing as this is a J's conf so I'm

00:03:26,730 --> 00:03:32,760
hoping that a lot of the concepts that I

00:03:29,069 --> 00:03:35,750
talk about today can be sort of used in

00:03:32,760 --> 00:03:41,010
your boss no matter what framework use

00:03:35,750 --> 00:03:43,409
okay can someone tell me what is well

00:03:41,010 --> 00:03:47,780
what I'm sorry well that's a bot and

00:03:43,409 --> 00:03:50,040
then have in common like a mobile web it

00:03:47,780 --> 00:03:52,709
no takers okay

00:03:50,040 --> 00:03:54,720
building one is easy building a good one

00:03:52,709 --> 00:03:57,239
isn't okay

00:03:54,720 --> 00:03:59,340
so rule number one when you start

00:03:57,239 --> 00:04:03,060
thinking about designing your bot it's

00:03:59,340 --> 00:04:05,099
really important to remember that bots

00:04:03,060 --> 00:04:06,959
aren't mobile web apps okay and you're

00:04:05,099 --> 00:04:08,909
probably thinking like I woke up on a

00:04:06,959 --> 00:04:11,970
Saturday morning just to hear on someone

00:04:08,909 --> 00:04:14,189
tell me this okay but what I really mean

00:04:11,970 --> 00:04:16,979
is that there are a whole different

00:04:14,189 --> 00:04:18,750
interface okay your users are gonna

00:04:16,979 --> 00:04:21,680
perceive things and they're gonna behave

00:04:18,750 --> 00:04:21,680
super differently

00:04:22,449 --> 00:04:26,900
so I wonder illustrate in the straight

00:04:25,220 --> 00:04:29,930
this with a project that I did recently

00:04:26,900 --> 00:04:33,259
with a startup company out there based

00:04:29,930 --> 00:04:36,259
in Singapore they are over a year old

00:04:33,259 --> 00:04:41,660
and they have 24,000 users using the app

00:04:36,259 --> 00:04:43,400
and what that app does is it helps you

00:04:41,660 --> 00:04:43,820
solve math questions okay I wish this

00:04:43,400 --> 00:04:45,530
one

00:04:43,820 --> 00:04:48,169
I wish I had this when I wasn't doing so

00:04:45,530 --> 00:04:51,020
well in math in high school but never

00:04:48,169 --> 00:04:54,620
mind so what you do is you snap a photo

00:04:51,020 --> 00:04:58,130
of your question and then what it does

00:04:54,620 --> 00:05:00,199
is use machine learning to understand

00:04:58,130 --> 00:05:02,990
what's in the question to give you

00:05:00,199 --> 00:05:05,750
similar questions as well as any

00:05:02,990 --> 00:05:08,180
suggested readings on concepts that are

00:05:05,750 --> 00:05:11,539
inside the question and because their

00:05:08,180 --> 00:05:15,010
user base is primarily secondary school

00:05:11,539 --> 00:05:17,539
students which is between maybe 13 to 16

00:05:15,010 --> 00:05:21,560
what they wanted to do is create this

00:05:17,539 --> 00:05:24,490
tutor that's you know like a personal

00:05:21,560 --> 00:05:27,110
tutor to engage their target audience so

00:05:24,490 --> 00:05:30,740
what they wanted to do was to convert

00:05:27,110 --> 00:05:32,770
their app into a bot and the problem

00:05:30,740 --> 00:05:36,220
with thinking about it this way is that

00:05:32,770 --> 00:05:42,860
you start to get and experienced it

00:05:36,220 --> 00:05:44,930
isn't you know it isn't that good okay

00:05:42,860 --> 00:05:48,740
so this is kind of like the app you send

00:05:44,930 --> 00:05:50,900
in a photo and then it actually asks you

00:05:48,740 --> 00:05:52,490
do you wanna see similar questions or

00:05:50,900 --> 00:05:56,870
relevant topics which is similar to what

00:05:52,490 --> 00:05:58,760
you see in the app as well okay so what

00:05:56,870 --> 00:06:01,940
we did is we spend a week sitting down

00:05:58,760 --> 00:06:05,229
with them and sort of revamping the UI

00:06:01,940 --> 00:06:08,240
so before I go into the design

00:06:05,229 --> 00:06:12,010
considerations that we put into this let

00:06:08,240 --> 00:06:12,010
me just show you the v2 that they have

00:06:12,400 --> 00:06:19,010
so there's actually sort of a proper

00:06:15,020 --> 00:06:20,780
menu telling users what they can do and

00:06:19,010 --> 00:06:22,310
this is using the cards which are

00:06:20,780 --> 00:06:26,960
facebook Messenger actually provides you

00:06:22,310 --> 00:06:28,909
with and users actually know how you

00:06:26,960 --> 00:06:31,639
know what kind of images they can they

00:06:28,909 --> 00:06:32,400
can upload to the bottom so I'm doing

00:06:31,639 --> 00:06:35,580
this

00:06:32,400 --> 00:06:38,940
and as you can see it will just

00:06:35,580 --> 00:06:41,160
immediately display similar questions

00:06:38,940 --> 00:06:45,300
I like the ball it's really quirky and

00:06:41,160 --> 00:06:47,040
it has a lot of fun stuff inside and

00:06:45,300 --> 00:06:50,660
then you can view irrelevant topics

00:06:47,040 --> 00:06:54,300
about the questions as well cool

00:06:50,660 --> 00:06:56,660
so okay we will use this as an example

00:06:54,300 --> 00:07:00,389
to talk about the design considerations

00:06:56,660 --> 00:07:02,850
there's two main sort of categories that

00:07:00,389 --> 00:07:05,190
I will put this in one is managing your

00:07:02,850 --> 00:07:07,740
users actions and the second one is

00:07:05,190 --> 00:07:10,320
managing the way your board displays

00:07:07,740 --> 00:07:12,990
things to the user so managing user

00:07:10,320 --> 00:07:15,330
actions when you start the conversation

00:07:12,990 --> 00:07:17,010
just immediately tell the user what you

00:07:15,330 --> 00:07:19,470
can do for them okay and the user should

00:07:17,010 --> 00:07:20,330
be able to just you know go in and just

00:07:19,470 --> 00:07:24,030
do it

00:07:20,330 --> 00:07:27,690
secondly at every step the user has to

00:07:24,030 --> 00:07:30,870
know what they can do next so for

00:07:27,690 --> 00:07:32,789
example after you show the answer you

00:07:30,870 --> 00:07:35,250
can show like some suggested actions

00:07:32,789 --> 00:07:37,229
like this for example at the end of

00:07:35,250 --> 00:07:38,700
every conversation you should show them

00:07:37,229 --> 00:07:42,120
like a bunch of stuff telling the user

00:07:38,700 --> 00:07:43,710
what they can do next you should be able

00:07:42,120 --> 00:07:47,039
to handle popular trigger words and

00:07:43,710 --> 00:07:50,930
phrases so for example help me I'm lost

00:07:47,039 --> 00:07:53,220
and stuck order I do exist quill and

00:07:50,930 --> 00:07:55,770
lastly you have to be able to handle

00:07:53,220 --> 00:07:57,870
their BS because for some reason users

00:07:55,770 --> 00:08:00,389
love talking a lot of crap to your BOTS

00:07:57,870 --> 00:08:03,210
so you should be able to handle some of

00:08:00,389 --> 00:08:05,789
these for a good experience okay so I'm

00:08:03,210 --> 00:08:13,110
just gonna quickly demo how to do some

00:08:05,789 --> 00:08:15,900
of this in about framework okay so this

00:08:13,110 --> 00:08:18,030
is just using a local emulator as you

00:08:15,900 --> 00:08:20,669
can see I have some cards so you can use

00:08:18,030 --> 00:08:23,599
this for your menu and how you

00:08:20,669 --> 00:08:26,910
instantiate this just like really simply

00:08:23,599 --> 00:08:29,039
you can create a message and then just

00:08:26,910 --> 00:08:31,530
create two hero cards it's pretty

00:08:29,039 --> 00:08:34,169
self-explanatory if you want to do this

00:08:31,530 --> 00:08:36,630
without the about framework I think the

00:08:34,169 --> 00:08:38,400
facebook messenger API has some like you

00:08:36,630 --> 00:08:40,620
have to see what they accept in the

00:08:38,400 --> 00:08:42,719
request to send a card to your user and

00:08:40,620 --> 00:08:47,459
then if I

00:08:42,719 --> 00:08:49,079
say Lissa okay so these little things in

00:08:47,459 --> 00:08:52,800
the bot framework are called um some

00:08:49,079 --> 00:08:54,899
suggested actions so you can just push

00:08:52,800 --> 00:08:57,180
in a couple of actions so main menu

00:08:54,899 --> 00:08:59,009
similar questions so equation and then

00:08:57,180 --> 00:09:02,939
you send all of these as one message to

00:08:59,009 --> 00:09:05,639
your user again messenger API has like

00:09:02,939 --> 00:09:09,000
protocols with this so you can just send

00:09:05,639 --> 00:09:12,120
the proper request and then if you're on

00:09:09,000 --> 00:09:14,189
a handle like special keywords you just

00:09:12,120 --> 00:09:16,800
you know user rejects you can just do a

00:09:14,189 --> 00:09:22,050
dot trigger action and it will execute

00:09:16,800 --> 00:09:24,120
the dialog okay so the last one is the

00:09:22,050 --> 00:09:27,509
small talk and I want to spend a little

00:09:24,120 --> 00:09:29,730
bit of time talking about this so I

00:09:27,509 --> 00:09:32,220
wrote something called the small talk

00:09:29,730 --> 00:09:33,750
module this one is a little bit harder

00:09:32,220 --> 00:09:37,740
to do because there's just so many

00:09:33,750 --> 00:09:40,110
things your user could say okay so API

00:09:37,740 --> 00:09:42,930
delay is less dialogue flow actually has

00:09:40,110 --> 00:09:46,410
a small talk module okay and it has like

00:09:42,930 --> 00:09:49,730
1,400 of our menses so what I did is I

00:09:46,410 --> 00:09:54,509
basically took out all those and

00:09:49,730 --> 00:09:56,250
exported it to ATSB thanks google but

00:09:54,509 --> 00:09:58,319
yeah I thought this was pretty good so

00:09:56,250 --> 00:10:00,930
what you can do is go to this bar for

00:09:58,319 --> 00:10:03,449
small talk repository and then you can

00:10:00,930 --> 00:10:04,829
actually train whatever model whatever a

00:10:03,449 --> 00:10:07,769
machine learning model you wanna use

00:10:04,829 --> 00:10:15,509
with this and then the responses are

00:10:07,769 --> 00:10:17,759
actually in a separate okay okay this

00:10:15,509 --> 00:10:20,399
one so the responses are all in here I

00:10:17,759 --> 00:10:24,629
just decoupled them so that you can it's

00:10:20,399 --> 00:10:27,689
easier to edit this so yeah what I used

00:10:24,629 --> 00:10:30,300
to create the Smalltalk module was the

00:10:27,689 --> 00:10:32,189
Microsoft Q&A maker but like I say you

00:10:30,300 --> 00:10:34,800
can use whatever NOP engine you're on

00:10:32,189 --> 00:10:37,589
the trainer with and then I just

00:10:34,800 --> 00:10:42,480
integrate it inside here because it's

00:10:37,589 --> 00:10:44,970
exposed as an API so if I say I just

00:10:42,480 --> 00:10:47,480
trigger this say whatever you want um

00:10:44,970 --> 00:10:47,480
how are you

00:10:48,920 --> 00:10:57,079
oh you're bad so yeah now we can sort of

00:10:54,589 --> 00:11:00,759
answer these little things that they use

00:10:57,079 --> 00:11:03,290
up doors I did you say thank you goodbye

00:11:00,759 --> 00:11:05,089
super common things and you don't have

00:11:03,290 --> 00:11:09,350
to use like specific key words you can

00:11:05,089 --> 00:11:16,519
just use you know in general words to

00:11:09,350 --> 00:11:18,589
express yourself cool okay so the next

00:11:16,519 --> 00:11:21,799
category is how to manage your boss

00:11:18,589 --> 00:11:25,129
display so the first one is you know

00:11:21,799 --> 00:11:28,129
just cut to it your user wants the least

00:11:25,129 --> 00:11:30,350
number of steps to do something so yeah

00:11:28,129 --> 00:11:32,389
make it happen that way and also you

00:11:30,350 --> 00:11:34,939
have a really limited space to show your

00:11:32,389 --> 00:11:37,119
information okay if you think about it

00:11:34,939 --> 00:11:40,639
your screen your mobile screen size

00:11:37,119 --> 00:11:43,279
assuming your users on mobile it's only

00:11:40,639 --> 00:11:47,419
this big if you want to show a wall of

00:11:43,279 --> 00:11:49,959
text or tons of images your users not

00:11:47,419 --> 00:11:51,559
going to bother like scrolling up and

00:11:49,959 --> 00:11:54,559
looking at what you've done

00:11:51,559 --> 00:11:56,419
sorry what you have displayed to them so

00:11:54,559 --> 00:12:02,839
one good way to overcome this is

00:11:56,419 --> 00:12:05,779
actually to you can see on this people

00:12:02,839 --> 00:12:08,439
don't read they hate reading sorry I

00:12:05,779 --> 00:12:11,449
mean let me show you that again okay

00:12:08,439 --> 00:12:16,160
okay let's say your phone screen is only

00:12:11,449 --> 00:12:18,199
this big okay so what you want to do is

00:12:16,160 --> 00:12:20,860
you actually want to use typing

00:12:18,199 --> 00:12:23,269
indicators which are quite a common

00:12:20,860 --> 00:12:25,699
thing that you can use across different

00:12:23,269 --> 00:12:26,389
platforms I think telegram probably has

00:12:25,699 --> 00:12:29,869
one as well

00:12:26,389 --> 00:12:32,059
and you want to give your users time to

00:12:29,869 --> 00:12:35,600
read the chunks of text

00:12:32,059 --> 00:12:38,329
bit by bit and like typing indicators

00:12:35,600 --> 00:12:45,850
are a really good a really good thing to

00:12:38,329 --> 00:12:45,850
use in this scenario okay

00:12:47,150 --> 00:12:52,470
okay so now I'm going to go through some

00:12:49,580 --> 00:12:55,260
popular scenarios and when I mean by

00:12:52,470 --> 00:12:57,150
popular scenarios is a lot of developers

00:12:55,260 --> 00:12:59,940
always like how do you actually

00:12:57,150 --> 00:13:02,280
implement this inside the board okay the

00:12:59,940 --> 00:13:05,040
first one being authentication it's

00:13:02,280 --> 00:13:07,530
really natural for someone to want to

00:13:05,040 --> 00:13:08,700
authenticate your user through the bot

00:13:07,530 --> 00:13:10,230
because you know it's meant to be

00:13:08,700 --> 00:13:13,670
personalized you want to know who's

00:13:10,230 --> 00:13:16,860
actually using it so rule number one

00:13:13,670 --> 00:13:19,410
whatever you do don't handle login

00:13:16,860 --> 00:13:23,760
through the chat interface itself don't

00:13:19,410 --> 00:13:26,670
do it what you want to do is like you

00:13:23,760 --> 00:13:28,620
know normal or if you authenticate

00:13:26,670 --> 00:13:32,040
through Facebook you open a webview and

00:13:28,620 --> 00:13:33,990
then you just call back to the bot the

00:13:32,040 --> 00:13:36,410
bot is basically a web service so you

00:13:33,990 --> 00:13:39,930
know this is something that's you can do

00:13:36,410 --> 00:13:42,920
let me just show you okay I think I need

00:13:39,930 --> 00:13:42,920
to stop this first

00:13:49,600 --> 00:13:52,600
okay

00:13:56,010 --> 00:14:04,860
now let's run this saying let's restart

00:13:59,490 --> 00:14:11,250
the conversation login oh wait what my

00:14:04,860 --> 00:14:18,120
thing isn't showing that's weird

00:14:11,250 --> 00:14:22,290
oh okay yes we don't know why it

00:14:18,120 --> 00:14:24,750
suddenly changed or extent okay so I

00:14:22,290 --> 00:14:27,030
basically said login and it's asking me

00:14:24,750 --> 00:14:30,090
to assign them to my account so just

00:14:27,030 --> 00:14:31,860
click on that sign in and then I just

00:14:30,090 --> 00:14:33,990
make this dummy page just for demo

00:14:31,860 --> 00:14:38,660
purposes don't do this at home please

00:14:33,990 --> 00:14:43,050
use HTTP I'm just doing this for demo

00:14:38,660 --> 00:14:48,330
okay so this is for so that someone else

00:14:43,050 --> 00:14:50,400
can spoof if they get in your URL okay

00:14:48,330 --> 00:14:52,050
and then now you're logged in so there's

00:14:50,400 --> 00:14:54,240
this whole sort of seamless experience

00:14:52,050 --> 00:14:58,500
that happens and you can actually just

00:14:54,240 --> 00:15:00,110
use I've used passport here for those of

00:14:58,500 --> 00:15:03,930
you guys who don't know what passport is

00:15:00,110 --> 00:15:06,660
it's like this super good note package

00:15:03,930 --> 00:15:08,490
for handling authentication and I've

00:15:06,660 --> 00:15:11,820
just defined like a pretty easy local

00:15:08,490 --> 00:15:13,640
strategy so you can use like whatever

00:15:11,820 --> 00:15:17,790
strategy you want Facebook Dropbox

00:15:13,640 --> 00:15:21,720
Microsoft's get hung go goals and then

00:15:17,790 --> 00:15:23,550
what happens is your bot will receive

00:15:21,720 --> 00:15:30,000
that message and then do the validation

00:15:23,550 --> 00:15:31,170
over here yeah okay so yeah it's quite

00:15:30,000 --> 00:15:34,050
flexible and please have no

00:15:31,170 --> 00:15:37,250
identification this way all right the

00:15:34,050 --> 00:15:40,440
next one is custom controls let's say

00:15:37,250 --> 00:15:43,110
Facebook provides you with like cards or

00:15:40,440 --> 00:15:45,750
quick replies but they don't provide you

00:15:43,110 --> 00:15:47,370
with checkboxes for example and you want

00:15:45,750 --> 00:15:51,840
the user to be able to select multiple

00:15:47,370 --> 00:15:54,930
things before sort of going back to your

00:15:51,840 --> 00:15:57,420
body okay so what you can do is make use

00:15:54,930 --> 00:15:59,730
of the web view the web view is your

00:15:57,420 --> 00:16:02,130
friend it's not this annoying thing that

00:15:59,730 --> 00:16:04,260
something yeah I don't know people think

00:16:02,130 --> 00:16:06,690
is annoying sometimes but in facebook

00:16:04,260 --> 00:16:09,000
it's pretty non intrusive it just opens

00:16:06,690 --> 00:16:09,750
up like this so just quickly show you

00:16:09,000 --> 00:16:15,870
how

00:16:09,750 --> 00:16:20,880
you can do something like this okay was

00:16:15,870 --> 00:16:26,040
it I didn't what - sorry so if I say

00:16:20,880 --> 00:16:28,230
something like quiz okay so let's say

00:16:26,040 --> 00:16:30,900
you want your user to open this quiz and

00:16:28,230 --> 00:16:34,530
complete it in in another window you

00:16:30,900 --> 00:16:38,880
just open it and then you can say okay

00:16:34,530 --> 00:16:40,680
why don't you say you know okay and then

00:16:38,880 --> 00:16:44,670
when you submit that you can just go

00:16:40,680 --> 00:16:48,870
back to the bot and yeah the book sort

00:16:44,670 --> 00:16:51,470
of seamlessly receives the response so

00:16:48,870 --> 00:16:55,380
yeah you're not just limited to the UI

00:16:51,470 --> 00:16:58,410
UI templates that are provided to you in

00:16:55,380 --> 00:17:02,100
the messenger protocol or in any other

00:16:58,410 --> 00:17:04,110
chat protocol that you use if you use

00:17:02,100 --> 00:17:06,060
channels that don't have embedded web

00:17:04,110 --> 00:17:07,650
views I would suggest you use this

00:17:06,060 --> 00:17:09,900
sparingly because it's kind of annoying

00:17:07,650 --> 00:17:11,670
having to swap through like your Safari

00:17:09,900 --> 00:17:14,810
browser and then stop back to the bottom

00:17:11,670 --> 00:17:19,860
so yeah use it unless you really need to

00:17:14,810 --> 00:17:23,819
okay so turn on being forms this one

00:17:19,860 --> 00:17:26,010
seems really simple on face value but

00:17:23,819 --> 00:17:28,680
I'm gonna show you why it's not okay and

00:17:26,010 --> 00:17:30,660
I want to illustrate this through a

00:17:28,680 --> 00:17:33,330
recent thing that we did with a company

00:17:30,660 --> 00:17:35,940
called we go I don't know if you guys

00:17:33,330 --> 00:17:38,040
have heard of heard of them before they

00:17:35,940 --> 00:17:40,830
have an awesome dev team their company

00:17:38,040 --> 00:17:42,930
basically is a flight search engine so

00:17:40,830 --> 00:17:46,140
they have 700 over flight and hotel

00:17:42,930 --> 00:17:48,780
partners that they scan through whenever

00:17:46,140 --> 00:17:52,320
you make a search and we spent two weeks

00:17:48,780 --> 00:17:55,230
with their dev team building building

00:17:52,320 --> 00:17:57,330
out a bot that can take user like the

00:17:55,230 --> 00:18:01,620
users search history and then provide

00:17:57,330 --> 00:18:03,570
recommendations based on that and they

00:18:01,620 --> 00:18:05,310
also wanted to integrate the flight

00:18:03,570 --> 00:18:08,250
search capability inside the bot

00:18:05,310 --> 00:18:12,150
so the v1 was something like this and

00:18:08,250 --> 00:18:14,610
then we realized that this is what we

00:18:12,150 --> 00:18:17,460
want the user to do okay realistically

00:18:14,610 --> 00:18:19,230
your user isn't going to be as simple as

00:18:17,460 --> 00:18:22,440
this because they love being difficult

00:18:19,230 --> 00:18:24,450
sometimes they're gonna do

00:18:22,440 --> 00:18:29,309
like this they're gonna do stuff like

00:18:24,450 --> 00:18:33,179
this or this and it's I oh my god why

00:18:29,309 --> 00:18:34,470
can you not yeah

00:18:33,179 --> 00:18:36,240
so there's actually five different

00:18:34,470 --> 00:18:38,159
scenarios there's a lot of edge cases

00:18:36,240 --> 00:18:40,019
that you have to handle because there's

00:18:38,159 --> 00:18:45,570
a ton of different things that they can

00:18:40,019 --> 00:18:49,200
change and actually I'm gonna share a

00:18:45,570 --> 00:18:51,600
story I try building a v1 of handling

00:18:49,200 --> 00:18:53,639
all these different edge cases and let's

00:18:51,600 --> 00:18:55,769
say it wasn't the most efficient way you

00:18:53,639 --> 00:18:57,570
can do things okay and this was a

00:18:55,769 --> 00:19:01,289
conversation between me and their

00:18:57,570 --> 00:19:03,090
developer so it's like give me a while

00:19:01,289 --> 00:19:05,159
to understand your code first okay

00:19:03,090 --> 00:19:07,970
and when I saw this I was like oh my god

00:19:05,159 --> 00:19:07,970
what have I done

00:19:09,230 --> 00:19:15,769
okay so we went back to the drawing

00:19:11,789 --> 00:19:18,720
board and sort of redesigned everything

00:19:15,769 --> 00:19:22,230
and it looks something like this

00:19:18,720 --> 00:19:23,759
this is the more readable version I'm

00:19:22,230 --> 00:19:26,460
just really bad at drawing errors it's

00:19:23,759 --> 00:19:29,009
actually simpler than it looks

00:19:26,460 --> 00:19:30,299
so before I dig into this I'm just gonna

00:19:29,009 --> 00:19:35,360
show you guys what the end result looks

00:19:30,299 --> 00:19:35,360
like okay

00:19:44,570 --> 00:19:47,650
[Music]

00:19:59,580 --> 00:20:05,200
okay so because I wanted to build a

00:20:02,310 --> 00:20:06,670
recommender but you the user had to log

00:20:05,200 --> 00:20:09,850
in so that you can retrieve the history

00:20:06,670 --> 00:20:14,200
but for today we won't do that say I

00:20:09,850 --> 00:20:15,520
want to go to Singapore tomorrow sorry

00:20:14,200 --> 00:20:20,560
I'm ready in Singapore and I'll go to

00:20:15,520 --> 00:20:22,960
Bangkok tomorrow okay

00:20:20,560 --> 00:20:25,030
so identifies that that's what departure

00:20:22,960 --> 00:20:27,460
day and that's your destination

00:20:25,030 --> 00:20:29,800
destination okay let's say yeah I'm like

00:20:27,460 --> 00:20:37,000
the worst user ever and I just say I

00:20:29,800 --> 00:20:40,390
want to go to Bali instead okay

00:20:37,000 --> 00:20:41,740
leave tomorrow and come back and I'm

00:20:40,390 --> 00:20:42,370
just totally not answering what the boss

00:20:41,740 --> 00:20:49,390
saying okay

00:20:42,370 --> 00:20:50,770
and come back next Friday okay so you

00:20:49,390 --> 00:20:53,280
can see that it's able to handle a lot

00:20:50,770 --> 00:20:57,610
of different stuff if I say change my

00:20:53,280 --> 00:21:01,660
destination they can ask me which city

00:20:57,610 --> 00:21:06,940
it will be going to go from Singapore to

00:21:01,660 --> 00:21:09,580
Singapore okay because I used to live

00:21:06,940 --> 00:21:10,960
there for a while so it's awesome okay

00:21:09,580 --> 00:21:12,670
so you can see that this actually

00:21:10,960 --> 00:21:16,180
handles like you can throw whatever you

00:21:12,670 --> 00:21:22,570
want at it and it can really handle a

00:21:16,180 --> 00:21:24,040
lot of different scenarios oh it has the

00:21:22,570 --> 00:21:25,570
mouse there that's annoying

00:21:24,040 --> 00:21:28,870
okay so let's break this down a little

00:21:25,570 --> 00:21:30,730
bit so the first thing that you start

00:21:28,870 --> 00:21:34,360
with is you initialize the stack and

00:21:30,730 --> 00:21:36,220
prompts this is using the above

00:21:34,360 --> 00:21:38,380
framework but I mean you can you know

00:21:36,220 --> 00:21:39,460
take the principle behind it so if the

00:21:38,380 --> 00:21:41,170
user says I'm going to go to Bali

00:21:39,460 --> 00:21:43,180
tomorrow you initialize the stack and

00:21:41,170 --> 00:21:47,590
your prompts that you need from the user

00:21:43,180 --> 00:21:49,390
and then if if this is the first one

00:21:47,590 --> 00:21:51,580
so if they've provided some parameters

00:21:49,390 --> 00:21:54,940
to begin with then you can just go into

00:21:51,580 --> 00:21:57,610
this loop and validate their parameters

00:21:54,940 --> 00:22:00,130
sorry if statement otherwise you get the

00:21:57,610 --> 00:22:02,200
current context and then you ask the

00:22:00,130 --> 00:22:05,470
user what you need from them based on

00:22:02,200 --> 00:22:08,500
the current context and then extracting

00:22:05,470 --> 00:22:11,030
the intention entities this part for me

00:22:08,500 --> 00:22:13,790
required natural language processing

00:22:11,030 --> 00:22:16,910
so either the user can search their

00:22:13,790 --> 00:22:18,590
flights or they can change whatever

00:22:16,910 --> 00:22:20,540
parameter they want and then the

00:22:18,590 --> 00:22:22,910
entities are basically the parameters

00:22:20,540 --> 00:22:25,790
that you need from them you might not

00:22:22,910 --> 00:22:27,860
need an LP in your situation but I'm

00:22:25,790 --> 00:22:30,470
just showing you you know how do i

00:22:27,860 --> 00:22:33,020
execute if you do need an LP so you can

00:22:30,470 --> 00:22:37,580
just extract an intent like this and you

00:22:33,020 --> 00:22:39,380
can extract that into entities from your

00:22:37,580 --> 00:22:40,880
users or trends and then you check

00:22:39,380 --> 00:22:43,850
whether there's an intention for them to

00:22:40,880 --> 00:22:45,320
change so you check that intent this is

00:22:43,850 --> 00:22:47,240
pretty self-explanatory it's just a if

00:22:45,320 --> 00:22:50,540
statement otherwise you move to validate

00:22:47,240 --> 00:22:53,390
parameters okay so going on to a

00:22:50,540 --> 00:22:56,480
validating parameters what you want to

00:22:53,390 --> 00:22:59,570
do is get the current context and then

00:22:56,480 --> 00:23:01,670
you handle the users date and put based

00:22:59,570 --> 00:23:04,040
on the current context for example the

00:23:01,670 --> 00:23:06,170
user gives you a single day like 30 of

00:23:04,040 --> 00:23:08,900
January then you have to match it to

00:23:06,170 --> 00:23:11,960
your current context to actually find

00:23:08,900 --> 00:23:14,120
out what they're talking about if

00:23:11,960 --> 00:23:17,830
there's no valid date input then you

00:23:14,120 --> 00:23:20,510
just you know save that into the state

00:23:17,830 --> 00:23:25,010
and then this is how you validate the

00:23:20,510 --> 00:23:27,770
location in my case oops if there's no

00:23:25,010 --> 00:23:30,170
location just say you know location

00:23:27,770 --> 00:23:32,600
insert is false otherwise you just

00:23:30,170 --> 00:23:35,780
validate that so you can use whatever

00:23:32,600 --> 00:23:38,780
validation lodging you want we go has a

00:23:35,780 --> 00:23:41,030
place API that lets you put in a city

00:23:38,780 --> 00:23:44,600
code and get a location so that's what

00:23:41,030 --> 00:23:47,000
we used to validate and then you pop it

00:23:44,600 --> 00:23:48,770
off the stack because it's been you know

00:23:47,000 --> 00:23:51,890
the location has been identified and

00:23:48,770 --> 00:23:54,440
then you move on to the next step which

00:23:51,890 --> 00:23:56,270
is checking whether all your parameters

00:23:54,440 --> 00:23:59,330
have been filled and checking for

00:23:56,270 --> 00:24:02,990
invalid input so no data entered no

00:23:59,330 --> 00:24:04,640
location entered then you go and tell

00:24:02,990 --> 00:24:06,980
the user to input a value value

00:24:04,640 --> 00:24:09,770
otherwise if there's still things in

00:24:06,980 --> 00:24:13,490
your stack you have to loop the dialog

00:24:09,770 --> 00:24:15,350
again if your stack is empty it means

00:24:13,490 --> 00:24:18,470
you have all your parameters and you can

00:24:15,350 --> 00:24:22,190
get ready to search yeah so it just

00:24:18,470 --> 00:24:23,510
loops back here after a while okay so I

00:24:22,190 --> 00:24:26,360
want to wrap up with

00:24:23,510 --> 00:24:29,330
I'm talking about the status quo more

00:24:26,360 --> 00:24:33,230
specifically these few points so let's

00:24:29,330 --> 00:24:37,520
start with the NLP conundrum okay so

00:24:33,230 --> 00:24:40,070
what I mean by FAQ scenario is those FAQ

00:24:37,520 --> 00:24:42,290
bots the ones that handle all your

00:24:40,070 --> 00:24:44,510
customer service questions or plug into

00:24:42,290 --> 00:24:46,430
a knowledgebase to handle many many

00:24:44,510 --> 00:24:49,190
different kinds of questions okay

00:24:46,430 --> 00:24:52,040
for example maybe the Singapore Airlines

00:24:49,190 --> 00:24:54,050
chat bot can answer how a week and a bit

00:24:52,040 --> 00:24:56,420
baby be when you put it in the best best

00:24:54,050 --> 00:24:57,710
net when sure you check in there's like

00:24:56,420 --> 00:25:00,860
a ton of different questions that you

00:24:57,710 --> 00:25:03,070
can ask it now I've really had customers

00:25:00,860 --> 00:25:07,220
settling just a third party in lp2 and

00:25:03,070 --> 00:25:09,440
for a couple of reasons this is problem

00:25:07,220 --> 00:25:13,580
called the code start problem it's

00:25:09,440 --> 00:25:15,560
basically where you need a lot of

00:25:13,580 --> 00:25:20,090
training data to reach the accuracy that

00:25:15,560 --> 00:25:22,370
you need when when you make a NOP model

00:25:20,090 --> 00:25:24,860
with too many intents it starts to get

00:25:22,370 --> 00:25:28,760
really confused if you don't put enough

00:25:24,860 --> 00:25:30,050
training data in it initially and yeah

00:25:28,760 --> 00:25:31,760
this leads to something called intent

00:25:30,050 --> 00:25:35,570
illusion this is just something that

00:25:31,760 --> 00:25:38,150
I've experienced with FAQ scenarios a

00:25:35,570 --> 00:25:40,460
lot of engines have intent limitations

00:25:38,150 --> 00:25:42,230
and entity limitation in terms of the

00:25:40,460 --> 00:25:45,140
number of intense and entities that you

00:25:42,230 --> 00:25:46,820
can have and also not all languages are

00:25:45,140 --> 00:25:50,330
supported if you want your bot to go

00:25:46,820 --> 00:25:52,100
internationally so some possible

00:25:50,330 --> 00:25:55,280
solutions you could do to get around

00:25:52,100 --> 00:25:57,650
this is to use an obvious your first

00:25:55,280 --> 00:26:00,950
layer but don't forget to about

00:25:57,650 --> 00:26:03,920
traditional search this means as your

00:26:00,950 --> 00:26:06,740
search elastic search sometimes just

00:26:03,920 --> 00:26:09,140
doing like indexing your knowledge base

00:26:06,740 --> 00:26:11,810
and answering answering questions

00:26:09,140 --> 00:26:15,230
through you know like elastic search can

00:26:11,810 --> 00:26:17,690
be super effective and secondly when

00:26:15,230 --> 00:26:19,940
Emma NLP fails just make sure your UI

00:26:17,690 --> 00:26:22,850
your user can actually navigate some

00:26:19,940 --> 00:26:24,290
buttons to maybe get to get to the

00:26:22,850 --> 00:26:28,180
answer that they want okay

00:26:24,290 --> 00:26:32,510
so UI is another fallback and sorry if

00:26:28,180 --> 00:26:34,190
everything else fails go to your fall by

00:26:32,510 --> 00:26:36,380
message be like okay I'm still done I

00:26:34,190 --> 00:26:36,870
can't handle this and then offer like an

00:26:36,380 --> 00:26:39,090
email

00:26:36,870 --> 00:26:41,640
hand over your honor you know Senate

00:26:39,090 --> 00:26:45,720
email to someone or a live chat head

00:26:41,640 --> 00:26:47,940
over if you have fun okay so number two

00:26:45,720 --> 00:26:50,820
should you build about should you build

00:26:47,940 --> 00:26:52,430
a bot this is my rule of thumb if you

00:26:50,820 --> 00:26:54,570
can google it don't go do it

00:26:52,430 --> 00:26:59,730
sorry if you can't bring it don't move

00:26:54,570 --> 00:27:03,180
it okay this is like really homemade I

00:26:59,730 --> 00:27:05,280
just use the Pens or join in okay so the

00:27:03,180 --> 00:27:07,050
great debate bots versus search engines

00:27:05,280 --> 00:27:08,880
versus apps I mean this is on everyone's

00:27:07,050 --> 00:27:10,410
mind right

00:27:08,880 --> 00:27:12,660
when building a boat you ask yourself

00:27:10,410 --> 00:27:15,330
three things number one does your bot

00:27:12,660 --> 00:27:17,929
have a unique value proposition that you

00:27:15,330 --> 00:27:21,000
can't do by a search engine or your app

00:27:17,929 --> 00:27:23,090
number two can it do it much faster than

00:27:21,000 --> 00:27:26,070
using a search engine or an app and

00:27:23,090 --> 00:27:28,800
number three doesn't actually fulfill

00:27:26,070 --> 00:27:30,750
some sort of purpose or do you just like

00:27:28,800 --> 00:27:32,610
the idea of having a bot because you

00:27:30,750 --> 00:27:36,290
know it's like a password it's like dock

00:27:32,610 --> 00:27:41,940
chain for AI about shame for everything

00:27:36,290 --> 00:27:43,260
okay and lastly why why build a boat you

00:27:41,940 --> 00:27:46,350
know

00:27:43,260 --> 00:27:47,820
so for these couple of reasons they open

00:27:46,350 --> 00:27:49,620
up a new channel especially to

00:27:47,820 --> 00:27:51,660
Millennials so a lot of Millennials

00:27:49,620 --> 00:27:54,890
actually love using boats you might not

00:27:51,660 --> 00:27:57,270
use it but they definitely are using it

00:27:54,890 --> 00:28:01,020
and yeah it just opens a new engagement

00:27:57,270 --> 00:28:02,220
channel for customer service it helps

00:28:01,020 --> 00:28:05,910
you alleviate a lot of the dumb

00:28:02,220 --> 00:28:07,800
questions that your users might have so

00:28:05,910 --> 00:28:10,710
yeah it will help you alleviate customer

00:28:07,800 --> 00:28:14,730
service you can engage users in your way

00:28:10,710 --> 00:28:18,570
and lastly it's personalized so I worked

00:28:14,730 --> 00:28:20,250
I was talking to the CTO of we go and I

00:28:18,570 --> 00:28:22,110
was asking him you know why do you wanna

00:28:20,250 --> 00:28:24,510
build a bot because you already have an

00:28:22,110 --> 00:28:28,890
ad sorry yeah you already have an empire

00:28:24,510 --> 00:28:32,179
no website and he said you know I think

00:28:28,890 --> 00:28:36,570
chat and voice interfaces are the future

00:28:32,179 --> 00:28:39,090
one day I want to have a bot that's that

00:28:36,570 --> 00:28:40,950
really knows my preferences so for

00:28:39,090 --> 00:28:43,740
example if I want to go to fly on a

00:28:40,950 --> 00:28:45,900
business trip to Manila it knows that I

00:28:43,740 --> 00:28:48,380
want to fly first-class I can't afford

00:28:45,900 --> 00:28:49,910
it yet but I want to fight first past

00:28:48,380 --> 00:28:53,840
and I want to fly Philippines Airlines

00:28:49,910 --> 00:28:56,150
and you can skip a lot of the you know

00:28:53,840 --> 00:28:58,940
men or searching so that's the future

00:28:56,150 --> 00:29:00,500
that here mission with it and yeah I

00:28:58,940 --> 00:29:02,000
really think that that's a super

00:29:00,500 --> 00:29:05,030
exciting future and I don't think it's

00:29:02,000 --> 00:29:06,620
too far away from now come on

00:29:05,030 --> 00:29:08,419
alright thanks everyone for listening

00:29:06,620 --> 00:29:11,030
and if you have any questions just feel

00:29:08,419 --> 00:29:16,460
free to tweet me

00:29:11,030 --> 00:29:16,460

YouTube URL: https://www.youtube.com/watch?v=dH1w90_i5fs


