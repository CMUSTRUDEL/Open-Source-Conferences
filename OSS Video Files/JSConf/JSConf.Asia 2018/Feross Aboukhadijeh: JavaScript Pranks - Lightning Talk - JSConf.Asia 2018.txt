Title: Feross Aboukhadijeh: JavaScript Pranks - Lightning Talk - JSConf.Asia 2018
Publication date: 2018-02-22
Playlist: JSConf.Asia 2018
Description: 
	Feross introduces The Annoying Site Dot Com (Visit this site only if you don't have anything better to do than cleaning up your browser/computer for the next hours!)

Lightning Talks are 5 minute segments during which interested members of the audience can take the stage and present on a topic dear to their heart.


JSConf.Asia - Capitol Theatre, Singapore - 27 January 2018

Source: https://2018.jsconf.asia/

License: For reuse of this video under a more permissive license please get in touch with us. The speakers retain the copyright for their performances.
Captions: 
	00:00:00,180 --> 00:00:12,370
[Music]

00:00:14,000 --> 00:00:16,720
hey everyone so i'm back again for a

00:00:15,759 --> 00:00:19,680
quick lightning talk

00:00:16,720 --> 00:00:20,800
uh after i saw tim's talk on css i

00:00:19,680 --> 00:00:24,160
couldn't resist

00:00:20,800 --> 00:00:27,119
and i wanted to add in

00:00:24,160 --> 00:00:27,680
a javascript uh pranks demo for you guys

00:00:27,119 --> 00:00:29,840
so if you

00:00:27,680 --> 00:00:31,039
can prank in css i'm gonna prank in

00:00:29,840 --> 00:00:33,440
javascript as well

00:00:31,039 --> 00:00:35,280
so there's this website here i made i'm

00:00:33,440 --> 00:00:37,680
gonna go over some of the code

00:00:35,280 --> 00:00:39,920
with you guys really quickly we can see

00:00:37,680 --> 00:00:43,680
how to troll in javascript

00:00:39,920 --> 00:00:45,079
okay so um this is very ad hoc so

00:00:43,680 --> 00:00:48,160
apologies for the

00:00:45,079 --> 00:00:50,079
informality of this okay so uh one thing

00:00:48,160 --> 00:00:51,920
you can do is some websites on the

00:00:50,079 --> 00:00:54,800
internet they actually let you log out

00:00:51,920 --> 00:00:56,640
uh the site with a get request um so if

00:00:54,800 --> 00:00:58,079
you visit this uh these urls here you'll

00:00:56,640 --> 00:00:59,520
be logged out of those sites

00:00:58,079 --> 00:01:01,199
well guess what any website on the

00:00:59,520 --> 00:01:03,520
internet can make get requests

00:01:01,199 --> 00:01:05,119
by putting those urls into an image tag

00:01:03,520 --> 00:01:06,560
and that will uh log you out

00:01:05,119 --> 00:01:07,760
so let's go ahead and iterate over this

00:01:06,560 --> 00:01:09,680
and just log you out of everything when

00:01:07,760 --> 00:01:15,280
you visit the site why not right

00:01:09,680 --> 00:01:15,280
um let's see what else um

00:01:16,880 --> 00:01:21,119
let's see okay here's a good one so uh

00:01:18,960 --> 00:01:23,840
no sorry it's down here uh

00:01:21,119 --> 00:01:25,439
yes okay this is this one is amazing so

00:01:23,840 --> 00:01:28,560
when you link to a website

00:01:25,439 --> 00:01:30,560
and you add via target equals

00:01:28,560 --> 00:01:33,200
a blank underscore blank to the link

00:01:30,560 --> 00:01:35,479
that opens the link up in a new tab

00:01:33,200 --> 00:01:37,200
but it also sets a property called

00:01:35,479 --> 00:01:40,079
window.opener

00:01:37,200 --> 00:01:42,159
on that child window and that property

00:01:40,079 --> 00:01:43,520
is a reference back to the parent window

00:01:42,159 --> 00:01:46,040
that opened you

00:01:43,520 --> 00:01:47,439
and using that reference you can set

00:01:46,040 --> 00:01:49,600
window.opener.location

00:01:47,439 --> 00:01:50,720
and navigate the window that linked to

00:01:49,600 --> 00:01:52,479
you so

00:01:50,720 --> 00:01:53,759
for example you send a link to this site

00:01:52,479 --> 00:01:56,320
to your friends and me in

00:01:53,759 --> 00:01:56,880
facebook messenger and the site you land

00:01:56,320 --> 00:01:58,719
on

00:01:56,880 --> 00:02:00,880
navigates the facebook messenger window

00:01:58,719 --> 00:02:02,159
to the same troll site so it takes over

00:02:00,880 --> 00:02:04,560
the other tab

00:02:02,159 --> 00:02:04,560
pretty cool

00:02:05,600 --> 00:02:08,720
this is a standard troll trick so this

00:02:07,600 --> 00:02:10,479
one lets you

00:02:08,720 --> 00:02:11,920
confirm that the user really wants to

00:02:10,479 --> 00:02:13,200
leave the website that they're that

00:02:11,920 --> 00:02:15,200
they're on so when they try to close the

00:02:13,200 --> 00:02:18,640
tab they have to see another prompt

00:02:15,200 --> 00:02:20,480
window here's another good one

00:02:18,640 --> 00:02:22,560
let's register every protocol handler

00:02:20,480 --> 00:02:24,879
that we can in the browser

00:02:22,560 --> 00:02:26,959
so when you click on these links it will

00:02:24,879 --> 00:02:28,560
try to redirect you to this site

00:02:26,959 --> 00:02:30,160
this one has a permission prompt so it's

00:02:28,560 --> 00:02:32,239
not that effective but

00:02:30,160 --> 00:02:33,599
you can try to do it anyway while we're

00:02:32,239 --> 00:02:34,959
at it let's try to get access to the

00:02:33,599 --> 00:02:36,160
camera and the mic

00:02:34,959 --> 00:02:38,239
basically we're just putting everything

00:02:36,160 --> 00:02:39,599
we can into this site just all the apis

00:02:38,239 --> 00:02:41,120
let's just try to just do everything we

00:02:39,599 --> 00:02:43,120
can

00:02:41,120 --> 00:02:45,360
um oh this is a good one did you know if

00:02:43,120 --> 00:02:46,080
you call window.navigator.vibrate you

00:02:45,360 --> 00:02:47,920
can make

00:02:46,080 --> 00:02:49,599
android phones vibrate and there's no

00:02:47,920 --> 00:02:51,280
permission required for that so let's

00:02:49,599 --> 00:02:54,879
just vibrate the phone randomly

00:02:51,280 --> 00:02:58,080
why not um let's intercept every click

00:02:54,879 --> 00:02:59,519
and key press uh let's use a safari

00:02:58,080 --> 00:03:02,080
picture-in-picture video

00:02:59,519 --> 00:03:03,440
when you click on the page let's focus

00:03:02,080 --> 00:03:05,360
open a bunch of pop-up windows and

00:03:03,440 --> 00:03:06,959
bounce them around the screen

00:03:05,360 --> 00:03:09,120
let's focus those windows every time you

00:03:06,959 --> 00:03:10,640
interact with any of the windows

00:03:09,120 --> 00:03:12,400
let's hide the mouse cursor with see it

00:03:10,640 --> 00:03:13,040
with a css rule so you don't know where

00:03:12,400 --> 00:03:15,280
the mouse is

00:03:13,040 --> 00:03:16,959
so it's hard to go and close the windows

00:03:15,280 --> 00:03:19,120
let's trigger a file download every time

00:03:16,959 --> 00:03:21,440
you click on anything

00:03:19,120 --> 00:03:22,319
why not this is the code to move the

00:03:21,440 --> 00:03:24,239
window around

00:03:22,319 --> 00:03:26,239
this is a code to play videos inside the

00:03:24,239 --> 00:03:29,440
pop-up windows

00:03:26,239 --> 00:03:30,560
um how much time do i have uh you've got

00:03:29,440 --> 00:03:32,480
a clock in front of you

00:03:30,560 --> 00:03:34,080
145. okay i'm going to take the last

00:03:32,480 --> 00:03:35,840
minute to demo it

00:03:34,080 --> 00:03:37,840
uh okay every time you click we can copy

00:03:35,840 --> 00:03:39,440
stuff to your clipboard so let's copy a

00:03:37,840 --> 00:03:39,840
ascii picture of a cat and that's right

00:03:39,440 --> 00:03:41,440
here

00:03:39,840 --> 00:03:43,120
one of these cats copy it to your

00:03:41,440 --> 00:03:44,159
clipboard along with a link handy link

00:03:43,120 --> 00:03:46,319
to this website

00:03:44,159 --> 00:03:47,280
so when you paste it in by accident to

00:03:46,319 --> 00:03:50,560
your friends it will get

00:03:47,280 --> 00:03:52,959
it will get spread further um and what

00:03:50,560 --> 00:03:54,480
else do i got to show

00:03:52,959 --> 00:03:56,000
um there's a few more things i will show

00:03:54,480 --> 00:03:58,319
with some alerts

00:03:56,000 --> 00:03:59,519
let's request full screen so on and so

00:03:58,319 --> 00:04:00,959
forth anyway you get the idea let's see

00:03:59,519 --> 00:04:03,760
it in action

00:04:00,959 --> 00:04:05,599
okay this is safari we're gonna go to

00:04:03,760 --> 00:04:08,000
the annoying site.com

00:04:05,599 --> 00:04:09,920
okay oh some files are being downloaded

00:04:08,000 --> 00:04:11,760
do i'm sure i want to give camera access

00:04:09,920 --> 00:04:14,000
to the site okay don't allow

00:04:11,760 --> 00:04:15,599
okay all right we're good i'm gonna try

00:04:14,000 --> 00:04:19,280
to click on this cat

00:04:15,599 --> 00:04:22,320
oh no oh no what's going on here

00:04:19,280 --> 00:04:24,160
okay let me just leave the page okay now

00:04:22,320 --> 00:04:26,400
i'm in full screen mode i don't know

00:04:24,160 --> 00:04:29,120
what's going on let me close this window

00:04:26,400 --> 00:04:30,479
leave page i have some pop-ups flying

00:04:29,120 --> 00:04:32,560
around

00:04:30,479 --> 00:04:34,240
let me try to close these if you

00:04:32,560 --> 00:04:37,280
accidentally click on the window then it

00:04:34,240 --> 00:04:38,479
alerts that a cat comes up and then it

00:04:37,280 --> 00:04:40,160
also does a picture-in-picture full

00:04:38,479 --> 00:04:42,720
screen video over here

00:04:40,160 --> 00:04:44,160
in the os if you try to close that then

00:04:42,720 --> 00:04:45,759
okay it goes back

00:04:44,160 --> 00:04:47,199
uh if you try to hit command w to close

00:04:45,759 --> 00:04:48,000
the window it triggers a print dialog

00:04:47,199 --> 00:04:49,919
window

00:04:48,000 --> 00:04:51,440
so actually it intercepts the command w

00:04:49,919 --> 00:04:54,160
can't close the window

00:04:51,440 --> 00:04:57,360
um the x button is also uh removed here

00:04:54,160 --> 00:04:59,680
okay let's try again command w oh no

00:04:57,360 --> 00:05:01,680
basically the the moral of the story is

00:04:59,680 --> 00:05:05,280
the web platform is very powerful

00:05:01,680 --> 00:05:07,120
and it lets you do very many things

00:05:05,280 --> 00:05:08,720
and oh yeah this is a good one this one

00:05:07,120 --> 00:05:10,800
does bing searches for very

00:05:08,720 --> 00:05:12,720
intimidating uh terms and it doesn't

00:05:10,800 --> 00:05:14,240
over h2 actually i guess it's https but

00:05:12,720 --> 00:05:16,479
it tries to do it over http

00:05:14,240 --> 00:05:17,600
so that it'll get added to your uh oh

00:05:16,479 --> 00:05:18,160
yeah it also gets added to your web

00:05:17,600 --> 00:05:20,240
history

00:05:18,160 --> 00:05:21,600
so you go uh history and all those

00:05:20,240 --> 00:05:22,960
searches like why do i always have

00:05:21,600 --> 00:05:25,680
diarrhea for example is added to your

00:05:22,960 --> 00:05:39,360
web history

00:05:25,680 --> 00:05:39,360

YouTube URL: https://www.youtube.com/watch?v=rLgBqT_e6Yo


