Title: Robots and Food with Node.js - London Node User Group - June 2019
Publication date: 2019-07-03
Playlist: London Node User Group
Description: 
	Presented by Orfeo Nicolai

At Karakuri we build robots for the food industry. I would love to share a peek into our decentralised architecture and how the different robot components interact and communicate with each other. As the physical world is quite I/O heavy, Node.js (TypeScript) was a great choice as our main programming language/framework.

About the speaker: 

I'm a computer scientist with almost 20 years of industry experience. I have a double Masters degree in Innovation Design Engineering and I'm the course leader of the robotics course at the Imperial College Global Summer School. I work as Head of Software at Karakuri, a robotics startup.

_

About Pusher Sessions:

We're bringing the meetup to you. With Sessions, you can watch recordings of top-notch talks from developer meetups -- wherever and whenever you want.

Meetups are a great way to learn from our peers and to keep up with the latest trends and technologies. As developers ourselves, we at Pusher wanted to bring this great content to more people... So we built Sessions. On Sessions, you can watch talks that interest you and subscribe to be notified when new content gets added.

If you run a meetup and want to get involved, kindly get in touch.

_

About Pusher:

Pusher is a hosted service with APIs, developer tools and open source libraries that greatly simplify integrating real-time functionality into web and mobile applications. 

Pusher will automatically scale when required, removing all the pain of setting up and maintaining a secure, real-time infrastructure. 

Pusher is already trusted to do so by thousands of developers and companies like GitHub, MailChimp, the Financial Times, Buffer and many more. 

Getting started takes just a few seconds: simply go to pusher.com and create a free account. Happy hacking!
Captions: 
	00:00:00,089 --> 00:00:07,710
robots and food good evening everyone

00:00:01,829 --> 00:00:12,740
I'm Rafael I'm from parasite reserve

00:00:07,710 --> 00:00:15,269
Switzerland Greece I had many job titles

00:00:12,740 --> 00:00:17,970
worked in business intelligence in

00:00:15,269 --> 00:00:20,580
system engineering as coder state

00:00:17,970 --> 00:00:25,439
designs came to London to do art school

00:00:20,580 --> 00:00:28,680
I worked in many companies currently I'm

00:00:25,439 --> 00:00:30,420
at curry curry curry curry is a startup

00:00:28,680 --> 00:00:34,050
that does robotics for the food industry

00:00:30,420 --> 00:00:37,140
and that's about my talk I go to the

00:00:34,050 --> 00:00:39,140
quick history of Kara quarry it started

00:00:37,140 --> 00:00:44,610
eighteen months ago with these two guys

00:00:39,140 --> 00:00:47,520
so this guy here he made universal music

00:00:44,610 --> 00:00:50,820
to use mp3 instead of cities had a good

00:00:47,520 --> 00:00:55,469
step this guy here introduced multi-core

00:00:50,820 --> 00:00:58,170
to arm he was employee 24 was lighter on

00:00:55,469 --> 00:01:00,960
the CTO of Universal Music helped to

00:00:58,170 --> 00:01:03,329
deal with all the kind of bureaucracy he

00:01:00,960 --> 00:01:05,369
was not the closest friend of us I guess

00:01:03,329 --> 00:01:07,710
from the open source community but he

00:01:05,369 --> 00:01:10,140
did good work there so these two guys

00:01:07,710 --> 00:01:12,780
started and I wanted to build a

00:01:10,140 --> 00:01:15,930
restaurant that's completely operated by

00:01:12,780 --> 00:01:18,840
robots so they made shiny little

00:01:15,930 --> 00:01:21,810
graphics and renders went out try to get

00:01:18,840 --> 00:01:26,580
funding some of the few people around

00:01:21,810 --> 00:01:28,250
them very very smart people but they

00:01:26,580 --> 00:01:31,320
kind of said the restaurant with robot

00:01:28,250 --> 00:01:32,670
probably doesn't gonna work and there

00:01:31,320 --> 00:01:36,299
were almost a lot of people who built

00:01:32,670 --> 00:01:40,680
them something so they got these guys

00:01:36,299 --> 00:01:42,540
one of them that's me and yeah we need

00:01:40,680 --> 00:01:47,189
to build a prototype of a machine that

00:01:42,540 --> 00:01:49,829
can assemble food we got a shiny render

00:01:47,189 --> 00:01:55,409
so yeah guys built that that was

00:01:49,829 --> 00:01:58,710
February and we actually build it so we

00:01:55,409 --> 00:02:00,180
build a machine that used a robot arm we

00:01:58,710 --> 00:02:03,210
got from a startup company here in

00:02:00,180 --> 00:02:05,219
London called automata we used cereal

00:02:03,210 --> 00:02:07,409
dispensers we found on Amazon for five

00:02:05,219 --> 00:02:09,690
we used kitchen scales hacked them with

00:02:07,409 --> 00:02:12,900
nard we know together wrote a bunch of

00:02:09,690 --> 00:02:13,410
software to make a prototype to show a

00:02:12,900 --> 00:02:15,770
comb

00:02:13,410 --> 00:02:18,270
cept of how can food production

00:02:15,770 --> 00:02:21,600
customization and mass manufacturing

00:02:18,270 --> 00:02:26,580
meet and kind of how can you do parallel

00:02:21,600 --> 00:02:29,460
food assembly this time just sweets

00:02:26,580 --> 00:02:34,080
which at the beginning is exciting but

00:02:29,460 --> 00:02:36,660
at some point it's just enough so we got

00:02:34,080 --> 00:02:39,420
some funding about two months ago

00:02:36,660 --> 00:02:45,330
first round led by Akkad Oh with that

00:02:39,420 --> 00:02:47,220
came a lot of press sorry containers and

00:02:45,330 --> 00:02:49,980
now we have to build a big version of

00:02:47,220 --> 00:02:53,760
the machine so that's all good

00:02:49,980 --> 00:02:57,510
that's what we're working on it is a

00:02:53,760 --> 00:03:01,500
robot that should assemble food in real

00:02:57,510 --> 00:03:03,830
time customer said to the requirements

00:03:01,500 --> 00:03:07,230
of a user if it's because of dietary

00:03:03,830 --> 00:03:10,410
restrictions because of taste custom

00:03:07,230 --> 00:03:13,170
made fresh not preassembled laying in

00:03:10,410 --> 00:03:15,450
the shelf for a long time record

00:03:13,170 --> 00:03:18,600
everything it does that we can help them

00:03:15,450 --> 00:03:20,670
create stock management on the scale

00:03:18,600 --> 00:03:24,180
that they don't over order but always

00:03:20,670 --> 00:03:26,750
can deliver to their customer now the

00:03:24,180 --> 00:03:26,750
interesting

00:03:29,190 --> 00:03:36,630
so if you look at this machine with

00:03:31,080 --> 00:03:40,770
build it has a robot arm it has a series

00:03:36,630 --> 00:03:44,250
of dispensers on top has the arm has

00:03:40,770 --> 00:03:45,930
some sort of communication interface and

00:03:44,250 --> 00:03:50,550
the middle some sort of brain that does

00:03:45,930 --> 00:03:52,710
all the de magic for this machine will

00:03:50,550 --> 00:03:54,210
be pretty much the same it's just the

00:03:52,710 --> 00:03:58,200
mechanical engineers who have two bigger

00:03:54,210 --> 00:04:01,740
challenges there so I was hired there to

00:03:58,200 --> 00:04:07,290
build the software for this company and

00:04:01,740 --> 00:04:12,510
the first question what do I do this

00:04:07,290 --> 00:04:14,250
didn't work so I went for the micro

00:04:12,510 --> 00:04:16,320
service architecture go a little bit

00:04:14,250 --> 00:04:20,130
into detail my talk will not be highly

00:04:16,320 --> 00:04:23,340
technical but I basically said a message

00:04:20,130 --> 00:04:25,050
broker in the middle of my system runs

00:04:23,340 --> 00:04:26,850
on docker containers have to be

00:04:25,050 --> 00:04:29,430
everything that we produced very very

00:04:26,850 --> 00:04:30,960
fast it was a prototype and currently

00:04:29,430 --> 00:04:34,140
refining everything for the big

00:04:30,960 --> 00:04:36,570
architecture for the large machine if I

00:04:34,140 --> 00:04:41,790
want to go through the details of the

00:04:36,570 --> 00:04:43,950
different components so the arm we don't

00:04:41,790 --> 00:04:47,190
build arms other people do that they do

00:04:43,950 --> 00:04:48,960
a great job with that the one you saw in

00:04:47,190 --> 00:04:50,640
the video that's a company called

00:04:48,960 --> 00:04:52,620
automata they launched their product

00:04:50,640 --> 00:04:54,510
about two months ago it's about five

00:04:52,620 --> 00:04:59,130
grand for an arm that's pretty cheap for

00:04:54,510 --> 00:05:01,260
a robot arm but yeah you can a software

00:04:59,130 --> 00:05:03,419
developer and then you start holding and

00:05:01,260 --> 00:05:06,240
hit f5 and it suddenly knocks down your

00:05:03,419 --> 00:05:10,260
coffee and that's unexpected

00:05:06,240 --> 00:05:12,540
so yeah working with hardware is quite a

00:05:10,260 --> 00:05:13,590
challenge especially if it's moving it's

00:05:12,540 --> 00:05:15,750
quite strong

00:05:13,590 --> 00:05:18,570
there's forces you're not expecting it

00:05:15,750 --> 00:05:20,130
errors out a lot you need access to that

00:05:18,570 --> 00:05:23,250
machine that you can debug your code

00:05:20,130 --> 00:05:28,150
that you can test your code but it's

00:05:23,250 --> 00:05:31,600
pretty fun to do it so

00:05:28,150 --> 00:05:33,400
this specific arm talks over HTTP has a

00:05:31,600 --> 00:05:35,169
REST API where you can send them tool

00:05:33,400 --> 00:05:38,169
paths about how it should move how fast

00:05:35,169 --> 00:05:40,840
it should move so it needed a some sort

00:05:38,169 --> 00:05:44,800
of brain to talk to it and obvious

00:05:40,840 --> 00:05:47,080
choice no chairs so question I get lot

00:05:44,800 --> 00:05:50,919
got asked a lot is hey why not heighten

00:05:47,080 --> 00:05:52,750
tightness to fixing but if you look what

00:05:50,919 --> 00:05:55,630
what's the strength of of JavaScript

00:05:52,750 --> 00:05:58,780
what's the strength of noches it is very

00:05:55,630 --> 00:06:00,610
very good with IO heavy still and the

00:05:58,780 --> 00:06:02,979
physical world is are you heavy you

00:06:00,610 --> 00:06:05,050
constantly waiting you waiting cause

00:06:02,979 --> 00:06:07,150
physical world is slow you waiting for

00:06:05,050 --> 00:06:09,490
an arm to stop you waiting for an arm to

00:06:07,150 --> 00:06:11,410
give your feedback so JavaScript was

00:06:09,490 --> 00:06:13,600
probably a good decision I also I was

00:06:11,410 --> 00:06:16,030
alone I had to do front-end bits one

00:06:13,600 --> 00:06:18,490
language is enough for me but I really

00:06:16,030 --> 00:06:25,180
like to love it for for this application

00:06:18,490 --> 00:06:27,070
because yeah it's good so very simple

00:06:25,180 --> 00:06:31,030
that's the only bit I go into code a

00:06:27,070 --> 00:06:36,820
little bit the service that controls the

00:06:31,030 --> 00:06:40,510
arm is a service that listens for AMQP

00:06:36,820 --> 00:06:43,710
messages it's a kind of format and then

00:06:40,510 --> 00:06:48,610
since one simple has one simple method

00:06:43,710 --> 00:06:50,410
it implements its move arm the great

00:06:48,610 --> 00:06:52,419
thing about that if I want to replace

00:06:50,410 --> 00:06:55,419
the arm that talks through beard socket

00:06:52,419 --> 00:07:00,010
protocol or is Python script whatever I

00:06:55,419 --> 00:07:02,349
just replaced this function and you can

00:07:00,010 --> 00:07:05,020
also use stronger arms so we had a party

00:07:02,349 --> 00:07:10,389
and we used the robot down to put spices

00:07:05,020 --> 00:07:12,910
on the chief with the dispensers pretty

00:07:10,389 --> 00:07:15,970
much the same we have these serial

00:07:12,910 --> 00:07:17,169
dispensers we have some scales we're

00:07:15,970 --> 00:07:19,750
working on bigger things

00:07:17,169 --> 00:07:24,099
they're nice renderings we actually work

00:07:19,750 --> 00:07:28,479
on them same story here they have a rest

00:07:24,099 --> 00:07:33,039
api we have node in between bad news

00:07:28,479 --> 00:07:35,110
here we're about to replace it the

00:07:33,039 --> 00:07:36,880
dispensers have their own AMQP

00:07:35,110 --> 00:07:38,860
implementation straight on the hardware

00:07:36,880 --> 00:07:41,979
so that's something for embedded in

00:07:38,860 --> 00:07:44,020
years and then yeah several processes

00:07:41,979 --> 00:07:46,210
that have to deal with where do you have

00:07:44,020 --> 00:07:48,159
to move what's next how do you look oh

00:07:46,210 --> 00:07:51,789
there's an empty dispenser who needs to

00:07:48,159 --> 00:07:55,180
refill these are all micro services

00:07:51,789 --> 00:07:57,250
written in note they do a pretty good

00:07:55,180 --> 00:07:59,469
job it's quite easy to replace them I'm

00:07:57,250 --> 00:08:01,780
pretty happy with the architecture and

00:07:59,469 --> 00:08:06,099
we'll take quite a lot to the big big

00:08:01,780 --> 00:08:08,139
machine where it becomes interesting is

00:08:06,099 --> 00:08:09,810
here how do you talk with the machine so

00:08:08,139 --> 00:08:13,750
we're in the kitchen this is pretty

00:08:09,810 --> 00:08:16,419
hostile environment you we rely on the

00:08:13,750 --> 00:08:19,599
internet connection but we can't expect

00:08:16,419 --> 00:08:21,639
that it's always there and kitchen if

00:08:19,599 --> 00:08:23,259
you order food you want it you're not

00:08:21,639 --> 00:08:24,819
allowed to wait because the machine is

00:08:23,259 --> 00:08:28,629
under maintenance or the internet is

00:08:24,819 --> 00:08:31,629
laggy so we need to implement a local

00:08:28,629 --> 00:08:33,310
API that works within the restaurant but

00:08:31,629 --> 00:08:34,269
on the other hand you have services like

00:08:33,310 --> 00:08:36,459
delivery

00:08:34,269 --> 00:08:38,940
who breeds which come from the outside

00:08:36,459 --> 00:08:41,620
they have their websites they have their

00:08:38,940 --> 00:08:46,390
online ordering systems they use the

00:08:41,620 --> 00:08:49,600
need to interconnect so we built this

00:08:46,390 --> 00:08:51,850
with express note but you also happen a

00:08:49,600 --> 00:08:55,060
cloud service which syncs these two

00:08:51,850 --> 00:08:56,680
machines because yeah as I said this

00:08:55,060 --> 00:09:00,190
connection from the outside is important

00:08:56,680 --> 00:09:04,390
too now if we go further we have

00:09:00,190 --> 00:09:07,300
multiple machines we go both the clouds

00:09:04,390 --> 00:09:13,360
and turn into sky and who knew that in

00:09:07,300 --> 00:09:16,990
the 80s so where are we heading with

00:09:13,360 --> 00:09:19,810
this obviously there are some buzzwords

00:09:16,990 --> 00:09:21,490
that coming from management we want to

00:09:19,810 --> 00:09:23,100
learn by looking at the Machine and the

00:09:21,490 --> 00:09:26,110
ingredients how can we optimize

00:09:23,100 --> 00:09:29,290
dispensing how can we optimize part by

00:09:26,110 --> 00:09:32,290
looking at it by just learning and

00:09:29,290 --> 00:09:35,190
collecting the data but the two big

00:09:32,290 --> 00:09:38,640
goals where I am excited about is

00:09:35,190 --> 00:09:40,930
kitchens they will never be completely

00:09:38,640 --> 00:09:42,759
operated by robots in

00:09:40,930 --> 00:09:45,189
Oh Jen there is always be a

00:09:42,759 --> 00:09:47,680
collaboration between people people who

00:09:45,189 --> 00:09:49,990
are often not very well paid not very

00:09:47,680 --> 00:09:51,910
well trained it's not at that calm that

00:09:49,990 --> 00:09:53,860
none all engineers and they have to

00:09:51,910 --> 00:09:55,360
operate these machines and I think

00:09:53,860 --> 00:09:59,470
that's a very interesting challenge to

00:09:55,360 --> 00:10:02,740
solve and the other bit which I think

00:09:59,470 --> 00:10:05,079
where is a big potential is controlling

00:10:02,740 --> 00:10:07,749
the whole workflow whole logistic chain

00:10:05,079 --> 00:10:09,189
from the field to the plate I think the

00:10:07,749 --> 00:10:10,990
robot in the kitchen is a good place to

00:10:09,189 --> 00:10:14,050
start because that's where you actually

00:10:10,990 --> 00:10:16,839
start understand what people consume how

00:10:14,050 --> 00:10:18,970
they consume it how long certain

00:10:16,839 --> 00:10:22,449
ingredients stay in the kitchen how they

00:10:18,970 --> 00:10:25,179
walk through the whole chain and if

00:10:22,449 --> 00:10:27,429
we're talking about the future it may be

00:10:25,179 --> 00:10:31,209
can be yours because I'm here we have

00:10:27,429 --> 00:10:33,189
lots of jokes at the moment so yeah if

00:10:31,209 --> 00:10:35,980
you're interested I don't do social

00:10:33,189 --> 00:10:38,829
media but I have paper cards so come and

00:10:35,980 --> 00:10:40,779
talk to me I give you to them and that's

00:10:38,829 --> 00:10:44,550
it from my side happy to chat with you

00:10:40,779 --> 00:10:50,140
ask me all the questions thank you

00:10:44,550 --> 00:10:50,140

YouTube URL: https://www.youtube.com/watch?v=Hy6j5slzleE


