Title: Modern Typographic Systems With Variable Fonts - Jason Pamental | CSSconf EU 2019
Publication date: 2019-07-08
Playlist: CSSconf EU 2019
Description: 
	Variable fonts are a transformative evolution of type design that has huge performance and design implications for the web. When coupled with CSS custom properties and calculations, they make for a completely new way to think about typography and UX. This talk will show how these technologies and techniques can be combined in a unique way to enable dynamic, fluidly scaling typography that reacts to screen size and other aspects of user context. Itâ€™s a perfect complement for better design systems and accessibility, too.
Captions: 
	thank you very much so yes I'm going totalk and kind of build on some of ourour themes that have been emerging todaya little bit about how we go aboutparticipating and so this is either areally design focused technical talk ora very technical design talkchoose-your-own-adventure here that'sjust fine so I do spend a lot of timeplaying around with variable thoughts Ihave since day since they launched andone of the recurring themes for me isthis notion of participation meetingpeople from different browser vendorsdifferent different font companies andtrying things experimenting andproviding feedback and so for me as adesigner and a developer who's worked onthe web for actually career is probably older than half thepeople here but that that has led me tobe able to participate more than I everhave before just by speaking up just bygoing and commenting on issues andtrying things out and providing some usecases and I'll show you some of thosethings today really most people justknow me as a walker of these two sothey're gonna come back and help me kindof explain a couple things but so Ispend most of my time working on typeand typography and design systems andand for browser vendors and that sort ofthing writing content about it trying toeducate people about it but I've hadpeople in Australia ask me first howTristan's doing so that's Tristan on theleft and it's his cousin Tillie on theright and they'll be back to explainsome things later on so the reason why Ithink this stuff is so important there'sthere's lots of reasons for performanceand everything else but type is thevoice of our words it's how we hear whatwe read and and so all of the tech stufffixing performance problems with fontloadingthat's the Gateway to actually get inand do better typography in the firstplace and this is one of the reasons whyso when this quote came across I waslike the day before I was giving thisthe first version of this talk for thefirst time and and I had to work this inbecause I think Nina's notion offriction in design what creates thatinterface between what I put on screenand what you read that's what makes itmemorable and sometimes you want morefriction sometimes you want less butttype is the way we can modulate that andI think that's really fascinating sowhat I want to look at is actuallycombining several different CSStechniques to create more interestingand fluid typography and then we canalso tie in some other emerging featuresthat will help make that typography moreinteresting and more useful in morescenarios to more people so there'sthree things that we're going to talkabout primarily and that is CSS customproperties or variables the ability todo calculations with them and pairingthat with variable fonts so variablefonts I hope is something that you'veall at least heard about but if not I'mgonna explain a little bit more aboutwhat they are in a minute so looking atwhat we have on screenI thought the Odyssey might be a goodway to talk about the way our journey onthe web has evolved and I wanted to tryand present it in a slightly differentway so we have a heading and instead ofassigning it in an explicit color wecould sign it a variable for that colorso we might change it later on and and Ithink that will have some interestinguse cases for that and so this istotally not showing things properlysorry okaythat's what it's supposed to look likeand so we have the color assigned and wewant to start to change those things sowe changed that variable assignment andso now we have a different color headingwe might also want to do a calculationon the size so that we could then changethat base size later on as we start toscale it on different screen sizes sowe've now done thingschanged the size and that actuallyaltered the flow of the text a littlebit so we might want to actually assigna variable to the weight as well so assize changes we might impact that sohere's where the variable fonts come inso we have that single asset that we canthen use in a greater variety of waysand this is actually where I want topause for just a second and bring up theidea about when we read advice aboutthings we do on the web we need to thinkabout why that advice exists in thefirst placeso I see a lot of people writing aboutwhat is good typography and a lot ofpeople will talk about and these are ourexperienced designers and we'll talkabout good typography being only usingtwo weights of a font that's actuallynot good typography at all that'sconvenient for performance and that hasbeen sort of codified as a way we shoulddo things because of the reality of howwe serve things on the web so it makesfor a better user experience if you getcontent on screen and you're onlyloading two assets that's a smalleramount of data so that makes sense butthat's not actually good typography asingle weight of a typeface as youchange it in size will become more orless clear and easy to read if you canmodulate that weight a little bit atevery different size you'll get clearerand more legible type so there's reasonswhy we might want to do this sort ofthing and I also wanted to show thatsome of these ideas work equally well inthe context of a design system so it'snot something that is purely for oneblock long form copy but when we takethis thing and we've got our card so Idon't have a box around it but you knowcards are a theme we know we are gonnause sub-grid on them and everything andwe have them here in the bottom part ofthe layout but if we stick them over onthe side maybe we scope the change insize or scale of that typography towhere it's placed in the layout so againwe don't have to write any new markupall we have to do is tweak some of thosesize variables and that can be dependentupon where things are placed and that'sreally kind of interesting but let mecome back to variable fonts because oneof the things that I've learned is everytime I think I've been rattledabout them enough I'll go to anotherevent and people don't actually knowwhat they really look like so when youload fonts you typically have a wholebunch of different files that you needto load in order to get all thedifferent weights and variants whetherit's with weight italics all that sortof thing but a variable font actuallybrings all of that together in a singlefile so now you're loading one assetwhich is bigger than a single staticfile but not so big as what you want tocombine and it gives you then access tothe whole range of that set of weightsor widths all at once rather than havingonly one or two so Tristan and Tillyagain will help me out where we havevariable size collies and you can havethat single font file that you'reloading and then playing around with allthese different characteristics and Ihope you'll pay attention to some of theclasses that have been applied here tomake sure that we're really focused inon exactly what we're talking about andthese axes are ones that are chosen tobe exposed by the type designer they'renot distortions introduced by thebrowser they're only what is nativeinside the font itself so you'll see alot of different variable axes exposedand and we're still kind of learningwhat some of those axes might be but themore common ones that will be useful tous for you I particularly will be thingslike width and weight it just creates alot more opportunity but we also don'twant to forget that we also have slitnow we have all of these thingsavailable to us but one of the thingsthat is often overlooked in a responsivedesign is how that typographic scaleneeds to move and change based on screensize so when you have a small screen youhave less distraction and less space forthat content to show up so you don'treally want to have the same scalebetween heading and body copy on a bigscreen and a small one so when you havean hdo you understand that that's the titleit's the most important piece ofinformation on the screen we're going tostart to scale this using all of thesethings together we're going to seta bunch of variables for breakpoints andminimum and maximum sizes for in thiscase the paragraph size and line heightand so these are the things that we'regoing to move around and scale based onthat screen size rather than usingexplicit breakpoints to change thingsall the way along we're going to startto do this a little bit differentlywe're going to use some of thesecalculations so as it changed whathappened there was the font size and theline height started to change with itand so as the screen got bigger westarted to use stuff like this and Iknow that's a lot somebody who's Gregfrom the edge edge team last night saidare you gonna put that really stupidlylong formula up on the screen and I saidyes yes I am multiple times but I'llexplain it so this is kind of what'sgoing on and this is based on atechnique that Tim Brown wrote aboutawhile ago called CSS locks now some ofyou have probably played around withviewport width units to size text andthat's really interesting and it helpsyou size text based on the size of thewindow but it has a couple of problemsand Estelle while was the first personthat pointed out to me that when you usepurely viewport units to size text youcan't zoom it so you've created thishuge accessibility problem because it'sbased on the window not page zoom sowhen you calculate it and introduceanother unit of measure the end resultcan still be zoomed so that alleviatesthe accessibility issue but you alsowant to stop it from getting too smallor too big so this is where the lochsidea comes in you can assign a minimumand maximum size and then tie it todifferent break points so that it willget no smaller when it's on a very smallscreen and no bigger when it's on a verylarge screen and it gives you a littlebit more control without having to worryabout everything in the middle soeffectively you're still usingbreakpoints but only at the low end andhigh end of where you want it to startand stop scaling and so this is what itlooks like in story form so please takethis item and scale it from this size upto this size starting at this screensize and ending at that one so we startto replace these values in the formulagets a little bit simpleand this is about the point where Ithrow my hands up and walk away becausebrowsers are better at math than I am Ididn't really take any college matheither so that's as this is as far as Igobut browsers are really good at it andthat's fine and you don't ever have torewrite it so I use that exact sameformula I've taken that around fromdozens of different demonstrations andworkshops it's in production in severaldifferent websites a couple of whichI'll show you later on and we're thengoing to see how that actually looks inthe real world so we take all thesethings and we put them together andinstead of having only a couple ofthings happening we're actually going totailor a whole bunch of things here thewidth of the text the weight of it thesize the line height all of those thingsare going to scale nicely as we go fromsmall screen to large and now why mightwe want to do that on small screens wehave fairly choppy line lengths when youhave the text size set at a goodreadable the body text smaller we could make it atiny bit narrower if you have a widthaxis and that will fit more charactersper line and give you a little bit moreeven reading experience without reallysacrificing the legibility so we'redoing a whole bunch of other stuff we'resetting variables not only for the sizeand line height but we're also settingit for width and we're doing the samekind of thing as we scale you'll noticethat not only what's going to changehere is the width the weight and as wellas the line height and the size as thescales so it's appropriate for thedevice size it gives you a good clearreading experience optimized for thesize of the screen upon which it'sviewed and that's really importantbecause content is will whole point ofwhat we're putting on screen unless it'sa game or the kittens the kittens shouldjust be at a hundred percent right welldogs not cats anyway so here's anotherexample of this in action so this is apage that I designed for monotypesintroduction ofthe FF meta is their first variable fontlunch and so this is just an embedthat's a real real web page all thestuff that you're seeing here our actualproduction fonts or most of thereproductions some of them areopen-source but everything that's on thescreen here is from one file so a singlefont file to pre create this beautiful range oftypography now I say beautiful range I'mnot saying beautiful typography I happento like it but I don't want to implythat that judgment is absolute and sothat also moves and scales really nicelyso this is using a lot of the same ideason the slightly earlier iteration but itdoesn't have the width but it doescreate an interesting layout andsolution-based appropriately for thescreen size that it's on this is anotherquote from Tim Brown because I thinkthis is really important and this is atheme that I've seen emerging at a bunchof events in different talks this yearwhere we need to remember that we're notdictating the experience to the userwe're giving them an experience whichthey can then choose to take or not andthey can override it with userpreference they can override it withpage zoom and increasingly we want to bemindful that we should give them theability to fine-tune that experiencebased on their needs it might be ambientlight it might be low vision it could bedifferent kinds of cognitive issues thatmade that they may face so why not useCSS and a little bit of JavaScript soI'll include everybody from tomorrow andSunday as well that we can improve thisexperience with a few simple things togive people the choice about how theywant to take in this content so one ofthe things that has become prettypopular as the idea of using light anddark mode so it's built into a lot ofdifferent operating systems now it'soddly enough not available in iOS and Iwaskind of surprised about that but it doeswork it's shipping now the respect forthat in a media query is built intoSafari and Firefox and if it's notshipping yet in chrome it's just about -it does work if you have a flag set it'sit's working in my browser anyway and soif I wanted to just pop over to mysystem preferences and go back here it'sunder general and if I just select darkmode I didn't change anything in thecode I just have a few things in a mediaquery so that if the user has set thatpreference I can invert a couple ofthings and it's really easy to do basedon the absence or presence of thesevariables so inside the media query hereprefers color scheme dark then all Ihave to do is replace a couple ofdifferent values for those variables andit just inverts the whole color paletteand as an experiment I added this to myown website last week and it took meabout all the places where I needed to swapout those variables so it's actually waskind of an incredibly easy thing to doand if I go back here what I want to dois actually I cheated a little bit Ihave a class on here as well but watchwhat happens when I enable the dark modeI'm also increasing the grade of thetext slightly that's another variableaxis so it increases the weight subtlywithout shifting the space around theletterformsand I also increase the letter spacingso a couple of small tweaks to thetypography using basic CSS and this andthe variable axis creates that bettermore tailored reading experience in thatinverted light mode which for somepeople is the difference between beingable to use the computer and not so itreally does give us to try and and makesure these things are available so goingback here there are other cases where wemight increase grade of text and thisfor people that have either low ambientlightsor they have low vision meaning theyneed a little bit stronger contrast inorder to make out that fine detail wellagain we can tie into without invertingthe color mode we can still create aslightly more readable experience we'llgo back and forth a little bit there youcan see I'm doing the same kind of thinglike increasing the grade opening up theletter space in just a little bit itcreates a more legible experience forsomeone that that needs that extralittle touch we can also play aroundwith font size so again we can in thiscase all I had to do is redefine thescaling values the low and the high endand then everything else kind of movesalong with it we can also do things likeaddress crowding crowding is aparticular subset it's a condition thata subset of people that have dyslexiasuffer from and actually learned aboutthis from Kevin Larsen from Microsoftadvanced reading group did a reallygreat talk about this research and whatthey found was that in people who sufferfrom crowding and it's it's noteverybody with dyslexia it's a subsetwhat they discovered was that if youcould increase the word spacing and lineheight they could increase readingcognition by increase for people that is again thedifference between getting somethingfrom your site and not it's opening andclosing a door to people to learning toexperience to entertainment you name itwith really simple stuff so again wordspacing line height modify those twovariables make it easyput these controls in the hands of theuser so what that might that look likewell if we could actually just put alittle panel off to the side on ourwebsite and all it does is toggle someclasses on and off that will triggerthose little bits of CSS we can thenagain put it in the hands of the userallow them to control that experience itdoesn't take much time for us the netcost in a project is zero I'm notkidding I mean like this is a tinyamount of effort to put in across thescope of a whole project that will thenmake the difference between I can usethis siteor I need to go somewhere else and wewant people to be able to use our sitesso I think it's really important that wekeep that sort of thing in mind and theother thing that we might do againbecause this is a lot of effort tocreate great typography we want to beable to reuse this effort as much as aswe can we can then extend it a littlebit more to make the whole system itselfThema ball so we could actually use thisstuff over and over on other projects byusing a variable for the font stackitself so as this stuff moves around inscales we could also based on gridplacement we can actually shift aroundwhat values we apply but we could alsochange the entire look itself and thatmight be by just adding a few morevariables that are tied to the fontstack that we enable which one isprimary and then tie things to screensize light modes all different kinds ofthings that we might be able to do butthat makes this whole system a series offiles we could drop into any project sothat you know we want efficiency we wantto work in design systems we want to beable to replicate all this stuff then wewant to be able to get the most out ofit that we can so we figure this stuffout in a system we take it from oneproject to the next I can tell you fromexperience now over the last coupleyears that it has saved me a ton of timeand it has enabled me to bring all thisinto a production system for one of thelarger states in the u.s. so that bringsme to this georgia gov and I was askedto come in and work on the typographicsystem for all of their state agencywebsites so this is one platform onepattern lab instance in Drupal and wewere able to take all of the ideas thatI've been showing you and build thatinto this whole system and so we haveeverything here so this is the this isan actual copy of the pattern lab thatexists for all of the sites and if I goplay around with all of this you can seethe scaling happening live everythingit's all the same kind of mathI'm using app supports it's deliveringstatic web fonts for iefor everybody else so that's anotherlittle plug there the browser supportfor variable fonts every shippingbrowser I so that is a reality but using asssupports in your CSS will enable you tobring this into your project safely anduse it in production and it's actuallynot that hard to do to add in a blockthat just redefines the variables fontsupport and just layer it into your therest your project so they've juststarted launching these sites we've beenworking on this for the last eight ninemonths or so and so now they've got acouple of different live websites thatit's all in Drupal so they've got lotsof flexibility to build the differentcontent types but they've actuallystarted to roll this out now and thiswill be powering across the entire state of Georgia so itis very much production-ready it'sreally nice to see and they're not theonly people doing this so IBM fairlylarge company I'm guessing most of youhave heard of them they just releasedPlex sans a couple years ago and is abeautiful family of typefaces that theymade open source and that's core totheir entire identity well it so happensjust about a month ago they released avariable font version of blech sans files totalled from with range from from that stuff replaced with two files atlot to load in font data but it'scashable and it gives you an incrediblerange of stuff and it's a hugelyinternationalized font so if you were tolocalize it just for say Latin oneextended you'd bring down the number ofglyphs in there and you'd have an evensmaller file so you get a tremendousamount out of that and I just want toshow I know other peoplehave been kind of carrying on about theFirefox dev tools but man they are socool so one of the things that I knowyou're not going to be able to read thatthat's okay the font panel so I'm gonnaactually get out of this mode so you canactually see it on screen here so if Iexit my full screen and inspect thisagain what I want to show you is I haveselected that first line of text and ifyou look at the font panel over hereyou'll see that it shows you what fonthas been selected and what's what'senabled there it gives you the basics ofsize and line height and whether or notit has italics or not but it will alsoexpose the any available axes in thevariable font so in this case we've gotwidth and weight and I can now playaround with that live in the browser sothis comes up a lot when I'm workingwith both designers and developers whohave to work together this is aconversation facilitator this allows adesigner to go into the browser and lookat a test harness of a page or anexisting existing mock-up or earlyiteration or maybe a build in a PR andplay around with the type get thingsexactly the way they want it and thenthey can just click on the changes tabthere's another really awesome littletidbit in in Firefox dev tools this iswhere all of the changes that you'vejust made in the inspector are going toshow up so then you can just copy thatand hand it back to the developer andsay here so if you can't code ityourself or if you just want to usethese shortcuts to kind of play withthings and then you can always seeeverything that you've changed fontvalues padding alignment all of thesedifferent things that you've beenplaying around with this is where itaccumulates so then you can figure outeverything that you've changed which isjust really fantastic so that's my plugfor Firefox dev tools and and I will dowant to say out loud that people fromboth chrome and the edge team haveapproached me and had conversations withme this week about wanting to improvetheand other browsers as well socompetition is good people really docare about this stuff you're gonna seemore of these incredible tools comingfrom different browsers as well andthat's just going to make our designlife that much better so big round ofapplause to the dev tools teams that allthe browsers[Applause]one more thing as part of my work withthe wright now is something that's really newand I want it's it's still a year twoaway before it ships but this is a bitof a tease because it's so importantabout font performance in the firstplace that I wanted to give you a littleadvance preview what we're working on issomething called progressive fontenrichment and don't worry I've got alink to a noticed page that has all ofthis stuff on it with tons of links andresources so you'll easily be able tokind of check all of this stuff out butthis demo is live on the web so this isreal stuff that I'm showing you and wehave the ability to take a look I'mgonna choose a variable font where'd itgothis is there it is sorryand so the idea is we want to be able todownload only the amount of fontinformation that you need to render thepage rather than having to do this on anevery page basis we want it to becumulative so you look at the first pageof your website and it downloads the glyphs of font data that are required torender that page when you go to the nextpage it might only require want to rather than throw these thingsout we're talking about dynamically subsetting the font but then building itback up in the browser and that's reallykind of incredibleyes well just wait till you see it inactionso I'm just gonna copy the first twoparagraphs and this is this is a longpage there's a lot of text here this isthe entire first book of the Odyssey soI'm gonna take the first two paragraphsand go back over here and I'm making acouple of choices about which subsetting tools this is this is a totallyexperimental thing this is basicallyhere for us to test research while we'reworking on the specification and Ipasted those two paragraphs in I addthem here's my demo contentthere's what's happening so there's thefull font would be would get sent today with that font andwhat was served for this page is down onthe incremental transfers line see soit's a third one down that was six and ahalf K was the only amount of font datathat was sent so that's you know almostfont file so let's go back and grab thewhole rest of this first book so I'mgonna select here go all the way down tothe bottom so I'm selecting a whole lotof text but let's see what that does interms of the different number of glyphsso I've copied that I'm gonna go in hereadd this and here we go even with all of that text we're onlyserving half of the whole font file nowthis is peanuts when you're looking atwet western languages this is not whereit matters although it's still going toimprove things when we talk about thosevariable fonts think about that one fromIBM instead of font could be two and a half Meg's orsomething in CJK Chinese Japanese orKorean that might be be between being able to use it and not andthe font directly relates to readabilityso system fonts are fine but they maynot be the most legible or the mostappropriate so web fonts really areimportant and this is why we want tomake sure that we have these kinds ofthings available again this isparticipatory this will all be going assoon as we have enough research hereit's gonna be all on github everybodygets to comment everyone gets to testthings and participate so this is whyit's such an exciting time to be workingon the web because it's easier for allof us to participate than it ever hasbeen so that was what I wanted to showyou with this demo bit hereso I'll speed past those again I wantedto give you access to things so there'slots of different variable fonts that Iused in this presentation and where youcan find them some of them are opensource some of them are commercial someof them are some data but if you want totake a picture grab this last one thatlinked down on the bottom has all ofthis stuff available and you can alsosign up for an email newsletter that Ido every week about web typography wherea lot of these conversations start andthank you very much[Applause][Music]
YouTube URL: https://www.youtube.com/watch?v=0AsAjHPupKQ


