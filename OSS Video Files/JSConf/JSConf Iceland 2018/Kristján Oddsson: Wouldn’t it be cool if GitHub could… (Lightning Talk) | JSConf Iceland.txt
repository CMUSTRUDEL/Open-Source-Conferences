Title: Kristján Oddsson: Wouldn’t it be cool if GitHub could… (Lightning Talk) | JSConf Iceland
Publication date: 2018-04-06
Playlist: JSConf Iceland 2018
Description: 
	
Captions: 
	00:00:00,530 --> 00:00:08,639
that's fine hey I'm Kristin and I work

00:00:05,549 --> 00:00:10,860
at github but this talk isn't like about

00:00:08,639 --> 00:00:17,100
me as an engineer at get up it's more of

00:00:10,860 --> 00:00:19,140
a user so before I started working

00:00:17,100 --> 00:00:21,750
github I would have all these kinda like

00:00:19,140 --> 00:00:24,390
ideas about like I wish github could do

00:00:21,750 --> 00:00:27,269
this one thing and I would write these

00:00:24,390 --> 00:00:29,939
chrome extensions to kind of help my

00:00:27,269 --> 00:00:34,110
workflow to do these things there but

00:00:29,939 --> 00:00:36,000
there's like some things that but

00:00:34,110 --> 00:00:40,980
there's some stuff that I couldn't do as

00:00:36,000 --> 00:00:43,920
Chrome extensions and so for those

00:00:40,980 --> 00:00:49,460
things I recently discovered this

00:00:43,920 --> 00:00:49,460
library that is not the right clicker

00:00:49,670 --> 00:00:55,770
it's called pro bot and it's a library

00:00:53,190 --> 00:00:59,160
for github to write these github

00:00:55,770 --> 00:01:01,590
applications and pro bot does this by

00:00:59,160 --> 00:01:04,799
leveraging web hooks and the k-dub api

00:01:01,590 --> 00:01:07,939
to give you kind of the power to extend

00:01:04,799 --> 00:01:10,080
github in a in a pretty simple way and

00:01:07,939 --> 00:01:12,299
most instances of pro bots are

00:01:10,080 --> 00:01:14,460
responding to events so something

00:01:12,299 --> 00:01:17,490
happens on github Probot gets a ping

00:01:14,460 --> 00:01:18,840
through a web hook and it might like

00:01:17,490 --> 00:01:20,850
analyze like what should I do in this

00:01:18,840 --> 00:01:23,189
situation and it will maybe fire off

00:01:20,850 --> 00:01:24,840
some events of its own and we can

00:01:23,189 --> 00:01:27,390
actually take I have a little trivial

00:01:24,840 --> 00:01:29,400
example and let's say if we want to

00:01:27,390 --> 00:01:32,159
respond to every issue that's opened in

00:01:29,400 --> 00:01:33,360
a repository and like let's just like

00:01:32,159 --> 00:01:36,750
say hello just give them a little

00:01:33,360 --> 00:01:38,460
welcoming message all right we're gonna

00:01:36,750 --> 00:01:40,909
build it right now so we have this

00:01:38,460 --> 00:01:45,180
module and it just takes in robot as

00:01:40,909 --> 00:01:49,049
argument or a parameter and so we can

00:01:45,180 --> 00:01:50,360
attach event listeners on the robot and

00:01:49,049 --> 00:01:52,439
there's a list on the github

00:01:50,360 --> 00:01:54,899
documentation page for the events you

00:01:52,439 --> 00:01:56,549
can listen for and here we're just like

00:01:54,899 --> 00:01:59,729
listening for if there's any issue

00:01:56,549 --> 00:02:03,320
that's opened we get this context with

00:01:59,729 --> 00:02:05,759
it and so with this context we can

00:02:03,320 --> 00:02:07,290
create a comment this is kind of

00:02:05,759 --> 00:02:08,700
confusing I didn't really understand

00:02:07,290 --> 00:02:11,540
this at first but this is essentially

00:02:08,700 --> 00:02:13,670
just gives you like an object back that

00:02:11,540 --> 00:02:15,800
operates in the context of the

00:02:13,670 --> 00:02:20,209
issue and we just give it the body

00:02:15,800 --> 00:02:22,040
thanks for the issue and then just using

00:02:20,209 --> 00:02:24,110
get up get up API if you ever used it

00:02:22,040 --> 00:02:30,250
it's pretty it's fairly simple we just

00:02:24,110 --> 00:02:32,810
say create this comment and that's it

00:02:30,250 --> 00:02:34,880
it's pretty easy like we can run this

00:02:32,810 --> 00:02:37,070
and every time somebody opens up an

00:02:34,880 --> 00:02:41,090
issue on a repository where this Probot

00:02:37,070 --> 00:02:41,830
isn't against its installed it will

00:02:41,090 --> 00:02:45,950
respond

00:02:41,830 --> 00:02:47,630
thanks for the issue I thought this was

00:02:45,950 --> 00:02:50,690
pretty cool when I saw it first because

00:02:47,630 --> 00:02:52,010
you can do these crazy things there's a

00:02:50,690 --> 00:02:53,810
bunch of Pro BOTS out there you might

00:02:52,010 --> 00:02:57,620
have seen them if you go into these

00:02:53,810 --> 00:02:59,300
popular get up repositories sometimes

00:02:57,620 --> 00:03:02,000
they'll like close down the issues when

00:02:59,300 --> 00:03:05,870
nobody is commenting on it for some days

00:03:02,000 --> 00:03:10,880
and I have a problem that I really

00:03:05,870 --> 00:03:13,430
wanted to solve with Probot and it is

00:03:10,880 --> 00:03:15,680
related to es lint I don't know if

00:03:13,430 --> 00:03:19,579
everybody here uses lint but I almost

00:03:15,680 --> 00:03:21,079
always use it in my projects and I have

00:03:19,579 --> 00:03:24,290
it running so like it will run in a

00:03:21,079 --> 00:03:26,690
built and if if someone broken easily

00:03:24,290 --> 00:03:30,799
through it will give you like a red

00:03:26,690 --> 00:03:33,829
status on the floor request there's just

00:03:30,799 --> 00:03:36,049
one problem with this people can just

00:03:33,829 --> 00:03:39,739
like disable the rules right there in

00:03:36,049 --> 00:03:41,660
the code and so this is a project that I

00:03:39,739 --> 00:03:42,860
have where somebody just disabled all

00:03:41,660 --> 00:03:46,370
the rules and just did whatever they

00:03:42,860 --> 00:03:47,840
want it which is fine like I understand

00:03:46,370 --> 00:03:50,180
that sometimes people just like need to

00:03:47,840 --> 00:03:51,709
get stuff done and so they like they're

00:03:50,180 --> 00:03:54,980
like I don't know how to do this I just

00:03:51,709 --> 00:03:57,680
I know how to use jQuery show I don't

00:03:54,980 --> 00:03:59,570
know how to like show and hide things so

00:03:57,680 --> 00:04:02,450
I'm like empathetic to it but I I maybe

00:03:59,570 --> 00:04:04,610
would want it to like focus that you

00:04:02,450 --> 00:04:06,320
shouldn't do this or like ping me and

00:04:04,610 --> 00:04:10,670
tell and I can explain them how they can

00:04:06,320 --> 00:04:11,780
do it correctly so like this previous

00:04:10,670 --> 00:04:13,579
one it just goes through like

00:04:11,780 --> 00:04:18,979
everything's green people are like great

00:04:13,579 --> 00:04:21,580
Mercer pull requests I like I said I

00:04:18,979 --> 00:04:25,580
would like for these to be flagged so I

00:04:21,580 --> 00:04:27,470
wrote this Probot that I gave it a

00:04:25,580 --> 00:04:32,150
little logo

00:04:27,470 --> 00:04:34,460
here's a logo with eyes emoji and so it

00:04:32,150 --> 00:04:36,650
just watches pull requests and when a

00:04:34,460 --> 00:04:38,630
poor cousin comes in it checks the diff

00:04:36,650 --> 00:04:41,620
and if somebody added I isn't disabled

00:04:38,630 --> 00:04:46,190
it will just comment right on there just

00:04:41,620 --> 00:04:48,289
please please don't there's a really

00:04:46,190 --> 00:04:51,289
great thing you can if you install Pro

00:04:48,289 --> 00:04:52,610
BOTS into your repositories you can give

00:04:51,289 --> 00:04:55,370
him convicts

00:04:52,610 --> 00:04:59,539
so my Probot you can change this message

00:04:55,370 --> 00:05:03,050
and like if you wanna if you wanna give

00:04:59,539 --> 00:05:04,610
him like a little image you can do that

00:05:03,050 --> 00:05:07,130
you can like at the team that should

00:05:04,610 --> 00:05:10,310
review this be like at the j/s team to

00:05:07,130 --> 00:05:12,460
be like you can you know you don't have

00:05:10,310 --> 00:05:16,400
to use jQuery show you can do this thing

00:05:12,460 --> 00:05:20,960
and yeah if they're like legitimate is

00:05:16,400 --> 00:05:24,199
lint disables this talk went by really

00:05:20,960 --> 00:05:28,550
fast you can find Probot on github robot

00:05:24,199 --> 00:05:32,380
dog awl and my Probot is on my github

00:05:28,550 --> 00:05:39,420
which is up there thank you

00:05:32,380 --> 00:05:39,420

YouTube URL: https://www.youtube.com/watch?v=JRSW4gdzEcg


