Title: Vienna.JS, Editing the World, September 2019
Publication date: 2019-10-02
Playlist: viennaJS
Description: 
	Talk By Julian Krispel-Samsel

Ever wondered how to implement editors in the browser? What about repeatable and reversible changes, rich text, syntax highlighting, mixing text with arbitrary content or god forbid - editing recursive data structures as text? Julian has been obsessing over questions like these for a few years now and is ready to share and discuss his findings. Expect demos, code examples, some talk about design, lots of opinions and maybe even a little fun! To get the most out of this talk familiarity with JavaScript and React are required.
Captions: 
	00:00:00,030 --> 00:00:09,510
so hi I'm Julian that's my name

00:00:05,130 --> 00:00:13,849
I build editing experiences I'm a

00:00:09,510 --> 00:00:17,430
freelancer of sorts and what I mostly do

00:00:13,849 --> 00:00:23,130
at work is build editors for companies

00:00:17,430 --> 00:00:29,220
startups mostly startups so and I do

00:00:23,130 --> 00:00:32,040
that with JavaScript and in browsers I'm

00:00:29,220 --> 00:00:33,570
also a member of the draft chair school

00:00:32,040 --> 00:00:36,570
team I don't know have you guys heard of

00:00:33,570 --> 00:00:45,980
draft just before hands up who's heard

00:00:36,570 --> 00:00:49,620
of draft Jess mmm okay and I maintained

00:00:45,980 --> 00:00:53,460
draft chess plugins I'm sort of trying

00:00:49,620 --> 00:01:00,480
to I'm recruiting someone at the moment

00:00:53,460 --> 00:01:03,899
who's he'll take over yeah I I like I'm

00:01:00,480 --> 00:01:08,970
into building editing experiences I love

00:01:03,899 --> 00:01:11,790
that stuff and I mostly do that

00:01:08,970 --> 00:01:14,250
freelance but I mean I say mostly but

00:01:11,790 --> 00:01:17,340
also I do other stuff as well right now

00:01:14,250 --> 00:01:22,530
I'm in a full-stack role somewhere in

00:01:17,340 --> 00:01:25,170
London so the thing with editing a

00:01:22,530 --> 00:01:28,680
building editing experiences for the

00:01:25,170 --> 00:01:30,780
browsers you mostly need to use content

00:01:28,680 --> 00:01:35,840
editable I have who's heard of content

00:01:30,780 --> 00:01:38,250
editable hands up yeah who's tried to

00:01:35,840 --> 00:01:40,740
implement an editor with content

00:01:38,250 --> 00:01:49,770
editable and JavaScript themselves yeah

00:01:40,740 --> 00:01:57,810
and who who found it fun oh let's talk

00:01:49,770 --> 00:02:00,600
more yeah so content editable is sort of

00:01:57,810 --> 00:02:04,380
fun it was originally developed by

00:02:00,600 --> 00:02:06,110
Microsoft for from page who's used from

00:02:04,380 --> 00:02:08,539
page

00:02:06,110 --> 00:02:15,810
remember the days

00:02:08,539 --> 00:02:20,280
when it was easy sort of so yet so they

00:02:15,810 --> 00:02:22,440
basically they were like well let's make

00:02:20,280 --> 00:02:25,319
our websites editable in the browser

00:02:22,440 --> 00:02:27,989
just like wither like put a tag on a

00:02:25,319 --> 00:02:32,849
content editable tag and then you can

00:02:27,989 --> 00:02:33,420
edit and ie was really popular at

00:02:32,849 --> 00:02:38,750
the time

00:02:33,420 --> 00:02:42,090
so everybody copied it Safari copied it

00:02:38,750 --> 00:02:45,030
Mozilla Firefox copied it and eventually

00:02:42,090 --> 00:02:47,099
chrome implemented as implemented to

00:02:45,030 --> 00:02:50,390
this world but the thing is there wasn't

00:02:47,099 --> 00:02:54,140
the spec so nobody really knew how to

00:02:50,390 --> 00:02:56,310
implement it so they just kind of try to

00:02:54,140 --> 00:02:59,790
reverse-engineer it and implement it

00:02:56,310 --> 00:03:04,739
like implement their own version and

00:02:59,790 --> 00:03:06,780
that's a problem because now we have all

00:03:04,739 --> 00:03:08,879
these brow like every browser behaves

00:03:06,780 --> 00:03:11,569
differently and it's super inconsistent

00:03:08,879 --> 00:03:15,389
and it's still this to this day actually

00:03:11,569 --> 00:03:18,299
the doubly free spec for content

00:03:15,389 --> 00:03:20,010
editable so the standard for content

00:03:18,299 --> 00:03:23,160
editable is being developed right now

00:03:20,010 --> 00:03:26,940
and that's what almost 20 years later

00:03:23,160 --> 00:03:29,389
it's insane but it's getting there so

00:03:26,940 --> 00:03:29,389
that's a good thing

00:03:29,669 --> 00:03:38,629
so draft chess is basically this

00:03:35,190 --> 00:03:43,769
framework developed by Facebook for

00:03:38,629 --> 00:03:50,940
their their editor in Facebook so when

00:03:43,769 --> 00:03:53,790
you when you post a status update or do

00:03:50,940 --> 00:03:57,180
any kind of rich text we you can add a

00:03:53,790 --> 00:03:58,919
mention and stuff like that that's draft

00:03:57,180 --> 00:04:00,599
yes that's powered by draft yes and

00:03:58,919 --> 00:04:03,060
that's and draft GS is basically an

00:04:00,599 --> 00:04:10,310
attempt to make content editable play

00:04:03,060 --> 00:04:12,540
nice so it's it's very it's very good

00:04:10,310 --> 00:04:14,160
it's very good it's actively used at

00:04:12,540 --> 00:04:16,260
Facebook so it's got to be well tested

00:04:14,160 --> 00:04:20,729
right Facebook has like a pretty large

00:04:16,260 --> 00:04:21,200
user base the stable release takes care

00:04:20,729 --> 00:04:25,400
of most

00:04:21,200 --> 00:04:29,180
contenteditable quirks and it has a

00:04:25,400 --> 00:04:34,280
large community around it that sort of

00:04:29,180 --> 00:04:41,270
got well that sort of got what got me

00:04:34,280 --> 00:04:46,700
into coding editors with react in the

00:04:41,270 --> 00:04:48,500
browser but there the thing is I've been

00:04:46,700 --> 00:04:52,430
doing that for a while now and I've also

00:04:48,500 --> 00:04:56,060
used alternative frameworks when it

00:04:52,430 --> 00:04:57,530
comes to developing browser like editors

00:04:56,060 --> 00:04:59,720
in the browser of react there's only

00:04:57,530 --> 00:05:02,510
there's really only two choices one is

00:04:59,720 --> 00:05:07,550
draft yes the other is slate Jess who's

00:05:02,510 --> 00:05:09,170
heard of slate yes yeah nice one

00:05:07,550 --> 00:05:13,520
today chess was really cool by the way

00:05:09,170 --> 00:05:18,070
worth checking out it's who's heard of

00:05:13,520 --> 00:05:23,780
segments the the company segment IO the

00:05:18,070 --> 00:05:26,780
founder in the instant tailor that's him

00:05:23,780 --> 00:05:29,330
he slaved away at Slate GS which is like

00:05:26,780 --> 00:05:32,170
an alternative to draft reyes and has

00:05:29,330 --> 00:05:34,250
built a huge community around it and

00:05:32,170 --> 00:05:36,050
they're really they're progressing

00:05:34,250 --> 00:05:38,240
really fast and catching up with draft

00:05:36,050 --> 00:05:40,070
yes and probably surpassing draft chess

00:05:38,240 --> 00:05:45,020
because one of the problem with draft

00:05:40,070 --> 00:05:48,500
Jess is that it's kind of falling out of

00:05:45,020 --> 00:05:50,690
favor internally at Facebook at least

00:05:48,500 --> 00:05:54,320
that's what it seems like to me because

00:05:50,690 --> 00:05:56,450
it's not getting a lot of love it's

00:05:54,320 --> 00:05:59,420
hardly ever updated

00:05:56,450 --> 00:06:03,320
yeah and among that look that's one

00:05:59,420 --> 00:06:05,540
problem but also its massive it's 147

00:06:03,320 --> 00:06:09,610
kilobyte minified it depends on

00:06:05,540 --> 00:06:13,640
immutable J's and yeah it has an account

00:06:09,610 --> 00:06:16,250
complicated and flexible API so really

00:06:13,640 --> 00:06:20,480
it's like an internal tool that they

00:06:16,250 --> 00:06:25,480
open sourced and it has limited use I'd

00:06:20,480 --> 00:06:28,250
say yeah and the open source repository

00:06:25,480 --> 00:06:32,500
I've become a little bit frustrated with

00:06:28,250 --> 00:06:32,500
the draft J's as a project because

00:06:33,010 --> 00:06:39,020
that it doesn't seem to be very well

00:06:37,400 --> 00:06:42,140
maintained by face we could hardly ever

00:06:39,020 --> 00:06:44,090
gets updated there have been plans to

00:06:42,140 --> 00:06:46,700
introduce certain features that the

00:06:44,090 --> 00:06:50,780
community was eagerly awaiting and

00:06:46,700 --> 00:06:52,850
they've never been implemented and so

00:06:50,780 --> 00:06:56,750
for what that meant from my freelance

00:06:52,850 --> 00:06:58,100
work is that I couldn't really recommend

00:06:56,750 --> 00:07:00,200
draft Jess anymore

00:06:58,100 --> 00:07:10,300
because it lacked some of the features

00:07:00,200 --> 00:07:16,180
that my clients needed so I basically

00:07:10,300 --> 00:07:21,200
started working started thinking about

00:07:16,180 --> 00:07:22,850
how can I can I can I do this from

00:07:21,200 --> 00:07:26,270
scratch can i implement something from

00:07:22,850 --> 00:07:29,360
scratch that's better just as like you

00:07:26,270 --> 00:07:34,730
know off the caff thought experiment

00:07:29,360 --> 00:07:38,570
like in the shower or on the way to work

00:07:34,730 --> 00:07:41,660
or and it's it's been bugging me and

00:07:38,570 --> 00:07:45,919
it's I've been obsessing over it and in

00:07:41,660 --> 00:07:51,860
my spare time I've now arrived at my

00:07:45,919 --> 00:07:56,540
third attempt at at working out a

00:07:51,860 --> 00:08:00,500
solution so let me take a step back and

00:07:56,540 --> 00:08:03,440
explain how this solution is addressing

00:08:00,500 --> 00:08:07,280
the problems that one of the things with

00:08:03,440 --> 00:08:08,840
draft Jess is that it's and slate yes as

00:08:07,280 --> 00:08:10,490
well and a lot of other editing

00:08:08,840 --> 00:08:15,950
frameworks is that it's based on tree

00:08:10,490 --> 00:08:18,440
structures so here's here's a that's a

00:08:15,950 --> 00:08:22,700
very simplified tree structure here you

00:08:18,440 --> 00:08:26,960
have on the right-hand side you have the

00:08:22,700 --> 00:08:30,919
representation in text like say that's

00:08:26,960 --> 00:08:34,370
your WYSIWYG editor and on the Lexx on

00:08:30,919 --> 00:08:39,620
the left you have the state object right

00:08:34,370 --> 00:08:44,420
so there's one line and another line and

00:08:39,620 --> 00:08:49,899
then there's a nested line as well and

00:08:44,420 --> 00:08:52,249
the problem with that is it any kind of

00:08:49,899 --> 00:08:57,949
operation you make in this WYSIWYG

00:08:52,249 --> 00:09:02,899
editor is like let's say for example I

00:08:57,949 --> 00:09:09,589
want to delete this or insert something

00:09:02,899 --> 00:09:11,600
here any kind of manipulation you make

00:09:09,589 --> 00:09:13,879
through that text you need to you need

00:09:11,600 --> 00:09:15,470
to be able to synchronize that with your

00:09:13,879 --> 00:09:18,679
your tree structure here and that's

00:09:15,470 --> 00:09:22,309
super complicated because say say I do

00:09:18,679 --> 00:09:28,699
this I I delete this bit of text what's

00:09:22,309 --> 00:09:32,689
happening here is that this folds into

00:09:28,699 --> 00:09:37,879
one so what would it would look like

00:09:32,689 --> 00:09:41,170
that kind of and in draft chess and

00:09:37,879 --> 00:09:44,480
sleigh chess what they do to make this a

00:09:41,170 --> 00:09:49,869
replayable action like an atomic action

00:09:44,480 --> 00:09:53,119
is they well they use immutable J's

00:09:49,869 --> 00:09:56,509
because because they can just copy the

00:09:53,119 --> 00:09:58,970
state manipulate it and they won't use

00:09:56,509 --> 00:10:00,980
up too much space because it's an

00:09:58,970 --> 00:10:04,009
immutable data structure I could go into

00:10:00,980 --> 00:10:09,980
a mutable data structure now but I'm

00:10:04,009 --> 00:10:11,869
just phone I'm sorry all you need to

00:10:09,980 --> 00:10:15,799
know it's it's super complicated to

00:10:11,869 --> 00:10:19,790
update this to make updates like this to

00:10:15,799 --> 00:10:26,269
map text updates to to updates in the

00:10:19,790 --> 00:10:31,160
tree structure but the thing is updating

00:10:26,269 --> 00:10:36,439
text itself is super easy so what if you

00:10:31,160 --> 00:10:40,579
made a and edit here and it would

00:10:36,439 --> 00:10:42,619
actually translate into a like editing a

00:10:40,579 --> 00:10:46,220
bit of text if the data structure was

00:10:42,619 --> 00:10:49,189
acts to actually text as well as the the

00:10:46,220 --> 00:10:54,129
the view structure then it wouldn't be

00:10:49,189 --> 00:10:57,220
complicated so for example let's say

00:10:54,129 --> 00:11:03,660
doing this

00:10:57,220 --> 00:11:03,660
I can just edit this text here tada

00:11:04,199 --> 00:11:11,019
this is my model and that's kind of

00:11:08,440 --> 00:11:14,259
that's the fault experiment that I had

00:11:11,019 --> 00:11:19,959
right this will all make more sense very

00:11:14,259 --> 00:11:23,970
soon so give me a moment this is the

00:11:19,959 --> 00:11:25,930
thing I'm working on it's called settle

00:11:23,970 --> 00:11:28,740
it's written in typescript

00:11:25,930 --> 00:11:34,810
this should be an emoji but it's not

00:11:28,740 --> 00:11:38,860
it's tiny it's like ten times smaller

00:11:34,810 --> 00:11:41,220
than any of its alternatives oh that

00:11:38,860 --> 00:11:45,490
should be an emoji

00:11:41,220 --> 00:11:47,529
damn it has zero dependencies and the

00:11:45,490 --> 00:11:49,870
state module can be used with any

00:11:47,529 --> 00:11:52,810
framework so right now I'm using react

00:11:49,870 --> 00:11:55,750
to develop stuff but it can be can be

00:11:52,810 --> 00:11:57,730
I've tried it with spelt I made a little

00:11:55,750 --> 00:12:01,899
prototype that's felt I made a little

00:11:57,730 --> 00:12:04,990
tiny little prototype of UGS that seemed

00:12:01,899 --> 00:12:07,889
to work as well so the the main part of

00:12:04,990 --> 00:12:12,009
settle is a model that you update and

00:12:07,889 --> 00:12:17,560
then and then you use it to render

00:12:12,009 --> 00:12:20,019
review yeah and I'm like one thing that

00:12:17,560 --> 00:12:23,500
really annoyed me about both draft juice

00:12:20,019 --> 00:12:27,250
and slate juice that is that it's very

00:12:23,500 --> 00:12:30,850
very complex it has a huge ape they both

00:12:27,250 --> 00:12:32,259
have huge api's and bad documentation

00:12:30,850 --> 00:12:36,579
and that's something I'd like to improve

00:12:32,259 --> 00:12:41,309
on let's see if I succeed also the cool

00:12:36,579 --> 00:12:44,829
thing and that's the thing I'm really

00:12:41,309 --> 00:12:48,130
keen on with Dettol is that change

00:12:44,829 --> 00:12:50,980
changes our atomic there replayable and

00:12:48,130 --> 00:12:54,639
serializable they're like they can be a

00:12:50,980 --> 00:12:58,629
bit of Jason that is send to a server or

00:12:54,639 --> 00:12:59,649
a across you know with a push

00:12:58,629 --> 00:13:05,680
notification or something like that

00:12:59,649 --> 00:13:07,750
right so a quick disclaimer Zettler not

00:13:05,680 --> 00:13:10,140
production-ready I'm the only one

00:13:07,750 --> 00:13:12,240
working on it it has intentional

00:13:10,140 --> 00:13:14,430
very little task test coverage right now

00:13:12,240 --> 00:13:17,070
because I'm like developing it it's it's

00:13:14,430 --> 00:13:21,900
it's a framework then I I'm sharing

00:13:17,070 --> 00:13:23,550
work-in-progress with you basically this

00:13:21,900 --> 00:13:25,470
is how that's so let's get to the meat

00:13:23,550 --> 00:13:27,600
of this this is how the the change

00:13:25,470 --> 00:13:31,260
object looks like and this is how you

00:13:27,600 --> 00:13:35,130
can represent any change in settle and

00:13:31,260 --> 00:13:41,550
it's that simple you have that stop this

00:13:35,130 --> 00:13:45,630
is a selection start and value and value

00:13:41,550 --> 00:13:50,580
is basically as a representation of a

00:13:45,630 --> 00:13:53,370
string like hello so let me give you an

00:13:50,580 --> 00:13:58,650
example this is how you change the

00:13:53,370 --> 00:14:04,430
selection so starts and free that would

00:13:58,650 --> 00:14:04,430
basically mean what is it one two three

00:14:07,040 --> 00:14:12,900
three four five six seven eight

00:14:10,470 --> 00:14:19,140
that would be the selection that

00:14:12,900 --> 00:14:22,260
represents inserting text so I'm

00:14:19,140 --> 00:14:27,990
inserting at position free they insert

00:14:22,260 --> 00:14:30,600
hello Vienna replacing text start and

00:14:27,990 --> 00:14:36,740
end value are different and I'm

00:14:30,600 --> 00:14:39,780
replacing that range with goodbye Vienna

00:14:36,740 --> 00:14:42,960
that's an example of inserting style

00:14:39,780 --> 00:14:48,120
text so here you have characters

00:14:42,960 --> 00:14:55,200
represented as an object that has a

00:14:48,120 --> 00:14:59,670
chart property and styles property here

00:14:55,200 --> 00:15:03,300
that's how you insert a new block so in

00:14:59,670 --> 00:15:05,760
this model the start of a block and the

00:15:03,300 --> 00:15:09,390
end of a blocked block our character as

00:15:05,760 --> 00:15:14,670
well and that's how I map a tree

00:15:09,390 --> 00:15:17,040
structure to a flat structure and which

00:15:14,670 --> 00:15:18,690
makes it super e so which makes it super

00:15:17,040 --> 00:15:20,860
easy to

00:15:18,690 --> 00:15:22,480
manipulate the tree structure because

00:15:20,860 --> 00:15:24,520
you're not you're not having to think

00:15:22,480 --> 00:15:26,680
about a tree structure you only you only

00:15:24,520 --> 00:15:30,150
ever think about updating a flat

00:15:26,680 --> 00:15:32,980
structure a string or an array right

00:15:30,150 --> 00:15:43,170
this is an example of inserting a custom

00:15:32,980 --> 00:15:47,700
block like a YouTube embed right okay so

00:15:43,170 --> 00:15:53,350
that was all a very hand wavy like

00:15:47,700 --> 00:15:56,710
example blood type stuff so hopefully

00:15:53,350 --> 00:16:00,640
this will make more sense if I now show

00:15:56,710 --> 00:16:05,470
you something some examples by the way

00:16:00,640 --> 00:16:05,890
how are we doing for time five more

00:16:05,470 --> 00:16:09,940
minutes

00:16:05,890 --> 00:16:14,050
it sounds about right I have no

00:16:09,940 --> 00:16:15,250
internet I guess I could use a my oh

00:16:14,050 --> 00:16:17,290
never mind

00:16:15,250 --> 00:16:21,190
it's just that image imagine there's an

00:16:17,290 --> 00:16:25,000
image here anyway it's not about the

00:16:21,190 --> 00:16:28,240
image so here are examples they're

00:16:25,000 --> 00:16:45,040
examples of for example how I've

00:16:28,240 --> 00:16:48,790
implemented rich text okay let me go in

00:16:45,040 --> 00:16:56,100
here I've got little surprise here as

00:16:48,790 --> 00:16:58,630
well so here's an example of a plain

00:16:56,100 --> 00:17:02,230
plain text editor let's start with that

00:16:58,630 --> 00:17:06,070
plain text so this is where I can do

00:17:02,230 --> 00:17:15,870
stuff like you would expect in any

00:17:06,070 --> 00:17:20,430
normal editor and the theme which v/o

00:17:15,870 --> 00:17:20,430
this phim is it how to read is it

00:17:23,710 --> 00:17:33,700
is that better yeah sorry I didn't know

00:17:28,270 --> 00:17:36,600
it was that low contrast is it easy to

00:17:33,700 --> 00:17:39,610
change the feel hold on

00:17:36,600 --> 00:17:48,960
are you sure I don't how do you change

00:17:39,610 --> 00:17:48,960
the team years code theme theme firm

00:17:49,770 --> 00:17:57,160
color theme light Visual Studio is that

00:17:56,620 --> 00:18:06,730
better

00:17:57,160 --> 00:18:11,110
yes thanks that's it bye no okay right

00:18:06,730 --> 00:18:16,240
so here we are again where we write this

00:18:11,110 --> 00:18:16,780
is so here's some code we don't need

00:18:16,240 --> 00:18:19,720
that

00:18:16,780 --> 00:18:21,760
here's ignore this by the way I've been

00:18:19,720 --> 00:18:25,540
playing around with different names I

00:18:21,760 --> 00:18:26,920
was gonna call it editable first I call

00:18:25,540 --> 00:18:29,410
it settled and I call it editable

00:18:26,920 --> 00:18:30,910
I think I'm reverting back to Z at all

00:18:29,410 --> 00:18:33,250
because I just was kind of too generic

00:18:30,910 --> 00:18:35,220
and a friend of mine said you wouldn't

00:18:33,250 --> 00:18:38,200
be able to it's not recognized

00:18:35,220 --> 00:18:41,520
recognizable enough for Solana if you

00:18:38,200 --> 00:18:45,700
have an idea for a good name let me know

00:18:41,520 --> 00:18:53,290
anyway so here's my raw editor state and

00:18:45,700 --> 00:18:58,030
it's just some text and I use my editor

00:18:53,290 --> 00:19:00,670
state object to and I use it with EU

00:18:58,030 --> 00:19:04,020
state hook if you guys are familiar with

00:19:00,670 --> 00:19:10,420
I hope you guys are familiar with react

00:19:04,020 --> 00:19:13,900
and then I render my editor and it

00:19:10,420 --> 00:19:18,430
basically receives an editor state prop

00:19:13,900 --> 00:19:22,830
and a non change prop on change updates

00:19:18,430 --> 00:19:26,820
the editor everytime I I edit the text

00:19:22,830 --> 00:19:34,390
I'll do anything with the text

00:19:26,820 --> 00:19:39,700
so let's see look have a look at italic

00:19:34,390 --> 00:19:43,120
and bold so right now the thing with

00:19:39,700 --> 00:19:47,070
this framework is what's annoyed me so

00:19:43,120 --> 00:19:49,780
much about draft chairs for example is

00:19:47,070 --> 00:19:54,760
that draft choice is not very

00:19:49,780 --> 00:19:57,190
customizable or it's very hard to and in

00:19:54,760 --> 00:20:00,190
some edge cases like it's impossible

00:19:57,190 --> 00:20:03,570
like if you if you were to combine draft

00:20:00,190 --> 00:20:06,130
chess with a compiler for example and

00:20:03,570 --> 00:20:09,460
wanted to provide syntax highlight

00:20:06,130 --> 00:20:11,830
highlighting for up for like your custom

00:20:09,460 --> 00:20:14,740
language it wouldn't let you do that and

00:20:11,830 --> 00:20:19,570
this lets you do everything you can you

00:20:14,740 --> 00:20:22,510
can control the rendering of every part

00:20:19,570 --> 00:20:25,710
of your editor whether it's a text

00:20:22,510 --> 00:20:31,350
fragment or a block or the editor itself

00:20:25,710 --> 00:20:36,790
and here you can see there's a prop for

00:20:31,350 --> 00:20:41,770
intercepting the key down event and

00:20:36,790 --> 00:20:44,050
there's a render prop for for the style

00:20:41,770 --> 00:20:48,520
element so that's how I'm rendering

00:20:44,050 --> 00:20:50,950
strong italic and underlined but

00:20:48,520 --> 00:20:56,010
obviously you could replace this with

00:20:50,950 --> 00:20:58,450
whatever you come you want really and

00:20:56,010 --> 00:21:00,870
that's how I want it to be that it does

00:20:58,450 --> 00:21:05,940
it comes with very little default

00:21:00,870 --> 00:21:12,100
settings the framework and you basically

00:21:05,940 --> 00:21:15,310
you add the defaults yourself right so

00:21:12,100 --> 00:21:19,240
that's that's all that bit works that's

00:21:15,310 --> 00:21:20,860
italic and bold let's have a look at

00:21:19,240 --> 00:21:25,470
block styling oh yeah there you go

00:21:20,860 --> 00:21:32,730
there's some headlines super impressive

00:21:25,470 --> 00:21:32,730
but what that basically does is

00:21:33,410 --> 00:21:44,090
that they go here's how you how you mark

00:21:40,460 --> 00:21:47,700
blocks as having different styles and

00:21:44,090 --> 00:21:56,610
then here's where I update the editor

00:21:47,700 --> 00:22:00,120
state to two toggled classes to do it's

00:21:56,610 --> 00:22:05,130
all its it's not like a ton of code I

00:22:00,120 --> 00:22:10,100
guess but let me get let me get I'm just

00:22:05,130 --> 00:22:15,330
gonna show you the tree

00:22:10,100 --> 00:22:20,300
so this is where settle it becomes

00:22:15,330 --> 00:22:20,300
really powerful because because of this

00:22:20,480 --> 00:22:27,090
the shape of the state because it's just

00:22:23,700 --> 00:22:28,920
text and because because text is easier

00:22:27,090 --> 00:22:35,370
to think about then a tree structure for

00:22:28,920 --> 00:22:38,490
example you can you can map edits to

00:22:35,370 --> 00:22:46,860
text and everything will work as

00:22:38,490 --> 00:22:49,380
expected so all these all these editing

00:22:46,860 --> 00:22:55,380
operations they kind of they kind of

00:22:49,380 --> 00:22:57,750
come almost free with with a model like

00:22:55,380 --> 00:23:01,050
that whereas if you had an immutable

00:22:57,750 --> 00:23:06,120
data structure or a tree structure the

00:23:01,050 --> 00:23:07,560
updates will be much more complicated so

00:23:06,120 --> 00:23:15,300
this tree could be anything you can

00:23:07,560 --> 00:23:22,320
literally see a tree so that's all the

00:23:15,300 --> 00:23:25,620
tree structure is right now and I'm just

00:23:22,320 --> 00:23:29,610
rendering the blocks here adding the

00:23:25,620 --> 00:23:34,920
class name of tree node to to draw these

00:23:29,610 --> 00:23:37,680
little lines around the blocks and

00:23:34,920 --> 00:23:39,840
that's it but you could have for example

00:23:37,680 --> 00:23:43,260
you could build like a document editing

00:23:39,840 --> 00:23:45,630
experience rich document editing

00:23:43,260 --> 00:23:46,200
experience I don't know if you guys have

00:23:45,630 --> 00:23:49,920
ever heard of

00:23:46,200 --> 00:23:54,570
workflowy workflowy kind of product or

00:23:49,920 --> 00:24:00,090
or a drop box paper kind of product the

00:23:54,570 --> 00:24:02,640
possibilities are really vast and you

00:24:00,090 --> 00:24:04,550
can mix and match this with with

00:24:02,640 --> 00:24:10,110
different types of content whether it's

00:24:04,550 --> 00:24:12,930
video or images or whatever I'm working

00:24:10,110 --> 00:24:19,350
on a prototype with SVG editing right

00:24:12,930 --> 00:24:22,650
now right now I hope I'm not running

00:24:19,350 --> 00:24:32,750
over too much because I have a little

00:24:22,650 --> 00:24:38,640
bit of life coding here so let me just

00:24:32,750 --> 00:24:42,000
show you how I'm just going to implement

00:24:38,640 --> 00:24:50,430
like a quick live markdown editing

00:24:42,000 --> 00:24:54,930
experience so let's say what I'm doing

00:24:50,430 --> 00:24:57,900
here is I'm getting the text of a

00:24:54,930 --> 00:25:01,050
particular block now I'm checking if the

00:24:57,900 --> 00:25:04,980
text starts with a particular string and

00:25:01,050 --> 00:25:09,600
if it does I'm returning a the

00:25:04,980 --> 00:25:10,920
correlating element so yeah that's it

00:25:09,600 --> 00:25:17,100
that's how easy it is with this

00:25:10,920 --> 00:25:22,740
framework really so let's say I'm doing

00:25:17,100 --> 00:25:31,130
that right that's h1 yeah boom

00:25:22,740 --> 00:25:31,130
h1 okay let's do the same thing for a h2

00:25:34,010 --> 00:25:37,370
page free

00:25:41,190 --> 00:25:54,100
oops - - indeed

00:25:46,990 --> 00:25:58,960
let's at add a let's say what if text

00:25:54,100 --> 00:25:59,650
equals something like this will return a

00:25:58,960 --> 00:26:07,330
headshot

00:25:59,650 --> 00:26:21,800
oh we need to close that I think right

00:26:07,330 --> 00:26:25,430
so here's h1 h2 h3 and it ah that's it

00:26:21,800 --> 00:26:25,430

YouTube URL: https://www.youtube.com/watch?v=HyxyUFNKCyI


