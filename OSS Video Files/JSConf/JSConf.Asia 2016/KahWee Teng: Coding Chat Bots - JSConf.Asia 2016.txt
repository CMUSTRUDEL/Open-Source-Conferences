Title: KahWee Teng: Coding Chat Bots - JSConf.Asia 2016
Publication date: 2016-12-18
Playlist: JSConf.Asia 2016
Description: 
	Bots are a new way to interface with services and businesses. In today’s landscape, there’s Alexa, Facebook Messenger, Slack and more. Let’s see how we can code and test chat bots efficiently using natural language tools.

KahWee is a Singaporean web technologist in the ad industry and is living in San Francisco.


JSConf.Asia - Capitol Theatre, Singapore - 25+26 November 2016.

Source: https://2016.jsconf.asia/
Slides: https://speakerdeck.com/kahwee/coding-chatbots-in-node-dot-js
Demo: https://github.com/kahwee/ranka-jsconfasia

License: For reuse of this video under a more permissive license please get in touch with us. The speakers retain the copyright for their performances.
Captions: 
	00:00:01,140 --> 00:00:23,359
[Music]

00:00:19,869 --> 00:00:25,249
thanks Justine and organized this today

00:00:23,359 --> 00:00:27,800
I'm gonna talk about coding chatbots in

00:00:25,249 --> 00:00:32,689
no js' so show of hands how many people

00:00:27,800 --> 00:00:35,510
here build a chat bought before I can't

00:00:32,689 --> 00:00:37,610
see very well but I do see a few hands

00:00:35,510 --> 00:00:42,650
in front anybody is planning to build a

00:00:37,610 --> 00:00:45,140
chat board okay a fear okay so this are

00:00:42,650 --> 00:00:48,650
my lessons learned while I was trying to

00:00:45,140 --> 00:00:49,070
build a chat board and hi my name is

00:00:48,650 --> 00:00:52,610
khari

00:00:49,070 --> 00:00:54,800
and I'm a JavaScript developer for the

00:00:52,610 --> 00:00:57,530
past five years and work for tremor Vito

00:00:54,800 --> 00:01:00,290
San Francisco which is an via video

00:00:57,530 --> 00:01:04,220
advertising company and I work on nodejs

00:01:00,290 --> 00:01:06,679
tools to recompile animate CC outputs

00:01:04,220 --> 00:01:10,880
into JavaScript interactive

00:01:06,679 --> 00:01:15,409
advertisements and I also am responsible

00:01:10,880 --> 00:01:17,899
for the web USG chat bot so you could

00:01:15,409 --> 00:01:20,960
try you could try talking to reboot SG

00:01:17,899 --> 00:01:25,039
and just ask something like what are the

00:01:20,960 --> 00:01:27,079
upcoming events and you you know that's

00:01:25,039 --> 00:01:29,959
how I got started into chat BOTS and I

00:01:27,079 --> 00:01:32,389
got started when Facebook just released

00:01:29,959 --> 00:01:36,740
the Facebook ape messaging API and

00:01:32,389 --> 00:01:39,109
Suhani who worked on reboot SG shared

00:01:36,740 --> 00:01:42,590
with me her interest in trying to build

00:01:39,109 --> 00:01:44,649
a chat bot for we boot and that's how I

00:01:42,590 --> 00:01:47,869
got started you know I wanted to explore

00:01:44,649 --> 00:01:50,389
Facebook messaging and she had

00:01:47,869 --> 00:01:51,950
conveniently got a really good API which

00:01:50,389 --> 00:01:54,740
if you haven't already checked out you

00:01:51,950 --> 00:01:58,459
should it's a local community event

00:01:54,740 --> 00:02:04,429
finder and that she on also mentioned

00:01:58,459 --> 00:02:07,159
yesterday so I also like sushi yay yay

00:02:04,429 --> 00:02:09,170
for sushi so what is the chat board

00:02:07,159 --> 00:02:11,540
so a chat bar is designed to perform

00:02:09,170 --> 00:02:13,420
tasks via chat user interface that

00:02:11,540 --> 00:02:15,730
typically is texts enable

00:02:13,420 --> 00:02:17,470
an example of tech symbol enabled chat

00:02:15,730 --> 00:02:20,740
bot would be Facebook Messenger and

00:02:17,470 --> 00:02:22,030
slack there are some voice enabled ones

00:02:20,740 --> 00:02:26,170
such as cantana

00:02:22,030 --> 00:02:28,990
and Amazon echo and but to me I see them

00:02:26,170 --> 00:02:31,209
as personal assistants that perform one

00:02:28,990 --> 00:02:34,150
or two thousand credibly well under the

00:02:31,209 --> 00:02:36,310
given constraints so why then should you

00:02:34,150 --> 00:02:38,500
build a chat board it reduces the

00:02:36,310 --> 00:02:40,720
proximity between customers and

00:02:38,500 --> 00:02:42,520
businesses these days we are noticing a

00:02:40,720 --> 00:02:45,209
trend that business are trying to get as

00:02:42,520 --> 00:02:49,360
close as possible using technology an

00:02:45,209 --> 00:02:51,940
example of this would be that kya is

00:02:49,360 --> 00:02:55,780
using the Apple watch a device that is

00:02:51,940 --> 00:02:58,420
on your risk to surface our trip

00:02:55,780 --> 00:03:00,850
information and you can also ask Alexa

00:02:58,420 --> 00:03:02,920
to order an uber now and you can say

00:03:00,850 --> 00:03:05,680
something like Alexa a scoobert to

00:03:02,920 --> 00:03:08,650
request an uberx to Amazon echo and it

00:03:05,680 --> 00:03:10,900
does this task that is under this

00:03:08,650 --> 00:03:12,430
constraint is really really well and of

00:03:10,900 --> 00:03:15,670
course there's some you can also order a

00:03:12,430 --> 00:03:21,850
pizza you can all a Domino's Pizza with

00:03:15,670 --> 00:03:23,739
facebook Messenger and you know so today

00:03:21,850 --> 00:03:26,230
businesses are competing on customer

00:03:23,739 --> 00:03:28,630
attention span over other businesses so

00:03:26,230 --> 00:03:32,500
comScore found out that the average

00:03:28,630 --> 00:03:36,130
Americans devote half the app time to a

00:03:32,500 --> 00:03:40,570
single app and on a separate study you

00:03:36,130 --> 00:03:42,489
have Manasseh buret study by business

00:03:40,570 --> 00:03:45,670
intelligence you have messaging app

00:03:42,489 --> 00:03:48,160
surpassing social networks in terms of

00:03:45,670 --> 00:03:50,049
active users and chat BOTS works as

00:03:48,160 --> 00:03:52,239
customers already in the messaging

00:03:50,049 --> 00:03:54,370
applications themselves so for you guys

00:03:52,239 --> 00:03:56,110
who a lot of you guys might be using

00:03:54,370 --> 00:03:59,799
something like Facebook Messenger or

00:03:56,110 --> 00:04:02,500
you're using cake you already have the

00:03:59,799 --> 00:04:05,079
app on and now it's encroaching into

00:04:02,500 --> 00:04:08,110
your personal space so which is not so

00:04:05,079 --> 00:04:09,489
good but also good for businesses chat

00:04:08,110 --> 00:04:11,230
BOTS are yet another way to get to your

00:04:09,489 --> 00:04:13,600
customers so today we are going to talk

00:04:11,230 --> 00:04:15,010
about three things and instead of me

00:04:13,600 --> 00:04:17,320
telling you how to code a facebook

00:04:15,010 --> 00:04:19,690
Messenger app or kik messenger or you

00:04:17,320 --> 00:04:22,210
know using Skype I'm gonna tell you my

00:04:19,690 --> 00:04:25,360
experience in going through coding a

00:04:22,210 --> 00:04:27,280
chat bot and number one I'm gonna tell

00:04:25,360 --> 00:04:30,460
you how is it like honest

00:04:27,280 --> 00:04:32,860
the receiving messaging from the chat

00:04:30,460 --> 00:04:35,800
services meaning how to integrate with

00:04:32,860 --> 00:04:37,840
chat services and then also talking

00:04:35,800 --> 00:04:40,990
about how every chat services have a

00:04:37,840 --> 00:04:43,450
slightly differing API so how to exploit

00:04:40,990 --> 00:04:46,030
it and how to learn more about it second

00:04:43,450 --> 00:04:47,320
is to comprehend the users input you

00:04:46,030 --> 00:04:49,450
need to figure out what the user is

00:04:47,320 --> 00:04:53,919
trying what the intention is and number

00:04:49,450 --> 00:04:56,040
three is responding to the user so first

00:04:53,919 --> 00:04:59,320
is to figure out the integration part

00:04:56,040 --> 00:05:02,980
your go-to thing is to read the

00:04:59,320 --> 00:05:05,710
documentation which tend to you know be

00:05:02,980 --> 00:05:08,650
a bit confusing sometimes what I did is

00:05:05,710 --> 00:05:11,610
to start by using request actually

00:05:08,650 --> 00:05:14,590
request bin so if you go to this URL

00:05:11,610 --> 00:05:17,770
that's how I learned how to start doing

00:05:14,590 --> 00:05:21,490
slacks outgoing web hook and you can see

00:05:17,770 --> 00:05:23,530
that in slack you have this thing where

00:05:21,490 --> 00:05:25,090
you can feel in an URL if you go to

00:05:23,530 --> 00:05:27,910
request being you just click you

00:05:25,090 --> 00:05:30,910
generate a new session you will be able

00:05:27,910 --> 00:05:32,890
to fill it in and if you do a chat like

00:05:30,910 --> 00:05:35,919
Jas come fascia is really cool which we

00:05:32,890 --> 00:05:40,150
all know is true you'll be able to see

00:05:35,919 --> 00:05:45,160
that what request being actually get

00:05:40,150 --> 00:05:47,440
from from slack and in this case you'll

00:05:45,160 --> 00:05:49,270
be able to build your app this way bit

00:05:47,440 --> 00:05:50,890
by bit because now you understand what

00:05:49,270 --> 00:05:53,410
are the inputs and what is the potential

00:05:50,890 --> 00:05:55,120
output that you have to do and most of

00:05:53,410 --> 00:05:58,630
the documentation they stress a lot on

00:05:55,120 --> 00:06:00,400
what is what you should send the server

00:05:58,630 --> 00:06:02,050
it doesn't stress enough what you're

00:06:00,400 --> 00:06:04,510
receiving from the server so you don't

00:06:02,050 --> 00:06:06,130
get to see what exactly is the server

00:06:04,510 --> 00:06:08,380
sending to you and this is this is a

00:06:06,130 --> 00:06:11,410
great way and the next example is a

00:06:08,380 --> 00:06:15,520
Facebook messengers web who same you can

00:06:11,410 --> 00:06:18,820
get to the callback URL and you can see

00:06:15,520 --> 00:06:21,490
that again I feel in the request being

00:06:18,820 --> 00:06:25,060
and it will initiate a subscription and

00:06:21,490 --> 00:06:27,250
in this case you see that it gets

00:06:25,060 --> 00:06:29,289
there's a hop challenge and then there's

00:06:27,250 --> 00:06:34,140
a hot mode and that's how you you learn

00:06:29,289 --> 00:06:37,539
their API and when you do a send on

00:06:34,140 --> 00:06:39,310
hello how are you doing today you see

00:06:37,539 --> 00:06:40,950
that right at the bottom it's a little

00:06:39,310 --> 00:06:43,920
small but you can see the

00:06:40,950 --> 00:06:46,440
you you get the Java the JSON payload

00:06:43,920 --> 00:06:48,780
that sends back and you format it nicely

00:06:46,440 --> 00:06:51,630
you'll see you get the sender you got

00:06:48,780 --> 00:06:55,500
the recipient the times them and also

00:06:51,630 --> 00:06:58,140
the text of course so next I'm going to

00:06:55,500 --> 00:07:02,750
show you how do you do local development

00:06:58,140 --> 00:07:06,960
with using local tano and no demon and

00:07:02,750 --> 00:07:08,610
so local tano is lets you test and

00:07:06,960 --> 00:07:13,620
develop things locally and the

00:07:08,610 --> 00:07:16,110
exposes.the your IP address actually

00:07:13,620 --> 00:07:18,510
does a reverse proxy kind of thing and a

00:07:16,110 --> 00:07:23,130
last Facebook to be able to reach you

00:07:18,510 --> 00:07:25,440
through a public IP address and in this

00:07:23,130 --> 00:07:27,750
case you also can use no daemon which

00:07:25,440 --> 00:07:29,910
I'm not sure if you familiar this but it

00:07:27,750 --> 00:07:31,410
just restarts each time you change and

00:07:29,910 --> 00:07:37,070
we're going to do a live demo which I'm

00:07:31,410 --> 00:07:40,760
very nervous about so here goes nothing

00:07:37,070 --> 00:07:40,760
and so

00:07:46,730 --> 00:07:58,610
so we start already installed this local

00:07:51,650 --> 00:08:00,440
tunnel so I have I have my app running

00:07:58,610 --> 00:08:05,510
so I'm going to close in and I rerun my

00:08:00,440 --> 00:08:09,230
app and so this is actually the web hope

00:08:05,510 --> 00:08:12,620
that is going to be that connecting let

00:08:09,230 --> 00:08:19,220
me get my orientation right little

00:08:12,620 --> 00:08:21,470
confused with this so in this case if

00:08:19,220 --> 00:08:25,580
you are if you want to follow you can

00:08:21,470 --> 00:08:28,730
download this demo that I will give the

00:08:25,580 --> 00:08:34,850
link to later and then I will use local

00:08:28,730 --> 00:08:42,040
tunnel to expose this Airport eight nine

00:08:34,850 --> 00:08:42,040
five five I'm going to copy this URL

00:08:43,030 --> 00:08:46,630
make sure it works

00:08:48,910 --> 00:08:55,510
so this is already an external URL that

00:08:53,080 --> 00:08:59,320
Facebook can reach is already got HTTPS

00:08:55,510 --> 00:09:03,130
and it will hit my local computer in

00:08:59,320 --> 00:09:04,990
this case you go to your web hook

00:09:03,130 --> 00:09:05,410
subscription if you have familiar

00:09:04,990 --> 00:09:08,670
fixboot

00:09:05,410 --> 00:09:15,370
as how you can change the URL here and

00:09:08,670 --> 00:09:22,600
you change the URL right here to this

00:09:15,370 --> 00:09:26,650
new one and my verify token is 2016 to

00:09:22,600 --> 00:09:33,250
verify and safe and so after which you

00:09:26,650 --> 00:09:36,030
can go here and you can say hi and you

00:09:33,250 --> 00:09:42,940
should be able to get deeper information

00:09:36,030 --> 00:09:47,620
that is here so you can also do things

00:09:42,940 --> 00:09:50,290
like hello and I wrote this to call

00:09:47,620 --> 00:09:52,150
wrong car so that it can show you things

00:09:50,290 --> 00:09:55,360
like the your typing and then you can

00:09:52,150 --> 00:09:56,650
send Chiefs as well so for more

00:09:55,360 --> 00:10:01,600
information you can check out the source

00:09:56,650 --> 00:10:07,090
code that I have so I'm showing you is

00:10:01,600 --> 00:10:08,680
how you can do debugging and then the

00:10:07,090 --> 00:10:13,060
next is to comprehend the users input

00:10:08,680 --> 00:10:14,800
and let's start by imagining that we are

00:10:13,060 --> 00:10:16,660
going to have a doctor's application

00:10:14,800 --> 00:10:19,330
where you do like a book and appointment

00:10:16,660 --> 00:10:21,910
tomorrow at 4:00 p.m. and using this

00:10:19,330 --> 00:10:24,370
example you first have to discover what

00:10:21,910 --> 00:10:26,140
the intent is in our app we are going to

00:10:24,370 --> 00:10:29,170
have two main functions one it's going

00:10:26,140 --> 00:10:31,240
to be get appointments and the other one

00:10:29,170 --> 00:10:34,270
being book appointments where it accepts

00:10:31,240 --> 00:10:36,310
a date and time so how you figure get

00:10:34,270 --> 00:10:38,620
appointment sorry how do you figure out

00:10:36,310 --> 00:10:41,050
book and appointment as an intention and

00:10:38,620 --> 00:10:45,400
you know the simplest way is really just

00:10:41,050 --> 00:10:48,370
to use red X right so incredibly naive

00:10:45,400 --> 00:10:49,960
but works really well so you could try a

00:10:48,370 --> 00:10:53,410
book an appointment tomorrow at 4:00

00:10:49,960 --> 00:10:54,580
p.m. that works that's the red X but

00:10:53,410 --> 00:10:57,790
what if you want to do a like book

00:10:54,580 --> 00:10:59,320
appointment and you know you do you need

00:10:57,790 --> 00:11:02,240
to change your red X to be more flexible

00:10:59,320 --> 00:11:04,520
and what if people want

00:11:02,240 --> 00:11:06,620
an appointment that's fine too this red

00:11:04,520 --> 00:11:08,990
X book and what about people wanting

00:11:06,620 --> 00:11:11,660
reserved my appointment you can keep

00:11:08,990 --> 00:11:14,000
adding reg access and through this you

00:11:11,660 --> 00:11:17,390
are determining the intention of the

00:11:14,000 --> 00:11:21,279
user so I'm just gonna skip through this

00:11:17,390 --> 00:11:24,920
and you can so now that you determine

00:11:21,279 --> 00:11:27,020
the intention of the user which is

00:11:24,920 --> 00:11:29,540
booked an appointment tomorrow at 4:00

00:11:27,020 --> 00:11:31,790
p.m. you know that we need to use booked

00:11:29,540 --> 00:11:36,560
appointment where for that date and a

00:11:31,790 --> 00:11:39,800
time and so now it's really about

00:11:36,560 --> 00:11:41,420
extracting out tomorrow at 4:00 p.m. so

00:11:39,800 --> 00:11:43,190
how do we get the parameter tomorrow at

00:11:41,420 --> 00:11:44,510
4:00 p.m. and reg X isn't very

00:11:43,190 --> 00:11:47,089
straightforward anymore because there's

00:11:44,510 --> 00:11:51,260
you can people can say something like a

00:11:47,089 --> 00:11:54,560
book an appointment next Saturday at 3

00:11:51,260 --> 00:11:57,050
p.m. and you it you know things get

00:11:54,560 --> 00:11:59,300
really complicated so that there's a

00:11:57,050 --> 00:12:06,050
package for that and you can use simple

00:11:59,300 --> 00:12:09,440
NLP tools ok and there is this component

00:12:06,050 --> 00:12:11,060
of NLP if you guys are familiar with it

00:12:09,440 --> 00:12:14,149
it's called the parts of speech tagger

00:12:11,060 --> 00:12:16,070
and some people use Python and there is

00:12:14,149 --> 00:12:19,760
this really good library called NLT Kay

00:12:16,070 --> 00:12:21,890
in Python but in order GS we that there

00:12:19,760 --> 00:12:23,959
is a few libraries like natural and one

00:12:21,890 --> 00:12:26,480
of the easier to use one I found was an

00:12:23,959 --> 00:12:28,070
RP compromise which itself is a

00:12:26,480 --> 00:12:31,220
compromise because it doesn't give the

00:12:28,070 --> 00:12:32,600
full set of NLP tools for you to it's

00:12:31,220 --> 00:12:36,649
kind of like good enough is good enough

00:12:32,600 --> 00:12:39,500
thing and a parts of speech tagger is a

00:12:36,649 --> 00:12:41,300
piece of software that reads the text

00:12:39,500 --> 00:12:44,240
and the science parts of speech to each

00:12:41,300 --> 00:12:46,970
word and other tokens based on both its

00:12:44,240 --> 00:12:50,029
definition its context that is its

00:12:46,970 --> 00:12:53,839
relationship with Jason and related was

00:12:50,029 --> 00:12:55,910
in a phrase sentence or paragraph so it

00:12:53,839 --> 00:12:57,709
sounds a little complicated so I'm going

00:12:55,910 --> 00:12:59,630
to break it down for you in like

00:12:57,709 --> 00:13:03,020
preschool English and we shall start a

00:12:59,630 --> 00:13:06,950
phrase like I have a pen and I have a

00:13:03,020 --> 00:13:09,529
pen it's a really popular song and you

00:13:06,950 --> 00:13:11,990
can pass iron I have a pen with NLP

00:13:09,529 --> 00:13:15,089
compromise and this is how you do it you

00:13:11,990 --> 00:13:16,889
can you have to require the NLP comp

00:13:15,089 --> 00:13:18,749
package I made a mistake there is

00:13:16,889 --> 00:13:21,569
actually enough IDI underscore

00:13:18,749 --> 00:13:23,550
compromise get a sentence and you can

00:13:21,569 --> 00:13:28,279
pass through the terms and you can log

00:13:23,550 --> 00:13:33,329
out to see what kind of term it is and

00:13:28,279 --> 00:13:36,329
the first you get I I is a pro now so

00:13:33,329 --> 00:13:39,379
that's not what we want

00:13:36,329 --> 00:13:42,480
you get half which is an infinitive

00:13:39,379 --> 00:13:46,079
infinitive vote and you get earth which

00:13:42,480 --> 00:13:51,839
is an article and already determiner and

00:13:46,079 --> 00:13:54,569
also a pen so in this case you you get

00:13:51,839 --> 00:13:56,639
to see like the first one is a pro now

00:13:54,569 --> 00:13:58,769
the second one is a verb then an article

00:13:56,639 --> 00:14:01,019
then they a now so you kind of get the

00:13:58,769 --> 00:14:02,819
gist of it and what if we want to push

00:14:01,019 --> 00:14:07,589
it even more and we want to get things

00:14:02,819 --> 00:14:10,470
like in emoji and we have a library for

00:14:07,589 --> 00:14:16,800
that too and it's all in MPM and so

00:14:10,470 --> 00:14:19,110
again i have an apple and an apple is

00:14:16,800 --> 00:14:21,420
not something that is supported by an LP

00:14:19,110 --> 00:14:23,999
compromise so you get a little question

00:14:21,420 --> 00:14:26,670
mark and so when it couldn't find

00:14:23,999 --> 00:14:29,429
anything that seems to be representable

00:14:26,670 --> 00:14:30,749
in this little database it will assign a

00:14:29,429 --> 00:14:32,970
question mark because it doesn't know

00:14:30,749 --> 00:14:36,860
what to do so we passed it on to an

00:14:32,970 --> 00:14:41,939
emoji tagger instead and what there is a

00:14:36,860 --> 00:14:46,589
library called game OG I think it might

00:14:41,939 --> 00:14:48,209
be github emoji not really sure so what

00:14:46,589 --> 00:14:51,059
it does is it passed the Unicode correct

00:14:48,209 --> 00:14:55,079
us if you pass in an apple it tells you

00:14:51,059 --> 00:15:00,660
the description being a rate Apple right

00:14:55,079 --> 00:15:02,999
and then you can you can then do complex

00:15:00,660 --> 00:15:07,679
things like detecting what exactly the

00:15:02,999 --> 00:15:11,959
emoji means and so going to do live demo

00:15:07,679 --> 00:15:11,959
again probably bad idea

00:15:19,530 --> 00:15:30,120
so if you type I have a pan in here it's

00:15:28,410 --> 00:15:36,110
going to give you you have a pen

00:15:30,120 --> 00:15:36,110
so that's right and what about in emoji

00:15:42,020 --> 00:15:48,810
so so I say I have an apple and it tells

00:15:45,720 --> 00:15:50,880
me that you have a great apple so there

00:15:48,810 --> 00:15:54,000
are a few things to notice here firstly

00:15:50,880 --> 00:15:57,930
it knows that it is already PO and it's

00:15:54,000 --> 00:16:01,680
not a great apple because the the NLP

00:15:57,930 --> 00:16:03,660
compromise has is able to detect what

00:16:01,680 --> 00:16:06,690
sort of article should follow a soup

00:16:03,660 --> 00:16:09,300
procedure now and if you try things like

00:16:06,690 --> 00:16:20,310
if you make mistakes that you decide to

00:16:09,300 --> 00:16:22,200
choose I have a cow it's able to fix it

00:16:20,310 --> 00:16:27,420
for you by saying that you have an ox

00:16:22,200 --> 00:16:29,670
because their stocks emoji and so what

00:16:27,420 --> 00:16:31,470
you can do a lot of things by this

00:16:29,670 --> 00:16:33,150
because you're you're reading the user

00:16:31,470 --> 00:16:34,500
input and they tell me what the user is

00:16:33,150 --> 00:16:36,780
trying to tell you including things like

00:16:34,500 --> 00:16:46,680
emoji and there's a lot of passing

00:16:36,780 --> 00:16:49,200
involved but it works okay so now for

00:16:46,680 --> 00:16:51,060
the real thing right so initial passing

00:16:49,200 --> 00:16:52,860
we do any show pass with an LP

00:16:51,060 --> 00:16:55,770
compromise and we pass book an

00:16:52,860 --> 00:16:57,270
appointment tomorrow at 4 p.m. and this

00:16:55,770 --> 00:16:59,760
is how it's going to be like it's good I

00:16:57,270 --> 00:17:01,860
bought it mistakenly thought that it

00:16:59,760 --> 00:17:04,860
wasn't now because book is also it now

00:17:01,860 --> 00:17:06,720
it's not really smart but a book and

00:17:04,860 --> 00:17:12,510
appointment

00:17:06,720 --> 00:17:17,280
and notice that it grabs you tomorrow at

00:17:12,510 --> 00:17:20,459
4 p.m. as a complete as part of an item

00:17:17,280 --> 00:17:23,280
as as a term right so in this case you

00:17:20,459 --> 00:17:28,410
see that the text is tomorrow at 4 p.m.

00:17:23,280 --> 00:17:30,810
and the tech is date unfortunately NOP

00:17:28,410 --> 00:17:33,000
compromise isn't smart enough to figure

00:17:30,810 --> 00:17:34,770
out things like what sort of data so it

00:17:33,000 --> 00:17:37,830
couldn't get the year couldn't guess the

00:17:34,770 --> 00:17:39,750
month and the day but not to worry we

00:17:37,830 --> 00:17:43,410
have another package for it and you can

00:17:39,750 --> 00:17:46,020
pass through this call a true chrono

00:17:43,410 --> 00:17:50,970
note and you'll be able to receive

00:17:46,020 --> 00:17:53,540
tomorrow at 4 p.m. and you will get the

00:17:50,970 --> 00:17:53,540
date and the time

00:17:54,170 --> 00:17:58,730
and then you can even do with more

00:17:57,320 --> 00:18:01,010
interesting things that figure out the

00:17:58,730 --> 00:18:03,530
date and time based on between something

00:18:01,010 --> 00:18:06,710
to something so you can say February

00:18:03,530 --> 00:18:09,680
23rd too much second and you'll be able

00:18:06,710 --> 00:18:11,450
to get to different data and time so

00:18:09,680 --> 00:18:18,920
with this you can complete your doctor's

00:18:11,450 --> 00:18:22,490
appointment app and so can do much more

00:18:18,920 --> 00:18:40,700
complicated things like book and

00:18:22,490 --> 00:18:42,620
appointment for next Sunday 4:00 p.m. so

00:18:40,700 --> 00:18:44,360
it will tell you this actually tells you

00:18:42,620 --> 00:18:47,450
the day so if he goes that next Sunday

00:18:44,360 --> 00:18:50,090
is actually referring to November 27th

00:18:47,450 --> 00:18:57,410
and I use moment to format it with the

00:18:50,090 --> 00:19:00,290
time zone okay so so the next is about

00:18:57,410 --> 00:19:03,400
responding to the user and the general

00:19:00,290 --> 00:19:07,060
rules of thumb is that you need to be

00:19:03,400 --> 00:19:09,610
succinct and you need to be friendly

00:19:07,060 --> 00:19:12,050
respect the medium which is in this case

00:19:09,610 --> 00:19:13,790
in my previous case was Facebook and

00:19:12,050 --> 00:19:16,630
also you need to figure out how to

00:19:13,790 --> 00:19:19,970
handle the arrows if there are any and

00:19:16,630 --> 00:19:22,220
try to give the simplest and clearest

00:19:19,970 --> 00:19:24,920
answers are the best for the user and

00:19:22,220 --> 00:19:26,720
that's because the mobile messaging are

00:19:24,920 --> 00:19:28,490
typically limited by space and you

00:19:26,720 --> 00:19:30,050
wouldn't want to return a whole bunch of

00:19:28,490 --> 00:19:31,960
text and they had to scroll and scroll

00:19:30,050 --> 00:19:35,120
to figure out where they have to read

00:19:31,960 --> 00:19:37,280
the shorter the ball responses are the

00:19:35,120 --> 00:19:40,160
better and remember the emojis are also

00:19:37,280 --> 00:19:42,020
valid responses so if you could use

00:19:40,160 --> 00:19:46,130
things like you're thinking use things a

00:19:42,020 --> 00:19:48,080
take a few more personal to the user and

00:19:46,130 --> 00:19:50,720
at the same time it saves a lot of space

00:19:48,080 --> 00:19:54,020
as well so the next is to be friendly

00:19:50,720 --> 00:19:56,870
use pronouns like I on you so so

00:19:54,020 --> 00:19:58,880
disclaimer first this might work for

00:19:56,870 --> 00:20:00,290
things like Facebook messenger it might

00:19:58,880 --> 00:20:02,600
work for kick it might not necessarily

00:20:00,290 --> 00:20:06,770
work for slap if you want things to be

00:20:02,600 --> 00:20:08,289
more formal and so if you most of the

00:20:06,770 --> 00:20:11,090
boss in

00:20:08,289 --> 00:20:13,760
Facebook if you tried chatting with them

00:20:11,090 --> 00:20:16,220
when you say hi they will say back hi to

00:20:13,760 --> 00:20:18,830
you sometimes they wave back at you and

00:20:16,220 --> 00:20:21,080
it's okay to say things like you don't

00:20:18,830 --> 00:20:22,820
understand the input or you know you can

00:20:21,080 --> 00:20:25,039
say sorry I don't understand and you

00:20:22,820 --> 00:20:27,710
give them a suggestion of what sort of

00:20:25,039 --> 00:20:30,980
inputs you can give and try to use

00:20:27,710 --> 00:20:32,389
active instead of passive voice for

00:20:30,980 --> 00:20:34,269
example your flight has been booked is

00:20:32,389 --> 00:20:38,870
not as good as I booked your flight

00:20:34,269 --> 00:20:41,090
because the reason being chat in

00:20:38,870 --> 00:20:43,850
facebook is a lot more personal so

00:20:41,090 --> 00:20:46,340
people that is the way people talk and

00:20:43,850 --> 00:20:49,179
lastly you know be humble so that people

00:20:46,340 --> 00:20:51,730
won't get frustrated and some of this

00:20:49,179 --> 00:20:55,159
humans are smart enough to figure out

00:20:51,730 --> 00:20:58,159
the parameters it needs to fit the chat

00:20:55,159 --> 00:21:00,679
bot interface and if you try to build

00:20:58,159 --> 00:21:03,080
something there is entirely conversation

00:21:00,679 --> 00:21:04,880
in this case if you check out some of

00:21:03,080 --> 00:21:07,010
the apps you can actually do a really

00:21:04,880 --> 00:21:09,110
conversational things like say hi how do

00:21:07,010 --> 00:21:11,809
you do and is able to respond fine thank

00:21:09,110 --> 00:21:14,210
you you effectively you put the bow of

00:21:11,809 --> 00:21:17,510
your app incredibly high because now

00:21:14,210 --> 00:21:19,669
your your users are thinking that wow

00:21:17,510 --> 00:21:22,370
this is a really small app so I can chat

00:21:19,669 --> 00:21:25,669
with it so if you if you just make it

00:21:22,370 --> 00:21:28,789
you manage expectation and you set it to

00:21:25,669 --> 00:21:32,090
be straightforward whereby you just give

00:21:28,789 --> 00:21:36,049
a very structured command it helps so

00:21:32,090 --> 00:21:38,840
it's okay and respect the medium so

00:21:36,049 --> 00:21:40,580
notice what sort of responses there can

00:21:38,840 --> 00:21:42,620
be for example facebook Messenger

00:21:40,580 --> 00:21:46,570
supports text emoji locations and

00:21:42,620 --> 00:21:49,850
buttons and you can format things using

00:21:46,570 --> 00:21:53,570
under stall screen and you can get

00:21:49,850 --> 00:21:56,570
sentences so try to make sure you use

00:21:53,570 --> 00:22:00,679
things don't make don't make the text

00:21:56,570 --> 00:22:02,510
too long and you cannot be able to the

00:22:00,679 --> 00:22:06,320
user have to scroll and that wouldn't be

00:22:02,510 --> 00:22:09,789
too nice and if you look at slack this

00:22:06,320 --> 00:22:13,399
is G fie and slit allows you to find

00:22:09,789 --> 00:22:15,769
different gifs that you can share on

00:22:13,399 --> 00:22:18,080
your enterprise chat board something

00:22:15,769 --> 00:22:20,179
that my company my co-workers and I do a

00:22:18,080 --> 00:22:21,110
lot and read the respective

00:22:20,179 --> 00:22:22,910
documentation is

00:22:21,110 --> 00:22:25,160
what sort of things are available so for

00:22:22,910 --> 00:22:26,480
slack it has this little button where

00:22:25,160 --> 00:22:29,270
you can click view more and you'll

00:22:26,480 --> 00:22:32,090
refresh things that are there and so

00:22:29,270 --> 00:22:34,340
this does not apply to say the Skype

00:22:32,090 --> 00:22:36,980
using the face and Skype has something

00:22:34,340 --> 00:22:40,910
that is similar but it's not quite the

00:22:36,980 --> 00:22:44,240
same as this so next is to respect the

00:22:40,910 --> 00:22:46,880
medium poncho actually has a send

00:22:44,240 --> 00:22:49,190
location button so users can tap on it

00:22:46,880 --> 00:22:51,679
to send a location and poncho is a

00:22:49,190 --> 00:22:53,120
weather an able app so it can tell you

00:22:51,679 --> 00:22:55,429
every single day whether you need to

00:22:53,120 --> 00:23:00,380
wear poncho where you need to bring an

00:22:55,429 --> 00:23:02,450
umbrella and stuff and for whip USG we

00:23:00,380 --> 00:23:04,850
use generic templates and facebook

00:23:02,450 --> 00:23:06,260
Messenger so in this case you can see

00:23:04,850 --> 00:23:11,540
that there are buttons where you can

00:23:06,260 --> 00:23:13,520
click and this is entirely only it's

00:23:11,540 --> 00:23:15,710
something that is very Facebook specific

00:23:13,520 --> 00:23:20,480
and it's really trying to exploit the

00:23:15,710 --> 00:23:23,540
API and you can use ron-karr which is an

00:23:20,480 --> 00:23:26,000
app that I wrote this is a library that

00:23:23,540 --> 00:23:28,340
I wrote so what it does is it allows you

00:23:26,000 --> 00:23:31,360
to write like send text and it gives you

00:23:28,340 --> 00:23:33,740
the ellipses and you can't wait for

00:23:31,360 --> 00:23:35,510
3,000 milliseconds to send the next one

00:23:33,740 --> 00:23:37,429
and you can do simple things like

00:23:35,510 --> 00:23:39,190
sending imagers there are a lot of

00:23:37,429 --> 00:23:43,160
libraries out there and the odd differ

00:23:39,190 --> 00:23:45,919
in the expressivity of the API and I

00:23:43,160 --> 00:23:48,080
want to do something like being able to

00:23:45,919 --> 00:23:50,720
do something like what a to express what

00:23:48,080 --> 00:23:55,100
a human could have done and lastly is to

00:23:50,720 --> 00:23:57,980
handle errors so you know we need to

00:23:55,100 --> 00:24:01,250
make sure that so always test for

00:23:57,980 --> 00:24:03,620
negative scenarios so more often than

00:24:01,250 --> 00:24:05,510
not we we always expect that the API

00:24:03,620 --> 00:24:06,740
that we are connecting to will always

00:24:05,510 --> 00:24:08,270
give a positive result

00:24:06,740 --> 00:24:13,250
make sure you have another negative use

00:24:08,270 --> 00:24:14,870
case as well so that's so I'm going to

00:24:13,250 --> 00:24:18,110
go through like the the problems I faced

00:24:14,870 --> 00:24:21,950
when building blocks choosing what to

00:24:18,110 --> 00:24:23,630
view is actually pretty hard your

00:24:21,950 --> 00:24:26,390
business functions can be represented in

00:24:23,630 --> 00:24:28,580
so many ways of the raw and not every

00:24:26,390 --> 00:24:31,070
part of the business makes sense to

00:24:28,580 --> 00:24:33,530
develop into a chatbot and if the more

00:24:31,070 --> 00:24:35,020
so the next is you are encroaching the

00:24:33,530 --> 00:24:36,730
personal space such as phase

00:24:35,020 --> 00:24:38,620
messenger meaning that their friends are

00:24:36,730 --> 00:24:41,200
there the last thing you ever want to do

00:24:38,620 --> 00:24:43,090
is you you tell them more than their

00:24:41,200 --> 00:24:45,460
friends tell them and they will just

00:24:43,090 --> 00:24:47,410
delete your app and if you're more

00:24:45,460 --> 00:24:49,450
spammy than the other BOTS people won't

00:24:47,410 --> 00:24:51,760
like it too and if you try to become

00:24:49,450 --> 00:24:53,980
more conversation or just make sure that

00:24:51,760 --> 00:24:56,230
there are real human beings they are

00:24:53,980 --> 00:24:58,300
also using the messaging app they try

00:24:56,230 --> 00:25:00,100
and chat with their friends so if you

00:24:58,300 --> 00:25:03,310
were to do that you set the bar very

00:25:00,100 --> 00:25:06,220
high and lastly every chat messenger

00:25:03,310 --> 00:25:07,810
messaging system is a medium with

00:25:06,220 --> 00:25:11,560
special characteristic hence they have

00:25:07,810 --> 00:25:13,030
different api's and if you support more

00:25:11,560 --> 00:25:15,460
than one chat system you might want to

00:25:13,030 --> 00:25:18,460
build things like micro services to

00:25:15,460 --> 00:25:20,650
connect to and so instead of having one

00:25:18,460 --> 00:25:22,330
app there just saw facebook Messenger

00:25:20,650 --> 00:25:24,550
you have a facebook messenger interface

00:25:22,330 --> 00:25:26,890
you have a pic messenger in the face

00:25:24,550 --> 00:25:29,340
slight interface and they all connect to

00:25:26,890 --> 00:25:31,540
a central micro service that is able to

00:25:29,340 --> 00:25:37,350
figure out the responses there is

00:25:31,540 --> 00:25:41,320
appropriate so just to touch on

00:25:37,350 --> 00:25:43,060
conversation and structure text for

00:25:41,320 --> 00:25:45,570
conversational text is less predictable

00:25:43,060 --> 00:25:48,490
and potentially it's more open-ended and

00:25:45,570 --> 00:25:50,710
it requires complex rules based system

00:25:48,490 --> 00:25:52,540
or machine learning capabilities so my

00:25:50,710 --> 00:25:54,760
recommendation is that if you cannot do

00:25:52,540 --> 00:25:59,200
that you should not try to do that

00:25:54,760 --> 00:26:01,540
there's this app that is really well

00:25:59,200 --> 00:26:03,610
done called human in Jesse's story and

00:26:01,540 --> 00:26:05,110
if you can see the dialogue you know it

00:26:03,610 --> 00:26:07,060
tries to be very conversational I'm the

00:26:05,110 --> 00:26:10,450
blue by the way I have not the de crayon

00:26:07,060 --> 00:26:12,730
and if you you can say hey Jesse and is

00:26:10,450 --> 00:26:15,400
is able to pull off a pretty decent

00:26:12,730 --> 00:26:18,280
conversation with you and I realized

00:26:15,400 --> 00:26:20,110
that it's is one of those it's like a

00:26:18,280 --> 00:26:22,720
very it's like a little go

00:26:20,110 --> 00:26:25,660
so I reply back with what I think a

00:26:22,720 --> 00:26:28,750
little girl would have replied okay so

00:26:25,660 --> 00:26:31,990
on on that note structured text is more

00:26:28,750 --> 00:26:34,120
predictable hence it's is with limited

00:26:31,990 --> 00:26:38,860
functionality but you get to control a

00:26:34,120 --> 00:26:41,920
lot more so we built SG is an example of

00:26:38,860 --> 00:26:45,220
a structure chat bot so it's built by me

00:26:41,920 --> 00:26:47,500
and the web us G API and you can try

00:26:45,220 --> 00:26:48,640
asking about upcoming events and he only

00:26:47,500 --> 00:26:50,230
tells you that

00:26:48,640 --> 00:26:52,510
and he also tells you things like you

00:26:50,230 --> 00:26:55,030
can check the latest repository it tells

00:26:52,510 --> 00:26:56,620
you about podcast by the specific things

00:26:55,030 --> 00:26:58,570
then it knows what to do

00:26:56,620 --> 00:27:02,440
it doesn't do more than more than just

00:26:58,570 --> 00:27:03,940
three functions essentially so lastly

00:27:02,440 --> 00:27:06,190
sometimes coding by yourself is not

00:27:03,940 --> 00:27:09,400
necessarily the right solution depending

00:27:06,190 --> 00:27:12,549
on the scope sometimes you might find

00:27:09,400 --> 00:27:14,620
that Bob building platforms that does

00:27:12,549 --> 00:27:15,970
things with machine learning is much

00:27:14,620 --> 00:27:20,650
better choice and you might want to

00:27:15,970 --> 00:27:22,870
outsource your entire bar building your

00:27:20,650 --> 00:27:27,940
entire board and so you have bought

00:27:22,870 --> 00:27:30,520
building services like octane API - AI I

00:27:27,940 --> 00:27:32,549
know this my phone is vibrating a lot I

00:27:30,520 --> 00:27:39,280
think everybody is sending messages to

00:27:32,549 --> 00:27:41,350
repute ok key reply and push ring and if

00:27:39,280 --> 00:27:43,960
you want to look into machine learning

00:27:41,350 --> 00:27:47,190
and NLP services you can check out Lois

00:27:43,960 --> 00:27:51,610
story I which is by Microsoft I believe

00:27:47,190 --> 00:27:53,770
we thought a inap either a I one of them

00:27:51,610 --> 00:27:58,090
is bought by Facebook or con remember

00:27:53,770 --> 00:28:01,000
which okay so that that's all special

00:27:58,090 --> 00:28:02,440
thanks to Spencer Kelly who is the

00:28:01,000 --> 00:28:04,419
author of NLP compromise

00:28:02,440 --> 00:28:07,510
he's been very responsive and he helped

00:28:04,419 --> 00:28:11,919
me a lot Spencer Young who does key

00:28:07,510 --> 00:28:15,010
reply and Jenn shoe and Suhani both of

00:28:11,919 --> 00:28:17,820
them tried by bought and gave me a lot

00:28:15,010 --> 00:28:22,240
of remarks on how well it works and how

00:28:17,820 --> 00:28:24,610
well it how it didn't and I put most of

00:28:22,240 --> 00:28:30,600
my source code online so you can test it

00:28:24,610 --> 00:28:30,600
up and that is all so thank you

00:28:30,860 --> 00:28:32,920
you

00:28:40,429 --> 00:28:42,490

YouTube URL: https://www.youtube.com/watch?v=c_hmwFwvO0U


