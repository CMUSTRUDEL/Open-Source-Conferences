Title: Luke Bonaccorsi: How I ended up automating my curtains ... | JSConf Budapest 2017
Publication date: 2017-12-01
Playlist: JSConf Budapest 2017
Description: 
	How I ended up automating my curtains and shouting at my laptop

We encounter automation every day and may not realise. It could be a set of traffic lights, a thermostat or automated tests for our code. It all works to make our lives easier and more efficient.

A couple of years ago I started working on a chat based automation system using JavaScript in my free time and in this talk I’ll share my progress, my reasons for doing it and what I’d like to do with it in the future. Hopefully I’ll inspire you to embrace automation in your daily life.

http://jsconfbp.com/speakers/luke-bonaccorsi/
Captions: 
	00:00:00,390 --> 00:00:06,000
[Laughter]

00:00:03,080 --> 00:00:07,799
so yeah I'm Luke bonaccorsi I'm a

00:00:06,000 --> 00:00:09,900
software engineer at sky betting and

00:00:07,799 --> 00:00:12,540
gaming which is a online gambling

00:00:09,900 --> 00:00:13,280
company based in Leeds in the north of

00:00:12,540 --> 00:00:16,770
England

00:00:13,280 --> 00:00:20,580
I'm also the organiser of the local

00:00:16,770 --> 00:00:23,189
JavaScript me up in Leeds Leeds yes I've

00:00:20,580 --> 00:00:26,189
been building stuff since I was about 12

00:00:23,189 --> 00:00:28,980
for the web which is like over 15 years

00:00:26,189 --> 00:00:31,740
and I just found it so cool that you

00:00:28,980 --> 00:00:36,120
could put stuff on the internet cuz like

00:00:31,740 --> 00:00:37,950
that was 2001 2002 when it was kind of

00:00:36,120 --> 00:00:40,559
broadband was just starting to become a

00:00:37,950 --> 00:00:41,910
thing and yeah it was super cool you

00:00:40,559 --> 00:00:45,690
could put stuff on the internet and I've

00:00:41,910 --> 00:00:47,070
been hooked on it ever since and yeah

00:00:45,690 --> 00:00:48,899
I'm here to talk about how I in the

00:00:47,070 --> 00:00:55,559
report and make my curtains and shouting

00:00:48,899 --> 00:00:57,809
on my laptop so I'm lazy if there's a

00:00:55,559 --> 00:01:00,930
way I can not do something I won't do it

00:00:57,809 --> 00:01:03,300
and because of that automations an

00:01:00,930 --> 00:01:07,530
amazing thing I can just automate the

00:01:03,300 --> 00:01:09,030
boring stuff away and every day we're

00:01:07,530 --> 00:01:11,460
surrounded by automation and we probably

00:01:09,030 --> 00:01:15,540
don't realize it so there's stuff like

00:01:11,460 --> 00:01:17,640
traffic lights automatic doors motion

00:01:15,540 --> 00:01:20,670
sensing lights automatic hand dryers

00:01:17,640 --> 00:01:22,860
cash machines and that's just stuff I

00:01:20,670 --> 00:01:24,479
noticed and paid attention to today and

00:01:22,860 --> 00:01:28,320
it shows how prevalent is in our

00:01:24,479 --> 00:01:30,770
everyday lives and as consumers we're

00:01:28,320 --> 00:01:33,210
embracing it more and more in our homes

00:01:30,770 --> 00:01:35,549
there's heating with the Nest's

00:01:33,210 --> 00:01:37,890
thermostat and lighting like Charlie

00:01:35,549 --> 00:01:39,119
mentioned with the philips hue and even

00:01:37,890 --> 00:01:42,780
though you're getting in the game now

00:01:39,119 --> 00:01:45,180
with really really cheap smart light

00:01:42,780 --> 00:01:47,840
bulbs and then there's access control

00:01:45,180 --> 00:01:51,030
with things like smart door locks and

00:01:47,840 --> 00:01:53,280
these things usually have api so you can

00:01:51,030 --> 00:01:54,960
hook them up and interact with them

00:01:53,280 --> 00:01:56,759
however you want so you can do like a

00:01:54,960 --> 00:01:59,579
node scripts and run it from the command

00:01:56,759 --> 00:02:02,640
line if you want to do that for some

00:01:59,579 --> 00:02:04,560
reason or you can create a node service

00:02:02,640 --> 00:02:06,030
and have a dashboard and hook all your

00:02:04,560 --> 00:02:08,250
different bits of home automation

00:02:06,030 --> 00:02:10,410
together so you've got like your lights

00:02:08,250 --> 00:02:12,300
and your heating and your door and it's

00:02:10,410 --> 00:02:13,960
all in one place and you just know I go

00:02:12,300 --> 00:02:18,940
here and this is

00:02:13,960 --> 00:02:21,100
it is and as developers we use

00:02:18,940 --> 00:02:24,580
automation to make our lives easier and

00:02:21,100 --> 00:02:26,170
more efficient and their stuff like

00:02:24,580 --> 00:02:28,780
build tooling so you can run a single

00:02:26,170 --> 00:02:30,850
command and it does a chain of things

00:02:28,780 --> 00:02:32,470
like linting running your tests

00:02:30,850 --> 00:02:35,980
transpiling pulling it through a web

00:02:32,470 --> 00:02:38,200
pack and there's also automated tests so

00:02:35,980 --> 00:02:40,870
you've got functional tests where it'll

00:02:38,200 --> 00:02:42,730
run in a headless browser and check

00:02:40,870 --> 00:02:44,880
things and see how they behave and how

00:02:42,730 --> 00:02:47,410
they look and make sure it's right and

00:02:44,880 --> 00:02:48,580
then there's unit tests so you're

00:02:47,410 --> 00:02:51,430
checking your input and your output and

00:02:48,580 --> 00:02:52,630
making sure that it's what you want and

00:02:51,430 --> 00:02:54,010
you're not having to go through and

00:02:52,630 --> 00:02:56,260
check that manually every time you make

00:02:54,010 --> 00:02:58,420
a change and even infrastructure

00:02:56,260 --> 00:03:01,000
configuration so you can build up a

00:02:58,420 --> 00:03:05,080
server just with a set of scripts using

00:03:01,000 --> 00:03:07,060
something like chef or ansible but as

00:03:05,080 --> 00:03:10,870
interesting as that stuff can be I'm not

00:03:07,060 --> 00:03:13,330
here to talk about that over the past

00:03:10,870 --> 00:03:16,800
couple years there's been a bot up

00:03:13,330 --> 00:03:18,790
rising I'm calling it that anyway

00:03:16,800 --> 00:03:21,190
they're quickly becoming a bigger and

00:03:18,790 --> 00:03:25,450
bigger part of our lives and helping us

00:03:21,190 --> 00:03:28,330
with everyday things it's stuff like my

00:03:25,450 --> 00:03:31,060
work we have a release token it's a

00:03:28,330 --> 00:03:33,880
really really really simple bot you send

00:03:31,060 --> 00:03:36,400
it message and then it adds you to a

00:03:33,880 --> 00:03:38,620
queue when it's your turn it sends you a

00:03:36,400 --> 00:03:41,590
message back saying hey Luke it's your

00:03:38,620 --> 00:03:44,170
go you do your release you test it you

00:03:41,590 --> 00:03:45,850
do whatever you need to do and then drop

00:03:44,170 --> 00:03:48,070
the token in messages the next person in

00:03:45,850 --> 00:03:49,510
the queue but it makes that stuff more

00:03:48,070 --> 00:03:52,120
efficient someone isn't having to

00:03:49,510 --> 00:03:55,090
monitor who's doing what it's dealt with

00:03:52,120 --> 00:03:58,540
by the bots and then CNN have a Facebook

00:03:55,090 --> 00:04:00,220
Bob that it can give you headlines when

00:03:58,540 --> 00:04:02,710
stuff happens that you're interested in

00:04:00,220 --> 00:04:04,300
you can subscribe to it by sending a

00:04:02,710 --> 00:04:06,310
message saying I want to know about this

00:04:04,300 --> 00:04:09,460
topic and it'll send you stuff about

00:04:06,310 --> 00:04:11,380
that as it goes on and even Domino's

00:04:09,460 --> 00:04:13,890
have got a bot that you can message to

00:04:11,380 --> 00:04:16,780
order pizza and that's excellent because

00:04:13,890 --> 00:04:21,790
making it easier to get pizzas even

00:04:16,780 --> 00:04:23,440
better and these things can be hooked

00:04:21,790 --> 00:04:27,510
directly into a chat system so you can

00:04:23,440 --> 00:04:27,510
create something really quick and simple

00:04:27,730 --> 00:04:31,360
with node modules for stuff like slack

00:04:30,040 --> 00:04:33,760
and Facebook and they have great

00:04:31,360 --> 00:04:36,400
examples for these things as well and it

00:04:33,760 --> 00:04:38,050
means that in an afternoon or less you

00:04:36,400 --> 00:04:42,570
can even spin up a bot that has a single

00:04:38,050 --> 00:04:44,830
task and pull it into your workflow and

00:04:42,570 --> 00:04:46,450
then there are frameworks that make it

00:04:44,830 --> 00:04:48,130
easy to do these things as well so you

00:04:46,450 --> 00:04:50,770
can have a bot that has multiple

00:04:48,130 --> 00:04:53,410
functionalities and hooks into multiple

00:04:50,770 --> 00:04:57,010
chat systems and there's stuff like

00:04:53,410 --> 00:05:00,520
Microsoft's bot framework and one called

00:04:57,010 --> 00:05:04,390
bot kit as well and then there's github

00:05:00,520 --> 00:05:06,370
Hugh bot they call get Hugh bot the

00:05:04,390 --> 00:05:07,570
hardest-working github er because it

00:05:06,370 --> 00:05:09,460
does absolutely everything

00:05:07,570 --> 00:05:14,200
it sits throughout their organization

00:05:09,460 --> 00:05:15,670
and just does everything so there's

00:05:14,200 --> 00:05:18,310
stuff like they can use it to deploy

00:05:15,670 --> 00:05:20,740
codes they send a message it updates the

00:05:18,310 --> 00:05:22,870
code that's running live or provisioning

00:05:20,740 --> 00:05:25,090
Hardware so they send a message it

00:05:22,870 --> 00:05:27,810
installs the operating system it

00:05:25,090 --> 00:05:30,970
configures it does a test with a burnin

00:05:27,810 --> 00:05:32,260
puts the live code on it adds it to the

00:05:30,970 --> 00:05:35,650
library infrastructure and then it's

00:05:32,260 --> 00:05:38,560
done or even visitors so when a visitor

00:05:35,650 --> 00:05:40,720
walks in there's an iPad and they tap

00:05:38,560 --> 00:05:42,070
their name into the iPads and then it

00:05:40,720 --> 00:05:43,630
just sends a message to whoever they're

00:05:42,070 --> 00:05:47,770
supposed to be meeting saying hey your

00:05:43,630 --> 00:05:49,120
guests here even controls the music they

00:05:47,770 --> 00:05:53,500
have a system throughout their offices

00:05:49,120 --> 00:05:55,360
where music is just shared and employees

00:05:53,500 --> 00:05:59,260
can control it by sending messages to

00:05:55,360 --> 00:06:01,960
like cue and skip tracks and it does

00:05:59,260 --> 00:06:06,400
simple things like that and it makes

00:06:01,960 --> 00:06:07,570
their lives easier and we've now got

00:06:06,400 --> 00:06:09,640
virtual assistants

00:06:07,570 --> 00:06:11,590
so that's stuff like Siri and Alexa and

00:06:09,640 --> 00:06:14,800
Google assistant and they're basically

00:06:11,590 --> 00:06:16,840
box but a bit smarter and you can get

00:06:14,800 --> 00:06:18,970
them on your phone through the web and

00:06:16,840 --> 00:06:24,490
they're built into the OS of things like

00:06:18,970 --> 00:06:27,490
Windows 10 and Chrome OS and there are

00:06:24,490 --> 00:06:29,920
in our homes with stuff like the Google

00:06:27,490 --> 00:06:32,740
home and the Amazon echo and they help

00:06:29,920 --> 00:06:34,150
us out with things like reading reading

00:06:32,740 --> 00:06:37,840
you out news that you're interested in

00:06:34,150 --> 00:06:39,430
and playing music and buying things even

00:06:37,840 --> 00:06:41,000
if that doesn't necessarily go well when

00:06:39,430 --> 00:06:46,790
the news reads out a report

00:06:41,000 --> 00:06:48,440
some of that going bad and again it's

00:06:46,790 --> 00:06:50,840
quite easy to add your own abilities to

00:06:48,440 --> 00:06:52,100
these things you can just write a node

00:06:50,840 --> 00:06:54,890
service for it

00:06:52,100 --> 00:06:57,380
glitch comm which is an amazing website

00:06:54,890 --> 00:06:59,240
which is a collaborative editor and it

00:06:57,380 --> 00:07:02,120
has a load of templates and it has help

00:06:59,240 --> 00:07:05,270
functionality they have templates for

00:07:02,120 --> 00:07:09,620
google home and alexa and it took me an

00:07:05,270 --> 00:07:11,570
evening to add a basic one that just

00:07:09,620 --> 00:07:15,380
pulls quotes from rick wikiquote and

00:07:11,570 --> 00:07:17,090
reads them out to you and yeah it's

00:07:15,380 --> 00:07:20,990
amazing that you can get hooking to

00:07:17,090 --> 00:07:22,310
these things within evening and the

00:07:20,990 --> 00:07:23,840
operating is only just beginning

00:07:22,310 --> 00:07:26,060
BOTS and assistants that we're going to

00:07:23,840 --> 00:07:33,169
become far more common and far more

00:07:26,060 --> 00:07:35,270
prevalent so in mid 2014 I started

00:07:33,169 --> 00:07:39,200
working on my own chat bot and it all

00:07:35,270 --> 00:07:42,020
makes things for me so it's called

00:07:39,200 --> 00:07:45,500
Woodhouse it's named after the butler on

00:07:42,020 --> 00:07:47,510
the TV show Archer I was going to call

00:07:45,500 --> 00:07:50,750
it Jarvis and then how to think about it

00:07:47,510 --> 00:07:52,640
and realized it's over done and it

00:07:50,750 --> 00:07:54,770
wasn't gonna be anywhere as near as good

00:07:52,640 --> 00:08:04,700
as Jarvis would be so I picked a worse

00:07:54,770 --> 00:08:08,320
Butler and picked Woodhouse so it's much

00:08:04,700 --> 00:08:10,880
more extensible it's got a core which is

00:08:08,320 --> 00:08:15,830
just some common functionality like

00:08:10,880 --> 00:08:17,570
routing broadcasting scheduling and some

00:08:15,830 --> 00:08:19,610
preference storage stuff as well as a

00:08:17,570 --> 00:08:22,220
few other bits and then it's got a

00:08:19,610 --> 00:08:23,570
couple of types of modules so that you

00:08:22,220 --> 00:08:26,210
can get it to do stuff so there's

00:08:23,570 --> 00:08:28,640
plugins which do whatever you want they

00:08:26,210 --> 00:08:31,190
handle the heavy lifting so you can get

00:08:28,640 --> 00:08:33,800
it to reply with texts or connect to an

00:08:31,190 --> 00:08:36,500
API or interface with a piece of

00:08:33,800 --> 00:08:38,180
hardware and then there's interfaces

00:08:36,500 --> 00:08:40,909
which ways to communicate with it which

00:08:38,180 --> 00:08:43,520
is usually a chat system so that's like

00:08:40,909 --> 00:08:47,270
Google Hangouts or facebook chat or

00:08:43,520 --> 00:08:49,160
slack or hip chat and if so if there's a

00:08:47,270 --> 00:08:51,920
way you can connect it you can probably

00:08:49,160 --> 00:08:54,680
connect it a lot of these things as I

00:08:51,920 --> 00:08:58,399
mentioned earlier have a NPM

00:08:54,680 --> 00:09:00,470
or for it it's all open source and

00:08:58,399 --> 00:09:02,480
JavaScript's it runs on node it sits on

00:09:00,470 --> 00:09:06,200
a Raspberry Pi behind my TV in my living

00:09:02,480 --> 00:09:08,330
room and it's all MIT license because

00:09:06,200 --> 00:09:13,820
why the hell not and I might change that

00:09:08,330 --> 00:09:16,970
after Boyles talked earlier and then yes

00:09:13,820 --> 00:09:18,649
all up and github it there's the link at

00:09:16,970 --> 00:09:21,950
the ends and you can all have a look and

00:09:18,649 --> 00:09:26,750
poke and delete and whatever you want

00:09:21,950 --> 00:09:30,200
and have a try so yeah in the beginning

00:09:26,750 --> 00:09:34,550
I only wanted to download movies so I

00:09:30,200 --> 00:09:36,529
was sat at my previous company with one

00:09:34,550 --> 00:09:39,770
of my co-workers waiting for a meeting

00:09:36,529 --> 00:09:42,380
start and he had his iPads he was

00:09:39,770 --> 00:09:45,170
connected by VPN into his Raspberry Pi

00:09:42,380 --> 00:09:46,850
at home was just sat queuing up movies

00:09:45,170 --> 00:09:49,850
to downloads and I thought that seemed

00:09:46,850 --> 00:09:51,860
like a lot of effort I knew of software

00:09:49,850 --> 00:09:53,870
that could download movies I knew it had

00:09:51,860 --> 00:09:56,480
an API I just wanted to be able to send

00:09:53,870 --> 00:09:59,779
a message it to send me an IND be linked

00:09:56,480 --> 00:10:04,070
say is this the film you meant I go yeah

00:09:59,779 --> 00:10:05,900
cool it just goes and downloads but

00:10:04,070 --> 00:10:07,730
before I managed to do that I can't

00:10:05,900 --> 00:10:15,310
remember how but I am managed to

00:10:07,730 --> 00:10:17,320
automate my lamps instead so this is a

00:10:15,310 --> 00:10:22,450
sending message

00:10:17,320 --> 00:10:28,550
the lamps go off send another message

00:10:22,450 --> 00:10:31,700
and then the lamps come back on and to

00:10:28,550 --> 00:10:34,010
me that's amazing because as developers

00:10:31,700 --> 00:10:35,570
we don't get as JavaScript developers we

00:10:34,010 --> 00:10:38,140
generally don't get a real-world effect

00:10:35,570 --> 00:10:40,430
of our codes so I was just sat there

00:10:38,140 --> 00:10:42,260
typing the messages and hitting Enter

00:10:40,430 --> 00:10:45,829
and as the lights were going off on off

00:10:42,260 --> 00:10:51,320
and on just giggling to myself because

00:10:45,829 --> 00:10:54,350
yes it's amazing and then so this is the

00:10:51,320 --> 00:10:56,630
hardware for it it's a cheap Wi-Fi plug

00:10:54,350 --> 00:11:00,260
that I got from China for about 15 euros

00:10:56,630 --> 00:11:02,329
and because it's got the Chinese plug on

00:11:00,260 --> 00:11:05,320
the back I have to use an adapter which

00:11:02,329 --> 00:11:05,320
means it's super safe

00:11:07,900 --> 00:11:11,950
and then by just like poking around at

00:11:10,390 --> 00:11:14,410
the network connection for it I found

00:11:11,950 --> 00:11:17,050
that it had telnet exposed and you could

00:11:14,410 --> 00:11:19,540
drop into it through that and then I

00:11:17,050 --> 00:11:21,190
found a Google group which they'd been

00:11:19,540 --> 00:11:26,230
exploring and they'd found the SSH

00:11:21,190 --> 00:11:28,870
password and it runs open wrt which is a

00:11:26,230 --> 00:11:30,700
small Linux distribution for routers and

00:11:28,870 --> 00:11:33,760
it's got a web server on it so that

00:11:30,700 --> 00:11:35,880
means that we can put scripts on it and

00:11:33,760 --> 00:11:38,680
make it do stuff when you hear a page so

00:11:35,880 --> 00:11:40,660
I've got it so that you hit a page with

00:11:38,680 --> 00:11:42,550
the certain parameter and it turns the

00:11:40,660 --> 00:11:44,710
relay on hit it with a different

00:11:42,550 --> 00:11:48,370
parameter it turns the relay off and

00:11:44,710 --> 00:11:51,220
then another page to request the status

00:11:48,370 --> 00:11:53,260
so you can tell if it's on or off and

00:11:51,220 --> 00:11:56,320
then there's also script on there that

00:11:53,260 --> 00:11:58,270
broadcasts the name the IP and some tags

00:11:56,320 --> 00:12:00,460
so that I can group it into certain

00:11:58,270 --> 00:12:03,970
sections every two minutes so that

00:12:00,460 --> 00:12:10,450
Woodhouse can pick up the plug and then

00:12:03,970 --> 00:12:14,680
a page configure those items as well and

00:12:10,450 --> 00:12:19,200
I use this every day so as I get off the

00:12:14,680 --> 00:12:19,200
bus after work I'll send a message and

00:12:19,410 --> 00:12:27,460
it'll have my lamps on or if I'm driving

00:12:23,770 --> 00:12:30,220
I will shout to my phone and use Google

00:12:27,460 --> 00:12:32,350
now to tell it to send a message to

00:12:30,220 --> 00:12:34,780
Woodhouse and turn the lamps on which

00:12:32,350 --> 00:12:37,180
means that I get home the lights are on

00:12:34,780 --> 00:12:40,000
I'm not stepping on anything that's been

00:12:37,180 --> 00:12:41,410
put through the door I'm not looking

00:12:40,000 --> 00:12:43,900
around for the light switch I just walk

00:12:41,410 --> 00:12:47,530
in and do I'm gonna be doing it makes my

00:12:43,900 --> 00:12:49,450
life easier and then I began adding

00:12:47,530 --> 00:12:51,760
other little bits I eventually got round

00:12:49,450 --> 00:12:54,490
to using to doing the TV and film

00:12:51,760 --> 00:12:56,440
downloaders but I never actually used

00:12:54,490 --> 00:13:00,280
them because streaming became popular

00:12:56,440 --> 00:13:02,170
and easy with stuff like Netflix by

00:13:00,280 --> 00:13:05,200
added like reminders so that I couldn't

00:13:02,170 --> 00:13:07,240
put a pizza in the oven and then send a

00:13:05,200 --> 00:13:08,740
message to tell it to remind me to get

00:13:07,240 --> 00:13:12,430
the pizza out the oven because burnt

00:13:08,740 --> 00:13:13,810
Pete's is terrible and I can check if

00:13:12,430 --> 00:13:17,830
websites are up by sending it a message

00:13:13,810 --> 00:13:19,750
saying Woodhouse is Google calm up

00:13:17,830 --> 00:13:21,310
and it'll tell me yes or no using

00:13:19,750 --> 00:13:24,790
something like down for everyone I'll

00:13:21,310 --> 00:13:26,470
just me and then gift searches because

00:13:24,790 --> 00:13:30,670
gifts are excellent who doesn't want

00:13:26,470 --> 00:13:32,620
random gifts sent to their phone and I

00:13:30,670 --> 00:13:36,120
started having all these random ideas of

00:13:32,620 --> 00:13:40,000
stuff I could get its control like

00:13:36,120 --> 00:13:43,209
everything but instead I started to

00:13:40,000 --> 00:13:45,550
rewrite it because the old code was a

00:13:43,209 --> 00:13:46,930
mess and I just been sort of chucking

00:13:45,550 --> 00:13:50,200
things at it as I was getting really

00:13:46,930 --> 00:13:52,209
excited about building it and it got to

00:13:50,200 --> 00:13:55,060
a point that if I was doing a refactor

00:13:52,209 --> 00:13:58,089
of anything or trying to build up a new

00:13:55,060 --> 00:14:00,250
feature it would take way too long

00:13:58,089 --> 00:14:01,660
because I'd have to untangle all this

00:14:00,250 --> 00:14:04,089
stuff and figure out what he was doing

00:14:01,660 --> 00:14:09,370
and why I did it like that and then

00:14:04,089 --> 00:14:12,640
break things so I knew how it works and

00:14:09,370 --> 00:14:16,300
I could structure it well and split up

00:14:12,640 --> 00:14:18,579
into nice modules and I could use the s6

00:14:16,300 --> 00:14:20,589
because noted advanced at that point

00:14:18,579 --> 00:14:22,959
I've got to use all the nice stuff that

00:14:20,589 --> 00:14:27,520
came with that and because it was node

00:14:22,959 --> 00:14:29,470
it just worked and so I gave this talk

00:14:27,520 --> 00:14:33,970
the first time in November last year and

00:14:29,470 --> 00:14:39,700
I wanted to do something new so I ought

00:14:33,970 --> 00:14:41,950
made my curtains so you send a message

00:14:39,700 --> 00:14:45,970
and they open and it's really loud and

00:14:41,950 --> 00:14:49,450
kind of creepy looking and send another

00:14:45,970 --> 00:14:51,340
message and they'll close

00:14:49,450 --> 00:14:54,870
and again it's a bit I can't imagine

00:14:51,340 --> 00:14:54,870
what it looks like from the outside

00:14:58,170 --> 00:15:04,180
so yeah the parts for that were pretty

00:15:01,390 --> 00:15:05,920
basic we've got a plastic box that I

00:15:04,180 --> 00:15:09,820
bought from a supermarket to hold

00:15:05,920 --> 00:15:12,610
everything in a servo some string some

00:15:09,820 --> 00:15:14,590
plastic wheels and some stuff to attach

00:15:12,610 --> 00:15:16,600
it to curtain pole I've just realized

00:15:14,590 --> 00:15:18,370
that sounds like I'm on a kids TV show

00:15:16,600 --> 00:15:22,420
the explaining what you need to build

00:15:18,370 --> 00:15:24,940
something and yeah the string just sits

00:15:22,420 --> 00:15:28,540
in a loop with the curtains attached to

00:15:24,940 --> 00:15:31,090
them by zip ties and whichever way the

00:15:28,540 --> 00:15:33,610
cut the string rotates depends whether

00:15:31,090 --> 00:15:37,060
they open or close and it's kind of

00:15:33,610 --> 00:15:39,100
rubbish but it works and for the hard

00:15:37,060 --> 00:15:42,370
for the actual hardware part of it is an

00:15:39,100 --> 00:15:45,910
esp8266 which is a microcontroller like

00:15:42,370 --> 00:15:48,090
an Arduino but it's got Wi-Fi and it

00:15:45,910 --> 00:15:50,200
costs a couple of euros from China and

00:15:48,090 --> 00:15:51,700
you can get this firmware called

00:15:50,200 --> 00:15:53,200
Mongoose OS which means you can write

00:15:51,700 --> 00:15:55,960
JavaScript in haven't instead of having

00:15:53,200 --> 00:15:59,620
to do C I don't know C I just know

00:15:55,960 --> 00:16:01,630
JavaScript and for getting it to control

00:15:59,620 --> 00:16:04,780
my curtains and to configure it and

00:16:01,630 --> 00:16:07,000
stuff like that I had 75 lines

00:16:04,780 --> 00:16:09,130
it's got end points for opening closing

00:16:07,000 --> 00:16:11,590
and to give me the status I can

00:16:09,130 --> 00:16:14,890
configure it with some tags and a name

00:16:11,590 --> 00:16:17,110
and how long the duration for the open

00:16:14,890 --> 00:16:19,690
and close should be and also

00:16:17,110 --> 00:16:23,230
broadcasting so that Woodhouse can pick

00:16:19,690 --> 00:16:26,940
it up again and that's in 75 lines of of

00:16:23,230 --> 00:16:30,130
hardware and there's so much cool stuff

00:16:26,940 --> 00:16:32,560
for doing JavaScript and hardware

00:16:30,130 --> 00:16:35,440
together so I've mentioned Mongoose

00:16:32,560 --> 00:16:38,200
already but there's like johnny-five and

00:16:35,440 --> 00:16:41,670
Cylon jeaious which they work on Arduino

00:16:38,200 --> 00:16:44,200
and Raspberry Pi and then there's

00:16:41,670 --> 00:16:46,420
development boards that have JavaScript

00:16:44,200 --> 00:16:47,050
running on them like s Perino's and

00:16:46,420 --> 00:16:49,000
tehsils

00:16:47,050 --> 00:16:53,320
and they're a little bit more expensive

00:16:49,000 --> 00:16:55,450
than nes ph 266 and loading mongoose or

00:16:53,320 --> 00:16:58,300
on a mongoose arrest on it yourself but

00:16:55,450 --> 00:17:00,250
they're a bit better supported and you

00:16:58,300 --> 00:17:03,040
can use like MPM to run stuff on the

00:17:00,250 --> 00:17:05,929
tehsil at least I know that

00:17:03,040 --> 00:17:08,089
and that there's plenty more on the web

00:17:05,929 --> 00:17:09,620
for this stuff as well like people like

00:17:08,089 --> 00:17:12,110
hacking around at this stuff because

00:17:09,620 --> 00:17:13,730
it's interesting it's fun and it makes

00:17:12,110 --> 00:17:15,439
it easy to dive in and just get started

00:17:13,730 --> 00:17:18,020
even if you have no experience with

00:17:15,439 --> 00:17:22,730
hardware I have zero experience with

00:17:18,020 --> 00:17:25,610
hardware and eventually I got boards

00:17:22,730 --> 00:17:28,940
over Christmas and started shouting in

00:17:25,610 --> 00:17:31,460
my laptop and it wasn't like code wasn't

00:17:28,940 --> 00:17:34,330
working and being frustrated it was

00:17:31,460 --> 00:17:40,370
generally to get boys controlled house

00:17:34,330 --> 00:17:42,740
turn off lamps chair a lamp has been

00:17:40,370 --> 00:17:47,260
turned off TV lamp has been turned off

00:17:42,740 --> 00:17:53,450
couch lamp has been turned off Woodhouse

00:17:47,260 --> 00:17:56,179
turn on lamps chair lamp has been turned

00:17:53,450 --> 00:17:59,690
on TV lamp has been turned on couch lamp

00:17:56,179 --> 00:18:02,540
has been turned on so yeah it's got the

00:17:59,690 --> 00:18:04,130
worst reply voice ever but that's the

00:18:02,540 --> 00:18:08,140
default in festival which is a

00:18:04,130 --> 00:18:10,970
text-to-speech library on us speech

00:18:08,140 --> 00:18:13,280
program on Linux and I'm sure if you've

00:18:10,970 --> 00:18:18,140
run it unlike a Mac or some quiet that

00:18:13,280 --> 00:18:20,090
it'll sound awesome but yes so the hot

00:18:18,140 --> 00:18:22,640
word of shouting would house is offline

00:18:20,090 --> 00:18:24,590
which there are no there's a lot of

00:18:22,640 --> 00:18:26,240
privacy concerns for the Alexis stuff

00:18:24,590 --> 00:18:29,600
where it's constantly recording you and

00:18:26,240 --> 00:18:33,049
sending its Amazon service and that's

00:18:29,600 --> 00:18:34,160
using the library called snowboy and you

00:18:33,049 --> 00:18:36,740
train the model by going to their

00:18:34,160 --> 00:18:39,260
website and saying whatever you want

00:18:36,740 --> 00:18:40,880
you're hot were to be three times and

00:18:39,260 --> 00:18:44,179
then for the main part of it I use

00:18:40,880 --> 00:18:46,809
google speech API because they have a

00:18:44,179 --> 00:18:49,700
ton more data than I will ever have and

00:18:46,809 --> 00:18:51,980
it just makes it a lot easier you get 60

00:18:49,700 --> 00:18:54,860
minutes free a month chunks into 15

00:18:51,980 --> 00:18:57,350
second blocks but you could use

00:18:54,860 --> 00:18:59,750
something like Amazon or Assurance ted's

00:18:57,350 --> 00:19:01,669
but that's just literally when you want

00:18:59,750 --> 00:19:03,650
it to actually do something because it's

00:19:01,669 --> 00:19:07,070
triggered by the offline hot word and

00:19:03,650 --> 00:19:08,840
the way this works is that I have or I

00:19:07,070 --> 00:19:10,760
will have raspberry PI's scattered

00:19:08,840 --> 00:19:13,490
around my house with a microphone and a

00:19:10,760 --> 00:19:14,940
speaker and they deal with all that and

00:19:13,490 --> 00:19:18,210
then just send

00:19:14,940 --> 00:19:19,650
the actual converted texts turd the

00:19:18,210 --> 00:19:22,290
central hub of Woodhouse why have a

00:19:19,650 --> 00:19:25,500
central thing dealing with all the sort

00:19:22,290 --> 00:19:28,260
of state and everything happening so

00:19:25,500 --> 00:19:30,720
yeah that's the story of my strange home

00:19:28,260 --> 00:19:33,780
automation stuff so far but it's only

00:19:30,720 --> 00:19:35,820
just beginning I have so much stuff I

00:19:33,780 --> 00:19:37,950
want to do with it like I want to add

00:19:35,820 --> 00:19:39,750
the third module type of data providers

00:19:37,950 --> 00:19:41,220
so that it can have like light sensors

00:19:39,750 --> 00:19:43,440
and temperature sensors and have that

00:19:41,220 --> 00:19:44,010
feeding and module subscribe to it stuff

00:19:43,440 --> 00:19:46,290
like that

00:19:44,010 --> 00:19:48,630
and then a recipe system like I have

00:19:46,290 --> 00:19:51,450
triple T so that I don't even have to

00:19:48,630 --> 00:19:54,450
send a message I just connect to my

00:19:51,450 --> 00:19:56,220
network and it's dark outside and it

00:19:54,450 --> 00:20:01,320
turns on my lamps and closes my curtains

00:19:56,220 --> 00:20:03,270
so I can be even lazier and even like

00:20:01,320 --> 00:20:05,700
natural language processing so I'm not

00:20:03,270 --> 00:20:07,980
having to in the demo of the voice

00:20:05,700 --> 00:20:09,960
control I barked a specific command that

00:20:07,980 --> 00:20:13,290
didn't sound natural because it was wood

00:20:09,960 --> 00:20:15,090
house turn off lounge lamps which feels

00:20:13,290 --> 00:20:16,800
wrong it'd be nice to be able to say

00:20:15,090 --> 00:20:19,170
wood house turn off of the lounge lamps

00:20:16,800 --> 00:20:20,250
it feels a bit more conversational so

00:20:19,170 --> 00:20:22,650
I'd love to get a bit more natural

00:20:20,250 --> 00:20:25,050
language processing in there and even

00:20:22,650 --> 00:20:26,870
have a unit in my car so that I can do

00:20:25,050 --> 00:20:29,250
stuff like controlling the music and

00:20:26,870 --> 00:20:32,700
contact the main hub to do stuff like

00:20:29,250 --> 00:20:35,040
turning off my lamps so that it's easier

00:20:32,700 --> 00:20:36,600
and I'm definitely don't want it to

00:20:35,040 --> 00:20:41,280
control my car because that would be a

00:20:36,600 --> 00:20:42,570
terrible idea and even more Hardware

00:20:41,280 --> 00:20:44,730
stuff because I've really enjoyed having

00:20:42,570 --> 00:20:46,260
a play with hardware and getting a

00:20:44,730 --> 00:20:49,290
physical experience out of something

00:20:46,260 --> 00:20:51,360
that we don't normally so stuff like

00:20:49,290 --> 00:20:53,970
I've thought of how I could do a door

00:20:51,360 --> 00:20:56,280
lock or light switches or even

00:20:53,970 --> 00:20:58,440
controlling my thermostat my manager

00:20:56,280 --> 00:21:01,410
told me how he does his with an Arduino

00:20:58,440 --> 00:21:04,110
and a server it just like it's one of

00:21:01,410 --> 00:21:06,090
those dial ones where it just rotates it

00:21:04,110 --> 00:21:08,610
to the point that it needs to turn on or

00:21:06,090 --> 00:21:12,420
off and that seems great and I kind of

00:21:08,610 --> 00:21:14,130
want to do that now and I'm genuinely

00:21:12,420 --> 00:21:16,740
terrified at the prospect of home

00:21:14,130 --> 00:21:18,840
ownership not because of having a

00:21:16,740 --> 00:21:20,340
mortgage or being growing up but recover

00:21:18,840 --> 00:21:22,370
because I'll probably burn the house

00:21:20,340 --> 00:21:22,370
down

00:21:24,560 --> 00:21:28,450
so yeah the stylist talked I said I was

00:21:27,420 --> 00:21:31,780
lazy

00:21:28,450 --> 00:21:34,420
I want to correct that I'm the stupid

00:21:31,780 --> 00:21:36,460
kinda lazy where I spend hundreds and

00:21:34,420 --> 00:21:39,220
hundreds of hours making things so that

00:21:36,460 --> 00:21:42,130
I don't have to do simple little tasks

00:21:39,220 --> 00:21:46,380
like turning on my lamps and closing my

00:21:42,130 --> 00:21:49,090
curtains but it goes further than that

00:21:46,380 --> 00:21:50,800
I'm not here just to show off the cool

00:21:49,090 --> 00:21:54,000
stuff I've built or at least I think

00:21:50,800 --> 00:21:56,800
it's called I want to inspire you to

00:21:54,000 --> 00:21:58,600
build some cool interesting things and

00:21:56,800 --> 00:22:01,030
show you that you can do some different

00:21:58,600 --> 00:22:02,890
things with JavaScript it's not just for

00:22:01,030 --> 00:22:07,480
building like server runtimes and api's

00:22:02,890 --> 00:22:09,670
or the front-end and I've learnt so much

00:22:07,480 --> 00:22:12,280
whilst doing this stuff I've learned a

00:22:09,670 --> 00:22:14,200
ton about JavaScript itself I've learned

00:22:12,280 --> 00:22:16,660
about es6 whilst doing it I've learned

00:22:14,200 --> 00:22:20,470
some stuff about UDP and some stuff

00:22:16,660 --> 00:22:22,030
about hardware and I kept going down the

00:22:20,470 --> 00:22:24,400
rabbit hole every time I came to

00:22:22,030 --> 00:22:26,890
something new I'd find that ton more

00:22:24,400 --> 00:22:28,690
stuff that I wanted to learn and I'd go

00:22:26,890 --> 00:22:31,960
cold I'm gonna make a note of all this

00:22:28,690 --> 00:22:34,630
and then just keep going and because I

00:22:31,960 --> 00:22:38,140
found it interesting it was fun I would

00:22:34,630 --> 00:22:40,960
keep going I even got a 3d printer

00:22:38,140 --> 00:22:42,460
because of it I'm planning his second

00:22:40,960 --> 00:22:44,860
version of the curtain opener that's way

00:22:42,460 --> 00:22:46,480
better designed and like has a tension

00:22:44,860 --> 00:22:48,520
system and stuff and I'll use the 3d

00:22:46,480 --> 00:22:50,590
printer for that and have a load of

00:22:48,520 --> 00:22:55,060
other stuff that I want to try and build

00:22:50,590 --> 00:22:56,620
with the 3d printer and I realized a

00:22:55,060 --> 00:22:59,380
great parallel when I was working on

00:22:56,620 --> 00:23:02,740
this talk that one of my other big

00:22:59,380 --> 00:23:04,840
passions is cooking in food and if you

00:23:02,740 --> 00:23:06,460
were learning to cook you would learn by

00:23:04,840 --> 00:23:08,020
cooking stuff that you want to eat it's

00:23:06,460 --> 00:23:09,520
kind of wasteful if you're not

00:23:08,020 --> 00:23:11,290
interested in it you're not gonna eat it

00:23:09,520 --> 00:23:13,030
learning how to cook it it's even

00:23:11,290 --> 00:23:14,680
difficult if you're not gonna eat it to

00:23:13,030 --> 00:23:18,180
taste it and know that it's actually

00:23:14,680 --> 00:23:20,770
done well and in a similar vein that

00:23:18,180 --> 00:23:22,150
when you're learning stuff build

00:23:20,770 --> 00:23:24,880
something that's weird and interesting

00:23:22,150 --> 00:23:26,620
to you it'll keep you invested it will

00:23:24,880 --> 00:23:29,410
keep you coming back and wanting to keep

00:23:26,620 --> 00:23:31,420
going and building more you can hack it

00:23:29,410 --> 00:23:33,430
you can cut corners you can refactor it

00:23:31,420 --> 00:23:36,100
is you're learning and playing around

00:23:33,430 --> 00:23:37,540
and being invested in it you're building

00:23:36,100 --> 00:23:40,930
it for yourself it doesn't have to be

00:23:37,540 --> 00:23:42,279
perfect you don't have to share it but

00:23:40,930 --> 00:23:46,539
people will probably be

00:23:42,279 --> 00:23:49,809
interested so thank you very much

00:23:46,539 --> 00:23:52,899
and come and say hello and chat if you

00:23:49,809 --> 00:23:53,180
see me around oh and there's the links

00:23:52,899 --> 00:23:53,500
for

00:23:53,180 --> 00:23:57,380
[Music]

00:23:53,500 --> 00:23:57,380

YouTube URL: https://www.youtube.com/watch?v=dAqKa3waNx8


