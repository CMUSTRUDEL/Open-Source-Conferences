Title: Modern Conntent Management Using Gatsby and Contentful - JS Monthly - January 2020
Publication date: 2020-02-25
Playlist: JS Monthly London
Description: 
	Modern content delivery using Gatsby and Contentful \\ Beau Allison

Over the past year Trussle (https://trussle.com) has migrated to a Contentful and Gatsby stack - taking advantage of statically generated pages using a headless CMS and modular components. This talk examines the design, architecture, implementation and measures the impact on content editors and SEO in a fintech startup.

Beau is a Tech Lead at Trussle. He works on optimising and streamlining the workflows for both advisers and customers. In his spare time he loves to build static sites; most recently https://seventyfive.cl

_

About Pusher Sessions:

We're bringing the meetup to you. With Sessions, you can watch recordings of top-notch talks from developer meetups -- wherever and whenever you want.

Meetups are a great way to learn from our peers and to keep up with the latest trends and technologies. As developers ourselves, we at Pusher wanted to bring this great content to more people... So we built Sessions. On Sessions, you can watch talks that interest you and subscribe to be notified when new content gets added.

If you run a meetup and want to get involved, kindly get in touch.

_

About Pusher:

Pusher is a hosted service with APIs, developer tools and open source libraries that greatly simplify integrating real-time functionality into web and mobile applications. 

Pusher will automatically scale when required, removing all the pain of setting up and maintaining a secure, real-time infrastructure. 

Pusher is already trusted to do so by thousands of developers and companies like GitHub, MailChimp, the Financial Times, Buffer and many more. 

Getting started takes just a few seconds: simply go to pusher.com and create a free account. Happy hacking!
Captions: 
	00:00:00,030 --> 00:00:05,629
my name is Bo I work at Russell one of

00:00:03,120 --> 00:00:07,680
the tech leads for the teams here

00:00:05,629 --> 00:00:09,510
yeah it's luckily bit about trust before

00:00:07,680 --> 00:00:11,790
but I'll just go over a few other points

00:00:09,510 --> 00:00:13,980
we're online mortgage broker

00:00:11,790 --> 00:00:16,080
we are rated a number in the UK in the

00:00:13,980 --> 00:00:16,529
online mortgage broker space and we are

00:00:16,080 --> 00:00:19,650
hiring

00:00:16,529 --> 00:00:21,300
so Quizlet Russell calm if you are

00:00:19,650 --> 00:00:24,090
interested we've got quite a few

00:00:21,300 --> 00:00:26,340
positions open mainly a lot for product

00:00:24,090 --> 00:00:28,109
engineering so a lot of the people here

00:00:26,340 --> 00:00:29,400
today in terms of you know types web

00:00:28,109 --> 00:00:31,380
developers or JavaScript developers

00:00:29,400 --> 00:00:34,530
front-end back-end pretty much

00:00:31,380 --> 00:00:37,200
everything head of data IT managers and

00:00:34,530 --> 00:00:38,520
designers as well as other things in

00:00:37,200 --> 00:00:41,460
terms of the team so we've got four

00:00:38,520 --> 00:00:43,110
primary teams we've got the web team

00:00:41,460 --> 00:00:45,270
which kind of servers the top of funnel

00:00:43,110 --> 00:00:48,600
team or the team that services the

00:00:45,270 --> 00:00:51,629
customer profile the page we've got the

00:00:48,600 --> 00:00:54,449
middle team which is myself we handle

00:00:51,629 --> 00:00:56,190
all the internal advisors and like

00:00:54,449 --> 00:00:58,530
getting the customer through from

00:00:56,190 --> 00:01:00,440
submission through to completion with

00:00:58,530 --> 00:01:02,280
the lender and then the Alice's team

00:01:00,440 --> 00:01:03,989
which is kinda like looking at the

00:01:02,280 --> 00:01:06,360
end-to-end automation flow today I

00:01:03,989 --> 00:01:09,659
really wanted to talk about a problem we

00:01:06,360 --> 00:01:12,390
had about a year ago at Russell and how

00:01:09,659 --> 00:01:14,700
we kind of solved that we had we had

00:01:12,390 --> 00:01:18,810
quite a quite a big site but it was

00:01:14,700 --> 00:01:21,180
running on a kind of pugs pug stack is

00:01:18,810 --> 00:01:24,119
anyone used pug before yeah quite a few

00:01:21,180 --> 00:01:27,450
people still used quite a bit but maybe

00:01:24,119 --> 00:01:28,560
going a little bit out of fashion now we

00:01:27,450 --> 00:01:30,840
were using contentful actually at the

00:01:28,560 --> 00:01:32,310
time but it was triggering kind of as a

00:01:30,840 --> 00:01:34,710
service side rendering piece so we would

00:01:32,310 --> 00:01:36,030
do kind of web book updates and it

00:01:34,710 --> 00:01:37,920
really wasn't kind of consistent with

00:01:36,030 --> 00:01:40,549
that current stack so Yanis mentioned

00:01:37,920 --> 00:01:42,990
before we are a JavaScript shops so

00:01:40,549 --> 00:01:45,600
about 80% of our code is typed with

00:01:42,990 --> 00:01:48,509
typescript and everything is served

00:01:45,600 --> 00:01:50,310
through react on the front end and then

00:01:48,509 --> 00:01:52,619
nodejs on the back end

00:01:50,310 --> 00:01:55,290
Postgres and everything is in pew Benes

00:01:52,619 --> 00:01:56,579
and eks this really wasn't consistent

00:01:55,290 --> 00:01:58,229
with our front-end technologies which

00:01:56,579 --> 00:02:00,000
did make it a little bit difficult to

00:01:58,229 --> 00:02:02,630
update I made it quite difficult to

00:02:00,000 --> 00:02:05,070
manage so we really had one primary goal

00:02:02,630 --> 00:02:08,099
that was a single codebase for AB for

00:02:05,070 --> 00:02:10,770
our landing pages it utilized the same

00:02:08,099 --> 00:02:13,380
text tag as everything else so all our

00:02:10,770 --> 00:02:15,210
like customer-facing components

00:02:13,380 --> 00:02:17,310
and all that customer-facing journeys in

00:02:15,210 --> 00:02:18,360
terms like the application piece was the

00:02:17,310 --> 00:02:20,370
same of what they would get on the

00:02:18,360 --> 00:02:21,780
landing page and then we really wanted

00:02:20,370 --> 00:02:24,570
to make it easily manageable and highly

00:02:21,780 --> 00:02:26,280
performant you've ever worked with like

00:02:24,570 --> 00:02:27,780
a CMS before a content management

00:02:26,280 --> 00:02:28,860
service I know a lot of people here

00:02:27,780 --> 00:02:32,610
probably worked with something like

00:02:28,860 --> 00:02:34,080
WordPress or Drupal or any of those

00:02:32,610 --> 00:02:36,210
other flavors

00:02:34,080 --> 00:02:38,360
we really wanted to make something or we

00:02:36,210 --> 00:02:39,870
wanted to use something was kind of

00:02:38,360 --> 00:02:42,510
consistent with our development

00:02:39,870 --> 00:02:45,000
experience just a few stats though from

00:02:42,510 --> 00:02:47,550
what we did use so currently our stack

00:02:45,000 --> 00:02:50,700
is serving over 350 articles guides and

00:02:47,550 --> 00:02:52,890
blog posts it's serving 16 sem campaigns

00:02:50,700 --> 00:02:54,870
so if you know when SEM is its search

00:02:52,890 --> 00:02:56,910
engine marketing so effectively Google

00:02:54,870 --> 00:02:58,340
Ads so when you type in mortgage broker

00:02:56,910 --> 00:03:00,510
it's actually a very competitive space

00:02:58,340 --> 00:03:02,040
some of the AdWords you actually pay I

00:03:00,510 --> 00:03:05,880
think over 10 pounds for some of them

00:03:02,040 --> 00:03:08,070
it's very expensive we do have a lot of

00:03:05,880 --> 00:03:10,830
the pages served from our tech stack on

00:03:08,070 --> 00:03:12,720
that and then we deploy over 25 times a

00:03:10,830 --> 00:03:15,360
day and diploma takes about two minutes

00:03:12,720 --> 00:03:17,430
each time one big piece there is

00:03:15,360 --> 00:03:18,690
actually bit of a caveat we're running

00:03:17,430 --> 00:03:20,340
with Jenkins which you'll kind of see a

00:03:18,690 --> 00:03:22,410
little bit later on but a minute of that

00:03:20,340 --> 00:03:25,110
is just the build time so as far as the

00:03:22,410 --> 00:03:26,490
NPM install time so we're kind of NPM

00:03:25,110 --> 00:03:28,680
caching you can actually get that down

00:03:26,490 --> 00:03:30,180
to under you know under a minute build

00:03:28,680 --> 00:03:31,920
time and then if you use something like

00:03:30,180 --> 00:03:34,140
metla fire or any of those other kind of

00:03:31,920 --> 00:03:35,250
static site generator services you can

00:03:34,140 --> 00:03:37,170
actually get the whole end-to-end

00:03:35,250 --> 00:03:38,280
process fairly quick in terms of the

00:03:37,170 --> 00:03:40,470
team size that we're currently using

00:03:38,280 --> 00:03:42,680
we've got about five content editors so

00:03:40,470 --> 00:03:44,880
that's people who are writing posts or

00:03:42,680 --> 00:03:47,190
people doing guides or anything like

00:03:44,880 --> 00:03:49,320
that and then this is primarily service

00:03:47,190 --> 00:03:50,730
within the larger team but ultimately

00:03:49,320 --> 00:03:53,100
about to front-end developers and a

00:03:50,730 --> 00:03:55,140
designer if you have any questions by

00:03:53,100 --> 00:03:57,330
the way jump in anytime the stack

00:03:55,140 --> 00:04:00,090
overview the overview that we did end up

00:03:57,330 --> 00:04:03,900
choosing with is a kind of a combination

00:04:00,090 --> 00:04:05,700
of a few services one is contentful this

00:04:03,900 --> 00:04:07,800
top primarily is about content for a bit

00:04:05,700 --> 00:04:11,550
the stuff I'm talking about is kind of

00:04:07,800 --> 00:04:13,620
is very the same across a lot of them so

00:04:11,550 --> 00:04:15,930
if you've used like Prisma core Prisma

00:04:13,620 --> 00:04:18,120
Keio or content stack a lot of these

00:04:15,930 --> 00:04:19,950
concepts really do apply so please don't

00:04:18,120 --> 00:04:21,810
think it's primarily bound to that but I

00:04:19,950 --> 00:04:24,840
will talk about some of our experiences

00:04:21,810 --> 00:04:27,000
with it does anyone use contentful in

00:04:24,840 --> 00:04:28,210
here yeah maybe a couple of you yeah

00:04:27,000 --> 00:04:30,160
let's

00:04:28,210 --> 00:04:32,740
the second piece up then is Gatsby and

00:04:30,160 --> 00:04:34,570
then again Gatsby preview service when I

00:04:32,740 --> 00:04:36,880
mean Gatsby I mean like the static site

00:04:34,570 --> 00:04:39,100
generator as you know a code piece when

00:04:36,880 --> 00:04:40,600
I'm talking about Gatsby preview that is

00:04:39,100 --> 00:04:42,639
actually like a sass offering from

00:04:40,600 --> 00:04:44,889
Gatsby so they've recently raised quite

00:04:42,639 --> 00:04:46,060
a bit of money Matthew I can't remove

00:04:44,889 --> 00:04:47,710
his last name but he's doing a fantastic

00:04:46,060 --> 00:04:49,030
job there and they've got quite a few

00:04:47,710 --> 00:04:50,800
pieces out and even they've got it like

00:04:49,030 --> 00:04:51,820
a cloud offering as well which is pretty

00:04:50,800 --> 00:04:53,590
cool

00:04:51,820 --> 00:04:58,540
does anyone used Gatsby or Gretzky

00:04:53,590 --> 00:05:00,850
preview yeah if I'll demo it later but

00:04:58,540 --> 00:05:03,340
basically it gives a way for content

00:05:00,850 --> 00:05:05,410
editors to see what their changes would

00:05:03,340 --> 00:05:07,660
look like before they publish it kind of

00:05:05,410 --> 00:05:10,590
yeah yeah I'll demo it a little bit

00:05:07,660 --> 00:05:13,060
further down the third ones Persei Oh

00:05:10,590 --> 00:05:15,520
has anyone heard of this one or used it

00:05:13,060 --> 00:05:17,229
no yeah I didn't think so it's actually

00:05:15,520 --> 00:05:18,100
a fairly new tool I actually think it's

00:05:17,229 --> 00:05:20,229
been around a while but it seems like

00:05:18,100 --> 00:05:21,520
they're doing a lot more advertising it

00:05:20,229 --> 00:05:23,740
really is pretty cool basically it gives

00:05:21,520 --> 00:05:26,350
you kind of visual regression test

00:05:23,740 --> 00:05:29,169
within PR commits so developers or

00:05:26,350 --> 00:05:31,360
content editors or even designers can go

00:05:29,169 --> 00:05:33,100
in and see what the code if would look

00:05:31,360 --> 00:05:35,530
like and then they can route approve or

00:05:33,100 --> 00:05:37,300
review it makes it very easy and you

00:05:35,530 --> 00:05:40,120
know not everyone s to spin up like a

00:05:37,300 --> 00:05:42,130
notary one has to download a pull

00:05:40,120 --> 00:05:44,080
request and then check it out and start

00:05:42,130 --> 00:05:46,210
to see what that would look like and

00:05:44,080 --> 00:05:47,919
then quite a lot of these others I think

00:05:46,210 --> 00:05:50,350
most people if removeth good old Jenkins

00:05:47,919 --> 00:05:53,020
I gave him the nice long icon tonight

00:05:50,350 --> 00:05:56,710
just to be a little bit kind of him s3

00:05:53,020 --> 00:05:58,450
and then nginx I did talk a little bit

00:05:56,710 --> 00:06:01,450
about it but in terms of their general

00:05:58,450 --> 00:06:03,539
use contentful as a headless CMS and

00:06:01,450 --> 00:06:05,770
then Gatsby as a static site generator

00:06:03,539 --> 00:06:08,139
and then visual regression and review

00:06:05,770 --> 00:06:10,750
the first piece up is kind of how these

00:06:08,139 --> 00:06:12,400
all tool stitched together so when I

00:06:10,750 --> 00:06:14,229
talk about content delivery I mean the

00:06:12,400 --> 00:06:18,010
content editors themselves they

00:06:14,229 --> 00:06:19,780
primarily work within contentful when

00:06:18,010 --> 00:06:22,360
they're updating when they're actually

00:06:19,780 --> 00:06:24,060
typing each request it actually sends a

00:06:22,360 --> 00:06:26,260
web request or sorry a web hook

00:06:24,060 --> 00:06:28,479
generates requests to gatsby preview

00:06:26,260 --> 00:06:31,110
pretty much every second at polling it

00:06:28,479 --> 00:06:33,250
and it's saying update the preview live

00:06:31,110 --> 00:06:35,200
when they do publish that goes to

00:06:33,250 --> 00:06:37,419
Jenkins which rebuilds the entire site

00:06:35,200 --> 00:06:39,700
from scratch and then puts in our s3

00:06:37,419 --> 00:06:41,800
bucket which is served by nginx

00:06:39,700 --> 00:06:43,060
I've got CloudFlare on top for caching

00:06:41,800 --> 00:06:44,740
but I'll probably ignore that for this

00:06:43,060 --> 00:06:47,320
talk but I just kept it there for a bit

00:06:44,740 --> 00:06:49,050
of brevity the second piece then is how

00:06:47,320 --> 00:06:51,400
the developers interact with this stack

00:06:49,050 --> 00:06:55,540
kind of standard workflow you go through

00:06:51,400 --> 00:06:57,880
github we use primarily contentful to

00:06:55,540 --> 00:06:59,530
create the content model which I'll talk

00:06:57,880 --> 00:07:01,090
about a little bit and then gatsby as

00:06:59,530 --> 00:07:05,470
kind of the static site generator itself

00:07:01,090 --> 00:07:09,210
we use per cio then within the PRS for

00:07:05,470 --> 00:07:11,980
review and anything there and then again

00:07:09,210 --> 00:07:14,170
when we're building we merge two master

00:07:11,980 --> 00:07:16,450
jenkins builds and stores it again in

00:07:14,170 --> 00:07:19,210
the s3 bucket so this is what a sample

00:07:16,450 --> 00:07:21,760
page looks like you can see it's a

00:07:19,210 --> 00:07:24,460
combination of like a hero some call to

00:07:21,760 --> 00:07:27,100
actions a disclaimer which is really

00:07:24,460 --> 00:07:28,840
actually quite challenging from a design

00:07:27,100 --> 00:07:30,460
point of view because you could kind of

00:07:28,840 --> 00:07:32,590
get them in like a small amount but not

00:07:30,460 --> 00:07:34,840
too large they take up certain portions

00:07:32,590 --> 00:07:37,060
of the screen and then you can see we've

00:07:34,840 --> 00:07:39,370
got different components here like the

00:07:37,060 --> 00:07:41,640
author credentials and then this piece

00:07:39,370 --> 00:07:43,510
has broken down into individual elements

00:07:41,640 --> 00:07:45,340
and when you're starting one of these

00:07:43,510 --> 00:07:47,830
projects that really starts in the first

00:07:45,340 --> 00:07:50,260
part from the component design so you'll

00:07:47,830 --> 00:07:53,830
have your designer draw out a whole

00:07:50,260 --> 00:07:56,380
section of individual components that

00:07:53,830 --> 00:07:59,710
kind of starts from things like kind of

00:07:56,380 --> 00:08:01,990
an images and copy images and copy kind

00:07:59,710 --> 00:08:07,960
of component through to a text panel

00:08:01,990 --> 00:08:12,610
component no we only support English at

00:08:07,960 --> 00:08:16,600
the moment it really is contentful

00:08:12,610 --> 00:08:17,470
actually has I imagine that would be

00:08:16,600 --> 00:08:19,900
difficult

00:08:17,470 --> 00:08:22,830
we actually are regulated within the UK

00:08:19,900 --> 00:08:25,480
so it does that does make life easy

00:08:22,830 --> 00:08:27,930
English mortgage brokering is hard

00:08:25,480 --> 00:08:27,930
enough as it is

00:08:31,560 --> 00:08:36,070
mm-hmm imagine the disclaimers could get

00:08:34,270 --> 00:08:37,419
quite long this piece is obviously quite

00:08:36,070 --> 00:08:39,099
challenging from a design point of view

00:08:37,419 --> 00:08:42,250
because you have to develop components

00:08:39,099 --> 00:08:45,090
that can be in isolation but then could

00:08:42,250 --> 00:08:48,970
be used in multiple different ways so

00:08:45,090 --> 00:08:50,740
things like kind of images really become

00:08:48,970 --> 00:08:51,870
one of the hardest problems to solve

00:08:50,740 --> 00:08:53,310
which I'll talk a little bit about

00:08:51,870 --> 00:08:54,690
later again this breaks out into a

00:08:53,310 --> 00:08:55,920
different style of components something

00:08:54,690 --> 00:08:59,190
that might be more text-heavy

00:08:55,920 --> 00:09:00,870
something like the sections you'll have

00:08:59,190 --> 00:09:05,430
a combination of each of these

00:09:00,870 --> 00:09:08,550
individual items managed by the CMS and

00:09:05,430 --> 00:09:12,690
so is this as well you can kind of see

00:09:08,550 --> 00:09:14,100
on this next slide how this kind of

00:09:12,690 --> 00:09:15,360
breaks out from a developer's point of

00:09:14,100 --> 00:09:16,890
view so this is where the developer

00:09:15,360 --> 00:09:19,170
starts coming in and we look at it and

00:09:16,890 --> 00:09:20,460
say oh how can we actually start to

00:09:19,170 --> 00:09:22,320
manage this from contentful

00:09:20,460 --> 00:09:26,070
for anyone that did notice there that

00:09:22,320 --> 00:09:29,550
actually is a h2 not a h1 yeah quite a

00:09:26,070 --> 00:09:31,890
bit cheeky one so the challenge is to

00:09:29,550 --> 00:09:33,390
make everything editable and then trying

00:09:31,890 --> 00:09:36,089
to put in the most amount or a minimum

00:09:33,390 --> 00:09:38,610
amount of validation required so you've

00:09:36,089 --> 00:09:41,130
got this editable h2 and the text

00:09:38,610 --> 00:09:43,560
underneath and then underneath that

00:09:41,130 --> 00:09:46,140
you've then got this separate component

00:09:43,560 --> 00:09:48,000
which if you imagine this is the top

00:09:46,140 --> 00:09:50,160
layer or the shell this one kind of sits

00:09:48,000 --> 00:09:52,080
underneath and each of these within it

00:09:50,160 --> 00:09:54,630
and then individual components or

00:09:52,080 --> 00:09:56,279
elements and then again one of these

00:09:54,630 --> 00:09:58,200
binds to one of this and then you have

00:09:56,279 --> 00:10:03,150
to work out a way to effectively render

00:09:58,200 --> 00:10:06,560
that systematically things like trying

00:10:03,150 --> 00:10:09,120
to make an optional call to action again

00:10:06,560 --> 00:10:11,190
underneath this it has a URL that it

00:10:09,120 --> 00:10:12,480
would click to and then whether or not

00:10:11,190 --> 00:10:14,880
that might maybe pass through some

00:10:12,480 --> 00:10:16,650
cookies or whatever so then this breaks

00:10:14,880 --> 00:10:18,510
down from the contentful side into the

00:10:16,650 --> 00:10:19,740
content the content model and this is

00:10:18,510 --> 00:10:23,870
really the primary focus that a

00:10:19,740 --> 00:10:26,100
developer runs through you can add

00:10:23,870 --> 00:10:28,250
virtually everything that you could

00:10:26,100 --> 00:10:31,370
almost think of in terms of what kind of

00:10:28,250 --> 00:10:33,270
what kind of text fields or all kind of

00:10:31,370 --> 00:10:36,890
options there might be so you can add

00:10:33,270 --> 00:10:39,660
boolean short text long text images and

00:10:36,890 --> 00:10:42,450
then you can add kind of arrays of each

00:10:39,660 --> 00:10:45,140
or combinations of each it is quite nice

00:10:42,450 --> 00:10:47,880
because you do get a nice JSON preview

00:10:45,140 --> 00:10:50,279
that does scroll down it is quite

00:10:47,880 --> 00:10:52,410
helpful it does have a graph QL layer on

00:10:50,279 --> 00:10:54,450
top which you primarily call this back

00:10:52,410 --> 00:10:59,130
with and it doesn't make it for quite

00:10:54,450 --> 00:11:01,860
easy management the next piece is

00:10:59,130 --> 00:11:05,760
validations so it's probably not the

00:11:01,860 --> 00:11:07,500
most it's probably not the most flexible

00:11:05,760 --> 00:11:10,230
yet but it does give you a certain

00:11:07,500 --> 00:11:12,839
amount of control you can add things

00:11:10,230 --> 00:11:14,760
that are required or optional you can

00:11:12,839 --> 00:11:18,570
add on some things like images a maximum

00:11:14,760 --> 00:11:20,339
or minimum image size it doesn't go to

00:11:18,570 --> 00:11:23,600
the full extent in terms of pixels or

00:11:20,339 --> 00:11:26,010
characters but you get kind of enough

00:11:23,600 --> 00:11:27,750
flexibility within it to virtually do

00:11:26,010 --> 00:11:29,670
what you want and this has been what a

00:11:27,750 --> 00:11:32,430
content editor would see so this is the

00:11:29,670 --> 00:11:36,390
page editing side of things so a content

00:11:32,430 --> 00:11:38,070
editor comes in they have this entry

00:11:36,390 --> 00:11:40,640
title which you can put some like regex

00:11:38,070 --> 00:11:44,280
validation on so we're trying to keep it

00:11:40,640 --> 00:11:45,450
uniform it doesn't allow you I think

00:11:44,280 --> 00:11:47,250
there's a new feature where you can pull

00:11:45,450 --> 00:11:50,459
an API for it but it's probably not as

00:11:47,250 --> 00:11:53,040
advanced as it'll eventually get you can

00:11:50,459 --> 00:11:55,610
add any kind of a page title then and

00:11:53,040 --> 00:11:58,920
then the URL description underneath that

00:11:55,610 --> 00:12:00,930
and then this is what the content editor

00:11:58,920 --> 00:12:04,320
would see so they would see the result

00:12:00,930 --> 00:12:06,540
of putting in the title the CTA's the

00:12:04,320 --> 00:12:09,570
the result of adding in the author's

00:12:06,540 --> 00:12:11,100
name and texts and the images then it's

00:12:09,570 --> 00:12:12,510
kind of similar to the hero image you've

00:12:11,100 --> 00:12:14,220
got the components underneath as well

00:12:12,510 --> 00:12:16,579
and these are kind of your standard

00:12:14,220 --> 00:12:19,050
components this one's for a calculator

00:12:16,579 --> 00:12:21,000
if you've never seen it but calculating

00:12:19,050 --> 00:12:23,970
mortgage kind of values is actually

00:12:21,000 --> 00:12:27,029
quite difficult but we have given the

00:12:23,970 --> 00:12:30,240
flexibility to put a calculator on any

00:12:27,029 --> 00:12:31,980
page and that's a it's like a remortgage

00:12:30,240 --> 00:12:33,690
so I'm going to remortgage calculator -

00:12:31,980 --> 00:12:34,579
how much can I afford calculator and how

00:12:33,690 --> 00:12:37,130
much I can borrow

00:12:34,579 --> 00:12:39,870
we've then kind of given the ability to

00:12:37,130 --> 00:12:42,140
add in different pieces of customizable

00:12:39,870 --> 00:12:45,150
text and then that ends up rendering

00:12:42,140 --> 00:12:47,070
quite a nice cut a nice field underneath

00:12:45,150 --> 00:12:48,810
you might have worked out by now that

00:12:47,070 --> 00:12:51,900
some of the challenges with this is kind

00:12:48,810 --> 00:12:53,400
of rigidity or flexibility and for

00:12:51,900 --> 00:12:56,670
everything that you do you basically

00:12:53,400 --> 00:12:58,440
have to give an option to so if we

00:12:56,670 --> 00:13:00,779
wanted to flip these panels around we've

00:12:58,440 --> 00:13:02,459
got kind of an option in contentful

00:13:00,779 --> 00:13:05,400
that basically says which order of these

00:13:02,459 --> 00:13:06,990
do I display first is one of the larger

00:13:05,400 --> 00:13:08,699
problems with this style of approach is

00:13:06,990 --> 00:13:10,770
that it doesn't really give designers

00:13:08,699 --> 00:13:12,870
the option to sorry content editors the

00:13:10,770 --> 00:13:14,490
option to tweak minor amounts of style

00:13:12,870 --> 00:13:15,710
changes or if they want to move an image

00:13:14,490 --> 00:13:18,649
up or down

00:13:15,710 --> 00:13:19,580
depending on your really field of view

00:13:18,649 --> 00:13:21,560
there some people think that's a good

00:13:19,580 --> 00:13:24,200
thing but content edible labels always

00:13:21,560 --> 00:13:25,460
want you know the ability to do more but

00:13:24,200 --> 00:13:27,470
if you're looking for something that

00:13:25,460 --> 00:13:29,570
really creates like a uniform sight this

00:13:27,470 --> 00:13:32,810
does work quite well how do you manage

00:13:29,570 --> 00:13:34,160
each of these things so a page is made

00:13:32,810 --> 00:13:37,339
up of probably we've got maybe 30

00:13:34,160 --> 00:13:39,290
components so we created this idea of a

00:13:37,339 --> 00:13:41,240
modular template which is an effectively

00:13:39,290 --> 00:13:43,910
an array of modules that I mentioned

00:13:41,240 --> 00:13:44,720
before and Incan temple and I'll show

00:13:43,910 --> 00:13:47,360
this after the break

00:13:44,720 --> 00:13:49,490
so I'll show this a little bit after you

00:13:47,360 --> 00:13:50,899
can insert a number of content modules

00:13:49,490 --> 00:13:52,810
and then you can rearrange them and

00:13:50,899 --> 00:13:55,399
that's how they'll appear on the page so

00:13:52,810 --> 00:13:58,459
as you can see the output of this is

00:13:55,399 --> 00:14:00,709
effectively a hero component at the top

00:13:58,459 --> 00:14:02,480
and then individual components

00:14:00,709 --> 00:14:04,640
underneath that are primarily in the

00:14:02,480 --> 00:14:07,850
order that the content editors designed

00:14:04,640 --> 00:14:11,860
it to be when creating these pages it's

00:14:07,850 --> 00:14:14,390
pretty simple from a code point of view

00:14:11,860 --> 00:14:17,560
gatsby itself actually has quite quite a

00:14:14,390 --> 00:14:19,640
good amount of documentation it's I

00:14:17,560 --> 00:14:21,560
didn't want to go into the code too much

00:14:19,640 --> 00:14:22,839
of it but it's it's this have got some

00:14:21,560 --> 00:14:26,120
great starter kits on there online

00:14:22,839 --> 00:14:27,770
especially having to set up with content

00:14:26,120 --> 00:14:31,400
one of the things we do is they have

00:14:27,770 --> 00:14:34,880
this idea of gatsby node file and then

00:14:31,400 --> 00:14:36,459
basically on build you downloads or you

00:14:34,880 --> 00:14:39,050
basically tell it to download all the

00:14:36,459 --> 00:14:40,670
modular templates that you want and then

00:14:39,050 --> 00:14:43,970
you cycle through those and then create

00:14:40,670 --> 00:14:46,010
a page on each on each section image

00:14:43,970 --> 00:14:48,140
management this is one of the tricky

00:14:46,010 --> 00:14:51,200
topics with contentful and I actually

00:14:48,140 --> 00:14:53,089
think with about Prisma caswell really

00:14:51,200 --> 00:14:54,680
image management is best done via the

00:14:53,089 --> 00:14:56,630
content editor before they upload

00:14:54,680 --> 00:14:58,400
they've recently got a new tool called

00:14:56,630 --> 00:15:01,130
image focal point tool but it doesn't

00:14:58,400 --> 00:15:04,040
really solve issues like kind of file

00:15:01,130 --> 00:15:06,170
size you can set maximum you can set

00:15:04,040 --> 00:15:08,060
maximum file size on the contentful

00:15:06,170 --> 00:15:10,459
image but really you have to kind of

00:15:08,060 --> 00:15:12,500
work with a content editor and training

00:15:10,459 --> 00:15:15,680
as part of kind of the development focus

00:15:12,500 --> 00:15:17,029
how to best produce images i actually

00:15:15,680 --> 00:15:20,380
think it's one of the core pieces of the

00:15:17,029 --> 00:15:21,529
job that actually really helps but the

00:15:20,380 --> 00:15:23,360
contentful

00:15:21,529 --> 00:15:25,450
tool itself doesn't lend itself that

00:15:23,360 --> 00:15:27,850
well it's copying features aren't great

00:15:25,450 --> 00:15:29,470
it's probably something best done

00:15:27,850 --> 00:15:30,790
previously there's quite a

00:15:29,470 --> 00:15:33,100
few tools out there for image

00:15:30,790 --> 00:15:34,600
optimization image Optimum's quite an

00:15:33,100 --> 00:15:36,100
eyesore there's a quite a nice web tool

00:15:34,600 --> 00:15:38,620
called pixel art and then obviously

00:15:36,100 --> 00:15:43,840
manual review is required as well we had

00:15:38,620 --> 00:15:47,410
quite a good bug where the X info on the

00:15:43,840 --> 00:15:49,870
s info on an image was displaying I was

00:15:47,410 --> 00:15:51,790
telling it basically to turn or turn

00:15:49,870 --> 00:15:52,870
right or rotate right and then

00:15:51,790 --> 00:15:56,500
contentful it would display like that

00:15:52,870 --> 00:15:59,830
but then you know during the preview of

00:15:56,500 --> 00:16:01,870
the build it would display normal so

00:15:59,830 --> 00:16:04,330
it's it's those kind of little gotchas

00:16:01,870 --> 00:16:06,070
that you really need to work with or do

00:16:04,330 --> 00:16:08,160
kind of before you get to the content

00:16:06,070 --> 00:16:10,840
full state one of the nice pieces though

00:16:08,160 --> 00:16:15,010
and this is not just explicit image

00:16:10,840 --> 00:16:16,720
management but with gatsby and content

00:16:15,010 --> 00:16:19,080
for plan the content of which text types

00:16:16,720 --> 00:16:23,340
is that you can basically tell it to

00:16:19,080 --> 00:16:26,710
render specific attributes or types of

00:16:23,340 --> 00:16:28,420
data in certain elements of HTML so a

00:16:26,710 --> 00:16:30,580
thing like an image you can basically

00:16:28,420 --> 00:16:32,530
say oh add this lays input this lazy

00:16:30,580 --> 00:16:34,240
loading plug-in and then wrap the image

00:16:32,530 --> 00:16:35,890
in the lazy loading plug-in which is

00:16:34,240 --> 00:16:38,140
quite nice and it kind of allows you to

00:16:35,890 --> 00:16:40,960
do lazy loading across all your images

00:16:38,140 --> 00:16:42,760
or if you wanted to say hypothetically

00:16:40,960 --> 00:16:45,370
make all your text italics on the site

00:16:42,760 --> 00:16:47,680
you could then rewrap it in that it's

00:16:45,370 --> 00:16:49,750
quite a nice way of giving the

00:16:47,680 --> 00:16:54,280
developers the ability to still manage

00:16:49,750 --> 00:16:56,140
some of the output from other CMS I did

00:16:54,280 --> 00:16:59,980
want to touch on this because there's a

00:16:56,140 --> 00:17:01,090
few cheeky ones the pricing and just to

00:16:59,980 --> 00:17:03,250
be transparent we're actually on the

00:17:01,090 --> 00:17:05,680
medium space and we're paying about 600

00:17:03,250 --> 00:17:07,680
a month that's primarily because we've

00:17:05,680 --> 00:17:10,060
got extra additional content editors

00:17:07,680 --> 00:17:11,320
first update they do have a free plan

00:17:10,060 --> 00:17:13,060
which I don't advertise it actually is

00:17:11,320 --> 00:17:15,700
really good I think we're on it for

00:17:13,060 --> 00:17:19,060
about a year and it really gets it's

00:17:15,700 --> 00:17:21,460
really quite good but this piece kind of

00:17:19,060 --> 00:17:23,410
does get you a little bit early we hit

00:17:21,460 --> 00:17:27,760
the maximum 24 content types so if you

00:17:23,410 --> 00:17:31,390
imagine you know a hero image or hero

00:17:27,760 --> 00:17:33,400
image with full-screen image or

00:17:31,390 --> 00:17:35,620
something is a separate entity that

00:17:33,400 --> 00:17:37,360
consumes one content type and they can

00:17:35,620 --> 00:17:41,440
wrap up pretty quickly you can see here

00:17:37,360 --> 00:17:42,720
I've just created a live example of how

00:17:41,440 --> 00:17:45,150
this would work

00:17:42,720 --> 00:17:51,960
I can edit the page title I can create

00:17:45,150 --> 00:17:53,669
some custom text I can change the URL I

00:17:51,960 --> 00:17:55,380
can set separate things and these are

00:17:53,669 --> 00:17:58,950
all features we had to build ourselves

00:17:55,380 --> 00:18:00,600
so things like index or no index I can

00:17:58,950 --> 00:18:02,840
set a meta description and meta title

00:18:00,600 --> 00:18:05,039
which will put it into the schema and

00:18:02,840 --> 00:18:07,860
they've added an already published

00:18:05,039 --> 00:18:08,760
component which isn't about us this is

00:18:07,860 --> 00:18:10,799
the piece I was talking about earlier

00:18:08,760 --> 00:18:13,380
this modular templates sorry this

00:18:10,799 --> 00:18:15,809
modular modules array where you can kind

00:18:13,380 --> 00:18:18,150
of link existing entries you can see

00:18:15,809 --> 00:18:20,880
I'll add a couple of random ones here

00:18:18,150 --> 00:18:23,309
but you can then insert it selected

00:18:20,880 --> 00:18:26,400
entries and then you can drag them up

00:18:23,309 --> 00:18:29,039
and down and this has got to be preview

00:18:26,400 --> 00:18:30,419
working so I'm gonna go grey again you

00:18:29,039 --> 00:18:32,130
can see Gatsby preview working in the

00:18:30,419 --> 00:18:34,470
background here and that's going to send

00:18:32,130 --> 00:18:38,340
a web web request to get to preview and

00:18:34,470 --> 00:18:41,010
there it's already updated and that does

00:18:38,340 --> 00:18:42,270
give you the ability to basically see

00:18:41,010 --> 00:18:45,330
what the page would look like before you

00:18:42,270 --> 00:18:47,789
publish it it's not a bad service it's

00:18:45,330 --> 00:18:49,289
just come out of beta as well not sure

00:18:47,789 --> 00:18:51,030
on the pricing on that one but they are

00:18:49,289 --> 00:18:51,500
pretty flexible for startups which is

00:18:51,030 --> 00:18:54,299
quite nice

00:18:51,500 --> 00:18:56,610
another core piece in trying to manage

00:18:54,299 --> 00:18:59,880
one of these large CMS's is managing 301

00:18:56,610 --> 00:19:02,340
so if you don't know a content editor

00:18:59,880 --> 00:19:04,200
over time we want to deprecated certain

00:19:02,340 --> 00:19:06,179
pages from the side and if you don't

00:19:04,200 --> 00:19:07,830
want to tank your SEO rating or you

00:19:06,179 --> 00:19:09,809
don't want to do some negative impact to

00:19:07,830 --> 00:19:12,780
it you basically want to tell Google

00:19:09,809 --> 00:19:15,380
this page is no longer there and it's

00:19:12,780 --> 00:19:17,880
redirecting to a new page if you do just

00:19:15,380 --> 00:19:19,890
remove that page you will get impacted

00:19:17,880 --> 00:19:22,770
negatively some of your backlinks might

00:19:19,890 --> 00:19:26,880
not be as strong as they were before so

00:19:22,770 --> 00:19:29,309
we do use nginx for that reason so this

00:19:26,880 --> 00:19:31,919
is just yeah well our ingress the ml

00:19:29,309 --> 00:19:33,539
file which we've done manually it's

00:19:31,919 --> 00:19:34,919
quite a nice solution you can do it in

00:19:33,539 --> 00:19:36,750
contentful or you can do it within the

00:19:34,919 --> 00:19:39,270
CMS but it does get a little bit messy

00:19:36,750 --> 00:19:41,190
if you're trying to do like maybe one or

00:19:39,270 --> 00:19:44,150
two redirections or you've got multiples

00:19:41,190 --> 00:19:46,140
makes a lot of the 301 management

00:19:44,150 --> 00:19:47,340
obfuscated so at least from a

00:19:46,140 --> 00:19:49,650
development point of view you can then

00:19:47,340 --> 00:19:51,929
have all of like your sites for your

00:19:49,650 --> 00:19:53,760
ones easily discoverable once you've got

00:19:51,929 --> 00:19:55,490
maybe two three hundred pages trying to

00:19:53,760 --> 00:19:58,010
find or where the 301 size

00:19:55,490 --> 00:20:00,860
a little bit challenging this is

00:19:58,010 --> 00:20:03,350
something I recommend we pretty much

00:20:00,860 --> 00:20:05,510
launch somewhere around at this point

00:20:03,350 --> 00:20:07,270
I'm not fully sure but you can kind of

00:20:05,510 --> 00:20:10,429
see the SEO impact of this

00:20:07,270 --> 00:20:12,170
implementation over time so we've been

00:20:10,429 --> 00:20:14,110
working on the page performance and and

00:20:12,170 --> 00:20:16,520
this is not just technical benefits but

00:20:14,110 --> 00:20:18,890
pretty much sits September 19 move

00:20:16,520 --> 00:20:22,250
slowly trended up in terms of our grow

00:20:18,890 --> 00:20:24,490
you could score on google it does lend

00:20:22,250 --> 00:20:26,210
itself to quite a nice amount of

00:20:24,490 --> 00:20:28,190
optimizations and it does make it a

00:20:26,210 --> 00:20:31,100
developer friendly framework for kind of

00:20:28,190 --> 00:20:32,809
finding and spotting errors or errors

00:20:31,100 --> 00:20:34,429
I do recommend pairing a tool with this

00:20:32,809 --> 00:20:35,900
though we're using calibre which is

00:20:34,429 --> 00:20:38,390
another sass service which we have on

00:20:35,900 --> 00:20:40,550
all our pages but we've recently we've

00:20:38,390 --> 00:20:44,300
been trying to work out with lighthouse

00:20:40,550 --> 00:20:45,830
CI which is a if you know lighthouse

00:20:44,300 --> 00:20:46,910
it's Google's framework for testing the

00:20:45,830 --> 00:20:48,350
web oh I'm sorry

00:20:46,910 --> 00:20:49,730
Google's framework for giving you kind

00:20:48,350 --> 00:20:51,980
of page performance and they've got a CI

00:20:49,730 --> 00:20:58,600
version which you can run on your github

00:20:51,980 --> 00:21:01,070
repos now this is kind of the overall

00:20:58,600 --> 00:21:03,170
it's the in like it's the aggregate

00:21:01,070 --> 00:21:06,290
score of Google's visibility of view

00:21:03,170 --> 00:21:09,820
over time so obviously the higher goes

00:21:06,290 --> 00:21:17,780
up the better page rankings you'll get

00:21:09,820 --> 00:21:19,100
sorry yeah this is a this is a SEM rush

00:21:17,780 --> 00:21:20,390
and I'm pretty sure it's actually kind

00:21:19,100 --> 00:21:23,150
of a funny one it's when they did a

00:21:20,390 --> 00:21:27,260
large database update or something like

00:21:23,150 --> 00:21:30,700
that it was some I think SEM rush say

00:21:27,260 --> 00:21:32,600
they had a like a large amount of page

00:21:30,700 --> 00:21:34,730
updates that day so it was like

00:21:32,600 --> 00:21:38,270
basically Google did maybe some updates

00:21:34,730 --> 00:21:40,520
on their rankings or algorithms one

00:21:38,270 --> 00:21:43,370
other quick tool then Persei oh I can't

00:21:40,520 --> 00:21:47,240
really demo this one as easily but

00:21:43,370 --> 00:21:50,929
basically on on the on the pull request

00:21:47,240 --> 00:21:52,910
you'll see it basically adds a another

00:21:50,929 --> 00:21:55,250
layer to it and it tells you in slack or

00:21:52,910 --> 00:21:58,070
wherever you are that it's either passed

00:21:55,250 --> 00:21:59,270
or fails it then gives you kind of like

00:21:58,070 --> 00:22:01,880
a web tool that you can see the

00:21:59,270 --> 00:22:03,530
comparison on so this is what it looks

00:22:01,880 --> 00:22:05,540
like and then it'll show you the CSS

00:22:03,530 --> 00:22:07,070
diff and you can basically add comments

00:22:05,540 --> 00:22:08,419
or approve or reject it it's kind of

00:22:07,070 --> 00:22:09,770
like github in terms of that like

00:22:08,419 --> 00:22:12,680
developer friendliness

00:22:09,770 --> 00:22:15,170
it's quite a nice tool it's also really

00:22:12,680 --> 00:22:16,940
well tell you one gutter in a second but

00:22:15,170 --> 00:22:20,870
it's really good for kind of personal

00:22:16,940 --> 00:22:22,730
projects and small projects the pricing

00:22:20,870 --> 00:22:25,940
is pretty reasonable at the start but

00:22:22,730 --> 00:22:28,460
there is one gotcha here it's that the

00:22:25,940 --> 00:22:31,700
amount of snapshots are done per commit

00:22:28,460 --> 00:22:33,200
so on Trussell comm which is like our

00:22:31,700 --> 00:22:37,400
landing pages we only had about two

00:22:33,200 --> 00:22:38,930
snapshots or two three snapshots / PR

00:22:37,400 --> 00:22:41,600
one which is fine you've got about five

00:22:38,930 --> 00:22:43,460
thousand for free but when we've

00:22:41,600 --> 00:22:47,000
released our new like customer journey

00:22:43,460 --> 00:22:49,940
profile we decided I will try Percy and

00:22:47,000 --> 00:22:51,830
that has about 260 snapshots where if

00:22:49,940 --> 00:22:53,120
this is happening on each commit one

00:22:51,830 --> 00:22:56,210
developer actually blew our entire

00:22:53,120 --> 00:23:01,280
month's usage in one day so it's a yeah

00:22:56,210 --> 00:23:03,170
it's something to be mindful of there in

00:23:01,280 --> 00:23:06,190
terms the stack of view overall and this

00:23:03,170 --> 00:23:10,160
my last piece on it there is a few pros

00:23:06,190 --> 00:23:12,890
it does get unified code and stylings if

00:23:10,160 --> 00:23:14,330
you've got a front end another front-end

00:23:12,890 --> 00:23:16,070
stack or you're using react somewhere

00:23:14,330 --> 00:23:18,170
else or Gatsby somewhere else you can

00:23:16,070 --> 00:23:20,840
easily import and make a static

00:23:18,170 --> 00:23:23,570
generated site using contentful and

00:23:20,840 --> 00:23:25,520
gatsby there is consistency in editing

00:23:23,570 --> 00:23:27,290
so some of those components that you saw

00:23:25,520 --> 00:23:29,780
before you can reuse them across

00:23:27,290 --> 00:23:32,720
different pages so if one gets updated

00:23:29,780 --> 00:23:35,230
it'll update all the dependent pages

00:23:32,720 --> 00:23:37,820
that is consuming it which is quite nice

00:23:35,230 --> 00:23:39,590
components are easily reused as in that

00:23:37,820 --> 00:23:41,750
sense as well and it's a pretty

00:23:39,590 --> 00:23:45,140
lightweight infrastructure it's just an

00:23:41,750 --> 00:23:46,520
s3 bucket or with nginx on top there's

00:23:45,140 --> 00:23:48,020
actually like I mentioned nettle afire

00:23:46,520 --> 00:23:50,210
before but in your if you've got a

00:23:48,020 --> 00:23:52,580
personal project I actually think it's

00:23:50,210 --> 00:23:55,340
probably my favorite I definitely

00:23:52,580 --> 00:23:56,930
recommend that there is some major cons

00:23:55,340 --> 00:23:59,180
though and that really is the content I

00:23:56,930 --> 00:24:00,650
just can't change stylings this kind of

00:23:59,180 --> 00:24:02,810
does become paramount when someone's

00:24:00,650 --> 00:24:04,730
like oh can you just move that image to

00:24:02,810 --> 00:24:06,410
the other side and you then have to

00:24:04,730 --> 00:24:08,390
create either some kind of boolean flag

00:24:06,410 --> 00:24:10,250
that says Oh image on left or right like

00:24:08,390 --> 00:24:11,720
it it does have that kind of rigidity to

00:24:10,250 --> 00:24:13,790
it but that can be a good or bad thing

00:24:11,720 --> 00:24:15,920
because sometimes I think maybe

00:24:13,790 --> 00:24:18,620
something depends if you've managed a

00:24:15,920 --> 00:24:21,140
CMS before especially maybe something

00:24:18,620 --> 00:24:22,250
like WordPress you know you've you go

00:24:21,140 --> 00:24:23,490
away for a week and suddenly the rest of

00:24:22,250 --> 00:24:27,299
the side looks completely different

00:24:23,490 --> 00:24:28,350
which is kind of a little bit hairy any

00:24:27,299 --> 00:24:30,720
other pieces the image optimization

00:24:28,350 --> 00:24:34,710
again does require man manual editing

00:24:30,720 --> 00:24:35,520
and review and that's pretty much it

00:24:34,710 --> 00:24:39,990
thanks

00:24:35,520 --> 00:24:39,990

YouTube URL: https://www.youtube.com/watch?v=mBeKKpY9s5w


