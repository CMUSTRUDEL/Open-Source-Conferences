Title: 100% CSS Mario Kart - JS Monthly - July 2019
Publication date: 2019-08-06
Playlist: JS Monthly London
Description: 
	100% CSS Mario Kart // Stephen Cook

Do you enjoy CSS? Do you enjoy retro games? Have you ever wanted to combine the 2, in such a way that the CSS Working Group will cry and ask you to stop? Then this is the talk for you!

This talk will go over some cool CSS features and techniques, and pushes them to their limits. You will learn how to use some of these techniques in the real world (and hopefully when not to use them, such as in a mad attempt to clone a beloved retro game with a wildly unsuitable toolset).

_

About Pusher Sessions:

We're bringing the meetup to you. With Sessions, you can watch recordings of top-notch talks from developer meetups -- wherever and whenever you want.

Meetups are a great way to learn from our peers and to keep up with the latest trends and technologies. As developers ourselves, we at Pusher wanted to bring this great content to more people... So we built Sessions. On Sessions, you can watch talks that interest you and subscribe to be notified when new content gets added.

If you run a meetup and want to get involved, kindly get in touch.

_

About Pusher:

Pusher is a hosted service with APIs, developer tools and open source libraries that greatly simplify integrating real-time functionality into web and mobile applications. 

Pusher will automatically scale when required, removing all the pain of setting up and maintaining a secure, real-time infrastructure. 

Pusher is already trusted to do so by thousands of developers and companies like GitHub, MailChimp, the Financial Times, Buffer and many more. 

Getting started takes just a few seconds: simply go to pusher.com and create a free account. Happy hacking!
Captions: 
	00:00:00,030 --> 00:00:04,950
so this is going to be a pure CSS game

00:00:02,669 --> 00:00:06,960
it's good not by a single line of

00:00:04,950 --> 00:00:10,590
JavaScript it's got a couple of lines of

00:00:06,960 --> 00:00:12,210
HTML and 100% I mean you can count off

00:00:10,590 --> 00:00:15,480
the lines patient on one hand so it's

00:00:12,210 --> 00:00:17,580
fine and yeah I'd like to say that I

00:00:15,480 --> 00:00:18,900
also put this together like a very last

00:00:17,580 --> 00:00:22,010
minute and that's why the Photoshop so

00:00:18,900 --> 00:00:26,730
bad but I spent a long time on that so

00:00:22,010 --> 00:00:29,279
yeah so I'm a Steven cook dev on Twitter

00:00:26,730 --> 00:00:31,740
I've linked to a slightly longer version

00:00:29,279 --> 00:00:34,050
of the game on my Twitter account so you

00:00:31,740 --> 00:00:35,579
can go there just because some of the

00:00:34,050 --> 00:00:37,410
extra features are a bit too long to go

00:00:35,579 --> 00:00:39,480
through I just had a bit more about

00:00:37,410 --> 00:00:42,090
myself I work as a front-end engineer at

00:00:39,480 --> 00:00:44,160
a company called thread so thread sell

00:00:42,090 --> 00:00:47,010
clothes online basically we have a load

00:00:44,160 --> 00:00:48,390
of stylists and like lever data science

00:00:47,010 --> 00:00:51,930
and stuff to like suggest you clothes

00:00:48,390 --> 00:00:55,620
and outfits that you would like and if

00:00:51,930 --> 00:00:58,739
you're wondering why I'm making a talk

00:00:55,620 --> 00:01:03,920
about Mary ocher and I work at a fashion

00:00:58,739 --> 00:01:08,070
company yeah yeah move right along so

00:01:03,920 --> 00:01:09,450
first of all what is CSS and I guess

00:01:08,070 --> 00:01:11,729
most people you already know what it is

00:01:09,450 --> 00:01:14,250
but just as sort of step back just a

00:01:11,729 --> 00:01:17,820
sort of you know getting over over like

00:01:14,250 --> 00:01:20,369
what does it do at a high level and

00:01:17,820 --> 00:01:23,310
basically it's these two things first of

00:01:20,369 --> 00:01:26,009
all let you select something in the Dom

00:01:23,310 --> 00:01:27,750
so if you say P dot foo it's gonna find

00:01:26,009 --> 00:01:31,500
you any paragraph tag with the class

00:01:27,750 --> 00:01:33,479
name food enough next unless you style

00:01:31,500 --> 00:01:35,130
it if you say background color Reds it

00:01:33,479 --> 00:01:38,729
will make all those paragraph tags have

00:01:35,130 --> 00:01:40,290
a background color of red cool there's a

00:01:38,729 --> 00:01:41,970
few extra things you could say don't

00:01:40,290 --> 00:01:44,399
come into this description like a pseudo

00:01:41,970 --> 00:01:45,570
elements and stuff but it's not so

00:01:44,399 --> 00:01:48,450
important I'm basically just sort of

00:01:45,570 --> 00:01:50,130
trying to get to the fact that this is

00:01:48,450 --> 00:01:53,399
not the correct tool for making a game

00:01:50,130 --> 00:01:57,240
right like a game needs arbitrary state

00:01:53,399 --> 00:02:00,450
management he needs controls to be able

00:01:57,240 --> 00:02:02,070
to update that state and it needs that

00:02:00,450 --> 00:02:04,950
state for them be able to generate

00:02:02,070 --> 00:02:06,149
arbitrary content but to screen none of

00:02:04,950 --> 00:02:11,790
which are the things that I just said

00:02:06,149 --> 00:02:14,319
CSS does so why are we doing this part

00:02:11,790 --> 00:02:16,659
of it is just because it's fun

00:02:14,319 --> 00:02:19,510
part of it as well is I started out this

00:02:16,659 --> 00:02:22,719
project originally basically to see how

00:02:19,510 --> 00:02:24,280
far I could push the SS and hope to

00:02:22,719 --> 00:02:26,829
learn a few things along the way which I

00:02:24,280 --> 00:02:28,739
did and try and do this I think it's

00:02:26,829 --> 00:02:30,819
always a good idea when you're trying to

00:02:28,739 --> 00:02:32,200
learn something a bit better or learn

00:02:30,819 --> 00:02:34,060
something from scratch just to sort of

00:02:32,200 --> 00:02:35,590
try something stupid and just see how

00:02:34,060 --> 00:02:39,730
far you can push it so find the

00:02:35,590 --> 00:02:41,799
boundaries of that language so I'm gonna

00:02:39,730 --> 00:02:46,239
start off with Bach shadows can everyone

00:02:41,799 --> 00:02:50,200
at the back read the code okay yep cool

00:02:46,239 --> 00:02:51,519
so CSS lets you do box shadows this does

00:02:50,200 --> 00:02:55,480
seem like a weird tangent I promise this

00:02:51,519 --> 00:02:57,579
gets back to a game but for now you can

00:02:55,480 --> 00:03:00,519
specify an offset how much blow you want

00:02:57,579 --> 00:03:01,780
on the color of that box shadow cool you

00:03:00,519 --> 00:03:03,220
can also just keep going you can come a

00:03:01,780 --> 00:03:07,299
separate these and you can just have as

00:03:03,220 --> 00:03:08,739
many box shadows as you like cool you go

00:03:07,299 --> 00:03:10,269
bit photo we can also actually justify a

00:03:08,739 --> 00:03:12,579
blur radius of zero which means that you

00:03:10,269 --> 00:03:14,889
don't get blurred box shadow you just

00:03:12,579 --> 00:03:16,720
get the original box so you know if you

00:03:14,889 --> 00:03:19,269
have a box that is your divs then you

00:03:16,720 --> 00:03:21,750
just get lots of these boxes and you can

00:03:19,269 --> 00:03:23,829
just line these up if you wanted and

00:03:21,750 --> 00:03:26,099
while we line them up why don't we just

00:03:23,829 --> 00:03:29,290
keep going and give them all different

00:03:26,099 --> 00:03:30,760
all different colors at this point we're

00:03:29,290 --> 00:03:32,829
basically making an image right an image

00:03:30,760 --> 00:03:36,099
is just a collection of pixels with

00:03:32,829 --> 00:03:38,109
positions and colors an image you also

00:03:36,099 --> 00:03:41,849
has really intelligent encoding so make

00:03:38,109 --> 00:03:43,989
it performant which this does not do so

00:03:41,849 --> 00:03:48,129
we'll ignore that we're not gonna do

00:03:43,989 --> 00:03:53,949
this in production but let's see if we

00:03:48,129 --> 00:03:58,919
can make something cool so can everyone

00:03:53,949 --> 00:04:05,949
see this at the back is that okay yeah I

00:03:58,919 --> 00:04:07,720
give it a go anyway so this is just a

00:04:05,949 --> 00:04:09,970
faux can be editing it's going to change

00:04:07,720 --> 00:04:12,759
this page the first thing we can do is

00:04:09,970 --> 00:04:13,810
basically just make this one Dave and

00:04:12,759 --> 00:04:17,079
I'll call it Mario because we want to

00:04:13,810 --> 00:04:18,489
make a Mario character now the first

00:04:17,079 --> 00:04:20,799
thing we want to do is just make this

00:04:18,489 --> 00:04:23,080
div be a width and height of one pixel

00:04:20,799 --> 00:04:26,169
the reason for this is each box shadow

00:04:23,080 --> 00:04:27,000
is just going to be the same size as the

00:04:26,169 --> 00:04:28,080
original element

00:04:27,000 --> 00:04:32,250
and because they're trying to do pixel

00:04:28,080 --> 00:04:34,770
art we want just one pixel size the next

00:04:32,250 --> 00:04:36,030
thing we want to do is specify now the

00:04:34,770 --> 00:04:37,740
book show now we're gonna specify all

00:04:36,030 --> 00:04:40,320
the pixels of this merio image that we

00:04:37,740 --> 00:04:42,600
try to put in so this Mary we made is

00:04:40,320 --> 00:04:44,040
about a thousand pixels big and

00:04:42,600 --> 00:04:48,240
apparently mean manually typing it out

00:04:44,040 --> 00:04:52,130
is boring so instead we're just going to

00:04:48,240 --> 00:04:55,110
use this merio box shadow scss variable

00:04:52,130 --> 00:04:58,680
which we are going to get from this

00:04:55,110 --> 00:05:00,150
common a CSS file you don't need to

00:04:58,680 --> 00:05:01,650
worry too much about what this is is

00:05:00,150 --> 00:05:03,300
literally just a collection of SSS

00:05:01,650 --> 00:05:04,080
variables are used to achieve slightly

00:05:03,300 --> 00:05:07,350
throughout a talk

00:05:04,080 --> 00:05:09,570
so if we go back now to this you can see

00:05:07,350 --> 00:05:11,040
we've got a little mario sprite and I

00:05:09,570 --> 00:05:15,300
can just make that a bit bigger place

00:05:11,040 --> 00:05:21,660
things in five cool see we've got a nice

00:05:15,300 --> 00:05:23,430
picture of Mario what we can do now is

00:05:21,660 --> 00:05:25,860
if we keep going with that I'm not gonna

00:05:23,430 --> 00:05:28,470
go through the code too much here it's

00:05:25,860 --> 00:05:30,450
all the same what we were just seeing is

00:05:28,470 --> 00:05:32,700
the same thing again but now we're just

00:05:30,450 --> 00:05:35,070
gonna do it for a few more elements so

00:05:32,700 --> 00:05:36,330
I'm going to first just make an output

00:05:35,070 --> 00:05:37,890
element this is going to be like our

00:05:36,330 --> 00:05:40,710
screen basically this is gonna be the

00:05:37,890 --> 00:05:43,830
entire canvas for the game next we're

00:05:40,710 --> 00:05:52,410
gonna have Mario but we're also going to

00:05:43,830 --> 00:05:54,479
have a road and some trees cool see see

00:05:52,410 --> 00:05:55,680
got a nice little image and that's all

00:05:54,479 --> 00:05:57,180
just the box other thing that we're

00:05:55,680 --> 00:06:02,760
talking about just done in a really

00:05:57,180 --> 00:06:04,770
unperformed way first boring right like

00:06:02,760 --> 00:06:07,380
I said we're gonna make a game and an

00:06:04,770 --> 00:06:11,340
image is not a game so let's try and add

00:06:07,380 --> 00:06:13,169
some basic animation unfortunately CSS

00:06:11,340 --> 00:06:16,410
lets you do animation really easily as

00:06:13,169 --> 00:06:18,090
has this animation keyword so here for

00:06:16,410 --> 00:06:19,260
example we specified some key frames

00:06:18,090 --> 00:06:21,540
that basically just say we want to go

00:06:19,260 --> 00:06:23,220
from a load of CSS properties so like

00:06:21,540 --> 00:06:26,150
from opacity 0 dry pasty wine and a

00:06:23,220 --> 00:06:28,919
rotation we and we specifying as well

00:06:26,150 --> 00:06:32,040
how much we want animation to loop so

00:06:28,919 --> 00:06:33,360
just saying infinite here and how long

00:06:32,040 --> 00:06:36,289
we want animation to last so this is

00:06:33,360 --> 00:06:39,180
three seconds you can also specify

00:06:36,289 --> 00:06:40,160
timing functions so what an example of a

00:06:39,180 --> 00:06:42,740
timing function here

00:06:40,160 --> 00:06:43,910
the step function is a bit of an unkind

00:06:42,740 --> 00:06:45,680
one you may not have come across but

00:06:43,910 --> 00:06:47,830
basically what it's doing if you think

00:06:45,680 --> 00:06:51,850
about just a regular linear animation

00:06:47,830 --> 00:06:55,070
steps one just follows the exact same

00:06:51,850 --> 00:06:58,100
overall length but it just jumps at each

00:06:55,070 --> 00:06:59,930
step so in steps four it would step you

00:06:58,100 --> 00:07:04,190
know jump across four times to keep up

00:06:59,930 --> 00:07:10,340
with anyone so let's try and add in some

00:07:04,190 --> 00:07:13,490
animation so if we go back here the next

00:07:10,340 --> 00:07:16,010
thing we're gonna do is just grab so

00:07:13,490 --> 00:07:21,380
this is a keyframes that we're gonna add

00:07:16,010 --> 00:07:23,960
to Mario so I'm aware this is a bit of

00:07:21,380 --> 00:07:25,970
cheating for live coding but it's a

00:07:23,960 --> 00:07:30,650
stackoverflow method of live coding is

00:07:25,970 --> 00:07:33,830
fine so we have this driver shape which

00:07:30,650 --> 00:07:38,740
is taking us from a scale of 1 and to a

00:07:33,830 --> 00:07:47,030
scale of not 0.97 and if we get married

00:07:38,740 --> 00:07:48,830
animate that steps to and infinite

00:07:47,030 --> 00:07:51,890
basically it's just gonna get him to

00:07:48,830 --> 00:07:54,170
jump up and down from maximum Heights

00:07:51,890 --> 00:07:55,940
about not point-seven height and the

00:07:54,170 --> 00:07:57,470
reason for this is maybe tiny bit subtle

00:07:55,940 --> 00:07:59,570
people at the back that basically just

00:07:57,470 --> 00:08:03,980
makes it look like his engine is on it's

00:07:59,570 --> 00:08:05,000
just a nice subtle animation but subtle

00:08:03,980 --> 00:08:07,910
is boring let's do something a bit

00:08:05,000 --> 00:08:10,000
bigger so here we've got a load of trees

00:08:07,910 --> 00:08:12,350
so we have our two trees we have

00:08:10,000 --> 00:08:14,090
actually using some pseudo elements for

00:08:12,350 --> 00:08:15,820
the left tree in the right tree so we've

00:08:14,090 --> 00:08:18,260
got before and after for left and right

00:08:15,820 --> 00:08:20,900
so what we can do is add in these key

00:08:18,260 --> 00:08:23,510
frames we have a left move right move

00:08:20,900 --> 00:08:25,700
and fade so left move and right move

00:08:23,510 --> 00:08:28,669
basically just bringing in the trees to

00:08:25,700 --> 00:08:32,120
say start shrunk down in the distance

00:08:28,669 --> 00:08:33,469
and slowly zoom in to make it you know

00:08:32,120 --> 00:08:36,650
look like you're moving towards these

00:08:33,469 --> 00:08:38,150
trees and we also have fade because if

00:08:36,650 --> 00:08:39,289
they suddenly jump in the distance it

00:08:38,150 --> 00:08:39,729
looks weird so we just paid them in as

00:08:39,289 --> 00:08:47,330
well

00:08:39,729 --> 00:08:50,720
so if we now say tree left move three

00:08:47,330 --> 00:08:52,800
seconds infinite linear and and we also

00:08:50,720 --> 00:08:56,490
want to

00:08:52,800 --> 00:08:59,520
3theta school drain yeah three seconds

00:08:56,490 --> 00:09:01,620
then yeah I know we want to do the exact

00:08:59,520 --> 00:09:03,210
same thing for the right tree but we'll

00:09:01,620 --> 00:09:08,340
just call their tree right move

00:09:03,210 --> 00:09:09,690
so now cool

00:09:08,340 --> 00:09:10,710
you see we've got these trees coming in

00:09:09,690 --> 00:09:13,260
from distance so we've got a bit of

00:09:10,710 --> 00:09:14,490
movement it does look a little weird at

00:09:13,260 --> 00:09:18,090
the moment though right like at the

00:09:14,490 --> 00:09:19,950
moment these trees are in unison it's a

00:09:18,090 --> 00:09:21,870
bit you know you wouldn't really expect

00:09:19,950 --> 00:09:23,820
that in real trees so why don't we get

00:09:21,870 --> 00:09:24,750
them to be slightly out of sync from one

00:09:23,820 --> 00:09:27,060
another so we can do this thing called

00:09:24,750 --> 00:09:28,470
animation delay they say animation delay

00:09:27,060 --> 00:09:31,320
on the right tree so it's one it's just

00:09:28,470 --> 00:09:33,090
one second out basically and this is

00:09:31,320 --> 00:09:35,580
gonna work if you notice the right tree

00:09:33,090 --> 00:09:37,020
right to start you see you just hung

00:09:35,580 --> 00:09:39,000
about for a first second because it

00:09:37,020 --> 00:09:40,680
didn't have any animation now it looks

00:09:39,000 --> 00:09:42,300
okay like now it's sort of out of sync

00:09:40,680 --> 00:09:43,620
what we wanted but it would be great if

00:09:42,300 --> 00:09:46,650
we could just get rid of that first in

00:09:43,620 --> 00:09:48,660
issue like weird one second hang what we

00:09:46,650 --> 00:09:51,990
can actually do and it's a real easy

00:09:48,660 --> 00:09:54,120
change this you just say - one second

00:09:51,990 --> 00:09:57,390
and what is going to do is basically

00:09:54,120 --> 00:09:58,590
when the page loads it pretends that the

00:09:57,390 --> 00:10:00,360
tree who's already animating for a

00:09:58,590 --> 00:10:05,430
second so is out of sync but it never

00:10:00,360 --> 00:10:06,900
actually had this delay and a lot of

00:10:05,430 --> 00:10:11,670
people seem to think that that's like a

00:10:06,900 --> 00:10:15,990
a weird hacky bit but honestly that is

00:10:11,670 --> 00:10:18,480
not the hacky bit of this talk it's it's

00:10:15,990 --> 00:10:22,460
actually perfectly in spec this is a

00:10:18,480 --> 00:10:25,710
quote from w3 spec for animation tool a

00:10:22,460 --> 00:10:27,510
negative delay is actually expected and

00:10:25,710 --> 00:10:29,370
this one's fine to use in production you

00:10:27,510 --> 00:10:33,210
can yeah yeah over there

00:10:29,370 --> 00:10:35,610
so that was a nice simple animation but

00:10:33,210 --> 00:10:37,260
if we want to have something like this

00:10:35,610 --> 00:10:39,900
where we actually want our drivers to be

00:10:37,260 --> 00:10:42,030
turning you know this is suddenly

00:10:39,900 --> 00:10:44,520
feeling a lot out the out of the realm

00:10:42,030 --> 00:10:46,800
CSS right like this isn't isn't a

00:10:44,520 --> 00:10:48,270
rotation this isn't I mean like you

00:10:46,800 --> 00:10:51,000
can't change margin left to get this to

00:10:48,270 --> 00:10:53,760
happen so how do we get this sort of

00:10:51,000 --> 00:10:58,190
effect and if we break down what's

00:10:53,760 --> 00:11:00,600
actually happening here so it's a small

00:10:58,190 --> 00:11:01,800
but if you think about that animation

00:11:00,600 --> 00:11:03,999
you can actually think about it in terms

00:11:01,800 --> 00:11:07,839
of each single frame of what

00:11:03,999 --> 00:11:09,249
animation was and once you have that you

00:11:07,839 --> 00:11:12,429
can think about like how sort of old

00:11:09,249 --> 00:11:14,199
movies work we're so old films literally

00:11:12,429 --> 00:11:17,189
have lots of different pictures and then

00:11:14,199 --> 00:11:20,199
it runs up to say you know to sort of

00:11:17,189 --> 00:11:22,149
simulate this idea of movement when we

00:11:20,199 --> 00:11:23,259
can do the exact same thing and if we

00:11:22,149 --> 00:11:25,269
use the steps function that we were

00:11:23,259 --> 00:11:27,489
looking at before we can make sure that

00:11:25,269 --> 00:11:31,179
as long as we're including the rest of

00:11:27,489 --> 00:11:32,409
that like film that we had then you know

00:11:31,179 --> 00:11:33,999
you can see on the right hand side we've

00:11:32,409 --> 00:11:35,379
got what we want we just you know speed

00:11:33,999 --> 00:11:39,729
that up that is the animation that we

00:11:35,379 --> 00:11:42,579
want so we need to make sure we're

00:11:39,729 --> 00:11:44,649
occluding the entire sprite sheet so we

00:11:42,579 --> 00:11:45,909
have all the different pictures of Mario

00:11:44,649 --> 00:11:48,909
but we only want to show one at a time

00:11:45,909 --> 00:11:50,379
so we can't keep just using the div to

00:11:48,909 --> 00:11:53,019
have all these box shows what we need to

00:11:50,379 --> 00:11:56,529
do now is and it's a small change so

00:11:53,019 --> 00:11:58,119
whereas at the moment we just have our

00:11:56,529 --> 00:11:59,679
individual div which has all the box

00:11:58,119 --> 00:12:03,389
shadows we're going to change it

00:11:59,679 --> 00:12:06,279
slightly to say that the div now is just

00:12:03,389 --> 00:12:08,229
the width and height of the entire image

00:12:06,279 --> 00:12:10,749
and then we're going to create a pseudo

00:12:08,229 --> 00:12:12,849
element inside of it which is going to

00:12:10,749 --> 00:12:14,739
hold each individual pixels so the

00:12:12,849 --> 00:12:16,449
pseudo element here is exactly what the

00:12:14,739 --> 00:12:18,609
Dave used to be and the div is now just

00:12:16,449 --> 00:12:20,589
a container with overflow:hidden so that

00:12:18,609 --> 00:12:23,439
anything outside that container is not

00:12:20,589 --> 00:12:29,220
visible so that's a lot of talking let's

00:12:23,439 --> 00:12:34,179
see if we can get Mario turning so let's

00:12:29,220 --> 00:12:38,289
copy paste some more code so here this

00:12:34,179 --> 00:12:42,249
is just as I say getting the Marek

00:12:38,289 --> 00:12:43,269
whereas currently Mario is actually

00:12:42,249 --> 00:12:46,539
containing all of the box-shadow

00:12:43,269 --> 00:12:48,399
information now we're not wanting him to

00:12:46,539 --> 00:12:50,019
contain buckshot information we're just

00:12:48,399 --> 00:12:51,429
gonna say that he's 50 pixels high

00:12:50,019 --> 00:12:53,949
because we explicitly need to set that

00:12:51,429 --> 00:12:55,720
now so that we can hide everything else

00:12:53,949 --> 00:12:58,029
but now we don't have any of the Box

00:12:55,720 --> 00:13:06,909
shadow stuff in there we're gonna get

00:12:58,029 --> 00:13:08,829
that instead from this which is so this

00:13:06,909 --> 00:13:11,259
has a say like this before element is

00:13:08,829 --> 00:13:12,519
just setting up the exact same thing as

00:13:11,259 --> 00:13:14,139
we're doing before but is using the

00:13:12,519 --> 00:13:15,399
spritesheet now so all the pictures of

00:13:14,139 --> 00:13:16,600
Mario rather than just that one picture

00:13:15,399 --> 00:13:18,790
of Mario

00:13:16,600 --> 00:13:20,890
and then we're going to have this sprite

00:13:18,790 --> 00:13:22,750
animate function which is going through

00:13:20,890 --> 00:13:24,070
steps is going to go through however

00:13:22,750 --> 00:13:26,710
many frames there are so we're saying

00:13:24,070 --> 00:13:28,480
that there are five three five frames so

00:13:26,710 --> 00:13:30,610
we want to use that to work out how many

00:13:28,480 --> 00:13:32,230
steps of the animation we want otherwise

00:13:30,610 --> 00:13:34,540
you'll get like halfway in between two

00:13:32,230 --> 00:13:36,610
frames and we're going to go animate

00:13:34,540 --> 00:13:39,520
that between zero percent we're going to

00:13:36,610 --> 00:13:41,380
be just a normal top halfway through the

00:13:39,520 --> 00:13:42,820
animation we want to be right at the top

00:13:41,380 --> 00:13:44,680
of that sprite sheet so we want to move

00:13:42,820 --> 00:13:46,480
it all the way for halfway and then we

00:13:44,680 --> 00:13:47,590
want to move it back down and the reason

00:13:46,480 --> 00:13:49,750
for this is that the animation

00:13:47,590 --> 00:13:51,400
spray-cheese just Mary you're turning so

00:13:49,750 --> 00:13:54,460
when we bring it back down again it's in

00:13:51,400 --> 00:13:58,300
going back to neutral one extra thing we

00:13:54,460 --> 00:14:00,550
need to do is just make sure that

00:13:58,300 --> 00:14:01,930
because before is a pseudo element it

00:14:00,550 --> 00:14:03,520
doesn't actually exist in the Dom so

00:14:01,930 --> 00:14:05,530
just need to continent e-string and

00:14:03,520 --> 00:14:07,660
display line in line block so it's

00:14:05,530 --> 00:14:11,170
actually there and then with a high of

00:14:07,660 --> 00:14:15,700
one pixel so if we get the page refresh

00:14:11,170 --> 00:14:20,170
no you see we've got married and he's

00:14:15,700 --> 00:14:22,660
turning which is cool but again it's not

00:14:20,170 --> 00:14:24,880
a game games are interactive right like

00:14:22,660 --> 00:14:28,030
you can't just watch Mary turning that's

00:14:24,880 --> 00:14:30,610
boring it best so how do we actually get

00:14:28,030 --> 00:14:32,710
some interactivity in fortunately on the

00:14:30,610 --> 00:14:34,320
web we have a keyboard input as like a

00:14:32,710 --> 00:14:38,050
very normal thing that we used to doing

00:14:34,320 --> 00:14:41,320
so we can use WASD so get a to turn left

00:14:38,050 --> 00:14:45,580
and deed to turn right and the immediate

00:14:41,320 --> 00:14:47,620
thought is why don't we just use some

00:14:45,580 --> 00:14:49,510
CSS that basically you know if we have

00:14:47,620 --> 00:14:53,440
our text box here why don't we have some

00:14:49,510 --> 00:14:55,870
CSS that says you know check for input

00:14:53,440 --> 00:14:57,580
and see if it has value a and if so do

00:14:55,870 --> 00:14:59,620
something and if it or have AZ value D

00:14:57,580 --> 00:15:04,330
do something else which is really good

00:14:59,620 --> 00:15:09,370
idea except it doesn't work which is a

00:15:04,330 --> 00:15:11,410
yeah downer and the reason the reason it

00:15:09,370 --> 00:15:12,700
doesn't work is it's basically because

00:15:11,410 --> 00:15:15,280
there are two different types of values

00:15:12,700 --> 00:15:18,160
on inputs which is a bit unintuitive but

00:15:15,280 --> 00:15:21,310
basically if you had some HTML Way said

00:15:18,160 --> 00:15:23,320
input type text value equals foo so the

00:15:21,310 --> 00:15:25,720
input loads up it's got value of khufu

00:15:23,320 --> 00:15:28,840
as you expect and that's both values of

00:15:25,720 --> 00:15:30,790
food but if I type in bar now

00:15:28,840 --> 00:15:32,920
says a value of foo bar but the

00:15:30,790 --> 00:15:34,960
attribute value of the input is still

00:15:32,920 --> 00:15:37,120
food so like if you as a look and

00:15:34,960 --> 00:15:39,210
inspector or something like the value

00:15:37,120 --> 00:15:41,980
that you see an inspector is still food

00:15:39,210 --> 00:15:44,470
we could write some JavaScript's the

00:15:41,980 --> 00:15:46,120
sort of sinks these things up by

00:15:44,470 --> 00:15:47,950
basically saying whenever the input

00:15:46,120 --> 00:15:49,300
changes like just set the attribute

00:15:47,950 --> 00:15:52,960
value to match up with what our current

00:15:49,300 --> 00:15:54,190
value is and we could do this but I said

00:15:52,960 --> 00:15:58,690
at the start this talk I'm gonna do any

00:15:54,190 --> 00:16:01,600
JavaScript and it sort of reminds me of

00:15:58,690 --> 00:16:04,810
I was moving I help my friends move

00:16:01,600 --> 00:16:06,910
recently and it was one of those passing

00:16:04,810 --> 00:16:09,160
moments he picked something up and

00:16:06,910 --> 00:16:10,660
thought I can carry this they said you

00:16:09,160 --> 00:16:13,000
sure that's really heavy I said no no no

00:16:10,660 --> 00:16:16,720
honestly it's fine turns out they lived

00:16:13,000 --> 00:16:18,970
on the second floor but I felt like I'd

00:16:16,720 --> 00:16:22,480
already said I'm fine so I sort of felt

00:16:18,970 --> 00:16:25,500
like I had to stick to that broke a lot

00:16:22,480 --> 00:16:27,460
of things that day but unfortunately

00:16:25,500 --> 00:16:29,470
actually did manage to get round it on

00:16:27,460 --> 00:16:31,060
this particular problem I found that

00:16:29,470 --> 00:16:35,200
there are these two a two placeholders

00:16:31,060 --> 00:16:36,400
cooled valid and invalid so these are

00:16:35,200 --> 00:16:39,010
quite uncommon you may not have come

00:16:36,400 --> 00:16:40,870
across them but basically if you specify

00:16:39,010 --> 00:16:43,690
on your input you can say something like

00:16:40,870 --> 00:16:44,830
pattern and you can specify a regular

00:16:43,690 --> 00:16:47,230
expression here so here we're just

00:16:44,830 --> 00:16:48,640
checking to see does this does the input

00:16:47,230 --> 00:16:53,170
contain the pattern or something it's

00:16:48,640 --> 00:16:56,860
kind is the text correct and then if it

00:16:53,170 --> 00:17:00,610
is make it green and if it's not make it

00:16:56,860 --> 00:17:02,140
red so you can see I start typing in and

00:17:00,610 --> 00:17:03,910
it doesn't meet the regular expression

00:17:02,140 --> 00:17:06,250
requirements of correct so we get bored

00:17:03,910 --> 00:17:08,590
I've got a red as soon as it does so it

00:17:06,250 --> 00:17:11,020
becomes border color green so that's

00:17:08,590 --> 00:17:13,240
great we've got you know CSS responding

00:17:11,020 --> 00:17:13,860
to text input which is what we're going

00:17:13,240 --> 00:17:16,390
for

00:17:13,860 --> 00:17:20,740
we can add in a third state as well so

00:17:16,390 --> 00:17:23,590
we can have if you use the CSS selector

00:17:20,740 --> 00:17:25,900
placeholder shown then if your input has

00:17:23,590 --> 00:17:27,250
a placeholder then you can say get that

00:17:25,900 --> 00:17:30,220
to override the valid and invalid

00:17:27,250 --> 00:17:31,060
attributes so in say play sort of shown

00:17:30,220 --> 00:17:33,370
but I've got a gray

00:17:31,060 --> 00:17:35,350
state one start typing with our second

00:17:33,370 --> 00:17:38,080
state finish and we've got our third

00:17:35,350 --> 00:17:39,580
state so we've got three states right we

00:17:38,080 --> 00:17:41,200
just sort of it won we won the idea

00:17:39,580 --> 00:17:42,130
you're not pushing you're not doing

00:17:41,200 --> 00:17:44,410
anything on the keyboard

00:17:42,130 --> 00:17:46,480
that's the play sort of showing if we

00:17:44,410 --> 00:17:47,920
push D so here our pattern is saying

00:17:46,480 --> 00:17:50,260
anything that ends in the letter D

00:17:47,920 --> 00:17:50,890
that's right so push D and it says yet

00:17:50,260 --> 00:17:52,170
that's correct

00:17:50,890 --> 00:17:55,390
or in other words you're turning rights

00:17:52,170 --> 00:17:58,030
fibers a says oh you're not pushing D so

00:17:55,390 --> 00:18:01,660
you're turning left and this keeps

00:17:58,030 --> 00:18:04,420
working so you've got dynamic heat input

00:18:01,660 --> 00:18:05,740
based entirely on CSS it does have a

00:18:04,420 --> 00:18:07,960
small bug the gill eyes if you may have

00:18:05,740 --> 00:18:09,640
noticed if I've said W for example it

00:18:07,960 --> 00:18:16,150
says I you're not pushing D so you're

00:18:09,640 --> 00:18:18,670
pushing a witch yeah but it's sorry it's

00:18:16,150 --> 00:18:20,830
not the I sorry I can't quite hear but

00:18:18,670 --> 00:18:22,210
umm yeah it's this is fine anyway

00:18:20,830 --> 00:18:23,500
because users always do what they're

00:18:22,210 --> 00:18:29,710
told if you just put tell them to push

00:18:23,500 --> 00:18:37,510
only a nd so let's get that bit in so

00:18:29,710 --> 00:18:39,310
first thing we want to do is text so we

00:18:37,510 --> 00:18:41,050
do actually need a placeholder even if

00:18:39,310 --> 00:18:43,150
we don't want one otherwise play sort of

00:18:41,050 --> 00:18:44,830
shown doesn't do anything and I don't

00:18:43,150 --> 00:18:46,990
want that pattern in which is saying

00:18:44,830 --> 00:18:50,860
look for anything as long as it ends in

00:18:46,990 --> 00:18:52,900
the letter D so that's going to get our

00:18:50,860 --> 00:18:55,420
input in but we actually need that to be

00:18:52,900 --> 00:18:58,720
interactive so the first thing we want

00:18:55,420 --> 00:19:01,480
to do is just make sure we have our

00:18:58,720 --> 00:19:03,250
sprite animate over so one sprite

00:19:01,480 --> 00:19:04,330
animate mirror so fortunately this

00:19:03,250 --> 00:19:06,880
picture of Mary that we have is

00:19:04,330 --> 00:19:08,170
symmetrical down the middle so if we

00:19:06,880 --> 00:19:09,970
just literally mirror the entire

00:19:08,170 --> 00:19:11,980
animation then rather than turning right

00:19:09,970 --> 00:19:13,900
he'll be turning left so now we have two

00:19:11,980 --> 00:19:16,390
different keyframes one for setting left

00:19:13,900 --> 00:19:19,450
one for turning right the next thing we

00:19:16,390 --> 00:19:22,240
can grab is this code which is just

00:19:19,450 --> 00:19:24,490
going to help him stick so what this is

00:19:22,240 --> 00:19:27,160
saying is if you can find an input

00:19:24,490 --> 00:19:29,080
that's valid then look for the Mario

00:19:27,160 --> 00:19:33,700
before element that comes afterwards and

00:19:29,080 --> 00:19:35,650
make it turn make it turn left and if

00:19:33,700 --> 00:19:38,410
you can find one there's invalids make

00:19:35,650 --> 00:19:40,600
it turn right so this is exactly the

00:19:38,410 --> 00:19:42,520
same animation as what we had before

00:19:40,600 --> 00:19:45,520
it's just I mean get rid of that now

00:19:42,520 --> 00:19:47,440
because we're doing it down here

00:19:45,520 --> 00:19:50,140
yeah it's just now based on this input

00:19:47,440 --> 00:19:51,610
and when placeholders shown so you

00:19:50,140 --> 00:19:56,140
haven't pushed anything don't animate

00:19:51,610 --> 00:19:57,670
the tool so if we look at that now you

00:19:56,140 --> 00:20:00,790
can see we've got this little input in

00:19:57,670 --> 00:20:04,720
the top left and if I push D Mary turns

00:20:00,790 --> 00:20:07,750
left I fish a u-turn I'm sorry right and

00:20:04,720 --> 00:20:09,670
then left but he's still very much

00:20:07,750 --> 00:20:12,850
stationary so there's one more thing we

00:20:09,670 --> 00:20:15,490
can do which is so this was an animation

00:20:12,850 --> 00:20:18,760
on the before sued relevant or the Box

00:20:15,490 --> 00:20:22,179
shadows are but now we can just do a

00:20:18,760 --> 00:20:24,790
similar thing on the container element

00:20:22,179 --> 00:20:27,250
and we can literally just say transition

00:20:24,790 --> 00:20:30,220
and margin left and again if it's valid

00:20:27,250 --> 00:20:32,650
make him go to the right and if it's

00:20:30,220 --> 00:20:38,290
invalid to make it go to the left which

00:20:32,650 --> 00:20:41,080
then gives the effect if we push a got

00:20:38,290 --> 00:20:43,260
married turning right and a key turning

00:20:41,080 --> 00:20:48,880
left now we can keep this going

00:20:43,260 --> 00:20:50,950
I've got a nice nice Mario game say

00:20:48,880 --> 00:20:53,470
there's a few bits and pieces more that

00:20:50,950 --> 00:20:54,790
you can add to this but and I like to do

00:20:53,470 --> 00:20:56,770
some twister but I was stopped now

00:20:54,790 --> 00:21:00,190
as long as I'm sure no everyone to look

00:20:56,770 --> 00:21:01,809
America again but yeah you can find the

00:21:00,190 --> 00:21:11,429
links to that which I so thanks very

00:21:01,809 --> 00:21:11,429
much listening you know your game

00:21:15,980 --> 00:21:22,950
cross-browser compatibility we're

00:21:17,850 --> 00:21:26,280
talking yeah so I'll be honest like the

00:21:22,950 --> 00:21:28,110
performance implications of this of the

00:21:26,280 --> 00:21:31,170
code that we're looking at this barely

00:21:28,110 --> 00:21:33,660
works on like modern Firefox so in terms

00:21:31,170 --> 00:21:35,880
of cross browser no no it doesn't uh as

00:21:33,660 --> 00:21:37,140
I say like a lot of this stuff in this

00:21:35,880 --> 00:21:49,320
talk don't don't do this in production

00:21:37,140 --> 00:21:50,970
please you know I mentioned to someone

00:21:49,320 --> 00:21:53,520
else and someone else genuinely thought

00:21:50,970 --> 00:21:56,520
I did it manually and I I was I mean I'm

00:21:53,520 --> 00:21:59,100
insulted the people think I do that no I

00:21:56,520 --> 00:22:00,600
I very fortunately I found a tool online

00:21:59,100 --> 00:22:02,790
where you can literally just upload an

00:22:00,600 --> 00:22:05,880
image a PNG a bitmap an image and it

00:22:02,790 --> 00:22:08,160
converts into box shadow it's a bit of a

00:22:05,880 --> 00:22:09,809
hidden tool I was really worried I was

00:22:08,160 --> 00:22:11,640
gonna have to make it myself but

00:22:09,809 --> 00:22:14,490
fortunately no you Google about for um

00:22:11,640 --> 00:22:16,410
like bitmap to bitmap to box shadow

00:22:14,490 --> 00:22:19,220
converters other great people in the

00:22:16,410 --> 00:22:19,220

YouTube URL: https://www.youtube.com/watch?v=wlfmSJIyg_E


