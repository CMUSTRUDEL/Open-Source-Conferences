Title: Frontend Development at Busuu - JS Monthly - July 2019
Publication date: 2019-08-06
Playlist: JS Monthly London
Description: 
	Welcome to the Wonderful World of Busuu Frontend // Celia Usero

_

About Pusher Sessions:

We're bringing the meetup to you. With Sessions, you can watch recordings of top-notch talks from developer meetups -- wherever and whenever you want.

Meetups are a great way to learn from our peers and to keep up with the latest trends and technologies. As developers ourselves, we at Pusher wanted to bring this great content to more people... So we built Sessions. On Sessions, you can watch talks that interest you and subscribe to be notified when new content gets added.

If you run a meetup and want to get involved, kindly get in touch.

_

About Pusher:

Pusher is a hosted service with APIs, developer tools and open source libraries that greatly simplify integrating real-time functionality into web and mobile applications. 

Pusher will automatically scale when required, removing all the pain of setting up and maintaining a secure, real-time infrastructure. 

Pusher is already trusted to do so by thousands of developers and companies like GitHub, MailChimp, the Financial Times, Buffer and many more. 

Getting started takes just a few seconds: simply go to pusher.com and create a free account. Happy hacking!
Captions: 
	00:00:00,060 --> 00:00:04,080
I'm a front-end engineer in the web team

00:00:02,490 --> 00:00:05,609
there's a few of the guys around there

00:00:04,080 --> 00:00:09,630
so that you can wave your hands if you

00:00:05,609 --> 00:00:11,250
want to or not I've been here for a year

00:00:09,630 --> 00:00:14,700
but I've actually been living in London

00:00:11,250 --> 00:00:16,740
for over a decade and before busu I was

00:00:14,700 --> 00:00:18,570
working at MOOC and even before that I

00:00:16,740 --> 00:00:23,100
was working at Virgin Media so I've had

00:00:18,570 --> 00:00:26,430
a bit of a random background but I'm

00:00:23,100 --> 00:00:28,140
still Abu soo because I really like it a

00:00:26,430 --> 00:00:30,029
little bit about what we're gonna talk

00:00:28,140 --> 00:00:32,759
about today I'm gonna talk to you about

00:00:30,029 --> 00:00:34,440
my team who we are what we do the

00:00:32,759 --> 00:00:36,090
projects that we take care of on a day

00:00:34,440 --> 00:00:38,399
to day basis and a little bit of the

00:00:36,090 --> 00:00:41,670
tech stack in case you want to join this

00:00:38,399 --> 00:00:43,290
exciting journey and two relatively

00:00:41,670 --> 00:00:44,910
short stories I won't go into detail but

00:00:43,290 --> 00:00:48,030
you can ask me more about over a beer

00:00:44,910 --> 00:00:50,100
later one of them is our biggest outdoor

00:00:48,030 --> 00:00:52,260
migrating from angular to reiax and

00:00:50,100 --> 00:00:55,140
another one is about making sure that

00:00:52,260 --> 00:00:56,699
our states that we keep in one of the

00:00:55,140 --> 00:00:58,890
application actually immutable but I'll

00:00:56,699 --> 00:01:04,530
get into that later because emerge is is

00:00:58,890 --> 00:01:06,479
awesome my team we are between four to

00:01:04,530 --> 00:01:09,600
five engineers our numbers have changed

00:01:06,479 --> 00:01:11,369
over this past year and we take care of

00:01:09,600 --> 00:01:13,439
four projects three of them are outward

00:01:11,369 --> 00:01:15,689
facing and one of them is an internal

00:01:13,439 --> 00:01:18,299
tool we have a lot of internal

00:01:15,689 --> 00:01:19,950
stakeholders I'll go through some

00:01:18,299 --> 00:01:21,689
examples of how we support them on a day

00:01:19,950 --> 00:01:23,850
to day basis our education team is

00:01:21,689 --> 00:01:25,650
actually huge they're our language

00:01:23,850 --> 00:01:27,210
experts and they create all the courses

00:01:25,650 --> 00:01:27,869
where you can learn up to 12 different

00:01:27,210 --> 00:01:30,240
languages

00:01:27,869 --> 00:01:31,740
our marketing team they create all the

00:01:30,240 --> 00:01:33,119
brand awareness and all the landing

00:01:31,740 --> 00:01:34,860
pages for the campaign's that we're

00:01:33,119 --> 00:01:36,720
gonna have in the future we take care of

00:01:34,860 --> 00:01:38,939
the CMS that they used to actually make

00:01:36,720 --> 00:01:41,070
these pages the product team obviously

00:01:38,939 --> 00:01:43,979
has these ideas long term on how to make

00:01:41,070 --> 00:01:45,689
busuu a better product and the sales

00:01:43,979 --> 00:01:49,530
team they focus more on partnerships

00:01:45,689 --> 00:01:51,509
with other companies or b2b customers

00:01:49,530 --> 00:01:55,049
that the loads of licenses to learn

00:01:51,509 --> 00:01:57,060
languages em so obviously apart from the

00:01:55,049 --> 00:01:59,040
usual maintaining the tools healthy and

00:01:57,060 --> 00:02:01,020
releasing new features we need to make

00:01:59,040 --> 00:02:02,700
sure that we're improving our apps at

00:02:01,020 --> 00:02:04,770
the same time so I'm gonna go a little

00:02:02,700 --> 00:02:06,210
bit through the four applications and

00:02:04,770 --> 00:02:09,660
then tell you the stories of how we're

00:02:06,210 --> 00:02:11,970
working to improve these the first one

00:02:09,660 --> 00:02:14,099
if you googled busuu is what we like to

00:02:11,970 --> 00:02:16,080
call the homepage

00:02:14,099 --> 00:02:17,760
it's mainly all the landing pages that

00:02:16,080 --> 00:02:20,040
you would see on the campaigns when you

00:02:17,760 --> 00:02:22,500
click on Facebook or Twitter or just in

00:02:20,040 --> 00:02:24,800
general google it also has the

00:02:22,500 --> 00:02:27,420
registration flow on the login flow and

00:02:24,800 --> 00:02:29,790
the cart on the payments so that's for

00:02:27,420 --> 00:02:31,860
free users that want to become Premium

00:02:29,790 --> 00:02:34,620
users a little bit of the tech stack

00:02:31,860 --> 00:02:37,560
it's on top what sits on top of CMS

00:02:34,620 --> 00:02:39,360
that's graph based and it's in PHP 7 all

00:02:37,560 --> 00:02:42,239
of our services and helpers are es6

00:02:39,360 --> 00:02:43,920
based and it's a static website but as

00:02:42,239 --> 00:02:46,319
you can see from the screenshot it's

00:02:43,920 --> 00:02:48,540
actually also responsive because most of

00:02:46,319 --> 00:02:50,959
the people nowadays like websites look

00:02:48,540 --> 00:02:53,099
beautiful on big and small screens

00:02:50,959 --> 00:02:54,750
moving on to the next one if you

00:02:53,099 --> 00:02:56,760
actually registered to use our

00:02:54,750 --> 00:02:58,530
application this is what you would see

00:02:56,760 --> 00:03:00,569
on a day-in day-out basis say you're

00:02:58,530 --> 00:03:03,660
very keen on learning Spanish this is

00:03:00,569 --> 00:03:04,890
our web app it's also responsive and

00:03:03,660 --> 00:03:06,870
this is the one that I'll talk about

00:03:04,890 --> 00:03:08,459
more a little bit later this is the one

00:03:06,870 --> 00:03:11,549
we're migrating from angular to reiax

00:03:08,459 --> 00:03:13,379
it's a single page app and all of our

00:03:11,549 --> 00:03:17,430
services are currently in es6 so that's

00:03:13,379 --> 00:03:19,739
really exciting and we write tests

00:03:17,430 --> 00:03:22,859
ingests we're using jests and enzyme for

00:03:19,739 --> 00:03:25,590
our newly migrated react services and

00:03:22,859 --> 00:03:27,450
components so you might be wondering

00:03:25,590 --> 00:03:29,549
there's a lot of content there there's a

00:03:27,450 --> 00:03:31,940
lot of languages as well where does it

00:03:29,549 --> 00:03:35,220
actually come from well this is our

00:03:31,940 --> 00:03:38,069
internal tool it's called sleights it's

00:03:35,220 --> 00:03:40,260
the CMS our education team uses to

00:03:38,069 --> 00:03:41,700
create all of the content that you would

00:03:40,260 --> 00:03:45,780
see in twelve different languages

00:03:41,700 --> 00:03:48,180
it's react based and we use material UI

00:03:45,780 --> 00:03:50,099
because it has a lot of super exciting

00:03:48,180 --> 00:03:53,010
easy to just drop in components so you

00:03:50,099 --> 00:03:55,079
don't necessarily need to create

00:03:53,010 --> 00:03:56,760
yourself it doesn't go page up as well

00:03:55,079 --> 00:03:58,560
and they'll go into a little bit more

00:03:56,760 --> 00:04:01,109
detail about what we're doing to improve

00:03:58,560 --> 00:04:03,540
this one as well because the state is

00:04:01,109 --> 00:04:06,980
stored in redux and it's very complex

00:04:03,540 --> 00:04:09,090
and nested but more on that later and

00:04:06,980 --> 00:04:12,359
last but not least we have the

00:04:09,090 --> 00:04:15,060
management platform it's the sort of

00:04:12,359 --> 00:04:16,919
platform that you would use if you're a

00:04:15,060 --> 00:04:18,630
big company that want to buy say a

00:04:16,919 --> 00:04:21,180
thousand licenses for your employees or

00:04:18,630 --> 00:04:23,099
your students to learn languages so say

00:04:21,180 --> 00:04:25,770
a retail company based all over Europe

00:04:23,099 --> 00:04:27,389
and you want your employees to be able

00:04:25,770 --> 00:04:30,120
to move from France to Germany

00:04:27,389 --> 00:04:32,400
to the UK so this would be if your

00:04:30,120 --> 00:04:33,960
Learning and Development Manager and you

00:04:32,400 --> 00:04:35,219
want to see if the students are actually

00:04:33,960 --> 00:04:37,050
up to date they're learning their

00:04:35,219 --> 00:04:40,439
Spanish at the rate that they should be

00:04:37,050 --> 00:04:43,439
learning its angular 1.6 base it's a

00:04:40,439 --> 00:04:44,900
single page up and we write our tests

00:04:43,439 --> 00:04:47,969
using jasmine

00:04:44,900 --> 00:04:50,819
so that sets the scene it's a lot to

00:04:47,969 --> 00:04:55,319
take in I don't have much time

00:04:50,819 --> 00:04:58,740
but now through the stories the first

00:04:55,319 --> 00:05:02,520
story is around our web app when I

00:04:58,740 --> 00:05:04,050
joined a year ago I hadn't done angular

00:05:02,520 --> 00:05:07,560
but I learned a lot in this past year

00:05:04,050 --> 00:05:09,779
and the team had set onto a journey to

00:05:07,560 --> 00:05:12,090
try and move away from angular 1.6

00:05:09,779 --> 00:05:14,250
because it's no longer it's a long term

00:05:12,090 --> 00:05:17,250
support and they did a lot of

00:05:14,250 --> 00:05:18,629
investigations who see what you know do

00:05:17,250 --> 00:05:20,969
you want to use view do you want to go

00:05:18,629 --> 00:05:22,889
to react react was the winner because

00:05:20,969 --> 00:05:25,589
super popular and all the exciting

00:05:22,889 --> 00:05:27,120
things are happening their hiring was

00:05:25,589 --> 00:05:28,919
starting to get difficult for the guys

00:05:27,120 --> 00:05:31,620
to get someone else in their team and

00:05:28,919 --> 00:05:33,870
also the app was not really really

00:05:31,620 --> 00:05:37,289
performant as a project grew II hadn't

00:05:33,870 --> 00:05:39,599
really changed from the beginning so it

00:05:37,289 --> 00:05:41,580
was just kind of falling behind as well

00:05:39,599 --> 00:05:44,250
the test suit was super hard to maintain

00:05:41,580 --> 00:05:48,240
because if you guys have written angular

00:05:44,250 --> 00:05:50,159
tests they're very slow to run and I was

00:05:48,240 --> 00:05:51,479
just falling falling apart all the tests

00:05:50,159 --> 00:05:53,789
suit and we wanted to actually make sure

00:05:51,479 --> 00:05:58,050
that the out worked as there were more

00:05:53,789 --> 00:06:02,339
features coming across how are we doing

00:05:58,050 --> 00:06:04,919
it when I joined the team I was still

00:06:02,339 --> 00:06:08,069
coming to terms with how react and

00:06:04,919 --> 00:06:09,330
angular could play around together but

00:06:08,069 --> 00:06:11,909
the guys brought me up to speed super

00:06:09,330 --> 00:06:13,169
quick and just to give you a little bit

00:06:11,909 --> 00:06:15,599
of an overview how we're doing it we're

00:06:13,169 --> 00:06:18,539
going from bottom up and we started

00:06:15,599 --> 00:06:20,159
migrating the most basic components with

00:06:18,539 --> 00:06:24,270
minimal dependencies more like

00:06:20,159 --> 00:06:25,979
components that show things to react and

00:06:24,270 --> 00:06:28,020
we're using this library called react or

00:06:25,979 --> 00:06:30,659
angular it's super lightweight it's very

00:06:28,020 --> 00:06:32,129
very popular and all it does is it

00:06:30,659 --> 00:06:33,750
creates a little angular wrapper around

00:06:32,129 --> 00:06:35,399
the components something you can put

00:06:33,750 --> 00:06:37,949
these components into your bigger

00:06:35,399 --> 00:06:40,440
angular parents kind of as the picture

00:06:37,949 --> 00:06:41,430
shows here and we decided that all the

00:06:40,440 --> 00:06:43,140
new features

00:06:41,430 --> 00:06:46,530
we're gonna be written in react so all

00:06:43,140 --> 00:06:48,570
the components and services and and then

00:06:46,530 --> 00:06:49,140
as time went on it was getting easier

00:06:48,570 --> 00:06:51,750
and easier

00:06:49,140 --> 00:06:54,270
in addition we promised ourselves that

00:06:51,750 --> 00:06:56,340
every time we migrated thanks to reiax

00:06:54,270 --> 00:06:59,040
we would actually write amazing unit

00:06:56,340 --> 00:07:01,410
tests so that our coverage was better

00:06:59,040 --> 00:07:03,780
and also we could trust her up because

00:07:01,410 --> 00:07:08,430
it was getting a little bit not very

00:07:03,780 --> 00:07:11,250
reliable so where are we at now when I

00:07:08,430 --> 00:07:14,720
joined a year ago we only had 10% of the

00:07:11,250 --> 00:07:18,030
code migrated to react we're now 65%

00:07:14,720 --> 00:07:21,270
amazing all of our services are based on

00:07:18,030 --> 00:07:23,400
es6 and that's 40,000 lines of code and

00:07:21,270 --> 00:07:26,850
65% is in reacts to put it into

00:07:23,400 --> 00:07:28,500
perspective the journey has been super

00:07:26,850 --> 00:07:32,010
exciting and I think like everything is

00:07:28,500 --> 00:07:33,480
falling into place now maybe at the end

00:07:32,010 --> 00:07:35,340
of the year we'll have another talk and

00:07:33,480 --> 00:07:37,590
going into the pains and the happy times

00:07:35,340 --> 00:07:39,630
of what we went through as we were going

00:07:37,590 --> 00:07:42,060
through this journey but if you have any

00:07:39,630 --> 00:07:43,980
more questions I don't actually have any

00:07:42,060 --> 00:07:46,230
more details because there's a short

00:07:43,980 --> 00:07:48,800
story but feel free to grab me after or

00:07:46,230 --> 00:07:51,120
any of my team if you want anything else

00:07:48,800 --> 00:07:54,060
because I'm sure someone else is doing

00:07:51,120 --> 00:07:56,330
something similar here or thinking about

00:07:54,060 --> 00:07:56,330
it

00:07:56,990 --> 00:08:05,490
my second short story is based around

00:08:01,830 --> 00:08:07,860
sleep this is our education CMS react

00:08:05,490 --> 00:08:11,669
based and we store all our state in

00:08:07,860 --> 00:08:13,020
redux if you've used to redux before you

00:08:11,669 --> 00:08:15,510
know that things can get really

00:08:13,020 --> 00:08:17,010
complicated very quickly and with this

00:08:15,510 --> 00:08:18,600
application in general if you can think

00:08:17,010 --> 00:08:21,150
about it it's kind of structured as a

00:08:18,600 --> 00:08:23,790
book so we have 12 languages but every

00:08:21,150 --> 00:08:26,400
language has different courses different

00:08:23,790 --> 00:08:28,590
levels they also have different lessons

00:08:26,400 --> 00:08:31,260
and units etc so multiply that times 12

00:08:28,590 --> 00:08:33,060
and you can see it starts if you're

00:08:31,260 --> 00:08:34,770
saving in your state as an object it

00:08:33,060 --> 00:08:37,140
starts getting complicated very quickly

00:08:34,770 --> 00:08:39,240
and we obviously want our education team

00:08:37,140 --> 00:08:40,490
to be able to trust this tool and user

00:08:39,240 --> 00:08:42,870
on a day to day basis without

00:08:40,490 --> 00:08:47,430
accidentally causing some bugs that

00:08:42,870 --> 00:08:49,589
could break things as an example a

00:08:47,430 --> 00:08:52,260
little bit of a recap of a reducer is

00:08:49,589 --> 00:08:55,080
it's meant to be pure function takes in

00:08:52,260 --> 00:08:58,260
two arguments the first one is a state

00:08:55,080 --> 00:09:01,020
big object and the action is meant to

00:08:58,260 --> 00:09:04,170
say or to show what you actually want to

00:09:01,020 --> 00:09:05,970
change the fact that is pure means that

00:09:04,170 --> 00:09:09,090
you shouldn't change the original state

00:09:05,970 --> 00:09:12,990
but instead return a state with the

00:09:09,090 --> 00:09:15,200
change properties that you want and at

00:09:12,990 --> 00:09:17,910
first when you look at this you might

00:09:15,200 --> 00:09:20,460
not really know what is happening apart

00:09:17,910 --> 00:09:21,630
from three levels deep spread operators

00:09:20,460 --> 00:09:24,600
meaning that you're actually not

00:09:21,630 --> 00:09:29,010
mutating the original one and somewhere

00:09:24,600 --> 00:09:31,620
there you're actually adding an object

00:09:29,010 --> 00:09:35,130
to an array and this is just to add a

00:09:31,620 --> 00:09:38,670
label to an activity this is not the

00:09:35,130 --> 00:09:40,950
most complex reducer that we have but as

00:09:38,670 --> 00:09:43,080
the app grew and spinister cities grew

00:09:40,950 --> 00:09:45,720
we decided that we actually needed some

00:09:43,080 --> 00:09:47,910
library that was gonna help us make sure

00:09:45,720 --> 00:09:51,270
that all the things that were changing

00:09:47,910 --> 00:09:53,370
in this state as the users went around

00:09:51,270 --> 00:09:57,480
creating their courses wasn't

00:09:53,370 --> 00:09:59,190
necessarily going to make this safe not

00:09:57,480 --> 00:10:02,670
be immutable and changed things were not

00:09:59,190 --> 00:10:05,490
being meant to UM I mean I've already

00:10:02,670 --> 00:10:08,880
told most of the story me Elvis Trotter

00:10:05,490 --> 00:10:11,660
is pretty awesome dude he broke emerge

00:10:08,880 --> 00:10:16,650
is he also is part of Mobius

00:10:11,660 --> 00:10:19,080
one of the main guys um he went on and

00:10:16,650 --> 00:10:21,360
created this library and this super easy

00:10:19,080 --> 00:10:24,870
to understand we also looked at a

00:10:21,360 --> 00:10:27,180
mutable j/s but the fact that doesn't

00:10:24,870 --> 00:10:29,160
use know what javascript objects was

00:10:27,180 --> 00:10:31,140
starting to be a little bit difficult

00:10:29,160 --> 00:10:33,870
when we tried migrating to it

00:10:31,140 --> 00:10:36,150
so we tried emerge is and it was I mean

00:10:33,870 --> 00:10:38,970
as this shows it's relatively easy to

00:10:36,150 --> 00:10:40,500
understand you give it your state all

00:10:38,970 --> 00:10:42,150
the changes are made in draft and it

00:10:40,500 --> 00:10:45,060
returns a completely new state with the

00:10:42,150 --> 00:10:47,370
changes that you want it won't allow you

00:10:45,060 --> 00:10:50,250
to mutate the state if you actually want

00:10:47,370 --> 00:10:51,990
to when it uses proxies in the

00:10:50,250 --> 00:10:53,460
background I won't go into detail but

00:10:51,990 --> 00:10:54,690
he's written a lot of really cool

00:10:53,460 --> 00:10:58,170
articles explaining how it actually

00:10:54,690 --> 00:11:00,090
works all we do is we wrap our reducers

00:10:58,170 --> 00:11:02,430
with this function called the produce

00:11:00,090 --> 00:11:04,800
function that comes from the image race

00:11:02,430 --> 00:11:07,740
library and it takes in two arguments or

00:11:04,800 --> 00:11:08,529
state and our producer function which

00:11:07,740 --> 00:11:09,970
has all the

00:11:08,529 --> 00:11:16,180
changes that we actually want to make to

00:11:09,970 --> 00:11:18,879
this day going to the next slide we've

00:11:16,180 --> 00:11:22,600
migrated 5 out of 16 reducers not the

00:11:18,879 --> 00:11:24,189
most complex ones and as far as it

00:11:22,600 --> 00:11:26,170
stands the team can actually understand

00:11:24,189 --> 00:11:27,910
the code better if we have someone new

00:11:26,170 --> 00:11:30,220
coming into the team that actually know

00:11:27,910 --> 00:11:32,110
instantly what a reducer you're doing in

00:11:30,220 --> 00:11:35,550
the really complex nested structure that

00:11:32,110 --> 00:11:38,949
we have in Slate and going back to my

00:11:35,550 --> 00:11:40,540
first example that's about 20 lines if

00:11:38,949 --> 00:11:45,069
you actually take all the rest of the

00:11:40,540 --> 00:11:47,860
stuff it became four lines with the

00:11:45,069 --> 00:11:50,259
produce function and I think it's much

00:11:47,860 --> 00:11:52,329
easier to understand you actually know

00:11:50,259 --> 00:11:55,569
where you're going and what you're doing

00:11:52,329 --> 00:11:57,550
and you don't have to be worried about

00:11:55,569 --> 00:11:58,720
human prone errors because humans do

00:11:57,550 --> 00:12:02,790
make errors when they write code

00:11:58,720 --> 00:12:07,089
accidentally and if you're not convinced

00:12:02,790 --> 00:12:07,629
even Dan Abramov he wrote this well he

00:12:07,089 --> 00:12:10,509
retweeted

00:12:07,629 --> 00:12:11,949
this tweet in September 2018 and you

00:12:10,509 --> 00:12:14,069
know he's like the main guy one of the

00:12:11,949 --> 00:12:17,769
main guys for read redux and even he's

00:12:14,069 --> 00:12:21,839
super excited about it because it

00:12:17,769 --> 00:12:24,730
simplifies everything so much I

00:12:21,839 --> 00:12:27,009
encourage you to try it it's made our

00:12:24,730 --> 00:12:31,360
lives way easier and it's an ongoing

00:12:27,009 --> 00:12:36,550
journey hopefully we'll get to the end

00:12:31,360 --> 00:12:38,199
of it relatively soon that's me I don't

00:12:36,550 --> 00:12:40,720
have anything else to tell you today but

00:12:38,199 --> 00:12:43,350
if you have any questions any doubts any

00:12:40,720 --> 00:12:45,600
ideas I do hope it inspired you or

00:12:43,350 --> 00:12:48,670
resonated with you some of the stories

00:12:45,600 --> 00:12:51,309
we're also hiring in my team and in

00:12:48,670 --> 00:12:53,829
busuu in general so if you're interested

00:12:51,309 --> 00:12:57,530
in taking all these awesome journeys

00:12:53,829 --> 00:13:02,780
just give me a shout thanks

00:12:57,530 --> 00:13:02,780

YouTube URL: https://www.youtube.com/watch?v=AIy2w0TPgzo


