Title: React is hard but not why you may think  - Sara Vieira
Publication date: 2021-02-08
Playlist: JsConf Mexico 2020  virtual edition
Description: 
	spanish translated audio --  https://youtu.be/x_6htasdt5g

React is hard. There are a lot of resources for getting started, but things can get complex and confusing when writing full blown application. Navigating its ecosystem is a lot to take in and sometimes extremely overwhelming. With this talk, I hope to help you understanding some of its gotchas more clearly, while giving you some confidence when building bigger React applications.
Captions: 
	00:00:04,319 --> 00:00:07,120
thank you so much for having me uh it's

00:00:05,839 --> 00:00:09,599
a real pleasure to

00:00:07,120 --> 00:00:10,480
be in this conference and today what i

00:00:09,599 --> 00:00:13,440
want to talk about

00:00:10,480 --> 00:00:14,559
is how i hear a lot of people and a lot

00:00:13,440 --> 00:00:17,840
of stories of how

00:00:14,559 --> 00:00:19,680
react is easy and how getting

00:00:17,840 --> 00:00:21,199
started with react takes like i don't

00:00:19,680 --> 00:00:23,039
know in five minutes you're going to get

00:00:21,199 --> 00:00:24,880
everything done first i want to point

00:00:23,039 --> 00:00:26,960
out that nothing in programming is easy

00:00:24,880 --> 00:00:28,640
programming is hard don't let anyone

00:00:26,960 --> 00:00:31,679
tell you that something is easy

00:00:28,640 --> 00:00:35,920
but i don't think react is

00:00:31,679 --> 00:00:38,239
that hard but what's hard about react

00:00:35,920 --> 00:00:40,079
is navigating the entire world of react

00:00:38,239 --> 00:00:43,360
there's so many things

00:00:40,079 --> 00:00:46,079
in react that can kind of get lost

00:00:43,360 --> 00:00:47,440
even if react itself is not hard and you

00:00:46,079 --> 00:00:47,840
know how to use all the states and all

00:00:47,440 --> 00:00:50,480
the

00:00:47,840 --> 00:00:51,280
all the effects and everything it's

00:00:50,480 --> 00:00:52,320
still hard

00:00:51,280 --> 00:00:54,480
because you have to make all these

00:00:52,320 --> 00:00:55,120
libraries that hate each other talk to

00:00:54,480 --> 00:00:57,840
each other

00:00:55,120 --> 00:00:58,399
and somehow like each other and that's

00:00:57,840 --> 00:01:00,079
hard

00:00:58,399 --> 00:01:01,840
when to know when to use something and

00:01:00,079 --> 00:01:02,559
when not to use something and blah blah

00:01:01,840 --> 00:01:04,479
blah

00:01:02,559 --> 00:01:07,840
and as an example to that i want to

00:01:04,479 --> 00:01:10,880
explain to you how i learned react

00:01:07,840 --> 00:01:12,400
so uh back in my early days when i was a

00:01:10,880 --> 00:01:15,439
sweet summer child

00:01:12,400 --> 00:01:16,400
i think i was like 2 23 or something i

00:01:15,439 --> 00:01:17,759
don't know i would have to go on

00:01:16,400 --> 00:01:18,960
linkedin to check but i don't know my

00:01:17,759 --> 00:01:21,200
password so

00:01:18,960 --> 00:01:23,200
i'm going to go with 23. i was like 23

00:01:21,200 --> 00:01:26,240
and i worked for this company

00:01:23,200 --> 00:01:27,759
i worked in like the uh payment

00:01:26,240 --> 00:01:29,280
management system of it

00:01:27,759 --> 00:01:30,960
and we had to build a new payment system

00:01:29,280 --> 00:01:32,240
which was paypal everyone knows paypal

00:01:30,960 --> 00:01:33,119
so that makes it so much easier to tell

00:01:32,240 --> 00:01:35,280
this talk

00:01:33,119 --> 00:01:36,400
uh and we had to go paypal and there was

00:01:35,280 --> 00:01:38,720
me another guy

00:01:36,400 --> 00:01:40,320
and there was me a guy and another girl

00:01:38,720 --> 00:01:42,079
on my team as front ends

00:01:40,320 --> 00:01:43,520
this was the also the only time i've had

00:01:42,079 --> 00:01:45,200
ever had more than men

00:01:43,520 --> 00:01:47,119
male women than men in my team it never

00:01:45,200 --> 00:01:48,960
happened again don't get your hopes up

00:01:47,119 --> 00:01:50,720
it's not a portuguese thing it happened

00:01:48,960 --> 00:01:54,640
once

00:01:50,720 --> 00:01:56,479
and this this guy was super nice uh and

00:01:54,640 --> 00:01:58,240
he had this idea that like okay so we

00:01:56,479 --> 00:01:58,960
should use react for this react is this

00:01:58,240 --> 00:02:01,040
new thing

00:01:58,960 --> 00:02:02,159
and it looks really good and we should

00:02:01,040 --> 00:02:03,920
use it

00:02:02,159 --> 00:02:05,439
and it was always like ahead of the

00:02:03,920 --> 00:02:07,200
curve and stuff like you made the first

00:02:05,439 --> 00:02:09,039
babel jsx plug-in and all that stuff

00:02:07,200 --> 00:02:11,680
like really smart guy 10 out of 10.

00:02:09,039 --> 00:02:12,959
um problem was no one else knew how to

00:02:11,680 --> 00:02:14,480
use react like i didn't know how to use

00:02:12,959 --> 00:02:15,520
react and my friend also didn't know how

00:02:14,480 --> 00:02:17,200
to use react

00:02:15,520 --> 00:02:18,800
but we were like okay that's fine like

00:02:17,200 --> 00:02:21,440
we'll learn whether or not to use react

00:02:18,800 --> 00:02:23,120
let's use react so what happened was he

00:02:21,440 --> 00:02:24,959
like this was before create three after

00:02:23,120 --> 00:02:26,400
app so he made like the entire webpack

00:02:24,959 --> 00:02:28,239
thing and danny went on vacation for

00:02:26,400 --> 00:02:30,319
three weeks

00:02:28,239 --> 00:02:32,160
so he left for three weeks and my friend

00:02:30,319 --> 00:02:33,599
also left for three weeks so it was me

00:02:32,160 --> 00:02:34,480
the sweet summer child that was left

00:02:33,599 --> 00:02:36,080
there alone

00:02:34,480 --> 00:02:37,519
wondering what the is happening

00:02:36,080 --> 00:02:41,200
here

00:02:37,519 --> 00:02:41,760
that was not good times so uh the point

00:02:41,200 --> 00:02:44,800
of this is

00:02:41,760 --> 00:02:46,000
that i kind of had to figure it out so i

00:02:44,800 --> 00:02:47,440
had to build this thing i had to build

00:02:46,000 --> 00:02:48,720
this paypal integration i didn't have to

00:02:47,440 --> 00:02:50,000
do the back end obviously like someone

00:02:48,720 --> 00:02:51,920
already did the back end

00:02:50,000 --> 00:02:53,120
i had to do this paypal integration and

00:02:51,920 --> 00:02:54,080
i had no idea what the i was

00:02:53,120 --> 00:02:57,840
supposed to do

00:02:54,080 --> 00:02:59,840
i came from angular 1 respect

00:02:57,840 --> 00:03:01,120
i came from angular 1 and like in

00:02:59,840 --> 00:03:02,720
angular 1 like

00:03:01,120 --> 00:03:04,239
people just gave you things like you

00:03:02,720 --> 00:03:05,920
know you want to route here

00:03:04,239 --> 00:03:07,680
like you just put a rod in there it's

00:03:05,920 --> 00:03:09,599
easy there you go

00:03:07,680 --> 00:03:11,200
uh then it scaled and you cried but in

00:03:09,599 --> 00:03:12,640
the beginning it was like oh wow this is

00:03:11,200 --> 00:03:13,920
easy like i didn't even know that much

00:03:12,640 --> 00:03:14,959
javascript like i joined that company

00:03:13,920 --> 00:03:16,319
because they were impressed by my

00:03:14,959 --> 00:03:19,519
flexbox knowledge

00:03:16,319 --> 00:03:21,440
um so i tried to figure it out and what

00:03:19,519 --> 00:03:24,239
happened by the end was that i

00:03:21,440 --> 00:03:24,959
didn't quite understand the idea of like

00:03:24,239 --> 00:03:27,120
front-end

00:03:24,959 --> 00:03:28,879
npm packages at the time like i knew

00:03:27,120 --> 00:03:30,319
they were real

00:03:28,879 --> 00:03:32,239
but i didn't know you had to use them

00:03:30,319 --> 00:03:34,080
this much

00:03:32,239 --> 00:03:36,400
so i tried to do everything with just

00:03:34,080 --> 00:03:37,680
react and the way that i did for example

00:03:36,400 --> 00:03:40,480
routes was that

00:03:37,680 --> 00:03:41,920
so i had this like app.js right and then

00:03:40,480 --> 00:03:43,280
you had all the buttons like the nap

00:03:41,920 --> 00:03:45,360
buttons and when you click the nav

00:03:43,280 --> 00:03:47,599
button it just toggled the state to like

00:03:45,360 --> 00:03:50,480
about equals true and if about was true

00:03:47,599 --> 00:03:52,959
it showed another component

00:03:50,480 --> 00:03:54,480
which in like in retrospect may not be

00:03:52,959 --> 00:03:54,959
the best way to create things and react

00:03:54,480 --> 00:03:57,680
and then

00:03:54,959 --> 00:03:59,120
like so like the in the final of these

00:03:57,680 --> 00:04:03,599
three weeks like this app

00:03:59,120 --> 00:04:05,040
worked kinda but it was the worst code

00:04:03,599 --> 00:04:07,040
that you would ever see and react

00:04:05,040 --> 00:04:09,120
because i tried to do every single thing

00:04:07,040 --> 00:04:12,239
with react because i didn't know

00:04:09,120 --> 00:04:12,720
any better literally i didn't know any

00:04:12,239 --> 00:04:14,400
better

00:04:12,720 --> 00:04:16,239
like no one told me that i could go on

00:04:14,400 --> 00:04:18,239
the internet and look for packages that

00:04:16,239 --> 00:04:19,759
did the thing that i wanted them to do

00:04:18,239 --> 00:04:21,359
so then my friend came back and he was

00:04:19,759 --> 00:04:22,960
like why didn't you use a routing

00:04:21,359 --> 00:04:23,919
library and i was like what's a routing

00:04:22,960 --> 00:04:25,680
library

00:04:23,919 --> 00:04:27,120
it was like you put it into react and it

00:04:25,680 --> 00:04:28,560
does routing for you

00:04:27,120 --> 00:04:30,479
and i was like oh you mean like with the

00:04:28,560 --> 00:04:34,080
things and everything and he was like

00:04:30,479 --> 00:04:37,280
yeah i was like oh oh that that sounds

00:04:34,080 --> 00:04:38,720
better so after that

00:04:37,280 --> 00:04:40,639
it was all the way up because i feel

00:04:38,720 --> 00:04:42,479
like i started right at the bottom

00:04:40,639 --> 00:04:43,759
we finished that but then you forget

00:04:42,479 --> 00:04:44,960
that we had to integrate it in an

00:04:43,759 --> 00:04:46,320
angular 1 app

00:04:44,960 --> 00:04:48,320
because the rest of the app was angular

00:04:46,320 --> 00:04:48,639
1. so i feel like i need to tell you

00:04:48,320 --> 00:04:51,120
that

00:04:48,639 --> 00:04:52,240
if there was this like react app that

00:04:51,120 --> 00:04:54,160
was the paypal app

00:04:52,240 --> 00:04:55,919
and then we had the angular 1 app and

00:04:54,160 --> 00:04:58,160
like the thing that was connecting them

00:04:55,919 --> 00:05:00,639
was polymer

00:04:58,160 --> 00:05:02,240
i don't know i know that i left and when

00:05:00,639 --> 00:05:03,360
i came back and like it was like hey

00:05:02,240 --> 00:05:05,360
guys what's up

00:05:03,360 --> 00:05:06,560
oh look we made polymer and i was like

00:05:05,360 --> 00:05:10,240
why

00:05:06,560 --> 00:05:12,880
okay so after that i eventually

00:05:10,240 --> 00:05:14,160
went on the npms and create packages and

00:05:12,880 --> 00:05:16,720
stuff and like

00:05:14,160 --> 00:05:18,240
realize how the world works but i

00:05:16,720 --> 00:05:20,000
shouldn't know that like this is not

00:05:18,240 --> 00:05:21,600
that weird like i feel like it happened

00:05:20,000 --> 00:05:22,960
to a lot of us mostly the ones that came

00:05:21,600 --> 00:05:26,000
from angular 1.

00:05:22,960 --> 00:05:27,280
um respect and like

00:05:26,000 --> 00:05:28,880
there were no snake managements in

00:05:27,280 --> 00:05:30,479
angular 1 like the same management was

00:05:28,880 --> 00:05:33,120
the window

00:05:30,479 --> 00:05:34,960
so good uh yeah so my name is sarah

00:05:33,120 --> 00:05:35,840
sarah vieta i'm a developer i got

00:05:34,960 --> 00:05:38,960
sandbox i

00:05:35,840 --> 00:05:40,400
am nikithaftw intruder i am originally

00:05:38,960 --> 00:05:42,320
from portugal so

00:05:40,400 --> 00:05:43,840
if you want to ask questions in spanish

00:05:42,320 --> 00:05:45,520
i will understand them

00:05:43,840 --> 00:05:46,720
i may try to speak but i'll probably say

00:05:45,520 --> 00:05:47,440
portuguese words in the middle of it

00:05:46,720 --> 00:05:49,600
then you'll be like

00:05:47,440 --> 00:05:50,560
what that sounds spanish but it's not

00:05:49,600 --> 00:05:51,680
spanish

00:05:50,560 --> 00:05:53,440
that's probably because i'm speaking

00:05:51,680 --> 00:05:55,199
portuguese with a spanish accent because

00:05:53,440 --> 00:05:57,199
that's how all of us do it i apologize

00:05:55,199 --> 00:05:59,280
in advance

00:05:57,199 --> 00:06:01,759
so yeah that's kind of what i want to

00:05:59,280 --> 00:06:05,280
say is react is not hard but the

00:06:01,759 --> 00:06:08,560
ecosystem itself is very confusing

00:06:05,280 --> 00:06:10,400
and very big and daunting and yeah

00:06:08,560 --> 00:06:11,919
yeah so okay so what we're gonna do

00:06:10,400 --> 00:06:14,800
today we're gonna have some fun

00:06:11,919 --> 00:06:16,400
at 10 am well the world may be dying

00:06:14,800 --> 00:06:17,039
somewhere else but we'll not think about

00:06:16,400 --> 00:06:18,960
that

00:06:17,039 --> 00:06:21,520
and we're gonna build an app all right

00:06:18,960 --> 00:06:22,880
so this app is going to be incredibly

00:06:21,520 --> 00:06:26,160
over engineered

00:06:22,880 --> 00:06:27,280
but like amazingly of an engineer so

00:06:26,160 --> 00:06:29,600
we're going to use routing we're going

00:06:27,280 --> 00:06:31,759
to use animations all of these will be

00:06:29,600 --> 00:06:33,199
external libraries state management and

00:06:31,759 --> 00:06:34,319
css and js

00:06:33,199 --> 00:06:35,759
so we're going to use all of these

00:06:34,319 --> 00:06:36,960
things and i want to say that you don't

00:06:35,759 --> 00:06:38,240
quite need a state management in this

00:06:36,960 --> 00:06:39,520
situation i think

00:06:38,240 --> 00:06:41,680
you could probably get away with just

00:06:39,520 --> 00:06:42,720
using context but i wanted to show you a

00:06:41,680 --> 00:06:44,080
state management

00:06:42,720 --> 00:06:45,440
because like there will be a point where

00:06:44,080 --> 00:06:46,840
you're using context that if your app

00:06:45,440 --> 00:06:50,160
gets too

00:06:46,840 --> 00:06:51,520
big you will lose contact

00:06:50,160 --> 00:06:54,319
and i don't know i thought that was

00:06:51,520 --> 00:06:56,479
funny i don't write my jokes they just

00:06:54,319 --> 00:07:00,319
come out because i'm so nervous

00:06:56,479 --> 00:07:03,280
okay so let's do it okay so

00:07:00,319 --> 00:07:04,639
what we're gonna build is this beautiful

00:07:03,280 --> 00:07:06,240
and who would have known i'm using code

00:07:04,639 --> 00:07:09,199
sandbox

00:07:06,240 --> 00:07:10,400
um yeah so i have an endpoint that has

00:07:09,199 --> 00:07:13,199
the worst

00:07:10,400 --> 00:07:14,160
30 movies it has i think 100. the worst

00:07:13,199 --> 00:07:16,000
30 movies

00:07:14,160 --> 00:07:19,120
according to mdb these are the ones that

00:07:16,000 --> 00:07:22,800
have the least rating according to amdb

00:07:19,120 --> 00:07:24,960
why is this important now you know

00:07:22,800 --> 00:07:27,520
the worst technically the worst movie

00:07:24,960 --> 00:07:30,800
ever made was disaster movie

00:07:27,520 --> 00:07:33,520
that makes sense so what is this so

00:07:30,800 --> 00:07:34,720
this is going to get from a graphql api

00:07:33,520 --> 00:07:35,599
and it's going to show me a list of

00:07:34,720 --> 00:07:37,440
movies

00:07:35,599 --> 00:07:38,720
and it's going to append some likes to

00:07:37,440 --> 00:07:39,759
it so then you can like a movie it's

00:07:38,720 --> 00:07:40,639
going to give you this little cute

00:07:39,759 --> 00:07:44,000
animation

00:07:40,639 --> 00:07:45,520
and it's going to order them by likes um

00:07:44,000 --> 00:07:47,199
yeah so then you can also click one of

00:07:45,520 --> 00:07:49,919
these and then you'll see this

00:07:47,199 --> 00:07:51,199
the very back quality of this image and

00:07:49,919 --> 00:07:54,720
the actual rating

00:07:51,199 --> 00:07:57,919
which is honestly 2.0 out of 10 which is

00:07:54,720 --> 00:07:59,360
really bad i don't think i've ever seen

00:07:57,919 --> 00:08:02,080
this movie

00:07:59,360 --> 00:08:04,479
okay yeah so one thing is that it's not

00:08:02,080 --> 00:08:06,560
saved in any local storage or anything

00:08:04,479 --> 00:08:08,240
so i don't know but i really like this

00:08:06,560 --> 00:08:09,680
animation i think it took me longer than

00:08:08,240 --> 00:08:11,840
literally building anything else in this

00:08:09,680 --> 00:08:13,440
app

00:08:11,840 --> 00:08:15,039
this little thing look at this little

00:08:13,440 --> 00:08:17,599
thing okay

00:08:15,039 --> 00:08:19,520
so this is what i have right and i won't

00:08:17,599 --> 00:08:22,960
be live coding a lot because

00:08:19,520 --> 00:08:25,120
mostly because i don't have time

00:08:22,960 --> 00:08:26,720
i guess uh but i'll be like i have the

00:08:25,120 --> 00:08:28,240
app on my side and i'll be copying and

00:08:26,720 --> 00:08:30,560
pasting whatever makes sense

00:08:28,240 --> 00:08:31,759
first so what i have right now is that i

00:08:30,560 --> 00:08:33,839
have all the pages

00:08:31,759 --> 00:08:35,120
empty and i already have all the things

00:08:33,839 --> 00:08:36,000
installed so let's go over what i have

00:08:35,120 --> 00:08:38,159
installed

00:08:36,000 --> 00:08:39,919
so these three things these which what

00:08:38,159 --> 00:08:41,200
is that react scripts react and react

00:08:39,919 --> 00:08:43,120
dom come with cra

00:08:41,200 --> 00:08:44,560
creates react app so then i also have

00:08:43,120 --> 00:08:47,360
framer motion installed

00:08:44,560 --> 00:08:47,680
history react dom and react router dom

00:08:47,360 --> 00:08:50,560
for

00:08:47,680 --> 00:08:51,839
react dom uh what you need three because

00:08:50,560 --> 00:08:55,360
you need three

00:08:51,839 --> 00:08:56,959
um uh framer motion animations we have

00:08:55,360 --> 00:08:57,839
over my den over my react so this is

00:08:56,959 --> 00:08:59,519
what i'm going to use for state

00:08:57,839 --> 00:09:01,279
management so i already have a folder

00:08:59,519 --> 00:09:03,200
here called overmind

00:09:01,279 --> 00:09:04,600
and style components which is going to

00:09:03,200 --> 00:09:06,000
use for css and i also have

00:09:04,600 --> 00:09:08,000
normalized.css

00:09:06,000 --> 00:09:10,970
which what it does is basically make

00:09:08,000 --> 00:09:12,480
everything look the same

00:09:10,970 --> 00:09:14,399
[Music]

00:09:12,480 --> 00:09:15,519
so if i do this could not find module

00:09:14,399 --> 00:09:18,080
and

00:09:15,519 --> 00:09:19,760
that's a good start it just basically

00:09:18,080 --> 00:09:21,120
removes like a bunch of margins and

00:09:19,760 --> 00:09:22,720
stuff i don't think it's doing anything

00:09:21,120 --> 00:09:24,800
though no it is it is you see that

00:09:22,720 --> 00:09:26,000
you see that there we go we remove the

00:09:24,800 --> 00:09:27,839
margin there

00:09:26,000 --> 00:09:29,760
yeah so this is the only thing so yeah

00:09:27,839 --> 00:09:33,040
we're done normalized

00:09:29,760 --> 00:09:34,399
um yeah so let's get started so

00:09:33,040 --> 00:09:36,560
the first thing that we need if you look

00:09:34,399 --> 00:09:37,920
at the app is that we need to fetch

00:09:36,560 --> 00:09:41,839
these right

00:09:37,920 --> 00:09:43,839
and i want to fetch them using the um

00:09:41,839 --> 00:09:45,440
state management system so i have some

00:09:43,839 --> 00:09:47,200
things here and the two things that i

00:09:45,440 --> 00:09:47,760
have are the queries so i have a query

00:09:47,200 --> 00:09:49,600
to get

00:09:47,760 --> 00:09:51,120
all the movies and i have a query to get

00:09:49,600 --> 00:09:52,959
one movie and

00:09:51,120 --> 00:09:54,959
i have this because i didn't really want

00:09:52,959 --> 00:09:56,720
to use apollo

00:09:54,959 --> 00:09:58,720
because even though this app is very

00:09:56,720 --> 00:10:00,240
overkill i didn't want to overkill it

00:09:58,720 --> 00:10:02,320
even more

00:10:00,240 --> 00:10:04,240
so i want to just like shed some light

00:10:02,320 --> 00:10:06,959
on graphql in this case

00:10:04,240 --> 00:10:09,279
which is like it's just a fetch like

00:10:06,959 --> 00:10:10,399
technically graphql is just a fetch but

00:10:09,279 --> 00:10:13,200
sent as a post

00:10:10,399 --> 00:10:14,079
that's it like there's no weird magic

00:10:13,200 --> 00:10:16,399
because

00:10:14,079 --> 00:10:17,680
uh what's gonna keep track of my cash is

00:10:16,399 --> 00:10:20,399
gonna be over mine which is the state

00:10:17,680 --> 00:10:22,399
management so i don't need apollo

00:10:20,399 --> 00:10:24,240
i just need a fetch so we're waiting

00:10:22,399 --> 00:10:26,160
fetch of the endpoint that i

00:10:24,240 --> 00:10:27,360
that i have here which is the end point

00:10:26,160 --> 00:10:29,120
of the movies

00:10:27,360 --> 00:10:30,640
and then i'm passing a headers telling

00:10:29,120 --> 00:10:32,000
you that it's json and stringifying

00:10:30,640 --> 00:10:33,519
whatever i pass in here

00:10:32,000 --> 00:10:35,120
that's it and it returns the data so

00:10:33,519 --> 00:10:36,640
then i can do whatever you want whatever

00:10:35,120 --> 00:10:38,160
i want i mean you can also do whatever

00:10:36,640 --> 00:10:41,279
you want it's up to you

00:10:38,160 --> 00:10:43,200
okay so let's get started right

00:10:41,279 --> 00:10:45,040
let's do this okay so let's get started

00:10:43,200 --> 00:10:46,079
with the index and this is the index of

00:10:45,040 --> 00:10:48,399
overmind

00:10:46,079 --> 00:10:49,440
so the first thing that we want to do is

00:10:48,399 --> 00:10:52,480
get all the movies

00:10:49,440 --> 00:10:55,279
so let me uh import

00:10:52,480 --> 00:10:55,279
the queries

00:10:55,760 --> 00:11:00,320
okay so if i do things like i click

00:10:58,480 --> 00:11:02,640
things and nothing happens

00:11:00,320 --> 00:11:03,440
i can explain so i have a windows and a

00:11:02,640 --> 00:11:05,360
mac

00:11:03,440 --> 00:11:06,720
and it's very confusing because i

00:11:05,360 --> 00:11:08,079
couldn't make the keyboards work the

00:11:06,720 --> 00:11:10,000
same way

00:11:08,079 --> 00:11:11,680
and it's just very confusing so let me

00:11:10,000 --> 00:11:13,440
import queries

00:11:11,680 --> 00:11:14,800
oh if i mis-type things that has nothing

00:11:13,440 --> 00:11:18,320
to do with it that's just

00:11:14,800 --> 00:11:21,120
how i do things fetch data from

00:11:18,320 --> 00:11:22,320
and let me get kick you well okay so the

00:11:21,120 --> 00:11:24,399
first thing that i want to do is that i

00:11:22,320 --> 00:11:27,760
need to create a config for it

00:11:24,399 --> 00:11:29,600
so i'm going to export cons config

00:11:27,760 --> 00:11:31,440
and this needs a state and sorry we use

00:11:29,600 --> 00:11:32,959
typescript sandbox and it always has

00:11:31,440 --> 00:11:35,200
like the two dots thing

00:11:32,959 --> 00:11:36,079
so this config is gonna have state and

00:11:35,200 --> 00:11:39,040
actions

00:11:36,079 --> 00:11:41,200
so state is the state and actions is

00:11:39,040 --> 00:11:43,680
anything that can change the state

00:11:41,200 --> 00:11:46,079
i don't know the name of it in redux but

00:11:43,680 --> 00:11:47,519
it's like that thing in redux

00:11:46,079 --> 00:11:49,680
that's not even the thing in reader it's

00:11:47,519 --> 00:11:52,399
like the set state it's like a set stick

00:11:49,680 --> 00:11:54,959
i don't know redux i'm sorry i did back

00:11:52,399 --> 00:11:56,880
in my day

00:11:54,959 --> 00:11:58,720
there we go beautiful okay so we need

00:11:56,880 --> 00:12:00,000
movies right

00:11:58,720 --> 00:12:02,959
so and it's going to start as an empty

00:12:00,000 --> 00:12:05,120
array cool so now we need an action

00:12:02,959 --> 00:12:06,880
and this is the action that will create

00:12:05,120 --> 00:12:09,200
the movies

00:12:06,880 --> 00:12:10,639
that will get the movie sorry and so i'm

00:12:09,200 --> 00:12:11,839
going to create an action and these are

00:12:10,639 --> 00:12:13,440
all functions and i'm going to create

00:12:11,839 --> 00:12:16,639
one called get movies

00:12:13,440 --> 00:12:18,079
and this is going to be async right good

00:12:16,639 --> 00:12:19,839
and then in here we're going to get the

00:12:18,079 --> 00:12:22,000
states so

00:12:19,839 --> 00:12:23,519
when you create any action it gets the

00:12:22,000 --> 00:12:25,279
sp there we go

00:12:23,519 --> 00:12:28,399
i read someone was in the audience being

00:12:25,279 --> 00:12:32,160
like you missed a comma

00:12:28,399 --> 00:12:32,160
i'll get there i'll get there eventually

00:12:33,120 --> 00:12:37,279
um i know because i'm that person uh

00:12:36,000 --> 00:12:39,120
yeah so you get the states

00:12:37,279 --> 00:12:40,639
uh and you also get the all the actions

00:12:39,120 --> 00:12:42,240
whatever you want to do

00:12:40,639 --> 00:12:44,480
so let's get to movies and let's say

00:12:42,240 --> 00:12:46,720
const beta

00:12:44,480 --> 00:12:47,760
equals a weight because this is an async

00:12:46,720 --> 00:12:50,480
i can do weight

00:12:47,760 --> 00:12:51,120
fetch data so i call the fetch beta and

00:12:50,480 --> 00:12:54,240
then i

00:12:51,120 --> 00:12:57,279
passed the query no wait

00:12:54,240 --> 00:12:58,160
i pressed that the body sorry the body

00:12:57,279 --> 00:13:01,760
is query

00:12:58,160 --> 00:13:05,680
equals where is that

00:13:01,760 --> 00:13:09,600
movies okay cool and then this is

00:13:05,680 --> 00:13:11,200
let's just return um

00:13:09,600 --> 00:13:13,680
yeah let's not return anything sorry

00:13:11,200 --> 00:13:17,360
let's say speaker movies

00:13:13,680 --> 00:13:19,279
equals data.movies and that's it we can

00:13:17,360 --> 00:13:24,399
also destructure this

00:13:19,279 --> 00:13:26,000
and say yes and now we don't need data

00:13:24,399 --> 00:13:27,200
it's kind of mutable kind of does

00:13:26,000 --> 00:13:28,000
everything behind the scenes so you

00:13:27,200 --> 00:13:29,519
don't have to

00:13:28,000 --> 00:13:31,040
let's create a homepage since we're at

00:13:29,519 --> 00:13:34,800
it and let's actually add

00:13:31,040 --> 00:13:37,040
um react router i think that makes sense

00:13:34,800 --> 00:13:39,199
so this part i'm going to copy so here

00:13:37,040 --> 00:13:41,920
you go react router dom

00:13:39,199 --> 00:13:43,199
loaded like a good first thing and there

00:13:41,920 --> 00:13:44,880
we go and let me

00:13:43,199 --> 00:13:46,880
import home which doesn't exist yet

00:13:44,880 --> 00:13:50,079
we'll create it

00:13:46,880 --> 00:13:52,079
and there we go and i'm gonna create

00:13:50,079 --> 00:13:56,000
these two routes

00:13:52,079 --> 00:13:57,839
wait i got this i promise i got this

00:13:56,000 --> 00:13:59,040
this is more like this will be needed in

00:13:57,839 --> 00:14:03,839
the future and now

00:13:59,040 --> 00:14:03,839
add a line comment

00:14:07,360 --> 00:14:11,920
okay expected string got absolutely

00:14:09,600 --> 00:14:15,519
nothing because this page doesn't exist

00:14:11,920 --> 00:14:17,120
okay so cons home equals a function that

00:14:15,519 --> 00:14:20,720
gets nothing

00:14:17,120 --> 00:14:22,480
and then let me export default home

00:14:20,720 --> 00:14:24,160
there we go and then we import all the

00:14:22,480 --> 00:14:27,279
things that i need to import

00:14:24,160 --> 00:14:30,800
so i need to import react and use effect

00:14:27,279 --> 00:14:33,680
and i need to use actually over mind

00:14:30,800 --> 00:14:35,279
but i'm not it's not set up yet so let's

00:14:33,680 --> 00:14:37,120
do that first now

00:14:35,279 --> 00:14:38,800
so it's a lot of back and forth in the

00:14:37,120 --> 00:14:39,680
beginning until we get all this stuff

00:14:38,800 --> 00:14:42,079
set up

00:14:39,680 --> 00:14:43,360
but we need a provider so we need to

00:14:42,079 --> 00:14:45,839
import the provider like

00:14:43,360 --> 00:14:46,399
like literally every single like library

00:14:45,839 --> 00:14:48,480
in the world

00:14:46,399 --> 00:14:49,760
we need to import a provider and we also

00:14:48,480 --> 00:14:54,320
need to import the config

00:14:49,760 --> 00:14:54,320
that comes from overmind that we created

00:14:56,320 --> 00:15:00,959
over minds and there we go so now we

00:14:58,079 --> 00:15:00,959
need the provider

00:15:01,040 --> 00:15:05,120
and close this provider that is the

00:15:03,440 --> 00:15:07,600
provider from overmind

00:15:05,120 --> 00:15:09,199
and we also need to create overmind

00:15:07,600 --> 00:15:10,240
which basically you pass at the config

00:15:09,199 --> 00:15:13,839
and that's it

00:15:10,240 --> 00:15:17,199
so you can say const state or whatever

00:15:13,839 --> 00:15:20,240
uh equals create overmind

00:15:17,199 --> 00:15:21,440
and you pass the conflict and now the

00:15:20,240 --> 00:15:25,199
value of this

00:15:21,440 --> 00:15:28,720
provider the value equals state

00:15:25,199 --> 00:15:30,320
and that's it maybe uh

00:15:28,720 --> 00:15:32,880
home returning okay nothing was returned

00:15:30,320 --> 00:15:32,880
from render

00:15:32,930 --> 00:15:38,000
[Music]

00:15:34,480 --> 00:15:40,320
we can sub there we go

00:15:38,000 --> 00:15:42,240
so now the way you use a verb a lot of

00:15:40,320 --> 00:15:47,040
times is that you say const

00:15:42,240 --> 00:15:47,040
state equals use over mind

00:15:47,120 --> 00:15:50,160
but as you can see this doesn't really

00:15:48,800 --> 00:15:53,279
exist right now so

00:15:50,160 --> 00:15:54,000
let's create this real fast and this is

00:15:53,279 --> 00:15:57,360
just one

00:15:54,000 --> 00:15:58,800
single thing which you can say from here

00:15:57,360 --> 00:15:59,360
so like in your index or whatever you

00:15:58,800 --> 00:16:02,480
want

00:15:59,360 --> 00:16:04,399
use over mind equals create hook

00:16:02,480 --> 00:16:06,240
and that's it so when you create a hook

00:16:04,399 --> 00:16:09,600
in over an overmind it gives you

00:16:06,240 --> 00:16:11,920
the use over mind

00:16:09,600 --> 00:16:13,199
and this will allow you to say so if i

00:16:11,920 --> 00:16:16,720
say state equals

00:16:13,199 --> 00:16:16,720
is over mine so imports

00:16:16,880 --> 00:16:20,880
uh i was doing the windows one again uh

00:16:19,519 --> 00:16:24,639
use

00:16:20,880 --> 00:16:28,079
overmind from

00:16:24,639 --> 00:16:30,720
back back no overnight

00:16:28,079 --> 00:16:36,079
there we go and now if i console

00:16:30,720 --> 00:16:37,920
download the state

00:16:36,079 --> 00:16:40,000
we have a movie's an array of zero

00:16:37,920 --> 00:16:41,360
that's something right

00:16:40,000 --> 00:16:43,120
that is something we're getting

00:16:41,360 --> 00:16:44,800
somewhere here uh

00:16:43,120 --> 00:16:47,040
and now we need to go get movies okay so

00:16:44,800 --> 00:16:51,600
i also need the actions

00:16:47,040 --> 00:16:52,959
so actions and unload so use effect

00:16:51,600 --> 00:16:55,279
i know i said i wasn't going to light

00:16:52,959 --> 00:16:55,279
code

00:16:55,680 --> 00:16:58,880
but i'm failing at that actions that get

00:16:58,399 --> 00:17:00,000
moving

00:16:58,880 --> 00:17:02,079
also i want to say that if you use

00:17:00,000 --> 00:17:04,160
typescript

00:17:02,079 --> 00:17:05,120
the above error actions that i get movie

00:17:04,160 --> 00:17:08,160
is not a function

00:17:05,120 --> 00:17:12,559
because it's getting movies

00:17:08,160 --> 00:17:15,360
and there we go okay so

00:17:12,559 --> 00:17:16,959
now if i reload this page i should be

00:17:15,360 --> 00:17:20,480
able to get to movies

00:17:16,959 --> 00:17:24,240
i should be able to say state

00:17:20,480 --> 00:17:28,240
at movies the map

00:17:24,240 --> 00:17:28,240
that was pretty not smart

00:17:28,319 --> 00:17:34,080
and now let me json.stringify

00:17:32,480 --> 00:17:36,400
there we go now we get all the movies

00:17:34,080 --> 00:17:39,600
jesus christ i got really excited there

00:17:36,400 --> 00:17:40,400
um and now we got all the movies it's

00:17:39,600 --> 00:17:43,520
not

00:17:40,400 --> 00:17:46,080
hard i mean it's it's hard but as look

00:17:43,520 --> 00:17:46,880
when you get the hang of it it gets

00:17:46,080 --> 00:17:48,400
easier

00:17:46,880 --> 00:17:50,000
we also want to add likes to it and

00:17:48,400 --> 00:17:51,039
start it all at zero so i'm just going

00:17:50,000 --> 00:17:53,919
to map

00:17:51,039 --> 00:17:54,559
get a movie and then in each of the

00:17:53,919 --> 00:17:56,720
movie

00:17:54,559 --> 00:17:58,480
i want to say that whatever is returned

00:17:56,720 --> 00:18:02,160
from it

00:17:58,480 --> 00:18:06,160
is equal to movie and then god

00:18:02,160 --> 00:18:08,400
comma there we go and likes equals zero

00:18:06,160 --> 00:18:10,960
that did not work because i'm missing

00:18:08,400 --> 00:18:14,000
one there we go

00:18:10,960 --> 00:18:17,039
so now when i reload this page we should

00:18:14,000 --> 00:18:19,600
get like likes

00:18:17,039 --> 00:18:20,880
which again likes equals zero oh good so

00:18:19,600 --> 00:18:22,080
now i'll show you something really cool

00:18:20,880 --> 00:18:22,960
about overmind and this one i'm just

00:18:22,080 --> 00:18:23,440
going to copy and paste because

00:18:22,960 --> 00:18:25,520
otherwise

00:18:23,440 --> 00:18:26,559
i am going to forget one of these

00:18:25,520 --> 00:18:30,080
comments

00:18:26,559 --> 00:18:33,280
so let me import derived as well

00:18:30,080 --> 00:18:35,600
i'm gonna go over what this magic is

00:18:33,280 --> 00:18:37,520
so let me come here and actually map

00:18:35,600 --> 00:18:39,120
over order movies which gonna give you

00:18:37,520 --> 00:18:42,240
the same thing

00:18:39,120 --> 00:18:43,440
but the magic of this is that when you

00:18:42,240 --> 00:18:46,720
create something like this

00:18:43,440 --> 00:18:48,960
a derived function derives

00:18:46,720 --> 00:18:50,480
i know english right the right function

00:18:48,960 --> 00:18:52,160
what it does is that it gets the state

00:18:50,480 --> 00:18:52,799
you currently have and creates something

00:18:52,160 --> 00:18:54,880
else

00:18:52,799 --> 00:18:56,640
so if you want to sort something if you

00:18:54,880 --> 00:18:58,000
want to say that does this have likes i

00:18:56,640 --> 00:18:58,799
want to get all the movies ordered all

00:18:58,000 --> 00:19:00,720
the time

00:18:58,799 --> 00:19:02,480
you don't have to do it in your view you

00:19:00,720 --> 00:19:03,679
can save it in your state and when this

00:19:02,480 --> 00:19:05,679
movie's updates

00:19:03,679 --> 00:19:07,440
this will update automatically it's

00:19:05,679 --> 00:19:07,760
really nice like you'll get access to

00:19:07,440 --> 00:19:11,039
this

00:19:07,760 --> 00:19:12,160
um sandbox uh okay so let's actually

00:19:11,039 --> 00:19:15,840
create a

00:19:12,160 --> 00:19:17,280
home page and this is gonna

00:19:15,840 --> 00:19:19,280
yeah let's create the homepage and this

00:19:17,280 --> 00:19:20,960
is gonna make us create some components

00:19:19,280 --> 00:19:22,720
so the first component i need is this

00:19:20,960 --> 00:19:24,320
main component so this is where we're

00:19:22,720 --> 00:19:27,039
gonna start using

00:19:24,320 --> 00:19:28,720
style components so all that i'm saying

00:19:27,039 --> 00:19:31,200
is like display this says flex

00:19:28,720 --> 00:19:32,960
that's it and have a max width of 600

00:19:31,200 --> 00:19:34,480
for some reason i want 800

00:19:32,960 --> 00:19:36,640
and we're going to have on the side and

00:19:34,480 --> 00:19:38,080
that's about it so in here what i want

00:19:36,640 --> 00:19:41,440
to do is i want to enter

00:19:38,080 --> 00:19:42,320
main this is going to do it yes it did

00:19:41,440 --> 00:19:45,600
it

00:19:42,320 --> 00:19:45,600
did it it imported it

00:19:45,679 --> 00:19:50,400
it imported it that's beautiful and i

00:19:48,240 --> 00:19:53,280
still screwed up wait there we go

00:19:50,400 --> 00:19:54,000
oh yes okay let me check something yes

00:19:53,280 --> 00:19:55,840
see

00:19:54,000 --> 00:19:58,480
oh that's why i wanted 600 so that i

00:19:55,840 --> 00:20:01,919
could it could be like visible

00:19:58,480 --> 00:20:03,840
okay so yeah that's done we need some

00:20:01,919 --> 00:20:05,679
global state though so let's add that

00:20:03,840 --> 00:20:06,960
so that it looks prettier when you load

00:20:05,679 --> 00:20:11,039
it so

00:20:06,960 --> 00:20:13,039
you can have global states with um

00:20:11,039 --> 00:20:14,960
stock components by creating create

00:20:13,039 --> 00:20:19,440
global state which this comes from

00:20:14,960 --> 00:20:22,000
so i'm gonna it's a lot of talking

00:20:19,440 --> 00:20:22,000
imports

00:20:25,280 --> 00:20:29,120
and this is going to be normalized

00:20:29,360 --> 00:20:34,400
uh so i don't really need normalize here

00:20:31,440 --> 00:20:36,480
anymore oh yeah that's already there and

00:20:34,400 --> 00:20:37,919
now this is a component so we can just

00:20:36,480 --> 00:20:40,000
mount this component

00:20:37,919 --> 00:20:41,520
that's that's why i added that it's like

00:20:40,000 --> 00:20:43,520
i prepared

00:20:41,520 --> 00:20:45,039
okay so that looks better i mean it

00:20:43,520 --> 00:20:47,679
doesn't look good

00:20:45,039 --> 00:20:49,120
but it looks better so we can keep going

00:20:47,679 --> 00:20:52,720
uh i would say the next step

00:20:49,120 --> 00:20:52,720
is to when you load the page

00:20:52,880 --> 00:20:56,080
like there is no loading or anything so

00:20:54,720 --> 00:20:57,919
let's create a fancy loading i think

00:20:56,080 --> 00:21:00,559
that's important

00:20:57,919 --> 00:21:02,159
or that's my definition of important uh

00:21:00,559 --> 00:21:03,760
so we have a loading here which just has

00:21:02,159 --> 00:21:05,440
two divs and then there's a fancy

00:21:03,760 --> 00:21:06,960
animation don't think i did this because

00:21:05,440 --> 00:21:10,559
i copied this out of the internet

00:21:06,960 --> 00:21:14,159
if you type css loading you get that

00:21:10,559 --> 00:21:18,720
um and in here i can say if not

00:21:14,159 --> 00:21:23,360
state that ordered movies that link

00:21:18,720 --> 00:21:23,360
yes i think that's it return

00:21:23,520 --> 00:21:29,520
domain and then be loading

00:21:28,000 --> 00:21:31,360
and believe this is actually important

00:21:29,520 --> 00:21:32,960
things that's so beautiful see who needs

00:21:31,360 --> 00:21:35,520
typescript

00:21:32,960 --> 00:21:36,720
there we go now we have a loading okay

00:21:35,520 --> 00:21:39,039
we're getting places

00:21:36,720 --> 00:21:39,760
let's add some more stuff so in the

00:21:39,039 --> 00:21:43,679
homepage

00:21:39,760 --> 00:21:45,520
i'm gonna add a movies component

00:21:43,679 --> 00:21:47,520
which is not going to make sense right

00:21:45,520 --> 00:21:49,520
now but i promise you

00:21:47,520 --> 00:21:51,520
it will make sense in the future so this

00:21:49,520 --> 00:21:54,880
is just going to be a ul

00:21:51,520 --> 00:21:54,880
and we're also going to import styled

00:21:54,960 --> 00:21:57,919
so i don't know how to like go up on

00:21:56,480 --> 00:21:59,679
your keyboard thing so i just select

00:21:57,919 --> 00:22:03,360
everything and go up or down

00:21:59,679 --> 00:22:05,760
like a lazy person import style

00:22:03,360 --> 00:22:06,960
from components and now we have this

00:22:05,760 --> 00:22:11,200
movies thing

00:22:06,960 --> 00:22:14,480
and so maine is gonna get movies

00:22:11,200 --> 00:22:17,280
and i'm gonna close this movies i hope

00:22:14,480 --> 00:22:20,320
you're wearing something

00:22:17,280 --> 00:22:24,159
and what i want to do now is

00:22:20,320 --> 00:22:26,960
show this there we go

00:22:24,159 --> 00:22:27,440
okay cool so this just shows if not or

00:22:26,960 --> 00:22:30,480
not

00:22:27,440 --> 00:22:31,200
please show me the voting if not give me

00:22:30,480 --> 00:22:32,559
the movies

00:22:31,200 --> 00:22:34,880
so let's create this movie component

00:22:32,559 --> 00:22:38,159
this is just a general uh component

00:22:34,880 --> 00:22:40,159
that uh we'll just show the movie itself

00:22:38,159 --> 00:22:43,679
so i'm gonna come here and i'm literally

00:22:40,159 --> 00:22:43,679
gonna copy and paste this one because

00:22:43,919 --> 00:22:50,799
there we go so now now

00:22:47,760 --> 00:22:54,480
i did not import it did i no i did

00:22:50,799 --> 00:22:56,080
i did oh no oh no we have issue

00:22:54,480 --> 00:22:59,600
exporting fault movies you may have

00:22:56,080 --> 00:23:01,280
clicked the render method of movie

00:22:59,600 --> 00:23:02,640
i don't like i don't like having these

00:23:01,280 --> 00:23:05,520
issues live

00:23:02,640 --> 00:23:06,400
this does not make me happy because you

00:23:05,520 --> 00:23:08,960
need to understand

00:23:06,400 --> 00:23:09,840
that like as soon as someone who's doing

00:23:08,960 --> 00:23:12,799
a conference talk

00:23:09,840 --> 00:23:14,960
has any problems they immediately have

00:23:12,799 --> 00:23:17,600
never seen react in their life

00:23:14,960 --> 00:23:18,720
i'm like what is this what is this i

00:23:17,600 --> 00:23:20,080
don't know what this is this doesn't

00:23:18,720 --> 00:23:23,039
make any sense

00:23:20,080 --> 00:23:26,320
uh okay oh i think the problem is this

00:23:23,039 --> 00:23:26,320
we don't have this like button yet

00:23:29,760 --> 00:23:34,159
that that'd be the problem yeah and

00:23:31,360 --> 00:23:35,840
there we go that was the problem

00:23:34,159 --> 00:23:37,600
okay but we do have a problem here i

00:23:35,840 --> 00:23:39,520
mean we do have the like button problem

00:23:37,600 --> 00:23:41,600
we need to create the like movie action

00:23:39,520 --> 00:23:43,679
okay so let's go to overmind

00:23:41,600 --> 00:23:44,880
which is all the way over here and

00:23:43,679 --> 00:23:48,840
create a

00:23:44,880 --> 00:23:52,000
like movie let me go to my trusted

00:23:48,840 --> 00:23:53,760
sidekick um at least i'm not lying to

00:23:52,000 --> 00:23:55,520
you

00:23:53,760 --> 00:23:56,960
it should be like magical if code just

00:23:55,520 --> 00:23:58,159
showed up like that's how i code you

00:23:56,960 --> 00:24:01,919
know it just shows up

00:23:58,159 --> 00:24:02,799
it's like magic um yeah so what the hell

00:24:01,919 --> 00:24:04,400
am i doing here

00:24:02,799 --> 00:24:06,480
so we have an action that also gets the

00:24:04,400 --> 00:24:08,159
state and then as a second parameter it

00:24:06,480 --> 00:24:10,799
gets anything that i pass it to so in

00:24:08,159 --> 00:24:12,720
this case i passed the id

00:24:10,799 --> 00:24:14,159
uh that we get as a prop so if i come

00:24:12,720 --> 00:24:15,600
here to the home you can see that i

00:24:14,159 --> 00:24:18,559
spread all the props

00:24:15,600 --> 00:24:18,880
and i give it a key and that's it and

00:24:18,559 --> 00:24:21,039
then

00:24:18,880 --> 00:24:22,559
let me close this loading and dismay and

00:24:21,039 --> 00:24:24,960
we get the silver mind

00:24:22,559 --> 00:24:26,799
and so we say state that movies data

00:24:24,960 --> 00:24:29,200
movies okay there we go equals

00:24:26,799 --> 00:24:30,320
on map and if the movie id that we're

00:24:29,200 --> 00:24:32,559
mapping over

00:24:30,320 --> 00:24:34,240
has the same idea as the one i sent

00:24:32,559 --> 00:24:36,159
please add one to the likes

00:24:34,240 --> 00:24:37,840
so now we just need to add the like

00:24:36,159 --> 00:24:41,679
button

00:24:37,840 --> 00:24:41,679
uh this one is mostly css

00:24:42,559 --> 00:24:47,440
there we go see all css and now we need

00:24:45,279 --> 00:24:47,919
the star which is that 3d animation that

00:24:47,440 --> 00:24:50,640
took me

00:24:47,919 --> 00:24:54,159
forever because i couldn't get framer

00:24:50,640 --> 00:24:54,159
motion to work with style components

00:24:55,279 --> 00:25:01,120
i even broke with sandbox in the process

00:24:57,200 --> 00:25:01,120
and i was like why is my sandbox broken

00:25:01,440 --> 00:25:05,120
turns out you can't use the css thing of

00:25:03,840 --> 00:25:08,240
style components

00:25:05,120 --> 00:25:09,760
with uh frame remote

00:25:08,240 --> 00:25:11,279
but i mean the error was that motion

00:25:09,760 --> 00:25:14,400
wasn't defined so it's like

00:25:11,279 --> 00:25:15,360
right okay so there's also another thing

00:25:14,400 --> 00:25:18,159
here is that

00:25:15,360 --> 00:25:19,600
in the like button if i come here we

00:25:18,159 --> 00:25:22,000
check if it has likes

00:25:19,600 --> 00:25:23,200
so let me remove this for now so i'm

00:25:22,000 --> 00:25:29,120
just gonna do this

00:25:23,200 --> 00:25:31,520
and this and i'm gonna add one comment

00:25:29,120 --> 00:25:32,159
i reload this page we should see the

00:25:31,520 --> 00:25:35,360
movies

00:25:32,159 --> 00:25:37,520
and i should and i repeat should be able

00:25:35,360 --> 00:25:39,440
to like a movie there we go

00:25:37,520 --> 00:25:40,960
did you see that there's an animation

00:25:39,440 --> 00:25:42,880
it's so pretty

00:25:40,960 --> 00:25:44,000
uh i forgot one thing i mean it's not

00:25:42,880 --> 00:25:48,320
important at all

00:25:44,000 --> 00:25:48,320
but it's a h1 here

00:25:49,039 --> 00:25:54,159
worst movies ever made

00:25:51,230 --> 00:25:55,679
[Applause]

00:25:54,159 --> 00:25:57,440
and i'm gonna close the second one oh

00:25:55,679 --> 00:25:59,279
wow that is not a closed h1

00:25:57,440 --> 00:26:01,679
oh yeah so that cannot be in the main

00:25:59,279 --> 00:26:04,159
because the main is black

00:26:01,679 --> 00:26:05,039
okay there we go do you know how many

00:26:04,159 --> 00:26:06,720
times that happens to me

00:26:05,039 --> 00:26:09,279
i'm just gonna plug this in here oh no

00:26:06,720 --> 00:26:12,080
that's a flex component i can't do that

00:26:09,279 --> 00:26:13,200
it's going to break my entire app uh so

00:26:12,080 --> 00:26:15,120
i'm going to add an h1 here that's

00:26:13,200 --> 00:26:19,120
basically just a lenses to the center

00:26:15,120 --> 00:26:22,240
um and so this is h1

00:26:19,120 --> 00:26:23,200
really do it that's the real question it

00:26:22,240 --> 00:26:28,159
did

00:26:23,200 --> 00:26:28,159
okay right movie like movie wait what

00:26:29,919 --> 00:26:34,880
yes that was a good 10 box plug i mean i

00:26:31,760 --> 00:26:34,880
will have to fix it either way

00:26:35,039 --> 00:26:40,559
but that's a problem for future

00:26:38,080 --> 00:26:41,600
okay so we need to check if it has likes

00:26:40,559 --> 00:26:43,200
right so that's the

00:26:41,600 --> 00:26:45,279
basically the only thing we need here

00:26:43,200 --> 00:26:46,080
right now so i'm going to leave this

00:26:45,279 --> 00:26:47,919
disabled

00:26:46,080 --> 00:26:50,320
state that has likes is not a function

00:26:47,919 --> 00:26:52,240
so what what is my idea here

00:26:50,320 --> 00:26:54,400
so my idea is to disable it if it has

00:26:52,240 --> 00:26:56,240
any likes so what i want to do is create

00:26:54,400 --> 00:26:58,240
another derived state

00:26:56,240 --> 00:27:01,679
that will check if there are likes there

00:26:58,240 --> 00:27:04,240
and if there are return me true or false

00:27:01,679 --> 00:27:04,960
uh so let me just find the page and so

00:27:04,240 --> 00:27:07,679
i'm here right

00:27:04,960 --> 00:27:10,080
okay cool and this is the right state

00:27:07,679 --> 00:27:13,120
and this is where

00:27:10,080 --> 00:27:14,480
it gets confusing and i'll give you that

00:27:13,120 --> 00:27:17,679
one

00:27:14,480 --> 00:27:20,480
very easily so like i don't know but

00:27:17,679 --> 00:27:22,799
when you pass a value to any um

00:27:20,480 --> 00:27:24,080
it's not this one is it not this one

00:27:22,799 --> 00:27:25,840
yeah

00:27:24,080 --> 00:27:27,279
when you pass a value to any derived

00:27:25,840 --> 00:27:27,919
property it actually gets passed as a

00:27:27,279 --> 00:27:29,600
second

00:27:27,919 --> 00:27:31,760
function so like the function returns a

00:27:29,600 --> 00:27:33,279
function just go to the docs and copy

00:27:31,760 --> 00:27:34,240
the example and change it that's what i

00:27:33,279 --> 00:27:37,600
did

00:27:34,240 --> 00:27:39,279
um and then i say like movies that finds

00:27:37,600 --> 00:27:41,440
movie if movie that id

00:27:39,279 --> 00:27:43,679
when the find the movie where the movie

00:27:41,440 --> 00:27:44,640
that id is equal to the id that i just

00:27:43,679 --> 00:27:46,559
passed

00:27:44,640 --> 00:27:48,720
and return if the likes are different

00:27:46,559 --> 00:27:50,399
than zero so if the likes are different

00:27:48,720 --> 00:27:51,679
than zero returns meanwhile and disables

00:27:50,399 --> 00:27:54,240
the button

00:27:51,679 --> 00:27:56,240
uh one thing is that i use this because

00:27:54,240 --> 00:27:58,320
sort by default is mutable

00:27:56,240 --> 00:27:59,600
and you can mute this you can't mute the

00:27:58,320 --> 00:28:00,720
state here like you have to use an

00:27:59,600 --> 00:28:02,240
action so it

00:28:00,720 --> 00:28:03,600
gives you an error saying that you can't

00:28:02,240 --> 00:28:04,320
mute the state so this will create a

00:28:03,600 --> 00:28:06,399
copy

00:28:04,320 --> 00:28:08,559
of that array and then you can sort it

00:28:06,399 --> 00:28:11,840
there is no like non-destructive way of

00:28:08,559 --> 00:28:11,840
doing sorts in javascript

00:28:12,159 --> 00:28:15,600
javascripts javascripts that's all i got

00:28:14,720 --> 00:28:18,559
to say

00:28:15,600 --> 00:28:19,840
okay so we done it we got 30 movies

00:28:18,559 --> 00:28:21,840
that's it so now

00:28:19,840 --> 00:28:24,640
we just need to make the new page we're

00:28:21,840 --> 00:28:26,159
almost there we're almost there

00:28:24,640 --> 00:28:27,919
we're going to do this we're going to do

00:28:26,159 --> 00:28:30,000
this and no one's going to have a panic

00:28:27,919 --> 00:28:33,200
attack what are panic attacks

00:28:30,000 --> 00:28:35,600
okay so we need to create this new page

00:28:33,200 --> 00:28:38,480
so the first thing i'm going to do is

00:28:35,600 --> 00:28:41,039
remove this beautiful

00:28:38,480 --> 00:28:43,520
and import a movie from oh no i click my

00:28:41,039 --> 00:28:44,960
my mouse that can like go fast or slow

00:28:43,520 --> 00:28:47,120
i don't know why anyone would want their

00:28:44,960 --> 00:28:50,320
mouse to go like incredibly almost

00:28:47,120 --> 00:28:51,840
unbelievably slow uh moving

00:28:50,320 --> 00:28:54,159
i'm gonna give you an error because

00:28:51,840 --> 00:28:56,960
movie is basically nothing

00:28:54,159 --> 00:28:59,200
and now uh we can see from here that

00:28:56,960 --> 00:29:00,880
this path will be movie slash id and

00:28:59,200 --> 00:29:01,600
this is the name of the param so if i

00:29:00,880 --> 00:29:05,039
name this law

00:29:01,600 --> 00:29:06,720
i can then get it as param equals lol

00:29:05,039 --> 00:29:08,480
i'll show you what i mean okay i'll show

00:29:06,720 --> 00:29:09,200
you what i mean so i'm gonna import

00:29:08,480 --> 00:29:11,039
react

00:29:09,200 --> 00:29:13,039
let me just copy the import react and

00:29:11,039 --> 00:29:15,279
use overmind and all of that

00:29:13,039 --> 00:29:16,960
because there's no point in watching me

00:29:15,279 --> 00:29:18,320
type imports

00:29:16,960 --> 00:29:20,480
i think i mean i don't think that's the

00:29:18,320 --> 00:29:22,880
fun part of live coding watching someone

00:29:20,480 --> 00:29:26,000
be like import free act from react

00:29:22,880 --> 00:29:29,360
const movie is this

00:29:26,000 --> 00:29:31,840
but backwards and let me return

00:29:29,360 --> 00:29:32,880
i just so it stops complaining and then

00:29:31,840 --> 00:29:36,640
export

00:29:32,880 --> 00:29:39,120
defaults there we go

00:29:36,640 --> 00:29:40,080
if i can type there we go is it gonna

00:29:39,120 --> 00:29:43,760
work yeah

00:29:40,080 --> 00:29:45,600
yes great all good right okay so now

00:29:43,760 --> 00:29:47,039
there is this thing called use params so

00:29:45,600 --> 00:29:50,799
i can say const

00:29:47,039 --> 00:29:53,279
wall equals use for rams

00:29:50,799 --> 00:29:55,600
like this and if i do a console log of

00:29:53,279 --> 00:29:55,600
lull

00:29:56,080 --> 00:29:59,760
you get one because that's the id but

00:29:58,559 --> 00:30:01,200
we're going to call it id i mean we can

00:29:59,760 --> 00:30:02,480
keep it as low honestly let's keep it as

00:30:01,200 --> 00:30:04,080
low unless that makes it entertaining

00:30:02,480 --> 00:30:05,520
right right just looking

00:30:04,080 --> 00:30:08,240
watching people code is not the funniest

00:30:05,520 --> 00:30:11,600
thing okay so uh let me copy over the

00:30:08,240 --> 00:30:15,039
css the css that i have here

00:30:11,600 --> 00:30:18,159
garcia and then what i want to do

00:30:15,039 --> 00:30:21,200
is that uh i think this is

00:30:18,159 --> 00:30:24,159
fine yeah let's go to overmind

00:30:21,200 --> 00:30:25,360
and let's get the new one so i wanna

00:30:24,159 --> 00:30:28,559
create something here

00:30:25,360 --> 00:30:29,679
which is uh like a single page a single

00:30:28,559 --> 00:30:33,600
movie

00:30:29,679 --> 00:30:33,600
so i'm gonna create single movie

00:30:33,679 --> 00:30:37,120
okay cool this is gonna be an empty

00:30:34,880 --> 00:30:38,399
object by default so i guess i can just

00:30:37,120 --> 00:30:39,279
copy and paste the things that i have

00:30:38,399 --> 00:30:42,080
here

00:30:39,279 --> 00:30:42,799
because that's fine uh so in here i can

00:30:42,080 --> 00:30:47,840
just

00:30:42,799 --> 00:30:47,840
come here and say prompt uh

00:30:48,000 --> 00:30:52,880
sorry i think i just had a plain part

00:30:49,679 --> 00:30:52,880
equals use overmind

00:30:52,960 --> 00:31:00,399
and do not return this but return

00:30:56,880 --> 00:31:03,200
there we go oh my god i am so sorry

00:31:00,399 --> 00:31:05,360
it's not good it's here and what i'm

00:31:03,200 --> 00:31:06,640
gonna do how i'm gonna create this is

00:31:05,360 --> 00:31:09,600
that i'm gonna say

00:31:06,640 --> 00:31:10,320
cons current movie i think i'm running

00:31:09,600 --> 00:31:13,360
out of time

00:31:10,320 --> 00:31:13,360
i have five minutes

00:31:13,919 --> 00:31:18,480
i thought the stock was gonna be like 20

00:31:15,279 --> 00:31:19,760
minutes glad it wasn't um

00:31:18,480 --> 00:31:21,590
i guess that would have been a failure

00:31:19,760 --> 00:31:24,159
equals state that single movie

00:31:21,590 --> 00:31:25,760
[Applause]

00:31:24,159 --> 00:31:26,960
and this is not id anymore this is law

00:31:25,760 --> 00:31:27,519
because that's what we decided as a

00:31:26,960 --> 00:31:30,799
family

00:31:27,519 --> 00:31:32,399
remember um

00:31:30,799 --> 00:31:34,240
and what does this even mean this means

00:31:32,399 --> 00:31:36,080
that i'm going to create an object that

00:31:34,240 --> 00:31:39,440
is going to have the id of the movie

00:31:36,080 --> 00:31:41,840
so like one and then the

00:31:39,440 --> 00:31:43,600
object what what is the great thing of

00:31:41,840 --> 00:31:44,320
this in like if i just paste the movie

00:31:43,600 --> 00:31:46,399
in here

00:31:44,320 --> 00:31:47,760
because then if i go to the homepage and

00:31:46,399 --> 00:31:48,799
go back to one that's already gonna be

00:31:47,760 --> 00:31:50,960
in state

00:31:48,799 --> 00:31:53,039
so it's just a really nice way of doing

00:31:50,960 --> 00:31:54,640
these things and i also want to say that

00:31:53,039 --> 00:31:56,960
if there are no current movies

00:31:54,640 --> 00:31:57,840
just show me the loading so like if this

00:31:56,960 --> 00:32:01,200
is empty

00:31:57,840 --> 00:32:03,519
which is always empty now

00:32:01,200 --> 00:32:06,720
uh and on use effect i want to call

00:32:03,519 --> 00:32:06,720
actions that get movie

00:32:07,200 --> 00:32:10,960
actions and pass the law not the id jd

00:32:09,919 --> 00:32:13,279
is nothing now

00:32:10,960 --> 00:32:14,480
we don't like the idea anymore okay

00:32:13,279 --> 00:32:17,600
let's get this movie

00:32:14,480 --> 00:32:18,960
uh and get movie it's gonna be pretty

00:32:17,600 --> 00:32:21,679
similar to this one

00:32:18,960 --> 00:32:24,000
so get movie this is gonna get the state

00:32:21,679 --> 00:32:26,880
and this is also gonna get an id

00:32:24,000 --> 00:32:27,360
and so i want the query is queries that

00:32:26,880 --> 00:32:31,039
movie

00:32:27,360 --> 00:32:34,799
and then the variables that i pass

00:32:31,039 --> 00:32:39,600
are id i think

00:32:34,799 --> 00:32:39,600
maybe no

00:32:41,360 --> 00:32:44,399
no actually that's it that's that's uh

00:32:43,519 --> 00:32:46,399
actually kind of

00:32:44,399 --> 00:32:47,600
yeah no that's pretty much it so this

00:32:46,399 --> 00:32:50,960
doesn't get things

00:32:47,600 --> 00:32:52,880
this gets something called movies by pk

00:32:50,960 --> 00:32:55,039
which is the name that the back end has

00:32:52,880 --> 00:32:58,720
for this and so what we do

00:32:55,039 --> 00:33:02,480
is that we say state that singular movie

00:32:58,720 --> 00:33:05,679
single movie and then the id equals

00:33:02,480 --> 00:33:10,480
movie not movies this is

00:33:05,679 --> 00:33:13,760
a singular one now

00:33:10,480 --> 00:33:15,360
we have this it works

00:33:13,760 --> 00:33:17,679
i honestly did not expect this to work

00:33:15,360 --> 00:33:19,519
i'll be honest with you right now

00:33:17,679 --> 00:33:21,200
i was gonna be honest as a family here i

00:33:19,519 --> 00:33:24,880
did not expect that to work

00:33:21,200 --> 00:33:27,360
i think we're done oh my god and with

00:33:24,880 --> 00:33:27,360
three minutes

00:33:27,519 --> 00:33:30,799
i think we're done so what i want to

00:33:29,600 --> 00:33:32,880
show you here is that

00:33:30,799 --> 00:33:34,320
creating an app with react is not just

00:33:32,880 --> 00:33:36,399
about react

00:33:34,320 --> 00:33:38,080
also ignore this it just asks me like

00:33:36,399 --> 00:33:40,399
please include action i mean

00:33:38,080 --> 00:33:42,080
you should include lol bro that's

00:33:40,399 --> 00:33:45,120
important wrong is our id

00:33:42,080 --> 00:33:46,640
um include actions which doesn't make a

00:33:45,120 --> 00:33:47,200
lot of sense in this case because it's

00:33:46,640 --> 00:33:48,960
like

00:33:47,200 --> 00:33:50,000
it's a function and if it gets rebuilt

00:33:48,960 --> 00:33:51,679
every time you're just gonna keep doing

00:33:50,000 --> 00:33:55,039
this and i don't want that

00:33:51,679 --> 00:33:56,880
so yeah we did this i am very proud of

00:33:55,039 --> 00:33:59,360
us

00:33:56,880 --> 00:34:01,039
okay okay so i'm gonna share this

00:33:59,360 --> 00:34:02,159
sandbox but what i wanted to show you

00:34:01,039 --> 00:34:04,840
about this is that

00:34:02,159 --> 00:34:06,159
most of what we did actually wasn't

00:34:04,840 --> 00:34:07,840
react

00:34:06,159 --> 00:34:09,760
most of what we did was try to make

00:34:07,840 --> 00:34:12,879
libraries work with each other

00:34:09,760 --> 00:34:14,720
and uh try to find our own paths to make

00:34:12,879 --> 00:34:17,359
things work

00:34:14,720 --> 00:34:18,480
so that's what i want to show is that

00:34:17,359 --> 00:34:21,679
react

00:34:18,480 --> 00:34:24,240
maybe not the hardest thing but

00:34:21,679 --> 00:34:26,320
navigating react is

00:34:24,240 --> 00:34:28,240
hard so this is the code 10 box link

00:34:26,320 --> 00:34:29,200
don't worry i i sent this to the

00:34:28,240 --> 00:34:30,960
organizers

00:34:29,200 --> 00:34:32,839
they'll put it on slack or something

00:34:30,960 --> 00:34:34,079
because i mean you can try to memorize

00:34:32,839 --> 00:34:36,480
this

00:34:34,079 --> 00:34:37,679
uh you only need to memorize this

00:34:36,480 --> 00:34:38,480
because the rest you can type whatever

00:34:37,679 --> 00:34:40,240
you want

00:34:38,480 --> 00:34:41,679
don't tell us don't tell this don't

00:34:40,240 --> 00:34:45,679
don't tell them that i said this

00:34:41,679 --> 00:34:47,280
um it's a bug um yeah so the tools that

00:34:45,679 --> 00:34:47,679
i used were over my j i also shared the

00:34:47,280 --> 00:34:49,760
slides

00:34:47,679 --> 00:34:51,200
over my js which is a really nice

00:34:49,760 --> 00:34:54,879
server-side tool of

00:34:51,200 --> 00:34:55,280
what client state tool it also actually

00:34:54,879 --> 00:34:57,440
has

00:34:55,280 --> 00:34:58,560
graphql support but i thought that was

00:34:57,440 --> 00:35:00,079
more confusing so i

00:34:58,560 --> 00:35:02,640
ended up removing it and just using

00:35:00,079 --> 00:35:04,079
fetch i was like i'll use apollo

00:35:02,640 --> 00:35:05,920
then i was like no that's too much i'll

00:35:04,079 --> 00:35:07,359
just over mine graphql that's too much

00:35:05,920 --> 00:35:09,680
i'll just use fetch

00:35:07,359 --> 00:35:10,720
people need to go back to our roots uh

00:35:09,680 --> 00:35:12,640
stock opponents

00:35:10,720 --> 00:35:14,400
framework motion which is what creates

00:35:12,640 --> 00:35:16,880
this anime i forgot to show you about

00:35:14,400 --> 00:35:18,960
the animation sorry

00:35:16,880 --> 00:35:20,880
uh so you just pass an animate so you

00:35:18,960 --> 00:35:21,839
have a motion and then you have the name

00:35:20,880 --> 00:35:23,839
of whatever

00:35:21,839 --> 00:35:25,359
um thing you're creating it's kind of

00:35:23,839 --> 00:35:26,720
like style that's something so in this

00:35:25,359 --> 00:35:28,160
case it's an svg

00:35:26,720 --> 00:35:30,320
this is basically my initial things and

00:35:28,160 --> 00:35:32,400
then you pass animate

00:35:30,320 --> 00:35:34,480
and what this does is that i say when

00:35:32,400 --> 00:35:35,839
it's liked that i pass to it it goes to

00:35:34,480 --> 00:35:39,040
minus a hundred

00:35:35,839 --> 00:35:41,040
and the y and it goes that comes back

00:35:39,040 --> 00:35:42,079
uh it automatically does the going back

00:35:41,040 --> 00:35:45,119
things look

00:35:42,079 --> 00:35:47,280
really nice so i used here

00:35:45,119 --> 00:35:48,240
and as you can see i just passed likes

00:35:47,280 --> 00:35:50,079
to it

00:35:48,240 --> 00:35:52,800
and that's it i passed liked and light

00:35:50,079 --> 00:35:54,800
is set over here in the movie

00:35:52,800 --> 00:35:56,079
and what i do is that i set liked and

00:35:54,800 --> 00:35:57,680
then i set a timeout

00:35:56,079 --> 00:36:00,240
that sets it back to false in 500

00:35:57,680 --> 00:36:00,240
milliseconds

00:36:00,480 --> 00:36:04,320
and i also use react router the version

00:36:02,079 --> 00:36:07,520
i used is six

00:36:04,320 --> 00:36:09,119
uh because six allows you to do this

00:36:07,520 --> 00:36:10,240
that i really like that you just by you

00:36:09,119 --> 00:36:11,839
pass the component and then in the

00:36:10,240 --> 00:36:13,280
component you give it a path like i

00:36:11,839 --> 00:36:16,400
prefer this

00:36:13,280 --> 00:36:18,160
so you gotta use six in five you have

00:36:16,400 --> 00:36:19,599
the route component

00:36:18,160 --> 00:36:23,040
it's basically the same thing this is

00:36:19,599 --> 00:36:23,040
just synthetic sugar that i like

00:36:23,200 --> 00:36:26,320
yeah uh i wrote a book about all this

00:36:25,920 --> 00:36:28,400
stuff

00:36:26,320 --> 00:36:29,599
if you'd be interested in if you like my

00:36:28,400 --> 00:36:30,320
sense of as you can see this was

00:36:29,599 --> 00:36:33,760
screenshot

00:36:30,320 --> 00:36:36,720
on the windows i'm not lying um

00:36:33,760 --> 00:36:37,040
yeah i'm terrible at marketing but if

00:36:36,720 --> 00:36:39,040
you

00:36:37,040 --> 00:36:40,880
liked my talk and you would like to get

00:36:39,040 --> 00:36:43,440
my book there is a

00:36:40,880 --> 00:36:44,480
discount if you're from mexico not only

00:36:43,440 --> 00:36:45,760
if you're from mexico that would have

00:36:44,480 --> 00:36:47,920
been weird and i'll be like

00:36:45,760 --> 00:36:49,440
my wife is from there so everyone get a

00:36:47,920 --> 00:36:53,440
discount thank you

00:36:49,440 --> 00:36:55,119
for giving me a wife uh there's purchase

00:36:53,440 --> 00:36:57,440
parody

00:36:55,119 --> 00:36:58,880
so if you're from basically not germany

00:36:57,440 --> 00:37:00,720
or the u.s you will probably get a

00:36:58,880 --> 00:37:07,760
discount

00:37:00,720 --> 00:37:07,760

YouTube URL: https://www.youtube.com/watch?v=MmQvVkYMi8g


