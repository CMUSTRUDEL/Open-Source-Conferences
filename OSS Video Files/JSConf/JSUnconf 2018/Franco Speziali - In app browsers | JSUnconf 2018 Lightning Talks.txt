Title: Franco Speziali - In app browsers | JSUnconf 2018 Lightning Talks
Publication date: 2018-05-17
Playlist: JSUnconf 2018
Description: 
	
Captions: 
	00:00:00,000 --> 00:00:15,089
oh my name is Franco I'm from England

00:00:12,240 --> 00:00:17,730
and I'm a junior JavaScript developer so

00:00:15,089 --> 00:00:20,039
I'm kind of new to this well to trying

00:00:17,730 --> 00:00:24,269
to prove myself in this world with all

00:00:20,039 --> 00:00:26,609
you pros out there yeah so remember that

00:00:24,269 --> 00:00:30,000
junior bit because in my story which I'm

00:00:26,609 --> 00:00:33,870
going to tell you that's important yeah

00:00:30,000 --> 00:00:36,930
so recently I made a web based like app

00:00:33,870 --> 00:00:39,239
for the company I work for and it's

00:00:36,930 --> 00:00:41,340
basically like very simple actually but

00:00:39,239 --> 00:00:45,960
it looks quite simple it's basically a

00:00:41,340 --> 00:00:47,629
quiz and the customer people just use

00:00:45,960 --> 00:00:51,090
like they go and they use the quiz

00:00:47,629 --> 00:00:54,570
answer the questions and depending on on

00:00:51,090 --> 00:00:56,190
their preferences in the in the quiz we

00:00:54,570 --> 00:00:57,570
give them like a tailored Pinterest

00:00:56,190 --> 00:01:00,600
board for them to upload to their

00:00:57,570 --> 00:01:02,760
Pinterest account so yeah that's kind of

00:01:00,600 --> 00:01:04,920
cool and I'd you know I tested

00:01:02,760 --> 00:01:06,720
everything and made sure it worked

00:01:04,920 --> 00:01:11,010
you know I tested it again made sure it

00:01:06,720 --> 00:01:13,590
worked so yeah drop all done right then

00:01:11,010 --> 00:01:16,229
they put it live and they started

00:01:13,590 --> 00:01:18,720
promoting it and I started promoting at

00:01:16,229 --> 00:01:21,990
Facebook and it stopped working

00:01:18,720 --> 00:01:24,299
and obviously I'm like wow I really

00:01:21,990 --> 00:01:25,890
thought I checked everything I really

00:01:24,299 --> 00:01:27,150
thought was working and suddenly

00:01:25,890 --> 00:01:31,920
everyone's time you know we're losing

00:01:27,150 --> 00:01:35,430
money you're costing us money so I have

00:01:31,920 --> 00:01:37,200
to find out why it turns out so they

00:01:35,430 --> 00:01:40,229
were promoting on Facebook and what was

00:01:37,200 --> 00:01:45,149
happening was the customers were users

00:01:40,229 --> 00:01:46,770
would find find this promotion on

00:01:45,149 --> 00:01:48,329
Facebook but that'd be using their

00:01:46,770 --> 00:01:51,049
phones that be using it inside the

00:01:48,329 --> 00:01:53,880
Facebook app so be clicking on this link

00:01:51,049 --> 00:01:56,250
which would open up inside of the

00:01:53,880 --> 00:01:58,649
Facebook app so how many of you just out

00:01:56,250 --> 00:02:03,540
of interest know who heard of in app

00:01:58,649 --> 00:02:06,259
browsers all of you okay how many of you

00:02:03,540 --> 00:02:10,470
had problems working with them okay so

00:02:06,259 --> 00:02:11,819
so maybe it's fairly common then yeah so

00:02:10,470 --> 00:02:14,010
it wasn't working on basically what was

00:02:11,819 --> 00:02:16,560
happening I looked into it

00:02:14,010 --> 00:02:18,780
the user the customer of user know what

00:02:16,560 --> 00:02:20,760
the correct term is would use the quiz

00:02:18,780 --> 00:02:22,709
and then it would get to the end of the

00:02:20,760 --> 00:02:24,840
quiz and then we just reset it would go

00:02:22,709 --> 00:02:28,110
to the start it like like the pager to

00:02:24,840 --> 00:02:29,340
refresh and obviously I have to try and

00:02:28,110 --> 00:02:30,959
debug this but how am I going to bug

00:02:29,340 --> 00:02:32,910
this in you know browser you know

00:02:30,959 --> 00:02:34,950
there's no console.log there's no like

00:02:32,910 --> 00:02:38,390
tools and stuff that you can just pop

00:02:34,950 --> 00:02:38,390
open like with Chrome or Firefox

00:02:38,540 --> 00:02:45,780
probably running out of time there but

00:02:40,200 --> 00:02:47,459
yeah so basically I had to do some kind

00:02:45,780 --> 00:02:50,310
of like reverse engineering I had to

00:02:47,459 --> 00:02:55,739
actually test everything inside Facebook

00:02:50,310 --> 00:02:57,569
and I couldn't use console.log so I was

00:02:55,739 --> 00:03:00,000
try this website on the Internet which

00:02:57,569 --> 00:03:02,790
kind of gives you a console so I was

00:03:00,000 --> 00:03:04,140
able to use that to test I found out

00:03:02,790 --> 00:03:08,819
that basically this in-app browser

00:03:04,140 --> 00:03:11,670
wasn't storing cookies so Pinterest was

00:03:08,819 --> 00:03:13,319
sending back this a war key through a

00:03:11,670 --> 00:03:15,209
cookie and obviously that wasn't working

00:03:13,319 --> 00:03:17,160
because it wasn't wasn't saving anyway

00:03:15,209 --> 00:03:20,910
but what it was doing was it was sending

00:03:17,160 --> 00:03:24,329
a new URL to the user with the OAuth ID

00:03:20,910 --> 00:03:26,400
in the URL so hence the page refresh so

00:03:24,329 --> 00:03:27,780
obviously I had to like figure out state

00:03:26,400 --> 00:03:28,920
obviously I'd need to save state now

00:03:27,780 --> 00:03:32,190
something I didn't have to think about

00:03:28,920 --> 00:03:34,829
before so I had to start checking can I

00:03:32,190 --> 00:03:37,049
use local storage yes luckily I was able

00:03:34,829 --> 00:03:39,209
to use local storage so save the data in

00:03:37,049 --> 00:03:41,730
local storage it was bit kind of hacky

00:03:39,209 --> 00:03:43,049
basically when the user goes to the site

00:03:41,730 --> 00:03:44,940
I have to check if they've been there

00:03:43,049 --> 00:03:48,120
before and if there's any data in local

00:03:44,940 --> 00:03:49,530
storage and then reload the quiz with

00:03:48,120 --> 00:03:52,440
you know the answers are already

00:03:49,530 --> 00:03:55,700
prefilled so that was working got it

00:03:52,440 --> 00:03:58,500
yeah but real pain in the ass because

00:03:55,700 --> 00:04:02,609
every time I was testing something I had

00:03:58,500 --> 00:04:05,760
to clear the cache inside Facebook in

00:04:02,609 --> 00:04:07,819
that browser but you can't just very

00:04:05,760 --> 00:04:10,769
easily clear the cache there is actually

00:04:07,819 --> 00:04:12,720
if you go to the settings there is a

00:04:10,769 --> 00:04:14,310
button like delete all data but it

00:04:12,720 --> 00:04:15,959
doesn't delete all data because it was

00:04:14,310 --> 00:04:18,599
still showing me information which you

00:04:15,959 --> 00:04:20,370
know old information so every time I

00:04:18,599 --> 00:04:24,000
wanted to test something I had to delete

00:04:20,370 --> 00:04:26,430
the app and reinstall it so and out took

00:04:24,000 --> 00:04:27,450
bloody ages as well it's like and every

00:04:26,430 --> 00:04:30,440
time I did that

00:04:27,450 --> 00:04:33,450
I kept getting reminded how like

00:04:30,440 --> 00:04:34,650
Facebook app has like three out of five

00:04:33,450 --> 00:04:37,860
styles or something or two and a half

00:04:34,650 --> 00:04:42,210
stars out of five on it on the App Store

00:04:37,860 --> 00:04:44,760
so probably good reason to that yeah so

00:04:42,210 --> 00:04:47,310
what did I learn I learned that

00:04:44,760 --> 00:04:49,980
communication so if if I had

00:04:47,310 --> 00:04:51,510
communicated with the marketing team

00:04:49,980 --> 00:04:53,700
I would have known that the problems

00:04:51,510 --> 00:04:54,930
would have all the testing that we

00:04:53,700 --> 00:04:58,200
should have been doing would have been

00:04:54,930 --> 00:05:00,330
focused more inside Facebook app and not

00:04:58,200 --> 00:05:03,450
outside and web-based stuff where I

00:05:00,330 --> 00:05:05,880
could test freely in Chrome and Firefox

00:05:03,450 --> 00:05:10,920
with all the tools dev tools available

00:05:05,880 --> 00:05:13,410
to me yeah just in time

00:05:10,920 --> 00:05:16,439
[Applause]

00:05:13,410 --> 00:05:16,439

YouTube URL: https://www.youtube.com/watch?v=SUKJsPSvrF0


