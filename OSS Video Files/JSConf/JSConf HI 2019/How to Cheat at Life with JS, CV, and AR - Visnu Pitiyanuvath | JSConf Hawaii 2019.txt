Title: How to Cheat at Life with JS, CV, and AR - Visnu Pitiyanuvath | JSConf Hawaii 2019
Publication date: 2019-06-16
Playlist: JSConf HI 2019
Description: 
	Visnu Pitiyanuvath tries to beat his friend at Set using JavaScript, Computer Vision, and Augmented Reality!

JSConf Hawaii is returning in 2020. Learn more at https://www.jsconfhi.com/
Captions: 
	00:00:06,020 --> 00:00:27,910
[Applause]

00:00:08,580 --> 00:00:27,910
[Music]

00:00:28,500 --> 00:01:02,739
hello hello

00:00:31,260 --> 00:01:08,369
[Music]

00:01:02,739 --> 00:01:14,400
singing will happen happening happen

00:01:08,369 --> 00:01:18,790
will happen happening happen will happen

00:01:14,400 --> 00:01:23,500
again and again because you and I will

00:01:18,790 --> 00:01:28,479
always be back then you and I will

00:01:23,500 --> 00:01:31,810
always be back then if there were some

00:01:28,479 --> 00:01:36,460
amazing force out some enough time to

00:01:31,810 --> 00:01:39,520
take us back to where we were and hang

00:01:36,460 --> 00:01:43,179
each moment up like pictures on the

00:01:39,520 --> 00:01:47,920
walls inside a billion tiny frames so

00:01:43,179 --> 00:01:53,830
that we could see it all it would look

00:01:47,920 --> 00:01:58,750
like will happen happening happen will

00:01:53,830 --> 00:02:03,069
happen happening happen there we are

00:01:58,750 --> 00:02:07,840
again and again cuz you and I will

00:02:03,069 --> 00:02:12,790
always be back then you and I will

00:02:07,840 --> 00:02:15,040
always be back then you and I will

00:02:12,790 --> 00:02:19,870
always be back then

00:02:15,040 --> 00:02:20,440
that's why you and I will always be best

00:02:19,870 --> 00:02:34,719
friends

00:02:20,440 --> 00:02:34,719
[Music]

00:02:39,110 --> 00:02:45,060
I'm just new I play the ukulele and I

00:02:42,540 --> 00:02:46,620
also like games and so there's many

00:02:45,060 --> 00:02:47,730
things you might know about me or want

00:02:46,620 --> 00:02:49,739
to know about me these are the things

00:02:47,730 --> 00:02:51,209
that are pertinent to this talk I like

00:02:49,739 --> 00:02:54,060
games like lots of games board games

00:02:51,209 --> 00:02:57,660
card games video games like a lot of you

00:02:54,060 --> 00:03:00,870
I also program and then lastly I really

00:02:57,660 --> 00:03:04,680
like mischief I like because I think of

00:03:00,870 --> 00:03:07,170
it as a jump sounding board jumping

00:03:04,680 --> 00:03:08,640
board whatever that term is into like

00:03:07,170 --> 00:03:11,069
creative problem-solving creative

00:03:08,640 --> 00:03:15,870
thinking and innovation I like mr. so

00:03:11,069 --> 00:03:19,170
much that I named my son Loki this is my

00:03:15,870 --> 00:03:23,400
like a Terry father shot of my my son

00:03:19,170 --> 00:03:25,110
who I'm so proud of uh-huh so one of the

00:03:23,400 --> 00:03:27,810
games I've been playing is this game

00:03:25,110 --> 00:03:29,790
called set I was playing this game with

00:03:27,810 --> 00:03:33,000
my friends Susan I want to cut and go

00:03:29,790 --> 00:03:35,370
over all the rules with you first so

00:03:33,000 --> 00:03:37,650
it's a card game where by the way the

00:03:35,370 --> 00:03:39,180
New York Times has a set game that you

00:03:37,650 --> 00:03:42,120
can play it's kind of fun so you should

00:03:39,180 --> 00:03:43,470
go check that out set is a card game

00:03:42,120 --> 00:03:46,709
it's a matching card game you're trying

00:03:43,470 --> 00:03:51,480
to make sets of three cards each all

00:03:46,709 --> 00:03:53,880
these cards have a color number pattern

00:03:51,480 --> 00:03:56,359
and shape I can toggle this on really

00:03:53,880 --> 00:03:58,560
quickly for any colorblind people so

00:03:56,359 --> 00:04:01,760
amongst these attributes what you're

00:03:58,560 --> 00:04:03,750
going for is a set of three cards where

00:04:01,760 --> 00:04:07,260
the attribute easy they're all the same

00:04:03,750 --> 00:04:09,989
or all different and so here this is

00:04:07,260 --> 00:04:11,970
this is an example of a set where the

00:04:09,989 --> 00:04:14,010
number is all different one two and

00:04:11,970 --> 00:04:15,780
three the pattern is actually all the

00:04:14,010 --> 00:04:17,190
same they're all striped their shapes

00:04:15,780 --> 00:04:19,979
are all different and the colors are all

00:04:17,190 --> 00:04:22,620
different so this is a pretty fun game

00:04:19,979 --> 00:04:26,600
until you play with somebody like my

00:04:22,620 --> 00:04:29,729
friend Susan who I want to give you a oh

00:04:26,600 --> 00:04:33,080
no I don't have music I want music on my

00:04:29,729 --> 00:04:33,080
thing maybe

00:04:36,060 --> 00:04:45,970
oh no music so this is what playing set

00:04:43,060 --> 00:04:48,400
against Susan is like it's where she

00:04:45,970 --> 00:04:52,080
just starts taking cards and I'm just

00:04:48,400 --> 00:04:56,560
observing and telling her hey good job

00:04:52,080 --> 00:05:01,090
wow wow great great take their Oh almost

00:04:56,560 --> 00:05:03,400
had that one oh okay oh wait do I see

00:05:01,090 --> 00:05:08,639
something no no not at all

00:05:03,400 --> 00:05:10,660
so it's trust me it is a fun game but

00:05:08,639 --> 00:05:12,700
until you play against somebody like

00:05:10,660 --> 00:05:14,490
Susan so how does that make me feel as a

00:05:12,700 --> 00:05:17,020
protagonist of this talk

00:05:14,490 --> 00:05:18,700
how does my protagonist satisfied with

00:05:17,020 --> 00:05:21,220
their life I can't beat Susan instead

00:05:18,700 --> 00:05:23,350
what would it take for my protagonist me

00:05:21,220 --> 00:05:26,440
to find satisfaction this is their goal

00:05:23,350 --> 00:05:28,210
beat Susan at Seth what are my

00:05:26,440 --> 00:05:30,460
protagonist biggest fears and character

00:05:28,210 --> 00:05:32,050
flaws well probably three things first

00:05:30,460 --> 00:05:34,479
is that I don't really want to put the

00:05:32,050 --> 00:05:36,520
effort into getting good at this game so

00:05:34,479 --> 00:05:38,410
I could sit down and just play alone a

00:05:36,520 --> 00:05:41,350
lot until I get really good at this game

00:05:38,410 --> 00:05:42,970
because it's tricking your brain into

00:05:41,350 --> 00:05:46,479
kind of seeing these sets as quickly as

00:05:42,970 --> 00:05:48,010
possible but I am pretty lazy and so not

00:05:46,479 --> 00:05:49,720
interested in that

00:05:48,010 --> 00:05:51,430
I'm also impatient I just want to take

00:05:49,720 --> 00:05:53,770
the time to do that

00:05:51,430 --> 00:05:55,870
I'd rather do it and use it to anything

00:05:53,770 --> 00:05:59,620
else and last of all the mother of all

00:05:55,870 --> 00:06:05,050
character flaws hubris I'm pretty sure I

00:05:59,620 --> 00:06:07,360
I was reading about Starcraft being beat

00:06:05,050 --> 00:06:10,030
by deep mind and alphago and alpha zero

00:06:07,360 --> 00:06:12,970
and the like I can do this I can solve

00:06:10,030 --> 00:06:16,120
set with my computer and I can finally

00:06:12,970 --> 00:06:17,020
beat Susan this way and so I started

00:06:16,120 --> 00:06:19,090
thinking about how this problem is

00:06:17,020 --> 00:06:21,100
formed and so for a human it's

00:06:19,090 --> 00:06:23,289
interesting because if you think of the

00:06:21,100 --> 00:06:24,940
problem in two parts the set making is

00:06:23,289 --> 00:06:26,979
the hardest part for a human when you

00:06:24,940 --> 00:06:28,990
you can quickly see these cards and you

00:06:26,979 --> 00:06:31,060
know what they are but you can't make

00:06:28,990 --> 00:06:32,500
the sets very quickly out of them for a

00:06:31,060 --> 00:06:35,139
computer it's actually the opposite the

00:06:32,500 --> 00:06:36,460
set making is super easy and it's the

00:06:35,139 --> 00:06:38,200
vision part that's the hard part

00:06:36,460 --> 00:06:39,610
so as you can tell we're going to

00:06:38,200 --> 00:06:40,050
confuse your vision the crap out of this

00:06:39,610 --> 00:06:44,110
problem

00:06:40,050 --> 00:06:45,400
alright here's the plan we I want this

00:06:44,110 --> 00:06:47,870
to run on my phone so I'm gonna use the

00:06:45,400 --> 00:06:50,390
camera on my phone get into a browse

00:06:47,870 --> 00:06:52,790
put on the canvas and then I get pixels

00:06:50,390 --> 00:06:56,450
from those pixels we're gonna identify a

00:06:52,790 --> 00:06:59,210
bunch of cards in the thing from there

00:06:56,450 --> 00:07:00,500
we want to extract out every card and

00:06:59,210 --> 00:07:02,300
then put each card we want to identify

00:07:00,500 --> 00:07:03,500
the color number of shading and shape

00:07:02,300 --> 00:07:04,850
and then eventually we're just going to

00:07:03,500 --> 00:07:07,240
boot forth and solve for this at the end

00:07:04,850 --> 00:07:10,790
all right so let's get into it

00:07:07,240 --> 00:07:13,540
so this is my test image for this for

00:07:10,790 --> 00:07:16,100
this thing as you can see bunch of cards

00:07:13,540 --> 00:07:17,540
getting this out the things that you

00:07:16,100 --> 00:07:19,370
kind of care about are these ones so

00:07:17,540 --> 00:07:21,830
this get image data is what we care

00:07:19,370 --> 00:07:23,600
about here we get out this big huge

00:07:21,830 --> 00:07:28,940
number array so this looks kind of

00:07:23,600 --> 00:07:31,940
foreboding and creepy it's got one no

00:07:28,940 --> 00:07:33,260
eleven million pixels in it so let's go

00:07:31,940 --> 00:07:36,620
over what this image data object is

00:07:33,260 --> 00:07:39,920
really quickly you can think of images

00:07:36,620 --> 00:07:43,550
as a series of pixels here we have not

00:07:39,920 --> 00:07:46,130
six pixels six huge pixels and then each

00:07:43,550 --> 00:07:48,830
pixel is itself basically four numbers

00:07:46,130 --> 00:07:50,570
there's a red green blue and a

00:07:48,830 --> 00:07:53,060
transparency or alpha component or GPA

00:07:50,570 --> 00:07:55,490
so that's four numbers times six pixels

00:07:53,060 --> 00:07:58,550
that's 24 numbers so that's our 24

00:07:55,490 --> 00:08:00,170
numbers that we see here and then it's a

00:07:58,550 --> 00:08:02,000
flat array so it's one dimensional but

00:08:00,170 --> 00:08:04,670
if you know the width that you can you

00:08:02,000 --> 00:08:07,310
know basically we wrap it and so this

00:08:04,670 --> 00:08:09,440
array corresponds to this picture up

00:08:07,310 --> 00:08:11,090
here and if I change this that trend so

00:08:09,440 --> 00:08:14,150
that's transparency so that goes away I

00:08:11,090 --> 00:08:18,230
can bring it back I can make it black I

00:08:14,150 --> 00:08:19,970
can make this one red so you can see how

00:08:18,230 --> 00:08:21,260
those think go so we're gonna be using

00:08:19,970 --> 00:08:23,210
this image data object a lot throughout

00:08:21,260 --> 00:08:23,540
this talk so I gotta get familiar with

00:08:23,210 --> 00:08:26,630
it

00:08:23,540 --> 00:08:28,460
so first step is we want to threshold

00:08:26,630 --> 00:08:31,010
out we want to simplify this picture a

00:08:28,460 --> 00:08:34,820
whole bunch when I basically changed

00:08:31,010 --> 00:08:36,860
into straight black and white and that's

00:08:34,820 --> 00:08:40,730
to make our job a lot easier later on to

00:08:36,860 --> 00:08:43,220
do this this is called threshold incan

00:08:40,730 --> 00:08:45,140
vertebrae are G B value into a gray and

00:08:43,220 --> 00:08:47,360
then if that gray is over below a

00:08:45,140 --> 00:08:50,570
certain value I either set it to white

00:08:47,360 --> 00:08:53,240
55 or black zero and so if I change this

00:08:50,570 --> 00:08:56,690
this slider you can kind of see how it

00:08:53,240 --> 00:08:58,340
affects the image and then an

00:08:56,690 --> 00:09:00,320
entertaining thing to note here is that

00:08:58,340 --> 00:09:01,550
you'll notice that this is not a linear

00:09:00,320 --> 00:09:04,550
transform from our G

00:09:01,550 --> 00:09:05,600
Beata gray and that really quickly is if

00:09:04,550 --> 00:09:07,640
you look at these green and blue values

00:09:05,600 --> 00:09:09,080
here so this is actually the same amount

00:09:07,640 --> 00:09:11,269
of green and blue like hitting your eye

00:09:09,080 --> 00:09:14,810
but because of how your retinas all

00:09:11,269 --> 00:09:17,149
jacked up you perceive the green a lot

00:09:14,810 --> 00:09:18,709
more than the blue and so you think

00:09:17,149 --> 00:09:20,269
green is a lot a lot lighter than blue

00:09:18,709 --> 00:09:23,240
and so that's take into account with

00:09:20,269 --> 00:09:25,040
this formula here alright so we have a

00:09:23,240 --> 00:09:29,149
black and white image now we want to

00:09:25,040 --> 00:09:30,950
find those cards again to do that we go

00:09:29,149 --> 00:09:33,850
to NPM and just find somewhere in the

00:09:30,950 --> 00:09:36,709
package that finds finds contours for us

00:09:33,850 --> 00:09:38,390
but what this package does it's called

00:09:36,709 --> 00:09:39,769
more neighborhood tracing which sounds

00:09:38,390 --> 00:09:42,290
scary because it has a dude's name on

00:09:39,769 --> 00:09:43,519
the front of it and uses neighborhood in

00:09:42,290 --> 00:09:44,810
the context that makes no sense

00:09:43,519 --> 00:09:47,060
whatsoever

00:09:44,810 --> 00:09:49,399
but you can think of this as say you're

00:09:47,060 --> 00:09:52,040
an aunt and you really like black pixels

00:09:49,399 --> 00:09:53,450
and your exploratory ants so you're just

00:09:52,040 --> 00:09:54,649
out off for a walk and you're meeting

00:09:53,450 --> 00:09:57,709
with article so you're just scanning

00:09:54,649 --> 00:09:59,089
through all this black and then you all

00:09:57,709 --> 00:10:02,209
of a sudden hit this white pix whoa whoa

00:09:59,089 --> 00:10:04,040
what is this this is new let's figure

00:10:02,209 --> 00:10:06,380
this thing out so you kind of back up

00:10:04,040 --> 00:10:07,970
and you go to the side you kind of hit

00:10:06,380 --> 00:10:09,649
it again like Oh white pixel again you

00:10:07,970 --> 00:10:12,020
back up you got you go to the side you

00:10:09,649 --> 00:10:14,029
do that a whole bunch until you're kind

00:10:12,020 --> 00:10:15,950
of like making it way around this whole

00:10:14,029 --> 00:10:18,649
thing until you're all the way back to

00:10:15,950 --> 00:10:20,329
the beginning again and so if you've

00:10:18,649 --> 00:10:22,040
paid attention and like late couples

00:10:20,329 --> 00:10:25,070
down you've basically made and trace the

00:10:22,040 --> 00:10:27,709
path around this card so that's more

00:10:25,070 --> 00:10:30,620
neighborhood tracing you'll notice that

00:10:27,709 --> 00:10:31,850
I then so I take the threshold image

00:10:30,620 --> 00:10:35,360
we're going through that I get a bunch

00:10:31,850 --> 00:10:37,850
of contours and then I ended up

00:10:35,360 --> 00:10:39,320
filtering based on area here and so if I

00:10:37,850 --> 00:10:41,779
kind of change some of these values

00:10:39,320 --> 00:10:44,540
which now you'll notice that I'm

00:10:41,779 --> 00:10:47,510
twiddling values a lot of these values

00:10:44,540 --> 00:10:48,920
have to do with the source image so I'm

00:10:47,510 --> 00:10:50,899
kind of like picking numbers out of the

00:10:48,920 --> 00:10:53,209
air based on kind of the parameters of

00:10:50,899 --> 00:10:55,459
what I'm assuming and that's gonna be

00:10:53,209 --> 00:10:57,560
important later on so here I've like

00:10:55,459 --> 00:11:00,110
made the area threshold go away lower so

00:10:57,560 --> 00:11:02,959
I can basically pull out smaller shapes

00:11:00,110 --> 00:11:05,600
but I actually don't want those so let's

00:11:02,959 --> 00:11:08,720
go back to here and only get 12 of them

00:11:05,600 --> 00:11:11,600
so I'm back to my original 12 cards and

00:11:08,720 --> 00:11:13,700
let's see where are we we want to now

00:11:11,600 --> 00:11:15,410
pull out each card

00:11:13,700 --> 00:11:17,899
to do this we need to simplify that path

00:11:15,410 --> 00:11:19,339
a little further instead of so that path

00:11:17,899 --> 00:11:21,940
is like a whole bunch of thoughts around

00:11:19,339 --> 00:11:24,980
that card ultimately what I want is this

00:11:21,940 --> 00:11:27,470
rectangular string or quadrilateral that

00:11:24,980 --> 00:11:31,070
consists of only four vertices to do

00:11:27,470 --> 00:11:32,810
that there's probably a cool name for

00:11:31,070 --> 00:11:34,970
this thing but I made up some random way

00:11:32,810 --> 00:11:36,680
to do this what I end up doing is

00:11:34,970 --> 00:11:39,560
basically removing pixels so I want to

00:11:36,680 --> 00:11:41,480
remove redundant pixels along a line and

00:11:39,560 --> 00:11:44,180
so I just keep removing and down until

00:11:41,480 --> 00:11:45,829
I'm down to four the way I just choose

00:11:44,180 --> 00:11:47,480
which pixel to remove next is basically

00:11:45,829 --> 00:11:50,810
the one that results in the these

00:11:47,480 --> 00:11:52,670
minimum least area change and which

00:11:50,810 --> 00:11:56,120
results in a pretty good rectangle this

00:11:52,670 --> 00:11:58,399
point now I want to pull out every card

00:11:56,120 --> 00:12:01,850
so this is now where I'm going from here

00:11:58,399 --> 00:12:04,459
to here so this is called perspective

00:12:01,850 --> 00:12:06,230
transform which again go to MPN you just

00:12:04,459 --> 00:12:08,690
search for perspective transform you get

00:12:06,230 --> 00:12:09,230
this thing this is basically linear

00:12:08,690 --> 00:12:11,600
algebra

00:12:09,230 --> 00:12:13,910
I'm not guys playing this one but linear

00:12:11,600 --> 00:12:16,399
algebra matrix math you can pull out

00:12:13,910 --> 00:12:19,339
basically and transform from perspective

00:12:16,399 --> 00:12:23,180
into this perspective all right we got

00:12:19,339 --> 00:12:24,260
every card it's kind of oh so we need to

00:12:23,180 --> 00:12:26,420
correct for the lighting in the room

00:12:24,260 --> 00:12:28,550
basically you'll notice here that this

00:12:26,420 --> 00:12:30,290
is I took this in like a yellowish lated

00:12:28,550 --> 00:12:31,990
room sometimes you get warm lighting

00:12:30,290 --> 00:12:33,860
sometimes you get cool lighting

00:12:31,990 --> 00:12:36,110
ultimately want to kind of correct for

00:12:33,860 --> 00:12:38,570
that so we want the background of the

00:12:36,110 --> 00:12:43,459
cards to basically be as like 255 - to

00:12:38,570 --> 00:12:45,410
565 white to do that we can assume that

00:12:43,459 --> 00:12:47,480
our white point so we need a white point

00:12:45,410 --> 00:12:50,000
we can assume that the background of the

00:12:47,480 --> 00:12:52,490
card is white and so what I've done is

00:12:50,000 --> 00:12:55,399
just average the top and bottom borders

00:12:52,490 --> 00:12:58,430
of every card and called that my white

00:12:55,399 --> 00:13:01,600
point and then using that I can shift

00:12:58,430 --> 00:13:04,640
every pixel in the image in RGB space

00:13:01,600 --> 00:13:06,019
into basically where the background is

00:13:04,640 --> 00:13:09,170
of averaging out to be more white than

00:13:06,019 --> 00:13:10,100
the rest of the card and all the all the

00:13:09,170 --> 00:13:11,449
other colors and the slightly

00:13:10,100 --> 00:13:14,630
brightening also which is actually good

00:13:11,449 --> 00:13:16,790
okay so recapping where we are we got

00:13:14,630 --> 00:13:18,829
our image we identified some cards we

00:13:16,790 --> 00:13:20,660
extract with cards and now we want to go

00:13:18,829 --> 00:13:24,529
for all of the colors and all the things

00:13:20,660 --> 00:13:26,000
in them so here we have the spectrum of

00:13:24,529 --> 00:13:26,950
the required so I've gone through and

00:13:26,000 --> 00:13:30,160
basically just grabbed every

00:13:26,950 --> 00:13:32,410
pixal mapped it to a hue and then

00:13:30,160 --> 00:13:35,260
throwing out all the white so as you can

00:13:32,410 --> 00:13:37,720
tell this is actually pretty pretty

00:13:35,260 --> 00:13:39,820
indicative of kind of all the cards I

00:13:37,720 --> 00:13:42,100
ran through it's pretty easy to tell

00:13:39,820 --> 00:13:44,200
that there's a purple card a red card a

00:13:42,100 --> 00:13:45,850
green card this weird one here is kind

00:13:44,200 --> 00:13:48,370
of interesting so that one was actually

00:13:45,850 --> 00:13:50,260
this one here we can kinda see some

00:13:48,370 --> 00:13:52,960
rainbow in going on here which is still

00:13:50,260 --> 00:13:56,530
fine there's a lot of strong signal here

00:13:52,960 --> 00:13:59,650
still in the purple so totally fine next

00:13:56,530 --> 00:14:02,020
one is number so for number again I just

00:13:59,650 --> 00:14:04,480
throw contouring out again for each card

00:14:02,020 --> 00:14:06,100
I run through the contour finder and I

00:14:04,480 --> 00:14:08,620
get contours and I end up looking at the

00:14:06,100 --> 00:14:11,440
percentage area or sorry the percentage

00:14:08,620 --> 00:14:14,860
width of the contours versus the entire

00:14:11,440 --> 00:14:17,830
card so if there's one shape on there

00:14:14,860 --> 00:14:20,050
it'll end up around 25% when there's two

00:14:17,830 --> 00:14:22,120
it's around like 55% and when there's

00:14:20,050 --> 00:14:23,410
three it's around 85% and we can go

00:14:22,120 --> 00:14:25,390
ahead and correct for this kind of case

00:14:23,410 --> 00:14:26,560
where I miss a contour by just using

00:14:25,390 --> 00:14:28,480
this and mirroring it over here and

00:14:26,560 --> 00:14:31,870
assuming that deducing basically that

00:14:28,480 --> 00:14:34,930
this is going to be three okay we got

00:14:31,870 --> 00:14:37,870
two things down next one is shading for

00:14:34,930 --> 00:14:40,480
shading we want to grab basically the

00:14:37,870 --> 00:14:43,780
inner core of every contour and look at

00:14:40,480 --> 00:14:45,370
its average luminosity so to grab its

00:14:43,780 --> 00:14:46,720
inner core you end up just taking a

00:14:45,370 --> 00:14:48,850
bounding box of the entire contour

00:14:46,720 --> 00:14:51,190
cutting that down to like three fourths

00:14:48,850 --> 00:14:53,140
of the size of the thing and then

00:14:51,190 --> 00:14:56,560
averaging pixels again inside of that

00:14:53,140 --> 00:14:58,660
internal box to give you basically so

00:14:56,560 --> 00:15:01,530
for an outline you end up with white

00:14:58,660 --> 00:15:03,820
pretty much so everything above 55

00:15:01,530 --> 00:15:06,490
four-striped you end up with somewhere

00:15:03,820 --> 00:15:07,720
between 230 and 240 and then for solid

00:15:06,490 --> 00:15:10,570
you end up with everything below like

00:15:07,720 --> 00:15:12,550
180 again you'll notice that like I'm

00:15:10,570 --> 00:15:16,120
kind of like hard coding these values in

00:15:12,550 --> 00:15:18,850
at some point shape is a little bit more

00:15:16,120 --> 00:15:20,530
complicated so shape we can kind of do

00:15:18,850 --> 00:15:22,540
the same thing and take that bounding

00:15:20,530 --> 00:15:27,700
box and look at the percentage area of

00:15:22,540 --> 00:15:31,050
the contour versus the shape and then we

00:15:27,700 --> 00:15:33,810
get this so diamond is actually a lot of

00:15:31,050 --> 00:15:35,860
doesn't take up a lot of that area

00:15:33,810 --> 00:15:37,720
squiggle to explode but more an oval

00:15:35,860 --> 00:15:39,760
takes up the most this though is getting

00:15:37,720 --> 00:15:40,649
a little close for me so like this the

00:15:39,760 --> 00:15:43,139
difference between Oh

00:15:40,649 --> 00:15:46,559
those were iffy so I decided to throw in

00:15:43,139 --> 00:15:50,279
yet another dimension here so this is a

00:15:46,559 --> 00:15:51,720
convex hull so this is this chart down

00:15:50,279 --> 00:15:53,999
here is the same as this top one but

00:15:51,720 --> 00:15:56,009
I've added a Y dimension so it pulls out

00:15:53,999 --> 00:15:57,360
some of these values the convex well you

00:15:56,009 --> 00:15:59,189
can think of is like basically taking

00:15:57,360 --> 00:16:01,829
some saran wrap and wrapping these

00:15:59,189 --> 00:16:04,230
shapes in saran wrap and so that's the

00:16:01,829 --> 00:16:06,300
shape you get for oval and diamond you

00:16:04,230 --> 00:16:08,399
end up with basically no change in the

00:16:06,300 --> 00:16:09,480
convex hull and then for squiggle you in

00:16:08,399 --> 00:16:10,230
to put more so this pulls it out a

00:16:09,480 --> 00:16:13,139
little better and makes the

00:16:10,230 --> 00:16:14,429
classification a lot easier finally

00:16:13,139 --> 00:16:16,980
we're down to like the boot floor set

00:16:14,429 --> 00:16:18,329
finding here's where the computer

00:16:16,980 --> 00:16:20,369
actually has a structure information in

00:16:18,329 --> 00:16:22,920
order to go ahead and look for all the

00:16:20,369 --> 00:16:25,290
sets when you do the math it's 12 cards

00:16:22,920 --> 00:16:27,629
3 cards per set that's only 220 possible

00:16:25,290 --> 00:16:30,119
sets which is absolutely nothing to a

00:16:27,629 --> 00:16:32,819
computer a crunch it crushes this in 20

00:16:30,119 --> 00:16:36,629
microseconds and checking all those 200

00:16:32,819 --> 00:16:38,160
many possible sets for four sets to kind

00:16:36,629 --> 00:16:40,170
of put this more into perspective when

00:16:38,160 --> 00:16:42,449
you think of sets per minute I'm at like

00:16:40,170 --> 00:16:44,459
one set per minute Susan's good she's at

00:16:42,449 --> 00:16:48,420
like 20 sets per minute and the computer

00:16:44,459 --> 00:16:52,019
is at 300,000 sets per minute so it's

00:16:48,420 --> 00:16:53,129
got us beat there by far so then knowing

00:16:52,019 --> 00:16:54,389
the sets you just draw them back on the

00:16:53,129 --> 00:16:58,800
source image and got this cool looking

00:16:54,389 --> 00:16:59,459
thing here so how does this play out how

00:16:58,800 --> 00:17:02,309
did I do

00:16:59,459 --> 00:17:06,120
so let's see I'm gonna give it away but

00:17:02,309 --> 00:17:09,449
this is playing again against Susan with

00:17:06,120 --> 00:17:10,980
with my first build or so you know I'm

00:17:09,449 --> 00:17:12,419
not doing so well still actually there

00:17:10,980 --> 00:17:15,539
was no sets there oh never mind there

00:17:12,419 --> 00:17:18,679
was one she took it oh I got one that's

00:17:15,539 --> 00:17:22,350
way better than I was doing before and

00:17:18,679 --> 00:17:24,750
it was basically a pretty even match

00:17:22,350 --> 00:17:27,870
actually basically when Susan's slow I

00:17:24,750 --> 00:17:35,270
can get a set if she's fast then I still

00:17:27,870 --> 00:17:43,140
lose and that was actually due to due to

00:17:35,270 --> 00:17:45,960
no this way so we lost in this example

00:17:43,140 --> 00:17:47,909
still it was very sad so what happens is

00:17:45,960 --> 00:17:49,590
that like we trained this thing on

00:17:47,909 --> 00:17:53,250
basically one or two or three source

00:17:49,590 --> 00:17:54,640
images which is exactly the problem with

00:17:53,250 --> 00:17:55,990
overfitting so I

00:17:54,640 --> 00:17:57,850
we built the model based on like a

00:17:55,990 --> 00:17:58,780
couple source images I didn't take into

00:17:57,850 --> 00:18:01,900
account a whole lot of different

00:17:58,780 --> 00:18:03,850
lighting that I might come into contact

00:18:01,900 --> 00:18:06,520
with shadows lots of other different

00:18:03,850 --> 00:18:08,380
things and so the way the fix this is

00:18:06,520 --> 00:18:11,590
basically you get a lot of source images

00:18:08,380 --> 00:18:13,930
so I went back and I built into my thing

00:18:11,590 --> 00:18:16,510
a way to quickly grab a lot of images

00:18:13,930 --> 00:18:21,340
and then tag them and then based on that

00:18:16,510 --> 00:18:22,870
I can actually find stuff or sorry I can

00:18:21,340 --> 00:18:24,970
train this a little better so it's

00:18:22,870 --> 00:18:26,350
basically taking all those all those

00:18:24,970 --> 00:18:27,970
images and using those who in four

00:18:26,350 --> 00:18:29,830
models magic numbers which I call poor

00:18:27,970 --> 00:18:31,660
man's machine learning which is exactly

00:18:29,830 --> 00:18:33,130
actually machine learning so don't let

00:18:31,660 --> 00:18:35,280
anyone tell you otherwise

00:18:33,130 --> 00:18:38,490
it's basically machine learning is doing

00:18:35,280 --> 00:18:44,220
so I put together a training montage

00:18:38,490 --> 00:18:47,010
plays Fitz on YouTube oh it does ok I

00:18:44,220 --> 00:18:51,540
don't need sound I'm gonna do this live

00:18:47,010 --> 00:18:51,540
start over cuz I got time this right

00:19:14,179 --> 00:19:23,480
so many times you change your passion

00:19:20,580 --> 00:19:23,480
for coal

00:19:23,539 --> 00:19:32,029
don't longer dream of the pathless fight

00:19:29,129 --> 00:19:32,029
justice

00:19:33,770 --> 00:19:40,520
I have the tiger it's the thrill of the

00:19:36,890 --> 00:19:45,680
fight rising up to the challenge of our

00:19:40,520 --> 00:19:48,310
rival and the last known survivor stalks

00:19:45,680 --> 00:19:48,310
their prey

00:19:57,160 --> 00:20:00,780
I got a

00:20:01,140 --> 00:20:11,540
I love the tiger

00:20:03,680 --> 00:20:17,740
[Music]

00:20:11,540 --> 00:20:21,740
[Applause]

00:20:17,740 --> 00:20:23,809
oh I went out of full screen no full

00:20:21,740 --> 00:20:31,220
screen although all we're doing is a

00:20:23,809 --> 00:20:33,039
live demo next so okay I did I get so I

00:20:31,220 --> 00:20:38,419
have a plant in the audience and

00:20:33,039 --> 00:20:42,530
everyone welcome Anne and then could I

00:20:38,419 --> 00:20:44,870
get a dealer as miles around or anybody

00:20:42,530 --> 00:20:46,640
who wants to deal deal some cards

00:20:44,870 --> 00:20:49,669
what software update to my phone trying

00:20:46,640 --> 00:20:52,669
to all this nice wait

00:20:49,669 --> 00:20:55,760
I guess quit iTunes that decided to open

00:20:52,669 --> 00:20:57,260
on me oh look at some random images it's

00:20:55,760 --> 00:20:59,530
good so anyone wants to cheating us

00:20:57,260 --> 00:21:05,659
their friends go to set that Visnic calm

00:20:59,530 --> 00:21:07,460
and that is my screen alright alright no

00:21:05,659 --> 00:21:12,020
dealer huh we need a deal there a deal

00:21:07,460 --> 00:21:23,110
it would be great ooh Billy hi Billy I

00:21:12,020 --> 00:21:25,789
work with Billy four by three twelve so

00:21:23,110 --> 00:21:27,409
well this I have a chance of losing

00:21:25,789 --> 00:21:29,600
easily because the lighting up here is

00:21:27,409 --> 00:21:32,239
interesting

00:21:29,600 --> 00:21:34,700
I tried this earlier and I think I was

00:21:32,239 --> 00:21:38,299
okay but also Anna's pretty good this

00:21:34,700 --> 00:21:41,090
game and so we'll see we'll see how this

00:21:38,299 --> 00:21:45,169
goes are we ready we ready to go seven

00:21:41,090 --> 00:21:48,679
oh I'm cheating I can take it because

00:21:45,169 --> 00:21:50,889
I'm a cheater Oh No these cards are

00:21:48,679 --> 00:21:50,889
weird

00:21:53,350 --> 00:22:02,029
Justin threshold Inge is there anything

00:21:56,239 --> 00:22:04,179
here that's not when it's a false

00:22:02,029 --> 00:22:04,179
positive

00:22:04,629 --> 00:22:12,590
these cards are too close to each other

00:22:07,929 --> 00:22:17,509
wait wait wait for it no there's a sec

00:22:12,590 --> 00:22:18,169
what yeah this is why humans still have

00:22:17,509 --> 00:22:24,049
a chance

00:22:18,169 --> 00:22:25,609
cuz computers can't see set I think the

00:22:24,049 --> 00:22:28,960
pressures getting to end the stage

00:22:25,609 --> 00:22:38,989
pressure oh there's a nice set yeah go

00:22:28,960 --> 00:22:40,669
wow that was a harder set yeah set okay

00:22:38,989 --> 00:22:42,169
I think we get the idea cuz this is

00:22:40,669 --> 00:22:43,840
gonna take a while to go through but

00:22:42,169 --> 00:22:46,279
there's nothing right there that Han got

00:22:43,840 --> 00:22:48,580
all right I'm gonna declare that a

00:22:46,279 --> 00:22:48,580
victory

00:22:50,520 --> 00:22:59,160
thank you again so great we built some

00:22:56,850 --> 00:23:02,610
networks actually prepared for both

00:22:59,160 --> 00:23:03,650
versions of this but we'd won so that's

00:23:02,610 --> 00:23:06,390
good

00:23:03,650 --> 00:23:07,559
this is a video just in case of showing

00:23:06,390 --> 00:23:11,130
that I also beat Susan

00:23:07,559 --> 00:23:12,210
so I completed my my accomplishment so

00:23:11,130 --> 00:23:13,980
the remaining things actually through

00:23:12,210 --> 00:23:16,980
here so I did all this in CPU in the

00:23:13,980 --> 00:23:18,540
browser there's you could do all this in

00:23:16,980 --> 00:23:20,220
WebGL which would be a lot of fun it's

00:23:18,540 --> 00:23:22,920
totally dense itself the shaders and GL

00:23:20,220 --> 00:23:24,450
so given that I have this like training

00:23:22,920 --> 00:23:25,890
set now I can actually throw as a

00:23:24,450 --> 00:23:29,160
tensorflow which would also be a whole

00:23:25,890 --> 00:23:30,809
lot of fun the other things I want to

00:23:29,160 --> 00:23:32,190
highlight really quickly are other

00:23:30,809 --> 00:23:33,750
versions of things that have kind of

00:23:32,190 --> 00:23:36,870
built actually did not build medium

00:23:33,750 --> 00:23:38,250
snowflake thing but so this is actually

00:23:36,870 --> 00:23:41,490
a totally different game this is like a

00:23:38,250 --> 00:23:43,950
crazy game where you have crazy dice you

00:23:41,490 --> 00:23:45,120
have figures and you kind of build your

00:23:43,950 --> 00:23:46,530
character up over time

00:23:45,120 --> 00:23:47,670
one thing about building your characters

00:23:46,530 --> 00:23:49,410
you're gonna have these like item buys

00:23:47,670 --> 00:23:52,530
and you're trying to figure out what use

00:23:49,410 --> 00:23:55,380
is better than 44 that's 11 they use

00:23:52,530 --> 00:23:58,200
random dice they look the same so I

00:23:55,380 --> 00:24:00,480
decided I'm gonna root for this too so

00:23:58,200 --> 00:24:02,370
I'm gonna run simulations against all of

00:24:00,480 --> 00:24:04,590
this and these are damage curves for

00:24:02,370 --> 00:24:07,620
each of these weapons at different

00:24:04,590 --> 00:24:08,730
distances another example that I want to

00:24:07,620 --> 00:24:11,610
highlight is actually stool called

00:24:08,730 --> 00:24:13,320
medium or a cool called snowflake from

00:24:11,610 --> 00:24:14,840
medium so this is actually a

00:24:13,320 --> 00:24:17,190
visualization of the engineering ladder

00:24:14,840 --> 00:24:18,780
this is a little bit looser as far as

00:24:17,190 --> 00:24:20,610
like actual tools to hack your life with

00:24:18,780 --> 00:24:23,400
but to me this is a tool that you can

00:24:20,610 --> 00:24:24,960
use to hack your career with so you can

00:24:23,400 --> 00:24:27,179
kind of see where you sit on their

00:24:24,960 --> 00:24:29,429
ladder for here seriously is really good

00:24:27,179 --> 00:24:33,090
at project management and initiative and

00:24:29,429 --> 00:24:36,240
accomplishment but she is very low on

00:24:33,090 --> 00:24:39,420
the community scale which probably stop

00:24:36,240 --> 00:24:41,130
killing people and blowing them up but

00:24:39,420 --> 00:24:42,240
she can like have a one-on-one with her

00:24:41,130 --> 00:24:45,000
manager which I don't think she has a

00:24:42,240 --> 00:24:46,800
manager and they can talk about how you

00:24:45,000 --> 00:24:48,570
know she could probably target just

00:24:46,800 --> 00:24:50,520
doing this easy zero to one on

00:24:48,570 --> 00:24:52,020
well-being and like this is zero to one

00:24:50,520 --> 00:24:55,110
on community and she's actually gone up

00:24:52,020 --> 00:24:58,230
a level so this is just a tool that I

00:24:55,110 --> 00:25:00,690
feel like you can you can basically very

00:24:58,230 --> 00:25:01,890
quickly figure out like if you've ever

00:25:00,690 --> 00:25:02,790
had a one don't want your manager and

00:25:01,890 --> 00:25:03,760
you're trying to figure out like it

00:25:02,790 --> 00:25:06,100
what's the next best

00:25:03,760 --> 00:25:07,780
for me to work on what would happen if I

00:25:06,100 --> 00:25:08,830
like just got really good at some of

00:25:07,780 --> 00:25:13,570
these other things where would that put

00:25:08,830 --> 00:25:17,770
me this answers it for you so yeah so

00:25:13,570 --> 00:25:20,560
again why I again love cheating and

00:25:17,770 --> 00:25:23,620
mischief and just solving problems in

00:25:20,560 --> 00:25:25,900
ways that shouldn't be solved and I feel

00:25:23,620 --> 00:25:27,520
like it leads the basic innovation so

00:25:25,900 --> 00:25:30,520
that's kind of why I hope I've inspired

00:25:27,520 --> 00:25:32,020
you to actually build something and kind

00:25:30,520 --> 00:25:33,370
of shown that like I just I've never

00:25:32,020 --> 00:25:37,090
done computer vision things before this

00:25:33,370 --> 00:25:39,520
and this is my first pass at it so I

00:25:37,090 --> 00:25:41,860
hope you can do that too and then

00:25:39,520 --> 00:25:43,630
ultimately all of these slides are on

00:25:41,860 --> 00:25:44,500
this website observable HQ there's

00:25:43,630 --> 00:25:46,210
enough cheap

00:25:44,500 --> 00:25:47,680
that's me there's no and there's

00:25:46,210 --> 00:25:49,480
actually blog post content inside of

00:25:47,680 --> 00:25:51,220
this so if you share it then it should

00:25:49,480 --> 00:25:52,420
make sense to all your friends to thank

00:25:51,220 --> 00:25:59,739
you

00:25:52,420 --> 00:25:59,739

YouTube URL: https://www.youtube.com/watch?v=5vU6shMFiPA


