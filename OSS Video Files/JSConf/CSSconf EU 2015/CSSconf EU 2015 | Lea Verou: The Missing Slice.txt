Title: CSSconf EU 2015 | Lea Verou: The Missing Slice
Publication date: 2015-09-26
Playlist: CSSconf EU 2015
Description: 
	Think of the humble pie chart. Simple and ubiquitous, yet surprisingly difficult to create with Web technologies in a flexible, maintainable way. Faced with this simple goal, Lea will take you on a colorful interactive journey through several aspects of CSS and SVG and will sweep you off your feet with clever ways to use them. At the end, you will have your pie and animate it too! Do not be fooled: the real takeaway of this talk has little to do with pie charts and a lot to do with problem solving via the tools the Open Web Platform offers us today.

Lea is a speaker, author of "CSS Secrets", and an Invited Expert in the CSS Working Group. She worked as a Developer Advocate for the W3C and is currently a Research Assistant at MIT.

http://2015.cssconf.eu
Captions: 
	00:00:10,969 --> 00:00:19,109
so hi again I'm Lea

00:00:16,109 --> 00:00:22,020
so I was introduced quite nicely thank

00:00:19,109 --> 00:00:26,400
you but here's a fun fact you don't know

00:00:22,020 --> 00:00:30,449
about me I grew up in the Greek island

00:00:26,400 --> 00:00:32,759
of Lesbos which technically makes me

00:00:30,449 --> 00:00:37,980
geographically lesbian this is something

00:00:32,759 --> 00:00:39,360
that not many people know about me so if

00:00:37,980 --> 00:00:41,280
you've ever heard about me before it's

00:00:39,360 --> 00:00:42,290
probably from one of my open-source

00:00:41,280 --> 00:00:44,670
projects

00:00:42,290 --> 00:00:47,039
I'm also the census working group which

00:00:44,670 --> 00:00:49,079
just means that I've gotten better at

00:00:47,039 --> 00:00:51,270
spending increasing amounts of time

00:00:49,079 --> 00:00:55,379
discussing issues of decreasing

00:00:51,270 --> 00:00:57,510
importance and then the last year I've

00:00:55,379 --> 00:01:01,100
been exploring the wondrous world of

00:00:57,510 --> 00:01:03,989
academia and trying my luck at research

00:01:01,100 --> 00:01:05,760
I'm doing a human-computer interaction

00:01:03,989 --> 00:01:08,810
research basically trying to make it

00:01:05,760 --> 00:01:12,030
easier to create web applications mainly

00:01:08,810 --> 00:01:12,479
data-driven web applications so enough

00:01:12,030 --> 00:01:16,380
about me

00:01:12,479 --> 00:01:19,560
oh and I've written the book if you have

00:01:16,380 --> 00:01:24,090
it I can sign it just find me in one of

00:01:19,560 --> 00:01:24,600
the breaks or the party so enough about

00:01:24,090 --> 00:01:25,590
me

00:01:24,600 --> 00:01:28,890
let's move on to something more

00:01:25,590 --> 00:01:31,650
interesting such as pie charts pie

00:01:28,890 --> 00:01:36,360
charts are everywhere in xkcd in old

00:01:31,650 --> 00:01:39,150
windows on walls on genitals on food on

00:01:36,360 --> 00:01:41,939
blackboards and of course there they're

00:01:39,150 --> 00:01:45,030
very ubiquitous on the web we see pie

00:01:41,939 --> 00:01:48,780
charts all the time elf wave for evil to

00:01:45,030 --> 00:01:51,299
show percentages or just as spinners to

00:01:48,780 --> 00:01:53,220
for as a loading indicator but still

00:01:51,299 --> 00:01:55,290
it's surprisingly difficult to make them

00:01:53,220 --> 00:01:57,479
with web technologies for example look

00:01:55,290 --> 00:01:59,670
at this very very simple pie chart this

00:01:57,479 --> 00:02:02,490
is what we'll be working on for most of

00:01:59,670 --> 00:02:04,079
this talk how can we make this pie chart

00:02:02,490 --> 00:02:06,210
with web technologies it's super simple

00:02:04,079 --> 00:02:09,500
it's just two colors it should be very

00:02:06,210 --> 00:02:12,180
easy right can you think of a solution

00:02:09,500 --> 00:02:13,920
can you try to think about it for a bit

00:02:12,180 --> 00:02:15,690
just a very simple tight

00:02:13,920 --> 00:02:18,599
thing needs to go it needs to show one

00:02:15,690 --> 00:02:21,510
percentage from zero to 100% how would

00:02:18,599 --> 00:02:23,250
you do it so when I thought about it my

00:02:21,510 --> 00:02:24,660
first idea was okay we need to show

00:02:23,250 --> 00:02:28,590
custom angles in some way

00:02:24,660 --> 00:02:30,780
let's try skew transforms so we start

00:02:28,590 --> 00:02:33,569
with a square element we give it a

00:02:30,780 --> 00:02:38,489
border radius of 50% to make it round

00:02:33,569 --> 00:02:42,890
and then we add a pseudo element with an

00:02:38,489 --> 00:02:45,209
empty content we position it absolutely

00:02:42,890 --> 00:02:46,590
let's give it a background as well to

00:02:45,209 --> 00:02:52,080
see what we're doing right now it won't

00:02:46,590 --> 00:02:58,160
show because it has no dimensions bottom

00:02:52,080 --> 00:03:03,600
50% left

00:02:58,160 --> 00:03:05,459
50% and let's give it a padding of 50%

00:03:03,600 --> 00:03:09,620
as well now we're starting to see it

00:03:05,459 --> 00:03:12,269
let's give this overflow:hidden so that

00:03:09,620 --> 00:03:13,799
it doesn't obscure our code and it looks

00:03:12,269 --> 00:03:16,739
more like a pie chart so this already

00:03:13,799 --> 00:03:20,190
looks like a pie chart with 25% more

00:03:16,739 --> 00:03:21,359
scape like most times the 1 25% won't be

00:03:20,190 --> 00:03:23,840
what we want

00:03:21,359 --> 00:03:28,980
so this is where transforms come in

00:03:23,840 --> 00:03:30,269
let's try skewing transform so we're

00:03:28,980 --> 00:03:32,100
sort of starting to get there but not

00:03:30,269 --> 00:03:34,410
quite because this is not exactly

00:03:32,100 --> 00:03:36,120
staying in the center but you know how

00:03:34,410 --> 00:03:46,590
to fix that right we just use the

00:03:36,120 --> 00:03:49,820
transform origin or bottom left and now

00:03:46,590 --> 00:03:49,820
it looks more like a pie chart

00:03:52,300 --> 00:04:00,560
hey thank you but wait a bit because yes

00:03:58,130 --> 00:04:04,030
we can show different percentages but as

00:04:00,560 --> 00:04:06,410
it grows it starts showing the problems

00:04:04,030 --> 00:04:09,800
which you we can sort of patch by

00:04:06,410 --> 00:04:12,890
increasing the bad thing but at some

00:04:09,800 --> 00:04:14,330
point it will come back to bite us we

00:04:12,890 --> 00:04:16,910
can increase the padding even more

00:04:14,330 --> 00:04:20,120
whether I can't make it infinite so that

00:04:16,910 --> 00:04:22,190
90 degrees it will disappear but we can

00:04:20,120 --> 00:04:26,450
sort of get around that we can special

00:04:22,190 --> 00:04:27,860
case everything we can special case 50%

00:04:26,450 --> 00:04:29,960
because it's easy to just give it a

00:04:27,860 --> 00:04:32,660
different colour and have the the on

00:04:29,960 --> 00:04:34,730
half the the circle the difficult part

00:04:32,660 --> 00:04:37,900
was showing the angles right and we can

00:04:34,730 --> 00:04:40,400
give it a SAN over half class and apply

00:04:37,900 --> 00:04:42,020
and change the transform and append the

00:04:40,400 --> 00:04:45,320
color and swap the colors to show

00:04:42,020 --> 00:04:46,850
percentages over 50% so we can we can

00:04:45,320 --> 00:04:48,620
sort of do it with skewed suit of

00:04:46,850 --> 00:04:52,670
elements so there I sold it I made pie

00:04:48,620 --> 00:04:54,380
charts with CSS is it good is it a good

00:04:52,670 --> 00:04:56,510
solution would you work would you want

00:04:54,380 --> 00:04:59,750
to work on this code would anybody want

00:04:56,510 --> 00:05:01,820
to work on this code doesn't it make you

00:04:59,750 --> 00:05:06,020
feel dirty that we used CSS and that in

00:05:01,820 --> 00:05:08,600
such a way and pure CSS is not good

00:05:06,020 --> 00:05:12,170
enough just using CSS to mate is to just

00:05:08,600 --> 00:05:15,080
claim hey I did this with pure CSS so

00:05:12,170 --> 00:05:16,700
what will you CSS because of its the

00:05:15,080 --> 00:05:18,290
clarity of reactive nature because

00:05:16,700 --> 00:05:21,050
sometimes it actually helps us simplify

00:05:18,290 --> 00:05:23,810
our code just being able to do something

00:05:21,050 --> 00:05:28,030
in CSS without actually ending up with

00:05:23,810 --> 00:05:30,350
code that's maintainable or or even

00:05:28,030 --> 00:05:32,360
understandable that what the hell does

00:05:30,350 --> 00:05:35,630
this do how do I set this pie charts to

00:05:32,360 --> 00:05:38,360
show 30% I will have to say think that

00:05:35,630 --> 00:05:41,720
Oh minus 90 degrees was zero and then 90

00:05:38,360 --> 00:05:44,030
degrees was 50% so 30 bit seriously

00:05:41,720 --> 00:05:45,860
nobody wants to think to think like that

00:05:44,030 --> 00:05:46,940
usually we should just be able we should

00:05:45,860 --> 00:05:52,910
be able to just set a straightforward

00:05:46,940 --> 00:05:54,830
number so to sorry for a super CSS

00:05:52,910 --> 00:05:56,270
solution to actually be a good idea it

00:05:54,830 --> 00:05:57,950
needs to be flexible it needs to be

00:05:56,270 --> 00:06:00,140
maintainable and ideally it should be

00:05:57,950 --> 00:06:01,770
extensible that's not as important but

00:06:00,140 --> 00:06:04,250
it should be it's

00:06:01,770 --> 00:06:09,240
good thing if it's also extensible and

00:06:04,250 --> 00:06:11,789
flexibility means multiple things such

00:06:09,240 --> 00:06:14,009
as is it possible to change things what

00:06:11,789 --> 00:06:15,720
things well you can sort of foresee what

00:06:14,009 --> 00:06:18,569
you might want to change about something

00:06:15,720 --> 00:06:20,970
in the pie chart example you might want

00:06:18,569 --> 00:06:23,490
to change the colors or of course you

00:06:20,970 --> 00:06:26,759
will want to set the percentage so these

00:06:23,490 --> 00:06:27,930
things should be possible to change but

00:06:26,759 --> 00:06:29,610
it shouldn't they should just be

00:06:27,930 --> 00:06:32,280
possible to change it should be possible

00:06:29,610 --> 00:06:34,470
to change them in line ideally because a

00:06:32,280 --> 00:06:37,560
lot of the time we'll have a widget that

00:06:34,470 --> 00:06:38,819
we stylist with CSS and then we change

00:06:37,560 --> 00:06:40,620
something with JavaScript and with

00:06:38,819 --> 00:06:43,110
JavaScript we can only set inline Styles

00:06:40,620 --> 00:06:44,849
yes with CSS variables that won't be a

00:06:43,110 --> 00:06:46,440
big problem because we can just set the

00:06:44,849 --> 00:06:49,199
CSS variable and then we can use it in

00:06:46,440 --> 00:06:50,849
pseudo elements so that won't be a

00:06:49,199 --> 00:06:52,560
problem but right now if we need to

00:06:50,849 --> 00:06:55,199
change something in a pseudo element to

00:06:52,560 --> 00:06:57,060
modify the percentage that's a problem

00:06:55,199 --> 00:06:59,130
because we can't in like we can't set

00:06:57,060 --> 00:07:03,000
pseudo elements by inline Styles and if

00:06:59,130 --> 00:07:06,750
you're wondering by the way CSS

00:07:03,000 --> 00:07:08,340
variables have pretty bad browser

00:07:06,750 --> 00:07:14,699
support right now so it's still a

00:07:08,340 --> 00:07:15,960
concern so and also it's not just about

00:07:14,699 --> 00:07:17,610
being possible to change and being

00:07:15,960 --> 00:07:20,250
possible to change it in line but also

00:07:17,610 --> 00:07:23,039
how easy is it to change and how many

00:07:20,250 --> 00:07:25,259
places do I have to change stuff to make

00:07:23,039 --> 00:07:27,240
a simple edit because the more edits I

00:07:25,259 --> 00:07:29,699
have to do the more the more likely it

00:07:27,240 --> 00:07:31,380
is that I will forget one and or that

00:07:29,699 --> 00:07:33,630
the future developer after me will

00:07:31,380 --> 00:07:35,639
forget one or they will not even know

00:07:33,630 --> 00:07:37,710
how that they need to make changes all

00:07:35,639 --> 00:07:39,360
over the place so it's software

00:07:37,710 --> 00:07:40,440
engineering this is called don't repeat

00:07:39,360 --> 00:07:43,080
yourself

00:07:40,440 --> 00:07:44,909
so the acronym is dry dry code is a good

00:07:43,080 --> 00:07:46,680
thing strive to make your code as dry as

00:07:44,909 --> 00:07:53,039
possible the opposite who's wet by the

00:07:46,680 --> 00:07:55,139
way we enjoy typing good CSS solutions

00:07:53,039 --> 00:07:58,520
should also be maintainable which is

00:07:55,139 --> 00:08:00,719
also sort of it's hard to define but a

00:07:58,520 --> 00:08:02,849
heuristic and it's just a heuristic

00:08:00,719 --> 00:08:04,440
because you can have tons of code that

00:08:02,849 --> 00:08:07,259
is very understandable very well

00:08:04,440 --> 00:08:10,199
commented it's just a rule of thumb the

00:08:07,259 --> 00:08:12,839
more code usually the more effort it

00:08:10,199 --> 00:08:15,300
takes to understand it also in the case

00:08:12,839 --> 00:08:16,889
of HTML CSS does it require

00:08:15,300 --> 00:08:18,930
extra elements do I need to add extra

00:08:16,889 --> 00:08:21,569
elements to make this work that's a

00:08:18,930 --> 00:08:23,039
problem because it makes I have to it I

00:08:21,569 --> 00:08:26,129
have to change two things to make the

00:08:23,039 --> 00:08:27,629
solution work so it's sort of it it's

00:08:26,129 --> 00:08:31,080
more things that I have to know about

00:08:27,629 --> 00:08:32,909
the code to work on it and is it

00:08:31,080 --> 00:08:35,760
straightforward that's which which

00:08:32,909 --> 00:08:37,260
cannot be strictly defined but you know

00:08:35,760 --> 00:08:38,969
when the code you've written is not

00:08:37,260 --> 00:08:41,190
straightforward right you know that this

00:08:38,969 --> 00:08:43,829
to skew the pseudo-element example is

00:08:41,190 --> 00:08:47,459
not straightforward in any definition of

00:08:43,829 --> 00:08:49,140
the word right it's it feels hacky it

00:08:47,459 --> 00:08:51,149
feels bad it feels like this is not what

00:08:49,140 --> 00:08:54,800
we should be doing that means it's

00:08:51,149 --> 00:08:58,140
usually it's not maintainable and

00:08:54,800 --> 00:09:00,089
extensibility is how easy it is to add

00:08:58,140 --> 00:09:02,519
more things in the future how easy is it

00:09:00,089 --> 00:09:05,250
to extend what it does for example in

00:09:02,519 --> 00:09:06,990
the in the pie chart case can I add

00:09:05,250 --> 00:09:08,579
multiple segments what if I don't want

00:09:06,990 --> 00:09:10,230
to just show one percentage but I want

00:09:08,579 --> 00:09:12,930
to show multiple that's it something

00:09:10,230 --> 00:09:14,850
that we can foresee doing can we do it

00:09:12,930 --> 00:09:17,310
or do we have to completely change how

00:09:14,850 --> 00:09:19,320
we're styling our pie chart also can we

00:09:17,310 --> 00:09:21,510
have a patient can can we animate either

00:09:19,320 --> 00:09:24,000
the whole thing and make and turn it

00:09:21,510 --> 00:09:26,399
into a spinner or just the pie the pie

00:09:24,000 --> 00:09:29,550
segments as they appear can we show them

00:09:26,399 --> 00:09:33,990
with a transition or can I have effect

00:09:29,550 --> 00:09:37,020
can I color the segments with gradients

00:09:33,990 --> 00:09:40,320
for instance or patterns or something so

00:09:37,020 --> 00:09:43,050
in the case of the skewed Suellen pseudo

00:09:40,320 --> 00:09:46,740
elements yeah I can change the colors in

00:09:43,050 --> 00:09:49,560
one place I can change the size in one

00:09:46,740 --> 00:09:52,829
place I need to make four edits to

00:09:49,560 --> 00:09:54,660
change the value ah well in the simple

00:09:52,829 --> 00:09:56,910
case I can only make one at it if I'm

00:09:54,660 --> 00:09:59,310
changing it from 10% to 20% in the

00:09:56,910 --> 00:10:03,329
general case I need to make four edits

00:09:59,310 --> 00:10:06,089
if if it goes from below 50% to above

00:10:03,329 --> 00:10:08,250
50% and it's not possible to set the

00:10:06,089 --> 00:10:09,779
value in line because my transform is in

00:10:08,250 --> 00:10:13,079
the pseudo element so I can't set that

00:10:09,779 --> 00:10:15,570
in line the good thing is it's not using

00:10:13,079 --> 00:10:17,160
any extra elements it is using 14

00:10:15,570 --> 00:10:19,769
declaration in four rules which for a

00:10:17,160 --> 00:10:22,800
simple tried pie chart are a bit too

00:10:19,769 --> 00:10:27,899
many and it's terribly messy in hockey

00:10:22,800 --> 00:10:28,320
most importantly extensibility wise I

00:10:27,899 --> 00:10:29,790
can sort

00:10:28,320 --> 00:10:31,380
have multiple segments I can sort of

00:10:29,790 --> 00:10:33,390
animate I can sort of do some effects

00:10:31,380 --> 00:10:37,650
it's a pain in the ass to do any of

00:10:33,390 --> 00:10:39,720
these so it's sort of okay but still

00:10:37,650 --> 00:10:44,190
overall the skewed sewer element is a

00:10:39,720 --> 00:10:46,410
bad idea can we do better let's let's

00:10:44,190 --> 00:10:49,440
try to think of a better idea how can we

00:10:46,410 --> 00:10:52,500
show custom angles in a circle in CSS

00:10:49,440 --> 00:10:54,180
how could we show custom angles we we

00:10:52,500 --> 00:10:56,190
try to secure transforms it didn't work

00:10:54,180 --> 00:11:00,390
very well what else do we have

00:10:56,190 --> 00:11:05,370
we have rotations can we do it can we

00:11:00,390 --> 00:11:10,650
make it work with rotations what if we

00:11:05,370 --> 00:11:12,600
call it our circle half of it being our

00:11:10,650 --> 00:11:15,720
base color this f06

00:11:12,600 --> 00:11:17,970
this magenta and the other half being

00:11:15,720 --> 00:11:25,200
gold stay with me here

00:11:17,970 --> 00:11:26,880
so let's try to do that for a bit so now

00:11:25,200 --> 00:11:28,770
I have a gradient but it would turn it

00:11:26,880 --> 00:11:39,390
will turn into what I've described very

00:11:28,770 --> 00:11:41,490
quickly so these will come together and

00:11:39,390 --> 00:11:43,290
actually this doesn't even need to be 50

00:11:41,490 --> 00:11:44,580
it could be anything it could be zero as

00:11:43,290 --> 00:11:48,210
long as it's smaller than the previous

00:11:44,580 --> 00:11:50,520
one it works so I will tend to use zero

00:11:48,210 --> 00:11:53,190
and all the in any gradients you might

00:11:50,520 --> 00:11:55,170
see in the future in this talk it just

00:11:53,190 --> 00:11:56,460
means it's equal to the previous one the

00:11:55,170 --> 00:11:58,620
browser does this for you so you don't

00:11:56,460 --> 00:12:01,410
have to type it twice so there I've

00:11:58,620 --> 00:12:05,730
colored my circle with two colors so now

00:12:01,410 --> 00:12:12,800
what if I add a pseudo element that is

00:12:05,730 --> 00:12:19,320
also magenta f06 let's set this and I

00:12:12,800 --> 00:12:22,620
move it to the side by margin left 50% I

00:12:19,320 --> 00:12:25,890
give it a height of a hundred percent

00:12:22,620 --> 00:12:27,540
and of course now it's square I could

00:12:25,890 --> 00:12:31,350
either solve it this by overflow:hidden

00:12:27,540 --> 00:12:33,390
or I could solve this by nice use of

00:12:31,350 --> 00:12:36,720
border radius so I want to make it a

00:12:33,390 --> 00:12:38,490
semi circle right so 50% won't work what

00:12:36,720 --> 00:12:41,130
will work is if I use the extended

00:12:38,490 --> 00:12:41,730
border radius syntax which lets me set

00:12:41,130 --> 00:12:43,829
the different

00:12:41,730 --> 00:12:46,769
on every corner both horizontally and

00:12:43,829 --> 00:12:50,480
vertically so I let's think about it I

00:12:46,769 --> 00:12:52,980
want a semicircle on the bright side so

00:12:50,480 --> 00:12:55,589
the top right the top left corner is

00:12:52,980 --> 00:12:59,010
zero has has no rounding horizontally

00:12:55,589 --> 00:13:01,139
the top bright one has a hundred percent

00:12:59,010 --> 00:13:03,360
the bottom right one has a hundred

00:13:01,139 --> 00:13:07,310
percent and the top-right one has a

00:13:03,360 --> 00:13:10,170
hundred percent and sorry zero and

00:13:07,310 --> 00:13:13,170
vertically it's fifty percent so there

00:13:10,170 --> 00:13:14,190
we have it I can give it a different

00:13:13,170 --> 00:13:16,430
color if you don't believe me that this

00:13:14,190 --> 00:13:19,380
is actually my element it is my element

00:13:16,430 --> 00:13:22,860
so it's a semicircle now and this is

00:13:19,380 --> 00:13:27,449
where the magic begins because now I can

00:13:22,860 --> 00:13:29,850
start rotating it and it's almost almost

00:13:27,449 --> 00:13:36,649
getting there what do I need transform

00:13:29,850 --> 00:13:42,570
origin which will be on the left center

00:13:36,649 --> 00:13:44,370
so left and there it is now so you might

00:13:42,570 --> 00:13:46,230
be wondering why is this better than the

00:13:44,370 --> 00:13:48,360
previous one well for one I don't have

00:13:46,230 --> 00:13:53,160
weird artifacts when I get to a hundred

00:13:48,360 --> 00:13:56,940
and eighty I just need to change one

00:13:53,160 --> 00:13:59,790
thing and it works and also it still

00:13:56,940 --> 00:14:03,500
needs us it still needs a class to get

00:13:59,790 --> 00:14:06,329
to the show percentages over 50 percent

00:14:03,500 --> 00:14:09,139
ha but the only thing that's needed here

00:14:06,329 --> 00:14:12,750
to show percentages over 50 percent is

00:14:09,139 --> 00:14:15,329
to set a background of gold to my pseudo

00:14:12,750 --> 00:14:19,110
element and then I can show any

00:14:15,329 --> 00:14:21,000
percentage I want over 50 percent see

00:14:19,110 --> 00:14:26,490
the bottom pile I can show any

00:14:21,000 --> 00:14:27,990
percentage I want on it so it's sort of

00:14:26,490 --> 00:14:29,910
slightly slightly more straightforward

00:14:27,990 --> 00:14:31,740
you might start thinking well I've

00:14:29,910 --> 00:14:33,860
repeated my colors and stuff in many

00:14:31,740 --> 00:14:36,930
places so that's not very maintainable

00:14:33,860 --> 00:14:38,940
yes I have but I can eliminate that

00:14:36,930 --> 00:14:43,079
repetition let's eliminate the

00:14:38,940 --> 00:14:44,670
repetition so here I've set it to f06

00:14:43,079 --> 00:14:47,130
but it's in a gradient so I can't really

00:14:44,670 --> 00:14:50,040
use it anywhere else instead I'm gonna

00:14:47,130 --> 00:14:53,630
set it to transparent and I'm gonna move

00:14:50,040 --> 00:14:56,780
the color as a background color so now

00:14:53,630 --> 00:15:00,020
instead of retyping f06 here I can just

00:14:56,780 --> 00:15:01,400
inherit but if I just didn't hear it on

00:15:00,020 --> 00:15:03,170
the background you see what happens

00:15:01,400 --> 00:15:05,000
because it inherits the whole to color

00:15:03,170 --> 00:15:08,320
background so I have to show it to

00:15:05,000 --> 00:15:10,700
change this the background color also

00:15:08,320 --> 00:15:12,080
okay you might be thinking okay you did

00:15:10,700 --> 00:15:14,240
this with the background color but what

00:15:12,080 --> 00:15:16,250
will you do about gold because otherwise

00:15:14,240 --> 00:15:19,490
we would have to repeat it here well

00:15:16,250 --> 00:15:23,480
actually we don't because I can just set

00:15:19,490 --> 00:15:25,190
the color to gold and then I changed

00:15:23,480 --> 00:15:27,080
this gradient color stop to current

00:15:25,190 --> 00:15:29,390
color which always refers to the value

00:15:27,080 --> 00:15:36,620
of the color property if I change this

00:15:29,390 --> 00:15:38,570
to say green then it changes in the

00:15:36,620 --> 00:15:40,310
gradient so now I can set this to

00:15:38,570 --> 00:15:41,870
current color as well because color is

00:15:40,310 --> 00:15:46,580
an inherited property so my studio

00:15:41,870 --> 00:15:50,230
element also has a color of gold and now

00:15:46,580 --> 00:15:50,230
if I change it it changes in both places

00:15:51,340 --> 00:16:00,230
and also I can make this a little more

00:15:56,690 --> 00:16:02,240
sensible by using turn units so now this

00:16:00,230 --> 00:16:06,020
is 10% and a corresponds to point one

00:16:02,240 --> 00:16:10,130
turn so I don't have to do weird weird

00:16:06,020 --> 00:16:13,550
math with angles 20% 30% and so on and

00:16:10,130 --> 00:16:15,710
yes above above 50%

00:16:13,550 --> 00:16:18,890
it would have to reset again like 50%

00:16:15,710 --> 00:16:21,620
corresponds to zero turns and 60% is

00:16:18,890 --> 00:16:24,200
point one turns but compared to what we

00:16:21,620 --> 00:16:27,260
had to endure with the skewed hack with

00:16:24,200 --> 00:16:30,920
the skewed element hack that's slightly

00:16:27,260 --> 00:16:33,250
better and can I animate it with it with

00:16:30,920 --> 00:16:36,170
the skew transform it was a it was a

00:16:33,250 --> 00:16:40,490
huge pain to even attempt animation on

00:16:36,170 --> 00:16:43,550
it here it's not super straightforward

00:16:40,490 --> 00:16:51,680
but we can do it we will need to animate

00:16:43,550 --> 00:16:59,170
two things the color and the rotation so

00:16:51,680 --> 00:16:59,170
the color will go from

00:17:02,399 --> 00:17:09,339
we'll alternate between current color

00:17:04,959 --> 00:17:17,589
and inherit and the spender rotation

00:17:09,339 --> 00:17:22,480
will also will go from 0 to 0.5 tonnes

00:17:17,589 --> 00:17:24,550
and we have to remove this one it just

00:17:22,480 --> 00:17:27,250
gets the default of 0 by the way you

00:17:24,550 --> 00:17:29,260
notice I didn't use from and two key

00:17:27,250 --> 00:17:31,480
frames this is because when you don't

00:17:29,260 --> 00:17:33,400
specify from a new key frame or from or

00:17:31,480 --> 00:17:35,350
two key frames the browser generates

00:17:33,400 --> 00:17:37,630
them for you so in this animation the

00:17:35,350 --> 00:17:39,280
from key frame is just rotate zero which

00:17:37,630 --> 00:17:50,830
is the state of this rule that will

00:17:39,280 --> 00:17:54,420
apply it on so we set the color over we

00:17:50,830 --> 00:17:54,420
animate the color over two seconds

00:17:54,570 --> 00:18:01,360
actually let's do it wrong first so that

00:17:57,400 --> 00:18:08,290
you see what happens this will be linear

00:18:01,360 --> 00:18:10,780
they will both be infinite oh and here

00:18:08,290 --> 00:18:15,520
we're doing a background color again not

00:18:10,780 --> 00:18:17,679
background so you can see the problem

00:18:15,520 --> 00:18:19,600
the caller doesn't actually abruptly

00:18:17,679 --> 00:18:21,580
change it smoothly changes which is

00:18:19,600 --> 00:18:24,250
usually great this is why we love CSS

00:18:21,580 --> 00:18:27,010
animations in this case though we wanted

00:18:24,250 --> 00:18:29,830
it to abruptly change it's 50% so what

00:18:27,010 --> 00:18:34,240
do we do we specify an animation timing

00:18:29,830 --> 00:18:38,620
function of step start and when we apply

00:18:34,240 --> 00:18:42,490
it there we have an animating pie chart

00:18:38,620 --> 00:18:44,830
now however we might be thinking well

00:18:42,490 --> 00:18:47,260
what we actually wanted was not an

00:18:44,830 --> 00:18:50,890
animated pie chart it was just a simple

00:18:47,260 --> 00:18:52,630
little tiny static pie chart we just

00:18:50,890 --> 00:18:58,630
wanted to show different percentages on

00:18:52,630 --> 00:19:02,140
a static pie chart so what can we do the

00:18:58,630 --> 00:19:04,870
thing is the browser knows how to

00:19:02,140 --> 00:19:07,240
progress an animation what if we could

00:19:04,870 --> 00:19:09,820
just tell the browser stop the animation

00:19:07,240 --> 00:19:11,290
at 10 percent or stop the animation at

00:19:09,820 --> 00:19:11,820
50 percent stop the animation at 80

00:19:11,290 --> 00:19:13,500
percent

00:19:11,820 --> 00:19:14,910
this is exactly what we want to display

00:19:13,500 --> 00:19:17,700
a percentage and then we would be able

00:19:14,910 --> 00:19:20,130
to just change one value and display a

00:19:17,700 --> 00:19:21,930
custom percentage why don't we have

00:19:20,130 --> 00:19:23,550
something like this in CSS like an

00:19:21,930 --> 00:19:28,170
interpolate function or something like

00:19:23,550 --> 00:19:31,860
this well sadly we don't but we can hack

00:19:28,170 --> 00:19:34,310
it with what I call static interpolation

00:19:31,860 --> 00:19:37,170
which is not actually a real thing

00:19:34,310 --> 00:19:39,150
interpolation is when you is figuring

00:19:37,170 --> 00:19:42,390
out the intermediate states between two

00:19:39,150 --> 00:19:43,830
keyframes and static just means that I'm

00:19:42,390 --> 00:19:46,530
basically going to be using an animation

00:19:43,830 --> 00:19:49,680
but nothing will actually animate so

00:19:46,530 --> 00:19:54,480
let's let's examine it first on a

00:19:49,680 --> 00:19:56,370
simpler animation let's write the

00:19:54,480 --> 00:20:01,500
keyframes rule here let's call it foo

00:19:56,370 --> 00:20:03,840
and let's make it go from gold to f06

00:20:01,500 --> 00:20:05,810
you'll see a lot of f06 here it's my

00:20:03,840 --> 00:20:11,340
favorite color

00:20:05,810 --> 00:20:18,680
so let's attach it here let's give it

00:20:11,340 --> 00:20:21,870
two seconds or maybe five whatever and

00:20:18,680 --> 00:20:24,450
you can see how it switches from gold to

00:20:21,870 --> 00:20:27,810
f06 and the browser knows all the

00:20:24,450 --> 00:20:30,240
intermediate stages but how could we

00:20:27,810 --> 00:20:32,850
make it how could we say I want the

00:20:30,240 --> 00:20:33,690
background to be 50% between gold and

00:20:32,850 --> 00:20:36,750
f06

00:20:33,690 --> 00:20:40,710
there's no function for that however

00:20:36,750 --> 00:20:45,990
what we could do is there is a property

00:20:40,710 --> 00:20:47,700
animation play state which is by by

00:20:45,990 --> 00:20:49,710
default it has the value the value

00:20:47,700 --> 00:20:52,770
running but it can get the value post

00:20:49,710 --> 00:20:54,060
which poses our animation okay big deal

00:20:52,770 --> 00:20:58,290
you might be thinking I would just have

00:20:54,060 --> 00:21:00,120
gold and nothing else yes but we have

00:20:58,290 --> 00:21:02,850
this amazing property called animation

00:21:00,120 --> 00:21:04,950
delay which doesn't look like much when

00:21:02,850 --> 00:21:07,680
you first see it because it's basically

00:21:04,950 --> 00:21:10,050
it may delay your animation by a bit so

00:21:07,680 --> 00:21:12,240
we've animated but your normal animation

00:21:10,050 --> 00:21:15,540
from gold to f06 would look like this

00:21:12,240 --> 00:21:18,120
over time say with a 10 second duration

00:21:15,540 --> 00:21:19,920
an animation delay of one second would

00:21:18,120 --> 00:21:22,170
shift it over time and it would start

00:21:19,920 --> 00:21:25,340
one second later not very useful right

00:21:22,170 --> 00:21:27,590
but you can have negative

00:21:25,340 --> 00:21:30,129
and delay and what did let what that

00:21:27,590 --> 00:21:32,720
does it shifts it on the other direction

00:21:30,129 --> 00:21:35,779
so you can actually step through your

00:21:32,720 --> 00:21:38,749
animation and if your animation is

00:21:35,779 --> 00:21:40,909
paused what you get is this the study of

00:21:38,749 --> 00:21:44,870
creams that the browser generated and no

00:21:40,909 --> 00:21:49,360
animation so let's try this let's use

00:21:44,870 --> 00:22:01,759
that seconds here and animation delay

00:21:49,360 --> 00:22:04,639
say - 5 seconds so yep I'm not sure if

00:22:01,759 --> 00:22:07,509
you if it shows very much but we're

00:22:04,639 --> 00:22:10,249
basically stepping through the animation

00:22:07,509 --> 00:22:13,100
it starts showing you an awful lot like

00:22:10,249 --> 00:22:16,659
f06 after a certain point alright

00:22:13,100 --> 00:22:18,740
because we need to make it linear

00:22:16,659 --> 00:22:20,869
otherwise its accelerates after a

00:22:18,740 --> 00:22:23,029
certain point so after 50% the values

00:22:20,869 --> 00:22:28,309
are very similar so yes this is actually

00:22:23,029 --> 00:22:29,869
50% between these two colors and let's

00:22:28,309 --> 00:22:31,929
make it a hundred so that these actually

00:22:29,869 --> 00:22:43,220
correspond to percentages so this is 50%

00:22:31,929 --> 00:22:47,299
this is 25% this is 75% and 99% what do

00:22:43,220 --> 00:22:53,509
you expect - 100 seconds to show it

00:22:47,299 --> 00:22:55,340
should show f06 right nope and the

00:22:53,509 --> 00:22:57,139
reason for that is that basically you're

00:22:55,340 --> 00:22:59,799
stepping through the animation as if it

00:22:57,139 --> 00:23:02,210
actually was it was actually playing

00:22:59,799 --> 00:23:03,710
it's just that it's paused but it's it's

00:23:02,210 --> 00:23:05,299
the same thing as if it was playing and

00:23:03,710 --> 00:23:07,759
what happens to an animation of it after

00:23:05,299 --> 00:23:10,369
it finishes it snaps back to the

00:23:07,759 --> 00:23:18,830
beginning unless you use animation film

00:23:10,369 --> 00:23:21,139
mode for words and then this means when

00:23:18,830 --> 00:23:23,450
the animation ends freeze the last frame

00:23:21,139 --> 00:23:24,710
and just show me that I don't want you

00:23:23,450 --> 00:23:26,059
to snap back to the beginning I don't

00:23:24,710 --> 00:23:27,769
want you to do anything just show me the

00:23:26,059 --> 00:23:29,360
last frame and you don't even need a

00:23:27,769 --> 00:23:30,889
separate property because it's part of

00:23:29,360 --> 00:23:36,830
the animation shorthand so you can just

00:23:30,889 --> 00:23:39,429
add it here so let's go back to our pie

00:23:36,830 --> 00:23:39,429
chart here

00:23:40,160 --> 00:23:44,400
let and let's convert it to use

00:23:42,450 --> 00:23:47,250
animation delay first we remove the

00:23:44,400 --> 00:23:48,450
infinite iterations because we don't

00:23:47,250 --> 00:23:50,610
need that anymore we'll just be

00:23:48,450 --> 00:23:52,110
statically going through it we do need

00:23:50,610 --> 00:23:56,039
to add two iterations here because its

00:23:52,110 --> 00:24:01,980
duration is half and then we add

00:23:56,039 --> 00:24:03,450
forwards to both of them or actually

00:24:01,980 --> 00:24:07,950
it's probably best to do a separate

00:24:03,450 --> 00:24:08,460
declaration here just so that we don't

00:24:07,950 --> 00:24:21,330
repeat it

00:24:08,460 --> 00:24:23,640
remember dry and animation delay let's

00:24:21,330 --> 00:24:25,230
ah let's make this a hundred so that we

00:24:23,640 --> 00:24:26,700
actually have numbers that could do

00:24:25,230 --> 00:24:28,549
correspond to percentages since the

00:24:26,700 --> 00:24:33,270
durations don't really matter anymore

00:24:28,549 --> 00:24:34,950
and our animation play state as well

00:24:33,270 --> 00:24:38,179
because right now you see it's playing

00:24:34,950 --> 00:24:42,210
it's very slow but it's still playing

00:24:38,179 --> 00:24:45,500
let's pause it let's set a delay of say

00:24:42,210 --> 00:24:49,559
minus ten seconds and let's reapply it

00:24:45,500 --> 00:24:55,020
yes this is ten seconds we want to show

00:24:49,559 --> 00:24:57,809
20 percent yes this is 20 percent 30

00:24:55,020 --> 00:25:03,900
percent and so on we can just set the

00:24:57,809 --> 00:25:07,740
percentage by changing one number and it

00:25:03,900 --> 00:25:10,409
works even at a hundred percent so this

00:25:07,740 --> 00:25:13,010
is already a huge improvement you might

00:25:10,409 --> 00:25:13,010
be thinking though

00:25:18,240 --> 00:25:23,260
thank you you might be thinking though

00:25:20,980 --> 00:25:24,820
this is inside the pseudo-element we

00:25:23,260 --> 00:25:27,160
can't set inline styles and pseudo

00:25:24,820 --> 00:25:29,049
elements so okay you made it changeable

00:25:27,160 --> 00:25:32,429
by one property but what good does it do

00:25:29,049 --> 00:25:35,260
may still can set it by a JavaScript but

00:25:32,429 --> 00:25:39,040
we don't have an animation on the main

00:25:35,260 --> 00:25:43,690
element do we so animation delay on the

00:25:39,040 --> 00:25:47,920
main element won't do anything right so

00:25:43,690 --> 00:25:50,080
I can just inherit it here and then I

00:25:47,920 --> 00:25:53,040
can set it on the main element and this

00:25:50,080 --> 00:25:53,040
could be an inline style

00:26:00,549 --> 00:26:08,150
thank you so rotated pseudo-element

00:26:05,120 --> 00:26:10,520
one cut one edit to change the color one

00:26:08,150 --> 00:26:11,990
to two edits this change the size one

00:26:10,520 --> 00:26:14,120
edit to change the value that's the big

00:26:11,990 --> 00:26:17,299
improvement here and we can set it in

00:26:14,120 --> 00:26:19,460
line very big improvement it doesn't use

00:26:17,299 --> 00:26:23,210
any extra elements still has a lot of

00:26:19,460 --> 00:26:26,150
code somewhat less hacky but still can

00:26:23,210 --> 00:26:29,140
affordable you can't have multiple

00:26:26,150 --> 00:26:32,330
segments that's a pretty big limitation

00:26:29,140 --> 00:26:34,640
because you know pie charts often used I

00:26:32,330 --> 00:26:36,230
often show multiple percentages it is

00:26:34,640 --> 00:26:39,230
possible to animate we've already seen

00:26:36,230 --> 00:26:40,940
it we can't really do any effects due to

00:26:39,230 --> 00:26:43,400
how it works and this whole happiness of

00:26:40,940 --> 00:26:45,260
like uncovering half of the circle know

00:26:43,400 --> 00:26:47,330
that maybe we can do a few limited

00:26:45,260 --> 00:26:51,380
effects but not really so overall it's

00:26:47,330 --> 00:26:58,450
not really that great so can we do

00:26:51,380 --> 00:26:58,450
better how

00:26:59,789 --> 00:27:08,409
well we could use SVG and the reason SVG

00:27:06,220 --> 00:27:10,570
the thought of using SVG on this would

00:27:08,409 --> 00:27:12,399
give most people shivers is because most

00:27:10,570 --> 00:27:16,179
people would think of doing pie charts

00:27:12,399 --> 00:27:18,760
by this way very little CSS and a path

00:27:16,179 --> 00:27:20,710
with very weird numbers you can see this

00:27:18,760 --> 00:27:23,679
path syntax what does it do how does it

00:27:20,710 --> 00:27:26,559
work how many people here can understand

00:27:23,679 --> 00:27:31,360
what all these numbers here do yeah only

00:27:26,559 --> 00:27:34,240
the person who created SVG I can

00:27:31,360 --> 00:27:38,320
actually tell you what they do the first

00:27:34,240 --> 00:27:41,470
command moves it to 50/50 the the point

00:27:38,320 --> 00:27:44,830
50 horizontally and C and 0 vertically

00:27:41,470 --> 00:27:47,590
and then it draws an arc with the 50 50

00:27:44,830 --> 00:27:50,620
the point 50 comma 50 is its center this

00:27:47,590 --> 00:27:53,350
one and it throws an arc with a radius

00:27:50,620 --> 00:27:55,659
of 50 to this point which is 40 point 80

00:27:53,350 --> 00:27:58,929
on the coordinate system of the SVG

00:27:55,659 --> 00:28:00,820
which have defined in the view box okay

00:27:58,929 --> 00:28:02,289
and how do I figure out what point I

00:28:00,820 --> 00:28:05,110
want how do I figure out what the end

00:28:02,289 --> 00:28:06,580
point of the path should be for dica my

00:28:05,110 --> 00:28:08,260
idea okay that makes sense because I

00:28:06,580 --> 00:28:11,950
actually wanted to show a percentage of

00:28:08,260 --> 00:28:13,510
like 30 something percent how do you

00:28:11,950 --> 00:28:15,760
figure out these numbers I have to do a

00:28:13,510 --> 00:28:20,490
lot of trigonometry and I would really

00:28:15,760 --> 00:28:25,630
rather not is there any better solution

00:28:20,490 --> 00:28:28,120
there is of course so here's an SV

00:28:25,630 --> 00:28:29,889
here's another SVG it's it's an it's an

00:28:28,120 --> 00:28:32,529
HTML element as well it's an inline SVG

00:28:29,889 --> 00:28:35,919
so it has a class of Pi I've divided

00:28:32,529 --> 00:28:37,690
defined its units as 64 width and 64

00:28:35,919 --> 00:28:39,460
height you'll see soon why this weird

00:28:37,690 --> 00:28:43,240
number it just makes some calculations

00:28:39,460 --> 00:28:46,360
easier and it has a circle with 25% its

00:28:43,240 --> 00:28:52,090
radius so what can we do with this per

00:28:46,360 --> 00:28:55,149
circle we can style it with CSS we can

00:28:52,090 --> 00:28:59,799
give it a stroke yeah the SVG version of

00:28:55,149 --> 00:29:01,210
CSS is a little different we can cancel

00:28:59,799 --> 00:29:05,710
its fill so that we don't have this

00:29:01,210 --> 00:29:11,320
horrible none this horrible black we can

00:29:05,710 --> 00:29:13,230
set stroke width and one is the default

00:29:11,320 --> 00:29:16,629
where we can make it thicker

00:29:13,230 --> 00:29:21,249
and there's also another property called

00:29:16,629 --> 00:29:24,820
store stroke dezirae which lets us do

00:29:21,249 --> 00:29:31,899
custom dashed borders in CSS this sets

00:29:24,820 --> 00:29:35,320
the dash width this sets the dash gap so

00:29:31,899 --> 00:29:37,600
you can do some pretty trippy things if

00:29:35,320 --> 00:29:41,499
you increase the stroke as much as the

00:29:37,600 --> 00:29:45,519
radius so that there's no circle and

00:29:41,499 --> 00:29:48,940
just stroke oh and let's give it a

00:29:45,519 --> 00:29:50,590
background because remember this points

00:29:48,940 --> 00:29:52,840
to the SVG element which is just another

00:29:50,590 --> 00:29:55,960
HTML element so you can give it normal

00:29:52,840 --> 00:30:02,590
CSS properties like background or border

00:29:55,960 --> 00:30:05,559
radius so we can do some pretty cool

00:30:02,590 --> 00:30:07,869
stuff but okay let's not get distracted

00:30:05,559 --> 00:30:09,340
because that's rays cool let's remember

00:30:07,869 --> 00:30:13,990
we were trying to do pie charts

00:30:09,340 --> 00:30:18,340
how do pie charts relate to this well I

00:30:13,990 --> 00:30:20,259
could increase my gap a lot like

00:30:18,340 --> 00:30:23,470
seriously a lot like as much as the

00:30:20,259 --> 00:30:24,970
circumference of the circle and well I

00:30:23,470 --> 00:30:26,590
could just do this by trial and error

00:30:24,970 --> 00:30:29,110
I'll could just calculate what the

00:30:26,590 --> 00:30:31,419
circumference is this is where these

00:30:29,110 --> 00:30:34,690
weird numbers come in so my radius is

00:30:31,419 --> 00:30:41,860
25% of what of 64 because that's my view

00:30:34,690 --> 00:30:43,360
box so 25% of 64 and then remember

00:30:41,860 --> 00:30:46,450
what's the formula for the circumference

00:30:43,360 --> 00:30:48,429
of the circle two times pi times R we

00:30:46,450 --> 00:30:50,919
have the R we need to multiply by 2 and

00:30:48,429 --> 00:30:53,139
pi so this is our sin cumference a

00:30:50,919 --> 00:30:59,379
little over a hundred and why is this

00:30:53,139 --> 00:31:02,049
convenient because then as long as we

00:30:59,379 --> 00:31:04,629
set the the gap width to be as much as

00:31:02,049 --> 00:31:06,340
the circumference the dash width

00:31:04,629 --> 00:31:09,669
basically corresponds to the percentage

00:31:06,340 --> 00:31:11,409
we want to show in our pie so we can set

00:31:09,669 --> 00:31:13,389
any percentage we want with just this

00:31:11,409 --> 00:31:15,029
one property it corresponds to the

00:31:13,389 --> 00:31:17,049
percentage were actually trying to show

00:31:15,029 --> 00:31:18,549
okay I know what you're thinking it

00:31:17,049 --> 00:31:21,190
doesn't have the right orientation let's

00:31:18,549 --> 00:31:26,909
fix that remember we can play regular

00:31:21,190 --> 00:31:32,230
CSS properties here so let's do - okay

00:31:26,909 --> 00:31:35,460
and there we can show any percentage we

00:31:32,230 --> 00:31:43,389
want just by adjusting this one number

00:31:35,460 --> 00:31:45,549
can we animate hell yeah yeah I'm not

00:31:43,389 --> 00:31:53,409
very good with names as you as you might

00:31:45,549 --> 00:31:56,039
have noticed just foo and let's make

00:31:53,409 --> 00:31:56,039
this zero

00:32:02,170 --> 00:32:08,630
so there's our animation just one line

00:32:05,780 --> 00:32:11,650
one simple animation one line two it's

00:32:08,630 --> 00:32:11,650
basically as simple as it gets

00:32:19,440 --> 00:32:26,649
and you can have multiple segments here

00:32:23,229 --> 00:32:28,419
here's how I've used attributes here you

00:32:26,649 --> 00:32:29,859
don't have to use attributes I've just

00:32:28,419 --> 00:32:32,859
used them so I can have my whole thing

00:32:29,859 --> 00:32:34,690
in one place SVG has these weird inline

00:32:32,859 --> 00:32:36,129
Styles that are basically attributes but

00:32:34,690 --> 00:32:37,869
they're different from inline Styles so

00:32:36,129 --> 00:32:39,820
it has both it has inline Styles as well

00:32:37,869 --> 00:32:41,469
and it has attributes attributes have

00:32:39,820 --> 00:32:43,059
zero specificity so they're kind of like

00:32:41,469 --> 00:32:46,779
the opposite of inline Styles if I apply

00:32:43,059 --> 00:32:50,319
any CSS to this it's a the it overrides

00:32:46,779 --> 00:32:52,359
the attributes but for all intents and

00:32:50,319 --> 00:32:55,599
purposes in this case they treat Emma's

00:32:52,359 --> 00:32:57,849
properties so you can just use - offset

00:32:55,599 --> 00:32:59,829
if you want to have multiple segments

00:32:57,849 --> 00:33:01,719
you can just add another circle give it

00:32:59,829 --> 00:33:03,429
an offset so that it doesn't cover the

00:33:01,719 --> 00:33:05,379
other one and you can have as many

00:33:03,429 --> 00:33:07,479
segments as you want this is actually a

00:33:05,379 --> 00:33:08,949
real pie chart you can see that most of

00:33:07,479 --> 00:33:11,999
the CSS working group is member

00:33:08,949 --> 00:33:14,079
companies like browsers basically so

00:33:11,999 --> 00:33:16,059
next time somebody tells you that

00:33:14,079 --> 00:33:18,219
browsers just have to implement whatever

00:33:16,059 --> 00:33:23,559
standards w3c Springs on them you know

00:33:18,219 --> 00:33:26,109
you know better flexibility we can

00:33:23,559 --> 00:33:27,489
change the colors in with one edit we

00:33:26,109 --> 00:33:30,579
can say is that we can change the size

00:33:27,489 --> 00:33:33,759
within to edit we will probably make it

00:33:30,579 --> 00:33:35,769
with one as well if we really try one

00:33:33,759 --> 00:33:38,799
edit for the value we can set the value

00:33:35,769 --> 00:33:41,259
in line yes we do need extra elements

00:33:38,799 --> 00:33:45,549
but we can just write a short JavaScript

00:33:41,259 --> 00:33:47,079
script to add these seven declarations

00:33:45,549 --> 00:33:50,979
only it's the shortest solution we've

00:33:47,079 --> 00:33:52,719
seen so far it's pretty straightforward

00:33:50,979 --> 00:33:55,539
by the way if you're wondering about

00:33:52,719 --> 00:33:57,429
accessibility any SVG element can have a

00:33:55,539 --> 00:33:59,619
tight little child so you can just have

00:33:57,429 --> 00:34:02,829
a title element inside it and all the

00:33:59,619 --> 00:34:04,989
content you want multiple values are

00:34:02,829 --> 00:34:07,299
possible it's easy to animate we've seen

00:34:04,989 --> 00:34:09,159
it effects are possible don't mess it

00:34:07,299 --> 00:34:12,909
because you have to use SVG syntax for

00:34:09,159 --> 00:34:14,950
adding safe gradients or patterns and

00:34:12,909 --> 00:34:16,529
it's not a great syntax but it's

00:34:14,950 --> 00:34:20,319
possible

00:34:16,529 --> 00:34:24,399
so overall the SVG stroke - array method

00:34:20,319 --> 00:34:29,009
is pretty much beats both as which CSS

00:34:24,399 --> 00:34:29,009
methods we've seen can we do better

00:34:30,840 --> 00:34:35,650
so here's their night another idea how

00:34:34,120 --> 00:34:39,370
many of you have heard about conic

00:34:35,650 --> 00:34:40,870
gradients how many of you have heard

00:34:39,370 --> 00:34:47,830
about Kony gradients in the context of

00:34:40,870 --> 00:34:50,220
CSS cool nice so this is a conic

00:34:47,830 --> 00:34:50,220
gradient

00:34:53,820 --> 00:35:02,830
basically it's a ray changing color and

00:34:57,850 --> 00:35:04,240
rotating around a fixed center point the

00:35:02,830 --> 00:35:06,120
gradient I'm making right now has

00:35:04,240 --> 00:35:14,560
nothing to do with pie charts

00:35:06,120 --> 00:35:17,200
it's just a cool gradient it's basically

00:35:14,560 --> 00:35:19,650
the hue wheel that you see on all color

00:35:17,200 --> 00:35:19,650
Pickers

00:35:30,420 --> 00:35:36,599
we would be able to do it with a conic

00:35:32,579 --> 00:35:39,869
gradient and okay let's not get

00:35:36,599 --> 00:35:44,220
distracted pie charts pie charts so how

00:35:39,869 --> 00:35:49,700
do these help us do pie charts well we

00:35:44,220 --> 00:35:56,510
can just have a conic gradient like this

00:35:49,700 --> 00:35:59,039
with two stops there it is

00:35:56,510 --> 00:36:00,660
remember zero is equal to thirty percent

00:35:59,039 --> 00:36:02,670
but so that we can change the

00:36:00,660 --> 00:36:05,640
percentages one place so yeah basically

00:36:02,670 --> 00:36:09,150
it's one line of code and we can show

00:36:05,640 --> 00:36:13,220
all the percentages we want just with

00:36:09,150 --> 00:36:13,220
this one line do we

00:36:18,190 --> 00:36:30,380
thank you and what if we want multiple

00:36:22,580 --> 00:36:32,930
segments well easy-peasy there you go

00:36:30,380 --> 00:36:35,960
that's not a great percentage let's do

00:36:32,930 --> 00:36:37,910
something nicer yeah all right 60 yeah

00:36:35,960 --> 00:36:39,920
that looks better so there you can have

00:36:37,910 --> 00:36:44,270
as many segments as you want still one

00:36:39,920 --> 00:36:47,300
line of code and that spec is in CSS

00:36:44,270 --> 00:36:49,640
images level four and actually it has

00:36:47,300 --> 00:36:53,770
many nice examples it has the pie chart

00:36:49,640 --> 00:36:56,780
as an example I made sure I I added this

00:36:53,770 --> 00:36:58,970
so I made sure to include that you can

00:36:56,780 --> 00:37:01,640
even have repeating gradients which may

00:36:58,970 --> 00:37:07,630
likely do starbursts you contribute

00:37:01,640 --> 00:37:10,820
checker boards with conic gradients so

00:37:07,630 --> 00:37:14,360
let's evaluate this solution flexibility

00:37:10,820 --> 00:37:16,580
wise wanted to change the colors one

00:37:14,360 --> 00:37:18,590
edit to change the size wanted to change

00:37:16,580 --> 00:37:20,810
the value we can set it in line you can

00:37:18,590 --> 00:37:23,390
just set the gradient no extra elements

00:37:20,810 --> 00:37:26,060
only three declarations the other two of

00:37:23,390 --> 00:37:29,900
which are border radius and padding very

00:37:26,060 --> 00:37:32,360
straightforward just one line multiple

00:37:29,900 --> 00:37:34,250
values are possible super easy to

00:37:32,360 --> 00:37:36,590
animate just animate the colors top

00:37:34,250 --> 00:37:38,480
position some effects are possible you

00:37:36,590 --> 00:37:40,130
can just instead of doing the same color

00:37:38,480 --> 00:37:43,130
stop just do two and then you can have a

00:37:40,130 --> 00:37:44,030
small gradient okay that's sort of a bad

00:37:43,130 --> 00:37:46,030
thing about it

00:37:44,030 --> 00:37:51,130
the effects are difficult but still

00:37:46,030 --> 00:37:51,130
overall it's a pretty awesome solution

00:37:51,880 --> 00:37:58,930
except one little thing this is the

00:37:56,240 --> 00:37:58,930
browser support

00:38:02,460 --> 00:38:10,660
yeah come on come on browsers please

00:38:08,279 --> 00:38:13,059
especially Microsoft can implement it

00:38:10,660 --> 00:38:14,440
more easily than any others and actually

00:38:13,059 --> 00:38:16,210
Microsoft has put it on the backlog

00:38:14,440 --> 00:38:18,549
which means they are actually actively

00:38:16,210 --> 00:38:21,549
interested in their planning to work on

00:38:18,549 --> 00:38:24,279
it and you know how it works once one

00:38:21,549 --> 00:38:27,910
browsers it implements it the others

00:38:24,279 --> 00:38:30,940
follow here's you where you come in

00:38:27,910 --> 00:38:33,730
actually many developers think that

00:38:30,940 --> 00:38:37,869
browsers decide what to implement in a

00:38:33,730 --> 00:38:40,210
vacuum and it doesn't matter what

00:38:37,869 --> 00:38:43,119
developers want what developers want is

00:38:40,210 --> 00:38:45,190
the primary motivation for prioritizing

00:38:43,119 --> 00:38:46,900
what to implement sure if developers

00:38:45,190 --> 00:38:48,490
want something that's super difficult to

00:38:46,900 --> 00:38:50,710
implement like a parent selected like

00:38:48,490 --> 00:38:52,299
the parent selector yeah that's that's

00:38:50,710 --> 00:38:55,750
more difficult to get browsers to do to

00:38:52,299 --> 00:38:59,589
do it but in general browsers have teams

00:38:55,750 --> 00:39:02,500
that whose entire jobs are to monitor

00:38:59,589 --> 00:39:04,359
what developers want every browser maybe

00:39:02,500 --> 00:39:07,660
except Apple because Apple doesn't

00:39:04,359 --> 00:39:10,569
really care but every browser has a

00:39:07,660 --> 00:39:12,190
developer relations team which whose

00:39:10,569 --> 00:39:13,900
main purpose is to connect with

00:39:12,190 --> 00:39:15,519
developers see what they want bring it

00:39:13,900 --> 00:39:18,970
back to the browser so where do you

00:39:15,519 --> 00:39:21,160
where do you come in you can you can

00:39:18,970 --> 00:39:23,140
tweet about it you can vote on

00:39:21,160 --> 00:39:24,369
Microsoft's user voice which actually

00:39:23,140 --> 00:39:26,950
all the browser's follow it not just

00:39:24,369 --> 00:39:28,269
Microsoft you can vote on the bugs if

00:39:26,950 --> 00:39:30,339
you have anything useful to add you

00:39:28,269 --> 00:39:31,900
cannot comment on the bug reports there

00:39:30,339 --> 00:39:35,259
are bug reports on with every major

00:39:31,900 --> 00:39:36,910
browser on this your voice matters as

00:39:35,259 --> 00:39:39,039
long as you make as long as you make

00:39:36,910 --> 00:39:40,690
sure that you're heard it matters and

00:39:39,039 --> 00:39:42,940
you can make browsers implement what

00:39:40,690 --> 00:39:44,500
matters to you and that doesn't just

00:39:42,940 --> 00:39:46,450
apply to connect gradients it applies to

00:39:44,500 --> 00:39:55,150
anything it's like the closest thing we

00:39:46,450 --> 00:39:58,630
have to direct democracy so the other

00:39:55,150 --> 00:40:00,339
thing is okay like I've just said no

00:39:58,630 --> 00:40:04,059
browser implements connect gradients so

00:40:00,339 --> 00:40:05,619
what was I showing you right now I mean

00:40:04,059 --> 00:40:10,599
have you've seen that my slides are

00:40:05,619 --> 00:40:11,950
basically an HTML page in chrome so what

00:40:10,599 --> 00:40:15,250
was I showing

00:40:11,950 --> 00:40:18,760
what is this so I've actually made and

00:40:15,250 --> 00:40:21,580
released a polyfill it's on this address

00:40:18,760 --> 00:40:23,770
don't get hub and there's even it works

00:40:21,580 --> 00:40:27,970
with prefix-free but there's also a post

00:40:23,770 --> 00:40:30,100
CSS plugin we're using the same code you

00:40:27,970 --> 00:40:32,920
can you don't you can play with it

00:40:30,100 --> 00:40:36,070
directly on the page these are live okay

00:40:32,920 --> 00:40:38,080
that's a bad choice these are live you

00:40:36,070 --> 00:40:43,240
can edit them right there if you want to

00:40:38,080 --> 00:40:46,060
experiment with conic gradients so after

00:40:43,240 --> 00:40:48,520
spending 40 something minutes telling

00:40:46,060 --> 00:40:53,920
you how to make pie charts I actually

00:40:48,520 --> 00:41:00,630
pie charts a good idea how many here

00:40:53,920 --> 00:41:04,000
have heard of Edward Tufte he's like the

00:41:00,630 --> 00:41:05,590
information visualization master he is a

00:41:04,000 --> 00:41:07,300
very big name in information

00:41:05,590 --> 00:41:10,240
visualization he's written tons of books

00:41:07,300 --> 00:41:12,100
he runs tons of workshops so one of the

00:41:10,240 --> 00:41:14,100
things he's often quoted as saying he

00:41:12,100 --> 00:41:16,660
wrote it this way in one of his books a

00:41:14,100 --> 00:41:19,450
table is nearly always better than a

00:41:16,660 --> 00:41:23,110
dumb pie chart the only worse design

00:41:19,450 --> 00:41:24,580
than a pie chart is several of them for

00:41:23,110 --> 00:41:26,680
then the viewer is asked to compare

00:41:24,580 --> 00:41:29,260
quantities located in spite in spatial

00:41:26,680 --> 00:41:32,100
disarray I will explain what this means

00:41:29,260 --> 00:41:34,840
shortly both within and between pies

00:41:32,100 --> 00:41:36,370
given their low data density and failure

00:41:34,840 --> 00:41:39,250
to order numbers along the visual

00:41:36,370 --> 00:41:45,580
dimension pie charts should never be

00:41:39,250 --> 00:41:47,500
used okay he does have a point he's not

00:41:45,580 --> 00:41:49,720
always right he's not right in every

00:41:47,500 --> 00:41:51,580
case there are several exceptions but he

00:41:49,720 --> 00:41:54,850
does have a point look at this pie chart

00:41:51,580 --> 00:41:58,240
which slice is bigger which slice is

00:41:54,850 --> 00:42:01,420
smaller can you rank can you order them

00:41:58,240 --> 00:42:05,760
based on an order of which percentages

00:42:01,420 --> 00:42:05,760
in an in order of size of percentage

00:42:05,880 --> 00:42:10,600
they're very similar right it's hard to

00:42:08,110 --> 00:42:12,010
do it with a bar chart you can instantly

00:42:10,600 --> 00:42:15,790
see that they're actually the same and

00:42:12,010 --> 00:42:17,500
I've been trolling you all along what

00:42:15,790 --> 00:42:20,020
about this one which one's smaller which

00:42:17,500 --> 00:42:23,170
one's bigger it's kind of hard to tell

00:42:20,020 --> 00:42:27,790
with a bar chart you can we can do it

00:42:23,170 --> 00:42:30,190
instantly well yes this applies when you

00:42:27,790 --> 00:42:32,560
have a pie chart of multiple percentages

00:42:30,190 --> 00:42:34,540
very close to each other when you want

00:42:32,560 --> 00:42:36,280
to show a trend pie charts are great

00:42:34,540 --> 00:42:38,980
when you only want to show two

00:42:36,280 --> 00:42:40,990
percentages maybe three and they're not

00:42:38,980 --> 00:42:43,030
that close together but you want to show

00:42:40,990 --> 00:42:46,060
a trend pie charts can be a good idea

00:42:43,030 --> 00:42:47,860
and in some cases pie charts shine if

00:42:46,060 --> 00:42:49,300
you want to show whether it's if the

00:42:47,860 --> 00:42:52,600
important bit is whether something is

00:42:49,300 --> 00:42:54,490
lower or higher than 50% this is much

00:42:52,600 --> 00:43:07,330
easier to show with a pie chart than it

00:42:54,490 --> 00:43:09,820
is with a bar chart however does it

00:43:07,330 --> 00:43:13,360
really matter this top was never really

00:43:09,820 --> 00:43:15,540
about pie charts right thank you very

00:43:13,360 --> 00:43:15,540

YouTube URL: https://www.youtube.com/watch?v=eVnUDTtOLE0


