Title: JSConf 2015   Gord Tanner
Publication date: 2015-06-17
Playlist: JSConf US 2015
Description: 
	
Captions: 
	00:00:14,280 --> 00:00:22,060
anything one evening I'm getting a

00:00:17,380 --> 00:00:25,390
little head of myself so quickly of

00:00:22,060 --> 00:00:29,650
course react ISM our reveal jazz always

00:00:25,390 --> 00:00:31,810
messes up for me here we are so like

00:00:29,650 --> 00:00:36,040
Ryan said my name is Gor tanner I am the

00:00:31,810 --> 00:00:38,800
co-founder and CTO at bit hound so last

00:00:36,040 --> 00:00:43,329
year I gave a talk in track be I was the

00:00:38,800 --> 00:00:45,670
only person to release a religion called

00:00:43,329 --> 00:00:47,289
for ism on my talk on distributed

00:00:45,670 --> 00:00:49,059
computing so this year I'm going to talk

00:00:47,289 --> 00:00:51,250
a little bit more about something that's

00:00:49,059 --> 00:00:53,800
a little closer to what I care about a

00:00:51,250 --> 00:00:56,760
bit count what we do a bit hound we

00:00:53,800 --> 00:00:58,420
analyze code to look for quality and

00:00:56,760 --> 00:01:01,149
maintainability and it's trying to

00:00:58,420 --> 00:01:05,259
figure out what objectively and suitably

00:01:01,149 --> 00:01:09,130
is good code so um what I'm going to

00:01:05,259 --> 00:01:13,270
talk something that happened at our

00:01:09,130 --> 00:01:15,880
company is the concept of adding new

00:01:13,270 --> 00:01:19,240
people we had a we had two new

00:01:15,880 --> 00:01:21,399
developers coming on board and their

00:01:19,240 --> 00:01:24,670
same day and we are doing our kind of

00:01:21,399 --> 00:01:27,729
intro that first for our kind of chunk

00:01:24,670 --> 00:01:30,160
of the day where I was getting their

00:01:27,729 --> 00:01:32,349
machine set up talking with them giving

00:01:30,160 --> 00:01:35,679
an overall architecture of overview of

00:01:32,349 --> 00:01:38,229
how bit hound works and something kind

00:01:35,679 --> 00:01:40,539
of cool happened that by lunchtime even

00:01:38,229 --> 00:01:42,729
with talking we had both of their

00:01:40,539 --> 00:01:45,640
laptops which were just freshly opened

00:01:42,729 --> 00:01:48,970
at 9am out of the packaging had our

00:01:45,640 --> 00:01:51,009
entire software stock up and running and

00:01:48,970 --> 00:01:52,929
they were comfortable enough that we got

00:01:51,009 --> 00:01:58,149
a couple simple pull requests from them

00:01:52,929 --> 00:02:00,390
within that first like day and it really

00:01:58,149 --> 00:02:03,330
got me thinking about the concept of

00:02:00,390 --> 00:02:06,750
onboarding new people into our projects

00:02:03,330 --> 00:02:09,220
and just that cart like how to bring

00:02:06,750 --> 00:02:11,849
people on board to have them be

00:02:09,220 --> 00:02:16,510
contributing and be productive quickly

00:02:11,849 --> 00:02:18,400
so another thing that um that is

00:02:16,510 --> 00:02:20,590
important is that this I'm going to be

00:02:18,400 --> 00:02:22,269
talking a lot about my experience with

00:02:20,590 --> 00:02:24,400
our clothes source project or our

00:02:22,269 --> 00:02:25,819
application but a lot of this

00:02:24,400 --> 00:02:28,129
information that I'm sharing

00:02:25,819 --> 00:02:31,040
so works in trans files really nicely to

00:02:28,129 --> 00:02:33,170
the the open source community we're in

00:02:31,040 --> 00:02:35,090
an open source community new people

00:02:33,170 --> 00:02:38,329
coming on board of your to your project

00:02:35,090 --> 00:02:40,249
is in a largely asynchronous fashion you

00:02:38,329 --> 00:02:43,000
don't necessarily have interaction with

00:02:40,249 --> 00:02:45,889
someone who finds your project on github

00:02:43,000 --> 00:02:48,019
clones it down reads it and tries to get

00:02:45,889 --> 00:02:51,109
up and running to add add what they feel

00:02:48,019 --> 00:02:53,299
as value to their project so there's a

00:02:51,109 --> 00:02:55,329
little bit more of a upfront cost with

00:02:53,299 --> 00:02:57,919
an open source project versus we're in

00:02:55,329 --> 00:02:59,840
traditional closed source or like a

00:02:57,919 --> 00:03:02,629
company project you have a face-to-face

00:02:59,840 --> 00:03:06,319
or at least an engaged communicate

00:03:02,629 --> 00:03:12,079
dialogue between the yourself and the

00:03:06,319 --> 00:03:15,230
new developers so the key is is as I was

00:03:12,079 --> 00:03:18,079
trying to figure out what exactly the

00:03:15,230 --> 00:03:19,939
topic of this how to convey it the one

00:03:18,079 --> 00:03:21,439
key thing I kept circling around to is I

00:03:19,939 --> 00:03:23,480
was doing the hallway track with

00:03:21,439 --> 00:03:25,010
everyone here and trying to explain when

00:03:23,480 --> 00:03:27,290
they're like what exactly you talking

00:03:25,010 --> 00:03:30,769
about is that nothing what I'm going to

00:03:27,290 --> 00:03:34,340
say is new there's not going to be a

00:03:30,769 --> 00:03:37,819
giant beam of knowledge transferred down

00:03:34,340 --> 00:03:40,009
where I'm going to blow your mind we all

00:03:37,819 --> 00:03:43,519
know this we all have this gut feeling

00:03:40,009 --> 00:03:45,319
of where where our problems are on our

00:03:43,519 --> 00:03:47,509
code base how hard it is get running

00:03:45,319 --> 00:03:51,739
those little gotchas that have tripped

00:03:47,509 --> 00:03:53,629
us up in the past so another thing as I

00:03:51,739 --> 00:03:56,239
was putting together my my slides was

00:03:53,629 --> 00:03:59,750
that there's not a lot of JavaScript in

00:03:56,239 --> 00:04:06,379
it and that was unfortunate but don't

00:03:59,750 --> 00:04:09,530
boo me off the stages yet so welcome to

00:04:06,379 --> 00:04:12,739
the team I want everyone to like close

00:04:09,530 --> 00:04:15,229
your eyes and think about that first day

00:04:12,739 --> 00:04:17,479
on a job that first time pulling down

00:04:15,229 --> 00:04:19,849
the code base to an open source project

00:04:17,479 --> 00:04:21,590
you want to contribute and i'm sure i'm

00:04:19,849 --> 00:04:24,020
going to give you an experience of mine

00:04:21,590 --> 00:04:27,050
i came into a company I that I was

00:04:24,020 --> 00:04:29,060
really psyched about and they kind of

00:04:27,050 --> 00:04:33,440
gave me my computer and they said all

00:04:29,060 --> 00:04:35,750
right set it up here's the wiki for how

00:04:33,440 --> 00:04:38,870
to set it up so i went to the wiki which

00:04:35,750 --> 00:04:39,710
the last edit of this document of new

00:04:38,870 --> 00:04:43,940
developer machine

00:04:39,710 --> 00:04:45,710
setup was about a year ago and I'm going

00:04:43,940 --> 00:04:49,010
through the steps like step one like

00:04:45,710 --> 00:04:51,770
install this version of sequel server or

00:04:49,010 --> 00:04:54,950
whatever it was and no one had that cee

00:04:51,770 --> 00:04:57,740
anymore so I'm downloading the copy and

00:04:54,950 --> 00:05:02,030
you can't find that version it was a

00:04:57,740 --> 00:05:05,360
step upon step of frustration failure

00:05:02,030 --> 00:05:07,490
and just misinformation that it ended up

00:05:05,360 --> 00:05:11,750
it was almost like a week before i even

00:05:07,490 --> 00:05:14,540
had something running and so one of my

00:05:11,750 --> 00:05:17,090
Jobs was during that first day is to

00:05:14,540 --> 00:05:18,800
update that document all those problems

00:05:17,090 --> 00:05:21,380
use you have or you're setting this up

00:05:18,800 --> 00:05:24,260
can you just like add it to the document

00:05:21,380 --> 00:05:27,680
so every company ends up with this

00:05:24,260 --> 00:05:29,780
amazing document written by people with

00:05:27,680 --> 00:05:32,900
about two to four hours of experience

00:05:29,780 --> 00:05:35,840
with the code base on how to set up a

00:05:32,900 --> 00:05:37,580
code base for someone who has 0 to 1

00:05:35,840 --> 00:05:40,280
hour experience with the code base and

00:05:37,580 --> 00:05:43,910
if you were to like think of any piece

00:05:40,280 --> 00:05:47,080
of your project that is as important as

00:05:43,910 --> 00:05:49,400
this that you would give that much

00:05:47,080 --> 00:05:51,710
experience to you you probably want

00:05:49,400 --> 00:05:55,580
someone to like at least has like a day

00:05:51,710 --> 00:06:00,350
and a half experience I mean let's so

00:05:55,580 --> 00:06:04,280
let's go back to the condo like git

00:06:00,350 --> 00:06:07,640
clone your team your project now what

00:06:04,280 --> 00:06:12,620
that is that is the entry point into our

00:06:07,640 --> 00:06:16,180
project and realistically first

00:06:12,620 --> 00:06:18,590
impressions matter so like we're talking

00:06:16,180 --> 00:06:20,480
these are your new these are your new

00:06:18,590 --> 00:06:24,530
evangelists these are your new teammates

00:06:20,480 --> 00:06:26,960
and realistically this experience this

00:06:24,530 --> 00:06:30,770
onboarding experience those that first

00:06:26,960 --> 00:06:32,090
day does set the tone and the context

00:06:30,770 --> 00:06:37,220
for your relationship with that person

00:06:32,090 --> 00:06:38,990
and you cannot do that over again the

00:06:37,220 --> 00:06:41,030
impression that they're going to make

00:06:38,990 --> 00:06:43,280
during setting up your project on your

00:06:41,030 --> 00:06:45,170
first day of your of their job with you

00:06:43,280 --> 00:06:48,020
on their first time trying to contribute

00:06:45,170 --> 00:06:50,600
this is going to set the tone of their

00:06:48,020 --> 00:06:53,390
perceived quality of your of your code

00:06:50,600 --> 00:06:53,689
and something that we always seem to

00:06:53,390 --> 00:06:56,059
forget

00:06:53,689 --> 00:06:57,619
at about when when we're at brings

00:06:56,059 --> 00:07:01,489
League like this is these are usually a

00:06:57,619 --> 00:07:03,259
new machine or a machine that has isn't

00:07:01,489 --> 00:07:05,479
configured exactly like everyone else

00:07:03,259 --> 00:07:08,929
has been working on this project for six

00:07:05,479 --> 00:07:10,819
seven months or a year or so and the key

00:07:08,929 --> 00:07:14,119
is we want to set we want to set people

00:07:10,819 --> 00:07:16,219
up for success we want to want to set

00:07:14,119 --> 00:07:17,629
them on the right direction we want to

00:07:16,219 --> 00:07:21,009
make sure they don't find those little

00:07:17,629 --> 00:07:24,409
caveats we want to guide them into

00:07:21,009 --> 00:07:26,149
helping us because new people that's

00:07:24,409 --> 00:07:28,189
what you want you didn't join the

00:07:26,149 --> 00:07:30,259
company because you thought it was

00:07:28,189 --> 00:07:31,639
horrible he didn't want to contribute to

00:07:30,259 --> 00:07:34,849
this project because you didn't believe

00:07:31,639 --> 00:07:37,099
in its goals so there's an enthusiasm

00:07:34,849 --> 00:07:41,409
there that you want to keep and foster

00:07:37,099 --> 00:07:44,989
into active in worthwhile contributions

00:07:41,409 --> 00:07:49,969
so the first thing I'm going to talk

00:07:44,989 --> 00:07:54,909
about is documentation I'll wait for you

00:07:49,969 --> 00:07:58,999
to leave documentation not not a really

00:07:54,909 --> 00:08:02,749
exciting topic but extremely extremely

00:07:58,999 --> 00:08:06,289
important and something that happened in

00:08:02,749 --> 00:08:08,689
the kind of github the the bit bucket

00:08:06,289 --> 00:08:10,909
the newer the newer code hosting

00:08:08,689 --> 00:08:13,459
platforms that was really subtle but

00:08:10,909 --> 00:08:18,289
actually a really awesome transition is

00:08:13,459 --> 00:08:20,300
that the readme file became front and

00:08:18,289 --> 00:08:21,829
prevalent on the first page we all

00:08:20,300 --> 00:08:24,469
remember back to our older source

00:08:21,829 --> 00:08:26,269
control systems whether online there

00:08:24,469 --> 00:08:28,909
were some documentation but it was

00:08:26,269 --> 00:08:31,819
always hidden in a folder or is on a

00:08:28,909 --> 00:08:34,399
wiki or somewhere but now at least with

00:08:31,819 --> 00:08:36,500
with github with bitbucket with some of

00:08:34,399 --> 00:08:38,990
the with all these online but the readme

00:08:36,500 --> 00:08:43,219
is there front and center and that is

00:08:38,990 --> 00:08:45,259
your entry point into working with these

00:08:43,219 --> 00:08:48,019
new developers so if you're an

00:08:45,259 --> 00:08:50,389
open-source developer and you're open

00:08:48,019 --> 00:08:53,569
source project usually read mia's kind

00:08:50,389 --> 00:08:56,870
of the how to install it as a user how

00:08:53,569 --> 00:09:00,220
to use this API but don't forget that

00:08:56,870 --> 00:09:02,209
you have the other half going in as

00:09:00,220 --> 00:09:05,240
contributors and that's where the

00:09:02,209 --> 00:09:07,340
concept of hacking file or contributing

00:09:05,240 --> 00:09:10,610
but at least link

00:09:07,340 --> 00:09:12,770
to it from you read meat because it's

00:09:10,610 --> 00:09:17,510
you want to contribute us the healthy

00:09:12,770 --> 00:09:20,000
metric of a successful project now this

00:09:17,510 --> 00:09:23,090
is where I sorted the verge a little bit

00:09:20,000 --> 00:09:27,320
from open source to close source so one

00:09:23,090 --> 00:09:30,140
of my favorite slides love Flashdance so

00:09:27,320 --> 00:09:32,320
the whiteboard session that first few

00:09:30,140 --> 00:09:37,310
hours sitting down this is where

00:09:32,320 --> 00:09:39,320
documentation and experience really kind

00:09:37,310 --> 00:09:41,240
of diverge we all have those idea of

00:09:39,320 --> 00:09:43,850
that mental map of our system those

00:09:41,240 --> 00:09:47,330
little boxes we draw every time the

00:09:43,850 --> 00:09:49,880
arrows going back and forth that's in a

00:09:47,330 --> 00:09:52,640
very important session to have with the

00:09:49,880 --> 00:09:55,550
new contributor to your project can't

00:09:52,640 --> 00:09:57,800
quite do it in an open-source way but at

00:09:55,550 --> 00:10:02,480
in in your environment in your in your

00:09:57,800 --> 00:10:04,300
workplaces having that time to walk them

00:10:02,480 --> 00:10:07,520
over the high level architecture is

00:10:04,300 --> 00:10:10,430
invaluable and I always say for that

00:10:07,520 --> 00:10:13,670
documentation I never want it written

00:10:10,430 --> 00:10:15,410
down in a permanent place because it's

00:10:13,670 --> 00:10:20,840
going to be out of date by the time I'm

00:10:15,410 --> 00:10:25,520
done doing the whiteboard session so so

00:10:20,840 --> 00:10:28,550
next with with where your kind of help

00:10:25,520 --> 00:10:31,520
and documentation go are our command

00:10:28,550 --> 00:10:33,890
lines so at bit hound I have this kind

00:10:31,520 --> 00:10:36,140
of idea where we I kind of throw around

00:10:33,890 --> 00:10:38,650
I call like command line driven

00:10:36,140 --> 00:10:41,750
development I'm a terminal person I love

00:10:38,650 --> 00:10:44,240
building together almost that unix feel

00:10:41,750 --> 00:10:47,810
of smaller tools that chain together to

00:10:44,240 --> 00:10:50,990
do something good and it's very

00:10:47,810 --> 00:10:53,120
important that they are documented so

00:10:50,990 --> 00:10:55,250
you actually find I would show it up

00:10:53,120 --> 00:10:57,730
here but no one in the back would see it

00:10:55,250 --> 00:11:01,460
but like all of our command line tooling

00:10:57,730 --> 00:11:03,350
forbid hound from deploying to adding

00:11:01,460 --> 00:11:05,600
jobs of the queue to checking status of

00:11:03,350 --> 00:11:08,870
servers to provisioning new servers all

00:11:05,600 --> 00:11:11,450
have internal help documentation built

00:11:08,870 --> 00:11:12,770
into them not like like reams of

00:11:11,450 --> 00:11:14,360
documentation but enough that you can at

00:11:12,770 --> 00:11:16,220
least figure out what the command would

00:11:14,360 --> 00:11:20,250
do and the arguments you need to pass to

00:11:16,220 --> 00:11:23,730
it and those all get put into our

00:11:20,250 --> 00:11:25,440
read me and but it's it's actually

00:11:23,730 --> 00:11:28,650
generated from another script that we

00:11:25,440 --> 00:11:30,660
have that has documentation that you can

00:11:28,650 --> 00:11:33,150
just run and it scrapes all of our

00:11:30,660 --> 00:11:35,160
command line tools builds it up throws

00:11:33,150 --> 00:11:36,930
it into the command line markdown

00:11:35,160 --> 00:11:39,750
documents so that people have an idea of

00:11:36,930 --> 00:11:45,210
where commands are and how to use them

00:11:39,750 --> 00:11:47,840
and what is available so next next on

00:11:45,210 --> 00:11:51,420
the last kind of bigger topic of

00:11:47,840 --> 00:11:52,950
documentation is code comments and this

00:11:51,420 --> 00:11:54,810
is this is something where I'm going to

00:11:52,950 --> 00:11:56,370
say things and it might sound like I'm

00:11:54,810 --> 00:11:58,770
incredibly smart but everyone in this

00:11:56,370 --> 00:12:00,450
room knows it and I'm just kind of

00:11:58,770 --> 00:12:02,910
saying what smarter people have told me

00:12:00,450 --> 00:12:06,060
is that there are a couple ways to

00:12:02,910 --> 00:12:09,180
comment your code you can comment what

00:12:06,060 --> 00:12:12,540
your code does or you can comment why

00:12:09,180 --> 00:12:14,280
your code does that and we've all kind

00:12:12,540 --> 00:12:17,640
of seen those comments that kind of

00:12:14,280 --> 00:12:19,320
reference what the code is doing but

00:12:17,640 --> 00:12:25,020
there's a better way to do that and it's

00:12:19,320 --> 00:12:27,000
called code so you you know you can you

00:12:25,020 --> 00:12:29,220
can stop doing that we have its self

00:12:27,000 --> 00:12:31,020
documented least try to name that's

00:12:29,220 --> 00:12:33,600
where naming of your variables naming of

00:12:31,020 --> 00:12:36,750
your functions trying to have an

00:12:33,600 --> 00:12:39,690
expressive form of coding is a much

00:12:36,750 --> 00:12:41,640
better way of documenting in code but

00:12:39,690 --> 00:12:44,400
with that being said what that frees

00:12:41,640 --> 00:12:46,620
your code comments to do is to talk

00:12:44,400 --> 00:12:49,710
about the the part that is really

00:12:46,620 --> 00:12:51,270
missing is the why we can all look at

00:12:49,710 --> 00:12:52,830
code you can kind of look and go okay

00:12:51,270 --> 00:12:55,020
that's a darating over X and blah blah

00:12:52,830 --> 00:12:58,230
blah and then you call off to this

00:12:55,020 --> 00:12:59,700
little section over here but and and I

00:12:58,230 --> 00:13:01,410
new developer coming in will be like oh

00:12:59,700 --> 00:13:02,850
well I don't need to call over there

00:13:01,410 --> 00:13:04,020
that's an efficient and bought and then

00:13:02,850 --> 00:13:06,900
you realize that the only reason you

00:13:04,020 --> 00:13:08,570
were doing that was six months ago that

00:13:06,900 --> 00:13:10,560
like server like how i got over

00:13:08,570 --> 00:13:12,360
overloaded and like let's just like

00:13:10,560 --> 00:13:16,050
throw it off here so we can load balance

00:13:12,360 --> 00:13:18,900
it that informations sometimes lost so

00:13:16,050 --> 00:13:21,900
try to keep those little fugly places of

00:13:18,900 --> 00:13:27,440
your code document it about why it's

00:13:21,900 --> 00:13:32,540
fugly now any talk kind of about this is

00:13:27,440 --> 00:13:34,100
i have i have a new bestie project is

00:13:32,540 --> 00:13:39,230
vagrant

00:13:34,100 --> 00:13:40,970
I can't extol the virtue of this project

00:13:39,230 --> 00:13:43,880
as much if you've heard about it it's

00:13:40,970 --> 00:13:45,949
great if you've used it I'm sorry if you

00:13:43,880 --> 00:13:48,980
used it wrong because it's not a it's

00:13:45,949 --> 00:13:51,529
not a welcoming project you're going to

00:13:48,980 --> 00:13:53,420
have people like me kind of tell you

00:13:51,529 --> 00:13:56,089
about in your me like this is amazing

00:13:53,420 --> 00:13:59,300
and you're going to start using it and

00:13:56,089 --> 00:14:02,589
it's not going to feel amazing and what

00:13:59,300 --> 00:14:05,149
vagrant does it gives you easy to script

00:14:02,589 --> 00:14:07,100
virtualized environments for your

00:14:05,149 --> 00:14:11,389
development environment so rather than

00:14:07,100 --> 00:14:14,259
having your laptop or your desktop or

00:14:11,389 --> 00:14:16,790
whatever operating system whatever like

00:14:14,259 --> 00:14:18,680
permutation you have bad ground allows

00:14:16,790 --> 00:14:21,160
you to have a standardized virtual

00:14:18,680 --> 00:14:23,779
environment that your code is hosted in

00:14:21,160 --> 00:14:26,170
and something that actually happened

00:14:23,779 --> 00:14:29,389
that bit hound that was really

00:14:26,170 --> 00:14:32,089
interesting was we we do a very largely

00:14:29,389 --> 00:14:33,680
distributed platform so all of our code

00:14:32,089 --> 00:14:36,589
that gets analyzed as we're processing

00:14:33,680 --> 00:14:39,829
your code gets sent out to a bunch of

00:14:36,589 --> 00:14:42,110
worker machines and handled and messaged

00:14:39,829 --> 00:14:44,480
back and forth um and we were working on

00:14:42,110 --> 00:14:47,630
this for a while before we launched at

00:14:44,480 --> 00:14:50,089
last ge'ez comp and i was working it on

00:14:47,630 --> 00:14:51,709
my laptop and then we deployed it and we

00:14:50,089 --> 00:14:53,480
came here like hey let's start letting

00:14:51,709 --> 00:14:56,889
people on and I realized very quickly

00:14:53,480 --> 00:14:59,630
that what works well on one machine

00:14:56,889 --> 00:15:01,480
doesn't necessarily work the same when

00:14:59,630 --> 00:15:04,040
there's two three four hundred machines

00:15:01,480 --> 00:15:05,959
so some of those assumptions that I made

00:15:04,040 --> 00:15:09,439
in my configuration when I'm working

00:15:05,959 --> 00:15:10,939
here didn't quite scale when I was

00:15:09,439 --> 00:15:13,060
working in the distributed environment

00:15:10,939 --> 00:15:15,980
so what this allowed me to do was

00:15:13,060 --> 00:15:18,380
virtualize a mini version of what

00:15:15,980 --> 00:15:20,449
production is down to the exact

00:15:18,380 --> 00:15:22,730
operating system that we're running to

00:15:20,449 --> 00:15:25,670
the fact that even with our local

00:15:22,730 --> 00:15:28,310
development we're running node in a

00:15:25,670 --> 00:15:31,880
multiple servers service instances

00:15:28,310 --> 00:15:35,209
behind the engine X caching layer with

00:15:31,880 --> 00:15:37,759
its hosting self-signed ssl certs so

00:15:35,209 --> 00:15:40,490
exactly what's happening on production

00:15:37,759 --> 00:15:44,000
is what our local developers are using

00:15:40,490 --> 00:15:46,279
and the job when a job it's cued it goes

00:15:44,000 --> 00:15:47,120
through the same idea through the

00:15:46,279 --> 00:15:48,950
messages to

00:15:47,120 --> 00:15:51,320
a bunch of machines so all those

00:15:48,950 --> 00:15:53,230
assumptions that we make that obviously

00:15:51,320 --> 00:15:55,640
this message will be handled by the

00:15:53,230 --> 00:15:57,650
machine that also handled this message

00:15:55,640 --> 00:15:59,950
so we can share things which in a

00:15:57,650 --> 00:16:03,770
distributed environment is never true

00:15:59,950 --> 00:16:07,220
now there's a key to using bagman this

00:16:03,770 --> 00:16:10,790
is kind of where where my experience

00:16:07,220 --> 00:16:12,950
lies is as awesome as it is you want to

00:16:10,790 --> 00:16:15,370
hide the fact that you're using vagrant

00:16:12,950 --> 00:16:18,320
the only thing that should really be

00:16:15,370 --> 00:16:20,690
evident when you're using bad grain is

00:16:18,320 --> 00:16:23,360
when someone comes you and says my

00:16:20,690 --> 00:16:25,670
machine stopped working you and say run

00:16:23,360 --> 00:16:27,950
vagrant destroy and vagrant up and they

00:16:25,670 --> 00:16:29,870
can create a new one and you can ask

00:16:27,950 --> 00:16:33,080
does it work and they can say yes and

00:16:29,870 --> 00:16:39,070
you can let let them go back to what

00:16:33,080 --> 00:16:39,070
they were doing so the way to do this is

00:16:39,910 --> 00:16:48,140
using port forwarding is the first thing

00:16:42,920 --> 00:16:50,830
so yeah I will hit localhost 8080 air I

00:16:48,140 --> 00:16:54,790
can use the tools that I'm familiar with

00:16:50,830 --> 00:16:56,990
also whenever you're using vagrant

00:16:54,790 --> 00:17:00,860
you'll have people say oh well yeah

00:16:56,990 --> 00:17:04,189
vagrant up and then vagrant SSH into the

00:17:00,860 --> 00:17:06,709
Machine and run this command and run

00:17:04,189 --> 00:17:10,220
that over here while you're developing

00:17:06,709 --> 00:17:11,569
or run the build that's where it starts

00:17:10,220 --> 00:17:14,510
to get a key that's where those bad

00:17:11,569 --> 00:17:16,220
vibes you get from backgrounds so this

00:17:14,510 --> 00:17:18,740
is something my dev ops guy kind of

00:17:16,220 --> 00:17:21,350
showed me that is good so obviously

00:17:18,740 --> 00:17:23,929
those at the back can see exactly what

00:17:21,350 --> 00:17:26,870
this says but what this is is a little

00:17:23,929 --> 00:17:29,120
proxy script we have where we basically

00:17:26,870 --> 00:17:30,880
run a command that it looks exactly like

00:17:29,120 --> 00:17:34,340
I'm running it on my terminal and

00:17:30,880 --> 00:17:36,440
standard in and standard out goes to the

00:17:34,340 --> 00:17:40,130
first machine so those just very

00:17:36,440 --> 00:17:41,690
important bagger and ssh that such

00:17:40,130 --> 00:17:44,059
command and in quotes will execute the

00:17:41,690 --> 00:17:45,920
command and if I go back to the first

00:17:44,059 --> 00:17:48,140
one there's a little little secret here

00:17:45,920 --> 00:17:53,800
just for those at the back there's a

00:17:48,140 --> 00:17:59,870
dollar sign this one dollar sign and

00:17:53,800 --> 00:18:00,830
there's a star dollar sign star that is

00:17:59,870 --> 00:18:04,070
what is called

00:18:00,830 --> 00:18:06,890
a splat or some people call it some

00:18:04,070 --> 00:18:09,380
other things but what that does is allow

00:18:06,890 --> 00:18:11,809
all the arguments that you're passing

00:18:09,380 --> 00:18:14,690
into the one command just to be like

00:18:11,809 --> 00:18:18,559
funct right on to the other into the

00:18:14,690 --> 00:18:21,309
command that your ssh into it kind of

00:18:18,559 --> 00:18:23,149
really changed how we were doing our

00:18:21,309 --> 00:18:25,820
environment so I got rid of all that

00:18:23,149 --> 00:18:27,679
crazy stuff so now when you want to

00:18:25,820 --> 00:18:29,539
develop and bit out if you want to run a

00:18:27,679 --> 00:18:32,090
command you're just running it in your

00:18:29,539 --> 00:18:34,730
shell on your host machine and it's

00:18:32,090 --> 00:18:38,510
executing on whatever virtual machine it

00:18:34,730 --> 00:18:40,070
needs to as well as if I wanted to run

00:18:38,510 --> 00:18:43,639
other commands that would interact with

00:18:40,070 --> 00:18:46,850
logs or other things so going through

00:18:43,639 --> 00:18:48,080
this this is kind of fun I was going

00:18:46,850 --> 00:18:50,360
through our provisioning because it's

00:18:48,080 --> 00:18:53,090
all hidden if you actually ever come

00:18:50,360 --> 00:18:56,330
work at bit houndour or whatever you'll

00:18:53,090 --> 00:18:59,149
see that all of our entire setup you

00:18:56,330 --> 00:19:01,610
clone the repository and you're on dot

00:18:59,149 --> 00:19:04,220
slash configure and it just sets

00:19:01,610 --> 00:19:06,230
everything up and that's it and

00:19:04,220 --> 00:19:08,090
eventually you have a thing and in our

00:19:06,230 --> 00:19:11,539
deck right underneath like you r and r /

00:19:08,090 --> 00:19:13,429
configure hit local host port 4000

00:19:11,539 --> 00:19:17,450
because everyone forgets to tell people

00:19:13,429 --> 00:19:19,130
what portree hosts things on and I was

00:19:17,450 --> 00:19:21,440
going through finding all those cases

00:19:19,130 --> 00:19:25,130
that would have tripped up so this is

00:19:21,440 --> 00:19:26,389
kind of airing my dirty laundry but you

00:19:25,130 --> 00:19:28,370
might you might have experienced some of

00:19:26,389 --> 00:19:32,029
these so the first thing that was

00:19:28,370 --> 00:19:33,950
interesting was MongoDB setting up a new

00:19:32,029 --> 00:19:36,380
 instance how many of you know that

00:19:33,950 --> 00:19:41,149
when you install it doesn't allow

00:19:36,380 --> 00:19:44,870
remote connections so the the rest of

00:19:41,149 --> 00:19:48,080
you would be screwed so that all this

00:19:44,870 --> 00:19:50,960
does is installs and does a little

00:19:48,080 --> 00:19:52,880
perl script to comment out a single line

00:19:50,960 --> 00:19:55,010
in the config and restarts and

00:19:52,880 --> 00:19:58,330
suddenly it allows remote collections

00:19:55,010 --> 00:20:03,409
because all of our workers are remote so

00:19:58,330 --> 00:20:06,350
so next I was mentioning the the concept

00:20:03,409 --> 00:20:09,260
of vagrant is sometimes slow so everyone

00:20:06,350 --> 00:20:10,460
will like install vagrant and put their

00:20:09,260 --> 00:20:13,580
code in it and they're running it and

00:20:10,460 --> 00:20:14,330
like wow it's really slow well vagrant

00:20:13,580 --> 00:20:16,730
is

00:20:14,330 --> 00:20:18,350
it kind of saying like beggar and Oslo

00:20:16,730 --> 00:20:21,049
is like complaining that like your

00:20:18,350 --> 00:20:24,350
minivan is slow I mean you're kind of

00:20:21,049 --> 00:20:26,360
missing some of the point but what we

00:20:24,350 --> 00:20:30,679
can do with the background because reads

00:20:26,360 --> 00:20:34,880
are slow on the standard like neared

00:20:30,679 --> 00:20:37,730
folder you use something called NFS and

00:20:34,880 --> 00:20:41,750
so what this is NFS comes installed by

00:20:37,730 --> 00:20:43,190
default on OSX but not on Linux so the

00:20:41,750 --> 00:20:44,450
Internet in our provisioning scripts we

00:20:43,190 --> 00:20:47,360
is hable if you're running you linux

00:20:44,450 --> 00:20:49,070
will install NFS and it all just kind of

00:20:47,360 --> 00:20:52,549
magically works that we have performance

00:20:49,070 --> 00:20:55,820
again another bug that that was

00:20:52,549 --> 00:20:57,559
interesting was we hit this weird limit

00:20:55,820 --> 00:20:59,450
with get a lot of our commands or just

00:20:57,559 --> 00:21:01,100
kind of working with the get command

00:20:59,450 --> 00:21:03,860
line or the get kind of porcelain

00:21:01,100 --> 00:21:07,130
commands and well we hit up this weird

00:21:03,860 --> 00:21:09,740
like HTTP POST post buffer limit and it

00:21:07,130 --> 00:21:11,269
was just it only sometimes happens when

00:21:09,740 --> 00:21:14,659
we're cloning or doing something with

00:21:11,269 --> 00:21:17,269
larger projects and it returned with

00:21:14,659 --> 00:21:19,399
like not a very helpful error but we

00:21:17,269 --> 00:21:21,230
throw it in our in our provisioning in

00:21:19,399 --> 00:21:23,600
our setup script so that no one else

00:21:21,230 --> 00:21:25,190
ever has to worry about that like what

00:21:23,600 --> 00:21:26,870
usually happens is about six months

00:21:25,190 --> 00:21:28,070
after someone will start using our code

00:21:26,870 --> 00:21:30,860
base and playing around with it they'll

00:21:28,070 --> 00:21:33,740
see this line with like a comment above

00:21:30,860 --> 00:21:35,690
it explaining why it's there and it's

00:21:33,740 --> 00:21:40,730
kind of know like why are you so angry

00:21:35,690 --> 00:21:43,519
that you had to put this in next next

00:21:40,730 --> 00:21:46,840
actually is an interesting one um is 0

00:21:43,519 --> 00:21:49,370
off one has this really interesting

00:21:46,840 --> 00:21:53,240
quirk is when you're working with an

00:21:49,370 --> 00:21:56,299
oauth provider clock time is very

00:21:53,240 --> 00:21:58,370
important so if your clock starts to

00:21:56,299 --> 00:22:00,799
drift from your OAuth providers clock

00:21:58,370 --> 00:22:02,330
you can suddenly all sound like an OAuth

00:22:00,799 --> 00:22:04,760
application that's working really well

00:22:02,330 --> 00:22:06,889
locally and you close your laptop open

00:22:04,760 --> 00:22:08,389
it like four or five hundred times also

00:22:06,889 --> 00:22:10,490
and everything stops working and you

00:22:08,389 --> 00:22:12,490
think it's that code you just edited and

00:22:10,490 --> 00:22:15,019
you're like how did I break author

00:22:12,490 --> 00:22:17,029
authentication with like this change

00:22:15,019 --> 00:22:21,230
over here you didn't it was your clock

00:22:17,029 --> 00:22:24,049
drifted so in our setup we just update

00:22:21,230 --> 00:22:27,590
everyone to use a standard and like that

00:22:24,049 --> 00:22:28,100
I'm server things like that's that's the

00:22:27,590 --> 00:22:31,669
things

00:22:28,100 --> 00:22:34,010
never make it into those documents and

00:22:31,669 --> 00:22:36,320
then lastly is this is something I don't

00:22:34,010 --> 00:22:39,860
even know the thing but there's a per

00:22:36,320 --> 00:22:41,600
file user / limit of how many files you

00:22:39,860 --> 00:22:43,700
can have open how many handles you can

00:22:41,600 --> 00:22:46,280
have so we would hit this every once in

00:22:43,700 --> 00:22:48,590
a while so we have our own configs where

00:22:46,280 --> 00:22:50,660
we just dump them over so our processes

00:22:48,590 --> 00:22:56,120
can open it like an obscene amount of

00:22:50,660 --> 00:23:00,460
files so lastly we all know developers

00:22:56,120 --> 00:23:03,350
are are never wrong and they always um

00:23:00,460 --> 00:23:05,990
they always follow instructions to the t

00:23:03,350 --> 00:23:07,870
and so I'll set up this amazing

00:23:05,990 --> 00:23:10,070
virtualized environment this amazing

00:23:07,870 --> 00:23:11,780
place where they can work and it all

00:23:10,070 --> 00:23:14,690
works the same as easy to set up and

00:23:11,780 --> 00:23:16,760
then it changes and we have to add in

00:23:14,690 --> 00:23:19,130
New dependencies and we have to add in

00:23:16,760 --> 00:23:22,520
other ways of doing things where we

00:23:19,130 --> 00:23:25,159
switch the caching layer but like Jimmy

00:23:22,520 --> 00:23:27,020
the developer over there just updates

00:23:25,159 --> 00:23:30,080
his virtualized environments once every

00:23:27,020 --> 00:23:31,400
six months so what this does this is

00:23:30,080 --> 00:23:33,230
just you can't really see it but this is

00:23:31,400 --> 00:23:35,120
our start script so this we have a bin

00:23:33,230 --> 00:23:37,610
start which goes and starts all the

00:23:35,120 --> 00:23:39,350
services can figures them all up so that

00:23:37,610 --> 00:23:40,970
the app is running on your local

00:23:39,350 --> 00:23:42,169
environment and it actually checks a

00:23:40,970 --> 00:23:43,700
bunch of stuff it checks a lot of these

00:23:42,169 --> 00:23:47,150
problems that we had it looks like a

00:23:43,700 --> 00:23:49,820
unit testing framework it's in bash but

00:23:47,150 --> 00:23:53,179
I feel like this one's actually refusing

00:23:49,820 --> 00:23:56,720
the start because the version of your

00:23:53,179 --> 00:23:59,659
virtual environment is too old and it

00:23:56,720 --> 00:24:02,210
just forces them to keep that bit rot

00:23:59,659 --> 00:24:04,730
from happening those older dependencies

00:24:02,210 --> 00:24:09,080
they last time they ran like NPM install

00:24:04,730 --> 00:24:10,820
was like I don't last Christmas but it

00:24:09,080 --> 00:24:17,179
tries to keep everyone working on the

00:24:10,820 --> 00:24:18,770
same environment so another thing that

00:24:17,179 --> 00:24:21,650
this is starting to get a little a

00:24:18,770 --> 00:24:23,390
little more opinionated is is live

00:24:21,650 --> 00:24:27,470
reload how many to know what live reload

00:24:23,390 --> 00:24:29,120
is how many people use a live reload for

00:24:27,470 --> 00:24:32,270
those of you don't so there's bunch of

00:24:29,120 --> 00:24:33,770
ways to do this the concept is is you

00:24:32,270 --> 00:24:36,169
edit your code in your breath in your

00:24:33,770 --> 00:24:38,809
editor and when you save it there's file

00:24:36,169 --> 00:24:41,460
monitors and OH restart the services

00:24:38,809 --> 00:24:44,760
that are affected by that

00:24:41,460 --> 00:24:47,250
so we use a combination of a few there's

00:24:44,760 --> 00:24:50,190
no daman there's live reload they can

00:24:47,250 --> 00:24:52,649
integrate with grunt or gulp and all

00:24:50,190 --> 00:24:54,899
this does is allow you to just edit your

00:24:52,649 --> 00:24:57,149
code and it automatically will refresh

00:24:54,899 --> 00:25:00,539
your browser or automatically restart

00:24:57,149 --> 00:25:03,149
services and it just gives you a really

00:25:00,539 --> 00:25:05,399
nice ability so you don't end up with

00:25:03,149 --> 00:25:07,260
people confuse at all I edited this

00:25:05,399 --> 00:25:14,880
source file but i forgot to restart that

00:25:07,260 --> 00:25:17,970
like background processing job so so

00:25:14,880 --> 00:25:21,049
this is this is an interesting one so we

00:25:17,970 --> 00:25:23,100
all have unit tests we all have

00:25:21,049 --> 00:25:24,570
acceptance as we all have smoke tests

00:25:23,100 --> 00:25:26,850
and those are the ones we say to a new

00:25:24,570 --> 00:25:29,279
developer coming on oh yeah I just run

00:25:26,850 --> 00:25:34,740
the tests and all the always all pass

00:25:29,279 --> 00:25:38,570
right so what we forget to instill on

00:25:34,740 --> 00:25:41,549
them is how to actually test the system

00:25:38,570 --> 00:25:43,770
so this is a this is almost an extension

00:25:41,549 --> 00:25:46,350
of a whiteboard session where you

00:25:43,770 --> 00:25:48,559
actually show them how to use all those

00:25:46,350 --> 00:25:50,549
tools all those tricks that you've

00:25:48,559 --> 00:25:53,549
gathered over the course of working with

00:25:50,549 --> 00:25:56,850
this project on how to test it how to

00:25:53,549 --> 00:25:58,649
use a system as a user and how to use

00:25:56,850 --> 00:26:00,120
the system as so on developing the

00:25:58,649 --> 00:26:04,080
system there's all those like hidden

00:26:00,120 --> 00:26:05,610
places so we have like dashboards that

00:26:04,080 --> 00:26:08,460
are available that we can watch the

00:26:05,610 --> 00:26:11,100
status of jobs we have special command

00:26:08,460 --> 00:26:14,970
line arguments that we can pass in to

00:26:11,100 --> 00:26:17,450
simulate edge cases or to like shrink

00:26:14,970 --> 00:26:20,730
jobs so rather than trying to like

00:26:17,450 --> 00:26:23,070
process a large repository in waiting

00:26:20,730 --> 00:26:25,200
three hours for the process or whatever

00:26:23,070 --> 00:26:26,789
on a local environment we can tweak the

00:26:25,200 --> 00:26:28,860
job a little bit to shrink it down so

00:26:26,789 --> 00:26:31,770
it's a little more iterative in one

00:26:28,860 --> 00:26:34,470
minute like time to from start to finish

00:26:31,770 --> 00:26:35,700
and though that's not necessarily

00:26:34,470 --> 00:26:37,590
documented anger but that's something

00:26:35,700 --> 00:26:39,240
you want to pass on or else they're

00:26:37,590 --> 00:26:40,770
gonna you're going to find that like

00:26:39,240 --> 00:26:42,870
that feature that you thought would only

00:26:40,770 --> 00:26:44,700
take a day for them to write it's like a

00:26:42,870 --> 00:26:46,409
week and a half and you that when you go

00:26:44,700 --> 00:26:48,480
to ask them why is it taking so long

00:26:46,409 --> 00:26:51,029
like oh well every time I run this

00:26:48,480 --> 00:26:55,309
command I wait six hours and you're like

00:26:51,029 --> 00:26:55,309
oh just pass in dash dash don't do that

00:26:57,430 --> 00:27:04,070
so the last thing is is always keep

00:27:02,090 --> 00:27:07,190
learning you're going to the reason we

00:27:04,070 --> 00:27:11,960
bring new people into our projects is to

00:27:07,190 --> 00:27:14,330
learn from them your team doesn't have

00:27:11,960 --> 00:27:16,130
all the answers your team has a very

00:27:14,330 --> 00:27:18,800
interesting view of your project on how

00:27:16,130 --> 00:27:22,280
to run with it so bringing new people on

00:27:18,800 --> 00:27:25,640
board is a great way to learn a great

00:27:22,280 --> 00:27:28,220
way to bring experience and tooling and

00:27:25,640 --> 00:27:30,560
thoughts to help make this better for

00:27:28,220 --> 00:27:33,140
the next people that are coming on board

00:27:30,560 --> 00:27:36,380
and I'm not talking about that first

00:27:33,140 --> 00:27:39,770
four hours if anything sit back and

00:27:36,380 --> 00:27:42,470
think about how hard it is to go from a

00:27:39,770 --> 00:27:46,130
brand new machine to working on your

00:27:42,470 --> 00:27:49,580
project and try to make that easier for

00:27:46,130 --> 00:27:51,770
the next person and hopefully we can

00:27:49,580 --> 00:27:56,800
just end up with a lot more cool

00:27:51,770 --> 00:28:01,280
projects so lastly in my shameless plug

00:27:56,800 --> 00:28:04,460
they found we do have a promo going on I

00:28:01,280 --> 00:28:07,010
highly recommend signing up it's a three

00:28:04,460 --> 00:28:12,070
months free and fifty percent off for

00:28:07,010 --> 00:28:16,970
the rest of your life if you sign up

00:28:12,070 --> 00:28:20,570
promo code is jazz comp 2015 the promo

00:28:16,970 --> 00:28:22,010
ends June first maybe June like fifth

00:28:20,570 --> 00:28:25,220
who knows when we will remember to

00:28:22,010 --> 00:28:27,350
remove the promo code but give it a try

00:28:25,220 --> 00:28:28,550
even if you're like not sure I would I

00:28:27,350 --> 00:28:30,800
wouldn't want you guys missed

00:28:28,550 --> 00:28:34,730
opportunity for this promo code so crazy

00:28:30,800 --> 00:28:38,170
user enter it in and let's all make

00:28:34,730 --> 00:28:38,170
better code together thanks

00:28:47,500 --> 00:28:49,560
you

00:29:00,900 --> 00:29:03,440

YouTube URL: https://www.youtube.com/watch?v=2ZPpgIwcAN4


