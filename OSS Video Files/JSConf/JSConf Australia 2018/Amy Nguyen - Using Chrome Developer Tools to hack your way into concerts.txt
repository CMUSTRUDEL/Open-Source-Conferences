Title: Amy Nguyen - Using Chrome Developer Tools to hack your way into concerts
Publication date: 2018-04-11
Playlist: JSConf Australia 2018
Description: 
	Chrome Developer Tools is magical. It lets you record network traffic, step through code, modify the DOM, and more! To learn when we would use each of these features, I'll walk you through my adventures trying to trick Taylor Swiftâ€™s website into giving me concert tickets. Instead of reading through all of the JS files in her site and scrolling through hundreds of useless network activity logs, I learned how to use XHR breakpoints, filter network activity by type and domain, and recreate requests with CURL. I'll show you all of these tools and a few other tricks, and by the end of this talk, you will know how to reverse engineer any website and manipulate it to do your bidding.
Captions: 
	00:00:09,770 --> 00:00:18,680
[Applause]

00:00:15,309 --> 00:00:20,360
all right hi everyone I'm so excited to

00:00:18,680 --> 00:00:22,490
be starting off to guess Coffey you by

00:00:20,360 --> 00:00:23,990
talking to you about how to use Chrome

00:00:22,490 --> 00:00:26,450
developer tools to hack your way into

00:00:23,990 --> 00:00:28,520
concerts now these subtitles talk is

00:00:26,450 --> 00:00:31,369
please don't actually use this

00:00:28,520 --> 00:00:33,290
information I'm not here to tell you to

00:00:31,369 --> 00:00:35,270
do anything that's literally illegal or

00:00:33,290 --> 00:00:38,510
to break any user agreements we're here

00:00:35,270 --> 00:00:45,079
for the education and so do as I say and

00:00:38,510 --> 00:00:46,910
not as I am still saying so I'm gonna

00:00:45,079 --> 00:00:49,010
tell you about a story this all really

00:00:46,910 --> 00:00:51,050
did happen to me last year I was really

00:00:49,010 --> 00:00:52,940
excited about Taylor Swift I wanted to

00:00:51,050 --> 00:00:54,620
get in tickets to a concert and I

00:00:52,940 --> 00:00:58,280
learned so much about web development on

00:00:54,620 --> 00:01:00,530
the way to doing that I built us a small

00:00:58,280 --> 00:01:02,450
web app for the purpose of this talk and

00:01:00,530 --> 00:01:05,049
I will be recreating the kinds of

00:01:02,450 --> 00:01:09,710
interactions that I saw when I was

00:01:05,049 --> 00:01:11,329
investigating her web site so we have

00:01:09,710 --> 00:01:12,829
this website website called Swifty's

00:01:11,329 --> 00:01:15,110
it's selling tickets to Taylor sauce

00:01:12,829 --> 00:01:17,390
concert and they want to give tickets to

00:01:15,110 --> 00:01:19,130
the the most dedicated fans of Taylor

00:01:17,390 --> 00:01:20,780
Swift and they're measuring your

00:01:19,130 --> 00:01:22,789
dedication by how many times you've

00:01:20,780 --> 00:01:24,469
watched her music video so the more you

00:01:22,789 --> 00:01:29,869
watched her music video the more you

00:01:24,469 --> 00:01:31,219
will have priority in line at the end no

00:01:29,869 --> 00:01:33,049
seriously

00:01:31,219 --> 00:01:34,969
so we want to convince Swifties that

00:01:33,049 --> 00:01:36,530
we've watched the music video more times

00:01:34,969 --> 00:01:37,880
than we really have you know it's like

00:01:36,530 --> 00:01:39,859
four minutes long it's awesome awesome

00:01:37,880 --> 00:01:41,270
not look what you made me do is not like

00:01:39,859 --> 00:01:43,249
the greatest music video to be honest

00:01:41,270 --> 00:01:46,500
like I'm sorry but I really thought

00:01:43,249 --> 00:01:49,410
Taylor stuff isn't watching so

00:01:46,500 --> 00:01:50,280
so space on with your story this is the

00:01:49,410 --> 00:01:53,970
what we're gonna be doing for the next

00:01:50,280 --> 00:01:56,010
30 minutes IRA I wrote this slide before

00:01:53,970 --> 00:01:58,500
I realized that I actually cannot see

00:01:56,010 --> 00:02:00,270
you all very much but we will be using

00:01:58,500 --> 00:02:01,440
the browser a lot in this talk I've

00:02:00,270 --> 00:02:02,010
tried to make the font as big as

00:02:01,440 --> 00:02:04,200
possible

00:02:02,010 --> 00:02:06,540
if you can't see please like do just

00:02:04,200 --> 00:02:07,770
call out I don't want to want you to

00:02:06,540 --> 00:02:09,990
miss the content just because you can't

00:02:07,770 --> 00:02:11,610
see we can make the font bigger if

00:02:09,990 --> 00:02:14,420
someone near you is straining in they're

00:02:11,610 --> 00:02:18,060
too shy you know just call it for them I

00:02:14,420 --> 00:02:20,670
will not be mad so we've got Swifties

00:02:18,060 --> 00:02:22,980
here it's a very pared down web site I

00:02:20,670 --> 00:02:25,020
also realized that Taylor Swift is a lot

00:02:22,980 --> 00:02:26,670
more cool than I am so I swapped out the

00:02:25,020 --> 00:02:28,980
music video for a timer so that you

00:02:26,670 --> 00:02:30,870
could all taste it's gonna talk but you

00:02:28,980 --> 00:02:33,240
know it will work even if you replace it

00:02:30,870 --> 00:02:34,770
with a four-minute video and I suppose

00:02:33,240 --> 00:02:38,040
it says one view it should say zero

00:02:34,770 --> 00:02:43,680
views that's fine starting the lifetime

00:02:38,040 --> 00:02:46,920
off great so we can play a video oh my

00:02:43,680 --> 00:02:48,780
god that's like the biggest hurdle here

00:02:46,920 --> 00:02:50,640
so you know we got this video we watched

00:02:48,780 --> 00:02:51,989
the whole thing this is the only time

00:02:50,640 --> 00:02:53,730
I'm gonna watch the whole video and I

00:02:51,989 --> 00:02:55,560
couldn't think of any funny jokes to

00:02:53,730 --> 00:02:57,290
tell during this time but eventually

00:02:55,560 --> 00:03:01,200
I'll end and I can stop being awkward

00:02:57,290 --> 00:03:02,820
yeah so we have two two views now and so

00:03:01,200 --> 00:03:06,180
we just wanted to get that number as big

00:03:02,820 --> 00:03:07,830
as possible so the first thing I started

00:03:06,180 --> 00:03:10,140
thinking when I was debugging this

00:03:07,830 --> 00:03:12,540
website was like how do I just make this

00:03:10,140 --> 00:03:16,110
video faster I know that I can come over

00:03:12,540 --> 00:03:18,750
here and click on speed and click it - -

00:03:16,110 --> 00:03:19,739
and that will make the video faster but

00:03:18,750 --> 00:03:21,450
what if I want to do that

00:03:19,739 --> 00:03:24,560
programmatically so every time I watch

00:03:21,450 --> 00:03:27,180
the video the video comes out faster and

00:03:24,560 --> 00:03:28,320
through a little bit of research I found

00:03:27,180 --> 00:03:30,900
out that there's the YouTube iframe

00:03:28,320 --> 00:03:32,400
player API which is pretty great it

00:03:30,900 --> 00:03:34,110
turns out you can send a ton of

00:03:32,400 --> 00:03:35,910
different pieces of information to you

00:03:34,110 --> 00:03:38,430
to a video that's embedded during

00:03:35,910 --> 00:03:40,410
YouTube and the point here is that you

00:03:38,430 --> 00:03:44,280
can you can send code you can examine

00:03:40,410 --> 00:03:45,570
things dirty elements tab and so that

00:03:44,280 --> 00:03:50,010
now we're actually gonna get to the

00:03:45,570 --> 00:03:51,989
chrome parts so in case you didn't know

00:03:50,010 --> 00:03:54,150
it turns out this is called a kebab menu

00:03:51,989 --> 00:03:55,950
that's what I learned three recently or

00:03:54,150 --> 00:03:59,010
making it like a skewer menu or meatball

00:03:55,950 --> 00:04:00,180
menu I'm not sure so you can find more

00:03:59,010 --> 00:04:02,370
tools developer tools

00:04:00,180 --> 00:04:05,969
I usually hit command option I but

00:04:02,370 --> 00:04:07,500
that's where you would find it and you

00:04:05,969 --> 00:04:12,950
can paste in this code that I found on

00:04:07,500 --> 00:04:16,289
Stack Overflow no seriously I

00:04:12,950 --> 00:04:18,690
it's a JSON it's it's a command it sets

00:04:16,289 --> 00:04:20,759
the playback rate so to you send the

00:04:18,690 --> 00:04:22,259
message you post it to the iframe player

00:04:20,759 --> 00:04:23,370
and I know you're all probably thinking

00:04:22,259 --> 00:04:26,580
like yeah I've done this before it's

00:04:23,370 --> 00:04:28,680
fine you come over here you paste in

00:04:26,580 --> 00:04:30,360
your code and you play this video

00:04:28,680 --> 00:04:34,620
actually let's refresh this page because

00:04:30,360 --> 00:04:37,020
it's already played and now suddenly

00:04:34,620 --> 00:04:38,280
this video he say hope you can tell

00:04:37,020 --> 00:04:40,889
that's like moving faster than one

00:04:38,280 --> 00:04:42,210
second at a time one thing that's

00:04:40,889 --> 00:04:44,099
important to note here is that you can

00:04:42,210 --> 00:04:47,009
see that this is actually searching for

00:04:44,099 --> 00:04:49,470
a element that has the idea of player

00:04:47,009 --> 00:04:50,970
and if you want to make sure that was

00:04:49,470 --> 00:04:52,919
working you could come over here and see

00:04:50,970 --> 00:04:55,169
indeed that there's an iframe here with

00:04:52,919 --> 00:04:56,669
the idea of player one thing that I

00:04:55,169 --> 00:04:58,320
really love doing is if you hit command

00:04:56,669 --> 00:05:01,620
shift C I realize you can't see my hands

00:04:58,320 --> 00:05:03,330
but hit command C and you can highlight

00:05:01,620 --> 00:05:05,729
over any of these elements and then

00:05:03,330 --> 00:05:06,900
select it from there so that's really

00:05:05,729 --> 00:05:08,789
cool you know you can make videos play

00:05:06,900 --> 00:05:09,900
faster if you do this with torsos video

00:05:08,789 --> 00:05:13,139
she sounds like a chipmunk

00:05:09,900 --> 00:05:14,699
but that's not good enough we you know

00:05:13,139 --> 00:05:16,620
we want to come and say where that we're

00:05:14,699 --> 00:05:17,760
watching at hundreds of times and so we

00:05:16,620 --> 00:05:21,750
don't want to paste that code and every

00:05:17,760 --> 00:05:25,199
time and so can we figure out how the

00:05:21,750 --> 00:05:27,539
site is communicating with the server in

00:05:25,199 --> 00:05:30,090
this case I was like being so e and like

00:05:27,539 --> 00:05:31,860
going hahaha I can like go over to this

00:05:30,090 --> 00:05:34,020
tree and like maybe I can edit this text

00:05:31,860 --> 00:05:35,970
I can like go here and go like yes I've

00:05:34,020 --> 00:05:38,400
watched it like a bajillion times I'm

00:05:35,970 --> 00:05:39,449
great but you know you refresh the page

00:05:38,400 --> 00:05:43,650
of course you know what the views are

00:05:39,449 --> 00:05:44,880
not there and so there must be some sort

00:05:43,650 --> 00:05:47,940
communication that's happening and

00:05:44,880 --> 00:05:49,229
that's what the network tab is for you

00:05:47,940 --> 00:05:50,370
can even come over here and you can

00:05:49,229 --> 00:05:51,930
actually watch everything that's

00:05:50,370 --> 00:05:54,210
happening so if we refresh this page

00:05:51,930 --> 00:05:56,669
start over you can see a ton of

00:05:54,210 --> 00:05:58,770
different things happening watching all

00:05:56,669 --> 00:06:00,599
these scripts go through the videos

00:05:58,770 --> 00:06:02,570
happening and so you might meet you

00:06:00,599 --> 00:06:05,400
thinking like this is really complicated

00:06:02,570 --> 00:06:07,430
but it turns out that you can you

00:06:05,400 --> 00:06:09,810
actually filter by domain you know that

00:06:07,430 --> 00:06:12,870
Swifty's is probably not sending a

00:06:09,810 --> 00:06:13,650
request to youtube.com in order to track

00:06:12,870 --> 00:06:16,340
of you

00:06:13,650 --> 00:06:19,080
and so you can actually type here domain

00:06:16,340 --> 00:06:20,370
in this case we can see actually I'm not

00:06:19,080 --> 00:06:25,440
sure if you can see it but the domain is

00:06:20,370 --> 00:06:27,449
my local host 127 0.0 0.0 0.1 and so

00:06:25,440 --> 00:06:28,919
that actually filters out and takes away

00:06:27,449 --> 00:06:33,360
all that YouTube off that double-click

00:06:28,919 --> 00:06:35,400
and all that other stuff next we know

00:06:33,360 --> 00:06:38,070
that there's some animations apparently

00:06:35,400 --> 00:06:40,169
going on and some like left pad so we

00:06:38,070 --> 00:06:42,930
know that we've we don't really care

00:06:40,169 --> 00:06:45,060
about all of this stuff so we've got

00:06:42,930 --> 00:06:47,639
some we know that we have xhr here and

00:06:45,060 --> 00:06:49,320
what swing is that I someone asked me

00:06:47,639 --> 00:06:51,690
what does xhr mean I could say oh let's

00:06:49,320 --> 00:06:53,850
answer XML HTTP requests and if they ask

00:06:51,690 --> 00:06:57,360
me anything else I'd be like Ajax I

00:06:53,850 --> 00:06:59,370
don't know and that's I feel like I've

00:06:57,360 --> 00:07:03,570
gone pretty far in life with just that

00:06:59,370 --> 00:07:06,690
knowledge so anyway you you can click

00:07:03,570 --> 00:07:07,770
here for xhr and that that's really

00:07:06,690 --> 00:07:09,510
great because now you can filter out all

00:07:07,770 --> 00:07:11,250
this chaos you can ignore it if you want

00:07:09,510 --> 00:07:13,830
to look at the CSS you can actually

00:07:11,250 --> 00:07:16,410
filter out your network requests so we

00:07:13,830 --> 00:07:21,510
went down to two network requests from

00:07:16,410 --> 00:07:22,800
out of like let's say 49 requests so

00:07:21,510 --> 00:07:24,330
that's one really easy way to like

00:07:22,800 --> 00:07:25,229
filter out and like drill down to like

00:07:24,330 --> 00:07:28,110
the information that's really relevant

00:07:25,229 --> 00:07:29,909
here and so now we can see that there

00:07:28,110 --> 00:07:31,080
actually is a count request that's

00:07:29,909 --> 00:07:35,550
happening so I mean we can investigate

00:07:31,080 --> 00:07:36,690
that so from here we can click on this

00:07:35,550 --> 00:07:38,760
we can read through like what's

00:07:36,690 --> 00:07:40,830
happening there's some request headers

00:07:38,760 --> 00:07:42,900
our user agent string and there's this

00:07:40,830 --> 00:07:44,639
interesting ID here that's like looks

00:07:42,900 --> 00:07:46,169
with randomly generated so maybe we care

00:07:44,639 --> 00:07:47,849
about that you kind of store all this

00:07:46,169 --> 00:07:50,340
information away in case it comes up in

00:07:47,849 --> 00:07:52,860
the future and then we can see that the

00:07:50,340 --> 00:07:55,830
response from the server is that there's

00:07:52,860 --> 00:07:57,030
a true successful response I'm surprised

00:07:55,830 --> 00:07:59,970
I haven't been checking in to see if

00:07:57,030 --> 00:08:03,449
people are seeing the screen so I'll

00:07:59,970 --> 00:08:07,110
keep moving all right so we open the

00:08:03,449 --> 00:08:08,130
network tab we filtered oh and also I'm

00:08:07,110 --> 00:08:09,240
glad I have the slides because there

00:08:08,130 --> 00:08:12,330
reminds me of all the great things I

00:08:09,240 --> 00:08:14,220
want to talk about so we come here to

00:08:12,330 --> 00:08:16,740
the initiator column and this is really

00:08:14,220 --> 00:08:18,690
cool I may have just found out about

00:08:16,740 --> 00:08:21,900
this yesterday so that's really great

00:08:18,690 --> 00:08:24,779
you can go here and see what stacktrace

00:08:21,900 --> 00:08:26,060
led to this count endpoint happening so

00:08:24,779 --> 00:08:28,130
if I go here I can see if there's

00:08:26,060 --> 00:08:30,080
some sort of VM stuffed I heard that's

00:08:28,130 --> 00:08:31,370
the next talks that's I'm excited for

00:08:30,080 --> 00:08:32,900
the next one we can learn what's going

00:08:31,370 --> 00:08:35,000
on here but we can pretend that that

00:08:32,900 --> 00:08:38,120
doesn't exist for now there is record

00:08:35,000 --> 00:08:40,820
view and update view count if I click

00:08:38,120 --> 00:08:42,979
here I can see a bunch of stuff going on

00:08:40,820 --> 00:08:45,440
I can also see that there is some code

00:08:42,979 --> 00:08:48,140
here it's like checking for a current

00:08:45,440 --> 00:08:50,720
time versus the duration of the video so

00:08:48,140 --> 00:08:52,730
I can see maybe like 60% of the waitress

00:08:50,720 --> 00:08:55,190
video is when we record that the user

00:08:52,730 --> 00:08:56,810
has viewed the video so that's kind of

00:08:55,190 --> 00:08:58,640
interesting we can like even test out

00:08:56,810 --> 00:09:02,480
that assumption let's refresh this page

00:08:58,640 --> 00:09:05,810
and I skip all the way to the end I've

00:09:02,480 --> 00:09:07,580
met five views and now I'm at six years

00:09:05,810 --> 00:09:10,490
so I've already like learned a little

00:09:07,580 --> 00:09:14,210
bit just by checking out the code inside

00:09:10,490 --> 00:09:16,970
of here and so we looked at the response

00:09:14,210 --> 00:09:18,290
and request data and I was really afraid

00:09:16,970 --> 00:09:20,510
that none of this would work so I took a

00:09:18,290 --> 00:09:22,490
ton of screenshots in case I had to like

00:09:20,510 --> 00:09:26,330
go back to the slides that's everything

00:09:22,490 --> 00:09:29,030
we just saw so now we've seen that

00:09:26,330 --> 00:09:30,530
there's a count request and maybe if we

00:09:29,030 --> 00:09:30,950
send that count request over and over

00:09:30,530 --> 00:09:32,600
again

00:09:30,950 --> 00:09:35,050
we might be able to get some more of

00:09:32,600 --> 00:09:39,290
these views so you come back over here

00:09:35,050 --> 00:09:41,390
let's play this video and there's the

00:09:39,290 --> 00:09:45,370
count endpoint one thing is really great

00:09:41,390 --> 00:09:48,400
you can do is click here or play xhr and

00:09:45,370 --> 00:09:50,300
that will just redo this request again

00:09:48,400 --> 00:09:52,910
so now you can see that there is no

00:09:50,300 --> 00:09:55,270
initiator column because I initiated it

00:09:52,910 --> 00:10:01,550
from the menu and you can see that the

00:09:55,270 --> 00:10:03,020
ID here is the same ID as before this is

00:10:01,550 --> 00:10:05,720
the original request and this is the new

00:10:03,020 --> 00:10:07,580
request but that the success is false

00:10:05,720 --> 00:10:09,410
and so server's telling us that's not

00:10:07,580 --> 00:10:12,380
going to count this as a few we can test

00:10:09,410 --> 00:10:13,640
this if i refresh this page let's try

00:10:12,380 --> 00:10:18,560
replaying it a bunch of times

00:10:13,640 --> 00:10:22,250
I should see mmm like 10 views but when

00:10:18,560 --> 00:10:25,130
i refresh the page I only get seven so

00:10:22,250 --> 00:10:26,270
only the first request went through so

00:10:25,130 --> 00:10:30,470
that's kind of mysterious I'm not sure

00:10:26,270 --> 00:10:32,180
what's going on here and so the next

00:10:30,470 --> 00:10:34,130
question might be like well but you know

00:10:32,180 --> 00:10:36,200
there's that unique ID what does that

00:10:34,130 --> 00:10:38,580
mean like does it have to be something

00:10:36,200 --> 00:10:42,570
different every single time

00:10:38,580 --> 00:10:44,100
and that's where a curl comes in curl is

00:10:42,570 --> 00:10:47,130
a command-line tool that lets you make

00:10:44,100 --> 00:10:51,120
get request and post across through HTTP

00:10:47,130 --> 00:10:53,160
and all the other methods one thing that

00:10:51,120 --> 00:10:55,950
I hate about Carl is that I never ever

00:10:53,160 --> 00:10:57,270
get the syntax right there's all those

00:10:55,950 --> 00:11:00,960
headers there's the new lines and all

00:10:57,270 --> 00:11:02,010
that and it's just confusing so one

00:11:00,960 --> 00:11:07,050
thing that's very great that you can do

00:11:02,010 --> 00:11:09,750
here is I found out this you can copy

00:11:07,050 --> 00:11:11,100
this exact request as a curl command and

00:11:09,750 --> 00:11:13,890
then you don't have to do all that

00:11:11,100 --> 00:11:16,230
formatting yourself so let's do some

00:11:13,890 --> 00:11:20,220
curl and now like I can see I have all

00:11:16,230 --> 00:11:22,080
these headers I have my data if I go

00:11:20,220 --> 00:11:24,660
here and I say something like hello J's

00:11:22,080 --> 00:11:27,690
conf that's a unique ID maybe it hasn't

00:11:24,660 --> 00:11:30,180
been sent yet maybe I'll work and so if

00:11:27,690 --> 00:11:32,430
I paste this in no it doesn't work it's

00:11:30,180 --> 00:11:34,050
still false it was worth a shot though I

00:11:32,430 --> 00:11:35,340
remember I had practiced this talk

00:11:34,050 --> 00:11:38,040
recently and someone was like what if he

00:11:35,340 --> 00:11:43,440
just changed the ID and so I wanted to

00:11:38,040 --> 00:11:44,640
confirm that the ID does matter so we

00:11:43,440 --> 00:11:46,620
know there's something going on here we

00:11:44,640 --> 00:11:49,140
want to get that ID but we don't know

00:11:46,620 --> 00:11:49,730
where it is so we want to send a valid

00:11:49,140 --> 00:11:55,230
request

00:11:49,730 --> 00:11:57,720
so let's debug this we know we can find

00:11:55,230 --> 00:12:00,090
the code from here but what if we want

00:11:57,720 --> 00:12:02,130
to get to the code before it actually

00:12:00,090 --> 00:12:04,770
runs before that that Ajax request

00:12:02,130 --> 00:12:08,790
happens so I can come over to sources I

00:12:04,770 --> 00:12:09,870
was supposed to have that open and one

00:12:08,790 --> 00:12:11,880
thing that's really great is you can set

00:12:09,870 --> 00:12:13,860
your regular breakpoints just in at

00:12:11,880 --> 00:12:16,890
lines of code but you can actually break

00:12:13,860 --> 00:12:21,000
on on Ajax requests before they happen

00:12:16,890 --> 00:12:23,460
you can break any time a request happens

00:12:21,000 --> 00:12:25,860
and it turns out YouTube is constantly

00:12:23,460 --> 00:12:29,460
making xhr requests and so it's actually

00:12:25,860 --> 00:12:30,990
not that useful so delete that one but

00:12:29,460 --> 00:12:33,720
we can break anytime the count happens

00:12:30,990 --> 00:12:36,390
and I will say any time an ER L contains

00:12:33,720 --> 00:12:43,740
the word count will just stop so let's

00:12:36,390 --> 00:12:45,720
refresh the page and there is we no

00:12:43,740 --> 00:12:47,850
doubt now that we're in this weird VM

00:12:45,720 --> 00:12:49,830
code that we can ignore let's make this

00:12:47,850 --> 00:12:51,300
a little bit bigger and when we look

00:12:49,830 --> 00:12:52,709
through the stack trace we can

00:12:51,300 --> 00:12:54,480
be careful and say okay well there's the

00:12:52,709 --> 00:12:57,480
record view but you know if you're

00:12:54,480 --> 00:12:59,240
updating the view count but there's an

00:12:57,480 --> 00:13:01,800
ID eater

00:12:59,240 --> 00:13:03,660
and so we can see if there's a variable

00:13:01,800 --> 00:13:09,690
somewhere we know it's like somewhere in

00:13:03,660 --> 00:13:11,579
our scope if I can see the scope oh it's

00:13:09,690 --> 00:13:14,579
on the right thank you

00:13:11,579 --> 00:13:16,140
thanks to Chrome so to scope is

00:13:14,579 --> 00:13:21,690
somewhere in here for the ID it's a

00:13:16,140 --> 00:13:23,820
global variable indeed and at this point

00:13:21,690 --> 00:13:25,890
I may have just command F for the word

00:13:23,820 --> 00:13:30,120
ID and realize I was at the top of this

00:13:25,890 --> 00:13:34,529
file which is pretty interesting

00:13:30,120 --> 00:13:36,779
let's see I'm trying to make this a bit

00:13:34,529 --> 00:13:40,230
bigger for you so if i refresh this page

00:13:36,779 --> 00:13:44,220
a bunch of times I can see that this ID

00:13:40,230 --> 00:13:45,510
keeps changing and so like what you can

00:13:44,220 --> 00:13:47,640
do is you can come over here to network

00:13:45,510 --> 00:13:49,140
click on counters you can see it indeed

00:13:47,640 --> 00:13:51,600
this response is coming through every

00:13:49,140 --> 00:13:54,959
time every time I load the page I get a

00:13:51,600 --> 00:13:56,370
new counter and so at that point you

00:13:54,959 --> 00:13:58,529
know you know that you can you can

00:13:56,370 --> 00:14:00,200
definitely download this file and parse

00:13:58,529 --> 00:14:05,040
out that ID using a regular expression

00:14:00,200 --> 00:14:08,640
which I will gloss over for now so this

00:14:05,040 --> 00:14:10,230
ID here what happens if I copy it if I

00:14:08,640 --> 00:14:10,770
steal it and I put it inside my curl

00:14:10,230 --> 00:14:14,640
request

00:14:10,770 --> 00:14:16,620
maybe I am done which maybe I'm done now

00:14:14,640 --> 00:14:20,250
is the I kind of overall theme of this

00:14:16,620 --> 00:14:21,600
talk so I put that new idea and I paste

00:14:20,250 --> 00:14:24,240
it and I'm like it's gonna happen it's

00:14:21,600 --> 00:14:25,800
gonna happen it's not gonna happen it's

00:14:24,240 --> 00:14:30,839
just like so disappointing like

00:14:25,800 --> 00:14:34,589
soul-crushing but now I know at least

00:14:30,839 --> 00:14:37,370
that there's an ID that I can get but

00:14:34,589 --> 00:14:40,110
there's something we're missing clearly

00:14:37,370 --> 00:14:41,910
and at this point I will say this whole

00:14:40,110 --> 00:14:43,440
thing I know I'm like squeezing into

00:14:41,910 --> 00:14:45,000
like 30 minutes but it actually did take

00:14:43,440 --> 00:14:46,980
me a couple of days like I got really

00:14:45,000 --> 00:14:48,810
frustrated I'd put it away I'd talked to

00:14:46,980 --> 00:14:50,459
some friends perk up and I just keep

00:14:48,810 --> 00:14:52,260
coming back to it

00:14:50,459 --> 00:14:56,820
and eventually after trying so many

00:14:52,260 --> 00:14:59,220
different things I realized that there

00:14:56,820 --> 00:15:01,290
was something going on with this with a

00:14:59,220 --> 00:15:04,530
start endpoint and then I'm pretty much

00:15:01,290 --> 00:15:08,790
oops let's restart this

00:15:04,530 --> 00:15:09,930
I realize that is false so I noticed

00:15:08,790 --> 00:15:12,540
that there was a start in fine I was

00:15:09,930 --> 00:15:15,930
giving the same like style of response

00:15:12,540 --> 00:15:19,890
as the count end point and I also

00:15:15,930 --> 00:15:21,890
noticed that that break point is here so

00:15:19,890 --> 00:15:24,480
let's press play so we're back in here

00:15:21,890 --> 00:15:27,630
and I noticed that the start end point

00:15:24,480 --> 00:15:28,950
has an ID in it and so it must be it

00:15:27,630 --> 00:15:30,750
must be connecting it back to the count

00:15:28,950 --> 00:15:33,060
somehow and so honestly I don't have a

00:15:30,750 --> 00:15:35,850
good like intuition for how this

00:15:33,060 --> 00:15:37,470
happened but I just decided that maybe I

00:15:35,850 --> 00:15:38,340
should try running the start command and

00:15:37,470 --> 00:15:38,850
then I should try running the count

00:15:38,340 --> 00:15:42,480
command

00:15:38,850 --> 00:15:45,120
I did try like a dozen other things but

00:15:42,480 --> 00:15:49,170
I will give you the answer because we're

00:15:45,120 --> 00:15:51,060
only here for half an hour so I have

00:15:49,170 --> 00:15:53,490
this this curl command I'm gonna paste

00:15:51,060 --> 00:15:55,880
out my this is the start end point you

00:15:53,490 --> 00:15:58,320
can see it right here and I'm gonna try

00:15:55,880 --> 00:16:02,340
refreshing this page so I can get a new

00:15:58,320 --> 00:16:07,470
fresh ID I can go over to sources here

00:16:02,340 --> 00:16:13,260
it is and I'm gonna paste it right here

00:16:07,470 --> 00:16:18,120
and also right here so I've got this

00:16:13,260 --> 00:16:21,600
start and you know okay so that one was

00:16:18,120 --> 00:16:26,210
true that's good what if I come over

00:16:21,600 --> 00:16:27,960
here and try the counts and it's true

00:16:26,210 --> 00:16:28,740
[Music]

00:16:27,960 --> 00:16:30,740
[Applause]

00:16:28,740 --> 00:16:33,710
[Music]

00:16:30,740 --> 00:16:36,710
so I realized that that the climax is

00:16:33,710 --> 00:16:39,050
just kind of like you try a lot of

00:16:36,710 --> 00:16:40,640
things you debug a lot you read through

00:16:39,050 --> 00:16:44,510
all of the code that you can find that

00:16:40,640 --> 00:16:47,150
isn't minified and you eventually figure

00:16:44,510 --> 00:16:48,290
out what's going on with the site and

00:16:47,150 --> 00:16:49,940
then the next question is you know can

00:16:48,290 --> 00:16:52,250
we automate the solution we know that we

00:16:49,940 --> 00:16:53,750
got a unique ID we send a request to

00:16:52,250 --> 00:16:55,520
start endpoint we send a request to the

00:16:53,750 --> 00:16:57,170
account endpoint and if we repeat this

00:16:55,520 --> 00:16:59,990
hopefully we should be able to get more

00:16:57,170 --> 00:17:01,190
and more views I'm gonna do that thing

00:16:59,990 --> 00:17:03,050
that Martha Stewart does where you know

00:17:01,190 --> 00:17:04,850
she has her like oven where she makes

00:17:03,050 --> 00:17:06,440
her turkey and then she puts it in and

00:17:04,850 --> 00:17:08,420
she walks to her second oven and

00:17:06,440 --> 00:17:11,120
suddenly there's another turkey and I've

00:17:08,420 --> 00:17:12,320
never had two ovens in my life sometimes

00:17:11,120 --> 00:17:16,580
I've had like one I've had like zero

00:17:12,320 --> 00:17:22,130
ovens before but I have this great thing

00:17:16,580 --> 00:17:23,540
called turkey pie so we're gonna send a

00:17:22,130 --> 00:17:25,220
request you're just using the Python

00:17:23,540 --> 00:17:27,050
request endpoint we have this regular

00:17:25,220 --> 00:17:29,360
expression that just literally searches

00:17:27,050 --> 00:17:32,840
for a string VAR ID equals such-and-such

00:17:29,360 --> 00:17:34,490
thing and we're going to get the

00:17:32,840 --> 00:17:36,680
counters endpoint and we're going to

00:17:34,490 --> 00:17:39,320
then post to the start endpoint with the

00:17:36,680 --> 00:17:41,980
token that we parsed out then we're

00:17:39,320 --> 00:17:43,550
going to post to the count endpoint and

00:17:41,980 --> 00:17:49,790
hopefully you will see a bunch of

00:17:43,550 --> 00:17:51,770
successes so come on yes okay so we did

00:17:49,790 --> 00:17:52,880
we just manually or automatically did

00:17:51,770 --> 00:17:55,670
all the things that we were manually

00:17:52,880 --> 00:17:59,450
doing with curl if I come back over to

00:17:55,670 --> 00:18:01,730
the browser and refresh this page now I

00:17:59,450 --> 00:18:05,330
have a hundred views so I can like run

00:18:01,730 --> 00:18:06,920
this again and again I'm so glad I'm on

00:18:05,330 --> 00:18:09,650
the local host because that would not

00:18:06,920 --> 00:18:11,780
have worked over the Internet so how'd

00:18:09,650 --> 00:18:13,130
it's a conference Wi-Fi so now I have

00:18:11,780 --> 00:18:14,390
like 200 views I can keep running that

00:18:13,130 --> 00:18:16,250
again I can even change the target

00:18:14,390 --> 00:18:18,140
thousand but you get the idea

00:18:16,250 --> 00:18:20,420
now I I've actually proven that I am the

00:18:18,140 --> 00:18:22,220
greatest Taylor Swift fan I have more of

00:18:20,420 --> 00:18:23,480
you say anyone I have more views than

00:18:22,220 --> 00:18:27,860
it's like physically possible to watch

00:18:23,480 --> 00:18:29,000
in one day so that's all great so the

00:18:27,860 --> 00:18:30,290
last question you might be asking is how

00:18:29,000 --> 00:18:31,790
do we prevent this from happening you

00:18:30,290 --> 00:18:33,650
know we're all web developers here we

00:18:31,790 --> 00:18:37,020
know that we we don't want people like

00:18:33,650 --> 00:18:40,860
us to be playing with our sites

00:18:37,020 --> 00:18:43,230
and so the first like I think most easy

00:18:40,860 --> 00:18:44,700
thing to do is like run a CAPTCHA like

00:18:43,230 --> 00:18:46,530
every time you watch a video or every

00:18:44,700 --> 00:18:48,200
time you submit a form like say you want

00:18:46,530 --> 00:18:51,030
to stop someone from automatically

00:18:48,200 --> 00:18:53,580
buying your stuff you can make them fill

00:18:51,030 --> 00:18:55,110
out a CAPTCHA one thing that is a

00:18:53,580 --> 00:18:56,880
problem in this case is that you don't

00:18:55,110 --> 00:18:59,160
want to make users for Kaptchuk every

00:18:56,880 --> 00:19:00,330
time they play a music video now how

00:18:59,160 --> 00:19:02,370
people really annoying you'd lose all of

00:19:00,330 --> 00:19:03,390
your real fans um so you know there's

00:19:02,370 --> 00:19:04,290
pros and cons so you want to be

00:19:03,390 --> 00:19:06,750
thoughtful but when you would use a

00:19:04,290 --> 00:19:08,010
CAPTCHA another thing you could do is

00:19:06,750 --> 00:19:11,250
randomize the Dom I thought this was a

00:19:08,010 --> 00:19:13,890
really clever idea you could you know we

00:19:11,250 --> 00:19:15,750
had we all of this just hinged on the

00:19:13,890 --> 00:19:17,850
idea that we could get the ID out of the

00:19:15,750 --> 00:19:19,560
out of the files that we were

00:19:17,850 --> 00:19:21,240
downloading and I was always in the same

00:19:19,560 --> 00:19:24,270
place I was always far our ID equals

00:19:21,240 --> 00:19:26,240
string if you changed out the variable

00:19:24,270 --> 00:19:28,440
names or randomize them or you even like

00:19:26,240 --> 00:19:31,320
dynamically generate those ideas maybe I

00:19:28,440 --> 00:19:32,550
concatenate strings together all of that

00:19:31,320 --> 00:19:35,030
would stop someone from just a regular

00:19:32,550 --> 00:19:39,270
expression expression in out the IDS a

00:19:35,030 --> 00:19:40,560
really tricky idea that Mahmut

00:19:39,270 --> 00:19:42,450
co-workers gave me was that if you're

00:19:40,560 --> 00:19:44,610
let's say you're you have a forum where

00:19:42,450 --> 00:19:46,860
people are buying something rare like a

00:19:44,610 --> 00:19:49,020
special t-shirt or something you could

00:19:46,860 --> 00:19:51,510
have a hidden buy button inside of the

00:19:49,020 --> 00:19:53,340
Dom that isn't showing to a user so that

00:19:51,510 --> 00:19:55,650
it and you can randomize which bun comes

00:19:53,340 --> 00:19:57,030
first so that if someone's trying to

00:19:55,650 --> 00:19:59,160
traverse the Dom in order to find the

00:19:57,030 --> 00:20:00,690
button then they would sometimes hit the

00:19:59,160 --> 00:20:03,530
wrong button and that's how you'd know

00:20:00,690 --> 00:20:06,390
if they were bahding or scripting I

00:20:03,530 --> 00:20:08,580
think the easiest or the simplest thing

00:20:06,390 --> 00:20:10,650
you can do actually is not to stop BOTS

00:20:08,580 --> 00:20:12,240
from accessing your website but just let

00:20:10,650 --> 00:20:14,730
them in and validate what kinds of

00:20:12,240 --> 00:20:16,860
behavior is seeing and not a Melbourne

00:20:14,730 --> 00:20:18,390
is really really familiar with this

00:20:16,860 --> 00:20:19,980
because I learned that there it takes

00:20:18,390 --> 00:20:24,300
about 10 hours to drive from Melbourne

00:20:19,980 --> 00:20:25,560
to Sydney but if you speed there you can

00:20:24,300 --> 00:20:27,150
get there in six hours and how's that go

00:20:25,560 --> 00:20:27,960
why not just do it just just speed

00:20:27,150 --> 00:20:30,680
through for six hours

00:20:27,960 --> 00:20:32,850
and my friend says that told me that

00:20:30,680 --> 00:20:34,320
they'll take a picture of you at one

00:20:32,850 --> 00:20:35,370
point during this long drive and then at

00:20:34,320 --> 00:20:36,780
the end they'll take another picture of

00:20:35,370 --> 00:20:38,070
you and they'll compare those timestamps

00:20:36,780 --> 00:20:40,170
and say there's no way you could have

00:20:38,070 --> 00:20:41,670
made it there in the right time and so

00:20:40,170 --> 00:20:43,980
there that's how to catch you for

00:20:41,670 --> 00:20:45,030
speeding so you can do the same thing

00:20:43,980 --> 00:20:49,220
there was no way I could have watched

00:20:45,030 --> 00:20:51,440
200 let this video 200 times in so many

00:20:49,220 --> 00:20:52,820
it's and so if you detect that you can

00:20:51,440 --> 00:20:54,890
just flag the accounts that are doing

00:20:52,820 --> 00:20:56,630
bad things one thing that's really

00:20:54,890 --> 00:20:58,640
important to do with this is to not

00:20:56,630 --> 00:21:00,590
alert the person who you believe is

00:20:58,640 --> 00:21:03,890
botting you can just keep sending them

00:21:00,590 --> 00:21:05,179
success equals true you can just keep

00:21:03,890 --> 00:21:06,440
telling them that they're doing great if

00:21:05,179 --> 00:21:08,600
they're scraping your website you can

00:21:06,440 --> 00:21:11,720
start sending them like vaguely true but

00:21:08,600 --> 00:21:13,070
also not real data and you know the

00:21:11,720 --> 00:21:15,409
benefit is that you're you're not

00:21:13,070 --> 00:21:16,820
tipping them off you're letting them

00:21:15,409 --> 00:21:19,070
keep thinking that their solution is

00:21:16,820 --> 00:21:21,169
working and at the end you don't have to

00:21:19,070 --> 00:21:23,059
sell in tickets and so those are just

00:21:21,169 --> 00:21:25,010
some like starting points for how you

00:21:23,059 --> 00:21:27,950
figure out how to stop you from doing

00:21:25,010 --> 00:21:29,840
this if you can make it so that someone

00:21:27,950 --> 00:21:32,630
can't just keep sending posts and gets

00:21:29,840 --> 00:21:38,570
in order to get to your website that's

00:21:32,630 --> 00:21:40,460
probably enough to deter the most the I

00:21:38,570 --> 00:21:45,380
guess most anyone but the most dedicated

00:21:40,460 --> 00:21:47,120
fans so why haven't any in with me well

00:21:45,380 --> 00:21:48,860
I didn't get saddle band I actually was

00:21:47,120 --> 00:21:50,330
really afraid of that I thought like I

00:21:48,860 --> 00:21:51,650
find all this work and on the day of I

00:21:50,330 --> 00:21:53,929
thought I would just like get an email

00:21:51,650 --> 00:21:55,549
saying you don't get tickets but they

00:21:53,929 --> 00:21:56,870
didn't somehow they didn't realize that

00:21:55,549 --> 00:21:59,929
I was watching this video way more times

00:21:56,870 --> 00:22:01,510
than I could have I did get a high

00:21:59,929 --> 00:22:06,460
priority position in the sale

00:22:01,510 --> 00:22:09,169
the sad part is these tickets cost money

00:22:06,460 --> 00:22:10,669
it costs like fifteen hundred dollars to

00:22:09,169 --> 00:22:13,220
say at the front at the concert and I

00:22:10,669 --> 00:22:16,370
was like not like at all prepared to do

00:22:13,220 --> 00:22:18,049
that so I went to work I spent all these

00:22:16,370 --> 00:22:20,440
hours doing this and then realized that

00:22:18,049 --> 00:22:22,760
I didn't want those tickets after all

00:22:20,440 --> 00:22:24,049
but I did get like the cheaper tickets

00:22:22,760 --> 00:22:26,419
like you know kind of in the back oh

00:22:24,049 --> 00:22:28,610
maybe I'll see her like from far away

00:22:26,419 --> 00:22:33,640
like bring my binoculars

00:22:28,610 --> 00:22:33,640
I got over a job so that was great

00:22:33,789 --> 00:22:38,330
it's really great it was an internship

00:22:36,260 --> 00:22:42,049
and I kind of want to be like what makes

00:22:38,330 --> 00:22:44,120
you think I don't have a job man is it

00:22:42,049 --> 00:22:45,830
the Taylor Swift I don't know maybe I

00:22:44,120 --> 00:22:48,390
maybe I just like project I have too

00:22:45,830 --> 00:22:50,700
much time on my hands

00:22:48,390 --> 00:22:52,590
and I got to give this talk so that's

00:22:50,700 --> 00:22:53,640
really great I'm really glad I got to

00:22:52,590 --> 00:22:56,760
come to Australia and talk to you all

00:22:53,640 --> 00:22:58,230
about chrome developer tools so just to

00:22:56,760 --> 00:22:59,970
sum up we asked a ton of questions

00:22:58,230 --> 00:23:02,100
during this talk we are thinking about

00:22:59,970 --> 00:23:03,570
like can we watch the video faster how

00:23:02,100 --> 00:23:05,490
how are we communicating what's going on

00:23:03,570 --> 00:23:06,960
with the network tab how do we do this

00:23:05,490 --> 00:23:08,880
again how do we make it repeatable how

00:23:06,960 --> 00:23:10,500
do we find these tokens we were doing a

00:23:08,880 --> 00:23:12,510
lot of debugging and we wrote some

00:23:10,500 --> 00:23:13,980
scripts and so that's a lot of really

00:23:12,510 --> 00:23:16,500
big questions IRA's that's like kind of

00:23:13,980 --> 00:23:18,330
hard to remember but I think the thing

00:23:16,500 --> 00:23:20,220
that you can walk away from this with is

00:23:18,330 --> 00:23:22,710
like first of all you got all this like

00:23:20,220 --> 00:23:24,300
concrete skills you know hopefully

00:23:22,710 --> 00:23:25,740
you've learned something or at least one

00:23:24,300 --> 00:23:27,840
thing about chrome developer tools that

00:23:25,740 --> 00:23:29,550
you didn't know but the more important

00:23:27,840 --> 00:23:31,260
thing is you know there's a spirit of

00:23:29,550 --> 00:23:32,370
debugging where you're filtering out the

00:23:31,260 --> 00:23:34,470
information that doesn't matter you're

00:23:32,370 --> 00:23:34,710
you're figuring out which path to go

00:23:34,470 --> 00:23:37,860
down

00:23:34,710 --> 00:23:39,270
and you're also persevering like even if

00:23:37,860 --> 00:23:41,040
it takes our history you know it's okay

00:23:39,270 --> 00:23:45,090
you can try things over and over again

00:23:41,040 --> 00:23:47,370
and you can keep asking questions and so

00:23:45,090 --> 00:23:50,580
I want to say here is going to be

00:23:47,370 --> 00:23:52,080
curious if you--if you want something to

00:23:50,580 --> 00:23:54,090
happen and it's happening in the browser

00:23:52,080 --> 00:23:58,560
you have the tools and those Stack

00:23:54,090 --> 00:24:00,660
Overflow to make it happen yeah so thank

00:23:58,560 --> 00:24:07,869
you here's all of the information

00:24:00,660 --> 00:24:07,869
[Applause]

00:24:12,830 --> 00:24:14,890

YouTube URL: https://www.youtube.com/watch?v=tXssxJgIHbs


