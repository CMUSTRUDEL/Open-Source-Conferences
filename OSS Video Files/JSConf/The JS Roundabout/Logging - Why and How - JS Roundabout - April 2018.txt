Title: Logging - Why and How - JS Roundabout - April 2018
Publication date: 2018-04-11
Playlist: The JS Roundabout
Description: 
	Joe Reeve, a freelance consultant; who will be giving a talk entitled 'Logging. Why and How'. Logging is an age-old practice, but we're still doing some major things wrong. Joe will be taking us through various aspects of logging:
- Why to log
- When to log
- How to log well
- JS Tooling/Testing for logging

Pizza and beer/wine/soft drinks will be provided as usual - look forward to seeing you all there!
Captions: 
	00:00:00,030 --> 00:00:05,430
so I'm gonna be talking about logging

00:00:01,650 --> 00:00:06,930
obviously so but first a couple of

00:00:05,430 --> 00:00:08,610
apologies

00:00:06,930 --> 00:00:10,469
the first apology is to the guy with the

00:00:08,610 --> 00:00:13,940
camera I'm gonna be moving around a lot

00:00:10,469 --> 00:00:19,289
and the second apology is to you guys

00:00:13,940 --> 00:00:21,090
because I was expecting to be I was

00:00:19,289 --> 00:00:23,220
expecting to be doing this talk

00:00:21,090 --> 00:00:25,019
preparing the talk over the last bank

00:00:23,220 --> 00:00:27,449
holiday weekend you know finishing it up

00:00:25,019 --> 00:00:29,070
I ended up going sailing instead on the

00:00:27,449 --> 00:00:33,270
Norfolk Broads so I spent the whole time

00:00:29,070 --> 00:00:35,610
in a boat in the ring which you'll hear

00:00:33,270 --> 00:00:36,960
about in a second so I'm gonna switch

00:00:35,610 --> 00:00:39,570
the first slide so that the camera can

00:00:36,960 --> 00:00:42,809
sync up and this is kind of an

00:00:39,570 --> 00:00:45,120
interactive first session put your hands

00:00:42,809 --> 00:00:49,110
up if you talk about logging in your

00:00:45,120 --> 00:00:52,350
code style guides at work okay in verse

00:00:49,110 --> 00:00:56,030
put your hand up if you do it sorry if

00:00:52,350 --> 00:00:58,170
you don't if you don't okay fine yeah so

00:00:56,030 --> 00:01:00,000
people don't tend to talk about logging

00:00:58,170 --> 00:01:01,920
very much which is weird considering

00:01:00,000 --> 00:01:04,229
it's like one of the oldest things that

00:01:01,920 --> 00:01:06,080
we do in software back when we log two

00:01:04,229 --> 00:01:10,290
pieces of paper before us born probably

00:01:06,080 --> 00:01:13,860
so we don't talk about logging in our

00:01:10,290 --> 00:01:17,460
style guides has anybody ever been

00:01:13,860 --> 00:01:18,810
taught logging best practices okay put

00:01:17,460 --> 00:01:21,990
your hand up if you have not been taught

00:01:18,810 --> 00:01:24,360
logging best practices no put your hand

00:01:21,990 --> 00:01:28,080
up if you've ever thought about logging

00:01:24,360 --> 00:01:31,979
best practices okay cool this is awesome

00:01:28,080 --> 00:01:36,530
few people has anybody ever tested their

00:01:31,979 --> 00:01:44,280
logs put you hand up tested your logs

00:01:36,530 --> 00:01:47,159
nice tested JavaScript logs okay so my

00:01:44,280 --> 00:01:50,430
name's Joseph proof I am at Joe Reeve

00:01:47,159 --> 00:01:52,860
zero on Twitter at Joe on the slack

00:01:50,430 --> 00:01:55,860
group for this for this kind of

00:01:52,860 --> 00:01:58,380
community if you want my details you can

00:01:55,860 --> 00:02:01,079
go to Joe contact me today I and the

00:01:58,380 --> 00:02:03,479
slides should you want to find them at

00:02:01,079 --> 00:02:07,619
that link take a picture now if you want

00:02:03,479 --> 00:02:09,390
this title also be at the end so log

00:02:07,619 --> 00:02:11,039
books this is kind of coming into the

00:02:09,390 --> 00:02:12,599
sailing thing log books are really

00:02:11,039 --> 00:02:13,360
really cool because we've been doing

00:02:12,599 --> 00:02:16,840
this for

00:02:13,360 --> 00:02:19,120
ages right people on boats have been

00:02:16,840 --> 00:02:21,700
sitting down every hour when they're out

00:02:19,120 --> 00:02:23,440
of see it's say this is our heading when

00:02:21,700 --> 00:02:26,230
I'm writing this look this is what the

00:02:23,440 --> 00:02:29,380
wind is like you know standard stuff

00:02:26,230 --> 00:02:31,840
about boats and that kind of gets locked

00:02:29,380 --> 00:02:33,730
in a box which hopefully should the ship

00:02:31,840 --> 00:02:35,350
sink somebody else and come along and

00:02:33,730 --> 00:02:37,150
find it the floating box that's kind of

00:02:35,350 --> 00:02:39,850
summer on the sea they know what the

00:02:37,150 --> 00:02:41,770
ship is they know where they were when

00:02:39,850 --> 00:02:44,200
it all went wrong they know what the

00:02:41,770 --> 00:02:45,670
conditions were and potentially you know

00:02:44,200 --> 00:02:48,580
they can actually diagnose the exact

00:02:45,670 --> 00:02:50,800
reason this ship sunk in the middle of

00:02:48,580 --> 00:02:53,350
the night somewhere yeah and they also

00:02:50,800 --> 00:02:54,520
know what's on it so is it worth going

00:02:53,350 --> 00:02:55,989
and looking for it and finding all the

00:02:54,520 --> 00:02:59,709
hidden treasure on at the bottom of the

00:02:55,989 --> 00:03:01,920
sea but also is it worth sending out a

00:02:59,709 --> 00:03:04,570
rescue party was it just one person and

00:03:01,920 --> 00:03:09,459
you know this logbook is being found 20

00:03:04,570 --> 00:03:10,840
years later so when I went sailing the

00:03:09,459 --> 00:03:12,940
guys at the boatyard where I rented the

00:03:10,840 --> 00:03:15,940
boat they know me I've been there for

00:03:12,940 --> 00:03:17,650
awhile they said since you've had loss

00:03:15,940 --> 00:03:19,870
had this boat these are the things we've

00:03:17,650 --> 00:03:23,350
changed the bilge washers so the bilge

00:03:19,870 --> 00:03:24,850
is the the bit of water kind of

00:03:23,350 --> 00:03:26,680
underneath the floor so there's a little

00:03:24,850 --> 00:03:30,040
kind of it's called the bilge a little

00:03:26,680 --> 00:03:31,810
bit of air that water can go into and if

00:03:30,040 --> 00:03:33,610
that gets too full water starts coming

00:03:31,810 --> 00:03:36,340
up through the floor and you start to

00:03:33,610 --> 00:03:38,320
sink basically but generally boats are

00:03:36,340 --> 00:03:39,940
always slowly sinking and we have little

00:03:38,320 --> 00:03:42,310
pumps that take the water out of the

00:03:39,940 --> 00:03:44,380
boat they also change the countertops

00:03:42,310 --> 00:03:45,820
lovely we've got these nice granite

00:03:44,380 --> 00:03:47,709
looking countertops now which is

00:03:45,820 --> 00:03:49,540
brilliant they changed the water heater

00:03:47,709 --> 00:03:52,750
which is cool because now we get hot

00:03:49,540 --> 00:03:53,920
water and they change the engine they

00:03:52,750 --> 00:03:58,120
also changed a bunch of batteries and

00:03:53,920 --> 00:03:59,470
stuff so they said to me seeing as we

00:03:58,120 --> 00:04:00,700
know you and seeing is all this stuff

00:03:59,470 --> 00:04:01,870
new when you're the first hire of the

00:04:00,700 --> 00:04:04,870
year which at the time I thought was

00:04:01,870 --> 00:04:05,890
great now I know it's not seeing as

00:04:04,870 --> 00:04:07,750
you're the first part of the year the

00:04:05,890 --> 00:04:09,970
first one to use all of this cool new

00:04:07,750 --> 00:04:11,680
stuff could you keep a log of the bilge

00:04:09,970 --> 00:04:15,579
pump how long do you hold the bilge pump

00:04:11,680 --> 00:04:19,859
for so the whole whole day went really

00:04:15,579 --> 00:04:22,780
really well I got back on Monday evening

00:04:19,859 --> 00:04:25,240
except the countertop fell off and broke

00:04:22,780 --> 00:04:26,689
four bottles of beer the beer from the

00:04:25,240 --> 00:04:29,069
bottles then went into the bilge

00:04:26,689 --> 00:04:31,979
the water heater used up all of our

00:04:29,069 --> 00:04:34,949
water when it shouldn't have and put all

00:04:31,979 --> 00:04:36,960
the excess water into the bilge the

00:04:34,949 --> 00:04:39,629
engine died which was fun in the middle

00:04:36,960 --> 00:04:41,610
of nowhere and then it rained on stop

00:04:39,629 --> 00:04:44,780
and does anyone know where the rain goes

00:04:41,610 --> 00:04:50,099
in a boat say it out loud

00:04:44,780 --> 00:04:52,590
into the bilge exactly into the bilge so

00:04:50,099 --> 00:04:56,099
this was me in the rain with a cup of

00:04:52,590 --> 00:04:57,509
coffee it's kind of ok so now let's talk

00:04:56,099 --> 00:04:59,370
about JavaScript logging because that's

00:04:57,509 --> 00:05:01,229
why we're all here right well that's why

00:04:59,370 --> 00:05:04,620
I'm here at least JavaScript logging is

00:05:01,229 --> 00:05:07,229
cool because it's kind of not done very

00:05:04,620 --> 00:05:10,050
much but there's loads of kind of prior

00:05:07,229 --> 00:05:12,270
art so ask JavaScript developers and

00:05:10,050 --> 00:05:15,599
lots of developers have a really really

00:05:12,270 --> 00:05:18,449
nasty habit we tend to reinvent the

00:05:15,599 --> 00:05:20,400
wheel over and over again has anyone

00:05:18,449 --> 00:05:22,439
heard of web workers all right that's

00:05:20,400 --> 00:05:27,960
threading accidentally reinvented badly

00:05:22,439 --> 00:05:29,909
or worklets which is reinventing the the

00:05:27,960 --> 00:05:33,930
actor model but without having the name

00:05:29,909 --> 00:05:37,469
so you can't Google what it is but kind

00:05:33,930 --> 00:05:39,779
of the time when I had the red pill you

00:05:37,469 --> 00:05:41,339
know I mean matrix tile I started to

00:05:39,779 --> 00:05:42,449
actually think about logging was when I

00:05:41,339 --> 00:05:46,919
was talking to a friend of mine Julian

00:05:42,449 --> 00:05:49,460
who's at the back on his phone so he's

00:05:46,919 --> 00:05:52,949
doing a lot of work in analytics and

00:05:49,460 --> 00:05:55,020
logging software a lot of Android stuff

00:05:52,949 --> 00:05:57,509
and non JavaScript stuff but I went over

00:05:55,020 --> 00:06:01,830
and I had a chat with him and we talked

00:05:57,509 --> 00:06:02,639
about logging for 3-4 hours and this is

00:06:01,830 --> 00:06:03,839
the first one would actually talk to

00:06:02,639 --> 00:06:05,460
someone about logging because surely

00:06:03,839 --> 00:06:09,960
like console dot log it worked

00:06:05,460 --> 00:06:11,819
you know console dot log debug hello so

00:06:09,960 --> 00:06:13,710
I talked to him about about this and it

00:06:11,819 --> 00:06:14,879
wasn't boring which was the first thing

00:06:13,710 --> 00:06:17,699
that surprised me talking about logging

00:06:14,879 --> 00:06:20,789
wasn't boring and then I went to work

00:06:17,699 --> 00:06:22,740
the next morning and saw this log this

00:06:20,789 --> 00:06:24,719
this statement this bit of code and I

00:06:22,740 --> 00:06:25,379
was like what get blame launch missiles

00:06:24,719 --> 00:06:27,419
kill them

00:06:25,379 --> 00:06:29,009
who on earth did this which obviously if

00:06:27,419 --> 00:06:32,089
any of you have ever done a get blade on

00:06:29,009 --> 00:06:37,229
a piece of code that looks rubbish don't

00:06:32,089 --> 00:06:38,699
because always you that wrote it so I

00:06:37,229 --> 00:06:40,529
was looking at this code now thinking

00:06:38,699 --> 00:06:44,299
this is bad this console dot log state

00:06:40,529 --> 00:06:47,609
is bad and I have no idea why it's bad

00:06:44,299 --> 00:06:49,439
right just no idea I just I know because

00:06:47,609 --> 00:06:51,959
I've had this long conversation but I

00:06:49,439 --> 00:06:54,479
don't know why it's bad right so I

00:06:51,959 --> 00:06:57,029
started looking for other things console

00:06:54,479 --> 00:06:59,839
that log error error message right why

00:06:57,029 --> 00:07:03,299
is that bad come to it consoles of error

00:06:59,839 --> 00:07:07,289
fascism that is has anyone here ever

00:07:03,299 --> 00:07:10,949
work with a Hungarian yeah a Hungarian

00:07:07,289 --> 00:07:13,589
programmer yeah put that into Google

00:07:10,949 --> 00:07:18,089
Translate the polite translation is oh

00:07:13,589 --> 00:07:19,919
 and then constant that log finish

00:07:18,089 --> 00:07:22,529
that date dot now does anyone know what

00:07:19,919 --> 00:07:26,819
date dot now outputs a bunch of numbers

00:07:22,529 --> 00:07:28,709
right not human readable so I was like

00:07:26,819 --> 00:07:30,599
these are all bad all of these hundreds

00:07:28,709 --> 00:07:33,629
of log statements in this code base that

00:07:30,599 --> 00:07:35,519
I'm responsible for are bad you know I

00:07:33,629 --> 00:07:37,649
can't look at the the logs and know

00:07:35,519 --> 00:07:40,339
what's going on know if the systems even

00:07:37,649 --> 00:07:44,669
okay let alone if the users are okay and

00:07:40,339 --> 00:07:47,369
these are systems running you know the a

00:07:44,669 --> 00:07:50,149
couple of layers down people are trading

00:07:47,369 --> 00:07:51,839
half a million pounds on a day or are

00:07:50,149 --> 00:07:54,389
deciding whether or not to run trains

00:07:51,839 --> 00:07:56,159
like these are dangerous systems if

00:07:54,389 --> 00:07:57,899
things go wrong luckily this isn't

00:07:56,159 --> 00:08:01,860
directly it but this is kind of a couple

00:07:57,899 --> 00:08:03,629
of layers away so I kind of thought

00:08:01,860 --> 00:08:05,309
about it for a while and I thought there

00:08:03,629 --> 00:08:07,079
are four dimensions for things that you

00:08:05,309 --> 00:08:11,059
can kind of focus on you can think about

00:08:07,079 --> 00:08:14,879
specifically that make a log good or bad

00:08:11,059 --> 00:08:16,499
so you've got context what's going on in

00:08:14,879 --> 00:08:19,919
the app what's the data what's the time

00:08:16,499 --> 00:08:21,899
what's yeah we'll come back what's the

00:08:19,919 --> 00:08:23,729
purpose is it for debugging and I'm

00:08:21,899 --> 00:08:27,839
going to I think I'm going to delete it

00:08:23,729 --> 00:08:30,029
before I commit it is it for auditing

00:08:27,839 --> 00:08:32,459
you know we did have this many users log

00:08:30,029 --> 00:08:33,839
in and the product owner knows it and

00:08:32,459 --> 00:08:36,179
they went to these sites and they did

00:08:33,839 --> 00:08:38,459
this and this and this is it important

00:08:36,179 --> 00:08:41,579
is someone about to die is someone about

00:08:38,459 --> 00:08:44,490
to lose half a million pounds or was

00:08:41,579 --> 00:08:46,949
there a garbage collection of it and the

00:08:44,490 --> 00:08:49,769
format is it human readable is it grep

00:08:46,949 --> 00:08:51,629
herbal you know grep unix grep yeah can

00:08:49,769 --> 00:08:54,000
I just grab my logs and see every time

00:08:51,629 --> 00:08:54,490
this dog user logged in or can I get my

00:08:54,000 --> 00:08:56,770
logs

00:08:54,490 --> 00:08:58,839
see every time there's an error every

00:08:56,770 --> 00:09:01,180
time something went wrong the purpose so

00:08:58,839 --> 00:09:03,070
we might be doing analytics which is a

00:09:01,180 --> 00:09:04,860
kind of logging I promise you you can

00:09:03,070 --> 00:09:07,360
ask me about it later

00:09:04,860 --> 00:09:09,339
the purpose is it for debugging or is it

00:09:07,360 --> 00:09:13,420
for analytics improving the user

00:09:09,339 --> 00:09:14,830
experience did someone die did someone

00:09:13,420 --> 00:09:17,470
as log in was there a garbage collection

00:09:14,830 --> 00:09:19,570
event you know is it scannable

00:09:17,470 --> 00:09:20,649
is it possible which is really really

00:09:19,570 --> 00:09:24,850
important if you're using something like

00:09:20,649 --> 00:09:28,420
log stash single had a log stash it's at

00:09:24,850 --> 00:09:29,370
all you know elastic search guys for

00:09:28,420 --> 00:09:32,740
dealing with logs

00:09:29,370 --> 00:09:34,750
so that's contact purpose importance and

00:09:32,740 --> 00:09:38,670
format they're all things that are

00:09:34,750 --> 00:09:41,830
important when we're writing logs so

00:09:38,670 --> 00:09:43,750
none of this stuff is new you can see

00:09:41,830 --> 00:09:45,670
examples of all this stuff in log4j

00:09:43,750 --> 00:09:48,100
which is a Java logging library which is

00:09:45,670 --> 00:09:50,500
kind of industry standard for Java stuff

00:09:48,100 --> 00:09:52,360
the syslog standard which is kind of has

00:09:50,500 --> 00:09:55,810
bits of bits of stuff just look it up on

00:09:52,360 --> 00:09:58,149
online countly which there are some

00:09:55,810 --> 00:09:59,860
stickers around somewhere they had a

00:09:58,149 --> 00:10:01,720
chat with the CEO and he sent me some

00:09:59,860 --> 00:10:03,850
stickers which say open source rocks

00:10:01,720 --> 00:10:04,959
which is cool so they're over there

00:10:03,850 --> 00:10:07,000
somewhere

00:10:04,959 --> 00:10:09,040
and that's just a tool for you know

00:10:07,000 --> 00:10:10,380
logging events logging errors logging

00:10:09,040 --> 00:10:12,990
different things to a remote location

00:10:10,380 --> 00:10:17,230
from the client or from other languages

00:10:12,990 --> 00:10:19,120
log stash and good old console dot you

00:10:17,230 --> 00:10:21,940
know we've got console dot log error

00:10:19,120 --> 00:10:23,980
warn info different kind of levels

00:10:21,940 --> 00:10:27,220
importances and then we've got things

00:10:23,980 --> 00:10:28,510
like timing and profiler loads of really

00:10:27,220 --> 00:10:29,970
cool stuff just open dev tools like

00:10:28,510 --> 00:10:33,370
console dot and look at the intellisense

00:10:29,970 --> 00:10:35,980
really cool stuff so this is an example

00:10:33,370 --> 00:10:38,020
of a bad format of logs has anybody seen

00:10:35,980 --> 00:10:39,040
this in their log files where's your

00:10:38,020 --> 00:10:41,740
hands have you seen something like this

00:10:39,040 --> 00:10:43,750
in your log files yeah someone should

00:10:41,740 --> 00:10:45,670
log down some array and you just got

00:10:43,750 --> 00:10:49,089
object object object object takes up

00:10:45,670 --> 00:10:51,040
hundreds of lines of logs and yeah you

00:10:49,089 --> 00:10:52,480
know you kind of lose the context so

00:10:51,040 --> 00:10:56,290
this is this breaks any context you've

00:10:52,480 --> 00:10:58,600
got a good format is showing the user

00:10:56,290 --> 00:11:00,250
that logged in wrapping things in square

00:10:58,600 --> 00:11:01,959
brackets makes things really possible

00:11:00,250 --> 00:11:04,209
they're surprising I mean I'm going to

00:11:01,959 --> 00:11:05,770
say regular expressions right but if you

00:11:04,209 --> 00:11:07,930
need to do something quickly regular

00:11:05,770 --> 00:11:08,310
expressions are really handy or wrapping

00:11:07,930 --> 00:11:12,180
the thing

00:11:08,310 --> 00:11:14,999
using variable equations logging errors

00:11:12,180 --> 00:11:17,310
instead of doing console.log blah era

00:11:14,999 --> 00:11:19,800
dot message just log the actual error

00:11:17,310 --> 00:11:20,939
not appended to a string and they'll

00:11:19,800 --> 00:11:24,360
actually display the whole stack trace

00:11:20,939 --> 00:11:26,879
which is lovely and this is this is an

00:11:24,360 --> 00:11:29,399
example of showing context this is IP

00:11:26,879 --> 00:11:31,439
addresses so we're showing context of

00:11:29,399 --> 00:11:33,269
where this stuff happened from which is

00:11:31,439 --> 00:11:35,279
important when we come to this kind of

00:11:33,269 --> 00:11:38,490
thing right user logged in user logged

00:11:35,279 --> 00:11:39,540
in user logged in error got data pretty

00:11:38,490 --> 00:11:42,329
rubbish because we don't know what's

00:11:39,540 --> 00:11:44,759
going on this means a lot different

00:11:42,329 --> 00:11:48,269
right so we've got the same user logged

00:11:44,759 --> 00:11:51,540
in five times within one second either

00:11:48,269 --> 00:11:53,639
we've got a bug or we've got a bot right

00:11:51,540 --> 00:11:54,600
both of these things are important and

00:11:53,639 --> 00:11:56,430
if you've got your IP address you can

00:11:54,600 --> 00:11:58,439
start looking at the IP address is it a

00:11:56,430 --> 00:12:00,029
real user is it some kind of bought

00:11:58,439 --> 00:12:02,519
scraper we've had that a lot

00:12:00,029 --> 00:12:04,139
stealing lots of valuable data they pay

00:12:02,519 --> 00:12:05,730
for one user in there they've got their

00:12:04,139 --> 00:12:11,309
BOTS going off and downloading huge

00:12:05,730 --> 00:12:13,769
amount of data so it all depends on the

00:12:11,309 --> 00:12:16,079
goal the logs that you actually use the

00:12:13,769 --> 00:12:18,059
logging statements the logging context

00:12:16,079 --> 00:12:20,069
the data I can't just come up here and

00:12:18,059 --> 00:12:21,720
say log the IP addresses all of the

00:12:20,069 --> 00:12:24,000
users or whatever you know I can't say

00:12:21,720 --> 00:12:25,949
log this log that because it depends so

00:12:24,000 --> 00:12:28,170
much on your individual context on your

00:12:25,949 --> 00:12:29,879
application on your users and on what

00:12:28,170 --> 00:12:32,759
you're expected to provide for your

00:12:29,879 --> 00:12:35,180
customers so it depends on the goal has

00:12:32,759 --> 00:12:38,399
anyone read the goal by you like Oh Grob

00:12:35,180 --> 00:12:40,589
know what okay first thing you do when

00:12:38,399 --> 00:12:43,079
you get home go on Amazon all of the

00:12:40,589 --> 00:12:45,509
goal it's about Kanban management or

00:12:43,079 --> 00:12:46,920
something but it's really really good at

00:12:45,509 --> 00:12:48,509
helping you understand where in an

00:12:46,920 --> 00:12:50,730
organization developers you know

00:12:48,509 --> 00:12:54,269
developers fit and how they can help

00:12:50,730 --> 00:12:57,240
with why organization so there's this

00:12:54,269 --> 00:12:59,850
thing I made up this morning called the

00:12:57,240 --> 00:13:01,559
logging type table and basically this is

00:12:59,850 --> 00:13:02,850
talking about the different types of

00:13:01,559 --> 00:13:05,699
logging the different reasons you might

00:13:02,850 --> 00:13:07,559
use a log statement so we've got some

00:13:05,699 --> 00:13:11,160
things it's a bit small different

00:13:07,559 --> 00:13:12,809
different types of logging so there's

00:13:11,160 --> 00:13:16,679
there's something called tracings anyone

00:13:12,809 --> 00:13:18,329
heard the term tracing before yeah okay

00:13:16,679 --> 00:13:21,930
so tracing is often used for debugging

00:13:18,329 --> 00:13:24,690
it's kind of logging function in

00:13:21,930 --> 00:13:26,339
stations or individual variables and

00:13:24,690 --> 00:13:28,680
just for really when when there's some

00:13:26,339 --> 00:13:31,320
bug that you're looking at so the

00:13:28,680 --> 00:13:32,279
question it answers is what happened you

00:13:31,320 --> 00:13:34,440
know how do we get here

00:13:32,279 --> 00:13:36,570
what happened what did the user do to

00:13:34,440 --> 00:13:39,750
get to this point or what data came in

00:13:36,570 --> 00:13:42,480
to get to this point and we usually lock

00:13:39,750 --> 00:13:44,250
the state changes and function in

00:13:42,480 --> 00:13:48,180
vacations and it's targeted at

00:13:44,250 --> 00:13:50,850
developers so there's anyone heard of

00:13:48,180 --> 00:13:52,680
event logging fairly common term event

00:13:50,850 --> 00:13:54,390
logging it's analytics it's

00:13:52,680 --> 00:13:56,820
understanding what's going on inside the

00:13:54,390 --> 00:13:58,890
app is that a user doing specific things

00:13:56,820 --> 00:14:01,620
or is it the application doing specific

00:13:58,890 --> 00:14:03,060
things so what's happening actions and

00:14:01,620 --> 00:14:06,149
exceptions and it's useful for

00:14:03,060 --> 00:14:08,010
administrators product owners and kind

00:14:06,149 --> 00:14:12,779
of us as developers we know which bits

00:14:08,010 --> 00:14:14,459
of code to specifically improve progress

00:14:12,779 --> 00:14:17,250
logging which is something that probably

00:14:14,459 --> 00:14:19,790
we don't think much about this can

00:14:17,250 --> 00:14:22,500
actually feedback to users of

00:14:19,790 --> 00:14:25,940
applications has anyone ever used DD

00:14:22,500 --> 00:14:29,610
units tall DD for jams

00:14:25,940 --> 00:14:32,520
that was your DD what has anyone ever

00:14:29,610 --> 00:14:34,230
moved an image file not a dot IMG onto a

00:14:32,520 --> 00:14:40,709
an SD card for like a raspberry pie or

00:14:34,230 --> 00:14:43,170
something Wow okay so DD is an example

00:14:40,709 --> 00:14:46,440
of bad logging because you press DD and

00:14:43,170 --> 00:14:50,750
it starts copying this three gigabyte

00:14:46,440 --> 00:14:53,250
file onto an SD card and it just sorry

00:14:50,750 --> 00:14:58,320
the command did it yeah the UNIX utility

00:14:53,250 --> 00:15:00,330
yeah so DD you type DD this big file

00:14:58,320 --> 00:15:02,940
onto this SD card which I haven't used

00:15:00,330 --> 00:15:05,550
in three years maybe it'll work and it

00:15:02,940 --> 00:15:08,310
just sits there staring at you blank

00:15:05,550 --> 00:15:09,930
right no logging no explanation of

00:15:08,310 --> 00:15:11,940
what's going on it just kind of sits

00:15:09,930 --> 00:15:14,640
there and then come back in half an hour

00:15:11,940 --> 00:15:17,339
and hopefully it's worked right so

00:15:14,640 --> 00:15:20,959
that's that's kind of induces a lot of

00:15:17,339 --> 00:15:24,209
anxiety in its users so the question Oh

00:15:20,959 --> 00:15:26,160
so progress logging is all about

00:15:24,209 --> 00:15:28,620
answering the question are you okay are

00:15:26,160 --> 00:15:29,970
you still working have you crashed is

00:15:28,620 --> 00:15:32,190
there anything I can do to help

00:15:29,970 --> 00:15:33,600
basically so we kind of log percentage

00:15:32,190 --> 00:15:35,160
of progress what errors have happened

00:15:33,600 --> 00:15:37,980
what's going on

00:15:35,160 --> 00:15:40,230
targeted it users because this can

00:15:37,980 --> 00:15:43,410
bubble up to some application if I click

00:15:40,230 --> 00:15:45,720
a button in on some website and it

00:15:43,410 --> 00:15:47,100
starts churning away chugging away and

00:15:45,720 --> 00:15:49,709
doesn't load in five seconds I'm gonna

00:15:47,100 --> 00:15:51,029
hit refresh right but if some pop-up

00:15:49,709 --> 00:15:52,980
comes up and says this is going to take

00:15:51,029 --> 00:15:55,980
a while we're loading the page for you

00:15:52,980 --> 00:15:57,540
we're aggregating the data then you're

00:15:55,980 --> 00:15:59,670
more likely to kind of wait for it right

00:15:57,540 --> 00:16:00,870
so then there's audit which is kind of

00:15:59,670 --> 00:16:02,939
something that we really really don't

00:16:00,870 --> 00:16:05,100
think think about much which is kind of

00:16:02,939 --> 00:16:09,089
very verifying that the behavior of the

00:16:05,100 --> 00:16:11,939
application is correct you know did when

00:16:09,089 --> 00:16:13,769
my bank sent money do they log saying we

00:16:11,939 --> 00:16:15,389
transferred this much money from this

00:16:13,769 --> 00:16:17,579
account to this account and this

00:16:15,389 --> 00:16:19,290
accounts you know amount of money

00:16:17,579 --> 00:16:21,060
decreased by the same amount and this

00:16:19,290 --> 00:16:23,040
account increased alright this is kind

00:16:21,060 --> 00:16:24,750
of double entry bookkeeping what

00:16:23,040 --> 00:16:26,819
constants do is they just look at the

00:16:24,750 --> 00:16:28,529
data from different angles and they just

00:16:26,819 --> 00:16:29,699
make sure everything lines up and this

00:16:28,529 --> 00:16:31,680
is something that your compliance

00:16:29,699 --> 00:16:34,529
departments my needs the government

00:16:31,680 --> 00:16:35,850
might want my GD P R type stuff and the

00:16:34,529 --> 00:16:37,500
rest of the business might want because

00:16:35,850 --> 00:16:40,740
they want to know how many uses of work

00:16:37,500 --> 00:16:43,110
you know using the tool is the number of

00:16:40,740 --> 00:16:47,310
subscribers going down every month which

00:16:43,110 --> 00:16:51,389
is obviously a bad thing yeah so that's

00:16:47,310 --> 00:16:52,589
the the logging type table so purple

00:16:51,389 --> 00:16:54,389
slides again we're nearly at the end

00:16:52,589 --> 00:16:58,230
don't worry I'm just going to wrap up

00:16:54,389 --> 00:16:58,949
the sailing stuff so oh no I'm not I'm

00:16:58,230 --> 00:17:01,139
going to do this instead

00:16:58,949 --> 00:17:02,160
so the log and golden rules the three

00:17:01,139 --> 00:17:03,540
things to consider when you're writing

00:17:02,160 --> 00:17:04,220
logs and then I'm gonna wrap up the

00:17:03,540 --> 00:17:06,750
sailing stuff

00:17:04,220 --> 00:17:08,069
remember the reader so this is who's

00:17:06,750 --> 00:17:09,750
reading the data is it going to be

00:17:08,069 --> 00:17:11,789
passed are they going to be unable to

00:17:09,750 --> 00:17:14,880
understand what's going on do they know

00:17:11,789 --> 00:17:16,199
the context no personal data no

00:17:14,880 --> 00:17:17,939
passwords I've seen that a lot no

00:17:16,199 --> 00:17:20,429
passwords no usernames no email

00:17:17,939 --> 00:17:23,400
addresses depends on the context

00:17:20,429 --> 00:17:25,260
obviously and then answer the question

00:17:23,400 --> 00:17:26,760
think about what question are you trying

00:17:25,260 --> 00:17:28,650
to answer with these locks are you

00:17:26,760 --> 00:17:30,600
trying to answer how do we get here are

00:17:28,650 --> 00:17:34,280
you trying to answer are you functioning

00:17:30,600 --> 00:17:36,780
correctly are you trying to answer

00:17:34,280 --> 00:17:38,549
answer this random question that the

00:17:36,780 --> 00:17:42,030
marketing guy said hey I'd really love

00:17:38,549 --> 00:17:45,179
to know how many users log in every

00:17:42,030 --> 00:17:47,720
three seconds or every three days right

00:17:45,179 --> 00:17:48,830
if there's some specific thing that

00:17:47,720 --> 00:17:50,270
that's kind of the question and you need

00:17:48,830 --> 00:17:53,360
to make sure that that's understandable

00:17:50,270 --> 00:17:57,380
in the logs itself okay sailing now

00:17:53,360 --> 00:17:59,390
we're on sailing so this was my log that

00:17:57,380 --> 00:18:03,200
I kept in a book with paper and pen

00:17:59,390 --> 00:18:04,730
I mean hardcore stuff right so there are

00:18:03,200 --> 00:18:06,710
a few things that we can we can kind of

00:18:04,730 --> 00:18:08,720
keep take note of that we can actually

00:18:06,710 --> 00:18:10,970
learn so this is event logging this is

00:18:08,720 --> 00:18:14,090
me saying I did this and it happened for

00:18:10,970 --> 00:18:16,309
this long so this is when I picked the

00:18:14,090 --> 00:18:17,960
boat up yeah you can see that oh well

00:18:16,309 --> 00:18:19,970
the day I picked the boat up and the

00:18:17,960 --> 00:18:23,870
first time I ran the test and it ran for

00:18:19,970 --> 00:18:25,460
kind of three seconds then you can see

00:18:23,870 --> 00:18:27,289
something went wrong because suddenly my

00:18:25,460 --> 00:18:29,780
bilge pump the thing that's supposed to

00:18:27,289 --> 00:18:34,789
stop me from sinking takes 12 seconds to

00:18:29,780 --> 00:18:37,250
do its job and then some engineer came

00:18:34,789 --> 00:18:38,450
in the middle of the day you'll see by

00:18:37,250 --> 00:18:41,000
the arrest of the logs that it's kind of

00:18:38,450 --> 00:18:43,010
a weird time in the middle of the day he

00:18:41,000 --> 00:18:44,750
came and he fixed something and then ran

00:18:43,010 --> 00:18:46,880
it for ten seconds so this is an

00:18:44,750 --> 00:18:49,909
abnormal log alright so something

00:18:46,880 --> 00:18:50,990
different happened and then you can see

00:18:49,909 --> 00:18:52,909
something went wrong it's not

00:18:50,990 --> 00:18:54,740
immediately obvious but if you're kind

00:18:52,909 --> 00:18:57,260
of displaying this in a graph it's quite

00:18:54,740 --> 00:19:00,049
helpful that I actually missed the

00:18:57,260 --> 00:19:03,500
morning here I missed the morning on the

00:19:00,049 --> 00:19:05,169
2nd of the 4th and that's because ah we

00:19:03,500 --> 00:19:07,549
have more issues with our wart eater and

00:19:05,169 --> 00:19:09,110
suddenly worrying about actually being

00:19:07,549 --> 00:19:10,880
able to drink water was more important

00:19:09,110 --> 00:19:12,980
than than measuring

00:19:10,880 --> 00:19:14,620
how long our build comment ran for so

00:19:12,980 --> 00:19:17,390
that's something else went wrong and

00:19:14,620 --> 00:19:20,809
then that's when I ran that just before

00:19:17,390 --> 00:19:23,960
I dropped the boat off so another

00:19:20,809 --> 00:19:26,450
interesting thing is after the the tests

00:19:23,960 --> 00:19:27,590
are after the guy fixed it these tests

00:19:26,450 --> 00:19:29,059
are all very similar even though the

00:19:27,590 --> 00:19:33,799
amount of rain changes right so the

00:19:29,059 --> 00:19:35,150
actual test runs change so don't change

00:19:33,799 --> 00:19:37,190
much sorry which means there's probably

00:19:35,150 --> 00:19:39,350
a lot of overhead in the pump from

00:19:37,190 --> 00:19:40,880
spinning up right but there's a lot of

00:19:39,350 --> 00:19:43,460
overhead and you can tell because the

00:19:40,880 --> 00:19:43,820
values are similar not because they're

00:19:43,460 --> 00:19:46,490
different

00:19:43,820 --> 00:19:49,280
so similarities in locks is still really

00:19:46,490 --> 00:19:51,490
really handy ok that's it

00:19:49,280 --> 00:19:54,070
you can drink more beer eat more pizza

00:19:51,490 --> 00:19:56,130
cool

00:19:54,070 --> 00:19:56,130

YouTube URL: https://www.youtube.com/watch?v=q2sys329fuU


