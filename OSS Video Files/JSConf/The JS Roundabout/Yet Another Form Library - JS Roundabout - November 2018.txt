Title: Yet Another Form Library - JS Roundabout - November 2018
Publication date: 2018-11-13
Playlist: The JS Roundabout
Description: 
	Presented by Stuart Bourhill.

This talk will be a brief walkthrough using YAFL (a form library for React: https://github.com/stuburger/yafl) reflecting Stuart's experience building an open source library.

_

About Pusher Sessions:

We're bringing the meetup to you. With Sessions, you can watch recordings of top-notch talks from developer meetups -- wherever and whenever you want.

Meetups are a great way to learn from our peers and to keep up with the latest trends and technologies. As developers ourselves, we at Pusher wanted to bring this great content to more people... So we built Sessions. On Sessions, you can watch talks that interest you and subscribe to be notified when new content gets added.

If you run a meetup and want to get involved, kindly get in touch.

_

About Pusher:

Pusher is a hosted service with APIs, developer tools and open source libraries that greatly simplify integrating real-time functionality into web and mobile applications. 

Pusher will automatically scale when required, removing all the pain of setting up and maintaining a secure, real-time infrastructure. 

Pusher is already trusted to do so by thousands of developers and companies like GitHub, MailChimp, the Financial Times, Buffer and many more. 

Getting started takes just a few seconds: simply go to pusher.com and create a free account. Happy hacking!
Captions: 
	00:00:00,000 --> 00:00:05,700
good evening welcome to my talk first

00:00:02,970 --> 00:00:07,470
one ever in fact it's the first talk

00:00:05,700 --> 00:00:11,790
I've ever been to

00:00:07,470 --> 00:00:15,450
so go easy on me my talk is entitled yet

00:00:11,790 --> 00:00:18,720
another form library my name is Stu

00:00:15,450 --> 00:00:21,029
and there's my this is the github repo

00:00:18,720 --> 00:00:22,680
link if you're interested my twitter you

00:00:21,029 --> 00:00:23,820
can be like the eighth person to follow

00:00:22,680 --> 00:00:28,230
me

00:00:23,820 --> 00:00:31,949
and then trance Twitter account handle

00:00:28,230 --> 00:00:33,960
there okay so my talk is gonna be about

00:00:31,949 --> 00:00:36,630
a library that I created

00:00:33,960 --> 00:00:38,160
it's called yaffle yet another form

00:00:36,630 --> 00:00:40,829
library or yaffle is another form

00:00:38,160 --> 00:00:43,050
library it's sort of gonna be a mixed

00:00:40,829 --> 00:00:44,460
mode presentation I sort of tell you a

00:00:43,050 --> 00:00:47,700
little bit about the headspace I was in

00:00:44,460 --> 00:00:49,860
at the time and some retrospective sort

00:00:47,700 --> 00:00:52,280
of like learnings that I had and maybe

00:00:49,860 --> 00:00:54,750
some demos well definitely some demos

00:00:52,280 --> 00:00:56,910
hopefully we have time hopefully I don't

00:00:54,750 --> 00:01:01,079
completely mess up and then you know go

00:00:56,910 --> 00:01:04,409
over time but yep so what is yeah

00:01:01,079 --> 00:01:08,100
falafels a form library anyone worked

00:01:04,409 --> 00:01:11,570
with forms over here yeah so it's not

00:01:08,100 --> 00:01:14,420
just me okay wait first even rewind

00:01:11,570 --> 00:01:20,130
whoever here is a front-end developer

00:01:14,420 --> 00:01:22,229
yeah whoever here is using react okay

00:01:20,130 --> 00:01:23,700
that's cool that means some people know

00:01:22,229 --> 00:01:27,960
what I'm talking about

00:01:23,700 --> 00:01:32,100
whoever here has used a form library of

00:01:27,960 --> 00:01:34,729
any kind okay cool let's let's move on

00:01:32,100 --> 00:01:40,680
then all right I got this this is cool

00:01:34,729 --> 00:01:43,590
no hands okay so yaffle is similar to

00:01:40,680 --> 00:01:44,430
the likes of redux form form ik do these

00:01:43,590 --> 00:01:48,590
string any bells

00:01:44,430 --> 00:01:55,500
anyone use these libraries yeah formic

00:01:48,590 --> 00:01:58,259
redux form yeah both which one do you

00:01:55,500 --> 00:02:00,420
guys prefer for me uh-huh interesting

00:01:58,259 --> 00:02:01,680
okay cool well hopefully by the end of

00:02:00,420 --> 00:02:03,149
this evening maybe you'll they'll be

00:02:01,680 --> 00:02:05,579
like a third one in the running with

00:02:03,149 --> 00:02:08,099
like we'll see and then there's a whole

00:02:05,579 --> 00:02:09,509
bunch of other ones too like NPM is

00:02:08,099 --> 00:02:11,310
littered with them there's literally

00:02:09,509 --> 00:02:14,310
more form libraries on NPM than there

00:02:11,310 --> 00:02:15,120
or any other library I'm pretty sure of

00:02:14,310 --> 00:02:17,520
it

00:02:15,120 --> 00:02:20,849
yaffle the library I've created is is

00:02:17,520 --> 00:02:23,489
far more closely related to redux form I

00:02:20,849 --> 00:02:24,030
mean sorry that canceled that I'm

00:02:23,489 --> 00:02:27,000
nervous

00:02:24,030 --> 00:02:29,160
formic because it has no sort of

00:02:27,000 --> 00:02:31,910
external dependencies on a state

00:02:29,160 --> 00:02:35,730
management library like redux form does

00:02:31,910 --> 00:02:37,860
so you might at this point be asking

00:02:35,730 --> 00:02:39,150
yourselves like why did I do it we

00:02:37,860 --> 00:02:40,260
certainly didn't need another form

00:02:39,150 --> 00:02:42,360
library

00:02:40,260 --> 00:02:45,840
you know formic is is growing strong

00:02:42,360 --> 00:02:49,380
Redux form has again hundreds of

00:02:45,840 --> 00:02:51,000
thousands of monthly downloads you know

00:02:49,380 --> 00:02:51,390
great community support all that sort of

00:02:51,000 --> 00:02:53,910
stuff

00:02:51,390 --> 00:02:57,030
so did we need another form library

00:02:53,910 --> 00:03:02,970
probably not but that didn't stop me

00:02:57,030 --> 00:03:05,910
from creating one so why did I do it the

00:03:02,970 --> 00:03:09,540
fact is I didn't actually have much of a

00:03:05,910 --> 00:03:12,269
reason at the time this was this was

00:03:09,540 --> 00:03:13,860
earlier this year around Easter time I

00:03:12,269 --> 00:03:16,799
think it was April that's when he stares

00:03:13,860 --> 00:03:19,070
right I was in Cape Town I've just moved

00:03:16,799 --> 00:03:22,109
to London by the way fresh off the boat

00:03:19,070 --> 00:03:28,140
and I was on a holiday with my with my

00:03:22,109 --> 00:03:29,970
girlfriend and at the time react 16.3

00:03:28,140 --> 00:03:33,000
was coming out and I was really really

00:03:29,970 --> 00:03:37,079
excited to get working with a new

00:03:33,000 --> 00:03:40,230
context API of everyone here has anyone

00:03:37,079 --> 00:03:42,750
used new contacts API okay awesome

00:03:40,230 --> 00:03:44,370
relief yeah and like I was really

00:03:42,750 --> 00:03:47,519
excited so but I was being a good

00:03:44,370 --> 00:03:52,650
boyfriend I left all my work stuff at

00:03:47,519 --> 00:03:54,959
home in Johannesburg and I you know went

00:03:52,650 --> 00:03:56,430
to Cape Town without my computer but you

00:03:54,959 --> 00:03:58,680
know all the stuff was happening in the

00:03:56,430 --> 00:04:01,079
sort of JavaScript space and the react

00:03:58,680 --> 00:04:03,150
space and so I was like glued to my

00:04:01,079 --> 00:04:04,350
mobile mobile phone and that sounds

00:04:03,150 --> 00:04:06,030
really depressing but I was like reading

00:04:04,350 --> 00:04:08,130
all these blog posts and these tutorials

00:04:06,030 --> 00:04:11,459
and sort of like getting really amped to

00:04:08,130 --> 00:04:13,230
try out this this new API because I've

00:04:11,459 --> 00:04:14,850
been using the old one and you know sort

00:04:13,230 --> 00:04:16,829
of ignoring the the warnings that were

00:04:14,850 --> 00:04:21,299
attached to the documentation and never

00:04:16,829 --> 00:04:23,130
used it in production I promise and I do

00:04:21,299 --> 00:04:25,560
know a few people who might shot at me

00:04:23,130 --> 00:04:28,930
for saying that

00:04:25,560 --> 00:04:31,090
anyway so I got back to Joburg a couple

00:04:28,930 --> 00:04:33,210
days later and and finally I was able to

00:04:31,090 --> 00:04:36,220
sit in front of my laptop and try out

00:04:33,210 --> 00:04:38,020
the the context API which I was looking

00:04:36,220 --> 00:04:39,130
forward to and I sort of sat down I was

00:04:38,020 --> 00:04:41,380
like what am I gonna do

00:04:39,130 --> 00:04:43,750
what sort of hammered you know what can

00:04:41,380 --> 00:04:45,490
I build that's gonna use this thing and

00:04:43,750 --> 00:04:48,180
at the time I was sort of using a lot of

00:04:45,490 --> 00:04:52,090
forms as we do as front-end developers

00:04:48,180 --> 00:04:55,150
so I thought okay I'm gonna build a form

00:04:52,090 --> 00:04:58,900
library I guess and that sounds really

00:04:55,150 --> 00:05:00,640
boring and I promise you it is but then

00:04:58,900 --> 00:05:03,250
some good stuff happened and sort of it

00:05:00,640 --> 00:05:06,040
turned out not to be so boring so just a

00:05:03,250 --> 00:05:08,310
little background on on forms and and

00:05:06,040 --> 00:05:15,250
form libraries and why they exist I

00:05:08,310 --> 00:05:17,740
think at at the core of forms is user

00:05:15,250 --> 00:05:19,450
experience right like so creating good

00:05:17,740 --> 00:05:21,070
user experiences is really difficult

00:05:19,450 --> 00:05:23,620
especially when it comes to forms forms

00:05:21,070 --> 00:05:26,020
it turns out are really actually quite

00:05:23,620 --> 00:05:28,360
difficult you know you have to be

00:05:26,020 --> 00:05:30,280
sympathetic to the users feelings you

00:05:28,360 --> 00:05:32,470
don't want to like shout at them to to

00:05:30,280 --> 00:05:35,770
quickly otherwise you know you might

00:05:32,470 --> 00:05:36,850
just come across as patronizing but you

00:05:35,770 --> 00:05:39,130
also don't wanna shout at them too late

00:05:36,850 --> 00:05:41,590
like we've all like filled out a you

00:05:39,130 --> 00:05:43,030
know application form or you're booking

00:05:41,590 --> 00:05:44,980
a flight right and then you get to the

00:05:43,030 --> 00:05:46,990
bottom of the page and you hit submit or

00:05:44,980 --> 00:05:49,090
like pay now or something and then like

00:05:46,990 --> 00:05:50,410
nothing happens and then you scroll back

00:05:49,090 --> 00:05:52,110
to the top and you see the red writing

00:05:50,410 --> 00:05:54,550
that's like and you're like I'm like

00:05:52,110 --> 00:05:55,720
okay then you correct the mistake and

00:05:54,550 --> 00:05:58,270
then you do it you know and it's just

00:05:55,720 --> 00:05:59,650
like a disaster really bad user

00:05:58,270 --> 00:06:01,240
experience and at that point you you

00:05:59,650 --> 00:06:04,090
know you might just like jump over onto

00:06:01,240 --> 00:06:06,250
like some other better design website so

00:06:04,090 --> 00:06:10,720
it's really important for for the user

00:06:06,250 --> 00:06:15,040
experience to create a you know a good

00:06:10,720 --> 00:06:17,230
form library and because of all of those

00:06:15,040 --> 00:06:18,940
reasons it becomes more of a developer

00:06:17,230 --> 00:06:20,770
experience problem you have to keep

00:06:18,940 --> 00:06:23,200
track of a lot of states you need to

00:06:20,770 --> 00:06:25,960
know what fields a you know users

00:06:23,200 --> 00:06:28,150
visited what they've changed and

00:06:25,960 --> 00:06:29,530
obviously what like things they've gone

00:06:28,150 --> 00:06:31,210
and messed up right like you need to

00:06:29,530 --> 00:06:36,400
know if like an email address is valid

00:06:31,210 --> 00:06:38,420
and all that sort of stuff so to put

00:06:36,400 --> 00:06:43,070
that in context of

00:06:38,420 --> 00:06:46,820
of yaffle and and and my experience is

00:06:43,070 --> 00:06:48,860
with it so for those people who don't

00:06:46,820 --> 00:06:51,230
know what context is or the react

00:06:48,860 --> 00:06:54,770
context API essentially what it is is

00:06:51,230 --> 00:06:56,030
it's a way to pass data from one

00:06:54,770 --> 00:06:58,790
component to another through your

00:06:56,030 --> 00:07:01,550
component tree without having to do it

00:06:58,790 --> 00:07:03,200
explicitly through a technique that sort

00:07:01,550 --> 00:07:04,490
of become famously known as prop

00:07:03,200 --> 00:07:07,670
drilling does it has anyone heard of

00:07:04,490 --> 00:07:11,090
that yeah so essentially you're able to

00:07:07,670 --> 00:07:13,690
get a prop to a child component without

00:07:11,090 --> 00:07:16,640
having to pass through through

00:07:13,690 --> 00:07:23,300
explicitly and that's using a technique

00:07:16,640 --> 00:07:25,070
called magic okay so I had created this

00:07:23,300 --> 00:07:27,710
form library and and what I had done

00:07:25,070 --> 00:07:30,890
essentially was I had to two components

00:07:27,710 --> 00:07:33,080
he sent it was very very basic i had a

00:07:30,890 --> 00:07:34,880
form and that was took the place of the

00:07:33,080 --> 00:07:38,120
provider and it was just passing state

00:07:34,880 --> 00:07:39,860
down to state end and methods and that

00:07:38,120 --> 00:07:42,110
sort of thing to to the field components

00:07:39,860 --> 00:07:45,650
very much like the way formic does it

00:07:42,110 --> 00:07:48,100
and the way Redux form does it and and

00:07:45,650 --> 00:07:50,540
that sort of looked very much like this

00:07:48,100 --> 00:07:51,500
so i had the form it was it was super

00:07:50,540 --> 00:07:53,750
simple

00:07:51,500 --> 00:07:56,960
at the time i was also getting started

00:07:53,750 --> 00:07:59,120
with typescript and i'd like really gone

00:07:56,960 --> 00:08:01,430
down the rabbit hole of like me you know

00:07:59,120 --> 00:08:04,130
i really wanted to be a typesafe

00:08:01,430 --> 00:08:06,410
experience i became sort of obsessed

00:08:04,130 --> 00:08:09,320
with types and I kind of still AM but

00:08:06,410 --> 00:08:11,120
anyway so you know I didn't want to I

00:08:09,320 --> 00:08:14,090
didn't want the user to have to type in

00:08:11,120 --> 00:08:15,320
a field name equals surname because it

00:08:14,090 --> 00:08:16,730
was actually supposed to be last name I

00:08:15,320 --> 00:08:18,920
wanted the intellisense to be able to

00:08:16,730 --> 00:08:20,480
like pick that up and you know throw red

00:08:18,920 --> 00:08:23,060
squiggly lines all over the place and

00:08:20,480 --> 00:08:24,860
and I got that working it was really

00:08:23,060 --> 00:08:29,000
cool and I was super stoked I was really

00:08:24,860 --> 00:08:30,890
proud of myself and then I decided to

00:08:29,000 --> 00:08:33,830
try it out in real life you know some

00:08:30,890 --> 00:08:35,150
like real life data and this was the

00:08:33,830 --> 00:08:38,060
first call like literally it wasn't

00:08:35,150 --> 00:08:40,580
quite this but it was pretty close this

00:08:38,060 --> 00:08:44,750
was a some data coming back from a REST

00:08:40,580 --> 00:08:49,310
API and I was looking at it and my heart

00:08:44,750 --> 00:08:50,310
sank I was like oh my god I have missed

00:08:49,310 --> 00:08:52,950
something

00:08:50,310 --> 00:08:56,040
looking at this so this is this is what

00:08:52,950 --> 00:09:04,080
I had can you see what I might have

00:08:56,040 --> 00:09:08,790
missed out like what emissions I made in

00:09:04,080 --> 00:09:11,690
person personal well it was more aid a

00:09:08,790 --> 00:09:13,980
complexity perm like I hadn't thought of

00:09:11,690 --> 00:09:17,130
nested fields like I hadn't even thought

00:09:13,980 --> 00:09:19,200
that you know they could be like values

00:09:17,130 --> 00:09:20,940
attached to a field that were slightly

00:09:19,200 --> 00:09:23,730
more complex than a string or a number

00:09:20,940 --> 00:09:26,430
or boolean and it was at that point I

00:09:23,730 --> 00:09:28,500
was like I shouldn't be a developer this

00:09:26,430 --> 00:09:31,920
is I am the worst developer ever how did

00:09:28,500 --> 00:09:33,900
I forget that like how and anyway so I

00:09:31,920 --> 00:09:37,260
was just feeling really really

00:09:33,900 --> 00:09:39,900
despondent I I parked it it sort of went

00:09:37,260 --> 00:09:42,330
and had a couple drinks and I came back

00:09:39,900 --> 00:09:44,640
to it a couple days later and I was

00:09:42,330 --> 00:09:46,350
looking at the headless at this response

00:09:44,640 --> 00:09:48,690
that I was getting from the API I was

00:09:46,350 --> 00:09:51,839
trying to think how can I make this work

00:09:48,690 --> 00:09:53,279
with with what I've done without

00:09:51,839 --> 00:09:55,710
throwing away literally everything

00:09:53,279 --> 00:09:58,140
because it was like so fundamentally my

00:09:55,710 --> 00:10:01,770
code was so fundamentally and equipped

00:09:58,140 --> 00:10:04,230
to deal with just like only slightly

00:10:01,770 --> 00:10:06,780
complex data you know so I was looking

00:10:04,230 --> 00:10:08,280
at it how staring at it for for the

00:10:06,780 --> 00:10:11,820
longest time and and what sort of

00:10:08,280 --> 00:10:16,860
started popping out was that hiding in

00:10:11,820 --> 00:10:18,480
plain sight was a form nested within the

00:10:16,860 --> 00:10:21,570
form there's a contact form right there

00:10:18,480 --> 00:10:24,900
right and you know the same goes for

00:10:21,570 --> 00:10:28,080
addresses there is an addresses form

00:10:24,900 --> 00:10:30,720
right there and and that was sort of

00:10:28,080 --> 00:10:33,839
like the the lightbulb moment for me I

00:10:30,720 --> 00:10:37,260
sort of went from from here where I had

00:10:33,839 --> 00:10:40,170
this like you know form provider and a

00:10:37,260 --> 00:10:42,089
field consumer and I was like okay what

00:10:40,170 --> 00:10:44,610
what would happen if I just like you

00:10:42,089 --> 00:10:46,350
know said okay I've got this contact

00:10:44,610 --> 00:10:48,600
field and I'll just like say there's a

00:10:46,350 --> 00:10:52,110
form inside the contact and the contact

00:10:48,600 --> 00:10:55,709
prop field is a form in and of itself

00:10:52,110 --> 00:10:59,160
and inside that we've got a you know a

00:10:55,709 --> 00:11:01,950
dress form and and on that then we've

00:10:59,160 --> 00:11:03,699
got the the address fields and and to me

00:11:01,950 --> 00:11:05,919
like that seemed like okay it seems

00:11:03,699 --> 00:11:08,410
reasonable I wonder what you know and

00:11:05,919 --> 00:11:10,569
what happens if I nest up consumer

00:11:08,410 --> 00:11:12,639
inside I provided inside a consumer

00:11:10,569 --> 00:11:14,889
inside a provider of the same type I

00:11:12,639 --> 00:11:16,600
looked online I went some to the rack

00:11:14,889 --> 00:11:19,059
ducks I couldn't see anything that said

00:11:16,600 --> 00:11:21,220
don't do this I couldn't see it I was

00:11:19,059 --> 00:11:24,429
like Stack Overflow like github issues

00:11:21,220 --> 00:11:27,279
nothing you know so I was like okay I

00:11:24,429 --> 00:11:29,199
guess I can do this and I promise you it

00:11:27,279 --> 00:11:31,389
was a lot uglier than this but it

00:11:29,199 --> 00:11:33,609
actually worked like I was actually able

00:11:31,389 --> 00:11:36,639
to like have this sort of the structure

00:11:33,609 --> 00:11:38,919
where what happened was I let you know

00:11:36,639 --> 00:11:41,589
an unchanged event sort of bubble values

00:11:38,919 --> 00:11:44,739
up to the to the top form and change it

00:11:41,589 --> 00:11:47,019
it was ugly you know really really

00:11:44,739 --> 00:11:49,929
disgusting but that was the sort of

00:11:47,019 --> 00:11:52,029
lightbulb moment for me and I thought to

00:11:49,929 --> 00:11:55,209
myself if I'm he had a way to sort of

00:11:52,029 --> 00:11:57,429
like componentize this and lucky we're

00:11:55,209 --> 00:11:58,989
using reacts or that's exactly what I

00:11:57,429 --> 00:12:01,799
did I just said okay put that form in

00:11:58,989 --> 00:12:04,959
that field into the into one component

00:12:01,799 --> 00:12:06,339
and it was slightly like more complex on

00:12:04,959 --> 00:12:07,959
that I did have to do a lot of rewriting

00:12:06,339 --> 00:12:11,499
you guys were welcome to go look at the

00:12:07,959 --> 00:12:13,989
commit history it's disgusting lots of

00:12:11,499 --> 00:12:18,399
trial and error but finally I arrived at

00:12:13,989 --> 00:12:20,139
this and all this time and I still am to

00:12:18,399 --> 00:12:24,609
a certain extent sort of going like mmm

00:12:20,139 --> 00:12:26,980
this is a good idea but it was pretty

00:12:24,609 --> 00:12:30,059
interesting and this is sort of how efo

00:12:26,980 --> 00:12:34,299
works is basically I've got this this

00:12:30,059 --> 00:12:37,149
this this provider it passes data to its

00:12:34,299 --> 00:12:42,089
nearest consumer or to a consumer using

00:12:37,149 --> 00:12:45,669
magic and then the next consumer then

00:12:42,089 --> 00:12:47,799
manually passes props down to the

00:12:45,669 --> 00:12:50,079
following provider of this or the the

00:12:47,799 --> 00:12:51,429
next provider of the same type so now if

00:12:50,079 --> 00:12:53,049
you're following me but that's

00:12:51,429 --> 00:12:54,910
essentially what happens and then that

00:12:53,049 --> 00:12:57,429
provider then uses its magic to pass

00:12:54,910 --> 00:12:59,829
props down to any other consumers and

00:12:57,429 --> 00:13:02,230
that sort of looks like this right I've

00:12:59,829 --> 00:13:05,109
got a section and a sections called

00:13:02,230 --> 00:13:07,569
contacts and the it has another section

00:13:05,109 --> 00:13:09,519
inside it called address and one inside

00:13:07,569 --> 00:13:12,789
that and that's a field and that's your

00:13:09,519 --> 00:13:15,249
street name right and that all sort of

00:13:12,789 --> 00:13:16,850
looks like that I spent a long time in

00:13:15,249 --> 00:13:19,200
that slide

00:13:16,850 --> 00:13:20,670
like a really long time I think more

00:13:19,200 --> 00:13:26,190
time then took to do any of the other

00:13:20,670 --> 00:13:28,260
ones altogether so what what is that

00:13:26,190 --> 00:13:31,170
what does that actually mean for for

00:13:28,260 --> 00:13:37,950
summer using yaffle it's actually pretty

00:13:31,170 --> 00:13:39,740
cool so for one thing if you use redux

00:13:37,950 --> 00:13:43,640
form or for mac you've probably used

00:13:39,740 --> 00:13:46,980
string paths before string paths is how

00:13:43,640 --> 00:13:48,930
formic and Redux form create that depth

00:13:46,980 --> 00:13:50,760
create nested fields so what you would

00:13:48,930 --> 00:13:53,850
do is you would say field nate and you'd

00:13:50,760 --> 00:13:57,180
give it a name and that would be a dry

00:13:53,850 --> 00:13:59,760
start or contact address dot street name

00:13:57,180 --> 00:14:02,430
all right and and that's cool it allows

00:13:59,760 --> 00:14:06,420
you to to sort of define that that depth

00:14:02,430 --> 00:14:07,910
but you lose a lot of things do you know

00:14:06,420 --> 00:14:12,329
what you lose when you use string paths

00:14:07,910 --> 00:14:14,670
like one really important one type

00:14:12,329 --> 00:14:18,570
safety is one and and that's a good one

00:14:14,670 --> 00:14:19,920
I had to give that up but I think it was

00:14:18,570 --> 00:14:22,640
for a good reason

00:14:19,920 --> 00:14:25,020
another thing you lose is the ability to

00:14:22,640 --> 00:14:28,110
refactor your code so say your API

00:14:25,020 --> 00:14:30,180
endpoint changes and now you like okay

00:14:28,110 --> 00:14:31,440
well now my address is actually not on

00:14:30,180 --> 00:14:33,959
my contact anymore it's just like

00:14:31,440 --> 00:14:34,920
straight on the like routes object now I

00:14:33,959 --> 00:14:36,990
have to go change a whole bunch of

00:14:34,920 --> 00:14:38,640
strings that's like really really

00:14:36,990 --> 00:14:41,490
horrible working with strings in general

00:14:38,640 --> 00:14:44,660
is just like the worst so that sort of

00:14:41,490 --> 00:14:47,490
brings me to the next one which is about

00:14:44,660 --> 00:14:50,760
another benefit which is it allows me to

00:14:47,490 --> 00:14:54,060
stretch my components to match the shape

00:14:50,760 --> 00:14:56,250
of the API endpoint that I'm calling so

00:14:54,060 --> 00:14:58,440
instead of using strings I just like

00:14:56,250 --> 00:15:01,020
stretching my components the same in the

00:14:58,440 --> 00:15:03,750
same way that the data looks and it just

00:15:01,020 --> 00:15:05,370
works so refactoring becomes as simple

00:15:03,750 --> 00:15:08,550
as just like highlighting the piece of

00:15:05,370 --> 00:15:09,180
code and option up option down and it

00:15:08,550 --> 00:15:10,680
just works

00:15:09,180 --> 00:15:13,890
it's not no longer do I have to go and

00:15:10,680 --> 00:15:18,120
cut and paste strings and do any of that

00:15:13,890 --> 00:15:20,910
sort of thing it's also really really

00:15:18,120 --> 00:15:22,110
fast I'll show you a demo of that in a

00:15:20,910 --> 00:15:27,029
second

00:15:22,110 --> 00:15:29,490
i it's type safe for the most part but

00:15:27,029 --> 00:15:30,250
it's also like I think a lot more fun

00:15:29,490 --> 00:15:34,600
than

00:15:30,250 --> 00:15:37,030
with you know Redux for more formic it's

00:15:34,600 --> 00:15:39,640
super super easy it's also really

00:15:37,030 --> 00:15:42,100
flexible it's got a smaller footprint

00:15:39,640 --> 00:15:46,090
than the likes of both relaxed form and

00:15:42,100 --> 00:15:47,680
formic and yeah now this was the slide

00:15:46,090 --> 00:15:49,630
that would have to remind me to show you

00:15:47,680 --> 00:15:55,450
a demo so that's what I'm gonna do now

00:15:49,630 --> 00:15:57,490
so start off with let me show you okay

00:15:55,450 --> 00:15:59,650
let's show you this this is on my github

00:15:57,490 --> 00:16:00,910
page it's just linked to on the readme

00:15:59,650 --> 00:16:02,560
so you're welcome to go check this out

00:16:00,910 --> 00:16:04,150
but this is sort of just like showing

00:16:02,560 --> 00:16:06,580
you the updates that are happening

00:16:04,150 --> 00:16:09,160
behind the scenes you would expect this

00:16:06,580 --> 00:16:10,570
to happen if you're using real X form of

00:16:09,160 --> 00:16:12,970
formic but there's a couple interesting

00:16:10,570 --> 00:16:15,970
things here that I chose to do slightly

00:16:12,970 --> 00:16:18,310
differently more unlike a philosophical

00:16:15,970 --> 00:16:21,820
side for example validation validation

00:16:18,310 --> 00:16:23,890
with formic and Redux form is done only

00:16:21,820 --> 00:16:25,600
at a certain point so like when you blur

00:16:23,890 --> 00:16:28,000
a field for example then it will go and

00:16:25,600 --> 00:16:30,220
validate it and you can specify when you

00:16:28,000 --> 00:16:32,140
want feel to be validated but that's

00:16:30,220 --> 00:16:34,210
wrong right

00:16:32,140 --> 00:16:35,589
it just is if you're filling out an

00:16:34,210 --> 00:16:36,850
application form or if you're writing a

00:16:35,589 --> 00:16:38,710
test and you hand the test and you

00:16:36,850 --> 00:16:39,850
didn't complete section B do you get the

00:16:38,710 --> 00:16:43,390
marks because you didn't complete it

00:16:39,850 --> 00:16:45,100
like it's invalid right it's not invalid

00:16:43,390 --> 00:16:48,010
because you didn't see it yet it's just

00:16:45,100 --> 00:16:49,510
invalid and so what you can see over

00:16:48,010 --> 00:16:51,010
here is there's an error count field

00:16:49,510 --> 00:16:53,500
then we sort of highlight that and you

00:16:51,010 --> 00:16:55,240
can see there are four errors on this

00:16:53,500 --> 00:16:57,400
form even though I haven't visited those

00:16:55,240 --> 00:16:59,230
fields and that's a really important

00:16:57,400 --> 00:17:00,850
note and one of the reasons why these

00:16:59,230 --> 00:17:05,020
libraries don't do it is for performance

00:17:00,850 --> 00:17:06,610
reasons but yaffle doesn't suffer from

00:17:05,020 --> 00:17:09,880
those so let's take a look at a

00:17:06,610 --> 00:17:11,920
performance test here's an example with

00:17:09,880 --> 00:17:14,260
formic it's a really big form please

00:17:11,920 --> 00:17:17,110
don't ever make a form that has 1600

00:17:14,260 --> 00:17:22,079
input fields I promise you you will be

00:17:17,110 --> 00:17:22,079
fired okay so let's try something

00:17:27,929 --> 00:17:32,440
okay I just wrote hello world maybe I

00:17:31,360 --> 00:17:35,799
should have said that everybody been

00:17:32,440 --> 00:17:37,330
more cool to see just pop up there you

00:17:35,799 --> 00:17:38,980
go so you can see that was quite long I

00:17:37,330 --> 00:17:40,990
was told to shorten the string that I

00:17:38,980 --> 00:17:43,149
was or the input I was gonna write

00:17:40,990 --> 00:17:46,029
because it can take a really long time

00:17:43,149 --> 00:17:48,360
she has yaffle with the same number of

00:17:46,029 --> 00:17:48,360
fields

00:17:58,230 --> 00:18:03,930
right so and that's and validations

00:18:00,720 --> 00:18:05,430
happening in the in in here as well as I

00:18:03,930 --> 00:18:09,270
go look longer dB

00:18:05,430 --> 00:18:12,720
why did that come yeah cool sorry I

00:18:09,270 --> 00:18:19,740
forgot the mic yes so there you can see

00:18:12,720 --> 00:18:22,380
that it's a slightly faster and yeah and

00:18:19,740 --> 00:18:24,450
yeah so let me go back to the slides

00:18:22,380 --> 00:18:31,020
there's very few left I think maybe one

00:18:24,450 --> 00:18:34,890
so should you use yeah for sure why not

00:18:31,020 --> 00:18:36,630
just go ahead there are some things that

00:18:34,890 --> 00:18:43,620
I really really want to get around to

00:18:36,630 --> 00:18:48,660
implementing it's lacking tests I mean

00:18:43,620 --> 00:18:50,880
yeah I mean like yeah it's it's it's

00:18:48,660 --> 00:18:54,120
difficult to say yes definitively I'm

00:18:50,880 --> 00:18:57,090
I'm still not sure whether what I've

00:18:54,120 --> 00:18:59,340
done is like good practice I would love

00:18:57,090 --> 00:19:03,900
some feedback I actually did write some

00:18:59,340 --> 00:19:05,580
Dan Abramov the creative redux to sort

00:19:03,900 --> 00:19:07,500
of ask you must take a look at this code

00:19:05,580 --> 00:19:09,120
like what do you think any and he was

00:19:07,500 --> 00:19:11,070
really kind enough to write back and and

00:19:09,120 --> 00:19:15,210
sort of say sounds like a good idea

00:19:11,070 --> 00:19:17,070
and I was just like awesome my he didn't

00:19:15,210 --> 00:19:18,720
look at the card but he said he wasn't

00:19:17,070 --> 00:19:20,430
familiar with the problem space and I

00:19:18,720 --> 00:19:26,520
respect that I was just like start to

00:19:20,430 --> 00:19:29,670
even replied but yeah if you want to go

00:19:26,520 --> 00:19:31,920
check it out I would love you to give me

00:19:29,670 --> 00:19:33,570
some feedback even and if you want to

00:19:31,920 --> 00:19:35,010
start working on it like hey I'll make

00:19:33,570 --> 00:19:36,840
you a contributor like there'd be

00:19:35,010 --> 00:19:38,460
awesome this is the most people that

00:19:36,840 --> 00:19:40,950
I've ever even heard of it I've showed

00:19:38,460 --> 00:19:43,170
it to very few people literally to

00:19:40,950 --> 00:19:45,990
trance only I was even able to sneak it

00:19:43,170 --> 00:19:50,150
into an mr and only everybody noticed

00:19:45,990 --> 00:19:55,560
but but it's still there so you know yay

00:19:50,150 --> 00:19:57,380
yep and that's my talk I do have another

00:19:55,560 --> 00:19:59,580
slide if I run out of time but it says

00:19:57,380 --> 00:20:01,110
that isn't even the time I'm looking at

00:19:59,580 --> 00:20:04,410
that's the actual time not how many

00:20:01,110 --> 00:20:07,560
minutes have been talking for okay

00:20:04,410 --> 00:20:09,210
anyway I won't get onto that because I'm

00:20:07,560 --> 00:20:11,280
sure I'm over time I don't know how long

00:20:09,210 --> 00:20:11,970
I've been going for but if you want to

00:20:11,280 --> 00:20:14,280
talk to me about it

00:20:11,970 --> 00:20:16,430
come to me after this thank you very

00:20:14,280 --> 00:20:16,430
much

00:20:16,490 --> 00:20:20,339

YouTube URL: https://www.youtube.com/watch?v=heQpnpkQsj4


