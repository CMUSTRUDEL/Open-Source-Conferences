Title: Polishing X11 and making it shiny
Publication date: 2011-12-22
Playlist: FOSDEM 2010
Description: 
	By Daniel Stone

There are a few niggles about X11 today that mean every embedded device vendor patches the server in various unpleasant ways, whereas on the desktop it just looks suboptimal and we suck it up.

This talk will cover a few parts of X11, such as client-side cursors, the video API, Composite, RandR, which currently need to be improved to make X11 look as good as it possibly can, without going to Wayland or X12.


FOSDEM (Free and Open Source Development European Meeting) is a European event centered around Free and Open Source software development. It is aimed at developers and all interested in the Free and Open Source news in the world. Its goals are to enable developers to meet and to promote the awareness and use of free and open source software. More info at http://fosdem.org
Captions: 
	00:00:00,000 --> 00:00:06,450
crack on right so my name is Daniel

00:00:03,419 --> 00:00:11,639
stone I work for ivory limited but all

00:00:06,450 --> 00:00:15,929
fantastic and yes that's part no longer

00:00:11,639 --> 00:00:18,240
and so if you came we expecting with the

00:00:15,929 --> 00:00:20,369
graphical demos and stuff this is not it

00:00:18,240 --> 00:00:23,939
and we might probably want to go to a

00:00:20,369 --> 00:00:27,180
more visually interesting talk this is

00:00:23,939 --> 00:00:29,820
about as shiny as my toolkit so sorry

00:00:27,180 --> 00:00:36,239
about I picked the title in about three

00:00:29,820 --> 00:00:38,399
minutes so basically the whole thing

00:00:36,239 --> 00:00:41,600
behind my talk is every frame must be

00:00:38,399 --> 00:00:44,690
perfect now I've been working on

00:00:41,600 --> 00:00:48,120
consumer and mobile devices for the last

00:00:44,690 --> 00:00:53,190
four or so years of my life and it's

00:00:48,120 --> 00:00:57,840
been absolutely wonderful so the problem

00:00:53,190 --> 00:01:00,480
we have is that the desktop is allowed

00:00:57,840 --> 00:01:03,930
to look fairly rubbish you're allowed to

00:01:00,480 --> 00:01:06,689
have incorrect frames so when you're

00:01:03,930 --> 00:01:08,970
resizing your windows are allowed to

00:01:06,689 --> 00:01:11,460
look horrible you know it can look

00:01:08,970 --> 00:01:14,460
jittery you're allowed to flush up

00:01:11,460 --> 00:01:16,500
random bits of color you know you can

00:01:14,460 --> 00:01:19,080
springer window up and it can go black

00:01:16,500 --> 00:01:21,299
and then be repainted and this is all

00:01:19,080 --> 00:01:23,729
right partially because desktops are

00:01:21,299 --> 00:01:26,340
really fast so you don't entirely notice

00:01:23,729 --> 00:01:28,409
it and partially because people just

00:01:26,340 --> 00:01:32,030
have really low expectations of

00:01:28,409 --> 00:01:35,340
computers and I can't call them buddy

00:01:32,030 --> 00:01:38,330
certainly when you buy a consumer device

00:01:35,340 --> 00:01:42,010
like the purple nokia n900

00:01:38,330 --> 00:01:42,010
you should old garden purchase several

00:01:42,790 --> 00:01:46,820
there really doe wonderful they've got

00:01:45,440 --> 00:01:48,530
 islands that you can wonder around

00:01:46,820 --> 00:01:55,910
the conference I came where are you I

00:01:48,530 --> 00:01:59,210
mean a half group cool so much and so if

00:01:55,910 --> 00:02:01,520
you get a just a tiny little glitch or a

00:01:59,210 --> 00:02:04,070
visual artifacts on that it's really

00:02:01,520 --> 00:02:06,710
really jarring because you don't accept

00:02:04,070 --> 00:02:09,140
that your phone does that and saying

00:02:06,710 --> 00:02:12,800
goes anywhere else where people tend to

00:02:09,140 --> 00:02:15,200
collapse like set-top boxes or anything

00:02:12,800 --> 00:02:19,520
people pay money for that doesn't work

00:02:15,200 --> 00:02:21,950
it doesn't have a keeping basically and

00:02:19,520 --> 00:02:24,260
so yeah that causes when you're working

00:02:21,950 --> 00:02:27,920
on them product management come up and

00:02:24,260 --> 00:02:30,140
say oh my god this must be Pete Smith

00:02:27,920 --> 00:02:32,360
sleep never minded it's going to take

00:02:30,140 --> 00:02:34,310
about four weeks because you know it's a

00:02:32,360 --> 00:02:37,459
tiny flash of luck how hard the feet of

00:02:34,310 --> 00:02:40,220
pizza so that's the kind of thing that

00:02:37,459 --> 00:02:41,990
gets you critical oh my god we're

00:02:40,220 --> 00:02:45,350
shipping next week and we can't ship

00:02:41,990 --> 00:02:48,290
with this one's so maintaining X for a

00:02:45,350 --> 00:02:55,280
consumer device is really really fun and

00:02:48,290 --> 00:02:57,410
I can highly recommend it right so the

00:02:55,280 --> 00:03:01,580
rough laundry list of problems this has

00:02:57,410 --> 00:03:03,350
come from yeah having worked for nokia

00:03:01,580 --> 00:03:07,720
for two-and-a-half beautiful for that on

00:03:03,350 --> 00:03:11,090
all the internet tablets and collide bro

00:03:07,720 --> 00:03:14,450
subsequently rockin omni and 900 and a

00:03:11,090 --> 00:03:18,310
few others most of the things i've come

00:03:14,450 --> 00:03:21,500
up with come up again sorry and also

00:03:18,310 --> 00:03:24,890
when i started at not going kid make a

00:03:21,500 --> 00:03:28,040
fairly conservative it to hunt down all

00:03:24,890 --> 00:03:31,820
the other phone and consumer device x3's

00:03:28,040 --> 00:03:33,700
i could find and see just exactly how

00:03:31,820 --> 00:03:38,239
other people with

00:03:33,700 --> 00:03:41,780
I tried to find all the other Pat steps

00:03:38,239 --> 00:03:43,970
again this one sadly they're all in all

00:03:41,780 --> 00:03:46,330
the SDKs tend to be getting behind be

00:03:43,970 --> 00:03:49,040
aware of the Leopards I'm and

00:03:46,330 --> 00:03:51,650
downloading you know one gig of

00:03:49,040 --> 00:03:54,670
someone's SDK in a while file didn't

00:03:51,650 --> 00:03:59,630
seem like a great idea of positivism

00:03:54,670 --> 00:04:01,640
this is mostly the stuff from Nokia that

00:03:59,630 --> 00:04:03,830
I've had direct experience with and what

00:04:01,640 --> 00:04:08,330
I remember from looking at rubbish box

00:04:03,830 --> 00:04:10,750
sets about four years ago so the first

00:04:08,330 --> 00:04:13,700
problem is that act isn't Wayland

00:04:10,750 --> 00:04:17,690
waveland garden design principle is that

00:04:13,700 --> 00:04:19,489
every frame has to be perfect everything

00:04:17,690 --> 00:04:22,370
that gets presented to the screen is

00:04:19,489 --> 00:04:24,800
exactly what you want to see there's no

00:04:22,370 --> 00:04:28,400
tearing there's no sort of intermediate

00:04:24,800 --> 00:04:31,370
frames being that you know your resize

00:04:28,400 --> 00:04:33,200
and window gravity kicks in and sort of

00:04:31,370 --> 00:04:36,020
shops your content somewhere else and

00:04:33,200 --> 00:04:39,320
then you agree draw your content and all

00:04:36,020 --> 00:04:44,060
that content so if X was one did it be

00:04:39,320 --> 00:04:46,970
great but it's not so here we are window

00:04:44,060 --> 00:04:50,180
reconfiguration is the hard one when

00:04:46,970 --> 00:04:53,240
you're resizing and moving windows

00:04:50,180 --> 00:04:57,830
you're almost guaranteed to get God or

00:04:53,240 --> 00:05:00,860
full results between satin finish random

00:04:57,830 --> 00:05:04,700
reconfiguration is absolutely horrible

00:05:00,860 --> 00:05:08,419
and that's been a large chunk of my life

00:05:04,700 --> 00:05:12,650
I'm that's going to see back again video

00:05:08,419 --> 00:05:15,560
doing correctly is very hard our server

00:05:12,650 --> 00:05:18,169
implementation it was written by people

00:05:15,560 --> 00:05:22,520
who generally don't care about this kind

00:05:18,169 --> 00:05:25,789
of thing composite does fix most of

00:05:22,520 --> 00:05:29,710
these problems except that sometimes you

00:05:25,789 --> 00:05:31,830
don't want it on devices where I've been

00:05:29,710 --> 00:05:34,440
extremely limited

00:05:31,830 --> 00:05:37,140
regarding it so if you need to do a

00:05:34,440 --> 00:05:41,790
double copy generally your UI just gets

00:05:37,140 --> 00:05:44,190
hideous and slow so you need to just

00:05:41,790 --> 00:05:47,310
enable and disable composite on the fly

00:05:44,190 --> 00:05:49,290
and it turns out that enabling them to

00:05:47,310 --> 00:05:50,700
save wings and positive results in your

00:05:49,290 --> 00:05:53,190
screen looking ravishing the

00:05:50,700 --> 00:05:58,100
interminable flashes of blackened other

00:05:53,190 --> 00:06:00,690
missing the initial and final

00:05:58,100 --> 00:06:06,050
presentation of the server when you

00:06:00,690 --> 00:06:06,050
start and shutdown is fairly ugly

00:06:06,110 --> 00:06:11,250
especially when you shut down you kind

00:06:08,550 --> 00:06:13,290
of get all the windows undecorated in

00:06:11,250 --> 00:06:17,040
some random order and then you get your

00:06:13,290 --> 00:06:18,870
nice little then you get your nice

00:06:17,040 --> 00:06:24,230
little shut down screen that we paint

00:06:18,870 --> 00:06:24,230
onto the frame open and everything tears

00:06:24,350 --> 00:06:32,790
right so basically all this is fixable

00:06:28,530 --> 00:06:34,980
to some extent row and there aren't any

00:06:32,790 --> 00:06:38,400
particular fundamental problems that

00:06:34,980 --> 00:06:44,010
mean we can't solve it so yeah as I said

00:06:38,400 --> 00:06:47,550
before everyone hacks into bishop so if

00:06:44,010 --> 00:06:50,310
you look at the X or twist as a bunch of

00:06:47,550 --> 00:06:53,490
people saying I've got this tiny problem

00:06:50,310 --> 00:06:55,770
how do I picture generally there's not

00:06:53,490 --> 00:06:57,900
much good advice for coming and from the

00:06:55,770 --> 00:07:01,530
patterns I've seen they pack around it

00:06:57,900 --> 00:07:04,200
in the worst that is possible and yeah

00:07:01,530 --> 00:07:06,480
thankfully for them in their sense of

00:07:04,200 --> 00:07:09,540
Jane is generally really hard to find

00:07:06,480 --> 00:07:13,530
these subsets but it's also bad because

00:07:09,540 --> 00:07:15,390
it can't pronounce the problem and yeah

00:07:13,530 --> 00:07:19,890
the ones you can't find probably even

00:07:15,390 --> 00:07:23,250
once so ideally we'd be able to fix this

00:07:19,890 --> 00:07:26,070
stuff up so people who want to use axing

00:07:23,250 --> 00:07:27,320
above all of consumer device can just

00:07:26,070 --> 00:07:29,030
install a friendship

00:07:27,320 --> 00:07:31,220
and they don't live spend four months

00:07:29,030 --> 00:07:33,920
looking at code going I don't know what

00:07:31,220 --> 00:07:38,960
this done spot it flashes flax I'm going

00:07:33,920 --> 00:07:41,870
to comment it out and about right so

00:07:38,960 --> 00:07:45,620
granda comes first by virtue of being

00:07:41,870 --> 00:07:47,390
the worst offender here it's built on

00:07:45,620 --> 00:07:49,840
the assumption that we never want to

00:07:47,390 --> 00:07:52,640
change screen size which seems odd for

00:07:49,840 --> 00:07:56,840
an extension which exists to love you

00:07:52,640 --> 00:07:59,750
reconfigure your screen but it's built

00:07:56,840 --> 00:08:02,000
on the assumption of all you ever want

00:07:59,750 --> 00:08:04,970
to do is say plug in your projector

00:08:02,000 --> 00:08:08,720
every now and again or change size sort

00:08:04,970 --> 00:08:11,140
of once a week or whatever but it turns

00:08:08,720 --> 00:08:15,290
out we need to do this fairly frequently

00:08:11,140 --> 00:08:17,300
there were it seems to be less popular

00:08:15,290 --> 00:08:20,780
these days that suddenly a few years ago

00:08:17,300 --> 00:08:23,210
a lot of people try to make games and

00:08:20,780 --> 00:08:28,310
they will ridiculously slow so they just

00:08:23,210 --> 00:08:31,610
resize it screen to roughly half and in

00:08:28,310 --> 00:08:33,800
the n900 we switch between portrait and

00:08:31,610 --> 00:08:36,080
landscape quite a lot so when you start

00:08:33,800 --> 00:08:39,710
before an application it does a rotation

00:08:36,080 --> 00:08:41,780
transition and it's used to take for

00:08:39,710 --> 00:08:45,440
that like three seconds in the worst

00:08:41,780 --> 00:08:47,270
case yeah so it could actually make you

00:08:45,440 --> 00:08:49,670
miss your call because by the time you

00:08:47,270 --> 00:08:54,560
rotate it is the phone new life they've

00:08:49,670 --> 00:08:57,320
given up and yet the current

00:08:54,560 --> 00:09:01,490
implementation is just an absolute

00:08:57,320 --> 00:09:05,780
slight honey something changed by God

00:09:01,490 --> 00:09:08,600
let's remove the entire thing in order

00:09:05,780 --> 00:09:11,750
to rotate I think you previously have to

00:09:08,600 --> 00:09:15,020
do at the very layout all your visible

00:09:11,750 --> 00:09:18,320
window is six times and breathe by

00:09:15,020 --> 00:09:23,600
adding in gtk still takes approximately

00:09:18,320 --> 00:09:27,709
40 and so that was quite different

00:09:23,600 --> 00:09:30,949
and it sort of it that stated by there's

00:09:27,709 --> 00:09:34,009
no single rounder entry point that you

00:09:30,949 --> 00:09:36,440
can say here's my new screen integration

00:09:34,009 --> 00:09:41,120
the police make it happen if you want to

00:09:36,440 --> 00:09:43,490
rotate you have to disable the CRTC then

00:09:41,120 --> 00:09:47,060
change your screen size and then

00:09:43,490 --> 00:09:48,889
re-enable the CRTC retort asian so if

00:09:47,060 --> 00:09:51,709
you're doing this like such a memory

00:09:48,889 --> 00:09:55,970
configuration at each step then it's

00:09:51,709 --> 00:09:58,459
pretty awful and it also means that if

00:09:55,970 --> 00:09:59,839
you want to rotate and you're doing a

00:09:58,459 --> 00:10:02,480
nice with the transition between

00:09:59,839 --> 00:10:04,310
portrait and landscape you have to have

00:10:02,480 --> 00:10:07,100
a natural black point in the middle

00:10:04,310 --> 00:10:09,290
where you can to take me this lt's it

00:10:07,100 --> 00:10:13,910
quickly rearrange everything and then

00:10:09,290 --> 00:10:16,490
turns back on we used to there was a

00:10:13,910 --> 00:10:19,430
nice sort of gradual sweet between

00:10:16,490 --> 00:10:22,069
portrait and landscape but luckily we've

00:10:19,430 --> 00:10:24,370
changed the transitions of a kind of

00:10:22,069 --> 00:10:26,779
clips around dominicos black very nicely

00:10:24,370 --> 00:10:32,029
everything happens under the garden and

00:10:26,779 --> 00:10:34,100
becomes like a vision and it's also felt

00:10:32,029 --> 00:10:37,970
under the assumption that no one

00:10:34,100 --> 00:10:43,009
actually ever wants to rotate rotation

00:10:37,970 --> 00:10:47,209
is generally punitive lee slow it works

00:10:43,009 --> 00:10:49,279
by having a shadow bottle and then every

00:10:47,209 --> 00:10:52,279
now and again when we kind of done with

00:10:49,279 --> 00:10:55,970
clients and we get around to it then we

00:10:52,279 --> 00:10:58,540
do a rotated flip into the transform

00:10:55,970 --> 00:11:01,759
Smith and this is partially because

00:10:58,540 --> 00:11:05,089
there are very few devices left with

00:11:01,759 --> 00:11:06,769
Hardware rotation engines so it's

00:11:05,089 --> 00:11:09,139
designed to the desktop which has no

00:11:06,769 --> 00:11:14,569
part of a rotation and even on the

00:11:09,139 --> 00:11:17,389
desktop it's unusable slept right in

00:11:14,569 --> 00:11:20,449
composite switching between the two

00:11:17,389 --> 00:11:21,830
modes is fairly punitive if you want to

00:11:20,449 --> 00:11:25,220
switch between compositor

00:11:21,830 --> 00:11:30,980
positive you get flashes of black and

00:11:25,220 --> 00:11:32,810
round and then other and this saying

00:11:30,980 --> 00:11:34,730
don't do that man is a really attractive

00:11:32,810 --> 00:11:37,850
argument i've spent about four months

00:11:34,730 --> 00:11:41,090
saying don't do that then but sadly in

00:11:37,850 --> 00:11:43,040
the end really for performance reasons

00:11:41,090 --> 00:11:46,120
we do need to be able to switch

00:11:43,040 --> 00:11:50,300
composite on and off pretty much of them

00:11:46,120 --> 00:11:55,330
so yeah you have to do it which means we

00:11:50,300 --> 00:11:59,590
have to dip them in it's largely

00:11:55,330 --> 00:12:02,720
hackable around from the client side

00:11:59,590 --> 00:12:04,940
instead about a week or so and the

00:12:02,720 --> 00:12:07,070
transition between composited and non

00:12:04,940 --> 00:12:10,850
compulsive it is now single from the

00:12:07,070 --> 00:12:16,600
n900 but it's really not obvious how to

00:12:10,850 --> 00:12:21,280
get to their right we know

00:12:16,600 --> 00:12:24,110
reconfiguration is again fairly often

00:12:21,280 --> 00:12:26,480
luckily you don't tend to do it that

00:12:24,110 --> 00:12:30,110
much in the mobile world which is really

00:12:26,480 --> 00:12:33,370
nice but basically it's specified torque

00:12:30,110 --> 00:12:36,950
idiots in between start and finish

00:12:33,370 --> 00:12:39,470
you've got your backgrounds and big

00:12:36,950 --> 00:12:42,890
gravity which basically guaranteeing

00:12:39,470 --> 00:12:45,650
frames when your resize don't thin and

00:12:42,890 --> 00:12:48,890
structure it's going to move around the

00:12:45,650 --> 00:12:50,900
contents for you it might be painting

00:12:48,890 --> 00:12:55,100
the background for you when you bring a

00:12:50,900 --> 00:12:57,740
window back up and that doesn't really

00:12:55,100 --> 00:13:01,760
give you anything useful all it means is

00:12:57,740 --> 00:13:05,300
that you get a flash is great and apps

00:13:01,760 --> 00:13:08,420
it's partially the applications for for

00:13:05,300 --> 00:13:12,260
example on the external application

00:13:08,420 --> 00:13:13,550
order certain unnamed mobile device I'm

00:13:12,260 --> 00:13:15,320
not going to name it because it's

00:13:13,550 --> 00:13:18,230
otherwise perfect I don't wanna sign

00:13:15,320 --> 00:13:20,930
directs goodnight but if you set a black

00:13:18,230 --> 00:13:23,720
background to be a stone it still leaves

00:13:20,930 --> 00:13:25,040
the window background is white so when

00:13:23,720 --> 00:13:32,420
you bring it back up it's going to go

00:13:25,040 --> 00:13:34,370
back and that absorb so when you're not

00:13:32,420 --> 00:13:36,320
reconfiguring windows especially if

00:13:34,370 --> 00:13:39,370
you're trying to move and resize windows

00:13:36,320 --> 00:13:42,220
at the same time which we do when we

00:13:39,370 --> 00:13:45,340
transition between full screen and not

00:13:42,220 --> 00:13:48,410
absolute got a title well on the top

00:13:45,340 --> 00:13:51,830
then you basically need to be using a

00:13:48,410 --> 00:13:53,570
composite during the stage so if you're

00:13:51,830 --> 00:13:56,570
a young composited mode what you really

00:13:53,570 --> 00:13:59,020
need to do is get into composited mode

00:13:56,570 --> 00:14:01,370
and try not to cause artifacts there

00:13:59,020 --> 00:14:03,770
reconfigure your windows under the

00:14:01,370 --> 00:14:06,320
curtain wait until they're all done

00:14:03,770 --> 00:14:10,310
paint the contents and then back out a

00:14:06,320 --> 00:14:13,130
composite of the word again and yet all

00:14:10,310 --> 00:14:16,630
apps and toolkits are ridiculously

00:14:13,130 --> 00:14:19,820
stupid here they do all the wrong things

00:14:16,630 --> 00:14:22,670
which is partially our fault for never

00:14:19,820 --> 00:14:25,070
telling and water right things are which

00:14:22,670 --> 00:14:29,120
is partially accessible for often not

00:14:25,070 --> 00:14:33,320
having a right answer but they really do

00:14:29,120 --> 00:14:35,570
make our life difficult here and if

00:14:33,320 --> 00:14:38,620
someone wants to depict suit engage this

00:14:35,570 --> 00:14:38,620
moment please do

00:14:40,449 --> 00:14:51,550
yes at sunset yeah I'm trying I've got

00:14:48,739 --> 00:14:54,410
the entire mobile app set which own

00:14:51,550 --> 00:14:57,709
going through now and cleaning up and

00:14:54,410 --> 00:15:00,529
trying to get out and also to document

00:14:57,709 --> 00:15:02,720
sort of the pitfalls that we can come it

00:15:00,529 --> 00:15:07,339
and how to work around them from the

00:15:02,720 --> 00:15:12,259
fine but that sort of relies on someone

00:15:07,339 --> 00:15:15,769
doing it so um yes you name some of the

00:15:12,259 --> 00:15:19,029
worst problems and and proper solutions

00:15:15,769 --> 00:15:22,819
for our stuff that decays is doing wrong

00:15:19,029 --> 00:15:30,619
or any other to get intimately familiar

00:15:22,819 --> 00:15:34,119
with one or two have the worst worst one

00:15:30,619 --> 00:15:37,209
the the main one I find absolutely

00:15:34,119 --> 00:15:40,189
infuriating is using a background and

00:15:37,209 --> 00:15:43,189
what they're telling its that you have a

00:15:40,189 --> 00:15:46,309
given background color and ten points

00:15:43,189 --> 00:15:49,100
for having the background color you tell

00:15:46,309 --> 00:15:51,439
let's not be a real background color so

00:15:49,100 --> 00:15:53,509
as I said the Viet stone thing if you

00:15:51,439 --> 00:15:55,100
set the background to black when you

00:15:53,509 --> 00:15:57,920
bring it back up it's going to flash

00:15:55,100 --> 00:15:59,929
white is exhales the background the

00:15:57,920 --> 00:16:02,769
absolute told us to paint then it'll

00:15:59,929 --> 00:16:06,499
flash black then you'll have the accent

00:16:02,769 --> 00:16:12,709
that's the main one that really a bit a

00:16:06,499 --> 00:16:13,840
lot of them are ya on a lap to sit down

00:16:12,709 --> 00:16:17,500
and dig up 10

00:16:13,840 --> 00:16:22,600
but I I'd like to coherently alepo'

00:16:17,500 --> 00:16:25,480
Jessica group would be very close window

00:16:22,600 --> 00:16:27,730
managers are also fairly done in

00:16:25,480 --> 00:16:29,920
fairness this is mostly our fault

00:16:27,730 --> 00:16:32,740
because it's impossible to write a

00:16:29,920 --> 00:16:35,500
really good window manager you just

00:16:32,740 --> 00:16:38,110
can't really do it but a lot of these

00:16:35,500 --> 00:16:39,910
window managers / sweet I've got an

00:16:38,110 --> 00:16:42,970
event I'll chocolate on the screen right

00:16:39,910 --> 00:16:45,370
now and then if it sort of got about

00:16:42,970 --> 00:16:47,290
five events in a row it'll do that five

00:16:45,370 --> 00:16:50,230
times in a row so you'll get five

00:16:47,290 --> 00:16:53,410
intermediate friends instead of watching

00:16:50,230 --> 00:16:57,580
them up going I'll wait until we can

00:16:53,410 --> 00:17:00,370
present something useful so it starts

00:16:57,580 --> 00:17:03,910
going to be getting a little better but

00:17:00,370 --> 00:17:06,010
it's still gathered I when normally does

00:17:03,910 --> 00:17:08,350
just presented exactly what you tell

00:17:06,010 --> 00:17:13,840
them through in order which is noble

00:17:08,350 --> 00:17:17,520
patients section i've never used an up

00:17:13,840 --> 00:17:17,520
I've not used in writing

00:17:27,449 --> 00:17:30,529
and then

00:17:33,480 --> 00:17:42,040
well alright enlightenment may actually

00:17:36,310 --> 00:17:45,670
be the way forward get to these are ya

00:17:42,040 --> 00:17:47,890
any Gator slightly under on Bo location

00:17:45,670 --> 00:17:57,610
so it's not about me close with

00:17:47,890 --> 00:18:02,650
additions no and don't close

00:17:57,610 --> 00:18:04,150
applications will be some yeah so even

00:18:02,650 --> 00:18:06,880
when you picked up all these little

00:18:04,150 --> 00:18:08,920
nibbles in the x over itself probably

00:18:06,880 --> 00:18:12,100
still going to look awful unless you've

00:18:08,920 --> 00:18:15,040
got a friendly toolkit and browser

00:18:12,100 --> 00:18:18,150
rendering engine and App other up and

00:18:15,040 --> 00:18:20,910
other Apple around you where you can say

00:18:18,150 --> 00:18:23,770
you're doing this please make it so oh

00:18:20,910 --> 00:18:27,160
please fix it and when you tell them

00:18:23,770 --> 00:18:28,930
that usually they say I'm not really

00:18:27,160 --> 00:18:30,520
sure exactly what's going on the things

00:18:28,930 --> 00:18:34,320
I'm telling X the right thing and

00:18:30,520 --> 00:18:34,320
basically everyone to come

00:18:36,050 --> 00:18:45,710
what video is pretty harsh as well so we

00:18:42,320 --> 00:18:47,600
have over layers which have usually the

00:18:45,710 --> 00:18:51,830
most hideous color you can think of a

00:18:47,600 --> 00:18:54,380
very tasteful behind green incidentally

00:18:51,830 --> 00:18:56,420
when I was about five I least always

00:18:54,380 --> 00:18:58,640
changed my modern staff ground to mine

00:18:56,420 --> 00:19:01,970
brain and the rest of the color scheme

00:18:58,640 --> 00:19:03,680
to fluorescent colors and she didn't

00:19:01,970 --> 00:19:06,260
smother me somehow which is amazing

00:19:03,680 --> 00:19:10,910
because every time I play a video and I

00:19:06,260 --> 00:19:13,610
sleep quality ridiculously jarring so

00:19:10,910 --> 00:19:15,740
thankfully we have technical video

00:19:13,610 --> 00:19:19,580
coming to the three engine method mode

00:19:15,740 --> 00:19:21,830
one but 3d engines especially in mobile

00:19:19,580 --> 00:19:25,910
devices which end to use all the power

00:19:21,830 --> 00:19:27,580
in the world overlays are extremely

00:19:25,910 --> 00:19:30,380
efficient with power and throughput

00:19:27,580 --> 00:19:33,440
catsuit video not so much but it does

00:19:30,380 --> 00:19:36,440
mean that you don't have to have the

00:19:33,440 --> 00:19:38,630
color key you can use it in other parts

00:19:36,440 --> 00:19:40,460
of you are instead of just having your

00:19:38,630 --> 00:19:46,730
video right on top of the screen and

00:19:40,460 --> 00:19:49,490
walking else but yeah so if you very

00:19:46,730 --> 00:19:53,230
very carefully use the API and make sure

00:19:49,490 --> 00:19:57,200
that the X behavior and make sure that

00:19:53,230 --> 00:19:59,840
your order of operations is excruciating

00:19:57,200 --> 00:20:02,030
when correct so always start video and

00:19:59,840 --> 00:20:04,610
make sure it's there and then paint the

00:20:02,030 --> 00:20:08,060
ecology behind that and then when we're

00:20:04,610 --> 00:20:10,250
done always paint something other than

00:20:08,060 --> 00:20:15,020
the other the ecology that you want to

00:20:10,250 --> 00:20:20,600
show and any stock your video then you

00:20:15,020 --> 00:20:22,580
can almost not show a color King I say

00:20:20,600 --> 00:20:24,440
almost people sometimes that's the stock

00:20:22,580 --> 00:20:25,790
your video for you and the colic is

00:20:24,440 --> 00:20:28,880
there and there's nothing you can do

00:20:25,790 --> 00:20:31,430
about it so that would be nice too

00:20:28,880 --> 00:20:41,510
at some stage if someone video happy

00:20:31,430 --> 00:20:43,550
once talked frequently some people use a

00:20:41,510 --> 00:20:46,730
color people mr. black and then you pop

00:20:43,550 --> 00:20:54,680
a dialogue over here and your dialogue

00:20:46,730 --> 00:20:58,760
is sort of harper video it is a kind of

00:20:54,680 --> 00:21:01,460
ghetto transparency I guess but yeah

00:20:58,760 --> 00:21:03,770
most people really don't take much care

00:21:01,460 --> 00:21:06,170
in how they see they just say oh cool

00:21:03,770 --> 00:21:08,540
actually this is really easy stop video

00:21:06,170 --> 00:21:10,760
stop video and in the meantime we've got

00:21:08,540 --> 00:21:14,060
colicky flashing everywhere into the

00:21:10,760 --> 00:21:22,070
chunks of room over here its liquid on

00:21:14,060 --> 00:21:24,880
puzzle but so tearing is starting to be

00:21:22,070 --> 00:21:27,650
a very big problem for us as well

00:21:24,880 --> 00:21:31,640
previously going back a few years you

00:21:27,650 --> 00:21:33,760
have qvga side screens and very much

00:21:31,640 --> 00:21:36,920
static you eyes you press the button

00:21:33,760 --> 00:21:40,100
something that happened that was it but

00:21:36,920 --> 00:21:43,460
now we've got huge screens beyond the

00:21:40,100 --> 00:21:48,410
n900 and most of it all the predecessors

00:21:43,460 --> 00:21:50,960
are 800 x 480 and everyone wants nice

00:21:48,410 --> 00:21:53,420
with the animations all the time and you

00:21:50,960 --> 00:21:56,840
know your background is kind of water

00:21:53,420 --> 00:21:58,910
ripples and you know you press something

00:21:56,840 --> 00:22:01,120
you've got a nice little animation

00:21:58,910 --> 00:22:03,470
coming up and everything's great but

00:22:01,120 --> 00:22:06,320
unfortunately this means that you're

00:22:03,470 --> 00:22:08,780
almost certainly don't have to see your

00:22:06,320 --> 00:22:13,070
animation mostly consists of you jagged

00:22:08,780 --> 00:22:15,080
Oakland lines right and also you're

00:22:13,070 --> 00:22:19,040
probably texturing from the entire point

00:22:15,080 --> 00:22:21,980
if you press the upper left window

00:22:19,040 --> 00:22:24,320
switch shutter button on the n900 it'll

00:22:21,980 --> 00:22:26,389
do a very nice zoom out and a grudge

00:22:24,320 --> 00:22:30,320
blur the background and it will show you

00:22:26,389 --> 00:22:32,990
every window you have so it's actually

00:22:30,320 --> 00:22:34,880
starting to get complex and dynamic

00:22:32,990 --> 00:22:39,169
enough that we're heading there and

00:22:34,880 --> 00:22:41,240
quite badly so your torrents are ready

00:22:39,169 --> 00:22:46,580
you fix it or you never ever do a

00:22:41,240 --> 00:22:48,590
horizontal animation ever yeah if you

00:22:46,580 --> 00:22:52,070
happen to ship backgrounds with very

00:22:48,590 --> 00:22:53,899
strong vertical lines and then you can

00:22:52,070 --> 00:22:55,730
move them horizontally all the time

00:22:53,899 --> 00:23:00,350
turns out this is horrible and you

00:22:55,730 --> 00:23:03,139
should never ship that but luckily here

00:23:00,350 --> 00:23:05,870
I to makes it possible to avoid tearing

00:23:03,139 --> 00:23:08,179
properly with the swap offers stuff

00:23:05,870 --> 00:23:10,789
which has just been much to master and

00:23:08,179 --> 00:23:13,580
will be in the next release then you can

00:23:10,789 --> 00:23:16,820
think everything properly to be one kind

00:23:13,580 --> 00:23:19,009
about that so nothing something we've

00:23:16,820 --> 00:23:21,440
been working on for a while and it's

00:23:19,009 --> 00:23:25,460
fully supported and working now in the

00:23:21,440 --> 00:23:28,820
intel driver so admittedly that is only

00:23:25,460 --> 00:23:36,409
on your desk but yeah you can avoid

00:23:28,820 --> 00:23:38,990
tearing now already 2010 in fairness for

00:23:36,409 --> 00:23:45,039
only 30 years behind here it's an

00:23:38,990 --> 00:23:48,080
engagement so those are the sort of more

00:23:45,039 --> 00:23:50,240
more fundamental issues which we can't

00:23:48,080 --> 00:23:54,679
really fix it up on in the protocol or

00:23:50,240 --> 00:23:57,850
becoming way there's a bunch of much

00:23:54,679 --> 00:24:02,210
smaller little implementation issues

00:23:57,850 --> 00:24:04,220
which we can fix relatively easily so

00:24:02,210 --> 00:24:06,080
the first one being the initial

00:24:04,220 --> 00:24:08,990
presentation when you start the xserver

00:24:06,080 --> 00:24:10,309
it's not the route we've anymore we

00:24:08,990 --> 00:24:12,679
don't show you that nice little

00:24:10,309 --> 00:24:16,159
black-and-white x cross cursor anymore

00:24:12,679 --> 00:24:18,409
so we haven't got there but the problem

00:24:16,159 --> 00:24:20,779
is when you start something up it'll

00:24:18,409 --> 00:24:23,659
give you a very nice little smooth

00:24:20,779 --> 00:24:25,680
animation that the acabo go it'll be

00:24:23,659 --> 00:24:30,210
very sort of relax

00:24:25,680 --> 00:24:32,520
arming and then the exit will pop up and

00:24:30,210 --> 00:24:36,570
just smash black all over the screen or

00:24:32,520 --> 00:24:39,510
someone so fairly popular happens to

00:24:36,570 --> 00:24:42,840
like X take a an image file or two

00:24:39,510 --> 00:24:44,790
background and hopefully it's the same

00:24:42,840 --> 00:24:47,970
one that you've been using for the rest

00:24:44,790 --> 00:24:50,670
of your self animation and we should

00:24:47,970 --> 00:24:53,880
probably motor support for that one on

00:24:50,670 --> 00:24:56,970
my to-do list because I've seen that at

00:24:53,880 --> 00:25:00,150
least 10 to 20 different path sets where

00:24:56,970 --> 00:25:05,520
people with putting support for having

00:25:00,150 --> 00:25:08,520
an initial background file again same

00:25:05,520 --> 00:25:10,410
problem with shutting down this is

00:25:08,520 --> 00:25:12,360
partially not access fault because

00:25:10,410 --> 00:25:14,460
people tend to kill the window manager

00:25:12,360 --> 00:25:17,730
and then else which is quite probably

00:25:14,460 --> 00:25:20,370
the long answer but shutting down XE

00:25:17,730 --> 00:25:25,580
tend to get undecorated windows all over

00:25:20,370 --> 00:25:29,010
the shop and then you get into the shop

00:25:25,580 --> 00:25:32,610
well I was thinking about the frame or

00:25:29,010 --> 00:25:34,920
the background image thing it what about

00:25:32,610 --> 00:25:37,800
grabbing the current image from the

00:25:34,920 --> 00:25:39,990
frame buffer grabbing in the current

00:25:37,800 --> 00:25:42,870
image from the frame buffer is a very

00:25:39,990 --> 00:25:45,630
good choices so it's a much better

00:25:42,870 --> 00:25:47,750
choice and the most impressive one I've

00:25:45,630 --> 00:25:51,990
seen and I'm not going to say who it was

00:25:47,750 --> 00:25:53,490
originally was it would start the

00:25:51,990 --> 00:25:57,210
observer which would clear the

00:25:53,490 --> 00:26:00,780
background and then in parallel would

00:25:57,210 --> 00:26:02,430
sleep for almost exactly as long as the

00:26:00,780 --> 00:26:04,950
observer would take to start up and

00:26:02,430 --> 00:26:07,410
clear the background and then a tiny bit

00:26:04,950 --> 00:26:10,020
of slack in there and then repaint the

00:26:07,410 --> 00:26:13,680
same thing back over from you suppose no

00:26:10,020 --> 00:26:16,140
problem grabbing a commonly used space

00:26:13,680 --> 00:26:18,410
let's make a little from the car member

00:26:16,140 --> 00:26:18,410
from there

00:26:20,570 --> 00:26:27,030
then yet you wanted to actually be

00:26:24,600 --> 00:26:30,360
something useful rather than say the

00:26:27,030 --> 00:26:35,670
current tech smoke console so that's

00:26:30,360 --> 00:26:38,490
kind of a more difficult subscibe go

00:26:35,670 --> 00:26:40,740
surrendering is a great Motley we don't

00:26:38,490 --> 00:26:44,340
need to use curses very often in mobile

00:26:40,740 --> 00:26:47,730
devices but it almost kind of works on

00:26:44,340 --> 00:26:50,340
the desktop but it's blown up on mobile

00:26:47,730 --> 00:26:52,800
devices such that especially if you're

00:26:50,340 --> 00:26:55,320
using a particular browser which likes

00:26:52,800 --> 00:26:58,050
to repaint its entire screen all the

00:26:55,320 --> 00:27:02,700
time you just get the curse of suffering

00:26:58,050 --> 00:27:05,010
horribly that's quite young so I've got

00:27:02,700 --> 00:27:07,590
a patch set which allows client-side

00:27:05,010 --> 00:27:09,930
cursive rendering so the compositing

00:27:07,590 --> 00:27:12,450
manager can just paint the curse of well

00:27:09,930 --> 00:27:18,030
it paints the frame anyway hopefully

00:27:12,450 --> 00:27:23,940
that's there for ya it's also impossible

00:27:18,030 --> 00:27:27,330
to divide rendering issues so if if

00:27:23,940 --> 00:27:30,720
someone looks at something there's chip

00:27:27,330 --> 00:27:32,790
blacks popping up here or you know part

00:27:30,720 --> 00:27:37,230
of my windows popping up here and it

00:27:32,790 --> 00:27:40,050
shouldn't be then how to get from there

00:27:37,230 --> 00:27:44,880
to actually fixing a bug is really not

00:27:40,050 --> 00:27:47,520
clear at all partially because the whole

00:27:44,880 --> 00:27:49,710
clients of the separation with pretty

00:27:47,520 --> 00:27:52,010
much zero debug tools for that

00:27:49,710 --> 00:27:54,420
whatsoever makes it a good turkey

00:27:52,010 --> 00:27:59,700
partially because the certain parts of

00:27:54,420 --> 00:28:02,970
the bug anyway and yeah so there are X

00:27:59,700 --> 00:28:05,820
morning x by x scope and about a million

00:28:02,970 --> 00:28:07,680
others that will tell you exactly which

00:28:05,820 --> 00:28:09,960
commands to find sending over the wire

00:28:07,680 --> 00:28:14,400
so far i've not managed to make any of

00:28:09,960 --> 00:28:16,120
them work and x I think work for about

00:28:14,400 --> 00:28:20,620
three minutes and then

00:28:16,120 --> 00:28:23,830
they die so one of the things i have on

00:28:20,620 --> 00:28:27,640
my to-do list is xscope that actually

00:28:23,830 --> 00:28:30,610
works including telling you exactly what

00:28:27,640 --> 00:28:35,650
you're painting to whichever target you

00:28:30,610 --> 00:28:39,550
want and exactly what provoked it okay

00:28:35,650 --> 00:28:44,530
about 50 jumping double as I said get

00:28:39,550 --> 00:28:50,020
toolkits not great browsers gecko is

00:28:44,530 --> 00:28:54,130
quite durable it's yeah I don't want to

00:28:50,020 --> 00:28:56,620
get into that but don't use ghetto but

00:28:54,130 --> 00:29:00,580
then it's impossible to prove without

00:28:56,620 --> 00:29:03,340
any useful places so I can show up to

00:29:00,580 --> 00:29:05,620
the browser guys and say hey you're

00:29:03,340 --> 00:29:09,580
rendering is rubbish and you please make

00:29:05,620 --> 00:29:12,210
it less me and also prove it to me short

00:29:09,580 --> 00:29:14,620
needs exactly what we're doing wrong and

00:29:12,210 --> 00:29:20,350
then you can slink away with each other

00:29:14,620 --> 00:29:23,590
21 and that's pretty much all I've got

00:29:20,350 --> 00:29:26,140
it is a short talk because in very very

00:29:23,590 --> 00:29:29,620
can hold it is somewhere is going to be

00:29:26,140 --> 00:29:33,400
talking about chiro GL I don't know

00:29:29,620 --> 00:29:39,650
where he is so that's great does anyone

00:29:33,400 --> 00:29:43,930
have any questions in the meantime yep

00:29:39,650 --> 00:29:43,930

YouTube URL: https://www.youtube.com/watch?v=qHmd4gn8RlQ


