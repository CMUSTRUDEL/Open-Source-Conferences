Title: Protecting Secrets with Hardware Secure elements, hardware wallets, and device support for cryptocuâ€¦
Publication date: 2019-02-08
Playlist: FOSDEM 2019
Description: 
	Protecting Secrets with Hardware Secure elements, hardware wallets, and device support for cryptocurrencies
by Michael Schloh von Bennewitz

At: FOSDEM 2019
https://video.fosdem.org/2019/H.1302/protecting_secrets_with_hardware.webm


Using special purpose hardware devices to protect secrets is a staple of cryptocurrency enthusiasts. We share the lessons learned of creating secure hardware wallets and insecure conference badges at Monero Hardware. In this half hour presentation, we work backwards disassembling parts of a series of hardware security devices capable of participating in blockchain networks. 

We consider devices like the Signet, Nitrokey, SC4-HSM, Trezor, and the Monero Hardware Wallet. In our high level comparison we identify common hardware components and common strategies to defeat MITM and other forge attempts at network edges. Shifting gears, we disassemble and put devices under the microscope to study circuits. Explanations are kept at novice level hardware competence to ensure we're all on the same page. 

An interesting angle involves counting the generic blockchain use cases provided by special purpose cryptocurrency wallet hardware, and we conclude by a whirlwind hypothetical workflow illustrating the steps involved in building a new secure hardware device. 

Room: H.1302 (Depage)
Scheduled start: 2019-02-03 13:50:00+01
Captions: 
	00:00:05,100 --> 00:00:12,580
it's okay like this okay test but father

00:00:09,880 --> 00:00:16,680
I do the next talk is protecting secrets

00:00:12,580 --> 00:00:16,680
with hardware by microphone benefits

00:00:35,240 --> 00:00:41,910
okay folks so I think we can start for

00:00:37,920 --> 00:00:44,130
one minute late sorry about that just to

00:00:41,910 --> 00:00:46,559
begin with I don't see my colleagues

00:00:44,130 --> 00:00:50,309
anyway I was hoping they would help me

00:00:46,559 --> 00:00:51,780
pass a couple wallets out I don't have a

00:00:50,309 --> 00:00:54,630
good camera so that's why I'm passing

00:00:51,780 --> 00:00:56,730
these out just for example take a look

00:00:54,630 --> 00:00:58,650
feel it in your hands this is kind of

00:00:56,730 --> 00:01:03,989
the current status of the mechanical

00:00:58,650 --> 00:01:07,140
engineering so maybe can you one there

00:01:03,989 --> 00:01:10,020
and one there or something yeah this is

00:01:07,140 --> 00:01:11,400
a this is a Manero wallet but we'll be

00:01:10,020 --> 00:01:14,909
talking about quite a few different

00:01:11,400 --> 00:01:17,070
kinds and with so little time let's just

00:01:14,909 --> 00:01:18,960
get started there's going to be in this

00:01:17,070 --> 00:01:21,690
half-hour Hardware theory we're going to

00:01:18,960 --> 00:01:24,120
have some device trends what's happening

00:01:21,690 --> 00:01:26,880
with the H wallet what we just heard

00:01:24,120 --> 00:01:28,830
about it an hour ago and a lot of other

00:01:26,880 --> 00:01:29,880
devices which actually some of which

00:01:28,830 --> 00:01:31,770
don't have anything to do with

00:01:29,880 --> 00:01:34,829
cryptocurrency but they all store

00:01:31,770 --> 00:01:37,860
secrets we'll take a look at some of the

00:01:34,829 --> 00:01:40,140
lab research that's going on that I have

00:01:37,860 --> 00:01:43,890
a personal connection to my own lab can

00:01:40,140 --> 00:01:46,890
explain a bit about the the ICS emerging

00:01:43,890 --> 00:01:49,130
trends there with the different elliptic

00:01:46,890 --> 00:01:51,719
curves and the different crypto models

00:01:49,130 --> 00:01:53,700
and at the very end we'll just do a

00:01:51,719 --> 00:01:55,649
quick development workflow for anybody

00:01:53,700 --> 00:02:00,359
who's curious about how a piece of

00:01:55,649 --> 00:02:02,189
hardware becomes reality right so in

00:02:00,359 --> 00:02:05,039
theory we need to understand a few

00:02:02,189 --> 00:02:07,530
things that most of these secret

00:02:05,039 --> 00:02:10,350
protecting hardware devices which is the

00:02:07,530 --> 00:02:12,290
topic of this half-hour presentation

00:02:10,350 --> 00:02:16,830
they're using MC use these are

00:02:12,290 --> 00:02:20,010
microcontroller units in in as opposed

00:02:16,830 --> 00:02:22,650
to an MP or a micro processing unit

00:02:20,010 --> 00:02:25,350
they're very low powered some can work

00:02:22,650 --> 00:02:29,160
off of coin cell batteries or three or

00:02:25,350 --> 00:02:31,500
five volt in a USB power intake for

00:02:29,160 --> 00:02:33,740
example that's the first thing that we

00:02:31,500 --> 00:02:36,000
have common to all of these hardware

00:02:33,740 --> 00:02:40,620
platforms that are storing secrets for

00:02:36,000 --> 00:02:43,709
us they almost all have on chip program

00:02:40,620 --> 00:02:46,170
storage which is where the firm

00:02:43,709 --> 00:02:49,080
runs this is what happens when you turn

00:02:46,170 --> 00:02:52,459
the device on and the bootloader starts

00:02:49,080 --> 00:02:56,400
the next instruction at the firmware

00:02:52,459 --> 00:02:58,620
block level anyway so that's on chip as

00:02:56,400 --> 00:03:01,140
far as MC use go we don't have a hard

00:02:58,620 --> 00:03:04,380
drive or SSD drive or external storage

00:03:01,140 --> 00:03:06,750
usually there are some exceptions to

00:03:04,380 --> 00:03:09,390
that we'll take a look at at later on as

00:03:06,750 --> 00:03:16,590
well they all of these platforms have

00:03:09,390 --> 00:03:19,890
debug interfaces everything's ok yes

00:03:16,590 --> 00:03:23,940
I know it's only 20 minutes sorry

00:03:19,890 --> 00:03:25,890
ok so I'll go even faster ok anyway so

00:03:23,940 --> 00:03:28,560
what we have with most of these prop

00:03:25,890 --> 00:03:30,540
platforms are debug interfaces which

00:03:28,560 --> 00:03:32,640
means you can program the firmware

00:03:30,540 --> 00:03:36,780
change the bootloader inspect things

00:03:32,640 --> 00:03:38,849
step through the instructions and the

00:03:36,780 --> 00:03:41,340
last of which is that some of these

00:03:38,849 --> 00:03:45,780
platforms offer on chip security like

00:03:41,340 --> 00:03:49,950
the KL 82 chip which the H wallet then

00:03:45,780 --> 00:03:52,799
was talking about before and some device

00:03:49,950 --> 00:03:55,560
trends just to go through this quickly

00:03:52,799 --> 00:03:57,180
in a whirlwind style manner is a nitro

00:03:55,560 --> 00:03:58,500
keep Pro not all of these have

00:03:57,180 --> 00:04:00,450
blockchain and cryptocurrency

00:03:58,500 --> 00:04:03,540
applications but they do all store

00:04:00,450 --> 00:04:06,000
secrets or control access to secrets in

00:04:03,540 --> 00:04:08,160
one way around or another which makes it

00:04:06,000 --> 00:04:13,380
kind of irrelevant to what we do in the

00:04:08,160 --> 00:04:15,510
blockchain cryptocurrency world right so

00:04:13,380 --> 00:04:18,510
we've got the digital bit box this is

00:04:15,510 --> 00:04:21,180
kind of a kick I can be run through here

00:04:18,510 --> 00:04:22,919
at it while I was compiling these photos

00:04:21,180 --> 00:04:24,840
for this presentation I found something

00:04:22,919 --> 00:04:28,590
I've never seen before so I don't know

00:04:24,840 --> 00:04:32,780
if this exists if anybody knows that

00:04:28,590 --> 00:04:34,789
purism is or is not developing a USB key

00:04:32,780 --> 00:04:38,520
format

00:04:34,789 --> 00:04:39,870
secure something the librarian key is

00:04:38,520 --> 00:04:43,169
what this looks like it's called

00:04:39,870 --> 00:04:48,270
I think many of us have seen the multi

00:04:43,169 --> 00:04:50,310
pass mini in fact the the person

00:04:48,270 --> 00:04:53,130
developing this was in Jansen last year

00:04:50,310 --> 00:04:55,930
I think giving one of the not a key note

00:04:53,130 --> 00:04:58,830
but in the security different

00:04:55,930 --> 00:05:02,050
as Beach on that really good project

00:04:58,830 --> 00:05:05,610
Tomo is another USB connected device

00:05:02,050 --> 00:05:08,800
which is two-factor authentication and

00:05:05,610 --> 00:05:10,750
does quite a lot in a small package this

00:05:08,800 --> 00:05:13,060
is complete open source most of these

00:05:10,750 --> 00:05:14,470
are in fact I'm not sure about this one

00:05:13,060 --> 00:05:16,870
if it's open source but I thought I'd

00:05:14,470 --> 00:05:19,180
put it up anyway it's kind of the brand

00:05:16,870 --> 00:05:23,380
at at HSM or a hardware security module

00:05:19,180 --> 00:05:24,970
which is I'm not sure if most hsn's cost

00:05:23,380 --> 00:05:26,500
two hundred thousand euros you know

00:05:24,970 --> 00:05:28,600
they're like this and if you tilt them

00:05:26,500 --> 00:05:31,630
one degree then they wipe the keys you

00:05:28,600 --> 00:05:34,810
know this kind of crazy complex behavior

00:05:31,630 --> 00:05:36,639
so they're kind of marketing is an HSM

00:05:34,810 --> 00:05:39,850
we've got the treasure which most people

00:05:36,639 --> 00:05:42,430
know about and Colt card just came out a

00:05:39,850 --> 00:05:44,520
few months ago or few something like

00:05:42,430 --> 00:05:47,470
that these are all cryptocurrency

00:05:44,520 --> 00:05:49,900
hardware wallets the ledger is quite

00:05:47,470 --> 00:05:52,360
popular as well and like I said all of

00:05:49,900 --> 00:05:54,849
these devices store secrets control

00:05:52,360 --> 00:05:58,090
access the secrets and then optionally

00:05:54,849 --> 00:06:00,250
do some things with applications on top

00:05:58,090 --> 00:06:05,099
of that yeah I wanted to mention that H

00:06:00,250 --> 00:06:08,410
wallet is I think running on e XP

00:06:05,099 --> 00:06:10,360
microcontrollers and and hardware so I

00:06:08,410 --> 00:06:12,250
found that speech pretty interesting

00:06:10,360 --> 00:06:14,229
this is the project that I'm spending

00:06:12,250 --> 00:06:17,020
most of my time on it's the Monaro

00:06:14,229 --> 00:06:19,930
dedicated hardware wallet and this is

00:06:17,020 --> 00:06:22,180
actually what's being taking pictures of

00:06:19,930 --> 00:06:24,820
I guess in some place and making the

00:06:22,180 --> 00:06:28,120
rounds is just very a simple example of

00:06:24,820 --> 00:06:31,659
a PCB and the enclosure which is in the

00:06:28,120 --> 00:06:33,970
Monaro classic red white and grey colors

00:06:31,659 --> 00:06:37,090
that I'm passing around now and that's

00:06:33,970 --> 00:06:38,800
what the what the PCB looks like this is

00:06:37,090 --> 00:06:41,229
the advanced model we have - we have a

00:06:38,800 --> 00:06:44,800
legacy type and an advanced model is

00:06:41,229 --> 00:06:47,320
just using the CC one-seven-zero - chip

00:06:44,800 --> 00:06:48,820
from microchip which anybody who's

00:06:47,320 --> 00:06:53,110
familiar with that knows that it gives

00:06:48,820 --> 00:06:56,650
us e D 255 1/9 elliptic curve digital

00:06:53,110 --> 00:06:58,000
signature algorithm on chip so there's a

00:06:56,650 --> 00:07:00,970
few different things like that I don't

00:06:58,000 --> 00:07:02,440
want this to be too complicated but the

00:07:00,970 --> 00:07:03,849
one question that's important and

00:07:02,440 --> 00:07:07,419
relevant for us is what are all of these

00:07:03,849 --> 00:07:09,610
devices doing have this had this run

00:07:07,419 --> 00:07:11,050
away kind of whiplash

00:07:09,610 --> 00:07:13,150
presentation of all these different

00:07:11,050 --> 00:07:15,639
pictures what they're doing is

00:07:13,150 --> 00:07:17,860
controlling access to secrets right

00:07:15,639 --> 00:07:20,349
they're giving us the ability to store

00:07:17,860 --> 00:07:23,819
many secrets on one device or wipe all

00:07:20,349 --> 00:07:26,139
secrets so that there's none at all or

00:07:23,819 --> 00:07:30,520
controlling access is the name of the

00:07:26,139 --> 00:07:33,250
game here what the way we know it's well

00:07:30,520 --> 00:07:36,039
the way I do that in in my own

00:07:33,250 --> 00:07:38,169
laboratory environment is that I study

00:07:36,039 --> 00:07:40,389
the power circuits involved we're going

00:07:38,169 --> 00:07:41,740
to be drawing from USB well USB be

00:07:40,389 --> 00:07:44,319
required or can we do something

00:07:41,740 --> 00:07:46,629
untethered which would mean untethered

00:07:44,319 --> 00:07:50,610
means without any cabling without any

00:07:46,629 --> 00:07:52,689
USB cable to provide power and

00:07:50,610 --> 00:07:56,500
untethered what does that mean for us we

00:07:52,689 --> 00:07:59,620
can't do any any any remote blockchain

00:07:56,500 --> 00:08:02,319
transactions what over USB without a

00:07:59,620 --> 00:08:06,819
tethered USB connection so it kind of

00:08:02,319 --> 00:08:09,189
reduces the amount of application reach

00:08:06,819 --> 00:08:12,069
that we can accomplish with that but

00:08:09,189 --> 00:08:13,659
cabling or batteries all of these types

00:08:12,069 --> 00:08:16,839
of things are part of the research

00:08:13,659 --> 00:08:20,259
environment if you take a look at the

00:08:16,839 --> 00:08:21,940
devices making the rounds I don't think

00:08:20,259 --> 00:08:23,259
you'll be able to see yeah you can't see

00:08:21,940 --> 00:08:24,879
on the bottom but there are three

00:08:23,259 --> 00:08:28,270
different ways to power it there's a

00:08:24,879 --> 00:08:30,310
coin cell battery which we're not sure

00:08:28,270 --> 00:08:33,430
if it's going to allow for enough

00:08:30,310 --> 00:08:34,829
current to actually power the device we

00:08:33,430 --> 00:08:38,050
haven't tested that well enough yet

00:08:34,829 --> 00:08:40,149
there's a USB which is a classical power

00:08:38,050 --> 00:08:43,570
intake Phi of providing five volts of

00:08:40,149 --> 00:08:46,660
power and then we have lithium-ion or

00:08:43,570 --> 00:08:49,180
lithium polymer jst connector which

00:08:46,660 --> 00:08:51,010
gives us 3.7 volts of power should be

00:08:49,180 --> 00:08:52,810
enough for no problem so we have some

00:08:51,010 --> 00:08:55,290
options there for the untethered

00:08:52,810 --> 00:08:58,120
operation that I mentioned before

00:08:55,290 --> 00:09:00,459
another thing that I like to do a lot

00:08:58,120 --> 00:09:04,570
just like the other speaker an hour ago

00:09:00,459 --> 00:09:08,380
is to experiment with the with all of

00:09:04,570 --> 00:09:12,149
the provided on chip crypto what some of

00:09:08,380 --> 00:09:15,459
these microcontrollers are offering and

00:09:12,149 --> 00:09:18,699
he had some you have better designs than

00:09:15,459 --> 00:09:21,339
I do I guess my style is to talk about

00:09:18,699 --> 00:09:23,379
this more but we're kind of looking at a

00:09:21,339 --> 00:09:26,889
variety of microcontrollers for

00:09:23,379 --> 00:09:30,549
NRF 52 840 from Nordic semiconductor

00:09:26,889 --> 00:09:33,189
which which packages the arms crypto

00:09:30,549 --> 00:09:37,869
cell 310 if you're interested in the

00:09:33,189 --> 00:09:42,579
details crypto cell is basically a block

00:09:37,869 --> 00:09:44,769
of crypto application code provided by

00:09:42,579 --> 00:09:47,049
arm just the same manufacturer that

00:09:44,769 --> 00:09:49,089
provides cortex-m and all of the other

00:09:47,049 --> 00:09:52,169
circuitries that go into all of these

00:09:49,089 --> 00:09:54,849
STM and nxp and nordic semiconductor

00:09:52,169 --> 00:09:57,059
chips that you buy anyway so crypto cell

00:09:54,849 --> 00:10:01,659
is offering a lot of different

00:09:57,059 --> 00:10:03,189
algorithms not just AES and hash

00:10:01,659 --> 00:10:05,319
algorithms but they're doing things with

00:10:03,189 --> 00:10:08,769
ECDSA with elliptic curves as well and

00:10:05,319 --> 00:10:11,470
so we're looking at the NRF 50 to 840

00:10:08,769 --> 00:10:14,619
we're already working with the CEC one

00:10:11,470 --> 00:10:19,059
7:02 from microchip these are all the on

00:10:14,619 --> 00:10:22,659
chip crypto ideas that we're having and

00:10:19,059 --> 00:10:24,639
experimenting with researching serial

00:10:22,659 --> 00:10:26,889
circuits is important when we're doing

00:10:24,639 --> 00:10:27,579
communication so if we're going over a

00:10:26,889 --> 00:10:30,579
UART

00:10:27,579 --> 00:10:32,739
or a USB connection to exchange

00:10:30,579 --> 00:10:34,989
information with a connected host the

00:10:32,739 --> 00:10:36,729
laptop computer the workstation whatever

00:10:34,989 --> 00:10:38,229
it's connected to then we've got to

00:10:36,729 --> 00:10:40,739
understand how that works and that

00:10:38,229 --> 00:10:45,189
changes from one ship to another as well

00:10:40,739 --> 00:10:48,549
the annex which was it the last speaker

00:10:45,189 --> 00:10:51,249
are the last two speakers ago was saying

00:10:48,549 --> 00:10:52,929
that the Nordic chip is so useful

00:10:51,249 --> 00:10:56,319
because it gives you Bluetooth and NFC

00:10:52,929 --> 00:10:57,879
and USB all in one chip on top of that

00:10:56,319 --> 00:11:01,359
it gives you the arm crypto cell it's so

00:10:57,879 --> 00:11:04,059
so that's that's very important to us to

00:11:01,359 --> 00:11:07,209
study to on chip crypto and this circuit

00:11:04,059 --> 00:11:10,479
the serial circuitry as well the display

00:11:07,209 --> 00:11:13,239
circuits is what we're doing with badges

00:11:10,479 --> 00:11:16,539
a lot when we explore and try things

00:11:13,239 --> 00:11:20,109
like LED arrays or epd ePaper work

00:11:16,539 --> 00:11:23,259
displays this is a bit exotic and it's

00:11:20,109 --> 00:11:26,259
very difficult to to reach decisions on

00:11:23,259 --> 00:11:27,909
epd for example has a ghosting problem

00:11:26,259 --> 00:11:30,220
so if you have some secret on the

00:11:27,909 --> 00:11:33,250
display and

00:11:30,220 --> 00:11:35,470
you turn you turn the display off it's

00:11:33,250 --> 00:11:38,320
possible maybe with an infrared camera

00:11:35,470 --> 00:11:40,930
to capture parts of that secret on top

00:11:38,320 --> 00:11:43,930
of that if you detach the power while

00:11:40,930 --> 00:11:45,970
the display is on even without power

00:11:43,930 --> 00:11:48,010
that display will continue displaying

00:11:45,970 --> 00:11:49,720
what it had before so it's really

00:11:48,010 --> 00:11:52,149
difficult problem to solve that's why

00:11:49,720 --> 00:11:54,070
we're making very little progress with

00:11:52,149 --> 00:11:58,600
the display factor but it's certainly

00:11:54,070 --> 00:12:00,670
one of our major research parts and then

00:11:58,600 --> 00:12:02,980
the human human interaction how people

00:12:00,670 --> 00:12:04,720
like to interact with a device if they

00:12:02,980 --> 00:12:08,980
if they're interested in more than two

00:12:04,720 --> 00:12:11,410
buttons the shift devices from the I'm

00:12:08,980 --> 00:12:13,120
sorry the bit box from shift devices

00:12:11,410 --> 00:12:15,250
just now haven't they've changed their

00:12:13,120 --> 00:12:17,440
name to shift crypto I think they're

00:12:15,250 --> 00:12:19,720
using a very interesting capacitive

00:12:17,440 --> 00:12:22,899
touch button so there's no tactile

00:12:19,720 --> 00:12:24,640
up-and-down clicking motion and on top

00:12:22,899 --> 00:12:27,040
of that with a capacitive touch you can

00:12:24,640 --> 00:12:30,100
drill a hole inside put a light on the

00:12:27,040 --> 00:12:33,040
bottom a reverse mounted LED so that you

00:12:30,100 --> 00:12:34,570
have a nice pulsating light and then you

00:12:33,040 --> 00:12:36,160
know exactly where to touch so there's

00:12:34,570 --> 00:12:38,410
all these human or interactive

00:12:36,160 --> 00:12:40,269
interaction factors which are doing

00:12:38,410 --> 00:12:42,339
research on kind of comparing what

00:12:40,269 --> 00:12:46,630
others have had success with what the

00:12:42,339 --> 00:12:48,329
users like to to have so these are

00:12:46,630 --> 00:12:52,630
already mentioned the Nordic

00:12:48,329 --> 00:12:55,570
semiconductor which is the third one

00:12:52,630 --> 00:12:55,990
here I have a laser somewhere maybe I

00:12:55,570 --> 00:13:00,310
should get that

00:12:55,990 --> 00:13:06,790
and then the first one I think I put on

00:13:00,310 --> 00:13:09,130
there is the CC isn't it yeah so the PCB

00:13:06,790 --> 00:13:10,779
that's making the rounds now that's

00:13:09,130 --> 00:13:14,079
integrating one of these here

00:13:10,779 --> 00:13:16,240
that's a BGA chip it's the the the part

00:13:14,079 --> 00:13:18,010
that's in the middle you'll see it on

00:13:16,240 --> 00:13:20,920
only one of them because I flipped the

00:13:18,010 --> 00:13:23,019
PCB around on the other if you see a a

00:13:20,920 --> 00:13:26,709
small chip in the middle with lots of

00:13:23,019 --> 00:13:28,720
balls right that's going to be populated

00:13:26,709 --> 00:13:30,910
with a CEC one 7:02

00:13:28,720 --> 00:13:32,410
the one that gives us the Edwards and

00:13:30,910 --> 00:13:34,779
the Montgomery curves which is what

00:13:32,410 --> 00:13:37,020
Manero needs instead of the Co blitz

00:13:34,779 --> 00:13:42,069
ones which is what all of the other

00:13:37,020 --> 00:13:43,690
cryptocurrencies use right so the ATX

00:13:42,069 --> 00:13:47,770
6:08 a

00:13:43,690 --> 00:13:51,700
it is a is that Edie is a is that

00:13:47,770 --> 00:13:53,980
elliptic curve ECDSA I see or an

00:13:51,700 --> 00:13:57,370
integrated circuit which isn't actually

00:13:53,980 --> 00:13:59,220
a microcontroller but is useful together

00:13:57,370 --> 00:14:01,990
with a microcontroller and since

00:13:59,220 --> 00:14:04,360
microchip bought at mill what already a

00:14:01,990 --> 00:14:06,370
couple years ago they're making a lot of

00:14:04,360 --> 00:14:08,080
connections here in the datasheet you'll

00:14:06,370 --> 00:14:13,600
find for example that you can optionally

00:14:08,080 --> 00:14:16,540
connect an 8x actually at 5:08 to the to

00:14:13,600 --> 00:14:19,330
the top here this microcontroller and

00:14:16,540 --> 00:14:21,730
they work together then the Nordic one

00:14:19,330 --> 00:14:23,680
we talked about it's the one as well

00:14:21,730 --> 00:14:25,810
that the the gentleman talking about

00:14:23,680 --> 00:14:27,580
each wallet talked about this is where

00:14:25,810 --> 00:14:33,120
it's packed with all of this io with

00:14:27,580 --> 00:14:36,130
this USB UART NFC and Bluetooth smart

00:14:33,120 --> 00:14:39,760
and it's a microcontroller as well as a

00:14:36,130 --> 00:14:42,690
crypto cell blocks inside so you can do

00:14:39,760 --> 00:14:44,830
all kinds of crypt of crypto on chip

00:14:42,690 --> 00:14:46,300
which makes it useful for storing

00:14:44,830 --> 00:14:50,890
secrets the one thing I should mention

00:14:46,300 --> 00:14:54,730
is that there is the concept of secure

00:14:50,890 --> 00:14:57,340
storage right so if we have stored the

00:14:54,730 --> 00:14:58,990
secrets for example in RAM it doesn't

00:14:57,340 --> 00:15:01,150
help so much that we're doing on chip

00:14:58,990 --> 00:15:04,840
cryptography if we can somehow tap the

00:15:01,150 --> 00:15:07,000
RAM through a JTAG or some other debug

00:15:04,840 --> 00:15:08,830
interface and then just steal the secret

00:15:07,000 --> 00:15:11,070
right what's one of our jobs is to

00:15:08,830 --> 00:15:14,830
protect that secret and not just

00:15:11,070 --> 00:15:18,510
accelerate applications use it by doing

00:15:14,830 --> 00:15:21,730
on chip crypto so when we talk about

00:15:18,510 --> 00:15:26,410
about secure storage not all of these

00:15:21,730 --> 00:15:30,040
platforms offer that the 8 X 6 0 8 a all

00:15:26,410 --> 00:15:31,990
of the 80 ECC chips there's a 1:08 as a

00:15:30,040 --> 00:15:34,780
5 0 8 and now there's a 6 or 8 as well

00:15:31,990 --> 00:15:38,050
they have a form of secure storage where

00:15:34,780 --> 00:15:41,589
you can lock certain slots it has up to

00:15:38,050 --> 00:15:45,100
16 slots and you can put keys in there

00:15:41,589 --> 00:15:46,839
you can put ECDSA private keys in there

00:15:45,100 --> 00:15:49,839
and then you lock one of the slots and

00:15:46,839 --> 00:15:52,240
what that what happens when you deliver

00:15:49,839 --> 00:15:54,700
that API command to lock the slot is

00:15:52,240 --> 00:15:56,200
that internally to the chip I don't have

00:15:54,700 --> 00:15:57,400
a good it would be great to have an

00:15:56,200 --> 00:15:59,530
animation for this but

00:15:57,400 --> 00:16:02,080
turn alia the chip there's a small fuse

00:15:59,530 --> 00:16:05,110
it's blown so there's a small not really

00:16:02,080 --> 00:16:06,700
this small small well you know what what

00:16:05,110 --> 00:16:09,160
that's like when a fuse blows right you

00:16:06,700 --> 00:16:11,560
won't smell any smoke is this too small

00:16:09,160 --> 00:16:14,110
for that but there's an actual fuse that

00:16:11,560 --> 00:16:16,150
blows and destroys lines which are the

00:16:14,110 --> 00:16:18,610
read lines which means that anybody

00:16:16,150 --> 00:16:21,040
tapping onto that chip and trying to

00:16:18,610 --> 00:16:23,530
read out the secret key will just get a

00:16:21,040 --> 00:16:26,380
dead end right those lines are damaged

00:16:23,530 --> 00:16:28,060
and destroyed and after that well how do

00:16:26,380 --> 00:16:29,800
you use the secret key if it's locked

00:16:28,060 --> 00:16:32,320
away from it forever and you can't get

00:16:29,800 --> 00:16:34,990
it you have to deliver eight API

00:16:32,320 --> 00:16:37,570
commands to that I see and say for

00:16:34,990 --> 00:16:39,520
example verify this piece of data for me

00:16:37,570 --> 00:16:41,350
was it signed with the secret key so

00:16:39,520 --> 00:16:43,540
it's the IC that's doing all of the work

00:16:41,350 --> 00:16:45,940
after that and you have to depend on the

00:16:43,540 --> 00:16:47,770
IC you can never again get that secret

00:16:45,940 --> 00:16:49,720
key out of there right unless you've

00:16:47,770 --> 00:16:51,840
stored up a copy of it somewhere else

00:16:49,720 --> 00:16:55,510
before the fact that's another topic

00:16:51,840 --> 00:16:57,430
backups and so on anyway so that's the

00:16:55,510 --> 00:16:59,560
topic of secure storage and there's a

00:16:57,430 --> 00:17:01,690
variety of different ways to accomplish

00:16:59,560 --> 00:17:05,890
that and there's things like meshes

00:17:01,690 --> 00:17:07,540
which which detect intrusion when you're

00:17:05,890 --> 00:17:11,709
doing things like sulfuric acid

00:17:07,540 --> 00:17:13,810
decapsulation and then applying power if

00:17:11,709 --> 00:17:16,089
that secure mesh is made to detect it

00:17:13,810 --> 00:17:18,790
and crews and intrusion in this kind of

00:17:16,089 --> 00:17:20,890
way then it will wipe the keys there's

00:17:18,790 --> 00:17:23,680
lots of ways to implement secure storage

00:17:20,890 --> 00:17:27,250
I think this one has secure storage as

00:17:23,680 --> 00:17:29,170
well this is very similar to to the to

00:17:27,250 --> 00:17:30,970
the second here the St safe it's

00:17:29,170 --> 00:17:36,610
actually didn't fit on this on the slide

00:17:30,970 --> 00:17:38,140
but it's called a 100 a and yeah so the

00:17:36,610 --> 00:17:40,660
SD safe is another I see it is very

00:17:38,140 --> 00:17:42,190
similar and it helps you by storing

00:17:40,660 --> 00:17:46,450
secrets and then giving you the crypto

00:17:42,190 --> 00:17:50,610
operations to manipulate them so the

00:17:46,450 --> 00:17:52,990
development workflow usually begins with

00:17:50,610 --> 00:17:55,090
compiling some requirements knowing what

00:17:52,990 --> 00:17:57,520
your user will end up using what they

00:17:55,090 --> 00:18:03,130
need what they want and I don't need to

00:17:57,520 --> 00:18:07,180
explain that so I think I will just move

00:18:03,130 --> 00:18:08,830
to what some of these things like

00:18:07,180 --> 00:18:10,490
existing review if you're going to make

00:18:08,830 --> 00:18:12,170
a new piece of hardware where do you get

00:18:10,490 --> 00:18:13,730
the ideas you know you don't want to

00:18:12,170 --> 00:18:16,160
reinvent the wheel you're going to mix

00:18:13,730 --> 00:18:19,760
up some different designs into a third

00:18:16,160 --> 00:18:21,260
type of design rift of reference designs

00:18:19,760 --> 00:18:22,940
is what I always use from the data

00:18:21,260 --> 00:18:28,610
sheets for example for all of these

00:18:22,940 --> 00:18:30,320
parts and the basic wheel the cycle of

00:18:28,610 --> 00:18:33,890
hardware design begins with the

00:18:30,320 --> 00:18:36,950
schematic design creating those circuits

00:18:33,890 --> 00:18:41,120
and then moving that to a layout I'll

00:18:36,950 --> 00:18:43,429
show quite quickly here kicad this is

00:18:41,120 --> 00:18:46,910
how I think a lot of free and

00:18:43,429 --> 00:18:48,860
open-source folks begin their you know I

00:18:46,910 --> 00:18:50,900
won't I'm gonna have time to create a

00:18:48,860 --> 00:18:53,660
new schematic in circuits but that would

00:18:50,900 --> 00:18:55,790
be new project here I have a schematic

00:18:53,660 --> 00:18:58,580
of what you're holding in your hands

00:18:55,790 --> 00:19:00,380
there the demonstration device that's

00:18:58,580 --> 00:19:02,059
making the rounds so that's the

00:19:00,380 --> 00:19:04,370
microcontroller in the middle as you can

00:19:02,059 --> 00:19:06,500
imagine this largest piece we have our

00:19:04,370 --> 00:19:10,429
two displays down here only one of which

00:19:06,500 --> 00:19:13,490
is applied at any one time and we have

00:19:10,429 --> 00:19:15,650
things like power and USB up there and

00:19:13,490 --> 00:19:17,780
that's what we consider a schematic this

00:19:15,650 --> 00:19:19,820
is describing how all of the parts are

00:19:17,780 --> 00:19:24,080
connected together and what lines are

00:19:19,820 --> 00:19:26,270
maybe not connected at all or how

00:19:24,080 --> 00:19:28,550
they're connected together right and so

00:19:26,270 --> 00:19:32,809
what we have after the schematic design

00:19:28,550 --> 00:19:34,730
is layout how do we go to that this is

00:19:32,809 --> 00:19:37,670
what the layout looks like and this

00:19:34,730 --> 00:19:39,140
starts to resemble the PCB very much the

00:19:37,670 --> 00:19:41,200
one that you're holding in your hands so

00:19:39,140 --> 00:19:43,670
you can kind of see what that looks like

00:19:41,200 --> 00:19:45,710
if we zoom in the middle here this is

00:19:43,670 --> 00:19:48,290
where all those balls are if you see on

00:19:45,710 --> 00:19:49,550
one of those two pcbs the the small chip

00:19:48,290 --> 00:19:54,080
in the middle and that's what it looks

00:19:49,550 --> 00:19:56,000
like and the way I made that that cool

00:19:54,080 --> 00:19:58,130
design is that I just made a 3d

00:19:56,000 --> 00:19:59,720
representation of it and and this way

00:19:58,130 --> 00:20:03,429
you can really kind of spin this around

00:19:59,720 --> 00:20:06,080
and see isn't that great yeah the

00:20:03,429 --> 00:20:09,110
maintainer of kicad was just speaking in

00:20:06,080 --> 00:20:12,559
the in the in the CAD room so they're

00:20:09,110 --> 00:20:14,720
doing a great job so let's go back parts

00:20:12,559 --> 00:20:16,790
sometimes you get some of these designs

00:20:14,720 --> 00:20:18,200
and there's a lot of equivalent parts

00:20:16,790 --> 00:20:19,940
that you can use cheaper ones or more

00:20:18,200 --> 00:20:23,360
modern ones or ones that are going to be

00:20:19,940 --> 00:20:24,320
supported longer so that's one thing I

00:20:23,360 --> 00:20:27,080
do is I use two

00:20:24,320 --> 00:20:30,200
like octo part for example to see where

00:20:27,080 --> 00:20:32,029
I can get the largest amount of Parts I

00:20:30,200 --> 00:20:33,799
there's a lot of considerations price as

00:20:32,029 --> 00:20:35,509
well for example create a bill of

00:20:33,799 --> 00:20:36,889
materials so that other people can

00:20:35,509 --> 00:20:39,200
understand what you're making if you

00:20:36,889 --> 00:20:40,789
have an open source design it's always

00:20:39,200 --> 00:20:43,820
nice to know that people can copy your

00:20:40,789 --> 00:20:46,730
design and and change it or combine it

00:20:43,820 --> 00:20:50,149
and/or give you feedback as well this is

00:20:46,730 --> 00:20:51,740
wrong this won't work as well yeah and

00:20:50,149 --> 00:20:53,570
to understand which of the parts that

00:20:51,740 --> 00:20:55,580
you're using are NBA unencumbered

00:20:53,570 --> 00:20:58,490
because I think everyone here

00:20:55,580 --> 00:21:00,559
understands that freedom is not optional

00:20:58,490 --> 00:21:02,450
right you don't want to sell your soul

00:21:00,559 --> 00:21:04,580
to a manufacturer and then no longer be

00:21:02,450 --> 00:21:07,940
able to release open-source and that's

00:21:04,580 --> 00:21:09,860
what NBA's cause this type of problems

00:21:07,940 --> 00:21:12,379
in da stands for non-disclosure

00:21:09,860 --> 00:21:14,809
agreements so this is all about parts

00:21:12,379 --> 00:21:16,730
and parts selection it's actually my

00:21:14,809 --> 00:21:18,950
least favorite thing to go shopping for

00:21:16,730 --> 00:21:21,830
parts I spent days sometimes trying to

00:21:18,950 --> 00:21:24,200
find good prices I fly to Shenzhen like

00:21:21,830 --> 00:21:26,600
I think most people do when you when you

00:21:24,200 --> 00:21:28,519
get involved enough in all of this and

00:21:26,600 --> 00:21:31,240
then anyway at the end of this is all

00:21:28,519 --> 00:21:33,590
manufacturing and so you're developing

00:21:31,240 --> 00:21:35,629
relationships and and figuring out which

00:21:33,590 --> 00:21:37,639
manufacturers can produce what for you

00:21:35,629 --> 00:21:39,590
different colored silk screens or

00:21:37,639 --> 00:21:41,990
different layers for the same price etc

00:21:39,590 --> 00:21:44,990
etc there's a few in Europe that are

00:21:41,990 --> 00:21:47,720
doing good jobs for us nowadays anyway

00:21:44,990 --> 00:21:49,669
so uh then materials is quite simple I

00:21:47,720 --> 00:21:51,950
think I can do a quick demonstration of

00:21:49,669 --> 00:21:55,690
that as well so we're using free CAD for

00:21:51,950 --> 00:21:58,179
our enclosure design once I start that

00:21:55,690 --> 00:22:00,950
and it takes a while to start but I'm

00:21:58,179 --> 00:22:02,509
yeah the materials engineering just

00:22:00,950 --> 00:22:05,629
means what kind of material are you

00:22:02,509 --> 00:22:07,309
gonna use abs or PLA or PLA gives you

00:22:05,629 --> 00:22:10,639
the option to do 3d printing in-house

00:22:07,309 --> 00:22:13,190
for example with a mate with a bunch of

00:22:10,639 --> 00:22:16,789
printers that you own for example or PC

00:22:13,190 --> 00:22:20,149
polycarbonate which is very it's it's

00:22:16,789 --> 00:22:24,169
very its impact proof and so on let's

00:22:20,149 --> 00:22:26,389
see so this is kind of if it ever shows

00:22:24,169 --> 00:22:31,190
up always takes a while on my computer

00:22:26,389 --> 00:22:35,720
yes so that's the that's the

00:22:31,190 --> 00:22:37,370
okay yeah Oh questions is important and

00:22:35,720 --> 00:22:39,230
I think that was the production is the

00:22:37,370 --> 00:22:40,460
last slide so then we have packaging

00:22:39,230 --> 00:22:43,820
distribution the things that you can

00:22:40,460 --> 00:22:47,390
expect artwork and so on and that was it

00:22:43,820 --> 00:22:49,790
right so this wraps up our presentation

00:22:47,390 --> 00:22:51,050
and these are the topics that we covered

00:22:49,790 --> 00:22:53,330
but I don't know if you have questions

00:22:51,050 --> 00:22:55,760
about any of these things or about the

00:22:53,330 --> 00:22:57,530
devices that is making the routes there

00:22:55,760 --> 00:22:59,690
are some devices that we can plug in in

00:22:57,530 --> 00:23:07,550
the front and they work but there's no

00:22:59,690 --> 00:23:10,150
time for that so you're welcome any

00:23:07,550 --> 00:23:10,150
wanted questions

00:23:14,220 --> 00:23:17,319
[Music]

00:23:26,260 --> 00:23:32,049
it's not really a question of just

00:23:28,900 --> 00:23:37,480
comment about the purism key it does

00:23:32,049 --> 00:23:40,450
exist it's practically the provided by

00:23:37,480 --> 00:23:44,470
Nitro key so it's practically a nitro

00:23:40,450 --> 00:23:46,960
key with them I thought so I know the

00:23:44,470 --> 00:23:48,070
guy said nitro key and I know that

00:23:46,960 --> 00:23:51,820
they're working with a lot of other

00:23:48,070 --> 00:23:54,160
groups and kind of now thanks for thanks

00:23:51,820 --> 00:24:04,059
for confirming that any other questions

00:23:54,160 --> 00:24:06,850
before we wrap up so the question is who

00:24:04,059 --> 00:24:08,980
is we if I'm speaking about our lab and

00:24:06,850 --> 00:24:10,210
our operations and the way that we work

00:24:08,980 --> 00:24:13,059
and so on

00:24:10,210 --> 00:24:15,580
it's a very loosely held and distributed

00:24:13,059 --> 00:24:17,530
group of Manero enthusiasts so it's

00:24:15,580 --> 00:24:19,330
mostly Manero what I'm talking about

00:24:17,530 --> 00:24:21,610
when I say we it's my colleagues at

00:24:19,330 --> 00:24:23,290
Mineiro we meet regularly and there's a

00:24:21,610 --> 00:24:26,230
very few amount of people that are

00:24:23,290 --> 00:24:28,059
actually actively almost daily producing

00:24:26,230 --> 00:24:31,059
hardware designs it's mostly me actually

00:24:28,059 --> 00:24:33,580
so sometimes it's just me but I say we

00:24:31,059 --> 00:24:37,120
anyway to produce a community atmosphere

00:24:33,580 --> 00:24:39,100
and often it includes a few other people

00:24:37,120 --> 00:24:42,970
that are giving feedback or helping in

00:24:39,100 --> 00:24:49,590
some kind of way and do we have time for

00:24:42,970 --> 00:24:53,490
one more or no other questions somebody

00:24:49,590 --> 00:24:53,490

YouTube URL: https://www.youtube.com/watch?v=-jQ6SU6Inbs


