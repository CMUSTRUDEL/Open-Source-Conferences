Title: OSDC 2015: Roland Kammerer | DRBD9 - Managing High Available Storage in Many Node Setups
Publication date: 2015-04-30
Playlist: OSDC 2015 | Open Source Data Center Conference
Description: 
	Recent publications show an ever increasing demand in the area of cloud computing where high-available storage is one important corner stone.
DRBD (Distributed Replicated Block Device) is a building block for high availability clusters since years. Currently, DRBD is basically limited to two node cluster setups. In this talk we will provide an overview about recent developments in DRBD9 that allow us to make DRBD ready for upcoming challenges like many-node cluster setups and highly automated cloud deployments.
For the upcoming release we added an abstraction layer which is handled by “drbdmanage”. It is a tool that takes over management of logical volumes (LVM) and management of configuration files for DRBD. Features of drbdmanage include creating, resizing, and removing of replicated volumes. Additionally, drbdmanage handles taking snapshots and creating volumes in consistency groups. In order to support cloud deployments, a cinder (OpenStack) driver is in development.
All the mentioned components are currently under active development and this talk will provide an overview about these tools as well as about our vision for DRBD in general.

With the upcoming DRBD9 release we will be able to support a higher number of nodes (up to 30) per replication group, ease the deployment of DRBD setups with drbdmanage (up to 1000 nodes planed) and provide the foundations for cloud integration.
Captions: 
	00:00:07,059 --> 00:00:12,670
so welcome back everybody I'm women now

00:00:10,100 --> 00:00:12,670
listen to

00:00:13,000 --> 00:00:18,850
a benign managing hi

00:00:15,040 --> 00:00:21,430
storage in many node setups enjoy so

00:00:18,850 --> 00:00:23,740
welcome and good morning my name is

00:00:21,430 --> 00:00:27,480
Roland Kimura and just a few words about

00:00:23,740 --> 00:00:30,220
myself I'm currently a PhD candidate at

00:00:27,480 --> 00:00:32,560
vienna university of technology and

00:00:30,220 --> 00:00:36,970
since about the year i'm working for

00:00:32,560 --> 00:00:39,940
limpid in the development team and today

00:00:36,970 --> 00:00:45,420
i want to talk about our visions for the

00:00:39,940 --> 00:00:49,270
obd nine our next upcoming release so

00:00:45,420 --> 00:00:51,910
what's the outline of my talk so the

00:00:49,270 --> 00:00:55,810
first part will be about the obd a short

00:00:51,910 --> 00:00:58,900
history what is it and then i would like

00:00:55,810 --> 00:01:02,040
to introduce the new features of the

00:00:58,900 --> 00:01:06,610
upcoming release what's new one of the

00:01:02,040 --> 00:01:10,000
new tools of the op ed is called the apt

00:01:06,610 --> 00:01:14,549
manager which is an essential tool in

00:01:10,000 --> 00:01:19,450
this whole new do p g9 many nodes

00:01:14,549 --> 00:01:21,880
replication thing then i will talk about

00:01:19,450 --> 00:01:26,560
OpenStack and how we plan to integrate

00:01:21,880 --> 00:01:30,540
the op ed in OpenStack specifically

00:01:26,560 --> 00:01:34,540
cinder and I would also like to show a

00:01:30,540 --> 00:01:38,850
short demo so a live demo with a four

00:01:34,540 --> 00:01:42,130
node cluster so let's see if that breaks

00:01:38,850 --> 00:01:46,450
ok so for those of you who haven't heard

00:01:42,130 --> 00:01:48,820
about the OBD via a layer in the in the

00:01:46,450 --> 00:01:52,810
block device hierarchy in the linux

00:01:48,820 --> 00:01:54,880
kernel so usually on the bottom side you

00:01:52,810 --> 00:01:58,390
have your your local hard disks your

00:01:54,880 --> 00:02:03,760
logical volumes if you have a hard disk

00:01:58,390 --> 00:02:07,060
you have a dev sda1 to whatever then on

00:02:03,760 --> 00:02:10,299
the next layer there is TBD what you get

00:02:07,060 --> 00:02:12,819
out of it is a def do pt 1 2 3 whatever

00:02:10,299 --> 00:02:17,620
and on top of that you put your file

00:02:12,819 --> 00:02:20,230
systems and if you write data to a file

00:02:17,620 --> 00:02:24,099
system then it propagates through that

00:02:20,230 --> 00:02:27,489
your pd layer and what it does it writes

00:02:24,099 --> 00:02:30,360
the data down to your local disk and it

00:02:27,489 --> 00:02:34,360
writes the data or

00:02:30,360 --> 00:02:37,150
tcp/ip network card to a second note

00:02:34,360 --> 00:02:40,019
which we call the PIAA note and there

00:02:37,150 --> 00:02:43,269
the data also gets written down to the

00:02:40,019 --> 00:02:45,879
storage to the package sorry to the

00:02:43,269 --> 00:02:48,819
backing device of the the peer node and

00:02:45,879 --> 00:02:51,430
if everything is fine we get an

00:02:48,819 --> 00:02:54,250
acknowledged back and then the

00:02:51,430 --> 00:02:59,019
application in userspace can continue to

00:02:54,250 --> 00:03:01,660
write data to the DPD device so that's

00:02:59,019 --> 00:03:04,180
the the most basic explanation of the

00:03:01,660 --> 00:03:08,980
op-ed that's of course just the tip of

00:03:04,180 --> 00:03:12,340
the iceberg and if you really never have

00:03:08,980 --> 00:03:17,470
heard of the op-ed think of it as a rate

00:03:12,340 --> 00:03:20,590
one over network so so what are the key

00:03:17,470 --> 00:03:27,099
features of the apt eight which is our

00:03:20,590 --> 00:03:31,569
current version so first of all if an

00:03:27,099 --> 00:03:34,150
old loses connection then you don't need

00:03:31,569 --> 00:03:37,569
to fully resynchronize eyes your data

00:03:34,150 --> 00:03:39,609
yep adeno about the data generations the

00:03:37,569 --> 00:03:44,590
directions it has to synchronize and the

00:03:39,609 --> 00:03:49,209
amount which is really nice is that the

00:03:44,590 --> 00:03:52,180
apt is in the you know is implemented as

00:03:49,209 --> 00:03:55,510
a kernel module indirect in the linux

00:03:52,180 --> 00:04:00,250
kernel so it's really fast so these are

00:03:55,510 --> 00:04:03,609
some measurements were which are pretty

00:04:00,250 --> 00:04:05,500
good that i would say and we are

00:04:03,609 --> 00:04:08,859
upstream in the linux kernel since

00:04:05,500 --> 00:04:12,040
version 26 33 so if you download a

00:04:08,859 --> 00:04:18,190
mainline kernel but to get this the

00:04:12,040 --> 00:04:21,039
latest DVD 8 called what was also new

00:04:18,190 --> 00:04:24,639
compared to the previous releases in the

00:04:21,039 --> 00:04:26,680
eighth series was that you can now group

00:04:24,639 --> 00:04:30,610
multiple volumes so a volume is

00:04:26,680 --> 00:04:33,760
basically a thing that is backed up by a

00:04:30,610 --> 00:04:36,220
packing storage like a hard disk that's

00:04:33,760 --> 00:04:39,669
a volume and you can group multiple

00:04:36,220 --> 00:04:42,670
volumes in resources and deputy

00:04:39,669 --> 00:04:46,600
guarantees right order fidelity within

00:04:42,670 --> 00:04:54,910
resource so what that means is yepd

00:04:46,600 --> 00:04:58,180
doesn't somehow it keeps the other in it

00:04:54,910 --> 00:05:02,410
keeps the order of the data how it how

00:04:58,180 --> 00:05:06,340
it was written yeah and there's a

00:05:02,410 --> 00:05:08,560
pacemaker integration so you can use the

00:05:06,340 --> 00:05:16,240
APD resources in your high availability

00:05:08,560 --> 00:05:19,390
cluster okay so how do you configure and

00:05:16,240 --> 00:05:21,910
manage a deputy cluster in the eighth

00:05:19,390 --> 00:05:25,000
series so you have a set of

00:05:21,910 --> 00:05:28,540
configuration files in that case for the

00:05:25,000 --> 00:05:31,450
apt eight it's easy because you're more

00:05:28,540 --> 00:05:33,970
or less limited to two nodes in the

00:05:31,450 --> 00:05:38,290
cluster so you have your configuration

00:05:33,970 --> 00:05:43,060
files you distribute it to the second

00:05:38,290 --> 00:05:46,870
node and then there are different tools

00:05:43,060 --> 00:05:50,230
so on the upper layer there is the GOP d

00:05:46,870 --> 00:05:53,470
at the m ADM command which is a

00:05:50,230 --> 00:05:56,770
high-level tool where you say okay bring

00:05:53,470 --> 00:05:59,790
up this resource this tool then calls

00:05:56,770 --> 00:06:03,310
lower level tools like you BTW set up

00:05:59,790 --> 00:06:06,340
the to the real the real lower level

00:06:03,310 --> 00:06:08,910
work and copd set up communicate so

00:06:06,340 --> 00:06:12,940
within net lick interface to the

00:06:08,910 --> 00:06:14,710
internal implementation of the apt so

00:06:12,940 --> 00:06:18,910
you of course have to provide storage

00:06:14,710 --> 00:06:21,460
and you have to manually copy the

00:06:18,910 --> 00:06:27,730
configuration files to your to your

00:06:21,460 --> 00:06:31,260
chest the nodes so how do you promote

00:06:27,730 --> 00:06:37,350
the resource you use this high-level

00:06:31,260 --> 00:06:42,310
tool the ADM command you say I want to

00:06:37,350 --> 00:06:44,320
move a resource X into primary mode so

00:06:42,310 --> 00:06:48,340
that's something you have to do before

00:06:44,320 --> 00:06:50,590
you can for example mount the copd

00:06:48,340 --> 00:06:53,950
device and when you're done with your

00:06:50,590 --> 00:06:56,260
work you unmount the device you put it

00:06:53,950 --> 00:06:59,500
into secondary mode then use

00:06:56,260 --> 00:07:01,840
to your to your piano and then you do

00:06:59,500 --> 00:07:04,060
basically the same you promote the note

00:07:01,840 --> 00:07:09,580
into primary then you can mount the

00:07:04,060 --> 00:07:12,850
device and so on so but that's not the

00:07:09,580 --> 00:07:16,770
whole story before you can use the

00:07:12,850 --> 00:07:20,170
resource you have to create metadata

00:07:16,770 --> 00:07:24,040
there's a tool that does that because

00:07:20,170 --> 00:07:26,080
deputies are now has to track blocks

00:07:24,040 --> 00:07:28,660
that the out of sync that this has to

00:07:26,080 --> 00:07:30,790
synchronize so there is this small

00:07:28,660 --> 00:07:33,820
amount at the end of the backing device

00:07:30,790 --> 00:07:35,680
where we start this information so if

00:07:33,820 --> 00:07:39,430
you create a new resource you have to

00:07:35,680 --> 00:07:41,500
also create this metadata and before you

00:07:39,430 --> 00:07:44,080
can promote it to primary you have to

00:07:41,500 --> 00:07:48,060
bring up the resource on both nodes then

00:07:44,080 --> 00:07:52,780
you promote the resource on one side so

00:07:48,060 --> 00:07:57,750
there's many steps involved to make use

00:07:52,780 --> 00:08:01,120
of the underlaying DIPG device and

00:07:57,750 --> 00:08:06,400
that's of course something we want to to

00:08:01,120 --> 00:08:09,670
improve 50th BD 9 and these steps that

00:08:06,400 --> 00:08:12,010
you have to promote and demote the OBD

00:08:09,670 --> 00:08:14,230
resource that's also the reason you

00:08:12,010 --> 00:08:16,870
somehow in some setups you have two

00:08:14,230 --> 00:08:19,570
special case dear biggie because you're

00:08:16,870 --> 00:08:22,920
in a pacemaker setup you cannot use it

00:08:19,570 --> 00:08:27,640
like an ordinary file system resource

00:08:22,920 --> 00:08:31,720
because in upd8 you need these extra

00:08:27,640 --> 00:08:35,500
steps of promoting and demoting okay so

00:08:31,720 --> 00:08:39,430
what are the features of the apt 9 so

00:08:35,500 --> 00:08:43,660
the really cool thing is that now you

00:08:39,430 --> 00:08:45,460
can do martin old setups again with the

00:08:43,660 --> 00:08:48,430
eighth series you are more or less

00:08:45,460 --> 00:08:54,340
limited to two node setups you can stack

00:08:48,430 --> 00:08:57,660
the setups but with dvd9 you can have up

00:08:54,340 --> 00:09:01,330
to 30 bond connections per resource and

00:08:57,660 --> 00:09:04,510
for now you are limited to 32 notes in

00:09:01,330 --> 00:09:07,360
your cluster that's more or less an

00:09:04,510 --> 00:09:09,850
arbitrary limit so the next step would

00:09:07,360 --> 00:09:12,310
be 64 then we

00:09:09,850 --> 00:09:16,300
to think about the implementation but

00:09:12,310 --> 00:09:19,750
for now 32 notes then we have Auto

00:09:16,300 --> 00:09:23,649
promote and trends transport abstraction

00:09:19,750 --> 00:09:25,050
layer I will talk about them very soon

00:09:23,649 --> 00:09:28,870
and then there are the usual

00:09:25,050 --> 00:09:32,009
improvements over the place I just

00:09:28,870 --> 00:09:36,550
mentioned a view I personally worked on

00:09:32,009 --> 00:09:39,759
so again one of the cool features is

00:09:36,550 --> 00:09:41,860
this auto promote in DVD version 8 you

00:09:39,759 --> 00:09:44,850
did switch it the primary mounted

00:09:41,860 --> 00:09:48,819
unmounted switch it back to secondary

00:09:44,850 --> 00:09:51,579
for do bd9 you simply monster that you

00:09:48,819 --> 00:09:55,660
BTW device and it gets automatically

00:09:51,579 --> 00:09:59,079
promoted so what that means you have a

00:09:55,660 --> 00:10:01,180
cluster of let's say five nodes one of

00:09:59,079 --> 00:10:04,029
the nodes mounts the device it gets

00:10:01,180 --> 00:10:07,269
promoted this primary it has the

00:10:04,029 --> 00:10:11,620
resources can write data if it unmans

00:10:07,269 --> 00:10:13,480
the volume its demoted to a secondary

00:10:11,620 --> 00:10:18,639
and another node in the cluster can

00:10:13,480 --> 00:10:21,430
mount the device and if all nodes in the

00:10:18,639 --> 00:10:24,910
cluster secondary you can mount the

00:10:21,430 --> 00:10:29,819
resource read only because there's no

00:10:24,910 --> 00:10:33,899
primary so you have read-only access and

00:10:29,819 --> 00:10:37,720
what's also important it's somehow

00:10:33,899 --> 00:10:42,189
sophisticated you still can promote and

00:10:37,720 --> 00:10:44,610
demote resource manually and then deputy

00:10:42,189 --> 00:10:48,160
remembers that you promoted it manually

00:10:44,610 --> 00:10:50,170
so for example if you switch it to

00:10:48,160 --> 00:10:52,329
primary on the command line then you

00:10:50,170 --> 00:10:55,839
mount the device then you unmount the

00:10:52,329 --> 00:10:59,889
device it doesn't get demoted because it

00:10:55,839 --> 00:11:01,720
remembers you promoted it on the comment

00:10:59,889 --> 00:11:05,829
line so you know what you are doing if

00:11:01,720 --> 00:11:07,509
you then demoted the resource and then I

00:11:05,829 --> 00:11:09,519
can mounted it then it gets auto

00:11:07,509 --> 00:11:13,240
promoted if you unmount it then it gets

00:11:09,519 --> 00:11:15,939
automatically demoted so from a

00:11:13,240 --> 00:11:19,720
usability point of view I think that's a

00:11:15,939 --> 00:11:22,640
that's really an improvement the

00:11:19,720 --> 00:11:27,970
transport abstraction layer was actually

00:11:22,640 --> 00:11:31,850
my first pranil project for limpet and

00:11:27,970 --> 00:11:34,460
what it does it separates the the main

00:11:31,850 --> 00:11:40,430
DVD quality from the underlying

00:11:34,460 --> 00:11:43,280
transport so before that the DPD was

00:11:40,430 --> 00:11:46,760
tcp/ip and the code was really

00:11:43,280 --> 00:11:50,570
interlined into the core logic so what

00:11:46,760 --> 00:11:54,110
we did we separated these parts nowadays

00:11:50,570 --> 00:11:58,450
you have a main dbd kernel module and

00:11:54,110 --> 00:12:01,580
you have a DVD transport TCP

00:11:58,450 --> 00:12:05,930
implementation and you can specify the

00:12:01,580 --> 00:12:09,170
transport power resource if you notice

00:12:05,930 --> 00:12:11,780
make a kept on Brock the obd you see the

00:12:09,170 --> 00:12:14,690
different transports in that case you

00:12:11,780 --> 00:12:18,650
can see that we needed six iterations of

00:12:14,690 --> 00:12:22,870
the API before we got it right and the

00:12:18,650 --> 00:12:26,780
TCP transport is is loaded in that case

00:12:22,870 --> 00:12:29,930
okay so that's nice from a development

00:12:26,780 --> 00:12:34,520
point of view but what else so what's

00:12:29,930 --> 00:12:38,150
the big deal in our view that's the big

00:12:34,520 --> 00:12:41,560
deal so if you didn't see it we are

00:12:38,150 --> 00:12:46,870
finally there dieppa d now speaks RDMA

00:12:41,560 --> 00:12:51,370
infiniband which is i think pretty cool

00:12:46,870 --> 00:12:54,200
so far I started to work on that in

00:12:51,370 --> 00:12:58,970
November last year then I took off and

00:12:54,200 --> 00:13:02,150
the other developers finished my mess so

00:12:58,970 --> 00:13:05,900
the it's pretty new but currently we

00:13:02,150 --> 00:13:08,000
observe 20 gigabytes or roughly 2

00:13:05,900 --> 00:13:11,420
gigabytes per second over the network

00:13:08,000 --> 00:13:15,680
with the atom a transport which is

00:13:11,420 --> 00:13:20,630
actually I think pretty cool but it's

00:13:15,680 --> 00:13:23,240
still in an early state and they are the

00:13:20,630 --> 00:13:27,800
matrons but it shows some bottlenecks in

00:13:23,240 --> 00:13:30,950
the TBD QR code and yeah we are working

00:13:27,800 --> 00:13:34,910
on that so it will get faster but for

00:13:30,950 --> 00:13:36,080
now tcp was slow enough that we didn't

00:13:34,910 --> 00:13:38,900
see this

00:13:36,080 --> 00:13:43,100
this bottlenecks so there's definitely

00:13:38,900 --> 00:13:45,550
more speed to come but so far think

00:13:43,100 --> 00:13:48,710
that's pretty good so what are the

00:13:45,550 --> 00:13:54,470
transport layers we would like to cover

00:13:48,710 --> 00:13:59,390
with dvd9 so basically the tcp world is

00:13:54,470 --> 00:14:02,960
already covered RDMA is also in a notice

00:13:59,390 --> 00:14:05,390
in a good state and one of the trends

00:14:02,960 --> 00:14:09,950
but we are thinking about it on the to

00:14:05,390 --> 00:14:12,770
do list is sctp because it has one nice

00:14:09,950 --> 00:14:16,280
features their endpoint of sctp

00:14:12,770 --> 00:14:19,400
connection can be on different IP

00:14:16,280 --> 00:14:23,060
addresses so what you get out of it you

00:14:19,400 --> 00:14:25,460
can do a dynamic veil over they call it

00:14:23,060 --> 00:14:29,840
i think multihoming that's an

00:14:25,460 --> 00:14:33,530
interesting feature so sctp we didn't

00:14:29,840 --> 00:14:38,390
start on that one but tcp/ip all story

00:14:33,530 --> 00:14:43,700
are they may in a good shape deputy

00:14:38,390 --> 00:14:46,760
manager is yet another tool you already

00:14:43,700 --> 00:14:49,750
saw you have the higher level admin

00:14:46,760 --> 00:14:53,450
command and the set up command and so on

00:14:49,750 --> 00:14:56,810
so why do we need another tool so this

00:14:53,450 --> 00:14:59,000
auto promoting it solves some existing

00:14:56,810 --> 00:15:02,740
issues with manually switching to

00:14:59,000 --> 00:15:06,220
primary secondary but by having

00:15:02,740 --> 00:15:09,830
multi-node replication we introduce a

00:15:06,220 --> 00:15:13,190
whole new level of complexity so what

00:15:09,830 --> 00:15:15,950
you still would have to do is you have

00:15:13,190 --> 00:15:18,500
to copy your configuration files to all

00:15:15,950 --> 00:15:21,050
the notes in your cluster which is error

00:15:18,500 --> 00:15:24,880
prone Robert will you forget to updates

00:15:21,050 --> 00:15:28,490
and configuration files on one node so

00:15:24,880 --> 00:15:33,950
we need a tool that makes the

00:15:28,490 --> 00:15:36,680
configuration more easy and we also want

00:15:33,950 --> 00:15:40,780
to provide some new features and that's

00:15:36,680 --> 00:15:45,040
where you pee dee manage comes into play

00:15:40,780 --> 00:15:47,300
yeah that's what I already told you so

00:15:45,040 --> 00:15:49,790
before we look into the software

00:15:47,300 --> 00:15:53,930
architecture so what do you need you

00:15:49,790 --> 00:15:57,680
lvm volume group by default yo Petey

00:15:53,930 --> 00:16:00,860
pool but that's just a switch in the in

00:15:57,680 --> 00:16:04,540
the configuration but if you have that

00:16:00,860 --> 00:16:08,630
you get some really cool stuff out of it

00:16:04,540 --> 00:16:11,060
so the dbd manage tool it manages the

00:16:08,630 --> 00:16:14,510
nodes in your cluster so you can add

00:16:11,060 --> 00:16:18,410
notes you can remove nodes it manages

00:16:14,510 --> 00:16:21,470
your resources so it's no more editing

00:16:18,410 --> 00:16:24,260
config files copying them to the other

00:16:21,470 --> 00:16:27,800
nodes you just say okay I want a new

00:16:24,260 --> 00:16:32,120
resource I wanted 100 gigabytes in size

00:16:27,800 --> 00:16:37,180
and I wanted to be replicated on five

00:16:32,120 --> 00:16:41,260
nodes and that's it the rest happens

00:16:37,180 --> 00:16:47,600
automatically the metadata is created

00:16:41,260 --> 00:16:50,600
the underlying volume lvm volume is

00:16:47,600 --> 00:16:55,040
created so that that's what happens

00:16:50,600 --> 00:16:59,630
automatically in the that's actually

00:16:55,040 --> 00:17:08,360
something we added recently support for

00:16:59,630 --> 00:17:10,340
snapshots on lv m yeah and the tool

00:17:08,360 --> 00:17:14,210
itself it's a user space tool

00:17:10,340 --> 00:17:17,930
implemented in titan and it scales to

00:17:14,210 --> 00:17:20,480
thousands of nodes via a concept we call

00:17:17,930 --> 00:17:22,940
satellite notes that's still working

00:17:20,480 --> 00:17:26,450
progress we have to think about it how

00:17:22,940 --> 00:17:29,900
to do it but there's a slide on this

00:17:26,450 --> 00:17:34,580
settle Oh set alight notes I think I can

00:17:29,900 --> 00:17:38,890
give you some more details okay so how

00:17:34,580 --> 00:17:42,350
is the how do you control the upd nine

00:17:38,890 --> 00:17:46,790
we already sold that part so that didn't

00:17:42,350 --> 00:17:51,200
change then there is now the dbd manage

00:17:46,790 --> 00:17:55,220
demon also implemented in titan and the

00:17:51,200 --> 00:18:00,730
command line tool the DOPT manage client

00:17:55,220 --> 00:18:03,680
and these to communicate via deepest and

00:18:00,730 --> 00:18:12,410
the right part is basically a

00:18:03,680 --> 00:18:14,780
okay we know how to deal with lvm so

00:18:12,410 --> 00:18:17,660
what's the software architecture behind

00:18:14,780 --> 00:18:20,720
deputy manager and I think that's

00:18:17,660 --> 00:18:22,850
actually something really cool of course

00:18:20,720 --> 00:18:26,330
we have to start at the configuration

00:18:22,850 --> 00:18:29,540
somewhere configurations like which

00:18:26,330 --> 00:18:32,420
nodes are in the cluster which resources

00:18:29,540 --> 00:18:35,360
exist and stuff like that and we start

00:18:32,420 --> 00:18:38,660
this configuration within a year p g9

00:18:35,360 --> 00:18:44,600
volume itself so this grey boxes are

00:18:38,660 --> 00:18:48,110
just some servers and every each each

00:18:44,600 --> 00:18:51,410
server has a small in size it's about

00:18:48,110 --> 00:18:53,780
four megabytes a small the apogee volume

00:18:51,410 --> 00:18:58,700
that is replicated over the whole

00:18:53,780 --> 00:19:00,650
cluster and if the client for example

00:18:58,700 --> 00:19:03,170
tells the demon okay I want a new

00:19:00,650 --> 00:19:05,960
resource to communicate where deepest

00:19:03,170 --> 00:19:09,370
the demon writes the data into the

00:19:05,960 --> 00:19:11,750
control volume then the control volume

00:19:09,370 --> 00:19:17,980
the content of the volume gets

00:19:11,750 --> 00:19:25,960
replicated to all the other nodes and

00:19:17,980 --> 00:19:29,060
then the DVD events that that gets

00:19:25,960 --> 00:19:31,580
evaluated by the demon and stand the

00:19:29,060 --> 00:19:35,090
demon reacts to it for example creates a

00:19:31,580 --> 00:19:36,980
a new snapshot or whatever the the

00:19:35,090 --> 00:19:43,400
configuration the new configuration

00:19:36,980 --> 00:19:48,020
tells him to do so what can you do with

00:19:43,400 --> 00:19:49,970
it this is a setup before our notes so

00:19:48,020 --> 00:19:52,700
what you see is that the control volume

00:19:49,970 --> 00:19:55,340
is replicated over all nodes and then

00:19:52,700 --> 00:19:58,610
there are some resources that replicated

00:19:55,340 --> 00:20:03,230
over two nodes and here the resource

00:19:58,610 --> 00:20:05,450
bezoar was Reynolds so when you add a

00:20:03,230 --> 00:20:10,250
new node the first thing that happens

00:20:05,450 --> 00:20:15,530
the PD control volume is created and it

00:20:10,250 --> 00:20:17,480
gets the current state and after that

00:20:15,530 --> 00:20:21,590
you can for example to

00:20:17,480 --> 00:20:24,559
rebalancing so imagine you want to have

00:20:21,590 --> 00:20:28,040
a new resource on that is replicated

00:20:24,559 --> 00:20:30,799
between the first two notes then you

00:20:28,040 --> 00:20:34,640
have to make space for this new resource

00:20:30,799 --> 00:20:37,490
so you do rebalancing and you try to

00:20:34,640 --> 00:20:42,049
remove the resource d from the second

00:20:37,490 --> 00:20:45,820
node if rebalancing is done you can then

00:20:42,049 --> 00:20:52,940
make use of the of the new space and

00:20:45,820 --> 00:20:54,919
create new resources ok and I hope we

00:20:52,940 --> 00:20:57,590
have time for that that's something I

00:20:54,919 --> 00:21:03,980
would really like to show you in the in

00:20:57,590 --> 00:21:08,360
the live demo so I told you two things

00:21:03,980 --> 00:21:10,669
the first was you are limited to 32

00:21:08,360 --> 00:21:13,280
notes in in your cluster and the other

00:21:10,669 --> 00:21:15,169
thing was you BD manage scales to

00:21:13,280 --> 00:21:20,299
thousands of notes so how does that fit

00:21:15,169 --> 00:21:22,850
together our idea is that there will be

00:21:20,299 --> 00:21:27,140
a set of core notes these have the

00:21:22,850 --> 00:21:31,100
replicated control volume and then there

00:21:27,140 --> 00:21:34,520
is a set of satellite nodes that are

00:21:31,100 --> 00:21:36,710
let's say in a cloud there with their

00:21:34,520 --> 00:21:39,169
machines like the others but they don't

00:21:36,710 --> 00:21:45,200
have a local copy of the control volume

00:21:39,169 --> 00:21:49,220
and a co Arnold is responsible for a set

00:21:45,200 --> 00:21:53,120
of satellite nodes and if there's for

00:21:49,220 --> 00:21:56,059
example the request that this satellite

00:21:53,120 --> 00:22:01,370
note and the settler light note here

00:21:56,059 --> 00:22:04,520
should share a resource then for for

00:22:01,370 --> 00:22:08,299
that node disk or not is responsible it

00:22:04,520 --> 00:22:11,840
sends this request to the satellite node

00:22:08,299 --> 00:22:13,880
and for that satellite note this carnal

00:22:11,840 --> 00:22:16,760
would be responsible and it also

00:22:13,880 --> 00:22:20,240
forwards the request to them to the

00:22:16,760 --> 00:22:23,540
notes besides that there are no

00:22:20,240 --> 00:22:26,210
limitation so it's perfectly fine to

00:22:23,540 --> 00:22:28,520
have a shared resource between one

00:22:26,210 --> 00:22:30,869
satellite note here and the satellite

00:22:28,520 --> 00:22:35,019
note there

00:22:30,869 --> 00:22:40,629
but yeah that's definitely working in

00:22:35,019 --> 00:22:46,690
progress so OpenStack and our our view

00:22:40,629 --> 00:22:49,149
on it the interesting parts for us Nova

00:22:46,690 --> 00:22:52,240
the compute part and of course mainly

00:22:49,149 --> 00:22:57,899
the cinder part of OpenStack which is

00:22:52,240 --> 00:23:02,649
the volume service so again how does the

00:22:57,899 --> 00:23:07,450
how do you control it do bd9 looks like

00:23:02,649 --> 00:23:10,179
that and if you want to integrate it in

00:23:07,450 --> 00:23:13,450
cinder our seen the driver looks like

00:23:10,179 --> 00:23:17,499
that you have two cinder driver and it

00:23:13,450 --> 00:23:21,220
talks to the DPD manage demon and it

00:23:17,499 --> 00:23:28,809
does the rest as it as it did it before

00:23:21,220 --> 00:23:30,850
with the command line client what's the

00:23:28,809 --> 00:23:33,519
situation on Nova so if you are not

00:23:30,850 --> 00:23:36,970
familiar with OpenStack actually I'm

00:23:33,519 --> 00:23:40,299
definitely not an expert on OpenStack so

00:23:36,970 --> 00:23:43,529
but a nova note think of it as a note

00:23:40,299 --> 00:23:47,529
that is able to execute the hypervisor

00:23:43,529 --> 00:23:50,740
so if the nominal the compute node has

00:23:47,529 --> 00:23:53,379
access to the to a replicated volume

00:23:50,740 --> 00:23:57,369
then ok everything is fine access the

00:23:53,379 --> 00:24:01,570
data if it doesn't have access to a

00:23:57,369 --> 00:24:05,440
replicated volume then we call it a DVD

00:24:01,570 --> 00:24:08,259
client and what the deputy client is

00:24:05,440 --> 00:24:10,299
it's a disgrace primary note that

00:24:08,259 --> 00:24:13,269
connects two secondaries that have the

00:24:10,299 --> 00:24:16,809
data so before that make sense to you I

00:24:13,269 --> 00:24:21,070
have to introduce the concept of a disc

00:24:16,809 --> 00:24:24,070
as primary node so that means it's a

00:24:21,070 --> 00:24:27,909
primary node so it's allowed to to write

00:24:24,070 --> 00:24:30,759
data it's yeah switch to it's promoted

00:24:27,909 --> 00:24:33,639
its in primary mode and it's at this

00:24:30,759 --> 00:24:36,549
class for drpd that's perfectly fine if

00:24:33,639 --> 00:24:39,759
you don't have a local storage if you

00:24:36,549 --> 00:24:43,179
then write data to the apt right

00:24:39,759 --> 00:24:44,200
resource it gets written to your peer

00:24:43,179 --> 00:24:47,470
notes and

00:24:44,200 --> 00:24:49,750
to the artists and if you read data you

00:24:47,470 --> 00:24:56,529
read it over the network so that's a

00:24:49,750 --> 00:25:01,659
diskless disqus primary node so what's

00:24:56,529 --> 00:25:04,470
the big storage vendor view here so you

00:25:01,659 --> 00:25:07,299
have a neutron which is the network

00:25:04,470 --> 00:25:12,190
component then you have your no nodes

00:25:07,299 --> 00:25:16,000
and then you have your yes yes end with

00:25:12,190 --> 00:25:22,600
your big storage boxes that implement

00:25:16,000 --> 00:25:25,269
that this in the part so all of our

00:25:22,600 --> 00:25:28,149
ideas that the whole idea of the apogee

00:25:25,269 --> 00:25:30,460
is you don't need this expansive storage

00:25:28,149 --> 00:25:35,470
boxes you use commodity hardware you use

00:25:30,460 --> 00:25:37,830
open source software people so our idea

00:25:35,470 --> 00:25:42,970
is you just have more service with

00:25:37,830 --> 00:25:47,230
commodity servers with additional with

00:25:42,970 --> 00:25:49,720
internal drives so that's basically

00:25:47,230 --> 00:25:54,429
they're the first that year replace the

00:25:49,720 --> 00:25:58,750
big expensive storage with just cheaper

00:25:54,429 --> 00:26:02,309
cheaper hardware and there's a second

00:25:58,750 --> 00:26:05,860
thing where we see some problems in

00:26:02,309 --> 00:26:09,000
OpenStack so there's the cinder patent

00:26:05,860 --> 00:26:13,799
there's this Nova part and this is a

00:26:09,000 --> 00:26:17,200
just a small part of the architecture of

00:26:13,799 --> 00:26:20,250
OpenStack and what you see here is

00:26:17,200 --> 00:26:25,389
there's my less no connection between

00:26:20,250 --> 00:26:28,510
cinder and Nova and that's something we

00:26:25,389 --> 00:26:33,250
would like to see a tighter integration

00:26:28,510 --> 00:26:36,690
of information exchange between Novans

00:26:33,250 --> 00:26:40,570
in the because then you could have your

00:26:36,690 --> 00:26:43,120
servers they contain the local storage

00:26:40,570 --> 00:26:46,299
they have access to a volume and if you

00:26:43,120 --> 00:26:48,850
then want to start a virtual machine of

00:26:46,299 --> 00:26:52,139
course it would make sense to start it

00:26:48,850 --> 00:26:54,850
on a server that already has the data so

00:26:52,139 --> 00:26:56,620
that's also something we would like to

00:26:54,850 --> 00:27:00,700
see and

00:26:56,620 --> 00:27:09,790
before yeah there's enough time that's

00:27:00,700 --> 00:27:12,430
good Emel time so this will just be the

00:27:09,790 --> 00:27:17,500
overview i will switch to another

00:27:12,430 --> 00:27:22,150
terminal wafer with a bigger font so

00:27:17,500 --> 00:27:28,090
here i have four notes from left note

00:27:22,150 --> 00:27:32,580
alpha Bravo Charlie and Delta I'm

00:27:28,090 --> 00:27:35,830
connected via SSH and the first thing I

00:27:32,580 --> 00:27:38,860
run this shell script but it does it

00:27:35,830 --> 00:27:43,450
simply sets up there the DOPT pool and

00:27:38,860 --> 00:27:57,010
starts the copd manager demon so nothing

00:27:43,450 --> 00:28:02,429
special here so okay that's fine then

00:27:57,010 --> 00:28:02,429
but we also to is it

00:28:13,950 --> 00:28:21,160
okay and now I say we will keep that for

00:28:18,400 --> 00:28:24,420
an overview about the whole gesture but

00:28:21,160 --> 00:28:36,190
here I think we will see it better

00:28:24,420 --> 00:28:43,600
vagrant so I am now again connected to

00:28:36,190 --> 00:28:50,880
the Alpha node and I'm root and the

00:28:43,600 --> 00:28:55,030
first thing we do is actually if come

00:28:50,880 --> 00:28:58,740
back because in that set up I have

00:28:55,030 --> 00:29:02,260
multiple interfaces so I have to tell

00:28:58,740 --> 00:29:09,910
deputy manager which interface sister is

00:29:02,260 --> 00:29:16,260
the one it should use first thing you do

00:29:09,910 --> 00:29:16,260
is you how I have to source it again

00:29:30,960 --> 00:29:38,559
so it's now initialized it created the

00:29:35,890 --> 00:29:41,470
DOPT control volume I talked about and

00:29:38,559 --> 00:29:44,769
from that point on you can now join

00:29:41,470 --> 00:29:51,429
notes to your cluster you do that with

00:29:44,769 --> 00:29:54,309
dpd manage add note that something I've

00:29:51,429 --> 00:29:57,130
worked on recently we have now tap

00:29:54,309 --> 00:30:00,820
completions for all the sub commands and

00:29:57,130 --> 00:30:04,299
it's also a dynamic completion you will

00:30:00,820 --> 00:30:07,570
see that in a minute so for example if

00:30:04,299 --> 00:30:12,460
the first thing you do you give the node

00:30:07,570 --> 00:30:15,340
name like bubble and if it then is

00:30:12,460 --> 00:30:17,110
resolvable via the network you can

00:30:15,340 --> 00:30:21,490
simply use kept completion and it

00:30:17,110 --> 00:30:26,019
resolves the IP of your of your node ok

00:30:21,490 --> 00:30:30,279
so let's add problem then you get the

00:30:26,019 --> 00:30:33,429
command for Bravo so that it can join

00:30:30,279 --> 00:30:36,639
your cluster actually in the wild it's a

00:30:33,429 --> 00:30:39,789
bit easier because if you deploy the ssh

00:30:36,639 --> 00:30:43,419
keys of the notes to each other it this

00:30:39,789 --> 00:30:46,799
command gets executed by managed by SSH

00:30:43,419 --> 00:30:54,389
but I didn't do that so I have to do it

00:30:46,799 --> 00:30:54,389
manually in my setup so this

00:31:04,880 --> 00:31:07,870
mm-hmm

00:31:08,940 --> 00:31:15,030
so what you see here and now that the

00:31:11,910 --> 00:31:18,960
control volume is is active on node

00:31:15,030 --> 00:31:22,670
alpha it's in secondary mode and of

00:31:18,960 --> 00:31:26,130
course it's you see it in the setup

00:31:22,670 --> 00:31:29,720
status and it's a for now it's

00:31:26,130 --> 00:31:32,940
synchronized earth to sixty-six percent

00:31:29,720 --> 00:31:39,660
so here everything is fine you have the

00:31:32,940 --> 00:31:45,050
control volume on alpha and Bravo yeah

00:31:39,660 --> 00:31:45,050
everything is fine so I will

00:32:17,420 --> 00:32:22,540
okay i guess that this the line break

00:32:41,090 --> 00:32:44,090
mmm

00:32:51,070 --> 00:32:56,590
so what you see now the control volume

00:32:53,799 --> 00:33:02,110
is already replicated between Charlie

00:32:56,590 --> 00:33:04,059
alpha and Bravo and again so now it's

00:33:02,110 --> 00:33:07,600
everything is fine and synchronized and

00:33:04,059 --> 00:33:13,019
I will join the last note here because

00:33:07,600 --> 00:33:13,019
then it's easier for me Delta

00:33:23,860 --> 00:33:26,860
mm-hmm

00:33:34,380 --> 00:33:40,000
let us take some time for the initial

00:33:37,269 --> 00:33:44,500
sync but you see that the numbers

00:33:40,000 --> 00:33:47,049
increase 39 tuck everything is up to

00:33:44,500 --> 00:33:52,570
date state of the cast is healthy all

00:33:47,049 --> 00:34:04,720
nodes joined so the cool thing is if we

00:33:52,570 --> 00:34:07,919
do it drip manage new volume so what

00:34:04,720 --> 00:34:12,040
does it need it needs a size so it's

00:34:07,919 --> 00:34:14,919
donating megabytes then it needs the

00:34:12,040 --> 00:34:18,760
name of a resource so in our case let's

00:34:14,919 --> 00:34:22,899
say it's our manage grease or 0 and for

00:34:18,760 --> 00:34:27,609
simplicity let's make it 20 megabytes so

00:34:22,899 --> 00:34:30,869
pretty small anyways so it already

00:34:27,609 --> 00:34:40,810
completed and with the second command

00:34:30,869 --> 00:34:44,919
which is deploy what you give this

00:34:40,810 --> 00:34:47,560
command is a resource name and a

00:34:44,919 --> 00:34:49,659
redundancy count so in that case if i

00:34:47,560 --> 00:34:52,089
start typing the resource name it

00:34:49,659 --> 00:34:56,550
completes and i say i want to deploy

00:34:52,089 --> 00:35:00,570
this resource on two nodes in my gesture

00:34:56,550 --> 00:35:00,570
so let's switch back

00:35:07,020 --> 00:35:16,750
so what you see here now the resource is

00:35:10,920 --> 00:35:19,329
got distributed to note Delta and to

00:35:16,750 --> 00:35:22,299
note Bravo and everything happened

00:35:19,329 --> 00:35:30,549
automatically notes Bravo and Delta they

00:35:22,299 --> 00:35:33,549
created the the el de logical volume so

00:35:30,549 --> 00:35:36,339
and they created the meter data and now

00:35:33,549 --> 00:35:38,619
it's it's really ready to use so we have

00:35:36,339 --> 00:35:40,980
this resource and this volume is now

00:35:38,619 --> 00:35:44,980
distributed in our cluster on two nodes

00:35:40,980 --> 00:35:47,380
so it's on Delta and Bravo for now now

00:35:44,980 --> 00:35:51,250
let's assume Bravo need some maintenance

00:35:47,380 --> 00:35:55,510
so what we first want to do we want to

00:35:51,250 --> 00:35:58,119
move the resource to note Charlie while

00:35:55,510 --> 00:36:00,940
still keeping a high amount of

00:35:58,119 --> 00:36:11,799
redundancy so what what you do is you

00:36:00,940 --> 00:36:16,150
assign to Charlie the resource mr0 let's

00:36:11,799 --> 00:36:22,780
switch back to a cluster so this is no

00:36:16,150 --> 00:36:25,000
Charlie so what you see here now it also

00:36:22,780 --> 00:36:30,809
contains this resource everything is

00:36:25,000 --> 00:36:37,359
fine then you want to unassign it I'm

00:36:30,809 --> 00:36:45,130
assign from Bravo mr0 switch back to the

00:36:37,359 --> 00:36:48,369
cluster oh sorry so what you already see

00:36:45,130 --> 00:36:51,010
here now is the messages from the

00:36:48,369 --> 00:36:55,599
logical volume it it's already got

00:36:51,010 --> 00:36:57,700
removed if you do the setup status now

00:36:55,599 --> 00:37:01,089
you see the note only contains the

00:36:57,700 --> 00:37:03,700
control volume the other resource it got

00:37:01,089 --> 00:37:06,210
removed and also that the packing

00:37:03,700 --> 00:37:10,030
storage the logical volume got removed

00:37:06,210 --> 00:37:13,059
so what you would do now is you power

00:37:10,030 --> 00:37:16,150
down Bravo you repeat whatever you need

00:37:13,059 --> 00:37:18,339
to do and then you just assign it's the

00:37:16,150 --> 00:37:19,690
resource paid for the sink probably

00:37:18,339 --> 00:37:24,310
unassign it from

00:37:19,690 --> 00:37:28,359
from Charlie and you're done so that was

00:37:24,310 --> 00:37:36,730
the demo I wanted to show to you and

00:37:28,359 --> 00:37:39,430
what okay so that's fine so and there it

00:37:36,730 --> 00:37:43,240
has the deputy managers lots of

00:37:39,430 --> 00:37:51,940
subcommands so that's a long list like

00:37:43,240 --> 00:37:57,880
you can fill the notes and what I added

00:37:51,940 --> 00:38:01,150
recently is you can filter and you can

00:37:57,880 --> 00:38:04,869
you can sort and filter by every column

00:38:01,150 --> 00:38:08,349
in the in the pool so in that case and

00:38:04,869 --> 00:38:10,810
you can do that multi-dimensional so for

00:38:08,349 --> 00:38:14,920
example in that case it doesn't really

00:38:10,810 --> 00:38:16,960
make sense because the pool size is it's

00:38:14,920 --> 00:38:19,119
the same everywhere but if you have

00:38:16,960 --> 00:38:23,380
different pools different volumes you

00:38:19,119 --> 00:38:29,050
could formulate a statement like show me

00:38:23,380 --> 00:38:34,960
the notes and show me the IP and group

00:38:29,050 --> 00:38:39,130
by the name and and the second okay name

00:38:34,960 --> 00:38:44,140
is not that not that cool by pool size

00:38:39,130 --> 00:38:45,970
and by state for example so in that case

00:38:44,140 --> 00:38:50,020
that the output doesn't really look

00:38:45,970 --> 00:38:53,260
different but it works and it's I think

00:38:50,020 --> 00:38:55,450
from a from a user admin point of view

00:38:53,260 --> 00:38:59,440
that's really nice because you can

00:38:55,450 --> 00:39:01,839
filter for every column and in that case

00:38:59,440 --> 00:39:04,750
you would see for example what are the

00:39:01,839 --> 00:39:06,609
pools with the with the biggest size and

00:39:04,750 --> 00:39:10,890
where for example they state is

00:39:06,609 --> 00:39:17,349
unhealthy so where I have to take action

00:39:10,890 --> 00:39:21,040
okay back to the presentation yeah it's

00:39:17,349 --> 00:39:25,359
out there the code from the demo is our

00:39:21,040 --> 00:39:28,359
current current internal kit head but I

00:39:25,359 --> 00:39:32,559
think there will be a next release of

00:39:28,359 --> 00:39:35,859
the apt manage and the apt 9 which we

00:39:32,559 --> 00:39:39,489
be release candidate sorry probably this

00:39:35,859 --> 00:39:45,309
week I guess so it's out there try to

00:39:39,489 --> 00:39:50,339
break it report parks and if you want to

00:39:45,309 --> 00:39:52,959
get access to our debian and RPM rapist

00:39:50,339 --> 00:39:58,019
repositories please write an email to

00:39:52,959 --> 00:40:02,619
office at limpet com or talk to Peter

00:39:58,019 --> 00:40:04,930
okay so thanks for that attention and I

00:40:02,619 --> 00:40:09,369
will be around for the whole conference

00:40:04,930 --> 00:40:23,259
so you can ask me any questions all the

00:40:09,369 --> 00:40:41,999
time right now okay thank you so thank

00:40:23,259 --> 00:40:41,999
you very much questions anyone okay

00:40:54,859 --> 00:41:01,650
now it can you please repeat the

00:40:58,140 --> 00:41:06,299
question oh yeah a question was about if

00:41:01,650 --> 00:41:09,029
you have multiple nodes how how is that

00:41:06,299 --> 00:41:11,519
the network topology can you build a

00:41:09,029 --> 00:41:17,400
mesh between the nodes so that was the

00:41:11,519 --> 00:41:20,960
question and yeah it's even if you look

00:41:17,400 --> 00:41:26,130
into the main page of the New do p g9

00:41:20,960 --> 00:41:28,490
it's the nodes are interconnected the a

00:41:26,130 --> 00:41:32,220
point-to-point connected but they are

00:41:28,490 --> 00:41:35,460
connected into a mesh if you want to do

00:41:32,220 --> 00:41:38,250
that so you have one node or three nodes

00:41:35,460 --> 00:41:42,119
and every node has a connection to the

00:41:38,250 --> 00:41:48,359
other node so that's that's one way to

00:41:42,119 --> 00:41:51,509
do that and you're basically relatively

00:41:48,359 --> 00:41:57,440
free when it comes to do pt9 and the

00:41:51,509 --> 00:42:00,450
topology so what I did some days ago is

00:41:57,440 --> 00:42:04,170
if you for example you have a middle

00:42:00,450 --> 00:42:06,960
node it is in a mesh with a left node

00:42:04,170 --> 00:42:10,470
and the right note and the left node is

00:42:06,960 --> 00:42:12,569
connected with the middle node and the

00:42:10,470 --> 00:42:14,160
right note is also only connected with

00:42:12,569 --> 00:42:17,849
the middle node but they are not

00:42:14,160 --> 00:42:21,299
connected between each other so if

00:42:17,849 --> 00:42:25,619
you're right data to the left node gets

00:42:21,299 --> 00:42:30,990
promoted to primary and the data finally

00:42:25,619 --> 00:42:33,180
arrives at node Z so you don't always

00:42:30,990 --> 00:42:38,720
need to have all the connections the

00:42:33,180 --> 00:42:38,720
epidemic manages these cases quite well

00:42:56,700 --> 00:43:04,600
in that case there is no no change

00:43:00,850 --> 00:43:06,790
compared to the to the 8th series and of

00:43:04,600 --> 00:43:10,060
course if you connect them if you

00:43:06,790 --> 00:43:13,240
connect many nodes in a mesh network of

00:43:10,060 --> 00:43:16,810
course the number of nodes the number of

00:43:13,240 --> 00:43:20,200
nodes of connections increases very fast

00:43:16,810 --> 00:43:27,510
so yeah that's that's how it that's how

00:43:20,200 --> 00:43:27,510
it is here ok

00:43:43,340 --> 00:44:06,930
that's possible yeah I think right now

00:44:02,340 --> 00:44:09,900
no repeat the question okay sorry the

00:44:06,930 --> 00:44:14,880
question was we thought that you can

00:44:09,900 --> 00:44:16,950
create with the dopt manage client and

00:44:14,880 --> 00:44:19,380
NT meant that it also creates the

00:44:16,950 --> 00:44:22,740
logical volumes and the question was is

00:44:19,380 --> 00:44:25,470
it possible to pass some I don't know

00:44:22,740 --> 00:44:29,250
maybe flags on the comment line to make

00:44:25,470 --> 00:44:35,490
use of some additional features of them

00:44:29,250 --> 00:44:37,800
of their lvm tools I'm I'm not the main

00:44:35,490 --> 00:44:42,470
developer of deputy manager so I started

00:44:37,800 --> 00:44:46,500
to work on it since one and a half month

00:44:42,470 --> 00:44:49,950
so but as far as i know for now that's

00:44:46,500 --> 00:44:55,860
not possible but it's it's a good idea

00:44:49,950 --> 00:44:58,710
so maybe why not if you have any

00:44:55,860 --> 00:45:03,350
specific wishes write me an email and

00:44:58,710 --> 00:45:03,350
guess we can implement that by why not

00:45:12,599 --> 00:45:30,130
that depends on on the level you

00:45:16,720 --> 00:45:33,970
interfere yeah yeah yeah yeah yeah of

00:45:30,130 --> 00:45:37,260
course it's these are all topics that

00:45:33,970 --> 00:45:41,619
are on the agenda and then to do list

00:45:37,260 --> 00:45:45,040
but we are still in the in the

00:45:41,619 --> 00:45:47,260
development process and these are some

00:45:45,040 --> 00:45:49,990
really nice features we would like to

00:45:47,260 --> 00:45:55,990
see in the future but for now we have to

00:45:49,990 --> 00:45:59,770
to get dpd itself rocks table so to say

00:45:55,990 --> 00:46:02,800
these are all topics be aware of and we

00:45:59,770 --> 00:46:12,930
are thinking about them but the end a

00:46:02,800 --> 00:46:12,930
to-do list there's one more question

00:46:21,180 --> 00:46:24,180
yep

00:46:44,800 --> 00:46:54,859
no that's nothing the tool is right the

00:46:49,130 --> 00:46:58,609
question is the question was if you if

00:46:54,859 --> 00:47:01,670
you assign a resource or you deploy a

00:46:58,609 --> 00:47:05,210
resource to two nodes what happens if

00:47:01,670 --> 00:47:09,970
one node fails does it get automatically

00:47:05,210 --> 00:47:14,000
rebalanced or something like that and

00:47:09,970 --> 00:47:18,380
the answer is currently it doesn't do

00:47:14,000 --> 00:47:20,810
that so let's first talk about the

00:47:18,380 --> 00:47:23,869
deployment because that gets also

00:47:20,810 --> 00:47:26,359
something interesting so how does DVD

00:47:23,869 --> 00:47:30,320
manage actually decide where to put

00:47:26,359 --> 00:47:34,250
resources and from the architectural

00:47:30,320 --> 00:47:38,660
point of view this is realized by

00:47:34,250 --> 00:47:41,300
plugins so the default plug-in deploys

00:47:38,660 --> 00:47:43,760
the resource on the nodes that have the

00:47:41,300 --> 00:47:46,640
most free space but you are free to

00:47:43,760 --> 00:47:49,040
write write your own plugins and I guess

00:47:46,640 --> 00:47:54,080
we will write some other plugins in the

00:47:49,040 --> 00:47:56,869
future and to aggression what happens if

00:47:54,080 --> 00:48:02,420
if if a node fails or something like

00:47:56,869 --> 00:48:05,750
that I'm you can then of course use

00:48:02,420 --> 00:48:08,300
deputy manage the tool to to remove

00:48:05,750 --> 00:48:11,060
probably even the null from your cluster

00:48:08,300 --> 00:48:14,570
and then manually assign it to some

00:48:11,060 --> 00:48:17,510
other other resource but dare you you

00:48:14,570 --> 00:48:21,080
are ready on the level of cluster

00:48:17,510 --> 00:48:23,810
management that's something I guess you

00:48:21,080 --> 00:48:27,109
really want to solve within your

00:48:23,810 --> 00:48:30,460
clustering solution but not within GOP

00:48:27,109 --> 00:48:30,460
demon itself

00:48:39,739 --> 00:48:53,670
um caso rafita christina is pacemaker

00:48:47,239 --> 00:48:58,910
already ready for handling the apt 9 why

00:48:53,670 --> 00:49:03,289
not nowadays it's a shouldn't be any any

00:48:58,910 --> 00:49:06,289
specific special case for GOP t9

00:49:03,289 --> 00:49:06,289
resource

00:49:15,970 --> 00:49:31,060
boom I'm actually not not sure about the

00:49:27,040 --> 00:49:37,960
the pacemaker make a stuff I i will have

00:49:31,060 --> 00:49:40,290
to look that up there's one more

00:49:37,960 --> 00:49:40,290
question

00:49:44,610 --> 00:49:52,570
the question was if there are multiple

00:49:47,940 --> 00:50:02,830
active active setups supported so you

00:49:52,570 --> 00:50:05,370
can do that here okay then thank you all

00:50:02,830 --> 00:50:05,370

YouTube URL: https://www.youtube.com/watch?v=O-xqwUAjwSc


