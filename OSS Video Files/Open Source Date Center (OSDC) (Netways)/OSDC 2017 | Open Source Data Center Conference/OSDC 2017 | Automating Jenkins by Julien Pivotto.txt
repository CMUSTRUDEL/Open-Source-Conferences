Title: OSDC 2017 | Automating Jenkins by Julien Pivotto
Publication date: 2017-06-03
Playlist: OSDC 2017 | Open Source Data Center Conference
Description: 
	Jenkins is a unique piece of software, lots of people and enterprises use it to deploy and build their software and also their infrastructure. It has tons of plugins, and can do virtually anything. It is important for both devs and ops. This talk will be about how you can automate and test your Jenkins instances. In the past, the tooling around it was not so great, but it has changed. Tools like Jenkins Pipeline and Job DSL plugin has entered the game and are here to stay.
Captions: 
	00:00:11,360 --> 00:00:20,930
first off we have Julianne pivotal with

00:00:15,400 --> 00:00:25,810
automatic Jenkins hello good morning so

00:00:20,930 --> 00:00:25,810
yeah let you make it too late today so

00:00:26,710 --> 00:00:32,300
those are the people we came with the

00:00:28,820 --> 00:00:34,879
first bus right so today we speak about

00:00:32,300 --> 00:00:35,930
Jenkins and automation first I've

00:00:34,879 --> 00:00:39,890
introduced myself

00:00:35,930 --> 00:00:42,769
so I reckon Belgium and basically I'm

00:00:39,890 --> 00:00:45,229
designing for a company we we do a lot

00:00:42,769 --> 00:00:47,780
of business consultancy and in my

00:00:45,229 --> 00:00:51,640
current projects I have met Jenkins a

00:00:47,780 --> 00:00:54,500
lot specifically in the last 6 months

00:00:51,640 --> 00:00:56,869
maybe longer but basically I've been

00:00:54,500 --> 00:01:01,280
using Jenkins for everything in the last

00:00:56,869 --> 00:01:04,220
5 years so I'm a big Jenkins fan

00:01:01,280 --> 00:01:06,860
actually and I usually my focus is our

00:01:04,220 --> 00:01:10,189
automation monitoring I have ability die

00:01:06,860 --> 00:01:12,890
castings so I refer in which we are in

00:01:10,189 --> 00:01:14,479
multiple countries in Europe and we do

00:01:12,890 --> 00:01:16,220
everything related to open source

00:01:14,479 --> 00:01:19,220
actually solution is something just ask

00:01:16,220 --> 00:01:21,950
us so Jenkins what's important about

00:01:19,220 --> 00:01:24,200
Jenkins in two lines Jenkins is the

00:01:21,950 --> 00:01:26,420
pencils product and it's playable so

00:01:24,200 --> 00:01:28,400
basically means that you can do anything

00:01:26,420 --> 00:01:31,880
you need with Jenkins and thing you want

00:01:28,400 --> 00:01:34,340
you can do I have seen people doing

00:01:31,880 --> 00:01:35,990
basically anything with Jenkins I don't

00:01:34,340 --> 00:01:38,840
recommend you to do like crazy stuff

00:01:35,990 --> 00:01:41,330
with it just use it for continuous

00:01:38,840 --> 00:01:44,750
integration and deployment but you can

00:01:41,330 --> 00:01:48,260
do everything you want Jenkins is a

00:01:44,750 --> 00:01:50,900
project written in Java it started in

00:01:48,260 --> 00:01:53,510
2005 as Epson and then the community

00:01:50,900 --> 00:01:57,050
 because of conflict with Oracle

00:01:53,510 --> 00:01:58,640
and now it's a brand new project core

00:01:57,050 --> 00:02:02,090
Jenkins which is there for like six

00:01:58,640 --> 00:02:04,909
years and at Sony's you know almost a

00:02:02,090 --> 00:02:09,830
directive like one commits per year but

00:02:04,909 --> 00:02:13,730
at all so Jenkins is also a project

00:02:09,830 --> 00:02:16,280
which is moving very very fast so they

00:02:13,730 --> 00:02:17,930
they have no a lot of competition like

00:02:16,280 --> 00:02:20,240
five years ago it was not the case in

00:02:17,930 --> 00:02:23,060
and the open source where the negative

00:02:20,240 --> 00:02:25,190
things no us draw PCI which is used by a

00:02:23,060 --> 00:02:27,380
lot of projects extrema

00:02:25,190 --> 00:02:29,990
basically a lot of projects on github

00:02:27,380 --> 00:02:30,560
you have good lab which provided

00:02:29,990 --> 00:02:35,120
Sloane's

00:02:30,560 --> 00:02:37,040
its own CI you have a lot of CI projects

00:02:35,120 --> 00:02:40,220
nowadays so basically they are moving

00:02:37,040 --> 00:02:43,850
fast so thanks to the competition

00:02:40,220 --> 00:02:45,800
basically and also Jenkins is also

00:02:43,850 --> 00:02:49,100
evolving where basically before there

00:02:45,800 --> 00:02:53,240
was mostly Java working they had like

00:02:49,100 --> 00:02:56,510
native maven integration that can obtain

00:02:53,240 --> 00:02:59,120
like you could see all the jobs or the

00:02:56,510 --> 00:03:01,640
maven jobs and I kind of think now it's

00:02:59,120 --> 00:03:05,930
almost gone in the new next generation

00:03:01,640 --> 00:03:07,850
Jenkins maven you just want to in the in

00:03:05,930 --> 00:03:10,940
the ocean of tools that Jenkins support

00:03:07,850 --> 00:03:12,940
so there is no that's much given

00:03:10,940 --> 00:03:15,230
specific things in Jenkins really

00:03:12,940 --> 00:03:16,760
everyone is using it for a lot of

00:03:15,230 --> 00:03:20,180
different purposes or other different

00:03:16,760 --> 00:03:22,730
code bases so yet what can you do with

00:03:20,180 --> 00:03:25,400
Jenkins you can test build and deploy

00:03:22,730 --> 00:03:27,950
your software so if you develop software

00:03:25,400 --> 00:03:29,660
like packages I can have things science

00:03:27,950 --> 00:03:32,600
can help you with that if you have a

00:03:29,660 --> 00:03:34,610
service to maintain Jenkins can help you

00:03:32,600 --> 00:03:36,800
to maintain that serviced ability to

00:03:34,610 --> 00:03:38,750
deploy it and the same with no

00:03:36,800 --> 00:03:41,510
infrastructure as code so basically if

00:03:38,750 --> 00:03:43,880
you have a bad pipeline if you have that

00:03:41,510 --> 00:03:46,070
form if you have unstable you can just

00:03:43,880 --> 00:03:49,490
do that also with Jenkins if you want so

00:03:46,070 --> 00:03:51,410
basically Jenkins is no everywhere

00:03:49,490 --> 00:03:53,630
everywhere everywhere you have code you

00:03:51,410 --> 00:03:55,760
can have a champion to check your code

00:03:53,630 --> 00:03:59,150
to deploy your code and everything the

00:03:55,760 --> 00:04:01,970
facility to that so it means that in

00:03:59,150 --> 00:04:04,400
nowadays environments Jenkins is very

00:04:01,970 --> 00:04:06,560
mission critical so you need to know

00:04:04,400 --> 00:04:08,090
what your Jenkins is doing you need to

00:04:06,560 --> 00:04:10,970
have your Jenkins up because when

00:04:08,090 --> 00:04:13,250
Jenkins is done people basically get no

00:04:10,970 --> 00:04:15,320
feedback on one what they are cutting or

00:04:13,250 --> 00:04:18,320
they cannot deploy it to production they

00:04:15,320 --> 00:04:20,150
cannot so basically you need to control

00:04:18,320 --> 00:04:22,520
your Jenkins you need to know what's in

00:04:20,150 --> 00:04:24,650
there and that kind of things when you

00:04:22,520 --> 00:04:26,570
don't have Jenkins then you have how

00:04:24,650 --> 00:04:27,680
where who when what's happening you

00:04:26,570 --> 00:04:29,960
don't have any view of your

00:04:27,680 --> 00:04:31,580
infrastructure you still have the

00:04:29,960 --> 00:04:34,400
monitoring of course but there you can

00:04:31,580 --> 00:04:36,650
when you cannot deploy something then

00:04:34,400 --> 00:04:38,009
you are basically blocking everyone if

00:04:36,650 --> 00:04:40,619
you cannot update

00:04:38,009 --> 00:04:43,289
at open SSL version of your production

00:04:40,619 --> 00:04:45,449
cluster yeah you are in not in a good

00:04:43,289 --> 00:04:47,129
state if you can deploy your latest go

00:04:45,449 --> 00:04:51,210
through the boxes that your customer on

00:04:47,129 --> 00:04:53,369
GRU it's not great anymore so Jenkins is

00:04:51,210 --> 00:04:56,369
very important it's the place with where

00:04:53,369 --> 00:04:58,349
everyone will look it's a single point

00:04:56,369 --> 00:04:59,939
when you can just let say oh it works on

00:04:58,349 --> 00:05:02,189
my machine though it should work on

00:04:59,939 --> 00:05:06,240
Jenkins and Jenkins will tell you if

00:05:02,189 --> 00:05:09,180
actually your breakfast react or not so

00:05:06,240 --> 00:05:13,169
we are there to speak about automating

00:05:09,180 --> 00:05:15,509
Jenkins why do you need to automate your

00:05:13,169 --> 00:05:18,270
Jenkins because yeah lots of people just

00:05:15,509 --> 00:05:20,580
don't do it well what's important is

00:05:18,270 --> 00:05:22,259
that everything that you do in Jenkins

00:05:20,580 --> 00:05:24,180
should be transparent so it means that

00:05:22,259 --> 00:05:26,610
you need to be able to edit what's going

00:05:24,180 --> 00:05:28,710
on you need to know what's going on if

00:05:26,610 --> 00:05:30,839
you have a Jenkins and automation or

00:05:28,710 --> 00:05:32,729
nothing like that then you need to go to

00:05:30,839 --> 00:05:35,729
the settings each time you want to do oh

00:05:32,729 --> 00:05:37,680
is that thing working then you need to

00:05:35,729 --> 00:05:40,589
make the big processing provable so if

00:05:37,680 --> 00:05:43,189
if you change something in the UI or do

00:05:40,589 --> 00:05:46,800
you revert that how do you change that

00:05:43,189 --> 00:05:49,709
how do you make something that your

00:05:46,800 --> 00:05:51,930
peers can cause review like I want to

00:05:49,709 --> 00:05:52,559
make that upgrade on Jenkins okay yeah

00:05:51,930 --> 00:05:55,740
do it

00:05:52,559 --> 00:05:57,719
no don't do it just show me what you

00:05:55,740 --> 00:06:01,080
will do then I will tell you my ideas

00:05:57,719 --> 00:06:03,779
and we can merge that together then you

00:06:01,080 --> 00:06:06,389
want to have a possible build it means

00:06:03,779 --> 00:06:07,979
that if your Jenkins is dying and you

00:06:06,389 --> 00:06:10,199
need to be able to have another Jenkins

00:06:07,979 --> 00:06:11,550
rather a tool like know that what you

00:06:10,199 --> 00:06:14,009
will do in the new Jenkins will be

00:06:11,550 --> 00:06:15,300
exactly the same as what you doing what

00:06:14,009 --> 00:06:18,149
you did in the old one and that you

00:06:15,300 --> 00:06:19,830
build is the same and that complete

00:06:18,149 --> 00:06:21,539
process should be like it should because

00:06:19,830 --> 00:06:23,189
like you know that each time your

00:06:21,539 --> 00:06:25,499
business thing is the same thing that's

00:06:23,189 --> 00:06:26,879
built and that no one will like change

00:06:25,499 --> 00:06:29,099
something in the meter or no one will

00:06:26,879 --> 00:06:32,039
change something wise to be answering

00:06:29,099 --> 00:06:34,439
that kind of things and also Jenkins you

00:06:32,039 --> 00:06:36,809
need to be able to upgrade it because

00:06:34,439 --> 00:06:39,779
traditionally Jenkins has access to a

00:06:36,809 --> 00:06:42,749
lot of environments it might have access

00:06:39,779 --> 00:06:45,569
to your quota to your production set of

00:06:42,749 --> 00:06:48,110
Zoe a security audit there are so some

00:06:45,569 --> 00:06:50,240
bugs like any other

00:06:48,110 --> 00:06:53,030
things and also you have plugins update

00:06:50,240 --> 00:06:55,640
so you need to be able to update that in

00:06:53,030 --> 00:06:58,880
a lot of places people are still blocked

00:06:55,640 --> 00:07:01,130
far behind we still using Jenkins one

00:06:58,880 --> 00:07:07,040
dot X because I can do it because I have

00:07:01,130 --> 00:07:09,260
crappy plugins a lot of people do but

00:07:07,040 --> 00:07:11,240
yeah it's not easy

00:07:09,260 --> 00:07:13,280
first of all building software is not

00:07:11,240 --> 00:07:15,680
easy because yeah it could be this they

00:07:13,280 --> 00:07:18,500
are like 10 years old let everyone get

00:07:15,680 --> 00:07:21,110
to know with a new fancy go project so

00:07:18,500 --> 00:07:24,710
yeah the way that software is built

00:07:21,110 --> 00:07:26,330
today if some is always a complex

00:07:24,710 --> 00:07:29,570
process involving a lot of different

00:07:26,330 --> 00:07:31,820
technologies then for a long time

00:07:29,570 --> 00:07:33,590
Jenkins has been yeah just UI driven

00:07:31,820 --> 00:07:37,610
just people go click click click click

00:07:33,590 --> 00:07:39,190
again and it has been just enduring the

00:07:37,610 --> 00:07:41,720
way of doing things

00:07:39,190 --> 00:07:43,610
the third point is that yeah you have a

00:07:41,720 --> 00:07:45,620
lot of people they just don't load

00:07:43,610 --> 00:07:46,250
Jenkins for the website and then no

00:07:45,620 --> 00:07:48,980
on a server

00:07:46,250 --> 00:07:52,760
I have seen that a lot they do a lot

00:07:48,980 --> 00:07:55,430
just get the waffle and yeah I have depo

00:07:52,760 --> 00:07:57,760
Jenkins so I even works on my laptop so

00:07:55,430 --> 00:08:00,410
now I can do whatever I want right and

00:07:57,760 --> 00:08:03,680
the last part is that there are so many

00:08:00,410 --> 00:08:08,300
plugins in Jenkins and you need them you

00:08:03,680 --> 00:08:10,970
really need them because Jenkins is

00:08:08,300 --> 00:08:14,000
actually reducing the core of Jenkins to

00:08:10,970 --> 00:08:15,470
put everything in plugins so you need

00:08:14,000 --> 00:08:18,140
those plugins and you need to keep them

00:08:15,470 --> 00:08:20,690
up-to-date and at a certain moment some

00:08:18,140 --> 00:08:22,850
people will say ok I have my very own

00:08:20,690 --> 00:08:25,580
plug-in phone pole for my rooms stuff I

00:08:22,850 --> 00:08:27,320
need oh I am blocked too because I need

00:08:25,580 --> 00:08:30,620
to get all my plugins and that is like

00:08:27,320 --> 00:08:32,600
20 of days I cannot just update Jenkins

00:08:30,620 --> 00:08:35,780
right now because I would lock every one

00:08:32,600 --> 00:08:39,830
so it's not easy to automate Jenkins and

00:08:35,780 --> 00:08:43,040
the last part which is also part of why

00:08:39,830 --> 00:08:45,440
it's not easy to automate Jenkins is

00:08:43,040 --> 00:08:48,440
because you have xml files everywhere

00:08:45,440 --> 00:08:51,830
all the Jenkins configuration is exam l

00:08:48,440 --> 00:08:53,720
so that makes it not easy to take just

00:08:51,830 --> 00:08:55,790
your puppet and say ok here is my you

00:08:53,720 --> 00:08:58,550
Jenkins configuration file you cannot do

00:08:55,790 --> 00:09:01,430
that you cannot do to your purpose ok

00:08:58,550 --> 00:09:02,000
here is my new puppet job or updated to

00:09:01,430 --> 00:09:04,069
version

00:09:02,000 --> 00:09:06,259
they have some workarounds when you can

00:09:04,069 --> 00:09:10,339
actually do that but it's never easy to

00:09:06,259 --> 00:09:13,879
do that actually so I I did that in the

00:09:10,339 --> 00:09:15,649
past year I don't recommend that but

00:09:13,879 --> 00:09:18,199
when you we speak about automating

00:09:15,649 --> 00:09:22,579
Jenkins what do we mean what can you

00:09:18,199 --> 00:09:24,350
automate in Jenkins first of all the

00:09:22,579 --> 00:09:27,889
operating system like the platform

00:09:24,350 --> 00:09:31,430
newbie one Jenkins where that graph are

00:09:27,889 --> 00:09:33,379
we one the Jenkins service itself like

00:09:31,430 --> 00:09:35,509
how do you start a service that will

00:09:33,379 --> 00:09:38,509
stop it with Java options you pass to

00:09:35,509 --> 00:09:41,000
the Jenkins then you can also automate

00:09:38,509 --> 00:09:43,189
the plugins like okay which break in do

00:09:41,000 --> 00:09:45,230
I install how to install them which

00:09:43,189 --> 00:09:47,629
version or do I configure those plugins

00:09:45,230 --> 00:09:50,000
all of that is also important to

00:09:47,629 --> 00:09:52,910
automate then the global configuration

00:09:50,000 --> 00:09:55,189
like okay my junk instance email to

00:09:52,910 --> 00:10:00,220
which SMTP server yeah you need to

00:09:55,189 --> 00:10:03,500
tomato - last year we had a special

00:10:00,220 --> 00:10:05,750
Chang special Jenkins where we build the

00:10:03,500 --> 00:10:09,259
rotor frequency of things at customer

00:10:05,750 --> 00:10:11,300
and basically we had a smtp server which

00:10:09,259 --> 00:10:13,790
was configured to only send emails to

00:10:11,300 --> 00:10:16,819
the company and just drop all the other

00:10:13,790 --> 00:10:18,649
males and one guy went one day that the

00:10:16,819 --> 00:10:20,329
same TV server did not work on something

00:10:18,649 --> 00:10:23,420
like that so someone change that in the

00:10:20,329 --> 00:10:26,509
configuration of Jenkins and just a lot

00:10:23,420 --> 00:10:29,750
of puppet contributor of just got a lot

00:10:26,509 --> 00:10:31,670
of emails like you work the build that

00:10:29,750 --> 00:10:33,589
attend is someone will change the same

00:10:31,670 --> 00:10:36,170
TV server two weeks ago and no one

00:10:33,589 --> 00:10:38,360
noticed and so yeah that's why you want

00:10:36,170 --> 00:10:41,930
to keep that under control and when

00:10:38,360 --> 00:10:44,300
something changes you know that so so if

00:10:41,930 --> 00:10:47,360
you get the mail by the way but but that

00:10:44,300 --> 00:10:51,129
thing is important and then all the

00:10:47,360 --> 00:10:53,930
security part can also be automated like

00:10:51,129 --> 00:10:55,309
will get access to Jenkins which call

00:10:53,930 --> 00:10:57,769
that kind of things can also be

00:10:55,309 --> 00:11:00,170
automated so that everyone gets a view

00:10:57,769 --> 00:11:03,300
on who can do what

00:11:00,170 --> 00:11:06,360
then the see in the 15 you can automate

00:11:03,300 --> 00:11:08,790
is the creation of the jobs the view the

00:11:06,360 --> 00:11:10,560
folders or that kind of things you

00:11:08,790 --> 00:11:15,060
should not go to the UI and create the

00:11:10,560 --> 00:11:17,100
job yeah I I never like that

00:11:15,060 --> 00:11:19,230
I definitely yes for a long time but now

00:11:17,100 --> 00:11:20,880
we have very alternatives to do that in

00:11:19,230 --> 00:11:22,980
a way that you can view before that

00:11:20,880 --> 00:11:25,530
which you will be created or you can

00:11:22,980 --> 00:11:27,060
change the view in a safe way and that

00:11:25,530 --> 00:11:29,820
kind of things and also if you want to

00:11:27,060 --> 00:11:32,730
like scale the number of jobs schedule

00:11:29,820 --> 00:11:35,040
more views then yeah without automation

00:11:32,730 --> 00:11:36,960
it's a pain because then okay I have a

00:11:35,040 --> 00:11:39,170
new view with a plugin that will provide

00:11:36,960 --> 00:11:44,280
me like something I can put on my screen

00:11:39,170 --> 00:11:47,430
but here I have like 15 orders that will

00:11:44,280 --> 00:11:49,110
take time please excuse me so automation

00:11:47,430 --> 00:11:53,100
does allow you to scale that kind of

00:11:49,110 --> 00:11:54,990
problems then you have the jobs

00:11:53,100 --> 00:11:56,840
definitions like how do you build

00:11:54,990 --> 00:12:00,960
actually that thing how do you build

00:11:56,840 --> 00:12:02,880
that software do you deploy it all that

00:12:00,960 --> 00:12:06,600
things can also be automated so that if

00:12:02,880 --> 00:12:08,400
you want to have like one folder per

00:12:06,600 --> 00:12:11,210
branch one filled up or anything you

00:12:08,400 --> 00:12:13,860
want you can do that easily with

00:12:11,210 --> 00:12:16,140
automation you can just say ok no for

00:12:13,860 --> 00:12:17,550
those 10 jobs they we have the same

00:12:16,140 --> 00:12:19,830
configuration because they do the same

00:12:17,550 --> 00:12:22,200
day like all puppet modules so let's

00:12:19,830 --> 00:12:24,240
just do that in an automated way so we

00:12:22,200 --> 00:12:26,520
don't need to click ten times on the UI

00:12:24,240 --> 00:12:28,440
create an jobs or content jobs and then

00:12:26,520 --> 00:12:31,110
when you want to update one you need to

00:12:28,440 --> 00:12:33,930
update the ten of them and the last

00:12:31,110 --> 00:12:37,860
thing is the operating system you build

00:12:33,930 --> 00:12:40,500
your software and it means that most of

00:12:37,860 --> 00:12:42,230
the time you won't ever leave junking

00:12:40,500 --> 00:12:45,060
server but you will also have like

00:12:42,230 --> 00:12:47,700
jenkins nodes where you actually like

00:12:45,060 --> 00:12:50,280
say ok i need to build on an android

00:12:47,700 --> 00:12:52,500
that project i need to build on a linux

00:12:50,280 --> 00:12:54,540
i need to build on a centralized 5 sent

00:12:52,500 --> 00:12:56,790
to a 607 that kind of things you can

00:12:54,540 --> 00:12:57,570
also automate so that when you want to

00:12:56,790 --> 00:13:02,100
for example

00:12:57,570 --> 00:13:03,630
update the center as you descend to as

00:13:02,100 --> 00:13:05,520
you are building on to the next Firefox

00:13:03,630 --> 00:13:07,890
version you make sure that this is not

00:13:05,520 --> 00:13:09,839
breaking your bit and you make sure that

00:13:07,890 --> 00:13:10,380
you also do the upgrade because if like

00:13:09,839 --> 00:13:13,560
yeah

00:13:10,380 --> 00:13:14,290
I don't think their folks in my Santa's

00:13:13,560 --> 00:13:17,440
VM

00:13:14,290 --> 00:13:19,779
because then who knows that will break

00:13:17,440 --> 00:13:22,480
my build yes but that will be our users

00:13:19,779 --> 00:13:25,300
too so you want to be confident and to

00:13:22,480 --> 00:13:30,759
be able to upgrade that part of your CI

00:13:25,300 --> 00:13:33,130
setup too so first part omitting the

00:13:30,759 --> 00:13:36,100
operating system it's important to know

00:13:33,130 --> 00:13:40,269
that Jenkins is mission-critical so you

00:13:36,100 --> 00:13:43,300
need to videos so great you need to just

00:13:40,269 --> 00:13:45,850
monitor its monitory service so for

00:13:43,300 --> 00:13:48,670
example disk space CPU usage do I need

00:13:45,850 --> 00:13:50,110
to scale my Jenkins server do I you know

00:13:48,670 --> 00:13:52,000
you need to be aware of this

00:13:50,110 --> 00:13:54,690
I won't go further with that because

00:13:52,000 --> 00:13:58,120
that's just basic automation but just

00:13:54,690 --> 00:14:00,339
don't let Jenkins be just like out that

00:13:58,120 --> 00:14:03,130
VM with that Wi-Fi running and that will

00:14:00,339 --> 00:14:05,709
be fine right because if it crashes I

00:14:03,130 --> 00:14:07,930
will just restart it no you need to get

00:14:05,709 --> 00:14:10,209
metrics about that and oh am I actually

00:14:07,930 --> 00:14:12,579
using my Jenkins server on my enter

00:14:10,209 --> 00:14:16,180
using it to die provision another one I

00:14:12,579 --> 00:14:18,579
don't know so just put Yankees at the

00:14:16,180 --> 00:14:23,110
same level as the production server so

00:14:18,579 --> 00:14:25,569
example automating the service yeah

00:14:23,110 --> 00:14:27,910
take the package obviously and also

00:14:25,569 --> 00:14:31,089
don't take the weekly releases of

00:14:27,910 --> 00:14:32,920
Jenkins unless you as Lisa which is

00:14:31,089 --> 00:14:36,790
either to connect great all the time and

00:14:32,920 --> 00:14:39,010
get bug sometimes but Jenkins provide a

00:14:36,790 --> 00:14:40,510
long-term support version so what they

00:14:39,010 --> 00:14:45,220
call long term instruments

00:14:40,510 --> 00:14:47,260
that's better than one week and into LTS

00:14:45,220 --> 00:14:49,720
version they also do like two or three

00:14:47,260 --> 00:14:51,839
minor releases while you have critical

00:14:49,720 --> 00:14:55,540
bug fixes for example in security fixes

00:14:51,839 --> 00:14:57,250
so when you set up your Jenkins that we

00:14:55,540 --> 00:15:00,220
also think about okay how do I take the

00:14:57,250 --> 00:15:02,230
backups where do I put my Jenkins

00:15:00,220 --> 00:15:04,660
directories or do I create a user and

00:15:02,230 --> 00:15:07,149
thanks to you the Jenkins package is

00:15:04,660 --> 00:15:09,579
provided so if you you ever sent to us

00:15:07,149 --> 00:15:11,259
in front of charges inside the package

00:15:09,579 --> 00:15:13,810
it will do a lot of stuff for you and

00:15:11,259 --> 00:15:16,660
just package is still one of the best

00:15:13,810 --> 00:15:18,579
way to go to deploy software so why why

00:15:16,660 --> 00:15:22,600
wouldn't you use the packages that Jake

00:15:18,579 --> 00:15:25,060
is provides and I think that yeah it's

00:15:22,600 --> 00:15:27,260
two different repositories for the LTS

00:15:25,060 --> 00:15:31,670
and the weekly Luigi so

00:15:27,260 --> 00:15:33,560
LTS kgs of Jenkins also the LTS felides

00:15:31,670 --> 00:15:35,360
provide you like an upgrade part if you

00:15:33,560 --> 00:15:38,660
have something you need to take care of

00:15:35,360 --> 00:15:44,540
vibrating it will be in the change drug

00:15:38,660 --> 00:15:47,510
as well okay to automate the Jenkins

00:15:44,540 --> 00:15:50,300
service it's up to you chef puppet unzip

00:15:47,510 --> 00:15:52,430
anything you want and the last part I

00:15:50,300 --> 00:15:54,650
will talk about that at the end of the

00:15:52,430 --> 00:15:56,840
of the talk as well oh can you automate

00:15:54,650 --> 00:16:01,700
the second service using docker that's

00:15:56,840 --> 00:16:04,880
nice the plugins you need the plugins I

00:16:01,700 --> 00:16:09,230
have never seen Jenkins setup without

00:16:04,880 --> 00:16:10,970
like 20 used plugins and 100 plug-in

00:16:09,230 --> 00:16:13,550
pistol but does another sorry but like

00:16:10,970 --> 00:16:15,980
usually you have like between 20 and 50

00:16:13,550 --> 00:16:18,740
plugins Jericho why you need the

00:16:15,980 --> 00:16:21,140
pipeline then you want posting your own

00:16:18,740 --> 00:16:24,770
cucumber you want a lot of things that

00:16:21,140 --> 00:16:27,380
are just in plugins you want note you

00:16:24,770 --> 00:16:30,020
want you just plugins pregnancy begins

00:16:27,380 --> 00:16:33,890
even the get it is a plug-in even if

00:16:30,020 --> 00:16:35,960
it's basically installed everywhere so

00:16:33,890 --> 00:16:38,630
all of those plugins can be installed

00:16:35,960 --> 00:16:40,310
from the UI they can be solved from the

00:16:38,630 --> 00:16:42,950
command line they can be start from the

00:16:40,310 --> 00:16:45,290
puppet module from the chess receives

00:16:42,950 --> 00:16:47,480
like but kind of things and what we have

00:16:45,290 --> 00:16:49,130
tried to Tomatoes Jenkins plugins and

00:16:47,480 --> 00:16:51,170
what we are still doing is like we are

00:16:49,130 --> 00:16:53,090
packaging them into special packages

00:16:51,170 --> 00:16:55,670
which is a thing that's not provided

00:16:53,090 --> 00:16:59,110
upstream so we have wiki we have all the

00:16:55,670 --> 00:17:02,420
Jenkins plugins I think they are like

00:16:59,110 --> 00:17:06,410
1000 I don't remember exactly but you

00:17:02,420 --> 00:17:08,630
have a lot of plugins and you can like

00:17:06,410 --> 00:17:11,449
know they have a fix almost past so you

00:17:08,630 --> 00:17:14,000
can actually get the file called update

00:17:11,449 --> 00:17:15,890
so jisan did we should contain I think

00:17:14,000 --> 00:17:17,209
you want then we have some scripts to do

00:17:15,890 --> 00:17:20,449
that and to just make

00:17:17,209 --> 00:17:22,550
packages out of that you can also

00:17:20,449 --> 00:17:26,329
obviously me all the Jenkins plugins

00:17:22,550 --> 00:17:30,170
repository so you can just like point

00:17:26,329 --> 00:17:31,520
Jenkins so your own updates but then the

00:17:30,170 --> 00:17:35,230
problem that you will have is that you

00:17:31,520 --> 00:17:37,520
don't need to cash those plugins because

00:17:35,230 --> 00:17:39,320
by default Jenkins you just take the

00:17:37,520 --> 00:17:41,440
later so if you catch that one you will

00:17:39,320 --> 00:17:44,840
get problems to do that

00:17:41,440 --> 00:17:47,690
you also have escaped instigated SH in

00:17:44,840 --> 00:17:50,120
the dacha in the docker image that Jack

00:17:47,690 --> 00:17:52,460
is provided to the same by choosing just

00:17:50,120 --> 00:17:54,260
search ships and they will like download

00:17:52,460 --> 00:17:58,700
the the file download the dependencies

00:17:54,260 --> 00:18:01,990
and everything that's needed so as for

00:17:58,700 --> 00:18:04,610
all the plugins the by configuration so

00:18:01,990 --> 00:18:06,770
the global configuration rankings is

00:18:04,610 --> 00:18:08,660
that giant XML file where everything is

00:18:06,770 --> 00:18:13,010
configured so you can just change the

00:18:08,660 --> 00:18:15,290
XML file yeah don't do that so two three

00:18:13,010 --> 00:18:17,300
years ago I did that I did change that

00:18:15,290 --> 00:18:20,960
configuration file using a tool called

00:18:17,300 --> 00:18:24,470
OKs and what he is doing is basically

00:18:20,960 --> 00:18:27,380
the you telling ok that XML partially

00:18:24,470 --> 00:18:31,160
that value and it becomes a really

00:18:27,380 --> 00:18:34,370
complex and it's it doesn't worth it to

00:18:31,160 --> 00:18:36,080
change those exam L files you can do

00:18:34,370 --> 00:18:38,330
that but then your senators are Jenkins

00:18:36,080 --> 00:18:41,140
his time so it's really annoying to do

00:18:38,330 --> 00:18:44,510
that so don't change the exam advice

00:18:41,140 --> 00:18:48,620
yourself it's not you know it doesn't

00:18:44,510 --> 00:18:51,680
worth it but but but but there is a

00:18:48,620 --> 00:18:53,690
plug-in system config DSL plug-in which

00:18:51,680 --> 00:18:58,340
allows you to instead of defining that

00:18:53,690 --> 00:19:02,090
giant data and configuration file and

00:18:58,340 --> 00:19:04,700
example you can just like write a small

00:19:02,090 --> 00:19:07,670
DSL script that will just configure your

00:19:04,700 --> 00:19:10,610
Jenkins the problem with that plug-in is

00:19:07,670 --> 00:19:15,290
that it does not exist yet so there is a

00:19:10,610 --> 00:19:18,400
git repository it's empty there is ideas

00:19:15,290 --> 00:19:21,320
Tyrel tickets all of that is there but

00:19:18,400 --> 00:19:23,690
no one is working on that next issue

00:19:21,320 --> 00:19:26,660
have some time some Java skills just do

00:19:23,690 --> 00:19:28,460
this this will be awesome so what do we

00:19:26,660 --> 00:19:31,010
do then given that we don't want to

00:19:28,460 --> 00:19:33,730
change XML files and that we don't want

00:19:31,010 --> 00:19:39,140
to that that plug-in does not exist yet

00:19:33,730 --> 00:19:42,490
yeah groovy so later that a couple of

00:19:39,140 --> 00:19:45,230
time in G storage curve is like a

00:19:42,490 --> 00:19:47,300
language which is like a scripting

00:19:45,230 --> 00:19:51,230
language language that runs on top of

00:19:47,300 --> 00:19:52,820
the JVM and you can call the classes

00:19:51,230 --> 00:19:53,759
that are in the class 5 so basically you

00:19:52,820 --> 00:19:56,909
can

00:19:53,759 --> 00:20:01,019
integrate with Jenkins api's and do API

00:19:56,909 --> 00:20:04,589
calls using that specific language and

00:20:01,019 --> 00:20:07,409
that's what actually chests purpose use

00:20:04,589 --> 00:20:10,679
to automate Jenkins so when you say to

00:20:07,409 --> 00:20:12,389
pervert okay update that job or put my

00:20:10,679 --> 00:20:15,239
head up credential so then it'll use

00:20:12,389 --> 00:20:19,679
LDAP times I'll use that query language

00:20:15,239 --> 00:20:22,859
to in tight with Jenkins the way you can

00:20:19,679 --> 00:20:25,919
do it very easily it's like to use the

00:20:22,859 --> 00:20:27,989
checking script console so if you go to

00:20:25,919 --> 00:20:30,029
your objective sense you append /script

00:20:27,989 --> 00:20:33,329
you have the Skip console and you can

00:20:30,029 --> 00:20:35,159
basically run and it's kept you ones

00:20:33,329 --> 00:20:36,749
like if you don't have an automated

00:20:35,159 --> 00:20:38,969
Jenkins but you still want to like

00:20:36,749 --> 00:20:41,549
disable all the jobs you can do that in

00:20:38,969 --> 00:20:42,690
groovy just in the stiffness so you

00:20:41,549 --> 00:20:46,529
don't need anything else

00:20:42,690 --> 00:20:48,690
just go to your Jenkins for each job for

00:20:46,529 --> 00:20:51,179
each job you're disabled and it will

00:20:48,690 --> 00:20:53,399
just do it very easily so still that's

00:20:51,179 --> 00:20:56,279
used by a lot of people which are just

00:20:53,399 --> 00:20:58,320
like yeah okay oh do I update all the

00:20:56,279 --> 00:21:01,349
job at once I don't have any other way I

00:20:58,320 --> 00:21:03,629
just copy and paste this in the console

00:21:01,349 --> 00:21:08,639
and that will do it you find that a lot

00:21:03,629 --> 00:21:12,329
so I will show you some example of case

00:21:08,639 --> 00:21:13,979
that you can run in that console you

00:21:12,329 --> 00:21:17,429
will see the couple of things that you

00:21:13,979 --> 00:21:20,549
can do first of all like I don't want

00:21:17,429 --> 00:21:23,539
any executors on my master okay I just

00:21:20,549 --> 00:21:25,979
check insistence at exhibitors oh and

00:21:23,539 --> 00:21:28,679
then you don't you cannot take the

00:21:25,979 --> 00:21:31,259
kitten if you can your master I want

00:21:28,679 --> 00:21:34,229
HTML descriptions instead of Pentek

00:21:31,259 --> 00:21:37,459
restrictions okay you you can do that

00:21:34,229 --> 00:21:40,950
also like set matthew formatter and then

00:21:37,459 --> 00:21:42,359
anything you want the system message

00:21:40,950 --> 00:21:44,519
like the message that you have on the

00:21:42,359 --> 00:21:48,539
top of your Jenkins yeah set system

00:21:44,519 --> 00:21:50,249
message once again it's easy and I have

00:21:48,539 --> 00:21:52,259
HTML because I've just enable the

00:21:50,249 --> 00:21:56,909
plug-in just before so all of that you

00:21:52,259 --> 00:21:58,499
can do that at the runtime of Jenkins if

00:21:56,909 --> 00:22:01,979
you want like to have your logo on

00:21:58,499 --> 00:22:04,169
Jenkins because you are pretty hype you

00:22:01,979 --> 00:22:07,530
can also do that like I take the simple

00:22:04,169 --> 00:22:10,710
Templar game I will configure it like

00:22:07,530 --> 00:22:13,020
it's my custom CSS and then save the

00:22:10,710 --> 00:22:15,330
configuration and that will just be

00:22:13,020 --> 00:22:18,360
great in this case I'm also using user

00:22:15,330 --> 00:22:20,460
content it's interesting because users

00:22:18,360 --> 00:22:23,250
content is a directory in the Jenkins

00:22:20,460 --> 00:22:27,030
home and everything you will put in that

00:22:23,250 --> 00:22:29,730
directory will be self settled over HTTP

00:22:27,030 --> 00:22:31,590
by Jenkins so in this case I have my CSS

00:22:29,730 --> 00:22:34,230
file and the other user content of

00:22:31,590 --> 00:22:37,230
Jenkins and I can just access it via the

00:22:34,230 --> 00:22:39,530
URL you need the read permission on

00:22:37,230 --> 00:22:42,450
Jenkins to do that I think so you can

00:22:39,530 --> 00:22:43,890
it's protected if you have login in

00:22:42,450 --> 00:22:47,130
front of your Jenkins but that's really

00:22:43,890 --> 00:22:49,620
a cool feature of Jenkins and basically

00:22:47,130 --> 00:22:52,970
that simpler term that simple team

00:22:49,620 --> 00:22:56,690
plug-in has not been upgraded for like

00:22:52,970 --> 00:23:00,180
so here's no but is he working because

00:22:56,690 --> 00:23:05,250
the Jenkins API are handsome of stable

00:23:00,180 --> 00:23:09,270
so that's nice email the same thing I do

00:23:05,250 --> 00:23:13,080
I set up my email my SMTP server just do

00:23:09,270 --> 00:23:15,540
it like this it will do statistics but

00:23:13,080 --> 00:23:18,960
all that thing you can also set up the

00:23:15,540 --> 00:23:22,160
LDAP authentication the prefect that

00:23:18,960 --> 00:23:25,230
using Jenkins the slaves the clouds

00:23:22,160 --> 00:23:28,020
global libraries which use for pipelines

00:23:25,230 --> 00:23:30,750
accidential and the first jobs all that

00:23:28,020 --> 00:23:33,990
thing can just be automating using

00:23:30,750 --> 00:23:36,210
groovy and if you want if you have the

00:23:33,990 --> 00:23:37,830
pipeline utility step plug-in which you

00:23:36,210 --> 00:23:40,770
have by entering the pipeline plug-in

00:23:37,830 --> 00:23:44,220
then you can also do stuff with jumble

00:23:40,770 --> 00:23:46,320
so they actually they include the Yammer

00:23:44,220 --> 00:23:50,430
library in their plug-in so you can just

00:23:46,320 --> 00:23:51,870
like okay just look tell me what's that

00:23:50,430 --> 00:23:54,210
Yammer and then you can just play with

00:23:51,870 --> 00:23:55,860
the Yammer file and within you want

00:23:54,210 --> 00:23:58,560
that's really great because then you

00:23:55,860 --> 00:23:59,810
don't need the people who use Jenkins

00:23:58,560 --> 00:24:01,800
and we update the document the

00:23:59,810 --> 00:24:04,050
configuration they don't need to change

00:24:01,800 --> 00:24:06,060
those cuvee files they just need to

00:24:04,050 --> 00:24:07,590
seems to change some Yammer file that

00:24:06,060 --> 00:24:10,620
you have set up and I just said like

00:24:07,590 --> 00:24:13,290
Yammer five is like okay SMTP server or

00:24:10,620 --> 00:24:16,860
a list of jobs that kind of thing so you

00:24:13,290 --> 00:24:18,600
don't need to actually change those

00:24:16,860 --> 00:24:20,610
cuvee files because no one actually

00:24:18,600 --> 00:24:24,590
likes that so

00:24:20,610 --> 00:24:30,900
that allows you to separate the data and

00:24:24,590 --> 00:24:32,820
and the code itself a lot of links you

00:24:30,900 --> 00:24:35,370
have five minutes to not them after is

00:24:32,820 --> 00:24:37,170
gone so basically you have all those

00:24:35,370 --> 00:24:40,230
links when you can five a lot of curvy

00:24:37,170 --> 00:24:44,190
stuffs you see this is like the pipette

00:24:40,230 --> 00:24:47,809
module this is like a chef thing I think

00:24:44,190 --> 00:24:50,940
this is like uncivil so all of those

00:24:47,809 --> 00:24:54,360
plugins are just so sauces when you can

00:24:50,940 --> 00:24:56,309
find all the curvy examples so if you

00:24:54,360 --> 00:24:57,900
want to know how to configure that

00:24:56,309 --> 00:25:01,860
that's a complex thing but you have

00:24:57,900 --> 00:25:03,929
examples in the links if you have a

00:25:01,860 --> 00:25:05,549
strange plugin or if you want to do

00:25:03,929 --> 00:25:07,919
something that you cannot find easily

00:25:05,549 --> 00:25:10,559
you also have the Javadoc so they also

00:25:07,919 --> 00:25:12,390
publish that the documentation

00:25:10,559 --> 00:25:16,200
automatically so like you have it for

00:25:12,390 --> 00:25:18,419
the plugins you have it for the chorus

00:25:16,200 --> 00:25:20,929
for everything basically just like to

00:25:18,419 --> 00:25:24,750
check what the internal API of Jenkins

00:25:20,929 --> 00:25:26,580
does very very useful so if you are you

00:25:24,750 --> 00:25:29,700
if you have Java developers of course

00:25:26,580 --> 00:25:33,030
it's easy but I am NOT a Java developer

00:25:29,700 --> 00:25:35,429
but I find my way in groovy because I'm

00:25:33,030 --> 00:25:37,470
not used to that and it doesn't take

00:25:35,429 --> 00:25:41,429
months to learn and you have a lot lot

00:25:37,470 --> 00:25:43,500
lot of examples so we have automated or

00:25:41,429 --> 00:25:45,600
Jenkins that's nice

00:25:43,500 --> 00:25:48,419
but I don't want to go to that console

00:25:45,600 --> 00:25:48,990
each time I want to change something all

00:25:48,419 --> 00:25:50,820
right

00:25:48,990 --> 00:25:53,790
the first time I learned Jenkins that's

00:25:50,820 --> 00:25:54,990
what I don't want to like do the work of

00:25:53,790 --> 00:25:58,140
copy/paste

00:25:54,990 --> 00:26:01,350
no I don't want that so Jenkins provide

00:25:58,140 --> 00:26:03,360
to a folder called init the GUI OD when

00:26:01,350 --> 00:26:05,780
all of those nice groovy scripts that

00:26:03,360 --> 00:26:09,270
you have seen and as I show you like

00:26:05,780 --> 00:26:13,049
will just be like run at the beginning

00:26:09,270 --> 00:26:15,750
of Jenkins so it means that when you

00:26:13,049 --> 00:26:18,929
have the Jenkins getting ready to work

00:26:15,750 --> 00:26:20,790
message on the web by web page is

00:26:18,929 --> 00:26:22,860
actually doing a lot of things and one

00:26:20,790 --> 00:26:24,960
of those things is like running older

00:26:22,860 --> 00:26:28,440
movie scripts that are there if you

00:26:24,960 --> 00:26:30,690
insulting the fpm you have one already

00:26:28,440 --> 00:26:33,150
which disabled some security thing I

00:26:30,690 --> 00:26:34,590
don't remember exactly why so you drop

00:26:33,150 --> 00:26:36,929
the file you're researching

00:26:34,590 --> 00:26:39,779
games and you will have the Euro update

00:26:36,929 --> 00:26:42,270
if you want so it means that when you

00:26:39,779 --> 00:26:45,059
boost up a new Jenkins so there's a lot

00:26:42,270 --> 00:26:48,900
of people who say ok I've improvised

00:26:45,059 --> 00:26:51,960
Jenkins by the infrastructure team or

00:26:48,900 --> 00:26:54,240
now so just I loose sorry and yeah but

00:26:51,960 --> 00:26:56,789
that Windows theme by need so I need I

00:26:54,240 --> 00:26:58,950
will do my Jenkins myself and then you

00:26:56,789 --> 00:27:00,929
say ok we'll have a Jenkins for that

00:26:58,950 --> 00:27:03,419
project but then for legal reason or any

00:27:00,929 --> 00:27:06,419
reason we have a second Jenkins and at

00:27:03,419 --> 00:27:09,000
Jenkins and so issue immutable Jenkins

00:27:06,419 --> 00:27:11,429
just make your copy files and drop them

00:27:09,000 --> 00:27:14,429
and they were just all be configure the

00:27:11,429 --> 00:27:17,039
same way this shift executed

00:27:14,429 --> 00:27:20,460
sequentially so that if you name them

00:27:17,039 --> 00:27:23,220
correctly it will behave just like you

00:27:20,460 --> 00:27:25,559
expect that and we're so yeah if you

00:27:23,220 --> 00:27:28,230
have a mistake if you have an exception

00:27:25,559 --> 00:27:32,549
in your Kovac of junking with just not

00:27:28,230 --> 00:27:36,570
starts if you just say I can start so

00:27:32,549 --> 00:27:38,190
you need to take that in considering you

00:27:36,570 --> 00:27:39,929
need to take that in consideration when

00:27:38,190 --> 00:27:43,020
you start playing with that that you

00:27:39,929 --> 00:27:45,179
need to be sure that you under X n if

00:27:43,020 --> 00:27:48,390
you want to check it out or not

00:27:45,179 --> 00:27:52,529
I like the default behavior so that's

00:27:48,390 --> 00:27:55,230
fine for me that was you can automate

00:27:52,529 --> 00:27:58,250
the provide configuration of Jenkins now

00:27:55,230 --> 00:28:01,289
we can dig deeper and go inside Jenkins

00:27:58,250 --> 00:28:05,460
so how do you to make lighter jobs the

00:28:01,289 --> 00:28:08,549
furthers everything like that so you can

00:28:05,460 --> 00:28:11,100
do it with a GUI yeah ok

00:28:08,549 --> 00:28:14,190
so in either way that geek can also

00:28:11,100 --> 00:28:16,260
create jobs we see that later you have a

00:28:14,190 --> 00:28:19,070
plug-in called Jenkins job builder and

00:28:16,260 --> 00:28:22,620
job DSL so let's go Jenkins your builder

00:28:19,070 --> 00:28:26,130
OpenStack Python the support templates

00:28:22,620 --> 00:28:30,000
you can extend out it Kendall do example

00:28:26,130 --> 00:28:33,539
directly and it but you see this limited

00:28:30,000 --> 00:28:36,029
support sort of thing so at least six

00:28:33,539 --> 00:28:39,470
months ago if you needed to have

00:28:36,029 --> 00:28:41,909
check-ins pipelines it was not that easy

00:28:39,470 --> 00:28:44,880
so yeah they have limited support for

00:28:41,909 --> 00:28:47,130
all the plugins that are there so yeah

00:28:44,880 --> 00:28:47,970
it's a bit far from the Jenkins world it

00:28:47,130 --> 00:28:50,370
really underpins

00:28:47,970 --> 00:28:52,649
project they had a problem and they

00:28:50,370 --> 00:28:56,190
served it even sacrificed coding

00:28:52,649 --> 00:28:58,549
something and then but still it allows

00:28:56,190 --> 00:29:01,769
you to put the job configuration and the

00:28:58,549 --> 00:29:04,139
source control so that's still a great

00:29:01,769 --> 00:29:06,629
project but that's not my preferred one

00:29:04,139 --> 00:29:07,980
but if you like Brighton if you like

00:29:06,629 --> 00:29:10,289
that kind of things you can just use

00:29:07,980 --> 00:29:12,389
that and it's completely independent

00:29:10,289 --> 00:29:14,519
from Jenkins so you don't need Jenkins

00:29:12,389 --> 00:29:16,740
to do that you can build your XML files

00:29:14,519 --> 00:29:20,190
locally and that kind of thing so yeah

00:29:16,740 --> 00:29:23,639
it has its advantages but I prefer this

00:29:20,190 --> 00:29:26,250
one the Jenkins job DSL plugin which is

00:29:23,639 --> 00:29:29,370
a Jenkins plug-in started in like five

00:29:26,250 --> 00:29:33,179
years ago and it's also groovy and it

00:29:29,370 --> 00:29:34,879
allows you to create jobs views so you

00:29:33,179 --> 00:29:37,980
also put your change of configuration

00:29:34,879 --> 00:29:43,409
and the source control so that's also an

00:29:37,980 --> 00:29:45,509
I think so although it look like well

00:29:43,409 --> 00:29:47,360
that's what you can do in your any Co

00:29:45,509 --> 00:29:50,460
video due to call that plug-in so you

00:29:47,360 --> 00:29:52,259
tell him what you need new your DSL

00:29:50,460 --> 00:29:56,549
script there and it will just do it so

00:29:52,259 --> 00:29:58,080
quickly job management transcript and if

00:29:56,549 --> 00:30:02,279
you just do that in your any to Twitter

00:29:58,080 --> 00:30:04,289
D so yeah it's groovy once again but

00:30:02,279 --> 00:30:06,840
with that plug-in is really a large

00:30:04,289 --> 00:30:09,690
community of users and they support a

00:30:06,840 --> 00:30:12,509
lot lot lot of plugins but like a lot

00:30:09,690 --> 00:30:14,399
and basically all the useful plugins I

00:30:12,509 --> 00:30:16,169
support it and I also have two

00:30:14,399 --> 00:30:19,769
generations of plugins that diatone

00:30:16,169 --> 00:30:24,269
support so creating a jobs it looks like

00:30:19,769 --> 00:30:27,269
this so I have my job my source control

00:30:24,269 --> 00:30:27,899
is get and then I will just an make

00:30:27,269 --> 00:30:30,059
theft

00:30:27,899 --> 00:30:33,840
that's an easy one out to create just a

00:30:30,059 --> 00:30:36,990
basic freestyle job creating a pipeline

00:30:33,840 --> 00:30:38,850
job like this like my job as the

00:30:36,990 --> 00:30:42,990
definition and then you have the script

00:30:38,850 --> 00:30:44,460
of the Jenkins pipeline then you can set

00:30:42,990 --> 00:30:46,379
the properties of the jobs like

00:30:44,460 --> 00:30:49,799
parameters that kind of things you can

00:30:46,379 --> 00:30:53,220
do that wizard Jenkins of DSL plug-in

00:30:49,799 --> 00:30:57,330
then you can do like loops so issue to

00:30:53,220 --> 00:31:00,500
the widow ml5 a number with all the jobs

00:30:57,330 --> 00:31:03,020
are lists of

00:31:00,500 --> 00:31:04,669
so configuration then you can just do

00:31:03,020 --> 00:31:07,850
like four over two jobs in the

00:31:04,669 --> 00:31:10,970
configuration just make me a job with

00:31:07,850 --> 00:31:13,789
that name and then if there is SCM in by

00:31:10,970 --> 00:31:16,280
Jeff definition just put that there and

00:31:13,789 --> 00:31:18,860
that kind of things so that's when you

00:31:16,280 --> 00:31:22,010
get the power of the job GSA is when you

00:31:18,860 --> 00:31:25,880
start using loops using groovy stuff

00:31:22,010 --> 00:31:29,570
than you or the freedom that you want it

00:31:25,880 --> 00:31:31,669
can also create views like okay I want

00:31:29,570 --> 00:31:33,260
that coming my view that reggae by kind

00:31:31,669 --> 00:31:36,350
of things I want it to be like as if

00:31:33,260 --> 00:31:38,179
across all the folders that I have for

00:31:36,350 --> 00:31:40,490
those who don't know what's a folder

00:31:38,179 --> 00:31:43,130
it's a Jenkins plugin that allows you to

00:31:40,490 --> 00:31:45,100
instead of having a flood Jenkins you

00:31:43,130 --> 00:31:49,340
put stuff in different folders so that

00:31:45,100 --> 00:31:52,010
you can do like a CL and configuration

00:31:49,340 --> 00:31:54,260
talk folder so it's quite nice and it's

00:31:52,010 --> 00:32:00,860
yeah if you have more than five jobs

00:31:54,260 --> 00:32:02,270
just think about folders and working

00:32:00,860 --> 00:32:04,549
with plugins so the plugins are

00:32:02,270 --> 00:32:08,480
supported actually you have an API

00:32:04,549 --> 00:32:11,000
viewer so on your Jenkins setup you

00:32:08,480 --> 00:32:13,250
Jellico to plugin job GSL api viewer and

00:32:11,000 --> 00:32:15,620
you will see okay what does the job dsl

00:32:13,250 --> 00:32:18,679
plugin support in the breaking I have

00:32:15,620 --> 00:32:21,230
and it gives a bit monitor view then I

00:32:18,679 --> 00:32:23,840
create that view that name and then the

00:32:21,230 --> 00:32:25,940
job that I wanted as you that's really

00:32:23,840 --> 00:32:35,120
nice and really a lot of plugins are

00:32:25,940 --> 00:32:39,380
supported so so you can also use the job

00:32:35,120 --> 00:32:43,610
DSL plug-in inside your pipeline jobs

00:32:39,380 --> 00:32:45,950
just job DSL then you telling like which

00:32:43,610 --> 00:32:47,720
case that you want to run like okay all

00:32:45,950 --> 00:32:50,120
the cuvee scripts in the see the rectory

00:32:47,720 --> 00:32:51,770
and you can only need three easy and

00:32:50,120 --> 00:32:54,860
then you can also say okay

00:32:51,770 --> 00:32:57,350
remove the job that I am NOT longer

00:32:54,860 --> 00:32:59,720
managing or remove the views that I no

00:32:57,350 --> 00:33:01,580
longer adding so that's also nice and

00:32:59,720 --> 00:33:04,070
you can actually run multiple korva

00:33:01,580 --> 00:33:08,510
scripts so you can just do that in a

00:33:04,070 --> 00:33:10,399
pipeline job like a pipeline job in

00:33:08,510 --> 00:33:12,380
previous version of the Chokey i said i

00:33:10,399 --> 00:33:14,690
didn't tell you that but you could run

00:33:12,380 --> 00:33:17,630
anything like all the in it

00:33:14,690 --> 00:33:19,850
havi the district that we have seen that

00:33:17,630 --> 00:33:22,130
is just wanna find in the job GSI

00:33:19,850 --> 00:33:24,980
configuration which is something that

00:33:22,130 --> 00:33:27,380
yeah they're fixed no but if you depend

00:33:24,980 --> 00:33:29,960
on that you can just like uncheck that

00:33:27,380 --> 00:33:32,510
box and just continue working out and

00:33:29,960 --> 00:33:34,810
that oh you and check the uncheck that

00:33:32,510 --> 00:33:37,610
box in the a digital video D for example

00:33:34,810 --> 00:33:41,420
just and if you do that then you can

00:33:37,610 --> 00:33:43,130
just like do everything you want so if

00:33:41,420 --> 00:33:45,140
you want to like the stuff that you have

00:33:43,130 --> 00:33:46,790
in dough you need agree with D if you

00:33:45,140 --> 00:33:49,220
want to run it in a script you can also

00:33:46,790 --> 00:33:50,900
do it so you can update your Jenkins

00:33:49,220 --> 00:33:53,210
configuration go back configuration

00:33:50,900 --> 00:33:57,850
without starting out Jenkins so that's

00:33:53,210 --> 00:34:02,600
also a nice thing to that's a good tip

00:33:57,850 --> 00:34:05,270
you can also say okay but I want to eat

00:34:02,600 --> 00:34:07,880
my ml files or anything like that then

00:34:05,270 --> 00:34:10,220
you can also do that like add that's my

00:34:07,880 --> 00:34:12,590
clip at the amber ogia file or any use

00:34:10,220 --> 00:34:14,810
or Java library so I guess it is more

00:34:12,590 --> 00:34:16,730
for like several users but if you do

00:34:14,810 --> 00:34:18,680
that then you can do this you can

00:34:16,730 --> 00:34:20,960
directly import the Yammer library which

00:34:18,680 --> 00:34:24,950
is in 30ml files and it will just run

00:34:20,960 --> 00:34:29,080
fine and then you can once again use the

00:34:24,950 --> 00:34:29,080
Yammer file to to your configuration

00:34:29,890 --> 00:34:35,930
okay that's what's for the views and the

00:34:33,650 --> 00:34:39,260
two jobs but like the configuration of

00:34:35,930 --> 00:34:42,080
the jobs now let's dig deeper and pick

00:34:39,260 --> 00:34:43,700
about Jenkins pipeline so what's against

00:34:42,080 --> 00:34:45,980
pipeline I think I've mentioned that

00:34:43,700 --> 00:34:48,770
already a couple of times with takings

00:34:45,980 --> 00:34:51,710
pipeline is like Jenkins Jobs code it

00:34:48,770 --> 00:34:56,870
means that the steps of your job are

00:34:51,710 --> 00:34:59,630
just declared in a file go to Jenkins

00:34:56,870 --> 00:35:03,200
file which you can think about that like

00:34:59,630 --> 00:35:04,880
the travesty idml except it is completed

00:35:03,200 --> 00:35:07,310
your friend but it's the kind of thing

00:35:04,880 --> 00:35:09,050
where I just you don't go to the UI to

00:35:07,310 --> 00:35:10,580
change the way your software is built

00:35:09,050 --> 00:35:13,100
and if you have a big difference between

00:35:10,580 --> 00:35:14,660
two branches and you don't need to have

00:35:13,100 --> 00:35:17,210
two different jobs you can just do it in

00:35:14,660 --> 00:35:19,070
one job like of things so the idea is

00:35:17,210 --> 00:35:21,830
that you have a Jenkins file in your in

00:35:19,070 --> 00:35:24,380
your repository or and then you just

00:35:21,830 --> 00:35:27,620
make the steps in that file so you can

00:35:24,380 --> 00:35:28,370
do everything is like a current review

00:35:27,620 --> 00:35:32,060
that kind of thing

00:35:28,370 --> 00:35:34,100
with that file so it used to be

00:35:32,060 --> 00:35:37,100
imperative like we just leave that you

00:35:34,100 --> 00:35:40,550
execute and now they have since

00:35:37,100 --> 00:35:44,510
treatments declarative pipeline which is

00:35:40,550 --> 00:35:46,340
like pipeline version 2 it's a lot of

00:35:44,510 --> 00:35:48,860
improvement and greatness compared to

00:35:46,340 --> 00:35:53,270
the first version so let's let's do for

00:35:48,860 --> 00:35:55,280
that so - Jenkins file they there is the

00:35:53,270 --> 00:35:57,650
job definition you don't need a GUI but

00:35:55,280 --> 00:35:59,780
there is a gives you only one that is

00:35:57,650 --> 00:36:03,650
called blue ocean and you can edit the

00:35:59,780 --> 00:36:06,440
second side from this you can in the

00:36:03,650 --> 00:36:09,770
steps report environment variable

00:36:06,440 --> 00:36:11,510
denotes everything you want and the

00:36:09,770 --> 00:36:13,940
plugins can just provide additional

00:36:11,510 --> 00:36:16,220
steps so like if you have a docker

00:36:13,940 --> 00:36:19,280
plug-in you can you have the curb steps

00:36:16,220 --> 00:36:20,540
if you have so plug-in integrate with

00:36:19,280 --> 00:36:22,520
that as well so you can actually do

00:36:20,540 --> 00:36:24,110
everything as you're doing the plugins

00:36:22,520 --> 00:36:26,210
as code as well and you will serve a

00:36:24,110 --> 00:36:27,860
generic step for plugins that don't

00:36:26,210 --> 00:36:30,320
really support the pipeline they can

00:36:27,860 --> 00:36:32,300
just integrate it to that step thing and

00:36:30,320 --> 00:36:37,220
just you can work with rows of two

00:36:32,300 --> 00:36:43,270
against them so the visual pop planetary

00:36:37,220 --> 00:36:46,490
so kind of work in progress but if you

00:36:43,270 --> 00:36:47,990
want to know okay what can I do with my

00:36:46,490 --> 00:36:51,320
pipeline then you have in know the

00:36:47,990 --> 00:36:53,840
pipeline jobs link pipelines in Texas

00:36:51,320 --> 00:36:56,570
when you can see actually the plugins

00:36:53,840 --> 00:36:59,150
that you use we can use them and you can

00:36:56,570 --> 00:37:01,520
actually do like sort of a greeting and

00:36:59,150 --> 00:37:06,440
click a button and it will just point

00:37:01,520 --> 00:37:09,650
you the Chloe thing that you need so old

00:37:06,440 --> 00:37:12,980
pipelines like script pipelined other

00:37:09,650 --> 00:37:16,220
Scifo that's like this that's like okay

00:37:12,980 --> 00:37:19,370
I have an Ubuntu AMD 64

00:37:16,220 --> 00:37:22,400
node and on that note I will like check

00:37:19,370 --> 00:37:24,980
out my git repository and then when make

00:37:22,400 --> 00:37:28,640
and then rectus and I do that in three

00:37:24,980 --> 00:37:32,960
stages so that it will be nice on the

00:37:28,640 --> 00:37:36,800
other GUI that's the theory

00:37:32,960 --> 00:37:38,480
here is the practice okay the practice

00:37:36,800 --> 00:37:39,920
is like okay I don't have any stage

00:37:38,480 --> 00:37:40,640
because I don't care about like

00:37:39,920 --> 00:37:41,990
checkouts

00:37:40,640 --> 00:37:45,650
ACM is out of

00:37:41,990 --> 00:37:48,020
stage then I try make if that faith and

00:37:45,650 --> 00:37:50,360
I put the javis unstable and then I

00:37:48,020 --> 00:37:53,780
still like publish my yellow dot log and

00:37:50,360 --> 00:37:56,570
white rhodium and that's not friend so

00:37:53,780 --> 00:37:58,400
in their here where you need to take

00:37:56,570 --> 00:38:00,170
care about exceptions because you cannot

00:37:58,400 --> 00:38:00,850
say okay at the end of the built in me

00:38:00,170 --> 00:38:03,380
an email

00:38:00,850 --> 00:38:05,840
you cannot say okay if that's failing

00:38:03,380 --> 00:38:09,890
then this and that so you really need to

00:38:05,840 --> 00:38:11,930
try that try gas for that's a the sort

00:38:09,890 --> 00:38:14,390
of thing that there's no is like dig

00:38:11,930 --> 00:38:17,930
Latif pipeline where you can just say

00:38:14,390 --> 00:38:20,000
okay pipeline to so instead of defining

00:38:17,930 --> 00:38:21,860
the note the first thing that you define

00:38:20,000 --> 00:38:23,390
is the news or anything you want the

00:38:21,860 --> 00:38:26,390
first thing you define is the pipeline

00:38:23,390 --> 00:38:29,270
and you say okay pipeline old the job

00:38:26,390 --> 00:38:32,360
will run on Ubuntu then you say okay

00:38:29,270 --> 00:38:34,790
here is the option for the job like kill

00:38:32,360 --> 00:38:37,940
it after four overs between the

00:38:34,790 --> 00:38:41,030
timestamps and I'm secures anything you

00:38:37,940 --> 00:38:42,440
want then you need to define stages so

00:38:41,030 --> 00:38:45,530
you can not have anything outside of

00:38:42,440 --> 00:38:47,960
those stages it's a requirement it means

00:38:45,530 --> 00:38:49,790
that you cannot do thing like we do the

00:38:47,960 --> 00:38:52,970
SVM and it will not be anywhere in the

00:38:49,790 --> 00:38:55,040
GUI no you need to define stages and

00:38:52,970 --> 00:38:57,950
then induced additionally to the final

00:38:55,040 --> 00:38:59,780
steps I don't check out in the Ducati

00:38:57,950 --> 00:39:03,830
five and that's one of the stuff that I

00:38:59,780 --> 00:39:05,590
have changed is that they do the

00:39:03,830 --> 00:39:11,619
checkout by default if you have a note

00:39:05,590 --> 00:39:14,420
an agent they call that an agenda then

00:39:11,619 --> 00:39:16,580
the second thing that's very useful is

00:39:14,420 --> 00:39:18,770
that instead of doing the try-catch send

00:39:16,580 --> 00:39:22,580
an email that kind of things you just

00:39:18,770 --> 00:39:25,820
apply pipeline post which is like okay

00:39:22,580 --> 00:39:28,670
when my job is failing just do this for

00:39:25,820 --> 00:39:30,920
my job with successful duties or always

00:39:28,670 --> 00:39:33,340
do this like in this case event is the

00:39:30,920 --> 00:39:37,970
restraining it we just always preview to

00:39:33,340 --> 00:39:41,090
g-unit with the g-unit test so that's a

00:39:37,970 --> 00:39:43,460
hidden evolution but it gives you a less

00:39:41,090 --> 00:39:45,680
freedom mode and what you can or can't

00:39:43,460 --> 00:39:48,020
do because you could really do anything

00:39:45,680 --> 00:39:49,670
is the your pipeline so in this case

00:39:48,020 --> 00:39:51,520
yeah you are a bit more limited unit

00:39:49,670 --> 00:39:54,430
stages you need that kind of things but

00:39:51,520 --> 00:39:59,720
it's really improvement

00:39:54,430 --> 00:40:01,400
so you can TV check out the codes we

00:39:59,720 --> 00:40:04,670
also get a worse place so you don't need

00:40:01,400 --> 00:40:07,280
to like all the noting you need to a

00:40:04,670 --> 00:40:10,220
stages and yeah us like the rappers I'll

00:40:07,280 --> 00:40:13,970
show you if you want to scare those

00:40:10,220 --> 00:40:15,829
pipelines you can define them in the

00:40:13,970 --> 00:40:19,359
edge of the SL and you can also use

00:40:15,829 --> 00:40:21,680
global libraries which is like a

00:40:19,359 --> 00:40:26,089
location when you will be able to like

00:40:21,680 --> 00:40:29,109
put every common scripts at UF which is

00:40:26,089 --> 00:40:33,559
not the job so if you have like a

00:40:29,109 --> 00:40:36,109
jenkins repository with a Jenkins job in

00:40:33,559 --> 00:40:39,109
the jenkins file while ejecting a puppet

00:40:36,109 --> 00:40:41,630
module for example you don't need to put

00:40:39,109 --> 00:40:44,059
the whole configuration in that Jenkins

00:40:41,630 --> 00:40:45,920
file you can use a shared library and in

00:40:44,059 --> 00:40:48,559
such a library in the Jenkins value

00:40:45,920 --> 00:40:50,930
quarter shag library like build build

00:40:48,559 --> 00:40:52,550
pub at module and then the intelligence

00:40:50,930 --> 00:40:54,800
will be in the share library so that

00:40:52,550 --> 00:40:56,990
when you opt the library will get all of

00:40:54,800 --> 00:40:58,520
the configuration of all the jobs and

00:40:56,990 --> 00:40:59,770
you don't need like what you'll think

00:40:58,520 --> 00:41:02,000
other kind of things

00:40:59,770 --> 00:41:04,190
for those who know what's this but

00:41:02,000 --> 00:41:07,460
basically the idea is that to scale your

00:41:04,190 --> 00:41:10,010
Jenkins off to make it easier you just

00:41:07,460 --> 00:41:14,750
define some functions in that shared

00:41:10,010 --> 00:41:17,809
library Jenkins node so that's where you

00:41:14,750 --> 00:41:21,200
build your job just sent to as you build

00:41:17,809 --> 00:41:26,210
your java code that the android you bid

00:41:21,200 --> 00:41:28,700
your APK does anything you want so what

00:41:26,210 --> 00:41:31,069
we do for that is Dockery - Tucker

00:41:28,700 --> 00:41:35,059
Tucker Tucker so we want the jobs inside

00:41:31,069 --> 00:41:37,250
containers so we have like clean shocked

00:41:35,059 --> 00:41:40,700
lift container so that container and

00:41:37,250 --> 00:41:42,140
once the job and is killed so it means

00:41:40,700 --> 00:41:45,410
that it's easy to update those

00:41:42,140 --> 00:41:48,049
containers and we use a clicker plugin

00:41:45,410 --> 00:41:50,660
for that Factory we put no takea logic

00:41:48,049 --> 00:41:52,490
inside of the pipeline's like we don't

00:41:50,660 --> 00:41:54,710
say the pipeline starter docker

00:41:52,490 --> 00:41:56,780
container we just say in the pipeline

00:41:54,710 --> 00:41:59,240
one on one - and then on my

00:41:56,780 --> 00:42:01,790
configuration is a that Ubuntu is the

00:41:59,240 --> 00:42:05,390
container which on that version of

00:42:01,790 --> 00:42:07,839
Ubuntu and we use that pattern so

00:42:05,390 --> 00:42:11,210
basically you have a container

00:42:07,839 --> 00:42:13,730
- when you be the container like which

00:42:11,210 --> 00:42:15,259
one do we will build that we take that

00:42:13,730 --> 00:42:18,200
container going to be the second

00:42:15,259 --> 00:42:23,960
candidate we push that to the registry

00:42:18,200 --> 00:42:26,569
then we run a test on that candidate

00:42:23,960 --> 00:42:28,339
thing like okay let's tell that my

00:42:26,569 --> 00:42:32,539
ubuntu has access to the apt

00:42:28,339 --> 00:42:36,619
repositories okay it's fine then I run a

00:42:32,539 --> 00:42:39,559
build like I will okay I have my pipette

00:42:36,619 --> 00:42:41,990
module I want to run it on Ubuntu I will

00:42:39,559 --> 00:42:44,539
take my new open - image we wanna build

00:42:41,990 --> 00:42:47,089
using that image and if that be

00:42:44,539 --> 00:42:49,670
successful it means that okay I can take

00:42:47,089 --> 00:42:52,220
my Ubuntu image with the Redis tag and

00:42:49,670 --> 00:42:55,009
push it again and Haylee's is the

00:42:52,220 --> 00:42:57,140
default that you have in your

00:42:55,009 --> 00:43:00,259
configuration for example so that know

00:42:57,140 --> 00:43:04,130
that it's tagged we release older next

00:43:00,259 --> 00:43:06,440
job we have is at a new open - image so

00:43:04,130 --> 00:43:08,930
that's all you can easily upgrade your

00:43:06,440 --> 00:43:12,259
took our images that you build on for

00:43:08,930 --> 00:43:15,259
example just like by having a tag on

00:43:12,259 --> 00:43:18,589
them and then I put a parameter on your

00:43:15,259 --> 00:43:20,299
jobs like instead of open to empty 64

00:43:18,589 --> 00:43:22,099
you will - and this is different than

00:43:20,299 --> 00:43:26,359
the parameter and then you launch the

00:43:22,099 --> 00:43:29,690
job with that parameter in practice we

00:43:26,359 --> 00:43:31,430
automate to junk to the cur plug-in

00:43:29,690 --> 00:43:33,769
configuration with movie as well so that

00:43:31,430 --> 00:43:36,170
we have like 20 images but we don't

00:43:33,769 --> 00:43:40,430
configure them in the GUI vehicles today

00:43:36,170 --> 00:43:43,400
is begin doesn't scale in the Yui so and

00:43:40,430 --> 00:43:45,980
each time that we do that that we have

00:43:43,400 --> 00:43:49,609
create a new docker image it's like okay

00:43:45,980 --> 00:43:52,670
we set that Basel candidate and the

00:43:49,609 --> 00:43:57,529
realistic and it's just a slave's or

00:43:52,670 --> 00:43:59,390
node in Jenkins so let's take a look so

00:43:57,529 --> 00:44:02,119
you have a parameter in your jobs and

00:43:59,390 --> 00:44:05,059
then you use it like this like pipeline

00:44:02,119 --> 00:44:08,509
is my H n bits n to a 7 and parameter

00:44:05,059 --> 00:44:11,079
dot tag which by default is in this case

00:44:08,509 --> 00:44:14,359
release and when you build that to

00:44:11,079 --> 00:44:16,489
something like this so like docker built

00:44:14,359 --> 00:44:19,609
don't use a cache tag as candidate

00:44:16,489 --> 00:44:21,380
poster or a tree then run some tests

00:44:19,609 --> 00:44:23,900
then build a job

00:44:21,380 --> 00:44:25,910
and then just change the tag and say

00:44:23,900 --> 00:44:28,790
okay builder job with the candidate of

00:44:25,910 --> 00:44:31,430
thing so that here will be like risen to

00:44:28,790 --> 00:44:33,920
a seven candidates which I just pushed

00:44:31,430 --> 00:44:35,660
before that and if that's not failing

00:44:33,920 --> 00:44:38,480
then we continue and we just tagged a

00:44:35,660 --> 00:44:40,940
CDS and we push that again and it means

00:44:38,480 --> 00:44:43,190
that if there is a Firefox upgrade that

00:44:40,940 --> 00:44:45,830
breaks my ability if there is a open JDK

00:44:43,190 --> 00:44:48,140
with that breaks my built

00:44:45,830 --> 00:44:51,620
I will notice that that job is wrong and

00:44:48,140 --> 00:44:54,170
I can fix my code to make it working but

00:44:51,620 --> 00:44:57,170
I am NOT blocking everyone for the daily

00:44:54,170 --> 00:44:59,180
job like because oh you know to build is

00:44:57,170 --> 00:45:02,060
broken because of Firefox updates or

00:44:59,180 --> 00:45:04,940
just merge a patch to be final in this

00:45:02,060 --> 00:45:07,130
case we just block at that step and you

00:45:04,940 --> 00:45:09,920
can just fix the problem in your code

00:45:07,130 --> 00:45:13,120
and just the build the default build is

00:45:09,920 --> 00:45:13,120
just always green

00:45:13,840 --> 00:45:21,620
so it also means that you can run apt

00:45:17,000 --> 00:45:23,240
updates you move date apt a greater e in

00:45:21,620 --> 00:45:27,800
your container so that they are up to

00:45:23,240 --> 00:45:30,020
date so you have a lot of people rate

00:45:27,800 --> 00:45:32,540
you just airsoft when you say okay

00:45:30,020 --> 00:45:33,950
you need to use the letters sent to us

00:45:32,540 --> 00:45:36,200
you need to use a little fur that you

00:45:33,950 --> 00:45:37,940
need to do your home days but I never

00:45:36,200 --> 00:45:40,430
test that with the update so in this

00:45:37,940 --> 00:45:43,520
case it's easy for you to like send one

00:45:40,430 --> 00:45:47,600
or two times a day that degrade of the

00:45:43,520 --> 00:45:49,820
images so and it's also important to

00:45:47,600 --> 00:45:51,500
know that if you build something in the

00:45:49,820 --> 00:45:54,260
docker container you need to be that

00:45:51,500 --> 00:45:56,600
container you don't want to like build

00:45:54,260 --> 00:45:58,520
it on your laptop send him to the

00:45:56,600 --> 00:46:00,650
registry and okay if there is an update

00:45:58,520 --> 00:46:03,230
I will do it myself though you need to

00:46:00,650 --> 00:46:06,110
have a process preferably like in

00:46:03,230 --> 00:46:07,850
Jenkins to review those images and to be

00:46:06,110 --> 00:46:14,170
able to change them in an automated way

00:46:07,850 --> 00:46:20,660
as well so it's important to to do that

00:46:14,170 --> 00:46:23,240
so docker what about we put the Jenkins

00:46:20,660 --> 00:46:25,390
master in the curve like the complete

00:46:23,240 --> 00:46:27,740
Jenkins thing in the docker container

00:46:25,390 --> 00:46:30,740
why would you do that yeah

00:46:27,740 --> 00:46:34,589
the what's important there is that you

00:46:30,740 --> 00:46:38,519
say Jenkins as all-in-one burden

00:46:34,589 --> 00:46:40,589
all in one bundle that you update all at

00:46:38,519 --> 00:46:43,739
the same time like you have atomic

00:46:40,589 --> 00:46:45,539
update of your Jenkins - Jenkins version

00:46:43,739 --> 00:46:48,420
the jackie sprague in all of that

00:46:45,539 --> 00:46:50,969
updated at the same time it is also easy

00:46:48,420 --> 00:46:54,059
to test so you don't need an acceptance

00:46:50,969 --> 00:46:56,969
Jenkins to test your Jenkins setup you

00:46:54,059 --> 00:47:00,029
can just like run the container on the

00:46:56,969 --> 00:47:02,190
as a jacket job and then see if it works

00:47:00,029 --> 00:47:04,109
or not and it means that you will be

00:47:02,190 --> 00:47:06,329
able to upgrade it more easily

00:47:04,109 --> 00:47:08,999
understand process so that you should

00:47:06,329 --> 00:47:11,309
just if grading Jenkins is like a button

00:47:08,999 --> 00:47:13,319
you click which starting your Jenkins

00:47:11,309 --> 00:47:16,769
and you can just go to that second UI

00:47:13,319 --> 00:47:19,079
and see okay my Jenkins's ok I can just

00:47:16,769 --> 00:47:23,640
video go ahead and you click a second

00:47:19,079 --> 00:47:26,549
button and that's done there is a price

00:47:23,640 --> 00:47:28,680
for that it means that you don't want to

00:47:26,549 --> 00:47:31,950
run a job on that master like you want

00:47:28,680 --> 00:47:33,839
to put everything in nodes you need to

00:47:31,950 --> 00:47:37,079
dr. Raja screen but I guess most of

00:47:33,839 --> 00:47:38,999
people have nowadays you need to deal

00:47:37,079 --> 00:47:40,670
with the current abilities like if you

00:47:38,999 --> 00:47:44,609
have never done dagger before or issue

00:47:40,670 --> 00:47:46,319
yeah you need to know that and then you

00:47:44,609 --> 00:47:49,890
need to think about oh you will like

00:47:46,319 --> 00:47:52,489
deploy that container I will do if you

00:47:49,890 --> 00:47:54,749
completely if you want to equate easily

00:47:52,489 --> 00:47:56,969
don't do that on your data that kind of

00:47:54,749 --> 00:47:59,609
things just a pipeline your tank is

00:47:56,969 --> 00:48:04,319
faster it needs to be done right so

00:47:59,609 --> 00:48:06,059
there is a price what does Jenkins

00:48:04,319 --> 00:48:09,569
provide upstream there provide two

00:48:06,059 --> 00:48:12,989
images well for Images Alpine injects a

00:48:09,569 --> 00:48:19,259
bun - LTS weekly so basically what's

00:48:12,989 --> 00:48:20,999
what we used is like Alpine STS but if

00:48:19,259 --> 00:48:22,529
you have a fluid development maybe you

00:48:20,999 --> 00:48:24,779
want you go into one or maybe you can

00:48:22,529 --> 00:48:27,059
also build your own one if you like if

00:48:24,779 --> 00:48:29,219
you ever sent to a stop and then you can

00:48:27,059 --> 00:48:31,640
just say okay I will build my image on

00:48:29,219 --> 00:48:33,779
top of Centaurus is also possible

00:48:31,640 --> 00:48:38,309
what does it look like in the docker

00:48:33,779 --> 00:48:39,710
file here you go so from the version of

00:48:38,309 --> 00:48:43,200
Jenkins

00:48:39,710 --> 00:48:46,589
maintainer as fruit I will go and copy

00:48:43,200 --> 00:48:47,430
my users content directory like my CSS I

00:48:46,589 --> 00:48:51,809
kind of things

00:48:47,430 --> 00:48:54,500
I will make those directories I actually

00:48:51,809 --> 00:48:58,230
I I should have done do the real ones

00:48:54,500 --> 00:49:00,089
and then I will like okay put the log

00:48:58,230 --> 00:49:02,309
directory the directory the car

00:49:00,089 --> 00:49:06,839
directory wrote that things you need to

00:49:02,309 --> 00:49:08,579
do them and then if you need to change

00:49:06,839 --> 00:49:10,440
the time zone then you say okay this is

00:49:08,579 --> 00:49:11,970
Alpine UNIX or do I do that then your

00:49:10,440 --> 00:49:12,210
data River comment to change the time

00:49:11,970 --> 00:49:15,089
zone

00:49:12,210 --> 00:49:17,490
I still hope to find customers who don't

00:49:15,089 --> 00:49:19,829
change the time zones but ok doesn't

00:49:17,490 --> 00:49:21,720
happen then you need to install the

00:49:19,829 --> 00:49:24,510
plug-in so that you can do like as check

00:49:21,720 --> 00:49:26,460
in future and then you like copy a text

00:49:24,510 --> 00:49:29,069
file with loops like this like a list of

00:49:26,460 --> 00:49:31,619
plugins you can also have a colon with a

00:49:29,069 --> 00:49:33,390
version number and in that Jenkins image

00:49:31,619 --> 00:49:36,089
we have a script called install plugins

00:49:33,390 --> 00:49:39,059
at SH you just use that and it you just

00:49:36,089 --> 00:49:43,290
fetch all the plugins with the reversion

00:49:39,059 --> 00:49:46,020
that you want and install them so that's

00:49:43,290 --> 00:49:48,020
also nice thing and then you can also

00:49:46,020 --> 00:49:53,579
copy the innate ability to configure

00:49:48,020 --> 00:49:56,280
your the composition stuff top so Aria

00:49:53,579 --> 00:49:58,260
something important is that if you keep

00:49:56,280 --> 00:50:01,319
your configuration in a volume like in a

00:49:58,260 --> 00:50:05,369
persistent way then you need to fix your

00:50:01,319 --> 00:50:09,660
file result or right in that user shell

00:50:05,369 --> 00:50:13,349
Jenkins revs a directory so that it will

00:50:09,660 --> 00:50:15,720
simply override them each time the

00:50:13,349 --> 00:50:18,420
default behavior of the Jenkins box is

00:50:15,720 --> 00:50:22,770
that the content of the directory which

00:50:18,420 --> 00:50:27,180
is not in the volume will only be moved

00:50:22,770 --> 00:50:30,390
to the Jenkins home if it is not there

00:50:27,180 --> 00:50:32,400
already so that there is a script on

00:50:30,390 --> 00:50:35,190
Jenkins data that dude that does that

00:50:32,400 --> 00:50:36,720
move to the Jenkins home firing in the

00:50:35,190 --> 00:50:39,720
directory and that's what you should use

00:50:36,720 --> 00:50:42,869
but if you keep a state and in mind

00:50:39,720 --> 00:50:46,559
about that variety stuff the Java

00:50:42,869 --> 00:50:49,920
options just like regular environment

00:50:46,559 --> 00:50:51,720
variables in the docker image like the

00:50:49,920 --> 00:50:53,970
the ROM

00:50:51,720 --> 00:50:56,430
don't run the setup wizard so that when

00:50:53,970 --> 00:50:58,619
you start Jenkins you say hello do you

00:50:56,430 --> 00:51:01,080
want to click some buttons with me no

00:50:58,619 --> 00:51:03,450
just that option

00:51:01,080 --> 00:51:06,770
and the reboot is also to get like the

00:51:03,450 --> 00:51:12,060
Wi-Fi outside of the volume that Jenkins

00:51:06,770 --> 00:51:14,730
keeps be home between the runs so to

00:51:12,060 --> 00:51:17,370
tell the image we just have like a small

00:51:14,730 --> 00:51:19,590
change it's like we pass an environment

00:51:17,370 --> 00:51:22,820
valuable when we study dr. image and in

00:51:19,590 --> 00:51:27,750
that case we just be checking in in

00:51:22,820 --> 00:51:29,970
Crites mode which means that it will not

00:51:27,750 --> 00:51:33,570
run any automatically

00:51:29,970 --> 00:51:35,310
so in that case yeah you can go to the

00:51:33,570 --> 00:51:37,080
UI of the checking to test and if you

00:51:35,310 --> 00:51:40,740
want you can disable that quite mode but

00:51:37,080 --> 00:51:42,840
most of the time the see job is run and

00:51:40,740 --> 00:51:45,240
the siege of you can run or one of two

00:51:42,840 --> 00:51:47,670
jobs as well but you don't want that

00:51:45,240 --> 00:51:54,390
Jenkins in a container - and all of your

00:51:47,670 --> 00:51:56,850
tests at that point so we also have that

00:51:54,390 --> 00:52:00,270
script that we do for the doctor in the

00:51:56,850 --> 00:52:02,040
docker container to test it that when we

00:52:00,270 --> 00:52:05,190
would contain with the new Jenkins that

00:52:02,040 --> 00:52:07,740
you want to test we waited to be started

00:52:05,190 --> 00:52:10,470
or we wait to see if the shifter been

00:52:07,740 --> 00:52:13,110
fading so we do some grab stuff to do

00:52:10,470 --> 00:52:16,830
that and then we try to run that script

00:52:13,110 --> 00:52:19,290
like 30 times every 10 seconds and the

00:52:16,830 --> 00:52:21,840
Jenkins is started once that's done we

00:52:19,290 --> 00:52:24,600
know that 800 Jenkins has failed or

00:52:21,840 --> 00:52:29,750
jackc started and we can go further in

00:52:24,600 --> 00:52:32,430
Joe Jenkins appointment and then we test

00:52:29,750 --> 00:52:38,150
once again the config file and we know

00:52:32,430 --> 00:52:42,900
that okay there are some strange typos

00:52:38,150 --> 00:52:44,550
so if we have one of those graphs into

00:52:42,900 --> 00:52:49,140
Jenkins doc then we know that there are

00:52:44,550 --> 00:52:51,210
something wrong in the logs and then we

00:52:49,140 --> 00:52:53,340
just return false and that's just like

00:52:51,210 --> 00:52:55,650
okay you will have your Jenkins job just

00:52:53,340 --> 00:53:01,050
read so you know okay

00:52:55,650 --> 00:53:03,510
something is wrong with my Jenkins you

00:53:01,050 --> 00:53:07,590
don't need a great deal we also call the

00:53:03,510 --> 00:53:10,230
seizure because we create the feature

00:53:07,590 --> 00:53:14,280
which we shall chop DSL stuff and we run

00:53:10,230 --> 00:53:16,560
it in the needle Cody and if the C job

00:53:14,280 --> 00:53:19,380
not succeeding like if there isn't never

00:53:16,560 --> 00:53:21,750
also thing like that we each will fail

00:53:19,380 --> 00:53:23,640
the startup of Jenkins so I know that my

00:53:21,750 --> 00:53:25,890
docker image is right jacket sponsor is

00:53:23,640 --> 00:53:28,200
not good for production and I cannot

00:53:25,890 --> 00:53:31,470
promote it so that's what I'll do it we

00:53:28,200 --> 00:53:37,680
just like fail if my seed job is not

00:53:31,470 --> 00:53:41,370
successful so it's great to have a

00:53:37,680 --> 00:53:43,050
pipeline to deploy Jenkins and to the

00:53:41,370 --> 00:53:45,900
project configuration and check that the

00:53:43,050 --> 00:53:49,260
C job is working was great but you can

00:53:45,900 --> 00:53:51,240
go further and like don't keep the

00:53:49,260 --> 00:53:54,800
gigantic configuration between each run

00:53:51,240 --> 00:53:57,150
like don't put anything in volume just

00:53:54,800 --> 00:54:00,240
build the complete configuration each

00:53:57,150 --> 00:54:01,950
time you start Jenkins you still want to

00:54:00,240 --> 00:54:04,350
keep the Java story so that's all you do

00:54:01,950 --> 00:54:07,380
that you have like that Oh business

00:54:04,350 --> 00:54:09,960
directory which you put that on the

00:54:07,380 --> 00:54:11,880
volume summary or consistent volume it

00:54:09,960 --> 00:54:14,040
means that when Jenkins we set up it

00:54:11,880 --> 00:54:17,640
will find the history of your jobs

00:54:14,040 --> 00:54:22,160
so that's hilarious right I track the

00:54:17,640 --> 00:54:25,290
complete configuration but I know that

00:54:22,160 --> 00:54:28,050
the last ten jobs were successful if you

00:54:25,290 --> 00:54:30,210
don't do that Dania it's kind of a

00:54:28,050 --> 00:54:34,130
problem for a lot of people that whether

00:54:30,210 --> 00:54:34,130
Java sorry and I understand them so

00:54:34,430 --> 00:54:42,480
conclusion you can automate completely

00:54:39,300 --> 00:54:44,130
or Jenkins under operating system to the

00:54:42,480 --> 00:54:47,940
new to the job everything can be

00:54:44,130 --> 00:54:49,560
automated do it it's important even even

00:54:47,940 --> 00:54:52,140
when you use drinking so that you see

00:54:49,560 --> 00:54:54,960
that sometimes one Jenkins is not enough

00:54:52,140 --> 00:54:58,230
so it's important to be able to to have

00:54:54,960 --> 00:55:00,330
any freedom you can with Jenkins I just

00:54:58,230 --> 00:55:03,150
use different patterns like in equal to

00:55:00,330 --> 00:55:06,720
D Jenkins of DSL pipeline and if you can

00:55:03,150 --> 00:55:10,080
just try to correct Jenkins

00:55:06,720 --> 00:55:12,660
it might work for you it is a great job

00:55:10,080 --> 00:55:15,900
for us so we are pretty happy with that

00:55:12,660 --> 00:55:18,930
so just do it try it tell me what you

00:55:15,900 --> 00:55:22,040
think about that and that's all thank

00:55:18,930 --> 00:55:22,040
you for listening

00:55:26,309 --> 00:55:37,530
any questions just other any questions

00:55:32,130 --> 00:55:37,530
come on come on we have five minutes

00:55:40,049 --> 00:55:46,010
okay thank you

00:55:41,530 --> 00:55:50,189
so Thank You Julian Thanks

00:55:46,010 --> 00:55:50,189
[Applause]

00:56:05,329 --> 00:56:10,640
it completely or Jenkins founder

00:56:07,900 --> 00:56:13,609
operating system to the new to the job

00:56:10,640 --> 00:56:16,249
everything can be automated do it it's

00:56:13,609 --> 00:56:18,589
important even even when you use Jenkins

00:56:16,249 --> 00:56:20,719
so that you see that sometimes one gene

00:56:18,589 --> 00:56:23,719
is not enough so it's important to be

00:56:20,719 --> 00:56:26,450
able to to have any freedom you can with

00:56:23,719 --> 00:56:28,729
Jenkins I just use the furring patterns

00:56:26,450 --> 00:56:32,900
like in equally the D Jenkins of DSL

00:56:28,729 --> 00:56:36,170
pipeline and if you can just try the

00:56:32,900 --> 00:56:38,839
correct Jenkins it might work for you it

00:56:36,170 --> 00:56:42,140
is a great job for us so we are pretty

00:56:38,839 --> 00:56:44,119
happy with that so just do it try it

00:56:42,140 --> 00:56:54,559
tell me what you think about that and

00:56:44,119 --> 00:56:59,380
that's all thank you for listening any

00:56:54,559 --> 00:57:04,930
questions yeah yeah other any questions

00:56:59,380 --> 00:57:04,930
come on come on we have five minutes

00:57:07,269 --> 00:57:18,529
okay thank you so thank you Julian

00:57:10,699 --> 00:57:21,289
Thanks so we have a two minute coffee

00:57:18,529 --> 00:57:25,239
break and we will continue with the next

00:57:21,289 --> 00:57:25,239

YouTube URL: https://www.youtube.com/watch?v=5cWS0yLur3Q


