Title: Abhishek Gupta - The Lab Notebook: Bringing Science Back to Data Science
Publication date: 2021-05-20
Playlist: CSVConf 2021
Description: 
	All of us deal with data. A lot of us do data science. And yet only some of us get a chance to really infuse science into that data science work. Ever visit one of your old experiments and find that you want to pull out your hair because you are not sure how you arrived at some of the models that you ended up selecting, why you transformed your data the way you did, and other choices that now seem arbitrary but were perhaps perfectly reasonable then? While we invent a time machine that allows us to go back and inspect our previous (more brilliant?) selves, i have a simpler proposal: the humble lab notebook. Remember those ruled notebooks we carried around in physical labs at school diligently writing things down as we figured out how to build the best soda volcanoes? Turns out they can help us solve this problem of tracking our decisions as we arrive at different configurations that we run in our data science work so that we don’t need to curse at our past selves for making poor choices. Not only do they act as great supplements for existing AI lifecycle management tools, but they also help us share our learnings better with our colleagues (and future selves!). Come join me on this journey and let’s explore how the lab notebook can bring back science into data science. We’ll look at why you should have a lab notebook for all your data science work, how you should go about maintaining that lab notebook, and what you should and what you should NOT include in that lab notebook.
Captions: 
	00:00:03,200 --> 00:00:08,960
All right well Thank you for having me. I'm  delighted to be here. And sort of building on  

00:00:08,960 --> 00:00:13,280
what Donny has been talking about, you know,  documentation, being effective about it.  

00:00:13,280 --> 00:00:18,960
I guess here is yet another talk that talks about  that. So, I'm gonna be talking about this idea of  

00:00:18,960 --> 00:00:26,960
a lab notebook. With the intent of bringing  science back to data science. I'm a founder  

00:00:28,160 --> 00:00:35,600
at the Montreal AI Ethics Institute, a nonprofit  research institute that aims to democratize  

00:00:36,160 --> 00:00:46,080
literacy. I'm also a machine learning engineer at  Microsoft, on the AI port. While you notice the  

00:00:46,080 --> 00:00:50,880
odd format of the slides, I left a little bit of  space because our little video bubbles are going  

00:00:50,880 --> 00:00:55,520
to pop up on the side and I hope that none of the  content is covered and hopefully that's achieved. 

00:00:56,640 --> 00:01:07,120
Who am I? I'm first and foremost a practitioner.  When I'm not doing talks or not writing papers,  

00:01:07,120 --> 00:01:12,960
et cetera, I'm writing code. And so, that's, you  know, that sort of is my lens to all the work that  

00:01:12,960 --> 00:01:18,960
I do. I'm a community builder. It's in the context  of the work that I do in the space of AI ethics.  

00:01:18,960 --> 00:01:24,320
The goal being that it's -- it's important  to bring in a diversity of perspectives and  

00:01:25,520 --> 00:01:30,240
learning from the folks who are on the ground  in our communities is a great way of doing that.  

00:01:30,240 --> 00:01:35,360
There is ample that I've learned from folks in  adjacent fields. In fact, the idea of the lab  

00:01:35,360 --> 00:01:41,040
notebook came or emerged from this why idea  in the physical sciences where they have an  

00:01:41,040 --> 00:01:47,680
actual physical lab notebook that they use. I'm a writer. I believe it's important to  

00:01:47,680 --> 00:01:53,600
convey ideas. And, you know, writing  also helps to articulate thoughts. So,  

00:01:53,600 --> 00:02:00,160
I tend to do that quite a lot. I can find my  writings on my website, on LinkedIn, Twitter, et  

00:02:00,160 --> 00:02:04,080
cetera. And finally, I'm a pragmatist. I think  it's important that we remain practical about  

00:02:04,080 --> 00:02:10,400
some of the challenges that we face in the field  today. And the lab notebook is one attempt of me  

00:02:10,400 --> 00:02:14,960
being pragmatic with the challenges I have faced  as I have done this. And sometimes I have strong  

00:02:14,960 --> 00:02:23,280
preferences that end up being trivial and don't  matter. Side work, or whichever suits you well.  

00:02:23,920 --> 00:02:29,520
And just as a note if you want to find me, my  Twitter handle is at the bottom, as is my website. 

00:02:30,480 --> 00:02:37,120
Cool. Okay. I'm gonna try something new. And  we're gonna see this works. We tried it yesterday,  

00:02:37,120 --> 00:02:41,440
it can work. I'm gonna give it a shot. I'm going  to do a quick poll. And the intention of doing  

00:02:41,440 --> 00:02:47,680
the poll is that I think it's a great way to  collectively see how all of us think about  

00:02:47,680 --> 00:02:52,720
this idea. And, of course, I'm gonna be talking  about it. But I think it's a good lens into how  

00:02:53,440 --> 00:03:00,400
your fellow attendees are also thinking about  this. So, I'm gonna make that switch real fast  

00:03:01,040 --> 00:03:04,640
and see how efficient I can be with that. And...  

00:03:12,000 --> 00:03:17,840
and I think that worked! So, if  you all want to help me out here.  

00:03:18,480 --> 00:03:24,400
So, this is a tool called Mentimeter. And I would  love you to drop in a few words when you hear the  

00:03:25,200 --> 00:03:29,600
words "Lab notebook." Go to Mentimeter.com and  punch in the code at the top of the screen.  

00:03:32,160 --> 00:03:40,400
Hopefully that will become a word cloud. We will  see the themes of what you and fellow attendees  

00:03:40,400 --> 00:03:45,840
are thinking about this or what thing about this.  And, of course, you know, I'll walk through my  

00:03:45,840 --> 00:03:57,680
presentation as well. So, hoping that you're able  to do that. Go to menti.com. Great. Someone put  

00:03:57,680 --> 00:04:05,280
in something there. And you can put in multiple  submissions as well. Loosely structured, esoteric,  

00:04:05,280 --> 00:04:13,520
reproducible, I love that. Jupyter, I love  that. Organization document. Shared, yeah,  

00:04:13,520 --> 00:04:19,600
that's important. Organizing stuff. Experiments.  I guess you -- missing sheets of paper. 

00:04:19,600 --> 00:04:24,720
So, you know, given that we're gonna be talking  about a digital notebook, hopefully that's not an  

00:04:24,720 --> 00:04:31,040
issue. And I'm going to be talking about a version  control, you know, formulation of it so again,  

00:04:31,040 --> 00:04:36,480
hopefully that's not a problem. Notes to  self, yeah, that's important. Reproducibility.  

00:04:37,520 --> 00:04:48,400
I love who put in napkins. Ping me on the CSV  Slack more on what you -- wow, this is fantastic.  

00:04:50,400 --> 00:04:58,000
And so, yeah. I see why Jupyter is sort of taking  center stage here. Which is great. I'll clarify  

00:04:58,000 --> 00:05:04,960
that as we go along. Reproducible documentation,  organization. Those are definitely key steps. Da  

00:05:06,080 --> 00:05:13,280
Vinci mirror writing. Thank you. You will have  some da Vinci moments before we go through  

00:05:13,280 --> 00:05:18,800
this. I will leave this open for another  30 seconds if you want to put in something.  

00:05:18,800 --> 00:05:27,280
But I think some key themes have emerged here  in terms of record, reproducibility, in terms of  

00:05:27,280 --> 00:05:34,240
having a legitimate process how you're going about  practicing data science. Yeah. This is fantastic. 

00:05:34,240 --> 00:05:39,280
Thank you so much for such an enthusiastic  participation. More than a hundred people  

00:05:39,280 --> 00:05:48,560
have already chimed in. So, this is -- this is  awesome. Very cool. Okay. All right. So, I'm gonna  

00:05:48,560 --> 00:05:57,680
move through my next question because we're also  like super-tight on time here. And one second.  

00:06:00,560 --> 00:06:04,800
Okay. You'll have to pardon.  That's a little bit slow. 

00:06:04,800 --> 00:06:13,120
I'll pull up the next question. And it's  still the same code. And you should see a  

00:06:13,120 --> 00:06:18,400
prompt on your screen that will show you that  there is a new question on there. And so,  

00:06:18,400 --> 00:06:23,520
just as you did for this one, you can go in and  quickly punch in a few words that you think,  

00:06:24,800 --> 00:06:28,480
you know, what would be some of the biggest pain  points that you think a lab notebook can solve  

00:06:28,480 --> 00:06:31,920
for your data science workflow. I know this  is a little bit premature because I haven't  

00:06:33,040 --> 00:06:40,000
explicated fully what it's going to be about.  But I'm hoping to surface some interesting themes  

00:06:40,000 --> 00:06:43,520
and ideas that you guys think that a  lab notebook can potentially solve. 

00:06:45,440 --> 00:06:49,920
Reproducibility coming up again, shareability  of process. Yes, I'm huge on process as a  

00:06:49,920 --> 00:06:55,680
practitioner. I love whoever put that in.  Analysis, communication is huge. That is,  

00:06:55,680 --> 00:07:01,520
again, very, very important. Collaborating,  fantastic. Remembering what I did. Amen to that.  

00:07:02,800 --> 00:07:06,080
Gosh, the number of times I forget.  You know, I have like untitled notebook  

00:07:06,720 --> 00:07:14,080
23 and it's like, hella confusing what  was going on. Shareability of process,  

00:07:15,520 --> 00:07:20,800
collaboration, reproducibility is sort of taking  center stage which I love. I'm sure a lot of you  

00:07:20,800 --> 00:07:28,880
are familiar with the replicability crisis that  we faced in the field. One of my professors,  

00:07:31,040 --> 00:07:37,200
you know, sort of like kick-started a more  mainstream discussion on this about three years  

00:07:37,200 --> 00:07:44,400
ago, you know, documenting how there were a lot  of problems with reproducibility in our field. So,  

00:07:44,400 --> 00:07:50,640
this is fantastic to see. Perfect. Thank you so  much for all of you who've chimed in so far. I'm  

00:07:50,640 --> 00:07:57,600
gonna go back to my slides now. But what I  love this, I think this is fantastic. And,  

00:07:57,600 --> 00:08:04,320
you know, we can continue to follow-up on  this word cloud as we go along as well. Cool. 

00:08:04,320 --> 00:08:09,920
I'm going to go back to my slides real fast.  So, this was relatively painless. Which I'm  

00:08:09,920 --> 00:08:17,040
happy about. And hopefully my slides are back up.  So, thank you for chiming in. I think, you know,  

00:08:17,040 --> 00:08:21,453
I can stop my talk now, all of y'all covered  quite a few of my points that I will talk about.  

00:08:21,453 --> 00:08:33,680
But concretizing a lot of those, the keynote  for the lab notebook. I'm going to first lay  

00:08:33,680 --> 00:08:38,960
out what I think the what, the why and the  how for the lab notebook and I'll drop in  

00:08:38,960 --> 00:08:43,840
a link because it's a short talk for a tool  that I personally use to create my own lab  

00:08:43,840 --> 00:08:48,000
notebook. But also happy to chat afterwards on  the Slack in terms of how to go about doing it. 

00:08:48,880 --> 00:08:54,640
So, primarily it's, you know, it works as  an organizational tool. And it's not just  

00:08:54,640 --> 00:09:00,560
for tracking ML artifacts. For which you  can use pre-established tools like ML flow,  

00:09:02,320 --> 00:09:06,560
et cetera. This is more so for  ideas, right? This is more so for the  

00:09:06,560 --> 00:09:12,240
journey of arriving at ideas. You know, all of  you are no strangers to this, perhaps, that,  

00:09:13,120 --> 00:09:18,080
you know, when we're practicing data science,  rarely do you arrive magically at the solution  

00:09:18,080 --> 00:09:24,800
all at once. It's a meandering path and journey  to get to it. Which means that, you know,  

00:09:25,600 --> 00:09:30,800
when we arrive at that final idea, if that  has happened over a long period of time,  

00:09:30,800 --> 00:09:34,960
we end up forgetting how we got there. Why  is this important? This is important because,  

00:09:35,520 --> 00:09:40,160
you know, you might come back to that project  later on or you might even come back to  

00:09:40,160 --> 00:09:45,600
it like, you know, two or three weeks later  and you'll forget how you arrived at some of  

00:09:45,600 --> 00:09:50,800
the decisions and you'll beat yourself up as  to, you know, why you made certain choices. 

00:09:50,800 --> 00:09:55,920
So, this is what we are sort of organizing now.  It's meant to serve as a memory aid. You know,  

00:09:55,920 --> 00:09:59,040
again with the pandemic, there are  a million things going around us.  

00:09:59,040 --> 00:10:03,840
Work and home life have blended as well.  I personally find the lab notebook as a  

00:10:04,400 --> 00:10:12,640
way of centering my data science practice in a  concrete way. Gives me clarity, doing my work,  

00:10:12,640 --> 00:10:19,120
closing the day off, having a sort of closure  to what I have done, the findings and picking it  

00:10:19,120 --> 00:10:26,800
up the next day. I wanted to put in this idea of  record of ownership of ideas. Because as I said,  

00:10:26,800 --> 00:10:33,120
this was inspired by the physical sciences. And  in the physical sciences, there is an important,  

00:10:34,400 --> 00:10:40,880
you know, there is importance in sort of who,  you know, germinated or who created the idea.  

00:10:40,880 --> 00:10:46,160
And, you know, that can become important in terms  of, you know, proving ownership of the idea when  

00:10:46,160 --> 00:10:50,320
it comes to filing for patents, et cetera. Maybe  that's not so much the case in the corporate  

00:10:50,320 --> 00:10:54,800
world because you're all operating in a team  together. Maybe working on applied products. 

00:10:54,800 --> 00:11:00,720
But even in industry research labs, this can  be important. So, the lab notebook can be a way  

00:11:00,720 --> 00:11:06,880
to exercise that. What's also interesting  is some of you brought up this notion of,  

00:11:07,520 --> 00:11:14,160
you know, new sheets or sheets getting lost,  et cetera in the first question. The way this  

00:11:14,160 --> 00:11:20,560
obviously formulated in a digital context, you  situate it in a version controlled setting and you  

00:11:20,560 --> 00:11:27,760
can use the get sort of IDs to identify, you know,  who the author of a specific idea in that is. And,  

00:11:27,760 --> 00:11:31,680
of course, you know, a lot of it is also  predicated on how you practice it. I'll  

00:11:31,680 --> 00:11:37,280
talk about some best practices or I shouldn't  say best practices. But some proven practices  

00:11:37,280 --> 00:11:43,920
that I've utilized. And hopefully some will  utilize and hopefully ask questions and all that. 

00:11:44,960 --> 00:11:49,600
I kind of already touched on this,  right? Why to do -- why to have a  

00:11:49,600 --> 00:11:54,000
lab notebook in the first place. I think the  most important thing that it does for me is to  

00:11:54,640 --> 00:12:00,480
set as a North Star on why I'm doing a certain  project in the first place. What ends up  

00:12:00,480 --> 00:12:04,480
happening, at least, you know, in practice, is  that you have a lot of evolving business needs,  

00:12:05,200 --> 00:12:10,880
customer demands that change over people. And,  you know, as I said, you know, I'm the principle  

00:12:10,880 --> 00:12:16,480
researcher at the Montreal AI Institute, I spend  a lot of time thinking about ethical issues in AI. 

00:12:16,480 --> 00:12:25,840
And quite a few of them actually stem from this  notion where the project starts as a way of, you  

00:12:25,840 --> 00:12:30,320
know, addressing a particular problem and creating  a solution. But then gradually shifts over time  

00:12:30,320 --> 00:12:37,040
where it -- it is infeasible and incompatible  with, you know, how you're approaching it. And  

00:12:37,040 --> 00:12:42,480
that leads to a lot of ethical concerns. So, using  this lab notebook as a North Star, as a center,  

00:12:43,120 --> 00:12:48,880
is one, you know, good use for it. Of course,  we spoke about this lineage of decision making.  

00:12:48,880 --> 00:12:54,400
You don't want to have untitled notebook number  23 that you throw over the wall and have it be,  

00:12:54,400 --> 00:12:59,920
you know, run, you know, productionized so as  to say, of course, a refactoring of the code,  

00:12:59,920 --> 00:13:06,160
et cetera. But the journey is very important. Because later on, you know, if you're seeking to  

00:13:06,160 --> 00:13:10,960
make some improvements over it, you need to know  how you arrived at the current configuration. Be  

00:13:10,960 --> 00:13:16,080
that in terms of the model, in terms of the  features that you've constructed, et cetera.  

00:13:16,080 --> 00:13:22,000
The training regimes that you've used. And if you  don't have a documented lineage of that decision  

00:13:22,000 --> 00:13:26,400
making were you're going run into issues where,  you know, you don't really have clarity in terms  

00:13:26,400 --> 00:13:30,320
of how you arrived at that current configuration  and what's already been tried so you don't waste  

00:13:30,320 --> 00:13:37,280
time doing that again. And it's not to bias  against other tools, but it's a supplement to that  

00:13:38,160 --> 00:13:45,120
to document the things that aren't documentable  in a clear fashion in some of these other tools. 

00:13:46,960 --> 00:13:52,080
You know, another thing is that if you're to  come back to a project, as I was saying later on,  

00:13:52,080 --> 00:13:57,280
you don't want to be in a situation where you're  relying on, you know, limited artifacts to guess  

00:13:57,280 --> 00:14:02,480
how you arrived at it. You know, I don't have  a photographic memory. I wish I was Mike and  

00:14:03,040 --> 00:14:08,720
remembered everything. I'm not. Just having  something like this just makes my life easier.  

00:14:09,440 --> 00:14:14,240
And for those who are, you know, perhaps  interested in the ethical side of things, audit  

00:14:14,240 --> 00:14:20,960
trails are going to be that emerging regulations  are going to make. Especially in highly regulated  

00:14:20,960 --> 00:14:26,640
domains like finance and health care. This will  be an instrument to help support that as well. 

00:14:28,080 --> 00:14:33,600
So, as I said, it helps you keep track of ideas.  More importantly, it becomes a record for future  

00:14:33,600 --> 00:14:37,840
research work as well. Not just for yourself.  Because let's face it, this happens to all of us,  

00:14:37,840 --> 00:14:45,600
and we come back a month later, who wrote this  code? You blame and it's me and you end up look  

00:14:45,600 --> 00:14:50,400
like a dummy. But it's for your teammates  who are going to work on this in the future.  

00:14:51,760 --> 00:14:56,400
It's a great way to do this. Sometimes funding  can run out for a particular project. You  

00:14:56,400 --> 00:15:02,080
may have to lay it on and come back, a useful  mechanism to do that. Reproducibility, the more  

00:15:02,800 --> 00:15:06,800
structured documentation you have in terms of  how you arrived at a particular configuration,  

00:15:06,800 --> 00:15:11,600
the easier it will be for someone else  to reproduce your experiment and arrive  

00:15:11,600 --> 00:15:16,560
at the different results or find things that  haven't worked and help you sort of do better. 

00:15:16,560 --> 00:15:23,680
So, you know, basically do this whole hair  pulling scenario which is never fun. So,  

00:15:23,680 --> 00:15:30,880
how do you go about doing it? You know, creating  a lab notebook. That is version control is in my  

00:15:30,880 --> 00:15:35,840
opinion the best way to go about it. And because  it makes as, you know, you guys pointed out,  

00:15:35,840 --> 00:15:40,720
makes it easy to share and collaborate with,  you know, your fellow project mates, be those  

00:15:40,720 --> 00:15:45,840
lab mates or teammates in a corporate setting.  Specifically, I would also like to talk about how  

00:15:46,480 --> 00:15:51,280
I go about doing it, which is investing everyday  effort in it. So starting at end of -- at the  

00:15:51,920 --> 00:15:56,800
start -- at the beginning of the day, reviewing  what I wrote at the closing of the previous day. 

00:15:59,520 --> 00:16:06,800
Using small artifacts and small ideas they sort  of write down and moving from, you know, cursory,  

00:16:08,800 --> 00:16:14,960
you know, documentation to more detailed ideas as  I -- as I, you know, go through the day. And also,  

00:16:14,960 --> 00:16:19,440
it helps me have a degree of closure towards  the end of the day because I know I've achieved  

00:16:19,440 --> 00:16:24,160
a certain amount and I'm able to document and  save that. Another very important thing here is  

00:16:24,960 --> 00:16:30,720
to use a ledger approach as in like don't edit  entries, but just add stuff because it helps to  

00:16:30,720 --> 00:16:35,280
generate audit trails. It's the same way from the  physical lab notebook. You don't want to tear out  

00:16:35,280 --> 00:16:42,960
pages where you invalidate the integrity of  the notebook and make patent filing harder. 

00:16:44,480 --> 00:16:49,840
Finally, you know, when I'm talking about how  to go about doing it, clarifying and rephrasing,  

00:16:50,800 --> 00:16:57,280
you know, every day as you iterate on the ideas  is a great way to start small but keep building  

00:16:57,280 --> 00:17:02,000
on it. It's like accumulating interest, right?  You'll see the results of it at the end of the  

00:17:02,000 --> 00:17:06,800
life cycle of the project. Another thing they  found to be useful is once I've, you know,  

00:17:07,520 --> 00:17:11,600
figured out what works, generating a template  and sharing that with the rest of my team.  

00:17:13,120 --> 00:17:17,920
And finally, also recording negative results and  failures because it's a journey of arriving at the  

00:17:17,920 --> 00:17:23,120
final result rather than just, you know, a magical  solution that shows up in untitled notebook 23.  

00:17:23,920 --> 00:17:27,840
Maxim I use is to write it down and not need  it, rather than not write it down and need  

00:17:27,840 --> 00:17:35,360
it later on. This tool up on your screen  is one I use. Happy to chat more about it  

00:17:35,360 --> 00:17:40,320
in the Slack channel as well. I'm conscious of  time. I feel like I've overrun it a little bit.  

00:17:40,960 --> 00:17:46,640
I already touched on these AI ethics issues.  This is a great way of making that happen.  

00:17:46,640 --> 00:17:51,120
And finally, a little bit about the Montreal  AI Ethics Institute. If you want to learn more,  

00:17:51,120 --> 00:17:59,040
you can go on to that link. Thank you. Lilly: Perfect. You have about 30 seconds  

00:17:59,040 --> 00:18:06,918
left. So, perfect on the time. And I am wonder for  I can ask you a really quick question which is -- 

00:18:06,918 --> 00:18:09,600
Abhishek: Yes. Lilly: Which is if you could  

00:18:10,880 --> 00:18:16,160
explain version control about a lab notebook in  

00:18:16,160 --> 00:18:21,120
like 30 seconds for a researcher. Abhishek: Yeah. Absolutely. So,  

00:18:21,120 --> 00:18:27,520
the tool that I mentioned on the slides. Version  control for a lab notebook. Set up a template,  

00:18:28,960 --> 00:18:35,600
a markdown file or whatever format you preferred.  Setting that up and adding quote, unquote, pages  

00:18:35,600 --> 00:18:41,840
to if. It's version-controlled in the sense that  you would update a README file on the GitHub repo.  

00:18:41,840 --> 00:18:48,480
Doing that incrementally rather than making  changes where you have to go and do get diffs  

00:18:48,480 --> 00:18:55,840

YouTube URL: https://www.youtube.com/watch?v=4eDxD4YAQok


