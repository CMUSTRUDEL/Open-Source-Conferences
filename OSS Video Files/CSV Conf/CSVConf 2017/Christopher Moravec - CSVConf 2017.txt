Title: Christopher Moravec - CSVConf 2017
Publication date: 2017-06-04
Playlist: CSVConf 2017
Description: 
	
Captions: 
	00:00:00,190 --> 00:00:02,839
[Music]

00:00:05,359 --> 00:00:10,500
everybody next up we have a Christopher

00:00:08,189 --> 00:00:12,450
mark and he'll be talking about trends

00:00:10,500 --> 00:00:18,449
in data and time and space so let's give

00:00:12,450 --> 00:00:19,550
a round applause okay good morning

00:00:18,449 --> 00:00:22,470
everybody

00:00:19,550 --> 00:00:25,710
I'm Christopher as she said my

00:00:22,470 --> 00:00:28,710
background is in geospatial analysis and

00:00:25,710 --> 00:00:31,740
software development so this

00:00:28,710 --> 00:00:35,280
presentation will come in two parts it

00:00:31,740 --> 00:00:37,649
will come in some things that I think

00:00:35,280 --> 00:00:39,180
are kind of I want to call them mistakes

00:00:37,649 --> 00:00:41,640
because they can be totally valid

00:00:39,180 --> 00:00:44,879
decisions to make but things that I see

00:00:41,640 --> 00:00:47,280
people do that can lead to bias in your

00:00:44,879 --> 00:00:48,870
data when you're analyzing it from a

00:00:47,280 --> 00:00:51,059
geospatial point of view from where it

00:00:48,870 --> 00:00:53,010
is on the earth and then the second part

00:00:51,059 --> 00:00:56,160
will be a fun little journey that I've

00:00:53,010 --> 00:00:57,510
been on for the last three weeks with an

00:00:56,160 --> 00:01:00,719
organization here in Portland called

00:00:57,510 --> 00:01:03,510
hack Oregon and some interesting

00:01:00,719 --> 00:01:07,170
analysis that we did on some data there

00:01:03,510 --> 00:01:10,080
so first part of this is about location

00:01:07,170 --> 00:01:11,790
so I think everybody understands these

00:01:10,080 --> 00:01:13,530
different types of location we've got

00:01:11,790 --> 00:01:15,840
lat/long right so we've got two numbers

00:01:13,530 --> 00:01:18,930
comes from a phone GPS something like

00:01:15,840 --> 00:01:21,750
that there's this concept called spatial

00:01:18,930 --> 00:01:22,830
reference and datum which I promise I

00:01:21,750 --> 00:01:25,080
will not bore you to death with

00:01:22,830 --> 00:01:27,090
definitions here and we'll come back to

00:01:25,080 --> 00:01:29,909
that in a minute because it's important

00:01:27,090 --> 00:01:31,409
sometimes it's pretty even to that we've

00:01:29,909 --> 00:01:34,259
got other types of coordinates so if

00:01:31,409 --> 00:01:36,030
you've ever worked with data from a

00:01:34,259 --> 00:01:37,409
local government then a lot of times

00:01:36,030 --> 00:01:40,110
it'll be in something called a state

00:01:37,409 --> 00:01:41,670
plane we use these different types of

00:01:40,110 --> 00:01:44,070
coordinate systems and spatial

00:01:41,670 --> 00:01:45,899
references because sometimes we want to

00:01:44,070 --> 00:01:48,270
preserve location sometimes we want to

00:01:45,899 --> 00:01:49,530
preserve area or distance there are

00:01:48,270 --> 00:01:52,500
different purposes for different things

00:01:49,530 --> 00:01:55,680
so just be aware of them

00:01:52,500 --> 00:01:57,329
we've got addresses and geocoding that

00:01:55,680 --> 00:02:01,290
problem is actually way harder than

00:01:57,329 --> 00:02:02,939
everybody thinks you know everybody is

00:02:01,290 --> 00:02:04,170
kind of used to oh I'm just going to go

00:02:02,939 --> 00:02:06,540
to Google and I'm going to type that in

00:02:04,170 --> 00:02:07,890
well when you have 10 million address

00:02:06,540 --> 00:02:10,319
points that you need to convert from

00:02:07,890 --> 00:02:11,819
addresses to a point on a map so you can

00:02:10,319 --> 00:02:13,140
figure out where they are you can't type

00:02:11,819 --> 00:02:17,220
those into Google anymore

00:02:13,140 --> 00:02:18,390
I google gets upset when you try if you

00:02:17,220 --> 00:02:20,490
have to come up with different creative

00:02:18,390 --> 00:02:23,850
ways to figure out how to geocode that

00:02:20,490 --> 00:02:26,190
and how to get the data to power such a

00:02:23,850 --> 00:02:29,069
thing then there's kind of other simpler

00:02:26,190 --> 00:02:32,430
ways to locate things zip code cities

00:02:29,069 --> 00:02:34,170
counties States countries a lot of times

00:02:32,430 --> 00:02:35,880
you especially with addresses it's

00:02:34,170 --> 00:02:37,980
really easy to say oh look I've got zip

00:02:35,880 --> 00:02:40,290
codes BAM I know where that is right and

00:02:37,980 --> 00:02:42,239
that can be safe

00:02:40,290 --> 00:02:45,239
depending on your scale and we'll talk

00:02:42,239 --> 00:02:47,220
about that a little bit and and so these

00:02:45,239 --> 00:02:50,810
other kind of different scales of

00:02:47,220 --> 00:02:52,860
location type can be very important so

00:02:50,810 --> 00:02:55,320
with that we'll talk for a few minutes

00:02:52,860 --> 00:02:57,360
about scale so this is a silly map right

00:02:55,320 --> 00:02:59,700
you can't really see anything on this

00:02:57,360 --> 00:03:02,310
map but it's world cities that are above

00:02:59,700 --> 00:03:05,250
a certain population I don't remember

00:03:02,310 --> 00:03:07,800
which but anyway it's it's world cities

00:03:05,250 --> 00:03:09,420
and they are symbolized by population so

00:03:07,800 --> 00:03:12,630
there's all kinds of weird things going

00:03:09,420 --> 00:03:14,280
on in here and they're overlapping and

00:03:12,630 --> 00:03:17,190
you can't really see anything but the

00:03:14,280 --> 00:03:20,070
point is is that if I had information

00:03:17,190 --> 00:03:21,900
about cities I could do analysis at a

00:03:20,070 --> 00:03:24,060
global scale and I could get something

00:03:21,900 --> 00:03:25,890
out of it right if i zoom into France

00:03:24,060 --> 00:03:28,200
and I have only information about ten

00:03:25,890 --> 00:03:31,560
cities in France can i really say that I

00:03:28,200 --> 00:03:34,290
have trends within France and that

00:03:31,560 --> 00:03:36,600
that's kind of hard to say right so how

00:03:34,290 --> 00:03:39,480
you locate something is really all based

00:03:36,600 --> 00:03:43,140
on scale so cities work for high-level

00:03:39,480 --> 00:03:45,480
scales if I was going to work within the

00:03:43,140 --> 00:03:47,880
porti Portland City Limits cities don't

00:03:45,480 --> 00:03:50,459
work right because I'm basically just

00:03:47,880 --> 00:03:52,140
gonna have one or I might have cities

00:03:50,459 --> 00:03:57,000
nearby but I'm not going to have enough

00:03:52,140 --> 00:03:59,989
spatial trend to mean anything so the

00:03:57,000 --> 00:04:02,880
natural next easy thing is a zip code

00:03:59,989 --> 00:04:07,260
okay this is a super pet peeve of mine

00:04:02,880 --> 00:04:10,290
so I'm sorry but in Portland there are

00:04:07,260 --> 00:04:13,859
roughly 38 zip codes that intersect in

00:04:10,290 --> 00:04:17,160
some shape or form the city limits so

00:04:13,859 --> 00:04:18,750
you can see the dark color that's the

00:04:17,160 --> 00:04:20,940
portland city limits and the rest of it

00:04:18,750 --> 00:04:23,130
zip codes so you can see there are ones

00:04:20,940 --> 00:04:24,630
that are wholly contained there are ones

00:04:23,130 --> 00:04:25,950
that stick out there's one that stick

00:04:24,630 --> 00:04:27,600
out a little bit one that sticks

00:04:25,950 --> 00:04:29,280
a lot there's all kinds of weird things

00:04:27,600 --> 00:04:31,800
going on here right so if I have

00:04:29,280 --> 00:04:34,500
information that's bound by the city

00:04:31,800 --> 00:04:36,780
limits and I locate it by zip code what

00:04:34,500 --> 00:04:38,280
have I done because I've said that

00:04:36,780 --> 00:04:40,800
welfare if I'm on that zip code in the

00:04:38,280 --> 00:04:42,450
bottom that's the only a very small

00:04:40,800 --> 00:04:44,970
amount of my city right so now I've

00:04:42,450 --> 00:04:48,120
introduced spatial bias into that data

00:04:44,970 --> 00:04:50,400
by locating by zip code so what else

00:04:48,120 --> 00:04:53,370
could I do if I can't use zip codes well

00:04:50,400 --> 00:04:55,560
I could make up a grid it's totally

00:04:53,370 --> 00:04:57,180
arbitrary and I could locate and fill

00:04:55,560 --> 00:04:59,700
things in that way of course then I need

00:04:57,180 --> 00:05:01,500
to take addresses and I need XY data out

00:04:59,700 --> 00:05:05,670
of that so it's a much more complicated

00:05:01,500 --> 00:05:07,470
process at that point okay so a little

00:05:05,670 --> 00:05:09,930
bit more about zip codes and why this is

00:05:07,470 --> 00:05:11,880
important so I think everybody probably

00:05:09,930 --> 00:05:15,570
knows that Flint Michigan had a lead

00:05:11,880 --> 00:05:17,340
problem one of the reasons that they

00:05:15,570 --> 00:05:20,160
didn't find it very quickly is the

00:05:17,340 --> 00:05:23,760
people doing the spatial analysis we're

00:05:20,160 --> 00:05:26,400
grouping addresses by zip code and when

00:05:23,760 --> 00:05:28,530
they did that you can see see my mouse

00:05:26,400 --> 00:05:33,030
works you can see there's zip codes like

00:05:28,530 --> 00:05:35,370
this one up there right half-fish if I

00:05:33,030 --> 00:05:36,900
stretch it is inside the city limits and

00:05:35,370 --> 00:05:39,540
this lighter green color here and the

00:05:36,900 --> 00:05:41,340
other half is out so if I have if I have

00:05:39,540 --> 00:05:42,810
data that's telling me that inside the

00:05:41,340 --> 00:05:44,490
city limits which is a different water

00:05:42,810 --> 00:05:47,850
supplied and outside the city limits

00:05:44,490 --> 00:05:51,930
is doing something I've just averaged

00:05:47,850 --> 00:05:53,790
that problem right away right so zip

00:05:51,930 --> 00:05:58,470
codes provide an interesting problem

00:05:53,790 --> 00:05:59,430
here um they're also the codes are kind

00:05:58,470 --> 00:06:02,190
of weird because they're not actually

00:05:59,430 --> 00:06:03,990
polygons we always draw them as polygons

00:06:02,190 --> 00:06:05,850
but they are not there actually Road

00:06:03,990 --> 00:06:08,760
segments designed by the Postal Service

00:06:05,850 --> 00:06:10,470
to decide what order and how to get mail

00:06:08,760 --> 00:06:14,430
from one place another introduced in the

00:06:10,470 --> 00:06:19,070
60s and a friend reminded me yesterday

00:06:14,430 --> 00:06:21,210
that there's some really fun old

00:06:19,070 --> 00:06:23,310
mailings and things like that that that

00:06:21,210 --> 00:06:25,590
the that the government created mr. zip

00:06:23,310 --> 00:06:29,220
when they introduced the zip code in in

00:06:25,590 --> 00:06:30,390
the 60s and the whole thing was trying

00:06:29,220 --> 00:06:32,670
to get people to put it on their mail

00:06:30,390 --> 00:06:34,080
because until then you didn't have a zip

00:06:32,670 --> 00:06:36,690
code so you literally just put the

00:06:34,080 --> 00:06:38,970
address and so once it got to the state

00:06:36,690 --> 00:06:41,940
it was really hard to sort mail

00:06:38,970 --> 00:06:43,560
especially in big states right so zip

00:06:41,940 --> 00:06:45,270
codes fix that problem because they

00:06:43,560 --> 00:06:46,980
divided states up and they were able to

00:06:45,270 --> 00:06:47,940
route mail very quickly just by looking

00:06:46,980 --> 00:06:49,680
the zip code and didn't even pay

00:06:47,940 --> 00:06:51,720
attention to the address till it got to

00:06:49,680 --> 00:06:55,320
the destination post-office right so

00:06:51,720 --> 00:06:56,790
that helps if your mail carrier if

00:06:55,320 --> 00:07:00,510
you're trying to do spatial analysis it

00:06:56,790 --> 00:07:02,790
kind of messes things up so these are

00:07:00,510 --> 00:07:07,320
not really contiguous areas right there

00:07:02,790 --> 00:07:11,250
pieces of street they often cover and

00:07:07,320 --> 00:07:15,060
this is a good example both urban areas

00:07:11,250 --> 00:07:17,100
and rural areas so I'm doing weird

00:07:15,060 --> 00:07:19,620
averages here when I when I combine this

00:07:17,100 --> 00:07:21,990
data together they have very little or

00:07:19,620 --> 00:07:23,640
no socio-economic connection

00:07:21,990 --> 00:07:26,130
unfortunately because they're just

00:07:23,640 --> 00:07:29,130
random whether or not random they're

00:07:26,130 --> 00:07:30,870
organized by post-office but the other

00:07:29,130 --> 00:07:34,260
problem is is that everybody uses them

00:07:30,870 --> 00:07:35,700
oftentimes if you are getting like car

00:07:34,260 --> 00:07:38,040
insurance they ask you what your zip

00:07:35,700 --> 00:07:41,190
code is and that's how they decide how

00:07:38,040 --> 00:07:42,510
to charge you my guess is if I mean if I

00:07:41,190 --> 00:07:43,470
was running a car insurance company I

00:07:42,510 --> 00:07:45,690
probably want to know the difference

00:07:43,470 --> 00:07:47,220
between in and out because that probably

00:07:45,690 --> 00:07:49,680
makes a difference in the risk that of

00:07:47,220 --> 00:07:52,440
that person driving a car right so

00:07:49,680 --> 00:07:53,910
better choices census blocks census

00:07:52,440 --> 00:07:57,230
tracts things like that that are

00:07:53,910 --> 00:08:00,960
designed to more accurately represent

00:07:57,230 --> 00:08:02,460
groups of people neighborhoods can work

00:08:00,960 --> 00:08:04,590
especially as a communication mechanism

00:08:02,460 --> 00:08:06,419
once you understand the patterns in your

00:08:04,590 --> 00:08:08,070
data it's okay to go back and regroup

00:08:06,419 --> 00:08:10,770
things differently to try to communicate

00:08:08,070 --> 00:08:13,320
because a lot of times people see this

00:08:10,770 --> 00:08:15,950
and they're like what did you do I don't

00:08:13,320 --> 00:08:19,140
get it why is my city in a grid right so

00:08:15,950 --> 00:08:21,000
you can do and go back to neighborhoods

00:08:19,140 --> 00:08:23,760
so this whole problem here is called the

00:08:21,000 --> 00:08:26,220
modifiable aerial unit problem okay

00:08:23,760 --> 00:08:28,590
what that basically means is as a

00:08:26,220 --> 00:08:31,320
geospatial person you can introduce bias

00:08:28,590 --> 00:08:34,169
into your data based on how you select

00:08:31,320 --> 00:08:35,820
your spatial groupings okay so that's

00:08:34,169 --> 00:08:38,099
it's really important to select the

00:08:35,820 --> 00:08:41,339
right spatial grouping okay I'm done was

00:08:38,099 --> 00:08:42,750
it goes for now okay so spatial

00:08:41,339 --> 00:08:46,200
reference and datum I used to have this

00:08:42,750 --> 00:08:48,390
boss and I felt sorry

00:08:46,200 --> 00:08:50,220
every time we hired a new person because

00:08:48,390 --> 00:08:54,019
for the first week

00:08:50,220 --> 00:08:56,759
you sat with him and you did this

00:08:54,019 --> 00:08:58,589
spacial references and datums because he

00:08:56,759 --> 00:08:59,879
firmly believed that everyone needed to

00:08:58,589 --> 00:09:03,810
understand how to make super accurate

00:08:59,879 --> 00:09:05,040
data and while he wasn't wrong probably

00:09:03,810 --> 00:09:07,920
didn't need to torture every new

00:09:05,040 --> 00:09:11,579
employee with a week of this and so he

00:09:07,920 --> 00:09:14,089
used to say that the first lesson and I

00:09:11,579 --> 00:09:16,790
love these quotes the first lesson was

00:09:14,089 --> 00:09:19,500
the earth is round and maps are flat

00:09:16,790 --> 00:09:21,089
okay right so if you think about that

00:09:19,500 --> 00:09:22,529
that's kind of a tough problem to solve

00:09:21,089 --> 00:09:24,870
and we'll talk about that in a second

00:09:22,529 --> 00:09:27,870
the second lesson which is my favorite

00:09:24,870 --> 00:09:29,519
the earth is round sort of right kind of

00:09:27,870 --> 00:09:31,110
a pear shape really that makes it

00:09:29,519 --> 00:09:33,180
actually way harder to put it on paper

00:09:31,110 --> 00:09:36,360
so we have all kinds of distortions that

00:09:33,180 --> 00:09:37,439
get to get put into this so if we just

00:09:36,360 --> 00:09:39,540
keep it simple when we talk about

00:09:37,439 --> 00:09:41,459
latitude and longitude pretty sure

00:09:39,540 --> 00:09:44,220
everybody is probably familiar with the

00:09:41,459 --> 00:09:46,800
idea of how lat/long works on the globe

00:09:44,220 --> 00:09:49,500
right so remember each one of those

00:09:46,800 --> 00:09:52,230
squares represents a certain degree of

00:09:49,500 --> 00:09:54,959
latitude and longitude they're bigger at

00:09:52,230 --> 00:09:56,970
the equator smaller at the poles

00:09:54,959 --> 00:09:58,920
that's some serious distortion right

00:09:56,970 --> 00:10:00,779
when I try to lay it out okay so things

00:09:58,920 --> 00:10:02,819
to be aware of because distance is very

00:10:00,779 --> 00:10:05,220
calculating distances and lat/long is

00:10:02,819 --> 00:10:10,949
basically totally false okay you can't

00:10:05,220 --> 00:10:12,629
really do it so several years ago big

00:10:10,949 --> 00:10:14,069
company created some well actually

00:10:12,629 --> 00:10:16,829
bought another company and created

00:10:14,069 --> 00:10:18,839
Google Earth out of it and now we have

00:10:16,829 --> 00:10:20,730
web Maps and we created a projection

00:10:18,839 --> 00:10:22,559
based on a Mercator projection called

00:10:20,730 --> 00:10:24,420
Google web Mercator common name for it

00:10:22,559 --> 00:10:26,009
and we try to solve some of these

00:10:24,420 --> 00:10:28,500
problems by making it really easy to

00:10:26,009 --> 00:10:31,529
render data really fast on the Internet

00:10:28,500 --> 00:10:33,629
and we left behind all of the problems

00:10:31,529 --> 00:10:34,980
of how do we compute distances so we

00:10:33,629 --> 00:10:36,600
have to do a lot of work to figure out

00:10:34,980 --> 00:10:38,370
how to compute distances in things like

00:10:36,600 --> 00:10:42,470
Google web Mercator even though Google

00:10:38,370 --> 00:10:44,129
tries to make it super simple okay I

00:10:42,470 --> 00:10:46,019
promise we're almost done with the

00:10:44,129 --> 00:10:49,620
boring part of this presentation the

00:10:46,019 --> 00:10:53,160
last thing is about datums datums are

00:10:49,620 --> 00:10:57,029
and try to explain this simply because

00:10:53,160 --> 00:11:00,449
it's messy but basically the earth has

00:10:57,029 --> 00:11:01,540
different surfaces right so the location

00:11:00,449 --> 00:11:03,490
of the earth

00:11:01,540 --> 00:11:05,800
different locations on the earth have

00:11:03,490 --> 00:11:07,570
different base elevations zero elevation

00:11:05,800 --> 00:11:09,850
is not always the same everywhere on the

00:11:07,570 --> 00:11:13,300
earth so we use datums to try to

00:11:09,850 --> 00:11:16,210
differentiate those things okay and we

00:11:13,300 --> 00:11:17,860
can use local datums for local data we

00:11:16,210 --> 00:11:22,600
can use global datums for global data

00:11:17,860 --> 00:11:24,490
but to illustrate the problem those two

00:11:22,600 --> 00:11:26,740
coordinates are the coordinates from

00:11:24,490 --> 00:11:29,920
Google Maps when you type in the Elliot

00:11:26,740 --> 00:11:32,080
Center in Portland okay the green dot is

00:11:29,920 --> 00:11:34,720
if I take those two numbers and I say

00:11:32,080 --> 00:11:38,290
these are in datum a which is what's

00:11:34,720 --> 00:11:40,450
called wgs84 which is what Google web

00:11:38,290 --> 00:11:44,260
Mercator and all of the web maps in most

00:11:40,450 --> 00:11:46,540
places are based on the blue dot is when

00:11:44,260 --> 00:11:50,410
I say it's an ad 83 which is a slightly

00:11:46,540 --> 00:11:52,660
less common datum but still very useful

00:11:50,410 --> 00:11:53,830
if I'm doing if I'm working with data

00:11:52,660 --> 00:11:57,670
inside the continental United States

00:11:53,830 --> 00:11:58,890
they're four feet apart okay now so I'm

00:11:57,670 --> 00:12:01,240
going to abrogate something by zip code

00:11:58,890 --> 00:12:03,370
don't do that I'm gonna have your gauge

00:12:01,240 --> 00:12:04,990
something by polygon it doesn't matter

00:12:03,370 --> 00:12:06,250
if I'm building a self-driving car

00:12:04,990 --> 00:12:09,490
that's the difference between hitting

00:12:06,250 --> 00:12:12,490
the pedestrian on the sidewalk and being

00:12:09,490 --> 00:12:14,890
in the lane correctly right so these

00:12:12,490 --> 00:12:19,030
matter but it's all about scale at the

00:12:14,890 --> 00:12:20,080
end of the day okay all right okay one

00:12:19,030 --> 00:12:23,320
more thing and then we'll be done with

00:12:20,080 --> 00:12:26,320
the boring part analyzing analyzing data

00:12:23,320 --> 00:12:29,350
heat maps versus hot spots so heat map

00:12:26,320 --> 00:12:31,650
are basically a way to take point data

00:12:29,350 --> 00:12:34,720
and look at density so I can color a

00:12:31,650 --> 00:12:35,950
bunch of points to tell how dense they

00:12:34,720 --> 00:12:39,790
are but it's not telling me what a

00:12:35,950 --> 00:12:44,590
statistical trend is okay so here is an

00:12:39,790 --> 00:12:47,820
example of places to eat in Houston and

00:12:44,590 --> 00:12:49,780
basically this this app is made with

00:12:47,820 --> 00:12:51,880
restaurant inspection data we're

00:12:49,780 --> 00:12:54,370
actually looking to see if location

00:12:51,880 --> 00:12:57,250
within the city indicated at all whether

00:12:54,370 --> 00:12:59,400
or not someone would pass or fail a

00:12:57,250 --> 00:13:01,780
restaurant inspection the answer is no

00:12:59,400 --> 00:13:03,460
you are like you are just as likely to

00:13:01,780 --> 00:13:05,500
fail whether you're in a very affluent

00:13:03,460 --> 00:13:06,600
part-owned or very poor part time it

00:13:05,500 --> 00:13:11,140
does not matter

00:13:06,600 --> 00:13:12,610
interesting does it so this gives us a

00:13:11,140 --> 00:13:14,290
really easy way to tell where Chinese

00:13:12,610 --> 00:13:15,260
food is it happens to line up with

00:13:14,290 --> 00:13:18,110
Chinatown and you

00:13:15,260 --> 00:13:20,090
in perfect we know the data worked the

00:13:18,110 --> 00:13:22,370
thing that I found really interesting is

00:13:20,090 --> 00:13:23,330
that when you look at Vietnamese food it

00:13:22,370 --> 00:13:25,580
was right on the other side of a highway

00:13:23,330 --> 00:13:27,680
I didn't know that turns out there's a

00:13:25,580 --> 00:13:30,860
really good Vietnamese food there but

00:13:27,680 --> 00:13:32,330
heat maps also can hide data and so when

00:13:30,860 --> 00:13:35,720
I switched to this local mode these are

00:13:32,330 --> 00:13:38,240
restaurants that identify as local local

00:13:35,720 --> 00:13:41,330
cuisine I don't know what local cuisine

00:13:38,240 --> 00:13:42,740
is in Houston but ok so yeah so I'm not

00:13:41,330 --> 00:13:44,330
seeing a trend right there's nothing

00:13:42,740 --> 00:13:46,580
here that I can really make out of other

00:13:44,330 --> 00:13:50,780
than Wow yeah huge restaurants are in

00:13:46,580 --> 00:13:53,810
Houston perfect on the other hand

00:13:50,780 --> 00:13:55,880
hotspots give us a way to look at

00:13:53,810 --> 00:13:58,280
statistical trends of data okay now

00:13:55,880 --> 00:14:01,460
these can hide problems just as much as

00:13:58,280 --> 00:14:04,490
the next thing but I also have two modes

00:14:01,460 --> 00:14:06,920
here I can use points and I can look at

00:14:04,490 --> 00:14:09,020
their density like a hot spot or like in

00:14:06,920 --> 00:14:14,150
a heat map or I can look at an extra

00:14:09,020 --> 00:14:15,860
attribute so like income level or number

00:14:14,150 --> 00:14:17,120
of victims in a crime or different

00:14:15,860 --> 00:14:18,860
things like that and look for trends

00:14:17,120 --> 00:14:23,230
both in spatial coincidence and in

00:14:18,860 --> 00:14:25,430
attribute coincidence okay so if I take

00:14:23,230 --> 00:14:27,350
one year's worth of crime data in

00:14:25,430 --> 00:14:30,380
Portland and I put it on a map then I

00:14:27,350 --> 00:14:32,500
get this so statistically this is

00:14:30,380 --> 00:14:35,030
telling us that there are more crimes

00:14:32,500 --> 00:14:38,270
significantly in the center of the city

00:14:35,030 --> 00:14:39,470
than there are on the edges well I mean

00:14:38,270 --> 00:14:40,880
we think we all kind of know that in

00:14:39,470 --> 00:14:42,800
most cities basically look like this

00:14:40,880 --> 00:14:44,810
when you when you look at that data but

00:14:42,800 --> 00:14:47,270
for kicks if we look at a heat map of

00:14:44,810 --> 00:14:49,010
the same thing we see a similar story

00:14:47,270 --> 00:14:50,960
but it's not quite as clear there's

00:14:49,010 --> 00:14:52,430
other kind of pieces that look like

00:14:50,960 --> 00:14:55,700
maybe they're a little bit more

00:14:52,430 --> 00:14:58,910
important okay so this was important

00:14:55,700 --> 00:15:00,560
because for the last three weeks I've

00:14:58,910 --> 00:15:03,410
been working with an organization called

00:15:00,560 --> 00:15:07,670
hack Oregon and their goal is to kind of

00:15:03,410 --> 00:15:09,290
work with the government and and local

00:15:07,670 --> 00:15:11,660
data and try to make everything

00:15:09,290 --> 00:15:14,750
available to both people and back to the

00:15:11,660 --> 00:15:17,360
government in a useful way and we had a

00:15:14,750 --> 00:15:19,250
really unique opportunity in that we

00:15:17,360 --> 00:15:21,290
were given 10 years worth of voter

00:15:19,250 --> 00:15:25,340
registration data for Bolton Alma County

00:15:21,290 --> 00:15:28,220
which is where Portland sits so we got

00:15:25,340 --> 00:15:29,690
from 2006 to 2016 so I guess really 11

00:15:28,220 --> 00:15:32,390
years of data

00:15:29,690 --> 00:15:33,950
it was registered voter and address so

00:15:32,390 --> 00:15:35,810
this data is a little sensitive in that

00:15:33,950 --> 00:15:37,220
you can take a person and you can see

00:15:35,810 --> 00:15:40,490
where they've moved over the last ten

00:15:37,220 --> 00:15:42,950
years so it's a little sensitive but it

00:15:40,490 --> 00:15:45,050
is also public at least the most current

00:15:42,950 --> 00:15:46,430
year is you can pay for and get it

00:15:45,050 --> 00:15:48,290
anyway

00:15:46,430 --> 00:15:50,090
there were several - between two and

00:15:48,290 --> 00:15:56,330
four files per year basically organized

00:15:50,090 --> 00:15:58,460
by election cycle it was all in CSV was

00:15:56,330 --> 00:16:00,710
actually very well structured data types

00:15:58,460 --> 00:16:03,890
were super clean it was actually really

00:16:00,710 --> 00:16:05,660
easy to ingest the data what was hard

00:16:03,890 --> 00:16:07,850
was getting it into points on a map I

00:16:05,660 --> 00:16:10,610
had to leave several behind because I

00:16:07,850 --> 00:16:12,710
couldn't get real geo coded addresses

00:16:10,610 --> 00:16:14,060
for them so I ended up with about 3.8

00:16:12,710 --> 00:16:19,160
million records and when you put it on a

00:16:14,060 --> 00:16:21,740
map it looks like that so I put on a map

00:16:19,160 --> 00:16:23,210
and then they said well can you tell us

00:16:21,740 --> 00:16:24,530
where the young people are can you tell

00:16:23,210 --> 00:16:26,660
us where people are moving in the city

00:16:24,530 --> 00:16:29,510
can you look for trends in time and

00:16:26,660 --> 00:16:33,050
motion of people sure let's look at a

00:16:29,510 --> 00:16:33,830
heat map okay I don't know what that

00:16:33,050 --> 00:16:38,210
means either

00:16:33,830 --> 00:16:40,280
so there are definitely hotspots there's

00:16:38,210 --> 00:16:42,410
definitely concentration of people

00:16:40,280 --> 00:16:43,850
within different neighborhoods if you're

00:16:42,410 --> 00:16:46,160
familiar with Portland you can probably

00:16:43,850 --> 00:16:47,180
pick out where these hotspots are and

00:16:46,160 --> 00:16:51,500
you're kind of going yeah that makes

00:16:47,180 --> 00:16:54,170
some sense so then we did a slightly

00:16:51,500 --> 00:16:56,930
more sophisticated analysis on it so

00:16:54,170 --> 00:16:59,750
what we did is we did hotspot analysis

00:16:56,930 --> 00:17:02,150
so we're looking for spatial trends for

00:16:59,750 --> 00:17:05,180
the number of people in a grid and a

00:17:02,150 --> 00:17:07,459
grid cell in this case and we did it

00:17:05,180 --> 00:17:09,829
over time so we did it once for each

00:17:07,459 --> 00:17:11,120
year and we had to do a little bit of

00:17:09,829 --> 00:17:12,500
repair on the data to kind of fill in

00:17:11,120 --> 00:17:15,740
the bumps because it had these weird

00:17:12,500 --> 00:17:20,089
election cycles it's not perfect but we

00:17:15,740 --> 00:17:21,980
don't have three weeks so basically what

00:17:20,089 --> 00:17:24,320
this shows us is that there is no trend

00:17:21,980 --> 00:17:27,350
in motion other than the trend we expect

00:17:24,320 --> 00:17:30,080
people move into the city the inner city

00:17:27,350 --> 00:17:31,880
is becoming more dense the areas around

00:17:30,080 --> 00:17:34,490
the city kind of have an oscillating

00:17:31,880 --> 00:17:36,050
motion some years it's increasing in

00:17:34,490 --> 00:17:37,940
population some years it's decreasing

00:17:36,050 --> 00:17:40,700
and you get all the way out here to

00:17:37,940 --> 00:17:42,630
these darker red surrounded by white and

00:17:40,700 --> 00:17:45,990
this is I forget the name of the

00:17:42,630 --> 00:17:51,270
but it's the it's the boundary of where

00:17:45,990 --> 00:17:53,850
the city the what urban growth boundary

00:17:51,270 --> 00:17:55,530
that's the one thank you so that it

00:17:53,850 --> 00:17:58,890
basically lines up perfectly which is

00:17:55,530 --> 00:18:00,570
really cool because that that means our

00:17:58,890 --> 00:18:06,420
data is actually telling us something

00:18:00,570 --> 00:18:08,190
interesting okay so with that the the I

00:18:06,420 --> 00:18:10,560
think interesting part of this is that

00:18:08,190 --> 00:18:12,390
when you're doing sorry I can't it's on

00:18:10,560 --> 00:18:16,530
my screen when you're doing data

00:18:12,390 --> 00:18:18,150
analysis like this at least I tend to

00:18:16,530 --> 00:18:19,410
get stuck thinking oh I need to put this

00:18:18,150 --> 00:18:21,120
on a map oh I need to see where

00:18:19,410 --> 00:18:22,860
everybody is and what we found very

00:18:21,120 --> 00:18:25,100
quickly is that looking at it from a map

00:18:22,860 --> 00:18:27,270
point of view was the wrong way to start

00:18:25,100 --> 00:18:29,730
because we couldn't figure out the

00:18:27,270 --> 00:18:32,760
trends spatially so we had to find

00:18:29,730 --> 00:18:35,010
trends in another way so we found some

00:18:32,760 --> 00:18:36,660
interesting things so all of this was

00:18:35,010 --> 00:18:38,730
based on the premise that there's a

00:18:36,660 --> 00:18:40,740
housing crisis in Portland and if you're

00:18:38,730 --> 00:18:42,180
from Portland you probably agree with

00:18:40,740 --> 00:18:43,290
that if you're not from Portland you

00:18:42,180 --> 00:18:44,940
have no idea what I'm talking about

00:18:43,290 --> 00:18:47,040
that's okay

00:18:44,940 --> 00:18:49,020
suffice it to say that housing is very

00:18:47,040 --> 00:18:51,690
expensive here for everyone across the

00:18:49,020 --> 00:18:53,460
board okay so some of the interesting

00:18:51,690 --> 00:18:55,320
things we found in this data average

00:18:53,460 --> 00:18:57,720
voters are getting older very quickly

00:18:55,320 --> 00:19:00,360
over the last ten years it's gone up

00:18:57,720 --> 00:19:05,280
about four or five years which is kind

00:19:00,360 --> 00:19:07,140
of an interesting problem we said we

00:19:05,280 --> 00:19:09,690
basically we're looking for that trend

00:19:07,140 --> 00:19:12,840
in space and we couldn't find it so we

00:19:09,690 --> 00:19:14,730
said well if we have maybe shared

00:19:12,840 --> 00:19:17,940
households will tell us something so for

00:19:14,730 --> 00:19:19,800
voters in the same address will we find

00:19:17,940 --> 00:19:21,930
anything what we found is that it

00:19:19,800 --> 00:19:24,330
significantly increased over 10 years so

00:19:21,930 --> 00:19:26,760
went from four and a half percent to

00:19:24,330 --> 00:19:28,500
nine or so percent of all registered

00:19:26,760 --> 00:19:30,330
voters are now participating in a shared

00:19:28,500 --> 00:19:31,560
housing environment so there's four or

00:19:30,330 --> 00:19:33,180
more of them living in the same place

00:19:31,560 --> 00:19:35,430
and it was kind of like well that's

00:19:33,180 --> 00:19:39,540
interesting right so then you look at

00:19:35,430 --> 00:19:41,310
Ages everybody's still getting older so

00:19:39,540 --> 00:19:43,170
then we looked at distribution of age

00:19:41,310 --> 00:19:45,060
and this is the one that kind of got us

00:19:43,170 --> 00:19:48,960
thinking about maybe we started wrong

00:19:45,060 --> 00:19:51,360
looking for patterns so we basically saw

00:19:48,960 --> 00:19:53,730
two peaks we see a young cohort and an

00:19:51,360 --> 00:19:55,680
older cohort and that younger cohort you

00:19:53,730 --> 00:19:57,660
can all explain right because yeah

00:19:55,680 --> 00:20:01,740
people live together in apartment to

00:19:57,660 --> 00:20:05,430
save money to the older cohort do that I

00:20:01,740 --> 00:20:07,050
don't that's probably not so it turns

00:20:05,430 --> 00:20:09,240
out is actually more like energy

00:20:07,050 --> 00:20:11,700
intergenerational households so it's

00:20:09,240 --> 00:20:13,020
young people living at home longer when

00:20:11,700 --> 00:20:15,090
you look at the average age of the

00:20:13,020 --> 00:20:16,770
household it fits right in between and

00:20:15,090 --> 00:20:18,180
it's also getting older which is a weird

00:20:16,770 --> 00:20:20,310
problem in Portland because basically

00:20:18,180 --> 00:20:23,550
everybody thinks young people are moving

00:20:20,310 --> 00:20:27,200
here to retire and what's happening is

00:20:23,550 --> 00:20:31,230
we're all getting older instead so we

00:20:27,200 --> 00:20:33,420
did end up going back to the map and we

00:20:31,230 --> 00:20:35,970
look at the age of households in

00:20:33,420 --> 00:20:37,710
neighborhoods and and what's interesting

00:20:35,970 --> 00:20:41,010
is this trend kind of goes from the

00:20:37,710 --> 00:20:44,340
outside and it squeezes in I don't know

00:20:41,010 --> 00:20:46,770
why we think that there's there's

00:20:44,340 --> 00:20:49,500
probably some some causality in the fact

00:20:46,770 --> 00:20:51,330
that outer neighborhoods tend to be a

00:20:49,500 --> 00:20:52,980
little less expensive so that's kind of

00:20:51,330 --> 00:20:56,130
where it started and it moves in towards

00:20:52,980 --> 00:20:58,290
the center of the city and the last

00:20:56,130 --> 00:21:00,810
thing we did was to try to understand

00:20:58,290 --> 00:21:05,520
where youth are in the city we said if

00:21:00,810 --> 00:21:07,170
you were 21 in 2006 and you started in

00:21:05,520 --> 00:21:08,850
one of these four neighborhoods here

00:21:07,170 --> 00:21:11,520
that are relatively well known in

00:21:08,850 --> 00:21:13,770
Portland where did you go and the answer

00:21:11,520 --> 00:21:15,510
was kind of everywhere people young

00:21:13,770 --> 00:21:18,000
people made it work in some way and

00:21:15,510 --> 00:21:20,040
about 60% of young Portlanders remained

00:21:18,000 --> 00:21:23,640
in Portland don't know where the 40

00:21:20,040 --> 00:21:25,590
other 40% went some of them probably are

00:21:23,640 --> 00:21:27,810
still in Oregon they're probably not

00:21:25,590 --> 00:21:32,970
very far away because we don't have data

00:21:27,810 --> 00:21:36,450
for neighboring cities or even suburbs

00:21:32,970 --> 00:21:38,160
really but some of them probably also

00:21:36,450 --> 00:21:39,960
left there's also a problem in voter

00:21:38,160 --> 00:21:42,600
registration data when you leave a place

00:21:39,960 --> 00:21:44,520
you don't tell anyone you just go to the

00:21:42,600 --> 00:21:46,080
new place and you eventually sign up so

00:21:44,520 --> 00:21:47,880
there's some lag in here I think people

00:21:46,080 --> 00:21:49,320
arrive we don't know exactly when they

00:21:47,880 --> 00:21:51,270
arrive but we make an assumption they

00:21:49,320 --> 00:21:53,160
arrive when they register to vote did

00:21:51,270 --> 00:21:57,000
everybody register to vote when the last

00:21:53,160 --> 00:21:58,680
time they moved probably not yes perfect

00:21:57,000 --> 00:22:00,300
thank you for keeping the data clean

00:21:58,680 --> 00:22:01,950
also could you send a letter to your

00:22:00,300 --> 00:22:04,830
previous location and tell them you're

00:22:01,950 --> 00:22:08,620
gone they wouldn't know what to do with

00:22:04,830 --> 00:22:10,510
it so the last thing

00:22:08,620 --> 00:22:13,900
while we were doing this presentation on

00:22:10,510 --> 00:22:15,700
Monday night somebody asked me yeah okay

00:22:13,900 --> 00:22:17,110
you can you can kind of see this but it

00:22:15,700 --> 00:22:19,059
looks like there's some gaps and where

00:22:17,110 --> 00:22:21,010
people are traveling around the city so

00:22:19,059 --> 00:22:24,520
I thought well we needed a different way

00:22:21,010 --> 00:22:27,910
to look at it so I built a heat map over

00:22:24,520 --> 00:22:29,500
time and I think this shows a little bit

00:22:27,910 --> 00:22:31,650
better how the concentration both

00:22:29,500 --> 00:22:36,760
remains in the original neighborhood and

00:22:31,650 --> 00:22:39,280
also spreads out but kind of interesting

00:22:36,760 --> 00:22:41,140
because about of the 60% that remain in

00:22:39,280 --> 00:22:43,270
Portland almost 40% of them stay in

00:22:41,140 --> 00:22:45,670
their original neighborhood so they

00:22:43,270 --> 00:22:47,800
don't actually go too far but there are

00:22:45,670 --> 00:22:49,090
quite a few people that go all over and

00:22:47,800 --> 00:22:50,920
so this is one of the reasons why we

00:22:49,090 --> 00:22:53,830
couldn't find a trend in all of the data

00:22:50,920 --> 00:22:57,460
because people moved so much that it

00:22:53,830 --> 00:22:59,440
kind of negated the negative motion you

00:22:57,460 --> 00:23:01,390
would see in a certain neighborhood into

00:22:59,440 --> 00:23:03,190
positive motion somewhere else and but

00:23:01,390 --> 00:23:04,840
somebody else was also moving in so it

00:23:03,190 --> 00:23:08,440
kind of all balanced out which is kind

00:23:04,840 --> 00:23:09,880
of weird and problematic data so we've

00:23:08,440 --> 00:23:12,040
only had it for three weeks we got a lot

00:23:09,880 --> 00:23:14,590
more work to go and a lot more due

00:23:12,040 --> 00:23:17,200
diligence to to work on this data but I

00:23:14,590 --> 00:23:19,910
think with that I will take any

00:23:17,200 --> 00:23:24,870
questions if there's a few minutes left

00:23:19,910 --> 00:23:27,990
[Applause]

00:23:24,870 --> 00:23:27,990
[Music]

00:23:29,840 --> 00:23:31,900

YouTube URL: https://www.youtube.com/watch?v=9gAuapWREU4


