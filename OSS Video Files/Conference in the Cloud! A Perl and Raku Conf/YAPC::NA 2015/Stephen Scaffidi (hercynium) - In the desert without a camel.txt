Title: Stephen Scaffidi (hercynium) - In the desert without a camel
Publication date: 2015-06-16
Playlist: YAPC::NA 2015
Description: 
	Ballroom B - Little America Hotel
Due to Youtube restrictions we will be broadcasting with a lower bitrate.
Captions: 
	00:00:00,000 --> 00:00:07,859
anyway this is about being in dev ops

00:00:04,710 --> 00:00:10,920
and in a place where well there's just

00:00:07,859 --> 00:00:13,139
not very much pearl and I know this is a

00:00:10,920 --> 00:00:15,059
pearl conference and you're all here to

00:00:13,139 --> 00:00:17,430
learn about pearl and I'll bet some of

00:00:15,059 --> 00:00:21,359
you actually you know know the language

00:00:17,430 --> 00:00:24,689
and use it at work so this talk is going

00:00:21,359 --> 00:00:26,510
to be rather light on pearl just wanted

00:00:24,689 --> 00:00:29,279
to be upfront with you I I know it's a

00:00:26,510 --> 00:00:30,480
shocking I apologize in advance for any

00:00:29,279 --> 00:00:32,669
disappointment and I lay the blame

00:00:30,480 --> 00:00:35,520
firmly on the conference organizers for

00:00:32,669 --> 00:00:39,059
approving my talk in the first place but

00:00:35,520 --> 00:00:41,250
in all seriousness i'm gonna tell you

00:00:39,059 --> 00:00:44,789
about how i've managed to make very good

00:00:41,250 --> 00:00:46,620
use of pearl in places where a lot of

00:00:44,789 --> 00:00:50,100
people either just don't know how to

00:00:46,620 --> 00:00:52,739
make it work or how to use it or just

00:00:50,100 --> 00:00:54,270
like you know Sipan is a key or the

00:00:52,739 --> 00:00:55,890
system pearl doesn't support this

00:00:54,270 --> 00:01:00,350
because i'm running santa was five or

00:00:55,890 --> 00:01:08,159
whatever so but you know other than that

00:01:00,350 --> 00:01:11,549
uh it's not got much pearl in it so i am

00:01:08,159 --> 00:01:13,500
a systems engineer well a DevOps

00:01:11,549 --> 00:01:15,600
engineer i guess you might say I work

00:01:13,500 --> 00:01:17,700
for tripadvisor which is the largest

00:01:15,600 --> 00:01:20,600
travel review site in the world and I

00:01:17,700 --> 00:01:25,770
work in the data warehouse team managed

00:01:20,600 --> 00:01:27,720
basically a ever growing Hadoop cluster

00:01:25,770 --> 00:01:29,729
that we use for all sorts of purposes

00:01:27,720 --> 00:01:32,430
and all that's in Java and the

00:01:29,729 --> 00:01:35,009
tripadvisor site is in Java and you know

00:01:32,430 --> 00:01:37,140
lots of Java and a lot of our ops people

00:01:35,009 --> 00:01:40,500
we've got some great ops people but they

00:01:37,140 --> 00:01:42,840
either don't know pearl or um you know

00:01:40,500 --> 00:01:44,310
that they prefer Python Ruby and

00:01:42,840 --> 00:01:48,360
preferences are great I prefer pearl

00:01:44,310 --> 00:01:51,780
myself but I do them all though its crop

00:01:48,360 --> 00:01:55,020
it's crazy how many people basically

00:01:51,780 --> 00:01:56,130
have never learned pearl and they just

00:01:55,020 --> 00:01:59,909
don't like it based on what they've read

00:01:56,130 --> 00:02:03,180
on hacker news and you know and if you

00:01:59,909 --> 00:02:04,770
give them good examples though you know

00:02:03,180 --> 00:02:07,020
they can actually see that there's a lot

00:02:04,770 --> 00:02:09,420
in there in the language but then there

00:02:07,020 --> 00:02:11,670
are all the stumbling blocks of well you

00:02:09,420 --> 00:02:13,740
know we're running said it was six still

00:02:11,670 --> 00:02:16,410
and this module I wanted

00:02:13,740 --> 00:02:19,320
use you know didn't install because sin

00:02:16,410 --> 00:02:22,530
os6 doesn't deploy Sipan and whatever

00:02:19,320 --> 00:02:25,260
but um you know when you're automating

00:02:22,530 --> 00:02:26,700
things you're collecting info you're

00:02:25,260 --> 00:02:29,100
building you know a little like you eyes

00:02:26,700 --> 00:02:30,600
and web interfaces and all that you can

00:02:29,100 --> 00:02:32,760
do it with you know with Ruby and Python

00:02:30,600 --> 00:02:36,500
and sometimes you know pearl is just a

00:02:32,760 --> 00:02:39,120
stronger tool and sometimes it isn't

00:02:36,500 --> 00:02:42,780
well it's not always the best tool for

00:02:39,120 --> 00:02:46,980
the job you know and it's a judgment

00:02:42,780 --> 00:02:48,810
call so let me get on with it you know

00:02:46,980 --> 00:02:51,210
maybe we'll talk a bit more about the

00:02:48,810 --> 00:02:52,920
psychology of using Perl in a place

00:02:51,210 --> 00:02:54,720
where everybody says they don't like

00:02:52,920 --> 00:02:56,190
pearl and the few people who do say they

00:02:54,720 --> 00:03:03,120
like it unfortunately our coding like

00:02:56,190 --> 00:03:05,010
it's 1995 so uh you know the main thing

00:03:03,120 --> 00:03:09,240
is to solve some of the issues that

00:03:05,010 --> 00:03:10,710
people have right up front and and as a

00:03:09,240 --> 00:03:12,060
system administrator I usually have the

00:03:10,710 --> 00:03:13,500
power to do that but even if you're not

00:03:12,060 --> 00:03:15,930
a system administrator I think there are

00:03:13,500 --> 00:03:18,960
a lot of tips here that will help you

00:03:15,930 --> 00:03:21,090
out either in coercing the other sis

00:03:18,960 --> 00:03:24,270
admin's or just working around you know

00:03:21,090 --> 00:03:28,050
what seems to be fixed already fixed or

00:03:24,270 --> 00:03:30,210
broken I guess you know so these are

00:03:28,050 --> 00:03:34,080
valid reasons that people you know avoid

00:03:30,210 --> 00:03:36,960
using Perl you know no c compiler is

00:03:34,080 --> 00:03:39,210
available for doing excess faced you

00:03:36,960 --> 00:03:43,770
know modules installing those in using

00:03:39,210 --> 00:03:45,390
them you know worry about breakages and

00:03:43,770 --> 00:03:48,060
Sipan dependencies which they're all

00:03:45,390 --> 00:03:50,190
sorts of ways to resolve that you know

00:03:48,060 --> 00:03:53,520
we're not wanting to require users to

00:03:50,190 --> 00:03:54,690
even have C pan or or they don't have

00:03:53,520 --> 00:03:57,630
you know where they're going to deploy

00:03:54,690 --> 00:04:01,170
or develop don't have access and over

00:03:57,630 --> 00:04:04,110
the Internet or worst of all red hat or

00:04:01,170 --> 00:04:05,670
sent OS based systems where you know

00:04:04,110 --> 00:04:07,500
it's either got an ancient version pearl

00:04:05,670 --> 00:04:09,600
pearl is compiled in a funny way that

00:04:07,500 --> 00:04:12,390
breaks things and just baffling

00:04:09,600 --> 00:04:14,250
frustrating ways oh and you know missing

00:04:12,390 --> 00:04:16,920
core modules from the base install and

00:04:14,250 --> 00:04:18,780
you know things like that in fact I

00:04:16,920 --> 00:04:21,630
recently discovered that a minimal

00:04:18,780 --> 00:04:24,120
install of Senna was six I think doesn't

00:04:21,630 --> 00:04:26,940
even have pearl installed like if you do

00:04:24,120 --> 00:04:27,630
a very minimal installation and if you

00:04:26,940 --> 00:04:31,310
just install

00:04:27,630 --> 00:04:36,000
pearl you don't get the seat pan client

00:04:31,310 --> 00:04:38,640
but we have solutions so the simplest

00:04:36,000 --> 00:04:40,020
fix that you've probably heard about and

00:04:38,640 --> 00:04:41,760
if you haven't I'm telling you now it's

00:04:40,020 --> 00:04:43,620
called pearl brew and it's made of

00:04:41,760 --> 00:04:45,540
rainbows and awesome sauce and it

00:04:43,620 --> 00:04:49,680
contains ninja monkeys that fly out your

00:04:45,540 --> 00:04:51,540
screen and make you a superhero it what

00:04:49,680 --> 00:04:54,390
it is if you don't know is it's a tool

00:04:51,540 --> 00:04:55,950
that you can doubt use to download and

00:04:54,390 --> 00:04:58,410
compile whatever version of Perl you

00:04:55,950 --> 00:05:00,390
want into your home directory into a

00:04:58,410 --> 00:05:02,010
folder in your home directory and you

00:05:00,390 --> 00:05:04,950
can do multiple versions of pearl and

00:05:02,010 --> 00:05:06,930
switch between them with the command it

00:05:04,950 --> 00:05:11,850
works with your shell and it's insanely

00:05:06,930 --> 00:05:16,010
easy to use basically you know it you

00:05:11,850 --> 00:05:18,600
can just download it as a one-liner and

00:05:16,010 --> 00:05:21,300
run it through bash it's actually a

00:05:18,600 --> 00:05:23,250
mostly shell code and that's how it

00:05:21,300 --> 00:05:26,660
works in your shell and manages your

00:05:23,250 --> 00:05:31,080
path and pro 5 live and things like that

00:05:26,660 --> 00:05:33,390
so you know you install it your sources

00:05:31,080 --> 00:05:36,270
bash RC you put that source line into

00:05:33,390 --> 00:05:38,610
your own you know bash profile or bash

00:05:36,270 --> 00:05:43,920
RC and the docs are really clear if you

00:05:38,610 --> 00:05:46,020
go to pearl brew PL and so you know once

00:05:43,920 --> 00:05:47,100
you've done that you tell it hey I want

00:05:46,020 --> 00:05:48,840
the latest version of Perl you could

00:05:47,100 --> 00:05:51,920
actually do in peril you install /

00:05:48,840 --> 00:05:54,480
latest i think is how it's a structured

00:05:51,920 --> 00:05:55,950
and then you know you can install as

00:05:54,480 --> 00:05:58,220
many different versions as you like and

00:05:55,950 --> 00:06:00,570
switch between them using pearl blue use

00:05:58,220 --> 00:06:01,860
and that's now that's just for that

00:06:00,570 --> 00:06:03,840
she'll session but if you want to kind

00:06:01,860 --> 00:06:05,490
of make that like the default you know a

00:06:03,840 --> 00:06:10,200
particular pearl you can do pearl brew

00:06:05,490 --> 00:06:15,210
switch and like I said the docks are

00:06:10,200 --> 00:06:18,090
really good so something that I usually

00:06:15,210 --> 00:06:21,090
recommend you know to get to details of

00:06:18,090 --> 00:06:25,020
usage if you do pro brew install see

00:06:21,090 --> 00:06:26,790
panem it installs a see pan- a cpn

00:06:25,020 --> 00:06:29,010
client it's an alternative to the sea

00:06:26,790 --> 00:06:33,990
pan command built-in you know that gets

00:06:29,010 --> 00:06:35,760
bundled with pearl and installing it

00:06:33,990 --> 00:06:38,250
this way helps keep you from shooting

00:06:35,760 --> 00:06:41,640
yourself in the foot when switching

00:06:38,250 --> 00:06:42,110
between pearls and and maybe if you're

00:06:41,640 --> 00:06:43,700
already

00:06:42,110 --> 00:06:46,130
using something like local lib which

00:06:43,700 --> 00:06:48,130
actually I don't really recommend doing

00:06:46,130 --> 00:06:51,350
unless you really kind of know what's up

00:06:48,130 --> 00:06:54,410
what's going on so and i'll talk about

00:06:51,350 --> 00:06:56,780
Sipan minus a little later so you know

00:06:54,410 --> 00:06:58,640
you go you install another you can stall

00:06:56,780 --> 00:07:02,000
as many as you want switch between them

00:06:58,640 --> 00:07:04,580
it's really simple and if you use the

00:07:02,000 --> 00:07:08,420
Sipan command after doing like a pearl

00:07:04,580 --> 00:07:11,590
brew use then the cpn command will

00:07:08,420 --> 00:07:16,310
install everything into that pearls

00:07:11,590 --> 00:07:19,070
lifters so that one of the problems with

00:07:16,310 --> 00:07:20,360
local lib which is actually a few slides

00:07:19,070 --> 00:07:22,730
later I'm getting ahead of myself but uh

00:07:20,360 --> 00:07:26,000
with using local lib and then using perl

00:07:22,730 --> 00:07:27,620
brew and CP n minus will automatically

00:07:26,000 --> 00:07:30,470
use local lib even if you don't have it

00:07:27,620 --> 00:07:32,210
if you're just using it one of the

00:07:30,470 --> 00:07:33,440
problems is that what happens is if

00:07:32,210 --> 00:07:34,880
you're switching between pearls and

00:07:33,440 --> 00:07:37,940
you're installing using just plain old

00:07:34,880 --> 00:07:39,170
local lib then you end up with modules

00:07:37,940 --> 00:07:42,470
compiled against different versions of

00:07:39,170 --> 00:07:46,610
pearl in the same library door that's

00:07:42,470 --> 00:07:48,200
that's kind of bad so using it this way

00:07:46,610 --> 00:07:49,790
and if you did the install see Pan Am

00:07:48,200 --> 00:07:51,410
you know if you want to use C pan-

00:07:49,790 --> 00:07:54,470
instead of the regular sleep in command

00:07:51,410 --> 00:07:56,420
then you can you know you you can

00:07:54,470 --> 00:07:58,310
install and they'll stay with the pearl

00:07:56,420 --> 00:08:00,170
they were compiled for with excess

00:07:58,310 --> 00:08:03,920
modules I mean it's just such a headache

00:08:00,170 --> 00:08:06,290
when they get mixed um you know but

00:08:03,920 --> 00:08:08,300
basically you know you can test your

00:08:06,290 --> 00:08:10,040
code or your modules or whatever your

00:08:08,300 --> 00:08:12,850
dependencies you have on whatever pearl

00:08:10,040 --> 00:08:16,970
you're gonna be deploying on if you want

00:08:12,850 --> 00:08:21,560
and it's it's very flexible it is a true

00:08:16,970 --> 00:08:22,970
power tool you know I mean the only

00:08:21,560 --> 00:08:25,400
downside is that you got to install

00:08:22,970 --> 00:08:26,720
things separately for each version of

00:08:25,400 --> 00:08:29,170
Perl but like I said that's a necessity

00:08:26,720 --> 00:08:31,280
because you have compiled code that

00:08:29,170 --> 00:08:35,240
version of Perl and if you mix them

00:08:31,280 --> 00:08:36,410
gonna have a bad time you know you don't

00:08:35,240 --> 00:08:37,729
have to install it in your home

00:08:36,410 --> 00:08:39,410
directory if you want to share with the

00:08:37,729 --> 00:08:42,800
rest of the system you can install your

00:08:39,410 --> 00:08:43,820
brood pearls under / opt and later on

00:08:42,800 --> 00:08:47,270
I'll give you another way that you can

00:08:43,820 --> 00:08:48,530
install a custom pearl under opt but

00:08:47,270 --> 00:08:50,330
this is you know this is one of those

00:08:48,530 --> 00:08:55,670
simple things that you can just do you

00:08:50,330 --> 00:08:56,030
can test it out and you know if you set

00:08:55,670 --> 00:08:58,100
those

00:08:56,030 --> 00:08:59,960
environment variables run the install

00:08:58,100 --> 00:09:01,520
then it'll put everything under opt and

00:08:59,960 --> 00:09:04,400
again you tell everybody on the system

00:09:01,520 --> 00:09:09,350
to source the Bashar see under that opt

00:09:04,400 --> 00:09:11,570
pearl brew directory so I mentioned C

00:09:09,350 --> 00:09:13,340
pan- and I mentioned it because I really

00:09:11,570 --> 00:09:15,890
like it it's got some capabilities that

00:09:13,340 --> 00:09:18,110
the the standard cpn client doesn't have

00:09:15,890 --> 00:09:20,180
or only recently obtained in the last

00:09:18,110 --> 00:09:24,440
couple years and you might not have a

00:09:20,180 --> 00:09:26,000
cpn client that new on your system and I

00:09:24,440 --> 00:09:29,270
might add as an aside if you don't

00:09:26,000 --> 00:09:32,930
already know this okay on your system

00:09:29,270 --> 00:09:37,940
pearl using sudo to install modules with

00:09:32,930 --> 00:09:40,070
Sipan will inevitably end in in tears so

00:09:37,940 --> 00:09:43,280
try not to do it and this is why local

00:09:40,070 --> 00:09:46,640
lib came about it's why pearl brew is is

00:09:43,280 --> 00:09:48,260
so nice to use but also I'll tell you

00:09:46,640 --> 00:09:52,310
about another thing that you can use to

00:09:48,260 --> 00:09:54,800
create like RPM rd packages so that you

00:09:52,310 --> 00:09:56,420
know you don't end up with things where

00:09:54,800 --> 00:09:58,220
you know something you install via Sipan

00:09:56,420 --> 00:09:59,750
conflicts or clobbers something

00:09:58,220 --> 00:10:02,620
installed system pearl or at least you

00:09:59,750 --> 00:10:09,530
can back it out because it's an RPM

00:10:02,620 --> 00:10:13,580
let's see uh so yeah one of the reasons

00:10:09,530 --> 00:10:16,760
that I like a you know using CPM is that

00:10:13,580 --> 00:10:18,500
it's a one-liner install there aren't

00:10:16,760 --> 00:10:21,260
any dependencies are all packed into the

00:10:18,500 --> 00:10:23,810
script itself and if you're on red hat

00:10:21,260 --> 00:10:27,680
and the Sipan command isn't even there

00:10:23,810 --> 00:10:29,420
and you're not the sysadmin so a project

00:10:27,680 --> 00:10:32,120
I did at work written in perl i had

00:10:29,420 --> 00:10:33,860
people who basically you know I had a

00:10:32,120 --> 00:10:35,660
quick little build script that ran Sipan

00:10:33,860 --> 00:10:39,140
to install all the dependencies for the

00:10:35,660 --> 00:10:41,270
project and using local lib and whatnot

00:10:39,140 --> 00:10:42,620
and they they couldn't do it because on

00:10:41,270 --> 00:10:44,000
the host they were trying to build on

00:10:42,620 --> 00:10:46,040
they didn't have Sipan and they weren't

00:10:44,000 --> 00:10:50,630
the SIS admin's or they just didn't want

00:10:46,040 --> 00:10:53,840
to be left with it so yeah I'll Khattak

00:10:50,630 --> 00:10:57,560
revisit this this is how easy it is to

00:10:53,840 --> 00:10:59,870
get Sipan and install it see penn- so

00:10:57,560 --> 00:11:01,880
but like i mentioned Sipan madness has

00:10:59,870 --> 00:11:04,220
local to built into it and it'll use

00:11:01,880 --> 00:11:06,050
that so what happens is when you run

00:11:04,220 --> 00:11:09,230
this if you don't already have a local

00:11:06,050 --> 00:11:09,830
lib it'll initialize it so here's the

00:11:09,230 --> 00:11:11,690
warning

00:11:09,830 --> 00:11:12,890
it will initialize the local lip install

00:11:11,690 --> 00:11:15,170
itself in there and like I said local

00:11:12,890 --> 00:11:19,850
lip is useful but I just told you about

00:11:15,170 --> 00:11:21,890
pearl brew and and if you combine local

00:11:19,850 --> 00:11:25,190
lip and pearl brew your you're gonna

00:11:21,890 --> 00:11:27,650
have a bad time so that's why poor Abreu

00:11:25,190 --> 00:11:29,390
has its own special separate CPM that

00:11:27,650 --> 00:11:31,160
you can install i'll be putting these

00:11:29,390 --> 00:11:32,990
slides up on SlideShare too so the links

00:11:31,160 --> 00:11:37,370
and things you know you can see all that

00:11:32,990 --> 00:11:39,700
later and you know I might add I i

00:11:37,370 --> 00:11:42,140
believe pro brew uses local lib

00:11:39,700 --> 00:11:46,250
internally anyway it sets the same vars

00:11:42,140 --> 00:11:48,260
and so if you know what happens is if

00:11:46,250 --> 00:11:50,090
you're using local lib already in you

00:11:48,260 --> 00:11:53,090
know it's in your bash RC to activate

00:11:50,090 --> 00:11:54,500
your your your normal local lib and then

00:11:53,090 --> 00:11:58,970
you use pearl brew and they collaborate

00:11:54,500 --> 00:12:00,290
each other and yeah so you just choose

00:11:58,970 --> 00:12:03,080
choose the tool that's best for the job

00:12:00,290 --> 00:12:05,150
in your case so despite all that gotcha

00:12:03,080 --> 00:12:07,190
though see pan- can do some really cool

00:12:05,150 --> 00:12:09,110
things i mean you know never mind the

00:12:07,190 --> 00:12:13,640
one-liner install and the lower memory

00:12:09,110 --> 00:12:16,220
usage then the the standard Sipan client

00:12:13,640 --> 00:12:18,530
you know you can download that that file

00:12:16,220 --> 00:12:20,030
instead of just piping it into pearl you

00:12:18,530 --> 00:12:21,980
can download that file said it is

00:12:20,030 --> 00:12:25,130
executable pack it in with your with

00:12:21,980 --> 00:12:30,440
your application you know it can also do

00:12:25,130 --> 00:12:32,570
things like you can do cpn-m done and if

00:12:30,440 --> 00:12:34,460
you got a make file to PL or build PL in

00:12:32,570 --> 00:12:36,500
your applications root directory which

00:12:34,460 --> 00:12:38,300
you really should then it can install

00:12:36,500 --> 00:12:39,620
that and it's got a new feature recently

00:12:38,300 --> 00:12:42,530
where it can work with something called

00:12:39,620 --> 00:12:50,180
carton which is what i'm going to tell

00:12:42,530 --> 00:12:51,800
you about next so carton is like when

00:12:50,180 --> 00:12:53,660
miyagawa presented this a couple years

00:12:51,800 --> 00:12:56,210
ago i forget if it was i think it was in

00:12:53,660 --> 00:13:00,350
asheville and i had been talking to

00:12:56,210 --> 00:13:02,540
another pearl hacker how dumb you know

00:13:00,350 --> 00:13:05,030
about wanting to just be about bundling

00:13:02,540 --> 00:13:07,450
all of the dependencies up you know the

00:13:05,030 --> 00:13:10,250
specific versions of the Sipan

00:13:07,450 --> 00:13:13,130
distributions with the application and

00:13:10,250 --> 00:13:16,010
then just having some sort of build

00:13:13,130 --> 00:13:17,720
thing that could just install them all

00:13:16,010 --> 00:13:20,780
from there in a local lib that's

00:13:17,720 --> 00:13:22,460
actually like you know either in the the

00:13:20,780 --> 00:13:23,660
source directory you could you know make

00:13:22,460 --> 00:13:25,730
it get ignored

00:13:23,660 --> 00:13:27,230
and just you know have everything in one

00:13:25,730 --> 00:13:29,150
so you can install it all in one shot

00:13:27,230 --> 00:13:31,280
not have to round trip to the sea pan

00:13:29,150 --> 00:13:32,780
and things like that and I had been

00:13:31,280 --> 00:13:36,620
playing with some ways to actually trick

00:13:32,780 --> 00:13:37,940
cpn-m into doing that and and we were

00:13:36,620 --> 00:13:39,620
talking about this not five minutes

00:13:37,940 --> 00:13:40,910
before Tatsuki kamiya gawa does a

00:13:39,620 --> 00:13:46,430
lightning talk on this thing called

00:13:40,910 --> 00:13:48,080
carton and our jaws hit the floor if

00:13:46,430 --> 00:13:50,390
pearl brews ninja powered awesomesauce

00:13:48,080 --> 00:13:52,640
carton is rainbow unicorns delivering

00:13:50,390 --> 00:13:55,040
magically delicious vegan bacon directly

00:13:52,640 --> 00:13:58,940
into your mouth on demand when it comes

00:13:55,040 --> 00:14:01,610
to deploying applications to users I it

00:13:58,940 --> 00:14:05,860
is indispensable and I write code for

00:14:01,610 --> 00:14:08,870
you know people all the time that you

00:14:05,860 --> 00:14:11,510
know they just wanna they wanna they

00:14:08,870 --> 00:14:13,160
want to you know at the on a run make

00:14:11,510 --> 00:14:14,870
you know or something like that just run

00:14:13,160 --> 00:14:17,900
a single script and then start hacking

00:14:14,870 --> 00:14:22,910
on it or use it or whatever so and this

00:14:17,900 --> 00:14:25,490
way it's deploy and go so you know I

00:14:22,910 --> 00:14:27,800
just took this right from cartons pearl

00:14:25,490 --> 00:14:29,600
doc but basically you put your

00:14:27,800 --> 00:14:33,830
dependencies into this one file called

00:14:29,600 --> 00:14:35,360
Sipan file and you know you usually want

00:14:33,830 --> 00:14:38,150
to check that into your source tree and

00:14:35,360 --> 00:14:40,490
then you know you can do cart and

00:14:38,150 --> 00:14:41,990
install and I don't stall stuff and you

00:14:40,490 --> 00:14:45,110
new carton exec and it'll set up the

00:14:41,990 --> 00:14:47,510
pro/5 lib der to run everything in the

00:14:45,110 --> 00:14:49,820
in the local Lib directory that it made

00:14:47,510 --> 00:14:51,820
for just your applications dependency so

00:14:49,820 --> 00:14:54,950
they don't mix with the system's

00:14:51,820 --> 00:14:56,780
dependencies which again really nice and

00:14:54,950 --> 00:14:58,460
of course you know you can mix this with

00:14:56,780 --> 00:15:00,470
pearl brew for even more isolation

00:14:58,460 --> 00:15:04,220
between applications that might be

00:15:00,470 --> 00:15:07,550
running on the same server um you know

00:15:04,220 --> 00:15:08,900
let's see I'm reading my notes wondering

00:15:07,550 --> 00:15:14,510
if I missed anything but I think I just

00:15:08,900 --> 00:15:16,430
you know yeah so now I don't know if any

00:15:14,510 --> 00:15:19,840
of you have thought of this where's

00:15:16,430 --> 00:15:22,840
where's the potential problem anybody

00:15:19,840 --> 00:15:22,840
yes

00:15:26,129 --> 00:15:31,929
you can do that actually that is in that

00:15:29,799 --> 00:15:34,239
as part of carton and just look in the

00:15:31,929 --> 00:15:38,439
docs it tells you like it's in there you

00:15:34,239 --> 00:15:40,209
know and so well I was thinking was a

00:15:38,439 --> 00:15:43,389
kind of a chicken and egg problem in

00:15:40,209 --> 00:15:45,279
this case because for users to install

00:15:43,389 --> 00:15:47,109
something that you've uh you know but

00:15:45,279 --> 00:15:51,069
packaged up with carton they kind of

00:15:47,109 --> 00:15:53,319
need garten hey so and if you want them

00:15:51,069 --> 00:15:55,359
to not have to bother with you know much

00:15:53,319 --> 00:15:57,729
if you want them to just be able to do

00:15:55,359 --> 00:15:59,799
it and not curse out pearl because it's

00:15:57,729 --> 00:16:01,029
so complicated I know I work with Java

00:15:59,799 --> 00:16:02,439
hackers and they complain that

00:16:01,029 --> 00:16:09,789
installing stuff with pearl is

00:16:02,439 --> 00:16:14,349
complicated you know um well see panem

00:16:09,789 --> 00:16:17,409
to the rescue CPM now has um Sipan cheap

00:16:14,349 --> 00:16:21,039
and I shoot what is that a seat I'm file

00:16:17,409 --> 00:16:24,279
code you know a handling code built-in

00:16:21,039 --> 00:16:26,169
and so you can use CPM to do that and so

00:16:24,279 --> 00:16:27,819
like I said download sleepy IM just

00:16:26,169 --> 00:16:30,639
committed in your source you know maybe

00:16:27,819 --> 00:16:33,899
wrap wrap it into a shell script that

00:16:30,639 --> 00:16:33,899
that uses see pain

00:16:38,980 --> 00:16:41,040
you

00:16:47,840 --> 00:16:50,300
go up to the sea pan instead of just

00:16:49,790 --> 00:16:53,930
being

00:16:50,300 --> 00:16:56,780
internal but the flexibility and you

00:16:53,930 --> 00:16:58,610
know a cool thing is that if the same

00:16:56,780 --> 00:17:02,180
guy who wrote both of those Tatsuki

00:16:58,610 --> 00:17:04,070
camellia gawa and he is the man so much

00:17:02,180 --> 00:17:06,550
of his stuff that I've used I'm just so

00:17:04,070 --> 00:17:10,400
pleased with he writes good code and

00:17:06,550 --> 00:17:12,380
usable usable utilities so whenever you

00:17:10,400 --> 00:17:15,430
see his name on something it's it's

00:17:12,380 --> 00:17:18,200
probably going to be pretty good so

00:17:15,430 --> 00:17:20,240
owned by the way ironically as I was

00:17:18,200 --> 00:17:21,890
writing as I've made this slide and was

00:17:20,240 --> 00:17:23,360
writing my notes that's when somebody in

00:17:21,890 --> 00:17:25,580
the keynote was like by the way I want

00:17:23,360 --> 00:17:30,400
everybody to give me agaya big hand I

00:17:25,580 --> 00:17:33,890
was like wow so um we ready for more

00:17:30,400 --> 00:17:35,300
okay am I going too fast by the way I'm

00:17:33,890 --> 00:17:39,430
actually kind of tearing through my

00:17:35,300 --> 00:17:43,160
slides I have a tendency to do that okay

00:17:39,430 --> 00:17:58,300
so let me talk about the next amazing

00:17:43,160 --> 00:17:58,300
power tool which yes yep yep

00:17:59,470 --> 00:18:16,549
mmm right um well yeah I mean the

00:18:15,260 --> 00:18:18,919
modules will install under what's called

00:18:16,549 --> 00:18:21,230
a local lib except at that local lib it

00:18:18,919 --> 00:18:23,210
will not be the default local lib that

00:18:21,230 --> 00:18:25,400
when you usually use local it just makes

00:18:23,210 --> 00:18:26,870
a slash perl five directory in your home

00:18:25,400 --> 00:18:29,179
der and installs everything under there

00:18:26,870 --> 00:18:31,370
it'll be actually in your applications

00:18:29,179 --> 00:18:33,110
directory or I think you can configure

00:18:31,370 --> 00:18:35,750
it to install them whatever you want

00:18:33,110 --> 00:18:38,210
really and I mean you still need a pearl

00:18:35,750 --> 00:18:40,190
to run things on but again that's what

00:18:38,210 --> 00:18:42,080
pearl brew is for if you're not going to

00:18:40,190 --> 00:18:44,120
use the system pearl or you could make

00:18:42,080 --> 00:18:45,830
your own rpms which I'll describe a

00:18:44,120 --> 00:18:48,409
little later and I've got a little tool

00:18:45,830 --> 00:18:50,900
up on little thing up and get github

00:18:48,409 --> 00:18:55,100
that you guys can download and use and

00:18:50,900 --> 00:18:58,549
tweak for that regard in for that sort

00:18:55,100 --> 00:19:02,720
of thing so um I don't does that answer

00:18:58,549 --> 00:19:05,030
your question yeah now I you know I it's

00:19:02,720 --> 00:19:07,429
again you yeah you do want the pearl in

00:19:05,030 --> 00:19:08,960
the same place you know in deployment

00:19:07,429 --> 00:19:10,760
and and development which is why I also

00:19:08,960 --> 00:19:12,710
recommend to people like do things with

00:19:10,760 --> 00:19:15,200
opt pearl because some things can be

00:19:12,710 --> 00:19:18,440
funny you know but the actual Sipan

00:19:15,200 --> 00:19:20,870
depths from your Sipan file that you

00:19:18,440 --> 00:19:22,669
install using carton they should be fine

00:19:20,870 --> 00:19:32,720
wherever you put your application it'll

00:19:22,669 --> 00:19:34,490
be just fine yeah so um yes yeah that's

00:19:32,720 --> 00:19:37,190
one of the things I really like about it

00:19:34,490 --> 00:19:40,610
like oh say an application I wrote with

00:19:37,190 --> 00:19:42,620
mojolicious that then broke about six

00:19:40,610 --> 00:19:44,120
months later cuz of now mojolicious

00:19:42,620 --> 00:19:46,669
actually has a pretty good development

00:19:44,120 --> 00:19:51,470
policy and deprecation policy but um but

00:19:46,669 --> 00:19:52,700
they move fast you know so anyway the

00:19:51,470 --> 00:19:56,840
next thing I want to tell you about is

00:19:52,700 --> 00:19:59,960
fat pack which I you know what's the

00:19:56,840 --> 00:20:02,809
best way to who hears used fat pack who

00:19:59,960 --> 00:20:07,789
here wrote fat pack yup there he is I

00:20:02,809 --> 00:20:09,320
thought I saw you there so you'll

00:20:07,789 --> 00:20:12,169
appreciate this description if you

00:20:09,320 --> 00:20:12,920
positively absolutely must kill every

00:20:12,169 --> 00:20:14,750
mother loving too

00:20:12,920 --> 00:20:19,610
tendency in the room accept no

00:20:14,750 --> 00:20:22,190
substitutes and it's really simple to

00:20:19,610 --> 00:20:24,080
describe it figures out all the pure

00:20:22,190 --> 00:20:25,460
pearl dependencies in your program and

00:20:24,080 --> 00:20:27,140
packs them into your program into a

00:20:25,460 --> 00:20:30,410
single file that your users can just

00:20:27,140 --> 00:20:32,000
plain execute and they don't need to

00:20:30,410 --> 00:20:34,370
install anything from Sipan because it's

00:20:32,000 --> 00:20:37,100
already in the file with the one caveat

00:20:34,370 --> 00:20:39,320
that as long as it's whoops pure pearl

00:20:37,100 --> 00:20:42,560
you know but um but this is how simple

00:20:39,320 --> 00:20:43,880
it is to use I use it all the time

00:20:42,560 --> 00:20:46,310
because I write all these little tools

00:20:43,880 --> 00:20:48,560
and utilities for users who again don't

00:20:46,310 --> 00:20:50,600
need to bother with that and if it can

00:20:48,560 --> 00:20:52,190
put the tool in a single file I have

00:20:50,600 --> 00:20:55,520
this one thing that actually runs on all

00:20:52,190 --> 00:20:57,800
of our systems and it parses uh it scans

00:20:55,520 --> 00:20:59,660
a whole bunch of system stuff for for

00:20:57,800 --> 00:21:03,170
the disks so in our Hadoop nodes each

00:20:59,660 --> 00:21:04,430
node has like 12 data disks and you know

00:21:03,170 --> 00:21:05,660
they could be different sizes that could

00:21:04,430 --> 00:21:09,140
be varying degrees they're all connected

00:21:05,660 --> 00:21:10,580
to a dell raid controller even though

00:21:09,140 --> 00:21:11,900
they're not raid it's like Jay bod but

00:21:10,580 --> 00:21:16,310
del insists that they ought to be read

00:21:11,900 --> 00:21:19,100
something and so what this does is it it

00:21:16,310 --> 00:21:21,230
parses the output from the omreport tool

00:21:19,100 --> 00:21:22,940
that gives me all of these storage info

00:21:21,230 --> 00:21:25,280
and then it correlates that with

00:21:22,940 --> 00:21:27,200
information under the system to find out

00:21:25,280 --> 00:21:31,100
which Drive is in which bay because when

00:21:27,200 --> 00:21:34,220
a drive moves and it says that you know

00:21:31,100 --> 00:21:36,980
disc number five is dead it may not be

00:21:34,220 --> 00:21:39,470
in bay number five you know or dev SDM

00:21:36,980 --> 00:21:43,040
has issues and it may not be in Bay

00:21:39,470 --> 00:21:44,630
number 12 you know as so because things

00:21:43,040 --> 00:21:46,340
get renumber and so it's it's insanely

00:21:44,630 --> 00:21:48,530
useful tool but I had these dependencies

00:21:46,340 --> 00:21:50,630
that I use to make it better and then I

00:21:48,530 --> 00:21:54,830
fat packed it and that's you know what

00:21:50,630 --> 00:21:57,410
we what we run on all our systems it's

00:21:54,830 --> 00:21:59,180
just that simple um you know c pn minus

00:21:57,410 --> 00:22:01,460
uses it so if you look at Sipan minus

00:21:59,180 --> 00:22:03,530
the source code you can see how they how

00:22:01,460 --> 00:22:06,800
they use it if you look at the CPM

00:22:03,530 --> 00:22:08,870
script that's all packed in there so but

00:22:06,800 --> 00:22:11,420
you know in short you can use the sea

00:22:08,870 --> 00:22:15,040
pen to develop hallelujah but you don't

00:22:11,420 --> 00:22:18,140
have to make your users you know use it

00:22:15,040 --> 00:22:22,910
and this is the only caveat that I've

00:22:18,140 --> 00:22:24,920
got is that pearl and you know if it's

00:22:22,910 --> 00:22:26,509
not you know i mean granted you're going

00:22:24,920 --> 00:22:28,519
to have portability issues anyway

00:22:26,509 --> 00:22:29,539
if users are say running an ancient you

00:22:28,519 --> 00:22:31,219
know operating system or something

00:22:29,539 --> 00:22:34,759
sufficiently different a mac OS or

00:22:31,219 --> 00:22:36,549
whatever so um you know for fat pack and

00:22:34,759 --> 00:22:41,599
for local lib and so many other things

00:22:36,549 --> 00:22:43,459
you know ms t plus plus and since he's

00:22:41,599 --> 00:22:44,869
at the back of the room you know now you

00:22:43,459 --> 00:22:49,549
know what he looks like buy him a beer

00:22:44,869 --> 00:22:52,219
or four so since i mentioned fat pack if

00:22:49,549 --> 00:22:53,749
you absolutely need a you know compiled

00:22:52,219 --> 00:22:55,339
code in there there's a thing i've used

00:22:53,749 --> 00:22:56,899
called par i actually don't know how it

00:22:55,339 --> 00:23:01,069
works on the newest pearls but i've used

00:22:56,899 --> 00:23:03,619
it on up till I think pearl 514 and you

00:23:01,069 --> 00:23:05,629
know it's uh it's really kind of cool

00:23:03,619 --> 00:23:07,729
because you can take that compiled code

00:23:05,629 --> 00:23:09,619
and you can pack it into an executable

00:23:07,729 --> 00:23:12,469
file it makes an actual executable not a

00:23:09,619 --> 00:23:17,449
script and and well it can do all sorts

00:23:12,469 --> 00:23:19,339
of things and you know I don't have any

00:23:17,449 --> 00:23:21,499
examples any example slides because I

00:23:19,339 --> 00:23:23,059
didn't have any any Wi-Fi when i was

00:23:21,499 --> 00:23:25,309
doing these slides and i always have to

00:23:23,059 --> 00:23:27,409
look at the docks anyway when i use it i

00:23:25,309 --> 00:23:31,190
don't use it very often but when I do

00:23:27,409 --> 00:23:34,190
it's it's very useful you can even pack

00:23:31,190 --> 00:23:36,319
pearl into it yeah into your executable

00:23:34,190 --> 00:23:38,419
which I don't think I've had the

00:23:36,319 --> 00:23:39,769
opportunity to use but it's it's like so

00:23:38,419 --> 00:23:41,389
let's say you're sending this to

00:23:39,769 --> 00:23:44,829
somebody who won't even have pearl like

00:23:41,389 --> 00:23:49,369
cuz ur on redhat 7 they don't need it

00:23:44,829 --> 00:23:50,959
and let's see there is a bit of a

00:23:49,369 --> 00:23:53,599
performance hit because of the way it

00:23:50,959 --> 00:23:55,999
has to unpack everything and kind of you

00:23:53,599 --> 00:23:59,809
know hook into Incan you know but again

00:23:55,999 --> 00:24:04,669
if that's what you need you know then

00:23:59,809 --> 00:24:06,229
it's very very powerful you know so but

00:24:04,669 --> 00:24:11,749
the band the basic usage really isn't

00:24:06,229 --> 00:24:13,729
that hard and oh yes okay my notes here

00:24:11,749 --> 00:24:16,429
the one amazing thing I've never done

00:24:13,729 --> 00:24:20,599
this but because of who wrote this I

00:24:16,429 --> 00:24:23,029
believe it can work it can you can take

00:24:20,599 --> 00:24:25,489
binary compiled against multiple

00:24:23,029 --> 00:24:28,519
architectures and pack them into the

00:24:25,489 --> 00:24:32,029
same executable and so you know if you

00:24:28,519 --> 00:24:34,969
got a system with you know I are old G

00:24:32,029 --> 00:24:36,619
lipsy and a newer G lipsy and you can

00:24:34,969 --> 00:24:37,940
actually link against both of them and

00:24:36,619 --> 00:24:40,630
pack that in there I don't know how it

00:24:37,940 --> 00:24:44,510
does it I've never done it but Wow

00:24:40,630 --> 00:24:48,470
Audrey tang is the brilliant mastermind

00:24:44,510 --> 00:24:51,020
one of the most amazing hackers and she

00:24:48,470 --> 00:24:52,700
has written so many cool things I

00:24:51,020 --> 00:24:56,270
actually use another one of her things I

00:24:52,700 --> 00:24:57,740
think it's like use lib or I can't

00:24:56,270 --> 00:25:01,010
remember what it is but I've used it on

00:24:57,740 --> 00:25:04,640
a couple occasions and she's also one of

00:25:01,010 --> 00:25:06,590
the nicest people you ever meet so I've

00:25:04,640 --> 00:25:08,929
never met her on IRC she's just awesome

00:25:06,590 --> 00:25:11,120
it's it always amazes me when people are

00:25:08,929 --> 00:25:18,020
that smart and that nice and right

00:25:11,120 --> 00:25:20,240
incredible code too so so I am one of

00:25:18,020 --> 00:25:22,700
the things that a people frequently want

00:25:20,240 --> 00:25:24,710
to do sometimes you know just mucking

00:25:22,700 --> 00:25:28,490
with the system some people want

00:25:24,710 --> 00:25:31,909
everything in a package and you know it

00:25:28,490 --> 00:25:34,990
rpm or D package and I've done that on a

00:25:31,909 --> 00:25:37,669
couple occasions this one application

00:25:34,990 --> 00:25:39,799
that i wrote that uh you know other

00:25:37,669 --> 00:25:43,130
people actually really liked it was a

00:25:39,799 --> 00:25:46,250
you know big hit and in the company um

00:25:43,130 --> 00:25:49,850
it's also on github too ID please don't

00:25:46,250 --> 00:25:51,230
look at the code but it's the people at

00:25:49,850 --> 00:25:52,520
work really glommed onto it they

00:25:51,230 --> 00:25:53,900
actually looked at it and I was like I

00:25:52,520 --> 00:25:58,100
didn't know pearl could be like this

00:25:53,900 --> 00:25:59,659
this is pretty good but um the thing is

00:25:58,100 --> 00:26:01,039
there were some people who are like yeah

00:25:59,659 --> 00:26:02,990
so I wanted to hack on it I tried

00:26:01,039 --> 00:26:05,330
downloading on my system and it won't

00:26:02,990 --> 00:26:08,770
run because it says it needs pro 5 10

00:26:05,330 --> 00:26:11,330
and I don't know how to do that and so I

00:26:08,770 --> 00:26:16,280
had to figure out how to actually build

00:26:11,330 --> 00:26:17,179
an RPM to give to them because I don't

00:26:16,280 --> 00:26:19,220
know if this is before i knew about

00:26:17,179 --> 00:26:21,140
Pearl brew or I had trouble making pearl

00:26:19,220 --> 00:26:24,820
brew work because it was still new at

00:26:21,140 --> 00:26:28,580
the time so I did this like 23 years ago

00:26:24,820 --> 00:26:31,280
so what i did was i just created a dot

00:26:28,580 --> 00:26:33,919
spec file for RPM build so you can build

00:26:31,280 --> 00:26:36,049
an RPM from that there are other ways to

00:26:33,919 --> 00:26:38,030
build rpms of pearl and also if you're

00:26:36,049 --> 00:26:40,340
on newer versions of sent OS a red hat

00:26:38,030 --> 00:26:41,450
there's this software collections

00:26:40,340 --> 00:26:42,860
library where you can get some newer

00:26:41,450 --> 00:26:45,950
versions of pearl but like you're not

00:26:42,860 --> 00:26:47,450
going to get 5 22 or something um but if

00:26:45,950 --> 00:26:50,270
you go to that link and again I'll have

00:26:47,450 --> 00:26:53,770
these notes up on on SlideShare so you

00:26:50,270 --> 00:26:53,770
can find the link and click it

00:26:53,960 --> 00:27:00,470
but basically there's a shell script and

00:26:57,950 --> 00:27:01,909
the spec file and if you put them in the

00:27:00,470 --> 00:27:05,179
same directory and run the shell script

00:27:01,909 --> 00:27:07,039
it will basically download the pearl for

00:27:05,179 --> 00:27:09,409
the pearl sources for the version

00:27:07,039 --> 00:27:11,809
specified in the spec file and build

00:27:09,409 --> 00:27:13,250
pearl in a way that is seems to be

00:27:11,809 --> 00:27:16,250
pretty well compatible with redhat

00:27:13,250 --> 00:27:20,870
systems and when you install that RPM it

00:27:16,250 --> 00:27:24,110
installs under / opt / a pearl dash

00:27:20,870 --> 00:27:26,899
whatever version you've got and and so

00:27:24,110 --> 00:27:28,490
it's isolated from the system and and

00:27:26,899 --> 00:27:32,330
you just direct your users to use that

00:27:28,490 --> 00:27:33,740
or whatever you know because I'm messing

00:27:32,330 --> 00:27:39,230
again messing with the system pearl is

00:27:33,740 --> 00:27:40,340
is bad mojo and four modules though you

00:27:39,230 --> 00:27:42,049
know yeah you could write a spec file

00:27:40,340 --> 00:27:46,970
for every module you're going to use but

00:27:42,049 --> 00:27:51,909
that sucks that's gonna suck you could

00:27:46,970 --> 00:27:56,450
use a Sipan plus to build our pm's right

00:27:51,909 --> 00:28:01,760
yeah sometimes it works and but CPM

00:27:56,450 --> 00:28:03,080
plusses I'm sadly demised and so you

00:28:01,760 --> 00:28:06,559
know they're a bunch of other ways to

00:28:03,080 --> 00:28:09,669
build rpms but I have one that I've

00:28:06,559 --> 00:28:12,350
fallen in love with and it's called fpm

00:28:09,669 --> 00:28:16,250
which if you're being polite stands for

00:28:12,350 --> 00:28:19,880
fine package management but on the docks

00:28:16,250 --> 00:28:21,669
it says effing really supports building

00:28:19,880 --> 00:28:24,169
packages of perl modules really well

00:28:21,669 --> 00:28:26,240
that's why i put the link to the wiki

00:28:24,169 --> 00:28:28,070
page on pearl packaging with fpm because

00:28:26,240 --> 00:28:31,090
like it's got its own page and it

00:28:28,070 --> 00:28:34,100
explains everything and it just works

00:28:31,090 --> 00:28:39,230
and so let's say you've installed that

00:28:34,100 --> 00:28:41,270
uh opt pearl um and it's a you know

00:28:39,230 --> 00:28:43,880
you've installed that up pearl with the

00:28:41,270 --> 00:28:46,399
RPM and you want to continue to install

00:28:43,880 --> 00:28:48,830
things with rpms like oh the Sipan files

00:28:46,399 --> 00:28:53,179
that you depend on or any even dis you

00:28:48,830 --> 00:28:54,770
made in-house so just use em p.m. um you

00:28:53,179 --> 00:28:55,789
know and basically tell it where they're

00:28:54,770 --> 00:29:01,039
supposed to under where they're supposed

00:28:55,789 --> 00:29:05,750
to install and you know it'll it'll do

00:29:01,039 --> 00:29:07,940
it and it works and it's gorgeous um you

00:29:05,750 --> 00:29:10,730
know it's it really is

00:29:07,940 --> 00:29:13,159
um very very useful for deployment

00:29:10,730 --> 00:29:15,950
because what I can do then is I put all

00:29:13,159 --> 00:29:17,539
the RPMs up in our local young repo that

00:29:15,950 --> 00:29:20,980
that we use for deployment and things

00:29:17,539 --> 00:29:24,289
and then I tell puppet I want this

00:29:20,980 --> 00:29:28,779
installed on all my hosts and puppet

00:29:24,289 --> 00:29:32,330
knows how to do that so that's you know

00:29:28,779 --> 00:29:33,919
rather nice and it it works with lots of

00:29:32,330 --> 00:29:36,470
other languages it works with more than

00:29:33,919 --> 00:29:38,149
pearl it does Ruby it does Python you

00:29:36,470 --> 00:29:41,029
can use it to make an RPM from just the

00:29:38,149 --> 00:29:43,360
contents of a directory you know if you

00:29:41,029 --> 00:29:46,820
want which something that occurred to me

00:29:43,360 --> 00:29:48,710
was you know maybe you could just do

00:29:46,820 --> 00:29:52,279
that like use perl brew to build pearl

00:29:48,710 --> 00:29:54,169
and then use FB you probably could it'll

00:29:52,279 --> 00:29:55,940
probably work I haven't tried it but um

00:29:54,169 --> 00:29:59,980
you know feel free to email me or

00:29:55,940 --> 00:30:08,539
something if I if you try it so um

00:29:59,980 --> 00:30:10,490
excuse me so I'm amazed that I've

00:30:08,539 --> 00:30:13,039
actually taken up half an hour so far

00:30:10,490 --> 00:30:15,320
because I gotta tell you I was panicked

00:30:13,039 --> 00:30:17,870
all to hell that I really only had like

00:30:15,320 --> 00:30:20,570
20 minutes of material when I am when I

00:30:17,870 --> 00:30:23,090
came here and I stride out adding more

00:30:20,570 --> 00:30:25,220
things and you know writing more I don't

00:30:23,090 --> 00:30:26,629
really have much more in the way there

00:30:25,220 --> 00:30:28,490
are a lot of tools out there I just

00:30:26,629 --> 00:30:33,200
covered my favorites and the ones that I

00:30:28,490 --> 00:30:34,730
I use most commonly and have really

00:30:33,200 --> 00:30:37,340
worked for me and hopefully described

00:30:34,730 --> 00:30:39,740
caveats um and so I thought to myself

00:30:37,340 --> 00:30:41,299
well I'm a system administrator really I

00:30:39,740 --> 00:30:46,450
mean you know I I do software

00:30:41,299 --> 00:30:51,409
development you know they call me devops

00:30:46,450 --> 00:30:53,840
but uh you know i could go on about

00:30:51,409 --> 00:30:55,850
systems administration for hours and

00:30:53,840 --> 00:30:58,789
hours and and for some of you i'm sure i

00:30:55,850 --> 00:31:03,889
have in the past anybody want to talk

00:30:58,789 --> 00:31:06,440
about that for a little bit no sure okay

00:31:03,889 --> 00:31:07,759
all right um so I'm gonna try and try to

00:31:06,440 --> 00:31:11,649
i'm gonna try to keep it with the theme

00:31:07,759 --> 00:31:14,090
here i am a no pearl no pearl hacker

00:31:11,649 --> 00:31:18,679
which like no sequel means not only

00:31:14,090 --> 00:31:21,220
pearl and you know over my career i

00:31:18,679 --> 00:31:22,900
found that you know

00:31:21,220 --> 00:31:26,409
in order to work effectively with with

00:31:22,900 --> 00:31:28,330
others I gotta do a lot of everything

00:31:26,409 --> 00:31:31,750
little of everything um you know

00:31:28,330 --> 00:31:34,419
especially as a system administrator you

00:31:31,750 --> 00:31:36,309
know I got to use the right tools for

00:31:34,419 --> 00:31:38,740
the job sometimes you know python has

00:31:36,309 --> 00:31:40,419
some amazing frameworks as does Ruby you

00:31:38,740 --> 00:31:42,159
know puppet is written in Ruby and if

00:31:40,419 --> 00:31:44,080
you want to write extensions to pop it

00:31:42,159 --> 00:31:46,659
um it's usually best to write them in

00:31:44,080 --> 00:31:48,159
Ruby and certainly easiest so I've I've

00:31:46,659 --> 00:31:53,110
been doing a lot of Ruby the last couple

00:31:48,159 --> 00:31:54,520
years you know and but you know I choose

00:31:53,110 --> 00:31:56,890
what I'm working on based on a number of

00:31:54,520 --> 00:32:00,220
factors and where I work right now it's

00:31:56,890 --> 00:32:01,900
almost entirely a Java shop and I mean

00:32:00,220 --> 00:32:05,110
you know basically if it runs on the JVM

00:32:01,900 --> 00:32:08,470
you know we use it in production and of

00:32:05,110 --> 00:32:10,090
course because I'm a Hadoop admini and

00:32:08,470 --> 00:32:13,600
pretty much everything involved with

00:32:10,090 --> 00:32:16,059
Hadoop is in Java as well and so the

00:32:13,600 --> 00:32:21,070
first thing people turn to is often Java

00:32:16,059 --> 00:32:23,200
but you know it's a it's a bit of a pain

00:32:21,070 --> 00:32:27,730
because it's not very good for scripting

00:32:23,200 --> 00:32:29,980
and when your sis admitting you know and

00:32:27,730 --> 00:32:32,409
pearls a fantastic tool for systems

00:32:29,980 --> 00:32:34,990
administration it has been forever it's

00:32:32,409 --> 00:32:37,510
except for red hat its installed on

00:32:34,990 --> 00:32:39,250
every system you know and and the

00:32:37,510 --> 00:32:41,010
backwards compatibility and stability

00:32:39,250 --> 00:32:45,460
and available of ability of modules is

00:32:41,010 --> 00:32:46,929
really awesome so you know but over the

00:32:45,460 --> 00:32:50,350
years Python and Ruby have both improved

00:32:46,929 --> 00:32:52,480
and um you know the pearl maybe got a

00:32:50,350 --> 00:32:55,539
bad rap because of Matt script archive

00:32:52,480 --> 00:32:58,140
and and lots of things but uh you know

00:32:55,539 --> 00:33:03,070
and just people who don't like sigils

00:32:58,140 --> 00:33:06,820
whatever stall syntax um but I I've been

00:33:03,070 --> 00:33:09,220
meeting a lot of people who you know who

00:33:06,820 --> 00:33:13,840
know any pearl and I got to work with

00:33:09,220 --> 00:33:16,480
them you know so it's you know I mean

00:33:13,840 --> 00:33:18,429
you think system administration and and

00:33:16,480 --> 00:33:20,169
I'm on a small team and you know I mean

00:33:18,429 --> 00:33:25,150
every system administrator should should

00:33:20,169 --> 00:33:27,220
know pearl you know it's it's fast it's

00:33:25,150 --> 00:33:29,530
flexible you know I'll but there's

00:33:27,220 --> 00:33:30,760
almost 400 people in this building right

00:33:29,530 --> 00:33:32,470
now who all know pearl and if i

00:33:30,760 --> 00:33:33,610
extrapolate that out to every building

00:33:32,470 --> 00:33:36,460
in the world that's like seventeen

00:33:33,610 --> 00:33:39,559
billion people right

00:33:36,460 --> 00:33:41,990
yep but I mean the lack of Perl

00:33:39,559 --> 00:33:43,970
knowledge in the newer employees where

00:33:41,990 --> 00:33:45,529
I'm working we get a lot of people right

00:33:43,970 --> 00:33:48,889
out of college it's just kind of the

00:33:45,529 --> 00:33:50,990
nature of it they've never even seen a

00:33:48,889 --> 00:33:53,690
line of Perl code all they've read it on

00:33:50,990 --> 00:33:55,820
digg or hacker news or whatever is that

00:33:53,690 --> 00:34:00,230
it's an awful language it's so freakin

00:33:55,820 --> 00:34:02,870
messy and ugly you know and and yet when

00:34:00,230 --> 00:34:06,289
they see code that I've written in with

00:34:02,870 --> 00:34:07,909
mu or moose you know any any sort of

00:34:06,289 --> 00:34:10,790
modern frameworks and using modern

00:34:07,909 --> 00:34:12,409
practices by the way you know if you

00:34:10,790 --> 00:34:14,450
haven't bought chromatics modern pearl

00:34:12,409 --> 00:34:17,929
book I i really like it i've given it to

00:34:14,450 --> 00:34:19,970
a bunch of people because to kind of get

00:34:17,929 --> 00:34:25,280
people on board and show them you know

00:34:19,970 --> 00:34:27,290
what's out there you know and you know

00:34:25,280 --> 00:34:29,770
once people see it and they see good

00:34:27,290 --> 00:34:32,270
pearl and they also have a good

00:34:29,770 --> 00:34:35,300
installation and development experience

00:34:32,270 --> 00:34:37,429
we're using things like like the fat

00:34:35,300 --> 00:34:39,440
pack and other things like that then

00:34:37,429 --> 00:34:41,540
they start to look at it favorably

00:34:39,440 --> 00:34:44,599
especially when they've had difficulty

00:34:41,540 --> 00:34:47,359
with you know using pip or easy install

00:34:44,599 --> 00:34:50,419
or a virtual end with Python or gems

00:34:47,359 --> 00:34:51,619
with Ruby you know and and and they just

00:34:50,419 --> 00:34:54,889
suffer through it because they're like

00:34:51,619 --> 00:34:56,510
well it's better than pearl you know and

00:34:54,889 --> 00:35:00,079
then they're like well it can actually

00:34:56,510 --> 00:35:01,940
be better so it makes a big difference

00:35:00,079 --> 00:35:03,890
if you want to get some pearl in there

00:35:01,940 --> 00:35:05,450
just show them it's better you don't

00:35:03,890 --> 00:35:07,040
have to you know wheedle them or

00:35:05,450 --> 00:35:08,720
whatever and you know but also don't

00:35:07,040 --> 00:35:09,950
shove it down their throats either you

00:35:08,720 --> 00:35:14,030
know I won't pretend it's the best

00:35:09,950 --> 00:35:16,540
language out there and um you know

00:35:14,030 --> 00:35:23,690
because nothing's nothing's perfect but

00:35:16,540 --> 00:35:25,550
you know it's uh you know but it's I

00:35:23,690 --> 00:35:29,810
don't know I ran out of notes there so

00:35:25,550 --> 00:35:31,460
anyway um you know and I don't have to

00:35:29,810 --> 00:35:33,470
keep you here there other talks uh but

00:35:31,460 --> 00:35:34,819
I'm curious because I've been talking a

00:35:33,470 --> 00:35:38,210
lot of people about this whole DevOps

00:35:34,819 --> 00:35:40,579
thing because what I've described I do

00:35:38,210 --> 00:35:42,290
as I I'm a system administrator yeah but

00:35:40,579 --> 00:35:44,000
I also develop a lot of tools for people

00:35:42,290 --> 00:35:47,090
we got this thing called the hive query

00:35:44,000 --> 00:35:50,540
tool that I built in Pearl

00:35:47,090 --> 00:35:54,260
and it took off because it made the hive

00:35:50,540 --> 00:35:56,660
sequel on Hadoop layer easy enough for

00:35:54,260 --> 00:35:58,730
first of all people who didn't want to

00:35:56,660 --> 00:35:59,990
learn how to use Hadoop or didn't know

00:35:58,730 --> 00:36:02,180
much about to do but they knew some

00:35:59,990 --> 00:36:04,880
sequel and could learn hives dialect of

00:36:02,180 --> 00:36:06,470
sequel they could write templates ok and

00:36:04,880 --> 00:36:09,470
the templates we're kind of a cool

00:36:06,470 --> 00:36:11,570
little innovation in that the the

00:36:09,470 --> 00:36:13,070
templating language that you use the

00:36:11,570 --> 00:36:15,170
functions you call and whatnot within

00:36:13,070 --> 00:36:17,120
the templates actually define the web

00:36:15,170 --> 00:36:19,220
interface to give to the end user when

00:36:17,120 --> 00:36:21,740
they you know when they run the reports

00:36:19,220 --> 00:36:24,140
on the sequel reports simultaneously

00:36:21,740 --> 00:36:25,550
with how to what sequel to generate

00:36:24,140 --> 00:36:28,160
based on their input from the web

00:36:25,550 --> 00:36:30,350
interface so you only write that stuff

00:36:28,160 --> 00:36:33,560
once and it figures it out from there

00:36:30,350 --> 00:36:36,320
and the funny thing is um you know i

00:36:33,560 --> 00:36:38,450
just i used some very careful design and

00:36:36,320 --> 00:36:41,930
trickery and people have no idea that

00:36:38,450 --> 00:36:43,700
the template code is just just plate

00:36:41,930 --> 00:36:45,530
it's using text template it is just

00:36:43,700 --> 00:36:48,050
playing perl code they think i designed

00:36:45,530 --> 00:36:51,290
a template language and they like it too

00:36:48,050 --> 00:36:52,400
so this is why people it got popular in

00:36:51,290 --> 00:36:55,870
people all over the company we're

00:36:52,400 --> 00:36:58,370
downloading it and you know but also uh

00:36:55,870 --> 00:37:00,650
you know there's also the devops thing

00:36:58,370 --> 00:37:02,030
of you know when doing development and

00:37:00,650 --> 00:37:04,670
management so what does it mean to you

00:37:02,030 --> 00:37:12,380
is what I'm curious about what do what

00:37:04,670 --> 00:37:15,680
do you guys think DevOps means actually

00:37:12,380 --> 00:37:17,300
that's pretty good if you weren't here I

00:37:15,680 --> 00:37:19,580
was looking for stupid answers so I

00:37:17,300 --> 00:37:23,930
could correct everybody but you know you

00:37:19,580 --> 00:37:25,250
ruin everything that it really is it's

00:37:23,930 --> 00:37:26,750
just a buzzword and it's got too many

00:37:25,250 --> 00:37:28,610
different meanings to too many people a

00:37:26,750 --> 00:37:30,170
lot of people tell me it's it's making

00:37:28,610 --> 00:37:32,090
the developers responsible for the

00:37:30,170 --> 00:37:34,340
operations of what the developing but

00:37:32,090 --> 00:37:36,620
with sufficiently large complicated code

00:37:34,340 --> 00:37:39,650
bases and whatnot that that becomes

00:37:36,620 --> 00:37:43,070
unfeasible pretty quick awesome I've got

00:37:39,650 --> 00:37:45,200
like ten minutes left and um you know I

00:37:43,070 --> 00:37:47,870
really actually the one I prefer so I

00:37:45,200 --> 00:37:49,610
said I'm a developer Adam assisted min

00:37:47,870 --> 00:37:51,440
yep that's another one to that people

00:37:49,610 --> 00:37:52,760
trot out the one I don't hear too often

00:37:51,440 --> 00:37:56,990
but the one I think is actually most

00:37:52,760 --> 00:37:58,970
right is that it means making operation

00:37:56,990 --> 00:38:01,460
sorry it means treating ops work as

00:37:58,970 --> 00:38:02,810
development work so you're

00:38:01,460 --> 00:38:04,970
figuration first of all you want to

00:38:02,810 --> 00:38:07,339
automate doing the configuration the

00:38:04,970 --> 00:38:08,990
setup of a node and the deployment of

00:38:07,339 --> 00:38:10,940
your applications and your configuration

00:38:08,990 --> 00:38:13,760
it must be a hundred percent

00:38:10,940 --> 00:38:15,800
reproducible how do you do that well you

00:38:13,760 --> 00:38:18,349
know you check your code in to source

00:38:15,800 --> 00:38:20,210
control you use a configuration

00:38:18,349 --> 00:38:21,980
management system you try to use tools

00:38:20,210 --> 00:38:23,570
that can automate these things but also

00:38:21,980 --> 00:38:26,060
make sure that the tools that you use

00:38:23,570 --> 00:38:28,220
you've automated the setup of those as

00:38:26,060 --> 00:38:30,050
well that's the hard part it's kind of

00:38:28,220 --> 00:38:34,280
tricky but it's so worth it when things

00:38:30,050 --> 00:38:37,550
start to really grow because if I was

00:38:34,280 --> 00:38:40,730
trying to manage you know 200 + Hadoop

00:38:37,550 --> 00:38:42,290
nodes by SS aging into every box to make

00:38:40,730 --> 00:38:43,849
configurations or even just writing

00:38:42,290 --> 00:38:45,589
shell scripts to loop it which is what

00:38:43,849 --> 00:38:48,410
we started off doing when I got to

00:38:45,589 --> 00:38:50,980
tripadvisor and it was awful and luckily

00:38:48,410 --> 00:38:54,859
we only had about 30 nodes back then um

00:38:50,980 --> 00:39:00,260
you know I swear I just Harry Caray I

00:38:54,859 --> 00:39:01,609
just you know but also and so and the

00:39:00,260 --> 00:39:03,170
nice thing is though we make sure all of

00:39:01,609 --> 00:39:05,480
our operations people can concurred

00:39:03,170 --> 00:39:06,920
that's really nice thing that that

00:39:05,480 --> 00:39:10,700
they've done at tripadvisor it also

00:39:06,920 --> 00:39:13,700
makes it really hard to hire system

00:39:10,700 --> 00:39:15,890
administrators because so many of the

00:39:13,700 --> 00:39:17,000
ones that I've interviewed you know

00:39:15,890 --> 00:39:18,349
they're like well I don't do any

00:39:17,000 --> 00:39:19,550
programming it's like surely you've done

00:39:18,349 --> 00:39:21,380
some shell scripting or pearl or

00:39:19,550 --> 00:39:22,760
something right and then you ask them to

00:39:21,380 --> 00:39:24,770
write something you know relatively

00:39:22,760 --> 00:39:26,300
simple and they stumble over something

00:39:24,770 --> 00:39:29,290
that you know could be as simple as just

00:39:26,300 --> 00:39:34,190
you know a nested loop or something and

00:39:29,290 --> 00:39:35,839
so here's what I have to say and it is

00:39:34,190 --> 00:39:38,530
without any humility or humbleness

00:39:35,839 --> 00:39:38,530
whatsoever

00:39:42,490 --> 00:39:49,779
yes okay you don't have to be a rock

00:39:46,670 --> 00:39:51,890
star okay but you got to be able to

00:39:49,779 --> 00:39:54,559
simple you know you don't be competent

00:39:51,890 --> 00:39:58,579
at writing some simple scripting and you

00:39:54,559 --> 00:40:02,839
got to be able to work with with a sorry

00:39:58,579 --> 00:40:07,009
source control you know get svn please

00:40:02,839 --> 00:40:08,869
not CBS but ok if you must you know so

00:40:07,009 --> 00:40:11,089
you've got to actually be able to behave

00:40:08,869 --> 00:40:34,329
like a developer and think like a system

00:40:11,089 --> 00:40:36,440
administrator yeah mmm yes yeah yep uh

00:40:34,329 --> 00:40:39,109
you know I interviewed somebody the

00:40:36,440 --> 00:40:41,390
other day who it was kind of sad i don't

00:40:39,109 --> 00:40:43,730
think anybody pushed him like I did I

00:40:41,390 --> 00:40:47,089
you know I was his third third person

00:40:43,730 --> 00:40:49,190
interviewing him graduating with I guess

00:40:47,089 --> 00:40:53,930
some masters in IT from like worcester

00:40:49,190 --> 00:40:56,269
polytech and um yeah he didn't he didn't

00:40:53,930 --> 00:40:59,150
some java you know he knew how to write

00:40:56,269 --> 00:41:01,039
Java code not even very well and he just

00:40:59,150 --> 00:41:02,059
he didn't know any scripting languages

00:41:01,039 --> 00:41:04,249
and he wasn't really very good

00:41:02,059 --> 00:41:06,259
programmer or problem solver and I was

00:41:04,249 --> 00:41:08,119
just floored I was like wow you know and

00:41:06,259 --> 00:41:09,589
even people who are you know around my

00:41:08,119 --> 00:41:10,430
age I've met a few who are like yeah I

00:41:09,589 --> 00:41:13,519
know I've been a system administrator

00:41:10,430 --> 00:41:16,640
for 10 years but I don't code and it

00:41:13,519 --> 00:41:17,660
floors me because I you know you got to

00:41:16,640 --> 00:41:18,920
be able to do it if you're going to do

00:41:17,660 --> 00:41:22,579
it effectively anything more complicated

00:41:18,920 --> 00:41:25,309
than a lamp stack you know or Windows I

00:41:22,579 --> 00:41:28,130
don't know actually even our windows guy

00:41:25,309 --> 00:41:33,410
is a programmer he does powershell c

00:41:28,130 --> 00:41:36,380
sharp and pearl actually and so you know

00:41:33,410 --> 00:41:40,099
that's that's my take off okay so part

00:41:36,380 --> 00:41:43,819
of that this to tie it all together to

00:41:40,099 --> 00:41:45,440
do your deployment okay you know rpms

00:41:43,819 --> 00:41:47,509
and things like that you want to write

00:41:45,440 --> 00:41:49,279
you know code for puppet or ruby you

00:41:47,509 --> 00:41:53,119
want to automate everything so that it

00:41:49,279 --> 00:41:54,410
is completely reproducible and you know

00:41:53,119 --> 00:41:55,970
frankly if

00:41:54,410 --> 00:41:58,460
that server dies where you're doing all

00:41:55,970 --> 00:42:00,559
your stuff and you know you don't have

00:41:58,460 --> 00:42:02,510
everything checked into source and and

00:42:00,559 --> 00:42:04,099
an automated system that can bring it

00:42:02,510 --> 00:42:07,190
back up in a few minutes or whatever

00:42:04,099 --> 00:42:11,059
then I mean when when the hits the

00:42:07,190 --> 00:42:13,789
fan it's gonna be all over you instead

00:42:11,059 --> 00:42:15,289
of you know and it's it hurts so if

00:42:13,789 --> 00:42:16,460
you're if you're a programmer if you're

00:42:15,289 --> 00:42:19,400
a system administrator and you don't

00:42:16,460 --> 00:42:20,599
program I don't hate you okay but I

00:42:19,400 --> 00:42:22,069
would love it if you learned how to

00:42:20,599 --> 00:42:23,150
program cuz you'll make everybody's

00:42:22,069 --> 00:42:24,559
lives easier and you'll become a

00:42:23,150 --> 00:42:33,970
superhero that people think I'm a rock

00:42:24,559 --> 00:42:33,970
star and I'm just like yeah so yep ya

00:42:36,130 --> 00:42:52,849
know yep oh yes you know I actually did

00:42:51,140 --> 00:42:54,710
see that reviewing the manual last night

00:42:52,849 --> 00:42:59,380
and I didn't look into it very deeply

00:42:54,710 --> 00:42:59,380
because I hadn't used it that's cool uh

00:43:05,500 --> 00:43:14,779
yep yes exactly yeah I mean there you go

00:43:12,289 --> 00:43:17,000
so at this point you know I ran out of

00:43:14,779 --> 00:43:18,079
time to make slides and I ran out of

00:43:17,000 --> 00:43:21,770
things to say and there's only five

00:43:18,079 --> 00:43:25,720
minutes left so good thank you very much

00:43:21,770 --> 00:43:25,720
for coming I hope it was helpful

00:43:29,549 --> 00:43:35,170
and if you have any questions by the way

00:43:32,799 --> 00:43:36,279
um you know come up to me ask me like I

00:43:35,170 --> 00:43:39,279
said I'm gonna put these on on

00:43:36,279 --> 00:43:40,569
SlideShare um I think my SlideShare name

00:43:39,279 --> 00:43:42,489
is force india more you can look for my

00:43:40,569 --> 00:43:45,039
real name you know Steve Scaffidi it's

00:43:42,489 --> 00:43:49,029
on the program make sure to link to it

00:43:45,039 --> 00:43:51,549
and uh yeah and if anybody wants to talk

00:43:49,029 --> 00:43:53,199
Hadoop or system administration or

00:43:51,549 --> 00:43:56,289
anything or even sit down and maybe

00:43:53,199 --> 00:43:57,999
write some code um yeah I've got some

00:43:56,289 --> 00:44:00,219
ideas for things that it would be really

00:43:57,999 --> 00:44:01,809
cool to like you know I didn't want to

00:44:00,219 --> 00:44:03,069
actually ask for a buff because I don't

00:44:01,809 --> 00:44:04,839
know if I have the energy to organize

00:44:03,069 --> 00:44:06,940
that but if anybody wants to informally

00:44:04,839 --> 00:44:10,319
you know hack around or experiment or

00:44:06,940 --> 00:44:10,319
learn thank you

00:44:36,310 --> 00:44:42,340
the remote execution stuff right and you

00:44:40,130 --> 00:44:42,340

YouTube URL: https://www.youtube.com/watch?v=OK1ZY_bw660


