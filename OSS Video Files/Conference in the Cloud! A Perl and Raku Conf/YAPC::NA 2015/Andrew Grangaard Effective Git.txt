Title: Andrew Grangaard Effective Git
Publication date: 2015-06-16
Playlist: YAPC::NA 2015
Description: 
	
Captions: 
	00:00:00,000 --> 00:00:04,140
hello and welcome to effective get

00:00:01,890 --> 00:00:06,870
better commits through inspecting

00:00:04,140 --> 00:00:10,620
history and code archaeology the title

00:00:06,870 --> 00:00:12,870
like most commits is a lie i'm andrew

00:00:10,620 --> 00:00:15,750
grant guard I'm in from Los Angeles if

00:00:12,870 --> 00:00:17,640
any of you find your way out there run

00:00:15,750 --> 00:00:22,560
the LA p.m. and we'd be happy to move

00:00:17,640 --> 00:00:27,840
our meetings so you can talk and spasm

00:00:22,560 --> 00:00:31,230
on the twitters and etc so a quick

00:00:27,840 --> 00:00:33,329
overview of the plan here a premise some

00:00:31,230 --> 00:00:35,700
evidence and appeal to your

00:00:33,329 --> 00:00:40,829
self-interest some model commit messages

00:00:35,700 --> 00:00:43,370
some tools and some examples because

00:00:40,829 --> 00:00:46,309
what is my premise my premise is that

00:00:43,370 --> 00:00:49,110
clean and clear commits are useful

00:00:46,309 --> 00:00:51,690
they're useful to your community and to

00:00:49,110 --> 00:00:56,160
your co-workers and they're useful to

00:00:51,690 --> 00:00:59,940
you because taking a moment to compose

00:00:56,160 --> 00:01:02,940
your message or recompose your message

00:00:59,940 --> 00:01:04,500
is that same thing that we hated doing

00:01:02,940 --> 00:01:06,210
an English class of taking your rough

00:01:04,500 --> 00:01:09,689
draft and actually turning it into

00:01:06,210 --> 00:01:11,689
something that conveys information so

00:01:09,689 --> 00:01:13,799
that's that's my goal and my plan is to

00:01:11,689 --> 00:01:15,150
get you there through the back door of

00:01:13,799 --> 00:01:20,880
showing you why it's useful and then

00:01:15,150 --> 00:01:24,570
make you write them and came across this

00:01:20,880 --> 00:01:26,670
lovely cone ignore that it's from a pro

00:01:24,570 --> 00:01:31,020
rube at crow ruby and type perl group

00:01:26,670 --> 00:01:32,820
but it's it's the idea of a i don't need

00:01:31,020 --> 00:01:35,880
to write good commits because no one

00:01:32,820 --> 00:01:37,409
else is reading them but there's always

00:01:35,880 --> 00:01:39,509
a few people involved there's you

00:01:37,409 --> 00:01:43,500
there's passed you in the future you and

00:01:39,509 --> 00:01:45,649
we all know about that ax murderer who's

00:01:43,500 --> 00:01:52,049
reading your code don't let that be you

00:01:45,649 --> 00:01:54,270
to past you so yes you're impatient so

00:01:52,049 --> 00:01:56,310
let's give you some evidence let's just

00:01:54,270 --> 00:02:00,060
start with the idea that we spend more

00:01:56,310 --> 00:02:02,130
time reading then writing our code you

00:02:00,060 --> 00:02:03,689
know maybe people outside our community

00:02:02,130 --> 00:02:07,280
you don't think we do that but we do and

00:02:03,689 --> 00:02:10,349
it is readable and it is lovely and

00:02:07,280 --> 00:02:11,760
you're lazy so the best way to convince

00:02:10,349 --> 00:02:14,280
people is to

00:02:11,760 --> 00:02:16,319
like to improve your code base is to

00:02:14,280 --> 00:02:17,760
improve your code base and then you'll

00:02:16,319 --> 00:02:22,439
have examples for other people to copy

00:02:17,760 --> 00:02:23,939
and to continue and surely you have the

00:02:22,439 --> 00:02:26,280
hubris to realize that everyone is going

00:02:23,939 --> 00:02:28,079
to look at your wonderful project and it

00:02:26,280 --> 00:02:33,599
should be pretty because we'll make fun

00:02:28,079 --> 00:02:35,370
of you we will third examples later so

00:02:33,599 --> 00:02:37,260
here's some some models for commit

00:02:35,370 --> 00:02:40,290
messages and some anti models hidden in

00:02:37,260 --> 00:02:42,269
there so first from our friends over at

00:02:40,290 --> 00:02:45,629
stop writing rambling commit messages

00:02:42,269 --> 00:02:49,170
calm which is a highly entertaining site

00:02:45,629 --> 00:02:51,150
of one page it's girls off the side I've

00:02:49,170 --> 00:02:53,670
reproduced it for you so you can get the

00:02:51,150 --> 00:02:55,500
message without scrolling but hey do you

00:02:53,670 --> 00:02:57,780
like to read long rambling paragraphs in

00:02:55,500 --> 00:03:01,980
one line that you have to scroll you're

00:02:57,780 --> 00:03:03,030
doing it wrong so and what's really nice

00:03:01,980 --> 00:03:07,440
about this is that's easy to remember

00:03:03,030 --> 00:03:11,940
and it's got a nice link to the teabag

00:03:07,440 --> 00:03:13,829
repost from mr. Pope which is a good

00:03:11,940 --> 00:03:16,709
seven years old now so you have no

00:03:13,829 --> 00:03:19,319
excuse not to have come across this but

00:03:16,709 --> 00:03:21,030
the idea is that your commit message is

00:03:19,319 --> 00:03:27,049
formatted a bit like an email you've got

00:03:21,030 --> 00:03:27,049
a subject a new line and then some

00:03:27,290 --> 00:03:33,150
backup material to help explain the

00:03:30,120 --> 00:03:35,010
subject and our get tools are built

00:03:33,150 --> 00:03:37,799
around that subject message being about

00:03:35,010 --> 00:03:41,489
50 characters it makes your get logs

00:03:37,799 --> 00:03:43,139
your get inspections more useful and now

00:03:41,489 --> 00:03:45,900
you're thinking I don't use git log and

00:03:43,139 --> 00:03:49,980
I don't inspect but you will once you

00:03:45,900 --> 00:03:51,329
see how and it's lovely and fun so yeah

00:03:49,980 --> 00:03:52,829
you might be looking to say hey it's

00:03:51,329 --> 00:03:54,650
wall of text but if you're looking at a

00:03:52,829 --> 00:03:57,239
commit message you want this wall text

00:03:54,650 --> 00:04:00,449
because it sets you up for looking at

00:03:57,239 --> 00:04:04,079
the code to do your code review code

00:04:00,449 --> 00:04:05,250
reviews anybody who who has to have

00:04:04,079 --> 00:04:08,699
their code reviewed before it hits the

00:04:05,250 --> 00:04:11,479
main line who does that on their own

00:04:08,699 --> 00:04:16,079
projects when they're the only person

00:04:11,479 --> 00:04:17,880
there's a couple of us okay it you know

00:04:16,079 --> 00:04:19,260
even when you do it yourself you put

00:04:17,880 --> 00:04:22,590
yourself in a different mindset and you

00:04:19,260 --> 00:04:25,130
see different things oh yeah paragraphs

00:04:22,590 --> 00:04:28,440
new lines bullet points

00:04:25,130 --> 00:04:30,750
definitely a link to discoverability so

00:04:28,440 --> 00:04:33,180
if you have a trouble ticket system put

00:04:30,750 --> 00:04:35,669
a link in here don't just put a link to

00:04:33,180 --> 00:04:38,490
the ticket explain what what enough

00:04:35,669 --> 00:04:41,900
information to get started and what goes

00:04:38,490 --> 00:04:45,030
in here is not what you did but why

00:04:41,900 --> 00:04:47,160
what's the business role why did we add

00:04:45,030 --> 00:04:48,570
this feature it could be you know crazy

00:04:47,160 --> 00:04:51,810
Joe wanted this feature so him

00:04:48,570 --> 00:04:55,320
right that's a valid if inappropriate

00:04:51,810 --> 00:04:56,580
commit message and then when you look at

00:04:55,320 --> 00:05:01,680
the code you're like oh that's why it's

00:04:56,580 --> 00:05:04,320
you know slapdash suree this one at a

00:05:01,680 --> 00:05:05,430
robot's thoughtbot I don't know if you

00:05:04,320 --> 00:05:06,870
can actually read that URL but five

00:05:05,430 --> 00:05:09,870
useful tips for a better commit message

00:05:06,870 --> 00:05:11,310
number four was very useful which is you

00:05:09,870 --> 00:05:14,820
should be answering these questions why

00:05:11,310 --> 00:05:17,190
is this change here how does it do what

00:05:14,820 --> 00:05:18,360
it does and then if you know what the

00:05:17,190 --> 00:05:20,820
side effects are you should listen them

00:05:18,360 --> 00:05:23,040
or like the future effects hey this is

00:05:20,820 --> 00:05:25,410
only good for X but if we ever do why

00:05:23,040 --> 00:05:30,630
this is gonna be broken now unlike a

00:05:25,410 --> 00:05:32,190
human message a comment alongside the

00:05:30,630 --> 00:05:34,590
code that comments going to get stable

00:05:32,190 --> 00:05:36,720
but this is fixed in time with the code

00:05:34,590 --> 00:05:38,850
so your commit message is always current

00:05:36,720 --> 00:05:43,320
at least as current as your brain was

00:05:38,850 --> 00:05:45,630
when you wrote it here's just a rent so

00:05:43,320 --> 00:05:49,560
I rented the Linux source code and pick

00:05:45,630 --> 00:05:52,860
two commits completely at random um this

00:05:49,560 --> 00:05:54,419
one kind of weak but solid my subject

00:05:52,860 --> 00:05:57,150
hey we're replacing scatter Wallace to

00:05:54,419 --> 00:05:58,710
you next with extra next and it's like

00:05:57,150 --> 00:06:00,750
oh hey we got a how to use of German

00:05:58,710 --> 00:06:02,220
Eric because the both equivalent and the

00:06:00,750 --> 00:06:05,580
other one is redundant right that's

00:06:02,220 --> 00:06:07,710
enough information but then also hey see

00:06:05,580 --> 00:06:11,700
these other commits see these other tech

00:06:07,710 --> 00:06:14,340
gates who signed off money a second

00:06:11,700 --> 00:06:18,990
slightly longer one its commit and

00:06:14,340 --> 00:06:21,330
there's a message and it's better oh

00:06:18,990 --> 00:06:25,280
this is good this was bad here was a bug

00:06:21,330 --> 00:06:28,530
now it's all fixed plenty of information

00:06:25,280 --> 00:06:30,650
then we have the anti model from code

00:06:28,530 --> 00:06:32,880
lords bad commit messages Hall of Shame

00:06:30,650 --> 00:06:35,669
which actually does have some you know

00:06:32,880 --> 00:06:37,409
some nice positive messages too but some

00:06:35,669 --> 00:06:38,249
of your least favorites bug fix more

00:06:37,409 --> 00:06:42,509
work minor chain

00:06:38,249 --> 00:06:47,219
jizz whoopsie WTF Yolo is becoming a

00:06:42,509 --> 00:06:49,589
popular one or work on feature blog like

00:06:47,219 --> 00:06:50,879
your ID just like committing saying hey

00:06:49,589 --> 00:06:52,349
do you want to use that last commit 20

00:06:50,879 --> 00:06:54,539
times there's there's no information

00:06:52,349 --> 00:06:56,609
there so why are you doing it now you

00:06:54,539 --> 00:06:58,709
can do that on your future branch you

00:06:56,609 --> 00:07:01,349
own your feature branch until you merge

00:06:58,709 --> 00:07:05,579
it you own it you know make silly little

00:07:01,349 --> 00:07:09,119
commits as you go and then coalesce them

00:07:05,579 --> 00:07:10,709
into useful features so that's ok on

00:07:09,119 --> 00:07:13,469
your rough draft that's not okay on your

00:07:10,709 --> 00:07:16,110
on your your finish a message of just

00:07:13,469 --> 00:07:17,999
fixed bug blah again doesn't give you

00:07:16,110 --> 00:07:19,739
any context other than hey go look at

00:07:17,999 --> 00:07:23,849
the bug tracker which you didn't fill

00:07:19,739 --> 00:07:25,619
out either and if it's you and if it

00:07:23,849 --> 00:07:27,659
doesn't need a comment it should be very

00:07:25,619 --> 00:07:29,819
simple like change pants and x2 weekend

00:07:27,659 --> 00:07:32,549
well you're probably doing that but why

00:07:29,819 --> 00:07:35,699
so hey updated Constance remove some

00:07:32,549 --> 00:07:37,199
magic numbers whatever it is and super

00:07:35,699 --> 00:07:39,869
long commit messages woo something like

00:07:37,199 --> 00:07:43,139
Edwards lots of characters woohoo emoji

00:07:39,869 --> 00:07:45,389
go in there as well so yeah 50

00:07:43,139 --> 00:07:47,429
characters elastic with it and why

00:07:45,389 --> 00:07:50,069
because you'll see if you start looking

00:07:47,429 --> 00:07:51,749
at your get logs they format nicely on

00:07:50,069 --> 00:07:55,379
your little screen it's a very small

00:07:51,749 --> 00:07:56,759
screen over here and as I said there

00:07:55,379 --> 00:07:58,919
really are people out there shaming you

00:07:56,759 --> 00:08:01,919
for your bad commits commit logs from

00:07:58,919 --> 00:08:06,209
last night I found some that were safe

00:08:01,919 --> 00:08:08,639
free app see most of them are like this

00:08:06,209 --> 00:08:09,979
middle one and I'm pretty sure they're

00:08:08,639 --> 00:08:13,549
pulling these out of real kit mate logs

00:08:09,979 --> 00:08:16,049
they're just Charlie github for thanks I

00:08:13,549 --> 00:08:19,379
make I fix that thing and it was

00:08:16,049 --> 00:08:20,729
stupidly none of these are useful yes in

00:08:19,379 --> 00:08:22,139
the moment you just want to fix it and

00:08:20,729 --> 00:08:25,889
get it out there but if you're going to

00:08:22,139 --> 00:08:28,709
do that go back to fix it so some of the

00:08:25,889 --> 00:08:31,529
tools I use so get so this is a very

00:08:28,709 --> 00:08:35,490
good centric it was in the front

00:08:31,529 --> 00:08:41,449
slide everyone a source control user of

00:08:35,490 --> 00:08:47,269
some kind most part copy dot back okay

00:08:41,449 --> 00:08:50,510
get users moderate to advance get users

00:08:47,269 --> 00:08:54,050
wrote kit okay good

00:08:50,510 --> 00:08:55,730
TIG which is both a super useful and a

00:08:54,050 --> 00:08:59,270
total crutch that keeps me from learning

00:08:55,730 --> 00:09:01,880
more it's an end curses based or the

00:08:59,270 --> 00:09:05,090
beautiful tool and fugitive which is a

00:09:01,880 --> 00:09:09,890
vin plugin and i'll be showing how to

00:09:05,090 --> 00:09:11,840
use some vim tips with that because so

00:09:09,890 --> 00:09:13,940
get you should know some of these so

00:09:11,840 --> 00:09:16,130
right it's the stupid content tracker

00:09:13,940 --> 00:09:19,130
we've had a lovely talk in here on get

00:09:16,130 --> 00:09:20,720
and how to change your history and it

00:09:19,130 --> 00:09:25,340
didn't have examples so i'll be giving

00:09:20,720 --> 00:09:26,960
you some examples should I have done so

00:09:25,340 --> 00:09:28,820
some of the commands just you know

00:09:26,960 --> 00:09:31,100
checking out a branch checking it out

00:09:28,820 --> 00:09:32,930
making them named feature branch some

00:09:31,100 --> 00:09:36,290
people that's going into the moderate

00:09:32,930 --> 00:09:37,760
but your life will be much happier like

00:09:36,290 --> 00:09:39,680
really branches are cheap they're

00:09:37,760 --> 00:09:41,480
wonderful and they're a great way to

00:09:39,680 --> 00:09:44,690
just you know new temp directory do some

00:09:41,480 --> 00:09:47,120
stuff throw it away logs commits

00:09:44,690 --> 00:09:50,180
branches maybe you're not using rebase

00:09:47,120 --> 00:09:53,960
and amend and these are good I don't

00:09:50,180 --> 00:09:56,600
actually do much amend in this but it

00:09:53,960 --> 00:10:00,080
lets you just change them the head

00:09:56,600 --> 00:10:02,210
commit as you go along I prefer to

00:10:00,080 --> 00:10:06,380
actually just do lots of fix-ups for it

00:10:02,210 --> 00:10:09,290
and then squash them so checking out and

00:10:06,380 --> 00:10:13,190
logs commits you know all these so tag

00:10:09,290 --> 00:10:15,080
is a text mode interface and curses so

00:10:13,190 --> 00:10:18,620
if you're a terminal junkie terminal

00:10:15,080 --> 00:10:20,390
junkie anyway yeah that's up so I don't

00:10:18,620 --> 00:10:23,030
want to pull up I don't want to pull up

00:10:20,390 --> 00:10:25,280
a webpage I do sometimes I go look at my

00:10:23,030 --> 00:10:27,440
commits there but I like to look in my

00:10:25,280 --> 00:10:31,250
terminal as close to my brows my editor

00:10:27,440 --> 00:10:32,870
as I can so I can do it quickly it does

00:10:31,250 --> 00:10:35,090
a whole bunch of things that I don't use

00:10:32,870 --> 00:10:39,530
I just used it as an interactive

00:10:35,090 --> 00:10:41,990
exploratory tool so and then fugitive to

00:10:39,530 --> 00:10:46,430
get wrapper so awesome each should be

00:10:41,990 --> 00:10:48,500
illegal not only that anything goes on

00:10:46,430 --> 00:10:50,620
to say not going to lie to you may way

00:10:48,500 --> 00:10:53,810
will be the best get rapper of all time

00:10:50,620 --> 00:10:54,650
check out these features and I suggest

00:10:53,810 --> 00:11:00,410
you go there and check them out because

00:10:54,650 --> 00:11:03,250
their halls fugitive users any little we

00:11:00,410 --> 00:11:09,170
have five or six okay

00:11:03,250 --> 00:11:11,180
you know if you've I assume that other

00:11:09,170 --> 00:11:19,250
editors have some sort of watered-down

00:11:11,180 --> 00:11:23,540
version so religion operating system or

00:11:19,250 --> 00:11:28,760
um I love it you know I remember my

00:11:23,540 --> 00:11:30,920
Emacs days no um so and this is what I

00:11:28,760 --> 00:11:34,430
think of every time I go to look at the

00:11:30,920 --> 00:11:37,100
fugitive website anybody real ultimate

00:11:34,430 --> 00:11:41,150
power that's right are you ready to get

00:11:37,100 --> 00:11:44,180
pumped Pumped huh all right Ryan click

00:11:41,150 --> 00:11:45,650
the yes button that baby alright so the

00:11:44,180 --> 00:11:50,030
fugitive things that I like to use get

00:11:45,650 --> 00:11:51,940
blame so the commands in fugitive or

00:11:50,030 --> 00:11:54,410
I'll capital colon capital G and then

00:11:51,940 --> 00:11:57,170
pretty much the get command that you're

00:11:54,410 --> 00:12:02,000
used to sadly there's no G annotate

00:11:57,170 --> 00:12:05,180
which is a little more neutral but get

00:12:02,000 --> 00:12:06,500
Lane pops up a side-by-side with your

00:12:05,180 --> 00:12:09,520
current file showing you the revs per

00:12:06,500 --> 00:12:14,000
line and it's way more useful than

00:12:09,520 --> 00:12:16,960
looking at the scrolling output of get

00:12:14,000 --> 00:12:20,630
blame from the command line get status

00:12:16,960 --> 00:12:23,090
shows you pops up a new window with a

00:12:20,630 --> 00:12:24,680
live version of get status and as you

00:12:23,090 --> 00:12:27,350
check things in and out it will update

00:12:24,680 --> 00:12:30,710
and from within it you can update and

00:12:27,350 --> 00:12:33,830
add and remove the house I've started

00:12:30,710 --> 00:12:35,470
using that round to this morning when I

00:12:33,830 --> 00:12:39,380
was writing this talk and it's awesome

00:12:35,470 --> 00:12:41,240
but didn't make the slides and G log is

00:12:39,380 --> 00:12:43,820
one that I forced myself again to learn

00:12:41,240 --> 00:12:46,490
and practice with because it's kind of

00:12:43,820 --> 00:12:47,930
ridiculous so it will blow up all the

00:12:46,490 --> 00:12:49,220
old revs of the current file and put

00:12:47,930 --> 00:12:54,200
them in the quick list so you can pop

00:12:49,220 --> 00:12:57,830
through them yeah did I have a hand down

00:12:54,200 --> 00:13:00,140
just a hand cool and so with glog you

00:12:57,830 --> 00:13:01,670
can open them all up and you can go and

00:13:00,140 --> 00:13:03,950
I think actually Colo that's the wrong

00:13:01,670 --> 00:13:05,120
that's a typo um but see an ACCI proved

00:13:03,950 --> 00:13:07,360
to move through the list and if you're

00:13:05,120 --> 00:13:12,410
using BIM unimpaired also from T Pope

00:13:07,360 --> 00:13:13,730
it's just bracket cue to go boom boom

00:13:12,410 --> 00:13:15,209
boom up and down through the history

00:13:13,730 --> 00:13:18,720
file

00:13:15,209 --> 00:13:21,899
so an introspection example so I pulled

00:13:18,720 --> 00:13:24,569
down pro 5 so let's do some example of

00:13:21,899 --> 00:13:25,850
what I do with the new code base of hey

00:13:24,569 --> 00:13:28,879
I want to jump in I want to look around

00:13:25,850 --> 00:13:31,980
get a feel for what's going on so

00:13:28,879 --> 00:13:34,769
examples viewing the history of the

00:13:31,980 --> 00:13:37,589
whole thing for one file context of one

00:13:34,769 --> 00:13:40,170
commits exploring the context of a line

00:13:37,589 --> 00:13:44,670
and viewing all the revisions cope

00:13:40,170 --> 00:13:47,519
that's so we clone it if you're on the

00:13:44,670 --> 00:13:51,839
life I here get it from github not from

00:13:47,519 --> 00:13:55,399
provo org that just didn't work so yes

00:13:51,839 --> 00:13:59,399
so we pop in a tag and you get a live

00:13:55,399 --> 00:14:01,350
interface into your code so you get your

00:13:59,399 --> 00:14:06,959
commits and you can pop in and see the

00:14:01,350 --> 00:14:14,970
Rebs and pop back up and and other these

00:14:06,959 --> 00:14:16,470
your commit sir net so this one was

00:14:14,970 --> 00:14:20,069
picked because this is a lovely commit

00:14:16,470 --> 00:14:21,720
message yeah not the the other k

00:14:20,069 --> 00:14:27,779
williams since we get we need to talk

00:14:21,720 --> 00:14:30,360
yeah um no I look at those which will be

00:14:27,779 --> 00:14:31,619
right after this um but again just

00:14:30,360 --> 00:14:35,069
randomly walking through I found this

00:14:31,619 --> 00:14:37,019
one this was lovely it's got a

00:14:35,069 --> 00:14:40,350
commitment it references the bug it says

00:14:37,019 --> 00:14:42,959
why what it does and only modifies two

00:14:40,350 --> 00:14:46,379
files so then I was like hey what what's

00:14:42,959 --> 00:14:48,420
in PP Patsy I don't know probably should

00:14:46,379 --> 00:14:50,819
notice that there's really only on one

00:14:48,420 --> 00:14:54,420
line change so it's changed to PP dot c

00:14:50,819 --> 00:14:57,029
PP back was kind of minimal but I went

00:14:54,420 --> 00:14:59,549
with it as my example anyways so let's

00:14:57,029 --> 00:15:02,790
go look at the logs for that for pretty

00:14:59,549 --> 00:15:07,290
pack or PP pack dot C so we get log

00:15:02,790 --> 00:15:10,499
pretty one line shows git commit and get

00:15:07,290 --> 00:15:13,259
Shaw's and just the subject of the

00:15:10,499 --> 00:15:17,279
commits and there was a lot of them are

00:15:13,259 --> 00:15:19,829
234 commits to this file which is really

00:15:17,279 --> 00:15:22,290
too many for this example but hey let's

00:15:19,829 --> 00:15:23,819
your pin we jump in here's PP back dot

00:15:22,290 --> 00:15:28,050
see how many people have been in there

00:15:23,819 --> 00:15:31,570
you obviously to 35 x

00:15:28,050 --> 00:15:34,450
this is my second time looking in the

00:15:31,570 --> 00:15:41,890
pro/5 source code base so it was really

00:15:34,450 --> 00:15:44,770
exciting no yet here we are um so but it

00:15:41,890 --> 00:15:46,720
was still fun nonetheless so boom like

00:15:44,770 --> 00:15:50,740
hey we're in it let's do get blame like

00:15:46,720 --> 00:15:53,680
what happens I do colon G blame boom my

00:15:50,740 --> 00:15:56,110
window splits it really is this size and

00:15:53,680 --> 00:15:58,900
just squishers the things and now I can

00:15:56,110 --> 00:16:01,810
see her line who committed and when and

00:15:58,900 --> 00:16:06,370
so I see like look this was 2008 and

00:16:01,810 --> 00:16:07,480
that was 2001 obviously those are not

00:16:06,370 --> 00:16:10,870
going to be changed a lot through the

00:16:07,480 --> 00:16:12,340
head comment block but we can then hey

00:16:10,870 --> 00:16:15,310
that's using up all the screen let's

00:16:12,340 --> 00:16:20,410
look at just the command C commit a

00:16:15,310 --> 00:16:21,430
author d date the other thing you can do

00:16:20,410 --> 00:16:22,510
with get blames you can actually pick

00:16:21,430 --> 00:16:25,180
one of these and say I want to look at

00:16:22,510 --> 00:16:29,770
it or I want to change what's in the

00:16:25,180 --> 00:16:32,700
other window so if we hit oh we pop up a

00:16:29,770 --> 00:16:37,140
the current Rev which was highlighted

00:16:32,700 --> 00:16:41,620
and so I've now opened up rev a six east

00:16:37,140 --> 00:16:43,960
ec 74 and there it is boom and now I can

00:16:41,620 --> 00:16:46,480
start scrolling up and down in the top

00:16:43,960 --> 00:16:47,950
window and I can go up to the top and

00:16:46,480 --> 00:16:50,260
see who made that commit and what they

00:16:47,950 --> 00:16:52,980
had to say so we just split off the pack

00:16:50,260 --> 00:16:58,060
unpack code from Nicholas Clarke

00:16:52,980 --> 00:17:01,090
functional it's a little short it works

00:16:58,060 --> 00:17:02,860
I suppose I don't know the exact culture

00:17:01,090 --> 00:17:07,390
of this project and what is expected in

00:17:02,860 --> 00:17:09,910
commit there you go so these came from

00:17:07,390 --> 00:17:15,370
somewhere else they were all imported

00:17:09,910 --> 00:17:17,140
from perforce oh yeah well then if you

00:17:15,370 --> 00:17:23,950
got this many letters in then you did

00:17:17,140 --> 00:17:26,080
good alright perforce oh ok so but then

00:17:23,950 --> 00:17:28,150
we you pop back to the close that window

00:17:26,080 --> 00:17:29,530
you're back in your get blame and I was

00:17:28,150 --> 00:17:30,940
like hey let me let go look at that Rev

00:17:29,530 --> 00:17:32,470
i was looking at now I wouldn't normally

00:17:30,940 --> 00:17:34,180
do it this way but you could you know i

00:17:32,470 --> 00:17:36,910
had the Rev number of my head so I was

00:17:34,180 --> 00:17:38,530
like let me go look for FC one BB 3f to

00:17:36,910 --> 00:17:40,580
just you know it's how I think of my

00:17:38,530 --> 00:17:42,769
kids

00:17:40,580 --> 00:17:46,010
and so I found it and now get my coat on

00:17:42,769 --> 00:17:49,250
the right that's current I hit- and now

00:17:46,010 --> 00:17:55,010
it's rebase it's gone to blame all of

00:17:49,250 --> 00:17:57,679
the lines relative to that Rev so in my

00:17:55,010 --> 00:18:02,860
right window is now everything as it was

00:17:57,679 --> 00:18:05,779
in 2015 02 18 when Hugo made this commit

00:18:02,860 --> 00:18:08,240
and then I can collapse down and just

00:18:05,779 --> 00:18:10,850
see the line that I'm looking at jump

00:18:08,240 --> 00:18:13,820
back over the other window and now i use

00:18:10,850 --> 00:18:16,669
get diff which uses the built-in vim

00:18:13,820 --> 00:18:19,580
diff but produces for you a magic slide

00:18:16,669 --> 00:18:21,649
of the other one of the of the history

00:18:19,580 --> 00:18:24,440
so now i can see my diff and I can see

00:18:21,649 --> 00:18:27,470
it related to the relative files and I

00:18:24,440 --> 00:18:30,649
can see how recent the files around it

00:18:27,470 --> 00:18:32,240
are again this particular example yeah

00:18:30,649 --> 00:18:35,990
we didn't learn that much but it was

00:18:32,240 --> 00:18:39,200
really fun and if you do Tildy it says

00:18:35,990 --> 00:18:41,480
hey do a group a actually dash until

00:18:39,200 --> 00:18:43,309
they do parent and grandparent but it's

00:18:41,480 --> 00:18:46,100
like Oh show me what it was like before

00:18:43,309 --> 00:18:50,450
this commit happen which is another fun

00:18:46,100 --> 00:18:53,450
way to just roll through your your

00:18:50,450 --> 00:18:55,039
commits we get past my and now here's

00:18:53,450 --> 00:18:58,630
another one I was like hey here's a

00:18:55,039 --> 00:19:01,880
comment let's see if it's still current

00:18:58,630 --> 00:19:03,169
so I'm walking through and there's a

00:19:01,880 --> 00:19:04,970
question we have enough characters for

00:19:03,169 --> 00:19:09,110
the buffer do we have any problems where

00:19:04,970 --> 00:19:11,630
did that come from we blame it we say

00:19:09,110 --> 00:19:13,190
where it is we hit enter it pulls up

00:19:11,630 --> 00:19:16,399
that Rev and then we're actually in the

00:19:13,190 --> 00:19:18,740
code at that Rev but we're not in the

00:19:16,399 --> 00:19:20,210
code we're in the commit so we can now

00:19:18,740 --> 00:19:23,990
scroll around in the commit see what was

00:19:20,210 --> 00:19:28,039
added jump up to the top see what the

00:19:23,990 --> 00:19:29,419
message was this particular one tweak to

00:19:28,039 --> 00:19:32,539
remove not support on this platform

00:19:29,419 --> 00:19:33,830
error messages seem to not really cover

00:19:32,539 --> 00:19:36,470
the fact that you know there was a bunch

00:19:33,830 --> 00:19:40,250
of 100 became 99 and I don't know what

00:19:36,470 --> 00:19:43,309
these magic numbers are again no context

00:19:40,250 --> 00:19:45,799
for me so for me as a person jumping in

00:19:43,309 --> 00:19:47,780
obviously not the the baby steps to go

00:19:45,799 --> 00:19:50,930
with but still fascinate

00:19:47,780 --> 00:19:57,390
and if you were to pop it up in geelong

00:19:50,930 --> 00:20:00,750
you could then pull up the nice the 200

00:19:57,390 --> 00:20:02,850
lines to cope to pop open a quick list

00:20:00,750 --> 00:20:06,210
and now we can see each of the commits

00:20:02,850 --> 00:20:08,340
and if we walk through and hit enter the

00:20:06,210 --> 00:20:09,540
top window becomes the current commit so

00:20:08,340 --> 00:20:12,110
again I I looked for the one I was

00:20:09,540 --> 00:20:14,370
looking for hit enter now it's up top

00:20:12,110 --> 00:20:16,440
and then I close the quick list and Here

00:20:14,370 --> 00:20:20,310
I am just looking at it and I can do a

00:20:16,440 --> 00:20:23,520
git diff actually I do a git diff of not

00:20:20,310 --> 00:20:27,210
head but of that Rev and I can see the

00:20:23,520 --> 00:20:29,700
difference between that and what was in

00:20:27,210 --> 00:20:33,900
the previous head and then I can close

00:20:29,700 --> 00:20:36,930
the diff and I'm back to the code let's

00:20:33,900 --> 00:20:39,530
see here and unfortunately my rewriting

00:20:36,930 --> 00:20:41,460
of history example which was awesome

00:20:39,530 --> 00:20:43,320
he's probably not going to fit in the

00:20:41,460 --> 00:20:45,090
time so i can let you go if you need to

00:20:43,320 --> 00:20:47,520
get drinks if anyone would like to see

00:20:45,090 --> 00:20:50,070
an example of rebasing my production

00:20:47,520 --> 00:20:54,690
code that i did this morning it is

00:20:50,070 --> 00:20:57,480
python so I warned you on that but I did

00:20:54,690 --> 00:20:59,460
a feature under the gun last week and so

00:20:57,480 --> 00:21:02,160
I broke all my roles and all my commits

00:20:59,460 --> 00:21:05,490
were like single line messages to myself

00:21:02,160 --> 00:21:09,090
okay this is work in progress but I had

00:21:05,490 --> 00:21:10,980
no intention of merging this but I had

00:21:09,090 --> 00:21:14,120
to push it and sink it a bunch of times

00:21:10,980 --> 00:21:19,590
to the machine that was actually testing

00:21:14,120 --> 00:21:21,900
so we walk in we look in what's going on

00:21:19,590 --> 00:21:23,610
in the commits I find one of the files

00:21:21,900 --> 00:21:27,690
that changes I find the commits that are

00:21:23,610 --> 00:21:29,280
related to that so it's a TIG to look

00:21:27,690 --> 00:21:33,080
just a particular file name so it just

00:21:29,280 --> 00:21:35,100
shows me the changes for that I looking

00:21:33,080 --> 00:21:37,250
apply the knowledge that I have because

00:21:35,100 --> 00:21:40,410
I just wrote it what it should be doing

00:21:37,250 --> 00:21:43,710
now I go get my branch I'm going to make

00:21:40,410 --> 00:21:46,650
a pretend tracking branch rebase so that

00:21:43,710 --> 00:21:50,100
I you know as a snapshot so I don't

00:21:46,650 --> 00:21:53,070
break my original branch which was

00:21:50,100 --> 00:21:54,840
really useful for making the slides get

00:21:53,070 --> 00:21:56,370
the current merge base most of the time

00:21:54,840 --> 00:21:58,470
you won't need this but get merge base

00:21:56,370 --> 00:21:59,879
will show us where you diverged from

00:21:58,470 --> 00:22:01,949
your upstream

00:21:59,879 --> 00:22:03,989
which can be useful if you're rebasing

00:22:01,949 --> 00:22:06,539
non interactively but regular rebasing

00:22:03,989 --> 00:22:09,629
which will move that branch point maybe

00:22:06,539 --> 00:22:14,299
when you didn't want to so here's an

00:22:09,629 --> 00:22:18,599
example of rebasing one file I rebase

00:22:14,299 --> 00:22:22,769
interactively from that commit okay aah

00:22:18,599 --> 00:22:26,519
at from that merge commit I pick these

00:22:22,769 --> 00:22:28,619
three reorder them which actually

00:22:26,519 --> 00:22:33,089
changes their get order and now we'll

00:22:28,619 --> 00:22:34,889
rebase them all yeah a success and then

00:22:33,089 --> 00:22:36,719
I can look at them i'm eric and i can

00:22:34,889 --> 00:22:38,459
see there are my three of the top of the

00:22:36,719 --> 00:22:40,469
get log and now i will squish those

00:22:38,459 --> 00:22:42,539
three together because I check the diff

00:22:40,469 --> 00:22:44,969
for them and that's what I expect it to

00:22:42,539 --> 00:22:50,459
look like so I go back into the rebase

00:22:44,969 --> 00:22:53,099
again and now i use s4 squash as opposed

00:22:50,459 --> 00:22:55,109
to f4 fix-up squash says hey open up an

00:22:53,099 --> 00:22:58,229
editor and commit these three together

00:22:55,109 --> 00:23:00,329
and let me update the message so this is

00:22:58,229 --> 00:23:03,149
a terrible set of commit messages first

00:23:00,329 --> 00:23:05,699
one okay not so good when it becomes

00:23:03,149 --> 00:23:09,329
this so catalog we're adding these

00:23:05,699 --> 00:23:10,919
methods why we're doing it they're both

00:23:09,329 --> 00:23:12,809
for this one-off importer that we're

00:23:10,919 --> 00:23:16,649
doing these are the bugs from our bug

00:23:12,809 --> 00:23:18,389
system this one is useful for the actual

00:23:16,649 --> 00:23:21,779
code and this one is useful for testing

00:23:18,389 --> 00:23:26,129
it and reactive work and then you do

00:23:21,779 --> 00:23:28,079
that and you're done I had at least one

00:23:26,129 --> 00:23:29,909
auto squash in there so i did a fix-up

00:23:28,079 --> 00:23:33,839
commit with the message of fix up and

00:23:29,909 --> 00:23:35,579
then the commit message and you auto

00:23:33,839 --> 00:23:37,859
squash which you used to just be able to

00:23:35,579 --> 00:23:40,769
type auto but now there's a couple auto

00:23:37,859 --> 00:23:42,509
flags so rebase auto squash will bring

00:23:40,769 --> 00:23:44,429
this up it'll automatically put fix up

00:23:42,509 --> 00:23:47,759
there for you and you quit and it's

00:23:44,429 --> 00:23:51,239
merged and then you see hey how many

00:23:47,759 --> 00:23:54,029
files are changed you go back in you do

00:23:51,239 --> 00:23:57,629
more you do more you get your commits

00:23:54,029 --> 00:24:00,449
down you look at them you rebase them

00:23:57,629 --> 00:24:05,569
again you reorder them you fix your

00:24:00,449 --> 00:24:08,219
messages Yuri base again Yuri base again

00:24:05,569 --> 00:24:11,159
like oh the taxi toes oh well it was

00:24:08,219 --> 00:24:13,510
actually merged with this other one yes

00:24:11,159 --> 00:24:23,140
so let's go fix that one

00:24:13,510 --> 00:24:25,000
wish it went this vast and rebase you

00:24:23,140 --> 00:24:27,430
know it makes your old branch a lie this

00:24:25,000 --> 00:24:30,370
is true and you know I pushed my old

00:24:27,430 --> 00:24:32,020
brain my old branch to our shared

00:24:30,370 --> 00:24:34,420
repository but you know it it's my

00:24:32,020 --> 00:24:43,320
feature branch and I own it and I can

00:24:34,420 --> 00:24:46,150
rebase it all I want and so can you yes

00:24:43,320 --> 00:24:50,230
so yeah this was all do this morning so

00:24:46,150 --> 00:24:53,140
I was rebasing it last night um free

00:24:50,230 --> 00:24:55,900
basic yes I would like get free base and

00:24:53,140 --> 00:24:58,810
I'd also like get flame which is like it

00:24:55,900 --> 00:25:01,900
blame but they'd be colorized to show

00:24:58,810 --> 00:25:03,160
you the age so if someone would like to

00:25:01,900 --> 00:25:05,590
write that for me that would be awesome

00:25:03,160 --> 00:25:08,290
thank you and you can use the name get

00:25:05,590 --> 00:25:12,730
flame I know if anybody out there does

00:25:08,290 --> 00:25:17,490
flame graphs Tim looking at you all

00:25:12,730 --> 00:25:17,490
right and then at the end you get to do

00:25:17,640 --> 00:25:24,730
where do I get the push come on boy she

00:25:20,200 --> 00:25:27,820
pushed a chef yeah and ship it there we

00:25:24,730 --> 00:25:33,160
go and pushed a chef it's my branch I

00:25:27,820 --> 00:25:37,900
can do that oh that's weird there are

00:25:33,160 --> 00:25:40,870
more slides no there aren't more slides

00:25:37,900 --> 00:25:45,640
some of my slides disappeared apparently

00:25:40,870 --> 00:25:47,170
someone rebased my slides and the only

00:25:45,640 --> 00:25:49,300
one that's missing is the one that says

00:25:47,170 --> 00:25:51,760
hey we're done your questions and my

00:25:49,300 --> 00:25:55,270
name and what have you so um just

00:25:51,760 --> 00:25:58,710
remember Simba loves you and come visit

00:25:55,270 --> 00:26:00,730
belly thank you I'm spasm on Twitter and

00:25:58,710 --> 00:26:02,560
wherever and please come ask me

00:26:00,730 --> 00:26:05,010
questions and i'll help you rebase your

00:26:02,560 --> 00:26:07,070
stuff it's fun

00:26:05,010 --> 00:26:07,070

YouTube URL: https://www.youtube.com/watch?v=oS-mMKnAAL0


