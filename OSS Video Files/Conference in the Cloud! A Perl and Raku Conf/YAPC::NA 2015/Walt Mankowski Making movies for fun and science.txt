Title: Walt Mankowski Making movies for fun and science
Publication date: 2015-06-16
Playlist: YAPC::NA 2015
Description: 
	
Captions: 
	00:00:00,130 --> 00:00:07,450
I I work as a postdoc at Drexel

00:00:03,909 --> 00:00:09,280
University in Philadelphia and my lab we

00:00:07,450 --> 00:00:12,580
get pictures from we get movies from

00:00:09,280 --> 00:00:13,929
biologists of various cells from

00:00:12,580 --> 00:00:17,699
microscopes that can take time-lapse

00:00:13,929 --> 00:00:19,869
movies of them and our software can

00:00:17,699 --> 00:00:22,989
segment and track the cells that's

00:00:19,869 --> 00:00:25,659
what's going on the left and also create

00:00:22,989 --> 00:00:27,099
a lineage tree which is being shown on

00:00:25,659 --> 00:00:28,689
the right so like a family tree of

00:00:27,099 --> 00:00:32,500
however all the cells are dividing these

00:00:28,689 --> 00:00:33,910
are neural stem cells from a mouse I'll

00:00:32,500 --> 00:00:38,200
be showing you other types of cells

00:00:33,910 --> 00:00:40,600
later on and so we end up making lots of

00:00:38,200 --> 00:00:41,830
movies as part of our work both because

00:00:40,600 --> 00:00:43,120
they look really nice good at

00:00:41,830 --> 00:00:46,090
presentations and also to help visualize

00:00:43,120 --> 00:00:47,230
what's going on and I'm running this

00:00:46,090 --> 00:00:50,380
separately because I couldn't get it to

00:00:47,230 --> 00:01:00,600
run inside of keynote it kept having

00:00:50,380 --> 00:01:00,600
problems so let's get back right here

00:01:01,840 --> 00:01:06,560
right as you'll see this is going to

00:01:03,739 --> 00:01:07,700
stop right great yeah I don't know why

00:01:06,560 --> 00:01:11,390
that wasn't working this is another

00:01:07,700 --> 00:01:14,510
movie that i made on the left i'm trying

00:01:11,390 --> 00:01:16,700
to compare how I was segmenting that

00:01:14,510 --> 00:01:18,830
blob right there and so the old the old

00:01:16,700 --> 00:01:20,119
way it wasn't working very well but I

00:01:18,830 --> 00:01:22,100
made some changes and I'm kind of

00:01:20,119 --> 00:01:24,110
drawing that nice red circle around most

00:01:22,100 --> 00:01:27,020
of the places so there's another example

00:01:24,110 --> 00:01:29,240
of like how we make movies I want to

00:01:27,020 --> 00:01:36,050
show things side by side and I want to

00:01:29,240 --> 00:01:37,460
talk about how I do that so this what we

00:01:36,050 --> 00:01:40,610
normally get from our biologists are

00:01:37,460 --> 00:01:43,580
lots and lots of pictures that look this

00:01:40,610 --> 00:01:45,500
is maybe one of the not so great ones at

00:01:43,580 --> 00:01:50,380
least from our point of view as trying

00:01:45,500 --> 00:01:52,880
to analyze these images um so these are

00:01:50,380 --> 00:01:56,509
mad apoyo de stem cell so their blood

00:01:52,880 --> 00:01:58,460
they're like blood immune system cells I

00:01:56,509 --> 00:02:00,440
think we weren't even sure to start off

00:01:58,460 --> 00:02:03,679
with what we were really looking for

00:02:00,440 --> 00:02:06,770
here so our collaborator sent us back

00:02:03,679 --> 00:02:08,390
and they said these really dark things

00:02:06,770 --> 00:02:10,280
you probably can't even see in the back

00:02:08,390 --> 00:02:12,410
our dead cells the sort of brighter

00:02:10,280 --> 00:02:14,390
white ones are live cells so we're

00:02:12,410 --> 00:02:22,970
basically trying to find those little

00:02:14,390 --> 00:02:24,560
white circles in all the movies so what

00:02:22,970 --> 00:02:25,970
I did here was just make a movie of the

00:02:24,560 --> 00:02:27,200
first hundred frames to kind of get a

00:02:25,970 --> 00:02:28,970
better sense of what was going on with

00:02:27,200 --> 00:02:30,890
these normally we use a program on

00:02:28,970 --> 00:02:32,060
windows called Earth Day and view which

00:02:30,890 --> 00:02:34,340
is really good for scanning through

00:02:32,060 --> 00:02:39,440
pictures but I've mackin it doesn't run

00:02:34,340 --> 00:02:41,510
on the Mac so you can kind of see that

00:02:39,440 --> 00:02:43,310
this oddly shaped thing around the side

00:02:41,510 --> 00:02:44,810
that's actually the well that they were

00:02:43,310 --> 00:02:46,370
growing them in I still don't really

00:02:44,810 --> 00:02:47,720
understand why they all look so odd and

00:02:46,370 --> 00:02:51,410
they're all different from every single

00:02:47,720 --> 00:02:52,819
one of the movies that we got but you

00:02:51,410 --> 00:02:54,319
kind of see it's a little hard to see

00:02:52,819 --> 00:02:56,000
probably as one cell division that's

00:02:54,319 --> 00:02:57,290
right there and the cells are kind of

00:02:56,000 --> 00:02:58,849
moving around even the dead ones are

00:02:57,290 --> 00:03:04,930
moving around i don't i don't understand

00:02:58,849 --> 00:03:07,790
that either so this is a summary of what

00:03:04,930 --> 00:03:11,120
we're looking at for this particular set

00:03:07,790 --> 00:03:14,850
of experiments they had 52 movies in

00:03:11,120 --> 00:03:16,350
each of them had about like 3500 frame

00:03:14,850 --> 00:03:19,860
there are also fluorescent frames or two

00:03:16,350 --> 00:03:22,740
separate phase so this is a phase

00:03:19,860 --> 00:03:24,150
contrast image on the right we're just

00:03:22,740 --> 00:03:27,300
special way of doing microscopy that

00:03:24,150 --> 00:03:32,520
enhances contrast similar to regular

00:03:27,300 --> 00:03:33,990
visual microscopes anyway that works out

00:03:32,520 --> 00:03:35,160
to about oh it took phase every two

00:03:33,990 --> 00:03:36,330
minutes and fluorescence every hour

00:03:35,160 --> 00:03:37,890
except when they took a fluorescent

00:03:36,330 --> 00:03:40,140
image there wasn't a phase image and is

00:03:37,890 --> 00:03:44,070
it's complicated so it's about five days

00:03:40,140 --> 00:03:46,800
worth of data each of the images it says

00:03:44,070 --> 00:03:50,790
about thirteen eighty eight by ten forty

00:03:46,800 --> 00:03:52,350
tiff so it's about two makes each and so

00:03:50,790 --> 00:03:53,730
it works at this a lot of data bata bata

00:03:52,350 --> 00:04:00,480
in one of these experiments to try to

00:03:53,730 --> 00:04:02,430
get a handle on so this is the kind of

00:04:00,480 --> 00:04:04,470
the basic workflow at least for this is

00:04:02,430 --> 00:04:06,480
not what we normally do because is what

00:04:04,470 --> 00:04:07,980
this is my workflow for just sort of

00:04:06,480 --> 00:04:11,910
visualizing what we had before we even

00:04:07,980 --> 00:04:12,750
try to get it into our program I'm going

00:04:11,910 --> 00:04:14,100
to go through everything except the

00:04:12,750 --> 00:04:15,330
first although unfortunately the first

00:04:14,100 --> 00:04:18,410
is the only one that I really use pearl

00:04:15,330 --> 00:04:21,180
for because but we get the data from the

00:04:18,410 --> 00:04:23,760
biologist out of the microscope software

00:04:21,180 --> 00:04:26,310
it's often in very odd naming formats

00:04:23,760 --> 00:04:27,930
Pearl's great for taking a ton of

00:04:26,310 --> 00:04:33,720
directories of files and renaming them

00:04:27,930 --> 00:04:34,680
into something that's more standard so

00:04:33,720 --> 00:04:36,780
then we're kind of remove the background

00:04:34,680 --> 00:04:38,310
from from these wells and then try to do

00:04:36,780 --> 00:04:42,870
the segmentation and make some on

00:04:38,310 --> 00:04:48,510
Tasha's and some movies after that so

00:04:42,870 --> 00:04:52,620
background removal so here's that

00:04:48,510 --> 00:04:53,970
hundred frame movie again and if we want

00:04:52,620 --> 00:04:55,860
to segment it this is going to be really

00:04:53,970 --> 00:04:57,750
difficult for a number of reasons one is

00:04:55,860 --> 00:05:00,000
that this the basic thing is that this

00:04:57,750 --> 00:05:01,770
the outline of it is going to be a real

00:05:00,000 --> 00:05:03,210
kind of pain in the butt it's not even

00:05:01,770 --> 00:05:04,320
like a really you know because they're

00:05:03,210 --> 00:05:06,150
different in every one of these movies

00:05:04,320 --> 00:05:09,060
and they're kind of these random curved

00:05:06,150 --> 00:05:10,560
shapes um so you can't really use like a

00:05:09,060 --> 00:05:13,850
normal you can't look for lines or

00:05:10,560 --> 00:05:16,500
curves very easily um what you can do is

00:05:13,850 --> 00:05:18,810
look for the pixels that don't move so

00:05:16,500 --> 00:05:20,220
you can tell if this all those pixels in

00:05:18,810 --> 00:05:21,840
the middle or the cells are moving

00:05:20,220 --> 00:05:24,750
around but the outline is pretty

00:05:21,840 --> 00:05:27,699
stationary and a lot of the kind of junk

00:05:24,750 --> 00:05:31,490
in there is also pretty stationary

00:05:27,699 --> 00:05:33,289
so what one way to do this is you can

00:05:31,490 --> 00:05:36,139
make a stack of images I took the first

00:05:33,289 --> 00:05:39,590
thousand frames and then I took the mean

00:05:36,139 --> 00:05:43,009
in the Z direction so then what what

00:05:39,590 --> 00:05:44,600
that means is that the cells that are in

00:05:43,009 --> 00:05:46,400
this wall they're not moving at all so

00:05:44,600 --> 00:05:48,139
they're mean and the pixels in the under

00:05:46,400 --> 00:05:49,370
on the walls of this they're not moving

00:05:48,139 --> 00:05:51,080
at all so they're going to be pretty

00:05:49,370 --> 00:05:54,490
high when you take the need in the time

00:05:51,080 --> 00:05:56,600
direction but the ones in the middle

00:05:54,490 --> 00:05:59,120
where the cells might only pass through

00:05:56,600 --> 00:06:00,380
them you know some small percentage of

00:05:59,120 --> 00:06:02,630
the time they're going to be pretty dark

00:06:00,380 --> 00:06:04,220
so then you can use that as a mask and

00:06:02,630 --> 00:06:08,180
then you can subtract that off of each

00:06:04,220 --> 00:06:10,210
one of the images so this is the

00:06:08,180 --> 00:06:12,680
original image that I showed you before

00:06:10,210 --> 00:06:15,710
this is that temporal mass taking the

00:06:12,680 --> 00:06:17,060
first thousand frames and then taking

00:06:15,710 --> 00:06:19,280
the average in the time direction and

00:06:17,060 --> 00:06:22,580
then if you subtract it off that's

00:06:19,280 --> 00:06:26,479
pretty good right so that's almost the

00:06:22,580 --> 00:06:30,020
cells some little some junk but we can

00:06:26,479 --> 00:06:31,550
deal with the junk that junk later on so

00:06:30,020 --> 00:06:33,889
now we want to try to find where all the

00:06:31,550 --> 00:06:36,320
cells are and there's lots lots of

00:06:33,889 --> 00:06:37,550
different ways to do this one that

00:06:36,320 --> 00:06:40,030
worked pretty well for these is

00:06:37,550 --> 00:06:41,810
something called image morphology

00:06:40,030 --> 00:06:47,270
particularly sing at the bottom called

00:06:41,810 --> 00:06:49,250
morphological image gradient so what we

00:06:47,270 --> 00:06:50,930
ended up doing the way this works is

00:06:49,250 --> 00:06:52,669
that there's two there's two kind of

00:06:50,930 --> 00:06:55,580
core functions you can use erosion and

00:06:52,669 --> 00:06:57,590
dilation erosion says that for every

00:06:55,580 --> 00:07:03,860
pixel you look at a small circle of

00:06:57,590 --> 00:07:06,650
pixels around it and you basically erase

00:07:03,860 --> 00:07:09,409
some small percentage some little circle

00:07:06,650 --> 00:07:10,909
of the cells around some some circle of

00:07:09,409 --> 00:07:12,740
the pixels around each one of the pixels

00:07:10,909 --> 00:07:14,630
that's there but you keep the pixel it

00:07:12,740 --> 00:07:17,810
is there you just sort of erase a bunch

00:07:14,630 --> 00:07:22,849
of its neighbors so what you end up

00:07:17,810 --> 00:07:24,440
doing it's like taking I was going to

00:07:22,849 --> 00:07:26,300
say it's like taking something in a

00:07:24,440 --> 00:07:28,250
drawing program although this is more

00:07:26,300 --> 00:07:29,810
like that so let me get back to that so

00:07:28,250 --> 00:07:31,180
dilation is the opposite it takes every

00:07:29,810 --> 00:07:33,229
one of the pixels that's lit up and

00:07:31,180 --> 00:07:34,970
takes a small circle around it and

00:07:33,229 --> 00:07:37,219
lights those up as well so that's like

00:07:34,970 --> 00:07:38,930
take that says using a fat brush in a

00:07:37,219 --> 00:07:40,840
drawing program to make everything a

00:07:38,930 --> 00:07:42,510
little bit fatter and rose

00:07:40,840 --> 00:07:45,250
making everything a little bit thinner

00:07:42,510 --> 00:07:47,290
so then the trick is that if you die

00:07:45,250 --> 00:07:48,669
late if you take two images one where

00:07:47,290 --> 00:07:51,820
everything's dilated made a little bit

00:07:48,669 --> 00:07:53,080
fatter and another where you we rode

00:07:51,820 --> 00:07:55,389
things you make everything a little bit

00:07:53,080 --> 00:07:57,280
thinner and you subtract the two you get

00:07:55,389 --> 00:07:59,290
a good estimate of where what the

00:07:57,280 --> 00:08:02,889
outline of all the objects in the scene

00:07:59,290 --> 00:08:05,949
are which is shown here and these images

00:08:02,889 --> 00:08:07,960
are all from opencv Python tutorials

00:08:05,949 --> 00:08:12,790
because there's a pretty good support

00:08:07,960 --> 00:08:14,639
for opencv and Python so in practice

00:08:12,790 --> 00:08:16,720
this doesn't always work for cells

00:08:14,639 --> 00:08:18,100
because often they're not evenly lit

00:08:16,720 --> 00:08:21,669
they might be brighter on one side and

00:08:18,100 --> 00:08:23,830
on the other because of the though how

00:08:21,669 --> 00:08:25,810
they've been lit up or just weirdness in

00:08:23,830 --> 00:08:33,760
how phase contrast works but it worked

00:08:25,810 --> 00:08:37,060
ok for this so this is our image after

00:08:33,760 --> 00:08:39,370
we subtracted the mask off this is what

00:08:37,060 --> 00:08:43,000
we get after we do the morphological

00:08:39,370 --> 00:08:44,890
image gradient so you see that all the

00:08:43,000 --> 00:08:46,750
cells are really not pretty well now but

00:08:44,890 --> 00:08:50,290
unfortunately we have some of that mask

00:08:46,750 --> 00:08:53,230
though the wall back that um we thought

00:08:50,290 --> 00:08:57,430
we had a race in that previous step but

00:08:53,230 --> 00:08:58,990
um we can still deal with that so the

00:08:57,430 --> 00:09:00,940
next thing to do after that excuse me is

00:08:58,990 --> 00:09:02,830
um trying something called atsu

00:09:00,940 --> 00:09:05,230
thresholding so what are two threshold

00:09:02,830 --> 00:09:06,670
ring does is it tries to find it tries

00:09:05,230 --> 00:09:08,560
to separate the foreground from the

00:09:06,670 --> 00:09:12,640
background and what it does it is tries

00:09:08,560 --> 00:09:14,920
to do that such that the the variance is

00:09:12,640 --> 00:09:16,120
between the cells and the for all the

00:09:14,920 --> 00:09:18,790
pixels in the foreground all the pixels

00:09:16,120 --> 00:09:22,570
in the background is maximized it's like

00:09:18,790 --> 00:09:24,730
one line command in MATLAB to do that so

00:09:22,570 --> 00:09:27,670
then you end up with this and so we have

00:09:24,730 --> 00:09:30,850
all the cells but we also have a lot of

00:09:27,670 --> 00:09:34,089
that wall so that's there so what I did

00:09:30,850 --> 00:09:35,380
then was just to another erosion after

00:09:34,089 --> 00:09:37,450
that to get rid of some of that chunk

00:09:35,380 --> 00:09:39,640
and this is something you actually work

00:09:37,450 --> 00:09:43,420
with pretty well so what you do after

00:09:39,640 --> 00:09:44,470
that is this sort of summarizes then

00:09:43,420 --> 00:09:49,990
I'll go through the final couple of

00:09:44,470 --> 00:09:52,360
steps so find something to try to

00:09:49,990 --> 00:09:53,379
enhance the contrast or wherever the

00:09:52,360 --> 00:09:55,179
cells happen to be

00:09:53,379 --> 00:09:57,819
and morphological image gradient worked

00:09:55,179 --> 00:09:59,229
okay for this and then Otsu thresholding

00:09:57,819 --> 00:10:00,970
try to have some sort of for granted

00:09:59,229 --> 00:10:04,829
background thing then you want to find

00:10:00,970 --> 00:10:06,999
the connected components so all the

00:10:04,829 --> 00:10:09,459
areas that are connected this is like

00:10:06,999 --> 00:10:10,749
normal computer science you think so

00:10:09,459 --> 00:10:15,909
like that's a connecting point that is

00:10:10,749 --> 00:10:17,379
this long thing going up here is and

00:10:15,909 --> 00:10:18,699
then once you have the connected

00:10:17,379 --> 00:10:20,829
components you can maybe look if you

00:10:18,699 --> 00:10:22,809
want to remove things that look like the

00:10:20,829 --> 00:10:23,919
outlines you can look at how big they

00:10:22,809 --> 00:10:26,439
are how many pixels they are their

00:10:23,919 --> 00:10:28,359
dimensions so the length versus our with

00:10:26,439 --> 00:10:32,169
things like that to kind of narrow

00:10:28,359 --> 00:10:34,329
things down and then finally we find the

00:10:32,169 --> 00:10:37,689
convex hulls of the cells so it is a

00:10:34,329 --> 00:10:39,099
convex hull is just the it's like if you

00:10:37,689 --> 00:10:47,709
take in a rubber band and wrapped it

00:10:39,099 --> 00:10:50,949
around the cells all right so okay now

00:10:47,709 --> 00:10:52,269
we want to make the movie frames so what

00:10:50,949 --> 00:10:55,149
I wanted to end up with is something

00:10:52,269 --> 00:11:00,699
that looked like this with six frames in

00:10:55,149 --> 00:11:02,409
it the one on the upper the upper left

00:11:00,699 --> 00:11:04,209
that's the original frame this is the

00:11:02,409 --> 00:11:05,379
one after I've found the convex hulls

00:11:04,209 --> 00:11:07,509
all the cells gone through all those

00:11:05,379 --> 00:11:11,289
steps i just described with these little

00:11:07,509 --> 00:11:16,989
red circles around them and these are

00:11:11,289 --> 00:11:18,159
the four fluorescent images and i really

00:11:16,989 --> 00:11:19,419
just wanted to see what our data look

00:11:18,159 --> 00:11:22,329
like that's that was what i was going

00:11:19,419 --> 00:11:28,479
through here so yeah i forgot that i

00:11:22,329 --> 00:11:30,220
actually said this so so to do this we

00:11:28,479 --> 00:11:32,049
have to make a multi-panel image and it

00:11:30,220 --> 00:11:33,519
turns out this is this is fairly easy to

00:11:32,049 --> 00:11:41,859
do in MATLAB although I think probably

00:11:33,519 --> 00:11:43,749
not is so easy to do in Perl so the way

00:11:41,859 --> 00:11:47,109
you could do this is that the images are

00:11:43,749 --> 00:11:49,239
just are just matrices and generally we

00:11:47,109 --> 00:11:50,949
have them so that the pixel values of

00:11:49,239 --> 00:11:55,179
all between zero and one where a 0 will

00:11:50,949 --> 00:11:58,389
be black and what would be white so then

00:11:55,179 --> 00:12:00,039
these white lines like right here this

00:11:58,389 --> 00:12:01,749
is just a bunch of one's good this is a

00:12:00,039 --> 00:12:03,939
column of one's going all the way up and

00:12:01,749 --> 00:12:05,130
this white line here is just a column a

00:12:03,939 --> 00:12:12,390
row of

00:12:05,130 --> 00:12:14,370
one's going all the way across and and

00:12:12,390 --> 00:12:15,930
MATLAB is really easy at constructing

00:12:14,370 --> 00:12:17,190
nature it's really good at constructing

00:12:15,930 --> 00:12:18,210
matrices looks like pearls really good

00:12:17,190 --> 00:12:22,890
at dealing with strings that looks

00:12:18,210 --> 00:12:29,970
really good at dealing with that so if

00:12:22,890 --> 00:12:32,250
you're not familiar with matlab that

00:12:29,970 --> 00:12:34,470
would be really nice so this is how you

00:12:32,250 --> 00:12:36,960
make a simple matrix in matlab you say

00:12:34,470 --> 00:12:40,620
put them everything matrix's and square

00:12:36,960 --> 00:12:42,750
brackets and if the colon the entries

00:12:40,620 --> 00:12:45,990
are separated by spaces and rose by

00:12:42,750 --> 00:12:48,570
semicolons so this just makes the matrix

00:12:45,990 --> 00:12:50,700
with one two three four and then B is

00:12:48,570 --> 00:12:52,290
five six seven eight and use the same

00:12:50,700 --> 00:12:54,240
syntax if they're matrices instead of

00:12:52,290 --> 00:12:58,440
just numbers constants it works the same

00:12:54,240 --> 00:13:01,140
way so if you say a B that's just going

00:12:58,440 --> 00:13:03,570
to concatenate them going across so this

00:13:01,140 --> 00:13:06,180
is a and this is B and you can also put

00:13:03,570 --> 00:13:08,490
them on top of each other and if a b c

00:13:06,180 --> 00:13:09,960
and d are our images like they were in

00:13:08,490 --> 00:13:12,150
that previous slide it works exactly the

00:13:09,960 --> 00:13:15,930
same way and it's very easy to make

00:13:12,150 --> 00:13:19,920
these montages just by doing that in in

00:13:15,930 --> 00:13:27,180
that lab and then python and numpy numpy

00:13:19,920 --> 00:13:28,620
to it's very easy to do so so when we

00:13:27,180 --> 00:13:32,490
make our movies we try to make all the

00:13:28,620 --> 00:13:35,940
frames be 1080p dimensions so in that

00:13:32,490 --> 00:13:37,440
case there's six panels if you do the

00:13:35,940 --> 00:13:41,430
math every one of those panels has to

00:13:37,440 --> 00:13:42,750
work out to be 5 39 by 638 and I try to

00:13:41,430 --> 00:13:44,640
you know it doesn't always work out that

00:13:42,750 --> 00:13:46,860
way but I made the horizontal line be

00:13:44,640 --> 00:13:48,540
two pixels high in the vertical line be

00:13:46,860 --> 00:13:53,430
three pixels wide and that just made

00:13:48,540 --> 00:13:54,600
everything work out evenly there's also

00:13:53,430 --> 00:13:56,220
i don't know if you can see here but

00:13:54,600 --> 00:13:58,260
there's some text there's some tiny

00:13:56,220 --> 00:14:01,260
texts like right there i probably should

00:13:58,260 --> 00:14:07,560
have made the text bigger in this the

00:14:01,260 --> 00:14:09,600
text is always problematic in MATLAB

00:14:07,560 --> 00:14:11,040
what you do there's a text function but

00:14:09,600 --> 00:14:12,360
that always has to be inside a figure so

00:14:11,040 --> 00:14:15,660
you have to take your image 5 minutes

00:14:12,360 --> 00:14:17,459
left okay good so you have to put the

00:14:15,660 --> 00:14:19,319
image into a figure use the

00:14:17,459 --> 00:14:21,269
text command to put text on there and

00:14:19,319 --> 00:14:23,369
then pull the image out of the figure

00:14:21,269 --> 00:14:25,679
back into a matrix and then save it off

00:14:23,369 --> 00:14:28,740
somewhere else it would be really nice

00:14:25,679 --> 00:14:30,389
if you could use that for there's no way

00:14:28,740 --> 00:14:31,470
to just do it totally in memory so if

00:14:30,389 --> 00:14:33,899
you had something like in that first

00:14:31,470 --> 00:14:36,509
movie that I showed you where that thing

00:14:33,899 --> 00:14:40,139
would be 1080p all the way hot all the

00:14:36,509 --> 00:14:42,480
way up you need to have the figure

00:14:40,139 --> 00:14:45,329
really be big monitor has to be bigger

00:14:42,480 --> 00:14:47,399
than 1080p because otherwise matlab will

00:14:45,329 --> 00:14:51,649
resize your window and it's just a pain

00:14:47,399 --> 00:14:54,899
in the butt this other alternatives

00:14:51,649 --> 00:14:57,360
pillow which is part of the python image

00:14:54,899 --> 00:14:59,160
library although strangely not part of

00:14:57,360 --> 00:15:01,199
dump I as far as I could tell so you do

00:14:59,160 --> 00:15:03,600
a pretty good job of annotating frames

00:15:01,199 --> 00:15:07,279
as well someone's telling me the ffmpeg

00:15:03,600 --> 00:15:07,279
might be able to do it directly as well

00:15:08,509 --> 00:15:12,980
okay so this is what the final movie

00:15:14,779 --> 00:15:22,170
we're not playing okay I don't know why

00:15:17,429 --> 00:15:24,720
that's not playing oh great so then to

00:15:22,170 --> 00:15:26,549
make the movie I read each of the frames

00:15:24,720 --> 00:15:28,319
out to a separate directory and it's

00:15:26,549 --> 00:15:29,670
very important it's really helpful to

00:15:28,319 --> 00:15:30,809
write every frame out individually I

00:15:29,670 --> 00:15:33,029
mean that lab can make the movies

00:15:30,809 --> 00:15:34,529
directly but it's a lot more flexible if

00:15:33,029 --> 00:15:37,019
you can write all the frames out

00:15:34,529 --> 00:15:39,600
separately and then make the movie after

00:15:37,019 --> 00:15:41,610
that so you put them all in a directory

00:15:39,600 --> 00:15:44,399
named number thing so that they're

00:15:41,610 --> 00:15:48,569
sequential they can use ffmpeg to make a

00:15:44,399 --> 00:15:52,709
movie after that and so this is what the

00:15:48,569 --> 00:15:54,509
movie look ended up looking like the

00:15:52,709 --> 00:15:56,279
fluorescing things look a little weird

00:15:54,509 --> 00:15:59,850
because they're only updating every 30

00:15:56,279 --> 00:16:01,529
frames you can also see that the

00:15:59,850 --> 00:16:04,980
contrast is really odd that happens a

00:16:01,529 --> 00:16:06,269
lot of under understand why like why

00:16:04,980 --> 00:16:07,759
some of the fluorescent frames have

00:16:06,269 --> 00:16:10,470
different contrasts of other ones so

00:16:07,759 --> 00:16:13,499
then what we really wanted to look at

00:16:10,470 --> 00:16:14,879
was was lots of like get a better sense

00:16:13,499 --> 00:16:16,769
of what all these experiments look like

00:16:14,879 --> 00:16:19,290
so I took all those frames that I made

00:16:16,769 --> 00:16:21,179
for to do one movie and then combine

00:16:19,290 --> 00:16:23,429
them all together this is showing 16 of

00:16:21,179 --> 00:16:24,839
them all in one giant montage and I

00:16:23,429 --> 00:16:26,970
could do that because I may I rode out

00:16:24,839 --> 00:16:28,589
all the frames for that for that montage

00:16:26,970 --> 00:16:30,329
movie I made so I could read the montage

00:16:28,589 --> 00:16:30,700
things back in make another movie out of

00:16:30,329 --> 00:16:35,920
all

00:16:30,700 --> 00:16:37,960
the individual at once even made a 4k

00:16:35,920 --> 00:16:39,550
version of this and all I had to do was

00:16:37,960 --> 00:16:48,640
just resize things differently and it

00:16:39,550 --> 00:16:51,190
all just kind of worked so for some more

00:16:48,640 --> 00:16:53,980
information that's my labs website by

00:16:51,190 --> 00:16:56,500
limit at CLE drexel.edu and that

00:16:53,980 --> 00:16:58,510
Gonzalez in woods book is really good

00:16:56,500 --> 00:17:00,730
it's it uses MATLAB but most of the

00:16:58,510 --> 00:17:03,580
concepts are kind of general image image

00:17:00,730 --> 00:17:08,140
analysis concepts and not just things

00:17:03,580 --> 00:17:10,260
you can do in that lab so thank you any

00:17:08,140 --> 00:17:10,260
questions

00:17:20,620 --> 00:17:27,819
separate what frames fluorescent frames

00:17:24,339 --> 00:17:28,930
um it depends so the question is why did

00:17:27,819 --> 00:17:30,220
they have the separate fluorescent

00:17:28,930 --> 00:17:32,950
frames and it really varies by

00:17:30,220 --> 00:17:36,540
experiment those would have been four

00:17:32,950 --> 00:17:44,410
different colors of fluorescence i think

00:17:36,540 --> 00:17:45,790
i think it was violet green yeah and

00:17:44,410 --> 00:17:47,320
they're trying to point a different

00:17:45,790 --> 00:17:48,970
thing they can get triggered when

00:17:47,320 --> 00:17:49,870
different things happen and they're

00:17:48,970 --> 00:17:51,820
telling different things to the

00:17:49,870 --> 00:17:53,230
biologist so though not really we didn't

00:17:51,820 --> 00:18:01,210
get to a point yet with this where

00:17:53,230 --> 00:18:04,320
they're telling anything to us yes yeah

00:18:01,210 --> 00:18:04,320
there is a lot of jitter in the images

00:18:07,290 --> 00:18:15,640
um yeah as long as it's not too bad it

00:18:14,020 --> 00:18:18,550
doesn't throw us off because the cells

00:18:15,640 --> 00:18:20,170
themselves are moving anyway so it can't

00:18:18,550 --> 00:18:21,970
throw us off if it's a lot but the

00:18:20,170 --> 00:18:24,450
amount that they're jittering hear that

00:18:21,970 --> 00:18:27,010
that's not enough to really throw it off

00:18:24,450 --> 00:18:29,700
we start having problems when the jitter

00:18:27,010 --> 00:18:36,040
was more than like the width of Estelle

00:18:29,700 --> 00:18:37,270
which I don't think there would be more

00:18:36,040 --> 00:18:38,830
of a problem than trying to track the

00:18:37,270 --> 00:18:49,860
cells which I didn't talk about it all

00:18:38,830 --> 00:18:49,860

YouTube URL: https://www.youtube.com/watch?v=xf2UHZu9NJA


