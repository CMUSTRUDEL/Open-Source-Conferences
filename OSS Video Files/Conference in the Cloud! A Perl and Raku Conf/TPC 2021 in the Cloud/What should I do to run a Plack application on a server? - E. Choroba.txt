Title: What should I do to run a Plack application on a server? - E. Choroba
Publication date: 2021-06-09
Playlist: TPC 2021 in the Cloud
Description: 
	The talk will show step by step how I was able to run a simple Plack application on a Virtual Private Server, including the firewall configuration, module installation and using Let'sEncrypt to enable HTTPS.

You don't want to have a server at home running all the time. Or your ISP doesn't guarantee a static IP address. Or you can't run a compiler in your hosted solution to install the needed XS module.

Rent a virtual server. Configure it yourself and install what you need. I'll show you how I was able to run a simple Plack application on a VPS for â‚¬53/year, including the firewall configuration, module installation and using Let'sEncrypt to enable HTTPS.
Captions: 
	00:00:00,480 --> 00:00:05,279
uh hello everyone i'm echoroba from

00:00:03,600 --> 00:00:09,040
prague and i'm going to

00:00:05,279 --> 00:00:12,240
uh tell you uh how to

00:00:09,040 --> 00:00:17,920
run a plaque application on

00:00:12,240 --> 00:00:17,920
a server

00:00:18,320 --> 00:00:25,199
so uh motivation

00:00:21,520 --> 00:00:27,840
i'm not going to uh go into details

00:00:25,199 --> 00:00:29,599
about why plaque and why not cgi

00:00:27,840 --> 00:00:31,760
because this has been discussed many

00:00:29,599 --> 00:00:34,719
times elsewhere

00:00:31,760 --> 00:00:36,320
so let's skip that and and for those who

00:00:34,719 --> 00:00:38,559
don't know

00:00:36,320 --> 00:00:40,559
plaque is is just something that makes

00:00:38,559 --> 00:00:43,680
it possible to

00:00:40,559 --> 00:00:47,600
host web pages in a more modern

00:00:43,680 --> 00:00:51,600
way than than what we used before

00:00:47,600 --> 00:00:52,719
uh the usual situation in the past was

00:00:51,600 --> 00:00:56,079
that you had to

00:00:52,719 --> 00:00:59,359
we're posting somewhere

00:00:56,079 --> 00:01:01,840
and uh you depend

00:00:59,359 --> 00:01:03,039
uh you depend it on people there to

00:01:01,840 --> 00:01:06,640
provide you with

00:01:03,039 --> 00:01:09,840
uh perl and all your modules

00:01:06,640 --> 00:01:10,159
and the problem is that nowadays pearl

00:01:09,840 --> 00:01:13,360
is

00:01:10,159 --> 00:01:14,000
often not supported at all but even if

00:01:13,360 --> 00:01:17,520
it is

00:01:14,000 --> 00:01:20,720
uh you cannot run a compiler

00:01:17,520 --> 00:01:22,479
and so so it's impossible to compile

00:01:20,720 --> 00:01:25,600
access modules

00:01:22,479 --> 00:01:28,720
you need to ask the

00:01:25,600 --> 00:01:32,320
admins do to compile them for you and

00:01:28,720 --> 00:01:34,560
if they say no there's no way

00:01:32,320 --> 00:01:36,400
you cannot upgrade perl you depend on

00:01:34,560 --> 00:01:39,520
the version that's provided for you

00:01:36,400 --> 00:01:43,280
so you cannot use those shiny

00:01:39,520 --> 00:01:47,280
new features like try uh

00:01:43,280 --> 00:01:50,720
so that's one thing that that's

00:01:47,280 --> 00:01:54,079
uh problematic with web hosting so

00:01:50,720 --> 00:01:57,040
maybe someone decides to run a server

00:01:54,079 --> 00:01:58,960
at home but it has its drawbacks as well

00:01:57,040 --> 00:02:02,000
because your isp

00:01:58,960 --> 00:02:03,520
might not guarantee a static ip address

00:02:02,000 --> 00:02:06,000
to you

00:02:03,520 --> 00:02:07,119
or which is for example my case i can

00:02:06,000 --> 00:02:09,599
pay

00:02:07,119 --> 00:02:11,120
several euros a month to get it but i

00:02:09,599 --> 00:02:14,560
don't see a reason

00:02:11,120 --> 00:02:17,040
and moreover uh i don't want to have a

00:02:14,560 --> 00:02:19,599
server at home running all the time

00:02:17,040 --> 00:02:22,480
it could be quite noisy and then

00:02:19,599 --> 00:02:24,720
consumes electricity and so on

00:02:22,480 --> 00:02:24,720
so

00:02:26,319 --> 00:02:33,120
the solution is to rent a virtual server

00:02:29,840 --> 00:02:34,800
somewhere you then have full control of

00:02:33,120 --> 00:02:38,720
the configuration and

00:02:34,800 --> 00:02:42,720
install dependencies and for example i

00:02:38,720 --> 00:02:43,360
went with uh with a company that

00:02:42,720 --> 00:02:46,560
provides

00:02:43,360 --> 00:02:46,560
uh very cheap

00:02:47,120 --> 00:02:50,879
hardware they provide some other options

00:02:50,000 --> 00:02:54,480
as well but

00:02:50,879 --> 00:02:58,000
i pay 53 euros a year including a domain

00:02:54,480 --> 00:03:00,800
which is not really that much

00:02:58,000 --> 00:03:04,800
so and for experimenting the the

00:03:00,800 --> 00:03:08,560
cheapest hardware is is more than enough

00:03:04,800 --> 00:03:10,720
but there is a little scary

00:03:08,560 --> 00:03:12,959
side to it because you you are now

00:03:10,720 --> 00:03:15,920
responsible for keeping the

00:03:12,959 --> 00:03:18,480
operating system up to date and keeping

00:03:15,920 --> 00:03:21,760
the machine secured

00:03:18,480 --> 00:03:24,400
so when i ordered

00:03:21,760 --> 00:03:25,599
the service i was able to select the

00:03:24,400 --> 00:03:29,920
operating system

00:03:25,599 --> 00:03:32,879
on the virtual machine this was

00:03:29,920 --> 00:03:34,239
this was offered to me for some of these

00:03:32,879 --> 00:03:36,959
linux

00:03:34,239 --> 00:03:39,200
distributions there were several

00:03:36,959 --> 00:03:41,760
versions

00:03:39,200 --> 00:03:43,040
and if you go with none then you can

00:03:41,760 --> 00:03:46,480
upload

00:03:43,040 --> 00:03:50,080
your iso image of the system and use

00:03:46,480 --> 00:03:51,200
whatever you like but you might be asked

00:03:50,080 --> 00:03:56,080
by the admins

00:03:51,200 --> 00:04:00,319
for uh a proof of uh the license

00:03:56,080 --> 00:04:03,439
that you are entitled to to install it

00:04:00,319 --> 00:04:07,840
uh i selected uh opensuse

00:04:03,439 --> 00:04:12,640
because that's what i'm using at home

00:04:07,840 --> 00:04:12,640
but you can see that it's it's quite uh

00:04:12,959 --> 00:04:19,759
yeah there are many choices

00:04:16,239 --> 00:04:21,440
okay so how to install

00:04:19,759 --> 00:04:22,800
prevalent modules and then around the

00:04:21,440 --> 00:04:26,560
application

00:04:22,800 --> 00:04:28,320
so uh a good advice i think is to

00:04:26,560 --> 00:04:29,919
to create a new user to run the

00:04:28,320 --> 00:04:33,360
application and not

00:04:29,919 --> 00:04:35,440
run it as a root root is you know the

00:04:33,360 --> 00:04:38,720
user that you should only use for

00:04:35,440 --> 00:04:41,040
uh system administration and nothing

00:04:38,720 --> 00:04:41,040
else

00:04:41,759 --> 00:04:47,040
you can then compile your own perl or

00:04:45,040 --> 00:04:50,080
use the system parallel with with

00:04:47,040 --> 00:04:54,400
locally so you don't mess with

00:04:50,080 --> 00:04:54,400
the system tools written in perl

00:04:55,440 --> 00:05:01,600
and uh then you can just use your

00:04:59,600 --> 00:05:05,440
favorite sepan client to install any

00:05:01,600 --> 00:05:05,440
modules you need access or not

00:05:07,199 --> 00:05:12,000
and sometimes you might need to use root

00:05:10,000 --> 00:05:15,440
to install development packages for

00:05:12,000 --> 00:05:19,520
for c dependencies for some of the uh

00:05:15,440 --> 00:05:22,960
libraries that or modules that interface

00:05:19,520 --> 00:05:24,080
uh lower level libraries or you can

00:05:22,960 --> 00:05:26,240
compile

00:05:24,080 --> 00:05:29,360
them from the source code yourself

00:05:26,240 --> 00:05:29,360
without using root

00:05:30,240 --> 00:05:36,400
uh you should register domain if

00:05:33,520 --> 00:05:36,400
you want to share

00:05:36,800 --> 00:05:42,320
your application with wider public

00:05:40,160 --> 00:05:43,280
and in most cases it's already included

00:05:42,320 --> 00:05:48,080
in the service

00:05:43,280 --> 00:05:48,080
or you pay a few euros more

00:05:49,199 --> 00:05:56,560
but uh when i did this

00:05:52,320 --> 00:05:59,680
and i i registered my domain

00:05:56,560 --> 00:06:03,440
in that second the server

00:05:59,680 --> 00:06:07,520
was bombarded by requests

00:06:03,440 --> 00:06:10,639
for all over the world and it

00:06:07,520 --> 00:06:14,319
it continued for for a long time

00:06:10,639 --> 00:06:17,600
until i uh made some like

00:06:14,319 --> 00:06:19,919
preventive steps uh

00:06:17,600 --> 00:06:20,880
and it was quite interesting to see how

00:06:19,919 --> 00:06:24,080
how

00:06:20,880 --> 00:06:25,440
quickly it started and there were really

00:06:24,080 --> 00:06:30,080
like several

00:06:25,440 --> 00:06:30,080
uh requests every second

00:06:30,479 --> 00:06:36,960
so what do you do to fortify the server

00:06:35,360 --> 00:06:40,400
so you should start with with

00:06:36,960 --> 00:06:43,840
configuring the firewall

00:06:40,400 --> 00:06:43,840
or usually

00:06:44,000 --> 00:06:47,440
the the distribution will have something

00:06:46,800 --> 00:06:49,840
uh

00:06:47,440 --> 00:06:50,880
prepared for you which will basically

00:06:49,840 --> 00:06:52,880
what you need but

00:06:50,880 --> 00:06:54,400
make sure that you only open the ports

00:06:52,880 --> 00:06:58,080
that you really need

00:06:54,400 --> 00:07:00,560
which probably is http and https

00:06:58,080 --> 00:07:02,400
for the application and ssh for

00:07:00,560 --> 00:07:05,680
administration and

00:07:02,400 --> 00:07:08,880
deployment uh

00:07:05,680 --> 00:07:11,919
i also configured the firewall to

00:07:08,880 --> 00:07:15,120
uh forward the

00:07:11,919 --> 00:07:18,319
ports 5000 or whatever the

00:07:15,120 --> 00:07:19,199
the default is for for plaque to ports

00:07:18,319 --> 00:07:24,160
80 and

00:07:19,199 --> 00:07:28,000
443 because these two ports are

00:07:24,160 --> 00:07:32,960
only allowed to be accessed by

00:07:28,000 --> 00:07:32,960
privileged user and i didn't want to

00:07:33,520 --> 00:07:37,199
make myself a privileged user so this

00:07:36,000 --> 00:07:40,880
this works

00:07:37,199 --> 00:07:44,160
this way you can easily run

00:07:40,880 --> 00:07:48,639
plug with the default port and still

00:07:44,160 --> 00:07:52,240
make the result viewable by

00:07:48,639 --> 00:07:56,160
the outside world another

00:07:52,240 --> 00:07:58,960
option is to run sshd the the

00:07:56,160 --> 00:08:00,240
on on a non-standard port which should

00:07:58,960 --> 00:08:05,039
help with the

00:08:00,240 --> 00:08:08,160
uh systems that that try to

00:08:05,039 --> 00:08:11,599
uh get your

00:08:08,160 --> 00:08:14,720
username and password and break into the

00:08:11,599 --> 00:08:17,520
the machine another good step is to

00:08:14,720 --> 00:08:19,680
disable root login in sshd config

00:08:17,520 --> 00:08:22,000
here's the line that you should add

00:08:19,680 --> 00:08:22,000
there

00:08:23,759 --> 00:08:30,479
and in case you screw up which uh

00:08:27,039 --> 00:08:34,479
i definitely did when i enabled

00:08:30,479 --> 00:08:35,919
the firewall uh it blocked all the ports

00:08:34,479 --> 00:08:40,640
so i wasn't able to

00:08:35,919 --> 00:08:43,599
to connect in any way unfortunately what

00:08:40,640 --> 00:08:43,599
the provider

00:08:44,480 --> 00:08:52,440
provides is is an emergency console

00:08:48,800 --> 00:08:53,839
which is similar to or the text

00:08:52,440 --> 00:08:56,800
[Music]

00:08:53,839 --> 00:08:59,200
you use a special user name and password

00:08:56,800 --> 00:09:03,360
to access the console then you should

00:08:59,200 --> 00:09:06,000
uh log in normally and you can

00:09:03,360 --> 00:09:06,560
unblock the ports for the firewall and

00:09:06,000 --> 00:09:09,600
fix

00:09:06,560 --> 00:09:12,959
anything if you if you

00:09:09,600 --> 00:09:17,120
do it if you screw up yeah

00:09:12,959 --> 00:09:20,000
so uh

00:09:17,120 --> 00:09:22,399
and another thing that's probably a good

00:09:20,000 --> 00:09:24,720
idea is to use fail to ban or something

00:09:22,399 --> 00:09:25,600
similar to block traffic from suspicious

00:09:24,720 --> 00:09:28,480
ips

00:09:25,600 --> 00:09:28,480
here is a graph

00:09:29,360 --> 00:09:36,880
the horizontal axis shows days

00:09:33,760 --> 00:09:40,000
and the vertical

00:09:36,880 --> 00:09:43,279
shows number of blocked ips

00:09:40,000 --> 00:09:46,399
i ran this probably

00:09:43,279 --> 00:09:49,440
four times a day i guess at that time

00:09:46,399 --> 00:09:51,680
it was like two years ago you can see

00:09:49,440 --> 00:09:56,560
that there were

00:09:51,680 --> 00:09:58,959
sometimes about 100 blocked ips per day

00:09:56,560 --> 00:10:00,800
because they tried to access the server

00:09:58,959 --> 00:10:01,200
i guess the limit at that time was set

00:10:00,800 --> 00:10:05,040
to

00:10:01,200 --> 00:10:08,240
50 maybe so 50 unsuccessful attempts

00:10:05,040 --> 00:10:09,279
yeah uh and then now about the

00:10:08,240 --> 00:10:12,399
application so

00:10:09,279 --> 00:10:16,079
uh i'll use

00:10:12,399 --> 00:10:19,200
my simple application i i use

00:10:16,079 --> 00:10:21,040
as an example here uh the application

00:10:19,200 --> 00:10:24,800
lists might build dogs

00:10:21,040 --> 00:10:28,800
with slides uh

00:10:24,800 --> 00:10:32,160
and it also can show the the graph we

00:10:28,800 --> 00:10:35,279
we've seen in this slide

00:10:32,160 --> 00:10:36,640
uh so the application just contains a c

00:10:35,279 --> 00:10:39,440
pen file that that

00:10:36,640 --> 00:10:40,240
lists the dependencies then it has

00:10:39,440 --> 00:10:42,480
several

00:10:40,240 --> 00:10:44,079
modules the band graph is the one that

00:10:42,480 --> 00:10:47,360
shows the graph

00:10:44,079 --> 00:10:50,720
i have simple templating system

00:10:47,360 --> 00:10:52,399
i and there there are two uh libraries

00:10:50,720 --> 00:10:54,399
i'll describe in more detail

00:10:52,399 --> 00:10:57,120
and then there is the application itself

00:10:54,399 --> 00:11:00,240
and the small configuration file

00:10:57,120 --> 00:11:03,440
so what i used to

00:11:00,240 --> 00:11:04,959
to serve the the slides i use black

00:11:03,440 --> 00:11:09,360
middleware static

00:11:04,959 --> 00:11:15,360
which is a simple

00:11:09,360 --> 00:11:18,959
thing that makes it possible to securely

00:11:15,360 --> 00:11:19,920
serve static files so from the synopsis

00:11:18,959 --> 00:11:23,600
you can see that

00:11:19,920 --> 00:11:24,480
you just enable static you say that the

00:11:23,600 --> 00:11:29,279
path

00:11:24,480 --> 00:11:33,279
must match a regular expression

00:11:29,279 --> 00:11:36,880
which means no one can get anywhere else

00:11:33,279 --> 00:11:40,000
than where the regular expression

00:11:36,880 --> 00:11:42,480
specifies and what's the root it means

00:11:40,000 --> 00:11:44,880
from where the files should be taken and

00:11:42,480 --> 00:11:48,720
that's it

00:11:44,880 --> 00:11:52,160
so what's the application itself

00:11:48,720 --> 00:11:52,160
so i have uh

00:11:52,399 --> 00:11:59,440
the application itself is here so

00:11:55,680 --> 00:12:03,279
it sets status to 200 it sets

00:11:59,440 --> 00:12:05,360
headers to html

00:12:03,279 --> 00:12:07,360
and there is body that that just

00:12:05,360 --> 00:12:10,560
templates

00:12:07,360 --> 00:12:13,200
uh there's a title header

00:12:10,560 --> 00:12:14,639
and the talks are read from from a

00:12:13,200 --> 00:12:18,160
config file

00:12:14,639 --> 00:12:22,839
and that's it and then

00:12:18,160 --> 00:12:25,200
i create uh this regular expression

00:12:22,839 --> 00:12:27,760
from uh

00:12:25,200 --> 00:12:28,639
from in this module which which creates

00:12:27,760 --> 00:12:31,600
it from the

00:12:28,639 --> 00:12:32,880
config file this is something that i'll

00:12:31,600 --> 00:12:36,079
talk about later

00:12:32,880 --> 00:12:39,279
and then this one adds

00:12:36,079 --> 00:12:43,040
index html to each path

00:12:39,279 --> 00:12:47,120
that ends in a slash

00:12:43,040 --> 00:12:50,000
and this just serves any file

00:12:47,120 --> 00:12:50,000
after the slash

00:12:51,680 --> 00:12:58,160
so uh i discover and

00:12:55,120 --> 00:13:01,440
this handles the the image and this just

00:12:58,160 --> 00:13:05,040
mounts the application itself so

00:13:01,440 --> 00:13:08,079
why is this needed no trailing slash so

00:13:05,040 --> 00:13:09,519
i originally thought that this should be

00:13:08,079 --> 00:13:12,720
possible

00:13:09,519 --> 00:13:14,800
adding a question mark after that slash

00:13:12,720 --> 00:13:18,320
should make the slash optional

00:13:14,800 --> 00:13:21,680
and this should allow to specify the url

00:13:18,320 --> 00:13:24,320
without the final slash

00:13:21,680 --> 00:13:25,519
interestingly it works it shows the

00:13:24,320 --> 00:13:29,200
index

00:13:25,519 --> 00:13:32,839
but it breaks all the relative links

00:13:29,200 --> 00:13:35,279
because of the links are still resolved

00:13:32,839 --> 00:13:38,800
from

00:13:35,279 --> 00:13:42,079
from the like original path from from

00:13:38,800 --> 00:13:45,680
the upper directory

00:13:42,079 --> 00:13:50,160
so in order to make it work i

00:13:45,680 --> 00:13:53,279
wrote this small no trailing slash

00:13:50,160 --> 00:13:56,560
module which takes

00:13:53,279 --> 00:14:00,560
the path and if the path

00:13:56,560 --> 00:14:04,079
matches this regex it means it's an

00:14:00,560 --> 00:14:05,440
allowed directory to browse and there is

00:14:04,079 --> 00:14:09,600
no final slash

00:14:05,440 --> 00:14:09,600
i return a redirect to

00:14:09,839 --> 00:14:16,480
this path slash index.html

00:14:13,360 --> 00:14:17,600
and then i if if not i just returned the

00:14:16,480 --> 00:14:20,959
original

00:14:17,600 --> 00:14:24,240
result of the application

00:14:20,959 --> 00:14:27,120
so i didn't put it into

00:14:24,240 --> 00:14:27,760
cpn yet and and the problem is that this

00:14:27,120 --> 00:14:30,480
is kind of

00:14:27,760 --> 00:14:32,480
specific to my situation and other

00:14:30,480 --> 00:14:35,920
people might

00:14:32,480 --> 00:14:39,040
that there might be some other

00:14:35,920 --> 00:14:40,959
uh way how to verify that the path

00:14:39,040 --> 00:14:42,320
is correct so there will probably be a

00:14:40,959 --> 00:14:46,000
co-draft

00:14:42,320 --> 00:14:46,320
that returns something so i i i need to

00:14:46,000 --> 00:14:49,920
like

00:14:46,320 --> 00:14:51,040
think it out more because it's it's more

00:14:49,920 --> 00:14:54,560
complex if you

00:14:51,040 --> 00:14:54,560
want to make a general

00:14:55,839 --> 00:15:03,600
okay and now if you want to enable https

00:15:01,279 --> 00:15:06,639
the easiest way and the cheapest way is

00:15:03,600 --> 00:15:09,839
to use let's encrypt because it's free

00:15:06,639 --> 00:15:14,720
and there is a module on on

00:15:09,839 --> 00:15:14,720
c pen which is called crypt le

00:15:14,800 --> 00:15:18,480
and it when you install it you'll have

00:15:16,880 --> 00:15:20,560
this script

00:15:18,480 --> 00:15:22,480
which you can run like this but you have

00:15:20,560 --> 00:15:26,560
to fill in your

00:15:22,480 --> 00:15:29,440
real uh name and domain

00:15:26,560 --> 00:15:29,839
here and it will create it will tell you

00:15:29,440 --> 00:15:33,440
what

00:15:29,839 --> 00:15:34,880
you should do to create the certificate

00:15:33,440 --> 00:15:38,720
and if you do it correctly the

00:15:34,880 --> 00:15:38,720
certificate will be created for you

00:15:38,839 --> 00:15:45,680
then you probably need to

00:15:42,399 --> 00:15:45,680
use some kind of uh

00:15:46,560 --> 00:15:53,120
some kind of web server

00:15:49,920 --> 00:15:56,399
to to serve the

00:15:53,120 --> 00:15:59,920
https uh version because

00:15:56,399 --> 00:16:03,279
running it with plain plaque

00:15:59,920 --> 00:16:07,440
is problematic i i originally did it but

00:16:03,279 --> 00:16:09,759
uh sometimes it crashes

00:16:07,440 --> 00:16:11,199
and plague doesn't like restart on

00:16:09,759 --> 00:16:13,920
itself

00:16:11,199 --> 00:16:16,720
while starman just has workers and if if

00:16:13,920 --> 00:16:20,240
work crashes starman will start another

00:16:16,720 --> 00:16:22,399
worker so it's it's better to use

00:16:20,240 --> 00:16:25,120
some kind of web server that that

00:16:22,399 --> 00:16:28,240
handles this

00:16:25,120 --> 00:16:31,600
the http version uh

00:16:28,240 --> 00:16:37,839
works okay with with naked

00:16:31,600 --> 00:16:37,839
plaque but https does not

00:16:38,639 --> 00:16:41,600
so wrap up

00:16:42,000 --> 00:16:46,639
to run an application on a virtual

00:16:45,279 --> 00:16:50,720
server

00:16:46,639 --> 00:16:56,480
you need a server you need

00:16:50,720 --> 00:16:59,680
some basic system administration skills

00:16:56,480 --> 00:17:02,560
and to install

00:16:59,680 --> 00:17:02,560
parallel and plug

00:17:02,880 --> 00:17:10,559
and optionally to install crypt

00:17:06,000 --> 00:17:14,319
ali and starman to enable https

00:17:10,559 --> 00:17:17,439
that's it you can find the slides or

00:17:14,319 --> 00:17:20,319
not at the moment but in few minutes

00:17:17,439 --> 00:17:21,520
i'll upload the slides to this address

00:17:20,319 --> 00:17:24,000
and interestingly

00:17:21,520 --> 00:17:25,760
it should work even without the final

00:17:24,000 --> 00:17:33,840
slash

00:17:25,760 --> 00:17:33,840
thank you are there any questions

00:17:41,679 --> 00:17:47,840
no questions

00:17:56,799 --> 00:18:05,039
okay well thank you for speaking

00:18:01,600 --> 00:18:07,520
thank you oh how do you keep it alive

00:18:05,039 --> 00:18:10,559
when it crashes

00:18:07,520 --> 00:18:10,559
okay um

00:18:11,440 --> 00:18:17,760
the the

00:18:14,720 --> 00:18:19,520
it hasn't crashed so far since i started

00:18:17,760 --> 00:18:22,799
it on on

00:18:19,520 --> 00:18:26,400
since this uh https uh

00:18:22,799 --> 00:18:27,280
is running on on starman it hasn't

00:18:26,400 --> 00:18:30,559
crashed

00:18:27,280 --> 00:18:31,280
and the http version probably could but

00:18:30,559 --> 00:18:33,919
it

00:18:31,280 --> 00:18:33,919
hasn't so

00:18:38,720 --> 00:18:41,760
oh about restarting when i deploy a new

00:18:41,120 --> 00:18:45,360
version yeah

00:18:41,760 --> 00:18:46,160
i have scripts to stop and start the

00:18:45,360 --> 00:18:48,720
application

00:18:46,160 --> 00:18:51,039
and it's it's really a simple one it

00:18:48,720 --> 00:18:54,880
doesn't have any state anywhere

00:18:51,039 --> 00:18:58,320
so it really just basically kills

00:18:54,880 --> 00:19:00,799
the the servers uploads

00:18:58,320 --> 00:19:01,840
the new code and then restarts the

00:19:00,799 --> 00:19:05,120
application and that's

00:19:01,840 --> 00:19:07,120
it of course if you want something more

00:19:05,120 --> 00:19:10,240
complex and you need to

00:19:07,120 --> 00:19:13,039
keep stating a database or something

00:19:10,240 --> 00:19:15,600
then you have to be more careful about

00:19:13,039 --> 00:19:15,600

YouTube URL: https://www.youtube.com/watch?v=IB9PTY8HwEs


