Title: LIGHTNING TALK: David Golden - "Safer Chainsaw Juggling"
Publication date: 2018-06-21
Playlist: TPC 2018 in SLC
Description: 
	
Captions: 
	00:00:00,000 --> 00:00:05,580
I'm David IgE you get to MongoDB Perl

00:00:03,449 --> 00:00:06,870
talks for the price of one one right

00:00:05,580 --> 00:00:08,550
after the other

00:00:06,870 --> 00:00:11,730
I'm a staff engineer at MongoDB I

00:00:08,550 --> 00:00:13,500
maintain the Perl driver and for a

00:00:11,730 --> 00:00:15,109
little brief time I maintain the C++

00:00:13,500 --> 00:00:17,810
drivers that last talk was kind of cool

00:00:15,109 --> 00:00:20,939
three years ago I gave a talk right

00:00:17,810 --> 00:00:23,789
there I think called juggling chainsaws

00:00:20,939 --> 00:00:25,560
and in that talk I made the point that

00:00:23,789 --> 00:00:26,789
people had a lot of negative impressions

00:00:25,560 --> 00:00:28,519
of Perl the same way they have a lot of

00:00:26,789 --> 00:00:31,050
negative impressions of MongoDB so

00:00:28,519 --> 00:00:33,360
MongoDB is being snapchat for databases

00:00:31,050 --> 00:00:34,590
and Perl being executable line noise but

00:00:33,360 --> 00:00:36,570
I also made the point that people like

00:00:34,590 --> 00:00:37,649
both of these for very much the same

00:00:36,570 --> 00:00:39,480
reason that both of these are sort of

00:00:37,649 --> 00:00:41,700
this Swiss Army chainsaw that has a lot

00:00:39,480 --> 00:00:42,690
of manipulative V and whip up to you the

00:00:41,700 --> 00:00:45,780
kind of thing people like to get their

00:00:42,690 --> 00:00:47,219
jobs done quickly but as we all know the

00:00:45,780 --> 00:00:50,520
problem with chainsaws is that it's very

00:00:47,219 --> 00:00:52,739
easy to injure yourself these are the

00:00:50,520 --> 00:00:54,660
1994 statistics from the US Product

00:00:52,739 --> 00:00:55,980
Safety Commission I'm assuming these are

00:00:54,660 --> 00:00:57,629
individual in a sentence probably

00:00:55,980 --> 00:01:01,410
without repeats but you never really

00:00:57,629 --> 00:01:02,640
know and so the problem with doing

00:01:01,410 --> 00:01:03,989
anything that might be a little bit

00:01:02,640 --> 00:01:06,750
dangerous is that first impressions

00:01:03,989 --> 00:01:07,979
matter and as some of you maybe have

00:01:06,750 --> 00:01:09,930
known that mama-to-be for awhile for

00:01:07,979 --> 00:01:13,049
some of you it's a newer thing but

00:01:09,930 --> 00:01:14,670
MongoDB 1.0 came out August 27th 2009

00:01:13,049 --> 00:01:16,920
and there were some choices made back

00:01:14,670 --> 00:01:18,810
then that really have kind of like set

00:01:16,920 --> 00:01:20,939
the tone for people's early impressions

00:01:18,810 --> 00:01:22,320
of MongoDB so for instance there was no

00:01:20,939 --> 00:01:23,520
right confirmation things were really

00:01:22,320 --> 00:01:24,840
fast to do is right at the database

00:01:23,520 --> 00:01:26,250
didn't need to tell you if it got it or

00:01:24,840 --> 00:01:28,320
not you just send it off there there's

00:01:26,250 --> 00:01:30,900
no journal there was a global lock and

00:01:28,320 --> 00:01:31,890
so these early impressions sort of led

00:01:30,900 --> 00:01:33,509
people to think well well gee maybe

00:01:31,890 --> 00:01:36,750
mommy-to-be has some safety problems

00:01:33,509 --> 00:01:39,509
well coincidentally five days earlier

00:01:36,750 --> 00:01:41,720
Perl 510 one came out and for people who

00:01:39,509 --> 00:01:43,860
may think back to 510 one particularly

00:01:41,720 --> 00:01:45,960
people in the tool chain in the core

00:01:43,860 --> 00:01:48,350
let's be honest there was a decisions in

00:01:45,960 --> 00:01:50,640
510 that we still regret right

00:01:48,350 --> 00:01:52,200
smartmatch this was the version 2 of

00:01:50,640 --> 00:01:54,030
smart much are we on to version 3 now

00:01:52,200 --> 00:01:56,340
I'm losing track and version objects

00:01:54,030 --> 00:01:57,990
which if I had it working time machine

00:01:56,340 --> 00:02:00,420
to learn and I would go back and get rid

00:01:57,990 --> 00:02:03,659
of so the point I'm trying to make here

00:02:00,420 --> 00:02:05,369
is that 2009 is not 2018 and that our

00:02:03,659 --> 00:02:07,890
past impressions are not always the same

00:02:05,369 --> 00:02:09,690
as current reality so I thought I talked

00:02:07,890 --> 00:02:12,150
a little bit about what's changed

00:02:09,690 --> 00:02:15,480
kind of walkthrough pearl and MongoDB in

00:02:12,150 --> 00:02:18,150
sync so in 2010 we got 512 and a couple

00:02:15,480 --> 00:02:19,610
versions of and the purl side we

00:02:18,150 --> 00:02:23,040
got implicit strictures and we were y

00:02:19,610 --> 00:02:24,990
2038 safe and on the manga DB side we

00:02:23,040 --> 00:02:27,120
got replica sets sharding and right

00:02:24,990 --> 00:02:31,670
confirm at least to a primary node of a

00:02:27,120 --> 00:02:33,690
replica set 2011 we got non-destructive

00:02:31,670 --> 00:02:34,890
substitution one of my favorite features

00:02:33,690 --> 00:02:37,590
and we stopped clobbering the error

00:02:34,890 --> 00:02:39,420
variable in Destroy mama-to-be added a

00:02:37,590 --> 00:02:40,860
journal finally and right confirmation

00:02:39,420 --> 00:02:42,330
now to a majority of nodes in the

00:02:40,860 --> 00:02:44,430
replica set so something doesn't roll

00:02:42,330 --> 00:02:46,140
back i've lumped together the next two

00:02:44,430 --> 00:02:47,580
years and frankly these are kind of

00:02:46,140 --> 00:02:49,880
boring and this is a lightning talk so

00:02:47,580 --> 00:02:52,560
i'm just gonna kind of skip over those

00:02:49,880 --> 00:02:54,930
2014 things start to get really really

00:02:52,560 --> 00:02:58,110
interesting particularly for me

00:02:54,930 --> 00:02:59,640
so pearl 520 at at subroutine signatures

00:02:58,110 --> 00:03:01,580
and postfix dereferencing both

00:02:59,640 --> 00:03:04,110
experimental but we have those hooray

00:03:01,580 --> 00:03:10,080
and mommy-to-be finally hired a

00:03:04,110 --> 00:03:12,540
world-class perl engineer 2015 was again

00:03:10,080 --> 00:03:14,970
a pretty significant year perl doubled

00:03:12,540 --> 00:03:16,020
down on punctuation operators all of

00:03:14,970 --> 00:03:18,420
which designed actually to improve

00:03:16,020 --> 00:03:20,160
safety and mommy-to-be acquired a

00:03:18,420 --> 00:03:22,170
company called wired tiger wired tiger

00:03:20,160 --> 00:03:23,730
was a general-purpose database storage

00:03:22,170 --> 00:03:25,709
engine the founders were these two

00:03:23,730 --> 00:03:27,030
people and if you don't know them who

00:03:25,709 --> 00:03:28,590
they and who they are you probably have

00:03:27,030 --> 00:03:30,690
used some of their stuff so the guy on

00:03:28,590 --> 00:03:33,090
the left is Keith Bostick he's one of

00:03:30,690 --> 00:03:35,010
the inventors of Berkeley DB the guy on

00:03:33,090 --> 00:03:36,720
the right is Michael Cahill he's the guy

00:03:35,010 --> 00:03:38,130
who invented snapshot isolation so if

00:03:36,720 --> 00:03:39,810
anybody has ever used Postgres with

00:03:38,130 --> 00:03:42,840
snapshot isolation mode it's based on

00:03:39,810 --> 00:03:44,910
his PhD dissertation so with the

00:03:42,840 --> 00:03:46,080
acquisition of a general-purpose storage

00:03:44,910 --> 00:03:48,330
engine written by people who really know

00:03:46,080 --> 00:03:51,720
how to do this stuff MongoDB added a lot

00:03:48,330 --> 00:03:52,950
of stuff in version 3 in 2015 so we have

00:03:51,720 --> 00:03:55,140
the storage engine document level

00:03:52,950 --> 00:03:56,850
locking large replica sets new

00:03:55,140 --> 00:03:59,190
authentication mechanisms graft

00:03:56,850 --> 00:04:00,570
consensus blah blah blah lots of other

00:03:59,190 --> 00:04:02,850
stuff that got added on the basis of

00:04:00,570 --> 00:04:04,500
this foundation jump ahead a couple more

00:04:02,850 --> 00:04:07,230
years and again I'll stick this together

00:04:04,500 --> 00:04:09,600
for the sake of time we got no dot in at

00:04:07,230 --> 00:04:11,640
ink for pearl again for safety you've

00:04:09,600 --> 00:04:13,140
got ref aliasing mambi to be piled on

00:04:11,640 --> 00:04:14,310
whole bunch more features linearizable

00:04:13,140 --> 00:04:15,690
reads so it could finally pass the

00:04:14,310 --> 00:04:18,239
Jepson test I do I know the Jepsen

00:04:15,690 --> 00:04:20,010
torture test for distribute applications

00:04:18,239 --> 00:04:22,049
if basically like simulates network

00:04:20,010 --> 00:04:23,220
splits we actually run that in our

00:04:22,049 --> 00:04:25,590
continuous integration

00:04:23,220 --> 00:04:26,880
for MongoDB and it passes a whole bunch

00:04:25,590 --> 00:04:28,980
of other features defaulting to

00:04:26,880 --> 00:04:31,470
localhost only binding so when you fire

00:04:28,980 --> 00:04:32,730
up a server on your cloud provider you

00:04:31,470 --> 00:04:33,680
don't open up your database to the world

00:04:32,730 --> 00:04:38,130
that's kind of nice

00:04:33,680 --> 00:04:41,160
2018 ads we're going to get 528 anytime

00:04:38,130 --> 00:04:43,520
soon now rights lawyer anytime soon at

00:04:41,160 --> 00:04:46,800
the conference or after the conference

00:04:43,520 --> 00:04:49,200
okay and Monte before tato is going to

00:04:46,800 --> 00:04:52,700
drop pearl gives us delete on slices and

00:04:49,200 --> 00:04:55,110
safer pearl - I and MongoDB gets on acid

00:04:52,700 --> 00:04:57,330
for the first time they'd long-awaited

00:04:55,110 --> 00:04:59,100
feet - the people have wanted multi

00:04:57,330 --> 00:05:00,780
document asset transactions will be

00:04:59,100 --> 00:05:01,980
available some other security features

00:05:00,780 --> 00:05:03,240
that you probably won't even notice if

00:05:01,980 --> 00:05:06,090
you're so excited about asset

00:05:03,240 --> 00:05:09,240
transactions so my point is 2009 is not

00:05:06,090 --> 00:05:10,740
2018 Perl 510 is not Perl 528

00:05:09,240 --> 00:05:13,230
mommy-to-be one is not long going to be

00:05:10,740 --> 00:05:15,150
for past impressions do not reflect

00:05:13,230 --> 00:05:17,100
current realities so if your impressions

00:05:15,150 --> 00:05:19,320
of either pearl or mommy-to-be are based

00:05:17,100 --> 00:05:21,480
on the past I encourage you to update

00:05:19,320 --> 00:05:25,370
your point of view to the present and

00:05:21,480 --> 00:05:25,370

YouTube URL: https://www.youtube.com/watch?v=qsg8XuOwXJE


