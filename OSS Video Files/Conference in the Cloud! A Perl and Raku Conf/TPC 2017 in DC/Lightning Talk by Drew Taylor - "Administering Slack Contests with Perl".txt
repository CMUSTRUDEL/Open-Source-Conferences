Title: Lightning Talk by Drew Taylor - "Administering Slack Contests with Perl"
Publication date: 2017-06-24
Playlist: TPC 2017 in DC
Description: 
	
Captions: 
	00:00:00,000 --> 00:00:07,319
there we go so like probably many of you

00:00:03,510 --> 00:00:08,820
we have slack at work and so one day

00:00:07,319 --> 00:00:14,280
someone said we should have a song

00:00:08,820 --> 00:00:15,570
contest so I created a channel and I saw

00:00:14,280 --> 00:00:20,130
myself as benevolent dictator for life

00:00:15,570 --> 00:00:23,010
because why not and we have weekly

00:00:20,130 --> 00:00:23,609
contest every Friday and we choose a

00:00:23,010 --> 00:00:24,869
theme

00:00:23,609 --> 00:00:27,840
the winner gets done at least from

00:00:24,869 --> 00:00:29,189
everybody who submitted an entry but

00:00:27,840 --> 00:00:32,969
honestly if you're not familiar it's

00:00:29,189 --> 00:00:36,000
just points that boys can give to each

00:00:32,969 --> 00:00:40,140
other for rewards good job done Clint

00:00:36,000 --> 00:00:42,480
what not you can reward exchanged those

00:00:40,140 --> 00:00:44,100
for Amazon gift cards whole bunch of

00:00:42,480 --> 00:00:47,399
other things even cash through PayPal if

00:00:44,100 --> 00:00:48,899
you want so obviously we want more

00:00:47,399 --> 00:00:53,039
people because the more people to enter

00:00:48,899 --> 00:00:54,809
the bigger the pot hopefully you win and

00:00:53,039 --> 00:00:57,239
then over time we actually in created

00:00:54,809 --> 00:01:01,559
put a YouTube playlist as well as number

00:00:57,239 --> 00:01:04,500
of people entering got larger so we do

00:01:01,559 --> 00:01:06,689
it very simply you post an entry you pin

00:01:04,500 --> 00:01:10,110
it and then voting is done crew thumbs

00:01:06,689 --> 00:01:11,070
up reactions I thought that was really

00:01:10,110 --> 00:01:19,290
funny it was from our most recent

00:01:11,070 --> 00:01:22,650
contest it was yellow team one by the

00:01:19,290 --> 00:01:27,270
way hits the theme and then periodically

00:01:22,650 --> 00:01:29,220
I after a while it got to the point

00:01:27,270 --> 00:01:31,860
where I couldn't manually do it and it

00:01:29,220 --> 00:01:33,360
was hard for people to know what what

00:01:31,860 --> 00:01:36,409
the entries were so I wrote a Perl

00:01:33,360 --> 00:01:38,400
script and it hits the slack web api

00:01:36,409 --> 00:01:40,049
grabs all the pinned items from the

00:01:38,400 --> 00:01:43,340
channel that's in parsing gets all the

00:01:40,049 --> 00:01:45,899
user information deals with skin tones

00:01:43,340 --> 00:01:48,840
with the thumbs up that was a our first

00:01:45,899 --> 00:01:52,369
bug and then periodically it can turn

00:01:48,840 --> 00:01:52,369
out to the channel say who's the leader

00:01:53,180 --> 00:01:58,619
first version just something I hacked

00:01:56,040 --> 00:02:00,960
together pearl initially it was just

00:01:58,619 --> 00:02:02,430
hitting out adult api's in real times

00:02:00,960 --> 00:02:05,579
and I added sequel Lite for little

00:02:02,430 --> 00:02:09,209
persistence using the slack Web API and

00:02:05,579 --> 00:02:11,970
it's the old-school interface not the

00:02:09,209 --> 00:02:13,860
real time that's down the road

00:02:11,970 --> 00:02:15,780
and then also the bonus li web api as

00:02:13,860 --> 00:02:17,580
well because what's the point having a

00:02:15,780 --> 00:02:19,010
contest and awarding a prize if you

00:02:17,580 --> 00:02:22,380
don't make sure that everybody pays up

00:02:19,010 --> 00:02:25,200
so I can print out who's paid and who

00:02:22,380 --> 00:02:25,980
hasn't paid and do a little private

00:02:25,200 --> 00:02:27,690
shaming for now

00:02:25,980 --> 00:02:32,940
I haven't had to publicly shame anybody

00:02:27,690 --> 00:02:34,530
yet and so this week since I was here at

00:02:32,940 --> 00:02:36,770
Yap see I thought okay we've been

00:02:34,530 --> 00:02:39,240
talking about having a website for it

00:02:36,770 --> 00:02:41,340
because when you get 40 entries it's

00:02:39,240 --> 00:02:43,890
really hard to scroll up all the way

00:02:41,340 --> 00:02:46,800
through even just for the one day you

00:02:43,890 --> 00:02:50,490
figure out what's the entries and so on

00:02:46,800 --> 00:02:52,500
so I tried Celt for the first time

00:02:50,490 --> 00:02:56,070
really neat little lightweight web

00:02:52,500 --> 00:03:00,450
framework one massive benefit is that

00:02:56,070 --> 00:03:03,060
server restarts and like a second device

00:03:00,450 --> 00:03:05,550
class that's what we use before I was

00:03:03,060 --> 00:03:08,250
doing sweet world's sequel rolled by

00:03:05,550 --> 00:03:10,650
hand which I don't like doing so DB IC

00:03:08,250 --> 00:03:15,240
makes it a lot better tip of the toolkit

00:03:10,650 --> 00:03:16,800
and still hitting the two api's and then

00:03:15,240 --> 00:03:18,480
of course the class of programmer

00:03:16,800 --> 00:03:19,380
interface just an HTML table at the

00:03:18,480 --> 00:03:23,120
moment

00:03:19,380 --> 00:03:26,190
these are contests one per week

00:03:23,120 --> 00:03:33,120
just shows basic information and go

00:03:26,190 --> 00:03:36,600
through and see no duplicate slide what

00:03:33,120 --> 00:03:37,980
did I happen there well shucks I had an

00:03:36,600 --> 00:03:40,500
entry that actually showed all the

00:03:37,980 --> 00:03:42,510
entries for that contest it has a link

00:03:40,500 --> 00:03:45,690
to YouTube playlist

00:03:42,510 --> 00:03:47,160
that's the restriction each entry has to

00:03:45,690 --> 00:03:54,709
be on YouTube because I can parse that

00:03:47,160 --> 00:03:57,000
out easy enough and that's it pops fun

00:03:54,709 --> 00:03:59,060
you should try to

00:03:57,000 --> 00:03:59,060

YouTube URL: https://www.youtube.com/watch?v=uihIyKFkMoA


