Title: Curtis "Ovid" Poe - "Modeling a Universe in Perl"
Publication date: 2017-06-22
Playlist: TPC 2017 in DC
Description: 
	With Tau Station, we're building a sci-fi universe in a browser. However, in object oriented design, what does the "single responsibility principle" mean when your combat armor serves as armor, a weapon, and medkit?

And when many different behaviors have long chains of duplicated requirements (for example, do you have enough money to buy a medkit, or refuel your ship, or repair your blaster, or bribe a guard), how do you handle that in an efficient an easy to read manner?

And how do you avoid god objects when your character in the universe drives almost everything?

This talk explores some of the techniques we've developed for the Tau Station to easily model complex behaviors.


I'm Curtis "Ovid" Poe, the CTO of All Around the World, a consulting firm specializing in Perl. I sit on the board of directors of The Perl Foundation and have written or co-written two books on Perl. I've also written or hacked on many of the testing tools you use on a daily basis and am a prolific CPAN author.
Captions: 
	00:00:00,860 --> 00:00:04,980
that's just a case you're wondering it's

00:00:03,120 --> 00:00:06,810
Rossum Space Station I have a little bit

00:00:04,980 --> 00:00:08,340
less time that I actually planned but

00:00:06,810 --> 00:00:09,630
that's okay if you've seen my talks

00:00:08,340 --> 00:00:12,300
before you know I'm capable of speaking

00:00:09,630 --> 00:00:14,099
quickly we're talking about modeling a

00:00:12,300 --> 00:00:16,500
universe in pearl when I say modeling a

00:00:14,099 --> 00:00:18,869
universe just to make it clear we do

00:00:16,500 --> 00:00:20,369
have a section or config called physics

00:00:18,869 --> 00:00:21,960
which has the speed of light the

00:00:20,369 --> 00:00:23,519
gravitation constant stuff like that

00:00:21,960 --> 00:00:25,619
because there's actually real science we

00:00:23,519 --> 00:00:28,529
layer underneath this which doesn't pop

00:00:25,619 --> 00:00:30,240
up too much but in this case modeling

00:00:28,529 --> 00:00:32,130
universe I'm talking about how the very

00:00:30,240 --> 00:00:33,719
things in the game are going to be

00:00:32,130 --> 00:00:35,130
interacting with one another and

00:00:33,719 --> 00:00:36,809
actually actually as it turns out

00:00:35,130 --> 00:00:38,280
standard object Orion muddling

00:00:36,809 --> 00:00:39,480
techniques that we take for granted for

00:00:38,280 --> 00:00:42,059
a business environment where everything

00:00:39,480 --> 00:00:46,559
is a discrete use case doesn't work as

00:00:42,059 --> 00:00:49,020
well for creating an MMORPG and by the

00:00:46,559 --> 00:00:51,120
way I just want to say so welcome to the

00:00:49,020 --> 00:00:54,500
Perl conference or as I like to call it

00:00:51,120 --> 00:01:01,379
the conference formerly known as Yap see

00:00:54,500 --> 00:01:02,489
oh yeah I showed the slide in Europe at

00:01:01,379 --> 00:01:07,320
one point and got a bunch of blank

00:01:02,489 --> 00:01:11,310
stares no one had a clue yes thank you

00:01:07,320 --> 00:01:12,630
very awful sorry so I represent all

00:01:11,310 --> 00:01:13,920
around the world my name is Curtis Pope

00:01:12,630 --> 00:01:15,119
better knows all of it to many people

00:01:13,920 --> 00:01:17,100
the pro community I'm with the Pro

00:01:15,119 --> 00:01:20,490
Foundation who does not officially

00:01:17,100 --> 00:01:22,020
endorse his talk I'm the CTO and in case

00:01:20,490 --> 00:01:24,330
you're wondering we do a lot of

00:01:22,020 --> 00:01:26,670
consulting training most of this but not

00:01:24,330 --> 00:01:29,070
all of us specializing in Perl if your

00:01:26,670 --> 00:01:30,869
company has trouble finding Perl

00:01:29,070 --> 00:01:33,600
developers and is interested in hiring

00:01:30,869 --> 00:01:35,130
or we are really really good at putting

00:01:33,600 --> 00:01:36,689
together remote teams of top-tier

00:01:35,130 --> 00:01:38,579
developers and also managing them

00:01:36,689 --> 00:01:40,829
effectively for you to get stuff done so

00:01:38,579 --> 00:01:42,720
I'm at the conference to meet people to

00:01:40,829 --> 00:01:44,610
talk to people and by the time I'm done

00:01:42,720 --> 00:01:46,950
with this talk if I have the time you'll

00:01:44,610 --> 00:01:48,420
see why we do some of the things so well

00:01:46,950 --> 00:01:50,460
and what our teams are capable of

00:01:48,420 --> 00:01:52,140
putting together so talk to me

00:01:50,460 --> 00:01:54,049
afterwards ask me about what we can do

00:01:52,140 --> 00:01:56,549
ask for my card whatever enough of that

00:01:54,049 --> 00:01:58,380
question policy is very simple if I

00:01:56,549 --> 00:01:59,759
explain something you didn't understand

00:01:58,380 --> 00:02:01,500
it means someone else didn't understand

00:01:59,759 --> 00:02:03,090
I have failed as a speaker hold up your

00:02:01,500 --> 00:02:04,229
hand interrupt me otherwise please hold

00:02:03,090 --> 00:02:06,479
questions till the end of the talk

00:02:04,229 --> 00:02:09,020
especially this time to make sure that

00:02:06,479 --> 00:02:11,670
we do not run out of time

00:02:09,020 --> 00:02:13,110
so modeling universe what is the

00:02:11,670 --> 00:02:16,590
universe in this particular case we're

00:02:13,110 --> 00:02:19,830
creating text-based sci-fi MMORPG and it

00:02:16,590 --> 00:02:21,870
runs on browser mobile it's very because

00:02:19,830 --> 00:02:23,940
it mostly has a web interface it is

00:02:21,870 --> 00:02:26,310
extremely platform independent which is

00:02:23,940 --> 00:02:28,350
great you can MMORPG you can play in

00:02:26,310 --> 00:02:30,090
anything you want to it's also

00:02:28,350 --> 00:02:31,470
accessible which is something we feel is

00:02:30,090 --> 00:02:33,120
very important we've been working very

00:02:31,470 --> 00:02:34,800
hard to make sure if you're blind you

00:02:33,120 --> 00:02:36,720
can still play it if you have to

00:02:34,800 --> 00:02:38,640
navigate the web with a sip and puff

00:02:36,720 --> 00:02:40,380
device there are some people they simply

00:02:38,640 --> 00:02:43,530
have a stick in their mouth and they

00:02:40,380 --> 00:02:45,540
have to tap that way and we want to make

00:02:43,530 --> 00:02:46,770
sure as much as possible it's harder to

00:02:45,540 --> 00:02:48,720
do this but we still want to make sure

00:02:46,770 --> 00:02:51,120
they can have access to this and enjoy

00:02:48,720 --> 00:02:54,300
the world also because on the web nobody

00:02:51,120 --> 00:02:56,820
knows that you're blind or whatever and

00:02:54,300 --> 00:02:58,380
it's also a free-to-play game for those

00:02:56,820 --> 00:02:59,940
of you in case you're familiar with the

00:02:58,380 --> 00:03:01,380
industry and you're wondering what we

00:02:59,940 --> 00:03:03,210
mean by free-to-play we also mean the

00:03:01,380 --> 00:03:06,410
Fairplay model well there's no level

00:03:03,210 --> 00:03:10,530
caps there's no pay to win

00:03:06,410 --> 00:03:13,470
if someone knows about this so the story

00:03:10,530 --> 00:03:15,450
a very short version this roughly six

00:03:13,470 --> 00:03:18,000
hundred years in the future humanity hit

00:03:15,450 --> 00:03:20,340
hit post scarcity society with an

00:03:18,000 --> 00:03:22,260
attendant post scarcities decline but

00:03:20,340 --> 00:03:24,480
had also managed to start interstellar

00:03:22,260 --> 00:03:26,519
colonization of the galaxy and was doing

00:03:24,480 --> 00:03:28,530
fantastic I was spreading out having

00:03:26,519 --> 00:03:31,130
some difficulties and then the

00:03:28,530 --> 00:03:33,090
catastrophe struck all across the galaxy

00:03:31,130 --> 00:03:34,830
planetary defense systems turned on

00:03:33,090 --> 00:03:37,379
planets ships reactors when critical

00:03:34,830 --> 00:03:39,540
airlocks were being vented were being

00:03:37,379 --> 00:03:41,310
purged in the space of a few hours most

00:03:39,540 --> 00:03:46,049
of humanity was on the verge of

00:03:41,310 --> 00:03:47,250
extinction and then it stopped and no

00:03:46,049 --> 00:03:49,170
one knows why it turns out this is

00:03:47,250 --> 00:03:50,940
extremely relevant to the game but you

00:03:49,170 --> 00:03:52,530
won't find out immediately humanity has

00:03:50,940 --> 00:03:53,069
been ruses sphere about 40 light-years

00:03:52,530 --> 00:03:56,489
across

00:03:53,069 --> 00:03:58,799
centered on Sol and they're in the

00:03:56,489 --> 00:04:00,060
process of rebuilding civilization so if

00:03:58,799 --> 00:04:03,709
you want to you can think about kind of

00:04:00,060 --> 00:04:06,120
a cross between Mad Max and Firefly or

00:04:03,709 --> 00:04:07,940
heavy doses of the expanse and there

00:04:06,120 --> 00:04:10,350
also if you're familiar with that and

00:04:07,940 --> 00:04:12,510
there's a lot of stuff in there because

00:04:10,350 --> 00:04:16,049
we are talking about an MMORPG

00:04:12,510 --> 00:04:18,209
this is extremely complicated much more

00:04:16,049 --> 00:04:19,880
than people would think there's 117

00:04:18,209 --> 00:04:22,740
stars within 20 light years over

00:04:19,880 --> 00:04:24,060
probably under 17 stars turns out that's

00:04:22,740 --> 00:04:26,490
a hard question to actually answer

00:04:24,060 --> 00:04:28,289
effectively there's over 500 space

00:04:26,490 --> 00:04:30,270
stations over 9,000 areas so it's what

00:04:28,289 --> 00:04:31,410
there's lots and lots of stuff but the

00:04:30,270 --> 00:04:33,240
Alpha is going to be a little bit more

00:04:31,410 --> 00:04:34,229
limited because we just want to make

00:04:33,240 --> 00:04:35,550
sure we get the first version of the

00:04:34,229 --> 00:04:37,590
gameplay out there so people can see

00:04:35,550 --> 00:04:40,139
what's going on but even though it's

00:04:37,590 --> 00:04:42,870
tech space our graphics are still pretty

00:04:40,139 --> 00:04:45,479
cool this is a security station there's

00:04:42,870 --> 00:04:47,010
your character page I actually had to

00:04:45,479 --> 00:04:49,099
shrink that down because there's a lot

00:04:47,010 --> 00:04:51,300
of information that we track about

00:04:49,099 --> 00:04:52,830
everything give you all sorts of

00:04:51,300 --> 00:04:55,349
interesting options you can go to the

00:04:52,830 --> 00:04:56,970
career centers you can get a job long

00:04:55,349 --> 00:04:58,349
term career if you want to which happens

00:04:56,970 --> 00:05:00,450
to suit your particular playing style

00:04:58,349 --> 00:05:02,190
there's side jobs available

00:05:00,450 --> 00:05:05,039
there's also missions you can take now

00:05:02,190 --> 00:05:06,990
anyone here played Warcraft

00:05:05,039 --> 00:05:09,419
so what's the mission like a Warcraft

00:05:06,990 --> 00:05:12,180
hello as young brave adventurer you have

00:05:09,419 --> 00:05:14,189
any difficult trials to get here

00:05:12,180 --> 00:05:17,729
please go off and pick ten flowers for

00:05:14,189 --> 00:05:19,169
me and then you get this economically

00:05:17,729 --> 00:05:21,330
improbable reward they're very linear

00:05:19,169 --> 00:05:23,270
very I like Warcraft but the mission

00:05:21,330 --> 00:05:26,580
systems a little bit dull ours is very

00:05:23,270 --> 00:05:27,719
nonlinear we're working very hard with

00:05:26,580 --> 00:05:29,309
our narrative team to make sure that

00:05:27,719 --> 00:05:32,099
each mission kind of reads like a mini

00:05:29,309 --> 00:05:34,919
short story it's very interesting very

00:05:32,099 --> 00:05:36,569
story driven very complex very hard to

00:05:34,919 --> 00:05:38,279
do but we're having a lot of fun with it

00:05:36,569 --> 00:05:39,509
of course you're going to get money for

00:05:38,279 --> 00:05:40,860
missions and if you don't to get mugged

00:05:39,509 --> 00:05:43,770
have the money stolen and you put money

00:05:40,860 --> 00:05:45,629
in a bank but if they do mughi you might

00:05:43,770 --> 00:05:47,699
wind up in a sickbay or worse you might

00:05:45,629 --> 00:05:49,589
have to regenerate out a clone bat so

00:05:47,699 --> 00:05:52,040
that you don't die afterwards you might

00:05:49,589 --> 00:05:54,990
want to relax in the bar

00:05:52,040 --> 00:05:56,490
and you really can't see but there's one

00:05:54,990 --> 00:05:58,020
thing I really appreciate about this

00:05:56,490 --> 00:05:59,370
that our artist is done in the very

00:05:58,020 --> 00:06:00,720
background of the bar it's very hard to

00:05:59,370 --> 00:06:03,120
see you might see this gentle sloping

00:06:00,720 --> 00:06:04,590
blue curve that's a viewport out onto a

00:06:03,120 --> 00:06:06,990
planet and you can actually see he's put

00:06:04,590 --> 00:06:09,180
the atmospheric haze in there there's

00:06:06,990 --> 00:06:11,040
tremendous amounts of detail that most

00:06:09,180 --> 00:06:12,030
folks won't notice but I really

00:06:11,040 --> 00:06:15,420
appreciate the fact that we pay

00:06:12,030 --> 00:06:17,280
attention to it but traveling to the

00:06:15,420 --> 00:06:18,690
stars that's the big deal with science

00:06:17,280 --> 00:06:19,860
fiction games that stuff a lot of folks

00:06:18,690 --> 00:06:21,840
who want to do so

00:06:19,860 --> 00:06:24,090
you go onto the port you hop on a

00:06:21,840 --> 00:06:26,070
spaceship many different types of

00:06:24,090 --> 00:06:29,580
spaceships I love the work our artists

00:06:26,070 --> 00:06:33,450
does and there's also the star map

00:06:29,580 --> 00:06:35,820
so this is a map of all the stars within

00:06:33,450 --> 00:06:37,830
20 light years of Earth so I wrote this

00:06:35,820 --> 00:06:39,720
in JavaScript and handed over to our

00:06:37,830 --> 00:06:44,070
front-end team and they laughed and

00:06:39,720 --> 00:06:44,640
promptly rewrote it so you can't see it

00:06:44,070 --> 00:06:47,360
up there

00:06:44,640 --> 00:06:49,560
I made the colors of the stars Anna took

00:06:47,360 --> 00:06:52,470
astronomically Krupke always do that

00:06:49,560 --> 00:06:54,270
every frickin day I made the colors

00:06:52,470 --> 00:06:56,310
those stars astronomically correct again

00:06:54,270 --> 00:06:57,660
it's one of those little details that we

00:06:56,310 --> 00:07:00,419
pay attention to just those little

00:06:57,660 --> 00:07:01,740
subtle background thing and some of you

00:07:00,419 --> 00:07:03,660
might be wondering at this point how

00:07:01,740 --> 00:07:05,160
does that Jan how does that drive with

00:07:03,660 --> 00:07:06,540
you know being accessible how's a blind

00:07:05,160 --> 00:07:09,240
Claire going to be able to use that star

00:07:06,540 --> 00:07:10,260
map well their screen reader is actually

00:07:09,240 --> 00:07:14,760
going to see something which looks like

00:07:10,260 --> 00:07:17,910
this so it's harder to use but it's

00:07:14,760 --> 00:07:19,860
available so we work hard on this this

00:07:17,910 --> 00:07:21,510
is a work in progress this is a what's

00:07:19,860 --> 00:07:23,130
called a game flow diagram this is how

00:07:21,510 --> 00:07:25,530
you train in a gym to build up your

00:07:23,130 --> 00:07:27,330
stats but enough of that you probably

00:07:25,530 --> 00:07:28,500
want to know what's the pearl look like

00:07:27,330 --> 00:07:32,040
what does the code look like what are we

00:07:28,500 --> 00:07:33,390
doing there so the game is closed source

00:07:32,040 --> 00:07:35,760
because we can't reveal the game's

00:07:33,390 --> 00:07:37,410
secrets but we're trying to push back as

00:07:35,760 --> 00:07:40,020
much to the open source community as we

00:07:37,410 --> 00:07:41,669
can a long time ago I released read-only

00:07:40,020 --> 00:07:45,390
begin lift because of that and promptly

00:07:41,669 --> 00:07:47,250
stopped using it I was using test class

00:07:45,390 --> 00:07:49,800
and then I said this sucks so I wrote

00:07:47,250 --> 00:07:51,120
test class most and I took a lot of the

00:07:49,800 --> 00:07:53,370
knowledge from that and radically rolled

00:07:51,120 --> 00:07:54,930
that into test class mousse which Dame

00:07:53,370 --> 00:07:57,120
has taken over thank you very much for

00:07:54,930 --> 00:07:59,110
taking over the maintenance anyone here

00:07:57,120 --> 00:08:02,170
use test class mousse by the way

00:07:59,110 --> 00:08:07,240
oh yeah well anyone here is not zip

00:08:02,170 --> 00:08:10,090
recruiter out of curiosity crochet so

00:08:07,240 --> 00:08:12,040
test class removes a lot of fantastic

00:08:10,090 --> 00:08:14,020
stuff available with that you really

00:08:12,040 --> 00:08:16,420
should pay attention to that dbx class

00:08:14,020 --> 00:08:18,010
reports is another module of test

00:08:16,420 --> 00:08:19,840
classes history dave starting to

00:08:18,010 --> 00:08:21,640
possibly roll down into core but we need

00:08:19,840 --> 00:08:24,160
more feedback on that it's really

00:08:21,640 --> 00:08:25,990
awesome and you'll see why in a bit open

00:08:24,160 --> 00:08:28,030
source patches catalyst simplex login

00:08:25,990 --> 00:08:29,920
some date time stuff there's more also

00:08:28,030 --> 00:08:31,480
there's an email testing module we're

00:08:29,920 --> 00:08:33,520
going to be releasing soon so we're

00:08:31,480 --> 00:08:34,840
trying to give back as much as we can we

00:08:33,520 --> 00:08:35,650
encourage our developers if it's not

00:08:34,840 --> 00:08:40,900
business-related

00:08:35,650 --> 00:08:42,520
let people have it and our principles

00:08:40,900 --> 00:08:45,190
for building the game first of all this

00:08:42,520 --> 00:08:47,260
is the principles we use for our people

00:08:45,190 --> 00:08:50,710
in general we only use proven

00:08:47,260 --> 00:08:52,570
technologies so we're we try to avoid

00:08:50,710 --> 00:08:54,490
hype driven development anything which

00:08:52,570 --> 00:08:57,160
you know that's really cool and exciting

00:08:54,490 --> 00:09:00,070
the most exciting technology we have and

00:08:57,160 --> 00:09:01,750
there are some golang and some bots for

00:09:00,070 --> 00:09:03,700
stuff that if we take that away it

00:09:01,750 --> 00:09:05,650
doesn't impact anything if it fails it's

00:09:03,700 --> 00:09:07,870
not a problem so we're very conservative

00:09:05,650 --> 00:09:10,630
about what we use we also extremely

00:09:07,870 --> 00:09:12,610
extremely careful hiring very few

00:09:10,630 --> 00:09:14,650
companies know how to hire we have a

00:09:12,610 --> 00:09:16,600
very good system of hiring which is

00:09:14,650 --> 00:09:19,030
actually based upon you know proven

00:09:16,600 --> 00:09:21,910
techniques for getting much much better

00:09:19,030 --> 00:09:24,100
employees with developer tests

00:09:21,910 --> 00:09:26,680
structured interviews and getting them

00:09:24,100 --> 00:09:28,030
on board so really fantastic people

00:09:26,680 --> 00:09:30,430
there's really helped us quite a bit and

00:09:28,030 --> 00:09:32,110
very very strong testing if you know me

00:09:30,430 --> 00:09:34,390
well of course you know that's it you

00:09:32,110 --> 00:09:36,580
can go out google these n of test Suites

00:09:34,390 --> 00:09:37,990
by Ovid which explains my personal

00:09:36,580 --> 00:09:40,360
testing philosophy which was really made

00:09:37,990 --> 00:09:41,800
this a lot easier that's kind of what

00:09:40,360 --> 00:09:45,100
some of that is but I won't go into that

00:09:41,800 --> 00:09:47,920
now instead our testing itself is mostly

00:09:45,100 --> 00:09:49,450
based around test class mousse we use

00:09:47,920 --> 00:09:51,910
protractor for some of our front-end

00:09:49,450 --> 00:09:53,950
stuff we were using a selenium and that

00:09:51,910 --> 00:09:55,780
turned out to be a big bucket of suck so

00:09:53,950 --> 00:09:58,270
we are not using selenium anymore

00:09:55,780 --> 00:09:59,800
protractor in periods for angularjs but

00:09:58,270 --> 00:10:03,190
in reality is any front-end stuff you

00:09:59,800 --> 00:10:06,790
want load testing again that's a going

00:10:03,190 --> 00:10:09,130
BOTS I wrote the over 15,000 tests in

00:10:06,790 --> 00:10:11,830
our test suite right now and test

00:10:09,130 --> 00:10:13,190
history oh my god that's fantastic I'll

00:10:11,830 --> 00:10:15,840
get to that in a moment

00:10:13,190 --> 00:10:17,850
the test suite itself takes about 15

00:10:15,840 --> 00:10:19,650
minutes to run in its entirety last time

00:10:17,850 --> 00:10:21,750
I gave this talk it was about six or

00:10:19,650 --> 00:10:24,770
seven minutes for 11,000 tests but we've

00:10:21,750 --> 00:10:28,800
put in some pretty heavy tests in there

00:10:24,770 --> 00:10:30,150
115 minutes to run 15,000 tests by

00:10:28,800 --> 00:10:32,550
comparison when I first started with the

00:10:30,150 --> 00:10:35,100
BBC on their core metadata repository we

00:10:32,550 --> 00:10:38,310
had about 11,000 tests and that took

00:10:35,100 --> 00:10:39,570
that was about 5 times longer to run if

00:10:38,310 --> 00:10:40,620
you were to take our test Glassman's

00:10:39,570 --> 00:10:42,120
test suite and break that out into

00:10:40,620 --> 00:10:43,860
separate T files I've got a little

00:10:42,120 --> 00:10:46,800
sample program which will do this it

00:10:43,860 --> 00:10:50,430
will take we go from 9 minutes of 33

00:10:46,800 --> 00:10:52,830
seconds for those tests up to 80 minutes

00:10:50,430 --> 00:10:55,050
so that's one of the many benefits of

00:10:52,830 --> 00:10:56,790
using framework like test class members

00:10:55,050 --> 00:10:58,920
for your test suite tremendously improve

00:10:56,790 --> 00:11:00,630
speed and as you know if you improve the

00:10:58,920 --> 00:11:01,920
speed you improve the chance of your

00:11:00,630 --> 00:11:04,770
developers are actually going to run the

00:11:01,920 --> 00:11:05,880
tests and so you can see how we're

00:11:04,770 --> 00:11:09,480
actually doing this is a real test

00:11:05,880 --> 00:11:11,940
coverage it's not but for this size of

00:11:09,480 --> 00:11:14,130
an application it's not too bad and we

00:11:11,940 --> 00:11:16,830
do monitor mentions run to always get

00:11:14,130 --> 00:11:20,850
this available well this is what I love

00:11:16,830 --> 00:11:22,020
test failures so I've truncated the

00:11:20,850 --> 00:11:23,310
class names to make it a little bit

00:11:22,020 --> 00:11:24,750
easier to fit on the slide you can

00:11:23,310 --> 00:11:26,940
actually see on that right-hand column

00:11:24,750 --> 00:11:28,800
that's a lot of test failures that's

00:11:26,940 --> 00:11:30,990
really embarrassing you don't want to

00:11:28,800 --> 00:11:33,090
have an app that fragile but oh wait

00:11:30,990 --> 00:11:35,660
that's like also testing our developer

00:11:33,090 --> 00:11:37,590
branches if I just check master

00:11:35,660 --> 00:11:39,630
bypassing the master suite from my

00:11:37,590 --> 00:11:40,950
little test failure script you can see

00:11:39,630 --> 00:11:43,200
the number of tests have dropped

00:11:40,950 --> 00:11:44,730
dramatically but you can also see the

00:11:43,200 --> 00:11:46,290
first time that particular test failed

00:11:44,730 --> 00:11:49,170
the last time that particular test

00:11:46,290 --> 00:11:50,790
failed so those the last time they

00:11:49,170 --> 00:11:52,500
failed that was actually kind of old so

00:11:50,790 --> 00:11:54,720
if I just restrict this the last couple

00:11:52,500 --> 00:11:56,160
of weeks I'm only down to four tests

00:11:54,720 --> 00:11:57,840
failure as a master and it turns out

00:11:56,160 --> 00:12:00,720
that particular test failure was an

00:11:57,840 --> 00:12:02,850
intermittent failure that one dependent

00:12:00,720 --> 00:12:04,950
so we mocked time that failure went away

00:12:02,850 --> 00:12:07,200
so boom no more failures in our test

00:12:04,950 --> 00:12:09,180
suite and that also works on our Jenkins

00:12:07,200 --> 00:12:10,980
server too so we can pull down all the

00:12:09,180 --> 00:12:12,960
test failures from our denken server and

00:12:10,980 --> 00:12:14,670
we can see things like our leaderboards

00:12:12,960 --> 00:12:15,420
we're failing more often than we

00:12:14,670 --> 00:12:17,790
realized

00:12:15,420 --> 00:12:18,900
because we have this history so the

00:12:17,790 --> 00:12:20,250
leaderboards probably are not going to

00:12:18,900 --> 00:12:21,810
be part of alpha and it turns out

00:12:20,250 --> 00:12:24,450
there's some other structural problems

00:12:21,810 --> 00:12:26,220
with them we hadn't known about that's

00:12:24,450 --> 00:12:28,290
what test history does for you it is so

00:12:26,220 --> 00:12:30,990
much easier to find out what's going on

00:12:28,290 --> 00:12:33,360
I can also now for a test classmate's I

00:12:30,990 --> 00:12:35,970
could pass a failed switch and it will

00:12:33,360 --> 00:12:38,520
automatically run the last set of tests

00:12:35,970 --> 00:12:41,070
which failed much easier to develop it

00:12:38,520 --> 00:12:44,250
in so this is only on github right now

00:12:41,070 --> 00:12:45,900
because it's a proof-of-concept and I

00:12:44,250 --> 00:12:47,400
pass it out there for folks so you can

00:12:45,900 --> 00:12:49,020
pay attention this and see what this can

00:12:47,400 --> 00:12:52,530
do for you if you're using tests class

00:12:49,020 --> 00:12:54,750
moves it's dirty simple to use it

00:12:52,530 --> 00:12:57,810
doesn't have to be get for the branch

00:12:54,750 --> 00:12:58,830
and the commit you can use SVN material

00:12:57,810 --> 00:13:00,819
whatever I don't care

00:12:58,830 --> 00:13:02,619
those just have to be

00:13:00,819 --> 00:13:03,819
jeno fire so later on it can produce

00:13:02,619 --> 00:13:05,319
good information for you

00:13:03,819 --> 00:13:07,539
there's more information out there it's

00:13:05,319 --> 00:13:09,609
fairly decently documented on github but

00:13:07,539 --> 00:13:12,579
it is not ready for primetime yet

00:13:09,609 --> 00:13:15,220
so please if you're interested in it use

00:13:12,579 --> 00:13:17,049
it it works well give feedback

00:13:15,220 --> 00:13:19,989
especially for Dave's because he's the

00:13:17,049 --> 00:13:21,789
poor soul who's a working with Israel we

00:13:19,989 --> 00:13:24,399
really like to have this out there so

00:13:21,789 --> 00:13:27,749
everyone using really heavyweight test

00:13:24,399 --> 00:13:27,749
Suites can have take advantage of this

00:13:28,079 --> 00:13:32,649
and as you can see almost all rules are

00:13:31,269 --> 00:13:34,029
open-source with the exception of

00:13:32,649 --> 00:13:41,379
JavaScript which is actually just an

00:13:34,029 --> 00:13:42,519
open standard and I said we're

00:13:41,379 --> 00:13:44,949
conservative we're just using standard

00:13:42,519 --> 00:13:47,229
MVC model internally for doing this

00:13:44,949 --> 00:13:50,199
catalyst template toolkit dbx class

00:13:47,229 --> 00:13:51,699
nothing fancy about that so this is what

00:13:50,199 --> 00:13:54,009
one of our controllers look like this is

00:13:51,699 --> 00:13:55,569
how if you visit a clone bat you clone

00:13:54,009 --> 00:13:57,850
that you might want to purchase a new

00:13:55,569 --> 00:13:59,709
clone because this is a far future

00:13:57,850 --> 00:14:01,839
societies collapse they have a lot of

00:13:59,709 --> 00:14:03,669
restricted universes want to restrict

00:14:01,839 --> 00:14:04,899
your resources you buy a new phone they

00:14:03,669 --> 00:14:08,439
actually take your old phone out and

00:14:04,899 --> 00:14:11,829
kill it so it's kind of creepy at points

00:14:08,439 --> 00:14:15,129
but supposed to be but you'll notice we

00:14:11,829 --> 00:14:17,919
have C character purchase clone that's

00:14:15,129 --> 00:14:20,409
the controller that's it the controller

00:14:17,919 --> 00:14:23,459
is just there to connect the view and

00:14:20,409 --> 00:14:27,129
the model do not put logic in your

00:14:23,459 --> 00:14:30,459
controllers it makes it harder to test

00:14:27,129 --> 00:14:31,749
it makes it harder to reuse the

00:14:30,459 --> 00:14:33,819
controller should just be connecting

00:14:31,749 --> 00:14:35,589
these two sides now then afterwards we

00:14:33,819 --> 00:14:38,220
just redirect back to the index page and

00:14:35,589 --> 00:14:40,299
that's it but what does that look like

00:14:38,220 --> 00:14:41,649
what does the what does it look like in

00:14:40,299 --> 00:14:43,629
the actual model you might be wondering

00:14:41,649 --> 00:14:45,489
so this is a slightly older version of

00:14:43,629 --> 00:14:48,939
this this is the this was a method

00:14:45,489 --> 00:14:51,309
called gestate and this is how this was

00:14:48,939 --> 00:14:52,600
inside of our clone model how the clone

00:14:51,309 --> 00:14:54,159
would be able to just state the new

00:14:52,600 --> 00:14:58,310
character and the developer rotor should

00:14:54,159 --> 00:15:00,410
probably be fired but that's me so

00:14:58,310 --> 00:15:03,410
I'll explain to you why this is so bad

00:15:00,410 --> 00:15:06,980
so first of all the font is too small

00:15:03,410 --> 00:15:09,260
here or I'm too old wanna see first

00:15:06,980 --> 00:15:10,880
thing we do is we throw exceptions are

00:15:09,260 --> 00:15:13,880
not enough loan bet we generally don't

00:15:10,880 --> 00:15:15,740
throw exceptions too much unless we

00:15:13,880 --> 00:15:16,880
happen to get to a point where they

00:15:15,740 --> 00:15:18,560
shouldn't have been

00:15:16,880 --> 00:15:21,110
they've been fiddling around with the

00:15:18,560 --> 00:15:22,220
URL in which case if they get a 500

00:15:21,110 --> 00:15:24,800
error that's not my problem

00:15:22,220 --> 00:15:26,120
but so the gestate method first

00:15:24,800 --> 00:15:28,340
exception if they're not in the cologne

00:15:26,120 --> 00:15:29,270
bet then we rummage around in the

00:15:28,340 --> 00:15:31,910
characters wallet

00:15:29,270 --> 00:15:33,650
see if they have enough money we start a

00:15:31,910 --> 00:15:35,810
transaction we take the money out of

00:15:33,650 --> 00:15:37,490
their wallet we go ahead and just state

00:15:35,810 --> 00:15:41,180
the new phone and finish up the

00:15:37,490 --> 00:15:42,880
transaction yeah there's a finishing

00:15:41,180 --> 00:15:44,990
latrans but then we add the messages

00:15:42,880 --> 00:15:46,310
these are the sort of messages that we

00:15:44,990 --> 00:15:47,690
build up along the way to let the person

00:15:46,310 --> 00:15:49,430
know everything that happened in that

00:15:47,690 --> 00:15:51,140
particular action and then the shows up

00:15:49,430 --> 00:15:53,270
on the main page you can see that at the

00:15:51,140 --> 00:15:55,880
top you purchase new clone how much

00:15:53,270 --> 00:15:57,170
money it cost some little descriptive

00:15:55,880 --> 00:16:01,460
text of what the clone looks like

00:15:57,170 --> 00:16:02,720
swelling in this little clone pod that

00:16:01,460 --> 00:16:05,240
sucks

00:16:02,720 --> 00:16:07,490
so for those of you who are familiar

00:16:05,240 --> 00:16:08,690
with modeling you might be wondering why

00:16:07,490 --> 00:16:12,620
is the form class per moment ring around

00:16:08,690 --> 00:16:13,340
in the characters wallet yeah it should

00:16:12,620 --> 00:16:16,130
not be doing that

00:16:13,340 --> 00:16:18,230
why is the phone class checking to see

00:16:16,130 --> 00:16:20,990
where the character is what if I want to

00:16:18,230 --> 00:16:22,430
buy a ship and I put a cloning pod on my

00:16:20,990 --> 00:16:24,890
ship if I'm able to do that in the

00:16:22,430 --> 00:16:26,090
future I can't use this because it's

00:16:24,890 --> 00:16:28,880
trying to assert that they're actually

00:16:26,090 --> 00:16:31,070
in the clone VAT which is an area on a

00:16:28,880 --> 00:16:33,500
space station so we have some very

00:16:31,070 --> 00:16:36,800
inflexible unreasonable code so here's

00:16:33,500 --> 00:16:38,840
what it looks like now this is what's

00:16:36,800 --> 00:16:39,980
called an economic exchange I won't go

00:16:38,840 --> 00:16:42,320
into the background of what that means

00:16:39,980 --> 00:16:44,600
but basically this is mostly declarative

00:16:42,320 --> 00:16:46,250
code for those of you for more clarity

00:16:44,600 --> 00:16:47,690
float and code and logic programming you

00:16:46,250 --> 00:16:49,520
know you can order those things any way

00:16:47,690 --> 00:16:51,740
you want to but we also have some time

00:16:49,520 --> 00:16:53,630
sequences sometimes in these so the

00:16:51,740 --> 00:16:55,400
order of these tends to be dependent and

00:16:53,630 --> 00:16:56,660
what you have is you set up some

00:16:55,400 --> 00:16:59,510
metadata about it and then you call

00:16:56,660 --> 00:17:01,100
steps and these are the individual steps

00:16:59,510 --> 00:17:04,070
you have to verify it like the location

00:17:01,100 --> 00:17:06,920
itself is in area clone bat while itself

00:17:04,070 --> 00:17:08,880
pay price then clone self just ate in

00:17:06,920 --> 00:17:13,589
that area

00:17:08,880 --> 00:17:14,850
the are easy to change they're easy to

00:17:13,589 --> 00:17:16,230
share with others they're easy to

00:17:14,850 --> 00:17:19,199
customize in case you need to change

00:17:16,230 --> 00:17:21,059
stuff it is much much easier to write

00:17:19,199 --> 00:17:23,250
that and those are effectively you can

00:17:21,059 --> 00:17:25,620
think of those as semantic triples we

00:17:23,250 --> 00:17:27,319
list the context for it and then there's

00:17:25,620 --> 00:17:30,090
a triple and it's subject-verb-object

00:17:27,319 --> 00:17:32,549
order that's one of the very important

00:17:30,090 --> 00:17:33,840
things we focused on tremendously inside

00:17:32,549 --> 00:17:35,460
of this codebase make sure things are in

00:17:33,840 --> 00:17:39,690
subject-verb-object order so you can

00:17:35,460 --> 00:17:41,470
always understand them so which of those

00:17:39,690 --> 00:17:44,169
do you want

00:17:41,470 --> 00:17:46,750
yeah on the right oh goodness that's so

00:17:44,169 --> 00:17:48,309
much easier so a clone that is in case

00:17:46,750 --> 00:17:49,659
you know you die and you need to be

00:17:48,309 --> 00:17:51,820
resurrected what does it look like if

00:17:49,659 --> 00:17:54,009
you die well there's the steps for it

00:17:51,820 --> 00:17:56,320
you know first of all we take everything

00:17:54,009 --> 00:17:58,090
out of your inventory you know we move

00:17:56,320 --> 00:18:00,820
you to the clone bat area you know we do

00:17:58,090 --> 00:18:04,210
all these steps which if you can read

00:18:00,820 --> 00:18:06,009
that you can know what the logic is even

00:18:04,210 --> 00:18:07,840
if you don't know pearl sometimes our

00:18:06,009 --> 00:18:10,840
narrative designers come to me and they

00:18:07,840 --> 00:18:12,490
say you know we do this thing how is it

00:18:10,840 --> 00:18:14,379
actually happening under the hood I can

00:18:12,490 --> 00:18:15,879
cut and paste the steps to the narrative

00:18:14,379 --> 00:18:17,169
designers who never touch the

00:18:15,879 --> 00:18:20,500
programming language in their life and

00:18:17,169 --> 00:18:27,429
they can read this this is so much

00:18:20,500 --> 00:18:29,679
easier to use but just eight is now on

00:18:27,429 --> 00:18:31,600
the character class well that's kind of

00:18:29,679 --> 00:18:34,230
interesting because anyone heard of the

00:18:31,600 --> 00:18:34,230
concept of God

00:18:34,880 --> 00:18:39,320
that's a problem when you it's something

00:18:37,460 --> 00:18:41,389
a lot of newer developers have they pack

00:18:39,320 --> 00:18:43,220
a lot of behavior into objects it packs

00:18:41,389 --> 00:18:45,409
so much behavior in objects which object

00:18:43,220 --> 00:18:47,149
have nothing to do I know of a guy who

00:18:45,409 --> 00:18:49,100
in order to break this habit with

00:18:47,149 --> 00:18:51,679
c-sharp developers he would actually

00:18:49,100 --> 00:18:53,649
name the classes after creatures like

00:18:51,679 --> 00:18:56,570
here's the authentication carrier and

00:18:53,649 --> 00:18:58,429
here was the session gnome and after a

00:18:56,570 --> 00:18:59,960
while somehow people learned that the

00:18:58,429 --> 00:19:01,220
session gnome only knows about sessions

00:18:59,960 --> 00:19:03,590
the Faerie only knows about

00:19:01,220 --> 00:19:06,440
authentication the troll knows about

00:19:03,590 --> 00:19:07,820
authorization and it stopped the problem

00:19:06,440 --> 00:19:12,230
where you had these idiots writing they

00:19:07,820 --> 00:19:13,879
start HTML class yes they had one so

00:19:12,230 --> 00:19:15,289
single responsibility principle means

00:19:13,879 --> 00:19:18,230
you want to only have one reason to

00:19:15,289 --> 00:19:21,169
change a class but in an MMORPG the

00:19:18,230 --> 00:19:23,000
character is driving everything and I

00:19:21,169 --> 00:19:26,779
was trying to avoid this are trying to

00:19:23,000 --> 00:19:29,389
avoid this because look at this look at

00:19:26,779 --> 00:19:31,669
all the different things a character can

00:19:29,389 --> 00:19:33,259
do in an MMORPG because that is the

00:19:31,669 --> 00:19:35,570
central thing about it this is not a

00:19:33,259 --> 00:19:38,299
discrete business process where I have a

00:19:35,570 --> 00:19:40,340
simple invoice object and I have an

00:19:38,299 --> 00:19:42,259
order object I can attach the invoice

00:19:40,340 --> 00:19:44,059
object and I have item objects I can

00:19:42,259 --> 00:19:45,679
attach the order object which I can

00:19:44,059 --> 00:19:48,500
attach to the invoice object I can

00:19:45,679 --> 00:19:50,509
attach customer this doesn't work that

00:19:48,500 --> 00:19:56,149
way traditional modeling is very hard to

00:19:50,509 --> 00:19:57,620
do with this so you know what we had was

00:19:56,149 --> 00:19:59,210
that was a clone with a just eight

00:19:57,620 --> 00:20:01,370
method originally but as you saw the

00:19:59,210 --> 00:20:02,659
clone class was rummaging around her

00:20:01,370 --> 00:20:06,019
character's wallet check you see the

00:20:02,659 --> 00:20:08,690
character was that logic really didn't

00:20:06,019 --> 00:20:13,730
belong there and so that's what led us

00:20:08,690 --> 00:20:15,830
to this because who's responsible as I

00:20:13,730 --> 00:20:17,419
said characters drive all actions almost

00:20:15,830 --> 00:20:19,370
all actions and MMORPGs that's not

00:20:17,419 --> 00:20:22,340
entirely true but originally ahead code

00:20:19,370 --> 00:20:23,779
like this in a verb subject object order

00:20:22,340 --> 00:20:26,720
because I was trying to avoid god

00:20:23,779 --> 00:20:28,700
objects and I put the has missions for

00:20:26,720 --> 00:20:31,730
into the missions class missions has

00:20:28,700 --> 00:20:34,759
missions for Alice Bob and I could never

00:20:31,730 --> 00:20:37,220
read that I wrote the code and I could

00:20:34,759 --> 00:20:39,230
never understand what it said and then I

00:20:37,220 --> 00:20:40,970
eventually bit the bullet and I put the

00:20:39,230 --> 00:20:42,300
has missions for method into the

00:20:40,970 --> 00:20:45,240
character class

00:20:42,300 --> 00:20:47,160
Alice has missions for Bob and now I

00:20:45,240 --> 00:20:52,730
know exactly what it means there's zero

00:20:47,160 --> 00:20:52,730
ambiguity so how do I avoid God objects

00:20:53,150 --> 00:20:57,690
if you are familiar with partial classes

00:20:56,010 --> 00:20:59,730
this is something you often find as part

00:20:57,690 --> 00:21:02,310
of compilers and stuff a compiler you

00:20:59,730 --> 00:21:03,420
might maybe you in your editor sorry

00:21:02,310 --> 00:21:04,560
part of something you might phone with

00:21:03,420 --> 00:21:06,570
an editor well you add some annotations

00:21:04,560 --> 00:21:08,910
to your code so for this particular

00:21:06,570 --> 00:21:10,860
attribute we want it to be public they

00:21:08,910 --> 00:21:12,510
should be able to set it so it might

00:21:10,860 --> 00:21:14,520
behind-the-scenes build up a bunch of

00:21:12,510 --> 00:21:16,560
code getters and setters compile this

00:21:14,520 --> 00:21:17,820
into a separate partial class or build

00:21:16,560 --> 00:21:19,800
this into a separate partial class now

00:21:17,820 --> 00:21:21,540
when you hit compile it follows all of

00:21:19,800 --> 00:21:23,160
this into one big class behind the

00:21:21,540 --> 00:21:27,510
scenes and then everything just

00:21:23,160 --> 00:21:32,130
magically works that sounds an awful lot

00:21:27,510 --> 00:21:33,090
like roles so what I did I thought about

00:21:32,130 --> 00:21:34,830
this and I started thinking about

00:21:33,090 --> 00:21:36,720
partial classes generally there's

00:21:34,830 --> 00:21:38,610
something dealing with IDs and compilers

00:21:36,720 --> 00:21:42,090
we don't see them I just made them very

00:21:38,610 --> 00:21:43,500
front and center in this and it's no

00:21:42,090 --> 00:21:45,000
longer a code generation thing so we

00:21:43,500 --> 00:21:47,790
have a partial class like this this is

00:21:45,000 --> 00:21:50,400
kind of a shorthand for older character

00:21:47,790 --> 00:21:52,530
clone partial class looks like instead

00:21:50,400 --> 00:21:53,760
of single responsibility for a class we

00:21:52,530 --> 00:21:57,990
have seen the responsibility for a

00:21:53,760 --> 00:22:00,960
partial class and then we have tests for

00:21:57,990 --> 00:22:02,820
that and then in the character class I'm

00:22:00,960 --> 00:22:05,010
lying about some of this I'm keeping it

00:22:02,820 --> 00:22:07,260
simple in the character class what we is

00:22:05,010 --> 00:22:08,940
we simply apply that list of roles to

00:22:07,260 --> 00:22:13,020
the character and now the character can

00:22:08,940 --> 00:22:15,690
do all of this stuff every partial class

00:22:13,020 --> 00:22:18,620
now has a single responsibility it turns

00:22:15,690 --> 00:22:21,540
out this is really easy to maintain is

00:22:18,620 --> 00:22:23,880
understand and it's going to go wrong

00:22:21,540 --> 00:22:25,920
we've been waiting for a couple of years

00:22:23,880 --> 00:22:28,260
to go wrong and it's just it's working

00:22:25,920 --> 00:22:30,360
it violates so much of what we think

00:22:28,260 --> 00:22:32,990
about for good oo design and it works

00:22:30,360 --> 00:22:32,990
beautifully

00:22:34,940 --> 00:22:41,250
so that's the character you've got a

00:22:39,180 --> 00:22:43,950
combat suit because it's going to be

00:22:41,250 --> 00:22:45,930
combat in our MMORPG so you're wearing

00:22:43,950 --> 00:22:48,660
your combat suit and it serves as an

00:22:45,930 --> 00:22:51,510
armor item and then someone attacks you

00:22:48,660 --> 00:22:53,880
and the suit shoots back well now serves

00:22:51,510 --> 00:22:55,560
as a weapon item and then you got a hit

00:22:53,880 --> 00:22:57,930
so it catches you off real quick so it

00:22:55,560 --> 00:22:59,520
serves as a medical item and then it

00:22:57,930 --> 00:23:03,510
turns out like me you're a coward so

00:22:59,520 --> 00:23:06,080
gives you little pepti and entrance

00:23:03,510 --> 00:23:09,120
where single responsibility might have

00:23:06,080 --> 00:23:11,640
all right language but how do you do

00:23:09,120 --> 00:23:13,320
modeling like that oh that's a medical

00:23:11,640 --> 00:23:15,780
item I have no idea why that slide

00:23:13,320 --> 00:23:18,260
happens to be there but some of the

00:23:15,780 --> 00:23:21,500
stuff our artist does

00:23:18,260 --> 00:23:24,679
in gaming there's a pattern known as

00:23:21,500 --> 00:23:26,090
entity component system and this is very

00:23:24,679 --> 00:23:27,620
fascinating when you start reading about

00:23:26,090 --> 00:23:29,570
this and you start understanding how

00:23:27,620 --> 00:23:31,580
this is put together entities are what

00:23:29,570 --> 00:23:33,320
we tend to think of as objects you have

00:23:31,580 --> 00:23:36,679
a gun you have a suit of armor you have

00:23:33,320 --> 00:23:39,290
a med kit you have whatever a component

00:23:36,679 --> 00:23:40,940
is an aspect of its behavior don't think

00:23:39,290 --> 00:23:43,160
aspect oriented programming for God's

00:23:40,940 --> 00:23:46,160
sake save yourself it's just an aspect

00:23:43,160 --> 00:23:49,130
of the entity you might have and then

00:23:46,160 --> 00:23:52,610
the system handles more or less how

00:23:49,130 --> 00:23:55,940
these things work so in fact an object

00:23:52,610 --> 00:23:59,620
an item in simply data there is no

00:23:55,940 --> 00:24:02,240
behavior attached to these objects

00:23:59,620 --> 00:24:04,400
instead so this is how it works in a

00:24:02,240 --> 00:24:05,600
traditional game like a game with

00:24:04,400 --> 00:24:07,580
graphics that you might see you have

00:24:05,600 --> 00:24:10,130
what we call a game loop where we get

00:24:07,580 --> 00:24:11,840
the user input and while the game is

00:24:10,130 --> 00:24:14,030
running get to user input we update the

00:24:11,840 --> 00:24:17,570
state and then we draw the next slide

00:24:14,030 --> 00:24:19,400
whatever and what is update state look

00:24:17,570 --> 00:24:21,260
like so it might in this case it might

00:24:19,400 --> 00:24:23,900
be you have the animals hide from D and

00:24:21,260 --> 00:24:25,640
forward for who they move about and then

00:24:23,900 --> 00:24:27,770
you know maybe they attack other animals

00:24:25,640 --> 00:24:29,299
what is forward for food look like down

00:24:27,770 --> 00:24:32,840
here and this method for entity and

00:24:29,299 --> 00:24:35,330
entities if is animal entity search for

00:24:32,840 --> 00:24:37,580
food entity notice the behavior is not

00:24:35,330 --> 00:24:40,580
on the object these are functions that

00:24:37,580 --> 00:24:43,309
you pass this intelligent data structure

00:24:40,580 --> 00:24:46,730
to and it knows how to inspect and take

00:24:43,309 --> 00:24:49,309
the right action because the class is

00:24:46,730 --> 00:24:52,910
now the class is irrelevant in this

00:24:49,309 --> 00:24:55,370
particular case for the web however we

00:24:52,910 --> 00:24:56,600
don't have a game loop as something

00:24:55,370 --> 00:24:57,890
doesn't exist it depends upon you know

00:24:56,600 --> 00:25:00,679
whether or not you click on the next

00:24:57,890 --> 00:25:03,290
thing so we check our behavior as needed

00:25:00,679 --> 00:25:06,440
and this is really simplified things let

00:25:03,290 --> 00:25:08,750
me give you an older which isn't what we

00:25:06,440 --> 00:25:10,010
do now but it's easier to explain let's

00:25:08,750 --> 00:25:12,559
just zoom we only have three types of

00:25:10,010 --> 00:25:14,809
entities which are armor weapons and mod

00:25:12,559 --> 00:25:16,309
that a mod could be a bionic or a

00:25:14,809 --> 00:25:20,030
genetic modification that you get

00:25:16,309 --> 00:25:21,590
installed in the sick bay and we have

00:25:20,030 --> 00:25:23,929
global attributes everything has a name

00:25:21,590 --> 00:25:26,270
everything has a weight or mass actually

00:25:23,929 --> 00:25:27,799
all sorts of things about that now it

00:25:26,270 --> 00:25:28,990
might serve as armor it might serve as a

00:25:27,799 --> 00:25:31,090
mod or might serve as a weapon

00:25:28,990 --> 00:25:33,669
we go in that from the item table and

00:25:31,090 --> 00:25:35,370
then we do left outer joins against the

00:25:33,669 --> 00:25:38,160
components

00:25:35,370 --> 00:25:40,410
so that down at the bottom you see those

00:25:38,160 --> 00:25:41,970
predicate methods which are available we

00:25:40,410 --> 00:25:43,890
just check to see if the ID is defined

00:25:41,970 --> 00:25:46,830
does it serve as armor does it serve as

00:25:43,890 --> 00:25:47,910
weapon doesn't serve as a mod and let's

00:25:46,830 --> 00:25:49,940
let's see how this works with the

00:25:47,910 --> 00:25:52,440
economic as I showed you earlier

00:25:49,940 --> 00:25:53,880
so here here's how you install a mod

00:25:52,440 --> 00:25:56,040
first you check to see if a person's not

00:25:53,880 --> 00:25:57,630
confined you make sure they're in the

00:25:56,040 --> 00:25:59,640
sickbay you make sure they have the

00:25:57,630 --> 00:26:03,240
money to pay for the mod and then you

00:25:59,640 --> 00:26:08,040
actually I can't see 5 minutes left

00:26:03,240 --> 00:26:09,960
oh what's that okay so then we check see

00:26:08,040 --> 00:26:12,300
if they actually can install them on and

00:26:09,960 --> 00:26:14,550
inside the inventory that actually

00:26:12,300 --> 00:26:16,560
generates an instance of a vir economic

00:26:14,550 --> 00:26:18,900
asset inventory class and install is

00:26:16,560 --> 00:26:21,630
simply a method on there and it looks

00:26:18,900 --> 00:26:24,510
like this and in that if else--if chain

00:26:21,630 --> 00:26:26,010
we check the item is mod which is part

00:26:24,510 --> 00:26:30,450
of that left outer join and the

00:26:26,010 --> 00:26:33,120
predicate method because the items are

00:26:30,450 --> 00:26:37,290
immutable that SQL looked pretty

00:26:33,120 --> 00:26:39,510
expensive but now trivial to cash so the

00:26:37,290 --> 00:26:41,100
SQL there's a hit on grabbing that data

00:26:39,510 --> 00:26:42,090
but then we can cash it we use a lot of

00:26:41,100 --> 00:26:45,870
caching because we have a lot of

00:26:42,090 --> 00:26:47,430
immutable data so new developer comments

00:26:45,870 --> 00:26:49,620
about our system everyone saying wow

00:26:47,430 --> 00:26:51,330
everything's just so pretty

00:26:49,620 --> 00:26:53,220
another guy I love this I was a guy who

00:26:51,330 --> 00:26:56,000
hired from Chile he's like I'm I'm hired

00:26:53,220 --> 00:26:58,640
to clean can't find anything to clean

00:26:56,000 --> 00:27:00,680
it's not true we have a lot to clean but

00:26:58,640 --> 00:27:01,940
it's really pretty slick I'm pretty

00:27:00,680 --> 00:27:03,050
happy with what we have some people

00:27:01,940 --> 00:27:03,890
think we're smoking crack because it

00:27:03,050 --> 00:27:06,620
looks a little weird

00:27:03,890 --> 00:27:08,420
some of the stuff the first time if you

00:27:06,620 --> 00:27:11,180
were know more about it you can nation

00:27:08,420 --> 00:27:13,640
dot space and you can also sign up for

00:27:11,180 --> 00:27:16,700
the blog and that can give you access to

00:27:13,640 --> 00:27:18,020
possibly AV testing or not maybe testing

00:27:16,700 --> 00:27:19,670
some of the alpha testing you might get

00:27:18,020 --> 00:27:22,400
selected as part of that or twitter.com

00:27:19,670 --> 00:27:24,440
slash cow station that feed is really

00:27:22,400 --> 00:27:27,800
interesting because you know it's

00:27:24,440 --> 00:27:29,300
information about the affiliations in

00:27:27,800 --> 00:27:31,370
the game a lot of information about that

00:27:29,300 --> 00:27:33,110
but also we regularly post science

00:27:31,370 --> 00:27:34,640
articles particularly about upcoming

00:27:33,110 --> 00:27:36,050
science we post information about

00:27:34,640 --> 00:27:37,640
science fiction authors so if you're a

00:27:36,050 --> 00:27:39,800
geek like me you appreciate science

00:27:37,640 --> 00:27:41,960
fiction the authors and science that

00:27:39,800 --> 00:27:43,490
feeds fold it not just our game that

00:27:41,960 --> 00:27:47,000
feeds full of it maybe I didn't phrase

00:27:43,490 --> 00:27:49,130
that right by the way if you do want

00:27:47,000 --> 00:27:51,260
this quality for your company you know

00:27:49,130 --> 00:27:53,360
go ahead and drop me a line info all

00:27:51,260 --> 00:27:55,610
around the world bar that actually goes

00:27:53,360 --> 00:27:58,450
to our director also or stop me

00:27:55,610 --> 00:28:00,620
afterwards just ask me questions and

00:27:58,450 --> 00:28:02,780
because we were running a little low on

00:28:00,620 --> 00:28:04,790
time this is normal thing at this point

00:28:02,780 --> 00:28:08,150
you've seen before we can have questions

00:28:04,790 --> 00:28:10,300
or we can have bonus slides fine either

00:28:08,150 --> 00:28:10,300
way

00:28:11,590 --> 00:28:19,010
every single time has anybody read the

00:28:16,070 --> 00:28:22,430
expanse or seen the TV series yeah

00:28:19,010 --> 00:28:24,350
awesome every once in a while people ask

00:28:22,430 --> 00:28:26,690
why do you have ice mining the initial

00:28:24,350 --> 00:28:28,670
ship in the game in the series of

00:28:26,690 --> 00:28:30,980
Canterbury is an ice hauler from Saturn

00:28:28,670 --> 00:28:32,660
and why do you ice mining that's stupid

00:28:30,980 --> 00:28:34,990
and then I have to explain this is why

00:28:32,660 --> 00:28:37,940
you have ice mining the average person

00:28:34,990 --> 00:28:39,770
nation uses cubic water every two to

00:28:37,940 --> 00:28:42,410
three days a cubic meter of water every

00:28:39,770 --> 00:28:46,070
two to three days and invariably people

00:28:42,410 --> 00:28:47,480
say I don't drink that much well well

00:28:46,070 --> 00:28:49,670
Perl developers do but we're talking

00:28:47,480 --> 00:28:50,900
about water in reality so you're

00:28:49,670 --> 00:28:52,580
drinking you're cooking you're flushing

00:28:50,900 --> 00:28:55,250
you're bathing your doing all of these

00:28:52,580 --> 00:28:57,080
things which consumes a lot of water a

00:28:55,250 --> 00:29:00,080
cubic meter of water by the way weighs a

00:28:57,080 --> 00:29:01,550
ton 1,000 kilograms so we're going to

00:29:00,080 --> 00:29:04,460
keep the math simple and say you're

00:29:01,550 --> 00:29:06,860
using 100 cubic meters of water per

00:29:04,460 --> 00:29:10,270
person per year 100,000 kilograms per

00:29:06,860 --> 00:29:13,280
person per year 10 people a million

00:29:10,270 --> 00:29:15,950
that's a million kilograms of water per

00:29:13,280 --> 00:29:18,050
year so imagine a space station with a

00:29:15,950 --> 00:29:20,750
population of a hundred thousand ten

00:29:18,050 --> 00:29:21,940
billion kilograms of water a year is

00:29:20,750 --> 00:29:25,580
necessary

00:29:21,940 --> 00:29:27,110
assuming that we had 99% recycling

00:29:25,580 --> 00:29:29,060
efficiency on the space station and even

00:29:27,110 --> 00:29:30,890
600 years from in the future that is not

00:29:29,060 --> 00:29:32,060
going to happen we're still talking

00:29:30,890 --> 00:29:34,520
about 10 million kilograms of water

00:29:32,060 --> 00:29:37,760
that's about 70 blue whales that's a

00:29:34,520 --> 00:29:40,310
huge amount of water you will by

00:29:37,760 --> 00:29:42,230
comparison the international space is

00:29:40,310 --> 00:29:44,030
running about 70% efficiency they tried

00:29:42,230 --> 00:29:45,770
to get up to 85% turns out some of their

00:29:44,030 --> 00:29:48,440
water a little bit too acidic to recycle

00:29:45,770 --> 00:29:49,790
so there's going to be huge amounts of

00:29:48,440 --> 00:29:52,430
ice whining this will not be an alpha

00:29:49,790 --> 00:29:53,660
unfortunately I did tell our narrative

00:29:52,430 --> 00:29:55,340
designers so if we don't get a mission

00:29:53,660 --> 00:29:57,520
called Ice Ice Baby someone's getting

00:29:55,340 --> 00:29:57,520
fired

00:29:59,690 --> 00:30:03,840
so Oh distant between stations that

00:30:02,430 --> 00:30:06,810
doesn't matter unless you see this

00:30:03,840 --> 00:30:08,460
orbital velocity I really like this I've

00:30:06,810 --> 00:30:10,320
got this thing memorized this is a

00:30:08,460 --> 00:30:12,240
calculation for determining how fast a

00:30:10,320 --> 00:30:14,370
thing orbits around another thing and

00:30:12,240 --> 00:30:16,710
the cool thing is the mass of the thing

00:30:14,370 --> 00:30:18,750
during the orbit taken into account it's

00:30:16,710 --> 00:30:20,100
not necessary it's a square root of the

00:30:18,750 --> 00:30:21,570
gravitational constant times the mass of

00:30:20,100 --> 00:30:24,510
the central object divided by the radius

00:30:21,570 --> 00:30:27,000
at which you are orbiting which means

00:30:24,510 --> 00:30:28,740
tau station the first space station in

00:30:27,000 --> 00:30:30,870
the game you start in that is the mass

00:30:28,740 --> 00:30:32,670
of Mars because that's the planet that

00:30:30,870 --> 00:30:34,170
you're orbiting the distance at the

00:30:32,670 --> 00:30:36,480
bottom we correct four meters in order

00:30:34,170 --> 00:30:38,490
to keep the units the same so we

00:30:36,480 --> 00:30:40,500
actually know how fast our space

00:30:38,490 --> 00:30:42,060
stations are orbiting we know how far

00:30:40,500 --> 00:30:43,740
away from the thing they are that

00:30:42,060 --> 00:30:45,360
they're orbiting this is comparison as

00:30:43,740 --> 00:30:47,090
tau station against the International

00:30:45,360 --> 00:30:52,140
Space Station in case you're curious and

00:30:47,090 --> 00:30:54,630
what that lets us do is this so without

00:30:52,140 --> 00:30:57,510
going into detail I can pass in a day

00:30:54,630 --> 00:31:00,270
time for any time and know exactly where

00:30:57,510 --> 00:31:02,040
a space station is going to be I used to

00:31:00,270 --> 00:31:05,220
have a cron job that I wrote which

00:31:02,040 --> 00:31:06,840
updated this oh that's stupid I switched

00:31:05,220 --> 00:31:10,620
to this now space stations are immutable

00:31:06,840 --> 00:31:12,210
boom I can cash them so what stations

00:31:10,620 --> 00:31:14,100
orbit a given start this isn't true they

00:31:12,210 --> 00:31:15,420
actually orbit a planetary body around

00:31:14,100 --> 00:31:17,760
the star but I won't go into details

00:31:15,420 --> 00:31:19,880
right now you can fetch the cash

00:31:17,760 --> 00:31:21,690
stations for the star this is from

00:31:19,880 --> 00:31:24,150
something similar to what I call an

00:31:21,690 --> 00:31:27,990
entity set very similar to a result set

00:31:24,150 --> 00:31:30,810
and our caching layer looks like this I

00:31:27,990 --> 00:31:32,550
really really saw r s-- this but we have

00:31:30,810 --> 00:31:35,190
a lot of we do have some internal

00:31:32,550 --> 00:31:36,720
assumptions that we make and it's only

00:31:35,190 --> 00:31:39,870
for immutable data we have a lot of

00:31:36,720 --> 00:31:42,000
immutable data and it looks very similar

00:31:39,870 --> 00:31:43,980
you can see right here here's how we

00:31:42,000 --> 00:31:46,440
start filtering data and sorting data

00:31:43,980 --> 00:31:48,000
inside of that looks a result set I

00:31:46,440 --> 00:31:50,010
deliberately made the method names

00:31:48,000 --> 00:31:52,080
different so that if you're working with

00:31:50,010 --> 00:31:54,360
them you will know what you have without

00:31:52,080 --> 00:31:55,800
having to check the class except when

00:31:54,360 --> 00:31:57,030
you're dealing with iterating so that

00:31:55,800 --> 00:32:00,560
when it gets passed to the template

00:31:57,030 --> 00:32:00,560
layer the designers don't have to care

00:32:00,720 --> 00:32:10,749
so any questions no no so the stars are

00:32:08,110 --> 00:32:13,929
all cashed so yes the stars do move but

00:32:10,749 --> 00:32:16,980
the amount of movement over the time is

00:32:13,929 --> 00:32:20,590
so negligible it won't matter

00:32:16,980 --> 00:32:23,040
any other questions but I have a

00:32:20,590 --> 00:32:25,100
question I understand

00:32:23,040 --> 00:32:25,100
you

00:32:25,960 --> 00:32:28,560
yes

00:32:28,860 --> 00:32:41,190
okay it needs work how much work how

00:32:39,269 --> 00:32:43,919
much work depends upon what people ask

00:32:41,190 --> 00:32:45,539
for what limitations they find I tried

00:32:43,919 --> 00:32:48,539
to make the interface very clear the

00:32:45,539 --> 00:32:51,090
internals are a little bit key at times

00:32:48,539 --> 00:32:52,679
because I was just hacking this together

00:32:51,090 --> 00:32:54,539
because I realized I needed to know the

00:32:52,679 --> 00:32:56,850
history of my test suite so I could

00:32:54,539 --> 00:32:58,649
track what's going on over time so you

00:32:56,850 --> 00:33:00,630
could actually if you want to toss a

00:32:58,649 --> 00:33:01,980
graphing front-end on that and you know

00:33:00,630 --> 00:33:04,320
see you know which tests are failing

00:33:01,980 --> 00:33:07,019
over time how they're performing it's a

00:33:04,320 --> 00:33:09,360
lot of data but it catches in there but

00:33:07,019 --> 00:33:12,090
it's not nearly enough for what we want

00:33:09,360 --> 00:33:14,010
so and because I designed it for my

00:33:12,090 --> 00:33:15,870
needs that's why I didn't put it on the

00:33:14,010 --> 00:33:18,059
sea pan yet because I want other people

00:33:15,870 --> 00:33:19,350
to hack on it and eventually find out

00:33:18,059 --> 00:33:21,299
with me what Dave's already had some

00:33:19,350 --> 00:33:23,039
good ideas about yes he's sitting right

00:33:21,299 --> 00:33:24,539
behind you well that's I he's already

00:33:23,039 --> 00:33:27,990
got some ideas you know about some stuff

00:33:24,539 --> 00:33:29,070
for that so try it out let us know what

00:33:27,990 --> 00:33:31,529
you think if you have an existing test

00:33:29,070 --> 00:33:33,870
class moose test suite it's transparent

00:33:31,529 --> 00:33:35,399
to use it saves the data in an SQLite

00:33:33,870 --> 00:33:38,370
database and if you need to just type

00:33:35,399 --> 00:33:40,250
SQL like three database name and you

00:33:38,370 --> 00:33:46,169
know see what's actually in there

00:33:40,250 --> 00:33:48,269
Crandall this is a standard for you to

00:33:46,169 --> 00:33:50,309
play financial model where we have where

00:33:48,269 --> 00:33:51,830
we're using a dual currency system where

00:33:50,309 --> 00:33:54,059
you have credits for the primary

00:33:51,830 --> 00:33:55,559
currency and you have bonds as what's

00:33:54,059 --> 00:33:58,200
called the premium currency you can

00:33:55,559 --> 00:34:00,299
effectively farm bonds in game or if you

00:33:58,200 --> 00:34:03,600
want to advance faster you can purchase

00:34:00,299 --> 00:34:05,820
them and it turns out free to play games

00:34:03,600 --> 00:34:08,399
when done well earn a lot more money

00:34:05,820 --> 00:34:09,810
than subscription games because there's

00:34:08,399 --> 00:34:16,070
nothing to stop someone from paying a

00:34:09,810 --> 00:34:16,070
thousand euro the first day yes

00:34:19,650 --> 00:34:24,710
I'm I'm not sure I understand your

00:34:21,630 --> 00:34:24,710
question could you rephrase that please

00:34:32,200 --> 00:34:36,069
if some challenges in transferring the

00:34:34,659 --> 00:34:42,909
ownership of something to someone else

00:34:36,069 --> 00:34:46,480
okay well so we don't handle rental at

00:34:42,909 --> 00:34:48,159
this time and I might add ships even

00:34:46,480 --> 00:34:49,869
though they're available in the Alfa and

00:34:48,159 --> 00:34:52,629
they're so bloody expensive you're not

00:34:49,869 --> 00:34:55,089
going to be able for that anyway but but

00:34:52,629 --> 00:34:57,790
yeah we I can't say that we've had any

00:34:55,089 --> 00:35:00,520
issues there at all we have a

00:34:57,790 --> 00:35:01,900
specialized inventory system where items

00:35:00,520 --> 00:35:03,280
get attached to inventories and

00:35:01,900 --> 00:35:06,990
inventories can be attached to anything

00:35:03,280 --> 00:35:10,480
which can logically have an inventory

00:35:06,990 --> 00:35:12,490
and it's a matter of how we set up that

00:35:10,480 --> 00:35:14,260
particular economic exchange and what

00:35:12,490 --> 00:35:16,030
conditions under which that exchange is

00:35:14,260 --> 00:35:19,240
allowed to occur and what other things

00:35:16,030 --> 00:35:20,770
get accepted or rejected so no we

00:35:19,240 --> 00:35:28,720
haven't had anything along those lines

00:35:20,770 --> 00:35:37,440
yet any other questions I'm building a

00:35:28,720 --> 00:35:37,440
universe and no one's curious yes I know

00:35:38,069 --> 00:35:41,470
we are hoping to have the Alpha launch

00:35:40,059 --> 00:35:44,500
by the end of summer

00:35:41,470 --> 00:35:45,760
we are I don't know how much I could say

00:35:44,500 --> 00:35:48,069
so I'm not going to mention his name

00:35:45,760 --> 00:35:50,109
we'll call him Bob as one of the top

00:35:48,069 --> 00:35:52,630
industry experts actually is working

00:35:50,109 --> 00:35:54,520
with us on this I'm very pleased about

00:35:52,630 --> 00:35:55,869
that actually because he doesn't work

00:35:54,520 --> 00:35:57,339
with something unless he sees it has a

00:35:55,869 --> 00:35:58,809
fundamentals necessary to actually be a

00:35:57,339 --> 00:36:00,760
success and as soon as he came in he was

00:35:58,809 --> 00:36:02,710
surprised to find out that we had those

00:36:00,760 --> 00:36:04,839
fundamentals in place but now it's a

00:36:02,710 --> 00:36:06,839
matter of fine-tuning them and you know

00:36:04,839 --> 00:36:09,839
getting that long credit for the Alpha

00:36:06,839 --> 00:36:09,839
yes

00:36:13,989 --> 00:36:20,809
we have about 15 people working on it

00:36:17,210 --> 00:36:24,650
right now so it turns out that modeling

00:36:20,809 --> 00:36:26,289
and universe is complex and to a certain

00:36:24,650 --> 00:36:28,489
extent some of our complexity is attack

00:36:26,289 --> 00:36:32,769
approaching the complexity of top-tier

00:36:28,489 --> 00:36:35,150
MMORPGs but because we don't have the

00:36:32,769 --> 00:36:36,589
graphics layer it tremendously

00:36:35,150 --> 00:36:38,359
simplifies a lot of the problems or

00:36:36,589 --> 00:36:41,420
reduces our cost by about an order of

00:36:38,359 --> 00:36:43,339
magnitude but it still takes a moment

00:36:41,420 --> 00:36:46,119
time because of what we're doing and

00:36:43,339 --> 00:36:48,049
simplifying stuff by you know using

00:36:46,119 --> 00:36:49,609
alternatives to their fictional object

00:36:48,049 --> 00:36:54,880
model has really helped with this quite

00:36:49,609 --> 00:36:54,880
a bit but we're still getting there yes

00:36:56,739 --> 00:37:03,769
almost exclusively PostgreSQL because

00:37:00,980 --> 00:37:06,880
PostgreSQL gives us so many advantages

00:37:03,769 --> 00:37:09,769
we do use Redis for our caching layer

00:37:06,880 --> 00:37:11,989
and thus primarily caching is almost

00:37:09,769 --> 00:37:13,519
entirely immutable stuff or stuff that

00:37:11,989 --> 00:37:15,170
it's okay to have dropped because it

00:37:13,519 --> 00:37:15,890
might degrade the game experience but

00:37:15,170 --> 00:37:21,230
not hurt it

00:37:15,890 --> 00:37:23,900
so almost exclusively PostgreSQL yes

00:37:21,230 --> 00:37:26,559
very ecology so that's part of the

00:37:23,900 --> 00:37:26,559
reason why we go there

00:37:27,670 --> 00:37:34,430
no none zero there's actually some

00:37:33,079 --> 00:37:36,650
really cool stuff in the PostgreSQL

00:37:34,430 --> 00:37:40,069
field that i've been very interested in

00:37:36,650 --> 00:37:42,289
but it's you know it's been it looks

00:37:40,069 --> 00:37:45,559
like it's experimental possibly unstable

00:37:42,289 --> 00:37:47,599
you know go there we you know it sounds

00:37:45,559 --> 00:37:49,640
fine it sounds fun but we are very

00:37:47,599 --> 00:37:51,140
conservative in our approach to the

00:37:49,640 --> 00:37:52,910
technology and it's paid off handsomely

00:37:51,140 --> 00:37:55,160
because we don't get caught by surprise

00:37:52,910 --> 00:38:00,249
when you know oh the project's forked

00:37:55,160 --> 00:38:00,249
congratulations anything else

00:38:05,240 --> 00:38:08,340
[Music]

00:38:08,840 --> 00:38:13,890
there are some kubernetes stuff being

00:38:10,950 --> 00:38:17,370
done you have talked our dev outside the

00:38:13,890 --> 00:38:21,450
project been a vagrant with Debian I'm

00:38:17,370 --> 00:38:23,280
running it on OS 10 it there was a

00:38:21,450 --> 00:38:27,780
problem with Windows which may or may

00:38:23,280 --> 00:38:29,400
not still be there but we don't care so

00:38:27,780 --> 00:38:31,800
it's very generic

00:38:29,400 --> 00:38:35,340
it's a perl 5.24 we ran switch for 5 to

00:38:31,800 --> 00:38:39,540
6 as soon as we can because we make very

00:38:35,340 --> 00:38:40,920
very heavy use of signatures Mendeley

00:38:39,540 --> 00:38:44,880
saved our but quite a bit and you may

00:38:40,920 --> 00:38:47,160
have noticed i no slides so it's fairly

00:38:44,880 --> 00:38:51,780
standard linux stack nothing unusual

00:38:47,160 --> 00:38:54,020
about it and I think this will be the

00:38:51,780 --> 00:38:54,020
last question

00:38:55,970 --> 00:39:02,310
so load testing or some Perl boss for

00:38:59,250 --> 00:39:03,840
that and it got I was on for I should

00:39:02,310 --> 00:39:05,310
have used like any event or something

00:39:03,840 --> 00:39:08,100
like that but I use parallel fork

00:39:05,310 --> 00:39:09,300
manager and after you know hitting some

00:39:08,100 --> 00:39:11,280
load testing issues eventually I

00:39:09,300 --> 00:39:14,520
discovered I could crash my resume the

00:39:11,280 --> 00:39:16,080
server so I thought about switching to

00:39:14,520 --> 00:39:18,060
something of improve and then I realized

00:39:16,080 --> 00:39:20,580
actually this is going practically a

00:39:18,060 --> 00:39:23,310
perfect use case for it so I rewrote our

00:39:20,580 --> 00:39:26,010
boxing golang and we're at the point now

00:39:23,310 --> 00:39:28,350
where we've got 200 going BOTS can

00:39:26,010 --> 00:39:30,030
easily hit our server and it slows down

00:39:28,350 --> 00:39:31,500
a little bit but it's not bad and when

00:39:30,030 --> 00:39:33,720
you consider that they're generally

00:39:31,500 --> 00:39:35,820
running an order or magnitude one or two

00:39:33,720 --> 00:39:38,490
orders of magnitude faster than humans

00:39:35,820 --> 00:39:41,100
are it's a good sign we're continuing to

00:39:38,490 --> 00:39:42,630
do work on that you know setting up slow

00:39:41,100 --> 00:39:44,400
query logs finding out you know what's

00:39:42,630 --> 00:39:46,350
actually causing the congestion at

00:39:44,400 --> 00:39:49,170
certain points reducing memory

00:39:46,350 --> 00:39:50,940
consumption in a few areas but yet

00:39:49,170 --> 00:39:55,320
that's an ongoing part of the process

00:39:50,940 --> 00:39:56,820
right now know you can come and talk to

00:39:55,320 --> 00:39:59,970
me afterwards I deliberately didn't post

00:39:56,820 --> 00:40:00,990
the slides for a variety of reasons and

00:39:59,970 --> 00:40:02,460
sorry about that

00:40:00,990 --> 00:40:04,650
but I'm happy to have this filmed

00:40:02,460 --> 00:40:07,290
because the slides themselves don't work

00:40:04,650 --> 00:40:09,390
as well out of context you know without

00:40:07,290 --> 00:40:11,910
the stock so if people watch the video

00:40:09,390 --> 00:40:12,930
they can see the context along with the

00:40:11,910 --> 00:40:14,220
slides that will make it

00:40:12,930 --> 00:40:18,510
not easy for them to follow what's going

00:40:14,220 --> 00:40:19,400
on Thank you very

00:40:18,510 --> 00:40:21,740
[Applause]

00:40:19,400 --> 00:40:23,790
[Music]

00:40:21,740 --> 00:40:25,650
and again feel free to stop me

00:40:23,790 --> 00:40:28,280
afterwards ask me anything ask better

00:40:25,650 --> 00:40:28,280

YouTube URL: https://www.youtube.com/watch?v=AWy9bC8lBns


