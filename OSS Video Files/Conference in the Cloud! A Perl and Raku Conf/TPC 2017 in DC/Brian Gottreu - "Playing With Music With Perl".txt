Title: Brian Gottreu - "Playing With Music With Perl"
Publication date: 2017-06-22
Playlist: TPC 2017 in DC
Description: 
	An overview of Perl modules useful for creating or processing audio and music specifically. Live demo included.
Captions: 
	00:00:00,000 --> 00:00:03,840
during this talk give you it's a pretty

00:00:01,829 --> 00:00:05,790
light breezy cost if you have any

00:00:03,840 --> 00:00:08,189
questions you can go ahead and like try

00:00:05,790 --> 00:00:11,790
and run maybe pass me van winkle Ian's

00:00:08,189 --> 00:00:17,340
um this is about playing with music with

00:00:11,790 --> 00:00:19,730
curl it's a yes to phenom music goofin

00:00:17,340 --> 00:00:22,050
on Elvis as Michael Stipe would say

00:00:19,730 --> 00:00:24,330
though it is possible to create audio

00:00:22,050 --> 00:00:26,849
correctly with Perl we're not going to

00:00:24,330 --> 00:00:29,460
focus on that because it's not really

00:00:26,849 --> 00:00:31,859
pro strong suit I guess and also it's

00:00:29,460 --> 00:00:36,239
just into a much more complicated mass

00:00:31,859 --> 00:00:38,940
and much more quickly so keeping working

00:00:36,239 --> 00:00:43,410
with MIDI and the Perl MIDI distribution

00:00:38,940 --> 00:00:45,180
is a key module for this amazing Perl

00:00:43,410 --> 00:00:46,620
will create MIDI files and then we'll

00:00:45,180 --> 00:00:49,410
worry about somebody else actually

00:00:46,620 --> 00:00:52,350
rendering it or auditioning it I'll be

00:00:49,410 --> 00:00:55,260
using a fluid sim which uses sound fonts

00:00:52,350 --> 00:00:58,350
which are technology from the 90s but

00:00:55,260 --> 00:01:00,090
refuse timidity or while committee or if

00:00:58,350 --> 00:01:02,010
your fancy C sound or chakra pure data

00:01:00,090 --> 00:01:04,530
or some sort of commercial program to

00:01:02,010 --> 00:01:08,990
import the MIDI in 2000 you actually

00:01:04,530 --> 00:01:11,460
render it but uh here's a simple example

00:01:08,990 --> 00:01:12,780
pretty much from the CPM documentation

00:01:11,460 --> 00:01:19,530
for this module documentation comes

00:01:12,780 --> 00:01:21,420
command a key object that has the mini

00:01:19,530 --> 00:01:23,640
package uses he has an opus and it

00:01:21,420 --> 00:01:25,680
opuses you have tracks and then in track

00:01:23,640 --> 00:01:27,240
two type of business so you see here

00:01:25,680 --> 00:01:29,430
there's a text of M that's not very

00:01:27,240 --> 00:01:33,090
important and there's a section prevent

00:01:29,430 --> 00:01:35,520
and you specify the time between beats

00:01:33,090 --> 00:01:38,009
and microseconds so I'm not too sure

00:01:35,520 --> 00:01:41,310
what weeks per minute that is and in

00:01:38,009 --> 00:01:43,590
which is this example does is it puts in

00:01:41,310 --> 00:01:46,049
notes the increasingly smaller duration

00:01:43,590 --> 00:01:47,850
and one thing to notice here is that

00:01:46,049 --> 00:01:51,780
there are separate note on and no op

00:01:47,850 --> 00:01:54,030
events so there's not really concept of

00:01:51,780 --> 00:01:55,439
duration of a note by itself it's really

00:01:54,030 --> 00:01:57,299
the time between the note on and off

00:01:55,439 --> 00:01:58,410
difference happens as possible never

00:01:57,299 --> 00:02:01,830
have a note

00:01:58,410 --> 00:02:03,330
that's not good it could happen and the

00:02:01,830 --> 00:02:05,370
way the parameters are ordered is you

00:02:03,330 --> 00:02:07,770
have the notes like a pin type not

00:02:05,370 --> 00:02:10,770
honored it off then the time which is a

00:02:07,770 --> 00:02:12,870
delta time from the last event not an

00:02:10,770 --> 00:02:16,430
absolute time and then you have a

00:02:12,870 --> 00:02:19,470
channel which here just is nine because

00:02:16,430 --> 00:02:21,720
this will percussion and then you have

00:02:19,470 --> 00:02:22,890
the pitch which is the cowbell at 56 and

00:02:21,720 --> 00:02:28,530
the velocity which is the full velocity

00:02:22,890 --> 00:02:32,489
goes from 0 to 127 to get any for each

00:02:28,530 --> 00:02:35,070
other yes this is channel service yes

00:02:32,489 --> 00:02:36,840
but in all the MIDI documentation it's

00:02:35,070 --> 00:02:39,900
all one based so what everything says

00:02:36,840 --> 00:02:43,170
champions for professions right so and

00:02:39,900 --> 00:02:45,060
then also like the many patches of the

00:02:43,170 --> 00:02:48,320
interest names those are all one base

00:02:45,060 --> 00:02:48,320
and occupation but it's your based here

00:02:50,780 --> 00:03:04,230
don't think so mmm unfortunately

00:02:55,890 --> 00:03:09,650
entitled fingers to live is a little I'm

00:03:04,230 --> 00:03:12,900
not sure what's it's getting weird

00:03:09,650 --> 00:03:15,320
anywho here we'll try to a putting

00:03:12,900 --> 00:03:15,320
example

00:03:26,360 --> 00:03:29,150
change of plans you won't feel what I'll

00:03:27,920 --> 00:03:37,520
tackle this until I won't type in

00:03:29,150 --> 00:03:44,270
because not that Jordan called Calcutta

00:03:37,520 --> 00:03:49,719
relief to you here compassion pastures

00:03:44,270 --> 00:03:49,719
[Music]

00:03:51,480 --> 00:03:55,210
but the problem is this is you don't

00:03:53,650 --> 00:03:57,130
really people don't think about things

00:03:55,210 --> 00:03:59,170
in terms of offsets from the last event

00:03:57,130 --> 00:04:00,490
you normally see them in terms of like

00:03:59,170 --> 00:04:02,740
from beginning the song or going to

00:04:00,490 --> 00:04:04,570
measure or reading the section and so

00:04:02,740 --> 00:04:06,400
there's a very helpful module t-score

00:04:04,570 --> 00:04:11,200
which does just that

00:04:06,400 --> 00:04:13,650
so the defense are still a it's just

00:04:11,200 --> 00:04:15,640
until list a list a list of lists

00:04:13,650 --> 00:04:17,950
company sets all the time you just have

00:04:15,640 --> 00:04:21,730
an absolute time and then you also

00:04:17,950 --> 00:04:23,350
specify their duration as well and so

00:04:21,730 --> 00:04:27,040
one thing I listen makes it much easier

00:04:23,350 --> 00:04:28,450
to shift things around in in time so we

00:04:27,040 --> 00:04:31,360
have told sectional events you can just

00:04:28,450 --> 00:04:32,500
move forward and repeat it rather than

00:04:31,360 --> 00:04:38,890
have the calculate all the tops times

00:04:32,500 --> 00:04:40,150
again and just just play what this is

00:04:38,890 --> 00:04:46,860
this is also bass is just an example

00:04:40,150 --> 00:04:46,860
directly from documentation familiar

00:04:58,389 --> 00:05:04,459
and you'll notice that the set tempo I

00:05:01,879 --> 00:05:06,379
used a TPM to milliseconds we still have

00:05:04,459 --> 00:05:08,659
to multiply by thousand because the

00:05:06,379 --> 00:05:11,179
media excellence in microseconds there's

00:05:08,659 --> 00:05:13,819
a module music tempo which I believe it

00:05:11,179 --> 00:05:16,549
just exports these four functions BPM to

00:05:13,819 --> 00:05:19,549
milliseconds milliseconds BPM or bps

00:05:16,549 --> 00:05:21,529
Italian like a Dante or leg row as a

00:05:19,549 --> 00:05:25,939
Miss oh maybe I don't know Italian for

00:05:21,529 --> 00:05:27,349
music well and you can also specify for

00:05:25,939 --> 00:05:28,789
some of these a second it's optional

00:05:27,349 --> 00:05:30,469
beat argument so instead of using a

00:05:28,789 --> 00:05:32,209
quarter note for how many milliseconds

00:05:30,469 --> 00:05:35,839
you want in say eighth note or sixteen

00:05:32,209 --> 00:05:39,469
seven maybe one more interesting module

00:05:35,839 --> 00:05:41,539
music record notice basically you give

00:05:39,469 --> 00:05:44,619
it a four word or four type and we'll

00:05:41,539 --> 00:05:49,609
give you back either the notes or the

00:05:44,619 --> 00:05:54,579
semitone offset to the root of all the

00:05:49,609 --> 00:05:57,139
notes includes this is a personally the

00:05:54,579 --> 00:05:59,360
documentation but if you give it at the

00:05:57,139 --> 00:06:01,699
see 7-7 you can get the axle nut name so

00:05:59,360 --> 00:06:04,639
you just give it a major seventh without

00:06:01,699 --> 00:06:06,110
an actual notes or pitch so deal with it

00:06:04,639 --> 00:06:09,469
just give you this image on/off steps

00:06:06,110 --> 00:06:10,819
and so then what you can do is what I

00:06:09,469 --> 00:06:12,709
did here just go through a bunch of

00:06:10,819 --> 00:06:13,099
different chords and then see what they

00:06:12,709 --> 00:06:17,659
sound like

00:06:13,099 --> 00:06:19,729
and with music or note bass is just the

00:06:17,659 --> 00:06:22,819
major triad I'm not sure why there's not

00:06:19,729 --> 00:06:25,519
good better name for it and so this demo

00:06:22,819 --> 00:06:27,439
just goes through all these chords kind

00:06:25,519 --> 00:06:32,179
of jazzy chords that I don't really

00:06:27,439 --> 00:06:35,739
understand I have been listening to a

00:06:32,179 --> 00:06:35,739
lot of Steely Dan recently but

00:06:43,490 --> 00:07:00,960
[Music]

00:06:54,180 --> 00:07:03,669
mmm fun I yeah there was a 65 I think

00:07:00,960 --> 00:07:06,850
cords types that he's a coordinate knows

00:07:03,669 --> 00:07:11,530
about and I'm not sure how often I'd use

00:07:06,850 --> 00:07:12,940
most of them but there's also a inverse

00:07:11,530 --> 00:07:15,250
module he's a coordinator

00:07:12,940 --> 00:07:16,450
where if you give it a bunch of notes it

00:07:15,250 --> 00:07:19,330
will give you back the cord the Bethel

00:07:16,450 --> 00:07:21,040
can however it doesn't work on the CH

00:07:19,330 --> 00:07:23,790
own offsets you have to give it the

00:07:21,040 --> 00:07:23,790
actual no names

00:07:24,450 --> 00:07:30,700
one couldn't fix that to do offset that

00:07:27,639 --> 00:07:34,710
seems like work number one we volunteer

00:07:30,700 --> 00:07:37,479
that in this record you have scales and

00:07:34,710 --> 00:07:40,210
simply to use the quarter note you can

00:07:37,479 --> 00:07:41,910
get your data the tone names and to save

00:07:40,210 --> 00:07:44,590
themselves or the semitone offsets

00:07:41,910 --> 00:07:48,250
there's all the skills that isn't

00:07:44,590 --> 00:07:51,400
currently knows about a bunch of them

00:07:48,250 --> 00:07:54,760
and I made a demo that basically the

00:07:51,400 --> 00:07:58,590
first seven modes major and minor and

00:07:54,760 --> 00:08:04,289
all the other fun modes in there digium

00:07:58,590 --> 00:08:04,289
lidium and then place them in order

00:08:11,330 --> 00:08:13,190
[Applause]

00:08:12,600 --> 00:08:13,960
[Music]

00:08:13,190 --> 00:08:14,860
[Applause]

00:08:13,960 --> 00:08:17,570
[Music]

00:08:14,860 --> 00:08:22,009
[Applause]

00:08:17,570 --> 00:08:22,009
[Music]

00:08:27,840 --> 00:08:34,500
and then it does a I think whole-tone

00:08:31,560 --> 00:08:36,550
given some other scales that are not

00:08:34,500 --> 00:08:37,810
thank you when they stop when this gas

00:08:36,550 --> 00:08:39,820
stopped being seven notes and links it

00:08:37,810 --> 00:08:45,090
gets like musical and weird

00:08:39,820 --> 00:08:49,230
like really nature to us there's another

00:08:45,090 --> 00:08:52,660
core module music core positions which

00:08:49,230 --> 00:08:54,400
they fee climate limit right here is

00:08:52,660 --> 00:08:56,410
creating inversions which if you have a

00:08:54,400 --> 00:08:59,380
chord like this which is see eg in the

00:08:56,410 --> 00:09:01,660
Persinger inversing Texas II move it but

00:08:59,380 --> 00:09:05,800
octave up we have eg C in the annuity

00:09:01,660 --> 00:09:08,740
and EF g c e and what this demo does is

00:09:05,800 --> 00:09:13,230
takes about 13 chord which has a whole

00:09:08,740 --> 00:09:15,220
bunch of notes in it and in two tiny

00:09:13,230 --> 00:09:17,440
assuming the chord inversion routine

00:09:15,220 --> 00:09:19,120
returns all the inversions and this goes

00:09:17,440 --> 00:09:37,120
of them one by one and plays each of

00:09:19,120 --> 00:09:39,520
them this Louden things even here to get

00:09:37,120 --> 00:09:40,990
slightly gets your time higher pitch

00:09:39,520 --> 00:09:50,140
adds up all the notes are various

00:09:40,990 --> 00:09:54,940
basically it shows up an octave oh and

00:09:50,140 --> 00:09:59,020
I'm going to show show these are two

00:09:54,940 --> 00:10:01,890
interesting modules that are very

00:09:59,020 --> 00:10:04,630
complicated and I don't understand them

00:10:01,890 --> 00:10:06,310
extra motivation says that prompt the

00:10:04,630 --> 00:10:08,770
vel constants curve calculations based

00:10:06,310 --> 00:10:10,660
on work by William cetera than others

00:10:08,770 --> 00:10:12,040
and then it says none of this will make

00:10:10,660 --> 00:10:14,030
sense without some grounding in music

00:10:12,040 --> 00:10:17,240
theory and the reference papers

00:10:14,030 --> 00:10:20,090
and I reckon papers and my communicator

00:10:17,240 --> 00:10:23,710
groundings kind of spotty but uh the

00:10:20,090 --> 00:10:28,310
Dakota one is by a guy named David Kovac

00:10:23,710 --> 00:10:29,960
what I'm using here is maybe the two

00:10:28,310 --> 00:10:32,000
modules tell you how much tension there

00:10:29,960 --> 00:10:34,280
is and a set of notice which is facing

00:10:32,000 --> 00:10:39,620
the dissonance how unpleasant sounds

00:10:34,280 --> 00:10:41,950
roughly and this goes through those six

00:10:39,620 --> 00:10:44,960
or seven core that I played earlier and

00:10:41,950 --> 00:10:47,660
outputs all the to Marie's kitchen

00:10:44,960 --> 00:10:50,480
measures and at the documentation says

00:10:47,660 --> 00:10:51,980
there's no like the two measures are

00:10:50,480 --> 00:10:55,640
comparable to themselves really anything

00:10:51,980 --> 00:10:58,870
else is coming to each other if they're

00:10:55,640 --> 00:10:58,870
too excessive themselves

00:11:16,320 --> 00:11:22,080
drag this over for y'all and they're the

00:11:19,590 --> 00:11:33,960
detention values of the chords I'll play

00:11:22,080 --> 00:11:40,880
them again or maybe not the profile is

00:11:33,960 --> 00:11:40,880
not a mini file but you can't go on

00:11:47,630 --> 00:11:53,730
and if you can see from those measures

00:11:52,170 --> 00:11:55,560
in Crete roughly increase as you go

00:11:53,730 --> 00:11:59,399
along but they're very different scales

00:11:55,560 --> 00:12:03,720
and I don't but it is interesting they

00:11:59,399 --> 00:12:15,420
fit best correspond with a you know we

00:12:03,720 --> 00:12:17,399
think of things move and uh okay here's

00:12:15,420 --> 00:12:18,990
something that's not on see fan but I'm

00:12:17,399 --> 00:12:21,600
thinking perhaps I should put it

00:12:18,990 --> 00:12:24,449
I don't think of music normally in terms

00:12:21,600 --> 00:12:25,740
of like events and I think them in

00:12:24,449 --> 00:12:26,970
thinking pattern and when I use

00:12:25,740 --> 00:12:29,029
commercial programs I normally use the

00:12:26,970 --> 00:12:31,350
piano roll and look at things visually

00:12:29,029 --> 00:12:33,870
and so what I've defined here is a drum

00:12:31,350 --> 00:12:35,820
pattern on the bottom that head use a

00:12:33,870 --> 00:12:38,730
hi-hat snare and the top section is just

00:12:35,820 --> 00:12:42,329
a measurement playing a major triad and

00:12:38,730 --> 00:12:44,160
down and they fuse this just goes

00:12:42,329 --> 00:12:46,920
through all the MIDI instruments playing

00:12:44,160 --> 00:12:54,569
all the sounds with a drum beat

00:12:46,920 --> 00:13:08,550
underneath anybody see my mouth here we

00:12:54,569 --> 00:13:14,410
go oh no

00:13:08,550 --> 00:13:21,850
[Music]

00:13:14,410 --> 00:13:26,329
very second soft sound funky music as a

00:13:21,850 --> 00:13:28,459
suggest a death and there are a whole

00:13:26,329 --> 00:13:30,889
bunch of other modules a committee pitch

00:13:28,459 --> 00:13:32,689
it provides routines for converting from

00:13:30,889 --> 00:13:35,540
a MIDI number which is wonderful

00:13:32,689 --> 00:13:38,509
127 with 60 being middle C to either

00:13:35,540 --> 00:13:40,879
kitchen anymore frequency which music

00:13:38,509 --> 00:13:43,879
actual util which has tons of utilities

00:13:40,879 --> 00:13:46,399
for all sorts of composition analysis

00:13:43,879 --> 00:13:47,749
for the for a coma music there's losing

00:13:46,399 --> 00:13:49,999
cannon which makes you let you create

00:13:47,749 --> 00:13:51,290
cannons which are like rounds like row

00:13:49,999 --> 00:13:53,779
row row your boat where you start again

00:13:51,290 --> 00:13:55,249
half way through then there's these

00:13:53,779 --> 00:13:57,109
harmonics which you can calculate

00:13:55,249 --> 00:14:00,879
harmonics of a string industry

00:13:57,109 --> 00:14:02,989
determines and lily pond util lets you

00:14:00,879 --> 00:14:05,209
simply have a set of notes and then

00:14:02,989 --> 00:14:07,429
create and perform really create an

00:14:05,209 --> 00:14:10,579
image of a staff with a notes rendered

00:14:07,429 --> 00:14:15,470
there and then there's some other just

00:14:10,579 --> 00:14:22,730
notes modules and that's the gist in the

00:14:15,470 --> 00:14:25,929
talk or any questions or comment I'm

00:14:22,730 --> 00:14:30,470
using flume sense which is available on

00:14:25,929 --> 00:14:32,089
Mac and Mac under brew and on Linux and

00:14:30,470 --> 00:14:34,489
it'll let you specify any sort of sound

00:14:32,089 --> 00:14:35,869
pot you want which I'll be able to find

00:14:34,489 --> 00:14:40,369
itself on that has all the general MIDI

00:14:35,869 --> 00:14:42,739
stuff in it but in yes so but also I was

00:14:40,369 --> 00:14:44,839
using wild committee under Linux before

00:14:42,739 --> 00:14:50,379
I started using my wife's laptop for

00:14:44,839 --> 00:14:54,860
this any other questions yes are

00:14:50,379 --> 00:14:58,399
everything I heard there's tons of free

00:14:54,860 --> 00:15:01,339
ones out there the licenses may be kind

00:14:58,399 --> 00:15:03,769
of vague and not super perfect there's a

00:15:01,339 --> 00:15:05,839
there's something it's free pets they're

00:15:03,769 --> 00:15:07,369
trying to create a completely well I

00:15:05,839 --> 00:15:09,230
guess not a sound font the just patch

00:15:07,369 --> 00:15:11,240
for grabs ultrasound is very similar

00:15:09,230 --> 00:15:13,839
sort idea

00:15:11,240 --> 00:15:17,059
completely free and probably license

00:15:13,839 --> 00:15:20,529
general MIDI package but there's there's

00:15:17,059 --> 00:15:26,420
lots of holes in it there's a sound is

00:15:20,529 --> 00:15:30,230
is when yourself this is the thing you

00:15:26,420 --> 00:15:35,509
know what one and found and those

00:15:30,230 --> 00:15:37,490
guys can check the life is just using

00:15:35,509 --> 00:15:41,360
the different official Delphine deposits

00:15:37,490 --> 00:15:43,730
yeah it's got to be or either that's a

00:15:41,360 --> 00:15:46,730
like one example of them not doing due

00:15:43,730 --> 00:15:58,569
diligence all the licensing any other

00:15:46,730 --> 00:16:00,860
questions yes there's a module called

00:15:58,569 --> 00:16:03,290
might be music noise June but it's

00:16:00,860 --> 00:16:05,569
called noise Jan I think and it allows

00:16:03,290 --> 00:16:06,889
you to create like sine wave oscillators

00:16:05,569 --> 00:16:10,009
or other sort of oscillators and then

00:16:06,889 --> 00:16:12,439
pass them into filters and gain units

00:16:10,009 --> 00:16:15,709
and all that sort of stuff and so you

00:16:12,439 --> 00:16:16,220
can do it that way otherwise and no not

00:16:15,709 --> 00:16:20,779
really

00:16:16,220 --> 00:16:23,139
I was trying things out let's see if

00:16:20,779 --> 00:16:23,139
this works

00:16:26,170 --> 00:16:32,839
HD deployed I create a little program

00:16:31,009 --> 00:16:40,220
that if you talk on the keyboard are

00:16:32,839 --> 00:16:41,749
mixing and it works for like percussion

00:16:40,220 --> 00:16:44,110
or other instruments that don't have a

00:16:41,749 --> 00:16:47,059
duration but because I'm using curses

00:16:44,110 --> 00:16:51,319
that people only get to keep down is

00:16:47,059 --> 00:16:53,360
another key up event so like so it's

00:16:51,319 --> 00:16:58,869
yeah I don't use a better library like

00:16:53,360 --> 00:17:01,249
actually gck or TK if I work but uh yeah

00:16:58,869 --> 00:17:01,939
I'm having really good recommendations

00:17:01,249 --> 00:17:04,069
first stuff

00:17:01,939 --> 00:17:05,539
I've tried probably and abandon that

00:17:04,069 --> 00:17:07,730
route and go through see sounder trucker

00:17:05,539 --> 00:17:12,669
some of the specifics music programming

00:17:07,730 --> 00:17:12,669
language Arden

00:17:14,680 --> 00:17:19,839
right but there's a sort of purity about

00:17:18,000 --> 00:17:22,780
building something up and to be from

00:17:19,839 --> 00:17:27,250
scratch that I like but that makes lot

00:17:22,780 --> 00:17:28,780
of effort and so I give up but but it is

00:17:27,250 --> 00:17:30,340
it is still really fun for me to just

00:17:28,780 --> 00:17:31,540
plug in electric car and then just

00:17:30,340 --> 00:17:32,680
outright the centrist little program

00:17:31,540 --> 00:17:34,660
just to do all sorts of impacts of

00:17:32,680 --> 00:17:37,830
distortion which is very simple easy to

00:17:34,660 --> 00:17:55,570
do but it says it's not very fast

00:17:37,830 --> 00:17:58,900
any other questions yes I'm not sure I

00:17:55,570 --> 00:18:00,730
understand your question from the other

00:17:58,900 --> 00:18:08,500
phone that other than MIDI from

00:18:00,730 --> 00:18:10,540
television yes red I thought long vinyl

00:18:08,500 --> 00:18:12,700
I'm not I mean they're commercial

00:18:10,540 --> 00:18:14,410
programs ring scan stuff any good some

00:18:12,700 --> 00:18:16,930
sort of music like MIDI you're out but

00:18:14,410 --> 00:18:23,560
I'm gonna wear anything pearl an intern

00:18:16,930 --> 00:18:26,040
open source anything else any will thank

00:18:23,560 --> 00:18:26,040
you for your time

00:18:26,730 --> 00:18:30,869

YouTube URL: https://www.youtube.com/watch?v=ODvTsv-TsSg


