Title: "Using a cloud to manage a cloud" - Alex Sharp, Andrew Reimers (LCA 2020)
Publication date: 2020-01-14
Playlist: linux.conf.au 2020
Description: 
	Alex Sharp, Andrew Reimers

https://lca2020.linux.org.au/schedule/presentation/143/

QubesOS is a Xen based desktop operating system that is a user friendly frontend to a powerful backend, managing hypervisor backed containers called 'Qubes'. OrionVM is a wholesale cloud infrastructure provider, and it has been using QubesOS to help make its sysadmin easier. This talk is partly an overview of QubesOS and how it works, and partly an overview of how we used it, what we found useful and what still needs to be worked on.

linux.conf.au is a conference about the Linux operating system, and all aspects of the thriving ecosystem of Free and Open Source Software that has grown up around it. Run since 1999, in a different Australian or New Zealand city each year, by a team of local volunteers, LCA invites more than 500 people to learn from the people who shape the future of Open Source. For more information on the conference see https://linux.conf.au/

Produced by NDV: https://youtube.com/channel/UCQ7dFBzZGlBvtU2hCecsBBg?sub_confirmation=1

#linux.conf.au #linux #foss #opensource

Mon Jan 13 16:35:00 2020 at Arena
Captions: 
	00:00:00,000 --> 00:00:04,470
everyone it's my talk using a cloud to

00:00:02,909 --> 00:00:08,040
manage a cloud at society in many

00:00:04,470 --> 00:00:09,840
conflicts or comfort or there you so

00:00:08,040 --> 00:00:13,830
first off fairly obvious sort of

00:00:09,840 --> 00:00:17,070
question Who am I so hey I'm Alex over

00:00:13,830 --> 00:00:19,740
there Sandra over there is uh Nagy we

00:00:17,070 --> 00:00:21,689
are dev sis admins over to Ryan VM and

00:00:19,740 --> 00:00:25,650
we've been using cubes as part of our

00:00:21,689 --> 00:00:27,510
work for the last three or so years so

00:00:25,650 --> 00:00:32,700
first off who has heard of around vm

00:00:27,510 --> 00:00:35,250
anyone yeah some people yeah so we are a

00:00:32,700 --> 00:00:37,380
white label cloud provider which is kind

00:00:35,250 --> 00:00:40,469
of a bit strange for some people they're

00:00:37,380 --> 00:00:42,780
30 here so first off who hears heard of

00:00:40,469 --> 00:00:45,930
like Cogan Mobile or like TPG Mobile

00:00:42,780 --> 00:00:47,280
will sorts of companies like yeah so who

00:00:45,930 --> 00:00:49,020
he thinks that Cogan runs around

00:00:47,280 --> 00:00:53,489
Queensland putting up mobile phone

00:00:49,020 --> 00:00:54,809
towers anyone ain't no one yeah so we so

00:00:53,489 --> 00:00:56,070
Cogan goes and they contract with

00:00:54,809 --> 00:00:57,989
another company that gives them access

00:00:56,070 --> 00:01:01,199
to those towers we do a similar thing

00:00:57,989 --> 00:01:05,930
just for cloud so that's kind of a short

00:01:01,199 --> 00:01:10,380
way of explaining that so general agenda

00:01:05,930 --> 00:01:12,060
so cubes is I mean it gets a lot of

00:01:10,380 --> 00:01:14,130
security related press like actually

00:01:12,060 --> 00:01:15,659
first off who hears heard of cubes

00:01:14,130 --> 00:01:18,530
before has run into it previously

00:01:15,659 --> 00:01:21,360
oh yeah that's decent number of people

00:01:18,530 --> 00:01:23,490
so this is going to be at least this

00:01:21,360 --> 00:01:26,130
somewhat security related talk but for

00:01:23,490 --> 00:01:27,750
sis admins since I've been security so

00:01:26,130 --> 00:01:30,299
why should we protect suicide mins

00:01:27,750 --> 00:01:33,000
secondly what is cubes and how does that

00:01:30,299 --> 00:01:35,759
relate to the first point third not to

00:01:33,000 --> 00:01:37,740
be spoiler but there are isolations

00:01:35,759 --> 00:01:40,229
provided by cubes and why are those

00:01:37,740 --> 00:01:42,299
useful in that context and then we'll

00:01:40,229 --> 00:01:47,310
wrap that up with some recommended

00:01:42,299 --> 00:01:49,140
hardware in terms of so what like if you

00:01:47,310 --> 00:01:51,149
have particular hardware is it likely to

00:01:49,140 --> 00:01:52,770
run or if you're looking to buy new

00:01:51,149 --> 00:01:55,880
hardware what should you go and grab and

00:01:52,770 --> 00:01:58,950
then finally finishing off with some QA

00:01:55,880 --> 00:02:00,630
so to start off with the threat model

00:01:58,950 --> 00:02:05,759
because you need a threatened or for

00:02:00,630 --> 00:02:09,119
security talk the issue at its core is

00:02:05,759 --> 00:02:12,239
you have to two curves there changing on

00:02:09,119 --> 00:02:13,080
one hand exploits are getting cheaper by

00:02:12,239 --> 00:02:15,840
the day

00:02:13,080 --> 00:02:18,210
getting more commonplace by the day

00:02:15,840 --> 00:02:21,600
which is in and of itself problematic on

00:02:18,210 --> 00:02:24,450
the other hand sis admins are protecting

00:02:21,600 --> 00:02:28,020
more and more valuable systems and the

00:02:24,450 --> 00:02:30,810
users on those on those systems are

00:02:28,020 --> 00:02:32,520
themselves becoming more valuable as for

00:02:30,810 --> 00:02:35,970
example more valuable data is being

00:02:32,520 --> 00:02:37,590
uploaded to them so between the two of

00:02:35,970 --> 00:02:40,440
those you've got a recipe for disaster

00:02:37,590 --> 00:02:41,370
and what is the stand answer well there

00:02:40,440 --> 00:02:42,870
are a whole bunch of different answers

00:02:41,370 --> 00:02:47,850
generally from people trying to sell you

00:02:42,870 --> 00:02:51,959
something my answer to this is cubes so

00:02:47,850 --> 00:02:54,150
what is cubes the standard tag line that

00:02:51,959 --> 00:02:57,360
you would generally see is it is a

00:02:54,150 --> 00:02:58,230
reasonably secure operating system some

00:02:57,360 --> 00:02:59,880
people would say that's an

00:02:58,230 --> 00:03:02,310
understatement I would say that's a

00:02:59,880 --> 00:03:03,870
reasonable interpretation I agree with

00:03:02,310 --> 00:03:06,480
that to the point that I would say that

00:03:03,870 --> 00:03:10,260
most operating systems are unreasonably

00:03:06,480 --> 00:03:11,520
insecure at the moment and you have to

00:03:10,260 --> 00:03:14,130
go through and say well how do they go

00:03:11,520 --> 00:03:15,870
through and get that that reasonable

00:03:14,130 --> 00:03:18,660
security like they going the OpenBSD

00:03:15,870 --> 00:03:19,709
style or what have you and the answer is

00:03:18,660 --> 00:03:21,600
they're getting security through

00:03:19,709 --> 00:03:24,780
isolation which is at the end of the day

00:03:21,600 --> 00:03:28,650
the only thing you can really do to to

00:03:24,780 --> 00:03:30,209
help mitigate things and so you can see

00:03:28,650 --> 00:03:32,730
the the quit that you can't hit what you

00:03:30,209 --> 00:03:34,290
can't see that is security by isolation

00:03:32,730 --> 00:03:38,340
in a nutshell and you'll see how that

00:03:34,290 --> 00:03:42,090
works throughout the talk so cubes the

00:03:38,340 --> 00:03:45,150
operating system consists of a series of

00:03:42,090 --> 00:03:48,209
cubes ax like not the pole like the

00:03:45,150 --> 00:03:51,239
cingulum which are like we can think of

00:03:48,209 --> 00:03:54,380
as isolated containers generally of

00:03:51,239 --> 00:03:57,300
desktop applications that come together

00:03:54,380 --> 00:03:59,250
into the whole thing running on top of

00:03:57,300 --> 00:04:02,100
the Xen hypervisor

00:03:59,250 --> 00:04:05,040
so each one of those isolated containers

00:04:02,100 --> 00:04:07,260
is a Zen virtual machine the management

00:04:05,040 --> 00:04:10,080
VM which is the interesting part here is

00:04:07,260 --> 00:04:11,400
also a Zen virtual machine but unlike

00:04:10,080 --> 00:04:14,190
most virtual machines that you would

00:04:11,400 --> 00:04:16,320
generally run to you log into that like

00:04:14,190 --> 00:04:19,049
it is your desktop you see it on HDMI

00:04:16,320 --> 00:04:21,150
when you type in on your keyboard that

00:04:19,049 --> 00:04:23,460
is what you are seeing so just as a

00:04:21,150 --> 00:04:25,169
quick thing this is a cubes laptop that

00:04:23,460 --> 00:04:26,020
is running on management

00:04:25,169 --> 00:04:28,060
well what you

00:04:26,020 --> 00:04:31,240
seeing right now is coming from the

00:04:28,060 --> 00:04:37,110
management VM and you'll see exactly how

00:04:31,240 --> 00:04:39,940
that works later on is it usable in

00:04:37,110 --> 00:04:42,789
somewhat like a lot an Arch Linux way it

00:04:39,940 --> 00:04:44,500
is very usable in that if you have no

00:04:42,789 --> 00:04:46,389
understanding of Linux if you have no

00:04:44,500 --> 00:04:50,229
understanding of virtual machines it's

00:04:46,389 --> 00:04:52,539
very easy to get cut on sharp edges he's

00:04:50,229 --> 00:04:53,919
not completely polished but if you have

00:04:52,539 --> 00:04:55,870
a reasonable understanding of a

00:04:53,919 --> 00:05:00,610
reasonable way of troubleshooting ie

00:04:55,870 --> 00:05:02,319
maybe if you're a sysadmin anyone then

00:05:00,610 --> 00:05:06,460
yeah it's a very usable operating system

00:05:02,319 --> 00:05:06,909
as we found so here's a quick sort of a

00:05:06,460 --> 00:05:09,580
thing

00:05:06,909 --> 00:05:10,900
so that is a cubes desktop like that's

00:05:09,580 --> 00:05:11,560
what you would see if you're looking at

00:05:10,900 --> 00:05:17,020
a monitor

00:05:11,560 --> 00:05:17,979
so who here recognizes that xfce yeah no

00:05:17,020 --> 00:05:21,550
okay

00:05:17,979 --> 00:05:22,960
so it's XFC a with some tweaks like if

00:05:21,550 --> 00:05:25,389
you look at the topless task bars

00:05:22,960 --> 00:05:27,610
they're funny colors what's up with that

00:05:25,389 --> 00:05:29,310
if you look at there right there you

00:05:27,610 --> 00:05:32,319
notice there are names in those brackets

00:05:29,310 --> 00:05:36,310
what's up with that that's a very

00:05:32,319 --> 00:05:38,430
interesting set of questions so let's

00:05:36,310 --> 00:05:41,830
take a look behind the curtains on this

00:05:38,430 --> 00:05:43,569
so you have the cube on the right which

00:05:41,830 --> 00:05:48,490
is running Firefox on our favorite

00:05:43,569 --> 00:05:50,979
website links cough Ju that right window

00:05:48,490 --> 00:05:54,039
is a screenshot taken from within that

00:05:50,979 --> 00:05:56,380
cube that is all it can see that white

00:05:54,039 --> 00:05:59,259
background there is what it thinks the

00:05:56,380 --> 00:06:01,509
rest of the desktop is and then on the

00:05:59,259 --> 00:06:03,610
right hand side there you have the vault

00:06:01,509 --> 00:06:05,979
VM jelly called vault VM because you're

00:06:03,610 --> 00:06:08,110
storing secret stuff in there and you

00:06:05,979 --> 00:06:10,090
have its version of what it thinks the

00:06:08,110 --> 00:06:13,120
whole window is and again it's all white

00:06:10,090 --> 00:06:16,449
for everything that isn't itself also

00:06:13,120 --> 00:06:18,580
worth noting here that the UM the title

00:06:16,449 --> 00:06:20,620
decorations and all the rest don't exist

00:06:18,580 --> 00:06:22,840
and that's because we don't trust the

00:06:20,620 --> 00:06:25,810
cubes to render their own title bars we

00:06:22,840 --> 00:06:27,789
do that for it and so when you look down

00:06:25,810 --> 00:06:30,069
in that middle part there you've got

00:06:27,789 --> 00:06:32,289
both of them together in what looks to

00:06:30,069 --> 00:06:34,029
be a very standard Linux tile

00:06:32,289 --> 00:06:35,740
environment but under the hood it's

00:06:34,029 --> 00:06:38,490
completely different from what you would

00:06:35,740 --> 00:06:38,490
generally see

00:06:39,139 --> 00:06:44,309
okay oh yeah

00:06:41,249 --> 00:06:45,929
and so that previously was xfce that's a

00:06:44,309 --> 00:06:48,509
lot more sort of user-friendly

00:06:45,929 --> 00:06:51,089
especially if you're not super familiar

00:06:48,509 --> 00:06:53,309
with tiling window managers it also has

00:06:51,089 --> 00:06:59,339
a three support so we generally use a

00:06:53,309 --> 00:07:03,989
three it works works very well so going

00:06:59,339 --> 00:07:06,629
back somewhat one of the major sort of

00:07:03,989 --> 00:07:11,580
wins that you get from cubes is very

00:07:06,629 --> 00:07:13,409
good network isolation so it's okay so

00:07:11,580 --> 00:07:14,999
who has had like contracting work we

00:07:13,409 --> 00:07:17,330
have like multiple customers and

00:07:14,999 --> 00:07:19,740
multiple VPNs and you're like trying to

00:07:17,330 --> 00:07:22,139
deal with all of that like many people

00:07:19,740 --> 00:07:25,529
yeah like I mean it is a real pain in

00:07:22,139 --> 00:07:28,679
the neck with cubes you can basically go

00:07:25,529 --> 00:07:30,839
up to it and say hi you are a cube for

00:07:28,679 --> 00:07:34,019
this customer you can access their VPN

00:07:30,839 --> 00:07:36,569
and nothing else you can access this

00:07:34,019 --> 00:07:38,069
customers VPN and nothing else and then

00:07:36,569 --> 00:07:40,829
if you look down the bottom there you

00:07:38,069 --> 00:07:43,589
see that red cube there that can access

00:07:40,829 --> 00:07:45,629
the internet but none of the VPNs and

00:07:43,589 --> 00:07:48,779
this is all managed through that

00:07:45,629 --> 00:07:50,369
management VM so it's not configuration

00:07:48,779 --> 00:07:51,719
inside there that can break or be

00:07:50,369 --> 00:07:54,959
compromised or what-have-you

00:07:51,719 --> 00:07:58,499
it's all you can almost think about it

00:07:54,959 --> 00:07:59,939
as being externally managed and then if

00:07:58,499 --> 00:08:02,189
you look further down there you've got

00:07:59,939 --> 00:08:05,869
that vault VM which is storing all your

00:08:02,189 --> 00:08:07,800
secrets and it has absolutely no

00:08:05,869 --> 00:08:09,539
connection to the internet which is

00:08:07,800 --> 00:08:11,519
exactly what you want out of a vault

00:08:09,539 --> 00:08:13,219
like I mean what point like what's the

00:08:11,519 --> 00:08:18,800
point of a vault if it's wide open

00:08:13,219 --> 00:08:22,259
anyone sir yeah and speaking of vault

00:08:18,800 --> 00:08:23,849
isolation so it has no internet access

00:08:22,259 --> 00:08:25,829
that was pretty straightforward sure in

00:08:23,849 --> 00:08:29,879
the last slide it also has no PCIe

00:08:25,829 --> 00:08:32,899
devices so the nice thing about that is

00:08:29,879 --> 00:08:37,110
because actually take a step back here

00:08:32,899 --> 00:08:40,649
so a nice catch phrase is the iommu is

00:08:37,110 --> 00:08:41,969
like a firewall for PCIe devices not as

00:08:40,649 --> 00:08:43,439
catchy as the mitochondria is the

00:08:41,969 --> 00:08:47,279
powerhouse in the cell but hey we're

00:08:43,439 --> 00:08:51,240
techies so we've so what cubes does is

00:08:47,279 --> 00:08:53,699
it manages the iommu to work out what

00:08:51,240 --> 00:08:56,610
Hardware peripherals or what-have-you

00:08:53,699 --> 00:09:02,189
can access what cubes can access what

00:08:56,610 --> 00:09:04,050
data so for example a reasonable malware

00:09:02,189 --> 00:09:06,809
that is becoming more and more common is

00:09:04,050 --> 00:09:09,180
malware targeting for example your Wi-Fi

00:09:06,809 --> 00:09:10,319
driver cluster your Wi-Fi like the

00:09:09,180 --> 00:09:13,230
actual firmware sitting inside your

00:09:10,319 --> 00:09:15,329
Wi-Fi device so for most standard sort

00:09:13,230 --> 00:09:17,490
of laptops you go through you send a

00:09:15,329 --> 00:09:20,550
series of attack packets compromise that

00:09:17,490 --> 00:09:22,769
firmware and then you use its privileged

00:09:20,550 --> 00:09:25,139
position on the PCIe bus you just reach

00:09:22,769 --> 00:09:27,839
in to ram and steal secret steal keys or

00:09:25,139 --> 00:09:29,430
replace say bits of the kernel with more

00:09:27,839 --> 00:09:32,399
convenient bits of the kernel that you

00:09:29,430 --> 00:09:36,600
had laying around under cubes because

00:09:32,399 --> 00:09:39,089
you have this iommu sort of the firewall

00:09:36,600 --> 00:09:41,189
between things even if your Wi-Fi card

00:09:39,089 --> 00:09:44,129
is compromised when it tries to reach

00:09:41,189 --> 00:09:47,100
into your vault vm and access your your

00:09:44,129 --> 00:09:52,490
secret passwords it can't do that which

00:09:47,100 --> 00:09:57,839
personally I find confident and yeah so

00:09:52,490 --> 00:09:59,279
this I think is very cool so also just

00:09:57,839 --> 00:10:00,929
as a naming thing you can name your

00:09:59,279 --> 00:10:02,699
cubes however you want volt is somewhat

00:10:00,929 --> 00:10:09,589
of a convention work is somewhat of a

00:10:02,699 --> 00:10:12,089
convention but what this shows is

00:10:09,589 --> 00:10:16,490
essentially a remote connection through

00:10:12,089 --> 00:10:21,449
feature so V Chen is like a cubed cube

00:10:16,490 --> 00:10:24,120
UNIX socket which is neat but it's run

00:10:21,449 --> 00:10:26,009
through dom 0 so Dom 0 is another name

00:10:24,120 --> 00:10:28,439
for that management VM that you look at

00:10:26,009 --> 00:10:31,019
it that you log into and because it's

00:10:28,439 --> 00:10:33,120
managed through dom 0 it has a series of

00:10:31,019 --> 00:10:36,480
access control rules that you can set up

00:10:33,120 --> 00:10:38,399
either through configuration you can

00:10:36,480 --> 00:10:40,589
even have groups of cubes that can have

00:10:38,399 --> 00:10:43,589
various rules or you can go through and

00:10:40,589 --> 00:10:45,420
say ask me so in this example you're

00:10:43,589 --> 00:10:47,970
you've got a work form that's connected

00:10:45,420 --> 00:10:50,999
into a customer site it needs your ssh

00:10:47,970 --> 00:10:52,139
key well why should it have your ssh key

00:10:50,999 --> 00:10:53,790
that's just asking for your as this

00:10:52,139 --> 00:10:55,920
educate you get leaked in some respect

00:10:53,790 --> 00:10:58,050
so what you're through and do is you say

00:10:55,920 --> 00:11:01,610
hey work vm when you want to go through

00:10:58,050 --> 00:11:03,959
an access ssh you go through and ask

00:11:01,610 --> 00:11:04,640
using a connection back to the

00:11:03,959 --> 00:11:07,430
management for

00:11:04,640 --> 00:11:09,800
to say hi I wouldn't like access to this

00:11:07,430 --> 00:11:12,110
SSH key that dialog box will pop up

00:11:09,800 --> 00:11:13,730
saying hey are you expecting this

00:11:12,110 --> 00:11:16,579
because if you're not expecting this

00:11:13,730 --> 00:11:18,200
that is a good time to be suspicious and

00:11:16,579 --> 00:11:22,040
if you are expecting it then yeah you go

00:11:18,200 --> 00:11:23,959
through hit okay and it can just run but

00:11:22,040 --> 00:11:26,839
the really neat thing about this is

00:11:23,959 --> 00:11:29,480
that's an example it wasn't a special

00:11:26,839 --> 00:11:31,399
case you can like cubes in and of itself

00:11:29,480 --> 00:11:33,440
is built of a series of building blocks

00:11:31,399 --> 00:11:36,620
and you can build your own things on top

00:11:33,440 --> 00:11:38,510
of this so for example GPG agent just

00:11:36,620 --> 00:11:40,640
works the same way but you can do this

00:11:38,510 --> 00:11:44,720
for basically anything that takes a TCP

00:11:40,640 --> 00:11:47,959
or a UNIX socket and that's neat least

00:11:44,720 --> 00:11:49,640
in my opinion so yep USB is a

00:11:47,959 --> 00:11:51,620
Lovecraftian nightmare I think anyone

00:11:49,640 --> 00:11:53,930
who's touch security will get that the

00:11:51,620 --> 00:11:56,240
major issue with a lot of this is that

00:11:53,930 --> 00:11:58,579
your USB key can be basically anything

00:11:56,240 --> 00:12:01,610
you can go through plug in and it will

00:11:58,579 --> 00:12:03,529
be suddenly a keyboard typing malicious

00:12:01,610 --> 00:12:07,279
commands suddenly an ethernet device

00:12:03,529 --> 00:12:09,589
trying to DHCP or your computer that is

00:12:07,279 --> 00:12:11,600
a problem especially given that the

00:12:09,589 --> 00:12:13,640
Linux kernel has an awful lot of surface

00:12:11,600 --> 00:12:17,000
area around things that are accessible

00:12:13,640 --> 00:12:18,769
through USB especially once you start

00:12:17,000 --> 00:12:21,860
including things like hey I'm a

00:12:18,769 --> 00:12:24,170
malicious file system like I mean how

00:12:21,860 --> 00:12:26,390
many file systems especially given all

00:12:24,170 --> 00:12:30,230
the esoteric ones in the kernel properly

00:12:26,390 --> 00:12:33,230
fuzz against a very malicious file

00:12:30,230 --> 00:12:37,910
systems and the like so what cubes does

00:12:33,230 --> 00:12:39,410
is it isolates USB and by the way you

00:12:37,910 --> 00:12:43,220
don't need to just have a single

00:12:39,410 --> 00:12:46,070
isolated USB context USB cube you can

00:12:43,220 --> 00:12:47,390
have multiple if you feel like it but

00:12:46,070 --> 00:12:48,620
this is the standard sort of a case

00:12:47,390 --> 00:12:52,190
where you have a laptop or what have you

00:12:48,620 --> 00:12:54,440
so you have your USB keyboard or what

00:12:52,190 --> 00:12:56,209
have you it connects into your USB HBA

00:12:54,440 --> 00:12:57,709
which is a fancy way of saying USB card

00:12:56,209 --> 00:13:00,680
or the USB chip or whatever that's

00:12:57,709 --> 00:13:03,649
actually running USB it then connects

00:13:00,680 --> 00:13:06,709
back into sis you as being 5 PC a lock

00:13:03,649 --> 00:13:08,300
down by the iommu so even if something

00:13:06,709 --> 00:13:11,480
is overriding the USB controller

00:13:08,300 --> 00:13:16,040
firmware it can't suddenly start going

00:13:11,480 --> 00:13:17,720
nuts sis USB then talk to my V Chen into

00:13:16,040 --> 00:13:18,170
dom0 which is that management VM you

00:13:17,720 --> 00:13:21,350
look

00:13:18,170 --> 00:13:25,190
when you vlog in it then pops up a

00:13:21,350 --> 00:13:27,649
message box so if someone has given you

00:13:25,190 --> 00:13:29,930
a malicious USB key that's gonna pretend

00:13:27,649 --> 00:13:31,760
to be a keyboard that message box will

00:13:29,930 --> 00:13:33,350
come up and say oh hey this is a

00:13:31,760 --> 00:13:35,480
keyboard do you expect this to be a

00:13:33,350 --> 00:13:36,889
keyboard and if you're like no this is

00:13:35,480 --> 00:13:38,720
not a keyboard what do you think like

00:13:36,889 --> 00:13:40,070
what are you talking about then all the

00:13:38,720 --> 00:13:42,500
sudden all those key presses go to

00:13:40,070 --> 00:13:44,120
nowhere and it can't do anything but if

00:13:42,500 --> 00:13:46,220
you are expecting a keyboard you hit

00:13:44,120 --> 00:13:48,320
okay and then everything just runs and

00:13:46,220 --> 00:13:50,570
nice thing about this is all of this

00:13:48,320 --> 00:13:55,459
complexity is hidden away from the user

00:13:50,570 --> 00:13:57,079
and a lot of this just works TM at some

00:13:55,459 --> 00:13:59,149
terms and conditions apply but in

00:13:57,079 --> 00:14:02,480
general it it just works more than it

00:13:59,149 --> 00:14:05,959
has any right to and this also works for

00:14:02,480 --> 00:14:07,490
things that aren't USB keyboards and

00:14:05,959 --> 00:14:09,019
yeah it's just going back to hardware

00:14:07,490 --> 00:14:11,779
isolation and the iommu

00:14:09,019 --> 00:14:14,660
which I talked earlier thing on the left

00:14:11,779 --> 00:14:17,050
is for example a standard sort of like

00:14:14,660 --> 00:14:20,300
web browsing VM what-have-you

00:14:17,050 --> 00:14:22,279
so if you looked at that web browsing VM

00:14:20,300 --> 00:14:23,060
it had no devices if you looked a little

00:14:22,279 --> 00:14:26,260
closer

00:14:23,060 --> 00:14:28,790
it had no USB devices how does that work

00:14:26,260 --> 00:14:30,380
because there's a whole bunch of UI over

00:14:28,790 --> 00:14:32,390
there that when you click those things

00:14:30,380 --> 00:14:34,399
the USB webcam and the USB microphone

00:14:32,390 --> 00:14:36,769
get passed in if you don't do that

00:14:34,399 --> 00:14:40,730
it can't grab them which is I think the

00:14:36,769 --> 00:14:42,860
the basic premise of cubes so one of the

00:14:40,730 --> 00:14:46,310
cool things of cubes is that you have

00:14:42,860 --> 00:14:48,560
these disposable cubes so who here gets

00:14:46,310 --> 00:14:51,860
PDFs from people like on the internet

00:14:48,560 --> 00:14:53,899
email small arrests yeah how well do you

00:14:51,860 --> 00:14:56,959
trust them do you perfectly trust all of

00:14:53,899 --> 00:14:58,610
them I probably not so what a disposable

00:14:56,959 --> 00:15:01,819
cube does is allows you to go through

00:14:58,610 --> 00:15:03,470
and view them in a cube that can for

00:15:01,819 --> 00:15:05,209
example have no internet access or

00:15:03,470 --> 00:15:06,740
anything like that and the second you

00:15:05,209 --> 00:15:08,959
finished viewing it or finished editing

00:15:06,740 --> 00:15:11,420
it or whatever you you click the close

00:15:08,959 --> 00:15:13,579
button and it's destroyed and all the

00:15:11,420 --> 00:15:16,310
malware that somebody put all that time

00:15:13,579 --> 00:15:18,350
and effort into just goes away and

00:15:16,310 --> 00:15:20,779
there's a Thunderbird integration so if

00:15:18,350 --> 00:15:22,850
you have a Thunderbird you can just open

00:15:20,779 --> 00:15:24,470
up the attachment right click and say oh

00:15:22,850 --> 00:15:27,319
yeah no I want this as a disposable VM

00:15:24,470 --> 00:15:31,190
and it just runs and that is very neat

00:15:27,319 --> 00:15:31,880
and so as I mentioned earlier on cubes

00:15:31,190 --> 00:15:34,310
is built on Bill

00:15:31,880 --> 00:15:38,620
blocks the disposable cubes building

00:15:34,310 --> 00:15:42,980
blocks we use to build the trusted PDF

00:15:38,620 --> 00:15:45,440
utility so as an aside who here knows

00:15:42,980 --> 00:15:46,820
that Printers update via printable

00:15:45,440 --> 00:15:49,340
documents or some of them have the

00:15:46,820 --> 00:15:51,590
capability to do that like who here

00:15:49,340 --> 00:15:53,780
prints untrusted documents or documents

00:15:51,590 --> 00:15:55,940
you don't completely trust like pretty

00:15:53,780 --> 00:15:57,950
much everyone on printers that generally

00:15:55,940 --> 00:16:01,490
have Network Hardware attached to them

00:15:57,950 --> 00:16:04,370
so having a disposable cube that will go

00:16:01,490 --> 00:16:07,250
through and convert the untrusted PDF

00:16:04,370 --> 00:16:10,010
into a trusted PDF so specifically it

00:16:07,250 --> 00:16:13,070
does this by running a PDF renderer and

00:16:10,010 --> 00:16:15,800
outputting a byte stream of like

00:16:13,070 --> 00:16:17,960
basically a bitmap of this is every

00:16:15,800 --> 00:16:22,150
pixel and then once it's got that it

00:16:17,960 --> 00:16:25,070
encodes those pixels back into a PDF so

00:16:22,150 --> 00:16:27,890
the idea is that you can't go in and

00:16:25,070 --> 00:16:29,720
exploit that dub it stream if you

00:16:27,890 --> 00:16:31,430
manager is you're like me if this was

00:16:29,720 --> 00:16:34,250
Enterprise land it's your single pane of

00:16:31,430 --> 00:16:36,220
glass to manage your cube cloud but like

00:16:34,250 --> 00:16:38,600
it's yeah it's a really nice application

00:16:36,220 --> 00:16:39,140
again not perfect it's an open source

00:16:38,600 --> 00:16:40,850
project

00:16:39,140 --> 00:16:42,980
B&C that you can run cubes as multiple

00:16:40,850 --> 00:16:44,570
templates you can change where they're

00:16:42,980 --> 00:16:46,880
getting their networking from as you saw

00:16:44,570 --> 00:16:50,660
earlier on with that giant slide with

00:16:46,880 --> 00:16:52,010
all the node VMs attached to it and it

00:16:50,660 --> 00:16:55,100
has the ability to do most of the

00:16:52,010 --> 00:16:58,190
standard operations for them recommended

00:16:55,100 --> 00:16:59,900
hardware so down the bottom so you can

00:16:58,190 --> 00:17:02,090
buy a lot of those guys

00:16:59,900 --> 00:17:03,980
so the libram laptops or what have you

00:17:02,090 --> 00:17:05,540
those are commercial you can buy them

00:17:03,980 --> 00:17:07,760
they run the coreboot slash heads

00:17:05,540 --> 00:17:11,449
firmware usually with some added extras

00:17:07,760 --> 00:17:14,300
to make it more secure in general most

00:17:11,449 --> 00:17:16,660
things will run ok you can check the HCL

00:17:14,300 --> 00:17:19,640
to check if your hardware will work fine

00:17:16,660 --> 00:17:21,410
my big recommendation is use in Intel

00:17:19,640 --> 00:17:24,620
integrated graphics it makes everything

00:17:21,410 --> 00:17:26,660
just run in general and make sure that

00:17:24,620 --> 00:17:30,200
you have enough RAM it's it's fairly RAM

00:17:26,660 --> 00:17:31,670
heavy but a lot of the more standard

00:17:30,200 --> 00:17:33,650
things and especially think pads work

00:17:31,670 --> 00:17:35,720
very well with that and if you're more

00:17:33,650 --> 00:17:37,340
of the sort of hacker sort you can go

00:17:35,720 --> 00:17:39,200
through and run the coreboot slash heads

00:17:37,340 --> 00:17:41,030
firmware on your think pad and you can

00:17:39,200 --> 00:17:43,430
just flash it yourself and run the whole

00:17:41,030 --> 00:17:45,630
thing yourself so it's an open source

00:17:43,430 --> 00:17:47,400
project lots of help is still wanted

00:17:45,630 --> 00:17:50,880
- needed a lot of it is sitting in

00:17:47,400 --> 00:17:52,110
Python Bosch land because it is again

00:17:50,880 --> 00:17:53,700
instead of building blocks there are

00:17:52,110 --> 00:17:55,980
lots of things that are useful that can

00:17:53,700 --> 00:17:57,780
be built on this that don't require like

00:17:55,980 --> 00:18:01,410
doping into the depths of the hypervisor

00:17:57,780 --> 00:18:03,360
or the kernel and so even if you only

00:18:01,410 --> 00:18:06,780
have those sorts of high-level skills it

00:18:03,360 --> 00:18:08,600
is still very useful and as with every

00:18:06,780 --> 00:18:11,010
type of open source project

00:18:08,600 --> 00:18:13,920
documentation all the rest is also very

00:18:11,010 --> 00:18:15,360
well received so you can look at those

00:18:13,920 --> 00:18:17,970
cubes issues if you want to start out

00:18:15,360 --> 00:18:20,040
some of those things are fairly easy the

00:18:17,970 --> 00:18:23,100
upstream people are also very friendly

00:18:20,040 --> 00:18:25,260
and if you don't have any of that time

00:18:23,100 --> 00:18:26,760
or what-have-you to go and help and you

00:18:25,260 --> 00:18:29,760
want to donate monetarily there's a

00:18:26,760 --> 00:18:31,950
donation link there for more information

00:18:29,760 --> 00:18:33,780
there's a cubes both are Thursday at

00:18:31,950 --> 00:18:36,180
lunch outside room seven or inside room

00:18:33,780 --> 00:18:38,340
seven that's er there's a talk that's

00:18:36,180 --> 00:18:40,770
more of the behind-the-scenes of cubes

00:18:38,340 --> 00:18:43,830
on tomorrow and there are some other

00:18:40,770 --> 00:18:52,800
links yeah thank you very much any

00:18:43,830 --> 00:18:58,680
questions so we have time for a couple

00:18:52,800 --> 00:19:01,260
questions person here you mentioned

00:18:58,680 --> 00:19:02,940
wanting help with Windows drivers what

00:19:01,260 --> 00:19:08,120
is the state of Windows support under

00:19:02,940 --> 00:19:11,880
cubes glad that you mentioned that so

00:19:08,120 --> 00:19:14,520
you as of a couple of years ago you

00:19:11,880 --> 00:19:16,560
could use Windows programs like you

00:19:14,520 --> 00:19:18,630
could Linux programs under cubes so you

00:19:16,560 --> 00:19:20,310
could have for example Microsoft Office

00:19:18,630 --> 00:19:22,350
sitting there on the left and then a

00:19:20,310 --> 00:19:25,650
vault whatever on the right or Firefox

00:19:22,350 --> 00:19:28,290
on the right that was the major issue

00:19:25,650 --> 00:19:30,090
with that is that the the project moved

00:19:28,290 --> 00:19:32,070
on the people maintaining the drivers

00:19:30,090 --> 00:19:34,500
stopped maintaining the drivers but they

00:19:32,070 --> 00:19:36,540
are there and they did work

00:19:34,500 --> 00:19:38,900
they were Windows 7 if memory so so they

00:19:36,540 --> 00:19:43,050
need to be updated for Windows 10 but

00:19:38,900 --> 00:19:45,750
they are there yeah that being said

00:19:43,050 --> 00:19:47,880
Windows will run as a more standard hvm

00:19:45,750 --> 00:19:51,240
VM if you want it to run just without

00:19:47,880 --> 00:19:53,390
the fancy fancy stuff yeah so anyone

00:19:51,240 --> 00:19:53,390
else

00:19:54,640 --> 00:20:08,290
oh hello would it be possible I guess

00:20:05,530 --> 00:20:10,870
this is a limitation of Zen to to use a

00:20:08,290 --> 00:20:11,850
remote cube to interact with a local

00:20:10,870 --> 00:20:16,470
dom0

00:20:11,850 --> 00:20:19,600
so you have a let's say or ion you

00:20:16,470 --> 00:20:20,860
running bolt and you would like that

00:20:19,600 --> 00:20:22,390
that's running on your server or

00:20:20,860 --> 00:20:24,520
whatever and you will only want to

00:20:22,390 --> 00:20:29,440
access it when you need it on your

00:20:24,520 --> 00:20:32,520
laptop yeah so the cubes upstream have

00:20:29,440 --> 00:20:35,559
that's a very good suggestion there is a

00:20:32,520 --> 00:20:37,059
whole presentation as to how they want

00:20:35,559 --> 00:20:39,070
to go and implement that but that hasn't

00:20:37,059 --> 00:20:40,630
currently been implemented if you think

00:20:39,070 --> 00:20:42,429
that's cool though it is an open source

00:20:40,630 --> 00:20:44,740
project and they'd be more than happy to

00:20:42,429 --> 00:20:46,390
help you I'm gonna do that similarly

00:20:44,740 --> 00:20:50,080
like you would find a lot of support

00:20:46,390 --> 00:20:51,419
around here so oh good

00:20:50,080 --> 00:20:57,100
any other questions are we out of time

00:20:51,419 --> 00:21:00,160
got time for a one or maybe anyone

00:20:57,100 --> 00:21:03,010
anyone as a general thing who has learnt

00:21:00,160 --> 00:21:04,890
some new things about cubes yeah Logan

00:21:03,010 --> 00:21:09,059
who do you think's cubes is pretty neat

00:21:04,890 --> 00:21:12,160
yeah anyone thinking about trying it out

00:21:09,059 --> 00:21:14,910
nice nice to see ya thank you very much

00:21:12,160 --> 00:21:14,910

YouTube URL: https://www.youtube.com/watch?v=3chZTdBgRSE


