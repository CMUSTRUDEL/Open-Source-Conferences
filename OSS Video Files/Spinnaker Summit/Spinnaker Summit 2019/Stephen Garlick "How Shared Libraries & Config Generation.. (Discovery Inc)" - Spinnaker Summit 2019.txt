Title: Stephen Garlick "How Shared Libraries & Config Generation.. (Discovery Inc)" - Spinnaker Summit 2019
Publication date: 2019-12-03
Playlist: Spinnaker Summit 2019
Description: 
	The third annual Spinnaker Summit (Diamond Sponsors: Netflix, Google and Armory) was held at the Hard Rock Hotel in San Diego, CA from November 15-17, 2019 and welcomed over 500 members of the rapidly growing Spinnaker open source community.
Captions: 
	00:00:06,330 --> 00:00:10,980
[Laughter]

00:00:13,040 --> 00:00:18,690
leverage shared libraries generation and

00:00:17,010 --> 00:00:22,680
how that connected could speed safety

00:00:18,690 --> 00:00:24,359
and adoption at Discovery so she just

00:00:22,680 --> 00:00:25,769
gave me a quick intro southern spent too

00:00:24,359 --> 00:00:27,930
much time here but my name is Steve

00:00:25,769 --> 00:00:30,449
Bartlett I started at Discovery about

00:00:27,930 --> 00:00:33,000
four years ago my legal solutions

00:00:30,449 --> 00:00:38,149
engineer I have a focus on quality

00:00:33,000 --> 00:00:38,149
database solutions but overall anything

00:00:42,079 --> 00:00:48,420
he 90 what we support today and men

00:00:45,629 --> 00:00:50,760
equally distributed teams and they

00:00:48,420 --> 00:00:52,050
manage things access content delivery

00:00:50,760 --> 00:00:54,449
price management

00:00:52,050 --> 00:00:57,149
jerilyn from my teeth broadcast system

00:00:54,449 --> 00:01:01,289
security teams video on demand of ice

00:00:57,149 --> 00:01:03,750
cream would pull across both Amazon gzb

00:01:01,289 --> 00:01:07,890
and where target communities in most

00:01:03,750 --> 00:01:09,840
cases and apparently 150 services in

00:01:07,890 --> 00:01:12,119
production recommended numerous

00:01:09,840 --> 00:01:16,049
languages but very rarely Java Nokia's

00:01:12,119 --> 00:01:18,420
pythons ability not very local sources

00:01:16,049 --> 00:01:20,460
and their tools available to this will

00:01:18,420 --> 00:01:27,030
be high football right infirmities

00:01:20,460 --> 00:01:28,979
itself armory or safer itself so what we

00:01:27,030 --> 00:01:29,580
started when I the pro starter for

00:01:28,979 --> 00:01:31,170
theatres

00:01:29,580 --> 00:01:34,080
the developers are looking to shift

00:01:31,170 --> 00:01:35,700
towards a micro service architecture but

00:01:34,080 --> 00:01:37,920
as you can see the list here we had

00:01:35,700 --> 00:01:40,920
basically every problem that you could

00:01:37,920 --> 00:01:44,690
have like to set up a new services of

00:01:40,920 --> 00:01:47,220
days these were six months whistle

00:01:44,690 --> 00:01:49,410
the polenta's registry we are currently

00:01:47,220 --> 00:01:53,130
that are done on weekends that are quite

00:01:49,410 --> 00:01:56,940
downtime they require dozens of teams to

00:01:53,130 --> 00:01:59,400
be involved yes piece my body into our

00:01:56,940 --> 00:02:00,900
database migrations someone else when we

00:01:59,400 --> 00:02:02,940
brought my heart that contains

00:02:00,900 --> 00:02:06,420
affiliated to jail offer docker

00:02:02,940 --> 00:02:09,480
container the environment super

00:02:06,420 --> 00:02:10,619
inconsistent like you had no idea what

00:02:09,480 --> 00:02:13,500
you really ran in your test environment

00:02:10,619 --> 00:02:16,140
was actually going to work and a lot of

00:02:13,500 --> 00:02:18,660
times it didn't and then that tons of

00:02:16,140 --> 00:02:21,150
rules but the adoption rates like way of

00:02:18,660 --> 00:02:23,580
putting a big P of tools but one guy was

00:02:21,150 --> 00:02:25,260
using it for managing those 60

00:02:23,580 --> 00:02:26,940
applications that he managed for

00:02:25,260 --> 00:02:31,160
developers we waiting a lot more people

00:02:26,940 --> 00:02:34,170
in there other than our single person

00:02:31,160 --> 00:02:36,600
the other controls when we started we

00:02:34,170 --> 00:02:38,730
obviously wanted to get away from weeks

00:02:36,600 --> 00:02:40,950
at a time - that would be service and to

00:02:38,730 --> 00:02:43,140
make it very quick so we're aiming for

00:02:40,950 --> 00:02:44,880
10 minutes from someone running a job -

00:02:43,140 --> 00:02:47,910
I'll check press D production for that

00:02:44,880 --> 00:02:50,100
application we wanted a full complete

00:02:47,910 --> 00:02:53,340
configuration production and all our

00:02:50,100 --> 00:02:55,440
flights trying to get so we're looking

00:02:53,340 --> 00:02:57,540
just for a simple application with the

00:02:55,440 --> 00:03:00,660
health check they came configured all

00:02:57,540 --> 00:03:03,450
secret management so a full CSV pipeline

00:03:00,660 --> 00:03:07,590
for it all sorts of networking ingress

00:03:03,450 --> 00:03:08,690
in this certificates and as well as

00:03:07,590 --> 00:03:12,500
monitoring

00:03:08,690 --> 00:03:15,710
longing metrics logstash course ideally

00:03:12,500 --> 00:03:17,000
we want all the stuff by people and then

00:03:15,710 --> 00:03:19,460
with all that we were hoping to get a

00:03:17,000 --> 00:03:21,860
quick safety little clinics where it

00:03:19,460 --> 00:03:24,080
flows through the tools or identical

00:03:21,860 --> 00:03:26,990
whether it be terrible gratis Experian

00:03:24,080 --> 00:03:29,750
can be the same they wanted to be -

00:03:26,990 --> 00:03:32,150
Mississippi's nothing and lastly we want

00:03:29,750 --> 00:03:35,540
to be easy peace and great named in the

00:03:32,150 --> 00:03:38,710
terms of maintenance our EVPs go from

00:03:35,540 --> 00:03:41,600
this job set up a new application and

00:03:38,710 --> 00:03:46,940
update after what they may be starving

00:03:41,600 --> 00:03:47,930
we usually started with a bunch of

00:03:46,940 --> 00:03:50,300
deletloss

00:03:47,930 --> 00:03:52,430
so the probably a choice and terrifying

00:03:50,300 --> 00:03:56,210
kubernetes to divide all of our service

00:03:52,430 --> 00:03:57,920
components so that gives us you know

00:03:56,210 --> 00:03:59,990
everything that's related to this

00:03:57,920 --> 00:04:03,410
service is going to be the binding date

00:03:59,990 --> 00:04:05,780
for these needy miles from are ready and

00:04:03,410 --> 00:04:08,660
get as files to find some of those two

00:04:05,780 --> 00:04:12,050
days and deploy them obviously when as

00:04:08,660 --> 00:04:15,320
much as possible I think it started to

00:04:12,050 --> 00:04:18,830
get hundreds and ideally I'd say the

00:04:15,320 --> 00:04:19,940
program 95% for a lot of things and then

00:04:18,830 --> 00:04:21,500
lastly ones that you all this

00:04:19,940 --> 00:04:25,100
appointment that really easy to update

00:04:21,500 --> 00:04:27,320
and maintain existing services so we're

00:04:25,100 --> 00:04:29,510
able to use reusable code ease the

00:04:27,320 --> 00:04:30,280
generation voices of standards and apply

00:04:29,510 --> 00:04:32,750
those updates

00:04:30,280 --> 00:04:36,900
so this case that would be a terrible

00:04:32,750 --> 00:04:40,300
module the education air pipeline

00:04:36,900 --> 00:04:41,980
- Lacey - obviously you'll not even

00:04:40,300 --> 00:04:46,080
either so we're talking about you as

00:04:41,980 --> 00:04:46,080
long as they support some form of that

00:04:46,650 --> 00:04:51,550
so now that if we have these building

00:04:50,020 --> 00:04:54,480
blocks in place and we can kind of

00:04:51,550 --> 00:04:56,890
defiance that we want it's still

00:04:54,480 --> 00:04:58,930
relatively slow without in two weeks in

00:04:56,890 --> 00:05:01,000
Worcester and open hours today's range

00:04:58,930 --> 00:05:03,810
we still have a couple teams that need

00:05:01,000 --> 00:05:06,520
to be involved this selfless service and

00:05:03,810 --> 00:05:08,560
more or less people just need a copy hey

00:05:06,520 --> 00:05:11,200
seems like all right what's anybody

00:05:08,560 --> 00:05:13,750
service talking paces modules to play

00:05:11,200 --> 00:05:17,470
them and you know he thought they could

00:05:13,750 --> 00:05:21,040
do a little bit better than that so that

00:05:17,470 --> 00:05:24,070
said this entire together we have

00:05:21,040 --> 00:05:26,080
everything to be able to find get so he

00:05:24,070 --> 00:05:28,440
decided why don't we just iterate get

00:05:26,080 --> 00:05:32,130
very close when we create a new service

00:05:28,440 --> 00:05:34,480
so I just have a very small level here

00:05:32,130 --> 00:05:36,790
starts off my user could be the

00:05:34,480 --> 00:05:39,760
developer s it could be a VP but then

00:05:36,790 --> 00:05:42,490
he's running the test and they run the

00:05:39,760 --> 00:05:46,240
Java Jenkins life generates a couple git

00:05:42,490 --> 00:05:48,490
repos those have to keep his files and

00:05:46,240 --> 00:05:49,360
baby bottles in the repo CBC here one

00:05:48,490 --> 00:05:51,610
for the service

00:05:49,360 --> 00:05:55,210
want to the manifest want their tariffs

00:05:51,610 --> 00:05:56,140
one those all pretty good buying is what

00:05:55,210 --> 00:05:58,180
we said before

00:05:56,140 --> 00:05:59,980
number time that's what else on the

00:05:58,180 --> 00:06:02,260
finder collapse they all have objects so

00:05:59,980 --> 00:06:04,720
we put health checks on a clean place

00:06:02,260 --> 00:06:06,280
they come to us and they're like all our

00:06:04,720 --> 00:06:09,130
secrets are just check it again plain

00:06:06,280 --> 00:06:12,700
text area all place

00:06:09,130 --> 00:06:15,850
there we have a competitive NFS we have

00:06:12,700 --> 00:06:17,740
our care for myself so the creationists

00:06:15,850 --> 00:06:20,830
are just what we mentioned before it

00:06:17,740 --> 00:06:23,230
defines our ingress advisor from the

00:06:20,830 --> 00:06:26,080
practice certificate that binds network

00:06:23,230 --> 00:06:29,110
policies it divides and anything that

00:06:26,080 --> 00:06:30,850
committees management so once they think

00:06:29,110 --> 00:06:33,040
that ultimately those are created they

00:06:30,850 --> 00:06:36,430
automatically get picked up by Dickens

00:06:33,040 --> 00:06:40,000
or spinnaker or an artery in this case

00:06:36,430 --> 00:06:41,590
of the DB models so you can see here

00:06:40,000 --> 00:06:43,890
those who thought the other half they go

00:06:41,590 --> 00:06:46,360
to our little pipeline which is kind of

00:06:43,890 --> 00:06:49,540
simplify here they just have one ticket

00:06:46,360 --> 00:06:52,420
is pushing to j-dog or potentially get

00:06:49,540 --> 00:06:56,800
wet locally this vinegar or you just

00:06:52,420 --> 00:06:58,600
fire inspector so you can see for our

00:06:56,800 --> 00:07:00,730
services tickets bills though it's

00:06:58,600 --> 00:07:02,740
published Canada came from our

00:07:00,730 --> 00:07:05,380
communities manifesting also builds

00:07:02,740 --> 00:07:08,650
validates some stuff over those was

00:07:05,380 --> 00:07:12,190
uniquely triggers and then prepare

00:07:08,650 --> 00:07:13,290
emerges easy get wet folks there so at

00:07:12,190 --> 00:07:16,270
that point

00:07:13,290 --> 00:07:17,320
everything's inspector your goods don't

00:07:16,270 --> 00:07:23,230
really need to care about the

00:07:17,320 --> 00:07:25,360
centerpiece do they and you can see they

00:07:23,230 --> 00:07:27,280
actually point it out basically taking

00:07:25,360 --> 00:07:28,660
two facts whether it's occur in any

00:07:27,280 --> 00:07:30,910
Spanish piece of the surface or a

00:07:28,660 --> 00:07:34,360
terrible piece of the service and you

00:07:30,910 --> 00:07:36,310
can see they are on the side every image

00:07:34,360 --> 00:07:39,340
there something we need to use currently

00:07:36,310 --> 00:07:42,000
or everything is sublease currently

00:07:39,340 --> 00:07:45,640
deployed by the kubernetes are terrible

00:07:42,000 --> 00:07:47,650
and if you can't you can't buy a third

00:07:45,640 --> 00:07:49,480
one provider to support that's all

00:07:47,650 --> 00:07:52,000
you're using that are not that difficult

00:07:49,480 --> 00:07:56,490
to write there's plenty of documentation

00:07:52,000 --> 00:07:59,770
right so what next

00:07:56,490 --> 00:08:02,620
we've improved a lot of things but we're

00:07:59,770 --> 00:08:05,230
still extremely immature like we started

00:08:02,620 --> 00:08:06,730
from the worst possible case in our that

00:08:05,230 --> 00:08:08,890
case what we find we can actually start

00:08:06,730 --> 00:08:11,620
doing interesting things so we've got a

00:08:08,890 --> 00:08:13,840
snowball effect now that makes it happen

00:08:11,620 --> 00:08:15,910
extremely quickly we can continue the

00:08:13,840 --> 00:08:17,020
allow the bible's libraries take

00:08:15,910 --> 00:08:20,320
advantage of these features as

00:08:17,020 --> 00:08:22,479
developers want to use Mary Alice's and

00:08:20,320 --> 00:08:24,070
already at all the metrics in places so

00:08:22,479 --> 00:08:25,810
long so we can get those in easily and

00:08:24,070 --> 00:08:28,630
when we don't think that it will apply

00:08:25,810 --> 00:08:30,550
across all our applications a little

00:08:28,630 --> 00:08:32,770
more isn't it big options like I said

00:08:30,550 --> 00:08:36,310
with a very minimal state oh do you have

00:08:32,770 --> 00:08:38,500
a health check you have to bake that

00:08:36,310 --> 00:08:41,349
this will shut down but we can go

00:08:38,500 --> 00:08:43,570
further say all right you want the

00:08:41,349 --> 00:08:45,160
poster in this all right we'll slow that

00:08:43,570 --> 00:08:48,400
on a Mac new store that

00:08:45,160 --> 00:08:51,730
Paul and Durant are a complete figure to

00:08:48,400 --> 00:08:54,130
development with many people excess

00:08:51,730 --> 00:08:56,650
environments so because I think it is a

00:08:54,130 --> 00:08:58,090
terrible everything is as communities we

00:08:56,650 --> 00:09:01,240
can easily make a pipeline that

00:08:58,090 --> 00:09:04,390
developer can trigger to run on these

00:09:01,240 --> 00:09:07,000
templates execute some testamentary go

00:09:04,390 --> 00:09:11,350
back down and I say we kinda trick

00:09:07,000 --> 00:09:12,910
columns into our document so here we put

00:09:11,350 --> 00:09:13,960
everything in place so they didn't have

00:09:12,910 --> 00:09:15,490
to do anything at all

00:09:13,960 --> 00:09:18,430
initially which is really the base

00:09:15,490 --> 00:09:22,330
carrier like we have tons of little ink

00:09:18,430 --> 00:09:24,160
we use the relic these squab to use more

00:09:22,330 --> 00:09:27,520
than I can make a little bit of time

00:09:24,160 --> 00:09:29,140
that I have yeah you need training on

00:09:27,520 --> 00:09:32,550
that because we need to be able to have

00:09:29,140 --> 00:09:36,990
them copy those and you know really see

00:09:32,550 --> 00:09:36,990
that is thank you

00:09:41,820 --> 00:09:48,020

YouTube URL: https://www.youtube.com/watch?v=r6e1q7gHraM


