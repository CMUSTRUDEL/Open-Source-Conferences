Title: Maarten Dirkse - Cloud Advocate - Bol.com
Publication date: 2018-11-15
Playlist: Spinnaker Customer Stories
Description: 
	Tells the origin story of how he discovered Spinnaker.
Captions: 
	00:00:01,810 --> 00:00:07,070
hey it's dirty a CEO at armory I'm here

00:00:04,670 --> 00:00:11,210
with Martin and I pronounced your name

00:00:07,070 --> 00:00:13,970
yep right alright let's go ahead and my

00:00:11,210 --> 00:00:16,630
name is Martha I thought I'd forget a

00:00:13,970 --> 00:00:18,500
bull buck bomb we are the largest online

00:00:16,630 --> 00:00:20,830
retailer

00:00:18,500 --> 00:00:24,140
and the Dutch treatment part of Belgium

00:00:20,830 --> 00:00:28,250
and I also work closely with the team

00:00:24,140 --> 00:00:29,720
that runs spinnaker inside so I'd love

00:00:28,250 --> 00:00:31,399
to hear a little bit about your

00:00:29,720 --> 00:00:34,640
spinnaker journey so whatever the origin

00:00:31,399 --> 00:00:37,790
story is with a state of spinnaker is

00:00:34,640 --> 00:00:41,449
that Bolcom just get us in everything

00:00:37,790 --> 00:00:45,769
sure so we're in the middle of migrating

00:00:41,449 --> 00:00:47,269
to the Google cloud we are still running

00:00:45,769 --> 00:00:49,550
most of our stuff their own data center

00:00:47,269 --> 00:00:52,339
in the data center we have a stack that

00:00:49,550 --> 00:00:55,040
consists of Jenkins for CIO

00:00:52,339 --> 00:00:58,189
and then a combination of run deck

00:00:55,040 --> 00:01:02,710
puppet and rpms for our deployment it's

00:00:58,189 --> 00:01:02,710
been spit polish and tape yeah basically

00:01:02,769 --> 00:01:08,570
very extensively reviewed and well

00:01:06,080 --> 00:01:10,610
coding spitballs that's good

00:01:08,570 --> 00:01:13,100
so when we when we made the decision

00:01:10,610 --> 00:01:14,119
that we're going to move to GCP we said

00:01:13,100 --> 00:01:17,090
we were going to run everything in

00:01:14,119 --> 00:01:19,430
kubernetes and running on kubernetes

00:01:17,090 --> 00:01:21,560
gave us the opportunity to actually go

00:01:19,430 --> 00:01:23,180
and use spinnaker

00:01:21,560 --> 00:01:24,830
something I was a big proponent of

00:01:23,180 --> 00:01:26,540
because spinnaker is a real deployment

00:01:24,830 --> 00:01:28,850
tool whereas something reusing before is

00:01:26,540 --> 00:01:31,910
just it's not deployment tool link it's

00:01:28,850 --> 00:01:36,110
just a way to descriptive stuff together

00:01:31,910 --> 00:01:40,940
she'll say and yeah so we've been added

00:01:36,110 --> 00:01:45,410
for about nine months we got more and

00:01:40,940 --> 00:01:46,430
more teams onboarding a spinnaker hiring

00:01:45,410 --> 00:01:51,080
out the issues that we've encountered

00:01:46,430 --> 00:01:53,090
running in TK yeah it's it's going to

00:01:51,080 --> 00:01:54,800
it's been a really great experience to

00:01:53,090 --> 00:01:57,220
have the sort of cloud native tooling

00:01:54,800 --> 00:02:00,440
totally use that stuff the sub program

00:01:57,220 --> 00:02:02,660
so what what the journey that you're on

00:02:00,440 --> 00:02:05,180
is a journey that we talked to many many

00:02:02,660 --> 00:02:08,119
companies many engineering leaders cloud

00:02:05,180 --> 00:02:09,920
architects that are tasked with figuring

00:02:08,119 --> 00:02:12,980
out how to do this in their companies

00:02:09,920 --> 00:02:17,060
and but would love to just understand

00:02:12,980 --> 00:02:18,620
how what the decision matrix was or how

00:02:17,060 --> 00:02:22,250
you decided spinnaker was the right tool

00:02:18,620 --> 00:02:24,780
why not just extend Jenkins you know

00:02:22,250 --> 00:02:28,230
what what what made spinnaker

00:02:24,780 --> 00:02:33,510
what was that driving force that

00:02:28,230 --> 00:02:36,090
positive businessman so a lot of the

00:02:33,510 --> 00:02:40,710
driving force was me just repeating

00:02:36,090 --> 00:02:41,100
we're going to use a lot what convinced

00:02:40,710 --> 00:02:44,970
you

00:02:41,100 --> 00:02:50,310
well so what convinced me was that I was

00:02:44,970 --> 00:02:52,800
at Mesa spawn in Amsterdam in 2016 and I

00:02:50,310 --> 00:02:55,050
saw talk by a Twitter engineer and he

00:02:52,800 --> 00:02:58,020
described a an internal deployment tool

00:02:55,050 --> 00:03:01,020
chain that they had which sounded really

00:02:58,020 --> 00:03:02,400
good and someone at the end of the

00:03:01,020 --> 00:03:03,870
presentation raised their hand and said

00:03:02,400 --> 00:03:06,240
well it's great when are you going to

00:03:03,870 --> 00:03:07,920
open source it said well I can't because

00:03:06,240 --> 00:03:09,030
of all sorts of reasons but if you want

00:03:07,920 --> 00:03:11,670
something that does more or less the

00:03:09,030 --> 00:03:12,780
same thing you spin it and then at that

00:03:11,670 --> 00:03:15,060
point I thought well you know this

00:03:12,780 --> 00:03:16,770
sounds also we need to use spinnaker to

00:03:15,060 --> 00:03:17,880
do our deployments but we because we

00:03:16,770 --> 00:03:21,240
were still in the air in our own

00:03:17,880 --> 00:03:24,840
datacenter yeah we were using we were on

00:03:21,240 --> 00:03:26,730
VMs VMware so it was difficult to get

00:03:24,840 --> 00:03:29,650
spinnaker to target that platform I

00:03:26,730 --> 00:03:31,810
looked at actually looked into

00:03:29,650 --> 00:03:34,569
building support for cloud driver myself

00:03:31,810 --> 00:03:36,310
and I sort of talked about that in slack

00:03:34,569 --> 00:03:38,530
and then Lars from Google came in the

00:03:36,310 --> 00:03:39,879
second are you sure you want to do that

00:03:38,530 --> 00:03:41,980
is this a lot of work that's like yeah I

00:03:39,879 --> 00:03:43,480
know protocol are you sure you want to

00:03:41,980 --> 00:03:45,819
do that because it's really a lot of

00:03:43,480 --> 00:03:47,859
work that's okay probably not the best

00:03:45,819 --> 00:03:49,840
idea but then when we moved for the

00:03:47,859 --> 00:03:51,370
cloud that that was my opportunity to go

00:03:49,840 --> 00:03:53,640
and we say look we really need to start

00:03:51,370 --> 00:03:56,079
using this tool because it's there's a

00:03:53,640 --> 00:03:58,379
it's been used at Amazon it's been used

00:03:56,079 --> 00:04:00,430
at Netflix for years

00:03:58,379 --> 00:04:02,139
lubos putting massive amounts of

00:04:00,430 --> 00:04:06,540
resources find that there's this whole

00:04:02,139 --> 00:04:09,190
ecosystem of companies it's a really

00:04:06,540 --> 00:04:10,599
really great CD tool that's the

00:04:09,190 --> 00:04:12,599
first-class deployment primitives

00:04:10,599 --> 00:04:18,669
whereas everything else is just sort of

00:04:12,599 --> 00:04:21,459
slapping CD on to Jenkins solution that

00:04:18,669 --> 00:04:24,370
is great the spinnaker more or less

00:04:21,459 --> 00:04:26,560
half-baked so and I would at the time I

00:04:24,370 --> 00:04:28,180
was on the on the team that was

00:04:26,560 --> 00:04:30,330
responsible for the entire sea I see the

00:04:28,180 --> 00:04:33,550
infrastructure and I basically just

00:04:30,330 --> 00:04:35,080
brought up a internal blog post or

00:04:33,550 --> 00:04:36,360
intranet about why we should use

00:04:35,080 --> 00:04:40,199
spinnaker

00:04:36,360 --> 00:04:42,990
and management reddit's other engineers

00:04:40,199 --> 00:04:46,919
reddit I guess I was pretty persuasive

00:04:42,990 --> 00:04:50,729
because we went for it would be great to

00:04:46,919 --> 00:04:53,909
share that document did it at some level

00:04:50,729 --> 00:04:58,439
because that that justification and that

00:04:53,909 --> 00:05:00,360
and that that story that the I guess the

00:04:58,439 --> 00:05:04,349
advice for people that that are that

00:05:00,360 --> 00:05:05,490
we're in our position and so I just made

00:05:04,349 --> 00:05:08,180
it sound like I did all by myself but

00:05:05,490 --> 00:05:12,139
just the case I it was a team decision

00:05:08,180 --> 00:05:14,849
but what we did was we created this

00:05:12,139 --> 00:05:17,219
that's specified exactly how we were

00:05:14,849 --> 00:05:19,349
gonna do CIC deeded the post as we

00:05:17,219 --> 00:05:21,180
literally called how we go from source

00:05:19,349 --> 00:05:23,490
to production in the cloud we spell it

00:05:21,180 --> 00:05:25,590
exactly the pipeline that we wanted to

00:05:23,490 --> 00:05:27,449
create and because we were migrating to

00:05:25,590 --> 00:05:28,740
the cloud and nobody had any idea yet

00:05:27,449 --> 00:05:30,199
the power you're gonna do that because

00:05:28,740 --> 00:05:32,279
we were out there with this idea

00:05:30,199 --> 00:05:34,770
everybody is like okay yeah let's do

00:05:32,279 --> 00:05:37,229
that and there were no nobody up there

00:05:34,770 --> 00:05:39,840
was no reason for anybody else to think

00:05:37,229 --> 00:05:42,479
of other solutions right we spent a

00:05:39,840 --> 00:05:43,930
while entertaining the idea of trying

00:05:42,479 --> 00:05:46,880
out

00:05:43,930 --> 00:05:48,860
but then we discovered that openshift

00:05:46,880 --> 00:05:50,810
under the hood is like spinnaker plus

00:05:48,860 --> 00:05:53,320
Jenkins we really wanted to get rid of

00:05:50,810 --> 00:05:53,320
Jenkins was

00:05:53,480 --> 00:05:57,320
at least the way we were running so we

00:05:55,640 --> 00:06:00,890
switched to Hill FCI

00:05:57,320 --> 00:06:03,680
and to spinnaker and because we put this

00:06:00,890 --> 00:06:05,270
idea out there as soon as you you write

00:06:03,680 --> 00:06:07,220
that stuff down and people read it and

00:06:05,270 --> 00:06:11,150
if it's you know if it's technically

00:06:07,220 --> 00:06:12,680
sound and the reasoning is sound there

00:06:11,150 --> 00:06:15,950
will be there will be very little

00:06:12,680 --> 00:06:17,510
pushback because a good idea they don't

00:06:15,950 --> 00:06:19,220
have a better alternative because they

00:06:17,510 --> 00:06:20,510
haven't thought about it don't have the

00:06:19,220 --> 00:06:23,090
energy to think about that because they

00:06:20,510 --> 00:06:24,740
doing about the metrics or whatever so

00:06:23,090 --> 00:06:27,290
that kind of really worked for us that's

00:06:24,740 --> 00:06:31,730
a great book for a tip I'd love to dig

00:06:27,290 --> 00:06:33,440
in a little bit so you you had an

00:06:31,730 --> 00:06:35,360
application or applications and data

00:06:33,440 --> 00:06:38,090
centers and you have had a cloud

00:06:35,360 --> 00:06:40,460
strategy that you defined we dig in a

00:06:38,090 --> 00:06:42,800
little bit into that actual migration

00:06:40,460 --> 00:06:44,930
process so you decided not to build a

00:06:42,800 --> 00:06:48,110
driver directly to be able to actually

00:06:44,930 --> 00:06:51,290
use spinnaker to migrate so what what

00:06:48,110 --> 00:06:53,360
how are you actually doing that that

00:06:51,290 --> 00:06:55,490
much migration are you just we

00:06:53,360 --> 00:06:56,930
architecting apps as cloud native or

00:06:55,490 --> 00:07:02,590
talk a little bit about that

00:06:56,930 --> 00:07:02,590
so we most of our apps are java based

00:07:04,340 --> 00:07:09,440
we're running that that snack in the

00:07:06,850 --> 00:07:11,750
data center and that really runs really

00:07:09,440 --> 00:07:13,850
well the container kubernetes as well so

00:07:11,750 --> 00:07:16,220
a lot of the support services they run

00:07:13,850 --> 00:07:18,170
both of the cloud and on the site so

00:07:16,220 --> 00:07:19,460
there's not too much some people need to

00:07:18,170 --> 00:07:21,170
change about their apps to be able to

00:07:19,460 --> 00:07:24,170
migrate to the cloud

00:07:21,170 --> 00:07:27,020
we've just sort of gone into a beta

00:07:24,170 --> 00:07:28,370
phase our our cloud platform so if we

00:07:27,020 --> 00:07:30,060
built a bunch of tooling around it to

00:07:28,370 --> 00:07:32,460
ensure that

00:07:30,060 --> 00:07:34,890
provision infrastructure that includes

00:07:32,460 --> 00:07:37,860
our best practices security and

00:07:34,890 --> 00:07:40,230
operations we're just starting to roll

00:07:37,860 --> 00:07:41,910
it out to all these companies and what

00:07:40,230 --> 00:07:46,130
we see at the moment is that people are

00:07:41,910 --> 00:07:46,130
doing their new services in the cloud

00:07:47,190 --> 00:07:50,659
migration

00:07:49,039 --> 00:07:52,400
existing services to the cloud is

00:07:50,659 --> 00:07:54,860
something that still needs to kind of

00:07:52,400 --> 00:07:56,479
get going because pronounced release

00:07:54,860 --> 00:07:58,490
reboot said we're building this new

00:07:56,479 --> 00:07:59,930
service we know we're going to the cloud

00:07:58,490 --> 00:08:03,090
unless it's built in the cloud for day

00:07:59,930 --> 00:08:05,250
one we dr. migrate

00:08:03,090 --> 00:08:08,870
always thinking about ways to make that

00:08:05,250 --> 00:08:11,590
migration easier for example

00:08:08,870 --> 00:08:14,510
to take people's Jenkins pipeline safety

00:08:11,590 --> 00:08:17,230
congratulate goes spinnaker pipelines

00:08:14,510 --> 00:08:18,970
those sorts of things

00:08:17,230 --> 00:08:20,350
because we're still the early stages of

00:08:18,970 --> 00:08:26,020
the whole transition to mostly new

00:08:20,350 --> 00:08:27,790
services what are some of your hopes for

00:08:26,020 --> 00:08:30,700
the project how do you hope it involves

00:08:27,790 --> 00:08:32,710
butter if someone's watching this trying

00:08:30,700 --> 00:08:34,750
to decide whether to get involved what

00:08:32,710 --> 00:08:40,690
are some areas of growth that they can

00:08:34,750 --> 00:08:42,220
contribute to or well one of the things

00:08:40,690 --> 00:08:45,610
we're focusing right on right now and

00:08:42,220 --> 00:08:48,450
that that we kind of missed was the

00:08:45,610 --> 00:08:51,910
declarative pipelines so we have a

00:08:48,450 --> 00:08:54,550
there's a solution out there now but if

00:08:51,910 --> 00:08:56,110
you read the blogs it's clear that

00:08:54,550 --> 00:08:58,600
there's another solution on the way and

00:08:56,110 --> 00:08:59,800
that's what's out there now isn't is it

00:08:58,600 --> 00:09:03,390
quite the way forward at least that's

00:08:59,800 --> 00:09:03,390
what the guys are designing it

00:09:03,910 --> 00:09:09,730
the way we we try to run everything is

00:09:06,550 --> 00:09:11,290
that we have yellow files in there a bus

00:09:09,730 --> 00:09:13,209
from the code repositories that define

00:09:11,290 --> 00:09:15,130
your infrastructure at define your CI

00:09:13,209 --> 00:09:16,810
pipeline and we really want that you

00:09:15,130 --> 00:09:19,889
haven't filed if is gonna come pipeline

00:09:16,810 --> 00:09:22,060
as well that's not really there yet so

00:09:19,889 --> 00:09:24,550
actually as we speak then colleague of

00:09:22,060 --> 00:09:27,220
mine is coding away their own sort of

00:09:24,550 --> 00:09:28,329
temporary solution until the declarative

00:09:27,220 --> 00:09:31,389
pipeline v2

00:09:28,329 --> 00:09:32,829
really lands up becomes useful so that's

00:09:31,389 --> 00:09:36,970
something that I hopeful progressed

00:09:32,829 --> 00:09:39,009
quickly and we'll see a lot of adoption

00:09:36,970 --> 00:09:41,139
because I think that's some model we use

00:09:39,009 --> 00:09:44,610
for our CI and we think that's the model

00:09:41,139 --> 00:09:47,730
we should be using for CV as well

00:09:44,610 --> 00:09:51,060
apart from that just better integration

00:09:47,730 --> 00:09:53,200
with kubernetes more support for for

00:09:51,060 --> 00:09:56,079
artifacts so that'll work through

00:09:53,200 --> 00:09:57,339
really getting a handle on know where

00:09:56,079 --> 00:09:59,850
did the software come from that I've

00:09:57,339 --> 00:10:01,959
just deployed what went into it

00:09:59,850 --> 00:10:04,230
muttering stuff that's really important

00:10:01,959 --> 00:10:06,490
to our security engineers that's already

00:10:04,230 --> 00:10:07,990
it's there if you do a bit of work for

00:10:06,490 --> 00:10:12,639
that the whole experience could be

00:10:07,990 --> 00:10:17,649
smooth and also how I was talking

00:10:12,639 --> 00:10:21,010
talking to my colleague to stay so we we

00:10:17,649 --> 00:10:22,199
we use halyard to deployment we we run

00:10:21,010 --> 00:10:25,510
halyard in kubernetes

00:10:22,199 --> 00:10:26,740
I get that spinnaker or that halyard has

00:10:25,510 --> 00:10:30,269
to deploy spinnaker to all sorts of

00:10:26,740 --> 00:10:33,760
different platforms but why is there a

00:10:30,269 --> 00:10:35,680
spinnaker kubernetes operate that seems

00:10:33,760 --> 00:10:37,149
like a logical thing to do yeah and I

00:10:35,680 --> 00:10:39,220
get that that's vinegar needs to be

00:10:37,149 --> 00:10:40,139
deployed to a local machine as well if

00:10:39,220 --> 00:10:42,160
need be

00:10:40,139 --> 00:10:44,410
that seems like something that would be

00:10:42,160 --> 00:10:47,680
really useful because right now so we

00:10:44,410 --> 00:10:49,240
rewrite halyard and kubernetes we've

00:10:47,680 --> 00:10:51,670
instrumented palyer to the kind of

00:10:49,240 --> 00:10:52,930
continuous deployment of accounts

00:10:51,670 --> 00:10:55,149
because we need that the way we have

00:10:52,930 --> 00:10:57,370
kubernetes set up but if you're really

00:10:55,149 --> 00:11:00,080
helpful if if the upgrader pattern would

00:10:57,370 --> 00:11:03,450
be applied to spinnaker as well

00:11:00,080 --> 00:11:05,580
I realized that that's a really Cooper

00:11:03,450 --> 00:11:06,870
Nettie centric way of looking at stuff

00:11:05,580 --> 00:11:08,880
and then people you spend a call on all

00:11:06,870 --> 00:11:11,970
kinds of different platforms I think

00:11:08,880 --> 00:11:13,470
that would be something that our users

00:11:11,970 --> 00:11:15,750
all right so if you're thinking about

00:11:13,470 --> 00:11:17,910
getting involved in spinnaker plenty of

00:11:15,750 --> 00:11:21,570
opportunity to solve problems for

00:11:17,910 --> 00:11:24,050
companies like bull and definitely don't

00:11:21,570 --> 00:11:26,040
be intimidated by the community there's

00:11:24,050 --> 00:11:27,720
5,000 people in there you might think

00:11:26,040 --> 00:11:29,040
that everyone knows each other and you

00:11:27,720 --> 00:11:31,050
can come in from the outside but it's a

00:11:29,040 --> 00:11:34,340
very friendly group a lot of innovation

00:11:31,050 --> 00:11:36,960
Avenue so thanks for being so active and

00:11:34,340 --> 00:11:38,310
such an advocate thank you guys for what

00:11:36,960 --> 00:11:40,470
you do because you have great resources

00:11:38,310 --> 00:11:44,250
that you put out there lots of great

00:11:40,470 --> 00:11:46,320
videos about how to some that's a great

00:11:44,250 --> 00:11:49,380
blog posts it's been really good having

00:11:46,320 --> 00:11:51,690
armory around to sort of boost the

00:11:49,380 --> 00:11:52,800
ecosystem and help the adoption thank

00:11:51,690 --> 00:11:54,240
you I think we're all just getting

00:11:52,800 --> 00:11:56,220
started we're gonna look back five years

00:11:54,240 --> 00:11:57,590
from now and talk about but remember

00:11:56,220 --> 00:12:00,630
when everyone fit in one convention

00:11:57,590 --> 00:12:03,410
exactly one ballroom all right thank you

00:12:00,630 --> 00:12:07,690
sir thank you

00:12:03,410 --> 00:12:07,690

YouTube URL: https://www.youtube.com/watch?v=gIV4tAtC_7E


