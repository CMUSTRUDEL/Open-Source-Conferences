Title: AWS SIG Update - Clare Ligouri, Casey Hebebrand, Allie Stanko & Akshay Dayal
Publication date: 2021-01-28
Playlist: Spinnaker Summit 2020
Description: 
	Join Clare Ligouri, Casey Hebebrand, Allie Stanko, and Akshay Dayal, for an update on the AWS SIG at the 2020 Spinnaker Summit.
Captions: 
	00:00:01,040 --> 00:00:06,080
everyone welcome to

00:00:03,199 --> 00:00:09,440
uh our updates on what we've been doing

00:00:06,080 --> 00:00:09,440
at the aws sig

00:00:09,679 --> 00:00:14,880
uh first we'll do some speaker

00:00:12,240 --> 00:00:14,880
introductions

00:00:14,960 --> 00:00:18,960
so i'm claire ligouri i work on the aws

00:00:18,000 --> 00:00:20,960
containers team

00:00:18,960 --> 00:00:23,920
and i'm one of the co-leads for the aws

00:00:20,960 --> 00:00:23,920
sig in spinnaker

00:00:24,320 --> 00:00:28,880
hi i'm ali stenko i'm a work for amazon

00:00:27,680 --> 00:00:30,240
ecs

00:00:28,880 --> 00:00:34,320
and i'm also one of the core

00:00:30,240 --> 00:00:37,200
contributors to the amazon ecs provider

00:00:34,320 --> 00:00:38,399
i'm casey heavy brand i work at netflix

00:00:37,200 --> 00:00:41,760
on the spinnaker team

00:00:38,399 --> 00:00:44,320
and i am standing in for jayers as

00:00:41,760 --> 00:00:46,719
attempts to lead while he is out having

00:00:44,320 --> 00:00:49,280
a new baby

00:00:46,719 --> 00:00:51,520
awesome and i'm akshay l i'm a product

00:00:49,280 --> 00:00:54,000
manager at armory

00:00:51,520 --> 00:00:56,559
so today we'll first talk very briefly

00:00:54,000 --> 00:00:59,840
about what we do at the sig

00:00:56,559 --> 00:01:01,760
we'll go over some highlights from 2020

00:00:59,840 --> 00:01:03,039
that i think those of you who have not

00:01:01,760 --> 00:01:05,840
been following would love to

00:01:03,039 --> 00:01:06,240
learn about and then talk about some of

00:01:05,840 --> 00:01:09,760
the

00:01:06,240 --> 00:01:12,560
upcoming work that we are looking into

00:01:09,760 --> 00:01:14,080
and specifically for the 2020 highlights

00:01:12,560 --> 00:01:16,080
we have some great updates

00:01:14,080 --> 00:01:17,119
with regards to ecs support with

00:01:16,080 --> 00:01:19,920
spinnaker

00:01:17,119 --> 00:01:21,520
lambda launch templates code builds the

00:01:19,920 --> 00:01:24,640
aws secrets manager

00:01:21,520 --> 00:01:27,200
as well as improved documentation and

00:01:24,640 --> 00:01:29,040
for upcoming feature work we have uh

00:01:27,200 --> 00:01:33,280
great stuff planned for ecs

00:01:29,040 --> 00:01:33,280
ec2 and dynamic accounts

00:01:33,360 --> 00:01:38,240
and our first bit about our sig our

00:01:36,000 --> 00:01:40,320
first meeting was in july of last year

00:01:38,240 --> 00:01:42,320
so we haven't been around for too long

00:01:40,320 --> 00:01:44,240
and what we do in the sig meetings is we

00:01:42,320 --> 00:01:46,880
get input from the community

00:01:44,240 --> 00:01:48,720
whether it's community members coming to

00:01:46,880 --> 00:01:51,200
the sig meetings and talking about their

00:01:48,720 --> 00:01:54,560
pain points or looking at github issues

00:01:51,200 --> 00:01:55,520
and we plan and discuss upcoming changes

00:01:54,560 --> 00:01:59,280
for

00:01:55,520 --> 00:02:01,840
improving uh spinnaker support for aws

00:01:59,280 --> 00:02:03,040
and uh the other cool thing we do in the

00:02:01,840 --> 00:02:05,680
sig meetings is we

00:02:03,040 --> 00:02:06,560
demo upcoming features so if you want to

00:02:05,680 --> 00:02:09,280
get a preview

00:02:06,560 --> 00:02:10,239
of what's going to be out soon i would

00:02:09,280 --> 00:02:12,560
recommend

00:02:10,239 --> 00:02:13,440
joining us and and having a sneak peek

00:02:12,560 --> 00:02:16,319
at those

00:02:13,440 --> 00:02:16,640
and we meet every third third wednesday

00:02:16,319 --> 00:02:20,239
of

00:02:16,640 --> 00:02:23,360
of the month at 9 30 am pst

00:02:20,239 --> 00:02:28,239
and you can find us on oss

00:02:23,360 --> 00:02:28,239
slack at uh sig dash aws

00:02:30,000 --> 00:02:34,239
okay uh so since last year's summit the

00:02:32,080 --> 00:02:36,400
amazon ecs provider has a couple major

00:02:34,239 --> 00:02:38,239
additions that we'd like to highlight

00:02:36,400 --> 00:02:40,239
so near the end of last year we added

00:02:38,239 --> 00:02:41,599
support for multiple load balancers

00:02:40,239 --> 00:02:44,239
so you can now route multiple load

00:02:41,599 --> 00:02:45,519
balancers to a single ecs service

00:02:44,239 --> 00:02:47,360
shortly after that we made some

00:02:45,519 --> 00:02:49,120
improvements to the caching logic for

00:02:47,360 --> 00:02:50,720
load balancer target

00:02:49,120 --> 00:02:52,959
so verifying the health of your service

00:02:50,720 --> 00:02:54,480
now takes significantly fewer calls to

00:02:52,959 --> 00:02:55,920
elastic load balancing

00:02:54,480 --> 00:02:57,440
so this reduces the amount of rate

00:02:55,920 --> 00:02:59,120
limiting errors some folks were seeing

00:02:57,440 --> 00:03:00,800
in larger accounts

00:02:59,120 --> 00:03:03,120
we also added support for gating

00:03:00,800 --> 00:03:04,640
deployments on container health checks

00:03:03,120 --> 00:03:06,879
so this means that if you're not using a

00:03:04,640 --> 00:03:08,400
load balancer you can use a programmatic

00:03:06,879 --> 00:03:10,159
health check to determine whether your

00:03:08,400 --> 00:03:11,840
deployment was a success

00:03:10,159 --> 00:03:13,280
versus just verifying whether or not the

00:03:11,840 --> 00:03:15,200
tasks are running

00:03:13,280 --> 00:03:17,280
we also added some previously missing

00:03:15,200 --> 00:03:19,040
load balancer views in deck

00:03:17,280 --> 00:03:22,080
so load balancers used for your amazon

00:03:19,040 --> 00:03:23,920
ecs services can now be viewed in the ui

00:03:22,080 --> 00:03:25,840
and finally we just added integration

00:03:23,920 --> 00:03:27,680
tests and functional ui tests for the

00:03:25,840 --> 00:03:29,680
amazon ecs provider

00:03:27,680 --> 00:03:31,360
so now every pull request on deck or

00:03:29,680 --> 00:03:32,080
cloud driver runs additional

00:03:31,360 --> 00:03:33,680
verification

00:03:32,080 --> 00:03:36,159
that ecs features are working as

00:03:33,680 --> 00:03:36,159
intended

00:03:36,879 --> 00:03:40,159
another highlight is a plugin that was

00:03:39,200 --> 00:03:43,280
developed to

00:03:40,159 --> 00:03:46,319
improve integration with aws lambda

00:03:43,280 --> 00:03:48,640
this includes handling traffic shaping

00:03:46,319 --> 00:03:50,799
as well as new views for the trigger and

00:03:48,640 --> 00:03:53,040
deployment stage

00:03:50,799 --> 00:03:54,239
if you're interested in in this plugin a

00:03:53,040 --> 00:03:57,200
link is provided

00:03:54,239 --> 00:03:58,720
where you can go and uh there are going

00:03:57,200 --> 00:04:01,200
to be more updates

00:03:58,720 --> 00:04:02,480
that will be coming for this plugin over

00:04:01,200 --> 00:04:05,040
the course of the next

00:04:02,480 --> 00:04:05,040
few months

00:04:06,400 --> 00:04:09,599
one of the main highlights from this

00:04:08,480 --> 00:04:12,239
year for ec2

00:04:09,599 --> 00:04:12,879
is the addition of support for launch

00:04:12,239 --> 00:04:15,360
templates

00:04:12,879 --> 00:04:17,519
so currently we support launch

00:04:15,360 --> 00:04:18,639
configurations and launch templates are

00:04:17,519 --> 00:04:21,120
the successor

00:04:18,639 --> 00:04:23,120
of launch configurations so that means

00:04:21,120 --> 00:04:25,360
that any new feature that aws

00:04:23,120 --> 00:04:27,280
adds for instance configuration from

00:04:25,360 --> 00:04:30,320
this point forward will only

00:04:27,280 --> 00:04:31,759
be added to launch templates and so now

00:04:30,320 --> 00:04:32,560
that we have added that support it

00:04:31,759 --> 00:04:34,479
unlocks

00:04:32,560 --> 00:04:36,400
a lot of new capabilities that we can

00:04:34,479 --> 00:04:39,280
have for our asgs

00:04:36,400 --> 00:04:41,120
for our ec2 asgs and along with launch

00:04:39,280 --> 00:04:43,520
template support we've also

00:04:41,120 --> 00:04:44,880
released the first two launch template

00:04:43,520 --> 00:04:48,160
supported features

00:04:44,880 --> 00:04:50,479
which is ipv6 and imdsv2

00:04:48,160 --> 00:04:51,280
so you can now create or modify a server

00:04:50,479 --> 00:04:53,280
group that

00:04:51,280 --> 00:04:54,720
opts all of its instances into these new

00:04:53,280 --> 00:04:57,280
features

00:04:54,720 --> 00:04:58,080
most of this is available now but for

00:04:57,280 --> 00:04:59,600
00:04:58,080 --> 00:05:02,880
of these features those will be

00:04:59,600 --> 00:05:02,880
available on the next release

00:05:05,120 --> 00:05:09,360
and another addition to spinnaker since

00:05:07,840 --> 00:05:12,960
the last spinnaker summit

00:05:09,360 --> 00:05:13,360
was aws could build support so you can

00:05:12,960 --> 00:05:15,680
now

00:05:13,360 --> 00:05:18,080
plug in aws code build with fully

00:05:15,680 --> 00:05:20,560
managed builds running on aws

00:05:18,080 --> 00:05:22,320
into your spinnaker pipelines and

00:05:20,560 --> 00:05:23,600
there's two ways to do that you can

00:05:22,320 --> 00:05:25,680
either

00:05:23,600 --> 00:05:27,440
trigger your could build builds directly

00:05:25,680 --> 00:05:29,039
from your search code provider like on a

00:05:27,440 --> 00:05:30,960
push to github

00:05:29,039 --> 00:05:32,960
and then you can actually trigger your

00:05:30,960 --> 00:05:33,840
spinnaker pipelines once that code build

00:05:32,960 --> 00:05:36,160
build

00:05:33,840 --> 00:05:37,919
is done and successful and then you can

00:05:36,160 --> 00:05:38,240
use the artifacts from that build later

00:05:37,919 --> 00:05:40,560
on

00:05:38,240 --> 00:05:42,080
in your pipeline and deploy them out to

00:05:40,560 --> 00:05:44,960
your services

00:05:42,080 --> 00:05:47,440
or you can directly plug code build into

00:05:44,960 --> 00:05:49,440
your pipeline as a step in your pipeline

00:05:47,440 --> 00:05:50,800
so once your pipeline gets triggered for

00:05:49,440 --> 00:05:53,600
example from a push

00:05:50,800 --> 00:05:54,560
to github you can automatically have

00:05:53,600 --> 00:05:57,199
your pipeline

00:05:54,560 --> 00:05:58,560
run a building code build and then move

00:05:57,199 --> 00:06:01,840
forward with the artifact from that

00:05:58,560 --> 00:06:01,840
build once it's successful

00:06:02,880 --> 00:06:07,759
and then another new contribution is

00:06:05,360 --> 00:06:10,319
support for aws secrets manager

00:06:07,759 --> 00:06:12,400
so aws secrets manager is a secure way

00:06:10,319 --> 00:06:15,199
to store secrets like passwords

00:06:12,400 --> 00:06:15,919
in aws and then you can use those

00:06:15,199 --> 00:06:18,240
secrets

00:06:15,919 --> 00:06:20,000
as sort of secret configuration in your

00:06:18,240 --> 00:06:22,639
pipeline if you need

00:06:20,000 --> 00:06:24,400
um passwords or anything else in your

00:06:22,639 --> 00:06:26,160
pipeline configuration or in your

00:06:24,400 --> 00:06:28,800
spinnaker configuration

00:06:26,160 --> 00:06:29,520
you can use secrets manager as a

00:06:28,800 --> 00:06:32,840
provider

00:06:29,520 --> 00:06:35,840
in the aws or in the spinnaker secrets

00:06:32,840 --> 00:06:35,840
engine

00:06:36,720 --> 00:06:40,479
and then another improvement this year

00:06:38,560 --> 00:06:43,280
has been documentation

00:06:40,479 --> 00:06:45,440
and showing you how to easily get

00:06:43,280 --> 00:06:48,560
started with spinnaker and install it

00:06:45,440 --> 00:06:49,360
on aws we have this new blog post and

00:06:48,560 --> 00:06:51,039
then we also have

00:06:49,360 --> 00:06:52,560
updates into the main spinnaker

00:06:51,039 --> 00:06:55,599
documentation

00:06:52,560 --> 00:06:57,840
for how to set up an eks cluster with

00:06:55,599 --> 00:07:00,479
eks control the eks

00:06:57,840 --> 00:07:02,800
command line tool and then how to

00:07:00,479 --> 00:07:04,160
install spinnaker onto that new eks

00:07:02,800 --> 00:07:09,759
cluster and start

00:07:04,160 --> 00:07:09,759
deploying out to aws with spinnaker

00:07:11,599 --> 00:07:16,400
so uh from everyone here at the sig weed

00:07:14,639 --> 00:07:17,199
love uh we really want to give a big

00:07:16,400 --> 00:07:20,240
shout out to

00:07:17,199 --> 00:07:21,759
everyone who's contributed i know claire

00:07:20,240 --> 00:07:23,919
allison have made some big big

00:07:21,759 --> 00:07:26,000
contributions so thank you both of you

00:07:23,919 --> 00:07:28,400
as well as everyone else from the aws

00:07:26,000 --> 00:07:30,880
team and the open source community

00:07:28,400 --> 00:07:31,759
uh there's a amazing amount of work

00:07:30,880 --> 00:07:35,199
we've done

00:07:31,759 --> 00:07:37,199
to improve uh spinnaker working on aws

00:07:35,199 --> 00:07:39,599
and i'm hoping next year is going to be

00:07:37,199 --> 00:07:39,599
the same

00:07:41,520 --> 00:07:44,639
so real quick some upcoming features

00:07:43,120 --> 00:07:46,000
we're looking forward to for the amazon

00:07:44,639 --> 00:07:47,840
ecs provider

00:07:46,000 --> 00:07:49,039
uh first is support for capacity

00:07:47,840 --> 00:07:50,720
provider strategies

00:07:49,039 --> 00:07:52,879
uh so this has been a long time coming

00:07:50,720 --> 00:07:54,720
so i'm excited to finally see this get

00:07:52,879 --> 00:07:56,160
worked into the provider

00:07:54,720 --> 00:07:57,840
we're also working on some additional

00:07:56,160 --> 00:08:01,039
amazon ecs feature update

00:07:57,840 --> 00:08:01,039
so stay tuned for those

00:08:02,479 --> 00:08:07,199
for some upcoming ec2 features we are

00:08:05,440 --> 00:08:08,639
building onto the launch template

00:08:07,199 --> 00:08:11,759
support by enabling

00:08:08,639 --> 00:08:13,520
some more features that we now can

00:08:11,759 --> 00:08:16,400
support and we couldn't before

00:08:13,520 --> 00:08:16,960
so one of those is spa instance support

00:08:16,400 --> 00:08:18,639
and

00:08:16,960 --> 00:08:20,639
there's a link to the project proposal

00:08:18,639 --> 00:08:23,280
where you can get a lot more details

00:08:20,639 --> 00:08:24,879
about that and some other features for

00:08:23,280 --> 00:08:26,879
your asgs are mult

00:08:24,879 --> 00:08:28,560
multiple instance types and spot

00:08:26,879 --> 00:08:30,080
allocation strategies

00:08:28,560 --> 00:08:32,159
so we're really excited about these

00:08:30,080 --> 00:08:34,479
because we weren't able to support them

00:08:32,159 --> 00:08:36,640
on launch configurations and now with

00:08:34,479 --> 00:08:41,839
launch templates we'll be able to

00:08:36,640 --> 00:08:41,839
add some more exciting features

00:08:42,800 --> 00:08:46,640
and finally um one of the other exciting

00:08:45,360 --> 00:08:49,279
things coming up soon

00:08:46,640 --> 00:08:51,839
is uh support for dynamic accounts which

00:08:49,279 --> 00:08:54,480
will allow spinnaker

00:08:51,839 --> 00:08:56,160
to add aws accounts dynamically from an

00:08:54,480 --> 00:08:57,440
external source without having to

00:08:56,160 --> 00:08:59,279
restart cloud driver

00:08:57,440 --> 00:09:00,640
so this is going to make managing and

00:08:59,279 --> 00:09:04,080
scaling up spinnaker

00:09:00,640 --> 00:09:06,399
on itunes on aws much much easier

00:09:04,080 --> 00:09:07,600
and the if you want you can go to that

00:09:06,399 --> 00:09:09,680
github url

00:09:07,600 --> 00:09:10,959
to actually look at the plugin and try

00:09:09,680 --> 00:09:12,480
using it

00:09:10,959 --> 00:09:14,080
uh and you can if you want more

00:09:12,480 --> 00:09:15,040
information you can also check out the

00:09:14,080 --> 00:09:18,080
rfc

00:09:15,040 --> 00:09:21,360
linked below uh this

00:09:18,080 --> 00:09:22,320
this is supposed to be completed um late

00:09:21,360 --> 00:09:25,440
october

00:09:22,320 --> 00:09:27,519
early november which is around now so

00:09:25,440 --> 00:09:29,600
look forward to seeing it uh and using

00:09:27,519 --> 00:09:29,600
it

00:09:30,880 --> 00:09:35,680
and just a reminder you can find us in

00:09:33,839 --> 00:09:39,200
open source spinnaker slack

00:09:35,680 --> 00:09:42,240
at sig aws we meet every

00:09:39,200 --> 00:09:43,839
third wednesday at 9 30 am pst

00:09:42,240 --> 00:09:45,600
if you go to our slack channel you'll

00:09:43,839 --> 00:09:48,800
see the meeting

00:09:45,600 --> 00:09:51,760
invite at the topic and

00:09:48,800 --> 00:09:53,360
we do regularly post uh reminders when

00:09:51,760 --> 00:09:56,560
we do have sig meetings so

00:09:53,360 --> 00:09:59,680
look out for those as well thank you so

00:09:56,560 --> 00:10:03,920
we can now move on to any questions that

00:09:59,680 --> 00:10:03,920

YouTube URL: https://www.youtube.com/watch?v=UNwYfF5dT5w


