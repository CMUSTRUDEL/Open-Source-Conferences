Title: Estelle Weyl - Mobile Web Performance
Publication date: 2017-11-20
Playlist: View Source 2017 (London)
Description: 
	View Source 2017.

View Source is a conference for front-end web developers. The goal of this event is to provide an in-depth, practical look at current and on-the-horizon technologies, with plenty of opportunities for conversation.
Captions: 
	00:00:03,410 --> 00:00:07,229
hi everyone today we're going to be

00:00:05,370 --> 00:00:10,290
talking about mobile web performance the

00:00:07,229 --> 00:00:12,870
slide deck is up at Mike github just

00:00:10,290 --> 00:00:14,070
remember my name estelle and there's

00:00:12,870 --> 00:00:18,179
actually an index page with all the

00:00:14,070 --> 00:00:21,690
talks listed there so the idea is you

00:00:18,179 --> 00:00:23,880
don't want to break the web and I

00:00:21,690 --> 00:00:25,440
basically broke my slide deck 15 minutes

00:00:23,880 --> 00:00:27,810
before going up and it's kind of

00:00:25,440 --> 00:00:29,460
intentional so you can break my slide

00:00:27,810 --> 00:00:31,949
deck but don't break the mobile web so

00:00:29,460 --> 00:00:34,769
the point of the the things you want to

00:00:31,949 --> 00:00:36,450
focus on when you are developing for the

00:00:34,769 --> 00:00:39,210
mobile web is you want your site to be

00:00:36,450 --> 00:00:41,850
fast you want to be fast to load faster

00:00:39,210 --> 00:00:44,070
render fast to respond fast to

00:00:41,850 --> 00:00:46,710
understand you also want it to be

00:00:44,070 --> 00:00:48,870
beautiful understandable and

00:00:46,710 --> 00:00:50,460
eco-friendly so the beautiful that's the

00:00:48,870 --> 00:00:52,760
developer that's the designer but

00:00:50,460 --> 00:00:54,870
everything else is your responsibility

00:00:52,760 --> 00:00:56,489
so in this talk we're going to be

00:00:54,870 --> 00:00:59,730
talking about the current mobile

00:00:56,489 --> 00:01:01,410
ecosystem some performance concerns and

00:00:59,730 --> 00:01:05,869
then some issues and solutions on how to

00:01:01,410 --> 00:01:09,869
address those so the mobile ecosystem in

00:01:05,869 --> 00:01:15,590
2016 these were the tops of phones that

00:01:09,869 --> 00:01:20,840
were sold they ranged from 172 to 670

00:01:15,590 --> 00:01:23,520
they range from one gig of ram up and

00:01:20,840 --> 00:01:28,560
they've got decent rom and some even

00:01:23,520 --> 00:01:35,659
have dual-core 1.8 gigahertz dual-core

00:01:28,560 --> 00:01:35,659
processors in terms of the world about

00:01:36,079 --> 00:01:41,249
you know we live in a country whether

00:01:39,299 --> 00:01:43,139
you're here in the UK from anywhere in

00:01:41,249 --> 00:01:45,989
Europe or in the United States anyone

00:01:43,139 --> 00:01:51,509
anyone out outside of Europe or the US

00:01:45,989 --> 00:01:53,159
here or you from Canada I should say

00:01:51,509 --> 00:01:58,000
North America but you're kind of like a

00:01:53,159 --> 00:02:00,670
suburb of New York I'm kidding

00:01:58,000 --> 00:02:02,950
so yeah uh nurse I'm an American centric

00:02:00,670 --> 00:02:04,300
like all other Americans and I'm

00:02:02,950 --> 00:02:09,490
sticking my foot further down my throat

00:02:04,300 --> 00:02:12,010
so I'll stop so if you think about the

00:02:09,490 --> 00:02:16,980
web there's over a billion people that

00:02:12,010 --> 00:02:19,930
are not yet online in India alone

00:02:16,980 --> 00:02:21,430
so I like to think about Indonesia

00:02:19,930 --> 00:02:26,160
because Indonesia has almost the same

00:02:21,430 --> 00:02:26,160
population as the United States it has

00:02:27,150 --> 00:02:32,410
Internet access

00:02:28,690 --> 00:02:36,489
Indonesia is down there and you'll see

00:02:32,410 --> 00:02:38,709
it's completely green right here you can

00:02:36,489 --> 00:02:44,770
get internet access Wi-Fi no matter

00:02:38,709 --> 00:02:47,770
where you are and yet the same number of

00:02:44,770 --> 00:02:49,480
people are online in an indicia that are

00:02:47,770 --> 00:02:51,450
offline in the United States and the

00:02:49,480 --> 00:02:54,400
same number of people that are offline

00:02:51,450 --> 00:02:57,450
or online in the United States are

00:02:54,400 --> 00:03:00,730
offline in Indonesia pretty much so

00:02:57,450 --> 00:03:05,769
let's talk about their phones this is

00:03:00,730 --> 00:03:09,100
what they're using in 2016 so the top

00:03:05,769 --> 00:03:12,459
phones are affordable future phones that

00:03:09,100 --> 00:03:15,340
cost $27 that has 32 megabytes of RAM

00:03:12,459 --> 00:03:22,930
there are some smart phones including

00:03:15,340 --> 00:03:28,959
the the Infinix hot 2 x5o and the techno

00:03:22,930 --> 00:03:29,880
p5 which has a dual 1.0 dual core so two

00:03:28,959 --> 00:03:34,000
gigs

00:03:29,880 --> 00:03:36,579
gigarth total what you need to realize

00:03:34,000 --> 00:03:40,660
is why you have this limited ram of 32

00:03:36,579 --> 00:03:43,180
to 1.2 gigs when you are running

00:03:40,660 --> 00:03:44,769
something on your phone you are running

00:03:43,180 --> 00:03:47,980
your operating system so the browser

00:03:44,769 --> 00:03:50,470
only has what's left and this was my

00:03:47,980 --> 00:03:52,900
phone when I had 3/4 of a gig so it's

00:03:50,470 --> 00:03:54,040
not my newest phone and my newest phone

00:03:52,900 --> 00:03:56,230
is really old so it doesn't really

00:03:54,040 --> 00:03:57,970
matter but the day I bought my phone

00:03:56,230 --> 00:04:01,799
this was what was running on my phone I

00:03:57,970 --> 00:04:04,060
had either 73 Meg's of RAM available or

00:04:01,799 --> 00:04:06,459
182 I didn't really know how to read it

00:04:04,060 --> 00:04:09,200
but basically I was sold something with

00:04:06,459 --> 00:04:13,300
3/4 of a gig and I had less

00:04:09,200 --> 00:04:16,220
in one quarter of a gig mobile phones

00:04:13,300 --> 00:04:20,359
our mobile devices are kind of like

00:04:16,220 --> 00:04:23,570
computers I mean they have increasing

00:04:20,359 --> 00:04:26,630
CPUs increasing prevalence at the NSC

00:04:23,570 --> 00:04:29,330
improves ram we're getting there but

00:04:26,630 --> 00:04:31,729
what's happening is as developers we're

00:04:29,330 --> 00:04:34,580
developing on the equivalent of what is

00:04:31,729 --> 00:04:37,040
an airplane when in Indonesia the most

00:04:34,580 --> 00:04:38,930
common phone is the equivalent of a

00:04:37,040 --> 00:04:40,220
paper airplane I'm not saying you should

00:04:38,930 --> 00:04:43,250
be developing your site for the paper

00:04:40,220 --> 00:04:46,160
airplane but do develop your site for a

00:04:43,250 --> 00:04:50,080
drone that has a limited battery and a

00:04:46,160 --> 00:04:54,740
camera because battery is a major issue

00:04:50,080 --> 00:04:56,360
the average cell phone has a battery

00:04:54,740 --> 00:04:57,590
that is less powerful than that battery

00:04:56,360 --> 00:05:00,889
then that battery the little battery

00:04:57,590 --> 00:05:04,760
right there so we have dual-core

00:05:00,889 --> 00:05:07,990
processors right but we have that crappy

00:05:04,760 --> 00:05:11,900
battery so let's just take a look at the

00:05:07,990 --> 00:05:20,240
the iPhone the iPhone has a battery that

00:05:11,900 --> 00:05:22,789
is seven 1715 milliamp hours this

00:05:20,240 --> 00:05:25,250
battery right here is two thousand so

00:05:22,789 --> 00:05:27,289
that is a crappy battery like the drawer

00:05:25,250 --> 00:05:28,729
cell was actually a better battery at

00:05:27,289 --> 00:05:29,900
least according to advertisements that

00:05:28,729 --> 00:05:31,039
I've seen on television in the United

00:05:29,900 --> 00:05:33,820
States I don't actually know all the

00:05:31,039 --> 00:05:35,389
specs of both but you're running

00:05:33,820 --> 00:05:38,240
something with a really powerful

00:05:35,389 --> 00:05:40,820
processor with the battery that is never

00:05:38,240 --> 00:05:42,979
that cannot handle that processor so

00:05:40,820 --> 00:05:45,500
you're being sold these processors but

00:05:42,979 --> 00:05:46,940
no one can actually use that speed so

00:05:45,500 --> 00:05:48,919
the battery is really the limiting

00:05:46,940 --> 00:05:50,150
device on a mobile device so you really

00:05:48,919 --> 00:05:55,010
have to think about it so when you are

00:05:50,150 --> 00:06:01,130
thinking about different devices realize

00:05:55,010 --> 00:06:03,919
that the watch the fridge the TV is not

00:06:01,130 --> 00:06:08,210
a laptop some of those are plugged in

00:06:03,919 --> 00:06:09,860
like the browser on your fridge but some

00:06:08,210 --> 00:06:11,840
like the one on your watch and the one

00:06:09,860 --> 00:06:15,800
in your pocket they don't their

00:06:11,840 --> 00:06:18,500
batteries is is is quickly draining

00:06:15,800 --> 00:06:19,820
there's latency issues there's memory

00:06:18,500 --> 00:06:21,020
issues and you also have to think about

00:06:19,820 --> 00:06:23,300
responsiveness

00:06:21,020 --> 00:06:24,500
the browser is basically equivalent to

00:06:23,300 --> 00:06:27,020
the desktop I mean you have all

00:06:24,500 --> 00:06:29,120
capabilities but you have a device that

00:06:27,020 --> 00:06:30,560
isn't you have less powerful CPUs

00:06:29,120 --> 00:06:34,910
because even though you might have a

00:06:30,560 --> 00:06:37,040
dual dual core the battery is like

00:06:34,910 --> 00:06:38,540
you've you've warmed up your phone it's

00:06:37,040 --> 00:06:40,790
not even at full force when you want one

00:06:38,540 --> 00:06:43,460
your phone's warmed up it's not plugged

00:06:40,790 --> 00:06:47,330
in people have meter data plenty screens

00:06:43,460 --> 00:06:48,200
and different interactions ok so let's

00:06:47,330 --> 00:06:52,070
talk a little bit about mobile

00:06:48,200 --> 00:06:54,560
performance concerns dawn rope just

00:06:52,070 --> 00:06:56,240
because you're no one uses your mobile

00:06:54,560 --> 00:06:58,310
site doesn't mean that you don't need to

00:06:56,240 --> 00:06:59,900
improve it that it doesn't mean you

00:06:58,310 --> 00:07:01,580
don't need to work on it maybe no one is

00:06:59,900 --> 00:07:04,970
going to your mobile site because it's a

00:07:01,580 --> 00:07:07,250
shitty experience she was more polite

00:07:04,970 --> 00:07:09,680
than I was and did not swear and then

00:07:07,250 --> 00:07:12,080
Stephen wrote I remember one 3G was the

00:07:09,680 --> 00:07:14,240
primary of mobile speed Stephens in the

00:07:12,080 --> 00:07:16,490
United States in California it was slow

00:07:14,240 --> 00:07:19,100
but it still worked so why now when

00:07:16,490 --> 00:07:21,230
iphone says 3g and this was a year ago

00:07:19,100 --> 00:07:23,690
it becomes completely useless well maybe

00:07:21,230 --> 00:07:30,110
this is the reason why when we started

00:07:23,690 --> 00:07:35,680
off with the 2g or even 3G the average

00:07:30,110 --> 00:07:38,150
website was 0.7 Meg's 702 kilobytes as

00:07:35,680 --> 00:07:42,440
of the beginning of this month we are at

00:07:38,150 --> 00:07:43,580
three point three megabytes that's a

00:07:42,440 --> 00:07:48,890
difference of four hundred and seventy

00:07:43,580 --> 00:07:50,450
nine percent that's seven years so let

00:07:48,890 --> 00:07:54,440
me tell you a little story and this is a

00:07:50,450 --> 00:07:57,110
really old stories from 2012 in 2012 the

00:07:54,440 --> 00:08:00,170
average web site was probably one Meg or

00:07:57,110 --> 00:08:03,410
one point to YouTube had 58 requests and

00:08:00,170 --> 00:08:06,860
one point to mix so someone on the team

00:08:03,410 --> 00:08:10,900
did a study or you know on is 20% time

00:08:06,860 --> 00:08:14,510
did a thing called feathers and it was a

00:08:10,900 --> 00:08:16,550
mobile YouTube site and had 14 requests

00:08:14,510 --> 00:08:19,430
he basically gave himself a budget and

00:08:16,550 --> 00:08:21,080
said I want to be under a hundred K and

00:08:19,430 --> 00:08:23,570
he went under kind of pay he want to do

00:08:21,080 --> 00:08:25,030
12 requests but he was at 14 and that's

00:08:23,570 --> 00:08:28,800
good enough

00:08:25,030 --> 00:08:31,150
so he launched this site at 100k and

00:08:28,800 --> 00:08:32,979
then two weeks later he looked at his

00:08:31,150 --> 00:08:37,570
stats and the average download speed

00:08:32,979 --> 00:08:41,169
increased by two minutes so you're

00:08:37,570 --> 00:08:42,729
thinking that's one six or one twelve of

00:08:41,169 --> 00:08:45,670
this size and it increased by two

00:08:42,729 --> 00:08:49,030
minutes what happened well people were

00:08:45,670 --> 00:08:50,950
accessed seed his Mobile's his rather it

00:08:49,030 --> 00:08:52,810
wasn't mobile it was just regular peor

00:08:50,950 --> 00:08:55,030
and it was also worked on mobile people

00:08:52,810 --> 00:08:57,310
in Siberia and Africa were finally able

00:08:55,030 --> 00:08:59,890
to get YouTube videos and so they were

00:08:57,310 --> 00:09:02,200
willing to wait the two minutes a friend

00:08:59,890 --> 00:09:04,360
of mine had a problem with a site and he

00:09:02,200 --> 00:09:05,680
asks the person you know like someone

00:09:04,360 --> 00:09:07,240
contact him from India's and I have this

00:09:05,680 --> 00:09:09,100
issue with your site and said oh by the

00:09:07,240 --> 00:09:11,020
way tell me how does it how fast does it

00:09:09,100 --> 00:09:14,050
take to load he goes oh it's under 30

00:09:11,020 --> 00:09:15,850
seconds it's really good you know so we

00:09:14,050 --> 00:09:18,010
have a different perspective but you are

00:09:15,850 --> 00:09:19,630
opening up new markets if you're the

00:09:18,010 --> 00:09:21,610
fastest in that market

00:09:19,630 --> 00:09:24,730
so you haven't you want your page load

00:09:21,610 --> 00:09:26,170
of time to be one second or less but if

00:09:24,730 --> 00:09:29,410
your competitor is four minutes and

00:09:26,170 --> 00:09:32,440
you're 18 seconds in Siberia you're

00:09:29,410 --> 00:09:35,140
doing well okay so in terms of web

00:09:32,440 --> 00:09:36,670
performance you have to think about the

00:09:35,140 --> 00:09:38,350
number of resources you're downloading

00:09:36,670 --> 00:09:40,480
that includes all the images JavaScript

00:09:38,350 --> 00:09:42,910
blah blah blah blah blah which is now at

00:09:40,480 --> 00:09:45,040
three point three Meg's on average all

00:09:42,910 --> 00:09:49,570
that information needs to be parsed and

00:09:45,040 --> 00:09:51,010
executed and paint into the screen but

00:09:49,570 --> 00:09:52,870
even though if you're measuring all your

00:09:51,010 --> 00:09:54,280
metrics you stop to think about what is

00:09:52,870 --> 00:09:56,740
perceived performance what are your

00:09:54,280 --> 00:10:00,370
users perceiving as the metrics don't

00:09:56,740 --> 00:10:02,740
really tell you everything you want to

00:10:00,370 --> 00:10:05,050
make your website's best so let's look

00:10:02,740 --> 00:10:07,180
at some of the issues and solutions what

00:10:05,050 --> 00:10:10,210
we've talked about so far is basically

00:10:07,180 --> 00:10:12,310
some of the knowns that we have you are

00:10:10,210 --> 00:10:13,810
in control as developers we control the

00:10:12,310 --> 00:10:16,810
number of HTTP requests that we put out

00:10:13,810 --> 00:10:18,730
we control the number of bytes we

00:10:16,810 --> 00:10:22,210
control whether we have animations and

00:10:18,730 --> 00:10:24,430
whether those animations can be paint as

00:10:22,210 --> 00:10:26,200
a page whether all the JavaScript can be

00:10:24,430 --> 00:10:28,210
run and the animation can be painted to

00:10:26,200 --> 00:10:30,570
the page in less than sixteen point six

00:10:28,210 --> 00:10:33,330
seven milliseconds

00:10:30,570 --> 00:10:35,360
we also can control the squishiness of

00:10:33,330 --> 00:10:38,040
the website and the responsiveness

00:10:35,360 --> 00:10:38,670
squishiness and responsiveness are two

00:10:38,040 --> 00:10:40,980
different things

00:10:38,670 --> 00:10:42,510
people cost something called responsive

00:10:40,980 --> 00:10:45,360
web design which to me is whether your

00:10:42,510 --> 00:10:46,680
site is squishy right if it you use a

00:10:45,360 --> 00:10:47,930
media query it makes your site squishy

00:10:46,680 --> 00:10:50,010
it does not make it responsive

00:10:47,930 --> 00:10:51,840
responsive is whether it downloads

00:10:50,010 --> 00:10:54,240
quickly and whether it reacts when you

00:10:51,840 --> 00:10:55,920
touch it so I think of those as two

00:10:54,240 --> 00:10:57,660
completely different things what we

00:10:55,920 --> 00:10:59,700
don't have control over is the network

00:10:57,660 --> 00:11:03,240
that our users are accessing our site

00:10:59,700 --> 00:11:07,410
what hardware they're using and what

00:11:03,240 --> 00:11:09,270
browser they're they're on so yeah that

00:11:07,410 --> 00:11:12,270
all the downloads basically go through

00:11:09,270 --> 00:11:14,130
the same process you make the user makes

00:11:12,270 --> 00:11:18,210
the HTTP request you have to do with the

00:11:14,130 --> 00:11:19,950
nslookup and we know what's going on you

00:11:18,210 --> 00:11:22,950
want to make these as fast as possible

00:11:19,950 --> 00:11:25,440
we know that style sheets are blocky we

00:11:22,950 --> 00:11:27,840
know that scripts are blocky but we also

00:11:25,440 --> 00:11:30,150
have to think about every DNS lookup

00:11:27,840 --> 00:11:33,210
that we do especially in the mobile

00:11:30,150 --> 00:11:34,410
space because when you are on desktop

00:11:33,210 --> 00:11:37,620
when you're tethered or when you're on

00:11:34,410 --> 00:11:40,830
this Wi-Fi your computer or your laptop

00:11:37,620 --> 00:11:44,700
that's on the Wi-Fi says hey I want to

00:11:40,830 --> 00:11:46,970
go to this site google.com it goes to a

00:11:44,700 --> 00:11:50,970
DNS server says what is that IP address

00:11:46,970 --> 00:11:54,210
sends it back really quick when you're

00:11:50,970 --> 00:11:55,920
exploring to a cell tower it's basically

00:11:54,210 --> 00:11:58,260
saying let me see if I can make these

00:11:55,920 --> 00:12:01,230
bigger there we go

00:11:58,260 --> 00:12:03,900
you're going from your phone to the cell

00:12:01,230 --> 00:12:05,760
tower to the phone company which then

00:12:03,900 --> 00:12:07,470
does a DNS lookup which sends the IP

00:12:05,760 --> 00:12:08,610
address back to the phone company back

00:12:07,470 --> 00:12:10,800
to the cell tower and back to your

00:12:08,610 --> 00:12:12,960
device and then you can finally make the

00:12:10,800 --> 00:12:18,030
request so it takes much longer when

00:12:12,960 --> 00:12:20,820
you're on on J 2 or 3 or edge or

00:12:18,030 --> 00:12:24,590
whatever and where's the 1 & 2 is that

00:12:20,820 --> 00:12:27,720
is actually where the largest latency is

00:12:24,590 --> 00:12:31,410
so there's some things that we can do to

00:12:27,720 --> 00:12:33,510
make it to help with latency or to hurt

00:12:31,410 --> 00:12:36,930
latency but sometimes hurting latency is

00:12:33,510 --> 00:12:39,720
a good idea so happiness yet CDN meaning

00:12:36,930 --> 00:12:41,970
that you have your assets all over the

00:12:39,720 --> 00:12:43,920
world closest to the user it's a really

00:12:41,970 --> 00:12:46,710
good idea

00:12:43,920 --> 00:12:49,230
if you do if you're like opera mobile

00:12:46,710 --> 00:12:51,780
and you have a proxy server there you

00:12:49,230 --> 00:12:55,350
want the asset your CDN to be closest to

00:12:51,780 --> 00:12:56,970
your to the servers because you're just

00:12:55,350 --> 00:12:58,620
any one request but generally you want a

00:12:56,970 --> 00:13:00,680
CDN you want to locate it over to around

00:12:58,620 --> 00:13:03,060
the world something that slows down

00:13:00,680 --> 00:13:06,210
websites but is totally worth it is

00:13:03,060 --> 00:13:08,790
having a secure site you do want to put

00:13:06,210 --> 00:13:10,830
your site serve your site over SSL the

00:13:08,790 --> 00:13:12,720
TLS handshakes take two takes two to

00:13:10,830 --> 00:13:15,450
three times as long but it's totally

00:13:12,720 --> 00:13:20,400
some like that's where you would that's

00:13:15,450 --> 00:13:23,640
okay to add weight if you are what you

00:13:20,400 --> 00:13:26,760
need to realize is that the network is

00:13:23,640 --> 00:13:29,130
basically only going to be as fast as

00:13:26,760 --> 00:13:33,090
your slowest packet so if you're

00:13:29,130 --> 00:13:35,310
developing a especially native ads this

00:13:33,090 --> 00:13:37,410
is just for future thinking bbr

00:13:35,310 --> 00:13:40,620
congestion control allows it to be

00:13:37,410 --> 00:13:42,330
faster than your and this is the Google

00:13:40,620 --> 00:13:44,520
cloud has implemented bbr congestion

00:13:42,330 --> 00:13:47,310
control not fully roll up into the talk

00:13:44,520 --> 00:13:50,010
but there is a link to that in case you

00:13:47,310 --> 00:13:52,290
want to read up on it and dynamic packet

00:13:50,010 --> 00:13:55,050
recovery is similar to be be our

00:13:52,290 --> 00:14:00,480
congestion controls so that basically

00:13:55,050 --> 00:14:02,550
says unblocked bottlenecks and recovers

00:14:00,480 --> 00:14:04,020
dot packets so if you're doing that look

00:14:02,550 --> 00:14:08,820
into those things but let me get back on

00:14:04,020 --> 00:14:13,380
topic so in 2015 Google came out with

00:14:08,820 --> 00:14:18,840
rail which is a misnomer it's actually

00:14:13,380 --> 00:14:20,220
liar and for the two reasons one because

00:14:18,840 --> 00:14:22,530
you're never going to actually get a

00:14:20,220 --> 00:14:24,510
page load of one second but if you look

00:14:22,530 --> 00:14:28,200
at the colors they're in order of load

00:14:24,510 --> 00:14:30,420
idle animation and response so those

00:14:28,200 --> 00:14:31,620
recommendations had four things but I'm

00:14:30,420 --> 00:14:34,140
going to talk about two which is the

00:14:31,620 --> 00:14:36,630
page load of under a second and the idle

00:14:34,140 --> 00:14:38,010
of under 50 seconds and idle of under 50

00:14:36,630 --> 00:14:39,480
seconds you know two page load of under

00:14:38,010 --> 00:14:41,460
a second means but an idle of under 50

00:14:39,480 --> 00:14:43,590
seconds mean whenever you're running the

00:14:41,460 --> 00:14:45,660
script do it in chunks of 50

00:14:43,590 --> 00:14:47,970
milliseconds or less because if it's if

00:14:45,660 --> 00:14:50,790
you're if you're using up the you main

00:14:47,970 --> 00:14:53,310
UI thread for more than 50 milliseconds

00:14:50,790 --> 00:14:54,910
your site is not going to be inter it's

00:14:53,310 --> 00:14:58,150
not going to

00:14:54,910 --> 00:15:01,290
be responsive people are in touch things

00:14:58,150 --> 00:15:03,490
it's not going to react these are some

00:15:01,290 --> 00:15:05,110
this is the navigation timing API

00:15:03,490 --> 00:15:11,290
metrics and I basically just put them in

00:15:05,110 --> 00:15:13,240
for the colors so because DNS don't I'm

00:15:11,290 --> 00:15:15,580
content loaded and onload are things

00:15:13,240 --> 00:15:16,930
that we look at a lot and you want to

00:15:15,580 --> 00:15:20,020
minimize all of those right you want to

00:15:16,930 --> 00:15:24,850
minimize all of these times so here is a

00:15:20,020 --> 00:15:30,130
site and this is the thirty seven second

00:15:24,850 --> 00:15:34,930
mark where the pink ends so it loads in

00:15:30,130 --> 00:15:38,440
six seconds the document complete is at

00:15:34,930 --> 00:15:42,400
twenty nine seconds and the UI thread is

00:15:38,440 --> 00:15:46,960
finished at it's available at thirty six

00:15:42,400 --> 00:15:50,620
seconds that's a so when you're actually

00:15:46,960 --> 00:15:54,600
measuring things don't just measure page

00:15:50,620 --> 00:15:54,600
flow time because that looks good right

00:15:55,170 --> 00:16:00,370
so basically I've told you what we have

00:15:57,880 --> 00:16:01,990
control over and what you should

00:16:00,370 --> 00:16:03,160
actually realize is that we do have a

00:16:01,990 --> 00:16:04,990
little bit of control over the network

00:16:03,160 --> 00:16:07,060
latency and bandwidth those are things

00:16:04,990 --> 00:16:10,060
that we can actually have an impact on

00:16:07,060 --> 00:16:14,530
by reducing the number of DNS by having

00:16:10,060 --> 00:16:15,760
a CDN so I created this website and I'll

00:16:14,530 --> 00:16:18,900
just let you read it for a second

00:16:15,760 --> 00:16:18,900
because I think it's really funny

00:16:20,970 --> 00:16:29,560
it was my April Fool's joke so I decided

00:16:24,340 --> 00:16:31,030
to try to make this fast and the reason

00:16:29,560 --> 00:16:32,980
I pointed out that the last one was all

00:16:31,030 --> 00:16:35,770
the way to 60 seconds is because this

00:16:32,980 --> 00:16:40,810
ends at one point two seconds so you can

00:16:35,770 --> 00:16:43,060
load a page in under a second and this

00:16:40,810 --> 00:16:44,560
is actually Google Analytics so I just

00:16:43,060 --> 00:16:49,510
removed Google Analytics and now we're

00:16:44,560 --> 00:16:52,510
at 28 seconds right there so why am i

00:16:49,510 --> 00:16:54,040
showing you this because I used some

00:16:52,510 --> 00:16:57,040
tools to help me figure out where I

00:16:54,040 --> 00:16:58,450
could improve so there's several tools

00:16:57,040 --> 00:17:00,970
and there's several rules

00:16:58,450 --> 00:17:04,540
there's yslow which came out many many

00:17:00,970 --> 00:17:07,980
years ago and it gave us 14 rules and

00:17:04,540 --> 00:17:07,980
gave you a great of a through F and

00:17:08,279 --> 00:17:14,859
what was I going to say and so I used it

00:17:12,429 --> 00:17:16,569
for like 3-4 months and then I memorized

00:17:14,859 --> 00:17:17,859
all the rules and I never checked my

00:17:16,569 --> 00:17:20,469
grades again but that actually helped me

00:17:17,859 --> 00:17:22,749
do well in performance Speight PHP has

00:17:20,469 --> 00:17:25,029
had more rules webpagetest is a great

00:17:22,749 --> 00:17:28,809
place I'll add links to all of these

00:17:25,029 --> 00:17:30,279
I'll highlight put those in blue I'll

00:17:28,809 --> 00:17:31,330
update them so when you go back to this

00:17:30,279 --> 00:17:32,559
deck you actually have all the

00:17:31,330 --> 00:17:35,169
information

00:17:32,559 --> 00:17:36,489
there's developer tools which those were

00:17:35,169 --> 00:17:38,529
screenshots actually those were

00:17:36,489 --> 00:17:39,369
screenshots of webpage tests but they

00:17:38,529 --> 00:17:41,259
should support

00:17:39,369 --> 00:17:43,029
there's developer tools which has flame

00:17:41,259 --> 00:17:44,469
charts all of these things can help you

00:17:43,029 --> 00:17:46,089
and then there's a new tool called

00:17:44,469 --> 00:17:48,879
lighthouse which I'll cover in a second

00:17:46,089 --> 00:17:51,849
but these are some of the rules that

00:17:48,879 --> 00:17:57,369
they come up with I disagree with one of

00:17:51,849 --> 00:18:00,129
them which is um but generally they're

00:17:57,369 --> 00:18:04,419
they're all good rules so let's talk

00:18:00,129 --> 00:18:07,839
about lighthouse lighthouse which at

00:18:04,419 --> 00:18:10,719
this point is in your chrome developer

00:18:07,839 --> 00:18:11,859
tools but it is also headless you can do

00:18:10,719 --> 00:18:15,389
headless you can do it with an NPM

00:18:11,859 --> 00:18:18,999
install all the information is up there

00:18:15,389 --> 00:18:20,259
it it tests for things it work is you

00:18:18,999 --> 00:18:22,659
information on for things it gives you

00:18:20,259 --> 00:18:24,339
information about what how far along you

00:18:22,659 --> 00:18:26,320
are in developing a progressive web app

00:18:24,339 --> 00:18:28,599
with a web app checks with the PWI

00:18:26,320 --> 00:18:30,639
checklist it checks your performance it

00:18:28,599 --> 00:18:36,190
checks your accessibility and it checks

00:18:30,639 --> 00:18:38,469
your best practices so this is what my

00:18:36,190 --> 00:18:41,080
site looked like when I first that

00:18:38,469 --> 00:18:42,279
machine learning workshop for computers

00:18:41,080 --> 00:18:45,759
who want to learn good and do other

00:18:42,279 --> 00:18:47,080
stuff good too it was definitely on a

00:18:45,759 --> 00:18:49,779
progressive web app I had some

00:18:47,080 --> 00:18:52,629
performance issues because I always

00:18:49,779 --> 00:18:54,999
develop with accessibility in mind I did

00:18:52,629 --> 00:18:58,599
pretty well but I had some best

00:18:54,999 --> 00:19:01,719
practices issues so basically the reason

00:18:58,599 --> 00:19:04,509
I'm pointing this out is because it told

00:19:01,719 --> 00:19:07,779
me what my problems were and it helped

00:19:04,509 --> 00:19:11,609
me build a better site so use this as a

00:19:07,779 --> 00:19:13,629
learning tool it's called lighthouse so

00:19:11,609 --> 00:19:16,139
the way lighthouse works

00:19:13,629 --> 00:19:16,139
oops

00:19:16,820 --> 00:19:23,220
I'm gonna open up a different window so

00:19:19,790 --> 00:19:26,970
what you do for lighthouse is you open

00:19:23,220 --> 00:19:29,430
up a website you go into your audits

00:19:26,970 --> 00:19:31,770
panel and you click perform an audit and

00:19:29,430 --> 00:19:32,780
it gives you four choices I leave them

00:19:31,770 --> 00:19:35,100
all

00:19:32,780 --> 00:19:37,380
definitely check accessibility not just

00:19:35,100 --> 00:19:38,970
performance because if your site isn't

00:19:37,380 --> 00:19:40,080
accessible it doesn't matter how fast it

00:19:38,970 --> 00:19:42,360
downloads that they can't use it once

00:19:40,080 --> 00:19:45,300
it's downloaded right and you run the

00:19:42,360 --> 00:19:48,030
audit it checks to see how works in

00:19:45,300 --> 00:19:50,310
mobile it it's a bandwidth

00:19:48,030 --> 00:19:53,130
it checks to see if the sizes is the

00:19:50,310 --> 00:19:56,190
same size as your report etc and then it

00:19:53,130 --> 00:20:00,810
gives you a results so I sped up and got

00:19:56,190 --> 00:20:01,710
the result already the cool thing is if

00:20:00,810 --> 00:20:04,200
I can get to it

00:20:01,710 --> 00:20:06,150
apparently not is this little button

00:20:04,200 --> 00:20:09,930
right there which allows you to download

00:20:06,150 --> 00:20:12,660
it and save it so once you've downloaded

00:20:09,930 --> 00:20:18,320
it this is my talk yes it is I can just

00:20:12,660 --> 00:20:20,760
click here open up my final store and

00:20:18,320 --> 00:20:23,550
review it so when you are using

00:20:20,760 --> 00:20:25,440
lighthouse grab a screenshot or grab one

00:20:23,550 --> 00:20:27,660
when you first start so you can feel

00:20:25,440 --> 00:20:30,420
better about yourself at the end because

00:20:27,660 --> 00:20:33,930
I got up to 64% why didn't I get up to

00:20:30,420 --> 00:20:35,970
100% because it's a single page static

00:20:33,930 --> 00:20:37,650
website and there's no we - any reason

00:20:35,970 --> 00:20:40,290
to add JavaScript so that I have a

00:20:37,650 --> 00:20:42,090
framework or so that I've serviceworkers

00:20:40,290 --> 00:20:45,780
for push notifications or anything else

00:20:42,090 --> 00:20:47,670
to have it work offline I could but then

00:20:45,780 --> 00:20:49,320
it would load slower the first time in I

00:20:47,670 --> 00:20:51,270
don't think anyone's gonna go to my site

00:20:49,320 --> 00:20:55,200
twice except for me cuz I like it and I

00:20:51,270 --> 00:20:58,190
think it's funny okay so solutions step

00:20:55,200 --> 00:21:01,880
number one to make your mobile website

00:20:58,190 --> 00:21:05,370
performant is to not be a jerk and you

00:21:01,880 --> 00:21:08,100
are a jerk if you tell your users that

00:21:05,370 --> 00:21:11,220
they can't zoom in or zoom out on your

00:21:08,100 --> 00:21:13,680
website and if you don't serve your

00:21:11,220 --> 00:21:16,200
website the same with its the device so

00:21:13,680 --> 00:21:18,500
there's a viewport meta tag so it's met

00:21:16,200 --> 00:21:21,480
a name viewport and you want to set

00:21:18,500 --> 00:21:23,720
content width equals device width and

00:21:21,480 --> 00:21:28,050
that will make your width the right size

00:21:23,720 --> 00:21:29,730
so all I did was add that one line to

00:21:28,050 --> 00:21:32,250
this Alexa home page

00:21:29,730 --> 00:21:35,549
and it went from that which is a useless

00:21:32,250 --> 00:21:37,830
website to that it didn't change the

00:21:35,549 --> 00:21:39,210
download speed at all but that performs

00:21:37,830 --> 00:21:40,650
better when users when it has

00:21:39,210 --> 00:21:44,390
performance it's all about user

00:21:40,650 --> 00:21:44,390
experience that's better user experience

00:21:45,740 --> 00:21:51,570
Gmail doesn't let you zoom right that

00:21:48,929 --> 00:21:53,850
has been a jerk if you are doing a game

00:21:51,570 --> 00:21:56,370
and the person's gonna flick the screen

00:21:53,850 --> 00:21:57,150
a bunch of times that's okay to not

00:21:56,370 --> 00:21:59,490
allow Sumi

00:21:57,150 --> 00:22:02,460
right because zooming would actually

00:21:59,490 --> 00:22:05,580
make the game not work any other

00:22:02,460 --> 00:22:08,280
scenario initial scale of one is fine

00:22:05,580 --> 00:22:11,309
but maximum scale and minimum scale and

00:22:08,280 --> 00:22:13,230
user scalable no or no no's luckily it

00:22:11,309 --> 00:22:16,140
doesn't default it defaults to initial

00:22:13,230 --> 00:22:17,760
scale one user scalable yes but you do

00:22:16,140 --> 00:22:19,410
need to put with equals device width and

00:22:17,760 --> 00:22:22,830
you do need to include the meta tag or

00:22:19,410 --> 00:22:24,929
it'll look like that other site step

00:22:22,830 --> 00:22:26,730
number two is actually hitting the

00:22:24,929 --> 00:22:28,919
lowest hanging fruit when we looked at

00:22:26,730 --> 00:22:30,960
that three point three Meg's one point

00:22:28,919 --> 00:22:33,750
eight one four Meg's

00:22:30,960 --> 00:22:36,630
I think we're images so optimizing your

00:22:33,750 --> 00:22:39,059
images is the lowest hanging fruit you

00:22:36,630 --> 00:22:42,570
want a gzip doesn't help with binary but

00:22:39,059 --> 00:22:43,980
it does help with SVG I'll go through

00:22:42,570 --> 00:22:46,110
all of these you want to remove image

00:22:43,980 --> 00:22:47,490
data don't send extra data that no one

00:22:46,110 --> 00:22:49,020
needs and not only that but it's a

00:22:47,490 --> 00:22:50,340
privacy issue they don't really need to

00:22:49,020 --> 00:22:53,700
know where you took the picture and on

00:22:50,340 --> 00:22:57,270
what day and where you live resize

00:22:53,700 --> 00:22:59,990
images sort of the smallish image file

00:22:57,270 --> 00:23:03,210
for the screen size and resolution and

00:22:59,990 --> 00:23:08,610
let me explain something here so these

00:23:03,210 --> 00:23:11,549
are basically basically the break point

00:23:08,610 --> 00:23:13,500
when you are serving images the smaller

00:23:11,549 --> 00:23:16,049
the or the bigger the image the more

00:23:13,500 --> 00:23:17,490
breakpoints you want because if you have

00:23:16,049 --> 00:23:19,830
a smaller dimension it's not the right

00:23:17,490 --> 00:23:22,559
size so you're serving an image that is

00:23:19,830 --> 00:23:23,250
240 by 240 but you really need 200 by

00:23:22,559 --> 00:23:28,559
00:23:23,250 --> 00:23:30,870
you're wasting 17,000 pixel bytes that

00:23:28,559 --> 00:23:33,210
sounds like a lot but nothing compared

00:23:30,870 --> 00:23:35,730
to the 65,000 once you get to bigger

00:23:33,210 --> 00:23:39,179
size those are all just 40 pixels by 40

00:23:35,730 --> 00:23:41,820
pixels waist right the larger the image

00:23:39,179 --> 00:23:43,120
the more pixels that is so when you do

00:23:41,820 --> 00:23:48,010
breakpoints

00:23:43,120 --> 00:23:49,990
realize that that's happening okay also

00:23:48,010 --> 00:23:52,809
you want to serve the right size image

00:23:49,990 --> 00:23:56,410
because when you have to resize an image

00:23:52,809 --> 00:23:59,800
it takes a lot more CPU and a lot more

00:23:56,410 --> 00:24:02,740
time so it takes three times as long to

00:23:59,800 --> 00:24:04,390
decode to decode the image now this is a

00:24:02,740 --> 00:24:06,790
little bit old I haven't tested this

00:24:04,390 --> 00:24:10,150
recently I'm not 100% sure if it still

00:24:06,790 --> 00:24:11,620
takes this long but it probably still

00:24:10,150 --> 00:24:16,450
takes twice as long because they have to

00:24:11,620 --> 00:24:18,970
decode it twice the blue is the decoding

00:24:16,450 --> 00:24:20,860
the green is the frame per seconds and

00:24:18,970 --> 00:24:23,920
the purple is rendering but one thing to

00:24:20,860 --> 00:24:25,809
notice is that that scale this bottom

00:24:23,920 --> 00:24:28,300
scale is from 0 to 100 and the top scale

00:24:25,809 --> 00:24:30,580
is from 0 to 200 so it's actually just

00:24:28,300 --> 00:24:31,960
make the top one twice as big this was

00:24:30,580 --> 00:24:33,820
from physics of fast which unfortunately

00:24:31,960 --> 00:24:39,610
is no longer online it was put together

00:24:33,820 --> 00:24:44,050
by the performance team at at Internet

00:24:39,610 --> 00:24:50,860
Explorer youth picture source and source

00:24:44,050 --> 00:24:53,230
set you can serve multiple images or and

00:24:50,860 --> 00:24:56,200
they'll just pick the right one so if

00:24:53,230 --> 00:24:58,210
you're doing background images you don't

00:24:56,200 --> 00:25:00,400
need you know you can use media queries

00:24:58,210 --> 00:25:02,500
and serve the right image and if you're

00:25:00,400 --> 00:25:04,090
doing foreground images there's a source

00:25:02,500 --> 00:25:05,200
element and there's also the source set

00:25:04,090 --> 00:25:09,100
attribute which you can put directly

00:25:05,200 --> 00:25:11,790
onto the image element so use these I'll

00:25:09,100 --> 00:25:14,980
add a link for a good article on this

00:25:11,790 --> 00:25:16,750
optimize all your images compression

00:25:14,980 --> 00:25:18,730
that's the easiest way to get savings

00:25:16,750 --> 00:25:21,309
it's easier than serving the right size

00:25:18,730 --> 00:25:26,500
image but it's less work basically there

00:25:21,309 --> 00:25:29,140
are some tools right there too and some

00:25:26,500 --> 00:25:33,580
of those can be automated use the right

00:25:29,140 --> 00:25:35,710
image format so some images look a

00:25:33,580 --> 00:25:39,160
better s SVG some looks better as gifts

00:25:35,710 --> 00:25:41,830
some looks better as PNG s but you don't

00:25:39,160 --> 00:25:43,300
want to serve a PNG because they're all

00:25:41,830 --> 00:25:47,820
the time because they're huge so serve

00:25:43,300 --> 00:25:50,489
web P if you can serve JPEG if you can

00:25:47,820 --> 00:25:54,090
one thing to note is

00:25:50,489 --> 00:25:59,009
if your browser these are the fastest

00:25:54,090 --> 00:26:01,139
images per browser but if you're like

00:25:59,009 --> 00:26:04,950
there's services that will automatically

00:26:01,139 --> 00:26:06,929
send the right image format without

00:26:04,950 --> 00:26:12,869
rewriting the code so you can actually

00:26:06,929 --> 00:26:14,460
send a web P with a dot jpg extension if

00:26:12,869 --> 00:26:16,049
the browser understands the media type

00:26:14,460 --> 00:26:17,820
it will decipher it even it doesn't

00:26:16,049 --> 00:26:20,489
matter if it says dot foo at the end if

00:26:17,820 --> 00:26:22,649
it knows it's a if you know if it's

00:26:20,489 --> 00:26:26,070
encoded correctly it'll work so that's

00:26:22,649 --> 00:26:28,499
kind of a trick reduce the number of

00:26:26,070 --> 00:26:30,989
images just generally just reduce the

00:26:28,499 --> 00:26:32,820
number of images but also you can use

00:26:30,989 --> 00:26:34,979
sprites or if you're going to have to

00:26:32,820 --> 00:26:36,960
use lots of them use HTTP too there are

00:26:34,979 --> 00:26:39,330
some CSS effects like instead of using

00:26:36,960 --> 00:26:42,029
images use gradients don't use to come

00:26:39,330 --> 00:26:44,879
to much complex gradients if you're

00:26:42,029 --> 00:26:47,399
gonna animate them because the battery

00:26:44,879 --> 00:26:51,450
issue on the device is there's also

00:26:47,399 --> 00:26:55,979
something called masking so when you

00:26:51,450 --> 00:26:58,679
have a JPEG or a PNG that has

00:26:55,979 --> 00:27:00,749
transparency and it's a huge file but

00:26:58,679 --> 00:27:02,940
you need the transparency so you could

00:27:00,749 --> 00:27:06,359
serve it as a PNG or as WebP e with

00:27:02,940 --> 00:27:08,849
transparency but not all browsers

00:27:06,359 --> 00:27:11,399
understand web P so you want to send a

00:27:08,849 --> 00:27:15,809
PNG but that's huge you can use CSS

00:27:11,399 --> 00:27:17,909
masking and so here what this is is it's

00:27:15,809 --> 00:27:20,489
a it's a JPEG of a phone instead of a

00:27:17,909 --> 00:27:22,469
PNG of a phone and then I have a mass

00:27:20,489 --> 00:27:25,489
which says just showed this outer amount

00:27:22,469 --> 00:27:28,499
and that is the the code for it and

00:27:25,489 --> 00:27:29,969
basically by using a mask you can say I

00:27:28,499 --> 00:27:32,279
want this part to be opaque and this

00:27:29,969 --> 00:27:35,909
part to be transparent and the PNG plus

00:27:32,279 --> 00:27:39,119
the JPEG like the small transparent PNG

00:27:35,909 --> 00:27:45,570
or transparent gif is like one tenth of

00:27:39,119 --> 00:27:48,899
the size of the of the Hat I served the

00:27:45,570 --> 00:27:51,509
the transparent peein JPEG as a

00:27:48,899 --> 00:27:54,769
transparent PNG instead so that's was

00:27:51,509 --> 00:27:57,749
actually 55 kilobytes and it's now eight

00:27:54,769 --> 00:28:00,149
okay because that's a tiny little image

00:27:57,749 --> 00:28:01,690
but there was a one time I did it and I

00:28:00,149 --> 00:28:03,850
basically broke the

00:28:01,690 --> 00:28:05,080
iPhone 4 because the image was too big

00:28:03,850 --> 00:28:07,000
it just wasn't enough memory it would

00:28:05,080 --> 00:28:11,590
crash and then I switched it to that and

00:28:07,000 --> 00:28:16,779
saved half a Meg so the tip number three

00:28:11,590 --> 00:28:22,240
is optimizing video so step one is just

00:28:16,779 --> 00:28:23,129
don't send a video like so how do you

00:28:22,240 --> 00:28:26,559
omit the video

00:28:23,129 --> 00:28:29,409
you basically say don't show the video

00:28:26,559 --> 00:28:32,649
unless it's a big screen or you can also

00:28:29,409 --> 00:28:36,370
use navigator dot connection or the

00:28:32,649 --> 00:28:39,309
connection API and that's blue because

00:28:36,370 --> 00:28:41,830
it's a link to the spec so you can

00:28:39,309 --> 00:28:43,179
basically say effective type did I open

00:28:41,830 --> 00:28:50,039
this up let me just open this up in a

00:28:43,179 --> 00:28:53,169
different window let's not wait for it

00:28:50,039 --> 00:28:55,269
okay so there is so there's basically

00:28:53,169 --> 00:28:59,529
you can say is it well let's see if it

00:28:55,269 --> 00:29:02,399
open no okay you may seek flu say is it

00:28:59,529 --> 00:29:04,690
cable if it's cable then send an image

00:29:02,399 --> 00:29:06,090
this is it's one of those things with

00:29:04,690 --> 00:29:09,340
great power comes great responsibility

00:29:06,090 --> 00:29:10,809
just because you can use it don't don't

00:29:09,340 --> 00:29:14,769
use it to do things that it's not meant

00:29:10,809 --> 00:29:19,570
for so don't don't serve the the video

00:29:14,769 --> 00:29:21,850
if if they're on a lousy connection or

00:29:19,570 --> 00:29:24,940
if they're in a country that tends to

00:29:21,850 --> 00:29:27,789
have that has to pay for the Vice then

00:29:24,940 --> 00:29:29,649
when you serve the video use the source

00:29:27,789 --> 00:29:31,059
attribute right I mean the source

00:29:29,649 --> 00:29:34,029
element you're going to put the various

00:29:31,059 --> 00:29:36,309
videos put them in order from smallest

00:29:34,029 --> 00:29:37,899
to largest because the smallest one that

00:29:36,309 --> 00:29:40,899
it will understand will be the only one

00:29:37,899 --> 00:29:42,389
that it downloads so actually changing

00:29:40,899 --> 00:29:46,929
just a source or order of your sources

00:29:42,389 --> 00:29:49,000
can save bytes then the third step or

00:29:46,929 --> 00:29:52,360
the another important thing is if you

00:29:49,000 --> 00:29:54,940
have a hero video it's muted right those

00:29:52,360 --> 00:29:58,049
things that are animating behind your

00:29:54,940 --> 00:30:01,960
header why are you sending the audio

00:29:58,049 --> 00:30:04,809
right so if it says autoplay and muted

00:30:01,960 --> 00:30:07,809
equals true remove the audio from the

00:30:04,809 --> 00:30:10,210
file before you download it ffmpeg which

00:30:07,809 --> 00:30:13,210
there's a link right there in blue use

00:30:10,210 --> 00:30:17,230
this basically you can automate this

00:30:13,210 --> 00:30:20,309
remove all the Oh video I think you

00:30:17,230 --> 00:30:22,990
should just remove the video but and

00:30:20,309 --> 00:30:24,549
rule number four for improved

00:30:22,990 --> 00:30:25,779
performance is everything else

00:30:24,549 --> 00:30:26,980
those were the lowest hanging fruit the

00:30:25,779 --> 00:30:30,250
number one was not actually a

00:30:26,980 --> 00:30:32,320
performance but that three others but

00:30:30,250 --> 00:30:35,230
the two others were reducing your images

00:30:32,320 --> 00:30:37,000
and reducing your videos putting this

00:30:35,230 --> 00:30:39,730
style sheet at the top putting the

00:30:37,000 --> 00:30:41,440
script at the bottom style sheets are

00:30:39,730 --> 00:30:43,840
blocking but you can also just put the

00:30:41,440 --> 00:30:49,200
1400 you know what you need for first

00:30:43,840 --> 00:30:51,250
load at the top what's it called the

00:30:49,200 --> 00:30:53,320
lighthouse really helped me with this

00:30:51,250 --> 00:30:56,440
because I realize it helped me save so

00:30:53,320 --> 00:30:59,950
much in terms of my CSS in terms of the

00:30:56,440 --> 00:31:03,130
JavaScript shrink it down to what you

00:30:59,950 --> 00:31:04,899
need don't send the 27 frameworks um in

00:31:03,130 --> 00:31:07,990
three dependents you know in 43

00:31:04,899 --> 00:31:11,340
dependencies javascript is what is using

00:31:07,990 --> 00:31:14,860
at your battery I mean it's actually the

00:31:11,340 --> 00:31:16,720
radio being turned on and the light but

00:31:14,860 --> 00:31:20,409
then the JavaScript parsing and execute

00:31:16,720 --> 00:31:25,029
in JavaScript don't kills it so let your

00:31:20,409 --> 00:31:26,919
but let it let your code sleep like

00:31:25,029 --> 00:31:28,059
don't keep getting HX requests every

00:31:26,919 --> 00:31:29,470
half second because you're just waking

00:31:28,059 --> 00:31:32,470
up the radio breaking up the radio

00:31:29,470 --> 00:31:35,049
waking up the radio and minimize the

00:31:32,470 --> 00:31:38,350
amount of JavaScript basically save that

00:31:35,049 --> 00:31:45,490
battery don't do things like this where

00:31:38,350 --> 00:31:46,929
you have 20 seconds of inability to use

00:31:45,490 --> 00:31:49,390
well it's not 20 seconds because there's

00:31:46,929 --> 00:31:51,490
little cuts in there but you do have a

00:31:49,390 --> 00:31:54,159
ten-cent against trump where the site is

00:31:51,490 --> 00:31:57,130
not usable don't do what I call resume

00:31:54,159 --> 00:32:00,399
driven development that big pink thing

00:31:57,130 --> 00:32:02,950
right there is a two-second on content

00:32:00,399 --> 00:32:06,220
loaded event on a form with two elements

00:32:02,950 --> 00:32:08,500
to input right because there's 43

00:32:06,220 --> 00:32:10,409
dependencies so all of that javascript

00:32:08,500 --> 00:32:13,870
has to be downloaded parsed and executed

00:32:10,409 --> 00:32:18,760
which is an 8 second download for that

00:32:13,870 --> 00:32:20,880
javascript file plus a 3 second %

00:32:18,760 --> 00:32:23,289
execution of that javascript file

00:32:20,880 --> 00:32:25,010
minimize the number of dom nodes that's

00:32:23,289 --> 00:32:28,120
another trick

00:32:25,010 --> 00:32:30,440
and it's good to do anyway whenever your

00:32:28,120 --> 00:32:34,820
the more downloads you have basically

00:32:30,440 --> 00:32:38,120
each Dom node it has to be resized every

00:32:34,820 --> 00:32:41,510
time there's a repaint or a reflow

00:32:38,120 --> 00:32:42,950
rather I already said there's a

00:32:41,510 --> 00:32:46,220
difference between squishy shiness and

00:32:42,950 --> 00:32:49,520
responsiveness Disney went squishy it

00:32:46,220 --> 00:32:52,600
did not go responsive there why desktop

00:32:49,520 --> 00:32:54,890
site is 73 requests their mobile is 123

00:32:52,600 --> 00:32:58,130
their assets are pretty much the same

00:32:54,890 --> 00:33:01,160
and the load time on an over mobile

00:32:58,130 --> 00:33:04,520
network is incredibly slow that's going

00:33:01,160 --> 00:33:07,430
squishy that's not responsive and the

00:33:04,520 --> 00:33:11,630
last thing I want to touch up on is HTTP

00:33:07,430 --> 00:33:13,640
and some of the other features do add

00:33:11,630 --> 00:33:15,200
HTTP make sure your site is secure

00:33:13,640 --> 00:33:18,380
because all of the new features like

00:33:15,200 --> 00:33:24,110
service workers and PW A's and amp which

00:33:18,380 --> 00:33:26,990
you shouldn't use are require HTTPS so

00:33:24,110 --> 00:33:29,150
progressive web apps basically an

00:33:26,990 --> 00:33:30,740
offline experience definitely recommend

00:33:29,150 --> 00:33:33,250
doing this lighthouse will help you

00:33:30,740 --> 00:33:36,110
figure out the steps to go through

00:33:33,250 --> 00:33:38,810
progressive web apps I decide to make an

00:33:36,110 --> 00:33:40,610
illegible slide insert all the benefits

00:33:38,810 --> 00:33:42,320
which you can't read and this is the

00:33:40,610 --> 00:33:44,870
reason why I'm so opposed to progressive

00:33:42,320 --> 00:33:47,780
web apps we blame fire we blame Facebook

00:33:44,870 --> 00:33:50,810
for the idiot that is in office in the

00:33:47,780 --> 00:33:52,640
United States but this is this is my

00:33:50,810 --> 00:33:55,040
search result three days ago for the

00:33:52,640 --> 00:33:56,480
term Obama on my mobile device three

00:33:55,040 --> 00:33:58,760
days ago

00:33:56,480 --> 00:34:00,140
Jimmy Carter lets loose knocks Obama and

00:33:58,760 --> 00:34:02,810
Hillary says Russians didn't alter

00:34:00,140 --> 00:34:05,480
election praises Trump the blaze blaze

00:34:02,810 --> 00:34:07,760
is not known as a neosaurus but the top

00:34:05,480 --> 00:34:09,919
news sources it resulted gave me was Fox

00:34:07,760 --> 00:34:11,960
News and Breitbart why did I get these

00:34:09,919 --> 00:34:14,690
search results because this is the amp

00:34:11,960 --> 00:34:16,970
carousel so the only people who should

00:34:14,690 --> 00:34:18,800
be using amp is real new sources to keep

00:34:16,970 --> 00:34:21,200
the fake news sources off of the website

00:34:18,800 --> 00:34:23,780
but amp is basically created by Twitter

00:34:21,200 --> 00:34:25,460
and Google as an equivalent to instant

00:34:23,780 --> 00:34:29,570
articles on Facebook and we're all

00:34:25,460 --> 00:34:32,750
blaming instant articles but amp is just

00:34:29,570 --> 00:34:34,880
as responsible to this day so that is my

00:34:32,750 --> 00:34:37,159
little soapbox that I did not intend to

00:34:34,880 --> 00:34:39,659
go on I'm sorry for that

00:34:37,159 --> 00:34:42,210
so always filled with accessibility in

00:34:39,659 --> 00:34:44,490
mind always build with mobile mobile in

00:34:42,210 --> 00:34:47,700
mind when you are testing on mobile

00:34:44,490 --> 00:34:51,960
don't just use your testing device right

00:34:47,700 --> 00:34:54,379
your high-end phone that you only use in

00:34:51,960 --> 00:34:59,160
your office put every single application

00:34:54,379 --> 00:35:01,380
that your teenage friend uses because

00:34:59,160 --> 00:35:05,130
they have way more apps than your

00:35:01,380 --> 00:35:07,170
parents use probably or that I use these

00:35:05,130 --> 00:35:09,470
are all my apps basically open I

00:35:07,170 --> 00:35:11,819
couldn't make that much of a screen

00:35:09,470 --> 00:35:14,130
because there are other things using up

00:35:11,819 --> 00:35:18,180
the memory instead of budget before you

00:35:14,130 --> 00:35:19,740
start decide how fast are websites

00:35:18,180 --> 00:35:22,789
you're willing to go with and how many

00:35:19,740 --> 00:35:26,359
HTTP requests scale down not up

00:35:22,789 --> 00:35:28,980
don't prefix fallback properties like

00:35:26,359 --> 00:35:30,839
you don't have there's very few prefixes

00:35:28,980 --> 00:35:31,650
but don't add the prefix for

00:35:30,839 --> 00:35:37,760
border-radius

00:35:31,650 --> 00:35:41,130
or for animations or for transforms or

00:35:37,760 --> 00:35:43,200
you know the web - WebKit because if

00:35:41,130 --> 00:35:45,150
you're just trying to target Android 2.4

00:35:43,200 --> 00:35:46,829
or something like that it's basically

00:35:45,150 --> 00:35:48,119
going to slow down that device and they

00:35:46,829 --> 00:35:50,400
don't need your rounded corners in the

00:35:48,119 --> 00:35:53,549
first place don't disable zoom I said

00:35:50,400 --> 00:35:55,190
that unless it's a game follow

00:35:53,549 --> 00:35:57,779
everything that we've talked about today

00:35:55,190 --> 00:36:01,230
always keeping mobile in mind because

00:35:57,779 --> 00:36:03,510
your users may not be tethered their

00:36:01,230 --> 00:36:05,220
memory may be limited their bandwidth

00:36:03,510 --> 00:36:08,339
they might be paying for every single

00:36:05,220 --> 00:36:12,750
byte that comes through and their

00:36:08,339 --> 00:36:18,650
internet may be unreliable so remember

00:36:12,750 --> 00:36:18,650
that and thank you that's all I have to

00:36:24,330 --> 00:36:27,690
can you put it back up that's for a

00:36:26,100 --> 00:36:29,280
second

00:36:27,690 --> 00:36:31,430
slides are right there at the bottom

00:36:29,280 --> 00:36:35,430
that's where you can find all my slides

00:36:31,430 --> 00:36:37,050
and then there's speed perception is a

00:36:35,430 --> 00:36:38,670
study on speed perception machine

00:36:37,050 --> 00:36:41,910
learning workshop if you think my site

00:36:38,670 --> 00:36:42,900
is funny sure it and then the conference

00:36:41,910 --> 00:36:48,270
is performance confer

00:36:42,900 --> 00:36:50,420
yes thank you thank you very much

00:36:48,270 --> 00:36:50,420

YouTube URL: https://www.youtube.com/watch?v=AfVL4Uk_UAk


