Title: An IoT Forecast That's Sunny and Clear - by Kathy Giori - Mozilla Developer Roadshow - Singapore
Publication date: 2019-12-21
Playlist: Mozilla Developer Roadshow 2019 - Asia
Description: 
	Kathy Giori introduces Mozilla WebThings, which offers a private, secure, and interopable IoT solution that's not dependent on storage in the cloud.
Captions: 
	00:00:03,000 --> 00:00:05,480
Okay. Hi everyone! My name is Kathy Giori.

00:00:05,480 --> 00:00:09,480
I come from Mozilla's Mountain View office in California

00:00:10,480 --> 00:00:13,000
and as Ali said, you know,

00:00:13,000 --> 00:00:16,320
we have a large organization mostly focused on Firefox,

00:00:16,320 --> 00:00:20,760
but there's a hundred or so people in emerging technologies

00:00:20,760 --> 00:00:26,700
and our Web of Things initiative is part of our emerging technologies.

00:00:27,250 --> 00:00:29,700
We're focused on protecting people,

00:00:29,700 --> 00:00:32,000
putting people first in terms of IoT

00:00:32,350 --> 00:00:35,900
with the use case of Smart Homes as a first part.

00:00:36,600 --> 00:00:38,100
So, the title

00:00:38,100 --> 00:00:40,450
An IoTs Forecast That’s Sunny and Clear (No Clouds!).

00:00:40,450 --> 00:00:42,200
So, what I'm going to be presenting today is

00:00:42,200 --> 00:00:46,050
the web things gateway running on this little Raspberry Pi.

00:00:46,050 --> 00:00:48,050
I actually don't have it connected to the Internet

00:00:48,050 --> 00:00:49,650
because that was hard.

00:00:50,400 --> 00:00:52,400
It can be connected to the Internet

00:00:52,850 --> 00:00:57,050
but our whole project is basically protecting you

00:00:57,150 --> 00:01:00,160
from these sorts of concerns.

00:01:00,500 --> 00:01:02,000
So, we've interviewed a lot of people

00:01:02,000 --> 00:01:05,600
and their concerns about security are always first and foremost.

00:01:05,600 --> 00:01:07,160
I go to lot of conferences

00:01:07,160 --> 00:01:10,400
and IoT security, security security as the only thing.

00:01:10,400 --> 00:01:13,450
But even if I have a thing that's connected to the cloud

00:01:13,450 --> 00:01:14,560
and is totally secure

00:01:14,760 --> 00:01:15,920
what about my privacy?

00:01:15,920 --> 00:01:17,200
Where's my data going?

00:01:17,200 --> 00:01:18,200
Who has it?

00:01:18,200 --> 00:01:20,500
So, privacy is also a big concern.

00:01:20,700 --> 00:01:21,650
Interoperability.

00:01:21,650 --> 00:01:24,200
Like can you only buy one brand?

00:01:24,900 --> 00:01:26,200
And then overall value.

00:01:26,200 --> 00:01:29,000
Do things last, can you reconnect them?

00:01:29,000 --> 00:01:33,400
So, actually what Mozilla is doing quite a bit different,

00:01:34,400 --> 00:01:35,400
most vendors,

00:01:36,500 --> 00:01:38,560
most of time you buy the device,

00:01:38,560 --> 00:01:41,360
they connect the device’s data to the cloud.

00:01:41,560 --> 00:01:43,560
You download some smartphone app,

00:01:44,360 --> 00:01:46,160
that app talks to the cloud.

00:01:48,660 --> 00:01:49,660
In our case,

00:01:49,760 --> 00:01:55,000
we actually run all of the interoperability of the web things locally

00:01:55,500 --> 00:01:59,700
and you use a JWT or OAuth framework

00:01:59,700 --> 00:02:01,700
to share those data with the cloud.

00:02:01,850 --> 00:02:04,100
We're not saying like data never goes to the cloud,

00:02:04,100 --> 00:02:07,680
we want consumers to decide what data goes to the cloud.

00:02:07,880 --> 00:02:10,200
When I'm here I can tunnel into my office,

00:02:10,200 --> 00:02:12,200
I can tunnel into my home

00:02:12,200 --> 00:02:14,200
with an HTTPS tunnel

00:02:14,200 --> 00:02:16,700
or no data is stored or processed in the cloud,

00:02:16,700 --> 00:02:19,480
I'm just going like I go to a normal website.

00:02:19,680 --> 00:02:21,980
Only the website is served up by the gateway.

00:02:22,880 --> 00:02:24,880
I'm going to quickly go through some of these slides.

00:02:25,700 --> 00:02:27,880
The decentralization we think is important.

00:02:27,880 --> 00:02:32,800
So, all the data is in the hands of just a few big tech companies.

00:02:34,000 --> 00:02:36,640
Privacy is you own and control your data.

00:02:36,940 --> 00:02:38,300
When you set up this gateway

00:02:38,300 --> 00:02:40,700
there is a subdomain that you create

00:02:40,700 --> 00:02:42,900
that downloads a certificate from Let's Encrypt

00:02:43,450 --> 00:02:46,560
and then you can own that unique domain as long as you want

00:02:47,700 --> 00:02:52,280
and we've been working with the W3C Web of Things initiative

00:02:52,280 --> 00:02:54,040
for the last couple of years

00:02:54,040 --> 00:02:56,040
and that whole initiative says

00:02:56,300 --> 00:02:59,920
you've got all these different radio protocols and messaging protocols

00:03:00,300 --> 00:03:04,500
but where we really want to bring IoT data is to web developers

00:03:04,500 --> 00:03:09,000
and web developers would like to consume it as a JSON description.

00:03:09,000 --> 00:03:10,950
So, the W3C Web of Things

00:03:10,950 --> 00:03:14,720
just says there's JSON descriptions and properties, actions, and events.

00:03:15,200 --> 00:03:16,720
And that's how you figure this stuff up.

00:03:17,550 --> 00:03:22,920
All of our source code is open source on GitHub, Mozilla - IoT.

00:03:23,150 --> 00:03:29,320
We have public discourse and IRC channels and issues on GitHub.

00:03:30,200 --> 00:03:31,380
The architecture is...

00:03:33,100 --> 00:03:36,380
basically, the core is written in node,

00:03:36,380 --> 00:03:40,100
but these adapters or add-on frameworks that bridge commercial devices

00:03:40,100 --> 00:03:41,700
can be written in any language

00:03:43,200 --> 00:03:47,040
and the whole goal is for you to take control of your smart home.

00:03:47,640 --> 00:03:50,200
Earlier today, I want to call out Y. C. Wang

00:03:50,200 --> 00:03:52,760
who's sitting on the couch in the back from Digi-Key

00:03:52,760 --> 00:03:56,300
and he set up a meeting where we were at Ngee Ann Poly University

00:03:56,300 --> 00:04:00,480
and he gave a hands-on demo today.

00:04:00,480 --> 00:04:02,480
Where did I put my stuff? Okay.

00:04:07,780 --> 00:04:11,000
And he donated some of these circuit playgrounds

00:04:11,500 --> 00:04:13,840
that you can turn into fun stuff.

00:04:14,440 --> 00:04:17,200
And I was using a program called MicroBlocks

00:04:17,200 --> 00:04:19,050
which makes it really easy to do.

00:04:19,050 --> 00:04:22,200
And we funded through Mozilla's Open Source Support grant

00:04:22,850 --> 00:04:24,500
this project MicroBlocks

00:04:24,500 --> 00:04:27,200
which is also completely open source and free

00:04:27,750 --> 00:04:29,900
to incorporate a Web of Things library,

00:04:29,900 --> 00:04:31,500
so you can go grab examples

00:04:31,500 --> 00:04:34,300
and kids and students and myself,

00:04:34,500 --> 00:04:35,700
you can build web things

00:04:35,700 --> 00:04:37,800
and here even though it's not formatted,

00:04:37,800 --> 00:04:41,680
you can see if I have an IP based like an ESP32

00:04:41,680 --> 00:04:46,840
it can actually generate its JSON content locally on the microcontroller itself

00:04:47,340 --> 00:04:49,400
and you could go to its web page

00:04:49,400 --> 00:04:51,400
but it also connects it up to the gateway.

00:04:53,400 --> 00:04:57,080
So, I thought I'd jump over to a live demo.

00:05:00,400 --> 00:05:02,640
First let's see if we can get to some,

00:05:03,340 --> 00:05:07,040
like it's 2 in the morning.

00:05:07,740 --> 00:05:11,600
Yeah, it's quarter to 3 in the morning in California.

00:05:12,200 --> 00:05:13,600
Let's just see if we can...

00:05:14,200 --> 00:05:18,000
It's having trouble pulling up this page a moment ago.

00:05:18,800 --> 00:05:20,400
Let me just reload it.

00:05:24,100 --> 00:05:25,500
Let’s start with my house.

00:05:27,300 --> 00:05:30,050
I want to just tell you about a little bit of the privacy issues.

00:05:30,050 --> 00:05:32,800
So, if I load the logs in my house,

00:05:32,800 --> 00:05:37,000
you can see the main door where we enter in and go out,

00:05:37,000 --> 00:05:40,500
last opened at 8:48 or something like that.

00:05:40,500 --> 00:05:41,700
So, my husband is at home.

00:05:41,700 --> 00:05:44,160
So, you can see when he comes in and goes

00:05:44,160 --> 00:05:46,880
just with one little door sensor.

00:05:46,880 --> 00:05:48,280
Looks like this, right?

00:05:48,680 --> 00:05:50,380
Imagine all that data.

00:05:51,200 --> 00:05:55,450
And then there's things like lights automatically turning on and off

00:05:55,450 --> 00:05:57,000
to make it appear that you are home.

00:05:58,000 --> 00:06:00,000
The earthquake monitors, one of my favorites.

00:06:00,000 --> 00:06:01,500
I'll show you what that looks like,

00:06:01,500 --> 00:06:03,000
the tide in Redwood City.

00:06:03,350 --> 00:06:04,450
So, what I wanted to show you is

00:06:04,450 --> 00:06:09,100
it's not just about creating data that you generate that goes out

00:06:09,400 --> 00:06:11,960
but these data like the earthquake monitor,

00:06:12,260 --> 00:06:15,100
sometimes, randomly, I'll be giving a presentation

00:06:15,100 --> 00:06:17,500
and an earthquake from the USGS will come in

00:06:17,500 --> 00:06:20,000
and it'll go active

00:06:20,200 --> 00:06:22,000
and it'll stay there for 10 minutes.

00:06:22,850 --> 00:06:24,840
This is the tide in Redwood City.

00:06:25,000 --> 00:06:29,520
So, these are APIs where we're setting up to the outside world.

00:06:30,300 --> 00:06:33,600
And then I have like leak sensors under the sink,

00:06:34,500 --> 00:06:35,200
tells me

00:06:36,050 --> 00:06:38,000
and I have these hooked up to notifications

00:06:38,000 --> 00:06:40,800
because I'm not looking at this user interface all the time

00:06:41,200 --> 00:06:46,040
and so I can send notifications out in many different ways.

00:06:46,840 --> 00:06:49,440
And the Internet radio I can stream,

00:06:49,740 --> 00:06:55,000
I can load up some of my favorite stations like Radio Swiss Jazz or KQED.

00:06:55,450 --> 00:06:58,920
I don't think I'll turn the radio on at home.

00:06:59,420 --> 00:07:02,160
This page is ever loaded.

00:07:03,760 --> 00:07:04,660
Load that one up.

00:07:07,760 --> 00:07:11,880
And so, then I wanted to show you I have this local gateway here

00:07:12,200 --> 00:07:13,880
that I'm just going to demonstrate.

00:07:14,780 --> 00:07:17,960
Some of the magic that I can't really demonstrate very well here

00:07:18,260 --> 00:07:23,360
is that I have a speaker microphone through USB.

00:07:23,960 --> 00:07:26,360
I have my own little Wi-Fi network here.

00:07:26,360 --> 00:07:28,660
So, it's on my own little home network if you will.

00:07:29,150 --> 00:07:31,480
And I have commercial off-the-shelf stuff.

00:07:31,980 --> 00:07:37,360
First, I need to jump over to this web page.

00:07:38,360 --> 00:07:43,000
It's going to be going to this private network.

00:07:44,000 --> 00:07:45,000
Okay.

00:07:45,850 --> 00:07:49,100
Oh! and I didn't show you there's floor plan view and rules,

00:07:49,100 --> 00:07:51,840
I will show that, demonstrate that really quickly here.

00:07:52,240 --> 00:07:54,240
If I get this network set up.

00:07:57,240 --> 00:07:58,240
Load.

00:08:01,240 --> 00:08:02,240
Here it comes.

00:08:03,000 --> 00:08:03,740
Okay.

00:08:05,340 --> 00:08:06,300
So, what I've done is,

00:08:06,300 --> 00:08:09,160
I've done a rule where if I open the door,

00:08:09,860 --> 00:08:13,960
I'm going to turn on the rainbow light.

00:08:14,460 --> 00:08:17,040
My page is not quite loaded yet.

00:08:18,000 --> 00:08:20,150
And you can see the motion sensor.

00:08:21,450 --> 00:08:22,150
Here we go.

00:08:23,750 --> 00:08:27,400
So, if anyone can see that the icons match what I'm doing

00:08:28,400 --> 00:08:31,600
and these snow pixels,

00:08:31,600 --> 00:08:32,800
there's things...

00:08:32,800 --> 00:08:34,400
Let me script to my other screen.

00:08:34,700 --> 00:08:38,800
There's things one second pulse that I created

00:08:38,800 --> 00:08:40,950
and an everything one second pulse that I created

00:08:40,950 --> 00:08:42,950
that I can turn things on and off easily.

00:08:43,250 --> 00:08:45,960
And I can even do this with my voice.

00:08:46,660 --> 00:08:49,680
Hey Snips, turn things on.

00:08:53,280 --> 00:08:54,800
Don't disappoint me.

00:08:58,750 --> 00:09:01,880
Hey Snips, turn things on.

00:09:04,280 --> 00:09:05,280
That's a little better

00:09:06,280 --> 00:09:08,900
and you can 

00:09:09,100 --> 00:09:12,900
when you create new things it'll pick up the word,

00:09:12,900 --> 00:09:18,000
I can say, Hey Snips, turn off the rainbow.

00:09:20,500 --> 00:09:22,700
And then that little everything button

00:09:22,700 --> 00:09:24,300
because it's always on,

00:09:24,300 --> 00:09:28,560
when I turn it off it turns off the other things.

00:09:29,460 --> 00:09:32,300
Hey Snips, turn everything off.

00:09:34,900 --> 00:09:39,750
So, it's really useful for you to be able to create names of things

00:09:39,750 --> 00:09:40,900
and then group things

00:09:42,500 --> 00:09:44,400
when you're at home or anywhere

00:09:44,800 --> 00:09:45,800
and then there's...

00:09:49,000 --> 00:09:54,600
oh! I left my internet connected situation to do the local stuff.

00:09:54,800 --> 00:09:56,800
I was going to show you really quick

00:09:57,500 --> 00:09:58,800
if I have a chance

00:09:58,800 --> 00:10:00,200
how to create new things.

00:10:01,900 --> 00:10:06,320
So, I have this MicroBlocks application.

00:10:06,520 --> 00:10:08,520
I'm just going to open an example,

00:10:08,820 --> 00:10:11,360
or do something in real time.

00:10:12,560 --> 00:10:15,920
My Circuit Playground Express,

00:10:16,920 --> 00:10:19,760
it's a little ambulance example.

00:10:21,960 --> 00:10:25,880
Instead of an ambulance I'm going to call it an alarm.

00:10:27,780 --> 00:10:29,880
So, what this does is the mic

00:10:29,880 --> 00:10:33,120
the web of things library is right here

00:10:33,120 --> 00:10:36,800
and then you get like tones to make noises,

00:10:36,800 --> 00:10:38,800
NeoPixels to change the colors.

00:10:38,800 --> 00:10:40,400
You put it all together

00:10:40,750 --> 00:10:42,900
and this is a live programming environment.

00:10:42,900 --> 00:10:48,160
So, the blocks that I just started are actually running as byte code

00:10:49,100 --> 00:10:51,400
and there's a MicroBlocks add-on

00:10:54,800 --> 00:11:03,800
and if all goes well, it will find my ambulance,

00:11:03,800 --> 00:11:05,400
that I had called an alarm

00:11:06,300 --> 00:11:07,400
and I'll save that.

00:11:09,400 --> 00:11:09,900
Done.

00:11:11,200 --> 00:11:14,000
And now that thing becomes a web thing.

00:11:19,000 --> 00:11:21,400
And then the last really quick thing

00:11:21,400 --> 00:11:23,000
that I didn't really show off very well

00:11:23,000 --> 00:11:24,000
but rules,

00:11:24,200 --> 00:11:28,200
I already have a rule that when the door is open it turns on the rainbow.

00:11:28,400 --> 00:11:30,200
We can just add the alarm to that,

00:11:30,800 --> 00:11:32,600
say triggered

00:11:32,600 --> 00:11:35,500
and this is a wild rule that can be if or while.

00:11:35,950 --> 00:11:38,080
So, now I have this rule set up

00:11:38,080 --> 00:11:39,580
when the door is open

00:11:40,480 --> 00:11:42,050
should both have that light on,

00:11:42,050 --> 00:11:43,350
oops, that’s a motion sensor

00:11:43,350 --> 00:11:45,350
and set the...

00:11:49,850 --> 00:11:51,550
See you can see how quickly all that goes.

00:11:52,400 --> 00:11:55,400
So that's web things in a nutshell.

00:11:55,800 --> 00:11:58,040
And I got one more little announcement.

00:11:58,040 --> 00:12:00,040
Got to run back to the grab guest,

00:12:01,040 --> 00:12:02,040
grab this,

00:12:03,440 --> 00:12:06,700
is that I have a bag of micro SD cards

00:12:07,150 --> 00:12:10,050
for the image that you can plug into a Raspberry Pi

00:12:10,050 --> 00:12:13,300
and turn it into your own private Smart Home Web Thing Gateway.

00:12:13,300 --> 00:12:15,900
I have a limited number there, about 30 or so,

00:12:15,900 --> 00:12:17,900
but if you have a Raspberry Pi

00:12:18,100 --> 00:12:23,500
I've pre flashed the Mozilla IoT software image

00:12:23,500 --> 00:12:25,800
and you just plug it in and you go through three steps,

00:12:27,200 --> 00:12:28,200
get it on your network,

00:12:28,200 --> 00:12:30,400
give it a private subdomain

00:12:30,400 --> 00:12:32,000
and give it a first user accounts,

00:12:32,000 --> 00:12:33,500
you can tunnel in remotely

00:12:33,500 --> 00:12:36,600
and then you start buying stuff or making stuff.

00:12:37,300 --> 00:12:39,320
So, hope you'll enjoy that

00:12:39,720 --> 00:12:42,400
and come find me later if you want a micro SD card.

00:12:42,400 --> 00:12:43,120
Thank you.

00:12:43,620 --> 00:12:47,520

YouTube URL: https://www.youtube.com/watch?v=twLNcxWnR3o


