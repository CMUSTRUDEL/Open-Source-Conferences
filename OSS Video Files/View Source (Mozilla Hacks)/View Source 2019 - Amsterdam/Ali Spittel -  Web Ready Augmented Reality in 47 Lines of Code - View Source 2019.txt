Title: Ali Spittel -  Web Ready Augmented Reality in 47 Lines of Code - View Source 2019
Publication date: 2019-11-19
Playlist: View Source 2019 - Amsterdam
Description: 
	#alispittel #AugmentedReality #viewsourceconf 

Augmented reality is becoming more popular for both its artistic and business applications. This talk will explore the frameworks and tools that make AR more developer friendly, including adding live masks to a webcam image in 47 lines of JavaScript!
Captions: 
	00:00:03,170 --> 00:00:09,210
I'm the difficult one that in my own

00:00:05,520 --> 00:00:11,309
computer because demos so I'm Ally I

00:00:09,210 --> 00:00:13,139
have a software engineering instructor

00:00:11,309 --> 00:00:14,429
so I teach other people how to code and

00:00:13,139 --> 00:00:19,369
today I'm going to be talking about

00:00:14,429 --> 00:00:21,449
augmented reality in JavaScript so a

00:00:19,369 --> 00:00:22,560
little bit of what we're going to be

00:00:21,449 --> 00:00:24,900
talking about so we're going to talk

00:00:22,560 --> 00:00:26,699
about what augmented reality is and then

00:00:24,900 --> 00:00:29,519
we're going to play with a ton of

00:00:26,699 --> 00:00:30,990
different demos after that we will talk

00:00:29,519 --> 00:00:32,969
about the different types of augmented

00:00:30,990 --> 00:00:36,180
reality this there are out there look at

00:00:32,969 --> 00:00:38,790
some of my code I wrote snapchats

00:00:36,180 --> 00:00:40,290
filters in 47 lines of JavaScript so

00:00:38,790 --> 00:00:41,399
we'll be talking about that and then

00:00:40,290 --> 00:00:43,410
we're going to talk about the future

00:00:41,399 --> 00:00:48,120
what augmented reality will look like in

00:00:43,410 --> 00:00:50,730
a couple years so to define augmented

00:00:48,120 --> 00:00:52,260
reality you're taking the real world and

00:00:50,730 --> 00:00:54,329
then you're adding something to it you

00:00:52,260 --> 00:00:55,860
may have heard a virtual reality and

00:00:54,329 --> 00:00:58,500
that's creating a whole entire new world

00:00:55,860 --> 00:01:00,989
in 3d I think I've rented reality is

00:00:58,500 --> 00:01:03,210
really powerful because you can take the

00:01:00,989 --> 00:01:06,150
real world and then add something to it

00:01:03,210 --> 00:01:08,490
and that's really powerful it can be for

00:01:06,150 --> 00:01:10,680
any sense but the one that you see most

00:01:08,490 --> 00:01:12,390
often at least for now is visual so

00:01:10,680 --> 00:01:20,850
you'll have the real world and have some

00:01:12,390 --> 00:01:22,470
visual element added to it so I am

00:01:20,850 --> 00:01:23,759
talking about augmented reality not

00:01:22,470 --> 00:01:26,549
because it's something that I do in my

00:01:23,759 --> 00:01:29,549
day job every day but because I like art

00:01:26,549 --> 00:01:32,070
and code and I have a blog and so one of

00:01:29,549 --> 00:01:34,110
my blog posts about two years ago was

00:01:32,070 --> 00:01:38,310
about how to build augmented reality

00:01:34,110 --> 00:01:41,430
apps in JavaScript and it turns out that

00:01:38,310 --> 00:01:42,689
a lot of people thought that I would be

00:01:41,430 --> 00:01:46,290
interested in giving talks about it

00:01:42,689 --> 00:01:48,000
which I am but I am NOT somebody again

00:01:46,290 --> 00:01:50,759
who writes augmented reality apps all

00:01:48,000 --> 00:01:52,890
day so I at that point didn't feel like

00:01:50,759 --> 00:01:54,119
I was an expert at it and that is

00:01:52,890 --> 00:01:56,549
actually the reason why I'm talking

00:01:54,119 --> 00:01:58,710
about it I was so intimidated by this

00:01:56,549 --> 00:02:00,750
idea of augmented reality I thought that

00:01:58,710 --> 00:02:03,060
you would have to know all this math and

00:02:00,750 --> 00:02:05,820
all this wild code in order to implement

00:02:03,060 --> 00:02:06,899
it and then I did more research and it

00:02:05,820 --> 00:02:08,940
turns out you can just do it in

00:02:06,899 --> 00:02:10,649
JavaScript and it's basically dressed

00:02:08,940 --> 00:02:13,130
Dom manipulation is my whole entire

00:02:10,649 --> 00:02:15,410
application I think that's really really

00:02:13,130 --> 00:02:17,540
at the time I was seeing a lot of apps

00:02:15,410 --> 00:02:19,460
coming out that we're using Python or

00:02:17,540 --> 00:02:21,410
C++ and they were just command line

00:02:19,460 --> 00:02:23,480
scripts that you could run and add

00:02:21,410 --> 00:02:26,300
filters to your face based off of that

00:02:23,480 --> 00:02:27,710
and that's cool but you have to be a

00:02:26,300 --> 00:02:29,330
programmer probably to run those

00:02:27,710 --> 00:02:31,520
applications you have to download them

00:02:29,330 --> 00:02:33,710
you have to have Python running and if

00:02:31,520 --> 00:02:36,560
you build something for the web anybody

00:02:33,710 --> 00:02:38,030
can use it just by going to a URL mobile

00:02:36,560 --> 00:02:39,680
apps are cool as well but again you have

00:02:38,030 --> 00:02:40,970
to download something and the

00:02:39,680 --> 00:02:44,000
development is a little bit higher

00:02:40,970 --> 00:02:46,400
barrier to entry so javascript makes

00:02:44,000 --> 00:02:48,560
development accessible and it also makes

00:02:46,400 --> 00:02:50,270
applications accessible and that's why I

00:02:48,560 --> 00:02:54,530
wanted to use it to build an augmented

00:02:50,270 --> 00:02:56,330
reality app so there are so many

00:02:54,530 --> 00:02:59,090
different applications for augmented

00:02:56,330 --> 00:03:00,290
reality already art which is one that's

00:02:59,090 --> 00:03:01,760
really interesting to me and I think

00:03:00,290 --> 00:03:05,780
augmented reality is going to be a

00:03:01,760 --> 00:03:08,030
really huge forefront there there is

00:03:05,780 --> 00:03:09,500
gaming as well you may have seen

00:03:08,030 --> 00:03:11,210
something like Pokemon go we'll talk

00:03:09,500 --> 00:03:12,800
about that a little bit and then

00:03:11,210 --> 00:03:15,440
businesses are starting to use it as

00:03:12,800 --> 00:03:17,930
well so it can be a pretty powerful

00:03:15,440 --> 00:03:20,540
thing for marketing or just trying out

00:03:17,930 --> 00:03:22,670
elements as well there and then there's

00:03:20,540 --> 00:03:25,850
also more - so we'll talk about some of

00:03:22,670 --> 00:03:27,410
that so one of the most common questions

00:03:25,850 --> 00:03:30,050
that I get asked about augmented reality

00:03:27,410 --> 00:03:33,620
is one of them will we use augmented

00:03:30,050 --> 00:03:35,660
reality everyday and I know for the

00:03:33,620 --> 00:03:37,270
average person in the audience maybe you

00:03:35,660 --> 00:03:41,209
don't use the augmented reality everyday

00:03:37,270 --> 00:03:43,880
but for a different demographic mostly

00:03:41,209 --> 00:03:45,140
teenage and girls and young woman it is

00:03:43,880 --> 00:03:49,070
something that they're using every day

00:03:45,140 --> 00:03:50,570
and my demographic is and so I want to

00:03:49,070 --> 00:03:53,030
talk about that and how powerful it

00:03:50,570 --> 00:03:55,220
already is there's going to be even more

00:03:53,030 --> 00:03:58,880
of a future for it but it's already

00:03:55,220 --> 00:04:00,850
massive so let's look at some demos so

00:03:58,880 --> 00:04:03,650
the first two are snapchat and Instagram

00:04:00,850 --> 00:04:06,410
Instagram is so culturally dominant

00:04:03,650 --> 00:04:09,050
right now not just the app itself but

00:04:06,410 --> 00:04:11,660
the world around it like I go to events

00:04:09,050 --> 00:04:13,100
and they have Instagram installations so

00:04:11,660 --> 00:04:15,440
that you take pictures of it and market

00:04:13,100 --> 00:04:17,150
the event for them it's a huge piece of

00:04:15,440 --> 00:04:20,090
it and then also people buying ads on

00:04:17,150 --> 00:04:22,220
Instagram so that one is absolutely

00:04:20,090 --> 00:04:23,660
massive they have the stories you can

00:04:22,220 --> 00:04:24,310
put on filters on your face there and

00:04:23,660 --> 00:04:25,810
then

00:04:24,310 --> 00:04:27,370
snapchat who they pretty much just

00:04:25,810 --> 00:04:29,620
knocked off to do it

00:04:27,370 --> 00:04:31,480
so snapchat allows you to take images

00:04:29,620 --> 00:04:34,480
and put them on top of your face and

00:04:31,480 --> 00:04:37,600
alter your appearance that way those are

00:04:34,480 --> 00:04:39,730
kind of the original ones a fun part of

00:04:37,600 --> 00:04:41,860
this talk is that you get to see my face

00:04:39,730 --> 00:04:45,040
a lot which is especially fun because

00:04:41,860 --> 00:04:46,360
I'm super jet-lagged but that's fine so

00:04:45,040 --> 00:04:47,950
one of note that you may have seen

00:04:46,360 --> 00:04:49,990
recently especially on social media is

00:04:47,950 --> 00:04:52,540
called face out and what it does is it

00:04:49,990 --> 00:04:55,120
takes your face and does some machine

00:04:52,540 --> 00:04:58,419
learning on it and then spits it out in

00:04:55,120 --> 00:05:01,870
different ways so the one on the bad

00:04:58,419 --> 00:05:04,330
side the woman one is a tweaked version

00:05:01,870 --> 00:05:05,530
of my face so I don't even know what

00:05:04,330 --> 00:05:07,090
they changed about it but they made it

00:05:05,530 --> 00:05:09,669
way prettier and it's super impressive

00:05:07,090 --> 00:05:11,889
and then the other side is the male

00:05:09,669 --> 00:05:13,860
version of my face apparently so I'm

00:05:11,889 --> 00:05:18,940
glad that that didn't turn out that way

00:05:13,860 --> 00:05:21,669
for me there's also face tune which is a

00:05:18,940 --> 00:05:25,540
visual editing software for your phone

00:05:21,669 --> 00:05:27,610
and you can essentially take what people

00:05:25,540 --> 00:05:29,140
made careers off of airbrushing people

00:05:27,610 --> 00:05:31,479
back in the day and you can do it in a

00:05:29,140 --> 00:05:36,220
couple swipes which is really powerful

00:05:31,479 --> 00:05:38,260
but also kind of terrifying you can try

00:05:36,220 --> 00:05:40,030
on makeup so sephora's website allows

00:05:38,260 --> 00:05:42,250
you to try on all sorts of different

00:05:40,030 --> 00:05:43,780
makeup on their website so I don't own

00:05:42,250 --> 00:05:46,320
blue lipstick but I was wearing some

00:05:43,780 --> 00:05:46,320
earlier today

00:05:46,800 --> 00:05:51,340
IKEA allows you to take furniture on

00:05:49,510 --> 00:05:52,960
their app and try it out in your own

00:05:51,340 --> 00:05:54,490
living room so you can see what a piece

00:05:52,960 --> 00:05:56,500
of furniture would look like dimension

00:05:54,490 --> 00:06:00,400
wise in your own home using this

00:05:56,500 --> 00:06:03,190
augmented reality application Tesla

00:06:00,400 --> 00:06:04,900
they're using augmented reality for

00:06:03,190 --> 00:06:06,610
manufacturing so they're using it to

00:06:04,900 --> 00:06:09,220
test out their cars before putting them

00:06:06,610 --> 00:06:10,870
out into wild they're also experimenting

00:06:09,220 --> 00:06:14,860
it for it for the dashboard on your

00:06:10,870 --> 00:06:17,850
computer trying to have different panels

00:06:14,860 --> 00:06:21,610
on there using augmented reality as well

00:06:17,850 --> 00:06:24,729
this is one of my favorite AR

00:06:21,610 --> 00:06:25,300
applications from 2010 so it was a while

00:06:24,729 --> 00:06:28,180
ago

00:06:25,300 --> 00:06:34,390
Zack Lieberman is an incredible artist

00:06:28,180 --> 00:06:36,389
and hopefully this will load Oh No

00:06:34,390 --> 00:06:39,620
let me try this

00:06:36,389 --> 00:06:39,620
it looks like I got disconnected

00:06:48,590 --> 00:06:53,889
No there we go

00:06:59,230 --> 00:07:03,400
okay well I guess that is not working

00:07:02,590 --> 00:07:07,660
sorry about that

00:07:03,400 --> 00:07:09,010
um so also museums museums are doing

00:07:07,660 --> 00:07:12,430
really really cool things with augmented

00:07:09,010 --> 00:07:16,060
reality so both for extending the

00:07:12,430 --> 00:07:17,890
artwork in their museums but also for

00:07:16,060 --> 00:07:20,740
displaying their content in different

00:07:17,890 --> 00:07:22,300
ways for example walking tours it used

00:07:20,740 --> 00:07:23,740
to be that you had like headsets and

00:07:22,300 --> 00:07:24,970
would type in numbers at different

00:07:23,740 --> 00:07:27,640
pieces of art and they would tell you

00:07:24,970 --> 00:07:29,260
about it now using augmented reality you

00:07:27,640 --> 00:07:31,570
can just walk to different places and

00:07:29,260 --> 00:07:34,900
based off of your location you'll hear

00:07:31,570 --> 00:07:36,730
different information about the artwork

00:07:34,900 --> 00:07:39,190
so that's really really incredible as

00:07:36,730 --> 00:07:42,760
well the Louvre also made it so that you

00:07:39,190 --> 00:07:43,840
could project their artwork no matter

00:07:42,760 --> 00:07:45,640
where you were in the world

00:07:43,840 --> 00:07:47,800
so in Los Angeles they had a warehouse

00:07:45,640 --> 00:07:49,900
and they converted it into the Louvre by

00:07:47,800 --> 00:07:51,720
doing projections there so that's really

00:07:49,900 --> 00:07:54,160
cool as well

00:07:51,720 --> 00:07:56,020
Pokemon go you may have played this I

00:07:54,160 --> 00:07:57,340
didn't really but my mom was really into

00:07:56,020 --> 00:08:02,200
it even though she didn't know Pokemon

00:07:57,340 --> 00:08:03,790
so that was really fun you could capture

00:08:02,200 --> 00:08:07,690
these little animals that were out in

00:08:03,790 --> 00:08:09,100
your world and that game was huge for a

00:08:07,690 --> 00:08:11,800
while and there are other games like it

00:08:09,100 --> 00:08:13,540
as well now welcoming rock climbing is

00:08:11,800 --> 00:08:15,400
one of my big hobbies and people are

00:08:13,540 --> 00:08:16,720
using augmented reality to create

00:08:15,400 --> 00:08:18,970
climbing routes and climbing

00:08:16,720 --> 00:08:20,560
competitions which used to be static you

00:08:18,970 --> 00:08:22,450
used to have a root cellar and you put

00:08:20,560 --> 00:08:24,880
put tape up and that's how it usually is

00:08:22,450 --> 00:08:26,050
now as well but they're making it so

00:08:24,880 --> 00:08:27,940
that you could have routes using

00:08:26,050 --> 00:08:30,490
augmented reality instead which allows

00:08:27,940 --> 00:08:31,930
for much quicker and dynamic route

00:08:30,490 --> 00:08:35,920
setting so that's really cool as well

00:08:31,930 --> 00:08:37,780
and then it even goes beyond that so

00:08:35,920 --> 00:08:40,450
they're using augmented reality for some

00:08:37,780 --> 00:08:42,460
medical purposes as well so in order to

00:08:40,450 --> 00:08:45,790
increase contrast for some people who

00:08:42,460 --> 00:08:48,460
have visual impairments so you can see

00:08:45,790 --> 00:08:51,040
the different lighting that may help

00:08:48,460 --> 00:08:54,340
some people see certain settings better

00:08:51,040 --> 00:08:57,160
so it goes beyond this artistic and

00:08:54,340 --> 00:08:58,570
marketing world as well so there are a

00:08:57,160 --> 00:09:01,360
couple of different types of augmented

00:08:58,570 --> 00:09:03,790
reality the first one was marker based

00:09:01,360 --> 00:09:06,250
so marker based augmented reality was

00:09:03,790 --> 00:09:08,050
the very first type and you would have

00:09:06,250 --> 00:09:11,320
something that was almost like a QR code

00:09:08,050 --> 00:09:12,940
or this hero marker here and

00:09:11,320 --> 00:09:16,630
you would project something based on top

00:09:12,940 --> 00:09:18,790
of that so that was pretty limited at

00:09:16,630 --> 00:09:21,700
that time but a lot of augmented reality

00:09:18,790 --> 00:09:23,170
is still based off of Merkers so

00:09:21,700 --> 00:09:25,660
something in reality that you're adding

00:09:23,170 --> 00:09:27,190
something to usually your face but there

00:09:25,660 --> 00:09:30,030
are other things as well that you may

00:09:27,190 --> 00:09:33,490
add augmented reality now on top of

00:09:30,030 --> 00:09:35,740
marker less augmented reality is similar

00:09:33,490 --> 00:09:39,820
but just no marker so you're adding

00:09:35,740 --> 00:09:40,960
something to the world without an item

00:09:39,820 --> 00:09:44,290
that you're adding it on top of so

00:09:40,960 --> 00:09:45,910
something like Pokemon go or something

00:09:44,290 --> 00:09:48,550
that's location-based would be marker

00:09:45,910 --> 00:09:50,290
less augmented reality there's

00:09:48,550 --> 00:09:52,690
projection based augmented reality so

00:09:50,290 --> 00:09:53,980
something like that climbing about where

00:09:52,690 --> 00:09:55,180
you're actually projecting something out

00:09:53,980 --> 00:09:58,930
into the real world using augmented

00:09:55,180 --> 00:10:00,400
reality superimposition based where you

00:09:58,930 --> 00:10:02,440
have something that's being added so

00:10:00,400 --> 00:10:04,600
this is a combination usually with

00:10:02,440 --> 00:10:07,120
marker marker less so something like

00:10:04,600 --> 00:10:08,500
IKEA where you're projecting the couches

00:10:07,120 --> 00:10:12,460
into the real world would be super

00:10:08,500 --> 00:10:14,050
imposition based so I want to talk about

00:10:12,460 --> 00:10:18,190
the ways that you can build augmented

00:10:14,050 --> 00:10:20,170
reality apps now so one way that you can

00:10:18,190 --> 00:10:23,530
is through something called a frame and

00:10:20,170 --> 00:10:25,150
a rjs on top of it the really cool thing

00:10:23,530 --> 00:10:26,530
about it is that you can build augmented

00:10:25,150 --> 00:10:28,090
reality apps without even using

00:10:26,530 --> 00:10:30,520
javascript you can just rate essentially

00:10:28,090 --> 00:10:33,490
HTML code and have augmented reality

00:10:30,520 --> 00:10:34,930
apps built out you have to use a marker

00:10:33,490 --> 00:10:37,300
like the hero marker that I showed you

00:10:34,930 --> 00:10:39,370
before so it's a little bit limited in

00:10:37,300 --> 00:10:41,410
that respect those fancy is like the

00:10:39,370 --> 00:10:43,630
face based I'm going to do reality but

00:10:41,410 --> 00:10:45,610
you can build something like that where

00:10:43,630 --> 00:10:47,560
it projects a cube on top of the hero

00:10:45,610 --> 00:10:49,030
marker and ten lines of HTML that's the

00:10:47,560 --> 00:10:53,890
only hot code you have to write it's

00:10:49,030 --> 00:10:56,500
pretty powerful and then I have been

00:10:53,890 --> 00:10:59,710
using tracking j/s so tracking jeaious

00:10:56,500 --> 00:11:01,630
is a computer vision library for

00:10:59,710 --> 00:11:03,370
JavaScript and what were allows you to

00:11:01,630 --> 00:11:05,260
do is detect things in the real world

00:11:03,370 --> 00:11:08,320
and then you can use the coordinates of

00:11:05,260 --> 00:11:11,710
that thing in the real world and build

00:11:08,320 --> 00:11:14,380
on top of it so I did face recognition

00:11:11,710 --> 00:11:16,480
but they also have color based

00:11:14,380 --> 00:11:17,980
recognition or parts of your face or

00:11:16,480 --> 00:11:20,110
your hands or something along those

00:11:17,980 --> 00:11:22,339
lines and it's pretty lightweight it's

00:11:20,110 --> 00:11:25,040
not a massive massive library by

00:11:22,339 --> 00:11:27,709
means and it's super accessible so

00:11:25,040 --> 00:11:29,839
they've got great documentation and it's

00:11:27,709 --> 00:11:30,889
not impossible to write by any means you

00:11:29,839 --> 00:11:35,449
don't have to do a ton of the math

00:11:30,889 --> 00:11:40,699
yourself and so we're going to go ahead

00:11:35,449 --> 00:11:43,870
and look at my app in my code so I'm

00:11:40,699 --> 00:11:43,870
gonna switch over now

00:12:02,040 --> 00:12:06,210
so hopefully this works on stage but

00:12:04,110 --> 00:12:07,800
it's giving me a flower crown and you

00:12:06,210 --> 00:12:10,410
can see that and it does for anybody

00:12:07,800 --> 00:12:15,780
that is on the projection I can switch

00:12:10,410 --> 00:12:18,030
it over to bunny ears as well and it

00:12:15,780 --> 00:12:20,250
gets my face there and this whole

00:12:18,030 --> 00:12:23,390
application was 47 lines of JavaScript

00:12:20,250 --> 00:12:23,390
so I'll show you that code now

00:12:30,070 --> 00:12:35,889
so starting off with the HTML it's

00:12:32,800 --> 00:12:37,630
pretty basic the most difficult part of

00:12:35,889 --> 00:12:40,180
this whole project was actually stacking

00:12:37,630 --> 00:12:41,949
a canvas on top of a video element that

00:12:40,180 --> 00:12:44,079
turned out to be a little bit tricky but

00:12:41,949 --> 00:12:47,440
the fact that the CSS was the hardest

00:12:44,079 --> 00:12:50,290
part says a lot I think so again I have

00:12:47,440 --> 00:12:52,810
a video element and which is how my

00:12:50,290 --> 00:12:55,120
videos track taken from my webcam and

00:12:52,810 --> 00:12:58,750
then I have a canvas on top of that the

00:12:55,120 --> 00:13:01,899
canvas is where the actual filters are

00:12:58,750 --> 00:13:07,930
projected on top of so I have those two

00:13:01,899 --> 00:13:09,490
elements there and then my JavaScript so

00:13:07,930 --> 00:13:11,230
at the beginning it's just a bunch of

00:13:09,490 --> 00:13:13,690
grabbing things from the Dom that I'm

00:13:11,230 --> 00:13:15,610
going to be you interacting with and

00:13:13,690 --> 00:13:17,980
then I'm creating a new tracker for the

00:13:15,610 --> 00:13:20,339
faces on the screen and then I'm

00:13:17,980 --> 00:13:23,110
grabbing the flower crown and the button

00:13:20,339 --> 00:13:25,269
I'm taking of the image so the image

00:13:23,110 --> 00:13:26,589
it's a going to be an image object so

00:13:25,269 --> 00:13:29,050
that I have all the information about it

00:13:26,589 --> 00:13:33,069
that's gonna store my actual crown

00:13:29,050 --> 00:13:36,250
itself and then as the bunny face as

00:13:33,069 --> 00:13:39,339
well and then I have the X Y width and

00:13:36,250 --> 00:13:41,889
height so I have to scale those in order

00:13:39,339 --> 00:13:46,870
to make them fit better I have ability

00:13:41,889 --> 00:13:48,430
to change pictures and then I have the

00:13:46,870 --> 00:13:53,110
ability to change to the photo parent

00:13:48,430 --> 00:13:55,510
and the bunny ears as well these

00:13:53,110 --> 00:13:57,490
coordinates here are just scaling for

00:13:55,510 --> 00:13:59,170
the images I found two random PNG x' on

00:13:57,490 --> 00:14:03,370
the internet that were the flower crown

00:13:59,170 --> 00:14:04,839
and that bunny face and so I had to edit

00:14:03,370 --> 00:14:07,329
them a little bit in order to be the

00:14:04,839 --> 00:14:09,190
proper size and so this is just scaling

00:14:07,329 --> 00:14:10,420
them so there are x and y coordinates

00:14:09,190 --> 00:14:11,920
and their width and height so that by

00:14:10,420 --> 00:14:14,560
default they fit on somebody's head

00:14:11,920 --> 00:14:16,149
pretty well that was again the most time

00:14:14,560 --> 00:14:20,709
for this because I was just tweaking

00:14:16,149 --> 00:14:24,579
that but again not a huge amount of code

00:14:20,709 --> 00:14:26,500
here and then some more tracking code so

00:14:24,579 --> 00:14:28,509
the first one is set initial scale this

00:14:26,500 --> 00:14:30,610
is how big the box around your face is

00:14:28,509 --> 00:14:32,680
so behind-the-scenes tracking j/s is

00:14:30,610 --> 00:14:34,839
making a box around where your faces and

00:14:32,680 --> 00:14:36,639
so this is saying that it's going to be

00:14:34,839 --> 00:14:37,339
the initial scale is going to be 4 if

00:14:36,639 --> 00:14:39,230
it's

00:14:37,339 --> 00:14:40,939
ten instead that it's a lot bigger and

00:14:39,230 --> 00:14:43,100
the crown goes way outside of my head if

00:14:40,939 --> 00:14:44,740
it's one that it's a smaller crown so

00:14:43,100 --> 00:14:48,230
that's essentially what it's doing there

00:14:44,740 --> 00:14:52,399
the step size is how often it's going to

00:14:48,230 --> 00:14:55,279
track to see faces on a screen so this

00:14:52,399 --> 00:14:57,410
one is two and so it's a pretty fast it

00:14:55,279 --> 00:15:01,220
checks for new faces pretty frequently

00:14:57,410 --> 00:15:03,139
on that video but you could speed it up

00:15:01,220 --> 00:15:04,699
so that it tracks even faster it's a

00:15:03,139 --> 00:15:06,740
little bit less performant and that way

00:15:04,699 --> 00:15:08,509
or I could slow it down so it's only

00:15:06,740 --> 00:15:11,839
looking for faces every couple seconds

00:15:08,509 --> 00:15:15,079
or so and then the last one is how picky

00:15:11,839 --> 00:15:16,879
the model is so there is a model going

00:15:15,079 --> 00:15:18,350
on behind the scenes so that it's doing

00:15:16,879 --> 00:15:20,240
all the stats of whether something's a

00:15:18,350 --> 00:15:21,800
face or not it's a binary classifier

00:15:20,240 --> 00:15:25,579
I'll talk about the algorithm a little

00:15:21,800 --> 00:15:28,579
bit later and this is just picking how

00:15:25,579 --> 00:15:31,490
picky that model is so if I had turned

00:15:28,579 --> 00:15:33,110
this even further down so less than 0.1

00:15:31,490 --> 00:15:35,059
then it's going to get all these false

00:15:33,110 --> 00:15:38,199
positives and thinks that things think

00:15:35,059 --> 00:15:40,850
things that are not faces our faces so I

00:15:38,199 --> 00:15:44,389
built this code in my instructors lounge

00:15:40,850 --> 00:15:45,740
which has whiteboard walls and so there

00:15:44,389 --> 00:15:49,370
were pictures on the walls everywhere

00:15:45,740 --> 00:15:51,110
and at first before I set this edge

00:15:49,370 --> 00:15:52,730
density it kept thinking that all the

00:15:51,110 --> 00:15:55,579
drawings behind me were faces and they

00:15:52,730 --> 00:15:57,949
were not so then if I make it way more

00:15:55,579 --> 00:16:01,699
picky than it won't see my face in some

00:15:57,949 --> 00:16:04,009
lighting like this or backstage or

00:16:01,699 --> 00:16:06,079
something along those lines so that's

00:16:04,009 --> 00:16:09,500
just something to play with to decide

00:16:06,079 --> 00:16:12,670
how picky you want the model to be I'm

00:16:09,500 --> 00:16:16,339
making it track the actual video element

00:16:12,670 --> 00:16:19,430
on that page so that's how I set that up

00:16:16,339 --> 00:16:22,009
and then here's the actual tracking so

00:16:19,430 --> 00:16:24,589
it's an event listens for the tracking

00:16:22,009 --> 00:16:26,059
event when that happens it's going to

00:16:24,589 --> 00:16:30,170
clear my canvas that I already have

00:16:26,059 --> 00:16:32,540
there I'm gonna make it blink then for

00:16:30,170 --> 00:16:36,110
every face that's in that event data it

00:16:32,540 --> 00:16:38,509
is going to draw an image on it so

00:16:36,110 --> 00:16:39,889
that's all that I had to do most of this

00:16:38,509 --> 00:16:42,620
isn't even code that's related to

00:16:39,889 --> 00:16:46,129
tracking Jes and I have this fully

00:16:42,620 --> 00:16:47,629
working AR app I think I reformatted it

00:16:46,129 --> 00:16:49,860
so it's 51 lines of code but it's

00:16:47,629 --> 00:16:52,170
normally 47 Oh

00:16:49,860 --> 00:16:54,000
the three comments that's why I didn't

00:16:52,170 --> 00:16:57,060
even code golf this if I had codes often

00:16:54,000 --> 00:16:58,650
anybody use code golf so code above is

00:16:57,060 --> 00:17:00,390
when you write code that's as few

00:16:58,650 --> 00:17:02,880
letters as possible in order to like

00:17:00,390 --> 00:17:04,500
pass some code challenges I have fun

00:17:02,880 --> 00:17:06,630
doing that but I didn't code golf this

00:17:04,500 --> 00:17:08,910
so I did full of variable names and

00:17:06,630 --> 00:17:11,700
multiple things on lines and all that so

00:17:08,910 --> 00:17:15,870
I could have made it less than 47 lines

00:17:11,700 --> 00:17:18,150
of code if I really wanted it to but not

00:17:15,870 --> 00:17:28,110
a huge amount of code for a pretty cool

00:17:18,150 --> 00:17:30,270
app so the algorithm so tracking j/s

00:17:28,110 --> 00:17:33,060
uses the viola jones facial detection

00:17:30,270 --> 00:17:34,350
algorithm facial detection of the facial

00:17:33,060 --> 00:17:36,570
recognition are two different things so

00:17:34,350 --> 00:17:39,090
facial detection is face knock face

00:17:36,570 --> 00:17:43,260
facial routes recognition is whose face

00:17:39,090 --> 00:17:45,780
is it and so this uses facial detection

00:17:43,260 --> 00:17:47,720
so it's just a binary classifier this is

00:17:45,780 --> 00:17:50,790
a face this is not a face

00:17:47,720 --> 00:17:54,030
well it looks for is that people's eyes

00:17:50,790 --> 00:17:56,130
region are further back so it's darker

00:17:54,030 --> 00:17:58,170
than the rest of your face and then the

00:17:56,130 --> 00:18:00,630
nose and forehead region and cheekbones

00:17:58,170 --> 00:18:02,100
are lighter because therefore closer to

00:18:00,630 --> 00:18:05,370
you and so it's looking for that

00:18:02,100 --> 00:18:08,010
essentially it sends up the pixel values

00:18:05,370 --> 00:18:10,110
in any rectangle and uses that pixel

00:18:08,010 --> 00:18:12,030
value of dark and lightness in order to

00:18:10,110 --> 00:18:19,620
check to see if something is a face or

00:18:12,030 --> 00:18:24,090
not and then yeah so that's the viola

00:18:19,620 --> 00:18:26,760
Jones algorithm right there it's used by

00:18:24,090 --> 00:18:36,000
a lot of facial detection software not

00:18:26,760 --> 00:18:37,680
just tracking Jay s so that is tracking

00:18:36,000 --> 00:18:41,490
Jay s and it has again a lot of other

00:18:37,680 --> 00:18:44,790
classifiers as well so it has ones for

00:18:41,490 --> 00:18:46,560
different colors it has things for your

00:18:44,790 --> 00:18:47,760
eyes or your nose or something along

00:18:46,560 --> 00:18:49,950
those lines if you wanted to make your

00:18:47,760 --> 00:18:52,530
filters even better I tried to add the

00:18:49,950 --> 00:18:54,600
dog filter at some point but that got

00:18:52,530 --> 00:18:57,480
too difficult and like the nose and eye

00:18:54,600 --> 00:19:01,950
gaps was too hard to implement so I

00:18:57,480 --> 00:19:03,420
definitely would recommend using those

00:19:01,950 --> 00:19:04,950
pickier

00:19:03,420 --> 00:19:07,440
models if you were trying to do even

00:19:04,950 --> 00:19:09,270
more complicated facial filters there

00:19:07,440 --> 00:19:11,820
are also a lot of other libraries out

00:19:09,270 --> 00:19:14,970
there as well for doing this other

00:19:11,820 --> 00:19:16,620
JavaScript libraries and the reason I

00:19:14,970 --> 00:19:18,600
didn't go with them is just because the

00:19:16,620 --> 00:19:20,460
documentation was worse and so that's a

00:19:18,600 --> 00:19:21,620
big call to action for open-source

00:19:20,460 --> 00:19:24,540
maintainer to make sure that your

00:19:21,620 --> 00:19:27,059
documentation is good but what comes

00:19:24,540 --> 00:19:28,920
next so i've sigma augmented reality is

00:19:27,059 --> 00:19:30,929
going to be huge in the future for a lot

00:19:28,920 --> 00:19:32,670
of different purposes i think that the

00:19:30,929 --> 00:19:35,280
artistic applications are really

00:19:32,670 --> 00:19:38,100
powerful in Washington DC where I used

00:19:35,280 --> 00:19:39,900
to live there's this art museum called

00:19:38,100 --> 00:19:43,620
the art tech house and they've had tons

00:19:39,900 --> 00:19:46,740
of augmented reality exhibits there and

00:19:43,620 --> 00:19:50,340
so definitely a lot going on in that

00:19:46,740 --> 00:19:53,280
world and then as far as the code goes I

00:19:50,340 --> 00:19:57,210
think that it's going to become more and

00:19:53,280 --> 00:19:59,130
more accessible so Mozilla is coming out

00:19:57,210 --> 00:20:01,080
with mixed reality EP eyes that are

00:19:59,130 --> 00:20:03,090
built straight into the browser so you

00:20:01,080 --> 00:20:04,470
don't need to download another library

00:20:03,090 --> 00:20:06,120
or anything like that you can build

00:20:04,470 --> 00:20:08,010
augmented reality apps and virtual

00:20:06,120 --> 00:20:10,950
reality apps straight with this browser

00:20:08,010 --> 00:20:13,110
API in addition there's also the face

00:20:10,950 --> 00:20:15,059
step detection API that one's

00:20:13,110 --> 00:20:17,640
implemented in certain versions of

00:20:15,059 --> 00:20:19,110
Chrome and that detects whether

00:20:17,640 --> 00:20:21,900
something of the face are not already

00:20:19,110 --> 00:20:23,370
just in JavaScript and just in the

00:20:21,900 --> 00:20:27,540
browser itself so again you don't have

00:20:23,370 --> 00:20:29,640
to download anything else it's really

00:20:27,540 --> 00:20:32,640
incredible how fast this is evolving and

00:20:29,640 --> 00:20:34,770
how much is already getting built into

00:20:32,640 --> 00:20:36,090
the browser and it's even going to go

00:20:34,770 --> 00:20:39,660
further I think in mobile applications

00:20:36,090 --> 00:20:43,260
as well the thing with websites is that

00:20:39,660 --> 00:20:45,840
you're really limited by webcams and

00:20:43,260 --> 00:20:48,450
webcams aren't necessarily the the best

00:20:45,840 --> 00:20:51,990
harness or of information in the world

00:20:48,450 --> 00:20:54,330
and so there's definitely going to be

00:20:51,990 --> 00:20:56,250
more with mobile apps than anything else

00:20:54,330 --> 00:20:57,660
in addition the marketing concept

00:20:56,250 --> 00:20:59,610
context is going to be really

00:20:57,660 --> 00:21:01,470
interesting as well trying on clothes

00:20:59,610 --> 00:21:03,330
trying furniture trying all different

00:21:01,470 --> 00:21:09,000
sorts of things go right into your

00:21:03,330 --> 00:21:10,440
browser so that's all from so these are

00:21:09,000 --> 00:21:12,120
more resources as well so if you're

00:21:10,440 --> 00:21:13,050
interested in reading up about any more

00:21:12,120 --> 00:21:15,300
of the

00:21:13,050 --> 00:21:17,790
heavy math side or anything like that

00:21:15,300 --> 00:21:18,570
I've got all of these linked my slides

00:21:17,790 --> 00:21:22,410
are online

00:21:18,570 --> 00:21:25,080
Alex Patel /ar - JavaScript they will be

00:21:22,410 --> 00:21:26,940
up online as long as history goes

00:21:25,080 --> 00:21:29,640
essentially unless I you know delete

00:21:26,940 --> 00:21:31,410
github or something for some reason so

00:21:29,640 --> 00:21:33,000
they are online you can look through all

00:21:31,410 --> 00:21:35,340
these resources on getting started with

00:21:33,000 --> 00:21:37,820
augmented reality there's the viola

00:21:35,340 --> 00:21:40,230
Jones paper right there based off of

00:21:37,820 --> 00:21:42,150
that mathematical algorithm that I was

00:21:40,230 --> 00:21:44,010
talking about that tracking j/s uses for

00:21:42,150 --> 00:21:45,929
facial detection there's also the

00:21:44,010 --> 00:21:48,750
tracking j/s implementation of the viola

00:21:45,929 --> 00:21:50,880
Jones algorithm my article on using

00:21:48,750 --> 00:21:55,530
tracking j/s to make the snapchat

00:21:50,880 --> 00:21:57,630
filters a awesome code newbie episode if

00:21:55,530 --> 00:21:59,730
you saw Sirhan doing fan line heroes

00:21:57,630 --> 00:22:01,440
earlier she has another podcast and it's

00:21:59,730 --> 00:22:02,809
a really really awesome episode about

00:22:01,440 --> 00:22:05,550
getting started with augmented reality

00:22:02,809 --> 00:22:07,650
zap lieberman who is my favorite

00:22:05,550 --> 00:22:10,290
augmented reality artist I have his

00:22:07,650 --> 00:22:11,730
Instagram link there and then also some

00:22:10,290 --> 00:22:15,120
of the libraries that you can use as

00:22:11,730 --> 00:22:17,220
well and keep in touch if you want to

00:22:15,120 --> 00:22:19,170
reach out I'll be at this event tonight

00:22:17,220 --> 00:22:21,420
and then tomorrow as well but you can

00:22:19,170 --> 00:22:23,850
also find me online if you want to talk

00:22:21,420 --> 00:22:26,300
more about augmented reality and thank

00:22:23,850 --> 00:22:26,300
you all so much

00:22:28,220 --> 00:22:30,280

YouTube URL: https://www.youtube.com/watch?v=rm-dFWP9bB4


