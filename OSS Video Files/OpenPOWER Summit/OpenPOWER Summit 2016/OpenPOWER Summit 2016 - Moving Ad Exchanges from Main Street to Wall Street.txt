Title: OpenPOWER Summit 2016 - Moving Ad Exchanges from Main Street to Wall Street
Publication date: 2016-04-29
Playlist: OpenPOWER Summit 2016
Description: 
	Presented by John W. Lockwood of Algo-Logic Systems
Captions: 
	00:00:00,050 --> 00:00:05,310
hi I'm John Locke what i'ma talk today

00:00:03,330 --> 00:00:08,519
about moving at exchanges from Main

00:00:05,310 --> 00:00:10,230
Street to Wall Street and so this is an

00:00:08,519 --> 00:00:12,740
idea of revolutionising a David data

00:00:10,230 --> 00:00:14,940
center by taking ad tech technology

00:00:12,740 --> 00:00:16,350
upgrading it to the technology that Wall

00:00:14,940 --> 00:00:20,039
Street's been using to make high-speed

00:00:16,350 --> 00:00:22,769
exchanges so today's a detect requires

00:00:20,039 --> 00:00:25,260
time to parse bid requests look up

00:00:22,769 --> 00:00:28,140
relevant data about a user evaluate an

00:00:25,260 --> 00:00:30,480
opportunity decide on the value of an ad

00:00:28,140 --> 00:00:32,790
and price a bid to serve an impression

00:00:30,480 --> 00:00:34,950
on a webpage so the real-time bidding

00:00:32,790 --> 00:00:37,920
protocol serves hundreds of billions of

00:00:34,950 --> 00:00:41,250
ads daily about a hundred different

00:00:37,920 --> 00:00:42,780
demand-side platforms moving hundreds of

00:00:41,250 --> 00:00:45,770
terabytes of data back and forth through

00:00:42,780 --> 00:00:50,219
ad exchanges to serve up ad impressions

00:00:45,770 --> 00:00:51,899
so the ad tech bidding eco system allows

00:00:50,219 --> 00:00:54,960
users that are visiting publishes web

00:00:51,899 --> 00:00:56,850
pages have supply opportunities for ad

00:00:54,960 --> 00:00:58,500
impressions and multiple advertisers

00:00:56,850 --> 00:01:01,140
compete for the opportunity to display

00:00:58,500 --> 00:01:02,940
an ad and the Ad Exchange auction space

00:01:01,140 --> 00:01:04,170
for the impressions and so as we can see

00:01:02,940 --> 00:01:06,780
in the picture is that the publisher

00:01:04,170 --> 00:01:09,479
content the publisher has continent

00:01:06,780 --> 00:01:12,299
space that's supply-side and the

00:01:09,479 --> 00:01:13,890
advertisers are the demand side and so

00:01:12,299 --> 00:01:15,900
either the advertisers themselves are

00:01:13,890 --> 00:01:18,060
going through the agency is that they're

00:01:15,900 --> 00:01:20,909
buying looking for the best way to reach

00:01:18,060 --> 00:01:22,439
their customers and so every time that

00:01:20,909 --> 00:01:24,930
there's an opportunity on a page to show

00:01:22,439 --> 00:01:28,200
an impression is that an auction occurs

00:01:24,930 --> 00:01:32,939
and that auction allows the best bidder

00:01:28,200 --> 00:01:36,900
to match up with the best publisher that

00:01:32,939 --> 00:01:38,790
has an opportunity to show that ad the

00:01:36,900 --> 00:01:40,740
motivation for this is that improvements

00:01:38,790 --> 00:01:42,930
are necessary to get better transparency

00:01:40,740 --> 00:01:45,329
and better price discovery for the ad

00:01:42,930 --> 00:01:47,369
tech markets is that it is known that

00:01:45,329 --> 00:01:50,040
multiple rounds of bidding generate

00:01:47,369 --> 00:01:51,840
better prices than single round in the

00:01:50,040 --> 00:01:54,210
financial markets in the United States

00:01:51,840 --> 00:01:56,460
and around the world now are very

00:01:54,210 --> 00:01:58,979
efficient and they provide a continuous

00:01:56,460 --> 00:02:03,210
auction for the equities commodities and

00:01:58,979 --> 00:02:04,560
futures that are sold every day and we

00:02:03,210 --> 00:02:06,450
could take that technology that's being

00:02:04,560 --> 00:02:08,340
used on Wall Street and bring it into

00:02:06,450 --> 00:02:11,849
the ad tech market and have a much more

00:02:08,340 --> 00:02:13,740
efficient ad tech market and so using

00:02:11,849 --> 00:02:15,150
that we'll use the equity trading as an

00:02:13,740 --> 00:02:18,570
example for how we could improve the ad

00:02:15,150 --> 00:02:19,830
tech market and so specifically we're

00:02:18,570 --> 00:02:22,560
gonna want to talk about how we can

00:02:19,830 --> 00:02:24,720
monitor live market data feeds and

00:02:22,560 --> 00:02:28,500
compute an order book within what FPGA

00:02:24,720 --> 00:02:30,270
so that as we're bidding we can see we

00:02:28,500 --> 00:02:33,900
have visibility into the best bid and

00:02:30,270 --> 00:02:35,310
ask prices of the prices and so algal

00:02:33,900 --> 00:02:37,110
logic has implemented what we call a

00:02:35,310 --> 00:02:39,510
gate where Defined Networking capi

00:02:37,110 --> 00:02:41,910
enabled order book that can be applied

00:02:39,510 --> 00:02:45,450
to the real-time bidding problem RTB and

00:02:41,910 --> 00:02:47,460
it provides a way to get visibility into

00:02:45,450 --> 00:02:50,520
the by and at the bid and ask side of

00:02:47,460 --> 00:02:51,600
the pricing and so the order book as

00:02:50,520 --> 00:02:55,500
part of the solution would look like

00:02:51,600 --> 00:02:56,640
this is that the exchange is and I'll

00:02:55,500 --> 00:02:58,530
talk to miss about the way that the

00:02:56,640 --> 00:03:01,350
equity exchanges work is that the

00:02:58,530 --> 00:03:04,890
exchanges can feeds out through

00:03:01,350 --> 00:03:07,470
multicast UDP a set of market data

00:03:04,890 --> 00:03:09,030
messages that give the pricing and so

00:03:07,470 --> 00:03:11,160
this prices are every time that there's

00:03:09,030 --> 00:03:13,170
a bitter or there's a supplier that

00:03:11,160 --> 00:03:15,390
changes the price on the bid or a side

00:03:13,170 --> 00:03:17,280
that gets broadcast out to the world

00:03:15,390 --> 00:03:20,450
so there's full visibility and

00:03:17,280 --> 00:03:23,580
transparency to all the participants on

00:03:20,450 --> 00:03:26,630
what what the price of what the bid and

00:03:23,580 --> 00:03:28,650
offers are and to keep track of the best

00:03:26,630 --> 00:03:31,740
prices you have to have an order book

00:03:28,650 --> 00:03:33,840
and so the exchange maintains a queue of

00:03:31,740 --> 00:03:36,870
the best bids and the best ask for each

00:03:33,840 --> 00:03:38,850
of the items that are being sold but you

00:03:36,870 --> 00:03:40,740
as a bitter also want to have a mirror

00:03:38,850 --> 00:03:42,780
copy of that and so that order book can

00:03:40,740 --> 00:03:43,980
be replicated you want to have a mirror

00:03:42,780 --> 00:03:45,630
copy that replicated so you have

00:03:43,980 --> 00:03:47,700
transparency and you can see what the

00:03:45,630 --> 00:03:49,590
best bid and ask price is and so based

00:03:47,700 --> 00:03:52,020
on that your trading logic can decide if

00:03:49,590 --> 00:03:53,550
you want to up your bid or if you want

00:03:52,020 --> 00:03:57,620
to put additional offers into the market

00:03:53,550 --> 00:03:59,730
to buy that add opportunity and so this

00:03:57,620 --> 00:04:01,740
implementation on the power eight that

00:03:59,730 --> 00:04:05,190
alga logic is built looks as follows is

00:04:01,740 --> 00:04:10,950
that we have an FPGA card this is an

00:04:05,190 --> 00:04:13,380
ullatec FPGA IP 385 that has a copy bus

00:04:10,950 --> 00:04:15,870
that connects to the power 8 and so and

00:04:13,380 --> 00:04:18,420
it has a thern ette port and so on the

00:04:15,870 --> 00:04:20,880
Ethernet ports the SFP+ ports live

00:04:18,420 --> 00:04:22,590
market data streams in and in the AF

00:04:20,880 --> 00:04:24,810
view we have logic which is implementing

00:04:22,590 --> 00:04:27,100
the order book and then through the PSL

00:04:24,810 --> 00:04:28,780
which is IBM's power service layer is

00:04:27,100 --> 00:04:32,650
we're sending data across the coherent

00:04:28,780 --> 00:04:34,600
boss to the power eight processor and so

00:04:32,650 --> 00:04:36,610
as the system's writing the exchanges

00:04:34,600 --> 00:04:38,440
feeding this multicast data is feeding

00:04:36,610 --> 00:04:40,360
into the alga logic order book and

00:04:38,440 --> 00:04:42,010
through the power service layer we're

00:04:40,360 --> 00:04:43,720
pushing those updates which are the

00:04:42,010 --> 00:04:46,060
snapshots of what the current market is

00:04:43,720 --> 00:04:48,460
down into the power eight processor

00:04:46,060 --> 00:04:51,400
which goes into shared memory and so as

00:04:48,460 --> 00:04:53,470
a result that the application can be a

00:04:51,400 --> 00:04:55,630
standard user space application running

00:04:53,470 --> 00:04:58,090
in software so no modifications to the

00:04:55,630 --> 00:05:00,970
software needed except that they can see

00:04:58,090 --> 00:05:03,520
at any given time the best all the

00:05:00,970 --> 00:05:05,890
different bids and ask prices for the ad

00:05:03,520 --> 00:05:07,510
that they're looking to buy and so shown

00:05:05,890 --> 00:05:09,190
here is what this looks like live when

00:05:07,510 --> 00:05:11,260
it's deployed in an equity market which

00:05:09,190 --> 00:05:13,150
is how it's being used today and so you

00:05:11,260 --> 00:05:16,630
can see the number of stocks are being

00:05:13,150 --> 00:05:19,200
shown and so hardware is computing the

00:05:16,630 --> 00:05:22,330
bid-ask books parsing the market data

00:05:19,200 --> 00:05:23,770
populated in shared memory in this case

00:05:22,330 --> 00:05:26,620
all that software is doing is simply

00:05:23,770 --> 00:05:29,230
plotting over time how the book changes

00:05:26,620 --> 00:05:31,150
and so we can see that for some number

00:05:29,230 --> 00:05:32,530
of different stock symbols over time

00:05:31,150 --> 00:05:35,050
that the blue and the red lines

00:05:32,530 --> 00:05:37,930
represent how the bid and ask prices are

00:05:35,050 --> 00:05:39,760
collapsing and expanding as buyers and

00:05:37,930 --> 00:05:42,010
sellers come into the market and the

00:05:39,760 --> 00:05:45,760
green line shows the last trade and so

00:05:42,010 --> 00:05:47,290
it provides a fair way to to achieve a

00:05:45,760 --> 00:05:49,180
bid it's much like being in an open

00:05:47,290 --> 00:05:50,710
auction where you could hear the bidders

00:05:49,180 --> 00:05:53,890
and asker so you've got a chart that

00:05:50,710 --> 00:05:55,270
shows you the best bid prices so

00:05:53,890 --> 00:05:58,540
specifically the data structure that

00:05:55,270 --> 00:06:01,270
comes out of the copy order book shows

00:05:58,540 --> 00:06:04,060
you the set of buy levels and sell

00:06:01,270 --> 00:06:06,040
levels and so that you can see what

00:06:04,060 --> 00:06:10,120
prices each of different levels are

00:06:06,040 --> 00:06:11,680
priced at and you can see the in 128

00:06:10,120 --> 00:06:14,320
byte structure is that you get an image

00:06:11,680 --> 00:06:16,300
a snapshot where software now can make a

00:06:14,320 --> 00:06:20,290
rational decision on where it should be

00:06:16,300 --> 00:06:23,740
bidding and so as the streams overtime

00:06:20,290 --> 00:06:27,100
is that the the bid and ask prices I

00:06:23,740 --> 00:06:28,930
mentioned before a change and so as the

00:06:27,100 --> 00:06:31,270
price changes for equities for example

00:06:28,930 --> 00:06:34,960
here if the Altera stock price you can

00:06:31,270 --> 00:06:37,050
see how as bids and ask move is that the

00:06:34,960 --> 00:06:40,090
book can open it can expand and contract

00:06:37,050 --> 00:06:41,020
but both on the buy side on the sell

00:06:40,090 --> 00:06:42,550
side you've got visible

00:06:41,020 --> 00:06:44,319
we've got transparency into the market

00:06:42,550 --> 00:06:46,960
and so it really makes us a much more

00:06:44,319 --> 00:06:49,210
fair market and a much more open market

00:06:46,960 --> 00:06:50,860
that your advertisers want to sell into

00:06:49,210 --> 00:06:53,050
her buy buy from

00:06:50,860 --> 00:06:54,669
so we've done live demonstrations of the

00:06:53,050 --> 00:06:56,860
capi order book we showed this last year

00:06:54,669 --> 00:06:58,930
with the equities and so in that case is

00:06:56,860 --> 00:07:00,699
that we had the nola tech card taken in

00:06:58,930 --> 00:07:03,940
live market data and so this was a

00:07:00,699 --> 00:07:06,190
Nasdaq itch feed coming in from market

00:07:03,940 --> 00:07:08,199
replay and then we fed that into the

00:07:06,190 --> 00:07:10,629
power8 processor and then ran the

00:07:08,199 --> 00:07:12,879
software to plot out the results of the

00:07:10,629 --> 00:07:15,880
order books and so we have a software

00:07:12,879 --> 00:07:17,800
API so that you could tell the hardware

00:07:15,880 --> 00:07:20,199
cart exactly which instruments that

00:07:17,800 --> 00:07:22,300
you're interested in trading and then

00:07:20,199 --> 00:07:24,970
based on how you populate those

00:07:22,300 --> 00:07:27,520
registers the hardware device the capi

00:07:24,970 --> 00:07:31,780
card will monitor that symbol and

00:07:27,520 --> 00:07:33,930
generate the charts for you so usually

00:07:31,780 --> 00:07:37,060
in the equities case these markets are

00:07:33,930 --> 00:07:40,349
continuous markets open all day as for

00:07:37,060 --> 00:07:42,490
example stock prices is trading is that

00:07:40,349 --> 00:07:45,460
but in the case of adtech the

00:07:42,490 --> 00:07:48,460
opportunity opens and closes and so for

00:07:45,460 --> 00:07:51,340
example a user hits a webpage an

00:07:48,460 --> 00:07:53,800
impression pops up you disseminate

00:07:51,340 --> 00:07:56,169
market data out to the public or out to

00:07:53,800 --> 00:07:58,659
yours your buyers and give them the

00:07:56,169 --> 00:08:00,610
opportunity to bid on that impression

00:07:58,659 --> 00:08:04,779
and you need to close that deal within

00:08:00,610 --> 00:08:07,199
milliseconds and so today that's being

00:08:04,779 --> 00:08:09,430
done with a single round auction where

00:08:07,199 --> 00:08:11,830
you make once you have one chance to

00:08:09,430 --> 00:08:13,930
tell your bidders that here's an

00:08:11,830 --> 00:08:15,370
opportunity to advertise and they get

00:08:13,930 --> 00:08:17,440
one response to respond back with the

00:08:15,370 --> 00:08:19,090
best price as we know that's not the

00:08:17,440 --> 00:08:21,940
best way to run an auction a one-round

00:08:19,090 --> 00:08:23,949
auction is not effective a multi round

00:08:21,940 --> 00:08:26,370
auction where it's continuous and you

00:08:23,949 --> 00:08:31,449
can see the competitive forces in play

00:08:26,370 --> 00:08:33,339
make this a much more better market for

00:08:31,449 --> 00:08:36,159
both the the buyers and the sellers and

00:08:33,339 --> 00:08:38,680
get real price discovery and the best

00:08:36,159 --> 00:08:41,140
value for all the players and so it may

00:08:38,680 --> 00:08:43,630
seem not feasible to have within

00:08:41,140 --> 00:08:45,430
milliseconds a multi round auction but

00:08:43,630 --> 00:08:47,680
in the equity space is that our logic

00:08:45,430 --> 00:08:49,180
has been implementing high frequent for

00:08:47,680 --> 00:08:51,430
high-frequency traders we implement

00:08:49,180 --> 00:08:53,500
order books that provide updates on the

00:08:51,430 --> 00:08:54,880
order of microseconds and so within a

00:08:53,500 --> 00:08:56,800
microsecond we can take

00:08:54,880 --> 00:08:58,900
market data and update the order book

00:08:56,800 --> 00:09:02,110
and push that out to shared memory and

00:08:58,900 --> 00:09:03,610
so that the control loop of having an

00:09:02,110 --> 00:09:05,770
auction within milliseconds we can

00:09:03,610 --> 00:09:07,780
actually have hundreds of rounds pass

00:09:05,770 --> 00:09:09,760
back and forth and then at the end of

00:09:07,780 --> 00:09:11,410
that say at the end of ten milliseconds

00:09:09,760 --> 00:09:13,570
we can close out the auction and start a

00:09:11,410 --> 00:09:14,860
new one and so it actually fits very

00:09:13,570 --> 00:09:17,950
well within the model that we developed

00:09:14,860 --> 00:09:19,720
or that we use for the options or for

00:09:17,950 --> 00:09:21,160
the equity trading because we already

00:09:19,720 --> 00:09:22,840
have all the infrastructure to create

00:09:21,160 --> 00:09:24,820
the auction run the auction and close

00:09:22,840 --> 00:09:26,860
the auction and we have some micro

00:09:24,820 --> 00:09:28,870
second level speeds that happen and so

00:09:26,860 --> 00:09:30,610
it's entirely feasible that this model

00:09:28,870 --> 00:09:33,580
applies perfectly to the ad tech space

00:09:30,610 --> 00:09:36,640
because we can start run and close an

00:09:33,580 --> 00:09:39,610
auction in milliseconds with microsecond

00:09:36,640 --> 00:09:40,930
speed transactions going on and so just

00:09:39,610 --> 00:09:43,330
to show the speed of this is that we've

00:09:40,930 --> 00:09:46,210
done benchmarks of the capi naval order

00:09:43,330 --> 00:09:47,770
book and starting from the fie Mac which

00:09:46,210 --> 00:09:50,290
is where market data comes in from the

00:09:47,770 --> 00:09:52,870
exchange over Ethernet to building the

00:09:50,290 --> 00:09:56,290
order book to going across the IBM PSL

00:09:52,870 --> 00:09:57,790
to going through the Cappy interface and

00:09:56,290 --> 00:10:00,040
getting to through the cache and getting

00:09:57,790 --> 00:10:02,200
to the C application that's running on

00:10:00,040 --> 00:10:04,390
the power8 is that that total time it

00:10:02,200 --> 00:10:07,060
takes to go from outside of the machine

00:10:04,390 --> 00:10:09,600
to the user application that's running

00:10:07,060 --> 00:10:13,930
is about one point five eight eight

00:10:09,600 --> 00:10:17,080
microseconds and so in just one and a

00:10:13,930 --> 00:10:19,810
half microseconds which is about a

00:10:17,080 --> 00:10:22,000
thousandth of a millisecond were able to

00:10:19,810 --> 00:10:23,890
get market data into the machine and we

00:10:22,000 --> 00:10:26,020
can respond in a similar amount of time

00:10:23,890 --> 00:10:27,940
so that means within a few microseconds

00:10:26,020 --> 00:10:30,490
we can turn around a transaction a bid

00:10:27,940 --> 00:10:32,200
and go back to the market and continue

00:10:30,490 --> 00:10:33,850
so that makes room for hundreds of

00:10:32,200 --> 00:10:35,770
potentially hundreds of rounds but

00:10:33,850 --> 00:10:40,750
certainly plenty of rounds to do polite

00:10:35,770 --> 00:10:43,170
good price discovery so thank you any

00:10:40,750 --> 00:10:43,170

YouTube URL: https://www.youtube.com/watch?v=XpI-UldWHQw


