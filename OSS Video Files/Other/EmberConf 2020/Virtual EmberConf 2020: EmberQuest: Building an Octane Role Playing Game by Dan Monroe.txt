Title: Virtual EmberConf 2020: EmberQuest: Building an Octane Role Playing Game by Dan Monroe
Publication date: 2020-03-26
Playlist: EmberConf 2020
Description: 
	EmberQuest: Building an Octane Role Playing Game by Dan Monroe

Journey with me as I discuss how Ember Octane made building an RPG easier. There are many challenges to make a playable game; rendering maps, moving the player and monsters, player inventory, combat. Never fear, we have magic on our side!

We'll use a Glimmering component for the main viewport, mini world map, Path Finding, and Fog of War. The magic of Ember-Concurrency will help drive moving and combat. The wizardry of Ember-Auto-Import will allow the use of Konva to draw on our HTML5 canvas.

Together, with the magic Octane sword I've named Tracked, we'll level-up and complete our EmberQuest!
Captions: 
	00:00:01,270 --> 00:00:20,820
[Music]

00:00:20,939 --> 00:00:27,070
good morning welcome to Ambur quest

00:00:24,400 --> 00:00:29,349
during this session I'm going to show

00:00:27,070 --> 00:00:34,239
you how you can build the next fortnight

00:00:29,349 --> 00:00:36,820
and make a million dollars okay maybe

00:00:34,239 --> 00:00:39,940
not fortnight and a million dollars is

00:00:36,820 --> 00:00:42,940
up to you I will show you how I wrote a

00:00:39,940 --> 00:00:47,140
game with ember octane then I'll provide

00:00:42,940 --> 00:00:49,680
you with some tools so you can - my name

00:00:47,140 --> 00:00:53,830
is Dan Munroe I'm a full-stack developer

00:00:49,680 --> 00:00:56,100
at Cardinal Health in Dublin Ohio before

00:00:53,830 --> 00:00:57,670
cardinal health I worked for Walt Disney

00:00:56,100 --> 00:01:02,199
copy sir

00:00:57,670 --> 00:01:06,670
AOL and Netscape I've been using

00:01:02,199 --> 00:01:11,200
javascript for a very long time over two

00:01:06,670 --> 00:01:14,020
decades I've seen the good parts and a

00:01:11,200 --> 00:01:18,070
lot of the bad out written a lot of the

00:01:14,020 --> 00:01:20,890
bad I'm sorry I wrote JavaScript four

00:01:18,070 --> 00:01:22,030
years before the first version of jQuery

00:01:20,890 --> 00:01:25,679
was ever released

00:01:22,030 --> 00:01:29,619
it was tedious when jQuery came out I

00:01:25,679 --> 00:01:33,390
thought it was magic having the right

00:01:29,619 --> 00:01:37,270
tools empowered me to write better code

00:01:33,390 --> 00:01:39,249
thank you john Rezac I've been using

00:01:37,270 --> 00:01:42,340
I've seen a lot of the JavaScript

00:01:39,249 --> 00:01:48,130
frameworks come and go of course

00:01:42,340 --> 00:01:50,499
ember is my favorite before I get into

00:01:48,130 --> 00:01:53,759
the game portion of this talk I want to

00:01:50,499 --> 00:01:57,640
tell you why I wanted to build a game

00:01:53,759 --> 00:02:01,030
why did I decide that not sleeping was a

00:01:57,640 --> 00:02:04,740
good idea I had numerous hobbies in my

00:02:01,030 --> 00:02:10,990
life some of them were my inspiration my

00:02:04,740 --> 00:02:13,380
family training in Taekwondo a scare

00:02:10,990 --> 00:02:16,120
actor at the blood prison haunted house

00:02:13,380 --> 00:02:17,790
during Halloween the prison where they

00:02:16,120 --> 00:02:20,680
shot the movie Shawshank Redemption

00:02:17,790 --> 00:02:24,640
turns into a haunted house called blood

00:02:20,680 --> 00:02:30,069
prison I'm one of the actors this is me

00:02:24,640 --> 00:02:33,010
as a sharpshooter last year surprised hi

00:02:30,069 --> 00:02:36,189
writing good i also contribute to a few

00:02:33,010 --> 00:02:38,620
open-source projects you can too it

00:02:36,189 --> 00:02:42,719
sounds scary as a haunted house you

00:02:38,620 --> 00:02:45,430
should try it I also like geocaching

00:02:42,719 --> 00:02:45,819
because that's my geocaching name right

00:02:45,430 --> 00:02:48,819
there

00:02:45,819 --> 00:02:50,650
teaming Rose can you guess which two of

00:02:48,819 --> 00:02:55,629
these were my inspiration to write a

00:02:50,650 --> 00:02:57,939
game coding of course and geocaching now

00:02:55,629 --> 00:03:00,189
some of you may have already be familiar

00:02:57,939 --> 00:03:03,790
with geocaching while others are

00:03:00,189 --> 00:03:06,879
probably wondering what it is geocaching

00:03:03,790 --> 00:03:08,709
is the world's largest treasure hunt he

00:03:06,879 --> 00:03:11,859
was the main inspiration for me to write

00:03:08,709 --> 00:03:14,169
a game let me give a brief description

00:03:11,859 --> 00:03:17,819
of what it is so we can get into how it

00:03:14,169 --> 00:03:20,409
ties into ember handwriting a game

00:03:17,819 --> 00:03:22,989
geocaching is an Emmy day any time

00:03:20,409 --> 00:03:26,590
adventure they can't take you to amazing

00:03:22,989 --> 00:03:28,629
and beautiful places or even just to a

00:03:26,590 --> 00:03:33,280
place in your town that you have never

00:03:28,629 --> 00:03:37,000
been to before there are millions of

00:03:33,280 --> 00:03:42,759
geocaches worldwide the way it works is

00:03:37,000 --> 00:03:44,739
simple just go to geocaching.com choose

00:03:42,759 --> 00:03:46,419
the view cache you want to find like

00:03:44,739 --> 00:03:49,900
this one just outside the Oregon

00:03:46,419 --> 00:03:52,930
Convention Center then navigate to its

00:03:49,900 --> 00:03:55,479
GPS location what you're looking for

00:03:52,930 --> 00:03:59,259
Barry's geocache has come in different

00:03:55,479 --> 00:04:02,439
shapes sizes and difficulties I learned

00:03:59,259 --> 00:04:04,959
to ascend tall trees and rappel all

00:04:02,439 --> 00:04:07,959
because of jus caching the highest tree

00:04:04,959 --> 00:04:12,519
I ever climbed was over 200 feet super

00:04:07,959 --> 00:04:15,639
fun after you find it you sign a logbook

00:04:12,519 --> 00:04:17,409
inside when you're done put the cache

00:04:15,639 --> 00:04:19,870
back where you found it for the next

00:04:17,409 --> 00:04:22,539
person to find when you then you post

00:04:19,870 --> 00:04:25,570
your fight online so far I have found

00:04:22,539 --> 00:04:29,770
almost 2,000 geocaches in 47 different

00:04:25,570 --> 00:04:32,229
states and 21 countries recently I found

00:04:29,770 --> 00:04:37,270
two new ones in the Bahamas on our buy

00:04:32,229 --> 00:04:39,520
one get two for free cruise now I know

00:04:37,270 --> 00:04:43,240
what some of you were thinking what does

00:04:39,520 --> 00:04:45,370
this have to do with running a game well

00:04:43,240 --> 00:04:48,250
sometimes the cash does not give you the

00:04:45,370 --> 00:04:51,819
exact coordinates these are called

00:04:48,250 --> 00:04:54,550
puzzle caches the qu cache player has to

00:04:51,819 --> 00:04:57,340
decrypt a cipher or solve a puzzle just

00:04:54,550 --> 00:05:00,460
to get the real coordinates I have a I

00:04:57,340 --> 00:05:02,319
have hidden a few of these myself my

00:05:00,460 --> 00:05:05,319
first one was an interactive fiction

00:05:02,319 --> 00:05:09,610
game similar to Zork or enchanter from

00:05:05,319 --> 00:05:12,520
the early 80s I know I'm old it was

00:05:09,610 --> 00:05:15,099
called geo quest I started to write it

00:05:12,520 --> 00:05:18,750
in Java and soon discovered that it was

00:05:15,099 --> 00:05:22,060
hard then I found a tool called inform

00:05:18,750 --> 00:05:25,360
inform I love this plugins or add-ons

00:05:22,060 --> 00:05:27,039
made it easy and fun to write it took

00:05:25,360 --> 00:05:30,639
care of all the natural language parsing

00:05:27,039 --> 00:05:33,099
for me having the tools the right tools

00:05:30,639 --> 00:05:35,009
empowered me to build the game I

00:05:33,099 --> 00:05:39,220
envisioned without having to worry about

00:05:35,009 --> 00:05:41,500
details however I still wanted to do a

00:05:39,220 --> 00:05:43,509
back graphics based game but the tools

00:05:41,500 --> 00:05:47,259
were not easily available to me at the

00:05:43,509 --> 00:05:50,349
time now for ember

00:05:47,259 --> 00:05:52,599
how was introduced to ever after joining

00:05:50,349 --> 00:05:55,990
my current team about four years ago I

00:05:52,599 --> 00:05:59,080
think it was amber one thirteen one

00:05:55,990 --> 00:06:02,320
twelve I had never heard of it I was

00:05:59,080 --> 00:06:04,050
like okay whatever it had to be better

00:06:02,320 --> 00:06:08,259
than my current JavaScript framework

00:06:04,050 --> 00:06:10,650
well how'd your using it a short time it

00:06:08,259 --> 00:06:14,440
was like magic

00:06:10,650 --> 00:06:17,830
yes I'm having fun again the community

00:06:14,440 --> 00:06:19,419
was awesome codes fun the everyone and

00:06:17,830 --> 00:06:21,330
everyone is a year to help me when I

00:06:19,419 --> 00:06:24,569
have questions

00:06:21,330 --> 00:06:27,900
fast forward or I guess backwards

00:06:24,569 --> 00:06:31,389
Emperor octane is in Canary release I

00:06:27,900 --> 00:06:34,360
tried it out and thought to myself this

00:06:31,389 --> 00:06:36,550
new version is pretty cool immediately I

00:06:34,360 --> 00:06:39,159
wondered how could finally write the RPG

00:06:36,550 --> 00:06:42,340
geocaching puzzle game that I've always

00:06:39,159 --> 00:06:42,669
wanted to write but what should I call

00:06:42,340 --> 00:06:48,630
it

00:06:42,669 --> 00:06:51,750
Gaea quest - nah amber request cool

00:06:48,630 --> 00:06:55,320
let's begin well

00:06:51,750 --> 00:07:00,290
mber new and request don't worry I'm on

00:06:55,320 --> 00:07:04,890
my home Wi-Fi it's pretty fast okay done

00:07:00,290 --> 00:07:09,830
now open our browser congratulations you

00:07:04,890 --> 00:07:13,830
made it nice now what

00:07:09,830 --> 00:07:16,860
let's see I want to make a game a Jew

00:07:13,830 --> 00:07:19,800
catcher will play online it's going to

00:07:16,860 --> 00:07:23,040
be a role-playing game where the virtual

00:07:19,800 --> 00:07:26,280
player goes exploring solves puzzles

00:07:23,040 --> 00:07:30,420
fights monsters all on a journey to find

00:07:26,280 --> 00:07:33,120
chests hidden throughout the game when

00:07:30,420 --> 00:07:35,460
they find it and open a chest they'll be

00:07:33,120 --> 00:07:39,750
given the real physical coordinates of

00:07:35,460 --> 00:07:43,770
caches they can find in real life okay

00:07:39,750 --> 00:07:46,980
what will I mean hmm well I need a

00:07:43,770 --> 00:07:50,610
player all right I'll need some way to

00:07:46,980 --> 00:07:53,669
interact with the game I'll need a world

00:07:50,610 --> 00:07:55,560
for the player to explore now should I

00:07:53,669 --> 00:07:59,340
use hexagons or squares to draw the

00:07:55,560 --> 00:08:04,020
matter I'm gonna need a lot of things

00:07:59,340 --> 00:08:07,220
graphics dialogues sounds inventory fog

00:08:04,020 --> 00:08:12,419
of war pathfinding monsters combat

00:08:07,220 --> 00:08:19,590
saving the game enemy AI makes my brain

00:08:12,419 --> 00:08:21,479
hurt too many things to think about okay

00:08:19,590 --> 00:08:25,080
well let's just start with a simple

00:08:21,479 --> 00:08:27,479
proof of concept will use hexagons for

00:08:25,080 --> 00:08:29,790
our map and seeing if we can get fog of

00:08:27,479 --> 00:08:33,539
war or what the player can see and

00:08:29,790 --> 00:08:36,330
pathfinding implemented this is pretty

00:08:33,539 --> 00:08:38,969
far along in my proof of concept it

00:08:36,330 --> 00:08:42,270
demonstrates fog of war field of view

00:08:38,969 --> 00:08:44,490
and Pat finding a code did all the math

00:08:42,270 --> 00:08:47,280
to draw and place the hexagons on a

00:08:44,490 --> 00:08:49,830
canvas the light colored X's are the

00:08:47,280 --> 00:08:51,150
ones that the player ship can see while

00:08:49,830 --> 00:08:55,290
the little island is blocking the

00:08:51,150 --> 00:08:57,870
players view in this debug view when the

00:08:55,290 --> 00:09:00,630
player moves around the island the field

00:08:57,870 --> 00:09:02,970
of view is updated it shows me the path

00:09:00,630 --> 00:09:04,920
following results in purple for each hex

00:09:02,970 --> 00:09:08,860
I move over with the mouse

00:09:04,920 --> 00:09:10,720
at the same time I use trigonometry to

00:09:08,860 --> 00:09:12,760
draw the green and red dots that

00:09:10,720 --> 00:09:15,730
represent which Texas the player can see

00:09:12,760 --> 00:09:19,270
in his line of sight and which ones are

00:09:15,730 --> 00:09:22,780
blocked the path finding uses the a-star

00:09:19,270 --> 00:09:25,240
algorithm it's pretty fast and then I'll

00:09:22,780 --> 00:09:28,060
find a path to a target axe way across

00:09:25,240 --> 00:09:32,320
this big board in about 4 milliseconds

00:09:28,060 --> 00:09:34,660
or less okay time to stop working on the

00:09:32,320 --> 00:09:40,030
real game will add some better graphics

00:09:34,660 --> 00:09:43,600
and a few months we find our hero on the

00:09:40,030 --> 00:09:46,420
shore of the same of the same Island our

00:09:43,600 --> 00:09:57,160
ship is docked waiting for a duel board

00:09:46,420 --> 00:10:01,900
and take a look around the sea there's a

00:09:57,160 --> 00:10:03,880
pirate galleon on patrol he Lord is a

00:10:01,900 --> 00:10:05,800
group I've lowered his aggression so he

00:10:03,880 --> 00:10:08,050
shouldn't bother us he has several

00:10:05,800 --> 00:10:10,720
assigned x coordinates to patrol at

00:10:08,050 --> 00:10:13,300
random since he has the same path

00:10:10,720 --> 00:10:14,920
fighting code for my proof-of-concept he

00:10:13,300 --> 00:10:17,790
finds the path to his next coordinate

00:10:14,920 --> 00:10:20,560
all by himself I'd I could do anything

00:10:17,790 --> 00:10:27,160
let's believe the pirate patrol and

00:10:20,560 --> 00:10:31,290
continue our tour there's nothing

00:10:27,160 --> 00:10:34,390
another dock we'll go ashore and explore

00:10:31,290 --> 00:10:36,130
leaving the path and into the forest we

00:10:34,390 --> 00:10:38,560
can get a glimpse at the some of the fog

00:10:36,130 --> 00:10:40,600
of war the tall thick trees have

00:10:38,560 --> 00:10:43,390
impaired our vision restricting our view

00:10:40,600 --> 00:10:45,820
in some directions normally we could see

00:10:43,390 --> 00:10:48,730
up to three X's away as you can see in

00:10:45,820 --> 00:10:51,040
the clearing you've probably noticed

00:10:48,730 --> 00:10:53,670
that as he moves hexes that were

00:10:51,040 --> 00:10:56,920
previously seen become slightly opaque

00:10:53,670 --> 00:10:58,900
we will you also you only see objects

00:10:56,920 --> 00:11:01,750
and creatures within our within our

00:10:58,900 --> 00:11:04,270
sight range i've removed most of the

00:11:01,750 --> 00:11:08,400
enemies for this demo but keep our enemy

00:11:04,270 --> 00:11:08,400
keep your eyes open for any surprises

00:11:09,420 --> 00:11:16,650
now look a castle

00:11:11,820 --> 00:11:18,900
go in our hero is thought a cave the

00:11:16,650 --> 00:11:20,490
field of vision is even easier to see in

00:11:18,900 --> 00:11:23,460
a spy Crime vines of the narrow

00:11:20,490 --> 00:11:27,390
passageways now you probably noticed the

00:11:23,460 --> 00:11:29,700
two bars above our head the green bar is

00:11:27,390 --> 00:11:31,770
the current health of our hero the blue

00:11:29,700 --> 00:11:34,200
bar represents his current power or

00:11:31,770 --> 00:11:36,450
energy some activities like walking

00:11:34,200 --> 00:11:39,390
through rough terrain or fighting will

00:11:36,450 --> 00:11:42,270
drain his energy both the health bar and

00:11:39,390 --> 00:11:44,520
power bar will replenish over time I'll

00:11:42,270 --> 00:11:46,800
talk about how ember helps with that in

00:11:44,520 --> 00:11:49,200
a moment I'm going to speed up our

00:11:46,800 --> 00:11:50,970
cavern tour so we can get to the point

00:11:49,200 --> 00:11:52,680
where I can begin to show you how ember

00:11:50,970 --> 00:11:58,970
is helping me with some of the game

00:11:52,680 --> 00:11:58,970
mechanics whoa don't fall in the lava

00:12:04,830 --> 00:12:16,730
hmmm I think I hear something around the

00:12:07,710 --> 00:12:16,730
corner oh no it's the monster look out

00:12:20,010 --> 00:12:25,940
oh it appears that we have died let's

00:12:24,390 --> 00:12:28,070
try again

00:12:25,940 --> 00:12:30,420
before we go around that corner again

00:12:28,070 --> 00:12:33,210
what do we have in our package.json

00:12:30,420 --> 00:12:40,170
I mean inventory that could help in our

00:12:33,210 --> 00:12:42,390
battle we have a few different

00:12:40,170 --> 00:12:45,930
categories for weapons we already own a

00:12:42,390 --> 00:12:51,900
crossbar whoa and it's simple sword but

00:12:45,930 --> 00:12:55,140
I guess they aren't very powerful we're

00:12:51,900 --> 00:12:56,060
wearing some boots for hat pops your

00:12:55,140 --> 00:13:02,910
glasses

00:12:56,060 --> 00:13:04,610
they're pretty cool what's another hmm

00:13:02,910 --> 00:13:08,940
look like we have a bevel fish

00:13:04,610 --> 00:13:11,010
interesting well that's about it however

00:13:08,940 --> 00:13:14,010
there appears to be a few things we can

00:13:11,010 --> 00:13:19,500
buy or install that might help our hero

00:13:14,010 --> 00:13:23,220
in our fight and with our development we

00:13:19,500 --> 00:13:25,320
need to develop faster ember CLI Mirage

00:13:23,220 --> 00:13:26,850
is a terrific add-on that has always

00:13:25,320 --> 00:13:28,770
been there for me when I want to do a

00:13:26,850 --> 00:13:31,260
quick demo without having a back-end

00:13:28,770 --> 00:13:39,270
markup a component and to provide data

00:13:31,260 --> 00:13:41,010
for my tests let's add that I use Mirage

00:13:39,270 --> 00:13:43,320
to create a quick list of inventory

00:13:41,010 --> 00:13:49,650
items to display it's what's driving

00:13:43,320 --> 00:13:53,270
this an inventory demo how about a

00:13:49,650 --> 00:13:55,800
better weapon hammer katana Oh tracked

00:13:53,270 --> 00:13:57,600
definitely gonna use that now you've

00:13:55,800 --> 00:14:00,120
already heard my other speakers how

00:13:57,600 --> 00:14:06,090
wonderful is it truly has made life a

00:14:00,120 --> 00:14:08,220
lot easier here are a few track

00:14:06,090 --> 00:14:10,320
properties within the game there are

00:14:08,220 --> 00:14:12,450
many others but these are specific to

00:14:10,320 --> 00:14:18,450
the player's health we'll see them used

00:14:12,450 --> 00:14:21,420
shortly what's this wand of wishing hi

00:14:18,450 --> 00:14:24,240
amber auto import another outstanding

00:14:21,420 --> 00:14:26,400
add-on that saved me and probably some

00:14:24,240 --> 00:14:29,130
of you a lot of time we're trying to use

00:14:26,400 --> 00:14:31,290
third-party packages I'm using I'm using

00:14:29,130 --> 00:14:34,490
it to pull in a special package but

00:14:31,290 --> 00:14:34,490
that's a secret for now

00:14:34,880 --> 00:14:39,660
one last magic item I want to talk about

00:14:37,650 --> 00:14:42,300
before I would divulge my secret weapon

00:14:39,660 --> 00:14:45,960
is the ring of concurrency better known

00:14:42,300 --> 00:14:50,790
as Erica Guernsey Henry quest uses it in

00:14:45,960 --> 00:14:55,740
many places here are some of the concur

00:14:50,790 --> 00:14:57,450
key tasks within the game this is a

00:14:55,740 --> 00:14:59,550
closer look at the reload health task

00:14:57,450 --> 00:15:01,260
this is in a base class

00:14:59,550 --> 00:15:04,200
so each interactive object in the game

00:15:01,260 --> 00:15:07,230
has this task all the properties it uses

00:15:04,200 --> 00:15:10,230
our track whenever the player or enemy

00:15:07,230 --> 00:15:13,050
takes damage this task will heal it over

00:15:10,230 --> 00:15:15,150
time as it heals the green health bar

00:15:13,050 --> 00:15:17,730
above their heads will automatically

00:15:15,150 --> 00:15:21,960
update pretty simple code that keeps our

00:15:17,730 --> 00:15:23,730
hero healthy some are things that we

00:15:21,960 --> 00:15:26,550
have that have been very helpful to me

00:15:23,730 --> 00:15:29,970
are the different resources of resources

00:15:26,550 --> 00:15:32,820
available when I needed help the amber

00:15:29,970 --> 00:15:36,180
blog ever times we're always very

00:15:32,820 --> 00:15:38,370
informative in timely discord is there

00:15:36,180 --> 00:15:38,960
when it's 3 a.m. and I need help right

00:15:38,370 --> 00:15:42,750
now

00:15:38,960 --> 00:15:44,370
and finally amber guides with all the

00:15:42,750 --> 00:15:45,360
different versions available to me

00:15:44,370 --> 00:15:50,300
whenever I need it

00:15:45,360 --> 00:15:53,070
thank you all to keep him up to date now

00:15:50,300 --> 00:15:56,220
it's time to reveal my secret weapon

00:15:53,070 --> 00:15:58,160
it's been a long there has a lot been

00:15:56,220 --> 00:16:02,310
going on behind the scenes of this demo

00:15:58,160 --> 00:16:05,820
WebGL canvas web audio level changes

00:16:02,310 --> 00:16:08,460
sprite collisions etc I wish I could

00:16:05,820 --> 00:16:10,800
take credit for mending all that on my

00:16:08,460 --> 00:16:13,440
own but it's hard by myself

00:16:10,800 --> 00:16:17,550
and I'd like to see my family at least a

00:16:13,440 --> 00:16:20,010
few minutes a day my secret weapon is

00:16:17,550 --> 00:16:20,910
there's a game framework wrapped up with

00:16:20,010 --> 00:16:24,540
a member quest

00:16:20,910 --> 00:16:26,580
it's called phaser I have written an

00:16:24,540 --> 00:16:29,580
add-on that will easily inject phaser

00:16:26,580 --> 00:16:31,470
into your amber application this is

00:16:29,580 --> 00:16:35,310
available right now for you to use to

00:16:31,470 --> 00:16:37,080
make your own games for those who that

00:16:35,310 --> 00:16:40,320
may never heard of it phaser is a

00:16:37,080 --> 00:16:42,810
desktop and mobile html5 game framework

00:16:40,320 --> 00:16:45,060
a lot of the stuff I was managing on my

00:16:42,810 --> 00:16:46,970
own in my peripheral concept major now

00:16:45,060 --> 00:16:49,550
takes care of it for me

00:16:46,970 --> 00:16:52,280
forever quest cake takes care of all the

00:16:49,550 --> 00:16:55,340
physics sprite collisions sounds and

00:16:52,280 --> 00:16:57,830
camera movements I was able to copy all

00:16:55,340 --> 00:17:00,260
my fog of war and pathfinding code for

00:16:57,830 --> 00:17:04,329
my perfect concept and plug it into my

00:17:00,260 --> 00:17:07,280
phaser add-on and it still worked great

00:17:04,329 --> 00:17:09,640
phaser is not new it's been around for a

00:17:07,280 --> 00:17:12,140
while but this talk isn't about phaser

00:17:09,640 --> 00:17:14,150
you can go to phaser guy oh if you want

00:17:12,140 --> 00:17:16,430
to learn more it's a good source of

00:17:14,150 --> 00:17:18,980
documentation and examples when you are

00:17:16,430 --> 00:17:21,350
ready to build your own game now let's

00:17:18,980 --> 00:17:25,030
take a break remember quest and do just

00:17:21,350 --> 00:17:27,319
that let's make a small game together

00:17:25,030 --> 00:17:29,990
we'll go back to our and new ember

00:17:27,319 --> 00:17:33,110
application we started with earlier and

00:17:29,990 --> 00:17:35,900
install amber phaser this will give us a

00:17:33,110 --> 00:17:38,900
new generate phaser scene blueprint a

00:17:35,900 --> 00:17:43,460
scene is similar to a component within

00:17:38,900 --> 00:17:47,150
amber let's generate a tote racine calm

00:17:43,460 --> 00:17:50,570
surging and an Amber service to put our

00:17:47,150 --> 00:17:56,990
game logic in and finally the component

00:17:50,570 --> 00:17:59,030
to display the game board all we need in

00:17:56,990 --> 00:18:03,080
the component is the amber game service

00:17:59,030 --> 00:18:04,700
in the HPS will place the amber phaser

00:18:03,080 --> 00:18:08,000
component passing in the phaser

00:18:04,700 --> 00:18:09,560
configuration in our amber service the

00:18:08,000 --> 00:18:13,490
game configuration is a simple JSON

00:18:09,560 --> 00:18:15,950
object a type of phaser Auto is the

00:18:13,490 --> 00:18:18,440
rendering context it will automatically

00:18:15,950 --> 00:18:20,480
try WebGL but if the browser or device

00:18:18,440 --> 00:18:24,770
doesn't support it it will fall back

00:18:20,480 --> 00:18:27,290
into canvas for this game we're going to

00:18:24,770 --> 00:18:28,640
need some physics objects will fall

00:18:27,290 --> 00:18:32,840
downwards toward the ground at a

00:18:28,640 --> 00:18:34,700
moderate rate and finally we have to

00:18:32,840 --> 00:18:36,890
tell which seemed to render when the

00:18:34,700 --> 00:18:41,810
game loads this will be the scene we

00:18:36,890 --> 00:18:43,970
generated earlier for any scene in

00:18:41,810 --> 00:18:46,160
phaser there are a number of light side

00:18:43,970 --> 00:18:48,920
lifecycle hooks available for you to

00:18:46,160 --> 00:18:54,290
override in most cases you only need to

00:18:48,920 --> 00:18:56,480
use three preload create update preload

00:18:54,290 --> 00:19:00,340
is where you load your game assets such

00:18:56,480 --> 00:19:02,570
as images sprites sounds music

00:19:00,340 --> 00:19:05,200
create is where of the game objects are

00:19:02,570 --> 00:19:07,700
created and update runs every game dick

00:19:05,200 --> 00:19:10,330
this is typically where you will handle

00:19:07,700 --> 00:19:12,530
player movement in sprite collisions to

00:19:10,330 --> 00:19:14,780
make sure we have everything wired up

00:19:12,530 --> 00:19:15,380
correctly I'll have a sky image as our

00:19:14,780 --> 00:19:17,840
background

00:19:15,380 --> 00:19:22,520
I'll run ember serve and open our

00:19:17,840 --> 00:19:26,630
browser not much to look at but at least

00:19:22,520 --> 00:19:29,300
we know it's running the console reports

00:19:26,630 --> 00:19:32,810
we are using WebGL and Web Audio nice

00:19:29,300 --> 00:19:40,310
and we're running a full 60 frames per

00:19:32,810 --> 00:19:42,740
second time to add our hero refresh your

00:19:40,310 --> 00:19:47,150
browser there is

00:19:42,740 --> 00:19:49,130
oops and there he goes now we know that

00:19:47,150 --> 00:19:50,840
our physics are working but we haven't

00:19:49,130 --> 00:19:52,700
defined anything anything for him to

00:19:50,840 --> 00:19:55,910
land on so he just falls through the

00:19:52,700 --> 00:19:58,100
bottom of the screen before we get much

00:19:55,910 --> 00:20:02,240
further let's refactor our scene and

00:19:58,100 --> 00:20:04,130
move the code or Amber service here in

00:20:02,240 --> 00:20:07,090
our service we are loading the game

00:20:04,130 --> 00:20:10,040
assets training a ground and the player

00:20:07,090 --> 00:20:12,590
the ground will be part of a static

00:20:10,040 --> 00:20:15,290
group where the group is in a physics

00:20:12,590 --> 00:20:19,460
object so we just we can continue can't

00:20:15,290 --> 00:20:21,260
detect collisions later now we have some

00:20:19,460 --> 00:20:23,660
ground but he's still falling through

00:20:21,260 --> 00:20:26,570
the bottom we need to detect when the

00:20:23,660 --> 00:20:28,730
player hits the ground by adding a

00:20:26,570 --> 00:20:30,380
physics collider we ensure that our

00:20:28,730 --> 00:20:34,220
player and the ground will not overlap

00:20:30,380 --> 00:20:39,190
each other now he'll land on the ground

00:20:34,220 --> 00:20:42,290
B first we need a way to move around it

00:20:39,190 --> 00:20:44,180
this is actually pretty easy phaser will

00:20:42,290 --> 00:20:46,490
try to run the update lifecycle once per

00:20:44,180 --> 00:20:49,970
tick this is where we add player

00:20:46,490 --> 00:20:51,910
movement before we can move we'll set up

00:20:49,970 --> 00:20:54,890
which keyboard keys will move the player

00:20:51,910 --> 00:20:57,380
will step the typical a and D for left

00:20:54,890 --> 00:20:59,660
and right and let the player decide to

00:20:57,380 --> 00:21:03,890
use the either the W or the spacebar to

00:20:59,660 --> 00:21:07,070
jump when ap is down move the player to

00:21:03,890 --> 00:21:10,220
the left when a beep leikee is down move

00:21:07,070 --> 00:21:13,970
right otherwise stop the left and right

00:21:10,220 --> 00:21:15,350
movement also we can only drop

00:21:13,970 --> 00:21:18,020
when our feet are touching the ground

00:21:15,350 --> 00:21:20,450
although feel free to let them do that

00:21:18,020 --> 00:21:23,020
and make your own floppy bird or fly

00:21:20,450 --> 00:21:26,210
back on sir in your case it's your game

00:21:23,020 --> 00:21:27,440
we just need to take care of up since

00:21:26,210 --> 00:21:35,150
the physics engine will bring us back

00:21:27,440 --> 00:21:38,630
down okay we're getting there let's

00:21:35,150 --> 00:21:41,270
quickly add more thing to jump on we'll

00:21:38,630 --> 00:21:43,250
add three platforms to jump on we

00:21:41,270 --> 00:21:46,130
already had the ground image loaded so

00:21:43,250 --> 00:21:47,780
we're just reusing that image we'll just

00:21:46,130 --> 00:21:51,170
you place the new platforms at different

00:21:47,780 --> 00:21:52,880
locations on the screen since the

00:21:51,170 --> 00:21:54,980
platforms are part of the ground group

00:21:52,880 --> 00:21:58,970
the collision detector does not allow

00:21:54,980 --> 00:22:02,390
them to fall through now I need a goal

00:21:58,970 --> 00:22:05,240
for our player we'll create some stars

00:22:02,390 --> 00:22:06,920
the player can collect we'll be sure to

00:22:05,240 --> 00:22:09,470
add another Collider between the stars

00:22:06,920 --> 00:22:12,110
and the platforms so the Stars will also

00:22:09,470 --> 00:22:15,640
land on the ground when they appear on

00:22:12,110 --> 00:22:19,070
the screen still have a slight bounce

00:22:15,640 --> 00:22:20,810
when the player sprite touches a star it

00:22:19,070 --> 00:22:23,330
will call the collect star callback

00:22:20,810 --> 00:22:25,010
function this is our hook into letting

00:22:23,330 --> 00:22:30,500
us control more of the game interaction

00:22:25,010 --> 00:22:32,120
with our Amber service in this case the

00:22:30,500 --> 00:22:35,060
function will increase the player score

00:22:32,120 --> 00:22:38,030
and check to see if all stars stars have

00:22:35,060 --> 00:22:40,930
been collected if so it will recreate

00:22:38,030 --> 00:22:43,790
all the stars and move to the next level

00:22:40,930 --> 00:22:46,520
after the first level we'll add a bomb

00:22:43,790 --> 00:22:48,980
that the player will need to avoid when

00:22:46,520 --> 00:22:53,270
the player collides with a bomb the game

00:22:48,980 --> 00:22:56,150
is over the collect star callback is in

00:22:53,270 --> 00:22:58,160
our Amber service we can do anything we

00:22:56,150 --> 00:23:01,250
want here call other Amber services

00:22:58,160 --> 00:23:04,130
transition to another route hey anything

00:23:01,250 --> 00:23:06,740
you might do in other amber applications

00:23:04,130 --> 00:23:09,860
then you may have done in the past you

00:23:06,740 --> 00:23:13,730
have control that's it we now have a

00:23:09,860 --> 00:23:15,710
fully functioning game the complete

00:23:13,730 --> 00:23:18,140
source code for this game can be found

00:23:15,710 --> 00:23:22,400
as demo 2 in the API Docs for your

00:23:18,140 --> 00:23:25,180
forever phaser online okay great but

00:23:22,400 --> 00:23:29,190
wait stop

00:23:25,180 --> 00:23:31,060
not much time yet what about EverQuest I

00:23:29,190 --> 00:23:35,530
think we have some unfinished business

00:23:31,060 --> 00:23:37,090
to attend there when we left our hero he

00:23:35,530 --> 00:23:40,150
had just lost a fight with that nasty

00:23:37,090 --> 00:23:42,160
villain but we powered up his inventory

00:23:40,150 --> 00:23:44,700
to better prepare him for battle

00:23:42,160 --> 00:23:47,050
we used a mirage to make us more nimble

00:23:44,700 --> 00:23:50,920
ampere concurrency tasks to help regain

00:23:47,050 --> 00:23:54,700
his health and power we armed him with

00:23:50,920 --> 00:23:57,540
ember track properties we used ember

00:23:54,700 --> 00:24:00,580
auto import to use third-party libraries

00:23:57,540 --> 00:24:02,020
we gave him ember phaser so he can

00:24:00,580 --> 00:24:04,480
concentrate on the game of his game

00:24:02,020 --> 00:24:12,510
mechanics and finally kept him informed

00:24:04,480 --> 00:24:12,510
with ember guides now time for a rematch

00:24:22,350 --> 00:24:33,640
yes sweet victory hey now that he's out

00:24:31,120 --> 00:24:40,090
of the way let's take a peek around the

00:24:33,640 --> 00:24:43,570
corner there's a chest congratulations

00:24:40,090 --> 00:24:44,890
our player found a chest the game will

00:24:43,570 --> 00:24:47,350
tell him the actual coordinates of the

00:24:44,890 --> 00:24:50,170
geocache he can go out and find it in

00:24:47,350 --> 00:24:52,360
real life and us as developers are

00:24:50,170 --> 00:24:54,280
empowered with the tools we need to make

00:24:52,360 --> 00:24:56,410
the game we envisioned with our in our

00:24:54,280 --> 00:25:01,980
minds using our favorite JavaScript

00:24:56,410 --> 00:25:01,980

YouTube URL: https://www.youtube.com/watch?v=Ld1xnQWkqPU


