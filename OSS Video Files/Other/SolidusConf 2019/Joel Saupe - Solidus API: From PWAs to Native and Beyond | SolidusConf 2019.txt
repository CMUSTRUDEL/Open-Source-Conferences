Title: Joel Saupe - Solidus API: From PWAs to Native and Beyond | SolidusConf 2019
Publication date: 2019-12-06
Playlist: SolidusConf 2019
Description: 
	Joel takes us through the Solidus API and introduces the Solidus SDK.

"Solidus API: From PWAs to Native and Beyond"
In a world of JavaScript and native apps, how does Solidus fit in? Weâ€™ll discuss the highs and lows of using the Solidus API, and how we built an extensible JavaScript SDK enabling us to develop Solidus backed PWAs, native apps, and more.

Learn more about Solidus at solidus.io
Captions: 
	00:00:02,130 --> 00:00:05,160
[Music]

00:00:09,170 --> 00:00:16,080
[Music]

00:00:12,990 --> 00:00:18,029
like Rob said I am I'm like the lead

00:00:16,080 --> 00:00:21,359
engineer of front-end development it

00:00:18,029 --> 00:00:23,730
Deseret book and so my talk today is on

00:00:21,359 --> 00:00:26,430
the solidus api and and how we can take

00:00:23,730 --> 00:00:28,890
it from not just the the solidus that we

00:00:26,430 --> 00:00:31,830
know but how we can move solidus to to

00:00:28,890 --> 00:00:34,649
progressive web apps to native and even

00:00:31,830 --> 00:00:41,430
beyond from there so I think before we

00:00:34,649 --> 00:00:44,730
get started I will just do this way so

00:00:41,430 --> 00:00:49,309
before we get started I want to give

00:00:44,730 --> 00:00:49,309
sort of a context on our our company and

00:00:50,090 --> 00:00:58,199
and and sort of what what brought us to

00:00:55,820 --> 00:00:59,910
like e-commerce and in sort of our

00:00:58,199 --> 00:01:03,750
history right and so our company's been

00:00:59,910 --> 00:01:05,280
around since 1866 and and if you do the

00:01:03,750 --> 00:01:06,950
math like you realize that we probably

00:01:05,280 --> 00:01:10,170
didn't start out as an ecommerce store

00:01:06,950 --> 00:01:12,299
and and and because of that we actually

00:01:10,170 --> 00:01:13,650
have over 40 retail stores right and so

00:01:12,299 --> 00:01:16,020
we have retail stores authorized

00:01:13,650 --> 00:01:18,990
resellers and we even do like events and

00:01:16,020 --> 00:01:20,939
so we have pop-up stores and so most

00:01:18,990 --> 00:01:23,369
people think of us as a retail store and

00:01:20,939 --> 00:01:25,350
not necessarily e-commerce and aside

00:01:23,369 --> 00:01:28,110
from that we actually sell over 30,000

00:01:25,350 --> 00:01:30,030
products and so it's not just books

00:01:28,110 --> 00:01:31,710
right we say Deseret book but we

00:01:30,030 --> 00:01:34,860
actually sell things from lanterns dish

00:01:31,710 --> 00:01:36,299
towels bookmarks jump ropes and pretty

00:01:34,860 --> 00:01:39,150
much anything you can think of we we

00:01:36,299 --> 00:01:41,250
probably sell it and we so we are a book

00:01:39,150 --> 00:01:43,950
publisher but we're also pretty into

00:01:41,250 --> 00:01:45,780
music and movies as well and

00:01:43,950 --> 00:01:48,090
surprisingly I would consider ourselves

00:01:45,780 --> 00:01:49,950
an app developer so because we sell

00:01:48,090 --> 00:01:52,560
ebooks and audiobooks in these other

00:01:49,950 --> 00:01:55,290
media things we're actually like we have

00:01:52,560 --> 00:01:57,570
an e-book and an audiobook apps right

00:01:55,290 --> 00:01:59,070
and so we call this bookshelf and that's

00:01:57,570 --> 00:02:00,210
sort of like users will come in and

00:01:59,070 --> 00:02:01,710
they'll buy our ebooks and audiobooks

00:02:00,210 --> 00:02:05,579
and then they go to our app and they can

00:02:01,710 --> 00:02:07,079
consume them and so now like let's let's

00:02:05,579 --> 00:02:09,780
get in a little bit more on on the

00:02:07,079 --> 00:02:11,910
e-commerce side of Deseret book so our

00:02:09,780 --> 00:02:14,520
we've more or less been selling stuff

00:02:11,910 --> 00:02:17,580
online since 96

00:02:14,520 --> 00:02:18,960
and so so we've probably been doing it

00:02:17,580 --> 00:02:21,840
before but this is just as far back as

00:02:18,960 --> 00:02:23,400
the wayback machine would give me and so

00:02:21,840 --> 00:02:25,380
we were using something called a shopper

00:02:23,400 --> 00:02:27,180
but don't google it because I tried and

00:02:25,380 --> 00:02:29,430
I couldn't actually find it so so it

00:02:27,180 --> 00:02:31,770
doesn't exist anymore but this is what

00:02:29,430 --> 00:02:35,330
Deseret book looked like in the 90s so

00:02:31,770 --> 00:02:38,460
if we fast forward 20 years this was in

00:02:35,330 --> 00:02:40,980
2016 is when we moved from spree to

00:02:38,460 --> 00:02:43,050
solidus and so we had the solidus front

00:02:40,980 --> 00:02:45,060
end and it was basically like a pour of

00:02:43,050 --> 00:02:48,090
like a direct port of spree to solidus

00:02:45,060 --> 00:02:50,130
right and now sort of how we were doing

00:02:48,090 --> 00:02:51,300
all of our e-commerce stuff and then we

00:02:50,130 --> 00:02:52,820
have this bookshelf right and this is

00:02:51,300 --> 00:02:55,230
this is sort of our media consumption

00:02:52,820 --> 00:02:57,959
and what what it does is this actually

00:02:55,230 --> 00:03:00,620
talks a lot to solidus in and that's how

00:02:57,959 --> 00:03:03,090
we get like product information tax ons

00:03:00,620 --> 00:03:04,739
and user purchase history right and then

00:03:03,090 --> 00:03:06,540
and then we sort of pass that along to

00:03:04,739 --> 00:03:07,860
the apps to say okay this is the media

00:03:06,540 --> 00:03:10,080
that you can consume and this is

00:03:07,860 --> 00:03:11,700
information about it so this is sort of

00:03:10,080 --> 00:03:13,170
our architecture right like like we have

00:03:11,700 --> 00:03:15,510
solidus at the top and it passes data

00:03:13,170 --> 00:03:17,670
down to our bookshelf to our media API

00:03:15,510 --> 00:03:21,000
and then it passes it down to our iOS

00:03:17,670 --> 00:03:23,970
Android and web apps and you know this

00:03:21,000 --> 00:03:26,670
is this is pretty good but as we started

00:03:23,970 --> 00:03:28,830
going like we realized that like all of

00:03:26,670 --> 00:03:30,269
our users want bigger and better

00:03:28,830 --> 00:03:32,549
features on the e-commerce side right

00:03:30,269 --> 00:03:35,100
like like with Amazon like things are

00:03:32,549 --> 00:03:36,780
changing on the internet and every time

00:03:35,100 --> 00:03:37,830
we add a new feature users always say

00:03:36,780 --> 00:03:40,799
like hey why can't you be more like

00:03:37,830 --> 00:03:42,000
Amazon and when users say that like what

00:03:40,799 --> 00:03:43,680
they're really saying is hey why don't

00:03:42,000 --> 00:03:45,269
you guys write more JavaScript why don't

00:03:43,680 --> 00:03:46,890
you guys like why don't you start

00:03:45,269 --> 00:03:49,860
pulling more data with Ajax and why

00:03:46,890 --> 00:03:51,750
don't you stop using I like searches so

00:03:49,860 --> 00:03:55,470
then we realize like why can't we like

00:03:51,750 --> 00:03:58,140
in at this time like we were using like

00:03:55,470 --> 00:04:00,360
we were defacing the front end like just

00:03:58,140 --> 00:04:01,650
using like the true solidus front end we

00:04:00,360 --> 00:04:03,420
were defacing it and we're trying to

00:04:01,650 --> 00:04:04,799
like we had all this jQuery soup and it

00:04:03,420 --> 00:04:07,560
was just it was just really hard for us

00:04:04,799 --> 00:04:08,940
to add features for our users so then

00:04:07,560 --> 00:04:10,519
what we decided was well what if we

00:04:08,940 --> 00:04:13,019
started moving to a progressive web app

00:04:10,519 --> 00:04:14,430
where you know we'll we'll take our

00:04:13,019 --> 00:04:16,140
views and will render them with

00:04:14,430 --> 00:04:17,549
something like react and we'll just sort

00:04:16,140 --> 00:04:20,640
of dump the data to react and let them

00:04:17,549 --> 00:04:22,200
handle it and this so this is sort of

00:04:20,640 --> 00:04:23,250
like what our architecture looks like at

00:04:22,200 --> 00:04:24,750
the moment right like we're still

00:04:23,250 --> 00:04:26,520
converting some of our stuff to react

00:04:24,750 --> 00:04:27,330
but that's sort of what we're doing is

00:04:26,520 --> 00:04:30,870
trying to deprecated

00:04:27,330 --> 00:04:32,400
our usage of the solidus Brennan but you

00:04:30,870 --> 00:04:33,509
know now after this is sort of gets us

00:04:32,400 --> 00:04:35,550
thinking like well if we're gonna do

00:04:33,509 --> 00:04:38,460
that like do we even need rails tape to

00:04:35,550 --> 00:04:39,930
render the the front end and at the same

00:04:38,460 --> 00:04:41,699
time like well well if we're gonna be

00:04:39,930 --> 00:04:44,940
doing that like do we even need this

00:04:41,699 --> 00:04:46,830
middleman of our media API to be to be

00:04:44,940 --> 00:04:49,169
passing the data back and forth about

00:04:46,830 --> 00:04:50,729
about products and tax ons and stuff or

00:04:49,169 --> 00:04:52,770
can we just have our mobile apps talk

00:04:50,729 --> 00:04:54,449
directly to solidus to get that kind of

00:04:52,770 --> 00:04:57,419
information so that our media API is

00:04:54,449 --> 00:04:59,789
only handling the media consumption

00:04:57,419 --> 00:05:01,500
aspect of it and then and then solidus

00:04:59,789 --> 00:05:03,419
handles all the product information like

00:05:01,500 --> 00:05:06,240
is this possible like how realistically

00:05:03,419 --> 00:05:07,379
how how can we do this and you know at

00:05:06,240 --> 00:05:08,460
the same time like what if we want to

00:05:07,379 --> 00:05:09,930
expand and what if we want to have more

00:05:08,460 --> 00:05:13,830
apps what if we want to have ecommerce

00:05:09,930 --> 00:05:16,680
apps on Android and iOS they talk

00:05:13,830 --> 00:05:19,440
directly to iOS like how how realistic

00:05:16,680 --> 00:05:20,909
is this like if we want to do this and

00:05:19,440 --> 00:05:22,680
you know what because we have 30,000

00:05:20,909 --> 00:05:24,629
products what if we wanted to take a

00:05:22,680 --> 00:05:26,099
subset of those and sell them like under

00:05:24,629 --> 00:05:28,020
a different brand or on a different site

00:05:26,099 --> 00:05:30,090
right like solidus calls these

00:05:28,020 --> 00:05:32,880
multi-tenancy and we we consider them

00:05:30,090 --> 00:05:34,349
like micro sites right and so like

00:05:32,880 --> 00:05:36,419
obviously this is a thing and solidus

00:05:34,349 --> 00:05:38,490
but how under this sort of architecture

00:05:36,419 --> 00:05:40,680
how how realistic is it for us to be

00:05:38,490 --> 00:05:42,690
able to do this and because we have over

00:05:40,680 --> 00:05:44,310
40 stores like like we have will this

00:05:42,690 --> 00:05:47,759
product stuff when we have like sales

00:05:44,310 --> 00:05:49,110
like how how realistic is it for us to

00:05:47,759 --> 00:05:52,380
build a point of sale but can we do

00:05:49,110 --> 00:05:53,430
physical sales with solidus and you know

00:05:52,380 --> 00:05:56,009
we have all these enterprise things

00:05:53,430 --> 00:05:57,930
right like we do warehouse stuff and

00:05:56,009 --> 00:05:59,699
like I guess we manage our own warehouse

00:05:57,930 --> 00:06:01,620
and I hear all these acronyms like in

00:05:59,699 --> 00:06:03,779
meetings and stuff like a RP and W Mass

00:06:01,620 --> 00:06:05,759
and like for me like I have no clue what

00:06:03,779 --> 00:06:07,800
it does but they tell me that it's like

00:06:05,759 --> 00:06:10,949
super important but really for me it's

00:06:07,800 --> 00:06:12,960
just magic and so we have all these

00:06:10,949 --> 00:06:15,000
things right like like enterprise stuff

00:06:12,960 --> 00:06:17,400
is just like it talks to solidus and I'm

00:06:15,000 --> 00:06:18,300
just like ok but this is a thing right

00:06:17,400 --> 00:06:21,779
and it's something that we have to

00:06:18,300 --> 00:06:22,830
consider in our architecture so so this

00:06:21,779 --> 00:06:25,169
is a question that we ask ourselves

00:06:22,830 --> 00:06:27,210
basically every day at work is what are

00:06:25,169 --> 00:06:29,009
the limits of solidus like can we build

00:06:27,210 --> 00:06:31,409
progressive web apps or solidus can we

00:06:29,009 --> 00:06:33,090
do native can we do physical sales can

00:06:31,409 --> 00:06:34,860
we integrate with our enterprise and how

00:06:33,090 --> 00:06:37,110
well can we really do it like what are

00:06:34,860 --> 00:06:38,729
the limits and so you know as we as we

00:06:37,110 --> 00:06:41,310
started thinking of this like like we

00:06:38,729 --> 00:06:42,870
realized like sort of our best

00:06:41,310 --> 00:06:46,050
to like do all of these things is with

00:06:42,870 --> 00:06:47,190
the solidus API and and I think a lot of

00:06:46,050 --> 00:06:49,050
people don't actually know that's all of

00:06:47,190 --> 00:06:51,450
us has an API but turns out it does

00:06:49,050 --> 00:06:53,100
right and so these are some numbers that

00:06:51,450 --> 00:06:54,240
I I got with grep right like you guys

00:06:53,100 --> 00:06:56,430
should be so proud of me I like I use

00:06:54,240 --> 00:06:58,350
grep but don't fact-check my numbers

00:06:56,430 --> 00:07:01,020
because like I don't know so this is

00:06:58,350 --> 00:07:02,040
it's a good general guide of sort of

00:07:01,020 --> 00:07:03,840
what the state is right

00:07:02,040 --> 00:07:06,600
so it's rest based and and there's

00:07:03,840 --> 00:07:07,620
something like 270 endpoints currently

00:07:06,600 --> 00:07:10,020
available with just like the vanilla

00:07:07,620 --> 00:07:12,300
solidus and those are spread over like

00:07:10,020 --> 00:07:13,590
30 controllers and if you look at the

00:07:12,300 --> 00:07:15,180
models and like take out all the through

00:07:13,590 --> 00:07:17,100
tables and stuff like like there's

00:07:15,180 --> 00:07:20,640
something like a third of the models are

00:07:17,100 --> 00:07:22,080
like accessible directly with the API so

00:07:20,640 --> 00:07:23,580
then our real question is like is it

00:07:22,080 --> 00:07:24,900
good enough for all of those things like

00:07:23,580 --> 00:07:27,120
can we really do all of those things

00:07:24,900 --> 00:07:30,330
with the API like how good really is it

00:07:27,120 --> 00:07:31,740
and every time we we mentioned the API I

00:07:30,330 --> 00:07:33,180
think everybody sort of asked us like

00:07:31,740 --> 00:07:34,830
well why don't you just use graph UL

00:07:33,180 --> 00:07:36,540
like like that's so hot right now right

00:07:34,830 --> 00:07:39,300
like like everybody using graph feel

00:07:36,540 --> 00:07:41,400
like we should just use graph QL and you

00:07:39,300 --> 00:07:45,630
know it's a valid question right like

00:07:41,400 --> 00:07:47,430
why don't we use graph QL and there's

00:07:45,630 --> 00:07:49,169
some there's some reasons why we ended

00:07:47,430 --> 00:07:50,880
up not going with graph QL yet right

00:07:49,169 --> 00:07:52,320
like so so the community is currently

00:07:50,880 --> 00:07:53,370
supporting graphically well in it you

00:07:52,320 --> 00:07:56,419
know it says right here like it says

00:07:53,370 --> 00:07:59,130
it's work in progress and so you know

00:07:56,419 --> 00:08:01,200
support is currently in early stages and

00:07:59,130 --> 00:08:02,820
you know the API it already exists

00:08:01,200 --> 00:08:04,320
theoretically right like so if we were

00:08:02,820 --> 00:08:05,550
to go to graph QL like we'd have to have

00:08:04,320 --> 00:08:08,039
some of our back-end devs like

00:08:05,550 --> 00:08:10,229
supporting it whereas like if we just go

00:08:08,039 --> 00:08:11,910
with the API like theoretically like

00:08:10,229 --> 00:08:13,500
it's it's done right like our front-end

00:08:11,910 --> 00:08:16,800
desks can just go add features and use

00:08:13,500 --> 00:08:19,620
it like gg done so theoretically like

00:08:16,800 --> 00:08:20,789
that that's good and you know what we

00:08:19,620 --> 00:08:22,590
already have all this experience with

00:08:20,789 --> 00:08:25,470
other recipe API is right and so it's

00:08:22,590 --> 00:08:27,150
just like we're already sort of shifting

00:08:25,470 --> 00:08:28,380
our paradigm to be like a react focus

00:08:27,150 --> 00:08:30,660
and we don't want to like alienate too

00:08:28,380 --> 00:08:31,770
many of our developers too fast so

00:08:30,660 --> 00:08:32,849
really at the end of the day like we

00:08:31,770 --> 00:08:35,430
just didn't want to rock the boat too

00:08:32,849 --> 00:08:37,080
much and so that was sort of our reason

00:08:35,430 --> 00:08:38,400
I was saying like hey let's just let's

00:08:37,080 --> 00:08:40,200
just hold off on changing too many

00:08:38,400 --> 00:08:43,650
things too quick and let's go with the

00:08:40,200 --> 00:08:45,839
REST API and so this we're gonna do sort

00:08:43,650 --> 00:08:47,760
of our first impressions and what I want

00:08:45,839 --> 00:08:52,140
to do is this is basically a post-mortem

00:08:47,760 --> 00:08:53,930
for us of just our experience and so I'm

00:08:52,140 --> 00:08:59,000
I just want to give some context in back

00:08:53,930 --> 00:09:01,070
on that experience and basically so I

00:08:59,000 --> 00:09:03,500
just want to say like the API like I'm

00:09:01,070 --> 00:09:04,730
gonna spoiler alert like the API is we

00:09:03,500 --> 00:09:06,580
think it's in a really good place

00:09:04,730 --> 00:09:08,660
obviously there's room for improvement

00:09:06,580 --> 00:09:09,920
but we know that like people put a lot

00:09:08,660 --> 00:09:11,510
of hard work so I don't want to sound

00:09:09,920 --> 00:09:13,450
like I'm like complaining or like or

00:09:11,510 --> 00:09:16,070
anything right like I think it's great

00:09:13,450 --> 00:09:17,210
so this is just like our experience and

00:09:16,070 --> 00:09:19,460
we're gonna talk about the things that

00:09:17,210 --> 00:09:21,110
we screwed up with and things that

00:09:19,460 --> 00:09:24,200
hopefully that the community can learn

00:09:21,110 --> 00:09:26,060
from our mistakes and so we started to

00:09:24,200 --> 00:09:29,060
move to an API based around a year ago

00:09:26,060 --> 00:09:33,830
and our first objective was to redo our

00:09:29,060 --> 00:09:35,030
checkout flow using the API and so so

00:09:33,830 --> 00:09:36,740
about a year ago when we first got

00:09:35,030 --> 00:09:38,540
started like this was our dog's right

00:09:36,740 --> 00:09:40,550
like we would take controllers and we

00:09:38,540 --> 00:09:42,200
would take specs and the route and that

00:09:40,550 --> 00:09:45,650
was about all we had for for

00:09:42,200 --> 00:09:47,330
documentation and so there really wasn't

00:09:45,650 --> 00:09:48,530
much for us to go off and and you know

00:09:47,330 --> 00:09:49,490
we had all these endpoints but we didn't

00:09:48,530 --> 00:09:51,020
really know how to like put them

00:09:49,490 --> 00:09:53,000
together and so it was really just a lot

00:09:51,020 --> 00:09:54,590
of trial a trial and error of us just

00:09:53,000 --> 00:09:57,020
like hitting an endpoint and throwing

00:09:54,590 --> 00:09:59,300
data at it and seeing what came back and

00:09:57,020 --> 00:10:00,830
so what we figured out was like you know

00:09:59,300 --> 00:10:02,390
we would hit these endpoints and the

00:10:00,830 --> 00:10:04,100
first thing that we'd get back is is

00:10:02,390 --> 00:10:05,720
this response like you must specify an

00:10:04,100 --> 00:10:08,990
API key and we're just like what the

00:10:05,720 --> 00:10:12,590
heck's in API key and so it turns out

00:10:08,990 --> 00:10:14,210
that like all all requests from the API

00:10:12,590 --> 00:10:17,600
like by default require you to have an

00:10:14,210 --> 00:10:19,310
API key so like user admins are assigned

00:10:17,600 --> 00:10:20,840
an API key right but you can change it

00:10:19,310 --> 00:10:23,630
so like every user is assigned an API

00:10:20,840 --> 00:10:26,300
key anyway so this is config thing that

00:10:23,630 --> 00:10:27,590
is sort of hidden you you can change

00:10:26,300 --> 00:10:28,850
right you can just switch it to say like

00:10:27,590 --> 00:10:30,740
oh yeah we don't want to require

00:10:28,850 --> 00:10:33,050
authentication and this makes it so like

00:10:30,740 --> 00:10:34,580
the the product endpoints can be

00:10:33,050 --> 00:10:36,500
accessible by anyone but things like

00:10:34,580 --> 00:10:40,130
orders and users are still require

00:10:36,500 --> 00:10:43,970
authentication and so what we realized

00:10:40,130 --> 00:10:46,190
was like the the token or the yeah so

00:10:43,970 --> 00:10:48,950
the API keys are really good for things

00:10:46,190 --> 00:10:50,630
like like an admin import thing or

00:10:48,950 --> 00:10:53,720
something like some some dev tool but

00:10:50,630 --> 00:10:56,660
like API keys aren't really good on like

00:10:53,720 --> 00:10:57,590
a client side right and so like because

00:10:56,660 --> 00:11:00,410
it's like if you think about it like if

00:10:57,590 --> 00:11:01,940
if you basically you sign on an API key

00:11:00,410 --> 00:11:03,830
to a user and then that's sort of their

00:11:01,940 --> 00:11:05,480
API key right so it's like what happens

00:11:03,830 --> 00:11:07,190
when that API keys compromise like you

00:11:05,480 --> 00:11:07,610
just do you call up your user and be

00:11:07,190 --> 00:11:08,810
like hey

00:11:07,610 --> 00:11:10,300
you need to cancel your credit cards

00:11:08,810 --> 00:11:13,100
because your API key is compromised

00:11:10,300 --> 00:11:15,320
that's not really cool right and so what

00:11:13,100 --> 00:11:17,959
we ended up doing was we wrote a gem

00:11:15,320 --> 00:11:20,779
called solidus GWT and now so we could

00:11:17,959 --> 00:11:22,760
support job JSON web tokens so just like

00:11:20,779 --> 00:11:25,670
an alternative to telleth annotating

00:11:22,760 --> 00:11:28,100
with the api and so as we started

00:11:25,670 --> 00:11:29,209
thinking about it right like like it

00:11:28,100 --> 00:11:33,260
turns out there's not really any

00:11:29,209 --> 00:11:34,579
versioning in the API which this is fine

00:11:33,260 --> 00:11:35,810
when you're doing like web apps right

00:11:34,579 --> 00:11:37,279
because every time a user comes into the

00:11:35,810 --> 00:11:38,329
app like you just reload the newest

00:11:37,279 --> 00:11:39,680
version of the app and that's great

00:11:38,329 --> 00:11:42,740
right when you start thinking about

00:11:39,680 --> 00:11:44,029
things like native apps like you you

00:11:42,740 --> 00:11:45,320
sort of bundle up all your code and you

00:11:44,029 --> 00:11:46,940
just you just give it out and somebody

00:11:45,320 --> 00:11:48,410
downloads that like that's that's the

00:11:46,940 --> 00:11:50,240
version of the app that they have and if

00:11:48,410 --> 00:11:51,649
you dump a new version of your app and

00:11:50,240 --> 00:11:54,950
somebody doesn't they don't necessarily

00:11:51,649 --> 00:11:57,140
have to be updating it and so so you

00:11:54,950 --> 00:11:58,399
sort of have to like support these older

00:11:57,140 --> 00:11:59,720
versions of the app right you just have

00:11:58,399 --> 00:12:01,430
you sort of decide like I'm gonna

00:11:59,720 --> 00:12:03,380
support this version or the app for in

00:12:01,430 --> 00:12:04,790
number of months right so like a desert

00:12:03,380 --> 00:12:06,170
book we have something like five or six

00:12:04,790 --> 00:12:09,260
versions of our app that we're currently

00:12:06,170 --> 00:12:10,519
like watching ray and and those were all

00:12:09,260 --> 00:12:13,399
released over the last several months

00:12:10,519 --> 00:12:15,230
and so it's like you know if we wanted

00:12:13,399 --> 00:12:16,850
to make a breaking change something we

00:12:15,230 --> 00:12:19,130
feel is like great - the response type

00:12:16,850 --> 00:12:20,740
right like that might alienate and like

00:12:19,130 --> 00:12:23,449
break one of our old versions of the app

00:12:20,740 --> 00:12:24,829
and another thing about versioning is

00:12:23,449 --> 00:12:26,839
like you know when we start thinking

00:12:24,829 --> 00:12:28,310
about like client-side means like when

00:12:26,839 --> 00:12:30,670
we're displaying a list of products like

00:12:28,310 --> 00:12:33,019
the data that we that we returned for

00:12:30,670 --> 00:12:34,490
for clients might be different than what

00:12:33,019 --> 00:12:36,470
we need for the enterprise integrations

00:12:34,490 --> 00:12:37,850
and this is where you people are like oh

00:12:36,470 --> 00:12:40,490
yeah we could use a graph Cavill for

00:12:37,850 --> 00:12:41,720
that and yeah that's like that's a good

00:12:40,490 --> 00:12:43,490
point like that's one of the benefits of

00:12:41,720 --> 00:12:46,279
graph QL but you know what we already

00:12:43,490 --> 00:12:47,269
have the API and so like since it or

00:12:46,279 --> 00:12:48,860
exists we're not just going to throw it

00:12:47,269 --> 00:12:50,060
out right like in favor of graphic you

00:12:48,860 --> 00:12:51,709
know like we might as well just make it

00:12:50,060 --> 00:12:53,480
better and so this is one of the things

00:12:51,709 --> 00:12:54,850
that we realized is like hey this is an

00:12:53,480 --> 00:12:57,260
area where we can improve

00:12:54,850 --> 00:12:59,779
so another thing as we as we started

00:12:57,260 --> 00:13:02,449
doing this right we you sort of just ran

00:12:59,779 --> 00:13:04,760
into a bunch of little like quirk things

00:13:02,449 --> 00:13:06,490
where it's like oh this doesn't quite

00:13:04,760 --> 00:13:09,410
work as well as we would expect it to

00:13:06,490 --> 00:13:11,630
and so this is an example of some sort

00:13:09,410 --> 00:13:12,920
of like an unexpected behavior so it

00:13:11,630 --> 00:13:16,550
turns out this is like the order of

00:13:12,920 --> 00:13:18,620
create method using the API and it so

00:13:16,550 --> 00:13:20,010
basically if an admin comes in and tries

00:13:18,620 --> 00:13:23,310
to create an order like

00:13:20,010 --> 00:13:25,080
they hit the order importer whereas like

00:13:23,310 --> 00:13:27,240
a regular user just creates a regular

00:13:25,080 --> 00:13:30,510
order and so I don't know about you guys

00:13:27,240 --> 00:13:32,430
but like our our admins dog they the dog

00:13:30,510 --> 00:13:33,750
food our app right meaning like they

00:13:32,430 --> 00:13:35,430
come in and they actually buy stuff from

00:13:33,750 --> 00:13:37,230
our store and so that means that like if

00:13:35,430 --> 00:13:38,520
our admins try to like buy stuff on our

00:13:37,230 --> 00:13:40,680
store like they might run into these

00:13:38,520 --> 00:13:44,040
kind of issues so we just ran into like

00:13:40,680 --> 00:13:45,840
all these little like quirkiness which I

00:13:44,040 --> 00:13:47,070
mean like it makes sense like we need an

00:13:45,840 --> 00:13:48,120
importer but like maybe that kind of

00:13:47,070 --> 00:13:51,240
thing should live in a different end

00:13:48,120 --> 00:13:53,190
point so that's sort of like our first

00:13:51,240 --> 00:13:54,600
impressions right you know we didn't

00:13:53,190 --> 00:13:54,870
really have much documentation to go off

00:13:54,600 --> 00:13:56,280
of

00:13:54,870 --> 00:13:59,130
we weren't quite sure how to

00:13:56,280 --> 00:14:00,480
authenticate and we're sort of unsure of

00:13:59,130 --> 00:14:02,970
like what the best practice is words

00:14:00,480 --> 00:14:05,670
like version are our responses and how

00:14:02,970 --> 00:14:07,680
to like manage those and they were just

00:14:05,670 --> 00:14:09,510
they're just little things about it but

00:14:07,680 --> 00:14:12,630
you know when we look at all of those

00:14:09,510 --> 00:14:14,310
issues that we ran into like there's

00:14:12,630 --> 00:14:16,200
there's really only one source of our

00:14:14,310 --> 00:14:19,470
problem and and really that was just

00:14:16,200 --> 00:14:21,360
that we'd oving to quick like I'm not

00:14:19,470 --> 00:14:23,010
saying the API is bad we just we were

00:14:21,360 --> 00:14:24,390
like super hyper focused like it was

00:14:23,010 --> 00:14:26,100
just like we need to do check out and

00:14:24,390 --> 00:14:27,900
we're gonna use the API let's do it and

00:14:26,100 --> 00:14:29,190
so we just sort of found the endpoints

00:14:27,900 --> 00:14:31,920
that we want and we dumped data at it

00:14:29,190 --> 00:14:33,540
and we just hit it and and we didn't

00:14:31,920 --> 00:14:35,550
really have anywhere to go for like

00:14:33,540 --> 00:14:39,060
documentation on how to like do checkout

00:14:35,550 --> 00:14:40,380
right and so we didn't we didn't stop

00:14:39,060 --> 00:14:41,550
and smell the roses we didn't stop and

00:14:40,380 --> 00:14:44,100
look at the big picture of things we

00:14:41,550 --> 00:14:45,720
just we just dope into quick and things

00:14:44,100 --> 00:14:48,150
have gotten a lot better since then like

00:14:45,720 --> 00:14:50,370
we now like really recently like we came

00:14:48,150 --> 00:14:51,840
out with these docs for the API and

00:14:50,370 --> 00:14:54,750
they're like super great like I would

00:14:51,840 --> 00:14:56,340
have killed for these a year ago so like

00:14:54,750 --> 00:14:58,410
I'm super excited that we have these and

00:14:56,340 --> 00:15:00,210
it's an awesome start and obviously

00:14:58,410 --> 00:15:03,510
there's like more room that we can do to

00:15:00,210 --> 00:15:06,960
improve this but you know for now like

00:15:03,510 --> 00:15:08,580
it's it's really good and so I what I

00:15:06,960 --> 00:15:10,020
want to do now is like we hopefully

00:15:08,580 --> 00:15:11,700
we've learned from our mistakes right

00:15:10,020 --> 00:15:13,800
and what I want to do is what we should

00:15:11,700 --> 00:15:15,540
have done all along and sort of do an

00:15:13,800 --> 00:15:19,170
analysis big picture of what the API

00:15:15,540 --> 00:15:20,760
actually is and the reason that I want

00:15:19,170 --> 00:15:22,380
to do that is is because what we'll

00:15:20,760 --> 00:15:25,020
notice is there's lots of patterns that

00:15:22,380 --> 00:15:27,270
we can recognize as we do this and and

00:15:25,020 --> 00:15:28,620
the important part about patterns is as

00:15:27,270 --> 00:15:30,420
we look at them it helps us to

00:15:28,620 --> 00:15:31,770
effectively learn how to use it right

00:15:30,420 --> 00:15:32,650
because it's like oh once I learn this

00:15:31,770 --> 00:15:34,300
pattern then I

00:15:32,650 --> 00:15:36,400
I just keep following that pattern right

00:15:34,300 --> 00:15:38,500
and another thing that it does it helps

00:15:36,400 --> 00:15:40,690
us find things that are missing so we

00:15:38,500 --> 00:15:42,640
can say hey this this import like this

00:15:40,690 --> 00:15:44,560
this model has these type of end points

00:15:42,640 --> 00:15:46,780
and this one doesn't like maybe this one

00:15:44,560 --> 00:15:47,950
should have those same things you know

00:15:46,780 --> 00:15:49,150
and it's like oh that's missing it

00:15:47,950 --> 00:15:51,940
that's something where we can improve

00:15:49,150 --> 00:15:53,440
and another reason for finding these

00:15:51,940 --> 00:15:54,730
patterns is it's super important for

00:15:53,440 --> 00:15:57,730
like extensions like we talked about

00:15:54,730 --> 00:16:00,610
extensions yesterday and a lot of

00:15:57,730 --> 00:16:02,020
extensions can have or should have API

00:16:00,610 --> 00:16:03,520
support right and so we should be

00:16:02,020 --> 00:16:05,140
following the same patterns as a

00:16:03,520 --> 00:16:07,150
community to say hey these are the think

00:16:05,140 --> 00:16:09,070
these are the patterns in our API that

00:16:07,150 --> 00:16:11,460
we should all be following and so as we

00:16:09,070 --> 00:16:13,630
develop our extensions in the API is

00:16:11,460 --> 00:16:15,400
inside them like we should be following

00:16:13,630 --> 00:16:18,340
these patterns so that everybody is sort

00:16:15,400 --> 00:16:19,870
of on the same page so with this is

00:16:18,340 --> 00:16:23,680
right here this is basically every

00:16:19,870 --> 00:16:24,820
endpoint in the API and it it doesn't

00:16:23,680 --> 00:16:26,050
matter if you can't read it like what

00:16:24,820 --> 00:16:28,390
we're gonna look for is patterns right

00:16:26,050 --> 00:16:30,310
so what we have here these are sort of

00:16:28,390 --> 00:16:32,230
the we'll call them like endpoint groups

00:16:30,310 --> 00:16:34,390
right and so they sort of like represent

00:16:32,230 --> 00:16:36,280
like a model or some type of data and

00:16:34,390 --> 00:16:39,070
then underneath of those are the

00:16:36,280 --> 00:16:40,330
endpoints of that we can like manipulate

00:16:39,070 --> 00:16:42,730
that data right so we have like check

00:16:40,330 --> 00:16:44,770
out an order and product and taxonomy

00:16:42,730 --> 00:16:47,200
zantac zones right and then under those

00:16:44,770 --> 00:16:49,600
are the endpoints that we can do how we

00:16:47,200 --> 00:16:51,190
can interact with it right so we have

00:16:49,600 --> 00:16:52,510
like our index right this is our index

00:16:51,190 --> 00:16:54,790
and that's how we get like all of

00:16:52,510 --> 00:16:56,770
something and then the next one is like

00:16:54,790 --> 00:16:58,480
a get right and this is like our show

00:16:56,770 --> 00:17:00,130
method and that's sort of like how we

00:16:58,480 --> 00:17:02,860
help we get a single instance of

00:17:00,130 --> 00:17:04,600
something then after that we have create

00:17:02,860 --> 00:17:06,760
so we can like create a new instance of

00:17:04,600 --> 00:17:09,699
something and then we have update

00:17:06,760 --> 00:17:11,260
obviously that's how we updated after

00:17:09,699 --> 00:17:13,959
that we have we have a bunch of deletes

00:17:11,260 --> 00:17:16,720
right so that makes sense right this is

00:17:13,959 --> 00:17:18,400
just crud but and something cool is like

00:17:16,720 --> 00:17:19,630
once we like there's a bunch of like

00:17:18,400 --> 00:17:21,220
one-ounce right

00:17:19,630 --> 00:17:23,410
but we noticed is like there's this

00:17:21,220 --> 00:17:24,579
other one called new and it's like what

00:17:23,410 --> 00:17:26,079
is new do you're like what's the

00:17:24,579 --> 00:17:27,910
difference between new and create and

00:17:26,079 --> 00:17:30,130
turns out news a get request and it's

00:17:27,910 --> 00:17:32,980
like well how does that work but turns

00:17:30,130 --> 00:17:35,140
out like what new does is you make a get

00:17:32,980 --> 00:17:37,150
request so we'll take option types for

00:17:35,140 --> 00:17:39,130
instance right like if you make a get

00:17:37,150 --> 00:17:41,500
rich get request on the new for option

00:17:39,130 --> 00:17:44,080
types then that returns the the

00:17:41,500 --> 00:17:45,100
permitted attributes so basically what

00:17:44,080 --> 00:17:47,830
it does is it tells you

00:17:45,100 --> 00:17:49,870
how to create something and so what we

00:17:47,830 --> 00:17:52,480
can do is is we can sort of couple this

00:17:49,870 --> 00:17:56,169
with the create method to build our UI

00:17:52,480 --> 00:17:57,400
to allow users should to to sort of add

00:17:56,169 --> 00:17:59,679
these things right it's like how we

00:17:57,400 --> 00:18:01,210
build a form so basically you you call

00:17:59,679 --> 00:18:02,799
the new and say hey how do I build this

00:18:01,210 --> 00:18:04,450
form and says great here's what you need

00:18:02,799 --> 00:18:06,010
to build a form you build it and then

00:18:04,450 --> 00:18:08,559
you let users fill it out and then you

00:18:06,010 --> 00:18:11,350
call create or to create it and then it

00:18:08,559 --> 00:18:12,460
turns out edit like updates have the

00:18:11,350 --> 00:18:13,900
same thing right there's this edit

00:18:12,460 --> 00:18:16,179
method and you say hey I have this thing

00:18:13,900 --> 00:18:17,350
how do I edit it and it says oh here's

00:18:16,179 --> 00:18:19,000
all the fields that you need to add and

00:18:17,350 --> 00:18:20,919
it says great like here's the fields I

00:18:19,000 --> 00:18:22,030
have here's and then you could get to

00:18:20,919 --> 00:18:23,799
get like an instance and you're like

00:18:22,030 --> 00:18:26,409
okay like here's my form and then called

00:18:23,799 --> 00:18:27,820
update so this is these are like

00:18:26,409 --> 00:18:29,740
patterns like okay and like now I know I

00:18:27,820 --> 00:18:31,840
know a little bit better like how I can

00:18:29,740 --> 00:18:34,840
connect different end points together

00:18:31,840 --> 00:18:36,490
and so and then we we can look at our

00:18:34,840 --> 00:18:38,799
index requests like all of the all of

00:18:36,490 --> 00:18:39,940
the index requests that we make there

00:18:38,799 --> 00:18:42,340
there's a few things that are similar

00:18:39,940 --> 00:18:44,559
between them right like all of them

00:18:42,340 --> 00:18:46,390
except a queue which is like a ransacked

00:18:44,559 --> 00:18:48,039
query right this allows us to sort of

00:18:46,390 --> 00:18:50,700
like manipulate the data that that is

00:18:48,039 --> 00:18:53,350
reassuring to it and the next one is

00:18:50,700 --> 00:18:54,880
pagination and like for us like we have

00:18:53,350 --> 00:18:56,020
thirty thousand products right and it's

00:18:54,880 --> 00:18:57,880
like you don't expect like every time a

00:18:56,020 --> 00:18:59,260
user comes to our page just like dump

00:18:57,880 --> 00:19:00,309
thirty thousand products on the page

00:18:59,260 --> 00:19:02,500
like that's gonna take forever

00:19:00,309 --> 00:19:04,990
so pagination is like super important

00:19:02,500 --> 00:19:06,100
let's just say like hey here's here's

00:19:04,990 --> 00:19:07,990
the pages that we want and here's how

00:19:06,100 --> 00:19:10,240
many results we want like give us give

00:19:07,990 --> 00:19:11,919
us a subset of this data and what's cool

00:19:10,240 --> 00:19:13,690
is like the the index response always

00:19:11,919 --> 00:19:15,789
comes back with like here's here's

00:19:13,690 --> 00:19:17,860
pagination information which allows us

00:19:15,789 --> 00:19:20,710
to build a UI that allows users to

00:19:17,860 --> 00:19:22,929
navigate that subset of data and then we

00:19:20,710 --> 00:19:25,990
also have some patterns in our create

00:19:22,929 --> 00:19:27,909
and update request so it turns out like

00:19:25,990 --> 00:19:29,740
anytime we we create or update something

00:19:27,909 --> 00:19:31,480
like the attributes that we're gonna

00:19:29,740 --> 00:19:34,990
update or create it should actually be

00:19:31,480 --> 00:19:36,460
nested inside so like on an order

00:19:34,990 --> 00:19:39,250
endpoints for instance like we don't

00:19:36,460 --> 00:19:40,419
just dump the order like directly in the

00:19:39,250 --> 00:19:42,360
params that we're passing in but we

00:19:40,419 --> 00:19:46,030
actually like nested inside of an order

00:19:42,360 --> 00:19:47,559
property and so another thing that like

00:19:46,030 --> 00:19:48,850
as we as we're doing this like we run

00:19:47,559 --> 00:19:50,380
into like all these errors right like

00:19:48,850 --> 00:19:52,799
every every request we make isn't gonna

00:19:50,380 --> 00:19:55,750
be perfect for one reason or another and

00:19:52,799 --> 00:19:57,549
and this was where like I I had a lot of

00:19:55,750 --> 00:19:58,940
trouble with this initially but because

00:19:57,549 --> 00:20:01,280
like we just don't

00:19:58,940 --> 00:20:02,540
like trial and error but I never like

00:20:01,280 --> 00:20:05,570
stopped and like looked at what the

00:20:02,540 --> 00:20:07,250
errors were so I start with way more

00:20:05,570 --> 00:20:08,660
with this than I should have but if you

00:20:07,250 --> 00:20:10,460
like actually stop and look there's only

00:20:08,660 --> 00:20:13,670
like seven errors that you can you can

00:20:10,460 --> 00:20:15,350
get which is not like that's pretty good

00:20:13,670 --> 00:20:16,600
and if you actually like take the

00:20:15,350 --> 00:20:18,680
one-minute so like a look at those

00:20:16,600 --> 00:20:20,300
there's only like two different things

00:20:18,680 --> 00:20:21,920
that the response can give you and the

00:20:20,300 --> 00:20:24,350
first one is like your error message

00:20:21,920 --> 00:20:25,790
that's just like a pretty message to

00:20:24,350 --> 00:20:28,100
show errors when something goes wrong

00:20:25,790 --> 00:20:29,840
right and then if you if you do like an

00:20:28,100 --> 00:20:32,240
update or a create and basically like

00:20:29,840 --> 00:20:34,310
the data view pass was bad for whatever

00:20:32,240 --> 00:20:36,500
reason like it passes this object of

00:20:34,310 --> 00:20:39,020
errors and it's sort of just like a map

00:20:36,500 --> 00:20:41,210
between like the field name and and the

00:20:39,020 --> 00:20:43,130
message related to it and what we used

00:20:41,210 --> 00:20:44,600
to do was just like errors had come back

00:20:43,130 --> 00:20:46,160
and just dumped in the top and on the

00:20:44,600 --> 00:20:48,490
alert it's just like stuff went wrong

00:20:46,160 --> 00:20:50,420
like you figure it out like here you go

00:20:48,490 --> 00:20:52,220
but what's cool is you can actually take

00:20:50,420 --> 00:20:55,160
this and couple it with like the new or

00:20:52,220 --> 00:20:57,980
the edit request helped you build your

00:20:55,160 --> 00:20:59,360
form and you can sort of map those those

00:20:57,980 --> 00:21:02,390
per minute attributes with these error

00:20:59,360 --> 00:21:04,730
messages to sort of move your errors

00:21:02,390 --> 00:21:08,360
like more contextual into the app which

00:21:04,730 --> 00:21:10,190
makes for a better UI and then another

00:21:08,360 --> 00:21:12,380
one like a no more patterns right is

00:21:10,190 --> 00:21:14,750
this like we've documented now on the

00:21:12,380 --> 00:21:16,730
checkout flow and this is super legit of

00:21:14,750 --> 00:21:19,550
just like here's how you take an order

00:21:16,730 --> 00:21:21,560
or a user from from not having having an

00:21:19,550 --> 00:21:23,450
empty cart to like fully moving it

00:21:21,560 --> 00:21:24,620
through the state machine right like so

00:21:23,450 --> 00:21:26,450
this is super great and this is the kind

00:21:24,620 --> 00:21:28,550
of documentation that we need more of

00:21:26,450 --> 00:21:30,650
because this really lowers the barrier

00:21:28,550 --> 00:21:32,660
of entry for for developers right

00:21:30,650 --> 00:21:34,010
because like we struggled by just saying

00:21:32,660 --> 00:21:35,600
like we have all these endpoints but how

00:21:34,010 --> 00:21:36,650
do they work together and this is like

00:21:35,600 --> 00:21:38,810
this is the kind of stuff that's like

00:21:36,650 --> 00:21:41,720
hey all users like all pretty much all

00:21:38,810 --> 00:21:44,210
equals like goes through through this

00:21:41,720 --> 00:21:46,460
this process right like this pattern and

00:21:44,210 --> 00:21:48,530
so as we if we can document those kind

00:21:46,460 --> 00:21:50,300
of things more like we'll end up

00:21:48,530 --> 00:21:53,270
building a better user experience for us

00:21:50,300 --> 00:21:54,530
as developers and being a make it so

00:21:53,270 --> 00:21:59,000
that we can use the API a little bit

00:21:54,530 --> 00:22:00,460
better so as we move on like hopefully

00:21:59,000 --> 00:22:03,620
that gives you guys a little bit better

00:22:00,460 --> 00:22:06,980
overview of like what the API is and

00:22:03,620 --> 00:22:08,330
sort of like how we can use it so so now

00:22:06,980 --> 00:22:09,470
that we've done that like well we'll

00:22:08,330 --> 00:22:12,320
talk a little bit more about how we

00:22:09,470 --> 00:22:14,540
interact with the API itself

00:22:12,320 --> 00:22:17,270
and so and so if you remember like we

00:22:14,540 --> 00:22:18,170
well basically we have these things and

00:22:17,270 --> 00:22:20,000
we want to be able to do this

00:22:18,170 --> 00:22:21,620
effectively right like we want to be

00:22:20,000 --> 00:22:24,080
able to use the API in different

00:22:21,620 --> 00:22:26,990
environments like web apps native apps

00:22:24,080 --> 00:22:28,130
lambdas like whatever right like pretty

00:22:26,990 --> 00:22:30,350
much anything you can think of like

00:22:28,130 --> 00:22:32,690
we've we've thought of like can we do it

00:22:30,350 --> 00:22:34,130
right and so if you if you made like a

00:22:32,690 --> 00:22:36,290
Venn diagram of all the different

00:22:34,130 --> 00:22:38,210
languages that are supported in all

00:22:36,290 --> 00:22:41,090
those different things like there's

00:22:38,210 --> 00:22:43,340
really only one answer of like thing in

00:22:41,090 --> 00:22:44,690
the middle and that's JavaScript so

00:22:43,340 --> 00:22:47,030
unfortunately like a lot of people are

00:22:44,690 --> 00:22:49,130
just like oh crap JavaScript but it

00:22:47,030 --> 00:22:50,300
turns out like like you know for a small

00:22:49,130 --> 00:22:52,250
team like we only have like eight

00:22:50,300 --> 00:22:54,380
developers and we want to do all these

00:22:52,250 --> 00:22:56,150
things right and so it's like it's it's

00:22:54,380 --> 00:22:58,220
really attractive to a small team to

00:22:56,150 --> 00:22:59,720
just sort of like narrow the number of

00:22:58,220 --> 00:23:02,060
languages that we use and narrow the

00:22:59,720 --> 00:23:03,620
number of tools that we write and so

00:23:02,060 --> 00:23:05,090
it's like if if we can just use

00:23:03,620 --> 00:23:07,220
JavaScript for everything like that's

00:23:05,090 --> 00:23:08,600
that's pretty good right it allows our

00:23:07,220 --> 00:23:09,830
developers to sort of jump around all

00:23:08,600 --> 00:23:12,080
those different projects a little bit

00:23:09,830 --> 00:23:13,640
easier and so what we ended up doing was

00:23:12,080 --> 00:23:16,340
like well we'll we'll build a JavaScript

00:23:13,640 --> 00:23:17,810
SDK and so an SDK is a software

00:23:16,340 --> 00:23:20,450
developer kit and basically it just

00:23:17,810 --> 00:23:23,450
means like a bunch of code that we that

00:23:20,450 --> 00:23:24,530
we wrote and shared so that it makes it

00:23:23,450 --> 00:23:27,110
a little bit easier for us to develop

00:23:24,530 --> 00:23:29,360
using using solidus right or using

00:23:27,110 --> 00:23:32,060
anything and so before we start it out

00:23:29,360 --> 00:23:34,550
we set ourselves some goals we wanted

00:23:32,060 --> 00:23:36,350
something that was consistent so that

00:23:34,550 --> 00:23:37,460
you know you the way you use it in one

00:23:36,350 --> 00:23:39,740
place is the way you would use it and

00:23:37,460 --> 00:23:41,450
everything in the way that use it

00:23:39,740 --> 00:23:43,400
between endpoints is all sort of similar

00:23:41,450 --> 00:23:45,650
right and we wanted something that was

00:23:43,400 --> 00:23:47,390
extensible meaning that like everybody's

00:23:45,650 --> 00:23:48,620
instance of solidus is different and

00:23:47,390 --> 00:23:50,540
everybody uses different plugins and

00:23:48,620 --> 00:23:53,060
stuff and we wanted something that was

00:23:50,540 --> 00:23:54,830
um you know that would work for

00:23:53,060 --> 00:23:56,150
everybody and we wanted some of it was

00:23:54,830 --> 00:23:58,730
maintainable something that we didn't

00:23:56,150 --> 00:24:00,830
spend all of our time developing like

00:23:58,730 --> 00:24:04,310
something that helped us do our job not

00:24:00,830 --> 00:24:05,600
like wasting our time right and this was

00:24:04,310 --> 00:24:06,740
same thing with like developer friendly

00:24:05,600 --> 00:24:08,090
something that was like easy for

00:24:06,740 --> 00:24:09,890
somebody to come in and be like oh yeah

00:24:08,090 --> 00:24:11,960
okay I see how this works and be able to

00:24:09,890 --> 00:24:15,220
move on and actually develop features

00:24:11,960 --> 00:24:18,830
rather than worry about how the SDK work

00:24:15,220 --> 00:24:20,660
so we ended up doing a few attempts with

00:24:18,830 --> 00:24:23,150
this right is what I want to do is talk

00:24:20,660 --> 00:24:25,400
about some of our failed attempts to

00:24:23,150 --> 00:24:28,190
sort of give you a reasoning behind like

00:24:25,400 --> 00:24:30,530
architecture of why we did things with

00:24:28,190 --> 00:24:31,820
the way we did and so our first attempt

00:24:30,530 --> 00:24:33,110
was just like functions right it's like

00:24:31,820 --> 00:24:34,910
all cool JavaScript I've tried a bunch

00:24:33,110 --> 00:24:37,309
of functions and so every function we

00:24:34,910 --> 00:24:39,290
write will will sort of make one of

00:24:37,309 --> 00:24:41,090
these requests for us so this is an

00:24:39,290 --> 00:24:43,580
example of like getting an order right

00:24:41,090 --> 00:24:45,260
and but then we ran into all these

00:24:43,580 --> 00:24:47,390
problems of like well where do I pull

00:24:45,260 --> 00:24:49,490
data because turns out like the path to

00:24:47,390 --> 00:24:52,940
get to something like requires like

00:24:49,490 --> 00:24:54,530
inherited data so like four line items

00:24:52,940 --> 00:24:55,970
like you would need like order

00:24:54,530 --> 00:24:58,250
information and then you also need like

00:24:55,970 --> 00:24:59,540
the line item information and then you

00:24:58,250 --> 00:25:01,820
might need like the information you're

00:24:59,540 --> 00:25:02,870
gonna pass to the API itself and so we

00:25:01,820 --> 00:25:05,990
just ran into all these different issues

00:25:02,870 --> 00:25:07,160
and there really wasn't extensible and

00:25:05,990 --> 00:25:08,210
we were just fighting with ourselves and

00:25:07,160 --> 00:25:10,100
there really the only thing we did good

00:25:08,210 --> 00:25:11,570
was document it now it's just because we

00:25:10,100 --> 00:25:13,970
took the time to write documentation for

00:25:11,570 --> 00:25:15,950
it so our first attempt just wasn't

00:25:13,970 --> 00:25:18,980
great and we decided to throw it out the

00:25:15,950 --> 00:25:20,420
door so let's try again write functions

00:25:18,980 --> 00:25:22,280
didn't work what about classes like

00:25:20,420 --> 00:25:25,640
that's cool like JavaScript supports

00:25:22,280 --> 00:25:26,750
classes now that'll be legit and so

00:25:25,640 --> 00:25:28,220
we're like cool we'll have like this

00:25:26,750 --> 00:25:29,929
base class and that'll handle all the

00:25:28,220 --> 00:25:32,179
like passing of data and stuff and the

00:25:29,929 --> 00:25:33,800
requests and so what we'll do is we'll

00:25:32,179 --> 00:25:35,630
just like have these classes that extend

00:25:33,800 --> 00:25:37,190
that right that's cool and then we'll

00:25:35,630 --> 00:25:38,480
write all these methods so we write our

00:25:37,190 --> 00:25:39,890
method for every single endpoint right

00:25:38,480 --> 00:25:41,420
and every one of those will accept like

00:25:39,890 --> 00:25:44,210
parameters and like options on the

00:25:41,420 --> 00:25:47,540
request and then I'll make this like

00:25:44,210 --> 00:25:51,080
generic requests using the like extended

00:25:47,540 --> 00:25:52,460
class that is so cool right and then

00:25:51,080 --> 00:25:54,200
we'll have like the nested ones right

00:25:52,460 --> 00:25:56,120
like so an order like has like nested

00:25:54,200 --> 00:25:59,150
line item in point and that will just

00:25:56,120 --> 00:26:00,320
return like a new class but in the

00:25:59,150 --> 00:26:04,100
noodle pass like the order information

00:26:00,320 --> 00:26:05,480
this would be super cool and and you

00:26:04,100 --> 00:26:06,530
know usage would look Allah would look a

00:26:05,480 --> 00:26:09,110
little bit something like this right

00:26:06,530 --> 00:26:11,360
like so we like initialize our SDK and

00:26:09,110 --> 00:26:12,950
then and then we'll just like call all

00:26:11,360 --> 00:26:15,380
of these methods right so like the order

00:26:12,950 --> 00:26:16,820
method we pass like order instance data

00:26:15,380 --> 00:26:19,550
to it and then that what that does is

00:26:16,820 --> 00:26:21,350
that returns like more endpoints that

00:26:19,550 --> 00:26:22,820
are accessible to us and then so will

00:26:21,350 --> 00:26:24,320
call line item which is another one of

00:26:22,820 --> 00:26:26,720
those right and then we'll pass line

00:26:24,320 --> 00:26:27,980
item instance data to it and then that

00:26:26,720 --> 00:26:29,179
what that's gonna do is that's going to

00:26:27,980 --> 00:26:31,130
return a bunch of other endpoints that

00:26:29,179 --> 00:26:32,600
are available to us and then finally the

00:26:31,130 --> 00:26:35,179
last ones like this is the one that

00:26:32,600 --> 00:26:37,460
actually returns data to you and

00:26:35,179 --> 00:26:38,960
actually makes the request well we we

00:26:37,460 --> 00:26:41,930
ended up happening was

00:26:38,960 --> 00:26:43,250
this was cool and we really like this

00:26:41,930 --> 00:26:45,770
syntax right and it was a little bit

00:26:43,250 --> 00:26:47,660
more consistent but we ran into all

00:26:45,770 --> 00:26:49,610
these troubles with like extensions

00:26:47,660 --> 00:26:51,050
because it was basically like if you

00:26:49,610 --> 00:26:52,460
wanted to override line items for

00:26:51,050 --> 00:26:54,290
whatever reason like you'd have to

00:26:52,460 --> 00:26:55,850
override line items and then you have to

00:26:54,290 --> 00:26:58,280
go over to the order and override order

00:26:55,850 --> 00:26:59,450
to like inherit from the new line items

00:26:58,280 --> 00:27:01,280
one and then you'd have to go back to

00:26:59,450 --> 00:27:02,900
the SDK don't know aren't they the order

00:27:01,280 --> 00:27:04,490
one it was just like this huge mess and

00:27:02,900 --> 00:27:06,680
it was just like sometimes we felt like

00:27:04,490 --> 00:27:08,480
we were doing more maintenance of our

00:27:06,680 --> 00:27:11,780
SDK than we're actually like developing

00:27:08,480 --> 00:27:14,810
things so attempt to is no bueno

00:27:11,780 --> 00:27:16,640
and so attend three we're like okay this

00:27:14,810 --> 00:27:18,740
is third times a third time's the charm

00:27:16,640 --> 00:27:20,450
right like and we realize we were

00:27:18,740 --> 00:27:23,000
actually having these problems with all

00:27:20,450 --> 00:27:24,530
of our API is like not just solidus we

00:27:23,000 --> 00:27:27,020
realize like we have these patterns like

00:27:24,530 --> 00:27:28,640
in all of them and so what we ended up

00:27:27,020 --> 00:27:30,170
doing was saying like well let's let's

00:27:28,640 --> 00:27:32,510
build some generic tool that allows us

00:27:30,170 --> 00:27:35,270
to to write these SDKs not only for

00:27:32,510 --> 00:27:37,210
solidus but for everything and we ended

00:27:35,270 --> 00:27:40,370
up building something called SDK Factory

00:27:37,210 --> 00:27:41,570
so we did we built a wish list of things

00:27:40,370 --> 00:27:42,770
that we wished it would do right so

00:27:41,570 --> 00:27:44,270
we're like well we should make it a

00:27:42,770 --> 00:27:47,150
schema base so it's fast it's easy for

00:27:44,270 --> 00:27:48,470
us to develop flexible so meaning of

00:27:47,150 --> 00:27:50,630
their like it will work with all of our

00:27:48,470 --> 00:27:52,220
stuff not just solidus and plug-in

00:27:50,630 --> 00:27:55,190
friendly so that like we could use this

00:27:52,220 --> 00:27:57,890
to to make it so that everybody can use

00:27:55,190 --> 00:27:58,880
can partake in it right and we want to

00:27:57,890 --> 00:28:01,130
be so proud of this and we can

00:27:58,880 --> 00:28:02,510
open-source it so what we ended up doing

00:28:01,130 --> 00:28:05,600
was coming up with a schema that looks

00:28:02,510 --> 00:28:06,950
something like this and basically it's

00:28:05,600 --> 00:28:08,180
just like you can have endpoints and

00:28:06,950 --> 00:28:10,130
then you can have endpoints and in point

00:28:08,180 --> 00:28:11,690
like group them and so this is like an

00:28:10,130 --> 00:28:13,580
example of a very basic example of an

00:28:11,690 --> 00:28:15,620
endpoint right you just pass you give it

00:28:13,580 --> 00:28:17,270
the name and then you give what method

00:28:15,620 --> 00:28:18,920
to use and then the path to hit right

00:28:17,270 --> 00:28:21,230
and then if you have like nested ones

00:28:18,920 --> 00:28:22,760
like lion items for instance like you

00:28:21,230 --> 00:28:28,040
just put other endpoints inside of that

00:28:22,760 --> 00:28:29,510
one and then what we did was we we

00:28:28,040 --> 00:28:31,430
basically added all these different

00:28:29,510 --> 00:28:36,350
resolvers that allow you to sort of hook

00:28:31,430 --> 00:28:38,540
into every every step of a request and

00:28:36,350 --> 00:28:41,150
so each one of these like allows you to

00:28:38,540 --> 00:28:41,660
like sort of manipulate how the request

00:28:41,150 --> 00:28:44,060
happens

00:28:41,660 --> 00:28:47,030
and an example of what we do with this

00:28:44,060 --> 00:28:50,090
is so we will actually like in

00:28:47,030 --> 00:28:52,200
JavaScript we prefer camel case and then

00:28:50,090 --> 00:28:53,850
in rails obviously we support

00:28:52,200 --> 00:28:55,590
I'm sneaked case right and so will we

00:28:53,850 --> 00:28:57,809
actually use these resolvers to sort of

00:28:55,590 --> 00:29:00,960
like translate our keys between the two

00:28:57,809 --> 00:29:02,249
languages so but basically like when the

00:29:00,960 --> 00:29:04,289
response comes back we convert it to

00:29:02,249 --> 00:29:05,940
camel case and then went before we send

00:29:04,289 --> 00:29:09,629
the data back to the API we convert it

00:29:05,940 --> 00:29:11,159
to snake case and so so what we found is

00:29:09,629 --> 00:29:12,359
this is actually like we've been really

00:29:11,159 --> 00:29:14,700
happy with this and it's actually really

00:29:12,359 --> 00:29:17,100
powerful like we we actually now use

00:29:14,700 --> 00:29:19,639
this for all of our API s and we've even

00:29:17,100 --> 00:29:22,169
written an sdk for a soap api using this

00:29:19,639 --> 00:29:23,549
so as I like we can actually do a lot

00:29:22,169 --> 00:29:24,869
with it and this is something that you

00:29:23,549 --> 00:29:27,869
guys can all use right now like it's

00:29:24,869 --> 00:29:31,619
open source and you just you just go

00:29:27,869 --> 00:29:34,830
find it on NPM right and we think it's

00:29:31,619 --> 00:29:37,830
really cool that like and obviously like

00:29:34,830 --> 00:29:39,330
we've used this for solidus and and one

00:29:37,830 --> 00:29:41,970
of the cool things about this is we made

00:29:39,330 --> 00:29:44,580
it support plugins right and basically

00:29:41,970 --> 00:29:47,369
what that is is just like a subset or an

00:29:44,580 --> 00:29:48,450
extension of of a schema right and so

00:29:47,369 --> 00:29:50,909
basically all you do is you just give it

00:29:48,450 --> 00:29:53,669
a name and then you give it stuff inside

00:29:50,909 --> 00:29:57,119
an endpoints right and then what's cool

00:29:53,669 --> 00:30:00,119
is like we have this example right like

00:29:57,119 --> 00:30:02,249
of reviews right we use reviews at

00:30:00,119 --> 00:30:04,649
desert book and so now we wrote this

00:30:02,249 --> 00:30:06,359
plug-in and then we just import it and

00:30:04,649 --> 00:30:08,429
then when we when we initialize our

00:30:06,359 --> 00:30:09,809
instance of the SDK like we give it the

00:30:08,429 --> 00:30:12,029
information and then we give it a list

00:30:09,809 --> 00:30:13,440
of plugins and then what we do is we

00:30:12,029 --> 00:30:15,899
sort of just like merge everything

00:30:13,440 --> 00:30:18,359
together so it's like if you have if you

00:30:15,899 --> 00:30:19,980
override like an order endpoint that

00:30:18,359 --> 00:30:22,289
lychorida exists and solidus you can

00:30:19,980 --> 00:30:24,359
just write a plug-in and then you can

00:30:22,289 --> 00:30:26,700
you can modify the way that the order

00:30:24,359 --> 00:30:29,220
endpoint works or you can add additional

00:30:26,700 --> 00:30:32,789
ones and they sort of just like all come

00:30:29,220 --> 00:30:34,259
together after you initialize it and it

00:30:32,789 --> 00:30:36,720
basically allows us to add these extra

00:30:34,259 --> 00:30:38,489
endpoints so this is something that

00:30:36,720 --> 00:30:40,169
we're really proud of and this is

00:30:38,489 --> 00:30:41,309
something that you guys can start using

00:30:40,169 --> 00:30:43,470
today

00:30:41,309 --> 00:30:47,340
it's called solidus sdk you can find it

00:30:43,470 --> 00:30:49,950
on NPM and basically it's it's how you

00:30:47,340 --> 00:30:51,899
how we interact with with the API

00:30:49,950 --> 00:30:53,009
currently a desert book and we have

00:30:51,899 --> 00:30:55,950
multiple apps that are using it

00:30:53,009 --> 00:30:58,169
currently and we we also open sourced

00:30:55,950 --> 00:31:01,529
our first plugin so this is for the

00:30:58,169 --> 00:31:02,849
reviews Jim so this is just one like if

00:31:01,529 --> 00:31:04,169
you guys user reviews Jim you wanna use

00:31:02,849 --> 00:31:04,960
the API like you can use this plugin

00:31:04,169 --> 00:31:07,330
right now

00:31:04,960 --> 00:31:08,260
and we're currently using it and so

00:31:07,330 --> 00:31:10,780
another one of the things that was

00:31:08,260 --> 00:31:13,330
important for us was documentation right

00:31:10,780 --> 00:31:16,210
and so because because we now move to

00:31:13,330 --> 00:31:18,820
like a schema based it makes us a lot

00:31:16,210 --> 00:31:21,880
easier for us to build documentation so

00:31:18,820 --> 00:31:23,590
we have this cool doc site hopefully

00:31:21,880 --> 00:31:25,540
like helps you guys to figure out how to

00:31:23,590 --> 00:31:26,740
like actually use it right and it but

00:31:25,540 --> 00:31:29,680
but really it's a it's a work in

00:31:26,740 --> 00:31:31,060
progress still like we have all of the

00:31:29,680 --> 00:31:32,590
endpoints generated but we don't have

00:31:31,060 --> 00:31:34,870
Docs for all them so you'll end up

00:31:32,590 --> 00:31:37,390
seeing a lot of these things but like if

00:31:34,870 --> 00:31:38,920
you guys are interested in in getting

00:31:37,390 --> 00:31:41,110
into open sores and want to like help

00:31:38,920 --> 00:31:42,670
write docs for this like like hopefully

00:31:41,110 --> 00:31:44,560
this is a good starting point and you

00:31:42,670 --> 00:31:47,410
can sort of like help out and we've even

00:31:44,560 --> 00:31:48,700
written like a contribution guide of

00:31:47,410 --> 00:31:50,980
ways that you can help make the API

00:31:48,700 --> 00:31:53,050
better how you can help doc build

00:31:50,980 --> 00:31:55,420
documentation and then hopefully how you

00:31:53,050 --> 00:31:57,250
guys can write your own plugins on to

00:31:55,420 --> 00:32:00,310
support the extensions that are out

00:31:57,250 --> 00:32:02,170
there so you know this is something that

00:32:00,310 --> 00:32:03,580
we felt was pretty good right like the

00:32:02,170 --> 00:32:05,080
only one that has an asterisk is just

00:32:03,580 --> 00:32:06,910
that it's well documented mostly just

00:32:05,080 --> 00:32:08,380
because we just we haven't gotten there

00:32:06,910 --> 00:32:11,680
yet right but like we have all the

00:32:08,380 --> 00:32:15,280
pieces in place so this is one you know

00:32:11,680 --> 00:32:16,630
we're pretty happy with this but you

00:32:15,280 --> 00:32:20,110
know at this point like it's all sort of

00:32:16,630 --> 00:32:21,580
like hypothetical right like like you're

00:32:20,110 --> 00:32:23,830
like this is great Joel but like I want

00:32:21,580 --> 00:32:25,240
to actually like see this in action so

00:32:23,830 --> 00:32:27,610
we're gonna do is we're gonna go through

00:32:25,240 --> 00:32:31,540
a few examples of actually using this in

00:32:27,610 --> 00:32:33,040
the wild right so what we have here this

00:32:31,540 --> 00:32:34,180
is sort of just like our vanilla like

00:32:33,040 --> 00:32:35,560
this is what you get when you start

00:32:34,180 --> 00:32:38,350
solidus right like this is all this

00:32:35,560 --> 00:32:40,120
front end and then what we're going to

00:32:38,350 --> 00:32:42,160
do is we're gonna we're gonna change

00:32:40,120 --> 00:32:43,270
things on our thing right like we're

00:32:42,160 --> 00:32:46,750
gonna we're gonna remove the

00:32:43,270 --> 00:32:47,710
authentication requirement and then and

00:32:46,750 --> 00:32:49,750
then because we're gonna have like our

00:32:47,710 --> 00:32:52,510
apps in separate places like we actually

00:32:49,750 --> 00:32:54,670
run into cores issues and that sucks and

00:32:52,510 --> 00:32:58,450
so anyway we ended up adding this this

00:32:54,670 --> 00:33:01,390
gem to like fix our course issues so

00:32:58,450 --> 00:33:02,610
we're gonna do that and then so our

00:33:01,390 --> 00:33:05,800
first example that we're going to do is

00:33:02,610 --> 00:33:07,780
progressive web apps and so what this

00:33:05,800 --> 00:33:10,180
example is is built with create react

00:33:07,780 --> 00:33:12,340
app and what I don't want to do is like

00:33:10,180 --> 00:33:13,870
talk about like how react works and how

00:33:12,340 --> 00:33:15,880
like any of that right like I just want

00:33:13,870 --> 00:33:17,280
to show like how how it works in this

00:33:15,880 --> 00:33:18,420
one context but

00:33:17,280 --> 00:33:20,790
this is something that can translate

00:33:18,420 --> 00:33:23,700
between like like angular review like

00:33:20,790 --> 00:33:25,800
any any JavaScript thing that helps you

00:33:23,700 --> 00:33:27,810
build a web app like it translates right

00:33:25,800 --> 00:33:31,140
and so basically all we do is we add our

00:33:27,810 --> 00:33:32,700
SDK to the app and then we come over

00:33:31,140 --> 00:33:34,710
here like this is our app right and so

00:33:32,700 --> 00:33:36,210
this section right here is sort of where

00:33:34,710 --> 00:33:38,070
we're gonna manage our data and then

00:33:36,210 --> 00:33:39,870
down here is like this is where we tell

00:33:38,070 --> 00:33:41,700
it like to render those things right and

00:33:39,870 --> 00:33:46,440
so what we actually do is we just come

00:33:41,700 --> 00:33:47,370
in here we import the SDK right and then

00:33:46,440 --> 00:33:48,750
and then we're gonna create a new

00:33:47,370 --> 00:33:49,710
instance of it and that's sort of like

00:33:48,750 --> 00:33:51,240
where we tell it like all the

00:33:49,710 --> 00:33:53,850
information like where this is where our

00:33:51,240 --> 00:33:57,150
API is located and then if we have any

00:33:53,850 --> 00:33:58,530
plugins and stuff right then we do that

00:33:57,150 --> 00:34:00,420
and then now like where we're actually

00:33:58,530 --> 00:34:03,150
fetching the data like all we do is we

00:34:00,420 --> 00:34:04,980
just say hey like I want to get so deuce

00:34:03,150 --> 00:34:07,080
all it is and then give me product and

00:34:04,980 --> 00:34:09,510
all right and I says like give me all

00:34:07,080 --> 00:34:10,919
the products and then sort of we wait

00:34:09,510 --> 00:34:12,240
for that response to come back and then

00:34:10,919 --> 00:34:14,280
once the response comes back then we

00:34:12,240 --> 00:34:16,380
just say hey like you I like update

00:34:14,280 --> 00:34:19,530
based on this new new data that came

00:34:16,380 --> 00:34:24,000
back from the API so anyway so we start

00:34:19,530 --> 00:34:26,520
our app right and and there we go right

00:34:24,000 --> 00:34:28,620
this is this is a create rack app that

00:34:26,520 --> 00:34:33,210
is now pulling the same data as our as

00:34:28,620 --> 00:34:34,530
our solidest front-end app but it's

00:34:33,210 --> 00:34:36,450
using this SDK right and that was pretty

00:34:34,530 --> 00:34:38,490
quick like this is this took other than

00:34:36,450 --> 00:34:40,230
the UI like pixel pushing and stuff like

00:34:38,490 --> 00:34:43,590
took like 10 minutes to throw together

00:34:40,230 --> 00:34:45,510
right and so the next one it's like

00:34:43,590 --> 00:34:47,460
that's great like we're in web but like

00:34:45,510 --> 00:34:50,010
can we push the boundaries further right

00:34:47,460 --> 00:34:52,290
like can we do native apps now and so

00:34:50,010 --> 00:34:53,970
this example is using expo right and so

00:34:52,290 --> 00:34:58,080
what expo is if you haven't heard of it

00:34:53,970 --> 00:35:00,390
Expo is the like so rails is a framework

00:34:58,080 --> 00:35:03,870
on top of Ruby right and so expo is sort

00:35:00,390 --> 00:35:05,550
of a framework on top of react native so

00:35:03,870 --> 00:35:07,440
this is just like a react native example

00:35:05,550 --> 00:35:09,120
right and it actually is it basically

00:35:07,440 --> 00:35:11,190
follows the exact same principles right

00:35:09,120 --> 00:35:13,320
like we add our package and then we have

00:35:11,190 --> 00:35:15,300
like where we manage data and then how

00:35:13,320 --> 00:35:19,550
we render it right and then we come in

00:35:15,300 --> 00:35:21,660
here and we import our we import the SDK

00:35:19,550 --> 00:35:22,950
and then we create a new instance tell

00:35:21,660 --> 00:35:24,900
it where it's at and stuff right like

00:35:22,950 --> 00:35:26,850
and then we just go down when we make

00:35:24,900 --> 00:35:27,930
our request and then we we sort of take

00:35:26,850 --> 00:35:29,420
the data and

00:35:27,930 --> 00:35:31,950
and we just tell it how to render right

00:35:29,420 --> 00:35:34,230
but you know what now like what this is

00:35:31,950 --> 00:35:36,119
what this is gonna do right is is this

00:35:34,230 --> 00:35:40,260
shows us that like now we have an iOS

00:35:36,119 --> 00:35:42,270
app or an Android app that uses solidus

00:35:40,260 --> 00:35:43,859
and so now like we can just take this

00:35:42,270 --> 00:35:48,000
and we can go and we can build native

00:35:43,859 --> 00:35:51,329
apps and this was pretty quick right so

00:35:48,000 --> 00:35:53,760
this is like I hope hopefully this shows

00:35:51,329 --> 00:35:56,089
like some of the power and intake that

00:35:53,760 --> 00:35:58,200
we don't just have to have solidus live

00:35:56,089 --> 00:35:59,819
the way that we're all used to it right

00:35:58,200 --> 00:36:01,859
like we can take solidus and we can move

00:35:59,819 --> 00:36:04,440
it further on using the API and

00:36:01,859 --> 00:36:06,119
hopefully with the SDK so what I wanna

00:36:04,440 --> 00:36:08,869
do is do a little case study like if

00:36:06,119 --> 00:36:11,700
that if this isn't like enough to like

00:36:08,869 --> 00:36:13,559
like jog your jog your imagination right

00:36:11,700 --> 00:36:14,910
like hopefully this is something you can

00:36:13,559 --> 00:36:18,750
go back and take your boss and be like

00:36:14,910 --> 00:36:20,099
we got to do this so like I said we we

00:36:18,750 --> 00:36:21,930
started with check out right that was

00:36:20,099 --> 00:36:23,400
the thing that we did and so this is

00:36:21,930 --> 00:36:24,960
sort of like the flow of like the

00:36:23,400 --> 00:36:26,339
vanilla check out right and and these

00:36:24,960 --> 00:36:28,770
are all the steps in the state machine

00:36:26,339 --> 00:36:30,690
and all these little gray lines are like

00:36:28,770 --> 00:36:32,250
page reloads right so it's like every

00:36:30,690 --> 00:36:34,410
user comes in to hit the car then hit

00:36:32,250 --> 00:36:36,990
the address right

00:36:34,410 --> 00:36:38,730
and we realize like that was like so

00:36:36,990 --> 00:36:40,230
painful for like our because we have a

00:36:38,730 --> 00:36:41,510
lot of like frequent users that like

00:36:40,230 --> 00:36:43,530
come back and buy things all the time

00:36:41,510 --> 00:36:45,210
and what we realize like what if we

00:36:43,530 --> 00:36:47,099
changed things what if we were more like

00:36:45,210 --> 00:36:48,750
some of the bigger company is that sort

00:36:47,099 --> 00:36:50,730
of like bundle all these steps together

00:36:48,750 --> 00:36:53,339
and like remember things that we've done

00:36:50,730 --> 00:36:54,869
and so what we do is like we actually

00:36:53,339 --> 00:36:56,910
say well the car is sort of optional

00:36:54,869 --> 00:36:59,490
right like will dump users basically as

00:36:56,910 --> 00:37:01,890
far into the into the processes as we

00:36:59,490 --> 00:37:03,930
possibly can so all of our like recur a

00:37:01,890 --> 00:37:04,859
source come like directly to the payment

00:37:03,930 --> 00:37:06,540
step because we're going to know their

00:37:04,859 --> 00:37:08,460
address information we already know the

00:37:06,540 --> 00:37:09,809
delivery information you know guest

00:37:08,460 --> 00:37:11,730
users and stuff obviously we have to ask

00:37:09,809 --> 00:37:13,980
them their address but this allows us to

00:37:11,730 --> 00:37:15,530
sort of like take each user and and put

00:37:13,980 --> 00:37:18,720
them in a different place in the in the

00:37:15,530 --> 00:37:21,839
in the process right and and when we did

00:37:18,720 --> 00:37:25,890
this we ended up getting like a 7%

00:37:21,839 --> 00:37:28,650
increase in conversion which our company

00:37:25,890 --> 00:37:31,099
we we talked in Xboxes is currency and

00:37:28,650 --> 00:37:33,119
what I'm told is that's a lot of X boxes

00:37:31,099 --> 00:37:35,130
so hopefully this is something you guys

00:37:33,119 --> 00:37:37,829
can go back to your boss and be like hey

00:37:35,130 --> 00:37:39,660
if we move to an API based check out or

00:37:37,829 --> 00:37:41,080
if we start using the API to improve our

00:37:39,660 --> 00:37:44,020
user experience like

00:37:41,080 --> 00:37:45,310
we could buy a lot of Xboxes and that's

00:37:44,020 --> 00:37:47,080
what we talk about all the time is like

00:37:45,310 --> 00:37:50,050
how many X boxes can we get if we do

00:37:47,080 --> 00:37:53,980
this and turns out it's a lot it's a

00:37:50,050 --> 00:37:55,870
significant number of X boxes so so

00:37:53,980 --> 00:37:57,970
really like this this starts this starts

00:37:55,870 --> 00:37:59,470
opening up the door like well well if we

00:37:57,970 --> 00:38:01,120
can get all these X boxes from from

00:37:59,470 --> 00:38:03,670
check out like what more can we do like

00:38:01,120 --> 00:38:05,980
how can we how can we take this API and

00:38:03,670 --> 00:38:07,690
and expand it more like how can we get

00:38:05,980 --> 00:38:09,760
build a better user experience in

00:38:07,690 --> 00:38:12,610
solidus to hopefully allow all of our

00:38:09,760 --> 00:38:14,970
stores to have better conversion rate

00:38:12,610 --> 00:38:17,260
into into make more money right so

00:38:14,970 --> 00:38:20,080
really I said that opens the door like

00:38:17,260 --> 00:38:21,610
what's next for solidus because of this

00:38:20,080 --> 00:38:24,310
right like well what about the front end

00:38:21,610 --> 00:38:27,730
like like how how do we update the front

00:38:24,310 --> 00:38:29,650
end to be able to use these things and

00:38:27,730 --> 00:38:32,650
you know that's that's this is basically

00:38:29,650 --> 00:38:35,980
another this is another talk for another

00:38:32,650 --> 00:38:37,480
conference but it's it's something for

00:38:35,980 --> 00:38:40,750
us to like to be thinking about like

00:38:37,480 --> 00:38:42,550
what if we were to do UI kids basically

00:38:40,750 --> 00:38:45,760
meaning like well what if we what if we

00:38:42,550 --> 00:38:47,590
had these common UI components in react

00:38:45,760 --> 00:38:51,700
or view or angular right and they would

00:38:47,590 --> 00:38:53,230
utilize the API and basically make it a

00:38:51,700 --> 00:38:55,420
way that we can we can allow all of our

00:38:53,230 --> 00:38:57,310
developers to sort of like style them

00:38:55,420 --> 00:38:59,560
differently and modify them as our needs

00:38:57,310 --> 00:39:01,510
are but to be able to like build a

00:38:59,560 --> 00:39:02,680
better experience and make it so it's

00:39:01,510 --> 00:39:05,200
easier for us to build these kind of

00:39:02,680 --> 00:39:06,730
stores or what if we were to use Gatsby

00:39:05,200 --> 00:39:09,960
Gatsby has a thing called Gatsby themes

00:39:06,730 --> 00:39:12,340
which is basically like a way for us to

00:39:09,960 --> 00:39:13,930
there's sort of like modules on on

00:39:12,340 --> 00:39:16,690
Gatsby right and so we could like make

00:39:13,930 --> 00:39:18,510
an e-commerce one for solidus and allow

00:39:16,690 --> 00:39:21,130
like our front-end to be completely in

00:39:18,510 --> 00:39:23,950
Gatsby and and this is a way that we

00:39:21,130 --> 00:39:26,290
could like leverage the UI and stuff or

00:39:23,950 --> 00:39:28,590
leverage the API to build a better UI

00:39:26,290 --> 00:39:32,530
and build a better user experience and

00:39:28,590 --> 00:39:35,170
really bringing solidus into like a more

00:39:32,530 --> 00:39:36,670
modern architecture and hopefully have

00:39:35,170 --> 00:39:39,730
something that sort of sets us apart

00:39:36,670 --> 00:39:41,080
from the from the other platforms so

00:39:39,730 --> 00:39:43,930
we'll come back to the question of why

00:39:41,080 --> 00:39:48,190
not graph QL and you know what I like to

00:39:43,930 --> 00:39:50,340
say why not both I'm really like like

00:39:48,190 --> 00:39:53,560
they both serve different needs right

00:39:50,340 --> 00:39:54,350
and so graph QL is cool and it's

00:39:53,560 --> 00:39:56,480
something that we

00:39:54,350 --> 00:39:59,540
should think about and support right so

00:39:56,480 --> 00:40:02,720
we can do things like Gatsby thing but

00:39:59,540 --> 00:40:04,040
not not every not every use case which

00:40:02,720 --> 00:40:05,690
should require right and we already have

00:40:04,040 --> 00:40:07,790
the API and it's something that we

00:40:05,690 --> 00:40:12,290
should that we should actively be be

00:40:07,790 --> 00:40:14,090
trying to improve and so and so really

00:40:12,290 --> 00:40:16,750
like there's there's a lot that we can

00:40:14,090 --> 00:40:19,190
do as a community to improve this right

00:40:16,750 --> 00:40:20,990
and and and hopefully this is something

00:40:19,190 --> 00:40:22,730
that we can all go back and be like oh

00:40:20,990 --> 00:40:27,560
how can I use the API more like what

00:40:22,730 --> 00:40:28,910
what can I apply to my stores to make

00:40:27,560 --> 00:40:31,430
them better right like can i leverage

00:40:28,910 --> 00:40:33,410
these tools that we learned about and

00:40:31,430 --> 00:40:34,730
and how can I help right like so that's

00:40:33,410 --> 00:40:37,850
that's sort of why we we wrote the

00:40:34,730 --> 00:40:39,620
contribution guide and really like like

00:40:37,850 --> 00:40:41,480
there's so there's several issues with

00:40:39,620 --> 00:40:42,350
the API like currently open right and

00:40:41,480 --> 00:40:44,570
those are things that we can start

00:40:42,350 --> 00:40:46,370
tackling but we can start looking for

00:40:44,570 --> 00:40:48,320
those those missing pieces right and we

00:40:46,370 --> 00:40:50,510
can start like asking ourselves how are

00:40:48,320 --> 00:40:53,810
these how do we move our API into a more

00:40:50,510 --> 00:40:55,730
like in a more polished theme right and

00:40:53,810 --> 00:40:57,680
then in the documentation thing like how

00:40:55,730 --> 00:40:59,240
can I write more documentation like like

00:40:57,680 --> 00:41:00,770
if you've never done open source before

00:40:59,240 --> 00:41:02,180
like this is a great place to start

00:41:00,770 --> 00:41:03,440
it's just like figuring out how

00:41:02,180 --> 00:41:06,710
something works and then writing about

00:41:03,440 --> 00:41:08,060
it and now like is super valuable not

00:41:06,710 --> 00:41:10,250
only to like yourself and figure out how

00:41:08,060 --> 00:41:11,630
it works but just like to everybody so

00:41:10,250 --> 00:41:14,780
the more documentation that we can write

00:41:11,630 --> 00:41:16,490
and how we like how we can put these API

00:41:14,780 --> 00:41:20,660
endpoints together like will be super

00:41:16,490 --> 00:41:24,530
valuable to the community and so and so

00:41:20,660 --> 00:41:27,110
anyway this my slides are up on on sau

00:41:24,530 --> 00:41:28,670
PE slash solidus 2019 if you guys want

00:41:27,110 --> 00:41:31,760
to go check them out and and revisit

00:41:28,670 --> 00:41:33,500
these things right and then these are

00:41:31,760 --> 00:41:34,670
some of the API or these are some of the

00:41:33,500 --> 00:41:35,630
resources that we hit and you'd have

00:41:34,670 --> 00:41:38,990
obviously you have to go to the website

00:41:35,630 --> 00:41:40,130
to click on the links right but that's

00:41:38,990 --> 00:41:43,820
pretty much all I got is anybody have

00:41:40,130 --> 00:41:45,860
any questions so yes what models do we

00:41:43,820 --> 00:41:47,120
feel are missing from like because only

00:41:45,860 --> 00:41:49,820
a third of them were like accessible

00:41:47,120 --> 00:41:50,990
from like my numbers so basically what I

00:41:49,820 --> 00:41:53,270
noticed like I didn't really look too

00:41:50,990 --> 00:41:55,220
much into them like we only hit the ones

00:41:53,270 --> 00:41:57,890
that like that we currently need right

00:41:55,220 --> 00:41:59,360
but I think the the biggest ones that

00:41:57,890 --> 00:42:01,460
I've noticed are sort of like the admin

00:41:59,360 --> 00:42:03,920
things like a lot of the endpoints are

00:42:01,460 --> 00:42:06,410
like you can do a lot of the the general

00:42:03,920 --> 00:42:07,520
user API like you you could build a

00:42:06,410 --> 00:42:09,110
pretty good user interface

00:42:07,520 --> 00:42:10,910
with the API right now but if you

00:42:09,110 --> 00:42:12,470
started like wanting to do admin tools

00:42:10,910 --> 00:42:13,580
like we're getting into the point where

00:42:12,470 --> 00:42:15,560
it's like oh and then we need admin

00:42:13,580 --> 00:42:17,390
tools to like to do some of these things

00:42:15,560 --> 00:42:18,380
like returns and stuff like some of

00:42:17,390 --> 00:42:20,960
those kind of things like don't

00:42:18,380 --> 00:42:22,340
necessarily have the right kind of

00:42:20,960 --> 00:42:24,440
support or you know that could be

00:42:22,340 --> 00:42:25,910
expanded which at the same time you're

00:42:24,440 --> 00:42:28,490
like why should I build any admin like

00:42:25,910 --> 00:42:30,110
with the API like it already exists like

00:42:28,490 --> 00:42:31,400
just make them use the admin and that's

00:42:30,110 --> 00:42:34,910
fair right but but you know it's

00:42:31,400 --> 00:42:37,000
something bit like just for completeness

00:42:34,910 --> 00:42:43,100
right we should have those things

00:42:37,000 --> 00:42:44,870
don't anybody else all right everyone

00:42:43,100 --> 00:42:46,850
let's talk to me after or at the

00:42:44,870 --> 00:42:48,580
hackathon and stuff just hit me up so I

00:42:46,850 --> 00:42:50,610
got thanks guys

00:42:48,580 --> 00:43:03,919
[Applause]

00:42:50,610 --> 00:43:03,919

YouTube URL: https://www.youtube.com/watch?v=MJBog3hjAt4


