Title: JUC U.S. East 2015 - Chat Ops and Jenkins
Publication date: 2020-01-23
Playlist: JUC U.S East 2015
Description: 
	By: Will Soula, Drilling Info 

Drilling Info uses chat ops everyday. This talk will be about the exciting, new realm of chat ops in software development and how to use it with Jenkins, as well as ways Drilling Info is using it. Come learn what chat ops entails and how chat ops can deliver information to your team as well as teach new members about your processes. This presentation will also go over some of the more popular frameworks like Slack (Slackbot and slash commands), Hubot and Jenkins bot and how to use them to interact with Jenkins, as well as how to extend them to do more. When the information being shared is in the middle of the conversation, everyone knows what is going on.
Captions: 
	00:00:15,290 --> 00:00:20,029
hello my name is will I work for

00:00:17,510 --> 00:00:22,250
drilling info a leader in the oil and

00:00:20,029 --> 00:00:24,470
gas solution industry and recently in

00:00:22,250 --> 00:00:26,750
the last few years we've been kind of

00:00:24,470 --> 00:00:30,040
modernizing our stack going more devops

00:00:26,750 --> 00:00:32,720
ephemeral knows that type of thing and

00:00:30,040 --> 00:00:35,149
slowly kind of over time I've heard

00:00:32,720 --> 00:00:37,430
about cha tops and kind of organically

00:00:35,149 --> 00:00:40,460
sort of just grew it in my spare time at

00:00:37,430 --> 00:00:42,440
di to where now we actually have a whole

00:00:40,460 --> 00:00:45,110
lot of pretty neat stuff and so that's

00:00:42,440 --> 00:00:47,510
why I'm here to present to you on what

00:00:45,110 --> 00:00:50,000
cha tops is why you'd want to use it and

00:00:47,510 --> 00:00:52,400
the different things you can do and i'll

00:00:50,000 --> 00:00:57,530
show you some of the cool things we have

00:00:52,400 --> 00:00:59,630
so what exactly is chat ops it's the

00:00:57,530 --> 00:01:02,120
definition you know right here you have

00:00:59,630 --> 00:01:04,159
the process of using a chat room to

00:01:02,120 --> 00:01:07,220
accomplish tasks in a group setting and

00:01:04,159 --> 00:01:10,009
so what this really boils down to is

00:01:07,220 --> 00:01:13,579
having a chat room at your company that

00:01:10,009 --> 00:01:16,159
y'all use is chat ops you know you don't

00:01:13,579 --> 00:01:18,470
have to be all advanced and use you know

00:01:16,159 --> 00:01:20,600
chat BOTS and integrations and things

00:01:18,470 --> 00:01:22,790
like that just just getting a chat room

00:01:20,600 --> 00:01:25,670
setup and using it is is just the

00:01:22,790 --> 00:01:28,100
beginning step towards these greater and

00:01:25,670 --> 00:01:30,470
better things and so while more

00:01:28,100 --> 00:01:33,020
information is always good too much

00:01:30,470 --> 00:01:35,659
information is bad so I highly recommend

00:01:33,020 --> 00:01:37,460
you don't just make one chat room call

00:01:35,659 --> 00:01:39,140
it chat ops and throw everything in

00:01:37,460 --> 00:01:41,690
there because people are going to go

00:01:39,140 --> 00:01:44,360
this is information overload i can't

00:01:41,690 --> 00:01:46,610
handle this and move on so you should

00:01:44,360 --> 00:01:50,600
start off just in the beginning breaking

00:01:46,610 --> 00:01:53,119
out into different rooms on what you're

00:01:50,600 --> 00:01:56,090
trying to actually accomplish so here i

00:01:53,119 --> 00:01:58,729
have four kind of suggested rooms things

00:01:56,090 --> 00:02:00,770
we've kind of broken out into you have

00:01:58,729 --> 00:02:03,920
your alerts room where if you don't have

00:02:00,770 --> 00:02:05,810
any other chat office integrations set

00:02:03,920 --> 00:02:07,580
up it could be just your support guy

00:02:05,810 --> 00:02:10,640
coming in saying you

00:02:07,580 --> 00:02:13,850
can't login anymore and so you'll have

00:02:10,640 --> 00:02:15,410
your first responders in that room

00:02:13,850 --> 00:02:17,960
they'll see this message and they'll go

00:02:15,410 --> 00:02:20,120
and start trying to figure it out or if

00:02:17,960 --> 00:02:23,390
you have a tester working in the test

00:02:20,120 --> 00:02:25,610
environment and suddenly like nothing

00:02:23,390 --> 00:02:28,130
works at all he would go in there and

00:02:25,610 --> 00:02:30,320
maybe you have a test alerts room in a

00:02:28,130 --> 00:02:32,000
production alerts room and he's like hey

00:02:30,320 --> 00:02:33,980
you know the test environments not

00:02:32,000 --> 00:02:37,130
working at all and so you go in and

00:02:33,980 --> 00:02:39,950
start working on it another good room to

00:02:37,130 --> 00:02:43,250
have is we've actually do all of our

00:02:39,950 --> 00:02:45,650
deployments in HipChat now we we do all

00:02:43,250 --> 00:02:49,250
right let's get ready to start to deploy

00:02:45,650 --> 00:02:51,350
and then you know that the process of

00:02:49,250 --> 00:02:55,070
deploying is done testers you can test

00:02:51,350 --> 00:02:57,650
now they report their issues we figure

00:02:55,070 --> 00:02:59,750
out the problems and get them fixed and

00:02:57,650 --> 00:03:02,030
then test signs off and you having a

00:02:59,750 --> 00:03:03,500
complete encapsulation of what happened

00:03:02,030 --> 00:03:07,010
on the poi day you don't have to

00:03:03,500 --> 00:03:08,930
remember it or write stuff down or

00:03:07,010 --> 00:03:12,530
anything like that it's all right there

00:03:08,930 --> 00:03:15,410
for you and then kind of getting a

00:03:12,530 --> 00:03:18,950
little more granular you have your

00:03:15,410 --> 00:03:21,890
departmental room chat ops is not just

00:03:18,950 --> 00:03:24,170
for devs it's not just for people in

00:03:21,890 --> 00:03:26,180
software development your sales team can

00:03:24,170 --> 00:03:29,420
have a room where they talk about sales

00:03:26,180 --> 00:03:31,280
leads and I would love that what I talk

00:03:29,420 --> 00:03:33,320
about integrations and chat chat BOTS

00:03:31,280 --> 00:03:35,060
later I would love to have that hook up

00:03:33,320 --> 00:03:37,310
in the Salesforce and give deliver

00:03:35,060 --> 00:03:39,769
information to our sales team but you

00:03:37,310 --> 00:03:42,620
can have them in a room talking about

00:03:39,769 --> 00:03:44,690
sales leads or you know I'm about I

00:03:42,620 --> 00:03:46,220
could sign this really big deal if only

00:03:44,690 --> 00:03:48,110
I knew how to do this and this other

00:03:46,220 --> 00:03:50,120
guys like oh I know exactly how to do

00:03:48,110 --> 00:03:53,209
that you know you can have your support

00:03:50,120 --> 00:03:55,310
room where they're like oh i'm getting a

00:03:53,209 --> 00:03:57,470
call about you know i can't login

00:03:55,310 --> 00:03:59,000
because my passwords all caps is like

00:03:57,470 --> 00:04:01,700
yeah that's a known issue what we have a

00:03:59,000 --> 00:04:03,950
fixed tomorrow so it's not this is it

00:04:01,700 --> 00:04:05,930
just a dev thing this is company-wide

00:04:03,950 --> 00:04:07,430
and that's where i really see a lot of

00:04:05,930 --> 00:04:10,970
the power and it is it can bring

00:04:07,430 --> 00:04:11,670
everyone to the 21st century watercooler

00:04:10,970 --> 00:04:14,640
of

00:04:11,670 --> 00:04:17,220
chat rooms and then getting even smaller

00:04:14,640 --> 00:04:19,260
and this probably is more devilry in it

00:04:17,220 --> 00:04:20,700
but you'd have your your project or

00:04:19,260 --> 00:04:24,470
product room depending on how your

00:04:20,700 --> 00:04:27,930
company is broken up and this means that

00:04:24,470 --> 00:04:29,610
there would be conversations such as hey

00:04:27,930 --> 00:04:32,400
i just installed the new version of

00:04:29,610 --> 00:04:35,130
angular and now i can't compile anything

00:04:32,400 --> 00:04:37,860
what do i do about this error or you

00:04:35,130 --> 00:04:40,169
know you could even I mean if you have

00:04:37,860 --> 00:04:41,760
cut more of your product people in there

00:04:40,169 --> 00:04:43,830
they can ask what features are available

00:04:41,760 --> 00:04:46,950
what features are about to be done and

00:04:43,830 --> 00:04:49,560
things like that so that's the beginning

00:04:46,950 --> 00:04:51,389
of if you have no chops that's where you

00:04:49,560 --> 00:04:53,790
begin you begin by setting up a chat

00:04:51,389 --> 00:04:55,229
room you know you all you know all the

00:04:53,790 --> 00:04:56,880
the standard ones I'm sure we've all

00:04:55,229 --> 00:04:59,880
heard of them HipChat slacker the two

00:04:56,880 --> 00:05:02,550
big ones xmpp jabber all those things

00:04:59,880 --> 00:05:04,889
and then the next step for you is going

00:05:02,550 --> 00:05:07,680
to be integrations and these are really

00:05:04,889 --> 00:05:10,830
easy to add just a couple of lines and

00:05:07,680 --> 00:05:14,010
it's generally going to be a lot of the

00:05:10,830 --> 00:05:17,690
services you already use so your your

00:05:14,010 --> 00:05:20,729
github and your monitoring solutions and

00:05:17,690 --> 00:05:23,070
your Jenkins results and things like

00:05:20,729 --> 00:05:25,200
that and so these kind of break down

00:05:23,070 --> 00:05:28,110
into two two areas you have your

00:05:25,200 --> 00:05:30,390
environmental monitoring so you're

00:05:28,110 --> 00:05:33,840
monitoring on the test environment

00:05:30,390 --> 00:05:36,210
through things that that make sure it's

00:05:33,840 --> 00:05:38,130
working correctly and then you're more

00:05:36,210 --> 00:05:39,810
business as usual type things your

00:05:38,130 --> 00:05:43,320
source control saying there's been a

00:05:39,810 --> 00:05:45,750
push made your services saying I just

00:05:43,320 --> 00:05:49,530
deployed a new version and things like

00:05:45,750 --> 00:05:52,260
that and then the last point of chat box

00:05:49,530 --> 00:05:54,180
runs off but chat box are where this

00:05:52,260 --> 00:05:56,520
really really gets powerful this is

00:05:54,180 --> 00:05:59,520
where you can do a whole lot of stuff

00:05:56,520 --> 00:06:02,400
you can drive other systems so instead

00:05:59,520 --> 00:06:05,039
of logging in to three disparate systems

00:06:02,400 --> 00:06:07,229
with three different passwords you just

00:06:05,039 --> 00:06:08,340
use your chat bot to interact with all

00:06:07,229 --> 00:06:10,380
three of them and get the information

00:06:08,340 --> 00:06:12,690
you need without leaving any window you

00:06:10,380 --> 00:06:14,550
you have your windows right you have

00:06:12,690 --> 00:06:16,280
your chat window open right there and

00:06:14,550 --> 00:06:18,620
you just issue commands to

00:06:16,280 --> 00:06:20,870
asking for things and then using that

00:06:18,620 --> 00:06:23,810
for further input into other commands

00:06:20,870 --> 00:06:25,970
and then the blast bullet point says to

00:06:23,810 --> 00:06:28,430
report from other systems so you can

00:06:25,970 --> 00:06:31,150
have your chat bot come in and tell you

00:06:28,430 --> 00:06:34,310
how many unique users have been in the

00:06:31,150 --> 00:06:37,850
onto your website today or the last week

00:06:34,310 --> 00:06:40,100
or how many times people have logged in

00:06:37,850 --> 00:06:42,740
and then that was it they just left

00:06:40,100 --> 00:06:44,300
because they you know for whatever

00:06:42,740 --> 00:06:47,500
reason they didn't like your website or

00:06:44,300 --> 00:06:51,110
something so he can bring stuff in and

00:06:47,500 --> 00:06:53,180
also put stuff out so this is all just a

00:06:51,110 --> 00:06:55,090
bunch of information coming in which is

00:06:53,180 --> 00:06:57,200
always good more information is better

00:06:55,090 --> 00:06:59,510
but you don't want too much information

00:06:57,200 --> 00:07:02,030
but there's a lot of other reasons why

00:06:59,510 --> 00:07:04,190
you would want chat offs the guy who

00:07:02,030 --> 00:07:05,990
wrote cubot which is one of the chat box

00:07:04,190 --> 00:07:09,020
i'll be talking about later his big

00:07:05,990 --> 00:07:11,510
motivation behind it is he feels showing

00:07:09,020 --> 00:07:14,240
you how to do something is a lot more

00:07:11,510 --> 00:07:16,940
powerful than telling you so instead of

00:07:14,240 --> 00:07:18,770
saying go read this document that we

00:07:16,940 --> 00:07:21,590
wrote a year ago on how to deploy your

00:07:18,770 --> 00:07:23,540
code to production or instead of you

00:07:21,590 --> 00:07:24,919
know figuring out you know doing the

00:07:23,540 --> 00:07:26,180
command yourself and running them down

00:07:24,919 --> 00:07:28,220
and saying here's a sheet of paper

00:07:26,180 --> 00:07:30,260
that's going to be bad in a day you know

00:07:28,220 --> 00:07:32,600
here's how you deploy your code you just

00:07:30,260 --> 00:07:34,280
look in the room and see how you to

00:07:32,600 --> 00:07:37,640
deploy code because everyone else is

00:07:34,280 --> 00:07:40,550
deploying it so it's not a separate

00:07:37,640 --> 00:07:44,330
process for you to give them how to do

00:07:40,550 --> 00:07:46,070
it they see by it actually occurring so

00:07:44,330 --> 00:07:48,110
you're not going into Jenkins and

00:07:46,070 --> 00:07:50,419
hitting a button to deploy and filling

00:07:48,110 --> 00:07:53,060
in 18 parameters on what branch and

00:07:50,419 --> 00:07:54,860
stuff to do you're doing all of that

00:07:53,060 --> 00:07:57,050
right there in the chat room for you to

00:07:54,860 --> 00:07:58,910
see so everyone can see what is

00:07:57,050 --> 00:08:00,860
happening everyone can see what is

00:07:58,910 --> 00:08:03,440
happening on your their first day a

00:08:00,860 --> 00:08:05,750
developer that comes in to github on

00:08:03,440 --> 00:08:07,669
this very first day he's told joining

00:08:05,750 --> 00:08:10,010
this chatroom and then he sees exactly

00:08:07,669 --> 00:08:11,390
how to deploy his code because everyone

00:08:10,010 --> 00:08:13,669
else is deploying their code and they

00:08:11,390 --> 00:08:16,820
deploy you know probably hundreds of

00:08:13,669 --> 00:08:18,860
times a day and but it's not just for

00:08:16,820 --> 00:08:21,320
the deaths as I keep harping on that

00:08:18,860 --> 00:08:23,900
this is bigger than just a development

00:08:21,320 --> 00:08:26,270
type thing your CEO can go into your

00:08:23,900 --> 00:08:26,830
deploy room and see how your deployment

00:08:26,270 --> 00:08:28,780
if you start

00:08:26,830 --> 00:08:31,120
using a deploy room jus deploys he

00:08:28,780 --> 00:08:33,160
doesn't have to ask you how it went he

00:08:31,120 --> 00:08:35,080
doesn't have to glean from the success

00:08:33,160 --> 00:08:37,420
email that oh I guess everything went

00:08:35,080 --> 00:08:39,850
wonderfully he can go in and see exactly

00:08:37,420 --> 00:08:42,220
what happened exactly what problems you

00:08:39,850 --> 00:08:44,290
encountered exactly how long it took he

00:08:42,220 --> 00:08:46,390
can see the let's start the deploy and

00:08:44,290 --> 00:08:49,420
the deploy has done messages and he

00:08:46,390 --> 00:08:51,010
could do math because while CEOs aren't

00:08:49,420 --> 00:08:53,470
the greatest that some things I'm sure

00:08:51,010 --> 00:08:56,260
they can do basic math your sales team

00:08:53,470 --> 00:08:57,970
can see when you know the deploy is

00:08:56,260 --> 00:09:00,760
finished and this new feature has gone

00:08:57,970 --> 00:09:03,690
out and support can see that defects

00:09:00,760 --> 00:09:07,810
have gotten fixed and stuff so you it

00:09:03,690 --> 00:09:11,230
drives more information to these people

00:09:07,810 --> 00:09:14,080
out of the dev kind of lock hole then

00:09:11,230 --> 00:09:17,110
they would get otherwise and and it's

00:09:14,080 --> 00:09:18,850
not like email we're in order to get

00:09:17,110 --> 00:09:20,410
this type of information you'd have to

00:09:18,850 --> 00:09:22,450
email everyone in the company about

00:09:20,410 --> 00:09:24,670
every single thing that's occurring they

00:09:22,450 --> 00:09:27,580
can go find the information they want if

00:09:24,670 --> 00:09:30,550
you just have emails on deploys and and

00:09:27,580 --> 00:09:31,780
dude a over here is not on those there's

00:09:30,550 --> 00:09:34,090
no way for him to go find that

00:09:31,780 --> 00:09:36,340
information but if he wants to go find

00:09:34,090 --> 00:09:38,740
about about deploys and hip in at your

00:09:36,340 --> 00:09:40,420
chat room in your deploy room he can go

00:09:38,740 --> 00:09:42,370
and look in there and read over it and

00:09:40,420 --> 00:09:44,170
see what's going on and see all right

00:09:42,370 --> 00:09:48,100
yeah we successfully deployed that so

00:09:44,170 --> 00:09:50,770
we're good to go another big part of it

00:09:48,100 --> 00:09:53,050
is the fact that you react to events as

00:09:50,770 --> 00:09:56,250
a team you're not i reacting as an

00:09:53,050 --> 00:10:00,820
individual with email you'll get a i

00:09:56,250 --> 00:10:05,530
find it very weird when i get a one-line

00:10:00,820 --> 00:10:07,510
email it's like I don't it it's I would

00:10:05,530 --> 00:10:09,460
never even write a one-line email it's

00:10:07,510 --> 00:10:12,910
very counterintuitive to the way I see

00:10:09,460 --> 00:10:15,490
email and with chat all the time you're

00:10:12,910 --> 00:10:17,140
just doing one liners so if you want to

00:10:15,490 --> 00:10:19,570
know more information about things

00:10:17,140 --> 00:10:20,850
you're having to say well you know it

00:10:19,570 --> 00:10:22,649
might be this or

00:10:20,850 --> 00:10:25,980
that if I had more information it might

00:10:22,649 --> 00:10:28,019
be this other thing and instead as soon

00:10:25,980 --> 00:10:30,329
as an issue comes in you can start

00:10:28,019 --> 00:10:33,389
reacting to it as a group as a team

00:10:30,329 --> 00:10:36,389
asking each other you know oh you know

00:10:33,389 --> 00:10:38,339
performance went really bad an hour ago

00:10:36,389 --> 00:10:39,959
was there anything else going on and

00:10:38,339 --> 00:10:42,269
your other team member to be like oh

00:10:39,959 --> 00:10:45,449
yeah I deployed my code an hour ago that

00:10:42,269 --> 00:10:48,060
that might be the issue and so you're

00:10:45,449 --> 00:10:49,980
more reacting to it together you're

00:10:48,060 --> 00:10:52,380
feeding off of each other's feedback and

00:10:49,980 --> 00:10:54,360
off of each other's thoughts on what's

00:10:52,380 --> 00:10:56,550
going on and so some real-life

00:10:54,360 --> 00:10:59,100
situations where this occurred is we

00:10:56,550 --> 00:11:01,050
actually have an integration setup so

00:10:59,100 --> 00:11:03,269
whenever a new node is created in our

00:11:01,050 --> 00:11:05,699
from our auto scaling group it will tell

00:11:03,269 --> 00:11:08,610
us and we'll go okay there's a new node

00:11:05,699 --> 00:11:11,160
coming up and I just happened to notice

00:11:08,610 --> 00:11:12,870
that you know we we had a new front

00:11:11,160 --> 00:11:14,579
controller come up and I was like you

00:11:12,870 --> 00:11:16,920
know hey what's going on with this like

00:11:14,579 --> 00:11:19,259
we have in some some extra load or

00:11:16,920 --> 00:11:21,000
something and and the other guys were my

00:11:19,259 --> 00:11:24,269
team are like I don't know like I'm

00:11:21,000 --> 00:11:26,490
looking for the all our nodes and one of

00:11:24,269 --> 00:11:27,899
them is gone Mike I can't seem to

00:11:26,490 --> 00:11:30,360
connect to it at all and I was like oh

00:11:27,899 --> 00:11:32,730
that's that's the old amazon black hole

00:11:30,360 --> 00:11:34,920
that that node went into so okay that

00:11:32,730 --> 00:11:37,529
that's what's going on but not only did

00:11:34,920 --> 00:11:39,360
we react as a team to that and ask each

00:11:37,529 --> 00:11:41,880
other those questions which would be

00:11:39,360 --> 00:11:45,660
difficult or not difficult but weird in

00:11:41,880 --> 00:11:47,639
email we also got the be the value of

00:11:45,660 --> 00:11:49,980
that integration to see what's happening

00:11:47,639 --> 00:11:52,550
with our auto scaling groups to see that

00:11:49,980 --> 00:11:54,720
there's a new node coming up so

00:11:52,550 --> 00:11:57,000
something has occurred to cause that to

00:11:54,720 --> 00:11:59,579
happen are we scaling because we have

00:11:57,000 --> 00:12:02,970
more usage or did amazon just black hole

00:11:59,579 --> 00:12:05,550
one of our boxes and then we also I

00:12:02,970 --> 00:12:07,860
started noticing that these snapshots

00:12:05,550 --> 00:12:10,290
were being deployed to production and I

00:12:07,860 --> 00:12:13,230
was like hey why why do we keep getting

00:12:10,290 --> 00:12:15,000
an alert every hour that we're deploying

00:12:13,230 --> 00:12:17,220
a new version of this service like I

00:12:15,000 --> 00:12:20,339
know we want to do CD but I'm pretty

00:12:17,220 --> 00:12:22,680
certain we're not there yet and you know

00:12:20,339 --> 00:12:23,939
so that I asked the team and they're

00:12:22,680 --> 00:12:25,619
like oh

00:12:23,939 --> 00:12:27,539
you know I don't know and another guy

00:12:25,619 --> 00:12:30,359
was like well I've just pulled a pull

00:12:27,539 --> 00:12:33,779
request changing the the diversion

00:12:30,359 --> 00:12:35,159
string so it's this other way and you

00:12:33,779 --> 00:12:37,379
know I just did that work I was like oh

00:12:35,159 --> 00:12:39,359
well we did you change it in this other

00:12:37,379 --> 00:12:41,609
place so that we actually use that other

00:12:39,359 --> 00:12:42,720
way and he was like no and so it's like

00:12:41,609 --> 00:12:45,329
okay well now we're just deploying

00:12:42,720 --> 00:12:48,989
latest and while that I guess that's CD

00:12:45,329 --> 00:12:52,769
but there's no testing involved and then

00:12:48,989 --> 00:12:54,749
we with HipChat it uh it logs all your

00:12:52,769 --> 00:12:57,299
messages it's all fully searchable most

00:12:54,749 --> 00:12:58,999
of the chat clients are so everything is

00:12:57,299 --> 00:13:02,279
archived if if you want to make a

00:12:58,999 --> 00:13:05,999
specific room for each of your deploys

00:13:02,279 --> 00:13:08,729
if you do weekly or were you know

00:13:05,999 --> 00:13:11,009
bimonthly or whatever I mean every day

00:13:08,729 --> 00:13:12,769
that would be pretty insane or thousands

00:13:11,009 --> 00:13:16,589
of times a day for any of you all

00:13:12,769 --> 00:13:18,239
awesome people out there but you could

00:13:16,589 --> 00:13:20,220
you could archive your room and you just

00:13:18,239 --> 00:13:22,079
have it there you go all right what what

00:13:20,220 --> 00:13:24,509
issues did we have in this deploy and

00:13:22,079 --> 00:13:26,159
you just have it right there or you can

00:13:24,509 --> 00:13:27,869
just have the regular old deploy room

00:13:26,159 --> 00:13:30,389
and search through it for your different

00:13:27,869 --> 00:13:33,539
issues and so that it's really good to

00:13:30,389 --> 00:13:35,939
see for your post mortems to the day

00:13:33,539 --> 00:13:38,220
after deploy go back and read through

00:13:35,939 --> 00:13:40,079
exactly what happened because it's still

00:13:38,220 --> 00:13:42,689
there it's not going to go anywhere and

00:13:40,079 --> 00:13:45,329
go alright we have these three issues

00:13:42,689 --> 00:13:48,059
and we fixed it with these two actions

00:13:45,329 --> 00:13:50,970
so we should keep doing we should

00:13:48,059 --> 00:13:54,359
improve our process later to encompass

00:13:50,970 --> 00:13:57,269
those two actions and then that's not a

00:13:54,359 --> 00:14:01,739
typo it's a it's a stupid pun but you

00:13:57,269 --> 00:14:04,199
can fix problems from afar or a bar you

00:14:01,739 --> 00:14:07,349
don't have to be on your network and

00:14:04,199 --> 00:14:09,569
with your laptop and VPN in and and

00:14:07,349 --> 00:14:11,399
figure out what's going on there's been

00:14:09,569 --> 00:14:14,819
several instances where I've got an

00:14:11,399 --> 00:14:16,499
alert on my phone saying you know pretty

00:14:14,819 --> 00:14:18,929
much saying every single server has gone

00:14:16,499 --> 00:14:20,369
down and I'm like well I'm pretty

00:14:18,929 --> 00:14:21,959
certain they didn't all crash at the

00:14:20,369 --> 00:14:24,959
same time so this must be network

00:14:21,959 --> 00:14:26,819
related so I just pinged IT on my phone

00:14:24,959 --> 00:14:28,559
was like hey iti think they're

00:14:26,819 --> 00:14:30,419
be something network related I would

00:14:28,559 --> 00:14:32,519
accept one service going down we might

00:14:30,419 --> 00:14:35,220
be able might be something application

00:14:32,519 --> 00:14:37,229
side but all of them seems suspicious

00:14:35,220 --> 00:14:40,139
and they were like thank you for letting

00:14:37,229 --> 00:14:42,869
us know we will fix that now and so I

00:14:40,139 --> 00:14:44,759
was at a bar literally and I did all of

00:14:42,869 --> 00:14:46,889
that I got a production problem fixed

00:14:44,759 --> 00:14:50,609
with just sitting there drinking whiskey

00:14:46,889 --> 00:14:53,639
I mean it was pretty awesome and another

00:14:50,609 --> 00:14:55,919
time I was at a company party and the

00:14:53,639 --> 00:14:58,499
CTO comes up and he's like hey we really

00:14:55,919 --> 00:15:01,139
need to get this data loaded and you

00:14:58,499 --> 00:15:05,279
know it's like I'm there's a lot of bars

00:15:01,139 --> 00:15:07,919
in my stories but it's a bar again and I

00:15:05,279 --> 00:15:10,649
was like sure I can do that I pull my

00:15:07,919 --> 00:15:13,229
phone out I send in a message to our bot

00:15:10,649 --> 00:15:15,600
to get the IPS of the servers that I

00:15:13,229 --> 00:15:17,489
need to load data into and then I take

00:15:15,600 --> 00:15:20,069
those ip's i feed it back into the bot

00:15:17,489 --> 00:15:23,309
when I say load this data and I turn to

00:15:20,069 --> 00:15:26,359
the CTO and I go done he's like where's

00:15:23,309 --> 00:15:28,769
your laptop it was like phone chat ops

00:15:26,359 --> 00:15:31,709
so that it's not just information

00:15:28,769 --> 00:15:34,559
there's a whole lot of more to why you

00:15:31,709 --> 00:15:36,449
would want to use chat ops so let's

00:15:34,559 --> 00:15:39,149
start talking about integrations they're

00:15:36,449 --> 00:15:42,449
fairly simple this is just a screenshot

00:15:39,149 --> 00:15:44,939
of the run scope integration page for

00:15:42,449 --> 00:15:47,909
connecting HipChat as you can see it's

00:15:44,939 --> 00:15:51,089
two text boxes with a link telling you

00:15:47,909 --> 00:15:55,769
how to fill in one of them and and then

00:15:51,089 --> 00:15:57,359
a radio with a check box so it's pretty

00:15:55,769 --> 00:16:00,209
simple to set up and then this will

00:15:57,359 --> 00:16:05,059
start sending alerts of failures in run

00:16:00,209 --> 00:16:05,059
scope to whatever room you decide and

00:16:06,559 --> 00:16:13,919
along with success email messages so

00:16:10,499 --> 00:16:15,989
it's real easy to set up and almost all

00:16:13,919 --> 00:16:18,119
of your other services that you're going

00:16:15,989 --> 00:16:19,499
to want to set up integrations with was

00:16:18,119 --> 00:16:22,499
going to look pretty much like that

00:16:19,499 --> 00:16:26,609
you're going to have your github where

00:16:22,499 --> 00:16:28,979
it can send pushes to your your room it

00:16:26,609 --> 00:16:30,520
will also send pull requests so if

00:16:28,979 --> 00:16:33,130
you're waiting on a pull request

00:16:30,520 --> 00:16:34,720
to get opened for you to review it

00:16:33,130 --> 00:16:37,120
because you need it to get merged so

00:16:34,720 --> 00:16:38,800
that your code can go in or if you just

00:16:37,120 --> 00:16:41,260
want to know when that pull request has

00:16:38,800 --> 00:16:43,450
gotten merged so you can get your code

00:16:41,260 --> 00:16:45,700
going in you just monitor the chat room

00:16:43,450 --> 00:16:48,760
and you see it I've already talked about

00:16:45,700 --> 00:16:51,070
run scope data dog and New Relic kind of

00:16:48,760 --> 00:16:54,250
fall within the same monitoring type

00:16:51,070 --> 00:16:56,440
ethos of you know what what's going on

00:16:54,250 --> 00:16:59,860
you know once I hit a certain threshold

00:16:56,440 --> 00:17:01,900
send an alert about you know this issue

00:16:59,860 --> 00:17:05,050
that could be occurring send an alert

00:17:01,900 --> 00:17:06,730
that this the threshold has been you

00:17:05,050 --> 00:17:08,380
know it's gone below the other threshold

00:17:06,730 --> 00:17:11,530
so we're good again that type of

00:17:08,380 --> 00:17:14,770
situation now HipChat actually has some

00:17:11,530 --> 00:17:18,310
bots you can set up to go into your hip

00:17:14,770 --> 00:17:20,339
chat rooms they're releasing a lot of

00:17:18,310 --> 00:17:23,410
them fairly quickly I've been noticing

00:17:20,339 --> 00:17:28,450
they haven't had much value to me so I

00:17:23,410 --> 00:17:30,730
haven't installed them or I've installed

00:17:28,450 --> 00:17:33,100
one and I played with it for a day and

00:17:30,730 --> 00:17:36,510
it was all right but I didn't get much

00:17:33,100 --> 00:17:39,130
value out of it but other people might

00:17:36,510 --> 00:17:40,780
but it also shows where they're going

00:17:39,130 --> 00:17:43,540
and what they're wanting to do and then

00:17:40,780 --> 00:17:46,540
that is there I think trying to move in

00:17:43,540 --> 00:17:48,310
towards more having chat box do things

00:17:46,540 --> 00:17:50,430
so you don't have to actually install a

00:17:48,310 --> 00:17:53,050
remote server to do stuff for you

00:17:50,430 --> 00:17:55,210
hipshot also has just regular ol

00:17:53,050 --> 00:17:57,970
integrations you can set up where you

00:17:55,210 --> 00:18:01,720
can poke at a URL with the payload and

00:17:57,970 --> 00:18:05,170
it'll send that into your chat rooms for

00:18:01,720 --> 00:18:08,320
for information and i have an example of

00:18:05,170 --> 00:18:11,260
how we use that later and then actually

00:18:08,320 --> 00:18:14,410
the the jenkins hipchat plugin is really

00:18:11,260 --> 00:18:16,600
just an integration it's a plug-in for

00:18:14,410 --> 00:18:18,850
Jenkins and all it does is notify you

00:18:16,600 --> 00:18:24,640
about things happening notify you about

00:18:18,850 --> 00:18:26,620
failures and successes and there's no

00:18:24,640 --> 00:18:28,750
way to get information from it that's

00:18:26,620 --> 00:18:31,000
going to be the downside to a lot of

00:18:28,750 --> 00:18:33,240
these integrations is you can't query

00:18:31,000 --> 00:18:35,700
that integration for information

00:18:33,240 --> 00:18:39,000
can't go and ask it you know how many

00:18:35,700 --> 00:18:41,220
commits happen today or how many test

00:18:39,000 --> 00:18:43,950
failures did we have today it just tells

00:18:41,220 --> 00:18:48,540
you something happened that's all you

00:18:43,950 --> 00:18:54,300
get so in order to get that more

00:18:48,540 --> 00:18:56,250
advanced workload and see what you you

00:18:54,300 --> 00:18:58,860
want to see and interact with stuff

00:18:56,250 --> 00:19:01,110
there's actually this is the Jenkins

00:18:58,860 --> 00:19:04,110
bought it's the probably the jabber

00:19:01,110 --> 00:19:06,720
plugin which is backed by the instant

00:19:04,110 --> 00:19:09,330
messaging plugin but it has a lot of

00:19:06,720 --> 00:19:14,690
command you can issue to it around just

00:19:09,330 --> 00:19:18,240
Jenkins issues so you can before this

00:19:14,690 --> 00:19:20,250
top message I just said build and it's

00:19:18,240 --> 00:19:23,490
like you need more parameters you can

00:19:20,250 --> 00:19:27,240
see that it has a help to list out all

00:19:23,490 --> 00:19:30,810
of its commands you can get the status

00:19:27,240 --> 00:19:35,460
and the health of jobs as well as just

00:19:30,810 --> 00:19:37,650
what's building currently and it's it's

00:19:35,460 --> 00:19:42,230
pretty easy to use it's easy to set up

00:19:37,650 --> 00:19:45,150
he just goes into the global config and

00:19:42,230 --> 00:19:47,370
you set up how to connect there and then

00:19:45,150 --> 00:19:50,180
I believe her job you can actually

00:19:47,370 --> 00:19:54,690
change the the rooms into other rooms

00:19:50,180 --> 00:19:58,440
you can also abort jobs give you your

00:19:54,690 --> 00:20:01,470
regular ol notifications notifying

00:19:58,440 --> 00:20:04,470
culprits and fixers so if year I believe

00:20:01,470 --> 00:20:08,190
this would require your users and

00:20:04,470 --> 00:20:10,260
Jenkins to match your users in your chat

00:20:08,190 --> 00:20:12,780
client in order for them to put the two

00:20:10,260 --> 00:20:18,090
together to go okay William got sola

00:20:12,780 --> 00:20:21,840
checked in and w sola is the HipChat

00:20:18,090 --> 00:20:23,580
name i can't connect the two and so you

00:20:21,840 --> 00:20:27,270
really have to get those the line up

00:20:23,580 --> 00:20:29,160
well and then as i said the instant

00:20:27,270 --> 00:20:33,480
messaging plugin is the backend for many

00:20:29,160 --> 00:20:35,580
of the other chat plugins and then i

00:20:33,480 --> 00:20:36,200
want what are the neat things about it

00:20:35,580 --> 00:20:39,169
is the

00:20:36,200 --> 00:20:41,389
the status of the Jenkins Bach actually

00:20:39,169 --> 00:20:44,720
tells you how many executors are free

00:20:41,389 --> 00:20:47,210
within your your Jenkins and so it'll

00:20:44,720 --> 00:20:49,880
say you know four or 47 executors in

00:20:47,210 --> 00:20:52,460
youth or if nothing's in use it'll say

00:20:49,880 --> 00:20:56,380
im bored giving something to do which i

00:20:52,460 --> 00:20:59,929
think is pretty funny and so the next

00:20:56,380 --> 00:21:02,899
kind of more advanced but not quite an

00:20:59,929 --> 00:21:04,549
actual chat bot would be slack bot it's

00:21:02,899 --> 00:21:07,100
only for slack so if you're not using

00:21:04,549 --> 00:21:09,830
slack this isn't going to be much use to

00:21:07,100 --> 00:21:13,549
you it's more of a call and response

00:21:09,830 --> 00:21:17,149
type situation so you enter in these

00:21:13,549 --> 00:21:20,450
this set of words in a chat room will

00:21:17,149 --> 00:21:23,710
trigger this set of responses you can do

00:21:20,450 --> 00:21:26,809
random responses it would be good for

00:21:23,710 --> 00:21:29,179
documentation if it doesn't change often

00:21:26,809 --> 00:21:32,269
if it does it be good for links to your

00:21:29,179 --> 00:21:34,399
documentation and then there's also

00:21:32,269 --> 00:21:38,240
slosh commands which allow you to

00:21:34,399 --> 00:21:40,850
actually send essentially a curl out to

00:21:38,240 --> 00:21:44,450
a website hit it and cause an action to

00:21:40,850 --> 00:21:46,370
occur so we I was messing around with

00:21:44,450 --> 00:21:50,330
this and I set up a slash command where

00:21:46,370 --> 00:21:52,970
I can say test the pre prod API stack

00:21:50,330 --> 00:21:56,630
and it'll go and poke our run scope to

00:21:52,970 --> 00:21:58,730
run those tests and then run scope will

00:21:56,630 --> 00:22:02,330
alert into our room about what's

00:21:58,730 --> 00:22:04,100
occurring and as I said it's built into

00:22:02,330 --> 00:22:06,169
slack if you don't have slack it's not

00:22:04,100 --> 00:22:08,690
going to be much use to you if you do

00:22:06,169 --> 00:22:11,029
have [ __ ] it's a matter of clicking a

00:22:08,690 --> 00:22:13,190
button to get this setup you just click

00:22:11,029 --> 00:22:15,980
Add integration and then you just fill

00:22:13,190 --> 00:22:18,260
in what you want the the call in

00:22:15,980 --> 00:22:20,840
response to be so it's really really

00:22:18,260 --> 00:22:25,100
easy to set up much like the the jenkins

00:22:20,840 --> 00:22:26,510
by then when you move to the actual chat

00:22:25,100 --> 00:22:28,250
BOTS these are the things you're going

00:22:26,510 --> 00:22:30,440
to need a separate server for where

00:22:28,250 --> 00:22:32,809
you're going to have to install this

00:22:30,440 --> 00:22:35,120
program onto it you're going to have to

00:22:32,809 --> 00:22:38,299
worry about networking and firewalls and

00:22:35,120 --> 00:22:39,260
things like that but it's if you get it

00:22:38,299 --> 00:22:42,500
right

00:22:39,260 --> 00:22:45,350
and you do it well it has a ton a ton of

00:22:42,500 --> 00:22:47,480
power behind it and so they all have

00:22:45,350 --> 00:22:50,360
some common features and then they have

00:22:47,480 --> 00:22:52,430
more of your you know the unique things

00:22:50,360 --> 00:22:54,290
for each of them and there's 3 i'm going

00:22:52,430 --> 00:22:55,790
to go over and i didn't know about two

00:22:54,290 --> 00:22:58,130
of them until i started doing this

00:22:55,790 --> 00:23:01,220
presentation but they're all open source

00:22:58,130 --> 00:23:03,560
so they're all highly extensible you can

00:23:01,220 --> 00:23:05,330
make it do whatever you want if you

00:23:03,560 --> 00:23:07,820
don't agree with the way they do

00:23:05,330 --> 00:23:09,920
something you can change it submit it

00:23:07,820 --> 00:23:15,800
back if they like it they'll accept it

00:23:09,920 --> 00:23:18,920
if not well now now there's four but and

00:23:15,800 --> 00:23:22,010
it's it's very easy to use and then they

00:23:18,920 --> 00:23:25,790
all have a help command to list exactly

00:23:22,010 --> 00:23:29,510
what it can do there's plugins you can

00:23:25,790 --> 00:23:32,120
write for those different chat BOTS to

00:23:29,510 --> 00:23:34,850
interact with your system so there's

00:23:32,120 --> 00:23:36,320
definitely processes and all companies

00:23:34,850 --> 00:23:38,510
that are going to be unique to that

00:23:36,320 --> 00:23:40,910
company and so you can write these

00:23:38,510 --> 00:23:45,680
plugins to execute those unique

00:23:40,910 --> 00:23:49,790
processes or and in the unique way you

00:23:45,680 --> 00:23:51,770
want this to occur and one of the big

00:23:49,790 --> 00:23:54,080
differences you'll see about the three

00:23:51,770 --> 00:23:57,490
chat box is the language they're written

00:23:54,080 --> 00:24:00,020
in so if you are comfortable with

00:23:57,490 --> 00:24:01,880
JavaScript then there's one of these you

00:24:00,020 --> 00:24:04,490
should probably pick over the others if

00:24:01,880 --> 00:24:05,900
you're comfortable with Ruby there's one

00:24:04,490 --> 00:24:07,040
of these you should pick over the other

00:24:05,900 --> 00:24:08,720
because they're all in three different

00:24:07,040 --> 00:24:11,120
languages and you're generally going to

00:24:08,720 --> 00:24:13,190
want to stay within the the native

00:24:11,120 --> 00:24:16,190
language of the chat BOTS to make

00:24:13,190 --> 00:24:19,310
debugging easier but they since there it

00:24:16,190 --> 00:24:20,720
is all true programming languages you

00:24:19,310 --> 00:24:24,020
can drop out of the programming language

00:24:20,720 --> 00:24:27,860
and just execute a script and so I have

00:24:24,020 --> 00:24:30,680
a couple instances where Ruby is much

00:24:27,860 --> 00:24:33,500
much easier to use to interact with this

00:24:30,680 --> 00:24:36,200
API then javascript is because there's a

00:24:33,500 --> 00:24:38,810
nice gem that works really well and so I

00:24:36,200 --> 00:24:41,180
actually will fall out and use Ruby to

00:24:38,810 --> 00:24:44,630
run those scripts and then send data

00:24:41,180 --> 00:24:46,740
back into my JavaScript and then in some

00:24:44,630 --> 00:24:49,830
way or another they all have author is a

00:24:46,740 --> 00:24:53,130
whether it be a plug-in you have to

00:24:49,830 --> 00:24:56,160
install or out of the box they have a

00:24:53,130 --> 00:24:58,650
way to do more authentication than just

00:24:56,160 --> 00:25:01,290
what your chat client is going to do on

00:24:58,650 --> 00:25:04,230
its own so let's start talking about the

00:25:01,290 --> 00:25:06,030
different ones the big one is Hugh

00:25:04,230 --> 00:25:08,610
bought you might have heard of this I

00:25:06,030 --> 00:25:12,059
would kind of consider it may be the

00:25:08,610 --> 00:25:14,250
grandfather of chat box it's I think it

00:25:12,059 --> 00:25:15,480
popularized chat box it's it's the big

00:25:14,250 --> 00:25:18,390
one out there there's a ton of

00:25:15,480 --> 00:25:21,660
information about it it has a ton of

00:25:18,390 --> 00:25:24,540
built-in pre-built script scripts you

00:25:21,660 --> 00:25:26,429
can go and get from NPM and install into

00:25:24,540 --> 00:25:29,250
your chat bot and it installs real

00:25:26,429 --> 00:25:31,470
easily and there's a lot of existing

00:25:29,250 --> 00:25:33,630
help out there for it because it's been

00:25:31,470 --> 00:25:37,260
around longer there's going to be more

00:25:33,630 --> 00:25:40,830
Google miss about it more articles on

00:25:37,260 --> 00:25:42,960
google and more help on stackoverflow

00:25:40,830 --> 00:25:44,820
and things like that it is written in

00:25:42,960 --> 00:25:47,070
CoffeeScript so if you're in the know

00:25:44,820 --> 00:25:50,220
j/s world this is probably what you

00:25:47,070 --> 00:25:53,309
would want to head into it uses NPM as i

00:25:50,220 --> 00:25:55,950
said to install its scripts it has a

00:25:53,309 --> 00:26:00,600
nice script catalog people have written

00:25:55,950 --> 00:26:03,270
chef recipes for it puppet puppets for

00:26:00,600 --> 00:26:05,460
it I don't know puppet and and it

00:26:03,270 --> 00:26:07,800
installs on Heroku really easily in fact

00:26:05,460 --> 00:26:09,990
I'd found out most people used to

00:26:07,800 --> 00:26:12,750
install it into the free tier of Heroku

00:26:09,990 --> 00:26:14,640
because it was free and the chat BOTS

00:26:12,750 --> 00:26:16,860
would never go over the threshold for it

00:26:14,640 --> 00:26:19,050
to cost money but then her okies changed

00:26:16,860 --> 00:26:22,559
their pricing such that the free tier

00:26:19,050 --> 00:26:24,000
will go down at least once a day so you

00:26:22,559 --> 00:26:27,420
know pick and choose what you want to do

00:26:24,000 --> 00:26:30,300
there again it's open source you write

00:26:27,420 --> 00:26:32,580
your own plugins add any new connectors

00:26:30,300 --> 00:26:36,990
these are going to be the adapters for

00:26:32,580 --> 00:26:40,200
your chat clients and you can add in

00:26:36,990 --> 00:26:42,660
security because Hugh bot doesn't really

00:26:40,200 --> 00:26:44,580
come with it does not come with security

00:26:42,660 --> 00:26:47,280
out of the box there's a plugin you can

00:26:44,580 --> 00:26:48,700
install for security but I was I saw a

00:26:47,280 --> 00:26:50,770
presentation where

00:26:48,700 --> 00:26:52,900
that a team actually went through and

00:26:50,770 --> 00:26:54,550
had to add an entire middleware layer to

00:26:52,900 --> 00:26:56,890
Hugh bought in order to make it highly

00:26:54,550 --> 00:26:59,830
secure for for their purposes and that

00:26:56,890 --> 00:27:02,590
got contributed back so it actually may

00:26:59,830 --> 00:27:05,200
have the ability to do security built-in

00:27:02,590 --> 00:27:08,920
I don't know for certain and then it's

00:27:05,200 --> 00:27:12,820
highly highly connectable it has the big

00:27:08,920 --> 00:27:15,910
to slacken hipchat XMPP I message gtalk

00:27:12,820 --> 00:27:20,020
that the list of their connectors are

00:27:15,910 --> 00:27:22,270
it's about 25 to 30 and I've never heard

00:27:20,020 --> 00:27:25,450
of a lot of these I didn't know they

00:27:22,270 --> 00:27:28,630
even existed so then you get to the next

00:27:25,450 --> 00:27:31,090
one which is lita lido likes to spacek

00:27:28,630 --> 00:27:33,190
alee call itself I mean based on its

00:27:31,090 --> 00:27:35,590
documentation it looks like they want to

00:27:33,190 --> 00:27:37,270
be Hugh bought plus and so they have a

00:27:35,590 --> 00:27:39,640
lot of the same things as Hugh bought

00:27:37,270 --> 00:27:41,800
but it's written in Ruby so for you

00:27:39,640 --> 00:27:45,010
rails developers this is probably going

00:27:41,800 --> 00:27:47,350
to be the one you want because if you

00:27:45,010 --> 00:27:50,020
want to write new plugins for it you'll

00:27:47,350 --> 00:27:52,870
want to do it in movie it has Redis out

00:27:50,020 --> 00:27:55,420
of the box built in what this means is

00:27:52,870 --> 00:27:59,290
that Hugh bot has an in-memory brain

00:27:55,420 --> 00:28:02,170
whereas Lita has a persistent brain it

00:27:59,290 --> 00:28:04,630
uses Redis to store things so out of the

00:28:02,170 --> 00:28:07,180
box if you tell it to remember that grey

00:28:04,630 --> 00:28:09,700
equals blue when you restart it you'll

00:28:07,180 --> 00:28:11,800
it'll tell you that grey equals blue

00:28:09,700 --> 00:28:13,480
with Hugh bot if you tell it the gray

00:28:11,800 --> 00:28:16,450
equals blue you restarted it'll build

00:28:13,480 --> 00:28:21,160
gray equals that doesn't know what it is

00:28:16,450 --> 00:28:24,070
and I can use our spec for testing of

00:28:21,160 --> 00:28:25,480
your plugins I don't know of an

00:28:24,070 --> 00:28:28,360
equivalent thing that would be in

00:28:25,480 --> 00:28:31,240
CoffeeScript for that and it's it's

00:28:28,360 --> 00:28:34,090
connectable not as connectable as Hugh

00:28:31,240 --> 00:28:36,790
bought it has slackened HipChat campfire

00:28:34,090 --> 00:28:40,660
and I think six others it has I believe

00:28:36,790 --> 00:28:43,090
nine and out of the box it has

00:28:40,660 --> 00:28:47,620
authorization built in you can say Leda

00:28:43,090 --> 00:28:51,270
auth add Jim to admins and now he can do

00:28:47,620 --> 00:28:54,940
functions he can call commands that will

00:28:51,270 --> 00:28:57,730
only admins be able to use and so it's

00:28:54,940 --> 00:28:59,660
real easy to add them and then there's

00:28:57,730 --> 00:29:02,120
this one was actually

00:28:59,660 --> 00:29:03,470
pretty pretty interesting when I was

00:29:02,120 --> 00:29:06,890
researching about it it's written in

00:29:03,470 --> 00:29:09,320
Python so you Python East is this might

00:29:06,890 --> 00:29:11,300
be up your alley it uses docstring to

00:29:09,320 --> 00:29:13,580
document the commands and give you how

00:29:11,300 --> 00:29:16,310
what commands do and how to run them

00:29:13,580 --> 00:29:19,130
that's similar to the way Hugh bot does

00:29:16,310 --> 00:29:22,070
it which is with a big comment block at

00:29:19,130 --> 00:29:26,480
the top of your script it's it's also

00:29:22,070 --> 00:29:28,370
connectable to only those notice there's

00:29:26,480 --> 00:29:30,800
no slack which I found to be pretty

00:29:28,370 --> 00:29:33,170
pretty telling but those are the only

00:29:30,800 --> 00:29:34,940
ones again it's open source so you can

00:29:33,170 --> 00:29:38,000
write your own adapter and get it

00:29:34,940 --> 00:29:43,130
submitted back and they'll probably

00:29:38,000 --> 00:29:45,530
accept it one of the these next few

00:29:43,130 --> 00:29:47,420
points are pretty cool it has a built-in

00:29:45,530 --> 00:29:49,850
repositories command and built-in

00:29:47,420 --> 00:29:52,400
repositories so that instead of having

00:29:49,850 --> 00:29:56,000
to go into your configuration management

00:29:52,400 --> 00:29:58,430
software of your cubed or Lita and say I

00:29:56,000 --> 00:30:00,410
want this new plug-in and then you get

00:29:58,430 --> 00:30:02,570
that uploaded and then you converge your

00:30:00,410 --> 00:30:06,500
server and now you have it you just say

00:30:02,570 --> 00:30:08,030
you know go into this repository and add

00:30:06,500 --> 00:30:10,520
this plug-in or go into this repository

00:30:08,030 --> 00:30:12,290
and update this plug-in or add this

00:30:10,520 --> 00:30:15,590
would posit or e to your list of

00:30:12,290 --> 00:30:18,470
repositories and so you it you it's very

00:30:15,590 --> 00:30:22,520
configurable on the fly as my last point

00:30:18,470 --> 00:30:24,860
says you can do things to the bot from

00:30:22,520 --> 00:30:28,160
the chat room which isn't does not come

00:30:24,860 --> 00:30:30,200
out of the box for the other two it can

00:30:28,160 --> 00:30:32,690
recall your user commands the commands

00:30:30,200 --> 00:30:35,060
you've issued in the past you know X

00:30:32,690 --> 00:30:37,580
amount of time it will tell you you know

00:30:35,060 --> 00:30:43,820
what they were and what you ran this

00:30:37,580 --> 00:30:45,860
gets you much closer to the fashional

00:30:43,820 --> 00:30:48,110
command line because I I can't tell you

00:30:45,860 --> 00:30:50,840
how many times I've typed out this long

00:30:48,110 --> 00:30:52,880
command hit enter and nothing happens

00:30:50,840 --> 00:30:53,539
because I spelled a word wrong and now I

00:30:52,880 --> 00:30:55,489
have to

00:30:53,539 --> 00:30:58,279
type at all I wish I could just up arrow

00:30:55,489 --> 00:31:00,529
go over to the typo fix it and hit enter

00:30:58,279 --> 00:31:03,289
this gets you closer to that and you may

00:31:00,529 --> 00:31:06,229
be able to build in the up arrow to it

00:31:03,289 --> 00:31:08,389
it has built-in security to it and it's

00:31:06,229 --> 00:31:11,119
configurable on the fly you can disable

00:31:08,389 --> 00:31:13,879
plugins you can configure plugins you

00:31:11,119 --> 00:31:16,820
can change your plugins it's it's pretty

00:31:13,879 --> 00:31:21,499
cool everything you can do from the chat

00:31:16,820 --> 00:31:24,440
room to this chat bot so that's a lot of

00:31:21,499 --> 00:31:25,849
stuff that's not about Jenkins thought

00:31:24,440 --> 00:31:27,919
we were at the Jenkins user conference

00:31:25,849 --> 00:31:30,979
so what are what can you what can you do

00:31:27,919 --> 00:31:33,229
with this within Jenkins as I've said

00:31:30,979 --> 00:31:35,629
you have you can get your notifications

00:31:33,229 --> 00:31:39,080
on build success and big failure build

00:31:35,629 --> 00:31:42,950
fix those type of things you can ask you

00:31:39,080 --> 00:31:44,929
know the status of jobs and then we've

00:31:42,950 --> 00:31:47,869
actually gone through and wrote a script

00:31:44,929 --> 00:31:51,259
for Hugh bought that allows us to tell

00:31:47,869 --> 00:31:53,929
Hugh bot to notify us when a job is

00:31:51,259 --> 00:31:57,379
completed so you say you know Hugh bot

00:31:53,929 --> 00:31:59,529
tell us when this job is finished and so

00:31:57,379 --> 00:32:01,639
he'll go and help hold that job

00:31:59,529 --> 00:32:03,710
periodically and then when that

00:32:01,639 --> 00:32:05,960
long-running job finishes he'll come and

00:32:03,710 --> 00:32:08,509
tell you he'll ping you that this job is

00:32:05,960 --> 00:32:10,669
done and with this with the the status

00:32:08,509 --> 00:32:13,700
of it so if you have a two-hour

00:32:10,669 --> 00:32:15,049
regression test and you got to get this

00:32:13,700 --> 00:32:17,210
deploy out but you got to get the

00:32:15,049 --> 00:32:20,149
regression tests to run and so you kick

00:32:17,210 --> 00:32:22,669
it off and you come back two hours later

00:32:20,149 --> 00:32:24,619
and it failed after three minutes that

00:32:22,669 --> 00:32:27,080
is the worst feeling in the entire world

00:32:24,619 --> 00:32:30,019
because you just wasted an hour and 57

00:32:27,080 --> 00:32:31,999
minutes and so then then the next time

00:32:30,019 --> 00:32:33,229
you're like okay well this time I'm

00:32:31,999 --> 00:32:35,179
going to kick it off and I'm going to

00:32:33,229 --> 00:32:37,460
stare at it till it finishes and then it

00:32:35,179 --> 00:32:39,409
runs for two hours it's just a huge

00:32:37,460 --> 00:32:40,820
waste of your time so this way you can

00:32:39,409 --> 00:32:42,440
tell it you know tell me when this is

00:32:40,820 --> 00:32:44,299
done and you can go off and do your

00:32:42,440 --> 00:32:45,830
other thing and if it fails in three

00:32:44,299 --> 00:32:47,570
minutes it'll tell you that it failed in

00:32:45,830 --> 00:32:49,489
three minutes if it runs the completion

00:32:47,570 --> 00:32:51,979
it'll tell you it ran for two hours and

00:32:49,489 --> 00:32:56,929
now it's done so you're not wasting your

00:32:51,979 --> 00:33:00,229
time you can also have a Jenkins job

00:32:56,929 --> 00:33:03,389
send commands to your chat room to

00:33:00,229 --> 00:33:07,649
trigger your chops commands

00:33:03,389 --> 00:33:11,190
so one of the ways we use this is I

00:33:07,649 --> 00:33:15,809
wrote how to load all our data as I said

00:33:11,190 --> 00:33:18,809
before with Sparky are Hugh bot and that

00:33:15,809 --> 00:33:22,619
works it's solid and then I was told we

00:33:18,809 --> 00:33:25,289
need a way to poke that and make it run

00:33:22,619 --> 00:33:26,519
from our scripts that actually load the

00:33:25,289 --> 00:33:29,309
database that you're loading

00:33:26,519 --> 00:33:32,429
elasticsearch out of and so I didn't

00:33:29,309 --> 00:33:38,249
want while few Bob does have a web hook

00:33:32,429 --> 00:33:40,859
ability that it can be a web web plot a

00:33:38,249 --> 00:33:44,159
server that accepts commands and then

00:33:40,859 --> 00:33:46,349
it'll run things I didn't want to have

00:33:44,159 --> 00:33:47,820
to be tied to an IP or have to figure

00:33:46,349 --> 00:33:49,709
that out when we were kind of under the

00:33:47,820 --> 00:33:52,529
gun so I was like all right you just

00:33:49,709 --> 00:33:55,559
poke Jenkins this Jenkins job will then

00:33:52,529 --> 00:33:58,229
go in to hipchat and say load the data

00:33:55,559 --> 00:34:01,169
and then our chat ops will take over and

00:33:58,229 --> 00:34:03,629
load load the data I also wanted to be

00:34:01,169 --> 00:34:06,529
able to be for people to see how we load

00:34:03,629 --> 00:34:09,299
that data so that if we need to load it

00:34:06,529 --> 00:34:11,759
just a certain piece of it you can do it

00:34:09,299 --> 00:34:13,409
and you can still do it on the fly now

00:34:11,759 --> 00:34:15,000
that may sound a little scary about

00:34:13,409 --> 00:34:17,669
loading data into production and

00:34:15,000 --> 00:34:19,980
everyone can do that so a more

00:34:17,669 --> 00:34:22,529
reasonable use case here would be

00:34:19,980 --> 00:34:23,970
getting a job that goes in the chat room

00:34:22,529 --> 00:34:26,940
and says how many users are on our

00:34:23,970 --> 00:34:29,309
website and so he just you can use

00:34:26,940 --> 00:34:31,019
Jenkins kron4 that Jenkins has really

00:34:29,309 --> 00:34:32,759
nice built-in cron Jenkins has the

00:34:31,019 --> 00:34:35,819
random cron which is which is pretty

00:34:32,759 --> 00:34:38,009
sweet and while Hugh bot does have cron

00:34:35,819 --> 00:34:40,230
built it or not built in you can add

00:34:38,009 --> 00:34:41,819
cron to it it takes a little work and

00:34:40,230 --> 00:34:43,710
figuring that out with Jenkins is just

00:34:41,819 --> 00:34:47,069
built in so you could have it you know

00:34:43,710 --> 00:34:48,779
randomly within an hour tell you how

00:34:47,069 --> 00:34:51,929
many users are on the website right now

00:34:48,779 --> 00:34:54,859
and so it will go in and post into the

00:34:51,929 --> 00:34:57,900
chat room how many users are in here and

00:34:54,859 --> 00:34:59,789
then the chat bot will respond well if

00:34:57,900 --> 00:35:02,220
someone wants to find out twenty minutes

00:34:59,789 --> 00:35:03,310
later how many users there are they know

00:35:02,220 --> 00:35:05,050
exactly how to do it

00:35:03,310 --> 00:35:07,960
now because Jenkins just told them how

00:35:05,050 --> 00:35:11,100
to do it so they can now issue that same

00:35:07,960 --> 00:35:13,990
command and get back the number of users

00:35:11,100 --> 00:35:17,340
another good thing about using Jenkins

00:35:13,990 --> 00:35:20,140
to send chat offs commands is that

00:35:17,340 --> 00:35:21,940
Jenkins has the nice trend where it'll

00:35:20,140 --> 00:35:24,310
tell you how long your jobs are running

00:35:21,940 --> 00:35:28,870
there's also plugins built-in where you

00:35:24,310 --> 00:35:31,120
can graph your timing data and so wow

00:35:28,870 --> 00:35:32,980
you could do that with your chat bot and

00:35:31,120 --> 00:35:35,050
you could try and hook it up to graphite

00:35:32,980 --> 00:35:36,550
or something like that isn't it easier

00:35:35,050 --> 00:35:39,460
just to use stuff that's already out

00:35:36,550 --> 00:35:41,680
there and not rebuild the wheel so use

00:35:39,460 --> 00:35:44,410
the power of Jenkins to drive your chat

00:35:41,680 --> 00:35:46,300
offs then you can actually do the rivers

00:35:44,410 --> 00:35:50,590
you can have chat offs kick off your

00:35:46,300 --> 00:35:53,020
Jenkins builds so you could have a user

00:35:50,590 --> 00:35:55,000
kick off that to our regression by just

00:35:53,020 --> 00:35:57,400
saying hey regression tests this commit

00:35:55,000 --> 00:35:59,140
and it'll go and run it so he doesn't

00:35:57,400 --> 00:36:01,600
have to go and log into Jenkins hit

00:35:59,140 --> 00:36:04,240
build now put in the committee and get

00:36:01,600 --> 00:36:06,550
everything going that's not the greatest

00:36:04,240 --> 00:36:09,310
use case but the next two are kind of

00:36:06,550 --> 00:36:13,600
interesting so you have your integration

00:36:09,310 --> 00:36:17,500
and it tells you that this services is

00:36:13,600 --> 00:36:20,200
down and so you your chat bot can key in

00:36:17,500 --> 00:36:22,000
on that pick it up go all right the

00:36:20,200 --> 00:36:24,550
service is down is the box still there

00:36:22,000 --> 00:36:26,830
and so you can ping the box box is still

00:36:24,550 --> 00:36:27,970
there you can still connect to it so

00:36:26,830 --> 00:36:29,710
he's like alright I'm going to go kick

00:36:27,970 --> 00:36:32,290
off the Jenkins job that will restart

00:36:29,710 --> 00:36:34,870
that service and so the Jenkins job will

00:36:32,290 --> 00:36:37,510
run create you know use it slave that

00:36:34,870 --> 00:36:41,260
can ssh into that box and restart the

00:36:37,510 --> 00:36:43,180
service so based on events that are

00:36:41,260 --> 00:36:45,220
getting put pumped into your chat room

00:36:43,180 --> 00:36:48,040
from your integrations you can trigger

00:36:45,220 --> 00:36:50,800
other Jenkins jobs to either fix those

00:36:48,040 --> 00:36:53,410
issues or continue along with what

00:36:50,800 --> 00:36:56,770
you're doing and then if you have your

00:36:53,410 --> 00:36:59,050
Jenkins behind a firewall and you use

00:36:56,770 --> 00:37:00,910
public github you're probably using

00:36:59,050 --> 00:37:03,460
polling because there's not going to

00:37:00,910 --> 00:37:05,740
really be a way to connect from github

00:37:03,460 --> 00:37:08,680
to your Jenkins to tell it that there's

00:37:05,740 --> 00:37:11,890
been a push made unless I tease open up

00:37:08,680 --> 00:37:15,280
for you and so this would actually allow

00:37:11,890 --> 00:37:17,530
you to get rid of polling and build on

00:37:15,280 --> 00:37:21,400
pushes because github would alert

00:37:17,530 --> 00:37:25,329
HipChat that a push has occurred in this

00:37:21,400 --> 00:37:28,210
repository and then your bot can take

00:37:25,329 --> 00:37:32,050
that commits that integrations notice

00:37:28,210 --> 00:37:34,180
parse it find the the repository to

00:37:32,050 --> 00:37:36,849
build and then go tickle your Jenkins

00:37:34,180 --> 00:37:39,790
with that informations just like if

00:37:36,849 --> 00:37:45,450
github were actually able to poke your

00:37:39,790 --> 00:37:48,550
your Jenkins server and so there's

00:37:45,450 --> 00:37:51,609
security concerns around this and I've

00:37:48,550 --> 00:37:53,200
seen a security presentation about chat

00:37:51,609 --> 00:37:55,180
offs and those were the people that

00:37:53,200 --> 00:37:57,400
actually ruin out they added in the

00:37:55,180 --> 00:37:59,319
middle where they added in to factor off

00:37:57,400 --> 00:38:02,349
and they actually did some message

00:37:59,319 --> 00:38:05,559
signing that their main deal with it was

00:38:02,349 --> 00:38:07,480
essentially human core and then your

00:38:05,559 --> 00:38:10,420
plugins right below it so there is no

00:38:07,480 --> 00:38:13,390
middleware to actually do authentication

00:38:10,420 --> 00:38:17,920
in and so they added it in and it uses

00:38:13,390 --> 00:38:20,079
ldap to check for the job of role and if

00:38:17,920 --> 00:38:23,140
you're allowed to do things and then

00:38:20,079 --> 00:38:24,609
it'll use approval to separate

00:38:23,140 --> 00:38:26,230
responsibilities because you don't want

00:38:24,609 --> 00:38:28,240
a developer to stay all right to play

00:38:26,230 --> 00:38:30,040
this the test and then he goes all right

00:38:28,240 --> 00:38:31,119
cool it's in test how about go into

00:38:30,040 --> 00:38:35,260
production that developers like yeah

00:38:31,119 --> 00:38:37,750
always and it's and you want your test

00:38:35,260 --> 00:38:40,089
team to say yes now we can go to stage

00:38:37,750 --> 00:38:42,880
why would you ever skip that to go to

00:38:40,089 --> 00:38:44,380
production I don't know dude so briefly

00:38:42,880 --> 00:38:46,960
touched on it there's more information

00:38:44,380 --> 00:38:49,630
out there about security also running

00:38:46,960 --> 00:38:53,170
low on time these are all of the

00:38:49,630 --> 00:38:54,760
commands that we have currently one

00:38:53,170 --> 00:38:58,120
thing I haven't mentioned

00:38:54,760 --> 00:39:00,760
is with these chat box there is a lot of

00:38:58,120 --> 00:39:03,250
fun silly things out there there is a

00:39:00,760 --> 00:39:05,170
command called image me that will if you

00:39:03,250 --> 00:39:07,270
say image me google it will go and [ __ ]

00:39:05,170 --> 00:39:08,970
go and do a Google search on Google and

00:39:07,270 --> 00:39:10,900
give you an image about Google and

00:39:08,970 --> 00:39:13,810
there's a whole bunch of other things

00:39:10,900 --> 00:39:16,300
like that that are cute fun interesting

00:39:13,810 --> 00:39:18,940
not worthwhile to your day to day but

00:39:16,300 --> 00:39:22,330
your life in a business so what I've

00:39:18,940 --> 00:39:23,920
done is added this di specific tag at

00:39:22,330 --> 00:39:27,490
the end of all the commands that

00:39:23,920 --> 00:39:31,510
actually work for our company and what

00:39:27,490 --> 00:39:34,810
we're trying to do and that's how you

00:39:31,510 --> 00:39:37,300
can do a help di specific because it's a

00:39:34,810 --> 00:39:39,160
reg ex search and it'll find just this

00:39:37,300 --> 00:39:40,840
list and and display it to you so you

00:39:39,160 --> 00:39:45,100
don't have to dig through all the cruft

00:39:40,840 --> 00:39:50,050
a lot of this is documentation and the

00:39:45,100 --> 00:39:52,510
different systems we connect into but we

00:39:50,050 --> 00:39:55,810
actually use our chat bot for all of our

00:39:52,510 --> 00:39:58,390
documentation there's also a website for

00:39:55,810 --> 00:40:03,670
it but it the website is our github

00:39:58,390 --> 00:40:05,350
markdown document and the chat bot gets

00:40:03,670 --> 00:40:07,540
that information from that markdown

00:40:05,350 --> 00:40:10,260
document so it's the same in both spots

00:40:07,540 --> 00:40:13,060
and our documentation is now version

00:40:10,260 --> 00:40:15,270
that's going to be it right thank you

00:40:13,060 --> 00:40:15,270
very much

00:40:25,130 --> 00:40:27,190

YouTube URL: https://www.youtube.com/watch?v=5icKhJ82ULU


