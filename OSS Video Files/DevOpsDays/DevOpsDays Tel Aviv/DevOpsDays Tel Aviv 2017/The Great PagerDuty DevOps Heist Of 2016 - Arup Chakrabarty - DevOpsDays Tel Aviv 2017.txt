Title: The Great PagerDuty DevOps Heist Of 2016 - Arup Chakrabarty - DevOpsDays Tel Aviv 2017
Publication date: 2017-11-28
Playlist: DevOpsDays Tel Aviv 2017
Description: 
	“You build it, you own it, you operate it” has become our mantra at PagerDuty. But how did we get there? Where were we before his? How did we go from having a centralized team responsible for anything Infrastructure related to dozens of engineers building and deploying their own services?
Captions: 
	00:00:05,089 --> 00:00:10,740
my name is a Roop Chakrabarti really

00:00:08,370 --> 00:00:12,690
honored and humbled to be back here at

00:00:10,740 --> 00:00:15,900
Devil's tel Aviv I was here

00:00:12,690 --> 00:00:18,660
two years ago I was here two years ago a

00:00:15,900 --> 00:00:20,970
DOS days Tel Aviv had just an amazing

00:00:18,660 --> 00:00:23,539
time I love how like welcoming and

00:00:20,970 --> 00:00:26,160
hospitable all Israelis are and just

00:00:23,539 --> 00:00:27,900
last time I was here I had multiple

00:00:26,160 --> 00:00:29,490
folks offer to give me rides around the

00:00:27,900 --> 00:00:31,050
city and tour guides and this time

00:00:29,490 --> 00:00:32,550
didn't need the tour guide but I was

00:00:31,050 --> 00:00:34,530
added out to dinner on Sunday night with

00:00:32,550 --> 00:00:35,940
some folks from the conference and they

00:00:34,530 --> 00:00:38,190
refused to let me take a cab home

00:00:35,940 --> 00:00:40,790
because you're all so hospitable so

00:00:38,190 --> 00:00:42,960
thank you for being so welcoming and

00:00:40,790 --> 00:00:44,610
making my life a lot easier so I don't

00:00:42,960 --> 00:00:48,450
have to expense cab receipts so thank

00:00:44,610 --> 00:00:51,030
you for that also I want to thank all

00:00:48,450 --> 00:00:53,010
the organizers specifically if if you

00:00:51,030 --> 00:00:54,690
see any of the organizers with you know

00:00:53,010 --> 00:00:56,760
they'll say organizer on their on their

00:00:54,690 --> 00:00:58,410
badge please thank them there there's a

00:00:56,760 --> 00:00:59,730
lot of work that goes into running these

00:00:58,410 --> 00:01:01,530
kinds of conferences at this kind of

00:00:59,730 --> 00:01:03,329
scale and with this many people and if

00:01:01,530 --> 00:01:04,860
there's any kinds of folks that can

00:01:03,329 --> 00:01:06,750
appreciate how much work it goes into

00:01:04,860 --> 00:01:08,430
making things run smoothly it's all of

00:01:06,750 --> 00:01:10,140
you because that's what all of you do in

00:01:08,430 --> 00:01:13,500
your day job so please thank them

00:01:10,140 --> 00:01:16,290
profusely if you do see them with anyone

00:01:13,500 --> 00:01:17,970
with their organizer badge on and lastly

00:01:16,290 --> 00:01:19,530
I have my twitter handle up here and

00:01:17,970 --> 00:01:21,509
it'll be on all my slides if you do have

00:01:19,530 --> 00:01:24,930
feedback throughout the talk please feel

00:01:21,509 --> 00:01:27,479
free to message me directly or you know

00:01:24,930 --> 00:01:29,880
just tweet out with that said I'm going

00:01:27,479 --> 00:01:31,439
to take my phone and put it over here so

00:01:29,880 --> 00:01:35,460
I do not respond to your angry tweets

00:01:31,439 --> 00:01:37,880
during my talk alright so let's get

00:01:35,460 --> 00:01:41,159
started here let me turn on my clicker

00:01:37,880 --> 00:01:42,479
so really quickly agenda what I'll start

00:01:41,159 --> 00:01:44,310
with is laying out some context about

00:01:42,479 --> 00:01:47,310
myself and pedra deke and what we do at

00:01:44,310 --> 00:01:50,040
my company and a little bit more about

00:01:47,310 --> 00:01:51,990
myself then I'll dive into where we were

00:01:50,040 --> 00:01:54,270
at the beginning of 2016 so this talk is

00:01:51,990 --> 00:01:55,829
very much timeline based talk where I'm

00:01:54,270 --> 00:01:57,600
going to go through where we were from a

00:01:55,829 --> 00:01:59,759
snapshot standpoint in multiple times

00:01:57,600 --> 00:02:00,990
throughout 2016 as we were kind of going

00:01:59,759 --> 00:02:04,200
through our own internal DevOps

00:02:00,990 --> 00:02:06,360
transformation at the company I'll walk

00:02:04,200 --> 00:02:08,250
through some of the organizational and

00:02:06,360 --> 00:02:10,470
technical changes that we made you know

00:02:08,250 --> 00:02:12,180
kind of piggyback off of Corey's talk

00:02:10,470 --> 00:02:13,540
today a lot of the things that I'm gonna

00:02:12,180 --> 00:02:14,920
be talking about are similar that

00:02:13,540 --> 00:02:16,540
a lot of it's about people but there's

00:02:14,920 --> 00:02:18,040
also some technology changes that we

00:02:16,540 --> 00:02:20,349
made on our end to make some of these

00:02:18,040 --> 00:02:21,760
things easier then I'll also walk

00:02:20,349 --> 00:02:24,670
through some of the validation that we

00:02:21,760 --> 00:02:26,079
did throughout not just the change of

00:02:24,670 --> 00:02:28,090
themselves but you know I kind of

00:02:26,079 --> 00:02:29,140
afterwards a year later and kind of

00:02:28,090 --> 00:02:31,420
looking back from where we are now

00:02:29,140 --> 00:02:33,700
whether we did the right things or not

00:02:31,420 --> 00:02:35,590
and lastly all these slides will be

00:02:33,700 --> 00:02:37,510
posted on speaker deck online I'll tweet

00:02:35,590 --> 00:02:39,040
them out so if you miss a picture or if

00:02:37,510 --> 00:02:41,859
you didn't get a note don't worry about

00:02:39,040 --> 00:02:42,189
it it'll all get posted online later

00:02:41,859 --> 00:02:45,970
today

00:02:42,189 --> 00:02:48,280
late this evening So You Know Who am I

00:02:45,970 --> 00:02:50,799
this is to get over my own insecurities

00:02:48,280 --> 00:02:52,419
like Corey talked about and and why I

00:02:50,799 --> 00:02:54,909
think Pete some folks should listen to

00:02:52,419 --> 00:02:56,590
me I actually started out an academic

00:02:54,909 --> 00:02:59,909
research I don't know who caught Gil's

00:02:56,590 --> 00:03:02,169
talk yesterday on DICOM and HIPAA but

00:02:59,909 --> 00:03:04,239
but that's actually where I got my start

00:03:02,169 --> 00:03:06,700
about 15 years ago studying MRI imaging

00:03:04,239 --> 00:03:08,319
data and I am so glad that Gil is the

00:03:06,700 --> 00:03:10,480
one dealing with that stuff and not me

00:03:08,319 --> 00:03:12,549
anymore because it is really really hard

00:03:10,480 --> 00:03:14,049
so if you see Gil today please give him

00:03:12,549 --> 00:03:15,730
a pat on the back I've nothing but the

00:03:14,049 --> 00:03:17,979
utmost respect for folks that can do

00:03:15,730 --> 00:03:19,840
that kind of work spend some time at

00:03:17,979 --> 00:03:21,549
Amazon the Netflix and currently I work

00:03:19,840 --> 00:03:23,680
at pay Judy where I get to work with our

00:03:21,549 --> 00:03:26,620
infrastructure engineering teams at the

00:03:23,680 --> 00:03:28,810
company before again to the meat of the

00:03:26,620 --> 00:03:31,000
talk some quick disclaimer I'm not a

00:03:28,810 --> 00:03:33,400
smart person nor do I pretend to be but

00:03:31,000 --> 00:03:36,010
I work with very smart people and I'm

00:03:33,400 --> 00:03:37,599
very lucky and I'm very privileged to

00:03:36,010 --> 00:03:40,269
work with the engineers that I get to

00:03:37,599 --> 00:03:41,799
work with on a daily basis and while I'm

00:03:40,269 --> 00:03:43,120
up here talking about this stuff and I

00:03:41,799 --> 00:03:44,709
have conviction and a lot of belief

00:03:43,120 --> 00:03:46,060
around it I did not come up with

00:03:44,709 --> 00:03:48,340
everything and I will not pretend for a

00:03:46,060 --> 00:03:50,409
second that I did I'm up here merely as

00:03:48,340 --> 00:03:52,180
a talking head on behalf of a lot of

00:03:50,409 --> 00:03:54,909
really really smart people that I get to

00:03:52,180 --> 00:03:57,609
work with the big takeaway here it takes

00:03:54,909 --> 00:03:59,169
teams of highly aligned people to get

00:03:57,609 --> 00:04:02,409
any of this stuff done that I'm gonna be

00:03:59,169 --> 00:04:05,470
talking about today similarly this will

00:04:02,409 --> 00:04:07,479
not work for you please do not take what

00:04:05,470 --> 00:04:09,370
I'm talking about today and treat it as

00:04:07,479 --> 00:04:11,650
a playbook don't go out there and copy

00:04:09,370 --> 00:04:13,479
verbatim and I'll tell you why if you go

00:04:11,650 --> 00:04:15,639
to your boss tomorrow and say hey this

00:04:13,479 --> 00:04:17,079
goofus named a Roop at this DevOps aids

00:04:15,639 --> 00:04:19,509
conference told me to do this here's

00:04:17,079 --> 00:04:21,519
what happens your boss chances are knows

00:04:19,509 --> 00:04:23,200
my boss he sends an email to my boss and

00:04:21,519 --> 00:04:25,000
says hey why is your idiot direct

00:04:23,200 --> 00:04:27,130
telling my teams to do these things

00:04:25,000 --> 00:04:27,560
without any context so please don't get

00:04:27,130 --> 00:04:28,730
me into

00:04:27,560 --> 00:04:30,320
trouble I don't want that because that

00:04:28,730 --> 00:04:32,690
also means you get into trouble which I

00:04:30,320 --> 00:04:35,270
don't want either so what I do want you

00:04:32,690 --> 00:04:38,180
to do take this material digests it read

00:04:35,270 --> 00:04:40,460
over the slides next week after you get

00:04:38,180 --> 00:04:42,770
a good weekend in and some process and

00:04:40,460 --> 00:04:44,330
you've digested it contextualize this

00:04:42,770 --> 00:04:46,280
information figure out what you think

00:04:44,330 --> 00:04:48,410
might work for your organization's and

00:04:46,280 --> 00:04:50,630
then apply it please do not apply this

00:04:48,410 --> 00:04:52,820
stuff verbatim there are strengths that

00:04:50,630 --> 00:04:54,680
pager duty has last year that I was able

00:04:52,820 --> 00:04:57,950
to leverage and exploit that none of you

00:04:54,680 --> 00:04:59,480
have but likewise my organization also

00:04:57,950 --> 00:05:01,190
has weaknesses that none of you have

00:04:59,480 --> 00:05:03,260
which I have no idea what they are so

00:05:01,190 --> 00:05:05,270
please understand what those strengths

00:05:03,260 --> 00:05:06,520
and weaknesses are so you can exploit

00:05:05,270 --> 00:05:09,320
them and be successful

00:05:06,520 --> 00:05:11,770
lazy leaders copy information verbatim

00:05:09,320 --> 00:05:15,050
don't be a lazy leader

00:05:11,770 --> 00:05:17,270
alright so quick 15-second pitch on what

00:05:15,050 --> 00:05:19,160
is page of duty this is our architecture

00:05:17,270 --> 00:05:21,500
diagram it's a very technical diagram

00:05:19,160 --> 00:05:23,510
here basically you can think of us

00:05:21,500 --> 00:05:25,190
actually so quick show of hands who's

00:05:23,510 --> 00:05:27,050
heard of page view before or views the

00:05:25,190 --> 00:05:29,210
product Oh fantastic this makes my life

00:05:27,050 --> 00:05:31,460
even easier so on the left you have

00:05:29,210 --> 00:05:33,950
unhappy customers whether it's increased

00:05:31,460 --> 00:05:37,160
error rates slower webpage downtime what

00:05:33,950 --> 00:05:39,229
have you in the middle magic that's what

00:05:37,160 --> 00:05:40,970
I get to work on on my on my day job on

00:05:39,229 --> 00:05:43,610
the right is all of you the resolvers

00:05:40,970 --> 00:05:44,620
that we help connect to via all that

00:05:43,610 --> 00:05:47,780
magic

00:05:44,620 --> 00:05:49,760
alright so January 2016 so let's let's

00:05:47,780 --> 00:05:52,280
go back let's go back almost two years

00:05:49,760 --> 00:05:53,960
now and think about kind of where you

00:05:52,280 --> 00:05:56,360
were in January 2016 I'll talk about

00:05:53,960 --> 00:05:59,750
myself a little bit fewer gray hairs

00:05:56,360 --> 00:06:01,310
I've fewer wrinkles fewer gray hairs my

00:05:59,750 --> 00:06:02,440
beard that's the weird one really that

00:06:01,310 --> 00:06:04,880
that really throws me off

00:06:02,440 --> 00:06:06,830
remember the Zika virus that that

00:06:04,880 --> 00:06:08,990
happened January 2016 we were all

00:06:06,830 --> 00:06:11,990
freaking out about that still keeps me

00:06:08,990 --> 00:06:13,940
up Google code was discontinued remember

00:06:11,990 --> 00:06:16,610
that they finally decided that you know

00:06:13,940 --> 00:06:19,100
maybe github winning on this one

00:06:16,610 --> 00:06:21,560
likewise Google amp that accelerated

00:06:19,100 --> 00:06:22,820
mobile nonsense was also introduced so

00:06:21,560 --> 00:06:24,889
every time you search for a news article

00:06:22,820 --> 00:06:27,200
now and wonder why in your mobile device

00:06:24,889 --> 00:06:31,100
the scroll is all weird and strange yeah

00:06:27,200 --> 00:06:33,229
that started in January 2016 so this is

00:06:31,100 --> 00:06:36,380
what our org chart looked like in

00:06:33,229 --> 00:06:38,210
January 2016 nothing too crazy here we

00:06:36,380 --> 00:06:40,830
have VP of engineering we had operations

00:06:38,210 --> 00:06:43,320
reliability and product functionalities

00:06:40,830 --> 00:06:45,270
company and this is pretty typical right

00:06:43,320 --> 00:06:47,670
you you've probably seen or charts like

00:06:45,270 --> 00:06:49,080
this and you know on the left here we

00:06:47,670 --> 00:06:50,790
have our operations team responsible for

00:06:49,080 --> 00:06:52,380
all the servers so of a server died the

00:06:50,790 --> 00:06:54,870
operations team was responsible for

00:06:52,380 --> 00:06:56,610
replacing it databases as well Cassandra

00:06:54,870 --> 00:06:58,290
my sequel zookeeper I think we had some

00:06:56,610 --> 00:06:59,880
memcache floating around as well they

00:06:58,290 --> 00:07:01,980
were responsible for all the

00:06:59,880 --> 00:07:04,530
configuration tuning everything with the

00:07:01,980 --> 00:07:05,640
databases load balancers Network all

00:07:04,530 --> 00:07:07,110
that kind of stuff you typically

00:07:05,640 --> 00:07:08,610
associate with an Operations

00:07:07,110 --> 00:07:10,710
responsibility

00:07:08,610 --> 00:07:13,020
next was a reliability team now this

00:07:10,710 --> 00:07:14,460
isn't a an SRE function I'll get to that

00:07:13,020 --> 00:07:16,370
later that's not how we were viewing

00:07:14,460 --> 00:07:18,690
this function at the company at the time

00:07:16,370 --> 00:07:20,430
this team was primarily focused on

00:07:18,690 --> 00:07:22,410
back-end services and the system

00:07:20,430 --> 00:07:24,540
reliability of those back-end services

00:07:22,410 --> 00:07:26,160
was super-important again pager duty

00:07:24,540 --> 00:07:27,090
this is something that we take for

00:07:26,160 --> 00:07:29,460
granted that I take for granted

00:07:27,090 --> 00:07:31,320
sometimes that my engineers care about

00:07:29,460 --> 00:07:33,450
reliability especially for our back-end

00:07:31,320 --> 00:07:34,860
systems then we had a product

00:07:33,450 --> 00:07:36,510
functionality so anything that you

00:07:34,860 --> 00:07:39,630
interacted with as a customer whether it

00:07:36,510 --> 00:07:41,310
was a website our API is anything on our

00:07:39,630 --> 00:07:43,740
mobile app anything that you that you

00:07:41,310 --> 00:07:45,390
touched or interfaced with that was run

00:07:43,740 --> 00:07:47,280
by this product or this product

00:07:45,390 --> 00:07:48,900
organization that we had and they were

00:07:47,280 --> 00:07:52,080
also responsible for front-end services

00:07:48,900 --> 00:07:53,910
and anything customer-facing now there

00:07:52,080 --> 00:07:55,320
are some problems with this and you'll

00:07:53,910 --> 00:07:57,840
probably figure out very quickly what

00:07:55,320 --> 00:07:59,550
word I don't like here but did we had a

00:07:57,840 --> 00:08:01,470
centralized Operations responsibility

00:07:59,550 --> 00:08:03,780
centralized reliability responsibility

00:08:01,470 --> 00:08:07,170
and centralized product responsibility

00:08:03,780 --> 00:08:08,520
and well there's books of bounds written

00:08:07,170 --> 00:08:10,290
on in businesses whether you should

00:08:08,520 --> 00:08:11,550
centralized or decentralized something

00:08:10,290 --> 00:08:13,830
and I don't want to get into that debate

00:08:11,550 --> 00:08:15,630
but for us at least at this point in

00:08:13,830 --> 00:08:17,880
time that the centralization was really

00:08:15,630 --> 00:08:21,330
holding us back from delivering quickly

00:08:17,880 --> 00:08:23,310
on and commenting on making our promises

00:08:21,330 --> 00:08:24,840
on what the business needed you know god

00:08:23,310 --> 00:08:27,000
help you if you want to create a new

00:08:24,840 --> 00:08:29,100
service that required a new database and

00:08:27,000 --> 00:08:31,440
some back-end logic and a dynamic web

00:08:29,100 --> 00:08:33,570
page it took you weeks weeks at minimum

00:08:31,440 --> 00:08:35,729
an organization well I'm already getting

00:08:33,570 --> 00:08:39,250
questions

00:08:35,729 --> 00:08:40,599
at this point we had about 70 people in

00:08:39,250 --> 00:08:44,560
our engineering organization good

00:08:40,599 --> 00:08:46,570
question so we were holding the business

00:08:44,560 --> 00:08:48,070
back by having all the centralization

00:08:46,570 --> 00:08:50,470
there's a lot of coordination that we

00:08:48,070 --> 00:08:52,839
had to do across our teams so that's

00:08:50,470 --> 00:08:55,210
when myself a handful of our engineers

00:08:52,839 --> 00:08:57,640
and our engineering managers decide to

00:08:55,210 --> 00:08:59,020
come up with a heist so what is what is

00:08:57,640 --> 00:09:00,490
the heist let's you know words are

00:08:59,020 --> 00:09:02,920
important lists so let's define it a

00:09:00,490 --> 00:09:04,480
heist is a crime in which valuable

00:09:02,920 --> 00:09:06,610
things are taken illegally and often

00:09:04,480 --> 00:09:08,410
violently from a person or people and

00:09:06,610 --> 00:09:10,360
this is terrifying so to be clear

00:09:08,410 --> 00:09:13,210
there's no violence at page duty at this

00:09:10,360 --> 00:09:14,710
time I did a little bit of more research

00:09:13,210 --> 00:09:17,350
that this was actually associated with

00:09:14,710 --> 00:09:19,810
when they would transport goods and the

00:09:17,350 --> 00:09:22,779
caravans back in the day with armored

00:09:19,810 --> 00:09:24,790
cars or sorry armored caravans and in

00:09:22,779 --> 00:09:26,410
armored guards and then thieves would

00:09:24,790 --> 00:09:28,000
come in knock someone over the head and

00:09:26,410 --> 00:09:29,890
steal all their their gold or jewelry

00:09:28,000 --> 00:09:31,570
that's not what happened here

00:09:29,890 --> 00:09:32,980
so there's no violence at pay Treaty we

00:09:31,570 --> 00:09:36,580
are not a violent company we don't try

00:09:32,980 --> 00:09:37,720
to be nor do we aspire to be so I you

00:09:36,580 --> 00:09:39,130
know I've tried to find another

00:09:37,720 --> 00:09:41,110
definition that I think was a little bit

00:09:39,130 --> 00:09:43,030
more appropriate for what I was

00:09:41,110 --> 00:09:45,370
positioning and proposing through to our

00:09:43,030 --> 00:09:46,630
engineers and so here's another one the

00:09:45,370 --> 00:09:47,860
act of selling something to someone

00:09:46,630 --> 00:09:51,670
without them knowing what they're going

00:09:47,860 --> 00:09:53,170
to pay for it also known as fraud so I I

00:09:51,670 --> 00:09:54,880
went with the word high scuzz I think

00:09:53,170 --> 00:09:56,230
it's a better title so really should

00:09:54,880 --> 00:09:58,030
have been the great pager duty devops

00:09:56,230 --> 00:09:59,320
fraud but I don't like to be associated

00:09:58,030 --> 00:10:02,230
with fraud I think heist is the funnier

00:09:59,320 --> 00:10:04,360
title so I apologize for incorrect title

00:10:02,230 --> 00:10:06,520
but it got you in here so it worked all

00:10:04,360 --> 00:10:08,470
right so the heist what we were worried

00:10:06,520 --> 00:10:10,330
selling to the teens what what was this

00:10:08,470 --> 00:10:12,970
what what was the goods that they were

00:10:10,330 --> 00:10:15,400
gonna receive well there are a couple of

00:10:12,970 --> 00:10:17,050
ideas that that I really wanted still on

00:10:15,400 --> 00:10:18,970
our teams the first was that our

00:10:17,050 --> 00:10:20,530
business success depends on innovation

00:10:18,970 --> 00:10:23,290
again we use the word innovation a lot

00:10:20,530 --> 00:10:24,940
in our industry many of your companies

00:10:23,290 --> 00:10:26,650
always are saying they want to innovate

00:10:24,940 --> 00:10:29,500
quickly and no one says they ever want

00:10:26,650 --> 00:10:30,790
to not innovate I also postulate that

00:10:29,500 --> 00:10:32,470
innovation depends on the rate of change

00:10:30,790 --> 00:10:34,870
the faster you change things the more

00:10:32,470 --> 00:10:36,070
you're going to innovate so the last bit

00:10:34,870 --> 00:10:38,680
here's what's important is that we were

00:10:36,070 --> 00:10:40,480
going to increase the rate of change by

00:10:38,680 --> 00:10:43,120
having engineers own more of the stack

00:10:40,480 --> 00:10:44,770
so that was the what I was selling to

00:10:43,120 --> 00:10:47,680
the teams that was really what I was

00:10:44,770 --> 00:10:49,389
proposing that we were going to adopt so

00:10:47,680 --> 00:10:50,739
that was January 2016

00:10:49,389 --> 00:10:53,829
let's fast forward a couple months to

00:10:50,739 --> 00:10:55,829
March 2016 so in two months we we made a

00:10:53,829 --> 00:10:58,989
bunch of changes to the organization and

00:10:55,829 --> 00:11:01,179
this is what we start to look like so on

00:10:58,989 --> 00:11:03,129
the left here we took that operations

00:11:01,179 --> 00:11:04,809
function and we folded a couple of other

00:11:03,129 --> 00:11:06,449
teams under there and we created what we

00:11:04,809 --> 00:11:09,670
call an infrastructure products

00:11:06,449 --> 00:11:11,739
organization things like SRE internal

00:11:09,670 --> 00:11:13,600
platform security these are the teams

00:11:11,739 --> 00:11:15,819
that were now responsible for providing

00:11:13,600 --> 00:11:18,279
products and services to the rest of the

00:11:15,819 --> 00:11:20,290
engineering organization what was

00:11:18,279 --> 00:11:22,299
interesting though was we've now made

00:11:20,290 --> 00:11:25,660
all of our what we will call our product

00:11:22,299 --> 00:11:27,009
teams basically equivalent they were now

00:11:25,660 --> 00:11:29,499
responsible for the servers for the

00:11:27,009 --> 00:11:31,209
databases meaning that if the server

00:11:29,499 --> 00:11:33,249
died of a disk went bad or something

00:11:31,209 --> 00:11:34,749
like that because AWS Google as your

00:11:33,249 --> 00:11:37,329
we'll take that instance from me whether

00:11:34,749 --> 00:11:39,249
you like it or not the product team

00:11:37,329 --> 00:11:40,509
alpha got paged not the operations team

00:11:39,249 --> 00:11:42,429
because that was gone not the aim not

00:11:40,509 --> 00:11:45,910
the SOE team that that was not the

00:11:42,429 --> 00:11:48,429
responsibility anymore this created more

00:11:45,910 --> 00:11:49,749
problems of course so these problems

00:11:48,429 --> 00:11:51,910
tended to be a little bit more human

00:11:49,749 --> 00:11:52,929
focus so first was people working with

00:11:51,910 --> 00:11:54,639
new people although said we had

00:11:52,929 --> 00:11:56,769
rearranged a bunch of our teams that

00:11:54,639 --> 00:11:58,480
have complementary skill sets and I got

00:11:56,769 --> 00:12:00,579
this question who was that guy who's

00:11:58,480 --> 00:12:01,889
that guy what what are they doing on my

00:12:00,579 --> 00:12:04,720
team why are they sitting next to me I

00:12:01,889 --> 00:12:07,569
don't like their deodorant talk to them

00:12:04,720 --> 00:12:10,419
about it what is this what is this

00:12:07,569 --> 00:12:12,819
technology we had hired a bunch of teams

00:12:10,419 --> 00:12:14,709
that were focused primarily on back-end

00:12:12,819 --> 00:12:15,939
services and now we were saying hey we

00:12:14,709 --> 00:12:17,259
kind of want you to own the full stack

00:12:15,939 --> 00:12:20,230
now so you're gonna have to write some

00:12:17,259 --> 00:12:21,850
JavaScript a team that was focused

00:12:20,230 --> 00:12:24,429
primarily on front-end you're gonna have

00:12:21,850 --> 00:12:28,269
to write a little bit of Scala now so

00:12:24,429 --> 00:12:29,799
there was a lot of stress with that came

00:12:28,269 --> 00:12:31,449
with that because all of a sudden we had

00:12:29,799 --> 00:12:34,569
hired engineers and said yeah just

00:12:31,449 --> 00:12:36,790
kidding so lots of changes lots of

00:12:34,569 --> 00:12:38,949
changes going on but to me there's

00:12:36,790 --> 00:12:41,589
really one thing that that changed so

00:12:38,949 --> 00:12:43,720
you know what is it that changed the job

00:12:41,589 --> 00:12:45,610
changed you know as an engineer at Pedro

00:12:43,720 --> 00:12:47,410
Duty the job had changed from being a

00:12:45,610 --> 00:12:49,179
very specialized skill set to kind more

00:12:47,410 --> 00:12:52,209
that full stack whatever you want to

00:12:49,179 --> 00:12:54,429
call it engineer and for previous

00:12:52,209 --> 00:12:55,720
development focus folks they now own the

00:12:54,429 --> 00:12:57,220
entire vertical set these are some

00:12:55,720 --> 00:12:58,990
individuals that never written a sequel

00:12:57,220 --> 00:12:59,889
query they were now responsible for

00:12:58,990 --> 00:13:01,720
administering some of their own

00:12:59,889 --> 00:13:02,830
databases these are folks that had no

00:13:01,720 --> 00:13:04,900
idea what a Lua

00:13:02,830 --> 00:13:07,840
is that now had to think about what does

00:13:04,900 --> 00:13:09,850
a load bouncer do we really adopted this

00:13:07,840 --> 00:13:11,920
mantra of coated shipit' ona we heard

00:13:09,850 --> 00:13:13,600
this yesterday and want the key notes of

00:13:11,920 --> 00:13:15,700
you build it you run it again Verner

00:13:13,600 --> 00:13:17,890
will go for her vocals and can't

00:13:15,700 --> 00:13:20,680
pronounce his name the CTO at Amazon

00:13:17,890 --> 00:13:21,670
talked about this years ago now also

00:13:20,680 --> 00:13:23,800
interesting for folks that were

00:13:21,670 --> 00:13:25,750
previously more operations focused they

00:13:23,800 --> 00:13:28,720
now have to empower others to do their

00:13:25,750 --> 00:13:30,190
previous jobs effectively and think

00:13:28,720 --> 00:13:31,630
about that for a second you have these

00:13:30,190 --> 00:13:33,310
operations professionals have been doing

00:13:31,630 --> 00:13:35,410
this for decades that you know

00:13:33,310 --> 00:13:37,450
understand kernel performance tuning

00:13:35,410 --> 00:13:39,370
like none other and you're telling them

00:13:37,450 --> 00:13:40,960
hey you need to help someone else do

00:13:39,370 --> 00:13:43,810
your job just as effectively and by the

00:13:40,960 --> 00:13:45,850
way you have a couple days decades of

00:13:43,810 --> 00:13:48,160
experience figure out how to distill

00:13:45,850 --> 00:13:51,400
that into a couple days ok fine maybe a

00:13:48,160 --> 00:13:53,290
week and that was it and they were also

00:13:51,400 --> 00:13:55,930
tasked with making the right thing the

00:13:53,290 --> 00:13:58,450
easy thing and this is hard this is

00:13:55,930 --> 00:14:01,810
really really hard and I heard this a

00:13:58,450 --> 00:14:04,300
lot I need to do what now wait what is

00:14:01,810 --> 00:14:07,930
wait why'd you change my job how how

00:14:04,300 --> 00:14:11,320
dare you and with any kind of change

00:14:07,930 --> 00:14:13,540
comes a lot of anxiety and and that is

00:14:11,320 --> 00:14:16,150
something that I think goes very

00:14:13,540 --> 00:14:18,370
unnoticed and especially as leaders when

00:14:16,150 --> 00:14:19,780
we introduce changes into organizations

00:14:18,370 --> 00:14:21,910
I don't think we actually pay enough

00:14:19,780 --> 00:14:23,080
attention to that the amount of anxiety

00:14:21,910 --> 00:14:24,880
the amount of stress the amount of

00:14:23,080 --> 00:14:26,740
strain that we're putting on our

00:14:24,880 --> 00:14:29,710
engineers when we talk about these

00:14:26,740 --> 00:14:31,810
changes or proposed these changes so to

00:14:29,710 --> 00:14:34,180
help kind of combat and reduce that

00:14:31,810 --> 00:14:35,920
anxiety we did introduce some tooling

00:14:34,180 --> 00:14:37,960
and we adopted this philosophy of

00:14:35,920 --> 00:14:40,240
self-service tooling with the idea that

00:14:37,960 --> 00:14:42,400
we wanted individual engineers and

00:14:40,240 --> 00:14:45,280
individual teams to be able to do as

00:14:42,400 --> 00:14:46,840
much as they could on their own and this

00:14:45,280 --> 00:14:48,100
this was an attempt we didn't know that

00:14:46,840 --> 00:14:51,160
this was going to work at the time this

00:14:48,100 --> 00:14:52,840
is a belief that I had but and here's

00:14:51,160 --> 00:14:54,700
what we built and some of this wasn't

00:14:52,840 --> 00:14:57,430
all built internally we used vendors

00:14:54,700 --> 00:14:58,960
where was appropriate the first thing we

00:14:57,430 --> 00:15:01,090
did was make server provisioning

00:14:58,960 --> 00:15:02,860
completely self-service so what used to

00:15:01,090 --> 00:15:06,160
be something where you have to file a

00:15:02,860 --> 00:15:08,800
ticket go bribe an engineer you know

00:15:06,160 --> 00:15:11,200
tame the ops dragon what have you all of

00:15:08,800 --> 00:15:13,660
a sudden became a chatbot we gave

00:15:11,200 --> 00:15:16,690
engineers access to the AWS console

00:15:13,660 --> 00:15:18,250
where they needed it and we said hey

00:15:16,690 --> 00:15:19,870
if you wanna provision and decommission

00:15:18,250 --> 00:15:21,640
your own servers here you go because

00:15:19,870 --> 00:15:23,290
guess what you're on call for it so you

00:15:21,640 --> 00:15:25,840
need that ability to do your job

00:15:23,290 --> 00:15:27,310
effectively we also focus on self

00:15:25,840 --> 00:15:29,290
service metrics and telemetry and

00:15:27,310 --> 00:15:31,390
alerting so we use data dog New Relic

00:15:29,290 --> 00:15:33,430
and Splunk very heavily internally at

00:15:31,390 --> 00:15:35,800
pager duty and we used to have a bunch

00:15:33,430 --> 00:15:37,150
of gates in place for engineers they

00:15:35,800 --> 00:15:38,530
either had to file tickets with the

00:15:37,150 --> 00:15:41,080
appropriate team because the alert might

00:15:38,530 --> 00:15:43,180
not get set up correctly and instead we

00:15:41,080 --> 00:15:46,840
opened it up we said hey engineering

00:15:43,180 --> 00:15:48,300
teams go nuts and we I kind of stood on

00:15:46,840 --> 00:15:51,010
the sidelines to see what would happen

00:15:48,300 --> 00:15:53,830
self service deployment we adopted this

00:15:51,010 --> 00:15:55,930
philosophy of merge to production so

00:15:53,830 --> 00:15:58,210
what that meant was if you hit the green

00:15:55,930 --> 00:15:59,890
button in github that says merge that

00:15:58,210 --> 00:16:01,870
would end up in production within ten

00:15:59,890 --> 00:16:04,240
minutes that was that was the philosophy

00:16:01,870 --> 00:16:05,980
that we had taken on as an engineering

00:16:04,240 --> 00:16:08,290
organization that we want to make it as

00:16:05,980 --> 00:16:11,800
easy as possible for any engineer to

00:16:08,290 --> 00:16:13,150
deploy any code base we also focus on

00:16:11,800 --> 00:16:15,460
creating common infrastructure

00:16:13,150 --> 00:16:17,530
components so an example of this was one

00:16:15,460 --> 00:16:19,330
of our internal platform team they focus

00:16:17,530 --> 00:16:21,160
on setting up an internal Kafka cluster

00:16:19,330 --> 00:16:24,010
to make it easy to share data between

00:16:21,160 --> 00:16:25,960
services we set up console internally

00:16:24,010 --> 00:16:28,600
where is easy to do service discovery

00:16:25,960 --> 00:16:30,040
and we focus quite a bit on figuring out

00:16:28,600 --> 00:16:31,810
where did it make sense to add a little

00:16:30,040 --> 00:16:33,910
bit more centralization back into the

00:16:31,810 --> 00:16:35,980
process it doesn't make sense to have

00:16:33,910 --> 00:16:38,050
multiple service discovery clusters that

00:16:35,980 --> 00:16:40,210
that is a recipe for disaster

00:16:38,050 --> 00:16:41,860
and where we couldn't we use

00:16:40,210 --> 00:16:43,960
documentation where we couldn't automate

00:16:41,860 --> 00:16:45,850
or build software or buy something we

00:16:43,960 --> 00:16:48,130
use documentation we we invested heavily

00:16:45,850 --> 00:16:51,010
in making sure that things were

00:16:48,130 --> 00:16:53,740
documented we actually had internal

00:16:51,010 --> 00:16:55,510
experts at our company who who were

00:16:53,740 --> 00:16:56,770
really good at documentation teach

00:16:55,510 --> 00:17:00,040
others how to document things

00:16:56,770 --> 00:17:02,410
appropriately to help out so I started

00:17:00,040 --> 00:17:06,579
hearing this a little bit more okay I

00:17:02,410 --> 00:17:08,740
think I can handle that I want to pause

00:17:06,579 --> 00:17:10,959
here for a second to talk a little bit

00:17:08,740 --> 00:17:12,850
about people over tooling you know the

00:17:10,959 --> 00:17:16,180
agile manifesto talks up talks about

00:17:12,850 --> 00:17:19,030
this quite a bit but you know I do think

00:17:16,180 --> 00:17:21,189
as an industry we we often talk too much

00:17:19,030 --> 00:17:23,650
about tooling and and we focus on the

00:17:21,189 --> 00:17:26,140
tooling and so the people and you know I

00:17:23,650 --> 00:17:27,400
want to remind everyone that tools don't

00:17:26,140 --> 00:17:29,080
make up your company unless you work

00:17:27,400 --> 00:17:30,010
with a bunch of jerks which I hope you

00:17:29,080 --> 00:17:32,140
don't it's

00:17:30,010 --> 00:17:33,780
people that make up the organizations

00:17:32,140 --> 00:17:36,040
and the companies that we work at and

00:17:33,780 --> 00:17:38,530
you know I kind of think about you know

00:17:36,040 --> 00:17:40,240
why do why do we talk about tooling so

00:17:38,530 --> 00:17:42,280
much well it's because we're engineers

00:17:40,240 --> 00:17:44,530
right when we see a problem as an

00:17:42,280 --> 00:17:46,240
engineer we have this amazing superpower

00:17:44,530 --> 00:17:48,130
to reimagine the world around us by

00:17:46,240 --> 00:17:50,470
building something and that's awesome

00:17:48,130 --> 00:17:52,510
that is amazing and it's something that

00:17:50,470 --> 00:17:55,600
makes our industry so wonderful to be a

00:17:52,510 --> 00:17:58,450
part of but that is an incredible

00:17:55,600 --> 00:18:00,790
dangerous bias that we have I've made

00:17:58,450 --> 00:18:02,950
this mistake myself as an engineer where

00:18:00,790 --> 00:18:04,870
I see a problem and instead of thinking

00:18:02,950 --> 00:18:06,460
about if it's a people issue or even a

00:18:04,870 --> 00:18:08,410
process issue I immediately a bias

00:18:06,460 --> 00:18:10,000
towards building something to solve it

00:18:08,410 --> 00:18:11,050
and I'm not saying that you shouldn't

00:18:10,000 --> 00:18:12,520
build things to solve some these

00:18:11,050 --> 00:18:15,250
problems sometimes that is the right

00:18:12,520 --> 00:18:17,290
thing but just be aware and cognizant of

00:18:15,250 --> 00:18:19,210
that bias that we all have that our

00:18:17,290 --> 00:18:22,030
first reaction to a problem is always to

00:18:19,210 --> 00:18:24,490
build something I heard this a little

00:18:22,030 --> 00:18:28,600
bit some of our engineers did quit not

00:18:24,490 --> 00:18:30,400
immediately but they did and to me this

00:18:28,600 --> 00:18:33,610
is this is always the hard part of

00:18:30,400 --> 00:18:36,610
leadership you know some changes aren't

00:18:33,610 --> 00:18:37,780
for everyone and and I never pretended

00:18:36,610 --> 00:18:39,790
as we were going through these changes

00:18:37,780 --> 00:18:40,660
ourselves that everyone was going to be

00:18:39,790 --> 00:18:42,940
happy with it

00:18:40,660 --> 00:18:45,130
some people that thrived in the old ways

00:18:42,940 --> 00:18:47,470
will struggle in the new ways and that's

00:18:45,130 --> 00:18:49,420
frustrating and it's and you know as

00:18:47,470 --> 00:18:51,010
leaders we want what's best for all of

00:18:49,420 --> 00:18:52,600
our individuals but we can't we

00:18:51,010 --> 00:18:54,820
unfortunately won't be able to cater to

00:18:52,600 --> 00:18:56,530
every single one of them and one thing

00:18:54,820 --> 00:18:58,210
that I always try to remind leaders is

00:18:56,530 --> 00:18:59,890
that look when you have individuals that

00:18:58,210 --> 00:19:01,540
are struggling in these environments as

00:18:59,890 --> 00:19:03,850
a result of these changes they're not

00:19:01,540 --> 00:19:05,530
trying to be jerks very rarely is that

00:19:03,850 --> 00:19:07,150
actually the case they're not trying to

00:19:05,530 --> 00:19:09,130
be toxic they're not purposely trying to

00:19:07,150 --> 00:19:11,080
get in the way they're just expressing

00:19:09,130 --> 00:19:13,210
their frustration and anxiety what about

00:19:11,080 --> 00:19:15,100
all these changes again going back to

00:19:13,210 --> 00:19:16,240
what I said earlier I had asked some of

00:19:15,100 --> 00:19:18,190
our engineers who had decades of

00:19:16,240 --> 00:19:19,420
experience to take all experience and

00:19:18,190 --> 00:19:22,270
transfer to someone in less than a week

00:19:19,420 --> 00:19:24,520
and that is hard that's not easy and it

00:19:22,270 --> 00:19:27,300
undermines a lot of our identities and

00:19:24,520 --> 00:19:30,220
exposes a lot of our insecurities and

00:19:27,300 --> 00:19:31,630
like the hard well the hard part here is

00:19:30,220 --> 00:19:32,950
the last bullet point here is anytime

00:19:31,630 --> 00:19:36,010
you go through these kinds of changes

00:19:32,950 --> 00:19:37,780
expect attrition expect that it's not

00:19:36,010 --> 00:19:39,610
going to be for everyone for us it was

00:19:37,780 --> 00:19:42,370
about five six percent of our engineers

00:19:39,610 --> 00:19:43,600
it wasn't for them anymore I've been in

00:19:42,370 --> 00:19:43,900
organizations where it gets as high

00:19:43,600 --> 00:19:46,330
school

00:19:43,900 --> 00:19:47,980
percent and that's hard that is really

00:19:46,330 --> 00:19:51,400
hard and this is where most leaders get

00:19:47,980 --> 00:19:53,110
stuck and I always remind managers my

00:19:51,400 --> 00:19:55,090
managers in particular that introducing

00:19:53,110 --> 00:19:57,280
change is hard but managing through that

00:19:55,090 --> 00:19:59,170
change is even harder because it's one

00:19:57,280 --> 00:20:01,030
thing to draft up an email to post a

00:19:59,170 --> 00:20:03,070
slack message and say hey here's how

00:20:01,030 --> 00:20:04,150
here's how what we're gonna work here's

00:20:03,070 --> 00:20:06,280
how we're gonna work now here's how

00:20:04,150 --> 00:20:08,680
things are gonna be different now but

00:20:06,280 --> 00:20:10,510
six months later to remind people about

00:20:08,680 --> 00:20:13,120
that and constantly remember and focus

00:20:10,510 --> 00:20:15,190
that to have that conviction that that

00:20:13,120 --> 00:20:19,630
was the right thing that's really really

00:20:15,190 --> 00:20:21,730
hard it's even harder to do all right so

00:20:19,630 --> 00:20:26,650
I've been painting a pretty dooming

00:20:21,730 --> 00:20:29,830
gloom a couple slides where we now it's

00:20:26,650 --> 00:20:31,750
November 2017 you know we're a DevOps

00:20:29,830 --> 00:20:34,770
saves tel aviv sharing a lot of our

00:20:31,750 --> 00:20:37,240
learnings how did we do as pager duty

00:20:34,770 --> 00:20:40,120
well despite my best efforts we are

00:20:37,240 --> 00:20:41,740
still in business somehow and you know I

00:20:40,120 --> 00:20:43,810
always I'm always bias towards looking

00:20:41,740 --> 00:20:45,580
towards metrics and data to answer the

00:20:43,810 --> 00:20:47,230
question you know what did progress look

00:20:45,580 --> 00:20:49,210
like and you know another disclaimer

00:20:47,230 --> 00:20:50,980
here I did not have all these metrics at

00:20:49,210 --> 00:20:52,540
the beginning so I wasn't able to watch

00:20:50,980 --> 00:20:54,490
all these as we were going through all

00:20:52,540 --> 00:20:55,840
these changes but some of them I

00:20:54,490 --> 00:20:57,850
discovered throughout the year some of

00:20:55,840 --> 00:21:00,340
them I discovered probably towards

00:20:57,850 --> 00:21:01,960
November December last year and got some

00:21:00,340 --> 00:21:04,600
validation afterwards so what did

00:21:01,960 --> 00:21:05,680
progress look like so the first set of

00:21:04,600 --> 00:21:07,810
metrics who looked at where our github

00:21:05,680 --> 00:21:09,340
metrics so each of you probably have

00:21:07,810 --> 00:21:11,350
some sort of version control system

00:21:09,340 --> 00:21:13,240
there's probably an API there and

00:21:11,350 --> 00:21:15,040
there's some really interesting metrics

00:21:13,240 --> 00:21:17,410
in there so I have two of them here the

00:21:15,040 --> 00:21:19,420
bars represent the number of pull

00:21:17,410 --> 00:21:22,120
requests close on a monthly basis sorry

00:21:19,420 --> 00:21:23,920
on a quarterly basis and the line

00:21:22,120 --> 00:21:25,540
represents the median pull request

00:21:23,920 --> 00:21:27,880
duration so I'll dig a little bit deeper

00:21:25,540 --> 00:21:29,470
and what this means so you can see that

00:21:27,880 --> 00:21:31,690
there's a kind of a gradual up into the

00:21:29,470 --> 00:21:32,980
right which is good we were making

00:21:31,690 --> 00:21:35,320
changes in production about a thousand

00:21:32,980 --> 00:21:38,800
times a month towards the towards the

00:21:35,320 --> 00:21:40,900
end of the year and the the line here

00:21:38,800 --> 00:21:45,550
you'll see has just this complete

00:21:40,900 --> 00:21:48,880
drop-off it goes from just over 24 hours

00:21:45,550 --> 00:21:50,950
to just under 9 hours over the course of

00:21:48,880 --> 00:21:53,080
a couple months so what was happening

00:21:50,950 --> 00:21:54,010
here so I kind of spot-checked of you

00:21:53,080 --> 00:21:57,460
know trying to understand what was going

00:21:54,010 --> 00:21:59,710
on and really what I discovered was all

00:21:57,460 --> 00:22:01,450
sudden engineers needed less than a day

00:21:59,710 --> 00:22:03,010
now to get something into production so

00:22:01,450 --> 00:22:05,230
the typical workload that we used to

00:22:03,010 --> 00:22:07,000
have was where engineer comes in in the

00:22:05,230 --> 00:22:10,090
morning they write up some code they

00:22:07,000 --> 00:22:11,740
queue up some change and by noon say one

00:22:10,090 --> 00:22:13,960
at 1:00 p.m. in the afternoon after

00:22:11,740 --> 00:22:15,460
lunch it's ready but they now had to go

00:22:13,960 --> 00:22:17,140
talk to another engineering team that

00:22:15,460 --> 00:22:19,330
they were coupled to to get that change

00:22:17,140 --> 00:22:20,679
into production so they go do that they

00:22:19,330 --> 00:22:23,440
would go talk to the engineering team

00:22:20,679 --> 00:22:25,480
and they would ask them hey you know hey

00:22:23,440 --> 00:22:28,510
dependency team can you can you help me

00:22:25,480 --> 00:22:29,590
get this out by the end of the day but

00:22:28,510 --> 00:22:31,299
of course that other teams are working

00:22:29,590 --> 00:22:33,370
on something as well so the other team

00:22:31,299 --> 00:22:34,779
cues it up chances are they didn't get

00:22:33,370 --> 00:22:36,610
to it that day they get to it the

00:22:34,779 --> 00:22:39,039
following morning and that code gets

00:22:36,610 --> 00:22:42,279
into production following day around

00:22:39,039 --> 00:22:43,779
noon again about 24 hours after we had

00:22:42,279 --> 00:22:45,340
made these changes where we had more

00:22:43,779 --> 00:22:46,360
complementary skill sets on the teams

00:22:45,340 --> 00:22:48,909
and there was a little bit less

00:22:46,360 --> 00:22:50,669
decoupling all of a sudden the reviews

00:22:48,909 --> 00:22:52,899
are happening locally to the team and

00:22:50,669 --> 00:22:55,510
because teens were working on these

00:22:52,899 --> 00:22:57,429
features entirely within themselves

00:22:55,510 --> 00:22:59,200
people had context about the changes

00:22:57,429 --> 00:23:00,760
that were going on so the new workflow

00:22:59,200 --> 00:23:03,520
was coming in the morning your coffee

00:23:00,760 --> 00:23:05,020
make some changes by noon you're ready

00:23:03,520 --> 00:23:07,659
to deploy to production you nudge the

00:23:05,020 --> 00:23:09,669
person next to you or you posting your

00:23:07,659 --> 00:23:12,340
team channel saying hey can someone give

00:23:09,669 --> 00:23:14,200
this a review or +1 they get it within a

00:23:12,340 --> 00:23:16,419
few minutes because that engineer has

00:23:14,200 --> 00:23:18,159
the full context of what's going on and

00:23:16,419 --> 00:23:20,590
then that goes into production within

00:23:18,159 --> 00:23:22,480
minutes again less than a day and we've

00:23:20,590 --> 00:23:24,370
consistently stayed less than 8 hours

00:23:22,480 --> 00:23:25,779
for our medium pull request time and

00:23:24,370 --> 00:23:27,700
again this isn't the end-all be-all

00:23:25,779 --> 00:23:28,960
metric but this was a proxy we used to

00:23:27,700 --> 00:23:32,140
figure out whether our velocity was

00:23:28,960 --> 00:23:34,299
increasing or not another really

00:23:32,140 --> 00:23:36,010
interesting codebase that we looked at

00:23:34,299 --> 00:23:38,620
was what we call our chef repo and I

00:23:36,010 --> 00:23:40,029
imagine many of you have probably a repo

00:23:38,620 --> 00:23:41,980
or code-based like this where all of

00:23:40,029 --> 00:23:43,960
your infrastructure code logic lives for

00:23:41,980 --> 00:23:46,149
us it we use chef so all of our all of

00:23:43,960 --> 00:23:49,720
our logic lives in in this single repo

00:23:46,149 --> 00:23:52,120
and we decided that hey if we want teams

00:23:49,720 --> 00:23:53,470
to own more of their code and own their

00:23:52,120 --> 00:23:55,659
servers and all these kinds of changes

00:23:53,470 --> 00:23:58,090
we need to open up that repo and so this

00:23:55,659 --> 00:23:59,799
is a graph of how many and unique

00:23:58,090 --> 00:24:02,860
engineers we're deploying on a monthly

00:23:59,799 --> 00:24:05,080
basis to our chef repo and it basically

00:24:02,860 --> 00:24:07,120
doubled even though the engineering

00:24:05,080 --> 00:24:09,399
organization only grew from about 80 to

00:24:07,120 --> 00:24:11,230
100 people at this time span we went

00:24:09,399 --> 00:24:13,390
from about 35 to 75

00:24:11,230 --> 00:24:15,669
people regularly committing code to that

00:24:13,390 --> 00:24:17,950
codebase and so I encourage each of you

00:24:15,669 --> 00:24:19,900
if you do have one of these code bases

00:24:17,950 --> 00:24:22,330
that is kind of under lock and key by a

00:24:19,900 --> 00:24:24,400
group of individuals see what happens

00:24:22,330 --> 00:24:26,020
when you open it up again it's it's it

00:24:24,400 --> 00:24:28,299
was really interesting to see how all we

00:24:26,020 --> 00:24:30,220
did was hey anyone who needs to commit

00:24:28,299 --> 00:24:31,679
code to this codebase go nuts and this

00:24:30,220 --> 00:24:34,090
is what happened

00:24:31,679 --> 00:24:37,030
another interesting metric was our

00:24:34,090 --> 00:24:39,190
Patriot ryx how many things were rebrand

00:24:37,030 --> 00:24:40,390
I I will readily admit we actually did

00:24:39,190 --> 00:24:41,590
have an increase in the number of

00:24:40,390 --> 00:24:43,770
incidents you can see that there's a

00:24:41,590 --> 00:24:47,230
kind of a slow up into the right trend

00:24:43,770 --> 00:24:49,270
here and of course my boss was not too

00:24:47,230 --> 00:24:51,220
happy about this but when we normalized

00:24:49,270 --> 00:24:52,900
this against the the number of changes

00:24:51,220 --> 00:24:55,090
we are making it ended up actually

00:24:52,900 --> 00:24:56,919
staying flat over time so on a per

00:24:55,090 --> 00:24:58,780
change basis that we are making a

00:24:56,919 --> 00:25:00,100
production we're breaking about the same

00:24:58,780 --> 00:25:01,960
amount of things I would have loved to

00:25:00,100 --> 00:25:03,429
have seen this go down over time

00:25:01,960 --> 00:25:05,320
normalized against the number of changes

00:25:03,429 --> 00:25:08,169
but but that was somewhere we were not

00:25:05,320 --> 00:25:09,820
successful and the one other good thing

00:25:08,169 --> 00:25:11,500
that did happen here at least our time

00:25:09,820 --> 00:25:13,059
to resolution was going down so even

00:25:11,500 --> 00:25:15,220
though we were breaking things more

00:25:13,059 --> 00:25:17,919
often it was much smaller in scope and

00:25:15,220 --> 00:25:19,419
the blast radius was a lot smaller if

00:25:17,919 --> 00:25:22,059
you're wondering what that on the left

00:25:19,419 --> 00:25:26,110
the giant spike is this is what happens

00:25:22,059 --> 00:25:28,900
when data dog decides to treat no

00:25:26,110 --> 00:25:30,549
metrics as an alert and when your

00:25:28,900 --> 00:25:33,610
automation decides that you should get

00:25:30,549 --> 00:25:35,950
alerted whenever there's no data in your

00:25:33,610 --> 00:25:37,690
alerts all of your engineers get paged

00:25:35,950 --> 00:25:39,220
for every single alerts so this is what

00:25:37,690 --> 00:25:42,010
happens when your automation runs a

00:25:39,220 --> 00:25:44,679
little bit of muck that was a that was a

00:25:42,010 --> 00:25:47,950
fun fun night turning off thousands of

00:25:44,679 --> 00:25:49,870
alerts and then lastly our our business

00:25:47,950 --> 00:25:51,910
metrics so this is a graph of the number

00:25:49,870 --> 00:25:53,200
of incidents created within pedra d

00:25:51,910 --> 00:25:55,990
across all of our customers on a per

00:25:53,200 --> 00:25:57,429
monthly basis I had to stress strike out

00:25:55,990 --> 00:25:58,679
the units but if you get me drunk I

00:25:57,429 --> 00:26:01,030
won't tell you what they are

00:25:58,679 --> 00:26:02,590
but it sits up in to the right that's

00:26:01,030 --> 00:26:04,330
that's the main thing here that the

00:26:02,590 --> 00:26:06,070
business kept running and moving along

00:26:04,330 --> 00:26:08,890
even as we were making all these changes

00:26:06,070 --> 00:26:10,150
throughout 2016 this was actually a

00:26:08,890 --> 00:26:11,559
metric we were still looking at like are

00:26:10,150 --> 00:26:13,120
we pissing off our customers to the

00:26:11,559 --> 00:26:13,840
point where they're not using the

00:26:13,120 --> 00:26:16,380
product anymore

00:26:13,840 --> 00:26:18,970
and thankfully that that didn't happen

00:26:16,380 --> 00:26:20,710
another interesting couple of data

00:26:18,970 --> 00:26:23,169
points I had was just anecdotes and

00:26:20,710 --> 00:26:24,820
while I'm always a fan of data and you

00:26:23,169 --> 00:26:27,430
know I trust data

00:26:24,820 --> 00:26:29,170
pinyons anecdotes are important because

00:26:27,430 --> 00:26:31,270
they can tell a really powerful story a

00:26:29,170 --> 00:26:32,680
couple of my favorite stories one was we

00:26:31,270 --> 00:26:34,240
had an intern who had only been at the

00:26:32,680 --> 00:26:36,370
company two months replace our entire

00:26:34,240 --> 00:26:38,830
caf-co cluster and none of our customers

00:26:36,370 --> 00:26:42,580
noticed no alerts no outage no downtime

00:26:38,830 --> 00:26:45,910
nothing we have engineers practicing my

00:26:42,580 --> 00:26:48,610
sequel recovery for fun like serious

00:26:45,910 --> 00:26:50,740
they spin up a couple of VMs they set up

00:26:48,610 --> 00:26:52,930
replication they break it and they

00:26:50,740 --> 00:26:55,360
practice recovering from a delayed slave

00:26:52,930 --> 00:26:57,340
locally another really interesting data

00:26:55,360 --> 00:26:58,990
point was I had a team that wanted to

00:26:57,340 --> 00:27:00,640
build out code coverage metrics

00:26:58,990 --> 00:27:02,290
completely unsolicited this wasn't a

00:27:00,640 --> 00:27:04,330
top-down thing or anything they just

00:27:02,290 --> 00:27:06,160
decided hey we should understand what

00:27:04,330 --> 00:27:07,870
our code coverage looks like and we

00:27:06,160 --> 00:27:09,610
don't have a centralized QA team or

00:27:07,870 --> 00:27:11,320
anyone barking orders at them to care

00:27:09,610 --> 00:27:13,540
about code coverage they just decided to

00:27:11,320 --> 00:27:15,550
care about this on their own so going

00:27:13,540 --> 00:27:17,380
back to the heist you know kind of going

00:27:15,550 --> 00:27:19,120
back to revisiting you know what were we

00:27:17,380 --> 00:27:21,010
selling to the teams what did we what we

00:27:19,120 --> 00:27:22,720
sold them again we will increase the

00:27:21,010 --> 00:27:24,370
rate of change by having engineers own

00:27:22,720 --> 00:27:25,780
more of the stack and as we showed

00:27:24,370 --> 00:27:27,190
earlier we did increase the rate of

00:27:25,780 --> 00:27:29,260
change I'd like to think we increased

00:27:27,190 --> 00:27:31,300
the rate of innovation and we and our

00:27:29,260 --> 00:27:32,920
and our the rest of our business was

00:27:31,300 --> 00:27:36,070
much happier with our rate of delivery

00:27:32,920 --> 00:27:38,800
but what did it cost them all engineers

00:27:36,070 --> 00:27:41,500
have to go on call we had the the

00:27:38,800 --> 00:27:44,470
drumbeat the mantra of coded ship it

00:27:41,500 --> 00:27:46,240
owned it and people left again that last

00:27:44,470 --> 00:27:48,070
part is the hard one this is the cost

00:27:46,240 --> 00:27:49,630
that a lot of organizations don't think

00:27:48,070 --> 00:27:52,480
about when they introduced these kinds

00:27:49,630 --> 00:27:55,660
of changes so you know on reflection did

00:27:52,480 --> 00:27:58,780
we get it completely right no absolutely

00:27:55,660 --> 00:28:01,270
not I screwed up and up so many

00:27:58,780 --> 00:28:03,880
things throughout the entire year and I

00:28:01,270 --> 00:28:05,950
don't pretend for a second that this was

00:28:03,880 --> 00:28:08,530
the recipe for success for us or for

00:28:05,950 --> 00:28:10,240
anyone else for that matter but you know

00:28:08,530 --> 00:28:12,250
when I do reflect and think about at

00:28:10,240 --> 00:28:13,930
least my one biggest mistake was under

00:28:12,250 --> 00:28:15,640
estimating the amount of cross-training

00:28:13,930 --> 00:28:17,350
that we need to be doing as we were

00:28:15,640 --> 00:28:19,690
introducing these changes I hinted at it

00:28:17,350 --> 00:28:21,700
earlier but that was something that was

00:28:19,690 --> 00:28:23,920
a big mistake of ours where we only gave

00:28:21,700 --> 00:28:24,760
teams days or weeks to do some of that

00:28:23,920 --> 00:28:26,590
cross-training

00:28:24,760 --> 00:28:28,330
and that frustrated a lot of our

00:28:26,590 --> 00:28:30,730
engineers specifically around our

00:28:28,330 --> 00:28:32,740
databases and our data stores that

00:28:30,730 --> 00:28:34,150
caused the most amount of anxiety for

00:28:32,740 --> 00:28:35,950
our teens when they were owning them now

00:28:34,150 --> 00:28:38,470
so we've gotten better at this we

00:28:35,950 --> 00:28:39,100
actually hired a dedicated datastore

00:28:38,470 --> 00:28:40,990
engineer that

00:28:39,100 --> 00:28:42,520
he actually spends about half his time

00:28:40,990 --> 00:28:44,410
training and teaching other people in

00:28:42,520 --> 00:28:47,590
giving workshops but that was something

00:28:44,410 --> 00:28:49,480
we learned probably October of last year

00:28:47,590 --> 00:28:50,620
about six months into these changes

00:28:49,480 --> 00:28:53,140
after a lot of our engineers were

00:28:50,620 --> 00:28:56,140
complaining about it my biggest surprise

00:28:53,140 --> 00:28:57,850
though where I was very happy was the

00:28:56,140 --> 00:28:59,799
willingness of all of our engineers to

00:28:57,850 --> 00:29:01,390
at least give this a shot and so while

00:28:59,799 --> 00:29:02,919
some of our engineers did quit some of

00:29:01,390 --> 00:29:04,780
them did say this wasn't for them they

00:29:02,919 --> 00:29:07,330
all gave it a shot they actually gave it

00:29:04,780 --> 00:29:09,039
about four four to five months before

00:29:07,330 --> 00:29:10,690
they decided this wasn't for them and

00:29:09,039 --> 00:29:12,220
that was really surprising I actually

00:29:10,690 --> 00:29:13,809
thought more of them would have just

00:29:12,220 --> 00:29:16,570
said screw this place it's not for me

00:29:13,809 --> 00:29:17,950
anymore I'm out immediately but they

00:29:16,570 --> 00:29:20,980
were willing to give it a shot which

00:29:17,950 --> 00:29:22,570
made me really happy and you know when I

00:29:20,980 --> 00:29:24,100
think about what made it work

00:29:22,570 --> 00:29:25,570
kai at the end the day and we did

00:29:24,100 --> 00:29:27,669
realize the business results that we

00:29:25,570 --> 00:29:29,890
wanted at the end by the end of the year

00:29:27,669 --> 00:29:32,830
I think what made it work was conviction

00:29:29,890 --> 00:29:34,750
not just from myself and other leaders

00:29:32,830 --> 00:29:36,669
throughout the organization but even

00:29:34,750 --> 00:29:38,409
from our engineers they had conviction

00:29:36,669 --> 00:29:40,360
that yes this was the way that we want

00:29:38,409 --> 00:29:42,039
to try working and we're not sure if

00:29:40,360 --> 00:29:43,870
this is going to work but they had

00:29:42,039 --> 00:29:46,000
conviction that was at least worth a

00:29:43,870 --> 00:29:47,710
shot and we were able to kind of paint a

00:29:46,000 --> 00:29:49,210
picture and provide some focus

00:29:47,710 --> 00:29:51,070
throughout the year that hey this is

00:29:49,210 --> 00:29:53,169
what we're trying to get to let's keep

00:29:51,070 --> 00:29:54,700
trying to get there together it's all I

00:29:53,169 --> 00:29:57,010
got folks if you see any of the

00:29:54,700 --> 00:29:58,990
organizers please thank them it takes a

00:29:57,010 --> 00:30:01,330
lot of work and a lot of planning a lot

00:29:58,990 --> 00:30:03,309
of diligence to throw a conference of

00:30:01,330 --> 00:30:08,669
this scale so please please please go

00:30:03,309 --> 00:30:08,669
thank them and I think any questions sir

00:30:09,659 --> 00:30:14,559
so I have a good story so the question

00:30:12,280 --> 00:30:16,690
was do you have any manual testing in

00:30:14,559 --> 00:30:18,880
your workflow and how did that change so

00:30:16,690 --> 00:30:21,850
yes at the when we started we actually

00:30:18,880 --> 00:30:23,500
did we had a couple of teams that that

00:30:21,850 --> 00:30:24,520
still had a lot of manual smoke testing

00:30:23,500 --> 00:30:26,650
that they were doing as part of the

00:30:24,520 --> 00:30:29,590
release process and one of the really

00:30:26,650 --> 00:30:31,390
clever hacks that we had a development

00:30:29,590 --> 00:30:32,650
tooling team as part of our

00:30:31,390 --> 00:30:34,120
infrastructure products team while that

00:30:32,650 --> 00:30:36,820
really clever hacks that they did was

00:30:34,120 --> 00:30:40,330
they put everything into a CI server and

00:30:36,820 --> 00:30:43,870
they introduced a a ten-minute pause

00:30:40,330 --> 00:30:45,520
step in the workflow so the the intent

00:30:43,870 --> 00:30:47,470
was to try to get teams to automate more

00:30:45,520 --> 00:30:49,510
of their testing but they would hit that

00:30:47,470 --> 00:30:52,280
merge button it would then get queued up

00:30:49,510 --> 00:30:53,930
to go into staging get released there

00:30:52,280 --> 00:30:56,000
it would pause for 10 minutes before to

00:30:53,930 --> 00:30:57,680
go to production automatically so within

00:30:56,000 --> 00:30:59,600
10 minutes and yours had to click around

00:30:57,680 --> 00:31:01,370
and do everything they needed to do

00:30:59,600 --> 00:31:02,690
their smoke testing and then it would

00:31:01,370 --> 00:31:04,160
just go to production and they had the

00:31:02,690 --> 00:31:05,480
ability to hit the pause button if

00:31:04,160 --> 00:31:07,700
something if they did discover something

00:31:05,480 --> 00:31:10,760
bad but at least got the team's thinking

00:31:07,700 --> 00:31:13,010
about okay how do I use a CI server yes

00:31:10,760 --> 00:31:14,690
and it's it's a fake step if it's a fake

00:31:13,010 --> 00:31:16,070
pause that we put in there but it worked

00:31:14,690 --> 00:31:18,200
really well to get our teams to think

00:31:16,070 --> 00:31:20,210
more about that automated testing some

00:31:18,200 --> 00:31:22,640
of our teams still have it we keep

00:31:20,210 --> 00:31:24,290
trying to shrink that time frame from I

00:31:22,640 --> 00:31:25,880
think no team that has more than five

00:31:24,290 --> 00:31:27,710
minutes of manual testing and what

00:31:25,880 --> 00:31:29,480
happens is the late merge gets deployed

00:31:27,710 --> 00:31:30,980
to staging something will ping them

00:31:29,480 --> 00:31:32,540
either slack or page you to say hey

00:31:30,980 --> 00:31:33,980
start your testing you by the way you

00:31:32,540 --> 00:31:36,740
have five minutes to hit the pause

00:31:33,980 --> 00:31:37,970
button and I would say about 99% of the

00:31:36,740 --> 00:31:40,820
time it ends up just going into

00:31:37,970 --> 00:31:46,310
production anyways good question other

00:31:40,820 --> 00:31:49,400
questions yeah yeah great question so

00:31:46,310 --> 00:31:50,750
the the question was you know we opened

00:31:49,400 --> 00:31:52,640
up that infrastructure that chef

00:31:50,750 --> 00:31:56,140
codebase how did we ensure code quality

00:31:52,640 --> 00:31:58,970
and making sure that we had reviewers so

00:31:56,140 --> 00:32:00,980
what we we started was I said an

00:31:58,970 --> 00:32:02,540
explicit expectation on the team that

00:32:00,980 --> 00:32:04,520
quote unquote owned the chef repo

00:32:02,540 --> 00:32:06,890
previously that you can never have more

00:32:04,520 --> 00:32:08,750
than five pull requests open in any

00:32:06,890 --> 00:32:09,770
given day meaning that if six pull

00:32:08,750 --> 00:32:12,200
requests got opened it would actually

00:32:09,770 --> 00:32:14,690
page the on college near to go review

00:32:12,200 --> 00:32:16,130
the the open pull request and that kind

00:32:14,690 --> 00:32:18,170
of got them in that mindset that kind of

00:32:16,130 --> 00:32:20,690
customer focus mindset that hey we need

00:32:18,170 --> 00:32:22,610
to be reviewing the pull requests for

00:32:20,690 --> 00:32:25,690
other teams now that very quickly became

00:32:22,610 --> 00:32:28,370
a bottleneck so then we actually created

00:32:25,690 --> 00:32:31,520
it was a really goofy way we did this

00:32:28,370 --> 00:32:33,650
but we started giving out totems to

00:32:31,520 --> 00:32:35,300
individuals that you know after they had

00:32:33,650 --> 00:32:37,190
reached a certain number of pull

00:32:35,300 --> 00:32:38,870
requests successfully against that

00:32:37,190 --> 00:32:40,340
codebase they get a little totem on

00:32:38,870 --> 00:32:41,930
their desk saying they were chef

00:32:40,340 --> 00:32:43,490
approved and it was a low number it was

00:32:41,930 --> 00:32:45,590
like five it wasn't like a big number or

00:32:43,490 --> 00:32:47,300
anything but the idea was to kind of

00:32:45,590 --> 00:32:50,570
create that community around that

00:32:47,300 --> 00:32:52,310
codebase and to kind of spread the the

00:32:50,570 --> 00:32:54,590
the best practice as much as we could so

00:32:52,310 --> 00:32:56,210
slowly but surely that that grew to the

00:32:54,590 --> 00:32:57,950
point where we now had people within

00:32:56,210 --> 00:33:00,590
every team that was quote unquote

00:32:57,950 --> 00:33:02,690
approved to make those changes and

00:33:00,590 --> 00:33:04,950
review them and so that's how we started

00:33:02,690 --> 00:33:06,330
so started with that small group with

00:33:04,950 --> 00:33:08,610
aggressive customer focus on doing

00:33:06,330 --> 00:33:10,110
reviews then training other engineers

00:33:08,610 --> 00:33:14,539
and then just didn't matter anymore

00:33:10,110 --> 00:33:21,210
after that perfect one more question

00:33:14,539 --> 00:33:23,130
yeah so I'm gonna I'm gonna summarize

00:33:21,210 --> 00:33:25,139
the question make sure I do it justice

00:33:23,130 --> 00:33:26,279
so the question was so you know all your

00:33:25,139 --> 00:33:28,380
teams are working this different ways

00:33:26,279 --> 00:33:30,090
now how do you make sure that when

00:33:28,380 --> 00:33:32,880
you're hiring that you are able to

00:33:30,090 --> 00:33:34,620
actually find these individuals and you

00:33:32,880 --> 00:33:36,630
know basically how do you hire unicorns

00:33:34,620 --> 00:33:38,130
and the reality is you don't you can't

00:33:36,630 --> 00:33:39,570
hire unicorns you're never gonna find

00:33:38,130 --> 00:33:42,360
someone with all the skill sets that you

00:33:39,570 --> 00:33:43,769
need for for your organization and what

00:33:42,360 --> 00:33:45,870
that means is you have to invest in

00:33:43,769 --> 00:33:47,610
training and the other thing that I've

00:33:45,870 --> 00:33:50,370
found that helps with hiring is setting

00:33:47,610 --> 00:33:52,289
those expectations up front that hey you

00:33:50,370 --> 00:33:54,240
know as an engineer interviewing up a

00:33:52,289 --> 00:33:55,679
tree you go go on call you will be

00:33:54,240 --> 00:33:57,480
working on databases you will be working

00:33:55,679 --> 00:33:59,549
on load balancers but you'll have help

00:33:57,480 --> 00:34:00,750
you'll have training and it's

00:33:59,549 --> 00:34:01,860
interesting because it does create some

00:34:00,750 --> 00:34:03,120
self-selection there because not

00:34:01,860 --> 00:34:05,370
everyone's interested in that kind of a

00:34:03,120 --> 00:34:07,200
role but yeah it's I know that's not the

00:34:05,370 --> 00:34:09,510
best answer but don't try to hire

00:34:07,200 --> 00:34:11,609
unicorns they don't exist in if you

00:34:09,510 --> 00:34:13,139
could invest in training instead because

00:34:11,609 --> 00:34:15,629
you'll get a much better return on your

00:34:13,139 --> 00:34:17,399
time and I don't know why more companies

00:34:15,629 --> 00:34:19,409
don't think like this they think that

00:34:17,399 --> 00:34:21,030
unicorns are all hireable maybe because

00:34:19,409 --> 00:34:22,800
you know going back to Corey's talk

00:34:21,030 --> 00:34:24,329
earlier like we get up here we talk

00:34:22,800 --> 00:34:26,339
about these things that all these

00:34:24,329 --> 00:34:30,480
mythical engineers exist at these big

00:34:26,339 --> 00:34:33,659
company they don't they don't ya hire a

00:34:30,480 --> 00:34:36,329
horse and pin a horn that sounds really

00:34:33,659 --> 00:34:39,270
painful I said there was no violence at

00:34:36,329 --> 00:34:41,129
page duty I think I'm getting booted off

00:34:39,270 --> 00:34:42,630
here thank you so much folks if you have

00:34:41,129 --> 00:34:46,459
additional questions before compiling

00:34:42,630 --> 00:34:46,459

YouTube URL: https://www.youtube.com/watch?v=bN02wLPjDmU


