Title: Statscraft Ignites: Highway to High Availability, Natalie Pistunovich, Aerospike | Community Summit
Publication date: 2020-12-26
Playlist: Community Summit TLV 2020
Description: 
	High availability is the holy grail of an architect, ensuring the system’s uptime is achieved for a higher than normal period. This can be achieved with an Active-Active architecture and Active-Passive architecture, which, in turn, can be deployed using different models, eg multi-site clustering and cross datacenter replication. The performance is monitored to ensure the system is meeting the agreed upon SLAs and SLOs.
Let’s understand all those terms, the relationships between them and how to implement those.
Captions: 
	00:00:02,880 --> 00:00:05,940
[Music]

00:00:23,840 --> 00:00:27,439
and now

00:00:24,640 --> 00:00:28,240
let's head straight to our next speaker

00:00:27,439 --> 00:00:31,039
natalie

00:00:28,240 --> 00:00:31,039
pistonovic

00:00:33,520 --> 00:00:40,000
here we go good afternoon natalie

00:00:37,120 --> 00:00:41,120
hi how are you doing great from morning

00:00:40,000 --> 00:00:45,520
time zones to uh

00:00:41,120 --> 00:00:47,600
afternoon time zones all around

00:00:45,520 --> 00:00:49,120
yeah so you're going to talk to us about

00:00:47,600 --> 00:00:51,039
high availability

00:00:49,120 --> 00:00:52,480
classic and well discussed but then

00:00:51,039 --> 00:00:55,600
again with the lots of

00:00:52,480 --> 00:00:57,600
new angles to explore so uh

00:00:55,600 --> 00:00:58,879
let's go straight to the talk and then

00:00:57,600 --> 00:01:00,640
we can

00:00:58,879 --> 00:01:02,399
one quick thing if i may say i'm

00:01:00,640 --> 00:01:03,840
inviting everybody in the recording to

00:01:02,399 --> 00:01:05,280
join the game on our twitter but we

00:01:03,840 --> 00:01:07,439
moved it toward discord so all the

00:01:05,280 --> 00:01:09,040
questions all the answers in the video

00:01:07,439 --> 00:01:11,280
with them please go towards discord not

00:01:09,040 --> 00:01:13,600
to the twitter thank you

00:01:11,280 --> 00:01:14,880
now we're curious so guys on discord

00:01:13,600 --> 00:01:16,320
some challenges on the

00:01:14,880 --> 00:01:18,400
talk and you'll definitely want to

00:01:16,320 --> 00:01:27,840
answer these challenges good luck on the

00:01:18,400 --> 00:01:27,840
talk natalie

00:01:53,600 --> 00:01:59,119
l-spike is a nosql key value distributed

00:01:56,560 --> 00:01:59,119
database

00:02:06,840 --> 00:02:10,800
real-time

00:02:08,000 --> 00:02:10,800
you should familiar

00:02:11,280 --> 00:02:15,200
in these slides you can find answers to

00:02:13,440 --> 00:02:16,080
some of the questions in our twitter

00:02:15,200 --> 00:02:18,720
game

00:02:16,080 --> 00:02:19,440
if you want to participate our handle is

00:02:18,720 --> 00:02:22,400
airspike

00:02:19,440 --> 00:02:22,879
tv if you learn anything interesting

00:02:22,400 --> 00:02:24,640
please

00:02:22,879 --> 00:02:27,280
share using the conference handle that's

00:02:24,640 --> 00:02:30,319
tlb community

00:02:27,280 --> 00:02:32,239
so high availability what is it

00:02:30,319 --> 00:02:34,000
it's a characteristic of a system which

00:02:32,239 --> 00:02:35,680
aims to ensure an agreed level of

00:02:34,000 --> 00:02:38,319
operational performance

00:02:35,680 --> 00:02:39,440
usually uptime for a higher than normal

00:02:38,319 --> 00:02:42,480
period

00:02:39,440 --> 00:02:43,519
who needs it traditionally you can give

00:02:42,480 --> 00:02:45,920
it as an example

00:02:43,519 --> 00:02:46,720
a data center but these days very few

00:02:45,920 --> 00:02:50,640
can afford

00:02:46,720 --> 00:02:51,920
not to have it how to achieve it easy

00:02:50,640 --> 00:02:54,160
make sure your system doesn't have a

00:02:51,920 --> 00:02:56,400
downtime thanks for coming to my ted

00:02:54,160 --> 00:02:56,400
talk

00:02:57,360 --> 00:03:00,720
but if we have to dive in a little

00:02:59,200 --> 00:03:02,879
deeper you can say

00:03:00,720 --> 00:03:04,080
this can be broken down to three parts

00:03:02,879 --> 00:03:06,800
the architecture

00:03:04,080 --> 00:03:07,920
how you build the system deployment how

00:03:06,800 --> 00:03:11,440
you run it

00:03:07,920 --> 00:03:13,680
and monitoring make sure it runs well

00:03:11,440 --> 00:03:14,800
let's start with architecture the two

00:03:13,680 --> 00:03:16,319
most commonly used

00:03:14,800 --> 00:03:18,000
high availability clustering

00:03:16,319 --> 00:03:21,599
configurations are active

00:03:18,000 --> 00:03:23,840
passive and active active active passive

00:03:21,599 --> 00:03:25,200
requires at least two nodes at least one

00:03:23,840 --> 00:03:28,400
of them is not active

00:03:25,200 --> 00:03:29,360
that's the failover or standby node and

00:03:28,400 --> 00:03:31,120
when a client

00:03:29,360 --> 00:03:33,280
connects to this two node cluster in

00:03:31,120 --> 00:03:34,159
such configuration they actually only

00:03:33,280 --> 00:03:37,040
connect to one

00:03:34,159 --> 00:03:38,480
server the biggest pro of such a setup

00:03:37,040 --> 00:03:41,200
is that it maintains

00:03:38,480 --> 00:03:43,200
uninterrupted service for customers and

00:03:41,200 --> 00:03:46,319
it deals well with either planned

00:03:43,200 --> 00:03:48,959
or unplanned service outage

00:03:46,319 --> 00:03:51,200
then there is active active this setup

00:03:48,959 --> 00:03:53,280
also requires at least two nodes

00:03:51,200 --> 00:03:55,200
both actively running the same kind of

00:03:53,280 --> 00:03:57,360
service simultaneously

00:03:55,200 --> 00:03:59,040
and there is a load balancer that

00:03:57,360 --> 00:04:01,360
distributes the workload across

00:03:59,040 --> 00:04:04,000
all nodes to prevent overloading a node

00:04:01,360 --> 00:04:07,200
using an algorithm like round robin

00:04:04,000 --> 00:04:07,760
the more nodes you have available to

00:04:07,200 --> 00:04:09,200
serve

00:04:07,760 --> 00:04:11,120
the better the throughput and the

00:04:09,200 --> 00:04:12,879
response times will be

00:04:11,120 --> 00:04:17,040
and you have the option to utilize the

00:04:12,879 --> 00:04:17,040
cache for storing data from user

00:04:17,359 --> 00:04:22,960
next step deployment

00:04:20,799 --> 00:04:24,720
one configuration you can use to deploy

00:04:22,960 --> 00:04:27,120
is multi-site clustering

00:04:24,720 --> 00:04:29,440
where the nodes are comprising a single

00:04:27,120 --> 00:04:31,040
cluster are distributed across sites

00:04:29,440 --> 00:04:33,520
it can be a physical rack in a data

00:04:31,040 --> 00:04:35,759
center an entire data center

00:04:33,520 --> 00:04:37,360
an availability zone in the cloud region

00:04:35,759 --> 00:04:39,199
or some combination of those

00:04:37,360 --> 00:04:41,120
just like you can see in the image the

00:04:39,199 --> 00:04:42,080
cluster is stretched across the regions

00:04:41,120 --> 00:04:45,199
and across the different

00:04:42,080 --> 00:04:47,199
cloud providers and i wouldn't be

00:04:45,199 --> 00:04:49,199
quick to recommend to have a replication

00:04:47,199 --> 00:04:52,080
factor of five like in this example

00:04:49,199 --> 00:04:54,800
but it's possible and when you need to

00:04:52,080 --> 00:04:56,800
expand you expand horizontally

00:04:54,800 --> 00:04:58,880
this uses synchronous replication to

00:04:56,800 --> 00:05:00,320
deliver a global distributed transaction

00:04:58,880 --> 00:05:02,479
capability

00:05:00,320 --> 00:05:03,680
the update speed is only limited by

00:05:02,479 --> 00:05:07,039
nature for example

00:05:03,680 --> 00:05:08,400
speed of light then you also have the

00:05:07,039 --> 00:05:10,720
option to go asynchronous

00:05:08,400 --> 00:05:12,400
in which case you would go for the xdr

00:05:10,720 --> 00:05:14,320
or cross data center replication

00:05:12,400 --> 00:05:17,120
configuration

00:05:14,320 --> 00:05:18,960
in such a setup you use a synchronous

00:05:17,120 --> 00:05:20,479
replication to connect the clusters

00:05:18,960 --> 00:05:22,400
that are located at different

00:05:20,479 --> 00:05:25,120
geographically distributed sites

00:05:22,400 --> 00:05:27,039
this can also be a physical rack cloud

00:05:25,120 --> 00:05:29,280
or some combination of those

00:05:27,039 --> 00:05:31,440
and you get to extend the infrastructure

00:05:29,280 --> 00:05:33,919
to any number of clusters with control

00:05:31,440 --> 00:05:36,880
flexibility and ease of administration

00:05:33,919 --> 00:05:38,639
faster rides and regional economy

00:05:36,880 --> 00:05:40,240
the shipping algorithm we use at

00:05:38,639 --> 00:05:43,600
aerospike for such setup

00:05:40,240 --> 00:05:44,800
is lut that stands for records last

00:05:43,600 --> 00:05:47,199
update time

00:05:44,800 --> 00:05:48,560
this results in simple and efficient

00:05:47,199 --> 00:05:51,039
metadata management

00:05:48,560 --> 00:05:52,080
easier synchronization of data center

00:05:51,039 --> 00:05:54,880
starting at a specific

00:05:52,080 --> 00:05:55,520
point of time in the past and it

00:05:54,880 --> 00:05:57,600
supports

00:05:55,520 --> 00:05:59,280
dynamic configuration of any pair of

00:05:57,600 --> 00:06:00,960
source and target sites

00:05:59,280 --> 00:06:02,479
and there's independent shipping between

00:06:00,960 --> 00:06:06,479
them

00:06:02,479 --> 00:06:09,919
basically you get to expand vertically

00:06:06,479 --> 00:06:12,560
what happens if you have right conflicts

00:06:09,919 --> 00:06:15,360
great question i would recommend for

00:06:12,560 --> 00:06:18,639
this case to go to the devops days 2019

00:06:15,360 --> 00:06:19,919
so last year youtube videos

00:06:18,639 --> 00:06:21,919
and finally talk about strong

00:06:19,919 --> 00:06:23,600
consistency in databases and what does

00:06:21,919 --> 00:06:26,479
it actually guarantee

00:06:23,600 --> 00:06:28,800
is my vp of engineering and recording

00:06:26,479 --> 00:06:28,800
cave

00:06:29,600 --> 00:06:33,600
last on our list is monitoring if you

00:06:32,560 --> 00:06:35,680
don't have slas

00:06:33,600 --> 00:06:38,720
you don't fail in them but there's more

00:06:35,680 --> 00:06:41,520
than just slas to think about

00:06:38,720 --> 00:06:42,240
so sla stands for service level

00:06:41,520 --> 00:06:43,840
agreement

00:06:42,240 --> 00:06:45,440
this is basically what you agree with a

00:06:43,840 --> 00:06:47,360
client or with your customer

00:06:45,440 --> 00:06:48,720
as a measurable metric if you don't meet

00:06:47,360 --> 00:06:49,360
that you're probably going to have to

00:06:48,720 --> 00:06:52,560
refund

00:06:49,360 --> 00:06:54,720
or pay them as a compensation then

00:06:52,560 --> 00:06:55,680
there is slo that's the service level

00:06:54,720 --> 00:06:57,520
objective

00:06:55,680 --> 00:07:00,000
and that's a precise numerical target

00:06:57,520 --> 00:07:03,280
for a measurable metric that is defining

00:07:00,000 --> 00:07:05,599
a reasonable downtime internally and

00:07:03,280 --> 00:07:07,440
you want to set that stricter than the

00:07:05,599 --> 00:07:10,240
sla

00:07:07,440 --> 00:07:11,039
then there is sli which is service level

00:07:10,240 --> 00:07:14,319
indicator

00:07:11,039 --> 00:07:17,120
and this is what actually your system

00:07:14,319 --> 00:07:17,599
performs in an ideal performance this

00:07:17,120 --> 00:07:20,240
would be

00:07:17,599 --> 00:07:21,360
stricter than the two before so let's

00:07:20,240 --> 00:07:26,240
say for an example

00:07:21,360 --> 00:07:28,560
you have a sla with your client of 99.95

00:07:26,240 --> 00:07:30,080
of the time uptime then you would want

00:07:28,560 --> 00:07:33,120
to send an internal goal

00:07:30,080 --> 00:07:35,840
so i slow for example 99.96

00:07:33,120 --> 00:07:36,479
of the time and if your system operates

00:07:35,840 --> 00:07:40,319
well

00:07:36,479 --> 00:07:44,160
you have sli for example of 99.97

00:07:40,319 --> 00:07:46,720
of time and you're doing good

00:07:44,160 --> 00:07:49,039
and that's all you need for a high

00:07:46,720 --> 00:07:52,639
availability system

00:07:49,039 --> 00:07:54,639
let's recap we talked about three parts

00:07:52,639 --> 00:07:56,240
the architecture which can be active

00:07:54,639 --> 00:07:58,240
active active passive

00:07:56,240 --> 00:08:00,319
we talked about the deployment which you

00:07:58,240 --> 00:08:00,879
can configure as multi-site clustering

00:08:00,319 --> 00:08:03,599
or the

00:08:00,879 --> 00:08:05,360
xdr cross data center application and

00:08:03,599 --> 00:08:05,919
you have the part of monitoring where

00:08:05,360 --> 00:08:09,759
you look at

00:08:05,919 --> 00:08:12,080
slas slos and slis

00:08:09,759 --> 00:08:12,960
and that's it and say thank you very

00:08:12,080 --> 00:08:14,960
much please

00:08:12,960 --> 00:08:17,840
follow me on twitter please participate

00:08:14,960 --> 00:08:19,759
our game on aerospacetv twitter

00:08:17,840 --> 00:08:21,039
and please share anything interesting

00:08:19,759 --> 00:08:27,840
you learned on the

00:08:21,039 --> 00:08:27,840
conference twitter at tlv community

00:08:36,479 --> 00:08:44,640
hey we're having you back

00:08:40,719 --> 00:08:45,839
thanks for having me back yeah

00:08:44,640 --> 00:08:48,320
yeah first of all it was good to have

00:08:45,839 --> 00:08:49,360
the uh in training in hebrew for the uh

00:08:48,320 --> 00:08:52,800
for the locals there

00:08:49,360 --> 00:08:55,600
it was uh it was a good good touch um

00:08:52,800 --> 00:08:56,959
and uh i want to actually uh it's like

00:08:55,600 --> 00:08:59,279
we've been discussing some

00:08:56,959 --> 00:09:00,320
so for so many years about aji

00:08:59,279 --> 00:09:04,000
availability but

00:09:00,320 --> 00:09:06,800
um i was wondering uh now that we see

00:09:04,000 --> 00:09:08,240
uh like the shift to the of the

00:09:06,800 --> 00:09:10,320
importance the increasing importance of

00:09:08,240 --> 00:09:11,120
availability you know in the cap theorem

00:09:10,320 --> 00:09:14,160
so that

00:09:11,120 --> 00:09:16,560
many organizations especially the sas

00:09:14,160 --> 00:09:18,399
you know the online ones that put more

00:09:16,560 --> 00:09:20,399
weight on the availability side

00:09:18,399 --> 00:09:22,080
how do you see that uh change

00:09:20,399 --> 00:09:25,440
manifesting in the way people approach

00:09:22,080 --> 00:09:30,080
a high availability these days

00:09:25,440 --> 00:09:31,839
um the demand definitely is growing

00:09:30,080 --> 00:09:34,160
less and less organizations are able to

00:09:31,839 --> 00:09:36,000
afford not to have this

00:09:34,160 --> 00:09:37,680
repeat the message of this talk but also

00:09:36,000 --> 00:09:39,360
the previous talk it's interesting how

00:09:37,680 --> 00:09:41,040
similar the focus and the content is

00:09:39,360 --> 00:09:41,680
like that also gives you this indicator

00:09:41,040 --> 00:09:45,839
how

00:09:41,680 --> 00:09:48,240
this is the focus of these days yeah

00:09:45,839 --> 00:09:49,519
yeah indeed uh i guess all of our

00:09:48,240 --> 00:09:50,800
industry and especially in the track

00:09:49,519 --> 00:09:53,839
that is the staff

00:09:50,800 --> 00:09:55,360
it's the what we do in a daily basis

00:09:53,839 --> 00:09:57,519
so thank you how do you measure your own

00:09:55,360 --> 00:09:58,320
life delegates from berlin and for

00:09:57,519 --> 00:10:05,040
sharing with us

00:09:58,320 --> 00:10:07,120
this talk thank you

00:10:05,040 --> 00:10:07,120

YouTube URL: https://www.youtube.com/watch?v=V6knPpnq3W0


