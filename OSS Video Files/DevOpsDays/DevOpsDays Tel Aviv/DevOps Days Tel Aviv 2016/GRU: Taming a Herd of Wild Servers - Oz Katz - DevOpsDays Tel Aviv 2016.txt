Title: GRU: Taming a Herd of Wild Servers - Oz Katz - DevOpsDays Tel Aviv 2016
Publication date: 2016-12-29
Playlist: DevOps Days Tel Aviv 2016
Description: 
	
Captions: 
	00:00:02,920 --> 00:00:10,920
[Music]

00:00:06,930 --> 00:00:15,309
so hi everyone can you guys hear me now

00:00:10,920 --> 00:00:17,380
yeah okay so my name is all Scots on the

00:00:15,309 --> 00:00:21,490
eyelid production engineering team at

00:00:17,380 --> 00:00:23,920
similar web yeah and today I'm going to

00:00:21,490 --> 00:00:29,320
talk to you about servers or actually

00:00:23,920 --> 00:00:31,000
managing them so servers I assume that

00:00:29,320 --> 00:00:33,070
at least a lot of you have a lot of

00:00:31,000 --> 00:00:35,860
servers and you run them in production

00:00:33,070 --> 00:00:37,570
and other environments and in many cases

00:00:35,860 --> 00:00:39,910
they're kind of spread out throughout

00:00:37,570 --> 00:00:42,510
many places maybe have different AWS

00:00:39,910 --> 00:00:45,640
accounts maybe have some on perm servers

00:00:42,510 --> 00:00:47,470
maybe have a few AWS accounts or a few

00:00:45,640 --> 00:00:49,290
regions and your servers are kind of

00:00:47,470 --> 00:00:51,460
threat spread out throughout the world

00:00:49,290 --> 00:00:53,980
so they're not in the same place and

00:00:51,460 --> 00:00:55,960
also in many cases we really don't have

00:00:53,980 --> 00:00:58,840
much context about them so we know we

00:00:55,960 --> 00:01:00,910
have some list of servers we know what

00:00:58,840 --> 00:01:03,910
their role is but we don't always know

00:01:00,910 --> 00:01:06,490
what's running inside so for example if

00:01:03,910 --> 00:01:08,409
i have a dr server it might not be easy

00:01:06,490 --> 00:01:09,759
to answer simple questions like what

00:01:08,409 --> 00:01:12,700
container is actually running inside

00:01:09,759 --> 00:01:16,659
there or what versions of a package i

00:01:12,700 --> 00:01:18,689
have and i guess a lot of you are

00:01:16,659 --> 00:01:22,270
familiar with this screen am i right

00:01:18,689 --> 00:01:25,090
yeah okay this is the ec2 console is

00:01:22,270 --> 00:01:27,939
what AWS gives us to see what servers we

00:01:25,090 --> 00:01:32,319
have and you might think okay this is

00:01:27,939 --> 00:01:34,329
fine but I disagree so one of the main

00:01:32,319 --> 00:01:36,609
problems here is first of all I can only

00:01:34,329 --> 00:01:38,139
look at one region at a time so if I

00:01:36,609 --> 00:01:40,509
have multiple regions or multiple

00:01:38,139 --> 00:01:42,189
accounts I can use the search box but I

00:01:40,509 --> 00:01:44,139
only find stuff that's relevant to the

00:01:42,189 --> 00:01:45,399
current region I'm looking at so not

00:01:44,139 --> 00:01:48,399
very good if I want to discover what

00:01:45,399 --> 00:01:50,829
hosts I have another big problem here is

00:01:48,399 --> 00:01:52,689
that while I know which servers I have I

00:01:50,829 --> 00:01:54,490
don't really know what they're doing so

00:01:52,689 --> 00:01:57,219
I can see maybe using tags that this is

00:01:54,490 --> 00:01:58,989
a docker server but again what's running

00:01:57,219 --> 00:02:01,719
inside what container is running I don't

00:01:58,989 --> 00:02:05,139
know recent blogs I don't have them so

00:02:01,719 --> 00:02:07,270
I'm lacking a lot of context here so

00:02:05,139 --> 00:02:11,580
yeah amazon does a lot of things well

00:02:07,270 --> 00:02:11,580
this specific part not so much

00:02:11,630 --> 00:02:17,120
so yeah this problem gets even worse

00:02:13,880 --> 00:02:19,550
when we talk about when things go bad so

00:02:17,120 --> 00:02:21,950
you gotta pagerduty alert something's

00:02:19,550 --> 00:02:23,750
broken we want to start debugging it so

00:02:21,950 --> 00:02:25,130
you open your monitoring and you look at

00:02:23,750 --> 00:02:27,080
your logging and your dashboards and

00:02:25,130 --> 00:02:28,820
it's all very nice but eventually after

00:02:27,080 --> 00:02:31,280
a few minutes you give up and you ssh

00:02:28,820 --> 00:02:34,580
into some machine and run commands like

00:02:31,280 --> 00:02:35,990
it's 2005 and and we're kind of used to

00:02:34,580 --> 00:02:38,090
it it's part of our job description I

00:02:35,990 --> 00:02:40,100
guess and we think yeah this is fine

00:02:38,090 --> 00:02:41,840
that's why we do stuff but actually

00:02:40,100 --> 00:02:44,720
that's a lot of time wasted and we could

00:02:41,840 --> 00:02:46,880
have saved that time so without buying I

00:02:44,720 --> 00:02:49,220
want to share a tool that we developed a

00:02:46,880 --> 00:02:50,870
similar web and it's called grew and

00:02:49,220 --> 00:02:53,660
it's going to help us maybe overcome

00:02:50,870 --> 00:02:56,570
some of these issues so this is what it

00:02:53,660 --> 00:02:59,450
looks like this is a single host as a

00:02:56,570 --> 00:03:01,100
displayed in group as you can see chose

00:02:59,450 --> 00:03:02,690
us a lot of metadata pretty much the

00:03:01,100 --> 00:03:05,030
same thing you would expect from maybe

00:03:02,690 --> 00:03:07,910
the ec2 console of the Google whatever

00:03:05,030 --> 00:03:10,340
equivalent but nice thing about this is

00:03:07,910 --> 00:03:12,530
that you can have plugins for this so

00:03:10,340 --> 00:03:14,270
for example when I mentioned the doctor

00:03:12,530 --> 00:03:16,190
server I can see at the bottom maybe the

00:03:14,270 --> 00:03:18,350
running containers or for a load

00:03:16,190 --> 00:03:21,440
balancer maybe i'll show the healthy up

00:03:18,350 --> 00:03:25,190
streams or unhealthy ones so the big

00:03:21,440 --> 00:03:27,110
power comes from plug ability another

00:03:25,190 --> 00:03:28,970
big benefit is that i can aggregate on

00:03:27,110 --> 00:03:31,790
my hosts from different servers into one

00:03:28,970 --> 00:03:33,860
place so if I have multiple regions if I

00:03:31,790 --> 00:03:36,950
have multiple accounts if I have a non

00:03:33,860 --> 00:03:38,720
perm data center and also maybe amazon I

00:03:36,950 --> 00:03:39,800
get it all in one place and it's

00:03:38,720 --> 00:03:43,670
searchable from one place and

00:03:39,800 --> 00:03:45,170
discoverable from our place and now

00:03:43,670 --> 00:03:46,670
developers can actually see what's

00:03:45,170 --> 00:03:48,110
running our servers they have what's

00:03:46,670 --> 00:03:51,890
running in production and the absolute

00:03:48,110 --> 00:03:53,750
you'd love it as you can see um and one

00:03:51,890 --> 00:03:56,830
last thing it's open source as of

00:03:53,750 --> 00:04:00,529
yesterday so check it out thank you

00:03:56,830 --> 00:04:00,529

YouTube URL: https://www.youtube.com/watch?v=FdzLOqM5Uo8


