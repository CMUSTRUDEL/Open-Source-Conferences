Title: How News Events Affect Us - Nir Kriss - DevOpsDays Tel Aviv 2016
Publication date: 2017-01-05
Playlist: DevOps Days Tel Aviv 2016
Description: 
	
Captions: 
	00:00:02,710 --> 00:00:11,230
[Music]

00:00:08,130 --> 00:00:12,820
hello my name is near and I'm in charge

00:00:11,230 --> 00:00:15,130
I'm the head of Production Engineering

00:00:12,820 --> 00:00:17,230
at Outbrain I'm also in charge on

00:00:15,130 --> 00:00:20,739
capacity planning I'm here to share with

00:00:17,230 --> 00:00:23,349
you our capacity challenges our primary

00:00:20,739 --> 00:00:26,199
partners are leading news websites every

00:00:23,349 --> 00:00:28,779
time somebody reads an article on CNN it

00:00:26,199 --> 00:00:32,169
sends a query to our servers same for

00:00:28,779 --> 00:00:34,390
ESPN for Fox News our traffic is

00:00:32,169 --> 00:00:37,420
basically the summary of our partners

00:00:34,390 --> 00:00:41,769
traffic millions of queries per minute

00:00:37,420 --> 00:00:44,140
with a low latency SLA we have over

00:00:41,769 --> 00:00:46,480
5,000 physical servers in free

00:00:44,140 --> 00:00:48,399
datacenters we are in a process of

00:00:46,480 --> 00:00:51,760
building an I buried cloud environment

00:00:48,399 --> 00:00:54,280
obviously when capacity when planning

00:00:51,760 --> 00:00:57,399
capacity we have to take in it take and

00:00:54,280 --> 00:01:00,280
consider at the our event how do we

00:00:57,399 --> 00:01:03,519
calculate our capacity we run a load

00:01:00,280 --> 00:01:06,000
test we shift the traffic gradually into

00:01:03,519 --> 00:01:10,540
one of our data centers using fastly

00:01:06,000 --> 00:01:11,830
until the latency reaches our SLA we

00:01:10,540 --> 00:01:13,960
also have a continuous deployment

00:01:11,830 --> 00:01:18,510
environment that's another challenge

00:01:13,960 --> 00:01:21,430
because the capacity may change everyday

00:01:18,510 --> 00:01:25,300
unplanned events such as terror attacks

00:01:21,430 --> 00:01:31,030
can cause traffic spike here are two

00:01:25,300 --> 00:01:33,130
examples from Europe an event in the US

00:01:31,030 --> 00:01:35,740
may cause a bigger spike due to the

00:01:33,130 --> 00:01:38,320
scale of the US traffic like in this

00:01:35,740 --> 00:01:41,740
example of the bump in Manhattan a

00:01:38,320 --> 00:01:46,210
traffic rise of 50 percent totally

00:01:41,740 --> 00:01:47,740
unexpected another interesting fact I

00:01:46,210 --> 00:01:49,420
wanted to share with you is that

00:01:47,740 --> 00:01:51,850
sometimes if the event is happening

00:01:49,420 --> 00:01:54,580
during the night time we will see a

00:01:51,850 --> 00:01:56,770
delay of several hours between the event

00:01:54,580 --> 00:01:59,080
and the traffic rise like in this

00:01:56,770 --> 00:02:01,810
example from the gable shooting in

00:01:59,080 --> 00:02:04,570
Orlando that event started during the us

00:02:01,810 --> 00:02:08,970
night and we saw the traffic spike only

00:02:04,570 --> 00:02:13,090
when the Americans woke up and now a

00:02:08,970 --> 00:02:14,180
quiz what do you think caused more

00:02:13,090 --> 00:02:18,879
traffic

00:02:14,180 --> 00:02:18,879
Leonore Kony's death of muhammad ali's

00:02:20,650 --> 00:02:28,459
muhammad ali coup attempt miss Iona FIFA

00:02:25,519 --> 00:02:36,650
in Turkey or when Brad and Angelina

00:02:28,459 --> 00:02:40,370
separated under one warned the sudden

00:02:36,650 --> 00:02:45,379
death of Prince caused an amazing spike

00:02:40,370 --> 00:02:50,750
of 80% before the US elections that was

00:02:45,379 --> 00:02:53,780
a record how do we choose the capacity

00:02:50,750 --> 00:02:55,639
we have three data centers so we take

00:02:53,780 --> 00:02:58,790
the capacity of two of them for the AL

00:02:55,639 --> 00:03:01,099
purposes and we have our traffic so we

00:02:58,790 --> 00:03:03,139
take the traffic peak and obviously the

00:03:01,099 --> 00:03:06,560
traffic peak needs to be below that they

00:03:03,139 --> 00:03:09,950
are capacity but how much below that's

00:03:06,560 --> 00:03:12,439
one of the debates should we plan for

00:03:09,950 --> 00:03:15,400
both at D our event and a news event

00:03:12,439 --> 00:03:19,849
that will take place at the same time

00:03:15,400 --> 00:03:22,489
well remember you can send e will

00:03:19,849 --> 00:03:24,829
remember very well it was both a major

00:03:22,489 --> 00:03:30,470
news event and it also brought down one

00:03:24,829 --> 00:03:32,540
of our data centers breaks it there are

00:03:30,470 --> 00:03:34,519
also planned events in a planned event

00:03:32,540 --> 00:03:37,250
you can plan a net capacity in advance

00:03:34,519 --> 00:03:39,590
but the challenge is guessing what will

00:03:37,250 --> 00:03:44,389
be the traffic spike breaks it for

00:03:39,590 --> 00:03:47,750
example caused a 30% rise in Europe but

00:03:44,389 --> 00:03:49,489
only 10% or less in the United States in

00:03:47,750 --> 00:03:51,229
general the Americans they care only

00:03:49,489 --> 00:03:55,370
about what's happening in America this

00:03:51,229 --> 00:03:57,859
is something that I've learned US

00:03:55,370 --> 00:03:59,840
elections we were looking forward for

00:03:57,859 --> 00:04:01,519
this event we knew these elections are

00:03:59,840 --> 00:04:03,709
going to be much more interesting than

00:04:01,519 --> 00:04:06,139
the previous ones the business

00:04:03,709 --> 00:04:10,849
projections were running from 5x traffic

00:04:06,139 --> 00:04:13,129
to 12 x traffic so we were approaching

00:04:10,849 --> 00:04:15,799
the event the elections and we saw that

00:04:13,129 --> 00:04:20,239
every related event caused the traffic

00:04:15,799 --> 00:04:26,090
Hillary Clinton fainted 25% TV diva

00:04:20,239 --> 00:04:27,380
debates 40% suspected gunman went Rambo

00:04:26,090 --> 00:04:31,160
speaking for

00:04:27,380 --> 00:04:32,990
percent the FBI cleans Clinton 15 I

00:04:31,160 --> 00:04:36,740
don't want to imagine what would happen

00:04:32,990 --> 00:04:41,360
if they didn't clear elections they

00:04:36,740 --> 00:04:44,150
arrived as a comparison base I put on

00:04:41,360 --> 00:04:46,040
the left our traffic on a regular day so

00:04:44,150 --> 00:04:48,290
we have our eye traffic during the us

00:04:46,040 --> 00:04:49,910
day time and the low traffic during the

00:04:48,290 --> 00:04:52,400
u.s. night time because us brings most

00:04:49,910 --> 00:04:54,530
of our traffic during the elections day

00:04:52,400 --> 00:04:57,140
the traffic was very high and it was

00:04:54,530 --> 00:04:59,090
extremely high and reached the peak at

00:04:57,140 --> 00:05:00,830
the light time at night when the votes

00:04:59,090 --> 00:05:04,250
were account and when Trump get was

00:05:00,830 --> 00:05:07,030
giving his victory speech so if I would

00:05:04,250 --> 00:05:10,130
compare a peak to a peak we were serving

00:05:07,030 --> 00:05:11,510
100% more traffic but since the peak was

00:05:10,130 --> 00:05:13,880
actually at the time that we usually

00:05:11,510 --> 00:05:16,420
have the the low traffic we were

00:05:13,880 --> 00:05:19,610
actually serving five hundred and thirty

00:05:16,420 --> 00:05:21,700
percent more traffic at this time that's

00:05:19,610 --> 00:05:26,170
a record

00:05:21,700 --> 00:05:30,499
thank you oh we are Irene

00:05:26,170 --> 00:05:30,499

YouTube URL: https://www.youtube.com/watch?v=a51XPfWXSOw


