Title: ROSCon 2012 - "Moe" The Autonomous Lawnmower
Publication date: 2014-08-31
Playlist: ROSCon 2012
Description: 
	William Woodall
"Moe" The Autonomous Lawnmower

Slides: https://docs.google.com/presentation/d/1KpgkUoMl4zIe5wx39widpolw3Y99BOaQavjzvbzGzEI/edit#slide=id.p
Captions: 
	00:00:00,000 --> 00:00:04,920
okay so next up an hour our third and

00:00:03,060 --> 00:00:07,259
last applications like this afternoon's

00:00:04,920 --> 00:00:10,580
from William widdle at Auburn he's going

00:00:07,259 --> 00:00:10,580
to tell us about an autonomous lon

00:00:20,500 --> 00:00:23,580
sorry just doing it

00:00:28,380 --> 00:00:38,129
relying on the internet here at the

00:00:30,089 --> 00:00:40,410
conferences okay all right hi my name is

00:00:38,129 --> 00:00:41,879
William what all marma University thanks

00:00:40,410 --> 00:00:43,710
for the introduction thanks for coming

00:00:41,879 --> 00:00:46,260
today I'm going to talk about a project

00:00:43,710 --> 00:00:49,140
I've been working on for the past three

00:00:46,260 --> 00:00:51,329
years or so I've been in Auburn on the

00:00:49,140 --> 00:00:54,809
autonomous lawn mower team I'm a briefly

00:00:51,329 --> 00:00:56,129
talk about the competition that we build

00:00:54,809 --> 00:00:57,510
a lawn mower for and about the lawn

00:00:56,129 --> 00:00:59,190
mower to get you familiar with it but

00:00:57,510 --> 00:01:03,839
the rest of the talk is going to be sort

00:00:59,190 --> 00:01:05,610
of a case study and how we used Ross in

00:01:03,839 --> 00:01:08,610
the end the lawn mower things we ran

00:01:05,610 --> 00:01:09,840
into year to year and and you know talk

00:01:08,610 --> 00:01:12,360
about some strengths and weaknesses that

00:01:09,840 --> 00:01:14,009
we discovered so the competition we

00:01:12,360 --> 00:01:17,189
build this lawn mower for is put on by

00:01:14,009 --> 00:01:19,500
ion Institute navigation and AFRL air

00:01:17,189 --> 00:01:21,960
force research laboratory the websites

00:01:19,500 --> 00:01:23,990
ottimo calm held every year in dayton

00:01:21,960 --> 00:01:26,700
ohio usually in about two weeks

00:01:23,990 --> 00:01:30,180
beginning of june in fact a competition

00:01:26,700 --> 00:01:32,579
this year is in a few weeks they have to

00:01:30,180 --> 00:01:33,869
two different elements are two different

00:01:32,579 --> 00:01:35,219
paths you can take the competition

00:01:33,869 --> 00:01:37,499
dynamic or static we always do the

00:01:35,219 --> 00:01:40,079
dynamic quickly i'm just going to talk

00:01:37,499 --> 00:01:43,729
about how it works so you see here we

00:01:40,079 --> 00:01:46,409
have sort of a diagram of of the field

00:01:43,729 --> 00:01:50,819
you can see that it's mostly rectangular

00:01:46,409 --> 00:01:53,310
with one slanted side and alcove and the

00:01:50,819 --> 00:01:56,189
the grass is divided into the area in

00:01:53,310 --> 00:01:58,380
the larger polygon and area and smaller

00:01:56,189 --> 00:02:01,350
polygons and the area next to the fence

00:01:58,380 --> 00:02:03,149
and the flower bed and so the grass and

00:02:01,350 --> 00:02:07,049
smaller polygons worth more the edging

00:02:03,149 --> 00:02:09,119
grass is worth the most we don't know

00:02:07,049 --> 00:02:10,380
the exact dimensions of the field we

00:02:09,119 --> 00:02:12,510
don't know the position or exact

00:02:10,380 --> 00:02:15,000
dimensions of the flower bed there's

00:02:12,510 --> 00:02:18,150
also a stuffed poodle strapped to an RC

00:02:15,000 --> 00:02:20,490
car that's dynamic obstacle and they

00:02:18,150 --> 00:02:22,260
look down upon you hitting it and so you

00:02:20,490 --> 00:02:23,790
have to avoid that as well we've

00:02:22,260 --> 00:02:25,500
competed for two years now or fixing

00:02:23,790 --> 00:02:27,209
compete again in a few weeks I've got

00:02:25,500 --> 00:02:29,870
third place second place maybe first

00:02:27,209 --> 00:02:31,860
place this year let's see what we can do

00:02:29,870 --> 00:02:36,120
so I just want to give a short overview

00:02:31,860 --> 00:02:37,890
of Mo this picture in this flyer is

00:02:36,120 --> 00:02:41,700
actually of last year's I have a more

00:02:37,890 --> 00:02:43,140
up-to-date picture in a second but we

00:02:41,700 --> 00:02:46,129
we kind of describe it as a really cool

00:02:43,140 --> 00:02:49,230
computer case because it has a core i7

00:02:46,129 --> 00:02:53,129
solid-state drive run ubuntu and ross of

00:02:49,230 --> 00:02:55,530
course and it has wheelchair motors for

00:02:53,129 --> 00:02:56,970
the drive has electric cutting blade and

00:02:55,530 --> 00:02:59,099
motors for the blades so it's an all

00:02:56,970 --> 00:03:02,220
electric lawnmower is actually pretty

00:02:59,099 --> 00:03:03,630
cool drives for about an hour and a half

00:03:02,220 --> 00:03:05,550
to two hours depending on what you're

00:03:03,630 --> 00:03:07,110
doing on the computer we can cut

00:03:05,550 --> 00:03:10,860
something like 6,000 square feet of

00:03:07,110 --> 00:03:13,799
grass and has a full suite of

00:03:10,860 --> 00:03:15,390
reliability and safety mechanisms

00:03:13,799 --> 00:03:18,510
because you know it's a 375 pound

00:03:15,390 --> 00:03:20,430
electric autonomous lawnmower so you

00:03:18,510 --> 00:03:22,140
know of course the competition has good

00:03:20,430 --> 00:03:24,690
deal rules on that it's heavily

00:03:22,140 --> 00:03:27,180
integrated with Ross when we first

00:03:24,690 --> 00:03:29,010
started the competition I done some I

00:03:27,180 --> 00:03:31,349
was basically the lead software engineer

00:03:29,010 --> 00:03:33,239
on it about I guess two and a half years

00:03:31,349 --> 00:03:35,250
ago three years ago when we started

00:03:33,239 --> 00:03:37,200
working on it and I've worked on some

00:03:35,250 --> 00:03:38,610
previous projects and I got tired of

00:03:37,200 --> 00:03:40,590
reinventing the wheel and you know I've

00:03:38,610 --> 00:03:43,079
looked at player and and some other

00:03:40,590 --> 00:03:44,370
things that were out there and you know

00:03:43,079 --> 00:03:45,840
had a bit of the not built here

00:03:44,370 --> 00:03:48,299
mentality and so I was going to write my

00:03:45,840 --> 00:03:52,079
own robotics platform and we started

00:03:48,299 --> 00:03:54,239
down that road and they didn't then

00:03:52,079 --> 00:03:56,220
about that time about halfway through

00:03:54,239 --> 00:03:58,290
developing that we started looking at

00:03:56,220 --> 00:04:00,420
seeing himself about Ross it was on

00:03:58,290 --> 00:04:02,310
slashdot we started kicking ourselves

00:04:00,420 --> 00:04:05,040
and so finally we decided to switch over

00:04:02,310 --> 00:04:07,680
to Ross and I don't think I have any

00:04:05,040 --> 00:04:10,470
regrets about that the lawnmower as it

00:04:07,680 --> 00:04:14,370
sets now is fully russified if you will

00:04:10,470 --> 00:04:16,709
has uses app manager so we can launch

00:04:14,370 --> 00:04:19,940
with android phone we also have a little

00:04:16,709 --> 00:04:25,020
like a QT GUI for launching at manager

00:04:19,940 --> 00:04:27,750
programs we use rosso SC so we can drive

00:04:25,020 --> 00:04:28,860
with our iphones and ipads the guy works

00:04:27,750 --> 00:04:30,690
on the project within michael carroll

00:04:28,860 --> 00:04:32,690
i'll be talking about that tomorrow it's

00:04:30,690 --> 00:04:36,419
got a full you RDF we can use in gazebo

00:04:32,690 --> 00:04:38,310
so it's it's a full Ross implementation

00:04:36,419 --> 00:04:40,020
I just want to talk a little bit about

00:04:38,310 --> 00:04:42,090
the history so the first time we

00:04:40,020 --> 00:04:43,110
competed we had a very large team most

00:04:42,090 --> 00:04:44,700
of the teams at the competition they

00:04:43,110 --> 00:04:46,289
either take a lawnmower make it into a

00:04:44,700 --> 00:04:48,270
robot or take a robot and attach

00:04:46,289 --> 00:04:49,919
lawn-mowing parts to it I really feel

00:04:48,270 --> 00:04:51,900
like we're the first team are the only

00:04:49,919 --> 00:04:54,060
team there that that really designed a

00:04:51,900 --> 00:04:54,630
complete lawnmower up from scratch we

00:04:54,060 --> 00:04:55,830
didn't you

00:04:54,630 --> 00:04:57,240
an existing llama or anything like that

00:04:55,830 --> 00:04:58,560
and that Maslin comes from the fact that

00:04:57,240 --> 00:05:01,380
we had nine mechanical engineers the

00:04:58,560 --> 00:05:03,630
first year and several electrical

00:05:01,380 --> 00:05:06,240
engineers who really built a really good

00:05:03,630 --> 00:05:07,530
solid platform mechanically and

00:05:06,240 --> 00:05:09,650
electrically for us to work on the

00:05:07,530 --> 00:05:11,700
software on which i think is similar to

00:05:09,650 --> 00:05:14,340
sort of what the pr2 provides it

00:05:11,700 --> 00:05:16,110
provides not only hardware in electrical

00:05:14,340 --> 00:05:17,970
but but also a software basis that

00:05:16,110 --> 00:05:19,950
people who sort of get to the work so

00:05:17,970 --> 00:05:23,040
we've been really beneficial in that

00:05:19,950 --> 00:05:27,990
respect moving in 2011 you see the scene

00:05:23,040 --> 00:05:29,730
shrunk slightly so we had this you know

00:05:27,990 --> 00:05:32,670
we're lucky that we had this this stable

00:05:29,730 --> 00:05:35,490
platform and we sort of depended on that

00:05:32,670 --> 00:05:38,040
too to be able to iterate and make

00:05:35,490 --> 00:05:39,480
improvements and then moving on by the

00:05:38,040 --> 00:05:41,310
way this is a picture from the first

00:05:39,480 --> 00:05:43,590
year we have the gps antenna on the

00:05:41,310 --> 00:05:44,760
front and some different configurations

00:05:43,590 --> 00:05:47,430
and the next year we kind of

00:05:44,760 --> 00:05:50,220
reconfigured it but living on the 2012

00:05:47,430 --> 00:05:51,180
this is the current picture and in fact

00:05:50,220 --> 00:05:53,220
this picture is actually not that

00:05:51,180 --> 00:05:54,960
current well this picture is about three

00:05:53,220 --> 00:05:57,000
weeks old and it's already changed but

00:05:54,960 --> 00:05:59,760
because the competition's in two weeks

00:05:57,000 --> 00:06:01,440
but this is basically the gist of some

00:05:59,760 --> 00:06:04,650
things we changed we like angled the

00:06:01,440 --> 00:06:05,730
deck to 45 degrees we have a sick on

00:06:04,650 --> 00:06:06,870
there in that picture but we're not

00:06:05,730 --> 00:06:09,330
using that the competition we're using

00:06:06,870 --> 00:06:13,350
ikuyo mounted right here upside down

00:06:09,330 --> 00:06:15,060
we're using the bumblebee for trying to

00:06:13,350 --> 00:06:16,430
detect the flower bed because a little

00:06:15,060 --> 00:06:18,600
difficult to see that with the laser

00:06:16,430 --> 00:06:20,670
we're not using the Kinect we use it

00:06:18,600 --> 00:06:22,110
indoors occasionally but the other

00:06:20,670 --> 00:06:24,360
sensors it has so it has the bumblebee

00:06:22,110 --> 00:06:26,880
to it has the laser rangefinder that's

00:06:24,360 --> 00:06:28,860
sort of the sensors for detecting the

00:06:26,880 --> 00:06:31,830
obstacles and things like that it also

00:06:28,860 --> 00:06:33,300
has rtk GPS so we have a GPS on the

00:06:31,830 --> 00:06:35,970
vehicle and a GPS at a base station

00:06:33,300 --> 00:06:37,230
they're connected to a radio link to do

00:06:35,970 --> 00:06:38,730
differential Corrections and that gives

00:06:37,230 --> 00:06:42,420
us somewhere in the range of 24

00:06:38,730 --> 00:06:45,810
centimeters of accuracy we also have an

00:06:42,420 --> 00:06:47,880
a hrs or IM you with magnetometers if

00:06:45,810 --> 00:06:51,480
you want to call it that basically gives

00:06:47,880 --> 00:06:55,160
us a heading solution due north and we

00:06:51,480 --> 00:06:55,160
also have encoders on the wheels and

00:06:55,850 --> 00:07:02,120
pick

00:06:58,790 --> 00:07:05,600
this is a YouTube video it's supposed to

00:07:02,120 --> 00:07:09,290
be YouTube video sorry I think it's

00:07:05,600 --> 00:07:11,120
loading so naturally we have these

00:07:09,290 --> 00:07:13,520
sensors on board and we want to get a

00:07:11,120 --> 00:07:15,680
navigation solution so one of the you

00:07:13,520 --> 00:07:17,810
know when we started the project you

00:07:15,680 --> 00:07:19,040
know we had basic software skills basic

00:07:17,810 --> 00:07:22,010
controls and knowledge of things like

00:07:19,040 --> 00:07:27,290
that but having something like the robot

00:07:22,010 --> 00:07:30,050
pose dkf was really a useful thing to

00:07:27,290 --> 00:07:31,550
have sort of it matched our

00:07:30,050 --> 00:07:33,710
understanding of robotics at the time

00:07:31,550 --> 00:07:38,470
and so we had we had tools like robot

00:07:33,710 --> 00:07:38,470
Posey KF and moved based to allow us to

00:07:39,430 --> 00:07:43,100
to allow us to get something working in

00:07:41,690 --> 00:07:44,660
the first year because a lot of the

00:07:43,100 --> 00:07:46,640
first year was interfacing with hardware

00:07:44,660 --> 00:07:49,010
and and building the vehicle and things

00:07:46,640 --> 00:07:52,970
like that and in the preceding years as

00:07:49,010 --> 00:07:59,450
we as we learn more about control and

00:07:52,970 --> 00:08:01,760
estimation and robotics in general we we

00:07:59,450 --> 00:08:03,200
started analyzing these pieces we had

00:08:01,760 --> 00:08:05,120
taken for granted in the Ross commute

00:08:03,200 --> 00:08:06,650
out of the Ross ecosystem and started

00:08:05,120 --> 00:08:10,640
looking at what can we make these better

00:08:06,650 --> 00:08:12,230
should we try to optimize those things

00:08:10,640 --> 00:08:14,030
for our domain or should we implement

00:08:12,230 --> 00:08:15,170
our own things and sort of moving

00:08:14,030 --> 00:08:17,720
forward in the presentation on you're

00:08:15,170 --> 00:08:19,400
talking about specifically robot Posey

00:08:17,720 --> 00:08:21,050
KF and move based on our experiences

00:08:19,400 --> 00:08:22,520
with them one of them we chose to

00:08:21,050 --> 00:08:24,140
replace one of them we chose to stick

00:08:22,520 --> 00:08:25,550
with and i'll be talking a little bit

00:08:24,140 --> 00:08:29,150
about that so i guess the video is not

00:08:25,550 --> 00:08:33,770
going to play sorry but we'll move on in

00:08:29,150 --> 00:08:35,419
the presentation anyways so we had some

00:08:33,770 --> 00:08:37,310
some reasons for wanting to move to an e

00:08:35,419 --> 00:08:40,370
KF after the first year are a customer

00:08:37,310 --> 00:08:42,380
in EKF after the first year the robot

00:08:40,370 --> 00:08:44,480
Posey KF worked quite well actually but

00:08:42,380 --> 00:08:46,100
you know we're thinking maybe we could

00:08:44,480 --> 00:08:49,280
do a little better we just taken classes

00:08:46,100 --> 00:08:51,020
in optimal control estimation and and we

00:08:49,280 --> 00:08:53,330
thought that you know would be good

00:08:51,020 --> 00:08:55,010
learning experience as well but some of

00:08:53,330 --> 00:08:56,690
the things we had that we thought we

00:08:55,010 --> 00:08:58,100
could do we can have a little tighter

00:08:56,690 --> 00:09:00,950
integration of some of the raw sensor

00:08:58,100 --> 00:09:03,200
messages the way robot Posey KF works we

00:09:00,950 --> 00:09:05,540
need to integrate the odometry and

00:09:03,200 --> 00:09:07,370
integrate the IMU solution and and take

00:09:05,540 --> 00:09:09,560
the solution with GPS and then put them

00:09:07,370 --> 00:09:11,270
into the filter a sort of a Confederated

00:09:09,560 --> 00:09:11,649
approach as opposed to an art design

00:09:11,270 --> 00:09:13,689
where

00:09:11,649 --> 00:09:15,759
takes directly the IMU raw messages and

00:09:13,689 --> 00:09:18,639
directly the wheel encoder values and

00:09:15,759 --> 00:09:22,050
things like that we can also take

00:09:18,639 --> 00:09:22,050
advantage of some domain-specific

00:09:22,860 --> 00:09:26,740
heuristics if you will like zero

00:09:25,119 --> 00:09:28,779
velocity updates if we're sitting still

00:09:26,740 --> 00:09:30,160
when the wheel encoders say they're not

00:09:28,779 --> 00:09:31,540
moving at all you know when they are

00:09:30,160 --> 00:09:33,429
moving their noisy but when they're not

00:09:31,540 --> 00:09:34,809
moving we know we're not moving so we

00:09:33,429 --> 00:09:38,350
can take advantage of that to improve

00:09:34,809 --> 00:09:40,509
our our position estimate we can also do

00:09:38,350 --> 00:09:43,660
things like monitor the fixed type of

00:09:40,509 --> 00:09:45,699
GPS is addition to its covariance to try

00:09:43,660 --> 00:09:49,149
to improve that and to do some fault

00:09:45,699 --> 00:09:50,800
detection also i mentioned that our hrs

00:09:49,149 --> 00:09:53,139
has magnetometers to get a heading due

00:09:50,800 --> 00:09:55,119
north it turns out that when you have

00:09:53,139 --> 00:09:57,249
large steel spinning blades those tend

00:09:55,119 --> 00:09:58,179
to affect magnetometers so whenever we

00:09:57,249 --> 00:10:00,069
turn the blades on and off and

00:09:58,179 --> 00:10:02,949
introduces a pretty substantial bias

00:10:00,069 --> 00:10:04,660
into the AAA hrs and so by monitoring

00:10:02,949 --> 00:10:07,119
the blade status in our filter we can

00:10:04,660 --> 00:10:09,309
try to adaptively you know to fix that

00:10:07,119 --> 00:10:11,110
problem and so there was sort of also

00:10:09,309 --> 00:10:13,600
this sort of a black box effect we sort

00:10:11,110 --> 00:10:14,800
of we knew what Posey KF was supposed to

00:10:13,600 --> 00:10:16,449
do we knew the inputs and we knew the

00:10:14,800 --> 00:10:18,100
outputs and about a little bit about the

00:10:16,449 --> 00:10:19,360
knobs we needed to tweak but really

00:10:18,100 --> 00:10:22,179
running our own really led us to

00:10:19,360 --> 00:10:26,370
understand it a lot better and we're

00:10:22,179 --> 00:10:28,689
still using our custom UKF today

00:10:26,370 --> 00:10:30,069
basically I was just saying yeah you

00:10:28,689 --> 00:10:32,230
know it's a better solution for us we

00:10:30,069 --> 00:10:35,259
have tighter control over the solution

00:10:32,230 --> 00:10:36,519
but because of the way Ross forces sort

00:10:35,259 --> 00:10:38,259
of forces you into the defining

00:10:36,519 --> 00:10:40,420
interface and decoupling the components

00:10:38,259 --> 00:10:43,449
of the vehicle made really easy for us

00:10:40,420 --> 00:10:45,220
to not only drop in replace our version

00:10:43,449 --> 00:10:49,779
of the filter but also to easily compare

00:10:45,220 --> 00:10:51,819
and contrast that with robot Posey KF so

00:10:49,779 --> 00:10:54,879
the other big piece we're using from

00:10:51,819 --> 00:10:56,110
Ross is the navigation stack which part

00:10:54,879 --> 00:10:58,089
of that is move based which basically

00:10:56,110 --> 00:11:00,970
provides given an estimate of your

00:10:58,089 --> 00:11:03,549
position some sensors to tell you about

00:11:00,970 --> 00:11:06,189
the environment and a desired position

00:11:03,549 --> 00:11:08,049
it can it can try to plan a path and can

00:11:06,189 --> 00:11:12,279
give you command velocities to achieve

00:11:08,049 --> 00:11:14,230
that and so it's really good at getting

00:11:12,279 --> 00:11:18,369
from point A to point B without hitting

00:11:14,230 --> 00:11:20,589
something which for a lot of what people

00:11:18,369 --> 00:11:22,240
do you know with the pr2 you really just

00:11:20,589 --> 00:11:23,589
want to get to the destination and avoid

00:11:22,240 --> 00:11:24,830
any things but for the one more

00:11:23,589 --> 00:11:26,000
competitions a little different

00:11:24,830 --> 00:11:27,320
we're interested not only in getting

00:11:26,000 --> 00:11:30,230
from point A to point B and not hitting

00:11:27,320 --> 00:11:32,300
things but we also want to you know to

00:11:30,230 --> 00:11:33,500
constrain something about how we get

00:11:32,300 --> 00:11:35,870
there because we're interested in

00:11:33,500 --> 00:11:37,190
coverage of the field not just driving

00:11:35,870 --> 00:11:41,480
around aimlessly without hitting things

00:11:37,190 --> 00:11:43,370
and so move base work pretty well but

00:11:41,480 --> 00:11:44,990
you know there were some problems with

00:11:43,370 --> 00:11:48,010
us being able to predict what it was

00:11:44,990 --> 00:11:50,270
going to do so it you know if you say

00:11:48,010 --> 00:11:51,320
I'm on this side of the field I want to

00:11:50,270 --> 00:11:53,420
drive to the other side of the field and

00:11:51,320 --> 00:11:55,190
cut all the grass in between here you

00:11:53,420 --> 00:11:56,600
know if there's some obstacles in the

00:11:55,190 --> 00:11:58,070
way or something you don't really know

00:11:56,600 --> 00:11:59,990
the path is going to take it might it

00:11:58,070 --> 00:12:01,580
might turn around and go around the long

00:11:59,990 --> 00:12:04,340
way or something like that and so it was

00:12:01,580 --> 00:12:05,810
really it was kind of actually kind of

00:12:04,340 --> 00:12:08,150
frustrating you combine that with the

00:12:05,810 --> 00:12:11,660
fact that our position estimate it's

00:12:08,150 --> 00:12:13,790
sort of noisy because of the GPS you get

00:12:11,660 --> 00:12:15,260
some odd behaviors and sort of it goes

00:12:13,790 --> 00:12:16,640
back to that black box problem we didn't

00:12:15,260 --> 00:12:18,500
really understand how many baise worked

00:12:16,640 --> 00:12:20,240
internally we sort of knew the ins and

00:12:18,500 --> 00:12:21,890
the outs and some of the knobs to tweak

00:12:20,240 --> 00:12:23,270
but when we start you know adjusting

00:12:21,890 --> 00:12:25,370
those knobs they didn't always do what

00:12:23,270 --> 00:12:27,440
we thought they should and so we started

00:12:25,370 --> 00:12:36,170
investigating alternatives to move base

00:12:27,440 --> 00:12:37,310
as well so sorry so so we started on

00:12:36,170 --> 00:12:38,210
investigating alternatives and we

00:12:37,310 --> 00:12:41,720
actually started writing our own

00:12:38,210 --> 00:12:44,450
controllers to do maybe a little simpler

00:12:41,720 --> 00:12:46,540
design but we're hoping what would you

00:12:44,450 --> 00:12:49,820
know still work for our specific domain

00:12:46,540 --> 00:12:51,050
but as we started investigating other

00:12:49,820 --> 00:12:52,580
controllers and we actually wrote her

00:12:51,050 --> 00:12:54,470
own and started you know we basically

00:12:52,580 --> 00:12:57,320
came back to directory roll out the sort

00:12:54,470 --> 00:12:59,180
of model predictive control model we

00:12:57,320 --> 00:13:00,860
started realizing that move base is

00:12:59,180 --> 00:13:02,090
actually quite good and we just need to

00:13:00,860 --> 00:13:04,970
learn more about it and so in the

00:13:02,090 --> 00:13:06,500
experience of of trying to write our own

00:13:04,970 --> 00:13:08,000
controllers we actually came back and

00:13:06,500 --> 00:13:09,920
decided in this instance that we would

00:13:08,000 --> 00:13:12,260
continue to use the provided tool and

00:13:09,920 --> 00:13:13,750
just optimize it for our use now that

00:13:12,260 --> 00:13:15,800
doesn't mean it does everything for us

00:13:13,750 --> 00:13:18,230
this was sort of what I was talking

00:13:15,800 --> 00:13:20,780
about with the with the motion planning

00:13:18,230 --> 00:13:22,190
stuff the other thing is that I don't

00:13:20,780 --> 00:13:24,290
know how much most people know about

00:13:22,190 --> 00:13:27,980
move based but you sort of have local

00:13:24,290 --> 00:13:29,960
and global planners and the global

00:13:27,980 --> 00:13:31,100
planner is is sort of a high level you

00:13:29,960 --> 00:13:32,480
know if you have a map of the

00:13:31,100 --> 00:13:33,830
environment how do I get from point A to

00:13:32,480 --> 00:13:35,360
point B which doors do I need to go

00:13:33,830 --> 00:13:37,280
through the local planner is more of a

00:13:35,360 --> 00:13:37,800
tactical planner where it's going to try

00:13:37,280 --> 00:13:40,050
to avoid

00:13:37,800 --> 00:13:42,000
obstacles and things like that and so we

00:13:40,050 --> 00:13:44,040
went back and forth you know so instead

00:13:42,000 --> 00:13:46,260
of replacing move they should we replace

00:13:44,040 --> 00:13:47,519
parts of it you know because rather than

00:13:46,260 --> 00:13:49,050
trying to do a point A to point B

00:13:47,519 --> 00:13:51,120
tactical planner maybe we should do a

00:13:49,050 --> 00:13:54,570
point A to point B but emphasis on

00:13:51,120 --> 00:13:56,070
coverage and so we sort of looked at

00:13:54,570 --> 00:13:57,779
that the other option is is that you

00:13:56,070 --> 00:14:00,720
just stick with the default global and

00:13:57,779 --> 00:14:04,110
local planner and you sort of just feed

00:14:00,720 --> 00:14:06,120
waypoints to to move based this sort of

00:14:04,110 --> 00:14:07,829
manage move base and I think way

00:14:06,120 --> 00:14:10,470
basically what would come down to is it

00:14:07,829 --> 00:14:13,470
is that we subdivide our coverage plan

00:14:10,470 --> 00:14:14,820
so we have lots of waypoints and and try

00:14:13,470 --> 00:14:17,130
to manage move base rather than

00:14:14,820 --> 00:14:19,649
reimplement individual components of it

00:14:17,130 --> 00:14:20,760
so again unlike the EKF where we

00:14:19,649 --> 00:14:23,490
implement our own it found it to be

00:14:20,760 --> 00:14:24,930
better for our situation with move base

00:14:23,490 --> 00:14:26,550
and with the local and global planners

00:14:24,930 --> 00:14:30,709
we found it easier to use the existing

00:14:26,550 --> 00:14:33,959
stuff once we learn some more about it

00:14:30,709 --> 00:14:36,540
the one more thing that move base

00:14:33,959 --> 00:14:38,490
doesn't really do for us is that the

00:14:36,540 --> 00:14:41,370
most valuable grass is edging the flower

00:14:38,490 --> 00:14:43,079
bed and the defense area and again

00:14:41,370 --> 00:14:45,209
talking about the sort of unpredictable

00:14:43,079 --> 00:14:48,000
nature of move base is sort of a black

00:14:45,209 --> 00:14:50,579
box in some regards we had some need for

00:14:48,000 --> 00:14:52,490
some more controlled maneuvers we wanted

00:14:50,579 --> 00:14:55,649
to make sure that when we told the robot

00:14:52,490 --> 00:14:56,970
we're just telling you go point A to B

00:14:55,649 --> 00:14:58,829
and you do whatever you need to get

00:14:56,970 --> 00:15:00,660
there we wanted very precise movements

00:14:58,829 --> 00:15:02,790
and kind of five these as maneuvers and

00:15:00,660 --> 00:15:04,440
so we have sort of a scheduled

00:15:02,790 --> 00:15:06,510
controlling system now where we use move

00:15:04,440 --> 00:15:08,459
based generally to move from point A to

00:15:06,510 --> 00:15:09,890
point B but in special cases like edging

00:15:08,459 --> 00:15:13,140
the fence and the flower bed we use

00:15:09,890 --> 00:15:17,820
local or custom controllers to to

00:15:13,140 --> 00:15:20,670
improve our ability to do that and in

00:15:17,820 --> 00:15:21,839
conclusion I mean Ross provides great

00:15:20,670 --> 00:15:24,089
general solutions for most common

00:15:21,839 --> 00:15:26,880
problems a lot of times they work really

00:15:24,089 --> 00:15:28,920
well you maybe just need to to study

00:15:26,880 --> 00:15:30,990
them and to try to learn a little bit

00:15:28,920 --> 00:15:33,180
about how they work and they work out

00:15:30,990 --> 00:15:34,440
for you but sometimes they don't but the

00:15:33,180 --> 00:15:36,860
good thing about Ross is is that it

00:15:34,440 --> 00:15:41,579
gives you the flexibility to choose and

00:15:36,860 --> 00:15:44,970
because of the nature of the decoupling

00:15:41,579 --> 00:15:48,329
and interfaces and it really allowed us

00:15:44,970 --> 00:15:49,260
to also grow in our knowledge so the

00:15:48,329 --> 00:15:50,960
first year when we didn't really

00:15:49,260 --> 00:15:52,250
understand how to write our own estimate

00:15:50,960 --> 00:15:54,350
and controllers we had something that

00:15:52,250 --> 00:15:55,940
worked and then we could grow with Ross

00:15:54,350 --> 00:15:57,790
and we could replace things as we wanted

00:15:55,940 --> 00:16:00,770
and needed to and so that was a really

00:15:57,790 --> 00:16:02,570
really good experience and of course

00:16:00,770 --> 00:16:19,700
lawn mowers are awesome so that's all I

00:16:02,570 --> 00:16:22,250
had so the question was do we do we use

00:16:19,700 --> 00:16:24,140
a random path around the field or we try

00:16:22,250 --> 00:16:27,770
to do a you know a pattern that looks

00:16:24,140 --> 00:16:29,930
nice when you're cutting the grass the

00:16:27,770 --> 00:16:31,640
first couple years it was sort of can

00:16:29,930 --> 00:16:33,410
the lawnmower know where it's at on the

00:16:31,640 --> 00:16:35,090
field and not run into things and so we

00:16:33,410 --> 00:16:36,410
sort of aimed around the field trying

00:16:35,090 --> 00:16:38,960
not to hit things and cut as much grass

00:16:36,410 --> 00:16:41,330
as possible but yeah as time moves on

00:16:38,960 --> 00:16:42,620
and this year we're going for sort of

00:16:41,330 --> 00:16:44,270
what's referred to think as a boost

00:16:42,620 --> 00:16:45,860
offending path sort of a path like an

00:16:44,270 --> 00:16:47,930
aux is what you would normally cut the

00:16:45,860 --> 00:16:48,920
grass with up and down the field and

00:16:47,930 --> 00:16:51,230
hopefully that's going to give us a much

00:16:48,920 --> 00:16:52,520
more a much better quality of cut which

00:16:51,230 --> 00:16:55,550
is actually part of the scoring in the

00:16:52,520 --> 00:16:57,860
competition we had the who kuya

00:16:55,550 --> 00:16:59,390
originally the sick is on loan from

00:16:57,860 --> 00:17:02,390
another project and I was using it

00:16:59,390 --> 00:17:03,730
indoors and so the six not actually ours

00:17:02,390 --> 00:17:06,550
that's why we had to take it off so

00:17:03,730 --> 00:17:09,260
otherwise we would have used it for sure

00:17:06,550 --> 00:17:12,170
and the Kinect is an active sensor and

00:17:09,260 --> 00:17:13,760
so it has to project a our pattern of

00:17:12,170 --> 00:17:14,959
course the Sun is a very strong I our

00:17:13,760 --> 00:17:16,670
source be sort of like trying to use a

00:17:14,959 --> 00:17:18,380
computer projector outdoors it just

00:17:16,670 --> 00:17:19,820
doesn't really work that well so we're

00:17:18,380 --> 00:17:21,230
trying to use the bumblebee to pick out

00:17:19,820 --> 00:17:23,180
the flower bed because the flower beds

00:17:21,230 --> 00:17:24,950
so close to the grass it's hard to get

00:17:23,180 --> 00:17:26,720
the laser low enough to reliably see it

00:17:24,950 --> 00:17:29,330
without also seeing all the grass so

00:17:26,720 --> 00:17:31,630
we're trying to you know match those

00:17:29,330 --> 00:17:31,630
sensors

00:17:33,350 --> 00:17:35,410

YouTube URL: https://www.youtube.com/watch?v=eQecc04lDbc


