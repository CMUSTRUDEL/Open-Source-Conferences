Title: Berlin Buzzwords 2014: Barrie Kersbergen - A Real World Multifactor Recommender System @bol.com
Publication date: 2014-05-28
Playlist: Berlin Buzzwords 2014 #bbuzz
Description: 
	Creating recommendations using scalable technology, such as PIG, HIVE or Mahout, is one thing, but what does it take to develop an operating recommender system and what crucial customer behavioral factors are involved, what is the impact of the visual presentation of item being recommended or the way customers move from one item to another?

Some questions related to using these customer behavior factors in a multifactor recommender system are: What should be the level of personalization? How does the real time behavior of the customer constrain the recommender system? How do we measure success when everything is constantly changing?

In this talk I will address the above mentioned questions and give insight into the multifactor recommender system of online retailer bol.com. Moreover, experiences will be shared with building this recommender system and the quality of its output.

Read more:
https://2014.berlinbuzzwords.de/session/real-world-multifactor-recommender-system-bolcom

About Barrie Kersbergen:
https://2014.berlinbuzzwords.de/user/307/event/1

Website: https://berlinbuzzwords.de/
Twitter: https://twitter.com/berlinbuzzwords
LinkedIn: https://www.linkedin.com/showcase/berlin-buzzwords/ 
Reddit: https://www.reddit.com/r/berlinbuzzwords/
Captions: 
	                              hi and welcome everybody my name is                               barri kavitha I'm an expert                               here at the online retailer bullet calm                               and today I want to discuss the                               multi-factor recommended system that we                               built at Bolcom topics didn't want to                               have discussed today are about this new                               recommended system until a few years ago                               we will periodically process what beef                                and data to calculate and predict                                recommendations however these this                                worked great at the time however these                                recommendations need not always align                                with the users intent on site nor will                                be able to recommend items to anonymous                                visitors so that's why we built this new                                system the topics that I want to discuss                                the day is what does it take to develop                                a working an operational recommender                                system what are the crucial customer                                behavioral factors involved and what is                                the impact of the visual presentation of                                the item being recommended Who am I my                                name is Barry cares Becca I've a                                background in computer science I've                                worked at the University utrecht for                                over                                                               computer science and mathematics                                department where I've worked on                                educational mathematical software I                                started joining working at boloco min                                                                                                      specializes in personalizing content and                                the recommender system we talking about                                is one of these systems what is bollock                                um well is one of the largest Dutch                                online retailers it started in                                          selling books and over the years we've a                                delay large number of categories                                recently we won the award for being the                                best web shop which I'm very proud of                                especially since it's regarded the use                                of using personal recommendations and                                the use of big data which is also what                                this talk is about today so this Berlin                                buzzwords track is about scalability so                                why is it so important to focus on                                scalability when developing a                                recommender system well to answer that                                question one have a look at the physical                                uniquely sold products sold per type of                                store so your average supermarket sells                                about                                                                large supermarket sales about                                         looked at up on the website so must be                                correct so what I've done is I've                                created this graph where you see on the                                x-axis the no                                of weeks passing by and on the y axis                                you can see the number of products being                                added or removed to our catalog and what                                you see here is that an extra large                                supermarket gets added to our catalog                                about every four days which is a large                                amount of products please notice the                                spike on the right which is over                                        products being added to our catalog in                                just a small number of time it's almost                                impossible to think what these items are                                we sell over                                                          on our website and in the backend system                                for a recommender we have over                                   million products that we calculate                                recommendations for the difference                                between these two is the products that                                we can levert can or cannot deliver to                                our customers so customers on the                                website or interacting with these                                products and they generate approximately                                over                                                                    so that's over five and a half billion                                click events each year but why should we                                only be interested in click events                                because the only tells us so much we                                were really fun want to find out is what                                the customers actually doing on our                                website for instance how long as you                                look at a product does he read the                                product reviews does he share the                                product on social media does he add the                                item on a wish list or what products                                does the visitor click and is to click                                product a recommendation because if the                                cliq product is a recommendation and                                we're probably doing a good job and                                inspiring the customer but if the                                customer is not interacting with                                everything that we throw it in we're                                probably not doing such a good job and                                 maybe we want to switch strategy and try                                 something different so dealing with                                 these amounts of data requires us to use                                 scalable technology so that's why we                                 started using Hadoop in                                              first application went into production                                 in                                                                    recommender system from scratch well                                 first off we had the non-functional                                 requirements it needed to be                                 horizontally scalable and it needs to                                 perform in real time well the                                 combination of real time and big data is                                 always a little bit confusing in this                                 situation that means in milliseconds we                                 let our customer wait until we have                                 updated in real time the data and then                                 we return content to our customer so it                                 needs to be really fast this means                                 miller                                 seconds it of course needs to handle our                                 volume of data and last but not least we                                 need to be able to explain the workings                                 of our system to our stakeholder because                                 together we can realize any business                                 requirements that they might have so                                 building such a system seems like scary                                 stuff so how do we tackle this while we                                 do this with taking small steps we've                                 the scrum software development                                 methodology where we use                                 multidisciplinary teams so a team is the                                 combined with different specialists all                                 in a different field of study so                                 everything that you need is in the team                                 what we try to do is we try to build                                 vertical slices this means that we try                                 to build a small feature for a                                 recommender system we try to have it in                                 production and being released after two                                 weeks so we do don't do long tragics and                                 passing on the software to different                                 departments we try to main maintain                                 focus and do small steps this allows us                                 to do releases in two weeks and as soon                                 as the software is being released we get                                 feedback from the production and see how                                 it's working and we can expand our                                 functionalities so what you see is as                                 the user stories gets burned down we get                                 features release to production the value                                 of our system increases this allows us                                 to do or really complex things in a                                 small amount of time so now let's talk                                 about recommendations so what do you                                 recommend to millions of visitors in the                                 contours to a physical store we can't go                                 up to our customer and ask for what he                                 or she might need our customers are                                 completely unknown to us and most of our                                 visitors are also anonymous so what do                                 you recommend to somebody that you don't                                 know well for instance what would you                                 recommend me if you know me you might                                 know that my household consumes a large                                 number of diapers each week and I also                                 liked listening to avenged sevenfold but                                 do I like to be recommended about these                                 items so for instance what would you                                 recommend me and can the effect of the                                 recommendation be approved by adapting                                 it to the customers need well before we                                 can answer that question let's have a                                 look at an example where recommendations                                 are shown on our website a product                                 detail page                                 which shows details about a product for                                 instance this is the book HBase book and                                 on the lower end of the screen we show                                 items that might be of interest of you                                 whether it be books from the same                                 publisher or the same author or the same                                 topic and this is all derived from                                 behavior that you expressed on the                                 website right now and the behavior of                                 different customers on the website we're                                 also interested in these products so                                 customers are recommending products to                                 other customers so this is all nice but                                 how can we tell that these are good the                                 best recommendations that we have first                                 of all what we do which we visualize the                                 output data just to get a sense of what                                 we're actually recommending to our                                 customers so what we do is we we load                                 the new software and all data involved                                 to an acceptance environment where our                                 business stakeholders can really get a                                 feel of how the system is working on a                                 clean environment that's only accessible                                 to boloco employees only so that should                                 really give us a feel of how it's                                 working then of course we also do the                                 offline recommender evaluation and we                                 run algorithms that Express the                                 numerical value of how the system is                                 doing this allows us to tune parameters                                 and see if we can optimize for some                                 predictive behavior a very known error                                 metric which I'm not going to discuss                                 right now is of course the root mean                                 squared error which allows you to                                 optimize your parameters just by running                                 over the algorithms over and over again                                 trying different parameters but is that                                 all we can do for instance if the data                                 that looks ok and you have a low                                 numerical error do you have the best                                 recommender that you can have on your                                 website well to answer that question one                                 I have a look at a hypothetical                                 hypothetical gas station that hires us                                 to do recommendations for a gas station                                 so the requirements for this system is                                 that it needs to support anonymous and                                 unknown customers of course it needs to                                 be really fast and of course we like the                                 low numerical error the recommendation                                 is considered successfully if the                                 customer buys the item after seeing the                                 recommendation first so what happens is                                 truck comes                                 long to the gas station it's a new and                                 unknown customer it's a tow truck so we                                 recommend diesel we've learned this and                                 does the customer buy the item after                                 seeing as there's a recommendation yes                                 he does then a different car comes along                                 it's also a new and unknown customer                                 it's a sports car so we recommend petrol                                 and that's the customer buy the item                                 after seeing this is a recommendation                                 yes he does so what's the evaluation the                                 data looks ok we have a low error or l                                 loera very value we were able to                                 accurately predict the recommendations                                 and almost everything that we recommend                                 gets bought wow this is a good                                 recommender system well to tell you the                                 truth I don't know from a commerce point                                 of view my point would be what is the                                 additional added value for using this                                 recommender system if it adds value then                                 it's a good recommender system but if it                                 doesn't add value let us know of no use                                 so common error metrics tells you the                                 ability to accurately predict and see                                 how well the recommender system is able                                 to to measure how well this system is                                 able to predict some behavior compared                                 to the true behavior but from a commerce                                 point of view we want to add value to                                 the customer experience the customer                                 experience is perceived differently                                 among customers and even differently                                 among time so how do we tackle such a                                 complex complex problem what we do is we                                 do long-term analysis what we want to                                 find out is how is the performance of                                 this recommended system over time one                                 thing that we find very important is to                                 know do the visitors return after buying                                 a recommendation another thing that we                                 do is we analyze the behavior because                                 this learns us about how we can build                                 new features and a drill a new value to                                 the system that we've built and last but                                 not least we do live user experiments of                                 course without telling the users so how                                 does such a system work well a                                 recommender is a Dayton see a                                 data-driven decision maker so we want to                                 optimize the combination of algorithms                                 that we use we also want to optimize the                                 user interface in which we present the                                 recommendations with                                 times you real well we also want to                                 optimize the user interaction flows so                                 we've developed their own                                 experimentation framework to find out if                                 the customers really prefer the left                                 version of the right version of the road                                 so how the stretch the system works well                                 that's pretty easy what we do is a                                 customer comes through our website and                                 request for some content and let's say                                 there is a recommendation slot so the                                 college being made to a recommender                                 system for kept me some recommendations                                 for customer                                              experimentation framework is in between                                 and it classifies the user which could                                 be arbitrarily random fifty percent of                                 the users get the old algorithm fifty                                 percent of the users get the new                                 algorithm the recommender system is                                 recommending the algorithm a or b                                 depending on the classification and the                                 recommendations are returned to the                                 website and this is presented to our                                 visitors then we also without the                                 customer knowing this we measure the                                 effect so we're able to report the                                 differences over time and this allows us                                 to learn if the new version is really an                                 improvement over the control so what are                                 the some results that we've learned                                 through live user experiments so this is                                 an example of a recommendation for a                                 certain visitor it's a set of pans so                                 one thing we've learned is that we want                                 to optimize and personalize the product                                 attributes being shown to a customer so                                 depending on your profile we ought to                                 show you some attributes and for some                                 other customers we show different                                 attributes so in the left picture this                                 has a lot of technical facts what you                                 see on the right side is the same                                 product being recommended to some                                 specific customer however it has                                 different product attributes highlighted                                 so the product as well as the                                 visualization is personalized for this                                 customer what we've learned is this can                                 really add a lot of value what is                                 another example of what we learned                                 through experimentation is this is a                                 recommendation selected for you because                                 you like data mining this is all derived                                 from implicit feedback that we get from                                 the users so what is he actually doing                                 on the side we thought well maybe it                                 might be a good idea to incorporate the                                 user and                                 have him interact with a recommender                                 system so we added a feature what a user                                 can interact with the recommendations to                                 say if he did or did not like this                                 recommendation and try to improve the                                 recommendations for him and for some                                 users this really adds a lot of value                                 now let's have a look at an example of                                 where we show recommendations well we                                 could personalize this whole page and                                 show different kinds of recommendation                                 but this specific moment in time this is                                 what we show so what you see here is                                 recommendations based on the things that                                 you interact with which you wish list we                                 can also recommend search queries to you                                 we're also able to recommend some                                 general personalized recommendations                                 however as you can see it this does not                                 contain feedback why we recommend this                                 to you are also able to recommend deals                                 for you or even price changes or the                                 thing I like best is recommending                                 categories to users and where we can                                 recommend trends for you I'm really                                 proud of that so so what have we just                                 seen we're able so what we're basically                                 doing is recommending algorithms and                                 output to users and the output of the                                 algorithms is content which could be                                 products authors artists deals                                 categories you name it we can recommend                                 it and this is all done with a                                 personalized user interface so what we                                 recommend on how we recommend it to you                                 is personalized we're also able to                                 determine the priority in which we want                                 to show the content on the page we can                                 do this over multiple channels because                                 what we've seen is that when visitors                                 enter their website they start in the                                 morning using their mobile device then                                 at eleven o'clock they come back using                                 an old PC using an old browser then add                                 a six o'clock to come back using a                                 tablet and then add eight o'clock the                                 government and to the side right away do                                 the purchase and then they leave so we                                 want to optimize this over all channels                                 so the perception is complete so what                                 should be the ultimate level of                                 personalization well since I work in a                                 team specialized in personalization I                                 may not have an unbiased opinion about                                 this but in my opinion it should be this                                 what we of course try to do is recommend                                 the right item                                 to our customer it should be in the                                 right presentation it should be in the                                 right place because we don't want to                                 surprise our visitors and it has to have                                 the right promotion which mean price and                                 it has to have the right timing the                                 right timing means it has to be                                 convenient for the visitor and last but                                 not least we want to have the right                                 frequency because if we only show the                                 recommendation once we're not able we're                                 not sure if the visitor didn't see the                                 recommendation or did not like it but if                                 we repeat it too often then it might get                                 irritating because we show the                                 recommendation                                                     you're still not interacting with the                                 recommendation so that might also be                                 occluded we're not doing a good job so                                 how does this real-time behavior that we                                 all just discussed constraints the                                 recommender system what we want to find                                 out in real time is what would really                                 add value to the customer given his                                 current context because if he's                                 searching for a TV in our search engine                                 that he's probably orientating for and                                 it has no clue of what TV is probably                                 going to buy but if he is looking for a                                 samsung sm                                                           probably has a good idea of what he's                                 trying to purchase that it would confuse                                 the customer and trying to sell                                 different types of tvs so this is                                 something that we need to find out in                                 real time and what do we already know                                 about this customer how does he interact                                 with our recommendations are we able to                                 inspire this customer and what should be                                 the level of personalization well the                                 real challenge in this is that we have                                 to determine what to do with the time                                 given to us so technically that means                                                                                                          at we have only about                                          milliseconds so every milliseconds count                                 so what are some hints that I want to                                 give you is try to cash expensive data                                 this could be anything from a database                                 lookup tool a expensive computation if                                 you need it on later on maybe you want                                 to catch the result just to make sure                                 that we're not trying to calculate the                                 same thing over and over again and                                 definitely try to tune and try different                                 jdbc connectivity components what I've                                 seen                                 and practices that we were able to cut                                 down the database calls with over                                                                                                                parameters for your specific query a                                 last but not least every JDK comes with                                 a visual vm java profiler use this this                                 really helps you in getting a good idea                                 of where your actual computations are                                 being spent so thank you very much for                                 listening to my talk if you have any                                 questions if there is time you can ask                                 them to me no time so come back to me                                 I'll be downstairs at our booth thank                                 you very much
YouTube URL: https://www.youtube.com/watch?v=f-y_JRmhStM


