Title: Berlin Buzzwords 2013: Grant Ingersoll - Crowd-sourced Intelligence Built Into Search Over Hadoop
Publication date: 2013-06-19
Playlist: Berlin Buzzwords 2013 #bbuzz
Description: 
	Search has quickly evolved from being an extension of the data warehouse to being run as a real time decision processing system. Search is increasingly being used to gather intelligence on multi-structured data leveraging distributed platforms such as Hadoop in the background. 

This session will provide details on how search engines can be abused to use not text, but mathematically derived tokens to build models that implement reflected intelligence. In such a system, intelligent or trend-setting behavior of some users is reflected back at other users. More importantly, the mathematics of evaluating these models can be hidden in a conventional search engine like Solr, making the system easy to build and deploy. 

The session will describe how to integrate Apache Solr/Lucene with Hadoop. Then we will show how crowd-sourced search behavior can be looped back into analysis and how constantly self-correcting models can be created and deployed. Finally, we will show how these models can respond with intelligent behavior in realtime.

Read more:
https://2013.berlinbuzzwords.de/sessions/crowd-sourced-intelligence-built-search-over-hadoop

About Grant Ingersoll:
https://2013.berlinbuzzwords.de/users/grantingersoll

Website: https://berlinbuzzwords.de/
Twitter: https://twitter.com/berlinbuzzwords
LinkedIn: https://www.linkedin.com/showcase/berlin-buzzwords/ 
Reddit: https://www.reddit.com/r/berlinbuzzwords/
Captions: 
	                              all right when we get started my name is                               grant Ingersoll welcome I'm going to be                               talking today about crowd-sourced                               intelligence and how you can build this                               into search and how you can leverage                               this in a big data environment if you've                               been to any of the earlier talks about                               recommendations search etc a lot of the                               concepts here are essentially trying to                                take and look at more generic forms of                                that not just recommendations but how                                can we leverage this all this feedback                                that we get from users to make for                                better search better data access those                                kinds of things okay so I want to start                                off by asking some questions really                                hopefully getting you to think about is                                search enough if you've been loosing                                using the scene or solar elasticsearch                                or and Dekka or gsa or whatever search                                engine technology you've been using for                                a long period of time you know that you                                can get really good keyword based search                                out of those right but then you start to                                ask yourself is that enough how many of                                you are doing ranking just based off of                                keyword matching kind of good old                                tried-and-true tf-idf a few people how                                many are using other factors user                                profiles ratings reviews recommendations                                etc etc right so when you look at like                                so there's a handful of you when you                                look at the big boys in search right the                                googles the bings etc from what I've                                seen and gathered from looking at                                literature and what people publish etc                                they use on average somewhere between                                                                                                      different features just to score your                                query right so this is things like your                                social network activities obviously                                things like page rank and authoritative                                calculations the tf-idf scores etc XR                                all of these things factor in and that's                                really what in many ways I want to talk                                about here the other thing I want to                                think about in the context of search and                                the reason why I have these background                                of clocks here is I want you to think                                about this intelligent stuff this crowd                                source intelligence how to leverages as                                a                                way for you to improve the capabilities                                of your search while also hopefully                                compressing the amount of time it takes                                you to build a quality Search                                application right so if you think about                                what it takes to build out a quality                                search based application right you have                                this up front part of the time say it's                                a six-month project that you're going to                                that's going to roughly take to do this                                you have this up front part of the time                                where you're going to go off and you're                                going to do your technology due                                diligence you're going to look at                                leucine you're going to look at solar                                you're going to look at any of the other                                competitors etc and then you're going to                                make some selection about that thing                                right and you say oh well this is the                                this is the search technology I need and                                it's based off of leucine and that's                                tried and true and that's all great we                                of course want you to do those things                                but then you're going to spend maybe the                                next month out of that six months doing                                the dirty work right of how do I get my                                data in how do i get my analysis stream                                done right how do I make sure this thing                                actually stands up in a QA environment                                etc and then you're going to in all                                likelihood spend all of the rest of your                                time and from here on out for a while                                how do I actually improve the quality of                                my data access right am I getting my                                users they're relevant am I getting them                                the best results I can get them in the                                situation i'm in i'm sure if most of you                                are engineers i can speak from                                experience on this on more than one                                occasion i worked my butt off I've been                                on weekends I come in I think I've got                                searched all ready to go boss man comes                                in CEO comes in oh I did a search for X                                and the results stink your search is                                broken and now all of a sudden I'm in                                this quandary of search is not broken i                                know it's not but i can't even                                 necessarily prove it back to him because                                 i don't have this bigger picture view of                                 it's not just about deploying the                                 technology it's about deploying the                                 technology to effectively solve the                                 problems that the business needs to                                 solve and that's where i think this                                 stuff around crowd-sourced intelligence                                 can really help you solve those kinds of                                 problems such that you can go back to                                 boss man and say hey                                 I'm sorry that your query doesn't work                                 out for you but here's the list of                                    queries that we make all of our money                                 off of and those all work right and                                 that's what matters and so that's why I                                 asked you is search enough I think you                                 need to start to think about a lot of                                 different things when it comes in to                                 search obviously like I said keyword                                 search is a commodity but at the end of                                 the day you need to take a much more                                 holistic view of not only the data you                                 have the search technologies in but also                                 how our users interacting with that data                                 right so if you were down at a Robert                                 and Simon's talks you saw how some of                                 the stuff factors into auto-suggest                                 that's one Avenue of this spell checking                                 recommendations etc etc these are all                                 specific instances of ways that you can                                 leverage this in a much more interesting                                 way to provide at the end of the day                                 those better results that you're after                                 the last part make this high levels i                                 think really the way the key to                                 unlocking all of this is you have to                                 move well beyond search and this is                                 where it starts to get interesting when                                 you combine search and hadoop because                                 head do provide you this great                                 capability for essentially mining all of                                 the logs mining all the information you                                 have at scale in an offline mode doing                                 all kinds of fancy machine learning or                                 statistical analysis and then you can                                 push that back into solar you could push                                 that back into your search engine and                                 this is by taking this holistic view of                                 not only the users and the data but also                                 that I'm I not only want to have users                                 do search but I want them to also be                                 able to discover things and then I want                                 to be able to understand what they did                                 that's really the keys to a lot of these                                 different things in my view so with that                                 introduction what I wanted to talk about                                 then is really just get into what are                                 the some of the details around this what                                 is this search revolution going on how                                 can we leverage the search engine that                                 we're all used to using for                                 keyword-based search etc to do this                                 reflected intelligence kinds of things                                 how can we look at and then can we look                                 at some of the use cases around                                 reflected of intelligence this is kind                                 of a made-up term that Ted done in and I                                 have have put out there on a number of                                 occasions things like collective                                 intelligence you                                 also fit into this crowd sourcing yada                                 yada yada so what are some of the use                                 cases that we've seen in practice where                                 real people are being successful with                                 this at very large scales and then what                                 does it look like to build out an actual                                 platform that allows you to do these                                 kinds of things and then we'll talk                                 about why this is finish up hopefully                                 with some some insight into why this is                                 really beneficial so if you like me most                                 people hear your developers chances are                                 you probably only look at search and                                 your data from this layer up if you                                 think about it if I've got a bunch of                                 data and I'm a sysadmin well I just                                 probably need like a distributed file                                 system I'm just looking at where does                                 all this data reside is it replicated                                 properly is it backed up etc etc I don't                                 necessarily care about the actual data                                 if you're the engineer who's actually                                 implementing this stuff well you                                 probably are just going to be                                 interacting with either on the command                                 line via some query clients or maybe                                 through your browser making rest api                                 calls etc so you really just need things                                 like good key value look up and you need                                 to be able to sanity check all of your                                 data etc but then when you get to be the                                 end user it all kinds of shifts right if                                 you're like most of my users most of                                 them don't know how to write sequel                                 queries they're not going to write rest                                 JSON calls etc they want to be able to                                 type in keywords into a search box right                                 I often ask the audience it won't work                                 here but I'll often ask the audience of                                 where it's a moment of a mix of business                                 and technical you know how many of you                                 know how to write sequel right now in                                 this audience yeah probably most of you                                 and but in the audience's often talk to                                 that are more business for oriented you                                 know it's maybe one or two people and I                                 say well how many of you know how to                                 type in keywords into a search box right                                 and everybody in the room goes up                                 because as a matter of fact at the end                                 of the day search is the way we are all                                 used to accessing data but as I                                 hopefully will prove out in this talk is                                 I think you're going to see that just                                 doing keyword search is not enough and                                 so when we're really looking at this                                 notion of reflect                                 intelligence I think this is where we're                                 talking about is how can we bring this                                 back to the user these people they don't                                 care so much they just want to make sure                                 everything works and it works fast but                                 those end users this is really where                                 we're talking about how do we bring this                                 up a level so the other interesting                                 thing that I think's going on and                                 probably in many reasons why a lot of                                 you are here at both at this talking at                                 the conference is there's really a                                 revolution going on in my mind or maybe                                 an evolution it depends on on your point                                 of view of how long you've been doing                                 this but there's really revolution going                                 on in search and I think the interesting                                 thing is is in no small part comes out                                 of the no sequel movement or this                                 movement in my mind of where computer                                 scientists finally remembered why they                                 went and got that computer science                                 degree because it's not all about just                                 looking up things in a database it's                                 like oh hey you know I took this class                                 on algorithms or I took this class on                                 data structures maybe I should use the                                 appropriate data structure for the job                                 or the appropriate algorithm for the job                                 so one of the things I hopefully can                                 communicate to you here today is that                                 search engines the the actual algorithms                                 and data structures are pretty                                 interesting for solving all kinds of                                 problems not just related to search so                                 in fact when you think about a search                                 engine what is it really good at it's                                 really good at returning top n right                                 that's what it's optimized for it                                 doesn't necessarily have to be based off                                 of human language what you put into it                                 at the end of the day leucine it's not                                 like it calls the things that it puts                                 into the index words it calls them                                 tokens and the reason is is a token as                                 an abstract concept so you as an                                 engineer you can think about all kinds                                 of things that you can put into the                                 search engine like Ted talked about this                                 morning you can do it with co-occurrence                                 information such that you're just                                 putting in data around what people have                                 clicked on you're not necessarily                                 putting into it the actual tokens etc a                                 few ideas around this that really                                 crystallized my thinking one is this                                 notion of as soon as you start putting                                 data into search you often go through                                 this process of D normalizing the data                                 to some extent now we've seen in solar                                 etc have gotten better over the years of                                 dealing with some level of normality                                 when it comes to the data but the fact                                 is you're                                 often d normalizing your data from its                                 it's a third normal form or whatever you                                 keep it in the database or wherever it                                 originally came from but once you start                                 doing that you start to see though                                 there's all kinds of different ways I                                 can access this data that makes for a                                 much more friendly experience for my                                 users and a much more responsive a way                                 of users interacting with it the other                                 thing that comes to mind is that and Ted                                 said this to me one day in an offhand                                 comment like isn't it obvious now I                                 don't know about you but whenever I hear                                 a TED talk it always takes me about                                 three days to really understand what he                                 said but when I finally get there it's                                 like gee he's really right and the thing                                 he said to me is well if you think about                                 scoring in a search engine it's really                                 just a sparse matrix multiplication                                 right well and then you say okay well                                 yeah that makes sense after a while and                                 then once you realize that you realize                                 well I know a whole bunch of other kinds                                 of problems that are sparse matrix                                 multiplications right and so then you                                 say oh well maybe I can use a search                                 engine to solve that because again it's                                 not so much the idea that it's a search                                 engine it's the idea that the the data                                 structures and algorithms that are used                                 to implement a search engine also can                                 solve these other kinds of problems the                                 other thing that's been going on if you                                 haven't been taint paying attention is                                 you know blue scene                                               cuttings leucine anymore to put it                                 nicely right what was leucine three and                                 two and one etc that has changed quite                                 extensively we've got things like joins                                 in there we've got a lot more database                                 like features I like to think of search                                 as being no sequel before no sequel was                                 cool you've also got things like                                 flexible indexing if you've heard of any                                 of the stuff around codex and posting                                 lists and all that kind of stuff a lot                                 more flexibility there and then if you                                 were in Simon and Roberts talks you know                                 they these FST things are pretty cool                                 too so there's lots of kinds of problems                                 we can solve with those and then other                                 things that come to mind is this stuff                                 scales way better than it ever did it                                 was pretty fast back in when I got                                 started with leucine relative to the                                 time that we were at but nowadays I                                 think it can keep up with with almost                                 everything that you want to throw at it                                 and more importantly also and especially                                 in the context of search is not just                                 about keyword-based stuff we've tried to                                 bake in more capabilities that allow you                                 to do fancier relevance we've also made                                 it easier for you to try out alternate                                 relevance model so all of those things                                 hopefully allow you to think about there                                 are ways that I can use this stuff to                                 solve these kinds of problems so getting                                 back into the reflected intelligence a                                 bit more I start like I said like to                                 think about in the context of search                                 discovering analytics and when you                                 really think about this reflected                                 intelligence it's really all about                                 large-scale analysis of what users are                                 doing with your content I often think                                 that many reasons why things like                                 enterprise search etc often fail within                                 within a business is not because the                                 core search technology isn't good and                                 for the most part the underlying the                                 underpinnings of any of these search                                 engines is more or less the same and has                                 been the same for the last                                          years the thing that is often missing is                                 that they don't take account for what                                 users are doing with that data right and                                 so this is where you start to do things                                 like really looking at correlation                                 analysis looking at what are people                                 querying for within a session within a                                 day within a week what are they clicking                                 on some companies I know actually are                                 now tracking where you are on on the                                 screen and they will send that back all                                 the time such that you can know where is                                 the mouse hot spot is for any given                                 query so because oftentimes clicks                                 aren't exactly a good predictor of                                 search because if you've done a good job                                 of highlighting or snippet generation it                                 may be that the user gets their answer                                 solely by looking at the screen and so                                 you never even get a click but if you                                 know where the mouse is on the screen                                 chances are you saw they scroll down and                                 we're hovering over a certain place so                                 all of those things can feed in and                                 really help us do this large-scale                                 correlation analysis and then there's                                 lots of other things you can generate                                 out of this things like clusters trends                                 topics sips starts wista two stands for                                 statistically interesting phrases all of                                 these things are the things that we're                                 after we're looking at not only the                                 content at scale for interesting                                 patterns but also the way users are                                 interacting with it the other thing that                                 comes out of this that's                                 pretty interesting I think is that you                                 can start to think about again is that                                 idea that denormalization frees your                                 mind i also think when you start to have                                 these tools of really baking into your                                 the development of your application this                                 notion reflected intelligence you take a                                 much more experimental approach right                                 from the get-go right so you're starting                                 to see this more and more especially I                                 think at ecommerce sites i think often                                 lead the way when it comes to these                                 kinds of things but you're seeing it                                 more and more places where essentially                                 instead of you thinking about relevance                                 as being this quasi static thing of you                                 know I've got relevance for a week or                                 two months or whatever it is even though                                 my data is changing my scoring model is                                 not and that's typically how leucine                                 does it you start to see companies                                 actually who are experimenting with all                                 of their relevant stuff on a daily or                                 weekly basis and it's not just about                                 tracking you know it's not just about                                 doing things like a bee testing but                                 they're actually doing abcdefg and                                 they're tracking all of those                                 experiments all the time such that you                                 know some sliver of chances are no two                                 people are exactly seen the same site                                 even though they put in the same queries                                 all the time right and so if you start                                 and take that to the nth degree we now                                 have an even bigger analysis problem                                 because we want to know who did what                                 with what experiment and so now you also                                 need to bake in right from the get-go                                 good version management around your                                 experimentation and then last but not                                 least I think one of the other trends                                 you're seeing in many ways comes out of                                 the developer environment or out of the                                 developer movement around agile is it                                 also take an agile approach to your data                                 right this data even if it's coming in                                 very rapidly you shouldn't think about                                 it oh I always have to analyze it this                                 specific way for the next three months                                 you can start to think about how can I                                 always be testing my assumptions about                                 the data about the way users are                                 interacting with how can I then learn                                 from that in a very rapid way right                                 because that is ultimately what leads to                                 what I like to capture here is kind of                                 this virtuous cycle where the more                                 people do search and discovery those are                                 basically two sides of the same coin the                                 better analytics I get the better                                 analytics I get the bed                                 research and discovery I get and oh by                                 the way doing all this analytics this is                                 really going to drive your business                                 insight to because you can siphon off                                 all that information and know all of                                 those things as well to give to your                                 business users etc so that you know what                                 your top queries are top terms top                                 usages all of those kinds of things so                                 shifting gears a little bit some of the                                 use cases we've seen if people either                                 experimenting with these ideas or                                 putting them in production this first                                 one was a pretty interesting one around                                 social media analysis at a telecom                                 company actually based in Japan and it                                 wasn't your typical kind of at least in                                 my mind boring sentiment analysis of                                 tweets kind of application this was                                 actually really interesting production                                 usage or attempt at better understanding                                 what's going on in their in their                                 telecom network based off of what people                                 are seeing in social media so for                                 instance if your telecom provider you                                 often see these spikes in usage right                                 where there's you know there's a concert                                 or something like that right and so if                                 you're looking at the social media                                 stream there you know you'd see people                                 saying oh you know I just got out of the                                 Beyonce concert or whoever the the                                 latest pop star is which is interesting                                 but doesn't really warrant you waking up                                 any engineers to say hey we've got a                                 problem with our cell tower right next                                 to that stadium on the other hand if                                 you're watching all of that social                                 streaming data and you're noticing that                                 you have a spike and all of the tweets                                 are oh my god there's a tornado about to                                 hit or there's a typhoon going on or                                 there's a fire or there's some other                                 natural disaster or something like that                                 not only can you be proactive about                                 making sure that you can provision                                 resources to that area but you can also                                 probably even do be a good citizen and                                 go tell the proper authorities etc such                                 that you can respond to it in a much                                 faster way and it's in the interesting                                 thing there is you're looking at all of                                 that collective intelligence of people                                 and you're combining that in with your                                 search system etc such that people who                                 are watching and analyzing this stuff                                 can see all of those things going                                 so at the end of the day you get a much                                 better ability to predict outages handle                                 emergency situations etc right and so                                 again this is an interesting one because                                 they're actually using the search engine                                 to surface this information but they're                                 not really typing inquiries ever there's                                 nobody sitting there Oh is there an                                 earthquake going on and then hitting the                                 button every you know three minutes to                                 see if there's something going on there                                 another interesting one is when you                                 start to really look at this notion of                                 provenance I who owns the data and and                                 whether that data is valuable on its own                                 or whether it's valuable because we know                                 where it came from etc and so when you                                 often look at a broadcast based media TV                                 radio etc you never really know whether                                 a user is going to is affected by that                                 advertising etc but if we're a company                                 who's doing social media analysis                                 looking at the way people are                                 interacting with that data and then also                                 looking at the resolution of that social                                 traffic you can start to all of sudden                                 bring all this Providence back such that                                 in this particular case the advertiser                                 found that or the the person that was                                 providing the advertising platform was                                 able to find out that this notion of                                 knowing when and where and how effective                                 that content was was worth five times                                 more than the on targeted advertising                                 and that really can lead to a lot more                                 interesting stories when you think about                                 it from a business standpoint and again                                 the interesting thing here is that                                 you're you're not hat you're the                                 advertiser the platform that's providing                                 the advertiser they don't need to be                                 some sentient being that knows all right                                 they're just reflecting back to the                                 people buying the ads that hey i know                                 and i can count how many people are                                 seeing is because I've got all the                                 things in place to do this and the                                 search engine technology is really good                                 at allowing you to capture that kind of                                 information along with these offline                                 analytics another interesting one to get                                 a little more enterprising on you and                                 not be social media so social media                                 oriented looking at claims analysis at                                 an insurance company so                                 a typical kind of thing here is you've                                 got you know you've got a lot of                                 metadata you know where was the accident                                 make model year all of that kind of                                 stuff and then usually you have a whole                                 bunch of text data along with that you                                 know things like eyewitness reports and                                 police reports etc etc and in this                                 particular case what was really                                 interesting is that this insurance come                                 there's a pretty large US based                                 insurance company they were able to                                 combine free text search with a lot of                                 metadata analysis to really identify                                 high-risk activities across the country                                 also to do things like fraud analysis                                 etc and the interesting part there is                                 that oftentimes unlikely for instance in                                 these fraud analytics systems you have                                 this kind of combination of two things                                 going on usually have a machine learning                                 based approach for doing fraud analytics                                 but some percentage of the cases you                                 will not be able to handle just by a                                 machine learning based approach and so                                 those you kick out to the human and then                                 they have to go and investigate and one                                 of the best ways in this particular case                                 we gave them to allow them to                                 investigate was by giving them a search                                 interface on this that not only                                 incorporated the machine learning                                 aspects and ratings and recommendations                                 but also their colleagues ratings and                                 recommendations on the case if they                                 happen to be collaborating and then                                 their own judgment could be brought back                                 into that so it's not necessarily                                 reflected intelligence that a large                                 scale but it's within an enterprise i                                 think is reflecting more and more of                                 that intelligence in there such that at                                 the end of the day questions that used                                 to take them                                                            now take seconds because again we're                                 doing all this offline analysis of the                                 data and then we're pushing it out                                 through the search engine which is that                                 natural interface for giving customer                                 another one real quickly can search                                 catch bad guys this is another customer                                 of ours doing online drug counterfeit                                 detection I don't know if you know this                                 but a lot of online pharmacies at least                                 as far as US law goes they're selling                                 drugs illegally because the                                 pharmaceutical companies do not                                 authorize them to sell online and so                                 there can be a lot of problems there but                                 as a pharmaceutical company you don't                                 necessarily have the resources to go                                 after all of these                                 guys or you you don't have the ability                                 to just you know go across and take a                                 shotgun approach and so what we try to                                 do in this particular case was working                                 to essentially create a vertical data                                 set around these online pharmacies get                                 in and identify common commonly used                                 language indicators of counterfeit                                 activity right so the idea being here is                                 that the way all of these different                                 websites talk about how they're selling                                 these drugs in an online pharmacy                                 situation there's often good indicators                                 in that but you wouldn't know it if you                                 just looked at any single website so in                                 this way it's not all of us people                                 voting but it's all of the authors of                                 the content who are voting and then                                 you're trying to identify those those                                 patterns so things like statistically                                 interesting phrases become more                                 prevalent here people familiar with                                 statistically interesting phrases so                                 these are these are words that co-occur                                 next to each other more often than what                                 you would expect given a normal                                 distribution right so that's why they're                                 statistically interesting it doesn't                                 necessarily mean make them good phrases                                 but chances are they're good phrases and                                 so if you present it out to an analyst                                 they can use those phrases to then go                                 dig into the content and see what that's                                 all about and then of course like I said                                 you want to feed this all back out to                                 the search driven application such as                                 the analyst at the end of the day are                                 able to make better decisions about                                 what's going on one of the things we do                                 in a lucid work searches is a fairly                                 lightweight version of learning to rank                                 but it's essentially reflecting back                                 intelligence by looking at clicks a                                 pretty common thing to do these days                                 we've baked it in but essentially like I                                 said we're trying to get beyond tf-idf                                 by leveraging user votes I how many                                 people click for the third result for                                 this given query can we go and boost                                 that up right because if you're in in                                 many situations like say e-commerce is a                                 good example of this they often pay you                                 know                                                                 size of the e-commerce site maybe even                                 more to actually look at relevance on a                                 regular basis and they're curating the                                 results little                                 did you know that when somebody says                                 sort by most relevant on Amazon or                                 whatever well that's most relevant to                                 who well it's most relevant to probably                                 your query end to what Amazon makes off                                 of you so they're going to give you                                 results all else being equal I want to                                 give you good results that I make more                                 money off of right so one of the things                                 that you can perhaps do on in those                                 kinds of situations also so that you can                                 reduce the number of merchandisers you                                 have is just simply let the popularity                                 of the results be the factor in scoring                                 so it's not just the keyword matching                                 but also how many people went through                                 and voted on this and so the way we do                                 this of course in our system is of                                 course you've got to log all the clicks                                 on the query you can't get by without                                 any of that and then periodically you                                 process the logs this is not necessarily                                 something you care about in real time                                 unless maybe you're a flash sales site                                 where you know the sale could be done in                                 five minutes but generally speaking                                 popularity doesn't change that often and                                 so you can do this hourly or daily or                                 weekly kind of situation and then what                                 we do is some trickery underneath the                                 hood to update the lucene index such                                 that you don't have to go and re-index                                 all the documents with these boost                                 factors some of the other things you can                                 do around learning to rank is of course                                 train a classifier etc if you're really                                 interested in learning to rank there's a                                 lot of interesting academic literature                                 about that not that hard to integrate in                                 with leucine and then hopefully at the                                 end of the day you profit the other                                 thing you want to watch out for is                                 things that are popular tend to stay                                 popular so you want to also think about                                 how can i decay this over time you know                                 such that new content has a chance to                                 become popular looking at this a little                                 bit I borrowed this slide from under a                                 previous talk from Andre hopefully it                                 shows up there all right this is just                                 kind of some of the examples of if                                 you're familiar with loose teen                                 low-level things there's a sink called a                                 parallel reader which allows you to have                                 two side-by-side indexes presumably one                                 that you're updating frequently and the                                 other that you're free updating much                                 less frequently and so you can keep                                 track of                                 things in like if you have really large                                 fields you would keep them in the less                                 frequently updated one but then if you                                 have rankings or ratings you can keep                                 them in the smaller one that you update                                 and so this is kind of capturing what's                                 going on there in terms of how you can                                 use this thing to look at all the                                 different cliques and then map that into                                 the main index and at the end of the day                                 you you get back out these booths                                 there's some tricks that you want to do                                 here to be smart around it because one                                 of the caveats of the sum of the caveat                                 surround the parallel reader as it can                                 be complicated and fragile you actually                                 have to rebuild that small index in its                                 entirety in order such that the doc IDs                                 the lucene doc IDs lineup and so there's                                 not really any tools to manage this                                 stuff in solar etc but this is something                                 we've done as an add-on capability                                 another example is a us-based University                                 Virginia Tech one of the nice stories I                                 like out of this if you're familiar with                                 the virginia tech school shootings one                                 of the outcomes on the positive side was                                 that a bunch of the professors at                                 virginia tech got together and said well                                 how can we help people who are going                                 through this in the future and one of                                 the things to come out of that was this                                 project called CTR net crisis tragedy                                 recovery network and what what the what                                 they do is this one of the professors                                 there is a one of the legends in                                 information retrieval and he put                                 together a grant proposal that said                                 anytime one of these events happens                                 let's go out and grab as much public                                 data as we can about that event so                                 essentially you're creating a vertical                                 search engine and what they then do is                                 they go and index all of that data                                 immediately so that it's searchable                                 right away because that's often one of                                 the keys people want this real-time                                 ad-hoc access so make it searchable                                 right away and then in the background                                 let's do this whole enrichment process                                 what can we learn about this data what                                 can we learn about what people are                                 tweeting and blogging etc etc so that's                                 really where this large scale analysis                                 comes in and where they start to look at                                 what are the relationships of that are                                 happening in this data and with users                                 with that data with the ultimate goal                                 being that you know you can provide                                 first responders government's victims                                 families of victims etc                                 more information about what happened                                 during that event so hopefully you know                                 at the end of the day we all come out                                 with a better response you know less                                 less tragedy etc real quickly this is                                 one of Ted's I don't know this one in                                 depth but at the end of the day I think                                 if you went to his talk earlier this is                                 a classic example of search abuse if you                                 will Ted at vo was doing this notion of                                 cross recommendations essentially                                 putting all of the information about                                 what people are clicking on etc into the                                 search index and then just asking the                                 search engine give me those top                                    recommendations works really nicely                                 works really well go look at Ted's talk                                 from earlier the nice thing about it is                                 there's nobody asking questions there's                                 nobody typing in keywords you're just                                 driving these based off of the user                                 profiles but there is the nice bonus                                 that you still have a search engine                                 available to you so now you can bring in                                 your other fields etc with more content                                 such that you can also ask questions of                                 it you can filter by location you can                                 filter by categories etc while still                                 getting recommendations based off of                                 user votes and so at the end of the day                                 if you're really interested in this kind                                 of stuff like I said his talk go look at                                 the slides online etc if you didn't see                                 it houghton Mirax can help you do this                                 and it's also pretty straightforward to                                 do in solar so those are some of the                                 common use cases I'd love to talk to you                                 with you afterwards about what yours are                                 some of the things then to think about                                 is okay well we've got these use cases                                 how do we generalize this I like to                                 think of this as you kind of have this                                 two part system going on right you want                                 search to be searches that again that                                 interface that everybody is using they                                 want real-time ad-hoc access to that                                 content and then we want to look at how                                 can we enrich all of that data and so                                 this is where Hadoop comes in doing                                 things like big data log analysis etc                                 all of those kinds of things are those                                 offline enrichment tasks those are                                 really great for Hadoop and head doop                                 like technologies if you're not familiar                                 with log-likelihood that's when a                                 another thing that it's a statistical                                 technique that allows you to find the                                 true anomalies in the data that can                                 really help you identify what are the                                 things I really want to care about in                                 this data and you often need large scale                                 aggregate analytics around it and then                                 the search part is where you start to                                 then surface all of these things that's                                 where all these co-occurrences are                                 indicators it's where these fields                                 combined with the metadata etc to give                                 you back those recommendations it can                                 also so you can kind of leverage it to                                 build that recommendation engine like                                 it's been talked about in other things                                 but then you can also use like in the                                 particular case of the cliq framework                                 that we have you can use it to do things                                 like boosts etc such that you can also                                 reflect that learned behavior if you                                 will using more traditional lusine                                 techniques that you may be used to so                                 what do we need to do all this stuff how                                 do you build one of these well of course                                 we need fast efficient scalable search                                 if you've not been paying attention at                                 this conference you have good options                                 there you need to be able to do bulk in                                 near real-time indexing you need to be                                 able to handle billions and billions of                                 records with sub second search and                                 fascinating because a lot of these                                 things again is how you're going to be                                 able to let users interact with this                                 data and then you need to be able to do                                 things like large-scale cost-effective                                 storage and processing these logs that                                 we all used to throw away of course we                                 need to keep now we need to be able to                                 crunch through them all the way and we                                 also need to be able to join them with                                 the aggregate with the content itself                                 such that we can figure all of that                                 stuff out together we're often dealing                                 with texts so for me anyways NLP is                                 pretty important here because I want to                                 understand what are the things like key                                 phrases named entities etc in the system                                 machine learning as well so in my mind                                 that conjures up my help for instance or                                 other large-scale machine learning                                 projects because these really are what                                 drive the discovery analytics side of                                 the equation pig is also a great tool                                 here and then a few other things just                                 from my experience of seeing what                                 happens to people when they start to try                                 to build this as one offs using Hadoop                                 and solar for instance is you start to                                 realize that                                 there's a lot of common patterns that                                 can be done here like I need to do                                 certain work flows on the log analysis                                 every single time I should be able to                                 just drop in a pig script that adds some                                 incremental metric for instance and then                                 run it with all of my other Pig scripts                                 such at the end of the day I can look                                 through that data once hopefully and                                 output all of those metrics etc I also i                                 don't know this is my own personal taste                                 but i think one of the things you really                                 want is easy access for developers                                 having to go talk to hbase and then                                 Cassandra or my out and figure out all                                 the those things as somebody who's                                 trying to rapidly develop search based                                 applications that's not a fun experience                                 so easy API is is good and then at the                                 end of the day I think one of the dirty                                 secrets around big data is it's often                                 really hard to get your data into the                                 big data system so things like content                                 acquisition etc across a lot of things                                 all those old connectors that you maybe                                 didn't think about in a big data context                                 those are still really useful so in my                                 mind you end up with this this kind of                                 reference architecture of course I've                                 got all kinds of content going in I've                                 got my authoritah of store here                                 increasingly this authoritative store is                                 the search engine itself but not all                                 cases are all the ways I've seen this                                 built this could be HBase Cassandra                                  whatever you want and then of                                 course you've got a search view and so                                 the reason why i said i often use the                                 search as the document store as well as                                 because then there's no impedance                                 mismatch between having to keep this in                                 sync with that right so if this is my                                 particularly leucine in solar for etc if                                 that's my document store then i                                 automatically get my search view and oh                                 by the way leucine and solar has a key                                 value store just on its own is really                                 really fast it's maybe not Facebook fast                                 or Google fast but it's the rest of us                                 fast and so you can use that as a good                                 key value store so it's really easy to                                 look up documents and then you also get                                 the search side of things and then I've                                 got this offline piece here that's doing                                 all of that enrichment stuff this is                                 your Hadoop jobs your pig jobs your                                 large-scale analytics etc and then                                 got a few other supporting services                                  which are just serving up the results of                                  these things as well like                                  classifications or time series                                  information etc because oftentimes in                                  these situations you want to bring in                                  these multiple different kinds of data                                  such that they can then be positioned                                  back out to the user and so on and so                                  forth so that's kind of a general                                  purpose framework what we do at lucid                                  works is we have a product that does a                                  lot of that stuff lucidworks big data in                                  our particular implementation we're                                  using some of these technologies                                  obviously Hadoop and HBase the                                  interesting thing I think when you start                                  to look at it from this kind of cake                                  stack is it's all about it this layer                                  about how do I get the data to be in the                                  right place at the right time right you                                  want it to be in the search engine when                                  it needs to be searched and you want it                                  to be in Hadoop when you want to do                                  those large-scale analytics and then up                                  at the top this is on top of that this                                  is where you build your Theor your                                  things like your machine learning this                                  is where you leverage pig and mount and                                  all of that you tie this stuff together                                  with a workflow engine and then for in                                  our particular case we just expose those                                  kinds of api's of course this is all                                  large-scale kind of things so you also                                  need to do management and know who's up                                  and who's down and where they're located                                  and whether they're happy etc so we in                                  our particular case we use zookeeper for                                  this but you can of course use other                                  kinds of service discovery mechanisms                                  like that so what does this then lead to                                  on the easy side of the equation you                                  know there's a lot of if you're going to                                  do nothing else at least start planning                                  for how you can analyze your logs right                                  so if you're if you're not looking at                                  your logs as part of your search engine                                  as being critical data then you're doing                                  it wrong okay you may not be doing it                                  want to do it right away but at some                                  point in time when you get into that                                  that period beyond the initial                                  implementation and when the boss man is                                  not happy with you you're going to say                                  oh I've got all that data in the logs I                                  was really smart I got it all stored                                  already let me just go tell you what                                  really matters and then implement that                                  this doesn't have to be done all up                                  front all at once and you want to be                                  able to do things like make sure                                  one of the things we partner with map                                  are one things i like about matt bars                                  it's really easy to just have everything                                  either be a file system or be a Hadoop                                  file system I don't have to unlearn what                                  I've learned about file systems in the                                  past                                                                      we do is we bake in a lot of this stuff                                  so at the end of the day if you learn                                  nothing else around reflected                                  intelligence and hopefully you did learn                                  something else I think that if you start                                  to look at this is not just a one plus                                  one problem but a one equals two but a                                  one plus one equals three how can i                                  leverage all of what my users are doing                                  to make me smarter then you're going to                                  be way better off right because you were                                  the one who is smart enough to say I'm                                  not smart enough I should let my users                                  tell me what is really the good thing                                  that's going on in my system right so                                  with that I think we've got time for a                                  few questions otherwise this is where                                  you can get a hold of me happy to talk                                  more offline I don't have beers to offer                                  but I'll get you i bought the beers last                                  night so consider a prepayment for your                                  questions                                  you                                  you
YouTube URL: https://www.youtube.com/watch?v=tHAJkjOOkwA


