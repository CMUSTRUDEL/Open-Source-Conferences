Title: Francesco Tisiot – Kickstart your Kafka with Faker Data
Publication date: 2021-06-24
Playlist: Berlin Buzzwords 2021 #bbuzz
Description: 
	We all love to play with the shiny toys, but an event stream with no events is a sorry sight. In this session you’ll see how to create your own streaming dataset for Apache Kafka using Python and the Faker library. You’ll learn how to create a random data producer and define the structure and rate of its message delivery. Randomly-generated data is often hilarious in its own right, and it adds just the right amount of fun to any Kafka and its integrations!

Speaker: 
Francesco Tisiot – https://2021.berlinbuzzwords.de/member/francesco-tisiot

More: https://2021.berlinbuzzwords.de/session/kickstart-your-kafka-faker-data
Captions: 
	                              you want to start your                               kafka journey and the first thing that                               you do usually is                               either you install by yourself                               kafka on premises or in the cloud of                               your choice or for example user managed                               service                               like the one that my company ivan offers                               no matter what                                on-premise installed by yourself or                                manage at a certain point you will                                arrive to the situation where                                your kafka environment is up and running                                congratulations but                                now you may start questioning yourself                                well what                                should i do now what's my next step                                well if you are an experienced kafka                                developer                                you will have the perfect use case that                                you will                                use in order to feed kafka where the                                perfect streaming data set                                but on the other side if you're new to                                kafka we will probably                                end up in a situation like this                                white zero kafka as many other data                                platforms                                after you install or you create an                                instance it's empty by default                                and it makes really complex to                                understand the beauty of kafka or the                                beauty of any data platform                                if you don't have any data with kafka                                this is even                                worse because it's streaming platform so                                it requires a continuous flow of data in                                order to understand                                its beauty and trust me                                finding that kind of input data source                                is not easy at all                                so if you're new to kafka you could be                                in a situation where you don't have                                any data to test the platform with or on                                the other side you could be                                part of a company with kind of the                                perfect data set the perfect streaming                                data center could fit kafka where                                well but because you are trying a new                                technology                                a new vendor a new cloud provider you                                could have rules within your company                                that stop you                                from using that data set still i believe                                a lot of people in here will be                                programmers and the beauty of being a                                programmer is that                                we can solve this kind of problems by                                kind of choosing our here                                depending on our knowledge or our                                history                                or the history of our company we will be                                able to select the programming language                                that will help us solving the problem                                and i'm listing here three programming                                languages which                                have similar libraries to solve the                                missing data problem                                perl go and python we will use python                                today because it's                                widely adopted in the data world but                                also because it has a nice kafka python                                library                                that we can use in order to interact                                with kafka                                in order to produce data to kafka all we                                need to do is to install the library                                create a kafka producer and then                                tell where my kafka instance is so i'm                                telling                                look that my kafka is in broker abc                                broker one in this case port one two                                three four                                now it's just time to send some data so                                i can send                                a message to kafka and if i want to be                                sure that the message arrives on kafka                                i just flush it okay we know to push                                data to kafka but we still don't have                                any data                                but let me introduce you to faker                                faker is a python library that allows us                                to create fake data                                all we need to do is to install it with                                ppinstall faker and then start using it                                so we create an instance of faker and                                now if we need for example                                a fake name we just call the name method                                and you can see lucy it's a nice fake                                 name                                 if we need a fake address well address                                 method                                 and there we have a nice address                                 this is just the surface of what faker                                 can do                                 as you can guess i'm italian so i may                                 want to produce italian something name                                 and addresses well i can simply localize                                 the faker instance                                 passing the italian parameter and now                                 every time i call the name function                                 i will create an italian name severino                                 zacca nini                                 it's an italian sunday name and the                                 others there it's encroach milanese                                 olivia palermo it sounds italian enough                                 faker also has methods in order to                                 control its behavior                                 so for example if i want always                                 different names                                 i just have to prefix the name function                                 with unique                                 this will make faker create every time                                 they invoke the same                                 function a different name if on the                                 other side                                 i want to use fake data to for example                                 test my platform                                 and every time i do a test i will i want                                 always to provide the same kind of                                 input data set i can also obtain with                                 faker repeatable results                                 i just need to to fix the seed of the                                 random of fake randomizer                                 and faker will generate the same kind of                                 path every time i will                                 re-execute the same code as of now we                                 saw just                                 name and addresses and it's pretty poor                                 example of fake data because it's just                                 limited                                 however faker has a huge list of                                 pre-built providers and you                                 have the url here that you can use to                                 find the providers                                 so we can for example create automotive                                 data                                 geographical data country states                                 zip codes and whatever if we are into                                 banking we can create a lot of                                 for example banking transactions or                                 stuff similar to that                                 and we can even create fake python code                                 but of course we cannot expect faker to                                 cover                                 all the possible use cases you can                                 still film my shock when i saw                                 that faker couldn't create fake pizza                                 data                                 but still faker is really easy to extend                                 all we need to do is to import the base                                 provider                                 and to start declaring how we want to                                 generate the fake data so in my case i                                 want to create fake pizza                                 so i need a fake pizza name array once                                 that i declare which are the valid                                 fake pizza names i can just create                                 a pizza provider class which extends the                                 base provider                                 and within the class it's now time to                                 define a pizza name                                 method which returns a random choice                                 between the available in the array now                                 that i created the extension it's time                                 to use it so i just add the pizza                                 provider to my faker instance                                 i create five pizzas like in this case                                 by calling                                 the fake pizza name in an array and then                                 the beauty of                                 python or any other language is that i                                 can compose a complex message like a                                 pizza order                                 containing the id of the order the shop                                 receiving                                 the order itself the name of the person                                 with the unique                                 the same with phone number with unique                                 and also the address where the pizza has                                 to be sent                                 and then the last line is adding the                                 five pizzas that i created on top                                 to my pizza order if everything works                                 well you will end up with something like                                 this                                 where you have the id of the order the                                 shop name receiving the order is luigi's                                 pizza the name of the person                                 arsenio pizzeroni boccaccio italian one                                 and we have to deliver the pizza to                                 novara                                 and as you can see i didn't only create                                 an extension to enable the creation of                                 fake pizza names                                 but i also added an extension to add                                 fake                                 additional toppings and i let this guy                                 arseni pizzaroni boccaccio                                 to order a nice diavola pizza with a                                 nice banana topping on top                                 as you can understand if we now take                                 this code                                 and we create a for loop around it we                                 have a streaming data source                                 and we can use it to feed kafka                                 and in this case it's pizza that's silly                                 i'm italian i can do that if you have                                 another use case if you                                 are working in a company you have your                                 data set that you cannot work with                                 but you still know which fields and what                                 data types you want to push to kafka                                 you can achieve the same with using                                 faker some resources now to finish off                                 first one faker documentation it's                                 amazing go there                                 check it out because it's worth your                                 time you will learn in few minutes how                                 to start using faker and how to extend                                 it                                 second thing if you want to understand                                 how to create                                 a fake producer for kafka using faker                                 well i've wrote a blog post about that                                 so you can go to ivan what's website and                                 check it out                                 if you don't like reading blog posts but                                 you write you like some running code                                 there is a public github repository that                                 you can use in order to                                 have in minutes a fake pizza order                                 producer                                 pointing to your kafka environment and                                 last thing if you want to try kafka but                                 you don't have kafka as i said ivan                                 my company offers that as a managed                                 service so i hope                                 that in like                                                           you some knowledge about                                 kafka faker and pizzas if you have any                                 questions regarding those i'm here to                                 help you out                                 thank you francesco i've never been                                 honestly i've never been so excited                                 about fake pizza in my life and uh                                 streaming pizza is a concept i just                                 never imagined                                 uh looks uh yeah super easy to get                                 started with i have one question for you                                 which is about tooling around                                 uh managing of that streaming data so                                 you mentioned a for loop                                 is there something you could recommend                                 or is there is there a natural                                 uh yeah complementary tool for                                 controlling the flow the quantity and                                 the timing of generating streaming data                                 from faker                                 well i believe you can add as many                                 complexity as you want once you have the                                 basic provider                                 and uh i cannot suggest any tooling                                 because                                 usually it depends on what you are                                 already using in your company                                 the beauty of this solution is that it                                 can be adapted to almost                                 any solution that you have in ours so if                                 you are building your applications                                 using some sort of framework just add                                 the extra dependency of faker and there                                 you go                                 and you can start using also kafka so                                 since the this set of libraries doesn't                                 impose anything                                 i don't want to limit your imagination                                 in what you can put on top                                 understood thanks for that sounds very                                 flexible                                 you
YouTube URL: https://www.youtube.com/watch?v=n00rAxPSqcA


