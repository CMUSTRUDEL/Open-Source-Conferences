Title: Marcus Eagan – The maintainability of open source code 20 years from today
Publication date: 2021-06-30
Playlist: Berlin Buzzwords 2021 #bbuzz
Description: 
	To commemorate 20 years since Doug Cutting open sourced Lucene and donated it to Apache, I want to talk about ways everyone can pitch in to ensure the long term viability of the open source project. Someone looking at replication code for the first time in 20 years, might really understand the behavior of something like master-slave. Even though we understand it today, the onus is on the contributors and maintainers to constantly add more clarity to a project. Landing such a complex PR can be tricky and usually involves multiple people. Here's how I did it, and here are a few other areas where I have been focused to improve the long-term viability of the code base.

Speaker: 
Marcus Eagan – https://2021.berlinbuzzwords.de/member/marcus-eagan

More: https://2021.berlinbuzzwords.de/session/maintainability-open-source-code-20-years-today
Captions: 
	                              this                               is uh an exciting time because i                               i don't think that we had                               too many open source projects that were                               use case specific that have lived on                               and continued to grow in adoption                               over time over a                                                    i'll tell you now about me                               so my name is marcus egan                                uh i work at mongodb as a                                senior product manager of atlas search                                which is                                actually leucine under the hood we                                and some fancy syntactic sugar                                on top and some management capabilities                                it runs in the cloud                                but uh before that i worked at                                lucitworks                                and before you know just for                                many years i have been hacking on                                lucine solar inelastic search                                i'm i'm fascinated by it and why i care                                is really about uh                                you know there's not everybody can                                afford                                to pay for an expensive proprietary                                search engine                                and you know these technologies are free                                you can you know you can see the code                                too so that's also nice so you can                                understand                                and i think that it's just really                                important for our world                                to have free                                open source software available                                so you can innovate quickly and build                                uh new products and and                                companies but especially search because                                that's how you find things                                so i'm going to talk about i'm not going                                to talk any more about myself really                                there's a few other slides but later                                i'm going to talk about the lucine                                history that i know about                                and also                                the goals of to maintain improve                                and extend uh                                an open source project so that it                                survives                                so i think a lot of people here know                                about doug cutting                                uh doug cutting was                                you know he's been interested in search                                and working on search since                                the year i was born                                         he saw search as being the simplest                                access pattern uh for people getting                                the information they're looking for like                                he was thinking about search before                                the web and he                                this picture that you see here is                                actually i think that's the hadoop                                stuffed animal so you have worked on a                                lot you probably have some exposure to                                many of his projects in your life                                so he he wrote two search engines at                                xerox park he wrote one                                at apple uh v twin engine is still in                                mac os                                                                                                      that's not accurate                                and he worked on another one                                at excite now                                lucine was his fifth search engine                                and uh                                he i i read a comment about how he goes                                to an app like many applications today                                and he's like i wonder if they're                                running                                lucine uh they probably are so                                this is a paper that sort of like the                                the theoretical underpinnings if you                                will of search                                so i it i think it's an interesting                                paper for everyone to read                                it's just an object-oriented                                architecture for text retrieval but                                this is like published early                                                                                  i'm here talking about you know                                         of lucine                                in the future this is                                                  lucine he was writing about                                these things thinking through them and                                and working on them                                with you know various colleagues this                                looks like                                xerox park so close to my old house and                                this uh this is like a lineage of this                                 is like a little timeline                                 of the early days of apache scene which                                 are                                 really interesting and could be a book                                 or a movie                                 so lucine joins apache jakarta                                 but it was initially on sourceforge but                                 doug and his benevolence they donated to                                 a past                                 jakarta which was really an important                                 moment                                 for the project i feel because                                 corporations today                                 i mean they recognize the apache brand                                 for sure                                 uh they know that they that                                 companies can build reliably on it and                                 they know that                                 they can trust it's going to have the                                 scrutiny uh and the commitment of                                 several                                 other companies it's like a                                 self-fulfilling privacy is                                 you trust the project because you have                                 people working on it so now you're                                 working on it and                                 sometimes companies have to deal with                                 bugs that aren't necessarily                                 their problem but this is a part of the                                 overall project                                 then in                                                            interesting happened                                 which you know to my limited knowledge                                 is sort of unprecedented but also very                                 important                                 apache and lucine i mean apache lucine                                 and apache solar merge so solar is like                                 uh                                 the easiest way to describe it is well                                 there's an acronym                                 it is but really is an http library                                 for for leucine it's like and and some                                 replication                                 uh but it's uh                                 was very common to use lucine prior to                                 solar and then build all this plumbing                                 to                                 connect with it so it was a little                                 inaccessible for some people                                 uh but solar made it simpler gave you a                                 server                                 and that came out in                                      out of cnet                                 when they merged everybody working on                                 lucine was also now working on solar and                                 everybody working on solar was not                                 working on the scene                                 so he got uh like a lot of power                                 uh and that collaboration                                 and that went on for about                                 or i guess                                             and this year                                 they started last year in the email list                                 there was discussion about if if they                                 should split                                 all the committers had a vote i think                                 they needed a quorum maybe i don't know                                 if everyone voted but most people did                                 and apache lucene                                 basically agreed to split from solar                                 which i thought was interesting i had my                                 own opinions                                 on the matter um i'm a big fan of both                                 but they are fundamentally different                                 projects                                 and so it made sense because                                 every time you made a change and won                                 that change was also                                 forced into the other even if it wasn't                                 necessarily the right path so                                 that was a big deal but i still think                                 it's the early days i i think                                 you know                                                                going to be                                 a lot different about the project and                                 i'll                                 share some of that in in a bit here                                 so and this is just like my                                 standard apache lucien slide which is                                 just like doug                                 donated it uh                                 but the the the key thing that i wanted                                 to                                 to point out the two ideas is that                                 like this is where a lot of academic                                 research                                 actually gets exposed to the commercial                                 world or                                 like uh the civilian public or like the                                 non-researching                                 public i mean it it's amazing there's                                 there's some academics who are                                 committers                                 or or contributors to the project and i                                 think that they                                 they help facilitate that but it's also                                 just the cutting edge and                                 this project has surfaced several bugs                                 in java which i think uh oobe                                 schindler a committer in germany just                                 spoke to                                 uh and i think it's because it pushes                                 the limits of scale                                 now this is what maintenance is like                                 uh in in solar and lucine and open                                 source in general i mean everybody's                                 going in their own direction                                 they don't follow commands then you have                                 jira i i                                 this is the newest addition to the this                                 presentation                                 uh because i i i saw this one of my                                 colleagues                                 sent this over and i i love it this is                                 so true                                 and apache hail zera like if                                 he closed one zero another two will open                                 uh and this is important part of the                                 process                                 and and and maintaining you know and                                 like facilitating success in open source                                 is like                                 before you open the jira for the lucine                                 project or the solar project                                 they say start with the mailing list                                 because i mean                                 there's we're already we have so many                                 jurors in those projects                                 so start with the mailing list kind of                                 validate if                                 it's uh worthy of further investigation                                 and then we'll if if it                                 passes that gate then if it gets through                                 that gate then you can open a jira                                 because we don't want                                 more jiras and i think in the early days                                 the                                 the email list was vital and i've                                 read you can a lot of it's public i've                                 read a lot of these early                                 conversations uh and doug was really                                 helping a lot of people get up and                                 running with uh                                 with lucine so that i think that's also                                 really cool                                 uh it's like                                                          he's still answering questions but he's                                 like leveled up so many other people                                 that                                 you know i think he can if he wanted to                                 he could step back i think he's doing                                 other things probably now                                 probably writing the next search engine                                 and then is this other issue which is                                 uh with maintenance is like                                 what makes sense to us today won't                                 necessarily                                 make sense to a new                                 group or new generation of engineers                                 working on the                                 project in the future okay and so                                 the ietf they they recommended that we                                 stop                                 using like slave to describe                                 relationships between                                 servers and a distributed system                                 and so many projects that are starting                                 up today                                 and books and and                                 lessons and courses and tutorials                                 they're not going to be talking about                                 masters and slaves which to me didn't                                 make sense in the beginning                                 but again you know it was a technical                                 term it is a technical term                                 an archaic technical term but you know                                 languages                                 evolve and and strive to improve                                 uh and so an important part of the                                 maintenance is making sure                                 that people who come in with this new                                 frame of reference can look at the code                                 and understand what's going on                                 uh and and so that's what this                                 uh this                                 pull request was about it it says remove                                 oppressive language but it's really                                 about clarity that and                                 then there's another another                                 important aspect of open source which i                                 think                                 you know it is it's of arguable                                 importance to some but again it's                                 it's about uh the frame of reference                                 that newcomers have                                 and i really like a project when i see                                 a a red failed is it like the build                                 failed because that means they're doing                                 something                                 you know like maybe not all the branches                                 say                                 failed but if there's one that's failing                                 it's like they're on the cutting edge                                 they are breaking stuff                                 and so that's exciting even if it's                                 passing i'm good with it                                 i just want to know i land on a project                                 they have continuous integration                                 uh infrastructure to support it                                 someone's donated it in the case of                                 apache apache provides the                                 infrastructure                                 but i think this is it is an overlooked                                 um item for for many projects and it's                                 it's important                                 some projects are too complex to do this                                 too i recognize that i                                 i've looked into this in a couple areas                                 but i think that                                 the build badge is is helpful                                 and also should it links to the the                                 projects                                 ci so if you want to see you know how                                 some of these things are set up that's                                 also                                 pretty helpful so                                 this one i think we added in                                       so another important part of the                                 maintenance is the project health                                 continually monitoring it                                 and so this is uh i think mike                                 mccandless                                 put together these graphs there's a ton                                 of them uh                                 and it's just the analyzer performance                                 over time you can see corresponding to                                 commits                                 uh and and and merges like what                                 what is the performance delta uh for                                 some of the benchmarks that                                 have been running for years uh                                 and then on the improvement side i'm                                 gonna try to fly through                                 my time time numbers now on the                                 improvement side the the principal goal                                 of an engineer is                                 to simplify uh and i have heard this                                 time and time again from eric hatcher                                 who i mean he he's the author co-author                                 of lucine in action which is                                 still the most widely read book on                                 lucine i recommend it for everyone he                                 also co-founded lucifer's                                 and he's a brother from another mother                                 so you know he's helped me so much                                 and thinking about what my role is or                                 what one's role                                 can be in an open source project and i                                 think that it's really important                                 for lucine and many other projects out                                 there                                 to know i mean to to                                 encourage people to help in the ways                                 that they can                                 because there's a lot to do always and                                 it's not always about features                                 uh it's sometimes just about a step up a                                 little                                 a marginal improvement uh or removing                                 technical debt                                 uh and so like one of those improvements                                 that                                 that i have been just tasking myself                                 with like no one else has asked me to do                                 this                                 i just i want to do this because i care                                 immensely about the project                                 uh i mean i am also employed because                                 i care about the project but it's like                                 what i noticed that there are some                                 challenges to the security uh or like                                 people's perception of the security of                                 these projects                                 of solar and lucine and so                                 i try to to beat that back every chance                                 i get whenever i run into something                                 that is like that doesn't make sense or                                 you know somebody's red team is going to                                 flag this or whatever or                                 someone who doesn't who is confused will                                 will complain about it or this does pose                                 a real issue                                 and so you know just have to step in                                 and and work through it and i don't                                 always know how to fix things but                                 uh i've had a lot of help i                                 like for this one i think i got a lot of                                 help from                                 jan hoydel these both of these and this                                 one                                 adding the security manager got help                                 from robert muir                                 and this one i get help from houston                                 putman and these people all work at                                 different places and they're all over                                 the world so                                 like we all but we all have to pitch in                                 and                                 that's just a really important part                                 about open source is like do not                                 we cannot allow our software to be less                                 secure we're more secure because we're                                 open                                 uh and you know i've filed bugs in the                                 past                                 i i've had to deal with incident                                 response to                                 for solar and so uh yeah i think this is                                 this is really important                                 and like we want to improve the                                 the relevancy right so uh we have to                                 to go to the next level uh which is                                 you know for some use cases approximate                                 nearest vector search and this i think                                 mike sokolov                                 wrote this and and he's partnered with a                                 bunch of people                                 and amazon and elsewhere and                                 i think this is just really a testament                                 to the power of open source like                                 all these companies all these people are                                 working on this they have different                                 needs and they're investing                                 and it's it's going to be available to                                 everyone                                 and i'm pretty sure it'll be more robust                                 and more available                                 than any proprietary option out there                                 because it's hard to                                 to stop the collaborative power                                 of all these people in open source so i                                 think it's real                                 having the vector search is just a                                 testament to that                                 and the next big thing is an interesting                                 project which i i think that'll be a                                 part of my book if i ever write a book                                 on this uh                                 community there's like while                                 the vector search is so that's landed                                 that's in maine people are working on it                                 there's still                                 some things to work out and this is not                                 this is                                                              there's also the reference                                 implementation of solar which                                 aims to remove a lot of bottlenecks some                                 of the limitations of the distributed                                 design um probably on the query side and                                 indexing and especially testing there's                                 a lot of flaky tests in solar                                 mark miller is introducing lots of speed                                 ups and he's working                                 with some of his colleagues at apple and                                 some people not at apple like ishan and                                 noble                                 to to bring this to the world uh the                                 solar world                                 and these are happening in parallel and                                 vector search                                 and the reference implementation so this                                 is uh really exciting stuff                                 i recommend that you you know check out                                 this ticket when you                                 get a chance uh there's a lot of comedy                                 i won't                                 leave it up for too long but uh                                 i think that this is just another                                 testament                                 to you know all the collaborative                                 power that goes into open source and all                                 the                                 companies investing in it                                 and the policeman i think the policeman                                 is                                 i'm not sure maybe it's automated but                                 it's somebody i think it's uva                                 and these are these are some of the                                 tickets that                                 are available so if you want to pitch in                                 and try to help with these                                 they're all in that ticket so you can go                                 ahead                                 uh this is clara's spirit                                 now this is uh                                 what i when i was rental time so when i                                 was going through this i                                 was trying to get through that first                                 portion                                 in                                                                     most                                 important part of this talk which is                                 like                                 the special thank yous and these thank                                 yous are                                 are really to people who                                 have through their direct actions or                                 indirect actions or                                 collaborative spirit uh                                 have have made this project                                 so robust so nina and playing schwartz                                 put on the conference yanexili donated                                 solar to apache he could have asked cnet                                 if he could spin it out                                 and to a proprietary project that no one                                 could ever see then it probably                                 never would be as important or                                 ubiquitous as it is today and elastic i                                 think                                 that you know they                                 built a pretty big company only on open                                 source for a while you know they                                 uh a pretty wide reach and and                                 so i i'm grateful to them i don't know                                 all of them but i do know a couple of                                 them so i                                 shouted them out um                                 and then these are so eric hatcher and                                 charlie monger                                 they've been they've been helping me                                 on such a deep level just like i mean i                                 went from zero to                                                and or                                                            every day from from eric he's a wizard                                 mike sokolove mccandless                                 they work at amazon and                                 you know people use that's one of the                                 most widely used search engines                                 in the world uh and they're pushing the                                 boundaries and their team i think greg                                 miller                                 i've seen some really awesome stuff come                                 out of that team recently                                 uh and                                 jan hoylo oh tim potter eric erickson                                 so they used to work with me at lucio                                 works but and i think eric is retired                                 and he's still working on                                 lucine and solar from time to time just                                 volunteering                                 uh and his commitment to open source and                                 just you know kind of helping me a                                 little bit when i was                                 first getting going has been really                                 helpful he                                 knows a lot about this about search                                 and tim potter's yeah i mean he's also a                                 wizard                                 and jan hoydo and robert muir i mean you                                 can                                 look and see what they've added to the                                 product so much                                 mike mike drove kevin risden                                 noble paul tomas eduardo fernandez loeb                                 ishan uh                                 i don't i don't want to mispronounce it                                 but he helps me                                 a lot too still today all these people                                 tomas helped me                                 with the back porting of uh removing the                                 oppressive language which really                                 is is helpful that it's inclusive but                                 i mean i care more about it being uh                                 maintainable and reliable uh ultimately                                 uh but it also does matter that it you                                 know                                 we shouldn't be calling server slaves in                                                                      so uh and then these are other people                                 it's just like there's a bunch of people                                 out there that                                 that help this project and so                                 i think we should recognize these people                                 and open source more outwardly like                                 like like for example jaron glover he                                 was a devops engineer early devops                                 engineer at a                                 fintech company in my neighborhood but                                 he's like encouraging me he's like                                 please fix this please fix that uh                                 and he's like checking in he's like let                                 me see the pr                                 like may you know let's work on on this                                 stuff                                 uh let's dig into this and so i think                                 having those people in the background                                 are important                                 uh david smiley is also that way i mean                                 he                                 is another wizard he could belong in the                                 wizard column on the previous side                                 too he uh really pushing the boundaries                                 of                                 what's possible at salesforce and he is                                 a uh                                 a frequent contributor uh to and                                 committed to                                 solar and lucine joel bernstein i worked                                 with him at lucy works he taught me                                 some wizardry uh he knows a lot houston                                 pup putman                                 uh he has                                 pushed the boundaries too so he was                                 working on a kubernetes operator                                 i was trying to do away with zookeeper                                 just as a test                                 and so our pass collided on that i think                                 a few years ago                                 around etsy d and kube but yeah he's                                 great and then aaliyah abbott was like                                 at lucifer works putting on all the                                 conferences and and like                                 really fostering an environment for                                 developers                                 to work and                                 and i think that was really important                                 like the lucine revolution conference                                 was a a little more important than                                 people knew and                                 physical activate now is a little more                                 important than people                                 might recognize today but it's hard to                                 get a bunch of                                 people strongly minded strongly                                 opinionated engineers together to talk                                 about code                                 uh and then will hayes he's                                 he like recruit he recruited me to loose                                 it works uh which was                                 a blessing because i love search and i                                 love open source and                                 i finally got to devote a lot more time                                 to                                 to solar and and the vex tree ram was                                 like he's kind of like jaron but also                                 was my boss just like in my ear                                 about doing certain things and and                                 prioritizing things                                 uh and he's the cmo                                 at lucy works and then                                 cord and grandma joanne so these are                                 like the                                 my mentors of life accord campbell                                 he is like shake trees go into the solar                                 community and shake more trees                                 uh or any community and so that's what                                 that's what i'm committed to doing is                                 like                                 shaking trees uh trying to                                 get an apple that's ripe to drop and                                 there's no apple                                 riper than apache lucine right now                                 uh to me because it's search is the most                                 common access pattern                                 uh to data to information in the world                                 you don't type in a domain these days                                 you type in a search query                                 you don't always you know a database is                                 for                                 uh a databases for                                 when you know exactly what you're                                 looking for and                                 a search engine is for when you're open                                 to recommendations                                 have an open mind have an open source                                 search engine                                 thank you uh lauren shepherd she asks                                 what would you recommend for people who                                 want to start contributing to lucien                                 yeah that's a good question                                 um if you want to start contributing to                                 lucine i would say start using lucine                                 that's number like that that's the the                                 easiest                                 way that's how that's certainly how                                 i got interested in it and involved in                                 is like trying to use it                                 um and then                                 once you start using it then start                                 building it                                 and then once you start building it uh                                 then start                                 customizing it and then once you start                                 customizing you land on something                                 good then you maybe make a proposal or                                 once you start using it you'll run into                                 an issue or once you start building it                                 you'll run into an                                 issue and then you can open a pr                                 like and i'm i typically like                                 i'm running solar at all times like in                                 my house                                 uh and now i'm starting to run lucine on                                 my work laptop                                 a lot and i just i'm looking                                 in a particular in a very focused area                                 most of the time like                                 and so or a couple areas but                                 i think i think that's that's a good way                                 to focus                                 it's too much to take on all at once you                                 know so                                 okay so start start focused and and                                 play around with it use it yeah use it                                 and then build it some people go to                                 start start building it first                                 from source rather but because i mean                                 you're already using it right like if                                 you're on wikipedia you're using it                                 if you're if you're searching on amazon                                 ever you're using it if you're calling                                 an                                 uber you're using it like it's all                                 around you                                 you
YouTube URL: https://www.youtube.com/watch?v=RX2jq3Mm_rw


