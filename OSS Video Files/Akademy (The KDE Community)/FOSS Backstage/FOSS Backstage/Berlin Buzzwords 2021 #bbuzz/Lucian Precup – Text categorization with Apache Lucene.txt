Title: Lucian Precup – Text categorization with Apache Lucene
Publication date: 2021-06-24
Playlist: Berlin Buzzwords 2021 #bbuzz
Description: 
	As many text mining applications, automatic text categorization is usually implemented with flavors of Machine Learning algorithms, which are trained with an appropriate training set to build the model. This model contains the statistical data based on training set texts that will later allow the system to match an input document with the corresponding category. 

But wait… statistical data on text documents? Doesn’t it remind you of our dear improved inverted index at the core of Apache Lucene? Maybe we could consider the index containing the training set documents as our trained model? And maybe a simple query against this index could give us the category (or categories) more likely to apply to a given document?

In this talk, we will demonstrate this approach and show that it can perform well and possibly "for free", as we sure all have Lucene based tools in our application portfolios!

Speaker: 
Lucian Precup – https://2021.berlinbuzzwords.de/member/lucian-precup

More: https://2021.berlinbuzzwords.de/session/text-categorization-apache-lucene
Captions: 
	                              uh                               here we go again we we will talk about a                               text categorization                               and we will use a i uh oh sorry uh                               apache lucy                               uh so actually i don't have slides for                               this we will uh                               move to the demo uh and i also will                               browse some websites uh that are uh                                needed for for what i want to explain                                and for for credits                                uh so the objective here is to take some                                random text text and to categorize it                                and we will use apache scene for this we                                will not even use                                linear regression no ai just pure                                apache lucy just to give some credits                                uh this talk was first presented by my                                colleagues at a meetup that we                                held here in paris and it was                                in french and on solar this one is in                                english and on elasticsearch                                but just to say that it's actually a                                apache you've seen that does the job so                                you can do it with a                                solar or elasticsearch all of those work                                still credits for this really great data                                set                                which contains uh                                     documents from the bbc news website in                                                                                          categorized manually categorized in                                these categories                                this data set is actually used in some                                scientific publications and we will use                                it                                uh uh to we will index it in with lucien                                and we will use it for text                                categorization so here it is                                we have the                                  documents there's one missing i don't                                know why but it                                will still work and uh here's the                                definition of the index that we created                                with this                                pretty straightforward i mean nothing                                fancy                                you have the category which is a keyword                                and you have the text                                and here's the tricky part this one does                                the magic                                uh so we will talk about this later but                                just                                keep in mind this line okay so                                again some verifications here we have                                the number of documents all there                                uh we also have them grouped by                                categories                                the five categories that we mentioned so                                yeah they are kind of                                equally ventilated through the                                categories                                and here's how a document look you have                                the category                                and then the text which is the bbc                                article from                                for from                                           now how we will categorize text we'll                                actually use                                a query like this which is the more like                                this query                                and here we will uh here we will plug                                the text that where we want to                                categorize                                and we will also do an aggregation                                so of course it's uh it's sorted by the                                score but we also                                will do an aggregation that will display                                the                                most likely categories they                                they are ordered by a pipeline                                aggregation                                on average score okay so this is another                                trick that does the magic so nothing                                fancy but yeah                                this this is a useful for the next so                                here we go let's take a uh an article                                a random article from from the berlin                                baswell's website so                                actually this one is my colleague that                                shares a success story so thank you                                berlin browsers for                                promoting diversity so we just copied                                and pasted this                                article into the                                the placeholder here and here we go                                let's see                                how it goes so we see that we have some                                category tech                                 some category attack again some politics                                 here                                 yeah you might understand so it's                                 actually boring buzzwords so it stuck it                                 talks about                                 tech but you also have politics because                                 of the                                 feminism and all that so uh                                 in the aggregations we have tech on the                                 first position and then we have some                                 sport entertainment i don't know why but                                 yeah it's an article about                                 tech definitely okay this is great let's                                 go                                 further i took another article so                                 everything all these articles are kind                                 of fresh so                                 the other one is from reuters and it was                                 yesterday                                 was talking about jet subsidy pact                                 and so about china so i imagine this                                 would be something like business and                                 politics let's see                                 how the software works yeah we have                                 business here we have business again                                 business politics and politics and                                 on the aggregations we have business                                 and next we have politics so it's an                                 article about business                                 pretty pretty neat some other examples                                 here                                 this one is from sports uh yeah you                                 imagined and                                 so this is from france france                                    and it talks about the euro                                    no suspense i think it will be                                 categorized as sport so here it is                                 sports sports sports and                                 aggregations the sport come first                                 it's also some something about tech and                                 entertainment                                 pretty neat uh yeah we                                 also took some other examples i will go                                 faster through those                                 this is one taken from washington post                                 just to be                                 like i have diverse sources so this one                                 is is from the                                 actually from the books sections                                 which is under arts and entertainment                                 we took an article from there let's see                                 how it goes                                 test another category so it's                                 entertainment                                 so yeah it works pretty well just                                 pure apache leucine so how does it work                                 actually so                                 well it uses something that's called                                 term vectors and before we go into that                                 we just need to know                                 what happens with a document that's                                 indexed into a leucine                                 uh index so sorry for this is this this                                 one is                                 in french it's taken from from a blog                                 that's on the                                 elasticsearch website uh so um                                 the documents that we send to to apache                                 lucine are actually                                 transformed and they get into the index                                 in some different manner                                 in this case we have an agendagram                                 transformation but we also                                 have the term vectors in here so the                                 index will contain                                 something that's called term vectors                                 that you can see                                 here so here is for example a document                                 that i have in the index                                 and these are the term vectors so this                                 is the word                                 okay so you have plenty of words here                                 uh yeah let's take something                                 more meaningful so a lot of walls again                                 they are like                                 add adjust and also the properties that                                 they have here                                 these are the term vector term vectors                                 and when you come with this text                                 this one is a text will actually                                 it will get translated into the same                                 structure so you have the words here                                 so this is a text coming from berlin                                 buzzwords                                 and it is also translated into this                                 vector space model so                                 the term vectors exist in elasticsearch                                 as i said                                 it's actually lucinda's that that does                                 the trick so it also                                 it's also available in uh in solar                                 just to give credit for that and                                 it kind of looks like this and i                                 actually have a slide                                 that i will show now and i would also                                 like to thank my colleague                                 vince van van sombosk for this                                 um so he thought it would be more uh                                 you will understand better with this                                 slide so actually the vector space                                 uh here is very simple it is very                                 simplified it's just two dimension but                                 actually it has a lot of dimensions                                 and you have the words here and then you                                 have the documents that are kind of                                 spread into this vector space and when                                 you come with a new document                                 you see here the the question mark will                                 actually the system will figure out                                 which are the documents that are the                                 closest to this one                                 and this is how it gets categorized                                 simply with this vector space model                                 okay just to finish the                                 the presentation uh i would also like to                                 thank                                 uh my other colleague uh vince van                                 sombren                                 that has also a talk that we did at uh                                 the elastic communities conference about                                 the percolator and it actually uses the                                 same technique                                 in a different context so if you want to                                 dig in further                                 you can go and see this uh this                                 presentation                                 still a lightning lightning talk it                                 takes six minutes                                 and what we have here yeah we also have                                 a blog post on about the                                 the same the same subject if we wanna go                                 further                                 and last but not least just to show you                                 that it's there's no trick there we are                                 live uh today let's see                                 something because the articles that i've                                 showed you late from yesterday                                 this one is really live because we have                                 a                                 football game that's going and this is                                 the live reporting from bbc to give them                                 credit                                 again for the data set and uh                                 yeah you have the score here i think                                 this is live yeah okay                                 so it's it goes live let's take the                                 summary here                                 uh i don't know why can i yeah okay so i                                 will just                                 copy and paste the summary and hope for                                 the best i hope                                 i don't have a demo effect here                                 let's see what does this text                                 talk about sports okay so                                 no demo effect we have sports and some                                 tech there                                 so this is it pure apache you've seen                                 that use                                 is used to categorize any                                 random text that you throw at it just                                                                                          and that's it thank you lucian i just                                 had uh one question for you                                 we're a little short on time now heading                                 into our final lightning talk but my one                                 question would be                                 um yeah further to what cedric said like                                 what's a scenario where this should                                 perhaps not be used where                                 term vectors are not best applied or                                 where they're they produce the                                 the least effective results                                 um yeah so great question thank you                                 thank you for this for this question                                 uh of course uh there are some drawbacks                                 and                                 there are some some some things that are                                 not working                                 uh i didn't show them because yeah                                 with this example it works pretty well                                 um                                 when the text is really short                                 it's kind of tricky to to figure out                                 what it is so you                                 this is actually suited for like                                 unstructured                                 text that are kind of articles coming                                 from the media                                 or or word documents or stuff like that                                 and uh yeah it's this is mostly suited                                 for                                 for rather large                                 pieces of of of text                                 got it thank you                                 you
YouTube URL: https://www.youtube.com/watch?v=3BeH2alq8S0


