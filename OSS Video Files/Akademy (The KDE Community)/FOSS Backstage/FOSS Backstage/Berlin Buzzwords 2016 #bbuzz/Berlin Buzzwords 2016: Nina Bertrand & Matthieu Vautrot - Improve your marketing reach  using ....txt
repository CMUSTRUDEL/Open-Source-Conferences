Title: Berlin Buzzwords 2016: Nina Bertrand & Matthieu Vautrot - Improve your marketing reach  using ...
Publication date: 2016-06-12
Playlist: Berlin Buzzwords 2016 #bbuzz
Description: 
	Nina Bertrand and Matthieu Vautrot talking about "Project use case: Improve your marketing reach using large scale machine learning on Spark"

We observed that marketing teams of major companies tend to build their marketing campaigns based on study of client segmentation and market analysis which can be an heavy workload that directly deteriorate its ROI.

Using our client Big Data - 6 000 000 client informations on a Hadoop / Spark Cluster  we tried an other approach to dramaticaly increase the agility for building and tayloring new marketing campaigns.

We used Test&Learn methodolgies to increase the "uplift" of the campaigns inspired by the multi-armed bandit problem and implemented the whole approach in Apache Spark.
In this talk we want to share our feedbacks on the approach the success we had and probably more importantly the pitfalls we encountered.

Read more:
https://2016.berlinbuzzwords.de/session/project-use-case-improve-your-marketing-reach-using-large-scale-machine-learning-spark

About Nina Bertrand:
https://2016.berlinbuzzwords.de/users/nina-bertrand

About Matthieu Vautrot:
https://2016.berlinbuzzwords.de/users/matthieu-vautrot

Website: https://berlinbuzzwords.de/
Twitter: https://twitter.com/berlinbuzzwords
LinkedIn: https://www.linkedin.com/showcase/berlin-buzzwords/ 
Reddit: https://www.reddit.com/r/berlinbuzzwords/
Captions: 
	                              sometimes it's it's fun and we are going                               to talk to you so Nina is going to talk                               to you and myself yeah magic so a quick                               word on what we are going to talk to you                               about today is so share of experience on                               an ongoing project project see stila is                               still running but still we we drafted                               something that is we found a quite                               interesting and and we won't already                                want to share some thermal suits and                                some feedback to maybe have a discussion                                later to have to see if you agree on                                that with a wiggly approach so i can t                                is a is someone who is running a big                                insurance company and he also has a part                                with doing a banking and this client is                                used to do a lot of marketing campaign                                to seller to sell their project tour to                                the client and they asked us the general                                question now we have the data we have a                                nice Hadoop cluster and so on can you do                                better with big data and what we have                                been doing as usual so okay well we'll                                see and just a little bit a little world                                on the use case on itself the campaign                                that was going to be challenged with the                                Big Data approach is what was this                                following is a as presently the client                                is mostly an insurance company so it has                                a more than                                                            insurance pot and he also running a bank                                and there is less than                                          calenton in this part so his goal is to                                say okay I have a lot of clients engine                                trans but the path can you can we make a                                campaign that speaks to my insurance                                people and try to put them to the                                banking add to the banking a banking                                part and to do so we we can we can use a                                simple display can eligible marketing                                tools to try to reach to speak to those                                guys to try to convince them to join the                                bank so we can use displays with the use                                of a GM key or all the tagging of their                                own site to push them out some ad                                campaigns or we can reach them three                                mailing will cool emails will receive a                                regularly                                from them and under it you can also                                direct call them with the use of agent                                and so on so quick words on the the                                state of the art of their of the data                                and what we are coming from they have a                                nice Hadoop cluster okay they've                                separated the two data sets from the                                banking side and the insurance sides in                                two separated demands something quite                                usual in to respect the legal legal                                legal constraints because if you have a                                mutable practice you are not too low to                                merge all your activity into one single                                tenant so there's two Potter are quite                                easily so it was quite a constraint in                                in the beginning so the present it like                                that so we have a lot of client activity                                data all the classical customer                                relationship management that are the CRM                                and all the activity when do they                                contact me how often they do they call                                her call me and so on what their what                                they are what was the lastest accident                                they had and so on and so on so as we                                consider don't we say of course we can                                be better with big data and you can do                                that okay as a good consistent we don't                                really know what we are going to do                                before before setting the project that                                we say so we can we always can improve                                things so we come back and say okay what                                what can we do better than then what's                                what they have been doing so for fall                                for for so long we looked at what they                                usually do in in the in the general and                                the classical score in campaign they do                                something like that like a lot of people                                do when they do as a classical marketing                                campaign is they do a score and a                                   score to see who is going to be likely                                to buy the project on earth so what I do                                is ok we trained accredited model on the                                client days on a client base on already                                people that have been already by about                                the project to try to understand why                                those people have bought the things and                                so maybe to find other people that's                                   but the project that share the same                                characteristic so the sheet a predictive                                model like that and then they apply the                                model to the holder kinda today's score                                 the best the best the best people that                                 I've been targeted by the by the model                                 and send a message to them because say                                 okay the model dell told us that you are                                 going to be be likely to buy a layup                                 s'okay this is a and from that we try to                                 find to the limitations of the of this                                 approach what are the problems of this                                 this classical approach we found two                                 major limitation of the problem of the                                 approach that usually makes those kind                                 of approach good but that we can see                                 improve the first thing is that there is                                 a lack of personalization in big data we                                 like to say that we have so much data                                 that we can know exactly how is my                                 consumer what do they like and try to                                 pass neither little bit the message we                                 are going to to send to them so one                                 problem is that the sending the same                                 message to the top scorer people okay                                 why not and another limitation of this                                 approach is that they also scoop with                                 this approach the natural noise which                                 means but when you push some project to                                 push the message to some some people you                                 are spending some money to to contact                                 them but the among those people that                                 should be targeted some people would                                 have died by your project anyway because                                 the model will find some things that are                                 based on the population not based only                                 by the project the message attribute                                 push it not by influenced by the bells                                 message it would have bought the project                                 anyway so another being interesting to                                 bother them with a with an email or                                 something like that so to to tackle the                                 first problem okay we have one message                                 to shoot to a group of people so maybe                                 we will send multiple message yeah with                                 a with a good insight here so here the                                 idea is okay instead of sending one                                 single message will try to do it a bit                                 of personalization in your campaign it                                 with the apologies that for some people                                 you are going to contact some some of                                 them will like to hear some kind of                                 message some kind of arguments some                                 would like to hear other arguments and                                 will push the right message to the right                                 person so we can have a different                                 appreciation on the target on the                                 message we are pushing so that people                                 will come will find a thing that are are                                 more they most likely more so so years                                 now there are four tackle is ok now we                                 have a complex a little bit of problem                                 we have to find a way to dispatch the                                 right message to the to the same pair to                                 the good person                                 so to this to do so there's a classical                                 approach in a machine learning and data                                 sense is that we are going to do what we                                 call test and learn is that it it's the                                 good lunge large line is saying okay                                 it's it's okay if at first you are quite                                 done in your prediction you'll do some                                 some stupid things but you are going to                                 learn quite quite fast and improve                                 regularly with a small incremental                                 incremental think so you you you do                                 stupid things at the beginning that the                                 model is going to improve as as you're                                 trying to push massage as you are                                 getting back the results and try to find                                 to find convergence and some are some                                 rules so yeah the idea of test and learn                                 is that ok we're going to push almost                                 randomly at first the different message                                 on some small small part of the                                 population and try to find as we are                                 studying the result the feedbacks if we                                 find a better and better in the ruse to                                 lure to make a Magus kind of occasion so                                 testing man yes so how did we do that                                 exactly with their with their are the                                 part that as toll was a data lake all                                 stole everything stored in a in a Hadoop                                 HDFS we have all the data from the                                 insurance path and by the way we get rid                                 of the banking path because we didn't                                 really need because we are targeting the                                 insurance people so no need of worrying                                 about legal issues we are just going to                                 walk on the insurance data so it's a                                 simpler life so we've had a Hadoop                                 cluster here we have the classical p                                 higher technology and some Sparky that's                                 going around in this for this kind of                                 cluster and the upper part is all the                                 people that have been eagerly waited to                                 be contacted by males and spams and so                                 on not stopped amazing nice very nice                                 campaigns so first thing to do is okay                                 at day                                                               random something of our client database                                 a small percentage of a kind database                                 and okay i say this client will receive                                 randomly this message and so on and so                                 on and every day so it's a bit different                                 but what it says here is that every day                                 i'm going to send to my people garden                                 too                                 the campaign a set of rule to say okay                                 this guy is going to receive this                                 message this guy is going to be                                 contacted by this guy with this kind of                                 message and so on so KD                                               contact those people okay we push the                                 message fine and we get the feedbacks                                 every day we dumped back to the to the                                 dialect Hadoop cluster all the response                                 that we observed for the fourth day say                                 okay who among the people that I've been                                 contacted who like who clicked on this                                 message who answered positively to this                                 message we didn't like it and so on and                                 so on so once we get it back to the to                                 the Hadoop cluster we have to redo some                                 reconciliation on between the cookies ID                                 and the client database that we can join                                 back every information with all the data                                 we have in in our in our data lake to                                 build a future mattress bill the                                 training data set that we are going to                                 try to fit a model with Parkins back hem                                 just to put one we use the father                                 detecting in that appropriation pig and                                 hive because because it was more reduced                                 and also because it was a little bit                                 safer for preserving the resource for                                 those Park Lester a lot of people while                                 using this back at the same time so it                                 was trying to use a highland kick that                                 what question untouched the quite more                                 mostly to do this heavy workload the                                 demand machine learning path we did it                                 on with a whisper hmmm and then we do a                                 loop like that a day n plus                                              reach and a mattress and whisk all the                                 whole client database we used these                                 results to push a new rules for the day                                 after say okay now I've my first                                 prediction based on what i would suggest                                 today i can do a bit smarter prediction                                 on who is going to like this message on                                 that and therefore i can be a bit more                                 efficient on the on the on the path or                                 taking a lot of time i'm going to hurry                                 okay so so this is the general approach                                 and how we're going to to find the best                                 message to push to the same to do to the                                 good person will do loops like that and                                 once we observe that we we have a                                 stabilization and click rate ratio like                                 people we are going to them to click so                                 Anton we will know that the right                                 message have been targeted to the Vikon                                 of people                                 and then we can push through the whole                                 time database the generalization we have                                 been doing on smaller smaller part and                                 some some Toyota examples okay so we now                                 have a strategy to push the right                                 message to the right person let us see                                 another problem is how to get rid of the                                 natural noise how can we make sure that                                 when we push message tone someone is                                 going to be positive positively                                 positively contacted by this message and                                 not being annoyed by bison by receiving                                 this and say okay you send me an email                                 and so on I don't want to contact you                                 anymore so to try to get rid of that you                                 know is going to talk to you a little                                 bit on how we did that with with some                                 some type of machine learning approaches                                 up to you Nina so we would like to get                                 rid of this noise so we use another                                 approach which is called a pit models so                                 quickly the main idea of this modeling                                 is to describe the message effect on the                                 targets on the day of the project so                                 there are four groups of customers we do                                 we don't want to call three of them they                                 do not disturb customers and the lost                                 causes the shoppings that are already                                 convinced to buy the project and we                                 would like to target the parables the                                 customers were the call as positive                                 impact on them so to measure this impact                                 we have two two-digit dissociated two                                 groups so the first one is the treatment                                 group the one who received the college                                 email and the other one is the control                                 group which which corresponds to the the                                 placebo why don't be a dinner call so                                 the difference possible implementations                                 we use the first one and if you want to                                 find information for the two other you                                 can fight it in the literature so                                 independent Modell's was the the choice                                 you made I'll explain later why we made                                 this choice so in real life we have to                                 to build many model one model / kernel                                 and power message and every model are                                 independent and we considered to                                 classical machine learning methods which                                 was random forest and logistic logistic                                 regression so in the valid model is a                                 was a choice because it's easy to code                                 in every technology and it corresponds                                 to make the difference between two                                 probabilities so the first one is the                                 probability of purchase after the the                                 campaign and the other one is the                                 natural convection so the there is main                                 difficulty with this approach it's                                 because there is a predicted uplift by                                 customer but we don't know in reality if                                 the call of the email as an impact to                                 the choice of the the customer so they                                 are no real uplift by customer so no                                 individual track tired so I can we                                 measure this performance the solution is                                 to sort customers by the uplift score in                                 decreasing order and to make groups so                                 we focused on decile of customers and                                 then                                 we calculate the difference between                                 conversion rates of the treated group                                 and the control one so to illustrate                                 this is an appearance modem there the                                 group's sorted by this disco the the                                 blue one and there is in red the uplift                                 which is the difference between the do                                 commercial rate with treatment and                                 comments on rate without treatment and                                 as you can see groups with iOS                                 commercial scoff as not necessarily been                                 scored with the highest uplift so we                                 would like to focus on this group so we                                 focused on this kind of model which is a                                 pif model here is the what we would like                                 to chop down this is a graph search it                                 by the uplift car the predictive                                 obliphica and in red you have the                                 observed uplift and in the perfect                                 uplift model it's older it's a                                 decreasing order so in in all yours case                                 what we've done is to use a tune message                                 for this proof of concept and the GMP                                 side is a is ongoing today but we can we                                 have built two waves for the the curve                                 and the emailing campaigns and we have                                 built up lift model so is the the                                 example of the main channel after the                                 first wave so there were two message                                 for the first one you can see that the                                 message is really efficient because                                 people in the left out do is code by the                                 model and you can see that the real                                 uplift is really good but you have to                                 know that some people ate this message                                 so people on the right which have a low                                 wasco we don't want you to call them and                                 on the other side you have the second                                 message which was come we simple your                                 life and you can see that there is a                                 small small postage like you like this                                 message but the main information is the                                 right of the the plots you can see that                                 for these people you shouldn't call them                                 because the the coal or the email as a                                 negative influence on them so after                                 after the build of these two models you                                 just have to take the desk off between                                 the two and to send the message the                                 uplift medela consider the hilton is                                 best cod yes just to conclude this                                 little presentation and to reserve some                                 time for the Q&A quick some quick                                 feedbacks and pitfalls that we've been                                 on controlling the first thing to say                                 that on paper the the approach to do                                 this test and none is quite simple                                 because you say okay you just have to                                 share some ties between the jailed for                                 example you GMP part and the data lake                                 and then we will be fine with the with                                 the learning but some business                                 organization and IT organization as                                 sometimes quite chilly too heavy to                                 manipulate that plus there is some                                 political choice to do that so they want                                 you to do a lot of proof of concept                                 before involving more resource to eat so                                 we spend more time to try to prove the                                 approach before trying to push all the                                 efforts to this pipelining so to gain                                 sometimes spark is good                                 we have a sparking in our cluster but to                                 accelerate a little bit our development                                 for the for the training to find a good                                 model and so on we did the first couple                                 of rounds on the psychic land and then                                 for the most more in disguises way we                                 then record things on on the spot when                                 we knew a little bit more what we wanted                                 to do because we gain some time like                                 that and one quick world and on the                                 results it's even we're quite excited on                                 on showing the on having those kind of                                 results because we yeah we observed that                                 it was quite the efficient who gettin                                 some new insights and insights on your                                 marketing campaigns some kind of result                                 they never saw they never control who                                 liked or don't like the message and you                                 can you know that with this approach you                                 can control it a bit better what people                                 want to hear doesn't want you here so                                 here we can say okay people of course                                 tends to be more reactive to message                                 that will hand them money but some                                 people would like also to hear that they                                 are going be still better i contain with                                 the with the with the same same product                                 and of course you know have a PID on who                                 you should definitely not contact with                                 those because with those guys if you if                                 you push image to them you are going to                                 lose them because even though they would                                 have come to your project without being                                 a big challenge to impale you please                                 conclude our a little presentation on                                 this angie's choose case and if you have                                 questions we will be glad to answer them                                 yes                                 is not closed by the bias                                 it's a from the initial database of the                                 old kind that is been eligible to the                                 project we just make sure that there is                                 some people that will never we never                                 send email which weary separate the two                                 groups some people we observe we observe                                 them like that with okay are they buying                                 the project without without having to                                 hear the message and the other group are                                 they buying the project if they once                                 I've been contacted so we really measure                                 the two different ratio like that and                                 and after that we can measure the Delta                                 to store to sort them by a pistol so                                 yeah it's one difficulty is that you                                 have to make sure that your placebo                                 group is really left untouched because                                 sometimes if you are like a bad joint                                 all but something like that you will                                 contact people that you should do                                 shouldn't have contact and messer mess                                 the whole result so you have to be real                                 good on a separating splitting those                                 kind of groups thank you Matt yo Nino oh                                 we have time for one last question and                                 the rest of them you can take it offline                                 do you need a mic                                 yes yes actually it was a something that                                 makes sense by mathematically speaking                                 we want to group as big as possible that                                 we still left as room as possible for                                 doing a lot of iteration and plus some                                 political constraints on what the budget                                 I have to burn on a random random use so                                 we we aimed at something like                                         people for the first campaign something                                 like that                                                         magnitude something like that okay so if                                 you have any question we will be glad to                                 talk to you offline thank you so much
YouTube URL: https://www.youtube.com/watch?v=m2RXVDfKUJQ


