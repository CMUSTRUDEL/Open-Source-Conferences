Title: Berlin Buzzwords 2015: Ludwine Probst - Analytics in the age of the Internet of Things #bbuzz
Publication date: 2015-06-03
Playlist: Berlin Buzzwords 2015 #bbuzz
Description: 
	The Internet of things is all the rage, as it promises to produce a massive amount of various data and represents real challenges for both technology and business. Building applications that leverage this coming flood of data will require a different approach, compared to how we build common data applications today. 

Most if not all of the data acquired from connected and intelligent devices is modeled as Time Series. And extracting value from time stamped data, require some thoughtful design in storage, processing and the type of algorithms necessary to extract insights from the said data.

In this talk we intend to describe how with tools we find in today's big data ecosystem we can build powerful intelligent applications from connected devices.

Read more:
https://2015.berlinbuzzwords.de/session/analytics-age-internet-things

About Ludwine Probst:
https://2015.berlinbuzzwords.de/users/ludwine-probst

Website: https://berlinbuzzwords.de/
Twitter: https://twitter.com/berlinbuzzwords
LinkedIn: https://www.linkedin.com/showcase/berlin-buzzwords/ 
Reddit: https://www.reddit.com/r/berlinbuzzwords/
Captions: 
	                              okay hi everybody I'm very happy to be                               talking here at this new edition of                               birds world and in the next hour I would                               talked about another text in the age of                               the Internet of Things but ok it doesn't                               work okay but before that i would like                               to say thank you to Jim and Isabel for                               inviting me at both word and it's my                               first time here so I very happy to be                                here today with you and I remember the                                first email that Isabel sent me she                                tried to find good reason for me to come                                here to Berlin and she mention our                                Berlin is Ricky with a widow you know                                but I don't know if it's still raining                                today I think she was right because                                yesterday was very sunny and I hope the                                Sun come back this afternoon but to be                                honest i napped here I'm not here                                because of the widow now i'm here                                because i really love Germany and I                                really enjoyed drinking beer and eating                                co-host and do you have spit see in                                Berlin yes because ok and I used to live                                in germany in tuebingen some years ago                                and we used to drink pity in beer garden                                but ok I'm still confused about fitzy so                                I think I need to try again and I'm also                                talking about technical stuff too of                                course so ok so now a little bit about                                me I have studied mathematics ok my name                                is legion post and i have studied                                mathematics and after graduating with a                                master's degree i decided to join the IT                                world as a developer and today i will                                cut citizen data as a data engineer and                                citizen data is a sort of based in west                                in the west of France you see as well as                                well as you can get                                and with my coworker we built a platform                                to store collect and analyze data from                                sensors data and to do this i'm using                                spark and maybe you have guessed I like                                drawing so I made a lot of picture for                                you today so yeah something more I would                                like to share something I really care                                about it's about women in tech I don't                                know how many women are there today ok                                ok ok but I'm sure you know the woman                                are not much represented an IT and a                                technical even so some pretty are some                                person present that it's the lack of                                interest from them but I think that                                maybe there are not interested in IT                                because I don't think this is a possible                                way for them so that why I'm very                                involved in two communities such as                                France and ladies who could and teachers                                phones it's a group that connects women                                in IT and we want to give one to give                                more visibility to woman developers and                                inspire will model and I'm sure you know                                that it's often are to find female                                speakers so we organize coaching for                                this woman to increase the number and                                because i think that the the developer                                job is not yeah i think that people                                doesn't know what is developer we                                participate in event with I school                                student to know what is a developer and                                to know that women can be ugly and                                interested in IT so now I would like I                                will talk about the real topic analytics                                in the age of the Internet of Things                                so I will start by talking about what is                                high OT and who isn't some few example                                and after that i will quickly talk about                                collecting and storing the data from                                sensor from sensors and two finished and                                this is a funny part i would like to                                show you how i have thought collected                                and analyzed data from an accelerometer                                using spark Cassandra and Emily burr                                okay and do you guys know how many                                connected device do you have how many                                connected device yeah okay okay because                                I think                                                               said maybe one or two but today we have                                tablet smartphone with gps tracking                                accelerometer if you like to play video                                game you might have a game console if                                you like                                                               a SmartWatch a wristband or a pedometer                                and in fact when you hear about                                connected device it's not just about add                                windows always vary by it's also waivers                                and a kind of sensor that had joined us                                you have sensors in the black box of                                flight in cars and in electricity                                 network and so on and now okay yeah in                                 this picture you can see that the number                                 of connecting device and the connection                                 between them is just exploding some                                 sources estimate that by                                                 be                                                                       now two examples as the first one is                                 about aircraft so in a plane engine                                 you've got a lot of sensors and these                                 sensors can collect thousands of metrics                                 such as altitude temperature                                 acceleration quantity of fuel speed and                                 it's gonna present terabyte of data so                                 one common approach was to store and                                 analyze this data after the fight is                                 over but it's yeah it's kind of offline                                 analysis but today with sand sauce you                                 can store and analyze the data in real                                 time so you can be more reactive and you                                 can run for example when he told the                                 flight the state of the flight or detect                                 anomalies this one is okay i was                                 watching the TV some weeks ago and there                                 was a documentary and they were talking                                 about this example okay and when you                                 talk about how your tia i think in                                 someone's it's not the sector that comes                                 to mind and yet there is a start-up zubi                                 the provide a key that has the connected                                 devices and this device is connected to                                 your car and the key gives you                                 information directly on your smartphone                                 okay and with this information you can                                 monitor the activity in your car you can                                 also locate you car and you can try to                                 to you can improve the way you're                                 driving but you can also compute a                                 driving school so i don't know if it's a                                 good news for everybody here but the Key                                 allows you to compute a driving score so                                 that means that insurance company can                                 use this technology to River the safe                                 driver and to adapt the price the                                 insulin spies yeah                                 I think it's funny and to finish the                                 first part okay with just saw a few of                                 application using IOT data so now you                                 might ask yourself why you should care                                 about this okay we've seen that                                 connected device are it will work today                                 and this device can generate a lot of                                 valuable data and this data can be used                                 to create better application detect                                 anomalies or imp yes detect anomalies                                 and to summarize analyzing this data                                 opens up a lot of opportunities on our                                 we do business and I'm sure you can                                 easily image imagine how this connected                                 device and this data can affect and                                 change your everyday i will quickly talk                                 about how to collect this data and the                                 first thing is time service because the                                 common kind of the data coming from                                 sensors or connected devices are time                                 service and I'm sure everybody know what                                 is a time service so maybe the easy                                 definition is any kind of data with the                                 timestamp and time so we are can be                                 found on monitoring stuff sign                                 opposition stock market and here is just                                 an example it's data from an                                 accelerometer and the time so with the                                 times I visa to the right if you want to                                 communicate with sensor there is a lot                                 of protocols the most people of them is                                 MQTT and here are some of the most                                 popular                                 but I don't move in to the tail but for                                 example TGS is a device to device                                 communication its tip this with the data                                 through other device and it's very good                                 a few other real-time issues you can                                 also use MQTT it's a protocol that                                 connects device to server and it's great                                 if you want to collect telemetry data                                 and now of course collecting data from                                 sensor cab can be challenging so in fact                                 most of heights devices come with a                                 limited CPU and memory resources so and                                 machine-to-machine communication can                                 generate way more data than the most                                 application do so that means that there                                 is a need for low-energy communication                                 networks and this is what company like                                 six fox weightless Aloha I try to                                 provide okay before talking about the                                 funny example let's talk about auto                                 store data storing the data from                                 connected device represent a huge scale                                 challenge and there are several way in                                 the market to stow efficiently time                                 service but I thought as the world talk                                 will focus on this topic today and                                 tomorrow so i won't go into detail here                                 I'm are somewhere to stop time service                                 okay the first one is flat file if you                                 don't have a lot of data then the which                                 you can use a relational database or                                 also know SQL database like the sun                                 dried basil open testable and to                                 conclude this part i would like to show                                 you a picture it's                                 it's an example of how an IOT data                                 pipeline looks like some to the left                                 you've got the sensor and connected                                 device it sends the data of kafka for                                 example are using protocols MQTT or west                                 and a good practice is to stop the data                                 the raw data before these two between it                                 to other application because it can be                                 useful in case you need to replace the                                 stream of event for debugging and then                                 you even can be processed in real-time                                 using spark swimming Austin and to                                 provide real-time result or dashboard                                 and in the same time if you might want                                 to store data in Cassandra HDFS for                                 depot offline analysis using spark a                                 duper mouth and so on so it's a sort of                                 lambda absolute actor okay cool and now                                 it's a funny part for me it's a concrete                                 example so okay actually I I like                                 training and I used to run with my                                 friend Anna Anna is one of the member of                                 the trestles if it's a woman developer                                 and you know she's like a winner addict                                 she has a smart word and as an                                 everything necessary to monitor a                                 winning performance so I was thinking                                 about finding something fun to do with                                 spot sensors and and data so I look for                                 some data set online and I found this                                 today very interesting it's about the                                 user's activity prediction so the                                 following example and the data set                                 inspired from this study ok now the                                 example so i have data set with data                                 coming from an accelerometer and i would                                 like to predict the physical activity a                                 user is performing so i would like to                                 know if this person is running walking                                 going up starring dunster sitting or                                 standing ok so actually i will use some                                 machine learning model to perform this                                 prediction and this is a multi-class                                 classification problem i have six                                 classes you're walking sitting standing                                 jogging then substr and i can use                                 algorithms such as decision tree random                                 forest or multi class logistic                                 regression now this is the global view                                 of what i need to do so the data come                                 from the accelerometer and the ok I a                                 data I need to clean the data first then                                 I will push the data into Cassandra                                 after that I want to build my model my                                 predictive model so i will use park and                                 emily to do this and at the end for the                                 put it in part I don't know if you see                                 the picture maybe now ok for the last                                 part is a pudding pot and ok i will use                                 them a lip to do this the first step is                                 collecting and storing the data so ok                                 first year as connected devices I have                                 an accelerometer no I have a smartphone                                 and in this smartphone there is a lot of                                 sensors and there is accelerometer for                                 each                                 and in my case so data are generated                                 every                                                                    specify you know that time if you want                                 so I have another in another aid                                 application it collects the data and                                 when a user is performing an activity he                                 have to say which one okay and the data                                 are collected in a CSV file ok this is                                 studio study give me a CSV file and then                                 I just took the CSV file and I'll push                                 the data into Cassandra here this is the                                 other data looks like it in Cassandra so                                 I decided to use as primary key the user                                 the activity and the timestamp and in                                 this way as I data are directly sorted                                 by them stop so it's very useful for the                                 following                                 and now it's just my data so I each row                                 is a user idea activity a timestamp and                                 free acceleration and yeah in the                                 diagram here it just our looks the time                                 service so yeah because I would like to                                 build the predictive model and okay if                                 you want to see the code the code is on                                 my github account ok that is everything                                 so but the before that just a few world                                 about spark is anyone not familiar with                                 park ok so the spark is a large squirrel                                 in the mood at above possessing from                                 work and yeah so you already know that                                 so ok then ma lib is anyone not familiar                                 with am a lib okay okay Emily biz the                                 component of spot providing common                                 machine learning algorithm and there is                                 a lot of you know radiation                                 classification clustering algorithm and                                 it's directed including spark and now                                 spark connector spark asano connector                                 yeah okay so it lets you expose                                 Cassandra tables are as Paco today so                                 you can perform an ally text or                                 permission provided by spark directly on                                 the data stored in Cassandra okay but                                 before I built the model I need to                                 define the features of ok so for to do                                 this I just observe to cope the time                                 series representation                                 the first of the version that we could                                 make is that to type of activities the                                 are repetitive activities and Static                                 activities okay it's easy and now if you                                 look at the graph of jogging you can see                                 okay repetitive waves and pics and its                                 pace about                                                          y-axis ok now it's for working it's                                 quite similar but this time the pics are                                 spaced out about                                                         it's for up stir and dunster and yeah                                 it's pretty small actually and to finish                                 it's standing and sitting so after some                                 tests with the film feature combination                                 and after reading a lot of studio but                                 this I have chosen these features so the                                 acceleration average acceleration the                                 variance as leverage absolute difference                                 avoid resultant acceleration and the                                 average time between pics ok so now yeah                                 we I will compute I will show you how to                                 compute this video but before that we                                 need to clean and proper the data                                 because it's not directly usable so for                                 this I just made a picture to explain so                                 you remember the data is recording in a                                 secret sequential way and the data is                                 collected from different user ok and at                                 different time and date                                 so the first things to do is to find the                                 jumps between the record okay so yeah I                                 don't achieve the data for each user and                                 activity then I have sought the data by                                 timestamp and after that yeah i have                                 defined the jump between the record okay                                 and for each recording intervals i need                                 to to know their length and i need to                                 define a window because i only have                                    users it's not a lot of data so i need                                 to define a small window five or six                                 seconds to have a lot to have more data                                 to have many samples as possible okay                                 and for each window i will compute the                                 feature for each window for each user                                 activity i can compute the future this                                 is the last column so here is the cut                                 which was the data from Cassandra it's                                 java                                                                    and then here i use the spark Cassandra                                 connector I just call so user table in                                 Cassandra and it's great ma oddity i                                 know i will show you how i have compute                                 two of the feature using spark and a                                 malleable the first one is very simple                                 it's a min and to do this we just have                                 to use the main function provided by                                 emilybs oh it's very easy and the main                                 function apply on a vector so you've got                                 the visa mean for ox                                 for the acceleration over X Y and said                                 and you can apply them in directly and                                 it returns the victor of the meaner ok                                 now it's more complicated it's the pic                                 it average time between the pigs so if                                 the first time to do is to define the                                 maximum okay to do this I just use the                                 mud function providing by Emma lib and                                 then I need to define what is a peek so                                 for me a pic is the value that is                                 greater than they will point nine times                                 the maximum okay and to keep the pigs I                                 just use the filter function provided by                                 Spock here and at the end i reach with                                 the timestamp for each peak and thought                                 it and okay i want to compute the delta                                 between each time stop so to do this i                                 have used the zip function to wait one                                 LED from two separate led you know and                                 yeah i can compute the difference                                 between between two successive value                                 okay                                 and to finish tires just use a min                                 function to add the average time between                                 pics but if you want to look at the code                                 in details just go in my github account                                 and now this is a productive part so                                 that is a productive part but we have to                                 choose the algorithm and just to recap                                 we want to determine the users hard                                 tivity from data where the possible                                 activity are walking jogging sitting                                 standing down stair and up star so this                                 is a multi-class problem classification                                 problem and emily provide you a lot of                                 algorithm to do this so for example                                 there is a decision trees in ma lib so                                 the first thing to do is to split the                                 data set so training set is used to                                 build a predictive model and the test                                 data set is used to validate the model                                 and after that you just have to use the                                 function provided by a mehleb there is a                                 twin classic fuel function to build the                                 model on the training data yeah i just                                 want evaluate the model so i use a                                 product function ok on the test data and                                 at the end because i want to make some                                 predictions I i save the model                                 okay the results the wizard okay it's                                 pretty good if we don't without concern                                 wedding app and dunster activities so                                 one idea would be to define more                                 relevant features to have a better                                 prediction model ok and ok the                                 prediction but I wanted to make a                                 demonstration but I had some trouble so                                 sorry you want me running right here but                                 ok we will pretend ok so have my                                 smartphone with an application and we                                 use a width API and with this                                 application you you can collect the data                                 and the data are directly pushed in                                 Cassandra and this is you know I'm are                                 my friends she coded this application so                                 you can find it on our github account                                 and ok the data are pushed in Cassandra                                 and ok I when the data are registered in                                 Cassandra and now I would like to                                 predict which activity I was doing so                                 the first thing is loading the models                                 and after that i use the spike gets onto                                 a connector to connect spark and                                 cassandra and retrieves data and here i                                 select the last value in the table ok i                                 compute the future on this data and at                                 the end i just lunch I just apply the                                 product function to have my prediction                                 okay so we just see how to predict the                                 activity your user is performing but                                 okay how can I use this result so maybe                                 we could adapt some music our user is                                 listening and depending on his activity                                 we could also detect if this person is                                 not moving enough maybe we could create                                 a specific program from in to encourage                                 him to purchase more activity I'm sure                                 you can have a lot of other ID but okay                                 and yeah I'm not good to conclude but                                 it's the time to compute so okay of                                 course the internet of thing brings a                                 lot of opportunities and challenges                                 businesses opportunities technical                                 challenges but for me it's also a way to                                 let out your creativity and foster many                                 innovation so I hope it was clear enough                                 and that you had a lot of collided on                                 innovation application using IOT data so                                 thank you and if you want to see the                                 code of full application it's on this                                 you
YouTube URL: https://www.youtube.com/watch?v=BJCftXhBJDk


