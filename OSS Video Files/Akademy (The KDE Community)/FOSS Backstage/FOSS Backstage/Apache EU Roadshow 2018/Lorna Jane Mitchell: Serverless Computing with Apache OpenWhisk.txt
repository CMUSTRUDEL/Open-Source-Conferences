Title: Lorna Jane Mitchell: Serverless Computing with Apache OpenWhisk
Publication date: 2018-12-05
Playlist: Apache EU Roadshow 2018
Description: 
	Serverless technology is a way of deploying individual functions to the cloud and running them on demand. This makes them very easy to work with, isolated from one another, and also individually scalable. Come and learn how begin using Apache Openwhisk for your own applications such as APIs or chatbot integrations.
Captions: 
	                              hi thanks for making it all the way up                               here I got hearing there was like one                               person I was like oh well that's okay                               but there's a few more of you which is                               really really nice so thank you for                               staying awake this long on I know it's a                               long day and just sharing the time with                               me                               so I'm gonna talk a little bit about                                surveillance computing with one of my                                I'm not sure if I should say this                                favorite Apache projects like am I                                allowed to have favorites the Apache                                Roadshow anyway I love open wisk I'm a                                contributor although mostly to Docs                                rather than code I like open the issues                                rather than closing them like that's                                that's kind of my role in the project so                                yeah I'm a developer advocate at IBM so                                I'm coming at this really strongly from                                the developer side you can ask me ops                                questions but I work for a cloud hosting                                provider and they don't let me do the                                ops there so I probably can't answer                                them although I can pass you on to the                                excellent humans that can so let's start                                off with like what even is this service                                thing so the idea is that you write a                                snippet of code a whole unit of code                                maybe a function does anyone here know                                how to write a function in any language                                yeah then you can work with service                                that's how high the entry barrier is so                                you write your function you deploy it to                                the cloud and you set up some rules that                                says when this happens you should run my                                function in response to that so the                                thing that happens might be a database                                change an item on a message queue it                                might be an incoming web request                                whatever it is when that thing happens                                do this thing that I just wrote the code                                for it didn't deploy a virtual server I                                didn't set up an operating system I                                didn't do bind or other sis admin type                                set up things I just went code there you                                go so that's quite cool the barrier of                                entry is really low and that's awesome                                there's a lot of cool things about                                serving us if the event happens and                                we're already like the functions already                                busy doing something we'll just run                                another one so this platform you write                                the function once                                it is gonna scale on-demand horizontally                                as much as you need it to and you can                                constrain this so your credit card                                doesn't melt there are some there are                                some rules but so that's kinda exciting                                I think this the scaling aspect is                                really interesting if you have either                                very low traffic trickily traffic or                                like bursty traffic you don't know it's                                difficult to do the capacity planning                                this is very interesting the cost model                                is really really interesting                                so it's pay-as-you-go if your function                                never runs it never costs anything while                                it's running it cost it is costing you                                money but if you look at the pricing on                                any of the service platforms the hosted                                ones then you're serious like                                         right and they all have generous free                                tiers so you can run really low traffic                                stuff on prototype apps quite easily all                                within three tiers along the hosted                                versions of this so why is it called                                service I dunno I think geeks should let                                me name things cuz it's a really really                                bad name I would like to know that the                                servers are they exist cuz otherwise how                                would this work they are alive and well                                what really happens is your function                                gets containerized and we run it we get                                the container and put it on the                                container host and then run it at the                                moment that the event happens when you                                need it and we leave it there for a                                while so if your events are happening a                                lot we just reuse the same one and and                                this is a good explanation of why                                serverless                                has suddenly become such a hot topic now                                and the truth is this couldn't have                                happened before this everything has                                happened in the container landscape                                which you know like firmly over in the                                world of even more awesome or awesome                                ops than before everything that's                                 happened there with kubernetes and the                                 scheduling and all of that enables                                 surveillance we are building                                 tools for developers on the shoulders of                                 fabulous stuff that's happening in a                                 completely different part of the                                 industry so serving us has come along                                 now because we're ready now we can tool                                 it now some of the early service                                 implementations including the very early                                 open whisk efforts before it was an                                 Apache project had some very interesting                                 container stuff going on because                                 kubernetes wasn't there or wasn't ready                                 so is it just an of the moment hipster                                 thing that we're hearing a lot of hype                                 about will it be gone next year replay a                                 bit like a JavaScript framework replaced                                 by another new buzzword I don't think so                                 I'm gonna stick my neck out and say                                 serverless                                 is not just for hipsters think it's a                                 real tool does it solve real problems                                 yes with a small caveat that maybe it                                 doesn't solve all of them but there are                                 definitely some problems that are a                                 great shape for service where I think                                 this kind of platform is a really good                                 fit and that's both in terms of the                                 shape of the problem but also the shape                                 of the person who can use this tool I                                 think this is opening the door to a                                 bunch of people who are not                                 traditionally full-stack or back-end                                 devs because all you got to be able to                                 do is write function so there's a lot of                                 new people starting to take advantage of                                 this I think it's a slow burn because                                 there's a lot of education it's quite a                                 new idea but I think we will see this                                 continue to be disruptive over the years                                 to come so some things that I think it                                 fits really well for micro services that                                 you can tell us I think this is a good                                 fit because tomorrow I'm giving a talk                                 about serving as micro services pop back                                 here after lunch tomorrow and you can                                 have more of this I do think it's a                                 great fit because with the with the                                 micro service where you kind of start                                 from a user story and then define the                                 endpoints that you need and then you're                                 mapping each of those endpoints with a                                 verb                                 nation on to a function and those                                 functions are all independent they can                                 be changed and switched independently                                 without hurting anything that's already                                 live and you can even have different                                 people working on different areas you                                 really really easily I think it's a                                 really nice kind of modular approach and                                 we use service in conjunction with an                                 API gateway and if you're I'm kind of                                 aware that a lot of the server list                                 stuff that you might have seen is on the                                 hosted providers IBM cloud has a hosted                                 functions as a service offering it's                                 based on Apache open risk there are lots                                 of competitors in this space including                                 very nearly other providers that also                                 offer hosted Apache                                 open wisk we know lots of people running                                 their own open whisks it's also                                 available on hosted services all of the                                 service platforms including Amazon                                 lambda whatever with which this is                                 comparable will have some sort of API                                 gateway that will give you the routing                                 nice paths that you want pointing to                                 your functions and will also give you                                 some extra stuff at that level like                                 security rate limiting that kind of                                 thing I have examples of API gateway in                                 tomorrow's talk where I'm gonna try not                                 to give my whole micro services talk now                                 and instead keep talking about some of                                 the other use cases that I think are a                                 lovely fit the one I use a lot maybe                                 because I'm a developer advocate so I                                 tend to write sample code rather than                                 production code is one-off endpoints                                 stuff that you really don't want to set                                 up and become responsible for a server                                 to do these things if you are writing an                                 Alexa skill I think the echo dot is out                                 in Germany as well so you might be                                 familiar with it it's a small device you                                 speak I would say she listens she                                 doesn't listen that's obviously not how                                 that works Amazon sends the recording of                                 your voice and passes it and decides                                 what to do and then sends a web hook so                                 it will you define when this thing                                 happens hit this endpoint service is an                                 obvious fit for that and I just got                                 scared by                                 demoing with the echo dot so I've                                 stopped traveling with her now because I                                 ran that demo five times successfully                                 and I think I've run out of karna so you                                 could just imagine a demo with an echo                                 dot but that's the kind of thing where                                 if you publish that it could be quite                                 popular or nobody might use it and you                                 don't need to care because you can just                                 either put it on your existing hope                                 patchy open wisk or use one of the                                 hosted platforms for it if you have a                                 static site with just a little bit of                                 dynamic functionality contact for                                 mailing this signer anything like that                                 it's just going to save to a database or                                 send an email you don't you can host the                                 static site on s                                                        get her pages you don't need to run a                                 web server for this so you can use a                                 server list function just to catch that                                 incoming web request and do whatever the                                 thing is that you need to do so you can                                 write it to the database send the email                                 do whatever you do the open wisk                                 community has an a service endpoint on                                 its slack signup form of course and it's                                 quite a nice use case I use it quite a                                 lot for handling incoming web hooks                                 serverless is all about event-driven you                                 know something happens we respond to it                                 so I use it quite a lot for when this                                 thing happens on github run this                                 function and maybe if I find the                                 following things do something else about                                 it my team sets at one which was if the                                 commit changes a CSS file and Lorna was                                 the committer like sound the alarms if                                 because I am NOT a front-end dev and                                 that makes them anxious so they made the                                 slack bot like talk if those when those                                 things happened so if you're responding                                 to something like zapier or if t this is                                 a great way of doing that Twilio next mo                                 any of the telecoms API you're receiving                                 an SMS it's a really really nice fit                                 that you wouldn't necessarily want to                                 it's not just about setting up the                                 server                                 it's then the overhead of having to                                 maintain that or you end up deploying a                                 bunch of things to one server and then                                 yeah I have one of those you know like                                 it runs my website my friend's website                                 and                                 other tools I like and it's nonsense                                 where I think                                 serverless is really interesting is how                                 much it's gonna enable geeks of other                                 disciplines so people who are technical                                 but they're not it opens up server-side                                 coding to people who are not server-side                                 coders so if you are doing mobile or                                 front-end stuff often there are pieces                                 which cannot go on the client they need                                 to go on your own server so I'm thinking                                 of like API keys back-end or that kind                                 of thing small pieces three endpoints by                                 using server less we can give that that                                 tooling directly to those people they                                 can code but they might not want to know                                 how to administer a Linux box and take                                 care of it in an ongoing way so it opens                                 a lot of doors to people who have a lot                                 of skills that are not directly these                                 skills I'm also seeing it used more and                                 more in the data world a really common                                 use case for risk for to respond to is                                 there are things on this queue do stuff                                 and so transforming data or reacting to                                 data is a really nice use case if you                                 think about how we deal with                                 particularly potentially large amounts                                 of data things like MapReduce it's                                 essentially a distributed system and all                                 of the service platforms give us that                                 hot independent atomic pieces of work                                 scaled horizontally so when you're                                 working with data sets as data                                 scientists doing some transformation or                                 some manipulation whether it's I need to                                 batch convert this stuff so that I can                                 run some analysis or whether it's these                                 sensor data is coming in and it's not in                                 the format that I'm expecting like we                                 have definitely bought sensors from                                 different suppliers and the internet                                 things has no standards so we're gonna                                 manipulate them all into a common form                                 as they come in server less is great at                                 doing that one simple thing over and                                 over on demand                                 and I see that you used more and more a                                 special shout-out to another of my                                 favorite Apache projects this couchdb                                 when you write to couchdb you can get an                                 event it has a changes feed so when                                 something happens insert or update then                                 you can get that in a feed and open with                                 knows how to respond to it so i'm i                                 worked quite a lot with couchdb and this                                 is a really nice oh I wrote the database                                 okay so we assigned we assigned this                                 thing to somebody let's notify them in                                 slack and I can this gives me a really                                 nice integration point so let's talk a                                 bit more about Apache open whisk itself                                 it's a relatively new project certainly                                 in Apache terms because a lot of the                                 projects in the foundation are really                                 really well-established                                 in fact open whisk is still in the                                 incubator although we're working towards                                 graduation and learning to be more of a                                 grown of Apache projects and a bit less                                 we started off as kind of having a lot                                 of contributors from one company and we                                 now have contributed from a bunch of                                 companies so I'm from IBM we were the                                 original conspirators if you like we                                 have Red Hat and Adobe also as big                                 contributors now looking to run their                                 own hosted versions which I think will                                 be great to have other providers of this                                 we see a lot of clients prototyping not                                 knowing if they'll deploy to our hosted                                 cloud or run it in their own data                                 centers and you can choose one and then                                 choose the other it's soap and sauce                                 that's the point and we have                                 contributors from a variety of                                 backgrounds so we do have a bunch of                                 individual contributors and community                                 contributors who are just using it and                                 wanting to make it more the tool that                                 they need and I think that's really                                 really important it's something that's                                 been striking to me working on this                                 project this is a couple of years I took                                 this screenshot last week so a couple of                                 years worth of commits and it's been                                 pretty steady and it's you know it's                                 coming along out of the box we support a                                 bunch of different languages so we've                                 got Java and nodes                                 which I think it pretty standard on the                                 service platforms you see a lot of                                 Python as well we also have PHP which                                 was a community contribution from an                                 individual which i think is great and                                 also Swift cuz we're crazy about Swift                                 IBM it's nice if there's anything here                                 that doesn't meet your needs you have a                                 couple of options one is to just wrap it                                 up in a docker container and dip leave                                 that and it'll just get run as it is so                                 you're sort of doing your own packaging                                 step there are also situations where                                 that makes the most sense because you                                 have large dependencies or something                                 like that to do the packaging step up                                 front so that your docker container is                                 just stored like that and then loaded                                 from the registry there's no init step                                 not very many of those but you can do it                                 your other option is to contribute the                                 runtime so to build the structure to                                 allow us to plug in your preferred                                 language to this I'm expecting to see                                 golang and maybe Kotlin appear on this                                 list over the next few months but I                                 don't wanna make promises you look on                                 the mailing list if you're interested so                                 that's all cool I'm a developer so we                                 are going to dive into some code and do                                 the hello world example so you can all                                 go home and try this and impress your                                 friends we'll start by talking about                                 some of the terminology I'm really                                 conscious that I often use jargon                                 because I live in this world as with so                                 many things it's really important when                                 you want a technology to sound exciting                                 that you should use new words to refer                                 to familiar concepts so I've been around                                 in PHP which is my original language and                                 long enough for when like                                 object-oriented programming was new and                                 everyone's confused by methods yet they                                 were experts at functions right open                                 risk all the service platforms only                                 little bit like that so instead of                                 calling a function of function we call                                 it an action it's gonna run in response                                 to an event a trigger is the event so                                 the trigger is a database change a web                                 request an item on a key or a bunch of                                 items on a queue we use the rule some                                 those two things together so the thing                                 that happens and the action now I've                                 said it's called an action an action the                                 rule is what joins the two things                                 together when this happens do this                                 database change on this database right                                 run this action or maybe run all a bunch                                 of rules that does a bunch of things in                                 response to that open whisks                                 specifically has this concept of                                 packages packages are a bit more than a                                 namespace they allow us to group our                                 actions together but we can also set for                                 example parameters on the package if we                                 need to give an API key or some creds                                 that are available to more than one                                 action you can set it in just one place                                 on the package if you want to                                 so I quite like that keeps things tidy                                 because once you get past hello world                                 your list of actions gets big really                                 quickly so the packages are a nice kind                                 of namespace but it's more than that a                                 way of grouping actions together because                                 all these actions are small often will                                 work with sequences where each action                                 has output that becomes the input of the                                 next action so the sequences are the                                 pipe operators and every action expects                                 the input of the next of the previous                                 action this is useful often because we                                 can you we can write little reusable                                 pieces where we're copying and pasting                                 code we can just make actions and kind                                 of put a sequence in the middle and then                                 come back and write the next piece so                                 that's how we kind of build those very                                 small actions up together and fit that                                 around you'll hear a lot about cold                                 start when you start working with                                 serverless and the cold start time is                                 your action hasn't been used recently or                                 you've deployed a new version or for                                 some reason we haven't got the right                                 version of the action ready to go so we                                 take the packaged container and put it                                 on the container host so you'll see                                 typically it's hard it's hard to put                                 exactly a number on it but a few hundred                                 milliseconds the cold start is                                 measurable you can                                 tell if your action was cold started                                 like run it once run it again                                 it'll always be quicker the second time                                 but it's not huge if you have any sort                                 of network call API called database                                 access then your cold start time just is                                 irrelevant for this for the execution                                 time of your whole action anyway it's                                 mentioned because I think people worry                                 about this a lot in my experience it's                                 almost never a problem but you should                                 definitely know it's here there are                                 definitely some real-time applications                                 where this would be a problem so it's a                                 it's just there for you to kind of know                                 what it is and know when you would be                                 concerned about that okay hello world                                 I picked JavaScript because I wasn't                                 sure what to expect from you all and I                                 think everybody can read JavaScript my                                 colleagues get cross if I call it the                                 lowest common denominator of developers                                 derald JavaScript ads but hopefully you                                 can all read this and get something from                                 it we've got a function the function                                 takes some parameters and then it                                 returns an object good you could all do                                 this in your language of choice the in                                 JavaScript you're always going to return                                 an object or a promise because if you                                 have any kind of a think operations you                                 need to return a promise so that the                                 container knows it's not finished and                                 once all those promise as a result or                                 rejected then what we're done and we                                 know that we can stop and the event loop                                 doesn't work the same way as it does in                                 a long-running node process or if you                                 are new fangled in your JavaScript then                                 the async/await stuff also works but try                                 remember this return object or return a                                 promise I'm returning an object with a                                 key of body here because this is going                                 to be a web action in about three slides                                 time so you can return what you like I'm                                 returning body because I'm going to use                                 that feature in a moment                                 this args parameter                                 contains a bunch of things so you'll get                                 some parameters that you set and you can                                 set these when you deploy your action to                                 the cloud or they might be set when you                                 call your action so you can call it                                 manually invoke it from the command line                                 more often it'll be called because an                                 event happened so the then you'll have                                 parameters that are about the event so                                 you'll have the item that was on the                                 queue or parameters that relate to the                                 incoming web request or whatever makes                                 sense here so you can set the Matt                                 deploy time you can set them at run time                                 they end up in the same namespace which                                 is really interesting so I often you can                                 annotate the parameters as being final                                 if you set them at deploy time which                                 means they can't be overwritten at                                 runtime sometimes you want them                                 overwritten like you're just setting                                 some defaults in case they're not set so                                 it's it's as appropriate there's a                                 project underway at the moment to                                 standardize the data that comes in from                                 all the different events between the                                 various service platforms to the cloud                                 native computing foundation are working                                 on that at the moment I think this will                                 be great because service platforms are                                 really not interchangeable at the moment                                 if you deploy to lambda and then decide                                 you don't want that lock in it's hard to                                 get away at the moment what else don't                                 want to say about parameters hmm you can                                 also set parameters specifically on IBM                                 clouds this is not an open source thing                                 on IBM cloud obviously we offer                                 databases and other types of api's like                                 Watson API is and weather API you can                                 bind there's a bind command that lets                                 you kind of say yeah I want to access                                 that Postgres so tell this package I                                 want access to that Postgres and it will                                 put use your login to put your                                 credentials in the right place so                                 there's an extra way of adding that                                 that's just on there on the proprietary                                 cloud alright so we wrote some code                                 which is great now we need to deploy it                                 and we deploy using this whisk that's                                 the open whisk command line tool wsk                                 whisk first of all I'm going to create a                                 package you'll notice that the command                                 does not say create it says update                                 and that's because open whisk is an                                 optimist it is on your side                                 and if you run update and it doesn't                                 exist it will create it and it means you                                 can always rerun your script safely so I                                 use update everywhere so I'm creating a                                 package called demo and I am zipping my                                 index.js file which you just saw with                                 the hello world into a zip file you                                 don't need to zip your code write four                                 lines in index J yes you definitely                                 don't need to zip that but if you get                                 past hello world any kind of                                 dependencies you need to zip so I hope                                 that you will try this try the hello                                 world example and then try something                                 that needs ipping so you get out of                                 being absolute in one file really fast                                 so we'll zip it and then we create the                                 action so again I'm using update because                                 I might I'm instantly gonna want to edit                                 the javascript file and zip it again and                                 deploy it again                                 so we'll use update - - kind specifies                                 the run time so you can say what version                                 of no d                                                                four it's Python                                                  whatever you specify that here then you                                 give the action and name that's this                                 demo hello one the demo is the package                                 name so it's package name slash action                                 name and then the zip file to run it                                 just invoke it because we couldn't call                                 it run cuz we need big words to make it                                 seem mysterious and advanced right so we                                 call it invoke you need this - - result                                 without it the action will be invoked                                 you will not see the output right it                                 will be run but it's fire-and-forget so                                 if you actually want to see what comes                                 back then you need - - result or - -                                 blocking will give you a lot more                                 information so you'll see the parameters                                 and any in it time or anything so that                                 can be quite useful if you need to do                                 any debugging to use - - blocking                                 instead so we wrote some very simple                                 JavaScript we deployed the JavaScript to                                 the cloud we ran it that's quite cool                                 and I want to talk next about web                                 enabling the actions because it's                                 trivial and kind of more useful than                                 this so we're still going to deploy the                                 code like we're still going to update                                 the package we're still going to zip the                                 index file the only thing that's                                 different here is this - - web true                                 that's saying I want this action to be                                 web enabled so then I can get the URL I                                 can just ask this action how I should                                 refer to it I'm running this locally                                 which is the joy of an open source                                 project local for development ask it                                 what its URL is and then curl that if                                 you are using a local installation this                                 SSL Certificates not set up by default                                 so you probably need whisk with a dash I                                 and curl with it okay                                 - just ignore the fact that none of                                 these sets that verified and you can                                 just curl it and you'll see because I                                 set that body as the key as the object                                 property then you get the value back you                                 can also set headers and status code                                 here because could be a web response                                 okay a little bit more about packages I                                 thought I said most of this but one                                 thing I wanted to touch on here is how                                 the actions from different packages can                                 interplay together so you can you know                                 have an individual holes a whole                                 application made of code that you wrote                                 in its own package and then a whole                                 other one maybe a different micro                                 service in a whole other package and                                 that's cool but sometimes we share                                 things between packages or different                                 sequences pull in from different                                 different packages and that might be                                 stuff that we've written so we we have                                 like a common set that we use or it                                 might be stuff that's already built in                                 so Apache open Wis comes with a bunch of                                 built-in things so we have you'll see                                 some other things that are a bit like                                 Cloudant this is CouchDB but Cloudant                                 Starmark the IBM marketing name I've                                 seen this will get fixed                                 some point just doesn't need to be                                 called that                                 and you'll also see some watts and stuff                                 and some weather stuff it is showing                                 it's IBM roots oh yeah I use the cloud                                 one quite a bit it's super helpful the                                 github slack WebSocket packages have                                 actions that just format the data                                 correctly to interact with those                                 endpoints either sending or receiving so                                 that's quite useful and the samples it                                 just has stuff to try it has examples to                                 look at and things that you can wire in                                 and you can call these really easily                                 they're all in a package called whisks                                 system so for example in the samples                                 package there's a word count action and                                 I can just call it with whisk you can                                 tell this is local whisk - I and whisk                                 actually invoke with - - result because                                 I do care what comes back and then I can                                 call it with its qualified name so it's                                 the whisk that system in the samples                                 package the word count action and if I                                 pass this payload with this string it                                 counts the number of words in the string                                 right and there are eight its                                 high-powered I'm not sure why you would                                 need this but if you did it's here it's                                 quite handy and it's really easy to make                                 use of those that are already built-in                                 you can have an explore and you'll find                                 that you probably start to build your                                 own reusable pieces of actions that come                                 into sequences where's my diagram gone                                 well that's a fail imagine a diagram                                 where I use the registers on a site so                                 the database change fires which runs the                                 Cloudant please tell me what record that                                 was you just created in a sequence with                                 so like get the record next in the                                 sequence do my code which is the thing I                                 actually care about and then finally                                 whatever message I just made here send                                 this to slack which will do the web hook                                 with the slight creds sure what I                                 happened to my formatting there                                 and I think these sequences these wiring                                 together of your bits you know common                                 code that you share maybe with other                                 parts of your project things that were                                 already built in I think this is really                                 an interesting way of building over the                                 years in software development we've been                                 moving to more of a componentized                                 architecture and service is it's just                                 very rewarding to develop with because                                 it's so quick you don't need to lots of                                 setup you don't need to think hard about                                 it it's quite well established so I                                 would put this up you know write some                                 functions I have like a favorite project                                 structure that I use and then just teach                                 Travis to deploy it and we're all good                                 just keep pushing to get and it's just                                 deploy so in terms of we've used it a                                 lot for a lot of our internal tools just                                 because we have access to the platform                                 and it's super quick and easy and I can                                 develop locally which is great and                                 probably the biggest selling point of                                 the of having it as an open-source                                 project a lot of the time you know if                                 you work with Amazon lambda or something                                 you end up needing like development an                                 extra cloud like development accounts as                                 well as production accounts and with                                 this you can just have it locally which                                 i think is great I've really really                                 enjoyed working with it so I feel like                                 services it's amazing news this talks at                                 all the conferences right but it's also                                 it really means something to us as                                 developers it's something that should be                                 a tool in our box it should be and it is                                 something that we will continue to use                                 occasionally or sometimes for a long                                 time to come I think our understanding                                 of what the right problems are for                                 service is still growing in a lot of                                 ways I think there are some good really                                 good use cases out there already and                                 there are some cases where people have                                 been like this is amazing                                 everything to serve us and then promptly                                 moved it all back which yeah I can kind                                 of see that you know the actions are                                 very small they're all independent so                                 you can get to                                                    quickly and then you've got something                                 that can be quite hard to manage the                                 tooling is still playing catch-up in                                 some ways so I think that's quite                                 interesting having open whisk in the                                 Apache foundation I think really                                 reflects being in touch with developers                                 being in touch with new stuff wanting to                                 make sure that we build in a way that we                                 can all benefit from like I say that we                                 don't have a lot of public hosted                                 versions of this yet but we do see                                 people running it we need like two                                 communities one for people have to run                                 this thing and those people like me were                                 just like hey I can write code in any                                 language and make it look like access it                                 with with just setting up web endpoints                                 I want that right so it's it's a it's a                                 young project but I think it's something                                 that's really important in the industry                                 and within the foundation I don't know                                 how many of you are already using                                 service or considering it I'd be really                                 interested to kind of hear what your use                                 cases are what your hopes and dreams are                                 what your concerns are and kind of hear                                 how that engagement is going and how you                                 feel it's gonna fit in your inch into                                 your current workflow and what your also                                 what you're worried about if you haven't                                 started yet and that'd be really                                 interesting cool so I have some                                 resources for you there's the link to                                 the Apache projects the link to the                                 hosted IBM version if you just want to                                 play with it quickly it's on the free                                 tier a link to my blog where I write                                 more about the stuff and a reminder that                                 you can have more of this and a more                                 like concrete example in tomorrow's talk                                 so I didn't want to overload you in the                                 afternoon today but I do have like a                                 hole at another talk to Mario where I                                 will do much less intro and a bit more                                 hands-on stuff so that's with me we have                                 about                                                                    wants to chat more and if you don't want                                 to chat more that is also fine yes                                 are there more tools or frameworks for                                 risk to integrate in my development                                 environment I'm not seeing a lot of like                                 ready-made plugins there's a bunch of                                 tools in this space which I think might                                 be interesting to you and the first one                                 is serverless framework which is aimed                                 to give you just a little bit more more                                 of a high-level approach than maybe what                                 I've shown you here I don't think it                                 necessarily integrates with your IDE but                                 a movem user so I wouldn't know                                 and that also aims to give you platform                                 independence between all the different                                 service platforms and that might also be                                 interesting to organisations who don't                                 want to commit strongly in one way or                                 another for the sort of developmental                                 lifecycle side of questions I tend to                                 just have these commands run by Travis                                 so it deploys that way I have seen a few                                 testing tools that kind of set up some                                 scaffolding and pretend to be open whisk                                 and passings like known sample inputs                                 and outputs I don't want to be negative                                 about those testing tools at all but I                                 think they are maturing I think is the                                 nicest way to say that like everybody                                 has their own scaffolding set up we're                                 not really on common ground with that                                 yet I expect that to change but                                 currently there isn't really a                                 standardized way of doing it                                 the logging and monitoring is pretty                                 standardized so everyone's just pushing                                 out to some sort of elk type stack so                                 that's yeah I feel like that end that                                 end is under control which it wasn't                                 that's changed quite a lot in the last                                   to                                                                     yes a little bit but the hard problem                                 will be the debugging out of your debug                                 function without server it's how do you                                 debug a function without a server it's                                 not too bad I mean we're seeing some                                 open Wisc local type projects the idea                                 is that it just pretends to be open wisk                                 and you're actually running the                                 JavaScript locally obviously I'm running                                 open whisked locally when I develop so I                                 can hook in and debug that a bit say it                                 again                                 oh yeah I mean that there are servers                                 all the way through so the less is                                 completely the wrong name ever clearly                                 are very it's like no ops which is                                 really just the best ops you've ever                                 seen right I don't have to do the ops                                 but it's not other reason any um yeah I                                 think the the debugging is interesting                                 for the most part you shouldn't get too                                 bogged down in this because it should be                                 many small components like if you have a                                 real cyclomatic complexity and you're                                 lost in your function that's sort of a                                 separate problem that the tools can't                                 help you with but yeah the thing about                                 the local scaffolding is it still very                                 much favors just JavaScript and that's                                 annoying to me like do you support these                                 other languages or not and I feel like                                 these other tools don't yet support all                                 of the languages and I it's not a                                 standard solution until we have support                                 for everything we claim we do like oh                                 you can run Python but you can't have                                 any of this other stuff                                 it's not a full platform so depending on                                 your tech chosen tech stack there's                                 probably some different experiences                                 there yes you talk about support for                                 different languages like PHP and Python                                 and so on so can you give an impression                                 what it takes in amount of time or                                 effort to add in support for new                                 language and what it doesn't mean to add                                 support for new language okay I'm                                 speaking about especially about compiled                                 languages okay see your Fortran I'm                                 gonna give you my best hand wavey answer                                 because I haven't built this so with the                                 compiled languages with Java with Swift                                 I think the process is pretty similar so                                 you create docker container that                                 responds to two                                 command's one is in it takes the code                                 gets the dependencies does a compile                                 step gets the container ready to run and                                 this is why the cold start is more                                 painful on Java than it is on the                                 interpreted languages and then you have                                 the run step which is like the event                                 happened go and on cold start we've run                                 the init first and then the run so you                                 you need to create the container that                                 has everything this runtime needs to                                 like get its dependencies and run and                                 then you need to write the piece that                                 does the in it and a little bit it's not                                 much as a little bit of wrapper how much                                 work is it if it's your chosen step tech                                 stack I think you can do this in a                                 weekend I didn't really mean it as a                                 challenge but that would be lovely                                 yeah I have a little bit experience this                                 AWS lambda and there you can specify how                                 much what kind of resources you want and                                 what events and so is it also possible                                 with open based not just not not just to                                 say this function give it a bit little                                 bit more like how many CPU or memory or                                 whatever or start time also have it warm                                 start we don't have the warm start thing                                 I think if you need warm start you                                 probably didn't need service maybe I'm                                 being narrow-minded about that but like                                 if you need it if you need a server                                 that's always running then get a server                                 this always ready we've already invented                                 those yeah you can just yes you can do                                 keep alive to keep it warm but I think                                 that it's a bit unreliable because you                                 can be garbage collected at any time if                                 you redeploy then it's gonna be cold                                 anyway although a lot of people have a                                 ping on the end of their deploy scripts                                 for this reason and in terms of sorry                                 was there the question the resources                                 that I can oh yeah definition of what                                 what is yeah how big how big an action                                 would you like yeah how big is your                                 function so that's configurable on a                                 server side so you're gonna configure                                 that a namespace level with open wisk                                 it's not very configurable but you know                                 we've recently boosted our resources as                                 standard on the public cloud on IBM                                 cloud if you're running your own then                                 you obviously you can configure that any                                 way you want and but it's configured                                 across the platform so awesome yeah one                                 right in the corner that you can't see                                 behind the pillar thank you yeah my                                 question is how would open risk                                 integrate into already existing                                 infrastructure with say                                 Jenkins and Travis and kubernetes on the                                 back and is it a completely new approach                                 or does it integrate into                                                integrate to what you already have so in                                 terms of like Jenkins and Travis the                                 testing like I say is immature so it's                                 hard to automate that side of things in                                 terms of deploying the actions I use                                 Travis for that I just set the                                 environment variables that I need to                                 pass in for config and run more or less                                 the scripts that you see here obviously                                 a bit more complicated on a slightly                                 less trivial project but I do have it                                 and that works really well in terms of                                 Kuban at ease I mean it is kubernetes                                 back so open if you already have                                 kubernetes expertise in your                                 organization then open risk is great                                 because you already know how to do a lot                                 of it and I'm not sure it would                                 necessary you'd necessarily want to                                 integrate it to what you already have I                                 think it would always be like a separate                                 thing that you installed does that make                                 sense I'm not really ops question yeah                                 completely different approach to do the                                 very same thing to deploy services yeah                                 cool okay thanks yep perfect                                  well once again thanks for coming up and                                  spending the time with me I'm around all                                  day today and tomorrow and if you would                                  like more of this then please pop in                                  tomorrow afternoon and I would love to                                  talk about micro services thanks very                                  much                                  you
YouTube URL: https://www.youtube.com/watch?v=xvlE0yKHy28


