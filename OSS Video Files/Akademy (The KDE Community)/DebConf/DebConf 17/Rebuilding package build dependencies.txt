Title: Rebuilding package build dependencies
Publication date: 2017-12-06
Playlist: DebConf 17
Description: 
	by Eugene Zhukov

At: DebConf17
https://debconf17.debconf.org/
Room: Buzz
Scheduled start: 2017-08-08 17:00:00
Captions: 
	00:00:04,899 --> 00:00:09,980
thanks for coming I was hoping that not

00:00:08,629 --> 00:00:12,369
many people were joined because I'm

00:00:09,980 --> 00:00:22,160
freaking out here at the stage already

00:00:12,369 --> 00:00:24,680
anyway so so basically the idea that how

00:00:22,160 --> 00:00:27,050
I came up with this is just was that to

00:00:24,680 --> 00:00:29,030
stretch my own image because at some

00:00:27,050 --> 00:00:35,660
point what happened with one of my

00:00:29,030 --> 00:00:38,720
packages look like this so apparently I

00:00:35,660 --> 00:00:41,239
could figure out the manual well we'll

00:00:38,720 --> 00:00:44,030
go reverse build dependencies not gonna

00:00:41,239 --> 00:00:50,860
work or it will take sufficient amount

00:00:44,030 --> 00:00:50,860
of time so I decided to go over the

00:00:52,300 --> 00:00:58,309
familiar to be like for example use a

00:00:55,190 --> 00:01:00,620
scope or some automation but the stock

00:00:58,309 --> 00:01:03,410
is not at all possible it's basically

00:01:00,620 --> 00:01:05,030
about rebuilding the packages and the

00:01:03,410 --> 00:01:07,700
saw was just a tool which I was familiar

00:01:05,030 --> 00:01:13,820
at the moment which was using in my day

00:01:07,700 --> 00:01:16,760
job so and the rationale that I have was

00:01:13,820 --> 00:01:20,330
that I wanted like to use they/them

00:01:16,760 --> 00:01:24,680
tools and again I had some learning to

00:01:20,330 --> 00:01:29,180
already with tools ahem so I decided the

00:01:24,680 --> 00:01:31,810
most easy way for me like that I wanted

00:01:29,180 --> 00:01:34,280
to come back like a fresh young

00:01:31,810 --> 00:01:37,430
departments or like an SSH there and do

00:01:34,280 --> 00:01:40,220
stuff like without something yes I I

00:01:37,430 --> 00:01:42,830
know what go current stuff but it's you

00:01:40,220 --> 00:01:43,640
can tell that magical to choose some

00:01:42,830 --> 00:01:46,940
kind of

00:01:43,640 --> 00:01:50,390
yeah c'mon stand over but so I still

00:01:46,940 --> 00:01:52,280
won't multiply to do the real way with a

00:01:50,390 --> 00:01:57,470
sensation like normally you would do it

00:01:52,280 --> 00:02:01,480
if you lot so and I wanted to have like

00:01:57,470 --> 00:02:01,480
a package pressure on it to reveal

00:02:02,290 --> 00:02:09,290
basically for that of course I needed

00:02:04,850 --> 00:02:14,300
yourself open my eyes that I produced

00:02:09,290 --> 00:02:17,300
from the language and so far so good but

00:02:14,300 --> 00:02:19,190
then how about backwards compatibility

00:02:17,300 --> 00:02:20,660
of the package basically so let's say

00:02:19,190 --> 00:02:22,760
why rebuild it

00:02:20,660 --> 00:02:26,030
even though my laptop or something and

00:02:22,760 --> 00:02:28,610
then how do it has okay all the other

00:02:26,030 --> 00:02:34,100
wineries that depend on my package are

00:02:28,610 --> 00:02:38,209
not gonna fail so that basically decide

00:02:34,100 --> 00:02:42,350
to write something up in icicle the ISDN

00:02:38,209 --> 00:02:49,459
deconstruct to come up with SSH the

00:02:42,350 --> 00:02:51,440
wonderful image of course in kind of

00:02:49,459 --> 00:02:54,530
naturally running with a chemical a VM

00:02:51,440 --> 00:02:59,989
to start up and console so they also

00:02:54,530 --> 00:03:03,239
move it to roughly so logically and this

00:02:59,989 --> 00:03:07,560
is just an example of a simple

00:03:03,239 --> 00:03:10,730
common how to really boost up ssh full

00:03:07,560 --> 00:03:14,760
image with ansible as simple as that and

00:03:10,730 --> 00:03:16,920
to fire that with plain KVM and after

00:03:14,760 --> 00:03:23,579
that you can just message to with with

00:03:16,920 --> 00:03:30,920
on the a11 2700 3 i have life on you one

00:03:23,579 --> 00:03:30,920
look at we just notice that anyway so

00:03:31,250 --> 00:03:36,510
with the ansible of course you need some

00:03:34,109 --> 00:03:39,810
configuration you need to define what

00:03:36,510 --> 00:03:44,459
both back to reveal this fresh day BM d

00:03:39,810 --> 00:03:48,299
bootstrap image so the us provides very

00:03:44,459 --> 00:03:50,970
nice mechanism for that let's copy

00:03:48,299 --> 00:03:55,879
inventory so I have my first stop there

00:03:50,970 --> 00:03:59,010
but most important ones I would

00:03:55,879 --> 00:04:01,260
basically if you using the sensibilities

00:03:59,010 --> 00:04:02,549
of course you need to specify for each

00:04:01,260 --> 00:04:05,790
architecture you want to build your

00:04:02,549 --> 00:04:07,739
package and the package name which you

00:04:05,790 --> 00:04:10,949
want to build and for which you want to

00:04:07,739 --> 00:04:13,319
rebuild a reverse dependencies and there

00:04:10,949 --> 00:04:15,120
is like some automation to eat foods

00:04:13,319 --> 00:04:16,380
effects from the building in case they

00:04:15,120 --> 00:04:17,120
are failing and they want to continue

00:04:16,380 --> 00:04:20,780
away

00:04:17,120 --> 00:04:23,090
young objective how many failures

00:04:20,780 --> 00:04:25,370
eventually death and how many packages

00:04:23,090 --> 00:04:31,510
are actually building from from the

00:04:25,370 --> 00:04:34,510
beginning so maybe I could show some

00:04:31,510 --> 00:04:34,510
demo

00:04:47,320 --> 00:04:49,890
okay

00:04:51,420 --> 00:05:00,870
this is big enough for the language

00:04:53,580 --> 00:05:03,080
formal so this is basically the stuff

00:05:00,870 --> 00:05:03,080
which

00:05:10,169 --> 00:05:20,069
so this is very self-explanatory so the

00:05:17,460 --> 00:05:23,219
package you wish it is such 4 Hg

00:05:20,069 --> 00:05:24,749
so first what it does ansible because I

00:05:23,219 --> 00:05:26,400
have already community food stuck in the

00:05:24,749 --> 00:05:28,849
chocolate running so the answers are

00:05:26,400 --> 00:05:32,719
essentially a cessation to the VM then

00:05:28,849 --> 00:05:48,210
does attempt check out of a package then

00:05:32,719 --> 00:05:51,659
builds it installs always so yeah

00:05:48,210 --> 00:05:54,300
explain to me what's happened so you'll

00:05:51,659 --> 00:05:58,379
take the package that was defined in the

00:05:54,300 --> 00:06:01,979
inventory then installs also produced by

00:05:58,379 --> 00:06:06,689
this then for each binary it runs the

00:06:01,979 --> 00:06:11,039
build our lives and figures out can

00:06:06,689 --> 00:06:13,620
basically pounds for 40 40 equals nu mu

00:06:11,039 --> 00:06:16,050
gamma for each and every reversibility

00:06:13,620 --> 00:06:17,099
purpose so that's why you see how many

00:06:16,050 --> 00:06:20,189
there are

00:06:17,099 --> 00:06:23,069
actually they are not listed here there

00:06:20,189 --> 00:06:26,009
are like two listed which are a student

00:06:23,069 --> 00:06:29,819
doc doc PGI workaholic client the purple

00:06:26,009 --> 00:06:34,800
music so I didn't investigate in this

00:06:29,819 --> 00:06:39,509
city of Y so it is just skip them then I

00:06:34,800 --> 00:06:41,939
have most of them already I have to do

00:06:39,509 --> 00:06:43,800
pre-youtube ready so that's why you can

00:06:41,939 --> 00:06:46,770
see it's that unsecure changing that

00:06:43,800 --> 00:06:48,479
okay if the fire is already exist of

00:06:46,770 --> 00:06:50,370
some River students because it is

00:06:48,479 --> 00:06:50,879
continues to the next one to the next

00:06:50,370 --> 00:06:55,259
one

00:06:50,879 --> 00:06:57,500
until they are in some which also still

00:06:55,259 --> 00:06:57,500
here

00:06:57,570 --> 00:07:03,600
prob'ly it's just we see some SPM or

00:07:01,080 --> 00:07:08,160
first person totally secure URL

00:07:03,600 --> 00:07:15,360
yes over this one but anyway I can show

00:07:08,160 --> 00:07:17,460
like if I can SSH them to the VM or

00:07:15,360 --> 00:07:20,370
different like they actually have to be

00:07:17,460 --> 00:07:23,130
ends at the same time changing original

00:07:20,370 --> 00:07:36,870
dependencies for two different packages

00:07:23,130 --> 00:07:38,910
can also do that just tweak it so like

00:07:36,870 --> 00:07:42,720
my stuff already it just builds in the

00:07:38,910 --> 00:07:46,250
home folder so if I just read it already

00:07:42,720 --> 00:07:46,250
before just do something

00:07:49,640 --> 00:07:55,740
the place so the plane is important you

00:07:54,150 --> 00:07:57,750
can rerun it as many times as you like

00:07:55,740 --> 00:08:00,150
and which is this keeps the stuff which

00:07:57,750 --> 00:08:07,620
is built already or reveal something

00:08:00,150 --> 00:08:11,940
which is beyond my package and also

00:08:07,620 --> 00:08:13,090
notice that people just go through all

00:08:11,940 --> 00:08:16,030
the different events

00:08:13,090 --> 00:08:19,960
it is like a container who's in play

00:08:16,030 --> 00:08:23,470
with that checked out and and the

00:08:19,960 --> 00:08:27,070
important thing is it's kinda in the way

00:08:23,470 --> 00:08:30,880
he environment for building because for

00:08:27,070 --> 00:08:34,390
each package for each readers bill

00:08:30,880 --> 00:08:36,700
dependency package ask Oprah's installs

00:08:34,390 --> 00:08:39,909
bill dependencies the rebuilds the

00:08:36,700 --> 00:08:41,650
package and then honest all spoke till

00:08:39,909 --> 00:08:43,990
dependencies to make the clean

00:08:41,650 --> 00:08:47,500
department so it also runs the Autodromo

00:08:43,990 --> 00:08:50,940
part of a BT so you can see that stuff

00:08:47,500 --> 00:08:55,660
is change so the day on my host Bill so

00:08:50,940 --> 00:08:57,460
Deb check out fine highlights check if

00:08:55,660 --> 00:09:04,290
it was was built or not it's all

00:08:57,460 --> 00:09:07,710
dependencies built and the ribbon events

00:09:04,290 --> 00:09:07,710
that's basically

00:09:10,430 --> 00:09:13,430
maybe

00:09:14,500 --> 00:09:25,930
so this is just a little page where this

00:09:21,810 --> 00:09:29,020
development is located and I have some

00:09:25,930 --> 00:09:32,470
read me here pretty self-explanatory so

00:09:29,020 --> 00:09:36,030
if you want to use it you can just open

00:09:32,470 --> 00:09:38,530
this github URL and figure stuff out

00:09:36,030 --> 00:09:41,310
over the camera because that almost

00:09:38,530 --> 00:09:44,440
dropped me on Yelp or come talk to me I

00:09:41,310 --> 00:09:48,130
can make you shows really the main

00:09:44,440 --> 00:09:53,500
configuration file the stuff which is

00:09:48,130 --> 00:09:54,910
there so yeah here are the words I think

00:09:53,500 --> 00:09:57,820
you might not want to be so let's say

00:09:54,910 --> 00:09:59,680
you want to review or a check your

00:09:57,820 --> 00:10:01,360
baggage to do still dependencies on the

00:09:59,680 --> 00:10:03,760
different architecture that you just go

00:10:01,360 --> 00:10:06,670
and modify it for something some pixel

00:10:03,760 --> 00:10:08,830
or bylaw and of course if you don't

00:10:06,670 --> 00:10:10,900
specify package that last bubble tell

00:10:08,830 --> 00:10:12,340
you will remind you about Vista hey

00:10:10,900 --> 00:10:15,610
please specify spectively

00:10:12,340 --> 00:10:16,600
which one you won't reveal and it's from

00:10:15,610 --> 00:10:18,820
the building's just the convenience

00:10:16,600 --> 00:10:21,400
thing like comma separated packages like

00:10:18,820 --> 00:10:23,890
you like a show before like Nick yeah

00:10:21,400 --> 00:10:25,360
that you can just add if want to

00:10:23,890 --> 00:10:30,610
continue with your rebuilding process

00:10:25,360 --> 00:10:32,860
and come back to the pay bills later the

00:10:30,610 --> 00:10:36,060
rest have finished and the last thing is

00:10:32,860 --> 00:10:36,060
for SSAT

00:10:36,900 --> 00:10:41,230
possible usage which you know that

00:10:39,100 --> 00:10:43,410
probably her the triggers talked about

00:10:41,230 --> 00:10:43,410
us

00:10:45,400 --> 00:10:56,470
so licensed they dispose of budget yeah

00:10:51,060 --> 00:10:58,960
our major so that's basically so if you

00:10:56,470 --> 00:11:01,529
have any questions comments or sarcastic

00:10:58,960 --> 00:11:01,529
remarks

00:11:11,620 --> 00:11:16,600
have you looked at all that doing VM sun

00:11:14,560 --> 00:11:20,319
shining or handsome snapchatting to

00:11:16,600 --> 00:11:22,509
speed up the process a lot of the time

00:11:20,319 --> 00:11:38,500
you're just kind of restoring to the

00:11:22,509 --> 00:11:40,959
scene it's almost like each have you

00:11:38,500 --> 00:11:42,430
have you found that there are times when

00:11:40,959 --> 00:11:46,990
you you know things like has is caught

00:11:42,430 --> 00:11:49,660
stuff that you would have otherwise like

00:11:46,990 --> 00:11:51,939
like we've got situations where you've

00:11:49,660 --> 00:11:55,120
done an update that has broken reverse

00:11:51,939 --> 00:11:58,509
the penalties yeah like once it happens

00:11:55,120 --> 00:12:00,399
over 60 when you build this the VFD who

00:11:58,509 --> 00:12:03,819
struck in pools the freshest stuff from

00:12:00,399 --> 00:12:05,740
their crack so once I was like dude and

00:12:03,819 --> 00:12:08,139
then I noticed that which is look

00:12:05,740 --> 00:12:10,240
beautiful something isn't right I don't

00:12:08,139 --> 00:12:12,160
remember either network he wasn't coming

00:12:10,240 --> 00:12:14,339
up or something so perfectly yeah and

00:12:12,160 --> 00:12:16,389
then I said googling and checking the

00:12:14,339 --> 00:12:19,689
essential packages and that I found

00:12:16,389 --> 00:12:21,759
there was some broken some I don't

00:12:19,689 --> 00:12:23,620
remember which package was uploaded and

00:12:21,759 --> 00:12:25,689
the memory was painting and then of

00:12:23,620 --> 00:12:27,160
course after several hours the new

00:12:25,689 --> 00:12:27,640
version was supposed again and that was

00:12:27,160 --> 00:12:29,200
back

00:12:27,640 --> 00:12:31,300
my TMT who's threatened but the other

00:12:29,200 --> 00:12:34,000
that's that's actually what I like about

00:12:31,300 --> 00:12:36,340
this PMP who structured I want to use a

00:12:34,000 --> 00:12:38,080
set of some book a repository that it

00:12:36,340 --> 00:12:40,260
actually eats the aspirations as it can

00:12:38,080 --> 00:12:40,260
get

00:12:47,390 --> 00:12:49,990
okay

00:12:59,410 --> 00:13:02,430

YouTube URL: https://www.youtube.com/watch?v=1seHlHxjo9w


