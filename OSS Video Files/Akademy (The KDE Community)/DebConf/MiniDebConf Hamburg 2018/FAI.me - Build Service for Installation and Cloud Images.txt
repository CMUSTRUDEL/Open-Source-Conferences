Title: FAI.me - Build Service for Installation and Cloud Images
Publication date: 2018-05-27
Playlist: MiniDebConf Hamburg 2018
Description: 
	by Thomas Lange

At: MiniDebConf Hamburg
https://wiki.debian.org/DebianEvents/de/2018/MiniDebConfHamburg
Room: main
Scheduled start: 2018-05-20 17:30:00
Captions: 
	00:00:04,900 --> 00:00:16,420
so today I talk about Phi me which is a

00:00:09,590 --> 00:00:19,279
build server for images and first

00:00:16,420 --> 00:00:26,930
anybody that never heard anything about

00:00:19,279 --> 00:00:31,940
Phi ok so I started this project in 1999

00:00:26,930 --> 00:00:34,309
I I'm not sure if all right now I'm sure

00:00:31,940 --> 00:00:36,410
that during those times the Debian

00:00:34,309 --> 00:00:38,329
installer did not have the preceding

00:00:36,410 --> 00:00:43,280
stuff so we needed something

00:00:38,329 --> 00:00:47,350
automatically and yeah I've installed

00:00:43,280 --> 00:00:51,170
the first cluster with the Phi and I

00:00:47,350 --> 00:00:52,579
always do talks on Phi or like today in

00:00:51,170 --> 00:00:55,750
the lightning talks I talked a little

00:00:52,579 --> 00:00:59,600
bit about Draycott which is used in fine

00:00:55,750 --> 00:01:03,440
so what was the motivation a neighbor of

00:00:59,600 --> 00:01:06,140
mine she came to me with oh my Windows

00:01:03,440 --> 00:01:08,420
laptop is my Windows desktop is broken

00:01:06,140 --> 00:01:11,810
can you instantly install it and in the

00:01:08,420 --> 00:01:14,689
end I installed her Linux and I was

00:01:11,810 --> 00:01:18,079
shortly thinking about should I use five

00:01:14,689 --> 00:01:21,619
for installing her desktop with Linux

00:01:18,079 --> 00:01:24,649
and in the end I did not choose it

00:01:21,619 --> 00:01:28,249
because I sort of tries to complicate it

00:01:24,649 --> 00:01:30,619
like the Debian installer I guess it's

00:01:28,249 --> 00:01:32,630
not really that easy for beginners

00:01:30,619 --> 00:01:35,599
because there are a lot of questions but

00:01:32,630 --> 00:01:37,939
also fires not really for beginners so

00:01:35,599 --> 00:01:41,799
this was the motivation about thinking

00:01:37,939 --> 00:01:44,990
about fine the target group was always

00:01:41,799 --> 00:01:48,229
advanced sis admins but I thought maybe

00:01:44,990 --> 00:01:51,079
it's possible to make Phi usable also

00:01:48,229 --> 00:01:56,959
for people that are not that advanced

00:01:51,079 --> 00:01:59,240
segments the ideas and installer should

00:01:56,959 --> 00:02:01,069
cover most installations the Debian

00:01:59,240 --> 00:02:04,729
installer is really perfect because I

00:02:01,069 --> 00:02:07,999
think it covers like all different kinds

00:02:04,729 --> 00:02:11,840
and strange environments you can do a

00:02:07,999 --> 00:02:14,450
lot of things you can configure very

00:02:11,840 --> 00:02:17,340
strange combination of language keyboard

00:02:14,450 --> 00:02:19,379
layouts and so on but

00:02:17,340 --> 00:02:22,260
I was thinking about an installer that

00:02:19,379 --> 00:02:26,459
covers like 90 or 95 percent of the

00:02:22,260 --> 00:02:30,360
installations so a lot of special cases

00:02:26,459 --> 00:02:33,690
can be ignored and since the Debian

00:02:30,360 --> 00:02:36,599
installer s like I think more than 20

00:02:33,690 --> 00:02:39,150
questions I thought oh it would be much

00:02:36,599 --> 00:02:41,730
nicer if there were only like three to

00:02:39,150 --> 00:02:43,530
five questions and I looked at Linux

00:02:41,730 --> 00:02:46,260
Mint and my gear

00:02:43,530 --> 00:02:51,630
install our centrist installer and they

00:02:46,260 --> 00:02:53,700
all asked mass much less question and in

00:02:51,630 --> 00:02:57,900
the Debian installer we sometimes have

00:02:53,700 --> 00:03:00,360
also things that are asked during the

00:02:57,900 --> 00:03:02,730
installation so not everything is asked

00:03:00,360 --> 00:03:04,709
at the very beginning for example the

00:03:02,730 --> 00:03:07,140
task selection where you select your

00:03:04,709 --> 00:03:09,959
desktop is done after the base

00:03:07,140 --> 00:03:12,450
installation so this was also very

00:03:09,959 --> 00:03:14,879
important I would like to have something

00:03:12,450 --> 00:03:19,590
that s everything at the very beginning

00:03:14,879 --> 00:03:22,680
and then maybe some tool could create a

00:03:19,590 --> 00:03:24,900
customized installation image and this

00:03:22,680 --> 00:03:27,750
installation image should run then

00:03:24,900 --> 00:03:29,609
completely unattended so we can get

00:03:27,750 --> 00:03:32,849
yourself a coffee and when you come back

00:03:29,609 --> 00:03:36,389
your machine is ready so and there are

00:03:32,849 --> 00:03:40,139
three things the customized installation

00:03:36,389 --> 00:03:42,780
image you just boot this image you do

00:03:40,139 --> 00:03:44,700
not have to touch anything and then it's

00:03:42,780 --> 00:03:48,769
ready where I thought oh yes this is

00:03:44,700 --> 00:03:53,700
fine or fine may may be if I can do this

00:03:48,769 --> 00:03:56,400
so as I said files only or was until now

00:03:53,700 --> 00:04:00,060
only a tool for experienced sis admins

00:03:56,400 --> 00:04:02,790
and you have to adjust several config

00:04:00,060 --> 00:04:05,940
files these are s key files but still

00:04:02,790 --> 00:04:10,590
you have to touch five to ten config

00:04:05,940 --> 00:04:12,599
files to make customization so how can I

00:04:10,590 --> 00:04:16,669
make file usable for beginners and

00:04:12,599 --> 00:04:19,769
that's the beginning of fie me and

00:04:16,669 --> 00:04:22,770
there's web page I will show it in more

00:04:19,769 --> 00:04:25,320
detail later where you can just click

00:04:22,770 --> 00:04:29,000
some things and then you can you get

00:04:25,320 --> 00:04:32,720
your customized image this

00:04:29,000 --> 00:04:37,820
image can be put onto a CD DVD or USB

00:04:32,720 --> 00:04:40,700
stick just with DD and the customization

00:04:37,820 --> 00:04:44,090
is just by using the web interface so

00:04:40,700 --> 00:04:48,890
there's no need for you to edit a text

00:04:44,090 --> 00:04:51,890
file a config file inside file I hope I

00:04:48,890 --> 00:04:54,350
covered most important things that you

00:04:51,890 --> 00:04:56,630
want to adjust are a little bit

00:04:54,350 --> 00:04:58,700
customize you can add additional

00:04:56,630 --> 00:05:01,040
packages I think that's the most

00:04:58,700 --> 00:05:03,140
important thing that people say I want

00:05:01,040 --> 00:05:07,090
to have the normal Debian installation

00:05:03,140 --> 00:05:10,220
but with some additional packages and

00:05:07,090 --> 00:05:12,770
you can select different distributions

00:05:10,220 --> 00:05:16,280
so it's not only the installation image

00:05:12,770 --> 00:05:20,590
for the stable release you can create

00:05:16,280 --> 00:05:25,310
three variants of the installation so

00:05:20,590 --> 00:05:27,980
this is the webpage and thanks to you

00:05:25,310 --> 00:05:31,940
Lee he did a great job

00:05:27,980 --> 00:05:34,430
during the first and second day he added

00:05:31,940 --> 00:05:38,060
a new feature that we now have a toggle

00:05:34,430 --> 00:05:43,280
button so here is it big enough or

00:05:38,060 --> 00:05:46,910
should i zoom in okay so we have a

00:05:43,280 --> 00:05:49,640
toggle button so what you see now is

00:05:46,910 --> 00:05:53,120
just the bare minimum of questions and

00:05:49,640 --> 00:05:56,750
we can toggle it to more advanced

00:05:53,120 --> 00:06:00,919
settings so you have to select or just

00:05:56,750 --> 00:06:04,100
leave this as it is user name if you do

00:06:00,919 --> 00:06:06,680
not enter a password the password will

00:06:04,100 --> 00:06:10,340
be generated and shown to you and sent

00:06:06,680 --> 00:06:13,130
by email I will now just type in the

00:06:10,340 --> 00:06:17,000
password it's Jung clear text for me

00:06:13,130 --> 00:06:18,890
that's fine because yeah there there's

00:06:17,000 --> 00:06:20,990
also a command that you should change

00:06:18,890 --> 00:06:25,070
the password after the installation and

00:06:20,990 --> 00:06:27,260
I do not like to enter password twice so

00:06:25,070 --> 00:06:32,690
you can see what you typed in and

00:06:27,260 --> 00:06:35,450
hopefully do not make any wrong mistakes

00:06:32,690 --> 00:06:38,360
so for example we could select the

00:06:35,450 --> 00:06:42,070
stretch distribution with backports so

00:06:38,360 --> 00:06:45,050
we will get 4.15 kernel with

00:06:42,070 --> 00:06:47,230
there are some buttons we can say we

00:06:45,050 --> 00:06:51,440
want to have some Debian developer tools

00:06:47,230 --> 00:06:53,750
this is does what I defined in the file

00:06:51,440 --> 00:06:58,790
configuration so just a list of packages

00:06:53,750 --> 00:07:04,580
and here you can enter your own packages

00:06:58,790 --> 00:07:06,770
you I will select the desktop so you can

00:07:04,580 --> 00:07:11,000
have an installation without any desktop

00:07:06,770 --> 00:07:13,940
so a very small installation I will

00:07:11,000 --> 00:07:16,340
select the accept ze desktop but all the

00:07:13,940 --> 00:07:19,340
other desktops are here with the

00:07:16,340 --> 00:07:23,000
language these are just the task

00:07:19,340 --> 00:07:25,730
packages that are I think Debian has

00:07:23,000 --> 00:07:29,450
much more task packages I just search

00:07:25,730 --> 00:07:34,460
which are the most common languages and

00:07:29,450 --> 00:07:36,980
what I do if I say I want the Spanish

00:07:34,460 --> 00:07:39,710
language also the keyboard layout is

00:07:36,980 --> 00:07:43,570
Spanish so I know there are different

00:07:39,710 --> 00:07:47,930
combinations and with the local time

00:07:43,570 --> 00:07:50,570
it's getting much more difficult this

00:07:47,930 --> 00:07:53,780
installation will install the clock with

00:07:50,570 --> 00:07:56,150
UTC so if you want to set your time you

00:07:53,780 --> 00:07:58,360
have to do this manually so this is this

00:07:56,150 --> 00:08:03,860
I want to cover the most common

00:07:58,360 --> 00:08:09,260
installations so we select English us

00:08:03,860 --> 00:08:11,660
the desktop and as an example for

00:08:09,260 --> 00:08:19,130
example the midnight commander and

00:08:11,660 --> 00:08:22,310
I can add an email address so if it

00:08:19,130 --> 00:08:24,770
would take longer for example if this

00:08:22,310 --> 00:08:27,320
service will have success and a lot of

00:08:24,770 --> 00:08:30,200
people are using it you may wait for

00:08:27,320 --> 00:08:33,770
some minutes so your job will be

00:08:30,200 --> 00:08:36,890
finished so here are the commands how to

00:08:33,770 --> 00:08:39,740
reconfigure the keyboard or the timezone

00:08:36,890 --> 00:08:42,440
and then you just click create

00:08:39,740 --> 00:08:46,570
installation image and now in the

00:08:42,440 --> 00:08:50,060
background there's some job script

00:08:46,570 --> 00:08:52,670
looking oh there's a new job and there's

00:08:50,060 --> 00:08:54,500
a summary of the configuration of the

00:08:52,670 --> 00:08:57,990
web configuration

00:08:54,500 --> 00:09:00,450
down here you see these are the five

00:08:57,990 --> 00:09:03,500
classes I will explain a little bit more

00:09:00,450 --> 00:09:06,390
about this but with this information

00:09:03,500 --> 00:09:08,430
five configuration is generated

00:09:06,390 --> 00:09:11,310
that's what normally is the experienced

00:09:08,430 --> 00:09:15,630
sis admins have to create but here you

00:09:11,310 --> 00:09:23,850
just click on some buttons and it will

00:09:15,630 --> 00:09:26,459
be done for you so in the meantime we

00:09:23,850 --> 00:09:28,230
have some more advanced features which I

00:09:26,459 --> 00:09:31,860
will also show you later

00:09:28,230 --> 00:09:33,959
for example this this very simple

00:09:31,860 --> 00:09:37,709
installation just creates one partition

00:09:33,959 --> 00:09:40,529
but you can also select that you want to

00:09:37,709 --> 00:09:44,790
have a separate home partition are using

00:09:40,529 --> 00:09:50,550
LVM just by selecting this on the web

00:09:44,790 --> 00:09:53,730
interface and you can also add your ssh

00:09:50,550 --> 00:09:56,760
public key for logging as root without a

00:09:53,730 --> 00:10:00,060
password or what's very nice I saw this

00:09:56,760 --> 00:10:01,620
there's a new bunch o installer does

00:10:00,060 --> 00:10:04,800
this you can give your github account

00:10:01,620 --> 00:10:07,380
and then there's a command which

00:10:04,800 --> 00:10:10,200
receives the public key from your github

00:10:07,380 --> 00:10:12,240
account and put it into the root account

00:10:10,200 --> 00:10:16,339
so call you can log in without password

00:10:12,240 --> 00:10:20,010
I think that's very neat and if you have

00:10:16,339 --> 00:10:22,260
a repository with your own packages you

00:10:20,010 --> 00:10:25,020
could also add this and say please

00:10:22,260 --> 00:10:30,089
install those packages from my public

00:10:25,020 --> 00:10:34,700
available repository so let's see ah as

00:10:30,089 --> 00:10:38,070
we see this job finished in 74 seconds

00:10:34,700 --> 00:10:40,649
so now this customized installation

00:10:38,070 --> 00:10:44,190
image is available for download you can

00:10:40,649 --> 00:10:46,529
also download the log file since this is

00:10:44,190 --> 00:10:50,930
an installation image I first have to

00:10:46,529 --> 00:10:54,260
create a petition package mirror and

00:10:50,930 --> 00:10:58,620
this is done by the command 5 mirror and

00:10:54,260 --> 00:11:01,800
you can also read the lock of this call

00:10:58,620 --> 00:11:04,140
of the 5 mirror so where a list of all

00:11:01,800 --> 00:11:07,370
your packages with all the dependencies

00:11:04,140 --> 00:11:10,880
are available so you see these are

00:11:07,370 --> 00:11:16,100
the list of packages and later they are

00:11:10,880 --> 00:11:20,360
downloaded and in the end it says it

00:11:16,100 --> 00:11:23,300
created mirror of one geek of packages

00:11:20,360 --> 00:11:26,690
and since I have a local mirror it's

00:11:23,300 --> 00:11:28,550
very fast so this is the one part on the

00:11:26,690 --> 00:11:32,150
installation image a partition mirror

00:11:28,550 --> 00:11:35,360
with all the packages and the other is

00:11:32,150 --> 00:11:38,750
that the config space which you can also

00:11:35,360 --> 00:11:41,029
download so this is the config space

00:11:38,750 --> 00:11:44,089
that was really created for you by

00:11:41,029 --> 00:11:45,920
clicking the web interface so if you

00:11:44,089 --> 00:11:48,350
want to do more things with fine you can

00:11:45,920 --> 00:11:51,950
set up your own fine server and use this

00:11:48,350 --> 00:11:55,100
configuration space and that's also very

00:11:51,950 --> 00:11:57,730
new the two commands that are used for

00:11:55,100 --> 00:12:00,680
creating this ISO image are now also

00:11:57,730 --> 00:12:03,410
listed there so first create the

00:12:00,680 --> 00:12:09,470
partition mirror and then create the

00:12:03,410 --> 00:12:13,220
installation image okay copy link

00:12:09,470 --> 00:12:15,580
location let's see how good the network

00:12:13,220 --> 00:12:15,580
is here

00:12:21,120 --> 00:12:27,850
yeah baby because in it includes all the

00:12:24,280 --> 00:12:30,280
packages and with xfce libre office and

00:12:27,850 --> 00:12:32,500
so on and and the installation

00:12:30,280 --> 00:12:35,770
environment is maybe about 200 max

00:12:32,500 --> 00:12:39,780
that's not much bigger than the Debian

00:12:35,770 --> 00:12:49,860
installer what you need to download so

00:12:39,780 --> 00:12:56,290
two one done I have a little wrapper

00:12:49,860 --> 00:12:59,490
which which calls fresh KVM machine with

00:12:56,290 --> 00:13:02,500
an empty disk and boots this ISO image

00:12:59,490 --> 00:13:08,590
and then we will see how this

00:13:02,500 --> 00:13:12,600
installation runs so this is Draycott

00:13:08,590 --> 00:13:16,090
booting the image and now you see the

00:13:12,600 --> 00:13:18,940
there are already some parted commands

00:13:16,090 --> 00:13:22,060
executed and now the packages are

00:13:18,940 --> 00:13:24,610
installed and everything runs on and in

00:13:22,060 --> 00:13:27,850
the end some customization scripts we we

00:13:24,610 --> 00:13:30,730
use only shell scripts for doing some

00:13:27,850 --> 00:13:33,520
customizations and you see the files are

00:13:30,730 --> 00:13:36,760
downloaded from /media mirror so this is

00:13:33,520 --> 00:13:39,130
local on the ISO image it would also be

00:13:36,760 --> 00:13:41,860
possible to create an image without the

00:13:39,130 --> 00:13:44,650
packages and then give another sources

00:13:41,860 --> 00:13:49,450
dot list file so the packages would be

00:13:44,650 --> 00:13:51,850
downloaded from the internet but this

00:13:49,450 --> 00:13:58,300
default in the fire service we put

00:13:51,850 --> 00:14:02,280
everything onto the ISO image I guess it

00:13:58,300 --> 00:14:02,280
will run for like four minutes

00:14:07,160 --> 00:14:19,260
yeah okay what I will show you now is so

00:14:16,950 --> 00:14:22,170
this was the simple one now I toggle

00:14:19,260 --> 00:14:25,290
this webpage and you will see that there

00:14:22,170 --> 00:14:28,500
are some more questions you may answer

00:14:25,290 --> 00:14:30,870
for example you can give the root

00:14:28,500 --> 00:14:33,960
password if you leave this empty zoo--

00:14:30,870 --> 00:14:37,830
row will be configured here you can

00:14:33,960 --> 00:14:41,540
upload the SSH key or give your github

00:14:37,830 --> 00:14:44,970
account that would be mr. five for me

00:14:41,540 --> 00:14:47,820
with the partitioning schemes we have

00:14:44,970 --> 00:14:50,640
one partition or one partition and slash

00:14:47,820 --> 00:14:54,090
home in a separate or this version this

00:14:50,640 --> 00:14:56,930
two versions with LVM Phi itself can do

00:14:54,090 --> 00:15:00,030
much more we could do software rate

00:14:56,930 --> 00:15:02,520
setups group setups but here I want to

00:15:00,030 --> 00:15:05,250
cover the most common installation so

00:15:02,520 --> 00:15:09,420
very simple we have only four things

00:15:05,250 --> 00:15:17,670
that you can choose fall to two

00:15:09,420 --> 00:15:20,100
encryption yes so this was the

00:15:17,670 --> 00:15:22,410
petitioning things this is the new

00:15:20,100 --> 00:15:25,470
feature where you can add an well for

00:15:22,410 --> 00:15:28,800
your local package repository and the

00:15:25,470 --> 00:15:31,230
rest is the same you can add packages

00:15:28,800 --> 00:15:37,400
you like your email address and then

00:15:31,230 --> 00:15:42,420
also create an installation image so I

00:15:37,400 --> 00:15:47,040
normally said by default I include the

00:15:42,420 --> 00:15:50,550
non free Linux filmer this is because my

00:15:47,040 --> 00:15:52,860
target audience is an end user and I

00:15:50,550 --> 00:15:55,680
want to make it very comfortable for

00:15:52,860 --> 00:15:58,920
them so yeah they can just install it

00:15:55,680 --> 00:16:01,320
and do not have this problems and since

00:15:58,920 --> 00:16:06,570
this is not on an official Debian org

00:16:01,320 --> 00:16:11,700
website that's yeah I can do this with

00:16:06,570 --> 00:16:14,810
this default let's see if the

00:16:11,700 --> 00:16:14,810
installation is still running

00:16:16,279 --> 00:16:24,269
so advanced features the next thing

00:16:21,779 --> 00:16:27,350
after this installation I will show you

00:16:24,269 --> 00:16:30,060
how to create cloud images so this is

00:16:27,350 --> 00:16:32,970
currently we creating an installation

00:16:30,060 --> 00:16:35,180
image when you boot it the installation

00:16:32,970 --> 00:16:39,510
is run fully automatically the other

00:16:35,180 --> 00:16:43,350
type of service fie me gives to you is

00:16:39,510 --> 00:16:46,800
that it creates a raw image or some

00:16:43,350 --> 00:16:49,500
other formats as you see here Cuoco and

00:16:46,800 --> 00:16:55,160
whatever which you can just put and the

00:16:49,500 --> 00:17:01,320
installation is already done but first

00:16:55,160 --> 00:17:04,679
see if the installation finish ok ok

00:17:01,320 --> 00:17:08,280
these are now the shell scripts that are

00:17:04,679 --> 00:17:11,579
executed for the customization of like

00:17:08,280 --> 00:17:15,600
etc' message of today et Cie network

00:17:11,579 --> 00:17:19,709
interfaces is written and so on you see

00:17:15,600 --> 00:17:22,860
the installation took 236 seconds

00:17:19,709 --> 00:17:26,309
it says there are some errors but that's

00:17:22,860 --> 00:17:28,559
not really true and it stops here but we

00:17:26,309 --> 00:17:31,470
can also disable this this is only for

00:17:28,559 --> 00:17:37,530
showing AHA everything went well and now

00:17:31,470 --> 00:17:40,160
we just reboot the machine and you see

00:17:37,530 --> 00:17:40,160
the grub

00:17:45,820 --> 00:18:00,710
okay likes FC desktop and Debian was a

00:17:53,179 --> 00:18:04,789
user with password FAI and we have you

00:18:00,710 --> 00:18:08,720
name eNOS a this is 4.16 the backports

00:18:04,789 --> 00:18:16,690
kernel was one was installed there

00:18:08,720 --> 00:18:19,609
we have only one partition Noel VM and I

00:18:16,690 --> 00:18:21,859
told it to install which is not

00:18:19,609 --> 00:18:25,039
installed by default is layer

00:18:21,859 --> 00:18:30,590
sure so this is nice and the midnight

00:18:25,039 --> 00:18:35,720
command is also there so yeah and now we

00:18:30,590 --> 00:18:42,139
just throw this machine gun and what's

00:18:35,720 --> 00:18:44,090
very nice with this rapid the that the

00:18:42,139 --> 00:18:47,090
local disk of the virtual machine and

00:18:44,090 --> 00:18:51,590
/tmp which is a ram disk and I love Ram

00:18:47,090 --> 00:18:54,230
it's so nice and fast so this was the

00:18:51,590 --> 00:18:58,489
installation image and now we look at

00:18:54,230 --> 00:19:04,429
the cloud image first you can say how

00:18:58,489 --> 00:19:08,509
big should your disk image be so here I

00:19:04,429 --> 00:19:10,850
say 8 gigabytes its you will see it's

00:19:08,509 --> 00:19:15,259
not an 8 gigabyte image that you have to

00:19:10,850 --> 00:19:19,369
download later by default is that

00:19:15,259 --> 00:19:23,029
standard compression anyone who does not

00:19:19,369 --> 00:19:26,600
know this compression this is very fast

00:19:23,029 --> 00:19:30,049
very new created by Facebook if I'm

00:19:26,600 --> 00:19:33,200
correct and so yeah it's for very big

00:19:30,049 --> 00:19:38,450
files and what what you should never use

00:19:33,200 --> 00:19:40,850
is gzip with sparse images the disk

00:19:38,450 --> 00:19:42,950
image is sparse and gzip cannot handle

00:19:40,850 --> 00:19:45,320
this so if you compress it and

00:19:42,950 --> 00:19:49,820
uncompress it it will be very large and

00:19:45,320 --> 00:19:53,990
all the other except that standard can

00:19:49,820 --> 00:19:56,120
handle sparse files very nicely so the

00:19:53,990 --> 00:20:00,710
hostname is set

00:19:56,120 --> 00:20:05,860
the root password username with the

00:20:00,710 --> 00:20:05,860
password now we want to install buster

00:20:06,130 --> 00:20:17,299
maybe with no with no no we also do the

00:20:13,400 --> 00:20:21,260
xfce desktop any packages you like to

00:20:17,299 --> 00:20:23,330
have in this cloud image desktop and

00:20:21,260 --> 00:20:31,059
cloud image does not make that much

00:20:23,330 --> 00:20:37,940
sense maybe Emacs Emacs 25 okay

00:20:31,059 --> 00:20:40,909
and now create disk image this will take

00:20:37,940 --> 00:20:46,100
a little bit longer because we are doing

00:20:40,909 --> 00:20:50,419
the installation inside file image but

00:20:46,100 --> 00:20:53,809
no problem I can tell you what other IDs

00:20:50,419 --> 00:20:58,100
I have so currently we have the

00:20:53,809 --> 00:21:02,570
installation and the cloud our virtual

00:20:58,100 --> 00:21:06,710
machine images for amd64 Phi itself can

00:21:02,570 --> 00:21:10,520
also do cross architecture images so it

00:21:06,710 --> 00:21:14,260
would be some work to extend the webpage

00:21:10,520 --> 00:21:18,010
to say please create an arm 64 image and

00:21:14,260 --> 00:21:20,570
we it would be very nice then to have

00:21:18,010 --> 00:21:24,529
predefined conflicts for a Raspberry Pi

00:21:20,570 --> 00:21:29,179
or all the very different boards but

00:21:24,529 --> 00:21:31,789
that would also be possible I guess the

00:21:29,179 --> 00:21:34,429
next thing I will implement is other

00:21:31,789 --> 00:21:37,549
distributions because I know people are

00:21:34,429 --> 00:21:41,299
always asking it not you but the Ubuntu

00:21:37,549 --> 00:21:44,450
guys I yesterday I did the first test

00:21:41,299 --> 00:21:46,970
with Ubuntu bionics the LTS release and

00:21:44,450 --> 00:21:49,850
fight just works out of the box with it

00:21:46,970 --> 00:21:55,399
so what I have to do is to integrate it

00:21:49,850 --> 00:21:58,940
in these Phi me processing scripts ready

00:21:55,399 --> 00:22:04,070
to go cloud images for the big cloud

00:21:58,940 --> 00:22:06,110
providers and that's only as a different

00:22:04,070 --> 00:22:09,260
file config space that I have to use

00:22:06,110 --> 00:22:11,030
currently for example in what I

00:22:09,260 --> 00:22:14,450
cloud images I do not install the

00:22:11,030 --> 00:22:18,620
package cloud image and that's needed

00:22:14,450 --> 00:22:23,020
for all the ones I'm also working in the

00:22:18,620 --> 00:22:27,110
Debian cloud team and this team decided

00:22:23,020 --> 00:22:29,060
two years ago that the tool chain in the

00:22:27,110 --> 00:22:30,650
future for the official Debian package

00:22:29,060 --> 00:22:33,250
will be fine

00:22:30,650 --> 00:22:36,590
Amazon is already using it so if you

00:22:33,250 --> 00:22:39,170
boot or if you use a Debian cloud image

00:22:36,590 --> 00:22:41,300
in Emerson no Amaya hunts did this and

00:22:39,170 --> 00:22:46,190
he's using the file to chain for it

00:22:41,300 --> 00:22:48,650
Google is is not yet using it because

00:22:46,190 --> 00:22:50,930
there was a very small problem in a

00:22:48,650 --> 00:22:54,490
config file we had one space too much

00:22:50,930 --> 00:22:57,980
which causes grub to hang forever and

00:22:54,490 --> 00:23:00,890
that was the reason why they decided for

00:22:57,980 --> 00:23:03,500
stretch to use their auto tool chain but

00:23:00,890 --> 00:23:07,310
the things are working so we have the

00:23:03,500 --> 00:23:11,030
config space also for Google and also

00:23:07,310 --> 00:23:15,860
for edger some people from credit eve

00:23:11,030 --> 00:23:18,140
did this and so then the Debian cloud

00:23:15,860 --> 00:23:22,790
team already has the file configuration

00:23:18,140 --> 00:23:26,540
for all the big tool providers cloud

00:23:22,790 --> 00:23:31,820
providers we could also think on a more

00:23:26,540 --> 00:23:34,070
generic fie installation image so it's

00:23:31,820 --> 00:23:37,190
an image that you would put up and then

00:23:34,070 --> 00:23:38,780
enter your job ID of the webpage and

00:23:37,190 --> 00:23:41,330
then the configuration would be

00:23:38,780 --> 00:23:44,090
downloaded and the package would be just

00:23:41,330 --> 00:23:46,310
received from the internet that was one

00:23:44,090 --> 00:23:49,670
so the image would be much smaller

00:23:46,310 --> 00:23:54,830
because the package do not need to be on

00:23:49,670 --> 00:23:57,680
the on the installation image it's also

00:23:54,830 --> 00:24:01,160
possible to create life images with Phi

00:23:57,680 --> 00:24:03,110
this is a little bit more or yeah

00:24:01,160 --> 00:24:06,650
currently there you need some manual

00:24:03,110 --> 00:24:09,560
work but that should be also possible to

00:24:06,650 --> 00:24:11,930
use Phi for creating life image and then

00:24:09,560 --> 00:24:15,650
also to provide this on the final BAP

00:24:11,930 --> 00:24:18,440
service if you want to customize much

00:24:15,650 --> 00:24:20,240
more inside the image you say oh I have

00:24:18,440 --> 00:24:22,700
some ends bolt script that I want to

00:24:20,240 --> 00:24:24,860
execute at the very end then

00:24:22,700 --> 00:24:27,560
say okay this is just a starting point

00:24:24,860 --> 00:24:30,260
use the find me service and if you're

00:24:27,560 --> 00:24:33,220
happy with the fight tools then set up

00:24:30,260 --> 00:24:36,680
your own fight server create your own

00:24:33,220 --> 00:24:40,700
configuration space and then you can do

00:24:36,680 --> 00:24:43,790
all the crazy things so how does finally

00:24:40,700 --> 00:24:47,590
work internally we have a web server

00:24:43,790 --> 00:24:50,870
where there are some CGI scripts and

00:24:47,590 --> 00:24:53,900
this is not the build server so on the

00:24:50,870 --> 00:24:58,310
web server you click Submit create my

00:24:53,900 --> 00:25:03,050
image all the inputs is validated so you

00:24:58,310 --> 00:25:06,230
cannot make nasty things and then the

00:25:03,050 --> 00:25:09,590
CGI writes or creates a subdirectory and

00:25:06,230 --> 00:25:13,940
puts two files in it's a config animator

00:25:09,590 --> 00:25:16,730
fire and writes status waiting for

00:25:13,940 --> 00:25:21,350
processing and then the other server the

00:25:16,730 --> 00:25:24,140
build server reads this config and this

00:25:21,350 --> 00:25:26,420
is just an NFS mounted directory and

00:25:24,140 --> 00:25:32,180
sees all this new job I have two

00:25:26,420 --> 00:25:35,120
processes it I in this processing script

00:25:32,180 --> 00:25:38,180
we pass for some errors what's happening

00:25:35,120 --> 00:25:41,060
very often that people type in a package

00:25:38,180 --> 00:25:43,520
that's not available and this will be

00:25:41,060 --> 00:25:46,400
detected and then a new version of the

00:25:43,520 --> 00:25:48,320
web page will pop up and say oh when

00:25:46,400 --> 00:25:51,910
creating the package mirror there was an

00:25:48,320 --> 00:25:55,100
error because this package was not known

00:25:51,910 --> 00:25:58,460
sometimes I have to or every night I

00:25:55,100 --> 00:26:00,800
create new NFS routes for buster if

00:25:58,460 --> 00:26:03,500
there are security updates I have to

00:26:00,800 --> 00:26:07,850
create new NFS routes for stretch and

00:26:03,500 --> 00:26:10,970
backports I have some cleanup so if a

00:26:07,850 --> 00:26:13,640
lot of jobs are created the images are

00:26:10,970 --> 00:26:17,420
on the disk after normally I say after

00:26:13,640 --> 00:26:21,730
one day I just remove the images so you

00:26:17,420 --> 00:26:24,790
have one day to download the images

00:26:21,730 --> 00:26:27,650
there are three different configurations

00:26:24,790 --> 00:26:30,500
ET c phi stretch buster stretch back

00:26:27,650 --> 00:26:33,830
parts we need for the installation image

00:26:30,500 --> 00:26:35,420
we need a different NFS route but the

00:26:33,830 --> 00:26:37,670
config space

00:26:35,420 --> 00:26:42,160
that is shared about all configurations

00:26:37,670 --> 00:26:45,980
so it doesn't matter if I install a

00:26:42,160 --> 00:26:48,320
stretch or stretch back ports or buster

00:26:45,980 --> 00:26:50,720
a kind can use the same file

00:26:48,320 --> 00:26:52,550
configuration also for building the

00:26:50,720 --> 00:26:59,810
cloud images I use the same file

00:26:52,550 --> 00:27:02,600
configuration the new job is is detected

00:26:59,810 --> 00:27:06,620
then a copy of the configuration fake

00:27:02,600 --> 00:27:08,690
space will be made and it will be

00:27:06,620 --> 00:27:11,030
customized a little bit so there are

00:27:08,690 --> 00:27:14,830
very very few changes for example I have

00:27:11,030 --> 00:27:17,450
to put the SSH key in to your customized

00:27:14,830 --> 00:27:20,480
configuration space or the list of

00:27:17,450 --> 00:27:23,330
packages or the use I'm the password

00:27:20,480 --> 00:27:25,730
then we have two things if we want to

00:27:23,330 --> 00:27:27,830
create the installation image I first

00:27:25,730 --> 00:27:30,050
have to create the partition package

00:27:27,830 --> 00:27:33,260
mirror and then create the installation

00:27:30,050 --> 00:27:35,840
image for the cloud images we do not

00:27:33,260 --> 00:27:38,000
need the NFS root we just need the

00:27:35,840 --> 00:27:40,160
configuration space which is customized

00:27:38,000 --> 00:27:42,640
a little bit and then we can just create

00:27:40,160 --> 00:27:45,920
the disk image so there's one step less

00:27:42,640 --> 00:27:49,130
compared to creating the installation

00:27:45,920 --> 00:27:52,250
either the status on the web page will

00:27:49,130 --> 00:27:54,110
be updated log files written and if the

00:27:52,250 --> 00:27:56,570
user said oh please sent me an email if

00:27:54,110 --> 00:27:57,680
my job is ready this will also be sent

00:27:56,570 --> 00:28:00,950
to the user

00:27:57,680 --> 00:28:03,860
then we have the eyes or the disk image

00:28:00,950 --> 00:28:07,070
and this will be copied back to the web

00:28:03,860 --> 00:28:11,240
server where the user can then download

00:28:07,070 --> 00:28:13,700
it and since I have a lot of RAM in this

00:28:11,240 --> 00:28:18,980
machine everything is run in RAM and

00:28:13,700 --> 00:28:21,770
yeah very very nice so as I said we need

00:28:18,980 --> 00:28:24,190
an NFS wrote a configuration space and

00:28:21,770 --> 00:28:27,980
five classes this is very central

00:28:24,190 --> 00:28:28,790
component in Phi and this is just a list

00:28:27,980 --> 00:28:32,840
of names

00:28:28,790 --> 00:28:36,260
so in home LVM this is the class name

00:28:32,840 --> 00:28:40,130
the five class we describe and I think

00:28:36,260 --> 00:28:43,750
this is that example home LVM describes

00:28:40,130 --> 00:28:46,610
how to partition the local hard disk

00:28:43,750 --> 00:28:48,239
this is our very flexible tool where we

00:28:46,610 --> 00:28:52,419
can do

00:28:48,239 --> 00:28:55,029
LVM crypt setups software rates and so

00:28:52,419 --> 00:28:57,009
on but for the finest service I just

00:28:55,029 --> 00:28:59,309
created for different types of

00:28:57,009 --> 00:29:05,580
partitioning and this is the home LVM

00:28:59,309 --> 00:29:09,070
example so we have a list of classes and

00:29:05,580 --> 00:29:11,139
as I said just two commands for the

00:29:09,070 --> 00:29:14,739
installation image with the list of

00:29:11,139 --> 00:29:17,320
classes and for the cloud image I have

00:29:14,739 --> 00:29:19,539
to say how big should the disk image be

00:29:17,320 --> 00:29:22,950
is the list of classes and what's the

00:29:19,539 --> 00:29:28,389
target file that should be created so

00:29:22,950 --> 00:29:34,570
let's see if this is ready yeah it's

00:29:28,389 --> 00:29:39,869
ready so it's one point one gig this is

00:29:34,570 --> 00:29:39,869
really the wrong yeah wrong I wonder

00:29:40,739 --> 00:29:51,519
let's download it should be fast so this

00:29:48,970 --> 00:29:53,979
is the normal architecture if you use

00:29:51,519 --> 00:29:56,619
Phi in a client-server setup so you

00:29:53,979 --> 00:29:59,139
should just look on the left side where

00:29:56,619 --> 00:30:01,809
you see you need the config space and an

00:29:59,139 --> 00:30:05,470
F and F s root and then mirror and these

00:30:01,809 --> 00:30:09,279
parts will put onto the CD and if you

00:30:05,470 --> 00:30:12,070
set up a network installation thing this

00:30:09,279 --> 00:30:17,099
is how things gets from the server to

00:30:12,070 --> 00:30:19,899
the client for the software installation

00:30:17,099 --> 00:30:22,840
we have another subdirectory called

00:30:19,899 --> 00:30:25,989
package config and there you also see of

00:30:22,840 --> 00:30:29,590
several files where the file name is a

00:30:25,989 --> 00:30:32,679
Phi class so since in the finally

00:30:29,590 --> 00:30:34,929
service every client belongs to the

00:30:32,679 --> 00:30:38,080
class Debian it will install the

00:30:34,929 --> 00:30:41,979
packages that are listed on the upper

00:30:38,080 --> 00:30:44,109
top and here we have another class non

00:30:41,979 --> 00:30:46,869
free so these packages are only

00:30:44,109 --> 00:30:49,840
installed if you also said please

00:30:46,869 --> 00:30:52,869
install the non free packages and this

00:30:49,840 --> 00:30:55,989
is mapped to a phi class called non free

00:30:52,869 --> 00:30:58,259
and there's another class for amd64 and

00:30:55,989 --> 00:30:58,259
so on

00:30:58,290 --> 00:31:04,710
some references in the past it looks

00:31:02,910 --> 00:31:09,559
more like this when I said Oh who's

00:31:04,710 --> 00:31:13,740
using fire and during the last month's I

00:31:09,559 --> 00:31:19,860
collected some logos just because it's

00:31:13,740 --> 00:31:26,179
just much nicer and let's see the

00:31:19,860 --> 00:31:34,320
download was ready we on that defy me

00:31:26,179 --> 00:31:36,620
image by me 0 1 that sweet please that

00:31:34,320 --> 00:31:36,620
image

00:31:40,550 --> 00:31:48,860
I on the website I said I want to have a

00:31:43,670 --> 00:31:54,050
8 gigabyte partition so now let's see

00:31:48,860 --> 00:31:58,430
how big is it so the file is 8 but since

00:31:54,050 --> 00:32:03,160
it's a sparse file it's only 3.5 geeks

00:31:58,430 --> 00:32:12,500
and the compressed was 1.1 gig

00:32:03,160 --> 00:32:16,280
now I use my wrapper and I say boot from

00:32:12,500 --> 00:32:21,490
disk and this is the Phi me raw image

00:32:16,280 --> 00:32:21,490
disk image that should be booted up

00:32:32,880 --> 00:32:38,660
that's it Debian FAI

00:32:52,690 --> 00:33:02,710
let's see if Emacs is installed yes

00:32:58,869 --> 00:33:07,349
is already there hopefully and the blue

00:33:02,710 --> 00:33:07,349
midnight commander so

00:33:12,950 --> 00:33:36,270
let's see questions I'm using the one

00:33:33,270 --> 00:33:37,020
yes I'm using the precede phylum for the

00:33:36,270 --> 00:33:39,330
nominal etcetera

00:33:37,020 --> 00:33:40,890
do you ever convert between your syntax

00:33:39,330 --> 00:33:43,260
and your configuration files and the

00:33:40,890 --> 00:33:45,570
precede file or maybe can you add a

00:33:43,260 --> 00:33:47,130
download button for the preset file to a

00:33:45,570 --> 00:33:49,980
website because I think it's rather nice

00:33:47,130 --> 00:33:53,820
to have it displayed in website just so

00:33:49,980 --> 00:33:56,580
I'm not using the Debian installer and I

00:33:53,820 --> 00:33:59,430
use preceding yes the DEF CON proceeding

00:33:56,580 --> 00:34:03,300
for the normal packages you can do this

00:33:59,430 --> 00:34:06,950
also in Phi and it's the same format you

00:34:03,300 --> 00:34:09,990
get with depth conf get selections and

00:34:06,950 --> 00:34:12,270
what you get is you can download your

00:34:09,990 --> 00:34:15,750
own Phi config space and this includes

00:34:12,270 --> 00:34:19,530
all information you need to set up to do

00:34:15,750 --> 00:34:22,160
this Phi mirror Phi CD or the fight disk

00:34:19,530 --> 00:34:26,340
image command but you cannot convert

00:34:22,160 --> 00:34:27,540
this config into a DI proceeding or

00:34:26,340 --> 00:34:32,760
vice-versa

00:34:27,540 --> 00:34:35,160
that's not possible in order because for

00:34:32,760 --> 00:34:40,490
example for the partitioning part I do

00:34:35,160 --> 00:34:44,130
not like to create from my dis config

00:34:40,490 --> 00:34:46,170
apartment preceding file you can pay me

00:34:44,130 --> 00:34:49,290
a lot of money I will never do this you

00:34:46,170 --> 00:34:54,330
need you know the Department proceeding

00:34:49,290 --> 00:34:58,890
is very ugly and very heavy for other

00:34:54,330 --> 00:35:01,620
things yeah selection of the for example

00:34:58,890 --> 00:35:05,310
the selection of the language these are

00:35:01,620 --> 00:35:08,100
the normal proceeding we use so in the

00:35:05,310 --> 00:35:11,550
list of packages task select I think

00:35:08,100 --> 00:35:15,900
it's much easier if to do this in the

00:35:11,550 --> 00:35:20,190
file configuration then to create Debian

00:35:15,900 --> 00:35:23,250
installer proceeding and why use the I

00:35:20,190 --> 00:35:25,110
if this works for you yeah it works as

00:35:23,250 --> 00:35:31,110
well for me yeah yeah

00:35:25,110 --> 00:35:33,540
fine use it hi Thomas

00:35:31,110 --> 00:35:37,140
yeah thank you very much for this new

00:35:33,540 --> 00:35:40,890
feature in my project is very nice and I

00:35:37,140 --> 00:35:44,160
found very very great that you have the

00:35:40,890 --> 00:35:48,210
output of the object commands that you

00:35:44,160 --> 00:35:53,070
use to create the ISO image or the cloud

00:35:48,210 --> 00:35:58,470
file a question that I have is in in

00:35:53,070 --> 00:36:02,280
which servers are located the file that

00:35:58,470 --> 00:36:05,900
we create the ISO or the cloud is it's a

00:36:02,280 --> 00:36:13,500
server that you own host or trust me

00:36:05,900 --> 00:36:17,070
so yeah currently this also both the web

00:36:13,500 --> 00:36:20,730
server and the finally processing build

00:36:17,070 --> 00:36:23,160
server is run on two machines at the

00:36:20,730 --> 00:36:25,620
University where I work as assistant

00:36:23,160 --> 00:36:28,910
system administration so that's also

00:36:25,620 --> 00:36:33,180
where we have a very fast connection and

00:36:28,910 --> 00:36:35,700
the CGI script and the shell script that

00:36:33,180 --> 00:36:38,910
is processing these jobs it's currently

00:36:35,700 --> 00:36:44,040
not open source so they are plans to do

00:36:38,910 --> 00:36:46,500
this I'm not sure when if you want to

00:36:44,040 --> 00:36:48,270
reproduce the things you have the config

00:36:46,500 --> 00:36:50,400
file and you can download the file

00:36:48,270 --> 00:36:53,430
software and use this one or two

00:36:50,400 --> 00:36:55,500
commands to reproduce it some people

00:36:53,430 --> 00:36:58,200
said a very nice service I would like to

00:36:55,500 --> 00:37:01,980
set up in my company then please yeah

00:36:58,200 --> 00:37:04,640
contact me and currently there are no

00:37:01,980 --> 00:37:07,770
concrete plans to make this background

00:37:04,640 --> 00:37:12,030
scripts open-source but it will be in

00:37:07,770 --> 00:37:14,970
some future but currently you have to

00:37:12,030 --> 00:37:16,980
trust me and as you also have to trust

00:37:14,970 --> 00:37:19,980
all the package maintainer that will be

00:37:16,980 --> 00:37:22,380
installed there but you can verify it or

00:37:19,980 --> 00:37:24,720
say I do not trust Thomas but I will

00:37:22,380 --> 00:37:29,210
just grab the file config space and do

00:37:24,720 --> 00:37:29,210
this then on my own thank you

00:37:29,420 --> 00:37:35,510
there's a there's a question from the

00:37:32,300 --> 00:37:39,700
internet yeah why not use a proper job

00:37:35,510 --> 00:37:44,000
queuing system like grid engine scimitar

00:37:39,700 --> 00:37:47,780
I'm using a I'm using great engine at

00:37:44,000 --> 00:37:50,900
work for different things it's it

00:37:47,780 --> 00:37:54,770
started as a very simple project so in

00:37:50,900 --> 00:37:57,320
the end it it's just a loop which checks

00:37:54,770 --> 00:37:59,630
is there's a new job or not currently I

00:37:57,320 --> 00:38:03,050
do not process jobs in parallel

00:37:59,630 --> 00:38:05,330
currently there's no need for it if this

00:38:03,050 --> 00:38:08,480
project will be very successful yeah I

00:38:05,330 --> 00:38:11,060
have to use a queueing system it's yeah

00:38:08,480 --> 00:38:13,850
a very simple script but it would be

00:38:11,060 --> 00:38:19,070
also possible with a proper queueing

00:38:13,850 --> 00:38:23,630
system more questions I have a bunch of

00:38:19,070 --> 00:38:27,320
questions yeah so first what is it that

00:38:23,630 --> 00:38:29,390
you use for partitioning I'm using a

00:38:27,320 --> 00:38:34,310
Perl script that we wrote several years

00:38:29,390 --> 00:38:39,290
ago in Phi and we we defined this config

00:38:34,310 --> 00:38:41,480
file this package config and the Perl

00:38:39,290 --> 00:38:45,680
script passes the scripts and then

00:38:41,480 --> 00:38:49,220
executes the part at and mkfs commands

00:38:45,680 --> 00:38:51,140
which you can see in the log files so if

00:38:49,220 --> 00:38:53,720
you want to see what does Phi do

00:38:51,140 --> 00:38:55,820
after parting this which commands are

00:38:53,720 --> 00:39:01,400
executed you see everything in the log

00:38:55,820 --> 00:39:05,210
files right but so you turn this text

00:39:01,400 --> 00:39:07,610
into partitioning commands yeah commands

00:39:05,210 --> 00:39:10,280
but the text looks like this like with

00:39:07,610 --> 00:39:13,520
the spaces and everything yeah or you

00:39:10,280 --> 00:39:18,830
can use more or less spaces or do you

00:39:13,520 --> 00:39:21,260
like should I convert it to XML okay

00:39:18,830 --> 00:39:23,750
then my next question is what are you

00:39:21,260 --> 00:39:27,380
using the NFS route for when you're

00:39:23,750 --> 00:39:30,890
generating the images yeah the the NFS

00:39:27,380 --> 00:39:33,380
route is used only for the installation

00:39:30,890 --> 00:39:35,450
image that's when I do in the

00:39:33,380 --> 00:39:37,940
installation I need to boot the machine

00:39:35,450 --> 00:39:41,030
as a diskless client so it's it's just

00:39:37,940 --> 00:39:42,920
what the Debian installer loads into RAM

00:39:41,030 --> 00:39:45,740
you need to running Linux system

00:39:42,920 --> 00:39:48,500
this is our NFS root on the installation

00:39:45,740 --> 00:39:50,599
image so when you boot the installation

00:39:48,500 --> 00:39:53,420
image this NFS would with all the

00:39:50,599 --> 00:39:55,609
commands we need are started without

00:39:53,420 --> 00:39:57,500
using the local disk and then we can do

00:39:55,609 --> 00:40:00,650
everything on the disk change route in

00:39:57,500 --> 00:40:02,359
select target and so on but this is the

00:40:00,650 --> 00:40:07,640
end of s root is the system that is

00:40:02,359 --> 00:40:10,309
running during the installation okay but

00:40:07,640 --> 00:40:11,710
there's no need for this to be NFS it

00:40:10,309 --> 00:40:15,829
could be a local

00:40:11,710 --> 00:40:19,369
it's called NFS root so it's this is a

00:40:15,829 --> 00:40:21,140
very common that people call it NFS root

00:40:19,369 --> 00:40:23,480
and if you have this network

00:40:21,140 --> 00:40:26,480
installation Seng it's really an NFS

00:40:23,480 --> 00:40:29,809
moon but on the you're right on the

00:40:26,480 --> 00:40:35,329
installation I so it's not NFS its it's

00:40:29,809 --> 00:40:38,559
just a local file system yeah all right

00:40:35,329 --> 00:40:42,200
so and then I think it's my last comment

00:40:38,559 --> 00:40:43,970
so you have you have like the the ISO

00:40:42,200 --> 00:40:45,859
from which you install and when you

00:40:43,970 --> 00:40:48,319
install from the ISO you're installing

00:40:45,859 --> 00:40:51,079
then packages like on the machine and

00:40:48,319 --> 00:40:53,510
then you have the image which is like a

00:40:51,079 --> 00:40:55,700
disk image that has the package is

00:40:53,510 --> 00:40:59,630
already installed so you like you skip

00:40:55,700 --> 00:41:02,270
the installing yes have you thought

00:40:59,630 --> 00:41:05,150
about having like an intermediate thing

00:41:02,270 --> 00:41:10,790
where you download an image that already

00:41:05,150 --> 00:41:14,059
has the packages installed that's also

00:41:10,790 --> 00:41:16,760
possible but then when you do an

00:41:14,059 --> 00:41:18,829
installation the before you can change

00:41:16,760 --> 00:41:21,490
route in the new system for adding

00:41:18,829 --> 00:41:24,440
packages you have to call the bootstrap

00:41:21,490 --> 00:41:27,500
what we do we call the bootstrap once

00:41:24,440 --> 00:41:30,920
and create a tower out of it so this is

00:41:27,500 --> 00:41:34,549
our minimal in the former days it was

00:41:30,920 --> 00:41:38,000
the floppy disk or base tar.gz file so

00:41:34,549 --> 00:41:40,730
you could exchange the mini militar file

00:41:38,000 --> 00:41:43,099
with whatever power you have and that's

00:41:40,730 --> 00:41:46,849
for example what we do if we install

00:41:43,099 --> 00:41:49,940
Ubuntu we boot the the installation

00:41:46,849 --> 00:41:52,670
system which is a Debian system and then

00:41:49,940 --> 00:41:56,160
create the files at local filesystem and

00:41:52,670 --> 00:41:58,440
extract Ubuntu base image

00:41:56,160 --> 00:42:01,350
and then we can change route into the

00:41:58,440 --> 00:42:03,510
Ubuntu are the same for sent to s and so

00:42:01,350 --> 00:42:06,420
on then we can change route into the

00:42:03,510 --> 00:42:08,700
other Linux system and add packages

00:42:06,420 --> 00:42:13,020
there and if you have already a bigger

00:42:08,700 --> 00:42:16,410
image with some more packages edit there

00:42:13,020 --> 00:42:19,110
it's very easy to say do not extract the

00:42:16,410 --> 00:42:23,370
Debian stretch image but use my image

00:42:19,110 --> 00:42:25,650
which also includes other tools and if

00:42:23,370 --> 00:42:31,440
you are fine with it you can just

00:42:25,650 --> 00:42:33,370
extract the tar file okay any more

00:42:31,440 --> 00:42:36,440
questions yeah

00:42:33,370 --> 00:42:36,440
[Music]

00:42:40,080 --> 00:42:48,100
the heading is in German what you're

00:42:45,310 --> 00:42:52,740
heading oh because it's a copy of my

00:42:48,100 --> 00:42:57,220
German slides thank you for this and

00:42:52,740 --> 00:42:59,230
what's also missing that the the webpage

00:42:57,220 --> 00:43:01,570
where you can select German or other

00:42:59,230 --> 00:43:04,030
languages it would be nice if people are

00:43:01,570 --> 00:43:08,050
interested to help to translate them so

00:43:04,030 --> 00:43:11,140
that it's more easy for people they do

00:43:08,050 --> 00:43:13,570
not speak English to use the website and

00:43:11,140 --> 00:43:24,400
create their own installation image with

00:43:13,570 --> 00:43:27,250
their language some someone on the

00:43:24,400 --> 00:43:30,160
stream said that the five dot me website

00:43:27,250 --> 00:43:32,109
is not yours and it's a it's a hack

00:43:30,160 --> 00:43:34,090
thing it's a it's a scam you go there

00:43:32,109 --> 00:43:35,619
and you get hacked do you have any plans

00:43:34,090 --> 00:43:37,420
to try to buy the domain because it's

00:43:35,619 --> 00:43:40,359
pretty confusing first thing I would

00:43:37,420 --> 00:43:43,960
have done by seeing that talk you gotta

00:43:40,359 --> 00:43:47,920
fight doubt me yeah I was thinking about

00:43:43,960 --> 00:43:51,340
I thought long about which name should I

00:43:47,920 --> 00:43:54,880
choose I didn't check which web domains

00:43:51,340 --> 00:43:57,640
are free and in the end I said do I like

00:43:54,880 --> 00:44:00,640
to have a different domain name for the

00:43:57,640 --> 00:44:03,550
service but since it's only a part of

00:44:00,640 --> 00:44:06,400
the fie project I thought and technical

00:44:03,550 --> 00:44:11,310
it was also easier just to host it under

00:44:06,400 --> 00:44:14,859
a subdirectory and yeah if people now

00:44:11,310 --> 00:44:15,910
yeah grab the finally domain and do

00:44:14,859 --> 00:44:18,580
other things with it

00:44:15,910 --> 00:44:22,450
yeah then I think one question would be

00:44:18,580 --> 00:44:26,230
to use a debian dotnet or maybe Debian

00:44:22,450 --> 00:44:29,170
dark domain because people trust much

00:44:26,230 --> 00:44:31,720
more I get a lot of comments oh this

00:44:29,170 --> 00:44:34,570
would be very nice if this would be

00:44:31,720 --> 00:44:36,640
hosted on a debian machine but this

00:44:34,570 --> 00:44:39,730
would be much more complicated because

00:44:36,640 --> 00:44:42,630
the DSA team has much more restriction

00:44:39,730 --> 00:44:47,200
what to execute on their machines

00:44:42,630 --> 00:44:50,340
currently we need root access because we

00:44:47,200 --> 00:44:53,470
mount some things and this is not our

00:44:50,340 --> 00:44:56,170
DSA will not would not give me root X

00:44:53,470 --> 00:44:59,170
on any Debian machine that's the same

00:44:56,170 --> 00:45:01,450
problem we have in the Debian cloud team

00:44:59,170 --> 00:45:04,599
where we want to create their official

00:45:01,450 --> 00:45:06,970
images for the clouds provide us where

00:45:04,599 --> 00:45:10,030
the Debian cloud team will also not have

00:45:06,970 --> 00:45:12,940
root access and so there's much more

00:45:10,030 --> 00:45:16,030
work to get empty virtual machines

00:45:12,940 --> 00:45:19,030
starting up putting data into it

00:45:16,030 --> 00:45:22,840
creating the images we see zoom them

00:45:19,030 --> 00:45:25,599
from inside the image yeah and since on

00:45:22,840 --> 00:45:30,910
those machine I have root access that's

00:45:25,599 --> 00:45:34,800
much easier for me right we are out of

00:45:30,910 --> 00:45:34,800
time so thank you Thomas

00:45:34,810 --> 00:45:37,060
[Applause]

00:45:35,380 --> 00:45:42,550
[Music]

00:45:37,060 --> 00:45:42,550

YouTube URL: https://www.youtube.com/watch?v=SDyDW6YqAmg


