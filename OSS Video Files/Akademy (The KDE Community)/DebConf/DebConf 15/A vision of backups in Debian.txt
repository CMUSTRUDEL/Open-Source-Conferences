Title: A vision of backups in Debian
Publication date: 2017-12-03
Playlist: DebConf 15
Description: 
	by Lars Wirzenius

At: DebConf15
https://summit.debconf.org/debconf15/meeting/180/a-vision-of-backups-in-debian/
https://debconf15.debconf.org/

I would like a default Debian desktop or server install to provide a good backup solution by default. This would mean that all the software is installed, and that it requires minimal configuration to start making backups. Further, backups should be as automatica as possible (no or minimal user interaction required), restores are simple, and that the backup system requires no or minimal administration once configured.

This talk outlines my thoughts about this.

Room: Heidelberg
Scheduled start: 2015-08-17 15:00:00
Captions: 
	00:00:00,030 --> 00:00:09,059
all right it's 1,500 hours time for the

00:00:05,819 --> 00:00:13,610
first afternoon talker in Heidelberg and

00:00:09,059 --> 00:00:13,610
it's about back out

00:00:14,070 --> 00:00:17,140
[Music]

00:00:24,830 --> 00:00:28,380
thank you

00:00:26,160 --> 00:00:33,120
then everyone hear me at the bend at the

00:00:28,380 --> 00:00:36,530
back end okay I shall try to speak

00:00:33,120 --> 00:00:40,620
loudly and clearly thank you for coming

00:00:36,530 --> 00:00:44,910
I will start with a couple of questions

00:00:40,620 --> 00:00:47,820
to the audience how many of you have set

00:00:44,910 --> 00:00:51,230
up a backup system for yourselves that

00:00:47,820 --> 00:00:51,230
you like and trust

00:00:53,690 --> 00:01:00,899
okay maybe half that expected how many

00:00:57,629 --> 00:01:03,870
of you have done that for for a family

00:01:00,899 --> 00:01:10,580
member or other loved one a friend or at

00:01:03,870 --> 00:01:10,580
work yes

00:01:10,930 --> 00:01:19,150
so about the same people slightly less

00:01:13,830 --> 00:01:20,860
how many have a run backup this year any

00:01:19,150 --> 00:01:22,020
kind of backup even if you don't like it

00:01:20,860 --> 00:01:26,140
or trust it

00:01:22,020 --> 00:01:31,960
excellent how many have done that this

00:01:26,140 --> 00:01:38,460
month how many of you have done it at

00:01:31,960 --> 00:01:38,460
Def Con how many of our running one now

00:01:38,760 --> 00:01:51,310
excellent give the man applause so one

00:01:45,729 --> 00:01:54,160
of the things that people in a position

00:01:51,310 --> 00:01:56,470
to do technical things often have to do

00:01:54,160 --> 00:01:59,470
if they provide technical support for

00:01:56,470 --> 00:02:03,880
people that they possibly owe their

00:01:59,470 --> 00:02:07,200
birthday or have siblings or are married

00:02:03,880 --> 00:02:13,360
to or whatever the family IT support

00:02:07,200 --> 00:02:16,780
anyone here in that position yeah most

00:02:13,360 --> 00:02:19,030
of you know the situation and it's nice

00:02:16,780 --> 00:02:21,570
when you install Debian and it provides

00:02:19,030 --> 00:02:25,330
certain things out of the box like a

00:02:21,570 --> 00:02:29,370
mail server for sending mail or a web

00:02:25,330 --> 00:02:37,170
browser or cron for automating things or

00:02:29,370 --> 00:02:40,180
there is a an init system it is part of

00:02:37,170 --> 00:02:42,430
the things that an operating system

00:02:40,180 --> 00:02:45,010
should provide an operating system in

00:02:42,430 --> 00:02:47,500
the modern linux distribution sense that

00:02:45,010 --> 00:02:51,580
it should come with a number of services

00:02:47,500 --> 00:02:53,410
that most people want not necessarily

00:02:51,580 --> 00:02:56,170
everyone but those people who don't want

00:02:53,410 --> 00:02:58,690
them can tweak but if the majority wants

00:02:56,170 --> 00:03:01,750
something they supporting printers and

00:02:58,690 --> 00:03:04,750
scanners it's nice if you can plug in a

00:03:01,750 --> 00:03:08,290
printer and it works without having to

00:03:04,750 --> 00:03:14,650
rewrite your Etsy print cap that was not

00:03:08,290 --> 00:03:16,630
fun so I have been thinking about

00:03:14,650 --> 00:03:20,680
backups for a while and I think it would

00:03:16,630 --> 00:03:24,160
be nice if Debian came set up by default

00:03:20,680 --> 00:03:24,700
in default installs with the necessary

00:03:24,160 --> 00:03:27,879
sir

00:03:24,700 --> 00:03:31,660
is to make backups easy and this is what

00:03:27,879 --> 00:03:36,720
this talk is about I will start with a

00:03:31,660 --> 00:03:39,910
bit of personal history April 1984

00:03:36,720 --> 00:03:45,340
my father has started his own company

00:03:39,910 --> 00:03:48,730
and he has bought a a computer for his

00:03:45,340 --> 00:03:51,510
home office and he let me play with it

00:03:48,730 --> 00:03:54,730
this is my introduction to computers and

00:03:51,510 --> 00:03:56,019
my father give me a short lecture saying

00:03:54,730 --> 00:03:57,430
that there are certain things one

00:03:56,019 --> 00:04:00,690
shouldn't do with computers like

00:03:57,430 --> 00:04:04,090
throwing them out of the window and he

00:04:00,690 --> 00:04:07,239
gave me two for peace his computer had

00:04:04,090 --> 00:04:09,280
240 drives and he told me that this is

00:04:07,239 --> 00:04:12,549
for P number one this is very put all

00:04:09,280 --> 00:04:14,110
your data this is what number two every

00:04:12,549 --> 00:04:17,410
time you have made any changes you make

00:04:14,110 --> 00:04:22,530
a copy I was indoctrinated to backups

00:04:17,410 --> 00:04:25,000
from the start so far I have not

00:04:22,530 --> 00:04:32,889
experienced catastrophic data loss for

00:04:25,000 --> 00:04:34,479
my own data some people in my circle

00:04:32,889 --> 00:04:37,289
friends claim that and obsessed with

00:04:34,479 --> 00:04:40,180
backups this is not true

00:04:37,289 --> 00:04:44,710
not at all tree this is an explanation

00:04:40,180 --> 00:04:47,169
of how I did backups some years ago when

00:04:44,710 --> 00:04:50,729
I was trying to set up a company to

00:04:47,169 --> 00:04:55,000
provide backups as a service so the

00:04:50,729 --> 00:04:58,090
entirely illegible top circle read for

00:04:55,000 --> 00:05:01,360
those you can see colors represents my

00:04:58,090 --> 00:05:04,570
laptop and from that I backed up to a

00:05:01,360 --> 00:05:08,139
server I had co-located and that was my

00:05:04,570 --> 00:05:10,539
backup number one that was then backed

00:05:08,139 --> 00:05:13,000
up to a second server in the same rack

00:05:10,539 --> 00:05:15,940
that was a cold spare so if the first

00:05:13,000 --> 00:05:20,370
server would go down or or be broken I

00:05:15,940 --> 00:05:23,229
had in minutes a working second server

00:05:20,370 --> 00:05:26,260
the second service was then backed up to

00:05:23,229 --> 00:05:29,710
a secret server located somewhere

00:05:26,260 --> 00:05:31,810
entirely different so that in case the

00:05:29,710 --> 00:05:34,990
front end servers get broken into and

00:05:31,810 --> 00:05:36,830
someone modifies the backups I have a

00:05:34,990 --> 00:05:38,900
history of the backups

00:05:36,830 --> 00:05:43,490
sorry history of backups of the backups

00:05:38,900 --> 00:05:46,370
on the secret server then at home I had

00:05:43,490 --> 00:05:50,300
a pair of USB drives to which I backed

00:05:46,370 --> 00:05:52,520
up and then took one of them to the

00:05:50,300 --> 00:05:55,880
office where I worked and the other one

00:05:52,520 --> 00:05:58,400
back at home I had a file server at home

00:05:55,880 --> 00:06:00,050
to which I backed up laptop and then I

00:05:58,400 --> 00:06:02,900
had the backup server that backed up the

00:06:00,050 --> 00:06:05,540
file server I don't think this is

00:06:02,900 --> 00:06:12,890
obsessive this is merely ordinary

00:06:05,540 --> 00:06:15,230
precautions so the grand vision I have

00:06:12,890 --> 00:06:16,190
is that you install Debian you tell them

00:06:15,230 --> 00:06:19,490
be and where you want to have your

00:06:16,190 --> 00:06:22,760
backups it all happens you don't need to

00:06:19,490 --> 00:06:25,220
do anything else that's like if you want

00:06:22,760 --> 00:06:27,620
to print something what tell Debian that

00:06:25,220 --> 00:06:29,210
I have now installed a printer ideally

00:06:27,620 --> 00:06:31,970
so that you don't even have to do that

00:06:29,210 --> 00:06:34,120
the system notices that oh there's a

00:06:31,970 --> 00:06:37,400
print that I shall print something that

00:06:34,120 --> 00:06:39,410
gradually large numbers of files it's

00:06:37,400 --> 00:06:42,650
some rough number of pages with some

00:06:39,410 --> 00:06:45,530
real junk condoms because then I got

00:06:42,650 --> 00:06:51,500
confused between PCL and Perl script but

00:06:45,530 --> 00:06:56,060
I know fact Inga I would like backups to

00:06:51,500 --> 00:06:58,190
run automatically and also be verified

00:06:56,060 --> 00:07:01,850
automatically so that if there's a

00:06:58,190 --> 00:07:05,360
problem with say the USB Drive you're

00:07:01,850 --> 00:07:06,680
backing up to you get notified if you

00:07:05,360 --> 00:07:08,510
want to go and have a look you can

00:07:06,680 --> 00:07:13,600
always check the status of your backups

00:07:08,510 --> 00:07:13,600
but you don't have to it will just run

00:07:15,250 --> 00:07:19,490
if you want to restore data then that's

00:07:17,660 --> 00:07:21,350
what we need to do some interactive with

00:07:19,490 --> 00:07:25,880
what as far as I know nobody ever

00:07:21,350 --> 00:07:28,880
restores anything I have written a

00:07:25,880 --> 00:07:33,290
backup program called oblem this talk is

00:07:28,880 --> 00:07:37,820
not about Amnon via Debian we use every

00:07:33,290 --> 00:07:42,170
alternative there needs to be a default

00:07:37,820 --> 00:07:45,380
that we use but whatever that is is not

00:07:42,170 --> 00:07:47,900
relevant oblem is not the the solution

00:07:45,380 --> 00:07:52,259
I'm advocating here

00:07:47,900 --> 00:07:56,250
competing operating systems made by an

00:07:52,259 --> 00:08:00,930
American company near Seattle or in

00:07:56,250 --> 00:08:02,729
California without naming names when you

00:08:00,930 --> 00:08:05,520
get them they come installed with with

00:08:02,729 --> 00:08:08,009
backup software and sometimes they push

00:08:05,520 --> 00:08:11,310
you to use into using this these are

00:08:08,009 --> 00:08:14,819
desktop solutions what I would like to

00:08:11,310 --> 00:08:17,460
have is that any kind of Debian system

00:08:14,819 --> 00:08:21,419
has to choose the backup who here has a

00:08:17,460 --> 00:08:24,300
server who here would like their server

00:08:21,419 --> 00:08:27,330
to be backed up yeah that's what I

00:08:24,300 --> 00:08:31,050
thought if you happen to run Debian on

00:08:27,330 --> 00:08:32,579
on a watch or a phone or or Rooter

00:08:31,050 --> 00:08:37,789
there's no reason why that couldn't be

00:08:32,579 --> 00:08:37,789
backed up that is not only about desktop

00:08:38,510 --> 00:08:45,029
backups should be stored somewhere

00:08:42,589 --> 00:08:48,560
that's the unfortunate part of backups

00:08:45,029 --> 00:08:48,560
you have to buy more hard drives

00:08:49,279 --> 00:08:54,899
typically people think about backup

00:08:52,290 --> 00:08:59,519
storage as USB drives and they're fine

00:08:54,899 --> 00:09:02,250
they're easy they're for a non-technical

00:08:59,519 --> 00:09:03,839
person they're very obvious that yes I

00:09:02,250 --> 00:09:06,510
have this drive on my desk it's called

00:09:03,839 --> 00:09:10,199
backups I put it in and planked backups

00:09:06,510 --> 00:09:13,140
happen that would be really nice we

00:09:10,199 --> 00:09:16,079
don't have that now but there are other

00:09:13,140 --> 00:09:19,790
ways of providing storage you could have

00:09:16,079 --> 00:09:22,949
a server backup server on your land and

00:09:19,790 --> 00:09:24,959
set up backup so that whenever that

00:09:22,949 --> 00:09:29,399
server is available then your laptop is

00:09:24,959 --> 00:09:31,410
at home then backups happening or it

00:09:29,399 --> 00:09:37,699
could be a server on the internet what

00:09:31,410 --> 00:09:40,829
is currently known as the cloud and

00:09:37,699 --> 00:09:43,649
backing to the cloud having your backups

00:09:40,829 --> 00:09:45,570
in the cloud is sometimes funny for

00:09:43,649 --> 00:09:48,649
finish people because in the cloud in

00:09:45,570 --> 00:09:50,970
finish means being high I would like to

00:09:48,649 --> 00:09:52,920
prefer to have my backups in in

00:09:50,970 --> 00:09:57,329
somewhere where they're slightly more

00:09:52,920 --> 00:09:59,620
reliable than being high but there's no

00:09:57,329 --> 00:10:01,600
reason why we can't support this

00:09:59,620 --> 00:10:05,199
obviously there needs to be some kind of

00:10:01,600 --> 00:10:07,560
configuration so yeah I want to use that

00:10:05,199 --> 00:10:10,180
backup server and the nature happens

00:10:07,560 --> 00:10:13,110
he's also a business opportunity for

00:10:10,180 --> 00:10:17,610
ISPs they could make it very easy for

00:10:13,110 --> 00:10:20,829
Debian to provide this configuration

00:10:17,610 --> 00:10:24,839
some people really like tapes and if you

00:10:20,829 --> 00:10:24,839
do that I'm not charging you

00:10:29,339 --> 00:10:40,809
so that is the grand vision any

00:10:35,339 --> 00:10:43,139
questions so far the grand expressing

00:10:40,809 --> 00:10:47,339
the grand vision is the simple part

00:10:43,139 --> 00:10:50,730
nobody asked questions everyone agrees

00:10:47,339 --> 00:10:53,529
I'm continuing a little bit and then

00:10:50,730 --> 00:10:56,709
expressing more details I would like

00:10:53,529 --> 00:10:59,649
there to be a configuration format for

00:10:56,709 --> 00:11:02,040
this so that a way to configure these

00:10:59,649 --> 00:11:04,269
backups so that regardless of what

00:11:02,040 --> 00:11:08,620
software is being used whether it's

00:11:04,269 --> 00:11:12,759
oblem or tor or or cap to provide

00:11:08,620 --> 00:11:14,589
backups the user experience of

00:11:12,759 --> 00:11:19,600
configuring it would be basically the

00:11:14,589 --> 00:11:22,569
same always ideally there's nothing to

00:11:19,600 --> 00:11:25,170
configure but the world is quite not

00:11:22,569 --> 00:11:25,170
quite that simple

00:11:26,550 --> 00:11:32,589
good defaults are essential because if

00:11:30,579 --> 00:11:34,149
we require people start writing regular

00:11:32,589 --> 00:11:35,670
expressions for all the files that they

00:11:34,149 --> 00:11:41,709
don't want to backup because they are

00:11:35,670 --> 00:11:45,610
useless like say the web browser cache

00:11:41,709 --> 00:11:50,019
files which can be many and numerous and

00:11:45,610 --> 00:11:53,649
large but mostly are obsolete by the

00:11:50,019 --> 00:11:55,870
time the backup runs then we don't want

00:11:53,649 --> 00:11:58,059
people to have to do that themselves we

00:11:55,870 --> 00:12:01,870
should provide defaults for anything

00:11:58,059 --> 00:12:05,170
that is usually safe to exclude from

00:12:01,870 --> 00:12:06,939
backups anything is anything that is

00:12:05,170 --> 00:12:08,829
actually important should be treatable I

00:12:06,939 --> 00:12:12,770
don't want to say that configuration is

00:12:08,829 --> 00:12:14,750
unnecessary but

00:12:12,770 --> 00:12:17,840
default are important and it should be

00:12:14,750 --> 00:12:23,150
easy to do the things you do I'd also

00:12:17,840 --> 00:12:25,520
like to support multiple backup

00:12:23,150 --> 00:12:26,330
repositories so multiple locations to

00:12:25,520 --> 00:12:28,040
which you backup

00:12:26,330 --> 00:12:34,070
so you can have both the USB drive and

00:12:28,040 --> 00:12:37,670
the server on the internet everything

00:12:34,070 --> 00:12:39,290
should be automatic so that after the

00:12:37,670 --> 00:12:45,650
initial configuration backups just

00:12:39,290 --> 00:12:47,150
happened I've seen backups being handled

00:12:45,650 --> 00:12:50,360
by various people and various

00:12:47,150 --> 00:12:53,060
organizations over the years in

00:12:50,360 --> 00:12:54,560
situations where you have a paid person

00:12:53,060 --> 00:12:57,440
to do things like rotate

00:12:54,560 --> 00:13:01,850
tapes from the office to the bank and

00:12:57,440 --> 00:13:03,710
back that works if we expect normal

00:13:01,850 --> 00:13:10,180
people who are not paid to take care of

00:13:03,710 --> 00:13:13,310
their backups to do this we fail if we

00:13:10,180 --> 00:13:17,060
expect people to go out and buy a stack

00:13:13,310 --> 00:13:19,580
of blu-ray blu-ray discs and swap 50

00:13:17,060 --> 00:13:24,220
Drive 50 lifts to a drive in order to

00:13:19,580 --> 00:13:24,220
run a backup this isn't gonna work

00:13:26,020 --> 00:13:31,190
other operations that need to happen are

00:13:28,580 --> 00:13:34,040
are things like checking the backup

00:13:31,190 --> 00:13:36,860
storage that is still valid that the

00:13:34,040 --> 00:13:39,470
backup result repositories is has

00:13:36,860 --> 00:13:43,210
internal consistency and that the backup

00:13:39,470 --> 00:13:46,010
data matches live data whenever possible

00:13:43,210 --> 00:13:47,780
all the kinds of things that issue are

00:13:46,010 --> 00:13:50,170
satisfied and happy with the backup

00:13:47,780 --> 00:13:54,470
solutions obviously are already doing

00:13:50,170 --> 00:13:58,270
but doing it so that it happens for

00:13:54,470 --> 00:14:03,140
everyone is the is the actual challenge

00:13:58,270 --> 00:14:05,519
early restores the stores are unhappy

00:14:03,140 --> 00:14:08,970
moments

00:14:05,519 --> 00:14:11,999
if you need to restore something you are

00:14:08,970 --> 00:14:15,240
under some stress possibly a very large

00:14:11,999 --> 00:14:17,429
amount of stress your spouse or your

00:14:15,240 --> 00:14:24,329
boss might be screaming in both your

00:14:17,429 --> 00:14:27,689
ears at the same time so my preference

00:14:24,329 --> 00:14:30,360
is to make restores as simple and

00:14:27,689 --> 00:14:31,889
obvious as possible I would like

00:14:30,360 --> 00:14:35,490
something like Europe and your file

00:14:31,889 --> 00:14:36,990
browser run and backup backups are just

00:14:35,490 --> 00:14:38,660
visible there and you can just copy the

00:14:36,990 --> 00:14:41,309
data you need

00:14:38,660 --> 00:14:44,220
most people who can use a computer can

00:14:41,309 --> 00:14:47,970
copy a file so this is not new stuff for

00:14:44,220 --> 00:14:51,360
them having to go and enter hexadecimal

00:14:47,970 --> 00:14:56,089
numbers on a command line tool not so

00:14:51,360 --> 00:14:59,600
much obviously if this is architected

00:14:56,089 --> 00:15:02,819
properly then we can provide a number of

00:14:59,600 --> 00:15:05,129
user interfaces and user experiences and

00:15:02,819 --> 00:15:09,749
those of us who really like hexadecimal

00:15:05,129 --> 00:15:16,459
numbers can use those I haven't done

00:15:09,749 --> 00:15:18,660
anything this is this talk is about

00:15:16,459 --> 00:15:21,410
expressing what I would like to see and

00:15:18,660 --> 00:15:26,249
seeing if anyone else agrees

00:15:21,410 --> 00:15:32,759
does anyone else agree one OK several

00:15:26,249 --> 00:15:33,899
people many people there are a number of

00:15:32,759 --> 00:15:36,869
things that need to be done

00:15:33,899 --> 00:15:38,699
that's not a well thought-out list

00:15:36,869 --> 00:15:43,410
that's something I'd grow it because I

00:15:38,699 --> 00:15:46,769
need to fill a slide I'm not saying that

00:15:43,410 --> 00:15:48,929
if you do this done and I'm not saying

00:15:46,769 --> 00:15:52,259
even saying that we have to do this or

00:15:48,929 --> 00:15:58,499
we will never be done but it's things

00:15:52,259 --> 00:16:00,149
that might be useful to consider and I

00:15:58,499 --> 00:16:03,149
seem to have entirely forgotten to put

00:16:00,149 --> 00:16:06,090
in some consulting management sales

00:16:03,149 --> 00:16:09,920
speech there sorry

00:16:06,090 --> 00:16:14,640
so would anyone be interested in helping

00:16:09,920 --> 00:16:14,970
in any form one person come on anyone

00:16:14,640 --> 00:16:18,990
else

00:16:14,970 --> 00:16:20,910
two people filing bugs is helpful trying

00:16:18,990 --> 00:16:25,740
this testing this speaking about this

00:16:20,910 --> 00:16:27,450
telling the people who do this technical

00:16:25,740 --> 00:16:30,690
parts of this what they would need and

00:16:27,450 --> 00:16:33,990
like to have is helping sorry with these

00:16:30,690 --> 00:16:35,250
definitions anyone like to help anyone

00:16:33,990 --> 00:16:39,480
like to tell other people what they

00:16:35,250 --> 00:16:43,650
should do okay

00:16:39,480 --> 00:16:45,420
some positive response most of these

00:16:43,650 --> 00:16:47,180
should not be very difficult the most

00:16:45,420 --> 00:16:51,630
difficult part is writing the actual

00:16:47,180 --> 00:16:54,600
back and back up application that that

00:16:51,630 --> 00:16:56,090
does the parts of shuffling the data

00:16:54,600 --> 00:17:00,630
from one place and other and then

00:16:56,090 --> 00:17:03,030
bringing it back when needed that's what

00:17:00,630 --> 00:17:05,100
I do with Abner all this other stuff is

00:17:03,030 --> 00:17:07,980
is taking pieces it's mostly about

00:17:05,100 --> 00:17:09,959
taking pieces that exist and writing

00:17:07,980 --> 00:17:13,260
some small stuff and then integrating

00:17:09,959 --> 00:17:15,000
this into something that works if we can

00:17:13,260 --> 00:17:18,780
find enough people who work on this we

00:17:15,000 --> 00:17:19,890
can do this for stretch which would mean

00:17:18,780 --> 00:17:22,290
that it's a first

00:17:19,890 --> 00:17:24,930
Debbi release where people can rely on

00:17:22,290 --> 00:17:28,430
on backups being there from out of box

00:17:24,930 --> 00:17:31,560
I haven't think that would be cool mob

00:17:28,430 --> 00:17:34,530
admit being slightly weird about backups

00:17:31,560 --> 00:17:37,830
just slightly and I'm not obsessing

00:17:34,530 --> 00:17:40,100
about anything and my backup trustee

00:17:37,830 --> 00:17:40,100
ramen

00:17:45,669 --> 00:17:49,660
okay that was a very short talk I was

00:17:48,200 --> 00:17:55,040
hoping to have more questions

00:17:49,660 --> 00:18:01,150
anyone have any opinions yeah wait wait

00:17:55,040 --> 00:18:01,150
for the microphone please stand up I

00:18:01,360 --> 00:18:07,340
think given who we are why did not be

00:18:04,940 --> 00:18:14,419
harder to agree on something than to

00:18:07,340 --> 00:18:18,460
implement it no I think it's very easy

00:18:14,419 --> 00:18:18,460
to agree as long as I'm doing it alone

00:18:18,640 --> 00:18:24,380
when I said that Debian has a tendency

00:18:21,410 --> 00:18:27,110
to choose all the options I said I meant

00:18:24,380 --> 00:18:29,960
that we have a tendency to let it make

00:18:27,110 --> 00:18:33,530
sense to make it possible for people to

00:18:29,960 --> 00:18:40,370
mix and match various components so we

00:18:33,530 --> 00:18:42,290
have a default MT a mail server action

00:18:40,370 --> 00:18:46,610
for sorry took me a while to remember

00:18:42,290 --> 00:18:48,350
the software that I always replace but I

00:18:46,610 --> 00:18:53,240
can replace it that's a nice part and

00:18:48,350 --> 00:18:54,799
what we have in Debian is a system as a

00:18:53,240 --> 00:18:57,080
whole we're taking one of these

00:18:54,799 --> 00:19:00,260
components replacing it something else

00:18:57,080 --> 00:19:03,740
is usually quite easy when the various

00:19:00,260 --> 00:19:05,150
components are sufficiently similar and

00:19:03,740 --> 00:19:08,470
compatible and we can provide the

00:19:05,150 --> 00:19:08,470
interfaces that are needed

00:19:11,530 --> 00:19:18,160
I have two questions first is a system

00:19:16,360 --> 00:19:20,710
like Postgres you can't just back it up

00:19:18,160 --> 00:19:23,440
you need to take some additional steps

00:19:20,710 --> 00:19:26,050
are you planning to provide certain

00:19:23,440 --> 00:19:28,180
special handlers for specific software

00:19:26,050 --> 00:19:30,150
are you looking at a solution whereby

00:19:28,180 --> 00:19:35,620
Postgres will install its own backup

00:19:30,150 --> 00:19:37,690
handler eventually yes one prisoner the

00:19:35,620 --> 00:19:41,470
second the second one of those I haven't

00:19:37,690 --> 00:19:44,410
decided which one I haven't architected

00:19:41,470 --> 00:19:46,870
this at all exactly a little bit in my

00:19:44,410 --> 00:19:48,040
head because I don't want to do come

00:19:46,870 --> 00:19:50,140
here I didn't want to come here and

00:19:48,040 --> 00:19:54,310
present that yeah this is what you

00:19:50,140 --> 00:19:56,140
people should do okay I've maintained

00:19:54,310 --> 00:19:57,520
lock check for a very long time and it

00:19:56,140 --> 00:19:59,920
was a nightmare pertaining to this

00:19:57,520 --> 00:20:01,840
because we did both right so I think you

00:19:59,920 --> 00:20:04,090
you're gonna have to make sure that you

00:20:01,840 --> 00:20:05,980
do one thing well from the start the

00:20:04,090 --> 00:20:08,170
second question is automated backups I

00:20:05,980 --> 00:20:11,580
run automated backups my mom runs

00:20:08,170 --> 00:20:14,680
automated backups thanks to me and

00:20:11,580 --> 00:20:18,100
that's great because it works except

00:20:14,680 --> 00:20:19,900
when it doesn't so um occasionally I

00:20:18,100 --> 00:20:21,990
mean for instance when you're sitting at

00:20:19,900 --> 00:20:25,180
home and you're doing and backup and you

00:20:21,990 --> 00:20:26,980
accidentally downloaded that blu-ray

00:20:25,180 --> 00:20:29,380
thing and left it in your home directory

00:20:26,980 --> 00:20:32,200
and now it has like backup 24 Giga miles

00:20:29,380 --> 00:20:34,530
debÃ­a mutilation blu-ray yes that's

00:20:32,200 --> 00:20:38,680
right exactly that that's the one I'm in

00:20:34,530 --> 00:20:42,100
and now it's up there uploading 24 Giga

00:20:38,680 --> 00:20:46,960
bytes through your DSL uplink and it

00:20:42,100 --> 00:20:49,720
fails to do that and takes the next 400

00:20:46,960 --> 00:20:51,940
days until it finally concluded because

00:20:49,720 --> 00:20:55,360
it only does it three night or whatever

00:20:51,940 --> 00:20:58,270
it is and so that the PhD thesis or

00:20:55,360 --> 00:21:00,040
whatever my mom's working on which comes

00:20:58,270 --> 00:21:01,540
right afterwards in the file system if

00:21:00,040 --> 00:21:05,590
you know what I mean whatever gets

00:21:01,540 --> 00:21:08,200
backed up until 401 days which time the

00:21:05,590 --> 00:21:10,630
laptop has failed um is there a way for

00:21:08,200 --> 00:21:12,520
her to a find out I mean how are you yes

00:21:10,630 --> 00:21:16,200
is there way in your vaporware how are

00:21:12,520 --> 00:21:19,210
you thinking about letting her know that

00:21:16,200 --> 00:21:22,330
this hasn't been backed up yet that

00:21:19,210 --> 00:21:24,390
there is a problem and would it be or do

00:21:22,330 --> 00:21:26,580
you have a sensible idea for

00:21:24,390 --> 00:21:28,650
to be able to say this is important to

00:21:26,580 --> 00:21:32,130
me and this is less important to me so

00:21:28,650 --> 00:21:36,300
prioritize this so yes that absolutely

00:21:32,130 --> 00:21:38,610
needs a way for the user to say that I

00:21:36,300 --> 00:21:41,010
care about this data I don't care about

00:21:38,610 --> 00:21:42,990
this data at all because I can always

00:21:41,010 --> 00:21:47,550
free download the Debian installation PD

00:21:42,990 --> 00:21:48,960
ROM image and this data I would like to

00:21:47,550 --> 00:21:51,030
have it backed up but it's not as

00:21:48,960 --> 00:21:53,130
important as all the other data this is

00:21:51,030 --> 00:21:54,650
the kind of thing that people need to be

00:21:53,130 --> 00:21:57,960
able to do absolutely

00:21:54,650 --> 00:22:02,030
how does happens I don't know yet but

00:21:57,960 --> 00:22:05,670
technical details are are so lowball

00:22:02,030 --> 00:22:09,510
more or less nice thing sometimes by

00:22:05,670 --> 00:22:12,180
someone before we have the next question

00:22:09,510 --> 00:22:14,940
I would like there to be a way to notify

00:22:12,180 --> 00:22:18,960
the user saying that I have noticed this

00:22:14,940 --> 00:22:20,370
large file new file that you didn't used

00:22:18,960 --> 00:22:24,230
to have yesterday when I ran the

00:22:20,370 --> 00:22:26,670
previous backup what should I do and

00:22:24,230 --> 00:22:29,610
then we can have default saying it looks

00:22:26,670 --> 00:22:31,800
like an iso file we don't probably don't

00:22:29,610 --> 00:22:34,710
need to worry about that as much we put

00:22:31,800 --> 00:22:37,170
it at the end of the queue and we notify

00:22:34,710 --> 00:22:39,390
the user and the user can say I wonder

00:22:37,170 --> 00:22:42,870
care about that at all at which point it

00:22:39,390 --> 00:22:50,220
gets removed from the queue entirely if

00:22:42,870 --> 00:22:52,890
you do this well or well enough then the

00:22:50,220 --> 00:22:55,410
user will rarely be bothered with these

00:22:52,890 --> 00:22:57,900
questions I would like the user not to

00:22:55,410 --> 00:23:00,510
be both are saying oh you have a doc

00:22:57,900 --> 00:23:03,540
file there it's 2 megabyte sorry 2

00:23:00,510 --> 00:23:06,930
gigabytes it'll take two minutes to

00:23:03,540 --> 00:23:09,620
backup to the local machine do you want

00:23:06,930 --> 00:23:11,760
to back this up this would be idiotic

00:23:09,620 --> 00:23:13,770
bombarding the user with questions all

00:23:11,760 --> 00:23:15,270
the time would not be useful but then

00:23:13,770 --> 00:23:19,010
there are really exceptional cases like

00:23:15,270 --> 00:23:20,640
tens of gigabytes of data in a new file

00:23:19,010 --> 00:23:25,710
yeah sure

00:23:20,640 --> 00:23:30,990
after you sir hi

00:23:25,710 --> 00:23:33,610
so the case about the Postgres back up

00:23:30,990 --> 00:23:37,810
this is an example where it would be

00:23:33,610 --> 00:23:42,510
useful if a package would also install

00:23:37,810 --> 00:23:46,930
some information that says although the

00:23:42,510 --> 00:23:49,300
database files are invalid it doesn't

00:23:46,930 --> 00:23:53,680
make sense to back up this particular

00:23:49,300 --> 00:23:58,420
directory ignore it it would of course

00:23:53,680 --> 00:24:01,900
be it might make sense to not backup var

00:23:58,420 --> 00:24:04,570
cache the name says its cache data it

00:24:01,900 --> 00:24:06,760
can be recreated but while it would be

00:24:04,570 --> 00:24:09,670
backed up although it doesn't make sense

00:24:06,760 --> 00:24:13,260
for my SQL it's the same and there might

00:24:09,670 --> 00:24:16,030
be other programs like that and then

00:24:13,260 --> 00:24:23,640
there is data in the home directory

00:24:16,030 --> 00:24:29,740
if programs do as the xdg directory

00:24:23,640 --> 00:24:31,660
specification says they use dot cache

00:24:29,740 --> 00:24:33,910
directory and you can just ignore

00:24:31,660 --> 00:24:36,910
everything that's inside there but

00:24:33,910 --> 00:24:39,400
unfortunately it not all programs do

00:24:36,910 --> 00:24:42,160
this not all packages do that so it

00:24:39,400 --> 00:24:45,550
would be useful to say ok all home dear

00:24:42,160 --> 00:24:47,410
directories that have dot something is

00:24:45,550 --> 00:24:51,010
not worth backing up because it just

00:24:47,410 --> 00:24:55,290
cache and it might be even a lot of data

00:24:51,010 --> 00:25:00,310
inside and related to this I have a

00:24:55,290 --> 00:25:04,530
question to the audience or an appeal I

00:25:00,310 --> 00:25:07,690
have a page in the Debian Vicki about

00:25:04,530 --> 00:25:10,630
xdg directory specification and a

00:25:07,690 --> 00:25:14,170
long-running request that the free dos

00:25:10,630 --> 00:25:17,110
desktop people might include a state

00:25:14,170 --> 00:25:21,420
directory which is also data that it's

00:25:17,110 --> 00:25:25,390
not worth backing up but many programs

00:25:21,420 --> 00:25:28,480
modify their config file for unusable

00:25:25,390 --> 00:25:33,160
data alike the last window position and

00:25:28,480 --> 00:25:34,960
if somebody here has relation to Forks

00:25:33,160 --> 00:25:39,100
at the free desktop

00:25:34,960 --> 00:25:43,960
group now how the process works would be

00:25:39,100 --> 00:25:50,200
nice to have a state type directory in

00:25:43,960 --> 00:25:55,900
this directory specification yeah yeah

00:25:50,200 --> 00:25:59,200
that it would be nice to separate things

00:25:55,900 --> 00:26:02,170
that are just data that is never useful

00:25:59,200 --> 00:26:05,350
to backup or not important to backup

00:26:02,170 --> 00:26:08,860
luckily things like beam depositions are

00:26:05,350 --> 00:26:13,000
quite small but it's annoying that there

00:26:08,860 --> 00:26:14,830
are in there in config information when

00:26:13,000 --> 00:26:17,830
it comes to cache directory specifically

00:26:14,830 --> 00:26:20,040
there is already a specification for

00:26:17,830 --> 00:26:23,260
tagging a directory as a cache directory

00:26:20,040 --> 00:26:27,280
it's called it - the solid cash deal dot

00:26:23,260 --> 00:26:30,420
tagged file and there's a link to it on

00:26:27,280 --> 00:26:33,550
the internet that someone should find

00:26:30,420 --> 00:26:35,890
oblem supports this and a few other

00:26:33,550 --> 00:26:41,560
program support this but it's mostly

00:26:35,890 --> 00:26:44,530
unknown yes should we make it a policy

00:26:41,560 --> 00:26:47,110
that MySQL and Postgres should put these

00:26:44,530 --> 00:27:04,680
files in Varley prosperous and valid

00:26:47,110 --> 00:27:04,680
MySQL I wouldn't mind something here

00:27:05,310 --> 00:27:11,020
what about encryption I know I use full

00:27:08,500 --> 00:27:13,300
this encryption on my desktop and on my

00:27:11,020 --> 00:27:15,460
servers and to me

00:27:13,300 --> 00:27:18,220
encryption is needed so when I backup

00:27:15,460 --> 00:27:20,230
things it would be stupid not to encrypt

00:27:18,220 --> 00:27:22,510
the files are backup because I don't

00:27:20,230 --> 00:27:25,780
necessarily trust the place where I back

00:27:22,510 --> 00:27:27,490
up things so if not a default

00:27:25,780 --> 00:27:30,220
I think encryption should definitely be

00:27:27,490 --> 00:27:31,990
an option I fully agree and I think the

00:27:30,220 --> 00:27:35,310
default should be to use encryption when

00:27:31,990 --> 00:27:35,310
backing up remotely

00:27:41,799 --> 00:27:48,349
hi I would totally disagree with Domas

00:27:44,869 --> 00:27:51,589
not picking up valid because sometimes I

00:27:48,349 --> 00:27:54,109
just want a quick backup of my database

00:27:51,589 --> 00:27:56,329
and it's much faster to shut down the

00:27:54,109 --> 00:27:59,059
database in Turkish net short of valid

00:27:56,329 --> 00:28:01,940
instead of trying to dump the database

00:27:59,059 --> 00:28:05,089
and then copying the same data it would

00:28:01,940 --> 00:28:07,959
take twice as much time because my I

00:28:05,089 --> 00:28:11,479
always probably limited to take a dump

00:28:07,959 --> 00:28:13,489
so if I'm in the hurry I was rushing to

00:28:11,479 --> 00:28:15,499
the airport and I want to do a backup a

00:28:13,489 --> 00:28:17,690
quick makeup that's probably worst

00:28:15,499 --> 00:28:21,519
probably working in ninety percent of

00:28:17,690 --> 00:28:24,829
the time it's better than nothing so

00:28:21,519 --> 00:28:28,309
excluding it always is wrong so probably

00:28:24,829 --> 00:28:30,309
your paper I should have do a quick

00:28:28,309 --> 00:28:33,219
backups it's probably working it to a

00:28:30,309 --> 00:28:35,719
good backup which will take some time

00:28:33,219 --> 00:28:37,820
but maybe I don't have this time at the

00:28:35,719 --> 00:28:40,009
moment that's also an excellent point

00:28:37,820 --> 00:28:44,209
and it was just airport but in general

00:28:40,009 --> 00:28:45,919
if you are say at a talk at debconf and

00:28:44,209 --> 00:28:47,419
you want to go to the next talk and you

00:28:45,919 --> 00:28:49,459
don't want to shut your laptop because

00:28:47,419 --> 00:28:52,489
carrying it open while running a backup

00:28:49,459 --> 00:28:55,329
is a little bit risky as I've noticed

00:28:52,489 --> 00:28:55,329
this week

00:28:55,419 --> 00:29:01,249
my ideal backup solution will be such

00:28:59,629 --> 00:29:03,379
that when you're working on something on

00:29:01,249 --> 00:29:06,829
your laptop by the time you're ready to

00:29:03,379 --> 00:29:09,739
go and you shot your laptop once you

00:29:06,829 --> 00:29:12,549
spend it it's already backed up again if

00:29:09,739 --> 00:29:15,769
getting backed up as you make changes I

00:29:12,549 --> 00:29:19,669
don't know when I will be there but

00:29:15,769 --> 00:29:22,219
working towards it but in general being

00:29:19,669 --> 00:29:24,320
able to say even it's not just saying

00:29:22,219 --> 00:29:27,320
things like shutting all your data bases

00:29:24,320 --> 00:29:29,479
and so just saying I'm at the airport I

00:29:27,320 --> 00:29:32,359
have five minutes backup of the

00:29:29,479 --> 00:29:34,479
important bits would be really useful to

00:29:32,359 --> 00:29:34,479
say

00:29:37,920 --> 00:29:47,910
I seen previous slider that you want

00:29:43,740 --> 00:29:53,490
backup easy like a restore easy like a

00:29:47,910 --> 00:29:56,640
copy my question is a copy is not a

00:29:53,490 --> 00:29:58,950
backup the main difference that

00:29:56,640 --> 00:30:04,470
sometimes you want to restore an old

00:29:58,950 --> 00:30:11,059
copy from a month ago sure so I don't

00:30:04,470 --> 00:30:16,640
think that it was easy as a copy I think

00:30:11,059 --> 00:30:16,640
if you try to battle us I think more

00:30:17,120 --> 00:30:25,679
some way to say I want not the recent

00:30:22,799 --> 00:30:26,400
copy but for example absolutely I agree

00:30:25,679 --> 00:30:28,590
with that

00:30:26,400 --> 00:30:32,970
but that can be done by sharing all the

00:30:28,590 --> 00:30:36,299
backups of your data in default browser

00:30:32,970 --> 00:30:38,010
in parallel you can see this is from

00:30:36,299 --> 00:30:39,510
yesterday that's from last week that's

00:30:38,010 --> 00:30:41,700
from last month that's what last year

00:30:39,510 --> 00:30:44,580
and then the user can say I want that

00:30:41,700 --> 00:30:46,350
file from yesterday but that thing from

00:30:44,580 --> 00:30:51,179
last year because I met all sorts of

00:30:46,350 --> 00:30:55,970
stupid changes so we agree if we just

00:30:51,179 --> 00:30:55,970
need to agree on the implementation

00:31:03,900 --> 00:31:12,670
can we revisit the database problem one

00:31:08,830 --> 00:31:15,960
more time so besides the system

00:31:12,670 --> 00:31:20,820
databases we also have personal

00:31:15,960 --> 00:31:24,100
information management tools like in KDE

00:31:20,820 --> 00:31:26,680
it's a cone ad and it helpfully stores

00:31:24,100 --> 00:31:30,280
your personal contacts in a MySQL

00:31:26,680 --> 00:31:32,440
database in your home directory so there

00:31:30,280 --> 00:31:34,270
are same problems that we have for

00:31:32,440 --> 00:31:37,120
system directories containing databases

00:31:34,270 --> 00:31:39,130
also apply to home directories and we

00:31:37,120 --> 00:31:41,320
don't know exactly where they are so

00:31:39,130 --> 00:31:43,090
maybe a more generic solution then

00:31:41,320 --> 00:31:46,210
taking those system directories is

00:31:43,090 --> 00:31:49,750
required over here absolutely I think

00:31:46,210 --> 00:31:51,460
some kind of hook system we're sorry I

00:31:49,750 --> 00:31:54,010
missed the name of the program but the

00:31:51,460 --> 00:31:56,950
thing that uses - College in our home

00:31:54,010 --> 00:32:00,640
directory so that it can be told that a

00:31:56,950 --> 00:32:04,120
backup is about to run do whatever you

00:32:00,640 --> 00:32:06,760
need would be nice and then using these

00:32:04,120 --> 00:32:09,940
hooks to say whether the user and the

00:32:06,760 --> 00:32:12,370
system loved was to say that if the

00:32:09,940 --> 00:32:15,370
solution to the problem is that yeah you

00:32:12,370 --> 00:32:17,530
do a MySQL dump into a file and that

00:32:15,370 --> 00:32:19,960
file gets backed up then that's what's

00:32:17,530 --> 00:32:22,240
happened it's even better if this can be

00:32:19,960 --> 00:32:24,730
done without having to dump a a 14

00:32:22,240 --> 00:32:29,880
petabyte database every time you run a

00:32:24,730 --> 00:32:32,350
backup but there are tools for this and

00:32:29,880 --> 00:32:38,610
we need to find a way to integrate those

00:32:32,350 --> 00:32:38,610
tools into a system that just works

00:32:40,509 --> 00:32:47,769
I think so I think I'm one of your

00:32:46,359 --> 00:32:49,570
slides you said you know that the

00:32:47,769 --> 00:32:52,119
technical parts are not that difficult

00:32:49,570 --> 00:32:54,009
here right and I think to do part that's

00:32:52,119 --> 00:32:56,739
true like if you have local disk you

00:32:54,009 --> 00:32:58,839
know we have full disk encryption we can

00:32:56,739 --> 00:33:00,549
use something like pad or FS on top and

00:32:58,839 --> 00:33:03,849
then we get snapshots and all these nice

00:33:00,549 --> 00:33:06,159
things but I think if we integrate this

00:33:03,849 --> 00:33:08,529
with versus you know like remote

00:33:06,159 --> 00:33:10,899
services you know possibly different

00:33:08,529 --> 00:33:12,489
kinds of remote services then it gets a

00:33:10,899 --> 00:33:14,589
whole lot more complicated and I think

00:33:12,489 --> 00:33:17,349
you know there's probably a lot of work

00:33:14,589 --> 00:33:20,259
that needs to be done there to provide

00:33:17,349 --> 00:33:22,029
some sort of like working interface and

00:33:20,259 --> 00:33:24,039
then one that's compatible with all the

00:33:22,029 --> 00:33:27,369
different types of backups that we need

00:33:24,039 --> 00:33:28,989
to be able to do right yes if I'm

00:33:27,369 --> 00:33:30,909
understanding you correctly you're

00:33:28,989 --> 00:33:39,249
implying that cut is not the perfect

00:33:30,909 --> 00:33:41,259
backup - I agree but there is a set of

00:33:39,249 --> 00:33:42,699
programs that can be used to solve this

00:33:41,259 --> 00:33:46,440
and it's possible that some of them

00:33:42,699 --> 00:33:50,649
early work on say local hard drives and

00:33:46,440 --> 00:33:54,999
or tape runs possibly for those who

00:33:50,649 --> 00:33:57,339
actually want them or and some possibly

00:33:54,999 --> 00:34:00,519
only work realistically on on a remote

00:33:57,339 --> 00:34:02,709
server maybe someone decides to write

00:34:00,519 --> 00:34:05,339
something that only ever works on their

00:34:02,709 --> 00:34:07,569
own personal PHP script on the server

00:34:05,339 --> 00:34:11,379
it's really nice to be able to allow

00:34:07,569 --> 00:34:13,419
them to integrate that into this thing

00:34:11,379 --> 00:34:16,539
but these are certainly things that need

00:34:13,419 --> 00:34:21,759
to be considered when when the solution

00:34:16,539 --> 00:34:25,379
gets architected and implemented when we

00:34:21,759 --> 00:34:28,690
want to have this fully automated and

00:34:25,379 --> 00:34:31,149
not thinking about I believe we quickly

00:34:28,690 --> 00:34:35,529
run into the question that we have to

00:34:31,149 --> 00:34:40,779
manage different states of the nation so

00:34:35,529 --> 00:34:43,990
am I at home on my own Network am i

00:34:40,779 --> 00:34:47,460
traveling and have limited bandwidth

00:34:43,990 --> 00:34:52,480
even if I'm connected to a wire

00:34:47,460 --> 00:34:54,230
do I have limited battery am i giving a

00:34:52,480 --> 00:34:55,850
presentation right now and

00:34:54,230 --> 00:34:58,510
I can't be bothered to give anything

00:34:55,850 --> 00:35:01,880
away from my bandwidth or from a CPU or

00:34:58,510 --> 00:35:07,190
I don't want the hard disk to spin up

00:35:01,880 --> 00:35:09,440
and so there are of course other use

00:35:07,190 --> 00:35:12,350
cases for this during presentation I

00:35:09,440 --> 00:35:21,190
don't want notifications from new emails

00:35:12,350 --> 00:35:25,880
to pop up and so sorry yes of course but

00:35:21,190 --> 00:35:29,540
my question is other is there previous

00:35:25,880 --> 00:35:32,990
work regarding these questions to let

00:35:29,540 --> 00:35:35,480
the computer now that currently you can

00:35:32,990 --> 00:35:38,390
do whatever you want or please don't

00:35:35,480 --> 00:35:39,620
these don't do these things because you

00:35:38,390 --> 00:35:44,000
are currently used to give a

00:35:39,620 --> 00:35:46,760
presentation or I'm travelling does

00:35:44,000 --> 00:35:50,150
systemd does this already

00:35:46,760 --> 00:35:53,360
yes is there something like that to say

00:35:50,150 --> 00:35:55,340
to the laptop you are in that state and

00:35:53,360 --> 00:35:59,870
thus you shouldn't do those kind of

00:35:55,340 --> 00:36:01,970
things I believe that is and I don't

00:35:59,870 --> 00:36:05,900
know what the status of that current is

00:36:01,970 --> 00:36:11,630
but there are people who do things like

00:36:05,900 --> 00:36:14,780
they have a skip to get run by iff down

00:36:11,630 --> 00:36:16,430
on network connections it looks at this

00:36:14,780 --> 00:36:18,080
reflect my home network and it sets a

00:36:16,430 --> 00:36:20,660
flag file somewhere and then the cron

00:36:18,080 --> 00:36:23,240
job look at the flag file and it gets a

00:36:20,660 --> 00:36:27,020
bit complicated but there is some work

00:36:23,240 --> 00:36:28,520
on that and this is an act again an

00:36:27,020 --> 00:36:31,700
excellent point that needs to be taken

00:36:28,520 --> 00:36:33,680
into care or into consideration when

00:36:31,700 --> 00:36:35,750
designing these backup things

00:36:33,680 --> 00:36:37,310
there's no point in running a backup if

00:36:35,750 --> 00:36:41,390
you're gonna run out of battery in five

00:36:37,310 --> 00:36:44,300
minutes but to be sure it's not only

00:36:41,390 --> 00:36:48,070
about network but for example also about

00:36:44,300 --> 00:36:48,070
notifications absolutely

00:36:52,900 --> 00:37:00,260
many of the problems seem to be sold by

00:36:57,800 --> 00:37:03,920
simply having a diva's announcement

00:37:00,260 --> 00:37:05,510
saying I'm doing a backup now programs

00:37:03,920 --> 00:37:07,790
that are concerned that you should not

00:37:05,510 --> 00:37:10,510
backup couldn't single back and say stop

00:37:07,790 --> 00:37:12,590
I am running and I'm noticing that I

00:37:10,510 --> 00:37:15,020
have low power or I'm doing something

00:37:12,590 --> 00:37:17,470
more important so stop what you're doing

00:37:15,020 --> 00:37:19,490
to your next backup next time is that

00:37:17,470 --> 00:37:21,230
diba see if I can excellent way of

00:37:19,490 --> 00:37:27,550
solving this can be integrating with the

00:37:21,230 --> 00:37:27,550
kernel that was a joke

00:37:30,590 --> 00:37:38,810
I just started to realize that maybe

00:37:34,360 --> 00:37:43,430
many types of backup just for example

00:37:38,810 --> 00:37:49,760
most of the backup of people thinking is

00:37:43,430 --> 00:37:52,820
like a snapshot now I want a copy we how

00:37:49,760 --> 00:37:56,060
did these Keys now but for example in

00:37:52,820 --> 00:37:59,480
the world of databases you have a sort

00:37:56,060 --> 00:38:02,980
of continuous the backup you have

00:37:59,480 --> 00:38:07,450
journaling so every modification is sent

00:38:02,980 --> 00:38:10,360
somewhere else so if you machine crash

00:38:07,450 --> 00:38:14,180
you can recover this journal and

00:38:10,360 --> 00:38:18,860
recreate this state of the database in

00:38:14,180 --> 00:38:24,110
that moment so I was thinking if this

00:38:18,860 --> 00:38:29,060
kind of be Kappa can be managed in the

00:38:24,110 --> 00:38:36,740
same way the same infrastructure

00:38:29,060 --> 00:38:38,870
I would hope it can the more difficult

00:38:36,740 --> 00:38:43,220
but complicated situations like this we

00:38:38,870 --> 00:38:45,820
have the harder it becomes but a debian

00:38:43,220 --> 00:38:45,820
we can do it

00:38:45,900 --> 00:38:51,670
Martin was failing it sounds to me that

00:38:50,200 --> 00:38:53,170
if you do this at the user level you're

00:38:51,670 --> 00:38:56,320
going to have inconsistencies at some

00:38:53,170 --> 00:38:58,990
point in time and generally one thing

00:38:56,320 --> 00:39:00,580
you could do is LVM snapshot and so on

00:38:58,990 --> 00:39:02,339
but that would then require for every

00:39:00,580 --> 00:39:09,010
single Debian system to help every M

00:39:02,339 --> 00:39:11,619
which I don't think that is your goal

00:39:09,010 --> 00:39:13,900
but how have you thought about this have

00:39:11,619 --> 00:39:17,290
you thought about using a sort of

00:39:13,900 --> 00:39:18,880
standard btrfs there's a - without LVM

00:39:17,290 --> 00:39:20,410
there are the file systems out there

00:39:18,880 --> 00:39:22,180
that do it have you thought about using

00:39:20,410 --> 00:39:25,450
some sort of abstraction they are here

00:39:22,180 --> 00:39:29,349
or yes I think some kind of consistency

00:39:25,450 --> 00:39:34,240
needs to be attempted file system or

00:39:29,349 --> 00:39:37,119
Rock device level snapshots are not a

00:39:34,240 --> 00:39:38,980
complete solution because even if you

00:39:37,119 --> 00:39:41,020
take an L VM snapshot you can have an

00:39:38,980 --> 00:39:43,930
application that needs to write updates

00:39:41,020 --> 00:39:46,300
to files and it writes something to the

00:39:43,930 --> 00:39:49,420
first file you take a snapshot and the

00:39:46,300 --> 00:39:51,099
snapshot is inconsistent I'm not saying

00:39:49,420 --> 00:39:54,369
that this is a good way to write

00:39:51,099 --> 00:39:56,260
applications but raise your hand if

00:39:54,369 --> 00:40:02,410
you've ever noticed that programmers are

00:39:56,260 --> 00:40:04,390
a little bit stupid sometimes I don't

00:40:02,410 --> 00:40:08,710
have a solution for complete consistency

00:40:04,390 --> 00:40:10,540
I don't know if one exists but we can

00:40:08,710 --> 00:40:14,320
see what we can do and if we are

00:40:10,540 --> 00:40:18,490
consistent to a linear seven to fifteen

00:40:14,320 --> 00:40:20,770
nines that will be fine you had a

00:40:18,490 --> 00:40:25,119
question my question goes a bit in a

00:40:20,770 --> 00:40:28,000
similar direction you've already thought

00:40:25,119 --> 00:40:31,930
about that you would like to be able to

00:40:28,000 --> 00:40:37,630
plug in some functionality at will or to

00:40:31,930 --> 00:40:39,910
make it a bit modular because I've known

00:40:37,630 --> 00:40:42,970
you said you want to make it very

00:40:39,910 --> 00:40:47,619
generic so that it doesn't assume much

00:40:42,970 --> 00:40:51,030
but especially for consistency to assume

00:40:47,619 --> 00:40:53,950
some things can help but to make it

00:40:51,030 --> 00:40:56,140
required is a problem to cause maybe

00:40:53,950 --> 00:40:59,910
people don't have what FS for example

00:40:56,140 --> 00:41:03,580
this part of as you could to a snapshot

00:40:59,910 --> 00:41:05,619
database which probably uses everything

00:41:03,580 --> 00:41:07,570
to synchronize data and use the journal

00:41:05,619 --> 00:41:11,410
file you can get away with the snapshot

00:41:07,570 --> 00:41:13,119
I think and you can even ask what ifs

00:41:11,410 --> 00:41:15,010
use the old snapshot and the new

00:41:13,119 --> 00:41:17,050
snapshot and only diff media files and

00:41:15,010 --> 00:41:20,140
it has the new files within a very short

00:41:17,050 --> 00:41:22,359
time a shorter time that any find will

00:41:20,140 --> 00:41:25,570
find the files on the under disk for

00:41:22,359 --> 00:41:27,940
example yeah do you think of ways to

00:41:25,570 --> 00:41:32,140
English integrate this functionality as

00:41:27,940 --> 00:41:34,000
an option and make it or do you what do

00:41:32,140 --> 00:41:38,640
you want to assume as a requirement on

00:41:34,000 --> 00:41:43,420
the machines what do you want to have

00:41:38,640 --> 00:41:45,609
about this a little bit but I thought it

00:41:43,420 --> 00:41:50,800
would be a really good idea to gather a

00:41:45,609 --> 00:41:54,520
group that thinks about this together

00:41:50,800 --> 00:41:59,200
because I'm a brain with a little stupid

00:41:54,520 --> 00:42:02,410
there so I'm not really smart all the

00:41:59,200 --> 00:42:05,109
time sometimes I do really stupid things

00:42:02,410 --> 00:42:08,680
like give very short talks and long QA

00:42:05,109 --> 00:42:10,720
sessions I think you will this will have

00:42:08,680 --> 00:42:13,680
to be the final question perhaps we

00:42:10,720 --> 00:42:13,680
could have time for one more

00:42:13,980 --> 00:42:19,510
hello and I thought it would seem

00:42:16,920 --> 00:42:25,450
necessary that individual packages

00:42:19,510 --> 00:42:28,030
dictate files that should not be backed

00:42:25,450 --> 00:42:30,190
up you know like individual packages

00:42:28,030 --> 00:42:31,690
provided an exclude list so that

00:42:30,190 --> 00:42:33,780
individual package maintainers can

00:42:31,690 --> 00:42:35,890
specify that instead of trying to do a

00:42:33,780 --> 00:42:40,000
comprehensive database within one backup

00:42:35,890 --> 00:42:43,400
tool also and for individual packages I

00:42:40,000 --> 00:42:45,090
was thinking databases to provide a

00:42:43,400 --> 00:42:48,609
[Music]

00:42:45,090 --> 00:42:50,140
script to be triggered in case they need

00:42:48,609 --> 00:42:54,340
to know that a backups about to start or

00:42:50,140 --> 00:42:55,810
even to dump out a backup if you're

00:42:54,340 --> 00:42:58,390
liking the Postgres situation if you did

00:42:55,810 --> 00:43:01,390
want to create a full dump that could be

00:42:58,390 --> 00:43:03,880
backed up more easily than the contents

00:43:01,390 --> 00:43:05,470
of our lab you could exclude the package

00:43:03,880 --> 00:43:06,970
the post ghost package could exclude Val

00:43:05,470 --> 00:43:11,810
Lib pause-press

00:43:06,970 --> 00:43:14,690
and create more flat backup elsewhere at

00:43:11,810 --> 00:43:15,050
two requests in the backup program yeah

00:43:14,690 --> 00:43:17,390
I agree

00:43:15,050 --> 00:43:21,650
and in general we need to be able to

00:43:17,390 --> 00:43:23,600
accommodate these kind of special needs

00:43:21,650 --> 00:43:25,520
of things that do anything except have a

00:43:23,600 --> 00:43:28,900
single file that they never write to

00:43:25,520 --> 00:43:32,090
because that would be released back up I

00:43:28,900 --> 00:43:34,210
think we are out of time I don't know if

00:43:32,090 --> 00:43:37,880
there are not further questions so we

00:43:34,210 --> 00:43:41,960
thank your lasso okay do you want to

00:43:37,880 --> 00:43:45,200
allow one quick question it's not so

00:43:41,960 --> 00:43:47,840
much a question but the scope of what

00:43:45,200 --> 00:43:50,510
you're proposing is huge and I'm

00:43:47,840 --> 00:43:52,070
thinking and the ambition level of it is

00:43:50,510 --> 00:43:54,860
huge and I'm thinking he might be

00:43:52,070 --> 00:43:57,260
helpful if you kind of like prioritize

00:43:54,860 --> 00:43:59,540
some kind of scope on this because there

00:43:57,260 --> 00:44:01,310
are so many uses it's your use

00:43:59,540 --> 00:44:03,440
situations but Debian and it's used in

00:44:01,310 --> 00:44:06,350
so many ways that if you kind of make us

00:44:03,440 --> 00:44:10,190
an application I can do work in every

00:44:06,350 --> 00:44:12,130
situation absolutely it's very ambitious

00:44:10,190 --> 00:44:14,930
I'm not saying it can't be done but uh

00:44:12,130 --> 00:44:17,230
how you'd use it in the real world might

00:44:14,930 --> 00:44:22,520
be a problem some kind of scope and

00:44:17,230 --> 00:44:26,870
ambition would be good I agree and my

00:44:22,520 --> 00:44:28,940
first cope would be to backup files that

00:44:26,870 --> 00:44:30,500
are don't require that are not databases

00:44:28,940 --> 00:44:35,660
or record any kind of special handling

00:44:30,500 --> 00:44:39,020
because that's doable for stretch and if

00:44:35,660 --> 00:44:42,590
you can then start adding hooks and so

00:44:39,020 --> 00:44:44,600
on for stretch plus one yeah plenty of

00:44:42,590 --> 00:44:46,640
time thank you

00:44:44,600 --> 00:44:50,000
lorrison thanks all for coming this

00:44:46,640 --> 00:44:51,740
country's second the talk to see

00:44:50,000 --> 00:44:54,910
afternoon

00:44:51,740 --> 00:44:54,910

YouTube URL: https://www.youtube.com/watch?v=ajCKj4BHb4g


