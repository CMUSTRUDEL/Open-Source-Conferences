Title: debootstrap update
Publication date: 2019-08-06
Playlist: DebConf 19
Description: 
	by Hideki Yamane

At: DebConf19
https://debconf19.debconf.org/talks/120-debootstrap-update/

debootstrap is one of the important pieces for debian-installer, debian-based containers, and so on. As a one of its maintainers, I'll introduce the changes (and fails ;) in debootstrap in Debian10 and discuss more changes in the future.

https://tracker.debian.org/pkg/debootstrap

Room: AuditÃ³rio
Scheduled start: 2019-07-22 13:30:00
Captions: 
	00:00:04,580 --> 00:00:15,379
I said talk about Davis Turner the

00:00:09,889 --> 00:00:19,850
bootstrap I am Ishita kiamana from Japan

00:00:15,379 --> 00:00:21,860
and I maintain some packages and do some

00:00:19,850 --> 00:00:26,570
translation work from English to

00:00:21,860 --> 00:00:30,500
Japanese and one of Mira server admins

00:00:26,570 --> 00:00:39,110
in Japan and also I wrote about Debian

00:00:30,500 --> 00:00:43,340
in Japanese tech magazines but I confess

00:00:39,110 --> 00:00:47,930
I don't touch this club called these

00:00:43,340 --> 00:00:53,059
days really because there was a freeze

00:00:47,930 --> 00:01:04,579
for posture and also a little monster is

00:00:53,059 --> 00:01:07,460
my time so back to Davis trot I'll talk

00:01:04,579 --> 00:01:17,810
about the changes between stretch to

00:01:07,460 --> 00:01:23,090
Buster from wall zero 90210 140 and my

00:01:17,810 --> 00:01:27,889
contribution was since while the nine

00:01:23,090 --> 00:01:30,469
three truss a many warm and most of

00:01:27,889 --> 00:01:34,579
Labor told me last year because of

00:01:30,469 --> 00:01:35,420
little most I ate my time and concrete

00:01:34,579 --> 00:01:39,109
changer

00:01:35,420 --> 00:01:46,249
please see the package changer of

00:01:39,109 --> 00:01:51,079
desert-y I started to try with this drop

00:01:46,249 --> 00:01:55,549
because of docker most of you know our

00:01:51,079 --> 00:01:59,869
rip git repo was moved from adios to

00:01:55,549 --> 00:02:02,779
salsa and the South Gate lab has great

00:01:59,869 --> 00:02:08,810
is great feature about the CI

00:02:02,779 --> 00:02:14,750
integration and then continuous build on

00:02:08,810 --> 00:02:17,880
salsa is fine was fine also and but when

00:02:14,750 --> 00:02:21,510
I try to learn TI u parts on

00:02:17,880 --> 00:02:24,030
sir-sir it doesn't walk because babies

00:02:21,510 --> 00:02:29,250
trap does not work on docker container

00:02:24,030 --> 00:02:32,360
at that time so okay I'll look into

00:02:29,250 --> 00:02:32,360
death drop

00:02:32,630 --> 00:02:40,160
how many you know don't know about

00:02:35,450 --> 00:02:44,340
tables drop freeze it your hands one two

00:02:40,160 --> 00:02:48,600
maybe three David's trap is important

00:02:44,340 --> 00:02:52,440
and powerful too maybe you use it

00:02:48,600 --> 00:02:57,270
without noticing it you can create

00:02:52,440 --> 00:03:02,570
Debian Ubuntu other Shh root environment

00:02:57,270 --> 00:03:06,840
and container easily and the many tools

00:03:02,570 --> 00:03:12,410
dependent on table - slab like Debian

00:03:06,840 --> 00:03:19,820
installer people call builder Pru parts

00:03:12,410 --> 00:03:22,890
so if I broke broke death drop many many

00:03:19,820 --> 00:03:25,860
developers angry with me hey I'm

00:03:22,890 --> 00:03:32,900
understand why you have brought table

00:03:25,860 --> 00:03:37,140
SWAT but it's they've drop is importance

00:03:32,900 --> 00:03:43,620
piece of software but easy to hack it's

00:03:37,140 --> 00:03:46,560
just surfing cell script and it was less

00:03:43,620 --> 00:03:55,560
maintained at that time many many

00:03:46,560 --> 00:03:58,800
patches on meetings so I thought I can

00:03:55,560 --> 00:04:05,430
push those patches on videos without

00:03:58,800 --> 00:04:12,840
much effort I just integrate patch to

00:04:05,430 --> 00:04:18,350
the main branch and push it then I push

00:04:12,840 --> 00:04:18,350
the my changes to debit drop

00:04:18,959 --> 00:04:26,880
so there was a lot of bugs it doesn't

00:04:22,500 --> 00:04:30,180
work for your messages or Saturday

00:04:26,880 --> 00:04:33,090
failed support this environment please

00:04:30,180 --> 00:04:39,479
and the gable trapeze

00:04:33,090 --> 00:04:45,690
slow freeze at dispatch it doesn't work

00:04:39,479 --> 00:04:49,320
so let's try to return you see but it's

00:04:45,690 --> 00:04:52,860
a report was submitted four five six or

00:04:49,320 --> 00:04:56,580
ten years ago so I should try to

00:04:52,860 --> 00:04:58,650
reproduce it with get over a snapshot

00:04:56,580 --> 00:05:00,500
Debbie Annette and if we are all good

00:04:58,650 --> 00:05:05,940
now

00:05:00,500 --> 00:05:14,880
then target over make a patch and push

00:05:05,940 --> 00:05:17,099
it so adjust releases with the open to

00:05:14,880 --> 00:05:26,580
old one and Debbie a lot one and the odd

00:05:17,099 --> 00:05:30,360
for Kali Linux and this work is it

00:05:26,580 --> 00:05:36,060
doesn't carry components across for him

00:05:30,360 --> 00:05:41,699
and second stage option you can look

00:05:36,060 --> 00:05:47,010
this first we specify the components as

00:05:41,699 --> 00:05:52,949
main contribute and not free but but it

00:05:47,010 --> 00:06:04,289
leads out it just had only may I fix it

00:05:52,949 --> 00:06:09,300
at 100 102 measured and Dibble drop can

00:06:04,289 --> 00:06:15,090
make one turbo and they can use it but

00:06:09,300 --> 00:06:21,240
it doesn't work if you create the turbo

00:06:15,090 --> 00:06:27,300
and you will you would use it this stuff

00:06:21,240 --> 00:06:32,150
just ignore it so I fix it at the Badger

00:06:27,300 --> 00:06:32,150
one or 108

00:06:34,030 --> 00:06:45,310
for a message sergeant silently failed

00:06:38,840 --> 00:06:45,310
I added some purpose message to develop

00:06:46,240 --> 00:06:55,060
please and the principle system LeAnn's

00:06:49,700 --> 00:07:00,050
palm live but Alexei P route took etc

00:06:55,060 --> 00:07:00,950
but it's it's bit complicated so I did

00:07:00,050 --> 00:07:10,160
it later

00:07:00,950 --> 00:07:12,890
I add some check code it in alexey

00:07:10,160 --> 00:07:15,230
environment and axially but environment

00:07:12,890 --> 00:07:19,670
o system the environment

00:07:15,230 --> 00:07:26,800
Oh doc maybe we can use another one on

00:07:19,670 --> 00:07:31,010
it so now we can learn a table flop on

00:07:26,800 --> 00:07:37,220
system D and small container environment

00:07:31,010 --> 00:07:39,800
and also the but Alexei support it's

00:07:37,220 --> 00:07:45,530
it's it's purchased from the federal

00:07:39,800 --> 00:07:49,190
people but it's it's downstream Red Hat

00:07:45,530 --> 00:07:53,990
Enterprise Linux has already terminated

00:07:49,190 --> 00:08:00,340
is support but federal people sent me

00:07:53,990 --> 00:08:05,540
send it to the AVR so I'm imagining and

00:08:00,340 --> 00:08:10,340
docker support was integrated now but

00:08:05,540 --> 00:08:15,500
not me but they not work with Padma

00:08:10,340 --> 00:08:22,880
Padma is similar to talk by Red Hat but

00:08:15,500 --> 00:08:25,610
I didn't try to use it and some people

00:08:22,880 --> 00:08:29,930
says they will drop it slow

00:08:25,610 --> 00:08:32,960
Oh No so I add the old proxy detection

00:08:29,930 --> 00:08:36,640
support and cache directory support and

00:08:32,960 --> 00:08:42,469
a master optimized dependency

00:08:36,640 --> 00:08:45,210
distribution code one is the auth detect

00:08:42,469 --> 00:08:51,660
dev squid proxy support

00:08:45,210 --> 00:08:54,930
at Burger 1 0 96 so if you learn on then

00:08:51,660 --> 00:08:58,230
let's create proxy on your local network

00:08:54,930 --> 00:09:00,740
then death drop automatically detects it

00:08:58,230 --> 00:09:00,740
and use it

00:09:02,910 --> 00:09:14,760
table flop is just download some files

00:09:06,990 --> 00:09:18,960
from the repository by a delegate and so

00:09:14,760 --> 00:09:23,220
I thought I just used as the downloaded

00:09:18,960 --> 00:09:29,160
thread downloaded packages can use this

00:09:23,220 --> 00:09:33,200
food devil swap so I try to add cache

00:09:29,160 --> 00:09:38,010
directory support it's so tiny changes

00:09:33,200 --> 00:09:42,060
it just three files changed statistics

00:09:38,010 --> 00:09:51,560
insert insert insert Asian and 3d

00:09:42,060 --> 00:09:58,380
rotation but it's significant result at

00:09:51,560 --> 00:10:02,640
100 97 without a local cache it takes

00:09:58,380 --> 00:10:06,900
three meet and 40 seconds with local

00:10:02,640 --> 00:10:12,930
cache it's just one minute and 50

00:10:06,900 --> 00:10:17,430
seconds almost half and it also applied

00:10:12,930 --> 00:10:24,750
to P builder PBO used to create the best

00:10:17,430 --> 00:10:27,450
eg that the width is support cast

00:10:24,750 --> 00:10:33,870
directly support it takes three minutes

00:10:27,450 --> 00:10:37,560
and 34 seconds and pride the youth to

00:10:33,870 --> 00:10:42,690
the cash directly support it takes the 2

00:10:37,560 --> 00:10:51,360
minute and 50 seconds so it videos 40

00:10:42,690 --> 00:10:55,550
seconds and I pushed the optimization

00:10:51,360 --> 00:11:00,350
code to the devil strap it

00:10:55,550 --> 00:11:04,590
optimize that dependency leadership and

00:11:00,350 --> 00:11:08,580
maybe the before this this change and

00:11:04,590 --> 00:11:12,360
after this change you can you can see

00:11:08,580 --> 00:11:24,030
the significant difference with Davis

00:11:12,360 --> 00:11:28,920
drop you so much most of you not love

00:11:24,030 --> 00:11:32,910
the user much but I push it to the devil

00:11:28,920 --> 00:11:41,040
 and now it it was enabled by

00:11:32,910 --> 00:11:44,630
default but not in the building and I

00:11:41,040 --> 00:11:54,660
try to fill some bags and bags and bags

00:11:44,630 --> 00:11:58,950
so look the dances are almost half I've

00:11:54,660 --> 00:12:05,490
fixed they're almost 50 but during the

00:11:58,950 --> 00:12:10,740
phone stretch to person but what we need

00:12:05,490 --> 00:12:15,680
for table flop is more ice your eyes and

00:12:10,740 --> 00:12:20,550
your hands and also you are praying so

00:12:15,680 --> 00:12:28,460
people please look at this repository

00:12:20,550 --> 00:12:28,460
and pull the code and try to try with it

00:12:30,020 --> 00:12:39,800
recently I am so busy to play with my

00:12:34,440 --> 00:12:47,070
son so the bank numbers are a little bit

00:12:39,800 --> 00:12:50,240
increasing so so I need your eyes and

00:12:47,070 --> 00:12:50,240
hands and frame

00:12:52,590 --> 00:13:00,540
and also I am interested in to use Deb

00:12:56,190 --> 00:13:03,870
strap for the immune system or container

00:13:00,540 --> 00:13:10,200
or non-trivial system environment like

00:13:03,870 --> 00:13:13,800
the net vs the eurozone and still had

00:13:10,200 --> 00:13:19,140
like their fair share truth

00:13:13,800 --> 00:13:24,210
support and compressed dependency

00:13:19,140 --> 00:13:28,140
resolution to use the virtual package to

00:13:24,210 --> 00:13:36,060
exclude include packages it's so

00:13:28,140 --> 00:13:41,730
complicated so I want your help that's

00:13:36,060 --> 00:13:56,100
all just all my talk thank you for your

00:13:41,730 --> 00:13:58,790
listening and still we have time five

00:13:56,100 --> 00:13:58,790
minutes or so

00:14:02,560 --> 00:14:13,279
if you have any question comment please

00:14:05,750 --> 00:14:21,529
later Han nothing you are satisfied with

00:14:13,279 --> 00:14:26,750
the bootstrap oh great thank but I need

00:14:21,529 --> 00:14:30,440
more help from you yeah

00:14:26,750 --> 00:14:33,860
Davis slope is easy shell suit shell

00:14:30,440 --> 00:14:37,350
script you can provide it with fun

00:14:33,860 --> 00:14:44,509
please do so thank you

00:14:37,350 --> 00:14:44,509

YouTube URL: https://www.youtube.com/watch?v=6GW3k763xqw


