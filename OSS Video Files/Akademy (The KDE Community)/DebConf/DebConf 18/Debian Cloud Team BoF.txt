Title: Debian Cloud Team BoF
Publication date: 2018-07-31
Playlist: DebConf 18
Description: 
	by Steve McIntyre
by Tomasz Rybak
by Thomas Goirand

At: DebConf18
https://debconf18.debconf.org/talks/105-debian-cloud-team-bof/

Discussion session for the Debian Cloud team:

- status on official images
- tools for building our images
- etc…

Room: Zhongyangjianshan (中央尖山)
Scheduled start: 2018-07-30 11:00:00
Captions: 
	00:00:04,610 --> 00:00:15,650
hello everybody welcome to the cloud

00:00:10,160 --> 00:00:18,340
above here are some of the members of

00:00:15,650 --> 00:00:21,349
the cloud team as exists at the moment

00:00:18,340 --> 00:00:24,710
there's a bunch more people who couldn't

00:00:21,349 --> 00:00:28,759
make it to Taiwan this year and due to

00:00:24,710 --> 00:00:30,140
the sheer number time zones between us

00:00:28,759 --> 00:00:32,509
and them unfortunately they're probably

00:00:30,140 --> 00:00:35,920
not going to be an IOC either but you

00:00:32,509 --> 00:00:39,800
know they're with us in spirit at least

00:00:35,920 --> 00:00:42,350
so we'll get on to other things in a

00:00:39,800 --> 00:00:44,929
moment but I will ask a couple of quick

00:00:42,350 --> 00:00:50,690
questions first who here has actually

00:00:44,929 --> 00:00:55,670
used any of the Debian cloud images we

00:00:50,690 --> 00:01:02,629
have users awesome and did they work ok

00:00:55,670 --> 00:01:06,950
for you yeah ish ok so what we want to

00:01:02,629 --> 00:01:12,020
go through today is a quick discussion

00:01:06,950 --> 00:01:16,700
of what we've done in the last year or

00:01:12,020 --> 00:01:20,000
so and what our plans are for the I

00:01:16,700 --> 00:01:22,490
guess for the coming year we still have

00:01:20,000 --> 00:01:24,230
a lot of work to do it's like a lot of

00:01:22,490 --> 00:01:27,410
things in Debian the work is basically

00:01:24,230 --> 00:01:29,590
open-ended we are still continuing to

00:01:27,410 --> 00:01:35,870
try and work together to improve things

00:01:29,590 --> 00:01:37,670
feedback on what people are finding with

00:01:35,870 --> 00:01:40,270
the images were making and obviously

00:01:37,670 --> 00:01:43,220
offers of more help are always welcome

00:01:40,270 --> 00:01:45,230
this is very much above this is not a

00:01:43,220 --> 00:01:47,030
presentation although we have a whole

00:01:45,230 --> 00:01:48,920
bunch of us here it's just because

00:01:47,030 --> 00:01:51,860
there's a bunch of people doing work in

00:01:48,920 --> 00:01:55,880
this area please don't hesitate to ask

00:01:51,860 --> 00:01:58,820
questions or you know pass your thoughts

00:01:55,880 --> 00:02:02,170
on as and when I said this is not a

00:01:58,820 --> 00:02:05,510
presentation this is a conversation ok

00:02:02,170 --> 00:02:07,790
so how much you have the agenda yes so

00:02:05,510 --> 00:02:11,280
let's start a bit with status updates

00:02:07,790 --> 00:02:14,690
what we did we got spring

00:02:11,280 --> 00:02:19,070
in Seattle last October or November

00:02:14,690 --> 00:02:22,770
which got even mentioned by DPN yeah

00:02:19,070 --> 00:02:26,610
there we were working on moving our

00:02:22,770 --> 00:02:29,910
build systems to fai mostly which is

00:02:26,610 --> 00:02:31,980
still working progress and on testing of

00:02:29,910 --> 00:02:34,230
images we have some scripts but they are

00:02:31,980 --> 00:02:36,920
not yet integrated fully into our build

00:02:34,230 --> 00:02:39,360
process and are not working yet on all

00:02:36,920 --> 00:02:42,540
cloud providers so this is also

00:02:39,360 --> 00:02:46,020
something to do in the meantime we also

00:02:42,540 --> 00:02:52,350
moved to salsa all of our repositories

00:02:46,020 --> 00:02:57,080
I became didi and I got access to

00:02:52,350 --> 00:02:57,080
Khurana so I can now run those tests to

00:02:57,140 --> 00:03:05,940
that that we work only in Seattle Helen

00:03:00,270 --> 00:03:07,920
o star is starting opening nm process so

00:03:05,940 --> 00:03:11,040
we will probably got more and more

00:03:07,920 --> 00:03:13,850
members who have access to receive the

00:03:11,040 --> 00:03:19,370
Debian machines and we can work on more

00:03:13,850 --> 00:03:22,470
and more basically more automated more

00:03:19,370 --> 00:03:26,160
bulletproof Pacific because we also

00:03:22,470 --> 00:03:30,660
moved to to south we should probably

00:03:26,160 --> 00:03:34,080
start thinking about more CIE CD process

00:03:30,660 --> 00:03:39,900
of building those images more automation

00:03:34,080 --> 00:03:43,200
less human interaction so one of the

00:03:39,900 --> 00:03:46,230
things that we've been doing is getting

00:03:43,200 --> 00:03:48,959
together these Sprint's so far they've

00:03:46,230 --> 00:03:51,299
been hosted by the big cloud platforms

00:03:48,959 --> 00:03:55,230
we've had two sprints in Seattle so far

00:03:51,299 --> 00:03:56,850
the first hosted by Google and then we

00:03:55,230 --> 00:04:00,570
were hosted by we might have Microsoft

00:03:56,850 --> 00:04:04,049
Microsoft agile team last year we're

00:04:00,570 --> 00:04:08,670
hoping to have another sprint this

00:04:04,049 --> 00:04:10,500
autumn the folks at digitalocean offered

00:04:08,670 --> 00:04:13,459
to host was last year and we're just

00:04:10,500 --> 00:04:17,579
starting to organize logistics for that

00:04:13,459 --> 00:04:19,000
one of the really warming things one of

00:04:17,579 --> 00:04:22,210
the really great things about

00:04:19,000 --> 00:04:25,170
working in this team is we can see that

00:04:22,210 --> 00:04:27,100
a lot of companies are not just

00:04:25,170 --> 00:04:30,220
consuming what we do but they're

00:04:27,100 --> 00:04:33,370
actively getting involved so we have

00:04:30,220 --> 00:04:35,920
people inside Amazon inside Microsoft

00:04:33,370 --> 00:04:39,960
inside Google who are directly working

00:04:35,920 --> 00:04:43,750
with us on producing and testing

00:04:39,960 --> 00:04:46,950
official Debian cloud images and that's

00:04:43,750 --> 00:04:51,070
a really really nice thing to see yeah

00:04:46,950 --> 00:04:54,280
so I just want to give a little bit of

00:04:51,070 --> 00:04:56,650
background the people who doesn't really

00:04:54,280 --> 00:04:59,890
know what we are doing so what we want

00:04:56,650 --> 00:05:03,220
to achieve so we want to build official

00:04:59,890 --> 00:05:07,510
Debian image for the cloud providers so

00:05:03,220 --> 00:05:10,800
that we trust we ask as a community and

00:05:07,510 --> 00:05:14,860
assign it by Debian going through the

00:05:10,800 --> 00:05:19,540
queue way from bagging with a lot of

00:05:14,860 --> 00:05:22,870
testing so users can trust this image so

00:05:19,540 --> 00:05:25,419
to achieve this we need an

00:05:22,870 --> 00:05:27,760
infrastructure to build all these images

00:05:25,419 --> 00:05:31,150
and this infrastructure is going to be

00:05:27,760 --> 00:05:35,680
built in machine called catalana is what

00:05:31,150 --> 00:05:38,590
he mentioned and we also need the test

00:05:35,680 --> 00:05:41,860
infrastructure so the current planning

00:05:38,590 --> 00:05:45,370
for testing is analyzing the imagery the

00:05:41,860 --> 00:05:47,260
image aesthetically mounting needs the

00:05:45,370 --> 00:05:50,950
point and local machine then deploying

00:05:47,260 --> 00:05:53,560
in the providers to check if everything

00:05:50,950 --> 00:05:58,620
works well so we have already planned

00:05:53,560 --> 00:06:04,090
how to implement those infrastructure

00:05:58,620 --> 00:06:06,490
but it's working progress yet one other

00:06:04,090 --> 00:06:10,630
area where we made progress in the past

00:06:06,490 --> 00:06:12,310
year is that there is no cloud flavor in

00:06:10,630 --> 00:06:19,450
the kernel so there is an additional

00:06:12,310 --> 00:06:23,430
kernel image debian package that have a

00:06:19,450 --> 00:06:27,610
lot of for cloud providers not needed

00:06:23,430 --> 00:06:28,469
parts removed from k config file so for

00:06:27,610 --> 00:06:33,490
example PC

00:06:28,469 --> 00:06:36,699
I think it's removed some video camera

00:06:33,490 --> 00:06:39,069
staff and so on which makes booting the

00:06:36,699 --> 00:06:42,909
Machine faster on the clock provider

00:06:39,069 --> 00:06:46,110
side and and the image and makes the

00:06:42,909 --> 00:06:50,289
image is smaller this is something that

00:06:46,110 --> 00:06:52,629
also got except by the kernel team and

00:06:50,289 --> 00:07:03,340
by FTP masters we have an additional

00:06:52,629 --> 00:07:05,650
package okay so what images are the

00:07:03,340 --> 00:07:09,129
cloud team responsible for like do you

00:07:05,650 --> 00:07:14,469
also are maintaining the docker images

00:07:09,129 --> 00:07:18,400
in the vagrant image no it's something

00:07:14,469 --> 00:07:21,490
that so far love me we've been not great

00:07:18,400 --> 00:07:25,509
at talking to the folks who were

00:07:21,490 --> 00:07:26,770
building those I keep on mentioning it

00:07:25,509 --> 00:07:29,259
and I must admit I actually need to

00:07:26,770 --> 00:07:31,150
actually know to talk to the talk to

00:07:29,259 --> 00:07:34,150
people sit down with them and and work

00:07:31,150 --> 00:07:35,589
out is how much overlap there is with

00:07:34,150 --> 00:07:37,509
what we're they're doing what we're

00:07:35,589 --> 00:07:40,180
doing and does it make sense to actually

00:07:37,509 --> 00:07:42,190
collaborate more yes but are these

00:07:40,180 --> 00:07:45,370
images being maintained by Debian people

00:07:42,190 --> 00:07:48,279
right now just from not they are not in

00:07:45,370 --> 00:07:51,039
the team is that right so it used to be

00:07:48,279 --> 00:07:54,190
that the docker image was made by poll

00:07:51,039 --> 00:07:58,509
tag yes I'm not sure if it's still the

00:07:54,190 --> 00:08:03,009
case and for the vagrant images

00:07:58,509 --> 00:08:06,759
emanuelle is building them and we also

00:08:03,009 --> 00:08:13,479
have the file configuration for vagrant

00:08:06,759 --> 00:08:14,949
images okay thank you and it's precisely

00:08:13,479 --> 00:08:18,750
because you have to ask that question

00:08:14,949 --> 00:08:18,750
that we need to make official images

00:08:23,160 --> 00:08:28,270
so one of the reasons that the cloud

00:08:25,510 --> 00:08:29,800
team even started having these

00:08:28,270 --> 00:08:34,150
discussions and trying to work together

00:08:29,800 --> 00:08:36,310
was that very reason over the last few

00:08:34,150 --> 00:08:39,520
years obviously as use of the cloud use

00:08:36,310 --> 00:08:42,700
of containers as has taken off a huge

00:08:39,520 --> 00:08:45,850
amount we've had people come to was

00:08:42,700 --> 00:08:49,030
asking exactly those questions so inside

00:08:45,850 --> 00:08:50,680
Amazon or inside Google or whatever I

00:08:49,030 --> 00:08:53,410
can see these images that claim to be

00:08:50,680 --> 00:08:56,160
Debian how do I know it's Debian how do

00:08:53,410 --> 00:08:58,570
I know it doesn't have malware included

00:08:56,160 --> 00:09:00,790
that's one of the reasons why we're

00:08:58,570 --> 00:09:05,170
trying to do this we want to make sure

00:09:00,790 --> 00:09:07,120
that people can find easily find at the

00:09:05,170 --> 00:09:09,940
official images that are blessed by the

00:09:07,120 --> 00:09:11,770
by the Debian cloud team and also

00:09:09,940 --> 00:09:14,620
blessed by the providers were they're

00:09:11,770 --> 00:09:16,840
running to make sure that a the images

00:09:14,620 --> 00:09:18,520
are safe clean you know you don't want

00:09:16,840 --> 00:09:20,850
to have lots and lots of random non free

00:09:18,520 --> 00:09:23,680
stuff included even if it's not malware

00:09:20,850 --> 00:09:25,450
but equally you want it to behave well

00:09:23,680 --> 00:09:27,490
you want it to interact well with the

00:09:25,450 --> 00:09:29,230
platform it's running on so you get good

00:09:27,490 --> 00:09:33,130
performance you know you get all the

00:09:29,230 --> 00:09:35,290
features that you need and the cloud

00:09:33,130 --> 00:09:38,980
providers acknowledged and understood

00:09:35,290 --> 00:09:41,890
that it is crucial to the project that

00:09:38,980 --> 00:09:46,090
or also to their customers

00:09:41,890 --> 00:09:50,760
that they are providing images that the

00:09:46,090 --> 00:09:50,760
community can trust is real Debian

00:09:55,780 --> 00:10:02,140
so on top of obviously the the three big

00:09:59,890 --> 00:10:06,250
commercial cloud platforms we've already

00:10:02,140 --> 00:10:09,040
mentioned we've been making OpenStack

00:10:06,250 --> 00:10:12,430
images for very long time using other

00:10:09,040 --> 00:10:16,690
workers egos but has done we have those

00:10:12,430 --> 00:10:18,160
four amd64 and also for armed 64 which

00:10:16,690 --> 00:10:20,340
is something that I'm quite happy with

00:10:18,160 --> 00:10:25,690
speaking as a normal employee

00:10:20,340 --> 00:10:29,050
I very much sorry I very much would like

00:10:25,690 --> 00:10:30,640
to add PP CL 64 on issues that I don't

00:10:29,050 --> 00:10:34,180
have access to such a cloud to be able

00:10:30,640 --> 00:10:37,990
to test it so this is a button in the in

00:10:34,180 --> 00:10:40,960
the sea if you know someone at IBM or

00:10:37,990 --> 00:10:43,710
another company that has a cloud on pbc

00:10:40,960 --> 00:10:46,420
L 64 please get in touch

00:10:43,710 --> 00:10:48,850
obviously we want to provide images that

00:10:46,420 --> 00:10:51,310
are useful on every platform were they

00:10:48,850 --> 00:10:52,990
useful so if there are any other

00:10:51,310 --> 00:10:56,320
platforms and the other providers that

00:10:52,990 --> 00:11:00,220
we don't provide stuff for please talk

00:10:56,320 --> 00:11:02,110
to us we know that there are many many

00:11:00,220 --> 00:11:06,730
more than just the three or four that

00:11:02,110 --> 00:11:08,230
we've mentioned so far but you know we

00:11:06,730 --> 00:11:10,120
need to know about them we need to work

00:11:08,230 --> 00:11:16,200
with people and we need to make things

00:11:10,120 --> 00:11:22,480
happen okay do we move till now FAI and

00:11:16,200 --> 00:11:26,380
status of images so um where we started

00:11:22,480 --> 00:11:29,080
form was that each different cloud image

00:11:26,380 --> 00:11:32,140
was built using its owns in a special

00:11:29,080 --> 00:11:34,510
snowflake - link it's a matter of record

00:11:32,140 --> 00:11:36,520
in Debian we have far too many different

00:11:34,510 --> 00:11:39,820
image building tools I remember a week

00:11:36,520 --> 00:11:41,860
who told us was it eleven twelve that

00:11:39,820 --> 00:11:45,820
you found in your your talk in

00:11:41,860 --> 00:11:49,360
Heidelberg sorry oh yeah and we keep

00:11:45,820 --> 00:11:52,390
getting new ones one of the things that

00:11:49,360 --> 00:11:55,060
we we've agreed with in the cloud team

00:11:52,390 --> 00:11:56,560
is we don't want to carry on using

00:11:55,060 --> 00:11:59,260
different tools for different images

00:11:56,560 --> 00:12:01,660
because fundamentally the similarities

00:11:59,260 --> 00:12:04,000
between our images are much more than

00:12:01,660 --> 00:12:06,330
the differences we want to be able to

00:12:04,000 --> 00:12:08,730
provide something that is common

00:12:06,330 --> 00:12:11,010
we'll give you the same feature set as

00:12:08,730 --> 00:12:12,780
closely as possible across any platform

00:12:11,010 --> 00:12:14,670
that you run it on there will be

00:12:12,780 --> 00:12:16,830
differences for example there's no point

00:12:14,670 --> 00:12:19,050
running the Microsoft w-a agent in

00:12:16,830 --> 00:12:21,630
OpenStack there's no point one in the

00:12:19,050 --> 00:12:27,890
Google tools if you're running or you

00:12:21,630 --> 00:12:31,230
know on Azure we want to make sure that

00:12:27,890 --> 00:12:34,080
also other people can take what we have

00:12:31,230 --> 00:12:36,450
and either derive their own images fold

00:12:34,080 --> 00:12:38,810
them or use the configuration that we've

00:12:36,450 --> 00:12:42,060
come up with how's a good base and

00:12:38,810 --> 00:12:44,610
either build their own images extend no

00:12:42,060 --> 00:12:46,350
share their own images obviously Debian

00:12:44,610 --> 00:12:48,780
is free software we want people to go

00:12:46,350 --> 00:12:52,650
away and do though and work on top of it

00:12:48,780 --> 00:12:54,930
that's that's the whole point so after a

00:12:52,650 --> 00:12:57,120
lot of discussion at the first cloud

00:12:54,930 --> 00:13:00,090
sprint we have 18 months ago we we

00:12:57,120 --> 00:13:02,280
basically agreed we would be working

00:13:00,090 --> 00:13:05,390
together or trying to build all our

00:13:02,280 --> 00:13:09,210
images using FAI which is an

00:13:05,390 --> 00:13:11,400
increasingly I guess different area from

00:13:09,210 --> 00:13:13,020
where FAI started so it's not just fully

00:13:11,400 --> 00:13:18,720
automated installation we're now

00:13:13,020 --> 00:13:21,960
generating images and the nice features

00:13:18,720 --> 00:13:24,360
of FAI or that you can you have your own

00:13:21,960 --> 00:13:26,640
configuration which is separate from the

00:13:24,360 --> 00:13:28,770
scripts that build things so we can then

00:13:26,640 --> 00:13:33,200
easily publish the configurations that

00:13:28,770 --> 00:13:35,490
we have they're all free obviously

00:13:33,200 --> 00:13:39,060
they're easy for the people to then

00:13:35,490 --> 00:13:41,610
derive from and I think we're basically

00:13:39,060 --> 00:13:43,050
happy with it we haven't yet quite got

00:13:41,610 --> 00:13:46,340
to the stage where all avoid which is a

00:13:43,050 --> 00:13:51,210
built that way but it's working progress

00:13:46,340 --> 00:13:53,550
basically advantage of FAI is that there

00:13:51,210 --> 00:13:56,130
are classes so we we have some base

00:13:53,550 --> 00:13:58,380
classes for baby and then base classes

00:13:56,130 --> 00:14:01,770
for cloud image and then we are at in

00:13:58,380 --> 00:14:04,370
class for Amazon for Asia for whatever

00:14:01,770 --> 00:14:07,170
else and it just adds or removes

00:14:04,370 --> 00:14:09,930
packages that are needed or no not yet

00:14:07,170 --> 00:14:12,330
so so this is also good for people who

00:14:09,930 --> 00:14:14,490
want to build their own images they can

00:14:12,330 --> 00:14:16,760
take our set of classes and just add new

00:14:14,490 --> 00:14:20,540
add new variants or something

00:14:16,760 --> 00:14:23,630
I want to correct a little bit we are on

00:14:20,540 --> 00:14:26,240
the stage that we can build the images

00:14:23,630 --> 00:14:30,380
was fine the only thing that is missing

00:14:26,240 --> 00:14:33,080
is automatic continuous integration that

00:14:30,380 --> 00:14:35,900
the images are built on the Debian

00:14:33,080 --> 00:14:39,020
machines so if you want to give it a try

00:14:35,900 --> 00:14:42,080
and want to build an image you can just

00:14:39,020 --> 00:14:46,790
get the tools the configuration and do

00:14:42,080 --> 00:14:48,740
this on your own and also like a lot of

00:14:46,790 --> 00:14:50,480
volunteer projects the other thing we're

00:14:48,740 --> 00:14:53,020
missing is good documentation about how

00:14:50,480 --> 00:14:55,730
all of this works

00:14:53,020 --> 00:14:57,920
that's if anybody does want to help

00:14:55,730 --> 00:14:59,690
right now why today that would be an

00:14:57,920 --> 00:15:04,010
awesome thing would be to dive in with

00:14:59,690 --> 00:15:06,800
dogs oh I did another question I was

00:15:04,010 --> 00:15:09,350
just raising my hand to say let's hang

00:15:06,800 --> 00:15:11,900
out together later today and I like

00:15:09,350 --> 00:15:13,340
writing documentation be careful

00:15:11,900 --> 00:15:21,680
admitting that you'll get Watchi you I

00:15:13,340 --> 00:15:23,540
get lots of friends so that's the state

00:15:21,680 --> 00:15:25,940
of play of where we are today as I said

00:15:23,540 --> 00:15:28,670
we're hoping to organize another cloud

00:15:25,940 --> 00:15:32,360
sprint for ponies in November we're

00:15:28,670 --> 00:15:35,680
looking at so October November this year

00:15:32,360 --> 00:15:39,830
I said digitalocean offered to host

00:15:35,680 --> 00:15:41,990
their offices in New York we've not

00:15:39,830 --> 00:15:43,910
really started organizing it fully yet

00:15:41,990 --> 00:15:48,140
more details will be coming out on the

00:15:43,910 --> 00:15:50,060
mailing list and whatever shortly and we

00:15:48,140 --> 00:15:53,440
have the beginnings of an agenda being

00:15:50,060 --> 00:15:55,640
worked out we got together last night

00:15:53,440 --> 00:15:57,020
there will be more more things that we

00:15:55,640 --> 00:15:58,580
need to do we need to talk about and

00:15:57,020 --> 00:16:01,670
work on when we get together for a few

00:15:58,580 --> 00:16:03,860
days we do tend to work very well in the

00:16:01,670 --> 00:16:05,990
sprints and I must admit not quite so

00:16:03,860 --> 00:16:08,690
well not quite so publicly well outside

00:16:05,990 --> 00:16:11,270
of the sprints one of the things I've

00:16:08,690 --> 00:16:14,120
liked to have us do is be a bit more

00:16:11,270 --> 00:16:17,180
active publicly so that everyone else

00:16:14,120 --> 00:16:21,080
can see what work is going on and you

00:16:17,180 --> 00:16:22,820
know I liked in Debian if it not just to

00:16:21,080 --> 00:16:25,400
see things being done but to have things

00:16:22,820 --> 00:16:26,870
being very visibly done it's a great way

00:16:25,400 --> 00:16:27,699
of building a team it's a great way of

00:16:26,870 --> 00:16:29,649
getting more

00:16:27,699 --> 00:16:33,669
interested getting more people involved

00:16:29,649 --> 00:16:35,739
so so if we were to wrap up this first

00:16:33,669 --> 00:16:39,699
section with some comments the first one

00:16:35,739 --> 00:16:42,429
is that we moved everything to salsa

00:16:39,699 --> 00:16:45,519
we don't have CI turned on

00:16:42,429 --> 00:16:48,189
the way we want but when we do it can be

00:16:45,519 --> 00:16:51,910
watching git repos and be pushing to

00:16:48,189 --> 00:16:54,369
kazahana for build cos lana is a monster

00:16:51,910 --> 00:16:56,679
machine that Debian bought 18 months ago

00:16:54,369 --> 00:16:59,230
or so and we got fully up and running at

00:16:56,679 --> 00:17:01,779
the last sprint and it's where we build

00:16:59,230 --> 00:17:03,819
all the images although the providers

00:17:01,779 --> 00:17:06,130
are offering as VMs and are encouraging

00:17:03,819 --> 00:17:08,799
us to build on their infrastructure we

00:17:06,130 --> 00:17:12,240
maintain the principle that we build our

00:17:08,799 --> 00:17:16,419
images on infrastructure that we control

00:17:12,240 --> 00:17:19,269
and and I guess the last piece was we're

00:17:16,419 --> 00:17:21,610
interested in the ability to push images

00:17:19,269 --> 00:17:23,649
to a variety of providers sorry now we

00:17:21,610 --> 00:17:25,389
only push to three providers we do it

00:17:23,649 --> 00:17:27,130
kind of in a manual way and we could tie

00:17:25,389 --> 00:17:30,899
that in at the end of the CI process

00:17:27,130 --> 00:17:30,899
after test and validation

00:17:34,940 --> 00:17:40,800
so if I got correctly basically you

00:17:38,370 --> 00:17:43,260
would want to not only have continuous

00:17:40,800 --> 00:17:46,260
integration for the images but actually

00:17:43,260 --> 00:17:49,530
also continuous deployment to also cloud

00:17:46,260 --> 00:17:52,020
providers whenever something passes QA

00:17:49,530 --> 00:17:55,260
and we decide that yes this is there's a

00:17:52,020 --> 00:17:57,960
new thing we want to release that's yeah

00:17:55,260 --> 00:17:59,880
a good to hear I sure exactly that so of

00:17:57,960 --> 00:18:02,340
course what would you know we will have

00:17:59,880 --> 00:18:03,930
you know the stable releases that go out

00:18:02,340 --> 00:18:06,470
each time we do a port you know a new

00:18:03,930 --> 00:18:08,820
stable release but we'll also have

00:18:06,470 --> 00:18:11,370
regular updates with security things

00:18:08,820 --> 00:18:13,290
happening we'll also have regular

00:18:11,370 --> 00:18:16,230
whether that's daily weekly whatever

00:18:13,290 --> 00:18:19,230
builds going out once we have a proper

00:18:16,230 --> 00:18:21,960
CI pipeline going were you know builds

00:18:19,230 --> 00:18:23,850
are triggered when changes happen what

00:18:21,960 --> 00:18:26,850
we will want to do is course is one our

00:18:23,850 --> 00:18:29,220
own QA and then we can push through the

00:18:26,850 --> 00:18:33,680
to the different various platforms each

00:18:29,220 --> 00:18:38,040
of the platforms have their own extra QA

00:18:33,680 --> 00:18:40,380
in infrastructure some of which is huge

00:18:38,040 --> 00:18:42,090
in terms of what things do it can take a

00:18:40,380 --> 00:18:45,120
couple of days to an image to go through

00:18:42,090 --> 00:18:47,460
and be to be tested fully so we know

00:18:45,120 --> 00:18:50,250
obviously we will be providing our

00:18:47,460 --> 00:18:52,520
images will be pushing into their test

00:18:50,250 --> 00:18:55,440
pipeline and then things should come out

00:18:52,520 --> 00:18:59,880
you know fully tested fully approved and

00:18:55,440 --> 00:19:02,160
ready to go account ly I think we

00:18:59,880 --> 00:19:06,840
provide for at least four OpenStack and

00:19:02,160 --> 00:19:11,340
Azure we are providing daily images we

00:19:06,840 --> 00:19:14,140
weekly of testing and

00:19:11,340 --> 00:19:17,020
and each time there is there are updates

00:19:14,140 --> 00:19:19,150
on either the main archive of the

00:19:17,020 --> 00:19:23,350
security archive the images get rebuilt

00:19:19,150 --> 00:19:27,190
and we publish them again yeah and I

00:19:23,350 --> 00:19:31,240
think we agreed to have weekly built for

00:19:27,190 --> 00:19:34,900
the images of our testing and daily

00:19:31,240 --> 00:19:38,350
buttes but not official for Debian only

00:19:34,900 --> 00:19:40,540
for CI to check if everything is ok so

00:19:38,350 --> 00:19:43,960
if we detect something is wrong we can

00:19:40,540 --> 00:19:47,670
not find it quickly and yeah fix the

00:19:43,960 --> 00:19:47,670
bugs as fast as possible

00:19:51,779 --> 00:19:57,960
is is there some kind of roadmap or

00:19:55,729 --> 00:20:08,700
dashboard where I can see the current

00:19:57,960 --> 00:20:11,389
status of all these images no not an

00:20:08,700 --> 00:20:15,179
overview for all the images at least I

00:20:11,389 --> 00:20:20,779
know for sure for example that there is

00:20:15,179 --> 00:20:25,799
a built debian dotnet which has Jenkins

00:20:20,779 --> 00:20:31,549
running which shows the the latest locks

00:20:25,799 --> 00:20:37,049
and download downloadable daily images

00:20:31,549 --> 00:20:39,559
missing for OpenStack just download from

00:20:37,049 --> 00:20:43,169
kazahana

00:20:39,559 --> 00:20:45,659
yes I mean I would like to contribute to

00:20:43,169 --> 00:20:46,259
the team but I was thinking like where

00:20:45,659 --> 00:20:48,029
to start

00:20:46,259 --> 00:20:56,999
like is there some place where I can get

00:20:48,029 --> 00:21:01,349
a so for the big four providers Amazon

00:20:56,999 --> 00:21:03,149
Google and why not so we will push to

00:21:01,349 --> 00:21:05,969
them but for people doing OpenStack

00:21:03,149 --> 00:21:09,299
things I would very much like to see

00:21:05,969 --> 00:21:11,489
somewhere where public cloud providers

00:21:09,299 --> 00:21:14,549
and whatnot could register themselves

00:21:11,489 --> 00:21:18,539
and get either a trigger or an image

00:21:14,549 --> 00:21:20,099
pushed to their cloud so we will need to

00:21:18,539 --> 00:21:21,839
do some programming with a web interface

00:21:20,099 --> 00:21:24,839
where people can register these kind of

00:21:21,839 --> 00:21:26,190
things and there if you want to

00:21:24,839 --> 00:21:31,799
volunteer doing that that would be

00:21:26,190 --> 00:21:35,279
awesome right and the other place were

00:21:31,799 --> 00:21:37,169
we've we've had a volunteer whose name I

00:21:35,279 --> 00:21:39,690
can't remember because sorry I'm rubbish

00:21:37,169 --> 00:21:42,450
has already started working on an image

00:21:39,690 --> 00:21:44,729
finder so that would be something where

00:21:42,450 --> 00:21:46,799
you can go and if you just know you want

00:21:44,729 --> 00:21:48,869
a Debian image which includes the

00:21:46,799 --> 00:21:53,009
following features that you will be able

00:21:48,869 --> 00:21:56,759
to then go and find out say the AWS ID

00:21:53,009 --> 00:21:58,630
for it or find work word to grab it for

00:21:56,759 --> 00:22:02,370
whichever region you on in

00:21:58,630 --> 00:22:04,390
Google cloud engine or whatever so it's

00:22:02,370 --> 00:22:07,030
significantly harder than it should be

00:22:04,390 --> 00:22:08,559
apparently to find the official Debian

00:22:07,030 --> 00:22:10,750
images and make sure that you're using

00:22:08,559 --> 00:22:13,150
the thing you think you are

00:22:10,750 --> 00:22:16,059
so an image finder like that is also a

00:22:13,150 --> 00:22:18,669
good way to help I know once you have

00:22:16,059 --> 00:22:20,650
one and we have people looking at what

00:22:18,669 --> 00:22:23,289
they do we could do something similar

00:22:20,650 --> 00:22:25,360
but we don't have to follow them it's

00:22:23,289 --> 00:22:30,010
it's a good way to dive in and get

00:22:25,360 --> 00:22:32,710
started I reached out to them and they

00:22:30,010 --> 00:22:37,360
are saying that they will not publish

00:22:32,710 --> 00:22:44,020
their make their code public for the

00:22:37,360 --> 00:22:47,049
image finder because for reasons one

00:22:44,020 --> 00:22:50,620
thing that it would be really nice to

00:22:47,049 --> 00:22:52,570
have volunteers who work is testing for

00:22:50,620 --> 00:22:54,820
structure because right now we have some

00:22:52,570 --> 00:22:59,080
code but it's a code that we did in two

00:22:54,820 --> 00:23:03,850
days three days so it's really basic we

00:22:59,080 --> 00:23:05,620
are not near what we want to achieve all

00:23:03,850 --> 00:23:08,350
the staging of tests we want to achieve

00:23:05,620 --> 00:23:11,980
and also we need that all of these needs

00:23:08,350 --> 00:23:14,080
to be integrated and away coded in a way

00:23:11,980 --> 00:23:17,880
that is easily integrate with all the

00:23:14,080 --> 00:23:23,909
infrastructure so we can trigger the CI

00:23:17,880 --> 00:23:26,679
tests so easily and I think this is like

00:23:23,909 --> 00:23:29,559
first phase before yeah moving through

00:23:26,679 --> 00:23:30,990
to other features and this would be

00:23:29,559 --> 00:23:33,190
really helpful

00:23:30,990 --> 00:23:34,870
basically the testing will be

00:23:33,190 --> 00:23:36,490
non-trivial because we need to build

00:23:34,870 --> 00:23:38,890
image then we need to check it

00:23:36,490 --> 00:23:41,830
statically then we need to run it on

00:23:38,890 --> 00:23:44,590
some basic test on debian machine so we

00:23:41,830 --> 00:23:46,600
can trust it then if it passes we need

00:23:44,590 --> 00:23:48,280
to upload it to particular cloud

00:23:46,600 --> 00:23:50,440
providers and test that it runs on

00:23:48,280 --> 00:23:52,030
Amazon that it's run on Google and for

00:23:50,440 --> 00:23:53,919
example on Amazon that we can enable

00:23:52,030 --> 00:23:56,230
this enhance networking on Google that

00:23:53,919 --> 00:24:00,940
we can I don't know other some some high

00:23:56,230 --> 00:24:03,280
performance whatever so so it will be

00:24:00,940 --> 00:24:05,110
need to be multi staging it we need and

00:24:03,280 --> 00:24:08,140
it will need to be integrated well into

00:24:05,110 --> 00:24:12,010
our building process and our CI process

00:24:08,140 --> 00:24:15,550
so we cannot use basic basic sauce

00:24:12,010 --> 00:24:19,600
the eye because it's just one step and

00:24:15,550 --> 00:24:22,890
quite limited so so we have some plans

00:24:19,600 --> 00:24:27,360
but we need to first document them a bit

00:24:22,890 --> 00:24:31,650
discuss and probably it will be multi

00:24:27,360 --> 00:24:34,630
multi staging stuff but for those who

00:24:31,650 --> 00:24:37,840
looking on what we agreed what that test

00:24:34,630 --> 00:24:41,080
side should look like there is a go be

00:24:37,840 --> 00:24:46,660
document well there Dagobah documents

00:24:41,080 --> 00:24:51,060
from the sprint in 2016 and 2017 the

00:24:46,660 --> 00:24:55,090
test suite that tomash and worked on

00:24:51,060 --> 00:24:58,180
basically the set on tests that we

00:24:55,090 --> 00:25:04,420
agreed that are nowadays documented in

00:24:58,180 --> 00:25:06,370
the Gobi collaboration editing we yeah

00:25:04,420 --> 00:25:08,350
we also have some pictures some diagrams

00:25:06,370 --> 00:25:12,450
explain so if you want to know more I

00:25:08,350 --> 00:25:17,290
can send it to you and explain it to you

00:25:12,450 --> 00:25:20,140
and also another thing is that you we

00:25:17,290 --> 00:25:23,770
use a fight so to build image but we

00:25:20,140 --> 00:25:25,840
also want to isolate building so we had

00:25:23,770 --> 00:25:27,790
to build a virtual machine is executed

00:25:25,840 --> 00:25:32,830
flying side it generates the built

00:25:27,790 --> 00:25:34,900
images and also manage all those virtual

00:25:32,830 --> 00:25:38,190
machines so I don't think we have it yet

00:25:34,900 --> 00:25:41,530
I didn't that was my question is anybody

00:25:38,190 --> 00:25:46,630
already doing the building of the images

00:25:41,530 --> 00:25:51,480
in a clean virtual machine or not so

00:25:46,630 --> 00:25:55,780
currently we all use FAI just on our own

00:25:51,480 --> 00:25:58,780
computer so they need there's a script

00:25:55,780 --> 00:26:03,730
in the git repository called

00:25:58,780 --> 00:26:06,940
launch kv m dot sh this was done by Ben

00:26:03,730 --> 00:26:09,610
from digital and I think we should have

00:26:06,940 --> 00:26:13,420
a look if it's okay and tried to use it

00:26:09,610 --> 00:26:16,330
so but what you can do is you can get

00:26:13,420 --> 00:26:22,180
our repository and run FAI on your own

00:26:16,330 --> 00:26:22,690
machine so this is still improved in

00:26:22,180 --> 00:26:25,280
progress

00:26:22,690 --> 00:26:26,960
basically previous

00:26:25,280 --> 00:26:28,850
previous scripts like booster visit and

00:26:26,960 --> 00:26:30,980
so on we were running this on clean I

00:26:28,850 --> 00:26:35,420
hate abuse machines but because we

00:26:30,980 --> 00:26:38,870
decided to move to fi we need to polish

00:26:35,420 --> 00:26:43,280
some corners and since you mentioned

00:26:38,870 --> 00:26:46,040
that I can run FAI on my own machine

00:26:43,280 --> 00:26:52,850
like how much resources do I need to be

00:26:46,040 --> 00:26:55,130
able to run Zeus builds and the answer

00:26:52,850 --> 00:26:57,200
that is not a huge amount you know it's

00:26:55,130 --> 00:27:00,100
it's essentially doing the equipment

00:26:57,200 --> 00:27:03,110
doing the bootstrap and tweaks around it

00:27:00,100 --> 00:27:05,060
so you need basically to have the space

00:27:03,110 --> 00:27:06,800
for you for your image you need to have

00:27:05,060 --> 00:27:08,900
sufficient memory and kernel to do it

00:27:06,800 --> 00:27:11,600
obviously the bigger the faster the

00:27:08,900 --> 00:27:13,070
machine the faster it will go but that's

00:27:11,600 --> 00:27:22,460
not you know don't worry too much about

00:27:13,070 --> 00:27:29,570
resources so let's discuss maybe these

00:27:22,460 --> 00:27:32,990
vendor agents and do something so

00:27:29,570 --> 00:27:38,300
basically we are now building our own

00:27:32,990 --> 00:27:41,570
images but to fully utilize cloud

00:27:38,300 --> 00:27:44,380
providers there is need to to have some

00:27:41,570 --> 00:27:48,080
agents of them some demos running on

00:27:44,380 --> 00:27:49,910
running on virtual machine in cloud

00:27:48,080 --> 00:27:53,060
providers they their functionality

00:27:49,910 --> 00:27:54,800
differ on different providers so for

00:27:53,060 --> 00:27:57,740
example on Amazon there is no particular

00:27:54,800 --> 00:28:01,280
need to need to have it it will work

00:27:57,740 --> 00:28:04,340
without without an agent but then we

00:28:01,280 --> 00:28:07,670
won't have detailed monitoring we won't

00:28:04,340 --> 00:28:09,170
have some some ability to run easy to

00:28:07,670 --> 00:28:12,080
run command or something like this we

00:28:09,170 --> 00:28:14,150
won't have this as I'm something I don't

00:28:12,080 --> 00:28:16,310
remember what's what's the meaning

00:28:14,150 --> 00:28:18,860
behind it by basically this is advanced

00:28:16,310 --> 00:28:22,490
management of machines on Google on the

00:28:18,860 --> 00:28:25,460
other hand we need to have some agents

00:28:22,490 --> 00:28:28,250
to be able to inject SSH key to login

00:28:25,460 --> 00:28:31,400
into it I'm not sure what's the status

00:28:28,250 --> 00:28:33,500
on I sure but I guess this is similar so

00:28:31,400 --> 00:28:37,300
voila

00:28:33,500 --> 00:28:42,020
they already in Debian stable and and

00:28:37,300 --> 00:28:45,110
and in the images it's also used for

00:28:42,020 --> 00:28:49,580
getting the SSH keys into the machines

00:28:45,110 --> 00:28:51,410
getting the monitoring or getting

00:28:49,580 --> 00:28:55,970
information back into the ashram

00:28:51,410 --> 00:28:59,950
monitoring Suites and so on so basically

00:28:55,970 --> 00:29:03,580
the they started differs between between

00:28:59,950 --> 00:29:06,260
agents for different different

00:29:03,580 --> 00:29:09,070
environments it looks like for Microsoft

00:29:06,260 --> 00:29:12,080
there is the best situation google has

00:29:09,070 --> 00:29:15,380
packages but in their own repository and

00:29:12,080 --> 00:29:18,470
because they are some problems with the

00:29:15,380 --> 00:29:19,970
fSV and quality coaches yes so one of

00:29:18,470 --> 00:29:24,830
the things that we've been telling all

00:29:19,970 --> 00:29:26,480
of the platform providers and most

00:29:24,830 --> 00:29:29,270
people are understanding this is that

00:29:26,480 --> 00:29:32,390
obviously if their agents are going to

00:29:29,270 --> 00:29:34,810
be in if in official Debian images they

00:29:32,390 --> 00:29:38,110
need to meet debian standards so that's

00:29:34,810 --> 00:29:41,210
they need to be DFS G free obviously

00:29:38,110 --> 00:29:43,970
they also need to be in the main Debian

00:29:41,210 --> 00:29:46,010
archive we are not going to build images

00:29:43,970 --> 00:29:48,170
and port Debian's you know seal on them

00:29:46,010 --> 00:29:50,750
if they're pulling in things that are

00:29:48,170 --> 00:29:53,390
not already in the archive because well

00:29:50,750 --> 00:29:57,970
it's not deadly in that way is it so

00:29:53,390 --> 00:30:00,470
that does then lead to some tension but

00:29:57,970 --> 00:30:02,990
some of those some of the providers want

00:30:00,470 --> 00:30:05,900
to have quite frequent updates to the

00:30:02,990 --> 00:30:08,330
tools inside their images and that can

00:30:05,900 --> 00:30:10,250
can be a bit fought if they means that

00:30:08,330 --> 00:30:13,850
they want you know potentially major

00:30:10,250 --> 00:30:16,070
updates inside Debian stable well that's

00:30:13,850 --> 00:30:17,600
a that's a discussion that's ongoing the

00:30:16,070 --> 00:30:19,370
very first thing that must happen is

00:30:17,600 --> 00:30:21,530
they've got to be in the archive and

00:30:19,370 --> 00:30:25,220
they've got to be maintained but we also

00:30:21,530 --> 00:30:29,170
managed together was a released him and

00:30:25,220 --> 00:30:33,110
stable released him to get a at least

00:30:29,170 --> 00:30:36,470
validation for error updated in a stable

00:30:33,110 --> 00:30:39,870
really in a stable point release mainly

00:30:36,470 --> 00:30:44,910
to cover the

00:30:39,870 --> 00:30:50,100
as a steak which is on premise a sure to

00:30:44,910 --> 00:30:51,570
support that kind of new hardware and we

00:30:50,100 --> 00:30:53,760
also have some discussion on with a

00:30:51,570 --> 00:30:57,030
stable release here regarding other

00:30:53,760 --> 00:31:00,900
agents as they I leave packages they are

00:30:57,030 --> 00:31:04,950
probably not going to break most of

00:31:00,900 --> 00:31:07,290
end-users installations so how it yeah

00:31:04,950 --> 00:31:09,870
as agreed to the release team so long as

00:31:07,290 --> 00:31:11,550
the updates to the agents are reasonable

00:31:09,870 --> 00:31:15,179
then there shouldn't be a problem with

00:31:11,550 --> 00:31:17,570
these things going in but you know who

00:31:15,179 --> 00:31:22,230
defines reasonable you know you it needs

00:31:17,570 --> 00:31:24,450
some trust of what we're doing and of

00:31:22,230 --> 00:31:26,370
what the cloud providers are doing to

00:31:24,450 --> 00:31:28,950
make sure that you know the newest agent

00:31:26,370 --> 00:31:31,200
doesn't do bad things you know it's not

00:31:28,950 --> 00:31:32,910
going to be very buggy so one of the

00:31:31,200 --> 00:31:36,270
things that will help on that of course

00:31:32,910 --> 00:31:37,950
is as we boost our own you know CI if

00:31:36,270 --> 00:31:39,809
we're doing a lot more testing on all of

00:31:37,950 --> 00:31:42,540
our images we will be able to verify

00:31:39,809 --> 00:31:46,440
that a new you know a new version of an

00:31:42,540 --> 00:31:48,870
agent isn't going to break things how is

00:31:46,440 --> 00:31:52,080
the bundle solving this problem are they

00:31:48,870 --> 00:31:56,070
shipping on free software hmm and did

00:31:52,080 --> 00:31:57,390
the frequent updates problems also you

00:31:56,070 --> 00:31:59,179
know that's a very good question I

00:31:57,390 --> 00:32:02,790
honestly don't know

00:31:59,179 --> 00:32:06,990
Ubuntu in my experience tend to be a bit

00:32:02,790 --> 00:32:10,280
more open to doing less free thing as

00:32:06,990 --> 00:32:10,280
when it makes commercial sense

00:32:12,590 --> 00:32:18,210
but I haven't looked so I know if you if

00:32:16,770 --> 00:32:25,380
you if you could go and have a look and

00:32:18,210 --> 00:32:29,370
tell us that will be wonderful so

00:32:25,380 --> 00:32:46,410
tomorrow's next on the list next we are

00:32:29,370 --> 00:32:47,940
almost so as you probably noticed there

00:32:46,410 --> 00:32:51,480
is much work in progress

00:32:47,940 --> 00:32:57,090
we need a stiff point that we need to

00:32:51,480 --> 00:33:00,420
have it more public so we intend to to

00:32:57,090 --> 00:33:02,190
have some status update on a remaining

00:33:00,420 --> 00:33:06,120
piece basically we have mailing lists so

00:33:02,190 --> 00:33:08,010
you can subscribe to it so yes we got

00:33:06,120 --> 00:33:10,680
the Debian cloud mailing list we've got

00:33:08,010 --> 00:33:13,530
the Debian cloud IRC channel were at

00:33:10,680 --> 00:33:16,470
least most of us avoid link we do need

00:33:13,530 --> 00:33:18,660
to be more public and ditto we need you

00:33:16,470 --> 00:33:19,200
know as I said we need to be have better

00:33:18,660 --> 00:33:21,180
Doc's

00:33:19,200 --> 00:33:24,210
a to help people to see what we've done

00:33:21,180 --> 00:33:25,320
and B to tell people how they can help

00:33:24,210 --> 00:33:26,610
and how could how they can get more

00:33:25,320 --> 00:33:28,920
involved

00:33:26,610 --> 00:33:30,450
I promise faithfully that we're going to

00:33:28,920 --> 00:33:32,850
be doing more with that in the net in

00:33:30,450 --> 00:33:36,000
the next year if nothing else I'm gonna

00:33:32,850 --> 00:33:37,560
make it my task the clouds wind to get a

00:33:36,000 --> 00:33:41,640
lot more to get a lot more that

00:33:37,560 --> 00:33:45,060
organized and if you want a hands-on

00:33:41,640 --> 00:33:49,220
then probably I've seen at least one

00:33:45,060 --> 00:33:49,220
cloud provider being here in the room

00:33:49,460 --> 00:33:56,930
persons from one cloud provider in the

00:33:52,110 --> 00:34:02,610
room I'm willing to give you a hands on

00:33:56,930 --> 00:34:06,720
an atom platform probably see go can

00:34:02,610 --> 00:34:12,030
also help people to show the images on

00:34:06,720 --> 00:34:15,270
OpenStack I guess one question is there

00:34:12,030 --> 00:34:21,950
anybody interested in building their own

00:34:15,270 --> 00:34:21,950
cloud image and want to use the tools

00:34:23,940 --> 00:34:33,100
but in okay and just if you start and if

00:34:28,720 --> 00:34:36,760
you have any problems with fine I would

00:34:33,100 --> 00:34:43,150
suggest you could also join the Debian

00:34:36,760 --> 00:34:46,750
clouds IRC I just did what I did about a

00:34:43,150 --> 00:34:49,960
minute ago okay and in it and then if

00:34:46,750 --> 00:34:51,730
there are some and I would guess in the

00:34:49,960 --> 00:34:55,090
beginning there may be some question

00:34:51,730 --> 00:34:58,830
related to FAI and then I can help you

00:34:55,090 --> 00:35:03,070
currently I'm basically building my own

00:34:58,830 --> 00:35:06,250
VM images automatically when I provision

00:35:03,070 --> 00:35:09,220
UVM's but it's a very janky process that

00:35:06,250 --> 00:35:12,670
basically involves building and in each

00:35:09,220 --> 00:35:17,380
Rama fests blobs that has a proceed file

00:35:12,670 --> 00:35:23,230
baked into it and yeah I mean at least

00:35:17,380 --> 00:35:26,140
it's automated but where I work use

00:35:23,230 --> 00:35:28,540
OpenStack massively and there is a

00:35:26,140 --> 00:35:32,220
possibility to start creating our own

00:35:28,540 --> 00:35:32,220
image of for OpenStack

00:35:40,040 --> 00:35:44,030
so one of the things that we started

00:35:41,570 --> 00:35:46,430
last sprint was a conversation about

00:35:44,030 --> 00:35:48,560
formalizing our relationship debian

00:35:46,430 --> 00:35:51,830
probably through SBI with the cloud

00:35:48,560 --> 00:35:54,410
providers so that our images can be

00:35:51,830 --> 00:35:55,910
found in the marketplace for example so

00:35:54,410 --> 00:35:58,940
instead of finding in the public area

00:35:55,910 --> 00:36:01,250
you can find it in AWS marketplace so we

00:35:58,940 --> 00:36:04,070
hope to not conclude but continue that

00:36:01,250 --> 00:36:06,710
conversation this fall and understand

00:36:04,070 --> 00:36:09,190
the pros and cons of such a such an

00:36:06,710 --> 00:36:12,020
agreement with the cloud provider and

00:36:09,190 --> 00:36:13,460
and the availability of the images to

00:36:12,020 --> 00:36:16,040
people who want to use them and how they

00:36:13,460 --> 00:36:18,170
can be found so one thing is the image

00:36:16,040 --> 00:36:29,930
finder the other one is actually being

00:36:18,170 --> 00:36:33,230
in the marketplace and and also Helen

00:36:29,930 --> 00:36:36,080
already actually mentioned it we still

00:36:33,230 --> 00:36:37,820
have in flux our management of accounts

00:36:36,080 --> 00:36:39,740
and access to this cloud because

00:36:37,820 --> 00:36:42,740
basically we need to have our own

00:36:39,740 --> 00:36:45,140
official Debian account on different

00:36:42,740 --> 00:36:49,490
providers and we need to be able to

00:36:45,140 --> 00:36:52,880
manage users so I can do something

00:36:49,490 --> 00:36:55,370
publish images but so some some so

00:36:52,880 --> 00:36:57,620
basically we need accounts for users for

00:36:55,370 --> 00:37:01,390
real people and we need accounts for all

00:36:57,620 --> 00:37:03,800
roles too some machines can

00:37:01,390 --> 00:37:07,370
automatically publish something so this

00:37:03,800 --> 00:37:10,760
is also still something that we are

00:37:07,370 --> 00:37:14,270
working on but I think we discussed that

00:37:10,760 --> 00:37:16,640
last year with Steve extensively and he

00:37:14,270 --> 00:37:19,880
agreed to hand all the counts for

00:37:16,640 --> 00:37:26,000
publishing for

00:37:19,880 --> 00:37:31,250
I think that was everything we had on

00:37:26,000 --> 00:37:33,260
our agenda yeah yeah so sure and we just

00:37:31,250 --> 00:37:34,700
seen ten minutes on so are there any any

00:37:33,260 --> 00:37:36,770
more questions people have any more

00:37:34,700 --> 00:37:38,570
comments do we have any more volunteers

00:37:36,770 --> 00:37:40,520
who want us come in and spend the rest

00:37:38,570 --> 00:37:44,810
of their lives making Debian cloud

00:37:40,520 --> 00:37:49,550
images great oh damn I was hoping we get

00:37:44,810 --> 00:37:54,800
some belief so what will happen in the

00:37:49,550 --> 00:37:57,440
next month's that I know office that the

00:37:54,800 --> 00:38:01,340
Carmel kernel cloud image will be

00:37:57,440 --> 00:38:06,530
further tweaked we also will hopefully

00:38:01,340 --> 00:38:09,530
see the feedback from the various cloud

00:38:06,530 --> 00:38:13,390
providers that those kernel images are

00:38:09,530 --> 00:38:18,830
working properly on all cloud platforms

00:38:13,390 --> 00:38:23,270
and maybe there are even more things

00:38:18,830 --> 00:38:31,040
that we can disable in kcon fact to get

00:38:23,270 --> 00:38:33,590
faster booting process first I'm I'm

00:38:31,040 --> 00:38:38,450
really sorry for monopolizing so Mike

00:38:33,590 --> 00:38:41,750
but since you mentioned the kernel

00:38:38,450 --> 00:38:46,580
package for cloud being tweaked further

00:38:41,750 --> 00:38:50,150
I was kind of curious so much difference

00:38:46,580 --> 00:38:54,490
did you actually notice like lightenings

00:38:50,150 --> 00:39:00,830
kernels that we shipped to in VM images

00:38:54,490 --> 00:39:04,700
that which time like went down like

00:39:00,830 --> 00:39:07,640
quite quite much like half of the boot

00:39:04,700 --> 00:39:09,950
time only oh that's actually a lot we

00:39:07,640 --> 00:39:14,570
removed a lot of things that are not

00:39:09,950 --> 00:39:20,080
present on cloud platforms also network

00:39:14,570 --> 00:39:22,589
stacks that we do not need like yeah and

00:39:20,080 --> 00:39:28,650
realize I have a quick

00:39:22,589 --> 00:39:31,559
question is it is for instance

00:39:28,650 --> 00:39:34,019
installing security updates on the first

00:39:31,559 --> 00:39:43,710
boot of a VM some things that is Don

00:39:34,019 --> 00:39:46,019
cranky and cloudy does that for you it

00:39:43,710 --> 00:39:51,059
does up get the data get this degrade

00:39:46,019 --> 00:39:54,769
when you boot normally this is an

00:39:51,059 --> 00:39:57,809
outstanding question though some of the

00:39:54,769 --> 00:40:00,269
cloud providers want all the images to

00:39:57,809 --> 00:40:01,920
do unattended upgrades or similar to

00:40:00,269 --> 00:40:03,920
make sure that image is that it running

00:40:01,920 --> 00:40:07,680
or as secure as they possibly can be

00:40:03,920 --> 00:40:09,749
obviously if you're hosting say 100,000

00:40:07,680 --> 00:40:12,150
Debian installations you will really

00:40:09,749 --> 00:40:14,549
care if there's a if there's a root

00:40:12,150 --> 00:40:18,559
security hole that is working its way

00:40:14,549 --> 00:40:21,809
across your entire campus corpus sewing

00:40:18,559 --> 00:40:23,849
of course there are also potential

00:40:21,809 --> 00:40:26,489
downsides to doing the unattended

00:40:23,849 --> 00:40:29,369
upgrades of course the say you know your

00:40:26,489 --> 00:40:31,589
database server we know for your website

00:40:29,369 --> 00:40:33,660
suddenly in the middle of in the middle

00:40:31,589 --> 00:40:35,910
of your training day decides no no I

00:40:33,660 --> 00:40:38,519
need to do a Postgres update and your

00:40:35,910 --> 00:40:41,009
site goes away you know it's it's there

00:40:38,519 --> 00:40:43,229
is no good single answer it's an ongoing

00:40:41,009 --> 00:40:46,380
discussion yes that's why I've asked

00:40:43,229 --> 00:40:51,289
about infers boot because that's an

00:40:46,380 --> 00:40:55,109
easier decision Z or better Steve

00:40:51,289 --> 00:40:58,049
brought up the discussion during during

00:40:55,109 --> 00:41:00,749
last sprint and also - after the lab

00:40:58,049 --> 00:41:04,519
passed brand on the Debian development

00:41:00,749 --> 00:41:08,519
in list we should enable unattended boot

00:41:04,519 --> 00:41:11,999
per default on our images not even for

00:41:08,519 --> 00:41:13,859
cloud images but also so general more

00:41:11,999 --> 00:41:16,460
generally Debian security team don't

00:41:13,859 --> 00:41:19,490
like unattended upgrades

00:41:16,460 --> 00:41:21,080
though are apparently faci quite

00:41:19,490 --> 00:41:26,120
substantial problems with it with a

00:41:21,080 --> 00:41:28,970
design and how it works I haven't spent

00:41:26,120 --> 00:41:31,610
enough time yet looking into it to agree

00:41:28,970 --> 00:41:34,250
or disagree I do think that we need to

00:41:31,610 --> 00:41:37,550
come up with distro wide with a better

00:41:34,250 --> 00:41:40,760
security policy you know but I mean I'm

00:41:37,550 --> 00:41:43,010
sure all of us has you know responsible

00:41:40,760 --> 00:41:45,230
admins of our own systems or making sure

00:41:43,010 --> 00:41:48,290
we've always patched we should make it

00:41:45,230 --> 00:41:51,020
easier for users to get that - they

00:41:48,290 --> 00:41:53,480
think the problem is that unattended

00:41:51,020 --> 00:41:55,730
upgrades happens at random times and you

00:41:53,480 --> 00:41:58,250
really want to run it on control time so

00:41:55,730 --> 00:42:00,860
you would need some kind of say stage it

00:41:58,250 --> 00:42:02,720
updates that you can say that now is the

00:42:00,860 --> 00:42:05,450
time to update the handful of hosts and

00:42:02,720 --> 00:42:08,720
find out if it works and then put it on

00:42:05,450 --> 00:42:10,430
to the others etcetera we don't really

00:42:08,720 --> 00:42:14,000
know who it should be the one who

00:42:10,430 --> 00:42:15,950
controls these stage at updates sure

00:42:14,000 --> 00:42:17,720
so there's all kinds of concrete that

00:42:15,950 --> 00:42:23,420
can be done actually don't Olaf is

00:42:17,720 --> 00:42:26,510
coming do we know what the other OS

00:42:23,420 --> 00:42:29,600
providers do like fedora and Ark and so

00:42:26,510 --> 00:42:31,940
on I know that chorus does automatic

00:42:29,600 --> 00:42:34,940
updates and reboots but I have no idea

00:42:31,940 --> 00:42:37,070
about other then it's just rise up on

00:42:34,940 --> 00:42:39,950
2-dose definitely

00:42:37,070 --> 00:42:41,810
I'm told that Fedora have something

00:42:39,950 --> 00:42:47,060
similar I don't know how well it works

00:42:41,810 --> 00:42:48,920
or any details on the frayed Amazon they

00:42:47,060 --> 00:42:53,600
have their own distribution they ran

00:42:48,920 --> 00:42:56,840
update on restart yeah sure so on

00:42:53,600 --> 00:42:59,810
restart it's great but of course there's

00:42:56,840 --> 00:43:03,620
a again this varies massively by use

00:42:59,810 --> 00:43:05,210
cases so for people who are running in

00:43:03,620 --> 00:43:07,010
answer said your date their database

00:43:05,210 --> 00:43:09,430
server for that for their you know the

00:43:07,010 --> 00:43:12,500
e-commerce site they'll be running

00:43:09,430 --> 00:43:14,810
they'll have very long running cloud

00:43:12,500 --> 00:43:18,230
images which they will want to manage

00:43:14,810 --> 00:43:21,800
totally equally we also have a lot of

00:43:18,230 --> 00:43:24,200
people were an VM literally might be

00:43:21,800 --> 00:43:27,350
running for 30 seconds five minutes or

00:43:24,200 --> 00:43:28,500
so they don't care what actually we've

00:43:27,350 --> 00:43:30,420
had feedback

00:43:28,500 --> 00:43:32,730
I mean Google folks in particular were

00:43:30,420 --> 00:43:35,960
pushing for this so this is one of the

00:43:32,730 --> 00:43:39,600
reasons why you know we care so much is

00:43:35,960 --> 00:43:41,280
they care if a system takes ten seconds

00:43:39,600 --> 00:43:44,310
to boot and so the five seconds to boot

00:43:41,280 --> 00:43:47,580
for exactly those people so they don't

00:43:44,310 --> 00:43:49,830
want cloud in it taken time at startup

00:43:47,580 --> 00:43:51,270
because you know installing a couple of

00:43:49,830 --> 00:43:55,290
updates suddenly means your boot time

00:43:51,270 --> 00:43:57,120
has tripled now again for those of us

00:43:55,290 --> 00:44:00,180
running a laptop or running a server at

00:43:57,120 --> 00:44:03,710
home we do cares about five seconds but

00:44:00,180 --> 00:44:06,390
if you're wanting spawning 10,000 images

00:44:03,710 --> 00:44:07,530
to do a very simple thing and then you

00:44:06,390 --> 00:44:12,110
want them to go away again

00:44:07,530 --> 00:44:14,130
five seconds times 10,000 adds up yeah

00:44:12,110 --> 00:44:15,570
another thing is that when you have a

00:44:14,130 --> 00:44:18,690
very large deployment

00:44:15,570 --> 00:44:21,540
let's say you mentioned 10,000 VMs just

00:44:18,690 --> 00:44:24,060
imagine 10,000 VMs doing ab get is the

00:44:21,540 --> 00:44:27,330
great at the same time on your local

00:44:24,060 --> 00:44:34,200
mirror that can be a lot of resources -

00:44:27,330 --> 00:44:37,590
I think we we need to support all these

00:44:34,200 --> 00:44:38,130
different schemes to do it at reboot and

00:44:37,590 --> 00:44:41,550
so on

00:44:38,130 --> 00:44:44,910
but I would guess it's not a special

00:44:41,550 --> 00:44:46,740
cloud problem but how Debian could

00:44:44,910 --> 00:44:50,430
support all these different kinds of

00:44:46,740 --> 00:44:53,250
when to do the updates so I would have a

00:44:50,430 --> 00:44:57,330
question besides that the big cloud

00:44:53,250 --> 00:45:00,570
providers Google Amazon sure are there

00:44:57,330 --> 00:45:04,230
any other cloud providers that you would

00:45:00,570 --> 00:45:06,690
like to see in the beginning that Debian

00:45:04,230 --> 00:45:11,520
supports and where we should upload

00:45:06,690 --> 00:45:14,460
official images just just shout the

00:45:11,520 --> 00:45:16,920
names of the cloud providers we use

00:45:14,460 --> 00:45:20,240
software at work so I would actually

00:45:16,920 --> 00:45:20,240
like that to be able to spot it

00:45:22,100 --> 00:45:27,870
Candido net currently ships extremely

00:45:25,110 --> 00:45:30,120
janky images and it would be actually

00:45:27,870 --> 00:45:32,330
quite nice to have properly supported

00:45:30,120 --> 00:45:32,330
ones

00:45:32,530 --> 00:45:39,340
okay I I just say that there are a lot

00:45:36,880 --> 00:45:42,220
of Chinese colleagues here I know that

00:45:39,340 --> 00:45:43,600
the Alibaba also have very a Libra and

00:45:42,220 --> 00:45:47,620
tanks and in China they have very

00:45:43,600 --> 00:45:49,750
popular table for being used by a lot of

00:45:47,620 --> 00:45:57,190
people if the colleagues we can connect

00:45:49,750 --> 00:45:59,950
us to they're people who have actually

00:45:57,190 --> 00:46:02,860
I'm using Alibaba which called odd-even

00:45:59,950 --> 00:46:05,980
and maybe I already know that

00:46:02,860 --> 00:46:08,590
Alibaba is very special because they got

00:46:05,980 --> 00:46:10,450
a cut on something in the Dubai and

00:46:08,590 --> 00:46:13,360
install something called a neat one

00:46:10,450 --> 00:46:16,810
which called program yet last year maybe

00:46:13,360 --> 00:46:20,200
something somebody heard of that so I

00:46:16,810 --> 00:46:23,860
don't think they will accept something

00:46:20,200 --> 00:46:29,800
bad from deven of facial riposte but

00:46:23,860 --> 00:46:32,170
they do have such a thing yeah do you

00:46:29,800 --> 00:46:35,050
have contacts in Hangzhou with people

00:46:32,170 --> 00:46:43,660
from illusion that we can could get in

00:46:35,050 --> 00:46:46,180
touch with no but I'm keeping in touch

00:46:43,660 --> 00:46:49,510
with them so I can contact with them if

00:46:46,180 --> 00:46:52,720
you wanna talk to them okay Arabi i can

00:46:49,510 --> 00:46:57,010
be helped but the problem is aria has a

00:46:52,720 --> 00:47:00,190
one option which is default on that is

00:46:57,010 --> 00:47:02,890
enhanced by the by this option they were

00:47:00,190 --> 00:47:07,300
in store something into the into your

00:47:02,890 --> 00:47:09,820
system which I believe it were hum for

00:47:07,300 --> 00:47:13,930
the whole system at cause program last

00:47:09,820 --> 00:47:16,870
year this is for security officially or

00:47:13,930 --> 00:47:19,420
literally this is for security but I

00:47:16,870 --> 00:47:26,200
trust has something to do with other

00:47:19,420 --> 00:47:28,450
stuffs which I could not say okay but

00:47:26,200 --> 00:47:31,840
but I guess even if they install

00:47:28,450 --> 00:47:34,690
something we cannot do anything against

00:47:31,840 --> 00:47:37,570
it and but we still can provide an

00:47:34,690 --> 00:47:42,460
official Debian image that the users can

00:47:37,570 --> 00:47:45,010
use so it said to go back on the topic

00:47:42,460 --> 00:47:45,780
of automatic upgrades I'm slightly

00:47:45,010 --> 00:47:47,610
worried

00:47:45,780 --> 00:47:50,730
what we'll run into is something not

00:47:47,610 --> 00:47:52,500
entirely different to what would you buy

00:47:50,730 --> 00:47:55,470
installing recommends automatically

00:47:52,500 --> 00:47:58,470
where lots of people then just add up

00:47:55,470 --> 00:48:00,840
turning it off and I don't think that

00:47:58,470 --> 00:48:03,630
would be a very helpful situation so

00:48:00,840 --> 00:48:06,540
maybe what we could actually do is is

00:48:03,630 --> 00:48:08,850
provide either some flag you can set

00:48:06,540 --> 00:48:11,700
through Annette which which basically

00:48:08,850 --> 00:48:13,440
sets the policy or even provide

00:48:11,700 --> 00:48:16,860
different images so we provide a

00:48:13,440 --> 00:48:19,140
short-lived image which I mean we can do

00:48:16,860 --> 00:48:23,670
something really crude like it will do

00:48:19,140 --> 00:48:26,490
power off after 24 hours or like some

00:48:23,670 --> 00:48:28,350
stuff like that or we could do like some

00:48:26,490 --> 00:48:30,330
some other mechanism to say you

00:48:28,350 --> 00:48:33,240
shouldn't be running this on long term

00:48:30,330 --> 00:48:36,110
and then it's it's up to users to do

00:48:33,240 --> 00:48:40,050
whatever they want

00:48:36,110 --> 00:48:42,960
hi so I'm Kay I'm the the person from

00:48:40,050 --> 00:48:46,440
one of the cloud providers I work at

00:48:42,960 --> 00:48:49,770
Microsoft so just a quick note on this

00:48:46,440 --> 00:48:53,340
so one thing that we see a lot is that

00:48:49,770 --> 00:48:55,860
customers do we for our internal certain

00:48:53,340 --> 00:48:59,760
Microsoft services we have an image that

00:48:55,860 --> 00:49:01,950
we base off of and automatic updates are

00:48:59,760 --> 00:49:05,370
unattended updates are turned on in that

00:49:01,950 --> 00:49:07,670
and most of the people who use that

00:49:05,370 --> 00:49:10,260
image turn off unattended updates

00:49:07,670 --> 00:49:12,900
because it breaks them during production

00:49:10,260 --> 00:49:15,870
and they need to be able to test and

00:49:12,900 --> 00:49:19,950
deploy on their on their own timeframe

00:49:15,870 --> 00:49:22,740
and so I think that have making it easy

00:49:19,950 --> 00:49:24,360
to create custom images is it's really

00:49:22,740 --> 00:49:26,490
the best answer to this so people can

00:49:24,360 --> 00:49:28,680
create you know start with you know

00:49:26,490 --> 00:49:32,010
whatever the the default is and then

00:49:28,680 --> 00:49:33,330
create their own yeah absolutely it's

00:49:32,010 --> 00:49:35,430
what we need to do it's what we want to

00:49:33,330 --> 00:49:38,130
do anyway I'm being told by the video

00:49:35,430 --> 00:49:40,200
team we are out of time so thank you

00:49:38,130 --> 00:49:43,140
everybody for coming along I hope that

00:49:40,200 --> 00:49:44,730
was useful and interesting please if you

00:49:43,140 --> 00:49:47,220
want to know more if you want to join in

00:49:44,730 --> 00:49:50,220
if you really want to help catchers

00:49:47,220 --> 00:49:53,260
either here this week or join the Debian

00:49:50,220 --> 00:49:55,040
cloud IRC and mailing list

00:49:53,260 --> 00:49:58,190
[Music]

00:49:55,040 --> 00:50:00,960
we will we will be keeping you updated

00:49:58,190 --> 00:50:06,320
though thank you very much

00:50:00,960 --> 00:50:06,320

YouTube URL: https://www.youtube.com/watch?v=BLdYYVT2lrU


