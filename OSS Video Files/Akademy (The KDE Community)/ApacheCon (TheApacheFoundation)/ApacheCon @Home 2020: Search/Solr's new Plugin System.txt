Title: Solr's new Plugin System
Publication date: 2020-10-17
Playlist: ApacheCon @Home 2020: Search
Description: 
	Solr's new Plugin System
David Smiley

A presentation from ApacheCon @Home 2020
https://apachecon.com/acah2020/

Solr 8.4 has a new plugin system that portends of a better future much improved from today: (a) load plugins at runtime, (b) find 3rd party plugins in a registry, (c) fetch, install, and even configure plugins from the command line (CLI), (d) a more slimmed down Solr distribution that is more secure. After an overview, you will see this system demonstrated, after which you should feel comfortable in trying it out for yourself when you leave. Beyond the CLI demonstration, we'll look behind the covers a bit to show some of how it works. We'll finish with a discussion of the gaps and thus what the future hopefully holds as this new mechanism blossoms. You'll learn a bit about what it takes to "package" up your plugins too.

David Smiley is a prolific Apache Lucene/Solr committer/PMC member and ASF member. David has written books, delivered training, and speaks at meetups & conferences on this subject. Ultimately, his passion his hacking on Lucene & Solr. He works on search at Salesforce which graciously supports these endeavors.
Captions: 
	00:00:06,420 --> 00:00:10,640
[Music]

00:00:14,160 --> 00:00:17,230
[Music]

00:00:24,400 --> 00:00:28,880
hello everyone

00:00:25,359 --> 00:00:30,800
uh welcome to apachecon at home 2020.

00:00:28,880 --> 00:00:33,280
for this session we have uh apache

00:00:30,800 --> 00:00:33,680
listing and solar committer pmc member

00:00:33,280 --> 00:00:36,640
and

00:00:33,680 --> 00:00:38,480
asf member david smiley uh david has

00:00:36,640 --> 00:00:41,040
written books delivered training

00:00:38,480 --> 00:00:41,840
and uh he speaks at meetups and

00:00:41,040 --> 00:00:43,520
conferences

00:00:41,840 --> 00:00:45,760
all the time which is what we were just

00:00:43,520 --> 00:00:47,920
talking about um

00:00:45,760 --> 00:00:49,600
he works on search at salesforce and

00:00:47,920 --> 00:00:50,719
today david will be talking about

00:00:49,600 --> 00:00:53,840
solar's new

00:00:50,719 --> 00:00:56,719
cool plug-in system uh from

00:00:53,840 --> 00:00:58,160
the intent behind this uh he's gonna go

00:00:56,719 --> 00:01:00,719
ahead with a demo

00:00:58,160 --> 00:01:02,640
and also uh do a sneak peek under the

00:01:00,719 --> 00:01:05,040
hood uh i hope you enjoyed this session

00:01:02,640 --> 00:01:07,040
over to you david

00:01:05,040 --> 00:01:09,439
thanks for that uh that intro yeah i

00:01:07,040 --> 00:01:10,880
pointed a book behind me and i

00:01:09,439 --> 00:01:12,400
i could have brought over all my

00:01:10,880 --> 00:01:12,960
conference lanyards i have them all

00:01:12,400 --> 00:01:14,479
nearby

00:01:12,960 --> 00:01:17,280
there's like i don't know how many there

00:01:14,479 --> 00:01:20,720
are so okay welcome everybody

00:01:17,280 --> 00:01:24,640
uh solar's new package manager uh and a

00:01:20,720 --> 00:01:26,320
topic i'm excited to tell you about uh

00:01:24,640 --> 00:01:28,320
antrim just gave me it gave a nice

00:01:26,320 --> 00:01:31,360
little intro for me i don't need to

00:01:28,320 --> 00:01:34,320
repeat any information there i'm really

00:01:31,360 --> 00:01:36,240
thankful for salesforce to support my

00:01:34,320 --> 00:01:38,640
my time to contributing to open source

00:01:36,240 --> 00:01:38,640
and solar

00:01:38,799 --> 00:01:42,159
i have a quiz question for you and i

00:01:40,720 --> 00:01:46,000
want you to think about this

00:01:42,159 --> 00:01:49,680
um in the chat window um when i say

00:01:46,000 --> 00:01:52,479
go type in a guess as to how many

00:01:49,680 --> 00:01:54,640
uh plugin types there are okay and

00:01:52,479 --> 00:01:56,799
examples of the plugin types would be

00:01:54,640 --> 00:01:58,960
uh on the screen here we see field type

00:01:56,799 --> 00:02:00,320
shard handler factory query parser

00:01:58,960 --> 00:02:03,360
transformer blah blah there

00:02:00,320 --> 00:02:05,600
are many of them okay so like when i

00:02:03,360 --> 00:02:06,000
count down to zero i want you to blurt

00:02:05,600 --> 00:02:09,440
out

00:02:06,000 --> 00:02:10,239
your guess five and lucine and solar

00:02:09,440 --> 00:02:13,440
okay

00:02:10,239 --> 00:02:16,720
five four three

00:02:13,440 --> 00:02:21,120
two one hit return

00:02:16,720 --> 00:02:24,080
spit it out there okay

00:02:21,120 --> 00:02:25,120
okay so the numbers i'm seeing so far

00:02:24,080 --> 00:02:28,000
are

00:02:25,120 --> 00:02:30,160
roughly what i was expecting as well i i

00:02:28,000 --> 00:02:32,480
think i was leaning more towards the

00:02:30,160 --> 00:02:33,200
60ish side if i were to when i was

00:02:32,480 --> 00:02:34,319
originally

00:02:33,200 --> 00:02:35,519
when i originally thought of this

00:02:34,319 --> 00:02:36,879
question i was like oh maybe it's i

00:02:35,519 --> 00:02:39,840
don't know maybe it's 50.

00:02:36,879 --> 00:02:40,400
something like that um and i went to

00:02:39,840 --> 00:02:42,800
find the

00:02:40,400 --> 00:02:44,640
and i i i started looking to find the

00:02:42,800 --> 00:02:47,760
answer

00:02:44,640 --> 00:02:49,040
and um amber had seen my presentation

00:02:47,760 --> 00:02:51,360
before he knows the answer

00:02:49,040 --> 00:02:53,200
uh there's i don't have a precise answer

00:02:51,360 --> 00:02:55,519
and uh it doesn't matter

00:02:53,200 --> 00:02:56,560
it but but the message i want to get

00:02:55,519 --> 00:02:59,040
across is that

00:02:56,560 --> 00:03:00,560
it's a lot uh there isn't exactly one

00:02:59,040 --> 00:03:03,599
spot that loads them all

00:03:00,560 --> 00:03:04,159
there are uh i want to say a couple but

00:03:03,599 --> 00:03:05,920
then

00:03:04,159 --> 00:03:07,120
uh there's a bunch of methods that call

00:03:05,920 --> 00:03:08,319
into there and a bunch of other places

00:03:07,120 --> 00:03:11,200
called those places so

00:03:08,319 --> 00:03:13,200
finding the exact number as um you know

00:03:11,200 --> 00:03:15,519
you'd figure it out but

00:03:13,200 --> 00:03:17,519
what matters here is that it's a lot

00:03:15,519 --> 00:03:20,720
solar is extremely plugable

00:03:17,519 --> 00:03:23,280
and solar needs to be pluggable

00:03:20,720 --> 00:03:23,840
search platforms do because these are

00:03:23,280 --> 00:03:27,599
not

00:03:23,840 --> 00:03:28,400
um um like relational databases in the

00:03:27,599 --> 00:03:30,400
sense that

00:03:28,400 --> 00:03:31,519
um they all kind of work in a similar

00:03:30,400 --> 00:03:33,200
way

00:03:31,519 --> 00:03:34,480
you just swap it in no i mean search

00:03:33,200 --> 00:03:35,920
platforms are things that are

00:03:34,480 --> 00:03:36,720
fundamentally platforms or things we

00:03:35,920 --> 00:03:38,400
need to build on

00:03:36,720 --> 00:03:40,480
we need to plug it we need to use

00:03:38,400 --> 00:03:43,200
existing ones we need to write our own

00:03:40,480 --> 00:03:43,920
okay so plugins are important where do

00:03:43,200 --> 00:03:47,200
we find

00:03:43,920 --> 00:03:50,640
these uh plugins well

00:03:47,200 --> 00:03:54,159
solar comes with lots of them

00:03:50,640 --> 00:03:57,439
there are many that are just simply

00:03:54,159 --> 00:03:58,640
built in there are some that are so

00:03:57,439 --> 00:04:01,870
called contribs

00:03:58,640 --> 00:04:03,040
it's in the contrib directory of solar

00:04:01,870 --> 00:04:06,159
[Music]

00:04:03,040 --> 00:04:07,920
and you shall find some out on the web

00:04:06,159 --> 00:04:10,239
elsewhere i'll just call that third

00:04:07,920 --> 00:04:12,159
party most people don't need to

00:04:10,239 --> 00:04:13,360
venture beyond built-in and contrib

00:04:12,159 --> 00:04:15,920
which is kind of a shame

00:04:13,360 --> 00:04:18,079
um because it does mean that a lot of

00:04:15,920 --> 00:04:20,239
plug-ins kind of gravitate towards being

00:04:18,079 --> 00:04:21,680
become becoming a part of lucene solar

00:04:20,239 --> 00:04:23,360
otherwise no one

00:04:21,680 --> 00:04:24,800
no one knows about them that's kind of a

00:04:23,360 --> 00:04:27,759
segue to my other point you know

00:04:24,800 --> 00:04:29,840
like where do you find out about them

00:04:27,759 --> 00:04:31,919
you know

00:04:29,840 --> 00:04:33,840
there's the ref guide which is great

00:04:31,919 --> 00:04:37,360
there's my book there's other books

00:04:33,840 --> 00:04:41,440
your colleagues meetups

00:04:37,360 --> 00:04:43,120
yeah so if you get a hold of a plugin

00:04:41,440 --> 00:04:45,120
that you need to install because it's

00:04:43,120 --> 00:04:47,040
not in there already

00:04:45,120 --> 00:04:48,560
how do you do it it's pretty much adding

00:04:47,040 --> 00:04:51,280
some jar files

00:04:48,560 --> 00:04:51,919
into solar the top one solar home lib is

00:04:51,280 --> 00:04:54,720
the

00:04:51,919 --> 00:04:56,560
generally the best spot to put it

00:04:54,720 --> 00:04:58,400
depending on how old your installation

00:04:56,560 --> 00:05:00,240
is you might use solar core lid for

00:04:58,400 --> 00:05:02,160
really old standalone ones with

00:05:00,240 --> 00:05:04,000
different configs per core

00:05:02,160 --> 00:05:05,759
also used to look config can reference

00:05:04,000 --> 00:05:06,479
it with the lib directive which is kind

00:05:05,759 --> 00:05:08,240
of

00:05:06,479 --> 00:05:10,160
i don't know um i don't want to say it's

00:05:08,240 --> 00:05:12,240
quite deprecated yet but

00:05:10,160 --> 00:05:16,320
it can be problematic and the kind of

00:05:12,240 --> 00:05:19,840
future vision of solar with plug-ins

00:05:16,320 --> 00:05:22,000
it may be necessary to throw it into

00:05:19,840 --> 00:05:23,680
web and flip which is where solar itself

00:05:22,000 --> 00:05:25,360
and all of its jars are i

00:05:23,680 --> 00:05:27,039
hate putting things there but if you

00:05:25,360 --> 00:05:28,880
need to you do and

00:05:27,039 --> 00:05:30,160
there are some rare cases where you need

00:05:28,880 --> 00:05:33,120
to like a jts was

00:05:30,160 --> 00:05:34,639
a specific example where you would um

00:05:33,120 --> 00:05:34,960
also it's worth pointing out that not

00:05:34,639 --> 00:05:38,000
only

00:05:34,960 --> 00:05:41,120
does solar have plug-ins but solar

00:05:38,000 --> 00:05:42,800
sits on jetty internally uh that has

00:05:41,120 --> 00:05:44,639
plug-ins as well you might add a

00:05:42,800 --> 00:05:46,000
cores servlet filter or something like

00:05:44,639 --> 00:05:48,000
that also

00:05:46,000 --> 00:05:50,080
there's the java itself and logging

00:05:48,000 --> 00:05:50,720
system but those are kind of at a scope

00:05:50,080 --> 00:05:54,160
of what i'm

00:05:50,720 --> 00:05:57,600
addressing today and after you

00:05:54,160 --> 00:06:01,360
uh install the uh

00:05:57,600 --> 00:06:04,160
the jars you have to

00:06:01,360 --> 00:06:05,199
you almost always like with almost uh

00:06:04,160 --> 00:06:06,560
pro pro

00:06:05,199 --> 00:06:08,319
i doubt there's any exceptions you need

00:06:06,560 --> 00:06:11,360
to do something

00:06:08,319 --> 00:06:12,720
to configure it it doesn't it's it's

00:06:11,360 --> 00:06:15,039
mere existence

00:06:12,720 --> 00:06:16,720
uh in a jar file is almost never enough

00:06:15,039 --> 00:06:20,000
you has to be configured

00:06:16,720 --> 00:06:22,319
sometimes the configuration is

00:06:20,000 --> 00:06:23,919
done the same way all the time like you

00:06:22,319 --> 00:06:25,919
have a query parser you're probably

00:06:23,919 --> 00:06:27,759
going to name it in an obvious way

00:06:25,919 --> 00:06:29,280
and many query parsers i've seen they

00:06:27,759 --> 00:06:30,720
don't they just you register the same

00:06:29,280 --> 00:06:32,240
way and at that point you can configure

00:06:30,720 --> 00:06:32,880
it at query time with parameters or

00:06:32,240 --> 00:06:36,560
something

00:06:32,880 --> 00:06:38,639
but some don't some custom plugins need

00:06:36,560 --> 00:06:42,800
to know how to talk to some database

00:06:38,639 --> 00:06:45,919
or or maybe there's a token filter

00:06:42,800 --> 00:06:48,000
where there's no like default way for

00:06:45,919 --> 00:06:49,599
you to even register it because a token

00:06:48,000 --> 00:06:51,199
filter for example exists within the

00:06:49,599 --> 00:06:52,639
context of a chain and so there's a

00:06:51,199 --> 00:06:53,440
question of well which field type should

00:06:52,639 --> 00:06:56,880
be added to

00:06:53,440 --> 00:06:58,240
in which um spot so

00:06:56,880 --> 00:07:00,479
the theme here is that you have to

00:06:58,240 --> 00:07:00,960
configure it and sometimes there's an

00:07:00,479 --> 00:07:02,319
obvious

00:07:00,960 --> 00:07:04,800
configuration that's always in the same

00:07:02,319 --> 00:07:06,880
way sometimes it's really fundamentally

00:07:04,800 --> 00:07:09,840
uh up to you to choose the right spot in

00:07:06,880 --> 00:07:12,240
your configuration to do it

00:07:09,840 --> 00:07:12,880
and let's say you you've got a plug-in

00:07:12,240 --> 00:07:14,880
you like it

00:07:12,880 --> 00:07:16,880
and it has a new version and you want to

00:07:14,880 --> 00:07:20,080
use that new version

00:07:16,880 --> 00:07:21,440
how do we upgrade um and

00:07:20,080 --> 00:07:23,120
you know if you're just playing around

00:07:21,440 --> 00:07:25,120
on your on your local machine this is

00:07:23,120 --> 00:07:26,400
pretty straightforward you kind of drop

00:07:25,120 --> 00:07:29,520
the jar in

00:07:26,400 --> 00:07:31,120
and bingo uh and you shut it down and

00:07:29,520 --> 00:07:34,479
you start up solar of course

00:07:31,120 --> 00:07:36,400
but if in a deployed uh in a production

00:07:34,479 --> 00:07:37,680
environment um especially one involving

00:07:36,400 --> 00:07:39,599
solar cloud

00:07:37,680 --> 00:07:40,960
um even if it's not solar cloud i mean

00:07:39,599 --> 00:07:42,240
you have to figure out how am i gonna

00:07:40,960 --> 00:07:44,800
get these jar files

00:07:42,240 --> 00:07:45,440
to the right nodes um do we have to

00:07:44,800 --> 00:07:49,360
restart

00:07:45,440 --> 00:07:50,639
if they restart is there down time um

00:07:49,360 --> 00:07:52,639
what if there's different configurations

00:07:50,639 --> 00:07:56,400
so it definitely gets hard

00:07:52,639 --> 00:07:58,160
um possible but but hard and

00:07:56,400 --> 00:08:00,400
yeah and so that's probably one of the

00:07:58,160 --> 00:08:02,720
biggest pain points that um

00:08:00,400 --> 00:08:03,840
that we'd like to address with the with

00:08:02,720 --> 00:08:06,479
a plug-in

00:08:03,840 --> 00:08:07,919
um with a new system to manage these

00:08:06,479 --> 00:08:11,759
plug-ins

00:08:07,919 --> 00:08:14,080
so solar isn't the first certainly not

00:08:11,759 --> 00:08:14,639
the search platform to want a system to

00:08:14,080 --> 00:08:17,599
kind of

00:08:14,639 --> 00:08:18,800
manage uh to manage uh obtaining these

00:08:17,599 --> 00:08:20,960
plug-ins and

00:08:18,800 --> 00:08:22,319
um installing them certainly not i'm

00:08:20,960 --> 00:08:25,680
sure you've seen

00:08:22,319 --> 00:08:27,520
utilities like rpm or brew

00:08:25,680 --> 00:08:29,039
i really like a docker hub to draw

00:08:27,520 --> 00:08:30,240
inspiration from and how you get and run

00:08:29,039 --> 00:08:32,320
docker images

00:08:30,240 --> 00:08:34,159
uh my ide has its own plugin system that

00:08:32,320 --> 00:08:36,640
i can find and install them

00:08:34,159 --> 00:08:37,919
and what's what's nice about these

00:08:36,640 --> 00:08:40,399
systems in general

00:08:37,919 --> 00:08:42,560
is that you can it provides a single

00:08:40,399 --> 00:08:46,880
place to discover them

00:08:42,560 --> 00:08:50,240
and a single way to install it

00:08:46,880 --> 00:08:52,640
and um and then the configuration

00:08:50,240 --> 00:08:55,279
um it kind of depends on what it is what

00:08:52,640 --> 00:08:57,600
aspect of the config is there

00:08:55,279 --> 00:08:59,120
so yeah we'd like this to be easier and

00:08:57,600 --> 00:09:00,399
would like to solve that pain point of

00:08:59,120 --> 00:09:03,519
like how do we deploy

00:09:00,399 --> 00:09:05,040
these these um these new new updates

00:09:03,519 --> 00:09:06,640
in a way that that's much easier than

00:09:05,040 --> 00:09:08,880
today where it's very roll up your

00:09:06,640 --> 00:09:10,880
sleeves and do it yourself okay

00:09:08,880 --> 00:09:13,040
so this is very important to solar much

00:09:10,880 --> 00:09:15,920
more important than the previous slide

00:09:13,040 --> 00:09:16,880
suggests uh as someone who maintains

00:09:15,920 --> 00:09:19,920
solar

00:09:16,880 --> 00:09:20,480
there are many what i call second-order

00:09:19,920 --> 00:09:22,080
effects

00:09:20,480 --> 00:09:24,000
from there's the immediacy of the

00:09:22,080 --> 00:09:26,800
feature and what it is

00:09:24,000 --> 00:09:28,000
and that has some utility to you as

00:09:26,800 --> 00:09:31,120
users and that's great

00:09:28,000 --> 00:09:32,240
but once once solar has this system and

00:09:31,120 --> 00:09:34,000
it does have the system and once it's

00:09:32,240 --> 00:09:36,720
more fully embraced

00:09:34,000 --> 00:09:37,839
then it uh there's a bunch of secondary

00:09:36,720 --> 00:09:39,360
benefits that are gonna that are

00:09:37,839 --> 00:09:42,880
fantastic because of this okay

00:09:39,360 --> 00:09:45,279
so one example is better security solar

00:09:42,880 --> 00:09:47,200
is so batteries included it comes with

00:09:45,279 --> 00:09:49,279
all the functionality you might need

00:09:47,200 --> 00:09:50,959
and if one of those one of those

00:09:49,279 --> 00:09:51,600
thingies plug-ins have a security

00:09:50,959 --> 00:09:53,279
vulnerability

00:09:51,600 --> 00:09:55,200
then it becomes your problem even though

00:09:53,279 --> 00:09:59,279
you're not using the plug-in

00:09:55,200 --> 00:10:02,640
um it allows for fewer dependencies

00:09:59,279 --> 00:10:05,200
of um of solar core

00:10:02,640 --> 00:10:06,240
so lots of there's a bunch of jars in

00:10:05,200 --> 00:10:08,160
solar that are there

00:10:06,240 --> 00:10:09,839
basically because of a plug-in or two

00:10:08,160 --> 00:10:14,720
okay so once

00:10:09,839 --> 00:10:17,440
we can composing solar as uh think of it

00:10:14,720 --> 00:10:17,440
as a monolith

00:10:17,600 --> 00:10:21,519
a more leaner system with a strengthened

00:10:20,560 --> 00:10:24,079
um

00:10:21,519 --> 00:10:25,600
system where plugins are in packages

00:10:24,079 --> 00:10:26,959
that are managed with separate class

00:10:25,600 --> 00:10:29,040
loaders okay

00:10:26,959 --> 00:10:30,160
and and this also allows for a future

00:10:29,040 --> 00:10:31,839
where

00:10:30,160 --> 00:10:33,760
we don't need to have so much pressure

00:10:31,839 --> 00:10:35,440
to have solar to have everything

00:10:33,760 --> 00:10:37,600
included if there's a really healthy

00:10:35,440 --> 00:10:38,240
plug-in system it's totally okay for

00:10:37,600 --> 00:10:41,440
your

00:10:38,240 --> 00:10:44,240
awesome plug-in to be hosted

00:10:41,440 --> 00:10:45,920
somewhere else discoverable in a solar

00:10:44,240 --> 00:10:48,160
registry where other people can find it

00:10:45,920 --> 00:10:49,920
and for as long as people can install it

00:10:48,160 --> 00:10:51,519
really easily who cares that it's not in

00:10:49,920 --> 00:10:53,360
solar core okay

00:10:51,519 --> 00:10:54,959
but today that's not the reality we

00:10:53,360 --> 00:10:57,040
really quite have today

00:10:54,959 --> 00:10:59,279
so there's pressure for people to to get

00:10:57,040 --> 00:11:00,640
their their their plug-in into solar

00:10:59,279 --> 00:11:02,320
and that's not good for this health of

00:11:00,640 --> 00:11:03,600
the solar project um

00:11:02,320 --> 00:11:04,959
also i mean it's hard there's so many

00:11:03,600 --> 00:11:06,399
there's so many reasons i've listed a

00:11:04,959 --> 00:11:08,800
bunch on the screen here

00:11:06,399 --> 00:11:09,519
um and another one i like that that's

00:11:08,800 --> 00:11:12,560
hard to miss

00:11:09,519 --> 00:11:14,560
is that easy to miss excuse me is that

00:11:12,560 --> 00:11:16,000
if you have a plug-in detached from

00:11:14,560 --> 00:11:17,519
solar itself it means it can be released

00:11:16,000 --> 00:11:19,600
on its own life cycle

00:11:17,519 --> 00:11:21,279
um you could you could more easily

00:11:19,600 --> 00:11:23,040
release versions fix

00:11:21,279 --> 00:11:25,440
bugs and more easily have it work in

00:11:23,040 --> 00:11:27,360
past releases um today if it's built

00:11:25,440 --> 00:11:29,200
into solar like most plug-ins are

00:11:27,360 --> 00:11:30,399
you'd have to do some jar surgery of

00:11:29,200 --> 00:11:32,240
moving code around

00:11:30,399 --> 00:11:33,519
to make a plug-in work as a previous

00:11:32,240 --> 00:11:34,720
version it's a pain we don't have to do

00:11:33,519 --> 00:11:35,839
that jar surgery want things to just

00:11:34,720 --> 00:11:37,360
work

00:11:35,839 --> 00:11:40,160
so i'm really excited about all these

00:11:37,360 --> 00:11:42,000
secondary secondary benefits

00:11:40,160 --> 00:11:44,079
many of which certainly affect me as a

00:11:42,000 --> 00:11:46,000
committer and maintainer of solar itself

00:11:44,079 --> 00:11:49,760
but a bunch of these benefits should

00:11:46,000 --> 00:11:49,760
benefit you as well as solar users

00:11:50,000 --> 00:11:55,839
this site is a site that

00:11:53,200 --> 00:11:56,639
most of you probably don't know about

00:11:55,839 --> 00:12:00,000
it's

00:11:56,639 --> 00:12:01,120
uh as the name suggests it's a solar

00:12:00,000 --> 00:12:04,320
extension directory

00:12:01,120 --> 00:12:06,639
um it's a website with some um

00:12:04,320 --> 00:12:08,079
not only plugins but other other things

00:12:06,639 --> 00:12:09,120
that sometimes work with so that can

00:12:08,079 --> 00:12:11,760
work with solar

00:12:09,120 --> 00:12:13,279
and it's a place to find them and i i

00:12:11,760 --> 00:12:15,200
foresee this becoming

00:12:13,279 --> 00:12:16,639
becoming the sort of de facto place

00:12:15,200 --> 00:12:19,760
where people register

00:12:16,639 --> 00:12:20,399
their um register their own plugins so

00:12:19,760 --> 00:12:22,560
that you can

00:12:20,399 --> 00:12:25,519
find them and they're busy by the way

00:12:22,560 --> 00:12:26,000
working on making this system compatible

00:12:25,519 --> 00:12:27,360
with

00:12:26,000 --> 00:12:29,360
solar's package system so that you can

00:12:27,360 --> 00:12:30,959
actually refer to it as a package

00:12:29,360 --> 00:12:32,480
repository

00:12:30,959 --> 00:12:34,480
um so expect good things from here

00:12:32,480 --> 00:12:36,079
expect it to grow and expect the solar

00:12:34,480 --> 00:12:38,000
reference guide to have more references

00:12:36,079 --> 00:12:40,880
out to the plug-in plugin

00:12:38,000 --> 00:12:40,880
to solar.cool

00:12:42,480 --> 00:12:48,160
the new package manager it's an 8.4

00:12:46,399 --> 00:12:49,519
there's some major components of it i'll

00:12:48,160 --> 00:12:51,440
list first and then we'll

00:12:49,519 --> 00:12:54,560
i'll mention the kind of it's it's sort

00:12:51,440 --> 00:12:57,680
of features or characteristics

00:12:54,560 --> 00:13:00,800
there's a cli component of

00:12:57,680 --> 00:13:01,680
the package manager and i'll demo that

00:13:00,800 --> 00:13:05,200
briefly

00:13:01,680 --> 00:13:06,480
and that interacts with a running solar

00:13:05,200 --> 00:13:09,519
instance there's an

00:13:06,480 --> 00:13:10,800
http api there's a couple apis it

00:13:09,519 --> 00:13:12,240
touches it also

00:13:10,800 --> 00:13:15,680
talks directly to zookeeper if i'm not

00:13:12,240 --> 00:13:18,880
mistaken uh behind the scenes

00:13:15,680 --> 00:13:21,200
there's so that's one piece there so uh

00:13:18,880 --> 00:13:23,120
yeah there's a there's a http api for

00:13:21,200 --> 00:13:24,639
some degree of package management so

00:13:23,120 --> 00:13:25,760
that you can automate this stuff without

00:13:24,639 --> 00:13:27,839
having to use the cli

00:13:25,760 --> 00:13:29,120
if you if you want to automate any of

00:13:27,839 --> 00:13:32,079
this for your own

00:13:29,120 --> 00:13:34,240
deployed system uh and third the most

00:13:32,079 --> 00:13:36,480
exciting component there

00:13:34,240 --> 00:13:37,839
is the file store which is kind of a

00:13:36,480 --> 00:13:39,279
hidden feature i'll have a slide

00:13:37,839 --> 00:13:40,399
dedicated to that because it's so cool

00:13:39,279 --> 00:13:41,760
but it's basically you got to put these

00:13:40,399 --> 00:13:42,959
jars somewhere

00:13:41,760 --> 00:13:45,120
and we really we really don't need a

00:13:42,959 --> 00:13:47,680
separate place from this this

00:13:45,120 --> 00:13:50,000
places i listed on a previous slide

00:13:47,680 --> 00:13:53,120
because these are these are managed

00:13:50,000 --> 00:13:55,760
so this system has got some nice

00:13:53,120 --> 00:13:57,519
nice features um one i want to point out

00:13:55,760 --> 00:14:01,040
is that it's a it's a

00:13:57,519 --> 00:14:02,880
online runtime system with solar cloud

00:14:01,040 --> 00:14:04,720
okay the the cli

00:14:02,880 --> 00:14:06,720
it interacts with the live solar cloud

00:14:04,720 --> 00:14:07,360
instance it knows what packages are

00:14:06,720 --> 00:14:09,440
installed

00:14:07,360 --> 00:14:12,000
it interacts with solar to find out

00:14:09,440 --> 00:14:13,839
different for discovery and such

00:14:12,000 --> 00:14:15,360
it would be nice uh it certainly would

00:14:13,839 --> 00:14:17,519
be nice if it could

00:14:15,360 --> 00:14:18,480
if you could kind of pre-package

00:14:17,519 --> 00:14:21,279
pre-deployed

00:14:18,480 --> 00:14:22,880
packages and such um i think that that

00:14:21,279 --> 00:14:23,199
use case hasn't been exercised very much

00:14:22,880 --> 00:14:27,040
but

00:14:23,199 --> 00:14:27,040
it um yeah

00:14:27,360 --> 00:14:32,800
dependency isolation is uh is key

00:14:30,959 --> 00:14:34,320
these jars are not added to one big

00:14:32,800 --> 00:14:37,839
massive code uh

00:14:34,320 --> 00:14:40,079
class path no every package

00:14:37,839 --> 00:14:42,079
um every versions package for that

00:14:40,079 --> 00:14:45,120
matter has its very own class loader

00:14:42,079 --> 00:14:46,800
if mult if multiple collections are

00:14:45,120 --> 00:14:49,120
referring to the very same

00:14:46,800 --> 00:14:50,480
versions package then they will get this

00:14:49,120 --> 00:14:53,279
the class will be loaded once

00:14:50,480 --> 00:14:54,160
not repeated so that's very good and it

00:14:53,279 --> 00:14:57,120
will help

00:14:54,160 --> 00:14:58,639
help address some potential jar hell

00:14:57,120 --> 00:14:59,839
that can happen in sophisticated java

00:14:58,639 --> 00:15:01,680
apps

00:14:59,839 --> 00:15:03,760
security was thought through from the

00:15:01,680 --> 00:15:06,240
beginning it has a very strong

00:15:03,760 --> 00:15:08,000
security story with a public key and a

00:15:06,240 --> 00:15:10,800
private key

00:15:08,000 --> 00:15:11,279
and and trust and uh the trust is

00:15:10,800 --> 00:15:14,560
checked

00:15:11,279 --> 00:15:16,800
at runtime a

00:15:14,560 --> 00:15:18,480
an exciting and scary feature depending

00:15:16,800 --> 00:15:20,000
on your your point of view or maybe

00:15:18,480 --> 00:15:20,800
you're both excited and scared about it

00:15:20,000 --> 00:15:23,600
like me

00:15:20,800 --> 00:15:24,800
is hot loading and this is the notion of

00:15:23,600 --> 00:15:27,920
deploying

00:15:24,800 --> 00:15:30,079
a plug-in that will

00:15:27,920 --> 00:15:31,199
be deployed live to the running node

00:15:30,079 --> 00:15:33,519
with without

00:15:31,199 --> 00:15:34,560
having to actually what's called reload

00:15:33,519 --> 00:15:37,040
the solar core

00:15:34,560 --> 00:15:37,839
so imagine the query parser just showing

00:15:37,040 --> 00:15:40,560
up

00:15:37,839 --> 00:15:40,959
and no no core reload or anything it

00:15:40,560 --> 00:15:43,839
just

00:15:40,959 --> 00:15:44,480
shows up um that's exciting and scary at

00:15:43,839 --> 00:15:46,240
the same time

00:15:44,480 --> 00:15:48,240
as you get more used to it it'll become

00:15:46,240 --> 00:15:51,519
more commonplace than the norm i think

00:15:48,240 --> 00:15:52,880
um all plugins like that that cannot be

00:15:51,519 --> 00:15:56,800
done for some plugins

00:15:52,880 --> 00:15:58,639
but for some it it can be within solar

00:15:56,800 --> 00:16:00,480
multi-version support allows for you to

00:15:58,639 --> 00:16:01,519
try out new versions and only deploy

00:16:00,480 --> 00:16:04,000
them to certain

00:16:01,519 --> 00:16:05,279
collections before you feel more

00:16:04,000 --> 00:16:06,639
comfortable with certain versions of

00:16:05,279 --> 00:16:08,000
deploying it wider

00:16:06,639 --> 00:16:09,759
i've also seen some multi-tenant

00:16:08,000 --> 00:16:10,720
scenarios in my consulting practice

00:16:09,759 --> 00:16:12,959
where

00:16:10,720 --> 00:16:15,040
not not every customer is on the same

00:16:12,959 --> 00:16:17,759
version they don't want the same version

00:16:15,040 --> 00:16:19,759
so that's rather nice i think and

00:16:17,759 --> 00:16:21,279
plug-ins again this is one of those

00:16:19,759 --> 00:16:23,680
scary and exciting features at the same

00:16:21,279 --> 00:16:26,800
time plugins

00:16:23,680 --> 00:16:30,240
excuse me the package of plugins can

00:16:26,800 --> 00:16:31,920
include include configuration for it

00:16:30,240 --> 00:16:33,759
which means that it can basically

00:16:31,920 --> 00:16:37,040
self-configure itself

00:16:33,759 --> 00:16:38,399
um that's opt-in you can at the cli

00:16:37,040 --> 00:16:40,639
you can say nope don't do it i want to

00:16:38,399 --> 00:16:44,720
do it manually i don't want that uh

00:16:40,639 --> 00:16:46,880
don't do it um and it it makes sense

00:16:44,720 --> 00:16:47,839
for plugins i think there's kind of two

00:16:46,880 --> 00:16:49,360
use cases in my mind

00:16:47,839 --> 00:16:51,360
that makes sense plugins that have an

00:16:49,360 --> 00:16:52,000
obvious configuration where like a query

00:16:51,360 --> 00:16:54,800
parser

00:16:52,000 --> 00:16:55,920
most query parsers i've ever seen with

00:16:54,800 --> 00:16:57,360
in fact maybe all of them

00:16:55,920 --> 00:16:58,320
have a straightforward configuration

00:16:57,360 --> 00:16:59,040
you're always going to do it the same

00:16:58,320 --> 00:17:02,079
way so

00:16:59,040 --> 00:17:03,920
it'll do that for you um the other um

00:17:02,079 --> 00:17:05,760
the other is is kind of like a hello

00:17:03,920 --> 00:17:09,280
world first-time user

00:17:05,760 --> 00:17:11,679
for uh uh for a plug-in so in that case

00:17:09,280 --> 00:17:12,799
um maybe the advanced user would go to

00:17:11,679 --> 00:17:14,559
configure it themselves

00:17:12,799 --> 00:17:16,319
but for certain the first time user you

00:17:14,559 --> 00:17:18,160
have a great user experience by

00:17:16,319 --> 00:17:20,959
just trying out a plug-in and being able

00:17:18,160 --> 00:17:22,959
to use it right away without having to

00:17:20,959 --> 00:17:25,039
do a bunch of configuration that can be

00:17:22,959 --> 00:17:26,880
complex for users less less familiar

00:17:25,039 --> 00:17:28,880
with solar

00:17:26,880 --> 00:17:30,640
yeah as i promised the file store is an

00:17:28,880 --> 00:17:34,400
exciting feature of

00:17:30,640 --> 00:17:34,400
sort of a sleeper hidden feature

00:17:34,799 --> 00:17:38,880
basically it's a distributed

00:17:37,440 --> 00:17:43,039
peer-to-peer

00:17:38,880 --> 00:17:45,919
synchronized file system based storage

00:17:43,039 --> 00:17:46,559
with a web api the packages are placed

00:17:45,919 --> 00:17:48,400
there

00:17:46,559 --> 00:17:49,919
um originally it was envisioned as the

00:17:48,400 --> 00:17:52,000
so-called package store and that's still

00:17:49,919 --> 00:17:54,559
presently it's presently named as such

00:17:52,000 --> 00:17:55,679
in the ref guide for solar um however

00:17:54,559 --> 00:17:57,600
that underlying code

00:17:55,679 --> 00:17:59,360
it was renamed last minute it is the

00:17:57,600 --> 00:18:01,520
file store the packages are in

00:17:59,360 --> 00:18:03,679
inside the file store it has potential

00:18:01,520 --> 00:18:05,840
for to be used for other exciting things

00:18:03,679 --> 00:18:09,120
like machine learning models or

00:18:05,840 --> 00:18:13,200
um who knows what you know um

00:18:09,120 --> 00:18:15,679
and it's sort of uh i i don't know if

00:18:13,200 --> 00:18:17,360
the dot system collection otherwise

00:18:15,679 --> 00:18:20,400
known as the blob store

00:18:17,360 --> 00:18:23,440
is uh officially deprecated in nine yet

00:18:20,400 --> 00:18:24,960
or whether i'd like it to be um that's

00:18:23,440 --> 00:18:28,160
sort of a competing mechanism

00:18:24,960 --> 00:18:29,840
that wasn't quite adequate

00:18:28,160 --> 00:18:31,200
for the new package manager and so this

00:18:29,840 --> 00:18:32,640
new system got built

00:18:31,200 --> 00:18:34,880
uh instead of using that so that old

00:18:32,640 --> 00:18:38,320
system is probably a bit

00:18:34,880 --> 00:18:39,520
antiquated then um so the that system

00:18:38,320 --> 00:18:42,400
collection if you're not familiar

00:18:39,520 --> 00:18:44,400
is a special collection in solar that

00:18:42,400 --> 00:18:45,919
you could put you know blobs of data in

00:18:44,400 --> 00:18:47,280
but there's a chicken in the egg problem

00:18:45,919 --> 00:18:48,720
where if you if you if you want to have

00:18:47,280 --> 00:18:50,480
packages that

00:18:48,720 --> 00:18:52,000
are at the node and container level then

00:18:50,480 --> 00:18:53,760
somehow you need to

00:18:52,000 --> 00:18:55,840
load them first but if they're in the

00:18:53,760 --> 00:18:56,880
system collection then that's impossible

00:18:55,840 --> 00:18:59,360
so that's kind of how we

00:18:56,880 --> 00:19:01,679
ended up at having a dedicated separate

00:18:59,360 --> 00:19:01,679
system

00:19:01,919 --> 00:19:04,960
so i'm going to do a little

00:19:02,559 --> 00:19:08,840
demonstration i'm going to start

00:19:04,960 --> 00:19:12,240
solar with enabling

00:19:08,840 --> 00:19:14,240
packages i hope that this

00:19:12,240 --> 00:19:16,000
special enablement flag is not needed at

00:19:14,240 --> 00:19:19,039
nine i would hope so but

00:19:16,000 --> 00:19:20,160
i'll be using 862 where you do we're

00:19:19,039 --> 00:19:24,640
going to add what's called

00:19:20,160 --> 00:19:27,760
a repository which is a collection

00:19:24,640 --> 00:19:29,760
of packages um and

00:19:27,760 --> 00:19:31,360
for for time purposes i cut out a bit of

00:19:29,760 --> 00:19:33,919
uh vocabulary

00:19:31,360 --> 00:19:35,200
but um just uh briefly here we have the

00:19:33,919 --> 00:19:35,840
notion of repositories that have

00:19:35,200 --> 00:19:39,120
packages

00:19:35,840 --> 00:19:40,720
and packages that have plug-ins a

00:19:39,120 --> 00:19:41,760
package is just a collection of plugins

00:19:40,720 --> 00:19:44,640
it's just the jar

00:19:41,760 --> 00:19:45,760
just a name uh grouping of whatever

00:19:44,640 --> 00:19:46,799
plugins you may have in your jar i might

00:19:45,760 --> 00:19:47,679
have one plug-in might have a whole

00:19:46,799 --> 00:19:50,640
bunch

00:19:47,679 --> 00:19:51,679
um if as this gets more and more

00:19:50,640 --> 00:19:53,200
embraced you might just have one for

00:19:51,679 --> 00:19:54,480
your company maybe

00:19:53,200 --> 00:19:56,559
although you might theoretically break

00:19:54,480 --> 00:20:00,080
it down but you probably have one

00:19:56,559 --> 00:20:00,080
i think it will be more typical

00:20:01,039 --> 00:20:04,559
and okay so we're going to list the

00:20:02,320 --> 00:20:08,159
packages installing

00:20:04,559 --> 00:20:11,200
is actually getting the jars into

00:20:08,159 --> 00:20:12,640
solar and deploying and this involves a

00:20:11,200 --> 00:20:14,559
combination of both

00:20:12,640 --> 00:20:16,080
configuring and then relitting the

00:20:14,559 --> 00:20:19,120
collections to to

00:20:16,080 --> 00:20:22,080
to open the collections with um

00:20:19,120 --> 00:20:24,400
with the packages uh accessible to it

00:20:22,080 --> 00:20:24,400
after

00:20:24,960 --> 00:20:28,559
okay let me back up a second so

00:20:29,039 --> 00:20:32,720
uh first uh okay here it is i do

00:20:32,320 --> 00:20:35,600
everything

00:20:32,720 --> 00:20:36,240
i do lots of solar and docker these days

00:20:35,600 --> 00:20:39,280
and

00:20:36,240 --> 00:20:43,679
here i'm running 89.83

00:20:39,280 --> 00:20:46,000
i'm running 8.6 c for solar cloud mode

00:20:43,679 --> 00:20:48,559
and here's the system property that

00:20:46,000 --> 00:20:52,720
turns on the package manager

00:20:48,559 --> 00:20:52,720
okay let's start up in a moment

00:20:57,520 --> 00:21:02,480
okay now over here um

00:21:00,960 --> 00:21:04,000
actually i just want to just uh very

00:21:02,480 --> 00:21:05,440
briefly show

00:21:04,000 --> 00:21:06,799
still reload on the screen to show that

00:21:05,440 --> 00:21:07,679
it's running yeah there it is so it's

00:21:06,799 --> 00:21:10,960
running

00:21:07,679 --> 00:21:14,320
okay and

00:21:10,960 --> 00:21:14,320
i am going to um

00:21:15,520 --> 00:21:21,679
i'm going to bash into the container

00:21:18,799 --> 00:21:22,080
okay there i am now off screen i have

00:21:21,679 --> 00:21:23,600
some

00:21:22,080 --> 00:21:25,280
notes that i'm going to paste in what

00:21:23,600 --> 00:21:26,559
i'm going to do so all i'm going to do

00:21:25,280 --> 00:21:30,880
at the moment i want to

00:21:26,559 --> 00:21:33,919
introduce you briefly to the solaritis

00:21:30,880 --> 00:21:35,919
package um so solaris is a plug-in and

00:21:33,919 --> 00:21:38,960
it's been packaged

00:21:35,919 --> 00:21:43,039
and it's moved out of

00:21:38,960 --> 00:21:45,440
solar from a contrib to a

00:21:43,039 --> 00:21:46,720
what i consider now to be a third-party

00:21:45,440 --> 00:21:50,320
solar package

00:21:46,720 --> 00:21:53,039
and it the primary plug-in inside is a

00:21:50,320 --> 00:21:54,159
response writer that uses velocity for

00:21:53,039 --> 00:21:55,520
templating okay

00:21:54,159 --> 00:21:57,360
you don't need to know much about that

00:21:55,520 --> 00:21:58,159
in this presentation uh the point isn't

00:21:57,360 --> 00:22:00,720
too much

00:21:58,159 --> 00:22:02,240
uh this that's besides uh the details of

00:22:00,720 --> 00:22:04,000
solaritis don't really matter

00:22:02,240 --> 00:22:06,000
um but i want to show you that it lives

00:22:04,000 --> 00:22:07,120
here um also conveniently it has these

00:22:06,000 --> 00:22:07,840
instructions this is actually what i'll

00:22:07,120 --> 00:22:10,720
be doing

00:22:07,840 --> 00:22:12,159
um off screen i have the steps to to do

00:22:10,720 --> 00:22:15,919
these things so

00:22:12,159 --> 00:22:18,880
um i'm gonna get it uh

00:22:15,919 --> 00:22:19,600
i'm gonna create a core um this

00:22:18,880 --> 00:22:21,200
particular

00:22:19,600 --> 00:22:23,280
the particular steps i'm doing right now

00:22:21,200 --> 00:22:25,440
are for really for demonstrating

00:22:23,280 --> 00:22:26,720
how to use it uh it's not necessarily

00:22:25,440 --> 00:22:28,080
the specific steps you would do you

00:22:26,720 --> 00:22:31,200
would have your own

00:22:28,080 --> 00:22:31,200
um your own plugin

00:22:31,600 --> 00:22:37,200
geez um hope that stuff isn't on this

00:22:34,880 --> 00:22:40,240
you know hold on one second

00:22:37,200 --> 00:22:43,760
i need to disable my

00:22:40,240 --> 00:22:47,039
notifications okay now i'm going to

00:22:43,760 --> 00:22:50,400
now that i've created um

00:22:47,039 --> 00:22:50,400
a core

00:22:52,320 --> 00:22:59,039
i am now okay i'm now adding

00:22:56,000 --> 00:23:02,000
um a document

00:22:59,039 --> 00:23:03,360
to solar and now we're gonna get to the

00:23:02,000 --> 00:23:04,559
more interesting stuff that was the

00:23:03,360 --> 00:23:05,520
boring stuff that doesn't matter it

00:23:04,559 --> 00:23:07,360
doesn't really have anything to do with

00:23:05,520 --> 00:23:08,880
packages okay

00:23:07,360 --> 00:23:11,360
the first thing we're going to do is

00:23:08,880 --> 00:23:14,320
first i want to show you

00:23:11,360 --> 00:23:16,480
in solar package this is new by the way

00:23:14,320 --> 00:23:18,320
whenever i run just about any command

00:23:16,480 --> 00:23:19,840
solar command it starts off with some

00:23:18,320 --> 00:23:20,400
stuff about java home don't worry about

00:23:19,840 --> 00:23:22,000
that

00:23:20,400 --> 00:23:23,360
or jstack again don't worry about that

00:23:22,000 --> 00:23:24,480
it has to do with a docker environment

00:23:23,360 --> 00:23:26,000
and such

00:23:24,480 --> 00:23:27,760
okay so here's we have we have the

00:23:26,000 --> 00:23:29,520
commands that we can do on from the cli

00:23:27,760 --> 00:23:32,240
with package install

00:23:29,520 --> 00:23:33,120
um stall deploy and list and various

00:23:32,240 --> 00:23:35,520
steps

00:23:33,120 --> 00:23:37,039
i think it's rather nice that it has

00:23:35,520 --> 00:23:37,919
that documentation and color coded at

00:23:37,039 --> 00:23:41,520
that

00:23:37,919 --> 00:23:44,000
we're going to first add a repo

00:23:41,520 --> 00:23:44,799
a package repo so look down there we

00:23:44,000 --> 00:23:46,799
have bin solar

00:23:44,799 --> 00:23:49,039
package ad repo we're calling it

00:23:46,799 --> 00:23:52,080
solaritis and then we have the url

00:23:49,039 --> 00:23:52,080
to the package repo

00:23:54,320 --> 00:23:58,960
okay now what just happened right there

00:23:57,760 --> 00:24:00,080
i want to make just so that it's a

00:23:58,960 --> 00:24:01,360
little bit less magical

00:24:00,080 --> 00:24:03,360
i'm going to go over to the solar admin

00:24:01,360 --> 00:24:05,720
screen cloud

00:24:03,360 --> 00:24:06,960
to look in zookeeper and point out that

00:24:05,720 --> 00:24:11,039
repositories.json

00:24:06,960 --> 00:24:14,080
was added to without it into zookeeper

00:24:11,039 --> 00:24:15,120
okay i find when i'm learning new things

00:24:14,080 --> 00:24:16,880
i want to understand

00:24:15,120 --> 00:24:18,159
like what is it actually doing when i

00:24:16,880 --> 00:24:21,760
what does ad repo really

00:24:18,159 --> 00:24:24,799
mean it means that it also

00:24:21,760 --> 00:24:25,200
took some keys um some public keys that

00:24:24,799 --> 00:24:26,960
are

00:24:25,200 --> 00:24:28,240
at that repository and put them on the

00:24:26,960 --> 00:24:29,919
file store so

00:24:28,240 --> 00:24:32,000
speaking of the file store it's in their

00:24:29,919 --> 00:24:33,360
solar data so that's solar home within

00:24:32,000 --> 00:24:36,720
the docker image

00:24:33,360 --> 00:24:39,840
okay so notice that there's a file store

00:24:36,720 --> 00:24:40,480
down there app store and then we have

00:24:39,840 --> 00:24:42,400
trust

00:24:40,480 --> 00:24:45,600
so in there the file store we have some

00:24:42,400 --> 00:24:48,880
trusted and there we have some keys

00:24:45,600 --> 00:24:52,080
now that we've added the repo

00:24:48,880 --> 00:24:53,840
i'm going to do a command to list

00:24:52,080 --> 00:24:56,400
available so this lists the available

00:24:53,840 --> 00:24:56,400
packages

00:24:57,520 --> 00:25:02,240
and it uh simply

00:25:00,559 --> 00:25:04,240
observes that we have the solaritis

00:25:02,240 --> 00:25:06,080
package at a certain version

00:25:04,240 --> 00:25:07,279
it's got a bit of documentation so now

00:25:06,080 --> 00:25:10,000
i'm going to

00:25:07,279 --> 00:25:10,000
install

00:25:10,720 --> 00:25:15,360
solaris so at this point there's just

00:25:13,600 --> 00:25:17,919
some metadata about this repo

00:25:15,360 --> 00:25:18,880
um nothing is installed there's just a

00:25:17,919 --> 00:25:20,400
it's just

00:25:18,880 --> 00:25:22,000
by adding the repo we're saying we trust

00:25:20,400 --> 00:25:24,720
the repo and

00:25:22,000 --> 00:25:26,840
it's we can kind of browse it but now

00:25:24,720 --> 00:25:29,039
we're actually installing

00:25:26,840 --> 00:25:30,320
solaritis a little confusing here by the

00:25:29,039 --> 00:25:33,760
way soleritis

00:25:30,320 --> 00:25:37,840
has a repo repository and solaritis

00:25:33,760 --> 00:25:37,840
is a package as well

00:25:37,919 --> 00:25:41,200
and the actual plug-in inside the

00:25:39,440 --> 00:25:42,159
package is not named solaritis

00:25:41,200 --> 00:25:44,400
thankfully that would be too many

00:25:42,159 --> 00:25:46,720
turtles on the way down it would be uh

00:25:44,400 --> 00:25:48,880
um it would be a velocity response

00:25:46,720 --> 00:25:52,000
writer or something like that

00:25:48,880 --> 00:25:54,240
okay um so this

00:25:52,000 --> 00:25:55,360
um this is now installed what did that

00:25:54,240 --> 00:25:57,840
really do

00:25:55,360 --> 00:25:59,200
i want to point out on the in the file

00:25:57,840 --> 00:26:01,760
store

00:25:59,200 --> 00:26:02,640
fancy new file store now has some jars

00:26:01,760 --> 00:26:04,720
so you see

00:26:02,640 --> 00:26:06,640
file store in package solaris is the

00:26:04,720 --> 00:26:10,240
name of the package the version number

00:26:06,640 --> 00:26:13,600
we uh

00:26:10,240 --> 00:26:16,000
what was that there we go so we have a

00:26:13,600 --> 00:26:18,400
package manifest and we have some jars

00:26:16,000 --> 00:26:19,039
both that hold the plug in itself and

00:26:18,400 --> 00:26:22,080
its

00:26:19,039 --> 00:26:25,360
dependencies okay

00:26:22,080 --> 00:26:28,640
and uh what

00:26:25,360 --> 00:26:32,080
uh but at this point installing

00:26:28,640 --> 00:26:35,440
simply means that the plugin is

00:26:32,080 --> 00:26:36,720
uh that the jar files are are there

00:26:35,440 --> 00:26:39,200
but i pointed out earlier about

00:26:36,720 --> 00:26:40,240
configuration it's not installed doesn't

00:26:39,200 --> 00:26:42,559
mean it's

00:26:40,240 --> 00:26:44,559
totally actually ready to use it like

00:26:42,559 --> 00:26:46,960
this moment we can't query solar

00:26:44,559 --> 00:26:48,799
using this plug-in it simply means uh

00:26:46,960 --> 00:26:50,400
it's available to be used okay

00:26:48,799 --> 00:26:53,039
so that's what installation does it puts

00:26:50,400 --> 00:26:55,919
the jar files on the solar nodes

00:26:53,039 --> 00:26:56,880
the next step is to what's called deploy

00:26:55,919 --> 00:27:00,480
the packages

00:26:56,880 --> 00:27:03,200
and that's comprised of two steps let me

00:27:00,480 --> 00:27:03,200
paste right here

00:27:05,120 --> 00:27:09,679
i'm going to do package deploy dash y

00:27:08,080 --> 00:27:11,360
means answer yes to all questions

00:27:09,679 --> 00:27:13,679
solaris is what we're deploying we're

00:27:11,360 --> 00:27:15,200
going to deploy this to the collections

00:27:13,679 --> 00:27:16,720
uh a list of collections in this case

00:27:15,200 --> 00:27:19,760
it's just one collection

00:27:16,720 --> 00:27:20,080
it's common delimited my underscore data

00:27:19,760 --> 00:27:23,200
um

00:27:20,080 --> 00:27:25,440
and dash p d f equals that wraps around

00:27:23,200 --> 00:27:28,720
so um

00:27:25,440 --> 00:27:28,720
let's make it a little bit more clear

00:27:28,960 --> 00:27:33,200
that will work or did i mess that up

00:27:31,679 --> 00:27:37,120
because i uh

00:27:33,200 --> 00:27:40,320
did that live well anyway um

00:27:37,120 --> 00:27:41,919
so uh back up for a second so this

00:27:40,320 --> 00:27:44,080
is deploying it so the first step of

00:27:41,919 --> 00:27:45,919
deploying is configuration

00:27:44,080 --> 00:27:47,279
so at the very top it tells you it shows

00:27:45,919 --> 00:27:49,039
you the configuration it's doing and

00:27:47,279 --> 00:27:49,679
these configuration steps are coming

00:27:49,039 --> 00:27:52,480
from the

00:27:49,679 --> 00:27:53,039
package metadata that whoever crafted

00:27:52,480 --> 00:27:55,679
the package

00:27:53,039 --> 00:27:58,080
put there so they chose to add a query

00:27:55,679 --> 00:27:59,520
response writer named soleritis so proxy

00:27:58,080 --> 00:28:01,039
myself i said before that the

00:27:59,520 --> 00:28:03,360
plugin itself is not named solar right

00:28:01,039 --> 00:28:06,320
as well it is so we have a repo

00:28:03,360 --> 00:28:08,320
a package and a plug-in named solaritis

00:28:06,320 --> 00:28:08,880
uh in practice by the way i expect the

00:28:08,320 --> 00:28:11,840
repo

00:28:08,880 --> 00:28:13,360
to be solar.cool right now i mean things

00:28:11,840 --> 00:28:16,720
are early days

00:28:13,360 --> 00:28:19,440
so there isn't yet this single place

00:28:16,720 --> 00:28:20,320
for uh for all packages but we'd i'd

00:28:19,440 --> 00:28:22,159
like solaritis

00:28:20,320 --> 00:28:23,279
excuse me uh solar.cool to be that place

00:28:22,159 --> 00:28:24,320
and then we would go there we wouldn't

00:28:23,279 --> 00:28:27,440
be going to

00:28:24,320 --> 00:28:30,640
um um

00:28:27,440 --> 00:28:31,840
solaritis eric

00:28:30,640 --> 00:28:33,919
eric catcher is correct to me on how to

00:28:31,840 --> 00:28:35,919
pronounce it it

00:28:33,919 --> 00:28:37,679
sounds like an std i don't know but he

00:28:35,919 --> 00:28:40,880
says it's pronounced differently

00:28:37,679 --> 00:28:42,080
okay i i digress let's continue um so we

00:28:40,880 --> 00:28:44,080
have uh

00:28:42,080 --> 00:28:45,600
okay so the package includes

00:28:44,080 --> 00:28:46,480
configuration that configuration is

00:28:45,600 --> 00:28:48,080
printed right here

00:28:46,480 --> 00:28:49,840
it tells you what it's doing we're

00:28:48,080 --> 00:28:50,480
adding a response writer a request

00:28:49,840 --> 00:28:52,799
handler

00:28:50,480 --> 00:28:53,919
interestingly here only the first one is

00:28:52,799 --> 00:28:56,960
fundamentally

00:28:53,919 --> 00:28:58,000
the actual plugin provided by the this

00:28:56,960 --> 00:29:00,880
package

00:28:58,000 --> 00:29:02,960
adding request handler is uh adding

00:29:00,880 --> 00:29:04,399
configuration elements pointing to solar

00:29:02,960 --> 00:29:05,679
components like search handler that are

00:29:04,399 --> 00:29:08,000
built into solar itself

00:29:05,679 --> 00:29:09,760
so you can put anything really in the

00:29:08,000 --> 00:29:12,080
for better or worse you can put anything

00:29:09,760 --> 00:29:14,000
in the configuration for a given package

00:29:12,080 --> 00:29:15,760
you can configure request handlers and

00:29:14,000 --> 00:29:18,000
or whatever um in this case

00:29:15,760 --> 00:29:19,360
it's all kind of designed to demo it i

00:29:18,000 --> 00:29:20,480
think in practice if you really wanted

00:29:19,360 --> 00:29:23,120
to use this and i've seen

00:29:20,480 --> 00:29:23,919
an i think an ad agency company use it

00:29:23,120 --> 00:29:26,960
to

00:29:23,919 --> 00:29:30,080
serve little html snippets in production

00:29:26,960 --> 00:29:32,080
um you know you in practice you you'd

00:29:30,080 --> 00:29:33,840
set up the configuration that suits you

00:29:32,080 --> 00:29:35,919
you would do that yourself you would not

00:29:33,840 --> 00:29:37,039
accept the configuration from the plugin

00:29:35,919 --> 00:29:40,159
because you'd want to

00:29:37,039 --> 00:29:42,480
have uh full control over over that okay

00:29:40,159 --> 00:29:44,640
and some other things okay and it's okay

00:29:42,480 --> 00:29:47,840
so once that configuration happens then

00:29:44,640 --> 00:29:49,200
the applicable collections are um

00:29:47,840 --> 00:29:51,840
those collections are potentially

00:29:49,200 --> 00:29:52,640
reloaded or the plugins are hot loaded

00:29:51,840 --> 00:29:55,679
it depends

00:29:52,640 --> 00:29:56,559
if if one of the plugins a require if

00:29:55,679 --> 00:30:00,320
any one of the

00:29:56,559 --> 00:30:03,120
involved uh plugins

00:30:00,320 --> 00:30:04,640
require a reload for them to be usable

00:30:03,120 --> 00:30:07,520
then the solar core is reloaded

00:30:04,640 --> 00:30:08,399
if all of the ones deployed are hot

00:30:07,520 --> 00:30:10,320
loadable

00:30:08,399 --> 00:30:14,159
then you'll have a hot load and you

00:30:10,320 --> 00:30:14,159
won't have a solar core reload

00:30:14,799 --> 00:30:19,679
okay so uh i want to point out that this

00:30:17,679 --> 00:30:22,240
um

00:30:19,679 --> 00:30:24,320
that the change there so the those were

00:30:22,240 --> 00:30:28,559
configuration api commands

00:30:24,320 --> 00:30:31,760
that uh configure uh

00:30:28,559 --> 00:30:33,600
that result in some straightforward um

00:30:31,760 --> 00:30:36,000
changes uh so my data is the name of the

00:30:33,600 --> 00:30:38,720
config and there's a couple

00:30:36,000 --> 00:30:38,720
there's um

00:30:39,200 --> 00:30:42,960
i want to point out params

00:30:44,480 --> 00:30:46,799
i want to point out something i don't

00:30:45,600 --> 00:30:48,960
see at the moment anyway let me hit

00:30:46,799 --> 00:30:52,080
reload right here

00:30:48,960 --> 00:30:54,159
there it is okay so this this is solar

00:30:52,080 --> 00:30:56,399
solaritis running this is powered by

00:30:54,159 --> 00:30:59,279
solarizer so we know it's installed

00:30:56,399 --> 00:31:00,320
um i'm going to hit reload on this tree

00:30:59,279 --> 00:31:04,880
config

00:31:00,320 --> 00:31:07,919
my data okay here we go and params.json

00:31:04,880 --> 00:31:11,919
this is one thing i want to point out

00:31:07,919 --> 00:31:15,679
parameters are where the

00:31:11,919 --> 00:31:16,880
packages the packages are referenced and

00:31:15,679 --> 00:31:17,760
the versions are referenced in the

00:31:16,880 --> 00:31:20,240
config set

00:31:17,760 --> 00:31:21,600
so that's where the linkage is it's not

00:31:20,240 --> 00:31:22,880
actually in solar config

00:31:21,600 --> 00:31:25,279
it's in this and the reason why is

00:31:22,880 --> 00:31:27,919
because this needs to be dynamically

00:31:25,279 --> 00:31:29,679
modifiable insular config is not

00:31:27,919 --> 00:31:32,000
dynamically modifiable at least not by

00:31:29,679 --> 00:31:33,679
code i mean you can edit it yourself but

00:31:32,000 --> 00:31:35,519
the system can't do that so instead it's

00:31:33,679 --> 00:31:38,640
done with params

00:31:35,519 --> 00:31:41,360
and uh i want to say config overlay

00:31:38,640 --> 00:31:43,600
right this is also config overlay is

00:31:41,360 --> 00:31:47,600
overlaid on top of solar config this is

00:31:43,600 --> 00:31:50,000
uh changeable changeable configuration

00:31:47,600 --> 00:31:51,519
dynamically so this here we see the

00:31:50,000 --> 00:31:53,279
solaritis response writer

00:31:51,519 --> 00:31:54,640
and we see the slash browser request

00:31:53,279 --> 00:31:58,640
saying they're powered by search

00:31:54,640 --> 00:31:58,640
being added okay

00:31:58,840 --> 00:32:04,880
so that showed some auto magic

00:32:02,320 --> 00:32:06,960
stuff happening uh rest assured if you

00:32:04,880 --> 00:32:09,279
don't want the auto magic

00:32:06,960 --> 00:32:10,399
package packages that self-configure

00:32:09,279 --> 00:32:12,080
themselves

00:32:10,399 --> 00:32:13,519
uh you don't have to do that but you

00:32:12,080 --> 00:32:14,000
have to kind of accomplish the same

00:32:13,519 --> 00:32:17,120
somehow

00:32:14,000 --> 00:32:19,120
of what it does so

00:32:17,120 --> 00:32:21,600
you depending on how you go about

00:32:19,120 --> 00:32:24,880
managing your config at your company

00:32:21,600 --> 00:32:26,720
you can either edit uh files and it can

00:32:24,880 --> 00:32:29,360
fix that like for example perhaps your

00:32:26,720 --> 00:32:30,559
config set is in source control and you

00:32:29,360 --> 00:32:33,440
edit the xml

00:32:30,559 --> 00:32:34,799
and jsons and txt files et cetera of

00:32:33,440 --> 00:32:35,440
your schema et cetera perhaps you go

00:32:34,799 --> 00:32:36,640
that approach

00:32:35,440 --> 00:32:39,039
i'm very familiar with that approach i

00:32:36,640 --> 00:32:41,679
do that almost everywhere i use solar

00:32:39,039 --> 00:32:42,399
or perhaps you prefer to use the config

00:32:41,679 --> 00:32:45,519
api

00:32:42,399 --> 00:32:47,120
to manipulate um to basically in the

00:32:45,519 --> 00:32:49,039
config api you can

00:32:47,120 --> 00:32:50,399
set params you can set response writer

00:32:49,039 --> 00:32:52,320
you can do those things that way

00:32:50,399 --> 00:32:53,679
and that's a more um i want to say more

00:32:52,320 --> 00:32:55,440
imperative approach

00:32:53,679 --> 00:32:56,880
where you're running little bits of code

00:32:55,440 --> 00:32:58,320
that do the configuration

00:32:56,880 --> 00:32:59,919
so i'm not going to tell you what's the

00:32:58,320 --> 00:33:01,360
right way there is no right way there's

00:32:59,919 --> 00:33:03,440
pros and cons to both

00:33:01,360 --> 00:33:05,919
so on the screen here we see an example

00:33:03,440 --> 00:33:07,760
of what the pram json looks like

00:33:05,919 --> 00:33:09,600
if you were to do this manually so here

00:33:07,760 --> 00:33:11,440
we see the param

00:33:09,600 --> 00:33:13,360
setup for the package we also see some

00:33:11,440 --> 00:33:15,440
parameters being added

00:33:13,360 --> 00:33:16,960
and i don't know what the v0 and v1 is

00:33:15,440 --> 00:33:20,159
by the way so don't ask me

00:33:16,960 --> 00:33:21,600
um and the version linkage from

00:33:20,159 --> 00:33:23,760
for that particular package is there as

00:33:21,600 --> 00:33:24,880
well and so config side this is the most

00:33:23,760 --> 00:33:25,679
probably most important part i want to

00:33:24,880 --> 00:33:28,399
show you

00:33:25,679 --> 00:33:30,240
notice that the class reference the

00:33:28,399 --> 00:33:33,840
class reference is normally

00:33:30,240 --> 00:33:35,279
solar dot uh a simple class name because

00:33:33,840 --> 00:33:37,760
solar has so many built-in ones

00:33:35,279 --> 00:33:38,640
that you can there's a sort of a an

00:33:37,760 --> 00:33:40,960
abbreviation

00:33:38,640 --> 00:33:42,000
or it's a fully qualified class name to

00:33:40,960 --> 00:33:44,559
your plugin which is

00:33:42,000 --> 00:33:46,080
what people do for your own plugin here

00:33:44,559 --> 00:33:49,200
we're showing that you pref

00:33:46,080 --> 00:33:52,399
if if the class contains a colon

00:33:49,200 --> 00:33:54,880
it's interpreted as the plug-in

00:33:52,399 --> 00:33:56,640
coming from the package named by what's

00:33:54,880 --> 00:33:58,480
left of that colon this case toleritis

00:33:56,640 --> 00:34:00,799
so that's the magic linkage

00:33:58,480 --> 00:34:02,000
between your config set and referring to

00:34:00,799 --> 00:34:03,440
plugins eleven packages

00:34:02,000 --> 00:34:04,720
otherwise if you don't do that it will

00:34:03,440 --> 00:34:06,000
try to resolve this from the default

00:34:04,720 --> 00:34:08,320
class loader which doesn't have solar

00:34:06,000 --> 00:34:08,320
rates

00:34:08,560 --> 00:34:13,040
okay so how to create a package i'm very

00:34:10,879 --> 00:34:15,280
briefly um can you give me a time update

00:34:13,040 --> 00:34:16,560
um answering or somebody i want to see

00:34:15,280 --> 00:34:20,480
much more time i have left

00:34:16,560 --> 00:34:23,679
let me jump over to uh

00:34:20,480 --> 00:34:24,879
solar itis i want to point out um i want

00:34:23,679 --> 00:34:25,919
to point out uh

00:34:24,879 --> 00:34:28,240
if you were if you wanted to make your

00:34:25,919 --> 00:34:30,320
own package what's involved here

00:34:28,240 --> 00:34:31,280
so from from a writing a plug-in

00:34:30,320 --> 00:34:32,960
standpoint

00:34:31,280 --> 00:34:35,359
nothing you write plug-ins the same way

00:34:32,960 --> 00:34:36,960
a solar plug-in hasn't changed at all

00:34:35,359 --> 00:34:39,200
what's different is that you're adding

00:34:36,960 --> 00:34:41,359
there's this new concept of a package

00:34:39,200 --> 00:34:42,639
and that comes down to metadata about

00:34:41,359 --> 00:34:45,040
your package

00:34:42,639 --> 00:34:46,159
so i'm going to go into repo which has

00:34:45,040 --> 00:34:48,560
the public key

00:34:46,159 --> 00:34:50,480
of this repository and here is where we

00:34:48,560 --> 00:34:52,720
have the json for this repository

00:34:50,480 --> 00:34:54,399
and in that repository is where the

00:34:52,720 --> 00:34:56,399
package information is

00:34:54,399 --> 00:34:57,440
if i'm not mistaken i believe the

00:34:56,399 --> 00:35:00,720
package information

00:34:57,440 --> 00:35:02,560
can also be provided separately from

00:35:00,720 --> 00:35:02,960
repository i think it might be able to

00:35:02,560 --> 00:35:04,880
be

00:35:02,960 --> 00:35:07,040
placeable inside the jar but don't hold

00:35:04,880 --> 00:35:08,640
me to that

00:35:07,040 --> 00:35:10,640
so if we see an example of that here

00:35:08,640 --> 00:35:13,839
this repository lists see it starts with

00:35:10,640 --> 00:35:13,839
an array because it lists

00:35:14,480 --> 00:35:17,920
the repository is fundamental

00:35:16,320 --> 00:35:19,760
fundamentally a list of packages

00:35:17,920 --> 00:35:21,440
so here we see the array opening there's

00:35:19,760 --> 00:35:23,359
the first package we see

00:35:21,440 --> 00:35:25,440
its name description and a list of

00:35:23,359 --> 00:35:26,640
versions and blow in we see some url and

00:35:25,440 --> 00:35:28,640
signatures

00:35:26,640 --> 00:35:30,320
um one thing that's kind of cool is that

00:35:28,640 --> 00:35:30,880
as you release new versions versions

00:35:30,320 --> 00:35:32,400
that have

00:35:30,880 --> 00:35:34,000
the same dependencies you can still

00:35:32,400 --> 00:35:37,760
refer to the same links

00:35:34,000 --> 00:35:38,720
um so in i believe on the solar side

00:35:37,760 --> 00:35:39,520
that doesn't mean you need to

00:35:38,720 --> 00:35:40,960
re-download

00:35:39,520 --> 00:35:43,280
all the dependencies that you may have

00:35:40,960 --> 00:35:45,440
in common with your plugin as it

00:35:43,280 --> 00:35:47,200
updates this version we have some

00:35:45,440 --> 00:35:49,200
version constraints

00:35:47,200 --> 00:35:50,320
this case is h9 and then we have the

00:35:49,200 --> 00:35:52,880
uninstall command

00:35:50,320 --> 00:35:53,839
verify command setup command these are

00:35:52,880 --> 00:35:56,880
the configuration

00:35:53,839 --> 00:35:58,800
api calls to solar

00:35:56,880 --> 00:35:59,839
if you want this if you don't want it

00:35:58,800 --> 00:36:02,160
don't have them it's up to you to

00:35:59,839 --> 00:36:03,200
manually set that up

00:36:02,160 --> 00:36:05,359
and we can see some variable

00:36:03,200 --> 00:36:09,200
substitution here about how it refers to

00:36:05,359 --> 00:36:11,920
the names of parameters and such um

00:36:09,200 --> 00:36:13,520
let me see what else uh that's kind of

00:36:11,920 --> 00:36:15,359
the gist of it i i would i would

00:36:13,520 --> 00:36:16,560
learn by observation and seeing what

00:36:15,359 --> 00:36:18,480
existing packages do

00:36:16,560 --> 00:36:20,079
in terms of how to package up your own

00:36:18,480 --> 00:36:24,800
okay let me go back to

00:36:20,079 --> 00:36:28,320
the presentation and

00:36:24,800 --> 00:36:32,720
here we are okay

00:36:28,320 --> 00:36:32,720
yeah future work so um

00:36:32,880 --> 00:36:39,040
the package manager is um

00:36:36,240 --> 00:36:39,680
done-ish um i mean it's it works there's

00:36:39,040 --> 00:36:41,680
more

00:36:39,680 --> 00:36:44,000
that could be done internally the the

00:36:41,680 --> 00:36:46,560
biggest thing that i think is necessary

00:36:44,000 --> 00:36:49,040
is for it to support more plug-in types

00:36:46,560 --> 00:36:51,599
i mentioned 150 plus plug-in types

00:36:49,040 --> 00:36:53,119
um a small fraction of those are

00:36:51,599 --> 00:36:55,599
supported right now

00:36:53,119 --> 00:36:56,400
uh fortunately those are the most

00:36:55,599 --> 00:36:58,640
popular

00:36:56,400 --> 00:37:00,480
so i think this is typical 80 to 80 20

00:36:58,640 --> 00:37:03,440
rule you've heard like the most popular

00:37:00,480 --> 00:37:04,880
plugins are the 20 and 80 of the most

00:37:03,440 --> 00:37:07,760
popular plugins are

00:37:04,880 --> 00:37:08,320
uh held in 20 anyway i'm screwing that

00:37:07,760 --> 00:37:10,320
up

00:37:08,320 --> 00:37:12,640
so i think we've covered the the big

00:37:10,320 --> 00:37:14,240
bases but there's more to cover there

00:37:12,640 --> 00:37:16,480
i would love it if solar standalone

00:37:14,240 --> 00:37:18,240
supported this it doesn't uh because of

00:37:16,480 --> 00:37:19,440
some of that metadata isn't zookeeper i

00:37:18,240 --> 00:37:21,359
don't think it's a strong linkage if

00:37:19,440 --> 00:37:22,800
someone wants to make that happen um

00:37:21,359 --> 00:37:26,079
i'd love to see a contributions that

00:37:22,800 --> 00:37:26,079
make it work in standalone as well

00:37:26,560 --> 00:37:30,560
some plug-ins support hot loading some

00:37:28,240 --> 00:37:34,640
doesn't some don't

00:37:30,560 --> 00:37:36,400
some could be made to in particular the

00:37:34,640 --> 00:37:38,000
schema i forget what the latest is the

00:37:36,400 --> 00:37:40,720
hope is that 8.7

00:37:38,000 --> 00:37:42,240
supports any plug-in in the schema it

00:37:40,720 --> 00:37:43,440
that was the case then it temporarily

00:37:42,240 --> 00:37:45,359
wasn't the case and i think it's back to

00:37:43,440 --> 00:37:46,960
be the case now there's some test

00:37:45,359 --> 00:37:49,599
uh flaky test issues that are we're

00:37:46,960 --> 00:37:53,040
dealing with at the moment

00:37:49,599 --> 00:37:54,320
and okay uh

00:37:53,040 --> 00:37:56,160
most of the future work though i think

00:37:54,320 --> 00:37:57,920
is on usage of the package manager

00:37:56,160 --> 00:38:00,320
okay i mean the package measure's there

00:37:57,920 --> 00:38:03,599
it works uh we all need to use it

00:38:00,320 --> 00:38:06,320
so we have our contribs

00:38:03,599 --> 00:38:08,000
can be packaged even the admin ui can be

00:38:06,320 --> 00:38:10,160
packaged in fact there are competing

00:38:08,000 --> 00:38:11,839
admin uis i didn't even know this until

00:38:10,160 --> 00:38:13,599
uh a few months ago that there's there

00:38:11,839 --> 00:38:17,040
are other admin ui for solar

00:38:13,599 --> 00:38:18,320
yasa is uh seems to be the leading one

00:38:17,040 --> 00:38:20,320
kind of blew me away that i didn't know

00:38:18,320 --> 00:38:23,520
about such things but yes

00:38:20,320 --> 00:38:24,960
and uh that that can be that can be

00:38:23,520 --> 00:38:27,040
deployed as a plug-in because

00:38:24,960 --> 00:38:28,240
plug-ins can actually have ui components

00:38:27,040 --> 00:38:32,640
to them just

00:38:28,240 --> 00:38:34,800
not at all obvious but it's true

00:38:32,640 --> 00:38:36,000
can and uh yeah can trips need to be

00:38:34,800 --> 00:38:39,520
converted packages and

00:38:36,000 --> 00:38:41,599
basically solar in nine uh it

00:38:39,520 --> 00:38:45,839
the the contrib directory is going to be

00:38:41,599 --> 00:38:47,920
the basically a pre-trusted

00:38:45,839 --> 00:38:49,359
a pre-added repo from the point of view

00:38:47,920 --> 00:38:50,960
of the package manager and therefore the

00:38:49,359 --> 00:38:52,800
contribs can be

00:38:50,960 --> 00:38:54,240
deployable as one step away instead of

00:38:52,800 --> 00:38:57,680
installing and

00:38:54,240 --> 00:39:00,400
we envision a slim slow alert slim

00:38:57,680 --> 00:39:01,680
solar that is slim down doesn't have a

00:39:00,400 --> 00:39:03,280
lot of these extraneous things doesn't

00:39:01,680 --> 00:39:04,640
have the contribs in their dependencies

00:39:03,280 --> 00:39:06,400
and instead those are downloaded on

00:39:04,640 --> 00:39:08,240
demand i'm really excited about that

00:39:06,400 --> 00:39:11,440
there's a jira issue

00:39:08,240 --> 00:39:14,160
um and so i'm hold on uh

00:39:11,440 --> 00:39:15,440
and promotion of solar.cool uh i think

00:39:14,160 --> 00:39:18,640
this will happen organically

00:39:15,440 --> 00:39:20,960
as plug-ins start leaving

00:39:18,640 --> 00:39:22,079
solar and get getting packaged they then

00:39:20,960 --> 00:39:23,520
need to find homes

00:39:22,079 --> 00:39:25,440
and people need to find them in those

00:39:23,520 --> 00:39:27,440
homes knowing about the existence of

00:39:25,440 --> 00:39:28,160
solaritis on github at error catchers is

00:39:27,440 --> 00:39:29,839
that's not

00:39:28,160 --> 00:39:31,200
going to cut it it needs to be

00:39:29,839 --> 00:39:31,839
registered until they're not cool we all

00:39:31,200 --> 00:39:33,520
need to go to

00:39:31,839 --> 00:39:35,200
that cool to find out where our packages

00:39:33,520 --> 00:39:39,680
are and ideally be able to use it

00:39:35,200 --> 00:39:39,680
with with the ad repo in the cli okay

00:39:40,320 --> 00:39:44,400
thank you um let me see 136 i could

00:39:42,880 --> 00:39:48,800
definitely talk about some more

00:39:44,400 --> 00:39:52,960
um uh some more things so

00:39:48,800 --> 00:39:56,880
that's the end of my presentation um

00:39:52,960 --> 00:40:00,480
i forget how much more time i have here

00:39:56,880 --> 00:40:00,480
i need to bring up my calendar

00:40:03,440 --> 00:40:10,160
okay i think that's it i've used up all

00:40:05,440 --> 00:40:13,760
the time oops

00:40:10,160 --> 00:40:14,240
am i yes i have thanks everybody for

00:40:13,760 --> 00:40:15,440
coming

00:40:14,240 --> 00:40:17,040
i have no more time for questions i'm

00:40:15,440 --> 00:40:19,520
sorry about that um i'm sure you want to

00:40:17,040 --> 00:40:22,880
get to the next uh presentation

00:40:19,520 --> 00:40:24,400
um so yeah i thought the answer might

00:40:22,880 --> 00:40:26,960
jump on but yeah yeah

00:40:24,400 --> 00:40:27,599
so it's really exciting um and it's

00:40:26,960 --> 00:40:30,160
growing

00:40:27,599 --> 00:40:30,800
please uh please check out the package

00:40:30,160 --> 00:40:33,200
manager

00:40:30,800 --> 00:40:35,119
it's super important for solar for this

00:40:33,200 --> 00:40:38,079
for the health of solar project

00:40:35,119 --> 00:40:39,760
um yeah and thank you and thanks for

00:40:38,079 --> 00:40:52,480
coming to apachecon

00:40:39,760 --> 00:40:52,480

YouTube URL: https://www.youtube.com/watch?v=6VkUdG_5reQ


