Title: Bringing NetApp Data ONTAP & Apache Cloudstack Together - David La Motta
Publication date: 2014-05-05
Playlist: CloudStack Collaboration Conference North America 2014
Description: 
	CloudStack Collaboration Conference North America 2014
Captions: 
	00:00:00,000 --> 00:00:05,130
well welcome everybody my name is David

00:00:03,149 --> 00:00:08,730
LaMotta I am a technical marketing

00:00:05,130 --> 00:00:11,580
engineer at netapp and the intent of

00:00:08,730 --> 00:00:13,170
this talk is really to bring some

00:00:11,580 --> 00:00:15,450
awareness of the things that cluster

00:00:13,170 --> 00:00:17,670
data ONTAP can do and the integration

00:00:15,450 --> 00:00:19,410
that we have with CloudStack in the form

00:00:17,670 --> 00:00:21,840
of a plug-in and what we're going to be

00:00:19,410 --> 00:00:24,240
doing in this session and it's very it's

00:00:21,840 --> 00:00:26,730
very tight 30 minutes is a short time so

00:00:24,240 --> 00:00:28,619
I'm going to you know try to go through

00:00:26,730 --> 00:00:29,820
this as fast as I can with you know

00:00:28,619 --> 00:00:32,130
without hitting the important pieces

00:00:29,820 --> 00:00:34,410
we're going to do a live demo during

00:00:32,130 --> 00:00:37,410
this session so wish me luck live demos

00:00:34,410 --> 00:00:40,530
are always fun right so first and

00:00:37,410 --> 00:00:42,480
foremost you know cluster data ONTAP you

00:00:40,530 --> 00:00:44,850
know goodness for the cloud who here

00:00:42,480 --> 00:00:47,550
runs netapp on the backend for your

00:00:44,850 --> 00:00:50,489
storage and are you guys running closer

00:00:47,550 --> 00:00:54,170
mode or seven mode do you don't know oh

00:00:50,489 --> 00:00:58,070
you know what's running that's good so

00:00:54,170 --> 00:01:01,079
cluster data ONTAP is you know the

00:00:58,070 --> 00:01:02,489
newest junt the newer generation of the

00:01:01,079 --> 00:01:06,720
operating system that runs on our

00:01:02,489 --> 00:01:09,510
storage arrays and I want to focus on

00:01:06,720 --> 00:01:11,240
Anna keep pieces of functionality that

00:01:09,510 --> 00:01:13,860
cluster data ONTAP brings to the table

00:01:11,240 --> 00:01:15,600
non-disruptive operations we've heard in

00:01:13,860 --> 00:01:17,060
previous talks my except where

00:01:15,600 --> 00:01:19,619
everybody's talking about scale out

00:01:17,060 --> 00:01:21,810
cluster data ONTAP allows you that same

00:01:19,619 --> 00:01:25,080
type of scale up you can add more

00:01:21,810 --> 00:01:28,140
controllers more disks spinning disks

00:01:25,080 --> 00:01:29,400
ssds the flavor is up to you what what

00:01:28,140 --> 00:01:31,200
you want to choose for your controller

00:01:29,400 --> 00:01:34,079
for your control for your cluster

00:01:31,200 --> 00:01:37,470
controllers so the non-disruptive

00:01:34,079 --> 00:01:39,240
operations include you can upgrade the

00:01:37,470 --> 00:01:41,159
firmware on your disks you can change

00:01:39,240 --> 00:01:42,689
the shelves you can upgrade the

00:01:41,159 --> 00:01:46,380
operating system everything without

00:01:42,689 --> 00:01:49,470
taking a hit on your operations load

00:01:46,380 --> 00:01:52,860
balancing is also part of this model of

00:01:49,470 --> 00:01:54,840
clustering and your controllers and one

00:01:52,860 --> 00:01:57,030
thing that's important that I always

00:01:54,840 --> 00:01:58,799
like to bring in it it meshes extremely

00:01:57,030 --> 00:02:00,390
well with the way cloudstack and you

00:01:58,799 --> 00:02:02,880
know the cloud model works is the

00:02:00,390 --> 00:02:04,829
concept of multi-tenancy cluster data

00:02:02,880 --> 00:02:07,350
ONTAP has the concept of a storage

00:02:04,829 --> 00:02:10,890
virtual machine so while you may have a

00:02:07,350 --> 00:02:12,660
physical box that has the disks and

00:02:10,890 --> 00:02:13,470
aggregates behind it there's this

00:02:12,660 --> 00:02:15,030
construct of a

00:02:13,470 --> 00:02:17,970
stored virtual machine that's an

00:02:15,030 --> 00:02:20,280
encapsulation of security network

00:02:17,970 --> 00:02:22,680
connectivity and volumes and you can

00:02:20,280 --> 00:02:25,170
apply a storage virtual machine to an

00:02:22,680 --> 00:02:26,760
independent tenant so in them in the

00:02:25,170 --> 00:02:28,860
model of clouds that we can use let's

00:02:26,760 --> 00:02:30,750
say you have Pepsi you have coke you

00:02:28,860 --> 00:02:33,120
don't want them to see their data you

00:02:30,750 --> 00:02:35,550
can create an SVM for Pepsi and svm cook

00:02:33,120 --> 00:02:38,490
for Coke sharing on the same storage

00:02:35,550 --> 00:02:40,020
array same same physical box but their

00:02:38,490 --> 00:02:41,280
data will be kept separate from one

00:02:40,020 --> 00:02:45,000
another and they will never be able to

00:02:41,280 --> 00:02:46,320
see the data from one SVM to another the

00:02:45,000 --> 00:02:48,870
next slide talks about the storage

00:02:46,320 --> 00:02:50,670
efficiency functionality that cluster

00:02:48,870 --> 00:02:52,560
data ONTAP has you know we've talked

00:02:50,670 --> 00:02:54,830
about ray DP there's no needing to go a

00:02:52,560 --> 00:02:58,130
lot of this I do want to point out

00:02:54,830 --> 00:03:01,500
flexkom technology and snapshots which

00:02:58,130 --> 00:03:04,110
are plug-in leverages heavily so flex

00:03:01,500 --> 00:03:06,930
clone technology as you can see zero you

00:03:04,110 --> 00:03:08,090
know very very fast copies there we're

00:03:06,930 --> 00:03:10,770
doing reference at the block level

00:03:08,090 --> 00:03:13,320
underneath it so a copy is extremely

00:03:10,770 --> 00:03:15,209
fast and snapshots you know snapshots

00:03:13,320 --> 00:03:17,850
are pointing time images of your NFS

00:03:15,209 --> 00:03:21,450
volumes and they happen very very fast

00:03:17,850 --> 00:03:23,220
as well if one data protection you know

00:03:21,450 --> 00:03:25,920
cluster data ONTAP and netapp has

00:03:23,220 --> 00:03:28,590
snapvault technologies snap mirroring

00:03:25,920 --> 00:03:30,420
you can offload your your data to a safe

00:03:28,590 --> 00:03:32,250
you know off-site location where you can

00:03:30,420 --> 00:03:34,230
keep it safe so there's there's

00:03:32,250 --> 00:03:38,400
different different mechanisms to keep

00:03:34,230 --> 00:03:40,590
your data safe guarded so if we take all

00:03:38,400 --> 00:03:44,040
these concepts the multi tendency the

00:03:40,590 --> 00:03:45,780
scale out flex clones snapshots you know

00:03:44,040 --> 00:03:47,880
how are we applying that or how are we

00:03:45,780 --> 00:03:52,260
leveraging or how are we eating our own

00:03:47,880 --> 00:03:54,540
dog food basically so we have a long

00:03:52,260 --> 00:03:56,269
history of products inside of net up

00:03:54,540 --> 00:03:59,430
calls virtue of storage consoles I've

00:03:56,269 --> 00:04:02,640
happen to work on the vsc for VMware as

00:03:59,430 --> 00:04:06,030
well as the vsc for xenserver and these

00:04:02,640 --> 00:04:08,519
tools are plugins into the hypervisors

00:04:06,030 --> 00:04:10,890
craft management tools then centered we

00:04:08,519 --> 00:04:13,140
have a plug-in for vsphere and basically

00:04:10,890 --> 00:04:14,870
there are orchestration tools they allow

00:04:13,140 --> 00:04:17,970
you to operate on the storage and

00:04:14,870 --> 00:04:20,100
connect the dots behind and hook it into

00:04:17,970 --> 00:04:22,470
the hypervisors so what we've been

00:04:20,100 --> 00:04:24,240
trying to achieve with cloud stick is

00:04:22,470 --> 00:04:26,810
basically bring the same orchestration

00:04:24,240 --> 00:04:29,900
model to CloudStack

00:04:26,810 --> 00:04:33,560
the similarities are at its core as you

00:04:29,900 --> 00:04:35,870
will see in a few minutes so a few terms

00:04:33,560 --> 00:04:37,820
that I always like to get out of the way

00:04:35,870 --> 00:04:41,660
because it can be confusing if you're

00:04:37,820 --> 00:04:44,270
not too well-versed with netapp and and

00:04:41,660 --> 00:04:47,360
how we call things so are a volume for

00:04:44,270 --> 00:04:49,070
us is really an NFS volume not to be

00:04:47,360 --> 00:04:50,980
confused with CloudStack where a volume

00:04:49,070 --> 00:04:53,330
is really a vm disk or a data disk

00:04:50,980 --> 00:04:55,490
snapshots again I also mentioned that

00:04:53,330 --> 00:04:57,950
just a minute ago snapshots for us our

00:04:55,490 --> 00:05:00,440
volume level snapshots very very fast

00:04:57,950 --> 00:05:03,110
and point in time copies basically of

00:05:00,440 --> 00:05:04,880
your data on on the volume CloudStack

00:05:03,110 --> 00:05:07,610
uses the word snapshot to refer to a vm

00:05:04,880 --> 00:05:09,080
backup primary and secondary kind of

00:05:07,610 --> 00:05:11,870
mentioned a little while ago in terms of

00:05:09,080 --> 00:05:13,250
snap mirroring and snap vault primary

00:05:11,870 --> 00:05:14,570
and secondary don't need to explain to

00:05:13,250 --> 00:05:18,410
you guys you know where the isil's our

00:05:14,570 --> 00:05:20,360
cab PM's are kept etc etc last but not

00:05:18,410 --> 00:05:23,060
least a cluster you know we talked about

00:05:20,360 --> 00:05:25,970
scaling out collections of physical

00:05:23,060 --> 00:05:28,190
boxes making comprising a netapp cluster

00:05:25,970 --> 00:05:29,840
and in cloud stuck a cluster of course

00:05:28,190 --> 00:05:33,890
there's a collection of same type

00:05:29,840 --> 00:05:35,479
hypervisors so given the orchestration

00:05:33,890 --> 00:05:38,330
bits that we want to bring I mean what

00:05:35,479 --> 00:05:40,340
it what is it that we have so the plug

00:05:38,330 --> 00:05:43,310
and the vsc for Apache CloudStack has

00:05:40,340 --> 00:05:46,220
backup and recovery of virtual machines

00:05:43,310 --> 00:05:47,900
residing on VMware and we have backup

00:05:46,220 --> 00:05:50,090
and recovery of the my sequel database

00:05:47,900 --> 00:05:54,110
so long as it resides on a net up volume

00:05:50,090 --> 00:05:56,210
now Mike in the previous talk brought

00:05:54,110 --> 00:05:57,770
you know great points about backing up

00:05:56,210 --> 00:06:00,050
your database I'm backing up your

00:05:57,770 --> 00:06:03,050
virtual machines I'm sorry and we give

00:06:00,050 --> 00:06:05,810
you two layers of backups we can have

00:06:03,050 --> 00:06:09,919
the I don't care no quiescent type

00:06:05,810 --> 00:06:12,020
backup of your vm we can have also quest

00:06:09,919 --> 00:06:14,630
virtual machines and we do backups of

00:06:12,020 --> 00:06:16,370
those the last piece is application

00:06:14,630 --> 00:06:18,139
consistency that's not in this plugin

00:06:16,370 --> 00:06:19,430
but this Mike alluded earlier you can

00:06:18,139 --> 00:06:20,930
you rely on you can rely on a third

00:06:19,430 --> 00:06:24,250
party tool to achieve that the type of

00:06:20,930 --> 00:06:27,169
consistency version one of the plugin

00:06:24,250 --> 00:06:29,479
supports NFS only and storage

00:06:27,169 --> 00:06:31,729
provisioning we can do it of primary

00:06:29,479 --> 00:06:33,320
storage and we can do it of secondary

00:06:31,729 --> 00:06:35,780
storage as well directly from the cloud

00:06:33,320 --> 00:06:37,370
stuck user interface and alongside with

00:06:35,780 --> 00:06:39,530
the provisioning operation of course you

00:06:37,370 --> 00:06:40,790
get other perks you can resize it you

00:06:39,530 --> 00:06:43,370
can destroy it you can apply

00:06:40,790 --> 00:06:47,300
duplication on directly from the classic

00:06:43,370 --> 00:06:49,700
user interface storage analytics very

00:06:47,300 --> 00:06:50,780
it's very helpful for the cloud

00:06:49,700 --> 00:06:52,550
administrator to see how much you're

00:06:50,780 --> 00:06:54,530
consuming from your aggregate how much

00:06:52,550 --> 00:06:55,970
you're consuming from your volume and if

00:06:54,530 --> 00:06:58,010
you have technologies such as

00:06:55,970 --> 00:06:59,690
deduplication enabled on your volume

00:06:58,010 --> 00:07:02,030
we're going to be able to see how much

00:06:59,690 --> 00:07:05,630
you're saving on that volume all from

00:07:02,030 --> 00:07:08,000
the cloud stuck user interface and you

00:07:05,630 --> 00:07:10,340
know I don't need to read it and don't

00:07:08,000 --> 00:07:12,770
need to stress how important it is to

00:07:10,340 --> 00:07:18,650
have everything available through an API

00:07:12,770 --> 00:07:21,140
so our plug-in is makes full use of a

00:07:18,650 --> 00:07:22,760
REST API as well so if you guys want to

00:07:21,140 --> 00:07:25,700
automate provisioning storage or

00:07:22,760 --> 00:07:28,070
operating on on meta hardware through

00:07:25,700 --> 00:07:31,190
the rest api from CloudStack you can do

00:07:28,070 --> 00:07:32,870
so as well and i'll show you a blip of

00:07:31,190 --> 00:07:38,000
what those api's looks like towards on

00:07:32,870 --> 00:07:39,830
the live demo so that little fleur first

00:07:38,000 --> 00:07:41,930
blurb is a little bit of you know

00:07:39,830 --> 00:07:43,880
singing Kumbaya to ourselves you know

00:07:41,930 --> 00:07:47,600
it's we're kind of the first guys that

00:07:43,880 --> 00:07:50,090
have three level three layers of plugins

00:07:47,600 --> 00:07:52,850
all comprised into one and you'll see it

00:07:50,090 --> 00:07:55,370
in the screens in the upcoming slides

00:07:52,850 --> 00:07:57,050
and basically what we've done is we have

00:07:55,370 --> 00:07:59,480
an extension to the user interface and

00:07:57,050 --> 00:08:01,610
extension to the API and then an

00:07:59,480 --> 00:08:03,680
implementation of the storage subsystem

00:08:01,610 --> 00:08:06,650
API which gives you that that nice

00:08:03,680 --> 00:08:10,520
vendor agnostic layer for operating on

00:08:06,650 --> 00:08:12,850
the storage in terms of versions that we

00:08:10,520 --> 00:08:15,410
support for cluster data on top we

00:08:12,850 --> 00:08:17,150
starting with 82 is the first release

00:08:15,410 --> 00:08:20,960
and you know we support a to that one

00:08:17,150 --> 00:08:24,440
which just g8 a few weeks ago and what

00:08:20,960 --> 00:08:26,330
you get with you know this plugin is go

00:08:24,440 --> 00:08:28,760
to the net app support site download an

00:08:26,330 --> 00:08:31,430
RPM install it on your management server

00:08:28,760 --> 00:08:33,470
tweak one file reboot the server and the

00:08:31,430 --> 00:08:36,950
plugin is ready ready to go and to be

00:08:33,470 --> 00:08:38,510
consumed it's a no charge product so we

00:08:36,950 --> 00:08:41,720
you know you won't have to pay anything

00:08:38,510 --> 00:08:45,140
for this so one of you know the things

00:08:41,720 --> 00:08:47,660
that I like to stress is we make its it

00:08:45,140 --> 00:08:49,490
seems simple to use it it's going to it

00:08:47,660 --> 00:08:51,410
blends very well with the user interface

00:08:49,490 --> 00:08:53,210
for CloudStack but there's a lot of

00:08:51,410 --> 00:08:53,430
plumbing that's going on underneath the

00:08:53,210 --> 00:08:55,529
cup

00:08:53,430 --> 00:08:58,080
so we apply best practices when we're

00:08:55,529 --> 00:08:59,520
generating provisioning volumes resizing

00:08:58,080 --> 00:09:00,870
there's lots of checks to make sure that

00:08:59,520 --> 00:09:03,810
you're not going to corrupt your data by

00:09:00,870 --> 00:09:07,230
shrinking your volume to over overriding

00:09:03,810 --> 00:09:09,959
data and you know the first version that

00:09:07,230 --> 00:09:15,570
we support for Apache CloudStack and and

00:09:09,959 --> 00:09:17,940
Citrix call platform is 4.3 now in terms

00:09:15,570 --> 00:09:19,740
of what's coming in the future these are

00:09:17,940 --> 00:09:21,330
some of the things that that I would

00:09:19,740 --> 00:09:23,820
like to see you know as part of our

00:09:21,330 --> 00:09:26,880
roadmap cluster data ONTAP has a support

00:09:23,820 --> 00:09:28,500
for a multitude of protocols so having I

00:09:26,880 --> 00:09:31,170
scuzzy or fibre channel something that

00:09:28,500 --> 00:09:33,630
we can we can work in the future all the

00:09:31,170 --> 00:09:35,480
other VCS have their bread and butter or

00:09:33,630 --> 00:09:37,940
their strengths really has started with

00:09:35,480 --> 00:09:40,980
doing cloning of the virtual machines

00:09:37,940 --> 00:09:42,839
cloning relies on the Flex clone

00:09:40,980 --> 00:09:46,170
technology that I was relaying earlier

00:09:42,839 --> 00:09:48,930
you know we do superfast copies blot at

00:09:46,170 --> 00:09:50,310
the block level of the VMS and as a

00:09:48,930 --> 00:09:53,399
matter of fact our backup and recovery

00:09:50,310 --> 00:09:57,839
strategy uses that same technology on

00:09:53,399 --> 00:09:59,190
VMware backup and recovery for xenserver

00:09:57,839 --> 00:10:01,260
that's you know something that would

00:09:59,190 --> 00:10:02,750
really really like to see it's it's a

00:10:01,260 --> 00:10:06,750
feature that's lacking but we know that

00:10:02,750 --> 00:10:08,190
we want to put it in there so after you

00:10:06,750 --> 00:10:09,750
know giving everything you know a little

00:10:08,190 --> 00:10:11,580
bit of cluster date on tab I mean these

00:10:09,750 --> 00:10:13,380
talks can last an hour on their own but

00:10:11,580 --> 00:10:15,060
you know just kind of condensed view of

00:10:13,380 --> 00:10:17,940
what cluster data ONTAP can do for your

00:10:15,060 --> 00:10:20,070
cloud and what the plug-in does and what

00:10:17,940 --> 00:10:25,850
it looks like you know I'll switch over

00:10:20,070 --> 00:10:25,850
to an environment here that I have

00:10:32,540 --> 00:10:43,210
alright so this is let me go here this

00:10:38,930 --> 00:10:45,290
is a cloud platform 4.3 installation and

00:10:43,210 --> 00:10:47,330
you would we're not going to go over the

00:10:45,290 --> 00:10:49,220
installation steps to you know to get

00:10:47,330 --> 00:10:50,960
the RPM installed or anything but after

00:10:49,220 --> 00:10:52,520
you reboot your management server this

00:10:50,960 --> 00:10:54,530
is what you would see in the virtual

00:10:52,520 --> 00:10:59,900
storage console for Apache CloudStack

00:10:54,530 --> 00:11:02,320
and sorry about that let me just refresh

00:10:59,900 --> 00:11:02,320
this guy

00:11:08,630 --> 00:11:14,360
so this is an area where we allow you to

00:11:12,020 --> 00:11:16,550
enter information about your storage

00:11:14,360 --> 00:11:18,050
array your controllers as we do low

00:11:16,550 --> 00:11:20,120
level communication obviously to

00:11:18,050 --> 00:11:23,720
provision the volumes resize them into

00:11:20,120 --> 00:11:27,020
etc so this is an area where you can add

00:11:23,720 --> 00:11:29,990
your controller and I'll just go ahead

00:11:27,020 --> 00:11:39,230
and remove this guy basic information

00:11:29,990 --> 00:11:41,540
about the controllers and this is the

00:11:39,230 --> 00:11:44,150
screen if you have those storage virtual

00:11:41,540 --> 00:11:45,770
machines that I alluded to earlier as a

00:11:44,150 --> 00:11:48,320
cloud administrator you know we're

00:11:45,770 --> 00:11:49,550
trying to empower that person to be able

00:11:48,320 --> 00:11:51,380
to manage the storage without

00:11:49,550 --> 00:11:54,110
necessarily having to go over to the

00:11:51,380 --> 00:11:57,680
storage administrator so here you could

00:11:54,110 --> 00:12:02,060
add directly svm svm 14 copious vm2 for

00:11:57,680 --> 00:12:04,280
Pepsi and then via storage tagging you

00:12:02,060 --> 00:12:06,110
could assign you know the compute

00:12:04,280 --> 00:12:08,600
offerings in the disk offerings for coke

00:12:06,110 --> 00:12:11,090
can go to one SVM via the storage tags

00:12:08,600 --> 00:12:18,290
and for Pepsi vs Torah storage text to

00:12:11,090 --> 00:12:20,270
the other SVM let's see so this is

00:12:18,290 --> 00:12:24,530
adding a controller now to add primary

00:12:20,270 --> 00:12:27,680
storage it's very simple the the top

00:12:24,530 --> 00:12:29,960
piece is very CloudStack specific but

00:12:27,680 --> 00:12:31,700
from this point forward is where you you

00:12:29,960 --> 00:12:34,180
picking you know what controller you

00:12:31,700 --> 00:12:36,590
want it to go what SVM you want it to go

00:12:34,180 --> 00:12:39,190
aggregate data lift gives us the entry

00:12:36,590 --> 00:12:43,040
point from a networking perspective

00:12:39,190 --> 00:12:45,070
export policy is you know your axis the

00:12:43,040 --> 00:12:50,030
way you can access that that NFS share

00:12:45,070 --> 00:12:52,130
will give this say 100 gigs thin

00:12:50,030 --> 00:12:54,590
provision it so we don't take up too

00:12:52,130 --> 00:12:56,480
much space five percent for snapshot

00:12:54,590 --> 00:12:58,820
reserves we're going to dee doop it out

00:12:56,480 --> 00:13:01,070
the gate and there's a nice feature

00:12:58,820 --> 00:13:02,900
that's called Auto grow and basically

00:13:01,070 --> 00:13:08,120
what that allows you to do is if you're

00:13:02,900 --> 00:13:10,070
reaching that 100 gig limit auto grow

00:13:08,120 --> 00:13:13,550
enables you to say you know what I

00:13:10,070 --> 00:13:16,670
really want to grow by 50 games by 50

00:13:13,550 --> 00:13:19,100
gigs and you know I don't want this to

00:13:16,670 --> 00:13:20,600
be more than 200 gigs big so basically

00:13:19,100 --> 00:13:22,400
this will ought to grow twice up until

00:13:20,600 --> 00:13:23,900
two hundred so it's

00:13:22,400 --> 00:13:26,240
really it's really nice and flexible in

00:13:23,900 --> 00:13:30,800
the sense that your storage can you know

00:13:26,240 --> 00:13:33,790
grow as demand is placed on it let's do

00:13:30,800 --> 00:13:37,310
enables vse snapshotting we want to give

00:13:33,790 --> 00:13:39,620
you the users the ability to either I

00:13:37,310 --> 00:13:41,480
pass our snapshot strategy to not get

00:13:39,620 --> 00:13:44,090
vendor lock-in for the for the snapshots

00:13:41,480 --> 00:13:46,010
because it's absolutely true that once

00:13:44,090 --> 00:13:48,350
you're you know down a path for your vm

00:13:46,010 --> 00:13:50,600
backups you're kind of mean you're stuck

00:13:48,350 --> 00:13:52,610
with that it's very there's a lot of

00:13:50,600 --> 00:13:54,590
interlocking no other way to put it so

00:13:52,610 --> 00:13:56,450
if you want to skip it and you don't

00:13:54,590 --> 00:13:58,250
want to use our snapshot strategy you're

00:13:56,450 --> 00:14:01,730
more than welcome not to check this box

00:13:58,250 --> 00:14:03,230
but we're going to do this today and we

00:14:01,730 --> 00:14:05,770
can just going to call this net app on

00:14:03,230 --> 00:14:05,770
vmware

00:14:10,499 --> 00:14:14,249
so right now what's happening is of

00:14:12,749 --> 00:14:16,649
course we're provisioning storage on the

00:14:14,249 --> 00:14:19,559
back end we're tying it is in his

00:14:16,649 --> 00:14:21,089
primary storage too CloudStack and if we

00:14:19,559 --> 00:14:24,059
switch out to just another tool called

00:14:21,089 --> 00:14:27,449
on command system manager you know we'll

00:14:24,059 --> 00:14:29,969
be able to see there is our CCNA 14

00:14:27,449 --> 00:14:31,369
volume it's 95 gigs big because we say

00:14:29,969 --> 00:14:36,569
we're going to use five percent for

00:14:31,369 --> 00:14:37,979
snapshots now one of the things that has

00:14:36,569 --> 00:14:42,809
also been mentioned today is the notion

00:14:37,979 --> 00:14:44,849
of qos are you can you can limit the max

00:14:42,809 --> 00:14:47,699
capacity of I ops that a certain vm can

00:14:44,849 --> 00:14:50,249
have and we don't necessarily take

00:14:47,699 --> 00:14:53,449
advantage of that feature directly from

00:14:50,249 --> 00:14:56,429
CloudStack but you can apply qos on your

00:14:53,449 --> 00:14:59,159
volume on your net up volume directly

00:14:56,429 --> 00:15:01,349
from system manager post provisioning

00:14:59,159 --> 00:15:03,899
you know post everything oblivious to

00:15:01,349 --> 00:15:08,789
your users you can come here and say I'm

00:15:03,899 --> 00:15:14,039
going to create my policy group I'm

00:15:08,789 --> 00:15:16,079
going to say it's a thousand I ops and

00:15:14,039 --> 00:15:18,989
what this does is every vm that you've

00:15:16,079 --> 00:15:21,599
provisioned on that CCNA primary storage

00:15:18,989 --> 00:15:23,220
are going to get that level of ions you

00:15:21,599 --> 00:15:25,289
want to change it later you can come in

00:15:23,220 --> 00:15:26,609
here and you can modify it and you get

00:15:25,289 --> 00:15:30,359
your quality of service at this at this

00:15:26,609 --> 00:15:33,449
level now you can do if you want finer

00:15:30,359 --> 00:15:35,309
granularity you can go and do POS at the

00:15:33,449 --> 00:15:37,259
vm level at the at the specific file

00:15:35,309 --> 00:15:39,419
level in your volume so there's really

00:15:37,259 --> 00:15:41,519
three levels of qsr at the file level at

00:15:39,419 --> 00:15:43,829
the volume level or if you want to apply

00:15:41,519 --> 00:15:45,569
it at the svm level so that it's you

00:15:43,829 --> 00:15:47,759
know all-encompassing to all the volumes

00:15:45,569 --> 00:15:50,119
that belong to that list vm you can do

00:15:47,759 --> 00:15:50,119
so as well

00:15:53,180 --> 00:15:58,610
so let me go back here to the

00:15:55,790 --> 00:16:01,760
infrastructure primary storage there's

00:15:58,610 --> 00:16:03,890
our there's our volume and if we go back

00:16:01,760 --> 00:16:05,900
to the plugin i want to show you the

00:16:03,890 --> 00:16:11,510
storage analytics that i was telling you

00:16:05,900 --> 00:16:14,570
guys before so if we go into the cluster

00:16:11,510 --> 00:16:16,430
I used the overall cluster credentials

00:16:14,570 --> 00:16:19,010
so I can see all my svms that are

00:16:16,430 --> 00:16:21,350
running in here but if I drill down into

00:16:19,010 --> 00:16:23,750
particular SVM I can see the aggregates

00:16:21,350 --> 00:16:26,480
that it has used access to how much were

00:16:23,750 --> 00:16:29,170
consuming on those aggregates and then

00:16:26,480 --> 00:16:31,910
the volumes for that particular SVM if

00:16:29,170 --> 00:16:33,500
you have deduplication enabled it's

00:16:31,910 --> 00:16:35,750
going to show you how much you're saving

00:16:33,500 --> 00:16:36,860
so how much you're really using and then

00:16:35,750 --> 00:16:42,580
how much you're saving by having

00:16:36,860 --> 00:16:44,810
deduplication enabled excuse me

00:16:42,580 --> 00:16:47,210
secondary storage we're not going to go

00:16:44,810 --> 00:16:49,220
over that there's no need but the the

00:16:47,210 --> 00:16:51,740
premise is exactly the same you know you

00:16:49,220 --> 00:16:53,870
pick your data here some made-up

00:16:51,740 --> 00:16:55,250
specific information in the bottom like

00:16:53,870 --> 00:16:58,100
provision and the volume is going to get

00:16:55,250 --> 00:17:04,460
created now in terms of backing up your

00:16:58,100 --> 00:17:07,070
my sequel database this is a fairly

00:17:04,460 --> 00:17:10,400
fairly nice feature that I that I like

00:17:07,070 --> 00:17:11,780
because it allows you to you know have a

00:17:10,400 --> 00:17:13,430
have a snapshot of your infrastructure

00:17:11,780 --> 00:17:15,890
basically if you're my sequel database

00:17:13,430 --> 00:17:17,420
goes up in flames you're in trouble so

00:17:15,890 --> 00:17:20,060
if you put it on an end up volume what

00:17:17,420 --> 00:17:22,580
we're going to do is by clicking that

00:17:20,060 --> 00:17:24,380
backup database week we asked my sequel

00:17:22,580 --> 00:17:26,090
we took a volume level snapshot and we

00:17:24,380 --> 00:17:28,010
unquestioned now if you have data

00:17:26,090 --> 00:17:30,530
protection mechanisms enabled on that

00:17:28,010 --> 00:17:32,360
volume snapmare or snapvault now you can

00:17:30,530 --> 00:17:37,790
have your your my sequel database backed

00:17:32,360 --> 00:17:39,170
up to an off-site location pardon me

00:17:37,790 --> 00:17:43,960
yeah that's the cloud attack my sequel

00:17:39,170 --> 00:17:48,050
database yes now i have a small vm

00:17:43,960 --> 00:17:49,070
deployed somewhere else I know this is

00:17:48,050 --> 00:17:53,570
it can be a little bit of a

00:17:49,070 --> 00:17:56,150
time-consuming operation but I want to

00:17:53,570 --> 00:17:58,990
show you what what I meant by the backup

00:17:56,150 --> 00:17:58,990
and recovery piece

00:18:00,360 --> 00:18:07,650
I have a very very tiny Linux image and

00:18:04,260 --> 00:18:09,330
this has been provisioned on a vm we're

00:18:07,650 --> 00:18:12,660
balling on a you know vmware hypervisor

00:18:09,330 --> 00:18:17,130
on netapp storage and once you click the

00:18:12,660 --> 00:18:18,600
take a snapshot button what we're doing

00:18:17,130 --> 00:18:21,330
here is we're not going to quiesce it so

00:18:18,600 --> 00:18:23,130
you guys can see how how fast this is so

00:18:21,330 --> 00:18:25,500
right now what we're doing is we're

00:18:23,130 --> 00:18:28,350
going down to the disk we're doing the

00:18:25,500 --> 00:18:31,410
sis clones of all the vm files that

00:18:28,350 --> 00:18:33,570
encompass that virtual machine and we

00:18:31,410 --> 00:18:35,340
also as part of the operation of course

00:18:33,570 --> 00:18:37,260
we need to keep track of paths and

00:18:35,340 --> 00:18:39,809
references and everything makes it into

00:18:37,260 --> 00:18:42,900
the cloud stack database so at this

00:18:39,809 --> 00:18:45,030
point I mean you have a backup between

00:18:42,900 --> 00:18:47,460
quotes of this VM is a crash consistent

00:18:45,030 --> 00:18:50,910
know are the applications inside of it

00:18:47,460 --> 00:18:52,799
you know consistent absolutely not but

00:18:50,910 --> 00:18:54,840
there are customers who don't care about

00:18:52,799 --> 00:18:57,929
crash consistency they just want to back

00:18:54,840 --> 00:18:59,940
them up so this serves that want a very

00:18:57,929 --> 00:19:02,070
unique use case for customers that don't

00:18:59,940 --> 00:19:04,290
care about in a crash consistency they

00:19:02,070 --> 00:19:11,100
just want to back them up now if you do

00:19:04,290 --> 00:19:14,100
a quest back up what we do here is will

00:19:11,100 --> 00:19:16,740
go to the hypervisor will ask it to

00:19:14,100 --> 00:19:18,600
create a temporary copy so that our base

00:19:16,740 --> 00:19:21,330
is crash consistent will do the same

00:19:18,600 --> 00:19:22,950
level of sis cloning on the back end and

00:19:21,330 --> 00:19:24,720
when that is done will tell the

00:19:22,950 --> 00:19:26,460
hypervisor you know what get rid of this

00:19:24,720 --> 00:19:28,100
copy so all rights that went in here

00:19:26,460 --> 00:19:30,840
call it less back to the original image

00:19:28,100 --> 00:19:32,549
so at this point we have vm crash

00:19:30,840 --> 00:19:34,590
consistency again application

00:19:32,549 --> 00:19:36,480
consistency is not there but it's just

00:19:34,590 --> 00:19:39,510
one step above you know the bare-bones

00:19:36,480 --> 00:19:42,660
nope no crash consistency at all from a

00:19:39,510 --> 00:19:44,610
hypervisor point of view it's great the

00:19:42,660 --> 00:19:47,160
reason being you know we don't we don't

00:19:44,610 --> 00:19:48,510
start to accumulate linked clones so

00:19:47,160 --> 00:19:50,820
everything from the hypervisors

00:19:48,510 --> 00:19:52,380
perspective is one VM and that's it all

00:19:50,820 --> 00:19:54,900
the references for the block are taken

00:19:52,380 --> 00:19:58,790
care of by ourselves and the hypervisor

00:19:54,900 --> 00:19:58,790
doesn't know that it has a chain at all

00:20:00,960 --> 00:20:06,360
last but not least you know everything

00:20:03,750 --> 00:20:08,279
that there are some settings and here

00:20:06,360 --> 00:20:09,450
that I think it's worth mentioning for

00:20:08,279 --> 00:20:11,850
the sake of it you know if you want to

00:20:09,450 --> 00:20:13,799
have default values you could modify

00:20:11,850 --> 00:20:14,700
them in here and you know kick kick the

00:20:13,799 --> 00:20:17,039
management server and they'll be

00:20:14,700 --> 00:20:20,130
persisted now in terms of the API is

00:20:17,039 --> 00:20:21,899
that I was alluding to before if you do

00:20:20,130 --> 00:20:24,539
the list API is command down your on

00:20:21,899 --> 00:20:27,600
your management server you know just

00:20:24,539 --> 00:20:29,220
look for EM tap and all the commands

00:20:27,600 --> 00:20:31,049
that we're doing all the operations are

00:20:29,220 --> 00:20:33,029
listed here and you can access them

00:20:31,049 --> 00:20:35,340
through the rest api so it's extremely

00:20:33,029 --> 00:20:37,500
flexible if you want to schedule your

00:20:35,340 --> 00:20:39,659
backups and you know add more storage

00:20:37,500 --> 00:20:43,919
resize it etc etc you can do it from

00:20:39,659 --> 00:20:47,149
this from this rest api so in a nutshell

00:20:43,919 --> 00:20:49,049
that that's what the plugin looks like

00:20:47,149 --> 00:20:51,779
provides the functionality that i just

00:20:49,049 --> 00:20:53,700
described so let me switch back to my

00:20:51,779 --> 00:20:55,679
presentation because i have just a few

00:20:53,700 --> 00:20:59,580
more slides about something that I do

00:20:55,679 --> 00:21:02,039
want to bring up we also work on

00:20:59,580 --> 00:21:03,899
reference architectures for our

00:21:02,039 --> 00:21:07,140
customers so who here is familiar with

00:21:03,899 --> 00:21:11,279
flexpod all right that's awesome so

00:21:07,140 --> 00:21:13,440
there is a fairly recent cvd a cisco

00:21:11,279 --> 00:21:15,929
valid cisco validated design that we

00:21:13,440 --> 00:21:18,419
worked alongside with citrix and cisco

00:21:15,929 --> 00:21:20,700
to have cloud platform for

00:21:18,419 --> 00:21:24,929
point-to-point one deployed on flexpod

00:21:20,700 --> 00:21:28,980
running cluster data ONTAP 82 it's a 400

00:21:24,929 --> 00:21:31,020
in God pages of a beast of a document

00:21:28,980 --> 00:21:32,730
but it gives you extremely detailed

00:21:31,020 --> 00:21:36,330
information on how to stand cloud

00:21:32,730 --> 00:21:37,470
platform on FlexPod you know some of the

00:21:36,330 --> 00:21:39,360
things that we did you know just

00:21:37,470 --> 00:21:41,909
highlighting the software that we used

00:21:39,360 --> 00:21:43,409
failover testing or highlighting a lot

00:21:41,909 --> 00:21:44,880
of the multi tendency aspects of it that

00:21:43,409 --> 00:21:48,960
I mentioned before with the storage of

00:21:44,880 --> 00:21:51,120
virtual machines so you know the

00:21:48,960 --> 00:21:52,440
ultimate goal for us is you know we want

00:21:51,120 --> 00:21:53,940
to be the storage of choice for your

00:21:52,440 --> 00:21:56,520
cloud stuck or cloud platform developed

00:21:53,940 --> 00:21:58,860
deployment I mean there's I don't I

00:21:56,520 --> 00:22:00,330
don't say any vendor could fought it you

00:21:58,860 --> 00:22:01,289
know fault himself or herself for

00:22:00,330 --> 00:22:02,880
wanting that I mean that's our

00:22:01,289 --> 00:22:05,520
positioning just like everybody else's

00:22:02,880 --> 00:22:07,620
is and you know in doing so we I mean we

00:22:05,520 --> 00:22:09,720
try to bring these plugins the reference

00:22:07,620 --> 00:22:11,639
architectures you know conferences

00:22:09,720 --> 00:22:13,289
attending and presenting so that you can

00:22:11,639 --> 00:22:13,929
see the value of having cluster data

00:22:13,289 --> 00:22:15,490
ontap

00:22:13,929 --> 00:22:19,769
on your on your in your cloud

00:22:15,490 --> 00:22:22,600
environment so with that said you know

00:22:19,769 --> 00:22:36,039
got a few minutes for questions I mean

00:22:22,600 --> 00:22:39,490
I'll be happy to take you any yes yes so

00:22:36,039 --> 00:22:40,990
there there sis clones they are the flex

00:22:39,490 --> 00:22:43,029
clones that we're using the flex on

00:22:40,990 --> 00:22:51,820
technology but they appear to be files

00:22:43,029 --> 00:22:53,409
on disk on primary storage no no so the

00:22:51,820 --> 00:22:55,929
question is do we have two snaps up the

00:22:53,409 --> 00:22:58,570
entire volume and we deliberately did

00:22:55,929 --> 00:23:00,970
not want to do that because you know

00:22:58,570 --> 00:23:03,669
let's say that you have a ten terabyte

00:23:00,970 --> 00:23:06,309
you know primary storage that shared

00:23:03,669 --> 00:23:09,190
amongst multiple tenants if we started

00:23:06,309 --> 00:23:11,169
snapshotting the volume as a whole you

00:23:09,190 --> 00:23:14,529
know I start backing up your VMs and his

00:23:11,169 --> 00:23:16,330
beams and her VMs and maybe that's not

00:23:14,529 --> 00:23:18,009
what they want you know and there's also

00:23:16,330 --> 00:23:19,960
a limitation on the number of snapshots

00:23:18,009 --> 00:23:21,519
that you can have at the volume level so

00:23:19,960 --> 00:23:23,559
we wanted to avoid hitting that

00:23:21,519 --> 00:23:25,899
limitation and we were you know instead

00:23:23,559 --> 00:23:29,049
we opted for doing sis clones of the vm

00:23:25,899 --> 00:23:31,330
files and kept on disk now I have to

00:23:29,049 --> 00:23:33,730
have to say though the volume level

00:23:31,330 --> 00:23:35,169
snapshots may still take place there's

00:23:33,730 --> 00:23:37,360
nothing that prevents you from having a

00:23:35,169 --> 00:23:39,070
snapshot policy that takes regular

00:23:37,360 --> 00:23:41,440
snapshots at that volume and if you have

00:23:39,070 --> 00:23:43,269
data protection on them you can get

00:23:41,440 --> 00:23:48,330
snapmirror snapvault on those volumes as

00:23:43,269 --> 00:23:48,330
well yes

00:23:51,450 --> 00:23:55,860
so the question is do we have ice

00:23:53,639 --> 00:24:00,389
calcium fiber channel support version

00:23:55,860 --> 00:24:02,309
one has NFS only and version 2 dot next

00:24:00,389 --> 00:24:04,080
or however we want to put it I mean we

00:24:02,309 --> 00:24:05,820
can put I scuzzy on fibre channel and

00:24:04,080 --> 00:24:10,850
it's just a matter of doing it but no

00:24:05,820 --> 00:24:10,850
NFS for a version one currently yes

00:24:12,889 --> 00:24:15,889
mm-hmm

00:24:22,310 --> 00:24:28,730
yeah we report what we report the

00:24:27,170 --> 00:24:30,500
apparent value that's consumed so

00:24:28,730 --> 00:24:32,690
cloudstack if we say you know your 50

00:24:30,500 --> 00:24:36,370
gigs used we're going to tell cloud side

00:24:32,690 --> 00:24:39,740
it's 50 gigs used so from a storage

00:24:36,370 --> 00:24:42,320
administrators perspective that's where

00:24:39,740 --> 00:24:44,750
the I wanna say some can see has a

00:24:42,320 --> 00:24:46,880
benefit some others as a detriment but

00:24:44,750 --> 00:24:48,410
from the storage perspective you really

00:24:46,880 --> 00:24:50,090
know that you're saving a lot and if

00:24:48,410 --> 00:24:53,750
you're if you're charging your customers

00:24:50,090 --> 00:24:56,000
per storage you can charge them by mr.

00:24:53,750 --> 00:24:58,700
customer you're using 100 gigs but in

00:24:56,000 --> 00:25:00,440
reality you know you have OS images that

00:24:58,700 --> 00:25:02,240
are replicated along you know amongst

00:25:00,440 --> 00:25:05,990
all VMS and you're really consuming just

00:25:02,240 --> 00:25:08,000
five gigs who knows so you benefit is

00:25:05,990 --> 00:25:10,580
for this for the person that owns the

00:25:08,000 --> 00:25:18,370
storage not so much for the for the end

00:25:10,580 --> 00:25:18,370
consumer any other question yeah

00:25:28,300 --> 00:25:32,660
yeah so the question is leveraging the

00:25:30,710 --> 00:25:36,080
stuff that might put in some time ago

00:25:32,660 --> 00:25:38,020
for the QSR in there and can we leverage

00:25:36,080 --> 00:25:41,030
it are we planning on leveraging it

00:25:38,020 --> 00:25:42,700
short answer maybe I mean there's

00:25:41,030 --> 00:25:45,950
absolutely no reason why we couldn't

00:25:42,700 --> 00:25:47,930
write when you know when will this

00:25:45,950 --> 00:25:50,120
product was being worked on decision was

00:25:47,930 --> 00:25:51,890
made not to knowing that we could do

00:25:50,120 --> 00:25:58,310
Q&As outside of clouds I can still

00:25:51,890 --> 00:26:02,150
achieve the same effect anything else I

00:25:58,310 --> 00:26:04,130
have some material units references in

00:26:02,150 --> 00:26:07,160
here there's a link to the to the

00:26:04,130 --> 00:26:09,140
FlexPod cvd you can hit me up via email

00:26:07,160 --> 00:26:11,120
or Twitter i'll be happy to tend to

00:26:09,140 --> 00:26:12,890
connect with you and once the slides are

00:26:11,120 --> 00:26:15,110
made available there's a bunch of

00:26:12,890 --> 00:26:16,910
screenshots in here if you want to you

00:26:15,110 --> 00:26:21,710
know reference them or use them for

00:26:16,910 --> 00:26:24,040
whatever purposes right that's it thank

00:26:21,710 --> 00:26:24,040

YouTube URL: https://www.youtube.com/watch?v=EskCrahxJcM


