Title: Mixing and Matching - Part 4 - Andreas Wagner - Learning to Diversify Search Results
Publication date: 2020-07-02
Playlist: Berlin Buzzwords | MICES | Haystack â€“ Joint Virtual Event 2020
Description: 
	More: https://berlinbuzzwords.de/session/mixing-and-matching-diversifying-search-results

Imagine a shopper searches for "coffee". The search results mindlessly repeat brand name, ground coffee over and over. Technically relevant. But not very useful. Not mixed in are results appealing to a different kind of "coffee" searcher:  organic coffee, whole bean, espresso, or related coffee equipment. 

Beyond relevant results is Result Set Diversity: providing not just technically correct answers, but a diverse (though still relevant) view of what's possible in the search system. Showing our grocery searcher that we might, after all, have something they want.

In this panel, we'll discuss Result Set Diversity in search. We'll hear from teams working to summarize for users the diverse array of options available to them given their query. An ideal search experience helps provide next steps, broaden the user's understanding of the content related to keywords, and cover the user's possible, unspoken intent.

Join host Doug Turnbull and search practitioners, Andreas Wagner, Felipe Besson, and Lev Gershenzon, as we hear experiences measuring & solving Results Diversity, with a panel discussion on the Result Search Diversity problem.
Captions: 
	00:00:07,780 --> 00:00:12,550
yeah hi so hope you can hear me well

00:00:10,670 --> 00:00:15,140
thanks for the

00:00:12,550 --> 00:00:18,920
and thanks for setting the scene

00:00:15,140 --> 00:00:21,350
from the other guys so in my talk I want

00:00:18,920 --> 00:00:24,200
to really cope with let's say the

00:00:21,350 --> 00:00:27,170
situation where autosuggest

00:00:24,200 --> 00:00:29,330
or the way the user comes to decider to

00:00:27,170 --> 00:00:33,830
the search result yeah I haven't been

00:00:29,330 --> 00:00:38,120
specified or couldn't be be more precise

00:00:33,830 --> 00:00:41,600
so it's really about how we could help

00:00:38,120 --> 00:00:44,090
the user to cope with large search

00:00:41,600 --> 00:00:48,800
results that have a lot of diversity in

00:00:44,090 --> 00:00:51,340
it yeah I as I said earlier said earlier

00:00:48,800 --> 00:00:55,940
I am working at CSP and such a bio and

00:00:51,340 --> 00:01:00,129
yeah happy to get some some direct

00:00:55,940 --> 00:01:00,129
messages you can find me in Twitter yeah

00:01:00,399 --> 00:01:08,150
just one slide about the companies so

00:01:05,000 --> 00:01:12,110
economist experts this is a search and

00:01:08,150 --> 00:01:16,190
discovery this consultancy so here we

00:01:12,110 --> 00:01:18,920
have people that that yeah to optimize

00:01:16,190 --> 00:01:21,290
design deploy and operate such platforms

00:01:18,920 --> 00:01:24,770
for their living all of us have more

00:01:21,290 --> 00:01:27,710
experience than 10 years and may I may I

00:01:24,770 --> 00:01:31,130
would say mainly in e-commerce a couple

00:01:27,710 --> 00:01:34,729
of projects of this domain but most is

00:01:31,130 --> 00:01:38,630
in Indy commerce and because we were

00:01:34,729 --> 00:01:41,119
tired of solving issues over and over

00:01:38,630 --> 00:01:43,670
again at each and every customer we

00:01:41,119 --> 00:01:46,009
build search up and search up is a query

00:01:43,670 --> 00:01:48,409
intent clustering pre-processing means

00:01:46,009 --> 00:01:50,840
we write motivate optimization platform

00:01:48,409 --> 00:01:52,790
and the cool thing about this is it

00:01:50,840 --> 00:01:56,119
works with any search solution so you

00:01:52,790 --> 00:01:59,030
can just hug it plug it in as a kind of

00:01:56,119 --> 00:02:01,880
proxy and it helps you to automate your

00:01:59,030 --> 00:02:07,130
search but now let's go back to the

00:02:01,880 --> 00:02:11,780
topic of diversification so I'm a really

00:02:07,130 --> 00:02:13,280
data-driven guy and I was only always

00:02:11,780 --> 00:02:16,760
thinking yeah we can approach the

00:02:13,280 --> 00:02:20,920
problem of relevancy and an optimizing

00:02:16,760 --> 00:02:23,599
e-commerce search purely by by data but

00:02:20,920 --> 00:02:27,500
let's say since a couple of months

00:02:23,599 --> 00:02:28,630
I turned this a little bit because data

00:02:27,500 --> 00:02:32,530
only represents

00:02:28,630 --> 00:02:36,730
what was and never tells you what could

00:02:32,530 --> 00:02:40,240
be so yeah this is a this is a I think a

00:02:36,730 --> 00:02:43,600
really nice yeah or to put it in one

00:02:40,240 --> 00:02:46,720
sentence if you are data-driven you are

00:02:43,600 --> 00:02:50,320
very likely to be locked in a local

00:02:46,720 --> 00:02:54,370
market maxima and you're not really

00:02:50,320 --> 00:02:56,980
exploring so products that are bought

00:02:54,370 --> 00:02:58,510
very often will be bought very often but

00:02:56,980 --> 00:03:00,040
you have potentially a lot of

00:02:58,510 --> 00:03:02,530
interesting products for some of your

00:03:00,040 --> 00:03:06,960
customers which essentially will never

00:03:02,530 --> 00:03:10,560
be seen so or explored so in my opinion

00:03:06,960 --> 00:03:12,910
from from from the relevance perspective

00:03:10,560 --> 00:03:14,670
relevance at least for now

00:03:12,910 --> 00:03:19,740
doesn't directly address a

00:03:14,670 --> 00:03:23,020
attractiveness or ambiguity or biases so

00:03:19,740 --> 00:03:25,030
search result diversification can really

00:03:23,020 --> 00:03:28,570
help and especially when a quantity of

00:03:25,030 --> 00:03:31,810
relevance is not enough we can diversify

00:03:28,570 --> 00:03:33,370
if the search content is ambiguous let's

00:03:31,810 --> 00:03:36,160
say garden furniture it doesn't really

00:03:33,370 --> 00:03:38,770
look ambiguous but what types over there

00:03:36,160 --> 00:03:41,350
are different types of garden furniture

00:03:38,770 --> 00:03:45,580
and what would you say would it should

00:03:41,350 --> 00:03:49,900
we include balcony furniture as well so

00:03:45,580 --> 00:03:51,220
I've picked an example here of course on

00:03:49,900 --> 00:03:54,310
the left hand side there's a lot of

00:03:51,220 --> 00:03:56,770
let's say stuff for accessories around

00:03:54,310 --> 00:04:00,280
garden furniture but even if this would

00:03:56,770 --> 00:04:04,450
be a perfect garden furniture product

00:04:00,280 --> 00:04:06,700
list so full width let's say some sofas

00:04:04,450 --> 00:04:11,110
and and and and things like that I think

00:04:06,700 --> 00:04:13,030
the right side is helps me way more in

00:04:11,110 --> 00:04:14,800
finding potentially the right product

00:04:13,030 --> 00:04:17,890
because garden furniture is a broad

00:04:14,800 --> 00:04:21,850
query so maybe I am not really sure what

00:04:17,890 --> 00:04:23,560
I wanna buy yet and I want to get some

00:04:21,850 --> 00:04:26,410
some information or I want to be guided

00:04:23,560 --> 00:04:29,310
and I think the right-hand side can do

00:04:26,410 --> 00:04:33,400
it not saying it's it's particularly

00:04:29,310 --> 00:04:38,650
nice or or shiny but it essentially can

00:04:33,400 --> 00:04:39,340
help the next part is when users want to

00:04:38,650 --> 00:04:42,969
be inspired

00:04:39,340 --> 00:04:44,709
so women's shoes it's it's it

00:04:42,969 --> 00:04:47,259
a nice example I've always picking out

00:04:44,709 --> 00:04:49,929
the last year too but this time from a

00:04:47,259 --> 00:04:52,360
different angle so there might be

00:04:49,929 --> 00:04:55,689
different types of shoes and different

00:04:52,360 --> 00:04:58,209
types of styles of shoes so when you

00:04:55,689 --> 00:05:03,249
look on the left it's just a list of

00:04:58,209 --> 00:05:05,860
kind of randomly sorted products and on

00:05:03,249 --> 00:05:09,339
the right these products are kind of

00:05:05,860 --> 00:05:12,879
grouped by different attributes so let's

00:05:09,339 --> 00:05:16,809
say here that on the first row it's

00:05:12,879 --> 00:05:20,679
about a special style the second one is

00:05:16,809 --> 00:05:24,879
about a special type of boot the third

00:05:20,679 --> 00:05:26,860
one I don't know to be honest how these

00:05:24,879 --> 00:05:31,779
Crocs made it in there but I guess it's

00:05:26,860 --> 00:05:34,539
more kind of the leisure issues and then

00:05:31,779 --> 00:05:37,149
of course the heels and the cool thing

00:05:34,539 --> 00:05:39,639
about it is that this directly gives a

00:05:37,149 --> 00:05:42,069
customer or potential customer an

00:05:39,639 --> 00:05:44,409
overview of what is in there and it

00:05:42,069 --> 00:05:49,479
gives you the opportunity to to browse

00:05:44,409 --> 00:05:53,289
through kind of different categories or

00:05:49,479 --> 00:05:58,319
a facets without having to reload the

00:05:53,289 --> 00:06:00,879
page so here I can directly see a broad

00:05:58,319 --> 00:06:03,159
assortment or care together over look

00:06:00,879 --> 00:06:05,169
over the broad assortment without having

00:06:03,159 --> 00:06:07,719
to refine it and wait until the page

00:06:05,169 --> 00:06:12,579
loads again and then go back if it's not

00:06:07,719 --> 00:06:15,339
what I want to see additionally we can

00:06:12,579 --> 00:06:18,759
diversify when users could and should be

00:06:15,339 --> 00:06:21,610
treated differently so let's say I'm

00:06:18,759 --> 00:06:23,469
searching for power drills and then

00:06:21,610 --> 00:06:26,289
there might be the question yeah but

00:06:23,469 --> 00:06:27,999
what it can can the result be different

00:06:26,289 --> 00:06:31,959
or should this a result be different for

00:06:27,999 --> 00:06:34,659
different types of users and yeah it can

00:06:31,959 --> 00:06:37,589
so like on the on the left hand side we

00:06:34,659 --> 00:06:40,839
we see a sorting it's not particularly

00:06:37,589 --> 00:06:43,779
well grouped in terms of visuals but

00:06:40,839 --> 00:06:47,019
here it's kind of the basic what sells

00:06:43,779 --> 00:06:49,839
best gets the first place and on the

00:06:47,019 --> 00:06:52,259
right side when I know it's it's a

00:06:49,839 --> 00:06:55,300
professional craftsmen I know that yes

00:06:52,259 --> 00:06:56,860
special needs about the power drill so

00:06:55,300 --> 00:07:00,540
here

00:06:56,860 --> 00:07:04,660
a special products come on top let's say

00:07:00,540 --> 00:07:11,680
the the professional line or specific

00:07:04,660 --> 00:07:14,500
brands so it was mentioned earlier but I

00:07:11,680 --> 00:07:18,640
think what one additional part is

00:07:14,500 --> 00:07:20,770
missing and how to spot these things and

00:07:18,640 --> 00:07:22,570
information entropy for me is the

00:07:20,770 --> 00:07:27,760
data-driven way of spotting these types

00:07:22,570 --> 00:07:31,150
of queries but to add this onto a panel

00:07:27,760 --> 00:07:33,910
I think we don't have a single a single

00:07:31,150 --> 00:07:38,370
entropy so of course we can just use the

00:07:33,910 --> 00:07:39,550
categories but essentially it's a set of

00:07:38,370 --> 00:07:42,610
entropies

00:07:39,550 --> 00:07:45,610
so it might be interesting to look at

00:07:42,610 --> 00:07:48,070
different product attributes the price

00:07:45,610 --> 00:07:50,740
ranges or whatever kind of information

00:07:48,070 --> 00:07:53,980
we have about the products so that's why

00:07:50,740 --> 00:07:58,390
I would strongly recommend to look at

00:07:53,980 --> 00:08:01,170
the product customers interact after a

00:07:58,390 --> 00:08:05,260
search and then find different

00:08:01,170 --> 00:08:07,300
distributions or entropy entropy s for

00:08:05,260 --> 00:08:10,540
different kinds of metadata information

00:08:07,300 --> 00:08:13,630
so let's say attributes and things like

00:08:10,540 --> 00:08:15,970
that and then you can really spot things

00:08:13,630 --> 00:08:19,150
that may be interesting and may help

00:08:15,970 --> 00:08:22,450
users to directly find what they're

00:08:19,150 --> 00:08:26,170
looking for and another really important

00:08:22,450 --> 00:08:29,680
thing and I am I I really always tell

00:08:26,170 --> 00:08:33,910
our customers to go in the way this go

00:08:29,680 --> 00:08:35,560
to people in in your in your company and

00:08:33,910 --> 00:08:37,780
especially if you're coming from foreign

00:08:35,560 --> 00:08:39,520
for read from read retail there are a

00:08:37,780 --> 00:08:42,969
lot of people that have an immense

00:08:39,520 --> 00:08:45,550
knowledge about how to visualize how to

00:08:42,969 --> 00:08:50,410
group products how to make them stand

00:08:45,550 --> 00:08:52,690
out and ask them about their jobs and

00:08:50,410 --> 00:08:55,060
and then how they approach these things

00:08:52,690 --> 00:08:58,570
because this is essentially for free

00:08:55,060 --> 00:09:01,350
everything that is data driven cost time

00:08:58,570 --> 00:09:05,410
cost money and can potentially be wrong

00:09:01,350 --> 00:09:10,030
if a person does this already for 10

00:09:05,410 --> 00:09:11,890
years it might help you essentially this

00:09:10,030 --> 00:09:15,010
for spotting different types of

00:09:11,890 --> 00:09:17,590
audiences again you could use

00:09:15,010 --> 00:09:18,850
information entropy again it's it might

00:09:17,590 --> 00:09:22,960
be a set of different

00:09:18,850 --> 00:09:24,580
entropies and additionally mark a

00:09:22,960 --> 00:09:28,120
marketing team if you have a marketing

00:09:24,580 --> 00:09:31,330
team go there ask them about different

00:09:28,120 --> 00:09:34,090
audiences because it's their job to talk

00:09:31,330 --> 00:09:37,120
to these audiences and shape information

00:09:34,090 --> 00:09:42,160
and and and output marketing towards

00:09:37,120 --> 00:09:46,030
them okay so now I want to really get

00:09:42,160 --> 00:09:50,320
into how the we could diversify things

00:09:46,030 --> 00:09:53,320
and different strategies to do so so if

00:09:50,320 --> 00:09:55,180
you look inside a store I I've never

00:09:53,320 --> 00:09:57,340
I've never asked this question when I

00:09:55,180 --> 00:09:59,860
went to so well when I was confronted

00:09:57,340 --> 00:10:02,230
with this diversity problem this

00:09:59,860 --> 00:10:05,500
question came up and I asked a personal

00:10:02,230 --> 00:10:08,050
working in such a store and the person

00:10:05,500 --> 00:10:10,750
told me that none of these products you

00:10:08,050 --> 00:10:12,720
currently see here on this picture has

00:10:10,750 --> 00:10:18,070
its place by coincidence it's planned

00:10:12,720 --> 00:10:20,500
months before and there is a lot of data

00:10:18,070 --> 00:10:23,410
and and just knowledge from people and

00:10:20,500 --> 00:10:26,170
inspiration from people that tells ma

00:10:23,410 --> 00:10:28,510
that they should put these kind of

00:10:26,170 --> 00:10:32,980
products together in the same area and

00:10:28,510 --> 00:10:36,310
this kind of inspiration to look at it

00:10:32,980 --> 00:10:39,010
like this so on the left side we have me

00:10:36,310 --> 00:10:41,410
might have a broad theory and this might

00:10:39,010 --> 00:10:44,470
be the result so we have some common

00:10:41,410 --> 00:10:46,170
attributes or or common types of

00:10:44,470 --> 00:10:50,470
products represented in different color

00:10:46,170 --> 00:10:52,300
and on the right side I added a little

00:10:50,470 --> 00:10:55,360
bit of structure so I kind of sorted

00:10:52,300 --> 00:10:57,760
them or group them and by I think

00:10:55,360 --> 00:11:00,070
directly visually you can see that by

00:10:57,760 --> 00:11:03,120
adding structure it really helps you to

00:11:00,070 --> 00:11:05,170
navigate faster through this kind of set

00:11:03,120 --> 00:11:07,930
but on the other hand

00:11:05,170 --> 00:11:11,320
it changes the problem so now we don't

00:11:07,930 --> 00:11:17,440
have a single ranked list anymore it's

00:11:11,320 --> 00:11:20,830
several ranked lists and this this

00:11:17,440 --> 00:11:23,740
picture and this sentence comes from an

00:11:20,830 --> 00:11:24,820
open book so this this book is open

00:11:23,740 --> 00:11:27,190
available and it's called visual

00:11:24,820 --> 00:11:29,770
merchandising and the interesting thing

00:11:27,190 --> 00:11:33,970
is that he really points out that we

00:11:29,770 --> 00:11:36,460
should group product sets in in visually

00:11:33,970 --> 00:11:41,050
let's say related content concepts

00:11:36,460 --> 00:11:43,780
because people can process and and use

00:11:41,050 --> 00:11:46,120
visual information sixty five sixty

00:11:43,780 --> 00:11:49,480
thousand times faster than text and that

00:11:46,120 --> 00:11:52,150
really helps so there are already

00:11:49,480 --> 00:11:54,040
companies that are doing these kind of

00:11:52,150 --> 00:11:55,960
they call it visual merchandising I

00:11:54,040 --> 00:11:58,240
would call it diversification but here

00:11:55,960 --> 00:12:00,310
is a very cool example in my in my

00:11:58,240 --> 00:12:01,060
opinion so this not only works for

00:12:00,310 --> 00:12:04,210
search results

00:12:01,060 --> 00:12:07,510
this works for categories as well so

00:12:04,210 --> 00:12:09,760
let's say you have this nice women's

00:12:07,510 --> 00:12:12,910
accessories category and accessories is

00:12:09,760 --> 00:12:16,000
always a mess how would you rank these

00:12:12,910 --> 00:12:19,180
kind of things and and here it's really

00:12:16,000 --> 00:12:21,730
that idea is to have to use different

00:12:19,180 --> 00:12:25,900
rows and to use different let's say

00:12:21,730 --> 00:12:29,830
campaigns or or goals for each and every

00:12:25,900 --> 00:12:32,290
particular row and now the business sort

00:12:29,830 --> 00:12:36,420
team or what the business goal that is

00:12:32,290 --> 00:12:39,010
behind it is not shown by the initial

00:12:36,420 --> 00:12:43,690
let's say yeah ranking in the search

00:12:39,010 --> 00:12:45,760
result it's how you rank the results per

00:12:43,690 --> 00:12:47,650
row so let's say in the first row we

00:12:45,760 --> 00:12:51,760
have scars and smooths and and they

00:12:47,650 --> 00:12:54,550
might be sorted by top sellers then on

00:12:51,760 --> 00:12:57,670
the second row we have hats and and

00:12:54,550 --> 00:13:00,880
there might let's say on bra and might

00:12:57,670 --> 00:13:02,620
be pushed and then we have gloves where

00:13:00,880 --> 00:13:05,650
a different kind of strategy might come

00:13:02,620 --> 00:13:08,920
in and I really think that this is a

00:13:05,650 --> 00:13:11,260
very nice way of of giving an entry

00:13:08,920 --> 00:13:13,360
point for a user which comes to the

00:13:11,260 --> 00:13:16,630
women's accessories aisle because yeah I

00:13:13,360 --> 00:13:19,060
mean there's tons of stuff a customer

00:13:16,630 --> 00:13:22,090
could could potentially want and here

00:13:19,060 --> 00:13:23,950
you can directly guide him and well what

00:13:22,090 --> 00:13:27,340
I what I want to point out here is I

00:13:23,950 --> 00:13:30,400
don't have an example of a web app but

00:13:27,340 --> 00:13:33,280
if you if you would imagine looking at

00:13:30,400 --> 00:13:35,140
this site from and from a mobile a point

00:13:33,280 --> 00:13:37,140
of view what is really interesting is

00:13:35,140 --> 00:13:40,410
you could let's say swipe left and

00:13:37,140 --> 00:13:43,250
and each and every road to to have a

00:13:40,410 --> 00:13:47,130
look at now the the scars and then swipe

00:13:43,250 --> 00:13:49,019
swipe up if you're not really into

00:13:47,130 --> 00:13:51,630
scarfs maybe you're more into gloves and

00:13:49,019 --> 00:13:54,149
once you see a glove then swipe left and

00:13:51,630 --> 00:13:57,420
right and again you don't have to have

00:13:54,149 --> 00:13:59,610
an additional page request you just are

00:13:57,420 --> 00:14:01,860
directly into the products and the

00:13:59,610 --> 00:14:03,140
assortment and I think that's that's

00:14:01,860 --> 00:14:06,750
fantastic

00:14:03,140 --> 00:14:09,420
yeah one one pro tip so essentially we

00:14:06,750 --> 00:14:11,519
are we are making a little bit a little

00:14:09,420 --> 00:14:13,170
bit more complex so we are breaking and

00:14:11,519 --> 00:14:16,140
learning to rank problem in multiple

00:14:13,170 --> 00:14:19,200
learning to rank problems so we could

00:14:16,140 --> 00:14:22,589
learn to rank each and every row but we

00:14:19,200 --> 00:14:27,360
could essentially we also learn how to

00:14:22,589 --> 00:14:30,540
rank the different rows um the next

00:14:27,360 --> 00:14:33,980
thing I want to talk about is the real

00:14:30,540 --> 00:14:36,329
let's say search result diversification

00:14:33,980 --> 00:14:40,800
and and here it's really about the

00:14:36,329 --> 00:14:43,800
ranking for the diversified rows so and

00:14:40,800 --> 00:14:46,079
and in my opinion this is the way where

00:14:43,800 --> 00:14:48,060
we can really find the balanced match

00:14:46,079 --> 00:14:51,000
between the shopper interest to buy and

00:14:48,060 --> 00:14:52,920
the business interest to sell so in a

00:14:51,000 --> 00:14:55,230
lot of cases when I am at the customer

00:14:52,920 --> 00:14:58,529
the customer tells me so my customer is

00:14:55,230 --> 00:15:01,140
the shop owner yeah but I don't want to

00:14:58,529 --> 00:15:03,000
sell this product because the margin is

00:15:01,140 --> 00:15:05,160
lower than others so please push all my

00:15:03,000 --> 00:15:07,260
products that are for my brand always

00:15:05,160 --> 00:15:09,360
high margin on top and then I tell them

00:15:07,260 --> 00:15:11,730
yeah well this might work but

00:15:09,360 --> 00:15:16,050
potentially the customers don't just

00:15:11,730 --> 00:15:19,640
just don't want to buy this product and

00:15:16,050 --> 00:15:22,740
it's really hard with a single ranking

00:15:19,640 --> 00:15:25,740
to to to to to balance different kind of

00:15:22,740 --> 00:15:28,890
strategies so that's why a robust

00:15:25,740 --> 00:15:32,850
ranking diversification can help so I

00:15:28,890 --> 00:15:36,630
said earlier you can essentially give

00:15:32,850 --> 00:15:39,180
every row a different ranking and really

00:15:36,630 --> 00:15:41,190
play with it it's not only about giving

00:15:39,180 --> 00:15:43,529
them just the different ranking but you

00:15:41,190 --> 00:15:45,990
can you can then explore and experience

00:15:43,529 --> 00:15:47,610
how people behave when they see these

00:15:45,990 --> 00:15:51,170
things and how they interact with it and

00:15:47,610 --> 00:15:51,170
then reshape all of that

00:15:52,829 --> 00:15:59,489
yeah and since we really I mean in such

00:15:57,480 --> 00:16:03,509
Evan and income aspects that we really

00:15:59,489 --> 00:16:06,259
try to solve things one time for all of

00:16:03,509 --> 00:16:09,209
our customers and since at least for now

00:16:06,259 --> 00:16:14,040
70% of our customers still don't use

00:16:09,209 --> 00:16:16,709
open source tools or open source systems

00:16:14,040 --> 00:16:21,209
we said okay we need to build something

00:16:16,709 --> 00:16:23,910
to help them diversify their our search

00:16:21,209 --> 00:16:25,889
results or category results and this

00:16:23,910 --> 00:16:30,089
solution needs to work with each and

00:16:25,889 --> 00:16:31,290
every answer solution so from from a

00:16:30,089 --> 00:16:34,110
business perspective so what I

00:16:31,290 --> 00:16:37,860
essentially want is I want to have a

00:16:34,110 --> 00:16:42,089
kind of yeah SQL language where I can

00:16:37,860 --> 00:16:44,819
say yeah please group me products by a

00:16:42,089 --> 00:16:47,970
specific amount of attributes and then

00:16:44,819 --> 00:16:49,799
assign a specific ranking for it you you

00:16:47,970 --> 00:16:51,899
don't have to do this manually I mean

00:16:49,799 --> 00:16:54,990
you you can essentially learn all of

00:16:51,899 --> 00:16:57,839
this pretty much automatically but still

00:16:54,990 --> 00:17:01,860
there might be a lot of cases where

00:16:57,839 --> 00:17:03,839
people are just let's say creative and

00:17:01,860 --> 00:17:07,289
have really bright minds and want to try

00:17:03,839 --> 00:17:10,500
things so you really we said we really

00:17:07,289 --> 00:17:11,850
need to to help them to do that and and

00:17:10,500 --> 00:17:14,039
and and to ship these kind of

00:17:11,850 --> 00:17:19,289
experiments because in my opinion it's a

00:17:14,039 --> 00:17:22,260
kind of an experience yeah and to get

00:17:19,289 --> 00:17:24,240
these collections of items was a really

00:17:22,260 --> 00:17:27,270
hard engineering problem so I already

00:17:24,240 --> 00:17:29,970
had the idea a couple of years ago and

00:17:27,270 --> 00:17:32,039
and really tried to achieve this in in

00:17:29,970 --> 00:17:33,659
in a search engine even in the

00:17:32,039 --> 00:17:37,830
e-commerce space that tried it with

00:17:33,659 --> 00:17:40,620
elastic and solar and I mean you could

00:17:37,830 --> 00:17:43,919
achieve it but it was always a mess and

00:17:40,620 --> 00:17:46,529
it was always pretty slow so that's why

00:17:43,919 --> 00:17:50,370
I said okay we need to find another way

00:17:46,529 --> 00:17:54,840
where we can define and and get these

00:17:50,370 --> 00:17:57,090
collections so what we what we said we

00:17:54,840 --> 00:17:59,909
need then is okay we have this this

00:17:57,090 --> 00:18:04,540
query API we have the search engine

00:17:59,909 --> 00:18:08,080
results and then we want to in

00:18:04,540 --> 00:18:10,750
in an artificial way documents or

00:18:08,080 --> 00:18:14,020
document IDs it doesn't really need to

00:18:10,750 --> 00:18:15,580
be the ID it could be the complete data

00:18:14,020 --> 00:18:17,620
that is needed to render on the

00:18:15,580 --> 00:18:21,220
front-end and then we need some kind of

00:18:17,620 --> 00:18:23,860
result blendering a blender that pushes

00:18:21,220 --> 00:18:26,620
these products on the right positions or

00:18:23,860 --> 00:18:29,170
building blocks and then the result api

00:18:26,620 --> 00:18:31,270
and yeah of course the system to define

00:18:29,170 --> 00:18:34,360
these groupings and rankings there is a

00:18:31,270 --> 00:18:36,580
whole data pipeline thing around this

00:18:34,360 --> 00:18:38,470
which i don't want to cover here because

00:18:36,580 --> 00:18:42,540
this might be different for each and

00:18:38,470 --> 00:18:45,490
every customer but essentially with this

00:18:42,540 --> 00:18:49,150
system here and if you would manually

00:18:45,490 --> 00:18:53,290
build these rules you could directly use

00:18:49,150 --> 00:18:55,570
it we have some building blocks that we

00:18:53,290 --> 00:18:59,380
need for that so first of all we need a

00:18:55,570 --> 00:19:03,180
very fast and flexible way of grouping

00:18:59,380 --> 00:19:05,190
items and getting let's say the top-end

00:19:03,180 --> 00:19:09,040
products out of it

00:19:05,190 --> 00:19:12,220
so as I said as I have shown earlier and

00:19:09,040 --> 00:19:17,590
is in the image give me all the scars

00:19:12,220 --> 00:19:21,010
and maybe that contain winter and have a

00:19:17,590 --> 00:19:25,660
specific color and and and just put them

00:19:21,010 --> 00:19:27,970
somewhere then we have this item ranking

00:19:25,660 --> 00:19:31,780
on top so where I said yeah well now I

00:19:27,970 --> 00:19:36,210
have to set but I want to rank it by I

00:19:31,780 --> 00:19:39,060
don't know margin top sellers and

00:19:36,210 --> 00:19:42,670
another metric that might be there and

00:19:39,060 --> 00:19:44,680
then for exploration I said okay but on

00:19:42,670 --> 00:19:46,900
top of that because we need some kind of

00:19:44,680 --> 00:19:50,260
randomization in there as well because

00:19:46,900 --> 00:19:54,280
otherwise we are we are stuck in the

00:19:50,260 --> 00:19:57,430
same potential local optimum as well we

00:19:54,280 --> 00:20:00,700
need some kind of really fast weighted

00:19:57,430 --> 00:20:03,220
sampling so there what we would do is we

00:20:00,700 --> 00:20:06,190
would go in in in these groups of

00:20:03,220 --> 00:20:08,620
products which might be let's say 50

00:20:06,190 --> 00:20:11,890
products we only show four of them but

00:20:08,620 --> 00:20:14,410
how to pick the four out of the 50 this

00:20:11,890 --> 00:20:16,810
will be done by weighted sampling so by

00:20:14,410 --> 00:20:17,799
that we can in may we can ensure that

00:20:16,810 --> 00:20:19,809
new Prada

00:20:17,799 --> 00:20:22,570
or products that have never been seen

00:20:19,809 --> 00:20:26,460
yet are injected there and have a chance

00:20:22,570 --> 00:20:30,669
to to be clicked bought and whatnot and

00:20:26,460 --> 00:20:33,700
then we need this feature that takes

00:20:30,669 --> 00:20:37,840
this set of products and pins it on top

00:20:33,700 --> 00:20:39,909
of the the the results list and of

00:20:37,840 --> 00:20:42,970
course in a deed applicated way I don't

00:20:39,909 --> 00:20:47,049
want to show the same products I say

00:20:42,970 --> 00:20:51,789
twice or or even more okay so this is

00:20:47,049 --> 00:20:53,200
how we solved it so the first part was

00:20:51,789 --> 00:20:55,269
it was the really hard part

00:20:53,200 --> 00:20:57,490
engineering problem but fortunately and

00:20:55,269 --> 00:21:01,000
we found somebody who already solve this

00:20:57,490 --> 00:21:05,200
so we really tried a lot of approaches

00:21:01,000 --> 00:21:08,379
different databases used our own data

00:21:05,200 --> 00:21:11,559
structures to get this fast and then but

00:21:08,379 --> 00:21:15,299
then I buy by a coincidence I stumbled

00:21:11,559 --> 00:21:18,100
about yeah a project which is called

00:21:15,299 --> 00:21:20,409
collection query engine and the

00:21:18,100 --> 00:21:23,470
performance of this thing and the usage

00:21:20,409 --> 00:21:26,710
and the solidness is just mind-blowing

00:21:23,470 --> 00:21:30,570
so that's why I put it here I mean we

00:21:26,710 --> 00:21:33,190
will put it together in in this kind of

00:21:30,570 --> 00:21:37,389
diversification package for search but

00:21:33,190 --> 00:21:40,210
still have a look at this repo it's

00:21:37,389 --> 00:21:42,610
really amazing so with that we would do

00:21:40,210 --> 00:21:48,610
the grouping and we would do the initial

00:21:42,610 --> 00:21:52,299
ranking then we had to solve this fast

00:21:48,610 --> 00:21:54,129
top K weighted sampling thing again

00:21:52,299 --> 00:21:56,980
there were a couple of implementations

00:21:54,129 --> 00:21:59,320
but all implementations at least I found

00:21:56,980 --> 00:22:04,149
were too slow

00:21:59,320 --> 00:22:07,450
so by puppet by just a simple trick and

00:22:04,149 --> 00:22:10,210
we were able to really reduce this and

00:22:07,450 --> 00:22:12,610
and and now you could let's say for for

00:22:10,210 --> 00:22:15,250
one page where we have let's say five

00:22:12,610 --> 00:22:17,350
different rows you could do this

00:22:15,250 --> 00:22:19,120
weighted sampling in less than a

00:22:17,350 --> 00:22:22,210
millisecond so essentially you have done

00:22:19,120 --> 00:22:24,519
four times or maybe or five rows four

00:22:22,210 --> 00:22:27,009
rows where you might want to use this

00:22:24,519 --> 00:22:30,399
might sampling and it's it's so fast

00:22:27,009 --> 00:22:31,180
that you can't even measure it and on

00:22:30,399 --> 00:22:35,190
the on and

00:22:31,180 --> 00:22:37,870
then the last one is the pinning so we

00:22:35,190 --> 00:22:41,980
we are thinking about having a way of

00:22:37,870 --> 00:22:44,290
injecting these products on top of let's

00:22:41,980 --> 00:22:46,150
say the normal result set because we

00:22:44,290 --> 00:22:48,220
want to make sure that all the facets

00:22:46,150 --> 00:22:52,810
and and stuff are still working

00:22:48,220 --> 00:22:55,150
perfectly but unfortunately yeah

00:22:52,810 --> 00:22:59,080
the pandemic infected our release

00:22:55,150 --> 00:23:03,070
schedule so stay tuned we will update

00:22:59,080 --> 00:23:07,060
our open commerce search project and it

00:23:03,070 --> 00:23:11,200
will find its way in there as well yeah

00:23:07,060 --> 00:23:14,140
so um my is essentially my last

00:23:11,200 --> 00:23:15,700
important slide so let's start balancing

00:23:14,140 --> 00:23:17,470
the match between the shopper interest

00:23:15,700 --> 00:23:20,230
to buy and the business interest to sell

00:23:17,470 --> 00:23:22,390
and and and it really makes some big

00:23:20,230 --> 00:23:25,690
progress there because I still feel that

00:23:22,390 --> 00:23:28,240
yeah these these we don't have a

00:23:25,690 --> 00:23:31,090
balanced match yet it might be

00:23:28,240 --> 00:23:33,610
data-driven but we are not trying to do

00:23:31,090 --> 00:23:36,610
the best we can for both of the the

00:23:33,610 --> 00:23:38,970
audiences yeah thanks and if you have

00:23:36,610 --> 00:23:41,680
any questions and if there are some

00:23:38,970 --> 00:23:44,680
developers or people that just want to

00:23:41,680 --> 00:23:48,270
work on these kind of areas join our

00:23:44,680 --> 00:23:48,270
team Thanks

00:23:53,639 --> 00:23:55,700

YouTube URL: https://www.youtube.com/watch?v=QU0ndZvM_LQ


