Title: Berlin Buzzwords 2018: Felipe Besson â€“ Learning to Rank journey at GetYourGuide: Our Logbook #bbuzz
Publication date: 2018-06-18
Playlist: Berlin Buzzwords 2018 #bbuzz
Description: 
	Learning to rank (LTR) has been considered the next generation tool to improve relevance of product search solutions. Inspired by its popularity (Buzzwords 2017) and by the challenges we have at GetYourGuide, a global marketplace for tours and activities, we started a project to introduce LTR in our search engine. I

n this talk, we would like to share our Logbook from day 1 to the current project status. It covers challenges, lessons learned, good practices and pain points you need to know when navigating on LTR tides, such as:
- Pick the right tools to collect data, train and run machine learning models on your search engine
- Distribute and scale training and test into Spark to move faster
- Know your domain (what is relevance for the business) and the diversity of real user queries
- Challenge the quality of your training set and how you collect judgments after each iteration
- Design A/B experiments and define metrics to evaluate the quality of your models

Improving ranking is always an ongoing project. Each of previous topics brought, and they are still bringing, us many good learnings. I would like to share them on this talk and bring good practical contributions to new adopters of LTR for ranking on product (enterprise) search.

Read more:
https://2018.berlinbuzzwords.de/18/session/learning-rank-journey-getyourguide-our-logbook

About Felipe Besson:
https://2018.berlinbuzzwords.de/users/felipe-besson

Website: https://berlinbuzzwords.de/
Twitter: https://twitter.com/berlinbuzzwords
LinkedIn: https://www.linkedin.com/showcase/berlin-buzzwords/ 
Reddit: https://www.reddit.com/r/berlinbuzzwords/
Captions: 
	00:00:05,109 --> 00:00:11,270
hello thanks everybody for coming

00:00:07,640 --> 00:00:14,030
so my name is Felipe song I work as date

00:00:11,270 --> 00:00:15,799
engineer for get your guide and today

00:00:14,030 --> 00:00:18,260
I'll be talking about learn to rank I

00:00:15,799 --> 00:00:20,990
get your guide I call that a log book

00:00:18,260 --> 00:00:23,390
because my intentions to cover all

00:00:20,990 --> 00:00:25,400
phases of the process for day one and

00:00:23,390 --> 00:00:27,770
two the current status of this project I

00:00:25,400 --> 00:00:29,450
hope to is the last talk so I hope you

00:00:27,770 --> 00:00:33,760
talk with some very interesting lessons

00:00:29,450 --> 00:00:36,230
and for you so I would like to start by

00:00:33,760 --> 00:00:38,300
saying what is get your guide we are a

00:00:36,230 --> 00:00:40,940
leading global marketplace for tourists

00:00:38,300 --> 00:00:43,899
to return activities we have currently

00:00:40,940 --> 00:00:46,340
more than 33,000 actives in your website

00:00:43,899 --> 00:00:48,079
activities can be many things can be

00:00:46,340 --> 00:00:50,090
think that you have to buy a ticket to

00:00:48,079 --> 00:00:52,070
go to Disneyland but can be something

00:00:50,090 --> 00:00:54,050
from walking tours in Berlin I don't

00:00:52,070 --> 00:00:56,780
know if pirate boats in Cancun

00:00:54,050 --> 00:00:59,059
we have those activities more than 7,000

00:00:56,780 --> 00:01:02,059
destinations we are more than 400

00:00:59,059 --> 00:01:04,339
employees kind of then your data team

00:01:02,059 --> 00:01:08,240
and we are based here in Berlin in

00:01:04,339 --> 00:01:10,520
Zurich as a marketplace in your other

00:01:08,240 --> 00:01:13,130
market place search is very important

00:01:10,520 --> 00:01:16,009
for us and you have many search features

00:01:13,130 --> 00:01:19,069
in our website we have first a pretty

00:01:16,009 --> 00:01:21,889
standard one a full-text search we have

00:01:19,069 --> 00:01:24,920
in your in your mobile app but also in

00:01:21,889 --> 00:01:26,840
your desktop version and your very

00:01:24,920 --> 00:01:30,529
location driven because you ask for the

00:01:26,840 --> 00:01:32,630
customers where were they going and this

00:01:30,529 --> 00:01:34,549
page has many purpose they may want

00:01:32,630 --> 00:01:37,539
maybe discovery from this page a

00:01:34,549 --> 00:01:40,549
customer can find places to travel and

00:01:37,539 --> 00:01:42,799
as similar to many marketplace are

00:01:40,549 --> 00:01:45,439
ranking here is a composition of

00:01:42,799 --> 00:01:47,929
business metrics and tax similarity

00:01:45,439 --> 00:01:50,509
metrics well I also have something

00:01:47,929 --> 00:01:53,329
interesting called location page looks

00:01:50,509 --> 00:01:56,090
like a landing page but there is no

00:01:53,329 --> 00:01:57,950
static content they'll search it going

00:01:56,090 --> 00:02:00,380
on here and this page is also very

00:01:57,950 --> 00:02:03,310
location driven because those tourist

00:02:00,380 --> 00:02:06,829
stores activities here are about Paris

00:02:03,310 --> 00:02:08,959
they all belong to Paris and these are

00:02:06,829 --> 00:02:11,270
even more important here because the

00:02:08,959 --> 00:02:13,730
actives are popular so they run out of

00:02:11,270 --> 00:02:16,970
variability quickly and we use those

00:02:13,730 --> 00:02:18,080
pages in your ads so it means that we

00:02:16,970 --> 00:02:20,390
paid for the

00:02:18,080 --> 00:02:22,280
this trafficking and also received high

00:02:20,390 --> 00:02:24,290
intent customers we know that all the

00:02:22,280 --> 00:02:26,660
customers who lent this page through an

00:02:24,290 --> 00:02:30,260
app ad are interesting to travel to

00:02:26,660 --> 00:02:32,240
Paris and then today we use the door

00:02:30,260 --> 00:02:35,060
rang key here and I don't have matching

00:02:32,240 --> 00:02:38,750
problems its composite mainly mostly by

00:02:35,060 --> 00:02:40,520
business metrics spa page is very

00:02:38,750 --> 00:02:42,530
important for the moment you are the

00:02:40,520 --> 00:02:45,500
business and then you have some problems

00:02:42,530 --> 00:02:47,630
with this strategy the focus of business

00:02:45,500 --> 00:02:50,240
metric is good in terms of you are sure

00:02:47,630 --> 00:02:54,440
if things that sell well and people want

00:02:50,240 --> 00:02:55,820
to buy but we is very difficult

00:02:54,440 --> 00:02:57,470
introducing new products and new

00:02:55,820 --> 00:02:59,420
projects let's say if you are using

00:02:57,470 --> 00:03:01,550
conversion rate a new problem does a new

00:02:59,420 --> 00:03:04,070
product doesn't have conversions

00:03:01,550 --> 00:03:07,160
impressions and also diversity here is a

00:03:04,070 --> 00:03:09,110
problem and we are missing opportunity

00:03:07,160 --> 00:03:12,650
as I mentioned we use these pages in

00:03:09,110 --> 00:03:16,160
your ads so we beat for some search

00:03:12,650 --> 00:03:17,900
keywords on those ads and do use them so

00:03:16,160 --> 00:03:20,150
if you bid for this keyword Eiffel Tower

00:03:17,900 --> 00:03:22,580
ticket and Eiffel Tower restaurant today

00:03:20,150 --> 00:03:25,519
we show the for both case the same

00:03:22,580 --> 00:03:27,110
content so I'm missing opportunity so

00:03:25,519 --> 00:03:29,120
definitely need should you need to learn

00:03:27,110 --> 00:03:32,959
how to rank the activities in this page

00:03:29,120 --> 00:03:35,750
and that's what I talked about today for

00:03:32,959 --> 00:03:38,480
those doesn't know lunch rank only a

00:03:35,750 --> 00:03:39,920
very brief introduction here if you

00:03:38,480 --> 00:03:42,500
consider this a search engine you have

00:03:39,920 --> 00:03:44,420
documents here and a pretty standard

00:03:42,500 --> 00:03:45,769
search system receives up gray and they

00:03:44,420 --> 00:03:47,540
don't have to fetch the document and

00:03:45,769 --> 00:03:50,540
then it will somehow apply some formula

00:03:47,540 --> 00:03:53,060
here to sort order those documents when

00:03:50,540 --> 00:03:55,190
we talk about learning we have we have a

00:03:53,060 --> 00:03:57,980
company to learn system that's know from

00:03:55,190 --> 00:03:59,570
your past data how to rank a cup of a

00:03:57,980 --> 00:04:02,209
set of documents for a particular Kray

00:03:59,570 --> 00:04:04,130
so when your query kimsen we know how to

00:04:02,209 --> 00:04:07,400
what model we want to use and then you

00:04:04,130 --> 00:04:10,070
use this model to rank by your during

00:04:07,400 --> 00:04:13,700
the results so that's the agenda are my

00:04:10,070 --> 00:04:15,230
log book I go through the scope and

00:04:13,700 --> 00:04:18,169
decisions that you have to made in this

00:04:15,230 --> 00:04:20,600
project at get your guide some tools and

00:04:18,169 --> 00:04:23,419
data pipelines were built the lessons

00:04:20,600 --> 00:04:25,940
that you learn in a stew learning what's

00:04:23,419 --> 00:04:27,680
not covering a I won't be covering half

00:04:25,940 --> 00:04:29,930
that is called modeling evaluation of

00:04:27,680 --> 00:04:31,700
the models we are using the this would

00:04:29,930 --> 00:04:33,560
be an overview for

00:04:31,700 --> 00:04:35,480
kiss me who works in the produce since

00:04:33,560 --> 00:04:39,080
the beginning and to the current states

00:04:35,480 --> 00:04:42,140
of the prove it so okay I would like to

00:04:39,080 --> 00:04:45,980
start talking about the first iteration

00:04:42,140 --> 00:04:48,020
so we had to make some decisions our

00:04:45,980 --> 00:04:48,680
problem is very complex so it made some

00:04:48,020 --> 00:04:51,890
decisions

00:04:48,680 --> 00:04:53,300
and the final scope let's recap before

00:04:51,890 --> 00:04:55,880
while you're doing that to get your

00:04:53,300 --> 00:04:57,920
guide we want to apply machine learn and

00:04:55,880 --> 00:05:00,440
your you're on ranking formula on

00:04:57,920 --> 00:05:03,680
location pays to introduce you traduce

00:05:00,440 --> 00:05:06,050
text relevance factors so we current

00:05:03,680 --> 00:05:08,030
will have there many business factors we

00:05:06,050 --> 00:05:09,890
want to keep then maybe add more but

00:05:08,030 --> 00:05:13,310
also introduce introduce relevance

00:05:09,890 --> 00:05:15,800
factors on this formula and with this we

00:05:13,310 --> 00:05:18,140
will be using our real user intention

00:05:15,800 --> 00:05:21,770
data and bring some dynamic ranking

00:05:18,140 --> 00:05:25,180
landing page to achieve this with the

00:05:21,770 --> 00:05:27,860
final a focus and the focus on this

00:05:25,180 --> 00:05:30,790
intelligent aeration was points off

00:05:27,860 --> 00:05:33,470
interested we have many location pages

00:05:30,790 --> 00:05:35,510
and then we have the scores of pure ice

00:05:33,470 --> 00:05:37,910
points of interested it's nothing more

00:05:35,510 --> 00:05:40,460
specific than a low Denis Eady or now

00:05:37,910 --> 00:05:42,890
area is something like Eiffel Tower

00:05:40,460 --> 00:05:45,890
Louvre Museum here in Berlin is the TV

00:05:42,890 --> 00:05:48,830
tower so it decided to focus on this

00:05:45,890 --> 00:05:50,540
vertical we also have 22 languages in

00:05:48,830 --> 00:05:52,640
your website but sites you focus on

00:05:50,540 --> 00:05:55,130
English to reduce the complexity of the

00:05:52,640 --> 00:05:56,810
problem one important thing here is that

00:05:55,130 --> 00:05:58,610
on location pages and make sure you

00:05:56,810 --> 00:06:00,440
don't have the explicit user cry there

00:05:58,610 --> 00:06:02,540
is no search box there on the dot on the

00:06:00,440 --> 00:06:04,160
user can type and search but they have

00:06:02,540 --> 00:06:05,870
the keywords and are going to try to

00:06:04,160 --> 00:06:08,570
apply them to make use those keywords

00:06:05,870 --> 00:06:11,240
and then I example of keywords that will

00:06:08,570 --> 00:06:15,530
be disliked this Eiffel Tower at least a

00:06:11,240 --> 00:06:18,410
TOEFL IBT both true that is this is a

00:06:15,530 --> 00:06:21,280
rich keyword we have location here and

00:06:18,410 --> 00:06:24,740
also some intention for the customer and

00:06:21,280 --> 00:06:28,100
then for this view one we try we try to

00:06:24,740 --> 00:06:30,020
be very envy P so we follow the

00:06:28,100 --> 00:06:32,060
basically standard steps of ultra

00:06:30,020 --> 00:06:35,060
solution follow what everyone's doing I

00:06:32,060 --> 00:06:36,680
will cover these steps during the

00:06:35,060 --> 00:06:38,420
presentation but basically we need to

00:06:36,680 --> 00:06:41,810
quality judgments is tracked features

00:06:38,420 --> 00:06:45,140
then have our training set 20 voltage

00:06:41,810 --> 00:06:45,889
validate our models run AP tests analyze

00:06:45,140 --> 00:06:48,370
the results

00:06:45,889 --> 00:06:52,759
and if I'll define the next iteration

00:06:48,370 --> 00:06:56,110
okay so we start the project they want

00:06:52,759 --> 00:07:00,080
we need to collect our judge Melissa I

00:06:56,110 --> 00:07:02,270
judge my list is also golden Seto is the

00:07:00,080 --> 00:07:04,370
base for your model to learn

00:07:02,270 --> 00:07:06,110
so from this judge my list we can

00:07:04,370 --> 00:07:10,159
feature on top of that and have our

00:07:06,110 --> 00:07:13,550
training set so we decide to get the

00:07:10,159 --> 00:07:15,469
highest traffic search keywords or with

00:07:13,550 --> 00:07:17,120
this we have some subset of queries that

00:07:15,469 --> 00:07:20,029
were relevant for our business we have

00:07:17,120 --> 00:07:23,000
demand for those queries and then we had

00:07:20,029 --> 00:07:26,449
a list like this for we have a search

00:07:23,000 --> 00:07:28,330
keyword and and we decide to have for

00:07:26,449 --> 00:07:30,889
that keyword for that location page

00:07:28,330 --> 00:07:33,039
index is my fault our and the keywords

00:07:30,889 --> 00:07:35,509
Eiffel Tower summit axis want to measure

00:07:33,039 --> 00:07:37,939
once you get some signal here how

00:07:35,509 --> 00:07:40,819
relevant out what is the relevance the

00:07:37,939 --> 00:07:44,330
judgment for this document so in second

00:07:40,819 --> 00:07:46,340
example we have 24 per speaking class

00:07:44,330 --> 00:07:48,590
for a fourth hour might not be relevant

00:07:46,340 --> 00:07:50,419
would have to collect this somehow and

00:07:48,590 --> 00:07:52,669
they also have simple search keywords

00:07:50,419 --> 00:07:55,250
keywords without location part for

00:07:52,669 --> 00:07:57,229
example we had in the contest of Eiffel

00:07:55,250 --> 00:07:59,120
Tower this is all job guide so for those

00:07:57,229 --> 00:08:02,150
who are familiar with how to structure

00:07:59,120 --> 00:08:04,250
the deeper the training set this is our

00:08:02,150 --> 00:08:05,839
query the combination of uses to factor

00:08:04,250 --> 00:08:07,940
this keyword can be used in many other

00:08:05,839 --> 00:08:10,520
location but this keyword for that

00:08:07,940 --> 00:08:14,089
location page was how relevant is this

00:08:10,520 --> 00:08:18,229
top MIT and how did you populate the

00:08:14,089 --> 00:08:22,419
journalist for a view one we decide we

00:08:18,229 --> 00:08:24,800
get a is way and decide to collect

00:08:22,419 --> 00:08:27,469
judgments from humans or use a human

00:08:24,800 --> 00:08:29,810
label of labeling approach the judgments

00:08:27,469 --> 00:08:32,209
are collected on my experts and experts

00:08:29,810 --> 00:08:35,149
in this case was internal stakeholders

00:08:32,209 --> 00:08:38,779
of get your guide and we ask them to

00:08:35,149 --> 00:08:41,060
judge from a schedule 0 to 3 where 0 is

00:08:38,779 --> 00:08:42,919
something that is not relevant at all

00:08:41,060 --> 00:08:46,459
and trees and something that's very

00:08:42,919 --> 00:08:49,940
relevant in this round we collect about

00:08:46,459 --> 00:08:54,110
30,000 judgments and as we had this

00:08:49,940 --> 00:08:56,899
judgment okay we think like you thought

00:08:54,110 --> 00:08:59,480
let's analyze the how booties are

00:08:56,899 --> 00:09:02,210
ranking so let's evaluate base

00:08:59,480 --> 00:09:05,420
the the how would the rank your crew

00:09:02,210 --> 00:09:07,670
drink and then you apply we label

00:09:05,420 --> 00:09:11,810
everything then you apply in CG at seven

00:09:07,670 --> 00:09:15,170
and you got fifty five percent so so one

00:09:11,810 --> 00:09:16,610
more education very bad score but that

00:09:15,170 --> 00:09:19,490
we need to move forward this one more

00:09:16,610 --> 00:09:22,270
facial play out here what's good and bad

00:09:19,490 --> 00:09:26,300
and you apply human label isn't my list

00:09:22,270 --> 00:09:29,090
well when our data is good when your

00:09:26,300 --> 00:09:31,280
debt is incomplete or inconsistent not

00:09:29,090 --> 00:09:33,860
in the server case but this might be a

00:09:31,280 --> 00:09:36,040
good approach so like ask for experts

00:09:33,860 --> 00:09:40,730
you label your later what is relevant

00:09:36,040 --> 00:09:42,860
its you unclear what I mean here let's

00:09:40,730 --> 00:09:45,700
say that you have a commerce and then

00:09:42,860 --> 00:09:48,380
you want to measure from data if the

00:09:45,700 --> 00:09:51,680
document is relevant for a specific way

00:09:48,380 --> 00:09:54,470
you can consider clicks but as as as

00:09:51,680 --> 00:09:56,810
well you know it's ambiguous not not

00:09:54,470 --> 00:09:59,120
necessarily boots would a good way to

00:09:56,810 --> 00:10:01,400
measure my cue if the user book later

00:09:59,120 --> 00:10:03,860
that rule might be a good a good

00:10:01,400 --> 00:10:06,020
approach forget the relevance so what is

00:10:03,860 --> 00:10:08,780
not clear yet what is the path to

00:10:06,020 --> 00:10:11,510
achieved what is relevant for you expert

00:10:08,780 --> 00:10:14,450
can help you to have to at least be one

00:10:11,510 --> 00:10:16,310
and one interesting thing is that when

00:10:14,450 --> 00:10:19,310
you get from data you need to prepare

00:10:16,310 --> 00:10:21,410
data your Crowley data like you need to

00:10:19,310 --> 00:10:23,300
apply steamers normalize cluster the

00:10:21,410 --> 00:10:26,600
data that are similar to see how they

00:10:23,300 --> 00:10:29,540
behavior but when you are talking with

00:10:26,600 --> 00:10:32,120
experts they know that they are domain

00:10:29,540 --> 00:10:34,430
expert so they know the the stop words

00:10:32,120 --> 00:10:36,560
is not synonymous so you need to

00:10:34,430 --> 00:10:38,240
normalize this thing to collect the

00:10:36,560 --> 00:10:41,270
judgments but that it requires less

00:10:38,240 --> 00:10:43,100
effort let's see and then what

00:10:41,270 --> 00:10:45,290
there is also bad things relevance is

00:10:43,100 --> 00:10:48,170
very subjective from the to an order of

00:10:45,290 --> 00:10:53,920
course and hard to scale and might be

00:10:48,170 --> 00:10:57,440
expensive okay we have the judgments

00:10:53,920 --> 00:11:02,630
next step is to enrich those judgments

00:10:57,440 --> 00:11:06,550
with features and we are ain't go you

00:11:02,630 --> 00:11:10,130
went for three types of features we have

00:11:06,550 --> 00:11:12,950
query document features business metric

00:11:10,130 --> 00:11:13,610
features and document features what I

00:11:12,950 --> 00:11:16,579
mean

00:11:13,610 --> 00:11:19,310
document features three standard we were

00:11:16,579 --> 00:11:23,149
using last search so we collect the pin

00:11:19,310 --> 00:11:26,180
25 of single text fields that are

00:11:23,149 --> 00:11:28,070
relevant for our domain with moot match

00:11:26,180 --> 00:11:32,000
combinations like best field cross field

00:11:28,070 --> 00:11:33,860
across those text fields business

00:11:32,000 --> 00:11:35,690
metrics we decide to include the raw

00:11:33,860 --> 00:11:38,089
business metrics by metrics that

00:11:35,690 --> 00:11:40,160
represent our conversion of funeral

00:11:38,089 --> 00:11:43,550
let's say so include clicks books

00:11:40,160 --> 00:11:47,829
impressions but also rates like CTR CR

00:11:43,550 --> 00:11:50,690
and document features in our case

00:11:47,829 --> 00:11:53,540
attribute a active attribute like price

00:11:50,690 --> 00:11:56,209
the duration number of reviews and also

00:11:53,540 --> 00:11:58,850
categories that the document belongs to

00:11:56,209 --> 00:12:03,560
in our case it might be tickets tours

00:11:58,850 --> 00:12:06,410
walking tours many things and then we

00:12:03,560 --> 00:12:08,450
decide to build a data pipeline like we

00:12:06,410 --> 00:12:11,560
want to be maybe people decide should

00:12:08,450 --> 00:12:14,990
build a data pipeline while did this

00:12:11,560 --> 00:12:18,050
because is if you consider the out CR

00:12:14,990 --> 00:12:19,839
cycle we have three main steps very very

00:12:18,050 --> 00:12:23,300
similar to any machine learning problem

00:12:19,839 --> 00:12:25,250
we always can have a new idea of a new

00:12:23,300 --> 00:12:28,010
feature that you you want to include and

00:12:25,250 --> 00:12:29,420
have a training set and then you okay

00:12:28,010 --> 00:12:31,190
you have a new training set to have to

00:12:29,420 --> 00:12:33,709
molecule trainer mode and value eight

00:12:31,190 --> 00:12:36,410
but you can also have an another feature

00:12:33,709 --> 00:12:37,760
so you do that cycle many times probably

00:12:36,410 --> 00:12:40,550
you do many times you have multiple

00:12:37,760 --> 00:12:42,320
features and then when you go through

00:12:40,550 --> 00:12:44,180
each of these steps well solve it as

00:12:42,320 --> 00:12:46,100
reliable so invest some time we should

00:12:44,180 --> 00:12:49,130
build a pipeline and also surface

00:12:46,100 --> 00:12:51,350
reproducible in terms of like last week

00:12:49,130 --> 00:12:53,829
if you have a good model for a feature

00:12:51,350 --> 00:12:56,600
set you want to have the same results so

00:12:53,829 --> 00:12:59,149
should be reproducible and if you have

00:12:56,600 --> 00:13:01,730
if you manage it you have like a very

00:12:59,149 --> 00:13:05,570
few human intervention you can to write

00:13:01,730 --> 00:13:08,839
faster in this so you build our first

00:13:05,570 --> 00:13:11,660
pipeline our first pipeline works like

00:13:08,839 --> 00:13:14,839
this we receive a judgment list our

00:13:11,660 --> 00:13:16,760
populated by the expert and then receive

00:13:14,839 --> 00:13:18,769
a configuration file when you say the

00:13:16,760 --> 00:13:21,320
features and the versions of the this

00:13:18,769 --> 00:13:23,839
that feature set you sent this finished

00:13:21,320 --> 00:13:27,560
your data breaks we have a job running

00:13:23,839 --> 00:13:29,990
on data bricks topper spark and then we

00:13:27,560 --> 00:13:34,310
data bricks in some quest to score

00:13:29,990 --> 00:13:37,970
features hola search but one thing here

00:13:34,310 --> 00:13:40,250
is like he in this approach it feature

00:13:37,970 --> 00:13:41,570
is a query basically that to help to

00:13:40,250 --> 00:13:44,840
send you a search because there were

00:13:41,570 --> 00:13:46,840
couple true that the actual user cray so

00:13:44,840 --> 00:13:50,090
I have many requests happening here and

00:13:46,840 --> 00:13:52,190
but okay but we we managed to collect

00:13:50,090 --> 00:13:54,350
all these features we have a training

00:13:52,190 --> 00:13:57,500
set with training validation model and

00:13:54,350 --> 00:14:02,180
then we have a model and then when the

00:13:57,500 --> 00:14:04,340
user comes search for Eiffel Tower we

00:14:02,180 --> 00:14:06,170
had to do it while I have to do it too

00:14:04,340 --> 00:14:08,270
heavy to with Corrigan your features

00:14:06,170 --> 00:14:12,680
because they are totally related to the

00:14:08,270 --> 00:14:15,200
query and then is acute the model so if

00:14:12,680 --> 00:14:17,600
the model is linear you said like some

00:14:15,200 --> 00:14:19,640
fishing boats is good but imagine that

00:14:17,600 --> 00:14:21,950
is a complex model here like a decision

00:14:19,640 --> 00:14:24,590
tree we have somehow fetched documents

00:14:21,950 --> 00:14:27,770
for a search and reprocess this and then

00:14:24,590 --> 00:14:30,710
sent back to the code to the user after

00:14:27,770 --> 00:14:33,440
this first pipeline we had some problems

00:14:30,710 --> 00:14:36,440
our boat was not safe as expected

00:14:33,440 --> 00:14:37,250
like we managed to request last search

00:14:36,440 --> 00:14:39,980
was complicated

00:14:37,250 --> 00:14:43,220
we had some trials of 200 features at

00:14:39,980 --> 00:14:46,690
10,000 rows and ended up nine with nine

00:14:43,220 --> 00:14:49,190
million queries centralist search wait

00:14:46,690 --> 00:14:53,540
we can batch we can paralyze but

00:14:49,190 --> 00:14:56,060
although it is 209 million queries the

00:14:53,540 --> 00:14:57,890
version of training set was a problem

00:14:56,060 --> 00:15:01,190
for us because you have a pipeline but

00:14:57,890 --> 00:15:03,440
was like we recur we needed some humans

00:15:01,190 --> 00:15:06,740
you say okay this is the version for

00:15:03,440 --> 00:15:09,290
this feature set as I mentioned is a

00:15:06,740 --> 00:15:10,540
cute complex modern paradigm it's kind

00:15:09,290 --> 00:15:13,760
of complicated

00:15:10,540 --> 00:15:15,380
modern you for this tool the algae are

00:15:13,760 --> 00:15:19,400
plugging developed by open source

00:15:15,380 --> 00:15:21,770
connections take for the initiative we

00:15:19,400 --> 00:15:25,160
if this plugin you can use the break

00:15:21,770 --> 00:15:28,370
living XD boots a boost a very standard

00:15:25,160 --> 00:15:30,980
and good tools for LTR and with this

00:15:28,370 --> 00:15:33,710
plugin it helped us in in these two main

00:15:30,980 --> 00:15:36,800
things ever if you display your Kindle

00:15:33,710 --> 00:15:40,610
Store and and features and models inside

00:15:36,800 --> 00:15:41,360
the last search and version then so when

00:15:40,610 --> 00:15:43,610
you need

00:15:41,360 --> 00:15:46,549
poor to collect the judgments now is

00:15:43,610 --> 00:15:48,829
simpler because everything's the last

00:15:46,549 --> 00:15:51,230
search you don't need it to create a

00:15:48,829 --> 00:15:53,869
place for our side ok say ok a last

00:15:51,230 --> 00:15:56,749
search is called this simple this pair

00:15:53,869 --> 00:16:00,350
of query and document using the feature

00:15:56,749 --> 00:16:02,239
set V 1 and then the the plugin returns

00:16:00,350 --> 00:16:04,639
for you all the judgment at once so is

00:16:02,239 --> 00:16:06,679
fewer question last search so I decide

00:16:04,639 --> 00:16:08,749
to add this to our in your pipeline and

00:16:06,679 --> 00:16:11,660
then you had this we receive the

00:16:08,749 --> 00:16:13,100
judgment the configuration file data

00:16:11,660 --> 00:16:15,879
breaks and fewer Christ's natural a

00:16:13,100 --> 00:16:19,249
search and you have a training set and

00:16:15,879 --> 00:16:21,799
then we train validator model at this

00:16:19,249 --> 00:16:24,889
time we have to just the only this type

00:16:21,799 --> 00:16:27,139
is manual well it's - yeah but yet but

00:16:24,889 --> 00:16:29,449
we can automate it we we upload the

00:16:27,139 --> 00:16:31,519
model the best model in your last search

00:16:29,449 --> 00:16:33,829
and then in the users search first

00:16:31,519 --> 00:16:36,230
Eiffel Tower in this case we just have

00:16:33,829 --> 00:16:38,119
to say okay use mod of V 1 and the last

00:16:36,230 --> 00:16:40,459
search knows that mod of V 1 use the

00:16:38,119 --> 00:16:44,119
Future Sight V 1 and whose core for us

00:16:40,459 --> 00:16:46,790
the results what is good about our

00:16:44,119 --> 00:16:49,669
pipeline we with this we could iterate

00:16:46,790 --> 00:16:51,379
faster to give new date set the version

00:16:49,669 --> 00:16:53,839
of models and feature sets were easier

00:16:51,379 --> 00:16:56,809
now and simply see to run it's not

00:16:53,839 --> 00:17:01,819
automated flow entering but was good

00:16:56,809 --> 00:17:04,279
enough for us ok so we have a training

00:17:01,819 --> 00:17:08,589
set the next steps the next step

00:17:04,279 --> 00:17:12,409
actually is to training validate a model

00:17:08,589 --> 00:17:15,439
let's recap our boss we want a

00:17:12,409 --> 00:17:17,899
reasonable model for location page for

00:17:15,439 --> 00:17:19,880
the actual guide location page we want

00:17:17,899 --> 00:17:22,699
this model should have a mixture of

00:17:19,880 --> 00:17:25,639
relevance text relevance metrics and

00:17:22,699 --> 00:17:30,559
miss this matrix we made sure that we

00:17:25,639 --> 00:17:34,039
have features for covering both metrics

00:17:30,559 --> 00:17:37,850
and we decide to have a valuation met at

00:17:34,039 --> 00:17:41,899
NDC G at 10:10 because the size of our

00:17:37,850 --> 00:17:45,080
location page at the moment and for the

00:17:41,899 --> 00:17:47,000
business for majnu's success success in

00:17:45,080 --> 00:17:51,190
business / in the business perspective

00:17:47,000 --> 00:17:53,809
we decide to use to measure the city our

00:17:51,190 --> 00:17:55,160
and we have some constraints we are not

00:17:53,809 --> 00:17:59,000
including

00:17:55,160 --> 00:18:02,419
user features like gender age from where

00:17:59,000 --> 00:18:06,530
the user came so similar so things like

00:18:02,419 --> 00:18:08,570
that and you build a pipeline again our

00:18:06,530 --> 00:18:11,179
pipeline now we should train test models

00:18:08,570 --> 00:18:13,730
is simpler than the other one we you

00:18:11,179 --> 00:18:16,400
receive here the the training test set

00:18:13,730 --> 00:18:17,750
and you have some model type and

00:18:16,400 --> 00:18:20,090
configurations is also another

00:18:17,750 --> 00:18:22,220
configuration file in this view one we

00:18:20,090 --> 00:18:24,980
decide to use ranked lib so in this

00:18:22,220 --> 00:18:26,960
configuration file we have to receive

00:18:24,980 --> 00:18:30,080
the model type that you want to try and

00:18:26,960 --> 00:18:31,549
then the configurations for example we

00:18:30,080 --> 00:18:34,070
can use random forests so a

00:18:31,549 --> 00:18:37,940
configuration would be the number of

00:18:34,070 --> 00:18:41,030
trees for example so we receive both

00:18:37,940 --> 00:18:44,659
things our mod rank Lib model trainer

00:18:41,030 --> 00:18:48,530
and then you we what you did we

00:18:44,659 --> 00:18:50,750
distributed ring clip on spark so we run

00:18:48,530 --> 00:18:53,840
this on spark cluster the model

00:18:50,750 --> 00:18:58,100
transient collected many models equation

00:18:53,840 --> 00:19:00,080
results so ok and outside the two bricks

00:18:58,100 --> 00:19:02,600
we have a module here out your model

00:19:00,080 --> 00:19:05,659
valuate who fetches results the

00:19:02,600 --> 00:19:07,940
configuration file and analyzed output

00:19:05,659 --> 00:19:12,880
ends and for that round for let's try

00:19:07,940 --> 00:19:15,350
that's interation returns the best model

00:19:12,880 --> 00:19:18,919
so what is good and bad about this

00:19:15,350 --> 00:19:22,400
pipeline you can tell it faster to try

00:19:18,919 --> 00:19:25,789
new models and automated models

00:19:22,400 --> 00:19:27,830
evaluations also optimize it but the

00:19:25,789 --> 00:19:29,330
problem here is we had some overhead

00:19:27,830 --> 00:19:31,789
choose to put wrinkly we shouldn't do

00:19:29,330 --> 00:19:34,460
the head we could use oxygen boost we

00:19:31,789 --> 00:19:36,260
wait for ring clip at the time because

00:19:34,460 --> 00:19:38,330
you didn't have expertise in actually

00:19:36,260 --> 00:19:42,169
beautiful model make a documentation and

00:19:38,330 --> 00:19:44,000
previous experience with ring clip and

00:19:42,169 --> 00:19:46,159
one bad thing about reg leave as well

00:19:44,000 --> 00:19:48,350
that we found in our case was to analyze

00:19:46,159 --> 00:19:50,690
the future importance the output

00:19:48,350 --> 00:19:55,090
execution output a file from link Lib

00:19:50,690 --> 00:19:57,950
and then we have a best view one model

00:19:55,090 --> 00:20:01,070
the best model was a lambda March model

00:19:57,950 --> 00:20:04,220
it was not a surprise like this three

00:20:01,070 --> 00:20:07,450
models are like very common and maybe

00:20:04,220 --> 00:20:07,450
the best solutions for those problems

00:20:07,760 --> 00:20:13,800
pretty good in CJ 10 and we analyzed the

00:20:11,880 --> 00:20:16,770
features that the model included and

00:20:13,800 --> 00:20:18,870
makes total sense for our business we

00:20:16,770 --> 00:20:20,520
have query document features like title

00:20:18,870 --> 00:20:25,140
right lights description base if you'd

00:20:20,520 --> 00:20:26,700
mood match with cover well or writin we

00:20:25,140 --> 00:20:28,950
have business metaphor I click the books

00:20:26,700 --> 00:20:31,980
impression see our covers our conversion

00:20:28,950 --> 00:20:34,050
funnel and I have document features like

00:20:31,980 --> 00:20:36,180
number of reviews will be rating your

00:20:34,050 --> 00:20:37,980
price by seller are features that to

00:20:36,180 --> 00:20:43,200
believe that are good for customers you

00:20:37,980 --> 00:20:46,680
take this issue okay you got a model

00:20:43,200 --> 00:20:47,480
just each run production right but not

00:20:46,680 --> 00:20:50,610
so easy

00:20:47,480 --> 00:20:53,810
we did some offline evaluation and you

00:20:50,610 --> 00:20:55,800
don't go to production and tell me why

00:20:53,810 --> 00:20:58,950
basically the best we want you to work

00:20:55,800 --> 00:21:01,260
we it works from showing you so for some

00:20:58,950 --> 00:21:03,270
use case but forehead cards let's say

00:21:01,260 --> 00:21:06,360
most important search keywords didn't

00:21:03,270 --> 00:21:08,160
work this example my favorite example

00:21:06,360 --> 00:21:10,680
Eiffel Tower skip the line ticket very

00:21:08,160 --> 00:21:13,410
important keyword for us we have here on

00:21:10,680 --> 00:21:16,890
the left the current rank on the right

00:21:13,410 --> 00:21:21,090
the rank generated by the model I start

00:21:16,890 --> 00:21:23,610
to analyze the linear inks this first

00:21:21,090 --> 00:21:26,550
one I our second-floor part axis

00:21:23,610 --> 00:21:28,890
Orson I submit ticket it is very

00:21:26,550 --> 00:21:31,220
relevant for this query like provide

00:21:28,890 --> 00:21:34,740
priority access and skip the line are

00:21:31,220 --> 00:21:37,470
synonymous but we can see that this

00:21:34,740 --> 00:21:41,730
document is not here it's very bad for

00:21:37,470 --> 00:21:44,400
the no allocation page the second

00:21:41,730 --> 00:21:47,670
example Eiffel Tower dinner with River

00:21:44,400 --> 00:21:49,920
Chris like to have a dinner or have to

00:21:47,670 --> 00:21:54,420
probably being Eiffel Tower but didn't

00:21:49,920 --> 00:21:56,420
mention anything about skip the line one

00:21:54,420 --> 00:21:59,160
last example

00:21:56,420 --> 00:22:01,500
this should shooter is two activities

00:21:59,160 --> 00:22:03,030
here Paris city tour and keep your line

00:22:01,500 --> 00:22:06,300
I fought Arctic so let's keep the knife

00:22:03,030 --> 00:22:08,940
what our ticket but this is not only

00:22:06,300 --> 00:22:10,800
skip the line of authority kit so the

00:22:08,940 --> 00:22:13,340
price is a little bit higher because

00:22:10,800 --> 00:22:16,740
it's a bundle these two things in one

00:22:13,340 --> 00:22:19,590
it's a is relevant result but not sure

00:22:16,740 --> 00:22:20,909
if if you need to be ranked so high for

00:22:19,590 --> 00:22:23,129
this keyword as you have high

00:22:20,909 --> 00:22:25,320
Tainted customers that customer search

00:22:23,129 --> 00:22:27,539
for only this not sure if this is

00:22:25,320 --> 00:22:29,129
relevant for the customer and the show

00:22:27,539 --> 00:22:33,479
this price on a landing page on a

00:22:29,129 --> 00:22:37,080
location page and then we had a lot of

00:22:33,479 --> 00:22:39,330
tough lessons learned it I like to cover

00:22:37,080 --> 00:22:41,609
some lessons the main ones like

00:22:39,330 --> 00:22:45,450
relevance of results for this page and

00:22:41,609 --> 00:22:46,919
problems that we've found the font the

00:22:45,450 --> 00:22:49,739
judgment lists extractions we'll learn

00:22:46,919 --> 00:22:51,450
some things about this the pilot of your

00:22:49,739 --> 00:22:55,409
eyes and the distribution of our

00:22:51,450 --> 00:22:58,440
judgments so after this bad result is

00:22:55,409 --> 00:23:00,450
offline valuation we start to question

00:22:58,440 --> 00:23:03,929
ourselves what is relevance for our

00:23:00,450 --> 00:23:07,169
business let's recap over the case we

00:23:03,929 --> 00:23:08,940
were talking about location page for us

00:23:07,169 --> 00:23:12,149
is the first point of contact of many

00:23:08,940 --> 00:23:14,879
visitors so a previous page you have

00:23:12,149 --> 00:23:18,349
very few ranked positions to change the

00:23:14,879 --> 00:23:20,729
premium space there have like 10 slots

00:23:18,349 --> 00:23:23,129
business metrics matter always matters

00:23:20,729 --> 00:23:26,820
but for those pages will receive a paid

00:23:23,129 --> 00:23:30,929
traffic of revenue matters a lot and

00:23:26,820 --> 00:23:33,989
then you used on may Express labeling we

00:23:30,929 --> 00:23:39,119
asked them to do a simple very simple

00:23:33,989 --> 00:23:43,799
task we said ok for this keyword in this

00:23:39,119 --> 00:23:46,769
location and this document were relevant

00:23:43,799 --> 00:23:48,149
to this so it's very limited scope join

00:23:46,769 --> 00:23:52,470
in that scope the answer is very simple

00:23:48,149 --> 00:23:54,989
0 to 3 well if you had asked then this

00:23:52,470 --> 00:23:57,090
documented potation conversion my

00:23:54,989 --> 00:24:00,720
blowing is possible to know that only

00:23:57,090 --> 00:24:04,590
this is limited scope so that's why we

00:24:00,720 --> 00:24:07,729
should maybe consider since v1 also data

00:24:04,590 --> 00:24:11,849
like a date approach desired cohere

00:24:07,729 --> 00:24:15,090
bison duels on the ends i had very good

00:24:11,849 --> 00:24:19,710
arguments i about apply learn rank for

00:24:15,090 --> 00:24:22,289
e-commerce and then it basically tells

00:24:19,710 --> 00:24:23,759
that there was like ok if you want to

00:24:22,289 --> 00:24:27,149
measure relevance for commerce

00:24:23,759 --> 00:24:29,249
let's redefining the what is right what

00:24:27,149 --> 00:24:31,349
is relevance for e-commerce like

00:24:29,249 --> 00:24:33,119
irrelevant relevance for commerce not

00:24:31,349 --> 00:24:34,860
text read text relevance might be

00:24:33,119 --> 00:24:37,350
relevant but also something that

00:24:34,860 --> 00:24:41,580
covers all your conversion funnel and

00:24:37,350 --> 00:24:43,200
then it suggests you to also in the

00:24:41,580 --> 00:24:46,140
concept of measuring the relevance

00:24:43,200 --> 00:24:47,790
consider things like okay you are a

00:24:46,140 --> 00:24:49,860
customer you search and then in search

00:24:47,790 --> 00:24:51,090
page let's say you click in this product

00:24:49,860 --> 00:24:53,940
so click-through rate might be

00:24:51,090 --> 00:24:58,280
indication of relevance if you move

00:24:53,940 --> 00:25:00,930
forward to product page I'm a Jew card

00:24:58,280 --> 00:25:02,910
this is even more relevant and if you

00:25:00,930 --> 00:25:03,690
end up conversion is it even more evil

00:25:02,910 --> 00:25:07,010
relevance

00:25:03,690 --> 00:25:09,930
there are many challenge here like

00:25:07,010 --> 00:25:11,880
mostly like okay is different dimensions

00:25:09,930 --> 00:25:13,830
like the number of people who click in a

00:25:11,880 --> 00:25:16,980
document of course and then Add to Cart

00:25:13,830 --> 00:25:18,630
and converse is very sparse later but he

00:25:16,980 --> 00:25:20,640
raised some good things that we did

00:25:18,630 --> 00:25:23,400
include but looking you could also

00:25:20,640 --> 00:25:25,110
include this and experts can help us to

00:25:23,400 --> 00:25:27,960
define should define business math

00:25:25,110 --> 00:25:30,060
wizard refine our judgments another

00:25:27,960 --> 00:25:34,020
thing that we learned it is the quality

00:25:30,060 --> 00:25:36,150
of queries we didn't consider the REO

00:25:34,020 --> 00:25:38,040
you spray but the keywords the search

00:25:36,150 --> 00:25:41,580
keywords the the search engine matches

00:25:38,040 --> 00:25:44,610
like let's say that we search engine

00:25:41,580 --> 00:25:46,770
here's Google so a customer went and

00:25:44,610 --> 00:25:50,730
went to google and type like I thought

00:25:46,770 --> 00:25:53,100
our cheap options at night we didn't get

00:25:50,730 --> 00:25:56,010
the full thing we lost some content we

00:25:53,100 --> 00:25:58,110
we got what using Google matches to show

00:25:56,010 --> 00:26:00,240
our ads so we got something start of

00:25:58,110 --> 00:26:03,630
Liberty ticket to ask let's keep the

00:26:00,240 --> 00:26:07,560
line ticket and another thing that we

00:26:03,630 --> 00:26:09,510
learn it is this in the beginning okay

00:26:07,560 --> 00:26:12,170
you say you have a we have a rich gray

00:26:09,510 --> 00:26:15,030
we have the locations and the intentions

00:26:12,170 --> 00:26:18,830
but we decide to use these in a pond

00:26:15,030 --> 00:26:22,350
test of a location page so this keyword

00:26:18,830 --> 00:26:24,120
was use it for measure the relevance of

00:26:22,350 --> 00:26:26,940
this cue world instead of Liberty page

00:26:24,120 --> 00:26:29,580
so of course all the products there are

00:26:26,940 --> 00:26:32,520
about stat of Liberty but you didn't

00:26:29,580 --> 00:26:33,870
clean up this from the play so we end up

00:26:32,520 --> 00:26:36,750
scoring the Fuquay

00:26:33,870 --> 00:26:39,650
so as a result we have some many cases

00:26:36,750 --> 00:26:41,880
when the document that are more relevant

00:26:39,650 --> 00:26:43,290
the model things that the models are

00:26:41,880 --> 00:26:45,690
more relevant are the more those who

00:26:43,290 --> 00:26:48,340
have best been 25 this but not because

00:26:45,690 --> 00:26:51,040
of the full thing but because of this

00:26:48,340 --> 00:26:54,550
so this is useless for us we should use

00:26:51,040 --> 00:26:56,830
the only the intention there is to push

00:26:54,550 --> 00:27:00,550
off judgments something that we've been

00:26:56,830 --> 00:27:04,090
reading about a lot 4ltr it's very

00:27:00,550 --> 00:27:06,010
important that you have like the people

00:27:04,090 --> 00:27:07,420
are saying like more negative results of

00:27:06,010 --> 00:27:08,980
course the pain of your bees in the pain

00:27:07,420 --> 00:27:11,560
of the model but in general the

00:27:08,980 --> 00:27:13,000
guideline and in the brigade aggregated

00:27:11,560 --> 00:27:15,250
data we have this distribution of

00:27:13,000 --> 00:27:16,840
judgments if you consider here the

00:27:15,250 --> 00:27:19,990
things that are more relevant then

00:27:16,840 --> 00:27:23,350
figures that are not relevant we have 48

00:27:19,990 --> 00:27:25,420
percent here and 4 5 percent here so we

00:27:23,350 --> 00:27:27,880
almost have binary relevance your knife

00:27:25,420 --> 00:27:31,270
in the middle is the variegated data

00:27:27,880 --> 00:27:33,750
value if you go through page by page you

00:27:31,270 --> 00:27:37,360
can see that this distribution remains

00:27:33,750 --> 00:27:40,330
if you consider the dark color things

00:27:37,360 --> 00:27:43,450
that are irrelevant and white color like

00:27:40,330 --> 00:27:45,790
orange here not relevant it page you see

00:27:43,450 --> 00:27:48,460
this pattern happen in some pages we

00:27:45,790 --> 00:27:53,290
also we have only one example of those

00:27:48,460 --> 00:27:55,750
good thing this is very bad because

00:27:53,290 --> 00:27:58,960
known location paste the items we have

00:27:55,750 --> 00:28:01,540
are very similar so what differentiates

00:27:58,960 --> 00:28:04,360
our adopt me to another sometimes is a

00:28:01,540 --> 00:28:06,880
little thing like they did the duration

00:28:04,360 --> 00:28:10,420
so because they are about the same thing

00:28:06,880 --> 00:28:12,370
they are about the location and our data

00:28:10,420 --> 00:28:15,010
the data that you show the MA didn't

00:28:12,370 --> 00:28:21,610
reflect this so as we had wind-ups

00:28:15,010 --> 00:28:24,820
having been binary relevance and in each

00:28:21,610 --> 00:28:28,960
page we see the same pattern happen so

00:28:24,820 --> 00:28:34,570
this very bad an interesting to know

00:28:28,960 --> 00:28:37,960
that everything is somehow connected we

00:28:34,570 --> 00:28:41,680
had sufficient criteria to judge was not

00:28:37,960 --> 00:28:44,740
the expert or the judges fault but our

00:28:41,680 --> 00:28:46,870
fault to define the task we said ok were

00:28:44,740 --> 00:28:49,840
irrelevant is this document for this

00:28:46,870 --> 00:28:53,350
query not only that and also sent to the

00:28:49,840 --> 00:28:56,440
experts low diversity cries we didn't

00:28:53,350 --> 00:28:58,990
have the what user actually type but

00:28:56,440 --> 00:29:02,260
what they searching matches so we lost

00:28:58,990 --> 00:29:05,110
some rich information so that could have

00:29:02,260 --> 00:29:08,500
the experts to have a conclusion about

00:29:05,110 --> 00:29:11,770
the document and the experts dude

00:29:08,500 --> 00:29:15,850
everything and end up having these

00:29:11,770 --> 00:29:19,780
judgments like judgments that are not so

00:29:15,850 --> 00:29:21,510
balanced and as a show and no match no

00:29:19,780 --> 00:29:23,650
business match because were considered

00:29:21,510 --> 00:29:27,870
because you didn't ask them to do it

00:29:23,650 --> 00:29:29,550
which is ask it in this scope of

00:29:27,870 --> 00:29:32,800
relevance

00:29:29,550 --> 00:29:37,930
how good are the document and then we

00:29:32,800 --> 00:29:39,600
send both wings to our LTI pipeline so

00:29:37,930 --> 00:29:43,180
the judgments and the queries and

00:29:39,600 --> 00:29:46,750
queries here had another problem which

00:29:43,180 --> 00:29:49,120
is as I mentioned we didn't clean up or

00:29:46,750 --> 00:29:52,750
Christ properly so we send some location

00:29:49,120 --> 00:29:55,900
that works as a noise for our scorer so

00:29:52,750 --> 00:30:02,800
if both things we had a model with some

00:29:55,900 --> 00:30:06,160
problems okay so yeah I run so for a

00:30:02,800 --> 00:30:07,960
future why do you want to do it we

00:30:06,160 --> 00:30:12,490
definitely want to cover all this

00:30:07,960 --> 00:30:15,730
product so we want to collect judging

00:30:12,490 --> 00:30:19,240
from data at least to make sure if the

00:30:15,730 --> 00:30:22,240
experts judgment or if you manage it you

00:30:19,240 --> 00:30:24,670
also we we define our criteria to

00:30:22,240 --> 00:30:27,640
measure relevance and and collect for

00:30:24,670 --> 00:30:30,430
experts in this case like myself it

00:30:27,640 --> 00:30:32,830
might be something interesting but when

00:30:30,430 --> 00:30:35,170
I should try is like okay use data you

00:30:32,830 --> 00:30:39,820
have to use our data refined then later

00:30:35,170 --> 00:30:41,710
with the experts labeling we could apply

00:30:39,820 --> 00:30:44,170
out here and other search features like

00:30:41,710 --> 00:30:48,010
all the things that have been read is

00:30:44,170 --> 00:30:50,050
full text search we didn't go for full

00:30:48,010 --> 00:30:52,150
text search because we had this need in

00:30:50,050 --> 00:30:56,410
our location page where the problem was

00:30:52,150 --> 00:30:58,140
also more complex and we'd want to

00:30:56,410 --> 00:31:00,430
extracting tensions for the keywords

00:30:58,140 --> 00:31:02,290
like in full text search in our full

00:31:00,430 --> 00:31:04,210
text search okay we will have a base

00:31:02,290 --> 00:31:07,000
quite understanding model that clean up

00:31:04,210 --> 00:31:10,300
the location we didn't apply then before

00:31:07,000 --> 00:31:14,800
send to the model and this view one so

00:31:10,300 --> 00:31:15,760
could do it if you use keyword and also

00:31:14,800 --> 00:31:17,530
another

00:31:15,760 --> 00:31:21,760
message years to judge the judgments

00:31:17,530 --> 00:31:25,390
more often not point fingers but check

00:31:21,760 --> 00:31:28,360
distribution and like men may make a lot

00:31:25,390 --> 00:31:30,310
of good SN checks before having a twin

00:31:28,360 --> 00:31:32,760
set because the most important part of

00:31:30,310 --> 00:31:35,230
your maybe your problem your project

00:31:32,760 --> 00:31:37,930
so my final message that you need to

00:31:35,230 --> 00:31:41,730
keep sailing you know you keep Sayle and

00:31:37,930 --> 00:31:41,730
that's it thank you very much

00:31:46,680 --> 00:31:50,220
any questions

00:31:57,090 --> 00:32:14,580
hi a fairly simple question was it worth

00:32:01,240 --> 00:32:17,770
it do you some increase in Revelation no

00:32:14,580 --> 00:32:20,110
wait did I put this modern production

00:32:17,770 --> 00:32:21,790
but we had some good learnings like in

00:32:20,110 --> 00:32:25,150
this process of understand what is bad

00:32:21,790 --> 00:32:27,610
for our model we come up with is OK

00:32:25,150 --> 00:32:30,930
location might not be interesting so

00:32:27,610 --> 00:32:34,270
before this project we try to introduce

00:32:30,930 --> 00:32:36,190
text metrics in your ranking but without

00:32:34,270 --> 00:32:39,010
machine learning but never try to

00:32:36,190 --> 00:32:41,470
extract intentions so by learning your

00:32:39,010 --> 00:32:43,150
why the model didn't work we could

00:32:41,470 --> 00:32:45,670
identify that could be a reason and you

00:32:43,150 --> 00:32:49,300
had a rape test to run and evaluate this

00:32:45,670 --> 00:32:52,150
in factored form other also it works in

00:32:49,300 --> 00:32:55,570
that it was not like a project of like a

00:32:52,150 --> 00:32:57,370
year it was like a quarter it was bad

00:32:55,570 --> 00:33:00,400
and like a quarter is a lot of time but

00:32:57,370 --> 00:33:02,050
it could be worst and then this learn is

00:33:00,400 --> 00:33:04,030
that you collected which you have the

00:33:02,050 --> 00:33:06,550
pipeline's working so where which would

00:33:04,030 --> 00:33:10,380
be easier but I know your point like for

00:33:06,550 --> 00:33:13,210
the business perspective yep

00:33:10,380 --> 00:33:14,770
so I understood from your answer now

00:33:13,210 --> 00:33:17,800
that you didn't put this model to

00:33:14,770 --> 00:33:20,860
production no this particular one no

00:33:17,800 --> 00:33:24,330
because we we did some offline

00:33:20,860 --> 00:33:27,460
evaluation in your head queries and we

00:33:24,330 --> 00:33:29,620
like with our product manager analyze

00:33:27,460 --> 00:33:32,050
some results that are important for

00:33:29,620 --> 00:33:34,540
the newcomers decision that was not good

00:33:32,050 --> 00:33:39,490
enough for going to production with this

00:33:34,540 --> 00:33:41,410
model so we did after this we like

00:33:39,490 --> 00:33:45,520
missed with the project like you

00:33:41,410 --> 00:33:47,350
conscience but so far he's not using his

00:33:45,520 --> 00:33:49,450
modern production we had as I said with

00:33:47,350 --> 00:33:51,280
the learner's we will come up with a lot

00:33:49,450 --> 00:33:53,850
of a/b tests that implemented and

00:33:51,280 --> 00:33:57,040
improve our ranking but not without here

00:33:53,850 --> 00:33:59,200
how long do you think it's going to take

00:33:57,040 --> 00:34:02,200
you guys to finish this and actually

00:33:59,200 --> 00:34:06,130
deliver something to production in terms

00:34:02,200 --> 00:34:08,350
of technical things implemented nothing

00:34:06,130 --> 00:34:11,050
the problem for us that this we

00:34:08,350 --> 00:34:12,520
strawberry fist was the use case like

00:34:11,050 --> 00:34:14,740
you come up with the conclusion that the

00:34:12,520 --> 00:34:17,320
use case might not be the best one for a

00:34:14,740 --> 00:34:19,330
plant you are in our business like we

00:34:17,320 --> 00:34:21,879
could have this with another approach

00:34:19,330 --> 00:34:23,649
maybe try to redefine and as I mentioned

00:34:21,879 --> 00:34:26,500
the criteria for what is relevant for us

00:34:23,649 --> 00:34:30,820
or try to apply this for other such

00:34:26,500 --> 00:34:32,639
features like full-text search but in

00:34:30,820 --> 00:34:34,810
terms of technical implementation you

00:34:32,639 --> 00:34:37,179
don't have those issues problems to

00:34:34,810 --> 00:34:45,820
choose ship in the module thank you very

00:34:37,179 --> 00:34:48,940
much I think it's a lot for the talk I

00:34:45,820 --> 00:34:51,490
like your conclusion that the the task

00:34:48,940 --> 00:34:53,470
you gave to the expert really mattered

00:34:51,490 --> 00:34:56,590
in instead of getting maybe not quite

00:34:53,470 --> 00:34:58,420
the right results for you you mentioned

00:34:56,590 --> 00:35:01,060
that you collected I think thirty

00:34:58,420 --> 00:35:04,090
thousand judgments from people how did

00:35:01,060 --> 00:35:10,120
you decide which sort of pairs of query

00:35:04,090 --> 00:35:11,530
and a location item document to even

00:35:10,120 --> 00:35:13,870
present to people that you randomly

00:35:11,530 --> 00:35:15,790
choose did you have a pre selection and

00:35:13,870 --> 00:35:19,960
that maybe also make a difference in

00:35:15,790 --> 00:35:23,440
your result we decide to we strike the

00:35:19,960 --> 00:35:27,040
dose at keyword and combination of locus

00:35:23,440 --> 00:35:29,770
that had the highest demand from our ad

00:35:27,040 --> 00:35:32,380
machine let's say so I went this we

00:35:29,770 --> 00:35:33,880
enter our data then you pick those cases

00:35:32,380 --> 00:35:37,120
that are more important for the business

00:35:33,880 --> 00:35:38,650
likely we have many location page we we

00:35:37,120 --> 00:35:41,650
know that for sure some affect the

00:35:38,650 --> 00:35:43,450
business or not and then you had our had

00:35:41,650 --> 00:35:46,750
we collect all done now

00:35:43,450 --> 00:35:48,040
then and we get our or head queries or

00:35:46,750 --> 00:35:50,290
the quasi turn more apart for the

00:35:48,040 --> 00:35:52,810
business and then for those subsets we

00:35:50,290 --> 00:35:54,970
have some randomization but we also but

00:35:52,810 --> 00:36:01,119
all the choirs that you choose was quite

00:35:54,970 --> 00:36:03,280
as that are relevant for a business the

00:36:01,119 --> 00:36:05,349
documents for the queries were also the

00:36:03,280 --> 00:36:07,510
relevant documents already or where they

00:36:05,349 --> 00:36:11,320
randomly picked documents a good

00:36:07,510 --> 00:36:13,780
question we randomly pick the top b20

00:36:11,320 --> 00:36:16,990
document of a note wait for top 40

00:36:13,780 --> 00:36:28,960
documents and then for it for a for it

00:36:16,990 --> 00:36:31,329
expert to show 20 documents to em hi I

00:36:28,960 --> 00:36:32,890
was just wondering if you considered

00:36:31,329 --> 00:36:36,310
maybe I don't know if it's possible or

00:36:32,890 --> 00:36:38,079
not to gather the judgments like I don't

00:36:36,310 --> 00:36:39,609
know it matically from the logs from

00:36:38,079 --> 00:36:42,369
click-through rates or something like

00:36:39,609 --> 00:36:44,200
that or if it was too much of a hassle

00:36:42,369 --> 00:36:46,450
because it's always terrible to have

00:36:44,200 --> 00:36:48,670
manual people like sitting there and

00:36:46,450 --> 00:36:53,050
like please evaluate evaluate I don't

00:36:48,670 --> 00:36:55,900
know yeah we give you one we didn't like

00:36:53,050 --> 00:36:58,030
for v2 now we're doing that we had some

00:36:55,900 --> 00:37:00,310
approach of okay let's go to our data

00:36:58,030 --> 00:37:01,630
and then okay combine click-through rate

00:37:00,310 --> 00:37:04,630
and conversion rate we're doing that

00:37:01,630 --> 00:37:06,940
right now and also define later maybe

00:37:04,630 --> 00:37:08,640
the expert of maybe with the business

00:37:06,940 --> 00:37:11,589
rules that matters for this page and

00:37:08,640 --> 00:37:14,440
then have a new judgments and throw in

00:37:11,589 --> 00:37:21,849
our pipeline and have new models that we

00:37:14,440 --> 00:37:24,720
are considering with that for v2 any

00:37:21,849 --> 00:37:24,720
other questions

00:37:26,220 --> 00:37:29,160
in that case thank you very much again

00:37:28,200 --> 00:37:36,880
thank you guys

00:37:29,160 --> 00:37:36,880

YouTube URL: https://www.youtube.com/watch?v=bZ3Z_rD2q1E


