Title: Jeremy Allison speaks about Samba 4.0 at FOSDEM 2013
Publication date: 2013-02-22
Playlist: Open Source Googlers presenting at Conferences
Description: 
	In a talk at FOSDEM 2013 Jeremy Allison discusses the recent Samba 4.0 release.
Captions: 
	00:00:02,250 --> 00:00:08,120
good morning everybody and and welcome

00:00:05,460 --> 00:00:12,990
welcome to the second day of FOSDEM

00:00:08,120 --> 00:00:15,750
I must say I'm incredibly privileged to

00:00:12,990 --> 00:00:17,910
be able to speak in front of you all and

00:00:15,750 --> 00:00:19,980
the only problem is of course that the

00:00:17,910 --> 00:00:21,990
acoustics of this room are like being in

00:00:19,980 --> 00:00:27,449
a swimming bath at the bottom of a deep

00:00:21,990 --> 00:00:30,150
well so if you can't hear me please ask

00:00:27,449 --> 00:00:32,969
me to shout up and the other thing I'd

00:00:30,150 --> 00:00:35,460
like to say is if you would like to ask

00:00:32,969 --> 00:00:39,050
questions please feel free to ask

00:00:35,460 --> 00:00:40,620
questions at any time during the talk

00:00:39,050 --> 00:00:43,460
theoretically there will be people

00:00:40,620 --> 00:00:46,230
running around with microphones to

00:00:43,460 --> 00:00:48,270
record your question for the streaming

00:00:46,230 --> 00:00:50,190
but don't worry even if you don't get

00:00:48,270 --> 00:00:51,840
the microphone in time because I will

00:00:50,190 --> 00:00:55,670
repeat the question so that the

00:00:51,840 --> 00:01:00,539
streaming will be able to capture it so

00:00:55,670 --> 00:01:03,420
my name is Jeremy Allison and I work for

00:01:00,539 --> 00:01:06,150
Google in the open source program office

00:01:03,420 --> 00:01:09,049
in California in Mountain View on the

00:01:06,150 --> 00:01:12,900
big Google campus but having said that

00:01:09,049 --> 00:01:15,659
forget anything I mentioned to do with

00:01:12,900 --> 00:01:17,700
Google this is not a Google Talk it has

00:01:15,659 --> 00:01:22,170
not been vetted by Google legal or even

00:01:17,700 --> 00:01:25,020
seen by Google legal so please don't

00:01:22,170 --> 00:01:28,439
take anything I say as anything on

00:01:25,020 --> 00:01:32,340
behalf of Google and don't don't hold my

00:01:28,439 --> 00:01:35,549
very poor jokes against them etc etc so

00:01:32,340 --> 00:01:40,909
having said that what I'm going to talk

00:01:35,549 --> 00:01:44,670
about today is the San before release

00:01:40,909 --> 00:01:47,130
which is the fourth major release of the

00:01:44,670 --> 00:01:49,619
Samba project and we did that just

00:01:47,130 --> 00:01:51,680
before Christmas and so I'm gonna fill

00:01:49,619 --> 00:01:54,149
you in a little bit about the background

00:01:51,680 --> 00:01:56,610
at the beginning of the talk it's not

00:01:54,149 --> 00:02:00,119
terribly technical it gets a little more

00:01:56,610 --> 00:02:02,040
technical going further on but I can

00:02:00,119 --> 00:02:03,750
actually drill down into any technical

00:02:02,040 --> 00:02:06,149
issues that people might want to raise

00:02:03,750 --> 00:02:07,950
or might want to ask or if I don't know

00:02:06,149 --> 00:02:09,450
the answer I have some very capable

00:02:07,950 --> 00:02:11,550
Samba team members sitting in the front

00:02:09,450 --> 00:02:12,310
row so I can always cop out and defer

00:02:11,550 --> 00:02:14,770
the

00:02:12,310 --> 00:02:17,140
since to them which really helps so

00:02:14,770 --> 00:02:19,240
Samba is first of all is there anyone

00:02:17,140 --> 00:02:21,490
here who doesn't know what Samba is just

00:02:19,240 --> 00:02:24,010
thought I'd better check thank you yes

00:02:21,490 --> 00:02:28,180
the Samba team guys well I'm glad about

00:02:24,010 --> 00:02:30,670
that because you know commonly the

00:02:28,180 --> 00:02:33,190
impression I get is you guys you're

00:02:30,670 --> 00:02:34,270
still going on didn't you die out a long

00:02:33,190 --> 00:02:39,580
time ago

00:02:34,270 --> 00:02:42,250
this is disco man we never die so we're

00:02:39,580 --> 00:02:46,959
a very old project we actually predate

00:02:42,250 --> 00:02:51,190
Linux itself when we started we our

00:02:46,959 --> 00:02:56,320
major platform was Sun us for not even

00:02:51,190 --> 00:02:58,480
Solaris yet and hp-ux and AIX Linux at

00:02:56,320 --> 00:03:00,850
the time was not very interesting to us

00:02:58,480 --> 00:03:04,060
because it didn't have a network stack

00:03:00,850 --> 00:03:05,440
so as I say we've we've been around for

00:03:04,060 --> 00:03:07,900
a very long time

00:03:05,440 --> 00:03:09,550
and back in the days when I don't know

00:03:07,900 --> 00:03:10,690
whether anyone remembers this does

00:03:09,550 --> 00:03:12,940
anyone remember the days when you could

00:03:10,690 --> 00:03:14,350
buy Red Hat Linux as a box set at your

00:03:12,940 --> 00:03:16,840
local store cool

00:03:14,350 --> 00:03:19,030
so you remember at the time it used to

00:03:16,840 --> 00:03:21,850
have little stickers on it saying comes

00:03:19,030 --> 00:03:25,810
with Samba to dot whatever and you know

00:03:21,850 --> 00:03:28,450
Apache one dot something those were the

00:03:25,810 --> 00:03:30,010
days when a releases Samba version

00:03:28,450 --> 00:03:33,519
number used to be printed on the side of

00:03:30,010 --> 00:03:36,940
the Linux box these days I think we've

00:03:33,519 --> 00:03:40,900
probably become more part of the

00:03:36,940 --> 00:03:42,040
infrastructure and so the perception is

00:03:40,900 --> 00:03:43,989
that Sam has been around a long time

00:03:42,040 --> 00:03:45,850
we're kind of an old and boring project

00:03:43,989 --> 00:03:48,280
there's not much exciting going on and

00:03:45,850 --> 00:03:51,070
I'm here to disabuse you of that I'm

00:03:48,280 --> 00:03:53,700
here to excite you about Sambor again

00:03:51,070 --> 00:03:56,079
and get you all to contribute because

00:03:53,700 --> 00:04:01,930
we're not quite as bad as Perl we're

00:03:56,079 --> 00:04:04,750
still going so you know does does anyone

00:04:01,930 --> 00:04:06,700
need a local file server anymore doesn't

00:04:04,750 --> 00:04:09,130
everybody just upload from their mobile

00:04:06,700 --> 00:04:12,040
phones into the cloud and let everything

00:04:09,130 --> 00:04:14,200
take care of it you know so how many

00:04:12,040 --> 00:04:18,070
people here I actually do use cloud

00:04:14,200 --> 00:04:20,289
storage yeah quite quite a few I mean

00:04:18,070 --> 00:04:22,300
you know I I must confess I I have my

00:04:20,289 --> 00:04:24,480
music collection up in the cloud so that

00:04:22,300 --> 00:04:27,570
I can stream it wherever I go

00:04:24,480 --> 00:04:29,940
you know bandwidth permitting but how

00:04:27,570 --> 00:04:33,600
many people also have actual local

00:04:29,940 --> 00:04:37,080
storage at home ah yes so that's where

00:04:33,600 --> 00:04:39,450
we come in you see there there are still

00:04:37,080 --> 00:04:41,940
very good reasons for having a file

00:04:39,450 --> 00:04:44,940
server in your closet or indeed a file

00:04:41,940 --> 00:04:47,910
server in your enterprise you know I

00:04:44,940 --> 00:04:50,460
mean at least for the home for the home

00:04:47,910 --> 00:04:54,150
products there are a couple of reasons

00:04:50,460 --> 00:04:56,400
why you still kind of need local storage

00:04:54,150 --> 00:04:58,050
one of them might be that you might have

00:04:56,400 --> 00:04:59,750
some files that you might not let's just

00:04:58,050 --> 00:05:03,110
say you might not feel comfortable

00:04:59,750 --> 00:05:07,920
uploading to your cloud service provider

00:05:03,110 --> 00:05:10,290
for one reason or another so that was I

00:05:07,920 --> 00:05:11,550
always like the LP and I can't remember

00:05:10,290 --> 00:05:13,740
the band that did it

00:05:11,550 --> 00:05:15,810
that came printed with the home taping

00:05:13,740 --> 00:05:18,000
is killing music and is illegal and they

00:05:15,810 --> 00:05:19,740
managed to slip a cassette tape into the

00:05:18,000 --> 00:05:21,960
vinyl into the sleeve and it said and

00:05:19,740 --> 00:05:26,490
here's a cop here's a see a cassette so

00:05:21,960 --> 00:05:28,590
you can help and the other reason is how

00:05:26,490 --> 00:05:31,590
many people recognize the object on the

00:05:28,590 --> 00:05:33,720
right oh very cool how many people

00:05:31,590 --> 00:05:37,470
actually used one Oh

00:05:33,720 --> 00:05:38,940
less less so my first that's actually

00:05:37,470 --> 00:05:42,060
for people who don't recognize it what

00:05:38,940 --> 00:05:44,490
that is is an acoustic coupler a modem

00:05:42,060 --> 00:05:46,650
they're very very first kinds of modems

00:05:44,490 --> 00:05:49,590
where you actually plugged the physical

00:05:46,650 --> 00:05:51,360
telephone set into a coupler to get

00:05:49,590 --> 00:05:53,220
access to the well it wasn't internet

00:05:51,360 --> 00:05:55,710
then it was your local bulletin board

00:05:53,220 --> 00:05:57,840
system my first modem actually looked

00:05:55,710 --> 00:06:02,610
very much like that and had a massive

00:05:57,840 --> 00:06:06,900
speed of 1,200 board down down stream

00:06:02,610 --> 00:06:08,490
and 75 upstream so the other reasons

00:06:06,900 --> 00:06:11,220
that cloud storage can be a little

00:06:08,490 --> 00:06:12,540
tricky is that you know there are areas

00:06:11,220 --> 00:06:14,430
in the world where that would be

00:06:12,540 --> 00:06:16,440
considered a lot of bandwidth so it's

00:06:14,430 --> 00:06:19,080
kind of hard to copy multi terabyte

00:06:16,440 --> 00:06:21,600
files around when you're having to do

00:06:19,080 --> 00:06:23,460
things through something like that

00:06:21,600 --> 00:06:26,610
so having local file storage he's

00:06:23,460 --> 00:06:28,710
actually quite useful excuse me so so

00:06:26,610 --> 00:06:30,480
where what happened to samba you know

00:06:28,710 --> 00:06:32,820
what happened to you man we we used to

00:06:30,480 --> 00:06:38,520
be close as they say where did you go

00:06:32,820 --> 00:06:44,190
well we hid and kind of thrived

00:06:38,520 --> 00:06:46,620
yeah so I imagine this

00:06:44,190 --> 00:06:48,449
there's a wonderful electronic shop in

00:06:46,620 --> 00:06:49,830
Silicon Valley called Fry's does it has

00:06:48,449 --> 00:06:52,979
anyone ever been there or heard of it or

00:06:49,830 --> 00:06:55,830
few people very good it's it's like a

00:06:52,979 --> 00:06:58,289
warehouse full of electronics and the

00:06:55,830 --> 00:06:59,819
electronic goods and I once wandered

00:06:58,289 --> 00:07:04,259
around the network-attached storage

00:06:59,819 --> 00:07:05,940
section and literally every single

00:07:04,259 --> 00:07:06,900
product on the Shelf the network

00:07:05,940 --> 00:07:09,240
attached storage shelf

00:07:06,900 --> 00:07:11,039
it had sambar inside none of them said

00:07:09,240 --> 00:07:13,050
it of course their days of having sort

00:07:11,039 --> 00:07:15,300
of Samba X on the Box are long gone but

00:07:13,050 --> 00:07:16,979
every single one of those was actually

00:07:15,300 --> 00:07:20,360
running a version of Samba inside oh

00:07:16,979 --> 00:07:20,360
thank you very much

00:07:20,370 --> 00:07:23,880
you know how carefully yes an online

00:07:23,280 --> 00:07:29,610
account

00:07:23,880 --> 00:07:32,250
yeah hope he's not going to keep doing

00:07:29,610 --> 00:07:34,620
that to me during the talk so we

00:07:32,250 --> 00:07:36,599
actually went and hid in the network

00:07:34,620 --> 00:07:39,830
attached storage market and we've

00:07:36,599 --> 00:07:41,909
actually thrived quite well down there

00:07:39,830 --> 00:07:43,800
so the the one I don't really find

00:07:41,909 --> 00:07:46,560
amazing does anyone recognize that

00:07:43,800 --> 00:07:49,469
little device up on the top left anyone

00:07:46,560 --> 00:07:51,750
so what it is I know it's a little hard

00:07:49,469 --> 00:07:55,319
to see from where you are it's actually

00:07:51,750 --> 00:07:59,009
a little what they call a wart which has

00:07:55,319 --> 00:08:00,840
an Ethernet port in one end and a USB

00:07:59,009 --> 00:08:03,509
port in the other and so you take your

00:08:00,840 --> 00:08:05,639
USB Drive that you buy you plug it into

00:08:03,509 --> 00:08:07,650
that you plug the network cable into

00:08:05,639 --> 00:08:11,060
that thing and it's a file server

00:08:07,650 --> 00:08:14,370
it's Linux and Samba in this just

00:08:11,060 --> 00:08:16,740
incredibly tiny little box so we scale

00:08:14,370 --> 00:08:19,710
from things like that which will turn

00:08:16,740 --> 00:08:22,650
any of the portable USB drives you might

00:08:19,710 --> 00:08:25,469
buy in places like fries into a NASA

00:08:22,650 --> 00:08:27,810
portable now server to things like that

00:08:25,469 --> 00:08:29,490
does anyone recognize the object on the

00:08:27,810 --> 00:08:30,870
on the right it's kind of specific I

00:08:29,490 --> 00:08:34,320
stole it from their from their

00:08:30,870 --> 00:08:38,039
advertising website that's actually an

00:08:34,320 --> 00:08:40,560
IBM sonÃ­s system called scale out

00:08:38,039 --> 00:08:42,659
network attached storage and that's one

00:08:40,560 --> 00:08:45,209
of those products which I love from IBM

00:08:42,659 --> 00:08:49,260
where if you have to ask how much it is

00:08:45,209 --> 00:08:51,900
you can't afford it so but that also

00:08:49,260 --> 00:08:54,870
runs samba and that thing scales out

00:08:51,900 --> 00:08:58,320
just unbelievable ungodly amounts of

00:08:54,870 --> 00:09:00,600
storage made used by movies movie

00:08:58,320 --> 00:09:02,790
producers who are writing for cave you

00:09:00,600 --> 00:09:06,810
know frames and there they're putting

00:09:02,790 --> 00:09:10,020
one frame in each in a separate file for

00:09:06,810 --> 00:09:11,640
you know 25 us 80 frames a second or

00:09:10,020 --> 00:09:13,170
whatever the rate is so they just need

00:09:11,640 --> 00:09:14,550
so normal amounts of bandwidth for

00:09:13,170 --> 00:09:18,060
normal amounts of storage and that's

00:09:14,550 --> 00:09:19,950
amber too so I like to I like to joke

00:09:18,060 --> 00:09:21,900
that any network attached storage

00:09:19,950 --> 00:09:23,730
costing less than twenty thousand

00:09:21,900 --> 00:09:26,280
dollars or more than a million house

00:09:23,730 --> 00:09:29,340
amber in it but the mid-range is still

00:09:26,280 --> 00:09:32,640
kind of colonized by EMC and NetApp for

00:09:29,340 --> 00:09:34,920
some strange reason but so we actually

00:09:32,640 --> 00:09:39,870
do extraordinarily well in the network

00:09:34,920 --> 00:09:41,760
attached storage market and primarily we

00:09:39,870 --> 00:09:44,940
had a lot of tension at the beginning of

00:09:41,760 --> 00:09:46,830
the product project are we a product

00:09:44,940 --> 00:09:49,350
that you would buy sort of like you know

00:09:46,830 --> 00:09:51,540
samba with new washes whiter brand or

00:09:49,350 --> 00:09:53,790
are we a kit of parts for building other

00:09:51,540 --> 00:09:55,800
products and I think that's kind of

00:09:53,790 --> 00:09:58,200
firmly come down on the understanding

00:09:55,800 --> 00:10:00,810
that what we are is a kit of parts that

00:09:58,200 --> 00:10:02,760
other people use to build products and

00:10:00,810 --> 00:10:04,380
actually I'm quite I'm quite happy about

00:10:02,760 --> 00:10:06,090
that because it means I don't have to

00:10:04,380 --> 00:10:07,650
focus on writing management interfaces

00:10:06,090 --> 00:10:10,050
which are really hard and we suck at

00:10:07,650 --> 00:10:12,770
doing anyway if there's anyone used SWOT

00:10:10,050 --> 00:10:14,550
yes yeah yes so you know how bad we are

00:10:12,770 --> 00:10:16,590
security or at least came out last week

00:10:14,550 --> 00:10:18,210
so yes we really don't want to be in the

00:10:16,590 --> 00:10:19,950
business of doing management interfaces

00:10:18,210 --> 00:10:26,790
we want to be doing file serving and

00:10:19,950 --> 00:10:31,350
other interesting things so what took us

00:10:26,790 --> 00:10:33,450
so long so I used to joke that we were

00:10:31,350 --> 00:10:34,530
taking a long time to write samba4 but

00:10:33,450 --> 00:10:38,310
at least we were going to come out

00:10:34,530 --> 00:10:42,810
before Duke Nukem Forever and then they

00:10:38,310 --> 00:10:45,720
finished Duke Nukem Forever that was a

00:10:42,810 --> 00:10:48,210
terrible game but it was really sad that

00:10:45,720 --> 00:10:51,150
they actually finished the the classic

00:10:48,210 --> 00:10:54,780
vaporware products before we finished

00:10:51,150 --> 00:10:57,300
doing them before so there are actually

00:10:54,780 --> 00:10:59,520
many reasons for that which I'm gonna go

00:10:57,300 --> 00:11:02,210
into before I actually start talking

00:10:59,520 --> 00:11:05,939
about what's in San before and

00:11:02,210 --> 00:11:11,039
essentially we we had some chow

00:11:05,939 --> 00:11:12,539
just with it and overcoming those

00:11:11,039 --> 00:11:15,569
challenges can actually take quite a

00:11:12,539 --> 00:11:18,839
long time so as anyone heard of a boil

00:11:15,569 --> 00:11:20,449
the ocean project anyone heard the

00:11:18,839 --> 00:11:23,279
phrase boil the ocean

00:11:20,449 --> 00:11:26,069
okay a few of you it was commonly used

00:11:23,279 --> 00:11:28,439
by Exxon micro systems engineers where

00:11:26,069 --> 00:11:30,269
they were talking about when software

00:11:28,439 --> 00:11:32,549
designers sit down and try and design

00:11:30,269 --> 00:11:33,720
new things they keep having features and

00:11:32,549 --> 00:11:35,249
saying well wouldn't it be cool if it

00:11:33,720 --> 00:11:37,139
would do that and wouldn't be cool if it

00:11:35,249 --> 00:11:39,149
would do that and by the end of it you

00:11:37,139 --> 00:11:40,439
have a project that essentially to run

00:11:39,149 --> 00:11:42,979
would need enough power that you would

00:11:40,439 --> 00:11:46,069
have to boil the ocean in order to

00:11:42,979 --> 00:11:49,559
successfully run it and samba4

00:11:46,069 --> 00:11:51,559
started to head in that direction there

00:11:49,559 --> 00:11:54,749
were more and more pieces being added

00:11:51,559 --> 00:11:57,569
and it started to do more and more and

00:11:54,749 --> 00:11:59,609
it kind of spiraled a little bit out of

00:11:57,569 --> 00:12:02,189
control for a while and it's to the

00:11:59,609 --> 00:12:03,599
great credit of many of the sandbar team

00:12:02,189 --> 00:12:05,879
members who worked on it that eventually

00:12:03,599 --> 00:12:08,939
they managed to rein back the ambitions

00:12:05,879 --> 00:12:10,379
and say okay we really have to get this

00:12:08,939 --> 00:12:11,879
thing out before the end of the next

00:12:10,379 --> 00:12:14,309
millennium so let's start cutting

00:12:11,879 --> 00:12:15,839
features let's start saying you know

00:12:14,309 --> 00:12:17,369
this works as well as it's going to for

00:12:15,839 --> 00:12:19,649
now we'll we'll finish the rest of it

00:12:17,369 --> 00:12:21,569
later and they they managed to cut it

00:12:19,649 --> 00:12:24,299
down to a more manageable well

00:12:21,569 --> 00:12:28,619
theoretically more manageable size of

00:12:24,299 --> 00:12:31,019
project the other thing that nearly

00:12:28,619 --> 00:12:35,129
happened we managed to avoid which I'm

00:12:31,019 --> 00:12:37,499
very glad about is we nearly ended up

00:12:35,129 --> 00:12:40,049
forking the project and that's happened

00:12:37,499 --> 00:12:41,699
once before and it's very painful so how

00:12:40,049 --> 00:12:46,589
many here have worked on a project that

00:12:41,699 --> 00:12:47,999
forked anyone yeah a few people it's if

00:12:46,589 --> 00:12:49,919
you don't work on a project and you

00:12:47,999 --> 00:12:51,809
don't know essentially it's like going

00:12:49,919 --> 00:12:56,309
through a divorce but you know kind of

00:12:51,809 --> 00:12:57,779
uglier and so each set of developers

00:12:56,309 --> 00:12:59,489
takes their tools and goes home and

00:12:57,779 --> 00:13:02,119
takes copies of the code says well you

00:12:59,489 --> 00:13:05,279
guys suck we're gonna do it our way and

00:13:02,119 --> 00:13:07,889
what was happening at least within Samba

00:13:05,279 --> 00:13:09,659
for a long while was there was the Sam

00:13:07,889 --> 00:13:12,869
but what were called the Samba 3 guys

00:13:09,659 --> 00:13:15,479
which was I was one of those guys which

00:13:12,869 --> 00:13:17,459
were they kind of the older developers

00:13:15,479 --> 00:13:18,880
who were working on the file serving

00:13:17,459 --> 00:13:20,800
project who were working on

00:13:18,880 --> 00:13:22,630
phal server part of it the piece that we

00:13:20,800 --> 00:13:24,730
used in the network attached storage and

00:13:22,630 --> 00:13:26,230
then there were the Samba for guys who

00:13:24,730 --> 00:13:28,630
were going to replace everything in

00:13:26,230 --> 00:13:30,070
Samba 3 and gonna do it better and you

00:13:28,630 --> 00:13:32,290
know gonna rewrite everything from

00:13:30,070 --> 00:13:33,880
scratch it was gonna be better cleaner

00:13:32,290 --> 00:13:37,390
faster they were gonna have Active

00:13:33,880 --> 00:13:39,250
Directory and as well you know and we

00:13:37,390 --> 00:13:42,100
started to drift apart and you can

00:13:39,250 --> 00:13:44,950
actually still see that if you download

00:13:42,100 --> 00:13:47,950
our source code in that we have source 3

00:13:44,950 --> 00:13:50,560
and source for directories still but the

00:13:47,950 --> 00:13:52,390
wonderful thing now is that we need both

00:13:50,560 --> 00:13:56,110
of those directories to actually build

00:13:52,390 --> 00:13:58,990
the entire project and what we're slowly

00:13:56,110 --> 00:14:01,150
doing is we're moving the pieces out of

00:13:58,990 --> 00:14:03,370
those directories into a top-level

00:14:01,150 --> 00:14:05,620
source directory and hopefully

00:14:03,370 --> 00:14:08,380
eventually the source 3 and source for

00:14:05,620 --> 00:14:11,110
directories will be legacy that we will

00:14:08,380 --> 00:14:13,750
eventually manage to remove and that

00:14:11,110 --> 00:14:16,750
took a lot of effort that was a hard

00:14:13,750 --> 00:14:18,700
thing to achieve people people had to

00:14:16,750 --> 00:14:21,070
kill parts of the code that they were

00:14:18,700 --> 00:14:23,020
very very fond of and nobody likes to do

00:14:21,070 --> 00:14:24,460
that and it's to the great credit of

00:14:23,020 --> 00:14:29,410
many people that they were they were

00:14:24,460 --> 00:14:31,450
able to to fix that so before we managed

00:14:29,410 --> 00:14:33,400
to reemerge everything and this is one

00:14:31,450 --> 00:14:37,770
of the reasons of course why we ended up

00:14:33,400 --> 00:14:41,220
taking so long to get the project out so

00:14:37,770 --> 00:14:43,780
there were two file servers Sam before

00:14:41,220 --> 00:14:46,330
the Sun before the source for branch

00:14:43,780 --> 00:14:49,120
originally started with an attempt to

00:14:46,330 --> 00:14:55,210
rewrite the file server as a pluggable

00:14:49,120 --> 00:14:57,580
very clean asynchronous engine that was

00:14:55,210 --> 00:15:01,300
called the MT VFS standing for the

00:14:57,580 --> 00:15:04,720
Windows NT virtual file system and then

00:15:01,300 --> 00:15:07,090
the SMB smbd which was the Samba 3 the

00:15:04,720 --> 00:15:10,180
source 3 version of it was essentially

00:15:07,090 --> 00:15:13,960
older but the thing is what happened is

00:15:10,180 --> 00:15:16,360
as the code was developed as new ideas

00:15:13,960 --> 00:15:17,650
were created in source four we kept

00:15:16,360 --> 00:15:20,800
stealing them and bringing them back

00:15:17,650 --> 00:15:23,440
into source 3 so essentially their ideas

00:15:20,800 --> 00:15:26,020
still one it's just that they ended up

00:15:23,440 --> 00:15:26,950
being merged back into the original

00:15:26,020 --> 00:15:28,839
codebase

00:15:26,950 --> 00:15:31,390
so how many people have actually worked

00:15:28,839 --> 00:15:32,680
on a project that said ok we're going to

00:15:31,390 --> 00:15:36,460
rewrite everything from scratch

00:15:32,680 --> 00:15:38,350
we place it and he actually worked okay

00:15:36,460 --> 00:15:42,370
very well what was the project I'm just

00:15:38,350 --> 00:15:43,630
kind of curious a small Python

00:15:42,370 --> 00:15:45,670
application yeah

00:15:43,630 --> 00:15:49,839
sorry there was another person who put

00:15:45,670 --> 00:15:54,520
the hand up what's that ah sorry yeah

00:15:49,839 --> 00:15:58,060
oh X 386 was I I don't believe that was

00:15:54,520 --> 00:15:59,860
a rewrite that was no and so it I think

00:15:58,060 --> 00:16:02,050
that's probably more similar to sambar

00:15:59,860 --> 00:16:04,360
itself it was a fork that took over but

00:16:02,050 --> 00:16:05,830
it wasn't an actual rewrite so what

00:16:04,360 --> 00:16:07,870
happens is when you have a very large

00:16:05,830 --> 00:16:10,779
successful project and that's being used

00:16:07,870 --> 00:16:13,860
by many many people it's really hard to

00:16:10,779 --> 00:16:16,240
write it from scratch and replace it

00:16:13,860 --> 00:16:17,890
this is actually one of the things that

00:16:16,240 --> 00:16:19,870
some of the Microsoft engineers have

00:16:17,890 --> 00:16:21,910
written some very good books about it's

00:16:19,870 --> 00:16:24,760
much easier to take that old codebase

00:16:21,910 --> 00:16:27,760
and refactor it clean it up and keep it

00:16:24,760 --> 00:16:29,620
running because at least at that point

00:16:27,760 --> 00:16:31,930
you have interested customers who are

00:16:29,620 --> 00:16:34,450
testing it it's much harder to take a

00:16:31,930 --> 00:16:36,580
brand-new codebase and reproduce

00:16:34,450 --> 00:16:38,560
everything that the original killed pace

00:16:36,580 --> 00:16:40,480
code base did and those those projects

00:16:38,560 --> 00:16:43,209
don't tend to succeed most of the time

00:16:40,480 --> 00:16:45,279
and so that's pretty much what happened

00:16:43,209 --> 00:16:48,640
here in that the file server piece

00:16:45,279 --> 00:16:52,900
migrated the good parts of the NTFS file

00:16:48,640 --> 00:16:55,900
server migrated back into smbd the other

00:16:52,900 --> 00:16:58,720
piece we still have to wind bind demons

00:16:55,900 --> 00:17:01,870
which are the authentication daemons

00:16:58,720 --> 00:17:03,970
that talk to a domain controller the

00:17:01,870 --> 00:17:04,809
second one right now we've managed to

00:17:03,970 --> 00:17:06,910
contain it

00:17:04,809 --> 00:17:08,770
we still had to have it simply because

00:17:06,910 --> 00:17:11,290
we didn't have the time to merge the two

00:17:08,770 --> 00:17:14,260
in the time frame that we had to finish

00:17:11,290 --> 00:17:17,140
to actually get a release out so what we

00:17:14,260 --> 00:17:19,089
have is we have a wind bind that is used

00:17:17,140 --> 00:17:21,100
on member servers and members of the

00:17:19,089 --> 00:17:23,170
domain which is the standard wind bind

00:17:21,100 --> 00:17:26,020
that people are used to and then we have

00:17:23,170 --> 00:17:28,179
a smaller more focused wind bind that

00:17:26,020 --> 00:17:30,429
only runs on the Active Directory domain

00:17:28,179 --> 00:17:32,710
controller it is our ultimate goal to

00:17:30,429 --> 00:17:34,679
merge those two demons but word right

00:17:32,710 --> 00:17:37,420
now we're just having to live with it

00:17:34,679 --> 00:17:38,920
and then there were many many utility

00:17:37,420 --> 00:17:41,020
libraries there was a whole replacement

00:17:38,920 --> 00:17:44,050
parameter library there were sets of

00:17:41,020 --> 00:17:45,820
replacement string libraries and you

00:17:44,050 --> 00:17:46,420
know many of the people working on

00:17:45,820 --> 00:17:48,490
source

00:17:46,420 --> 00:17:51,370
they went through and you know massive

00:17:48,490 --> 00:17:53,470
credits to them they they did the hard

00:17:51,370 --> 00:17:56,760
work of merging that stuff together so

00:17:53,470 --> 00:17:58,810
that we can use common libraries

00:17:56,760 --> 00:18:00,640
sometimes we chose the source for

00:17:58,810 --> 00:18:02,740
versions sometime we chose the source 3

00:18:00,640 --> 00:18:04,990
version but there was a lot of work a

00:18:02,740 --> 00:18:07,000
lot of base compound asynchronous code

00:18:04,990 --> 00:18:10,330
as the whole new set of event mechanisms

00:18:07,000 --> 00:18:12,370
that were invented that eventually came

00:18:10,330 --> 00:18:14,680
back together in top-level libraries and

00:18:12,370 --> 00:18:16,510
you can see the fruits of this in the T

00:18:14,680 --> 00:18:17,800
event libraries and other things that

00:18:16,510 --> 00:18:19,990
have come as one out of the Samba

00:18:17,800 --> 00:18:22,150
project and the other part part was

00:18:19,990 --> 00:18:24,190
actually learning to review each of this

00:18:22,150 --> 00:18:26,740
code and not scream at each other in

00:18:24,190 --> 00:18:28,810
meetings again and to actually say you

00:18:26,740 --> 00:18:30,610
know that guy actually does write good

00:18:28,810 --> 00:18:33,670
code even though he's a jerk who works

00:18:30,610 --> 00:18:35,710
on SMED and I hate him you know and that

00:18:33,670 --> 00:18:38,800
kind of thing as I'm sure you know is a

00:18:35,710 --> 00:18:40,540
very hard thing to - once you've pushed

00:18:38,800 --> 00:18:43,270
yourselves apart it's hard to get back

00:18:40,540 --> 00:18:44,800
together again and a lot of egos got

00:18:43,270 --> 00:18:46,930
trampled this there's still a lot of

00:18:44,800 --> 00:18:49,690
seething resentment underneath the

00:18:46,930 --> 00:18:51,430
undersurface of course as I like to say

00:18:49,690 --> 00:18:52,900
the the Samba project and the samba team

00:18:51,430 --> 00:18:55,360
is that is the master of

00:18:52,900 --> 00:18:56,950
passive-aggressive you know well if you

00:18:55,360 --> 00:18:59,380
don't like my code I suppose you better

00:18:56,950 --> 00:19:02,920
use yours kind of attitude but it does

00:18:59,380 --> 00:19:06,070
it does eventually work and you know

00:19:02,920 --> 00:19:08,170
we're getting better and a little more a

00:19:06,070 --> 00:19:12,250
little more used to each other again

00:19:08,170 --> 00:19:14,760
that's really as the hard part so I may

00:19:12,250 --> 00:19:21,010
have already talked a lot about this

00:19:14,760 --> 00:19:22,390
there are yes so the actually I kind of

00:19:21,010 --> 00:19:26,110
already covered a lot of the things on

00:19:22,390 --> 00:19:28,390
this slide the really hard requirement

00:19:26,110 --> 00:19:30,820
the one that we laid down had to happen

00:19:28,390 --> 00:19:34,060
was no matter what we were doing in

00:19:30,820 --> 00:19:37,090
creating the new version you had to be

00:19:34,060 --> 00:19:39,280
able to take an existing Samba

00:19:37,090 --> 00:19:42,160
installation you had to be able to type

00:19:39,280 --> 00:19:45,760
make install and run a script and it had

00:19:42,160 --> 00:19:48,840
to keep working or at least I had to be

00:19:45,760 --> 00:19:51,340
minimal disruptions to people's existing

00:19:48,840 --> 00:19:53,560
Samba installations and file server

00:19:51,340 --> 00:19:56,500
installations it's it's not completely

00:19:53,560 --> 00:19:58,810
seamless but there have been a lot of

00:19:56,500 --> 00:19:59,840
been a lot of work put in to actually

00:19:58,810 --> 00:20:02,750
making that my

00:19:59,840 --> 00:20:05,330
and path work and one of the reasons for

00:20:02,750 --> 00:20:09,410
that is the people who create network

00:20:05,330 --> 00:20:11,090
attached storage devices they have a

00:20:09,410 --> 00:20:12,980
very stable code base they're used to

00:20:11,090 --> 00:20:15,260
working with we would like them

00:20:12,980 --> 00:20:18,410
obviously to move to the new features

00:20:15,260 --> 00:20:20,540
that we have in Samba for DES oh and

00:20:18,410 --> 00:20:22,820
we've done that by basically providing

00:20:20,540 --> 00:20:24,980
them with extra new flashy features that

00:20:22,820 --> 00:20:26,660
we think they'll want but we couldn't

00:20:24,980 --> 00:20:28,130
force a massive change on them we

00:20:26,660 --> 00:20:29,180
couldn't say and of course you'll have

00:20:28,130 --> 00:20:31,760
to throw away all your configuration

00:20:29,180 --> 00:20:34,070
management tools everything has to

00:20:31,760 --> 00:20:36,050
change and you'll have to do everything

00:20:34,070 --> 00:20:38,480
a completely different way so the hard

00:20:36,050 --> 00:20:40,610
requirement is that we didn't want to

00:20:38,480 --> 00:20:43,130
make the OEM suffer a massive amanda's

00:20:40,610 --> 00:20:45,710
disruption because to be honest many of

00:20:43,130 --> 00:20:47,630
us work for those OEMs and so you know

00:20:45,710 --> 00:20:52,150
it's in our interest to make sure that

00:20:47,630 --> 00:20:55,310
everything keeps working there's still

00:20:52,150 --> 00:20:57,500
some ongoing discussions on how to make

00:20:55,310 --> 00:21:00,140
the ad piece work how to separate some

00:20:57,500 --> 00:21:03,110
pieces I'll go into that a little bit

00:21:00,140 --> 00:21:04,100
later on in the talk but like I say

00:21:03,110 --> 00:21:06,080
things things are getting matched

00:21:04,100 --> 00:21:08,260
together and we now we now have one code

00:21:06,080 --> 00:21:10,670
base which I'm really quite happy about

00:21:08,260 --> 00:21:12,170
so what are the actual new features I

00:21:10,670 --> 00:21:13,910
mean I've been talking about some before

00:21:12,170 --> 00:21:18,020
dodo but what is it what's the new thing

00:21:13,910 --> 00:21:20,960
well the really big new thing is that

00:21:18,020 --> 00:21:23,900
it's a full Active Directory domain

00:21:20,960 --> 00:21:26,360
controller replacement and I mean you

00:21:23,900 --> 00:21:30,140
can migrate from an existing Active

00:21:26,360 --> 00:21:32,510
Directory Microsoft you can replicate to

00:21:30,140 --> 00:21:34,070
a Samba one you can promote the Samba

00:21:32,510 --> 00:21:35,960
one and it will keep you can then turn

00:21:34,070 --> 00:21:39,440
off the microphone it will keep working

00:21:35,960 --> 00:21:42,830
and you can do the reverse you know if

00:21:39,440 --> 00:21:46,880
people want to migrate from Samba the

00:21:42,830 --> 00:21:49,190
old the Samba 3do LDAP based domain

00:21:46,880 --> 00:21:51,080
controller you can migrate it to Sam

00:21:49,190 --> 00:21:52,520
before and then you can replicate to the

00:21:51,080 --> 00:21:54,140
Windows one and you can then turn off

00:21:52,520 --> 00:21:55,640
the Samba one so it actually works both

00:21:54,140 --> 00:21:57,680
ways

00:21:55,640 --> 00:21:58,910
the other thing is that's really the

00:21:57,680 --> 00:22:01,610
other thing that's really cool is that

00:21:58,910 --> 00:22:04,030
it actually integrates seamlessly with

00:22:01,610 --> 00:22:07,250
all the Windows domain controller tools

00:22:04,030 --> 00:22:09,530
so and this is for the windows guys I

00:22:07,250 --> 00:22:11,240
mean I'm not a domain administrator or I

00:22:09,530 --> 00:22:13,730
haven't been for about 10 or 15 years

00:22:11,240 --> 00:22:15,950
now but all of the tools

00:22:13,730 --> 00:22:18,920
those people use like group policy

00:22:15,950 --> 00:22:21,380
editors etc they all work against a

00:22:18,920 --> 00:22:24,140
samba4 domain controller so that's very

00:22:21,380 --> 00:22:26,210
very cool there's still you know because

00:22:24,140 --> 00:22:28,490
we're UNIX and Linux and command line

00:22:26,210 --> 00:22:30,110
based people there's samba tool that

00:22:28,490 --> 00:22:32,320
actually configures things on the

00:22:30,110 --> 00:22:36,140
command line so that you can do this

00:22:32,320 --> 00:22:38,000
inside your Linux box of course we

00:22:36,140 --> 00:22:40,040
thought about putting all those options

00:22:38,000 --> 00:22:42,260
into the net binary which had become our

00:22:40,040 --> 00:22:44,630
kitchen sink of administration tools and

00:22:42,260 --> 00:22:46,750
luckily decided this was a terrible idea

00:22:44,630 --> 00:22:49,550
and we weren't going to do it

00:22:46,750 --> 00:22:54,440
so how many people here have heard of

00:22:49,550 --> 00:22:58,010
Microsoft's new SMB 2 & 3 ok not that

00:22:54,440 --> 00:23:00,050
many so Microsoft have had an asset an

00:22:58,010 --> 00:23:02,780
SME sifts protocol for many years it's

00:23:00,050 --> 00:23:05,180
the one that Windows XP out of the box

00:23:02,780 --> 00:23:07,610
users they actually did a lot of work

00:23:05,180 --> 00:23:10,610
and rewrote the protocol created a new

00:23:07,610 --> 00:23:14,210
protocol called SMB to which we fully

00:23:10,610 --> 00:23:16,400
supported in samba 3.6 and now they've

00:23:14,210 --> 00:23:19,700
added a bunch of new clustering features

00:23:16,400 --> 00:23:22,820
to make a smb3 they were going to call

00:23:19,700 --> 00:23:24,560
it SMB 2.2 but it was such a radical

00:23:22,820 --> 00:23:28,310
change their marketing people got you to

00:23:24,560 --> 00:23:30,620
call it Samba smb3 instead and so we

00:23:28,310 --> 00:23:32,060
actually have preliminary support for

00:23:30,620 --> 00:23:35,270
that and I'll go into what that means a

00:23:32,060 --> 00:23:38,210
little bit later on the other thing is

00:23:35,270 --> 00:23:39,470
we got serious about using it all the

00:23:38,210 --> 00:23:41,930
extra cores that you have on your

00:23:39,470 --> 00:23:44,570
servers and so the i/o paths within

00:23:41,930 --> 00:23:46,850
Samba are now completely parallel so

00:23:44,570 --> 00:23:49,040
samba itself at least a file server

00:23:46,850 --> 00:23:51,680
engine is essentially an asynchronous

00:23:49,040 --> 00:23:53,690
state machine that uses threads under

00:23:51,680 --> 00:23:56,450
the covers to get multiple paths for i/o

00:23:53,690 --> 00:23:58,670
going onto this so it's kind of easy to

00:23:56,450 --> 00:24:01,460
understand in terms of well as much as a

00:23:58,670 --> 00:24:04,190
state machine can be in terms of how to

00:24:01,460 --> 00:24:06,350
program it and yet it still has the

00:24:04,190 --> 00:24:07,820
flexibility to use threads in the places

00:24:06,350 --> 00:24:10,970
where you really need it

00:24:07,820 --> 00:24:15,620
and Microsoft introduced some new handle

00:24:10,970 --> 00:24:18,140
types that will cover disconnection

00:24:15,620 --> 00:24:20,090
failover and we're starting to support

00:24:18,140 --> 00:24:22,640
those that came out only in Samba for

00:24:20,090 --> 00:24:26,020
200 and they'll be most full of support

00:24:22,640 --> 00:24:26,020
for that in Samba 4.1

00:24:27,460 --> 00:24:32,419
so whoo-hoo he actually had ministers in

00:24:31,010 --> 00:24:34,970
Active Directory anyone

00:24:32,419 --> 00:24:36,980
oh this that's great there's still some

00:24:34,970 --> 00:24:39,919
people here who use Windows I thought

00:24:36,980 --> 00:24:41,960
everyone had gone to Android and Mac and

00:24:39,919 --> 00:24:45,590
Linux these days but yeah few legacy

00:24:41,960 --> 00:24:47,870
guys like me yeah so for everyone else

00:24:45,590 --> 00:24:50,720
essentially Active Directory is those

00:24:47,870 --> 00:24:52,820
it's many more things of course but it's

00:24:50,720 --> 00:24:57,679
essentially an LDAP server a dynamic DNS

00:24:52,820 --> 00:25:01,700
server Kerberos KDC a file server and a

00:24:57,679 --> 00:25:04,460
DC RPC services it's all those things

00:25:01,700 --> 00:25:06,890
but the main thing it has is a central

00:25:04,460 --> 00:25:09,110
data store and that's that's very

00:25:06,890 --> 00:25:12,620
important and that's that's what

00:25:09,110 --> 00:25:14,450
actually that's what actually drove a

00:25:12,620 --> 00:25:19,039
lot of the design decisions in creating

00:25:14,450 --> 00:25:20,419
Sam before so okay there's all those

00:25:19,039 --> 00:25:23,539
five things right so you've got open

00:25:20,419 --> 00:25:24,110
LDAP there's your LDAP server you've got

00:25:23,539 --> 00:25:26,960
bind

00:25:24,110 --> 00:25:29,179
there's your DNS server you've got MIT

00:25:26,960 --> 00:25:32,000
and handle curb rests choose one there's

00:25:29,179 --> 00:25:33,890
your K DC's then actually you've got the

00:25:32,000 --> 00:25:36,190
Open Group DCE source code

00:25:33,890 --> 00:25:39,289
- there's year DC RPC and then Samba

00:25:36,190 --> 00:25:40,700
covers assist part so we just integrated

00:25:39,289 --> 00:25:44,480
those all together and we were done

00:25:40,700 --> 00:25:46,760
right well so there was a proprietary

00:25:44,480 --> 00:25:48,980
product called Zaid from a guy

00:25:46,760 --> 00:25:53,210
lukehoward it's very very clever guy now

00:25:48,980 --> 00:25:55,940
living in Berlin playing music he did

00:25:53,210 --> 00:26:00,850
that was a lot of work did a wonderful

00:25:55,940 --> 00:26:00,850
job we chose a different path

00:26:04,620 --> 00:26:11,440
so we yeah we we created all our own

00:26:09,700 --> 00:26:13,900
code for every single one of those

00:26:11,440 --> 00:26:18,190
subsystems so we have our own LDAP

00:26:13,900 --> 00:26:21,820
server we have our own DNS server we

00:26:18,190 --> 00:26:24,430
have our own KDC embedded in samba we

00:26:21,820 --> 00:26:26,350
already had and we didn't use the DC RPC

00:26:24,430 --> 00:26:29,500
code the only one I feel happy about is

00:26:26,350 --> 00:26:31,570
not using the DC Owens is the open

00:26:29,500 --> 00:26:35,950
groups DC RPC code because that code

00:26:31,570 --> 00:26:37,930
sucks and was never properly security

00:26:35,950 --> 00:26:39,490
audited there are many other products

00:26:37,930 --> 00:26:44,080
that have used it I think Apple uses it

00:26:39,490 --> 00:26:44,470
in their in their version of an SMB 2

00:26:44,080 --> 00:26:47,440
server

00:26:44,470 --> 00:26:50,140
SMB 1 s and B 2 server I don't trust

00:26:47,440 --> 00:26:51,640
that code it was basically it's all

00:26:50,140 --> 00:26:53,950
proprietary code that got thrown over

00:26:51,640 --> 00:26:55,660
the wall about five years ago nobody to

00:26:53,950 --> 00:26:58,360
my knowledge is done a security audit on

00:26:55,660 --> 00:26:59,620
it nobody's done a review of it I don't

00:26:58,360 --> 00:27:01,630
trust that code

00:26:59,620 --> 00:27:03,970
there's probably Horrors lurking in

00:27:01,630 --> 00:27:06,610
there that we will be seeing CVS for the

00:27:03,970 --> 00:27:09,250
next ten years on you know if anyone

00:27:06,610 --> 00:27:11,230
actually goes into it so I'm happy that

00:27:09,250 --> 00:27:15,640
we ended up using our own there but for

00:27:11,230 --> 00:27:18,580
the rest of it well why do we do it why

00:27:15,640 --> 00:27:20,380
did we do it so there's no single really

00:27:18,580 --> 00:27:22,030
good reason there's not one thing you've

00:27:20,380 --> 00:27:23,950
got one person or one thing you can

00:27:22,030 --> 00:27:27,150
point out and say it's their fault they

00:27:23,950 --> 00:27:31,270
did it that's why we did it the most

00:27:27,150 --> 00:27:33,100
common issue the the thing that was

00:27:31,270 --> 00:27:36,130
brought up the most that ended up

00:27:33,100 --> 00:27:39,520
getting us to do this was the need for a

00:27:36,130 --> 00:27:43,090
common data store and it's hard to

00:27:39,520 --> 00:27:44,770
coordinate the back end data storage for

00:27:43,090 --> 00:27:48,510
all those different products into one

00:27:44,770 --> 00:27:52,210
place and remember Active Directory

00:27:48,510 --> 00:27:55,120
requires that you can set a password via

00:27:52,210 --> 00:27:57,490
LDAP and read it var DCE or updated

00:27:55,120 --> 00:27:59,980
password by Kerberos and then you know

00:27:57,490 --> 00:28:04,660
have it enforced by all the other

00:27:59,980 --> 00:28:06,460
subsystems ackles magically appear when

00:28:04,660 --> 00:28:08,170
you create objects and inheritance has

00:28:06,460 --> 00:28:10,870
to work when you create objects inside

00:28:08,170 --> 00:28:12,250
the LDAP database so it's not just a

00:28:10,870 --> 00:28:13,870
matter of saying well stitch all these

00:28:12,250 --> 00:28:15,640
products together and you have all the

00:28:13,870 --> 00:28:17,040
pieces that you need it's much more

00:28:15,640 --> 00:28:19,960
complex than that

00:28:17,040 --> 00:28:22,480
Zaid had the luxury basically of

00:28:19,960 --> 00:28:24,730
shipping modified custom versions of all

00:28:22,480 --> 00:28:27,010
these things-- stitched together into a

00:28:24,730 --> 00:28:28,750
product we didn't have that luxury we

00:28:27,010 --> 00:28:33,940
would have had to upstream everything

00:28:28,750 --> 00:28:39,130
and that was not so easy and so more

00:28:33,940 --> 00:28:43,630
reasons so tridge how many people here

00:28:39,130 --> 00:28:45,700
know tridge okay so he's not been active

00:28:43,630 --> 00:28:49,060
recently he's kind of semi-retired but

00:28:45,700 --> 00:28:50,290
if you know him trigger was once lifted

00:28:49,060 --> 00:28:52,960
as the smartest man in Australia

00:28:50,290 --> 00:28:55,420
actually believed that and he's the

00:28:52,960 --> 00:28:57,790
really smart part of Samba so Trish and

00:28:55,420 --> 00:28:59,290
I are credited with creating Samba but

00:28:57,790 --> 00:29:00,850
anyone who's talked to both of us knows

00:28:59,290 --> 00:29:05,620
that one of them is smart and one of

00:29:00,850 --> 00:29:07,690
them is me so Trish spent and I'm not

00:29:05,620 --> 00:29:09,670
going to name the subsystems but in

00:29:07,690 --> 00:29:11,740
development in Samba for he actually

00:29:09,670 --> 00:29:14,590
spent a week trying to get two

00:29:11,740 --> 00:29:16,420
components to work together I will say

00:29:14,590 --> 00:29:19,330
that cryptography was involved just to

00:29:16,420 --> 00:29:23,800
give you a hint he managed to make it

00:29:19,330 --> 00:29:25,660
work it took him a week to figure out

00:29:23,800 --> 00:29:27,760
what versions would build with what

00:29:25,660 --> 00:29:31,870
libraries to make the things actually

00:29:27,760 --> 00:29:35,380
work and at that point he realized we

00:29:31,870 --> 00:29:36,970
you know even if we have and I don't

00:29:35,380 --> 00:29:37,870
know how many of you were here for simos

00:29:36,970 --> 00:29:40,630
talk yesterday

00:29:37,870 --> 00:29:42,580
Sima did a wonderful talk on s SSD but

00:29:40,630 --> 00:29:43,930
he pointed out that in order to

00:29:42,580 --> 00:29:47,560
configure the things that you need to

00:29:43,930 --> 00:29:50,020
for free IPA I think it was you have 96

00:29:47,560 --> 00:29:51,460
separate steps that you have to do to

00:29:50,020 --> 00:29:54,220
integrate all these pieces

00:29:51,460 --> 00:29:56,920
you can't expect admins to do that I

00:29:54,220 --> 00:29:58,810
mean it would be like saying here's some

00:29:56,920 --> 00:30:00,190
before and then appending a box of Lego

00:29:58,810 --> 00:30:03,090
bricks all over the floor and saying

00:30:00,190 --> 00:30:03,090
yeah build it yourself

00:30:03,250 --> 00:30:10,090
so actually building some of those

00:30:07,960 --> 00:30:13,210
pieces ourselves meant that we could

00:30:10,090 --> 00:30:17,670
actually ensure that those things were

00:30:13,210 --> 00:30:20,410
integrated although it does kind of suck

00:30:17,670 --> 00:30:22,510
so we needed to make invasive changes in

00:30:20,410 --> 00:30:24,370
upstream product projects that we

00:30:22,510 --> 00:30:27,250
weren't necessarily sure would be

00:30:24,370 --> 00:30:28,840
welcome at the time so Microsoft made

00:30:27,250 --> 00:30:30,820
specific changes to

00:30:28,840 --> 00:30:33,070
kerberos to embed what they call a

00:30:30,820 --> 00:30:36,130
privileged authentication certificate in

00:30:33,070 --> 00:30:38,169
the tickets that they were generating so

00:30:36,130 --> 00:30:40,900
that meant upstream changes to Kerberos

00:30:38,169 --> 00:30:45,220
to embed windows SIDS into you know a

00:30:40,900 --> 00:30:47,169
standard emoji or handle KDC and you

00:30:45,220 --> 00:30:48,520
know quite rightly those guys would say

00:30:47,169 --> 00:30:50,830
well where are we gonna get them from

00:30:48,520 --> 00:30:54,610
why do we need them and bugger off

00:30:50,830 --> 00:30:55,929
basically whereas the samba4 version of

00:30:54,610 --> 00:30:59,559
it which is actually a copy of the

00:30:55,929 --> 00:31:01,270
Heimdall source imported into sambar we

00:30:59,559 --> 00:31:04,210
creakin create those transparently as

00:31:01,270 --> 00:31:06,070
needed and the other thing that took a

00:31:04,210 --> 00:31:08,830
while to realize is that we didn't know

00:31:06,070 --> 00:31:11,320
what we didn't know so there was a lot

00:31:08,830 --> 00:31:15,090
of experimentation that was done to

00:31:11,320 --> 00:31:18,370
figure out what changes were needed so

00:31:15,090 --> 00:31:20,470
yes we probably could have done this

00:31:18,370 --> 00:31:22,179
using the external projects it would

00:31:20,470 --> 00:31:24,549
have been harder we would probably still

00:31:22,179 --> 00:31:28,320
be working on it whether that was a wise

00:31:24,549 --> 00:31:32,649
choice or not time walltime we'll see

00:31:28,320 --> 00:31:34,419
and finally you know we have we want to

00:31:32,649 --> 00:31:36,669
create something that OEMs can at least

00:31:34,419 --> 00:31:40,779
download install and set up with a

00:31:36,669 --> 00:31:43,960
minimum of fuss and we want to be able

00:31:40,779 --> 00:31:46,330
to test everything so having to say well

00:31:43,960 --> 00:31:47,710
we work with this version of open LDAP

00:31:46,330 --> 00:31:49,419
because we've tested it but if they

00:31:47,710 --> 00:31:51,940
updated it may break things and we don't

00:31:49,419 --> 00:31:54,429
know it's very hard to test the whole

00:31:51,940 --> 00:31:56,289
system as a coherent consistent hole

00:31:54,429 --> 00:31:58,090
which if you're going to replace

00:31:56,289 --> 00:32:01,539
something as complex as Active Directory

00:31:58,090 --> 00:32:03,730
you really need to be able to have a

00:32:01,539 --> 00:32:07,330
testing framework that will test the

00:32:03,730 --> 00:32:10,299
entire system and the other nice thing

00:32:07,330 --> 00:32:13,120
the other kind of side effect is that

00:32:10,299 --> 00:32:16,000
having this embedded blob of samba4

00:32:13,120 --> 00:32:19,270
that's an ad domain controller it allows

00:32:16,000 --> 00:32:21,250
other projects to essentially use as as

00:32:19,270 --> 00:32:22,779
a component without them having to

00:32:21,250 --> 00:32:24,760
reproduce all the steps of setting up

00:32:22,779 --> 00:32:28,630
these things separately and so open

00:32:24,760 --> 00:32:30,490
change which is what allows outlook

00:32:28,630 --> 00:32:34,059
plants to work transparently against

00:32:30,490 --> 00:32:35,830
Linux and UNIX servers using all the the

00:32:34,059 --> 00:32:39,549
native protocols rather than having to

00:32:35,830 --> 00:32:41,919
install plugins that needs Samba for as

00:32:39,549 --> 00:32:42,700
an ad domain controller and the two we

00:32:41,919 --> 00:32:45,490
collaborate

00:32:42,700 --> 00:32:47,550
closely with that project they they

00:32:45,490 --> 00:32:49,810
essentially uses as part of their

00:32:47,550 --> 00:32:53,680
configuration and that actually works

00:32:49,810 --> 00:32:55,710
really well so now now we have something

00:32:53,680 --> 00:32:59,340
that's out there that works

00:32:55,710 --> 00:33:02,020
theoretically we could revisit this and

00:32:59,340 --> 00:33:03,700
start doing the work to upstream all the

00:33:02,020 --> 00:33:05,980
changes we need in the various different

00:33:03,700 --> 00:33:08,410
product projects and to get everything

00:33:05,980 --> 00:33:11,140
together so that we can use the existing

00:33:08,410 --> 00:33:14,560
components it's going to be a lot of

00:33:11,140 --> 00:33:16,660
work and so you know if anyone is really

00:33:14,560 --> 00:33:18,700
interested and has time to start looking

00:33:16,660 --> 00:33:21,340
at this problem I would very much

00:33:18,700 --> 00:33:22,620
welcome people to come along and help us

00:33:21,340 --> 00:33:25,930
do that

00:33:22,620 --> 00:33:28,780
the Samba team is probably at its

00:33:25,930 --> 00:33:30,850
maximum ten to fifteen really active

00:33:28,780 --> 00:33:34,600
developers and at minimum between five

00:33:30,850 --> 00:33:37,180
and ten and right now just keeping this

00:33:34,600 --> 00:33:39,070
monolith running is big enough it is

00:33:37,180 --> 00:33:40,900
hard enough work we don't really have

00:33:39,070 --> 00:33:44,520
the time we haven't budget at the time

00:33:40,900 --> 00:33:44,520
or the staffing to do that yes question

00:33:53,440 --> 00:33:58,639
so the question is do we have code that

00:33:55,849 --> 00:34:02,059
will synchronize existing open LDAP with

00:33:58,639 --> 00:34:03,799
the Samba LDAP no we do not

00:34:02,059 --> 00:34:06,559
we will synchronize and replicate with

00:34:03,799 --> 00:34:07,789
Active Directory because we use the

00:34:06,559 --> 00:34:10,510
Microsoft Directory replication

00:34:07,789 --> 00:34:12,980
protocols which are all dce/rpc based

00:34:10,510 --> 00:34:14,569
you would have to export things in L

00:34:12,980 --> 00:34:16,159
diff you would have to make sure the

00:34:14,569 --> 00:34:18,950
schemas matched and then you could

00:34:16,159 --> 00:34:20,510
reinforce them into Samba that would be

00:34:18,950 --> 00:34:22,309
the way you would have to do it but no

00:34:20,510 --> 00:34:24,710
we do not have currently have code to do

00:34:22,309 --> 00:34:29,179
that does that answer your question yeah

00:34:24,710 --> 00:34:36,079
so such code would be very welcome yes

00:34:29,179 --> 00:34:50,589
another question what version of the

00:34:36,079 --> 00:34:50,589
standard mmm-hmm sorry with huh

00:34:50,900 --> 00:34:59,630
you have multi-master okay so the

00:34:57,050 --> 00:35:02,200
question was what version of LDAP are

00:34:59,630 --> 00:35:06,560
you implementing are you implementing

00:35:02,200 --> 00:35:07,970
master/slave or multi master so I don't

00:35:06,560 --> 00:35:09,950
think that's actually changing the LDAP

00:35:07,970 --> 00:35:12,260
protocol on the wire that's talking

00:35:09,950 --> 00:35:16,000
about a change in in the actual open

00:35:12,260 --> 00:35:18,800
LDAP code itself so I'm gonna horribly

00:35:16,000 --> 00:35:22,820
sidestep that question by saying we do

00:35:18,800 --> 00:35:25,160
what Windows does so so we we implement

00:35:22,820 --> 00:35:27,260
this standard that Microsoft has because

00:35:25,160 --> 00:35:28,880
that's the standard that we have to

00:35:27,260 --> 00:35:33,860
create in order for their clients to

00:35:28,880 --> 00:35:35,810
work so it kind of that so our goal is

00:35:33,860 --> 00:35:37,550
to have multi master replication in

00:35:35,810 --> 00:35:39,920
exactly the same way that Windows does

00:35:37,550 --> 00:35:41,870
it which is almost certainly completely

00:35:39,920 --> 00:35:44,780
incompatible with the way open LDAP does

00:35:41,870 --> 00:35:46,790
it would be my answer to that one so I'm

00:35:44,780 --> 00:35:48,620
sorry if that sucks but that's you know

00:35:46,790 --> 00:35:51,080
remember our goal is to make seamless

00:35:48,620 --> 00:35:54,800
interoperability with Windows and so

00:35:51,080 --> 00:35:57,530
that's what we have to do so a new hope

00:35:54,800 --> 00:36:00,620
we may be able to do new things so right

00:35:57,530 --> 00:36:03,020
now we have a bunch of OMS who ship file

00:36:00,620 --> 00:36:04,790
server products what I'm really hoping

00:36:03,020 --> 00:36:07,100
to do and if there are people here

00:36:04,790 --> 00:36:08,660
interested in creating such products I'd

00:36:07,100 --> 00:36:12,680
love to talk to you or email me I'm very

00:36:08,660 --> 00:36:15,380
easy to find it would be very nice if

00:36:12,680 --> 00:36:17,330
people thought about creating directory

00:36:15,380 --> 00:36:20,420
services products based on top of this

00:36:17,330 --> 00:36:22,580
code so a small business server would be

00:36:20,420 --> 00:36:24,740
an excellent you know small business

00:36:22,580 --> 00:36:27,980
authentication server

00:36:24,740 --> 00:36:30,290
you know back-end icarus back-end to

00:36:27,980 --> 00:36:32,990
cloud applications there are many many

00:36:30,290 --> 00:36:35,510
things you can do with this code and I

00:36:32,990 --> 00:36:37,640
would really love to help build an

00:36:35,510 --> 00:36:41,000
ecosystem of OEMs who are building

00:36:37,640 --> 00:36:43,790
product out of the ad controller in San

00:36:41,000 --> 00:36:45,590
before so and that's that's kind of a

00:36:43,790 --> 00:36:47,090
hope at the moment we we have we have

00:36:45,590 --> 00:36:49,190
one or two vendors

00:36:47,090 --> 00:36:51,380
who are doing this on a small scale I

00:36:49,190 --> 00:36:53,090
would love to see someone like Cisco or

00:36:51,380 --> 00:36:57,890
someone like that pick it up and I think

00:36:53,090 --> 00:37:00,860
it might be very useful for them so

00:36:57,890 --> 00:37:04,070
better hurry up a little faster

00:37:00,860 --> 00:37:04,580
improvements as I mentioned all our Fast

00:37:04,070 --> 00:37:08,420
Pass

00:37:04,580 --> 00:37:11,420
is now completely asynchronous and we

00:37:08,420 --> 00:37:14,720
can keep dis systems pretty busy the

00:37:11,420 --> 00:37:20,510
core of the code is as I say a big state

00:37:14,720 --> 00:37:22,880
machine smb3 now includes transport

00:37:20,510 --> 00:37:24,290
level encryption and as Microsoft

00:37:22,880 --> 00:37:27,770
actually did a really good job of

00:37:24,290 --> 00:37:29,650
designing smb3 in that they allow you to

00:37:27,770 --> 00:37:32,210
turn on very specific features

00:37:29,650 --> 00:37:34,970
individually but when they were doing

00:37:32,210 --> 00:37:36,800
SMB one all the features were mingled

00:37:34,970 --> 00:37:38,720
together so if you all of a sudden you

00:37:36,800 --> 00:37:40,370
said you supported one feature the

00:37:38,720 --> 00:37:42,050
clients would then start doing a whole

00:37:40,370 --> 00:37:43,550
host of other features so you couldn't

00:37:42,050 --> 00:37:45,860
separate out the pieces you could

00:37:43,550 --> 00:37:48,290
implement cleanly with smb3 they've

00:37:45,860 --> 00:37:50,210
actually fixed that you can pick oh I'm

00:37:48,290 --> 00:37:52,910
gonna do encryption this week I'm gonna

00:37:50,210 --> 00:37:56,540
do you know durable handles next week

00:37:52,910 --> 00:37:58,640
you can actually specify by negotiated

00:37:56,540 --> 00:38:00,590
bits the features of the protocol that

00:37:58,640 --> 00:38:02,810
you will implement and the clients obey

00:38:00,590 --> 00:38:05,300
that so we now have transport level

00:38:02,810 --> 00:38:07,640
encryption that that's actually as an

00:38:05,300 --> 00:38:10,370
aside a quite a funny story that's

00:38:07,640 --> 00:38:12,110
basically the reason that got put in

00:38:10,370 --> 00:38:14,780
there the Microsoft engineers were very

00:38:12,110 --> 00:38:18,890
very happy that Samba put transport

00:38:14,780 --> 00:38:20,000
level encryption into SMB 1 which we did

00:38:18,890 --> 00:38:22,360
have for a while

00:38:20,000 --> 00:38:24,470
unfortunately the Linux kernel engineers

00:38:22,360 --> 00:38:26,840
useless as they are never bothered to

00:38:24,470 --> 00:38:29,210
implement it in the in their sips plant

00:38:26,840 --> 00:38:30,860
in the kernel but we've had transport

00:38:29,210 --> 00:38:33,380
level encryption at the SMB layer for a

00:38:30,860 --> 00:38:35,060
long time and apparently the Microsoft

00:38:33,380 --> 00:38:38,120
engineer has always wanted to put this

00:38:35,060 --> 00:38:39,800
inside Windows but their security people

00:38:38,120 --> 00:38:41,960
would never let them do it because they

00:38:39,800 --> 00:38:44,090
said oh IPSec now and forever is the way

00:38:41,960 --> 00:38:46,060
to do proper encryption but the fact

00:38:44,090 --> 00:38:48,380
that we had it in Samba enable them to

00:38:46,060 --> 00:38:50,060
leverage with their marketing people and

00:38:48,380 --> 00:38:50,860
say what those guys have it we have to

00:38:50,060 --> 00:38:53,840
have it too

00:38:50,860 --> 00:38:55,490
so they actually finally put transport

00:38:53,840 --> 00:38:57,770
level encryption in s and b3 which is a

00:38:55,490 --> 00:38:59,300
very good thing because as I'm sure you

00:38:57,770 --> 00:39:02,780
know no packets should go over the

00:38:59,300 --> 00:39:05,330
network unencrypted we've added support

00:39:02,780 --> 00:39:06,920
for the new handle types and the other

00:39:05,330 --> 00:39:10,700
the other thing that we spurred them

00:39:06,920 --> 00:39:13,040
into was treat Valkyr and some of the

00:39:10,700 --> 00:39:15,710
other Samba team members created a

00:39:13,040 --> 00:39:18,080
clustered distributed database called

00:39:15,710 --> 00:39:20,900
CTD B which was used for the

00:39:18,080 --> 00:39:23,350
of the scale out of so NASA scale at

00:39:20,900 --> 00:39:26,510
NASA product from IBM and that allowed

00:39:23,350 --> 00:39:28,430
transparent clustering to multiple nodes

00:39:26,510 --> 00:39:30,740
which was something that Microsoft's SMB

00:39:28,430 --> 00:39:32,090
servers never could do so this was a

00:39:30,740 --> 00:39:35,510
brand-new thing that was working with

00:39:32,090 --> 00:39:38,060
Windows clients and so as in creating

00:39:35,510 --> 00:39:39,650
smb3 Microsoft raise the bar and of

00:39:38,060 --> 00:39:41,390
course it was easier for them to do so

00:39:39,650 --> 00:39:43,820
because they have control of the client

00:39:41,390 --> 00:39:46,970
code so they changed the client code to

00:39:43,820 --> 00:39:50,000
actually make failover multipath and a

00:39:46,970 --> 00:39:51,860
bunch of their enhancements to SMB

00:39:50,000 --> 00:39:53,780
clustering and of course we've been

00:39:51,860 --> 00:39:56,810
doing lots of work on scalability and

00:39:53,780 --> 00:39:58,340
performance which is still ongoing so

00:39:56,810 --> 00:40:03,530
the fast server is actually quite nice

00:39:58,340 --> 00:40:05,450
in in in San before and so we've

00:40:03,530 --> 00:40:08,120
actually done some process improvements

00:40:05,450 --> 00:40:09,830
as well how many people here work on

00:40:08,120 --> 00:40:14,150
free software projects that have

00:40:09,830 --> 00:40:16,100
mandatory code review not that many well

00:40:14,150 --> 00:40:19,190
I mean having worked inside large

00:40:16,100 --> 00:40:22,400
organizations creating software

00:40:19,190 --> 00:40:24,800
mandoo free code review is where we're

00:40:22,400 --> 00:40:27,710
going and you really need to get that in

00:40:24,800 --> 00:40:30,110
terms of quality at least for a code

00:40:27,710 --> 00:40:32,540
bases largest Samba it is the only way

00:40:30,110 --> 00:40:35,510
you will keep that thing working without

00:40:32,540 --> 00:40:37,100
breaking and moving forward so if you're

00:40:35,510 --> 00:40:39,440
not doing mandatory code review now

00:40:37,100 --> 00:40:41,540
think about it and please plan for it

00:40:39,440 --> 00:40:44,410
it's a process improvement that you

00:40:41,540 --> 00:40:47,030
really really need to be thinking about

00:40:44,410 --> 00:40:50,360
no code changes going to any release

00:40:47,030 --> 00:40:53,030
without a Bugzilla report sign-off by

00:40:50,360 --> 00:40:55,340
two engineers on the patch and hopefully

00:40:53,030 --> 00:40:57,530
a regression test case to go in to fix

00:40:55,340 --> 00:41:01,370
it as well to make sure that we never

00:40:57,530 --> 00:41:04,040
regrets every single commit that goes

00:41:01,370 --> 00:41:07,190
into the code base has a make full make

00:41:04,040 --> 00:41:09,110
test run against it which tests as many

00:41:07,190 --> 00:41:10,820
things as we can including creating a

00:41:09,110 --> 00:41:14,360
new active very true main controller

00:41:10,820 --> 00:41:16,220
doing replication doing file activity to

00:41:14,360 --> 00:41:18,050
it fooling a full doing a ful regression

00:41:16,220 --> 00:41:21,320
test suite doing all the locking tests

00:41:18,050 --> 00:41:25,400
all that has to pass for every single

00:41:21,320 --> 00:41:26,900
commit and then we also use I mean I

00:41:25,400 --> 00:41:28,240
must I meant we're lucky in this because

00:41:26,900 --> 00:41:30,410
they've given it to us for free

00:41:28,240 --> 00:41:31,420
because we're a kind of a well known

00:41:30,410 --> 00:41:34,089
project

00:41:31,420 --> 00:41:37,839
we have automated scanners and fuzzers

00:41:34,089 --> 00:41:41,799
running against us all the time and so

00:41:37,839 --> 00:41:44,799
this is one of the reasons that we weave

00:41:41,799 --> 00:41:46,869
Pascoe verities wrong to certification

00:41:44,799 --> 00:41:48,069
for security or whatever the other thing

00:41:46,869 --> 00:41:49,930
you have to do of course is when those

00:41:48,069 --> 00:41:52,839
guys give you reports you have to read

00:41:49,930 --> 00:41:54,099
them and fix the Box a lot of projects

00:41:52,839 --> 00:41:55,900
get the reports but don't actually do

00:41:54,099 --> 00:41:58,710
anything with them we tend to treat

00:41:55,900 --> 00:42:01,750
those things as a very high priority so

00:41:58,710 --> 00:42:03,520
responding to reports getting code

00:42:01,750 --> 00:42:08,319
fuzzers and scanners run against your

00:42:03,520 --> 00:42:10,569
code is a very very good thing so better

00:42:08,319 --> 00:42:13,780
hurry a little our relations with

00:42:10,569 --> 00:42:16,119
Microsoft so I don't know whether anyone

00:42:13,780 --> 00:42:19,480
read December for the Oh press release

00:42:16,119 --> 00:42:22,260
but we actually had a quote good old

00:42:19,480 --> 00:42:25,390
Thomas from the director of development

00:42:22,260 --> 00:42:27,579
of Windows Server now he's not actually

00:42:25,390 --> 00:42:29,680
praising Sam before I mean he was trying

00:42:27,579 --> 00:42:31,510
his best goddammit his marketing people

00:42:29,680 --> 00:42:33,910
would only let him go so far you know

00:42:31,510 --> 00:42:35,710
he's he's praising the fact that their

00:42:33,910 --> 00:42:39,819
interoperability labs helped us develop

00:42:35,710 --> 00:42:43,000
it which is true absolutely true but the

00:42:39,819 --> 00:42:45,569
idea of getting an official quote from

00:42:43,000 --> 00:42:48,280
Microsoft for a free software release I

00:42:45,569 --> 00:42:51,490
mean I'm just staggered by that

00:42:48,280 --> 00:42:54,010
especially is the most time in the past

00:42:51,490 --> 00:42:57,760
I've been to Brussels more often for

00:42:54,010 --> 00:42:59,890
lawsuits than I have the faucet so so

00:42:57,760 --> 00:43:02,619
the change in in getting that from

00:42:59,890 --> 00:43:09,309
Microsoft I think is very positive very

00:43:02,619 --> 00:43:12,160
helpful and on an engineering basis you

00:43:09,309 --> 00:43:13,930
know essentially every year we hang out

00:43:12,160 --> 00:43:15,790
at the Red Robin in Redmond eating

00:43:13,930 --> 00:43:17,740
burgers together so from an engineering

00:43:15,790 --> 00:43:19,450
point of view we get on with Microsoft

00:43:17,740 --> 00:43:20,890
extremely well we still have a little

00:43:19,450 --> 00:43:22,809
trouble with their legal and marketing

00:43:20,890 --> 00:43:26,650
people sometimes but hopefully that will

00:43:22,809 --> 00:43:28,450
hopefully that will change so yes I'm

00:43:26,650 --> 00:43:30,010
actually quite positive and confident

00:43:28,450 --> 00:43:31,559
about that things are getting really

00:43:30,010 --> 00:43:35,770
going really well

00:43:31,559 --> 00:43:38,680
so what could go wrong what really

00:43:35,770 --> 00:43:40,839
worries me and that's just a such a

00:43:38,680 --> 00:43:43,530
wonderful quote because they really are

00:43:40,839 --> 00:43:45,750
inside the code and they're gonna get us

00:43:43,530 --> 00:43:47,830
so

00:43:45,750 --> 00:43:49,630
there are things that worry me about the

00:43:47,830 --> 00:43:50,950
future of Samba and you know I'm gonna

00:43:49,630 --> 00:43:52,110
be honest and I'm gonna have to help

00:43:50,950 --> 00:43:55,870
with those

00:43:52,110 --> 00:43:58,870
so there's posix on the edge of the rift

00:43:55,870 --> 00:44:01,660
going maybe and there Samba running well

00:43:58,870 --> 00:44:05,040
beyond it going looking for the Acme

00:44:01,660 --> 00:44:08,530
parachute which we know isn't gonna work

00:44:05,040 --> 00:44:10,480
we now have requirements that are way

00:44:08,530 --> 00:44:13,240
way beyond the file systems

00:44:10,480 --> 00:44:16,270
that Linux and POSIX will provide we

00:44:13,240 --> 00:44:18,070
need durable handles we need direct

00:44:16,270 --> 00:44:20,670
releasing handles these are actually

00:44:18,070 --> 00:44:23,080
some of the same things that nfsv4 needs

00:44:20,670 --> 00:44:25,540
but essentially what we're out there in

00:44:23,080 --> 00:44:27,820
the wilds chopping down you know the

00:44:25,540 --> 00:44:30,250
underbrush to try and clear away to get

00:44:27,820 --> 00:44:33,340
some standards working on Linux because

00:44:30,250 --> 00:44:35,560
these are the things that file systems

00:44:33,340 --> 00:44:38,410
and you know proprietary enterprise

00:44:35,560 --> 00:44:40,240
solutions are selling to people and so

00:44:38,410 --> 00:44:42,700
we have to have those to Linux has to

00:44:40,240 --> 00:44:44,830
have those things you know for file

00:44:42,700 --> 00:44:47,460
systems for enterprise storage we have

00:44:44,830 --> 00:44:50,500
to have this level of failover

00:44:47,460 --> 00:44:53,590
reliability and right now our standards

00:44:50,500 --> 00:44:55,180
just don't cut it and it's hard to get

00:44:53,590 --> 00:44:57,190
new things into the Linux kernel and of

00:44:55,180 --> 00:44:59,710
course the other fear is that you know

00:44:57,190 --> 00:45:01,600
there's going off the edge and standing

00:44:59,710 --> 00:45:02,950
there at the back is BSD because they

00:45:01,600 --> 00:45:04,900
haven't implemented some of the things

00:45:02,950 --> 00:45:11,760
that linux has we don't want to become a

00:45:04,900 --> 00:45:18,340
linux only project code complex today

00:45:11,760 --> 00:45:19,660
it's complicated now now if trigger if

00:45:18,340 --> 00:45:21,160
treated came out of retirement that

00:45:19,660 --> 00:45:23,490
might then be one person who understood

00:45:21,160 --> 00:45:28,240
they can code fully but without that

00:45:23,490 --> 00:45:30,010
this just was a bunch of guys and it's

00:45:28,240 --> 00:45:32,860
too complex for any one person to fully

00:45:30,010 --> 00:45:35,080
understand I mean I am fearless I will

00:45:32,860 --> 00:45:37,750
put bugs into any part of the code in

00:45:35,080 --> 00:45:40,120
Samba right but I don't always know what

00:45:37,750 --> 00:45:42,760
I'm doing I'm confident in the file

00:45:40,120 --> 00:45:44,860
server I would be very pushed to fix

00:45:42,760 --> 00:45:48,910
bugs in the ad controller or some of the

00:45:44,860 --> 00:45:49,390
LDAP code so we need more people to work

00:45:48,910 --> 00:45:51,910
on it

00:45:49,390 --> 00:45:53,950
we need more subject matter specialists

00:45:51,910 --> 00:45:58,590
we need more experts in various areas of

00:45:53,950 --> 00:45:58,590
the code it's a complicated Beast now

00:45:58,770 --> 00:46:04,680
and it's getting bigger and then of

00:46:01,500 --> 00:46:06,210
course I'm gonna leave you a little time

00:46:04,680 --> 00:46:09,859
to read that it's probably the best deal

00:46:06,210 --> 00:46:09,859
but I've read in a very long time

00:46:09,890 --> 00:46:14,309
together we can strangle innovation and

00:46:12,540 --> 00:46:16,500
plunge civilization back into the dark

00:46:14,309 --> 00:46:20,130
ages a better description of software

00:46:16,500 --> 00:46:22,859
patents I have yet to read so of course

00:46:20,130 --> 00:46:25,380
this is a problem for all software but

00:46:22,859 --> 00:46:28,430
particularly free software because their

00:46:25,380 --> 00:46:32,160
code is out there and people can see and

00:46:28,430 --> 00:46:34,680
I don't know whether you've noticed but

00:46:32,160 --> 00:46:37,190
a war has started or begun the patent

00:46:34,680 --> 00:46:40,530
wars have to do my Yoda impression

00:46:37,190 --> 00:46:43,440
they've all started suing each other and

00:46:40,530 --> 00:46:45,329
and you know any free software project

00:46:43,440 --> 00:46:49,049
could end up as collateral damage in

00:46:45,329 --> 00:46:53,480
this really really ugly war that's going

00:46:49,049 --> 00:46:55,980
on between the Giants and you know

00:46:53,480 --> 00:46:58,200
remember a corporation as simon phipps

00:46:55,980 --> 00:46:59,790
once marvelously said you can't argue

00:46:58,200 --> 00:47:02,160
ethics with a corporation it's like

00:46:59,790 --> 00:47:03,869
talking to a dog you know a corporation

00:47:02,160 --> 00:47:06,839
is machine is a machine for making money

00:47:03,869 --> 00:47:08,280
it doesn't understand right or wrong and

00:47:06,839 --> 00:47:09,540
there's only the people within it and if

00:47:08,280 --> 00:47:10,859
they do something that doesn't make the

00:47:09,540 --> 00:47:14,940
corporation enough money they get

00:47:10,859 --> 00:47:18,740
replaced so software patents are just a

00:47:14,940 --> 00:47:21,690
terrible terrible idea and you know as

00:47:18,740 --> 00:47:23,309
dogbert cleverly points out we can

00:47:21,690 --> 00:47:27,450
plunge civilization into the dark ages

00:47:23,309 --> 00:47:29,520
so we do we do have a choice on that you

00:47:27,450 --> 00:47:31,200
know we're doing this to ourselves and

00:47:29,520 --> 00:47:32,520
maybe actually have invited the people

00:47:31,200 --> 00:47:36,329
in the legal tract to come and listen to

00:47:32,520 --> 00:47:40,849
this part so and i think i finished

00:47:36,329 --> 00:47:40,849
perfectly on time whoo so yes question

00:47:44,690 --> 00:47:50,539
some third-party software needs scheme

00:47:47,839 --> 00:47:53,059
extensions are those supported that's on

00:47:50,539 --> 00:47:56,319
some before sorry some third-party

00:47:53,059 --> 00:47:58,849
software needs schema extensions

00:47:56,319 --> 00:48:01,010
directory yes I believe you can do that

00:47:58,849 --> 00:48:02,900
you can you can update the schema in

00:48:01,010 --> 00:48:05,410
Samba for active directory see more

00:48:02,900 --> 00:48:08,359
correct me if I'm wrong but yes so

00:48:05,410 --> 00:48:10,339
please any windows software that works

00:48:08,359 --> 00:48:12,109
against active directory please testily

00:48:10,339 --> 00:48:14,839
understand before if it doesn't work

00:48:12,109 --> 00:48:27,530
it's a bug and we've to work on it any

00:48:14,839 --> 00:48:29,210
other questions I might as well it's

00:48:27,530 --> 00:48:31,910
still possible to have an open l the

00:48:29,210 --> 00:48:33,680
backend for the Sun before server so the

00:48:31,910 --> 00:48:36,020
question is is it still possible to have

00:48:33,680 --> 00:48:38,210
an open LDAP back into the Samba for no

00:48:36,020 --> 00:48:41,869
I'm sorry it's not as high as I

00:48:38,210 --> 00:48:44,270
mentioned before that essentially would

00:48:41,869 --> 00:48:45,740
have been the integration piece and we

00:48:44,270 --> 00:48:46,940
would have needed many changes in the

00:48:45,740 --> 00:48:49,490
open LDAP back-end

00:48:46,940 --> 00:48:52,309
now I would like us to be able to do

00:48:49,490 --> 00:48:53,539
that but that is as I said something

00:48:52,309 --> 00:48:56,180
that right now we don't have budget

00:48:53,539 --> 00:48:58,099
staffing or time for so if people are

00:48:56,180 --> 00:48:59,690
interested in that I would love to work

00:48:58,099 --> 00:49:00,260
with the open LDAP people to make that

00:48:59,690 --> 00:49:03,170
happen

00:49:00,260 --> 00:49:07,880
but I don't have the time to do that ok

00:49:03,170 --> 00:49:10,549
any one more thing don't suppose you're

00:49:07,880 --> 00:49:12,829
in the mixed environment using Microsoft

00:49:10,549 --> 00:49:15,500
and open-source products and you're

00:49:12,829 --> 00:49:18,410
slowly replacing the Microsoft products

00:49:15,500 --> 00:49:19,789
by summer products AHA and eventually

00:49:18,410 --> 00:49:21,680
you'll find yourself in a completely

00:49:19,789 --> 00:49:24,319
open source environment uh-huh

00:49:21,680 --> 00:49:26,839
just using sanma what with the value be

00:49:24,319 --> 00:49:28,849
and keep using Samba at that point

00:49:26,839 --> 00:49:31,480
instead of replacing it with something

00:49:28,849 --> 00:49:34,430
that's maybe better suited for certain

00:49:31,480 --> 00:49:37,730
bodies when the virus is taken over the

00:49:34,430 --> 00:49:39,500
host do you still need the virus no

00:49:37,730 --> 00:49:42,500
that's a good way to put it absolutely

00:49:39,500 --> 00:49:45,859
no once you have a completely free and

00:49:42,500 --> 00:49:47,960
open infrastructure using proprietary

00:49:45,859 --> 00:49:50,510
and weirdly complex variants on

00:49:47,960 --> 00:49:51,950
protocols is probably a bad idea and you

00:49:50,510 --> 00:49:55,849
should probably move to standards-based

00:49:51,950 --> 00:49:57,440
ones good luck all right and with that I

00:49:55,849 --> 00:49:58,309
think I better finish I'm run out of

00:49:57,440 --> 00:50:01,180
time thank you

00:49:58,309 --> 00:50:01,180

YouTube URL: https://www.youtube.com/watch?v=lUIBv4p_zH4


