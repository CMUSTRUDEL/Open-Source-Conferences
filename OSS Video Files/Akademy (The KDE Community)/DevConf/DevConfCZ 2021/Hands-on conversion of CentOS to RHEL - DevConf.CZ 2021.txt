Title: Hands-on conversion of CentOS to RHEL - DevConf.CZ 2021
Publication date: 2021-03-15
Playlist: DevConfCZ 2021
Description: 
	Speaker: Michal Boček

In this lab we’ll walk you through converting your CentOS 8 systems to Red Hat Enterprise Linux 8 using an open-source conversion utility called Convert2RHEL. You will not only try the simplest one-command solution that does all the magic but also learn how to run this remotely through Ansible.

Ideally, before joining the workshop, do the following preparation:

    Install Vagrant on your system if you don't already have a CentOS system that you wish to convert (https://www.vagrantup.com/docs/installation). Run `vagrant init centos/8` and `vagrant up` to have the CentOS 8 image pre-downloaded (~900MB).
    Create a Red Hat Personal account through https://access.redhat.com/, or at least read through the Privacy Policy in advance (https://www.redhat.com/en/about/privacy-policy).
    Read through the Terms and Conditions of the Red Hat Developer Subscription for Individuals (https://developers.redhat.com/terms-and-conditions).
    Read through the Red Hat EULA which is neccessary to accept before proceeding with the conversion of CentOS to Red Hat Enterprise Linux (https://www.redhat.com/licenses/Red_Hat_GPLv2-Based_EULA_20191118.pdf).

Slides: https://docs.google.com/presentation/d/e/2PACX-1vR8kjcJteGjInISuuRbDzYn3qKIpYVoehEgkyXRLKiklQ3jCTJajZt6HwCujIMGAQ/pub?start=false



Schedule: https://sched.co/gmSe
Captions: 
	00:00:01,199 --> 00:00:04,880
my name is michal bocek and i work for

00:00:03,919 --> 00:00:08,240
redhead

00:00:04,880 --> 00:00:11,759
and i take care of mainly

00:00:08,240 --> 00:00:15,360
the development of the utility called

00:00:11,759 --> 00:00:18,640
convert drill i'll talk about it

00:00:15,360 --> 00:00:21,680
just in a second but firstly

00:00:18,640 --> 00:00:24,880
let me uh start with this

00:00:21,680 --> 00:00:27,840
thing so this this workshop

00:00:24,880 --> 00:00:31,760
uh is going to walk you through

00:00:27,840 --> 00:00:35,280
converting a centos 8 system

00:00:31,760 --> 00:00:38,320
and for those who haven't prepared for

00:00:35,280 --> 00:00:41,600
4 days please

00:00:38,320 --> 00:00:44,320
get your centos 8 machine

00:00:41,600 --> 00:00:46,000
started or download it right now so

00:00:44,320 --> 00:00:48,559
because

00:00:46,000 --> 00:00:49,520
this vagrant setup this vagrant box has

00:00:48,559 --> 00:00:52,800
00:00:49,520 --> 00:00:57,120
megabytes so it can take a while to

00:00:52,800 --> 00:01:01,440
download and yeah if you have your

00:00:57,120 --> 00:01:05,519
centos machine ready that's even better

00:01:01,440 --> 00:01:09,439
so i hope you all have

00:01:05,519 --> 00:01:12,640
vagrant installed um

00:01:09,439 --> 00:01:15,759
i tried to send an email

00:01:12,640 --> 00:01:18,240
to all of you all the participants who

00:01:15,759 --> 00:01:18,880
marked that they are gonna join this

00:01:18,240 --> 00:01:23,280
session

00:01:18,880 --> 00:01:26,000
so uh yeah please try to

00:01:23,280 --> 00:01:26,720
if you haven't read that try to install

00:01:26,000 --> 00:01:29,680
baygrand

00:01:26,720 --> 00:01:30,320
on your system and then do these two

00:01:29,680 --> 00:01:33,360
steps

00:01:30,320 --> 00:01:37,520
vagrant init centos slash eight

00:01:33,360 --> 00:01:42,240
and wake run up and this way it's gonna

00:01:37,520 --> 00:01:42,240
start downloading the vagrant image

00:01:43,680 --> 00:01:50,640
so what is convert rel it is an

00:01:46,960 --> 00:01:51,840
open source utility uh beef open sourced

00:01:50,640 --> 00:01:56,159
it's

00:01:51,840 --> 00:02:00,079
in 2019 and this utility

00:01:56,159 --> 00:02:04,079
allows you to migrate

00:02:00,079 --> 00:02:08,720
your centos and or oracle linux

00:02:04,079 --> 00:02:11,840
system to the retail enterprise linux

00:02:08,720 --> 00:02:13,760
it's as simple as that there's nothing

00:02:11,840 --> 00:02:18,959
more to it

00:02:13,760 --> 00:02:18,959
and this is just visualized

00:02:19,840 --> 00:02:26,560
how it works so yeah you have the centos

00:02:23,840 --> 00:02:28,160
or oracle linux system you use use the

00:02:26,560 --> 00:02:31,440
convert to rail utility

00:02:28,160 --> 00:02:34,840
you'll use it today and

00:02:31,440 --> 00:02:37,760
you are brought to the redhead

00:02:34,840 --> 00:02:40,720
ecosystem you you get the redhead

00:02:37,760 --> 00:02:40,720
enterprise linux

00:02:44,239 --> 00:02:50,720
nikola can you please pause the poll oh

00:02:47,680 --> 00:02:52,319
if it's not there already yeah so there

00:02:50,720 --> 00:02:56,000
is a poll

00:02:52,319 --> 00:02:59,440
you can you can answer if you are

00:02:56,000 --> 00:03:01,920
going to convert your own center system

00:02:59,440 --> 00:03:02,879
or if you are just starting up the

00:03:01,920 --> 00:03:07,040
vagrant box

00:03:02,879 --> 00:03:10,159
i suggest it or if you have

00:03:07,040 --> 00:03:13,040
oracle linux instead of centos prepared

00:03:10,159 --> 00:03:13,040
for the conversion

00:03:14,319 --> 00:03:18,480
and so here i'll tell you about the

00:03:17,360 --> 00:03:22,480
steps what's

00:03:18,480 --> 00:03:25,519
what the utility does so

00:03:22,480 --> 00:03:28,799
once you start uh started execute it

00:03:25,519 --> 00:03:32,239
uh it analyzes the system it

00:03:28,799 --> 00:03:36,239
checks whether it's even possible

00:03:32,239 --> 00:03:38,959
using this utility then it uh

00:03:36,239 --> 00:03:40,720
it checks if you have some third-party

00:03:38,959 --> 00:03:43,840
packages installed

00:03:40,720 --> 00:03:46,480
and if so it will tell you that these

00:03:43,840 --> 00:03:49,840
are not going to be

00:03:46,480 --> 00:03:53,280
converted the utility

00:03:49,840 --> 00:03:56,720
converts on only those packages that are

00:03:53,280 --> 00:04:01,439
signed by the original system vendor

00:03:56,720 --> 00:04:05,599
that is either by centos or oracle

00:04:01,439 --> 00:04:08,720
and it's a it gets the list of the

00:04:05,599 --> 00:04:09,680
rail repositories that are needed for

00:04:08,720 --> 00:04:13,360
the conversion

00:04:09,680 --> 00:04:16,400
then the convert part

00:04:13,360 --> 00:04:17,440
it removes some excluded packages these

00:04:16,400 --> 00:04:21,440
are those

00:04:17,440 --> 00:04:24,880
that we know that cause some conflicts

00:04:21,440 --> 00:04:27,600
uh so we we remove them beforehand

00:04:24,880 --> 00:04:31,040
you you are warned about that and you

00:04:27,600 --> 00:04:34,479
can stop the conversion before

00:04:31,040 --> 00:04:37,520
it continues if you don't like that

00:04:34,479 --> 00:04:40,560
and then we install

00:04:37,520 --> 00:04:43,120
the subscription related packages

00:04:40,560 --> 00:04:44,800
because red hat enterprise linux

00:04:43,120 --> 00:04:48,560
requires a

00:04:44,800 --> 00:04:51,520
subscription and then it subscribes

00:04:48,560 --> 00:04:54,080
the system and starts replacing all the

00:04:51,520 --> 00:04:54,080
packages

00:04:54,160 --> 00:05:01,840
and then once the packages are replaced

00:04:58,400 --> 00:05:04,880
uh you are asked to reboot the system

00:05:01,840 --> 00:05:05,759
uh just to to ensure that you are booted

00:05:04,880 --> 00:05:10,320
into the

00:05:05,759 --> 00:05:15,120
newly installed url kernel

00:05:10,320 --> 00:05:18,479
and let's get to next slide

00:05:15,120 --> 00:05:22,080
so where does the tool takes the

00:05:18,479 --> 00:05:25,120
red hat enterprise linux packages from

00:05:22,080 --> 00:05:29,600
it depends what you choose there are two

00:05:25,120 --> 00:05:32,720
possibilities you you can either

00:05:29,600 --> 00:05:35,600
use custom repositories uh

00:05:32,720 --> 00:05:37,600
that means that you it's on your it's

00:05:35,600 --> 00:05:41,919
your responsibility to

00:05:37,600 --> 00:05:45,680
get the rel repositories from somewhere

00:05:41,919 --> 00:05:48,960
you can for example download the dvd

00:05:45,680 --> 00:05:52,720
iso image and mount it

00:05:48,960 --> 00:05:53,600
or you may have already some rail system

00:05:52,720 --> 00:05:55,520
installed

00:05:53,600 --> 00:05:57,039
that system already has access to the

00:05:55,520 --> 00:06:00,479
rail repos

00:05:57,039 --> 00:06:02,800
and you can repossync them uh and copy

00:06:00,479 --> 00:06:05,680
them to

00:06:02,800 --> 00:06:06,720
to a lo to have them available locally

00:06:05,680 --> 00:06:09,680
on the on the

00:06:06,720 --> 00:06:11,360
centos system or you can make them

00:06:09,680 --> 00:06:15,360
available through

00:06:11,360 --> 00:06:19,840
web server or ftp server and so on

00:06:15,360 --> 00:06:22,880
so that is the more let's say more

00:06:19,840 --> 00:06:24,080
difficult approach but the easier one is

00:06:22,880 --> 00:06:27,919
to use

00:06:24,080 --> 00:06:30,720
the redhead subscription manager

00:06:27,919 --> 00:06:32,639
and we'll be using that today on our

00:06:30,720 --> 00:06:35,759
workshop

00:06:32,639 --> 00:06:36,880
and through the subscription manager you

00:06:35,759 --> 00:06:40,880
can connect

00:06:36,880 --> 00:06:44,319
by default to the red hat cdn

00:06:40,880 --> 00:06:47,360
or for companies who have a

00:06:44,319 --> 00:06:48,400
larger set of machines they need to to

00:06:47,360 --> 00:06:52,720
manage

00:06:48,400 --> 00:06:55,919
they usually use red hat satellite

00:06:52,720 --> 00:06:58,400
six server and

00:06:55,919 --> 00:06:59,039
yeah that's also the the possibility to

00:06:58,400 --> 00:07:03,280
use

00:06:59,039 --> 00:07:05,599
for the conversion so

00:07:03,280 --> 00:07:06,639
here i'm just going to note that there

00:07:05,599 --> 00:07:09,599
is a

00:07:06,639 --> 00:07:11,599
that the utility implement has

00:07:09,599 --> 00:07:15,039
implemented

00:07:11,599 --> 00:07:19,840
a basic rollback

00:07:15,039 --> 00:07:22,080
capability and this rollback

00:07:19,840 --> 00:07:24,479
if if there is any failure during the

00:07:22,080 --> 00:07:27,199
conversion

00:07:24,479 --> 00:07:29,120
it reverts all the actions that the

00:07:27,199 --> 00:07:32,720
utility has taken

00:07:29,120 --> 00:07:35,840
but only up up to so-called

00:07:32,720 --> 00:07:37,360
point of no return and the tool warns

00:07:35,840 --> 00:07:40,479
you about this point of no

00:07:37,360 --> 00:07:44,080
point of no return and this point

00:07:40,479 --> 00:07:46,960
is right before replacing all

00:07:44,080 --> 00:07:46,960
of the packages

00:07:47,360 --> 00:07:55,520
and uh yeah just mentioning

00:07:50,800 --> 00:07:56,240
here that the users are expected to have

00:07:55,520 --> 00:07:59,440
a

00:07:56,240 --> 00:08:01,680
complete system backup

00:07:59,440 --> 00:08:04,479
before running running the tool before

00:08:01,680 --> 00:08:04,479
the conversion

00:08:05,840 --> 00:08:12,960
so here we get to how uh how to

00:08:09,280 --> 00:08:14,160
how to get the rel subscription which is

00:08:12,960 --> 00:08:17,919
necessary

00:08:14,160 --> 00:08:21,520
uh for running red hat enterprise linux

00:08:17,919 --> 00:08:25,039
so in this workshop we'll be

00:08:21,520 --> 00:08:27,039
using or talking about the no cost

00:08:25,039 --> 00:08:28,800
redhead developer subscription for

00:08:27,039 --> 00:08:32,000
individuals

00:08:28,800 --> 00:08:35,360
and this subscription is

00:08:32,000 --> 00:08:38,719
for for any individual it's not for

00:08:35,360 --> 00:08:42,399
for companies organizations and so on

00:08:38,719 --> 00:08:45,600
but anyone who's who joined the session

00:08:42,399 --> 00:08:49,360
today so basically anyone can can

00:08:45,600 --> 00:08:51,839
get this subscription at no cost

00:08:49,360 --> 00:08:53,040
and with this subscription you can

00:08:51,839 --> 00:08:57,120
subscribe and

00:08:53,040 --> 00:09:00,320
receive updates for up to 16

00:08:57,120 --> 00:09:04,800
systems you get no

00:09:00,320 --> 00:09:09,760
support from red hat itself self support

00:09:04,800 --> 00:09:14,399
and we will now get to

00:09:09,760 --> 00:09:18,720
how to how to create a redhead account

00:09:14,399 --> 00:09:22,160
with the associated subscription

00:09:18,720 --> 00:09:25,920
so i'm just gonna check if

00:09:22,160 --> 00:09:27,920
anyone has replied to the poll

00:09:25,920 --> 00:09:30,800
probably not or maybe i'm just not

00:09:27,920 --> 00:09:30,800
seeing the results

00:09:31,040 --> 00:09:36,880
so creating the redhead account which is

00:09:36,000 --> 00:09:40,080
necessary

00:09:36,880 --> 00:09:45,839
for getting the subscription

00:09:40,080 --> 00:09:48,640
so please go to the access.redhead.com

00:09:45,839 --> 00:09:51,279
and click on the the figure out icon in

00:09:48,640 --> 00:09:54,880
the top right corner

00:09:51,279 --> 00:10:05,839
and now i can probably

00:09:54,880 --> 00:10:05,839
show you that live

00:10:07,519 --> 00:10:12,240
so opening access.redhead.com clicking

00:10:10,800 --> 00:10:16,839
on the

00:10:12,240 --> 00:10:19,200
uh figure icon and clicking on

00:10:16,839 --> 00:10:22,560
register

00:10:19,200 --> 00:10:23,600
this will get you to a form which you

00:10:22,560 --> 00:10:28,880
need to fill in

00:10:23,600 --> 00:10:28,880
i'll give you some time to fill it out

00:10:29,200 --> 00:10:35,360
maybe you can yeah

00:10:32,560 --> 00:10:37,279
i'll give you just some time so please

00:10:35,360 --> 00:10:40,959
choose the personal account

00:10:37,279 --> 00:10:43,519
um it's uh it's the one that we need if

00:10:40,959 --> 00:10:47,279
we want to get the

00:10:43,519 --> 00:10:51,920
developer subscription for individuals

00:10:47,279 --> 00:10:57,040
and yeah i'll just give you some time

00:10:51,920 --> 00:11:01,839
in the meantime i will log into

00:10:57,040 --> 00:11:01,839
my already created personal account

00:11:49,040 --> 00:11:55,440
okay q a definitely let me check

00:11:52,320 --> 00:11:58,560
the question is there

00:11:55,440 --> 00:12:01,279
any plan to offer centos replacement for

00:11:58,560 --> 00:12:01,279
enterprise

00:12:02,240 --> 00:12:08,320
something like self support or whatever

00:12:05,279 --> 00:12:11,920
so actually the

00:12:08,320 --> 00:12:14,399
um subscription i talked about

00:12:11,920 --> 00:12:18,240
the no cost red hat developer

00:12:14,399 --> 00:12:18,240
subscription for individuals

00:12:18,560 --> 00:12:25,760
you can use it in in production

00:12:21,920 --> 00:12:28,800
as well given but only in case you have

00:12:25,760 --> 00:12:32,240
16 servers

00:12:28,800 --> 00:12:34,000
or less so this is not for

00:12:32,240 --> 00:12:36,000
so when you talk about enterprise you

00:12:34,000 --> 00:12:37,680
probably mean a bigger company not just

00:12:36,000 --> 00:12:40,800
16 servers

00:12:37,680 --> 00:12:44,240
and in that case you need

00:12:40,800 --> 00:12:46,079
if you want to run rel you need to

00:12:44,240 --> 00:12:48,800
buy the subscriptions the regular

00:12:46,079 --> 00:12:51,440
subscriptions

00:12:48,800 --> 00:12:53,360
but yeah otherwise i i don't think there

00:12:51,440 --> 00:12:56,560
is anything provided

00:12:53,360 --> 00:12:56,560
at least by red hat

00:13:04,160 --> 00:13:12,160
so i i'll give you one

00:13:07,360 --> 00:13:12,160
more minute for complete the account

00:13:18,839 --> 00:13:21,839
creation

00:13:40,320 --> 00:13:47,199
all right so i hope you

00:13:44,000 --> 00:13:50,399
have all created the the account

00:13:47,199 --> 00:13:54,320
that you locked are logged in

00:13:50,399 --> 00:13:57,839
and now let's let's go to the

00:13:54,320 --> 00:14:01,839
subscription page uh under the

00:13:57,839 --> 00:14:04,959
redhead customer portal that is the web

00:14:01,839 --> 00:14:07,839
website access.redhead.com

00:14:04,959 --> 00:14:10,639
and click on the subscription in the top

00:14:07,839 --> 00:14:10,639
left corner

00:14:11,360 --> 00:14:15,360
what we just need to do now is to get is

00:14:14,480 --> 00:14:19,360
to create

00:14:15,360 --> 00:14:21,920
a so-called activation key

00:14:19,360 --> 00:14:24,399
through which we will subscribe the

00:14:21,920 --> 00:14:24,399
system

00:14:25,519 --> 00:14:32,240
so here you can

00:14:29,040 --> 00:14:36,320
click on manage and under manage

00:14:32,240 --> 00:14:36,320
you get to activation keys

00:14:37,199 --> 00:14:43,199
and i actually already have the demo key

00:14:40,240 --> 00:14:44,880
here i will just remove it and create it

00:14:43,199 --> 00:14:48,160
once again so please

00:14:44,880 --> 00:14:52,639
create a new activation key you have

00:14:48,160 --> 00:14:56,480
you have none so far as a new user

00:14:52,639 --> 00:14:59,920
so click on the new activation key

00:14:56,480 --> 00:15:02,720
you can name it as a demo key ideally

00:14:59,920 --> 00:15:05,120
that's what what i use in the subsequent

00:15:02,720 --> 00:15:08,560
steps

00:15:05,120 --> 00:15:11,199
and don't forget to check this

00:15:08,560 --> 00:15:12,000
this subscription red hat developer

00:15:11,199 --> 00:15:16,639
subscription

00:15:12,000 --> 00:15:20,160
for individuals you can leave the rest

00:15:16,639 --> 00:15:20,160
as it is by default

00:15:24,560 --> 00:15:30,079
okay so considering you have the demo

00:15:28,240 --> 00:15:33,360
key created

00:15:30,079 --> 00:15:36,959
please note uh this

00:15:33,360 --> 00:15:39,680
this sorry organization id we will need

00:15:36,959 --> 00:15:43,360
this organization id

00:15:39,680 --> 00:15:46,800
in further steps it's it's unique for

00:15:43,360 --> 00:15:48,959
for each of you so just copy and paste

00:15:46,800 --> 00:15:54,160
it somewhere and we'll use it

00:15:48,959 --> 00:15:56,880
in a while

00:15:54,160 --> 00:15:58,560
i'll give you a couple of seconds to

00:15:56,880 --> 00:16:02,240
catch up

00:15:58,560 --> 00:16:06,240
it's hard to tell without

00:16:02,240 --> 00:16:09,440
direct connection with the audience

00:16:06,240 --> 00:16:11,120
how far you are

00:16:09,440 --> 00:16:12,560
maybe you can just tell me in the chat

00:16:11,120 --> 00:16:23,839
if i'm too too

00:16:12,560 --> 00:16:23,839
fast or too slow

00:16:46,880 --> 00:16:55,279
okay so i will move on to

00:16:51,519 --> 00:16:55,279
the terminal and uh

00:16:55,600 --> 00:16:59,040
let's uh let's get to uh the way ground

00:16:58,560 --> 00:17:02,240
box

00:16:59,040 --> 00:17:02,800
so i will consider the the pro that

00:17:02,240 --> 00:17:05,360
you've

00:17:02,800 --> 00:17:06,240
taken the approach of using the vagrant

00:17:05,360 --> 00:17:09,199
box

00:17:06,240 --> 00:17:10,880
i will actually i have already done the

00:17:09,199 --> 00:17:16,079
vagrant init

00:17:10,880 --> 00:17:16,079
so let me just go to the

00:17:16,319 --> 00:17:19,839
right folder

00:17:22,400 --> 00:17:28,720
and uh i so i'm in the folder where i've

00:17:26,480 --> 00:17:33,760
done the vagrant in it

00:17:28,720 --> 00:17:38,160
as i thought in the first step and

00:17:33,760 --> 00:17:42,559
right now i will just uh do vagrant up

00:17:38,160 --> 00:17:42,559
so it will okay

00:17:43,280 --> 00:17:48,000
probably i haven't done regular vagrant

00:17:46,720 --> 00:17:50,480
in it

00:17:48,000 --> 00:17:51,440
here yet so i'll do it do it the same

00:17:50,480 --> 00:17:54,640
way as you

00:17:51,440 --> 00:17:58,080
okay right here and in it vagrant

00:17:54,640 --> 00:18:01,840
up so vegan on top will start the

00:17:58,080 --> 00:18:01,840
the vm virtual machine

00:18:06,000 --> 00:18:09,840
that should take just a couple of

00:18:12,840 --> 00:18:19,440
seconds

00:18:15,440 --> 00:18:22,960
this is gonna be just the totally clean

00:18:19,440 --> 00:18:26,320
vm i think

00:18:22,960 --> 00:18:26,320
prepared for for us

00:18:27,200 --> 00:18:34,720
so i'll run vagrant ssh

00:18:31,200 --> 00:18:34,720
which will get us to the

00:18:35,039 --> 00:18:39,520
to the virtual machine we are logged in

00:18:38,160 --> 00:18:42,559
as a vagrant user

00:18:39,520 --> 00:18:46,080
so we will need actually the

00:18:42,559 --> 00:18:47,280
the root root privileges so let me just

00:18:46,080 --> 00:18:50,880
run

00:18:47,280 --> 00:18:54,840
sudo dash i to get

00:18:50,880 --> 00:18:58,080
lokiness root and

00:18:54,840 --> 00:19:00,400
now we need to install convert to rel

00:18:58,080 --> 00:19:02,960
that's actually just one of the two

00:19:00,400 --> 00:19:05,919
two steps to run convert to rail is the

00:19:02,960 --> 00:19:10,960
first is to download

00:19:05,919 --> 00:19:11,679
the package and actually i need to copy

00:19:10,960 --> 00:19:15,039
that from

00:19:11,679 --> 00:19:24,000
some other place because this

00:19:15,039 --> 00:19:27,679
gives me a broken command

00:19:24,000 --> 00:19:32,160
okay yum install and you can see that we

00:19:27,679 --> 00:19:35,200
currently host the packages in github

00:19:32,160 --> 00:19:37,600
um and yeah that's just

00:19:35,200 --> 00:19:39,840
where we have the latest release at the

00:19:37,600 --> 00:19:39,840
moment

00:19:57,919 --> 00:20:04,880
so okay convert rail is installed

00:20:01,360 --> 00:20:08,559
and right now we need to run

00:20:04,880 --> 00:20:12,159
convert rail to start the conversion

00:20:08,559 --> 00:20:15,919
so i will let you give you a couple of

00:20:12,159 --> 00:20:16,799
seconds to to have the convert rail

00:20:15,919 --> 00:20:19,120
installed

00:20:16,799 --> 00:20:21,200
maybe you struggled with copying copying

00:20:19,120 --> 00:20:35,840
and pasting this this command

00:20:21,200 --> 00:20:35,840
same as i so

00:20:46,840 --> 00:20:49,840
okay

00:20:50,480 --> 00:20:56,720
and in the meantime

00:20:53,600 --> 00:21:01,600
i'm already preparing this command

00:20:56,720 --> 00:21:04,320
to to run convert to rel so

00:21:01,600 --> 00:21:06,320
you can also copy paste this this this

00:21:04,320 --> 00:21:09,760
command from from the slides

00:21:06,320 --> 00:21:11,360
uh i hope you have them available

00:21:09,760 --> 00:21:15,679
available

00:21:11,360 --> 00:21:16,000
um i if you if you don't see the slides

00:21:15,679 --> 00:21:19,520
i

00:21:16,000 --> 00:21:22,720
made the link available

00:21:19,520 --> 00:21:27,679
through the description of the workshop

00:21:22,720 --> 00:21:27,679
but i can paste the link also here

00:21:28,159 --> 00:21:31,840
to the chat

00:21:34,480 --> 00:21:38,240
so you can copy and paste the convert

00:21:36,880 --> 00:21:41,360
url command

00:21:38,240 --> 00:21:45,200
so the first parameter or option

00:21:41,360 --> 00:21:48,159
is the is the activation key we named it

00:21:45,200 --> 00:21:48,559
demo underscore key the second one is

00:21:48,159 --> 00:21:51,280
the

00:21:48,559 --> 00:21:53,200
o that's that stands for the

00:21:51,280 --> 00:21:56,559
organization id

00:21:53,200 --> 00:22:01,280
that's the id i told you to

00:21:56,559 --> 00:22:04,559
to make to copy when creating the

00:22:01,280 --> 00:22:07,360
activation key i'll get back to it

00:22:04,559 --> 00:22:07,360
it's this one

00:22:08,559 --> 00:22:16,080
and you have your own unique one

00:22:12,400 --> 00:22:19,120
so we just use that one and i'm

00:22:16,080 --> 00:22:21,520
also using the debug option

00:22:19,120 --> 00:22:22,880
that will just give us more outputs

00:22:21,520 --> 00:22:26,080
including

00:22:22,880 --> 00:22:30,000
what commands are running under the

00:22:26,080 --> 00:22:30,000
under the hood during the conversion

00:22:30,480 --> 00:22:34,240
and actually yeah

00:22:34,640 --> 00:22:40,400
so i don't see

00:22:38,000 --> 00:22:42,960
any comments so i'm gonna just run the

00:22:40,400 --> 00:22:46,000
the command

00:22:42,960 --> 00:22:48,559
to start with the conversion so

00:22:46,000 --> 00:22:49,360
first you are presented with the end

00:22:48,559 --> 00:22:53,039
user

00:22:49,360 --> 00:22:56,240
license agreement so

00:22:53,039 --> 00:22:59,280
by continuing just uh you you accept

00:22:56,240 --> 00:22:59,280
the agreement

00:23:02,240 --> 00:23:05,600
again i sent in the email beforehand

00:23:05,120 --> 00:23:07,840
that

00:23:05,600 --> 00:23:09,600
uh also also in the the event

00:23:07,840 --> 00:23:12,640
description that

00:23:09,600 --> 00:23:16,480
this uh euro is necessary

00:23:12,640 --> 00:23:21,360
to read through and

00:23:16,480 --> 00:23:24,880
accept so i'll try to go ahead i hope

00:23:21,360 --> 00:23:26,080
you you've done that or the other way is

00:23:24,880 --> 00:23:30,640
to just accept

00:23:26,080 --> 00:23:30,640
without reading it so i'm gonna hit yes

00:23:31,200 --> 00:23:39,280
and now it checks the system

00:23:35,120 --> 00:23:39,280
if it's supported by the tool

00:23:40,880 --> 00:23:46,480
and now it tells us what

00:23:44,080 --> 00:23:48,480
third-party packages are installed on

00:23:46,480 --> 00:23:50,080
the system

00:23:48,480 --> 00:23:52,240
right now it detects only the

00:23:50,080 --> 00:23:55,600
convertorial tool

00:23:52,240 --> 00:23:58,799
it's not signed by this centos

00:23:55,600 --> 00:24:00,640
gpg key so it considers it as a third

00:23:58,799 --> 00:24:04,400
party

00:24:00,640 --> 00:24:08,000
and also i should mention

00:24:04,400 --> 00:24:11,520
that um if you use

00:24:08,000 --> 00:24:16,159
the regular red hat subscription

00:24:11,520 --> 00:24:20,159
for a rail upon converting the system

00:24:16,159 --> 00:24:22,559
uh the the resulting rail system

00:24:20,159 --> 00:24:24,559
is automatically eligible for red hat

00:24:22,559 --> 00:24:26,400
support

00:24:24,559 --> 00:24:28,080
this is not the case with the developer

00:24:26,400 --> 00:24:32,240
subscription

00:24:28,080 --> 00:24:32,799
because that comes with no support but

00:24:32,240 --> 00:24:36,320
just

00:24:32,799 --> 00:24:39,440
uh i wanted to tell you that because

00:24:36,320 --> 00:24:41,039
here is the sentence that red hat

00:24:39,440 --> 00:24:46,480
support won't be provided

00:24:41,039 --> 00:24:50,559
for third-party packages okay

00:24:46,480 --> 00:24:54,720
so right now it starts to download

00:24:50,559 --> 00:25:01,840
the subscription manager necessary for

00:24:54,720 --> 00:25:01,840
subscribing the system

00:25:13,279 --> 00:25:17,440
and i'll make the window bigger

00:25:21,840 --> 00:25:28,720
and now it starts to subscribing the

00:25:26,840 --> 00:25:31,520
system

00:25:28,720 --> 00:25:32,240
using using what those options we

00:25:31,520 --> 00:25:35,200
provided

00:25:32,240 --> 00:25:43,840
that means the activation key and the

00:25:35,200 --> 00:25:43,840
organization id

00:25:44,799 --> 00:25:52,960
this usually takes couple of seconds

00:25:48,640 --> 00:25:52,960
contacts the redhead subscription

00:25:54,840 --> 00:25:57,840
servers

00:26:17,600 --> 00:26:22,000
in the meantime if you have any other

00:26:19,279 --> 00:26:25,679
questions and i can see

00:26:22,000 --> 00:26:27,120
another question in the q a so any plan

00:26:25,679 --> 00:26:30,400
to create low-cost

00:26:27,120 --> 00:26:34,559
self-support option for businesses

00:26:30,400 --> 00:26:34,559
to replace santos with with rel

00:26:35,440 --> 00:26:42,000
so the only uh

00:26:38,559 --> 00:26:46,320
the only thing i i know of right now

00:26:42,000 --> 00:26:49,039
is the subscription we are using now

00:26:46,320 --> 00:26:52,320
that's the no cost one and i'm not

00:26:49,039 --> 00:26:54,880
really sure about the future

00:26:52,320 --> 00:26:56,720
subscription possibilities that that

00:26:54,880 --> 00:27:00,320
will come

00:26:56,720 --> 00:27:03,360
the low cost ones that's

00:27:00,320 --> 00:27:06,400
not not released not not available

00:27:03,360 --> 00:27:09,760
at the at the moment so i can't

00:27:06,400 --> 00:27:10,320
tell sorry yeah we just use the no cost

00:27:09,760 --> 00:27:13,679
one

00:27:10,320 --> 00:27:21,840
it gives you subscription for

00:27:13,679 --> 00:27:21,840
up to 16 servers at no cost

00:27:35,600 --> 00:27:44,399
so in the meantime i will scroll up

00:27:39,840 --> 00:27:48,799
the system got subscribed and

00:27:44,399 --> 00:27:52,320
let me scroll up so

00:27:48,799 --> 00:27:55,520
yeah we got subscribed

00:27:52,320 --> 00:27:58,960
and now the sub

00:27:55,520 --> 00:28:02,000
the convert rail enables

00:27:58,960 --> 00:28:04,720
the the right repositories it

00:28:02,000 --> 00:28:05,919
detected that we need these two

00:28:04,720 --> 00:28:09,039
repositories

00:28:05,919 --> 00:28:12,640
rail 8 base os and app stream

00:28:09,039 --> 00:28:16,480
they got enabled and

00:28:12,640 --> 00:28:20,159
now there are some packages that

00:28:16,480 --> 00:28:23,919
are to be removed they are mainly

00:28:20,159 --> 00:28:25,120
centos only related so here we need to

00:28:23,919 --> 00:28:31,840
agree with

00:28:25,120 --> 00:28:34,399
those packages being removed

00:28:31,840 --> 00:28:36,080
now the packages actually those that are

00:28:34,399 --> 00:28:38,399
to be removed are first

00:28:36,080 --> 00:28:40,960
downloaded that's for the case of the

00:28:38,399 --> 00:28:45,039
rollback i talked about

00:28:40,960 --> 00:28:48,080
so if anything fails now

00:28:45,039 --> 00:28:59,840
those removed packages would be

00:28:48,080 --> 00:28:59,840
installed back

00:29:04,000 --> 00:29:08,559
right so now we hit the point of no

00:29:07,679 --> 00:29:10,799
return

00:29:08,559 --> 00:29:12,880
that is after this point all the

00:29:10,799 --> 00:29:17,039
packages

00:29:12,880 --> 00:29:20,080
are to be replaced so let's hit yes

00:29:17,039 --> 00:29:22,559
and first is the

00:29:20,080 --> 00:29:22,559
kernel

00:29:23,679 --> 00:29:30,720
and then and the rest

00:29:26,880 --> 00:29:32,399
so now now it's gonna take a couple of

00:29:30,720 --> 00:29:34,880
minutes to

00:29:32,399 --> 00:29:37,360
replace all the packages so in the

00:29:34,880 --> 00:29:40,080
meantime

00:29:37,360 --> 00:29:41,840
let me switch to the slides and i'll

00:29:40,080 --> 00:29:46,240
tell you

00:29:41,840 --> 00:29:51,279
how to how to run convert rel

00:29:46,240 --> 00:29:54,559
with with ansible non-interactively

00:29:51,279 --> 00:29:55,200
in an automated fashion but before that

00:29:54,559 --> 00:29:58,559
i want to

00:29:55,200 --> 00:29:59,840
just mention that there is currently a

00:29:58,559 --> 00:30:02,880
gap

00:29:59,840 --> 00:30:03,120
in in the utility functionality and that

00:30:02,880 --> 00:30:08,159
is

00:30:03,120 --> 00:30:12,399
uefi so if your system is based on

00:30:08,159 --> 00:30:14,799
uefi after the conversion you need to do

00:30:12,399 --> 00:30:18,080
couple of manual steps

00:30:14,799 --> 00:30:21,279
so that you can reboot without

00:30:18,080 --> 00:30:22,559
without a problem so those interested

00:30:21,279 --> 00:30:26,240
can go

00:30:22,559 --> 00:30:28,399
to this link and uh i'll get to the

00:30:26,240 --> 00:30:30,399
ansible

00:30:28,399 --> 00:30:32,480
and we don't have much time so i'll

00:30:30,399 --> 00:30:32,960
probably just talk you through that and

00:30:32,480 --> 00:30:36,480
you can

00:30:32,960 --> 00:30:40,320
probably try that it uh

00:30:36,480 --> 00:30:41,279
on on your own so this is the simplest

00:30:40,320 --> 00:30:44,799
way

00:30:41,279 --> 00:30:45,760
um at least from my point of view the

00:30:44,799 --> 00:30:48,480
simplest

00:30:45,760 --> 00:30:49,360
way how to use ansible to run convert

00:30:48,480 --> 00:30:52,480
rel

00:30:49,360 --> 00:30:55,760
so this is the playbook

00:30:52,480 --> 00:30:58,960
and uh it's basically the same what

00:30:55,760 --> 00:31:00,080
we have done manually so the first is to

00:30:58,960 --> 00:31:03,360
install convert

00:31:00,080 --> 00:31:06,480
rail through yama and

00:31:03,360 --> 00:31:10,080
this yeah this is the same url we

00:31:06,480 --> 00:31:13,120
we used before and

00:31:10,080 --> 00:31:15,440
then we run this the same command the

00:31:13,120 --> 00:31:19,519
only difference here is the

00:31:15,440 --> 00:31:22,880
dash y option the dash y option

00:31:19,519 --> 00:31:26,480
just answers yes to all questions

00:31:22,880 --> 00:31:29,360
you could see in in the demo that

00:31:26,480 --> 00:31:30,720
i was hitting yes manually to couple of

00:31:29,360 --> 00:31:34,080
questions

00:31:30,720 --> 00:31:38,039
so yeah using this dash

00:31:34,080 --> 00:31:39,760
y uh the the conversion runs

00:31:38,039 --> 00:31:42,080
non-interactively

00:31:39,760 --> 00:31:44,640
until the end until the system is is

00:31:42,080 --> 00:31:44,640
converted

00:31:45,600 --> 00:31:49,919
and uh then you need to tweak the

00:31:48,799 --> 00:31:52,960
vagrant file

00:31:49,919 --> 00:31:56,080
uh also a bit so it depends when

00:31:52,960 --> 00:31:59,039
how you want to run the ansible playbook

00:31:56,080 --> 00:31:59,919
but because we we have used uh the

00:31:59,039 --> 00:32:02,320
vagrant box

00:31:59,919 --> 00:32:02,320
setup

00:32:03,120 --> 00:32:09,519
so i just added a couple of lines to the

00:32:07,360 --> 00:32:12,559
vagrant file which is

00:32:09,519 --> 00:32:16,080
what you what you have in

00:32:12,559 --> 00:32:16,960
the folder in which you you run vagrant

00:32:16,080 --> 00:32:19,760
in it

00:32:16,960 --> 00:32:22,960
the vagrant file has been automatically

00:32:19,760 --> 00:32:27,360
created you just need to edit it

00:32:22,960 --> 00:32:31,279
and yeah paste this content there

00:32:27,360 --> 00:32:35,519
it just means that we are adding a new

00:32:31,279 --> 00:32:38,720
provisioning set up for the conversion

00:32:35,519 --> 00:32:42,240
running the convert rel yaml

00:32:38,720 --> 00:32:45,519
that's the playbook we created

00:32:42,240 --> 00:32:49,840
uh well in this previous step

00:32:45,519 --> 00:32:49,840
is convert to reliable with this content

00:32:50,559 --> 00:32:54,480
and then you just run vagrant up with

00:32:53,039 --> 00:32:57,919
this

00:32:54,480 --> 00:33:01,840
the option provision with conversion

00:32:57,919 --> 00:33:05,840
that's this this name conversion and

00:33:01,840 --> 00:33:05,840
yet that's gonna do the thing for you

00:33:07,360 --> 00:33:11,360
and let me just see whether the

00:33:10,000 --> 00:33:15,200
conversion

00:33:11,360 --> 00:33:19,519
what's the state of that at the moment

00:33:15,200 --> 00:33:19,519
so if i scroll up

00:33:19,840 --> 00:33:24,640
yeah we are currently replacing the

00:33:23,519 --> 00:33:28,080
packages

00:33:24,640 --> 00:33:30,399
so it's still gonna take a couple more

00:33:28,080 --> 00:33:33,919
minutes

00:33:30,399 --> 00:33:37,440
and uh we've got six minutes so

00:33:33,919 --> 00:33:40,559
i will go further um

00:33:37,440 --> 00:33:43,840
if if you see any issue with the tool

00:33:40,559 --> 00:33:44,720
during the testing of of yours or if you

00:33:43,840 --> 00:33:47,200
see how

00:33:44,720 --> 00:33:49,679
it could be improved you would be really

00:33:47,200 --> 00:33:53,760
glad if you contribute

00:33:49,679 --> 00:33:57,200
and uh i can see

00:33:53,760 --> 00:33:59,919
neil is uh uh on

00:33:57,200 --> 00:34:03,760
on this workshop so thank you neil

00:33:59,919 --> 00:34:03,760
you've already contributed and

00:34:04,080 --> 00:34:11,359
yeah i'm looking at the chat okay

00:34:08,000 --> 00:34:12,159
uh so here's the github repository you

00:34:11,359 --> 00:34:15,760
can

00:34:12,159 --> 00:34:17,280
contribute to the python code is is

00:34:15,760 --> 00:34:20,720
pretty easy to underst

00:34:17,280 --> 00:34:23,919
understand i believe and uh

00:34:20,720 --> 00:34:27,599
yeah the team who works on this tool is

00:34:23,919 --> 00:34:30,639
is welcoming to to everyone

00:34:27,599 --> 00:34:33,200
and i i would say pretty responsive

00:34:30,639 --> 00:34:34,960
at least we try to to be as much as

00:34:33,200 --> 00:34:38,480
possible

00:34:34,960 --> 00:34:41,520
and i've got a price for you so if you

00:34:38,480 --> 00:34:45,440
create a full request in that uh

00:34:41,520 --> 00:34:48,000
repository and uh adding the label

00:34:45,440 --> 00:34:49,839
defconf or maybe just mentioning it in

00:34:48,000 --> 00:34:52,800
in the description

00:34:49,839 --> 00:34:54,159
uh and you you do that contribution

00:34:52,800 --> 00:34:57,200
until the end of

00:34:54,159 --> 00:35:00,880
march uh we will send you

00:34:57,200 --> 00:35:03,839
a t-shirt with convert rel

00:35:00,880 --> 00:35:03,839
theme

00:35:04,560 --> 00:35:12,800
next slide yeah there is a link to

00:35:09,760 --> 00:35:13,440
discussions on github if you have any

00:35:12,800 --> 00:35:16,880
question

00:35:13,440 --> 00:35:20,560
after the workshop just just ask there

00:35:16,880 --> 00:35:21,200
and you can definitely report a bug or

00:35:20,560 --> 00:35:24,720
request

00:35:21,200 --> 00:35:29,599
a feature you do you do that through

00:35:24,720 --> 00:35:33,520
again github through the github issues

00:35:29,599 --> 00:35:36,640
and if you file a back report please

00:35:33,520 --> 00:35:37,040
attach the log file that's going to help

00:35:36,640 --> 00:35:40,720
us

00:35:37,040 --> 00:35:44,320
a lot because the log file

00:35:40,720 --> 00:35:47,760
contains actually all the outputs that

00:35:44,320 --> 00:35:53,359
you can also see on uh on the terminal

00:35:47,760 --> 00:35:53,359
uh when when you run run the two

00:35:53,520 --> 00:35:58,720
and uh that's it from me i will

00:35:59,599 --> 00:36:04,480
just show show the output of the the

00:36:02,160 --> 00:36:07,599
conversion

00:36:04,480 --> 00:36:07,599
on the background and

00:36:07,760 --> 00:36:14,800
now is the q a time so any questions

00:36:11,280 --> 00:36:18,880
you can just ask for the permission to

00:36:14,800 --> 00:36:20,640
to share the audio and you can ask right

00:36:18,880 --> 00:36:23,200
away

00:36:20,640 --> 00:36:27,839
using microphone or even in the chat if

00:36:23,200 --> 00:36:27,839
you want

00:36:43,280 --> 00:36:47,760
yeah i can see that the conversion is

00:36:46,480 --> 00:36:51,280
gonna take

00:36:47,760 --> 00:36:55,680
a couple more minutes uh

00:36:51,280 --> 00:37:00,079
but i believe it's gonna finish

00:36:55,680 --> 00:37:00,079
until the end of the workshop hopefully

00:37:05,440 --> 00:37:12,480
and yeah there is a new key

00:37:08,720 --> 00:37:15,599
question in the q a has to be the pr

00:37:12,480 --> 00:37:18,960
merged to get the t-shirt or just

00:37:15,599 --> 00:37:23,200
any pr is rewarded oh

00:37:18,960 --> 00:37:25,839
i believe that any pr

00:37:23,200 --> 00:37:26,320
created will eventually get get merged

00:37:25,839 --> 00:37:30,400
we

00:37:26,320 --> 00:37:34,079
we can just make it work together

00:37:30,400 --> 00:37:37,839
so the answer would be

00:37:34,079 --> 00:37:37,839
any pr you create

00:37:38,000 --> 00:37:41,920
and i i hope you're not gonna create

00:37:39,920 --> 00:37:45,040
just some random

00:37:41,920 --> 00:37:48,560
change that that makes uh

00:37:45,040 --> 00:37:48,560
no sense but yeah

00:37:48,839 --> 00:37:51,839
and

00:38:09,119 --> 00:38:16,400
and about the low cost uh subscriptions

00:38:14,000 --> 00:38:18,560
i would just uh reiterate that this

00:38:16,400 --> 00:38:22,240
please

00:38:18,560 --> 00:38:25,760
stay you can you you can

00:38:22,240 --> 00:38:30,079
follow the news from red hat i believe

00:38:25,760 --> 00:38:33,119
uh maybe the redhead blog

00:38:30,079 --> 00:38:35,200
probably can be the

00:38:33,119 --> 00:38:37,440
the right uh the right place to look at

00:38:35,200 --> 00:38:41,040
maybe the redhead twitter

00:38:37,440 --> 00:38:44,000
i i'm sure that uh redhead is looking

00:38:41,040 --> 00:38:46,640
for a new ways how to allow

00:38:44,000 --> 00:38:48,640
uh bigger businesses who that have more

00:38:46,640 --> 00:38:52,160
than 16 servers

00:38:48,640 --> 00:38:55,200
to to get subscription

00:38:52,160 --> 00:38:58,240
uh as a let's say alternative

00:38:55,200 --> 00:39:01,920
to send centos eight

00:38:58,240 --> 00:39:08,000
and uh yeah so just

00:39:01,920 --> 00:39:08,000

YouTube URL: https://www.youtube.com/watch?v=TO5lk1XeI0A


