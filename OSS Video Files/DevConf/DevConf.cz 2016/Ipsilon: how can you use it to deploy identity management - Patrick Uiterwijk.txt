Title: Ipsilon: how can you use it to deploy identity management - Patrick Uiterwijk
Publication date: 2016-02-11
Playlist: DevConf.cz 2016
Description: 
	I have been a main contributor for the Ipsilon project for a long time, and would like to show people what it can do, and how they can use it to implement federated identities at their websites and APIs.
I will give a live demonstration of how to deploy it and set it up with one or two applications, and the new features.

The project is located on https://fedorahosted.org/ipsilon/.
Captions: 
	00:00:29,300 --> 00:00:32,679
you can use force

00:01:17,650 --> 00:01:23,800
in the start it's great good

00:01:28,940 --> 00:01:32,350
Cameron

00:01:30,350 --> 00:01:32,350
Oh

00:01:49,880 --> 00:01:53,210
it's easy

00:01:57,050 --> 00:01:59,050
Oh

00:02:14,410 --> 00:02:26,230
hello everyone its sound free posters if

00:02:20,090 --> 00:02:29,450
you want when you come during the

00:02:26,230 --> 00:02:32,750
presentation please close the door as

00:02:29,450 --> 00:02:35,800
quietly as possible if you want wait

00:02:32,750 --> 00:02:42,470
seasons you can visit this link and

00:02:35,800 --> 00:02:47,420
please tweet about right blog post posts

00:02:42,470 --> 00:02:50,000
about conference of course and I should

00:02:47,420 --> 00:02:55,130
promote a grand finale at the end

00:02:50,000 --> 00:03:00,760
espresso this conference at sixteen

00:02:55,130 --> 00:03:13,040
thirty at the 105 and now please welcome

00:03:00,760 --> 00:03:16,959
Patrick with epsilon hi yeah I'm Patrick

00:03:13,040 --> 00:03:20,510
a drive software engineer dreaded and I

00:03:16,959 --> 00:03:23,720
wanted to tell something quick about a

00:03:20,510 --> 00:03:26,060
project I've been working on with some

00:03:23,720 --> 00:03:34,850
of the people in this room simo and Rob

00:03:26,060 --> 00:03:37,010
mostly for Federation so they a very

00:03:34,850 --> 00:03:39,320
short introduction to what is Federation

00:03:37,010 --> 00:03:42,709
because probably most of you have

00:03:39,320 --> 00:03:45,290
already seen a live instance of it if

00:03:42,709 --> 00:03:47,720
you have a lot of services running for

00:03:45,290 --> 00:03:50,720
example you're a big company or like

00:03:47,720 --> 00:03:55,190
fedora you're a big project that has a

00:03:50,720 --> 00:03:56,870
lot of different services but you don't

00:03:55,190 --> 00:03:59,989
want everyone to have to create an

00:03:56,870 --> 00:04:02,260
account for every one of them that is

00:03:59,989 --> 00:04:06,380
where Federation comes in because you

00:04:02,260 --> 00:04:09,530
basically ask you add a service in

00:04:06,380 --> 00:04:12,320
between which acts as a proxy between

00:04:09,530 --> 00:04:15,050
the account system and services to

00:04:12,320 --> 00:04:18,400
authenticate users who here has is a

00:04:15,050 --> 00:04:18,400
thorough contributor

00:04:18,520 --> 00:04:25,490
yeah so if you ever used any of you

00:04:22,040 --> 00:04:28,760
through services you have used this with

00:04:25,490 --> 00:04:30,680
the logging system that you use to log

00:04:28,760 --> 00:04:33,110
into basically every service we run in

00:04:30,680 --> 00:04:40,550
fedora which is based by the way running

00:04:33,110 --> 00:04:44,060
on epsilon so normally with Federation

00:04:40,550 --> 00:04:46,870
you visit a website which wants you to

00:04:44,060 --> 00:04:49,610
login it redirects you back to the

00:04:46,870 --> 00:04:51,860
authentication system where you enter

00:04:49,610 --> 00:04:55,270
your username and password and after

00:04:51,860 --> 00:04:59,420
that you drop back to the application

00:04:55,270 --> 00:05:02,210
design verified by the earth by the

00:04:59,420 --> 00:05:09,410
authentication service and you are

00:05:02,210 --> 00:05:12,290
logged in to your account so epsilon is

00:05:09,410 --> 00:05:15,560
an implementation for that which has a

00:05:12,290 --> 00:05:20,810
lot of different protocols supported

00:05:15,560 --> 00:05:22,670
like sam'l 20 bloody persona which by

00:05:20,810 --> 00:05:25,610
the way is going to be aborted by

00:05:22,670 --> 00:05:29,840
Mozilla but we'll see how we deal with

00:05:25,610 --> 00:05:31,370
that and we are current I have a batch

00:05:29,840 --> 00:05:34,520
for open early connect and I'm just

00:05:31,370 --> 00:05:37,550
waiting for review from any of the other

00:05:34,520 --> 00:05:43,700
maintainers which we would do during

00:05:37,550 --> 00:05:45,980
DEFCON so at the back end it supports

00:05:43,700 --> 00:05:50,120
floor account system which is what

00:05:45,980 --> 00:05:53,210
probably most of you know Jesus API so

00:05:50,120 --> 00:05:56,600
kerberos authentication for single

00:05:53,210 --> 00:06:01,040
sign-on enterprise environments Pam so

00:05:56,600 --> 00:06:06,710
you can actually just use any module you

00:06:01,040 --> 00:06:12,190
can use in linux to log a user in you

00:06:06,710 --> 00:06:17,810
can use it to as an identity backend for

00:06:12,190 --> 00:06:21,470
epsilon and just plain ldap and well

00:06:17,810 --> 00:06:24,170
because we have ldap and Jesus API we

00:06:21,470 --> 00:06:27,170
also support IPA because that's just

00:06:24,170 --> 00:06:30,960
using both of those services

00:06:27,170 --> 00:06:33,600
and we even have a very simple way of

00:06:30,960 --> 00:06:38,610
setting it up and i'll try to show that

00:06:33,600 --> 00:06:41,370
later so for information it can get

00:06:38,610 --> 00:06:44,690
information for users from an LDAP

00:06:41,370 --> 00:06:47,700
directory or from the local SSD demon

00:06:44,690 --> 00:06:49,740
and that's just to provide the

00:06:47,700 --> 00:06:51,240
information because for example Pam

00:06:49,740 --> 00:06:54,120
modules don't provide any information

00:06:51,240 --> 00:06:55,920
about the users so you can use pam to

00:06:54,120 --> 00:06:58,290
authenticate and then ldap to actually

00:06:55,920 --> 00:07:04,170
get information about the user to

00:06:58,290 --> 00:07:07,470
provide to the service providers let me

00:07:04,170 --> 00:07:13,430
a few of the service provides that we've

00:07:07,470 --> 00:07:16,560
actually tested our get lab OpenStack

00:07:13,430 --> 00:07:19,620
basically this list we are very sure

00:07:16,560 --> 00:07:21,630
that they that does work all of the

00:07:19,620 --> 00:07:23,850
others should work if they confirm to

00:07:21,630 --> 00:07:26,460
the specification after protocols that

00:07:23,850 --> 00:07:31,500
we are using and I'm going to try to

00:07:26,460 --> 00:07:33,540
show these some of them in a bit so as I

00:07:31,500 --> 00:07:38,790
said we're currently working on open

00:07:33,540 --> 00:07:41,610
early connect we're trying to add some

00:07:38,790 --> 00:07:45,930
more api's because currently you can add

00:07:41,610 --> 00:07:47,820
a surf provide programmatically but we

00:07:45,930 --> 00:07:52,470
would also like to be able to modify

00:07:47,820 --> 00:07:54,750
them via API so you can all automate it

00:07:52,470 --> 00:07:58,740
within for example conflict management

00:07:54,750 --> 00:08:01,050
tools and we are currently busy on

00:07:58,740 --> 00:08:05,300
writing documentation and examples of

00:08:01,050 --> 00:08:08,790
how to set it up with various services

00:08:05,300 --> 00:08:12,360
so i can tell you that it does all of

00:08:08,790 --> 00:08:14,540
this let me now try to show you that it

00:08:12,360 --> 00:08:14,540
does

00:08:16,940 --> 00:08:31,940
let me see so one of the first ones dad

00:08:29,550 --> 00:08:38,700
I actually tested myself as Google Apps

00:08:31,940 --> 00:08:47,190
so this is a google apps domain let's

00:08:38,700 --> 00:08:49,550
see if the network are two cooperates do

00:08:47,190 --> 00:08:49,550
I need to

00:08:57,160 --> 00:09:01,330
doesn't look like the network this up

00:09:02,260 --> 00:09:24,550
yeah let's see if the sorry Deena's

00:09:14,150 --> 00:09:24,550
works now I need to access

00:09:44,680 --> 00:09:47,430
so

00:09:52,010 --> 00:09:58,340
this is a production it's one instance

00:09:55,610 --> 00:10:00,860
that I'm running for my family mostly

00:09:58,340 --> 00:10:11,720
and let's see if entered the puzzle

00:10:00,860 --> 00:10:13,570
correctly and there we go so you have

00:10:11,720 --> 00:10:22,340
now seen that this works with hip salam

00:10:13,570 --> 00:10:27,160
let's try another example another one is

00:10:22,340 --> 00:10:32,630
good lap which some of you might know

00:10:27,160 --> 00:10:36,050
and because I had already logged in at

00:10:32,630 --> 00:10:40,400
the other one it automatically and lock

00:10:36,050 --> 00:10:44,810
me into good lap as well let's try one

00:10:40,400 --> 00:10:49,070
of them were the example that I've been

00:10:44,810 --> 00:10:54,260
asked for a lot let's see if my vm

00:10:49,070 --> 00:11:01,330
spotted up ok I guess not did did the

00:10:54,260 --> 00:11:01,330
Vian's bird yeah did I

00:11:13,110 --> 00:11:25,010
I wonder if it even started everything

00:11:15,120 --> 00:11:25,010
it seems to shh did I okay

00:11:25,990 --> 00:11:40,600
okay so OpenStack some of you might

00:11:29,649 --> 00:11:41,920
notice connect let's see since this is

00:11:40,600 --> 00:11:45,220
an utter instant it did not

00:11:41,920 --> 00:11:47,080
automatically log me in because I wanted

00:11:45,220 --> 00:11:55,750
to at least have something in case all

00:11:47,080 --> 00:12:11,880
internet failed I don't care about

00:11:55,750 --> 00:12:24,279
certificates and it did not work oh yeah

00:12:11,880 --> 00:12:26,740
yeah okay so the last example or demo

00:12:24,279 --> 00:12:29,440
that I wanted to give and I hope that

00:12:26,740 --> 00:12:34,890
this one does work is basically

00:12:29,440 --> 00:12:34,890
demonstrating oh why doesn't it do you

00:12:35,850 --> 00:12:44,110
ok so I wanted to show how easy it is to

00:12:41,200 --> 00:12:46,300
set up it's wrong with just two single

00:12:44,110 --> 00:12:53,399
commands to set up both the server and

00:12:46,300 --> 00:12:56,399
the client in one go this is a shrewd

00:12:53,399 --> 00:12:56,399
identity

00:12:59,030 --> 00:13:10,020
I think I can I actually got learned of

00:13:03,510 --> 00:13:12,380
that way to go these are also in my

00:13:10,020 --> 00:13:15,210
slides but apparently dead didn't work

00:13:12,380 --> 00:13:18,150
just these two commands are everything

00:13:15,210 --> 00:13:25,260
you need to set up a epsilon server and

00:13:18,150 --> 00:13:33,120
a client so let me cut this into the

00:13:25,260 --> 00:13:36,450
server yeah that's the only thing I set

00:13:33,120 --> 00:13:39,000
up before is an IP a demon which this

00:13:36,450 --> 00:13:45,800
the identity server is a client officer

00:13:39,000 --> 00:13:45,800
of the IPS server the other one is not

00:13:49,820 --> 00:13:58,020
you can you can do either it the other

00:13:56,070 --> 00:13:59,760
one that i just showed your dad should

00:13:58,020 --> 00:14:04,440
have worked openstack was running on the

00:13:59,760 --> 00:14:12,960
same boxes the IPA machine so this

00:14:04,440 --> 00:14:18,690
installed epsilon HTTP do we start work

00:14:12,960 --> 00:14:20,960
yes so ello doesn't terrify a recession

00:14:18,690 --> 00:14:20,960
Christ

00:14:28,960 --> 00:14:49,480
what oh right did I use this wrong box

00:14:39,770 --> 00:14:49,480
for this test douse to wrong box

00:14:55,460 --> 00:15:01,770
yes which is what I just that again and

00:14:59,060 --> 00:15:09,690
I think I just blow blew away my

00:15:01,770 --> 00:15:15,810
OpenStack test well okay so yes you can

00:15:09,690 --> 00:15:21,200
install on the IPA server okay uh whose

00:15:15,810 --> 00:15:21,200
name host name

00:15:39,920 --> 00:15:45,050
yeah decision was crushed need

00:15:46,180 --> 00:15:53,880
ok now it's the server is running on the

00:15:49,510 --> 00:16:00,810
correct server and then we have a

00:15:53,880 --> 00:16:08,279
another server as H secret I'm very

00:16:00,810 --> 00:16:10,630
imaginative with names as you can see no

00:16:08,279 --> 00:16:13,110
copying across multiple lines isn't

00:16:10,630 --> 00:16:13,110
going to work

00:16:19,350 --> 00:16:22,889
which quoted

00:16:31,100 --> 00:16:37,920
sorry what I'm currently installing is

00:16:35,910 --> 00:16:40,649
the client which is authenticating death

00:16:37,920 --> 00:16:45,440
epsilon because what I just installed is

00:16:40,649 --> 00:16:49,350
the server so the part that is doing the

00:16:45,440 --> 00:16:51,510
user login and checking and this is the

00:16:49,350 --> 00:17:03,570
command to set up a server dad will

00:16:51,510 --> 00:17:12,290
authenticate against it sorry yeah not

00:17:03,570 --> 00:17:20,320
inclined in server we do I did

00:17:12,290 --> 00:17:24,700
and here i do use identity why is okay

00:17:20,320 --> 00:17:24,700
I'm messing up my server names all over

00:17:25,060 --> 00:17:35,990
identity so because i just reinstalled

00:17:33,740 --> 00:17:45,500
it i need to restart a cpt which I

00:17:35,990 --> 00:17:47,540
didn't so do Shh what ok so this command

00:17:45,500 --> 00:17:51,620
should be the only thing you need to do

00:17:47,540 --> 00:17:54,080
I probably messed up my server names and

00:17:51,620 --> 00:18:07,750
messed up my servers my testing

00:17:54,080 --> 00:18:10,130
instances in process I think so yeah

00:18:07,750 --> 00:18:15,590
that's what i said i think i'm messing

00:18:10,130 --> 00:18:27,680
up my server names fishing yeah admin

00:18:15,590 --> 00:18:31,760
password service HP restored sorry that

00:18:27,680 --> 00:18:35,350
was a password of an administrator that

00:18:31,760 --> 00:18:38,350
can add service providers to epsilon

00:18:35,350 --> 00:18:38,350
yeah

00:18:41,650 --> 00:18:54,760
I haven't set up any other admins so so

00:18:48,060 --> 00:19:03,030
yeah I index dot HTML my secret page I'm

00:18:54,760 --> 00:19:10,020
very imaginative so secret secret I

00:19:03,030 --> 00:19:13,300
don't care about your difficult yeah so

00:19:10,020 --> 00:19:17,830
now in forwarded me to Federation dot

00:19:13,300 --> 00:19:20,080
and I can i'm not sure if i set up a

00:19:17,830 --> 00:19:29,890
testing found here that's gonna try it

00:19:20,080 --> 00:19:31,810
and here we go my secret box so it just

00:19:29,890 --> 00:19:35,020
those two commands you can set up an

00:19:31,810 --> 00:19:40,800
entire epsilon server and client which

00:19:35,020 --> 00:19:40,800
authenticate against it and we actually

00:19:40,980 --> 00:19:51,340
yeah I have some is the this is crash

00:19:46,360 --> 00:19:53,710
but basically that was my demos I think

00:19:51,340 --> 00:19:55,390
on my slides you will see the same two

00:19:53,710 --> 00:20:00,600
commands listed but I can't go there

00:19:55,390 --> 00:20:00,600
right now are there any questions so far

00:20:02,600 --> 00:20:19,799
sure that's eight federation / ITP oh

00:20:14,000 --> 00:20:26,909
right right is it yes because we only

00:20:19,799 --> 00:20:33,210
allow https so a normal user would not

00:20:26,909 --> 00:20:36,750
see you'd come probably is basically the

00:20:33,210 --> 00:20:39,240
main page of epsilon of a older version

00:20:36,750 --> 00:20:45,080
the version that's currently in rel and

00:20:39,240 --> 00:20:47,039
sent West 7 you will have a

00:20:45,080 --> 00:20:49,649
administration button which is not

00:20:47,039 --> 00:20:54,000
visible to users obviously and then

00:20:49,649 --> 00:20:58,379
button to log out and administration

00:20:54,000 --> 00:21:02,460
will give you a nice overview of which

00:20:58,379 --> 00:21:06,240
part which plugins do and enable you to

00:21:02,460 --> 00:21:11,850
enable or disable specific plugins after

00:21:06,240 --> 00:21:14,820
installation with user 12 and for

00:21:11,850 --> 00:21:17,429
example for sam'l you can manage the

00:21:14,820 --> 00:21:19,649
list of service providers and as you see

00:21:17,429 --> 00:21:22,759
it automatically added the one that I

00:21:19,649 --> 00:21:22,759
just created here

00:21:25,799 --> 00:21:31,529
his own that situation you are using it

00:21:28,559 --> 00:21:37,830
is kind of web servers yeah and you use

00:21:31,529 --> 00:21:53,519
it ok service life isn't does the client

00:21:37,830 --> 00:21:57,480
side integrate with trip West yeah yeah

00:21:53,519 --> 00:22:06,649
usually the opposite axial I should work

00:21:57,480 --> 00:22:06,649
with not here because of the Wi-Fi I

00:22:42,979 --> 00:22:47,720
yeah and I wish I could have shown that

00:22:49,070 --> 00:23:00,840
so for more demos about it Celyn watch

00:22:52,609 --> 00:23:04,820
alice n versatile and one other thing if

00:23:00,840 --> 00:23:07,769
dad oh no I just blow away my Ottawa I

00:23:04,820 --> 00:23:11,099
was going to show something else on my

00:23:07,769 --> 00:23:16,919
other box but I blow that way so are

00:23:11,099 --> 00:23:22,549
there any other questions yes not and

00:23:16,919 --> 00:23:22,549
thank you for oh wait this be

00:23:36,900 --> 00:23:49,350
the question was how it compares to King

00:23:40,600 --> 00:23:49,350
clue yeah

00:25:40,730 --> 00:25:43,730
email

00:26:16,700 --> 00:26:20,600
if it's using some

00:26:23,370 --> 00:26:27,030
and it will for

00:26:30,909 --> 00:26:40,210
inflation is the pencil purely your

00:26:35,500 --> 00:26:40,210
nipples and administration needs

00:27:03,370 --> 00:27:06,150
this is

00:27:08,499 --> 00:27:11,499
so

00:27:43,409 --> 00:27:46,799
on your

00:28:06,490 --> 00:28:09,490
Oh

00:28:20,999 --> 00:28:27,739
were the across the fire box so you

00:28:24,899 --> 00:28:27,739
don't see all

00:28:33,929 --> 00:28:37,700
any further questions

00:28:52,750 --> 00:28:58,640
so this version of the setup process

00:28:56,559 --> 00:29:01,850
automatically use a local sqlite

00:28:58,640 --> 00:29:06,500
database if you pass on one extra

00:29:01,850 --> 00:29:09,610
argument dashdb dash URL you can

00:29:06,500 --> 00:29:12,530
actually just give a database server URL

00:29:09,610 --> 00:29:15,440
where it will then use those databases

00:29:12,530 --> 00:29:18,650
and then you can just put it on multiple

00:29:15,440 --> 00:29:21,340
servers put configure them to your sis

00:29:18,650 --> 00:29:26,390
in your databases and that should be it

00:29:21,340 --> 00:29:28,929
so the only change would be to to make

00:29:26,390 --> 00:29:31,929
it not use SQLite because that doesn't

00:29:28,929 --> 00:29:31,929
scale

00:29:38,950 --> 00:29:47,559
yeah you can use either dns round-robin

00:29:41,679 --> 00:29:52,019
or a chode proxy which is actually what

00:29:47,559 --> 00:29:52,019
we have live in flora infrastructure

00:29:58,230 --> 00:30:15,190
yeah I think few thousand authentication

00:30:12,190 --> 00:30:18,389
today I we have no exact numbers because

00:30:15,190 --> 00:30:21,010
we do not keep those logs because that

00:30:18,389 --> 00:30:28,059
secures def security sensitive

00:30:21,010 --> 00:30:30,309
information but quite a few and it's

00:30:28,059 --> 00:30:34,710
been working there for about a year now

00:30:30,309 --> 00:30:34,710
I think yeah

00:30:38,279 --> 00:30:49,229
okay yeah I don't know when we

00:30:41,129 --> 00:30:52,049
transitioned exactly and the other I'm

00:30:49,229 --> 00:30:55,249
not seeing any hands let's try it again

00:30:52,049 --> 00:30:55,249
thank you very much

00:31:28,620 --> 00:31:32,360
you've been worked on for quite a while

00:31:43,320 --> 00:31:53,380
yeah probably this week if you want to I

00:31:48,820 --> 00:31:56,100
can get from my card and we can get

00:31:53,380 --> 00:31:56,100
interested me

00:31:58,230 --> 00:32:01,230
welcome

00:32:01,770 --> 00:32:07,409
Patrick wanna say hello i'm rollin on

00:32:04,830 --> 00:32:12,779
the juice

00:32:07,409 --> 00:32:12,779
because he okay

00:32:13,299 --> 00:32:22,480
so you I remember your setup right yeah

00:32:18,200 --> 00:32:27,220
I remember seeing your name somewhere

00:32:22,480 --> 00:32:27,220
yeah that's awesome thank you very much

00:32:30,490 --> 00:32:37,190
I'm just for it swamp for the other

00:32:34,850 --> 00:32:41,840
things i'm in for infrastructure that's

00:32:37,190 --> 00:32:45,799
my main occupation by jokes jdub cuz i

00:32:41,840 --> 00:32:51,649
remember we set up the episode or yeah i

00:32:45,799 --> 00:32:54,649
probably set up a lot I don't worry is

00:32:51,649 --> 00:32:57,379
one of the three to Doris's admins

00:32:54,649 --> 00:33:00,399
basically so basically you set up most

00:32:57,379 --> 00:33:00,399
of the services yeah

00:33:08,909 --> 00:33:13,519
oh well thanks again sure

00:33:21,270 --> 00:33:25,550
um can I take a water bath

00:33:41,680 --> 00:33:48,460
it's so annoying that one of the most

00:33:45,560 --> 00:33:48,460
important demo

00:35:26,580 --> 00:35:29,150
the

00:35:34,559 --> 00:35:40,289
yeah okay you want to try

00:36:43,630 --> 00:36:48,070
my confirm that it is closely

00:36:51,030 --> 00:36:55,040
do you wanna say thank you fair enough

00:37:25,180 --> 00:37:28,180
ok

00:39:46,360 --> 00:39:51,160
I don't

00:39:49,290 --> 00:39:55,420
ok

00:39:51,160 --> 00:39:55,420
since it doesn't have you

00:40:14,490 --> 00:40:16,490
I

00:40:23,189 --> 00:40:26,189
because

00:40:43,480 --> 00:40:48,270
I need to check out there

00:40:45,270 --> 00:40:48,270
hey

00:45:19,530 --> 00:45:21,590

YouTube URL: https://www.youtube.com/watch?v=eBxRT0Dkfx0


