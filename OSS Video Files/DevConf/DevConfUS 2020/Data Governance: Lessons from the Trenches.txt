Title: Data Governance: Lessons from the Trenches
Publication date: 2020-10-06
Playlist: DevConfUS 2020
Description: 
	Speakers: Durga Chillakuru & Ricardo Oliveira

In a world that has become increasingly dependent on organization level data sharing and collaboration for decision making, it is of utmost importance that we ensure airtight security for our data. That's when Apache Ranger comes to the rescue.

Ranger is handy in designing and dictating security policies for Hadoop and its components. Ranger currently provides a centralised security administration, access control and detailed auditing for user access within the Hadoop, Hive, HBase and other Apache components. Also, Meta data these days, speak volumes about the data it encases. This is where we can harness the capabilities of Apache Atlas to work in tandem with Apache Ranger, to build a robust data governance policy for any organization.
Captions: 
	00:00:00,000 --> 00:00:03,040
um this talk has been moved from the

00:00:01,920 --> 00:00:05,200
system uh to

00:00:03,040 --> 00:00:06,160
this uh systems engineering and hardware

00:00:05,200 --> 00:00:08,080
channel

00:00:06,160 --> 00:00:09,760
uh it is on data governance uh the

00:00:08,080 --> 00:00:12,480
summary is in a world that has become

00:00:09,760 --> 00:00:13,759
increasingly dependent on organization

00:00:12,480 --> 00:00:16,240
level data sharing

00:00:13,759 --> 00:00:18,560
and collaboration for decision making is

00:00:16,240 --> 00:00:20,560
uh of utmost importance that we ensure

00:00:18,560 --> 00:00:22,320
airtight security for our data

00:00:20,560 --> 00:00:26,560
that's when apache ranger comes to the

00:00:22,320 --> 00:00:26,560
rescue so i'm going to share the

00:00:28,840 --> 00:00:45,840
presentation

00:00:30,480 --> 00:00:45,840
and i'm going to play the video

00:01:58,320 --> 00:02:01,840
sometimes things

00:02:02,159 --> 00:02:05,520
let me share a few things i learned

00:02:04,240 --> 00:02:09,119
about data governance

00:02:05,520 --> 00:02:09,119
from my time at red hut

00:02:09,599 --> 00:02:13,200
a brief introduction about myself i am

00:02:12,480 --> 00:02:15,360
durka

00:02:13,200 --> 00:02:16,480
i'm currently pursuing masters in

00:02:15,360 --> 00:02:19,599
computer science

00:02:16,480 --> 00:02:22,319
at northeastern university boston

00:02:19,599 --> 00:02:23,440
a little bit more about me i listen to a

00:02:22,319 --> 00:02:26,480
lot of music

00:02:23,440 --> 00:02:28,720
mostly stuff from my home country india

00:02:26,480 --> 00:02:29,760
but if it's something gooey i'll just go

00:02:28,720 --> 00:02:31,920
for it

00:02:29,760 --> 00:02:32,959
something else i also love doing is

00:02:31,920 --> 00:02:35,680
cooking

00:02:32,959 --> 00:02:36,879
and i'm also highly passionate about

00:02:35,680 --> 00:02:40,160
harnessing ai

00:02:36,879 --> 00:02:41,440
to solve game puzzles and that's a lot

00:02:40,160 --> 00:02:44,239
of talk about me

00:02:41,440 --> 00:02:44,239
let's move ahead

00:02:44,879 --> 00:02:51,920
the growing importance of data

00:02:48,879 --> 00:02:54,959
just a century back if you can recall

00:02:51,920 --> 00:02:56,080
the world was not as connected as we are

00:02:54,959 --> 00:02:59,519
today

00:02:56,080 --> 00:03:02,720
hence data was highly localized

00:02:59,519 --> 00:03:06,159
this also meant that we were never

00:03:02,720 --> 00:03:09,280
able to see any global patterns or

00:03:06,159 --> 00:03:12,560
emerging trends sometimes

00:03:09,280 --> 00:03:15,840
things that would deem quite obvious

00:03:12,560 --> 00:03:20,080
with a simple examination were used

00:03:15,840 --> 00:03:23,200
to arrive at divergent conclusions

00:03:20,080 --> 00:03:26,879
but this changed with the advent of

00:03:23,200 --> 00:03:27,440
internet now even even the vacuum

00:03:26,879 --> 00:03:29,280
cleaner

00:03:27,440 --> 00:03:31,680
at our homes are connected to the

00:03:29,280 --> 00:03:34,640
internet medical devices

00:03:31,680 --> 00:03:35,200
opinion polls and viewership data you

00:03:34,640 --> 00:03:37,360
name it

00:03:35,200 --> 00:03:39,040
and we can do something with the data we

00:03:37,360 --> 00:03:41,920
get from them

00:03:39,040 --> 00:03:42,879
this makes data a key player in our

00:03:41,920 --> 00:03:46,000
society

00:03:42,879 --> 00:03:49,599
and more importantly in any

00:03:46,000 --> 00:03:52,879
enterprise environment hence

00:03:49,599 --> 00:03:56,640
we need to ensure that data is

00:03:52,879 --> 00:03:58,239
consistent it is usable its integrity is

00:03:56,640 --> 00:04:01,280
not compromised

00:03:58,239 --> 00:04:02,319
and it is secure and also available to

00:04:01,280 --> 00:04:05,360
the right players

00:04:02,319 --> 00:04:06,720
at the right time this is crucial for

00:04:05,360 --> 00:04:11,360
shaping the direction

00:04:06,720 --> 00:04:11,360
in which any organization charts its

00:04:12,840 --> 00:04:18,479
goals

00:04:15,280 --> 00:04:20,720
sadly dilbert's strategy doesn't help at

00:04:18,479 --> 00:04:20,720
all

00:04:22,479 --> 00:04:29,280
so how do we do it then

00:04:25,919 --> 00:04:31,600
well data governance is the answer for

00:04:29,280 --> 00:04:31,600
that

00:04:36,720 --> 00:04:41,440
so there are a lot of ways to define

00:04:39,520 --> 00:04:43,520
data governance

00:04:41,440 --> 00:04:44,639
you can see one from the data governance

00:04:43,520 --> 00:04:47,759
institute right

00:04:44,639 --> 00:04:48,720
on the screen but for the sake of

00:04:47,759 --> 00:04:51,680
simplicity

00:04:48,720 --> 00:04:52,720
i would say data governance is nothing

00:04:51,680 --> 00:04:55,759
but the

00:04:52,720 --> 00:04:59,440
process of ensuring that

00:04:55,759 --> 00:05:03,199
the data is secure incorrect

00:04:59,440 --> 00:05:03,199
and available to the right players

00:05:04,560 --> 00:05:11,199
so where do we start today in terms of

00:05:08,160 --> 00:05:14,320
data governance

00:05:11,199 --> 00:05:17,120
we are at crossroads of sorts

00:05:14,320 --> 00:05:18,720
in terms of the progress we have made in

00:05:17,120 --> 00:05:22,080
securing data

00:05:18,720 --> 00:05:25,360
on one hand we have lost like gdpr

00:05:22,080 --> 00:05:28,560
and the california consumer privacy act

00:05:25,360 --> 00:05:32,240
whereas on the other hand we have highly

00:05:28,560 --> 00:05:35,199
controversial laws like the indian

00:05:32,240 --> 00:05:35,759
personal data protection bill that could

00:05:35,199 --> 00:05:38,639
result

00:05:35,759 --> 00:05:39,680
in a high level of state surveillance

00:05:38,639 --> 00:05:42,240
the introduction

00:05:39,680 --> 00:05:43,039
of gdpr was a turning point in the

00:05:42,240 --> 00:05:46,479
history

00:05:43,039 --> 00:05:48,240
of data governance although it pertained

00:05:46,479 --> 00:05:52,080
to the ui

00:05:48,240 --> 00:05:55,919
eu countries it sent ripples across the

00:05:52,080 --> 00:05:58,479
global community and set precedence for

00:05:55,919 --> 00:06:00,880
similar legislative frameworks across

00:05:58,479 --> 00:06:00,880
the world

00:06:02,560 --> 00:06:09,759
so these are the different type of

00:06:06,560 --> 00:06:12,080
data governance frameworks regulations

00:06:09,759 --> 00:06:15,199
that have been followed across the globe

00:06:12,080 --> 00:06:18,720
so a direct impact of the introduction

00:06:15,199 --> 00:06:22,240
of such regulations can be something

00:06:18,720 --> 00:06:25,280
as visible as the front you see

00:06:22,240 --> 00:06:26,160
on a website that lets us choose whether

00:06:25,280 --> 00:06:29,759
to accept

00:06:26,160 --> 00:06:32,800
cookies or not this gives the end user

00:06:29,759 --> 00:06:36,240
a choice of what information

00:06:32,800 --> 00:06:37,440
about him or her becomes available to

00:06:36,240 --> 00:06:40,560
the organization

00:06:37,440 --> 00:06:43,440
behind the website if we

00:06:40,560 --> 00:06:44,880
look at a larger picture the gdpr and

00:06:43,440 --> 00:06:48,080
similar laws

00:06:44,880 --> 00:06:51,360
forbid disclosure of identity of an

00:06:48,080 --> 00:06:54,639
individual user in many scenarios

00:06:51,360 --> 00:06:58,240
but for analytics and other purposes

00:06:54,639 --> 00:07:01,280
we still need figures this could be

00:06:58,240 --> 00:07:02,319
sales data usage patterns of some

00:07:01,280 --> 00:07:05,360
feature

00:07:02,319 --> 00:07:08,800
exercise data etc etc

00:07:05,360 --> 00:07:11,759
we use data governance features such as

00:07:08,800 --> 00:07:12,880
identity map access management single

00:07:11,759 --> 00:07:16,880
sign-on

00:07:12,880 --> 00:07:20,319
hello and denial lists etc to provide

00:07:16,880 --> 00:07:23,440
hierarchical level access to different

00:07:20,319 --> 00:07:23,440
players involved

00:07:25,360 --> 00:07:30,880
so this is the top um

00:07:28,639 --> 00:07:32,560
famous probably data breaches in the

00:07:30,880 --> 00:07:35,919
world

00:07:32,560 --> 00:07:39,919
the cost of equifax data breach

00:07:35,919 --> 00:07:42,400
was around 147 million dollars

00:07:39,919 --> 00:07:42,960
but over the past years there have been

00:07:42,400 --> 00:07:45,919
many

00:07:42,960 --> 00:07:46,960
large data breaches this is just a

00:07:45,919 --> 00:07:49,280
visualization

00:07:46,960 --> 00:07:50,319
showing the number of records affected

00:07:49,280 --> 00:07:54,400
by the five

00:07:50,319 --> 00:07:58,080
biggest ones it goes without a saying

00:07:54,400 --> 00:08:00,960
a compromise on enterprise data

00:07:58,080 --> 00:08:02,240
does not just affect the privacy of its

00:08:00,960 --> 00:08:05,599
customers

00:08:02,240 --> 00:08:06,960
it guarantees a pr health loss of

00:08:05,599 --> 00:08:09,759
credibility

00:08:06,960 --> 00:08:10,479
that results in shock waves that bring

00:08:09,759 --> 00:08:13,520
down the

00:08:10,479 --> 00:08:14,400
valuation of the company translating to

00:08:13,520 --> 00:08:17,919
a loss for

00:08:14,400 --> 00:08:19,360
investors and everyone associated with

00:08:17,919 --> 00:08:22,479
the company

00:08:19,360 --> 00:08:26,319
as of 2019 the average cost

00:08:22,479 --> 00:08:29,599
of a data breach was 3.9

00:08:26,319 --> 00:08:32,880
million dollars or an average of

00:08:29,599 --> 00:08:36,719
150 dollars per record

00:08:32,880 --> 00:08:40,159
and so it is of at most importance

00:08:36,719 --> 00:08:43,440
that we need to guard ourselves

00:08:40,159 --> 00:08:46,640
against such incidents

00:08:43,440 --> 00:08:48,720
today we are lucky to have

00:08:46,640 --> 00:08:50,480
some well-built data governance

00:08:48,720 --> 00:08:54,240
solutions out there

00:08:50,480 --> 00:08:56,320
that fit every single kind of business

00:08:54,240 --> 00:08:58,480
some of you might be familiar with these

00:08:56,320 --> 00:09:01,040
names but for those who don't know

00:08:58,480 --> 00:09:01,040
about these

00:09:01,760 --> 00:09:08,240
we have solutions from oh

00:09:04,800 --> 00:09:09,120
to that collibra ibm data governance

00:09:08,240 --> 00:09:13,200
solutions

00:09:09,120 --> 00:09:13,200
talent etc to name a few

00:09:14,000 --> 00:09:18,480
so how do we enforce effective data

00:09:16,959 --> 00:09:21,839
governance

00:09:18,480 --> 00:09:23,040
we'll concentrate on some robust open

00:09:21,839 --> 00:09:26,320
source solutions

00:09:23,040 --> 00:09:28,399
that are accessible to everyone mainly

00:09:26,320 --> 00:09:32,080
from apache

00:09:28,399 --> 00:09:35,360
these include apache ranger apache knox

00:09:32,080 --> 00:09:38,320
apache atlas apache sentry but

00:09:35,360 --> 00:09:38,959
specifically we will see how apache

00:09:38,320 --> 00:09:42,240
ranger

00:09:38,959 --> 00:09:45,680
and atlas can be used to build an

00:09:42,240 --> 00:09:48,800
effective data governance system for an

00:09:45,680 --> 00:09:50,880
enterprise nothing in depth but just a

00:09:48,800 --> 00:09:52,000
walkthrough about these two what these

00:09:50,880 --> 00:09:54,320
tools offer

00:09:52,000 --> 00:09:55,040
so that we are more conscious of what's

00:09:54,320 --> 00:09:57,600
available

00:09:55,040 --> 00:09:57,600
out there

00:09:59,680 --> 00:10:06,320
apache atlas so what is apache atlas

00:10:03,600 --> 00:10:07,120
apache atlas is a framework that

00:10:06,320 --> 00:10:09,720
provides

00:10:07,120 --> 00:10:11,279
data governance capabilities for

00:10:09,720 --> 00:10:14,079
organizations

00:10:11,279 --> 00:10:16,000
to build a catalog of their assets and

00:10:14,079 --> 00:10:19,279
also classify them

00:10:16,000 --> 00:10:22,079
it wouldn't be fair not to mention about

00:10:19,279 --> 00:10:24,560
open meta data management when i'm

00:10:22,079 --> 00:10:26,720
talking about apache atlas

00:10:24,560 --> 00:10:27,600
since it is just apache atlas is

00:10:26,720 --> 00:10:30,640
designed to

00:10:27,600 --> 00:10:33,360
exchange metadata with other tools

00:10:30,640 --> 00:10:34,399
and processes and this is the overall

00:10:33,360 --> 00:10:37,279
architecture

00:10:34,399 --> 00:10:39,200
of the apache atlas in that is being

00:10:37,279 --> 00:10:42,800
shown in the figure

00:10:39,200 --> 00:10:46,240
so what basically it does is

00:10:42,800 --> 00:10:49,040
it appetize captures data lineage across

00:10:46,240 --> 00:10:49,760
confidence captures the downstream and

00:10:49,040 --> 00:10:52,959
upstream

00:10:49,760 --> 00:10:54,160
of data assets across the enterprise

00:10:52,959 --> 00:10:57,200
environment

00:10:54,160 --> 00:11:00,800
and also it enables classification of

00:10:57,200 --> 00:11:01,120
data assets using tax such as pi which

00:11:00,800 --> 00:11:03,839
is

00:11:01,120 --> 00:11:05,120
personally identifiable information

00:11:03,839 --> 00:11:08,320
expires on

00:11:05,120 --> 00:11:11,920
referring to uh define the i expiry of

00:11:08,320 --> 00:11:15,200
a particular data asset and also

00:11:11,920 --> 00:11:16,079
apache atlas enables free text search on

00:11:15,200 --> 00:11:18,800
metadata

00:11:16,079 --> 00:11:19,519
and it's supposed it has a lot of apis

00:11:18,800 --> 00:11:22,800
for

00:11:19,519 --> 00:11:26,839
custom metadata ingestion

00:11:22,800 --> 00:11:29,839
so overall it access and metadata

00:11:26,839 --> 00:11:29,839
repository

00:11:31,839 --> 00:11:37,120
so this is nothing but some different

00:11:34,880 --> 00:11:38,800
type of entities in apache at least i've

00:11:37,120 --> 00:11:42,560
just listed out two where there

00:11:38,800 --> 00:11:45,279
are there are a lot one such is hype tv

00:11:42,560 --> 00:11:46,720
and the other one is hype table so these

00:11:45,279 --> 00:11:49,120
are some sample data that i have

00:11:46,720 --> 00:11:51,200
ingested into apache atlas

00:11:49,120 --> 00:11:53,120
so this is the level of details that

00:11:51,200 --> 00:11:55,519
apache atlas provides

00:11:53,120 --> 00:11:56,480
when you're talking about entities

00:11:55,519 --> 00:11:58,240
everything

00:11:56,480 --> 00:11:59,920
that you ingest into apache at least

00:11:58,240 --> 00:12:03,839
will be an entity meet a

00:11:59,920 --> 00:12:07,200
db beat a table column whatever it is

00:12:03,839 --> 00:12:10,480
so the one on the left picture

00:12:07,200 --> 00:12:12,880
is hive db entity and you can see

00:12:10,480 --> 00:12:14,079
it lists out it lists down the different

00:12:12,880 --> 00:12:17,120
properties

00:12:14,079 --> 00:12:17,839
uh such as name and who owns it and all

00:12:17,120 --> 00:12:20,160
these

00:12:17,839 --> 00:12:21,440
details and the other one on the right

00:12:20,160 --> 00:12:25,200
we can talk about

00:12:21,440 --> 00:12:27,200
the hype table you can see the different

00:12:25,200 --> 00:12:27,680
columns associated with that particular

00:12:27,200 --> 00:12:28,959
table

00:12:27,680 --> 00:12:31,920
and you can see the different time

00:12:28,959 --> 00:12:34,959
stamps the time where when it created

00:12:31,920 --> 00:12:37,519
and also when what's it last accessed

00:12:34,959 --> 00:12:39,920
and also the owner and parameters and

00:12:37,519 --> 00:12:41,600
defining the number of rows and so on so

00:12:39,920 --> 00:12:44,720
so this is the level of detail that

00:12:41,600 --> 00:12:46,880
apache atlas provides

00:12:44,720 --> 00:12:49,040
and you can search these entities using

00:12:46,880 --> 00:12:52,639
the search

00:12:49,040 --> 00:12:56,399
filter in the apache atlas ui

00:12:52,639 --> 00:13:00,000
so no doubt it is a highly enriched ui

00:12:56,399 --> 00:13:03,680
where you can access the metadata and

00:13:00,000 --> 00:13:03,680
classify them according to your use

00:13:04,839 --> 00:13:09,760
cases

00:13:07,040 --> 00:13:09,760
moving ahead

00:13:11,120 --> 00:13:15,120
apache at this classifications and data

00:13:13,839 --> 00:13:18,160
lineage

00:13:15,120 --> 00:13:21,839
so why do we need to classify data

00:13:18,160 --> 00:13:22,800
in any organization well to put it in

00:13:21,839 --> 00:13:25,360
simple terms

00:13:22,800 --> 00:13:26,480
classification eases the process of

00:13:25,360 --> 00:13:28,800
identifying

00:13:26,480 --> 00:13:31,120
deriving and transferring data for

00:13:28,800 --> 00:13:32,720
everyone who has to deal with it

00:13:31,120 --> 00:13:34,720
if you just take a look at the figure

00:13:32,720 --> 00:13:37,440
shown here you can see that

00:13:34,720 --> 00:13:39,360
once we tag a source as personally

00:13:37,440 --> 00:13:42,399
identifiable information

00:13:39,360 --> 00:13:44,800
then the beauty of apache atlas is that

00:13:42,399 --> 00:13:46,959
it will automatically propagates and

00:13:44,800 --> 00:13:49,440
enforces these stacks for everything

00:13:46,959 --> 00:13:50,720
all the entities that has been derived

00:13:49,440 --> 00:13:54,320
from it

00:13:50,720 --> 00:13:54,959
these classifications or tags are later

00:13:54,320 --> 00:13:57,600
used by

00:13:54,959 --> 00:13:58,480
apache ranger or maybe some other tool

00:13:57,600 --> 00:14:00,560
to enforce

00:13:58,480 --> 00:14:01,680
certain policies in terms of data

00:14:00,560 --> 00:14:04,079
security

00:14:01,680 --> 00:14:05,199
as in defining the personally

00:14:04,079 --> 00:14:07,600
identifiable

00:14:05,199 --> 00:14:09,839
information that data should be accessed

00:14:07,600 --> 00:14:12,560
by only so and so group of people

00:14:09,839 --> 00:14:13,920
such kind of uh policies can be defined

00:14:12,560 --> 00:14:16,480
in apache ranger

00:14:13,920 --> 00:14:17,440
in this way atlas defines the

00:14:16,480 --> 00:14:20,079
classifications

00:14:17,440 --> 00:14:21,600
and ranger enforces the policies using

00:14:20,079 --> 00:14:24,880
these classifications

00:14:21,600 --> 00:14:25,360
so we can classify and track the data

00:14:24,880 --> 00:14:27,839
flow

00:14:25,360 --> 00:14:31,839
and lineage all across the organization

00:14:27,839 --> 00:14:31,839
using apache atlas

00:14:35,519 --> 00:14:38,720
another important feature of apache

00:14:38,160 --> 00:14:42,800
atlas

00:14:38,720 --> 00:14:45,680
is the glossary section a glossary

00:14:42,800 --> 00:14:46,800
provides appropriate vocabularies for

00:14:45,680 --> 00:14:49,839
business users

00:14:46,800 --> 00:14:51,680
and it allows the terms or words to be

00:14:49,839 --> 00:14:54,480
related to each other

00:14:51,680 --> 00:14:55,199
and categorized so that they can be

00:14:54,480 --> 00:14:58,240
understood

00:14:55,199 --> 00:14:58,720
in different contexts these terms can be

00:14:58,240 --> 00:15:01,920
then

00:14:58,720 --> 00:15:05,360
mapped to assets like a database tables

00:15:01,920 --> 00:15:07,839
columns etc you can see one such example

00:15:05,360 --> 00:15:09,440
in the figure that's been shown

00:15:07,839 --> 00:15:11,279
where you group all the terms that is

00:15:09,440 --> 00:15:12,560
related to banking under banking

00:15:11,279 --> 00:15:16,160
category such as

00:15:12,560 --> 00:15:16,160
checking account savings account

00:15:19,680 --> 00:15:24,720
moving on let's discuss about another

00:15:22,480 --> 00:15:27,920
tool which is predominantly used in

00:15:24,720 --> 00:15:29,199
any data dominant system that is apache

00:15:27,920 --> 00:15:32,639
ranger

00:15:29,199 --> 00:15:36,079
so getting into details apache ranger

00:15:32,639 --> 00:15:39,839
is a framework to enable monitor

00:15:36,079 --> 00:15:43,519
and manage comprehensive data security

00:15:39,839 --> 00:15:46,079
across the hadoop flat platform

00:15:43,519 --> 00:15:47,199
ranger provides you with provisions to

00:15:46,079 --> 00:15:50,079
create services

00:15:47,199 --> 00:15:53,519
for specific hadoop resources such as

00:15:50,079 --> 00:15:55,600
hdfs search base hive etc

00:15:53,519 --> 00:15:58,079
and add access policies to those

00:15:55,600 --> 00:15:59,680
services via a centralized platform

00:15:58,079 --> 00:16:01,600
which is nothing but the ranger

00:15:59,680 --> 00:16:04,720
adventuri portal

00:16:01,600 --> 00:16:06,399
you can also create tag based services

00:16:04,720 --> 00:16:08,399
and add access policies to those

00:16:06,399 --> 00:16:10,639
services as i mentioned when i was

00:16:08,399 --> 00:16:12,959
discussing about apache atlas

00:16:10,639 --> 00:16:14,160
so you create the tax and apache at

00:16:12,959 --> 00:16:15,839
least and

00:16:14,160 --> 00:16:18,079
you create the rules in a fashion major

00:16:15,839 --> 00:16:21,680
to enforce security

00:16:18,079 --> 00:16:22,880
there are so so many more services that

00:16:21,680 --> 00:16:26,160
ranger provides

00:16:22,880 --> 00:16:28,399
like providing security administrators

00:16:26,160 --> 00:16:29,519
with deep visibility into the hadoop

00:16:28,399 --> 00:16:32,320
environment

00:16:29,519 --> 00:16:33,040
through a centralized audit location

00:16:32,320 --> 00:16:36,320
that tracks

00:16:33,040 --> 00:16:39,199
all the access requests in real time

00:16:36,320 --> 00:16:42,079
and support multiple destination sources

00:16:39,199 --> 00:16:44,079
including hdfs and solar

00:16:42,079 --> 00:16:45,199
so that's a lot of talk let's go ahead

00:16:44,079 --> 00:16:48,000
and have a quick quick

00:16:45,199 --> 00:16:51,839
look at the ranger admin portal for

00:16:48,000 --> 00:16:51,839
better understanding

00:16:52,320 --> 00:16:59,120
so this is the ranger admin portal ui

00:16:56,800 --> 00:17:00,560
where you can see a different type of

00:16:59,120 --> 00:17:03,600
services that can be

00:17:00,560 --> 00:17:07,120
integrated with ranger these plugins

00:17:03,600 --> 00:17:09,439
are used to enforce security policies

00:17:07,120 --> 00:17:11,199
define security frameworks across the

00:17:09,439 --> 00:17:14,640
hadoop environment

00:17:11,199 --> 00:17:18,079
few that have been listed um are

00:17:14,640 --> 00:17:19,839
high hbase hdfs nuts

00:17:18,079 --> 00:17:22,000
and all these these are different type

00:17:19,839 --> 00:17:22,880
of plug-ins that can be used to enforce

00:17:22,000 --> 00:17:25,439
security

00:17:22,880 --> 00:17:25,439
policies

00:17:31,679 --> 00:17:39,440
so this is a gist of how do you define

00:17:35,919 --> 00:17:40,320
uh ranger policies in apache ranger hive

00:17:39,440 --> 00:17:42,480
plug-in

00:17:40,320 --> 00:17:44,000
so these are the four generic default

00:17:42,480 --> 00:17:45,600
policies that have been that would have

00:17:44,000 --> 00:17:47,600
been created when you enable the

00:17:45,600 --> 00:17:51,120
rangerhype plugin

00:17:47,600 --> 00:17:54,080
so you have policies to

00:17:51,120 --> 00:17:55,120
enforce security policies at different

00:17:54,080 --> 00:17:57,679
hierarchies

00:17:55,120 --> 00:17:59,840
say for example you can enforce in

00:17:57,679 --> 00:18:01,039
across the database table and column

00:17:59,840 --> 00:18:03,760
level

00:18:01,039 --> 00:18:05,679
and you can enforce in hive services and

00:18:03,760 --> 00:18:07,039
also you can enforce and use the defined

00:18:05,679 --> 00:18:10,880
functions

00:18:07,039 --> 00:18:13,280
and also across the urls

00:18:10,880 --> 00:18:14,559
you can even select specific databases

00:18:13,280 --> 00:18:18,400
specific tables

00:18:14,559 --> 00:18:21,600
columns or hive services or you can

00:18:18,400 --> 00:18:24,400
give generic to all so

00:18:21,600 --> 00:18:25,919
this also specifies cert each policy

00:18:24,400 --> 00:18:27,600
specifies certain conditions

00:18:25,919 --> 00:18:29,280
where you can define this particular

00:18:27,600 --> 00:18:31,679
user can use

00:18:29,280 --> 00:18:33,760
uh can have these so-and-so permissions

00:18:31,679 --> 00:18:36,400
say for example a select permission

00:18:33,760 --> 00:18:37,200
permission on a table or or draw

00:18:36,400 --> 00:18:40,880
privileges

00:18:37,200 --> 00:18:43,120
or create privileges so that's just

00:18:40,880 --> 00:18:45,600
just of the policies in ranger hive

00:18:43,120 --> 00:18:45,600
plug-in

00:18:46,240 --> 00:18:53,200
so let's talk about ranger hive plug-in

00:18:49,919 --> 00:18:53,760
a bit more the scope of this session

00:18:53,200 --> 00:18:55,440
does not

00:18:53,760 --> 00:18:56,799
extend to our discussion on all the

00:18:55,440 --> 00:18:57,600
features of ranger due to time

00:18:56,799 --> 00:18:59,520
constraints

00:18:57,600 --> 00:19:00,960
so that is why i have chosen one such

00:18:59,520 --> 00:19:03,520
plugin

00:19:00,960 --> 00:19:05,520
which i am quite familiar with basically

00:19:03,520 --> 00:19:08,799
what this plugin is meant for

00:19:05,520 --> 00:19:09,200
is providing authorization across apache

00:19:08,799 --> 00:19:11,919
height

00:19:09,200 --> 00:19:12,480
in a more granular way enabling this

00:19:11,919 --> 00:19:15,440
plugin

00:19:12,480 --> 00:19:17,039
would grant or revoke access to various

00:19:15,440 --> 00:19:20,240
hype components

00:19:17,039 --> 00:19:23,120
also enabling row-based policies for

00:19:20,240 --> 00:19:25,280
authorization as i said before i would

00:19:23,120 --> 00:19:27,760
like to demo this plugin in action

00:19:25,280 --> 00:19:29,520
but before proceeding to the demo i

00:19:27,760 --> 00:19:30,000
would like to mention the versions that

00:19:29,520 --> 00:19:31,520
i have

00:19:30,000 --> 00:19:34,799
chosen for this particular

00:19:31,520 --> 00:19:35,440
implementation ranger is of 2.0 version

00:19:34,799 --> 00:19:38,559
and high

00:19:35,440 --> 00:19:40,640
would be of 3.1.2

00:19:38,559 --> 00:19:42,160
now let me show a small demo of this

00:19:40,640 --> 00:19:44,720
plugin and see how

00:19:42,160 --> 00:19:52,000
ranger can provide authorization across

00:19:44,720 --> 00:19:57,679
apache hive

00:19:52,000 --> 00:19:57,679
this is the login page for apache ranger

00:19:57,760 --> 00:20:01,039
and i'm going to log in with the

00:19:59,039 --> 00:20:06,320
credentials that i've configured

00:20:01,039 --> 00:20:07,919
and also it runs on the port 6080 so as

00:20:06,320 --> 00:20:10,960
i mentioned before i have installed

00:20:07,919 --> 00:20:13,039
ranger and both locally on my mission

00:20:10,960 --> 00:20:14,799
and the version information for those

00:20:13,039 --> 00:20:20,960
two services is of

00:20:14,799 --> 00:20:24,240
rangers of 2.0 and hive is of 3.1.2

00:20:20,960 --> 00:20:26,080
and this is the service manager ui uh

00:20:24,240 --> 00:20:27,840
where you can see different type of

00:20:26,080 --> 00:20:29,039
services that can be configured as

00:20:27,840 --> 00:20:31,280
plugins

00:20:29,039 --> 00:20:32,080
and can be used to provide security

00:20:31,280 --> 00:20:34,799
policies

00:20:32,080 --> 00:20:36,880
on hadoop ecosystem and i've also

00:20:34,799 --> 00:20:40,400
already created one hive service for

00:20:36,880 --> 00:20:42,159
this demo purpose hype dev once you

00:20:40,400 --> 00:20:44,240
uh click on this icon you'll be able to

00:20:42,159 --> 00:20:46,080
view the service details

00:20:44,240 --> 00:20:48,000
and have configured for this particular

00:20:46,080 --> 00:20:50,400
user and this is the

00:20:48,000 --> 00:20:51,440
jdbc url with which you'll be able to

00:20:50,400 --> 00:20:54,720
interact with hive

00:20:51,440 --> 00:20:57,840
that is running locally and for this to

00:20:54,720 --> 00:21:00,320
uh work we have we should have the hive

00:20:57,840 --> 00:21:02,720
server 2 up and running in our mission

00:21:00,320 --> 00:21:06,240
and this is the ui portal for that i've

00:21:02,720 --> 00:21:06,240
already started the hive server

00:21:07,440 --> 00:21:10,960
so that's how you create a service after

00:21:09,840 --> 00:21:13,600
creating a service

00:21:10,960 --> 00:21:15,039
you can see the four default generic

00:21:13,600 --> 00:21:16,080
policies that have been created by

00:21:15,039 --> 00:21:18,320
ranger

00:21:16,080 --> 00:21:20,720
so one is of hive service the other one

00:21:18,320 --> 00:21:22,400
is for database table and column

00:21:20,720 --> 00:21:23,760
the other one is for database along with

00:21:22,400 --> 00:21:26,799
user defined functions

00:21:23,760 --> 00:21:28,720
and the last one is for the all url and

00:21:26,799 --> 00:21:30,320
you can save the status as enabled for

00:21:28,720 --> 00:21:33,200
all the four policies

00:21:30,320 --> 00:21:34,880
for this particular user so by default

00:21:33,200 --> 00:21:35,280
for the very first time razer does not

00:21:34,880 --> 00:21:38,240
have

00:21:35,280 --> 00:21:40,559
any deny conditions or any uh revoked

00:21:38,240 --> 00:21:42,320
policies being enabled so it grants

00:21:40,559 --> 00:21:44,640
all the permissions and all these

00:21:42,320 --> 00:21:46,799
services for this particular user so

00:21:44,640 --> 00:21:47,919
in case if you want to check we can

00:21:46,799 --> 00:21:50,480
click on second and

00:21:47,919 --> 00:21:52,320
can see all the permissions have been

00:21:50,480 --> 00:21:53,679
enabled for this user and there are no

00:21:52,320 --> 00:21:56,880
deny conditions

00:21:53,679 --> 00:21:59,840
being applied that will be the same for

00:21:56,880 --> 00:21:59,840
all the four

00:22:01,120 --> 00:22:06,400
so let's check in height if we have all

00:22:03,440 --> 00:22:06,400
the policies

00:22:06,720 --> 00:22:11,360
so my current working directory is uh

00:22:09,360 --> 00:22:12,880
i'm navigating to the

00:22:11,360 --> 00:22:14,559
directory where i have installed hype

00:22:12,880 --> 00:22:20,400
and i'm now getting it to the

00:22:14,559 --> 00:22:20,400
bin and let's log into the vlan shell

00:22:21,440 --> 00:22:25,039
once you log in you connect to the you

00:22:23,760 --> 00:22:28,080
know that i have been used

00:22:25,039 --> 00:22:28,080
for connecting

00:22:28,240 --> 00:22:30,880
to ranger

00:22:36,240 --> 00:22:41,039
basically the thrift store and the user

00:22:39,520 --> 00:22:43,440
name would be

00:22:41,039 --> 00:22:45,120
the one that i've used for configuring

00:22:43,440 --> 00:22:47,600
the ranger

00:22:45,120 --> 00:22:47,600
setup

00:22:49,039 --> 00:22:52,480
so connected to apache height

00:22:53,120 --> 00:22:57,600
and now let's see all the databases we

00:22:56,080 --> 00:23:00,799
have currently in our

00:22:57,600 --> 00:23:04,720
mission we have three dbs tv

00:23:00,799 --> 00:23:08,320
3 default sample now let's say i want to

00:23:04,720 --> 00:23:11,840
drop one database

00:23:08,320 --> 00:23:14,240
say i'm dropping this database

00:23:11,840 --> 00:23:15,760
and then if you it has been dropped

00:23:14,240 --> 00:23:17,600
let's check by clicking on show

00:23:15,760 --> 00:23:20,400
databases and you can see

00:23:17,600 --> 00:23:22,240
two databases right now db3 and default

00:23:20,400 --> 00:23:24,240
and sample has been dropped

00:23:22,240 --> 00:23:26,320
so basically you have the drop privilege

00:23:24,240 --> 00:23:29,440
and also let's say i want to create

00:23:26,320 --> 00:23:29,440
this one back

00:23:29,679 --> 00:23:34,159
so once you click on create database

00:23:31,840 --> 00:23:34,159
sample

00:23:34,559 --> 00:23:38,960
you can see the database has been

00:23:36,640 --> 00:23:40,880
created

00:23:38,960 --> 00:23:43,600
so this means that you have all the

00:23:40,880 --> 00:23:43,600
privileges

00:23:46,320 --> 00:23:54,880
so now to see if we can use ranger for

00:23:50,240 --> 00:23:58,559
us enforcing security policies in hype

00:23:54,880 --> 00:24:00,640
we can click on this edit policy icon

00:23:58,559 --> 00:24:01,600
and then say i don't want to give this

00:24:00,640 --> 00:24:04,880
particular user

00:24:01,600 --> 00:24:06,000
the job privileges so when you do this

00:24:04,880 --> 00:24:10,320
you have to also

00:24:06,000 --> 00:24:12,720
uncheck this all uh because this one

00:24:10,320 --> 00:24:13,520
says that this partial user has all the

00:24:12,720 --> 00:24:15,840
operations

00:24:13,520 --> 00:24:16,720
uh permissions to do all the operations

00:24:15,840 --> 00:24:20,000
over here

00:24:16,720 --> 00:24:21,840
so uncheck both drop and all and then

00:24:20,000 --> 00:24:24,159
click on

00:24:21,840 --> 00:24:24,159
save

00:24:25,279 --> 00:24:30,480
similarly you have to do that the same

00:24:27,200 --> 00:24:30,480
step for all the four

00:24:30,840 --> 00:24:38,240
policies

00:24:33,760 --> 00:24:38,240
drop all and then save

00:24:39,520 --> 00:24:42,640
so we're just removing the draw

00:24:40,960 --> 00:24:43,919
privilege nothing else all the other

00:24:42,640 --> 00:24:47,919
permissions remain

00:24:43,919 --> 00:24:50,320
the same apart from drop

00:24:47,919 --> 00:24:53,039
so the user should not be able to drop

00:24:50,320 --> 00:24:53,039
the database

00:24:54,080 --> 00:25:03,760
this particular user

00:25:01,279 --> 00:25:05,360
and then finally click on save so we

00:25:03,760 --> 00:25:08,240
have done this through all the four

00:25:05,360 --> 00:25:08,240
generic policies

00:25:08,720 --> 00:25:15,120
let's see if that is being applied over

00:25:12,840 --> 00:25:16,960
here

00:25:15,120 --> 00:25:18,640
so once you click on show databases you

00:25:16,960 --> 00:25:20,559
can see three different tvs over here

00:25:18,640 --> 00:25:22,080
one is default sample and the other one

00:25:20,559 --> 00:25:26,559
is db3

00:25:22,080 --> 00:25:26,559
so i want to drop the database say

00:25:26,840 --> 00:25:33,120
db3

00:25:29,679 --> 00:25:34,720
see uh ranger policy has been applied

00:25:33,120 --> 00:25:35,840
and you can see the exception being

00:25:34,720 --> 00:25:37,600
thrown over here

00:25:35,840 --> 00:25:39,360
hi access control exception permission

00:25:37,600 --> 00:25:40,880
denied this particular user does not

00:25:39,360 --> 00:25:42,320
have draw privilege

00:25:40,880 --> 00:25:45,200
so let's check if all the other

00:25:42,320 --> 00:25:49,200
privileges are the same

00:25:45,200 --> 00:25:53,520
so i'm trying to create the other d

00:25:49,200 --> 00:25:56,559
another database create database db1

00:25:53,520 --> 00:25:57,279
and then click on show databases it's

00:25:56,559 --> 00:26:00,000
already

00:25:57,279 --> 00:26:01,919
created so you can see db1 has been

00:26:00,000 --> 00:26:05,279
created

00:26:01,919 --> 00:26:08,960
but if you want to drop

00:26:05,279 --> 00:26:10,240
any db that's when you get this

00:26:08,960 --> 00:26:12,159
exception

00:26:10,240 --> 00:26:14,720
from ranger saying this you don't have

00:26:12,159 --> 00:26:18,720
permission to do this

00:26:14,720 --> 00:26:19,919
so that's how the security policies have

00:26:18,720 --> 00:26:24,000
been applied in hive

00:26:19,919 --> 00:26:26,480
wire ranger so ranger can enforce

00:26:24,000 --> 00:26:27,520
these type of security policies not only

00:26:26,480 --> 00:26:30,159
this create drop

00:26:27,520 --> 00:26:31,279
but also we can see a lot of functions

00:26:30,159 --> 00:26:34,320
over here

00:26:31,279 --> 00:26:36,480
select or read only policy

00:26:34,320 --> 00:26:39,279
or you can just remove the user does not

00:26:36,480 --> 00:26:42,640
have uh permission to alter

00:26:39,279 --> 00:26:44,240
or maybe lock update so you can

00:26:42,640 --> 00:26:47,360
play around with all these permissions

00:26:44,240 --> 00:26:50,880
and you can say this particular user or

00:26:47,360 --> 00:26:52,480
groups also can be activated

00:26:50,880 --> 00:26:54,159
and say this particular group has access

00:26:52,480 --> 00:26:57,279
only to this

00:26:54,159 --> 00:26:58,960
tv or does not have drop privileges does

00:26:57,279 --> 00:27:01,919
not have create privileges

00:26:58,960 --> 00:27:03,360
that's how you define policies in ranger

00:27:01,919 --> 00:27:07,840
which can be used to

00:27:03,360 --> 00:27:07,840
enforce security and hive

00:27:08,640 --> 00:27:14,000
so that was a big demo of apache ranger

00:27:11,520 --> 00:27:18,840
hype plug-in in action

00:27:14,000 --> 00:27:21,840
and any

00:27:18,840 --> 00:27:21,840
questions

00:27:28,720 --> 00:27:32,640
that was a very interesting presentation

00:27:30,880 --> 00:27:34,399
uh so

00:27:32,640 --> 00:27:38,159
let's see ricardo do you want to come on

00:27:34,399 --> 00:27:38,159
video and audio and answer any questions

00:27:41,279 --> 00:27:49,840
i'm assuming durga still is not here

00:27:52,000 --> 00:27:59,200
i'm sorry no problem welcome ricardo

00:27:56,720 --> 00:28:03,840
uh excellent uh welcome durga do you

00:27:59,200 --> 00:28:03,840
want to come on video as well durga

00:28:06,960 --> 00:28:11,120
yep uh just click the share audio there

00:28:10,399 --> 00:28:14,080
you go

00:28:11,120 --> 00:28:16,000
i'll add you in thank you very much that

00:28:14,080 --> 00:28:16,720
was a very interesting presentation a

00:28:16,000 --> 00:28:20,240
very uh

00:28:16,720 --> 00:28:20,240
nicely done video recording

00:28:24,640 --> 00:28:29,279
so does anyone have questions or either

00:28:27,279 --> 00:28:30,000
durger or you recorded either one of you

00:28:29,279 --> 00:28:33,120
all want to add

00:28:30,000 --> 00:28:33,120
anything in the presentation

00:28:40,559 --> 00:28:44,960
i don't have much to add i would like to

00:28:42,720 --> 00:28:47,039
say thanks to ricardo and

00:28:44,960 --> 00:28:49,200
my entire team for this knowledge that i

00:28:47,039 --> 00:28:51,200
have gained at red hat

00:28:49,200 --> 00:28:52,159
and i hadn't uh mentioned about

00:28:51,200 --> 00:28:53,120
regarding the starting of the

00:28:52,159 --> 00:28:54,720
presentation but

00:28:53,120 --> 00:28:56,080
without him literally this wouldn't have

00:28:54,720 --> 00:28:57,840
been possible whatever knowledge that i

00:28:56,080 --> 00:28:59,840
gained regarding data governance and the

00:28:57,840 --> 00:29:02,080
importance of data over here

00:28:59,840 --> 00:29:03,440
so yeah officially thank you so much

00:29:02,080 --> 00:29:05,520
ricardo for all that you have

00:29:03,440 --> 00:29:07,200
uh monitored like mentored me throughout

00:29:05,520 --> 00:29:09,760
my time under attack

00:29:07,200 --> 00:29:10,720
and i wouldn't i got i don't know if

00:29:09,760 --> 00:29:12,480
sharada's here but

00:29:10,720 --> 00:29:13,840
if he's here he'll kill me if i cannot

00:29:12,480 --> 00:29:16,320
mention his name

00:29:13,840 --> 00:29:18,720
yeah thanks sharad thanks my entire team

00:29:16,320 --> 00:29:23,440
alex cream basically alex anish

00:29:18,720 --> 00:29:23,440
malik sergio so

00:29:25,600 --> 00:29:29,039
we everybody say thank you uh there

00:29:27,520 --> 00:29:32,159
again uh you did a

00:29:29,039 --> 00:29:32,159
very good job on it

00:29:34,880 --> 00:29:38,799
yeah it was very interesting it was very

00:29:37,360 --> 00:29:42,080
done so

00:29:38,799 --> 00:29:45,279
definitely enjoyed it any questions from

00:29:42,080 --> 00:29:45,279
the audience please speak up

00:29:47,679 --> 00:29:52,480
yeah those questions means either

00:29:50,799 --> 00:29:54,240
people understood everything or they

00:29:52,480 --> 00:29:57,679
didn't understand anything

00:29:54,240 --> 00:30:00,720
but well we still have folks watching so

00:29:57,679 --> 00:30:00,720
they're still watching so

00:30:02,640 --> 00:30:14,159
yeah that's a good sign

00:30:09,520 --> 00:30:14,159

YouTube URL: https://www.youtube.com/watch?v=qPYPNVlRmlM


