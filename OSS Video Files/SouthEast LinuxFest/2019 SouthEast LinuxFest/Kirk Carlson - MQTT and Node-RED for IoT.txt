Title: Kirk Carlson - MQTT and Node-RED for IoT
Publication date: 2019-06-19
Playlist: 2019 SouthEast LinuxFest
Description: 
	SouthEast Linux Fest 2019
This talk is about interconnecting a bunch of dumb devices with MQTT as the communication vehicle and Node-RED as the message router. The idea is to build devices that can be re-purposed without reprogramming each device. This talk goes through the how-tos and some of the gotchas.
Captions: 
	00:01:01,320 --> 00:01:11,850
yeah I just I better get started here so

00:01:09,570 --> 00:01:14,130
I'm talking today on own mqtt and

00:01:11,850 --> 00:01:16,830
node-red and and basically how you

00:01:14,130 --> 00:01:18,440
connect up the Internet of Things my

00:01:16,830 --> 00:01:21,780
name is Kurt Carlson I'm a retired

00:01:18,440 --> 00:01:23,490
telecommunication engineer but I've been

00:01:21,780 --> 00:01:27,270
using Linux for a long time or at least

00:01:23,490 --> 00:01:28,770
UNIX in various things so if you just

00:01:27,270 --> 00:01:30,330
slides and some of the code that I've

00:01:28,770 --> 00:01:34,160
camped into this presentation there up

00:01:30,330 --> 00:01:36,090
on github if you want to find that stuff

00:01:34,160 --> 00:01:41,070
maybe we'll just get into it

00:01:36,090 --> 00:01:43,979
so MQTT is you know it's a fairly simple

00:01:41,070 --> 00:01:45,600
protocol for just moving data from one

00:01:43,979 --> 00:01:48,810
point to another so a lot of it's done

00:01:45,600 --> 00:01:52,560
in the small collection devices like

00:01:48,810 --> 00:01:55,560
raspberry PI's or Arduino s-- and it's

00:01:52,560 --> 00:01:57,890
something that was invented at at IBM to

00:01:55,560 --> 00:02:00,180
try to make it so that they could easily

00:01:57,890 --> 00:02:05,790
visualize the programming stuff they

00:02:00,180 --> 00:02:07,320
were trying to do and well I know I'm

00:02:05,790 --> 00:02:09,510
getting ahead of myself a little bit

00:02:07,320 --> 00:02:12,540
there's two things that were invented at

00:02:09,510 --> 00:02:13,709
IBM this this one is just the messaging

00:02:12,540 --> 00:02:17,280
protocol so it's a pretty simple

00:02:13,709 --> 00:02:19,680
protocol and to start off with they have

00:02:17,280 --> 00:02:22,890
two node types they have a client in a

00:02:19,680 --> 00:02:24,840
broker and so the client either produces

00:02:22,890 --> 00:02:26,459
or consumes information and you have a

00:02:24,840 --> 00:02:28,860
broker that it's kind of like a

00:02:26,459 --> 00:02:33,269
switchboard it just it switches messages

00:02:28,860 --> 00:02:35,820
from one place to another and to bring

00:02:33,269 --> 00:02:38,250
the Burke or up on on Linux is pretty

00:02:35,820 --> 00:02:42,030
simple because it's like an app get

00:02:38,250 --> 00:02:43,680
install mosquito and that's all you have

00:02:42,030 --> 00:02:45,450
to do the things up it's running you

00:02:43,680 --> 00:02:49,620
never have to configure it it just it

00:02:45,450 --> 00:02:51,120
just runs so it's a for me at least it

00:02:49,620 --> 00:02:53,280
was a really simple way of bringing

00:02:51,120 --> 00:02:57,019
something up I didn't expect anything to

00:02:53,280 --> 00:02:59,840
be that simple on the on these things so

00:02:57,019 --> 00:03:03,420
how it works it's basically a publishing

00:02:59,840 --> 00:03:05,370
subscribe scheme and so nodes will

00:03:03,420 --> 00:03:07,049
publish data to the broker and then the

00:03:05,370 --> 00:03:08,970
broker sits there and looks and sees

00:03:07,049 --> 00:03:12,269
who's subscribed it information and then

00:03:08,970 --> 00:03:13,889
it it forwards those data messages onto

00:03:12,269 --> 00:03:14,730
the the people that have subscribed to

00:03:13,889 --> 00:03:26,879
it

00:03:14,730 --> 00:03:28,319
oh so so you you basically you subscribe

00:03:26,879 --> 00:03:31,470
to the data that you want and then

00:03:28,319 --> 00:03:33,269
there's if you're using the message

00:03:31,470 --> 00:03:35,069
protocol there is some protocol to

00:03:33,269 --> 00:03:38,400
establish and take down the connections

00:03:35,069 --> 00:03:41,880
and that that level of overhead goes up

00:03:38,400 --> 00:03:43,920
if you're going to be using the TLS but

00:03:41,880 --> 00:03:46,140
the basic message is that the users are

00:03:43,920 --> 00:03:48,720
really simple I mean it's just a connect

00:03:46,140 --> 00:03:52,170
sometimes you have a connect act and the

00:03:48,720 --> 00:03:53,760
publish and a subscribe message and then

00:03:52,170 --> 00:03:56,280
sometimes the SUBSCRIBE ACK

00:03:53,760 --> 00:03:58,079
if you get into the deeper parts of the

00:03:56,280 --> 00:03:59,489
protocol there's a couple there's a few

00:03:58,079 --> 00:04:01,440
other messages and I'll kind of going

00:03:59,489 --> 00:04:03,180
over these things a little bit but for

00:04:01,440 --> 00:04:05,480
the most part they're not terribly

00:04:03,180 --> 00:04:08,959
important

00:04:05,480 --> 00:04:11,459
NQ TT works off of a real simple

00:04:08,959 --> 00:04:13,470
structure it's got two things it has a

00:04:11,459 --> 00:04:16,590
topic what kind of data you're passing

00:04:13,470 --> 00:04:19,229
and payload you know what what do you

00:04:16,590 --> 00:04:20,940
want that data to be now usually it can

00:04:19,229 --> 00:04:22,530
be simple it can be just a string or an

00:04:20,940 --> 00:04:24,660
integer but if you need to pass

00:04:22,530 --> 00:04:28,080
something more complex you can pack it

00:04:24,660 --> 00:04:29,850
into JSON and depending on your

00:04:28,080 --> 00:04:31,560
implementation it can be quite large I

00:04:29,850 --> 00:04:34,139
mean like into the megabytes that you're

00:04:31,560 --> 00:04:35,550
passing along which you know it seems

00:04:34,139 --> 00:04:38,130
absurd to me but I'm playing around with

00:04:35,550 --> 00:04:40,110
Arduino sand you would never conceive of

00:04:38,130 --> 00:04:43,169
packing around megabyte off of an

00:04:40,110 --> 00:04:45,900
Arduino there's three other parameters

00:04:43,169 --> 00:04:47,720
that you might use quality of service

00:04:45,900 --> 00:04:51,000
which I'll talk about a bit more

00:04:47,720 --> 00:04:53,660
retention basically says do you want the

00:04:51,000 --> 00:04:56,820
broker to keep that data around on

00:04:53,660 --> 00:04:58,289
mosquito it only keeps one copy so as

00:04:56,820 --> 00:05:00,240
soon as you send the next one up the

00:04:58,289 --> 00:05:03,240
last ones go on so the retention is

00:05:00,240 --> 00:05:05,160
basically just last message and then

00:05:03,240 --> 00:05:06,419
duplicators need it for some of the

00:05:05,160 --> 00:05:08,570
protocol because they do have a

00:05:06,419 --> 00:05:15,389
retransmission if you have a higher

00:05:08,570 --> 00:05:18,300
level of quality of service the on the

00:05:15,389 --> 00:05:20,250
subscription side when you ask for

00:05:18,300 --> 00:05:22,620
something you can sit there and ask for

00:05:20,250 --> 00:05:24,030
each topic one at a time but that's sort

00:05:22,620 --> 00:05:26,099
of tedious you know you'd really like to

00:05:24,030 --> 00:05:28,620
be able to ask for a whole bunch of data

00:05:26,099 --> 00:05:31,229
at the same time so they have wild card

00:05:28,620 --> 00:05:34,130
that allow you to do that so if just if

00:05:31,229 --> 00:05:38,760
you use the topic to structure the data

00:05:34,130 --> 00:05:41,130
in the you know yeah how you do that is

00:05:38,760 --> 00:05:43,860
implementation dependent so like the way

00:05:41,130 --> 00:05:45,330
I do it is each node would have a node

00:05:43,860 --> 00:05:48,030
name and then there'd be what kind of

00:05:45,330 --> 00:05:50,669
data it is and then a value and then it

00:05:48,030 --> 00:05:55,380
may have more divisions or less how you

00:05:50,669 --> 00:05:58,470
want to do that but anyway the plus will

00:05:55,380 --> 00:06:00,960
supply one level of that so like if you

00:05:58,470 --> 00:06:03,090
put plus for the I have a node name that

00:06:00,960 --> 00:06:06,120
we pick up all of the node names if you

00:06:03,090 --> 00:06:08,760
put in pound temperature it would pick

00:06:06,120 --> 00:06:11,400
up all of the devices that send

00:06:08,760 --> 00:06:13,320
temperature or if you say pound value it

00:06:11,400 --> 00:06:24,300
it would pick up all the values that it

00:06:13,320 --> 00:06:25,800
would have anyway again this you know

00:06:24,300 --> 00:06:30,870
when you're asking for a topic it's it's

00:06:25,800 --> 00:06:34,260
it's a string when you format the topic

00:06:30,870 --> 00:06:36,720
itself that goes at a when you publish

00:06:34,260 --> 00:06:39,030
it you can hit use its another string of

00:06:36,720 --> 00:06:41,580
characters again it's you free format it

00:06:39,030 --> 00:06:43,470
however you want it to be for your your

00:06:41,580 --> 00:06:46,349
implementation or group of nodes that

00:06:43,470 --> 00:06:48,000
you're trying to collect from you can

00:06:46,349 --> 00:06:49,680
use any character you want except for

00:06:48,000 --> 00:06:51,240
the plus and the pound because it

00:06:49,680 --> 00:06:54,419
obviously you can't that would screw up

00:06:51,240 --> 00:06:57,120
the protocol if you use those two they

00:06:54,419 --> 00:06:59,310
use slashes to designate this hierarchy

00:06:57,120 --> 00:07:02,729
of data so I guess getting with hammer

00:06:59,310 --> 00:07:06,090
self so like again the way I was doing

00:07:02,729 --> 00:07:08,699
it was like I have a node name and then

00:07:06,090 --> 00:07:12,229
I subdivided you know temperature and

00:07:08,699 --> 00:07:15,840
then the units and value whatever it is

00:07:12,229 --> 00:07:17,280
and so this basically says when I was

00:07:15,840 --> 00:07:18,690
talking about her earlier something a

00:07:17,280 --> 00:07:21,270
little bit out of sequence about how you

00:07:18,690 --> 00:07:25,250
use the wild cards to be able to pull up

00:07:21,270 --> 00:07:25,250
multiple pieces of data at one time

00:07:26,690 --> 00:07:31,650
payload again it's variable length in

00:07:29,250 --> 00:07:33,510
its free format so you basically however

00:07:31,650 --> 00:07:34,710
your application is whatever kind of

00:07:33,510 --> 00:07:36,180
information that you're trying to pass

00:07:34,710 --> 00:07:39,570
that's the format that you're going to

00:07:36,180 --> 00:07:41,219
use the strings and integers are

00:07:39,570 --> 00:07:44,030
basically built in you don't have to do

00:07:41,219 --> 00:07:47,039
anything with it in

00:07:44,030 --> 00:07:49,800
this demo if I could get it to work

00:07:47,039 --> 00:07:51,750
which I can't at the moment it uses JSON

00:07:49,800 --> 00:07:54,210
because it's basically passing around on

00:07:51,750 --> 00:07:55,800
an array of numbers and so it would be

00:07:54,210 --> 00:08:02,759
passing around and you know it's a

00:07:55,800 --> 00:08:04,770
simple array of numbers so the quality

00:08:02,759 --> 00:08:07,530
of service is there's three levels of

00:08:04,770 --> 00:08:12,349
quality service on this thing and in qs0

00:08:07,530 --> 00:08:14,729
is just basically a fire-and-forget and

00:08:12,349 --> 00:08:17,849
so if you look at the message sequence

00:08:14,729 --> 00:08:19,469
for that you mean it's just basically

00:08:17,849 --> 00:08:21,569
you send the publish request and that's

00:08:19,469 --> 00:08:23,370
it it just goes up and you you don't

00:08:21,569 --> 00:08:25,469
know if it made it and you don't care

00:08:23,370 --> 00:08:26,729
and that's good enough for a lot of

00:08:25,469 --> 00:08:30,719
things that you do in fact this is the

00:08:26,729 --> 00:08:33,000
only one I've ever used they have at

00:08:30,719 --> 00:08:34,769
least once and what at least once means

00:08:33,000 --> 00:08:36,089
that the things going to get

00:08:34,769 --> 00:08:38,099
acknowledged and if it's not

00:08:36,089 --> 00:08:41,610
acknowledged you will continue the the

00:08:38,099 --> 00:08:43,260
sender will keep on Cindy so these

00:08:41,610 --> 00:08:45,390
things when I'm talking about a sender

00:08:43,260 --> 00:08:48,750
that can either be the client going

00:08:45,390 --> 00:08:49,980
toward a receiver which is the broker or

00:08:48,750 --> 00:08:52,589
it can be the other way around where the

00:08:49,980 --> 00:08:54,990
broker is sending to the client

00:08:52,589 --> 00:08:57,269
and so this diagram kind of works both

00:08:54,990 --> 00:08:58,440
ways so again you put you publish until

00:08:57,269 --> 00:09:00,630
you receive an ACK

00:08:58,440 --> 00:09:03,089
if you're on the level one and then

00:09:00,630 --> 00:09:05,850
level two is that you want this thing to

00:09:03,089 --> 00:09:07,560
go through only once and so then you

00:09:05,850 --> 00:09:10,230
have to keep track of the message

00:09:07,560 --> 00:09:13,529
identifiers a little bit closer and this

00:09:10,230 --> 00:09:15,630
is you published until you get an ACK

00:09:13,529 --> 00:09:18,120
and then once you get that then you

00:09:15,630 --> 00:09:20,040
release that number and so there's two

00:09:18,120 --> 00:09:23,209
places in here where the sender can

00:09:20,040 --> 00:09:24,930
repeat a transmission until it gets

00:09:23,209 --> 00:09:28,560
essentially back in act for that

00:09:24,930 --> 00:09:31,680
particular transmission so this is to me

00:09:28,560 --> 00:09:33,209
is overkill for most stuff but I mean if

00:09:31,680 --> 00:09:35,029
you have a particularly use case maybe

00:09:33,209 --> 00:09:38,029
you need that cut that level of

00:09:35,029 --> 00:09:38,029
reliability

00:09:41,560 --> 00:09:47,780
so when you start when you use it

00:09:45,500 --> 00:09:51,590
imputed the first things I used it for

00:09:47,780 --> 00:09:53,150
was to be a front-end to openhab and so

00:09:51,590 --> 00:09:55,070
I never really got into node-red and

00:09:53,150 --> 00:09:57,350
then I saw a demo on node on node red

00:09:55,070 --> 00:10:00,020
and said oh this is pretty cool

00:09:57,350 --> 00:10:02,690
so it's this wiring tool that you can

00:10:00,020 --> 00:10:06,010
wire up nodes and manipulate messages

00:10:02,690 --> 00:10:08,150
and do some some neat things with it

00:10:06,010 --> 00:10:14,770
again this is another tool that was

00:10:08,150 --> 00:10:18,560
invented at IBM and it really is a it's

00:10:14,770 --> 00:10:24,980
it's well it's I don't exactly what to

00:10:18,560 --> 00:10:26,360
dig here so it's Mill part of raspbian

00:10:24,980 --> 00:10:28,730
so it's been on the Raspberry Pi for a

00:10:26,360 --> 00:10:32,300
while and it's basically built using

00:10:28,730 --> 00:10:35,510
javascript on top of node nodejs

00:10:32,300 --> 00:10:37,910
and so it it sets up a client instance

00:10:35,510 --> 00:10:39,200
that you you can get into with a regular

00:10:37,910 --> 00:10:41,330
browser you can see what's going on

00:10:39,200 --> 00:10:42,710
there again this is another thing it's

00:10:41,330 --> 00:10:44,720
pretty simple to install

00:10:42,710 --> 00:10:49,730
there's quite a few recipes on the

00:10:44,720 --> 00:10:53,720
network to do it and because node-red is

00:10:49,730 --> 00:10:55,880
written in nodejs it's been extended so

00:10:53,720 --> 00:11:00,590
the version that's on the Raspberry Pi

00:10:55,880 --> 00:11:02,630
has the GPIO for the Raspberry Pi is

00:11:00,590 --> 00:11:03,980
built is basically built into it already

00:11:02,630 --> 00:11:06,410
I mean I suppose you could take it out

00:11:03,980 --> 00:11:08,060
if you wanted to but it's built in but

00:11:06,410 --> 00:11:09,950
then there's this other module that you

00:11:08,060 --> 00:11:12,250
can add to it which is the dashboard and

00:11:09,950 --> 00:11:14,510
after you some dashboard I don't say use

00:11:12,250 --> 00:11:19,610
the thing without it I mean it's like

00:11:14,510 --> 00:11:22,010
just it's a cool thing to do so we'll

00:11:19,610 --> 00:11:22,580
get into this thing the way that

00:11:22,010 --> 00:11:25,760
node-red

00:11:22,580 --> 00:11:28,730
saves the messages off is as they call

00:11:25,760 --> 00:11:31,880
them flows and they persist talk is used

00:11:28,730 --> 00:11:34,010
over using a lot of words but flow

00:11:31,880 --> 00:11:35,900
basically is all of the programming that

00:11:34,010 --> 00:11:39,260
the user puts into the thing and it

00:11:35,900 --> 00:11:41,420
saves that off as a as a JSON document

00:11:39,260 --> 00:11:43,490
and so then you can take that JSON

00:11:41,420 --> 00:11:44,690
document and email that to somebody else

00:11:43,490 --> 00:11:50,520
and they can load it up on their machine

00:11:44,690 --> 00:11:54,029
have exactly the same configuration so

00:11:50,520 --> 00:11:55,290
I know in node-red basically is

00:11:54,029 --> 00:11:57,000
something that manipulates the message

00:11:55,290 --> 00:11:59,430
set me and put the message it may

00:11:57,000 --> 00:12:04,050
consume the message it may transform it

00:11:59,430 --> 00:12:08,760
in some way and to do the simplest case

00:12:04,050 --> 00:12:13,200
is that you just have an injection node

00:12:08,760 --> 00:12:14,520
in a debugging node it's like I can't

00:12:13,200 --> 00:12:16,740
show you everything but at least I can

00:12:14,520 --> 00:12:21,540
show you that you know the right page

00:12:16,740 --> 00:12:26,310
here so in all you can start from

00:12:21,540 --> 00:12:28,080
nothing so this is the when you access

00:12:26,310 --> 00:12:35,940
node red you bring up this page and so

00:12:28,080 --> 00:12:38,420
it's got is that right okay how do I get

00:12:35,940 --> 00:12:38,420
that to work

00:12:46,020 --> 00:12:55,589
nope well I'll do it this way so

00:12:52,940 --> 00:12:58,470
basically it brings up the pain and you

00:12:55,589 --> 00:13:00,390
got does this show up nope doesn't show

00:12:58,470 --> 00:13:01,800
up either there are three paints on the

00:13:00,390 --> 00:13:05,730
window when you can hit it with the

00:13:01,800 --> 00:13:07,260
browser so left hand pain has a bunch of

00:13:05,730 --> 00:13:10,140
the notes that you can put in there so

00:13:07,260 --> 00:13:12,209
that's a scrollable list and you can go

00:13:10,140 --> 00:13:15,570
down and you pick them off and you can't

00:13:12,209 --> 00:13:21,260
read that at all but learn or let's see

00:13:15,570 --> 00:13:21,260
if I can get this thing I don't know

00:13:23,570 --> 00:13:33,470
well I don't know if I'm gaining or

00:13:26,040 --> 00:13:33,470
losing let's just try to

00:13:43,130 --> 00:13:48,800
you may know the command on Linux to

00:13:45,440 --> 00:13:54,140
make it talk to the second stream maybe

00:13:48,800 --> 00:13:56,000
it's f7 here yeah I'm just trying to

00:13:54,140 --> 00:13:58,280
figure out which one of these keys does

00:13:56,000 --> 00:13:59,420
it and it's not that any of those so

00:13:58,280 --> 00:14:09,800
whatever it knows

00:13:59,420 --> 00:14:14,390
Oh wonderful f8 you think yeah it's not

00:14:09,800 --> 00:14:16,250
on this machine well maybe it is well I

00:14:14,390 --> 00:14:25,460
see it's a brightness well that's what

00:14:16,250 --> 00:14:30,490
it is on here but I'm trying to you let

00:14:25,460 --> 00:14:30,490
me see if there's a fine settings here

00:14:40,590 --> 00:14:49,320
you know what what can i I wanted to

00:14:47,610 --> 00:14:52,640
swing me here I want to do mirrors what

00:14:49,320 --> 00:14:52,640
I really want because then that way

00:14:54,230 --> 00:15:03,750
apply will keep this okay I think we're

00:15:02,700 --> 00:15:05,880
in we're in business

00:15:03,750 --> 00:15:09,930
okay so and you can't see this either so

00:15:05,880 --> 00:15:12,200
let's make this bigger no that's too big

00:15:09,930 --> 00:15:12,200
okay

00:15:13,610 --> 00:15:18,570
so in order to just do something simple

00:15:16,050 --> 00:15:20,339
just so you have three panes just the

00:15:18,570 --> 00:15:22,770
paint on the left has got a whole bunch

00:15:20,339 --> 00:15:24,120
of notes that you can implement the

00:15:22,770 --> 00:15:25,440
thing in the middle is this workspace

00:15:24,120 --> 00:15:27,600
that you can work with and then there's

00:15:25,440 --> 00:15:30,930
some information things that you could

00:15:27,600 --> 00:15:32,100
do on the on the right hand side so what

00:15:30,930 --> 00:15:33,720
I want to do is I want to inject a

00:15:32,100 --> 00:15:35,250
message so I just drag over and inject

00:15:33,720 --> 00:15:37,800
and I want to have something that

00:15:35,250 --> 00:15:41,580
displays that message so I bring over

00:15:37,800 --> 00:15:44,370
just debugging node and then to connect

00:15:41,580 --> 00:15:45,720
them I just drive on to the little

00:15:44,370 --> 00:15:47,970
connector for it and drag that over to

00:15:45,720 --> 00:15:49,140
the other node so I've wired up those

00:15:47,970 --> 00:15:51,630
two notes that's all there is to that

00:15:49,140 --> 00:15:55,230
know if I want to see what this thing's

00:15:51,630 --> 00:15:57,270
gonna do I need to deploy it so that

00:15:55,230 --> 00:15:59,850
okay these little blue circles on top of

00:15:57,270 --> 00:16:01,380
the nodes right here in here tell you

00:15:59,850 --> 00:16:03,240
that that hasn't been deployed so you

00:16:01,380 --> 00:16:07,710
need to basically compile it into this

00:16:03,240 --> 00:16:09,900
JSON so you do the compiling everything

00:16:07,710 --> 00:16:12,030
goes away and now I want to see what's

00:16:09,900 --> 00:16:13,770
going to happen with this I wouldn't put

00:16:12,030 --> 00:16:17,550
this thing into a debugging mode so it

00:16:13,770 --> 00:16:20,430
brings up the output of this message and

00:16:17,550 --> 00:16:22,290
if I just click on here this will inject

00:16:20,430 --> 00:16:24,720
the message it tells me I injected the

00:16:22,290 --> 00:16:27,420
time stamp and then that time stamp

00:16:24,720 --> 00:16:28,980
shows up on the right hand side but I

00:16:27,420 --> 00:16:30,450
didn't want to really do it time sniff I

00:16:28,980 --> 00:16:32,820
want what I really want is I want to say

00:16:30,450 --> 00:16:34,050
hello world because you gotta you gotta

00:16:32,820 --> 00:16:36,089
do that so I'm going to change the time

00:16:34,050 --> 00:16:38,760
stamp to be a string and then I'm gonna

00:16:36,089 --> 00:16:41,240
make it the string I just wanted to say

00:16:38,760 --> 00:16:41,240
hello world

00:16:44,130 --> 00:16:49,270
yeah if I want to I can go into this

00:16:46,690 --> 00:16:50,020
note and I can make that status come out

00:16:49,270 --> 00:16:56,320
on it too

00:16:50,020 --> 00:16:59,680
so now if I redeploy that and I click on

00:16:56,320 --> 00:17:01,270
this I've injected hello world we see

00:16:59,680 --> 00:17:03,580
hello world comes out the debugging

00:17:01,270 --> 00:17:06,970
string and then underneath here the

00:17:03,580 --> 00:17:16,240
status shows up as the hello world so

00:17:06,970 --> 00:17:17,439
it's a really easy tool to use if I you

00:17:16,240 --> 00:17:19,360
know you want to see that'll just break

00:17:17,439 --> 00:17:22,660
it will just break it and we'll just do

00:17:19,360 --> 00:17:24,790
a deploy it again and then when I say

00:17:22,660 --> 00:17:27,939
hello world it says I injected that

00:17:24,790 --> 00:17:35,350
message but nothing new came out so you

00:17:27,939 --> 00:17:37,630
have to have it wired up so that's the

00:17:35,350 --> 00:17:39,100
simple one fortunately I was going to

00:17:37,630 --> 00:17:43,030
show you how all this stuff dead here

00:17:39,100 --> 00:17:44,350
works and this a little bit more than I

00:17:43,030 --> 00:17:46,560
can do in 15 minutes get it all hooked

00:17:44,350 --> 00:17:46,560
up

00:17:59,730 --> 00:18:05,200
it's okay

00:18:01,419 --> 00:18:06,760
no no Dredd only talks to the broker so

00:18:05,200 --> 00:18:10,929
we it doesn't care and so I've had this

00:18:06,760 --> 00:18:12,520
thing hooked up to one wired devices so

00:18:10,929 --> 00:18:14,620
there was a little Python script that

00:18:12,520 --> 00:18:16,419
that pumped it into the broker I've had

00:18:14,620 --> 00:18:19,059
things that scrape the web and pumped it

00:18:16,419 --> 00:18:20,950
into the broker I'm gonna show you

00:18:19,059 --> 00:18:22,090
another thing we're you know you don't

00:18:20,950 --> 00:18:24,970
need to write those Python scripts

00:18:22,090 --> 00:18:28,630
anymore you just do it yourself because

00:18:24,970 --> 00:18:30,510
I mean what happens I'm gonna say we

00:18:28,630 --> 00:18:33,640
want to know the weather for Charlotte

00:18:30,510 --> 00:18:35,440
so I got I'm cheating a little bit here

00:18:33,640 --> 00:18:37,960
so I've got a button that injects

00:18:35,440 --> 00:18:41,250
nothing but it triggers this HTTP

00:18:37,960 --> 00:18:45,549
request and so if I if I fire that off

00:18:41,250 --> 00:18:48,490
it gets this thing that well it's got a

00:18:45,549 --> 00:18:49,929
lot of extra stuff in there and it

00:18:48,490 --> 00:18:51,730
doesn't look like what on it to look

00:18:49,929 --> 00:18:56,350
like either oh I I know what's problem

00:18:51,730 --> 00:19:01,030
is there I'm not on the Internet you

00:18:56,350 --> 00:19:02,980
know I'm not gonna get there anyway you

00:19:01,030 --> 00:19:04,600
can sit there and do web requests I mean

00:19:02,980 --> 00:19:06,880
when you look at what this thing does so

00:19:04,600 --> 00:19:09,190
this one was an HTTP request and so he

00:19:06,880 --> 00:19:10,929
goes out to the web to get something so

00:19:09,190 --> 00:19:16,120
you can have it set up on a timer to go

00:19:10,929 --> 00:19:18,190
pull this stuff I gotta get back to the

00:19:16,120 --> 00:19:24,240
presentation but let's see if I get

00:19:18,190 --> 00:19:24,240
there hello

00:19:27,830 --> 00:19:46,260
yeah I tell you I tell you what I look

00:19:44,940 --> 00:19:47,850
look I'll do the presentation and we'll

00:19:46,260 --> 00:19:49,500
try to come back and do this thing if

00:19:47,850 --> 00:19:51,660
that's okay because I mean the Moses

00:19:49,500 --> 00:19:53,360
presentation was based on showing this

00:19:51,660 --> 00:19:56,580
thing so I'm gonna be over pretty quick

00:19:53,360 --> 00:20:04,380
I need to get this thing in a slideshow

00:19:56,580 --> 00:20:07,290
oh yeah well I mean it's well I mean

00:20:04,380 --> 00:20:10,380
yeah well it's it's I had a lot of fun

00:20:07,290 --> 00:20:11,940
doing that but okay so originally they

00:20:10,380 --> 00:20:13,740
called the same event wiring tool and I

00:20:11,940 --> 00:20:15,630
thought that was a nutso name but once

00:20:13,740 --> 00:20:18,480
you start hooking these things up it's

00:20:15,630 --> 00:20:20,220
just like wiring I mean just you just

00:20:18,480 --> 00:20:22,500
drag that connector from one node to

00:20:20,220 --> 00:20:24,900
another and you hook them up

00:20:22,500 --> 00:20:28,650
we've talked about that I've talked

00:20:24,900 --> 00:20:31,170
about that um I talked about that we

00:20:28,650 --> 00:20:44,220
talked about that we've done that this

00:20:31,170 --> 00:20:45,570
is okay we've done this okay to do that

00:20:44,220 --> 00:20:49,650
conversion stuff I mean you basically

00:20:45,570 --> 00:20:52,560
write a function so what this thing was

00:20:49,650 --> 00:20:54,570
gonna do is if I had it we're this thing

00:20:52,560 --> 00:20:56,580
goes out and it queries a website it

00:20:54,570 --> 00:20:58,860
pulls down it a piece of test it looks

00:20:56,580 --> 00:21:00,090
like JSON puts a string you can't do

00:20:58,860 --> 00:21:01,530
anything with the strength so the first

00:21:00,090 --> 00:21:04,680
thing you gotta do you run it through

00:21:01,530 --> 00:21:08,130
another node that turns that JSON string

00:21:04,680 --> 00:21:09,600
into an object once it's an object then

00:21:08,130 --> 00:21:12,080
you can sit there you can access it and

00:21:09,600 --> 00:21:14,970
so like I want to get the temperature

00:21:12,080 --> 00:21:19,620
from here and so then you have the odd

00:21:14,970 --> 00:21:23,000
the object so the what gets passed to a

00:21:19,620 --> 00:21:27,270
function is a message msg it's got two

00:21:23,000 --> 00:21:30,120
basic components to it topic and payload

00:21:27,270 --> 00:21:32,400
and so here I want it to get the payload

00:21:30,120 --> 00:21:33,720
but because I've got an object it's got

00:21:32,400 --> 00:21:36,000
two more levels to it so there's a

00:21:33,720 --> 00:21:37,560
temperature and a value and I load that

00:21:36,000 --> 00:21:39,270
into a temporary you know variable

00:21:37,560 --> 00:21:41,130
called temp and then I start

00:21:39,270 --> 00:21:44,460
manipulating it you know I converted it

00:21:41,130 --> 00:21:47,370
Fahrenheit to centigrade excuse me

00:21:44,460 --> 00:21:50,580
Celsius then I can then I round it down

00:21:47,370 --> 00:21:52,679
I turn it back into a string so it's got

00:21:50,580 --> 00:21:55,440
a degree F sign on it and then I could

00:21:52,679 --> 00:21:56,760
output the thing so I mean so writing

00:21:55,440 --> 00:21:58,110
functions as a piece of cake here

00:21:56,760 --> 00:22:00,030
they're all written in JavaScript of

00:21:58,110 --> 00:22:03,090
just simple pieces of text I mean this

00:22:00,030 --> 00:22:05,610
is a relatively complex one because it's

00:22:03,090 --> 00:22:06,750
doing four different things at once you

00:22:05,610 --> 00:22:08,669
know it's a bit you don't need to have

00:22:06,750 --> 00:22:10,740
four functions to do it each little

00:22:08,669 --> 00:22:13,370
steps you can just do it all once so

00:22:10,740 --> 00:22:16,230
it's it's it's kind of cool to do that

00:22:13,370 --> 00:22:18,210
and then you know it went to it I know

00:22:16,230 --> 00:22:20,520
to display it and I did the same thing

00:22:18,210 --> 00:22:22,320
with the dew point and if we could talk

00:22:20,520 --> 00:22:25,679
to this PI down here on the floor we can

00:22:22,320 --> 00:22:27,360
calculate humidity but it's on the floor

00:22:25,679 --> 00:22:32,130
what we'll get to that here to have a

00:22:27,360 --> 00:22:33,659
second maybe if we get there okay and we

00:22:32,130 --> 00:22:40,169
just talked about that

00:22:33,659 --> 00:22:42,030
okay the dashboards that's all on the PI

00:22:40,169 --> 00:22:43,470
okay that's where you load this thing it

00:22:42,030 --> 00:22:44,909
gives you a bunch of modules that you

00:22:43,470 --> 00:22:50,429
can put in there and when you have those

00:22:44,909 --> 00:22:53,220
modules you can make you can have a

00:22:50,429 --> 00:22:55,320
graph you can have a dial you can have

00:22:53,220 --> 00:22:57,809
things that input text you can display

00:22:55,320 --> 00:22:59,130
things as text and you build those

00:22:57,809 --> 00:23:01,260
things up it goes to a separate little

00:22:59,130 --> 00:23:04,380
webpage and then you can access that

00:23:01,260 --> 00:23:06,000
webpage with your phone or your desktop

00:23:04,380 --> 00:23:07,770
or whatever so gives you a lot easier

00:23:06,000 --> 00:23:10,590
way to interact with what's going on in

00:23:07,770 --> 00:23:13,470
node-red so you get the data in or out

00:23:10,590 --> 00:23:16,740
of node-red using that dashboard so it's

00:23:13,470 --> 00:23:18,510
I don't do to me this is the is one of

00:23:16,740 --> 00:23:20,940
the key tools for doing that so this is

00:23:18,510 --> 00:23:23,039
an example one of those dashboards that

00:23:20,940 --> 00:23:25,470
you build up it just it has a bunch of

00:23:23,039 --> 00:23:27,240
controls which you know you can click on

00:23:25,470 --> 00:23:27,809
those things and then it has some Status

00:23:27,240 --> 00:23:30,539
Messages

00:23:27,809 --> 00:23:32,640
on the right-hand side and this is like

00:23:30,539 --> 00:23:34,950
how it would format for a desktop if you

00:23:32,640 --> 00:23:37,230
were just a phone it just makes it a

00:23:34,950 --> 00:23:38,520
narrower format so that you scroll up

00:23:37,230 --> 00:23:40,710
you can still see everything but it's

00:23:38,520 --> 00:23:42,390
just a narrow format and again does this

00:23:40,710 --> 00:23:44,010
garden-variety stuff I wasn't doing

00:23:42,390 --> 00:23:51,510
anything fancy with that to make that

00:23:44,010 --> 00:23:53,070
work okay so this demo okay we'll see if

00:23:51,510 --> 00:23:54,970
we can get it to work this was set up

00:23:53,070 --> 00:23:56,860
for STEM fairs I go to these

00:23:54,970 --> 00:23:59,740
you use my retirement time it goes stem

00:23:56,860 --> 00:24:01,840
fairs teach kids about IT and like this

00:23:59,740 --> 00:24:03,490
is a cool setup because it's got

00:24:01,840 --> 00:24:05,650
hardware it's got software it's got

00:24:03,490 --> 00:24:07,450
messaging you know so it's got flashing

00:24:05,650 --> 00:24:10,180
lights and as we all know growing up

00:24:07,450 --> 00:24:13,090
with Star Trek is computers work with

00:24:10,180 --> 00:24:14,680
flashing lights and so it's got all this

00:24:13,090 --> 00:24:19,360
stuff so I thought well this is great

00:24:14,680 --> 00:24:22,030
and then I built it around Conway's Game

00:24:19,360 --> 00:24:24,460
of Life which why do you don't know what

00:24:22,030 --> 00:24:26,200
that is but in the 70s it was one of the

00:24:24,460 --> 00:24:28,150
biggest waste of computer time there was

00:24:26,200 --> 00:24:29,920
because everybody I don't care who you

00:24:28,150 --> 00:24:31,180
were we're studying this stuff and I saw

00:24:29,920 --> 00:24:34,120
people carrying around reams of paper

00:24:31,180 --> 00:24:36,670
like this looking at generations of life

00:24:34,120 --> 00:24:38,410
and it was it was nuts but they were

00:24:36,670 --> 00:24:40,570
looking for stuff in when you'd go up on

00:24:38,410 --> 00:24:42,010
the website there are still people doing

00:24:40,570 --> 00:24:44,410
it only they're doing a lot bigger

00:24:42,010 --> 00:24:46,620
arrays I mean they're these things are

00:24:44,410 --> 00:24:46,620
huge

00:24:47,160 --> 00:24:52,750
anyway it must go the wrong way for

00:24:51,250 --> 00:24:55,810
those of you who don't know what life is

00:24:52,750 --> 00:24:58,210
it's a simple game it's based on

00:24:55,810 --> 00:25:00,790
cellular automata which basically says

00:24:58,210 --> 00:25:02,950
each cell can determine its next state

00:25:00,790 --> 00:25:05,470
by not querying the other states it can

00:25:02,950 --> 00:25:06,670
look at the other states but it doesn't

00:25:05,470 --> 00:25:10,420
have to have any coordination or

00:25:06,670 --> 00:25:12,700
anything so if it only has 0 or 1

00:25:10,420 --> 00:25:15,040
neighbors it dies because it's isolated

00:25:12,700 --> 00:25:17,080
just have 2 or 3 neighbors that's in a

00:25:15,040 --> 00:25:19,330
sweet spot it gets to live again if it

00:25:17,080 --> 00:25:22,060
has more than 3 it dies because it's

00:25:19,330 --> 00:25:25,060
overcrowded and if you're dead and

00:25:22,060 --> 00:25:28,570
you're touched by exactly 3 cells you

00:25:25,060 --> 00:25:30,640
are given life that's basically the game

00:25:28,570 --> 00:25:33,820
so you know you basically you die unless

00:25:30,640 --> 00:25:36,880
you are touched by 2 or 3 cells or you

00:25:33,820 --> 00:25:39,460
in it alive or you aren't dead and

00:25:36,880 --> 00:25:43,120
you're touched by exactly three so it's

00:25:39,460 --> 00:25:47,850
a it's a an interesting game raspberry

00:25:43,120 --> 00:25:54,550
pi is the hub so all of these devices

00:25:47,850 --> 00:25:56,260
feed into the pie the pie is okay I'll

00:25:54,550 --> 00:25:58,570
talk about the device look I'm trying to

00:25:56,260 --> 00:25:59,650
define them as dumb so they don't do

00:25:58,570 --> 00:26:01,720
anything they're basically like a

00:25:59,650 --> 00:26:03,460
keyboard in the display that got that

00:26:01,720 --> 00:26:06,340
level of dumbness not supposed to do

00:26:03,460 --> 00:26:09,660
anything all the functionality was is

00:26:06,340 --> 00:26:09,660
implemented up in node read

00:26:10,830 --> 00:26:17,679
the raspberry is my hub so it's it's a

00:26:15,880 --> 00:26:20,710
Wi-Fi access point it's the router it's

00:26:17,679 --> 00:26:23,620
the broker it's the node-red server and

00:26:20,710 --> 00:26:24,419
it has the dashboard server for the for

00:26:23,620 --> 00:26:27,039
the GUI

00:26:24,419 --> 00:26:30,940
I can't talk to the PI I can't do

00:26:27,039 --> 00:26:33,100
anything I don't talk about strudels if

00:26:30,940 --> 00:26:36,549
you want to know about security good you

00:26:33,100 --> 00:26:39,730
pull up the slide deck and it's it talks

00:26:36,549 --> 00:26:40,750
about basically how you try to secure

00:26:39,730 --> 00:26:43,570
this thing because out of the box

00:26:40,750 --> 00:26:45,760
node-red has no security everything is

00:26:43,570 --> 00:26:48,100
wide open it's really easy to use if you

00:26:45,760 --> 00:26:49,419
want to secure it you have to go in and

00:26:48,100 --> 00:26:52,390
start doing some bells and whistles

00:26:49,419 --> 00:26:53,890
mainly you turn on TLS and and get that

00:26:52,390 --> 00:26:57,220
working and then you put passwords on

00:26:53,890 --> 00:26:59,860
top of TLS and and even after you do all

00:26:57,220 --> 00:27:03,909
of that nonsense I don't think it's

00:26:59,860 --> 00:27:05,980
secure enough to do a security system

00:27:03,909 --> 00:27:07,260
you like it like to monitor windows and

00:27:05,980 --> 00:27:10,059
doors and that kind of thing because

00:27:07,260 --> 00:27:12,340
it's all most implementations going to

00:27:10,059 --> 00:27:14,559
be based on some wireless protocol

00:27:12,340 --> 00:27:17,470
it may not be Wi-Fi it may be mesh or

00:27:14,559 --> 00:27:21,880
maybe something else but any wireless

00:27:17,470 --> 00:27:23,980
protocol can be jammed or do a denial of

00:27:21,880 --> 00:27:26,080
service on it and I don't see how you

00:27:23,980 --> 00:27:27,400
can get around that I mean I don't know

00:27:26,080 --> 00:27:30,220
I don't know how they get away with it

00:27:27,400 --> 00:27:31,870
on the commercial systems because they

00:27:30,220 --> 00:27:34,780
Gaahl have got the same problem pic but

00:27:31,870 --> 00:27:39,030
my wife made me buy it yeah or we bought

00:27:34,780 --> 00:27:42,580
a security system for the home and I

00:27:39,030 --> 00:27:44,260
look at that thing you know and I don't

00:27:42,580 --> 00:27:46,720
feel secure why do I feel secure

00:27:44,260 --> 00:27:49,030
I don't feel secure but that's I mean

00:27:46,720 --> 00:27:51,820
because it's B it's this the new the new

00:27:49,030 --> 00:27:53,740
stuff is based on Wi-Fi

00:27:51,820 --> 00:27:55,750
so this says you have to have an access

00:27:53,740 --> 00:27:57,460
point it's up all the time even if they

00:27:55,750 --> 00:27:59,559
cut the power of the house and has to

00:27:57,460 --> 00:28:01,720
have a modem up all the time again same

00:27:59,559 --> 00:28:03,130
problem or you spend the extra bucks and

00:28:01,720 --> 00:28:05,049
put it in a cellular modem and then

00:28:03,130 --> 00:28:06,370
you're worried about whether Socko can

00:28:05,049 --> 00:28:08,650
get three or whether you got coverage in

00:28:06,370 --> 00:28:11,230
the house or not at that point in time I

00:28:08,650 --> 00:28:12,789
mean because the you know cells we will

00:28:11,230 --> 00:28:16,510
type anyway so let's see if we can get

00:28:12,789 --> 00:28:18,130
this thing to work first we'll see if we

00:28:16,510 --> 00:28:23,620
can talk to the PI

00:28:18,130 --> 00:28:24,910
uh and I'm not gonna type worth beans

00:28:23,620 --> 00:28:30,820
here this is funny

00:28:24,910 --> 00:28:46,030
I get the jitters okay well you're not

00:28:30,820 --> 00:28:48,480
on the stage and it's still not the

00:28:46,030 --> 00:28:50,680
accessport

00:28:48,480 --> 00:28:57,220
yeah I mean that's what this wire is

00:28:50,680 --> 00:28:59,530
here well I don't trust Wi-Fi well I

00:28:57,220 --> 00:29:02,710
mean all these nodes are connected with

00:28:59,530 --> 00:29:05,950
Wi-Fi and I'm hoping that they can find

00:29:02,710 --> 00:29:08,380
that I think the Phi's parrot app but I

00:29:05,950 --> 00:29:11,130
am certainly not hitting it even with a

00:29:08,380 --> 00:29:11,130
wired connection

00:29:13,350 --> 00:29:26,080
just give me so you can get in this way

00:29:23,230 --> 00:29:27,010
and that's well you can't even see what

00:29:26,080 --> 00:29:28,300
I'm doing I should make it at least

00:29:27,010 --> 00:29:34,980
bigger so you can see what my time

00:29:28,300 --> 00:29:38,890
fussing with I'll give you half a chance

00:29:34,980 --> 00:29:45,100
well I don't I think your suggestion of

00:29:38,890 --> 00:29:47,700
rebooting the PI might be okay but well

00:29:45,100 --> 00:29:47,700
you know something

00:29:56,710 --> 00:30:00,690
yes what I should you pick that up to

00:29:58,509 --> 00:30:00,690
here

00:30:10,110 --> 00:30:17,490
there's any questions while this thing's

00:30:12,250 --> 00:30:17,490
booting try to use the time

00:30:49,440 --> 00:30:55,440
oh I didn't know that you could do that

00:30:53,130 --> 00:30:57,540
anyway so don't look I repeat for the

00:30:55,440 --> 00:31:00,480
for the camera he's asking a question

00:30:57,540 --> 00:31:02,640
about with our views TLS on the broker

00:31:00,480 --> 00:31:04,290
and my answer is no but he was

00:31:02,640 --> 00:31:07,110
expressing his experience that he has

00:31:04,290 --> 00:31:10,200
done it and turned it on so that works

00:31:07,110 --> 00:31:12,840
for external access only but not for the

00:31:10,200 --> 00:31:17,090
set of notes that he has on his internal

00:31:12,840 --> 00:31:17,090
networks see if I can summarize that

00:31:20,630 --> 00:31:29,430
yeah yeah

00:31:26,660 --> 00:31:31,830
so it's nice to be able to he uses two

00:31:29,430 --> 00:31:34,740
ports one that's uses TLS and one that

00:31:31,830 --> 00:31:36,390
doesn't I was afraid of using TLS

00:31:34,740 --> 00:31:40,400
because I didn't think I was gonna be

00:31:36,390 --> 00:31:43,680
able to run kill us efficiently on these

00:31:40,400 --> 00:31:45,300
they're essentially Arduino boxes but

00:31:43,680 --> 00:31:46,800
they're it's I'm using a particle photon

00:31:45,300 --> 00:31:50,370
it's got a little bit more punch than a

00:31:46,800 --> 00:32:05,330
than an Arduino but not enough and this

00:31:50,370 --> 00:32:05,330
is not there right well did that stop it

00:32:07,390 --> 00:32:16,230
this is interesting well yeah I can't

00:32:14,230 --> 00:32:21,550
see

00:32:16,230 --> 00:32:24,280
okay look tell me one there oh here let

00:32:21,550 --> 00:32:26,380
me find an interesting pattern so this

00:32:24,280 --> 00:32:30,550
is the budget oh I don't understand what

00:32:26,380 --> 00:32:32,350
I got I've got a keyboard here so this

00:32:30,550 --> 00:32:35,620
is so the kids get in a trap oh excuse

00:32:32,350 --> 00:32:36,790
me they get in ER patterns and so this

00:32:35,620 --> 00:32:39,660
is a pattern just it's a bunch of

00:32:36,790 --> 00:32:42,640
beacons and so if I push this button it

00:32:39,660 --> 00:32:44,110
you know yeah a beacon basically just

00:32:42,640 --> 00:32:47,860
goes back and forth between two states

00:32:44,110 --> 00:32:49,720
so yours if you look at the other

00:32:47,860 --> 00:32:52,780
monitors they're gonna be pretty life

00:32:49,720 --> 00:32:56,500
this one it's got a little slowness

00:32:52,780 --> 00:33:00,090
problem but it'll catch up eventually so

00:32:56,500 --> 00:33:00,090
let's let's see if I can find an equerry

00:33:01,740 --> 00:33:06,030
there's a whole bunch of static patterns

00:33:11,360 --> 00:33:18,620
see yeah it goes up and comes down but

00:33:14,840 --> 00:33:20,060
then when the life game happens I'm

00:33:18,620 --> 00:33:22,310
gonna just play with this pattern for a

00:33:20,060 --> 00:33:23,180
little bit because this illustrates part

00:33:22,310 --> 00:33:26,780
of the problem I'm having with this

00:33:23,180 --> 00:33:29,260
particular device it's not real time and

00:33:26,780 --> 00:33:32,810
so this pattern will alternate between

00:33:29,260 --> 00:33:34,280
two states oh no it's gonna take off on

00:33:32,810 --> 00:33:39,290
its own so I'm gonna press and hold this

00:33:34,280 --> 00:33:41,060
and let it take off this one you see

00:33:39,290 --> 00:33:42,580
it's got different colors that's because

00:33:41,060 --> 00:33:44,510
of the way it's updating each

00:33:42,580 --> 00:33:46,250
generations got a different color and

00:33:44,510 --> 00:33:49,280
this one's not generate not updating

00:33:46,250 --> 00:34:00,430
very fast so it's all one color then

00:33:49,280 --> 00:34:00,430
it's done at some time anyway was

00:34:05,010 --> 00:34:14,050
nobody all of them redoing subs because

00:34:08,320 --> 00:34:17,260
this one I could control it with this

00:34:14,050 --> 00:34:19,780
but it tells the node-red

00:34:17,260 --> 00:34:22,510
to publish stuff down so no dreads doing

00:34:19,780 --> 00:34:25,090
all the publishing so no dread it's

00:34:22,510 --> 00:34:28,270
actually acting as a client off of the

00:34:25,090 --> 00:34:31,570
broker so it's just another box but it's

00:34:28,270 --> 00:34:32,650
no dread is doing the publishing but

00:34:31,570 --> 00:34:39,700
this takes a long time I didn't think

00:34:32,650 --> 00:34:44,919
took this long waves you at home okay so

00:34:39,700 --> 00:34:56,679
let me see if this bothers me I can't

00:34:44,919 --> 00:35:05,710
sit on here like beer with me half a

00:34:56,679 --> 00:35:12,640
second oh I get into the other way let's

00:35:05,710 --> 00:35:14,280
just see if we can get in fingers

00:35:12,640 --> 00:35:19,960
crossed I don't think I'm getting in

00:35:14,280 --> 00:35:27,730
let's try a different thing let's I'm

00:35:19,960 --> 00:35:29,950
gonna crap this out and let me see if I

00:35:27,730 --> 00:35:32,310
cooked up I worked on the the Wi-Fi

00:35:29,950 --> 00:35:32,310
network

00:35:42,319 --> 00:35:45,500
there it is

00:35:51,490 --> 00:35:56,650
Oh perfect okay so I'm gonna make this

00:35:55,660 --> 00:36:02,220
little bigger so you can see what I'm

00:35:56,650 --> 00:36:04,120
doing okay so in general when I okay

00:36:02,220 --> 00:36:05,470
just a little bit different what you saw

00:36:04,120 --> 00:36:09,340
before because now all of a sudden I'm

00:36:05,470 --> 00:36:13,090
using a lot of tabs in that central the

00:36:09,340 --> 00:36:15,700
central pane and I'm going to take the

00:36:13,090 --> 00:36:17,350
trellis one so why I developed the code

00:36:15,700 --> 00:36:19,180
is I generate a whole bunch of these

00:36:17,350 --> 00:36:22,710
things that are just basically debug

00:36:19,180 --> 00:36:26,320
statements and so I can turn them on oh

00:36:22,710 --> 00:36:28,060
like by clicking on this little thing

00:36:26,320 --> 00:36:31,480
you can turn the debug message on and

00:36:28,060 --> 00:36:33,520
off so what you set these things up to

00:36:31,480 --> 00:36:35,230
debug as you go through and I just leave

00:36:33,520 --> 00:36:41,200
the junk there I probably should get rid

00:36:35,230 --> 00:36:43,540
of it when I get done but - let me see

00:36:41,200 --> 00:36:55,240
if we can can we flip one of these

00:36:43,540 --> 00:37:00,070
matrixes no I need to what I need now

00:36:55,240 --> 00:37:02,580
once that's loaded I think I can well

00:37:00,070 --> 00:37:04,450
that's not working at the moment either

00:37:02,580 --> 00:37:06,070
the switch box

00:37:04,450 --> 00:37:07,840
let me mini feel like the matrix so I

00:37:06,070 --> 00:37:10,180
can rotate it I chipped it up shift it

00:37:07,840 --> 00:37:13,230
down and do some stuff with it but but

00:37:10,180 --> 00:37:15,340
just to show you the life game is enough

00:37:13,230 --> 00:37:17,100
to show you what's going on with that so

00:37:15,340 --> 00:37:20,890
I'm get down here is where the life is

00:37:17,100 --> 00:37:22,150
I'm gonna back off on this thing see you

00:37:20,890 --> 00:37:23,110
know you guys have heard about spaghetti

00:37:22,150 --> 00:37:25,270
 oops

00:37:23,110 --> 00:37:32,020
this stuff actually looks like spaghetti

00:37:25,270 --> 00:37:33,910
but it's I could probably clean this up

00:37:32,020 --> 00:37:36,190
but one of the problems I found with

00:37:33,910 --> 00:37:38,410
node-red which is sort of interesting is

00:37:36,190 --> 00:37:40,660
that when you make a function is you

00:37:38,410 --> 00:37:43,570
can't replicate it you can't link it to

00:37:40,660 --> 00:37:45,190
another copy of it so if you want you

00:37:43,570 --> 00:37:47,350
know like we've make three copies of it

00:37:45,190 --> 00:37:49,120
and you said oh god I need to change it

00:37:47,350 --> 00:37:51,640
now you got to make changes in all three

00:37:49,120 --> 00:37:52,840
of the nodes where if I just draw this

00:37:51,640 --> 00:37:56,410
connector in there and then it's all

00:37:52,840 --> 00:37:58,300
hooked up so the game of life itself is

00:37:56,410 --> 00:38:01,390
this so I'm gonna make it bigger again

00:37:58,300 --> 00:38:05,829
see what's going on

00:38:01,390 --> 00:38:07,359
is this basic note here and this is the

00:38:05,829 --> 00:38:08,859
most complicated node in the whole thing

00:38:07,359 --> 00:38:11,709
so I'm just gonna show you what the text

00:38:08,859 --> 00:38:13,829
looks like for that it's got a

00:38:11,709 --> 00:38:15,940
subroutine that counts the neighbors and

00:38:13,829 --> 00:38:17,589
then there's another subroutine that

00:38:15,940 --> 00:38:22,229
goes through and figures out what the

00:38:17,589 --> 00:38:22,229
next state should be and that's it

00:38:22,319 --> 00:38:27,999
that's the most complicated one so I

00:38:24,489 --> 00:38:30,549
mean basically this thing I I am really

00:38:27,999 --> 00:38:30,999
impressed with this tool once you got it

00:38:30,549 --> 00:38:36,190
working

00:38:30,999 --> 00:38:39,819
oh I know what I was gonna do that's 70

00:38:36,190 --> 00:38:42,729
lines in that one most of these things

00:38:39,819 --> 00:38:48,069
when there's I mean like this grid 2

00:38:42,729 --> 00:38:51,150
matrix I'm going from a grid as I define

00:38:48,069 --> 00:38:57,039
the grid as a binary matrix so it's a

00:38:51,150 --> 00:39:00,190
256 or 256 array of billions and I

00:38:57,039 --> 00:39:03,160
convert that into an array that I sent

00:39:00,190 --> 00:39:05,949
down to these panels it's a 16 number

00:39:03,160 --> 00:39:08,380
array of 16-bit numbers I mean so I'm

00:39:05,949 --> 00:39:10,869
doing simple I'm not trying to send down

00:39:08,380 --> 00:39:17,650
those individual color I just send down

00:39:10,869 --> 00:39:20,019
a color command and a in this array but

00:39:17,650 --> 00:39:25,150
what this one we can show that the - the

00:39:20,019 --> 00:39:28,410
dashboard thing so if I pull up guess

00:39:25,150 --> 00:39:28,410
what someone has secured this

00:39:32,950 --> 00:39:39,080
so that is basically the same thing too

00:39:35,570 --> 00:39:42,170
slight had this is for the life game

00:39:39,080 --> 00:39:45,110
it's so like what it's telling telling

00:39:42,170 --> 00:39:46,520
you is it I will run their life thing

00:39:45,110 --> 00:39:51,260
again so that we can see how that works

00:39:46,520 --> 00:39:55,790
in real time I'm just going to take a it

00:39:51,260 --> 00:39:57,980
shows you just to play around with a

00:39:55,790 --> 00:39:59,930
demo so it shows you a simple gauge and

00:39:57,980 --> 00:40:02,900
then I think I got one that's got a

00:39:59,930 --> 00:40:05,630
bunch of more gauges on it and these

00:40:02,900 --> 00:40:09,230
should all be on there so like this the

00:40:05,630 --> 00:40:15,200
light one is rate is is real time I

00:40:09,230 --> 00:40:20,540
should be able to turn that off and then

00:40:15,200 --> 00:40:22,730
come back up again so I mean see just as

00:40:20,540 --> 00:40:24,260
it it's an add-on if you head on the

00:40:22,730 --> 00:40:25,580
dashboard then this stuff come you know

00:40:24,260 --> 00:40:29,240
you get to turn around with these things

00:40:25,580 --> 00:40:33,200
so if we ran longer these graphs would

00:40:29,240 --> 00:40:34,670
work but the you saw the gauge work at

00:40:33,200 --> 00:40:36,650
least the one I mean the temperature is

00:40:34,670 --> 00:40:38,540
kind of hard to show temperature in real

00:40:36,650 --> 00:40:48,500
time so let's go back to the life game

00:40:38,540 --> 00:40:50,600
and so I'm going to I'm just gonna cheat

00:40:48,500 --> 00:40:53,990
a little bit I'll bring up a simple

00:40:50,600 --> 00:40:57,800
pattern and now if I go through one

00:40:53,990 --> 00:41:00,010
generation let's see if we can make that

00:40:57,800 --> 00:41:00,010
bigger

00:41:11,359 --> 00:41:18,810
just this thing I mean I I did I didn't

00:41:16,830 --> 00:41:21,990
implement the life part is the dashboard

00:41:18,810 --> 00:41:24,240
I'm I was having too much fun with this

00:41:21,990 --> 00:41:25,710
box I mean I I mean this this thing is

00:41:24,240 --> 00:41:27,839
the time waster I mean I'm back in the

00:41:25,710 --> 00:41:29,310
seventies wasting time except I'm not

00:41:27,839 --> 00:41:34,260
using the reams of paper I'm just using

00:41:29,310 --> 00:41:36,480
gobs of time so again this is one at a

00:41:34,260 --> 00:41:40,200
time if I get lazy I push and I push and

00:41:36,480 --> 00:41:48,150
hold this let it go but that's all I

00:41:40,200 --> 00:41:49,500
know dread so yeah well once it it's

00:41:48,150 --> 00:41:53,460
either going to be dead or oscillating

00:41:49,500 --> 00:41:55,109
or well or live I mean it's I compare

00:41:53,460 --> 00:42:05,730
every generation with every other

00:41:55,109 --> 00:42:08,700
generation to see if it's looping ya

00:42:05,730 --> 00:42:13,349
know dread and all of these boxes are

00:42:08,700 --> 00:42:19,369
the nodes off of the broker so no dread

00:42:13,349 --> 00:42:21,900
is really it X mainly as a publisher it

00:42:19,369 --> 00:42:24,450
but it subscribes to missus just do so

00:42:21,900 --> 00:42:27,450
with subscribes to the buttons so I

00:42:24,450 --> 00:42:29,040
press a button you capture the button

00:42:27,450 --> 00:42:30,660
and you do whatever you gonna do with it

00:42:29,040 --> 00:42:31,830
I mean it's so like almost going back

00:42:30,660 --> 00:42:33,750
and show you what this happens with that

00:42:31,830 --> 00:42:34,619
auto repeat oops let's go the right

00:42:33,750 --> 00:42:42,270
direction

00:42:34,619 --> 00:42:43,650
let's go it's in here this one so

00:42:42,270 --> 00:42:47,220
they're on a repeat so here I've got

00:42:43,650 --> 00:42:48,810
that button that you press the switch

00:42:47,220 --> 00:42:51,390
statement basically says you want to

00:42:48,810 --> 00:42:53,580
capture the cheese States no I don't

00:42:51,390 --> 00:42:56,070
think this is necessarily necessary here

00:42:53,580 --> 00:43:00,869
but what a switch looks an awful lot

00:42:56,070 --> 00:43:03,900
like a C switch statement or every other

00:43:00,869 --> 00:43:05,160
language of JavaScript so you can

00:43:03,900 --> 00:43:07,920
generate as many outputs here as you

00:43:05,160 --> 00:43:09,720
want sometimes you only need one but

00:43:07,920 --> 00:43:12,060
like the switches got two states it's

00:43:09,720 --> 00:43:14,190
got on and off and so it sends a 1 or a

00:43:12,060 --> 00:43:16,080
0 and so sometimes you want to capture

00:43:14,190 --> 00:43:19,320
the 0 in this case I do most of time I

00:43:16,080 --> 00:43:21,000
don't care but I still use the switch

00:43:19,320 --> 00:43:22,380
statement so I pick up the one the one

00:43:21,000 --> 00:43:23,270
transition I don't want to be triggering

00:43:22,380 --> 00:43:24,950
off the

00:43:23,270 --> 00:43:27,890
most of the time just in this case I do

00:43:24,950 --> 00:43:30,320
want to trigger off the off there's a

00:43:27,890 --> 00:43:32,330
one-second delay and then once you have

00:43:30,320 --> 00:43:35,270
that one-second delay then it does this

00:43:32,330 --> 00:43:37,250
resent and the resend keeps going until

00:43:35,270 --> 00:43:39,410
it gets reset I mean so like if you look

00:43:37,250 --> 00:43:41,450
at this recent there's all these things

00:43:39,410 --> 00:43:44,810
that got some configuration stuff that

00:43:41,450 --> 00:43:46,640
you have to deal with it so you can pick

00:43:44,810 --> 00:43:48,650
whether you want the thing to be reset

00:43:46,640 --> 00:43:51,950
or whatever you want to do the mode this

00:43:48,650 --> 00:43:55,910
one is to have it resend periodically I

00:43:51,950 --> 00:43:58,640
picked 33 millets 333 milliseconds just

00:43:55,910 --> 00:44:00,680
a name out of that the Hat didn't really

00:43:58,640 --> 00:44:03,230
matter I want the thing to be reset if

00:44:00,680 --> 00:44:04,400
it has a trigger that's equal to zero so

00:44:03,230 --> 00:44:05,690
when it gets done with a life game I

00:44:04,400 --> 00:44:06,980
want to stop I don't want that thing to

00:44:05,690 --> 00:44:08,420
keep running and then the next time

00:44:06,980 --> 00:44:11,270
you're running life it's still running

00:44:08,420 --> 00:44:12,980
it had to stop somewhere I could have

00:44:11,270 --> 00:44:15,410
stopped it on the zero transition of the

00:44:12,980 --> 00:44:18,140
button but I want to walk away from the

00:44:15,410 --> 00:44:22,460
button so I mean so you got a lot of

00:44:18,140 --> 00:44:26,270
power in this thing I don't know is

00:44:22,460 --> 00:44:32,210
there anything else you'd like to see

00:44:26,270 --> 00:44:35,440
okay see some of it the this dashboard

00:44:32,210 --> 00:44:38,330
tab over here I mean okay on the when I

00:44:35,440 --> 00:44:41,300
when that dashboard gets installed it

00:44:38,330 --> 00:44:43,280
adds extra things over on the right-hand

00:44:41,300 --> 00:44:46,640
pane so the first one only had three

00:44:43,280 --> 00:44:50,150
panes now it's got five volts of pain so

00:44:46,640 --> 00:44:53,090
this dashboard pane allows you to

00:44:50,150 --> 00:44:54,230
regroup things so you don't they don't

00:44:53,090 --> 00:44:56,119
have to be in the order that they're

00:44:54,230 --> 00:44:59,210
that it finds them and you group them

00:44:56,119 --> 00:45:03,560
how you want and that's what defines how

00:44:59,210 --> 00:45:05,600
they display so like the you basically

00:45:03,560 --> 00:45:08,690
we need to find a dashboard it's a 3 by

00:45:05,600 --> 00:45:13,510
X matrix and so you define your but when

00:45:08,690 --> 00:45:18,440
you find a button let's see it on life

00:45:13,510 --> 00:45:19,790
there's one of these I want to edit that

00:45:18,440 --> 00:45:22,100
flip horizontal button it's just a

00:45:19,790 --> 00:45:24,500
typical button I made it 3 by 2 so it

00:45:22,100 --> 00:45:27,700
makes it three wide and too deep just to

00:45:24,500 --> 00:45:27,700
make a pretty good sized button

00:45:27,790 --> 00:45:34,190
you know you label it you you know those

00:45:32,690 --> 00:45:35,810
things had some icons on there's a

00:45:34,190 --> 00:45:36,859
little arrows I know if you know this

00:45:35,810 --> 00:45:38,619
but you know wait dude

00:45:36,859 --> 00:45:41,630
couple libraries you can bring in and

00:45:38,619 --> 00:45:43,730
bring in some icons it's not as much as

00:45:41,630 --> 00:45:46,130
I'd like but again it's a pretty simple

00:45:43,730 --> 00:45:47,779
easy tool if you they have other people

00:45:46,130 --> 00:45:51,410
have implemented stuff that does the

00:45:47,779 --> 00:45:52,670
full HTML CSS thing and you can make

00:45:51,410 --> 00:45:55,549
your buttons look any way you want them

00:45:52,670 --> 00:46:06,529
to but for quick and dirty this is a

00:45:55,549 --> 00:46:16,849
pretty good tool oh okay what that would

00:46:06,529 --> 00:46:26,269
be like I am pretty sure this is what no

00:46:16,849 --> 00:46:32,480
it's not the we go through up above here

00:46:26,269 --> 00:46:34,910
they with all the flips so I think

00:46:32,480 --> 00:46:36,160
that's this button here oh it's so like

00:46:34,910 --> 00:46:38,660
if I went down here

00:46:36,160 --> 00:46:39,470
I'm showing you she thinks at the same

00:46:38,660 --> 00:46:43,339
time I shouldn't do that

00:46:39,470 --> 00:46:45,259
so when you see you can go up to social

00:46:43,339 --> 00:46:47,839
networking you can store I should talk

00:46:45,259 --> 00:46:49,220
about store - so here's the raspberry pi

00:46:47,839 --> 00:46:50,720
stuff and here's the dashboard so you

00:46:49,220 --> 00:46:52,069
have different kinds of switches and

00:46:50,720 --> 00:46:53,420
difference of things that you do so

00:46:52,069 --> 00:46:55,339
these things just pull in like anything

00:46:53,420 --> 00:46:57,559
else so this thing he's talking about is

00:46:55,339 --> 00:47:00,349
the button so like this chip left is the

00:46:57,559 --> 00:47:02,930
same kind of button so if you click on

00:47:00,349 --> 00:47:04,940
that then you know it's got a size to it

00:47:02,930 --> 00:47:09,220
in you know there are else and whatnot

00:47:04,940 --> 00:47:09,220
so how that kind that gets done

00:47:12,840 --> 00:47:16,590
yeah you wear it into where the function

00:47:15,210 --> 00:47:17,730
is I mean that was part of the problem I

00:47:16,590 --> 00:47:19,560
have with some of these things like

00:47:17,730 --> 00:47:23,940
selecting this up I've got three things

00:47:19,560 --> 00:47:26,670
that are fanning in and it turns out

00:47:23,940 --> 00:47:28,470
that this function get matrix doesn't

00:47:26,670 --> 00:47:31,860
really do anything it just says get this

00:47:28,470 --> 00:47:34,980
you know slow duck get which a flow is

00:47:31,860 --> 00:47:37,650
the way if you store information in the

00:47:34,980 --> 00:47:39,240
context so you can think of this as like

00:47:37,650 --> 00:47:41,460
a global variable they've got three

00:47:39,240 --> 00:47:43,530
levels of global variables and this

00:47:41,460 --> 00:47:45,960
thing actually four but there's three

00:47:43,530 --> 00:47:49,080
basic ones so you can have it within the

00:47:45,960 --> 00:47:51,180
node and within which the node goes away

00:47:49,080 --> 00:47:53,070
as soon as it stops executing you can be

00:47:51,180 --> 00:47:55,950
within the flow a flow was one of those

00:47:53,070 --> 00:47:58,460
tabs so when I'm talking about a tab I'm

00:47:55,950 --> 00:48:00,390
talking what one of these tabs up here

00:47:58,460 --> 00:48:04,830
and then they have another one that goes

00:48:00,390 --> 00:48:06,240
across all of the flows this that thing

00:48:04,830 --> 00:48:07,950
when I was cycling through the different

00:48:06,240 --> 00:48:11,220
patterns that's actually stored in a

00:48:07,950 --> 00:48:12,930
file and so that's a third level or a

00:48:11,220 --> 00:48:16,380
fourth level that you can put them into

00:48:12,930 --> 00:48:18,840
you and it was a pain but it's kind of

00:48:16,380 --> 00:48:20,850
fun to get that to work to you because

00:48:18,840 --> 00:48:24,240
it's the safe matrix so it's when you

00:48:20,850 --> 00:48:25,950
get into the function they have the

00:48:24,240 --> 00:48:28,590
storage sink so that goes into a file or

00:48:25,950 --> 00:48:30,300
comes out of a file subtle difference in

00:48:28,590 --> 00:48:33,320
the icon you have to look where the

00:48:30,300 --> 00:48:36,360
arrow is and so this is going into the

00:48:33,320 --> 00:48:38,520
into the file and you know it basically

00:48:36,360 --> 00:48:40,860
just says you store it in this file and

00:48:38,520 --> 00:48:42,330
then when you pull it out of the file

00:48:40,860 --> 00:48:44,280
you know it's going in as a string and

00:48:42,330 --> 00:48:47,040
you don't know that because you didn't

00:48:44,280 --> 00:48:49,470
set it up when you take it out of the

00:48:47,040 --> 00:48:51,270
file you got to convert it back into

00:48:49,470 --> 00:48:52,440
JSON okay get back into the object

00:48:51,270 --> 00:48:57,570
format and then you do whatever you want

00:48:52,440 --> 00:49:00,240
to do with it but it's fun I mean I

00:48:57,570 --> 00:49:02,130
don't I I can't I didn't think

00:49:00,240 --> 00:49:04,890
programming would be this much fun you

00:49:02,130 --> 00:49:06,300
know just you just took stuff up yeah it

00:49:04,890 --> 00:49:07,410
doesn't always work the first time but

00:49:06,300 --> 00:49:12,420
you know you mess with a little bit and

00:49:07,410 --> 00:49:14,960
you get it to work I know any other

00:49:12,420 --> 00:49:14,960
questions

00:49:28,699 --> 00:49:36,479
no okay I'll talk about able to taste a

00:49:31,709 --> 00:49:38,999
little bit I don't know how much of this

00:49:36,479 --> 00:49:40,489
I could show you but these are just tool

00:49:38,999 --> 00:49:42,599
boxes that you get it

00:49:40,489 --> 00:49:45,839
Home Depot or whatever it's been

00:49:42,599 --> 00:49:50,009
modified a little bit see if I can get

00:49:45,839 --> 00:49:52,170
it open it's idiot-proof I guess I know

00:49:50,009 --> 00:49:56,699
it's I should not have opened it up that

00:49:52,170 --> 00:50:01,069
way mm-hmm it's still a porter um so

00:49:56,699 --> 00:50:01,069
what it is I'll just talk about it

00:50:01,459 --> 00:50:05,400
Adafruit is a great company they sell

00:50:03,779 --> 00:50:07,729
all sorts of little gadgets for people

00:50:05,400 --> 00:50:11,009
that want to play with electronics kids

00:50:07,729 --> 00:50:14,430
adults big kids whatever they sell this

00:50:11,009 --> 00:50:17,609
kit that's alright it's a board a 4 by 4

00:50:14,430 --> 00:50:21,869
matrix and it it used to not be lit up

00:50:17,609 --> 00:50:23,759
now it's lit up in it they call it a

00:50:21,869 --> 00:50:25,049
trellis board and you can take the

00:50:23,759 --> 00:50:28,729
trellis boards and you cut them up so

00:50:25,049 --> 00:50:33,420
this is an array of 16 of those boards

00:50:28,729 --> 00:50:37,469
16 by 16 but it's and it talks up to all

00:50:33,420 --> 00:50:39,449
of those 16 boards with one data wire so

00:50:37,469 --> 00:50:43,170
you only hook up power ground and data

00:50:39,449 --> 00:50:46,079
and so when it wants to update those

00:50:43,170 --> 00:50:50,249
LEDs it has to go out it selects the

00:50:46,079 --> 00:50:51,749
board then it pumps data into that board

00:50:50,249 --> 00:50:53,880
for the lights and I don't know if it's

00:50:51,749 --> 00:50:54,239
doing all 16 or if it's only doing one

00:50:53,880 --> 00:50:57,420
right

00:50:54,239 --> 00:50:59,390
I suspect it's doing all 16 then it goes

00:50:57,420 --> 00:51:02,130
to the next LED and does the same thing

00:50:59,390 --> 00:51:04,170
because it was taken over a millisecond

00:51:02,130 --> 00:51:07,319
- you update each LED that's what that's

00:51:04,170 --> 00:51:10,920
why it's the damn slow if the keyboard

00:51:07,319 --> 00:51:13,259
scan had a 500 micro second delay in

00:51:10,920 --> 00:51:15,660
there I have no idea why that delay is

00:51:13,259 --> 00:51:17,549
in there I took it out worked fine for

00:51:15,660 --> 00:51:20,099
me it's except every once while this

00:51:17,549 --> 00:51:22,739
thing gets so it probably it's

00:51:20,099 --> 00:51:25,680
necessary but I didn't want to rewrite

00:51:22,739 --> 00:51:27,980
their drivers whoever their driver

00:51:25,680 --> 00:51:31,050
writer was

00:51:27,980 --> 00:51:33,870
belong to the Ritchie Kernighan school

00:51:31,050 --> 00:51:35,730
of C programming and so all of the names

00:51:33,870 --> 00:51:38,850
are either one or two characters I mean

00:51:35,730 --> 00:51:45,120
it's you know the only way to understand

00:51:38,850 --> 00:51:46,590
the program I mean it's kind of nuts in

00:51:45,120 --> 00:51:47,760
for what I you know I didn't want to

00:51:46,590 --> 00:51:50,100
have to go through that kind of a pain

00:51:47,760 --> 00:51:53,760
just to get a little circuit ready to

00:51:50,100 --> 00:51:55,860
work so it's I changed it so that it

00:51:53,760 --> 00:52:00,000
only updates one LED at a time and keeps

00:51:55,860 --> 00:52:01,830
the thing relatively good the the is

00:52:00,000 --> 00:52:04,800
this rotary encoders on there and the

00:52:01,830 --> 00:52:06,300
rotary encoders you have to you you have

00:52:04,800 --> 00:52:07,860
to pull them but like every 20

00:52:06,300 --> 00:52:10,410
milliseconds or you're not going to get

00:52:07,860 --> 00:52:13,080
them and it was making me do it every 50

00:52:10,410 --> 00:52:15,360
and so I was turning right it was saying

00:52:13,080 --> 00:52:18,450
I was turning left I said no no no this

00:52:15,360 --> 00:52:21,360
is I mean so it was messing it up so I

00:52:18,450 --> 00:52:22,980
made at least so they they were sort of

00:52:21,360 --> 00:52:29,100
they're not perfect but they're better

00:52:22,980 --> 00:52:39,030
than they were but no it's all particle

00:52:29,100 --> 00:52:40,830
photon app I would be worse well that's

00:52:39,030 --> 00:52:42,330
so that's problem okay so like particle

00:52:40,830 --> 00:52:44,070
photon there's great device I don't know

00:52:42,330 --> 00:52:46,320
if you ever used it or not but it's it's

00:52:44,070 --> 00:52:49,010
a neat device but it comes built in with

00:52:46,320 --> 00:52:51,840
this capability it talks to particle IO

00:52:49,010 --> 00:52:53,850
particle iOS the cloud and it keeps

00:52:51,840 --> 00:52:56,580
track of everything you do so it uses a

00:52:53,850 --> 00:52:58,860
protocol it's very similar to mqtt to

00:52:56,580 --> 00:53:00,180
get it up to the cloud so the first

00:52:58,860 --> 00:53:03,150
thing it does when you power it up is it

00:53:00,180 --> 00:53:06,920
says okay Wi-Fi are you there and if

00:53:03,150 --> 00:53:09,150
Wi-Fi is not there it stops it's done

00:53:06,920 --> 00:53:10,560
then the next thing it does it says a

00:53:09,150 --> 00:53:14,880
particle IO are you there

00:53:10,560 --> 00:53:17,070
and if it's not there it's done and you

00:53:14,880 --> 00:53:19,020
sit there so you have to take those two

00:53:17,070 --> 00:53:22,110
things and take them out then you have

00:53:19,020 --> 00:53:23,790
to put Wi-Fi back in to do this and

00:53:22,110 --> 00:53:26,460
that's part of the reason you don't have

00:53:23,790 --> 00:53:28,980
control with real-time is because this

00:53:26,460 --> 00:53:30,630
thing goes out and pulls Wi-Fi ever

00:53:28,980 --> 00:53:32,370
wants Milan when it's pulling Wi-Fi

00:53:30,630 --> 00:53:35,430
you're not doing anything else I mean so

00:53:32,370 --> 00:53:37,130
you real-time if you know any time you

00:53:35,430 --> 00:53:39,660
try to do communications like that

00:53:37,130 --> 00:53:40,170
you're real-time goes to hell you have

00:53:39,660 --> 00:53:55,290
to have a

00:53:40,170 --> 00:53:57,210
dedicated it it needs yeah yeah I mean

00:53:55,290 --> 00:54:01,190
an Arduino Arduino would have enough

00:53:57,210 --> 00:54:04,080
power to run that and then just use the

00:54:01,190 --> 00:54:06,390
the photon as a communication device I

00:54:04,080 --> 00:54:07,860
mean something you need to have a yet to

00:54:06,390 --> 00:54:09,570
separate communication device from the

00:54:07,860 --> 00:54:10,890
scanning device I mean it's you can't

00:54:09,570 --> 00:54:14,670
have them in the same device it just

00:54:10,890 --> 00:54:18,500
doesn't work and that's the problem with

00:54:14,670 --> 00:54:18,500
pot well a lot of things with flies bit

00:54:25,980 --> 00:54:32,740
yeah I know how much they got captured

00:54:31,150 --> 00:54:35,920
but anyways basically the comment was

00:54:32,740 --> 00:54:38,020
that you have to have a separation of

00:54:35,920 --> 00:54:40,290
the pie and the microcontroller or the

00:54:38,020 --> 00:54:43,200
communication and the microcontroller

00:54:40,290 --> 00:54:56,710
okay

00:54:43,200 --> 00:54:58,599
any other questions yeah I mean we can

00:54:56,710 --> 00:55:02,950
play with that this thing a little more

00:54:58,599 --> 00:55:06,130
if you want to eat up the time but well

00:55:02,950 --> 00:55:07,359
I mean I can get it close but you have

00:55:06,130 --> 00:55:09,790
to do the old-fashioned ways put the

00:55:07,359 --> 00:55:12,030
boxes back together I never glued these

00:55:09,790 --> 00:55:12,030
things

00:55:43,560 --> 00:55:49,210
you just saw together yeah they're

00:55:46,990 --> 00:55:53,740
designed so well it looked like it was

00:55:49,210 --> 00:56:07,720
one no it's not one board it's 16 little

00:55:53,740 --> 00:56:10,720
dinky boards okay well I mean like these

00:56:07,720 --> 00:56:13,900
are neopixels too but but you talked to

00:56:10,720 --> 00:56:15,610
him as a string and so and use fast

00:56:13,900 --> 00:56:19,810
light on that and so he can keep up

00:56:15,610 --> 00:56:25,120
we're this one this one it uses some

00:56:19,810 --> 00:56:34,050
other good thing did you know I had a

00:56:25,120 --> 00:56:37,530
hip a friend print that he printed it

00:56:34,050 --> 00:56:37,530

YouTube URL: https://www.youtube.com/watch?v=5tHWhWlTwKc


