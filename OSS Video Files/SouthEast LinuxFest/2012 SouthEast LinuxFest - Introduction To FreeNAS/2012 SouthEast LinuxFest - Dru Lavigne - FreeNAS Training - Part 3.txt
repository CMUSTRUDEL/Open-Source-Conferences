Title: 2012 SouthEast LinuxFest - Dru Lavigne - FreeNAS Training - Part 3
Publication date: 2014-01-16
Playlist: 2012 SouthEast LinuxFest - Introduction To FreeNAS
Description: 
	2012 SouthEast LinuxFest
Dru Lavigne
Full Day FreeNAS Training - Part 3
Using the GUI, Configuration Workflow Continued
Captions: 
	00:00:00,000 --> 00:00:05,279
the following presentation was recorded

00:00:02,490 --> 00:00:08,040
the 2012 southeast linux fest in

00:00:05,279 --> 00:00:10,410
charlotte north carolina it is licensed

00:00:08,040 --> 00:00:12,090
under a creative commons license for

00:00:10,410 --> 00:00:16,859
more information about the southeast

00:00:12,090 --> 00:00:19,230
linux fest visit www.lend expense org

00:00:16,859 --> 00:00:21,320
the southeast linux fest would like to

00:00:19,230 --> 00:00:23,279
thank the following diamond sponsors in

00:00:21,320 --> 00:00:27,480
2012 for helping make these videos

00:00:23,279 --> 00:00:29,760
possible ok so i think our sound level

00:00:27,480 --> 00:00:33,239
is back and we're not as echoey and we

00:00:29,760 --> 00:00:35,370
should be good ok so just before a break

00:00:33,239 --> 00:00:38,129
we started talking about sharing and i

00:00:35,370 --> 00:00:41,640
gave some examples on why you don't mix

00:00:38,129 --> 00:00:45,030
and match multiple types of shares on

00:00:41,640 --> 00:00:47,370
the same volume or data set you're fine

00:00:45,030 --> 00:00:49,739
to create different types of shares just

00:00:47,370 --> 00:00:53,399
don't do on the same piece of storage

00:00:49,739 --> 00:00:56,730
either do a share / data set or a share

00:00:53,399 --> 00:01:00,000
per volume we'll take a quick look at

00:00:56,730 --> 00:01:02,010
what sort of decision-making goes behind

00:01:00,000 --> 00:01:03,989
deciding what type of share is going to

00:01:02,010 --> 00:01:06,990
be best for your environment and it's

00:01:03,989 --> 00:01:09,680
really going to depend upon mostly what

00:01:06,990 --> 00:01:12,630
clients you're running and the secondary

00:01:09,680 --> 00:01:14,880
decision will be what sort of network

00:01:12,630 --> 00:01:18,630
performance am i going to need to

00:01:14,880 --> 00:01:21,299
support so if you are in an All MAC

00:01:18,630 --> 00:01:22,950
environment an apple share is obviously

00:01:21,299 --> 00:01:24,509
a no brainer that's the type that you're

00:01:22,950 --> 00:01:26,880
going to want to set up it's going to

00:01:24,509 --> 00:01:30,930
have all of the features in this share

00:01:26,880 --> 00:01:33,659
that your mat clients are going to need

00:01:30,930 --> 00:01:35,759
to support and one of the things we get

00:01:33,659 --> 00:01:37,799
in the apple shares let's just see if

00:01:35,759 --> 00:01:40,799
it's in this screen I don't think it is

00:01:37,799 --> 00:01:43,409
I think it's any other screen so you can

00:01:40,799 --> 00:01:46,530
do all kinds of stuff so if you've ever

00:01:43,409 --> 00:01:48,869
set up metta talk by hand neta talk is

00:01:46,530 --> 00:01:51,750
the back end so basically all the

00:01:48,869 --> 00:01:55,799
configure out configuration options are

00:01:51,750 --> 00:01:56,939
in there and there's quite a few things

00:01:55,799 --> 00:01:59,909
that you can do you can set up your

00:01:56,939 --> 00:02:02,100
initial permissions and there's a bunch

00:01:59,909 --> 00:02:06,000
of I'm going to take a look at advanced

00:02:02,100 --> 00:02:09,060
mode basically every single meta talk

00:02:06,000 --> 00:02:11,910
option that's out there you can decide

00:02:09,060 --> 00:02:13,150
to check that on your share now most

00:02:11,910 --> 00:02:16,329
people haven't said

00:02:13,150 --> 00:02:19,599
opnet a talk by hand so if you go to

00:02:16,329 --> 00:02:23,860
doctrine as org in the appletalk section

00:02:19,599 --> 00:02:26,230
we have nice tables that describes every

00:02:23,860 --> 00:02:28,180
single field when you would choose that

00:02:26,230 --> 00:02:30,280
if it's going to be a good fit for your

00:02:28,180 --> 00:02:34,450
network so what that option actually

00:02:30,280 --> 00:02:36,670
does for you one of the things that we

00:02:34,450 --> 00:02:40,060
can do with appletalk and this will

00:02:36,670 --> 00:02:46,959
actually be in our AFP service let's go

00:02:40,060 --> 00:02:54,670
down here nope I missed it it was up

00:02:46,959 --> 00:02:57,129
here or is our don't exist 10 there we

00:02:54,670 --> 00:02:59,019
are it does support time machine so if

00:02:57,129 --> 00:03:01,900
you're using time machine for backups

00:02:59,019 --> 00:03:04,689
you just basically select that and it's

00:03:01,900 --> 00:03:07,959
a very quick way of doing it for a while

00:03:04,689 --> 00:03:11,049
there when the latest Matt came out last

00:03:07,959 --> 00:03:13,659
July it was broken for a while time

00:03:11,049 --> 00:03:16,299
machine and the newest lion and that was

00:03:13,659 --> 00:03:18,459
because Apple hadn't released that code

00:03:16,299 --> 00:03:21,489
so then how to talk people couldn't put

00:03:18,459 --> 00:03:24,010
into support there was a huge uproar and

00:03:21,489 --> 00:03:25,569
within two weeks they released it and it

00:03:24,010 --> 00:03:29,079
was a meta talk and then it wasn't

00:03:25,569 --> 00:03:31,680
freenas so yes he does support lion as

00:03:29,079 --> 00:03:31,680
well yes

00:03:32,780 --> 00:03:40,769
yes yes so one of the things especially

00:03:37,860 --> 00:03:42,780
for those of you that came in this

00:03:40,769 --> 00:03:44,250
afternoon and you missed the CFS stuff

00:03:42,780 --> 00:03:46,620
because I guess they promised that the

00:03:44,250 --> 00:03:49,290
ZFS stop was in the afternoon said of

00:03:46,620 --> 00:03:51,420
first thing in the morning one of the

00:03:49,290 --> 00:03:53,879
cool things about CFS is you can create

00:03:51,420 --> 00:03:56,549
things called datasets so when you

00:03:53,879 --> 00:03:59,129
create CFS you feed it your disks and

00:03:56,549 --> 00:04:01,440
that's known as your storage pool a data

00:03:59,129 --> 00:04:05,459
set when you create it and I'll just

00:04:01,440 --> 00:04:12,900
show that screen once you have a ZFS

00:04:05,459 --> 00:04:16,739
pool or actually let's just do this way

00:04:12,900 --> 00:04:18,419
I was crazy ZFS data set typically one

00:04:16,739 --> 00:04:19,979
of the reasons we're creating data sets

00:04:18,419 --> 00:04:23,729
as we actually want to portion off a

00:04:19,979 --> 00:04:26,700
partition of our ZFS volume so you'll

00:04:23,729 --> 00:04:29,820
will create a quota where you basically

00:04:26,700 --> 00:04:32,280
set the size limit if you're dealing

00:04:29,820 --> 00:04:35,220
with time machine one two things that I

00:04:32,280 --> 00:04:38,760
discovered when I was documenting it is

00:04:35,220 --> 00:04:41,940
if you have a Mac system that's fresh

00:04:38,760 --> 00:04:44,970
install with no data it takes up 21 gigs

00:04:41,940 --> 00:04:46,620
of space to do your time machine backup

00:04:44,970 --> 00:04:48,900
so you're going to want to make sure

00:04:46,620 --> 00:04:50,940
when you're creating a data set to do

00:04:48,900 --> 00:04:53,400
time machine backups that you have a

00:04:50,940 --> 00:04:55,410
good amount of space because time

00:04:53,400 --> 00:04:58,229
machine by defaults going to do a full

00:04:55,410 --> 00:05:00,270
backup then your daily Senor weeklies in

00:04:58,229 --> 00:05:03,599
your monthlies and you want to make sure

00:05:00,270 --> 00:05:06,300
you have enough space on your data set

00:05:03,599 --> 00:05:08,460
to do that because time machine by

00:05:06,300 --> 00:05:10,380
default will start erasing things when

00:05:08,460 --> 00:05:11,789
it runs out of space so you'll want to

00:05:10,380 --> 00:05:14,310
make sure you have enough to hold for

00:05:11,789 --> 00:05:19,530
your backup schedule does that answer

00:05:14,310 --> 00:05:21,330
your question ok so it does support time

00:05:19,530 --> 00:05:23,580
machine and it just sort of works like

00:05:21,330 --> 00:05:26,070
magic you just pick time machine from

00:05:23,580 --> 00:05:28,530
that drop-down menu assuming your

00:05:26,070 --> 00:05:31,500
appletalk sheer is set up and user can

00:05:28,530 --> 00:05:34,139
access the system your freenas system

00:05:31,500 --> 00:05:35,460
will just show as a backup device when

00:05:34,139 --> 00:05:38,660
they go to make their time machine

00:05:35,460 --> 00:05:38,660
backup yes

00:05:44,640 --> 00:05:49,120
that I don't know cuz i'm not a Mac user

00:05:47,080 --> 00:05:51,310
and I assume that would be on the time

00:05:49,120 --> 00:05:55,560
machine and on the client does they

00:05:51,310 --> 00:05:55,560
might know the answer to that one okay

00:05:57,240 --> 00:06:02,110
yeah I always forget it started out as

00:06:00,190 --> 00:06:07,800
unix and they took out all the fun

00:06:02,110 --> 00:06:13,030
eunuch stuff okay so that's Apple now

00:06:07,800 --> 00:06:16,390
again I'm not a Mac person and I know

00:06:13,030 --> 00:06:19,570
that there are settings in the appletalk

00:06:16,390 --> 00:06:20,980
setting to support non matt clients in

00:06:19,570 --> 00:06:22,300
the real world I don't know how that

00:06:20,980 --> 00:06:24,790
works I don't know if you need

00:06:22,300 --> 00:06:26,530
additional software on a non Mac machine

00:06:24,790 --> 00:06:29,080
to do that so if anybody knows the

00:06:26,530 --> 00:06:31,140
answer to that one let me know yes thank

00:06:29,080 --> 00:06:31,140
you

00:06:56,969 --> 00:07:02,259
now the I know the initial one is a full

00:07:00,459 --> 00:07:14,819
is everything after that and incremental

00:07:02,259 --> 00:07:14,819
okay okay

00:07:15,790 --> 00:07:23,950
I will not remember that and that's a

00:07:21,460 --> 00:07:25,840
really good advice can you email me that

00:07:23,950 --> 00:07:30,480
suggestion though make sure gets in the

00:07:25,840 --> 00:07:33,370
docs ok so that's an apple share

00:07:30,480 --> 00:07:35,410
typically if you are in a hybrid

00:07:33,370 --> 00:07:38,670
environment where you have a mix of

00:07:35,410 --> 00:07:44,710
clients you're going to choose either

00:07:38,670 --> 00:07:47,500
NFS or sips and you'll usually go more

00:07:44,710 --> 00:07:49,780
towards the SIP size if most of your

00:07:47,500 --> 00:07:52,540
clients are windows and if you have

00:07:49,780 --> 00:07:54,430
active directory running sifs will

00:07:52,540 --> 00:07:56,980
definitely make sure that you get the

00:07:54,430 --> 00:08:00,100
most out of your windows systems there's

00:07:56,980 --> 00:08:04,000
a couple of problems um with sips though

00:08:00,100 --> 00:08:08,080
and most of it deals with the design of

00:08:04,000 --> 00:08:11,680
Samba and Samba per connection is single

00:08:08,080 --> 00:08:15,460
threaded so you'll find that if you have

00:08:11,680 --> 00:08:18,070
a lot of Windows users over the network

00:08:15,460 --> 00:08:20,290
it's going to perform slower than other

00:08:18,070 --> 00:08:22,000
types of shares and there's not much

00:08:20,290 --> 00:08:25,210
that we can do about that because that's

00:08:22,000 --> 00:08:27,310
just part of the design of samba if you

00:08:25,210 --> 00:08:32,110
find that you really need to support

00:08:27,310 --> 00:08:34,180
sifs shares if you read that section of

00:08:32,110 --> 00:08:37,210
the documentation we have a

00:08:34,180 --> 00:08:42,310
troubleshooting section that refers you

00:08:37,210 --> 00:08:44,620
to the various SMB comp variables that

00:08:42,310 --> 00:08:47,410
you can play with to try to tune to get

00:08:44,620 --> 00:08:49,650
the most out of your network the other

00:08:47,410 --> 00:08:54,550
thing that you have to be aware of is

00:08:49,650 --> 00:08:57,250
sips can be CPU bound so if your CPU is

00:08:54,550 --> 00:08:59,590
not the greatest your sifts performance

00:08:57,250 --> 00:09:02,020
is going to suck so one of the best

00:08:59,590 --> 00:09:04,120
things that you can do is to get more

00:09:02,020 --> 00:09:07,170
CPU power which will increase

00:09:04,120 --> 00:09:07,170
performance yes

00:09:11,100 --> 00:09:14,100
yep

00:09:18,770 --> 00:09:25,560
yeah exactly now that if you're going to

00:09:23,190 --> 00:09:27,510
be doing that again CFS is the greatest

00:09:25,560 --> 00:09:30,000
because you can make your Z balls and

00:09:27,510 --> 00:09:33,440
that way each user can have their own z

00:09:30,000 --> 00:09:38,670
ball so basically their own storage area

00:09:33,440 --> 00:09:41,040
okay now NFS is problematic as well so

00:09:38,670 --> 00:09:43,080
with sifs you get all kinds of

00:09:41,040 --> 00:09:44,700
permissions and the way that you can set

00:09:43,080 --> 00:09:48,029
up a thin occation there's all kinds of

00:09:44,700 --> 00:09:50,880
things you can do NFS basically you can

00:09:48,029 --> 00:09:53,250
only limit it to IP addresses and

00:09:50,880 --> 00:09:54,930
network segments so you're not going to

00:09:53,250 --> 00:09:57,450
get the authentication that you get with

00:09:54,930 --> 00:10:00,089
sips the other thing that will be

00:09:57,450 --> 00:10:02,700
problematic if you have Windows users if

00:10:00,089 --> 00:10:04,920
they're running a home edition rather

00:10:02,700 --> 00:10:07,500
than an enterprise edition there is no

00:10:04,920 --> 00:10:09,570
bill in NFS client which means you're

00:10:07,500 --> 00:10:12,720
installing third-party software if

00:10:09,570 --> 00:10:17,060
you're going to be using NFS NFS though

00:10:12,720 --> 00:10:19,650
will outperform sifs in most cases and

00:10:17,060 --> 00:10:21,240
sometimes that's what you need to choose

00:10:19,650 --> 00:10:24,060
especially if you're in a mixed

00:10:21,240 --> 00:10:27,770
environments you have linux systems and

00:10:24,060 --> 00:10:27,770
windows systems yes

00:10:33,009 --> 00:10:40,220
NFS but then authentication is basically

00:10:37,459 --> 00:10:43,040
doesn't exist so forth indication and

00:10:40,220 --> 00:10:45,259
windows ACLs and extended attributes and

00:10:43,040 --> 00:10:50,859
all that stuff's important to you you're

00:10:45,259 --> 00:10:50,859
you're more on the sip size yep yep

00:10:56,790 --> 00:11:06,850
right correct yeah and it's very quick

00:11:05,140 --> 00:11:09,040
and dirty so basically put in the

00:11:06,850 --> 00:11:12,790
network address for your family subnet

00:11:09,040 --> 00:11:14,830
and then they can get in yeah and if

00:11:12,790 --> 00:11:16,630
they're comfortable if you're

00:11:14,830 --> 00:11:18,550
comfortable mounting things for them and

00:11:16,630 --> 00:11:21,150
they're comfortable accessing it that's

00:11:18,550 --> 00:11:21,150
one way to go

00:11:33,120 --> 00:11:40,540
great yeah so when you're setting up

00:11:38,080 --> 00:11:43,060
your initial permissions on that volume

00:11:40,540 --> 00:11:46,060
you would be the user and group that

00:11:43,060 --> 00:11:48,060
basically owns that share yep and then

00:11:46,060 --> 00:11:52,180
you would set the initial permissions

00:11:48,060 --> 00:11:56,050
okay and also while you're on NFS you

00:11:52,180 --> 00:11:58,510
can also divide up your file system

00:11:56,050 --> 00:12:00,160
basically into your mouth so you could

00:11:58,510 --> 00:12:02,110
create separate mounts for things as

00:12:00,160 --> 00:12:05,610
well if you do a certain amount she

00:12:02,110 --> 00:12:05,610
didn't want people have access to

00:12:15,970 --> 00:12:20,600
again if you're using ZFS which you

00:12:18,830 --> 00:12:22,940
won't because you don't have the memory

00:12:20,600 --> 00:12:24,700
probably not i would use data sets and

00:12:22,940 --> 00:12:30,020
then I would have a mount / data set

00:12:24,700 --> 00:12:35,410
yeah so ufs you have to plan a bit a bit

00:12:30,020 --> 00:12:35,410
more oh you had a question

00:12:52,110 --> 00:12:58,930
now that's a good question I think you

00:12:56,920 --> 00:13:01,660
can just go in and change it because

00:12:58,930 --> 00:13:04,090
it's basically setting the maximum space

00:13:01,660 --> 00:13:05,920
and I don't think it hurts the volume or

00:13:04,090 --> 00:13:08,080
the data set to go and change it but

00:13:05,920 --> 00:13:10,780
honestly I haven't tried but I think I'm

00:13:08,080 --> 00:13:23,260
pretty sure it allows you to do that has

00:13:10,780 --> 00:13:25,750
anybody tried that before yeah no I

00:13:23,260 --> 00:13:28,720
don't think it is because because

00:13:25,750 --> 00:13:31,090
basically a data set you know unless you

00:13:28,720 --> 00:13:33,310
limit it has access to the entire pool

00:13:31,090 --> 00:13:35,500
so I would assume if the pool still had

00:13:33,310 --> 00:13:37,450
the space available or the size you're

00:13:35,500 --> 00:13:44,260
setting on the data set I don't think

00:13:37,450 --> 00:13:48,520
that would be a problem okay any other

00:13:44,260 --> 00:13:50,920
questions before we leave the shares so

00:13:48,520 --> 00:13:54,190
the full details again it's on the PDF

00:13:50,920 --> 00:13:58,000
I've given the URLs two sections in the

00:13:54,190 --> 00:13:59,710
guide in the documentation because if

00:13:58,000 --> 00:14:01,510
you are setting it up you'll want to

00:13:59,710 --> 00:14:03,570
there's going to be a lot of fields in

00:14:01,510 --> 00:14:06,040
each type of chair so you'll want to

00:14:03,570 --> 00:14:08,440
read through the table that describes

00:14:06,040 --> 00:14:11,050
what each field does and decide whether

00:14:08,440 --> 00:14:14,680
or not that's a good fit for what it is

00:14:11,050 --> 00:14:18,130
that you're trying to do the other thing

00:14:14,680 --> 00:14:20,890
that each configuration chapter for the

00:14:18,130 --> 00:14:23,020
shares is it will give examples so it

00:14:20,890 --> 00:14:30,190
will give examples to allow anonymous

00:14:23,020 --> 00:14:32,110
access for apple or sifs it will give

00:14:30,190 --> 00:14:35,950
examples to require the user to

00:14:32,110 --> 00:14:40,390
authenticate first and we also in the

00:14:35,950 --> 00:14:42,010
windows one shadow copies are support so

00:14:40,390 --> 00:14:45,250
it also shows you how to set up shadow

00:14:42,010 --> 00:14:47,200
copies as is everybody familiar with

00:14:45,250 --> 00:14:49,660
what the term shadow copies is or what

00:14:47,200 --> 00:14:53,230
you can do with that okay so basically

00:14:49,660 --> 00:14:56,110
it'll only work on ZFS and you have to

00:14:53,230 --> 00:14:57,390
create snapshot tasks which which we'll

00:14:56,110 --> 00:15:01,660
talk about

00:14:57,390 --> 00:15:05,080
but basically as files are modified it

00:15:01,660 --> 00:15:07,480
keeps a revision of all of the files and

00:15:05,080 --> 00:15:11,800
it'll show up and explore and you can go

00:15:07,480 --> 00:15:16,210
back to a previous revision of a file so

00:15:11,800 --> 00:15:18,610
that support is built in okay so in our

00:15:16,210 --> 00:15:20,740
configuration workflow that was step 4

00:15:18,610 --> 00:15:23,589
so you're going to decide what type of

00:15:20,740 --> 00:15:25,900
sharing that you want to do and set up

00:15:23,589 --> 00:15:28,300
that type of share now you're not

00:15:25,900 --> 00:15:31,690
limited to those three especially if

00:15:28,300 --> 00:15:35,230
you're saying a home environment or if

00:15:31,690 --> 00:15:38,680
you're in a unix kiki environment where

00:15:35,230 --> 00:15:42,970
people are used to accessing data in

00:15:38,680 --> 00:15:44,710
different ways sometimes especially if

00:15:42,970 --> 00:15:46,930
it's on an internal network you just

00:15:44,710 --> 00:15:51,940
have a couple of users maybe they're not

00:15:46,930 --> 00:15:54,730
that technically oriented but they're

00:15:51,940 --> 00:15:57,279
comfortable opening up a browser or some

00:15:54,730 --> 00:16:01,990
sort of ftp client and accessing data

00:15:57,279 --> 00:16:04,120
through ftp ftp you can set it up to

00:16:01,990 --> 00:16:05,740
either be anonymous where they can just

00:16:04,120 --> 00:16:09,970
get in through their client and access

00:16:05,740 --> 00:16:13,480
to data or you can set it up to go over

00:16:09,970 --> 00:16:16,120
an encrypted connection you can also set

00:16:13,480 --> 00:16:19,240
it up that users are limited to their

00:16:16,120 --> 00:16:22,510
own files so basically it sets up a

00:16:19,240 --> 00:16:27,160
chroot that is something you can

00:16:22,510 --> 00:16:29,440
configure as well so if you decide

00:16:27,160 --> 00:16:31,900
that's actually the easiest way because

00:16:29,440 --> 00:16:34,029
one of the nice things about EFTPS it

00:16:31,900 --> 00:16:36,040
doesn't matter what OS you're on as long

00:16:34,029 --> 00:16:38,560
as you have an ftp client you can get at

00:16:36,040 --> 00:16:42,010
the data so this can be a quick and

00:16:38,560 --> 00:16:46,089
dirty way say especially not in a small

00:16:42,010 --> 00:16:49,930
network environment so setting up

00:16:46,089 --> 00:16:54,820
anonymous FTP is as easy as pick picking

00:16:49,930 --> 00:16:59,140
the anonymous box and you can do things

00:16:54,820 --> 00:17:01,720
like allow a file transfer resumption it

00:16:59,140 --> 00:17:04,510
will work through an app device if you

00:17:01,720 --> 00:17:07,060
need to do that and turning on

00:17:04,510 --> 00:17:10,540
encryption is as easy as checking off

00:17:07,060 --> 00:17:11,270
the box for that so ftp is fairly quick

00:17:10,540 --> 00:17:14,930
and dirty for

00:17:11,270 --> 00:17:17,270
setting up the other thing that you can

00:17:14,930 --> 00:17:20,270
do and i find this is handy especially

00:17:17,270 --> 00:17:22,520
if I need to get data on to a system

00:17:20,270 --> 00:17:28,100
quickly just to get the users started

00:17:22,520 --> 00:17:29,930
you can configure SSH if you decide this

00:17:28,100 --> 00:17:32,930
is the way you're going to share your

00:17:29,930 --> 00:17:37,130
data typically your users have to have a

00:17:32,930 --> 00:17:39,770
little bit more networking clue or you

00:17:37,130 --> 00:17:43,130
train them how to use something like

00:17:39,770 --> 00:17:48,830
putty or winscp so that they can have a

00:17:43,130 --> 00:17:52,520
GUI to get at the files one of the

00:17:48,830 --> 00:17:56,450
things you'll find with ssh in order for

00:17:52,520 --> 00:18:00,350
it to work the user account has to exist

00:17:56,450 --> 00:18:03,920
and you can set the volume or data set

00:18:00,350 --> 00:18:08,990
that will be their home directory it

00:18:03,920 --> 00:18:11,360
does support settin up ssh key based

00:18:08,990 --> 00:18:14,270
authentication so you just basically

00:18:11,360 --> 00:18:15,770
paste in the key there and it will do

00:18:14,270 --> 00:18:19,100
everything it needs to do to make sure

00:18:15,770 --> 00:18:21,800
that works and one of the things i

00:18:19,100 --> 00:18:25,970
usually do if i'm setting up ssh is i

00:18:21,800 --> 00:18:28,730
create an ssh chroot environment so by

00:18:25,970 --> 00:18:31,340
default they can still see what's above

00:18:28,730 --> 00:18:34,610
their home directory if you set up a

00:18:31,340 --> 00:18:36,710
chroot they're limited to the contents

00:18:34,610 --> 00:18:40,160
of their home directory and they can't

00:18:36,710 --> 00:18:42,190
see above it and there is directions in

00:18:40,160 --> 00:18:45,380
the documentation how to set that up

00:18:42,190 --> 00:18:48,470
right now it's not a check box there's a

00:18:45,380 --> 00:18:51,410
couple of sshd underscore config options

00:18:48,470 --> 00:18:53,330
you have to type in manually and you

00:18:51,410 --> 00:18:56,180
also have to manually create the home

00:18:53,330 --> 00:18:59,810
directories and that's just a limitation

00:18:56,180 --> 00:19:03,320
of how ssh chroot works so that's

00:18:59,810 --> 00:19:05,780
another option and also do a quick

00:19:03,320 --> 00:19:09,250
overview of I scuzzy because a lot of

00:19:05,780 --> 00:19:12,530
environments I scuzzy is appropriate and

00:19:09,250 --> 00:19:14,930
if you have never used I scuzzy before

00:19:12,530 --> 00:19:16,220
you're definitely going to want to take

00:19:14,930 --> 00:19:19,100
a look at this chapter in our

00:19:16,220 --> 00:19:21,920
documentation because we start off just

00:19:19,100 --> 00:19:24,530
with the basic terminology so I scuzzy

00:19:21,920 --> 00:19:27,560
has its own terminology associated with

00:19:24,530 --> 00:19:31,250
what it does you'll notice there's a lot

00:19:27,560 --> 00:19:33,830
of options in the tree here and we've

00:19:31,250 --> 00:19:37,990
basically set it up in the order that

00:19:33,830 --> 00:19:42,410
you configure your free net system to

00:19:37,990 --> 00:19:44,330
make your I scuzzy target and some of

00:19:42,410 --> 00:19:47,590
these are optional so two of them you

00:19:44,330 --> 00:19:51,730
don't have to do so an authorized access

00:19:47,590 --> 00:19:54,680
you only need if you need authentication

00:19:51,730 --> 00:19:56,900
so when you're dealing with I scuzzy the

00:19:54,680 --> 00:20:00,290
client system is known as the initiator

00:19:56,900 --> 00:20:04,340
and your storage device is the target if

00:20:00,290 --> 00:20:07,130
you require the initiator to actually

00:20:04,340 --> 00:20:09,950
authorized before accessing the data you

00:20:07,130 --> 00:20:13,010
make an authorized access and your

00:20:09,950 --> 00:20:16,070
choices are to configure chat or to

00:20:13,010 --> 00:20:19,910
configure mutual chap so there's two for

00:20:16,070 --> 00:20:21,740
those the other thing that is optional

00:20:19,910 --> 00:20:24,580
that you don't have to do it depends on

00:20:21,740 --> 00:20:28,040
your system is something called a portal

00:20:24,580 --> 00:20:31,460
if you only have one interface that's

00:20:28,040 --> 00:20:33,170
available as for the ice cuz you target

00:20:31,460 --> 00:20:36,410
you don't make a portal because it

00:20:33,170 --> 00:20:37,880
requires multiple interfaces and this is

00:20:36,410 --> 00:20:43,610
something we're talking about on the

00:20:37,880 --> 00:20:46,760
break you can do Nick bonding with lacp

00:20:43,610 --> 00:20:49,520
but that is not efficient over I scuzzy

00:20:46,760 --> 00:20:52,460
it's actually more efficient to go in

00:20:49,520 --> 00:21:01,250
and create a portal and when you create

00:20:52,460 --> 00:21:04,070
a portal you specify the IP address that

00:21:01,250 --> 00:21:05,990
you basically want to bond together so

00:21:04,070 --> 00:21:08,510
if I have a system with multiple nics

00:21:05,990 --> 00:21:11,120
and they have the multiple IP addresses

00:21:08,510 --> 00:21:14,390
set I can select two or three of those

00:21:11,120 --> 00:21:16,340
and basically bond those together some

00:21:14,390 --> 00:21:19,060
of the cool things I can do once I have

00:21:16,340 --> 00:21:21,590
a portal is I can decide which

00:21:19,060 --> 00:21:26,380
initiators are allowed to attach to

00:21:21,590 --> 00:21:26,380
which portals so you can yes

00:21:26,830 --> 00:21:36,410
yes yeah this is how you do it if you're

00:21:30,830 --> 00:21:40,940
using esxi yet you create a portal so

00:21:36,410 --> 00:21:44,030
don't use some lacp for that so those

00:21:40,940 --> 00:21:46,250
two are optional the rest basically is

00:21:44,030 --> 00:21:48,170
the order that you do it in as so those

00:21:46,250 --> 00:21:49,880
that were here earlier we talked a

00:21:48,170 --> 00:21:53,930
little bit about the difference between

00:21:49,880 --> 00:21:56,750
device extents and file extents the only

00:21:53,930 --> 00:22:00,350
time you should use a file extent is if

00:21:56,750 --> 00:22:03,170
you're using ufs ufs doesn't allow you

00:22:00,350 --> 00:22:07,460
to divide up your volume like we can

00:22:03,170 --> 00:22:10,220
with ZFS and data sets so in a file

00:22:07,460 --> 00:22:13,900
extent you're basically saying I want

00:22:10,220 --> 00:22:17,740
you to take this much of the file system

00:22:13,900 --> 00:22:20,780
so basically you put in an extent sighs

00:22:17,740 --> 00:22:23,660
this is the only way to do it with ufs

00:22:20,780 --> 00:22:26,500
and it's not as recommended because it's

00:22:23,660 --> 00:22:29,120
slower than using a device extent I

00:22:26,500 --> 00:22:32,480
scuzzy you what you really want to do is

00:22:29,120 --> 00:22:35,870
to emulate a raw disk device which you

00:22:32,480 --> 00:22:38,330
do with a device extent and the only way

00:22:35,870 --> 00:22:40,700
to get a device 6 net is to create as

00:22:38,330 --> 00:22:42,380
evil and basically we can create your

00:22:40,700 --> 00:22:46,010
Zeebo you give it the amount of space

00:22:42,380 --> 00:22:48,560
and that's something we do with CFS so

00:22:46,010 --> 00:22:52,160
if you're using ZFS make advice extent

00:22:48,560 --> 00:22:56,300
if you're using ufs make a file extent

00:22:52,160 --> 00:22:59,030
and regardless of the type of extent you

00:22:56,300 --> 00:23:01,220
make basically you're setting aside the

00:22:59,030 --> 00:23:06,080
amount of space that will be available

00:23:01,220 --> 00:23:11,050
to the initiator oops once you've made

00:23:06,080 --> 00:23:15,500
an extent you then go in and say which

00:23:11,050 --> 00:23:18,800
initiator are allowed to connect to your

00:23:15,500 --> 00:23:21,080
free nav system so any clients that are

00:23:18,800 --> 00:23:24,290
going to come in through I scuzzy have

00:23:21,080 --> 00:23:27,890
to be running initiator software and you

00:23:24,290 --> 00:23:31,640
can go in and specify either particular

00:23:27,890 --> 00:23:34,610
host IP addresses a subnet or a network

00:23:31,640 --> 00:23:37,850
or if you will accept connections from

00:23:34,610 --> 00:23:39,890
anyone you can use the keyword all so

00:23:37,850 --> 00:23:45,800
you can specify which systems are

00:23:39,890 --> 00:23:50,660
allowed to come in using I skazhi the

00:23:45,800 --> 00:23:52,550
portal was optional I'm just going to

00:23:50,660 --> 00:23:56,420
ignore the global config for a minute

00:23:52,550 --> 00:24:01,390
you then create the target and in the

00:23:56,420 --> 00:24:03,710
target you're basically defining

00:24:01,390 --> 00:24:07,760
basically what would be considered the

00:24:03,710 --> 00:24:11,900
share so with I scuzzy they have really

00:24:07,760 --> 00:24:13,370
weird names that start with iqn so we

00:24:11,900 --> 00:24:15,170
have a link to where you can go and

00:24:13,370 --> 00:24:19,790
figure out how to put in the proper name

00:24:15,170 --> 00:24:21,740
and you can if you're using portals you

00:24:19,790 --> 00:24:26,110
can say which portals you're going to

00:24:21,740 --> 00:24:28,580
use and if you have set up

00:24:26,110 --> 00:24:30,920
authentication you can specify the

00:24:28,580 --> 00:24:33,740
authentication so none of these are set

00:24:30,920 --> 00:24:37,420
up yet so does it look like much and

00:24:33,740 --> 00:24:40,160
then the last thing you do is you take a

00:24:37,420 --> 00:24:43,370
target that you made and you map it to

00:24:40,160 --> 00:24:46,340
an extent and a nice guzzi because

00:24:43,370 --> 00:24:49,070
you're emulating a raw disk device you

00:24:46,340 --> 00:24:51,290
should only map in a one-to-one manner

00:24:49,070 --> 00:24:54,040
so you should map one target to one

00:24:51,290 --> 00:24:57,740
extent so if you have multiple

00:24:54,040 --> 00:25:00,680
initiators you should make a target

00:24:57,740 --> 00:25:03,050
extent mapping for each initiator so

00:25:00,680 --> 00:25:08,240
they basically get their own emulated

00:25:03,050 --> 00:25:11,420
disk correct well not really because

00:25:08,240 --> 00:25:12,710
it's the extent that defines you don't

00:25:11,420 --> 00:25:14,860
have to really share anything at that

00:25:12,710 --> 00:25:14,860
point

00:25:22,030 --> 00:25:34,179
correct but that's different than I

00:25:24,470 --> 00:25:34,179
scuzzy so so explain that more fully

00:25:48,320 --> 00:26:01,490
okay and is the sharing something that's

00:25:56,419 --> 00:26:04,250
done on the vmware side and would how do

00:26:01,490 --> 00:26:21,620
you would so so i think is a terminology

00:26:04,250 --> 00:26:23,779
thing so how are you sharing it but is

00:26:21,620 --> 00:26:28,639
that volume just another name for an

00:26:23,779 --> 00:26:30,769
extent yeah because i think that's what

00:26:28,639 --> 00:26:33,259
it is i think it's an extent but they

00:26:30,769 --> 00:26:41,629
may be using the term volume just to

00:26:33,259 --> 00:26:44,419
make it more confusing yes the other

00:26:41,629 --> 00:26:47,029
thing and it really depends upon the

00:26:44,419 --> 00:26:49,190
initiator software that you're using and

00:26:47,029 --> 00:26:51,230
this is where you sometimes have to

00:26:49,190 --> 00:26:53,929
refer to the documentation for the

00:26:51,230 --> 00:26:58,940
client system if you go into target

00:26:53,929 --> 00:27:02,090
global configuration there are about 40

00:26:58,940 --> 00:27:03,350
fields all of which look like Greek so

00:27:02,090 --> 00:27:05,929
you're going to want to read the table

00:27:03,350 --> 00:27:08,809
to see what each one does this is where

00:27:05,929 --> 00:27:11,210
you fine-tune the performance between

00:27:08,809 --> 00:27:14,990
the target and the client so some

00:27:11,210 --> 00:27:17,139
initiator software works better if you

00:27:14,990 --> 00:27:20,240
change the default settings and

00:27:17,139 --> 00:27:22,340
typically it will be in the

00:27:20,240 --> 00:27:24,049
documentation for your initiator they'll

00:27:22,340 --> 00:27:26,570
tell you to bump up your nope in

00:27:24,049 --> 00:27:27,919
interval or whatever field that it is

00:27:26,570 --> 00:27:30,320
and they'll tell you what to put in

00:27:27,919 --> 00:27:32,600
there so what we tell people is don't

00:27:30,320 --> 00:27:34,970
touch this unless you've read something

00:27:32,600 --> 00:27:39,139
that said for better performance bump up

00:27:34,970 --> 00:27:44,090
this value we do have an example in the

00:27:39,139 --> 00:27:48,169
documentation for a initiator running in

00:27:44,090 --> 00:27:50,570
Zen because it needs four variables that

00:27:48,169 --> 00:27:52,309
are changed so basically don't go in

00:27:50,570 --> 00:27:57,970
here unless something told you to change

00:27:52,309 --> 00:27:57,970
a value so those are your ice disease

00:27:59,220 --> 00:28:05,100
and those are basically your choices for

00:28:01,799 --> 00:28:08,070
sharing so you either have AFP NFS or

00:28:05,100 --> 00:28:12,059
sips you can set up a quick and dirty

00:28:08,070 --> 00:28:15,960
ftp you can use ssh or you can use I

00:28:12,059 --> 00:28:19,169
scuzzy any questions before we leave

00:28:15,960 --> 00:28:20,970
that section because I see lunch is

00:28:19,169 --> 00:28:25,919
starting to kick in it's getting harder

00:28:20,970 --> 00:28:28,080
to harder to keep up so let's say you've

00:28:25,919 --> 00:28:29,850
created your volumes you have your users

00:28:28,080 --> 00:28:31,890
you have your permission set you've

00:28:29,850 --> 00:28:33,360
decided upon what sort of sharing

00:28:31,890 --> 00:28:36,240
mechanism you're going to do you've got

00:28:33,360 --> 00:28:38,280
in and you've made your shares nothing

00:28:36,240 --> 00:28:42,030
happens until you turn on the applicable

00:28:38,280 --> 00:28:45,330
services so once all of those are set up

00:28:42,030 --> 00:28:49,200
you go down to services and the service

00:28:45,330 --> 00:28:52,110
you turn on depends upon what it is that

00:28:49,200 --> 00:28:54,270
you've configured so obviously if you've

00:28:52,110 --> 00:28:56,490
gone and made AFP shares you're going to

00:28:54,270 --> 00:28:58,409
want to turn on your AFP service you've

00:28:56,490 --> 00:29:02,220
made sifts you're going to turn on sifts

00:28:58,409 --> 00:29:04,200
FTP and so on you may have to turn on

00:29:02,220 --> 00:29:06,330
more than one service depending upon

00:29:04,200 --> 00:29:09,059
what you're doing so if you have

00:29:06,330 --> 00:29:11,159
configured sift shares in an Active

00:29:09,059 --> 00:29:12,419
Directory network you're also going to

00:29:11,159 --> 00:29:15,240
have to turn on the active directory

00:29:12,419 --> 00:29:20,309
service so really depends on what you're

00:29:15,240 --> 00:29:23,850
doing before you turn on AFP make your

00:29:20,309 --> 00:29:26,760
AFP shares before you turn on active

00:29:23,850 --> 00:29:30,750
directory you need to configure it first

00:29:26,760 --> 00:29:33,240
it needs to know the name of your PDC it

00:29:30,750 --> 00:29:35,190
needs to know the name of your realm so

00:29:33,240 --> 00:29:39,330
if I just turn on the active directory

00:29:35,190 --> 00:29:41,010
service my little console.log menu is

00:29:39,330 --> 00:29:42,750
going to say that it failed it will

00:29:41,010 --> 00:29:48,510
probably say something like can't find

00:29:42,750 --> 00:29:50,580
domain controller if you turn on

00:29:48,510 --> 00:29:52,500
something like active directory and get

00:29:50,580 --> 00:29:55,500
an error you're going to want to take a

00:29:52,500 --> 00:29:58,820
closer look at the information that you

00:29:55,500 --> 00:30:00,960
put in here and if that still fails

00:29:58,820 --> 00:30:03,210
you're going to want to refer to that

00:30:00,960 --> 00:30:05,909
section in the documentation because we

00:30:03,210 --> 00:30:09,030
do have troubleshooting especially in

00:30:05,909 --> 00:30:11,770
active directory will find that there's

00:30:09,030 --> 00:30:14,770
two reasons why it doesn't start

00:30:11,770 --> 00:30:18,040
one is there is a time problem on the

00:30:14,770 --> 00:30:22,750
network so your time is not in sync and

00:30:18,040 --> 00:30:26,320
the other problem deals with DNS SRV

00:30:22,750 --> 00:30:28,690
records so you can go in and configure

00:30:26,320 --> 00:30:31,030
Active Directory the way you want but if

00:30:28,690 --> 00:30:33,820
there's something in DNS overriding it

00:30:31,030 --> 00:30:36,130
that's what's going to happen so if it's

00:30:33,820 --> 00:30:38,740
not finding your realm first thing you

00:30:36,130 --> 00:30:40,690
should check as your DNS records and we

00:30:38,740 --> 00:30:42,850
have lots of links in the documentation

00:30:40,690 --> 00:30:44,890
saying how do i check it what am I

00:30:42,850 --> 00:30:52,560
looking for what should I be changing it

00:30:44,890 --> 00:30:52,560
to yep

00:31:03,990 --> 00:31:10,410
yeah so the comment was when you're

00:31:06,780 --> 00:31:14,850
doing your Active Directory now let's

00:31:10,410 --> 00:31:17,490
find our wrench here so your dough name

00:31:14,850 --> 00:31:20,190
name will be lower case and your netbios

00:31:17,490 --> 00:31:23,280
name will be upper case yeah and it's

00:31:20,190 --> 00:31:25,950
very picky about that and I don't know

00:31:23,280 --> 00:31:27,740
so we do have tool tips and this is

00:31:25,950 --> 00:31:32,400
something we can always use feedback on

00:31:27,740 --> 00:31:35,429
yeah so that one's lowercase or group

00:31:32,400 --> 00:31:37,559
name that one's uppercase so often

00:31:35,429 --> 00:31:40,050
especially if you're doing a tooltip and

00:31:37,559 --> 00:31:42,270
you'll find that it's either if you find

00:31:40,050 --> 00:31:44,280
it misleading or you think a couple of

00:31:42,270 --> 00:31:46,980
more words would have made that tooltip

00:31:44,280 --> 00:31:50,640
more useful that's something that you

00:31:46,980 --> 00:31:56,400
can put in as a feature request using

00:31:50,640 --> 00:31:59,550
track or if you're more anxious than

00:31:56,400 --> 00:32:02,010
that you can hop on IRC and suggest that

00:31:59,550 --> 00:32:03,300
and see if somebody just does it and if

00:32:02,010 --> 00:32:08,700
they don't just do it then you go to

00:32:03,300 --> 00:32:11,160
track whenever you're starting a service

00:32:08,700 --> 00:32:13,290
this was the reason and I know in this

00:32:11,160 --> 00:32:15,210
lighting is really hard to see this is

00:32:13,290 --> 00:32:17,520
the reason why you have your web console

00:32:15,210 --> 00:32:20,670
going and you should be watching those

00:32:17,520 --> 00:32:22,260
messages go by one thing I didn't show

00:32:20,670 --> 00:32:24,870
you in the web console will probably

00:32:22,260 --> 00:32:27,120
still look like crap is if you can't

00:32:24,870 --> 00:32:30,450
read that much you just click on it and

00:32:27,120 --> 00:32:32,820
it brings it full full up and again with

00:32:30,450 --> 00:32:34,830
the lighting you can't really see but

00:32:32,820 --> 00:32:37,530
the nice thing is is you can copy and

00:32:34,830 --> 00:32:39,120
paste so if you're submitting a support

00:32:37,530 --> 00:32:42,540
ticket you can actually show what your

00:32:39,120 --> 00:32:45,330
log messages are and you can also scroll

00:32:42,540 --> 00:32:48,120
up to see what happened in your logs and

00:32:45,330 --> 00:32:50,910
you just press X to close that it'll

00:32:48,120 --> 00:32:55,770
still be down there so that's rather

00:32:50,910 --> 00:33:01,470
handy if your service successfully

00:32:55,770 --> 00:33:05,010
started on your last step no second last

00:33:01,470 --> 00:33:07,800
step is to test the configuration so if

00:33:05,010 --> 00:33:10,980
you've gone and created sift shares get

00:33:07,800 --> 00:33:12,900
yourself on a windows client if you're

00:33:10,980 --> 00:33:15,179
requiring authentication make sure the

00:33:12,900 --> 00:33:16,710
user authenticated and make sure the

00:33:15,179 --> 00:33:19,850
user is seeing this

00:33:16,710 --> 00:33:22,740
share that they're supposed to be seeing

00:33:19,850 --> 00:33:24,929
same for any other sort of service so

00:33:22,740 --> 00:33:27,299
hop on a client and make sure what you

00:33:24,929 --> 00:33:31,010
hope is happening is actually what's

00:33:27,299 --> 00:33:32,880
happening once you've tested your

00:33:31,010 --> 00:33:35,610
configuration you're going to want to

00:33:32,880 --> 00:33:38,880
backup the configuration so what I

00:33:35,610 --> 00:33:41,720
always tell people the OS itself doesn't

00:33:38,880 --> 00:33:44,399
matter doesn't matter if the OS dies

00:33:41,720 --> 00:33:47,720
does it matter if somebody takes out the

00:33:44,399 --> 00:33:50,610
thumb drive and stomps on it the OS is

00:33:47,720 --> 00:33:52,919
trivial it doesn't matter what you care

00:33:50,610 --> 00:33:55,169
about is the data on your storage disks

00:33:52,919 --> 00:33:57,840
which is why you set up redundant seen

00:33:55,169 --> 00:34:00,179
you do backups what you care about is

00:33:57,840 --> 00:34:03,720
your configuration which is why you

00:34:00,179 --> 00:34:06,149
backup your configuration if the OS goes

00:34:03,720 --> 00:34:08,909
you download the latest image you throw

00:34:06,149 --> 00:34:11,760
on USB stick you stick it in the system

00:34:08,909 --> 00:34:14,310
perks along so it's the config that you

00:34:11,760 --> 00:34:16,230
care about not the OS so we get

00:34:14,310 --> 00:34:20,159
questions all the time people say how do

00:34:16,230 --> 00:34:22,560
i backup my OS I tell them don't your OS

00:34:20,159 --> 00:34:25,589
goes download the image stick it on the

00:34:22,560 --> 00:34:28,470
stick throw in the box so as your config

00:34:25,589 --> 00:34:32,750
that you care about so to backup the

00:34:28,470 --> 00:34:32,750
config we go back up to our system

00:34:33,080 --> 00:34:43,290
settings advanced and you want to know

00:34:39,270 --> 00:34:48,030
I'm in the wrong place it's under

00:34:43,290 --> 00:34:50,250
general you want to save config it will

00:34:48,030 --> 00:34:53,849
give it a name that gives you an idea of

00:34:50,250 --> 00:34:55,950
what your revision and os is it'll put a

00:34:53,849 --> 00:34:59,430
date stamp on it and it's basically

00:34:55,950 --> 00:35:01,859
backing up your data base you're doing

00:34:59,430 --> 00:35:04,260
this from your system which means it's

00:35:01,859 --> 00:35:06,750
an off-site backup so every time you

00:35:04,260 --> 00:35:09,300
make a configuration change just go in

00:35:06,750 --> 00:35:11,010
there it takes all of five seconds save

00:35:09,300 --> 00:35:15,680
it and it's going to be timestamp for

00:35:11,010 --> 00:35:15,680
you so you know what your config is yeah

00:35:16,070 --> 00:35:26,130
can I back up yes we don't put that in

00:35:22,410 --> 00:35:28,860
the documentation we don't encourage

00:35:26,130 --> 00:35:30,300
people to make changes from the CLI but

00:35:28,860 --> 00:35:33,720
if you go into the forms you'll

00:35:30,300 --> 00:35:35,310
definitely see how to do that because

00:35:33,720 --> 00:35:41,160
you're basically mucking about with a

00:35:35,310 --> 00:35:43,860
MySQL database but it can be done yep it

00:35:41,160 --> 00:35:53,460
can also be backed up but we want people

00:35:43,860 --> 00:35:56,370
to use the GUI correct yeah and so that

00:35:53,460 --> 00:35:58,740
upload config is if you ever want to

00:35:56,370 --> 00:36:01,110
restore either a previous config or

00:35:58,740 --> 00:36:03,660
you've done an update that went terribly

00:36:01,110 --> 00:36:05,370
wrong and you've you've lost your config

00:36:03,660 --> 00:36:16,400
you just go in and you upload when

00:36:05,370 --> 00:36:16,400
you're saved configs say that again

00:36:18,110 --> 00:36:29,670
yeah deleting volumes yes that will

00:36:20,700 --> 00:36:32,210
affect the data no as long as you don't

00:36:29,670 --> 00:36:35,310
destroy your volumes your data is safe

00:36:32,210 --> 00:36:39,710
now the other thing you could consider

00:36:35,310 --> 00:36:42,900
as being bad to do is to ignore alerts

00:36:39,710 --> 00:36:46,050
you're smart tests I never read your

00:36:42,900 --> 00:36:49,320
emails so to let dis die that would be a

00:36:46,050 --> 00:36:50,820
bad thing but other nap so this again

00:36:49,320 --> 00:36:52,980
this is one of the reasons why it was

00:36:50,820 --> 00:36:58,850
designed the OS is separate from your

00:36:52,980 --> 00:36:58,850
data is separate from your config and

00:36:59,630 --> 00:37:05,550
always before you do an upgrade I'll

00:37:03,180 --> 00:37:08,940
take that last minute and save your

00:37:05,550 --> 00:37:13,290
config now that we have a volume I can

00:37:08,940 --> 00:37:16,890
actually show an upgrade so while we're

00:37:13,290 --> 00:37:19,380
in here I'll do in advanced so a

00:37:16,890 --> 00:37:22,830
firmware update so when you're going to

00:37:19,380 --> 00:37:24,840
do an upgrade you just download the file

00:37:22,830 --> 00:37:27,000
that says upgrade and it will have a

00:37:24,840 --> 00:37:30,300
version a higher than the one that you

00:37:27,000 --> 00:37:32,660
have what we recommend to people is to

00:37:30,300 --> 00:37:36,420
always upgrade from release to release

00:37:32,660 --> 00:37:39,000
what we tell people not to do is because

00:37:36,420 --> 00:37:41,040
we do have beta versions and we also

00:37:39,000 --> 00:37:44,820
have nightly builds have the latest

00:37:41,040 --> 00:37:47,760
features don't put a nightly on a

00:37:44,820 --> 00:37:50,310
production box and then downgrade down

00:37:47,760 --> 00:37:52,560
to our release that's when you're going

00:37:50,310 --> 00:37:56,190
to be doing things like figuring out how

00:37:52,560 --> 00:37:58,140
to do your backup configuration manually

00:37:56,190 --> 00:38:02,100
into the database and to clean out the

00:37:58,140 --> 00:38:04,619
database stuff so that's why we end up

00:38:02,100 --> 00:38:07,380
helping people on IRC who do that sort

00:38:04,619 --> 00:38:09,420
of thing but if you upgrade from a

00:38:07,380 --> 00:38:11,340
released or release you should not have

00:38:09,420 --> 00:38:14,040
a problem because these are always

00:38:11,340 --> 00:38:17,390
tested before we put a release out to

00:38:14,040 --> 00:38:17,390
make sure that the upgrades work

00:38:17,869 --> 00:38:22,890
obviously we're assuming that if you're

00:38:21,359 --> 00:38:25,320
upgrading you already have an existing

00:38:22,890 --> 00:38:28,160
systems you have volumes you can

00:38:25,320 --> 00:38:30,650
temporarily save your firmware file to

00:38:28,160 --> 00:38:33,920
then it's a simple matter of browsing to

00:38:30,650 --> 00:38:38,569
that file that you downloaded it's going

00:38:33,920 --> 00:38:41,030
to have an SS sha-256 checksum which

00:38:38,569 --> 00:38:44,720
will be in the release notes so you can

00:38:41,030 --> 00:38:46,730
copy and paste it there or if God forbid

00:38:44,720 --> 00:38:49,910
you didn't read the release notes before

00:38:46,730 --> 00:38:53,359
doing an upgrade you can just run an SSH

00:38:49,910 --> 00:38:56,930
256 and grab it but it requires both of

00:38:53,359 --> 00:38:59,240
those you click apply update it does it

00:38:56,930 --> 00:39:02,900
reboot the system you're now running the

00:38:59,240 --> 00:39:05,720
new operating system if things go badly

00:39:02,900 --> 00:39:08,720
you reboot again and you pick your

00:39:05,720 --> 00:39:13,690
original operating system you hop on IRC

00:39:08,720 --> 00:39:13,690
and you ask what went wrong yep

00:39:21,070 --> 00:39:27,320
yeah so he mentioned that pfsense will

00:39:25,849 --> 00:39:30,290
actually detect that there's a new

00:39:27,320 --> 00:39:32,990
update and we'll do it for you we used

00:39:30,290 --> 00:39:35,270
to have an extra button here that we

00:39:32,990 --> 00:39:37,550
were thinking we would do that and it

00:39:35,270 --> 00:39:39,859
hadn't been implemented implemented up

00:39:37,550 --> 00:39:42,800
to 82 so they took it out so at some

00:39:39,859 --> 00:39:44,930
point they may put it back in but for

00:39:42,800 --> 00:39:47,420
now I think it's really because we want

00:39:44,930 --> 00:39:49,670
people to read release notes that we

00:39:47,420 --> 00:40:01,570
force him to go and download it and read

00:39:49,670 --> 00:40:05,990
the release notes yeah yes yes no no

00:40:01,570 --> 00:40:09,170
because it hasn't touched your data the

00:40:05,990 --> 00:40:11,270
old version will still have the

00:40:09,170 --> 00:40:12,440
configuration database which doesn't

00:40:11,270 --> 00:40:14,930
matter because you already have a backup

00:40:12,440 --> 00:40:22,460
of it so you just revert back to the old

00:40:14,930 --> 00:40:24,830
OS correct so while we're talking about

00:40:22,460 --> 00:40:27,380
seven one of the things you have to

00:40:24,830 --> 00:40:31,550
always be careful of is your Xia fast

00:40:27,380 --> 00:40:35,510
version so when freenas 8 came out it

00:40:31,550 --> 00:40:39,500
was on CFS version 15 at that point in

00:40:35,510 --> 00:40:43,070
time the old freenas 7 series was on ZFS

00:40:39,500 --> 00:40:46,190
version 13 if you ever go from a lower

00:40:43,070 --> 00:40:49,670
ZFS version to a higher that's a

00:40:46,190 --> 00:40:51,650
one-time deal so it'll successfully

00:40:49,670 --> 00:40:54,349
upgrade to the new version but you can't

00:40:51,650 --> 00:40:57,680
go back so you can't downgrade your ZFS

00:40:54,349 --> 00:40:59,930
version the freenas seven series has

00:40:57,680 --> 00:41:03,260
been end of life so it doesn't exist

00:40:59,930 --> 00:41:08,030
anymore it's been rebranded as Nazz for

00:41:03,260 --> 00:41:11,180
free and there right now on ZFS 28 which

00:41:08,030 --> 00:41:15,380
means you can't go from an as for free

00:41:11,180 --> 00:41:17,810
to a freenas eight because you'd be

00:41:15,380 --> 00:41:20,960
downgrading from version 28 to version

00:41:17,810 --> 00:41:24,260
15 and that just doesn't work you will

00:41:20,960 --> 00:41:25,970
destroy your data if you attempt it so

00:41:24,260 --> 00:41:28,849
always make sure when you're upgrading

00:41:25,970 --> 00:41:31,490
that you know the underlying ZFS version

00:41:28,849 --> 00:41:35,130
if you're going between different

00:41:31,490 --> 00:41:37,260
operating systems because you can oh you

00:41:35,130 --> 00:41:41,240
can only bump up CFS you can't go back

00:41:37,260 --> 00:41:41,240
down okay

00:41:50,160 --> 00:41:57,790
in that save debug it will tell you now

00:41:54,070 --> 00:42:01,300
if I'm in she'll see if I can remember

00:41:57,790 --> 00:42:04,420
my ZFS commands it's either ZFS pool

00:42:01,300 --> 00:42:15,640
which will tell me zpool status thank

00:42:04,420 --> 00:42:18,310
you do I need a switch with it we may be

00:42:15,640 --> 00:42:22,960
adding this to the useful command line

00:42:18,310 --> 00:42:25,119
utilities eggs we don't have man pages

00:42:22,960 --> 00:42:26,680
we don't have internet access so I can't

00:42:25,119 --> 00:42:31,150
just look up to see what's which I'm

00:42:26,680 --> 00:42:35,609
missing anybody else play with ZFS or

00:42:31,150 --> 00:42:35,609
zpool I thought it was like ZFS version

00:42:44,100 --> 00:42:49,780
it will be no it's not in the 80 series

00:42:47,590 --> 00:42:52,450
is in the eighth 2 series that's when it

00:42:49,780 --> 00:42:54,220
was introduced we'll have to come up

00:42:52,450 --> 00:43:06,460
with that I might look on break so you

00:42:54,220 --> 00:43:08,910
can figure that out see pull status if

00:43:06,460 --> 00:43:08,910
it told you

00:43:09,170 --> 00:43:13,549
yeah that makes sense okay

00:43:22,030 --> 00:43:28,510
it's not showing it for me might be

00:43:24,650 --> 00:43:28,510
because I'm a stripe and outer aids eat

00:43:32,530 --> 00:43:45,070
okay so something good to look up yeah

00:43:46,630 --> 00:43:51,350
well it depends the latest stable

00:43:49,010 --> 00:43:54,710
version is 80 for p2 that's what you

00:43:51,350 --> 00:43:58,310
wrote in production so we are we are

00:43:54,710 --> 00:44:02,000
running a beta version of what's coming

00:43:58,310 --> 00:44:04,120
in 82 so so it's it's fun to play with

00:44:02,000 --> 00:44:10,310
but don't put on your production systems

00:44:04,120 --> 00:44:11,930
okay nope so we have we have the newest

00:44:10,310 --> 00:44:17,770
latest and greatest it was actually the

00:44:11,930 --> 00:44:17,770
nightly as of Tuesday yep yep

00:44:26,000 --> 00:44:29,000
is

00:44:39,060 --> 00:44:43,960
it should if it understands the

00:44:42,070 --> 00:44:45,910
underlying hardware yeah so it's not

00:44:43,960 --> 00:44:49,780
like Windows where everything is tied

00:44:45,910 --> 00:44:51,100
into the hardware okay no freebsd really

00:44:49,780 --> 00:45:02,620
doesn't care as long as it understands

00:44:51,100 --> 00:45:04,030
the hardware it's fine yeah yep yep how

00:45:02,620 --> 00:45:10,180
are we doing for time we got five

00:45:04,030 --> 00:45:12,370
minutes okay okay so I'll just do a

00:45:10,180 --> 00:45:21,510
quick overview of what we did in our

00:45:12,370 --> 00:45:21,510
config workflow yep read question cpool

00:45:33,260 --> 00:45:37,820
and again it's very terrible here hand

00:45:35,750 --> 00:45:39,770
only shows so it's nice so it's

00:45:37,820 --> 00:45:42,790
basically that table shows every feature

00:45:39,770 --> 00:45:47,740
what you understands and it stops at 15

00:45:42,790 --> 00:45:47,740
so are you running CFS 15 good

00:45:57,170 --> 00:46:03,770
okay so just to recap what our

00:46:00,020 --> 00:46:07,819
configuration overflow was or workflow

00:46:03,770 --> 00:46:12,140
so the first step was to go in if I can

00:46:07,819 --> 00:46:15,619
remember my seven steps configure your

00:46:12,140 --> 00:46:18,170
volumes so tell the system which dis is

00:46:15,619 --> 00:46:21,470
playing with then you'll go in and

00:46:18,170 --> 00:46:24,970
create your users or groups or import

00:46:21,470 --> 00:46:27,440
them from ad or import them from ldap

00:46:24,970 --> 00:46:31,609
you'll then configure the starting

00:46:27,440 --> 00:46:33,770
permissions you'll configure sharing

00:46:31,609 --> 00:46:37,010
after deciding what type is best for

00:46:33,770 --> 00:46:40,220
your network you'll start the services

00:46:37,010 --> 00:46:42,260
associated with that sharing you'll test

00:46:40,220 --> 00:46:43,970
your configuration and then once

00:46:42,260 --> 00:46:48,230
everything's working you'll back up here

00:46:43,970 --> 00:46:51,170
config when we come back from the break

00:46:48,230 --> 00:46:52,549
we're going to do some managing ZFS so

00:46:51,170 --> 00:46:55,160
we're going to take a closer look at

00:46:52,549 --> 00:46:57,950
snapshots and how to automatically

00:46:55,160 --> 00:46:59,900
schedule their creation well then talk

00:46:57,950 --> 00:47:02,900
about replicating those to another

00:46:59,900 --> 00:47:06,380
system and we'll talk a bit more about

00:47:02,900 --> 00:47:11,710
ZFS scrubs and how to schedule those so

00:47:06,380 --> 00:47:11,710
what time do we come back from break 245

00:47:16,820 --> 00:47:23,270
how's that sigh every way this is the

00:47:19,940 --> 00:47:25,430
way to better utilize all your resources

00:47:23,270 --> 00:47:28,880
and it makes managing all your resources

00:47:25,430 --> 00:47:32,710
pretty easy all of the innovation is

00:47:28,880 --> 00:47:36,230
happening in open source the

00:47:32,710 --> 00:47:38,030
collaborative nature and of the you know

00:47:36,230 --> 00:47:40,130
of the community and the speed at which

00:47:38,030 --> 00:47:42,140
these are these you know these these

00:47:40,130 --> 00:47:44,450
deficiencies these bugs are getting

00:47:42,140 --> 00:47:47,030
discovered and then fixed is it like

00:47:44,450 --> 00:47:49,760
that really shows the power of the you

00:47:47,030 --> 00:47:51,380
know of the open source community it is

00:47:49,760 --> 00:47:55,580
global and it's definitely because of

00:47:51,380 --> 00:48:01,910
the users community people are extremely

00:47:55,580 --> 00:48:03,800
friendly and always ready to help if you

00:48:01,910 --> 00:48:06,110
go on tire see any day you'll see these

00:48:03,800 --> 00:48:07,810
guys helping each other out and they're

00:48:06,110 --> 00:48:10,520
all doing it like in a selfless manner

00:48:07,810 --> 00:48:13,510
the product is transparent for everyone

00:48:10,520 --> 00:48:16,730
everyone can look at the code base

00:48:13,510 --> 00:48:18,940
everyone can see how close dark is being

00:48:16,730 --> 00:48:24,440
built nothing nothing is proprietary

00:48:18,940 --> 00:48:27,110
everything is open in many ways it's

00:48:24,440 --> 00:48:31,520
absolutely vital to the the ongoing

00:48:27,110 --> 00:48:35,720
health cloudstack the most exciting

00:48:31,520 --> 00:48:38,500
event in recent memory for me was our

00:48:35,720 --> 00:48:41,200
first developer boot camp

00:48:38,500 --> 00:48:43,870
and our call gave people I gave you two

00:48:41,200 --> 00:48:47,830
weeks notice to come attend I was

00:48:43,870 --> 00:48:52,000
expecting 25 or 30 people so we ended up

00:48:47,830 --> 00:48:54,820
with 87 people and had to go get more

00:48:52,000 --> 00:48:57,370
chairs in the room twice everything

00:48:54,820 --> 00:49:00,700
within cloud computing is commodity and

00:48:57,370 --> 00:49:03,670
is open source and so I don't think that

00:49:00,700 --> 00:49:05,440
you will you'll see anywhere where open

00:49:03,670 --> 00:49:08,470
source is not pervasive in cloud

00:49:05,440 --> 00:49:11,170
computing and so i think it's i think

00:49:08,470 --> 00:49:12,520
it's an assumption i think when you talk

00:49:11,170 --> 00:49:13,660
about cloud computing you're really

00:49:12,520 --> 00:49:19,210
talking about open source cloud

00:49:13,660 --> 00:49:22,360
computing cloud sac is a robust solution

00:49:19,210 --> 00:49:24,760
for large deployments you have dozens of

00:49:22,360 --> 00:49:28,660
data centers and thousands of servers in

00:49:24,760 --> 00:49:31,330
each data centers these Hardware is

00:49:28,660 --> 00:49:34,810
going to fail and CloudStack is designed

00:49:31,330 --> 00:49:37,510
to handle number one that mass scale

00:49:34,810 --> 00:49:40,690
number two it's designed to handle the

00:49:37,510 --> 00:49:43,540
failure that inevitably happens in large

00:49:40,690 --> 00:49:47,740
deployments started working on proj back

00:49:43,540 --> 00:49:50,980
over four years ago and it was the

00:49:47,740 --> 00:49:52,810
original set of people working on it add

00:49:50,980 --> 00:49:56,890
a background of delivering software

00:49:52,810 --> 00:50:01,150
telcos and service providers lots of QA

00:49:56,890 --> 00:50:04,750
lots of users actually using it high

00:50:01,150 --> 00:50:07,840
availability is a key feature multiple

00:50:04,750 --> 00:50:10,000
hypervisors support different network

00:50:07,840 --> 00:50:13,030
models we can pick up whatever suits you

00:50:10,000 --> 00:50:14,800
better while step management server can

00:50:13,030 --> 00:50:18,490
be deployed in different physical

00:50:14,800 --> 00:50:20,140
machines it definitely has a huge

00:50:18,490 --> 00:50:25,120
footprint it's being deployed everywhere

00:50:20,140 --> 00:50:27,700
there's a major movie studio that they

00:50:25,120 --> 00:50:30,910
were using cloudstack they were using it

00:50:27,700 --> 00:50:32,980
to transcode video and i thought that

00:50:30,910 --> 00:50:34,630
was terribly fascinating what i found

00:50:32,980 --> 00:50:37,650
more fascinating is what they did during

00:50:34,630 --> 00:50:40,410
lunch where they would spin up

00:50:37,650 --> 00:50:41,579
you know 50 or 60 game servers then as

00:50:40,410 --> 00:50:43,559
soon as lunch was over they would

00:50:41,579 --> 00:50:47,609
destroy all the instances and go back to

00:50:43,559 --> 00:50:49,020
doing real work CloudStack is vast it

00:50:47,609 --> 00:50:50,579
touches so many different aspects and

00:50:49,020 --> 00:50:52,770
there's no one person that's kind of

00:50:50,579 --> 00:50:56,250
like a master of all those realms I

00:50:52,770 --> 00:50:58,950
think clouds stack as a project is going

00:50:56,250 --> 00:51:02,750
to be one of the leaders simply because

00:50:58,950 --> 00:51:08,089
it's some of the most feature fallen and

00:51:02,750 --> 00:51:08,089
and robust platforms out they were

00:51:08,390 --> 00:51:12,619
add-on senior living through the clouds

00:51:10,349 --> 00:51:12,619
dag

00:51:56,220 --> 00:51:58,280
you

00:52:01,490 --> 00:52:06,299
when we created asterisk over a decade

00:52:04,200 --> 00:52:08,520
ago we could not have imagined that

00:52:06,299 --> 00:52:10,740
asterisk would not only become the most

00:52:08,520 --> 00:52:12,869
widely adopted open source communication

00:52:10,740 --> 00:52:14,910
software on the planet but that it would

00:52:12,869 --> 00:52:17,430
impact the entire industry in the way

00:52:14,910 --> 00:52:19,410
that it has today asterisk has found its

00:52:17,430 --> 00:52:22,020
way in the more than 170 countries and

00:52:19,410 --> 00:52:24,000
virtually every fortune 1000 company the

00:52:22,020 --> 00:52:26,099
success of asterisk has enabled a

00:52:24,000 --> 00:52:27,480
transition of power from the hands of

00:52:26,099 --> 00:52:29,760
the traditional proprietary phone

00:52:27,480 --> 00:52:32,160
vendors into the hands of the users and

00:52:29,760 --> 00:52:34,079
administrators of phone systems using

00:52:32,160 --> 00:52:35,309
this power our customers have created

00:52:34,079 --> 00:52:37,260
all sorts of business changing

00:52:35,309 --> 00:52:39,119
applications from small office phone

00:52:37,260 --> 00:52:41,640
systems to mission-critical call centers

00:52:39,119 --> 00:52:43,230
the international carrier networks in

00:52:41,640 --> 00:52:45,030
fact there's even an entire country

00:52:43,230 --> 00:52:47,609
those communications infrastructure runs

00:52:45,030 --> 00:52:49,530
on esters the gym has always been about

00:52:47,609 --> 00:52:51,240
creating technology that expands

00:52:49,530 --> 00:52:53,430
communications capabilities in ways that

00:52:51,240 --> 00:52:54,630
we could never have imagined and that's

00:52:53,430 --> 00:52:57,000
part of what's game-changing about

00:52:54,630 --> 00:52:59,700
Digium today we're doing it again this

00:52:57,000 --> 00:53:01,799
time by introducing a new family of HD

00:52:59,700 --> 00:53:03,930
IP phones that extends control of the

00:53:01,799 --> 00:53:05,670
user all the way to the desktop the

00:53:03,930 --> 00:53:07,380
launch of these new products represents

00:53:05,670 --> 00:53:09,359
the next phase indigenous history of

00:53:07,380 --> 00:53:11,880
innovation these are the first and only

00:53:09,359 --> 00:53:13,589
IP phones designed to fully leverage the

00:53:11,880 --> 00:53:15,150
power of esters when we first discussed

00:53:13,589 --> 00:53:17,160
our expectations for building a family

00:53:15,150 --> 00:53:19,349
of phones for use with asterisk our

00:53:17,160 --> 00:53:21,089
requirements were pretty simple we asked

00:53:19,349 --> 00:53:22,710
the team to build the phones such that

00:53:21,089 --> 00:53:24,900
they were easy to install integrate

00:53:22,710 --> 00:53:26,760
provision and use I think you'll soon

00:53:24,900 --> 00:53:29,309
agree our engineers have delivered on

00:53:26,760 --> 00:53:30,960
that goal user feedback is validating

00:53:29,309 --> 00:53:33,059
that when it comes to operation with

00:53:30,960 --> 00:53:35,490
astro space systems including our own

00:53:33,059 --> 00:53:38,069
Switchvox based product these are the

00:53:35,490 --> 00:53:39,359
easiest to use best integrated most

00:53:38,069 --> 00:53:41,970
interoperable products on the market

00:53:39,359 --> 00:53:43,940
today the digitally of phones will

00:53:41,970 --> 00:53:46,049
initially include three IP des hommes

00:53:43,940 --> 00:53:47,940
uniquely designed to complement any

00:53:46,049 --> 00:53:49,829
asterisk or Switchvox based solution

00:53:47,940 --> 00:53:52,500
these phones are different for a number

00:53:49,829 --> 00:53:55,140
of reasons first there is clue sively

00:53:52,500 --> 00:53:56,579
designed for use with asterisks secondly

00:53:55,140 --> 00:53:58,190
we've made it really easy to

00:53:56,579 --> 00:54:00,569
autodiscover and provision the phones

00:53:58,190 --> 00:54:02,250
next we've made it easy for the phones

00:54:00,569 --> 00:54:04,200
to access information inside of

00:54:02,250 --> 00:54:06,200
asterisks allowing tight coupling

00:54:04,200 --> 00:54:08,190
between an application and the phone

00:54:06,200 --> 00:54:10,349
additionally we've created an

00:54:08,190 --> 00:54:12,480
applications engineer that allows users

00:54:10,349 --> 00:54:15,690
and developers to create and run their

00:54:12,480 --> 00:54:17,460
own apps on the phone and finally we've

00:54:15,690 --> 00:54:19,440
done all of this at a very compelling

00:54:17,460 --> 00:54:21,089
price point at Digium we're always

00:54:19,440 --> 00:54:23,190
thinking of ways to give our customers

00:54:21,089 --> 00:54:25,710
the best value in business phone systems

00:54:23,190 --> 00:54:27,329
and also give them the power to create

00:54:25,710 --> 00:54:29,460
their own solutions or any

00:54:27,329 --> 00:54:31,200
communications challenge well continue

00:54:29,460 --> 00:54:32,640
to push the boundaries not only to make

00:54:31,200 --> 00:54:34,650
Astra's cooler bastard more

00:54:32,640 --> 00:54:36,300
technologically feature-rich but to make

00:54:34,650 --> 00:54:38,760
asterisk employed communications even

00:54:36,300 --> 00:54:41,869
easier and together we'll change the way

00:54:38,760 --> 00:54:41,869

YouTube URL: https://www.youtube.com/watch?v=3SQzDKA576o


