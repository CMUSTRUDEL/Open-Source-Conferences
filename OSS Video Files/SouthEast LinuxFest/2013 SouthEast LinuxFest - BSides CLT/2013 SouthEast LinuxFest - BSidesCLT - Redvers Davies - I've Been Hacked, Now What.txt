Title: 2013 SouthEast LinuxFest - BSidesCLT - Redvers Davies - I've Been Hacked, Now What
Publication date: 2014-07-09
Playlist: 2013 SouthEast LinuxFest - BSides CLT
Description: 
	2013 SouthEast LinuxFest
BSidesCLT

Redvers Davies - I've Been Hacked, Now What
Captions: 
	00:00:00,000 --> 00:00:05,160
the following presentation was recorded

00:00:02,639 --> 00:00:08,280
at the 2013 southeast linux fest in

00:00:05,160 --> 00:00:10,860
charlotte north carolina it is licensed

00:00:08,280 --> 00:00:12,509
under a creative commons license for

00:00:10,860 --> 00:00:16,619
more information about the southeast

00:00:12,509 --> 00:00:19,830
linux fest visit WWF eastland TX phase

00:00:16,619 --> 00:00:21,630
or the southeast linux fest would like

00:00:19,830 --> 00:00:24,000
to thank the following diamond sponsors

00:00:21,630 --> 00:00:32,730
in 2013 for helping make these videos

00:00:24,000 --> 00:00:35,010
possible thank you there it is hi

00:00:32,730 --> 00:00:36,300
everybody can you hear me could hear me

00:00:35,010 --> 00:00:38,780
at the back we go to the we got on the

00:00:36,300 --> 00:00:44,370
camera everything good to go excellent

00:00:38,780 --> 00:00:45,420
I've been hacked now what okay hands in

00:00:44,370 --> 00:00:50,910
the air if you just don't care who's

00:00:45,420 --> 00:00:52,140
been hacked oh I love honesty for the

00:00:50,910 --> 00:00:54,360
camera that isn't panning around the

00:00:52,140 --> 00:00:57,719
room that is everybody it's a beautiful

00:00:54,360 --> 00:01:00,149
thing oh hi my name is red I mean he

00:00:57,719 --> 00:01:02,129
knew an exam in for 12 years both sides

00:01:00,149 --> 00:01:03,780
of the pond I used to build Internet

00:01:02,129 --> 00:01:06,479
service providers for a living so lots

00:01:03,780 --> 00:01:08,189
of experience of hackery there being

00:01:06,479 --> 00:01:10,560
blue team and instant response and

00:01:08,189 --> 00:01:13,080
forensics for five years and I've been

00:01:10,560 --> 00:01:16,759
on red team's foray an amount of time

00:01:13,080 --> 00:01:20,490
that I'm not allowed to disclose a while

00:01:16,759 --> 00:01:22,259
this talk is not aimed at security folk

00:01:20,490 --> 00:01:24,869
let me say this straight from the point

00:01:22,259 --> 00:01:32,700
i know this is b sides but this is

00:01:24,869 --> 00:01:37,229
besides itself yes sir certainly think

00:01:32,700 --> 00:01:40,200
okay blue team so in the world of

00:01:37,229 --> 00:01:43,020
security we have they're not really

00:01:40,200 --> 00:01:45,450
competing teams they are they're

00:01:43,020 --> 00:01:47,700
complementary teams what we do is we

00:01:45,450 --> 00:01:50,250
have a blue team which responds to

00:01:47,700 --> 00:01:51,810
security events such as break-ins and

00:01:50,250 --> 00:01:54,720
data leakage and stuff like that and

00:01:51,810 --> 00:01:57,360
then we have a red team whose sole

00:01:54,720 --> 00:02:00,780
purpose in life is to make the blue team

00:01:57,360 --> 00:02:02,850
better what a red team are does is they

00:02:00,780 --> 00:02:05,399
go into a company or an organization and

00:02:02,850 --> 00:02:09,569
they say how can i mess these people up

00:02:05,399 --> 00:02:12,810
and then what we do is we then attack

00:02:09,569 --> 00:02:13,860
destroy and pillage the target

00:02:12,810 --> 00:02:18,030
organization

00:02:13,860 --> 00:02:19,680
all the while improving blue team the

00:02:18,030 --> 00:02:21,390
way that I like to think of red team is

00:02:19,680 --> 00:02:22,500
were like a sparring partner for a box

00:02:21,390 --> 00:02:24,810
and we're just there to just keep

00:02:22,500 --> 00:02:28,350
punching him in the face and so they're

00:02:24,810 --> 00:02:30,060
so used to the blue team is so used to

00:02:28,350 --> 00:02:32,340
being attacked and how to deal with that

00:02:30,060 --> 00:02:34,470
that when they really really really get

00:02:32,340 --> 00:02:37,170
hit in the face then they know how to

00:02:34,470 --> 00:02:44,490
deal with that and it's instinctual for

00:02:37,170 --> 00:02:53,190
them does that make sense yes yes they

00:02:44,490 --> 00:02:54,780
do try and mitigate the what yes we do

00:02:53,190 --> 00:02:57,170
without completely demolishing their

00:02:54,780 --> 00:02:59,850
system we do steal their data though and

00:02:57,170 --> 00:03:02,130
give it to them a nice pretty box and

00:02:59,850 --> 00:03:08,550
put it on the table and there you go and

00:03:02,130 --> 00:03:12,030
they appreciate it so this talk is not

00:03:08,550 --> 00:03:15,900
aimed at security folk I've aim this

00:03:12,030 --> 00:03:20,549
talk specifically at the southeast linux

00:03:15,900 --> 00:03:22,260
fest users users admins sysadmin spa

00:03:20,549 --> 00:03:24,959
features however you wish to describe

00:03:22,260 --> 00:03:29,519
yourself this is how you're a purchase

00:03:24,959 --> 00:03:31,470
admin react if he has no experience and

00:03:29,519 --> 00:03:33,750
it's not the security it's not the

00:03:31,470 --> 00:03:35,400
sysadmin it's not the guy who sets

00:03:33,750 --> 00:03:37,410
himself on fire it's the business goat

00:03:35,400 --> 00:03:39,570
oh my god the world is everything and

00:03:37,410 --> 00:03:41,959
then they look at the poor sap in the

00:03:39,570 --> 00:03:46,590
corner who has root and says fix it and

00:03:41,959 --> 00:03:48,690
so what this talk really is about is in

00:03:46,590 --> 00:03:51,390
small to mid companies where there is no

00:03:48,690 --> 00:03:53,549
dedicated security team I want to give

00:03:51,390 --> 00:03:55,890
you guys a fighting chance as to how to

00:03:53,549 --> 00:03:59,970
deal with a real legitimate attack

00:03:55,890 --> 00:04:02,580
that's that's it in a nutshell so if you

00:03:59,970 --> 00:04:05,130
are the lucky one in the room and you

00:04:02,580 --> 00:04:07,470
have a security department my best

00:04:05,130 --> 00:04:09,000
advice to you is to punt the incident of

00:04:07,470 --> 00:04:12,000
the security department as quickly as

00:04:09,000 --> 00:04:14,640
possible drink beer and eat popcorn and

00:04:12,000 --> 00:04:16,739
just watch the world collapse around

00:04:14,640 --> 00:04:19,380
them instead of you it's it's far more

00:04:16,739 --> 00:04:21,959
entertaining being on that side of the

00:04:19,380 --> 00:04:23,220
fence especially when the c-level

00:04:21,959 --> 00:04:25,200
executives come in and start talking

00:04:23,220 --> 00:04:26,010
about losing millions of dollars they

00:04:25,200 --> 00:04:30,150
get

00:04:26,010 --> 00:04:35,570
areas so there are six stages of

00:04:30,150 --> 00:04:35,570
incident response the p.i CER L model

00:04:36,920 --> 00:04:42,060
their preparation identification

00:04:40,110 --> 00:04:44,880
containment eradication recovery and

00:04:42,060 --> 00:04:47,490
lessons learned this is very much like

00:04:44,880 --> 00:04:50,370
the seven-layer OSI model is technically

00:04:47,490 --> 00:04:52,560
correct it's great theory but when

00:04:50,370 --> 00:04:53,730
you're on fire you don't spend time

00:04:52,560 --> 00:04:55,920
choosing which brand of fire

00:04:53,730 --> 00:05:01,110
extinguisher to use you just want to put

00:04:55,920 --> 00:05:02,910
out the damn fire the p.i CER L model is

00:05:01,110 --> 00:05:04,500
great if you're in a large department

00:05:02,910 --> 00:05:06,270
and you have to worry about regulations

00:05:04,500 --> 00:05:08,370
law enforcement evidence gathering and

00:05:06,270 --> 00:05:09,930
all of that but if you're a small

00:05:08,370 --> 00:05:12,480
business or a mid-sized business and

00:05:09,930 --> 00:05:16,740
you've been part you just need to get

00:05:12,480 --> 00:05:19,530
the job done I am NOT your lawyer in

00:05:16,740 --> 00:05:21,600
fact I'm not a lawyer at all I know like

00:05:19,530 --> 00:05:23,910
cyber laws because cyber laws means i

00:05:21,600 --> 00:05:26,010
need to remember things like certain

00:05:23,910 --> 00:05:30,230
states require you to do reporting if

00:05:26,010 --> 00:05:34,050
certain states citizens or residents

00:05:30,230 --> 00:05:35,940
private information is released and each

00:05:34,050 --> 00:05:38,100
state has different laws and all of that

00:05:35,940 --> 00:05:41,550
and there is a legal department for that

00:05:38,100 --> 00:05:46,250
I want nothing to do with it I am NOT

00:05:41,550 --> 00:05:49,460
your compliance I don't do checklists

00:05:46,250 --> 00:05:52,740
compliance has value in an organization

00:05:49,460 --> 00:05:55,290
it's not what I do and it's not what

00:05:52,740 --> 00:05:57,600
we're going to talk about today and I'm

00:05:55,290 --> 00:06:00,480
not your boss and that's pry that's

00:05:57,600 --> 00:06:04,080
primary because how an organization

00:06:00,480 --> 00:06:07,440
chooses to respond to a hack is actually

00:06:04,080 --> 00:06:09,720
up to the business and not to us not the

00:06:07,440 --> 00:06:12,570
admins not the security team we all bow

00:06:09,720 --> 00:06:14,550
down to the business because that's what

00:06:12,570 --> 00:06:16,110
we're here we're here to make money so

00:06:14,550 --> 00:06:19,440
you need answers to these questions

00:06:16,110 --> 00:06:21,030
before you're on fire and I'm going to

00:06:19,440 --> 00:06:24,030
give you some questions that you need to

00:06:21,030 --> 00:06:28,050
ask your business before bad things

00:06:24,030 --> 00:06:29,220
happen and if bad things happen you

00:06:28,050 --> 00:06:31,200
should probably ask them again because

00:06:29,220 --> 00:06:34,230
they'll probably deny all knowledge of

00:06:31,200 --> 00:06:36,750
answering the previous questions when it

00:06:34,230 --> 00:06:39,000
doesn't work out how they want it to so

00:06:36,750 --> 00:06:39,689
ask this question now what is the most

00:06:39,000 --> 00:06:41,969
important

00:06:39,689 --> 00:06:45,209
into you confidentiality integrity or

00:06:41,969 --> 00:06:48,539
availability that is entirely dependent

00:06:45,209 --> 00:06:51,479
on what your businesses and what type of

00:06:48,539 --> 00:06:53,849
data you're talking about if a bank had

00:06:51,479 --> 00:06:55,829
to choose between the integrity of its

00:06:53,849 --> 00:06:59,009
database meaning where the money lives

00:06:55,829 --> 00:07:01,229
or the amount of money and everyone's

00:06:59,009 --> 00:07:03,360
bank accounts being leaked which are

00:07:01,229 --> 00:07:04,919
they going to choose both the nightmare

00:07:03,360 --> 00:07:06,989
scenarios which are they going to choose

00:07:04,919 --> 00:07:09,599
if you're talking about a trading floor

00:07:06,989 --> 00:07:11,819
where you have trades which are active

00:07:09,599 --> 00:07:14,300
and if you're unable to trade you could

00:07:11,819 --> 00:07:17,610
be losing millions of dollars a minute

00:07:14,300 --> 00:07:19,199
then availability is going to be more

00:07:17,610 --> 00:07:21,300
important than confidentiality because

00:07:19,199 --> 00:07:24,029
after all what you trade is public

00:07:21,300 --> 00:07:27,119
anyway right so these are the questions

00:07:24,029 --> 00:07:31,800
that you need to ask before bad things

00:07:27,119 --> 00:07:34,229
happen and all decisions you make during

00:07:31,800 --> 00:07:36,659
an attack are going to be influenced by

00:07:34,229 --> 00:07:41,639
these questions because you are going to

00:07:36,659 --> 00:07:48,110
have to compromise it's the c-word you

00:07:41,639 --> 00:07:51,089
are going to have to compromise so this

00:07:48,110 --> 00:07:55,139
how important is attribution versus

00:07:51,089 --> 00:07:57,839
availability if somebody steals data

00:07:55,139 --> 00:08:05,219
from your company how important is it to

00:07:57,839 --> 00:08:10,229
you to catch them is it important enough

00:08:05,219 --> 00:08:13,769
to have your let's say your your

00:08:10,229 --> 00:08:17,039
ecommerce take down for 12 hours is it

00:08:13,769 --> 00:08:20,249
worth that much to you how important is

00:08:17,039 --> 00:08:22,139
it to do that because you've got this

00:08:20,249 --> 00:08:23,969
whole trail of evidence and evidence

00:08:22,139 --> 00:08:26,369
collection and it slows the entire

00:08:23,969 --> 00:08:29,699
process down and under what conditions

00:08:26,369 --> 00:08:31,289
if any do you call law enforcement if

00:08:29,699 --> 00:08:34,019
somebody steals a thousand dollars from

00:08:31,289 --> 00:08:36,209
me yeah it's a business expense some

00:08:34,019 --> 00:08:38,509
steals a hundred million dollars from

00:08:36,209 --> 00:08:42,120
you you might get a little more snarky

00:08:38,509 --> 00:08:43,949
just a little just a touch but the

00:08:42,120 --> 00:08:49,350
moment that you call law enforcement in

00:08:43,949 --> 00:08:51,000
you lose all control because law

00:08:49,350 --> 00:08:52,319
enforcement wants their prosecution they

00:08:51,000 --> 00:08:53,529
want a straight line of evidence and

00:08:52,319 --> 00:08:54,910
they want it easy so

00:08:53,529 --> 00:08:55,990
we'll walk into your data center they

00:08:54,910 --> 00:09:00,930
will pick the machines up and they will

00:08:55,990 --> 00:09:03,160
leave and you will have no service so

00:09:00,930 --> 00:09:05,499
these are the questions that you need to

00:09:03,160 --> 00:09:07,180
think of in advance before you're on

00:09:05,499 --> 00:09:09,339
fire you have to think of these

00:09:07,180 --> 00:09:12,370
questions they suck because their

00:09:09,339 --> 00:09:17,110
hypothetical but they become real very

00:09:12,370 --> 00:09:20,139
very quickly so if you're lucky and your

00:09:17,110 --> 00:09:23,439
environment runs on virtual machines you

00:09:20,139 --> 00:09:24,790
get a get-out-of-jail-free card because

00:09:23,439 --> 00:09:28,629
virtual machines have this wonderful

00:09:24,790 --> 00:09:30,490
thing called a snapshot so you need to

00:09:28,629 --> 00:09:32,259
do evidence collection you need to do a

00:09:30,490 --> 00:09:34,480
snapshot forensics and all that other

00:09:32,259 --> 00:09:36,660
good snug to all that good stuff you

00:09:34,480 --> 00:09:39,129
just press snapshot and you're done

00:09:36,660 --> 00:09:40,120
there is your evidence there's the

00:09:39,129 --> 00:09:42,009
evidence you can give to law enforcement

00:09:40,120 --> 00:09:43,480
there's the evidence you can give to

00:09:42,009 --> 00:09:47,050
your laws there's the evidence you can

00:09:43,480 --> 00:09:49,180
give to counsel it's all there you have

00:09:47,050 --> 00:09:52,209
a pristine image for all of that stuff

00:09:49,180 --> 00:09:54,759
and most importantly for me training

00:09:52,209 --> 00:09:56,499
when new people come on you need to be

00:09:54,759 --> 00:09:59,620
able to make sure that they can do this

00:09:56,499 --> 00:10:01,720
what is better for them than to give

00:09:59,620 --> 00:10:07,269
them a real live event you had and said

00:10:01,720 --> 00:10:09,250
you work out what happened if you don't

00:10:07,269 --> 00:10:12,490
have a vm then you have to bring the

00:10:09,250 --> 00:10:16,089
machines down and you need to DD off the

00:10:12,490 --> 00:10:23,050
entire disk image DD is a UNIX command

00:10:16,089 --> 00:10:25,420
for copying block devices and when

00:10:23,050 --> 00:10:27,730
you're dealing with six hours of

00:10:25,420 --> 00:10:30,519
downtime because your top you're because

00:10:27,730 --> 00:10:33,339
you're copying you know large amounts of

00:10:30,519 --> 00:10:34,660
data maybe even terabytes of data and

00:10:33,339 --> 00:10:36,459
you know you're backing them up across a

00:10:34,660 --> 00:10:38,019
network maybe gigabit or you know you

00:10:36,459 --> 00:10:39,160
may be backing them off for fiber if

00:10:38,019 --> 00:10:41,559
you're lucky enough to have fiber

00:10:39,160 --> 00:10:43,689
channels of the machine after six hours

00:10:41,559 --> 00:10:45,309
of downtime you get calls from the

00:10:43,689 --> 00:10:49,240
executive saying winding up yet wind it

00:10:45,309 --> 00:10:54,670
up yet wine it up yet because I hate to

00:10:49,240 --> 00:10:57,730
say it and I love love business but when

00:10:54,670 --> 00:10:59,589
someone hacks into a machine and you as

00:10:57,730 --> 00:11:03,069
security say yeah I need to take that

00:10:59,589 --> 00:11:05,620
down for six hours to do a backup they

00:11:03,069 --> 00:11:07,320
don't hear the hacker cost me six hours

00:11:05,620 --> 00:11:09,600
of eight availability

00:11:07,320 --> 00:11:12,390
here the security department cost me six

00:11:09,600 --> 00:11:15,510
hours of availability and if you guys

00:11:12,390 --> 00:11:19,590
remember back if you guys remember back

00:11:15,510 --> 00:11:22,110
from the talk previously I t is all

00:11:19,590 --> 00:11:24,120
about availability and now I'm costing

00:11:22,110 --> 00:11:25,410
you six hours you know security is

00:11:24,120 --> 00:11:29,760
costing you six hours just because

00:11:25,410 --> 00:11:31,590
somebody broke into our website try and

00:11:29,760 --> 00:11:35,330
think of these things in advance because

00:11:31,590 --> 00:11:38,930
they will save a lot of flapping in

00:11:35,330 --> 00:11:45,750
decisions when the time comes later so

00:11:38,930 --> 00:11:48,750
step minus one preparation so you need

00:11:45,750 --> 00:11:52,080
one of these and anyone familiar with

00:11:48,750 --> 00:11:56,520
the type 40 excellent you need to go

00:11:52,080 --> 00:11:58,650
back to 130 this afternoon and you need

00:11:56,520 --> 00:12:00,480
to attend to talk call Doug Burks talk

00:11:58,650 --> 00:12:03,210
security onion peeling back the layers

00:12:00,480 --> 00:12:08,220
of your network in minutes hands up

00:12:03,210 --> 00:12:10,590
anyone who saw it wasn't it a beautiful

00:12:08,220 --> 00:12:12,270
thing it was standing room only and it

00:12:10,590 --> 00:12:17,010
was standing room only for a reason

00:12:12,270 --> 00:12:19,590
because you need data and as far as bang

00:12:17,010 --> 00:12:23,700
per buck is concerned security onion is

00:12:19,590 --> 00:12:25,890
off the scale the reason you need

00:12:23,700 --> 00:12:28,560
third-party in to date independent data

00:12:25,890 --> 00:12:31,980
from security onion is because your

00:12:28,560 --> 00:12:33,780
machines are going to lie to you because

00:12:31,980 --> 00:12:36,810
of rootkits malware and all that other

00:12:33,780 --> 00:12:39,450
good stuff but so back to preparation

00:12:36,810 --> 00:12:42,210
this is and should be a torque unto

00:12:39,450 --> 00:12:44,310
itself so i'm just going to just touch

00:12:42,210 --> 00:12:46,650
the high points hardening standards love

00:12:44,310 --> 00:12:48,870
them and hug them you can find them

00:12:46,650 --> 00:12:50,820
online you google hardening standards

00:12:48,870 --> 00:12:55,040
it's it's very technical job being a

00:12:50,820 --> 00:12:57,030
security consultant to be quite brutal

00:12:55,040 --> 00:12:59,820
ninety percent of the hardening

00:12:57,030 --> 00:13:02,250
standards rel will actually have an

00:12:59,820 --> 00:13:06,420
effect it's the ten percent that really

00:13:02,250 --> 00:13:08,340
does most of the work subscribe to every

00:13:06,420 --> 00:13:11,610
security announced mainly list of the

00:13:08,340 --> 00:13:14,610
software that you deploy externally some

00:13:11,610 --> 00:13:16,620
people would say internally to but focus

00:13:14,610 --> 00:13:18,270
focus it outside there's only so much

00:13:16,620 --> 00:13:20,790
you can do to protect the inside when

00:13:18,270 --> 00:13:24,480
you've got Java inside too sorry

00:13:20,790 --> 00:13:29,910
it's true and force feed your developers

00:13:24,480 --> 00:13:32,370
owasp content Oh wasp wasp is a

00:13:29,910 --> 00:13:37,430
wonderful organization and what they do

00:13:32,370 --> 00:13:40,130
is they provide knowledge and experience

00:13:37,430 --> 00:13:44,250
surrounding web applications and

00:13:40,130 --> 00:13:48,000
security of web applications if you run

00:13:44,250 --> 00:13:52,740
anything on port 80 or 443 you owe it to

00:13:48,000 --> 00:13:54,630
yourself to look these people up because

00:13:52,740 --> 00:14:02,510
they will quite frankly save your life

00:13:54,630 --> 00:14:02,510
at some point and lastly yes sir really

00:14:06,500 --> 00:14:14,670
do you know what I'm going to do it

00:14:12,480 --> 00:14:16,320
right here so like I said we have a

00:14:14,670 --> 00:14:17,910
Charlotte chapter and this gentleman

00:14:16,320 --> 00:14:21,780
here is a great contact to speak to you

00:14:17,910 --> 00:14:23,280
about that but it's huge web

00:14:21,780 --> 00:14:26,220
applications and breaking web

00:14:23,280 --> 00:14:29,130
applications is a joy to do for fun and

00:14:26,220 --> 00:14:31,290
profit unfortunately it's usually our

00:14:29,130 --> 00:14:35,460
joy and profit and it's usually your

00:14:31,290 --> 00:14:37,800
guys misery and being on fire so in all

00:14:35,460 --> 00:14:39,510
seriousness the you know the more

00:14:37,800 --> 00:14:41,460
information and you know they'll talk

00:14:39,510 --> 00:14:44,450
about secure coding practices and common

00:14:41,460 --> 00:14:46,560
programming and they have basically

00:14:44,450 --> 00:14:48,000
different types of attacks and how they

00:14:46,560 --> 00:14:49,830
can mitigate them and there's a huge

00:14:48,000 --> 00:14:52,110
amount of resource available both on the

00:14:49,830 --> 00:14:59,190
parent website and available to you

00:14:52,110 --> 00:15:01,470
locally by this chapter yes they do they

00:14:59,190 --> 00:15:08,910
have free and open tools on the OWASP

00:15:01,470 --> 00:15:12,690
website I didn't well that's okay okay

00:15:08,910 --> 00:15:14,970
so to add to this instrumentation the

00:15:12,690 --> 00:15:16,560
biggest thing you have to deal with when

00:15:14,970 --> 00:15:19,020
you're on fire is you need as much

00:15:16,560 --> 00:15:20,250
information as possible and especially

00:15:19,020 --> 00:15:21,780
when the machine that you're dealing

00:15:20,250 --> 00:15:25,740
with us being compromised your machine

00:15:21,780 --> 00:15:28,440
very well will lie to you it's actually

00:15:25,740 --> 00:15:33,520
fairly rare to get root kitted linux

00:15:28,440 --> 00:15:35,800
boxes in my experience it's

00:15:33,520 --> 00:15:38,020
it's extremely common on Windows but

00:15:35,800 --> 00:15:40,090
it's sometimes it's a little hard for

00:15:38,020 --> 00:15:43,120
the little script kiddies to do the to

00:15:40,090 --> 00:15:46,120
do it on the left side all the tools are

00:15:43,120 --> 00:15:47,860
there they just don't but then again the

00:15:46,120 --> 00:15:49,810
last machine that I dealt with they were

00:15:47,860 --> 00:15:51,250
uploading Solaris exploit some windows

00:15:49,810 --> 00:15:55,240
exploits to it and try to get those to

00:15:51,250 --> 00:15:58,720
work so you know so and this is huge

00:15:55,240 --> 00:16:01,800
remove old software and services if you

00:15:58,720 --> 00:16:04,200
don't use it anymore take it down

00:16:01,800 --> 00:16:06,490
because if you don't use it anymore

00:16:04,200 --> 00:16:12,040
you're not going to think about patching

00:16:06,490 --> 00:16:14,530
it you will always have zero days I

00:16:12,040 --> 00:16:17,320
spell it zer 0 because I hate the term

00:16:14,530 --> 00:16:18,910
O'Day hate it with a passion but there

00:16:17,320 --> 00:16:21,040
will always be zero days there's always

00:16:18,910 --> 00:16:22,780
going to be a way that a bad guy can get

00:16:21,040 --> 00:16:26,590
into your systems which no one knows

00:16:22,780 --> 00:16:28,570
about it's just just the way it is you

00:16:26,590 --> 00:16:30,430
will always have stupid users and stupid

00:16:28,570 --> 00:16:32,500
user set stupid passwords and they do

00:16:30,430 --> 00:16:34,480
stupid things like open up firewalls and

00:16:32,500 --> 00:16:36,640
all that other good stuff you will

00:16:34,480 --> 00:16:38,320
always have people that do that they'll

00:16:36,640 --> 00:16:39,820
put use names and passwords and text

00:16:38,320 --> 00:16:42,490
files and they'll drop them on dropbox

00:16:39,820 --> 00:16:47,500
or on slideshare.net mm-hmm I love

00:16:42,490 --> 00:16:49,840
slideshare.net we're all doomed being

00:16:47,500 --> 00:16:52,900
hacked is than is the new assumption now

00:16:49,840 --> 00:16:54,480
it has to be and like you saw when I

00:16:52,900 --> 00:16:58,720
asked her on who's been hacked every

00:16:54,480 --> 00:17:01,360
hand here went up it's happening it's

00:16:58,720 --> 00:17:03,940
done we're done so but we're not

00:17:01,360 --> 00:17:06,820
completely doomed what we have to do is

00:17:03,940 --> 00:17:08,530
retool ourselves and not look at how do

00:17:06,820 --> 00:17:11,709
we stop being hacked because that just

00:17:08,530 --> 00:17:14,410
been going to happen what we do is we

00:17:11,709 --> 00:17:15,970
work better on our detection so we need

00:17:14,410 --> 00:17:18,339
to work out how to detect hostile

00:17:15,970 --> 00:17:19,810
activity at our perimeter and perimeter

00:17:18,339 --> 00:17:21,100
doesn't necessarily just mean stuff

00:17:19,810 --> 00:17:23,620
that's outside the firewall and in the

00:17:21,100 --> 00:17:27,100
DMZ that also means the humans are call

00:17:23,620 --> 00:17:28,840
centers that also means the you know

00:17:27,100 --> 00:17:30,880
dial press one for this press two for

00:17:28,840 --> 00:17:33,340
that please enter your four digit PIN

00:17:30,880 --> 00:17:37,780
yeah all of that anything which has

00:17:33,340 --> 00:17:40,120
contact is your perimeter how do we

00:17:37,780 --> 00:17:41,530
detect and prevent lateral movement once

00:17:40,120 --> 00:17:44,020
someone has got a foothold in your

00:17:41,530 --> 00:17:46,060
organization how do you detect when they

00:17:44,020 --> 00:17:49,430
go from host to host or service

00:17:46,060 --> 00:17:52,490
how do you detect when credentials

00:17:49,430 --> 00:17:57,380
stolen from one machine are legitimately

00:17:52,490 --> 00:17:58,820
being used to access another machine you

00:17:57,380 --> 00:18:01,520
know I see you know if I'm on a machine

00:17:58,820 --> 00:18:03,170
and I see a list of you know differences

00:18:01,520 --> 00:18:04,730
admins logging in from different you

00:18:03,170 --> 00:18:09,610
know from different machines how do I

00:18:04,730 --> 00:18:11,810
know if they're real there are ways and

00:18:09,610 --> 00:18:13,370
then how do we show them the door in the

00:18:11,810 --> 00:18:16,190
least polite way possible which is my

00:18:13,370 --> 00:18:17,690
favorite bit so how do we basically cut

00:18:16,190 --> 00:18:19,370
the head off before they realize that

00:18:17,690 --> 00:18:22,070
we're watching them because there are

00:18:19,370 --> 00:18:23,840
times when you are operating in a live

00:18:22,070 --> 00:18:25,190
instant response where both of you are

00:18:23,840 --> 00:18:28,370
logged onto the machine at the same time

00:18:25,190 --> 00:18:29,840
and you'll be like that's nice okay he's

00:18:28,370 --> 00:18:33,050
connected in from Sweden that's

00:18:29,840 --> 00:18:34,580
inconvenient okay it's going to take me

00:18:33,050 --> 00:18:35,960
20 minutes to call those people and drop

00:18:34,580 --> 00:18:38,540
back okay I'm just going to know route

00:18:35,960 --> 00:18:41,180
them from the host then he comes in from

00:18:38,540 --> 00:18:44,810
Jamaica okay I'm just it just gets

00:18:41,180 --> 00:18:47,990
pointless so step one in preparation

00:18:44,810 --> 00:18:50,030
operating system instrumentation simple

00:18:47,990 --> 00:18:52,730
little things that will make your life

00:18:50,030 --> 00:18:58,580
infinitely easier anyone know what that

00:18:52,730 --> 00:19:00,980
does that's exactly what it does in that

00:18:58,580 --> 00:19:03,230
a beautiful thing so it shows you a date

00:19:00,980 --> 00:19:05,060
and time and the commands that you

00:19:03,230 --> 00:19:07,670
actually execute in your in your history

00:19:05,060 --> 00:19:10,040
file it's the tiniest little thing but

00:19:07,670 --> 00:19:11,630
when you've when you've worked on breach

00:19:10,040 --> 00:19:12,890
machine after breach machine after

00:19:11,630 --> 00:19:15,650
breach machine and you're going through

00:19:12,890 --> 00:19:17,240
dot bash history files and all you do is

00:19:15,650 --> 00:19:19,850
you have a list of commands you have no

00:19:17,240 --> 00:19:21,800
idea if it was today yesterday six weeks

00:19:19,850 --> 00:19:26,060
ago were if the history file that is 12

00:19:21,800 --> 00:19:29,860
months ago tiny little thing makes life

00:19:26,060 --> 00:19:32,570
so much easier unix process accounting

00:19:29,860 --> 00:19:35,150
probably going way back in the day back

00:19:32,570 --> 00:19:37,460
when UNIX was checked when you charged

00:19:35,150 --> 00:19:39,950
unix on the basis of time slices and all

00:19:37,460 --> 00:19:41,720
that other good stuff they actually put

00:19:39,950 --> 00:19:43,280
together a really great tool which is

00:19:41,720 --> 00:19:45,680
unix process accounting which was

00:19:43,280 --> 00:19:47,450
designed to do billing but as a side

00:19:45,680 --> 00:19:49,850
effect of billing it gave you every

00:19:47,450 --> 00:19:53,740
single command that was executed by

00:19:49,850 --> 00:19:56,750
shell by every user and on every TTYL

00:19:53,740 --> 00:20:02,700
TTYL meaning every session

00:19:56,750 --> 00:20:07,770
that's huge how do you turn it on etc

00:20:02,700 --> 00:20:09,179
init d APM acct start that's it you now

00:20:07,770 --> 00:20:11,039
have logs of every command that is

00:20:09,179 --> 00:20:12,630
executed in a shell and if they're

00:20:11,039 --> 00:20:14,520
running a shell script it'll actually

00:20:12,630 --> 00:20:16,470
show you every command in that shell

00:20:14,520 --> 00:20:19,409
script that is executed so if it's

00:20:16,470 --> 00:20:22,950
modified you see the modification it's a

00:20:19,409 --> 00:20:24,870
beautiful thing audit what logs did you

00:20:22,950 --> 00:20:29,399
want to audit and send them to syslog

00:20:24,870 --> 00:20:30,960
and get them off the box huge because

00:20:29,399 --> 00:20:32,549
the first thing I'm going to do sorry

00:20:30,960 --> 00:20:35,190
the first thing an attacker is going to

00:20:32,549 --> 00:20:36,090
do when they get on a box and log in the

00:20:35,190 --> 00:20:37,320
first thing they're going to do is

00:20:36,090 --> 00:20:38,490
they're going to open up your log files

00:20:37,320 --> 00:20:40,860
with VI and they're going to start

00:20:38,490 --> 00:20:43,470
deleting all their entries because they

00:20:40,860 --> 00:20:46,470
don't want you to know they're there so

00:20:43,470 --> 00:20:49,440
get it off the box that means now I have

00:20:46,470 --> 00:20:52,350
to get to that box so you have just

00:20:49,440 --> 00:20:54,690
raised the bar significantly for an

00:20:52,350 --> 00:20:57,750
attacker to not get caught just by

00:20:54,690 --> 00:21:00,059
adding at IP address to your syslog

00:20:57,750 --> 00:21:03,720
server sorry to your syslog decom that's

00:21:00,059 --> 00:21:06,270
it and with ssh this is now mostly

00:21:03,720 --> 00:21:07,649
default over the last year or so but

00:21:06,270 --> 00:21:13,080
just in case it isn't and you have some

00:21:07,649 --> 00:21:17,120
old systems use DNS know because sshd

00:21:13,080 --> 00:21:22,220
would actually log the reverse address

00:21:17,120 --> 00:21:27,260
not the IP address and in many cases

00:21:22,220 --> 00:21:31,169
when coming from hostile locations the

00:21:27,260 --> 00:21:34,350
reverse addresses were hostile in nature

00:21:31,169 --> 00:21:35,760
and crack your shadow files regularly

00:21:34,350 --> 00:21:38,760
and I encourage you to do this to all

00:21:35,760 --> 00:21:42,049
your users you break someone's password

00:21:38,760 --> 00:21:45,000
they buy beer that's a simple rule

00:21:42,049 --> 00:21:47,190
because if you can break the passwords

00:21:45,000 --> 00:21:49,080
here they can be utilized anywhere else

00:21:47,190 --> 00:21:51,600
in your environment and that is what

00:21:49,080 --> 00:21:53,700
lateral movement is all about it's all

00:21:51,600 --> 00:21:56,580
about making it difficult from person to

00:21:53,700 --> 00:21:59,669
get from point A to point B so having

00:21:56,580 --> 00:22:03,120
easy to break passwords not that that

00:21:59,669 --> 00:22:04,390
needs to go that needs to stop so apache

00:22:03,120 --> 00:22:07,250
logs

00:22:04,390 --> 00:22:10,670
how many here know what every single

00:22:07,250 --> 00:22:17,630
query in their web application is meant

00:22:10,670 --> 00:22:20,950
to look like yeah that's me too so you

00:22:17,630 --> 00:22:23,330
need to choose your log diversity wisely

00:22:20,950 --> 00:22:25,490
you to balance security against the

00:22:23,330 --> 00:22:28,430
login of confidential data you can turn

00:22:25,490 --> 00:22:32,030
up logging verbosity on Apache

00:22:28,430 --> 00:22:35,750
significantly mod log forensic will do

00:22:32,030 --> 00:22:40,250
it for you and it may make sense in your

00:22:35,750 --> 00:22:43,010
environment I used the word may because

00:22:40,250 --> 00:22:46,070
if because it will do things like log

00:22:43,010 --> 00:22:48,590
post requests which means that if you're

00:22:46,070 --> 00:22:51,530
passing data such as say credit card

00:22:48,590 --> 00:22:54,110
numbers that is now going to appear in

00:22:51,530 --> 00:22:57,110
your Apache log now compliance guy

00:22:54,110 --> 00:22:58,670
freaks out about this so if you're

00:22:57,110 --> 00:23:01,540
dealing with stuff that is really that

00:22:58,670 --> 00:23:04,010
sensitive this doesn't make sense

00:23:01,540 --> 00:23:07,010
there's a better way and you require the

00:23:04,010 --> 00:23:09,290
TARDIS what you do is you log all your

00:23:07,010 --> 00:23:11,060
SSL traffic with security onion for

00:23:09,290 --> 00:23:14,570
example and then you can use wireshark

00:23:11,060 --> 00:23:17,600
tools to decode it if you own the web

00:23:14,570 --> 00:23:19,850
server you on the certs if you under

00:23:17,600 --> 00:23:22,160
sits you on the private key if you on

00:23:19,850 --> 00:23:26,360
the private key you can decrypt all your

00:23:22,160 --> 00:23:28,520
SSL traffic that's great because what

00:23:26,360 --> 00:23:30,950
you have now is you have security onion

00:23:28,520 --> 00:23:33,320
logging all of this traffic in a

00:23:30,950 --> 00:23:34,580
completely encrypted form which you know

00:23:33,320 --> 00:23:39,650
the auditors will be fine with because

00:23:34,580 --> 00:23:42,200
it's encrypted so you're logging all of

00:23:39,650 --> 00:23:44,090
this traffic and then you can then you

00:23:42,200 --> 00:23:46,250
only refer to it if you need it just

00:23:44,090 --> 00:23:48,170
cycle in every 30 days or whatever you

00:23:46,250 --> 00:23:51,770
know and it's there you ever get a break

00:23:48,170 --> 00:23:54,770
in you could get your sessions from this

00:23:51,770 --> 00:23:57,200
traffic you can go oh okay so I saw a

00:23:54,770 --> 00:24:00,160
time change on this file at this time it

00:23:57,200 --> 00:24:03,530
represents this item in the log file

00:24:00,160 --> 00:24:05,450
okay so it's this part of the pcap it's

00:24:03,530 --> 00:24:07,910
this session and now I can look at both

00:24:05,450 --> 00:24:12,680
what was sent and what my server

00:24:07,910 --> 00:24:15,380
returned huge you need to know what data

00:24:12,680 --> 00:24:17,929
is pretend but we'll come to that so

00:24:15,380 --> 00:24:19,789
database logging balance log

00:24:17,929 --> 00:24:21,259
verbosity against performance and by

00:24:19,789 --> 00:24:23,029
balance log verbosity against

00:24:21,259 --> 00:24:29,059
performance I mean by a bigger database

00:24:23,029 --> 00:24:30,440
server I'm sorry you you need to be

00:24:29,059 --> 00:24:33,230
doing database logging you need to be

00:24:30,440 --> 00:24:35,809
doing database query logging you have to

00:24:33,230 --> 00:24:37,909
you have to because it's the only way to

00:24:35,809 --> 00:24:41,840
answer the question did they get or did

00:24:37,909 --> 00:24:44,929
they modify any data that's vital that's

00:24:41,840 --> 00:24:47,080
huge that is the first question your

00:24:44,929 --> 00:24:51,039
legal counsel is going to ask you the

00:24:47,080 --> 00:24:54,529
first question that they need to answer

00:24:51,039 --> 00:24:56,570
with confidence so they know whether or

00:24:54,529 --> 00:24:58,730
not to do reporting to regulatory bodies

00:24:56,570 --> 00:25:02,259
or states because if they get it wrong

00:24:58,730 --> 00:25:05,559
they go to jail not you they go to jail

00:25:02,259 --> 00:25:07,940
is how it should be but they go to jail

00:25:05,559 --> 00:25:09,499
but it's important that we have to be

00:25:07,940 --> 00:25:14,570
able to answer these questions to turn

00:25:09,499 --> 00:25:17,840
this logging on please ok step zero

00:25:14,570 --> 00:25:20,450
abnormalities I'm a great believer that

00:25:17,840 --> 00:25:21,740
there is no one who knows their systems

00:25:20,450 --> 00:25:26,629
better than the people that run them

00:25:21,740 --> 00:25:28,700
period I would say the vast majority of

00:25:26,629 --> 00:25:31,610
instance that I have that I have worked

00:25:28,700 --> 00:25:34,100
have been from sis admins or dbas

00:25:31,610 --> 00:25:39,379
calling me and saying this doesn't look

00:25:34,100 --> 00:25:42,740
right pay attention to that trust your

00:25:39,379 --> 00:25:44,360
gut this is huge I don't care how much

00:25:42,740 --> 00:25:46,009
security software I don't care how many

00:25:44,360 --> 00:25:49,549
millions of dollars you've got invested

00:25:46,009 --> 00:25:51,679
in sams and ids is and firewalls and all

00:25:49,549 --> 00:25:52,940
of that all it's going to take is one of

00:25:51,679 --> 00:25:58,309
your guys tilting his head to the side

00:25:52,940 --> 00:26:02,889
and going that's weird seriously trust

00:25:58,309 --> 00:26:05,509
these people trust yourself especially

00:26:02,889 --> 00:26:09,309
also set up a security at your domain

00:26:05,509 --> 00:26:12,649
com very very frequently we will get

00:26:09,309 --> 00:26:15,249
emails to this where we'll have security

00:26:12,649 --> 00:26:18,350
researchers will email us and say hi

00:26:15,249 --> 00:26:19,549
about your half a million dollar website

00:26:18,350 --> 00:26:22,129
which you do millions of dollars of

00:26:19,549 --> 00:26:25,990
transactions on a week I can own it

00:26:22,129 --> 00:26:29,059
here's the proof of concept thanks

00:26:25,990 --> 00:26:30,980
seriously they'll just email you

00:26:29,059 --> 00:26:31,910
completely out of the blue a new email

00:26:30,980 --> 00:26:34,520
them and say

00:26:31,910 --> 00:26:38,510
it's appreciate the heads-up you know

00:26:34,520 --> 00:26:41,570
don't be a an apple about it you know go

00:26:38,510 --> 00:26:44,540
ahead and go ahead and you know do the

00:26:41,570 --> 00:26:48,380
right thing embrace both internal and

00:26:44,540 --> 00:26:51,820
external tips in the companies I work

00:26:48,380 --> 00:26:53,720
for my phone number is known I take tips

00:26:51,820 --> 00:26:55,490
somebody rings me up and say hey

00:26:53,720 --> 00:26:57,140
somebody else in this part of the

00:26:55,490 --> 00:26:59,180
organization is doing X where D

00:26:57,140 --> 00:27:02,540
anonymous tip thank you we'll get it

00:26:59,180 --> 00:27:05,720
sorted have to have to be open to these

00:27:02,540 --> 00:27:08,600
things don't get bogged down anyway so

00:27:05,720 --> 00:27:11,270
also external recon you need to

00:27:08,600 --> 00:27:13,340
understand how the rest of the world

00:27:11,270 --> 00:27:16,790
sees you you should be searching paste

00:27:13,340 --> 00:27:20,420
bins everyone want to pay spinners know

00:27:16,790 --> 00:27:22,460
okay so paste bin is pastebin com is the

00:27:20,420 --> 00:27:26,540
most common the most commonly known and

00:27:22,460 --> 00:27:30,440
it is frequently used by security

00:27:26,540 --> 00:27:32,390
researchers of all ethical persuasion to

00:27:30,440 --> 00:27:34,700
post information about what they found

00:27:32,390 --> 00:27:37,070
and what they've broken into you should

00:27:34,700 --> 00:27:39,650
be looking for your stuff on a regular

00:27:37,070 --> 00:27:42,140
basis because you will find your stuff

00:27:39,650 --> 00:27:44,900
before you find out any other way that

00:27:42,140 --> 00:27:47,540
gives you a head start a big head start

00:27:44,900 --> 00:27:50,840
and this is all about time when it

00:27:47,540 --> 00:27:53,840
becomes showdown I'll shown on HQ it is

00:27:50,840 --> 00:27:55,130
it's a vulnerability it's google for

00:27:53,840 --> 00:27:57,260
vulnerabilities for what of a better

00:27:55,130 --> 00:27:59,120
description you put your organization

00:27:57,260 --> 00:28:00,470
name in and it will go through all the

00:27:59,120 --> 00:28:02,390
networks such that your organization

00:28:00,470 --> 00:28:03,710
owns it will tell you what they are what

00:28:02,390 --> 00:28:07,840
ports are listening if any of them are

00:28:03,710 --> 00:28:12,830
vulnerable it's it's a little scary and

00:28:07,840 --> 00:28:18,580
use google docs against your domains big

00:28:12,830 --> 00:28:23,450
huge fun when you have 150,000 users

00:28:18,580 --> 00:28:24,650
this is a job in itself it really is but

00:28:23,450 --> 00:28:27,230
if you're going to small to mid-sized

00:28:24,650 --> 00:28:29,510
company again this kind of thing will

00:28:27,230 --> 00:28:33,920
give you a head start it's also really

00:28:29,510 --> 00:28:36,380
really good customer service because you

00:28:33,920 --> 00:28:40,670
will have let's say jenny and accounting

00:28:36,380 --> 00:28:42,350
who is on a cross stitch website and the

00:28:40,670 --> 00:28:45,050
cross stitch website gets completely

00:28:42,350 --> 00:28:45,710
owned and get all of the usernames and

00:28:45,050 --> 00:28:48,919
passwords get

00:28:45,710 --> 00:28:50,360
posted and it has Jenny's in work email

00:28:48,919 --> 00:28:53,809
address because she did it from work and

00:28:50,360 --> 00:28:55,700
a password place your bets that she's

00:28:53,809 --> 00:28:59,000
reusing that password the same in our

00:28:55,700 --> 00:29:03,500
organization okay webmail Jenny

00:28:59,000 --> 00:29:06,020
accounting try the password it works it

00:29:03,500 --> 00:29:08,210
works a lot because humans are lazy

00:29:06,020 --> 00:29:11,630
we're all lazy we all do password reuse

00:29:08,210 --> 00:29:14,809
I don't care who you are don't lie so

00:29:11,630 --> 00:29:16,309
this is this is really the meat of what

00:29:14,809 --> 00:29:18,289
we're going to talk about today and that

00:29:16,309 --> 00:29:23,270
is containment it's about you're on fire

00:29:18,289 --> 00:29:24,830
now stop drop roll containment corners

00:29:23,270 --> 00:29:31,570
of the dictionary is the act or

00:29:24,830 --> 00:29:34,580
condition of containing did that help it

00:29:31,570 --> 00:29:35,899
 easy it's like you're trying to

00:29:34,580 --> 00:29:37,700
define yourself by saying that you're

00:29:35,899 --> 00:29:39,169
yourself or a policy of checking the

00:29:37,700 --> 00:29:40,669
exposure or influence of a star power

00:29:39,169 --> 00:29:42,380
ideology as for the creation of

00:29:40,669 --> 00:29:44,870
strategic alliances to support appliance

00:29:42,380 --> 00:29:48,159
needs or a structural systems is defined

00:29:44,870 --> 00:29:50,960
to present the radioactive materials

00:29:48,159 --> 00:29:54,230
none of these really apply to what we do

00:29:50,960 --> 00:29:56,360
right so containment means different

00:29:54,230 --> 00:30:00,140
things to different people if you speak

00:29:56,360 --> 00:30:01,789
to a network engineer specifically the

00:30:00,140 --> 00:30:04,190
network engineers we have who do this on

00:30:01,789 --> 00:30:06,500
a day-to-day basis they see they see

00:30:04,190 --> 00:30:10,940
hostile traffic and their job is to

00:30:06,500 --> 00:30:13,870
remediated okay so they firewall it done

00:30:10,940 --> 00:30:15,590
the hostile traffic isn't going anymore

00:30:13,870 --> 00:30:18,169
but there are so many unanswered

00:30:15,590 --> 00:30:20,570
questions so many unanswered questions

00:30:18,169 --> 00:30:24,950
but the biggest nail in the coffin is

00:30:20,570 --> 00:30:26,980
this if you can buy 1,400 1,500 socks

00:30:24,950 --> 00:30:30,020
service for thirty four thirty dollars

00:30:26,980 --> 00:30:34,480
I'm just going to come at you again and

00:30:30,020 --> 00:30:36,470
again and again and again and again

00:30:34,480 --> 00:30:40,090
firewalling is whack Amole and you're

00:30:36,470 --> 00:30:42,080
going to lose weight till ipv6 comes

00:30:40,090 --> 00:30:45,020
although it's already here but wait till

00:30:42,080 --> 00:30:46,520
it's wider yeah it's it's done it's game

00:30:45,020 --> 00:30:47,929
over you will never be able to deal with

00:30:46,520 --> 00:30:51,950
this kind of stuff with firewalling

00:30:47,929 --> 00:30:53,539
never just don't even try the businesses

00:30:51,950 --> 00:30:54,919
definition of containment is when can I

00:30:53,539 --> 00:30:56,059
forget about this happening and when can

00:30:54,919 --> 00:30:59,029
I get back to the business of making

00:30:56,059 --> 00:30:59,630
more money that's what the business

00:30:59,029 --> 00:31:03,470
wants to do

00:30:59,630 --> 00:31:06,140
doesn't care what we do you just want it

00:31:03,470 --> 00:31:09,530
all to go away they want to get back to

00:31:06,140 --> 00:31:11,120
business so this is the definition this

00:31:09,530 --> 00:31:14,870
is my definition and it's the one I'd

00:31:11,120 --> 00:31:16,550
like you guys to consider it's the

00:31:14,870 --> 00:31:18,860
already known and discovered a tax

00:31:16,550 --> 00:31:23,840
surface has been understood assessed and

00:31:18,860 --> 00:31:26,660
mitigated so okay so the already known

00:31:23,840 --> 00:31:29,690
okay so we know bad things have happened

00:31:26,660 --> 00:31:31,700
here and discovered oh that means more

00:31:29,690 --> 00:31:33,770
bad things are going to happen attack

00:31:31,700 --> 00:31:37,190
surface we'll come back to that has been

00:31:33,770 --> 00:31:42,680
understood okay assess okay and mitigate

00:31:37,190 --> 00:31:46,550
it all right so a tax service attack

00:31:42,680 --> 00:31:50,210
surface is what is exposed to an

00:31:46,550 --> 00:31:54,170
attacker your attack service could be an

00:31:50,210 --> 00:31:57,020
entire machine with no firewall with

00:31:54,170 --> 00:31:59,930
certain numbers of ports listening you

00:31:57,020 --> 00:32:01,640
could look at port 80 and say what

00:31:59,930 --> 00:32:03,110
happened what executable applications do

00:32:01,640 --> 00:32:05,330
I have running on port 80 because each

00:32:03,110 --> 00:32:06,740
one of those has an attack surface

00:32:05,330 --> 00:32:09,140
because each one of those has functions

00:32:06,740 --> 00:32:11,750
that can be called database queries that

00:32:09,140 --> 00:32:14,210
could be made and all it's going to take

00:32:11,750 --> 00:32:19,070
is one of those and the whole thing

00:32:14,210 --> 00:32:24,530
falls so it's all about discovering a

00:32:19,070 --> 00:32:27,740
tax service it's going to suck moving on

00:32:24,530 --> 00:32:29,960
so step one is there anything valuable

00:32:27,740 --> 00:32:32,420
on this box what does this box do what

00:32:29,960 --> 00:32:35,060
does it contain that's both from a

00:32:32,420 --> 00:32:36,440
business standpoint as in how much money

00:32:35,060 --> 00:32:39,170
is it going to cost me to take this

00:32:36,440 --> 00:32:41,720
machine down or how much money is it

00:32:39,170 --> 00:32:43,400
going to cost the business if we no

00:32:41,720 --> 00:32:44,480
longer have confidence in the data and

00:32:43,400 --> 00:32:48,110
they have to throw it away and start

00:32:44,480 --> 00:32:50,990
again what about if it's been

00:32:48,110 --> 00:32:52,910
manipulated what if it's been

00:32:50,990 --> 00:32:54,860
manipulated what if for example it's a

00:32:52,910 --> 00:32:57,980
bidding system it's a bidding system for

00:32:54,860 --> 00:33:02,810
contracts what if someone has modified

00:32:57,980 --> 00:33:04,220
the bids for their competitor what if

00:33:02,810 --> 00:33:05,690
someone has modified the bids for the

00:33:04,220 --> 00:33:08,060
competitor and made it appear to come

00:33:05,690 --> 00:33:09,440
from the competitor then rung up giving

00:33:08,060 --> 00:33:10,910
you the anonymous tips and now you're in

00:33:09,440 --> 00:33:12,169
litigation with them but that's just

00:33:10,910 --> 00:33:15,200
evil

00:33:12,169 --> 00:33:16,960
that you need to know what's on the box

00:33:15,200 --> 00:33:21,350
and you need to know where it fits you

00:33:16,960 --> 00:33:23,450
need to know where this box fits in with

00:33:21,350 --> 00:33:25,100
the rest of your environment are there

00:33:23,450 --> 00:33:28,129
any is there any segregation or

00:33:25,100 --> 00:33:30,169
firewalls or any controls between this

00:33:28,129 --> 00:33:33,109
machine and another machine more

00:33:30,169 --> 00:33:36,919
important to me do you share the same

00:33:33,109 --> 00:33:39,590
root password across your boxes do you

00:33:36,919 --> 00:33:41,809
will log in using ldap authentication or

00:33:39,590 --> 00:33:44,090
Kerberos or Active Directory or anything

00:33:41,809 --> 00:33:45,820
like that because if so the password

00:33:44,090 --> 00:33:49,700
here is going to work the password there

00:33:45,820 --> 00:33:52,940
Wow your attack service just went oh I

00:33:49,700 --> 00:33:56,539
love single sign-on order just love it

00:33:52,940 --> 00:33:58,340
too but I love it more live instant

00:33:56,539 --> 00:34:00,320
response requires multiple data sources

00:33:58,340 --> 00:34:02,299
again Judah rootkits already talked

00:34:00,320 --> 00:34:05,480
about that you can't trust what the

00:34:02,299 --> 00:34:09,500
machines are telling you and the beauty

00:34:05,480 --> 00:34:12,440
of security onion not that I'm wanting

00:34:09,500 --> 00:34:14,809
to beat on this same drum is that your

00:34:12,440 --> 00:34:16,419
sensor which is sniffing the traffic on

00:34:14,809 --> 00:34:18,649
this network which has been attacked

00:34:16,419 --> 00:34:23,299
doesn't even have to have an IP address

00:34:18,649 --> 00:34:26,000
on this network it's just listening so

00:34:23,299 --> 00:34:27,589
they can't attack it to manipulate or

00:34:26,000 --> 00:34:29,990
destroy the day there's no connection to

00:34:27,589 --> 00:34:31,450
it there's no IP address there's no you

00:34:29,990 --> 00:34:36,559
know there's nothing there on that layer

00:34:31,450 --> 00:34:38,899
but it's listening so big huge notes

00:34:36,559 --> 00:34:42,950
write everything down you will generate

00:34:38,899 --> 00:34:48,799
a lot of data I'm pacing shouldn't do

00:34:42,950 --> 00:34:50,750
that the biggest thing about this is

00:34:48,799 --> 00:34:52,669
when you start going through logs and

00:34:50,750 --> 00:34:57,139
all of this stuff you are going to

00:34:52,669 --> 00:35:00,140
generate tens 20-30 on your first pass

00:34:57,139 --> 00:35:02,059
10 or 20 or 30 interesting things and

00:35:00,140 --> 00:35:04,460
each one of those is going to trigger

00:35:02,059 --> 00:35:06,500
off a different search to look for those

00:35:04,460 --> 00:35:09,890
other interesting things each of those

00:35:06,500 --> 00:35:11,690
searches takes time you have to write it

00:35:09,890 --> 00:35:14,210
down you want and you want to write it

00:35:11,690 --> 00:35:16,760
down as soon as possible it's like it's

00:35:14,210 --> 00:35:18,079
the proverbial rabbit hole you don't

00:35:16,760 --> 00:35:19,309
want to realize your three quarters of

00:35:18,079 --> 00:35:21,200
the way down the rabbit hole when you're

00:35:19,309 --> 00:35:25,710
like gee an hour ago I remember doing

00:35:21,200 --> 00:35:29,859
this so keep good notes

00:35:25,710 --> 00:35:32,470
huge so let's talk about the external

00:35:29,859 --> 00:35:36,910
perimeter anyone here everyone here

00:35:32,470 --> 00:35:40,810
familiar with nmap okay so nmap is a

00:35:36,910 --> 00:35:44,200
port scanner it's job is specifically to

00:35:40,810 --> 00:35:45,730
look for ports that are open give me a

00:35:44,200 --> 00:35:49,150
second map still running on this

00:35:45,730 --> 00:35:54,760
powerpoint presentation so it's going to

00:35:49,150 --> 00:35:56,619
are there it goes so so here's the

00:35:54,760 --> 00:35:59,680
result so here's the the sample results

00:35:56,619 --> 00:36:01,810
for this for this nmap query and you'll

00:35:59,680 --> 00:36:04,590
see that it tells you that port 22 is

00:36:01,810 --> 00:36:12,070
open port 80 is open for for 43 is open

00:36:04,590 --> 00:36:16,420
3306 is open and it says that 1984 is

00:36:12,070 --> 00:36:19,270
filtered and there are 995 close ports

00:36:16,420 --> 00:36:21,640
now there is a difference between a

00:36:19,270 --> 00:36:24,369
closed port and a filtered port and it

00:36:21,640 --> 00:36:27,820
is vital for you to remember the

00:36:24,369 --> 00:36:29,440
difference so you want to check on a

00:36:27,820 --> 00:36:32,109
unix host where the report is open or

00:36:29,440 --> 00:36:34,599
closed telnet IP address or hostname

00:36:32,109 --> 00:36:37,869
port number enter if you get a

00:36:34,599 --> 00:36:41,710
connection refused that is closed if it

00:36:37,869 --> 00:36:43,900
hangs there forever that is filtered big

00:36:41,710 --> 00:36:45,750
difference if it is filtered so that

00:36:43,900 --> 00:36:48,940
means there is something actively

00:36:45,750 --> 00:36:50,440
actively filtering that connection which

00:36:48,940 --> 00:36:52,900
tells me that there is a firewall or

00:36:50,440 --> 00:36:55,960
network device in here which really

00:36:52,900 --> 00:36:57,609
doesn't like port 1984 it's probably

00:36:55,960 --> 00:36:59,080
some kind of political statement over

00:36:57,609 --> 00:37:00,940
the entire prison thing that broke out

00:36:59,080 --> 00:37:07,150
over the last few days that'd be my

00:37:00,940 --> 00:37:12,070
guess so there are many other flags that

00:37:07,150 --> 00:37:14,920
you should be using sv and dash p dash

00:37:12,070 --> 00:37:17,470
it means do all 65,000 the one hit up

00:37:14,920 --> 00:37:21,520
here the first one that i did is the

00:37:17,470 --> 00:37:24,700
foot is the top thousand ports and as

00:37:21,520 --> 00:37:27,220
quickly as possible so do this first to

00:37:24,700 --> 00:37:29,080
give you your low hanging fruit and then

00:37:27,220 --> 00:37:32,890
do this to give you everything else and

00:37:29,080 --> 00:37:36,180
you very well may find something there

00:37:32,890 --> 00:37:40,050
as well and then qep and such

00:37:36,180 --> 00:37:47,490
file system enumeration this is gold

00:37:40,050 --> 00:37:49,260
right here for you guys so on an inode

00:37:47,490 --> 00:37:52,650
on a UNIX file system there are three

00:37:49,260 --> 00:37:55,500
time slots there is the create time

00:37:52,650 --> 00:37:57,869
known as C time there is the M time

00:37:55,500 --> 00:38:01,680
known as modified time and then there is

00:37:57,869 --> 00:38:04,200
a time known as access time c time is

00:38:01,680 --> 00:38:07,319
the time the fire was created stands to

00:38:04,200 --> 00:38:11,040
reason M time is the time that file was

00:38:07,319 --> 00:38:12,720
last modified so written two and a time

00:38:11,040 --> 00:38:18,630
is the time that file was last accessed

00:38:12,720 --> 00:38:21,859
that could mean read if you can take a

00:38:18,630 --> 00:38:26,730
list of every file on your machine and

00:38:21,859 --> 00:38:30,829
you can say give me them in the in the

00:38:26,730 --> 00:38:34,589
order in which they will last modified

00:38:30,829 --> 00:38:36,809
that's pretty cool because it means that

00:38:34,589 --> 00:38:40,170
if you end up with someone doing bad

00:38:36,809 --> 00:38:44,309
stuff they tend to do that in 10-15

00:38:40,170 --> 00:38:47,359
minute chunks so in this case you can

00:38:44,309 --> 00:38:51,210
see that these files were modified and

00:38:47,359 --> 00:38:55,650
these files were modified within about

00:38:51,210 --> 00:38:57,839
20 minutes of each other do you see

00:38:55,650 --> 00:39:00,780
where I'm coming from you now have a

00:38:57,839 --> 00:39:02,880
timeline of activity unix machines are

00:39:00,780 --> 00:39:06,619
actually really really really really

00:39:02,880 --> 00:39:10,020
good at not messing with lots of files

00:39:06,619 --> 00:39:11,490
the vast the vast majority of files on a

00:39:10,020 --> 00:39:13,619
unix system are going to stay static

00:39:11,490 --> 00:39:15,869
it's only typically log files and data

00:39:13,619 --> 00:39:18,690
files that move or configuration files

00:39:15,869 --> 00:39:21,240
when they happen this this will save you

00:39:18,690 --> 00:39:22,680
because it allows you to basically just

00:39:21,240 --> 00:39:25,109
snapshot and say oh there was an

00:39:22,680 --> 00:39:27,450
activity and this time this is the time

00:39:25,109 --> 00:39:29,280
when that binary was written okay what

00:39:27,450 --> 00:39:31,049
other files were modified at that point

00:39:29,280 --> 00:39:35,790
in time and you can just scroll through

00:39:31,049 --> 00:39:38,280
the list and find it we should press the

00:39:35,790 --> 00:39:39,660
easy button because unless you work for

00:39:38,280 --> 00:39:42,450
a large company with something that's

00:39:39,660 --> 00:39:46,980
really worth stealing the chances are

00:39:42,450 --> 00:39:49,770
this is how you got pwned if you have

00:39:46,980 --> 00:39:53,340
telnet ssh ftp my sequel

00:39:49,770 --> 00:39:59,790
orange that should be oracle thank you

00:39:53,340 --> 00:40:01,620
I'm postgres it's it's it's it's it's

00:39:59,790 --> 00:40:05,790
code name for the new version of oracle

00:40:01,620 --> 00:40:09,030
yeah if you have any of those exposed

00:40:05,790 --> 00:40:13,050
then people are hating you 24 7 365 and

00:40:09,030 --> 00:40:15,540
proof forcing your creds and it can take

00:40:13,050 --> 00:40:18,240
any of those will give them shell on

00:40:15,540 --> 00:40:20,250
your box because you can get shell from

00:40:18,240 --> 00:40:21,750
any of these databases any of these

00:40:20,250 --> 00:40:24,330
database connections you can read and

00:40:21,750 --> 00:40:29,550
write arbitrary files with these using

00:40:24,330 --> 00:40:33,390
sequel PHP myadmin how many people have

00:40:29,550 --> 00:40:36,920
installed it how many people uninstalled

00:40:33,390 --> 00:40:40,050
it after they finish setting it up good

00:40:36,920 --> 00:40:43,170
the number of times I have come upon

00:40:40,050 --> 00:40:45,090
compromised boxes and the guy who was

00:40:43,170 --> 00:40:49,710
setting up the box God love them

00:40:45,090 --> 00:40:52,260
somebody has to didn't know how how my

00:40:49,710 --> 00:40:54,330
sequel worked so install PHP myadmin

00:40:52,260 --> 00:40:57,330
quickly quickly click I now have a

00:40:54,330 --> 00:41:00,360
database I'm a DBA yay then they install

00:40:57,330 --> 00:41:03,150
their application yay and then six years

00:41:00,360 --> 00:41:04,800
later there are three or four exploits

00:41:03,150 --> 00:41:07,140
for my admin and they never think to

00:41:04,800 --> 00:41:11,190
patch it why would they patch it they

00:41:07,140 --> 00:41:13,440
don't use it Tomcat manager in the

00:41:11,190 --> 00:41:15,000
configuration for Tom card it says it

00:41:13,440 --> 00:41:17,250
commented out it's like here's an

00:41:15,000 --> 00:41:18,390
example username and password how many

00:41:17,250 --> 00:41:22,100
people do you think instead of entering

00:41:18,390 --> 00:41:22,100
username and password just go uncomment

00:41:23,780 --> 00:41:30,240
unbelievable cpanel plesk again along

00:41:28,020 --> 00:41:32,160
the same lines as PHP myadmin you are

00:41:30,240 --> 00:41:35,310
providing front-end administrative

00:41:32,160 --> 00:41:37,170
access to your systems on pieces of

00:41:35,310 --> 00:41:40,560
software that need to be regularly

00:41:37,170 --> 00:41:43,260
patched and secured which means setting

00:41:40,560 --> 00:41:48,360
passwords that are good and so on and so

00:41:43,260 --> 00:41:52,740
forth people don't do it / admin in your

00:41:48,360 --> 00:41:55,140
applications or CMS is I've come across

00:41:52,740 --> 00:41:57,790
places where it's like / secret cuz I'm

00:41:55,140 --> 00:42:00,880
never going to look there

00:41:57,790 --> 00:42:03,700
secret hidden directory nah we find it

00:42:00,880 --> 00:42:07,480
and again the more modules you install

00:42:03,700 --> 00:42:09,940
on these CMS's the more the more bugs

00:42:07,480 --> 00:42:12,910
you're going to find I'm going to tell a

00:42:09,940 --> 00:42:14,620
story the i'm the founder of hackerspace

00:42:12,910 --> 00:42:17,530
charlotte and i'm proud to say that our

00:42:14,620 --> 00:42:19,570
website was hacked hi website was hacked

00:42:17,530 --> 00:42:21,550
and compromised Andrew kid and Sheldon

00:42:19,570 --> 00:42:25,900
it was a beautiful thing and the way

00:42:21,550 --> 00:42:27,550
they got in was the CMS that we used one

00:42:25,900 --> 00:42:29,230
of the things we installed and download

00:42:27,550 --> 00:42:34,960
it was a thing that created thumbnails

00:42:29,230 --> 00:42:39,370
for images it had a bug in it that

00:42:34,960 --> 00:42:42,280
allowed arbitrary shell execution they

00:42:39,370 --> 00:42:46,600
were in they put a web shell up and our

00:42:42,280 --> 00:42:48,370
machine was own we had to it was one of

00:42:46,600 --> 00:42:51,460
the large hosting companies that I won't

00:42:48,370 --> 00:42:57,700
name but is blue in color and they do

00:42:51,460 --> 00:42:59,350
hosting and we couldn't get them to blow

00:42:57,700 --> 00:43:01,210
away the image so we have to close the

00:42:59,350 --> 00:43:05,470
account and open another account and

00:43:01,210 --> 00:43:07,270
start again because yeah so and all

00:43:05,470 --> 00:43:10,030
crusty hacks did you hide an obscure

00:43:07,270 --> 00:43:12,520
directories like / secret / Boff H you

00:43:10,030 --> 00:43:14,800
know the usual places usual haunts I

00:43:12,520 --> 00:43:19,120
will be the first to tell you that i

00:43:14,800 --> 00:43:20,560
have written code not hugely recently

00:43:19,120 --> 00:43:22,450
but recently enough that i'm embarrassed

00:43:20,560 --> 00:43:25,210
that is vulnerable to a whole bunch of

00:43:22,450 --> 00:43:29,560
stuff and it may still be running in a

00:43:25,210 --> 00:43:32,880
production environment and you have to

00:43:29,560 --> 00:43:36,160
remember where you put this stuff anyway

00:43:32,880 --> 00:43:38,650
apache logs there is a great little

00:43:36,160 --> 00:43:41,410
application called or utility called

00:43:38,650 --> 00:43:45,820
Apache scalp and what it does is it

00:43:41,410 --> 00:43:48,040
takes it takes I'd es la IDs intrusion

00:43:45,820 --> 00:43:52,360
detection signatures and it looks

00:43:48,040 --> 00:43:55,480
through your apache logs for for these

00:43:52,360 --> 00:43:58,060
strings so if you're looking for

00:43:55,480 --> 00:43:59,620
something like sequel injection or

00:43:58,060 --> 00:44:01,330
combined injection or remote file

00:43:59,620 --> 00:44:03,130
injection and these are all ways that

00:44:01,330 --> 00:44:05,770
people can compromise your side i'm not

00:44:03,130 --> 00:44:07,710
going to go into the details but all

00:44:05,770 --> 00:44:11,060
these ways that people can do this if

00:44:07,710 --> 00:44:15,830
it's in your log file as a get

00:44:11,060 --> 00:44:17,660
quest then this will find it for you it

00:44:15,830 --> 00:44:19,910
may sound like a stupid thing but when

00:44:17,660 --> 00:44:21,350
you're dealing with millions and

00:44:19,910 --> 00:44:24,410
millions and millions and millions of

00:44:21,350 --> 00:44:26,750
millions of lines of logs the best thing

00:44:24,410 --> 00:44:30,290
you can do is you can grab minus V which

00:44:26,750 --> 00:44:33,230
means remove 404 because if it doesn't

00:44:30,290 --> 00:44:34,700
exist it didn't matter to get rid of it

00:44:33,230 --> 00:44:44,120
and there goes seventy percent of your

00:44:34,700 --> 00:44:48,560
logs grab all the things you have to

00:44:44,120 --> 00:44:51,020
grab Swiss Army chainsaw of the shell

00:44:48,560 --> 00:44:54,140
will give you any information that thou

00:44:51,020 --> 00:44:55,940
dost require grep is your friend you

00:44:54,140 --> 00:44:58,100
need to notate anything suspicious and

00:44:55,940 --> 00:44:59,720
log entries again I encourage you write

00:44:58,100 --> 00:45:03,710
it down on paper because it's so much

00:44:59,720 --> 00:45:05,270
easier to do this claydol suspicious

00:45:03,710 --> 00:45:06,920
files log entries database queries now

00:45:05,270 --> 00:45:11,020
where traffic and place them in a

00:45:06,920 --> 00:45:14,450
timeline so get them roughly in order

00:45:11,020 --> 00:45:16,310
check for unauthorized cron jobs happens

00:45:14,450 --> 00:45:18,290
a lot especially when you're talking

00:45:16,310 --> 00:45:20,570
about people putting Lintz machines on

00:45:18,290 --> 00:45:22,910
botnets they will set up cron jobs that

00:45:20,570 --> 00:45:26,540
run every minute to make sure that their

00:45:22,910 --> 00:45:29,750
IRC bot is still running and rinse and

00:45:26,540 --> 00:45:31,700
repeat so just keep doing this keep

00:45:29,750 --> 00:45:34,520
doing this keep doing this this same

00:45:31,700 --> 00:45:37,610
process over and over and over and over

00:45:34,520 --> 00:45:40,580
and over and over and you'll be sick of

00:45:37,610 --> 00:45:43,420
it and over until you have all of your

00:45:40,580 --> 00:45:47,330
Lucente Iser and there may end up being

00:45:43,420 --> 00:45:51,590
hundreds of things did you have looked

00:45:47,330 --> 00:45:55,550
at and maybe only 12 or 13 things that

00:45:51,590 --> 00:45:57,440
you really care about so like I said

00:45:55,550 --> 00:46:02,300
there are two main ways to send data in

00:45:57,440 --> 00:46:04,490
HTTP GET is what we're talking about a

00:46:02,300 --> 00:46:06,050
moment ago and that's when your data

00:46:04,490 --> 00:46:10,220
actually ends up being appended to the

00:46:06,050 --> 00:46:12,050
URL and then this post and post data is

00:46:10,220 --> 00:46:13,880
actually not sent as part of that so

00:46:12,050 --> 00:46:17,570
isn't logged unless you have forensics

00:46:13,880 --> 00:46:20,440
on and you need the onion to do that so

00:46:17,570 --> 00:46:23,270
again I counted overestimate log your

00:46:20,440 --> 00:46:23,810
SSL traffic The Onion's awesome by the

00:46:23,270 --> 00:46:26,750
way

00:46:23,810 --> 00:46:29,480
I mentioned that this is also why you

00:46:26,750 --> 00:46:31,870
need the database query log if you

00:46:29,480 --> 00:46:34,670
suspect the data has been axel traded

00:46:31,870 --> 00:46:36,860
you can go to your database and if

00:46:34,670 --> 00:46:39,230
someone has done sequel injection you

00:46:36,860 --> 00:46:42,050
will see that nasty horrible sequel

00:46:39,230 --> 00:46:44,690
query the sequel query will be 15 pages

00:46:42,050 --> 00:46:46,430
long and even your DBA of 25 years will

00:46:44,690 --> 00:46:51,830
look at and go I have no idea what that

00:46:46,430 --> 00:46:54,050
does that is what you then look for in

00:46:51,830 --> 00:46:55,370
your logs and you go you work backwards

00:46:54,050 --> 00:46:56,750
from there if you can work from the

00:46:55,370 --> 00:46:59,840
database backwards it's going to be so

00:46:56,750 --> 00:47:02,660
much faster for you you've got a

00:46:59,840 --> 00:47:05,060
suspicious process is everyone familiar

00:47:02,660 --> 00:47:08,540
with LSO FL trace nest race I can do a

00:47:05,060 --> 00:47:14,810
quick demo if necessary so UNIX

00:47:08,540 --> 00:47:16,930
processes ok rule 0 of UNIX because all

00:47:14,810 --> 00:47:19,730
rules and all programmers start at zero

00:47:16,930 --> 00:47:22,100
everything in UNIX is a file you want to

00:47:19,730 --> 00:47:23,930
access a camera it's a file you ought to

00:47:22,100 --> 00:47:25,910
access an ethernet device it's a file

00:47:23,930 --> 00:47:27,770
you want I ex-official hard drive the

00:47:25,910 --> 00:47:30,560
hard drive block device is represent it

00:47:27,770 --> 00:47:32,630
as a file a piece of memory which is in

00:47:30,560 --> 00:47:35,150
shared memory is represented by a file

00:47:32,630 --> 00:47:37,340
everything in UNIX is a file it has

00:47:35,150 --> 00:47:41,150
what's called a file descriptor what

00:47:37,340 --> 00:47:42,680
lsof does is it shows you all the open

00:47:41,150 --> 00:47:44,540
file descriptors all the open file

00:47:42,680 --> 00:47:46,880
handlers which means you can look at a

00:47:44,540 --> 00:47:49,550
process and say oh it's listing on this

00:47:46,880 --> 00:47:51,740
port it's connected to this host it's

00:47:49,550 --> 00:47:53,180
writing to this log file it's this this

00:47:51,740 --> 00:47:55,930
and it'll show you everything you need

00:47:53,180 --> 00:48:00,370
to know about a process it's really cool

00:47:55,930 --> 00:48:04,070
estrace so lsof gives you a snapshot

00:48:00,370 --> 00:48:06,350
estrace will you know me demo this me

00:48:04,070 --> 00:48:17,500
show you this is really cool how am i

00:48:06,350 --> 00:48:17,500
doing for time how many 15 eek

00:48:19,330 --> 00:48:25,010
all right come see me after if you want

00:48:21,530 --> 00:48:32,090
to see this stuff it's really cool just

00:48:25,010 --> 00:48:33,980
happen come on there we go so what

00:48:32,090 --> 00:48:36,470
estrace and I'll trace allow you do is

00:48:33,980 --> 00:48:38,810
actually look at the data and what your

00:48:36,470 --> 00:48:40,640
process does while it runs so that

00:48:38,810 --> 00:48:42,680
allows you to see what it's doing give

00:48:40,640 --> 00:48:46,550
you an example of when i use estrace in

00:48:42,680 --> 00:48:48,530
an incident I was suspicious of the ssh

00:48:46,550 --> 00:48:50,930
process that was being used to login and

00:48:48,530 --> 00:48:53,600
I didn't know I so effing it didn't look

00:48:50,930 --> 00:48:57,320
weird so I did a system call trace on it

00:48:53,600 --> 00:49:01,580
and then I assess H into the box I saw

00:48:57,320 --> 00:49:04,340
it open open and write to a file as I

00:49:01,580 --> 00:49:09,100
logged in it logged in it wrote to a far

00:49:04,340 --> 00:49:12,740
which was user includes s AF dot H

00:49:09,100 --> 00:49:15,170
didn't anyone tell me what an ssh

00:49:12,740 --> 00:49:19,820
process is doing writing to a header

00:49:15,170 --> 00:49:23,150
file the answer is writing my

00:49:19,820 --> 00:49:25,490
credentials so when you actually look to

00:49:23,150 --> 00:49:27,410
that header file and user include sis it

00:49:25,490 --> 00:49:29,630
contained the credentials for probably

00:49:27,410 --> 00:49:32,000
the last six or seven weeks of everyone

00:49:29,630 --> 00:49:34,040
that had logged into that box which I

00:49:32,000 --> 00:49:38,660
then stole and used in a later pen test

00:49:34,040 --> 00:49:41,570
mode number so L trace also shows

00:49:38,660 --> 00:49:43,400
library calls by the way trust is the

00:49:41,570 --> 00:49:45,590
equivalent on solaris l trace shows

00:49:43,400 --> 00:49:47,630
library calls so if you're curious what

00:49:45,590 --> 00:49:49,460
your program does you know why is it

00:49:47,630 --> 00:49:50,660
including that weird library then you

00:49:49,460 --> 00:49:52,280
can actually look and it'll show you

00:49:50,660 --> 00:49:54,920
actually function by function what it

00:49:52,280 --> 00:49:56,600
calls and again remember your operating

00:49:54,920 --> 00:49:59,800
system might lie why do I have that

00:49:56,600 --> 00:50:03,410
horrible windows thing at the bottom you

00:49:59,800 --> 00:50:09,520
yeah i'm really i'm worrying sorry you

00:50:03,410 --> 00:50:09,520
lied to me 25 minutes okay

00:50:16,640 --> 00:50:24,570
none of you wanted to go party with MC

00:50:18,990 --> 00:50:26,220
frontalot anyway right alright so again

00:50:24,570 --> 00:50:28,920
you have to make it all make sense and

00:50:26,220 --> 00:50:31,410
you have to have contacts so all of the

00:50:28,920 --> 00:50:32,490
stuff that you found the 13 15 or 20 you

00:50:31,410 --> 00:50:34,829
know I de fax you found that were

00:50:32,490 --> 00:50:36,930
particularly interesting reference them

00:50:34,829 --> 00:50:39,000
against your file system timeline your

00:50:36,930 --> 00:50:41,730
firewall logs and security onion and so

00:50:39,000 --> 00:50:44,880
on so forth at this point you should

00:50:41,730 --> 00:50:48,930
have a pretty good idea of what they

00:50:44,880 --> 00:50:50,640
actually did and that is vital because

00:50:48,930 --> 00:50:53,160
once you have an idea of what they did

00:50:50,640 --> 00:50:55,950
you can have an idea of what it is they

00:50:53,160 --> 00:50:59,070
were trying to achieve if all they were

00:50:55,950 --> 00:51:01,410
wanting to do was to insert JavaScript

00:50:59,070 --> 00:51:05,010
into your front page like having at CBA

00:51:01,410 --> 00:51:06,900
was it CBS News CBS News was was

00:51:05,010 --> 00:51:08,760
delivering malware to all of the people

00:51:06,900 --> 00:51:10,619
that were viewing their website the

00:51:08,760 --> 00:51:13,890
people who broke into CVS all they did

00:51:10,619 --> 00:51:16,560
was sorry CBS the people who broke into

00:51:13,890 --> 00:51:19,099
CBS all they did was in was installed

00:51:16,560 --> 00:51:21,030
20-yard characters into one of the pages

00:51:19,099 --> 00:51:24,420
that's all they did and then they left

00:51:21,030 --> 00:51:26,790
and then they just deposited malware on

00:51:24,420 --> 00:51:28,829
every person who visited that site and

00:51:26,790 --> 00:51:31,950
they did that for several days running

00:51:28,829 --> 00:51:34,770
because CBS found it fixed it a couple

00:51:31,950 --> 00:51:37,829
of days later back again fixed it days

00:51:34,770 --> 00:51:40,109
later back again because they never

00:51:37,829 --> 00:51:43,260
found their problem but we'll get to

00:51:40,109 --> 00:51:44,280
that don't chase perfection because

00:51:43,260 --> 00:51:47,790
you're not going to chase perfection

00:51:44,280 --> 00:51:50,970
during the containment that comes later

00:51:47,790 --> 00:51:52,560
and all you need to do at this point is

00:51:50,970 --> 00:51:54,569
to get a strong confidence you need

00:51:52,560 --> 00:51:57,990
strong confidence as to what happened

00:51:54,569 --> 00:51:59,849
and why if somebody asks you the

00:51:57,990 --> 00:52:02,990
question when you're working live

00:51:59,849 --> 00:52:07,710
instant response did they steal the data

00:52:02,990 --> 00:52:10,740
don't say no don't say say we have no

00:52:07,710 --> 00:52:12,900
evidence of that yet you can't say no

00:52:10,740 --> 00:52:14,910
because you won't know until the more

00:52:12,900 --> 00:52:17,040
thorough investigation happens and it's

00:52:14,910 --> 00:52:21,060
very difficult to undo a know and say

00:52:17,040 --> 00:52:22,589
well yes it's a credibility thing so you

00:52:21,060 --> 00:52:25,509
know just say we don't know yet we do

00:52:22,589 --> 00:52:27,789
not have sufficient evidence

00:52:25,509 --> 00:52:30,229
but like I said we have a new machine

00:52:27,789 --> 00:52:33,410
the attacker may have cracked all the

00:52:30,229 --> 00:52:36,049
passwords we have a newly exposed attack

00:52:33,410 --> 00:52:38,089
surface I now have the database

00:52:36,049 --> 00:52:39,650
passwords for your database because I

00:52:38,089 --> 00:52:43,789
looked in the configuration file for

00:52:39,650 --> 00:52:47,690
your application on the database can the

00:52:43,789 --> 00:52:53,509
credentials for that application was the

00:52:47,690 --> 00:52:56,660
DBA lazy and just made it sa or root it

00:52:53,509 --> 00:52:58,849
happens a lot or did they actually put

00:52:56,660 --> 00:53:00,229
together a user which only had the

00:52:58,849 --> 00:53:03,440
ability to read and write you that's

00:53:00,229 --> 00:53:07,009
that specified partition part these

00:53:03,440 --> 00:53:09,559
things matter what password certificates

00:53:07,009 --> 00:53:11,150
and credentials are present are there

00:53:09,559 --> 00:53:12,680
any hard coded passwords in any shell

00:53:11,150 --> 00:53:15,019
scripts you need to be looking for these

00:53:12,680 --> 00:53:16,759
things all the while breaking etcetera

00:53:15,019 --> 00:53:19,660
shadow and embarrassing your co-workers

00:53:16,759 --> 00:53:24,650
because that's that's required activity

00:53:19,660 --> 00:53:28,579
so you have to inventory everything that

00:53:24,650 --> 00:53:31,969
they could have possibly gotten and on

00:53:28,579 --> 00:53:35,119
the subject of certificates if somebody

00:53:31,969 --> 00:53:39,349
breaks a box which has an ssl

00:53:35,119 --> 00:53:45,880
certificate do the right thing and reset

00:53:39,349 --> 00:53:49,569
it don't do what one linux vendor did

00:53:45,880 --> 00:53:52,099
when there are p.m. signing certificate

00:53:49,569 --> 00:53:54,890
was on a machine that got compromised

00:53:52,099 --> 00:53:56,359
and they said there is no evidence that

00:53:54,890 --> 00:53:58,279
they took that they even saw the

00:53:56,359 --> 00:54:02,180
certificate let alone took it from the

00:53:58,279 --> 00:54:04,670
box so we're not resetting it please

00:54:02,180 --> 00:54:07,789
don't do that please do the responsible

00:54:04,670 --> 00:54:09,109
thing and just change out the stiff

00:54:07,789 --> 00:54:11,719
Achatz you can have to do it anyway

00:54:09,109 --> 00:54:14,079
because they expire right what's 15

00:54:11,719 --> 00:54:14,079
years early

00:54:14,710 --> 00:54:19,200
it's going to be painful at some point

00:54:16,750 --> 00:54:24,369
don't punch it down to the next guy

00:54:19,200 --> 00:54:26,260
enjoy it relish it is this device one of

00:54:24,369 --> 00:54:30,760
a number of similar devices is it part

00:54:26,260 --> 00:54:32,320
of a cluster you know how many must be

00:54:30,760 --> 00:54:34,330
honest how many single machines are

00:54:32,320 --> 00:54:35,800
there in environments nowadays there's

00:54:34,330 --> 00:54:39,790
almost always to even if it's just for

00:54:35,800 --> 00:54:43,900
dr how are they configured do they have

00:54:39,790 --> 00:54:45,670
the same things did the sysadmin install

00:54:43,900 --> 00:54:47,170
their private ssh keys in there because

00:54:45,670 --> 00:54:49,330
it was easier for them to do that to

00:54:47,170 --> 00:54:50,650
copy files around than to copy to their

00:54:49,330 --> 00:54:55,810
desktop and then back again or that

00:54:50,650 --> 00:54:59,109
bastion host check does this device have

00:54:55,810 --> 00:55:08,920
implicit trust to any other systems are

00:54:59,109 --> 00:55:10,540
hosts any of that e to once you've got a

00:55:08,920 --> 00:55:12,790
sense of what the people do and how they

00:55:10,540 --> 00:55:15,369
work and frankly how smart they are or

00:55:12,790 --> 00:55:18,280
are not you can develop indicators of

00:55:15,369 --> 00:55:19,570
compromise specific to that attacker so

00:55:18,280 --> 00:55:22,119
for example in the example I gave

00:55:19,570 --> 00:55:25,260
earlier an indicator of compromise would

00:55:22,119 --> 00:55:29,530
be that they replaced the sshd binary I

00:55:25,260 --> 00:55:31,630
dealt with one attack where their

00:55:29,530 --> 00:55:33,609
indicator of compromise God love them

00:55:31,630 --> 00:55:36,460
because somebody has to was to replace

00:55:33,609 --> 00:55:40,270
the netstat binary with a shell script

00:55:36,460 --> 00:55:44,530
that said netstat which said Peter no

00:55:40,270 --> 00:55:48,280
sorry replaced the PS binary with a

00:55:44,530 --> 00:55:49,660
binary that said PS dollar star which

00:55:48,280 --> 00:55:51,760
means whatever arguments you provided

00:55:49,660 --> 00:55:55,540
pipe grep minus V and the name of his

00:55:51,760 --> 00:55:58,810
process because that's a rootkit he just

00:55:55,540 --> 00:56:01,240
just crapped out the process is he

00:55:58,810 --> 00:56:02,890
didn't want people to see it was

00:56:01,240 --> 00:56:07,089
effective in the first line of defense

00:56:02,890 --> 00:56:09,490
but we didn't fall for it and test for

00:56:07,089 --> 00:56:11,589
them everywhere if you've got a very

00:56:09,490 --> 00:56:17,560
simple indicator of compromise such as

00:56:11,589 --> 00:56:19,839
an md5 sum of a binary then with three

00:56:17,560 --> 00:56:23,230
or four lines of shell script you can

00:56:19,839 --> 00:56:26,440
just go do it you got a thousand

00:56:23,230 --> 00:56:28,510
machines okay you just run an md5 on a

00:56:26,440 --> 00:56:28,839
thousand machines you've now got piece

00:56:28,510 --> 00:56:33,239
of

00:56:28,839 --> 00:56:33,239
find that peace of mind is priceless

00:56:34,950 --> 00:56:43,329
irritation in my last five minutes

00:56:38,460 --> 00:56:45,670
rebuilt that's it really I mean don't

00:56:43,329 --> 00:56:47,799
even try don't even try to fix it I'm

00:56:45,670 --> 00:56:49,420
not kidding because once someone has

00:56:47,799 --> 00:56:51,039
route to your box there is no way on

00:56:49,420 --> 00:56:52,690
earth you are going to find everything

00:56:51,039 --> 00:56:56,259
that they've done it's just not possible

00:56:52,690 --> 00:56:58,299
rebuild have confidence that you know

00:56:56,259 --> 00:57:00,339
that's it you can gain some confidence

00:56:58,299 --> 00:57:02,079
as to how much of how much of the

00:57:00,339 --> 00:57:04,420
backups you can go to from the timeline

00:57:02,079 --> 00:57:07,479
that you generated but over exaggerate

00:57:04,420 --> 00:57:09,460
it and go back further but you really

00:57:07,479 --> 00:57:11,499
need to rebuild the box I cannot

00:57:09,460 --> 00:57:13,569
overemphasize that and you also need to

00:57:11,499 --> 00:57:16,930
check your database because especially

00:57:13,569 --> 00:57:19,809
in more modern applications a lot of

00:57:16,930 --> 00:57:21,819
your configuration and pretty much all

00:57:19,809 --> 00:57:24,190
of your access control and all that sits

00:57:21,819 --> 00:57:26,229
in the database and the database it's in

00:57:24,190 --> 00:57:27,700
a two or three tier system lives on a

00:57:26,229 --> 00:57:30,549
different host which may not have been

00:57:27,700 --> 00:57:33,160
compromised right but you have to check

00:57:30,549 --> 00:57:35,109
those things too but if you have that

00:57:33,160 --> 00:57:37,589
database query log that I was talking

00:57:35,109 --> 00:57:43,569
about earlier you could look for changes

00:57:37,589 --> 00:57:45,039
grep update grep insert it makes your

00:57:43,569 --> 00:57:46,749
life so much easier if you have the

00:57:45,039 --> 00:57:53,289
information to hand otherwise you're

00:57:46,749 --> 00:57:55,960
just guessing recovery once you've found

00:57:53,289 --> 00:57:58,269
the method of entry test other systems

00:57:55,960 --> 00:57:59,979
your environment look for it because

00:57:58,269 --> 00:58:02,589
it's if it's in one place it's going to

00:57:59,979 --> 00:58:03,849
be elsewhere and test anything new

00:58:02,589 --> 00:58:06,549
against the newly discovered

00:58:03,849 --> 00:58:08,650
vulnerabilities I actually have a chick

00:58:06,549 --> 00:58:10,719
a cheat sheet of methods that people

00:58:08,650 --> 00:58:13,479
have used to break into places that I've

00:58:10,719 --> 00:58:17,049
worked and we roll them into the testing

00:58:13,479 --> 00:58:20,170
we do because it's one thing it's one

00:58:17,049 --> 00:58:23,309
thing to be to be owned by something

00:58:20,170 --> 00:58:26,440
that you haven't dealt with before it is

00:58:23,309 --> 00:58:30,009
embarrassing and mortifying for a

00:58:26,440 --> 00:58:31,390
professional point of view to be pwned

00:58:30,009 --> 00:58:32,979
by something that you've dealt with

00:58:31,390 --> 00:58:36,420
before and frankly it's kind of

00:58:32,979 --> 00:58:36,420
inexcusable yes sir

00:58:39,710 --> 00:58:47,550
in some cases yes in a lot of cases yes

00:58:43,620 --> 00:58:51,510
I tend to do it in I tend to do an in

00:58:47,550 --> 00:58:54,450
pearl pearl or she'll also when you're

00:58:51,510 --> 00:58:57,390
looking for things like if you looking

00:58:54,450 --> 00:58:58,770
for things like default creds on sorry

00:58:57,390 --> 00:59:01,500
if you're looking for things like

00:58:58,770 --> 00:59:05,820
software that shouldn't be there then

00:59:01,500 --> 00:59:07,110
tools such as der Buster nikto are very

00:59:05,820 --> 00:59:10,250
good for that and what they will do is

00:59:07,110 --> 00:59:12,840
they will look for common applications

00:59:10,250 --> 00:59:15,930
such as that and also a couple of root

00:59:12,840 --> 00:59:18,510
kits or sorry web shells and they will

00:59:15,930 --> 00:59:19,740
look for that stuff and it's one of the

00:59:18,510 --> 00:59:21,720
first things we do when we hit a web

00:59:19,740 --> 00:59:23,550
when we had a pen test you know the

00:59:21,720 --> 00:59:26,820
company will say well here's the here's

00:59:23,550 --> 00:59:29,070
our application cool I'm still gonna run

00:59:26,820 --> 00:59:32,130
nikto against it i'm still gonna run der

00:59:29,070 --> 00:59:34,260
buster because you will find developers

00:59:32,130 --> 00:59:36,330
that will do a slash private reports and

00:59:34,260 --> 00:59:39,570
the data will be sitting there in plain

00:59:36,330 --> 00:59:43,170
text because no one's going to think of

00:59:39,570 --> 00:59:46,680
looking in / private / reports it's

00:59:43,170 --> 00:59:49,080
crazy oh and lastly and most importantly

00:59:46,680 --> 00:59:51,140
place all stolen passwords in your

00:59:49,080 --> 00:59:59,970
cracking dictionary for future profit

00:59:51,140 --> 01:00:01,500
you have to do that and I think so after

00:59:59,970 --> 01:00:04,470
everything's died down and services

01:00:01,500 --> 01:00:09,330
restored that forensics image that you

01:00:04,470 --> 01:00:12,240
created spend some time with it get to

01:00:09,330 --> 01:00:16,890
know it if there was a rootkit on the

01:00:12,240 --> 01:00:18,540
box then offline analysis IE analysis of

01:00:16,890 --> 01:00:20,580
the disk image as opposed to the running

01:00:18,540 --> 01:00:22,770
operating system will show you a whole

01:00:20,580 --> 01:00:25,500
world of new files that you didn't see

01:00:22,770 --> 01:00:28,350
before and you might find something in

01:00:25,500 --> 01:00:30,540
that that makes you go oh no that was

01:00:28,350 --> 01:00:33,990
three weeks earlier than when I thought

01:00:30,540 --> 01:00:35,730
and then you have to go back and you

01:00:33,990 --> 01:00:38,550
have to do this this is due diligence

01:00:35,730 --> 01:00:39,780
and this is the point of which you can

01:00:38,550 --> 01:00:46,220
look at the business straight in the eye

01:00:39,780 --> 01:00:46,220
and say your data safe thank you

01:00:54,940 --> 01:01:03,780
any questions anything yes sir

01:01:11,010 --> 01:01:19,450
yes so the question was is it parm was

01:01:17,050 --> 01:01:21,010
is it difficult to see with confidence

01:01:19,450 --> 01:01:23,410
that your data is safe or hasn't been

01:01:21,010 --> 01:01:26,710
taken the answer to that is yes and the

01:01:23,410 --> 01:01:27,850
way that the lawyers will ask you when

01:01:26,710 --> 01:01:30,640
you're dealing with your legal counsel

01:01:27,850 --> 01:01:32,710
is they will say do you have any

01:01:30,640 --> 01:01:35,290
evidence that the data has been removed

01:01:32,710 --> 01:01:36,940
from the environment or do you have ever

01:01:35,290 --> 01:01:40,150
any evidence do you have any evidence

01:01:36,940 --> 01:01:42,400
that the data has been rumors being you

01:01:40,150 --> 01:01:44,980
know manipulated observed and it's a

01:01:42,400 --> 01:01:47,590
matter of do you have evidence that it's

01:01:44,980 --> 01:01:49,690
impossible to prove and no much with

01:01:47,590 --> 01:01:51,790
everything in this world so they will

01:01:49,690 --> 01:01:53,050
ask directly do you have any any

01:01:51,790 --> 01:01:57,570
evidence that shows that this may have

01:01:53,050 --> 01:01:57,570
happened does that make sense

01:02:05,050 --> 01:02:13,010
hmm those people deserve to be on the

01:02:07,700 --> 01:02:14,510
street as having no ethics yeah but yeah

01:02:13,010 --> 01:02:16,670
I'm there I mean there is and there's

01:02:14,510 --> 01:02:19,460
also going to be a skills issue too I

01:02:16,670 --> 01:02:20,720
mean not everyone you know is as good as

01:02:19,460 --> 01:02:22,220
forensics as some others I mean

01:02:20,720 --> 01:02:25,690
obviously in any industry there's

01:02:22,220 --> 01:02:31,250
varying levels of skill and thoroughness

01:02:25,690 --> 01:02:33,650
but the other thing I'll say is when

01:02:31,250 --> 01:02:35,810
you're dealing with a high stakes thing

01:02:33,650 --> 01:02:40,040
and you're in a group with multiple

01:02:35,810 --> 01:02:43,250
analysts we will frequently not work

01:02:40,040 --> 01:02:46,609
with each other because I hate to say we

01:02:43,250 --> 01:02:48,590
all have our own we all have our own

01:02:46,609 --> 01:02:51,020
methods and approaches and they're

01:02:48,590 --> 01:02:52,730
slightly different which means that we

01:02:51,020 --> 01:02:54,260
will usually cut will come to the same

01:02:52,730 --> 01:02:57,290
answer but by two or three different

01:02:54,260 --> 01:02:58,430
routes and when that happens then it

01:02:57,290 --> 01:03:01,010
gives you a significantly higher

01:02:58,430 --> 01:03:02,810
confidence than someone saying yeah I

01:03:01,010 --> 01:03:09,040
found this and him going yeah that looks

01:03:02,810 --> 01:03:09,040
good does that make sense yeah yes sir

01:03:11,410 --> 01:03:14,890
the witch sorry

01:03:16,059 --> 01:03:21,869
I am not familiar with it you want to

01:03:19,239 --> 01:03:21,869
give me a brief synopsis

01:03:27,220 --> 01:03:37,119
huh oh so almost like tripwire like file

01:03:31,090 --> 01:03:39,700
integrity okay I like so I have a

01:03:37,119 --> 01:03:43,030
love-hate relationship with those types

01:03:39,700 --> 01:03:44,590
of tools the reason being that the

01:03:43,030 --> 01:03:48,430
business driver is almost always

01:03:44,590 --> 01:03:51,150
compliance because the regulations or

01:03:48,430 --> 01:03:54,640
PCI for example says you must have it

01:03:51,150 --> 01:03:56,590
which means that it gets implemented but

01:03:54,640 --> 01:04:01,690
not necessarily implemented very well

01:03:56,590 --> 01:04:04,960
and the big battle the huge battle with

01:04:01,690 --> 01:04:07,840
file integrity monitoring is deciding

01:04:04,960 --> 01:04:11,950
which files to monitor and which ones

01:04:07,840 --> 01:04:14,800
not and it's it's a balance between I'm

01:04:11,950 --> 01:04:16,500
drowning in changes versus I don't hear

01:04:14,800 --> 01:04:19,359
anything and it's completely pointless

01:04:16,500 --> 01:04:22,180
so it's almost it's almost come like IDs

01:04:19,359 --> 01:04:24,700
and IPS if you have intrusion detection

01:04:22,180 --> 01:04:26,470
systems and you have them turned on so

01:04:24,700 --> 01:04:28,510
if you have intrusion prevention systems

01:04:26,470 --> 01:04:31,990
and you have them turned on to block

01:04:28,510 --> 01:04:34,030
they will affect your business and the

01:04:31,990 --> 01:04:36,609
business doesn't care that you stopped

01:04:34,030 --> 01:04:38,680
20 or 30 people you know in the last

01:04:36,609 --> 01:04:40,300
hour downloading malware but the

01:04:38,680 --> 01:04:42,400
business will care the one time that

01:04:40,300 --> 01:04:46,900
someone couldn't click Submit on a forum

01:04:42,400 --> 01:04:51,750
for accounting it's so tools like that a

01:04:46,900 --> 01:04:54,160
kind of no-win for us in small companies

01:04:51,750 --> 01:04:55,589
and in companies where you're not having

01:04:54,160 --> 01:04:58,570
to deal with regulation and compliance

01:04:55,589 --> 01:05:00,970
I'd be all over it because I'd be able

01:04:58,570 --> 01:05:02,890
to do it right but in companies where

01:05:00,970 --> 01:05:06,880
the dhryn large companies when the

01:05:02,890 --> 01:05:09,160
driver is really not security then it

01:05:06,880 --> 01:05:15,280
can be more of a hindrance than a help

01:05:09,160 --> 01:05:17,910
that makes sense and did you have a

01:05:15,280 --> 01:05:17,910
question no

01:05:31,190 --> 01:05:38,790
so there's a third option which is

01:05:34,290 --> 01:05:40,740
respond to everything i love that as a

01:05:38,790 --> 01:05:42,780
defender that's awesome because as an

01:05:40,740 --> 01:05:44,970
attacker the attacker is doing the exact

01:05:42,780 --> 01:05:46,500
opposite thing as a defender right what

01:05:44,970 --> 01:05:49,110
an attack it you know what an attacker

01:05:46,500 --> 01:05:50,700
does is it says okay here is a box now

01:05:49,110 --> 01:05:53,340
i'm going to enumerate all of the ways

01:05:50,700 --> 01:05:55,470
that i can get in and if it does a port

01:05:53,340 --> 01:05:56,670
scan and you know honestly the

01:05:55,470 --> 01:05:59,460
difference between filtered enclosed

01:05:56,670 --> 01:06:02,420
means i wait 30 seconds versus i wait a

01:05:59,460 --> 01:06:05,850
minute so it doesn't really affect me

01:06:02,420 --> 01:06:10,890
however if you respond to every single

01:06:05,850 --> 01:06:13,050
one of my sin packets I'm done I have to

01:06:10,890 --> 01:06:15,960
do it by hand and you could be talking

01:06:13,050 --> 01:06:19,320
you could be talking hours for me to

01:06:15,960 --> 01:06:22,770
evaluate one machine it is so effective

01:06:19,320 --> 01:06:24,690
that method is so effective that when we

01:06:22,770 --> 01:06:27,660
engage businesses we ask them to turn

01:06:24,690 --> 01:06:30,030
that off because not because we can't

01:06:27,660 --> 01:06:32,550
get round it because we can but because

01:06:30,030 --> 01:06:33,750
they're paying as per hour so really all

01:06:32,550 --> 01:06:35,880
they're doing is wasting their money

01:06:33,750 --> 01:06:38,340
does that make sense so I mean our job

01:06:35,880 --> 01:06:39,720
is to find the holes and so the faster

01:06:38,340 --> 01:06:43,710
we can do that the better value for

01:06:39,720 --> 01:06:45,600
money you're going to get so just it all

01:06:43,710 --> 01:06:48,420
it does is flood us is floods with to

01:06:45,600 --> 01:06:50,340
his floods as with data so but that is

01:06:48,420 --> 01:06:53,520
by far the most effective defense is

01:06:50,340 --> 01:06:57,740
respond to everything oh yeah you sent

01:06:53,520 --> 01:06:57,740
me ass in here have a syn ACK please I

01:07:00,320 --> 01:07:03,470
hate it

01:07:04,460 --> 01:07:12,390
anyone else oh cool thank you very very

01:07:09,960 --> 01:07:21,450
much for coming thank you for coming to

01:07:12,390 --> 01:07:23,310
be sighs final work most enterprises

01:07:21,450 --> 01:07:25,380
today realize that usernames and

01:07:23,310 --> 01:07:27,180
passwords alone aren't enough to keep

01:07:25,380 --> 01:07:29,610
their network saved from unauthorized

01:07:27,180 --> 01:07:31,050
intrusions that's my two-factor

01:07:29,610 --> 01:07:33,420
authentication has gotten so popular

01:07:31,050 --> 01:07:35,490
lately but adds that extra layer of

01:07:33,420 --> 01:07:38,340
protection enterprise networks need to

01:07:35,490 --> 01:07:39,810
stay safe but what you may not know is

01:07:38,340 --> 01:07:42,150
that some two-factor authentication

01:07:39,810 --> 01:07:44,340
solutions they're better than others

01:07:42,150 --> 01:07:47,610
like to factor strong authentication

01:07:44,340 --> 01:07:49,650
with wicked wicked goes beyond other

01:07:47,610 --> 01:07:52,260
authentication systems by being less

01:07:49,650 --> 01:07:55,080
expensive easier to implement and easier

01:07:52,260 --> 01:07:56,730
to use giving software-based token

01:07:55,080 --> 01:07:59,580
clients built to run on all major

01:07:56,730 --> 01:08:02,180
devices and OSS including iOS and

01:07:59,580 --> 01:08:04,500
Android these tokens utilize a

01:08:02,180 --> 01:08:06,930
public/private key combination that's

01:08:04,500 --> 01:08:08,880
generated on device so there aren't any

01:08:06,930 --> 01:08:11,400
shared secrets flying around for

01:08:08,880 --> 01:08:14,250
attackers to hijack or which require any

01:08:11,400 --> 01:08:16,110
special handling instead all keys are

01:08:14,250 --> 01:08:18,600
kept secure and private between the

01:08:16,110 --> 01:08:20,760
requesting token and your server which

01:08:18,600 --> 01:08:22,400
you control in-house making it the most

01:08:20,760 --> 01:08:25,080
secure way possible to perform

01:08:22,400 --> 01:08:27,870
authentication encryption and with an

01:08:25,080 --> 01:08:30,660
extensive flexible API and support for

01:08:27,870 --> 01:08:32,640
protocols like ldap and radius wicket

01:08:30,660 --> 01:08:34,820
works with any enterprise network

01:08:32,640 --> 01:08:36,520
architecture to protect the

01:08:34,820 --> 01:08:39,130
Systems vital to your enterprise

01:08:36,520 --> 01:08:41,120
download your wicked free trial today

01:08:39,130 --> 01:08:42,890
regardless of whether you're considering

01:08:41,120 --> 01:08:44,690
two-factor authentication for the first

01:08:42,890 --> 01:08:47,930
time or just ready to ditch your

01:08:44,690 --> 01:08:50,330
existing expensive key file system we

01:08:47,930 --> 01:08:55,240
can help with easy to implement easy to

01:08:50,330 --> 01:08:55,240
use strong authentication from wicked

01:08:56,440 --> 01:09:00,710
your customers rely on your website or

01:08:59,210 --> 01:09:03,080
application if it's slower

01:09:00,710 --> 01:09:06,020
non-responsive it infuriates your users

01:09:03,080 --> 01:09:07,850
and costs you money keeping your

01:09:06,020 --> 01:09:11,370
business critical systems humming along

01:09:07,850 --> 01:09:13,680
requires insight into what they're doing

01:09:11,370 --> 01:09:15,630
your system metrics tells stories

01:09:13,680 --> 01:09:17,640
stories that can reveal performance

01:09:15,630 --> 01:09:19,980
bottlenecks resource limitations and

01:09:17,640 --> 01:09:21,540
other problems but how do you keep an

01:09:19,980 --> 01:09:24,180
eye on all of your systems performance

01:09:21,540 --> 01:09:27,240
metrics in real-time and record this

01:09:24,180 --> 01:09:29,190
data for later analysis enter longview

01:09:27,240 --> 01:09:30,990
the new way to see what's really going

01:09:29,190 --> 01:09:33,150
on under the hood the long view

01:09:30,990 --> 01:09:35,220
dashboard lets you visualize the status

01:09:33,150 --> 01:09:37,680
of all your systems providing you with a

01:09:35,220 --> 01:09:41,040
bird's-eye view of your entire fleet you

01:09:37,680 --> 01:09:43,620
can sort by cpu memory swap processes

01:09:41,040 --> 01:09:45,390
load and network usage click a specific

01:09:43,620 --> 01:09:47,790
system to access its individual

01:09:45,390 --> 01:09:50,300
dashboard then click and drag to zoom in

01:09:47,790 --> 01:09:52,710
on chokepoints and get more detail

01:09:50,300 --> 01:09:54,390
comprehensive network data including

01:09:52,710 --> 01:09:56,700
inbound and outbound traffic is

01:09:54,390 --> 01:09:58,260
available on the network tab and disk

01:09:56,700 --> 01:10:00,180
rights and free space on the disk

01:09:58,260 --> 01:10:03,030
stabbed while the process Explorer

01:10:00,180 --> 01:10:05,550
displays usage statistics for individual

01:10:03,030 --> 01:10:07,710
processes the system info tab shows

01:10:05,550 --> 01:10:09,960
listening services active connections

01:10:07,710 --> 01:10:12,090
and available updates adding long view

01:10:09,960 --> 01:10:13,800
to a system is easy just click the

01:10:12,090 --> 01:10:15,930
button copy the one line installation

01:10:13,800 --> 01:10:18,390
command then run the command on your

01:10:15,930 --> 01:10:20,070
linux system to complete the process the

01:10:18,390 --> 01:10:22,260
agent will begin collecting data and

01:10:20,070 --> 01:10:24,140
sending it to longview then the graph

01:10:22,260 --> 01:10:26,660
start rolling

01:10:24,140 --> 01:10:29,060
use longview to gain visibility into

01:10:26,660 --> 01:10:32,770
your servers so when your website or app

01:10:29,060 --> 01:10:32,770
heats up it stays up

01:10:36,620 --> 01:10:43,130
how's that sigh every way this is the

01:10:39,800 --> 01:10:45,290
way to better utilize all your resources

01:10:43,130 --> 01:10:48,740
and it makes managing all your resources

01:10:45,290 --> 01:10:52,570
pretty easy all of the innovation is

01:10:48,740 --> 01:10:56,090
happening in open source the

01:10:52,570 --> 01:10:57,890
collaborative nature and of the you know

01:10:56,090 --> 01:10:59,810
of the community and the speed at which

01:10:57,890 --> 01:11:01,970
these are these you know these

01:10:59,810 --> 01:11:04,280
deficiencies these bugs are getting

01:11:01,970 --> 01:11:07,130
discovered and then fixed is the thing

01:11:04,280 --> 01:11:10,130
that really shows the power of the of

01:11:07,130 --> 01:11:12,610
the open source community it is global

01:11:10,130 --> 01:11:16,130
and it's definitely because of the users

01:11:12,610 --> 01:11:22,010
community people are extremely friendly

01:11:16,130 --> 01:11:23,840
and always ready to help if you go on

01:11:22,010 --> 01:11:26,000
tire see any day you'll see these guys

01:11:23,840 --> 01:11:28,670
helping each other out and they're all

01:11:26,000 --> 01:11:30,380
doing it like in a selfless manner the

01:11:28,670 --> 01:11:33,370
product is transparent for everyone

01:11:30,380 --> 01:11:36,530
everyone can look at the code base

01:11:33,370 --> 01:11:38,800
everyone can see how close that is being

01:11:36,530 --> 01:11:44,300
built nothing nothing is proprietary

01:11:38,800 --> 01:11:46,970
everything is open in many ways it's

01:11:44,300 --> 01:11:51,380
absolutely vital to the the ongoing

01:11:46,970 --> 01:11:55,580
health cloudstack the most exciting

01:11:51,380 --> 01:11:58,440
event in recent memory for me was our

01:11:55,580 --> 01:12:01,080
first developer boot camp

01:11:58,440 --> 01:12:03,719
and our call gave people I gave you two

01:12:01,080 --> 01:12:07,680
weeks notice to come attend I was

01:12:03,719 --> 01:12:11,850
expecting 25 or 30 people so we ended up

01:12:07,680 --> 01:12:14,699
with 87 people and had to go get more

01:12:11,850 --> 01:12:17,219
chairs into the room twice everything

01:12:14,699 --> 01:12:20,460
within cloud computing is commodity and

01:12:17,219 --> 01:12:23,550
is open source and so I don't think that

01:12:20,460 --> 01:12:25,290
you will you'll see anywhere where open

01:12:23,550 --> 01:12:28,320
source is not pervasive in cloud

01:12:25,290 --> 01:12:30,870
computing and so i think it's i think

01:12:28,320 --> 01:12:32,400
it's an assumption i think when you talk

01:12:30,870 --> 01:12:33,510
about cloud computing you're really

01:12:32,400 --> 01:12:39,060
talking about open source cloud

01:12:33,510 --> 01:12:42,210
computing cloud zac is a robust solution

01:12:39,060 --> 01:12:44,610
for large deployments you have dozens of

01:12:42,210 --> 01:12:48,510
data centers and thousands of servers in

01:12:44,610 --> 01:12:51,180
each data centers these hardware is

01:12:48,510 --> 01:12:54,660
going to fail and CloudStack is designed

01:12:51,180 --> 01:12:57,360
to handle number one that mass scale

01:12:54,660 --> 01:13:00,540
number two it's designed to handle the

01:12:57,360 --> 01:13:02,820
failure that inevitably happens in large

01:13:00,540 --> 01:13:05,640
deployments we started working on

01:13:02,820 --> 01:13:09,150
college attack over four years ago and

01:13:05,640 --> 01:13:11,730
it was the original set of people

01:13:09,150 --> 01:13:13,920
working on it had a background of

01:13:11,730 --> 01:13:17,730
delivering software telcos and service

01:13:13,920 --> 01:13:22,350
providers lots of QA lots of users

01:13:17,730 --> 01:13:26,390
actually using it hi availability is the

01:13:22,350 --> 01:13:29,130
key feature multiple hypervisors support

01:13:26,390 --> 01:13:31,560
different network models you can pick up

01:13:29,130 --> 01:13:33,719
whatever suits you better while step

01:13:31,560 --> 01:13:37,230
management server can be deployed in

01:13:33,719 --> 01:13:39,030
different physical machines it

01:13:37,230 --> 01:13:40,650
definitely has a huge footprint it's

01:13:39,030 --> 01:13:46,050
being deployed everywhere there's a

01:13:40,650 --> 01:13:47,810
major movie studio that they were using

01:13:46,050 --> 01:13:50,940
cloudstack they were using it to

01:13:47,810 --> 01:13:53,190
transcode video and i thought that was

01:13:50,940 --> 01:13:54,480
terribly fascinating what i found more

01:13:53,190 --> 01:13:57,750
fascinating is what they did during

01:13:54,480 --> 01:14:00,540
lunch where they would spin up you know

01:13:57,750 --> 01:14:01,800
50 or 60 game servers then as soon as

01:14:00,540 --> 01:14:03,840
lunch was over they would

01:14:01,800 --> 01:14:07,980
the instances and go back to doing real

01:14:03,840 --> 01:14:09,300
work CloudStack is vast it touches so

01:14:07,980 --> 01:14:11,370
many different aspects and there's no

01:14:09,300 --> 01:14:13,770
one person that's kind of like a master

01:14:11,370 --> 01:14:17,880
of all those realms I think CloudStack

01:14:13,770 --> 01:14:20,100
as a project is going to be one of the

01:14:17,880 --> 01:14:24,150
leaders simply because it's some of the

01:14:20,100 --> 01:14:29,250
most feature fallen and and robust

01:14:24,150 --> 01:14:32,510
platforms I hope they were I don't

01:14:29,250 --> 01:14:32,510
senior living through the clouds dag

01:14:34,849 --> 01:14:36,909
you

01:15:16,090 --> 01:15:18,150
you

01:15:21,350 --> 01:15:26,160
when we created asterisk over a decade

01:15:24,060 --> 01:15:28,380
ago we could not have imagined that

01:15:26,160 --> 01:15:30,570
asterisk would not only become the most

01:15:28,380 --> 01:15:32,730
widely adopted open source communication

01:15:30,570 --> 01:15:34,770
software on the planet but that it would

01:15:32,730 --> 01:15:37,290
impact the entire industry in the way

01:15:34,770 --> 01:15:39,240
that it has today asterisk has found its

01:15:37,290 --> 01:15:41,880
way into more than 170 countries and

01:15:39,240 --> 01:15:43,860
virtually every fortune 1000 company the

01:15:41,880 --> 01:15:45,960
success of asterisk has enabled a

01:15:43,860 --> 01:15:47,340
transition of power from the hands of

01:15:45,960 --> 01:15:49,620
the traditional proprietary phone

01:15:47,340 --> 01:15:52,020
vendors into the hands of the users and

01:15:49,620 --> 01:15:53,940
administrators of phone systems using

01:15:52,020 --> 01:15:55,170
this power our customers have created

01:15:53,940 --> 01:15:57,120
all sorts of business changing

01:15:55,170 --> 01:15:58,980
applications from small office phone

01:15:57,120 --> 01:16:01,470
systems to mission-critical call centres

01:15:58,980 --> 01:16:03,090
the international carrier networks in

01:16:01,470 --> 01:16:04,890
fact there's even an entire country

01:16:03,090 --> 01:16:07,470
those communications infrastructure runs

01:16:04,890 --> 01:16:09,390
on esters the gym has always been about

01:16:07,470 --> 01:16:11,100
creating technology that expands

01:16:09,390 --> 01:16:13,290
communications capabilities in ways that

01:16:11,100 --> 01:16:14,490
we could never have imagined and that's

01:16:13,290 --> 01:16:16,860
part of what's game-changing about

01:16:14,490 --> 01:16:19,560
Digium today we're doing it again this

01:16:16,860 --> 01:16:21,660
time by introducing a new family of HD

01:16:19,560 --> 01:16:23,790
IP phones that extends control of the

01:16:21,660 --> 01:16:25,530
user all the way to the desktop the

01:16:23,790 --> 01:16:27,240
launch of these new products represents

01:16:25,530 --> 01:16:29,220
the next phase indigenous history of

01:16:27,240 --> 01:16:31,740
innovation these are the first and only

01:16:29,220 --> 01:16:33,450
IP phones designed to fully leverage the

01:16:31,740 --> 01:16:35,010
power of esters when we first discussed

01:16:33,450 --> 01:16:37,020
our expectations for building a family

01:16:35,010 --> 01:16:39,180
of phones for use with asterisks our

01:16:37,020 --> 01:16:40,920
requirements were pretty simple we asked

01:16:39,180 --> 01:16:42,570
the team to build the phones such that

01:16:40,920 --> 01:16:44,760
they were easy to install integrate

01:16:42,570 --> 01:16:46,620
provision and use I think you'll soon

01:16:44,760 --> 01:16:49,170
agree our engineers have delivered on

01:16:46,620 --> 01:16:50,820
that goal user feedback is validating

01:16:49,170 --> 01:16:52,920
that when it comes to operation with

01:16:50,820 --> 01:16:55,350
asher space systems including our own

01:16:52,920 --> 01:16:57,930
Switchvox based product these are the

01:16:55,350 --> 01:16:59,220
easiest to use best integrated most

01:16:57,930 --> 01:17:01,830
interoperable products on the market

01:16:59,220 --> 01:17:03,810
today the digitally of phones will

01:17:01,830 --> 01:17:05,880
initially include three IP desk phones

01:17:03,810 --> 01:17:07,800
uniquely designed to complement any

01:17:05,880 --> 01:17:09,690
asterisk or Switchvox based solution

01:17:07,800 --> 01:17:12,330
these phones are different for a number

01:17:09,690 --> 01:17:15,000
of reasons first there is clue sively

01:17:12,330 --> 01:17:16,410
designed for use with esters secondly

01:17:15,000 --> 01:17:18,050
we've made it really easy to

01:17:16,410 --> 01:17:20,430
autodiscover and provision the phones

01:17:18,050 --> 01:17:22,110
next we've made it easy for the phones

01:17:20,430 --> 01:17:24,140
to access information inside of

01:17:22,110 --> 01:17:26,080
asterisks allowing tight coupling

01:17:24,140 --> 01:17:28,040
between an application and the phone

01:17:26,080 --> 01:17:30,200
additionally we've created an

01:17:28,040 --> 01:17:32,330
applications engineer that allows users

01:17:30,200 --> 01:17:35,570
and developers to create and run their

01:17:32,330 --> 01:17:37,340
own apps on the phone and finally we've

01:17:35,570 --> 01:17:39,290
done all of this at a very compelling

01:17:37,340 --> 01:17:40,970
price point at Digium we're always

01:17:39,290 --> 01:17:43,070
thinking of ways to give our customers

01:17:40,970 --> 01:17:45,590
the best value in business phone systems

01:17:43,070 --> 01:17:47,300
and also give them the power to create

01:17:45,590 --> 01:17:49,310
their own solutions or eating

01:17:47,300 --> 01:17:51,050
communications challenge well continue

01:17:49,310 --> 01:17:52,460
to push the boundaries not only to make

01:17:51,050 --> 01:17:54,500
Astra's cooler faster and more

01:17:52,460 --> 01:17:56,150
technologically feature-rich but to make

01:17:54,500 --> 01:17:58,610
asterisk and what communications even

01:17:56,150 --> 01:18:01,750
easier and together we'll change the way

01:17:58,610 --> 01:18:01,750
the world communication again

01:18:07,850 --> 01:18:09,940

YouTube URL: https://www.youtube.com/watch?v=x7Iwt1Cn8kg


