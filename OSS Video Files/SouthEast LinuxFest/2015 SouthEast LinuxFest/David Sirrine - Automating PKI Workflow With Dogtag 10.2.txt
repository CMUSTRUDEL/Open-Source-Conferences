Title: David Sirrine - Automating PKI Workflow With Dogtag 10.2
Publication date: 2017-01-25
Playlist: 2015 SouthEast LinuxFest
Description: 
	
Captions: 
	00:00:01,190 --> 00:00:05,160
all right hey yeah thank you guys very

00:00:03,570 --> 00:00:08,309
much for coming out today

00:00:05,160 --> 00:00:11,340
my name is Dave Zirin I'm giving this

00:00:08,309 --> 00:00:16,560
talk on automating PKI management using

00:00:11,340 --> 00:00:21,260
dog tag 10 - we're gonna talk a bit

00:00:16,560 --> 00:00:21,260
about oh sorry

00:00:28,780 --> 00:00:36,480
awesome town just click the slideshow

00:00:34,140 --> 00:00:42,970
there we go

00:00:36,480 --> 00:00:46,180
alright so here we go so I again my name

00:00:42,970 --> 00:00:49,510
is Dave Zirin I happen to work for Red

00:00:46,180 --> 00:00:52,300
Hat but I am here to talk about a

00:00:49,510 --> 00:00:55,450
project that I have quite a bit of

00:00:52,300 --> 00:00:59,559
fondness of a dog tag which is our PKI

00:00:55,450 --> 00:01:00,250
product in fedora so a little bit about

00:00:59,559 --> 00:01:02,589
me again

00:01:00,250 --> 00:01:04,600
you know I work for Red Hat I'm

00:01:02,589 --> 00:01:06,340
something of a baker that was my

00:01:04,600 --> 00:01:08,590
original career choice is I wanted to be

00:01:06,340 --> 00:01:10,450
a chef or a baker but the nights

00:01:08,590 --> 00:01:13,840
weekends holidays yeah I kind of like

00:01:10,450 --> 00:01:15,820
having those off so you know pies pies

00:01:13,840 --> 00:01:17,770
cookies cakes breads I love making those

00:01:15,820 --> 00:01:21,490
I'm also a gardener

00:01:17,770 --> 00:01:23,190
that's my black and tan coonhound

00:01:21,490 --> 00:01:27,460
sniffing out some azalea's right there

00:01:23,190 --> 00:01:29,650
and I'm also I also enjoy rugby used to

00:01:27,460 --> 00:01:31,930
play play a little bit still and go

00:01:29,650 --> 00:01:37,899
Glasgow they just won the pro 12 so

00:01:31,930 --> 00:01:40,000
happy day so what just kind of set some

00:01:37,899 --> 00:01:41,710
expectations here in the beginning what

00:01:40,000 --> 00:01:45,070
this is this is a brief introduction

00:01:41,710 --> 00:01:48,070
into PKI and dog tag it's an overview of

00:01:45,070 --> 00:01:51,579
the API and CLI interfaces that are

00:01:48,070 --> 00:01:54,520
relatively new in dog tag they are tools

00:01:51,579 --> 00:01:55,930
that are going to help you with being

00:01:54,520 --> 00:01:57,939
able to facilitate your certificate

00:01:55,930 --> 00:01:59,409
lifecycle management and you know

00:01:57,939 --> 00:02:04,329
profile management and things like that

00:01:59,409 --> 00:02:06,039
in your PKI environment and you know

00:02:04,329 --> 00:02:08,259
some practical examples you know I'm

00:02:06,039 --> 00:02:10,060
throwing a couple up there I could spend

00:02:08,259 --> 00:02:12,220
all day going through examples of things

00:02:10,060 --> 00:02:13,810
that you can do in dog tag

00:02:12,220 --> 00:02:18,370
but today we're primarily going to focus

00:02:13,810 --> 00:02:19,930
on the CA so what this is not this is

00:02:18,370 --> 00:02:25,810
not specifics on how to encrypt and

00:02:19,930 --> 00:02:28,480
decrypt things this is also not OS

00:02:25,810 --> 00:02:30,040
specific crypto implementations so you

00:02:28,480 --> 00:02:33,190
know this is just kind of again very

00:02:30,040 --> 00:02:35,140
generalistic approach you know you

00:02:33,190 --> 00:02:37,330
you'll take the information you get

00:02:35,140 --> 00:02:40,480
today and run with it do with it as you

00:02:37,330 --> 00:02:42,010
wish and lastly this is a conversation

00:02:40,480 --> 00:02:42,430
right I don't want to stand here and

00:02:42,010 --> 00:02:44,680
talk

00:02:42,430 --> 00:02:47,290
guys for an hour you know it's Sunday

00:02:44,680 --> 00:02:49,209
it's after lunch everybody's tired so

00:02:47,290 --> 00:02:51,129
you know please feel free to engage me

00:02:49,209 --> 00:02:53,500
you know if you have any questions you

00:02:51,129 --> 00:02:55,959
know if you think I'm wrong please you

00:02:53,500 --> 00:03:01,299
know throw stuff at me I'm happy to

00:02:55,959 --> 00:03:03,790
engage so brief introduction into PKI

00:03:01,299 --> 00:03:06,189
all right so hey Google please define

00:03:03,790 --> 00:03:08,349
PKI for me the guy public key

00:03:06,189 --> 00:03:10,989
infrastructure is a set of hardware

00:03:08,349 --> 00:03:13,780
software people policies and procedures

00:03:10,989 --> 00:03:15,970
needed to create manage distribute use

00:03:13,780 --> 00:03:18,430
store and revoke digital certificates

00:03:15,970 --> 00:03:21,310
and manage public key encryption it's

00:03:18,430 --> 00:03:23,859
kind of a mouthful huh but if you think

00:03:21,310 --> 00:03:27,310
about it it's it's really a part of that

00:03:23,859 --> 00:03:28,659
holistic Identity Management procedure

00:03:27,310 --> 00:03:31,599
and policy that you guys are going to be

00:03:28,659 --> 00:03:37,150
using right that's part of the who you

00:03:31,599 --> 00:03:39,669
are in in the identity realm right so is

00:03:37,150 --> 00:03:42,549
is is everybody in here pretty familiar

00:03:39,669 --> 00:03:45,040
with what PKI is and what what it's

00:03:42,549 --> 00:03:45,609
meant to be and you anybody have any

00:03:45,040 --> 00:03:48,459
questions on that

00:03:45,609 --> 00:03:50,049
awesome all right so why you know you

00:03:48,459 --> 00:03:52,540
need a trusted environment for

00:03:50,049 --> 00:03:55,750
certificate creation and usage and and

00:03:52,540 --> 00:03:58,930
also for your keys right you don't want

00:03:55,750 --> 00:04:02,290
to be just willy-nilly using open SSL to

00:03:58,930 --> 00:04:04,329
be generating thousands of certs hey you

00:04:02,290 --> 00:04:07,449
know on an individual box and each box

00:04:04,329 --> 00:04:10,299
is its own CA right that's unmanageable

00:04:07,449 --> 00:04:12,040
right right I see somebody some smiles

00:04:10,299 --> 00:04:13,479
in the audience I we we've all been

00:04:12,040 --> 00:04:15,280
there right we've all been there where

00:04:13,479 --> 00:04:19,810
you've had to create certs and keys

00:04:15,280 --> 00:04:21,880
using open SSL it's a pain and it you

00:04:19,810 --> 00:04:25,419
need it centrally managed right again

00:04:21,880 --> 00:04:31,479
you you wanna have that one area of

00:04:25,419 --> 00:04:35,020
focus to manage these these resources

00:04:31,479 --> 00:04:36,520
right so you know throw a little comic

00:04:35,020 --> 00:04:38,770
up there just for fun you know just to

00:04:36,520 --> 00:04:40,720
drive home the point of needing a trust

00:04:38,770 --> 00:04:43,960
it's like hey I got home from party you

00:04:40,720 --> 00:04:46,150
know talking again you know what did you

00:04:43,960 --> 00:04:50,860
do did you do anything bad yeah I signed

00:04:46,150 --> 00:04:54,820
her public key oh right so how does this

00:04:50,860 --> 00:04:56,200
affect me so you're using it every day

00:04:54,820 --> 00:04:58,300
right you're use

00:04:56,200 --> 00:05:00,700
certificates and keys everyday you know

00:04:58,300 --> 00:05:02,860
things like x.509 it's everywhere right

00:05:00,700 --> 00:05:04,300
you know you have your your you know

00:05:02,860 --> 00:05:05,590
browser SSL sessions there's

00:05:04,300 --> 00:05:08,890
certificates there that need to be

00:05:05,590 --> 00:05:11,530
managed right to encrypt those tunnels

00:05:08,890 --> 00:05:13,180
VPNs mail ask mom you know things like

00:05:11,530 --> 00:05:15,610
that and on your network stack you know

00:05:13,180 --> 00:05:17,080
if you're using IP IPSec you know things

00:05:15,610 --> 00:05:18,130
like that those are encrypted tunnels

00:05:17,080 --> 00:05:21,250
those are encrypted connections

00:05:18,130 --> 00:05:24,460
everything needs a certificate and or a

00:05:21,250 --> 00:05:26,890
key right how do you manage that right

00:05:24,460 --> 00:05:29,770
so and as I said earlier you know try

00:05:26,890 --> 00:05:32,350
managing thousands of these certs that

00:05:29,770 --> 00:05:34,630
you need using open SSL it's just it's

00:05:32,350 --> 00:05:39,370
simply not tenable encrypt all the

00:05:34,630 --> 00:05:41,380
things so an introduction to dog tag so

00:05:39,370 --> 00:05:45,180
dog tag is is really an enterprise class

00:05:41,380 --> 00:05:47,770
open source CA that provides you know

00:05:45,180 --> 00:05:51,850
issuance revocation and retrieval of

00:05:47,770 --> 00:05:52,870
your certificates your keys etc yeah it

00:05:51,850 --> 00:05:54,970
provides your certificate revocation

00:05:52,870 --> 00:05:56,380
lists so you know when you revoke assert

00:05:54,970 --> 00:05:59,250
it goes on a certificate revocation list

00:05:56,380 --> 00:06:01,330
that crl then gets referenced by

00:05:59,250 --> 00:06:02,860
whatever's doing the authentication to

00:06:01,330 --> 00:06:04,720
make sure hey is this cert ballot is

00:06:02,860 --> 00:06:07,030
this sir good has this er been revoked

00:06:04,720 --> 00:06:09,790
why has this sir pin revoked right the

00:06:07,030 --> 00:06:11,380
CRL is there for that certificate

00:06:09,790 --> 00:06:12,990
profiles I'm going to get into

00:06:11,380 --> 00:06:15,940
certificate profiles a little bit later

00:06:12,990 --> 00:06:17,650
and and you'll find that you know I will

00:06:15,940 --> 00:06:20,110
say quite often this is the most

00:06:17,650 --> 00:06:22,000
important thing that I forgot to say and

00:06:20,110 --> 00:06:24,550
it's everything I'm going to say right

00:06:22,000 --> 00:06:25,450
so certificate profiles it is important

00:06:24,550 --> 00:06:29,580
and I'll get into that a little bit

00:06:25,450 --> 00:06:32,160
later so and as kept so SCEP is is for

00:06:29,580 --> 00:06:36,940
provisioning search for things like

00:06:32,160 --> 00:06:39,690
routers and and things like that so key

00:06:36,940 --> 00:06:43,530
archival that's the that's the KRA

00:06:39,690 --> 00:06:46,450
from from dog tags so this is where your

00:06:43,530 --> 00:06:49,830
your keys are gonna be archived so if in

00:06:46,450 --> 00:06:52,000
the event you need to recover them or

00:06:49,830 --> 00:06:53,860
regenerate any sort of material that was

00:06:52,000 --> 00:06:55,930
generated using those keys you have it

00:06:53,860 --> 00:07:02,740
there it's Thord and it's securely

00:06:55,930 --> 00:07:07,420
stored OCSP LOC SP stands for online

00:07:02,740 --> 00:07:09,520
certificate status protocol and that's a

00:07:07,420 --> 00:07:09,729
protocol that's used to also check you

00:07:09,520 --> 00:07:11,349
know

00:07:09,729 --> 00:07:14,289
for search status and things like that

00:07:11,349 --> 00:07:16,659
so instead of having a CR L on every

00:07:14,289 --> 00:07:19,150
machine you can just ping back to this

00:07:16,659 --> 00:07:21,490
OCSP responder and say hey please check

00:07:19,150 --> 00:07:23,860
check this for me

00:07:21,490 --> 00:07:26,919
it also provides smart card management

00:07:23,860 --> 00:07:28,479
so if you if you wanted to use a token

00:07:26,919 --> 00:07:31,150
you know a smart card - for

00:07:28,479 --> 00:07:33,819
authentication or for anything right you

00:07:31,150 --> 00:07:37,120
know it has it has functionality built

00:07:33,819 --> 00:07:40,389
in for that through the tks and TPS

00:07:37,120 --> 00:07:42,430
which is the token key subsystem and the

00:07:40,389 --> 00:07:45,550
token provisioning subsystem those are

00:07:42,430 --> 00:07:47,349
used in conjunction again I'm not going

00:07:45,550 --> 00:07:48,849
to get into that too much because I want

00:07:47,349 --> 00:07:50,259
to focus on what most people are going

00:07:48,849 --> 00:07:53,740
to be pretty interested in which would

00:07:50,259 --> 00:07:58,479
be the see a portion of this so in the

00:07:53,740 --> 00:08:02,259
latest build is 10.24 on Fedora 22 I do

00:07:58,479 --> 00:08:08,110
not believe we have ported it to Debian

00:08:02,259 --> 00:08:12,999
yet but it does work on CentOS as well

00:08:08,110 --> 00:08:14,740
so you know there is that but I'll have

00:08:12,999 --> 00:08:18,129
to double check I don't I don't think we

00:08:14,740 --> 00:08:22,029
ported at the Debian yet but I know free

00:08:18,129 --> 00:08:24,370
IPA which the see a portion of dog tag

00:08:22,029 --> 00:08:33,069
is built into free IPA that I believe

00:08:24,370 --> 00:08:34,569
has been ported to Debian free IPA hmm

00:08:33,069 --> 00:08:36,069
I'll have to I'll have to look at that

00:08:34,569 --> 00:08:38,919
but I thought I thought free IPA had

00:08:36,069 --> 00:08:43,479
been ported Debian but I'll verify that

00:08:38,919 --> 00:08:45,339
so you know we'll get it I'll show you a

00:08:43,479 --> 00:08:48,459
little bit here what the web UI looks

00:08:45,339 --> 00:08:50,470
like for dog tag again this is going to

00:08:48,459 --> 00:08:51,370
be a real quick real quick overview I'm

00:08:50,470 --> 00:08:53,800
not going to show you a whole lot of

00:08:51,370 --> 00:08:56,949
detail here because I want to focus on

00:08:53,800 --> 00:08:59,380
the API and the CLI you know for the

00:08:56,949 --> 00:09:01,630
automated portion of it but I wanted to

00:08:59,380 --> 00:09:03,730
give you an idea of what the web UI

00:09:01,630 --> 00:09:06,940
looks like and what you'd have to do

00:09:03,730 --> 00:09:10,240
with the web UI as compared to you so

00:09:06,940 --> 00:09:13,290
here's your end end entity this is where

00:09:10,240 --> 00:09:16,420
you're your Ras

00:09:13,290 --> 00:09:20,880
you're your admins would go in to enroll

00:09:16,420 --> 00:09:20,880
new certs right if you look

00:09:21,649 --> 00:09:26,099
if you look right here certificate

00:09:24,479 --> 00:09:28,409
profile names those are although these

00:09:26,099 --> 00:09:30,629
are all default profiles they keep going

00:09:28,409 --> 00:09:34,559
there's there's a list of I think twelve

00:09:30,629 --> 00:09:36,689
or eighteen of them for for certificate

00:09:34,559 --> 00:09:37,739
generation and and those are the

00:09:36,689 --> 00:09:39,869
profiles that you're going to use to

00:09:37,739 --> 00:09:42,119
create the search so the profile knows

00:09:39,869 --> 00:09:43,799
what kinds of certs you want to create

00:09:42,119 --> 00:09:47,609
right

00:09:43,799 --> 00:09:50,069
and mostly I talked about the manual the

00:09:47,609 --> 00:09:53,039
manual user dual use sort of sort of

00:09:50,069 --> 00:09:54,659
certificate the enrollment because

00:09:53,039 --> 00:09:56,219
that's what most people are going to do

00:09:54,659 --> 00:09:58,349
there and they're also going to do some

00:09:56,219 --> 00:10:03,059
SSL cert generation which is down down

00:09:58,349 --> 00:10:05,639
the list a little bit but so here's the

00:10:03,059 --> 00:10:08,099
revocation page so let me go let me go

00:10:05,639 --> 00:10:09,929
back one slide here so when and I should

00:10:08,099 --> 00:10:12,479
have put a sure to put a screenshot in

00:10:09,929 --> 00:10:14,669
for this but when you click when you

00:10:12,479 --> 00:10:17,429
click on this link right here like like

00:10:14,669 --> 00:10:20,669
this manual user dual use certificate

00:10:17,429 --> 00:10:24,329
enrollment profile it will pop up a page

00:10:20,669 --> 00:10:27,149
that has a bunch of fields that you can

00:10:24,329 --> 00:10:29,699
fill in and it's fields that are like

00:10:27,149 --> 00:10:32,459
the the name that you know that the s in

00:10:29,699 --> 00:10:34,159
the oh the oh you you know objects like

00:10:32,459 --> 00:10:36,389
that if you're familiar with LDAP right

00:10:34,159 --> 00:10:38,419
you know so you can put in the

00:10:36,389 --> 00:10:41,189
identifiable information for the user

00:10:38,419 --> 00:10:46,769
and then you click enroll and it will

00:10:41,189 --> 00:10:50,159
generate a an enrollment request so

00:10:46,769 --> 00:10:51,869
again here's the revocation what you're

00:10:50,159 --> 00:10:55,499
going to do is you're going to search

00:10:51,869 --> 00:10:57,569
for a certificate a serial number that

00:10:55,499 --> 00:10:59,999
you want to revoke or a range of serial

00:10:57,569 --> 00:11:02,099
numbers that you want to revoke and then

00:10:59,999 --> 00:11:05,039
you're going to specify a reason why

00:11:02,099 --> 00:11:07,169
it's being revoked this is important

00:11:05,039 --> 00:11:09,329
because you want to make sure you track

00:11:07,169 --> 00:11:11,099
you know why these things are happening

00:11:09,329 --> 00:11:12,389
right you do want you don't want to just

00:11:11,099 --> 00:11:14,969
have a revoked cert laying around and be

00:11:12,389 --> 00:11:18,239
like what why right currently

00:11:14,969 --> 00:11:20,669
unspecified is the default and that's as

00:11:18,239 --> 00:11:22,259
general as it gets but you know if you

00:11:20,669 --> 00:11:24,539
if you want to know that you know the

00:11:22,259 --> 00:11:26,399
key was compromised for this revocation

00:11:24,539 --> 00:11:27,779
or you want to know that you know oh

00:11:26,399 --> 00:11:29,459
we're just revoking because it's

00:11:27,779 --> 00:11:31,949
superseded by a new cert you know this

00:11:29,459 --> 00:11:35,500
user got you know provision a new cert

00:11:31,949 --> 00:11:37,910
because you know wat at whatever right

00:11:35,500 --> 00:11:42,410
there's also a reason in here for like

00:11:37,910 --> 00:11:43,700
you know you know changed its interests

00:11:42,410 --> 00:11:47,450
like change changed jobs change

00:11:43,700 --> 00:11:49,130
responsibilities right so and here's the

00:11:47,450 --> 00:11:51,550
screen for retrieval so this is where

00:11:49,130 --> 00:11:55,010
you're going to go to retrieve say your

00:11:51,550 --> 00:11:56,840
your see a root certs your user search

00:11:55,010 --> 00:11:59,600
even you you come in here and say you

00:11:56,840 --> 00:12:01,790
know I'm going to search for you know

00:11:59,600 --> 00:12:04,310
Joe Bob or I want to search for

00:12:01,790 --> 00:12:06,290
certificate serial number this and you

00:12:04,310 --> 00:12:07,880
can retrieve that and it'll it'll give

00:12:06,290 --> 00:12:10,370
you the option to save that and in

00:12:07,880 --> 00:12:12,590
several different kinds of format right

00:12:10,370 --> 00:12:16,960
I believe it's you could get a derp

00:12:12,590 --> 00:12:23,180
encoded or you can get it in a p12

00:12:16,960 --> 00:12:26,240
because yes both file so and that's a

00:12:23,180 --> 00:12:31,550
duplicate side I apologize so here's the

00:12:26,240 --> 00:12:34,130
agent services agent services are the

00:12:31,550 --> 00:12:37,040
resources that are specifically for your

00:12:34,130 --> 00:12:38,330
your upper level admins this is where

00:12:37,040 --> 00:12:40,690
you're going to be if you if you're

00:12:38,330 --> 00:12:43,430
provisioning certificates that require

00:12:40,690 --> 00:12:45,860
somebody to authorize that enrollment

00:12:43,430 --> 00:12:46,610
right to approve that enrollment this is

00:12:45,860 --> 00:12:49,910
where they're going to approve that

00:12:46,610 --> 00:12:51,860
enrollment you know so what they would

00:12:49,910 --> 00:12:58,130
do is they would go on the on the left

00:12:51,860 --> 00:13:00,410
here you'll you see yeah it's I believe

00:12:58,130 --> 00:13:04,940
it's a search for a list request or

00:13:00,410 --> 00:13:05,780
search for requests right so that's

00:13:04,940 --> 00:13:06,830
where that's where you're going to go

00:13:05,780 --> 00:13:08,750
you're gonna you're gonna search for

00:13:06,830 --> 00:13:10,640
that request because each when you go to

00:13:08,750 --> 00:13:11,630
enroll a cert it's going to give you a

00:13:10,640 --> 00:13:12,800
request number

00:13:11,630 --> 00:13:14,090
you're gonna search for their request

00:13:12,800 --> 00:13:16,310
number and you're gonna either approve

00:13:14,090 --> 00:13:18,830
or deny it all right and then you get to

00:13:16,310 --> 00:13:21,230
associate a user with that approval so

00:13:18,830 --> 00:13:22,790
you know if you're doing auditing and

00:13:21,230 --> 00:13:24,290
you go back and you say well why did

00:13:22,790 --> 00:13:27,290
this person get this certificate

00:13:24,290 --> 00:13:28,850
provision for them well who authorized

00:13:27,290 --> 00:13:31,880
that well this person approved it let's

00:13:28,850 --> 00:13:35,510
go to them and talk to them right that's

00:13:31,880 --> 00:13:37,700
a hugely important in the auditing piece

00:13:35,510 --> 00:13:38,990
of your PKI environment right because

00:13:37,700 --> 00:13:41,180
you want to make sure that you know

00:13:38,990 --> 00:13:43,750
exactly why things are being done and

00:13:41,180 --> 00:13:43,750
what's being done

00:13:44,589 --> 00:13:50,410
does anybody have any question about the

00:13:47,390 --> 00:13:50,410
those previous slides

00:13:50,530 --> 00:14:01,280
yes free IPA is in unstable is in

00:13:57,590 --> 00:14:02,810
unstable debian thank you very much so

00:14:01,280 --> 00:14:04,850
to repeat that you know the gentleman in

00:14:02,810 --> 00:14:07,730
the audience here did a quick search and

00:14:04,850 --> 00:14:12,230
and verify that free IPA is in Debian

00:14:07,730 --> 00:14:14,300
but it's in the unstable version a same

00:14:12,230 --> 00:14:19,670
for dog tag awesome I appreciate it

00:14:14,300 --> 00:14:25,190
thank you yes yeah because because free

00:14:19,670 --> 00:14:35,750
IPA uses the CA and kr a from from dog

00:14:25,190 --> 00:14:39,320
tag built-in so yes that is a fantastic

00:14:35,750 --> 00:14:42,500
question so the question was is dog tag

00:14:39,320 --> 00:14:44,420
only for an internal CA right no it's

00:14:42,500 --> 00:14:48,260
not you can set up dog tag as a

00:14:44,420 --> 00:14:49,760
subordinate CA of whatever right so if

00:14:48,260 --> 00:14:51,350
you have Verisign and you have a deal

00:14:49,760 --> 00:14:54,170
Verisign where you can set up a

00:14:51,350 --> 00:14:56,210
subordinate CA you can get that you can

00:14:54,170 --> 00:14:58,750
get a root signing cert from Verisign

00:14:56,210 --> 00:14:58,750
and

00:15:08,209 --> 00:15:17,360
so the to repeat that question is you so

00:15:15,319 --> 00:15:20,869
let me try and rephrase that question so

00:15:17,360 --> 00:15:23,540
you're you're creating the certs and

00:15:20,869 --> 00:15:27,970
certificate requests from say Verisign

00:15:23,540 --> 00:15:27,970
or n trust or somebody like that or some

00:15:41,550 --> 00:15:46,290
so but they so that's that's why that's

00:15:43,680 --> 00:15:48,390
why I'm saying if depending on your your

00:15:46,290 --> 00:15:49,980
your deal with Verisign I mean yes

00:15:48,390 --> 00:15:52,740
because you have all that material there

00:15:49,980 --> 00:15:53,880
right you have the CS are available to

00:15:52,740 --> 00:15:56,070
you so you could just copy and paste

00:15:53,880 --> 00:16:00,420
that into whatever Verisign uses to to

00:15:56,070 --> 00:16:01,830
generate the certs and I believe I'd

00:16:00,420 --> 00:16:05,070
have to go back and look but I believe

00:16:01,830 --> 00:16:07,290
you can use a previously provisioned

00:16:05,070 --> 00:16:09,390
certificate for an entry in dog tag

00:16:07,290 --> 00:16:10,890
right you can add that to add that to an

00:16:09,390 --> 00:16:12,410
entry but I'd have to I have to verify

00:16:10,890 --> 00:16:16,860
that I haven't touched that in a while

00:16:12,410 --> 00:16:20,160
but but the way CA chaining that way

00:16:16,860 --> 00:16:24,090
trust chaining works right is if you can

00:16:20,160 --> 00:16:28,020
use if Verisign signs your ca route sir

00:16:24,090 --> 00:16:31,200
as a trusted route certain right so it's

00:16:28,020 --> 00:16:34,230
it's let me be very careful when I say

00:16:31,200 --> 00:16:36,960
this it's almost as if Verisign signed

00:16:34,230 --> 00:16:39,240
it right because you don't need you know

00:16:36,960 --> 00:16:41,640
Bob's discount chicken-and-waffles root

00:16:39,240 --> 00:16:45,030
CA in on all your machines because you

00:16:41,640 --> 00:16:46,890
have entrusts trusts on all your

00:16:45,030 --> 00:16:49,410
machines right because it's part of the

00:16:46,890 --> 00:16:53,370
the the trust chain you should be good

00:16:49,410 --> 00:17:04,170
to go that's correct that's that's

00:16:53,370 --> 00:17:06,260
correct so any other questions yes yes

00:17:04,170 --> 00:17:12,480
we do support hardware security modules

00:17:06,260 --> 00:17:15,360
currently we support net 8 in cipher at

00:17:12,480 --> 00:17:19,560
HSM and I believe we also support Luna

00:17:15,360 --> 00:17:24,180
HSM so yes to answer your question we do

00:17:19,560 --> 00:17:25,020
support hardware security modules it's a

00:17:24,180 --> 00:17:28,790
great question you know what you're

00:17:25,020 --> 00:17:28,790
talking about I like that that's perfect

00:17:46,620 --> 00:17:51,480
yeah yeah yeah and I knew it was

00:17:48,809 --> 00:17:53,190
relatively recent but I I was starting

00:17:51,480 --> 00:17:54,419
to question my sanity for a second

00:17:53,190 --> 00:17:57,539
window and you're like well are you sure

00:17:54,419 --> 00:18:03,840
and I'm like I thought I was well thank

00:17:57,539 --> 00:18:05,940
you very much for okay and and can you

00:18:03,840 --> 00:18:10,070
can you repeat can you repeat what what

00:18:05,940 --> 00:18:10,070
versions it's in again it's in Wiley and

00:18:11,450 --> 00:18:18,360
okay so so it's in it's in Wiley and

00:18:14,880 --> 00:18:24,450
vivid as well I appreciate you looking

00:18:18,360 --> 00:18:27,240
that up nice great perfect awesome

00:18:24,450 --> 00:18:28,649
all right so we'll move on to talk a

00:18:27,240 --> 00:18:32,250
little bit about the command line and

00:18:28,649 --> 00:18:34,890
and the API so this is really nice

00:18:32,250 --> 00:18:38,880
because it can be run from a client or

00:18:34,890 --> 00:18:40,440
on the server the management options

00:18:38,880 --> 00:18:42,270
basically anything that you can do

00:18:40,440 --> 00:18:46,289
through the web UI you can do through

00:18:42,270 --> 00:18:50,399
the API and/or the API the API or the

00:18:46,289 --> 00:18:51,659
CLI right which is great so some some

00:18:50,399 --> 00:18:53,159
options include you know certificate

00:18:51,659 --> 00:18:55,590
manage menu we just talked about you

00:18:53,159 --> 00:18:57,360
know enrollment and revocation you can

00:18:55,590 --> 00:19:01,350
listen certificates on hold for whatever

00:18:57,360 --> 00:19:03,659
reason right you you could do profile

00:19:01,350 --> 00:19:05,820
management which again I'll get into in

00:19:03,659 --> 00:19:07,679
a little bit user and group management

00:19:05,820 --> 00:19:11,220
so if you want if you want to have

00:19:07,679 --> 00:19:14,880
people to be able to do certain tasks

00:19:11,220 --> 00:19:15,779
within within dogtag you can set that up

00:19:14,880 --> 00:19:17,610
right

00:19:15,779 --> 00:19:20,700
you can provision users and groups that

00:19:17,610 --> 00:19:23,610
way and subsystem management and when I

00:19:20,700 --> 00:19:30,929
say subsystem I mean you know the CA the

00:19:23,610 --> 00:19:32,909
KRA OCSP and TPS and tks some

00:19:30,929 --> 00:19:35,010
authentication options you you can

00:19:32,909 --> 00:19:36,600
either do basic authentication back to

00:19:35,010 --> 00:19:39,360
back to the dogtag server which would be

00:19:36,600 --> 00:19:43,399
a username username and password I

00:19:39,360 --> 00:19:47,730
highly recommend against it I mean it's

00:19:43,399 --> 00:19:49,320
great it's easy but I recommend and I

00:19:47,730 --> 00:19:51,809
personally use the second option which

00:19:49,320 --> 00:19:53,940
is the client certificate option when

00:19:51,809 --> 00:19:57,809
you create a sub system it automatically

00:19:53,940 --> 00:20:00,059
generates you an admin cert and you

00:19:57,809 --> 00:20:02,429
would bring that over to your client box

00:20:00,059 --> 00:20:04,169
install it into say NSS or create a PEM

00:20:02,429 --> 00:20:05,519
file that sits on your ice it's on your

00:20:04,169 --> 00:20:09,479
machine that you can reference to do

00:20:05,519 --> 00:20:12,450
these do these types of operations so

00:20:09,479 --> 00:20:15,629
for for my examples that I'm going to

00:20:12,450 --> 00:20:19,379
give a little bit later on for the

00:20:15,629 --> 00:20:21,149
command line I use I used innocent in

00:20:19,379 --> 00:20:25,830
NSS database I'm pointing to an NSS

00:20:21,149 --> 00:20:28,349
database and for the API I do I have a

00:20:25,830 --> 00:20:29,639
pen file sitting on my machine mostly

00:20:28,349 --> 00:20:31,799
because I'm not that familiar with

00:20:29,639 --> 00:20:33,929
Python and accessing an NSS database

00:20:31,799 --> 00:20:35,159
with Python right so if I if I was

00:20:33,929 --> 00:20:36,779
better at doing that I would have made a

00:20:35,159 --> 00:20:41,700
better example but you know I'm sticking

00:20:36,779 --> 00:20:43,679
with just a pen file so before you begin

00:20:41,700 --> 00:20:45,089
you need to make sure that you have two

00:20:43,679 --> 00:20:47,849
packages installed on your box you need

00:20:45,089 --> 00:20:49,859
PKI tools and p.i base

00:20:47,849 --> 00:20:53,789
this is going to provide you with the

00:20:49,859 --> 00:20:55,859
command-line utility and the the Python

00:20:53,789 --> 00:20:57,869
libraries the libraries that you're

00:20:55,859 --> 00:21:02,940
going to need to be able to write you're

00:20:57,869 --> 00:21:05,339
right your api's your scripts right and

00:21:02,940 --> 00:21:07,379
I believe you can also write write

00:21:05,339 --> 00:21:11,099
scripts to leverage the API using Java

00:21:07,379 --> 00:21:12,599
as well but again I'm more familiar with

00:21:11,099 --> 00:21:14,729
Python so everything you're going to see

00:21:12,599 --> 00:21:18,509
is Python so you know please bear with

00:21:14,729 --> 00:21:22,049
me yeah you know so but you know

00:21:18,509 --> 00:21:24,029
whatever works for you right so an

00:21:22,049 --> 00:21:26,700
example here is you know because I do

00:21:24,029 --> 00:21:29,039
client I do client based authentication

00:21:26,700 --> 00:21:32,399
I import the certificate into an NSS

00:21:29,039 --> 00:21:34,200
database like SCP it over from the dog

00:21:32,399 --> 00:21:37,859
tag server to my local box and then I do

00:21:34,200 --> 00:21:44,190
piqué piqué 12 util to install that P 12

00:21:37,859 --> 00:21:46,950
into the NSS database so does anybody

00:21:44,190 --> 00:21:49,769
have any questions on that I mean it's

00:21:46,950 --> 00:21:51,269
it's literally two commands it should be

00:21:49,769 --> 00:21:54,149
pretty quick and pretty straightforward

00:21:51,269 --> 00:21:55,289
but you know there's other ways that you

00:21:54,149 --> 00:21:57,979
can go about you know getting your

00:21:55,289 --> 00:22:00,659
search to where you can use them so

00:21:57,979 --> 00:22:02,580
first contact establish your connection

00:22:00,659 --> 00:22:04,529
this is the first step in any anything

00:22:02,580 --> 00:22:08,099
are you going to do with the CLI or your

00:22:04,529 --> 00:22:12,179
your API right so from the command line

00:22:08,099 --> 00:22:13,720
you're going to do PKI which is the base

00:22:12,179 --> 00:22:15,520
command right

00:22:13,720 --> 00:22:17,080
and you're gonna point it again in my

00:22:15,520 --> 00:22:19,030
examples I use clients that there is

00:22:17,080 --> 00:22:21,280
certificate certificate authentication

00:22:19,030 --> 00:22:24,610
so I passed that a - D pointed to where

00:22:21,280 --> 00:22:27,280
the NSS database is - see that's a

00:22:24,610 --> 00:22:29,050
password you there - other options here

00:22:27,280 --> 00:22:31,360
where you can have it either prompt you

00:22:29,050 --> 00:22:34,390
for the password or you can point it to

00:22:31,360 --> 00:22:36,700
a file that contains the password so if

00:22:34,390 --> 00:22:38,950
you're concerned about having your

00:22:36,700 --> 00:22:41,770
password in your command history you

00:22:38,950 --> 00:22:44,290
could there are options there right and

00:22:41,770 --> 00:22:46,360
that that password is just to unlock the

00:22:44,290 --> 00:22:48,310
NSS database so if you do if you don't

00:22:46,360 --> 00:22:51,790
have a password on your NSS database

00:22:48,310 --> 00:22:57,550
then I don't believe that the - C is

00:22:51,790 --> 00:23:00,130
required - n is the the certificate

00:22:57,550 --> 00:23:02,050
nickname as it's referenced in the NSS

00:23:00,130 --> 00:23:03,100
database so when it opens up the NSS

00:23:02,050 --> 00:23:05,140
database it needs to know what to look

00:23:03,100 --> 00:23:07,150
for so you're gonna pass it that

00:23:05,140 --> 00:23:08,500
nickname and - H for host so you're

00:23:07,150 --> 00:23:11,710
gonna point it to what host you want to

00:23:08,500 --> 00:23:13,600
access right so usually it's going to be

00:23:11,710 --> 00:23:15,550
you know whatever the host name is fully

00:23:13,600 --> 00:23:17,080
qualified domain name or you like if

00:23:15,550 --> 00:23:21,190
you're doing it on the server you should

00:23:17,080 --> 00:23:22,320
be able to do local host as well any

00:23:21,190 --> 00:23:27,820
questions on that

00:23:22,320 --> 00:23:29,830
alright and the the API example here can

00:23:27,820 --> 00:23:32,730
you guys read that all right awesome

00:23:29,830 --> 00:23:36,790
alright so essentially you're just

00:23:32,730 --> 00:23:39,160
creating a connection object and you're

00:23:36,790 --> 00:23:41,350
using the PKI dot client that PKI

00:23:39,160 --> 00:23:43,630
connection you're saying it's an HTTP

00:23:41,350 --> 00:23:47,410
connection to whatever the host name is

00:23:43,630 --> 00:23:50,950
on port 80 443 and you want to you're

00:23:47,410 --> 00:23:53,740
using the subsystem of CA and then you

00:23:50,950 --> 00:23:56,260
are authenticating so you're set you're

00:23:53,740 --> 00:23:58,000
setting the authentication cert to say

00:23:56,260 --> 00:24:00,520
whenever what whenever I try and do an

00:23:58,000 --> 00:24:04,780
option operation from here from

00:24:00,520 --> 00:24:07,210
henceforth use this use that sort that

00:24:04,780 --> 00:24:10,420
dot PEM file you you create you created

00:24:07,210 --> 00:24:11,800
earlier if you were to do that I did not

00:24:10,420 --> 00:24:15,670
put the instructions on how to create a

00:24:11,800 --> 00:24:17,650
PEM file from a p12 file but it's pretty

00:24:15,670 --> 00:24:22,300
pretty well-documented out there you

00:24:17,650 --> 00:24:25,870
know so so now what right so you perform

00:24:22,300 --> 00:24:27,280
all the operations so again you can do

00:24:25,870 --> 00:24:29,320
just about anything you do

00:24:27,280 --> 00:24:32,050
from the web UI in the command line or

00:24:29,320 --> 00:24:33,820
the API and and that's what that's what

00:24:32,050 --> 00:24:35,350
makes it really powerful because you can

00:24:33,820 --> 00:24:38,050
start to automate these things you can

00:24:35,350 --> 00:24:41,350
start folding these in as part of your

00:24:38,050 --> 00:24:44,260
your your business workflow write your

00:24:41,350 --> 00:24:45,970
business logic so you know if you're

00:24:44,260 --> 00:24:47,350
provisioning users you can have

00:24:45,970 --> 00:24:49,770
something kick off an automated script

00:24:47,350 --> 00:24:52,810
that would auto and roll you know a

00:24:49,770 --> 00:24:54,190
certificate for the user or key pairs

00:24:52,810 --> 00:24:56,110
you know if you wanted to you know

00:24:54,190 --> 00:24:58,890
provision as this H Keys using this tool

00:24:56,110 --> 00:24:58,890
as well right

00:24:59,470 --> 00:25:05,200
if it can be done on the CLI it can also

00:25:02,080 --> 00:25:07,360
be done with the API I was doing a

00:25:05,200 --> 00:25:09,280
little bit of extra tinkering this

00:25:07,360 --> 00:25:11,680
morning and I may be mistaken in that

00:25:09,280 --> 00:25:12,940
but it's only because the API is fairly

00:25:11,680 --> 00:25:14,670
new and I think that there's some

00:25:12,940 --> 00:25:18,010
functionality that hasn't yet been

00:25:14,670 --> 00:25:19,930
ported to the API I think like some of

00:25:18,010 --> 00:25:22,410
the user and group management

00:25:19,930 --> 00:25:25,030
functionality isn't in the API yet but

00:25:22,410 --> 00:25:29,650
your primary functions of your C a and K

00:25:25,030 --> 00:25:32,020
are a are in the API so take a look at

00:25:29,650 --> 00:25:37,540
that and today you know again will

00:25:32,020 --> 00:25:41,020
mostly focus on CI operations so and

00:25:37,540 --> 00:25:42,780
again I don't know what happened here so

00:25:41,020 --> 00:25:44,590
some examples I'm going to go over today

00:25:42,780 --> 00:25:46,420
you know we're going to query

00:25:44,590 --> 00:25:47,710
certificate profiles we're going to

00:25:46,420 --> 00:25:52,540
enroll certificates and we're going to

00:25:47,710 --> 00:25:55,680
revoke certificates so profiles know

00:25:52,540 --> 00:26:01,690
your profiles okay I've been using this

00:25:55,680 --> 00:26:04,690
this example lately right for profiles

00:26:01,690 --> 00:26:07,600
it and you know who here is looking into

00:26:04,690 --> 00:26:09,280
or currently actively using something

00:26:07,600 --> 00:26:11,470
along the lines of DevOps and I'm going

00:26:09,280 --> 00:26:14,410
to jazz hands for DevOps because I got

00:26:11,470 --> 00:26:16,030
to do jazz hands right so those of you

00:26:14,410 --> 00:26:17,530
who aren't familiar with DevOps it's you

00:26:16,030 --> 00:26:20,260
know it's really boil it down and do it

00:26:17,530 --> 00:26:23,230
no justice at all it's essentially you

00:26:20,260 --> 00:26:24,960
know computing on demand and it's it's

00:26:23,230 --> 00:26:27,190
putting a lot of power back into like a

00:26:24,960 --> 00:26:29,020
developers hands you know you're taking

00:26:27,190 --> 00:26:31,120
operations out of the mix and a lot of a

00:26:29,020 --> 00:26:32,740
lot of these cases like if you you have

00:26:31,120 --> 00:26:34,930
developers working on a project and they

00:26:32,740 --> 00:26:36,880
need to rapid deploy test systems right

00:26:34,930 --> 00:26:37,990
you know historically speaking either

00:26:36,880 --> 00:26:40,990
you've given them the keys to the

00:26:37,990 --> 00:26:42,429
kingdom or you've had to in

00:26:40,990 --> 00:26:44,440
gage operations and it's like three

00:26:42,429 --> 00:26:46,480
weeks later you finally have a VM that

00:26:44,440 --> 00:26:49,660
the developers really only need for a

00:26:46,480 --> 00:26:51,610
week right so now with with various

00:26:49,660 --> 00:26:53,800
other tooling developers can have access

00:26:51,610 --> 00:26:55,480
to you know the ability to just click a

00:26:53,800 --> 00:26:56,950
button and the lam they've got an

00:26:55,480 --> 00:26:59,020
instant set up and that instance is only

00:26:56,950 --> 00:27:00,850
gonna live for a week right well let's

00:26:59,020 --> 00:27:02,410
say they're working on a new project and

00:27:00,850 --> 00:27:04,960
they need to get some certificates

00:27:02,410 --> 00:27:08,920
issued for whatever secure connections

00:27:04,960 --> 00:27:11,170
that they've got going on right you can

00:27:08,920 --> 00:27:13,870
set up custom certificate profiles for

00:27:11,170 --> 00:27:15,700
those developers that say well okay this

00:27:13,870 --> 00:27:17,800
certificate is only is gonna have a

00:27:15,700 --> 00:27:19,440
start date of whatever today's date is

00:27:17,800 --> 00:27:24,220
and it's going to have an end date of

00:27:19,440 --> 00:27:26,620
seven days from today right so now when

00:27:24,220 --> 00:27:28,330
they're done doing their testing you

00:27:26,620 --> 00:27:30,370
don't have to revoke a cert and have it

00:27:28,330 --> 00:27:33,370
sit on your CRO for two years or three

00:27:30,370 --> 00:27:35,650
years or whatever your default you know

00:27:33,370 --> 00:27:38,620
lifespan is for a certificate they will

00:27:35,650 --> 00:27:43,000
expire and drop off the CRL if you had

00:27:38,620 --> 00:27:45,850
to revoke it prior to its expiry date so

00:27:43,000 --> 00:27:47,590
this helps keep your crl clean and it

00:27:45,850 --> 00:27:50,260
helps you keep it helps keep it

00:27:47,590 --> 00:27:52,960
efficient right and there's really no

00:27:50,260 --> 00:27:55,690
limit to the amount of profiles you can

00:27:52,960 --> 00:27:56,620
you can generate and to give you a

00:27:55,690 --> 00:27:58,059
little bit of a little bit more

00:27:56,620 --> 00:28:01,630
information on profiles because I think

00:27:58,059 --> 00:28:04,059
this is very important is a profile

00:28:01,630 --> 00:28:06,400
consists of all of the information you

00:28:04,059 --> 00:28:09,100
need to provide for that certificate to

00:28:06,400 --> 00:28:10,750
do what it needs to do so like for an

00:28:09,100 --> 00:28:13,450
identity cert for instance you're going

00:28:10,750 --> 00:28:15,160
to have a CN you know your your

00:28:13,450 --> 00:28:19,000
canonical name which is going to consist

00:28:15,160 --> 00:28:22,540
of the s in the oh the the object the

00:28:19,000 --> 00:28:23,679
OU's right the you know all of all of

00:28:22,540 --> 00:28:25,960
that information to make that

00:28:23,679 --> 00:28:28,809
certificate identifiable to you and then

00:28:25,960 --> 00:28:30,850
what can this sort do you know is is it

00:28:28,809 --> 00:28:32,620
used for non-repudiation it's used for

00:28:30,850 --> 00:28:34,780
encryptions and use for signing you know

00:28:32,620 --> 00:28:38,890
well you know what kind of keys are we

00:28:34,780 --> 00:28:40,030
gonna use for this right so that all of

00:28:38,890 --> 00:28:42,010
that information is stored in that

00:28:40,030 --> 00:28:43,900
certificate profile so if you have a ton

00:28:42,010 --> 00:28:45,610
of different use cases you can have a

00:28:43,900 --> 00:28:48,130
ton of different profiles and use those

00:28:45,610 --> 00:28:50,559
profiles to your advantage so you're not

00:28:48,130 --> 00:28:52,720
generating just these kind of standard

00:28:50,559 --> 00:28:54,820
certs and shoehorning them into into use

00:28:52,720 --> 00:28:56,860
cases that they not really

00:28:54,820 --> 00:28:59,799
suited for you can really tailor that

00:28:56,860 --> 00:29:01,559
right somebody have any questions on

00:28:59,799 --> 00:29:04,690
that awesome

00:29:01,559 --> 00:29:06,820
so and and you know what can you do with

00:29:04,690 --> 00:29:09,279
profiles through the API and the CLI

00:29:06,820 --> 00:29:10,899
well you can find profiles you can show

00:29:09,279 --> 00:29:13,840
profiles you can show the details of a

00:29:10,899 --> 00:29:15,309
profile you can add a profile you can

00:29:13,840 --> 00:29:17,649
modify a profile you can delete a

00:29:15,309 --> 00:29:20,440
profile you can enable profile you can

00:29:17,649 --> 00:29:23,320
disable the profile right and and this

00:29:20,440 --> 00:29:25,330
again this helps you with your with that

00:29:23,320 --> 00:29:28,240
workflow right it makes it pretty easy

00:29:25,330 --> 00:29:32,049
to go in and say oh hey you know on the

00:29:28,240 --> 00:29:35,080
fly I want to copy this profile modify

00:29:32,049 --> 00:29:36,309
it and then re-add it as a different you

00:29:35,080 --> 00:29:38,019
know with a different profile name

00:29:36,309 --> 00:29:40,990
because I have a slightly different use

00:29:38,019 --> 00:29:42,429
case right so so it makes it it makes it

00:29:40,990 --> 00:29:44,259
a little bit easier to programmatically

00:29:42,429 --> 00:29:47,379
get that done instead of having to

00:29:44,259 --> 00:29:52,870
either go all the profiles are kept in a

00:29:47,379 --> 00:29:54,610
dot CFG file by the way in dog tag but

00:29:52,870 --> 00:29:57,940
instead of having to go in and manually

00:29:54,610 --> 00:30:01,659
modify those profile configuration files

00:29:57,940 --> 00:30:03,100
or go through the web interface and and

00:30:01,659 --> 00:30:06,279
go in okay let me try and get this done

00:30:03,100 --> 00:30:08,740
through this you can create a script or

00:30:06,279 --> 00:30:11,049
your own kind of interface for your for

00:30:08,740 --> 00:30:15,750
your admins to quickly and easily go in

00:30:11,049 --> 00:30:18,759
and make that make these changes so a

00:30:15,750 --> 00:30:20,080
quick example here you know I'm just I'm

00:30:18,759 --> 00:30:23,259
just throwing an example up here on how

00:30:20,080 --> 00:30:25,779
to show show profile so again you see

00:30:23,259 --> 00:30:28,269
it's kind of busy I know I apologize but

00:30:25,779 --> 00:30:30,009
you know again you I'm saying PKI dash D

00:30:28,269 --> 00:30:32,379
pointing it to the NSS database giving

00:30:30,009 --> 00:30:34,600
you the password unlock database telling

00:30:32,379 --> 00:30:37,149
telling it which certain make I want to

00:30:34,600 --> 00:30:38,919
use for the authentication and then I do

00:30:37,149 --> 00:30:40,779
a see a profile show and give it a

00:30:38,919 --> 00:30:41,440
profile ID what that's going to do is

00:30:40,779 --> 00:30:43,539
that's going to show me all the

00:30:41,440 --> 00:30:45,879
information in that in that profile that

00:30:43,539 --> 00:30:47,830
certificate profile right so if you were

00:30:45,879 --> 00:30:50,679
curious about hey you know what is this

00:30:47,830 --> 00:30:52,960
what is this profile do and again you

00:30:50,679 --> 00:30:54,730
can wrap your own you know wrapper

00:30:52,960 --> 00:30:56,049
around the sea lion again this is where

00:30:54,730 --> 00:30:58,149
it becomes flexible right because you

00:30:56,049 --> 00:30:59,799
can just say I'm gonna pass these three

00:30:58,149 --> 00:31:01,360
you know command line options to the

00:30:59,799 --> 00:31:03,610
shell script and then the shell script

00:31:01,360 --> 00:31:04,929
is going to kick this off with what

00:31:03,610 --> 00:31:08,650
you're looking for what you're trying to

00:31:04,929 --> 00:31:11,100
accomplish right and from the eight

00:31:08,650 --> 00:31:14,020
yeah it's just about as easy right so

00:31:11,100 --> 00:31:16,870
you're setting up the connection and

00:31:14,020 --> 00:31:19,000
then you just set your see a profile

00:31:16,870 --> 00:31:21,430
equals you know client underscore

00:31:19,000 --> 00:31:24,460
profile dot get underscore profile and

00:31:21,430 --> 00:31:26,680
then you pass it your profile ID in this

00:31:24,460 --> 00:31:33,120
case I used see a user search so it's

00:31:26,680 --> 00:31:35,740
going to give me what that profile is so

00:31:33,120 --> 00:31:36,820
the next the next piece that you're

00:31:35,740 --> 00:31:38,710
going to want to know how to do is

00:31:36,820 --> 00:31:40,360
certificate management and the reason

00:31:38,710 --> 00:31:41,500
why I do profiles first is because it

00:31:40,360 --> 00:31:44,440
directly affects your certificate

00:31:41,500 --> 00:31:47,200
management because when you go to enroll

00:31:44,440 --> 00:31:49,600
a cert you want to give it a profile

00:31:47,200 --> 00:31:51,970
that is going to be used to generate the

00:31:49,600 --> 00:31:54,040
serve some of the options you have

00:31:51,970 --> 00:31:55,420
available here these are all these are

00:31:54,040 --> 00:31:58,570
all pulled directly from the man page

00:31:55,420 --> 00:32:03,400
for the CLI so it's the man pages are

00:31:58,570 --> 00:32:05,740
awesome great sources of information so

00:32:03,400 --> 00:32:08,500
you know something you can you can find

00:32:05,740 --> 00:32:09,730
a certificate so if you want if you want

00:32:08,500 --> 00:32:11,230
to search for sort of give by serial

00:32:09,730 --> 00:32:13,570
number it'll it'll thump that out for

00:32:11,230 --> 00:32:14,920
you you could show the certificate which

00:32:13,570 --> 00:32:17,200
will give you some of the data on that

00:32:14,920 --> 00:32:18,580
certificate you can revoke a certificate

00:32:17,200 --> 00:32:23,730
you can put a certificate on hold you

00:32:18,580 --> 00:32:26,800
can release that hold you can you know

00:32:23,730 --> 00:32:28,870
request profile show which is you're

00:32:26,800 --> 00:32:30,280
going to show those show those profiles

00:32:28,870 --> 00:32:32,230
and I showed that earlier because it's

00:32:30,280 --> 00:32:36,780
the same same command line the profile

00:32:32,230 --> 00:32:38,980
fine and you can you know request a

00:32:36,780 --> 00:32:40,930
request submit which is an enrollment

00:32:38,980 --> 00:32:43,180
request and then you can do a request

00:32:40,930 --> 00:32:45,970
review which is you're reviewing that

00:32:43,180 --> 00:32:48,100
request and then you can also accept

00:32:45,970 --> 00:32:52,270
that that request or you can reject that

00:32:48,100 --> 00:32:55,060
request so here's how you do it on the

00:32:52,270 --> 00:32:57,880
command line right so again you're

00:32:55,060 --> 00:32:59,680
passing it the dash d option pointing at

00:32:57,880 --> 00:33:02,620
the NSS database the password to unlock

00:32:59,680 --> 00:33:05,980
the in as database you're passing it the

00:33:02,620 --> 00:33:06,970
client certificate Nick and then just

00:33:05,980 --> 00:33:10,540
pointing it to the host and you're

00:33:06,970 --> 00:33:13,210
saying hey I want to request request the

00:33:10,540 --> 00:33:17,590
cert and you're going to pass it an XML

00:33:13,210 --> 00:33:19,090
file and you know again in hindsight I

00:33:17,590 --> 00:33:21,070
probably should have put an excerpt of

00:33:19,090 --> 00:33:22,780
that work of that request that XML file

00:33:21,070 --> 00:33:25,150
because what it is is it

00:33:22,780 --> 00:33:27,730
contained all of the information that

00:33:25,150 --> 00:33:30,270
gets pulled from the profile plus the

00:33:27,730 --> 00:33:34,000
information on the user that you want to

00:33:30,270 --> 00:33:35,710
submit the enrollment request for and

00:33:34,000 --> 00:33:40,380
it's going to use that XML file parse

00:33:35,710 --> 00:33:42,790
that out for to create the that request

00:33:40,380 --> 00:33:43,930
and then you're gonna go ahead and once

00:33:42,790 --> 00:33:45,430
that's done you're going to review that

00:33:43,930 --> 00:33:50,020
request and you're going to accept or

00:33:45,430 --> 00:33:52,510
reject that request so from from the API

00:33:50,020 --> 00:33:54,940
you know again you're going to do a

00:33:52,510 --> 00:33:57,340
certain role in certain Ruhlman requests

00:33:54,940 --> 00:33:58,860
you're going to create the you're going

00:33:57,340 --> 00:34:01,780
to create the element for the request

00:33:58,860 --> 00:34:03,190
see a user sir that's the profile ID so

00:34:01,780 --> 00:34:06,280
I'm going to I want to create search

00:34:03,190 --> 00:34:08,320
based on this based on this profile and

00:34:06,280 --> 00:34:11,860
then you're gonna give it some inputs

00:34:08,320 --> 00:34:13,480
get into the inputs in a second and then

00:34:11,860 --> 00:34:17,169
you're gonna validate the enrollment

00:34:13,480 --> 00:34:19,090
request and what this does is this is

00:34:17,169 --> 00:34:21,669
going to return that CSR you're going to

00:34:19,090 --> 00:34:23,679
validate it make sure it's okay and then

00:34:21,669 --> 00:34:25,810
you're going to submit the request back

00:34:23,679 --> 00:34:28,090
to the CA and then it'll either be

00:34:25,810 --> 00:34:31,300
sitting in there as a request waiting to

00:34:28,090 --> 00:34:32,860
be accepted or it's going to auto accept

00:34:31,300 --> 00:34:41,290
depending on how you have your profile

00:34:32,860 --> 00:34:42,370
set up and so yeah so the inputs I

00:34:41,290 --> 00:34:45,460
thought I had another slide on this but

00:34:42,370 --> 00:34:49,120
I had it in my notes so the inputs for

00:34:45,460 --> 00:34:52,000
the certificate certificate enrollment

00:34:49,120 --> 00:34:53,860
request are things like your SN in your

00:34:52,000 --> 00:34:55,240
own euro you and things like that that

00:34:53,860 --> 00:34:58,060
are gonna that are going to make that

00:34:55,240 --> 00:35:01,270
that certificate identifiable all right

00:34:58,060 --> 00:35:04,780
- what whomever or whatever your you're

00:35:01,270 --> 00:35:09,520
generating it for because these can be

00:35:04,780 --> 00:35:12,430
for users it can be for systems it can

00:35:09,520 --> 00:35:13,900
be for services I mean you know whatever

00:35:12,430 --> 00:35:15,040
whatever you need a certificate for

00:35:13,900 --> 00:35:20,440
you're gonna you're gonna have a profile

00:35:15,040 --> 00:35:24,880
for that so here's a quick revocation

00:35:20,440 --> 00:35:28,360
example for the CLI you know again we're

00:35:24,880 --> 00:35:30,760
going to pass it all of the requisite

00:35:28,360 --> 00:35:34,330
authentication credentials we're going

00:35:30,760 --> 00:35:36,510
to point it to the host that were we're

00:35:34,330 --> 00:35:38,880
trying to ping against

00:35:36,510 --> 00:35:40,770
and we're gonna say this serial number

00:35:38,880 --> 00:35:41,760
so you're obviously going to know the

00:35:40,770 --> 00:35:43,950
serial number that you're gonna want to

00:35:41,760 --> 00:35:46,350
revoke you're going to give it some

00:35:43,950 --> 00:35:48,960
comment say this is why I'm revoking it

00:35:46,350 --> 00:35:51,210
you know or whatever your business

00:35:48,960 --> 00:35:53,880
process requires I don't believe a

00:35:51,210 --> 00:35:57,450
comment is required in this process but

00:35:53,880 --> 00:35:59,490
I I personally believe you want to put a

00:35:57,450 --> 00:36:01,740
comment in there just to add extra color

00:35:59,490 --> 00:36:03,750
in context as to why this certificates

00:36:01,740 --> 00:36:05,670
being revoked because again when you

00:36:03,750 --> 00:36:08,520
want to go back through your auditing

00:36:05,670 --> 00:36:10,350
process right you want to know why

00:36:08,520 --> 00:36:11,670
things were done you want to know when

00:36:10,350 --> 00:36:14,190
things were done how things were done

00:36:11,670 --> 00:36:16,500
right who did it right and then you're

00:36:14,190 --> 00:36:18,780
going to give the - - reason and if you

00:36:16,500 --> 00:36:20,460
go back if I were to go back to the

00:36:18,780 --> 00:36:23,130
original slides when I showed you the

00:36:20,460 --> 00:36:25,440
the GUI interface you know the web-based

00:36:23,130 --> 00:36:26,550
interface that would be you know what

00:36:25,440 --> 00:36:29,130
you'd click one of those radio buttons

00:36:26,550 --> 00:36:32,190
it's setting that that reason code right

00:36:29,130 --> 00:36:33,720
there so you can start as you start

00:36:32,190 --> 00:36:35,280
tinkering with it with the command line

00:36:33,720 --> 00:36:37,920
and you start tinkering with the API you

00:36:35,280 --> 00:36:40,230
can see oh you know in the in the UI

00:36:37,920 --> 00:36:42,930
this is what I'm doing here this is the

00:36:40,230 --> 00:36:44,430
the this is the this is what this is how

00:36:42,930 --> 00:36:47,130
it's done in the API in the command line

00:36:44,430 --> 00:36:49,440
all right as much of the terminology is

00:36:47,130 --> 00:36:50,880
the same so and that's another that's

00:36:49,440 --> 00:36:52,530
another way you know if you're curious

00:36:50,880 --> 00:36:53,760
about how to do something using the

00:36:52,530 --> 00:36:57,960
command line or you're curious about how

00:36:53,760 --> 00:36:59,880
to do something through the API take a

00:36:57,960 --> 00:37:02,040
quick spin through the through the GUI

00:36:59,880 --> 00:37:04,500
write it perform the operation you want

00:37:02,040 --> 00:37:05,820
to perform in the API and say okay you

00:37:04,500 --> 00:37:08,310
know let me let me go back through and

00:37:05,820 --> 00:37:10,950
try and mimic that in the API and you'll

00:37:08,310 --> 00:37:16,320
find that you know it's pretty pretty

00:37:10,950 --> 00:37:18,030
analogous so you know again you know

00:37:16,320 --> 00:37:19,890
some available reason codes for this are

00:37:18,030 --> 00:37:22,020
you know key compromise or the CAS

00:37:19,890 --> 00:37:23,760
compromise right you know the heaven

00:37:22,020 --> 00:37:27,240
forbid your ca gets compromised you have

00:37:23,760 --> 00:37:29,040
to revoke a lot of certificates right

00:37:27,240 --> 00:37:32,190
and this is why we give you the option

00:37:29,040 --> 00:37:36,630
to revoke a chunk of certificates at any

00:37:32,190 --> 00:37:41,850
given point in time so and here's here's

00:37:36,630 --> 00:37:44,880
an example of a quick revocation on you

00:37:41,850 --> 00:37:46,920
know using the API so you know you've

00:37:44,880 --> 00:37:48,150
got the PKI client PKI connection you

00:37:46,920 --> 00:37:50,400
know you're establishing your secure

00:37:48,150 --> 00:37:52,170
secure connection back to the server

00:37:50,400 --> 00:37:54,089
and then you're passing it the

00:37:52,170 --> 00:37:56,119
certificate ID which would be the serial

00:37:54,089 --> 00:37:59,490
number and then you're giving it a

00:37:56,119 --> 00:38:01,349
revocation reason this time I just said

00:37:59,490 --> 00:38:03,359
unspecified but you have you know your

00:38:01,349 --> 00:38:04,740
other options available to you

00:38:03,359 --> 00:38:06,809
and then you're passing it a comment

00:38:04,740 --> 00:38:09,750
right and then it's going to it's

00:38:06,809 --> 00:38:12,750
going to create a a post back to the

00:38:09,750 --> 00:38:17,099
back to the web server and get that

00:38:12,750 --> 00:38:18,839
revocation done I feel like I've really

00:38:17,099 --> 00:38:21,319
turned it burn through that pretty

00:38:18,839 --> 00:38:22,859
quickly how much time do I have left

00:38:21,319 --> 00:38:25,319
twenty minutes

00:38:22,859 --> 00:38:29,549
oh man alive I thought I had more

00:38:25,319 --> 00:38:32,279
material than this I I apologize I did

00:38:29,549 --> 00:38:34,079
talk pretty quickly too so yeah I

00:38:32,279 --> 00:38:36,480
apologize for that

00:38:34,079 --> 00:38:38,910
so some resources you know if you wanted

00:38:36,480 --> 00:38:40,170
to a little bit more research PK I doubt

00:38:38,910 --> 00:38:44,789
Fedora project org

00:38:40,170 --> 00:38:46,980
that's where dog tag lives mailing lists

00:38:44,789 --> 00:38:50,069
p ki users at redhead calm and p ki

00:38:46,980 --> 00:38:52,289
announce that redhead calm you know i

00:38:50,069 --> 00:38:53,970
troll p ki users quite a bit you know

00:38:52,289 --> 00:38:57,240
trying to answer questions when they

00:38:53,970 --> 00:38:59,339
crop up not troll as and hahahaha you

00:38:57,240 --> 00:39:02,640
know i'm not i'm not punking on people

00:38:59,339 --> 00:39:06,270
in there right so those are great

00:39:02,640 --> 00:39:08,670
resources you know there's a link here

00:39:06,270 --> 00:39:11,430
as well you can actually read it pretty

00:39:08,670 --> 00:39:13,170
well up here fantastic that's that's a

00:39:11,430 --> 00:39:15,270
link to the current implementation of

00:39:13,170 --> 00:39:18,180
the api so if you want to go through and

00:39:15,270 --> 00:39:20,760
it's pretty well done because it

00:39:18,180 --> 00:39:23,329
associates what you're doing the api

00:39:20,760 --> 00:39:25,680
with what's going on on the back end

00:39:23,329 --> 00:39:28,109
because the subsystems are all they're

00:39:25,680 --> 00:39:32,339
all java based they all run on Tomcat

00:39:28,109 --> 00:39:35,089
and I know it's right I mean it's it

00:39:32,339 --> 00:39:39,150
right tool for the right job right and

00:39:35,089 --> 00:39:41,660
but and and each one of these operations

00:39:39,150 --> 00:39:43,950
has its own servlet on the back end and

00:39:41,660 --> 00:39:45,240
everything that you're doing from the

00:39:43,950 --> 00:39:47,730
CLI everything that you're doing from

00:39:45,240 --> 00:39:50,490
the API is essentially generating either

00:39:47,730 --> 00:39:53,069
a put or a get back to the web server

00:39:50,490 --> 00:39:54,660
back to those servlets and providing

00:39:53,069 --> 00:39:58,190
that information back to it so it does

00:39:54,660 --> 00:39:58,190
it's processing on the backend

00:39:58,870 --> 00:40:04,000
so that's a great place to look and and

00:40:01,330 --> 00:40:05,530
and take take a look through to get a

00:40:04,000 --> 00:40:08,700
little bit more familiar with how things

00:40:05,530 --> 00:40:12,610
are working because also you know again

00:40:08,700 --> 00:40:16,780
speaking very personally it I want to

00:40:12,610 --> 00:40:18,270
know why things are happening I want to

00:40:16,780 --> 00:40:21,190
know how they're happening and

00:40:18,270 --> 00:40:23,260
understanding how the API and

00:40:21,190 --> 00:40:27,040
understanding how the CLI interfaces

00:40:23,260 --> 00:40:30,100
with this servlet on the backend is very

00:40:27,040 --> 00:40:32,920
important to understanding what you need

00:40:30,100 --> 00:40:35,760
to do to better manage and and better

00:40:32,920 --> 00:40:39,250
facilitate your PKI environment right

00:40:35,760 --> 00:40:41,140
because it can get messy in a hurry if

00:40:39,250 --> 00:40:44,980
you don't know what you're doing right

00:40:41,140 --> 00:40:47,140
and yet see I again I see some I see

00:40:44,980 --> 00:40:51,520
some nodding heads right you know

00:40:47,140 --> 00:40:55,330
everybody's seen PKI done and this and

00:40:51,520 --> 00:40:57,600
this very much helps you it gives you

00:40:55,330 --> 00:41:02,530
the tools it gives you the tools to

00:40:57,600 --> 00:41:06,570
hopefully do it well so some other some

00:41:02,530 --> 00:41:09,220
other resources here again free IPA org

00:41:06,570 --> 00:41:13,380
that's a great place to a great place to

00:41:09,220 --> 00:41:17,830
look again because the CA and KRA are

00:41:13,380 --> 00:41:20,350
incorporated into free IPA you know so

00:41:17,830 --> 00:41:22,870
if you're interested in that free IPA is

00:41:20,350 --> 00:41:25,150
actually a bit more of a feature full

00:41:22,870 --> 00:41:27,940
identity management suite right you're

00:41:25,150 --> 00:41:29,860
managing users and groups and and your

00:41:27,940 --> 00:41:31,690
your certificates and everything

00:41:29,860 --> 00:41:32,890
everything all under one all under one

00:41:31,690 --> 00:41:37,150
umbrella it's got its got its own

00:41:32,890 --> 00:41:40,270
Kerberos domain Kerberos realm you can

00:41:37,150 --> 00:41:42,700
manage your own DNS zones in it as well

00:41:40,270 --> 00:41:44,440
and if you're feeling particularly

00:41:42,700 --> 00:41:46,240
feisty you can set up cross realm to

00:41:44,440 --> 00:41:47,770
manage for us it's back to ad if you

00:41:46,240 --> 00:41:50,440
don't want to manage to separate you

00:41:47,770 --> 00:41:52,930
know sets of users and groups which is

00:41:50,440 --> 00:41:54,370
pretty helpful but again you know that's

00:41:52,930 --> 00:41:57,730
that's that's a great place to go look

00:41:54,370 --> 00:42:01,900
for information and the last one I have

00:41:57,730 --> 00:42:07,120
on there is for directory or project org

00:42:01,900 --> 00:42:09,820
that's where 389 des is located and I

00:42:07,120 --> 00:42:12,880
put that up there because dogtag uses

00:42:09,820 --> 00:42:16,390
389 TS as its back-end database

00:42:12,880 --> 00:42:19,600
so everything you do in dog tag and same

00:42:16,390 --> 00:42:23,170
thing goes for free IPA is stored in an

00:42:19,600 --> 00:42:27,310
LDAP database and that is fronted by 380

00:42:23,170 --> 00:42:29,200
90s so you know if you have any question

00:42:27,310 --> 00:42:31,000
if you're trying to implement this and

00:42:29,200 --> 00:42:32,080
you're having problems with the

00:42:31,000 --> 00:42:34,180
directory server if you're having

00:42:32,080 --> 00:42:37,870
problems with lvl tap functionality of

00:42:34,180 --> 00:42:41,560
it go to three is go to 380 90s right go

00:42:37,870 --> 00:42:44,710
to 389 - users at redhead comm ask

00:42:41,560 --> 00:42:48,100
questions because that's where I mean

00:42:44,710 --> 00:42:51,970
you'll still get answers in PKI - users

00:42:48,100 --> 00:42:54,280
but more people who are more familiar

00:42:51,970 --> 00:42:57,580
with the directory side of things will

00:42:54,280 --> 00:42:59,260
be hanging out in 389 so just more

00:42:57,580 --> 00:43:01,330
resources to be able to get answers

00:42:59,260 --> 00:43:02,830
right I don't want to limit you I want

00:43:01,330 --> 00:43:08,710
to give you as much information and much

00:43:02,830 --> 00:43:12,730
as much resources as I possibly can so

00:43:08,710 --> 00:43:17,020
yeah again I apologize that was that was

00:43:12,730 --> 00:43:18,970
really quick and if you didn't catch it

00:43:17,020 --> 00:43:21,670
at the beginning of the slides again my

00:43:18,970 --> 00:43:23,560
name is Dave serine and it's DISA Ryan

00:43:21,670 --> 00:43:25,570
at Red Hat comm and you can follow me on

00:43:23,560 --> 00:43:27,880
Twitter at DISA Ryan because I'm

00:43:25,570 --> 00:43:31,570
horribly imaginative when it comes to

00:43:27,880 --> 00:43:33,520
nicknames and handles oh one other

00:43:31,570 --> 00:43:35,980
resource that I forgot to put on here if

00:43:33,520 --> 00:43:40,510
you are on IRC and you hang out in

00:43:35,980 --> 00:43:46,270
freenode there is pound PKI and pound

00:43:40,510 --> 00:43:49,570
389 and pound free IPA we all hang out

00:43:46,270 --> 00:43:53,920
in there as well oh it's dog tag - IPA

00:43:49,570 --> 00:43:59,710
oh I appreciate it thank you so dog tag

00:43:53,920 --> 00:44:04,090
desh PKI is the is the free no channel

00:43:59,710 --> 00:44:06,280
for that so yet another resource users

00:44:04,090 --> 00:44:08,290
hang out in their developers hang out in

00:44:06,280 --> 00:44:09,700
their people like me you have nothing

00:44:08,290 --> 00:44:12,910
better to do with my time than to answer

00:44:09,700 --> 00:44:15,280
questions hang out in there so you know

00:44:12,910 --> 00:44:20,290
please use those resources as well there

00:44:15,280 --> 00:44:23,500
they're there for you so yeah again any

00:44:20,290 --> 00:44:26,200
questions oh and on IRC I'm des Ryan as

00:44:23,500 --> 00:44:31,800
well because again horribly imaginative

00:44:26,200 --> 00:44:31,800
so all right any questions yes

00:44:47,770 --> 00:44:53,780
okay so the question was how far down

00:44:50,900 --> 00:44:56,710
does dogtag scale you know is it good

00:44:53,780 --> 00:45:01,069
for generating a small amount of

00:44:56,710 --> 00:45:03,260
certificates for say you know PBX or VPN

00:45:01,069 --> 00:45:05,750
appliance or something like that the

00:45:03,260 --> 00:45:08,119
answer is you can use dog tag to issue

00:45:05,750 --> 00:45:12,369
one cert if you want it to right I mean

00:45:08,119 --> 00:45:16,700
there's no lower limit it's you and and

00:45:12,369 --> 00:45:19,099
right well I mean it's it is it's silly

00:45:16,700 --> 00:45:22,670
easy to set up okay I mean it's it's

00:45:19,099 --> 00:45:24,380
really it does it all for you it does it

00:45:22,670 --> 00:45:26,690
all for you right so you don't have to

00:45:24,380 --> 00:45:28,819
worry about that you just do so to set

00:45:26,690 --> 00:45:31,460
it to set up a to set up a subsystem in

00:45:28,819 --> 00:45:34,250
dog tag you just do you run a command

00:45:31,460 --> 00:45:35,780
called PK I spawn and you can pass it a

00:45:34,250 --> 00:45:38,839
whole bunch of options or point it to a

00:45:35,780 --> 00:45:40,460
file that has you know a subsystem or

00:45:38,839 --> 00:45:42,470
two built that into it that'll pull all

00:45:40,460 --> 00:45:44,420
that information from or it'll ask you

00:45:42,470 --> 00:45:45,799
for input right and you can just cycle

00:45:44,420 --> 00:45:47,510
through it and say this this there's

00:45:45,799 --> 00:45:49,640
there's this and bang you got yourself a

00:45:47,510 --> 00:45:50,780
subsystem you just have to make sure the

00:45:49,640 --> 00:45:52,520
right ports are open and things like

00:45:50,780 --> 00:45:53,599
that but to finish answering your

00:45:52,520 --> 00:45:55,400
question I'll get you in one second

00:45:53,599 --> 00:45:56,480
let's finish answering your question you

00:45:55,400 --> 00:46:01,819
might want to take you might want to

00:45:56,480 --> 00:46:04,160
take a look at free IPA Sri IPA well now

00:46:01,819 --> 00:46:07,520
yeah dog tag might be less hassle than

00:46:04,160 --> 00:46:09,770
free IPA just to do some a few number of

00:46:07,520 --> 00:46:11,329
certs unless you are looking to manage

00:46:09,770 --> 00:46:18,819
users and groups and things like that as

00:46:11,329 --> 00:46:18,819
well sure

00:46:33,400 --> 00:46:36,720
if you were to put it on an appliance

00:46:40,260 --> 00:46:45,790
yeah so the question was you know what

00:46:44,440 --> 00:46:48,240
are some of the what are some of the

00:46:45,790 --> 00:46:50,710
high you know high resource utilization

00:46:48,240 --> 00:46:52,630
pieces to dog tag that you might want to

00:46:50,710 --> 00:46:54,100
look at cutting back the answer to that

00:46:52,630 --> 00:46:55,060
is it depends on your use case it

00:46:54,100 --> 00:46:58,150
depends on what you're doing at that

00:46:55,060 --> 00:46:59,680
moment the subsystems themselves if I

00:46:58,150 --> 00:47:01,300
fired up my laptop right now I'd say I

00:46:59,680 --> 00:47:04,080
think I have a running subsystem

00:47:01,300 --> 00:47:07,240
somewhere that I can take a look at but

00:47:04,080 --> 00:47:10,150
they take up very little resources until

00:47:07,240 --> 00:47:12,070
you actually use it the what I've seen

00:47:10,150 --> 00:47:15,490
what I've seen what I've seen

00:47:12,070 --> 00:47:17,920
take up most resources is generating

00:47:15,490 --> 00:47:20,020
large TRL's and we're talking like you

00:47:17,920 --> 00:47:22,030
know cereals that are like 35 45 Meg's

00:47:20,020 --> 00:47:24,520
and and those are pretty pretty large

00:47:22,030 --> 00:47:26,740
though that takes a lot of system

00:47:24,520 --> 00:47:28,450
resources doing like bulk enrollments

00:47:26,740 --> 00:47:30,130
bulk revocations

00:47:28,450 --> 00:47:34,720
that takes up a lot of resources but

00:47:30,130 --> 00:47:37,840
just issuing a cert I mean that's you're

00:47:34,720 --> 00:47:40,000
not looking at much of anything so

00:47:37,840 --> 00:47:42,100
depending on your use case just tinker

00:47:40,000 --> 00:47:44,560
right and it's all Tomcat on the back

00:47:42,100 --> 00:47:47,200
end so you can mess with yeah you know

00:47:44,560 --> 00:47:48,880
you find that right mix of your heap

00:47:47,200 --> 00:47:54,430
sizes and things like that your java

00:47:48,880 --> 00:47:55,540
memory management yeah your Tomcat

00:47:54,430 --> 00:47:58,030
optimizations where you're going to be

00:47:55,540 --> 00:47:59,830
looking at right and and the other side

00:47:58,030 --> 00:48:01,000
that you might want to look at is on the

00:47:59,830 --> 00:48:02,440
directory server side there's some

00:48:01,000 --> 00:48:05,110
optimizations you could probably do

00:48:02,440 --> 00:48:07,030
there for like cache sizes and stuff

00:48:05,110 --> 00:48:09,400
like that but again you if you're

00:48:07,030 --> 00:48:12,990
dealing with very small number of certs

00:48:09,400 --> 00:48:12,990
it's probably not going to matter much

00:48:13,680 --> 00:48:18,360
yeah no not not on the yes side

00:48:24,670 --> 00:48:28,119
oh you know what I haven't looked at the

00:48:26,529 --> 00:48:32,710
minimum system requirements for dog tag

00:48:28,119 --> 00:48:34,690
simply because I yeah I used the minimum

00:48:32,710 --> 00:48:36,490
system requirements for fedora to build

00:48:34,690 --> 00:48:39,160
my Fedora box and as long as I have

00:48:36,490 --> 00:48:55,769
enough room to put my to put my certs on

00:48:39,160 --> 00:48:55,769
it right yes right sure

00:49:00,170 --> 00:49:05,970
right exactly because IPA uses bind it

00:49:04,860 --> 00:49:11,060
has it has a whole bunch of stuff

00:49:05,970 --> 00:49:16,860
running on the backend yeah buy it right

00:49:11,060 --> 00:49:19,320
yeah it's a free right because free IPA

00:49:16,860 --> 00:49:21,900
again it is it's a it's a Kerberos realm

00:49:19,320 --> 00:49:23,520
its domains its DNS zones it's all of

00:49:21,900 --> 00:49:25,860
this it's all of that stuff put in one

00:49:23,520 --> 00:49:27,750
but two to help answer your question as

00:49:25,860 --> 00:49:31,530
well if you find yourself running into

00:49:27,750 --> 00:49:33,660
like storage issues right you're running

00:49:31,530 --> 00:49:35,550
out of space what's nice about dog tag

00:49:33,660 --> 00:49:37,590
is you can separate the DES from from

00:49:35,550 --> 00:49:40,320
dog tag you can run des on a different

00:49:37,590 --> 00:49:42,540
box and run dog tag on on another box

00:49:40,320 --> 00:49:45,560
right so you can slim it down even more

00:49:42,540 --> 00:49:45,560
that way

00:50:01,380 --> 00:50:09,509
right right and but but the the the the

00:50:06,829 --> 00:50:11,789
really the the beauty of dogtag is it

00:50:09,509 --> 00:50:13,049
can live anywhere right and and again

00:50:11,789 --> 00:50:15,210
that's why we're going over the command

00:50:13,049 --> 00:50:17,549
line in the API so you can you can hit

00:50:15,210 --> 00:50:19,920
it from anywhere and you can set up

00:50:17,549 --> 00:50:21,569
multiple CAS right you can set up clone

00:50:19,920 --> 00:50:23,069
CAS where you can say I want to issue

00:50:21,569 --> 00:50:23,579
search from this year on issue starts

00:50:23,069 --> 00:50:25,019
this year

00:50:23,579 --> 00:50:26,880
Allen is you search from this CA and

00:50:25,019 --> 00:50:39,210
they'll all give you the same search

00:50:26,880 --> 00:50:40,799
right so got another question if I had a

00:50:39,210 --> 00:50:43,049
nickel every time I've gotten that

00:50:40,799 --> 00:50:48,109
question so the question was it's dog

00:50:43,049 --> 00:50:51,809
tag really tied to 389 the answer is yes

00:50:48,109 --> 00:50:55,009
and that's primarily because we really

00:50:51,809 --> 00:50:57,720
haven't done anything other than right I

00:50:55,009 --> 00:50:59,759
mean if you want to do some testing and

00:50:57,720 --> 00:51:01,319
you want to throw some code at it and

00:50:59,759 --> 00:51:03,210
say hey guys I have this feature I want

00:51:01,319 --> 00:51:04,950
to commit back upstream and I've got it

00:51:03,210 --> 00:51:05,999
working with you know Oracle back-end or

00:51:04,950 --> 00:51:16,109
my sequel back-end

00:51:05,999 --> 00:51:21,019
great right so so I'm not a developer I

00:51:16,109 --> 00:51:24,749
don't know but because everything works

00:51:21,019 --> 00:51:26,759
everything works over LDAP right it has

00:51:24,749 --> 00:51:29,160
to be something that could talk out that

00:51:26,759 --> 00:51:31,559
right and I don't know what the answer

00:51:29,160 --> 00:51:33,809
to that question is so you know it would

00:51:31,559 --> 00:51:36,900
just have to take some testing right I

00:51:33,809 --> 00:51:38,460
mean I haven't tried it I know the

00:51:36,900 --> 00:51:42,059
question comes up from time to time but

00:51:38,460 --> 00:51:44,369
there are no current plans to to support

00:51:42,059 --> 00:51:49,589
any other kind of database back-end than

00:51:44,369 --> 00:51:50,430
389 so currently but yeah I get that I

00:51:49,589 --> 00:52:00,809
get that question a lot

00:51:50,430 --> 00:52:03,839
so yes yes and I I mentioned that so so

00:52:00,809 --> 00:52:06,660
and and you know I'm chastising myself

00:52:03,839 --> 00:52:09,229
for not for not putting a sample of that

00:52:06,660 --> 00:52:09,229
input in there

00:52:13,930 --> 00:52:22,969
sure so right right and and I mean again

00:52:20,989 --> 00:52:24,920
you know this this stuff is very fairly

00:52:22,969 --> 00:52:27,410
you know recent that we've done this

00:52:24,920 --> 00:52:31,549
right and what that XML does for you is

00:52:27,410 --> 00:52:33,529
because what you can do is you can pull

00:52:31,549 --> 00:52:35,299
you can you can get that XML from a

00:52:33,529 --> 00:52:37,069
previous request right and now you know

00:52:35,299 --> 00:52:39,049
what feels didn't need to be changed and

00:52:37,069 --> 00:52:40,999
you know you can modify that on the fly

00:52:39,049 --> 00:52:42,680
programmatically right you can just set

00:52:40,999 --> 00:52:45,709
out whatever you need to set out or do

00:52:42,680 --> 00:52:53,449
whatever with that XML file and then

00:52:45,709 --> 00:52:58,400
pipe it in yeah right right cuz it's all

00:52:53,449 --> 00:53:00,319
markup right I mean it sure yeah no

00:52:58,400 --> 00:53:01,999
absolutely absolutely and I'll have to

00:53:00,319 --> 00:53:05,239
I'll have to I'll have to take a look

00:53:01,999 --> 00:53:07,279
because the the only thing it the only

00:53:05,239 --> 00:53:08,569
thing I've used is an XML file and the

00:53:07,279 --> 00:53:10,459
only thing I've seen documented on the

00:53:08,569 --> 00:53:12,709
website it's XML now that's not to say

00:53:10,459 --> 00:53:15,049
that you can't feed it a JSON file or

00:53:12,709 --> 00:53:22,369
you can't feed it just this huge string

00:53:15,049 --> 00:53:27,079
of inputs on the command line open a

00:53:22,369 --> 00:53:29,089
track ticket yeah no I mean I agree and

00:53:27,079 --> 00:53:32,179
I'm not I'm not saying that it can't do

00:53:29,089 --> 00:53:33,769
it it's just I haven't done it so but

00:53:32,179 --> 00:53:38,199
that's a good that's a good that's a

00:53:33,769 --> 00:53:41,479
good point now you know and I agree so

00:53:38,199 --> 00:53:43,279
alright any any other questions I mean

00:53:41,479 --> 00:53:43,789
y'all still got me for what about ten

00:53:43,279 --> 00:53:46,099
more minutes

00:53:43,789 --> 00:53:48,890
five more minutes awesome I was able to

00:53:46,099 --> 00:53:49,999
get it right up to the end here but does

00:53:48,890 --> 00:53:53,809
anybody anybody else have any other

00:53:49,999 --> 00:53:59,299
questions about dog tag rugby baking my

00:53:53,809 --> 00:54:03,229
dog anything no hey you're welcome

00:53:59,299 --> 00:54:04,789
you're welcome and again and again yeah

00:54:03,229 --> 00:54:06,049
and again if you're going to go if

00:54:04,789 --> 00:54:08,779
you're going to go tinkering the

00:54:06,049 --> 00:54:17,859
documentation is pretty good on the

00:54:08,779 --> 00:54:19,489
website but yet no no yes but but the I

00:54:17,859 --> 00:54:21,829
you didn't let me finish

00:54:19,489 --> 00:54:23,900
the documentation is pretty good but if

00:54:21,829 --> 00:54:26,029
you run into any issues hop into

00:54:23,900 --> 00:54:26,450
freenode right yeah sending emails PKI

00:54:26,029 --> 00:54:28,609
users

00:54:26,450 --> 00:54:32,210
I mean there's a community of people out

00:54:28,609 --> 00:54:33,530
there who like me have nothing better to

00:54:32,210 --> 00:54:36,670
do with my time than to answer your

00:54:33,530 --> 00:54:38,450
emails on the user list right so

00:54:36,670 --> 00:54:40,579
leverage it I mean they're there

00:54:38,450 --> 00:54:46,280
resources there for you to make it

00:54:40,579 --> 00:54:50,000
easier and to help you so oh we love

00:54:46,280 --> 00:54:52,579
that we appreciate that so all right

00:54:50,000 --> 00:54:54,020
well thank you all very much for being a

00:54:52,579 --> 00:54:56,150
great audience I know it's a Sunday

00:54:54,020 --> 00:54:58,010
after lunch and last day and everybody's

00:54:56,150 --> 00:54:58,490
tired and ready to go home so I hope I

00:54:58,010 --> 00:55:00,319
made

00:54:58,490 --> 00:55:04,819
PKI a little bit entertaining for you

00:55:00,319 --> 00:55:07,369
guys no no no no am I the only am I the

00:55:04,819 --> 00:55:10,690
only one here who enjoys PKI who enjoys

00:55:07,369 --> 00:55:12,680
this stuff apparently awesome all right

00:55:10,690 --> 00:55:15,829
all right well thank you all very much

00:55:12,680 --> 00:55:18,369
and enjoy the last hour and 15 minutes

00:55:15,829 --> 00:55:18,369
at the conference

00:55:29,410 --> 00:55:31,470
you

00:55:36,349 --> 00:55:40,249
your customers rely on your website or

00:55:38,720 --> 00:55:42,650
application if it's slower

00:55:40,249 --> 00:55:45,619
non-responsive it infuriates your users

00:55:42,650 --> 00:55:47,390
and costs you money keeping your

00:55:45,619 --> 00:55:50,830
business critical systems humming along

00:55:47,390 --> 00:55:53,650
requires insight into what they're doing

00:55:50,830 --> 00:55:55,660
your system metrics tell stories stories

00:55:53,650 --> 00:55:57,910
that can reveal performance bottlenecks

00:55:55,660 --> 00:56:00,220
resource limitations and other problems

00:55:57,910 --> 00:56:02,350
but how do you keep an eye on all of

00:56:00,220 --> 00:56:04,600
your systems performance metrics in real

00:56:02,350 --> 00:56:07,480
time and record this data for a liter

00:56:04,600 --> 00:56:09,430
analysis enter long view the new way to

00:56:07,480 --> 00:56:11,470
see what's really going on under the

00:56:09,430 --> 00:56:13,630
hood the long view dashboard lets you

00:56:11,470 --> 00:56:15,610
visualize the status of all your systems

00:56:13,630 --> 00:56:18,490
providing you with a bird's-eye view of

00:56:15,610 --> 00:56:21,430
your entire fleet you can sort by CPU

00:56:18,490 --> 00:56:24,220
memory swap processes load and network

00:56:21,430 --> 00:56:26,470
usage click a specific system to access

00:56:24,220 --> 00:56:28,450
its individual dashboard then click and

00:56:26,470 --> 00:56:31,480
drag to zoom in on chokepoints and get

00:56:28,450 --> 00:56:33,460
more detail comprehensive network data

00:56:31,480 --> 00:56:36,160
including inbound and outbound traffic

00:56:33,460 --> 00:56:38,140
is available on the network tab and disk

00:56:36,160 --> 00:56:40,300
rights and free space on the disk stab

00:56:38,140 --> 00:56:42,490
while the process Explorer displays

00:56:40,300 --> 00:56:45,040
usage statistics for individual

00:56:42,490 --> 00:56:47,200
processes the system info tab shows

00:56:45,040 --> 00:56:49,660
listening services active connections

00:56:47,200 --> 00:56:51,730
and available updates adding longview to

00:56:49,660 --> 00:56:53,950
a system is easy just click the button

00:56:51,730 --> 00:56:55,600
copy the one-line installation command

00:56:53,950 --> 00:56:58,270
then run the command on your Linux

00:56:55,600 --> 00:57:00,130
system to complete the process the agent

00:56:58,270 --> 00:57:02,080
will begin collecting data and sending

00:57:00,130 --> 00:57:05,470
it to long view then the graphs start

00:57:02,080 --> 00:57:07,840
rolling use Longview to gain visibility

00:57:05,470 --> 00:57:12,270
into your servers so when your website

00:57:07,840 --> 00:57:12,270
or app heats up it stays up

00:58:29,430 --> 00:58:33,820
citrix xenserver gives you everything

00:58:31,630 --> 00:58:36,850
you need to integrate manage and

00:58:33,820 --> 00:58:38,980
automate a virtual data center all on an

00:58:36,850 --> 00:58:41,350
enterprise class cloud proven virtual

00:58:38,980 --> 00:58:43,990
platform and at a third of the cost of

00:58:41,350 --> 00:58:45,820
other solutions but why even bother with

00:58:43,990 --> 00:58:47,980
virtualizing your server infrastructure

00:58:45,820 --> 00:58:49,900
in the first place well let's say you

00:58:47,980 --> 00:58:52,180
have a traditional one server to one

00:58:49,900 --> 00:58:54,190
application architecture but you're

00:58:52,180 --> 00:58:56,830
running out of resources and performance

00:58:54,190 --> 00:58:59,130
is suffering once you order new server

00:58:56,830 --> 00:59:02,020
hardware you'll wait for delivery

00:58:59,130 --> 00:59:04,870
configure it install your business

00:59:02,020 --> 00:59:07,540
application stage and test the server

00:59:04,870 --> 00:59:09,730
and finally add it to your production

00:59:07,540 --> 00:59:11,980
farm if you've been through this process

00:59:09,730 --> 00:59:14,500
before you know it can take weeks or

00:59:11,980 --> 00:59:16,420
even months you also know it's a

00:59:14,500 --> 00:59:18,370
manually intensive process that will

00:59:16,420 --> 00:59:21,670
burden your team every time you outgrow

00:59:18,370 --> 00:59:23,650
your current setup with a virtual server

00:59:21,670 --> 00:59:25,860
solution you could accomplish all of

00:59:23,650 --> 00:59:28,230
that in less than half a day

00:59:25,860 --> 00:59:30,210
server virtualization software separates

00:59:28,230 --> 00:59:32,610
the OS and application from the

00:59:30,210 --> 00:59:34,470
underlying server hardware and with

00:59:32,610 --> 00:59:36,600
multiple virtual machines on a single

00:59:34,470 --> 00:59:39,480
server you can use each of them to run

00:59:36,600 --> 00:59:41,280
different OSS and applications this

00:59:39,480 --> 00:59:43,140
makes it possible to move your virtual

00:59:41,280 --> 00:59:45,540
machines from one piece of hardware to

00:59:43,140 --> 00:59:47,790
another whenever you want to maximize

00:59:45,540 --> 00:59:50,280
utilization simplify maintenance or

00:59:47,790 --> 00:59:52,080
recover from a hardware failure and

00:59:50,280 --> 00:59:55,020
without slowing down your applications

00:59:52,080 --> 00:59:58,080
or users clearly server virtualization

00:59:55,020 --> 01:00:01,110
provides big benefits and Citrix

00:59:58,080 --> 01:00:02,550
XenServer provides even more since it's

01:00:01,110 --> 01:00:04,740
built on an open platform

01:00:02,550 --> 01:00:06,930
XenServer plays well with your existing

01:00:04,740 --> 01:00:09,270
hardware storage systems and IT

01:00:06,930 --> 01:00:10,800
management software as well as with the

01:00:09,270 --> 01:00:13,350
industry's leading cloud service

01:00:10,800 --> 01:00:14,790
providers best of all you can get

01:00:13,350 --> 01:00:16,860
started by downloading a fully

01:00:14,790 --> 01:00:19,980
functional production ready version of

01:00:16,860 --> 01:00:22,290
Zen server for free after a 10 minute

01:00:19,980 --> 01:00:23,910
installation process you'll see how easy

01:00:22,290 --> 01:00:25,800
it is to start virtualizing your

01:00:23,910 --> 01:00:28,260
workloads and automating your IT

01:00:25,800 --> 01:00:29,850
management processes and when you're

01:00:28,260 --> 01:00:31,800
ready for a richer set of management

01:00:29,850 --> 01:00:34,260
tools just upgrade to one of the premium

01:00:31,800 --> 01:00:36,090
editions of Zen server so whether you're

01:00:34,260 --> 01:00:38,040
interested in virtualizing servers for

01:00:36,090 --> 01:00:40,320
the first time expanding your server

01:00:38,040 --> 01:00:42,840
virtualization footprint or moving

01:00:40,320 --> 01:00:45,360
server workloads to the cloud download

01:00:42,840 --> 01:00:47,160
and install XenServer today and see how

01:00:45,360 --> 01:00:49,640
it can help you simplify your IT

01:00:47,160 --> 01:00:54,170
environment citrix xenserver

01:00:49,640 --> 01:00:54,170
do-more don't spend more

01:01:32,059 --> 01:01:34,119
you

01:02:08,560 --> 01:02:10,620

YouTube URL: https://www.youtube.com/watch?v=vB-YXkt3-so


