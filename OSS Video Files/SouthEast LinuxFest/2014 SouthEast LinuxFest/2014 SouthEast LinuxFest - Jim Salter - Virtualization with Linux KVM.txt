Title: 2014 SouthEast LinuxFest - Jim Salter - Virtualization with Linux KVM
Publication date: 2015-05-04
Playlist: 2014 SouthEast LinuxFest
Description: 
	2014 SouthEast LinuxFest
Jim Salter
Virtualization with Linux KVM
Captions: 
	00:00:00,000 --> 00:00:05,339
the following presentation was recorded

00:00:02,490 --> 00:00:08,189
the 2014 southeast linux fest in

00:00:05,339 --> 00:00:11,070
charlotte north carolina it is licensed

00:00:08,189 --> 00:00:15,150
under a creative commons license for

00:00:11,070 --> 00:00:18,330
more information visit www.fcn expense

00:00:15,150 --> 00:00:20,310
org the southeast linux fest would like

00:00:18,330 --> 00:00:22,859
to thank the following diamond sponsors

00:00:20,310 --> 00:00:30,660
in 2014 for helping make these videos

00:00:22,859 --> 00:00:32,489
possible okay folks linux kernel virtual

00:00:30,660 --> 00:00:35,360
machine does everybody here know what

00:00:32,489 --> 00:00:38,460
the kvm is other than me just saying it

00:00:35,360 --> 00:00:41,430
all right is anybody here doing

00:00:38,460 --> 00:00:47,579
virtualization already all right anybody

00:00:41,430 --> 00:00:49,200
using kvm already awesome all right

00:00:47,579 --> 00:00:51,090
before we get started a little bit about

00:00:49,200 --> 00:00:54,960
me if you don't already know me haven't

00:00:51,090 --> 00:00:57,059
met me I am loud I am an independent IT

00:00:54,960 --> 00:00:58,500
consultant well actually I'm not an

00:00:57,059 --> 00:01:01,230
independent icky console anymore I have

00:00:58,500 --> 00:01:05,159
an actual full-time employee so I'm an

00:01:01,230 --> 00:01:06,960
IT consultant and I don't think the

00:01:05,159 --> 00:01:08,640
current version the slides is actually

00:01:06,960 --> 00:01:10,500
up yet but by the time you get home

00:01:08,640 --> 00:01:11,610
tonight it will be there's something

00:01:10,500 --> 00:01:13,740
there now but I think it might be a

00:01:11,610 --> 00:01:16,229
little bit out of date so let's get

00:01:13,740 --> 00:01:18,810
started some of this is going to is

00:01:16,229 --> 00:01:20,070
probably going to be a little bit less

00:01:18,810 --> 00:01:21,780
technical than some of you were hoping

00:01:20,070 --> 00:01:23,490
for cuz I'm never quite sure what I'm

00:01:21,780 --> 00:01:24,869
gonna get for crowd before we get

00:01:23,490 --> 00:01:28,409
started too much talk a little bit about

00:01:24,869 --> 00:01:30,299
why kvm so virtualization itself one of

00:01:28,409 --> 00:01:33,270
the things that really initially got me

00:01:30,299 --> 00:01:37,079
interested in kvm in particular was that

00:01:33,270 --> 00:01:39,090
when i looked at vmware or Zen or god

00:01:37,079 --> 00:01:41,430
forbid microsoft hyper-v everybody

00:01:39,090 --> 00:01:43,740
always had like a very select list of oh

00:01:41,430 --> 00:01:45,450
you can virtualize anything out of this

00:01:43,740 --> 00:01:47,189
short list of things that you know we've

00:01:45,450 --> 00:01:50,790
prepared that we support and other than

00:01:47,189 --> 00:01:52,920
that no kvm particularly when i first

00:01:50,790 --> 00:01:54,659
got started with it by contrast you

00:01:52,920 --> 00:01:57,750
could virtualize pretty much anything

00:01:54,659 --> 00:02:00,180
under kvm because your your default

00:01:57,750 --> 00:02:02,759
setup once you once you set to get up a

00:02:00,180 --> 00:02:04,350
guest up the first time you didn't have

00:02:02,759 --> 00:02:06,810
special drivers and you didn't have a

00:02:04,350 --> 00:02:09,000
special hat direct Colonel Burton or

00:02:06,810 --> 00:02:10,770
anything like that you just literally

00:02:09,000 --> 00:02:12,090
presented your virtual machine with a

00:02:10,770 --> 00:02:16,050
very vanilla JH

00:02:12,090 --> 00:02:18,840
Eric IDE hardware disk controller vga

00:02:16,050 --> 00:02:20,819
video and it would use whatever drivers

00:02:18,840 --> 00:02:22,110
that it had to interface with truly

00:02:20,819 --> 00:02:24,209
ancient technology and everything would

00:02:22,110 --> 00:02:25,650
just work this was pretty cool because

00:02:24,209 --> 00:02:26,940
this meant that I could virtualize

00:02:25,650 --> 00:02:29,790
things that nobody had really thought

00:02:26,940 --> 00:02:31,920
about before not just windows not just

00:02:29,790 --> 00:02:33,569
red hat linux or send to us but I could

00:02:31,920 --> 00:02:36,420
throw even something off the wall like

00:02:33,569 --> 00:02:39,629
pc-bsd at it and it would just work

00:02:36,420 --> 00:02:41,220
without a hitch I've also been extremely

00:02:39,629 --> 00:02:43,110
happy with kvm because I've found it to

00:02:41,220 --> 00:02:45,060
be very high performance it's very

00:02:43,110 --> 00:02:47,160
accessible meaning it's easy to dive

00:02:45,060 --> 00:02:48,720
right in and start using it those of you

00:02:47,160 --> 00:02:50,489
who didn't raise your hands when I asked

00:02:48,720 --> 00:02:53,970
to hear is already using kvm it is

00:02:50,489 --> 00:02:56,160
really really simple you can be up and

00:02:53,970 --> 00:03:00,299
running and actually doing neat things

00:02:56,160 --> 00:03:02,099
with it in half an hour one of the other

00:03:00,299 --> 00:03:06,510
things that we'll talk about a little

00:03:02,099 --> 00:03:08,790
bit more later is that you can so a lot

00:03:06,510 --> 00:03:11,120
of what i use kvm for i will

00:03:08,790 --> 00:03:14,400
shamefacedly admit is to virtualize

00:03:11,120 --> 00:03:17,250
windows like setting I do have a

00:03:14,400 --> 00:03:18,750
consulting business and my business is

00:03:17,250 --> 00:03:21,420
mostly focused on helping small

00:03:18,750 --> 00:03:24,000
businesses suck less and they have to

00:03:21,420 --> 00:03:25,950
live in a windows ecosystem I can't just

00:03:24,000 --> 00:03:27,780
be real glib and walk in and say oh well

00:03:25,950 --> 00:03:29,519
I use Linux and you should too because

00:03:27,780 --> 00:03:32,549
they need things like QuickBooks and

00:03:29,519 --> 00:03:34,440
autocad and revit and on down the line

00:03:32,549 --> 00:03:36,680
that just aren't available in Linux and

00:03:34,440 --> 00:03:38,670
you can't expect them to just suddenly

00:03:36,680 --> 00:03:40,650
disconnect themselves from the entire

00:03:38,670 --> 00:03:42,569
rest of their business ecosystem and do

00:03:40,650 --> 00:03:43,950
something that you think is cool so you

00:03:42,569 --> 00:03:45,900
need to make it more possible for them

00:03:43,950 --> 00:03:48,510
to do what they need to do without it

00:03:45,900 --> 00:03:50,669
hurting them and kvm can be a really

00:03:48,510 --> 00:03:52,980
good way to do that when they have to

00:03:50,669 --> 00:03:54,989
have Windows servers on the back end you

00:03:52,980 --> 00:03:57,150
can actually defang a lot of the things

00:03:54,989 --> 00:03:58,919
that make Windows Server suck by

00:03:57,150 --> 00:04:01,169
virtualizing them don't put them on the

00:03:58,919 --> 00:04:03,239
bare metal run them virtual now you can

00:04:01,169 --> 00:04:06,120
do that in VMware you can do it in Zen

00:04:03,239 --> 00:04:09,359
or you can do it in kvm there are a lot

00:04:06,120 --> 00:04:12,389
of advantages to kvm no licensing

00:04:09,359 --> 00:04:14,430
handles no vendor lock-in I've had to

00:04:12,389 --> 00:04:17,400
try to extract a running Windows Server

00:04:14,430 --> 00:04:21,570
out of Citrix is in center no offense to

00:04:17,400 --> 00:04:23,640
Russ if he's around and I don't want to

00:04:21,570 --> 00:04:24,280
talk about that kvm on the other hand

00:04:23,640 --> 00:04:28,120
your k

00:04:24,280 --> 00:04:30,190
m guests again a kvm windows guessed it

00:04:28,120 --> 00:04:33,250
can you can configure it to just use a

00:04:30,190 --> 00:04:35,080
very generic ide and VGA chipset

00:04:33,250 --> 00:04:36,970
everything completely normal looks like

00:04:35,080 --> 00:04:39,460
real hardware there's no special

00:04:36,970 --> 00:04:42,580
bootloader no special nothing you can

00:04:39,460 --> 00:04:44,350
extract it very very easily in fact if

00:04:42,580 --> 00:04:47,350
you wanted to go for instance from kvm

00:04:44,350 --> 00:04:49,210
to vmware your guests will probably just

00:04:47,350 --> 00:04:52,690
plain boo you probably don't even need

00:04:49,210 --> 00:04:56,320
to run the vmware converter so that's

00:04:52,690 --> 00:04:58,150
all pretty nice this case study here

00:04:56,320 --> 00:05:01,419
this is actually the very first time i

00:04:58,150 --> 00:05:04,090
was using kvm in production for windows

00:05:01,419 --> 00:05:06,370
for an actual client this is so this

00:05:04,090 --> 00:05:09,850
this is a real story this is this is a

00:05:06,370 --> 00:05:11,530
small CPA firm and they were using a

00:05:09,850 --> 00:05:13,600
Windows terminal server and they managed

00:05:11,530 --> 00:05:15,040
to destroy the one that they had so when

00:05:13,600 --> 00:05:16,990
it set them back up again i said i'm

00:05:15,040 --> 00:05:18,550
going to virtualize them at the time I

00:05:16,990 --> 00:05:20,350
thought that meant that performance was

00:05:18,550 --> 00:05:21,940
going to be terrible but I was willing

00:05:20,350 --> 00:05:23,530
to do it anyway so that I could you know

00:05:21,940 --> 00:05:25,780
have image-based backups and all that

00:05:23,530 --> 00:05:27,790
kind of stuff what I actually found was

00:05:25,780 --> 00:05:29,680
that everything was far far faster on

00:05:27,790 --> 00:05:31,000
the new one but all that's not even

00:05:29,680 --> 00:05:33,100
really the point of the case study here

00:05:31,000 --> 00:05:35,830
so I got them up and running on a cue

00:05:33,100 --> 00:05:37,630
6600 from reveal intel core two quads

00:05:35,830 --> 00:05:40,990
and that motherboard would only support

00:05:37,630 --> 00:05:42,729
a gigs ram well a year later they had

00:05:40,990 --> 00:05:44,800
doubled the size of their business and

00:05:42,729 --> 00:05:46,000
you know they were having issues where

00:05:44,800 --> 00:05:48,010
they were just deepened to swap

00:05:46,000 --> 00:05:50,590
constantly because eight gigs RM wasn't

00:05:48,010 --> 00:05:52,240
enough so what do you do well if you're

00:05:50,590 --> 00:05:53,950
not virtualized you suck it up and you

00:05:52,240 --> 00:05:55,750
buy a new box you install windows server

00:05:53,950 --> 00:05:57,370
on it you install every single app on it

00:05:55,750 --> 00:05:58,810
nothing looks the same and everybody

00:05:57,370 --> 00:06:01,450
hates everything you have downtime

00:05:58,810 --> 00:06:05,050
there's a lot of whining in this case

00:06:01,450 --> 00:06:07,900
however it was easy I built a 16 core

00:06:05,050 --> 00:06:10,060
opteron box ambience to intel server

00:06:07,900 --> 00:06:13,030
grades to the consumer grade whatever no

00:06:10,060 --> 00:06:14,860
problem 64 gigs of ram i removed one

00:06:13,030 --> 00:06:17,289
file which you can't read that there at

00:06:14,860 --> 00:06:19,539
CU dev rules d70 persistent net rules

00:06:17,289 --> 00:06:22,720
what that actually does is on the on the

00:06:19,539 --> 00:06:24,100
host itself because it was going from

00:06:22,720 --> 00:06:26,560
one motherboard to another that made

00:06:24,100 --> 00:06:29,169
sure that f0 would still refer to f0 and

00:06:26,560 --> 00:06:31,060
it wouldn't just be f1 after that and

00:06:29,169 --> 00:06:33,099
then I shut the box down I pulled the

00:06:31,060 --> 00:06:37,030
drive cage out of the old box slid it

00:06:33,099 --> 00:06:41,260
into the new one powered it up done

00:06:37,030 --> 00:06:43,330
we now have four times as many course we

00:06:41,260 --> 00:06:45,730
now have eight times as much RAM

00:06:43,330 --> 00:06:47,770
everything is faster everything is more

00:06:45,730 --> 00:06:49,690
awesome there was a whopping total of

00:06:47,770 --> 00:06:52,270
five minutes of downtime and nobody had

00:06:49,690 --> 00:06:54,460
to reinstall anything which is why I

00:06:52,270 --> 00:06:56,350
said step forward basking to go blow of

00:06:54,460 --> 00:06:57,700
customers who love you now the terrible

00:06:56,350 --> 00:06:59,590
thing about this is you might think that

00:06:57,700 --> 00:07:01,060
your customers will be like wow you are

00:06:59,590 --> 00:07:04,120
a god I didn't even know you could do

00:07:01,060 --> 00:07:05,290
that unfortunately they actually think

00:07:04,120 --> 00:07:06,820
that you've been able to do that for the

00:07:05,290 --> 00:07:08,890
past 20 years and up until now they've

00:07:06,820 --> 00:07:10,600
just always hated you because it wasn't

00:07:08,890 --> 00:07:13,290
what you did now you can do what they

00:07:10,600 --> 00:07:16,060
actually expect which is totally cool

00:07:13,290 --> 00:07:19,180
all right so let's take a look at this

00:07:16,060 --> 00:07:21,790
is this is vert manager right here vert

00:07:19,180 --> 00:07:23,410
manager one of the most common things

00:07:21,790 --> 00:07:24,790
you might hear somebody stealing you say

00:07:23,410 --> 00:07:28,900
about it if they're a real fan boy of

00:07:24,790 --> 00:07:32,260
another virtualization platform is vert

00:07:28,900 --> 00:07:35,560
manager is is just so simple there's

00:07:32,260 --> 00:07:38,170
just not much to it I love that it's a

00:07:35,560 --> 00:07:40,660
stone axe it's a well crafted stone axe

00:07:38,170 --> 00:07:42,610
there's not a lot to break in everything

00:07:40,660 --> 00:07:44,680
that at least everything that I need to

00:07:42,610 --> 00:07:46,690
do it's right there it's easy to find

00:07:44,680 --> 00:07:49,060
it's not buried under crap it's just

00:07:46,690 --> 00:07:51,520
there so what we're looking at over on

00:07:49,060 --> 00:07:54,490
the left is the actual vert manager

00:07:51,520 --> 00:07:56,940
window itself and we can see that we've

00:07:54,490 --> 00:08:00,280
got three machines running on localhost

00:07:56,940 --> 00:08:02,140
and over here we've got one of them open

00:08:00,280 --> 00:08:04,240
to a console it's a window seven bucks

00:08:02,140 --> 00:08:05,800
it's applying updates what more do you

00:08:04,240 --> 00:08:07,810
really need to know there's your box

00:08:05,800 --> 00:08:09,220
it's running it works if you want to

00:08:07,810 --> 00:08:12,760
connect to a different one double-click

00:08:09,220 --> 00:08:15,850
it now you can do a lot more than that

00:08:12,760 --> 00:08:18,220
with kvm I mean with vert manager you

00:08:15,850 --> 00:08:20,200
can manage storage pools you can set up

00:08:18,220 --> 00:08:22,810
multiple virtual networks as opposed to

00:08:20,200 --> 00:08:25,270
just one or you can give your VMs direct

00:08:22,810 --> 00:08:27,220
access via bridge the real network it's

00:08:25,270 --> 00:08:29,590
all up to you you can create or delete

00:08:27,220 --> 00:08:31,630
guests you can change the allocation you

00:08:29,590 --> 00:08:33,190
can even do a little bit of really basic

00:08:31,630 --> 00:08:35,800
performance monitoring of the guests and

00:08:33,190 --> 00:08:37,120
I do mean seriously basic this is not

00:08:35,800 --> 00:08:38,980
going to make noon and go away anytime

00:08:37,120 --> 00:08:42,010
soon but it's there you can get a quick

00:08:38,980 --> 00:08:44,350
look and of course guess console axis

00:08:42,010 --> 00:08:47,620
mostly via VNC although we'll talk about

00:08:44,350 --> 00:08:49,510
some alternatives later on the other

00:08:47,620 --> 00:08:50,360
neat thing and if you were at bill

00:08:49,510 --> 00:08:52,450
Pharaoh's talk

00:08:50,360 --> 00:08:55,339
time you saw him start to touch on this

00:08:52,450 --> 00:08:57,649
we can we can manage virtual machines

00:08:55,339 --> 00:09:00,110
not just on our own machine but on any

00:08:57,649 --> 00:09:01,370
machine that we can ssh to and this

00:09:00,110 --> 00:09:03,079
screenshot we're looking at verte

00:09:01,370 --> 00:09:04,910
manager we've got our three machines on

00:09:03,079 --> 00:09:07,070
our local host up at the top but then

00:09:04,910 --> 00:09:09,649
down below that we've got another server

00:09:07,070 --> 00:09:11,930
that we're connected to buy SSH and we

00:09:09,649 --> 00:09:13,490
can see the you know we can see for

00:09:11,930 --> 00:09:15,140
virtual machines running on that one and

00:09:13,490 --> 00:09:17,450
then another one down there below it

00:09:15,140 --> 00:09:20,450
with more so you can manage an entire

00:09:17,450 --> 00:09:22,880
fleet of hosts with guests on them all

00:09:20,450 --> 00:09:24,230
from verte manager all in one place have

00:09:22,880 --> 00:09:26,420
them all show at once and just go to

00:09:24,230 --> 00:09:30,200
whichever one you need to go to this is

00:09:26,420 --> 00:09:33,500
something that I do every day I have I

00:09:30,200 --> 00:09:36,050
have probably 40 or so hosts that I

00:09:33,500 --> 00:09:37,640
manage and they're all set up invert

00:09:36,050 --> 00:09:39,290
manager it remembers my connections to

00:09:37,640 --> 00:09:40,790
all of them you can tell it to

00:09:39,290 --> 00:09:42,649
automatically connect when you open

00:09:40,790 --> 00:09:44,750
verte manager or it will just connect

00:09:42,649 --> 00:09:46,370
when you double-click that hosts entry

00:09:44,750 --> 00:09:48,230
and then it will show the VMS under that

00:09:46,370 --> 00:09:50,000
which is generally what i do because i

00:09:48,230 --> 00:09:52,010
don't really want to wait for 40 ssh

00:09:50,000 --> 00:09:54,500
tunnels to open every time I open up

00:09:52,010 --> 00:09:56,360
vertige r and of course right over there

00:09:54,500 --> 00:09:58,820
the console that you see right there the

00:09:56,360 --> 00:10:00,829
VPN virtual machine that's not a guess

00:09:58,820 --> 00:10:03,980
that's on my localhost that actually is

00:10:00,829 --> 00:10:05,870
on that's a that's a machine an

00:10:03,980 --> 00:10:08,390
engineering firm that's across the town

00:10:05,870 --> 00:10:10,550
actually that's that's in south carolina

00:10:08,390 --> 00:10:13,459
and i took that screenshot up here in

00:10:10,550 --> 00:10:16,779
Charlotte of course we shouldn't be any

00:10:13,459 --> 00:10:18,980
strangers to remote access but still I

00:10:16,779 --> 00:10:20,420
mentioned Linux infrastructure and if

00:10:18,980 --> 00:10:23,510
you wondered what I meant by exposing

00:10:20,420 --> 00:10:25,250
Linux infrastructure to the guests again

00:10:23,510 --> 00:10:27,890
you know I do a lot of work with windows

00:10:25,250 --> 00:10:30,470
specifically windows servers and I do

00:10:27,890 --> 00:10:32,390
some I normally work in a small business

00:10:30,470 --> 00:10:35,089
world which means there's not a whole

00:10:32,390 --> 00:10:37,579
lot of budget to throw around so I don't

00:10:35,089 --> 00:10:38,870
just by default go oh hey let me throw a

00:10:37,579 --> 00:10:41,000
nine hundred dollar raid card net

00:10:38,870 --> 00:10:42,769
machine and connect up you know whatever

00:10:41,000 --> 00:10:44,990
was hot in terms of SAS drives and

00:10:42,769 --> 00:10:47,269
whatever I may just want to go hey let

00:10:44,990 --> 00:10:50,390
me get some commodity hardware and you

00:10:47,269 --> 00:10:52,579
know let me put a simple 4dr raid 10 in

00:10:50,390 --> 00:10:54,380
whatever well if you want to do md rate

00:10:52,579 --> 00:10:56,180
if you want to do lvm if you want to do

00:10:54,380 --> 00:10:58,190
any of these super awesome things that

00:10:56,180 --> 00:10:59,750
linux can do on the back end and windows

00:10:58,190 --> 00:11:01,279
never in a million years thought about

00:10:59,750 --> 00:11:03,190
or maybe they thought about it but

00:11:01,279 --> 00:11:05,050
thought they'd charge you extra for it

00:11:03,190 --> 00:11:06,700
you can do that and your guest doesn't

00:11:05,050 --> 00:11:09,670
need to know anything about it your gift

00:11:06,700 --> 00:11:10,690
just goes I have a CD drive but you can

00:11:09,670 --> 00:11:14,770
do all these great things in the

00:11:10,690 --> 00:11:17,290
background alright so if you actually

00:11:14,770 --> 00:11:19,060
want to install kvm you could use the

00:11:17,290 --> 00:11:21,220
software center that's not really the

00:11:19,060 --> 00:11:22,840
way I normally live but if you like and

00:11:21,220 --> 00:11:25,210
I'm going to assume a bun to for most of

00:11:22,840 --> 00:11:27,100
this I want a bun to guy it's going to

00:11:25,210 --> 00:11:28,950
be pretty similar in any distro if

00:11:27,100 --> 00:11:32,320
you're a redhead or sent to us type

00:11:28,950 --> 00:11:35,830
basically just replace app get with yum

00:11:32,320 --> 00:11:37,870
and it's pretty much the same thing but

00:11:35,830 --> 00:11:39,850
yeah so on a bun to advocate install kvm

00:11:37,870 --> 00:11:42,820
vert manager and the last one is

00:11:39,850 --> 00:11:44,320
optional python spice client gtk if you

00:11:42,820 --> 00:11:46,390
want to try to use spice to control your

00:11:44,320 --> 00:11:47,800
guests instead of VNC which we'll get

00:11:46,390 --> 00:11:51,370
into a little bit more later you need

00:11:47,800 --> 00:11:53,320
that one that's one thing if if you've

00:11:51,370 --> 00:11:55,090
heard of spice if you came here wanting

00:11:53,320 --> 00:11:57,070
to learn about spice if you want to play

00:11:55,090 --> 00:11:59,230
with that later that is the one note you

00:11:57,070 --> 00:12:01,090
should probably take right now because

00:11:59,230 --> 00:12:02,890
there's not a real good pointer letting

00:12:01,090 --> 00:12:04,510
you know the one magical package that

00:12:02,890 --> 00:12:06,790
you actually do need to install to get

00:12:04,510 --> 00:12:11,350
it to work and that's it python spice

00:12:06,790 --> 00:12:13,660
client gtk so not difficult actually

00:12:11,350 --> 00:12:15,850
setting up your first guests super easy

00:12:13,660 --> 00:12:18,280
do it right from the command line vert

00:12:15,850 --> 00:12:19,600
install connect cute is anybody still

00:12:18,280 --> 00:12:22,300
paying attention yeah I'm just kidding

00:12:19,600 --> 00:12:23,890
you can do that that was that was an

00:12:22,300 --> 00:12:25,420
example how to actually install a guest

00:12:23,890 --> 00:12:27,460
from the command line if you find

00:12:25,420 --> 00:12:30,010
yourself needing to shell into a server

00:12:27,460 --> 00:12:31,780
a headless somewhere and you just don't

00:12:30,010 --> 00:12:34,570
have access to vert manager any other

00:12:31,780 --> 00:12:36,280
tools you can do anything vert manager

00:12:34,570 --> 00:12:39,010
just in the command line for something

00:12:36,280 --> 00:12:41,080
like installing a guest it's going to be

00:12:39,010 --> 00:12:42,580
kind of painful you can control

00:12:41,080 --> 00:12:45,280
absolutely everything that one command

00:12:42,580 --> 00:12:48,070
and get it done but this is a case where

00:12:45,280 --> 00:12:50,560
I'm a big fan of the GUI so we just go

00:12:48,070 --> 00:12:52,089
to create a new virtual machine where we

00:12:50,560 --> 00:12:54,310
had vert manager and you saw you to your

00:12:52,089 --> 00:12:55,870
host names like localhost you can just

00:12:54,310 --> 00:12:58,030
right click on one and say add new

00:12:55,870 --> 00:13:00,310
machine add any machine this right here

00:12:58,030 --> 00:13:02,770
pops up give her virtual machine a name

00:13:00,310 --> 00:13:05,080
and tell it the install type that you

00:13:02,770 --> 00:13:06,700
want most of the time to say local

00:13:05,080 --> 00:13:08,950
install media but you can import an

00:13:06,700 --> 00:13:10,570
existing image you do Pixie boot you can

00:13:08,950 --> 00:13:13,089
do a network install which I have never

00:13:10,570 --> 00:13:14,710
even begun to do that but in this case

00:13:13,089 --> 00:13:16,200
we're just going to install from local

00:13:14,710 --> 00:13:19,140
media which is going to be

00:13:16,200 --> 00:13:23,370
a we're going to be using a Windows

00:13:19,140 --> 00:13:26,250
Server 2012 installation the cool thing

00:13:23,370 --> 00:13:28,410
is you don't need to burn an actual CD

00:13:26,250 --> 00:13:29,940
or a DVD if you have a physical one sure

00:13:28,410 --> 00:13:32,790
you can slap it in the drive and you can

00:13:29,940 --> 00:13:35,070
use that but what I do by far more often

00:13:32,790 --> 00:13:37,230
is I just point to the ISO file and

00:13:35,070 --> 00:13:39,270
that's good enough it connects the ISO

00:13:37,230 --> 00:13:41,430
file to a virtual CD ROM you boot or

00:13:39,270 --> 00:13:44,070
dvd-rom you boot from that you're off to

00:13:41,430 --> 00:13:45,300
the races below that it did ask us to

00:13:44,070 --> 00:13:47,880
choose an operating system type

00:13:45,300 --> 00:13:49,650
inversion and you might be saying well

00:13:47,880 --> 00:13:51,150
didn't you just say you could virtualize

00:13:49,650 --> 00:13:53,250
everything and that was the great things

00:13:51,150 --> 00:13:54,750
it wasn't picky it really isn't picky

00:13:53,250 --> 00:13:56,220
and you can pick things that you won't

00:13:54,750 --> 00:13:57,840
find answers for down there in

00:13:56,220 --> 00:13:59,580
particular you might notice that I said

00:13:57,840 --> 00:14:00,930
we're going to do windows server 2008

00:13:59,580 --> 00:14:03,930
we're really going to do when to server

00:14:00,930 --> 00:14:05,700
2012 what those what the operating

00:14:03,930 --> 00:14:08,520
system type in version they're actually

00:14:05,700 --> 00:14:10,200
does is it tries to give you a good set

00:14:08,520 --> 00:14:11,700
of virtual hardware that it thinks will

00:14:10,200 --> 00:14:14,340
work out of the box with your particular

00:14:11,700 --> 00:14:15,690
guest if you have a guess that they

00:14:14,340 --> 00:14:17,310
never heard of or just didn't think

00:14:15,690 --> 00:14:20,010
about like the first time I tried to

00:14:17,310 --> 00:14:21,780
virtualize pc-bsd just pick something

00:14:20,010 --> 00:14:26,280
you think might sound somewhere and you

00:14:21,780 --> 00:14:29,430
can work with it when you get there now

00:14:26,280 --> 00:14:32,760
we will allocate ram and cpu to the

00:14:29,430 --> 00:14:35,190
machine and one thing to keep in mind

00:14:32,760 --> 00:14:37,310
when it comes to allocating cpus if you

00:14:35,190 --> 00:14:42,180
have a dual-core CPU you can absolutely

00:14:37,310 --> 00:14:44,390
give your guests 16 CPUs performance may

00:14:42,180 --> 00:14:46,860
not be everything that you would hope

00:14:44,390 --> 00:14:48,540
it's certainly possible to over

00:14:46,860 --> 00:14:50,070
subscribe your total number of guests to

00:14:48,540 --> 00:14:52,620
the total number of CPU cores you have

00:14:50,070 --> 00:14:54,420
but if they're actually really trying to

00:14:52,620 --> 00:14:55,950
hammer on all of them all at once your

00:14:54,420 --> 00:14:59,160
performance will tank really quickly so

00:14:55,950 --> 00:15:00,750
be reasonable also remember for any

00:14:59,160 --> 00:15:04,320
virtualization newbies out there if you

00:15:00,750 --> 00:15:07,290
have a quad-core processor you might not

00:15:04,320 --> 00:15:09,450
want to give a guest for cpu cores you

00:15:07,290 --> 00:15:10,980
can do it and if your guest is fairly

00:15:09,450 --> 00:15:13,260
lightly loaded it will work pretty well

00:15:10,980 --> 00:15:15,810
but most of the time it's a really good

00:15:13,260 --> 00:15:17,760
idea to reserve at least one core for

00:15:15,810 --> 00:15:27,800
your host it actually does need some ram

00:15:17,760 --> 00:15:30,660
and cpu of its own other than testing no

00:15:27,800 --> 00:15:32,580
and even then probably not you should

00:15:30,660 --> 00:15:34,020
probably do something better than i just

00:15:32,580 --> 00:15:37,710
mention that in that one thing that you

00:15:34,020 --> 00:15:39,060
will if you do a lot of kvm you may very

00:15:37,710 --> 00:15:41,190
well come to the point where you have

00:15:39,060 --> 00:15:43,530
more total guests and you want each of

00:15:41,190 --> 00:15:45,060
them to maybe have two cores and it all

00:15:43,530 --> 00:15:46,440
adds up to more cores you've got on your

00:15:45,060 --> 00:15:47,790
host computer and if they're lightly

00:15:46,440 --> 00:15:49,140
loaded enough that's perfectly

00:15:47,790 --> 00:15:52,050
reasonable and it will work perfectly

00:15:49,140 --> 00:15:54,180
well however if you you know if they all

00:15:52,050 --> 00:15:56,820
try to peg the CPU as hard as possible

00:15:54,180 --> 00:15:58,290
at once again everything will work but

00:15:56,820 --> 00:16:29,160
your total performance will definitely

00:15:58,290 --> 00:16:32,730
start to go downhill yeah absolutely

00:16:29,160 --> 00:16:34,710
true don't give virtual machines more

00:16:32,730 --> 00:16:36,720
stuff and they actually need and

00:16:34,710 --> 00:16:39,360
actually another thing about that is RAM

00:16:36,720 --> 00:16:40,950
believe it or not it particularly when

00:16:39,360 --> 00:16:43,710
you've got windows guest you may find

00:16:40,950 --> 00:16:45,660
that now if you give a Windows guest

00:16:43,710 --> 00:16:48,150
more ram it will cheerfully eat it right

00:16:45,660 --> 00:16:50,430
the heck up immediately but what you may

00:16:48,150 --> 00:16:51,930
find when you're virtualizing is that

00:16:50,430 --> 00:16:53,790
you may find that you get better

00:16:51,930 --> 00:16:57,570
performance out of windows guests when

00:16:53,790 --> 00:16:59,400
you actually give them less memory what

00:16:57,570 --> 00:17:02,010
happens is rather than attempting to

00:16:59,400 --> 00:17:04,470
page your applications out of RAM and do

00:17:02,010 --> 00:17:07,079
do I owe caching you know disk caching

00:17:04,470 --> 00:17:09,060
itself and your windows guest with less

00:17:07,079 --> 00:17:11,189
ram but enough to run the applications

00:17:09,060 --> 00:17:12,839
they'll keep the application page din

00:17:11,189 --> 00:17:15,270
meanwhile your host with the ram that

00:17:12,839 --> 00:17:16,800
you saved will do your i/o caching on

00:17:15,270 --> 00:17:18,300
the host and when you have to reboot

00:17:16,800 --> 00:17:20,880
your Windows machine which you will

00:17:18,300 --> 00:17:23,579
because it's windows you don't lose your

00:17:20,880 --> 00:17:25,650
disk cache so it reboots really really

00:17:23,579 --> 00:17:27,120
quickly on the other hand if you give

00:17:25,650 --> 00:17:28,860
your windows guessed as much RAM as you

00:17:27,120 --> 00:17:30,690
possibly can it will manage it really

00:17:28,860 --> 00:17:32,280
badly and it will lose all of it when

00:17:30,690 --> 00:17:34,230
you have to reboot it which you will

00:17:32,280 --> 00:17:36,150
because it's windows

00:17:34,230 --> 00:17:37,590
so yeah give you give your vm enough

00:17:36,150 --> 00:17:39,150
room to breathe here and you know the

00:17:37,590 --> 00:17:42,030
nice thing again is you know this is all

00:17:39,150 --> 00:17:43,890
virtual even if it's windows you can

00:17:42,030 --> 00:17:45,840
just shut the thing down and change your

00:17:43,890 --> 00:17:48,059
allocation and reboot it and see if it

00:17:45,840 --> 00:17:50,640
runs better play with it do what works

00:17:48,059 --> 00:17:52,230
the best I don't talk a lot about

00:17:50,640 --> 00:17:54,030
virtualizing Linux in this particular

00:17:52,230 --> 00:17:55,320
talk but one kind of neat thing that

00:17:54,030 --> 00:17:56,549
will blow your mind the first time you

00:17:55,320 --> 00:17:58,890
see it if somebody like me hasn't

00:17:56,549 --> 00:18:01,440
spoiled it for you if you've got a

00:17:58,890 --> 00:18:04,440
relatively modern Linux guest under kvm

00:18:01,440 --> 00:18:06,179
if you go in while the guest is running

00:18:04,440 --> 00:18:07,860
until it no you don't have to gigs ram

00:18:06,179 --> 00:18:10,200
actually you have four gigs of ram and

00:18:07,860 --> 00:18:11,970
it's been running the whole time and now

00:18:10,200 --> 00:18:14,910
on the console you say free em and it

00:18:11,970 --> 00:18:16,710
says I have four gigs around even more

00:18:14,910 --> 00:18:18,330
mind-blowing than that assuming the

00:18:16,710 --> 00:18:20,910
guest has enough free memory to begin

00:18:18,330 --> 00:18:23,549
with it's got four gigs ram utilit no no

00:18:20,910 --> 00:18:25,230
actually you only have 512 megs assuming

00:18:23,549 --> 00:18:27,870
it had that much free it will just

00:18:25,230 --> 00:18:30,000
cheerfully tell you oh I've got 512

00:18:27,870 --> 00:18:31,500
Meg's if you had more ram than that

00:18:30,000 --> 00:18:32,520
actually taken then the out of memory

00:18:31,500 --> 00:18:41,450
killer is going to come up and you're

00:18:32,520 --> 00:18:41,450
gonna have a bad time but you know yeah

00:18:42,380 --> 00:18:49,220
alright so the next step is to add

00:18:45,210 --> 00:18:51,299
storage for a vm and in now this is

00:18:49,220 --> 00:18:52,590
we'll talk a little bit more about this

00:18:51,299 --> 00:18:55,590
later there are several different

00:18:52,590 --> 00:18:59,100
formats of storage that you can use you

00:18:55,590 --> 00:19:01,620
can you can feed a vm an entire raw disk

00:18:59,100 --> 00:19:04,350
drive you can feed it raw storage in the

00:19:01,620 --> 00:19:07,140
form of just a file that's just raw data

00:19:04,350 --> 00:19:09,330
in a file you can feed it lvm logical

00:19:07,140 --> 00:19:10,740
volumes but i honestly would not

00:19:09,330 --> 00:19:13,049
recommend you do any of those things

00:19:10,740 --> 00:19:16,230
that I just said there's a file format

00:19:13,049 --> 00:19:17,970
called Q cow to which it supports sparse

00:19:16,230 --> 00:19:19,500
allocation even if your file system

00:19:17,970 --> 00:19:22,020
underlying it doesn't which means you

00:19:19,500 --> 00:19:24,510
can say I want a 40 gig drive from IBM

00:19:22,020 --> 00:19:26,940
and poof it has what looks like a 40 gig

00:19:24,510 --> 00:19:29,070
drive but until you actually put data in

00:19:26,940 --> 00:19:33,000
it on your actual host you haven't

00:19:29,070 --> 00:19:34,919
stored anything QQ 2 also supports a lot

00:19:33,000 --> 00:19:37,770
of other features you can do snapshots

00:19:34,919 --> 00:19:40,830
you can save your VM image all kinds of

00:19:37,770 --> 00:19:42,630
things you will hear a lot of talk to

00:19:40,830 --> 00:19:44,760
the effect that oh but if you really

00:19:42,630 --> 00:19:47,380
want your vm to perform super fast you

00:19:44,760 --> 00:19:49,750
should totally feed it raw discs

00:19:47,380 --> 00:19:51,370
you should really do testing before you

00:19:49,750 --> 00:20:22,870
get too crazy about that you'll make

00:19:51,370 --> 00:20:24,400
your life yeah what he's getting at is

00:20:22,870 --> 00:20:26,350
when I mentioned there are a lot of

00:20:24,400 --> 00:20:28,450
other features in queue how to you give

00:20:26,350 --> 00:20:30,100
up if you do Ross storage one of them is

00:20:28,450 --> 00:20:32,170
going to be the ability to migrate your

00:20:30,100 --> 00:20:35,080
vm live from host to host that's only

00:20:32,170 --> 00:20:38,100
going to work on QQ if you use any kind

00:20:35,080 --> 00:20:41,500
of raw storage new not going to happen

00:20:38,100 --> 00:20:43,000
so that I mean the the features are one

00:20:41,500 --> 00:20:56,370
of the big reasons that you want cute

00:20:43,000 --> 00:20:59,650
cow to well if if you're doing I scuzzy

00:20:56,370 --> 00:21:01,120
if you're doing if you're doing I scuzzy

00:20:59,650 --> 00:21:03,610
on your Windows host that's kind of a

00:21:01,120 --> 00:21:04,810
horse of a different color that's kind

00:21:03,610 --> 00:21:26,860
of beyond what we're trying to get into

00:21:04,810 --> 00:21:28,030
right now yeah for the moment I'll we're

00:21:26,860 --> 00:21:30,130
really worried about is when somebody

00:21:28,030 --> 00:21:32,650
says oq cow to performance sucks don't

00:21:30,130 --> 00:21:34,480
do that you should you should either

00:21:32,650 --> 00:21:35,980
really test it yourself or at the very

00:21:34,480 --> 00:21:37,840
least look at some graphs that are out

00:21:35,980 --> 00:21:39,190
there from people who have like myself

00:21:37,840 --> 00:21:41,650
and we'll look at some a little bit

00:21:39,190 --> 00:21:42,940
later on you really are not giving up

00:21:41,650 --> 00:21:44,650
much of anything in the way of

00:21:42,940 --> 00:21:46,570
performance for Q cow to I did

00:21:44,650 --> 00:21:48,010
thoroughly test it and came to the

00:21:46,570 --> 00:21:55,480
conclusion that there was no reason to

00:21:48,010 --> 00:21:59,740
make my life more difficult whichever

00:21:55,480 --> 00:22:03,700
file system you have that ext4 does a

00:21:59,740 --> 00:22:06,670
great job if you want to get into if you

00:22:03,700 --> 00:22:11,620
want to get into using a more advanced

00:22:06,670 --> 00:22:14,110
file system so ext4 or XFS either one is

00:22:11,620 --> 00:22:16,150
going to work just fine if you want to

00:22:14,110 --> 00:22:19,270
get into something a little bit dice

00:22:16,150 --> 00:22:20,770
here like butter or ZFS most people will

00:22:19,270 --> 00:22:22,330
tell you that will be terrible and your

00:22:20,770 --> 00:22:24,490
performance will be awful and everything

00:22:22,330 --> 00:22:28,810
will suck and it will catch on fire it's

00:22:24,490 --> 00:22:31,000
not really true for the most part it

00:22:28,810 --> 00:22:32,320
doesn't there can be corner cases but

00:22:31,000 --> 00:22:33,610
whenever you start getting down into

00:22:32,320 --> 00:22:35,230
questions like that a lot of it comes

00:22:33,610 --> 00:22:39,790
down into you should really test it for

00:22:35,230 --> 00:22:41,920
yourself for the most part ZFS or butter

00:22:39,790 --> 00:22:43,540
or anything is going to work really well

00:22:41,920 --> 00:22:45,490
it's not just oh it works well enough

00:22:43,540 --> 00:22:49,090
that you'll get by it works really well

00:22:45,490 --> 00:22:50,710
there can be corner cases but if you're

00:22:49,090 --> 00:22:52,930
in those corner cases you really

00:22:50,710 --> 00:22:54,340
shouldn't I mean by the time you get

00:22:52,930 --> 00:22:55,480
down to one of those corner cases if

00:22:54,340 --> 00:22:57,190
you're administering something that's

00:22:55,480 --> 00:22:58,630
under the kind of load that's really

00:22:57,190 --> 00:23:01,690
going to notice a difference between

00:22:58,630 --> 00:23:03,970
whether you're running ext4 XFS or ZFS

00:23:01,690 --> 00:23:05,270
is your underlying file storage you

00:23:03,970 --> 00:23:06,890
really should be in a position

00:23:05,270 --> 00:23:08,530
you are doing your own testing and you

00:23:06,890 --> 00:23:16,910
know not raising your hand at conference

00:23:08,530 --> 00:23:18,530
like that guy is okay so so for the sake

00:23:16,910 --> 00:23:20,390
of camera at the camera there's been a

00:23:18,530 --> 00:23:22,730
lot of questions and a lot of going back

00:23:20,390 --> 00:23:25,010
and forth about the backing file system

00:23:22,730 --> 00:23:26,960
as well as the storage type of kvm and

00:23:25,010 --> 00:23:28,850
it boils down to whatever your file

00:23:26,960 --> 00:23:31,220
system is is almost certainly going to

00:23:28,850 --> 00:23:32,720
be fine and you're probably not going to

00:23:31,220 --> 00:23:36,080
have any significant performance

00:23:32,720 --> 00:23:38,450
difference between using raw storage in

00:23:36,080 --> 00:23:41,120
any of millions of forms you can have it

00:23:38,450 --> 00:23:42,890
or between q Cal 2 and you get a lot of

00:23:41,120 --> 00:23:46,520
extra features and ease of use with q

00:23:42,890 --> 00:23:50,060
cow too so make your life simple use q

00:23:46,520 --> 00:23:51,650
cow too all right so in this case we

00:23:50,060 --> 00:23:54,350
said we want a new storage volume we

00:23:51,650 --> 00:23:58,000
said format q cow too we told it 20 gigs

00:23:54,350 --> 00:24:00,230
and we click finish and ready to move on

00:23:58,000 --> 00:24:02,150
all right so that's it we're ready to

00:24:00,230 --> 00:24:05,480
begin installation we can see that we've

00:24:02,150 --> 00:24:06,980
got it it says server 2008 but of course

00:24:05,480 --> 00:24:08,540
again that's just we're going to give it

00:24:06,980 --> 00:24:11,240
a set of hardware that it thinks is good

00:24:08,540 --> 00:24:14,030
for 2008 doing a local install amount of

00:24:11,240 --> 00:24:16,880
RAM at a CPUs 20 gigs of storage we're

00:24:14,030 --> 00:24:19,430
just going to click finish and success

00:24:16,880 --> 00:24:22,460
we are installing windows server 2012

00:24:19,430 --> 00:24:24,020
that was not hard at all it took me way

00:24:22,460 --> 00:24:25,160
longer to talk about it here than it

00:24:24,020 --> 00:24:26,480
does just to go click the click click

00:24:25,160 --> 00:24:30,860
click and actually start your

00:24:26,480 --> 00:24:32,330
installation process now going back

00:24:30,860 --> 00:24:34,490
again to the horse that we already beat

00:24:32,330 --> 00:24:36,590
to death and beyond I mentioned grass

00:24:34,490 --> 00:24:38,870
and this is what I was talking about

00:24:36,590 --> 00:24:41,600
when I said you know Rob disk storage is

00:24:38,870 --> 00:24:45,070
just totally not worth it this is a

00:24:41,600 --> 00:24:48,560
graph showing its showing random i/o

00:24:45,070 --> 00:24:51,380
using a windows program called HD tune

00:24:48,560 --> 00:24:53,630
pro and what the graph actually is is

00:24:51,380 --> 00:24:58,160
starting from the left you've got 512

00:24:53,630 --> 00:25:02,710
byte random access 4k 64k one mag

00:24:58,160 --> 00:25:02,710
sequential and over on the left is

00:25:02,750 --> 00:25:07,280
read yeah over the left is read and over

00:25:05,480 --> 00:25:09,530
on the right is right so it goes from

00:25:07,280 --> 00:25:11,660
512 bytes all with sequential and all

00:25:09,530 --> 00:25:13,610
the way back to 512 bytes right on the

00:25:11,660 --> 00:25:15,440
left read on the right the dark blue

00:25:13,610 --> 00:25:18,530
line on the very top is bare metal

00:25:15,440 --> 00:25:22,040
performance and if you see the yellow

00:25:18,530 --> 00:25:24,350
line that is kvm raw disk the line that

00:25:22,040 --> 00:25:26,150
you can't quite see right underneath it

00:25:24,350 --> 00:25:31,700
just mimics it in every conceivable way

00:25:26,150 --> 00:25:32,990
is Q cow to on ext4 like I said and

00:25:31,700 --> 00:25:37,040
there there are some other things on

00:25:32,990 --> 00:25:41,990
there this is this is all no cache we've

00:25:37,040 --> 00:25:44,600
got ext4 on a-z volume and and XFS and

00:25:41,990 --> 00:25:45,790
QQ and all kinds of things but the point

00:25:44,600 --> 00:25:47,990
being here there are really no

00:25:45,790 --> 00:25:51,080
perceptible performance differences to

00:25:47,990 --> 00:25:54,740
be had just use Q cow to it really will

00:25:51,080 --> 00:25:56,120
make your life easier if you don't

00:25:54,740 --> 00:25:59,000
believe me do your own testing make your

00:25:56,120 --> 00:26:02,270
own graphs all right so I mentioned the

00:25:59,000 --> 00:26:03,650
hardware and you know we click through

00:26:02,270 --> 00:26:05,690
five steps and we're installing them

00:26:03,650 --> 00:26:07,940
into server 2012 vm and it really is

00:26:05,690 --> 00:26:09,430
that easy it really does just work but

00:26:07,940 --> 00:26:11,780
we can do a little bit better than that

00:26:09,430 --> 00:26:13,610
you know like i mentioned when we picked

00:26:11,780 --> 00:26:15,800
the operating system type in the actual

00:26:13,610 --> 00:26:17,930
operating system all we're really doing

00:26:15,800 --> 00:26:19,340
is giving kvm some good guesses to make

00:26:17,930 --> 00:26:22,160
about what kind of fake hardware to

00:26:19,340 --> 00:26:24,350
prevent present your guests with and the

00:26:22,160 --> 00:26:25,820
guess is work but they could be better

00:26:24,350 --> 00:26:31,520
even with what we've already got readily

00:26:25,820 --> 00:26:34,760
available so you know we it by default

00:26:31,520 --> 00:26:37,040
it's giving us an rtl8139 network

00:26:34,760 --> 00:26:39,530
chipset which if you don't know realtek

00:26:37,040 --> 00:26:41,780
you know like the back of your hand that

00:26:39,530 --> 00:26:44,510
is a fast ethernet card that's not a

00:26:41,780 --> 00:26:46,640
gigabit card and you might think as I

00:26:44,510 --> 00:26:47,990
once did well I'm sure it doesn't really

00:26:46,640 --> 00:26:50,180
matter it'll just go as fast as the

00:26:47,990 --> 00:26:52,940
underlying network and go no no no it

00:26:50,180 --> 00:26:54,440
won't it really will be 100 megabit I

00:26:52,940 --> 00:26:57,290
don't care what you connected to that's

00:26:54,440 --> 00:27:01,640
all you will ever get out of it you can

00:26:57,290 --> 00:27:03,740
see we're using an IDE disk it works in

00:27:01,640 --> 00:27:06,620
some cases you may actually want to use

00:27:03,740 --> 00:27:07,790
IDE you may have a you may have a guest

00:27:06,620 --> 00:27:09,590
that there are no pair of virtual

00:27:07,790 --> 00:27:11,179
drivers form which case I de will work

00:27:09,590 --> 00:27:13,880
or you can feed it several kinds of fake

00:27:11,179 --> 00:27:16,780
scuzzy drivers but we'll be able to do

00:27:13,880 --> 00:27:20,180
better and display the NC

00:27:16,780 --> 00:27:22,850
we can do better it's not always that

00:27:20,180 --> 00:27:24,140
much worth doing better spices your

00:27:22,850 --> 00:27:27,410
other option and we'll talk about that a

00:27:24,140 --> 00:27:31,310
little bit later but so generic ide disk

00:27:27,410 --> 00:27:33,770
controller everything supports that

00:27:31,310 --> 00:27:36,500
because it looks just like every generic

00:27:33,770 --> 00:27:38,630
ide chipset from you know the mid 90s on

00:27:36,500 --> 00:27:40,370
up every operating system on the planet

00:27:38,630 --> 00:27:43,880
knows what that thing is and will

00:27:40,370 --> 00:27:45,590
support it it's really really slower

00:27:43,880 --> 00:27:47,270
than it could be though now the

00:27:45,590 --> 00:27:48,740
interesting thing is if you start doing

00:27:47,270 --> 00:27:50,930
all those crazy graphs like I did before

00:27:48,740 --> 00:27:52,610
and really throw a whole bunch of random

00:27:50,930 --> 00:27:55,070
data at it you'll see how slow it really

00:27:52,610 --> 00:27:56,120
is your immediate perception if you

00:27:55,070 --> 00:27:57,710
don't know any better if you're

00:27:56,120 --> 00:27:59,900
installing say a Windows guest and you

00:27:57,710 --> 00:28:02,090
just use the default IDE drivers might

00:27:59,900 --> 00:28:04,430
be holy crap everything disc related is

00:28:02,090 --> 00:28:06,140
way faster right now which was the way I

00:28:04,430 --> 00:28:09,620
felt when I first got started with kam

00:28:06,140 --> 00:28:12,230
and perceptibly it is because the host

00:28:09,620 --> 00:28:14,600
is managing your disk cache and because

00:28:12,230 --> 00:28:16,550
it persists between reboots and frankly

00:28:14,600 --> 00:28:19,040
because Windows can't get it the hosts

00:28:16,550 --> 00:28:20,650
cash and page the cash out in favor of

00:28:19,040 --> 00:28:22,850
other stupid things from time to time

00:28:20,650 --> 00:28:25,490
everything actually feels quicker even

00:28:22,850 --> 00:28:26,810
with the IDE drivers however when you

00:28:25,490 --> 00:28:28,610
actually get down to the point of

00:28:26,810 --> 00:28:30,560
pushing the actual drives and your past

00:28:28,610 --> 00:28:32,030
the cash you'll get much better

00:28:30,560 --> 00:28:34,580
performance if you replace the ide

00:28:32,030 --> 00:28:38,860
controller with verdi 0 which i'll show

00:28:34,580 --> 00:28:42,980
you how to do in a few minutes rtl8139

00:28:38,860 --> 00:28:44,360
wide native support no gigabit a 1000

00:28:42,980 --> 00:28:46,070
you don't even have to go to the pair of

00:28:44,360 --> 00:28:47,960
virtual drivers it's just that little

00:28:46,070 --> 00:28:50,240
combo box or says what kind of Nick do I

00:28:47,960 --> 00:28:53,840
have you can say e 1000 which is an

00:28:50,240 --> 00:28:55,280
intel pro 1000 gigabit card it's right

00:28:53,840 --> 00:28:57,650
there you can just click into that it

00:28:55,280 --> 00:29:02,150
just works every windows since vista at

00:28:57,650 --> 00:29:03,590
least has supported it natively I mean

00:29:02,150 --> 00:29:05,270
without an additional driver I wouldn't

00:29:03,590 --> 00:29:07,310
sure about XP so yeah I mean it's

00:29:05,270 --> 00:29:08,810
ridiculous why they still use that as a

00:29:07,310 --> 00:29:10,400
default I don't know but even if you

00:29:08,810 --> 00:29:13,100
don't want to use the verdi o net driver

00:29:10,400 --> 00:29:14,480
please change that over to e1000 unless

00:29:13,100 --> 00:29:16,130
of course you just have an ancient

00:29:14,480 --> 00:29:18,860
crusty fast ethernet network of your own

00:29:16,130 --> 00:29:20,450
in which case it won't matter if you're

00:29:18,860 --> 00:29:22,160
really feeling frisky you can try the

00:29:20,450 --> 00:29:24,290
verdi of network driver now I'm not

00:29:22,160 --> 00:29:27,590
quite sure what the status on the

00:29:24,290 --> 00:29:29,530
windows virtio net driver is right now I

00:29:27,590 --> 00:29:32,080
have had issues with it in the past

00:29:29,530 --> 00:29:34,360
it will work great for a week and then

00:29:32,080 --> 00:29:36,280
just all of a sudden it does not work

00:29:34,360 --> 00:29:38,200
anymore until you reboot your guests and

00:29:36,280 --> 00:29:39,610
then at some point it does the same

00:29:38,200 --> 00:29:41,950
thing and then eventually you say screw

00:29:39,610 --> 00:29:44,530
this and go back to an e 1000 that may

00:29:41,950 --> 00:29:45,850
have all been fixed right now so you

00:29:44,530 --> 00:29:49,960
know if you're in a testing frame of

00:29:45,850 --> 00:29:51,610
mind test it if you do not want to test

00:29:49,960 --> 00:29:55,570
it then just use the e1000 it'll do

00:29:51,610 --> 00:29:57,430
pretty damn well in in actual practice I

00:29:55,570 --> 00:29:59,620
can usually come pretty close to

00:29:57,430 --> 00:30:02,920
saturating and gigabit network using the

00:29:59,620 --> 00:30:04,900
e1000 virtual driver you do get better

00:30:02,920 --> 00:30:06,340
performance out of verdi oh it may or

00:30:04,900 --> 00:30:07,990
may not be worth it there if the

00:30:06,340 --> 00:30:09,250
stability is there it'll be worth it but

00:30:07,990 --> 00:30:13,210
I don't know if it's there yet and I

00:30:09,250 --> 00:30:16,390
don't want to lead your own okay so

00:30:13,210 --> 00:30:19,120
finally VNC vga again wide native

00:30:16,390 --> 00:30:21,040
support the con here is latency if

00:30:19,120 --> 00:30:24,910
you've ever used VNC before then you

00:30:21,040 --> 00:30:26,920
know that VNC can be pretty slow this is

00:30:24,910 --> 00:30:30,760
not as big a problem as it used to be

00:30:26,920 --> 00:30:32,800
five years ago the the latency and using

00:30:30,760 --> 00:30:34,930
verte manager with a VNC console was

00:30:32,800 --> 00:30:37,360
really significant even on the localhost

00:30:34,930 --> 00:30:39,790
you would sometimes wave your mouse

00:30:37,360 --> 00:30:41,980
across your console and watch the little

00:30:39,790 --> 00:30:43,840
arrow go trailing behind it like a

00:30:41,980 --> 00:30:45,430
little lost puppy that's not really the

00:30:43,840 --> 00:30:48,010
case anymore it's actually really pretty

00:30:45,430 --> 00:30:49,540
snappy and I think we'll have enough

00:30:48,010 --> 00:30:51,160
time to hopefully do a little bit of

00:30:49,540 --> 00:30:54,010
demo of that but if you want to do

00:30:51,160 --> 00:30:57,100
better you can use spice and kick cyl

00:30:54,010 --> 00:30:58,870
spice is a red hat technology which is

00:30:57,100 --> 00:31:00,550
optimized for really high bandwidth

00:30:58,870 --> 00:31:02,740
really low latency networks to give you

00:31:00,550 --> 00:31:04,690
everything super flashy color it

00:31:02,740 --> 00:31:07,300
actually pulls sound through kind of

00:31:04,690 --> 00:31:08,800
like HDMI which is pretty neat you know

00:31:07,300 --> 00:31:10,600
if you're just trying to kind of like

00:31:08,800 --> 00:31:12,160
have a Windows workstation on your

00:31:10,600 --> 00:31:13,720
machine and you want to hear the little

00:31:12,160 --> 00:31:15,070
sound when you boot your windows box and

00:31:13,720 --> 00:31:17,710
whatever else you might want to do spice

00:31:15,070 --> 00:31:19,900
does a pretty good job with it for work

00:31:17,710 --> 00:31:21,790
type stuff to be honest I mostly just I

00:31:19,900 --> 00:31:24,340
don't use the console much I use rdp

00:31:21,790 --> 00:31:26,470
when I have windows server vm xand I

00:31:24,340 --> 00:31:28,900
need to connect to them remotely unless

00:31:26,470 --> 00:31:30,820
something is broken with them I RDP into

00:31:28,900 --> 00:31:33,510
them just like they were bare metal

00:31:30,820 --> 00:31:35,340
boxes honestly the

00:31:33,510 --> 00:31:37,890
the open source world doesn't have a

00:31:35,340 --> 00:31:40,050
real good answer to already be yet the

00:31:37,890 --> 00:31:41,880
closest thing is free and X and it's a

00:31:40,050 --> 00:31:43,740
pain in the butt and it's only Linux and

00:31:41,880 --> 00:31:46,170
it still doesn't really quite perform as

00:31:43,740 --> 00:31:49,200
well rdp does really well over a wide

00:31:46,170 --> 00:31:50,790
variety of networks in particular if

00:31:49,200 --> 00:31:52,590
you're super excited about spice because

00:31:50,790 --> 00:31:54,870
you think it will do a better job across

00:31:52,590 --> 00:31:56,640
a win then your VNC connections have

00:31:54,870 --> 00:31:58,170
invert manager I will go ahead and

00:31:56,640 --> 00:31:59,610
disabuse you right now I don't have a

00:31:58,170 --> 00:32:02,280
demo for that for you today but it

00:31:59,610 --> 00:32:03,570
actually sucks worse than BNC it's great

00:32:02,280 --> 00:32:10,580
on the local host that's the only thing

00:32:03,570 --> 00:32:10,580
it's good for right now about what now I

00:32:12,410 --> 00:32:29,400
think I haven't heard of it alright so

00:32:27,570 --> 00:32:31,230
if you got a Windows guest how do you

00:32:29,400 --> 00:32:34,440
actually get the drivers for this fur do

00:32:31,230 --> 00:32:36,990
stuff the easy way is just go to spice

00:32:34,440 --> 00:32:39,750
paste org download and you download an

00:32:36,990 --> 00:32:42,210
executable it's the spice guest tools

00:32:39,750 --> 00:32:44,280
you run it and it was it will install

00:32:42,210 --> 00:32:46,980
all of the para virtualized drivers than

00:32:44,280 --> 00:32:49,500
Windows OS so you get the you get the

00:32:46,980 --> 00:32:51,030
kick cyl drivers for spice video you get

00:32:49,500 --> 00:32:53,280
the network driver if you decide to

00:32:51,030 --> 00:32:55,200
expose a verte io network card you get

00:32:53,280 --> 00:32:57,240
the storage driver you get a memory

00:32:55,200 --> 00:32:59,310
balloon driver all that stuff all in one

00:32:57,240 --> 00:33:02,610
fell swoop you don't even ever have to

00:32:59,310 --> 00:33:05,610
hit the device manager so that's pretty

00:33:02,610 --> 00:33:07,140
handy if you're doing server 2008 or if

00:33:05,610 --> 00:33:09,150
you're doing windows 7 or anything

00:33:07,140 --> 00:33:13,530
earlier than that however if you're

00:33:09,150 --> 00:33:16,140
doing Server 2012 or Windows 8.1 haha no

00:33:13,530 --> 00:33:18,900
you can't do that in Windows 8 and then

00:33:16,140 --> 00:33:21,390
Server 2012 Microsoft changed video

00:33:18,900 --> 00:33:24,000
device driver models so the kick cyl

00:33:21,390 --> 00:33:26,880
driver won't work so the you can't have

00:33:24,000 --> 00:33:28,740
spice at all and in fact the spice guest

00:33:26,880 --> 00:33:32,580
tools installer will bomb out however

00:33:28,740 --> 00:33:35,700
you can still have verdi Oh this right

00:33:32,580 --> 00:33:37,650
here is on fedora project their list of

00:33:35,700 --> 00:33:40,170
the verdi o drivers there's an ISO there

00:33:37,650 --> 00:33:42,270
you can download that is oh you can

00:33:40,170 --> 00:33:45,690
connect it as a virtual CD ROM to your

00:33:42,270 --> 00:33:46,860
guests and you can do the old device

00:33:45,690 --> 00:33:48,929
manager Fandango

00:33:46,860 --> 00:33:53,010
after you have gone and changed here

00:33:48,929 --> 00:33:54,000
your storage type actually we're going a

00:33:53,010 --> 00:33:55,770
little bit more than that so we're going

00:33:54,000 --> 00:33:57,120
to do the device manager thing but

00:33:55,770 --> 00:34:01,080
here's the thing if you've already

00:33:57,120 --> 00:34:02,850
installed your guests on IDE how do you

00:34:01,080 --> 00:34:04,770
get the verdi Oh storage drivers instead

00:34:02,850 --> 00:34:06,510
won't windows just blue screen there's a

00:34:04,770 --> 00:34:08,730
trick to it you don't have to just stop

00:34:06,510 --> 00:34:10,290
and reinstall windows all over again the

00:34:08,730 --> 00:34:12,840
first thing that you do is you create a

00:34:10,290 --> 00:34:14,760
little dribbly throw away drive for your

00:34:12,840 --> 00:34:16,980
guests a second hard drive with a ver

00:34:14,760 --> 00:34:19,919
tuyo driver so we just made a little you

00:34:16,980 --> 00:34:21,510
know point 1 gig drive and you can't see

00:34:19,919 --> 00:34:23,510
because it cut me off down at the bottom

00:34:21,510 --> 00:34:28,649
but I picked verdi 0 for the drive type

00:34:23,510 --> 00:34:30,149
and in here I went over to my cd-rom and

00:34:28,649 --> 00:34:32,609
I click the connect button and I

00:34:30,149 --> 00:34:35,010
connected it to my vertigo is 0 that i

00:34:32,609 --> 00:34:36,780
just downloaded so now Windows is going

00:34:35,010 --> 00:34:40,889
to actually see that as a CD in the

00:34:36,780 --> 00:34:42,389
drive and now we see that we have this

00:34:40,889 --> 00:34:43,770
random scuzzy controller that just

00:34:42,389 --> 00:34:45,179
popped up in our device manager that

00:34:43,770 --> 00:34:46,980
wasn't there before that's your vertigo

00:34:45,179 --> 00:34:48,629
controller and that won't show up there

00:34:46,980 --> 00:34:51,030
without that little extra drive that you

00:34:48,629 --> 00:34:52,530
just added but since it's a second drive

00:34:51,030 --> 00:34:54,090
window still boots because nothing has

00:34:52,530 --> 00:34:56,850
changed with its main drive yet so we

00:34:54,090 --> 00:34:58,890
rebooted we got that we click update

00:34:56,850 --> 00:35:02,850
driver software and we feed at the

00:34:58,890 --> 00:35:04,710
driver and now we restart the machine I

00:35:02,850 --> 00:35:06,119
skip the step in here we went back and

00:35:04,710 --> 00:35:08,160
now this time we got rid of that little

00:35:06,119 --> 00:35:10,020
extra thorough way drive we added and we

00:35:08,160 --> 00:35:12,690
change the drive type for our main drive

00:35:10,020 --> 00:35:14,190
from I de tu veux do but Windows has

00:35:12,690 --> 00:35:16,950
installed the driver now and it just

00:35:14,190 --> 00:35:19,170
boots right on up it boots considerably

00:35:16,950 --> 00:35:20,910
faster now if you were thinking ahead

00:35:19,170 --> 00:35:22,980
and you want to do this from the start

00:35:20,910 --> 00:35:24,330
and like well hey what about that part

00:35:22,980 --> 00:35:25,980
when you're installing windows server

00:35:24,330 --> 00:35:27,990
when it says you know what if you want

00:35:25,980 --> 00:35:29,609
to install like a scuzzy driver yes you

00:35:27,990 --> 00:35:31,470
can totally do that from the CD 2 and

00:35:29,609 --> 00:35:32,910
skip this whole thing you can set it up

00:35:31,470 --> 00:35:34,920
with virtio storage from the get-go

00:35:32,910 --> 00:35:36,570
before you ever install it and you get

00:35:34,920 --> 00:35:38,700
to the thing press f whatever to load

00:35:36,570 --> 00:35:41,520
additional drivers you can connect your

00:35:38,700 --> 00:35:43,230
vertigo is 0 then but I never remember

00:35:41,520 --> 00:35:44,760
to do that ahead of time which is why I

00:35:43,230 --> 00:35:47,180
wanted to make sure I told you how to do

00:35:44,760 --> 00:35:47,180
it the hard way

00:35:51,150 --> 00:35:55,119
exactly and then we just removed it

00:35:53,530 --> 00:35:56,740
again the second we installed the driver

00:35:55,119 --> 00:35:58,510
there's just there's no other easy way

00:35:56,740 --> 00:36:01,750
to get windows to install the driver

00:35:58,510 --> 00:36:03,339
where it needs to go because you know I

00:36:01,750 --> 00:36:05,020
mean you can find the INF and right

00:36:03,339 --> 00:36:06,220
click it and say install and that sounds

00:36:05,020 --> 00:36:08,349
like something that would work but not

00:36:06,220 --> 00:36:10,390
doesn't work so you need the actual

00:36:08,349 --> 00:36:12,070
piece of hardware there to install the

00:36:10,390 --> 00:36:13,420
driver on and you can't do it on the

00:36:12,070 --> 00:36:15,040
main disk because windows with blue

00:36:13,420 --> 00:36:16,480
screen before it booted so that's what

00:36:15,040 --> 00:36:18,010
you do and then you throw away your

00:36:16,480 --> 00:36:19,570
little extra drive and change the main

00:36:18,010 --> 00:36:24,010
drive over to verdi own everything's

00:36:19,570 --> 00:36:26,740
good all right so VNC Spicer rdp Lex

00:36:24,010 --> 00:36:28,480
said you can swap out the VNC console

00:36:26,740 --> 00:36:31,660
invert manager with one for spice which

00:36:28,480 --> 00:36:34,480
is pretty nifty on the local host but

00:36:31,660 --> 00:36:36,460
your three options or VNC spice and RTP

00:36:34,480 --> 00:36:37,839
RTP assuming of course that you got

00:36:36,460 --> 00:36:40,000
windows on the other end or you want to

00:36:37,839 --> 00:36:42,820
set up xrdp for those of you are there

00:36:40,000 --> 00:36:45,670
really crazy they all have their pros

00:36:42,820 --> 00:36:47,230
and cons D&C for the most part is good

00:36:45,670 --> 00:36:49,720
enough for almost anything you want to

00:36:47,230 --> 00:36:51,910
do it just works it's not the best thing

00:36:49,720 --> 00:36:53,710
out there I mean you know there are

00:36:51,910 --> 00:36:55,839
better performance characteristics with

00:36:53,710 --> 00:36:57,460
nearly anything but it just works and

00:36:55,839 --> 00:36:59,470
it's already there and you probably

00:36:57,460 --> 00:37:01,960
don't really need to replace it unless

00:36:59,470 --> 00:37:04,900
you just like to fiddle if you do like

00:37:01,960 --> 00:37:07,060
to fiddle there Spice shiny bundled

00:37:04,900 --> 00:37:10,330
audio your beeps come through low local

00:37:07,060 --> 00:37:14,349
latency but it's not that reliable yet

00:37:10,330 --> 00:37:16,660
unfortunately I was gonna do instead of

00:37:14,349 --> 00:37:18,040
doing a live demo I was going to do GDK

00:37:16,660 --> 00:37:20,589
record my desktop and just kind of

00:37:18,040 --> 00:37:23,650
record some movies of you know me doing

00:37:20,589 --> 00:37:26,530
some stuff on consoles and when I was

00:37:23,650 --> 00:37:29,109
trying things like playing playing video

00:37:26,530 --> 00:37:31,150
clips over a guest that had spice video

00:37:29,109 --> 00:37:32,470
installed it would work for quite a

00:37:31,150 --> 00:37:34,060
while and then all of a sudden I would

00:37:32,470 --> 00:37:38,560
get rainbowy crap and I'd need to reboot

00:37:34,060 --> 00:37:39,940
my guests so it's it's reliable enough

00:37:38,560 --> 00:37:41,410
to work for hours and hours and hours

00:37:39,940 --> 00:37:43,060
and he'll days and days and days if

00:37:41,410 --> 00:37:45,760
you're not trying to do crazy stuff for

00:37:43,060 --> 00:37:47,290
a presentation on just you know whatever

00:37:45,760 --> 00:37:48,580
little workstation that you're doing to

00:37:47,290 --> 00:37:50,859
do the thing that you have your one

00:37:48,580 --> 00:37:52,330
windows thing for yourself but if you're

00:37:50,859 --> 00:37:54,730
setting up a windows server for

00:37:52,330 --> 00:37:56,980
production and you know 20 plus PB rely

00:37:54,730 --> 00:37:58,609
on the thing I can't really recommend

00:37:56,980 --> 00:38:00,499
spice right now you're not going to

00:37:58,609 --> 00:38:03,079
anything good at enough out of it to be

00:38:00,499 --> 00:38:05,359
worth an extra possibility that your

00:38:03,079 --> 00:38:08,509
Windows machine might lock up finally

00:38:05,359 --> 00:38:11,059
our DP low latency low bandwidth works

00:38:08,509 --> 00:38:12,849
everywhere utterly reliable honestly it

00:38:11,059 --> 00:38:16,819
kicks the pants out of everything else

00:38:12,849 --> 00:38:18,470
but it's not part of vert manager so for

00:38:16,819 --> 00:38:19,579
linux guests that's an extra pain in the

00:38:18,470 --> 00:38:23,420
butt you would actually have to set up

00:38:19,579 --> 00:38:25,220
xrdp to use rdp to go to an rdp gateway

00:38:23,420 --> 00:38:27,410
into the NC to blah blah blah blah blah

00:38:25,220 --> 00:38:29,089
blah blah it works fits pane windows

00:38:27,410 --> 00:38:32,029
guess it will just work to get into the

00:38:29,089 --> 00:38:34,130
guest but you don't have a consult your

00:38:32,029 --> 00:38:36,380
biggest disadvantage about not having a

00:38:34,130 --> 00:38:37,970
console with rdp is what happens when

00:38:36,380 --> 00:38:39,559
your windows guest is being troublesome

00:38:37,970 --> 00:38:42,170
and a pain in the butt not doing what

00:38:39,559 --> 00:38:43,880
you want it to during boot time which

00:38:42,170 --> 00:38:46,160
eventually it will because it's windows

00:38:43,880 --> 00:38:48,170
and if you don't have an actual console

00:38:46,160 --> 00:38:48,980
you can't get into the thing it will get

00:38:48,170 --> 00:38:50,960
all the way through the boot process

00:38:48,980 --> 00:38:52,460
assuming it does and then you can

00:38:50,960 --> 00:38:54,170
already p into it and get a desktop but

00:38:52,460 --> 00:38:55,670
if you wanted to watch it booting you're

00:38:54,170 --> 00:38:57,470
at look you've got to do that in the

00:38:55,670 --> 00:39:05,359
console which is going to mean invert

00:38:57,470 --> 00:39:07,819
manager using SPICE or VNC yeah probably

00:39:05,359 --> 00:39:09,349
spice honestly I haven't done a lot of

00:39:07,819 --> 00:39:12,410
messing around with that because I can't

00:39:09,349 --> 00:39:13,970
for the life of me figure out other than

00:39:12,410 --> 00:39:15,980
like ass answering questions on stack

00:39:13,970 --> 00:39:17,450
exchange from a clean machine I don't

00:39:15,980 --> 00:39:20,269
really have a whole lot of call to have

00:39:17,450 --> 00:39:22,940
a linux desktop virtualized on my linux

00:39:20,269 --> 00:39:24,559
desktop so i am played with it much but

00:39:22,940 --> 00:39:26,599
in general what i've discovered is that

00:39:24,559 --> 00:39:28,849
the verdi o drivers have pretty much

00:39:26,599 --> 00:39:30,440
always been rock solid for linux guests

00:39:28,849 --> 00:39:32,210
whereas they've been improving over time

00:39:30,440 --> 00:39:33,440
for the windows guest there was a time

00:39:32,210 --> 00:39:35,420
that I wouldn't mess with the verdi o

00:39:33,440 --> 00:39:37,640
storage driver on windows either that

00:39:35,420 --> 00:39:40,519
time has passed the verdad storage

00:39:37,640 --> 00:39:43,569
driver on windows now is rock solid I

00:39:40,519 --> 00:39:46,339
have not seen any issues with it in

00:39:43,569 --> 00:39:48,920
probably sixty plus guests in like two

00:39:46,339 --> 00:39:50,749
three years but yet there was a time

00:39:48,920 --> 00:39:54,259
than when I wouldn't do that either was

00:39:50,749 --> 00:39:56,539
it was ide only but yeah that entire

00:39:54,259 --> 00:39:59,119
time and before my first experiences of

00:39:56,539 --> 00:40:00,730
kvm actually were linux server guests

00:39:59,119 --> 00:40:03,019
fertilized on a linux server and

00:40:00,730 --> 00:40:04,759
everything by default goes in bertie oh

00:40:03,019 --> 00:40:06,980
and everything just you never have to

00:40:04,759 --> 00:40:10,480
think about it all just works so you

00:40:06,980 --> 00:40:10,480
wouldn't do anything different on linux

00:40:10,819 --> 00:40:15,720
it exists it's pain in the butt I don't

00:40:13,500 --> 00:40:22,650
really like it I don't use it that's my

00:40:15,720 --> 00:40:24,030
comment um well the first comment is I'd

00:40:22,650 --> 00:40:26,069
rather get back into the demos here we

00:40:24,030 --> 00:40:28,710
can go way deep in a rabbit hole on here

00:40:26,069 --> 00:40:30,690
in a nutshell if it works for you

00:40:28,710 --> 00:40:33,329
awesome if it doesn't work for you it's

00:40:30,690 --> 00:40:36,359
probably because it's extremely high

00:40:33,329 --> 00:40:38,609
bandwidth and it's not really really

00:40:36,359 --> 00:40:40,609
designed for any kind of remote access

00:40:38,609 --> 00:40:47,880
stuff it might work but it's a hack

00:40:40,609 --> 00:40:50,390
alright so now let's fire up verte

00:40:47,880 --> 00:40:50,390
manager

00:40:56,150 --> 00:41:05,630
okay and oh wow such low resolution this

00:41:00,230 --> 00:41:07,309
is going to be fun it's actually not too

00:41:05,630 --> 00:41:09,170
bad i'm really glad at this point that i

00:41:07,309 --> 00:41:21,490
don't normally pick super high

00:41:09,170 --> 00:41:21,490
resolutions for my windows VMS yeah

00:41:24,670 --> 00:41:35,510
alrighty it's solid state all right wow

00:41:34,069 --> 00:41:37,730
yeah we can't even get down to the start

00:41:35,510 --> 00:41:40,700
button this is going to be fun okay so

00:41:37,730 --> 00:41:44,650
this is your default VNC console there's

00:41:40,700 --> 00:41:44,650
there's nothing special going on here

00:41:45,910 --> 00:41:55,940
yeah awesome yay okay so Lex said

00:41:54,619 --> 00:41:58,279
there's nothing special going on this is

00:41:55,940 --> 00:42:00,470
your default VNC as you can see I mean

00:41:58,279 --> 00:42:02,589
there's nothing visibly wrong with it

00:42:00,470 --> 00:42:10,400
you know everything looks pretty good

00:42:02,589 --> 00:42:11,630
we'll go ahead and open up here and

00:42:10,400 --> 00:42:13,430
i will mention by the way this is the

00:42:11,630 --> 00:42:14,960
first time this windows vm has been

00:42:13,430 --> 00:42:17,839
booted on this machine since this

00:42:14,960 --> 00:42:19,760
machine has been booted last yeah

00:42:17,839 --> 00:42:21,799
there's a solid-state drive in here but

00:42:19,760 --> 00:42:25,510
still when I said kayvyun performance

00:42:21,799 --> 00:42:28,789
was good I wasn't kidding alright so

00:42:25,510 --> 00:42:36,200
camp and of course we have to scroll

00:42:28,789 --> 00:42:38,799
back up again yeah I could but where

00:42:36,200 --> 00:42:38,799
would be the fun in that

00:42:42,470 --> 00:42:49,940
ah yeah let's give that shot ever tried

00:42:47,420 --> 00:42:52,640
that on a smaller screen cool there you

00:42:49,940 --> 00:42:54,020
go click the full screen button I don't

00:42:52,640 --> 00:42:55,520
normally one of the eminence that's the

00:42:54,020 --> 00:42:57,050
full screen button it's not normally

00:42:55,520 --> 00:42:58,609
they like scale down to you know small

00:42:57,050 --> 00:43:00,680
or whatever and I don't normally use it

00:42:58,609 --> 00:43:02,570
because I like having my windows

00:43:00,680 --> 00:43:06,670
contained in a little box on my desktop

00:43:02,570 --> 00:43:09,440
I like to see the jail around it but

00:43:06,670 --> 00:43:11,090
yeah if you want to forget that you're

00:43:09,440 --> 00:43:12,530
on Linux other than the fact that you

00:43:11,090 --> 00:43:14,150
know maybe suck slightly less than it

00:43:12,530 --> 00:43:18,619
would have otherwise you can do that too

00:43:14,150 --> 00:43:20,030
all right so like said obviously we're

00:43:18,619 --> 00:43:22,849
you know this is this is not terrible

00:43:20,030 --> 00:43:24,380
this is our VNC console and I'm frankly

00:43:22,849 --> 00:43:26,210
having more trouble working my touchpad

00:43:24,380 --> 00:43:28,730
while I look 90 degrees off to the side

00:43:26,210 --> 00:43:30,500
than I am with console itself even if we

00:43:28,730 --> 00:43:33,440
want to do something relatively crazy

00:43:30,500 --> 00:43:41,630
like man I can't even see those icons

00:43:33,440 --> 00:43:45,500
over there rotate where are you man this

00:43:41,630 --> 00:43:46,580
is awful all right forget this can you

00:43:45,500 --> 00:43:51,369
just want a second let me mirror my

00:43:46,580 --> 00:43:51,369
displays because this is horrible

00:43:54,339 --> 00:43:57,970
somebody got a question back there

00:44:01,589 --> 00:44:10,750
no no no it's not no my only issue is

00:44:07,529 --> 00:44:11,950
using the touchpad while doing this like

00:44:10,750 --> 00:44:14,079
I'm pretty good at using the touchpad

00:44:11,950 --> 00:44:15,279
while I'm looking at the laptop but it's

00:44:14,079 --> 00:44:16,599
harder than you might think if you've

00:44:15,279 --> 00:44:18,099
never done it crank in your neck around

00:44:16,599 --> 00:44:31,809
like that and trying to touch pad around

00:44:18,099 --> 00:44:33,910
and tap and drag I really haven't

00:44:31,809 --> 00:44:35,529
because unless you unless you go do

00:44:33,910 --> 00:44:37,029
crazy stuff on your own it's all going

00:44:35,529 --> 00:44:39,369
to be installed for you and it will all

00:44:37,029 --> 00:44:41,559
just work that's not something that you

00:44:39,369 --> 00:44:43,329
have to go and do yourself when you set

00:44:41,559 --> 00:44:44,890
this guest up it's actually going to set

00:44:43,329 --> 00:44:47,049
up a tablet driver and you might ask

00:44:44,890 --> 00:44:48,940
yourself why did it set up a tablet

00:44:47,049 --> 00:44:51,279
driver I don't have a tablet and the

00:44:48,940 --> 00:44:54,519
answer is to fix some lag issues with

00:44:51,279 --> 00:44:56,980
curse replacement in VNC invert manager

00:44:54,519 --> 00:44:58,180
but basically it's it's already there it

00:44:56,980 --> 00:45:00,039
already works you don't really have to

00:44:58,180 --> 00:45:01,779
worry about it if you ever decide to go

00:45:00,039 --> 00:45:03,579
and delete that tablet hardware and you

00:45:01,779 --> 00:45:05,319
notice that you have some weirdness with

00:45:03,579 --> 00:45:07,890
curse replacement though that's why and

00:45:05,319 --> 00:45:10,240
just put it back and it'll get fixed

00:45:07,890 --> 00:45:11,440
anybody else here a user and

00:45:10,240 --> 00:45:12,759
complete me in the right direction for

00:45:11,440 --> 00:45:18,730
the freakin rotate tool well that will

00:45:12,759 --> 00:45:21,609
work actually so if one wanted to do

00:45:18,730 --> 00:45:23,680
something crazy with the image again

00:45:21,609 --> 00:45:24,759
this is the default VNC you can see a

00:45:23,680 --> 00:45:26,230
little bit of lag there while I'm

00:45:24,759 --> 00:45:29,200
stretching that around but it's not

00:45:26,230 --> 00:45:31,480
horrible it's completely usable will do

00:45:29,200 --> 00:45:32,799
way better with spice now but I just

00:45:31,480 --> 00:45:34,480
basically want to get the impression

00:45:32,799 --> 00:45:36,579
across that you know unless you just

00:45:34,480 --> 00:45:38,140
really really want to fiddle with it you

00:45:36,579 --> 00:45:40,450
really don't need to do much of anything

00:45:38,140 --> 00:45:46,750
different the VNC console is really

00:45:40,450 --> 00:45:52,269
pretty sufficient alright so let's shut

00:45:46,750 --> 00:45:54,819
this down and let's fire up this is a

00:45:52,269 --> 00:45:56,619
clone of the exact same vm but in this

00:45:54,819 --> 00:46:01,349
case I've installed the spice channels

00:45:56,619 --> 00:46:01,349
on it and the spice guest tools

00:46:09,260 --> 00:46:15,119
don't work under 8 2012 or above yet the

00:46:13,920 --> 00:46:18,599
Red Hat guys are going to have to come

00:46:15,119 --> 00:46:20,310
up with WDDM display drivers if you

00:46:18,599 --> 00:46:22,560
didn't hear that over my loud voice that

00:46:20,310 --> 00:46:24,510
was the DNA meaning of windows playing

00:46:22,560 --> 00:46:26,910
on my laptop because again when we do

00:46:24,510 --> 00:46:31,950
spice we actually get the sounds to come

00:46:26,910 --> 00:46:34,109
through no not the same time you can

00:46:31,950 --> 00:46:36,599
swim you can switch the same vm

00:46:34,109 --> 00:46:39,690
backwards and forwards from VNC to spice

00:46:36,599 --> 00:46:41,520
but in the interest of time I thought it

00:46:39,690 --> 00:46:46,800
would be better just to have two VMs set

00:46:41,520 --> 00:46:48,240
up with it oh yeah absolutely you can

00:46:46,800 --> 00:46:51,030
already p into either one it doesn't

00:46:48,240 --> 00:46:52,260
matter I mean yeah it's completely

00:46:51,030 --> 00:47:01,920
independent that's all in the window

00:46:52,260 --> 00:47:10,349
side all right yeah yeah you're using

00:47:01,920 --> 00:47:13,849
all Microsoft code for that did I miss

00:47:10,349 --> 00:47:13,849
my clique there we go

00:47:28,349 --> 00:47:36,749
ah well whatever okay so we've got our

00:47:34,769 --> 00:47:42,119
pretty flowers and we want to do some

00:47:36,749 --> 00:47:44,220
crazy stuff to it and you can see that

00:47:42,119 --> 00:47:46,789
it's it's a it's a bit less laggy but

00:47:44,220 --> 00:47:48,960
it's it's honestly not a huge difference

00:47:46,789 --> 00:47:50,160
you don't really see a difference until

00:47:48,960 --> 00:47:52,049
you start trying to do something really

00:47:50,160 --> 00:47:53,249
crazy like watching YouTube videos or

00:47:52,049 --> 00:47:55,619
you know which we're not going to do

00:47:53,249 --> 00:47:57,059
here because I refuse to rely on the

00:47:55,619 --> 00:48:01,410
internet bandwidth of conference no

00:47:57,059 --> 00:48:03,930
offense at SAC Underwood I do have a

00:48:01,410 --> 00:48:05,989
movie here on the desktop and this will

00:48:03,930 --> 00:48:08,789
be enough to make spiced lose its lunch

00:48:05,989 --> 00:48:13,729
if we play at full screen this is a 720p

00:48:08,789 --> 00:48:13,729
sample video that comes with Windows oh

00:48:14,869 --> 00:48:20,819
no that's the syntel video and that will

00:48:17,880 --> 00:48:25,499
make it lose its lunch really fast this

00:48:20,819 --> 00:48:27,269
is the windows sample video and you

00:48:25,499 --> 00:48:28,769
can't hear it but the sound you know

00:48:27,269 --> 00:48:30,960
which is just some like harpsichord e

00:48:28,769 --> 00:48:32,940
crap playing in the background is coming

00:48:30,960 --> 00:48:36,119
through my laptop speakers here as we

00:48:32,940 --> 00:48:38,099
watch the horses run yay I should have

00:48:36,119 --> 00:48:39,450
done this on VNC as well it would suck

00:48:38,099 --> 00:48:41,549
worse than what you see here if we were

00:48:39,450 --> 00:48:43,589
doing it on VNC by a long shot you'd

00:48:41,549 --> 00:48:45,089
actually see screen tearing with every

00:48:43,589 --> 00:48:48,749
single frame where you got about one

00:48:45,089 --> 00:48:50,880
frame every five or six seconds however

00:48:48,749 --> 00:48:52,619
this is not supposed to be a succession

00:48:50,880 --> 00:48:54,150
of still images we've overloaded the

00:48:52,619 --> 00:48:56,219
amount of bandwidth that we can handle

00:48:54,150 --> 00:48:58,890
with spiced with you know our full

00:48:56,219 --> 00:49:00,809
32-bit color and 720p and full screen on

00:48:58,890 --> 00:49:03,210
the other hand if we wanted to do

00:49:00,809 --> 00:49:05,279
something like it's still not completely

00:49:03,210 --> 00:49:06,779
unworkable if we drag this down to a

00:49:05,279 --> 00:49:12,749
smaller size it will actually play

00:49:06,779 --> 00:49:14,910
flawlessly you notice this time you know

00:49:12,749 --> 00:49:15,869
there's no hitching and glitching and as

00:49:14,910 --> 00:49:17,069
if we could actually tell the

00:49:15,869 --> 00:49:18,869
differences if you could hear there was

00:49:17,069 --> 00:49:21,809
anything but plink plink plink plink the

00:49:18,869 --> 00:49:23,579
music doesn't get out of sync either for

00:49:21,809 --> 00:49:25,410
stuff like just watching low res YouTube

00:49:23,579 --> 00:49:27,869
videos spice will actually work for that

00:49:25,410 --> 00:49:31,249
just you know don't expect to watch your

00:49:27,869 --> 00:49:31,249
HD stuff that you downloaded

00:49:36,910 --> 00:49:44,000
no it is all on localhost going from the

00:49:41,330 --> 00:49:46,400
vm to the host and honestly where

00:49:44,000 --> 00:49:54,110
exactly the bottleneck is I do not know

00:49:46,400 --> 00:49:55,430
what to tell you I mean ultimately it

00:49:54,110 --> 00:49:56,720
comes down to you just don't have enough

00:49:55,430 --> 00:49:58,010
network bandwidth for that amount of

00:49:56,720 --> 00:50:13,010
traffic I mean there's a reason that

00:49:58,010 --> 00:50:15,050
hdmi cables are expensive yeah yeah that

00:50:13,010 --> 00:50:17,600
that is that is future forward though

00:50:15,050 --> 00:50:18,710
another thing that is in theory present

00:50:17,600 --> 00:50:21,950
right now but won't do you any good

00:50:18,710 --> 00:50:24,620
invert manager the spice server and

00:50:21,950 --> 00:50:26,990
client support remote cut and paste so

00:50:24,620 --> 00:50:30,140
you can cut stuff on the vm and paste in

00:50:26,990 --> 00:50:31,430
your guests or vice versa in theory but

00:50:30,140 --> 00:50:33,260
you're going to have to actually roll

00:50:31,430 --> 00:50:34,460
your own spice server and spice client

00:50:33,260 --> 00:50:35,960
if you want that to actually work

00:50:34,460 --> 00:50:43,700
because it's not implemented invert

00:50:35,960 --> 00:50:49,220
manager yet invert manager it does not

00:50:43,700 --> 00:50:51,580
in windows hats off to you sir hats off

00:50:49,220 --> 00:50:51,580
to you

00:50:57,550 --> 00:51:01,350
let's see if we can get back where we

00:50:59,320 --> 00:51:01,350
were

00:51:23,730 --> 00:51:29,230
alright so actual host management i

00:51:26,890 --> 00:51:31,839
mentioned that we're what we did right

00:51:29,230 --> 00:51:33,940
here is we right click on the host which

00:51:31,839 --> 00:51:37,150
in this case was juvie inc dot net one

00:51:33,940 --> 00:51:38,200
of my clients and we're looking at the i

00:51:37,150 --> 00:51:40,060
right clicked on that and hit properties

00:51:38,200 --> 00:51:42,369
in the connection details came over

00:51:40,060 --> 00:51:45,040
there and we can see cpu usage and

00:51:42,369 --> 00:51:47,050
memory usage on the host itself we also

00:51:45,040 --> 00:51:48,790
have tabs for virtual networks for

00:51:47,050 --> 00:51:52,000
storage pools and for network interfaces

00:51:48,790 --> 00:51:54,460
on that host the most important thing

00:51:52,000 --> 00:51:55,900
about that and one of the things that

00:51:54,460 --> 00:51:58,660
took me a long time to figure out with

00:51:55,900 --> 00:52:00,849
storage pools for a long time i was a

00:51:58,660 --> 00:52:02,530
happy kvm and vert manager user but

00:52:00,849 --> 00:52:05,410
didn't really know what a storage pool

00:52:02,530 --> 00:52:07,990
was or why I cared about it and a lot of

00:52:05,410 --> 00:52:11,230
the answer is once you start managing

00:52:07,990 --> 00:52:13,510
remote hosts the way I do a lot of if

00:52:11,230 --> 00:52:15,040
you if you haven't added the storage

00:52:13,510 --> 00:52:17,650
that you're actually using on those

00:52:15,040 --> 00:52:19,630
machines into a storage pool then it'll

00:52:17,650 --> 00:52:21,640
be fine when you go to set up a machine

00:52:19,630 --> 00:52:24,040
while you're sitting there at the actual

00:52:21,640 --> 00:52:25,089
host you can tell it browse and you can

00:52:24,040 --> 00:52:27,190
just go through the local file system

00:52:25,089 --> 00:52:29,230
and say okay that's the ISO I want to

00:52:27,190 --> 00:52:30,220
use or here's the Keuka to file I want

00:52:29,230 --> 00:52:31,960
to use and it doesn't have to be in a

00:52:30,220 --> 00:52:33,490
pool it'll just work it'll continue to

00:52:31,960 --> 00:52:35,500
work and you can play with it remotely

00:52:33,490 --> 00:52:37,390
whatever but if you actually go to set

00:52:35,500 --> 00:52:39,160
up a new machine or maybe connect you

00:52:37,390 --> 00:52:41,079
know a virtual CD to an existing machine

00:52:39,160 --> 00:52:43,150
and the files that you want to use

00:52:41,079 --> 00:52:44,710
aren't in a pool you won't be able to

00:52:43,150 --> 00:52:46,869
find them remotely it just won't work

00:52:44,710 --> 00:52:48,250
see what you actually need to do is just

00:52:46,869 --> 00:52:49,780
take the directories that you're going

00:52:48,250 --> 00:52:52,150
to be using with kvm and if they're not

00:52:49,780 --> 00:52:55,240
already part of a storage pool Adam in

00:52:52,150 --> 00:52:59,410
so we're going to do here like click

00:52:55,240 --> 00:53:01,599
storage and and I clicked now this is

00:52:59,410 --> 00:53:03,369
this is a thing that took me forever I'm

00:53:01,599 --> 00:53:05,440
a little embarrassed about but if you

00:53:03,369 --> 00:53:07,329
look to the left of the dialog this is

00:53:05,440 --> 00:53:09,730
add new storage pool there's a little

00:53:07,329 --> 00:53:11,410
green plus that's the thing you click to

00:53:09,730 --> 00:53:13,750
add a new storage pool I look for

00:53:11,410 --> 00:53:16,089
forever as to how to add one and came up

00:53:13,750 --> 00:53:18,310
empty until finally I spotted the little

00:53:16,089 --> 00:53:20,950
green plus and once I found the little

00:53:18,310 --> 00:53:22,359
green plus i cursed a lot and I resolved

00:53:20,950 --> 00:53:24,250
to myself that every time I talked about

00:53:22,359 --> 00:53:26,109
kvm to people I would tell them about

00:53:24,250 --> 00:53:27,280
the little green plus so just in case

00:53:26,109 --> 00:53:30,420
there's anybody else out there like me

00:53:27,280 --> 00:53:30,420
they could learn about it

00:53:30,530 --> 00:53:36,960
when you declare a stored who is some

00:53:35,010 --> 00:53:43,560
dirt that all of the subdirectories

00:53:36,960 --> 00:53:45,630
underneath there I noticed it it mildly

00:53:43,560 --> 00:53:55,020
annoyed me but it's not a huge deal for

00:53:45,630 --> 00:53:57,510
me yeah yeah yeah that's a true fact and

00:53:55,020 --> 00:54:01,470
it's annoying it but did you hear ya it

00:53:57,510 --> 00:54:03,119
is what it is so anyway in here so we

00:54:01,470 --> 00:54:05,820
got to add a new storage pool and back

00:54:03,119 --> 00:54:09,210
then i was using i was using llvm and

00:54:05,820 --> 00:54:11,400
just feeding raw LVS to kvm you know

00:54:09,210 --> 00:54:13,320
chasing that extra elusive you know

00:54:11,400 --> 00:54:14,460
storage performance that eventually

00:54:13,320 --> 00:54:16,260
after a couple years of using it in

00:54:14,460 --> 00:54:18,330
production i tested and discovered

00:54:16,260 --> 00:54:19,800
wasn't really there i'd had all kinds of

00:54:18,330 --> 00:54:21,090
people telling me about all you'll get

00:54:19,800 --> 00:54:23,790
so much better performance we feed it

00:54:21,090 --> 00:54:26,040
you know raw logical volumes no you

00:54:23,790 --> 00:54:27,630
don't you don't get any worse

00:54:26,040 --> 00:54:29,520
performance but it's a whole lot of

00:54:27,630 --> 00:54:31,230
extra steps to jump through for not a

00:54:29,520 --> 00:54:32,460
whole lot point but anyway so you go to

00:54:31,230 --> 00:54:34,560
add a storage pool and you pick a tight

00:54:32,460 --> 00:54:36,359
and there i pick the type logical volume

00:54:34,560 --> 00:54:38,190
group and you can feed it a volume group

00:54:36,359 --> 00:54:39,450
or you can feed it a directory or

00:54:38,190 --> 00:54:42,210
there's a couple other options i don't

00:54:39,450 --> 00:54:43,680
remember off the top of my head and so

00:54:42,210 --> 00:54:45,930
then your next step after that you have

00:54:43,680 --> 00:54:47,099
added it and you can see the stuff

00:54:45,930 --> 00:54:48,510
that's in there now in this case we're

00:54:47,099 --> 00:54:50,430
looking at a volume group that we've

00:54:48,510 --> 00:54:52,920
added as a storage pool so we see the

00:54:50,430 --> 00:54:54,750
logical volumes beneath it if we added a

00:54:52,920 --> 00:54:57,990
directory we would see the files in that

00:54:54,750 --> 00:55:00,750
directory so that you know none of this

00:54:57,990 --> 00:55:02,490
is exactly you know mind-blowing like I

00:55:00,750 --> 00:55:04,800
said the real point behind it is so that

00:55:02,490 --> 00:55:06,869
when you're shelling into when you're

00:55:04,800 --> 00:55:08,849
using vert manager to shell into this

00:55:06,869 --> 00:55:10,589
box from across the country later and

00:55:08,849 --> 00:55:13,109
you want to add a vm and you want to add

00:55:10,589 --> 00:55:15,000
storage you have to add it into a pool

00:55:13,109 --> 00:55:16,589
before a verte manager will see it from

00:55:15,000 --> 00:55:23,220
a remote location so that's why you

00:55:16,589 --> 00:55:25,290
actually care about that yeah and

00:55:23,220 --> 00:55:28,320
there's where we can actually you can

00:55:25,290 --> 00:55:30,119
you can manually add a new volume under

00:55:28,320 --> 00:55:31,770
your storage pool from vert manager if

00:55:30,119 --> 00:55:34,470
you want to to be honest I actually

00:55:31,770 --> 00:55:36,900
usually use qumu IMG from the command

00:55:34,470 --> 00:55:38,369
line to create a new volume but if

00:55:36,900 --> 00:55:39,960
you're allergic to the command line you

00:55:38,369 --> 00:55:42,450
can do it right there from within verte

00:55:39,960 --> 00:55:44,820
it will work the one annoying thing is

00:55:42,450 --> 00:55:47,010
that even when you tell it format QQ it

00:55:44,820 --> 00:55:49,619
will still put dot image on the end of

00:55:47,010 --> 00:55:51,720
your file it won't stop it from working

00:55:49,619 --> 00:55:53,220
but if you're me at least it will annoy

00:55:51,720 --> 00:55:56,580
you and lead you to choose the command

00:55:53,220 --> 00:55:59,220
line instead last tool we want to talk

00:55:56,580 --> 00:56:00,480
about vert top I had also been using kvm

00:55:59,220 --> 00:56:02,099
in production for a long time before

00:56:00,480 --> 00:56:06,359
somebody just casually mentioned vert

00:56:02,099 --> 00:56:08,220
top knows what there's you can apt-get

00:56:06,359 --> 00:56:10,770
install vert top and it's exactly what

00:56:08,220 --> 00:56:12,960
it sounds like it stopped for VMS run on

00:56:10,770 --> 00:56:14,880
your guests from the command line you

00:56:12,960 --> 00:56:17,339
can see your actual columns here you've

00:56:14,880 --> 00:56:19,410
got an ID for the guests and then you've

00:56:17,339 --> 00:56:22,560
got read and write requests on your

00:56:19,410 --> 00:56:24,300
drive so those are actual I those are

00:56:22,560 --> 00:56:27,150
actual i/o operations you're seeing

00:56:24,300 --> 00:56:30,060
their read and write quests then you've

00:56:27,150 --> 00:56:32,910
got received and transmitted bites on

00:56:30,060 --> 00:56:36,450
your network interface for the guests %

00:56:32,910 --> 00:56:38,780
cpu for the guests % memory up time and

00:56:36,450 --> 00:56:42,300
then of course the guests name itself

00:56:38,780 --> 00:56:44,339
you can much like top itself there are

00:56:42,300 --> 00:56:45,810
some special magic keys you can press to

00:56:44,339 --> 00:56:48,210
change some of those columns sort by

00:56:45,810 --> 00:56:50,609
them whatever the most the one that I

00:56:48,210 --> 00:56:53,670
get the most use out of is if you press

00:56:50,609 --> 00:56:55,920
I want to say its capital B you can

00:56:53,670 --> 00:56:59,310
shift the read request and write request

00:56:55,920 --> 00:57:01,770
for the storage from requests down into

00:56:59,310 --> 00:57:03,599
actual you know bytes transferred in and

00:57:01,770 --> 00:57:05,760
out so if you want to see you know oh

00:57:03,599 --> 00:57:07,740
hey i'm doing i'm writing like 80 Meg's

00:57:05,760 --> 00:57:10,320
a second on my drives instead of seeing

00:57:07,740 --> 00:57:12,780
you know like three write requests then

00:57:10,320 --> 00:57:15,420
you can do that or if you know you say

00:57:12,780 --> 00:57:17,820
oh well gee I'm only moving you know

00:57:15,420 --> 00:57:19,560
like a mega second you know onto this

00:57:17,820 --> 00:57:21,690
Drive why are things so slow you can

00:57:19,560 --> 00:57:23,250
toggle back over and CEO because my

00:57:21,690 --> 00:57:26,190
write request is stacked you know like

00:57:23,250 --> 00:57:30,300
literally 1200 requests deep that's why

00:57:26,190 --> 00:57:31,380
it's so slow that's Bert top and that's

00:57:30,300 --> 00:57:38,280
what I got today anybody get me

00:57:31,380 --> 00:57:39,869
questions for top does not there may be

00:57:38,280 --> 00:57:42,859
some magical way to do it but I don't

00:57:39,869 --> 00:57:42,859
know about it let me say that

00:57:46,120 --> 00:57:51,680
yeah vs that versus the I mentioned you

00:57:50,180 --> 00:57:54,560
can do everything from man line that

00:57:51,680 --> 00:57:55,760
vert manager does vert install was the

00:57:54,560 --> 00:57:57,230
command that you saw that you know

00:57:55,760 --> 00:58:00,170
filled the entire screen with all the

00:57:57,230 --> 00:58:01,910
arguments to set up a vm verse is the

00:58:00,170 --> 00:58:04,310
command that you use to interact with

00:58:01,910 --> 00:58:06,470
running VMS and you can do basically

00:58:04,310 --> 00:58:08,960
everything with it you can verse start a

00:58:06,470 --> 00:58:11,390
machine you can verse stop a machine you

00:58:08,960 --> 00:58:13,760
can verse destroy a machine you can use

00:58:11,390 --> 00:58:16,370
a really long command line to actually

00:58:13,760 --> 00:58:19,100
you know add hardware or remove hardware

00:58:16,370 --> 00:58:23,630
from a machine you can save it you can

00:58:19,100 --> 00:58:25,490
snap shot it assuming you use QQ you can

00:58:23,630 --> 00:58:28,610
do all kinds of things and literally I

00:58:25,490 --> 00:58:29,990
could fill three of these talks with

00:58:28,610 --> 00:58:32,270
just nothing but all the stuff you can

00:58:29,990 --> 00:58:33,710
do with the verse the reason I did not

00:58:32,270 --> 00:58:35,570
try to fill a talk with the stuff you

00:58:33,710 --> 00:58:38,180
can do with verses honestly I almost

00:58:35,570 --> 00:58:40,430
never use it day to day about all i ever

00:58:38,180 --> 00:58:42,440
do with verse is i may you know be

00:58:40,430 --> 00:58:44,510
shelled into the host and not have verte

00:58:42,440 --> 00:58:47,750
manager open to it and just verse start

00:58:44,510 --> 00:58:51,230
/ stop a machine the one other thing

00:58:47,750 --> 00:58:53,030
that i will do is you can actually you

00:58:51,230 --> 00:58:55,430
can edit this so when you when you set

00:58:53,030 --> 00:58:57,560
up a vm there's really only two things

00:58:55,430 --> 00:58:59,270
that exist that comprised the vm one is

00:58:57,560 --> 00:59:02,180
your storage which hopefully you listen

00:58:59,270 --> 00:59:04,640
to me and it's one simple q file and the

00:59:02,180 --> 00:59:07,010
other thing is a very small xml file

00:59:04,640 --> 00:59:10,280
that defines the hardware of the machine

00:59:07,010 --> 00:59:15,050
itself that on a bun to that actually

00:59:10,280 --> 00:59:18,350
lives in etc libvirt been now etc

00:59:15,050 --> 00:59:19,970
libvirt qemu and there will be an xml

00:59:18,350 --> 00:59:22,250
file there for each of your guests and

00:59:19,970 --> 00:59:25,220
you can actually edit those directly if

00:59:22,250 --> 00:59:27,530
you want there's a you can say verse

00:59:25,220 --> 00:59:29,930
edit to at them to edit them which if

00:59:27,530 --> 00:59:31,790
you have not already carefully set your

00:59:29,930 --> 00:59:33,770
editing environment variable will dump

00:59:31,790 --> 00:59:36,460
you into VI which may make you unhappy

00:59:33,770 --> 00:59:39,620
or you may like it it makes me unhappy

00:59:36,460 --> 00:59:43,010
I'm far more likely to just nano the xml

00:59:39,620 --> 00:59:44,810
file save it which when you know it and

00:59:43,010 --> 00:59:47,810
save it the important thing to realize

00:59:44,810 --> 00:59:49,970
is you have not actually edited your vm

00:59:47,810 --> 00:59:52,190
none of those changes will be paid

00:59:49,970 --> 00:59:53,720
attention to you by kvm yet if you want

00:59:52,190 --> 00:59:56,280
those changes that you made it an xml

00:59:53,720 --> 00:59:58,440
file to actually do anything to anybody

00:59:56,280 --> 01:00:01,380
anywhere ever what you need to do now is

00:59:58,440 --> 01:00:03,780
you can say verse define and the name of

01:00:01,380 --> 01:00:06,090
your vm and it will pick that up from

01:00:03,780 --> 01:00:07,530
that xml file and it will save that it

01:00:06,090 --> 01:00:10,920
will still be that way the next time you

01:00:07,530 --> 01:00:28,470
run it likes it did tons of things

01:00:10,920 --> 01:00:30,420
universe huh you can do it through vert

01:00:28,470 --> 01:00:42,420
manager you can do it through verse

01:00:30,420 --> 01:00:44,700
honestly so the thing about that is yes

01:00:42,420 --> 01:00:47,700
you can take a snapshot without stopping

01:00:44,700 --> 01:00:49,470
your vm but unless you have a guest

01:00:47,700 --> 01:00:51,840
agent on your vm that will actually

01:00:49,470 --> 01:00:54,180
maintains that will actually key s it

01:00:51,840 --> 01:00:55,770
there's not necessarily a guarantee that

01:00:54,180 --> 01:00:58,260
it will be in a good condition when you

01:00:55,770 --> 01:00:59,460
boot it back up because according you're

01:00:58,260 --> 01:01:01,290
not you're not actually you're not

01:00:59,460 --> 01:01:02,670
hibernating it so nothing that's in RAM

01:01:01,290 --> 01:01:04,920
will be there if you try to roll back

01:01:02,670 --> 01:01:07,380
that snapshot you'll be booting from a

01:01:04,920 --> 01:01:10,710
snapshot of that storage in dealing with

01:01:07,380 --> 01:01:14,120
whatever you've got now in practice in

01:01:10,710 --> 01:01:16,590
most cases that will actually be okay

01:01:14,120 --> 01:01:17,880
every modern operating system uses a

01:01:16,590 --> 01:01:19,350
journaling file system that's

01:01:17,880 --> 01:01:20,490
specifically designed to deal with the

01:01:19,350 --> 01:01:22,290
power getting yanked out of the back

01:01:20,490 --> 01:01:24,000
which is effectively what you're doing

01:01:22,290 --> 01:01:26,550
if you take a snapshot on a running vm

01:01:24,000 --> 01:01:28,890
and then boot it later and the vast

01:01:26,550 --> 01:01:31,890
majority of databases these days are

01:01:28,890 --> 01:01:34,320
also journaling and will recover more or

01:01:31,890 --> 01:01:35,820
less pretty gracefully you know from

01:01:34,320 --> 01:01:37,110
from you just taking a snapshot at at

01:01:35,820 --> 01:01:40,320
running and end booting back into it

01:01:37,110 --> 01:01:42,270
however as a conscientious it's sysadmin

01:01:40,320 --> 01:01:43,560
you should actually evaluate your

01:01:42,270 --> 01:01:45,960
environment decide if that works for you

01:01:43,560 --> 01:01:48,180
or not there are some guest agents for

01:01:45,960 --> 01:01:50,100
some guest operating systems that you

01:01:48,180 --> 01:01:51,750
may be able to rely on to actually kiais

01:01:50,100 --> 01:01:53,160
your guests I can't talk really

01:01:51,750 --> 01:01:55,430
intelligently about that to be honest

01:01:53,160 --> 01:01:55,430
with you

01:02:00,560 --> 01:02:08,100
yes you do in particular if you used q

01:02:04,680 --> 01:02:09,780
Cal to storage like I asked you to you

01:02:08,100 --> 01:02:11,490
can just shut down your guests and you

01:02:09,780 --> 01:02:13,860
can expand the size of your queue Cal to

01:02:11,490 --> 01:02:17,190
file I think you can do that from vert

01:02:13,860 --> 01:02:19,670
manager but I use I use the the the

01:02:17,190 --> 01:02:22,140
command q mu mg from the command line

01:02:19,670 --> 01:02:24,720
it's pretty simple it's got a man page

01:02:22,140 --> 01:02:26,700
it works you can just expand the size

01:02:24,720 --> 01:02:28,860
and when you boot back into your guests

01:02:26,700 --> 01:02:30,090
now your partition tables and everything

01:02:28,860 --> 01:02:32,190
on your guests won't have changed a bit

01:02:30,090 --> 01:02:34,230
but you will now have a guess that's

01:02:32,190 --> 01:02:36,150
sitting in you know this much disk on a

01:02:34,230 --> 01:02:37,620
disc that's now magically this big so I

01:02:36,150 --> 01:02:40,140
can windows for example you would just

01:02:37,620 --> 01:02:42,150
go right on into computer management and

01:02:40,140 --> 01:02:43,770
storage management and you'll now see

01:02:42,150 --> 01:02:45,060
that your windows partition only goes

01:02:43,770 --> 01:02:46,230
out this bar and you click on it you

01:02:45,060 --> 01:03:00,050
drag it all the way out to the end and

01:02:46,230 --> 01:03:00,050
you're done everything's expanded yes

01:03:01,880 --> 01:03:09,600
none that I've seen if you're doing you

01:03:06,390 --> 01:03:11,490
know I mean if you're running like you

01:03:09,600 --> 01:03:12,900
know this super crazy database that you

01:03:11,490 --> 01:03:14,550
know 50,000 people are all hitting

01:03:12,900 --> 01:03:16,200
concurrently and blah blah blah then

01:03:14,550 --> 01:03:18,750
sure you may have more problem with you

01:03:16,200 --> 01:03:20,190
know that than the other but if you're

01:03:18,750 --> 01:03:23,430
doing all that you probably shouldn't be

01:03:20,190 --> 01:03:26,100
asking me questions itself basically I

01:03:23,430 --> 01:03:27,810
mean it boils down to it this is a thing

01:03:26,100 --> 01:03:29,940
of yes there are corner cases where you

01:03:27,810 --> 01:03:31,740
can have performance problems but you

01:03:29,940 --> 01:03:33,330
already know about it if you're running

01:03:31,740 --> 01:03:35,610
that kind of a load if you're not sure

01:03:33,330 --> 01:03:39,450
you're like well I don't know you know

01:03:35,610 --> 01:03:41,490
the the 10 or 15 or 150 users in my

01:03:39,450 --> 01:03:43,530
office sometimes they hit the old server

01:03:41,490 --> 01:03:46,350
kind of hard that's not a hard work load

01:03:43,530 --> 01:03:48,540
a hard work load is when you've got a

01:03:46,350 --> 01:03:50,130
database server that's backing an

01:03:48,540 --> 01:03:52,410
application server that generates about

01:03:50,130 --> 01:03:54,660
80 gigs a day of apache logs on page

01:03:52,410 --> 01:03:57,090
views alone that's a hard work load and

01:03:54,660 --> 01:03:59,430
that can work for kvm too but you may

01:03:57,090 --> 01:04:01,380
need to be more careful with it your

01:03:59,430 --> 01:04:02,820
basic like oh well I have a server and I

01:04:01,380 --> 01:04:05,220
want it to feel fast when I use it

01:04:02,820 --> 01:04:07,170
that's not a heavy workload you really

01:04:05,220 --> 01:04:09,330
should not just go crazy killing

01:04:07,170 --> 01:04:10,740
yourself with oh no what if I'll have a

01:04:09,330 --> 01:04:12,140
little right application from this or

01:04:10,740 --> 01:04:15,350
that or the other you know

01:04:12,140 --> 01:04:26,510
it's performance is good that answer

01:04:15,350 --> 01:04:28,850
your question yay yes yes and that is

01:04:26,510 --> 01:04:31,280
one gotcha if you have cryptic messages

01:04:28,850 --> 01:04:32,420
and your guests won't start go into bios

01:04:31,280 --> 01:04:34,820
and make sure that a hardware

01:04:32,420 --> 01:04:37,460
virtualization is enabled a lot of

01:04:34,820 --> 01:04:38,840
motherboards for i do not know what

01:04:37,460 --> 01:04:42,350
reason why they shift with

01:04:38,840 --> 01:04:44,450
virtualization disabled why that is I

01:04:42,350 --> 01:05:01,100
don't know other than to piss me off but

01:04:44,450 --> 01:05:04,100
there it is don't do that I'm a big fan

01:05:01,100 --> 01:05:06,860
of the fact that kvm is kvm is part of

01:05:04,100 --> 01:05:08,930
the colonel if you're running Linux

01:05:06,860 --> 01:05:10,670
you're running the Linux kernel kvm is

01:05:08,930 --> 01:05:11,900
right there the only the packages that

01:05:10,670 --> 01:05:14,060
you're installing that's not really for

01:05:11,900 --> 01:05:18,800
kvm itself that's for the tools to

01:05:14,060 --> 01:05:20,120
access kvm with it's going to be if

01:05:18,800 --> 01:05:21,800
there is one thing that I have learned

01:05:20,120 --> 01:05:24,710
in the last 20 years of my career it's

01:05:21,800 --> 01:05:27,950
don't bet against Linux this is part of

01:05:24,710 --> 01:05:29,240
Linux there are other virtualization

01:05:27,950 --> 01:05:31,340
technologies that have been around

01:05:29,240 --> 01:05:33,200
longer and that have had you know

01:05:31,340 --> 01:05:34,820
they've enjoyed some advantages some

01:05:33,200 --> 01:05:36,890
disadvantages but in the long run I

01:05:34,820 --> 01:05:38,210
really like a knowing that's going to be

01:05:36,890 --> 01:05:39,920
there I don't need to worry about oh

01:05:38,210 --> 01:05:41,150
well this work on my distribution or

01:05:39,920 --> 01:05:43,310
will they stopped maintaining it for

01:05:41,150 --> 01:05:45,470
that or will it work on cintas but not

01:05:43,310 --> 01:05:47,300
working on bun to blow it and then all

01:05:45,470 --> 01:05:49,880
that it's part of the colonel it will

01:05:47,300 --> 01:05:51,830
work in addition to that like I said you

01:05:49,880 --> 01:05:55,070
know I have a lot of real-world

01:05:51,830 --> 01:05:56,690
experience with it not just as you know

01:05:55,070 --> 01:05:58,280
and there's nothing wrong with playing

01:05:56,690 --> 01:06:00,140
around with a virtual work station on

01:05:58,280 --> 01:06:01,490
your laptop but to me there's a big

01:06:00,140 --> 01:06:03,860
difference between that and you know

01:06:01,490 --> 01:06:05,330
actually do in production stuff I've got

01:06:03,860 --> 01:06:07,160
about five years of actually doing

01:06:05,330 --> 01:06:09,410
production servers that people rely on

01:06:07,160 --> 01:06:11,750
with kvm and I have always been

01:06:09,410 --> 01:06:14,510
extremely impressed with its reliability

01:06:11,750 --> 01:06:16,700
and its performance I feel very good

01:06:14,510 --> 01:06:18,890
about it I do not feel that good about

01:06:16,700 --> 01:06:20,480
virtual box I'll be honest don't have

01:06:18,890 --> 01:06:22,730
anywhere near the amount of experience

01:06:20,480 --> 01:06:24,079
with virtualbox I do with kvm but it

01:06:22,730 --> 01:06:33,979
feels like a toy to me

01:06:24,079 --> 01:06:38,140
sorry for any virtual box fans yeah and

01:06:33,979 --> 01:06:40,910
and like seriously poor lots of coffee

01:06:38,140 --> 01:06:42,589
if you if any of you have ever done

01:06:40,910 --> 01:06:45,440
virtualization without hardware

01:06:42,589 --> 01:06:47,209
virtualization supports well I'm

01:06:45,440 --> 01:06:49,099
guessing it's those of you with the more

01:06:47,209 --> 01:06:56,329
impressive beards because they give you

01:06:49,099 --> 01:06:59,089
time for it to grow yes you can you can

01:06:56,329 --> 01:07:00,950
pass a USB hardware port directly

01:06:59,089 --> 01:07:02,809
through the guest and your host does not

01:07:00,950 --> 01:07:05,269
know anything about it does not care

01:07:02,809 --> 01:07:06,769
just passes all the info from the port

01:07:05,269 --> 01:07:09,469
straight in you don't need any device

01:07:06,769 --> 01:07:11,930
drivers on your host so like if you have

01:07:09,469 --> 01:07:14,150
some kind of really annoying you know us

01:07:11,930 --> 01:07:16,099
bdrm dongle for your windows whatever

01:07:14,150 --> 01:07:17,539
and you know they don't you're the

01:07:16,099 --> 01:07:19,519
vendor doesn't support linux whatever

01:07:17,539 --> 01:07:21,829
just past that port straight to the

01:07:19,519 --> 01:07:23,509
guests will be fine the only issue with

01:07:21,829 --> 01:07:27,410
that is you are literally passing one

01:07:23,509 --> 01:07:29,029
single USB port through so you know if

01:07:27,410 --> 01:07:31,339
you have a user go and plug the USB

01:07:29,029 --> 01:07:34,009
thing into just whichever random port

01:07:31,339 --> 01:07:35,269
they come across on your host not going

01:07:34,009 --> 01:07:49,849
to work it needs to be the one that you

01:07:35,269 --> 01:07:51,709
actually forwarded through yeah the

01:07:49,849 --> 01:07:54,380
networking stuff i mean it's it's either

01:07:51,709 --> 01:07:56,930
to go through a standard Linux bridge or

01:07:54,380 --> 01:07:58,579
else it's going to go to if you do the

01:07:56,930 --> 01:08:00,229
virtual thing then it'll go through a

01:07:58,579 --> 01:08:02,979
virtual bridge but either way there's an

01:08:00,229 --> 01:08:06,859
actual network interface you can sniff

01:08:02,979 --> 01:08:09,289
so you're either like for mine here I

01:08:06,859 --> 01:08:11,089
was actually using a ver BR 0 but I mean

01:08:09,289 --> 01:08:13,069
you've got ver BR 0 for the virtual

01:08:11,089 --> 01:08:14,989
stuff it's a virtual bridge all your

01:08:13,069 --> 01:08:17,179
guests traffic that are using ver

01:08:14,989 --> 01:08:18,949
borough will go through that you can set

01:08:17,179 --> 01:08:20,690
up multiple virtual network interfaces

01:08:18,949 --> 01:08:21,859
if you want to for whatever reason to

01:08:20,690 --> 01:08:24,080
have completely separate network

01:08:21,859 --> 01:08:26,210
separate guests they'll each get you

01:08:24,080 --> 01:08:28,279
know of the IRB our network interface

01:08:26,210 --> 01:08:29,869
that shows up on the host or you can

01:08:28,279 --> 01:08:32,060
like if you've got a bridge set up on

01:08:29,869 --> 01:08:33,720
your guests you can feed them real IP

01:08:32,060 --> 01:08:37,080
addresses from your actual

01:08:33,720 --> 01:08:38,550
land directly in through BR 0 NE of all

01:08:37,080 --> 01:08:51,360
these you sniff with whatever tools you

01:08:38,550 --> 01:08:54,810
normally sniff with no that's well I

01:08:51,360 --> 01:08:56,940
mean actually yes there is but I mean

01:08:54,810 --> 01:08:59,880
now you're not really talking kvm you're

01:08:56,940 --> 01:09:47,520
talking qemu and yes q supports software

01:08:59,880 --> 01:09:48,900
emulation sorry I didn't realize you're

01:09:47,520 --> 01:09:50,760
dumb at the host being on a different

01:09:48,900 --> 01:09:53,160
architecture I thought you're talking

01:09:50,760 --> 01:09:54,360
about you know arm guests I think

01:09:53,160 --> 01:09:55,710
they're going to start like coming up

01:09:54,360 --> 01:09:59,450
here with the cane and dragging me off

01:09:55,710 --> 01:09:59,450
the stage now so thanks guys

01:10:35,530 --> 01:10:39,830
your customers rely on your website or

01:10:38,360 --> 01:10:42,200
application if it's slower

01:10:39,830 --> 01:10:45,140
non-responsive it infuriates your users

01:10:42,200 --> 01:10:46,970
and costs you money keeping your

01:10:45,140 --> 01:10:50,460
business critical systems humming along

01:10:46,970 --> 01:10:53,310
requires insight into what they're doing

01:10:50,460 --> 01:10:55,290
your system metrics tell stories stories

01:10:53,310 --> 01:10:57,780
that can reveal performance bottlenecks

01:10:55,290 --> 01:10:59,850
resource limitations and other problems

01:10:57,780 --> 01:11:01,620
but how do you keep an eye on all of

01:10:59,850 --> 01:11:04,230
your systems performance metrics in

01:11:01,620 --> 01:11:07,080
real-time and record this data for later

01:11:04,230 --> 01:11:09,060
analysis enter longview the new way to

01:11:07,080 --> 01:11:11,100
see what's really going on under the

01:11:09,060 --> 01:11:13,200
hood the longview dashboard lets you

01:11:11,100 --> 01:11:15,210
visualize the status of all your systems

01:11:13,200 --> 01:11:17,940
providing you with a bird's-eye view of

01:11:15,210 --> 01:11:21,060
your entire fleet you can sort by cpu

01:11:17,940 --> 01:11:23,520
memory swap processes load and network

01:11:21,060 --> 01:11:26,100
usage click a specific system to access

01:11:23,520 --> 01:11:28,080
its individual dashboard then click and

01:11:26,100 --> 01:11:31,080
drag to zoom in on chokepoints and get

01:11:28,080 --> 01:11:33,090
more detail comprehensive network data

01:11:31,080 --> 01:11:35,790
including inbound and outbound traffic

01:11:33,090 --> 01:11:37,380
is available on the network tab and disk

01:11:35,790 --> 01:11:39,270
rights and free space on the disk

01:11:37,380 --> 01:11:42,120
stabbed while the process Explorer

01:11:39,270 --> 01:11:44,670
displays usage statistics for individual

01:11:42,120 --> 01:11:46,830
processes the system info tab shows

01:11:44,670 --> 01:11:49,080
listening services active connections

01:11:46,830 --> 01:11:51,210
and available updates adding long view

01:11:49,080 --> 01:11:52,890
to a system is easy just click the

01:11:51,210 --> 01:11:55,050
button copy the one line installation

01:11:52,890 --> 01:11:57,480
command then run the command on your

01:11:55,050 --> 01:11:59,190
linux system to complete the process the

01:11:57,480 --> 01:12:01,350
agent will begin collecting data and

01:11:59,190 --> 01:12:03,219
sending it to longview then the graph

01:12:01,350 --> 01:12:05,769
start rolling

01:12:03,219 --> 01:12:08,170
use longview to gain visibility into

01:12:05,769 --> 01:12:11,880
your servers so when your website or app

01:12:08,170 --> 01:12:11,880

YouTube URL: https://www.youtube.com/watch?v=CXu4i5jO600


