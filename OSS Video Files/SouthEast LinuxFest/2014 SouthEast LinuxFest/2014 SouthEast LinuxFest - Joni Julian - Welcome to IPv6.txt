Title: 2014 SouthEast LinuxFest - Joni Julian - Welcome to IPv6
Publication date: 2015-05-17
Playlist: 2014 SouthEast LinuxFest
Description: 
	2014 SouthEast LinuxFest
Joni Julian
Welcome to IPv6
Captions: 
	00:00:00,000 --> 00:00:05,339
the following presentation was recorded

00:00:02,490 --> 00:00:08,250
the 2014 southeast linux fest in

00:00:05,339 --> 00:00:11,070
charlotte north carolina it is licensed

00:00:08,250 --> 00:00:14,880
under a creative commons license for

00:00:11,070 --> 00:00:18,180
more information visit www selfies linux

00:00:14,880 --> 00:00:19,710
pc org the southeast linux fest would

00:00:18,180 --> 00:00:22,740
like to thank the following diamond

00:00:19,710 --> 00:00:27,390
sponsors in 2014 for helping make these

00:00:22,740 --> 00:00:30,779
videos possible okay if we're ready to

00:00:27,390 --> 00:00:36,020
get started this talk is welcome to ipv6

00:00:30,779 --> 00:00:36,020
I am Joni Julian and

00:00:39,930 --> 00:00:42,860
okay be that way

00:00:43,040 --> 00:00:50,570
I should probably start with a little

00:00:45,380 --> 00:00:52,670
bit about me ah my background is well

00:00:50,570 --> 00:00:55,370
fairly academic I did physics and

00:00:52,670 --> 00:00:57,200
biomedical engineering and then I made

00:00:55,370 --> 00:01:02,530
the biomedical engineering jump into

00:00:57,200 --> 00:01:05,159
network management yes

00:01:02,530 --> 00:01:07,440
I was feeling creative that day or

00:01:05,159 --> 00:01:10,560
something

00:01:07,440 --> 00:01:12,240
actually what I did was the title of my

00:01:10,560 --> 00:01:14,160
dissertation is network service

00:01:12,240 --> 00:01:16,790
management preparing the internet for

00:01:14,160 --> 00:01:20,970
telemedicine it's the intersection of

00:01:16,790 --> 00:01:22,920
internet SNMP for network management and

00:01:20,970 --> 00:01:25,620
quality of service that you don't want

00:01:22,920 --> 00:01:27,930
to have and then I set off to collect

00:01:25,620 --> 00:01:30,600
numbers and prove this there are

00:01:27,930 --> 00:01:32,340
occasions where you need it you probably

00:01:30,600 --> 00:01:34,650
want a better network though if you need

00:01:32,340 --> 00:01:38,490
it unless there's no way around the

00:01:34,650 --> 00:01:42,090
congestion I have worked in networking

00:01:38,490 --> 00:01:45,090
at UNC for the past 17 years I'm now an

00:01:42,090 --> 00:01:47,100
associate director my group is systems

00:01:45,090 --> 00:01:49,230
and services and I like to call that the

00:01:47,100 --> 00:01:51,450
loose ends there are the obvious fits

00:01:49,230 --> 00:01:54,000
about managing switches and routers and

00:01:51,450 --> 00:01:55,320
installing these things and then there's

00:01:54,000 --> 00:01:57,960
everything else you need to keep it

00:01:55,320 --> 00:02:02,350
going all the management servers the dns

00:01:57,960 --> 00:02:06,040
dhcp that's my problem

00:02:02,350 --> 00:02:09,130
so that's who I am the reason why I like

00:02:06,040 --> 00:02:11,050
to talk from slides is so that you can

00:02:09,130 --> 00:02:13,630
interrupt me with questions as soon as

00:02:11,050 --> 00:02:16,420
you have a question please please please

00:02:13,630 --> 00:02:18,130
ask it there's a microphone because I'm

00:02:16,420 --> 00:02:22,450
terrible about remembering to repeat the

00:02:18,130 --> 00:02:25,030
question I'll try but so everybody can

00:02:22,450 --> 00:02:27,640
hear including the recording we would

00:02:25,030 --> 00:02:29,980
like to use the microphone I want you to

00:02:27,640 --> 00:02:31,900
ask me questions I want to get lost in

00:02:29,980 --> 00:02:34,569
the weeds answering questions for you

00:02:31,900 --> 00:02:36,730
and then i can go 0 case we're done with

00:02:34,569 --> 00:02:38,800
that now where were we and I'll look up

00:02:36,730 --> 00:02:43,000
the slides and go ah that's where we

00:02:38,800 --> 00:02:44,709
were and I get back on track quickly so

00:02:43,000 --> 00:02:47,130
the slides are here so you can interrupt

00:02:44,709 --> 00:02:47,130
me

00:02:47,310 --> 00:02:52,010
hopefully you recognize vint cerf face

00:02:52,319 --> 00:02:59,219
as an I want you to use ipv6 these

00:02:57,120 --> 00:03:00,959
slides are available online at the end

00:02:59,219 --> 00:03:04,499
of the presentation I'll minimize this

00:03:00,959 --> 00:03:06,810
but it's flying penguin tech org hit the

00:03:04,499 --> 00:03:08,790
resources you can find the slides so all

00:03:06,810 --> 00:03:11,519
of these things where I wave and say and

00:03:08,790 --> 00:03:18,299
that's a link you can come through later

00:03:11,519 --> 00:03:22,400
and find those why do we want ipv6 the

00:03:18,299 --> 00:03:26,489
first answer is obvious the ipv4

00:03:22,400 --> 00:03:28,829
exhaustion report we are well we have

00:03:26,489 --> 00:03:30,780
been running out of ipv4 addresses for a

00:03:28,829 --> 00:03:34,799
long time and it's only getting worse

00:03:30,780 --> 00:03:36,689
with time the more mobile devices the

00:03:34,799 --> 00:03:39,959
more people who go hey I'd like a piece

00:03:36,689 --> 00:03:42,510
of that we're running out of ipv4

00:03:39,959 --> 00:03:46,079
addresses it's amazing that it's lasted

00:03:42,510 --> 00:03:48,680
this farm in fact all and then as a joke

00:03:46,079 --> 00:03:52,799
just to be fair an ipv6 address

00:03:48,680 --> 00:03:56,239
exhaustion report I believe the length

00:03:52,799 --> 00:03:58,470
of time we'll have enough ipv6 addresses

00:03:56,239 --> 00:04:00,560
somewhere close to heat death of the

00:03:58,470 --> 00:04:00,560
universe

00:04:00,770 --> 00:04:08,920
but just to be fair there is one

00:04:04,550 --> 00:04:12,890
so I'm often asked well why do I want

00:04:08,920 --> 00:04:15,920
it's modern there's a good chance that

00:04:12,890 --> 00:04:18,680
you have lower latency my proof for this

00:04:15,920 --> 00:04:22,160
is there is a shorter average AAS path

00:04:18,680 --> 00:04:24,710
length for ipv6 bas the autonomous

00:04:22,160 --> 00:04:27,020
system path length is basically how

00:04:24,710 --> 00:04:29,810
networks are connected to each other the

00:04:27,020 --> 00:04:33,050
ipv6 networks are more densely connected

00:04:29,810 --> 00:04:36,290
so to get from here to there for any

00:04:33,050 --> 00:04:38,750
given here and there you tend to go

00:04:36,290 --> 00:04:41,450
through a fewer number of networks that

00:04:38,750 --> 00:04:43,610
in a good case should correlate to lower

00:04:41,450 --> 00:04:46,990
latency it's not a guarantee but we do

00:04:43,610 --> 00:04:46,990
like lower latency yes sir

00:04:55,060 --> 00:04:59,080
you are correct I said I'll counter that

00:04:57,880 --> 00:05:01,660
because there's only a few large

00:04:59,080 --> 00:05:05,200
backbone providers at our ipv6 that will

00:05:01,660 --> 00:05:09,190
change in time and at some point there

00:05:05,200 --> 00:05:11,680
will be identical latency them sometime

00:05:09,190 --> 00:05:15,480
in the future well hopefully we'll all

00:05:11,680 --> 00:05:15,480
be using ipv6 at that point

00:05:17,200 --> 00:05:23,380
but yes at the moment the ipv6 networks

00:05:20,560 --> 00:05:25,930
are more densely connected they peer

00:05:23,380 --> 00:05:27,280
with as many people as they can but when

00:05:25,930 --> 00:05:29,800
you look at that chart if you click on

00:05:27,280 --> 00:05:32,410
that link you will see the v6 path

00:05:29,800 --> 00:05:34,630
length is increasing in the v4 is kind

00:05:32,410 --> 00:05:38,410
of holding steady so it is quite likely

00:05:34,630 --> 00:05:42,460
that will do that and then my last point

00:05:38,410 --> 00:05:44,320
unless you've disabled it all modern

00:05:42,460 --> 00:05:47,320
operating systems for quite a number of

00:05:44,320 --> 00:05:49,810
years now have shipped with ipv6 enabled

00:05:47,320 --> 00:05:52,030
by default so unless you've taken action

00:05:49,810 --> 00:05:55,500
to disable it you're probably already

00:05:52,030 --> 00:05:55,500
using it and don't know

00:05:56,220 --> 00:05:59,750
in which case if you're already using it

00:05:58,110 --> 00:06:02,250
let's learn a little more about it and

00:05:59,750 --> 00:06:05,070
sometimes I'm asked a variant of that

00:06:02,250 --> 00:06:07,410
question which is instead of someone

00:06:05,070 --> 00:06:10,670
saying what to me why do I want to use

00:06:07,410 --> 00:06:14,040
it they asked me why I want to use it

00:06:10,670 --> 00:06:15,960
just because my isp gives me one address

00:06:14,040 --> 00:06:18,150
to connect to the internet doesn't mean

00:06:15,960 --> 00:06:20,760
I want to tunnel everything through that

00:06:18,150 --> 00:06:22,500
and set up a little DMZ and what ports

00:06:20,760 --> 00:06:25,470
listening and how am I going to jump off

00:06:22,500 --> 00:06:27,420
now actually I quite like being at work

00:06:25,470 --> 00:06:29,850
and like oh I wanted to do something on

00:06:27,420 --> 00:06:32,070
this machine I just jumping directly

00:06:29,850 --> 00:06:36,180
over to it bringing up what I was

00:06:32,070 --> 00:06:39,960
working on at home there are also

00:06:36,180 --> 00:06:42,450
regional exhaustion's lack Nick was the

00:06:39,960 --> 00:06:48,930
most recent one that exhausted their

00:06:42,450 --> 00:06:53,130
ipv4 allocations Microsoft just runo yes

00:06:48,930 --> 00:06:55,050
Asher just ran out so now they were able

00:06:53,130 --> 00:06:58,980
to address that quickly but it is

00:06:55,050 --> 00:07:02,340
happening it is happening right now

00:06:58,980 --> 00:07:04,050
I love this quote from Martin levy you

00:07:02,340 --> 00:07:07,200
can either do a careful planned

00:07:04,050 --> 00:07:09,060
migration or you can have a mad panic

00:07:07,200 --> 00:07:12,390
because someone says we needed it

00:07:09,060 --> 00:07:14,610
yesterday and you should know full well

00:07:12,390 --> 00:07:17,220
that panicking is more expensive I

00:07:14,610 --> 00:07:20,280
completely agree with him although I

00:07:17,220 --> 00:07:22,410
have to admit when I was told completely

00:07:20,280 --> 00:07:25,080
cold and you will now be turning on ipv6

00:07:22,410 --> 00:07:29,030
on your servers I still had that moment

00:07:25,080 --> 00:07:32,160
of panic but it was followed with a

00:07:29,030 --> 00:07:35,250
grateful sense of weight I don't have to

00:07:32,160 --> 00:07:39,050
rush to do this and take my time I don't

00:07:35,250 --> 00:07:42,259
have a deadline I just have to do this

00:07:39,050 --> 00:07:45,349
and then you can be more calm so I would

00:07:42,259 --> 00:07:48,289
rather learn my way around on my own

00:07:45,349 --> 00:07:52,449
without a panic without something broken

00:07:48,289 --> 00:07:52,449
on fire that has to be fixed right now

00:07:52,479 --> 00:08:00,379
ipv6 by having more addresses than we

00:07:56,150 --> 00:08:02,930
need means that we can eliminate network

00:08:00,379 --> 00:08:05,440
address translation and that makes my

00:08:02,930 --> 00:08:08,030
troubleshooting shall we say fairly

00:08:05,440 --> 00:08:11,090
interesting and i don't mean the good

00:08:08,030 --> 00:08:13,219
kind of interesting and if you decide

00:08:11,090 --> 00:08:15,909
you need to reboot a mat and you may

00:08:13,219 --> 00:08:18,770
have a large number of users behind it

00:08:15,909 --> 00:08:21,500
well they're stateful and anything

00:08:18,770 --> 00:08:23,750
stateful that has to reboot and lose

00:08:21,500 --> 00:08:27,919
state and start over from scratch that's

00:08:23,750 --> 00:08:30,650
also interesting and the only way to

00:08:27,919 --> 00:08:35,719
avoid this is not to need more addresses

00:08:30,650 --> 00:08:37,310
and throw in a good firewall a nap

00:08:35,719 --> 00:08:40,190
because it's stateful comes with a

00:08:37,310 --> 00:08:42,979
stateful firewall essentially for free

00:08:40,190 --> 00:08:46,899
it's not the nap that's keeping you safe

00:08:42,979 --> 00:08:46,899
it's the nice stateful firewall

00:08:46,920 --> 00:08:53,459
so this sticker has been going around

00:08:49,649 --> 00:08:55,019
caution legacy IP only this product does

00:08:53,459 --> 00:08:58,829
not support the current generation of

00:08:55,019 --> 00:09:01,070
Internet Protocol ipv6 as yet another

00:08:58,829 --> 00:09:04,100
reason why you want to support this

00:09:01,070 --> 00:09:06,920
let's be modern

00:09:04,100 --> 00:09:09,290
there's a nice little infographic if you

00:09:06,920 --> 00:09:11,750
want to read around and how all the

00:09:09,290 --> 00:09:14,329
things fit together at a high level

00:09:11,750 --> 00:09:19,550
overview this is come find the slides

00:09:14,329 --> 00:09:22,100
click on that link later so now let's

00:09:19,550 --> 00:09:26,420
get started what what are the basics

00:09:22,100 --> 00:09:29,839
here it's a 128-bit address instead of

00:09:26,420 --> 00:09:33,529
the measly 32-bit addresses of ipv4 we

00:09:29,839 --> 00:09:36,430
write it as 8 hexadecimal fields so for

00:09:33,529 --> 00:09:41,209
hex characters colon for hex characters

00:09:36,430 --> 00:09:44,120
do that eight times so you got used to

00:09:41,209 --> 00:09:46,130
dotted quad sorry about this it's going

00:09:44,120 --> 00:09:48,230
to be much longer what are we going to

00:09:46,130 --> 00:09:50,690
do when our addresses are much longer

00:09:48,230 --> 00:09:54,250
and we can't just rattle off a few key

00:09:50,690 --> 00:09:54,250
addresses that we know by heart

00:09:54,620 --> 00:10:02,450
a perfect answer drop the zeroes and use

00:09:59,180 --> 00:10:04,700
DNS in any group you can drop the

00:10:02,450 --> 00:10:07,220
leading zeros and if you have a whole

00:10:04,700 --> 00:10:09,590
string of zeros in the middle you can

00:10:07,220 --> 00:10:11,540
drop all of those as well and replace

00:10:09,590 --> 00:10:14,060
them with a double colon so then you

00:10:11,540 --> 00:10:16,880
have to go back and count how many did I

00:10:14,060 --> 00:10:19,970
drop actually you usually don't there

00:10:16,880 --> 00:10:23,150
are tools like ipv6 calc or online go to

00:10:19,970 --> 00:10:26,180
v6 decode calm and it will fill all that

00:10:23,150 --> 00:10:28,250
in for you the big one and if you've

00:10:26,180 --> 00:10:30,890
ever enjoyed a broadcast flood you'll

00:10:28,250 --> 00:10:34,580
appreciate this there is no broadcast in

00:10:30,890 --> 00:10:36,290
ipv6 and at first you go yeah no

00:10:34,580 --> 00:10:39,320
broadcast flood that was my first

00:10:36,290 --> 00:10:41,240
response and then I go wait I've got a

00:10:39,320 --> 00:10:44,570
number of things that rely on broadcast

00:10:41,240 --> 00:10:47,630
like ARP how am I going to make anything

00:10:44,570 --> 00:10:50,660
work without arc well there are

00:10:47,630 --> 00:10:54,470
different kinds of multicast that we use

00:10:50,660 --> 00:10:57,350
and since I've been at this for 17 years

00:10:54,470 --> 00:11:00,500
I also know to shudder when someone says

00:10:57,350 --> 00:11:03,080
oh let's just turn on multicast however

00:11:00,500 --> 00:11:05,390
link-local multicast and layer to

00:11:03,080 --> 00:11:08,380
multicast have always worked really well

00:11:05,390 --> 00:11:11,630
and those are what we use to replace

00:11:08,380 --> 00:11:14,660
harp and the simple tools where we've

00:11:11,630 --> 00:11:16,430
done our broadcast because that's the

00:11:14,660 --> 00:11:19,490
same level the broadcast was working at

00:11:16,430 --> 00:11:23,210
it stayed within your local area network

00:11:19,490 --> 00:11:25,089
or your VLAN well so to our layer 2 and

00:11:23,210 --> 00:11:27,759
linked local multicasts

00:11:25,089 --> 00:11:29,829
so these work really well except they're

00:11:27,759 --> 00:11:33,670
multicast instead of broadcast and of

00:11:29,829 --> 00:11:35,949
course we get to keep unicast there are

00:11:33,670 --> 00:11:39,069
no strictly speaking there are no

00:11:35,949 --> 00:11:41,290
private addresses when they were

00:11:39,069 --> 00:11:42,970
designing ipv6 they said Greenfield

00:11:41,290 --> 00:11:45,999
we're going to get rid of all of the

00:11:42,970 --> 00:11:47,620
cruft and then people came back with

00:11:45,999 --> 00:11:50,949
their very good reasons for having

00:11:47,620 --> 00:11:55,300
private address space we use it for

00:11:50,949 --> 00:11:57,459
things other than that so then they came

00:11:55,300 --> 00:12:00,399
a get-well will give you something else

00:11:57,459 --> 00:12:03,009
it's we could use link local addresses

00:12:00,399 --> 00:12:06,970
we could use site local with a low time

00:12:03,009 --> 00:12:09,249
to live so they couldn't leave a given

00:12:06,970 --> 00:12:12,639
region but we also have unique local

00:12:09,249 --> 00:12:14,829
addresses these are addresses that can

00:12:12,639 --> 00:12:17,980
never be routed on the internet and you

00:12:14,829 --> 00:12:20,620
don't get net as a loophole to take care

00:12:17,980 --> 00:12:23,709
of this so these are really really

00:12:20,620 --> 00:12:26,339
private addresses in the truest sense

00:12:23,709 --> 00:12:26,339
yes sir

00:12:30,250 --> 00:12:33,340
when you said that they couldn't be

00:12:31,810 --> 00:12:35,440
rounded on the public Internet are there

00:12:33,340 --> 00:12:38,290
actually routers that block all that and

00:12:35,440 --> 00:12:41,800
null it like they do with the private

00:12:38,290 --> 00:12:46,920
before addresses I would assume look for

00:12:41,800 --> 00:12:46,920
bogan announcements like on bgp mon

00:12:48,300 --> 00:12:52,770
translation I certainly hope so

00:12:52,860 --> 00:12:58,629
originally there was no dhcp they said

00:12:55,750 --> 00:13:01,509
oh we've got this stateless stateless

00:12:58,629 --> 00:13:05,319
local address auto-configuration slack

00:13:01,509 --> 00:13:07,300
for you you don't need that dhcp again

00:13:05,319 --> 00:13:09,339
we're talking about some academics

00:13:07,300 --> 00:13:10,810
saying Greenfield how are we going to

00:13:09,339 --> 00:13:13,420
make it better we're going to make it so

00:13:10,810 --> 00:13:16,120
you don't need dhcp to get an audra

00:13:13,420 --> 00:13:17,889
address automatically and that is

00:13:16,120 --> 00:13:22,019
fantastic and slack works really well

00:13:17,889 --> 00:13:26,410
and then people came back and said well

00:13:22,019 --> 00:13:29,230
we use dhcp for more things than address

00:13:26,410 --> 00:13:32,740
assignment like here's your name server

00:13:29,230 --> 00:13:39,029
here are some other useful servers and

00:13:32,740 --> 00:13:43,220
then huh okay and now we have dhcpv6 to

00:13:39,029 --> 00:13:45,949
if sec is built in

00:13:43,220 --> 00:13:50,389
so instead of the back port of IP

00:13:45,949 --> 00:13:54,129
security to run on ipv4 it was baked in

00:13:50,389 --> 00:13:54,129
from the beginning to use

00:13:55,490 --> 00:13:59,870
and yeah and now it has been removed as

00:13:58,370 --> 00:14:02,470
the default because everybody went have

00:13:59,870 --> 00:14:06,350
you looked at the calculation overhead

00:14:02,470 --> 00:14:08,720
so you can see that this ipv6 was first

00:14:06,350 --> 00:14:10,130
ratified in 1998 that's why it's a

00:14:08,720 --> 00:14:13,670
little bit surprising we don't have a

00:14:10,130 --> 00:14:16,279
larger deployment of it now and there's

00:14:13,670 --> 00:14:18,529
been a lot of back-and-forth negotiation

00:14:16,279 --> 00:14:21,320
on Oh Greenfield let's make something

00:14:18,529 --> 00:14:23,330
nice new and followed with the cold

00:14:21,320 --> 00:14:26,270
water of reality this is what we

00:14:23,330 --> 00:14:28,850
actually need so all of this starts

00:14:26,270 --> 00:14:31,550
coming back in and truthfully when I see

00:14:28,850 --> 00:14:32,720
if second ipv4 a lot of it's zeroed out

00:14:31,550 --> 00:14:35,149
and they haven't done the full

00:14:32,720 --> 00:14:38,180
calculation so I put it at about the

00:14:35,149 --> 00:14:42,339
same level and the less used options in

00:14:38,180 --> 00:14:44,750
the ipv4 header have become optional so

00:14:42,339 --> 00:14:46,279
most of us think of it as the diffserv

00:14:44,750 --> 00:14:48,350
code point but that's actually supposed

00:14:46,279 --> 00:14:52,850
to be the type of service fight in the

00:14:48,350 --> 00:14:54,410
ipv4 header well if we didn't use it for

00:14:52,850 --> 00:14:59,120
so long that we came up with a creative

00:14:54,410 --> 00:15:02,510
reuse of it Nick it's optional so the

00:14:59,120 --> 00:15:03,980
address size huge making our packet

00:15:02,510 --> 00:15:09,010
header larger but at least we then

00:15:03,980 --> 00:15:09,010
simplified everything but the addresses

00:15:09,220 --> 00:15:15,370
and the next thing I usually hear is

00:15:10,930 --> 00:15:17,470
it's so different not really you just

00:15:15,370 --> 00:15:19,540
need to learn the translations most of

00:15:17,470 --> 00:15:22,629
what you already know about networking

00:15:19,540 --> 00:15:27,040
is still true unless it says broadcast

00:15:22,629 --> 00:15:28,600
in everything you know is still valid we

00:15:27,040 --> 00:15:31,329
just need to change the words a little

00:15:28,600 --> 00:15:35,259
bit don't say broadcasts a multicast

00:15:31,329 --> 00:15:37,709
don't say ipv4 say ipv6 instead of ARP

00:15:35,259 --> 00:15:41,170
which is a broadcast protocol we have

00:15:37,709 --> 00:15:44,709
NDP neighbor discovery protocol and it's

00:15:41,170 --> 00:15:47,580
part of icmpv6 and this means you cannot

00:15:44,709 --> 00:15:51,000
block all ICMP

00:15:47,580 --> 00:15:53,790
and have your ipv6 Network work instead

00:15:51,000 --> 00:15:57,570
of ping and traceroute we have ping six

00:15:53,790 --> 00:15:58,740
and trace route 6 and just as soon as

00:15:57,570 --> 00:16:00,270
you're getting comfortable saying okay

00:15:58,740 --> 00:16:03,990
I'll just tack six on the end of the

00:16:00,270 --> 00:16:08,430
command name oh now there's the host

00:16:03,990 --> 00:16:11,220
command or host minus 6 this when I say

00:16:08,430 --> 00:16:15,120
host minus 6 tells the host command you

00:16:11,220 --> 00:16:18,570
will use ipv6 for transport if you want

00:16:15,120 --> 00:16:21,060
to get a v6 address back instead of

00:16:18,570 --> 00:16:24,830
doing the dash T a to get an a record

00:16:21,060 --> 00:16:24,830
you do dash tea latte

00:16:25,860 --> 00:16:33,060
actually I believe that host will by

00:16:29,370 --> 00:16:35,820
default pull up a and quad a records it

00:16:33,060 --> 00:16:39,450
will if you don't give it a dash T that

00:16:35,820 --> 00:16:43,590
is correct yes also very convenient dig

00:16:39,450 --> 00:16:46,200
is the same way the dash 6 is simply too

00:16:43,590 --> 00:16:48,930
use the transform yes many commands are

00:16:46,200 --> 00:16:52,560
like that a lot of times since most

00:16:48,930 --> 00:16:55,920
commands do the proper try v6 first fail

00:16:52,560 --> 00:16:58,350
back to ipv4 a lot of times when I throw

00:16:55,920 --> 00:17:00,540
in the minus 6 i'm saying no no I'm

00:16:58,350 --> 00:17:02,460
going to make you use ipv6 for transport

00:17:00,540 --> 00:17:04,680
because I want to know if that's broken

00:17:02,460 --> 00:17:08,370
because I'm the person who has to go fix

00:17:04,680 --> 00:17:10,830
it so i will frequently put this in when

00:17:08,370 --> 00:17:13,770
I think it should work just out of habit

00:17:10,830 --> 00:17:15,510
it never hurts to run an extra tests you

00:17:13,770 --> 00:17:18,090
should always test your assumptions I

00:17:15,510 --> 00:17:20,910
assume my v6 is working most of the time

00:17:18,090 --> 00:17:22,620
and I'm going to test it as part of my

00:17:20,910 --> 00:17:25,050
daily work

00:17:22,620 --> 00:17:28,319
and then when you go okay I stick a fix

00:17:25,050 --> 00:17:30,870
on the end or a minus six flag and then

00:17:28,319 --> 00:17:36,330
we get to iptables we go from iptables

00:17:30,870 --> 00:17:40,740
to ip6 tables I don't know why

00:17:36,330 --> 00:17:42,780
I just work here and read the man pages

00:17:40,740 --> 00:17:45,330
and then you go well sounds like

00:17:42,780 --> 00:17:47,970
multicast it's going to be important so

00:17:45,330 --> 00:17:50,880
we would need our igmp snooping again

00:17:47,970 --> 00:17:52,470
right okay guess what that's another one

00:17:50,880 --> 00:17:54,929
where we have to change the name so

00:17:52,470 --> 00:17:58,170
instead of internet group membership

00:17:54,929 --> 00:18:02,220
protocol multicast listener discovery

00:17:58,170 --> 00:18:04,260
it's the v6 analog so again everything

00:18:02,220 --> 00:18:07,410
you know is true everything that's good

00:18:04,260 --> 00:18:09,270
about igmp snooping is also true for MLD

00:18:07,410 --> 00:18:11,850
snooping except it's got a different

00:18:09,270 --> 00:18:14,880
name which means you probably have to

00:18:11,850 --> 00:18:17,250
turn it on separately university of

00:18:14,880 --> 00:18:20,480
wisconsin-madison has a nice list of

00:18:17,250 --> 00:18:23,550
troubleshooting tools by platform

00:18:20,480 --> 00:18:25,710
because i'm being a little bit I'm

00:18:23,550 --> 00:18:28,080
sweeping the dirty laundry under the rug

00:18:25,710 --> 00:18:30,830
when I say you can do ping and ping 6

00:18:28,080 --> 00:18:33,150
not all platforms have pink six

00:18:30,830 --> 00:18:36,240
University of wisconsin-madison has a

00:18:33,150 --> 00:18:38,340
nice chart of you know on Windows you do

00:18:36,240 --> 00:18:40,410
it this way on Mac you do it this way on

00:18:38,340 --> 00:18:42,840
these flavors of linux you do at this

00:18:40,410 --> 00:18:45,600
way these flavors of bsd you do it this

00:18:42,840 --> 00:18:48,890
other way so they've got a far more

00:18:45,600 --> 00:18:48,890
comprehensive table

00:18:51,530 --> 00:18:57,440
I'm just trying to make it fit on one

00:18:53,690 --> 00:18:59,780
screen to reiterate again because this

00:18:57,440 --> 00:19:03,800
makes the ARP replacement work you

00:18:59,780 --> 00:19:07,480
cannot turn off icmpv6

00:19:03,800 --> 00:19:11,120
if you've blocked ICMP all kinds even

00:19:07,480 --> 00:19:14,540
your local area network will not work if

00:19:11,120 --> 00:19:18,800
you've blocked it inside the network

00:19:14,540 --> 00:19:22,130
so one thing when I teach this class we

00:19:18,800 --> 00:19:23,750
get to the multicast parts of ipv6 and I

00:19:22,130 --> 00:19:25,970
pull out my phone and I look at my

00:19:23,750 --> 00:19:28,520
students and I say what do we all say

00:19:25,970 --> 00:19:31,970
about this what's the mean there's an

00:19:28,520 --> 00:19:35,060
app for that and I say okay we're doing

00:19:31,970 --> 00:19:38,570
ipv6 here's your mean there's a

00:19:35,060 --> 00:19:40,130
multicast group for that and they all

00:19:38,570 --> 00:19:43,190
laugh but you know what they all

00:19:40,130 --> 00:19:44,510
remember it too so the good news is I

00:19:43,190 --> 00:19:46,820
figured out how to get them to remember

00:19:44,510 --> 00:19:49,430
there's a multicast group for it and

00:19:46,820 --> 00:19:53,270
i'll give you my story on discovering

00:19:49,430 --> 00:19:55,850
there's a multicast group for it side

00:19:53,270 --> 00:19:58,450
note to this story my co-workers will

00:19:55,850 --> 00:20:02,240
say that's an ipv6 multicast group for

00:19:58,450 --> 00:20:03,950
you know fill in the blank and they all

00:20:02,240 --> 00:20:05,840
think I'm really good at looking this up

00:20:03,950 --> 00:20:07,310
because they'll send it to me on IM or

00:20:05,840 --> 00:20:10,190
they'll call me on the radio and ask

00:20:07,310 --> 00:20:12,110
that I have the answer quickly no I

00:20:10,190 --> 00:20:14,000
don't have these memorized and just

00:20:12,110 --> 00:20:16,760
really fast at hitting the Wikipedia

00:20:14,000 --> 00:20:20,240
article on multicast jumping to the ipv6

00:20:16,760 --> 00:20:22,070
section and looking it up for them so

00:20:20,240 --> 00:20:24,800
there is no brilliance here you refer to

00:20:22,070 --> 00:20:27,140
Wikipedia for it my story on how I

00:20:24,800 --> 00:20:29,900
learned this the hard way is when i was

00:20:27,140 --> 00:20:32,270
first setting up our dhcpv6 server i

00:20:29,900 --> 00:20:33,740
took our v4 settings and was just our

00:20:32,270 --> 00:20:36,920
like i'm just going to copy them over

00:20:33,740 --> 00:20:40,430
and play with places to drop phone

00:20:36,920 --> 00:20:43,460
number 6 in and most of them were pretty

00:20:40,430 --> 00:20:45,890
straightforward option option six so i

00:20:43,460 --> 00:20:49,940
was happily buzzing along trying to make

00:20:45,890 --> 00:20:55,100
dhcpv6 look just like our production

00:20:49,940 --> 00:20:57,620
dhcp v4 and i copied over the ntp option

00:20:55,100 --> 00:21:00,530
and talk on it the server kept crashing

00:20:57,620 --> 00:21:02,630
on that and I start you know muttering

00:21:00,530 --> 00:21:04,400
and feeling after like but I want to set

00:21:02,630 --> 00:21:05,630
the time server for them aqui you know

00:21:04,400 --> 00:21:07,460
what our Beavan going to do without this

00:21:05,630 --> 00:21:11,299
I'm used to setting all of these

00:21:07,460 --> 00:21:13,070
conveniences finally instead of

00:21:11,299 --> 00:21:14,840
muttering too much my brain kicked in

00:21:13,070 --> 00:21:17,419
and I went I wonder if there's a

00:21:14,840 --> 00:21:19,400
multicast group for that and I went to

00:21:17,419 --> 00:21:21,770
Wikipedia and guess what that's why you

00:21:19,400 --> 00:21:24,380
don't set it with dhcp there's a

00:21:21,770 --> 00:21:26,660
multicast group for that and then I was

00:21:24,380 --> 00:21:29,799
laughing at myself because he got bit by

00:21:26,660 --> 00:21:29,799
my own reminder

00:21:30,580 --> 00:21:36,029
so learn from my lesson see if there's a

00:21:32,980 --> 00:21:36,029
multicast group for them

00:21:37,020 --> 00:21:43,890
again beating this over the head there

00:21:39,690 --> 00:21:46,050
is no broadcast if we do v6 multicast

00:21:43,890 --> 00:21:50,610
over Ethernet meaning we're doing layer

00:21:46,050 --> 00:21:54,180
to multicast instead of doing all s we

00:21:50,610 --> 00:21:57,810
start with 33 colon 33 and then the last

00:21:54,180 --> 00:22:01,020
32 bits of the ipv6 address in theory

00:21:57,810 --> 00:22:04,650
this will address multiple machines but

00:22:01,020 --> 00:22:07,470
not all of them making it multicast in

00:22:04,650 --> 00:22:10,830
reality given that there's a lot of

00:22:07,470 --> 00:22:13,710
unused address space you're probably not

00:22:10,830 --> 00:22:15,780
going to hit all that many machines on

00:22:13,710 --> 00:22:18,460
the same local area network with the

00:22:15,780 --> 00:22:21,370
same last 32 bits

00:22:18,460 --> 00:22:23,830
so okay yeah you might hit two or three

00:22:21,370 --> 00:22:25,300
machines and you know if you hit three

00:22:23,830 --> 00:22:27,790
two of them are going to ignore this

00:22:25,300 --> 00:22:31,600
message in reality it does not happen

00:22:27,790 --> 00:22:33,640
that often so that's our layer to

00:22:31,600 --> 00:22:36,040
multicast if we want to do our link

00:22:33,640 --> 00:22:39,280
local multicast so jump up to layer

00:22:36,040 --> 00:22:41,580
three but still keeping it local the

00:22:39,280 --> 00:22:46,510
most useful one is the all hosts

00:22:41,580 --> 00:22:48,670
addresses is FF 0 2 colon colon 1 so if

00:22:46,510 --> 00:22:51,910
you want to say you know k everybody

00:22:48,670 --> 00:22:55,420
who's out there you use that multicast

00:22:51,910 --> 00:22:59,860
address instead of the 250 you know all

00:22:55,420 --> 00:23:03,870
2 55's or your subnet 255 instead of

00:22:59,860 --> 00:23:07,030
using your normal ipv4 broadcast address

00:23:03,870 --> 00:23:09,070
replace it with that one and you will

00:23:07,030 --> 00:23:12,280
hit all hosts there's an all routers

00:23:09,070 --> 00:23:14,670
multicast group there's the ntp there's

00:23:12,280 --> 00:23:17,620
the we got one of everything in

00:23:14,670 --> 00:23:21,040
multicast here but these are the

00:23:17,620 --> 00:23:24,670
simplest ones if you see 3333 you go and

00:23:21,040 --> 00:23:27,250
we get some ipv6 layer to multicast you

00:23:24,670 --> 00:23:29,970
see the FF 02 we got some link layer

00:23:27,250 --> 00:23:29,970
multicast

00:23:33,520 --> 00:23:37,630
which then leads to the next question

00:23:35,650 --> 00:23:40,830
wait if I've been running this all along

00:23:37,630 --> 00:23:43,890
and don't know it all what's my address

00:23:40,830 --> 00:23:49,350
very good question

00:23:43,890 --> 00:23:51,720
Munich's you can still use ifconfig but

00:23:49,350 --> 00:23:55,680
I'm starting to make friends with the IP

00:23:51,720 --> 00:23:59,960
command so IP adders show will give you

00:23:55,680 --> 00:24:04,890
all of your IP addresses v4 and v6 in

00:23:59,960 --> 00:24:06,960
Windows ipconfig or and I'm just pulling

00:24:04,890 --> 00:24:11,940
this from the University of

00:24:06,960 --> 00:24:15,450
wisconsin-madison chart net shell I bet

00:24:11,940 --> 00:24:18,270
ya nutshell interface ipv6 show address

00:24:15,450 --> 00:24:20,520
a lot more typing but in theory that

00:24:18,270 --> 00:24:23,130
should work I haven't actually touched

00:24:20,520 --> 00:24:27,090
windows and I was trying to count six or

00:24:23,130 --> 00:24:32,090
seven years so exercise left for the

00:24:27,090 --> 00:24:32,090
reader should you have that problem

00:24:32,300 --> 00:24:40,340
so running one example I pulled up a vm

00:24:37,100 --> 00:24:44,720
to play around with for this called

00:24:40,340 --> 00:24:46,460
moose if config f0 and then I played

00:24:44,720 --> 00:24:50,270
around with my interfaces its eath one

00:24:46,460 --> 00:24:53,330
later you can see I have a v4 address

00:24:50,270 --> 00:24:56,690
but I actually mangled have an ipv6

00:24:53,330 --> 00:24:59,510
address here and I have a link-local

00:24:56,690 --> 00:25:02,810
address here what you'll see at the end

00:24:59,510 --> 00:25:05,960
is it says scope global here and it says

00:25:02,810 --> 00:25:08,710
scope local here so this is my link

00:25:05,960 --> 00:25:12,650
local address this is my global unicast

00:25:08,710 --> 00:25:15,770
address and then the rest of the

00:25:12,650 --> 00:25:18,410
standard if config what's interesting

00:25:15,770 --> 00:25:22,700
and confusing about this is you will get

00:25:18,410 --> 00:25:24,530
multiple addresses / interface when you

00:25:22,700 --> 00:25:28,810
mangle did you chose an interesting IP

00:25:24,530 --> 00:25:28,810
that's owned by the DoD yeah

00:25:29,299 --> 00:25:33,009
I get to have fun with this don't

00:25:38,470 --> 00:25:43,690
which is why it makes a perfect

00:25:39,990 --> 00:25:47,679
documentation example of what I've used

00:25:43,690 --> 00:25:52,750
right here the 2001 db8 is actually the

00:25:47,679 --> 00:25:54,970
documentation space for ipv6 so we have

00:25:52,750 --> 00:25:56,409
a documentation range use this if your

00:25:54,970 --> 00:26:02,190
dummy address when you're giving

00:25:56,409 --> 00:26:04,870
examples for ipv6 we don't for ipv4 so

00:26:02,190 --> 00:26:07,950
and I'm sure we'll end up using them for

00:26:04,870 --> 00:26:07,950
nad at some point

00:26:08,840 --> 00:26:12,460
Oh what I being sarcastic

00:26:19,190 --> 00:26:22,980
I guess this is the wrong time to ask

00:26:21,420 --> 00:26:25,520
about carrier-grade NAT and what you

00:26:22,980 --> 00:26:25,520
think about it

00:26:28,999 --> 00:26:35,940
I have an opinion

00:26:32,620 --> 00:26:35,940
I'm going for it

00:26:54,509 --> 00:27:01,349
that said I like to start with the

00:26:57,929 --> 00:27:04,769
humorous part carrier-grade NAT by

00:27:01,349 --> 00:27:06,269
layering NAT there are a number of

00:27:04,769 --> 00:27:09,659
applications we're probably all familiar

00:27:06,269 --> 00:27:13,440
with them where NAT breaks said

00:27:09,659 --> 00:27:16,019
application most things we figured out

00:27:13,440 --> 00:27:20,129
how to live with and make our peace with

00:27:16,019 --> 00:27:22,679
NAT I have not linked it in any of the

00:27:20,129 --> 00:27:25,349
slides I should there is a very nice

00:27:22,679 --> 00:27:28,169
blog post on all of the additional

00:27:25,349 --> 00:27:32,190
things things that work with regular net

00:27:28,169 --> 00:27:35,190
that break-in carrier-grade NAT it's a

00:27:32,190 --> 00:27:39,509
large number of games and peer-to-peer

00:27:35,190 --> 00:27:43,879
applications so a lot of users will

00:27:39,509 --> 00:27:43,879
notice and a lot of ISPs won't care

00:27:51,710 --> 00:27:56,179
wait carrier-grade NAT is actually

00:27:53,870 --> 00:27:59,320
triple net so double mat there are

00:27:56,179 --> 00:27:59,320
things that will still work there

00:28:07,480 --> 00:28:09,780
it

00:28:11,040 --> 00:28:13,100
Oh

00:28:24,370 --> 00:28:27,210
assessment

00:28:30,970 --> 00:28:35,080
I think our definition of normal users

00:28:33,340 --> 00:28:38,980
is somewhat different I work at a

00:28:35,080 --> 00:28:42,340
university I have a lot of students they

00:28:38,980 --> 00:28:44,740
would be looking for a direction to

00:28:42,340 --> 00:28:46,919
point their lynch mob for most of

00:28:44,740 --> 00:28:53,129
carrier-grade NAT

00:28:46,919 --> 00:28:56,789
so yes the the users most isp's want

00:28:53,129 --> 00:28:59,549
will be perfectly happy with double

00:28:56,789 --> 00:29:01,289
matting but there are additional things

00:28:59,549 --> 00:29:04,619
that break once you turn on

00:29:01,289 --> 00:29:08,009
carrier-grade NAT and my point is we

00:29:04,619 --> 00:29:10,350
don't need it there's this huge space of

00:29:08,009 --> 00:29:11,909
addresses that we can turn on and it's

00:29:10,350 --> 00:29:16,320
been running for a long time and it

00:29:11,909 --> 00:29:18,539
actually works so let's just go turn on

00:29:16,320 --> 00:29:22,249
the stuff that doesn't make us do nasty

00:29:18,539 --> 00:29:22,249
things that break applications

00:29:57,159 --> 00:30:02,440
because you got a stateful firewall for

00:29:59,470 --> 00:30:05,200
free we need vendors to include stateful

00:30:02,440 --> 00:30:08,070
firewalls that don't expect the net in

00:30:05,200 --> 00:30:08,070
front of them

00:30:11,580 --> 00:30:17,150
some of them have will get people

00:30:13,920 --> 00:30:17,150
trained to use the right ones

00:30:19,120 --> 00:30:22,620
that did get tested earlier

00:30:23,120 --> 00:30:26,800
okay i'll repeat your question

00:30:33,159 --> 00:30:38,620
to be routed over the Internet

00:30:35,420 --> 00:30:38,620
our care

00:30:40,020 --> 00:30:46,230
they're layering the v4 mat for you the

00:30:44,010 --> 00:30:50,520
carrier-grade NAT is a way to avoid

00:30:46,230 --> 00:30:53,370
turning on ipv6 and we do have the

00:30:50,520 --> 00:30:57,110
unique local addresses you could

00:30:53,370 --> 00:30:57,110
probably come up with something evil

00:30:59,530 --> 00:31:11,950
his question was actually if there are

00:31:08,320 --> 00:31:13,690
no I be I've vp6 addresses that can be

00:31:11,950 --> 00:31:15,610
used locally and routed over the

00:31:13,690 --> 00:31:19,060
internet that our carrier is supposed to

00:31:15,610 --> 00:31:26,500
use carrier base net and that's because

00:31:19,060 --> 00:31:30,580
it's a v4 creature the carrier-grade NAT

00:31:26,500 --> 00:31:33,300
is the lane carrier excuse not to turn

00:31:30,580 --> 00:31:33,300
on ipv6

00:31:36,650 --> 00:31:47,210
we could have four layers of NAT so true

00:31:42,770 --> 00:31:49,310
story at work instead of swearing I try

00:31:47,210 --> 00:31:52,130
to be a little more creative in what I

00:31:49,310 --> 00:31:54,230
say I have been known to say Oh flap

00:31:52,130 --> 00:31:56,420
because routers flapping is a very bad

00:31:54,230 --> 00:31:58,430
thing this makes my co-workers giggle

00:31:56,420 --> 00:32:03,140
usually breaks the tension of what we're

00:31:58,430 --> 00:32:05,140
looking at i also used dublin added as a

00:32:03,140 --> 00:32:07,510
curse

00:32:05,140 --> 00:32:10,420
I say oh they might as well be doubling

00:32:07,510 --> 00:32:12,700
added this also has the effect of making

00:32:10,420 --> 00:32:15,520
my co-workers laugh because I have

00:32:12,700 --> 00:32:17,299
cursed them in a network troubleshooting

00:32:15,520 --> 00:32:20,950
fence

00:32:17,299 --> 00:32:20,950
this is what I think of that

00:32:21,230 --> 00:32:24,470
getting back to my point because they

00:32:22,880 --> 00:32:29,419
have slides to remind me where I was

00:32:24,470 --> 00:32:31,400
going when you get assigned in your mind

00:32:29,419 --> 00:32:34,220
you're probably thinking and ipv6

00:32:31,400 --> 00:32:37,040
address you're actually getting a whole

00:32:34,220 --> 00:32:40,870
bunch of addresses we've got the address

00:32:37,040 --> 00:32:40,870
space we're going to use the elbow room

00:32:40,999 --> 00:32:46,999
loopback is colon colon 14 as many

00:32:44,509 --> 00:32:50,449
interfaces as you have they'll all have

00:32:46,999 --> 00:32:51,600
a colon colon 14 loop back to address

00:32:50,449 --> 00:32:54,000
them

00:32:51,600 --> 00:32:56,669
all of your interfaces it can be just

00:32:54,000 --> 00:32:59,640
wired and wireless you can have a quad

00:32:56,669 --> 00:33:02,340
Nick and have multiple ethernet

00:32:59,640 --> 00:33:04,799
interfaces all of them will have that

00:33:02,340 --> 00:33:07,500
loop back all of them will have a link

00:33:04,799 --> 00:33:09,660
local address so they can link local

00:33:07,500 --> 00:33:12,960
talk to everybody else on the VLAN

00:33:09,660 --> 00:33:14,940
starts with f EA t so they'll all have a

00:33:12,960 --> 00:33:19,110
loopback they'll all have a link-local

00:33:14,940 --> 00:33:23,760
and in most cases they'll all have their

00:33:19,110 --> 00:33:25,650
global ipv6 address and getting you go

00:33:23,760 --> 00:33:29,220
okay okay so we're up to three addresses

00:33:25,650 --> 00:33:31,169
I can deal with this oh no actually you

00:33:29,220 --> 00:33:33,120
usually get a whole bunch of random

00:33:31,169 --> 00:33:36,059
addresses that change periodically in

00:33:33,120 --> 00:33:39,059
there this is called privacy extensions

00:33:36,059 --> 00:33:41,549
the first version of slack the stateless

00:33:39,059 --> 00:33:45,470
local address auto-configuration and I

00:33:41,549 --> 00:33:48,059
mentioned took your 48-bit mac address

00:33:45,470 --> 00:33:50,850
cram some numbers in the middle flip the

00:33:48,059 --> 00:33:54,990
high-order bit and made it into a 64-bit

00:33:50,850 --> 00:33:58,320
number called eui-64 and then somebody

00:33:54,990 --> 00:34:02,190
went but then I can be tracked at work

00:33:58,320 --> 00:34:04,679
going over to starbucks going over here

00:34:02,190 --> 00:34:07,140
the other place because the last part of

00:34:04,679 --> 00:34:10,169
your address the last 64-bit never

00:34:07,140 --> 00:34:12,389
change so the first 64 bits would say i

00:34:10,169 --> 00:34:14,369
was at starbucks i was at work I was

00:34:12,389 --> 00:34:17,340
somewhere else and then the last 64

00:34:14,369 --> 00:34:19,320
that's your fingerprint and everybody

00:34:17,340 --> 00:34:23,820
went eek I'm scared of this I don't want

00:34:19,320 --> 00:34:26,790
to be trapped so new RFC privacy

00:34:23,820 --> 00:34:29,760
extensions and that just says you're

00:34:26,790 --> 00:34:31,770
going to get your original slack address

00:34:29,760 --> 00:34:33,899
and then we're going to throw in some

00:34:31,770 --> 00:34:36,179
random addresses and seems to be about

00:34:33,899 --> 00:34:37,470
every half hour on my machine and every

00:34:36,179 --> 00:34:39,570
half hour we're going to pick a new one

00:34:37,470 --> 00:34:43,980
so if you're like me and have some

00:34:39,570 --> 00:34:47,700
long-standing connections running I have

00:34:43,980 --> 00:34:49,740
my eui-64 address i have a random

00:34:47,700 --> 00:34:51,990
address that i started using a couple

00:34:49,740 --> 00:34:54,570
hours ago but the connection is still

00:34:51,990 --> 00:34:57,740
running and maybe a couple more of those

00:34:54,570 --> 00:35:01,580
and then the current random one

00:34:57,740 --> 00:35:05,780
and the random addresses that will time

00:35:01,580 --> 00:35:07,910
out our marked deprecated it'll say

00:35:05,780 --> 00:35:10,610
don't use this one for new connections

00:35:07,910 --> 00:35:12,170
but i'm still using that address for a

00:35:10,610 --> 00:35:14,119
long-running connection that it can't

00:35:12,170 --> 00:35:16,540
figure out why i'm still logged into one

00:35:14,119 --> 00:35:19,850
of my servers because that's what I do

00:35:16,540 --> 00:35:21,830
so you get a ton of addresses in v6

00:35:19,850 --> 00:35:25,280
don't panic we've got the address space

00:35:21,830 --> 00:35:27,650
nobody cares we're not upset but you do

00:35:25,280 --> 00:35:31,810
have to change from saying what's my

00:35:27,650 --> 00:35:34,400
ipv6 address to what are my ipv6

00:35:31,810 --> 00:35:37,700
addresses

00:35:34,400 --> 00:35:40,430
oh well we got the room to spare if you

00:35:37,700 --> 00:35:43,190
want to disable it or enable it when

00:35:40,430 --> 00:35:46,460
it's not turned on Google is your friend

00:35:43,190 --> 00:35:47,930
for pick a platform and pick where you

00:35:46,460 --> 00:35:50,109
would like it to go if it's not there

00:35:47,930 --> 00:35:50,109
already

00:35:52,000 --> 00:35:54,780
yes sir

00:35:56,920 --> 00:36:02,820
sorry going back now that you've changed

00:35:59,800 --> 00:36:02,820
pages well of course

00:36:03,160 --> 00:36:11,990
okay i can understand the concept of the

00:36:07,260 --> 00:36:13,940
privacy extension paranoia rules we

00:36:11,990 --> 00:36:15,579
especially for those of us in the

00:36:13,940 --> 00:36:18,239
programming business

00:36:15,579 --> 00:36:18,239
but

00:36:19,130 --> 00:36:21,670
ha

00:36:21,760 --> 00:36:28,180
okay so incoming connections cannot use

00:36:25,090 --> 00:36:29,560
this connection period-correct or this

00:36:28,180 --> 00:36:31,570
address

00:36:29,560 --> 00:36:34,210
establishing new pimp you do not

00:36:31,570 --> 00:36:36,190
establish a new connection on the old

00:36:34,210 --> 00:36:40,030
privacy address no there's always a new

00:36:36,190 --> 00:36:41,830
one coming Oh incoming I only use these

00:36:40,030 --> 00:36:44,470
addresses for outgoing connections

00:36:41,830 --> 00:36:47,050
correct

00:36:44,470 --> 00:36:50,050
well the dirty trick there the one that

00:36:47,050 --> 00:36:53,140
I use for my machines at home is they

00:36:50,050 --> 00:36:55,480
don't use it but the eui-64 address is

00:36:53,140 --> 00:36:57,670
always there and always valid so when I

00:36:55,480 --> 00:36:59,440
want to address my machines and I don't

00:36:57,670 --> 00:37:01,869
want to care what their privacy

00:36:59,440 --> 00:37:05,970
extension address is at this very moment

00:37:01,869 --> 00:37:08,430
I hit the eui-64 address

00:37:05,970 --> 00:37:10,970
or I find it a study to the dress yes

00:37:08,430 --> 00:37:10,970
yeah

00:37:11,109 --> 00:37:15,640
yes there's always a way to skin that

00:37:13,089 --> 00:37:18,210
cat it's just a different cat and

00:37:15,640 --> 00:37:18,210
p v6

00:37:24,000 --> 00:37:28,400
yes sir like oh

00:37:29,349 --> 00:37:38,400
do you happen to know what the national

00:37:33,089 --> 00:37:41,339
carrier adoption is for IV IV p6 is it

00:37:38,400 --> 00:37:44,410
which I Spees have it which ones don't

00:37:41,339 --> 00:37:46,059
and what good is going through the

00:37:44,410 --> 00:37:48,749
effort of building the land out of it if

00:37:46,059 --> 00:37:53,799
the carrier you have doesn't support it

00:37:48,749 --> 00:37:57,069
that's been a huge question who goes

00:37:53,799 --> 00:37:59,229
first content providers or the ISP and

00:37:57,069 --> 00:38:03,759
everybody has been pointing their finger

00:37:59,229 --> 00:38:06,789
at somebody else to do it first john

00:38:03,759 --> 00:38:10,539
curran ended recently with a call to the

00:38:06,789 --> 00:38:13,749
content providers to do it that said all

00:38:10,539 --> 00:38:17,319
of the ISPs in my area claim to offer

00:38:13,749 --> 00:38:20,109
ipv6 and it's only once you get down

00:38:17,319 --> 00:38:23,049
into the implementation details of no

00:38:20,109 --> 00:38:25,599
really and it will be things like time

00:38:23,049 --> 00:38:27,609
warner cable says they offer it and I go

00:38:25,599 --> 00:38:31,490
over to my mom's house go into her

00:38:27,609 --> 00:38:35,180
router check the box next to ipv6

00:38:31,490 --> 00:38:39,230
nothing reboot everything in sight hmm

00:38:35,180 --> 00:38:43,400
nothing there's a lot of claim of it

00:38:39,230 --> 00:38:46,010
it's patchy on how that's done there's a

00:38:43,400 --> 00:38:49,880
project at Cisco in their measurement

00:38:46,010 --> 00:38:54,020
lab too I think they call it ipv6

00:38:49,880 --> 00:38:57,080
penetration world map and they show how

00:38:54,020 --> 00:38:59,740
much they're able to measure in the

00:38:57,080 --> 00:38:59,740
various countries

00:39:00,420 --> 00:39:06,540
and to ask another question here when

00:39:04,080 --> 00:39:10,580
you were talking about incoming

00:39:06,540 --> 00:39:10,580
connections so you have

00:39:10,619 --> 00:39:16,970
like what's a traditional portforward

00:39:12,509 --> 00:39:20,309
right now behind that and you're outside

00:39:16,970 --> 00:39:23,700
sayre here and you want a VPN I'm

00:39:20,309 --> 00:39:27,180
assuming you just be using an IVP cept I

00:39:23,700 --> 00:39:30,749
pv6 address in all of your software

00:39:27,180 --> 00:39:34,049
listen ah the VPN software that I use

00:39:30,749 --> 00:39:37,410
personally is open VPN I've no trouble

00:39:34,049 --> 00:39:39,200
setting up v6 models with that

00:39:37,410 --> 00:39:42,180
I want to go back to the first question

00:39:39,200 --> 00:39:45,930
at least in the national carriers all of

00:39:42,180 --> 00:39:48,360
them support v6 in the backbone so if

00:39:45,930 --> 00:39:50,520
you are a large business and you have

00:39:48,360 --> 00:39:52,410
you pay thousands of dollars for your

00:39:50,520 --> 00:39:55,140
internet connection and let you know you

00:39:52,410 --> 00:39:57,870
had a one gig or a 10 gig link you have

00:39:55,140 --> 00:40:01,140
no problem getting a v6 connection if

00:39:57,870 --> 00:40:07,790
you are a residential user or a small

00:40:01,140 --> 00:40:07,790
business user good luck yes what he said

00:40:08,270 --> 00:40:15,140
so unfortunately it feels like a lot of

00:40:10,550 --> 00:40:19,000
what I do now you know visit my mom for

00:40:15,140 --> 00:40:22,220
example okay I have to call time warner

00:40:19,000 --> 00:40:23,930
listen to the standard even back to even

00:40:22,220 --> 00:40:27,770
sometimes go through this what's that

00:40:23,930 --> 00:40:32,600
why do you want that this does not sit

00:40:27,770 --> 00:40:35,960
well with me as exit may I speak to your

00:40:32,600 --> 00:40:38,320
manager magic words there

00:40:35,960 --> 00:40:40,730
it's also good for my blood pressure

00:40:38,320 --> 00:40:43,589
gives me a chance to catch my breath

00:40:40,730 --> 00:40:45,119
okay I'm good now

00:40:43,589 --> 00:40:49,920
reason why we're spending so much time

00:40:45,119 --> 00:40:52,620
on the v6 addresses a wise coworker mine

00:40:49,920 --> 00:40:55,200
we call her Cindy

00:40:52,620 --> 00:40:57,180
we sent her off to ipv6 training three

00:40:55,200 --> 00:40:59,160
days later she came back and she said

00:40:57,180 --> 00:41:01,910
once you understand the addressing your

00:40:59,160 --> 00:41:01,910
most of the way there

00:41:02,270 --> 00:41:08,900
okay this is why we're talking about the

00:41:05,360 --> 00:41:12,680
addresses I have two favorite online

00:41:08,900 --> 00:41:14,000
tools to decode bear addresses you know

00:41:12,680 --> 00:41:16,970
and it'll come up and you'll say this is

00:41:14,000 --> 00:41:21,170
a global unicast oh this is an EU i-64

00:41:16,970 --> 00:41:24,050
here's the mac address Tavian it's a

00:41:21,170 --> 00:41:25,460
perl script there's a link there for you

00:41:24,050 --> 00:41:28,940
if you want to run this on your own web

00:41:25,460 --> 00:41:31,070
server and v6 decode that's got the

00:41:28,940 --> 00:41:32,960
shiny JavaScript you hover over it it'll

00:41:31,070 --> 00:41:35,600
pop up and tell you what this word is

00:41:32,960 --> 00:41:37,940
doing and what that one's doing if you'd

00:41:35,600 --> 00:41:41,180
rather have a command line tool and many

00:41:37,940 --> 00:41:43,620
days I would rather ipv6 calc very

00:41:41,180 --> 00:41:46,860
simple

00:41:43,620 --> 00:41:48,870
yes I had filled it by hand I think it

00:41:46,860 --> 00:41:51,650
is probably the easiest software i have

00:41:48,870 --> 00:41:51,650
ever built by Kim

00:41:53,960 --> 00:41:58,940
oh and then just because I wanted to

00:41:55,790 --> 00:42:03,170
throw it in somewhere I can rattle off

00:41:58,940 --> 00:42:06,589
IP oh-eight-hundred in my sleep I know

00:42:03,170 --> 00:42:08,869
the frame type of IP so for those of you

00:42:06,589 --> 00:42:13,160
who rattle off Oh 800 is the frame type

00:42:08,869 --> 00:42:16,150
of IP update your brains 86 DD frame

00:42:13,160 --> 00:42:16,150
type for ipv6

00:42:17,180 --> 00:42:22,740
so again everything's the same we just

00:42:20,000 --> 00:42:25,470
changed a few of the name

00:42:22,740 --> 00:42:27,660
and frame types

00:42:25,470 --> 00:42:30,270
so once we start talking about addresses

00:42:27,660 --> 00:42:32,130
we try to dive in the next thing we have

00:42:30,270 --> 00:42:34,410
to cover is there are different scopes

00:42:32,130 --> 00:42:37,470
for them and that's basically how big

00:42:34,410 --> 00:42:39,690
how many people can you talk to loop

00:42:37,470 --> 00:42:41,790
back clearly you're only talking to

00:42:39,690 --> 00:42:45,000
yourself that address again is colon

00:42:41,790 --> 00:42:47,040
colon 1 link-local which keeps you on

00:42:45,000 --> 00:42:50,190
your local area network your feel and

00:42:47,040 --> 00:42:52,380
only that is automatic that's an

00:42:50,190 --> 00:42:57,270
automatic address almost always the

00:42:52,380 --> 00:43:01,020
eui-64 and it's unrounded it starts with

00:42:57,270 --> 00:43:03,859
f EA t so you can get to where aah ko

00:43:01,020 --> 00:43:08,070
and colon 1 loop back ofE 80 I know that

00:43:03,859 --> 00:43:11,250
that's just our link local for a while

00:43:08,070 --> 00:43:14,790
and again ipv6 has been through a couple

00:43:11,250 --> 00:43:18,510
iterations based on feedback originally

00:43:14,790 --> 00:43:20,490
there was a site local Beck 0 that has

00:43:18,510 --> 00:43:24,780
been deprecated for the unique local

00:43:20,490 --> 00:43:27,330
addresses and those start with FD it's a

00:43:24,780 --> 00:43:27,850
flash 8 so more room that you would ever

00:43:27,330 --> 00:43:31,330
need

00:43:27,850 --> 00:43:34,450
for your unique local addresses the

00:43:31,330 --> 00:43:39,400
global unicast addresses they I Anna

00:43:34,450 --> 00:43:42,250
assigned as 2,000 colon or 2000 colon

00:43:39,400 --> 00:43:45,190
colon slash three is what we're using

00:43:42,250 --> 00:43:47,230
for global unicast right now you still

00:43:45,190 --> 00:43:49,090
get your assignments for my Anna this is

00:43:47,230 --> 00:43:52,150
the documentation reach that I mentioned

00:43:49,090 --> 00:43:54,099
earlier 2001 deviate

00:43:52,150 --> 00:43:56,319
is our documentation personally I think

00:43:54,099 --> 00:43:59,760
of the db9 video connector and say okay

00:43:56,319 --> 00:43:59,760
one less than that for documentation

00:44:00,400 --> 00:44:06,609
and we do also still have any cast

00:44:03,450 --> 00:44:08,829
address is showing up in here so again

00:44:06,609 --> 00:44:11,220
with the scopes and the ranges and guess

00:44:08,829 --> 00:44:14,349
what we have those for our v6 addresses

00:44:11,220 --> 00:44:17,170
we have the exact same scopes for the

00:44:14,349 --> 00:44:19,750
multi cats we want to talk to the same

00:44:17,170 --> 00:44:23,620
groups and do the talk amongst

00:44:19,750 --> 00:44:25,810
yourselves multicast for them

00:44:23,620 --> 00:44:28,090
so that's a link to i believe it was I

00:44:25,810 --> 00:44:34,720
Anna and their list of here's what we're

00:44:28,090 --> 00:44:37,060
using for v6 multicast FF / 8 is all of

00:44:34,720 --> 00:44:39,970
multi cats so if it starts with FF you

00:44:37,060 --> 00:44:42,890
can go oh that's our v6 multicast there

00:44:39,970 --> 00:44:45,280
anything that Wow how'd you recognize it

00:44:42,890 --> 00:44:50,660
it starts with that that

00:44:45,280 --> 00:44:52,430
FFO one is interface local FF 0 2 is

00:44:50,660 --> 00:44:55,400
linked local

00:44:52,430 --> 00:44:59,060
and then for any given multicast scope

00:44:55,400 --> 00:45:01,970
colon colon 1 is all nodes and colon

00:44:59,060 --> 00:45:04,960
colon 2 is all routers and then we can

00:45:01,970 --> 00:45:08,060
mix and match do we want to be you know

00:45:04,960 --> 00:45:11,600
interface local all nodes or link local

00:45:08,060 --> 00:45:13,580
all notes we're all routers or you get

00:45:11,600 --> 00:45:15,620
to mix and match what the multicast

00:45:13,580 --> 00:45:18,630
prefix means with what the multicast

00:45:15,620 --> 00:45:21,000
suffix means

00:45:18,630 --> 00:45:23,470
or you can learn to look things up very

00:45:21,000 --> 00:45:27,000
quickly in Wikipedia

00:45:23,470 --> 00:45:27,000
I tend to recommend that one

00:45:27,630 --> 00:45:35,190
so these are the v6 addresses that i

00:45:31,080 --> 00:45:37,860
pester my co-workers to know on site I'm

00:45:35,190 --> 00:45:40,320
not going to quit anybody in here on do

00:45:37,860 --> 00:45:42,420
you know these by sight but the ones

00:45:40,320 --> 00:45:45,270
that I think are good to know Cohen

00:45:42,420 --> 00:45:47,850
Cohen one is looped back it's only one

00:45:45,270 --> 00:45:49,830
digit to remember okay so we put two

00:45:47,850 --> 00:45:51,990
colons in front it's three characters to

00:45:49,830 --> 00:45:54,630
remember and it means loop back okay

00:45:51,990 --> 00:45:57,180
that's a nice simple one if it starts

00:45:54,630 --> 00:46:00,000
with f EA T that's our link local

00:45:57,180 --> 00:46:06,300
unicast that's keep it in the VLAN folks

00:46:00,000 --> 00:46:08,340
if you see FF fe in the middle of the

00:46:06,300 --> 00:46:11,070
address you know there's the network

00:46:08,340 --> 00:46:14,130
prefix and then the 64 bits that are

00:46:11,070 --> 00:46:16,620
left have FS colon fe stuck in the

00:46:14,130 --> 00:46:19,770
middle you see the FF fe and you go oh

00:46:16,620 --> 00:46:22,280
that's the eui-64 address i have your

00:46:19,770 --> 00:46:22,280
mac address

00:46:23,790 --> 00:46:33,430
2002 / 16 is the 624 range from I Anna I

00:46:30,060 --> 00:46:35,290
when I started poking subnet online too

00:46:33,430 --> 00:46:37,420
because I like to check my facts on a

00:46:35,290 --> 00:46:40,450
couple of sources they seem to be using

00:46:37,420 --> 00:46:42,880
some older ranges as well and then I'm

00:46:40,450 --> 00:46:45,460
in in this case I'm just going to ask

00:46:42,880 --> 00:46:48,700
Tavian or v6 decode which evers up in my

00:46:45,460 --> 00:46:54,369
browser right now to decode it the 624

00:46:48,700 --> 00:46:56,080
relay uses this anycast address and then

00:46:54,369 --> 00:47:01,640
if you see something that starts with F

00:46:56,080 --> 00:47:03,319
F the whole FF 0 0 / 8 is multicast

00:47:01,640 --> 00:47:05,480
yeah so we get a couple of F's to

00:47:03,319 --> 00:47:08,750
remember we got our colon colon 1 and

00:47:05,480 --> 00:47:11,900
the FFF e in the middle not too serious

00:47:08,750 --> 00:47:13,730
I also add in for my co-workers and I

00:47:11,900 --> 00:47:17,299
want you to recognize this is our

00:47:13,730 --> 00:47:18,829
network prefix at UNC because well they

00:47:17,299 --> 00:47:21,760
work here they better recognize our

00:47:18,829 --> 00:47:21,760
global addresses

00:47:23,460 --> 00:47:28,470
and then you go well does it matter how

00:47:25,620 --> 00:47:30,840
I get my v6 do I have to get it from my

00:47:28,470 --> 00:47:34,760
provider because I'm just a lowly

00:47:30,840 --> 00:47:34,760
residential user and they don't care

00:47:35,220 --> 00:47:42,930
so pulled out an old chart cream cream

00:47:38,460 --> 00:47:46,770
cream cream they're measuring the X

00:47:42,930 --> 00:47:49,260
added latency when using v6 compared to

00:47:46,770 --> 00:47:54,450
vie for traffic for the same users they

00:47:49,260 --> 00:47:57,540
had some large project to do this notice

00:47:54,450 --> 00:47:59,280
the one that has the least variation and

00:47:57,540 --> 00:48:01,800
in fact has a couple of times where it's

00:47:59,280 --> 00:48:05,490
faster okay little slower there was

00:48:01,800 --> 00:48:08,730
actually faster than before here little

00:48:05,490 --> 00:48:11,430
increase little decrease increase this

00:48:08,730 --> 00:48:13,920
ripple to me that green line is clearly

00:48:11,430 --> 00:48:16,170
the one you want to have because it has

00:48:13,920 --> 00:48:19,290
the least variation not only do i

00:48:16,170 --> 00:48:22,619
dislike latency the most but I'm not a

00:48:19,290 --> 00:48:27,030
real fan of jitter either and that green

00:48:22,619 --> 00:48:30,980
line is native ipv6 so if you can get it

00:48:27,030 --> 00:48:30,980
native ipv6 is this

00:48:35,250 --> 00:48:42,010
performance of ipv6 you're going ok I'm

00:48:38,920 --> 00:48:44,080
ready to turn it on well I want you to

00:48:42,010 --> 00:48:48,340
be ready for certain interesting

00:48:44,080 --> 00:48:52,930
performance problems the mandate the RFC

00:48:48,340 --> 00:48:56,980
says prefer v6 use v6 first if that

00:48:52,930 --> 00:48:59,050
doesn't work use v4 well actually the

00:48:56,980 --> 00:49:03,250
second statement is my interpretation of

00:48:59,050 --> 00:49:05,859
it the mandate is just prefer v6 so once

00:49:03,250 --> 00:49:10,150
upon a time I was very new to turning

00:49:05,859 --> 00:49:11,920
this on I went to the DNS folks and I

00:49:10,150 --> 00:49:14,859
said hey could you give me some v6

00:49:11,920 --> 00:49:17,560
addresses for our name servers and they

00:49:14,859 --> 00:49:21,720
put those in first before I had turned

00:49:17,560 --> 00:49:26,290
on the v6 address on the name servers i

00:49:21,720 --> 00:49:28,480
see one face of understanding i was

00:49:26,290 --> 00:49:30,700
humming along happily I then you know

00:49:28,480 --> 00:49:34,810
did secure shell to my name server I'm

00:49:30,700 --> 00:49:38,400
starting to add the address again I

00:49:34,810 --> 00:49:40,890
haven't touched windows in many years

00:49:38,400 --> 00:49:43,460
unhappily buzzing alarm looking over it

00:49:40,890 --> 00:49:45,960
okay google says turn it on this way

00:49:43,460 --> 00:49:48,240
quite happily buzzing along when

00:49:45,960 --> 00:49:51,210
suddenly my system administrator

00:49:48,240 --> 00:49:53,880
darkened my doorstep and he was not a

00:49:51,210 --> 00:49:56,369
happy camper he said why can't I get

00:49:53,880 --> 00:49:57,869
into the nameservers right now he's

00:49:56,369 --> 00:50:00,569
really are they down do i need to go fix

00:49:57,869 --> 00:50:02,760
something that's right now they're not

00:50:00,569 --> 00:50:05,970
down on in right now

00:50:02,760 --> 00:50:07,950
and after a few back and forth and some

00:50:05,970 --> 00:50:10,080
it's okay they're not down you don't

00:50:07,950 --> 00:50:12,150
have to have a panic he was also in a

00:50:10,080 --> 00:50:14,340
panic because his monitoring tools

00:50:12,150 --> 00:50:16,230
haven't told him they were down he just

00:50:14,340 --> 00:50:18,390
couldn't connect to them so this had

00:50:16,230 --> 00:50:21,830
caused huge panic why are these servers

00:50:18,390 --> 00:50:24,780
down but i'm logged into them right now

00:50:21,830 --> 00:50:28,200
what had happened on his windows machine

00:50:24,780 --> 00:50:33,560
was that it was trying to connect the v6

00:50:28,200 --> 00:50:33,560
address failing and stopping there

00:50:35,160 --> 00:50:40,800
so be aware the different platforms they

00:50:38,940 --> 00:50:42,410
do this differently I got to learn this

00:50:40,800 --> 00:50:44,680
one

00:50:42,410 --> 00:50:46,569
the hard way

00:50:44,680 --> 00:50:50,170
since there was a little bit of yelling

00:50:46,569 --> 00:50:52,440
in temper involved this may also cause

00:50:50,170 --> 00:50:55,569
the problem is called happy eyeballs

00:50:52,440 --> 00:50:58,960
some browsers render things as they come

00:50:55,569 --> 00:51:02,680
in internet explorer does not so when we

00:50:58,960 --> 00:51:07,030
have tested v6 only internet explorer we

00:51:02,680 --> 00:51:09,460
had it take ooh seven minutes on the

00:51:07,030 --> 00:51:13,030
University home page because flicker is

00:51:09,460 --> 00:51:17,349
v4 only and there's a flicker stream at

00:51:13,030 --> 00:51:20,349
the bottom so some things do prefer v6

00:51:17,349 --> 00:51:22,359
nicely failover silently fairly quickly

00:51:20,349 --> 00:51:24,160
I didn't even notice the additional leg

00:51:22,359 --> 00:51:26,970
when I was connecting to the name

00:51:24,160 --> 00:51:29,520
servers and my sis admin couldn't so

00:51:26,970 --> 00:51:32,410
some things just work some things don't

00:51:29,520 --> 00:51:35,290
v6 has a feature called neighbor

00:51:32,410 --> 00:51:36,730
unreachable ax t detection and I think

00:51:35,290 --> 00:51:38,859
the reason why I didn't have to go

00:51:36,730 --> 00:51:41,260
through a full timeout cycle and the

00:51:38,859 --> 00:51:44,440
reason why I didn't notice the delay was

00:51:41,260 --> 00:51:46,780
there was a quick you know you do your

00:51:44,440 --> 00:51:49,299
NDP your arc equivalent can I reach this

00:51:46,780 --> 00:51:52,150
quickly got back neighbor unreachable

00:51:49,299 --> 00:51:54,549
and went ok feel over to be four I'm

00:51:52,150 --> 00:51:56,349
good so I didn't have to go through the

00:51:54,549 --> 00:51:58,970
full time out there which is why I

00:51:56,349 --> 00:52:01,500
didn't even notice it happening

00:51:58,970 --> 00:52:06,260
neighbor unreachable ax t detection I

00:52:01,500 --> 00:52:06,260
call this none I call windows a nudnik

00:52:07,610 --> 00:52:11,720
oh right probably should have gone to

00:52:09,920 --> 00:52:14,960
this slide already NDP neighbor

00:52:11,720 --> 00:52:16,720
discovery protocol part of icmpv6 we

00:52:14,960 --> 00:52:19,220
start with a neighbor solicitation

00:52:16,720 --> 00:52:23,390
that's considered a request packet

00:52:19,220 --> 00:52:25,550
icmpv6 informational not error type 135

00:52:23,390 --> 00:52:29,390
answered by a neighbor advertisement

00:52:25,550 --> 00:52:32,590
that's the reply info 136 you send this

00:52:29,390 --> 00:52:36,260
to the solicited node multicast address

00:52:32,590 --> 00:52:38,780
FF 0 2 colon colon one that just means a

00:52:36,260 --> 00:52:42,230
stream of zeroes has been dropped colon

00:52:38,780 --> 00:52:45,080
FF you don't have to have your string of

00:52:42,230 --> 00:52:46,760
zeros be blooded off against the end it

00:52:45,080 --> 00:52:49,090
can be literally in the middle and you

00:52:46,760 --> 00:52:53,630
can have a whole other word to go and

00:52:49,090 --> 00:52:57,530
then the last 24 bits or / or the three

00:52:53,630 --> 00:52:59,410
bites of the v6 unicast address Don as a

00:52:57,530 --> 00:53:01,720
slash 104

00:52:59,410 --> 00:53:04,960
you can build this address you go to

00:53:01,720 --> 00:53:09,339
this multicast address hey who has this

00:53:04,960 --> 00:53:12,520
ipv6 address but again just like the

00:53:09,339 --> 00:53:14,740
lair to multicast it's actually a pretty

00:53:12,520 --> 00:53:17,980
small number of hosts that are going to

00:53:14,740 --> 00:53:20,200
fit in there and you may not have think

00:53:17,980 --> 00:53:24,250
of this like a hash table we have a

00:53:20,200 --> 00:53:27,010
large table of ipv6 addresses we don't

00:53:24,250 --> 00:53:27,940
have very many spots filled out how many

00:53:27,010 --> 00:53:31,420
times are you going to have a hash table

00:53:27,940 --> 00:53:33,250
collision not too often how many times

00:53:31,420 --> 00:53:36,130
are we going to have multiple v6

00:53:33,250 --> 00:53:39,069
addresses essentially cash out to this

00:53:36,130 --> 00:53:42,520
with their last 22 24 bits not that

00:53:39,069 --> 00:53:44,530
often doesn't matter if they do it's

00:53:42,520 --> 00:53:48,740
just multicast and the host will go oh

00:53:44,530 --> 00:53:51,920
hey this one's not for me and ignore it

00:53:48,740 --> 00:53:54,290
so showing where moose has the colon

00:53:51,920 --> 00:53:56,630
colon we could be putting in all of

00:53:54,290 --> 00:53:58,970
these zeros and I gave it the fake

00:53:56,630 --> 00:54:01,790
documentation range so you would put in

00:53:58,970 --> 00:54:04,730
the leading zero there so it's solicited

00:54:01,790 --> 00:54:07,730
node multicast address stepping through

00:54:04,730 --> 00:54:11,660
all of that again FFO to colon colon 1

00:54:07,730 --> 00:54:13,790
colon ffo 13 that's without the leading

00:54:11,660 --> 00:54:15,290
zeros and this is where I get into the

00:54:13,790 --> 00:54:17,860
nuit the neighbor unreachable ax t

00:54:15,290 --> 00:54:17,860
detection

00:54:20,330 --> 00:54:24,650
well I used to be able to look at my arc

00:54:22,670 --> 00:54:29,590
table please tell me there's an NDP

00:54:24,650 --> 00:54:33,560
table i can look at why yes yes there is

00:54:29,590 --> 00:54:36,740
undp and hostname or NDP a for all dash

00:54:33,560 --> 00:54:38,960
D for delete n to do it numeric and skip

00:54:36,740 --> 00:54:40,490
the name resolution wait this should

00:54:38,960 --> 00:54:43,760
look really familiar if you've ever

00:54:40,490 --> 00:54:47,930
played with your art table if NDP isn't

00:54:43,760 --> 00:54:51,230
present because hint this is a bsd

00:54:47,930 --> 00:54:52,880
command so let's say you're running red

00:54:51,230 --> 00:54:55,670
hat enterprise linux like I do at work

00:54:52,880 --> 00:54:59,390
then you'll need to use the nicely

00:54:55,670 --> 00:55:03,140
overloaded IP command IP you can say

00:54:59,390 --> 00:55:05,360
it's in the inet6 family neighbor or the

00:55:03,140 --> 00:55:08,180
one I use this IP dash six neighbors

00:55:05,360 --> 00:55:10,340
show and again with the IP command as

00:55:08,180 --> 00:55:13,490
soon as you as soon as you have uniquely

00:55:10,340 --> 00:55:16,300
identified it you can start dropping

00:55:13,490 --> 00:55:19,040
things so you could also say may show

00:55:16,300 --> 00:55:21,580
which makes for interesting command

00:55:19,040 --> 00:55:21,580
readouts

00:55:23,850 --> 00:55:27,510
so there's always a way to skin that cat

00:55:25,950 --> 00:55:30,090
again I would recommend going to the

00:55:27,510 --> 00:55:32,340
University of wisconsin-madison chart

00:55:30,090 --> 00:55:34,620
they show you which ones where ARP goes

00:55:32,340 --> 00:55:39,660
to NDP and which ones where ARP goes to

00:55:34,620 --> 00:55:42,300
three long ID command again I went

00:55:39,660 --> 00:55:45,080
through the prefer v6 and my little

00:55:42,300 --> 00:55:47,830
snarky nudnik comment

00:55:45,080 --> 00:55:51,290
this is what an ipv6 packet looks like

00:55:47,830 --> 00:55:53,720
version traffic class flow label payload

00:55:51,290 --> 00:55:56,300
length next header if you decide to turn

00:55:53,720 --> 00:55:57,920
on any of the optional options I can

00:55:56,300 --> 00:56:03,530
tell you how many times I've seen that

00:55:57,920 --> 00:56:06,050
turned on hop limit we just renamed the

00:56:03,530 --> 00:56:09,160
time-to-live of the ipv4 packets because

00:56:06,050 --> 00:56:12,080
it wasn't actually a time to hop limit

00:56:09,160 --> 00:56:14,000
but it's still every router decrements

00:56:12,080 --> 00:56:17,060
that by one until you throw it away at

00:56:14,000 --> 00:56:19,490
zero and then because the addresses are

00:56:17,060 --> 00:56:22,040
so big huge hundred and twenty eight

00:56:19,490 --> 00:56:24,800
bits source address huge 128 bit

00:56:22,040 --> 00:56:27,410
destination address okay yeah that's

00:56:24,800 --> 00:56:29,120
huge notice how all of the error

00:56:27,410 --> 00:56:33,680
checking has been moved to the other

00:56:29,120 --> 00:56:36,380
layers TCP checks Ethernet checks with

00:56:33,680 --> 00:56:38,390
the cyclic redundancy check song and I

00:56:36,380 --> 00:56:41,620
think ya shouldn't eat it at this layer

00:56:38,390 --> 00:56:41,620
the other layers will get it

00:56:42,289 --> 00:56:49,069
already said all of that most higher

00:56:45,019 --> 00:56:52,699
level protocols above this don't need a

00:56:49,069 --> 00:56:54,769
change some of them is an ftp

00:56:52,699 --> 00:56:56,359
everybody's whipping child for things

00:56:54,769 --> 00:57:01,279
that break when you make a little tiny

00:56:56,359 --> 00:57:04,669
change like oh say nap some applications

00:57:01,279 --> 00:57:06,410
need a little bit of help most well by

00:57:04,669 --> 00:57:09,309
some protocols need a little bit of help

00:57:06,410 --> 00:57:09,309
some don't

00:57:11,869 --> 00:57:19,400
wouldn't it be nice except I haven't

00:57:14,150 --> 00:57:22,249
used ftp in quite a while SFTP or SCP

00:57:19,400 --> 00:57:24,730
but yes I really wish we could do

00:57:22,249 --> 00:57:24,730
something better

00:57:27,079 --> 00:57:34,269
summary of all the nice little tools

00:57:29,890 --> 00:57:34,269
reminder that you get multiple addresses

00:57:35,940 --> 00:57:41,550
conclusion all of your instincts they're

00:57:38,880 --> 00:57:43,750
still good we just changed the needs to

00:57:41,550 --> 00:57:47,580
protect the guilty I guess

00:57:43,750 --> 00:57:47,580
don't be afraid of your ipv6

00:57:48,790 --> 00:57:54,030
if you have more questions I'll be at

00:57:50,860 --> 00:57:54,030
the flying penguin people

00:58:01,680 --> 00:58:05,980
your customers rely on your website or

00:58:04,480 --> 00:58:08,350
application if it's slower

00:58:05,980 --> 00:58:11,290
non-responsive it infuriates your users

00:58:08,350 --> 00:58:13,120
and costs you money keeping your

00:58:11,290 --> 00:58:16,660
business critical systems humming along

00:58:13,120 --> 00:58:18,940
requires insight into what they're doing

00:58:16,660 --> 00:58:20,890
your system metrics tells stories

00:58:18,940 --> 00:58:22,900
stories that can reveal performance

00:58:20,890 --> 00:58:25,240
bottlenecks resource limitations and

00:58:22,900 --> 00:58:26,799
other problems but how do you keep an

00:58:25,240 --> 00:58:29,440
eye on all of your systems performance

00:58:26,799 --> 00:58:32,470
metrics in real-time and record this

00:58:29,440 --> 00:58:34,240
data for later analysis enter longview

00:58:32,470 --> 00:58:36,250
the new way to see what's really going

00:58:34,240 --> 00:58:38,410
on under the hood the long view

00:58:36,250 --> 00:58:40,480
dashboard lets you visualize the status

00:58:38,410 --> 00:58:42,910
of all your systems providing you with a

00:58:40,480 --> 00:58:46,299
bird's-eye view of your entire fleet you

00:58:42,910 --> 00:58:48,880
can sort by cpu memory swap processes

00:58:46,299 --> 00:58:50,650
load and network usage click a specific

00:58:48,880 --> 00:58:53,049
system to access its individual

00:58:50,650 --> 00:58:55,559
dashboard then click and drag to zoom in

00:58:53,049 --> 00:58:57,970
on chokepoints and get more detail

00:58:55,559 --> 00:58:59,619
comprehensive network data including

00:58:57,970 --> 00:59:01,930
inbound and outbound traffic is

00:58:59,619 --> 00:59:03,520
available on the network tab and disk

00:59:01,930 --> 00:59:05,440
rights and free space on the disk

00:59:03,520 --> 00:59:08,260
stabbed while the process Explorer

00:59:05,440 --> 00:59:10,809
displays usage statistics for individual

00:59:08,260 --> 00:59:12,970
processes the system info tab shows

00:59:10,809 --> 00:59:15,220
listening services active connections

00:59:12,970 --> 00:59:17,349
and available updates adding long view

00:59:15,220 --> 00:59:19,059
to a system is easy just click the

00:59:17,349 --> 00:59:21,190
button copy the one line installation

00:59:19,059 --> 00:59:23,650
command then run the command on your

00:59:21,190 --> 00:59:25,329
linux system to complete the process the

00:59:23,650 --> 00:59:27,520
agent will begin collecting data and

00:59:25,329 --> 00:59:29,370
sending it to longview then the graph

00:59:27,520 --> 00:59:31,920
start rolling

00:59:29,370 --> 00:59:34,290
use longview to gain visibility into

00:59:31,920 --> 00:59:38,030
your servers so when your website or app

00:59:34,290 --> 00:59:38,030

YouTube URL: https://www.youtube.com/watch?v=WKs5_i_SbpM


