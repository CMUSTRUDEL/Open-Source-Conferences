Title: openSUSE Conference 2017 Making a practicle VNC client for character terminals
Publication date: 2017-05-27
Playlist: openSUSE Conference 2017
Description: 
	https://media.ccc.de/v/1232-making-a-practicle-vnc-client-for-character-terminals

Digs into terminal programming in depth, and demonstrates the VNC client live.

This is a lightening talk and live demo of a practical VNC client made for character terminals.

The more theoretical topics of the talk will dig into the basics of VNC programming, terminal manipulation, and how to deal with terminal input quirks.



Howard Guo
Captions: 
	00:00:07,760 --> 00:00:11,680
hello everyone welcome to this first

00:00:10,650 --> 00:00:14,470
delighting

00:00:11,680 --> 00:00:17,020
of the day I suppose it is

00:00:14,470 --> 00:00:19,300
shall rise a moment so if you are

00:00:17,020 --> 00:00:21,520
staying here you must be the peaks among

00:00:19,300 --> 00:00:29,230
all the geeks so I totally appreciate

00:00:21,520 --> 00:00:31,240
that let's give ourselves a big hand so

00:00:29,230 --> 00:00:33,730
today I'm going to present you with the

00:00:31,240 --> 00:00:36,700
software that it's going to push all the

00:00:33,730 --> 00:00:39,489
terminals in Linux and UNIX world beyond

00:00:36,700 --> 00:00:43,600
it's designed tasks and let's see how we

00:00:39,489 --> 00:00:45,579
are going to do it so a very classic

00:00:43,600 --> 00:00:48,700
scenario we have in computing is that we

00:00:45,579 --> 00:00:51,850
wish to access a computer remotely and

00:00:48,700 --> 00:00:55,420
in Linux world in Windows whoever there

00:00:51,850 --> 00:00:57,940
is Remote Desktop which is pretty much

00:00:55,420 --> 00:01:01,060
the standard way other than PowerShell

00:00:57,940 --> 00:01:02,980
running your remote and in Linux most of

00:01:01,060 --> 00:01:07,360
us are very comfortable with secure

00:01:02,980 --> 00:01:09,729
shell ssh and a lot of us are also some

00:01:07,360 --> 00:01:11,560
of us may also find a way and see which

00:01:09,729 --> 00:01:14,229
is virtual network computing a little

00:01:11,560 --> 00:01:18,280
bit more easier to use than ssh in

00:01:14,229 --> 00:01:20,980
certain tasks only and Quincy is a very

00:01:18,280 --> 00:01:22,750
simple protocol pretty much you can move

00:01:20,980 --> 00:01:25,600
your mouse around you can click on your

00:01:22,750 --> 00:01:27,700
mouse and you can type on some keys on

00:01:25,600 --> 00:01:30,310
your keyboard and eventually eventually

00:01:27,700 --> 00:01:33,400
you see the feedback from your computer

00:01:30,310 --> 00:01:35,320
screen a very big limitation in

00:01:33,400 --> 00:01:38,440
comparison to the Windows solution of

00:01:35,320 --> 00:01:42,610
remote desktop is that in Linux we do

00:01:38,440 --> 00:01:45,880
not have sound forwarded to your client

00:01:42,610 --> 00:01:48,640
unless you fiddle with I suppose post

00:01:45,880 --> 00:01:50,620
audio and things like that and Linux is

00:01:48,640 --> 00:01:54,880
so customizable there will be a solution

00:01:50,620 --> 00:01:58,690
so in summary we NC is the remote

00:01:54,880 --> 00:02:02,890
desktop for the remote desktop solution

00:01:58,690 --> 00:02:06,400
for Linux and it looks like this so here

00:02:02,890 --> 00:02:10,569
we have a wincy client connected to a I

00:02:06,400 --> 00:02:14,319
think that was a leap 42.2 displaying

00:02:10,569 --> 00:02:16,239
some very colorful windows so

00:02:14,319 --> 00:02:18,549
most of us are also very very

00:02:16,239 --> 00:02:21,040
comfortable with using terminals I guess

00:02:18,549 --> 00:02:22,810
most of I guess maybe office I using

00:02:21,040 --> 00:02:26,379
terminal so who has used the Linux

00:02:22,810 --> 00:02:29,200
terminal today thank you I see most of

00:02:26,379 --> 00:02:30,730
you have used a Linux terminal and you

00:02:29,200 --> 00:02:34,150
all know that it is an incredibly

00:02:30,730 --> 00:02:37,859
efficient solution to do anything with

00:02:34,150 --> 00:02:41,349
your Linux computer or UNIX computer and

00:02:37,859 --> 00:02:45,579
it is incredibly powerful especially

00:02:41,349 --> 00:02:48,459
efficient now the greatest limitation

00:02:45,579 --> 00:02:50,439
while you are using terminal is probably

00:02:48,459 --> 00:02:53,139
that you cannot do any graphical tasks

00:02:50,439 --> 00:02:56,980
with it for example has anyone browse to

00:02:53,139 --> 00:02:59,530
the greatest internet we have as of

00:02:56,980 --> 00:03:01,930
today on a terminal has anyone done that

00:02:59,530 --> 00:03:04,510
before please raise your hand thank you

00:03:01,930 --> 00:03:11,530
and may I ask what's what sort of

00:03:04,510 --> 00:03:13,480
solution you're used to do that w3m with

00:03:11,530 --> 00:03:16,359
X term and the links that those are the

00:03:13,480 --> 00:03:18,970
answers I've heard so far and how do you

00:03:16,359 --> 00:03:24,519
deal with those websites that force you

00:03:18,970 --> 00:03:26,069
to use javascript a great okay so those

00:03:24,519 --> 00:03:29,799
websites could definitely use some

00:03:26,069 --> 00:03:33,609
better user experience designed to

00:03:29,799 --> 00:03:36,970
accommodate for Peaks like you so we are

00:03:33,609 --> 00:03:40,000
all geeks and including I present in

00:03:36,970 --> 00:03:43,569
myself with this exact challenge so how

00:03:40,000 --> 00:03:46,000
do I well in the unlikely case that I

00:03:43,569 --> 00:03:49,840
will never want to touch graphical

00:03:46,000 --> 00:03:54,250
windows in the unlike link instead all I

00:03:49,840 --> 00:03:56,079
have is a terminal window and I need to

00:03:54,250 --> 00:03:58,680
do some graphical work really

00:03:56,079 --> 00:04:01,239
desperately how would I do that so Oh

00:03:58,680 --> 00:04:03,489
before we move on let's take a look at

00:04:01,239 --> 00:04:05,199
this is a very classic terminal window

00:04:03,489 --> 00:04:06,540
you see a lot with a lot of text and a

00:04:05,199 --> 00:04:09,010
lot of information on the screen

00:04:06,540 --> 00:04:13,000
incredibly efficient incredibly

00:04:09,010 --> 00:04:16,709
incredibly neat so let's push is

00:04:13,000 --> 00:04:19,419
capability beyond this design purpose Oh

00:04:16,709 --> 00:04:22,750
what about this one day you are

00:04:19,419 --> 00:04:25,180
presented with a wheaty 220 terminal and

00:04:22,750 --> 00:04:28,210
all you have is a terminal yet you are

00:04:25,180 --> 00:04:31,840
so desperate to watch a YouTube video or

00:04:28,210 --> 00:04:33,610
watch some of this presentation on in in

00:04:31,840 --> 00:04:36,789
the labour office

00:04:33,610 --> 00:04:38,639
how would you do that does anyone have a

00:04:36,789 --> 00:04:42,550
and have an idea as a moment or

00:04:38,639 --> 00:04:47,550
suggestion no okay

00:04:42,550 --> 00:04:47,550
all right so excuse me

00:04:52,949 --> 00:04:57,270
greater than

00:04:54,610 --> 00:04:59,830
and yeah that might work as well so

00:04:57,270 --> 00:05:03,009
hereby I wish to present you with a

00:04:59,830 --> 00:05:06,039
solution now how do you imagine to have

00:05:03,009 --> 00:05:09,370
a fully functional Wincy client that not

00:05:06,039 --> 00:05:11,530
only draws the screen content of the

00:05:09,370 --> 00:05:13,240
remote computer on your terminal but

00:05:11,530 --> 00:05:15,099
also allows you to control the mouse and

00:05:13,240 --> 00:05:16,780
keyboard how cool would that be that was

00:05:15,099 --> 00:05:20,650
so every single problem we have with

00:05:16,780 --> 00:05:24,129
terminals right there for the software

00:05:20,650 --> 00:05:28,150
is called had more in contrast to had

00:05:24,129 --> 00:05:31,330
less server so it gives them it's a head

00:05:28,150 --> 00:05:34,300
mode for a headless server and it is

00:05:31,330 --> 00:05:35,860
incredibly capable of doing graphical

00:05:34,300 --> 00:05:38,979
work which I will demonstrate shortly

00:05:35,860 --> 00:05:40,870
and if you wish to test out the software

00:05:38,979 --> 00:05:42,779
after the presentation please feel free

00:05:40,870 --> 00:05:45,400
to install it on your tumbleweed

00:05:42,779 --> 00:05:47,919
computer or in case that you are running

00:05:45,400 --> 00:05:50,590
an enterprise edition so that which is

00:05:47,919 --> 00:05:53,590
less you are most welcome to try out

00:05:50,590 --> 00:05:56,620
this software wire these to the package

00:05:53,590 --> 00:05:58,389
hub which is so which has a nice

00:05:56,620 --> 00:06:02,139
collection of software's that you don't

00:05:58,389 --> 00:06:04,900
find out less therefore this software is

00:06:02,139 --> 00:06:08,379
now enterprise certified with the

00:06:04,900 --> 00:06:11,860
inclusion of package hub oh by the way

00:06:08,379 --> 00:06:15,849
I'm totally serious oh and this is how

00:06:11,860 --> 00:06:18,930
it will roughly look like so now shall

00:06:15,849 --> 00:06:23,520
we see a live demo who's interested

00:06:18,930 --> 00:06:23,520
thank you ok let's see a live demo

00:06:43,190 --> 00:06:47,550
right now we have a

00:06:45,540 --> 00:06:49,740
wincy server that is running on

00:06:47,550 --> 00:06:53,190
localhost and the hereby will connect

00:06:49,740 --> 00:06:55,710
the wincy client and now on the on the

00:06:53,190 --> 00:06:58,050
left hand side of the keyboard you you

00:06:55,710 --> 00:07:00,210
are controlling the way over by panning

00:06:58,050 --> 00:07:02,520
it to zoom in zoom me out so that you

00:07:00,210 --> 00:07:04,230
can actually see something because as

00:07:02,520 --> 00:07:05,340
you can see now here the red screen in

00:07:04,230 --> 00:07:07,830
the middle that's where your mouse

00:07:05,340 --> 00:07:10,170
pointer is and otherwise you can see

00:07:07,830 --> 00:07:12,360
roughly do the shape of a lightbulb over

00:07:10,170 --> 00:07:14,100
there so on let's do me and take a look

00:07:12,360 --> 00:07:23,370
at take a closer look at the light bulb

00:07:14,100 --> 00:07:25,620
oh we're running openSUSE great and on

00:07:23,370 --> 00:07:29,310
the right hand side you're controlling

00:07:25,620 --> 00:07:36,630
the mouse you can move the mouse cursor

00:07:29,310 --> 00:07:37,890
around right click oh we cannot really

00:07:36,630 --> 00:07:39,660
see what's happening in the menu so

00:07:37,890 --> 00:07:45,330
let's don't mean but let us better than

00:07:39,660 --> 00:07:50,250
me and take a look we have legs term

00:07:45,330 --> 00:07:52,980
great so shall we uh okay now your

00:07:50,250 --> 00:07:58,530
choice which application shall I launch

00:07:52,980 --> 00:08:02,000
now Firefox your choice Exim great

00:07:58,530 --> 00:08:08,700
okay so let's move the mouse around

00:08:02,000 --> 00:08:20,660
click zoom out maybe I click to the

00:08:08,700 --> 00:08:24,200
wrong place so tell me again looks like

00:08:20,660 --> 00:08:25,910
like just like the CEO will reach a

00:08:24,200 --> 00:08:32,660
connection moments ago so let's see if

00:08:25,910 --> 00:08:49,430
we can launch oh great ok just a

00:08:32,660 --> 00:08:51,680
moment it has happened not only to my

00:08:49,430 --> 00:08:53,540
wins decline but to other wins declines

00:08:51,680 --> 00:08:56,930
to until this very day I don't

00:08:53,540 --> 00:08:58,790
understand probably one of you was very

00:08:56,930 --> 00:09:06,320
familiar with a graphical stack may be

00:08:58,790 --> 00:09:08,450
able to help out great now we have a

00:09:06,320 --> 00:09:15,110
terminal window and let's domion type

00:09:08,450 --> 00:09:17,180
something this is incredibly this is

00:09:15,110 --> 00:09:18,680
powerful enough to watch video just to

00:09:17,180 --> 00:09:20,660
watch YouTube with you just in case

00:09:18,680 --> 00:09:31,880
you're wondering so let's type something

00:09:20,660 --> 00:09:40,490
real fast there we have it so let's back

00:09:31,880 --> 00:09:42,560
get back to our presentation now so um

00:09:40,490 --> 00:09:46,040
regarding terminal programming just in

00:09:42,560 --> 00:09:47,480
case it AG if this demo of this simple

00:09:46,040 --> 00:09:51,020
piece of software cos you're interested

00:09:47,480 --> 00:09:54,140
in to terminal program I wish to remind

00:09:51,020 --> 00:09:56,800
you that terminal is not what is not the

00:09:54,140 --> 00:10:00,110
same as where it was many many years ago

00:09:56,800 --> 00:10:01,730
when we did not have utf-8 text properly

00:10:00,110 --> 00:10:04,370
supported or we don't have so many

00:10:01,730 --> 00:10:08,450
colors and now terminal is an incredibly

00:10:04,370 --> 00:10:11,150
powerful piece of software in case you

00:10:08,450 --> 00:10:13,370
wish to the primary interface to

00:10:11,150 --> 00:10:15,440
interact with the terminal is of course

00:10:13,370 --> 00:10:17,360
using your keyboard and there are two

00:10:15,440 --> 00:10:19,250
frameworks that will make the task a

00:10:17,360 --> 00:10:22,880
little bit easier when primitive

00:10:19,250 --> 00:10:25,760
framework is a very familiar name to no

00:10:22,880 --> 00:10:27,290
two of us which is unconscious well just

00:10:25,760 --> 00:10:29,480
the yesterday or the day before

00:10:27,290 --> 00:10:32,390
tumbleweed broken curses and broke a lot

00:10:29,480 --> 00:10:34,970
of application I suppose that could be

00:10:32,390 --> 00:10:37,160
fixed but bug report is

00:10:34,970 --> 00:10:38,930
working in progress and another library

00:10:37,160 --> 00:10:42,050
which was used to implement had more

00:10:38,930 --> 00:10:45,590
it's labor Kaka well Kaka some of your

00:10:42,050 --> 00:10:48,190
may mean something in your language so

00:10:45,590 --> 00:10:50,510
you know what it means

00:10:48,190 --> 00:10:53,060
let's get a taste of how it actually

00:10:50,510 --> 00:10:55,820
looks to make a cock-up program and in

00:10:53,060 --> 00:10:57,920
this very simple example just very short

00:10:55,820 --> 00:11:00,440
few lines of code will actually get you

00:10:57,920 --> 00:11:02,630
a very capable terminal applications

00:11:00,440 --> 00:11:06,290
already and in this particular case it

00:11:02,630 --> 00:11:08,300
shows it a it draws over your terminal

00:11:06,290 --> 00:11:11,540
and show you what which key is pressed

00:11:08,300 --> 00:11:13,190
so but to make it into something more

00:11:11,540 --> 00:11:17,590
like a Wincy client it will take a

00:11:13,190 --> 00:11:20,300
little bit more work to draw and all and

00:11:17,590 --> 00:11:22,640
terminal program itself is actually not

00:11:20,300 --> 00:11:25,550
difficult at all because terminal is an

00:11:22,640 --> 00:11:27,130
incredibly simple interface how I went

00:11:25,550 --> 00:11:29,030
there are several crooks which I have to

00:11:27,130 --> 00:11:31,970
remind you just in case you are

00:11:29,030 --> 00:11:34,400
interested and then find the minidisc

00:11:31,970 --> 00:11:37,880
works yourself the greatest one of which

00:11:34,400 --> 00:11:42,470
is that did you didn't know that e is an

00:11:37,880 --> 00:11:45,070
escape key when you give a terminal and

00:11:42,470 --> 00:11:47,870
escape key input it is identical to

00:11:45,070 --> 00:11:51,020
clicking an out key and if you for

00:11:47,870 --> 00:11:53,540
example type an OP key plus another key

00:11:51,020 --> 00:11:58,010
but in fact what the terminal receives

00:11:53,540 --> 00:12:01,310
is a is an escape key event followed

00:11:58,010 --> 00:12:04,360
shortly by the second case that you

00:12:01,310 --> 00:12:08,480
pressed and control key M it's very

00:12:04,360 --> 00:12:10,640
independent Kiko a whole new set of key

00:12:08,480 --> 00:12:13,190
codes that are different from the other

00:12:10,640 --> 00:12:16,160
key and the shift key also emits a new

00:12:13,190 --> 00:12:18,440
key code so this is a very short

00:12:16,160 --> 00:12:19,820
introduction to terminal programming and

00:12:18,440 --> 00:12:22,250
I will of course make the slides

00:12:19,820 --> 00:12:24,320
available from this source code and I

00:12:22,250 --> 00:12:27,350
wish to say thank you thank you for

00:12:24,320 --> 00:12:30,080
coming here and if you wish check out my

00:12:27,350 --> 00:12:31,430
other fun projects for example how would

00:12:30,080 --> 00:12:34,490
you imagine to control your computer

00:12:31,430 --> 00:12:36,740
while a satellite telephone or SMS text

00:12:34,490 --> 00:12:37,970
and now there is a solution for you just

00:12:36,740 --> 00:12:41,000
in case your we should go check out

00:12:37,970 --> 00:12:44,089
check it out after the demo so my

00:12:41,000 --> 00:12:46,470
notorious lies one monitor is lied to

00:12:44,089 --> 00:12:47,930
and thanks very much

00:12:46,470 --> 00:12:53,080
you

00:12:47,930 --> 00:12:53,080

YouTube URL: https://www.youtube.com/watch?v=z93VKb8iW1s


