Title: OSC15 - Wido den Hollander - Distributed storage Ceph
Publication date: 2015-05-04
Playlist: openSUSE Conference 2015
Description: 
	Our data storage needs keep growing. We store more and more data every day, so how do we scale our storage? Ceph is a open source distributed unified storage system which provides object, block and file storage which scales into the PetaBytes.

Ceph is 100% Open Source and included in the Linux kernel, OpenStack and many other projects. It runs on commodity hardware and by being Open Source doesn't create a vendor lock-in. No more vendors telling you your storage is going End-of-Life, you gain control again about what happens with your data,
Captions: 
	00:00:00,000 --> 00:00:04,410
ladies and gentlemen it seems our

00:00:01,319 --> 00:00:06,569
presenters missing so are you actually

00:00:04,410 --> 00:00:10,139
interested in Seth and learning about

00:00:06,569 --> 00:00:18,920
Seth then I might be able to tell you a

00:00:10,139 --> 00:00:23,939
bit about it so in the classical world

00:00:18,920 --> 00:00:25,830
you did AJ by having a big expensive SAN

00:00:23,939 --> 00:00:28,920
storage which you attached over fibre

00:00:25,830 --> 00:00:31,470
channel or I skazhi something to

00:00:28,920 --> 00:00:33,390
multiple machines so they can access the

00:00:31,470 --> 00:00:35,250
same data in case one machine goes downs

00:00:33,390 --> 00:00:39,270
and the other cans the accessor tater

00:00:35,250 --> 00:00:42,360
and you take over and that needed these

00:00:39,270 --> 00:00:47,460
expensive as an storages from net up and

00:00:42,360 --> 00:00:51,079
DMC and whatever and we surf you can

00:00:47,460 --> 00:00:53,969
build something much better sort of

00:00:51,079 --> 00:00:57,090
using standard hard way you take a

00:00:53,969 --> 00:01:01,559
number of pcs like at least five I would

00:00:57,090 --> 00:01:04,680
say and then you deploy the safe

00:01:01,559 --> 00:01:07,020
software on that which is not exactly

00:01:04,680 --> 00:01:09,420
easy to do without proper development

00:01:07,020 --> 00:01:11,670
framework but when you have that you

00:01:09,420 --> 00:01:15,030
just say deploy and it goes there and

00:01:11,670 --> 00:01:18,030
puts em safe on the disks and ideally

00:01:15,030 --> 00:01:21,600
you also have some SSDs for speeding

00:01:18,030 --> 00:01:23,310
things up of it so and so you have your

00:01:21,600 --> 00:01:26,460
number of machines with your hard disks

00:01:23,310 --> 00:01:29,189
a star around here right it's a

00:01:26,460 --> 00:01:32,220
ceasefire speaking up and then you put

00:01:29,189 --> 00:01:35,909
your data on and at the bottom layer

00:01:32,220 --> 00:01:40,590
it's those objects and an object is just

00:01:35,909 --> 00:01:45,600
a thing with paths and legs and the data

00:01:40,590 --> 00:01:50,299
in there so not much metadata and then

00:01:45,600 --> 00:01:53,250
there is a layer on safe called shadows

00:01:50,299 --> 00:01:57,000
which creates block devices out of such

00:01:53,250 --> 00:01:58,619
objects so you have say a virtual

00:01:57,000 --> 00:02:04,439
machine with an eight gigabyte file

00:01:58,619 --> 00:02:07,649
system and this layer puts these as

00:02:04,439 --> 00:02:10,770
small objects like a few hundred

00:02:07,649 --> 00:02:11,460
kilobytes may be awesome megabytes some

00:02:10,770 --> 00:02:15,090
opt

00:02:11,460 --> 00:02:18,870
checked and split it up and distributes

00:02:15,090 --> 00:02:22,920
over safe and the seller takes care to

00:02:18,870 --> 00:02:26,040
duplicate the data so it's not two or

00:02:22,920 --> 00:02:27,570
three times over your cluster so when

00:02:26,040 --> 00:02:30,770
one machine goes down it doesn't matter

00:02:27,570 --> 00:02:33,540
because the data is there and there and

00:02:30,770 --> 00:02:35,970
if yet another machine it will be copied

00:02:33,540 --> 00:02:40,530
again and so it takes care since there's

00:02:35,970 --> 00:02:48,090
enough duplication of your data so it's

00:02:40,530 --> 00:02:49,200
pretty nice that's it so okay so you

00:02:48,090 --> 00:02:51,900
have your bottom layer was the object

00:02:49,200 --> 00:02:53,990
and your layer on top so arrows layer

00:02:51,900 --> 00:02:56,490
which creates your block devices

00:02:53,990 --> 00:02:59,540
basically and you have in the linux

00:02:56,490 --> 00:03:06,020
kernel a driver called rbd which was

00:02:59,540 --> 00:03:08,730
Radha's block device and you can

00:03:06,020 --> 00:03:10,950
configure these to point to your rod

00:03:08,730 --> 00:03:13,950
osky last time or a safe cluster and

00:03:10,950 --> 00:03:16,200
then just excess you data from any

00:03:13,950 --> 00:03:19,170
machine that has IP access to yourself

00:03:16,200 --> 00:03:21,210
castor which is what you want because

00:03:19,170 --> 00:03:24,210
you want to do like things like fire

00:03:21,210 --> 00:03:26,640
over when one fails you start the vm

00:03:24,210 --> 00:03:35,070
onion as a host being able to access the

00:03:26,640 --> 00:03:41,670
same data so um that's a story of photos

00:03:35,070 --> 00:03:45,600
and then there's another layer called

00:03:41,670 --> 00:03:48,660
seven FS which is a supposed to be a

00:03:45,600 --> 00:03:50,760
POSIX compliant file system but you can

00:03:48,660 --> 00:03:54,060
just mount at put your files in there

00:03:50,760 --> 00:03:57,570
with CP and Kat and Jas and manage it

00:03:54,060 --> 00:03:58,900
like a normal file system but as the

00:03:57,570 --> 00:04:02,500
story is

00:03:58,900 --> 00:04:04,840
it was not quite ready yet at least one

00:04:02,500 --> 00:04:07,629
year ago when I last checked and well

00:04:04,840 --> 00:04:10,360
it's what the people said and so the

00:04:07,629 --> 00:04:13,870
surface is the bit of a stepchild but so

00:04:10,360 --> 00:04:18,609
far dos layers very very well working

00:04:13,870 --> 00:04:21,400
nicely supported and actually a KTM or

00:04:18,609 --> 00:04:24,009
lipitor both of them even have native

00:04:21,400 --> 00:04:26,830
support for a lot of block devices for

00:04:24,009 --> 00:04:29,410
the rbd so you don't need the current

00:04:26,830 --> 00:04:33,550
layer of it casa con la is a bit tricky

00:04:29,410 --> 00:04:38,530
but they can directly produce and

00:04:33,550 --> 00:04:40,360
network packets to talk to SEF and get

00:04:38,530 --> 00:04:44,190
their block devices into KTM so you can

00:04:40,360 --> 00:04:47,199
run virtual machines directly from your

00:04:44,190 --> 00:04:53,050
hardest block devices on the South class

00:04:47,199 --> 00:04:56,320
there and that's a nice thing because

00:04:53,050 --> 00:04:59,400
then you can just lose a host and fire

00:04:56,320 --> 00:05:03,419
up your via month as a machine and

00:04:59,400 --> 00:05:05,560
assuming is file system is the very good

00:05:03,419 --> 00:05:08,289
say you have journaling and sudden

00:05:05,560 --> 00:05:11,139
should be good so then should be coming

00:05:08,289 --> 00:05:15,639
up on the other machine within a typical

00:05:11,139 --> 00:05:17,590
time off maybe 10 20 milliseconds yeah

00:05:15,639 --> 00:05:19,300
it's not like these big machines that

00:05:17,590 --> 00:05:21,280
take five minutes to boot because they

00:05:19,300 --> 00:05:26,260
have also biases but we m speed very

00:05:21,280 --> 00:05:29,110
fast and it's also nice thing ok so do

00:05:26,260 --> 00:05:31,919
we have anything else about Chef any

00:05:29,110 --> 00:05:31,919
hints yeah

00:05:38,710 --> 00:05:51,520
cluster office I Gloucester with G ok I

00:05:46,390 --> 00:05:56,930
think there's some overlap but I'm not

00:05:51,520 --> 00:06:00,940
so familiar with last FS so I think the

00:05:56,930 --> 00:06:03,860
technology is a bit different yeah but

00:06:00,940 --> 00:06:07,670
could be a similar use case but do you

00:06:03,860 --> 00:06:11,720
have for example this integration into Q

00:06:07,670 --> 00:06:14,030
mu that can work directly from glass

00:06:11,720 --> 00:06:16,360
slab without support from Colonel or

00:06:14,030 --> 00:06:16,360
something

00:06:34,200 --> 00:06:40,070
man's toes

00:06:36,060 --> 00:06:40,070
 bicycle items

00:06:42,660 --> 00:06:50,670
so the question is more about when you

00:06:47,400 --> 00:06:53,160
use certain kinds of storage solutions

00:06:50,670 --> 00:06:56,190
in use cases focus on profit is

00:06:53,160 --> 00:06:59,670
promoting last NFS to use in virtualized

00:06:56,190 --> 00:07:03,780
environments and say that self is only

00:06:59,670 --> 00:07:06,780
based for like death of solutions and

00:07:03,780 --> 00:07:10,260
certain kind of application development

00:07:06,780 --> 00:07:13,080
and they couldn't really explain how you

00:07:10,260 --> 00:07:15,480
probably can use safe now if you got

00:07:13,080 --> 00:07:18,000
some use case or examples how you

00:07:15,480 --> 00:07:20,790
implement safe and how you can use it in

00:07:18,000 --> 00:07:26,490
business environment then so it's a

00:07:20,790 --> 00:07:30,390
solution I'm still not quite sure if I

00:07:26,490 --> 00:07:34,730
got the question but so examples how to

00:07:30,390 --> 00:07:37,710
use safe for others probably at least

00:07:34,730 --> 00:07:39,380
i'm working on through the cloud and in

00:07:37,710 --> 00:07:42,720
the cloud we have some support for

00:07:39,380 --> 00:07:46,800
integration of Seth that's why I know

00:07:42,720 --> 00:07:53,730
about it and there you can use it for

00:07:46,800 --> 00:07:55,740
volumes in OpenStack um so you have your

00:07:53,730 --> 00:07:57,750
cloud 80 ice or the web front end to it

00:07:55,740 --> 00:08:00,540
and you can say okay and want a new

00:07:57,750 --> 00:08:02,580
volume and you type the size of 50

00:08:00,540 --> 00:08:04,740
gigabytes and then it goes to the

00:08:02,580 --> 00:08:07,800
backend and creates us 50 gigabytes

00:08:04,740 --> 00:08:11,730
volumes and then you can attach the

00:08:07,800 --> 00:08:14,370
volume to a vm and then the vm will get

00:08:11,730 --> 00:08:17,300
a new hot plucked 50 gigabyte hard disk

00:08:14,370 --> 00:08:20,310
attached so severe doesn't know about

00:08:17,300 --> 00:08:26,510
where it is actually sort and that it is

00:08:20,310 --> 00:08:30,530
safe for Allah's or whatever so that's 0

00:08:26,510 --> 00:08:33,210
we are using it turns with a cloud and

00:08:30,530 --> 00:08:35,640
then on the zuzu site we also have this

00:08:33,210 --> 00:08:38,490
souza enterprise storage product which

00:08:35,640 --> 00:08:44,219
is actually it sort of a distribution of

00:08:38,490 --> 00:08:48,060
SEF this deployment framework and other

00:08:44,219 --> 00:08:49,650
neat things on which you need yeah but I

00:08:48,060 --> 00:08:52,230
don't have much experience with that

00:08:49,650 --> 00:08:54,990
part but it exists and

00:08:52,230 --> 00:08:58,320
yeah and actually that is what we use in

00:08:54,990 --> 00:08:59,700
newer versions of the cloud as well so

00:08:58,320 --> 00:09:00,990
we have some integration we have a

00:08:59,700 --> 00:09:03,350
deployment framework and through the

00:09:00,990 --> 00:09:06,540
cloud as well which was called crowbar

00:09:03,350 --> 00:09:10,280
coming from Dale originally but these

00:09:06,540 --> 00:09:15,420
days just doing most of the work there

00:09:10,280 --> 00:09:18,510
so and it's nice prime work so you just

00:09:15,420 --> 00:09:25,110
say okay is this is this note deploy and

00:09:18,510 --> 00:09:26,880
then I cozy and configure is it yeah

00:09:25,110 --> 00:09:32,280
yeah we are using it was open stick

00:09:26,880 --> 00:09:35,070
mainly but the enterprise door to the

00:09:32,280 --> 00:09:37,290
enterprise storage product as stand 11

00:09:35,070 --> 00:09:40,260
so we can use it in other ways and just

00:09:37,290 --> 00:09:42,510
as cloud so if you need some storage

00:09:40,260 --> 00:09:50,310
wishes reliably returned and copy it

00:09:42,510 --> 00:09:54,750
then yeah there may be other points hi

00:09:50,310 --> 00:09:57,360
um I went to the surf days in Berlin

00:09:54,750 --> 00:10:01,470
last week they had a red hat ensues oak

00:09:57,360 --> 00:10:04,590
had a big zeph day in Berlin and they

00:10:01,470 --> 00:10:06,690
talked about one of the one of the

00:10:04,590 --> 00:10:08,520
things that stuff you do is right at a

00:10:06,690 --> 00:10:13,500
peon for your application so if you have

00:10:08,520 --> 00:10:18,260
a oracle database or SQL database or a

00:10:13,500 --> 00:10:22,200
hannah database you can write a api that

00:10:18,260 --> 00:10:23,460
directly accesses it makes it go much

00:10:22,200 --> 00:10:28,380
faster than what you would do with

00:10:23,460 --> 00:10:30,180
cluster that's one of the main

00:10:28,380 --> 00:10:34,770
differences that I got out of the out

00:10:30,180 --> 00:10:39,420
between the two the other is is that is

00:10:34,770 --> 00:10:41,520
that you can run Zef on on your as a

00:10:39,420 --> 00:10:43,650
replacement for your reply iteri storage

00:10:41,520 --> 00:10:44,880
software on your array so in other words

00:10:43,650 --> 00:10:47,250
you don't need to buy all this stuff

00:10:44,880 --> 00:10:50,240
from EMC for your MC array anymore you

00:10:47,250 --> 00:10:50,240
just put Zeph on it

00:10:50,790 --> 00:10:56,679
yeah so SSS lips if which was used in

00:10:55,059 --> 00:10:59,800
many places like heavy em I think as

00:10:56,679 --> 00:11:02,050
well so guess it might be a big

00:10:59,800 --> 00:11:04,119
advantage because you don't have to go

00:11:02,050 --> 00:11:06,779
to the colonel at the level and teacher

00:11:04,119 --> 00:11:16,470
can just generate you network packets at

00:11:06,779 --> 00:11:16,470
you need it details comments

00:11:20,070 --> 00:11:27,180
yeah I mean no do you really need to set

00:11:23,430 --> 00:11:31,470
up a minimal safe environment I sink you

00:11:27,180 --> 00:11:35,010
need three to four storage and three

00:11:31,470 --> 00:11:38,250
monitoring notes which should be an odd

00:11:35,010 --> 00:11:44,070
number for the same reasons it should be

00:11:38,250 --> 00:11:48,560
with a che and so usually sweet is a

00:11:44,070 --> 00:11:48,560
minimum number of notes you need and

00:11:49,100 --> 00:12:00,150
twos up and I think there's not so much

00:11:52,320 --> 00:12:03,120
a little bit okay no more questions then

00:12:00,150 --> 00:12:05,810
I thank you all for this improvised talk

00:12:03,120 --> 00:12:05,810
and

00:12:09,000 --> 00:12:11,810

YouTube URL: https://www.youtube.com/watch?v=YaCvcco15io


