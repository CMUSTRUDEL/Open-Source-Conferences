Title: openSUSE Conference 2019 - SUSE Package Hub - From Community to Enterprise
Publication date: 2019-05-24
Playlist: openSUSE Conference 2019 ðŸ’š ðŸ¦Ž
Description: 
	https://media.ccc.de/v/2492-suse-package-hub-from-community-to-enterprise



SUSE Package Hub provides open source packages from the Community to SUSE Linux Enterprise Users.
This talk shows the current state, explains how to contribute and also gives some insights in the live of Package Hub.

SUSE Package Hub provides open source packages from the Community to SUSE Linux Enterprise Users.
This talk shows the current state, explains how to contribute and also gives some insights in the live of Package Hub.

Wolfgang Engel
Captions: 
	00:00:05,870 --> 00:00:11,730
hello and welcome today I'm talking

00:00:09,660 --> 00:00:14,009
about Souza packaged shop so who have

00:00:11,730 --> 00:00:17,720
you already know what su the package hub

00:00:14,009 --> 00:00:21,180
is or it's using su the package show so

00:00:17,720 --> 00:00:27,390
probably more than half of all the

00:00:21,180 --> 00:00:29,699
people here so I'm just explaining what

00:00:27,390 --> 00:00:32,910
package up is will be a little bit

00:00:29,699 --> 00:00:35,989
shorter than usual but to give you also

00:00:32,910 --> 00:00:39,079
a background how package hub basically

00:00:35,989 --> 00:00:44,010
evolved and what was the reason

00:00:39,079 --> 00:00:49,789
suzy created package hub so if you

00:00:44,010 --> 00:00:49,789
imagine basically this was the situation

00:00:50,780 --> 00:00:58,260
that all the reason package shop was

00:00:54,930 --> 00:01:03,120
created because back in time it was

00:00:58,260 --> 00:01:08,490
around less 12 less comes with a lot of

00:01:03,120 --> 00:01:10,530
packages supported packages but there

00:01:08,490 --> 00:01:14,369
are still some packages missing for some

00:01:10,530 --> 00:01:18,619
customers so we received some requests

00:01:14,369 --> 00:01:21,750
from customers adding more packages even

00:01:18,619 --> 00:01:28,380
without supports so they can just use it

00:01:21,750 --> 00:01:31,890
and for any convenience so another

00:01:28,380 --> 00:01:33,869
reason was also that we received some

00:01:31,890 --> 00:01:38,299
requests from customers it's very hard

00:01:33,869 --> 00:01:42,570
to find official packages forceless

00:01:38,299 --> 00:01:46,110
besides the packages that are coming in

00:01:42,570 --> 00:01:48,659
on / so if you this is an old screenshot

00:01:46,110 --> 00:01:51,299
so it looks different today so if you

00:01:48,659 --> 00:01:55,009
search packages on software openSUSE org

00:01:51,299 --> 00:01:59,310
or in the OBS and in open build service

00:01:55,009 --> 00:02:01,500
you will find many projects for example

00:01:59,310 --> 00:02:03,810
this is if you search for Tmax you find

00:02:01,500 --> 00:02:06,860
several projects where you find packages

00:02:03,810 --> 00:02:11,459
for not only for Lee but also for Less

00:02:06,860 --> 00:02:13,379
1215 and so on so you can just use those

00:02:11,459 --> 00:02:14,310
packages but in an enterprise

00:02:13,379 --> 00:02:18,720
environment

00:02:14,310 --> 00:02:23,250
for the customers it's very sorry it's

00:02:18,720 --> 00:02:25,950
very it's sometimes very difficult to

00:02:23,250 --> 00:02:27,990
just use packages that comes from

00:02:25,950 --> 00:02:31,620
somewhere some source that they

00:02:27,990 --> 00:02:34,110
basically don't really trust and you

00:02:31,620 --> 00:02:36,150
never know if if a project is going down

00:02:34,110 --> 00:02:38,489
or if going to be deleted and then you

00:02:36,150 --> 00:02:42,360
yours you're sitting with your version

00:02:38,489 --> 00:02:46,260
of the package so that's why we created

00:02:42,360 --> 00:02:49,530
a package hub it's basically another

00:02:46,260 --> 00:02:54,150
project in the open build service that

00:02:49,530 --> 00:03:03,239
hosts the packages that comes with leap

00:02:54,150 --> 00:03:05,720
and it's easier to access so the easiest

00:03:03,239 --> 00:03:08,489
way for the customers is always to use

00:03:05,720 --> 00:03:12,180
one source of truth so it's basically

00:03:08,489 --> 00:03:15,890
the guest yes and souza customer Center

00:03:12,180 --> 00:03:18,420
is basically there the door to

00:03:15,890 --> 00:03:20,430
additional modules extensions and

00:03:18,420 --> 00:03:25,110
additional software so that's that's

00:03:20,430 --> 00:03:29,040
that the view is less customers have so

00:03:25,110 --> 00:03:30,750
we had to put this project into the suta

00:03:29,040 --> 00:03:35,130
customer center basically so that's

00:03:30,750 --> 00:03:41,100
available through through just in honor

00:03:35,130 --> 00:03:44,910
easy way so talking about packages it

00:03:41,100 --> 00:03:47,690
all started with just a few packages so

00:03:44,910 --> 00:03:52,230
that means we receive for example

00:03:47,690 --> 00:03:55,290
requests from customers they wanted to

00:03:52,230 --> 00:04:03,239
have the KDE plasma five packages in

00:03:55,290 --> 00:04:06,150
there so this is les twelve around that

00:04:03,239 --> 00:04:08,670
time so the DD number of packages are

00:04:06,150 --> 00:04:13,109
not really that accurate but just to

00:04:08,670 --> 00:04:17,039
give an idea where we started so this is

00:04:13,109 --> 00:04:21,180
basically slash 12 or on the number of

00:04:17,039 --> 00:04:25,650
packages 2500 kendry plus minus some

00:04:21,180 --> 00:04:27,939
hundreds that a customer gets when he

00:04:25,650 --> 00:04:32,300
installs less

00:04:27,939 --> 00:04:36,319
compared to openSUSE leap at that time a

00:04:32,300 --> 00:04:39,800
few more packages available for free and

00:04:36,319 --> 00:04:41,539
of course factory is by ahead above ten

00:04:39,800 --> 00:04:43,849
thousand packages I'm talking about

00:04:41,539 --> 00:04:47,990
source packages because binary packages

00:04:43,849 --> 00:04:51,080
are the number is a lot higher so we

00:04:47,990 --> 00:04:53,360
started adding the KDF as my five

00:04:51,080 --> 00:04:55,219
packages which were like around four

00:04:53,360 --> 00:04:58,250
hundred packages or something like that

00:04:55,219 --> 00:05:00,680
and some more packages and that's

00:04:58,250 --> 00:05:06,460
basically what package shop was in the

00:05:00,680 --> 00:05:14,270
past during around Slee sleet 12th

00:05:06,460 --> 00:05:16,129
timeframe obvious I think this is you

00:05:14,270 --> 00:05:20,210
all are familiar with the obvious so I

00:05:16,129 --> 00:05:22,669
would just go through it very quickly so

00:05:20,210 --> 00:05:25,729
this was the only option for us to use

00:05:22,669 --> 00:05:29,960
because us less itself was basically

00:05:25,729 --> 00:05:33,589
built on in the build system so we just

00:05:29,960 --> 00:05:36,020
used it create additional project but

00:05:33,589 --> 00:05:38,180
for customers as I said it's not that

00:05:36,020 --> 00:05:42,199
easy to use if your developer or a

00:05:38,180 --> 00:05:45,860
packager it's yeah it's basically your

00:05:42,199 --> 00:05:47,690
source of truth there's a lot of

00:05:45,860 --> 00:05:49,969
confusion about packaged hub or

00:05:47,690 --> 00:05:56,360
backports who have you knows the

00:05:49,969 --> 00:05:59,839
difference one guy so that's why I'm I'm

00:05:56,360 --> 00:06:01,819
explaining it here because you always

00:05:59,839 --> 00:06:03,650
have to think that from a customer

00:06:01,819 --> 00:06:06,319
perspective it's basically on the right

00:06:03,650 --> 00:06:09,620
side so as I mentioned the view is

00:06:06,319 --> 00:06:13,339
through just or this was a customer

00:06:09,620 --> 00:06:17,029
center so they're renamed it package hub

00:06:13,339 --> 00:06:21,560
but the project itself is hosted in the

00:06:17,029 --> 00:06:24,169
open build service and back in time the

00:06:21,560 --> 00:06:26,479
project wasn't named back up it was just

00:06:24,169 --> 00:06:29,419
named back ports because the packages

00:06:26,479 --> 00:06:36,229
were back imported from from the leap

00:06:29,419 --> 00:06:38,419
version so that's yeah you need to to

00:06:36,229 --> 00:06:40,910
understand that when you're talking

00:06:38,419 --> 00:06:43,850
about the back ports that's the approach

00:06:40,910 --> 00:06:45,770
inside they do BS and when you're talk

00:06:43,850 --> 00:06:49,610
talking about package shop it's

00:06:45,770 --> 00:06:54,800
basically the view that through the

00:06:49,610 --> 00:06:59,720
customer sent a few to the back parts

00:06:54,800 --> 00:07:04,340
project and of course you can access the

00:06:59,720 --> 00:07:12,590
packages inside OBS directly so that's

00:07:04,340 --> 00:07:17,840
also one option it is it is quite hard

00:07:12,590 --> 00:07:22,460
to to add a few more hundred packages

00:07:17,840 --> 00:07:25,510
with giving support so Sousa has only

00:07:22,460 --> 00:07:31,010
also a limited number of employees and

00:07:25,510 --> 00:07:34,940
so all packages are without support

00:07:31,010 --> 00:07:38,630
basically but the great thing about it

00:07:34,940 --> 00:07:41,470
is that every package that got spilled

00:07:38,630 --> 00:07:46,070
in the OBS fault for package shop is

00:07:41,470 --> 00:07:48,710
tested basically they are running RPM

00:07:46,070 --> 00:07:50,720
then checks to make sure the package

00:07:48,710 --> 00:07:53,780
doesn't conflict with any package that

00:07:50,720 --> 00:07:58,040
comes with us Lee so that means that no

00:07:53,780 --> 00:08:01,610
no files are replaced or overwritten by

00:07:58,040 --> 00:08:04,370
that package if that would happen RPM

00:08:01,610 --> 00:08:07,250
lint just throws an arrow and just shows

00:08:04,370 --> 00:08:11,540
hey this package has a conflict with a

00:08:07,250 --> 00:08:14,000
package that comes with us less so this

00:08:11,540 --> 00:08:16,070
is a mechanism to make sure that every

00:08:14,000 --> 00:08:22,580
package on package hub doesn't conflict

00:08:16,070 --> 00:08:26,750
with any package on once less and it

00:08:22,580 --> 00:08:29,450
doesn't break the support ability so if

00:08:26,750 --> 00:08:33,400
the customer has any problems with other

00:08:29,450 --> 00:08:36,800
packages once less it doesn't break

00:08:33,400 --> 00:08:39,680
basically the support it can be

00:08:36,800 --> 00:08:45,380
different if the customer installs just

00:08:39,680 --> 00:08:47,810
randomly packages from other sources so

00:08:45,380 --> 00:08:51,130
the system would be then really hard to

00:08:47,810 --> 00:08:51,130
be supported by Suzy

00:08:51,930 --> 00:08:57,790
okay what's the current status so I

00:08:54,640 --> 00:09:00,070
already showed you like how it was from

00:08:57,790 --> 00:09:02,440
a package perspective like the number of

00:09:00,070 --> 00:09:07,660
packages that we added to package up

00:09:02,440 --> 00:09:11,230
back on during this less 12 timeframe so

00:09:07,660 --> 00:09:13,540
today it looks quite different because

00:09:11,230 --> 00:09:17,500
we have also what we followed a

00:09:13,540 --> 00:09:21,190
different approach because during

00:09:17,500 --> 00:09:23,170
Celeste 12 we put all the packages from

00:09:21,190 --> 00:09:27,610
that we put into package shop from

00:09:23,170 --> 00:09:29,470
factory so every package has to go

00:09:27,610 --> 00:09:32,980
through factory so probably some of you

00:09:29,470 --> 00:09:35,290
know the statement factory first to make

00:09:32,980 --> 00:09:38,980
sure that the package get reviewed and

00:09:35,290 --> 00:09:42,030
then we could pull it in but the package

00:09:38,980 --> 00:09:45,250
hub for us less 15 we are doing it

00:09:42,030 --> 00:09:48,040
slightly different because we want to

00:09:45,250 --> 00:09:53,020
make sure that they be aligned as much

00:09:48,040 --> 00:09:56,350
as possible with openSUSE leap 15 so we

00:09:53,020 --> 00:09:58,780
are taking basically every package that

00:09:56,350 --> 00:10:02,650
doesn't conflict with this less package

00:09:58,780 --> 00:10:06,610
from leap into package shop 50 so that's

00:10:02,650 --> 00:10:08,980
why basically the number of packages in

00:10:06,610 --> 00:10:14,110
package of 15 is that high and as you

00:10:08,980 --> 00:10:21,520
can see it really gets almost is close

00:10:14,110 --> 00:10:26,710
to to leap 15 this is because it brings

00:10:21,520 --> 00:10:29,550
another nice side effect because with

00:10:26,710 --> 00:10:36,100
leap 15 you are able to migrate from

00:10:29,550 --> 00:10:36,610
leap just less so that means with a bare

00:10:36,100 --> 00:10:38,620
minimum

00:10:36,610 --> 00:10:41,770
I think server installation from leap

00:10:38,620 --> 00:10:45,130
you are able to migrate it to a slash

00:10:41,770 --> 00:10:48,820
system with package have enabled you

00:10:45,130 --> 00:10:51,220
could even install more packages like

00:10:48,820 --> 00:10:53,950
additional like the KDE asking 5

00:10:51,220 --> 00:10:56,680
environment tools like team works or

00:10:53,950 --> 00:10:58,390
whatever you like and then you can

00:10:56,680 --> 00:11:01,390
migrate it and you have these tools

00:10:58,390 --> 00:11:05,110
these packages also available on this

00:11:01,390 --> 00:11:09,970
less system so from a package level

00:11:05,110 --> 00:11:13,510
these packages are also binary identify

00:11:09,970 --> 00:11:14,890
by nanri binary identical because

00:11:13,510 --> 00:11:17,860
basically does these are the same

00:11:14,890 --> 00:11:25,900
packages they just got rebuilt force

00:11:17,860 --> 00:11:28,330
less on on package hub and that's the

00:11:25,900 --> 00:11:30,640
second thing we changed so basically

00:11:28,330 --> 00:11:36,430
every new package has also goes through

00:11:30,640 --> 00:11:40,000
leap then that means that it gets then

00:11:36,430 --> 00:11:43,210
reviewed by the openSUSE leap people and

00:11:40,000 --> 00:11:45,490
then we can just pull it in into package

00:11:43,210 --> 00:11:49,690
shock and also the updates that are

00:11:45,490 --> 00:11:55,360
going to leave we are just pulling in to

00:11:49,690 --> 00:11:58,180
package up 15 what we also did this is

00:11:55,360 --> 00:12:00,400
something more internally we also use

00:11:58,180 --> 00:12:02,410
for quick testing and we are using can

00:12:00,400 --> 00:12:04,620
cool I don't know if someone of you

00:12:02,410 --> 00:12:09,180
already know can cool so it's basically

00:12:04,620 --> 00:12:12,580
continuous integration testing system we

00:12:09,180 --> 00:12:15,310
we are let me put it that way we have we

00:12:12,580 --> 00:12:19,660
want to use open QA as well but open QA

00:12:15,310 --> 00:12:21,280
is a little bit more bigger in terms of

00:12:19,660 --> 00:12:22,990
like the framework is a little bit

00:12:21,280 --> 00:12:24,730
bigger and khÃ´ng cÃ³ is a little

00:12:22,990 --> 00:12:28,000
lightweight framework that you can just

00:12:24,730 --> 00:12:30,880
pull up a virtual machine and do some

00:12:28,000 --> 00:12:40,000
package testing and then just destroy it

00:12:30,880 --> 00:12:41,410
and then get your results by the way if

00:12:40,000 --> 00:12:45,990
you have any questions just wave your

00:12:41,410 --> 00:12:49,420
hand any time so I can answer them so

00:12:45,990 --> 00:12:53,260
how to contribute there are several ways

00:12:49,420 --> 00:12:55,150
you can contribute to package up because

00:12:53,260 --> 00:12:58,900
you don't need to be a package

00:12:55,150 --> 00:13:03,850
maintainer or develop our someone or

00:12:58,900 --> 00:13:05,800
basically you can contribute on server

00:13:03,850 --> 00:13:09,610
the levels so for example if you are

00:13:05,800 --> 00:13:13,120
developer you just want to deploy or

00:13:09,610 --> 00:13:14,500
yeah share your code you can as I

00:13:13,120 --> 00:13:16,420
already mentioned make sure that you

00:13:14,500 --> 00:13:19,600
just create a package

00:13:16,420 --> 00:13:21,670
get it into leap and then it can be also

00:13:19,600 --> 00:13:26,010
pushed to package up and then you get

00:13:21,670 --> 00:13:30,880
delivered to any in terms less

00:13:26,010 --> 00:13:33,910
installation and you can as a developer

00:13:30,880 --> 00:13:37,420
you can see it as a deployment channel

00:13:33,910 --> 00:13:41,380
basically so mega job helps you to

00:13:37,420 --> 00:13:44,830
distribute your software but it has to

00:13:41,380 --> 00:13:49,180
be free software so or open source

00:13:44,830 --> 00:13:51,700
software let's yeah if you're a package

00:13:49,180 --> 00:13:53,260
maintainer it's much more easier because

00:13:51,700 --> 00:13:58,330
then you are probably already familiar

00:13:53,260 --> 00:14:00,250
with OBS and then you can just if your

00:13:58,330 --> 00:14:03,670
package is already in leap you can just

00:14:00,250 --> 00:14:07,510
submit it and also to package up and

00:14:03,670 --> 00:14:10,440
then you're good to go if your customer

00:14:07,510 --> 00:14:14,740
using less you have several options

00:14:10,440 --> 00:14:17,530
either you are also a develop our

00:14:14,740 --> 00:14:19,510
package maintainer then you're good to

00:14:17,530 --> 00:14:22,180
go but if you don't have the knowledge

00:14:19,510 --> 00:14:25,570
to add packages to package up you can

00:14:22,180 --> 00:14:29,970
also ask either the community or you can

00:14:25,570 --> 00:14:35,500
ask us as well to assist you to find

00:14:29,970 --> 00:14:40,390
package maintainer or people who are

00:14:35,500 --> 00:14:44,970
willing to do packaging to get in the

00:14:40,390 --> 00:14:44,970
software and package up you want to use

00:14:48,030 --> 00:14:52,140
so any questions

00:14:57,930 --> 00:15:10,700
no questions so feel free to visit us at

00:15:02,730 --> 00:15:10,700
yeah I can I can just repeat repeat

00:15:34,430 --> 00:15:39,420
so the question was if if a package from

00:15:37,740 --> 00:15:42,360
package have basically damages the

00:15:39,420 --> 00:15:48,300
system and if if the customer then still

00:15:42,360 --> 00:15:51,870
gets support so the question is yes or

00:15:48,300 --> 00:15:55,740
no so the thing is um usually in support

00:15:51,870 --> 00:16:00,300
is is able to identify the package and

00:15:55,740 --> 00:16:04,530
the cause so if it's a package from

00:16:00,300 --> 00:16:06,300
package hub then I'm sure we can we can

00:16:04,530 --> 00:16:10,080
help at least the support and the

00:16:06,300 --> 00:16:15,810
customer to get rid of the problem or to

00:16:10,080 --> 00:16:18,810
fix the package so it's you you have to

00:16:15,810 --> 00:16:22,010
yeah if you have to look into the

00:16:18,810 --> 00:16:22,010
specific problem then

00:16:55,360 --> 00:16:59,799
so just for the for the streamer for the

00:16:57,970 --> 00:17:02,470
record Scott already mentioned that

00:16:59,799 --> 00:17:05,079
basically if there are problems with the

00:17:02,470 --> 00:17:07,689
package we have to look into it to just

00:17:05,079 --> 00:17:16,269
make sure that we just either drop the

00:17:07,689 --> 00:17:23,319
package or just fix it okay no more

00:17:16,269 --> 00:17:25,029
questions or there's one more good

00:17:23,319 --> 00:17:28,179
questions or the question is how and

00:17:25,029 --> 00:17:30,760
where you can request packages so that's

00:17:28,179 --> 00:17:34,330
very deeply hidden because we don't want

00:17:30,760 --> 00:17:37,799
to know seriously am the thing is that

00:17:34,330 --> 00:17:41,350
we we are also thinking of like having

00:17:37,799 --> 00:17:43,269
having something on the website on

00:17:41,350 --> 00:17:47,649
package shop scooter comm that you can

00:17:43,269 --> 00:17:51,669
vote or you can just add missing

00:17:47,649 --> 00:17:55,960
packages you you need basically I'm

00:17:51,669 --> 00:17:58,450
currently it's not in place so you can

00:17:55,960 --> 00:18:02,190
drop us an email at package shop at Zoo

00:17:58,450 --> 00:18:04,750
calm you can just ask us if it's in

00:18:02,190 --> 00:18:08,500
low-hanging fruits let's call it that

00:18:04,750 --> 00:18:13,539
way so an easy package that builds on /

00:18:08,500 --> 00:18:16,570
and doesn't has any big security

00:18:13,539 --> 00:18:17,980
concerns then we can just edit but if

00:18:16,570 --> 00:18:20,559
it's a package that has a huge

00:18:17,980 --> 00:18:24,070
dependency list and some security

00:18:20,559 --> 00:18:27,100
concerns then we have to really talk

00:18:24,070 --> 00:18:28,480
about it and think about it because also

00:18:27,100 --> 00:18:32,279
usually the the package maintainer

00:18:28,480 --> 00:18:32,279
should be involved in that process

00:18:36,020 --> 00:18:42,030
okay no more questions

00:18:39,020 --> 00:18:43,240
thank you very much and enjoy the rest

00:18:42,030 --> 00:18:48,740
of the day

00:18:43,240 --> 00:18:48,740

YouTube URL: https://www.youtube.com/watch?v=a2TfAJGEycA


