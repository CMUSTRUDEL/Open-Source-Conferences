Title: openSUSE Conference 2019 - State of Ceph
Publication date: 2019-05-26
Playlist: openSUSE Conference 2019 ðŸ’š ðŸ¦Ž
Description: 
	https://media.ccc.de/v/2237-state-of-ceph

What's new in Nautilus and what's coming next?

What's new in Nautilus and what's coming next? This talk focuses on the new features and implementations of Ceph Nautilus and also includes an outlook about what's planned and coming next. 
If you want to learn what's new in Nautilus and also learn about new features within Ceph, this is the right talk for you. 

What's new in Nautilus and what's coming next? This talk focuses on the new features and implementations of Ceph Nautilus and also includes an outlook about what's planned and coming next. 
If you want to learn what's new in Nautilus and also learn about new features within Ceph, this is the right talk for you. 

Kai Wagner
Captions: 
	00:00:05,520 --> 00:00:15,269
okay I think it's time so let's get

00:00:08,519 --> 00:00:17,580
started first item for today if you

00:00:15,269 --> 00:00:20,279
would like to follow my slides on your

00:00:17,580 --> 00:00:22,439
device left laptop mobile device

00:00:20,279 --> 00:00:25,140
whatever you could just visit that link

00:00:22,439 --> 00:00:27,840
or scan the QR code for lazy folks out

00:00:25,140 --> 00:00:31,850
there so those are hosted on get up

00:00:27,840 --> 00:00:37,790
so give you another 10 seconds small s

00:00:31,850 --> 00:00:41,549
if not you can always visit them later

00:00:37,790 --> 00:00:44,879
five four three two one seems like

00:00:41,549 --> 00:00:47,489
everyone is set ok topic for today is

00:00:44,879 --> 00:00:50,059
SEF and today I would like to give to

00:00:47,489 --> 00:00:53,940
give you an update on in particular

00:00:50,059 --> 00:00:55,559
what's new in SEF and with new and SEF I

00:00:53,940 --> 00:00:59,729
mean was the latest release which was

00:00:55,559 --> 00:01:02,610
called Nautilus my name is Kai I work

00:00:59,729 --> 00:01:05,040
for kazusa and if you have any questions

00:01:02,610 --> 00:01:08,460
reach out by mail grab me in the hallway

00:01:05,040 --> 00:01:11,820
reach out on Twitter wherever everything

00:01:08,460 --> 00:01:14,429
is fine we have a lot of things we're

00:01:11,820 --> 00:01:17,880
going to talk about today first of all

00:01:14,429 --> 00:01:21,270
quick introduction into SEF just just

00:01:17,880 --> 00:01:24,060
that everyone is aware this is not what

00:01:21,270 --> 00:01:28,409
is safe what is an object storage talk

00:01:24,060 --> 00:01:31,259
at all this is really focused on the new

00:01:28,409 --> 00:01:33,960
features in SEF so if you expecting a I

00:01:31,259 --> 00:01:34,859
don't know complete bottom line talk

00:01:33,960 --> 00:01:37,289
about safe

00:01:34,859 --> 00:01:40,890
that's not what I'm going to talk about

00:01:37,289 --> 00:01:46,079
just to say the safe here

00:01:40,890 --> 00:01:49,170
nevertheless that's the only absolute

00:01:46,079 --> 00:01:51,590
basic picture and slide that I have I

00:01:49,170 --> 00:01:54,420
expect everyone has seen that already

00:01:51,590 --> 00:01:55,920
please raise your hand if you have seen

00:01:54,420 --> 00:01:58,819
that picture already and you're aware of

00:01:55,920 --> 00:01:58,819
what this is all about

00:01:59,869 --> 00:02:06,659
at least half of you so I will explain

00:02:03,719 --> 00:02:08,729
it really quickly this just shows and

00:02:06,659 --> 00:02:10,590
visualize the safe architecture more or

00:02:08,729 --> 00:02:14,280
less underneath you have the radius

00:02:10,590 --> 00:02:15,810
layer which is a reliable autonomous

00:02:14,280 --> 00:02:18,170
distributed object storage

00:02:15,810 --> 00:02:22,250
it's wire stands for

00:02:18,170 --> 00:02:24,680
- - as easy as it could be understood

00:02:22,250 --> 00:02:28,700
that's where all your data is replicated

00:02:24,680 --> 00:02:31,340
and the brain of it relies and on top of

00:02:28,700 --> 00:02:33,230
it we have right now four different ways

00:02:31,340 --> 00:02:35,360
how we can access our data because we

00:02:33,230 --> 00:02:36,680
would like to store some data in the

00:02:35,360 --> 00:02:38,420
cluster and we would like to get data

00:02:36,680 --> 00:02:42,230
out of the cluster so we have four

00:02:38,420 --> 00:02:45,890
different ways to the left here that's

00:02:42,230 --> 00:02:48,709
liberators that's the layer library you

00:02:45,890 --> 00:02:51,140
could use to put place stuff in safe

00:02:48,709 --> 00:02:53,300
cluster order to get out of it you can

00:02:51,140 --> 00:02:57,290
use I know almost any language like C

00:02:53,300 --> 00:03:01,130
C++ Python so choose your poison I would

00:02:57,290 --> 00:03:05,390
say second thing is tirado's gateway

00:03:01,130 --> 00:03:10,310
which is a rest gateway which works

00:03:05,390 --> 00:03:14,150
similar to s3 and Swift so for those of

00:03:10,310 --> 00:03:17,769
you who are familiar with AWS and s3

00:03:14,150 --> 00:03:20,390
there that's more or less how it works

00:03:17,769 --> 00:03:24,320
we have our VD which is a replicated

00:03:20,390 --> 00:03:27,230
plot device this is used for mainly

00:03:24,320 --> 00:03:29,269
hyper virtual machines so that's a block

00:03:27,230 --> 00:03:31,910
device that could be kept a put

00:03:29,269 --> 00:03:34,430
underneath the virtual machine and also

00:03:31,910 --> 00:03:37,220
RBG's are used for example if you put on

00:03:34,430 --> 00:03:40,519
top a nice gas gateway to expose this

00:03:37,220 --> 00:03:42,079
land to a third third node you would use

00:03:40,519 --> 00:03:45,260
an RB t which is nothing less than just

00:03:42,079 --> 00:03:47,540
a block device and last but not least I

00:03:45,260 --> 00:03:51,739
think it's stable since not quite sure

00:03:47,540 --> 00:03:54,560
single Luminess if I'm not mistaken its

00:03:51,739 --> 00:03:58,549
deficit at suppose it compliant file

00:03:54,560 --> 00:04:01,070
system which is put on chef so there's

00:03:58,549 --> 00:04:03,910
no need to have an NFS gateway for

00:04:01,070 --> 00:04:07,400
example in between or sambar gateway and

00:04:03,910 --> 00:04:08,750
on a use using an RVT for example for

00:04:07,400 --> 00:04:11,000
merging it and then exporting it to

00:04:08,750 --> 00:04:12,640
clients you can directly use ZFS which

00:04:11,000 --> 00:04:15,019
is much more performant and much better

00:04:12,640 --> 00:04:17,109
so that's enough for the introduction

00:04:15,019 --> 00:04:20,030
let's get to where we are right now

00:04:17,109 --> 00:04:24,289
first an overview luminous was released

00:04:20,030 --> 00:04:26,570
in 2017 then mimicked in may 2000 18 and

00:04:24,289 --> 00:04:30,040
we are already post Nautilus dauntless

00:04:26,570 --> 00:04:31,750
was released in March 2019

00:04:30,040 --> 00:04:36,220
as you can see already we're right now

00:04:31,750 --> 00:04:39,880
on a nine months release cadence and we

00:04:36,220 --> 00:04:41,800
support a plus minus two upgrade of it

00:04:39,880 --> 00:04:43,300
so let's say if you're still on a

00:04:41,800 --> 00:04:45,580
luminous release you can upgrade

00:04:43,300 --> 00:04:47,410
directly to Nautilus or if you're

00:04:45,580 --> 00:04:50,320
already on a mimic release you can then

00:04:47,410 --> 00:04:55,570
jump over Nautilus directly to octopus

00:04:50,320 --> 00:04:58,090
once it's released the current cadence

00:04:55,570 --> 00:05:01,480
release cadence is under a heavy debate

00:04:58,090 --> 00:05:04,500
I just added a link don't get confused

00:05:01,480 --> 00:05:08,140
this one is redirecting you to Twitter

00:05:04,500 --> 00:05:10,150
where they start the survey last last

00:05:08,140 --> 00:05:13,000
weekend during the follow cone to ask

00:05:10,150 --> 00:05:15,610
the audience if we should may switch

00:05:13,000 --> 00:05:16,900
back to 12 months release cadence

00:05:15,610 --> 00:05:20,500
instead of a nine months for these

00:05:16,900 --> 00:05:22,360
cadence so please make use of it

00:05:20,500 --> 00:05:28,510
I would like to switch to twelve months

00:05:22,360 --> 00:05:30,910
for his cadence again safe just that you

00:05:28,510 --> 00:05:32,710
aware have some or I would call

00:05:30,910 --> 00:05:35,020
principles you can also call them teams

00:05:32,710 --> 00:05:38,590
in the meanwhile five of them first of

00:05:35,020 --> 00:05:42,670
all usability self as you're aware

00:05:38,590 --> 00:05:44,440
hopefully or if you tried it already you

00:05:42,670 --> 00:05:46,690
found out yourself it's rather complex

00:05:44,440 --> 00:05:49,780
to set up and also just administer and

00:05:46,690 --> 00:05:51,370
to manage so one way to make it easier

00:05:49,780 --> 00:05:53,640
to consume for example with this

00:05:51,370 --> 00:05:57,130
Orchestrator API I'm going to talk later

00:05:53,640 --> 00:06:00,790
and also to develop some upgrade

00:05:57,130 --> 00:06:04,570
automation around it quality is the next

00:06:00,790 --> 00:06:07,270
big topic here quality means we're

00:06:04,570 --> 00:06:09,430
trying to collect crash reports we have

00:06:07,270 --> 00:06:11,830
some telemetry module in the meanwhile

00:06:09,430 --> 00:06:14,860
in in place together with better

00:06:11,830 --> 00:06:16,990
documentation and test suite performance

00:06:14,860 --> 00:06:19,180
obviously everyone wants more

00:06:16,990 --> 00:06:21,550
performance to be honest it's rather

00:06:19,180 --> 00:06:23,620
easy to get mount more i/o out of a safe

00:06:21,550 --> 00:06:25,660
cluster just add more hardware to its

00:06:23,620 --> 00:06:27,760
that's how it works so if you need more

00:06:25,660 --> 00:06:30,490
i/o just add more Hardware it's as easy

00:06:27,760 --> 00:06:32,830
as it is the problem is or the idea

00:06:30,490 --> 00:06:35,860
behind this back in the days when the

00:06:32,830 --> 00:06:37,750
storage the OSD layer was developed it

00:06:35,860 --> 00:06:39,550
was developed against spinner just

00:06:37,750 --> 00:06:41,290
because this was the same back in the

00:06:39,550 --> 00:06:43,180
days and you mean while everyone is

00:06:41,290 --> 00:06:43,780
talking about all flesh obviously

00:06:43,180 --> 00:06:45,310
because

00:06:43,780 --> 00:06:47,770
getting cheaper and cheaper every in our

00:06:45,310 --> 00:06:50,740
days and there is a new Pro check which

00:06:47,770 --> 00:06:54,010
was called crimson which reef actors the

00:06:50,740 --> 00:06:56,560
OST stack wall that's completely to pace

00:06:54,010 --> 00:06:58,840
or to keep that in mind already and

00:06:56,560 --> 00:07:00,640
which delivers already better

00:06:58,840 --> 00:07:02,950
performance compared to the the old

00:07:00,640 --> 00:07:05,320
implementation I saw some presentation

00:07:02,950 --> 00:07:06,700
pick last weekend it's a fellow con

00:07:05,320 --> 00:07:09,450
there's a crimson talk so if you're

00:07:06,700 --> 00:07:12,040
interested in that just check it out

00:07:09,450 --> 00:07:14,740
multi side which was mainly about as

00:07:12,040 --> 00:07:17,500
three management capabilities so or

00:07:14,740 --> 00:07:20,680
including tearing across different pools

00:07:17,500 --> 00:07:25,960
for example that's what multi site is

00:07:20,680 --> 00:07:28,810
about and last but not least what Boston

00:07:25,960 --> 00:07:32,350
already talked about briefly containers

00:07:28,810 --> 00:07:35,620
so underneath the echo system this is

00:07:32,350 --> 00:07:40,230
just a word for kubernetes rook and the

00:07:35,620 --> 00:07:43,800
whole integration here let's get

00:07:40,230 --> 00:07:47,260
directly into the features the most

00:07:43,800 --> 00:07:52,479
noticeable feature changed and Nautilus

00:07:47,260 --> 00:07:54,220
was in quotes newly at a dashboard the

00:07:52,479 --> 00:07:56,200
first version of a dashboard was added

00:07:54,220 --> 00:07:58,840
in was luminous already but it was a

00:07:56,200 --> 00:08:01,270
read-only version and the meanwhile this

00:07:58,840 --> 00:08:04,750
was heavily improved with management

00:08:01,270 --> 00:08:06,580
capabilities and whatnot this is how it

00:08:04,750 --> 00:08:08,500
looks like in the meanwhile for those of

00:08:06,580 --> 00:08:10,780
you have seen maybe the aluminous

00:08:08,500 --> 00:08:13,090
version already looks a little bit

00:08:10,780 --> 00:08:17,590
different and because I thought I don't

00:08:13,090 --> 00:08:19,720
know it's just boring pictures let's see

00:08:17,590 --> 00:08:22,600
okay now it's working I prepared a quick

00:08:19,720 --> 00:08:24,970
just 1 minute presentation that's the

00:08:22,600 --> 00:08:26,200
dashboard I won't show you everything

00:08:24,970 --> 00:08:28,990
but just that you have a clearer idea

00:08:26,200 --> 00:08:32,080
you have some top menu items this is for

00:08:28,990 --> 00:08:34,150
example how do t-tapp looks like you get

00:08:32,080 --> 00:08:36,940
an overview of the US DS with some

00:08:34,150 --> 00:08:38,589
details underneath we have some fancy

00:08:36,940 --> 00:08:41,830
overlay if you go over those little

00:08:38,589 --> 00:08:45,670
little dots there we can set cluster

00:08:41,830 --> 00:08:48,130
white OSD flex for example like no in so

00:08:45,670 --> 00:08:51,640
there's no need to go back to the CLI

00:08:48,130 --> 00:08:56,050
and console anymore I want to show you

00:08:51,640 --> 00:08:57,640
also the RBD tab where we can create

00:08:56,050 --> 00:09:02,050
delete edit

00:08:57,640 --> 00:09:04,470
our biddies also create snapshots of it

00:09:02,050 --> 00:09:07,959
there is already an existing snapshot

00:09:04,470 --> 00:09:11,230
which you may see and last but not least

00:09:07,959 --> 00:09:14,769
the pool tab so as I said just a quick

00:09:11,230 --> 00:09:17,200
rough overview and one thing that hasn't

00:09:14,769 --> 00:09:19,420
has noticeably changed for example it's

00:09:17,200 --> 00:09:22,600
the Crafar anta creation underneath so

00:09:19,420 --> 00:09:25,959
that's integrated and all the various

00:09:22,600 --> 00:09:28,450
tabs and views in the dashboard but I

00:09:25,959 --> 00:09:30,250
thought maybe some I know moving

00:09:28,450 --> 00:09:36,760
pictures are more interesting than just

00:09:30,250 --> 00:09:39,339
some static images as I said already the

00:09:36,760 --> 00:09:42,550
dashboard heavily evolved it's now built

00:09:39,339 --> 00:09:44,529
in into theft so as soon as you just

00:09:42,550 --> 00:09:46,839
install the theft package itself when

00:09:44,529 --> 00:09:48,220
you set up a cluster it's already there

00:09:46,839 --> 00:09:50,410
the only thing you have to do is you

00:09:48,220 --> 00:09:52,600
have to enable the dashboard module it's

00:09:50,410 --> 00:09:54,730
a manager module and then it's up and

00:09:52,600 --> 00:09:57,490
running that's that's everything that's

00:09:54,730 --> 00:09:59,050
that's needed it has as you've already

00:09:57,490 --> 00:10:00,970
seen a lot of more management

00:09:59,050 --> 00:10:04,690
functionality we'll talk about them in a

00:10:00,970 --> 00:10:06,730
bit metric and reporting what I used

00:10:04,690 --> 00:10:08,529
here at the backend to collect the data

00:10:06,730 --> 00:10:09,970
was premier size and then to visualize

00:10:08,529 --> 00:10:14,200
it in the credit and the dashboard was

00:10:09,970 --> 00:10:16,450
crow fauna and yeah what the outlook is

00:10:14,200 --> 00:10:21,250
the whole hardware deployment service

00:10:16,450 --> 00:10:24,130
management that's work in progress in

00:10:21,250 --> 00:10:28,240
further details new functionality we now

00:10:24,130 --> 00:10:30,790
support multiple users and roles in the

00:10:28,240 --> 00:10:32,350
past lot of folks requested stuff like

00:10:30,790 --> 00:10:34,390
we would like to have a read-only user

00:10:32,350 --> 00:10:37,510
for example for our monitoring team or

00:10:34,390 --> 00:10:40,089
for other purposes and that's what we

00:10:37,510 --> 00:10:43,209
implemented there we ship with some

00:10:40,089 --> 00:10:46,240
default roles like an administrator RBD

00:10:43,209 --> 00:10:48,160
manager read-only user for example and

00:10:46,240 --> 00:10:51,070
if you krantz your user was just those

00:10:48,160 --> 00:10:53,709
specific permissions then you will only

00:10:51,070 --> 00:10:56,500
see for example those specific tabs or

00:10:53,709 --> 00:11:01,230
can only edit those things we also

00:10:56,500 --> 00:11:04,110
integrated sam'l v24 SSO single sign-on

00:11:01,230 --> 00:11:07,270
we embedded the auditing lock into the

00:11:04,110 --> 00:11:09,959
dashboard you have seen already the new

00:11:07,270 --> 00:11:11,470
landing page we also which is quite cool

00:11:09,959 --> 00:11:14,530
translated

00:11:11,470 --> 00:11:16,000
the whole UI into I don't know seven or

00:11:14,530 --> 00:11:18,460
eight language is in the meanwhile

00:11:16,000 --> 00:11:19,990
hopefully more to come so in case if

00:11:18,460 --> 00:11:22,630
there is a language that's you are

00:11:19,990 --> 00:11:24,760
capable of and you would like to

00:11:22,630 --> 00:11:26,620
contribute that would be the easiest way

00:11:24,760 --> 00:11:29,380
we're using transifex so that's rather

00:11:26,620 --> 00:11:32,230
easy to contribute to the community and

00:11:29,380 --> 00:11:36,640
on top of that we're making use of

00:11:32,230 --> 00:11:38,770
swagger which gives us now a nice and I

00:11:36,640 --> 00:11:43,180
would say fancy way for our REST API

00:11:38,770 --> 00:11:45,880
documentation OSD management you've seen

00:11:43,180 --> 00:11:48,220
it already setting all the various flags

00:11:45,880 --> 00:11:49,840
for example OSDs we can also set for

00:11:48,220 --> 00:11:52,960
example recovery profiles in the

00:11:49,840 --> 00:11:54,940
meanwhile in the UI so if you have

00:11:52,960 --> 00:11:56,860
ongoing recovery in your cluster for

00:11:54,940 --> 00:11:59,800
example you can switch between I think

00:11:56,860 --> 00:12:02,550
low medium and high performance wise so

00:11:59,800 --> 00:12:06,730
it don't impact your cluster that much

00:12:02,550 --> 00:12:07,510
we have the config settings editor so

00:12:06,730 --> 00:12:10,000
yes seriously

00:12:07,510 --> 00:12:12,760
any config options that can be set on a

00:12:10,000 --> 00:12:14,080
CLI can also be set in the UI so still

00:12:12,760 --> 00:12:17,980
you have to know what you're doing I

00:12:14,080 --> 00:12:21,010
know but that's one step forward we can

00:12:17,980 --> 00:12:23,950
manage the pools we can manage a racial

00:12:21,010 --> 00:12:26,200
coated profiles also lately

00:12:23,950 --> 00:12:28,300
RVD mirroring configuration was added to

00:12:26,200 --> 00:12:31,090
the UI so there's no need to do this on

00:12:28,300 --> 00:12:33,670
the CLI anymore you can just add your

00:12:31,090 --> 00:12:35,680
peer adding your peer in the in the UI

00:12:33,670 --> 00:12:37,720
and then create your RVD mirror on top

00:12:35,680 --> 00:12:39,370
which is fully nifty and you have seen

00:12:37,720 --> 00:12:42,190
the graph and dashboards right now

00:12:39,370 --> 00:12:46,000
already so you have a clue how this is

00:12:42,190 --> 00:12:47,650
supposed to look like we still have a

00:12:46,000 --> 00:12:49,990
crush map for you like we had already in

00:12:47,650 --> 00:12:51,700
the old days it's still a fewer nothing

00:12:49,990 --> 00:12:54,520
else just visualize the crush map

00:12:51,700 --> 00:12:56,650
there's more to come and FS management

00:12:54,520 --> 00:12:58,839
we can do I scuzzy manage target

00:12:56,650 --> 00:13:02,440
management which in the meanwhile was

00:12:58,839 --> 00:13:04,750
replaced at least suicide with device

00:13:02,440 --> 00:13:08,230
Ghazi in the past releases we used a

00:13:04,750 --> 00:13:11,830
Larbi D we now switch to suffice Ghazi

00:13:08,230 --> 00:13:15,580
we support QoS we can also manage the

00:13:11,830 --> 00:13:17,980
modules in the UI and promises alerting

00:13:15,580 --> 00:13:19,360
in the meanwhile I think as you can see

00:13:17,980 --> 00:13:21,870
there are a lot of stuff went into the

00:13:19,360 --> 00:13:24,660
UI a lot of progress that we've made

00:13:21,870 --> 00:13:26,490
a lot of the effort was to be honest to

00:13:24,660 --> 00:13:29,580
reach feature parity with the old UI

00:13:26,490 --> 00:13:31,320
that we had apart from the safe

00:13:29,580 --> 00:13:32,790
dashboard which was called open attic

00:13:31,320 --> 00:13:36,150
and the meanwhile we are already ahead

00:13:32,790 --> 00:13:39,810
and now I guess we have a good

00:13:36,150 --> 00:13:42,830
foundation to found on to start off and

00:13:39,810 --> 00:13:45,390
now there's more to come

00:13:42,830 --> 00:13:48,750
another management change already talked

00:13:45,390 --> 00:13:50,970
about it briefly is you can call it the

00:13:48,750 --> 00:13:54,240
orchestrator sandwich as small as the

00:13:50,970 --> 00:13:56,790
orchestrator abstraction the idea behind

00:13:54,240 --> 00:13:59,130
is to have a single abstraction layer

00:13:56,790 --> 00:14:01,890
where for example CLI and a dashboard

00:13:59,130 --> 00:14:04,170
could talk to nevertheless if underneath

00:14:01,890 --> 00:14:07,080
the deployment tool is rock CF ansible

00:14:04,170 --> 00:14:09,390
deep sea or as it's H for example so the

00:14:07,080 --> 00:14:11,610
command should always be the same and

00:14:09,390 --> 00:14:14,010
you could add other orchestrators to it

00:14:11,610 --> 00:14:15,540
if you would like and that's exactly

00:14:14,010 --> 00:14:18,860
what we're currently working on and

00:14:15,540 --> 00:14:21,480
that's also the foundation for this F

00:14:18,860 --> 00:14:26,190
CLI or at least the baseline for a

00:14:21,480 --> 00:14:28,560
unified Zef CLI so to say what it can do

00:14:26,190 --> 00:14:31,580
in the meanwhile it could fetch your

00:14:28,560 --> 00:14:33,810
note inventory it could create and

00:14:31,580 --> 00:14:38,040
destroy some demons

00:14:33,810 --> 00:14:40,140
it could also blink your device LEDs in

00:14:38,040 --> 00:14:43,080
case it's configured correctly but it's

00:14:40,140 --> 00:14:44,790
it's there and on top of that you have

00:14:43,080 --> 00:14:47,460
to unify it's your eyes so you have a

00:14:44,790 --> 00:14:49,950
sec or Orchestrator command and then

00:14:47,460 --> 00:14:51,600
behind you can use things like device as

00:14:49,950 --> 00:14:53,130
you can see here device or less and then

00:14:51,600 --> 00:14:56,970
the node was to create and there are

00:14:53,130 --> 00:14:58,800
many more so you have a unified UI and I

00:14:56,970 --> 00:15:02,490
think that's what I talked already in

00:14:58,800 --> 00:15:04,470
the dashboard section about the idea is

00:15:02,490 --> 00:15:07,430
to integrate those service management

00:15:04,470 --> 00:15:11,400
into interview I in the future so too

00:15:07,430 --> 00:15:13,620
soon or later move away as much as we

00:15:11,400 --> 00:15:15,090
can from the CLI to the dashboard so in

00:15:13,620 --> 00:15:16,620
case you would like to use it

00:15:15,090 --> 00:15:19,230
you can use the dashboard if you would

00:15:16,620 --> 00:15:24,270
like to use the CLI yeah you're free to

00:15:19,230 --> 00:15:26,820
use the Zilla as well one of the biggest

00:15:24,270 --> 00:15:29,460
radius features that came with Nautilus

00:15:26,820 --> 00:15:33,120
I'm not sure how many of you have killed

00:15:29,460 --> 00:15:35,699
with the peach enum already in the past

00:15:33,120 --> 00:15:38,850
in case you've ever deployed a theft

00:15:35,699 --> 00:15:41,639
faster I imagine you had to deal with it

00:15:38,850 --> 00:15:44,009
at least once there's a way to calculate

00:15:41,639 --> 00:15:45,929
the best peachy Nam for your current

00:15:44,009 --> 00:15:47,549
pool that you would like to create for

00:15:45,929 --> 00:15:50,069
example what the problem the path was

00:15:47,549 --> 00:15:52,019
you could always increase the number of

00:15:50,069 --> 00:15:53,730
placement groups but you could never

00:15:52,019 --> 00:15:56,429
decrease the number of placement crews

00:15:53,730 --> 00:15:57,929
so in case your number were too high and

00:15:56,429 --> 00:15:59,879
you would like to decrease your number

00:15:57,929 --> 00:16:02,069
the only way out of it was to create a

00:15:59,879 --> 00:16:06,720
whole new pool and to migrate your data

00:16:02,069 --> 00:16:10,980
and this Ordo this whole black magic now

00:16:06,720 --> 00:16:15,929
more or less disappeared because now we

00:16:10,980 --> 00:16:17,819
can reduce the peachy Nam as well which

00:16:15,929 --> 00:16:19,559
is really really cool and on top of that

00:16:17,819 --> 00:16:24,059
there is a way to do this automatically

00:16:19,559 --> 00:16:26,399
so you can can turn on a manager module

00:16:24,059 --> 00:16:27,809
with then at the end takes care of all

00:16:26,399 --> 00:16:30,119
of it so you don't have to worry about

00:16:27,809 --> 00:16:33,600
it to be honest that's something the

00:16:30,119 --> 00:16:35,579
whole peachy calculation and also that

00:16:33,600 --> 00:16:37,709
people had to worry about I think that's

00:16:35,579 --> 00:16:39,899
something that should have never been

00:16:37,709 --> 00:16:42,029
exposed to the end-user so I think

00:16:39,899 --> 00:16:43,949
that's the right way of handling it and

00:16:42,029 --> 00:16:50,100
it will improve even further in the

00:16:43,949 --> 00:16:51,149
future so that's really really cool what

00:16:50,100 --> 00:16:54,269
else do we have

00:16:51,149 --> 00:16:57,899
we're now collecting smart data of our

00:16:54,269 --> 00:16:59,730
undulating OSTs so this at the end and

00:16:57,899 --> 00:17:03,319
reporting them back to the map to the

00:16:59,730 --> 00:17:06,419
managers and can take a look at at the

00:17:03,319 --> 00:17:09,000
output there on top of that there is a

00:17:06,419 --> 00:17:13,079
module which was mainly driven and

00:17:09,000 --> 00:17:15,419
developed by profit store and it does

00:17:13,079 --> 00:17:18,149
some calculation and failure prediction

00:17:15,419 --> 00:17:20,549
on top of that so if you enable that

00:17:18,149 --> 00:17:22,639
module it will scrape your smart data

00:17:20,549 --> 00:17:25,139
and then it looks for some specific

00:17:22,639 --> 00:17:27,600
errors and error count and whatnot and

00:17:25,139 --> 00:17:29,370
then it will predict ok your disk is

00:17:27,600 --> 00:17:31,889
going to fail let's say in five weeks

00:17:29,370 --> 00:17:33,659
from now roughly or in two months or

00:17:31,889 --> 00:17:37,080
let's say in five days and you should

00:17:33,659 --> 00:17:39,000
replace it soon there is a there is a

00:17:37,080 --> 00:17:40,470
built in mode but on top of that of

00:17:39,000 --> 00:17:44,190
course because it was developed by

00:17:40,470 --> 00:17:46,620
third-party vendor there's also the

00:17:44,190 --> 00:17:48,659
cloud mode that they are hosting in

00:17:46,620 --> 00:17:49,560
their environment and then your I don't

00:17:48,659 --> 00:17:54,690
know sending the day

00:17:49,560 --> 00:17:56,460
to their notes and they told us I never

00:17:54,690 --> 00:17:58,950
tried it myself that this has a higher

00:17:56,460 --> 00:18:01,860
currency and it's absolutely I think the

00:17:58,950 --> 00:18:03,620
best thing you can get out of it one

00:18:01,860 --> 00:18:06,270
version is free the other one is paid

00:18:03,620 --> 00:18:08,370
but as I said you could also make trust

00:18:06,270 --> 00:18:10,620
use of the local one

00:18:08,370 --> 00:18:13,020
how does this handle at the end you can

00:18:10,620 --> 00:18:15,120
just raise some alerts for example that

00:18:13,020 --> 00:18:18,840
something is going to fail or you can

00:18:15,120 --> 00:18:20,730
also turn it on that this OSD will

00:18:18,840 --> 00:18:25,020
automatically mark us out before it is

00:18:20,730 --> 00:18:26,850
this even crashes CLI command looks like

00:18:25,020 --> 00:18:29,550
that for example if you do a safe device

00:18:26,850 --> 00:18:31,710
LS then you get an output like that and

00:18:29,550 --> 00:18:33,450
there for example you get as I told five

00:18:31,710 --> 00:18:35,360
weeks from now five eight days so this

00:18:33,450 --> 00:18:38,430
one should be replaced rather soon and

00:18:35,360 --> 00:18:41,640
same here so you get some some

00:18:38,430 --> 00:18:46,860
prediction which is really nice crash

00:18:41,640 --> 00:18:50,070
reports in the past if the service in

00:18:46,860 --> 00:18:52,140
crash in safe failed you didn't even

00:18:50,070 --> 00:18:55,380
notice to be honest it was automatically

00:18:52,140 --> 00:18:57,570
more or less restarted and then the logs

00:18:55,380 --> 00:18:58,890
were stored somewhere on this node and

00:18:57,570 --> 00:19:00,120
it just had no clue that something

00:18:58,890 --> 00:19:01,230
happened when it came back on the Monday

00:19:00,120 --> 00:19:03,300
morning

00:19:01,230 --> 00:19:05,430
what does now all the log files are

00:19:03,300 --> 00:19:09,210
stored under slash boiled lips they have

00:19:05,430 --> 00:19:12,780
crash directory pass and then those are

00:19:09,210 --> 00:19:14,700
also synced to the Mons lets manager

00:19:12,780 --> 00:19:16,680
here and there you could do something

00:19:14,700 --> 00:19:21,060
like a safe crash info and there you get

00:19:16,680 --> 00:19:23,040
all the details on what happened that's

00:19:21,060 --> 00:19:24,630
more or less a request to all of you

00:19:23,040 --> 00:19:27,630
there is a module which is called

00:19:24,630 --> 00:19:30,930
telemetry module what it does it just

00:19:27,630 --> 00:19:33,990
takes those crash reports and uploads

00:19:30,930 --> 00:19:36,150
them to the community but you don't have

00:19:33,990 --> 00:19:38,610
to be worried it's just about some basic

00:19:36,150 --> 00:19:41,340
information the current install safe

00:19:38,610 --> 00:19:43,320
version how your structure looks like so

00:19:41,340 --> 00:19:46,950
no critical and confidential data the

00:19:43,320 --> 00:19:49,770
idea behind is that we get more

00:19:46,950 --> 00:19:50,430
predictable and better crash report so

00:19:49,770 --> 00:19:51,960
we can

00:19:50,430 --> 00:19:54,150
I don't know fix things that are out

00:19:51,960 --> 00:19:56,130
there that we are not aware of so that's

00:19:54,150 --> 00:19:58,110
just a warm request if you have anything

00:19:56,130 --> 00:20:00,330
like a development cluster or something

00:19:58,110 --> 00:20:02,970
else ongoing would be cool to get some

00:20:00,330 --> 00:20:05,130
reports if not even better than not

00:20:02,970 --> 00:20:09,059
crash but to be honest I think there's

00:20:05,130 --> 00:20:13,070
something going to fail that's enough

00:20:09,059 --> 00:20:15,390
for management let's switch to Rados

00:20:13,070 --> 00:20:18,090
again more or less because I already

00:20:15,390 --> 00:20:21,500
talked about the biggest feature but the

00:20:18,090 --> 00:20:24,929
that's the one I the pichi pichi nom

00:20:21,500 --> 00:20:26,340
reducing feature but I think that was

00:20:24,929 --> 00:20:31,289
also meant to be a management feature

00:20:26,340 --> 00:20:34,080
from a pure radius perspective it's the

00:20:31,289 --> 00:20:36,260
newest thing is the messenger we - what

00:20:34,080 --> 00:20:40,110
is it sounds interesting

00:20:36,260 --> 00:20:42,390
wood between the Ceph demons there is a

00:20:40,110 --> 00:20:44,640
prayer the protocol used how to

00:20:42,390 --> 00:20:46,650
communicate which is other and the

00:20:44,640 --> 00:20:48,390
problem was that protocol wasn't

00:20:46,650 --> 00:20:51,030
encrypted at all and it wasn't even

00:20:48,390 --> 00:20:53,220
possible to encrypt it and the main

00:20:51,030 --> 00:20:54,750
driver for dimensions are we - was that

00:20:53,220 --> 00:20:56,880
everyone asked about ok I would like to

00:20:54,750 --> 00:20:58,650
encrypt that communication between my

00:20:56,880 --> 00:21:00,360
demons under the various nose maybe

00:20:58,650 --> 00:21:03,390
hundred of them there isn't there a way

00:21:00,360 --> 00:21:05,250
to do that yeah now with Nautilus there

00:21:03,390 --> 00:21:10,590
is a way to do that and it's called

00:21:05,250 --> 00:21:13,110
messenger we - um the cool thing is the

00:21:10,590 --> 00:21:15,600
idea behind is that we also support dual

00:21:13,110 --> 00:21:17,610
stack like ipv4 and ipv6 that fixed it's

00:21:15,600 --> 00:21:20,330
not fully complete yet so right now we

00:21:17,610 --> 00:21:23,880
can either choose between 4 or 6 but

00:21:20,330 --> 00:21:28,919
it's in the last stretch we also move

00:21:23,880 --> 00:21:30,990
the monitor port to 3300 so the Ayana

00:21:28,919 --> 00:21:34,049
port that we got already a while ago and

00:21:30,990 --> 00:21:37,169
you don't have to worry we have a dual

00:21:34,049 --> 00:21:39,929
support for the old messenger and a new

00:21:37,169 --> 00:21:42,360
messenger version so if you upgrade for

00:21:39,929 --> 00:21:44,669
example the new monitor oh they will

00:21:42,360 --> 00:21:47,070
just listen on the other port as well

00:21:44,669 --> 00:21:49,169
and if you have have demons that could

00:21:47,070 --> 00:21:51,419
connect to the new one already they will

00:21:49,169 --> 00:21:53,610
do and if they won't they will just

00:21:51,419 --> 00:21:59,100
connect to the old port and messenger we

00:21:53,610 --> 00:22:01,320
want some other radios improvements it's

00:21:59,100 --> 00:22:03,510
now you can now set the OSD target

00:22:01,320 --> 00:22:06,929
memory which is which is really cool

00:22:03,510 --> 00:22:09,809
because in the past was kind of complete

00:22:06,929 --> 00:22:12,510
a complicated to say how much memory

00:22:09,809 --> 00:22:15,620
will be used at the end by the USB

00:22:12,510 --> 00:22:18,290
demons so now you can limit that

00:22:15,620 --> 00:22:21,590
we also added new math support you can

00:22:18,290 --> 00:22:26,080
now pin various OSD demons to specific

00:22:21,590 --> 00:22:28,580
new my notes on top of that we have now

00:22:26,080 --> 00:22:30,350
improved the centralized conflict

00:22:28,580 --> 00:22:32,780
management which does meet what does it

00:22:30,350 --> 00:22:34,970
mean in the past you had to store this F

00:22:32,780 --> 00:22:38,300
torque on file on all the various notes

00:22:34,970 --> 00:22:40,220
and now those just need to be stored on

00:22:38,300 --> 00:22:41,990
the on the monitors and can be managed

00:22:40,220 --> 00:22:45,860
from there so that's also really cool

00:22:41,990 --> 00:22:47,690
because it's stored within an object Pro

00:22:45,860 --> 00:22:50,720
press bars was also something that was

00:22:47,690 --> 00:22:53,180
heavily requested because there are a

00:22:50,720 --> 00:22:55,100
lot of long running tasks in a safe

00:22:53,180 --> 00:22:57,380
cluster at least that could happen and

00:22:55,100 --> 00:23:00,170
the problem the past was you just

00:22:57,380 --> 00:23:03,320
clicked on do it or for example it in

00:23:00,170 --> 00:23:06,140
the dashboard or you did a command in

00:23:03,320 --> 00:23:07,790
the in this on the CLI and then it just

00:23:06,140 --> 00:23:11,630
disappeared and you had no clue what's

00:23:07,790 --> 00:23:13,700
going on what's the F progress which

00:23:11,630 --> 00:23:17,150
also is reflecting this F dash s status

00:23:13,700 --> 00:23:19,640
which is a safe status you get now

00:23:17,150 --> 00:23:23,230
output of it so you know what's going on

00:23:19,640 --> 00:23:26,450
at least for the most critical things

00:23:23,230 --> 00:23:29,120
minor fix not sure if someone ran into

00:23:26,450 --> 00:23:30,950
that already misplaced is no longer a

00:23:29,120 --> 00:23:33,350
house warning someone asked me why is

00:23:30,950 --> 00:23:35,360
that a thing to name on stage to be

00:23:33,350 --> 00:23:38,930
honest that's the thing because we had

00:23:35,360 --> 00:23:41,120
some customers we had a problem that

00:23:38,930 --> 00:23:44,030
they were on duty over the weekend 24 by

00:23:41,120 --> 00:23:47,330
7 and in if on a Sunday morning or

00:23:44,030 --> 00:23:49,090
Saturday evening the cluster switched to

00:23:47,330 --> 00:23:52,640
a house warning just because of a miss

00:23:49,090 --> 00:23:56,030
misplacing they told us all the time

00:23:52,640 --> 00:23:57,920
really seriously I don't fix that on

00:23:56,030 --> 00:24:00,590
Monday as well but now my boss called me

00:23:57,920 --> 00:24:02,870
to fix it right now that's the reason we

00:24:00,590 --> 00:24:07,540
can now turn it off if you still like it

00:24:02,870 --> 00:24:07,540
there's a flag you can enable it again

00:24:07,780 --> 00:24:12,980
plus store improvements to switch to the

00:24:10,130 --> 00:24:16,040
next one cluster has a new bitmap bitmap

00:24:12,980 --> 00:24:17,720
allocator which also more or less falls

00:24:16,040 --> 00:24:20,270
in the same direction like what the

00:24:17,720 --> 00:24:22,910
improvements on the OST site were you

00:24:20,270 --> 00:24:24,980
can now have a more predictable memory

00:24:22,910 --> 00:24:27,440
utilization I think that's what everyone

00:24:24,980 --> 00:24:29,130
is requesting and less recommendation

00:24:27,440 --> 00:24:31,620
which is a result out of it

00:24:29,130 --> 00:24:34,230
we now have a or could make use of our

00:24:31,620 --> 00:24:36,960
intelligent caching so the memory

00:24:34,230 --> 00:24:39,000
allocation between different caches like

00:24:36,960 --> 00:24:41,730
the rocks DB cache and all nodes in the

00:24:39,000 --> 00:24:43,860
data can be trusted automatically which

00:24:41,730 --> 00:24:46,800
is rather cool we get a purple

00:24:43,860 --> 00:24:49,050
utilization metrics which is rather

00:24:46,800 --> 00:24:51,990
helpful and also just bubbles up again

00:24:49,050 --> 00:24:58,830
to the staff DF command and some your

00:24:51,990 --> 00:25:01,260
minor improvements with I think luminous

00:24:58,830 --> 00:25:05,550
yeah there this was luminous there was a

00:25:01,260 --> 00:25:08,100
new device class map introduced how ever

00:25:05,550 --> 00:25:10,320
you want to call it and the problem was

00:25:08,100 --> 00:25:13,790
before Nautilus if you would like to

00:25:10,320 --> 00:25:16,500
switch to let's say this SSD HDD class

00:25:13,790 --> 00:25:19,410
you always had to change the crush map

00:25:16,500 --> 00:25:20,970
and then data was shuffled around and

00:25:19,410 --> 00:25:23,070
people totally got annoyed by that

00:25:20,970 --> 00:25:25,500
because why do I want to switch if I

00:25:23,070 --> 00:25:28,260
then have to shift let's say a few

00:25:25,500 --> 00:25:33,450
terabytes of data because it's not

00:25:28,260 --> 00:25:36,900
necessary we fixed that more or less so

00:25:33,450 --> 00:25:41,220
you can now just switch to the new model

00:25:36,900 --> 00:25:42,720
without the need to shuffle any data you

00:25:41,220 --> 00:25:46,590
can now set a hard limit on the Paciello

00:25:42,720 --> 00:25:50,100
lock lengths which also is really cool

00:25:46,590 --> 00:25:52,770
because in some specific situation this

00:25:50,100 --> 00:25:55,290
just led to your uncontrolled memory

00:25:52,770 --> 00:25:57,900
utilization the water back and it's not

00:25:55,290 --> 00:26:01,470
more less fixed by that and there is a

00:25:57,900 --> 00:26:05,360
new erasure coded racial code way which

00:26:01,470 --> 00:26:10,070
is called Eurasia code clay Eurasia and

00:26:05,360 --> 00:26:15,630
they promised a battery cover efficiency

00:26:10,070 --> 00:26:18,570
so the bandwidth between IO during a

00:26:15,630 --> 00:26:21,770
crap the users between bandwidth and IO

00:26:18,570 --> 00:26:24,390
during recovery should be much better

00:26:21,770 --> 00:26:26,280
can't can tell because I haven't tested

00:26:24,390 --> 00:26:32,430
but that's what they say at least

00:26:26,280 --> 00:26:34,890
promised rtw what do we have there an

00:26:32,430 --> 00:26:38,850
Archie W we can now create different so

00:26:34,890 --> 00:26:41,970
zones where you could for example notify

00:26:38,850 --> 00:26:42,659
and listen on this sets up a event

00:26:41,970 --> 00:26:45,179
stream you

00:26:42,659 --> 00:26:50,509
could subscribe to for example which you

00:26:45,179 --> 00:26:50,509
could use for let's say also things like

00:26:50,960 --> 00:26:54,869
what a function has a surface for

00:26:53,009 --> 00:26:56,609
example a specific object was placed

00:26:54,869 --> 00:26:58,080
change whatever then something else

00:26:56,609 --> 00:26:59,009
could be triggered so you can listen to

00:26:58,080 --> 00:27:03,330
it

00:26:59,009 --> 00:27:06,690
we now have an archive zone which can be

00:27:03,330 --> 00:27:08,460
used so if your whole data will be

00:27:06,690 --> 00:27:11,249
cloned and there's a copy of your clone

00:27:08,460 --> 00:27:13,289
but which version izing on top so every

00:27:11,249 --> 00:27:15,269
change of your object will be tracked

00:27:13,289 --> 00:27:17,580
there in a word nice way which is really

00:27:15,269 --> 00:27:20,369
nice and on top of that we have the

00:27:17,580 --> 00:27:22,590
possibility to create here different

00:27:20,369 --> 00:27:26,070
tiers so as I said let's say you have an

00:27:22,590 --> 00:27:28,320
HDD spinner and SSD nvme and on top of

00:27:26,070 --> 00:27:30,989
that or archival zone your objects could

00:27:28,320 --> 00:27:32,999
move depending on your rules through all

00:27:30,989 --> 00:27:37,649
of those tiers so that's another step

00:27:32,999 --> 00:27:39,749
forward and the piece front RDD actually

00:27:37,649 --> 00:27:42,570
W front-end changed again first of all

00:27:39,749 --> 00:27:47,340
was Apache then it was Civic map and now

00:27:42,570 --> 00:27:49,259
it was replaced by beast again as I said

00:27:47,340 --> 00:27:50,789
of course better performance efficiency

00:27:49,259 --> 00:27:54,769
in everything what else why should we

00:27:50,789 --> 00:27:56,549
change and so yeah let's see

00:27:54,769 --> 00:27:59,220
RVD I think that's really interesting

00:27:56,549 --> 00:28:02,099
the next feature for everyone use the

00:27:59,220 --> 00:28:05,279
safe cluster underneath this or their

00:28:02,099 --> 00:28:08,129
virtual machine environment we now

00:28:05,279 --> 00:28:11,369
support RVD life my creation which was

00:28:08,129 --> 00:28:14,279
really cool so you can might create and

00:28:11,369 --> 00:28:15,929
RVD from one pool to another and in the

00:28:14,279 --> 00:28:18,330
past that wasn't possible if you create

00:28:15,929 --> 00:28:20,940
a pool and RVD in a specific pool you

00:28:18,330 --> 00:28:22,919
were bound to it and now you can just

00:28:20,940 --> 00:28:25,769
life migrate between different pools

00:28:22,919 --> 00:28:28,259
even between replicator replicated and

00:28:25,769 --> 00:28:33,450
iterated are coded pools I think that's

00:28:28,259 --> 00:28:36,330
a big step forward another improvement

00:28:33,450 --> 00:28:39,090
is the RVD top command if you ever use

00:28:36,330 --> 00:28:40,799
any top command you're you know what I'm

00:28:39,090 --> 00:28:43,830
talking about how this is supposed to

00:28:40,799 --> 00:28:46,950
look like there you get some some output

00:28:43,830 --> 00:28:51,869
and statistics about your RVD device

00:28:46,950 --> 00:28:54,690
obviously the command on the CLI as you

00:28:51,869 --> 00:28:56,130
could guess is of course called already

00:28:54,690 --> 00:29:00,150
perf image I

00:28:56,130 --> 00:29:02,190
image IO top which makes total sense to

00:29:00,150 --> 00:29:05,160
me because why shouldn't I call it RVD

00:29:02,190 --> 00:29:08,130
top if I could put per image io top Bom

00:29:05,160 --> 00:29:10,500
yeah nevertheless hopefully that will

00:29:08,130 --> 00:29:13,049
change so if you would like to give it a

00:29:10,500 --> 00:29:14,549
try because we had some requests already

00:29:13,049 --> 00:29:16,410
I think couple of while ago and the IOC

00:29:14,549 --> 00:29:19,110
channel that I remember when someone

00:29:16,410 --> 00:29:20,730
asked didn't you add the RVD top command

00:29:19,110 --> 00:29:24,539
we said yes it's there

00:29:20,730 --> 00:29:26,850
I tried it then my shell always tells me

00:29:24,539 --> 00:29:29,070
unknown command there's no part where is

00:29:26,850 --> 00:29:31,559
it and then we told him here obviously

00:29:29,070 --> 00:29:34,860
it's called RVD perf image io top that

00:29:31,559 --> 00:29:36,630
doesn't make sense to you know as you

00:29:34,860 --> 00:29:38,700
can see here what you would expect some

00:29:36,630 --> 00:29:43,669
the read and write I of Sweden right by

00:29:38,700 --> 00:29:46,380
Samos latency so yeah this improves also

00:29:43,669 --> 00:29:48,630
the statistics of our biddies and was

00:29:46,380 --> 00:29:54,360
something that was yeah requested by day

00:29:48,630 --> 00:29:55,830
one all s RBD misc and I've talked

00:29:54,360 --> 00:29:57,120
already briefly about the our body

00:29:55,830 --> 00:30:00,150
mirror functionality that was added to

00:29:57,120 --> 00:30:01,980
the dashboard the main reason this is

00:30:00,150 --> 00:30:03,539
now easily possible was due to some

00:30:01,980 --> 00:30:07,400
changes that were made and not less and

00:30:03,539 --> 00:30:10,230
also the configuration changes on a

00:30:07,400 --> 00:30:11,970
central central place that makes it

00:30:10,230 --> 00:30:15,169
really easy compared to older versions

00:30:11,970 --> 00:30:18,179
and post Nautilus we now support

00:30:15,169 --> 00:30:20,490
namespaces so you can create security

00:30:18,179 --> 00:30:23,760
domains within pools and lock Pacific

00:30:20,490 --> 00:30:26,490
clients into it which is really nifty we

00:30:23,760 --> 00:30:29,010
also support pool level overrides and

00:30:26,490 --> 00:30:32,549
the past for example you were capable of

00:30:29,010 --> 00:30:34,500
setting activating the caching or an RVD

00:30:32,549 --> 00:30:37,650
device for example and now you can also

00:30:34,500 --> 00:30:38,220
do this on the pool level and the RVT LS

00:30:37,650 --> 00:30:40,470
command

00:30:38,220 --> 00:30:42,809
sounds like just a minor thing but now

00:30:40,470 --> 00:30:45,390
also lists the creation access and

00:30:42,809 --> 00:30:51,000
modification timestamp which is again

00:30:45,390 --> 00:30:54,570
really helpful for administrators enough

00:30:51,000 --> 00:30:56,510
of that let's go to steffeff s what do

00:30:54,570 --> 00:31:01,340
we have there

00:30:56,510 --> 00:31:03,440
yay multi safe multi FS volume support

00:31:01,340 --> 00:31:06,799
is stable now what does it mean you can

00:31:03,440 --> 00:31:09,080
now have multiple safe FS file system

00:31:06,799 --> 00:31:11,179
within yourself cluster each of them

00:31:09,080 --> 00:31:15,110
have their independent set a rate of

00:31:11,179 --> 00:31:17,350
pools and M DSS so that something you

00:31:15,110 --> 00:31:19,940
have to be aware of but at least is

00:31:17,350 --> 00:31:24,250
possible and it's called stable now with

00:31:19,940 --> 00:31:27,710
Nautilus we have a sub volume concept

00:31:24,250 --> 00:31:30,350
which was mainly copied from the Manila

00:31:27,710 --> 00:31:32,360
OpenStack driver into now the safe

00:31:30,350 --> 00:31:34,880
miniature so we can now create sub

00:31:32,360 --> 00:31:37,970
volumes with their own quota own suffix

00:31:34,880 --> 00:31:42,950
user keys restrictions and all of that

00:31:37,970 --> 00:31:45,650
so that's also really cool and again the

00:31:42,950 --> 00:31:48,919
unified Silla is we now have safe FS

00:31:45,650 --> 00:31:53,830
volumes ffs up volume to fiddle around

00:31:48,919 --> 00:31:56,690
with those things which is really handy

00:31:53,830 --> 00:31:59,570
on top of that if you would like to use

00:31:56,690 --> 00:32:02,510
NFS obviously we're using NFS Ganesha

00:31:59,570 --> 00:32:04,100
and we're now supporting active active

00:32:02,510 --> 00:32:06,110
deployment

00:32:04,100 --> 00:32:08,330
please don't get confused by active

00:32:06,110 --> 00:32:10,130
active or active passive it doesn't mean

00:32:08,330 --> 00:32:12,740
that you can only have one active and

00:32:10,130 --> 00:32:14,840
one passive or one active and one active

00:32:12,740 --> 00:32:16,640
in this case this only means ok multiple

00:32:14,840 --> 00:32:18,620
active or it's just one active and

00:32:16,640 --> 00:32:20,750
multiple passive ones so that's not

00:32:18,620 --> 00:32:23,090
bound to just two notes so in case

00:32:20,750 --> 00:32:25,820
you're wondering about that because had

00:32:23,090 --> 00:32:29,419
this question already we are now

00:32:25,820 --> 00:32:31,160
handling thanks to more or less jhf a

00:32:29,419 --> 00:32:32,780
lot of changeless that he made and

00:32:31,160 --> 00:32:36,140
there's a really good talk from the jeff

00:32:32,780 --> 00:32:37,610
conan and check check it out a really

00:32:36,140 --> 00:32:39,710
good talk where he talks about that

00:32:37,610 --> 00:32:42,770
briefly and in detail so if you're

00:32:39,710 --> 00:32:45,049
interested in those changes I can just

00:32:42,770 --> 00:32:48,309
recommend the talk from from Jeff

00:32:45,049 --> 00:32:51,049
Leighton the NFS Ganesha daemons are

00:32:48,309 --> 00:32:53,840
fully managed weird in the orchestrator

00:32:51,049 --> 00:32:55,730
interface so first of all Orchestrator

00:32:53,840 --> 00:32:57,590
interface at the end talks to the NFF

00:32:55,730 --> 00:32:59,990
Ganesha demons this is already fully

00:32:57,590 --> 00:33:03,350
integrated into rook for example and

00:32:59,990 --> 00:33:06,770
others are to follow let's see who then

00:33:03,350 --> 00:33:09,740
is next and the SAP volume and volume

00:33:06,770 --> 00:33:12,050
concept I've shown I showed you just a

00:33:09,740 --> 00:33:15,620
ago is also reflected here so you can

00:33:12,050 --> 00:33:22,550
use it on top of the ffs and off on your

00:33:15,620 --> 00:33:24,950
gateways as well service shell there was

00:33:22,550 --> 00:33:27,080
something if I remember correctly was

00:33:24,950 --> 00:33:29,980
brought to us by a student that

00:33:27,080 --> 00:33:33,230
participated in the outreach project and

00:33:29,980 --> 00:33:37,580
this was mainly used or the idea behind

00:33:33,230 --> 00:33:39,890
was for scripting purposes of center

00:33:37,580 --> 00:33:41,630
fest so let's say the problem works for

00:33:39,890 --> 00:33:44,480
example if you wanted to change the

00:33:41,630 --> 00:33:46,940
quota attributes then you had first of

00:33:44,480 --> 00:33:48,290
all to mount the Ceph events fastest and

00:33:46,940 --> 00:33:50,570
then you could change the attributes and

00:33:48,290 --> 00:33:54,110
then you have to unmount it all of that

00:33:50,570 --> 00:33:55,640
is not possible within the ZFS shell it

00:33:54,110 --> 00:33:57,290
does the whole magic in the background

00:33:55,640 --> 00:33:59,690
for you nothing you have to worry about

00:33:57,290 --> 00:34:03,260
so this is this is really cool

00:33:59,690 --> 00:34:06,050
and on top of that yeah some performance

00:34:03,260 --> 00:34:09,050
improvement to the MSM DSS so something

00:34:06,050 --> 00:34:14,840
you would expect from from a new new

00:34:09,050 --> 00:34:17,330
release cool let's get to the next topic

00:34:14,840 --> 00:34:19,850
which is container I just assumed

00:34:17,330 --> 00:34:21,830
everyone talked about container already

00:34:19,850 --> 00:34:23,780
briefly over the weekend because

00:34:21,830 --> 00:34:26,060
everyone is talking about containers so

00:34:23,780 --> 00:34:31,550
we're going to talk about container as

00:34:26,060 --> 00:34:34,040
well obviously if we take a look at

00:34:31,550 --> 00:34:36,290
containers then we have two different

00:34:34,040 --> 00:34:38,480
views on it more or less first of all we

00:34:36,290 --> 00:34:40,250
could say okay underneath containers you

00:34:38,480 --> 00:34:42,320
need to store them somewhere we need

00:34:40,250 --> 00:34:44,419
some storage so self could be used

00:34:42,320 --> 00:34:47,119
underneath your meta secure Panetta's

00:34:44,419 --> 00:34:49,790
deployment and we'll put safe underneath

00:34:47,119 --> 00:34:53,530
that's one way the other way is hey we

00:34:49,790 --> 00:34:56,540
could maybe use move our services into

00:34:53,530 --> 00:34:59,510
containers for scale-out reason and and

00:34:56,540 --> 00:35:02,150
other reasons and that's exactly what we

00:34:59,510 --> 00:35:03,619
are trying to achieve right now the

00:35:02,150 --> 00:35:06,560
whole idea I think it's total clear

00:35:03,619 --> 00:35:09,770
nothing I have to tell you over and over

00:35:06,560 --> 00:35:11,990
again it's just to simplify the u.s.

00:35:09,770 --> 00:35:14,619
dependency and more or less the scale

00:35:11,990 --> 00:35:19,440
out perspective scale or an upgrade

00:35:14,619 --> 00:35:22,440
that's the main main driver here

00:35:19,440 --> 00:35:24,750
I think you heard about it already

00:35:22,440 --> 00:35:27,230
Luke maybe that's at least the operator

00:35:24,750 --> 00:35:30,150
that we're using from a safe side life

00:35:27,230 --> 00:35:31,890
it's really extremely easy to get it up

00:35:30,150 --> 00:35:34,470
and running even I was capable of

00:35:31,890 --> 00:35:38,520
setting up a container environment with

00:35:34,470 --> 00:35:41,970
Luke so you should be capable of to do

00:35:38,520 --> 00:35:45,060
it as well obviously it can already

00:35:41,970 --> 00:35:47,400
remove adding and remove as could

00:35:45,060 --> 00:35:49,890
already add and remove monitors it could

00:35:47,400 --> 00:35:51,660
deploy some demons on top all of that

00:35:49,890 --> 00:35:54,810
went already into the roof development

00:35:51,660 --> 00:35:56,940
and I think it was three weeks ago and I

00:35:54,810 --> 00:35:58,470
just checked briefly and I saw that

00:35:56,940 --> 00:36:00,900
already a bug fix release went out as

00:35:58,470 --> 00:36:03,570
well so I think we're already at 1.0.1

00:36:00,900 --> 00:36:06,990
and it meanwhile but the first official

00:36:03,570 --> 00:36:10,830
release was three weeks ago so it's now

00:36:06,990 --> 00:36:12,540
also declared and named stable but still

00:36:10,830 --> 00:36:15,480
obviously there's there's more to come

00:36:12,540 --> 00:36:21,570
and and bug fixes because now more and

00:36:15,480 --> 00:36:24,510
more end-users make use of it on top of

00:36:21,570 --> 00:36:26,850
that we have already talked about right

00:36:24,510 --> 00:36:29,520
now more or less for deployment

00:36:26,850 --> 00:36:33,000
mechanisms we have rook we have deep sea

00:36:29,520 --> 00:36:35,760
which is driven by Azusa itself which

00:36:33,000 --> 00:36:38,760
uses salt underneath then we have self

00:36:35,760 --> 00:36:42,620
ansible and on top of that now we have

00:36:38,760 --> 00:36:46,830
what they call it the SSH Orchestrator

00:36:42,620 --> 00:36:49,260
the SSH Orchestrator is planned to be

00:36:46,830 --> 00:36:51,750
the replacement for SEF deploy because

00:36:49,260 --> 00:36:53,490
the F deploy was deprecated and I know

00:36:51,750 --> 00:36:56,370
that a lot of people are out there who

00:36:53,490 --> 00:36:59,070
really loves F deploy because what some

00:36:56,370 --> 00:37:00,480
just a bash script and you could just

00:36:59,070 --> 00:37:03,300
script yourself because everyone is

00:37:00,480 --> 00:37:05,820
capable of writing a bad script and the

00:37:03,300 --> 00:37:08,190
need to learn a deployment tool man that

00:37:05,820 --> 00:37:10,440
everyone is keen on it so that's why

00:37:08,190 --> 00:37:14,160
they came up with the SSH Orchestrator

00:37:10,440 --> 00:37:16,680
now so you don't have to worry there's

00:37:14,160 --> 00:37:18,930
something you you can't use and it's

00:37:16,680 --> 00:37:22,740
yeah rather easy the whole the whole

00:37:18,930 --> 00:37:25,740
idea here is again to also integrate

00:37:22,740 --> 00:37:27,690
that again into ruk and then at the end

00:37:25,740 --> 00:37:32,030
into the dashboard again to have

00:37:27,690 --> 00:37:33,829
efficient year in one place the

00:37:32,030 --> 00:37:35,480
the thing that we're struggling with

00:37:33,829 --> 00:37:38,390
right now and what we're trying to find

00:37:35,480 --> 00:37:40,309
out is the initial bootstrapping because

00:37:38,390 --> 00:37:42,170
we need at least a single Mon and a

00:37:40,309 --> 00:37:44,270
single mentor up and running to be able

00:37:42,170 --> 00:37:46,270
to start the dashboard on top and from

00:37:44,270 --> 00:37:48,109
there to deploy all the other services

00:37:46,270 --> 00:37:49,700
so it's more like a chicken-and-egg

00:37:48,109 --> 00:37:51,079
problem so we're trying to find out

00:37:49,700 --> 00:37:53,750
what's the best way to bootstrap this

00:37:51,079 --> 00:37:56,960
maybe to ship some pre-configured

00:37:53,750 --> 00:37:58,430
containers chance to sing in one way the

00:37:56,960 --> 00:38:01,099
thing the first money tour would spawn

00:37:58,430 --> 00:38:05,109
for example that something that's work

00:38:01,099 --> 00:38:07,780
in progress and ongoing community wise

00:38:05,109 --> 00:38:10,490
for those of you who missed it

00:38:07,780 --> 00:38:12,530
set foundation is now a thing what is

00:38:10,490 --> 00:38:14,180
the theft foundation the theft

00:38:12,530 --> 00:38:16,790
foundation is a direct fund under the

00:38:14,180 --> 00:38:20,329
deluxe foundation and the whole idea of

00:38:16,790 --> 00:38:23,059
that and the driver of this was okay we

00:38:20,329 --> 00:38:25,309
have or in a we still have to pick

00:38:23,059 --> 00:38:27,200
vendors who are pushing self apart from

00:38:25,309 --> 00:38:30,680
all the other community members which is

00:38:27,200 --> 00:38:33,200
obviously redhead and Sousa and the

00:38:30,680 --> 00:38:36,829
problem one was I tried it myself couple

00:38:33,200 --> 00:38:38,480
of years ago to get some funding for a

00:38:36,829 --> 00:38:41,240
community event which was driven by

00:38:38,480 --> 00:38:42,500
redhead and I failed internally because

00:38:41,240 --> 00:38:44,059
we're not willing to send some money to

00:38:42,500 --> 00:38:45,440
the reddish folks and on the other hand

00:38:44,059 --> 00:38:47,780
they had the same problems their can

00:38:45,440 --> 00:38:49,369
send any monies money to us I think it's

00:38:47,780 --> 00:38:51,829
just forbidden on their bank accounts I

00:38:49,369 --> 00:38:53,630
don't know but the solution to all of

00:38:51,829 --> 00:38:57,619
that is the set foundation which is

00:38:53,630 --> 00:39:00,349
independent now and they had 34:31

00:38:57,619 --> 00:39:03,589
founding member organizations and in the

00:39:00,349 --> 00:39:06,559
meanwhile three more members have joined

00:39:03,589 --> 00:39:08,119
and there you give your money and they

00:39:06,559 --> 00:39:11,390
will make the best use of it for

00:39:08,119 --> 00:39:13,970
community events for right now they they

00:39:11,390 --> 00:39:15,710
think about hiring for example someone

00:39:13,970 --> 00:39:17,900
dedicated for documentation because

00:39:15,710 --> 00:39:20,660
everyone is complaining about the staff

00:39:17,900 --> 00:39:22,940
documentation is so horrible yeah it's

00:39:20,660 --> 00:39:24,680
documented in code um I don't get it but

00:39:22,940 --> 00:39:27,140
yeah there's less they're trying to find

00:39:24,680 --> 00:39:28,790
someone the same the idea is to split

00:39:27,140 --> 00:39:31,069
the community role they have a community

00:39:28,790 --> 00:39:33,859
manager which is right now based in the

00:39:31,069 --> 00:39:36,220
US so the problem is our community

00:39:33,859 --> 00:39:38,869
events as you can see here next slide

00:39:36,220 --> 00:39:40,609
espresso or less around the club so it

00:39:38,869 --> 00:39:43,970
would be easier to have a dedicated role

00:39:40,609 --> 00:39:45,620
maybe in every region as well and in

00:39:43,970 --> 00:39:47,750
case you would like to join one of the

00:39:45,620 --> 00:39:50,900
next upcoming one is an is in the

00:39:47,750 --> 00:39:53,750
Netherlands after that there is the one

00:39:50,900 --> 00:39:55,670
at yeah obviously CERN and the cool

00:39:53,750 --> 00:39:58,040
thing about it about it is that certain

00:39:55,670 --> 00:40:01,040
right now has a maintenance window and

00:39:58,040 --> 00:40:03,170
the Sunday before so if you arrived

00:40:01,040 --> 00:40:06,430
already let's say Sunday morning or

00:40:03,170 --> 00:40:09,410
Saturday there is the possibility to

00:40:06,430 --> 00:40:11,450
here go down take a look at the LHC and

00:40:09,410 --> 00:40:13,640
everything so that's really cool so I

00:40:11,450 --> 00:40:15,500
expect a lot of people to join that day

00:40:13,640 --> 00:40:19,250
just because of CERN and not because of

00:40:15,500 --> 00:40:20,840
Ceph so let's see that's interesting and

00:40:19,250 --> 00:40:24,650
then after that we have the safe day in

00:40:20,840 --> 00:40:27,380
London and the safe day in Poland if

00:40:24,650 --> 00:40:30,110
you're interested to to host one feel

00:40:27,380 --> 00:40:32,150
free that's those are completely driven

00:40:30,110 --> 00:40:34,070
by the community you can just reach out

00:40:32,150 --> 00:40:36,110
and say yeah we would like to host the

00:40:34,070 --> 00:40:38,540
safe day somewhere let's say in

00:40:36,110 --> 00:40:42,770
somewhere in Europe in the US you don't

00:40:38,540 --> 00:40:45,980
I don't care just send an email and we

00:40:42,770 --> 00:40:48,170
try to help wherever we can and with

00:40:45,980 --> 00:40:49,640
that you trust from links again where if

00:40:48,170 --> 00:40:51,230
find my presentation is the same I

00:40:49,640 --> 00:40:53,150
showed you already at the beginning so

00:40:51,230 --> 00:40:57,080
in case you would like to read some

00:40:53,150 --> 00:40:59,750
facts later on and if not I will come to

00:40:57,080 --> 00:41:03,410
an end and would like to ask you for

00:40:59,750 --> 00:41:05,690
questions if you have any or if you just

00:41:03,410 --> 00:41:07,730
hungry and you would like to have lunch

00:41:05,690 --> 00:41:15,440
now I can definitely understand that as

00:41:07,730 --> 00:41:18,530
well no question which could be good

00:41:15,440 --> 00:41:21,100
thing I at least I hope so and if you

00:41:18,530 --> 00:41:23,840
have any just crap me in the hallway and

00:41:21,100 --> 00:41:26,250
yeah thanks everyone for joining and

00:41:23,840 --> 00:41:29,670
enjoy the rest of your day

00:41:26,250 --> 00:41:29,670

YouTube URL: https://www.youtube.com/watch?v=YqO2keTWOhc


