Title: osc14: Christopher Hofmann, OpenFireMap - Burning Down Your House, NOT
Publication date: 2014-04-27
Playlist: openSUSE Conference 2014
Description: 
	Not only the things you can see on a regular map, but also fire hydrants and other special interest information for fire departments and other emergency services are collected in the OpenStreetMap project. Since 2010 there is the project openfiremap.org that actually shows this data as an overlay to the well known openstreetmap.
The OBS project Application:Geo contains all the pieces of software that are needed to set up a computer for rendering map tiles. Besides presenting the OpenFireMap project itself I will show you a rough overview how to glue all pieces together to get a map as you can see on openfiremap.org.
Captions: 
	00:00:01,100 --> 00:00:11,849
okay hi I'm Christopher Hoffman I

00:00:06,680 --> 00:00:14,250
actually I'm Susie employee so I come

00:00:11,849 --> 00:00:17,660
from newburgh came all the way heat down

00:00:14,250 --> 00:00:22,560
here to just make a presentation about

00:00:17,660 --> 00:00:25,470
one of my hobbies and I actually have

00:00:22,560 --> 00:00:29,340
maybe a little bit too much shopping so

00:00:25,470 --> 00:00:34,620
I try to combine some of them so in this

00:00:29,340 --> 00:00:36,780
case it's making maps and mapping and of

00:00:34,620 --> 00:00:41,750
course the computer stuff so this leads

00:00:36,780 --> 00:00:44,460
to openstreetmap and I'm actually in a

00:00:41,750 --> 00:00:46,430
volunteer fire department which is quite

00:00:44,460 --> 00:00:49,230
common in Germany so most of the

00:00:46,430 --> 00:00:54,059
countryside the fire protection is

00:00:49,230 --> 00:00:58,140
covered with volunteers I'm not sure how

00:00:54,059 --> 00:01:01,949
was it in Croatia maybe the same I think

00:00:58,140 --> 00:01:07,950
there are some volunteers but dear so

00:01:01,949 --> 00:01:15,110
and yeah the emergency services in

00:01:07,950 --> 00:01:19,170
Germany just a short overview all these

00:01:15,110 --> 00:01:24,270
made also by volunteers it's of course

00:01:19,170 --> 00:01:27,000
these ambulance staff also done not only

00:01:24,270 --> 00:01:33,770
done but also done by volunteers there's

00:01:27,000 --> 00:01:37,110
actually something called thw which is

00:01:33,770 --> 00:01:40,650
something they make technical support

00:01:37,110 --> 00:01:45,000
for any emergency cases they even go

00:01:40,650 --> 00:01:47,759
abroad though they went to even Japan to

00:01:45,000 --> 00:01:50,970
help when they this big tsunami was and

00:01:47,759 --> 00:01:53,520
stuff and of course last but not least

00:01:50,970 --> 00:01:56,790
de fire departments which I think the

00:01:53,520 --> 00:02:03,390
most in Germany better run by volunteers

00:01:56,790 --> 00:02:08,090
and yeah how does this belong to a map

00:02:03,390 --> 00:02:08,090
or how does this fit fit to a map

00:02:10,379 --> 00:02:16,840
actually we need some infrastructure for

00:02:13,840 --> 00:02:20,080
this fire department stuff and as you

00:02:16,840 --> 00:02:24,010
can see here this is a fire hydrant they

00:02:20,080 --> 00:02:28,299
are spread all over the cities and

00:02:24,010 --> 00:02:31,000
villages and in an emergency case you

00:02:28,299 --> 00:02:33,989
somehow need to find them so you may be

00:02:31,000 --> 00:02:39,030
won't remember all of them by heart and

00:02:33,989 --> 00:02:39,030
this is what we need a map and

00:02:40,739 --> 00:02:45,880
openstreetmap is a good thing in that is

00:02:43,660 --> 00:02:48,819
supporting that because yeah so far it

00:02:45,880 --> 00:02:51,959
was done in a kind of old-fashioned way

00:02:48,819 --> 00:02:55,950
so we had paper maps and some people

00:02:51,959 --> 00:03:02,950
painted the fire hydrants in that and

00:02:55,950 --> 00:03:05,700
now in modern times it changed it or

00:03:02,950 --> 00:03:10,870
actually I tried to change that in

00:03:05,700 --> 00:03:13,120
OpenStreetMap so because it's about to

00:03:10,870 --> 00:03:16,090
say because it's an open platform for

00:03:13,120 --> 00:03:21,579
all geographical data not only streets

00:03:16,090 --> 00:03:23,889
or location names it's also you can

00:03:21,579 --> 00:03:27,819
enter restaurants even with opening

00:03:23,889 --> 00:03:31,510
times and of course also these fire

00:03:27,819 --> 00:03:34,630
hydrants in that yeah this is actually

00:03:31,510 --> 00:03:38,109
something I should would wanted to press

00:03:34,630 --> 00:03:41,230
earlier yeah and it's really open so why

00:03:38,109 --> 00:03:43,599
not putting also these emergency stuff

00:03:41,230 --> 00:03:45,220
in that so this is how a normal map

00:03:43,599 --> 00:03:48,790
looks like this is actually the village

00:03:45,220 --> 00:03:51,849
I come from it's yeah there are

00:03:48,790 --> 00:03:57,609
buildings there yeah there's a butcher

00:03:51,849 --> 00:03:59,769
and all that stuff and yeah how would it

00:03:57,609 --> 00:04:06,280
look like if I would draw all the fire

00:03:59,769 --> 00:04:08,650
hydrants in that is like that so this

00:04:06,280 --> 00:04:11,849
would maybe not be really useful for

00:04:08,650 --> 00:04:17,530
most of keep the people who just want to

00:04:11,849 --> 00:04:20,729
go on the streets so actually this is

00:04:17,530 --> 00:04:23,139
already the emergency data we entered in

00:04:20,729 --> 00:04:25,629
OpenStreetMap though these are all these

00:04:23,139 --> 00:04:29,169
fire hydrants different types of most of

00:04:25,629 --> 00:04:32,319
them in Germany in the meanwhile under

00:04:29,169 --> 00:04:34,629
the pavement so they are not oppositely

00:04:32,319 --> 00:04:37,870
visible and the one I showed you before

00:04:34,629 --> 00:04:40,569
is actually this this one that are

00:04:37,870 --> 00:04:46,779
really piled it it's visible they are

00:04:40,569 --> 00:04:52,919
also some more small lakes where we can

00:04:46,779 --> 00:04:56,710
pull water from and also closed things

00:04:52,919 --> 00:05:04,289
water storages where we can go border

00:04:56,710 --> 00:05:06,669
from and since the normal openstreetmap

00:05:04,289 --> 00:05:10,319
rendering on the web page does not

00:05:06,669 --> 00:05:15,629
really provide us this special overlay

00:05:10,319 --> 00:05:18,879
we we means some guys that actually

00:05:15,629 --> 00:05:22,990
locally locally from the known back area

00:05:18,879 --> 00:05:25,449
kind of got the idea that we want to

00:05:22,990 --> 00:05:28,629
start this open farmer projects or

00:05:25,449 --> 00:05:33,310
someone offer the server and we set up a

00:05:28,629 --> 00:05:35,830
rendering engine because we just make an

00:05:33,310 --> 00:05:37,779
overlay layer that does not really

00:05:35,830 --> 00:05:40,629
contain all these graphical stuffs but

00:05:37,779 --> 00:05:43,210
only the data we are interested in and

00:05:40,629 --> 00:05:46,110
with this openlayers thing we are able

00:05:43,210 --> 00:05:48,339
to just put another layer on the bap

00:05:46,110 --> 00:05:55,110
which can be switched on and off

00:05:48,339 --> 00:05:58,870
actually which shows our data and to

00:05:55,110 --> 00:06:05,259
generate this we need of course I'm

00:05:58,870 --> 00:06:07,180
software and this is mostly database

00:06:05,259 --> 00:06:13,210
which is actually a Postgres database

00:06:07,180 --> 00:06:15,819
which provides offers some extensions

00:06:13,210 --> 00:06:22,000
for geographical data then called post

00:06:15,819 --> 00:06:23,919
keys so besides the normal select stuff

00:06:22,000 --> 00:06:26,710
you usually have any database you can

00:06:23,919 --> 00:06:30,750
even it still select but it even

00:06:26,710 --> 00:06:34,449
supports functions where you can get

00:06:30,750 --> 00:06:35,620
data in a specific circle around your

00:06:34,449 --> 00:06:38,500
location

00:06:35,620 --> 00:06:46,630
and all that transformation stuff you

00:06:38,500 --> 00:06:51,430
need for for geographic data and this is

00:06:46,630 --> 00:06:54,610
interesting because here it's just the

00:06:51,430 --> 00:06:57,520
right pond and this is actually not what

00:06:54,610 --> 00:07:01,720
I see here on this screen i change this

00:06:57,520 --> 00:07:04,690
bright light okay osm to pgsql is

00:07:01,720 --> 00:07:06,490
actually a script that converts the xml

00:07:04,690 --> 00:07:10,389
data from open street map because it's

00:07:06,490 --> 00:07:14,650
all XML into the database actually this

00:07:10,389 --> 00:07:19,300
is maybe even outdated script the

00:07:14,650 --> 00:07:21,430
Justice they actually several there's

00:07:19,300 --> 00:07:26,199
also one called osmosis which is a bit

00:07:21,430 --> 00:07:27,729
little bit better and you need something

00:07:26,199 --> 00:07:31,570
that converts this stuff from the

00:07:27,729 --> 00:07:37,900
database into actually graphics and this

00:07:31,570 --> 00:07:40,800
is the mat lake rendering engine that

00:07:37,900 --> 00:07:46,930
makes from the data the actual graphics

00:07:40,800 --> 00:07:49,389
and there is another thing you piece of

00:07:46,930 --> 00:07:54,479
software you need which is more tile

00:07:49,389 --> 00:07:58,139
this is a petrol module actually that

00:07:54,479 --> 00:08:02,650
makes and enables rendering on demand

00:07:58,139 --> 00:08:05,470
because actually rendering the whole

00:08:02,650 --> 00:08:07,060
world is quite a lot of effort so you

00:08:05,470 --> 00:08:10,210
need a big computer for that and even

00:08:07,060 --> 00:08:15,099
more storage for it and since in the

00:08:10,210 --> 00:08:18,250
highest zoom level of openstreetmap it

00:08:15,099 --> 00:08:23,729
would be much more data than that could

00:08:18,250 --> 00:08:25,990
be rendered by the a normal web server

00:08:23,729 --> 00:08:29,560
they do this on demand because you have

00:08:25,990 --> 00:08:35,800
your screen cut out on your screen that

00:08:29,560 --> 00:08:38,740
maybe needs let's say 16 or 20 tiles to

00:08:35,800 --> 00:08:40,570
actually show then these and in the

00:08:38,740 --> 00:08:47,020
highest zoom right these are rendered on

00:08:40,570 --> 00:08:48,970
demand using mod tile and here comes our

00:08:47,020 --> 00:08:52,959
good old opensuse builder

00:08:48,970 --> 00:08:58,120
in we have a project there which is

00:08:52,959 --> 00:09:02,040
called application GU that actually

00:08:58,120 --> 00:09:05,829
contains really most of the important

00:09:02,040 --> 00:09:09,129
programs for geographical stuff so all

00:09:05,829 --> 00:09:11,949
the things i mentioned before actually

00:09:09,129 --> 00:09:14,740
readily packaged in this project so it's

00:09:11,949 --> 00:09:22,290
easy to install them on opensuse oops

00:09:14,740 --> 00:09:31,089
I'm a little bit too early for that now

00:09:22,290 --> 00:09:35,170
that's my fact yeah that means be really

00:09:31,089 --> 00:09:36,819
flexible in setting up new machines for

00:09:35,170 --> 00:09:45,850
that so it's something I actually

00:09:36,819 --> 00:09:48,610
already did so it's really only a matter

00:09:45,850 --> 00:09:50,230
of just may be tweaking the

00:09:48,610 --> 00:09:53,800
configuration of it of course what you

00:09:50,230 --> 00:09:55,750
need to get our opens our open fire map

00:09:53,800 --> 00:09:59,470
is you have to tweak a configuration

00:09:55,750 --> 00:10:01,240
file that not the standard ethnic style

00:09:59,470 --> 00:10:05,050
is rendered but only the data we are

00:10:01,240 --> 00:10:09,069
interested in and it is actually not a

00:10:05,050 --> 00:10:11,439
lot of effort and maybe would be a

00:10:09,069 --> 00:10:21,839
little bit lead to much to show this

00:10:11,439 --> 00:10:24,389
actually stuff here so yeah actually I'm

00:10:21,839 --> 00:10:30,189
right now really open for questions

00:10:24,389 --> 00:10:34,360
about this you can ask me more about it

00:10:30,189 --> 00:10:40,329
if you are interested in maybe also

00:10:34,360 --> 00:10:42,459
rendering your own stuff no even they

00:10:40,329 --> 00:10:48,279
also in the fire start net that's the

00:10:42,459 --> 00:10:52,420
fire we need this only microphone how

00:10:48,279 --> 00:10:56,500
many of people are included in that

00:10:52,420 --> 00:10:57,450
project of yours is is it just you going

00:10:56,500 --> 00:11:00,360
around and

00:10:57,450 --> 00:11:02,480
in culture okay yeah this is it may be

00:11:00,360 --> 00:11:07,260
something I did not really mention it is

00:11:02,480 --> 00:11:10,260
in this this project mostly consists of

00:11:07,260 --> 00:11:14,700
the rendering of all this stuff because

00:11:10,260 --> 00:11:16,380
it's not really useful that some random

00:11:14,700 --> 00:11:19,440
guys are walking around in mapping

00:11:16,380 --> 00:11:21,990
hydrants because this is really only

00:11:19,440 --> 00:11:25,530
useful if the local fire department

00:11:21,990 --> 00:11:27,930
really wants to use this so the best

00:11:25,530 --> 00:11:30,240
thing is if really the local fire

00:11:27,930 --> 00:11:32,160
department people walk around or not

00:11:30,240 --> 00:11:34,950
even walk around so they actually mostly

00:11:32,160 --> 00:11:37,920
have a map they transfer this into

00:11:34,950 --> 00:11:42,150
openstreetmap and even care for this

00:11:37,920 --> 00:11:44,940
because it's of course not really good

00:11:42,150 --> 00:11:46,980
if someone that has no clue about this

00:11:44,940 --> 00:11:51,930
somehow changes some data that is maybe

00:11:46,980 --> 00:11:55,260
important for them so one next next

00:11:51,930 --> 00:12:01,350
thing we still don't have but we want to

00:11:55,260 --> 00:12:04,860
do is also kind of tracking of changes

00:12:01,350 --> 00:12:06,630
in the local area interested in be for

00:12:04,860 --> 00:12:10,610
our department are only responsible for

00:12:06,630 --> 00:12:13,170
our local village so we really have a

00:12:10,610 --> 00:12:16,350
defined number of vibrance to care for

00:12:13,170 --> 00:12:24,780
and we also want to monitor them if they

00:12:16,350 --> 00:12:26,940
are changed and so yeah basically it's

00:12:24,780 --> 00:12:33,720
not necessary that anyone works around

00:12:26,940 --> 00:12:38,160
and maps fire hydrants how many towns

00:12:33,720 --> 00:12:40,620
are included in this project it's a

00:12:38,160 --> 00:12:43,620
growing number it's we are not really

00:12:40,620 --> 00:12:46,560
aware of the official fire departments

00:12:43,620 --> 00:12:50,160
who care for that but they are about so

00:12:46,560 --> 00:12:53,240
far worldwide about 200,000 hydroids map

00:12:50,160 --> 00:12:59,700
which is actually not really much but I

00:12:53,240 --> 00:13:01,560
know about yeah 10 to 15 fire

00:12:59,700 --> 00:13:03,780
departments in Germany who really use

00:13:01,560 --> 00:13:08,190
open fire map for their own fire

00:13:03,780 --> 00:13:09,780
department and get newer as we as I

00:13:08,190 --> 00:13:11,010
already said we just provide the

00:13:09,780 --> 00:13:13,080
infrastructure so if you

00:13:11,010 --> 00:13:15,660
I know fire department just start

00:13:13,080 --> 00:13:18,210
mapping and you will see your data and

00:13:15,660 --> 00:13:20,610
the OpenStreetMap man can print it or

00:13:18,210 --> 00:13:22,080
whatever do it with that what I even

00:13:20,610 --> 00:13:27,510
forgot to mention is we even have a

00:13:22,080 --> 00:13:31,770
mobile web page for that so it also

00:13:27,510 --> 00:13:33,420
supports the geolocation stuff so if

00:13:31,770 --> 00:13:35,430
you're standing somewhere with you

00:13:33,420 --> 00:13:40,170
mobile you press the locate button you

00:13:35,430 --> 00:13:46,770
see where you are and see the hyphens

00:13:40,170 --> 00:13:48,330
around so you're just rendering the

00:13:46,770 --> 00:13:51,180
overlay layer you're still using the

00:13:48,330 --> 00:13:52,680
standard base map yeah okay I say could

00:13:51,180 --> 00:13:54,300
you give us any more because I've looked

00:13:52,680 --> 00:13:56,160
at doing this and gone all there's lots

00:13:54,300 --> 00:13:57,870
of map generation software and there's

00:13:56,160 --> 00:14:01,170
lots of tile cash software and there's

00:13:57,870 --> 00:14:03,510
lots of things and I never get managed

00:14:01,170 --> 00:14:06,420
to work out exactly what I had to do to

00:14:03,510 --> 00:14:08,730
set up and configure an arranged and

00:14:06,420 --> 00:14:09,870
what was good and what was bad and so if

00:14:08,730 --> 00:14:11,040
you've already worked all that out if

00:14:09,870 --> 00:14:13,760
you could just tell us that would be

00:14:11,040 --> 00:14:17,010
great yeah more details on the actual

00:14:13,760 --> 00:14:18,630
what you need on your server what you

00:14:17,010 --> 00:14:21,810
tried what worked or didn't actually

00:14:18,630 --> 00:14:25,380
it's what do you need depends a bit on

00:14:21,810 --> 00:14:27,000
what you want to do if you in our

00:14:25,380 --> 00:14:29,250
example we want to just have a web page

00:14:27,000 --> 00:14:32,340
so we are rendering tasks that are just

00:14:29,250 --> 00:14:35,040
good for web browsers and if you want a

00:14:32,340 --> 00:14:38,970
printout map or even in vector format

00:14:35,040 --> 00:14:43,500
there are much better solution like

00:14:38,970 --> 00:14:45,930
these packages I mentioned for example

00:14:43,500 --> 00:14:50,400
there's this tidal mill this is a

00:14:45,930 --> 00:14:52,530
project I think it's even from a company

00:14:50,400 --> 00:14:54,420
but it's open source and it's based on

00:14:52,530 --> 00:14:56,220
no chairs this is actually the only

00:14:54,420 --> 00:14:58,440
thing we not really have properly

00:14:56,220 --> 00:15:01,860
packaged in the build service because no

00:14:58,440 --> 00:15:06,030
chairs based things are really

00:15:01,860 --> 00:15:09,390
incredible incredibly hard to package so

00:15:06,030 --> 00:15:11,640
and with time I'll it's easy to also

00:15:09,390 --> 00:15:14,580
create this special interest map and

00:15:11,640 --> 00:15:21,240
these are better for a printout actually

00:15:14,580 --> 00:15:22,700
I I it it's needs to data a lot of

00:15:21,240 --> 00:15:27,910
details so i can maybe

00:15:22,700 --> 00:15:31,670
you tell you later how to really do this

00:15:27,910 --> 00:15:38,570
but is there may be a wiki page that you

00:15:31,670 --> 00:15:40,430
can okay don't date directly and fire

00:15:38,570 --> 00:15:44,210
open fire map Deloitte which is the

00:15:40,430 --> 00:15:47,210
webpage I also did not mention yet there

00:15:44,210 --> 00:15:49,460
is on the bottom there's a link to the

00:15:47,210 --> 00:15:51,800
OpenStreetMap wiki and the OpenStreetMap

00:15:49,460 --> 00:15:55,220
wiki we have a wiki page that explains

00:15:51,800 --> 00:15:59,300
all the text you need and how they are

00:15:55,220 --> 00:16:03,770
rendered and even support a little bit

00:15:59,300 --> 00:16:11,240
how to ya find out the right data you

00:16:03,770 --> 00:16:15,730
need for that so just search for open

00:16:11,240 --> 00:16:20,780
fire Melvin and the OpenStreetMap Vicki

00:16:15,730 --> 00:16:24,470
so far since it is mostly we have mostly

00:16:20,780 --> 00:16:27,740
contributors from Germany it's there is

00:16:24,470 --> 00:16:30,230
of course English page but they somehow

00:16:27,740 --> 00:16:33,020
at some point in time always differ from

00:16:30,230 --> 00:16:35,330
the german one and we have to track the

00:16:33,020 --> 00:16:44,720
new stuff is mostly in German and I

00:16:35,330 --> 00:16:46,630
translate this then mostly to English so

00:16:44,720 --> 00:16:50,060
when I thought about this the whole

00:16:46,630 --> 00:16:51,650
little jpg squares pre-rendered things

00:16:50,060 --> 00:16:54,080
it seems a bit of a daft way of doing

00:16:51,650 --> 00:16:56,600
maps why are we still doing that I'm not

00:16:54,080 --> 00:16:58,250
just using vector data and sensible

00:16:56,600 --> 00:17:02,300
clients is there a reason why that

00:16:58,250 --> 00:17:06,440
doesn't work the point is and this is

00:17:02,300 --> 00:17:10,839
yeah there as I mentioned two hundred

00:17:06,440 --> 00:17:14,089
thousand it's not that much but in a

00:17:10,839 --> 00:17:16,220
actually I tried also doing this in a

00:17:14,089 --> 00:17:19,520
vector basis so have points of interest

00:17:16,220 --> 00:17:21,589
in the map but if you zoom out and you

00:17:19,520 --> 00:17:24,130
cover a large area for example in the

00:17:21,589 --> 00:17:26,360
city of Munich there's every other

00:17:24,130 --> 00:17:30,350
hundreds of hi friends and even

00:17:26,360 --> 00:17:32,660
thousands then your web browser starts

00:17:30,350 --> 00:17:35,460
really getting slow with a lot of these

00:17:32,660 --> 00:17:40,679
single dots and for the

00:17:35,460 --> 00:17:43,320
um white zoom levels so the without

00:17:40,679 --> 00:17:46,140
covering a lot of area we prefer these

00:17:43,320 --> 00:17:47,880
tiles well then zooming into the high

00:17:46,140 --> 00:17:52,409
zoom levels they only have a small area

00:17:47,880 --> 00:17:57,120
then I even I already have vector data

00:17:52,409 --> 00:17:59,220
also if you have a map generalization

00:17:57,120 --> 00:18:00,990
problem which I guess who's the curse

00:17:59,220 --> 00:18:02,850
but still that could be done with vector

00:18:00,990 --> 00:18:04,799
data it's just the client being less

00:18:02,850 --> 00:18:06,950
stupid as you say if it just renders

00:18:04,799 --> 00:18:11,940
exactly the same size blob every scale

00:18:06,950 --> 00:18:13,020
that's really dumb it is yeah and I find

00:18:11,940 --> 00:18:15,630
it hard to believe we're still doing

00:18:13,020 --> 00:18:18,740
this ten years later but i'm quite sure

00:18:15,630 --> 00:18:23,370
we won't because I'm I already tried to

00:18:18,740 --> 00:18:25,830
use these postgis functions to

00:18:23,370 --> 00:18:30,480
generalize the data bit so if i zoom out

00:18:25,830 --> 00:18:34,289
I don't give all the Hydrans to the

00:18:30,480 --> 00:18:36,299
browser but only maybe a number but this

00:18:34,289 --> 00:18:39,470
is something I work on and still did not

00:18:36,299 --> 00:18:39,470
finish in for a while

00:18:46,620 --> 00:18:52,110
so they're half an hour is nearly over

00:18:53,520 --> 00:18:59,460

YouTube URL: https://www.youtube.com/watch?v=umhE1yzyimQ


