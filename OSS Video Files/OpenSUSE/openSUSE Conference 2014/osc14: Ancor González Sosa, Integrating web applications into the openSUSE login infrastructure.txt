Title: osc14: Ancor GonzÃ¡lez Sosa, Integrating web applications into the openSUSE login infrastructure
Publication date: 2014-04-26
Playlist: openSUSE Conference 2014
Description: 
	Every member of the openSUSE community has a single identity that can be used to log into every openSUSE web-based service: from OBS to the forums, from the Wiki to Connect, from Lizards to infinity and beyond. This is possible thanks to the deployment of a technology called NetIQ Access Manager. This talk will provide an overview of this technology and the different existing alternatives to integrate a web application into the openSUSE Single Sign on system, with specific solutions for Ruby on Rails and Perl applications and generic mechanism that can be used for any web technology out there.
Captions: 
	00:00:03,950 --> 00:00:13,830
okay let's see if somebody else comes

00:00:06,540 --> 00:00:17,130
him yeah leave the door open so in any

00:00:13,830 --> 00:00:20,460
case welcome my name is ankur I work in

00:00:17,130 --> 00:00:23,130
the open to setting at susa and as the

00:00:20,460 --> 00:00:25,650
title suggests i want to explain how you

00:00:23,130 --> 00:00:28,619
can integrate your own web application

00:00:25,650 --> 00:00:32,550
into the opensuse login infrastructure

00:00:28,619 --> 00:00:34,829
as you may know every member of the

00:00:32,550 --> 00:00:37,440
OpenSocial community have a username and

00:00:34,829 --> 00:00:40,469
password that can be used to logging in

00:00:37,440 --> 00:00:43,340
to any of the services in the

00:00:40,469 --> 00:00:47,309
infrastructure from obvious to connect

00:00:43,340 --> 00:00:49,469
bugzilla the wiki everything so I will

00:00:47,309 --> 00:00:51,600
briefly explain how this system works

00:00:49,469 --> 00:00:55,309
and the options you have you want to add

00:00:51,600 --> 00:00:59,340
another piece to this big picture so

00:00:55,309 --> 00:01:02,430
first I will describe the system that is

00:00:59,340 --> 00:01:04,470
that holds everything and then we will

00:01:02,430 --> 00:01:06,150
describe the two main alternatives you

00:01:04,470 --> 00:01:08,880
have if you want to integrate another

00:01:06,150 --> 00:01:12,150
application and finally I will present

00:01:08,880 --> 00:01:16,439
you a specific tool for rails developers

00:01:12,150 --> 00:01:18,180
that makes everything even easier so the

00:01:16,439 --> 00:01:21,150
central piece of the log in

00:01:18,180 --> 00:01:24,090
infrastructure in in the opensuse dark

00:01:21,150 --> 00:01:27,060
were is called is a piece of software

00:01:24,090 --> 00:01:29,070
called net IQ access manager that used

00:01:27,060 --> 00:01:32,640
to be called novel access manager that

00:01:29,070 --> 00:01:34,610
used to be called a chain I'm quite all

00:01:32,640 --> 00:01:38,189
the school regarding names I still

00:01:34,610 --> 00:01:41,009
called Prince to that finger or KDE to

00:01:38,189 --> 00:01:42,570
plasma desktop whatever so I will

00:01:41,009 --> 00:01:45,899
probably say I changed several times

00:01:42,570 --> 00:01:48,950
during during the presentation but this

00:01:45,899 --> 00:01:52,710
really awesome piece of software that is

00:01:48,950 --> 00:01:54,810
quite flexible and powerful and allow

00:01:52,710 --> 00:01:57,649
system administer and provides a lot of

00:01:54,810 --> 00:01:59,909
features to system administrators like

00:01:57,649 --> 00:02:02,790
vpm management and these kind of things

00:01:59,909 --> 00:02:05,790
and it also provides a single sign-on

00:02:02,790 --> 00:02:08,580
system so all the services in your

00:02:05,790 --> 00:02:13,090
infrastructure sir a common user name

00:02:08,580 --> 00:02:14,970
and password so the users can log in

00:02:13,090 --> 00:02:17,980
always the same they always see the same

00:02:14,970 --> 00:02:20,470
feel the same and your application

00:02:17,980 --> 00:02:22,569
doesn't have to care about passwords and

00:02:20,470 --> 00:02:25,629
you don't have to store your password in

00:02:22,569 --> 00:02:27,790
any of your applications or not even

00:02:25,629 --> 00:02:31,120
have to care about the authentication

00:02:27,790 --> 00:02:33,819
mechanism is used today's it's just the

00:02:31,120 --> 00:02:36,819
password maybe tomorrow is a chip under

00:02:33,819 --> 00:02:38,950
the skin whatever it doesn't matter your

00:02:36,819 --> 00:02:41,860
application simply rely on the single

00:02:38,950 --> 00:02:43,650
sign-on system and your application can

00:02:41,860 --> 00:02:46,299
be sure that it's working and it's

00:02:43,650 --> 00:02:48,750
always the same for your users and it

00:02:46,299 --> 00:02:51,610
also provides some Federation

00:02:48,750 --> 00:02:53,940
capabilities using standards like salmon

00:02:51,610 --> 00:02:57,130
or open ID so you can integrate

00:02:53,940 --> 00:03:00,310
third-party applications outside of the

00:02:57,130 --> 00:03:03,370
infrastructure itself with your user

00:03:00,310 --> 00:03:08,079
base database in the case of opensuse or

00:03:03,370 --> 00:03:10,120
you can use open ID or you can go one

00:03:08,079 --> 00:03:13,299
step further and really host your

00:03:10,120 --> 00:03:15,400
application inside the infrastructure so

00:03:13,299 --> 00:03:16,900
you can use the authentication proxy

00:03:15,400 --> 00:03:19,090
that will give you some extra

00:03:16,900 --> 00:03:21,010
capabilities that we will see so the

00:03:19,090 --> 00:03:27,639
first option is what is used for example

00:03:21,010 --> 00:03:30,700
in open QA I don't know if you know it

00:03:27,639 --> 00:03:33,549
but when when you register a new user in

00:03:30,700 --> 00:03:36,849
opensuse ork you get for the included in

00:03:33,549 --> 00:03:39,760
the price you get an open IV identity

00:03:36,849 --> 00:03:43,780
that you can use to login in any side

00:03:39,760 --> 00:03:48,730
that use open ID so for example i'm

00:03:43,780 --> 00:03:51,519
uncle GS in opensuse and i'm open to

00:03:48,730 --> 00:03:55,930
sell out or as less open ID as last user

00:03:51,519 --> 00:03:58,750
/ uncle yes worldwide so this long ID is

00:03:55,930 --> 00:04:01,120
my open ID i dented and i can use it to

00:03:58,750 --> 00:04:05,319
logging also in several places that are

00:04:01,120 --> 00:04:07,239
not strictly open suicides so how these

00:04:05,319 --> 00:04:09,880
things work is quite as straightforward

00:04:07,239 --> 00:04:11,950
because it doesn't matter in which

00:04:09,880 --> 00:04:14,349
language are you implementing your web

00:04:11,950 --> 00:04:17,079
application you can be sure that there

00:04:14,349 --> 00:04:19,479
is a library a component a plug-in some

00:04:17,079 --> 00:04:23,620
sure to make it work as a kinetic

00:04:19,479 --> 00:04:25,570
consumer so the user is doing whatever

00:04:23,620 --> 00:04:26,980
sing in your application and then he

00:04:25,570 --> 00:04:29,860
clicks logging

00:04:26,980 --> 00:04:32,230
he gets redirected to the standard login

00:04:29,860 --> 00:04:35,020
form for the open source applications

00:04:32,230 --> 00:04:37,780
even the URL will change it will not be

00:04:35,020 --> 00:04:40,270
your replication dot your domain that

00:04:37,780 --> 00:04:43,210
whatever it will be open suse dark so

00:04:40,270 --> 00:04:44,950
the user can be sure that is in an open

00:04:43,210 --> 00:04:47,620
source is high he will enter his

00:04:44,950 --> 00:04:50,680
credentials and then the provider will

00:04:47,620 --> 00:04:54,010
ask him okay you are being looking into

00:04:50,680 --> 00:04:57,730
whatever do whatever do you want this

00:04:54,010 --> 00:05:00,040
login to be actively ones or for the

00:04:57,730 --> 00:05:03,490
full day or forever whatever he will

00:05:00,040 --> 00:05:07,450
choose and will be redirected to your

00:05:03,490 --> 00:05:10,840
page again and he's already looking it's

00:05:07,450 --> 00:05:12,520
how open airy works in from a user

00:05:10,840 --> 00:05:14,410
perspective there's a lot of things

00:05:12,520 --> 00:05:15,820
happening under the hood but we don't

00:05:14,410 --> 00:05:18,090
really care and you don't really care

00:05:15,820 --> 00:05:21,700
because almost for sure you will use a

00:05:18,090 --> 00:05:24,700
library is what we did in for example in

00:05:21,700 --> 00:05:28,450
up in QA in case you didn't attend to

00:05:24,700 --> 00:05:32,800
the top yesterday open QA is all paired

00:05:28,450 --> 00:05:35,230
code so we use net open ID consumer with

00:05:32,800 --> 00:05:39,070
this library the typical library for

00:05:35,230 --> 00:05:42,190
doing these kind of things impaired this

00:05:39,070 --> 00:05:46,300
method is quite convenient because it's

00:05:42,190 --> 00:05:49,270
very easy to implement but the user is

00:05:46,300 --> 00:05:51,250
it have some drawbacks that the user is

00:05:49,270 --> 00:05:54,880
redirected to open Suzanne back to your

00:05:51,250 --> 00:05:56,200
application mmm but but is quite a

00:05:54,880 --> 00:05:58,390
straightforward you don't have to

00:05:56,200 --> 00:06:00,250
coordinate yourself with the admin team

00:05:58,390 --> 00:06:03,520
that means you see that is what you will

00:06:00,250 --> 00:06:05,500
need to do if you use the more advanced

00:06:03,520 --> 00:06:07,480
solution goodies really hosting your

00:06:05,500 --> 00:06:10,320
application in the infrastructure of

00:06:07,480 --> 00:06:13,330
Fabian Suzy and then you will get

00:06:10,320 --> 00:06:17,650
authentication for free the that mean

00:06:13,330 --> 00:06:22,180
team will will configure eight login

00:06:17,650 --> 00:06:24,190
proxy for you so the user will simple is

00:06:22,180 --> 00:06:26,620
what is happening for example in build

00:06:24,190 --> 00:06:28,840
that opensuse dork the user simply

00:06:26,620 --> 00:06:30,940
visits build that opens to the park and

00:06:28,840 --> 00:06:33,040
log in there and do everything there and

00:06:30,940 --> 00:06:35,230
never have the perception of being

00:06:33,040 --> 00:06:38,170
logged in by an external system or

00:06:35,230 --> 00:06:41,680
nothing like that but in fact there is a

00:06:38,170 --> 00:06:44,860
proxy in the middle with is injecting

00:06:41,680 --> 00:06:46,660
some hitters to the requester the wind

00:06:44,860 --> 00:06:48,760
service get the requests from the user

00:06:46,660 --> 00:06:51,280
with some added hitters that are

00:06:48,760 --> 00:06:54,400
indebted in this magic square that you

00:06:51,280 --> 00:06:56,290
see in this light and it will taste like

00:06:54,400 --> 00:06:59,830
this proxy takes care of the

00:06:56,290 --> 00:07:02,230
authentication and it also provides some

00:06:59,830 --> 00:07:05,110
additional URLs so your application will

00:07:02,230 --> 00:07:07,510
be whatever that opens to the arc and

00:07:05,110 --> 00:07:11,860
will have whatever the opensuse or as

00:07:07,510 --> 00:07:13,960
less is a ICS logging that looks like

00:07:11,860 --> 00:07:16,210
looks like this your application but

00:07:13,960 --> 00:07:18,550
it's not is the authentication process

00:07:16,210 --> 00:07:22,440
managing everything so what do you have

00:07:18,550 --> 00:07:24,960
to do application site it's quite easy

00:07:22,440 --> 00:07:28,720
you already have to check if there is a

00:07:24,960 --> 00:07:32,020
hitter they're called usually call HTTP

00:07:28,720 --> 00:07:34,180
x user name the name called chain

00:07:32,020 --> 00:07:36,670
because it's something that the

00:07:34,180 --> 00:07:38,830
admitting can come few but it will

00:07:36,670 --> 00:07:41,200
probably be this in any case they will

00:07:38,830 --> 00:07:44,710
tell you if they change it so if this

00:07:41,200 --> 00:07:48,190
hitter is not there or is blank nobody's

00:07:44,710 --> 00:07:50,230
looking if somebody is there will be a

00:07:48,190 --> 00:07:53,800
username there that's all you have to

00:07:50,230 --> 00:07:55,540
know you can trust that is properly

00:07:53,800 --> 00:07:58,000
locked in with a password and everything

00:07:55,540 --> 00:08:01,960
and in addition you have another here

00:07:58,000 --> 00:08:04,000
with the email in case you need it for

00:08:01,960 --> 00:08:07,270
logging in and logging out it also

00:08:04,000 --> 00:08:11,590
provides you some those two extras URLs

00:08:07,270 --> 00:08:14,530
so the first one if you hit it by get

00:08:11,590 --> 00:08:17,260
will show you the standard login form so

00:08:14,530 --> 00:08:19,930
you don't even need to create your own

00:08:17,260 --> 00:08:21,490
login phone but it will look like the

00:08:19,930 --> 00:08:24,040
standard world like if you were using

00:08:21,490 --> 00:08:26,650
opinion I edit the URL will be for your

00:08:24,040 --> 00:08:28,780
application but it will look like the

00:08:26,650 --> 00:08:32,860
standard front of the Susa and you have

00:08:28,780 --> 00:08:34,840
the other URL for logging out but if you

00:08:32,860 --> 00:08:36,520
still want to have your own logging

00:08:34,840 --> 00:08:39,040
looking like you're the rest of your

00:08:36,520 --> 00:08:44,320
page it's very easy you simply have to

00:08:39,040 --> 00:08:47,500
to create a forum that points to ICS

00:08:44,320 --> 00:08:49,630
logging out up but using post like

00:08:47,500 --> 00:08:51,700
method and you only need the username

00:08:49,630 --> 00:08:53,140
and the password with exactly those

00:08:51,700 --> 00:08:56,470
names username and password

00:08:53,140 --> 00:09:01,030
in the form and it will work and you

00:08:56,470 --> 00:09:05,680
need also three and extra heat input

00:09:01,030 --> 00:09:09,070
that are hidden one is URL to tell the

00:09:05,680 --> 00:09:11,320
login proxy where she he ready Rex the

00:09:09,070 --> 00:09:12,490
user after log inning because it's

00:09:11,320 --> 00:09:16,060
something specific to your application

00:09:12,490 --> 00:09:17,650
for example you can do whatever in the

00:09:16,060 --> 00:09:20,740
application but at some point you need

00:09:17,650 --> 00:09:22,540
to provide credentials and once you have

00:09:20,740 --> 00:09:26,560
done it you're right elected back to the

00:09:22,540 --> 00:09:30,100
point where you were before so this is

00:09:26,560 --> 00:09:33,250
you will pass this as a hidden as a

00:09:30,100 --> 00:09:34,930
heating element in in the form and and

00:09:33,250 --> 00:09:36,370
you have also contact and proxy pass

00:09:34,930 --> 00:09:38,350
that all will have this value if

00:09:36,370 --> 00:09:40,930
something changed that mean team will

00:09:38,350 --> 00:09:43,660
tell you what it usually simply context

00:09:40,930 --> 00:09:48,760
default proxy pass rivers and that's all

00:09:43,660 --> 00:09:51,550
you need to do application side after

00:09:48,760 --> 00:09:53,110
the the admin thing having configured

00:09:51,550 --> 00:09:57,490
everything twin to read your application

00:09:53,110 --> 00:10:00,010
but even if it's too much for you do if

00:09:57,490 --> 00:10:03,430
you are a rails developer you can simply

00:10:00,010 --> 00:10:06,070
use Davis I thing authenticated all this

00:10:03,430 --> 00:10:08,980
again we created for our own research

00:10:06,070 --> 00:10:11,110
and if you are writing a rails

00:10:08,980 --> 00:10:13,800
application most likely you will be

00:10:11,110 --> 00:10:16,810
already using the v's for authentication

00:10:13,800 --> 00:10:19,630
then add everything you need the login

00:10:16,810 --> 00:10:22,540
the phones and everything for any kind

00:10:19,630 --> 00:10:25,510
of Mecca names there is already database

00:10:22,540 --> 00:10:28,540
authenticate table module for having the

00:10:25,510 --> 00:10:31,570
users story in your database or open IV

00:10:28,540 --> 00:10:34,630
out etiquette evil and so on so this

00:10:31,570 --> 00:10:39,130
plug-in will add two more specific for a

00:10:34,630 --> 00:10:42,010
chain that are compatible with the with

00:10:39,130 --> 00:10:44,710
the other modules provided by the gem so

00:10:42,010 --> 00:10:47,050
you can have an application that in

00:10:44,710 --> 00:10:49,180
which you can log in with a name with a

00:10:47,050 --> 00:10:50,860
username that is really store in the

00:10:49,180 --> 00:10:54,070
application itself and the password is a

00:10:50,860 --> 00:10:57,310
store in application itself and enable

00:10:54,070 --> 00:11:01,990
also been log it with opensuse users you

00:10:57,310 --> 00:11:03,970
can combine both and it will do all you

00:11:01,990 --> 00:11:06,380
expect from the beasts

00:11:03,970 --> 00:11:08,450
plugging with is having all the forms

00:11:06,380 --> 00:11:11,480
you need all the helpers you need for

00:11:08,450 --> 00:11:15,529
the URLs and everything and it will also

00:11:11,480 --> 00:11:17,230
have a true test mode because you

00:11:15,529 --> 00:11:19,220
usually don't have the proxy

00:11:17,230 --> 00:11:21,860
authentication proxy when you are

00:11:19,220 --> 00:11:23,959
working on your own machine and of

00:11:21,860 --> 00:11:27,100
course you don't usually don't develop

00:11:23,959 --> 00:11:29,779
directly on the production server so

00:11:27,100 --> 00:11:32,300
when you are working in your machine on

00:11:29,779 --> 00:11:35,269
your test system you have two

00:11:32,300 --> 00:11:38,329
possibilities of configuring the data's

00:11:35,269 --> 00:11:43,100
mode depending of your needs that's your

00:11:38,329 --> 00:11:46,209
feet mostly anybody so for having all

00:11:43,100 --> 00:11:49,399
these for free all you have to do is at

00:11:46,209 --> 00:11:52,459
11 line and one method to your rails

00:11:49,399 --> 00:11:54,980
user model is called to the Beast saying

00:11:52,459 --> 00:11:56,660
that you want to use the gem of course

00:11:54,980 --> 00:11:59,540
you have to put the yam in the gem file

00:11:56,660 --> 00:12:02,089
and then just one single metal code

00:11:59,540 --> 00:12:04,820
called as a class method called I change

00:12:02,089 --> 00:12:08,120
user name for a change username to map

00:12:04,820 --> 00:12:11,510
your user object that represents your

00:12:08,120 --> 00:12:13,730
user in your logic could be an active

00:12:11,510 --> 00:12:16,279
record of the other could be any other

00:12:13,730 --> 00:12:19,670
senior using wherever just a fake

00:12:16,279 --> 00:12:21,769
object so it will it is method will map

00:12:19,670 --> 00:12:24,260
the username you are reading from the

00:12:21,769 --> 00:12:26,540
authentication proxy with the real user

00:12:24,260 --> 00:12:29,000
you have in your application and that's

00:12:26,540 --> 00:12:32,209
all so it's three four lines of codes

00:12:29,000 --> 00:12:35,390
and you and you're down there are some

00:12:32,209 --> 00:12:37,720
real work samples the application or

00:12:35,390 --> 00:12:41,180
pages that are using this game already

00:12:37,720 --> 00:12:45,050
the most prominent one means the

00:12:41,180 --> 00:12:48,470
traveler program application the as I

00:12:45,050 --> 00:12:50,660
said used in combination with the

00:12:48,470 --> 00:12:53,510
classical Davies database authentic a

00:12:50,660 --> 00:12:56,390
table so not in our production server

00:12:53,510 --> 00:12:58,519
because we only want opensuse members to

00:12:56,390 --> 00:13:00,889
open to the community members to apply

00:12:58,519 --> 00:13:02,389
for travel support but if you installed

00:13:00,889 --> 00:13:05,120
application in your own system you can

00:13:02,389 --> 00:13:07,819
have both type of user at the same time

00:13:05,120 --> 00:13:11,660
and wow it's also using the hug week

00:13:07,819 --> 00:13:13,730
plate that is a more stable stay forward

00:13:11,660 --> 00:13:16,339
example very simple but is using the

00:13:13,730 --> 00:13:19,200
game also so you can also check there

00:13:16,339 --> 00:13:22,470
yeah that's mainly all I wanted to say

00:13:19,200 --> 00:13:25,890
in fact so you have any question just

00:13:22,470 --> 00:13:27,959
ping me yes raise your hand if you want

00:13:25,890 --> 00:13:30,510
to sit down now on hack a plug-in for

00:13:27,959 --> 00:13:32,430
any other system I think that they will

00:13:30,510 --> 00:13:37,820
not take us more than an hour so feel

00:13:32,430 --> 00:13:37,820
free so time for questions you have some

00:13:43,590 --> 00:13:48,530

YouTube URL: https://www.youtube.com/watch?v=dtY9yW9DZKY


