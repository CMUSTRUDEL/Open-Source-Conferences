Title: Michal Hrušecký: Turris Omnia
Publication date: 2016-06-26
Playlist: openSUSE Conference 2016
Description: 
	https://media.ccc.de/v/774-turris-omnia

CZ.NIC is working hard on releasing their new router called Turris Omnia. It is open source and open hardware, high-performance ARM box that can become the central server of your home as it can actually do much more than just routing. Why is it interesting? What can it do? Can it run openSUSE? All of that and more will be the topic of this talk.

Michal Hrušecký
Captions: 
	00:00:08,040 --> 00:00:14,530
hi everybody thank you for staying to

00:00:11,770 --> 00:00:18,580
the last session my name is Michael jet

00:00:14,530 --> 00:00:22,330
ski and I'm going to talk about open

00:00:18,580 --> 00:00:26,500
source router that we make in Czech

00:00:22,330 --> 00:00:29,829
Republic I would start because we are

00:00:26,500 --> 00:00:32,940
here in foreign country with a little

00:00:29,829 --> 00:00:35,579
bit introducing company I work for now

00:00:32,940 --> 00:00:40,270
we are pretty known in Czech Republic

00:00:35,579 --> 00:00:43,540
because we are check top-level domain

00:00:40,270 --> 00:00:46,270
regístrate we are legally some

00:00:43,540 --> 00:00:51,040
association that we are mostly operated

00:00:46,270 --> 00:00:55,720
like non-profit and we are getting money

00:00:51,040 --> 00:00:57,720
from Czech domain registrations and we

00:00:55,720 --> 00:01:03,760
are spending all this money to improve

00:00:57,720 --> 00:01:07,950
internet and work in general so what do

00:01:03,760 --> 00:01:11,079
we do apart from domains we do some

00:01:07,950 --> 00:01:13,600
Internet routing demon that is powering

00:01:11,079 --> 00:01:20,290
quite some peering centers around the

00:01:13,600 --> 00:01:24,190
world we develop dns server be published

00:01:20,290 --> 00:01:27,330
books regarding ipv6 so we translate

00:01:24,190 --> 00:01:29,229
pearl get we have a book about

00:01:27,330 --> 00:01:34,900
LibreOffice writer that we are

00:01:29,229 --> 00:01:38,860
publishing and we even made TV series

00:01:34,900 --> 00:01:44,250
about how end users should work with

00:01:38,860 --> 00:01:48,040
internet about importance of HTTPS and

00:01:44,250 --> 00:01:50,020
by how they should pick up the password

00:01:48,040 --> 00:01:53,580
and stuff like that and it was running

00:01:50,020 --> 00:01:59,200
in check TV after mainly new serration

00:01:53,580 --> 00:02:02,950
mainly news so we are trying to do good

00:01:59,200 --> 00:02:05,170
and one of the things that we did most

00:02:02,950 --> 00:02:07,760
project called stories this was our

00:02:05,170 --> 00:02:11,150
first three after that we got

00:02:07,760 --> 00:02:14,420
and I would like to speak a little bit

00:02:11,150 --> 00:02:22,490
about the router that we made before

00:02:14,420 --> 00:02:29,030
omnia it was PowerPC it had two gigabit

00:02:22,490 --> 00:02:33,400
two gigabytes of RAM it has 250 megs of

00:02:29,030 --> 00:02:36,950
storage which if you compare it to the

00:02:33,400 --> 00:02:41,210
typical roaster that you get in grocery

00:02:36,950 --> 00:02:44,420
store you usually get something like 30

00:02:41,210 --> 00:02:47,240
to megs of ram and if you are lucky 8

00:02:44,420 --> 00:02:51,050
mix of storage so this was pretty

00:02:47,240 --> 00:02:55,060
powerful machine and it was given to

00:02:51,050 --> 00:02:58,580
citizens of Czech Republic for free if

00:02:55,060 --> 00:03:04,010
they sign the contract and that contract

00:02:58,580 --> 00:03:07,160
said that Widow spy on them the idea

00:03:04,010 --> 00:03:11,000
behind that was we were monitoring the

00:03:07,160 --> 00:03:13,880
traffic that they were generating and we

00:03:11,000 --> 00:03:16,220
were looking for some anomalies so we

00:03:13,880 --> 00:03:19,640
would find if they were participating in

00:03:16,220 --> 00:03:21,709
some d dos or something like that if

00:03:19,640 --> 00:03:24,890
they were distributing some forms if

00:03:21,709 --> 00:03:27,590
they had infected computers that were

00:03:24,890 --> 00:03:34,480
spreading diseases around the internet

00:03:27,590 --> 00:03:42,290
and this Raptors also had also were

00:03:34,480 --> 00:03:45,920
endpoints of our central honeypot so we

00:03:42,290 --> 00:03:48,580
get people attacking end users attacking

00:03:45,920 --> 00:03:52,850
their routers trying to get inside and

00:03:48,580 --> 00:03:55,550
if this attacker attacked like three

00:03:52,850 --> 00:03:58,330
routers that we know about these rafters

00:03:55,550 --> 00:04:01,760
complained to our central server and

00:03:58,330 --> 00:04:04,340
this Center servers send warning to all

00:04:01,760 --> 00:04:07,489
the other routers so this attacker was

00:04:04,340 --> 00:04:12,910
known to be a bad guy and nobody let him

00:04:07,489 --> 00:04:15,160
in anymore so that's what we did and

00:04:12,910 --> 00:04:18,829
quite some people like the router

00:04:15,160 --> 00:04:20,820
because as you see it's quite powerful

00:04:18,829 --> 00:04:24,090
machine and it's a

00:04:20,820 --> 00:04:27,500
use it before quite a lot of more than

00:04:24,090 --> 00:04:32,040
just routing and providing Wi-Fi at home

00:04:27,500 --> 00:04:34,470
I have even picture of it I took a

00:04:32,040 --> 00:04:36,540
picture without the cover because I know

00:04:34,470 --> 00:04:39,570
you are all geeks so you are not

00:04:36,540 --> 00:04:41,520
interested in how we have a nice blue

00:04:39,570 --> 00:04:45,150
color but you are interested in the

00:04:41,520 --> 00:04:49,230
internals right so plenty of people are

00:04:45,150 --> 00:04:50,400
interested in this router and when my

00:04:49,230 --> 00:04:53,100
colleagues were speaking at some

00:04:50,400 --> 00:04:56,280
conferences always somebody asked then

00:04:53,100 --> 00:04:58,470
hey we want this we want to buy it sell

00:04:56,280 --> 00:05:00,240
it to us and we were saying now it's

00:04:58,470 --> 00:05:05,220
part of the research project we are

00:05:00,240 --> 00:05:07,410
doing we are trying to improve security

00:05:05,220 --> 00:05:12,180
we are trying to catch bad guys and

00:05:07,410 --> 00:05:14,340
basically it was financed from money

00:05:12,180 --> 00:05:16,590
that we got for check domains so it

00:05:14,340 --> 00:05:20,640
wasn't kind of fair to give it to

00:05:16,590 --> 00:05:27,360
foreigners so we came up with a new

00:05:20,640 --> 00:05:32,340
project that was called twist omnia it's

00:05:27,360 --> 00:05:35,850
a core router it's again open source and

00:05:32,340 --> 00:05:39,600
open hardware we kind of focus on

00:05:35,850 --> 00:05:42,000
security we have automatic updates we

00:05:39,600 --> 00:05:44,370
are doing security updates of packages

00:05:42,000 --> 00:05:46,620
that are integrated in the router and

00:05:44,370 --> 00:05:50,370
these updates get automatically

00:05:46,620 --> 00:05:53,280
installed so you can put your router in

00:05:50,370 --> 00:05:56,460
the in New York corner in back of your

00:05:53,280 --> 00:05:58,560
corner somewhere in your house and do

00:05:56,460 --> 00:06:01,260
not attend it but it will get all the

00:05:58,560 --> 00:06:06,150
security fixes and it will be still

00:06:01,260 --> 00:06:09,360
secure and it can do much more than just

00:06:06,150 --> 00:06:13,050
the router it can became server that you

00:06:09,360 --> 00:06:15,210
have at home it is quite expensive oh it

00:06:13,050 --> 00:06:18,210
is even more powerful than original

00:06:15,210 --> 00:06:22,170
router and it is actually something that

00:06:18,210 --> 00:06:25,200
you can finally buy and although spying

00:06:22,170 --> 00:06:28,409
is optional so you don't have to let us

00:06:25,200 --> 00:06:35,759
spy on you but if you would like to

00:06:28,409 --> 00:06:37,709
yes you can obtain and let us use data

00:06:35,759 --> 00:06:45,389
about your attackers to protect

00:06:37,709 --> 00:06:48,599
everybody else so it started when we

00:06:45,389 --> 00:06:50,339
started we did IndieGoGo campaign to

00:06:48,599 --> 00:06:53,339
figure out how many people were

00:06:50,339 --> 00:06:55,110
interested because basically we knew

00:06:53,339 --> 00:06:58,279
that the unconference is people approach

00:06:55,110 --> 00:07:02,639
us and would like to have such a router

00:06:58,279 --> 00:07:05,099
but yeah is there is there reason to

00:07:02,639 --> 00:07:07,969
actually manufacture it so we set up

00:07:05,099 --> 00:07:11,729
pretty low expectation something like

00:07:07,969 --> 00:07:16,669
100,000 US dollars and we managed to get

00:07:11,729 --> 00:07:19,979
it in one day and since then it was

00:07:16,669 --> 00:07:22,199
getting more and more popular nowadays

00:07:19,979 --> 00:07:25,889
there is more than 1 million u.s.

00:07:22,199 --> 00:07:29,909
dollars we sold more than 4,000 of these

00:07:25,889 --> 00:07:32,929
routers and hopefully we will start

00:07:29,909 --> 00:07:37,740
shipping them soon there was one issue

00:07:32,929 --> 00:07:39,539
we were we before we start before we

00:07:37,740 --> 00:07:44,969
started the campaign we knew what we had

00:07:39,539 --> 00:07:46,889
what we would have to do and we had

00:07:44,969 --> 00:07:49,800
everything prepared and then we found

00:07:46,889 --> 00:07:53,069
out that when we asked our manufacturer

00:07:49,800 --> 00:07:57,629
of PCB to make them that they didn't

00:07:53,069 --> 00:08:00,899
make them quite ok and they made them

00:07:57,629 --> 00:08:04,739
late and they were broken and we had to

00:08:00,899 --> 00:08:09,179
switch to different provider and he

00:08:04,739 --> 00:08:11,339
didn't managed again and last news is

00:08:09,179 --> 00:08:16,139
that we found the provided that almost

00:08:11,339 --> 00:08:18,749
managed they just made some pass to wide

00:08:16,139 --> 00:08:20,849
or too narrow I admit I'm not a

00:08:18,749 --> 00:08:24,719
electrical guy so I don't understand

00:08:20,849 --> 00:08:27,569
that but my colleagues explain me that

00:08:24,719 --> 00:08:30,839
there are some high frequency stuff and

00:08:27,569 --> 00:08:33,360
if you make it to vite or too narrow

00:08:30,839 --> 00:08:37,570
there will be some interferences and

00:08:33,360 --> 00:08:43,000
whatever well reason the result was

00:08:37,570 --> 00:08:45,340
that our gigabit lan port wasn't as

00:08:43,000 --> 00:08:48,400
reliable as we would like and we are

00:08:45,340 --> 00:08:50,410
getting some errors but it looks

00:08:48,400 --> 00:08:53,320
promising because that was the only

00:08:50,410 --> 00:08:57,580
error and the manufacturer promise that

00:08:53,320 --> 00:09:02,680
they can fix that they can make more

00:08:57,580 --> 00:09:04,780
control and make it correctly and new

00:09:02,680 --> 00:09:08,880
prototypes should be arriving pretty

00:09:04,780 --> 00:09:13,930
soon so if they arrive and we'll be okay

00:09:08,880 --> 00:09:17,500
we will start manufacturing finally but

00:09:13,930 --> 00:09:21,580
yeah the problem is that every try takes

00:09:17,500 --> 00:09:24,970
several weeks so it got it got us a

00:09:21,580 --> 00:09:29,170
little bit delight I'm sorry for that if

00:09:24,970 --> 00:09:39,040
you bought our outer we are sorry but

00:09:29,170 --> 00:09:46,650
don't worry we will deliver so what will

00:09:39,040 --> 00:09:49,720
you get it's a MV 72 core 1.6 gigahertz

00:09:46,650 --> 00:09:52,840
we have to ryans you can buy with it

00:09:49,720 --> 00:09:58,560
with either one gigabyte of ram or two

00:09:52,840 --> 00:10:03,870
gigabytes we have 80 gigabytes of now

00:09:58,560 --> 00:10:08,440
emmc we have three gigabit ports on top

00:10:03,870 --> 00:10:11,860
one is dedicated to 12 are put inside

00:10:08,440 --> 00:10:16,060
the LAN Network we have a manageable

00:10:11,860 --> 00:10:20,230
switch that can understand bill and we

00:10:16,060 --> 00:10:24,340
have sfp so if you have a fiber at home

00:10:20,230 --> 00:10:28,510
you can use our router we have a mini PC

00:10:24,340 --> 00:10:31,150
eyes and well we have three mini pc is

00:10:28,510 --> 00:10:35,260
and one is switchable between mini PCI

00:10:31,150 --> 00:10:38,230
mode and msata so if eight gigs of

00:10:35,260 --> 00:10:42,750
storage is not enough you could put SSD

00:10:38,230 --> 00:10:46,630
inside and use it as a as a server and

00:10:42,750 --> 00:10:49,620
we have two USB trees if you want to

00:10:46,630 --> 00:10:54,270
extend it a little bit more

00:10:49,620 --> 00:10:59,640
this is a picture of one of the latest

00:10:54,270 --> 00:10:59,640
boards one of our latest prototypes and

00:11:00,750 --> 00:11:13,270
yeah it's a Borg little bit about the

00:11:09,670 --> 00:11:17,170
network how it works as I said we have

00:11:13,270 --> 00:11:21,250
three gigabit ports on SOC then we have

00:11:17,170 --> 00:11:25,750
a switch chip which goes to the all the

00:11:21,250 --> 00:11:27,970
LAN ports that are behind the router two

00:11:25,750 --> 00:11:30,370
of the gigabit ports goes to the switch

00:11:27,970 --> 00:11:33,670
ship as well and you can configure it

00:11:30,370 --> 00:11:38,160
any way you want and then we have a one

00:11:33,670 --> 00:11:41,650
port that is dedicated to one and

00:11:38,160 --> 00:11:46,830
basically to get your internet and there

00:11:41,650 --> 00:11:51,900
is either classical ethernet metallic or

00:11:46,830 --> 00:11:56,490
sfp and yeah you can put fiber in there

00:11:51,900 --> 00:12:00,370
now this one is just switchable if you

00:11:56,490 --> 00:12:04,060
don't have anything in SF p it will use

00:12:00,370 --> 00:12:07,390
classical ethernet cable if you have a

00:12:04,060 --> 00:12:16,930
if you put in SF b it will switch off

00:12:07,390 --> 00:12:20,290
plastic metallic 1 and use sfp this is

00:12:16,930 --> 00:12:26,740
how you can configure in web UI the

00:12:20,290 --> 00:12:37,050
switch it actually can do violent so you

00:12:26,740 --> 00:12:41,710
can use the report that was shown here

00:12:37,050 --> 00:12:45,700
you can attach those internal SOC ports

00:12:41,710 --> 00:12:52,360
to whichever external port you want or

00:12:45,700 --> 00:12:56,100
you can even set up external ports as a

00:12:52,360 --> 00:13:00,279
tact to some villain and then connect

00:12:56,100 --> 00:13:03,519
drunk to your SOC and manage it by a

00:13:00,279 --> 00:13:06,760
software inside or you can dedicate one

00:13:03,519 --> 00:13:09,130
part two we lent rank and distribute

00:13:06,760 --> 00:13:16,269
your more complicated network set up

00:13:09,130 --> 00:13:20,230
somewhere as I said it's quite

00:13:16,269 --> 00:13:24,300
extensible we have USBS that you can

00:13:20,230 --> 00:13:28,390
attach pretty much anything nowadays to

00:13:24,300 --> 00:13:30,970
we have three mini pc is also plenty of

00:13:28,390 --> 00:13:33,730
stuff that can be attached to it one of

00:13:30,970 --> 00:13:39,490
the thing that we actually sell as an

00:13:33,730 --> 00:13:42,550
accessory is SATA controller with that

00:13:39,490 --> 00:13:47,950
you can connect external more hard

00:13:42,550 --> 00:13:50,829
drives too we have some gpios on on the

00:13:47,950 --> 00:13:56,050
header inside inside we have i square

00:13:50,829 --> 00:13:59,649
see spi you are and we have three point

00:13:56,050 --> 00:14:02,649
three five and twelve volts power out so

00:13:59,649 --> 00:14:07,600
you can power up the hard drives that

00:14:02,649 --> 00:14:13,620
you attach to it now let me go back to

00:14:07,600 --> 00:14:18,220
the picture so here's the power out and

00:14:13,620 --> 00:14:23,490
here is the connector which is gpios and

00:14:18,220 --> 00:14:28,990
here is the rest of the stuff I have a

00:14:23,490 --> 00:14:37,690
better picture so SBI part I square C

00:14:28,990 --> 00:14:42,640
and gpios so that's one part about the

00:14:37,690 --> 00:14:44,880
hardware one of the there is one more

00:14:42,640 --> 00:14:50,470
cool thing that I would like to stress

00:14:44,880 --> 00:14:56,589
we have RGB LEDs you can see them

00:14:50,470 --> 00:14:59,070
blinking here here they are do just a gb

00:14:56,589 --> 00:15:03,069
but they are completely configurable so

00:14:59,070 --> 00:15:04,520
you can set up any color you want they

00:15:03,069 --> 00:15:09,380
can be pink

00:15:04,520 --> 00:15:12,290
our Scion or whatever you can set up

00:15:09,380 --> 00:15:14,930
them individually you can configure the

00:15:12,290 --> 00:15:18,260
color intensity what they are triggering

00:15:14,930 --> 00:15:21,940
we originally have a configuration tool

00:15:18,260 --> 00:15:24,520
that we used on the altar routers but

00:15:21,940 --> 00:15:27,260
last week one of my colleagues

00:15:24,520 --> 00:15:31,430
integrated them into kernels only they

00:15:27,260 --> 00:15:35,870
are now accessible to normal let

00:15:31,430 --> 00:15:39,700
subsystem in kernel so you can do pretty

00:15:35,870 --> 00:15:44,980
much anything with them and it's fun we

00:15:39,700 --> 00:15:52,430
know and they are kinda handy sometimes

00:15:44,980 --> 00:15:55,520
now let's so get to software we are

00:15:52,430 --> 00:15:59,240
shipping it with open wrt as it is a

00:15:55,520 --> 00:16:03,050
router so in open wrt there's plenty of

00:15:59,240 --> 00:16:08,210
stuff that is already set in a

00:16:03,050 --> 00:16:13,460
user-friendly way there is a web UI

00:16:08,210 --> 00:16:15,920
called Lucy that allows you to manage

00:16:13,460 --> 00:16:21,320
pretty much anything regarding your

00:16:15,920 --> 00:16:24,740
network we wrote our simplified UI for

00:16:21,320 --> 00:16:27,500
beginners because yeah it's nice that

00:16:24,740 --> 00:16:31,250
you can set up multiple Wi-Fi networks

00:16:27,500 --> 00:16:36,110
and connect them over bridges and stuff

00:16:31,250 --> 00:16:41,690
but if you are home user and beginner

00:16:36,110 --> 00:16:44,900
you get easily lost in all those options

00:16:41,690 --> 00:16:46,910
so we have a first first-round

00:16:44,900 --> 00:16:51,730
configuration wizard that will guide you

00:16:46,910 --> 00:16:57,440
to the typical setup that you might need

00:16:51,730 --> 00:17:01,430
then obviously it so as it's running

00:16:57,440 --> 00:17:05,810
Linux you have ssh so you can ssh to a

00:17:01,430 --> 00:17:10,810
raptor and set up everything to ssh we

00:17:05,810 --> 00:17:16,460
are delivering it with Colonel 4.4 but

00:17:10,810 --> 00:17:21,200
in general there is nothing really

00:17:16,460 --> 00:17:25,520
depending on this budget colonel we had

00:17:21,200 --> 00:17:30,350
a dress fiber installing opensuse on it

00:17:25,520 --> 00:17:35,350
using Linux next and it mostly worked

00:17:30,350 --> 00:17:40,610
apart from setting up the switches and

00:17:35,350 --> 00:17:43,700
switching sfp and and that well for for

00:17:40,610 --> 00:17:48,890
SF switching between sfp and metallic

00:17:43,700 --> 00:17:55,610
you need some control over it but in

00:17:48,890 --> 00:17:58,790
general linux next works you boot we

00:17:55,610 --> 00:18:01,790
have we are using Marvel one with some

00:17:58,790 --> 00:18:05,360
patches we know that this could be

00:18:01,790 --> 00:18:07,640
improved but hopefully over the time we

00:18:05,360 --> 00:18:09,530
will get to the state that you could use

00:18:07,640 --> 00:18:13,250
the one in our control and vinay are you

00:18:09,530 --> 00:18:17,060
boot and everything we have is installed

00:18:13,250 --> 00:18:22,970
on top of butter FS and we are using

00:18:17,060 --> 00:18:28,460
snapshots as is as you might be used to

00:18:22,970 --> 00:18:30,440
doing in opensuse already and most of

00:18:28,460 --> 00:18:35,810
the changes that we had to do to open

00:18:30,440 --> 00:18:39,860
wrt are regarding the update because if

00:18:35,810 --> 00:18:42,500
you know open wrt usually you build

00:18:39,860 --> 00:18:46,400
heavily compressed small image that you

00:18:42,500 --> 00:18:49,520
can flesh inside that eight max of flash

00:18:46,400 --> 00:18:51,890
storage that you get but as we have

00:18:49,520 --> 00:18:55,550
plenty of space we are installing

00:18:51,890 --> 00:18:59,380
individual packages and we are updating

00:18:55,550 --> 00:19:02,780
as any normal linux distribution and

00:18:59,380 --> 00:19:05,060
yeah there were some cases that we hit

00:19:02,780 --> 00:19:07,790
that we're not that was supported by

00:19:05,060 --> 00:19:10,140
open ability so our patches to open up

00:19:07,790 --> 00:19:13,170
reality are mainly regarding that

00:19:10,140 --> 00:19:20,040
and we are trying to contribute upstream

00:19:13,170 --> 00:19:23,160
as much as possible now one cool thing

00:19:20,040 --> 00:19:29,970
that I would like to mention is how to

00:19:23,160 --> 00:19:33,120
do factory reset we have reservation and

00:19:29,970 --> 00:19:35,700
the longer you press it the more LEDs

00:19:33,120 --> 00:19:38,100
will power on and you can actually

00:19:35,700 --> 00:19:42,300
select between different types of facto

00:19:38,100 --> 00:19:44,280
a set you will start if you press it for

00:19:42,300 --> 00:19:47,670
short while you will do just normal

00:19:44,280 --> 00:19:51,000
asset if you press it longer it will

00:19:47,670 --> 00:19:56,340
just return one snapshot back because

00:19:51,000 --> 00:19:58,530
yay we have battery FS factory reset is

00:19:56,340 --> 00:20:02,460
basically just returning to the first

00:19:58,530 --> 00:20:06,150
snapshot that is there we also added

00:20:02,460 --> 00:20:09,060
support for flashing system from USB if

00:20:06,150 --> 00:20:13,700
you manage to break your batter FS then

00:20:09,060 --> 00:20:19,800
you wait for enough LEDs to shine to

00:20:13,700 --> 00:20:24,360
actually flesh new system and format

00:20:19,800 --> 00:20:30,570
butter FS and yeah you can recover using

00:20:24,360 --> 00:20:32,670
USB or if you manage to break it and you

00:20:30,570 --> 00:20:37,710
want to take a look there is a serial

00:20:32,670 --> 00:20:40,200
console port and if you press reset

00:20:37,710 --> 00:20:43,320
button long enough you will end up in

00:20:40,200 --> 00:20:46,080
recovery system and you can investigate

00:20:43,320 --> 00:20:48,750
what went wrong go through your

00:20:46,080 --> 00:20:53,130
snapshots that you have and choose what

00:20:48,750 --> 00:20:56,550
you want to restore to also if you

00:20:53,130 --> 00:21:00,000
manage to break recovery system or you

00:20:56,550 --> 00:21:03,330
boot you can boot up even over the

00:21:00,000 --> 00:21:06,810
serial console you can send you built

00:21:03,330 --> 00:21:11,370
inside buta buta boot and then we are

00:21:06,810 --> 00:21:14,190
you boot boot from network the colonel

00:21:11,370 --> 00:21:17,070
and it's really hard to break it

00:21:14,190 --> 00:21:20,840
completely there's plenty of option how

00:21:17,070 --> 00:21:20,840
to recover if you play with it

00:21:22,559 --> 00:21:28,960
so as we are using a lot of snapshots we

00:21:27,190 --> 00:21:30,700
found out that it would be quite handy

00:21:28,960 --> 00:21:35,049
to have some tool to manage the

00:21:30,700 --> 00:21:39,429
snapshots so we had to in the end we

00:21:35,049 --> 00:21:44,080
wrote one very simple one we call it

00:21:39,429 --> 00:21:47,230
snaps and it can do all the basic

00:21:44,080 --> 00:21:50,140
operations like show you what snapshots

00:21:47,230 --> 00:21:53,919
you have create new snapshot roll back

00:21:50,140 --> 00:21:55,960
to the snapshots and do some comparison

00:21:53,919 --> 00:22:00,010
between them so you find out what you

00:21:55,960 --> 00:22:05,799
did and you don't have to roll back you

00:22:00,010 --> 00:22:10,809
can just change some stuff apart from

00:22:05,799 --> 00:22:15,280
that you probably heard about Alexei

00:22:10,809 --> 00:22:21,130
about containers it's a simple method

00:22:15,280 --> 00:22:25,270
for virtualization and yeah it uses SI

00:22:21,130 --> 00:22:29,230
group namespaces and you can run virtual

00:22:25,270 --> 00:22:32,559
system this virtual system can have its

00:22:29,230 --> 00:22:35,679
own network interface which can be

00:22:32,559 --> 00:22:37,870
connected to some bridge and this so to

00:22:35,679 --> 00:22:40,240
actually already has a bridge if you

00:22:37,870 --> 00:22:44,860
boot it up for the first time between

00:22:40,240 --> 00:22:48,600
the two internal gigabit ports that are

00:22:44,860 --> 00:22:53,080
connected to lan and Wi-Fi so you can

00:22:48,600 --> 00:22:54,880
easily when you run virtual machine you

00:22:53,080 --> 00:22:56,559
can connect it just to this bridge and

00:22:54,880 --> 00:23:00,900
you have another computer on your

00:22:56,559 --> 00:23:07,289
network and it has the advantage that

00:23:00,900 --> 00:23:12,520
you are sharing operating memory so it's

00:23:07,289 --> 00:23:16,590
much less yeah it takes much less

00:23:12,520 --> 00:23:16,590
resources than full virtualization and

00:23:17,460 --> 00:23:23,650
yeah we have support for that and

00:23:19,720 --> 00:23:26,830
actually there is a nice application in

00:23:23,650 --> 00:23:30,879
Lucy so you can set it up over the web

00:23:26,830 --> 00:23:34,759
interface this is how it looks like

00:23:30,879 --> 00:23:37,059
you get a list of your running

00:23:34,759 --> 00:23:41,019
containers you can start them stop them

00:23:37,059 --> 00:23:45,499
somehow modify them or you can basically

00:23:41,019 --> 00:23:51,350
download from some template new

00:23:45,499 --> 00:23:55,610
container make it run and yeah you get

00:23:51,350 --> 00:23:59,779
you can get your opensuse inside the

00:23:55,610 --> 00:24:03,049
container quite easily and this way you

00:23:59,779 --> 00:24:07,549
get both all the managing capabilities

00:24:03,049 --> 00:24:09,889
of open wrt and all the bells and

00:24:07,549 --> 00:24:12,139
whistles from the real distribution with

00:24:09,889 --> 00:24:22,850
all the packages that we have in

00:24:12,139 --> 00:24:25,580
opensuse not stripped down right now one

00:24:22,850 --> 00:24:29,929
thing that people sometimes ask is about

00:24:25,580 --> 00:24:32,389
a central management some expensive

00:24:29,929 --> 00:24:35,360
routers some relatives for companies

00:24:32,389 --> 00:24:38,990
have this feature it basically is that

00:24:35,360 --> 00:24:41,990
you have a one router that rose all the

00:24:38,990 --> 00:24:46,610
other routers so you have one web UI

00:24:41,990 --> 00:24:48,649
where you can set up all the routers

00:24:46,610 --> 00:24:50,860
that you have deployed for example on

00:24:48,649 --> 00:24:54,019
conference side or in the company

00:24:50,860 --> 00:24:57,139
sometimes they provide even Android

00:24:54,019 --> 00:24:59,960
application or you set it up we are some

00:24:57,139 --> 00:25:02,749
cloud and all your rotors that you have

00:24:59,960 --> 00:25:04,940
in your company connects to some website

00:25:02,749 --> 00:25:07,789
somewhere in China and download what

00:25:04,940 --> 00:25:12,470
they should do and how they should be

00:25:07,789 --> 00:25:17,869
set up so it can be quite useful so how

00:25:12,470 --> 00:25:22,159
can you do that in our outer well if you

00:25:17,869 --> 00:25:26,450
think about it our outer is just a cool

00:25:22,159 --> 00:25:30,080
linux server so you can use for example

00:25:26,450 --> 00:25:32,990
on simple you can deploy SSH keys to

00:25:30,080 --> 00:25:34,250
your router and connect to all your

00:25:32,990 --> 00:25:37,730
routers

00:25:34,250 --> 00:25:41,630
and set set it up as you want for

00:25:37,730 --> 00:25:44,630
antibodies you see i'ma do you see I is

00:25:41,630 --> 00:25:49,310
the configuration type that is used by

00:25:44,630 --> 00:25:54,260
open wrt and it makes it kind of easy to

00:25:49,310 --> 00:25:57,200
do stuff and set it up I know that on

00:25:54,260 --> 00:26:02,540
this conference you heard a lot about

00:25:57,200 --> 00:26:04,850
South stack I admit that I haven't

00:26:02,540 --> 00:26:08,600
played with Celtic yet but I plan to do

00:26:04,850 --> 00:26:11,060
that once i get home because yeah

00:26:08,600 --> 00:26:14,570
learning curve was little bit steeper

00:26:11,060 --> 00:26:27,310
than on simple so I've oh I plan to try

00:26:14,570 --> 00:26:32,210
it afterwards so that's basically it now

00:26:27,310 --> 00:26:37,820
what else is there I just learned today

00:26:32,210 --> 00:26:42,620
that one guy that was using it installed

00:26:37,820 --> 00:26:45,200
GPS insight into mini PCI slot I didn't

00:26:42,620 --> 00:26:49,610
thought that it's possible or that it

00:26:45,200 --> 00:26:54,410
might make sense but obviously it makes

00:26:49,610 --> 00:26:59,720
sense for some people as I said that we

00:26:54,410 --> 00:27:04,060
are making NASA perk or accessory which

00:26:59,720 --> 00:27:09,740
adds SATA controller and bigger box and

00:27:04,060 --> 00:27:14,270
you can put 2 3.5 inch drives inside you

00:27:09,740 --> 00:27:18,310
can create a rate and you can even

00:27:14,270 --> 00:27:21,830
encrypt your hard drives this myro

00:27:18,310 --> 00:27:27,250
armada has a hardware acceleration for

00:27:21,830 --> 00:27:32,420
encryption so it can be even quite fast

00:27:27,250 --> 00:27:36,350
you can do tour gateway if your local

00:27:32,420 --> 00:27:38,100
government supports censorship like in

00:27:36,350 --> 00:27:41,610
Czech Republic

00:27:38,100 --> 00:27:46,980
and you can do separate Wi-Fi for your

00:27:41,610 --> 00:27:51,240
guests you can do pretty much anything

00:27:46,980 --> 00:27:55,230
because we have gpios so you can do some

00:27:51,240 --> 00:27:59,340
electric fans or whatever and yeah you

00:27:55,230 --> 00:28:03,020
can think about probably some more crazy

00:27:59,340 --> 00:28:05,640
ideas what to do as I said till today I

00:28:03,020 --> 00:28:12,000
didn't even think about putting GPS

00:28:05,640 --> 00:28:16,380
inside so yeah whatever you want right

00:28:12,000 --> 00:28:24,320
play with it and that's all I have

00:28:16,380 --> 00:28:24,320
prepared now questions do you have some

00:28:33,519 --> 00:28:40,669
you have been dunking about two about

00:28:36,950 --> 00:28:43,249
Lucy and about the deployment of changes

00:28:40,669 --> 00:28:45,379
too many servers is it possible to

00:28:43,249 --> 00:28:51,830
create something like we have out I

00:28:45,379 --> 00:28:57,889
asked so make out to Lucy ok I'll to see

00:28:51,830 --> 00:29:01,159
I don't think so but we have snapshots

00:28:57,889 --> 00:29:03,080
so when you install your router and you

00:29:01,159 --> 00:29:06,529
are happy with the configuration you can

00:29:03,080 --> 00:29:09,139
just create a snapshot and then if you

00:29:06,529 --> 00:29:11,059
need to reinstall you instead of range

00:29:09,139 --> 00:29:20,929
telling you can get back to the snapshot

00:29:11,059 --> 00:29:25,309
oh yeah about preparing multiple

00:29:20,929 --> 00:29:29,779
installations yeah we don't have that

00:29:25,309 --> 00:29:34,759
per se but you can install basically

00:29:29,779 --> 00:29:38,269
system from the USB we are this long

00:29:34,759 --> 00:29:42,379
factoria set and it basically uses just

00:29:38,269 --> 00:29:45,340
the tarball of the system so that should

00:29:42,379 --> 00:29:49,879
be one way to do it other way is

00:29:45,340 --> 00:30:00,919
orchestration yeah we don't have

00:29:49,879 --> 00:30:03,559
anything fancier other questions so

00:30:00,919 --> 00:30:06,529
first of all I'm a bit outside of the

00:30:03,559 --> 00:30:08,929
actual rot router business so my

00:30:06,529 --> 00:30:11,570
question may sound a bit noobish but i

00:30:08,929 --> 00:30:14,600
will ask it anyway so that the question

00:30:11,570 --> 00:30:17,029
is the following a router is pretty much

00:30:14,600 --> 00:30:18,859
an end consumer device it's a

00:30:17,029 --> 00:30:24,889
specialized device you get it and you

00:30:18,859 --> 00:30:27,320
well expect it to do tricks i get i get

00:30:24,889 --> 00:30:30,440
the extensibility that's really great

00:30:27,320 --> 00:30:33,379
for you have on this slide but maybe you

00:30:30,440 --> 00:30:36,379
need to think about presenting it to the

00:30:33,379 --> 00:30:37,530
end user so have something like a web

00:30:36,379 --> 00:30:41,250
foundry where

00:30:37,530 --> 00:30:46,290
you can get those modules and plug them

00:30:41,250 --> 00:30:50,730
in would that be something that you are

00:30:46,290 --> 00:30:53,360
planning it's a nice suggestion we

00:30:50,730 --> 00:30:58,530
currently have a forum where people

00:30:53,360 --> 00:31:02,660
exchange what they already did but yeah

00:30:58,530 --> 00:31:06,780
we are currently quite geek focused so

00:31:02,660 --> 00:31:10,470
these people tend to attend the forum

00:31:06,780 --> 00:31:13,410
and they usually are do that finding

00:31:10,470 --> 00:31:16,890
information if it is available but yeah

00:31:13,410 --> 00:31:19,530
it's a nice idea I will well currently

00:31:16,890 --> 00:31:21,990
we are trying to make everything happen

00:31:19,530 --> 00:31:25,770
ever and everything perfect before we

00:31:21,990 --> 00:31:30,000
ship it maybe later we will do something

00:31:25,770 --> 00:31:34,770
like that as you saw we already have few

00:31:30,000 --> 00:31:37,410
templates for oxy containers maybe

00:31:34,770 --> 00:31:45,150
something for Hardware would be

00:31:37,410 --> 00:31:48,510
interesting at some point well I I had

00:31:45,150 --> 00:31:52,230
more in mind like something really aunt

00:31:48,510 --> 00:31:55,680
user-specific so say you have toast

00:31:52,230 --> 00:31:59,070
gpios but what about you having an

00:31:55,680 --> 00:32:00,780
interface to stay home security or stuff

00:31:59,070 --> 00:32:04,820
like that I mean did these are the

00:32:00,780 --> 00:32:07,770
things that people will yeah for debt

00:32:04,820 --> 00:32:10,560
with the previous router we had actually

00:32:07,770 --> 00:32:16,080
cooperation with one of the local

00:32:10,560 --> 00:32:21,360
electronics manufacturer who made who

00:32:16,080 --> 00:32:25,470
made some sensors and kami Ahmad you and

00:32:21,360 --> 00:32:27,810
smoke detector and stuff like that and I

00:32:25,470 --> 00:32:31,130
heard that they are planning to do

00:32:27,810 --> 00:32:35,610
something similar with this router or

00:32:31,130 --> 00:32:37,710
not us but that they are looking forward

00:32:35,610 --> 00:32:41,880
to this router and they will offer

00:32:37,710 --> 00:32:44,550
something like that but in this regard

00:32:41,880 --> 00:32:46,590
we are more depending on third parties

00:32:44,550 --> 00:32:49,250
because yeah we are trying to make

00:32:46,590 --> 00:32:52,260
router as best as we can and

00:32:49,250 --> 00:32:55,920
hopefully there will be other people

00:32:52,260 --> 00:32:57,840
providing accessories and most ladies

00:32:55,920 --> 00:33:01,530
home automation things usually avoid

00:32:57,840 --> 00:33:05,070
that you have a quite often they are

00:33:01,530 --> 00:33:09,570
selling some i'm bored with it that has

00:33:05,070 --> 00:33:13,500
some special radio put in USB so we are

00:33:09,570 --> 00:33:15,570
the armboard and we have USB so it

00:33:13,500 --> 00:33:19,800
shouldn't be that the hearts to

00:33:15,570 --> 00:33:23,340
integrate it but hopefully some people

00:33:19,800 --> 00:33:25,410
that will work on that but we are in

00:33:23,340 --> 00:33:32,190
this regard hoping for the third parties

00:33:25,410 --> 00:33:34,460
to show up and do stuff okay anybody

00:33:32,190 --> 00:33:34,460
else

00:33:40,770 --> 00:33:45,720
I I have related question do have some

00:33:43,980 --> 00:33:51,270
plans to create some community around

00:33:45,720 --> 00:33:56,870
like to provide next cloud packages for

00:33:51,270 --> 00:34:00,810
trace or whatever well we are kinda

00:33:56,870 --> 00:34:05,520
depending for packages on upstream open

00:34:00,810 --> 00:34:10,260
wrt community and we currently have some

00:34:05,520 --> 00:34:14,399
local check committee bit uh who helps

00:34:10,260 --> 00:34:19,440
with all the routers with the testing in

00:34:14,399 --> 00:34:23,370
support hopefully we will get more

00:34:19,440 --> 00:34:25,620
people with this new router I think we

00:34:23,370 --> 00:34:29,790
already sold more than the altar of this

00:34:25,620 --> 00:34:32,610
were actually made and the app you'll

00:34:29,790 --> 00:34:34,919
see we definitely hope for to have some

00:34:32,610 --> 00:34:42,540
community but we still have to work on

00:34:34,919 --> 00:34:47,280
it a little bit thank you so any more

00:34:42,540 --> 00:34:49,350
questions now then thank you for

00:34:47,280 --> 00:34:52,830
attention and if you have more questions

00:34:49,350 --> 00:34:56,820
later I will be here and the director

00:34:52,830 --> 00:35:00,230
will be somewhere here as well so catch

00:34:56,820 --> 00:35:00,230
me later thank you

00:35:02,150 --> 00:35:04,210

YouTube URL: https://www.youtube.com/watch?v=wf9JvfF7bro


