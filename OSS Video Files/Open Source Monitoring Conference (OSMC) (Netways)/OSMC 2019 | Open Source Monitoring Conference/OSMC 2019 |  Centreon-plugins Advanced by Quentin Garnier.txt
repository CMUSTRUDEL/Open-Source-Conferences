Title: OSMC 2019 |  Centreon-plugins Advanced by Quentin Garnier
Publication date: 2019-11-18
Playlist: OSMC 2019 | Open Source Monitoring Conference
Description: 
	Centreon-plugins is a free and open source project to monitor systems. In his talk Quentin Garnier will present a short description of the project. Starting with basic examples he will then come to advanced usages like openmetrics output, password manager and many more.


NETWAYS
Konferenzen: https://www.netways.de/events
Schulungen: https://www.netways.de/schulungen
Shop: https://shop.netways.de/
Blog: http://blog.netways.de/
NWS: https://nws.netways.de

Webinare
Archiv Link: https://www.netways.de/webinare/archi...
Aktuell: https://www.netways.de/wb

Social Media
SlideShare: http://de.slideshare.net/netways
YouTube: https://www.netways.de/youtube
Facebook: https://www.facebook.com/netways
Twitter: https://twitter.com/netways
Instagram: https://www.instagram.com/netwaysgmbh/

Musik: FRAMETRAXX
Captions: 
	00:00:09,390 --> 00:00:18,669
guten tag hello I'm Quinton Gagne as you

00:00:14,140 --> 00:00:21,579
say I'm working for some company we are

00:00:18,669 --> 00:00:24,909
going to talk about some plugins it

00:00:21,579 --> 00:00:28,089
won't be a talk about sunshine at all

00:00:24,909 --> 00:00:30,699
you know we are going to talk about the

00:00:28,089 --> 00:00:36,790
props we are developing well developed

00:00:30,699 --> 00:00:40,780
for monitoring systems so it won't be a

00:00:36,790 --> 00:00:43,330
developer conference or so we only talk

00:00:40,780 --> 00:00:44,980
about some main functionality advanced

00:00:43,330 --> 00:00:49,480
fixating of sometime plugins maybe you

00:00:44,980 --> 00:00:51,360
could use for missing in can do

00:00:49,480 --> 00:00:54,660
something I don't know

00:00:51,360 --> 00:00:59,050
first we used some true plugins yeah

00:00:54,660 --> 00:01:01,300
unload some plugins and if we use

00:00:59,050 --> 00:01:06,220
interprets which system of monitoring

00:01:01,300 --> 00:01:10,030
system do you use Singha this again miss

00:01:06,220 --> 00:01:12,700
amuses okay so for some people I would

00:01:10,030 --> 00:01:15,250
talk a little become maybe we don't know

00:01:12,700 --> 00:01:19,600
the pro is a project first

00:01:15,250 --> 00:01:25,979
it's a correction of plugins you know it

00:01:19,600 --> 00:01:32,830
was the project begin in 2013 when I was

00:01:25,979 --> 00:01:35,830
at the client I was develop plug-in six

00:01:32,830 --> 00:01:38,260
years ago we are using many Berlin

00:01:35,830 --> 00:01:40,960
plugins say Caracas has excellent

00:01:38,260 --> 00:01:43,240
plugins and some other stuff we take

00:01:40,960 --> 00:01:48,040
from Nash's exchange of over platform

00:01:43,240 --> 00:01:50,710
you know for plugins and I said little

00:01:48,040 --> 00:01:53,590
fed up every time to redevelop the same

00:01:50,710 --> 00:01:56,650
plug in the same framework the same

00:01:53,590 --> 00:01:59,830
thing so I say ok I will try to do

00:01:56,650 --> 00:02:02,950
something and to use a framework to have

00:01:59,830 --> 00:02:07,060
only one correction of plug-in it was

00:02:02,950 --> 00:02:10,780
the same way to use it like I was

00:02:07,060 --> 00:02:13,330
expired by check work as from net ways

00:02:10,780 --> 00:02:15,700
it's very nice pretty nice to use it but

00:02:13,330 --> 00:02:19,000
it's force on

00:02:15,700 --> 00:02:22,209
or Raquel Network and I need something

00:02:19,000 --> 00:02:26,620
more wide for energy system some other

00:02:22,209 --> 00:02:28,900
stuff we see so what is it it's an open

00:02:26,620 --> 00:02:33,910
source project attached to the senses so

00:02:28,900 --> 00:02:36,670
you can use it from finger nodules on -

00:02:33,910 --> 00:02:39,010
munching can maybe over stop we see

00:02:36,670 --> 00:02:41,290
because we show you some functionality

00:02:39,010 --> 00:02:45,270
and maybe can give you some ideas to use

00:02:41,290 --> 00:02:47,470
it with maybe we have a telegraph

00:02:45,270 --> 00:02:51,730
conference before I maybe can be used

00:02:47,470 --> 00:02:55,060
with Telegraph you see maybe and what

00:02:51,730 --> 00:03:00,030
can we monitor we can monitor HTTP REST

00:02:55,060 --> 00:03:04,690
API mix use SQL SNMP it's very wide

00:03:00,030 --> 00:03:08,739
technology not because you can see not

00:03:04,690 --> 00:03:11,050
only IP technology because all the main

00:03:08,739 --> 00:03:15,670
project knows does between for Kafka

00:03:11,050 --> 00:03:19,690
Cassandra MongoDB everything but for old

00:03:15,670 --> 00:03:22,900
system and old legacy system we need

00:03:19,690 --> 00:03:25,720
some plugins also we don't don't need to

00:03:22,900 --> 00:03:29,860
forget them because we are some they do

00:03:25,720 --> 00:03:32,709
you again sensors all Network you stuff

00:03:29,860 --> 00:03:34,840
and that's why certain plugins can be

00:03:32,709 --> 00:03:41,590
very interesting because right now we

00:03:34,840 --> 00:03:42,910
have 400 plugins and 1900 mods I can

00:03:41,590 --> 00:03:45,489
show you what is a plug-in

00:03:42,910 --> 00:03:49,060
what is the mods because it's a mod is

00:03:45,489 --> 00:03:51,100
not only you see one metric it's not it

00:03:49,060 --> 00:03:56,590
can be very complex give you more

00:03:51,100 --> 00:03:59,079
information so we're going to see the

00:03:56,590 --> 00:04:03,239
400 plugins no I'm joking

00:03:59,079 --> 00:04:06,340
well we do the demonstration with the

00:04:03,239 --> 00:04:08,950
nitrogen will be SNMP Linux because I'm

00:04:06,340 --> 00:04:12,760
on Linux so the demonstration will be on

00:04:08,950 --> 00:04:17,310
that plugin but we can show you see if

00:04:12,760 --> 00:04:22,950
you are some stuff I can try

00:04:17,310 --> 00:04:28,630
do you see I can I can zoom

00:04:22,950 --> 00:04:31,270
see so you can go to github swappigans I

00:04:28,630 --> 00:04:31,830
think it's the first github.com sumtin

00:04:31,270 --> 00:04:35,220
sumtin

00:04:31,830 --> 00:04:38,530
search plugins you don't learn the

00:04:35,220 --> 00:04:43,240
program and you want deep it and you

00:04:38,530 --> 00:04:46,300
have the same thing than me yeah so to

00:04:43,240 --> 00:04:52,770
begin you have to choose your plugin to

00:04:46,300 --> 00:04:52,770
monitor so there's an option to maybe

00:04:57,510 --> 00:05:18,460
and to be more see and you have quite a

00:05:09,430 --> 00:05:21,040
lot plugins you see I think you can find

00:05:18,460 --> 00:05:23,020
what you need on it we are still

00:05:21,040 --> 00:05:24,780
developing some plugins you know in six

00:05:23,020 --> 00:05:27,370
years web develop for all the plugins

00:05:24,780 --> 00:05:30,250
it's me and Kenya here

00:05:27,370 --> 00:05:32,320
the main developer of the project so we

00:05:30,250 --> 00:05:34,690
doing the review of the card we need to

00:05:32,320 --> 00:05:38,440
take the pair take the contribution and

00:05:34,690 --> 00:05:40,660
we put it here so we need the help of

00:05:38,440 --> 00:05:44,410
all the community because I'm not a

00:05:40,660 --> 00:05:46,900
specialist in everything here but I try

00:05:44,410 --> 00:05:50,740
to understand what people want and I put

00:05:46,900 --> 00:05:53,800
it in some plugins so all the

00:05:50,740 --> 00:05:55,840
contribution a welcome for all the stuff

00:05:53,800 --> 00:05:57,850
we don't want on each monitor i

00:05:55,840 --> 00:06:00,700
technology but if you want to Minotaur

00:05:57,850 --> 00:06:05,770
or system and quite interesting also to

00:06:00,700 --> 00:06:11,830
see all legacy and network storage you

00:06:05,770 --> 00:06:17,550
see it's quite open launch when you find

00:06:11,830 --> 00:06:17,550
your plug-in you can use your option

00:06:18,060 --> 00:06:25,430
plug-in for somebody she use OS Linux

00:06:22,600 --> 00:06:29,880
SNMP quite simple

00:06:25,430 --> 00:06:33,750
and for each plug-in it will ask what do

00:06:29,880 --> 00:06:36,570
you want to monitor so we have an option

00:06:33,750 --> 00:06:42,480
or whether we have alt for every time

00:06:36,570 --> 00:06:48,900
and you have the capability to lists the

00:06:42,480 --> 00:06:55,560
plug-in yeah for me I will try CPU for

00:06:48,900 --> 00:06:58,350
example it's the most simple oh and we

00:06:55,560 --> 00:07:07,160
ask of course it's SNMP so he asked for

00:06:58,350 --> 00:07:12,140
my last name I have a missing agent okay

00:07:07,160 --> 00:07:16,800
and I have reviewed with some measures

00:07:12,140 --> 00:07:23,010
play games with put their data and like

00:07:16,800 --> 00:07:27,210
you know like he was in singer so that's

00:07:23,010 --> 00:07:29,730
all we used some time Prince simple but

00:07:27,210 --> 00:07:38,270
right now maybe we try to see some new

00:07:29,730 --> 00:07:43,260
stuff about it's the first one it's like

00:07:38,270 --> 00:07:47,670
as you see it's all Prague it's a

00:07:43,260 --> 00:07:50,810
project from all plugins so we used old

00:07:47,670 --> 00:07:54,360
matrix format from nodules

00:07:50,810 --> 00:07:57,060
not the open matrix in open matrix and

00:07:54,360 --> 00:08:02,250
you see sometimes we see you only get

00:07:57,060 --> 00:08:08,070
this matrix user I think you can't say

00:08:02,250 --> 00:08:12,300
what is it only with that information it

00:08:08,070 --> 00:08:16,980
can be CPU you can be the number of

00:08:12,300 --> 00:08:20,160
people on access point you so you see so

00:08:16,980 --> 00:08:24,300
right now this year we have add in

00:08:20,160 --> 00:08:29,670
social plugins a new system format you

00:08:24,300 --> 00:08:32,420
see more closer than open matrix to give

00:08:29,670 --> 00:08:35,400
more information and use certain plugins

00:08:32,420 --> 00:08:37,020
we've over system you know some

00:08:35,400 --> 00:08:38,550
supplements can be used with a single

00:08:37,020 --> 00:08:42,300
sauntering with

00:08:38,550 --> 00:08:44,340
the tool to store data but more and more

00:08:42,300 --> 00:08:48,870
people using three DB or

00:08:44,340 --> 00:08:55,730
and about csdb so in that environment or

00:08:48,870 --> 00:08:59,730
3 DB you don't get the sunshine is sigue

00:08:55,730 --> 00:09:03,260
measures or stuff cost service contexts

00:08:59,730 --> 00:09:05,970
you only get the metric context so users

00:09:03,260 --> 00:09:09,450
balloon does not give enough information

00:09:05,970 --> 00:09:12,030
from a few DB because you do that the

00:09:09,450 --> 00:09:15,450
host name and the service name in a 3 DB

00:09:12,030 --> 00:09:20,280
so we try to add more context into the

00:09:15,450 --> 00:09:23,250
path data so you see there are 400

00:09:20,280 --> 00:09:27,180
plugins and 1000 but we were trying to

00:09:23,250 --> 00:09:27,690
make right to all metrics to the new

00:09:27,180 --> 00:09:30,180
ones

00:09:27,690 --> 00:09:35,510
it takes some times because it's quite

00:09:30,180 --> 00:09:41,720
annoying to change one front end 1900

00:09:35,510 --> 00:09:47,070
codes plugins so we already know we had

00:09:41,720 --> 00:09:49,050
40 30% of new metrics on the plugins but

00:09:47,070 --> 00:09:54,600
we are doing the job to try to migrate

00:09:49,050 --> 00:09:57,930
everything and over matrix before you

00:09:54,600 --> 00:10:02,460
see you have used /or you understand

00:09:57,930 --> 00:10:07,140
it's for storage of the slash but now we

00:10:02,460 --> 00:10:11,580
have add in your new metric format we

00:10:07,140 --> 00:10:15,180
had to shark to separate the metric name

00:10:11,580 --> 00:10:19,680
from the instances like that within 3 DB

00:10:15,180 --> 00:10:23,400
you can use the table in the right way

00:10:19,680 --> 00:10:28,890
it were better metric in your storage

00:10:23,400 --> 00:10:31,980
psdb so that's the first point for any

00:10:28,890 --> 00:10:36,590
matrix format the next point for Central

00:10:31,980 --> 00:10:41,550
Provinces we also added an open matrix

00:10:36,590 --> 00:10:43,110
would put before you see we were with

00:10:41,550 --> 00:10:47,310
the natural suit put with a shot would

00:10:43,110 --> 00:10:50,580
put the pipe and the path data right now

00:10:47,310 --> 00:10:51,769
you add an option with put open matrix I

00:10:50,580 --> 00:11:10,929
couldn't see

00:10:51,769 --> 00:11:14,649
yeah if I use it see there's a new way

00:11:10,929 --> 00:11:20,110
to display information about the plugins

00:11:14,649 --> 00:11:24,829
so maybe you can use some troll plugins

00:11:20,110 --> 00:11:30,910
with the value of MIDI chewing some

00:11:24,829 --> 00:11:34,220
legacy system and to use it to give open

00:11:30,910 --> 00:11:37,009
exporter for primitives I don't know and

00:11:34,220 --> 00:11:39,350
to scrap that information from central

00:11:37,009 --> 00:11:42,259
brigands maybe I don't know it's a

00:11:39,350 --> 00:11:52,579
possibility maybe can be interesting to

00:11:42,259 --> 00:11:57,049
use it actually with that way you have

00:11:52,579 --> 00:12:04,429
only one mother at one time but I will

00:11:57,049 --> 00:12:08,629
show you how to display X mode at the

00:12:04,429 --> 00:12:12,110
same time you see this show we add a

00:12:08,629 --> 00:12:15,259
meta mode to with one coil of some

00:12:12,110 --> 00:12:19,999
plugins you can have a CPU load and

00:12:15,259 --> 00:12:23,389
storage on the same output so it can

00:12:19,999 --> 00:12:24,889
match the scene increase the information

00:12:23,389 --> 00:12:28,249
it will one coat with all the

00:12:24,889 --> 00:12:32,929
information at the same time let's see

00:12:28,249 --> 00:12:38,799
okay see the comment might want it but

00:12:32,929 --> 00:12:38,799
milky will try

00:12:46,690 --> 00:13:12,650
yes yeah you see on the same would put

00:13:05,650 --> 00:13:19,250
if in you have all information and you

00:13:12,650 --> 00:13:22,340
can of course also add open metric to

00:13:19,250 --> 00:13:25,970
have all your information at the same

00:13:22,340 --> 00:13:29,420
time in the bad format also so we can

00:13:25,970 --> 00:13:32,120
think to add for you can trade one agent

00:13:29,420 --> 00:13:36,560
with some plugins and tomato or the

00:13:32,120 --> 00:13:39,380
stuff of your Linux system and to one

00:13:36,560 --> 00:13:41,990
core to give all information in open

00:13:39,380 --> 00:13:45,140
matrix format and maybe to grab it with

00:13:41,990 --> 00:13:51,800
raw material so I don't knows another

00:13:45,140 --> 00:13:55,310
system may be Telegraph you see in SWAT

00:13:51,800 --> 00:14:01,070
for all plugins not only Linux it you

00:13:55,310 --> 00:14:02,990
can do it with a waes storage they'll be

00:14:01,070 --> 00:14:12,290
all the plugins are compatible with this

00:14:02,990 --> 00:14:16,640
system that's for for this way one other

00:14:12,290 --> 00:14:21,590
thing you can use with some pins some

00:14:16,640 --> 00:14:24,290
clients ask us to you see when you write

00:14:21,590 --> 00:14:27,740
the command line you can have some you

00:14:24,290 --> 00:14:29,420
can have some private data on the

00:14:27,740 --> 00:14:32,900
command line so some people with

00:14:29,420 --> 00:14:35,840
security can see some password system or

00:14:32,900 --> 00:14:38,450
some stuff like that directly on the

00:14:35,840 --> 00:14:42,080
command line if you do PS you can maybe

00:14:38,450 --> 00:14:44,770
grab some information some password so

00:14:42,080 --> 00:14:47,390
we had we had some option from some

00:14:44,770 --> 00:14:51,350
company for the bank or something like

00:14:47,390 --> 00:14:54,620
that the capability to get information

00:14:51,350 --> 00:14:58,959
from password manager system right now

00:14:54,620 --> 00:15:02,660
we're only two provider team pass it's

00:14:58,959 --> 00:15:05,059
it's a French system with a distant

00:15:02,660 --> 00:15:08,269
password manager with a REST API to get

00:15:05,059 --> 00:15:12,529
the information and cheap-ass more

00:15:08,269 --> 00:15:14,980
unknown it's a local program maybe you

00:15:12,529 --> 00:15:19,040
know it to put your password or

00:15:14,980 --> 00:15:23,529
information in one file so I can show

00:15:19,040 --> 00:15:35,660
you how it works so I have one cheapest

00:15:23,529 --> 00:15:36,379
yeah I put one cheap-ass ear and it

00:15:35,660 --> 00:15:39,620
varies

00:15:36,379 --> 00:15:43,930
I think it's public or private I don't

00:15:39,620 --> 00:15:48,230
remember I put the community so I would

00:15:43,930 --> 00:15:51,199
grab it but information from the file to

00:15:48,230 --> 00:15:53,540
put it in the command line directly and

00:15:51,199 --> 00:15:56,899
not type directly public or private on

00:15:53,540 --> 00:16:13,449
the command line it's a little complex

00:15:56,899 --> 00:16:17,149
so we take the command line see you have

00:16:13,449 --> 00:16:20,240
one option manager task manager system

00:16:17,149 --> 00:16:22,429
is said to do it's a key pass manager

00:16:20,240 --> 00:16:24,850
system provider because that we try to

00:16:22,429 --> 00:16:29,029
get information from zookeepers file

00:16:24,850 --> 00:16:32,809
zookeepers file zoo keepers password

00:16:29,029 --> 00:16:34,699
base option to put that in a local file

00:16:32,809 --> 00:16:38,480
directly it doesn't get the information

00:16:34,699 --> 00:16:43,579
about the file and the password of the

00:16:38,480 --> 00:16:45,709
key file and after that I will try to

00:16:43,579 --> 00:16:52,730
get the information from the Akitas you

00:16:45,709 --> 00:16:55,309
see it's little tricky it's JSON format

00:16:52,730 --> 00:17:00,139
so to get information from Jason format

00:16:55,309 --> 00:17:02,029
there is a user library which is an

00:17:00,139 --> 00:17:05,059
XPath power library

00:17:02,029 --> 00:17:08,569
it's like XML expose it can grab

00:17:05,059 --> 00:17:11,329
information from a JSON format with some

00:17:08,569 --> 00:17:11,790
sun tax specific so you need to go to

00:17:11,329 --> 00:17:14,970
the

00:17:11,790 --> 00:17:17,819
what batch of JSON exposed to know this

00:17:14,970 --> 00:17:19,799
attacks but that why you see to get from

00:17:17,819 --> 00:17:21,900
the network tighter and get the pass all

00:17:19,799 --> 00:17:24,839
and and map is option s Olympic

00:17:21,900 --> 00:17:27,900
community of shown from the information

00:17:24,839 --> 00:17:30,480
a chef before s Olympic community and

00:17:27,900 --> 00:17:33,330
when I try it's time out because I think

00:17:30,480 --> 00:17:38,809
it's private in the file and my

00:17:33,330 --> 00:17:46,559
community it's public I'll show you what

00:17:38,809 --> 00:17:53,210
it's a time out you see right here you

00:17:46,559 --> 00:18:04,350
get information so I change normally

00:17:53,210 --> 00:18:07,200
modify it to bleak see yes and if you

00:18:04,350 --> 00:18:09,690
touch file it should work you see and

00:18:07,200 --> 00:18:12,240
you grab the public information from the

00:18:09,690 --> 00:18:15,570
key file and it's working because my

00:18:12,240 --> 00:18:20,700
communities public on my server so you

00:18:15,570 --> 00:18:24,540
can imagine to use all platform as a

00:18:20,700 --> 00:18:29,669
system and to put all your password with

00:18:24,540 --> 00:18:35,460
some fragments it's possible it can be

00:18:29,669 --> 00:18:38,690
very interesting for for usage and last

00:18:35,460 --> 00:18:38,690
thing after this one

00:18:48,820 --> 00:18:58,249
and some other stuff rapidly you can use

00:18:55,659 --> 00:19:01,190
memcache and readies back in for state

00:18:58,249 --> 00:19:03,649
file because sometimes you have cache

00:19:01,190 --> 00:19:07,159
file on this PI system and you can use

00:19:03,649 --> 00:19:09,619
Redis to store the cache file distant

00:19:07,159 --> 00:19:13,789
not on the fly system locally it's

00:19:09,619 --> 00:19:15,950
possible you have a new back-end this

00:19:13,789 --> 00:19:18,879
year because before we are using for

00:19:15,950 --> 00:19:21,889
REST API with lwp

00:19:18,879 --> 00:19:25,970
per module maybe you know it's very

00:19:21,889 --> 00:19:28,220
well-known module for HTTP stuff but on

00:19:25,970 --> 00:19:31,820
central six and I said it's quite old

00:19:28,220 --> 00:19:35,539
for SSL and it can be some problem with

00:19:31,820 --> 00:19:39,470
some new HTTP server with some more

00:19:35,539 --> 00:19:41,059
pictographic and instruments so we add

00:19:39,470 --> 00:19:46,399
the possibility to use a cloud back-end

00:19:41,059 --> 00:19:48,830
and not a double WP by default so it's a

00:19:46,399 --> 00:19:50,509
capability you still with Adobe limit

00:19:48,830 --> 00:19:57,739
you guys use a curved one if you prefer

00:19:50,509 --> 00:20:00,590
it's faster also and some also some some

00:19:57,739 --> 00:20:03,529
option to change the path data some

00:20:00,590 --> 00:20:07,340
people asked us to I can I aggregate

00:20:03,529 --> 00:20:09,350
some path data to do some mathematic

00:20:07,340 --> 00:20:12,919
stuff on it directly in some plugins I

00:20:09,350 --> 00:20:14,389
was not quite interesting in the first

00:20:12,919 --> 00:20:17,389
place because I was speaking it's not

00:20:14,389 --> 00:20:19,629
the way maybe to do it and be you need

00:20:17,389 --> 00:20:22,659
to do it in single central star but I

00:20:19,629 --> 00:20:25,789
was convinced and I'll add some motion

00:20:22,659 --> 00:20:31,129
for that to change the tab data directly

00:20:25,789 --> 00:20:34,100
in social plugins and more there's more

00:20:31,129 --> 00:20:37,700
option maybe and you can find it with

00:20:34,100 --> 00:20:41,480
help option and find some maybe some

00:20:37,700 --> 00:20:47,419
stuff but not in the documentation right

00:20:41,480 --> 00:20:50,899
away okay that's all for the plugins if

00:20:47,419 --> 00:20:55,170
you have some question about maybe the

00:20:50,899 --> 00:20:59,970
feature of sort of begins maybe some

00:20:55,170 --> 00:21:06,300
if you want to use it are there any

00:20:59,970 --> 00:21:10,400
questions now then I think we can give

00:21:06,300 --> 00:21:10,400
them up what do you

00:21:11,860 --> 00:21:21,460
[Music]

00:21:25,050 --> 00:21:27,829

YouTube URL: https://www.youtube.com/watch?v=e9ZBaQ9O2K4


