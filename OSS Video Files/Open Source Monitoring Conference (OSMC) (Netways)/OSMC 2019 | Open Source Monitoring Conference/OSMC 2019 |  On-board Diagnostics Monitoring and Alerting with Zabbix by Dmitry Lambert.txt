Title: OSMC 2019 |  On-board Diagnostics Monitoring and Alerting with Zabbix by Dmitry Lambert
Publication date: 2019-11-18
Playlist: OSMC 2019 | Open Source Monitoring Conference
Description: 
	Real-time data as speed, engine temperature, DTC codes as check engine, brake problem and more. Read live data from sensors as turbo boost, timing, duty cycles. Monitor current vehicle speed and analyze the gathered statistics. Be notified!


NETWAYS
Konferenzen: https://www.netways.de/events
Schulungen: https://www.netways.de/schulungen
Shop: https://shop.netways.de/
Blog: http://blog.netways.de/
NWS: https://nws.netways.de

Webinare
Archiv Link: https://www.netways.de/webinare/archi...
Aktuell: https://www.netways.de/wb

Social Media
SlideShare: http://de.slideshare.net/netways
YouTube: https://www.netways.de/youtube
Facebook: https://www.facebook.com/netways
Twitter: https://twitter.com/netways
Instagram: https://www.instagram.com/netwaysgmbh/

Musik: FRAMETRAXX
Captions: 
	00:00:12,600 --> 00:00:17,800
hey guys so first of all it's a big

00:00:16,209 --> 00:00:19,509
pleasure to be here it's actually the

00:00:17,800 --> 00:00:22,419
first first time for me

00:00:19,509 --> 00:00:24,909
here and as far as I know it's also a

00:00:22,419 --> 00:00:28,239
first official presence of this Avex

00:00:24,909 --> 00:00:30,189
company so good to see you all and a

00:00:28,239 --> 00:00:34,000
little bit about me before we actually

00:00:30,189 --> 00:00:36,010
get to talk about the topic so what I do

00:00:34,000 --> 00:00:39,010
in the company I guess the the main

00:00:36,010 --> 00:00:42,460
thing is the technical support and also

00:00:39,010 --> 00:00:44,200
the consultancy for our customers and

00:00:42,460 --> 00:00:47,260
for somebody who just want to purchase

00:00:44,200 --> 00:00:49,600
the services training the professional

00:00:47,260 --> 00:00:53,020
Olympics trainings for the specialist

00:00:49,600 --> 00:00:55,090
professional and also the expert if you

00:00:53,020 --> 00:00:57,640
are working with a zabbix and let's say

00:00:55,090 --> 00:00:59,440
you are struggling time to time with

00:00:57,640 --> 00:01:03,070
some functionality and you need some

00:00:59,440 --> 00:01:06,369
help or documentation or some guides you

00:01:03,070 --> 00:01:08,710
might already know were perhaps you

00:01:06,369 --> 00:01:11,140
should look for it in the YouTube and

00:01:08,710 --> 00:01:14,409
the zabbix official YouTube channel we

00:01:11,140 --> 00:01:16,300
do have a zabbix series where I do cover

00:01:14,409 --> 00:01:18,250
quite a lot of functionality about a

00:01:16,300 --> 00:01:20,920
zabbix and how-to manuals

00:01:18,250 --> 00:01:24,420
if that is not enough you can also find

00:01:20,920 --> 00:01:27,190
my own youtube channel just my full name

00:01:24,420 --> 00:01:31,000
not be that complicated where we also

00:01:27,190 --> 00:01:34,560
talked quite a lot about zabbix so now

00:01:31,000 --> 00:01:39,640
about the topic onboard diagnostics

00:01:34,560 --> 00:01:42,850
monitoring with and disapp X and somehow

00:01:39,640 --> 00:01:44,950
my topic names already told that sound

00:01:42,850 --> 00:01:48,840
more complicated than they actually are

00:01:44,950 --> 00:01:52,479
because we can simplify this to oh D be

00:01:48,840 --> 00:01:55,780
OB deep sorry obd monitoring with zabbix

00:01:52,479 --> 00:01:58,200
and some of you might already understand

00:01:55,780 --> 00:02:01,080
what we're talking about and the more

00:01:58,200 --> 00:02:03,909
more informational would be to tell obd2

00:02:01,080 --> 00:02:07,840
so long story short we're talking about

00:02:03,909 --> 00:02:11,200
how to monitor your cars any cars the

00:02:07,840 --> 00:02:13,780
ones that you drive to work the one that

00:02:11,200 --> 00:02:16,030
might be used by your wife child work or

00:02:13,780 --> 00:02:19,000
whatever else but if

00:02:16,030 --> 00:02:21,130
where we actually talked about OBD I

00:02:19,000 --> 00:02:23,470
wanted to create a couple of slides and

00:02:21,130 --> 00:02:27,130
talk about what actually is zabbix I

00:02:23,470 --> 00:02:29,380
heard it many times today mm-hmm glad to

00:02:27,130 --> 00:02:32,530
hear that but still in a couple of works

00:02:29,380 --> 00:02:34,209
words first of all zabbix is an open

00:02:32,530 --> 00:02:35,980
source monitoring tool

00:02:34,209 --> 00:02:38,680
what does that mean it means that it is

00:02:35,980 --> 00:02:41,200
absolutely free so you don't have to pay

00:02:38,680 --> 00:02:44,530
any money to use it we don't have any

00:02:41,200 --> 00:02:47,310
Enterprise Edition no paid functionality

00:02:44,530 --> 00:02:50,320
were some limitation that would be

00:02:47,310 --> 00:02:53,800
available only for our paid customers

00:02:50,320 --> 00:02:56,230
everything is absolutely free enterprise

00:02:53,800 --> 00:02:59,739
level scale not a problem at all

00:02:56,230 --> 00:03:03,850
just a month ago around we had a zabbix

00:02:59,739 --> 00:03:05,739
summit in Riga and I think it was the

00:03:03,850 --> 00:03:09,670
biggest installation that I've heard

00:03:05,739 --> 00:03:13,569
about is the company from Japan have

00:03:09,670 --> 00:03:15,730
around 100,000 and VPS I'm not talking

00:03:13,569 --> 00:03:18,489
about hosts those are not the items I'm

00:03:15,730 --> 00:03:20,739
talking about new values per second

00:03:18,489 --> 00:03:22,720
received and processed by the zabbix

00:03:20,739 --> 00:03:26,380
server and if we would talk about like

00:03:22,720 --> 00:03:29,170
more simple MIT metrics like the amount

00:03:26,380 --> 00:03:33,070
of the hosts the biggest that I know is

00:03:29,170 --> 00:03:36,010
around five hundred thousand universal

00:03:33,070 --> 00:03:38,140
and flexible pretty often people ask

00:03:36,010 --> 00:03:40,720
like what's the biggest benefit of the

00:03:38,140 --> 00:03:43,720
zabbix and this is what I think like

00:03:40,720 --> 00:03:45,760
it's very universal you can adapt zabbix

00:03:43,720 --> 00:03:48,609
you can extend its functionality and

00:03:45,760 --> 00:03:50,620
monitor close to everything we're not

00:03:48,609 --> 00:03:54,090
limited to let's say some networking

00:03:50,620 --> 00:03:56,859
gear Windows or Linux operating system

00:03:54,090 --> 00:03:59,859
this tributed monitoring zabbix is

00:03:56,859 --> 00:04:02,950
everywhere so even for those cases when

00:03:59,859 --> 00:04:05,799
you do have multiple branches let's say

00:04:02,950 --> 00:04:08,799
in the city in the country or it might

00:04:05,799 --> 00:04:11,440
be even a requirement to monitor

00:04:08,799 --> 00:04:13,930
multiple places in different countries

00:04:11,440 --> 00:04:16,510
it is still possible to do all of that

00:04:13,930 --> 00:04:19,780
within one installation of the zabbix

00:04:16,510 --> 00:04:23,740
server by using zabbix proxies which

00:04:19,780 --> 00:04:25,539
basically serve as gateway between the

00:04:23,740 --> 00:04:29,050
monitored environment and a zabbix

00:04:25,539 --> 00:04:29,860
server configuration so that might be

00:04:29,050 --> 00:04:32,229
the main question

00:04:29,860 --> 00:04:34,090
okay I can monitor the branches all over

00:04:32,229 --> 00:04:36,729
the world but how will I manage the

00:04:34,090 --> 00:04:39,189
configuration still everything is done

00:04:36,729 --> 00:04:42,099
centralized through the zabbix front-end

00:04:39,189 --> 00:04:46,060
so if you want to add some new items to

00:04:42,099 --> 00:04:47,590
be monitored in Riga Germany United

00:04:46,060 --> 00:04:49,419
States or whatever else it will be

00:04:47,590 --> 00:04:51,310
enough to open the centralised front-end

00:04:49,419 --> 00:04:55,870
and just add some new items that you

00:04:51,310 --> 00:04:59,740
want to collect so collect react store

00:04:55,870 --> 00:05:01,889
and visualize I would say basically it

00:04:59,740 --> 00:05:04,330
is a full scope of monitoring that

00:05:01,889 --> 00:05:07,180
anyone would need so first of all we

00:05:04,330 --> 00:05:09,310
collect the data from any any kind of

00:05:07,180 --> 00:05:12,430
data sources made us be computers

00:05:09,310 --> 00:05:16,689
sensors applications databases Network

00:05:12,430 --> 00:05:18,490
stuff whatever else then we react so it

00:05:16,689 --> 00:05:21,699
is possible to create the triggers and

00:05:18,490 --> 00:05:24,069
define exact problem situation for your

00:05:21,699 --> 00:05:27,370
case we're not talking about like the

00:05:24,069 --> 00:05:29,080
most simple trigger expressions if last

00:05:27,370 --> 00:05:31,360
received values higher than something

00:05:29,080 --> 00:05:33,400
it's a problem but it is also possible

00:05:31,360 --> 00:05:37,060
to create something much more

00:05:33,400 --> 00:05:39,849
complicated utilize multiple items from

00:05:37,060 --> 00:05:41,770
multiple hosts utilize history data that

00:05:39,849 --> 00:05:45,539
it will be stored in our database and

00:05:41,770 --> 00:05:48,370
even predict the values for the future

00:05:45,539 --> 00:05:50,139
then store the data already mentioned

00:05:48,370 --> 00:05:51,819
that so when we're doing the monitoring

00:05:50,139 --> 00:05:53,620
we have a triggers we get the

00:05:51,819 --> 00:05:56,860
notifications about the problems we're

00:05:53,620 --> 00:06:00,029
upcoming problems it is not really a

00:05:56,860 --> 00:06:03,279
good idea to throw the data away because

00:06:00,029 --> 00:06:05,919
it is informational and it will help you

00:06:03,279 --> 00:06:08,050
like in the future so you can always

00:06:05,919 --> 00:06:10,779
open the front-end open the graphs

00:06:08,050 --> 00:06:12,939
choose the period for the graphs compare

00:06:10,779 --> 00:06:16,360
the data between multiple hosts multiple

00:06:12,939 --> 00:06:18,699
items do some capacity planning based on

00:06:16,360 --> 00:06:21,699
the data that you collect and visualize

00:06:18,699 --> 00:06:24,909
all of that stuff of course option a in

00:06:21,699 --> 00:06:26,289
a plain text just Brau values you can

00:06:24,909 --> 00:06:30,069
see the graphs you can create a

00:06:26,289 --> 00:06:32,740
dashboards you can utilize API or do the

00:06:30,069 --> 00:06:36,580
direct database queries and use the data

00:06:32,740 --> 00:06:38,229
in a third party reporting tools I know

00:06:36,580 --> 00:06:43,630
probably the first that comes to my mind

00:06:38,229 --> 00:06:45,520
is power bi then amount of the download

00:06:43,630 --> 00:06:47,890
we actually don't know because again

00:06:45,520 --> 00:06:50,400
product is free if you want to get it

00:06:47,890 --> 00:06:53,860
open zabbix comm click download button

00:06:50,400 --> 00:06:56,260
download that number will not appear in

00:06:53,860 --> 00:06:58,480
the Downloads yearly this number as far

00:06:56,260 --> 00:07:01,480
as I know is just from the source Forge

00:06:58,480 --> 00:07:03,850
so when you download the sources then we

00:07:01,480 --> 00:07:07,150
see that more than 20 years of

00:07:03,850 --> 00:07:10,750
experience a lot of languages supported

00:07:07,150 --> 00:07:13,600
in the zabbix front end some milestones

00:07:10,750 --> 00:07:15,340
of the monitored amount of devices the

00:07:13,600 --> 00:07:19,660
metrics and just like I mentioned

00:07:15,340 --> 00:07:22,540
previously 100% open source then there

00:07:19,660 --> 00:07:23,950
comes the biggest question now in terms

00:07:22,540 --> 00:07:25,750
of the monitoring and in terms of my

00:07:23,950 --> 00:07:28,300
experience like everybody know that they

00:07:25,750 --> 00:07:31,270
need to do to monitoring yes we're a new

00:07:28,300 --> 00:07:33,820
company we are starting and we need to

00:07:31,270 --> 00:07:36,970
monitor so then the biggest question is

00:07:33,820 --> 00:07:41,020
so what to monitor and usually the

00:07:36,970 --> 00:07:43,930
companies ask us please tell us what do

00:07:41,020 --> 00:07:47,020
we need to monitor and it's pretty easy

00:07:43,930 --> 00:07:51,490
of course to suggest some generic things

00:07:47,020 --> 00:07:54,870
like servers Network Devices Windows

00:07:51,490 --> 00:07:59,010
Linux virtual machines something that is

00:07:54,870 --> 00:08:02,680
present and available in any company but

00:07:59,010 --> 00:08:05,770
are we actually limited to that or

00:08:02,680 --> 00:08:08,020
perhaps we can monitor much more and

00:08:05,770 --> 00:08:11,770
collect much more interesting data and

00:08:08,020 --> 00:08:14,920
when I was trying to figure the topic

00:08:11,770 --> 00:08:17,440
for today's speech I didn't want to talk

00:08:14,920 --> 00:08:19,630
about something that everybody are used

00:08:17,440 --> 00:08:23,440
to like the monitoring of the servers or

00:08:19,630 --> 00:08:27,100
the network devices so I told the topic

00:08:23,440 --> 00:08:30,670
monitoring of obd2 before actually

00:08:27,100 --> 00:08:33,520
trying to do that so the main made fault

00:08:30,670 --> 00:08:35,440
and then the main idea is to think

00:08:33,520 --> 00:08:38,140
outside of the box and pretty often

00:08:35,440 --> 00:08:41,080
there are a lot of data that we can

00:08:38,140 --> 00:08:43,690
collect and which can first of all make

00:08:41,080 --> 00:08:46,960
our life simpler so there are some

00:08:43,690 --> 00:08:50,350
couple of examples from what I've heard

00:08:46,960 --> 00:08:53,980
from again some of our users customers

00:08:50,350 --> 00:08:57,139
and other zabbix people the smart office

00:08:53,980 --> 00:08:59,809
monitoring even if it's not very small

00:08:57,139 --> 00:09:03,139
you don't need to have like 100% smart

00:08:59,809 --> 00:09:06,619
office to do something simple example

00:09:03,139 --> 00:09:12,379
from the company who had smart windows

00:09:06,619 --> 00:09:15,379
so they had a sensors and the window was

00:09:12,379 --> 00:09:18,170
designed it so window opens and closes

00:09:15,379 --> 00:09:20,899
automatically and then they added a

00:09:18,170 --> 00:09:24,559
zabbix - monitor if window is still open

00:09:20,899 --> 00:09:26,899
and the working time will basically it's

00:09:24,559 --> 00:09:29,689
not a working time so it should not be

00:09:26,899 --> 00:09:32,449
open obviously what to do first of all

00:09:29,689 --> 00:09:34,249
we can send let's say notification to

00:09:32,449 --> 00:09:38,089
somebody from the security that hey

00:09:34,249 --> 00:09:40,399
there's an open window in somewhere or

00:09:38,089 --> 00:09:42,800
perhaps this our construction even

00:09:40,399 --> 00:09:46,490
allows to receive a remote command and

00:09:42,800 --> 00:09:48,769
close the window automatically another

00:09:46,490 --> 00:09:52,160
thing collect humidity data from your

00:09:48,769 --> 00:09:53,720
plants there was one one gentleman who

00:09:52,160 --> 00:09:55,970
created a monitoring for his wife

00:09:53,720 --> 00:09:58,970
because she was very passionate about a

00:09:55,970 --> 00:10:00,649
plants at her home and like humidity is

00:09:58,970 --> 00:10:03,829
always the big question like is it

00:10:00,649 --> 00:10:06,379
enough or should I add more so they just

00:10:03,829 --> 00:10:08,899
created a monitoring front for it now I

00:10:06,379 --> 00:10:12,379
get notified about the discounts in your

00:10:08,899 --> 00:10:15,050
favorite store funny but but but this

00:10:12,379 --> 00:10:16,790
story is about one one's attics user who

00:10:15,050 --> 00:10:20,089
is monitoring the discounts on a lot

00:10:16,790 --> 00:10:23,929
local alcohol shop so as soon as

00:10:20,089 --> 00:10:25,540
something was discounted they received a

00:10:23,929 --> 00:10:30,759
notification about it

00:10:25,540 --> 00:10:33,470
industrial machinery sell simple example

00:10:30,759 --> 00:10:35,959
supermarket grocery store there are big

00:10:33,470 --> 00:10:39,199
refrigerators right and what happens if

00:10:35,959 --> 00:10:41,149
one of those breaks overnight and you

00:10:39,199 --> 00:10:43,249
basically need to throw everything in

00:10:41,149 --> 00:10:46,220
the trash in the morning or maybe after

00:10:43,249 --> 00:10:47,929
a couple of days and would it be nice if

00:10:46,220 --> 00:10:50,269
we would be actually monitor the

00:10:47,929 --> 00:10:53,029
temperature inside of it and just think

00:10:50,269 --> 00:10:55,220
about how easy it is what do you need

00:10:53,029 --> 00:10:57,920
you need one sensor for the temperature

00:10:55,220 --> 00:11:01,069
and some device that will be able to

00:10:57,920 --> 00:11:02,839
pass this information the most common

00:11:01,069 --> 00:11:07,999
that comes to my mind is a Raspberry Pi

00:11:02,839 --> 00:11:10,090
and I've also used this in this obd

00:11:07,999 --> 00:11:16,630
monitoring so even on board

00:11:10,090 --> 00:11:18,550
diagnostics monitoring what it is you

00:11:16,630 --> 00:11:20,620
can read the definition like that's from

00:11:18,550 --> 00:11:24,340
the Google from the official wiki page

00:11:20,620 --> 00:11:27,340
but long story short if you are let's

00:11:24,340 --> 00:11:29,920
say more or less deeper familiar with

00:11:27,340 --> 00:11:33,040
your car so you not only do the driving

00:11:29,920 --> 00:11:35,970
but also do some Diagnostics then you

00:11:33,040 --> 00:11:38,980
know that there is such plug any car

00:11:35,970 --> 00:11:41,980
different places where you can plug in

00:11:38,980 --> 00:11:44,380
on the cable or it might be just a

00:11:41,980 --> 00:11:46,840
module working through the Wi-Fi where a

00:11:44,380 --> 00:11:49,990
Bluetooth then you usually have some

00:11:46,840 --> 00:11:52,000
kind of the application that is able to

00:11:49,990 --> 00:11:54,940
tell you information like what kind of

00:11:52,000 --> 00:11:56,970
information problem codes so what

00:11:54,940 --> 00:12:00,580
happened with your car and also

00:11:56,970 --> 00:12:04,330
real-time data from most of the sensors

00:12:00,580 --> 00:12:07,210
that are available in your car the

00:12:04,330 --> 00:12:11,350
versioning this moment I believe all of

00:12:07,210 --> 00:12:13,060
us are are driving with obd to the

00:12:11,350 --> 00:12:17,100
olders that at least from my experience

00:12:13,060 --> 00:12:19,720
that that I myself Joe is the one like

00:12:17,100 --> 00:12:23,080
think about like when you are doing a

00:12:19,720 --> 00:12:25,420
diagnostic on modern car let's call it

00:12:23,080 --> 00:12:27,160
like that you get a computer with a

00:12:25,420 --> 00:12:29,530
screen with the error messages

00:12:27,160 --> 00:12:33,300
descriptions what it is what it means

00:12:29,530 --> 00:12:37,210
how to fix that and all the releases

00:12:33,300 --> 00:12:40,180
basically you had to connect two pins

00:12:37,210 --> 00:12:43,240
and in one of the wires and then the

00:12:40,180 --> 00:12:46,320
light would start blinking in the - an

00:12:43,240 --> 00:12:49,690
amount and the frequency of the blink

00:12:46,320 --> 00:12:52,480
meant the error code then you could go

00:12:49,690 --> 00:12:55,000
to the Google search what does it means

00:12:52,480 --> 00:12:56,980
three quick beeps one long beep and

00:12:55,000 --> 00:13:02,320
understand what is actually happening

00:12:56,980 --> 00:13:04,000
with your car in a simple words this is

00:13:02,320 --> 00:13:06,970
what I'm talking about when you're

00:13:04,000 --> 00:13:09,070
driving your car and you see this light

00:13:06,970 --> 00:13:11,410
not only this that's just the most

00:13:09,070 --> 00:13:15,370
common example I guess that everybody

00:13:11,410 --> 00:13:20,140
are afraid of because what do we usually

00:13:15,370 --> 00:13:22,870
do when we see that light depends

00:13:20,140 --> 00:13:23,860
somebody might keep on driving without

00:13:22,870 --> 00:13:26,890
even noticing

00:13:23,860 --> 00:13:29,350
somebody might stop immediately and I

00:13:26,890 --> 00:13:31,270
don't know called somebody for the

00:13:29,350 --> 00:13:32,220
maintenance because despite the fact car

00:13:31,270 --> 00:13:35,130
is driving

00:13:32,220 --> 00:13:39,490
something's wrong with an engine and

00:13:35,130 --> 00:13:41,980
what else somebody might have some

00:13:39,490 --> 00:13:44,470
diagnostic tools with them and they

00:13:41,980 --> 00:13:46,690
would do a quick troubleshooting and the

00:13:44,470 --> 00:13:49,870
more interesting fact is sometimes you

00:13:46,690 --> 00:13:51,640
get some light on your dash and really

00:13:49,870 --> 00:13:53,230
nothing happens you can continue to

00:13:51,640 --> 00:13:55,900
drive and without even feeling any

00:13:53,230 --> 00:13:58,900
consequences and some kind sometimes you

00:13:55,900 --> 00:14:02,560
get something called a limp mode when

00:13:58,900 --> 00:14:06,180
you are basically physically limited to

00:14:02,560 --> 00:14:08,680
speed up something around 60 70 km/h and

00:14:06,180 --> 00:14:11,020
your gearbox might be working a little

00:14:08,680 --> 00:14:15,730
bit differently so that starts to become

00:14:11,020 --> 00:14:18,040
very scary how do our - actually knows

00:14:15,730 --> 00:14:22,000
that the engine is gone and we actually

00:14:18,040 --> 00:14:24,490
need to check each motor cars has first

00:14:22,000 --> 00:14:27,160
of all ECU which is electronic control

00:14:24,490 --> 00:14:30,160
model and then a lot of sensors of

00:14:27,160 --> 00:14:33,490
course depends from the car itself

00:14:30,160 --> 00:14:37,900
depends from your of the production is

00:14:33,490 --> 00:14:40,690
it diesel or petrol different sensors

00:14:37,900 --> 00:14:43,990
and these all sensors are connected to

00:14:40,690 --> 00:14:47,350
the ECU and they report the data of

00:14:43,990 --> 00:14:52,690
course the ECU has its own like this car

00:14:47,350 --> 00:14:55,450
software which say let's say that what

00:14:52,690 --> 00:14:57,340
could be the example timing advanced

00:14:55,450 --> 00:15:00,520
were less easier one temperature

00:14:57,340 --> 00:15:03,670
temperature should be in the range of a

00:15:00,520 --> 00:15:06,130
and B and if the temperature is outside

00:15:03,670 --> 00:15:09,430
of this range it will produce a new

00:15:06,130 --> 00:15:11,890
light in our - sometimes it happens

00:15:09,430 --> 00:15:14,800
because temperature is actually outside

00:15:11,890 --> 00:15:17,560
of the range sometimes sensor just

00:15:14,800 --> 00:15:24,850
breaks and we receive some unmeaning

00:15:17,560 --> 00:15:27,100
phille data like - 900 - 99 then how can

00:15:24,850 --> 00:15:29,770
we actually get this data okay we know

00:15:27,100 --> 00:15:33,130
that ECU knows it we talk about some

00:15:29,770 --> 00:15:35,530
diagnostic software's and wires but we

00:15:33,130 --> 00:15:36,490
need to get for this example inside the

00:15:35,530 --> 00:15:39,760
zabbix

00:15:36,490 --> 00:15:43,210
and yes there is you yes there is obd2

00:15:39,760 --> 00:15:44,920
plug and the Razorbacks what to do with

00:15:43,210 --> 00:15:47,620
it not clear so we need to find

00:15:44,920 --> 00:15:51,960
something that will be able to plug here

00:15:47,620 --> 00:15:58,510
in the middle and solution for that is

00:15:51,960 --> 00:16:00,970
LM 3 2 7 327 which is that's a not known

00:15:58,510 --> 00:16:02,740
thing it's nothing new you don't need to

00:16:00,970 --> 00:16:05,800
create something on your own

00:16:02,740 --> 00:16:13,120
basically it serves as a gateway between

00:16:05,800 --> 00:16:14,620
the ECU obd2 interface and our computer

00:16:13,120 --> 00:16:17,320
prodigal and something that we can

00:16:14,620 --> 00:16:23,500
understand and use in our programs as

00:16:17,320 --> 00:16:26,650
example and that's how you might be know

00:16:23,500 --> 00:16:29,380
it let's say maybe some of you already

00:16:26,650 --> 00:16:32,080
have this and there are quite a lot of

00:16:29,380 --> 00:16:36,100
these adapters and modules that you can

00:16:32,080 --> 00:16:39,730
buy the most commonplace I don't know

00:16:36,100 --> 00:16:42,730
Amazon eBay I've used exactly this one

00:16:39,730 --> 00:16:45,960
in my test and it costs around 3 or 5

00:16:42,730 --> 00:16:49,510
dollars so it's absolutely nothing and

00:16:45,960 --> 00:16:52,390
what you need to worry about you see

00:16:49,510 --> 00:16:55,210
this one is mini yell n 3 to 7 mini and

00:16:52,390 --> 00:16:58,450
I believe that's the main problem why I

00:16:55,210 --> 00:17:01,780
was not able to get all the metrics the

00:16:58,450 --> 00:17:04,560
car has just the most generic ones yes I

00:17:01,780 --> 00:17:08,709
could read the error codes I could read

00:17:04,560 --> 00:17:11,500
speed rpm and and temperature but not

00:17:08,709 --> 00:17:15,490
more advanced stuff like intake pressure

00:17:11,500 --> 00:17:17,770
timing advance and stuff like that when

00:17:15,490 --> 00:17:20,520
you usually buy this with this you also

00:17:17,770 --> 00:17:23,530
get some application on a mobile phone

00:17:20,520 --> 00:17:25,690
you could get a wired version and get an

00:17:23,530 --> 00:17:28,720
application on your computer so you can

00:17:25,690 --> 00:17:31,150
start monitor it right but what's the

00:17:28,720 --> 00:17:33,700
limitation if we're doing it like that

00:17:31,150 --> 00:17:36,460
we always have to be in the machine in a

00:17:33,700 --> 00:17:38,950
car we must connect our computer we must

00:17:36,460 --> 00:17:42,460
connect our phone look on the data if

00:17:38,950 --> 00:17:45,430
let's say we're talking not about our

00:17:42,460 --> 00:17:47,530
own car but about a company let's say

00:17:45,430 --> 00:17:49,060
taxi company of course it's not an

00:17:47,530 --> 00:17:53,180
option

00:17:49,060 --> 00:17:57,290
we need to move forward and what do we

00:17:53,180 --> 00:17:59,870
do with all of this first of all we

00:17:57,290 --> 00:18:02,540
receive the trouble codes that is the

00:17:59,870 --> 00:18:06,020
one the check engine light which by the

00:18:02,540 --> 00:18:08,330
way is not always that let's say

00:18:06,020 --> 00:18:12,140
critical or dangerous there might be

00:18:08,330 --> 00:18:14,510
some real serious problem with your car

00:18:12,140 --> 00:18:17,150
or it might be something absolutely

00:18:14,510 --> 00:18:20,950
simple like the typical example from

00:18:17,150 --> 00:18:23,810
older diesel cars if you forget to

00:18:20,950 --> 00:18:25,430
connect the glow plugs let's say you did

00:18:23,810 --> 00:18:27,910
some maintenance and forget to put them

00:18:25,430 --> 00:18:30,650
on it will create a check engine light

00:18:27,910 --> 00:18:32,960
you might call the maintenance and spend

00:18:30,650 --> 00:18:35,180
like a lot of money where you could open

00:18:32,960 --> 00:18:36,650
the diagnostic screen and see the hate

00:18:35,180 --> 00:18:39,380
or something with the glow plugs all

00:18:36,650 --> 00:18:43,580
right I forgot to connect it put it back

00:18:39,380 --> 00:18:46,880
on and the light disappears a live data

00:18:43,580 --> 00:18:50,570
from the sensors speed RPMs temperatures

00:18:46,880 --> 00:18:53,000
pressures timing and also what we can do

00:18:50,570 --> 00:18:56,900
clear distort error codes

00:18:53,000 --> 00:18:58,490
I did not thought any like good reason

00:18:56,900 --> 00:19:00,080
why you would want to do that like in

00:18:58,490 --> 00:19:03,440
real time it's by the fact that is

00:19:00,080 --> 00:19:06,440
possible but yeah you can do that then

00:19:03,440 --> 00:19:10,790
how to actually grab the data now this

00:19:06,440 --> 00:19:13,430
is the URL that helped me point an obd

00:19:10,790 --> 00:19:18,110
which you can just pip install obd on

00:19:13,430 --> 00:19:20,450
your computer and this URL also has some

00:19:18,110 --> 00:19:21,110
generic documentation it's it's really

00:19:20,450 --> 00:19:25,250
simple

00:19:21,110 --> 00:19:28,190
I'm not a developer at all I don't write

00:19:25,250 --> 00:19:31,520
any script I did that just in a couple

00:19:28,190 --> 00:19:34,910
of minutes example we can see here so

00:19:31,520 --> 00:19:36,890
yeah these are the operations we can use

00:19:34,910 --> 00:19:39,650
and basically for this example we need

00:19:36,890 --> 00:19:42,050
just from the bottom OB DDOT commands

00:19:39,650 --> 00:19:46,790
that's all we will be using in this

00:19:42,050 --> 00:19:48,980
example time for the zabbix do we need

00:19:46,790 --> 00:19:51,950
some new functionality something from

00:19:48,980 --> 00:19:55,040
let's say zabbix 5.0 integration with

00:19:51,950 --> 00:19:57,710
obd to know do we need expertise

00:19:55,040 --> 00:20:00,470
knowledge of the zabbix let's say the

00:19:57,710 --> 00:20:02,540
expert certificate and 10 plus years

00:20:00,470 --> 00:20:04,610
experience not at all

00:20:02,540 --> 00:20:07,070
do we need never-ending scripts and

00:20:04,610 --> 00:20:09,410
continuous support from our developers

00:20:07,070 --> 00:20:12,170
to maintain all of this stuff let's say

00:20:09,410 --> 00:20:14,540
not only for one car but also in scale

00:20:12,170 --> 00:20:18,050
for our company again No

00:20:14,540 --> 00:20:20,750
so that's it that's the script that you

00:20:18,050 --> 00:20:21,860
need to first of all get the data from

00:20:20,750 --> 00:20:23,840
your car

00:20:21,860 --> 00:20:27,590
second thing send is data to this

00:20:23,840 --> 00:20:30,350
Attucks a couple of lines and we'll try

00:20:27,590 --> 00:20:34,250
not to fall so this part is responsible

00:20:30,350 --> 00:20:37,820
to send the data to disk and this part

00:20:34,250 --> 00:20:40,880
is collecting the data from our ECU and

00:20:37,820 --> 00:20:44,000
you can even see like what the data RPM

00:20:40,880 --> 00:20:46,640
speed intake pressure coolant

00:20:44,000 --> 00:20:49,970
temperature intake temperature and a

00:20:46,640 --> 00:20:52,670
little bit more then the zabbix Center

00:20:49,970 --> 00:20:54,640
so in the zabbix front-end we need to

00:20:52,670 --> 00:20:58,700
create of course the coast for our car

00:20:54,640 --> 00:21:01,940
then the items and item types will be

00:20:58,700 --> 00:21:05,120
the zabbix wrapper so those items are

00:21:01,940 --> 00:21:08,180
created to accept the data send exactly

00:21:05,120 --> 00:21:10,940
why does that extender so in the zabbix

00:21:08,180 --> 00:21:15,200
Center part once we define this is the

00:21:10,940 --> 00:21:17,990
host BMW then we need to define the key

00:21:15,200 --> 00:21:19,850
of the item which will come based from

00:21:17,990 --> 00:21:22,070
the OBD command which was in a previous

00:21:19,850 --> 00:21:25,700
slide may it be RPM speed or something

00:21:22,070 --> 00:21:29,660
else and then the received value this

00:21:25,700 --> 00:21:32,150
runs in a background frequently collects

00:21:29,660 --> 00:21:36,080
new data from ECU and sends it to the

00:21:32,150 --> 00:21:39,500
zabbix then comes the problem the

00:21:36,080 --> 00:21:42,560
problem comes because of the guy who

00:21:39,500 --> 00:21:45,230
created obd2 for the plate on every

00:21:42,560 --> 00:21:47,960
received value looks like this this is

00:21:45,230 --> 00:21:50,180
just for let's say troubleshooting

00:21:47,960 --> 00:21:52,670
normally when everything is setup setup

00:21:50,180 --> 00:21:54,140
you don't receive anything in a CLI for

00:21:52,670 --> 00:21:58,310
the troubleshooting it looks like this

00:21:54,140 --> 00:22:04,220
this is the value speed equals ninety

00:21:58,310 --> 00:22:06,710
two dot o km/h these km/h revolutions

00:22:04,220 --> 00:22:08,600
per minute they are not allowing us to

00:22:06,710 --> 00:22:10,610
first of all visualize the data on the

00:22:08,600 --> 00:22:12,320
graphs on the second hand they are not

00:22:10,610 --> 00:22:14,690
allowing us to process it with the

00:22:12,320 --> 00:22:15,770
triggers because those are not integers

00:22:14,690 --> 00:22:18,830
it's text

00:22:15,770 --> 00:22:21,740
so what can we do we can first of all

00:22:18,830 --> 00:22:24,050
extend the functionality of our script

00:22:21,740 --> 00:22:26,240
which is also very easy where we can use

00:22:24,050 --> 00:22:29,120
a native functionality of the zabbix the

00:22:26,240 --> 00:22:31,040
pre-processing and we could do

00:22:29,120 --> 00:22:34,130
JavaScript I decided to do the regular

00:22:31,040 --> 00:22:36,860
expression and extract just they just

00:22:34,130 --> 00:22:39,950
start digits because it's a float so

00:22:36,860 --> 00:22:49,880
it's a capturing group and get a first

00:22:39,950 --> 00:22:53,840
one Oh whole group but yes digit dot

00:22:49,880 --> 00:22:57,170
digit like ninety two dot oh I am

00:22:53,840 --> 00:22:59,950
skipping the kilometers and in the

00:22:57,170 --> 00:23:03,440
result this is what we get in his abacus

00:22:59,950 --> 00:23:05,150
items I've created them manually I was

00:23:03,440 --> 00:23:08,150
doing this just for the test but we

00:23:05,150 --> 00:23:10,250
actually could also populate or a point

00:23:08,150 --> 00:23:12,620
and script with an API to the zabbix to

00:23:10,250 --> 00:23:14,870
first of all let's say create a host

00:23:12,620 --> 00:23:19,460
automatically so what we do in our

00:23:14,870 --> 00:23:22,520
company we just deployed installations

00:23:19,460 --> 00:23:23,030
on the cars which get access to the

00:23:22,520 --> 00:23:24,620
Internet

00:23:23,030 --> 00:23:27,440
automatically connect to the zabbix

00:23:24,620 --> 00:23:31,150
automatically create a host create items

00:23:27,440 --> 00:23:33,820
and start collecting the data then

00:23:31,150 --> 00:23:36,200
triggers so what to do with this data

00:23:33,820 --> 00:23:39,410
seeing it in the dashboard is pretty

00:23:36,200 --> 00:23:40,429
cool but what else what's the idea what

00:23:39,410 --> 00:23:42,559
why do I need it

00:23:40,429 --> 00:23:46,280
and the most common things that came to

00:23:42,559 --> 00:23:49,010
my mind like the average speed let's say

00:23:46,280 --> 00:23:52,070
if you are giving your I don't know car

00:23:49,010 --> 00:23:55,220
to your kid or whoever else and you are

00:23:52,070 --> 00:23:56,900
a bit worried about speeding wouldn't it

00:23:55,220 --> 00:24:00,260
be nice if you would receive that

00:23:56,900 --> 00:24:03,620
somebody is I don't know speeding

00:24:00,260 --> 00:24:06,080
average more than last twenty minutes

00:24:03,620 --> 00:24:09,980
you would receive a notification that

00:24:06,080 --> 00:24:15,020
this driver is running like 150 instead

00:24:09,980 --> 00:24:16,850
of 90 yeah unfortunately we're gladly

00:24:15,020 --> 00:24:21,080
because in Latvia were like pretty

00:24:16,850 --> 00:24:23,480
limited engine temperature temperature

00:24:21,080 --> 00:24:26,780
is higher than it should be so this

00:24:23,480 --> 00:24:28,100
could be some problem on the engine DDC

00:24:26,780 --> 00:24:31,280
so Erico

00:24:28,100 --> 00:24:33,890
receive it on your email or me on your

00:24:31,280 --> 00:24:36,289
mobile phone or whatever else requested

00:24:33,890 --> 00:24:38,690
actual reading differs for more than X

00:24:36,289 --> 00:24:41,960
so there is always something that is

00:24:38,690 --> 00:24:45,260
requested let's say our ECU requests one

00:24:41,960 --> 00:24:49,100
bar of intake pressure and the actual

00:24:45,260 --> 00:24:51,130
value might be 0.5 because something is

00:24:49,100 --> 00:24:53,809
broken and we would want to receive it

00:24:51,130 --> 00:24:56,419
who might use this again let's think

00:24:53,809 --> 00:24:58,460
about the good old taxi company who

00:24:56,419 --> 00:25:01,010
let's say some maintenance employees

00:24:58,460 --> 00:25:05,870
they received it something is broken on

00:25:01,010 --> 00:25:08,030
the car 59 that something is intake

00:25:05,870 --> 00:25:12,620
pressure plus the driver was speeding

00:25:08,030 --> 00:25:15,320
for the last week so please react oh one

00:25:12,620 --> 00:25:17,870
car per server no not at all you zabbix

00:25:15,320 --> 00:25:20,690
proxies remember I mentioned them in the

00:25:17,870 --> 00:25:23,750
beginning so we're not limited at all to

00:25:20,690 --> 00:25:25,940
the amount lightweight and ready for

00:25:23,750 --> 00:25:28,820
embedded devices I'm talking about a

00:25:25,940 --> 00:25:31,010
proxy there is also a database to store

00:25:28,820 --> 00:25:33,080
the backlog if let's say we're talking

00:25:31,010 --> 00:25:35,000
about cars which might be deriving in

00:25:33,080 --> 00:25:38,240
different places and the internet

00:25:35,000 --> 00:25:40,190
connection might go out choose direction

00:25:38,240 --> 00:25:42,740
of connection so the proxy could be both

00:25:40,190 --> 00:25:45,130
active and a passive so pushing the data

00:25:42,740 --> 00:25:47,929
or receiving the data from the server

00:25:45,130 --> 00:25:50,690
centralized configuration in one single

00:25:47,929 --> 00:25:54,020
front end and we do have official

00:25:50,690 --> 00:25:55,549
packages for the raspbian this how it

00:25:54,020 --> 00:25:57,710
might look like so we have one

00:25:55,549 --> 00:26:01,610
centralized Amex server and for let's

00:25:57,710 --> 00:26:03,950
pretend that any red dot circle is one

00:26:01,610 --> 00:26:05,659
of the monitored cars that we have in

00:26:03,950 --> 00:26:10,429
the city which could also be in

00:26:05,659 --> 00:26:14,179
different countries as example and yeah

00:26:10,429 --> 00:26:17,030
like this this is just fake picture but

00:26:14,179 --> 00:26:19,280
it is also possible to integrate zabbix

00:26:17,030 --> 00:26:23,179
let's say with an open streets map and

00:26:19,280 --> 00:26:26,570
actually display this inside your

00:26:23,179 --> 00:26:28,640
dashboard how to install zabbix in car

00:26:26,570 --> 00:26:31,400
that's what I did I used the raspberry

00:26:28,640 --> 00:26:33,440
pi because easy to use low power

00:26:31,400 --> 00:26:36,320
consumption don't need to worry about it

00:26:33,440 --> 00:26:38,270
at all possibility to extend this is

00:26:36,320 --> 00:26:41,010
probably the most coolest part about

00:26:38,270 --> 00:26:43,750
this so this one

00:26:41,010 --> 00:26:47,200
availability to add additional sensors

00:26:43,750 --> 00:26:49,630
as example GPS and the interesting fact

00:26:47,200 --> 00:26:51,279
is the next speech after me I think it

00:26:49,630 --> 00:26:54,570
will be also covering covering some

00:26:51,279 --> 00:26:57,580
stuff about GPS monitoring in the cars

00:26:54,570 --> 00:27:00,669
so officials Avex packages already

00:26:57,580 --> 00:27:03,370
mention it what additional data from the

00:27:00,669 --> 00:27:06,669
sensors GPS maybe the car should not be

00:27:03,370 --> 00:27:09,059
moving at all it would also be like more

00:27:06,669 --> 00:27:12,159
accurate data for the Spears speed

00:27:09,059 --> 00:27:13,450
movement sensors tilt sensors maybe

00:27:12,159 --> 00:27:16,419
there was a car accident

00:27:13,450 --> 00:27:18,899
smoke sensors maybe it's like really

00:27:16,419 --> 00:27:21,820
unfortunately and hopefully not on fire

00:27:18,899 --> 00:27:25,779
in the conclusion the main questions are

00:27:21,820 --> 00:27:29,740
is it really worth it is it expensive or

00:27:25,779 --> 00:27:33,029
complicated for me it costed I don't

00:27:29,740 --> 00:27:36,610
know the price of raspberry pi plus LM

00:27:33,029 --> 00:27:38,169
adapter which was three or five euros or

00:27:36,610 --> 00:27:42,100
dollars I don't even remember

00:27:38,169 --> 00:27:45,490
so really cheap at least let's say for

00:27:42,100 --> 00:27:49,149
your car will this day to be useful for

00:27:45,490 --> 00:27:53,440
you what kind of problems might be like

00:27:49,149 --> 00:27:55,899
is it worth it for me yes I will have

00:27:53,440 --> 00:27:58,269
two cars one is a daily car one is a

00:27:55,899 --> 00:28:00,639
project car and in the project car will

00:27:58,269 --> 00:28:03,909
be adding and mostly because right now I

00:28:00,639 --> 00:28:06,370
have like all of my - with various

00:28:03,909 --> 00:28:08,889
sensors and and a lot of the readings it

00:28:06,370 --> 00:28:11,230
would be better to have it like in one

00:28:08,889 --> 00:28:15,580
digital screen plus receive like the

00:28:11,230 --> 00:28:19,620
history of the data all right almost in

00:28:15,580 --> 00:28:19,620
time any questions

00:28:23,500 --> 00:28:36,810
[Applause]

00:28:26,660 --> 00:28:36,810
[Music]

00:28:40,400 --> 00:28:43,189

YouTube URL: https://www.youtube.com/watch?v=qDVj9AN_CG4


