Title: OSMC 2019 | Ignite | Overengineering your personal website by Bram Vogelaar
Publication date: 2019-11-19
Playlist: OSMC 2019 | Open Source Monitoring Conference
Description: 
	Lets be honest, whether consciously or not we all do it. In this talk we ll discuss how stupid crazy i a managed to go, while serving only a single static html page. From the humble beginnings as a markdown file to automation and several layers of monitoring.


NETWAYS
Konferenzen: https://www.netways.de/events
Schulungen: https://www.netways.de/schulungen
Shop: https://shop.netways.de/
Blog: http://blog.netways.de/
NWS: https://nws.netways.de

Webinare
Archiv Link: https://www.netways.de/webinare/archi...
Aktuell: https://www.netways.de/wb

Social Media
SlideShare: http://de.slideshare.net/netways
YouTube: https://www.netways.de/youtube
Facebook: https://www.facebook.com/netways
Twitter: https://twitter.com/netways
Instagram: https://www.instagram.com/netwaysgmbh/

Musik: FRAMETRAXX
Captions: 
	00:00:05,160 --> 00:00:08,759
[Music]

00:00:09,269 --> 00:00:15,700
so this is my previous website this is

00:00:12,670 --> 00:00:19,269
my blog I got to a point where I wanted

00:00:15,700 --> 00:00:20,650
to replace it because it was WordPress

00:00:19,269 --> 00:00:25,239
and of course you need to update it a

00:00:20,650 --> 00:00:27,130
lot because WordPress so I decided to

00:00:25,239 --> 00:00:29,679
rewrite it as a simple one-page

00:00:27,130 --> 00:00:35,850
application of course you need to

00:00:29,679 --> 00:00:39,130
I don't HTML anymore so I used a static

00:00:35,850 --> 00:00:43,240
static site generator called Hugo that

00:00:39,130 --> 00:00:46,240
nicely turns my markdown into HTML then

00:00:43,240 --> 00:00:47,980
of course web server source needs to be

00:00:46,240 --> 00:00:52,420
added so all the cool guys are at nginx

00:00:47,980 --> 00:00:55,329
right now so I added nginx because it's

00:00:52,420 --> 00:00:59,410
nice and fast to serve my one page

00:00:55,329 --> 00:01:01,660
application because they're my thought

00:00:59,410 --> 00:01:03,190
provoking thoughts we're gonna be on the

00:01:01,660 --> 00:01:05,740
website I want it to be nice and secure

00:01:03,190 --> 00:01:10,149
so I added let's encrypt let's encrypt

00:01:05,740 --> 00:01:12,219
is free it's easy to show up so that was

00:01:10,149 --> 00:01:14,619
the sweet spot for my laziness so I had

00:01:12,219 --> 00:01:16,299
that laughing of course dhoka dhoka

00:01:14,619 --> 00:01:20,409
dhoka that's where the world goes I

00:01:16,299 --> 00:01:23,049
expected my my blog to be slash dotted

00:01:20,409 --> 00:01:26,740
every day now because of my brilliant

00:01:23,049 --> 00:01:28,240
ideas as well I was gonna produce I've

00:01:26,740 --> 00:01:30,009
never produced a blog post in the last

00:01:28,240 --> 00:01:33,130
four years but this was the time I was

00:01:30,009 --> 00:01:34,810
gonna produce them because dhoka dhoka

00:01:33,130 --> 00:01:36,729
dhoka doesn't scale on its own so you

00:01:34,810 --> 00:01:39,639
need to have some form of ingress that

00:01:36,729 --> 00:01:43,060
will scale to you and sound traffic to

00:01:39,639 --> 00:01:45,369
your your your doctor instances I've

00:01:43,060 --> 00:01:47,889
chosen to use traffic which integrates

00:01:45,369 --> 00:01:50,889
nicely use console the console is a

00:01:47,889 --> 00:01:53,619
service discovery tool so I don't have

00:01:50,889 --> 00:01:56,770
to do manual admin cuz again sweet spot

00:01:53,619 --> 00:02:00,039
for my laziness so II write services

00:01:56,770 --> 00:02:03,279
consult nicely announces your new

00:02:00,039 --> 00:02:06,310
service or your new thing so friends

00:02:03,279 --> 00:02:10,470
don't let friends use kubernetes so I

00:02:06,310 --> 00:02:10,470
opted for Nomad which is the

00:02:10,829 --> 00:02:18,180
the Hoshi Corp scheduler it's very cool

00:02:15,060 --> 00:02:20,159
it's a single go binary integrates very

00:02:18,180 --> 00:02:22,079
nicely at that point I started to think

00:02:20,159 --> 00:02:26,489
there's quite a few technologies already

00:02:22,079 --> 00:02:29,010
so let's Papa ties this stuff I started

00:02:26,489 --> 00:02:31,379
by the popping code I in the process

00:02:29,010 --> 00:02:35,340
inherited a couple of puffin modules to

00:02:31,379 --> 00:02:38,269
actually maintain it needs to run

00:02:35,340 --> 00:02:41,069
somewhere I happen to have a prepaid

00:02:38,269 --> 00:02:48,599
reserved instance at Amazon so that's

00:02:41,069 --> 00:02:51,419
why all my stuff is running right now so

00:02:48,599 --> 00:02:53,459
it's a single node and of course it

00:02:51,419 --> 00:02:55,889
needs to be on the internet to need some

00:02:53,459 --> 00:03:05,970
form DNS I'm not gonna run my own DNS

00:02:55,889 --> 00:03:09,480
server so I opted for the Amazon so of

00:03:05,970 --> 00:03:11,159
course it's cloud cloud cloud so again I

00:03:09,480 --> 00:03:13,590
don't want to do clicky clicky clicky in

00:03:11,159 --> 00:03:16,560
interfaces so I terraformed the whole

00:03:13,590 --> 00:03:21,019
thing so I'd have for my a double yes

00:03:16,560 --> 00:03:24,389
Tara for my fruit 53 it's nice and get

00:03:21,019 --> 00:03:28,859
of course the image you get is bloatware

00:03:24,389 --> 00:03:30,840
so I built my own image it's I reduced

00:03:28,859 --> 00:03:37,199
it so much that is a small image but it

00:03:30,840 --> 00:03:38,849
does include my console and my puppet at

00:03:37,199 --> 00:03:43,650
that point it had a lot of stuff that

00:03:38,849 --> 00:03:45,329
needed building so I'm - again sweet

00:03:43,650 --> 00:03:47,489
spot for my laziness so I rather have

00:03:45,329 --> 00:03:49,709
Jenkins build all this stuff as soon as

00:03:47,489 --> 00:03:52,709
I push because I forget to build after

00:03:49,709 --> 00:03:56,280
push so Jenkins will actually build and

00:03:52,709 --> 00:03:58,229
deploy whatever I give it my blog is

00:03:56,280 --> 00:04:00,959
gonna be so important that people are

00:03:58,229 --> 00:04:03,120
gonna try and hack me so my all my

00:04:00,959 --> 00:04:04,799
servers are now protected by UV key

00:04:03,120 --> 00:04:06,659
which is basically two fact occasion

00:04:04,799 --> 00:04:08,519
authentication thing that I need to have

00:04:06,659 --> 00:04:12,689
physically in my laptop otherwise I

00:04:08,519 --> 00:04:13,859
cannot login to my my node it's gonna be

00:04:12,689 --> 00:04:15,750
so important so I want to have some

00:04:13,859 --> 00:04:17,250
metrics about stuff that shows up for

00:04:15,750 --> 00:04:18,930
the people that show up when they show

00:04:17,250 --> 00:04:22,760
up so Prometheus got added I want

00:04:18,930 --> 00:04:24,710
metrics luckily all the

00:04:22,760 --> 00:04:28,520
stuff interface nicely work for me theas

00:04:24,710 --> 00:04:31,310
so but metrics on its own don't mean

00:04:28,520 --> 00:04:33,050
nothing so it's someone at risk so I

00:04:31,310 --> 00:04:35,660
added graph honest I can nicely have

00:04:33,050 --> 00:04:38,480
little graphs I can basically show

00:04:35,660 --> 00:04:45,080
myself about how cool and how busy my

00:04:38,480 --> 00:04:46,970
blog is again graphs are nice but I want

00:04:45,080 --> 00:04:48,530
to be notified when stuff goes down so I

00:04:46,970 --> 00:04:52,100
added alert manager which is another

00:04:48,530 --> 00:04:54,530
Prometheus related to alert manageable

00:04:52,100 --> 00:04:58,180
based on metrics can tell me when stuff

00:04:54,530 --> 00:05:00,140
is wrong or when my block is so

00:04:58,180 --> 00:05:02,810
important that people when people show

00:05:00,140 --> 00:05:04,460
up I need to scale alert manager needs

00:05:02,810 --> 00:05:07,220
to send it to somewhere so slack got

00:05:04,460 --> 00:05:14,240
added it's free it's where all the

00:05:07,220 --> 00:05:20,240
hipsters are so I added slack yes and

00:05:14,240 --> 00:05:22,820
turns out bingum is still my it should

00:05:20,240 --> 00:05:24,830
have been a github pages page and be

00:05:22,820 --> 00:05:26,690
done with it but it was amazingly fun to

00:05:24,830 --> 00:05:30,140
go down the rabbit hole and see how far

00:05:26,690 --> 00:05:33,640
I could get and again it's a single page

00:05:30,140 --> 00:05:33,640
single markdown page

00:05:37,630 --> 00:05:51,240
[Applause]

00:05:41,600 --> 00:05:51,240
[Music]

00:05:54,840 --> 00:05:57,590

YouTube URL: https://www.youtube.com/watch?v=yztBHXPMvvU


