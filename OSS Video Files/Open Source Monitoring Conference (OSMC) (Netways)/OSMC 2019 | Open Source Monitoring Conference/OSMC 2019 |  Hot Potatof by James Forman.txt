Title: OSMC 2019 |  Hot Potatof by James Forman
Publication date: 2019-11-18
Playlist: OSMC 2019 | Open Source Monitoring Conference
Description: 
	Hot Potato is a message broker that sits in between monitoring systems and messaging providers to ensure consistent relaying of messages to on-call staff. It was designed and developed in New Zealand to survive the harshest worst-case scenarios we could come up with in a country prone to natural disasters.

The goal of the project is to give on-call people control and freedom while giving your notifications every chance of arriving, through any provider or connection you might have.


NETWAYS
Konferenzen: https://www.netways.de/events
Schulungen: https://www.netways.de/schulungen
Shop: https://shop.netways.de/
Blog: http://blog.netways.de/
NWS: https://nws.netways.de

Webinare
Archiv Link: https://www.netways.de/webinare/archi...
Aktuell: https://www.netways.de/wb

Social Media
SlideShare: http://de.slideshare.net/netways
YouTube: https://www.netways.de/youtube
Facebook: https://www.facebook.com/netways
Twitter: https://twitter.com/netways
Instagram: https://www.instagram.com/netwaysgmbh/

Musik: FRAMETRAXX
Captions: 
	00:00:10,460 --> 00:00:18,430
[Applause]

00:00:14,770 --> 00:00:18,430
can't ever gonna hit me on the back

00:00:18,670 --> 00:00:31,340
alright alright hi I'm James I have many

00:00:29,869 --> 00:00:32,900
interesting hobbies most of which

00:00:31,340 --> 00:00:35,809
probably apply to this conference

00:00:32,900 --> 00:00:36,890
conveniently if you get bored in the

00:00:35,809 --> 00:00:38,540
break and you'd like to talk to someone

00:00:36,890 --> 00:00:40,250
about making on-call better for humans

00:00:38,540 --> 00:00:42,350
high availability and load balancing

00:00:40,250 --> 00:00:44,629
mirroring free software zero trust

00:00:42,350 --> 00:00:46,040
networking home automation or hosting

00:00:44,629 --> 00:00:47,960
things in your garage or pretty much

00:00:46,040 --> 00:00:54,320
anything else feel free to come and say

00:00:47,960 --> 00:00:57,170
hello so I'm from New Zealand alright so

00:00:54,320 --> 00:00:57,650
I work for catalyst IT in Wellington New

00:00:57,170 --> 00:00:59,930
Zealand

00:00:57,650 --> 00:01:03,559
I am a Linux system and network engineer

00:00:59,930 --> 00:01:05,390
and recently became a people manager I'm

00:01:03,559 --> 00:01:07,340
on a team of system and network

00:01:05,390 --> 00:01:10,270
engineers and we recently decided that

00:01:07,340 --> 00:01:12,530
having a large number of Simmons

00:01:10,270 --> 00:01:14,510
casually working on software projects

00:01:12,530 --> 00:01:16,940
and then abandoning them as their

00:01:14,510 --> 00:01:19,400
project shift was a bad idea so we hired

00:01:16,940 --> 00:01:21,680
some developers and I managed those so I

00:01:19,400 --> 00:01:25,300
run what we call the OP staff team for

00:01:21,680 --> 00:01:27,320
operational development so I'm from here

00:01:25,300 --> 00:01:28,640
Wellington New Zealand for those of you

00:01:27,320 --> 00:01:32,810
who don't know it or haven't been there

00:01:28,640 --> 00:01:35,240
before highly recommend it it's a bit

00:01:32,810 --> 00:01:37,880
different from being over here the

00:01:35,240 --> 00:01:40,760
entirety of New Zealand fits like that

00:01:37,880 --> 00:01:42,470
and we almost have five million people

00:01:40,760 --> 00:01:45,080
of which 2 million people live all the

00:01:42,470 --> 00:01:47,600
way at the top of that so if you're ever

00:01:45,080 --> 00:01:48,950
coming to New Zealand skip Auckland you

00:01:47,600 --> 00:01:50,360
might have to fly through it but go

00:01:48,950 --> 00:01:55,760
anywhere else and you'll be much happier

00:01:50,360 --> 00:01:57,920
I work in the Wellington office with

00:01:55,760 --> 00:01:59,990
about 200 other staff it's the head of

00:01:57,920 --> 00:02:00,440
the company that we have 350 people

00:01:59,990 --> 00:02:03,670
worldwide

00:02:00,440 --> 00:02:06,140
I spent the last week adjusting from the

00:02:03,670 --> 00:02:09,920
12 13 hour timezone difference in our

00:02:06,140 --> 00:02:12,560
Brighton office over in the UK yeah when

00:02:09,920 --> 00:02:15,800
I'm not working I'm a father and partner

00:02:12,560 --> 00:02:20,090
and homeowner now I'm here to talk to

00:02:15,800 --> 00:02:22,540
you today about hot potato so a few

00:02:20,090 --> 00:02:22,540
first things first

00:02:23,500 --> 00:02:26,860
there are some photos in this talk that

00:02:25,360 --> 00:02:28,870
may upset some people who don't like the

00:02:26,860 --> 00:02:30,280
earthquakes I've specifically chosen

00:02:28,870 --> 00:02:31,870
ones that don't show anything too

00:02:30,280 --> 00:02:33,520
terrible and just damaged eroding an

00:02:31,870 --> 00:02:36,520
infrastructure because that's what I'm

00:02:33,520 --> 00:02:39,850
talking about so hopefully no one will

00:02:36,520 --> 00:02:41,320
get upset but fair warning all right the

00:02:39,850 --> 00:02:42,850
other important thing to note is hot

00:02:41,320 --> 00:02:44,830
potato is not actually a monitoring

00:02:42,850 --> 00:02:48,130
system which is the biggest bit of

00:02:44,830 --> 00:02:50,290
confusion that people have we at

00:02:48,130 --> 00:02:51,970
catalyst use nagi ice-free a single one

00:02:50,290 --> 00:02:55,330
in a sink or two depending on how long

00:02:51,970 --> 00:02:56,770
the customers been around and we are

00:02:55,330 --> 00:02:59,290
currently adding things like Prometheus

00:02:56,770 --> 00:03:01,990
another bit since the mix but hot potato

00:02:59,290 --> 00:03:03,670
is a message broker that takes things

00:03:01,990 --> 00:03:04,990
from your monitoring sources and make

00:03:03,670 --> 00:03:09,760
sure they get to your own call people

00:03:04,990 --> 00:03:12,280
it's meant to deal with our 18 plus

00:03:09,760 --> 00:03:14,290
monitoring servers and us not having to

00:03:12,280 --> 00:03:18,130
make changes on every single one when

00:03:14,290 --> 00:03:20,950
someone's going away or similar all

00:03:18,130 --> 00:03:22,720
right so before we get too deep I would

00:03:20,950 --> 00:03:26,050
like to tell you about life before hot

00:03:22,720 --> 00:03:27,790
potato at catalyst so when I started

00:03:26,050 --> 00:03:30,130
which was almost five years ago now we

00:03:27,790 --> 00:03:33,580
had the one pager team referred to as

00:03:30,130 --> 00:03:35,110
the pager peeps every single person on

00:03:33,580 --> 00:03:37,420
the company had a pager like the

00:03:35,110 --> 00:03:40,510
traditional old school brick that you

00:03:37,420 --> 00:03:42,820
carry around pager it was a single pager

00:03:40,510 --> 00:03:44,980
number with about 20 pages on it so

00:03:42,820 --> 00:03:49,090
whichever one was turned on was getting

00:03:44,980 --> 00:03:50,920
the major notifications we had a range

00:03:49,090 --> 00:03:52,810
of different monitoring bildt's some

00:03:50,920 --> 00:03:55,030
were customer managed somewhere remote

00:03:52,810 --> 00:03:57,730
from us in places that were hard to get

00:03:55,030 --> 00:04:02,860
to or out of the country entirely we had

00:03:57,730 --> 00:04:04,660
some in the US some in the UK some

00:04:02,860 --> 00:04:06,790
countries could directly access the

00:04:04,660 --> 00:04:10,180
pager network some couldn't some used

00:04:06,790 --> 00:04:12,250
emailed pedra gateways and it was

00:04:10,180 --> 00:04:13,720
generally a large amount of variety and

00:04:12,250 --> 00:04:16,630
how every different monitoring server

00:04:13,720 --> 00:04:18,100
was set up when I started we had 18

00:04:16,630 --> 00:04:22,390
running not just for a single one in a

00:04:18,100 --> 00:04:24,370
singer - and we also have a support

00:04:22,390 --> 00:04:26,560
hotline that's both business hours and

00:04:24,370 --> 00:04:28,840
24/7 depending on your customers LA

00:04:26,560 --> 00:04:30,729
we're and now as you call when you get a

00:04:28,840 --> 00:04:32,890
human and they talk to the on-call

00:04:30,729 --> 00:04:34,660
person or out of hours you call a number

00:04:32,890 --> 00:04:38,410
you leave a voicemail message and

00:04:34,660 --> 00:04:40,780
the Patriot awakes the person up we were

00:04:38,410 --> 00:04:42,130
doing IRC based handovers so you would

00:04:40,780 --> 00:04:44,800
wake up in the morning after your pages

00:04:42,130 --> 00:04:47,260
shift you'd go into the IRC channel

00:04:44,800 --> 00:04:48,580
you'd say hey next person that's

00:04:47,260 --> 00:04:49,630
supposed to be on call will you please

00:04:48,580 --> 00:04:50,380
hurry up and take the page where I'd

00:04:49,630 --> 00:04:55,020
like to go back to sleep

00:04:50,380 --> 00:04:55,020
and it wasn't very pleasant for people

00:04:55,530 --> 00:05:01,360
so why did we build it well conveniently

00:04:59,860 --> 00:05:04,210
because we were using pages we already

00:05:01,360 --> 00:05:06,220
wanted a replacement system without

00:05:04,210 --> 00:05:07,630
moving to a singer - we managed to get

00:05:06,220 --> 00:05:09,190
down to sixteen different monitoring

00:05:07,630 --> 00:05:13,120
systems but we still had 16 different

00:05:09,190 --> 00:05:14,770
monitoring systems the way we looked at

00:05:13,120 --> 00:05:16,390
what had recently paged was every

00:05:14,770 --> 00:05:17,980
monitoring server when they paged they

00:05:16,390 --> 00:05:19,660
sent an email to a shared mailbox and

00:05:17,980 --> 00:05:24,100
that was our interface for seeing

00:05:19,660 --> 00:05:26,110
everything that had paged recently we

00:05:24,100 --> 00:05:28,810
had a number of single points of failure

00:05:26,110 --> 00:05:32,230
in the system which was mostly the email

00:05:28,810 --> 00:05:33,460
gateways for the pages and the messages

00:05:32,230 --> 00:05:36,160
that we got from monitoring systems

00:05:33,460 --> 00:05:37,480
weren't very consistent so we already

00:05:36,160 --> 00:05:42,160
had a few problems that we wanted to

00:05:37,480 --> 00:05:44,440
solve mostly the aging technology in the

00:05:42,160 --> 00:05:48,880
pager system started getting worse the

00:05:44,440 --> 00:05:51,010
pages started becoming unreliable this

00:05:48,880 --> 00:05:54,010
is a corrupt pager message which would

00:05:51,010 --> 00:05:57,640
happen multiple times a day pagers were

00:05:54,010 --> 00:06:00,480
getting very very expensive and it was

00:05:57,640 --> 00:06:05,350
only really being used by the hospitals

00:06:00,480 --> 00:06:07,600
emergency services and us which tells

00:06:05,350 --> 00:06:09,220
you a lot and this message actually says

00:06:07,600 --> 00:06:16,330
that our production post or server is

00:06:09,220 --> 00:06:19,030
down as you can see it's very useful the

00:06:16,330 --> 00:06:20,710
pages were also becoming quite old and

00:06:19,030 --> 00:06:22,510
this one had a damaged connection

00:06:20,710 --> 00:06:27,300
between the LCD and the pager board

00:06:22,510 --> 00:06:27,300
itself after it got thrown at a wall and

00:06:27,960 --> 00:06:33,100
naturally when I say we had modems to

00:06:30,340 --> 00:06:34,750
send pager messages I mean modems with

00:06:33,100 --> 00:06:36,930
parallel ports and serial ports on the

00:06:34,750 --> 00:06:39,580
back were becoming harder and harder to

00:06:36,930 --> 00:06:40,990
purchase we actually bought two years

00:06:39,580 --> 00:06:42,340
ago the last four in the country just

00:06:40,990 --> 00:06:44,260
before this next bit happened that I'm

00:06:42,340 --> 00:06:45,580
about to tell you about yeah so he had

00:06:44,260 --> 00:06:46,990
screeching modems

00:06:45,580 --> 00:06:49,240
we were running out of replacements we

00:06:46,990 --> 00:06:50,650
bought the last we will last three or

00:06:49,240 --> 00:06:52,530
four modems in the country so there was

00:06:50,650 --> 00:06:54,670
one left in a warehouse somewhere and

00:06:52,530 --> 00:06:57,970
they decided to throw it out after we

00:06:54,670 --> 00:06:59,320
built the other three so we kind of

00:06:57,970 --> 00:07:03,490
literally got the last three modems in

00:06:59,320 --> 00:07:06,550
the country dial-up modems naturally use

00:07:03,490 --> 00:07:09,370
phone lines this is a photo I took while

00:07:06,550 --> 00:07:11,080
I was on holiday down in Christchurch of

00:07:09,370 --> 00:07:14,590
some phone wirings that someone's put an

00:07:11,080 --> 00:07:16,420
ice cream cone on top of we had a

00:07:14,590 --> 00:07:19,000
problem in Wellington where Wellington's

00:07:16,420 --> 00:07:21,070
quite a rainy City and naturally you can

00:07:19,000 --> 00:07:23,020
trip up Main streets of Wellington to

00:07:21,070 --> 00:07:25,660
you know block traffic and roads and

00:07:23,020 --> 00:07:27,610
things to fix phone lines very easily so

00:07:25,660 --> 00:07:28,720
ours would periodically get water in

00:07:27,610 --> 00:07:30,190
them and we'd have to wait for them to

00:07:28,720 --> 00:07:33,670
dry out before they'd be more reliable

00:07:30,190 --> 00:07:35,620
and we had chaotic messes like this to

00:07:33,670 --> 00:07:37,390
deal with when something went wrong or

00:07:35,620 --> 00:07:41,080
was someone bumped into something in the

00:07:37,390 --> 00:07:42,460
basement and knocked a wire loose so we

00:07:41,080 --> 00:07:46,450
really wanted to get rid of the pager

00:07:42,460 --> 00:07:47,730
systems the top three questions I get at

00:07:46,450 --> 00:07:49,810
this point

00:07:47,730 --> 00:07:53,080
why build something and why not use a

00:07:49,810 --> 00:07:54,790
service and we had a good look and none

00:07:53,080 --> 00:07:58,180
of the services that were available to

00:07:54,790 --> 00:07:59,530
us could meet our azules and we have 15

00:07:58,180 --> 00:08:02,590
minute response times for all our

00:07:59,530 --> 00:08:03,880
customers they said for a few and they

00:08:02,590 --> 00:08:07,510
really mean it when they want that

00:08:03,880 --> 00:08:08,110
fifteen minute response time I get into

00:08:07,510 --> 00:08:10,090
a bit here

00:08:08,110 --> 00:08:13,870
why couldn't we use SMS or something

00:08:10,090 --> 00:08:15,520
well we actually do work for the major

00:08:13,870 --> 00:08:17,470
telcos in the country which meant that

00:08:15,520 --> 00:08:20,410
we couldn't actually use the SMS Network

00:08:17,470 --> 00:08:21,820
or the phone network because if that

00:08:20,410 --> 00:08:23,920
goes down and we're trying to send

00:08:21,820 --> 00:08:25,750
messages about it telling us things then

00:08:23,920 --> 00:08:27,760
you know our messages aren't getting

00:08:25,750 --> 00:08:30,760
through we're not finding out and it

00:08:27,760 --> 00:08:32,530
becomes a whole thing in the media we

00:08:30,760 --> 00:08:34,330
also wanted to be able to prove that the

00:08:32,530 --> 00:08:35,920
pager person got the message we've had

00:08:34,330 --> 00:08:37,510
it being painful for the on-call person

00:08:35,920 --> 00:08:39,940
so we didn't want them to have to go and

00:08:37,510 --> 00:08:42,760
oh I got a text message I'm gonna go

00:08:39,940 --> 00:08:46,240
tell a system that I got it and we

00:08:42,760 --> 00:08:49,770
wanted the ability for things to work in

00:08:46,240 --> 00:08:49,770
places where the pager network couldn't

00:08:51,510 --> 00:08:56,710
why not go staffed 24/7 well we had a

00:08:55,240 --> 00:08:58,690
very brief conversation about it and

00:08:56,710 --> 00:08:58,900
everyone in the team decided it was a

00:08:58,690 --> 00:09:02,290
tear

00:08:58,900 --> 00:09:04,210
idea people have families lives they

00:09:02,290 --> 00:09:06,160
don't want to suddenly be doing a

00:09:04,210 --> 00:09:09,190
business hours shift and then a night

00:09:06,160 --> 00:09:10,600
shift and then a morning shift we wanted

00:09:09,190 --> 00:09:12,880
to get to a point where being on call

00:09:10,600 --> 00:09:15,010
was less of a hassle than it was at the

00:09:12,880 --> 00:09:17,440
moment and where you could actually

00:09:15,010 --> 00:09:20,410
sleep for the week which you now can

00:09:17,440 --> 00:09:25,120
ninety-nine percent of the time we also

00:09:20,410 --> 00:09:26,650
had a few other motivations so we wanted

00:09:25,120 --> 00:09:29,170
something that was open-source because

00:09:26,650 --> 00:09:31,720
we're the largest open source company in

00:09:29,170 --> 00:09:33,880
New Zealand so it's what we believe in

00:09:31,720 --> 00:09:36,880
that's what we want and that's what we

00:09:33,880 --> 00:09:39,370
try to talk everyone else is doing we

00:09:36,880 --> 00:09:41,800
wanted to stop sending our customer data

00:09:39,370 --> 00:09:43,900
in plain text for anyone unfamiliar with

00:09:41,800 --> 00:09:46,510
pager networks the messages are in no

00:09:43,900 --> 00:09:49,839
way encrypted and anyone who's got about

00:09:46,510 --> 00:09:54,700
$25 New Zealand to spend which it's

00:09:49,839 --> 00:09:56,230
about two to one euros in your favor can

00:09:54,700 --> 00:10:00,460
get the equipment to read them very

00:09:56,230 --> 00:10:04,750
easily as the UK is finding out very

00:10:00,460 --> 00:10:06,010
recently for strange reasons and more

00:10:04,750 --> 00:10:07,959
importantly we thought we actually had

00:10:06,010 --> 00:10:10,330
time to find a proper replacement system

00:10:07,959 --> 00:10:13,600
so we depend a long time looking at

00:10:10,330 --> 00:10:18,790
options and then our hand was somewhat

00:10:13,600 --> 00:10:21,370
forced and so spark the one of the two

00:10:18,790 --> 00:10:23,410
main telcos in their country when I was

00:10:21,370 --> 00:10:26,170
originally building hot potato there's

00:10:23,410 --> 00:10:27,459
now a third one but it was one of two

00:10:26,170 --> 00:10:29,589
and they were the only ones who offered

00:10:27,459 --> 00:10:32,339
a pager network and they decided in 2015

00:10:29,589 --> 00:10:34,420
that they were going to turn it off

00:10:32,339 --> 00:10:36,370
before they turned it off they said that

00:10:34,420 --> 00:10:39,910
the use of pagers had declined at the 65

00:10:36,370 --> 00:10:43,990
percent between 2013 and 2015 and that

00:10:39,910 --> 00:10:46,150
the service was now an economic but

00:10:43,990 --> 00:10:47,140
that's fine they had announced a window

00:10:46,150 --> 00:10:50,320
for when they were going to turn the

00:10:47,140 --> 00:10:52,660
network off we were a customer before we

00:10:50,320 --> 00:10:53,950
had time to find a replacement and at

00:10:52,660 --> 00:10:55,570
first it was largely good news we

00:10:53,950 --> 00:10:57,370
thought we had a great opportunity to

00:10:55,570 --> 00:10:59,920
get rid of some aging technology like

00:10:57,370 --> 00:11:02,410
the modems and we had a great time

00:10:59,920 --> 00:11:05,020
reading some of the news coverage such

00:11:02,410 --> 00:11:06,490
as the national business reviews dig at

00:11:05,020 --> 00:11:08,050
the drug-dealing community who

00:11:06,490 --> 00:11:11,070
apparently still enjoyed pages along

00:11:08,050 --> 00:11:12,820
with the emergency services

00:11:11,070 --> 00:11:15,010
unfortunately it was too good to be

00:11:12,820 --> 00:11:18,280
and the pager Network very quickly

00:11:15,010 --> 00:11:22,300
became unreliable pager messages started

00:11:18,280 --> 00:11:24,130
getting cut off server called a singer

00:11:22,300 --> 00:11:26,050
from a particular client and that's the

00:11:24,130 --> 00:11:27,460
end of the message so something in a

00:11:26,050 --> 00:11:28,690
server names a singer broke there's

00:11:27,460 --> 00:11:34,540
about four of them that had that name at

00:11:28,690 --> 00:11:36,280
the time that was a bit problematic so

00:11:34,540 --> 00:11:38,920
there was a large amount of press

00:11:36,280 --> 00:11:40,150
coverage of the whole pager network shut

00:11:38,920 --> 00:11:43,600
down because it was impacting all the

00:11:40,150 --> 00:11:44,860
emergency services the spark were quite

00:11:43,600 --> 00:11:46,750
clear and it said that they talked to

00:11:44,860 --> 00:11:48,100
all their customers including say the

00:11:46,750 --> 00:11:50,800
New Zealand Fire Service who were the

00:11:48,100 --> 00:11:53,140
biggest user they used it to have all

00:11:50,800 --> 00:11:55,240
their volunteers add pages as well so we

00:11:53,140 --> 00:11:56,440
have quite a rural community so they

00:11:55,240 --> 00:11:57,790
would get pager messages and they would

00:11:56,440 --> 00:11:59,350
go get in the fire truck and go out and

00:11:57,790 --> 00:12:04,450
deal with the fire and that kind of

00:11:59,350 --> 00:12:06,130
thing it was a bit of mixed signals the

00:12:04,450 --> 00:12:07,870
fire service quite quickly came out and

00:12:06,130 --> 00:12:10,510
said we had no idea what are you talking

00:12:07,870 --> 00:12:15,910
about we're not sure how we would cope

00:12:10,510 --> 00:12:17,980
with that going away they effectively

00:12:15,910 --> 00:12:19,330
delayed sparks ability to turn off the

00:12:17,980 --> 00:12:21,610
patron network which was both good for

00:12:19,330 --> 00:12:24,550
us and bad for us because now it became

00:12:21,610 --> 00:12:26,320
more and more unreliable but they had

00:12:24,550 --> 00:12:29,440
the fire service had 11,000 volunteers

00:12:26,320 --> 00:12:32,740
in New Zealand with pages who got

00:12:29,440 --> 00:12:34,270
notifications for their local area so it

00:12:32,740 --> 00:12:37,420
was quite a big system that had a lot of

00:12:34,270 --> 00:12:38,710
users and needed a bit more investment

00:12:37,420 --> 00:12:42,610
than spark were willing to provide at

00:12:38,710 --> 00:12:45,460
the time unfortunately for us time ran

00:12:42,610 --> 00:12:48,580
out in the middle of the night one of

00:12:45,460 --> 00:12:49,810
our on-call people woke up to a customer

00:12:48,580 --> 00:12:54,310
complaining that we hadn't responded to

00:12:49,810 --> 00:12:56,410
something of an SLA window via phone and

00:12:54,310 --> 00:12:58,900
because we were getting no carrier to

00:12:56,410 --> 00:13:02,380
the modem banks that we dial into to

00:12:58,900 --> 00:13:04,510
send the pager messages we spent a

00:13:02,380 --> 00:13:07,600
significant amount of time roughly two

00:13:04,510 --> 00:13:08,980
or three days talking to sparks

00:13:07,600 --> 00:13:11,650
helpdesk trying to figure out what was

00:13:08,980 --> 00:13:13,330
going on for anyone who can't read that

00:13:11,650 --> 00:13:14,530
that says thank you for your patience at

00:13:13,330 --> 00:13:15,880
this time there are several calls

00:13:14,530 --> 00:13:17,350
waiting ahead of you if people in your

00:13:15,880 --> 00:13:21,430
family tend to live a long time please

00:13:17,350 --> 00:13:23,420
continue to halt so after about two and

00:13:21,430 --> 00:13:25,070
a half three days we got in contact with

00:13:23,420 --> 00:13:28,760
someone who could actually help us and

00:13:25,070 --> 00:13:30,200
they told us that people who hadn't

00:13:28,760 --> 00:13:31,670
already signed up to the new network

00:13:30,200 --> 00:13:33,290
that they had agreed to build with the

00:13:31,670 --> 00:13:35,330
fire service which was essentially just

00:13:33,290 --> 00:13:38,300
the fire service buying the old network

00:13:35,330 --> 00:13:40,310
and then maintaining it a bit longer and

00:13:38,300 --> 00:13:42,280
that they had decided to disconnect

00:13:40,310 --> 00:13:44,150
people who hadn't started the transition

00:13:42,280 --> 00:13:45,500
unfortunately it turns out they didn't

00:13:44,150 --> 00:13:46,670
actually have a complete list of all the

00:13:45,500 --> 00:13:48,860
customers who had been paying the money

00:13:46,670 --> 00:13:51,350
for many many years and we happen to not

00:13:48,860 --> 00:13:56,600
be on that list so they cut us off in

00:13:51,350 --> 00:13:59,000
the middle of the night they had been

00:13:56,600 --> 00:14:02,120
working with people but again they

00:13:59,000 --> 00:14:03,860
hadn't worked with us we had no idea but

00:14:02,120 --> 00:14:06,170
they built a new API instead of using

00:14:03,860 --> 00:14:09,620
the modems to reduce their costs they

00:14:06,170 --> 00:14:11,270
had four or five different data centers

00:14:09,620 --> 00:14:13,790
around the country with a full rack of

00:14:11,270 --> 00:14:15,710
modems and they were using a lot of

00:14:13,790 --> 00:14:17,450
power and Rackspace is expensive and

00:14:15,710 --> 00:14:19,670
they wanted to turn them off get rid of

00:14:17,450 --> 00:14:21,680
them so they contracted the company to

00:14:19,670 --> 00:14:24,680
build an API that people could use to

00:14:21,680 --> 00:14:26,450
send messages unfortunately it took us

00:14:24,680 --> 00:14:28,160
three days to find that out and it was

00:14:26,450 --> 00:14:33,350
after they turned all the old access

00:14:28,160 --> 00:14:38,630
points off and this is a convenient

00:14:33,350 --> 00:14:41,180
photo of a phone system in New Zealand

00:14:38,630 --> 00:14:44,420
not unfortunately a modem bank but

00:14:41,180 --> 00:14:45,950
there's the Potts firing so they turned

00:14:44,420 --> 00:14:48,440
off the modem banks they left one

00:14:45,950 --> 00:14:50,510
running and unfortunately because they

00:14:48,440 --> 00:14:52,100
had no list of all the customers that

00:14:50,510 --> 00:14:54,440
was complete the ones that they had

00:14:52,100 --> 00:14:57,470
managed to toll till moved over quite

00:14:54,440 --> 00:14:59,180
happily to the new API and the old ones

00:14:57,470 --> 00:15:00,590
just had their modem said that trying to

00:14:59,180 --> 00:15:03,020
send messages over and over and over

00:15:00,590 --> 00:15:05,060
again to a very small number of phone

00:15:03,020 --> 00:15:06,680
lines that were available so they

00:15:05,060 --> 00:15:08,150
effectively caused the distributed

00:15:06,680 --> 00:15:10,490
denial of service attack on them what

00:15:08,150 --> 00:15:15,140
remained of the infrastructure which

00:15:10,490 --> 00:15:16,720
meant we couldn't send messages so four

00:15:15,140 --> 00:15:19,310
and a half days later we got the

00:15:16,720 --> 00:15:23,750
documentation for the new API this is

00:15:19,310 --> 00:15:25,610
the header of the PDF and we started

00:15:23,750 --> 00:15:26,900
working to solve the immediate problem

00:15:25,610 --> 00:15:28,670
so people could sleep at night we've

00:15:26,900 --> 00:15:30,230
been having people stay up and watch

00:15:28,670 --> 00:15:32,300
monitoring systems so that they could

00:15:30,230 --> 00:15:33,200
see what was going on because we didn't

00:15:32,300 --> 00:15:36,460
really have a better way of getting

00:15:33,200 --> 00:15:38,590
things to them because again they

00:15:36,460 --> 00:15:40,180
problematic for us we ended up

00:15:38,590 --> 00:15:45,340
anticipating the bullet and using email

00:15:40,180 --> 00:15:46,960
to SMS which was very unfortunate it

00:15:45,340 --> 00:15:48,400
caused more single points of failure

00:15:46,960 --> 00:15:49,780
than we already had and everyone was

00:15:48,400 --> 00:15:51,160
very uncomfortable with it and people

00:15:49,780 --> 00:15:52,420
would wake up in the middle night while

00:15:51,160 --> 00:15:54,460
they're on pager and just go and check

00:15:52,420 --> 00:15:57,250
everything was okay which as you can

00:15:54,460 --> 00:15:58,960
imagine wasn't great and that is

00:15:57,250 --> 00:16:01,060
effectively how hot potater was born we

00:15:58,960 --> 00:16:02,260
decided that email was bad and that a

00:16:01,060 --> 00:16:06,580
project that we hadn't named yet was

00:16:02,260 --> 00:16:10,120
good so one night I spent an hour and I

00:16:06,580 --> 00:16:12,340
built the first version of hot potato it

00:16:10,120 --> 00:16:14,380
was a really really bad API it was a

00:16:12,340 --> 00:16:16,510
fixer effectively just a page that the

00:16:14,380 --> 00:16:19,240
server could post to and that would

00:16:16,510 --> 00:16:20,440
submit a notification from a dodgy

00:16:19,240 --> 00:16:22,540
script that we'd rolled out to all the

00:16:20,440 --> 00:16:23,980
monitoring service which just took the

00:16:22,540 --> 00:16:26,950
details from a singer or nagi also and

00:16:23,980 --> 00:16:28,540
threw them at that page it would insert

00:16:26,950 --> 00:16:31,750
the notification into a database and

00:16:28,540 --> 00:16:33,070
then talk to the API and send it on and

00:16:31,750 --> 00:16:34,900
conveniently this was the point where

00:16:33,070 --> 00:16:37,660
all our pager messages became consistent

00:16:34,900 --> 00:16:39,070
which was really good but it was

00:16:37,660 --> 00:16:41,890
unfortunate under a bit of sad

00:16:39,070 --> 00:16:43,390
circumstances we didn't do very good

00:16:41,890 --> 00:16:45,610
planning on that first error build

00:16:43,390 --> 00:16:47,560
because we just wanted to get some again

00:16:45,610 --> 00:16:50,260
so we had a page where you could go and

00:16:47,560 --> 00:16:52,660
see the recent notifications which just

00:16:50,260 --> 00:16:54,130
did that and dumped every single thing

00:16:52,660 --> 00:16:57,220
that was in the database onto a single

00:16:54,130 --> 00:16:59,470
page in an HTML table which very quickly

00:16:57,220 --> 00:17:02,230
got out of hand and bad so we knew we

00:16:59,470 --> 00:17:03,820
needed to do something better as well we

00:17:02,230 --> 00:17:05,410
also added a hand of a button which

00:17:03,820 --> 00:17:07,450
effectively just sent a message to the

00:17:05,410 --> 00:17:09,640
pager person saying hi I'm James I have

00:17:07,450 --> 00:17:11,170
the pager now which solved our IRC

00:17:09,640 --> 00:17:13,860
problem as well so we had a small win

00:17:11,170 --> 00:17:18,760
but it was still not a very good system

00:17:13,860 --> 00:17:21,700
still more allowable than email it

00:17:18,760 --> 00:17:23,400
worked mostly and it gave us the time

00:17:21,700 --> 00:17:26,950
and opportunity to do a lot better than

00:17:23,400 --> 00:17:31,240
what we had so we came up with some

00:17:26,950 --> 00:17:33,100
goals it was very important to us that

00:17:31,240 --> 00:17:36,130
anything that we did build didn't get in

00:17:33,100 --> 00:17:38,290
the way we didn't want someone to get

00:17:36,130 --> 00:17:40,960
200 notifications because something

00:17:38,290 --> 00:17:42,610
terrible happened like AWS Sydney in

00:17:40,960 --> 00:17:45,760
Australia fell over like it did that one

00:17:42,610 --> 00:17:47,110
time when I was on call we wanted we

00:17:45,760 --> 00:17:50,029
really wanted to make it easy for people

00:17:47,110 --> 00:17:52,070
to be on call it's very important

00:17:50,029 --> 00:17:53,750
we didn't want the horrors of

00:17:52,070 --> 00:17:57,350
inconsistent messages that were just

00:17:53,750 --> 00:17:58,970
arrays of things scent of things and we

00:17:57,350 --> 00:18:01,580
wanted to enable alert reduction let

00:17:58,970 --> 00:18:05,539
people asleep there was a period where

00:18:01,580 --> 00:18:07,850
being on call was quite painful this is

00:18:05,539 --> 00:18:11,179
the number of pages per day from the

00:18:07,850 --> 00:18:14,840
start of 2018 to June 2018 so the first

00:18:11,179 --> 00:18:16,220
six months of 2018 and as you can see

00:18:14,840 --> 00:18:23,090
there are quite a lot of pages per day

00:18:16,220 --> 00:18:25,700
there we also wanted to be able to

00:18:23,090 --> 00:18:27,139
survive natural hazards they're kind of

00:18:25,700 --> 00:18:33,919
a reality of building things in New

00:18:27,139 --> 00:18:35,990
Zealand now we have volcanoes we're not

00:18:33,919 --> 00:18:38,179
just near the Ring of Fire we're

00:18:35,990 --> 00:18:39,919
actually part of the Ring of Fire like

00:18:38,179 --> 00:18:43,129
the entire country is in the Ring of

00:18:39,919 --> 00:18:46,460
Fire we have a number of volcanoes up

00:18:43,129 --> 00:18:48,169
and down the country because of the

00:18:46,460 --> 00:18:51,590
tectonic plates and things we get

00:18:48,169 --> 00:18:54,350
earthquakes yeah quite recently we've

00:18:51,590 --> 00:18:57,710
had a number of fatal earthquakes in

00:18:54,350 --> 00:18:59,720
February 2011 185 people died in one in

00:18:57,710 --> 00:19:02,929
Christchurch and then in June and one

00:18:59,720 --> 00:19:04,970
person died and then in November 2016

00:19:02,929 --> 00:19:06,169
two people died and another one in

00:19:04,970 --> 00:19:10,279
Kokura which is quite close to

00:19:06,169 --> 00:19:12,110
Christchurch these are the fault lines

00:19:10,279 --> 00:19:14,480
running up and down New Zealand

00:19:12,110 --> 00:19:17,240
both islands on the left and the North

00:19:14,480 --> 00:19:19,730
Island on the top Wellington being where

00:19:17,240 --> 00:19:25,039
I live and up for the center of the

00:19:19,730 --> 00:19:26,690
country in some of the recent

00:19:25,039 --> 00:19:28,519
earthquakes it was quite significant

00:19:26,690 --> 00:19:31,370
damage to infrastructure around the

00:19:28,519 --> 00:19:34,399
country which naturally impacted IT

00:19:31,370 --> 00:19:36,320
systems and power and the ability for

00:19:34,399 --> 00:19:38,440
people to travel and communicate which

00:19:36,320 --> 00:19:41,240
are all things we wanted to plan for

00:19:38,440 --> 00:19:42,620
this is a photo from down in the South

00:19:41,240 --> 00:19:45,350
Island taken by the New Zealand Air

00:19:42,620 --> 00:19:47,000
Force that showed the rock falls over

00:19:45,350 --> 00:19:50,059
one of the major roads and train lines

00:19:47,000 --> 00:19:51,769
down to the South Island so Freight goes

00:19:50,059 --> 00:19:54,620
via ferry from the North Island down

00:19:51,769 --> 00:19:58,070
through this part to the major cities in

00:19:54,620 --> 00:20:01,190
the South Island this is slightly zoomed

00:19:58,070 --> 00:20:02,980
in from where the tunnel comes out so

00:20:01,190 --> 00:20:04,900
this is the train track after

00:20:02,980 --> 00:20:07,060
the earthquake as you can see it's moved

00:20:04,900 --> 00:20:09,910
quite significantly not really safe to

00:20:07,060 --> 00:20:11,950
put a train over any more and here's

00:20:09,910 --> 00:20:17,140
that again from a different angle kind

00:20:11,950 --> 00:20:19,180
of showing just how far removed this is

00:20:17,140 --> 00:20:21,100
a member of parliament standing in a

00:20:19,180 --> 00:20:23,890
break in the road down in kaikoura after

00:20:21,100 --> 00:20:26,280
the earthquake just to give you an idea

00:20:23,890 --> 00:20:28,480
of how much the roading has moved and

00:20:26,280 --> 00:20:30,730
how it might be a little difficult for

00:20:28,480 --> 00:20:32,560
person to get from A to B and here's

00:20:30,730 --> 00:20:37,300
another photo with a bike for scale on

00:20:32,560 --> 00:20:39,100
some eroding damaged power

00:20:37,300 --> 00:20:41,110
infrastructure was quite significantly

00:20:39,100 --> 00:20:42,090
hit this is some rural power lines down

00:20:41,110 --> 00:20:46,000
in wahoo

00:20:42,090 --> 00:20:48,100
y al I'm not too sure well frankly and

00:20:46,000 --> 00:20:49,810
naturally after a big earthquake when

00:20:48,100 --> 00:20:51,790
you're trying to get people to places to

00:20:49,810 --> 00:20:54,700
help what you really need is another

00:20:51,790 --> 00:20:57,640
city to start flooding and also be

00:20:54,700 --> 00:20:59,230
experiencing some earthquake damage this

00:20:57,640 --> 00:21:04,690
is a photo from Wellington the other

00:20:59,230 --> 00:21:05,980
photos from the other Island if you are

00:21:04,690 --> 00:21:08,740
particularly interested in what can

00:21:05,980 --> 00:21:10,600
happen to major infrastructure this is

00:21:08,740 --> 00:21:12,760
the Canterbury television building down

00:21:10,600 --> 00:21:15,280
in Christchurch which 115 people died in

00:21:12,760 --> 00:21:19,090
when it collapsed in the February 2011

00:21:15,280 --> 00:21:20,260
Christchurch earthquake I'm not gonna

00:21:19,090 --> 00:21:21,340
show photos of what happened to it after

00:21:20,260 --> 00:21:24,940
because it's quite distressing for

00:21:21,340 --> 00:21:28,270
people but as I was saying with the

00:21:24,940 --> 00:21:29,530
flooding naturally while people were

00:21:28,270 --> 00:21:32,350
doing search-and-rescue in this building

00:21:29,530 --> 00:21:34,180
trying to get survivors out they had the

00:21:32,350 --> 00:21:36,550
Japanese urban search-and-rescue team

00:21:34,180 --> 00:21:37,930
helping and then the earthquake and

00:21:36,550 --> 00:21:41,440
tsunami in Japan happened and they got

00:21:37,930 --> 00:21:43,120
recalled home so it's very hard to get

00:21:41,440 --> 00:21:45,370
people to places and to help with things

00:21:43,120 --> 00:21:46,810
and everything that can go wrong will go

00:21:45,370 --> 00:21:50,350
wrong which is what we wanted to plan

00:21:46,810 --> 00:21:54,180
for we also have the ongoing risk of

00:21:50,350 --> 00:21:57,070
tsunamis from the earthquakes and things

00:21:54,180 --> 00:21:59,470
this is Wellington tsunami zone as you

00:21:57,070 --> 00:22:01,750
can maybe see it covers the airport

00:21:59,470 --> 00:22:06,100
entirely the airport is just above sea

00:22:01,750 --> 00:22:09,790
level this is zoomed in a bit on the

00:22:06,100 --> 00:22:12,340
main CBD area of Wellington and then

00:22:09,790 --> 00:22:14,620
slightly further we have the street that

00:22:12,340 --> 00:22:16,900
the catalyst office is on and that's

00:22:14,620 --> 00:22:18,670
where the callused offices so we're just

00:22:16,900 --> 00:22:22,570
side where they predict the worst cases

00:22:18,670 --> 00:22:24,040
an army will hit it's literally a meter

00:22:22,570 --> 00:22:28,960
from the front door at the building so

00:22:24,040 --> 00:22:31,270
you know we also wanted to survive any

00:22:28,960 --> 00:22:33,340
loss of international connectivity we

00:22:31,270 --> 00:22:36,820
used to have one main undersea cable

00:22:33,340 --> 00:22:38,500
with two label2 landings and we are

00:22:36,820 --> 00:22:41,140
quite a significant distance from other

00:22:38,500 --> 00:22:43,090
countries our closest neighbor that

00:22:41,140 --> 00:22:44,500
would have the resources to really help

00:22:43,090 --> 00:22:45,970
us in a large-scale disaster is

00:22:44,500 --> 00:22:48,910
Australia and that's a free or for help

00:22:45,970 --> 00:22:50,050
plane right away so by the time any real

00:22:48,910 --> 00:22:52,660
help would really get to us it would

00:22:50,050 --> 00:22:54,790
probably be at least a day and as you

00:22:52,660 --> 00:22:57,790
can see to Europe it's 24 hours and

00:22:54,790 --> 00:22:59,350
other places it's 11 to 12 it took me

00:22:57,790 --> 00:23:01,330
thirty two and a half hours of flying to

00:22:59,350 --> 00:23:04,210
get to Heathrow Airport before I was on

00:23:01,330 --> 00:23:07,900
the way here so it's a significant

00:23:04,210 --> 00:23:10,420
amount of time so we had the one main

00:23:07,900 --> 00:23:12,010
cable which went between Australia New

00:23:10,420 --> 00:23:16,570
Zealand and New Zealand and the United

00:23:12,010 --> 00:23:17,830
States it had two landing points which

00:23:16,570 --> 00:23:20,800
were both at the top of the country

00:23:17,830 --> 00:23:23,290
which naturally where we are the fault

00:23:20,800 --> 00:23:24,820
lines go right through so in the event

00:23:23,290 --> 00:23:26,620
of a major earthquake that's probably

00:23:24,820 --> 00:23:29,680
gone so we needed to be able to survive

00:23:26,620 --> 00:23:31,810
that as well thankfully things have

00:23:29,680 --> 00:23:34,660
improved slightly since then and we have

00:23:31,810 --> 00:23:36,370
a number of other cables now but they're

00:23:34,660 --> 00:23:39,160
all still landing mostly at the top of

00:23:36,370 --> 00:23:43,720
the country as you'd expect it's cheaper

00:23:39,160 --> 00:23:46,060
that way so we had some requirements we

00:23:43,720 --> 00:23:49,330
wanted to survive disasters and team

00:23:46,060 --> 00:23:52,960
lunches we wanted to support all of our

00:23:49,330 --> 00:23:54,880
existing monitoring systems we really

00:23:52,960 --> 00:23:57,160
wanted to get email out of the picture

00:23:54,880 --> 00:23:59,980
entirely we don't want any of that in

00:23:57,160 --> 00:24:01,480
our delivery path emails just

00:23:59,980 --> 00:24:03,160
problematic if you're wondering why I'm

00:24:01,480 --> 00:24:05,800
happy to rant at you about it for hours

00:24:03,160 --> 00:24:07,180
and hours after this and we really

00:24:05,800 --> 00:24:10,290
wanted the ability to confirm message

00:24:07,180 --> 00:24:13,570
delivery so we wanted to move away from

00:24:10,290 --> 00:24:16,510
paging and emergency use of SMS to

00:24:13,570 --> 00:24:18,370
actual push notifications that had both

00:24:16,510 --> 00:24:19,990
the cellphone networks and the broadband

00:24:18,370 --> 00:24:21,510
networks with Wi-Fi and things to make

00:24:19,990 --> 00:24:23,770
sure they got to people's phones and

00:24:21,510 --> 00:24:25,960
then we get a nice confirmation back

00:24:23,770 --> 00:24:27,940
saying hey the messages on the phone and

00:24:25,960 --> 00:24:30,190
later hey the person has read the

00:24:27,940 --> 00:24:32,509
message on the phone

00:24:30,190 --> 00:24:34,970
we also wanted to do some improvements

00:24:32,509 --> 00:24:37,460
to the handover which we had started on

00:24:34,970 --> 00:24:39,019
in that initial version but people like

00:24:37,460 --> 00:24:40,909
going to sleep and we didn't want people

00:24:39,019 --> 00:24:43,519
to have to wake up to do handover or

00:24:40,909 --> 00:24:44,960
have handover done so if you've been

00:24:43,519 --> 00:24:46,700
awakened all night and you're trying to

00:24:44,960 --> 00:24:48,169
sleep and the business day starts and

00:24:46,700 --> 00:24:50,269
someone else comes and they take over

00:24:48,169 --> 00:24:51,679
the pager traditionally you would get a

00:24:50,269 --> 00:24:53,149
pager message yourself and you'd get

00:24:51,679 --> 00:24:54,440
woken up or you'd have to wake up and

00:24:53,149 --> 00:24:56,690
talk to the person we wanted to get rid

00:24:54,440 --> 00:25:00,799
of that we like people being able to

00:24:56,690 --> 00:25:03,470
sleep for the night we really really

00:25:00,799 --> 00:25:05,090
wanted to get rid of pages for those of

00:25:03,470 --> 00:25:06,799
you who haven't seen the BlackBerry

00:25:05,090 --> 00:25:11,059
episode hated in the nation I highly

00:25:06,799 --> 00:25:13,999
recommend it best one and thus we had a

00:25:11,059 --> 00:25:15,769
plan for hot potato and we've spent the

00:25:13,999 --> 00:25:18,139
last four and a half years implementing

00:25:15,769 --> 00:25:20,059
over it and making it better we released

00:25:18,139 --> 00:25:23,269
it at the start of last year for public

00:25:20,059 --> 00:25:25,519
consumption and we've done a lot of work

00:25:23,269 --> 00:25:27,440
with our designing user experience teams

00:25:25,519 --> 00:25:29,269
making it something that's very easy for

00:25:27,440 --> 00:25:32,779
someone who's been awake for a very long

00:25:29,269 --> 00:25:35,809
time to not make mistakes with and have

00:25:32,779 --> 00:25:37,549
a much better on-call experience part of

00:25:35,809 --> 00:25:40,249
that also involved us speaking to past

00:25:37,549 --> 00:25:42,379
employees and people at other companies

00:25:40,249 --> 00:25:44,570
who were speaking publicly about their

00:25:42,379 --> 00:25:47,629
experiences with burnout and coming off

00:25:44,570 --> 00:25:49,909
on-call systems for medical reasons and

00:25:47,629 --> 00:25:53,330
so on so we we did everything we could

00:25:49,909 --> 00:25:57,379
to make it the best possible system so

00:25:53,330 --> 00:25:59,360
what did we build well we built a web

00:25:57,379 --> 00:26:02,600
application with an API in Python and

00:25:59,360 --> 00:26:05,450
flask we chose flask specifically for

00:26:02,600 --> 00:26:08,659
the database support with cockroach DB

00:26:05,450 --> 00:26:11,149
so it also has that in the backend which

00:26:08,659 --> 00:26:13,220
is for those of you don't know it it

00:26:11,149 --> 00:26:15,350
emulates Postgres but it has badger

00:26:13,220 --> 00:26:18,049
company that allows like global

00:26:15,350 --> 00:26:21,080
replication and clustering and magic

00:26:18,049 --> 00:26:24,409
essentially with RabbitMQ for Message

00:26:21,080 --> 00:26:26,990
Queuing our production environment has

00:26:24,409 --> 00:26:28,940
five nodes free new zealand one in

00:26:26,990 --> 00:26:31,639
sydney australia and one in california

00:26:28,940 --> 00:26:33,529
in the united states mostly because

00:26:31,639 --> 00:26:35,450
that's where the international cables go

00:26:33,529 --> 00:26:37,720
at this point there's not really much

00:26:35,450 --> 00:26:40,460
point for us going further at the moment

00:26:37,720 --> 00:26:42,259
we figure in the event that all of the

00:26:40,460 --> 00:26:42,800
regions in New Zealand go offline we

00:26:42,259 --> 00:26:44,480
probably

00:26:42,800 --> 00:26:46,640
really care about all our things being

00:26:44,480 --> 00:26:48,410
down there probably busy trying to you

00:26:46,640 --> 00:26:52,250
know put tarps on roofs and put ten

00:26:48,410 --> 00:26:53,900
sucks for us to sleep in so this is

00:26:52,250 --> 00:26:55,810
around though it's our the green one is

00:26:53,900 --> 00:27:01,570
the free New Zealand and the other to

00:26:55,810 --> 00:27:08,330
the other places how does it work

00:27:01,570 --> 00:27:11,150
so setting a notification we have the

00:27:08,330 --> 00:27:13,100
monitoring server which at the moment

00:27:11,150 --> 00:27:15,110
being traditional a sink and a Geo style

00:27:13,100 --> 00:27:16,760
thing runs the script and the script

00:27:15,110 --> 00:27:19,370
then does some magic to talk to hot

00:27:16,760 --> 00:27:20,720
potato we have a new version of this

00:27:19,370 --> 00:27:23,030
we're planning to release soon which

00:27:20,720 --> 00:27:25,700
instead of just trying to throw the

00:27:23,030 --> 00:27:27,410
message at the API repeatedly does some

00:27:25,700 --> 00:27:29,150
proper queuing locally on the service in

00:27:27,410 --> 00:27:31,610
the event that communications does go

00:27:29,150 --> 00:27:33,170
down we have some customers who have

00:27:31,610 --> 00:27:35,720
very redundant internet and some that

00:27:33,170 --> 00:27:38,000
don't and some that you know may be on a

00:27:35,720 --> 00:27:39,260
small Pacific nation Island and don't

00:27:38,000 --> 00:27:44,120
have the best communication at the best

00:27:39,260 --> 00:27:48,470
of times the API froze the message into

00:27:44,120 --> 00:27:50,180
the database and into the queue and then

00:27:48,470 --> 00:27:51,650
we have notification agents on all the

00:27:50,180 --> 00:27:53,030
hot potato service that just

00:27:51,650 --> 00:27:55,640
continuously poll the queue for new

00:27:53,030 --> 00:28:01,190
messages and try to send them to the

00:27:55,640 --> 00:28:02,840
notification providers we have worked

00:28:01,190 --> 00:28:05,120
some magic ends so that we have both

00:28:02,840 --> 00:28:07,730
verifiable and unverifiable contact

00:28:05,120 --> 00:28:11,210
methods that people can load in so you

00:28:07,730 --> 00:28:13,040
can say have the pushover application on

00:28:11,210 --> 00:28:14,570
your phone which counts as a verifiable

00:28:13,040 --> 00:28:16,940
one because it will send back a the

00:28:14,570 --> 00:28:19,460
person who's got the message and then we

00:28:16,940 --> 00:28:21,800
have things like SMS which doesn't have

00:28:19,460 --> 00:28:23,810
that verification so if you have more

00:28:21,800 --> 00:28:25,490
than one set up and say the pushover

00:28:23,810 --> 00:28:27,980
fails it will go through and try all the

00:28:25,490 --> 00:28:30,320
others and keep going with the ones that

00:28:27,980 --> 00:28:33,440
are verifiable until you've acknowledged

00:28:30,320 --> 00:28:34,690
the message and we also added and

00:28:33,440 --> 00:28:37,960
support for heartbeats

00:28:34,690 --> 00:28:40,490
after a few customer network problems

00:28:37,960 --> 00:28:41,960
heartbeats is essentially a script

00:28:40,490 --> 00:28:44,600
running on the monitoring server every

00:28:41,960 --> 00:28:45,770
minute either executed by cron or their

00:28:44,600 --> 00:28:48,260
monitoring software itself

00:28:45,770 --> 00:28:50,020
that just goes and tells hot potato it's

00:28:48,260 --> 00:28:54,500
alive

00:28:50,020 --> 00:28:57,640
how does it look so we ended up with a

00:28:54,500 --> 00:28:57,640
user interface a bit like this

00:28:57,649 --> 00:29:03,139
you have notifications here that are all

00:29:00,830 --> 00:29:05,389
critical messages they're all in a nice

00:29:03,139 --> 00:29:09,950
consistent format you can do filtering

00:29:05,389 --> 00:29:11,809
and change by days so forth and

00:29:09,950 --> 00:29:14,389
particularism did an example of a

00:29:11,809 --> 00:29:17,169
notification looks like this so you have

00:29:14,389 --> 00:29:20,029
the demo server number four went down

00:29:17,169 --> 00:29:22,610
the zone disconnected from a singer - at

00:29:20,029 --> 00:29:24,769
1:15 p.m. and the message was sent to

00:29:22,610 --> 00:29:27,919
the on-call person

00:29:24,769 --> 00:29:32,779
the on-call person would get a push of a

00:29:27,919 --> 00:29:36,139
notification like this one yeah it works

00:29:32,779 --> 00:29:37,429
quite well but what else gonna do there

00:29:36,139 --> 00:29:39,740
are other important things that we

00:29:37,429 --> 00:29:43,789
wanted things to be able to do so we

00:29:39,740 --> 00:29:45,649
added failure notifications so we have a

00:29:43,789 --> 00:29:47,210
number of people such as myself who were

00:29:45,649 --> 00:29:49,460
escalation points for people who are

00:29:47,210 --> 00:29:50,629
on-call so if they're having problems or

00:29:49,460 --> 00:29:52,519
if they've been out for too long they

00:29:50,629 --> 00:29:54,950
want someone else to take over they can

00:29:52,519 --> 00:29:58,700
call one of those people in the event

00:29:54,950 --> 00:30:00,919
that you're on call and say you're not

00:29:58,700 --> 00:30:04,519
in your usual residence and your phone

00:30:00,919 --> 00:30:05,710
goes flat the hot potato will recognize

00:30:04,519 --> 00:30:08,029
that it can no longer send you messages

00:30:05,710 --> 00:30:09,619
and it will start talking to people who

00:30:08,029 --> 00:30:11,509
have set up failure notifications for

00:30:09,619 --> 00:30:15,259
themselves which are the escalation

00:30:11,509 --> 00:30:17,330
point people such as myself so if say an

00:30:15,259 --> 00:30:19,700
imaginary person called Jason is on

00:30:17,330 --> 00:30:21,169
Pedro's phone goes flat it's not a big

00:30:19,700 --> 00:30:22,730
deal anymore because the other people

00:30:21,169 --> 00:30:24,769
will find out and get to go and deal

00:30:22,730 --> 00:30:26,389
with the thing and potentially try and

00:30:24,769 --> 00:30:32,269
reach Jason and say hey plug your phone

00:30:26,389 --> 00:30:34,850
into Church we have the heartbeats from

00:30:32,269 --> 00:30:36,409
the monitoring servers and these are

00:30:34,850 --> 00:30:38,649
entirely configurable which is quite

00:30:36,409 --> 00:30:41,149
nice and you get out time statistics

00:30:38,649 --> 00:30:42,590
this is very helpful if you say have

00:30:41,149 --> 00:30:43,700
remote customers with their own

00:30:42,590 --> 00:30:46,190
monitoring servers and their own

00:30:43,700 --> 00:30:47,480
networks and data centers who insist on

00:30:46,190 --> 00:30:49,309
sending all their notifications through

00:30:47,480 --> 00:30:51,230
proxy servers and then they make changes

00:30:49,309 --> 00:30:53,600
to their proxy servers that break all

00:30:51,230 --> 00:30:54,889
but 33 percent of the requests you find

00:30:53,600 --> 00:30:57,019
out quite quickly and you get to fix the

00:30:54,889 --> 00:30:59,929
problems and make sure that all your

00:30:57,019 --> 00:31:02,389
notifications get to people we also

00:30:59,929 --> 00:31:03,649
recently added the concept of teams so

00:31:02,389 --> 00:31:05,119
teams and hot potato are quite cool

00:31:03,649 --> 00:31:07,369
they're effectively just groups of

00:31:05,119 --> 00:31:08,899
people that can be on call we have a

00:31:07,369 --> 00:31:11,419
number of teams at catalyst

00:31:08,899 --> 00:31:14,210
and there are a lot of people who look

00:31:11,419 --> 00:31:17,869
after their own servers and then during

00:31:14,210 --> 00:31:20,179
the off hours they would have them page

00:31:17,869 --> 00:31:21,320
us in the middle of the night one of the

00:31:20,179 --> 00:31:23,809
big things we've managed to do with a

00:31:21,320 --> 00:31:26,089
low production is convince those people

00:31:23,809 --> 00:31:28,580
that them getting their notifications

00:31:26,089 --> 00:31:30,249
during business hours or after hours is

00:31:28,580 --> 00:31:32,450
better for them and better for us

00:31:30,249 --> 00:31:34,219
so we've effectively managed for almost

00:31:32,450 --> 00:31:37,759
everyone in the company on call or could

00:31:34,219 --> 00:31:40,190
put everyone in the company on call and

00:31:37,759 --> 00:31:43,070
the teams can also escalate so

00:31:40,190 --> 00:31:44,839
conveniently some of the teams don't

00:31:43,070 --> 00:31:46,700
want to be on call after hours or they

00:31:44,839 --> 00:31:48,799
don't have the actual capacity to do so

00:31:46,700 --> 00:31:52,369
and some teams are only two or three

00:31:48,799 --> 00:31:54,739
people so we have the option for either

00:31:52,369 --> 00:31:56,119
all of those people get notifications

00:31:54,739 --> 00:31:59,029
during business hours and then after

00:31:56,119 --> 00:32:00,229
hours they come to us or they get them

00:31:59,029 --> 00:32:04,580
during business hours and nothing

00:32:00,229 --> 00:32:07,969
happens after hours and so on we also

00:32:04,580 --> 00:32:09,830
added some reporting so there's an

00:32:07,969 --> 00:32:12,019
interface that I'll show a bit later on

00:32:09,830 --> 00:32:14,389
that will give you some nice graphs and

00:32:12,019 --> 00:32:15,979
charts of things like how many messages

00:32:14,389 --> 00:32:18,039
happens in business hours how many

00:32:15,979 --> 00:32:20,599
messages happened after a business hours

00:32:18,039 --> 00:32:22,279
which customers monitoring servers which

00:32:20,599 --> 00:32:24,229
are the most popular for sending

00:32:22,279 --> 00:32:25,460
messages at the time so you can easily

00:32:24,229 --> 00:32:26,719
say well that customers being

00:32:25,460 --> 00:32:28,849
problematic at the moment we should go

00:32:26,719 --> 00:32:31,369
look at their things and then you get

00:32:28,849 --> 00:32:33,739
like a complete list of unique message

00:32:31,369 --> 00:32:35,749
counts so if you had say five of the

00:32:33,739 --> 00:32:38,539
same server fill up with disk use at the

00:32:35,749 --> 00:32:40,369
same period in a week you have that at

00:32:38,539 --> 00:32:42,589
the top of the list and you can easily

00:32:40,369 --> 00:32:47,089
go well we need to fix that and reduce

00:32:42,589 --> 00:32:49,339
some alerts which helps with promoting

00:32:47,089 --> 00:32:51,859
alert reduction and we added an API

00:32:49,339 --> 00:32:54,070
endpoint and built some hardware to put

00:32:51,859 --> 00:32:57,259
these little displays around the company

00:32:54,070 --> 00:32:59,570
it's some neopixel leds which rotate

00:32:57,259 --> 00:33:01,820
through colors and things and it goes

00:32:59,570 --> 00:33:03,379
all the way up to nine at this point we

00:33:01,820 --> 00:33:06,859
haven't made it to nine yet I'm hopeful

00:33:03,379 --> 00:33:08,809
that we will Sunday but that has been

00:33:06,859 --> 00:33:11,929
very useful for people coming down and

00:33:08,809 --> 00:33:13,549
going up we went back to zero what

00:33:11,929 --> 00:33:15,139
happened what can we do to stop that

00:33:13,549 --> 00:33:17,419
happening and it's been amazing for the

00:33:15,139 --> 00:33:19,190
on call people I'm just getting people

00:33:17,419 --> 00:33:22,300
in the company on board with reducing

00:33:19,190 --> 00:33:24,590
the number of things that go to on call

00:33:22,300 --> 00:33:26,360
you may be wondering what notification

00:33:24,590 --> 00:33:30,590
providers it supports so at the moment

00:33:26,360 --> 00:33:32,720
we support fellow for SMS MIDI cahuachi

00:33:30,590 --> 00:33:35,450
New Zealand specific companies so yeah

00:33:32,720 --> 00:33:38,750
and pushover for Android and iOS

00:33:35,450 --> 00:33:40,220
notifications we've made it quite easy

00:33:38,750 --> 00:33:43,730
to add other providers for other

00:33:40,220 --> 00:33:45,020
countries if should you need to push her

00:33:43,730 --> 00:33:47,600
over notifications being the ones that

00:33:45,020 --> 00:33:49,070
look like that and then inside the

00:33:47,600 --> 00:33:51,320
application you can also have the option

00:33:49,070 --> 00:33:53,780
to acknowledge critical messages and

00:33:51,320 --> 00:33:56,450
send other messages such as handovers

00:33:53,780 --> 00:33:57,770
with a non critical state so that they

00:33:56,450 --> 00:33:59,480
don't actually wake people up in the

00:33:57,770 --> 00:34:00,770
middle of the night or early in the

00:33:59,480 --> 00:34:04,520
morning but they can see them on their

00:34:00,770 --> 00:34:07,310
phone when they do wake up what have we

00:34:04,520 --> 00:34:09,380
got planned for the future we wanted to

00:34:07,310 --> 00:34:12,320
do a mobile application because push

00:34:09,380 --> 00:34:15,230
alerts are amazing we want something

00:34:12,320 --> 00:34:18,110
simple not very fancy and with no

00:34:15,230 --> 00:34:19,460
learning curve for people again to help

00:34:18,110 --> 00:34:21,950
promote other people being on call

00:34:19,460 --> 00:34:25,240
within the company and to remove food

00:34:21,950 --> 00:34:27,380
particles such as pushover subscriptions

00:34:25,240 --> 00:34:32,030
we want to do some magic with our

00:34:27,380 --> 00:34:34,120
support hotline make customers do the

00:34:32,030 --> 00:34:36,470
right things and not end up with

00:34:34,120 --> 00:34:38,600
accidental telemarketer phone calls

00:34:36,470 --> 00:34:40,030
waking people up at 2:00 a.m. because

00:34:38,600 --> 00:34:42,740
they managed to dial the right number

00:34:40,030 --> 00:34:44,210
and we also have some plans for a

00:34:42,740 --> 00:34:47,440
feature we're referring to as planned

00:34:44,210 --> 00:34:49,520
work which is essentially having people

00:34:47,440 --> 00:34:50,990
giving the people the ability to have

00:34:49,520 --> 00:34:52,820
hot potato open on the computer while

00:34:50,990 --> 00:34:54,470
they're doing a large amount of planned

00:34:52,820 --> 00:34:56,840
work say they're patching a production

00:34:54,470 --> 00:34:58,550
environment and then using browser

00:34:56,840 --> 00:35:00,650
notifications to tell that person that

00:34:58,550 --> 00:35:03,050
something's about the page and give them

00:35:00,650 --> 00:35:05,210
a moment to say ah I just broke that and

00:35:03,050 --> 00:35:06,500
I forgot to downtime it that's fine

00:35:05,210 --> 00:35:10,460
and then the on-call person doesn't wake

00:35:06,500 --> 00:35:12,920
up we've also been adding language

00:35:10,460 --> 00:35:15,320
support so German and Italian are coming

00:35:12,920 --> 00:35:16,880
soon which may or may not interest in

00:35:15,320 --> 00:35:18,080
people at this conference you can

00:35:16,880 --> 00:35:19,790
currently enable this via the

00:35:18,080 --> 00:35:22,010
configuration file if you did want to

00:35:19,790 --> 00:35:26,540
have a look or maybe help with the

00:35:22,010 --> 00:35:28,430
translations so what would you need to

00:35:26,540 --> 00:35:30,650
do to try it or what would you need to

00:35:28,430 --> 00:35:32,870
do to deploy it to production it's quite

00:35:30,650 --> 00:35:34,100
simple we do all of our development in

00:35:32,870 --> 00:35:35,630
docker so if you

00:35:34,100 --> 00:35:37,130
- you can just run one command after

00:35:35,630 --> 00:35:39,980
cloning the repo and get everything up

00:35:37,130 --> 00:35:42,080
to play with or you could just build one

00:35:39,980 --> 00:35:43,670
server if you don't need the weird

00:35:42,080 --> 00:35:48,920
amount of redundancy that we need you

00:35:43,670 --> 00:35:59,230
don't have to have it all right shall we

00:35:48,920 --> 00:35:59,230
do a demo all right I conveniently have

00:36:00,300 --> 00:36:03,409
[Music]

00:36:16,450 --> 00:36:27,260
see that's me trying to be smart and

00:36:18,740 --> 00:36:29,960
getting the demo going too soon here we

00:36:27,260 --> 00:36:31,700
go all right so this is just a

00:36:29,960 --> 00:36:33,170
development environment on my laptop I

00:36:31,700 --> 00:36:35,300
did have it running in AWS but

00:36:33,170 --> 00:36:37,880
unfortunately I haven't been able to get

00:36:35,300 --> 00:36:39,140
a reliable connection to AWS and I

00:36:37,880 --> 00:36:40,730
didn't really want to have that whole

00:36:39,140 --> 00:36:43,040
embarrassing demo not working thing go

00:36:40,730 --> 00:36:45,620
on if you are interested in seeing this

00:36:43,040 --> 00:36:47,330
under a live demo I did do one last year

00:36:45,620 --> 00:36:49,910
at Luke's compost rally are down in

00:36:47,330 --> 00:36:52,180
Christchurch with live demo over

00:36:49,910 --> 00:36:58,100
conference Wi-Fi which was quite fun

00:36:52,180 --> 00:36:59,630
yeah just get rid of that so hot potato

00:36:58,100 --> 00:37:01,780
user interface nice and easy

00:36:59,630 --> 00:37:04,880
there's three main options at the top

00:37:01,780 --> 00:37:06,620
the default team menu where you can

00:37:04,880 --> 00:37:09,290
change to any other teams that you may

00:37:06,620 --> 00:37:12,650
be a member of and where you can go and

00:37:09,290 --> 00:37:14,600
change your settings unfortunately in

00:37:12,650 --> 00:37:16,430
this release the search box is a multi

00:37:14,600 --> 00:37:20,480
broken but we're working on that as part

00:37:16,430 --> 00:37:22,310
of putting in more back in search

00:37:20,480 --> 00:37:23,720
features such as using elastic search

00:37:22,310 --> 00:37:27,400
for going for all the notifications

00:37:23,720 --> 00:37:27,400
rather than doing database queries

00:37:27,580 --> 00:37:32,810
that's what I get for cloning the

00:37:29,570 --> 00:37:36,320
current master branch so this is the

00:37:32,810 --> 00:37:37,940
main UI this is loaded full of some

00:37:36,320 --> 00:37:41,630
example notifications and so I'm just

00:37:37,940 --> 00:37:44,050
going to pick the arbitrary last few

00:37:41,630 --> 00:37:44,050
months with

00:37:44,690 --> 00:37:50,930
we have a few examples here of the top

00:37:49,339 --> 00:37:52,579
one being a handover notification where

00:37:50,930 --> 00:37:54,700
when I logged into this demo environment

00:37:52,579 --> 00:37:57,770
for the first time I took over the pager

00:37:54,700 --> 00:38:00,109
an example critical notification so you

00:37:57,770 --> 00:38:02,990
have the name of the service on that

00:38:00,109 --> 00:38:04,819
host with that tribal code tribal codes

00:38:02,990 --> 00:38:07,039
are an amazing thing we came up with

00:38:04,819 --> 00:38:08,539
which is essentially just well someone

00:38:07,039 --> 00:38:11,270
else probably come up with as well but a

00:38:08,539 --> 00:38:12,680
short little message that you can go and

00:38:11,270 --> 00:38:13,970
search for on a wiki and get

00:38:12,680 --> 00:38:16,280
step-by-step instructions on how to

00:38:13,970 --> 00:38:17,900
solve a thing which when you have a

00:38:16,280 --> 00:38:19,430
large amount of different clients with

00:38:17,900 --> 00:38:21,619
different setups makes things a lot

00:38:19,430 --> 00:38:22,880
easier for on call people would highly

00:38:21,619 --> 00:38:26,450
recommend that for anyone who doesn't do

00:38:22,880 --> 00:38:28,099
it already in hot potato if you click

00:38:26,450 --> 00:38:30,799
those links you can specify where they

00:38:28,099 --> 00:38:32,839
go so if you have a wiki you can say

00:38:30,799 --> 00:38:35,740
have pages with those name and just

00:38:32,839 --> 00:38:39,020
specify the URL and the configuration

00:38:35,740 --> 00:38:39,680
you can send messages to the on call

00:38:39,020 --> 00:38:42,589
person

00:38:39,680 --> 00:38:44,089
so if say they're out at lunch during

00:38:42,589 --> 00:38:45,589
business hours you could send a message

00:38:44,089 --> 00:38:46,099
saying hey I'm just about to do this

00:38:45,589 --> 00:38:47,690
thing

00:38:46,099 --> 00:38:49,670
if anything gets wrong I'm sorry I did

00:38:47,690 --> 00:38:53,930
my best first time patching this prod

00:38:49,670 --> 00:38:56,359
environment you know and our potato can

00:38:53,930 --> 00:39:01,190
also do internal messaging when problems

00:38:56,359 --> 00:39:03,260
arise and so on and so forth we get

00:39:01,190 --> 00:39:07,400
messages for things being okay again

00:39:03,260 --> 00:39:08,809
which non critical ones so if things go

00:39:07,400 --> 00:39:12,380
critical in the middle of the night and

00:39:08,809 --> 00:39:14,029
you wake up you won't get another storm

00:39:12,380 --> 00:39:16,069
of messages on your phone if things go

00:39:14,029 --> 00:39:21,680
okay your phone will just display them

00:39:16,069 --> 00:39:24,140
nicely alright so in this example here

00:39:21,680 --> 00:39:25,400
we have a few servers as you can see

00:39:24,140 --> 00:39:27,710
some of the servers have missed

00:39:25,400 --> 00:39:30,200
heartbeats because they've never sent

00:39:27,710 --> 00:39:32,450
them because it's a demo environment we

00:39:30,200 --> 00:39:35,660
fully support time stamps and everything

00:39:32,450 --> 00:39:38,480
is stored in UTC like it should be and

00:39:35,660 --> 00:39:42,020
you can easily disable notifications

00:39:38,480 --> 00:39:45,650
from servers and things as well the

00:39:42,020 --> 00:39:47,299
reporting stuff so you can see in the

00:39:45,650 --> 00:39:49,190
last week the types of messages that

00:39:47,299 --> 00:39:51,440
have been sent being a demo environment

00:39:49,190 --> 00:39:53,450
it's not particularly amazing there's

00:39:51,440 --> 00:39:56,119
this house versus out-of-hours which

00:39:53,450 --> 00:39:57,530
servers sent messages a number of alerts

00:39:56,119 --> 00:39:59,210
per day

00:39:57,530 --> 00:40:01,190
and that's the count I was talking about

00:39:59,210 --> 00:40:04,820
in this case there's only been one so

00:40:01,190 --> 00:40:06,440
it's a bit unfortunate if we maybe go

00:40:04,820 --> 00:40:12,220
for a different week though it might be

00:40:06,440 --> 00:40:12,220
over better no worse all right

00:40:12,790 --> 00:40:21,230
okay let's do some things I'm just gonna

00:40:16,520 --> 00:40:24,950
do that move my mouse back over here and

00:40:21,230 --> 00:40:28,070
drag this window over all right so the

00:40:24,950 --> 00:40:30,730
second person ah again trying to be

00:40:28,070 --> 00:40:30,730
smart with the demo

00:40:41,340 --> 00:40:50,670
all right so at the moment this person

00:40:46,560 --> 00:40:53,880
is on call they're on pager this person

00:40:50,670 --> 00:40:55,530
is currently on call we can take over

00:40:53,880 --> 00:40:58,860
the pager from them we can send them a

00:40:55,530 --> 00:41:05,090
nice message if we want to you're now on

00:40:58,860 --> 00:41:05,090
call other person's taken over the pager

00:41:06,380 --> 00:41:11,040
from that point notifications would go

00:41:08,970 --> 00:41:12,300
to the other person and not the original

00:41:11,040 --> 00:41:16,010
person they'd set for a notification

00:41:12,300 --> 00:41:16,010
saying that that person's now on pager

00:41:16,100 --> 00:41:22,370
we also have the magic of teams and go

00:41:20,130 --> 00:41:22,370
very well

00:41:25,460 --> 00:41:30,420
administration over here there's a

00:41:28,590 --> 00:41:34,470
number of teams with some very bad tests

00:41:30,420 --> 00:41:35,870
out of names teams will have a number of

00:41:34,470 --> 00:41:41,610
people in them and you can have

00:41:35,870 --> 00:41:43,860
different roles you can also say I want

00:41:41,610 --> 00:41:46,950
this team to escalate to the hot potato

00:41:43,860 --> 00:41:50,450
team it should wait 30 minutes for a

00:41:46,950 --> 00:41:52,860
fing not paying action or acknowledged

00:41:50,450 --> 00:41:54,900
beforehand if that's a thing that can

00:41:52,860 --> 00:41:57,570
happen in that environment and you can

00:41:54,900 --> 00:42:00,270
have the never outside business hours or

00:41:57,570 --> 00:42:08,940
always escalation policy as well which

00:42:00,270 --> 00:42:10,140
always after that escalation delay being

00:42:08,940 --> 00:42:11,640
a demo environment a lot of these

00:42:10,140 --> 00:42:14,070
settings are going to be disabled but

00:42:11,640 --> 00:42:16,410
you have the verifiable contact methods

00:42:14,070 --> 00:42:18,150
and the unverifiable contact methods in

00:42:16,410 --> 00:42:20,610
the event they were enabled you would be

00:42:18,150 --> 00:42:22,230
able to go and add them you can set your

00:42:20,610 --> 00:42:24,810
time zone and people have the option of

00:42:22,230 --> 00:42:26,220
using 24 hour time which was quite a

00:42:24,810 --> 00:42:28,170
good option for quite a few of our

00:42:26,220 --> 00:42:30,390
people and you can see which teams

00:42:28,170 --> 00:42:32,100
you're in and if you have particular

00:42:30,390 --> 00:42:35,490
rights you can leave those teams or say

00:42:32,100 --> 00:42:36,750
this is my main team which will be the

00:42:35,490 --> 00:42:38,310
one that comes up by default when you

00:42:36,750 --> 00:42:43,410
log in and the rest you can pick from

00:42:38,310 --> 00:42:46,260
the list all right if you are on a team

00:42:43,410 --> 00:42:48,050
that can be escalated to so for example

00:42:46,260 --> 00:42:52,170
we just added this one you can then view

00:42:48,050 --> 00:42:53,790
all the things that happen inside that

00:42:52,170 --> 00:43:03,690
thing ignoring that error there

00:42:53,790 --> 00:43:05,490
be there yeah all right unfortunately I

00:43:03,690 --> 00:43:07,080
can't send any real notification so

00:43:05,490 --> 00:43:10,680
there's at the moment because the lack

00:43:07,080 --> 00:43:12,360
of reliable comms and there I kind of

00:43:10,680 --> 00:43:14,160
lost access to the AWS account I had

00:43:12,360 --> 00:43:30,450
some monitoring services as well so a

00:43:14,160 --> 00:43:35,270
bit unfortunate all right obligatory

00:43:30,450 --> 00:43:35,270
thank you to our contributors so far um

00:43:35,810 --> 00:43:44,010
mostly from New Zealand kallmes now in

00:43:38,520 --> 00:43:46,830
Japan a few other places and another

00:43:44,010 --> 00:43:48,720
thank you to some of the team and we

00:43:46,830 --> 00:43:50,640
recently held in the open source academy

00:43:48,720 --> 00:43:53,250
at catalyst which is now a well has been

00:43:50,640 --> 00:43:54,960
a yearly thing for some time and where

00:43:53,250 --> 00:43:57,120
we get secondary school students to come

00:43:54,960 --> 00:43:59,910
in and do software development for

00:43:57,120 --> 00:44:01,440
real-world open-source projects so if

00:43:59,910 --> 00:44:05,330
anyone's particularly worried about what

00:44:01,440 --> 00:44:11,400
the entry level might be it's quite easy

00:44:05,330 --> 00:44:17,760
so that's my talk thank you very much

00:44:11,400 --> 00:44:21,450
sorry if you're looking for me yeah

00:44:17,760 --> 00:44:22,410
the last C sir what did you want to just

00:44:21,450 --> 00:44:24,780
if you're looking for me in the

00:44:22,410 --> 00:44:27,240
conference I have the sticker on the

00:44:24,780 --> 00:44:29,430
thing to make it a bit easier I

00:44:27,240 --> 00:44:32,490
unfortunately don't speak any German at

00:44:29,430 --> 00:44:34,410
all and I do have some of those stickers

00:44:32,490 --> 00:44:40,070
to give out if anyone's interested in

00:44:34,410 --> 00:44:40,070
doing the laptop montage any questions

00:44:48,450 --> 00:44:54,150
at the moment no we are planning some

00:44:52,330 --> 00:44:57,010
greater integration there at the moment

00:44:54,150 --> 00:44:59,770
we really want to do that kind of thing

00:44:57,010 --> 00:45:02,680
but at the moment not so much you can

00:44:59,770 --> 00:45:05,230
tag notifications with specific things

00:45:02,680 --> 00:45:08,560
so for example we've set up some tags in

00:45:05,230 --> 00:45:11,770
production for um like things that paged

00:45:08,560 --> 00:45:13,630
outside of their SLA and upstream

00:45:11,770 --> 00:45:15,490
provider events and that kind of thing

00:45:13,630 --> 00:45:23,070
but it's probably not quite what you're

00:45:15,490 --> 00:45:25,510
getting at do you have any planets

00:45:23,070 --> 00:45:29,140
development to support Prometheus alert

00:45:25,510 --> 00:45:30,610
manager as a source of alerts yes we're

00:45:29,140 --> 00:45:43,060
actively working towards that at the

00:45:30,610 --> 00:45:46,950
moment there were a few more is it

00:45:43,060 --> 00:45:52,870
possible if you want one guy in the team

00:45:46,950 --> 00:45:56,770
you created and to activate the option

00:45:52,870 --> 00:45:59,590
the active one to multiple person yeah

00:45:56,770 --> 00:46:02,380
we are planning for that you can do it

00:45:59,590 --> 00:46:03,970
in teams now for everyone during

00:46:02,380 --> 00:46:06,580
business hours get some notifications

00:46:03,970 --> 00:46:08,200
but we haven't made that at 24/7

00:46:06,580 --> 00:46:09,910
available everywhere feature yet because

00:46:08,200 --> 00:46:11,380
you probably don't want a team and say

00:46:09,910 --> 00:46:11,650
five people all getting woken up at 2:00

00:46:11,380 --> 00:46:14,530
a.m.

00:46:11,650 --> 00:46:19,800
kind of thing but yeah yeah might be

00:46:14,530 --> 00:46:19,800
there yeah someone wants yep

00:46:23,550 --> 00:46:27,390
even I actually got two questions one is

00:46:25,860 --> 00:46:30,390
the hardware more and yeah there's more

00:46:27,390 --> 00:46:34,590
software questioning the software one

00:46:30,390 --> 00:46:37,290
did you consider XMPP solution a says

00:46:34,590 --> 00:46:41,670
something like message delivery

00:46:37,290 --> 00:46:43,440
confirmation and the second question you

00:46:41,670 --> 00:46:46,110
said you didn't want to use the provider

00:46:43,440 --> 00:46:47,700
network you're supposed to monitor but

00:46:46,110 --> 00:46:50,100
then again you're still using a

00:46:47,700 --> 00:46:53,520
different provider money to push out the

00:46:50,100 --> 00:46:59,070
messages wouldn't it be like again one

00:46:53,520 --> 00:47:00,990
failure yes so first question we did

00:46:59,070 --> 00:47:03,240
look at various options so we looked at

00:47:00,990 --> 00:47:05,070
XMPP we looked at signal and a number of

00:47:03,240 --> 00:47:06,450
other things in the end we decided on

00:47:05,070 --> 00:47:10,740
pushover because it was the most

00:47:06,450 --> 00:47:12,930
reliable one in our testing we would

00:47:10,740 --> 00:47:14,940
always be open to you can easily add

00:47:12,930 --> 00:47:17,400
other providers and use them if you so

00:47:14,940 --> 00:47:19,650
desire we didn't really want to have to

00:47:17,400 --> 00:47:21,210
deal with setting up many more h.a

00:47:19,650 --> 00:47:23,330
systems than just the database which

00:47:21,210 --> 00:47:28,470
thankfully cockroach DB made quite easy

00:47:23,330 --> 00:47:30,960
on the second front using different

00:47:28,470 --> 00:47:34,310
providers has been a bit of a source of

00:47:30,960 --> 00:47:37,260
pain for various arguments on the team

00:47:34,310 --> 00:47:39,900
we had for example we run a cloud in New

00:47:37,260 --> 00:47:42,150
Zealand because there's no local AWS or

00:47:39,900 --> 00:47:46,260
zero presence and we run an open stack

00:47:42,150 --> 00:47:49,440
one and the notification dica people

00:47:46,260 --> 00:47:51,420
moved their pager endpoint services on

00:47:49,440 --> 00:47:53,550
to our cloud so we're trying to monitor

00:47:51,420 --> 00:47:54,930
our cloud for a thing and then send

00:47:53,550 --> 00:47:56,490
notifications back for our cloud which

00:47:54,930 --> 00:47:59,070
as you can imagine may not always be the

00:47:56,490 --> 00:48:00,750
best of ideas so we've had a number of

00:47:59,070 --> 00:48:02,280
discussions about making things like

00:48:00,750 --> 00:48:04,200
that better and using multiple fourth

00:48:02,280 --> 00:48:10,440
riders which is why we're planning to

00:48:04,200 --> 00:48:16,050
eventually go for the mobile app any

00:48:10,440 --> 00:48:21,480
more questions okay I want to thank you

00:48:16,050 --> 00:48:23,730
again here you have a small present

00:48:21,480 --> 00:48:27,700
thank you very much heaven on

00:48:23,730 --> 00:48:38,510
[Applause]

00:48:27,700 --> 00:48:38,510
[Music]

00:48:42,100 --> 00:48:44,880

YouTube URL: https://www.youtube.com/watch?v=NKQB7RsJeSM


