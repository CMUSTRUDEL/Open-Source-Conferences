Title: OSMC 2017 | Icinga 2 in a 24 7 Broadcast Environment by Dave Kempe
Publication date: 2017-12-05
Playlist: OSMC 2017 | Open Source Monitoring Conference
Description: 
	I will present some war stories and implementation details from our Icinga2 deployments into television broadcast environments. From plugins we needed to develop, to challenges in effecting change in staff practices I will walk through the projects and share my experiences on the way.
This will be a useful talk for anyone looking to run a monitoring project and the approach used to get management and general staff on board.
Then we will cover the implementation of distributed monitoring in Icinga2 with strict firewalls, building dashboards using Nagvis and integration of Opsgenie for alerting.
In addition, the process of training staff and using the Windows Agent installer to deploy Icinga to various windows servers will also be covered.
Captions: 
	00:00:10,160 --> 00:00:17,790
welcome back next star our next speaker

00:00:15,150 --> 00:00:19,200
has plenty of experience in building

00:00:17,790 --> 00:00:23,099
monitoring solutions

00:00:19,200 --> 00:00:26,429
he started with net st. and now he's up

00:00:23,099 --> 00:00:28,970
to signature he's also founder of the

00:00:26,429 --> 00:00:39,059
company saw one and would like to

00:00:28,970 --> 00:00:42,210
welcome Dave Kemper please thanks I

00:00:39,059 --> 00:00:43,980
something I've got some fans already so

00:00:42,210 --> 00:00:45,840
I just wanted to start this whole thing

00:00:43,980 --> 00:00:47,610
off this is about monitoring television

00:00:45,840 --> 00:00:48,660
stations I run a sort of open source

00:00:47,610 --> 00:00:51,090
company and I'll go through all in a

00:00:48,660 --> 00:00:52,500
second but I figured it would be cool if

00:00:51,090 --> 00:00:55,350
we actually had a kind of video to start

00:00:52,500 --> 00:00:57,690
things off so hopefully this works this

00:00:55,350 --> 00:00:59,760
is a clip from a TV show that I saw that

00:00:57,690 --> 00:01:01,800
we've done a little bit of really bad

00:00:59,760 --> 00:01:03,690
edits on this is not a professional

00:01:01,800 --> 00:01:06,030
editing situation this is done by IT

00:01:03,690 --> 00:01:08,280
guys not TV guys so don't count that

00:01:06,030 --> 00:01:10,670
against him you were trying to protect

00:01:08,280 --> 00:01:10,670
me

00:01:10,750 --> 00:01:14,490
I'm sorry that you had to die alone

00:01:15,340 --> 00:01:19,240
one summer we didn't happen with time

00:01:17,229 --> 00:01:21,450
the guy lying on there we can figure out

00:01:19,240 --> 00:01:21,450
what

00:01:27,950 --> 00:01:31,490
I've seen this before

00:01:47,330 --> 00:01:50,390
[Music]

00:01:52,619 --> 00:02:02,020
I would look different

00:01:56,470 --> 00:02:05,450
[Music]

00:02:02,020 --> 00:02:08,750
depressive do not be deceived by

00:02:05,450 --> 00:02:12,380
simplicity the sort of thing guys the

00:02:08,750 --> 00:02:15,020
most powerful weapon ever forged it it

00:02:12,380 --> 00:02:19,830
is only as strong as the man who whales

00:02:15,020 --> 00:02:24,020
it it will show you your truth

00:02:19,830 --> 00:02:24,020
but you must be prepared to see

00:02:34,250 --> 00:02:44,620
[Applause]

00:02:39,659 --> 00:02:45,099
yeah that wasn't my my editing that's

00:02:44,620 --> 00:02:48,940
awesome

00:02:45,099 --> 00:02:50,799
so about us yeah we are a open source

00:02:48,940 --> 00:02:53,980
focus services company I've been running

00:02:50,799 --> 00:02:56,560
this company for 18 years now we've got

00:02:53,980 --> 00:02:59,319
a bunch of customers from small through

00:02:56,560 --> 00:03:01,480
to large and been kind of picking and

00:02:59,319 --> 00:03:03,700
choosing projects that we like to do and

00:03:01,480 --> 00:03:07,750
got 15 staff and we're in from Sydney

00:03:03,700 --> 00:03:09,340
Australia and yeah so you know been

00:03:07,750 --> 00:03:09,940
around for a while we're also a

00:03:09,340 --> 00:03:12,790
full-service

00:03:09,940 --> 00:03:14,620
chinga partner which means we kind of

00:03:12,790 --> 00:03:16,269
you know commercially involved and we

00:03:14,620 --> 00:03:17,500
pay our membership fee and hopefully

00:03:16,269 --> 00:03:19,480
that goes back into the development of

00:03:17,500 --> 00:03:20,940
the products so I think that's worth

00:03:19,480 --> 00:03:23,319
mentioning that's kind of cool

00:03:20,940 --> 00:03:24,670
so Who am I Who am I talking about as

00:03:23,319 --> 00:03:26,079
well from a customer point of view I've

00:03:24,670 --> 00:03:28,690
got two customers I want to talk about

00:03:26,079 --> 00:03:32,099
one is Fox Sports Australia many sports

00:03:28,690 --> 00:03:34,450
fans here yeah a couple Australia's

00:03:32,099 --> 00:03:36,099
Australians are mad sports fans you know

00:03:34,450 --> 00:03:38,680
it's kind of like a religion we're sort

00:03:36,099 --> 00:03:41,769
of you know every Saturday they go and

00:03:38,680 --> 00:03:44,019
worship at the altar of sport and so

00:03:41,769 --> 00:03:46,200
this is a pretty important TV station

00:03:44,019 --> 00:03:50,470
got six channels millions of subscribers

00:03:46,200 --> 00:03:51,970
lots and lots of archived video and we

00:03:50,470 --> 00:03:54,760
kind of only really have one cable

00:03:51,970 --> 00:03:56,470
provider and 80% of people that

00:03:54,760 --> 00:03:59,230
subscribe to that say they subscribe to

00:03:56,470 --> 00:04:00,459
that provider for the sporting content

00:03:59,230 --> 00:04:02,950
not the movies and all that sort of

00:04:00,459 --> 00:04:07,269
stuff so it's pretty important second

00:04:02,950 --> 00:04:09,760
customer is sky racing they're a horse

00:04:07,269 --> 00:04:15,609
racing channel horse racing is important

00:04:09,760 --> 00:04:18,400
is that is that funny is it funny that

00:04:15,609 --> 00:04:19,690
we race dogs yeah that's cool actually I

00:04:18,400 --> 00:04:21,039
didn't never thought about that but

00:04:19,690 --> 00:04:22,419
horse racing is kind of weird right like

00:04:21,039 --> 00:04:24,250
I'm not a gambling man or anything like

00:04:22,419 --> 00:04:26,710
that but horse racing in Australia at

00:04:24,250 --> 00:04:28,060
least is like kind of a big deal we

00:04:26,710 --> 00:04:30,099
literally have a public holiday for a

00:04:28,060 --> 00:04:32,710
horse race where the whole country stops

00:04:30,099 --> 00:04:36,099
and tens hundreds of millions of dollars

00:04:32,710 --> 00:04:38,740
a bet on this one day so to give you you

00:04:36,099 --> 00:04:40,960
know and this TV station is continuously

00:04:38,740 --> 00:04:42,340
recording and broadcasting horse racing

00:04:40,960 --> 00:04:45,400
and then the most important thing

00:04:42,340 --> 00:04:48,070
actually is the is the wagering data

00:04:45,400 --> 00:04:49,449
so on top of the horse race you've got

00:04:48,070 --> 00:04:50,650
how much things are worth and I'll show

00:04:49,449 --> 00:04:51,940
you a screen shot and how much you can

00:04:50,650 --> 00:04:55,990
bet and all that kind of stuff and

00:04:51,940 --> 00:04:57,430
that's very important data so downtime

00:04:55,990 --> 00:05:00,400
for a TV station like this that has

00:04:57,430 --> 00:05:02,020
people making betting decisions you know

00:05:00,400 --> 00:05:03,580
is I think it's a million dollars an

00:05:02,020 --> 00:05:05,620
hour or something like that in terms of

00:05:03,580 --> 00:05:08,320
lost real revenue that's not like

00:05:05,620 --> 00:05:10,270
deferred revenue or opportunity cost or

00:05:08,320 --> 00:05:11,470
you know I'll crap we can fix it later

00:05:10,270 --> 00:05:13,090
it's literally money that just

00:05:11,470 --> 00:05:16,330
disappears because the race is gone you

00:05:13,090 --> 00:05:18,340
can't actually bet on it so what is the

00:05:16,330 --> 00:05:21,430
television about these days I'm calling

00:05:18,340 --> 00:05:22,750
it hi-tech legacy what that means is you

00:05:21,430 --> 00:05:24,669
know it's a it's always been

00:05:22,750 --> 00:05:26,800
sophisticated running a TV station has

00:05:24,669 --> 00:05:28,750
always been a very technical large

00:05:26,800 --> 00:05:30,460
technical challenge but it's all often

00:05:28,750 --> 00:05:32,590
been done off you know very old-school

00:05:30,460 --> 00:05:35,830
sort of technology from tape through to

00:05:32,590 --> 00:05:38,099
you know video over cable which is you

00:05:35,830 --> 00:05:41,710
know SDI we'll get to that in a second

00:05:38,099 --> 00:05:44,020
keeping a TV station online and actually

00:05:41,710 --> 00:05:45,729
having things working is the most

00:05:44,020 --> 00:05:48,190
important thing very different to many

00:05:45,729 --> 00:05:50,830
other sort of you know a web server or

00:05:48,190 --> 00:05:53,260
other IT projects or many other products

00:05:50,830 --> 00:05:54,849
what happens right now and the picture

00:05:53,260 --> 00:05:56,080
that's on the screen right now is the

00:05:54,849 --> 00:05:58,660
most important thing in a television

00:05:56,080 --> 00:06:00,490
station so it doesn't matter that you

00:05:58,660 --> 00:06:01,930
kind of were black to air five seconds

00:06:00,490 --> 00:06:03,580
ago if you're if you're good now you're

00:06:01,930 --> 00:06:05,590
golden and if you're good for then on

00:06:03,580 --> 00:06:06,760
it's okay so everything is designed with

00:06:05,590 --> 00:06:08,380
that in mind that if there's ever a

00:06:06,760 --> 00:06:09,940
failure you'll have these in immediate

00:06:08,380 --> 00:06:11,830
failover situations every system

00:06:09,940 --> 00:06:13,750
throughout a TV station has a sort of a

00:06:11,830 --> 00:06:18,460
be partner where the video feed can

00:06:13,750 --> 00:06:20,139
always remain online as a result for a

00:06:18,460 --> 00:06:21,220
sufficiently sophisticated system you

00:06:20,139 --> 00:06:23,590
have end up with a very large

00:06:21,220 --> 00:06:25,360
infrastructure to ultimately output a

00:06:23,590 --> 00:06:27,699
relatively small signal that then gets

00:06:25,360 --> 00:06:30,340
retransmitted to lots of people so this

00:06:27,699 --> 00:06:32,380
is kind of like heaps and heaps of

00:06:30,340 --> 00:06:34,210
machines all generating a tiny sort of

00:06:32,380 --> 00:06:35,320
relatively small compressed feed that

00:06:34,210 --> 00:06:37,150
they can get to rebroadcast by

00:06:35,320 --> 00:06:39,340
satellites and lots of people

00:06:37,150 --> 00:06:42,909
it's kind of cool model how does the TV

00:06:39,340 --> 00:06:44,919
station work you know cameras this is a

00:06:42,909 --> 00:06:46,479
super basic diagram there's actually

00:06:44,919 --> 00:06:48,550
hundreds and hundreds of machines in

00:06:46,479 --> 00:06:50,740
eight all of these things you know that

00:06:48,550 --> 00:06:54,909
records it so you take from an SDI faith

00:06:50,740 --> 00:06:57,760
SDI is standard video it's just pure

00:06:54,909 --> 00:06:58,810
video over not over IP just over actual

00:06:57,760 --> 00:07:01,450
cable

00:06:58,810 --> 00:07:04,450
mxf which is the typical rapper format

00:07:01,450 --> 00:07:06,010
like avi then he was meditating in

00:07:04,450 --> 00:07:07,510
Richard with the metadata stored in a

00:07:06,010 --> 00:07:09,310
media asset management system stored in

00:07:07,510 --> 00:07:10,690
some actual storage you might send it

00:07:09,310 --> 00:07:12,310
off to the internet you might transmit

00:07:10,690 --> 00:07:15,190
it send it over to satellite subscribers

00:07:12,310 --> 00:07:17,650
so you know in Foxsports this case

00:07:15,190 --> 00:07:21,669
there's 700 people that manage this

00:07:17,650 --> 00:07:24,790
process and in sky racing it's like 300

00:07:21,669 --> 00:07:28,840
and you know this might this storage at

00:07:24,790 --> 00:07:33,370
Fox Sports is 30 petabytes worth of HD

00:07:28,840 --> 00:07:35,200
video that's guys like for and and so

00:07:33,370 --> 00:07:36,700
the idea is that you're they keep an

00:07:35,200 --> 00:07:38,320
archive of all their clips and they can

00:07:36,700 --> 00:07:40,750
send you different clips from different

00:07:38,320 --> 00:07:45,970
days and you know cut up programs as

00:07:40,750 --> 00:07:50,800
well as live events as I said large

00:07:45,970 --> 00:07:52,840
storage requirements what that means is

00:07:50,800 --> 00:07:55,240
that the video that's recorded has this

00:07:52,840 --> 00:07:58,240
huge amount of weight you know you have

00:07:55,240 --> 00:07:59,320
TV stations and I was talking to the

00:07:58,240 --> 00:08:00,970
gentleman at the back there who works

00:07:59,320 --> 00:08:02,260
another tale of isn't a ssin you know

00:08:00,970 --> 00:08:04,419
has this huge amount of weight so you

00:08:02,260 --> 00:08:05,950
end up recording petabytes of video onto

00:08:04,419 --> 00:08:08,229
one particular technology medium and

00:08:05,950 --> 00:08:09,669
then getting it out of that and back

00:08:08,229 --> 00:08:11,350
into something else is extremely hard

00:08:09,669 --> 00:08:13,780
it's you know you know it's I'm looking

00:08:11,350 --> 00:08:15,940
at migration times of years to move data

00:08:13,780 --> 00:08:18,490
around and that's even with you know the

00:08:15,940 --> 00:08:20,410
fastest things we can find so it's a

00:08:18,490 --> 00:08:24,250
very interesting kind of industry from

00:08:20,410 --> 00:08:26,410
that point of view and then as I

00:08:24,250 --> 00:08:29,860
explained before SDI HD there's a whole

00:08:26,410 --> 00:08:31,600
plethora of proprietary solutions that

00:08:29,860 --> 00:08:33,219
go into making video work there's entire

00:08:31,600 --> 00:08:35,710
sort of ecosystem of vendors that all

00:08:33,219 --> 00:08:39,010
have their own little things and a lot

00:08:35,710 --> 00:08:40,839
of that technology is moving from not

00:08:39,010 --> 00:08:42,219
being a computer to being a computer and

00:08:40,839 --> 00:08:43,780
when I say not being a computer I mean

00:08:42,219 --> 00:08:46,990
you know it's a circuit board that knows

00:08:43,780 --> 00:08:48,760
how to deal with a video input in and it

00:08:46,990 --> 00:08:50,650
can you know interlace frames with that

00:08:48,760 --> 00:08:52,089
or it can route it to other places but

00:08:50,650 --> 00:08:53,470
it's not actually an actual computer

00:08:52,089 --> 00:08:55,779
it's a circuit board that does just that

00:08:53,470 --> 00:08:58,360
one thing and TV stations are made of

00:08:55,779 --> 00:09:00,339
these sort of things this is what a

00:08:58,360 --> 00:09:03,550
monitoring situation looks like in a

00:09:00,339 --> 00:09:06,940
typical TV station you have people that

00:09:03,550 --> 00:09:10,390
work around the clock they watch all of

00:09:06,940 --> 00:09:12,410
the inputs and some of the outputs and

00:09:10,390 --> 00:09:13,430
then their job is to

00:09:12,410 --> 00:09:15,470
make sure that things are getting

00:09:13,430 --> 00:09:17,180
scheduled in the right place and push

00:09:15,470 --> 00:09:19,730
the right buttons you push these buttons

00:09:17,180 --> 00:09:21,470
the stuff changes on air so they can do

00:09:19,730 --> 00:09:22,970
it this is like a mixing desk if

00:09:21,470 --> 00:09:24,889
anyone's familiar with AV mixing desk

00:09:22,970 --> 00:09:27,740
for a whole TV station so these guys are

00:09:24,889 --> 00:09:28,970
running six channels and they're pulling

00:09:27,740 --> 00:09:30,740
and they're doing things like booking

00:09:28,970 --> 00:09:32,120
bandwidth and making sure that this

00:09:30,740 --> 00:09:33,560
guy's in the right place and they're

00:09:32,120 --> 00:09:34,610
getting the feed from this studio and

00:09:33,560 --> 00:09:39,230
all those kind of things it's a very

00:09:34,610 --> 00:09:42,800
sort of real-time operation

00:09:39,230 --> 00:09:45,410
this is a video router so nice cable

00:09:42,800 --> 00:09:46,939
porn there if anyone's interested not

00:09:45,410 --> 00:09:48,680
your normal router these are all video

00:09:46,939 --> 00:09:50,089
signals you know that come from all the

00:09:48,680 --> 00:09:51,920
various inputs and outputs and then get

00:09:50,089 --> 00:09:55,310
rerouted to all the other inputs and

00:09:51,920 --> 00:09:59,600
outputs so yes it's a pretty complicated

00:09:55,310 --> 00:10:03,319
mess you know and this they all of these

00:09:59,600 --> 00:10:06,319
things are running at 3.2 gigabits

00:10:03,319 --> 00:10:07,279
roughly the data rate on these cables so

00:10:06,319 --> 00:10:09,439
there's a pretty serious equipment

00:10:07,279 --> 00:10:11,300
that's all very dedicated if you add up

00:10:09,439 --> 00:10:14,689
the actual total bandwidth of the black

00:10:11,300 --> 00:10:17,029
back plane in gigabits that's quite a

00:10:14,689 --> 00:10:18,529
lot but it's not a it's not a real

00:10:17,029 --> 00:10:19,790
router it's a video router so it's

00:10:18,529 --> 00:10:22,779
really kind of like a very sophisticated

00:10:19,790 --> 00:10:24,620
software patch panel for video feeds

00:10:22,779 --> 00:10:27,649
anyone seen one of these before

00:10:24,620 --> 00:10:30,500
hasn't worked in TV it's kind of cool

00:10:27,649 --> 00:10:33,500
great got some broadcast people lots of

00:10:30,500 --> 00:10:37,490
lots of bandwidth lots of fiber we're

00:10:33,500 --> 00:10:42,680
moving from moving from a standard video

00:10:37,490 --> 00:10:45,709
over you know SDI coax to fiber really

00:10:42,680 --> 00:10:46,550
into a fiber moving in over dark fiber

00:10:45,709 --> 00:10:49,579
or anything like that

00:10:46,550 --> 00:10:53,240
IP stuff is all 10 gig all very

00:10:49,579 --> 00:10:54,800
sophisticated networking happens as I

00:10:53,240 --> 00:10:56,870
said data verses metadata is an

00:10:54,800 --> 00:10:59,199
important point you can see here on this

00:10:56,870 --> 00:11:02,240
slide this is two rugby league players

00:10:59,199 --> 00:11:03,920
that's again the Australian sport think

00:11:02,240 --> 00:11:06,829
of them like football players I suppose

00:11:03,920 --> 00:11:08,509
they're kind of important and we collect

00:11:06,829 --> 00:11:10,639
all the stats on them record them and

00:11:08,509 --> 00:11:12,470
then specialized equipment merges those

00:11:10,639 --> 00:11:14,750
statistics back with the actual video

00:11:12,470 --> 00:11:16,040
feed for broadcast and that's the same

00:11:14,750 --> 00:11:18,050
thing that's going on here this is just

00:11:16,040 --> 00:11:20,360
a photo I took of the typical screen at

00:11:18,050 --> 00:11:23,630
Sky Racing you've got horses jockeys or

00:11:20,360 --> 00:11:25,759
trainers how much how well they think

00:11:23,630 --> 00:11:26,180
they're going to go how much you can bet

00:11:25,759 --> 00:11:28,670
on

00:11:26,180 --> 00:11:30,380
each particular horse and how much

00:11:28,670 --> 00:11:31,520
people have bet already there's eight

00:11:30,380 --> 00:11:33,080
thousand eight hundred dollars on this

00:11:31,520 --> 00:11:35,810
random horse during the middle of the

00:11:33,080 --> 00:11:38,060
day you know and all this data here the

00:11:35,810 --> 00:11:41,000
the bottom and all of these things is

00:11:38,060 --> 00:11:42,589
coming in as feeds as text files that

00:11:41,000 --> 00:11:44,750
come out of XML packets that get

00:11:42,589 --> 00:11:46,430
translated into commands and the then

00:11:44,750 --> 00:11:50,600
merged in real time with the video

00:11:46,430 --> 00:11:52,130
stream using a graphics engine which is

00:11:50,600 --> 00:11:54,290
kind of cool but there's some some

00:11:52,130 --> 00:11:55,940
serious legacy stuff going on there so

00:11:54,290 --> 00:11:57,080
television stations are going from

00:11:55,940 --> 00:11:59,000
digital so if you're embar if you look

00:11:57,080 --> 00:12:01,370
at those the small output I was talking

00:11:59,000 --> 00:12:04,610
about before we're actually into real

00:12:01,370 --> 00:12:07,520
monitoring now this here you know

00:12:04,610 --> 00:12:09,560
there's a 100 200 million dollar

00:12:07,520 --> 00:12:11,870
organization you can represent its

00:12:09,560 --> 00:12:13,550
entire output with these DB values on a

00:12:11,870 --> 00:12:15,290
piece of fiber because they're they're

00:12:13,550 --> 00:12:17,300
all of the whole station comes out and

00:12:15,290 --> 00:12:19,010
each one of these values is a channel if

00:12:17,300 --> 00:12:21,170
that channel drops over below a certain

00:12:19,010 --> 00:12:22,580
threshold that check goes critical but

00:12:21,170 --> 00:12:24,800
you know if you go black to air then

00:12:22,580 --> 00:12:26,420
these values will be bad they're moving

00:12:24,800 --> 00:12:28,279
from that sort of arrangement to you

00:12:26,420 --> 00:12:30,680
know more kind of you know docker

00:12:28,279 --> 00:12:33,440
container eyes microservices model to

00:12:30,680 --> 00:12:35,060
service their over-the-top offerings

00:12:33,440 --> 00:12:36,230
you know that's internet streaming all

00:12:35,060 --> 00:12:38,300
those kind of things and the

00:12:36,230 --> 00:12:41,420
monitoring's had to adjust you know

00:12:38,300 --> 00:12:45,980
we've moved from SNMP queries to you

00:12:41,420 --> 00:12:48,350
know API calls as as on top of that so

00:12:45,980 --> 00:12:49,970
as I said everything has redundancy a be

00:12:48,350 --> 00:12:51,230
failover won't go over that too much but

00:12:49,970 --> 00:12:55,070
it does play into monitoring a little

00:12:51,230 --> 00:12:57,350
bit when your city or station is

00:12:55,070 --> 00:12:59,900
designed with failure in mind and

00:12:57,350 --> 00:13:02,450
failure is built into the sort of ethos

00:12:59,900 --> 00:13:03,800
of how broadcast television works your

00:13:02,450 --> 00:13:06,709
monitoring system has to adapt to that

00:13:03,800 --> 00:13:08,360
you have to be able to say you know it's

00:13:06,709 --> 00:13:09,589
okay that we're on the Bay one you know

00:13:08,360 --> 00:13:11,209
that can be warning and you have to have

00:13:09,589 --> 00:13:14,089
think about you know whether or not your

00:13:11,209 --> 00:13:15,529
failures are you know critical or just

00:13:14,089 --> 00:13:17,510
things that are kind of normal part of

00:13:15,529 --> 00:13:21,140
the operation so we've had to adapt to

00:13:17,510 --> 00:13:24,320
that as we've gone along so we

00:13:21,140 --> 00:13:28,370
implemented arching 2 to 4 sky and Fox a

00:13:24,320 --> 00:13:30,680
year or so ago we were still you know

00:13:28,370 --> 00:13:33,260
kind of a little bit young there was

00:13:30,680 --> 00:13:34,579
some things that we needed to work on to

00:13:33,260 --> 00:13:36,560
make it work distributed marketing in

00:13:34,579 --> 00:13:38,209
particular and we kind of started with a

00:13:36,560 --> 00:13:39,889
bottom down configure approach it didn't

00:13:38,209 --> 00:13:42,730
work well so well and we've moved it

00:13:39,889 --> 00:13:45,109
sorry bottom up we've moved to top down

00:13:42,730 --> 00:13:46,609
but you know these are the these are the

00:13:45,109 --> 00:13:48,619
reasons everyone's quite familiar with

00:13:46,609 --> 00:13:49,549
that the most important one that I'd

00:13:48,619 --> 00:13:52,129
highlight though is that it's

00:13:49,549 --> 00:13:55,189
distributed and scalable and that's the

00:13:52,129 --> 00:13:56,509
one that we've gone with so I just

00:13:55,189 --> 00:14:00,049
wanted to show you an architecture

00:13:56,509 --> 00:14:02,720
diagram of how it works we've got a

00:14:00,049 --> 00:14:05,419
master the master communicates via the

00:14:02,720 --> 00:14:07,309
API to you know through the internal

00:14:05,419 --> 00:14:09,189
firewall to the broadcast environment

00:14:07,309 --> 00:14:11,509
where there's an actual satellite

00:14:09,189 --> 00:14:12,679
instance and that instance has its own

00:14:11,509 --> 00:14:14,929
checks and execute them all

00:14:12,679 --> 00:14:17,119
independently communicates back through

00:14:14,929 --> 00:14:18,439
the API connection to the master this

00:14:17,119 --> 00:14:20,540
connection can be initiated in either

00:14:18,439 --> 00:14:22,549
way and you just simply specify where

00:14:20,540 --> 00:14:24,649
you want the endpoint to be to make that

00:14:22,549 --> 00:14:27,199
connection work in the direction of the

00:14:24,649 --> 00:14:28,879
firewall whichever one you're allowed so

00:14:27,199 --> 00:14:31,220
in a dam said you know you always want

00:14:28,879 --> 00:14:32,449
to establish a connection out in this

00:14:31,220 --> 00:14:34,220
particular firewall I think we're

00:14:32,449 --> 00:14:36,919
allowed in both directions not that we

00:14:34,220 --> 00:14:39,079
need to be but we are and you know they

00:14:36,919 --> 00:14:40,779
have an external hosting environment

00:14:39,079 --> 00:14:43,459
where they've got various other stuff

00:14:40,779 --> 00:14:48,769
these this this line here is an example

00:14:43,459 --> 00:14:50,749
of a check that we send the we execute a

00:14:48,769 --> 00:14:52,339
check here that sends mail through a

00:14:50,749 --> 00:14:54,259
mail server sort of back out to the

00:14:52,339 --> 00:14:57,739
Internet and then back again using the

00:14:54,259 --> 00:15:00,459
mail delivery plugin so then that lets

00:14:57,739 --> 00:15:03,799
us figure out if mails actually working

00:15:00,459 --> 00:15:05,839
although in Skye's case they moved to

00:15:03,799 --> 00:15:07,579
some are hosted office 365 but Fox still

00:15:05,839 --> 00:15:09,499
have a locally hosted mail server and so

00:15:07,579 --> 00:15:13,819
they monitor mail flow they're about to

00:15:09,499 --> 00:15:17,439
migrate but that's an important view of

00:15:13,819 --> 00:15:19,669
how mail works for them at least where

00:15:17,439 --> 00:15:21,919
you're not measuring whether or not you

00:15:19,669 --> 00:15:24,410
can connect to port 25 or whether or not

00:15:21,919 --> 00:15:26,360
you can connect to IMAP or ActiveSync

00:15:24,410 --> 00:15:28,429
you're actually sending mail out to

00:15:26,360 --> 00:15:30,410
Gmail pulling Gmail that arrived

00:15:28,429 --> 00:15:32,720
connecting to Gmail sending mail back

00:15:30,410 --> 00:15:33,799
out and making sure that it goes all the

00:15:32,720 --> 00:15:34,999
way through your infrastructure through

00:15:33,799 --> 00:15:37,009
your mail filters all the way through

00:15:34,999 --> 00:15:39,579
the mailbox so you're monitoring the

00:15:37,009 --> 00:15:41,689
result not the you know intended things

00:15:39,579 --> 00:15:44,149
we also bolted on a bunch of other

00:15:41,689 --> 00:15:46,220
things to make this work nav is ops

00:15:44,149 --> 00:15:48,079
genie and various plugins lots and lots

00:15:46,220 --> 00:15:51,110
of plugins and I'll go through those as

00:15:48,079 --> 00:15:52,519
we as we went an example of the NAG Vee

00:15:51,110 --> 00:15:53,900
is monitoring overview at Fox Sports

00:15:52,519 --> 00:15:55,580
this is taken from a couple of days

00:15:53,900 --> 00:15:58,190
ago so there's a couple of things wrong

00:15:55,580 --> 00:16:00,130
here and there and this is a nag of his

00:15:58,190 --> 00:16:03,290
map you've got any nag of his users here

00:16:00,130 --> 00:16:05,180
excellent there was some bugs with this

00:16:03,290 --> 00:16:07,430
when we first started out you know it

00:16:05,180 --> 00:16:09,380
would it wouldn't actually display the

00:16:07,430 --> 00:16:11,570
right color for what we'd set the map

00:16:09,380 --> 00:16:13,040
needed to patch that which we did and I

00:16:11,570 --> 00:16:15,320
was very impressed upstream accept that

00:16:13,040 --> 00:16:17,960
patch within like two days so that was

00:16:15,320 --> 00:16:20,090
really cool and these are actually nag

00:16:17,960 --> 00:16:22,160
vis lines they're not squares they're

00:16:20,090 --> 00:16:24,470
just really fat lines so it's a little

00:16:22,160 --> 00:16:26,030
bit of a hack but it kind of works in

00:16:24,470 --> 00:16:28,100
this case these are services and these

00:16:26,030 --> 00:16:30,290
are sort of host related things so for

00:16:28,100 --> 00:16:31,730
example raid belongs in here but the

00:16:30,290 --> 00:16:33,350
status of a demon and a piece of

00:16:31,730 --> 00:16:36,140
software belongs up here and then each

00:16:33,350 --> 00:16:38,570
one of these lines represents up to some

00:16:36,140 --> 00:16:40,130
hundreds of checks or even in this case

00:16:38,570 --> 00:16:42,800
this might be this is thousands of

00:16:40,130 --> 00:16:44,900
checks because this this and these guys

00:16:42,800 --> 00:16:46,040
interact with zabbix zabbix does all

00:16:44,900 --> 00:16:48,020
their network monitoring and it has

00:16:46,040 --> 00:16:50,690
thousands of its own checks so we're

00:16:48,020 --> 00:16:51,950
really integrated a bunch of different

00:16:50,690 --> 00:16:54,590
monitoring systems into the one

00:16:51,950 --> 00:16:56,600
dashboard so that the users can say oh

00:16:54,590 --> 00:16:58,760
there's a problem with you know okay -

00:16:56,600 --> 00:17:00,500
in this case when the ftp servers was

00:16:58,760 --> 00:17:01,880
down for maintenance and someone forgot

00:17:00,500 --> 00:17:04,700
to schedule downtime they just turn it

00:17:01,880 --> 00:17:06,530
off and the dashboard plays a sound

00:17:04,700 --> 00:17:09,350
they've got monitors around the building

00:17:06,530 --> 00:17:11,030
with this in the department IT

00:17:09,350 --> 00:17:13,220
department the broadcast engineering

00:17:11,030 --> 00:17:15,080
department the master control room plays

00:17:13,220 --> 00:17:18,500
a sound displays a thing then they know

00:17:15,080 --> 00:17:20,720
who to escalate the call to a sky racing

00:17:18,500 --> 00:17:22,670
similar similar situation different

00:17:20,720 --> 00:17:26,930
amount of systems we want for a radio

00:17:22,670 --> 00:17:30,170
station you know there's various again

00:17:26,930 --> 00:17:32,630
same sort of idea works just as well in

00:17:30,170 --> 00:17:34,610
this case Akamai have got some sort of

00:17:32,630 --> 00:17:37,130
transcoding issue and it's always in

00:17:34,610 --> 00:17:38,450
warning and that's kind of annoying so

00:17:37,130 --> 00:17:41,180
here's another map that we did as well

00:17:38,450 --> 00:17:44,680
in nag vis it's pretty cool it's a photo

00:17:41,180 --> 00:17:49,880
I took of the robot inside this robot is

00:17:44,680 --> 00:17:52,700
24 petabytes of tapes and these are

00:17:49,880 --> 00:17:54,470
plugins that we wrote that query the TSM

00:17:52,700 --> 00:17:56,810
storage manager directly they execute

00:17:54,470 --> 00:18:01,160
TSM commands wrap them in shell run them

00:17:56,810 --> 00:18:02,600
over SSH any TSM users here excellent

00:18:01,160 --> 00:18:05,300
happy to share my code if you're

00:18:02,600 --> 00:18:06,740
interested and you know we make sure

00:18:05,300 --> 00:18:07,820
that we've got enough a tapes enough B

00:18:06,740 --> 00:18:10,519
tapes we've got a picture

00:18:07,820 --> 00:18:13,249
this is a webcam view of the robot and

00:18:10,519 --> 00:18:14,600
everyone kind of you know they enjoy

00:18:13,249 --> 00:18:16,580
that I suppose it's fun for the user to

00:18:14,600 --> 00:18:19,070
see the robots actually working for for

00:18:16,580 --> 00:18:19,850
us instead of taking our jobs so that's

00:18:19,070 --> 00:18:21,019
cool

00:18:19,850 --> 00:18:22,399
this is another interesting thing

00:18:21,019 --> 00:18:24,649
remember how it's talking about data

00:18:22,399 --> 00:18:26,210
before we've got our odds and you know

00:18:24,649 --> 00:18:28,549
dividends and all those kind of things

00:18:26,210 --> 00:18:31,159
that flow in this is an Ag V's map of

00:18:28,549 --> 00:18:34,369
the data flow that gets data onto onto

00:18:31,159 --> 00:18:35,779
the screen these are the feeds this

00:18:34,369 --> 00:18:36,649
particular feed had a problem when I

00:18:35,779 --> 00:18:38,029
took the screenshot it's more

00:18:36,649 --> 00:18:41,059
interesting to have bit of red and a bit

00:18:38,029 --> 00:18:43,190
of bit of green but so these are the

00:18:41,059 --> 00:18:45,169
fixed odds that are coming in and then

00:18:43,190 --> 00:18:46,970
there's a the actual data of the races

00:18:45,169 --> 00:18:49,039
are all coming in via here there's the

00:18:46,970 --> 00:18:50,509
API endpoints that we can connect to and

00:18:49,039 --> 00:18:53,570
then the data actually flows through

00:18:50,509 --> 00:18:55,909
this cluster of Windows machines these

00:18:53,570 --> 00:18:59,570
are mssql and we're actually executing

00:18:55,909 --> 00:19:02,119
ms SQL queries on this data to make sure

00:18:59,570 --> 00:19:03,139
the data is okay so it's it's worked out

00:19:02,119 --> 00:19:04,460
quite well and I'll kind of go through

00:19:03,139 --> 00:19:07,519
that when I get to the plugins but just

00:19:04,460 --> 00:19:10,039
while the diagrams here the SQL query

00:19:07,519 --> 00:19:11,869
says have you received data you know and

00:19:10,039 --> 00:19:13,820
it checks to see that the last five rows

00:19:11,869 --> 00:19:15,289
have enough data in them and have you

00:19:13,820 --> 00:19:17,149
received data and then it compares the

00:19:15,289 --> 00:19:19,729
data between the two SQL servers and

00:19:17,149 --> 00:19:21,349
says are the two servers a and B you

00:19:19,729 --> 00:19:22,970
know close enough together in terms of

00:19:21,349 --> 00:19:25,399
time because they're both receiving data

00:19:22,970 --> 00:19:27,979
from an independent source and we want

00:19:25,399 --> 00:19:29,539
to be able to at any point deal with

00:19:27,979 --> 00:19:31,340
failure and switch from the master their

00:19:29,539 --> 00:19:33,259
primary again to maintain that a B

00:19:31,340 --> 00:19:35,210
backup this is also a cluster of H a

00:19:33,259 --> 00:19:37,399
proxy boxes but you want to keep these

00:19:35,210 --> 00:19:39,349
diagrams as simple as possible these are

00:19:37,399 --> 00:19:40,999
all designed to be you know ten-foot UI

00:19:39,349 --> 00:19:45,529
so you can see them from across the room

00:19:40,999 --> 00:19:48,099
on a HD screen I've sort of resized it

00:19:45,529 --> 00:19:50,929
to make it fit here better it works well

00:19:48,099 --> 00:19:52,309
we also use the maps add-on and I'll

00:19:50,929 --> 00:19:53,840
give you a live demo of this in a minute

00:19:52,309 --> 00:19:56,299
and walk through that that's a map of

00:19:53,840 --> 00:19:59,029
all the pubs in Australia because they

00:19:56,299 --> 00:20:00,859
all have the satellite receivers so I've

00:19:59,029 --> 00:20:04,639
got a really cool interactive map to see

00:20:00,859 --> 00:20:06,080
if the pubs open we can zoom around that

00:20:04,639 --> 00:20:08,840
later and you can check it out it's

00:20:06,080 --> 00:20:10,039
pretty cool so the other thing we did is

00:20:08,840 --> 00:20:11,659
you know you walk into a typical

00:20:10,039 --> 00:20:13,309
environment and there's a lot of legacy

00:20:11,659 --> 00:20:15,619
monitoring there's all sorts of things

00:20:13,309 --> 00:20:17,269
you know a Windows 2003 system running a

00:20:15,619 --> 00:20:19,929
net central I don't know if anyone's got

00:20:17,269 --> 00:20:21,710
that pretty terrible product does

00:20:19,929 --> 00:20:23,240
proprietary SNMP

00:20:21,710 --> 00:20:25,010
monitoring for the bunch of proprietary

00:20:23,240 --> 00:20:27,230
equipment we had zabbix for networking

00:20:25,010 --> 00:20:28,700
stuff and then typically you go and

00:20:27,230 --> 00:20:30,260
purchase a piece of equipment these days

00:20:28,700 --> 00:20:31,549
it's got its own monitoring built into

00:20:30,260 --> 00:20:33,440
it you know a cluster will come with a

00:20:31,549 --> 00:20:34,880
control panel that says what's working

00:20:33,440 --> 00:20:38,059
what's not and all those kind of things

00:20:34,880 --> 00:20:39,799
so we've used you know a mixture of

00:20:38,059 --> 00:20:44,179
plugins we've built an API between

00:20:39,799 --> 00:20:46,340
zabbix and here we've used database

00:20:44,179 --> 00:20:49,880
queries and we've got web interfaces

00:20:46,340 --> 00:20:51,649
that we query or SNMP to aggregate all

00:20:49,880 --> 00:20:52,640
of the actual monitoring and then feed

00:20:51,649 --> 00:20:55,010
it through the dashboards and

00:20:52,640 --> 00:20:56,240
notifications so that's that's a sort of

00:20:55,010 --> 00:20:58,820
an important point we've kind of got

00:20:56,240 --> 00:21:00,919
this sort of meta monitoring that's very

00:20:58,820 --> 00:21:02,929
useful and it's it served our customers

00:21:00,919 --> 00:21:04,940
well but I would point out one floor and

00:21:02,929 --> 00:21:07,549
the floor is that often the checks that

00:21:04,940 --> 00:21:10,460
you make with a you know say for example

00:21:07,549 --> 00:21:12,710
to a cluster the check is is the cluster

00:21:10,460 --> 00:21:14,029
okay now the cluster is either okay or

00:21:12,710 --> 00:21:15,409
it's not okay

00:21:14,029 --> 00:21:17,090
the problem with that is if the cluster

00:21:15,409 --> 00:21:19,250
has got two problems with it then you

00:21:17,090 --> 00:21:21,470
might acknowledge the you know critical

00:21:19,250 --> 00:21:23,299
allow it for not being okay and start to

00:21:21,470 --> 00:21:25,460
work on it but not notice that it's you

00:21:23,299 --> 00:21:27,559
know got some other different problem so

00:21:25,460 --> 00:21:29,929
we've had to work around some of those

00:21:27,559 --> 00:21:32,299
limitations for example with zabbix what

00:21:29,929 --> 00:21:33,830
we've done is the API queries and says

00:21:32,299 --> 00:21:36,740
hey give me all the groups of switches

00:21:33,830 --> 00:21:39,190
and they're grouped by say floors or you

00:21:36,740 --> 00:21:42,649
know roles in the data center and the

00:21:39,190 --> 00:21:44,330
API says whether they're okay or not for

00:21:42,649 --> 00:21:47,029
some of the more important switches the

00:21:44,330 --> 00:21:48,590
very cool ones we've actually bypassed

00:21:47,029 --> 00:21:51,020
that entire system and we query them

00:21:48,590 --> 00:21:52,880
directly because the business decided

00:21:51,020 --> 00:21:55,100
that it was too important to leave up to

00:21:52,880 --> 00:21:56,600
you know an API and you know some other

00:21:55,100 --> 00:21:59,059
moving parts to figure out what was

00:21:56,600 --> 00:22:00,890
going on whereas you know for the less

00:21:59,059 --> 00:22:02,779
core equipment we were able to kind of

00:22:00,890 --> 00:22:04,580
just you know use the API to filter out

00:22:02,779 --> 00:22:07,730
what was important what wasn't what was

00:22:04,580 --> 00:22:10,490
in downtime what wasn't and again that's

00:22:07,730 --> 00:22:13,850
the same sort of thing with a aggregated

00:22:10,490 --> 00:22:15,080
check from a cluster so some of the

00:22:13,850 --> 00:22:16,880
plugins that we had to write to make

00:22:15,080 --> 00:22:18,740
this work I just want to walk through

00:22:16,880 --> 00:22:20,179
some of those things any Isilon users

00:22:18,740 --> 00:22:24,169
here emc isilon

00:22:20,179 --> 00:22:26,240
very expensive petabytes of storage so i

00:22:24,169 --> 00:22:28,220
Salons is pretty cool bsd cluster they

00:22:26,240 --> 00:22:30,020
wrote a big file system for it it's used

00:22:28,220 --> 00:22:32,029
commonly in meteor environments because

00:22:30,020 --> 00:22:33,860
if you need you know three petabytes of

00:22:32,029 --> 00:22:35,630
storage that can all do 1200 megabytes a

00:22:33,860 --> 00:22:39,200
second with lots of 10g

00:22:35,630 --> 00:22:42,500
interfaces so we wrote a plug-in mostly

00:22:39,200 --> 00:22:45,050
in bash ssh various parsing things there

00:22:42,500 --> 00:22:46,610
appliances so you can't exactly install

00:22:45,050 --> 00:22:48,500
things on them but you can run a command

00:22:46,610 --> 00:22:50,990
and get data back and then pass that and

00:22:48,500 --> 00:22:53,810
continue to work through that checks the

00:22:50,990 --> 00:22:56,570
Isilon check TSM as i said before we've

00:22:53,810 --> 00:22:58,010
got a graphite plug-in I'm not really

00:22:56,570 --> 00:22:59,990
sure we don't use that too much so I'm

00:22:58,010 --> 00:23:01,640
not sure why that's their email delivery

00:22:59,990 --> 00:23:03,770
if we had to fork that to make it work a

00:23:01,640 --> 00:23:07,100
bit better our domes of meteor asset

00:23:03,770 --> 00:23:09,860
management system we've had to write our

00:23:07,100 --> 00:23:12,710
own plugins that monitor that this is a

00:23:09,860 --> 00:23:18,200
common asset management system and along

00:23:12,710 --> 00:23:20,420
with Viers one wherever that is and it's

00:23:18,200 --> 00:23:21,980
again a cluster of 20 or so machines

00:23:20,420 --> 00:23:23,480
each of them doing their own thing and

00:23:21,980 --> 00:23:25,670
they have demons that are being

00:23:23,480 --> 00:23:27,710
monitored and part of the logic of that

00:23:25,670 --> 00:23:30,080
is that the cluster itself take care

00:23:27,710 --> 00:23:31,250
takes care of where things should be

00:23:30,080 --> 00:23:32,750
running it says are there's a failure

00:23:31,250 --> 00:23:34,700
over here I'll move this software to

00:23:32,750 --> 00:23:36,410
this other place and the plug-in has to

00:23:34,700 --> 00:23:38,720
deal with the fact that you know has to

00:23:36,410 --> 00:23:40,850
enumerate what the services are figure

00:23:38,720 --> 00:23:43,310
out it's okay that that service is now

00:23:40,850 --> 00:23:44,660
on a different host and that way you're

00:23:43,310 --> 00:23:46,660
delivering you know a better

00:23:44,660 --> 00:23:49,310
signal-to-noise ratio for the customers

00:23:46,660 --> 00:23:50,240
this workstations plug-in I put that in

00:23:49,310 --> 00:23:50,630
there because I thought it was kind of

00:23:50,240 --> 00:23:52,850
cool

00:23:50,630 --> 00:23:54,110
we had a hot desking situation I know

00:23:52,850 --> 00:23:55,880
lots of people have got hot disking

00:23:54,110 --> 00:23:58,220
situations so what we did was we

00:23:55,880 --> 00:23:59,690
embedded NRP e in the image of all the

00:23:58,220 --> 00:24:01,160
machines that were being hot desks and

00:23:59,690 --> 00:24:03,950
they come and go this is it was in a

00:24:01,160 --> 00:24:05,150
newsroom so different contractors and

00:24:03,950 --> 00:24:06,500
reporters are always coming and going

00:24:05,150 --> 00:24:08,510
and starting machine they're shutting

00:24:06,500 --> 00:24:10,430
them down again but some idiot decided

00:24:08,510 --> 00:24:11,990
to put any very small hard drives in

00:24:10,430 --> 00:24:13,790
them so they kept filling up with hard

00:24:11,990 --> 00:24:15,470
drive space that getting full because

00:24:13,790 --> 00:24:18,260
all the hot desking users profiles would

00:24:15,470 --> 00:24:20,390
fill and machines up so we deployed in

00:24:18,260 --> 00:24:23,300
our PE with a disk check and we wrote a

00:24:20,390 --> 00:24:25,460
plugin that used nmap to scan the whole

00:24:23,300 --> 00:24:27,620
subnet of these relevant machines and

00:24:25,460 --> 00:24:29,750
anything that was online would then get

00:24:27,620 --> 00:24:31,610
an in our PA check inside the plugin for

00:24:29,750 --> 00:24:33,050
disk space and if any of them were then

00:24:31,610 --> 00:24:35,180
it returned a list of machines that the

00:24:33,050 --> 00:24:36,410
person the admin had to go and fix so

00:24:35,180 --> 00:24:39,260
it's kind of like two plugins at once

00:24:36,410 --> 00:24:41,510
using nmap and checking up here and you

00:24:39,260 --> 00:24:44,200
know simple solution but works quite

00:24:41,510 --> 00:24:45,980
well very robust very happy with that a

00:24:44,200 --> 00:24:49,460
couple of other interesting things

00:24:45,980 --> 00:24:52,180
packet light is another proprietary SNMP

00:24:49,460 --> 00:24:55,340
well it's a pack of light is a

00:24:52,180 --> 00:24:57,500
fiber-optic multiplexer so you can send

00:24:55,340 --> 00:25:00,170
lots of fibers down the one piece of

00:24:57,500 --> 00:25:02,390
fiber any packet light customers here

00:25:00,170 --> 00:25:03,800
interesting tech lets you have a single

00:25:02,390 --> 00:25:05,150
piece of dark fiber and do all sorts of

00:25:03,800 --> 00:25:06,890
other frequencies and things like that

00:25:05,150 --> 00:25:09,140
so you can get you know Ethernet and

00:25:06,890 --> 00:25:12,860
video feeds and a lot sort of stuff a

00:25:09,140 --> 00:25:14,210
great example of a broken SNMP mabh you

00:25:12,860 --> 00:25:16,340
can't get any information out of it

00:25:14,210 --> 00:25:18,650
unless you log in as admin the read-only

00:25:16,340 --> 00:25:19,750
thing gives you the uptime and the

00:25:18,650 --> 00:25:22,700
version and that's it

00:25:19,750 --> 00:25:26,060
so and then if you log in as admin with

00:25:22,700 --> 00:25:27,410
the SNMP password community you get a

00:25:26,060 --> 00:25:28,940
whole lot of information back which is

00:25:27,410 --> 00:25:30,950
in tables and they're very hard to parse

00:25:28,940 --> 00:25:32,780
and they're very dynamic I don't know if

00:25:30,950 --> 00:25:34,130
anyone's tried to get SNMP tables

00:25:32,780 --> 00:25:34,610
working with plugins but it's a bit of a

00:25:34,130 --> 00:25:37,490
nightmare

00:25:34,610 --> 00:25:38,210
so I ended up giving up on that time is

00:25:37,490 --> 00:25:41,450
money after all

00:25:38,210 --> 00:25:42,980
and we just scraped the web page because

00:25:41,450 --> 00:25:44,900
the HTML is very static no one ever

00:25:42,980 --> 00:25:46,880
changes the firmware on these things we

00:25:44,900 --> 00:25:49,490
parse the HTML get back whether or not

00:25:46,880 --> 00:25:51,380
Sierra state output the HTML as text in

00:25:49,490 --> 00:25:52,730
the body of the check and works

00:25:51,380 --> 00:25:55,130
brilliantly everyone's very happy with

00:25:52,730 --> 00:25:57,050
it and this this is a core equipment so

00:25:55,130 --> 00:26:00,260
if this goes down you know bad things

00:25:57,050 --> 00:26:02,810
are happening this this plug-in actually

00:26:00,260 --> 00:26:05,830
does it for something very similar time

00:26:02,810 --> 00:26:08,330
is very important in video land

00:26:05,830 --> 00:26:10,990
everything has to be in sync and all the

00:26:08,330 --> 00:26:13,490
over here help me write a plug-in which

00:26:10,990 --> 00:26:15,080
makes sure the time on a given machine

00:26:13,490 --> 00:26:17,240
is in sync with the station clock

00:26:15,080 --> 00:26:20,000
there's a bunch of different plugins

00:26:17,240 --> 00:26:22,610
that already did that but we did we

00:26:20,000 --> 00:26:23,780
needed one that was you know more

00:26:22,610 --> 00:26:25,190
aggressive and had a bunch of other

00:26:23,780 --> 00:26:26,870
features I can't remember exactly why we

00:26:25,190 --> 00:26:30,520
did that nicely but what can I squat

00:26:26,870 --> 00:26:34,460
about in a minute these guys are also

00:26:30,520 --> 00:26:36,980
web scrapers this one hits the API this

00:26:34,460 --> 00:26:39,530
guy checks to see if a map network drive

00:26:36,980 --> 00:26:40,940
contains a directory because that was

00:26:39,530 --> 00:26:43,040
the only way to deal with this sort of

00:26:40,940 --> 00:26:44,810
legacy system with H a proxy failing

00:26:43,040 --> 00:26:47,420
over between two different things I know

00:26:44,810 --> 00:26:52,340
that sounds pretty bad now say it out

00:26:47,420 --> 00:26:54,350
loud anyway so various various plugins

00:26:52,340 --> 00:26:56,840
happy to happy to cover any of those if

00:26:54,350 --> 00:26:59,480
anyone wants more detail so the workflow

00:26:56,840 --> 00:27:02,900
is we use ops genie to deal with

00:26:59,480 --> 00:27:05,000
notifications ops genie is a cloud

00:27:02,900 --> 00:27:08,030
based service where it has a sort of

00:27:05,000 --> 00:27:12,010
local connector it was kind of annoying

00:27:08,030 --> 00:27:14,690
to get off Jenny to work in detail

00:27:12,010 --> 00:27:17,150
integrated with the local config so what

00:27:14,690 --> 00:27:18,710
we ended up doing was just sending every

00:27:17,150 --> 00:27:21,020
single event every single service

00:27:18,710 --> 00:27:24,200
notification to it and then letting the

00:27:21,020 --> 00:27:27,290
ops genie page figure out any abstaining

00:27:24,200 --> 00:27:29,530
users here it's kind of expensive yeah

00:27:27,290 --> 00:27:31,820
it's you know costed cost a bit of money

00:27:29,530 --> 00:27:33,740
but they decided to get every user onto

00:27:31,820 --> 00:27:35,390
it and sign up you get an app on your

00:27:33,740 --> 00:27:37,100
phone it's great you get notifications

00:27:35,390 --> 00:27:38,840
you can call you there's a mess you deal

00:27:37,100 --> 00:27:40,430
with all those kind of things so we just

00:27:38,840 --> 00:27:41,810
send it the firehose of things that are

00:27:40,430 --> 00:27:43,730
going wrong and then we let ops Jenny

00:27:41,810 --> 00:27:46,610
filter out which one's correct which

00:27:43,730 --> 00:27:49,370
one's not and how that all works we use

00:27:46,610 --> 00:27:52,040
nag Vere's as we said before and then we

00:27:49,370 --> 00:27:54,110
wrote a special plugin to notify RT our

00:27:52,040 --> 00:27:56,780
ticketing system so part of our

00:27:54,110 --> 00:27:58,820
arrangement with these customers is that

00:27:56,780 --> 00:28:01,520
we provide them with SLA service for

00:27:58,820 --> 00:28:03,830
certain things that might be 24 by 7

00:28:01,520 --> 00:28:05,510
support to make sure that given certain

00:28:03,830 --> 00:28:07,130
clusters are behaving correctly

00:28:05,510 --> 00:28:08,660
they've got vendor support for others

00:28:07,130 --> 00:28:10,670
and they use us for sort of the gap

00:28:08,660 --> 00:28:12,320
between their vendor support and other

00:28:10,670 --> 00:28:14,180
things and I wanted to just cover that

00:28:12,320 --> 00:28:16,010
off neatly because I think it's useful

00:28:14,180 --> 00:28:17,920
and I just realized that someone else is

00:28:16,010 --> 00:28:21,140
giving a talk on the same sort of idea

00:28:17,920 --> 00:28:24,740
later today which thankfully doesn't

00:28:21,140 --> 00:28:27,500
cover RT so it's still useful so this is

00:28:24,740 --> 00:28:30,680
a notify RT notification plugin for

00:28:27,500 --> 00:28:33,620
writing or two that we've written and it

00:28:30,680 --> 00:28:38,180
follows this workflow the important

00:28:33,620 --> 00:28:41,030
thing is to not spam your SLA queue with

00:28:38,180 --> 00:28:44,450
tickets the idea is that when you notify

00:28:41,030 --> 00:28:46,700
RT you get back a ticket number from the

00:28:44,450 --> 00:28:50,510
API you comment on the problem with the

00:28:46,700 --> 00:28:52,790
ticket number automatically that way the

00:28:50,510 --> 00:28:54,650
ticket is created and we have a second

00:28:52,790 --> 00:28:56,870
arch in your instance that monitors RT

00:28:54,650 --> 00:28:59,600
using a check RT plugin that we wrote

00:28:56,870 --> 00:29:01,370
it's super simple and effectively says

00:28:59,600 --> 00:29:02,840
write this ticket has been sitting in

00:29:01,370 --> 00:29:04,700
this queue for 20 minutes we've got a

00:29:02,840 --> 00:29:06,080
breach SLA the on-call person gets a

00:29:04,700 --> 00:29:08,930
notification so there's a whole kind of

00:29:06,080 --> 00:29:12,500
you know service delivery aspect to

00:29:08,930 --> 00:29:14,750
making sure that this Q is got tickets

00:29:12,500 --> 00:29:16,550
that are young and then there's a whole

00:29:14,750 --> 00:29:18,410
workflow of something goes

00:29:16,550 --> 00:29:19,790
wrong we updated with the ticket we get

00:29:18,410 --> 00:29:21,230
on acknowledged the ticket gets

00:29:19,790 --> 00:29:24,410
commented on it doesn't get a new ticket

00:29:21,230 --> 00:29:26,210
on resolve the ticket gets opened so

00:29:24,410 --> 00:29:28,550
that it doesn't reach our SLA because

00:29:26,210 --> 00:29:30,350
the problems been resolved itself but

00:29:28,550 --> 00:29:32,660
then we can still investigate it you

00:29:30,350 --> 00:29:36,740
could also set it to resolve the ticket

00:29:32,660 --> 00:29:38,870
on on on you know on ok again if

00:29:36,740 --> 00:29:40,910
required that make sense to everyone

00:29:38,870 --> 00:29:43,100
everybody interesting that it's got a

00:29:40,910 --> 00:29:45,890
cool way of dealing with not spamming

00:29:43,100 --> 00:29:47,660
your queues we want for a bunch of

00:29:45,890 --> 00:29:50,330
databases database is obviously very

00:29:47,660 --> 00:29:54,100
important for your typical large company

00:29:50,330 --> 00:29:56,390
a bunch of db2 stuff db2 has got a

00:29:54,100 --> 00:29:59,690
client that you need to run and then run

00:29:56,390 --> 00:30:01,730
queries against it's important to sort

00:29:59,690 --> 00:30:05,060
of figure out how that all works it

00:30:01,730 --> 00:30:08,270
wasn't too hard from mssql monitoring we

00:30:05,060 --> 00:30:10,130
use t SQL directly from a monitoring box

00:30:08,270 --> 00:30:12,320
locally I found that to be the easiest

00:30:10,130 --> 00:30:14,870
way to make it work sometimes the box

00:30:12,320 --> 00:30:15,830
has already generally have the ability

00:30:14,870 --> 00:30:18,530
to be able to be queried over the

00:30:15,830 --> 00:30:22,040
network for the mssql things any t-sql

00:30:18,530 --> 00:30:24,830
users here it's a bit of a mess but lets

00:30:22,040 --> 00:30:26,450
you query ms SQL from linux pretty cool

00:30:24,830 --> 00:30:28,700
you can then you know write a query

00:30:26,450 --> 00:30:31,010
parse it out you know get what you need

00:30:28,700 --> 00:30:32,840
to do we've got a variety of stored

00:30:31,010 --> 00:30:35,120
procedures that let us do monitoring

00:30:32,840 --> 00:30:38,780
versus actual you know normal selects or

00:30:35,120 --> 00:30:41,630
anything else - ql effectively the the

00:30:38,780 --> 00:30:44,510
job for all of these has been to query

00:30:41,630 --> 00:30:47,830
the box using a plugin pass the output

00:30:44,510 --> 00:30:53,930
and then determine state based off that

00:30:47,830 --> 00:30:56,120
so how do we get started when starting

00:30:53,930 --> 00:30:57,560
out building a monitoring system for

00:30:56,120 --> 00:31:02,000
something and you walk into the building

00:30:57,560 --> 00:31:04,520
you're faced with you know 50 years of

00:31:02,000 --> 00:31:06,770
legacy equipment that's it been that

00:31:04,520 --> 00:31:08,270
that that has had vendor after vendor

00:31:06,770 --> 00:31:09,710
after vendor say this is the correct way

00:31:08,270 --> 00:31:12,020
to do it you end up with all these silos

00:31:09,710 --> 00:31:13,250
of you know various different things you

00:31:12,020 --> 00:31:15,230
know you've got one guy that says here

00:31:13,250 --> 00:31:16,990
that we do this here's how we do storage

00:31:15,230 --> 00:31:20,030
here's how we do whatever it might be so

00:31:16,990 --> 00:31:21,770
it can be quite overwhelming so I'd

00:31:20,030 --> 00:31:23,210
encourage anyone going down this path to

00:31:21,770 --> 00:31:25,520
pick something that's achievable to

00:31:23,210 --> 00:31:28,970
monitor and and get that part of it

00:31:25,520 --> 00:31:30,530
right try and build winds that are you

00:31:28,970 --> 00:31:32,360
know quiet there

00:31:30,530 --> 00:31:33,800
the right signal-to-noise ratio that

00:31:32,360 --> 00:31:34,940
they're easy to implement that you're

00:31:33,800 --> 00:31:38,380
not going to require too many change

00:31:34,940 --> 00:31:41,420
requests that's always a constant battle

00:31:38,380 --> 00:31:42,950
you know I think the record for a change

00:31:41,420 --> 00:31:45,080
request was I wanted a firewall rule

00:31:42,950 --> 00:31:47,000
open to monitor something it was some

00:31:45,080 --> 00:31:49,610
six months later that we finally got it

00:31:47,000 --> 00:31:51,170
to work so you have to consider your

00:31:49,610 --> 00:31:53,600
sort of corporate environment when

00:31:51,170 --> 00:31:55,400
you're dealing with these things figure

00:31:53,600 --> 00:31:58,790
out the important pain points so what

00:31:55,400 --> 00:32:01,700
that means is you know I a lot of people

00:31:58,790 --> 00:32:04,760
don't really care if you know MySQL is

00:32:01,700 --> 00:32:08,390
actually got its port open so setting up

00:32:04,760 --> 00:32:09,890
a check TCP for port 3306 doesn't really

00:32:08,390 --> 00:32:11,990
kind of actually help too much what they

00:32:09,890 --> 00:32:13,820
really care about is the data that

00:32:11,990 --> 00:32:15,710
they've produced is where it needs to be

00:32:13,820 --> 00:32:17,480
so you're much better off actually

00:32:15,710 --> 00:32:19,490
running a plugin that does the correct

00:32:17,480 --> 00:32:21,140
query and gives you back a result and

00:32:19,490 --> 00:32:22,880
says right there's this many tables or

00:32:21,140 --> 00:32:24,830
this is the right data that's there or

00:32:22,880 --> 00:32:26,870
all that kind of stuff because you get

00:32:24,830 --> 00:32:28,430
the three 3:06 for free the check goes

00:32:26,870 --> 00:32:30,800
unknown if it doesn't work or you could

00:32:28,430 --> 00:32:33,380
set it to be critical and so you need to

00:32:30,800 --> 00:32:34,940
figure out based off talking to people

00:32:33,380 --> 00:32:38,150
and interacting with the business what's

00:32:34,940 --> 00:32:39,950
actually important to them once you've

00:32:38,150 --> 00:32:42,140
built that thing then you need to

00:32:39,950 --> 00:32:43,820
actually test it for noise so what that

00:32:42,140 --> 00:32:45,530
means is there's always a point where

00:32:43,820 --> 00:32:47,030
you write a check write a write a

00:32:45,530 --> 00:32:48,830
plug-in write a check command and all

00:32:47,030 --> 00:32:50,720
the syntax that goes with it where you

00:32:48,830 --> 00:32:52,790
release it and let it run for a while

00:32:50,720 --> 00:32:54,950
and let it kind of mature and see if it

00:32:52,790 --> 00:32:56,450
flaps or not see if it kind of comes

00:32:54,950 --> 00:32:57,920
good it's kind of like a cheese you know

00:32:56,450 --> 00:32:59,450
it kinda has to age a little bit before

00:32:57,920 --> 00:33:01,580
you know for sure whether you got it

00:32:59,450 --> 00:33:03,530
right time is an important factor with

00:33:01,580 --> 00:33:05,510
all these things you know as an example

00:33:03,530 --> 00:33:07,970
like we do proactive monitoring of

00:33:05,510 --> 00:33:10,490
backups backups are kind of annoying to

00:33:07,970 --> 00:33:12,770
monitor because this state is often not

00:33:10,490 --> 00:33:14,150
okay it's often you know the fact that a

00:33:12,770 --> 00:33:16,370
backup hasn't finished yet they take a

00:33:14,150 --> 00:33:18,020
long time to finish so we make sure that

00:33:16,370 --> 00:33:20,420
the time period for the backups is

00:33:18,020 --> 00:33:22,340
reduced to you know say between 2:00 and

00:33:20,420 --> 00:33:23,570
3:00 in the afternoon we want to check

00:33:22,340 --> 00:33:25,070
the backups we don't we don't we don't

00:33:23,570 --> 00:33:26,540
check the backups outside of that and

00:33:25,070 --> 00:33:28,910
then we might check them a few times

00:33:26,540 --> 00:33:30,380
between that time period and don't worry

00:33:28,910 --> 00:33:31,700
about it for there so that that's a you

00:33:30,380 --> 00:33:35,600
know because the backups only ever going

00:33:31,700 --> 00:33:37,220
to work by that point you know again

00:33:35,600 --> 00:33:39,470
release and refine what I mean by that

00:33:37,220 --> 00:33:41,830
is you know wait a little while until

00:33:39,470 --> 00:33:43,940
you tell someone about it

00:33:41,830 --> 00:33:45,139
you know I've said

00:33:43,940 --> 00:33:46,009
a check for this you know don't tell

00:33:45,139 --> 00:33:48,110
them straight away but they like well

00:33:46,009 --> 00:33:50,779
it's broken you like well damn so you

00:33:48,110 --> 00:33:52,429
know be gentle on me on the on the on

00:33:50,779 --> 00:33:54,799
the boasting about what you've got and

00:33:52,429 --> 00:33:56,809
then build value so what that means is I

00:33:54,799 --> 00:33:58,490
always go out of my way to make sure

00:33:56,809 --> 00:34:00,200
that after that check is in place I go

00:33:58,490 --> 00:34:03,049
back to the person who wanted that and

00:34:00,200 --> 00:34:04,549
said you know does this make sense for

00:34:03,049 --> 00:34:05,990
you is there anything else about this

00:34:04,549 --> 00:34:07,789
that we could actually invite is there a

00:34:05,990 --> 00:34:12,619
way we could refine this to make it more

00:34:07,789 --> 00:34:14,419
helpful many people kind of don't really

00:34:12,619 --> 00:34:16,790
understand what's possible you know they

00:34:14,419 --> 00:34:18,589
don't sort of understand that I can

00:34:16,790 --> 00:34:20,869
write a script to query anything

00:34:18,589 --> 00:34:22,310
you know literally anything is James in

00:34:20,869 --> 00:34:24,319
the room I can I can write a script that

00:34:22,310 --> 00:34:30,679
does that James is here it's okay

00:34:24,319 --> 00:34:33,889
actually no it's critical all right so

00:34:30,679 --> 00:34:35,300
and again in deeper on that who really

00:34:33,889 --> 00:34:36,980
cares where they care about it might not

00:34:35,300 --> 00:34:39,829
be the person you expect you know we've

00:34:36,980 --> 00:34:41,659
got some fun stories about that that you

00:34:39,829 --> 00:34:43,069
know that the boss might walk in and say

00:34:41,659 --> 00:34:45,829
hey you know I want a cheque that does

00:34:43,069 --> 00:34:48,020
you know this and we're like okay that

00:34:45,829 --> 00:34:49,520
sounds interesting but then you wander

00:34:48,020 --> 00:34:51,379
over to the engineer whose job it is is

00:34:49,520 --> 00:34:52,700
to sit in front of that every day all

00:34:51,379 --> 00:34:53,990
day and he's like well we don't actually

00:34:52,700 --> 00:34:55,490
care about that we really care about

00:34:53,990 --> 00:34:58,550
this other thing

00:34:55,490 --> 00:34:59,569
so sometimes sometimes actually talking

00:34:58,550 --> 00:35:02,000
to the people that are actually going to

00:34:59,569 --> 00:35:03,200
use the equipment and be on call and

00:35:02,000 --> 00:35:05,540
after you have to deal with the fires

00:35:03,200 --> 00:35:06,680
when they're burning is a much more a

00:35:05,540 --> 00:35:07,790
much better approach

00:35:06,680 --> 00:35:11,480
I realize that involves a lot more

00:35:07,790 --> 00:35:14,780
legwork but you know designing something

00:35:11,480 --> 00:35:16,970
so that the I have another slide about

00:35:14,780 --> 00:35:21,109
this so that the bottom bottom up kind

00:35:16,970 --> 00:35:22,520
of adoption is important so what's what

00:35:21,109 --> 00:35:25,400
lessons we learned signal versus noise

00:35:22,520 --> 00:35:27,319
is crucial there's nothing quite like

00:35:25,400 --> 00:35:28,819
making a monitoring system live and then

00:35:27,319 --> 00:35:30,200
having everyone go why am I getting all

00:35:28,819 --> 00:35:31,730
these emails you know I'm getting spam

00:35:30,200 --> 00:35:33,050
this is I'm just gonna delete them

00:35:31,730 --> 00:35:34,310
all you know and then I mean how many

00:35:33,050 --> 00:35:35,869
times have you found someone who's got

00:35:34,310 --> 00:35:38,690
all of their alerts just going to trash

00:35:35,869 --> 00:35:40,970
you know so because you know they're

00:35:38,690 --> 00:35:42,950
just way too noisy and I you know we've

00:35:40,970 --> 00:35:44,990
replaced at both of these environments

00:35:42,950 --> 00:35:45,619
multiple systems that we're doing just

00:35:44,990 --> 00:35:47,510
that

00:35:45,619 --> 00:35:48,800
you know they had a whole that spent you

00:35:47,510 --> 00:35:50,569
know hours and hours months and months

00:35:48,800 --> 00:35:52,460
building a system you know a different

00:35:50,569 --> 00:35:53,930
proprietary system that just ended up

00:35:52,460 --> 00:35:56,359
generating a lot of noise and everyone

00:35:53,930 --> 00:35:57,890
just ignored it so it's really important

00:35:56,359 --> 00:35:59,540
that when you build something and this

00:35:57,890 --> 00:36:01,190
back to that user engagement that people

00:35:59,540 --> 00:36:02,570
are going to care it's important that

00:36:01,190 --> 00:36:03,770
you actually define what is they care

00:36:02,570 --> 00:36:05,330
about and they're going to listen

00:36:03,770 --> 00:36:06,920
because it's just not worth it if you're

00:36:05,330 --> 00:36:09,740
not gonna listen don't even check it

00:36:06,920 --> 00:36:10,970
like it's you know if they don't care if

00:36:09,740 --> 00:36:13,370
it's cold outside don't write a check

00:36:10,970 --> 00:36:16,070
for the weather you know that's good

00:36:13,370 --> 00:36:19,460
as I said don't be afraid to write

00:36:16,070 --> 00:36:23,150
plugins I think it's one of those things

00:36:19,460 --> 00:36:25,910
where when you first approach this you

00:36:23,150 --> 00:36:27,590
think that you know I need to you don't

00:36:25,910 --> 00:36:28,490
people don't kind of realize that I

00:36:27,590 --> 00:36:29,930
think it doesn't really know what it's

00:36:28,490 --> 00:36:31,790
doing you know it's just a check out

00:36:29,930 --> 00:36:34,550
it's an engine that runs things doesn't

00:36:31,790 --> 00:36:36,680
understand what's actually going on and

00:36:34,550 --> 00:36:38,360
so to get the best results out of

00:36:36,680 --> 00:36:39,830
defining the things that you care about

00:36:38,360 --> 00:36:42,710
you need to be able to write a plug-in

00:36:39,830 --> 00:36:45,050
writing plug-in is very easy it's a you

00:36:42,710 --> 00:36:47,060
know exit code and a string you can

00:36:45,050 --> 00:36:49,190
write it in any language you want and I

00:36:47,060 --> 00:36:50,540
encourage people and actually part of

00:36:49,190 --> 00:36:52,220
the training when I sit down with us you

00:36:50,540 --> 00:36:53,930
said me and I say right we're gonna

00:36:52,220 --> 00:36:54,980
write a check oh you care about this

00:36:53,930 --> 00:36:56,030
thing well we're gonna write a plug-in

00:36:54,980 --> 00:36:57,560
and they're like what you mean we're

00:36:56,030 --> 00:36:58,640
gonna write some code I'm like well it's

00:36:57,560 --> 00:37:00,380
not very hard you know I've written

00:36:58,640 --> 00:37:06,020
plugins in Windows batch file you know

00:37:00,380 --> 00:37:07,280
like it you can you can do it yeah you

00:37:06,020 --> 00:37:09,740
just have to do these things when it's a

00:37:07,280 --> 00:37:13,220
real world I live in James I'm a real

00:37:09,740 --> 00:37:14,360
real bad world out there do keep them in

00:37:13,220 --> 00:37:16,670
revision control if you're gonna do that

00:37:14,360 --> 00:37:18,800
though so good coding practice and

00:37:16,670 --> 00:37:22,310
encouraging that and building a system

00:37:18,800 --> 00:37:24,440
where the monetary system become and it

00:37:22,310 --> 00:37:26,480
becomes comes to encapsulate what it is

00:37:24,440 --> 00:37:29,990
that the company cares about requires

00:37:26,480 --> 00:37:32,300
good practices you treat the software as

00:37:29,990 --> 00:37:33,680
a development project and encourage

00:37:32,300 --> 00:37:35,990
people and sometimes that's not

00:37:33,680 --> 00:37:37,550
particularly successful to track their

00:37:35,990 --> 00:37:39,020
changes and account for their changes

00:37:37,550 --> 00:37:40,700
and all those kind of things you'll have

00:37:39,020 --> 00:37:43,670
a much better investment in your time

00:37:40,700 --> 00:37:45,980
you get a better result so as I said

00:37:43,670 --> 00:37:47,750
before sometimes a manager wonders in

00:37:45,980 --> 00:37:49,460
wages arm around and says you know hey

00:37:47,750 --> 00:37:50,990
we want to monitor all this stuff it's

00:37:49,460 --> 00:37:53,060
not necessarily the actual thing that's

00:37:50,990 --> 00:37:54,890
important going finding that that person

00:37:53,060 --> 00:37:56,120
in the factory that needs to know

00:37:54,890 --> 00:37:59,750
whether this one thing is actually

00:37:56,120 --> 00:38:01,340
working as a different situation so I've

00:37:59,750 --> 00:38:02,510
noticed that many organizations start

00:38:01,340 --> 00:38:04,400
with bottom-up you know we have a

00:38:02,510 --> 00:38:06,020
monetary system that a guy turns up one

00:38:04,400 --> 00:38:07,550
day and it's his favorite pet project he

00:38:06,020 --> 00:38:09,860
says well I don't know what's going on

00:38:07,550 --> 00:38:11,369
here until you know I put into some

00:38:09,860 --> 00:38:13,380
system that checks that and and

00:38:11,369 --> 00:38:15,950
story that is is the same the customers

00:38:13,380 --> 00:38:18,569
that we've got today many of those

00:38:15,950 --> 00:38:20,220
adopted the monitoring that we put in

00:38:18,569 --> 00:38:21,660
because we we said well we need to

00:38:20,220 --> 00:38:25,430
define what it is you care about before

00:38:21,660 --> 00:38:28,380
we can actually sort of get started and

00:38:25,430 --> 00:38:30,059
then what happens is it gets good and

00:38:28,380 --> 00:38:31,740
the boss says oh this is this is

00:38:30,059 --> 00:38:35,029
actually working really well let's do

00:38:31,740 --> 00:38:38,249
this and the problem is pivoting from

00:38:35,029 --> 00:38:39,539
people building systems that define

00:38:38,249 --> 00:38:41,609
things they care about to an

00:38:39,539 --> 00:38:43,079
organization deciding what's important

00:38:41,609 --> 00:38:45,180
and what's not there's often a

00:38:43,079 --> 00:38:46,619
disconnect and working through that and

00:38:45,180 --> 00:38:48,269
figuring that out as a matter of like

00:38:46,619 --> 00:38:50,609
consulting and understanding people and

00:38:48,269 --> 00:38:52,220
letting people provide feedback as to

00:38:50,609 --> 00:38:54,720
whether or not something's working

00:38:52,220 --> 00:38:57,240
establishing the the loop between

00:38:54,720 --> 00:38:59,309
someone that receives the alert and then

00:38:57,240 --> 00:39:01,079
is able to actually say that alert was

00:38:59,309 --> 00:39:03,150
useless please get rid of it he's

00:39:01,079 --> 00:39:04,769
extremely important and it kind of needs

00:39:03,150 --> 00:39:07,589
to be mapped out right at the start how

00:39:04,769 --> 00:39:09,420
do you say that when I was notified for

00:39:07,589 --> 00:39:10,470
something it wasn't important and you

00:39:09,420 --> 00:39:14,220
have to figure that out right at bright

00:39:10,470 --> 00:39:17,220
start so what are the ideal everything

00:39:14,220 --> 00:39:21,779
should be green who's got all green all

00:39:17,220 --> 00:39:23,880
the time no one where realistic about it

00:39:21,779 --> 00:39:27,690
that's okay it has to be good but you

00:39:23,880 --> 00:39:31,230
know what I mean by this is you want to

00:39:27,690 --> 00:39:33,539
get to the point where where people know

00:39:31,230 --> 00:39:35,160
that because the system is checking

00:39:33,539 --> 00:39:36,630
things proactively and this is why I

00:39:35,160 --> 00:39:39,059
love active checks versus pack of

00:39:36,630 --> 00:39:40,559
passive checks that they can trust it

00:39:39,059 --> 00:39:42,839
they can look on the dashboard and go oh

00:39:40,559 --> 00:39:44,160
I can relax now it's all green you know

00:39:42,839 --> 00:39:46,019
I can go do something else I'd have to

00:39:44,160 --> 00:39:47,609
worry about that that's that's where you

00:39:46,019 --> 00:39:48,930
want to want to get to you know you kind

00:39:47,609 --> 00:39:50,849
of don't want to be a slave to the

00:39:48,930 --> 00:39:52,200
alerts slaves to you know clicking

00:39:50,849 --> 00:39:53,519
acknowledge and commenting all the time

00:39:52,200 --> 00:39:55,230
you know you want to get to the point

00:39:53,519 --> 00:39:57,450
where you can define that so that

00:39:55,230 --> 00:39:58,680
requires tweaking levels you know making

00:39:57,450 --> 00:40:00,480
sure that we're not actually flapping

00:39:58,680 --> 00:40:03,739
too much or that we've got the right

00:40:00,480 --> 00:40:06,239
thresholds and you know in my experience

00:40:03,739 --> 00:40:07,890
aggressively removing checks where you

00:40:06,239 --> 00:40:10,079
know that no one's going to care about

00:40:07,890 --> 00:40:12,390
it at a dev cluster just yesterday or

00:40:10,079 --> 00:40:13,559
day before at Fox Sports a dev Isilon

00:40:12,390 --> 00:40:15,269
cluster it's I don't know a couple

00:40:13,559 --> 00:40:16,619
hundred terabytes worth of storage the

00:40:15,269 --> 00:40:17,730
guide has rebuilt it all of a sudden

00:40:16,619 --> 00:40:19,410
it's a dev one he's allowed to do that

00:40:17,730 --> 00:40:20,489
that's perfectly fine we were monitoring

00:40:19,410 --> 00:40:22,170
it because they happen to have a

00:40:20,489 --> 00:40:23,190
production workflow on it which they

00:40:22,170 --> 00:40:25,019
don't have anymore because he just wiped

00:40:23,190 --> 00:40:25,290
it so I was like you know what I'm just

00:40:25,019 --> 00:40:26,460
going

00:40:25,290 --> 00:40:28,290
delete all the monitoring for that just

00:40:26,460 --> 00:40:29,490
move archive it out of the way it's

00:40:28,290 --> 00:40:30,930
nothing to be a problem we'll just get

00:40:29,490 --> 00:40:32,760
back to me when when you're ready that

00:40:30,930 --> 00:40:34,350
way we don't have noise cluttering the

00:40:32,760 --> 00:40:35,910
system you know and we're kind of free

00:40:34,350 --> 00:40:37,530
to go I'm not just going to acknowledge

00:40:35,910 --> 00:40:39,630
that and have you know pink stuff around

00:40:37,530 --> 00:40:41,490
it's going to be gone because it's it's

00:40:39,630 --> 00:40:43,650
it's important you know to just Shepherd

00:40:41,490 --> 00:40:45,540
that the other point I want to make was

00:40:43,650 --> 00:40:47,550
about monitoring driven infrastructure

00:40:45,540 --> 00:40:50,010
so I kind of associate this like

00:40:47,550 --> 00:40:52,290
test-driven development so it's been

00:40:50,010 --> 00:40:53,400
it's been hard to get project teams and

00:40:52,290 --> 00:40:56,010
I think I might be running out of time I

00:40:53,400 --> 00:41:02,040
don't know I'm close to the end project

00:40:56,010 --> 00:41:03,630
teams to good project teams to when

00:41:02,040 --> 00:41:05,610
they're defining a project to actually

00:41:03,630 --> 00:41:08,160
create the checks that they want for

00:41:05,610 --> 00:41:09,780
that project right at the start so you

00:41:08,160 --> 00:41:13,020
know you get in a new vendor they turn

00:41:09,780 --> 00:41:14,340
up part of the question has to be when

00:41:13,020 --> 00:41:16,680
you're building a new project with a new

00:41:14,340 --> 00:41:18,780
piece of equipment is how are we going

00:41:16,680 --> 00:41:19,890
to support this and that's not just how

00:41:18,780 --> 00:41:21,270
we're going to support this in an

00:41:19,890 --> 00:41:22,500
automated way which means how we're

00:41:21,270 --> 00:41:23,520
going to monitor it because that's what

00:41:22,500 --> 00:41:27,510
we're trying to do is automatically

00:41:23,520 --> 00:41:29,010
support things so I you know I you know

00:41:27,510 --> 00:41:30,810
we haven't quite got there but I'd love

00:41:29,010 --> 00:41:34,680
to get to the point and so this is the

00:41:30,810 --> 00:41:36,030
ideal where we can define right here is

00:41:34,680 --> 00:41:37,530
a list of all the machines and here are

00:41:36,030 --> 00:41:39,150
the checks for those machines that we're

00:41:37,530 --> 00:41:40,920
going to implement we can put the checks

00:41:39,150 --> 00:41:42,210
into the system and then as you plug

00:41:40,920 --> 00:41:43,680
them in and turn them on and make them

00:41:42,210 --> 00:41:45,960
all work the way that we want everything

00:41:43,680 --> 00:41:47,580
just comes green that's that's how I

00:41:45,960 --> 00:41:49,410
feel it's the same way with you know

00:41:47,580 --> 00:41:52,020
test-driven development for software

00:41:49,410 --> 00:41:53,910
ideally it'll it's all okay all the time

00:41:52,020 --> 00:41:56,820
and that's what we're talking about with

00:41:53,910 --> 00:41:59,100
this this part anyway thanks for that I

00:41:56,820 --> 00:42:01,470
and thanks to Fox Sports and sky racing

00:41:59,100 --> 00:42:02,880
for although you know investment they've

00:42:01,470 --> 00:42:06,750
made in me over the time I wanted to

00:42:02,880 --> 00:42:11,490
quickly show you a demo of some of the

00:42:06,750 --> 00:42:14,190
maps that that I had if that's okay if

00:42:11,490 --> 00:42:19,650
my internet behaves it's a bit bad here

00:42:14,190 --> 00:42:22,200
so we had there's a lot of red here we

00:42:19,650 --> 00:42:26,430
these devices this is that this is a

00:42:22,200 --> 00:42:28,560
real time you know there's a real this

00:42:26,430 --> 00:42:30,990
is an actual tunnel to sky racing in

00:42:28,560 --> 00:42:32,730
Australia these devices are satellite

00:42:30,990 --> 00:42:35,700
decoders they they are their customers

00:42:32,730 --> 00:42:37,410
way of consuming satellite internet

00:42:35,700 --> 00:42:38,820
they've got decryption cards in them

00:42:37,410 --> 00:42:39,990
that retrieve it and

00:42:38,820 --> 00:42:41,850
you can only connect them over port 80

00:42:39,990 --> 00:42:44,070
so we did a couple of interesting things

00:42:41,850 --> 00:42:46,560
but the most interesting thing is is is

00:42:44,070 --> 00:42:50,600
the map and what the map is is a map of

00:42:46,560 --> 00:42:53,400
where all the Dakotas are I took the

00:42:50,600 --> 00:42:55,050
street address out of the database and

00:42:53,400 --> 00:42:57,180
we wrote a script that automatically

00:42:55,050 --> 00:42:58,860
pulls the queries the database where

00:42:57,180 --> 00:43:01,260
they keep track of their data for the

00:42:58,860 --> 00:43:03,500
street address and then plotted it to a

00:43:01,260 --> 00:43:05,730
geolocation using the Google Maps API

00:43:03,500 --> 00:43:07,320
update a variable in our chamber for the

00:43:05,730 --> 00:43:08,640
host with the geolocation and you get

00:43:07,320 --> 00:43:10,140
yourself a map it's it's very

00:43:08,640 --> 00:43:11,790
straightforward the Maps add-ons awesome

00:43:10,140 --> 00:43:14,130
who wrote the map son he's not here

00:43:11,790 --> 00:43:16,650
today Zee I'm gonna buy him a beer or

00:43:14,130 --> 00:43:18,420
you can have a free Tim Tam but then you

00:43:16,650 --> 00:43:20,250
can zoom in on all these things and you

00:43:18,420 --> 00:43:23,760
get this really cool you know Maps

00:43:20,250 --> 00:43:29,760
effect and you can browse through the

00:43:23,760 --> 00:43:31,680
various options you can see you know

00:43:29,760 --> 00:43:33,390
we've got show on map here and we can

00:43:31,680 --> 00:43:34,980
actually even I added an action here

00:43:33,390 --> 00:43:37,860
which will let you browse to the web

00:43:34,980 --> 00:43:39,630
interface of the decoder itself which is

00:43:37,860 --> 00:43:41,250
pretty cool obviously doesn't work from

00:43:39,630 --> 00:43:44,070
this environment you need to be behind a

00:43:41,250 --> 00:43:46,140
firewall now one of the things that that

00:43:44,070 --> 00:43:48,530
was useful here was you can't ping these

00:43:46,140 --> 00:43:51,900
boxes they don't allow ping they've got

00:43:48,530 --> 00:43:53,430
5000 venues around the country and the

00:43:51,900 --> 00:43:55,050
firmware you know it's not going to be

00:43:53,430 --> 00:43:56,370
changed to be allowing ping anytime soon

00:43:55,050 --> 00:43:58,190
because that would require people to go

00:43:56,370 --> 00:44:01,920
on site to some extremely remote places

00:43:58,190 --> 00:44:04,020
as you can see and so we changed the

00:44:01,920 --> 00:44:07,440
host check definition to be can we check

00:44:04,020 --> 00:44:10,080
the port test to connect to port 80 and

00:44:07,440 --> 00:44:11,310
that so you know these and there's a lot

00:44:10,080 --> 00:44:13,230
of red on here because the aggregate

00:44:11,310 --> 00:44:15,840
color of the dots is the the worst

00:44:13,230 --> 00:44:19,710
possible state so you end up with you

00:44:15,840 --> 00:44:22,800
know 500 out of 5000 being down but that

00:44:19,710 --> 00:44:24,690
works reasonably well so that's kind of

00:44:22,800 --> 00:44:25,890
cool I'd love to take some questions

00:44:24,690 --> 00:44:26,970
because I'm much more interested in

00:44:25,890 --> 00:44:30,000
answering your questions than anything

00:44:26,970 --> 00:44:32,700
else I think that was about it for that

00:44:30,000 --> 00:44:35,270
demo yeah that was cool

00:44:32,700 --> 00:44:37,500
and then I've got also the actual live

00:44:35,270 --> 00:44:39,420
dashboards here I don't know if this

00:44:37,500 --> 00:44:42,500
will necessarily work but you can click

00:44:39,420 --> 00:44:45,450
on the the links here they drill down to

00:44:42,500 --> 00:44:47,010
the actual instance and you know defines

00:44:45,450 --> 00:44:48,870
the checks I can log it and fiddle with

00:44:47,010 --> 00:44:50,940
that a minute but that's about it I

00:44:48,870 --> 00:44:53,420
think if anyone has any questions I'm

00:44:50,940 --> 00:44:53,420
happy to answer

00:44:53,570 --> 00:45:01,950
thank does it work yes okay it's

00:44:58,770 --> 00:45:04,140
Christian I'm a serious question and a

00:45:01,950 --> 00:45:07,020
not serious question sure which is

00:45:04,140 --> 00:45:09,810
plausibly serious the serious question

00:45:07,020 --> 00:45:11,760
is how difficult to find it to integrate

00:45:09,810 --> 00:45:13,650
with your EVs or your Everett's or any

00:45:11,760 --> 00:45:15,960
of those like systems and vendors are

00:45:13,650 --> 00:45:18,390
they hard to do they help do they

00:45:15,960 --> 00:45:20,550
provide some checks so II vets was a you

00:45:18,390 --> 00:45:22,170
know to pick an example it's like oh

00:45:20,550 --> 00:45:25,440
look we've got SNMP monitoring can we

00:45:22,170 --> 00:45:28,680
get the meep no that's gonna cost you

00:45:25,440 --> 00:45:29,970
twenty thousand dollars well that's kind

00:45:28,680 --> 00:45:31,290
of crap we kind of paid for all this

00:45:29,970 --> 00:45:32,760
equipment and we're like a really big

00:45:31,290 --> 00:45:35,430
customer but why can't we get the NIP

00:45:32,760 --> 00:45:38,010
and they're like that's crap alright so

00:45:35,430 --> 00:45:39,680
we escalated that to their global legal

00:45:38,010 --> 00:45:43,320
team ready to sign an agreement

00:45:39,680 --> 00:45:45,780
eventually we got the 120 K file that's

00:45:43,320 --> 00:45:48,420
the member six months later I think it

00:45:45,780 --> 00:45:52,830
was so I don't know is that does that

00:45:48,420 --> 00:45:54,300
sound difficult yeah summer summer bad

00:45:52,830 --> 00:45:55,590
summer good you know like the pack of

00:45:54,300 --> 00:45:57,510
like guy I was straightaway but it's

00:45:55,590 --> 00:45:59,640
terrible and he's not gonna fix it

00:45:57,510 --> 00:46:01,800
yeah the silly question is can you can

00:45:59,640 --> 00:46:03,630
you expose this so you can know for

00:46:01,800 --> 00:46:05,250
users which bars are open and maybe what

00:46:03,630 --> 00:46:07,920
stations are playing like oh they're

00:46:05,250 --> 00:46:11,570
watching the race you can actually yeah

00:46:07,920 --> 00:46:13,980
yeah the the the satellite decoder has a

00:46:11,570 --> 00:46:15,780
the reason we wouldn't want to do that

00:46:13,980 --> 00:46:17,130
is because the bandwidth is not high

00:46:15,780 --> 00:46:19,560
enough this is all running over 4G

00:46:17,130 --> 00:46:21,600
networks because there's no there's no

00:46:19,560 --> 00:46:25,860
fixed line services to you know Horn

00:46:21,600 --> 00:46:27,390
Island but you could actually do that I

00:46:25,860 --> 00:46:29,100
was I was there's an SNMP interface

00:46:27,390 --> 00:46:30,840
forward and I could literally say that

00:46:29,100 --> 00:46:32,400
you know which channel they're receiving

00:46:30,840 --> 00:46:34,560
and whether it's working or not it's

00:46:32,400 --> 00:46:35,460
pretty cool but they didn't let me do

00:46:34,560 --> 00:46:42,200
that because was going to cost too much

00:46:35,460 --> 00:46:42,200
money thank you anything else

00:46:54,560 --> 00:47:00,620
when company have some live streams it's

00:46:57,750 --> 00:47:03,450
important for them to have some alerts

00:47:00,620 --> 00:47:06,360
in case of if they have some bitrate

00:47:03,450 --> 00:47:10,980
with your betrayed troops and thing like

00:47:06,360 --> 00:47:14,340
this is the fact but can this tool make

00:47:10,980 --> 00:47:17,970
some prediction and analyze the press

00:47:14,340 --> 00:47:22,860
tapes before the town for example I can

00:47:17,970 --> 00:47:24,600
audio bitrate drop we could obviously

00:47:22,860 --> 00:47:27,000
monitor things that are available now

00:47:24,600 --> 00:47:30,600
you know in dealing with a you know

00:47:27,000 --> 00:47:32,670
proprietary well a zoo of proprietary

00:47:30,600 --> 00:47:35,190
solutions you're limited to what vendors

00:47:32,670 --> 00:47:38,190
are allowed to allow you to deal with in

00:47:35,190 --> 00:47:40,290
the case of for example elemental there

00:47:38,190 --> 00:47:41,520
transcoder they've been bought by Amazon

00:47:40,290 --> 00:47:43,140
they're starting to you know

00:47:41,520 --> 00:47:44,700
everything's now an API it's a great

00:47:43,140 --> 00:47:45,660
thing you can we've got a plug-in that

00:47:44,700 --> 00:47:47,730
query to whether or not the video

00:47:45,660 --> 00:47:51,600
bitrate is working properly but in the

00:47:47,730 --> 00:47:53,880
case of a you know there's that there's

00:47:51,600 --> 00:47:55,710
a radio station that we query and some

00:47:53,880 --> 00:47:57,060
of that equipment is just you know they

00:47:55,710 --> 00:47:58,890
air gap it you're not allowed to even

00:47:57,060 --> 00:48:01,620
plug anything into the same land because

00:47:58,890 --> 00:48:03,780
it's all layer two audio so the I think

00:48:01,620 --> 00:48:06,090
I think I understand your question you

00:48:03,780 --> 00:48:08,040
know can you figure out whether or not

00:48:06,090 --> 00:48:09,180
things are going to break or you know

00:48:08,040 --> 00:48:11,160
they're there's a performance

00:48:09,180 --> 00:48:13,710
degradation based on that you know it's

00:48:11,160 --> 00:48:15,270
entirely at the hands of which piece of

00:48:13,710 --> 00:48:16,860
equipment you're dealing with but the

00:48:15,270 --> 00:48:18,960
answer is of course you can if you can

00:48:16,860 --> 00:48:23,010
write a script it query it then then go

00:48:18,960 --> 00:48:27,680
for it it's a mere bash script away or

00:48:23,010 --> 00:48:27,680
go if you thinks won't go thank you

00:48:29,360 --> 00:48:40,620
Rudy you mentioned on how to you

00:48:39,060 --> 00:48:42,600
mentioned that it's important to like to

00:48:40,620 --> 00:48:44,670
shorten the feedback loop so as soon as

00:48:42,600 --> 00:48:46,920
you have feedback like an alert this

00:48:44,670 --> 00:48:49,340
flopping to flopping too much or the

00:48:46,920 --> 00:48:52,410
threshold is not fine do you allow the

00:48:49,340 --> 00:48:55,320
users of the interface to change those

00:48:52,410 --> 00:48:59,100
thresholds or does it need to go through

00:48:55,320 --> 00:49:00,630
some procedure yeah there's a team of

00:48:59,100 --> 00:49:01,560
people that can make configuration

00:49:00,630 --> 00:49:03,150
changes

00:49:01,560 --> 00:49:05,430
and so it's important that we try and

00:49:03,150 --> 00:49:06,960
make that team as big as possible them

00:49:05,430 --> 00:49:10,440
and they'll have representatives from

00:49:06,960 --> 00:49:13,080
various other departments but the actual

00:49:10,440 --> 00:49:14,400
you know the the on-call guy may or may

00:49:13,080 --> 00:49:17,340
not be able to actually do that

00:49:14,400 --> 00:49:21,180
generally not sometimes they're the same

00:49:17,340 --> 00:49:22,530
people but you know is the answer that

00:49:21,180 --> 00:49:23,730
unfortunately I mean it's it's it's one

00:49:22,530 --> 00:49:25,320
of those things where it would be nice

00:49:23,730 --> 00:49:27,150
to be able to have people adjust that

00:49:25,320 --> 00:49:28,230
but then people will just adjust things

00:49:27,150 --> 00:49:30,180
and you know instead of acknowledging

00:49:28,230 --> 00:49:31,950
them and actually fixing problems so you

00:49:30,180 --> 00:49:35,300
need to actually have a you know some

00:49:31,950 --> 00:49:37,920
rigour in service delivery yeah because

00:49:35,300 --> 00:49:39,900
like and to make this change they need

00:49:37,920 --> 00:49:44,640
to change configuration files or they

00:49:39,900 --> 00:49:46,890
can use the single interface to override

00:49:44,640 --> 00:49:50,930
it yeah at this point we're using

00:49:46,890 --> 00:49:53,220
director for some hosts for some things

00:49:50,930 --> 00:49:54,420
but it's got a little bit to go and

00:49:53,220 --> 00:49:57,210
we've got to roll out a bunch of other

00:49:54,420 --> 00:49:59,790
things to make that work properly so

00:49:57,210 --> 00:50:01,380
it's all configuration files but you

00:49:59,790 --> 00:50:02,610
know we do have it so that you can it's

00:50:01,380 --> 00:50:03,870
you know it's in git there's a web

00:50:02,610 --> 00:50:05,970
interface for that you could technically

00:50:03,870 --> 00:50:07,740
edit the file in git and commit it from

00:50:05,970 --> 00:50:11,010
there and it would flow through to the

00:50:07,740 --> 00:50:13,500
right place so you know it's not out of

00:50:11,010 --> 00:50:15,330
the question but certainly not afraid of

00:50:13,500 --> 00:50:19,320
the command line and neither should

00:50:15,330 --> 00:50:20,940
anyone else be so but you know that's a

00:50:19,320 --> 00:50:24,050
matter of training you got to be

00:50:20,940 --> 00:50:24,050
realistic about what people can achieve

00:50:24,290 --> 00:50:27,290
question

00:50:32,010 --> 00:50:40,210
just one question are you receiving and

00:50:36,780 --> 00:50:43,690
analyzing SNMP traps from your as an MP

00:50:40,210 --> 00:50:48,609
devices as well and integrating them to

00:50:43,690 --> 00:50:50,560
your monitoring solution not it not in

00:50:48,609 --> 00:50:52,869
these two projects we decided against

00:50:50,560 --> 00:50:54,490
that as it was where we're possible

00:50:52,869 --> 00:50:55,839
so for example the sensitive video

00:50:54,490 --> 00:50:57,430
equipment you can't just pull the crap

00:50:55,839 --> 00:50:59,560
out of it with SNMP because it will fall

00:50:57,430 --> 00:51:01,390
over so we just reduce the check

00:50:59,560 --> 00:51:03,369
frequency to make that more palatable

00:51:01,390 --> 00:51:05,050
and the reason for that is I much prefer

00:51:03,369 --> 00:51:07,060
to actually have an active check versus

00:51:05,050 --> 00:51:10,450
a passive check you know in the SNMP

00:51:07,060 --> 00:51:11,890
trap is a passive check and so I you

00:51:10,450 --> 00:51:13,329
kind of don't know what you don't know

00:51:11,890 --> 00:51:15,130
you don't know if the box is just

00:51:13,329 --> 00:51:16,900
disappeared or hasn't sent the check or

00:51:15,130 --> 00:51:19,060
those kind of things so I much prefer an

00:51:16,900 --> 00:51:21,069
active check personally and I try and

00:51:19,060 --> 00:51:22,960
push that as much as possible that being

00:51:21,069 --> 00:51:24,609
said you know customers ask about

00:51:22,960 --> 00:51:25,869
passive checks all the time and SNMP

00:51:24,609 --> 00:51:28,660
traps and I have dealt with them in the

00:51:25,869 --> 00:51:29,800
past but I'd really prefer not to

00:51:28,660 --> 00:51:31,240
actually have to deal with them because

00:51:29,800 --> 00:51:34,680
you just is you don't know what you

00:51:31,240 --> 00:51:37,060
don't know it's it's a logical problem

00:51:34,680 --> 00:51:38,200
probably depends on the use case as well

00:51:37,060 --> 00:51:43,140
I was talking to someone who worked at a

00:51:38,200 --> 00:51:46,569
Stock Exchange but they could be very

00:51:43,140 --> 00:51:50,339
meaningful by complimenting active

00:51:46,569 --> 00:51:53,470
checks yes last signal from a dyeing

00:51:50,339 --> 00:51:54,280
device could be an SNMP trap that's true

00:51:53,470 --> 00:51:55,930
that's true

00:51:54,280 --> 00:51:58,359
the last signal could also be a ping or

00:51:55,930 --> 00:52:03,010
something there may be you know it's if

00:51:58,359 --> 00:52:04,480
it's down or yeah that's true but I was

00:52:03,010 --> 00:52:06,460
talking to someone it depends on your

00:52:04,480 --> 00:52:07,810
environment as well so talking one of

00:52:06,460 --> 00:52:09,970
the guys at the Australian Stock

00:52:07,810 --> 00:52:12,369
Exchange and they use passive checks for

00:52:09,970 --> 00:52:14,980
lots of things and that's because in

00:52:12,369 --> 00:52:17,230
their business making decisions about

00:52:14,980 --> 00:52:20,050
where the data is up to has to be up to

00:52:17,230 --> 00:52:21,250
a human so that meant that they had

00:52:20,050 --> 00:52:23,530
people sitting in front of the monitor

00:52:21,250 --> 00:52:27,760
system watching it at all times so the

00:52:23,530 --> 00:52:29,290
the time to recover had to be basically

00:52:27,760 --> 00:52:31,150
augmented by a person you couldn't

00:52:29,290 --> 00:52:32,290
automate it particularly well and in

00:52:31,150 --> 00:52:35,380
fact it wasn't in the rules that you're

00:52:32,290 --> 00:52:36,730
allowed to so passive checks being

00:52:35,380 --> 00:52:38,380
received from equipment and then having

00:52:36,730 --> 00:52:40,210
people act on those passive checks and

00:52:38,380 --> 00:52:42,160
then switching databases over or

00:52:40,210 --> 00:52:44,680
stopping the market or doing other more

00:52:42,160 --> 00:52:45,370
important things was part of their

00:52:44,680 --> 00:52:46,720
workflow in

00:52:45,370 --> 00:52:48,490
in this case it's not really part of our

00:52:46,720 --> 00:52:50,560
workflow we haven't had to worry about

00:52:48,490 --> 00:52:52,540
it too much I have considered it you

00:52:50,560 --> 00:52:53,980
know haven't got to got it working

00:52:52,540 --> 00:52:55,330
nicely no one's really pushed me very

00:52:53,980 --> 00:52:56,650
hard for it but you know I don't

00:52:55,330 --> 00:52:58,290
disagree with you it's certainly

00:52:56,650 --> 00:53:06,330
appropriate for certain environments

00:52:58,290 --> 00:53:06,330
sure any other questions

00:53:10,350 --> 00:53:15,900
we're good thanks very much for your

00:53:12,970 --> 00:53:22,019
time I've got some Tim Tams over here

00:53:15,900 --> 00:53:22,019

YouTube URL: https://www.youtube.com/watch?v=6TwpOUSl2SM


