Title: OSMC 2016 | Security & Compliance automation and reports with Foreman (EN) by Shlomi Zadok
Publication date: 2016-12-12
Playlist: OSMC 2016 | Open Source Monitoring Conference
Description: 
	Protecting against today’s relentless and adaptive cyber threats requires continuous monitoring of your networks and systems. Foreman and OpenSCAP address this challenge through centralized security management, configuration scanning, monitoring and remediation.
In this talk we will discuss how Foreman and OpenSCAP automatically scan for security gaps, vulnerabilities, and unauthorized changes in security configurations — monitor and remediate problems to restore security controls to your established security configuration.
Captions: 
	00:00:13,070 --> 00:00:18,439
so guys I am last talk of the day it was

00:00:16,640 --> 00:00:22,820
a long day but it was quite an

00:00:18,439 --> 00:00:25,430
interesting day I have to say so and no

00:00:22,820 --> 00:00:26,900
one did the money queen challenge so how

00:00:25,430 --> 00:00:29,330
about we start with a manic win

00:00:26,900 --> 00:00:31,400
challenge are you into it or shall we

00:00:29,330 --> 00:00:33,379
skip it Manny Quinn challenge is that

00:00:31,400 --> 00:00:35,720
we're all freezing i will go to the

00:00:33,379 --> 00:00:38,540
entrance we take a picture you will try

00:00:35,720 --> 00:00:41,449
to look as much XA excited as you can i

00:00:38,540 --> 00:00:44,449
will walk by here I'll frame you I'll

00:00:41,449 --> 00:00:46,670
take a look a picture a video of the

00:00:44,449 --> 00:00:52,280
presentation and back to you and you

00:00:46,670 --> 00:00:56,930
will all be sleeping ok do you want to

00:00:52,280 --> 00:01:00,079
do it yes that's day so we shut my

00:00:56,930 --> 00:01:03,309
microphone and please start with trying

00:01:00,079 --> 00:01:03,309
to be as excited as you are

00:01:35,380 --> 00:01:46,270
later on other party exactly so thank

00:01:42,460 --> 00:01:51,219
you so we're going to talk it today a

00:01:46,270 --> 00:01:54,009
little bit about how we take a look at

00:01:51,219 --> 00:01:56,710
the security compliance of our servers

00:01:54,009 --> 00:02:01,899
and how we can monitor and get reports

00:01:56,710 --> 00:02:03,280
from that I'm shlomit the dog I'm

00:02:01,899 --> 00:02:06,520
basically slow it's a dog everywhere

00:02:03,280 --> 00:02:09,039
Twitter get up Facebook and all these

00:02:06,520 --> 00:02:12,670
other places and a software engineer at

00:02:09,039 --> 00:02:15,549
Red Hat and i'm a member a team member

00:02:12,670 --> 00:02:19,420
of the foreman team and I'm the plugins

00:02:15,549 --> 00:02:21,700
maintainer of a foreman el penasco how

00:02:19,420 --> 00:02:27,310
many of you are using foreman in your

00:02:21,700 --> 00:02:30,190
daily life okay quite a few cool to be

00:02:27,310 --> 00:02:33,579
honest I have this crazy data center it

00:02:30,190 --> 00:02:36,190
has three hosts and it is a not

00:02:33,579 --> 00:02:38,079
connected to the Internet and I've were

00:02:36,190 --> 00:02:40,299
lots of people talking about all these

00:02:38,079 --> 00:02:43,870
threads that could be if your machines

00:02:40,299 --> 00:02:46,480
are insecure and someone will attack you

00:02:43,870 --> 00:02:50,140
and will be faced you and will do it

00:02:46,480 --> 00:02:52,269
very very bad things to you they will

00:02:50,140 --> 00:02:55,569
abuse you they will mine your servers

00:02:52,269 --> 00:02:57,579
they will take your VMs seriously I

00:02:55,569 --> 00:02:58,930
honestly don't believe it with by three

00:02:57,579 --> 00:03:04,829
hosts which were not connected to the

00:02:58,930 --> 00:03:07,630
Internet nothing ever happened like him

00:03:04,829 --> 00:03:11,470
antoni the previous a guy talked about

00:03:07,630 --> 00:03:14,530
accessing his bank account I'm positive

00:03:11,470 --> 00:03:21,730
that no one will try to do that to your

00:03:14,530 --> 00:03:24,760
servers or maybe they will so I work for

00:03:21,730 --> 00:03:30,910
reddit so I need to play a movie it's

00:03:24,760 --> 00:03:33,329
like a promotional movie which I forgot

00:03:30,910 --> 00:03:33,329
to load

00:03:38,060 --> 00:03:42,920
I'm sorry here you go

00:03:53,000 --> 00:04:05,840
automation protocols I'm sorry about

00:03:57,170 --> 00:04:09,320
that let's hit on a small scale under

00:04:05,840 --> 00:04:11,360
constant attack from security responding

00:04:09,320 --> 00:04:13,700
to these requires federal security staff

00:04:11,360 --> 00:04:17,359
to continuously monitor software and

00:04:13,700 --> 00:04:19,430
systems traditionally a large part of

00:04:17,359 --> 00:04:23,210
the testing and validation of security

00:04:19,430 --> 00:04:26,000
configuration but this can be expensive

00:04:23,210 --> 00:04:29,030
taking up valuable time and personnel

00:04:26,000 --> 00:04:31,010
red hat helps your agency address this

00:04:29,030 --> 00:04:34,250
challenge with security content

00:04:31,010 --> 00:04:36,290
automation protocol or s kem as cap

00:04:34,250 --> 00:04:38,360
automate processes which mandated

00:04:36,290 --> 00:04:40,130
security requirements managing

00:04:38,360 --> 00:04:42,650
vulnerabilities and validating

00:04:40,130 --> 00:04:44,660
compliance with ASCAP you can

00:04:42,650 --> 00:04:46,669
automatically scan your red hat

00:04:44,660 --> 00:04:48,800
enterprise linux applications for

00:04:46,669 --> 00:04:50,750
security vulnerabilities and

00:04:48,800 --> 00:04:52,810
unauthorized changes in security

00:04:50,750 --> 00:04:56,480
configurations and fix those problems

00:04:52,810 --> 00:04:59,360
instantly as a result what used to take

00:04:56,480 --> 00:05:01,910
up to six days can be done in 10 to 15

00:04:59,360 --> 00:05:05,840
seconds with red hat in the automated s

00:05:01,910 --> 00:05:08,479
cab process with s cap you can meet your

00:05:05,840 --> 00:05:10,490
continuous monitoring mandates free up

00:05:08,479 --> 00:05:11,870
security staff and resources to address

00:05:10,490 --> 00:05:13,400
pressing challenges such as

00:05:11,870 --> 00:05:15,950
configuration monitoring and

00:05:13,400 --> 00:05:17,900
vulnerability scanning and reduce cyber

00:05:15,950 --> 00:05:21,620
risks that can threaten your agency's

00:05:17,900 --> 00:05:23,860
mission the government's most trusted

00:05:21,620 --> 00:05:23,860
choice

00:05:24,890 --> 00:05:32,209
[Music]

00:05:26,199 --> 00:05:34,579
thank you movie so what are you talking

00:05:32,209 --> 00:05:36,949
about basically security and protecting

00:05:34,579 --> 00:05:41,899
ourselves with from cyber threats is

00:05:36,949 --> 00:05:45,019
like a huge issue what we're trying to

00:05:41,899 --> 00:05:48,289
do with Foreman in openness cap is to

00:05:45,019 --> 00:05:52,189
create some sort of a baseline that will

00:05:48,289 --> 00:05:55,699
help us know that our systems have some

00:05:52,189 --> 00:05:58,339
sort of a minimal set of rules which

00:05:55,699 --> 00:06:01,009
they are which they comply to and that

00:05:58,339 --> 00:06:05,269
will help us to ensure that those

00:06:01,009 --> 00:06:09,739
servers are kind of protect protected

00:06:05,269 --> 00:06:11,719
and so we have two tools one is AD

00:06:09,739 --> 00:06:13,610
Foreman and the other one is open s Cup

00:06:11,719 --> 00:06:18,439
both both of them are sponsored by

00:06:13,610 --> 00:06:20,809
reddit and I will start with a very

00:06:18,439 --> 00:06:24,159
short overview of what Foreman is and

00:06:20,809 --> 00:06:26,809
what an open skp is and then how we a

00:06:24,159 --> 00:06:30,349
big demo of how they play nicely

00:06:26,809 --> 00:06:32,809
together so the foreman knows to do

00:06:30,349 --> 00:06:35,869
these three stuff it can provision

00:06:32,809 --> 00:06:37,969
machines it can configure machine and it

00:06:35,869 --> 00:06:40,579
could do some sort of monitoring where

00:06:37,969 --> 00:06:43,549
an open source monitoring conference so

00:06:40,579 --> 00:06:45,469
it is not the high level of the other

00:06:43,549 --> 00:06:48,319
solutions that we saw but we get some

00:06:45,469 --> 00:06:53,959
minimal monitoring from machines which

00:06:48,319 --> 00:06:55,669
are reporting a back to to furman so we

00:06:53,959 --> 00:06:58,309
have the ability to create host or

00:06:55,669 --> 00:07:02,509
servers it could be either a bare metal

00:06:58,309 --> 00:07:06,019
or VMs or anything am on the search on

00:07:02,509 --> 00:07:11,259
the cloud out of the box we support bare

00:07:06,019 --> 00:07:15,919
metal overtly beards in where a ec2 and

00:07:11,259 --> 00:07:17,569
OpenStack we can we can extend that so

00:07:15,919 --> 00:07:21,439
these are some of the extensions the

00:07:17,569 --> 00:07:22,969
docker Rackspace digital ocean and if we

00:07:21,439 --> 00:07:28,459
don't have it now we can support it

00:07:22,969 --> 00:07:30,619
later if you are a plug ins a the

00:07:28,459 --> 00:07:34,179
foreman has this secret component it is

00:07:30,619 --> 00:07:37,159
called the smart proxy smart foxy is a

00:07:34,179 --> 00:07:38,870
machine which help us to orchestrate

00:07:37,159 --> 00:07:43,720
related services

00:07:38,870 --> 00:07:48,020
like dns dhcp a tftp and stuff like that

00:07:43,720 --> 00:07:52,070
we support currently or basically a to

00:07:48,020 --> 00:07:54,710
provisioning types one is the pixie

00:07:52,070 --> 00:07:58,670
which is done via pics linux and the

00:07:54,710 --> 00:08:03,880
kickstart and dear other related and of

00:07:58,670 --> 00:08:09,200
course image-based provisioning

00:08:03,880 --> 00:08:11,960
configuration a format if i will take a

00:08:09,200 --> 00:08:14,990
short history class has started seven

00:08:11,960 --> 00:08:18,350
years ago as a graphical rapper to pop

00:08:14,990 --> 00:08:22,120
it and which is why until today puppet

00:08:18,350 --> 00:08:25,310
is the first class citizen with informal

00:08:22,120 --> 00:08:28,610
but if a puppet is not your flavor you

00:08:25,310 --> 00:08:31,520
can use a plug-in to use chef salt or a

00:08:28,610 --> 00:08:33,890
ansible we have lots of talks about the

00:08:31,520 --> 00:08:38,840
roadmap of four men and one of the main

00:08:33,890 --> 00:08:40,640
topics is to separate a a puppet out the

00:08:38,840 --> 00:08:43,130
form and core and make it a plug-in as

00:08:40,640 --> 00:08:45,410
well so it would be much more easier for

00:08:43,130 --> 00:08:49,640
you to choose which configuration flavor

00:08:45,410 --> 00:08:52,180
is yours so what we do automatic

00:08:49,640 --> 00:08:54,470
registration and set up of clients

00:08:52,180 --> 00:08:56,420
defining classes defining parameters

00:08:54,470 --> 00:08:59,030
applying those parameters to those

00:08:56,420 --> 00:09:03,140
machines get some inventory data this is

00:08:59,030 --> 00:09:06,080
where the monitoring is getting into

00:09:03,140 --> 00:09:09,010
into place and get the results of the

00:09:06,080 --> 00:09:13,810
configuration runs we'll see a demo

00:09:09,010 --> 00:09:17,480
momentarily monitoring again it's not a

00:09:13,810 --> 00:09:20,570
very high level or a big robust solution

00:09:17,480 --> 00:09:23,210
but we get reports of the machines that

00:09:20,570 --> 00:09:26,240
we manage and so we get system

00:09:23,210 --> 00:09:28,460
inventories so you'll know which which

00:09:26,240 --> 00:09:32,090
are the machines that you wish to run

00:09:28,460 --> 00:09:34,310
with and we have like an API for reports

00:09:32,090 --> 00:09:38,510
you could use the abrt open s kappa

00:09:34,310 --> 00:09:42,470
which we'll talk about later and you can

00:09:38,510 --> 00:09:45,170
you have a a very intuitive search so

00:09:42,470 --> 00:09:49,730
you could find the things that you wish

00:09:45,170 --> 00:09:52,640
to monitor let's do a demo of or a short

00:09:49,730 --> 00:09:57,650
of your youth what is a

00:09:52,640 --> 00:10:01,280
the foreman so basically when you get in

00:09:57,650 --> 00:10:04,850
you get an overview of your data center

00:10:01,280 --> 00:10:09,950
as you may see I have three holes hosts

00:10:04,850 --> 00:10:13,040
and you can get a configuration chart so

00:10:09,950 --> 00:10:15,170
this one is okay one is has no report

00:10:13,040 --> 00:10:17,750
and one is active which is which which

00:10:15,170 --> 00:10:23,840
means it's currently running you can get

00:10:17,750 --> 00:10:27,410
latest events and so on um as I've said

00:10:23,840 --> 00:10:30,050
I out of the box we've got a live weird

00:10:27,410 --> 00:10:35,270
say OpenStack easy to google cloud

00:10:30,050 --> 00:10:40,400
engine and VMware I am which you could

00:10:35,270 --> 00:10:45,400
create hosts and so let's do a demo of a

00:10:40,400 --> 00:10:47,570
host and basically I can just choose the

00:10:45,400 --> 00:10:50,140
host group which I'll we'll talk about

00:10:47,570 --> 00:10:53,650
in a second where I want to deploy it on

00:10:50,140 --> 00:11:01,340
and let's let's do it on live weird

00:10:53,650 --> 00:11:03,680
hopefully it's up and running and in a

00:11:01,340 --> 00:11:08,420
real world you you may have an issue

00:11:03,680 --> 00:11:16,220
with my lip weird so let's switch to

00:11:08,420 --> 00:11:19,370
OpenStack hey it is now thinking it's

00:11:16,220 --> 00:11:25,600
connecting to my OpenStack instance and

00:11:19,370 --> 00:11:28,640
once I click Submit it will now start a

00:11:25,600 --> 00:11:31,910
configuration and within a few seconds

00:11:28,640 --> 00:11:38,630
or a moment I will have my machine up

00:11:31,910 --> 00:11:41,120
and running so how do they do that we

00:11:38,630 --> 00:11:43,460
have a secret sauce which is called host

00:11:41,120 --> 00:11:50,630
group it has failed probably a

00:11:43,460 --> 00:11:52,010
connectivity a connectivity issue um we

00:11:50,630 --> 00:11:53,180
have a secret sauce which is called the

00:11:52,010 --> 00:11:55,790
host group whose group is like a

00:11:53,180 --> 00:11:58,640
template for how I want my hosts to look

00:11:55,790 --> 00:12:02,540
alike so let's say I have all of my web

00:11:58,640 --> 00:12:05,490
servers I want them to run on production

00:12:02,540 --> 00:12:09,060
environment to have a small

00:12:05,490 --> 00:12:11,490
compute profile and this would be their

00:12:09,060 --> 00:12:15,360
puppet master their puppet certificate

00:12:11,490 --> 00:12:18,600
authority and there let's keep the proxy

00:12:15,360 --> 00:12:20,160
for now I can choose which puppet

00:12:18,600 --> 00:12:23,850
classes I wish to apply for those

00:12:20,160 --> 00:12:27,060
machines I can add message of the day

00:12:23,850 --> 00:12:30,480
for instance I can choose the network m

00:12:27,060 --> 00:12:34,110
and so on and so forth and this creates

00:12:30,480 --> 00:12:35,790
a template of my machines now you can

00:12:34,110 --> 00:12:39,690
see we have an infrastructure when you

00:12:35,790 --> 00:12:42,750
first start a using Foreman you need to

00:12:39,690 --> 00:12:44,430
like build your infrastructure so you

00:12:42,750 --> 00:12:45,870
have to say which computer resources

00:12:44,430 --> 00:12:48,779
you're going to use and if you're using

00:12:45,870 --> 00:12:53,850
ec2 so you should state your credentials

00:12:48,779 --> 00:12:56,490
or OpenStack credentials you could

00:12:53,850 --> 00:12:59,310
create computer profiles same like you

00:12:56,490 --> 00:13:06,510
have in your cloud providers and so one

00:12:59,310 --> 00:13:08,760
would have you could stay there the

00:13:06,510 --> 00:13:14,430
sizes that you wish to have like how

00:13:08,760 --> 00:13:16,529
many CPUs am etc etc so it's not working

00:13:14,430 --> 00:13:21,390
for me and that's what's good about live

00:13:16,529 --> 00:13:22,920
demos um and you could create host and

00:13:21,390 --> 00:13:26,250
subnet everything that you want to

00:13:22,920 --> 00:13:31,910
import into your infrastructure sure so

00:13:26,250 --> 00:13:35,579
you could build it and eventually I

00:13:31,910 --> 00:13:38,070
believe me but you will have some sort

00:13:35,579 --> 00:13:46,260
of hosts that you could manage so for

00:13:38,070 --> 00:13:48,480
instance if i'll go to this server ok i

00:13:46,260 --> 00:13:50,700
can see that i have applied the class

00:13:48,480 --> 00:13:52,380
message of the day right and now i want

00:13:50,700 --> 00:13:57,960
to change the default message of the day

00:13:52,380 --> 00:13:59,300
so I could go to classes find the

00:13:57,960 --> 00:14:04,770
[Music]

00:13:59,300 --> 00:14:07,320
message of the day and here I could

00:14:04,770 --> 00:14:10,920
change and what I want to change so i

00:14:07,320 --> 00:14:14,880
can click on override and i can change

00:14:10,920 --> 00:14:17,550
to the text i can use a RB if any of you

00:14:14,880 --> 00:14:18,850
know it's both on puppet but also

00:14:17,550 --> 00:14:26,949
another so you could

00:14:18,850 --> 00:14:32,949
add a data and once I submitted I can go

00:14:26,949 --> 00:14:35,920
to my host by the way one of the new

00:14:32,949 --> 00:14:38,800
additions that we had on Foreman is a

00:14:35,920 --> 00:14:41,740
plug-in called a remote execution so

00:14:38,800 --> 00:14:45,009
instead of you going and doing an ssh or

00:14:41,740 --> 00:14:49,540
running a command you could run it via

00:14:45,009 --> 00:14:55,589
the UI so i can run a job and and the

00:14:49,540 --> 00:14:58,630
command would be a puppet agent I

00:14:55,589 --> 00:15:04,269
understand so it would run I can submit

00:14:58,630 --> 00:15:08,259
it and if I will go very quickly I would

00:15:04,269 --> 00:15:09,970
say that it has failed that's because I

00:15:08,259 --> 00:15:17,910
have changed the keys so I'll do it from

00:15:09,970 --> 00:15:17,910
here I'm sorry hello so I could run a

00:15:19,410 --> 00:15:24,810
puppet agent minus T agent

00:15:31,850 --> 00:15:38,730
so this is now talking to em to the

00:15:35,040 --> 00:15:44,939
puppet master who is talking to for men

00:15:38,730 --> 00:15:46,889
it is getting for monies is a serving as

00:15:44,939 --> 00:15:49,860
an in situ that puppet and it tells him

00:15:46,889 --> 00:15:51,839
which classes to change and if you may

00:15:49,860 --> 00:15:54,269
see we have now changed configuration

00:15:51,839 --> 00:15:58,709
the default message of the day was

00:15:54,269 --> 00:16:01,920
deleted and my message of the day it has

00:15:58,709 --> 00:16:08,279
been created if will come here and we'll

00:16:01,920 --> 00:16:13,040
do a vs SH you could see my new message

00:16:08,279 --> 00:16:13,040
of the day so that's about configuration

00:16:16,220 --> 00:16:26,399
I'm sorry and one another thing which is

00:16:22,560 --> 00:16:29,220
a some sort of level of a monitoring

00:16:26,399 --> 00:16:31,230
which we have discussed and we have a

00:16:29,220 --> 00:16:34,050
dashboard which is telling us what's

00:16:31,230 --> 00:16:38,309
running and what's not and we could get

00:16:34,050 --> 00:16:41,160
the latest events we could get

00:16:38,309 --> 00:16:44,100
statistics on our data center so we can

00:16:41,160 --> 00:16:48,209
now see the OS distribution the

00:16:44,100 --> 00:16:53,699
architecture a host group distribution

00:16:48,209 --> 00:16:55,470
number of CPUs etc etc now in there in

00:16:53,699 --> 00:16:58,649
the real life when you have hundreds or

00:16:55,470 --> 00:17:01,439
thousands of hosts some of them are a

00:16:58,649 --> 00:17:03,389
boon to or debian some of them are read

00:17:01,439 --> 00:17:05,939
at linux enterprise some of them are

00:17:03,389 --> 00:17:07,740
sent to a seven so the whole picture is

00:17:05,939 --> 00:17:11,390
changing and you get a very good notion

00:17:07,740 --> 00:17:13,709
of what's going on in your data center

00:17:11,390 --> 00:17:16,500
you could see trends i will not have

00:17:13,709 --> 00:17:21,209
much trends because i don't have I

00:17:16,500 --> 00:17:23,789
counters ready but you can set those and

00:17:21,209 --> 00:17:25,890
you can see configure management reports

00:17:23,789 --> 00:17:28,710
ok so these are quite interesting

00:17:25,890 --> 00:17:31,669
reports because they are telling you

00:17:28,710 --> 00:17:35,429
what happened on the last run of puppet

00:17:31,669 --> 00:17:38,309
and so for instance you could see that

00:17:35,429 --> 00:17:41,909
it has run through production and it has

00:17:38,309 --> 00:17:43,779
applied message of the day and all in

00:17:41,909 --> 00:17:48,149
all it looks good a fraud

00:17:43,779 --> 00:17:48,149
an error then I would have seen it here

00:17:48,690 --> 00:17:56,739
so this is really on a natural and on

00:17:51,249 --> 00:17:59,729
one leg a what Foreman is all about and

00:17:56,739 --> 00:18:02,649
from here I will move to escape escape

00:17:59,729 --> 00:18:07,419
acronyms of security content automation

00:18:02,649 --> 00:18:09,129
protocol it was invented by the National

00:18:07,419 --> 00:18:12,609
Institute of Technology it's the

00:18:09,129 --> 00:18:15,099
American office of City oh I would call

00:18:12,609 --> 00:18:17,889
it that's the Institute that defines all

00:18:15,099 --> 00:18:20,409
of their how their government should

00:18:17,889 --> 00:18:22,869
work and basically what it does it

00:18:20,409 --> 00:18:24,940
defines audit rules it scans your

00:18:22,869 --> 00:18:28,089
systems and test if those rules are

00:18:24,940 --> 00:18:30,580
applying and it reports back with your

00:18:28,089 --> 00:18:33,700
report and it tells you is it compliant

00:18:30,580 --> 00:18:37,210
or not open escape is open source

00:18:33,700 --> 00:18:39,849
implementation of s cut it is a sense

00:18:37,210 --> 00:18:43,779
last year it is approved by NIST to use

00:18:39,849 --> 00:18:46,570
to be used on government servers and

00:18:43,779 --> 00:18:49,179
this is like an ecosystem which was

00:18:46,570 --> 00:18:54,659
built to provide multiple tools tools to

00:18:49,179 --> 00:18:59,379
assist how to assess and measure

00:18:54,659 --> 00:19:02,200
security rules so the most important

00:18:59,379 --> 00:19:07,200
tool is called escape it's a command

00:19:02,200 --> 00:19:07,200
line a tool and this is the one who runs

00:19:08,729 --> 00:19:15,249
this is the scanner itself s cap

00:19:11,950 --> 00:19:17,409
workbench if you wish to scan a your

00:19:15,249 --> 00:19:20,379
fedora or a bunt or whatever linux

00:19:17,409 --> 00:19:21,999
machine you wish to scan it locally and

00:19:20,379 --> 00:19:25,409
you wish to see the graphical you I so

00:19:21,999 --> 00:19:31,960
you could use escape work a workbench

00:19:25,409 --> 00:19:34,529
the Anaconda add-on basically it ensures

00:19:31,960 --> 00:19:37,539
that the system is compliant with a

00:19:34,529 --> 00:19:39,279
specific profile before you finish

00:19:37,539 --> 00:19:42,729
installing and it would give you a

00:19:39,279 --> 00:19:45,609
report if it's not a open escape demon

00:19:42,729 --> 00:19:48,639
it's quite a new tool it's like a group

00:19:45,609 --> 00:19:52,419
instead of using cron you could use that

00:19:48,639 --> 00:19:56,139
demon to periodically run a dios captain

00:19:52,419 --> 00:19:57,309
and skepta money I think today is quite

00:19:56,139 --> 00:20:00,669
legacy

00:19:57,309 --> 00:20:04,720
it is a rails engine to persist the open

00:20:00,669 --> 00:20:08,559
escape reports so we took them together

00:20:04,720 --> 00:20:11,940
and we said okay now the the logic

00:20:08,559 --> 00:20:15,340
behind it was I want to run on my

00:20:11,940 --> 00:20:17,139
hundreds or thousands of machines I want

00:20:15,340 --> 00:20:20,049
to run open s cap I want to run it

00:20:17,139 --> 00:20:24,759
periodically and I want a place that I

00:20:20,049 --> 00:20:28,499
could see all of the reports coming back

00:20:24,759 --> 00:20:33,669
so this is the why why we are using a

00:20:28,499 --> 00:20:36,820
open escape from within the foreman few

00:20:33,669 --> 00:20:39,879
concepts i will talk about more detailed

00:20:36,820 --> 00:20:43,659
in a few seconds yes cup content it's a

00:20:39,879 --> 00:20:46,480
large xml file a it is getting when

00:20:43,659 --> 00:20:48,490
you're installing from young and when

00:20:46,480 --> 00:20:50,080
you're installing escape security guide

00:20:48,490 --> 00:20:53,049
or when you're installing form an open

00:20:50,080 --> 00:20:55,749
escape you get that for free currently

00:20:53,049 --> 00:20:59,320
we support a cent OS and read at

00:20:55,749 --> 00:21:01,779
Enterprise Linux there are there is an

00:20:59,320 --> 00:21:04,259
effort to report it to debian there was

00:21:01,779 --> 00:21:07,690
some work which has been done we hope to

00:21:04,259 --> 00:21:10,259
achieve more in the future so this cap

00:21:07,690 --> 00:21:13,600
content is a big xml file which has

00:21:10,259 --> 00:21:16,480
profiles now those profiles are telling

00:21:13,600 --> 00:21:17,740
the scanner you should test for this and

00:21:16,480 --> 00:21:23,200
this and this and that will see that in

00:21:17,740 --> 00:21:26,279
a second mmm and once we have this cup

00:21:23,200 --> 00:21:28,990
content we create a policy a policy is

00:21:26,279 --> 00:21:33,039
the place where we choose the profile

00:21:28,990 --> 00:21:35,980
and we tell a puppet to configure the

00:21:33,039 --> 00:21:39,190
machine went to run and i want to report

00:21:35,980 --> 00:21:43,409
and what we're getting back is a report

00:21:39,190 --> 00:21:47,080
that's the ESCA banker named a RF report

00:21:43,409 --> 00:21:49,570
which is what we're getting back one

00:21:47,080 --> 00:21:53,830
important thing to know is that all of

00:21:49,570 --> 00:21:56,499
those solutions are NIST certified so if

00:21:53,830 --> 00:22:00,580
your own security auditor would like you

00:21:56,499 --> 00:22:02,889
to have to show you 12 you would be

00:22:00,580 --> 00:22:05,049
requested to show the security auditor

00:22:02,889 --> 00:22:07,200
the compliance status you could actually

00:22:05,049 --> 00:22:10,090
download the file and gives it to him to

00:22:07,200 --> 00:22:15,070
to assert it

00:22:10,090 --> 00:22:22,210
I was sure deleted that slide so let's

00:22:15,070 --> 00:22:26,890
move to the demo so basically what we're

00:22:22,210 --> 00:22:30,159
talking about is this okay I have a

00:22:26,890 --> 00:22:33,490
machine as security scanners run on it

00:22:30,159 --> 00:22:36,250
and it's in quite a good position I

00:22:33,490 --> 00:22:38,590
would say no I'm kidding but 30 out of

00:22:36,250 --> 00:22:44,590
this of the scans have past 30 or failed

00:22:38,590 --> 00:22:47,320
and one was inconclusive air and when we

00:22:44,590 --> 00:22:49,809
look at it you could see like the what

00:22:47,320 --> 00:22:54,039
is what it is testing so for instance it

00:22:49,809 --> 00:22:56,500
is testing that a slash var is located

00:22:54,039 --> 00:22:58,299
in a separate partition and if you do

00:22:56,500 --> 00:23:02,640
not know why it's an issue so you could

00:22:58,299 --> 00:23:02,640
read about it yeah

00:23:03,990 --> 00:23:13,490
the issues and what's the rationale

00:23:05,550 --> 00:23:13,490
behind it and how you could change it

00:23:14,780 --> 00:23:19,800
okay another issue is that you should

00:23:17,550 --> 00:23:23,070
ensure the gpg enabled for all young

00:23:19,800 --> 00:23:26,429
package repositories okay so this is

00:23:23,070 --> 00:23:30,750
another issue that you could find and so

00:23:26,429 --> 00:23:40,320
on and so forth um but how do we get a

00:23:30,750 --> 00:23:44,820
to that to fix all those issues so let's

00:23:40,320 --> 00:23:46,440
start when we install a wave my Foreman

00:23:44,820 --> 00:23:49,470
open escape I will show in a second it's

00:23:46,440 --> 00:23:53,309
a very tricky process now I'm kidding

00:23:49,470 --> 00:23:57,710
three lines of code of writing but once

00:23:53,309 --> 00:23:57,710
we got it we have asked up contents a

00:23:57,980 --> 00:24:04,170
these are the default ones which are

00:24:02,340 --> 00:24:06,559
coming when i install it if i was

00:24:04,170 --> 00:24:09,570
installing it on a fedora I would get

00:24:06,559 --> 00:24:11,490
fedora a content if I was installing it

00:24:09,570 --> 00:24:12,960
on a red hat enterprise linux i would

00:24:11,490 --> 00:24:15,840
get out of the books the reddit

00:24:12,960 --> 00:24:17,220
enterprise linux yes cap content and if

00:24:15,840 --> 00:24:19,260
I wish to add because I have some

00:24:17,220 --> 00:24:23,640
fedoras running on my environment I

00:24:19,260 --> 00:24:28,050
could upload a new one hey I would give

00:24:23,640 --> 00:24:32,250
it a tighter than I would call it fedora

00:24:28,050 --> 00:24:37,679
whatever i will choose a file somewhere

00:24:32,250 --> 00:24:41,640
in development okay and i have like the

00:24:37,679 --> 00:24:45,240
fedora data stream i'll submit it and i

00:24:41,640 --> 00:24:47,190
have a new one so once i have my escape

00:24:45,240 --> 00:24:49,080
content by the way in many of the

00:24:47,190 --> 00:24:51,360
enterprises and the organization's the

00:24:49,080 --> 00:24:54,450
security auditors know how to create

00:24:51,360 --> 00:24:57,960
those files are called SSG data streams

00:24:54,450 --> 00:25:02,070
and each of them is supposed to have

00:24:57,960 --> 00:25:04,710
profiles that we wish to test upon but

00:25:02,070 --> 00:25:08,690
once we got them i can create a new

00:25:04,710 --> 00:25:11,130
policy also let's create a new one and

00:25:08,690 --> 00:25:13,380
because all of my machines are sent to

00:25:11,130 --> 00:25:17,049
is seven so i'll use that let's call it

00:25:13,380 --> 00:25:23,409
sent to s7 cloud

00:25:17,049 --> 00:25:29,230
whatever i click on next good that I've

00:25:23,409 --> 00:25:30,789
practiced for this Jamo the moon now I

00:25:29,230 --> 00:25:32,499
get to choose the escape content so I

00:25:30,789 --> 00:25:34,899
couldn't choose the fedora or a sin

00:25:32,499 --> 00:25:39,419
sentir is six or seven three-seven i

00:25:34,899 --> 00:25:41,769
will choose this one and now i have some

00:25:39,419 --> 00:25:45,639
profiles which are fetched from the

00:25:41,769 --> 00:25:48,039
escape content and i will try to use the

00:25:45,639 --> 00:25:51,039
I don't know the common profile for

00:25:48,039 --> 00:25:53,259
general purpose but that looks right for

00:25:51,039 --> 00:25:58,450
me or I've been asked by the security

00:25:53,259 --> 00:26:02,379
auditor to use that next I would choose

00:25:58,450 --> 00:26:04,570
a the period it could be weekly monthly

00:26:02,379 --> 00:26:08,799
or custom we're in custom you would add

00:26:04,570 --> 00:26:15,909
a cron line so let's choose weekly and

00:26:08,799 --> 00:26:19,980
let's choose a Tuesday and next if I if

00:26:15,909 --> 00:26:24,489
I have a host group that I wish to apply

00:26:19,980 --> 00:26:28,659
this the security policy can choose it

00:26:24,489 --> 00:26:35,409
now if not I can choose it elsewhere but

00:26:28,659 --> 00:26:38,350
let me choose what did I do now security

00:26:35,409 --> 00:26:41,320
violation not choose this and it has

00:26:38,350 --> 00:26:43,539
successfully created now basically I can

00:26:41,320 --> 00:26:49,690
run it but it is set to Tuesday so we

00:26:43,539 --> 00:26:52,899
will need to wait for a week or we can

00:26:49,690 --> 00:27:00,309
run it manually so firstly let's apply

00:26:52,899 --> 00:27:02,230
it I am now on this one I could run you

00:27:00,309 --> 00:27:05,499
know what I think I can you do that in

00:27:02,230 --> 00:27:10,809
the UI I think I mixed with their let's

00:27:05,499 --> 00:27:18,779
see so I have sinned 37 I can create a

00:27:10,809 --> 00:27:22,710
new job Rondo thank you and I would do

00:27:18,779 --> 00:27:22,710
puppet agents majesty

00:27:29,070 --> 00:27:39,460
and it's running so this is a very cool

00:27:37,750 --> 00:27:41,980
plugin while it is running it is called

00:27:39,460 --> 00:27:43,990
remote execution I hate the name because

00:27:41,980 --> 00:27:46,270
I come from very violent neighborhood so

00:27:43,990 --> 00:27:51,550
remote execution would say that take the

00:27:46,270 --> 00:27:59,860
gun and kill you but it seems that it

00:27:51,550 --> 00:28:07,380
has worked and if I will go now and do a

00:27:59,860 --> 00:28:14,650
cat ET SI so i can see that i have a

00:28:07,380 --> 00:28:18,580
policy which is now which is scheduled

00:28:14,650 --> 00:28:26,520
to run and I could use again the UI to

00:28:18,580 --> 00:28:26,520
run it so let me run a new job am wait

00:28:28,980 --> 00:28:35,590
ok and a good form with remote execution

00:28:32,140 --> 00:28:39,310
i can define there's several templates

00:28:35,590 --> 00:28:42,730
of verb job so here i can just do run

00:28:39,310 --> 00:28:45,670
for man escaped client and the policy i

00:28:42,730 --> 00:28:48,610
think it was one the one which was

00:28:45,670 --> 00:28:55,950
configured and i will click on submit

00:28:48,610 --> 00:28:59,200
and if i'll click on host so now the

00:28:55,950 --> 00:29:01,630
it's the commandos cap that's the

00:28:59,200 --> 00:29:03,310
scanner with what I want to trust this

00:29:01,630 --> 00:29:06,550
is the profile that have set up it has a

00:29:03,310 --> 00:29:11,380
long name and it has a an error if

00:29:06,550 --> 00:29:13,330
result which is as a saved as an XML and

00:29:11,380 --> 00:29:17,350
eventually i'm visiting it because i do

00:29:13,330 --> 00:29:20,710
not want to send it a big report back to

00:29:17,350 --> 00:29:31,450
the foreman and it's uploading grf

00:29:20,710 --> 00:29:33,540
report and now i can go to reports and i

00:29:31,450 --> 00:29:36,640
see that this one has run a minute ago

00:29:33,540 --> 00:29:37,750
it has failed I'm very sorry to hear

00:29:36,640 --> 00:29:40,910
that

00:29:37,750 --> 00:29:44,540
now I can start testing start start

00:29:40,910 --> 00:29:48,380
asserting what is wrong and by the way

00:29:44,540 --> 00:29:51,290
in many organizations the security team

00:29:48,380 --> 00:29:53,750
would like to ask you the raw format of

00:29:51,290 --> 00:29:57,380
the air if report so you can download it

00:29:53,750 --> 00:30:00,860
as an XML in visit format and just give

00:29:57,380 --> 00:30:02,630
it to them why up until a while ago you

00:30:00,860 --> 00:30:05,540
had to print it to them and give it to

00:30:02,630 --> 00:30:08,840
them but now they are like they would

00:30:05,540 --> 00:30:12,170
accept an XML file so this is like an

00:30:08,840 --> 00:30:15,020
overview of what has failed in what is

00:30:12,170 --> 00:30:18,050
known and you can see also the full

00:30:15,020 --> 00:30:30,840
report which which is what we saw

00:30:18,050 --> 00:30:32,740
earlier so i can i can do something like

00:30:30,840 --> 00:30:35,540
[Music]

00:30:32,740 --> 00:30:39,260
set minimum length in lock in deaths

00:30:35,540 --> 00:30:41,840
this is one of the coolest stuff and we

00:30:39,260 --> 00:30:45,350
plan to expand it in the future so it

00:30:41,840 --> 00:30:49,640
tells us why it is important to have

00:30:45,350 --> 00:30:51,800
those and at the end you could see it is

00:30:49,640 --> 00:30:53,660
not applying to all of the rules but it

00:30:51,800 --> 00:30:56,060
applies to some of them the ones that we

00:30:53,660 --> 00:31:00,640
can fixed quickly we get a remediation

00:30:56,060 --> 00:31:04,370
script so basically what we can do is

00:31:00,640 --> 00:31:08,080
copy the remediation script run it and

00:31:04,370 --> 00:31:14,330
once we did it will work once again so I

00:31:08,080 --> 00:31:23,060
can copy that i can go again to all

00:31:14,330 --> 00:31:26,230
hosts this one run job ok now it's an

00:31:23,060 --> 00:31:29,450
SSH command so this is the command right

00:31:26,230 --> 00:31:31,990
by the way I can apply it to all of my

00:31:29,450 --> 00:31:35,660
hosts ok I can change the search query

00:31:31,990 --> 00:31:38,510
so currently it's it's apply it is

00:31:35,660 --> 00:31:40,130
applied to one host but I can change it

00:31:38,510 --> 00:31:43,190
to an holes so I can run this

00:31:40,130 --> 00:31:47,230
remediation script on the 200 servers

00:31:43,190 --> 00:31:50,120
that have failed this issue instead of

00:31:47,230 --> 00:31:51,590
running it one by one so this is one an

00:31:50,120 --> 00:31:56,120
important thing in the autumn

00:31:51,590 --> 00:31:59,059
asian and i can submit it it says we're

00:31:56,120 --> 00:32:01,070
sorry something went wrong value tool

00:31:59,059 --> 00:32:03,470
deal oh I didn't know it sir this is a

00:32:01,070 --> 00:32:10,250
bug so I'll do it manually with your

00:32:03,470 --> 00:32:13,059
permission and I can run again for man

00:32:10,250 --> 00:32:13,059
escaped client

00:32:23,870 --> 00:32:33,140
I'm sorry about this one this is a very

00:32:26,030 --> 00:32:35,000
funny issue you requested this to LA and

00:32:33,140 --> 00:32:40,970
you guy got a new one and as you can see

00:32:35,000 --> 00:32:46,130
i have now less failed issues on my data

00:32:40,970 --> 00:32:48,530
center one more thing i think that i

00:32:46,130 --> 00:32:54,070
have not applied the policy that we've

00:32:48,530 --> 00:32:54,070
created so we could do it from here I

00:32:56,830 --> 00:33:01,840
was hoping that I would see the drop

00:32:59,600 --> 00:33:01,840
down

00:33:08,690 --> 00:33:16,790
and I do not want to delete it so this

00:33:14,240 --> 00:33:24,640
is a buggy issue when we're on small

00:33:16,790 --> 00:33:24,640
screens we we say it less good but oh

00:33:26,560 --> 00:33:30,820
I'm sorry i was in the wrong place

00:33:36,940 --> 00:33:44,530
place i'm looking for does not exist

00:33:38,950 --> 00:33:50,350
it's very subtly to say okay so here I I

00:33:44,530 --> 00:33:52,330
wish to apply I i can assign a

00:33:50,350 --> 00:33:55,210
compliance policy if i do not want to do

00:33:52,330 --> 00:33:57,730
it via a host group because this one

00:33:55,210 --> 00:34:00,610
does not belong to a house group and i

00:33:57,730 --> 00:34:03,790
can say that i want the center's general

00:34:00,610 --> 00:34:08,470
to be applied i click on submit and now

00:34:03,790 --> 00:34:13,840
it has been applied successfully if I

00:34:08,470 --> 00:34:29,020
will run form an agent again I'll get a

00:34:13,840 --> 00:34:30,700
new configuration coming okay and now we

00:34:29,020 --> 00:34:32,770
will see that we have a new profile so

00:34:30,700 --> 00:34:45,100
this was the previous one this is now

00:34:32,770 --> 00:34:47,320
the second one etc a a few more issues

00:34:45,100 --> 00:34:51,370
that they are nice to have or nice to

00:34:47,320 --> 00:34:53,890
know when we're looking at the addy host

00:34:51,370 --> 00:34:56,320
this is the default view of the hosts in

00:34:53,890 --> 00:34:59,560
four months you could see like a puppet

00:34:56,320 --> 00:35:01,960
runtime you could see some of its status

00:34:59,560 --> 00:35:05,650
it until it is compliant it will always

00:35:01,960 --> 00:35:07,990
be considered in an error state and the

00:35:05,650 --> 00:35:10,930
configuration is active alas the

00:35:07,990 --> 00:35:14,170
executioner succeeded and some raw data

00:35:10,930 --> 00:35:17,320
like IP address domain mac address etc

00:35:14,170 --> 00:35:20,290
etc but we also have the compliance a

00:35:17,320 --> 00:35:24,130
details which gives us a nice overview

00:35:20,290 --> 00:35:26,470
of how our machine is doing so these are

00:35:24,130 --> 00:35:32,680
all the runs that I currently run in as

00:35:26,470 --> 00:35:37,510
you can see once i fixed it i have the

00:35:32,680 --> 00:35:39,820
graph is changing ok um because i have

00:35:37,510 --> 00:35:42,280
two policies associated with that hose

00:35:39,820 --> 00:35:46,000
so this one has run this one has not run

00:35:42,280 --> 00:35:49,990
yet so i cannot see em any of the

00:35:46,000 --> 00:35:50,820
dashboards within it and when we look at

00:35:49,990 --> 00:35:53,500
policies

00:35:50,820 --> 00:35:56,950
forgot to mention that I could see the

00:35:53,500 --> 00:36:00,040
guide so as we said earlier we have this

00:35:56,950 --> 00:36:02,650
cup content it has like a very big guy

00:36:00,040 --> 00:36:06,250
that tells us what we're expecting of

00:36:02,650 --> 00:36:11,380
this policy to run off so I can click on

00:36:06,250 --> 00:36:13,540
show guide okay it will give us a very

00:36:11,380 --> 00:36:17,740
again all of these documents or NIST

00:36:13,540 --> 00:36:20,260
certified documents and it will tell us

00:36:17,740 --> 00:36:23,260
what's it going to run why is it going

00:36:20,260 --> 00:36:31,830
to run it what's what's important about

00:36:23,260 --> 00:36:34,300
it so this is for us to know but for a

00:36:31,830 --> 00:36:42,369
for a policy we could also get like a

00:36:34,300 --> 00:36:45,790
dashboard of how it is doing so we could

00:36:42,369 --> 00:36:48,070
see that a we have one host which is not

00:36:45,790 --> 00:36:49,660
compliant with the policy if you had

00:36:48,070 --> 00:36:53,410
host which were compliant we would see

00:36:49,660 --> 00:36:55,270
it here and this is like a very

00:36:53,410 --> 00:36:58,450
heartbreaking for the security guys to

00:36:55,270 --> 00:37:02,350
see so don't show it to them and you

00:36:58,450 --> 00:37:10,240
could see the last report which has run

00:37:02,350 --> 00:37:19,720
a on that machine questions everyone is

00:37:10,240 --> 00:37:32,680
overwhelmed it's good yes thank you for

00:37:19,720 --> 00:37:36,460
asking that so I guess okay so um there

00:37:32,680 --> 00:37:39,640
are no plans to do it for solaris a

00:37:36,460 --> 00:37:43,390
question please yes the question was can

00:37:39,640 --> 00:37:45,760
i extend those policies with my own

00:37:43,390 --> 00:37:48,940
content so i'll answer that first so the

00:37:45,760 --> 00:37:51,730
answer is yes it's going to be on the

00:37:48,940 --> 00:37:55,020
next version you could add a tailoring

00:37:51,730 --> 00:37:57,820
file a tailoring file is you're taking a

00:37:55,020 --> 00:38:00,700
s kept content file and you add your own

00:37:57,820 --> 00:38:04,240
or on top of that you are you add your

00:38:00,700 --> 00:38:04,600
own extension so that would say so for

00:38:04,240 --> 00:38:07,450
instance

00:38:04,600 --> 00:38:09,490
you wish to test the center is general

00:38:07,450 --> 00:38:10,900
whatever and you wish to add your own

00:38:09,490 --> 00:38:14,610
tester you could add it with that

00:38:10,900 --> 00:38:21,010
tailoring file the second question was

00:38:14,610 --> 00:38:22,810
extending it to solaris and windows to

00:38:21,010 --> 00:38:26,800
windows i know there are no plans at the

00:38:22,810 --> 00:38:29,500
moment add to do so and to salaries I do

00:38:26,800 --> 00:38:31,480
not know I can find out I'll bring my

00:38:29,500 --> 00:38:35,110
friend with the openness Cup champion

00:38:31,480 --> 00:38:37,180
and Alaskan is some of the things that

00:38:35,110 --> 00:38:40,150
we wish to do you saw how cool it is

00:38:37,180 --> 00:38:42,490
that you can run remediation you found

00:38:40,150 --> 00:38:44,310
the house that it has an issue so you

00:38:42,490 --> 00:38:47,230
could review the remediation you could

00:38:44,310 --> 00:38:49,810
you could that's my plan that we did a

00:38:47,230 --> 00:38:53,110
click every single run smoothly not like

00:38:49,810 --> 00:38:57,340
in the demo and I'd love to hear from

00:38:53,110 --> 00:39:00,010
you later on or AV a foreman mailing

00:38:57,340 --> 00:39:04,270
list or github how you think we could

00:39:00,010 --> 00:39:13,500
improve the security monitoring of

00:39:04,270 --> 00:39:13,500
openness cap and any other questions yes

00:39:18,300 --> 00:39:24,490
do you support also earlier version like

00:39:21,430 --> 00:39:27,330
right at six or Center six yes we don't

00:39:24,490 --> 00:39:27,330
okay thank you

00:39:33,800 --> 00:39:42,240
do you have some API to get the result

00:39:37,740 --> 00:39:43,620
of the tests automatically yes we do no

00:39:42,240 --> 00:39:45,480
but question that we don't have to that

00:39:43,620 --> 00:39:49,170
I don't have to say this with you know

00:39:45,480 --> 00:39:51,600
so basically as we do have an API which

00:39:49,170 --> 00:39:56,160
would you could query and like latest

00:39:51,600 --> 00:39:59,340
results or a result or report a / host

00:39:56,160 --> 00:40:01,080
and we would love to expand it they

00:39:59,340 --> 00:40:06,510
would love to hear about use cases and

00:40:01,080 --> 00:40:08,790
see how we can expand it now both for

00:40:06,510 --> 00:40:13,020
men and open escape and form an open

00:40:08,790 --> 00:40:16,590
escapar a open source project and I I'll

00:40:13,020 --> 00:40:25,080
be back I want to return to a to the

00:40:16,590 --> 00:40:34,910
console for a second I'm not on the

00:40:25,080 --> 00:40:39,210
right one so this is how you install it

00:40:34,910 --> 00:40:42,240
basically formally installer minus minus

00:40:39,210 --> 00:40:45,020
enable Foreman a proxy plugin open

00:40:42,240 --> 00:40:48,810
escape will install it on the proxy a

00:40:45,020 --> 00:40:51,660
formal installer enabled a plug-in open

00:40:48,810 --> 00:40:56,790
escape will install it on the open s cap

00:40:51,660 --> 00:40:58,890
and you have to install and I thought it

00:40:56,790 --> 00:41:00,720
was installing when it's telling that

00:40:58,890 --> 00:41:03,990
apparently not you have to install

00:41:00,720 --> 00:41:15,210
manually add a puppet model which

00:41:03,990 --> 00:41:18,240
configures the escape client so

00:41:15,210 --> 00:41:21,740
basically that's how the installation

00:41:18,240 --> 00:41:27,510
works a form an open escape is available

00:41:21,740 --> 00:41:29,880
for Foreman 19 and higher so do not seek

00:41:27,510 --> 00:41:33,690
for that on lower versions of for

00:41:29,880 --> 00:41:37,460
Foreman if you're using some of these

00:41:33,690 --> 00:41:41,100
things that you should know more about

00:41:37,460 --> 00:41:43,830
Foreman in general and you could set

00:41:41,100 --> 00:41:49,680
your own architectures you

00:41:43,830 --> 00:41:52,620
could set your own operating systems by

00:41:49,680 --> 00:41:55,860
the way when you run puppet and it is

00:41:52,620 --> 00:41:57,900
reporting back to Foreman so it would

00:41:55,860 --> 00:42:00,930
create stuff for you so if you have like

00:41:57,900 --> 00:42:03,630
a special a version of st. OS for

00:42:00,930 --> 00:42:10,440
instance so it will report you which

00:42:03,630 --> 00:42:13,800
version it is I have a few more minutes

00:42:10,440 --> 00:42:15,900
or I will briefly discuss on first of

00:42:13,800 --> 00:42:18,810
all you need to put to set up the

00:42:15,900 --> 00:42:21,090
provisioning so you could you would set

00:42:18,810 --> 00:42:23,490
up the architectures and the hardware

00:42:21,090 --> 00:42:25,950
models and installation media's comes

00:42:23,490 --> 00:42:28,530
out of the box but operating systems and

00:42:25,950 --> 00:42:30,810
you would have to associate a

00:42:28,530 --> 00:42:33,450
provisioning templates for them by the

00:42:30,810 --> 00:42:36,240
way you could manipulate the

00:42:33,450 --> 00:42:38,880
provisioning templates we support out of

00:42:36,240 --> 00:42:43,110
the box basically I think everything and

00:42:38,880 --> 00:42:45,510
if not we have a inner github repository

00:42:43,110 --> 00:42:51,240
what we call a community templates which

00:42:45,510 --> 00:42:55,070
are additions made by the community this

00:42:51,240 --> 00:42:58,160
is this search that I've told you yeah

00:42:55,070 --> 00:43:00,840
so if I would look at kickstart default

00:42:58,160 --> 00:43:05,340
this is how it looks like it's an EOB

00:43:00,840 --> 00:43:09,020
file I assume most of you know the

00:43:05,340 --> 00:43:11,730
styling because it's a very puppet

00:43:09,020 --> 00:43:14,340
related styling a new addition that

00:43:11,730 --> 00:43:16,260
we've added you could add a preview okay

00:43:14,340 --> 00:43:19,080
so this this is how the kickstart would

00:43:16,260 --> 00:43:28,050
look if I would install it on my center

00:43:19,080 --> 00:43:30,540
ice machine and the cool thing about it

00:43:28,050 --> 00:43:33,480
is that you could install one to twenty

00:43:30,540 --> 00:43:40,200
five hundred twenty thousand machines

00:43:33,480 --> 00:43:42,540
and they would all look the same um we

00:43:40,200 --> 00:43:46,020
talked about the classes right how we

00:43:42,540 --> 00:43:48,950
could manipulate that by the way what

00:43:46,020 --> 00:43:48,950
we're doing i'll show you

00:43:54,220 --> 00:44:00,860
this is what we're sending to puppet ok

00:43:59,300 --> 00:44:04,010
that's the NC that we're sending to

00:44:00,860 --> 00:44:06,260
puppet if I would add message of the day

00:44:04,010 --> 00:44:09,590
it would be added here so this one is

00:44:06,260 --> 00:44:11,780
handling the form an escaped client and

00:44:09,590 --> 00:44:14,780
we're getting all sorts of parameters

00:44:11,780 --> 00:44:30,440
which are sent to pop it and which are

00:44:14,780 --> 00:44:40,490
sent a back as as a fact cool any other

00:44:30,440 --> 00:44:42,680
questions yes sir um so you upload a

00:44:40,490 --> 00:44:45,140
file with your description and then you

00:44:42,680 --> 00:44:48,860
get report back how do you ensure that

00:44:45,140 --> 00:44:52,510
the file is not modified if the hosts

00:44:48,860 --> 00:44:56,300
compromised or your part is compromised

00:44:52,510 --> 00:44:58,520
so it's looks to me like checking for

00:44:56,300 --> 00:45:07,280
compliance but for security but maybe I

00:44:58,520 --> 00:45:10,430
mean so this is a very good question so

00:45:07,280 --> 00:45:13,280
this was this file which was uploaded we

00:45:10,430 --> 00:45:17,150
ensure that it is the same file that you

00:45:13,280 --> 00:45:22,070
get each on each run and when we run

00:45:17,150 --> 00:45:26,900
you'll see it it goes and it checks it's

00:45:22,070 --> 00:45:31,610
not just what this one I'm sorry it goes

00:45:26,900 --> 00:45:35,180
any checks a fingerprint or or the size

00:45:31,610 --> 00:45:38,270
of the of the if it's the same size it

00:45:35,180 --> 00:45:43,730
continues if it's not it redownload it a

00:45:38,270 --> 00:45:45,950
back again but regarding the report

00:45:43,730 --> 00:45:48,350
which is uploaded back at the moment we

00:45:45,950 --> 00:45:51,860
don't have any the only thing that I

00:45:48,350 --> 00:45:55,010
could think of is that we have a sort of

00:45:51,860 --> 00:45:58,730
a mechanism which is parsing the report

00:45:55,010 --> 00:46:00,650
and if it's not in the right format so

00:45:58,730 --> 00:46:03,710
it will fail so we will not get a report

00:46:00,650 --> 00:46:06,500
back I guess that can be bypassed too

00:46:03,710 --> 00:46:07,250
but this is this is a point to think of

00:46:06,500 --> 00:46:11,600
how

00:46:07,250 --> 00:46:17,210
ensure that the report is reported one

00:46:11,600 --> 00:46:19,640
thing that may help you or ensure that

00:46:17,210 --> 00:46:26,930
it is the right one the connection is

00:46:19,640 --> 00:46:33,140
the is is SSL encrypted so exactly yes

00:46:26,930 --> 00:46:35,600
yes right right right right so yeah it's

00:46:33,140 --> 00:46:40,040
a point to consider one thing that we do

00:46:35,600 --> 00:46:42,890
is that the parsing it is expecting the

00:46:40,040 --> 00:46:45,770
airport to being a certain format and if

00:46:42,890 --> 00:46:48,890
it is not in a certain format so it will

00:46:45,770 --> 00:46:52,520
fail so if it fails so there is an issue

00:46:48,890 --> 00:46:56,420
but you can see now I I think we deleted

00:46:52,520 --> 00:47:01,450
that there was on previous version it

00:46:56,420 --> 00:47:04,390
was saying I'm checking for a file and

00:47:01,450 --> 00:47:09,190
downloading it if it was not existed but

00:47:04,390 --> 00:47:09,190
apparently we removed it that that yeah

00:47:11,170 --> 00:47:16,070
but it's a good question and it's a

00:47:13,790 --> 00:47:17,530
thing that we should consider I don't

00:47:16,070 --> 00:47:19,760
have the right the good answer now but

00:47:17,530 --> 00:47:32,180
it's definitely a thing that we should

00:47:19,760 --> 00:47:35,690
think of and take care of right right so

00:47:32,180 --> 00:47:39,410
good yes so the main issue is how you

00:47:35,690 --> 00:47:42,770
you know yeah so currently what we do is

00:47:39,410 --> 00:47:45,350
we we ensure that the communication is

00:47:42,770 --> 00:47:49,520
encrypted so there will not be I mean in

00:47:45,350 --> 00:47:51,530
the middle and we have some sort of how

00:47:49,520 --> 00:47:54,980
the layout is supposed to be and how it

00:47:51,530 --> 00:47:57,470
is parsed back but we should take an

00:47:54,980 --> 00:48:00,290
extra an extra measurement to make sure

00:47:57,470 --> 00:48:03,230
that it's not compromised it's a good

00:48:00,290 --> 00:48:08,330
question thank you any more questions

00:48:03,230 --> 00:48:14,240
but they're like an easy question

00:48:08,330 --> 00:48:17,630
because his one was Larkin our ear plug

00:48:14,240 --> 00:48:19,760
in checking the server for real problems

00:48:17,630 --> 00:48:22,340
not like in current

00:48:19,760 --> 00:48:27,020
correct Wharton bad directories like I

00:48:22,340 --> 00:48:33,530
mean vulnerabilities like dirty cow open

00:48:27,020 --> 00:48:37,510
ssl issue so what what we're giving out

00:48:33,530 --> 00:48:41,260
of the box is like the minimum ones but

00:48:37,510 --> 00:48:46,780
first of all you could add your own and

00:48:41,260 --> 00:48:50,000
so and there are lots of organizations

00:48:46,780 --> 00:48:53,240
which the security people are writing

00:48:50,000 --> 00:48:56,240
those those issues so you could you

00:48:53,240 --> 00:48:57,680
could do it by yourself and if you're

00:48:56,240 --> 00:49:02,900
looking at your ports we have not looked

00:48:57,680 --> 00:49:04,880
at all of them but they do start you

00:49:02,900 --> 00:49:08,710
know with the file system and in some

00:49:04,880 --> 00:49:08,710
permissions and that it's on a different

00:49:09,310 --> 00:49:18,320
partition but it goes if I will close

00:49:12,560 --> 00:49:20,510
the system setting for instance okay so

00:49:18,320 --> 00:49:26,710
there there are places that you could

00:49:20,510 --> 00:49:30,770
there are some a a test which tests

00:49:26,710 --> 00:49:32,930
latest packages and stuff like that if

00:49:30,770 --> 00:49:35,180
you are using a kettle O which is a

00:49:32,930 --> 00:49:37,490
product which is running a wood for man

00:49:35,180 --> 00:49:39,170
so you get from Red Hat if you use

00:49:37,490 --> 00:49:43,160
satellite you get from reddit what we

00:49:39,170 --> 00:49:46,460
call aratus which is a like hot fixes

00:49:43,160 --> 00:49:51,020
and for instance there is a very famous

00:49:46,460 --> 00:49:53,060
talk of ikea there RT guy he discovered

00:49:51,020 --> 00:49:57,110
in the evening that there is a

00:49:53,060 --> 00:49:59,180
compromise with the openssl he ran he

00:49:57,110 --> 00:50:02,030
created a script and you run it in there

00:49:59,180 --> 00:50:05,810
two thousand servers that go and update

00:50:02,030 --> 00:50:11,000
that that package and it was fixed like

00:50:05,810 --> 00:50:14,800
within a few hours but to be honest we

00:50:11,000 --> 00:50:19,280
really give only the basic stuff them

00:50:14,800 --> 00:50:22,010
things like outdated packages or any CVS

00:50:19,280 --> 00:50:24,560
or security holes should be added in a

00:50:22,010 --> 00:50:28,360
tailoring file or should be added on a

00:50:24,560 --> 00:50:28,360
different s cup content

00:50:30,880 --> 00:50:37,470
but yeah I mean I mean it's really up to

00:50:33,670 --> 00:50:42,009
you and the security team to ensure that

00:50:37,470 --> 00:50:50,200
that it's up and running or it's updated

00:50:42,009 --> 00:50:53,049
to what you want to test I have like 10

00:50:50,200 --> 00:51:03,789
minutes so I can show you now my singing

00:50:53,049 --> 00:51:07,420
qualities am yes sir so two questions

00:51:03,789 --> 00:51:09,579
one is if a run-up mask up in a catalog

00:51:07,420 --> 00:51:12,250
environment distribute environment do

00:51:09,579 --> 00:51:15,220
you have to open any other ports or so

00:51:12,250 --> 00:51:16,869
on no now okay that's fine the other

00:51:15,220 --> 00:51:20,289
question is you mentioned the tailor

00:51:16,869 --> 00:51:23,980
part with the future add on so now when

00:51:20,289 --> 00:51:25,960
I have to enhance a content is it

00:51:23,980 --> 00:51:30,400
possible to take an existing content and

00:51:25,960 --> 00:51:34,119
enhance it and rename it yes if so for

00:51:30,400 --> 00:51:35,740
example I can do a separate my own

00:51:34,119 --> 00:51:38,619
content from the river content by a

00:51:35,740 --> 00:51:42,039
command line for example is it right yes

00:51:38,619 --> 00:51:44,769
okay it is yes i'm just i want to show

00:51:42,039 --> 00:51:48,849
you so this is for instance the fedora

00:51:44,769 --> 00:51:51,789
file and let's open it with firefox

00:51:48,849 --> 00:51:55,890
firefox is okay Herman know maybe I

00:51:51,789 --> 00:51:55,890
should open it yeah

00:52:02,230 --> 00:52:08,570
okay so basically you could this is how

00:52:05,210 --> 00:52:12,010
the S kept contact looks like this is a

00:52:08,570 --> 00:52:16,970
very large xml file with all the

00:52:12,010 --> 00:52:19,580
compliance with the ID and what is it is

00:52:16,970 --> 00:52:24,290
checking in which platform which would

00:52:19,580 --> 00:52:27,860
run etc etc and you could you know just

00:52:24,290 --> 00:52:32,810
take that file and modify it or add your

00:52:27,860 --> 00:52:37,970
own rules save it as my fedora and it

00:52:32,810 --> 00:52:40,730
should work just fine so the question is

00:52:37,970 --> 00:52:42,320
yes what we're trying to do with the

00:52:40,730 --> 00:52:44,360
tailoring file is that you will take

00:52:42,320 --> 00:52:46,670
like if you have two or three more rules

00:52:44,360 --> 00:52:51,050
that you wish to add you could let's say

00:52:46,670 --> 00:52:53,180
that this is your new rule so you know

00:52:51,050 --> 00:52:56,060
you will add only that and it will run

00:52:53,180 --> 00:52:59,900
upon the Fedora test so it will run the

00:52:56,060 --> 00:53:03,710
fedora testing your new your rule it's a

00:52:59,900 --> 00:53:05,180
good question thank you any others you

00:53:03,710 --> 00:53:12,710
all want to go and have some beer ah I

00:53:05,180 --> 00:53:17,260
see so wait let me check I'm sorry I

00:53:12,710 --> 00:53:17,260
have to check yeah the video

00:53:20,660 --> 00:53:35,640
it's like very funny so I think I'm done

00:53:33,720 --> 00:53:37,920
thank you very much for listening if you

00:53:35,640 --> 00:53:44,550
have any other questions please pick me

00:53:37,920 --> 00:53:47,760
afterwards and one last thing it's like

00:53:44,550 --> 00:53:51,390
almost six it's been a long day listened

00:53:47,760 --> 00:53:54,330
to lots of stuff I wanted to tell you

00:53:51,390 --> 00:53:56,790
it's been an honor to be to be here and

00:53:54,330 --> 00:53:59,790
to talk to you and hope you will find a

00:53:56,790 --> 00:54:02,849
open escape in form and useful I would

00:53:59,790 --> 00:54:03,900
like that I will applause to you because

00:54:02,849 --> 00:54:07,890
you've been you've been a great audience

00:54:03,900 --> 00:54:09,770
and then we'll have a very later on

00:54:07,890 --> 00:54:17,020
thank you very much

00:54:09,770 --> 00:54:17,020

YouTube URL: https://www.youtube.com/watch?v=BAhBZ3784ac


