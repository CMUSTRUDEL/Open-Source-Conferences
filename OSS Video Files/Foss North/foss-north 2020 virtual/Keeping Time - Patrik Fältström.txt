Title: Keeping Time - Patrik Fältström
Publication date: 2020-06-23
Playlist: foss-north 2020 virtual
Description: 
	Talk details: https://foss-north.se/2020/speakers-and-talks.html#pfaltstrom
Conference details: https://foss-north.se/2020/
Captions: 
	00:00:02,639 --> 00:00:08,639
welcome to force north the virtual

00:00:05,790 --> 00:00:10,769
edition we would like to thank all our

00:00:08,639 --> 00:00:14,969
sponsors and partners in this difficult

00:00:10,769 --> 00:00:18,450
situation our gold sponsors look soft

00:00:14,969 --> 00:00:22,619
and ansible by Red Hat

00:00:18,450 --> 00:00:24,850
our silver sponsors ITRs group and make

00:00:22,619 --> 00:00:28,500
it right

00:00:24,850 --> 00:00:31,560
our base sponsors

00:00:28,500 --> 00:00:33,750
our partner projects the open source

00:00:31,560 --> 00:00:36,870
community and the region of Gothenburg

00:00:33,750 --> 00:00:38,820
and a huge thanks to our awesome

00:00:36,870 --> 00:00:43,290
community this would not have been

00:00:38,820 --> 00:00:46,620
possible without you so next up we

00:00:43,290 --> 00:00:48,360
welcome our last speaker for the day

00:00:46,620 --> 00:00:52,680
Patrick fells room who will be talking

00:00:48,360 --> 00:00:54,420
about keeping time Patrick is a part of

00:00:52,680 --> 00:00:56,190
the team who actually connected Sweden

00:00:54,420 --> 00:00:59,370
to the Internet so he's been around for

00:00:56,190 --> 00:01:01,140
a while in in these areas pre-web Prix

00:00:59,370 --> 00:01:04,259
JavaScript Prix the stuff that we

00:01:01,140 --> 00:01:07,350
associate with it today welcome the

00:01:04,259 --> 00:01:10,440
stage is yours thank you very much

00:01:07,350 --> 00:01:13,289
so we'll try to talk about what how to

00:01:10,440 --> 00:01:14,910
know what time it is and try to explain

00:01:13,289 --> 00:01:16,880
that it it might be a little bit harder

00:01:14,910 --> 00:01:20,880
than what people think and give you some

00:01:16,880 --> 00:01:23,640
ideas on how to make it more stable and

00:01:20,880 --> 00:01:26,340
actually know how much you know about

00:01:23,640 --> 00:01:28,470
the current time so I'm technical

00:01:26,340 --> 00:01:32,160
director and head of security at method

00:01:28,470 --> 00:01:34,409
we have existed since 1996 and our role

00:01:32,160 --> 00:01:36,990
has always been to do things in a stable

00:01:34,409 --> 00:01:40,130
fashion common infrastructure services

00:01:36,990 --> 00:01:42,030
and among the services that we run is

00:01:40,130 --> 00:01:44,729
distribution of Swedish time of

00:01:42,030 --> 00:01:48,150
frequency so anyone that would like to

00:01:44,729 --> 00:01:51,630
have stable timer frequency can connect

00:01:48,150 --> 00:01:52,860
to us using p TP and TP or mts and i

00:01:51,630 --> 00:01:56,790
will talk a little bit more about and

00:01:52,860 --> 00:01:59,990
yes in the future so time has been

00:01:56,790 --> 00:02:03,740
interesting since quite a long time ago

00:01:59,990 --> 00:02:08,130
originally time had something to do with

00:02:03,740 --> 00:02:12,140
with with the Sun rotating around Earth

00:02:08,130 --> 00:02:15,090
or as we knew after well earth rotating

00:02:12,140 --> 00:02:16,980
along its own axis and then around the

00:02:15,090 --> 00:02:19,380
Sun but from the beginning it was the

00:02:16,980 --> 00:02:21,690
Sun that was moving so we have these Sun

00:02:19,380 --> 00:02:24,090
dials all over the world this is one of

00:02:21,690 --> 00:02:26,850
the oldest ones but Sun dials is

00:02:24,090 --> 00:02:29,340
something that we also use today this is

00:02:26,850 --> 00:02:31,500
the rover that is on March and if you

00:02:29,340 --> 00:02:33,840
look here within the circle you'll see

00:02:31,500 --> 00:02:35,700
something that is kind of funky and the

00:02:33,840 --> 00:02:40,190
question is what that is this is

00:02:35,700 --> 00:02:42,080
actually sand oil that and also some

00:02:40,190 --> 00:02:44,630
thing that that have different colors as

00:02:42,080 --> 00:02:47,000
you can see and it's placed on the rover

00:02:44,630 --> 00:02:49,670
so that the idea is that it should exist

00:02:47,000 --> 00:02:52,550
in every photograph because by looking

00:02:49,670 --> 00:02:54,770
at the shadow on the photo and also the

00:02:52,550 --> 00:02:56,930
colors you can do compensation not only

00:02:54,770 --> 00:03:01,550
of time when the photo was taken but

00:02:56,930 --> 00:03:02,930
also calculation of or white balance and

00:03:01,550 --> 00:03:05,270
other kind of things in the photo that

00:03:02,930 --> 00:03:07,250
is they can be hard otherwise so

00:03:05,270 --> 00:03:09,470
sundials have been existing for a while

00:03:07,250 --> 00:03:13,730
and it's still in use kind of cool I

00:03:09,470 --> 00:03:16,520
think but to measure time or precisely

00:03:13,730 --> 00:03:19,370
than a day we started use something like

00:03:16,520 --> 00:03:23,960
this you had you had these hour these

00:03:19,370 --> 00:03:26,240
sort of boxes and containers that with

00:03:23,960 --> 00:03:28,880
sand and the grains were approximately

00:03:26,240 --> 00:03:30,950
equal in size so this speed was

00:03:28,880 --> 00:03:34,130
deterministic on a long time it took for

00:03:30,950 --> 00:03:36,380
all the sand to go from one container to

00:03:34,130 --> 00:03:37,760
another one so you turn them around and

00:03:36,380 --> 00:03:39,050
then you know approximately how long

00:03:37,760 --> 00:03:41,900
time it would have taken but this was

00:03:39,050 --> 00:03:43,580
not very precise and you still had to

00:03:41,900 --> 00:03:45,560
count how many times you had turned this

00:03:43,580 --> 00:03:47,570
upside down and and that could be a

00:03:45,560 --> 00:03:50,600
little bit awkward and you could just

00:03:47,570 --> 00:03:52,880
lose track of that so the question is

00:03:50,600 --> 00:03:55,010
then what time actually is time actually

00:03:52,880 --> 00:03:57,520
consists of two components you have

00:03:55,010 --> 00:04:00,560
something that is sticking like the

00:03:57,520 --> 00:04:03,260
boxes of the sand container and then you

00:04:00,560 --> 00:04:06,800
count the number of ticks so this this

00:04:03,260 --> 00:04:08,900
is a clock your frequency and then you

00:04:06,800 --> 00:04:11,690
have a counter and those two together

00:04:08,900 --> 00:04:14,000
makes a clock I will focus on the

00:04:11,690 --> 00:04:16,160
frequency but of course counting is also

00:04:14,000 --> 00:04:18,560
difficult specifically if you build

00:04:16,160 --> 00:04:21,440
something up you need to know when you

00:04:18,560 --> 00:04:25,340
start to count what is zero and you need

00:04:21,440 --> 00:04:28,210
to have agreement on that and but it can

00:04:25,340 --> 00:04:30,800
be easy to understand what the tick is

00:04:28,210 --> 00:04:32,390
so when talking about time there are a

00:04:30,800 --> 00:04:33,770
couple of other concepts as well you

00:04:32,390 --> 00:04:36,350
need to look at you need to look at

00:04:33,770 --> 00:04:38,990
correctness and position and you might

00:04:36,350 --> 00:04:42,010
have high precision or high correctness

00:04:38,990 --> 00:04:45,470
or is very high position low position

00:04:42,010 --> 00:04:47,300
high correctness and high or low

00:04:45,470 --> 00:04:49,640
correctness and you might combine these

00:04:47,300 --> 00:04:52,190
two and what you want is of course both

00:04:49,640 --> 00:04:53,510
high precision and high correctness now

00:04:52,190 --> 00:04:53,870
that might be something that is a bit

00:04:53,510 --> 00:04:57,830
different

00:04:53,870 --> 00:05:00,680
to obtain so sometimes it's better to

00:04:57,830 --> 00:05:03,530
have a high position and low correctness

00:05:00,680 --> 00:05:05,630
because then you can compensate bad

00:05:03,530 --> 00:05:07,699
position isn't it more difficult to take

00:05:05,630 --> 00:05:08,540
Carol but you can always calculate some

00:05:07,699 --> 00:05:12,440
kind of average

00:05:08,540 --> 00:05:14,389
just like the old say is a man with one

00:05:12,440 --> 00:05:17,389
o'clock know what time it is but if you

00:05:14,389 --> 00:05:21,959
have two clocks you don't

00:05:17,389 --> 00:05:24,449
so if we look at frequency we can look

00:05:21,959 --> 00:05:28,050
at the distance in time between two

00:05:24,449 --> 00:05:30,330
peaks of frequency and and and the time

00:05:28,050 --> 00:05:32,580
it takes between two of those peaks we

00:05:30,330 --> 00:05:34,979
can define that as a unit or time and

00:05:32,580 --> 00:05:36,869
the important thing for the frequency is

00:05:34,979 --> 00:05:39,809
that this works really really well if

00:05:36,869 --> 00:05:41,550
the frequency is very very stable the

00:05:39,809 --> 00:05:44,339
more stable the frequency is the better

00:05:41,550 --> 00:05:45,959
it is and we have one of these units the

00:05:44,339 --> 00:05:48,239
time that we have been using and that is

00:05:45,959 --> 00:05:50,519
for example the time it takes for Earth

00:05:48,239 --> 00:05:52,979
to rotate around its axis or the earth

00:05:50,519 --> 00:05:55,499
to go around the Sun but as we'll see in

00:05:52,979 --> 00:05:58,529
a bit that is not very stable frequency

00:05:55,499 --> 00:06:00,629
but it's a good approximation nowadays

00:05:58,529 --> 00:06:02,969
we use much better units or time and

00:06:00,629 --> 00:06:05,009
that is for example did the SI

00:06:02,969 --> 00:06:08,999
definition of seconds has to do with the

00:06:05,009 --> 00:06:14,069
number of the number of frequently a

00:06:08,999 --> 00:06:17,309
number of vibrations of the cesium atom

00:06:14,069 --> 00:06:19,079
at a special cesium atom and that is the

00:06:17,309 --> 00:06:21,389
definition of unit that is the unit of

00:06:19,079 --> 00:06:25,709
time that we using today I'll come back

00:06:21,389 --> 00:06:30,800
to that we had a lot of trains that

00:06:25,709 --> 00:06:33,479
needed the same good time table and

00:06:30,800 --> 00:06:36,869
originally each city had their own time

00:06:33,479 --> 00:06:40,319
defined by when the Sun was as high as

00:06:36,869 --> 00:06:43,559
possible that at the time was noon but

00:06:40,319 --> 00:06:44,939
over off - well it was agreed at at the

00:06:43,559 --> 00:06:48,439
conference the International Meridian

00:06:44,939 --> 00:06:50,939
conference in 1980 in 1884 in Washington

00:06:48,439 --> 00:06:54,209
everyone every country in the world or

00:06:50,939 --> 00:06:57,899
representatives of them as you see all

00:06:54,209 --> 00:06:59,599
men in black suits they agreed that we

00:06:57,899 --> 00:07:03,509
should have something called

00:06:59,599 --> 00:07:04,800
universal time coordinated or UTC we

00:07:03,509 --> 00:07:07,740
should have the same time and we should

00:07:04,800 --> 00:07:11,149
have time zones so the time zones were

00:07:07,740 --> 00:07:11,149
defined at this conference

00:07:11,170 --> 00:07:19,260
so

00:07:13,650 --> 00:07:22,800
in 1972 we introduced UTC that was based

00:07:19,260 --> 00:07:25,200
on the airside definition and this

00:07:22,800 --> 00:07:26,940
forced us to come up with a couple of

00:07:25,200 --> 00:07:28,280
different time scales which all are in

00:07:26,940 --> 00:07:30,290
use

00:07:28,280 --> 00:07:32,120
we have the UT one which is the

00:07:30,290 --> 00:07:35,600
universal time as defined by the earth

00:07:32,120 --> 00:07:38,180
rotation and this today is suggested to

00:07:35,600 --> 00:07:40,010
pull around ring because the the North

00:07:38,180 --> 00:07:42,560
Pole is walking around a little bit you

00:07:40,010 --> 00:07:43,970
have the earth itself is wobbling we

00:07:42,560 --> 00:07:45,860
have earthquakes now the kind of things

00:07:43,970 --> 00:07:48,740
that makes things and we have the moon

00:07:45,860 --> 00:07:52,130
that actually also changes the earth

00:07:48,740 --> 00:07:54,470
rotation then we have the TA I that is

00:07:52,130 --> 00:07:56,810
international atomic time that is

00:07:54,470 --> 00:08:00,020
defined as an average of the time kept

00:07:56,810 --> 00:08:02,300
by about 200 atomic clocks in over 50

00:08:00,020 --> 00:08:05,960
natural laboratories one of them being

00:08:02,300 --> 00:08:09,620
in Bohr was in Sweden and the difference

00:08:05,960 --> 00:08:13,240
between ta wa ta I and u t1 was

00:08:09,620 --> 00:08:17,090
approximately zero On January 1 1958

00:08:13,240 --> 00:08:21,290
then we have UTC which is a multiple

00:08:17,090 --> 00:08:24,830
numbers of si seconds and the thing is

00:08:21,290 --> 00:08:27,229
that if UTC differs from tae-won ta I

00:08:24,830 --> 00:08:29,930
buy an integral number of seconds in

00:08:27,229 --> 00:08:32,719
that case when needed we add leap

00:08:29,930 --> 00:08:35,990
seconds in UTC add or remove leap

00:08:32,719 --> 00:08:39,409
seconds because we want the difference

00:08:35,990 --> 00:08:44,000
between UTC which is based on the

00:08:39,409 --> 00:08:46,339
vibrations of cesium and u2 one which is

00:08:44,000 --> 00:08:48,410
defined by the rotation of Earth we want

00:08:46,339 --> 00:08:52,970
the difference to be less than 0.9

00:08:48,410 --> 00:08:56,470
seconds so T a1 is the actual average of

00:08:52,970 --> 00:08:59,510
time UTC is what we are using and UTC is

00:08:56,470 --> 00:09:03,740
seconds but adjusted with the wobbling

00:08:59,510 --> 00:09:07,070
on the earth then we have GPS which is

00:09:03,740 --> 00:09:08,390
tii but doesn't have an elite seconds so

00:09:07,070 --> 00:09:10,720
there is a slight difference between

00:09:08,390 --> 00:09:13,070
these and this diagram shows

00:09:10,720 --> 00:09:14,960
approximately what the difference is

00:09:13,070 --> 00:09:18,680
between these very various time scale

00:09:14,960 --> 00:09:22,480
the y-axis is the difference is the

00:09:18,680 --> 00:09:26,270
difference between atomic time T III and

00:09:22,480 --> 00:09:29,900
the horizontal axis x axis is the year

00:09:26,270 --> 00:09:33,260
so you see that ta I and UTC was the

00:09:29,900 --> 00:09:36,800
same around 1958 first January and then

00:09:33,260 --> 00:09:42,070
UTC which is the red line is differing

00:09:36,800 --> 00:09:45,430
from the is differing from ta I

00:09:42,070 --> 00:09:49,660
also to see that Lawrence see GPS body

00:09:45,430 --> 00:09:51,910
do are all fixed from a specific point

00:09:49,660 --> 00:09:54,550
in time when it was exactly the same as

00:09:51,910 --> 00:09:56,770
you DC and then because her leap seconds

00:09:54,550 --> 00:10:00,970
UTC is differing more and more from each

00:09:56,770 --> 00:10:03,520
one of the other timescales if you look

00:10:00,970 --> 00:10:05,350
at the difference between ki and UTC you

00:10:03,520 --> 00:10:08,680
see the difference here there is some

00:10:05,350 --> 00:10:11,320
wandering going on and then the each one

00:10:08,680 --> 00:10:13,510
of the leaps is when a leap second is

00:10:11,320 --> 00:10:17,100
added or removed so you see here that

00:10:13,510 --> 00:10:20,710
the lost leap second was added in in 20

00:10:17,100 --> 00:10:25,450
what does it end up being 2017 first

00:10:20,710 --> 00:10:28,270
January 2018 2019 nothing was was added

00:10:25,450 --> 00:10:30,080
so we might see a leap second in a few

00:10:28,270 --> 00:10:33,450
years

00:10:30,080 --> 00:10:36,540
so what is so difficult brand with with

00:10:33,450 --> 00:10:39,210
frequency and time well there are two

00:10:36,540 --> 00:10:41,610
different car to clocks and if we ignore

00:10:39,210 --> 00:10:44,100
the counting for a minute you have two

00:10:41,610 --> 00:10:46,560
frequency sources and there might be two

00:10:44,100 --> 00:10:49,830
different problems here the first one is

00:10:46,560 --> 00:10:53,220
a frequency error that is the distance

00:10:49,830 --> 00:10:54,620
between two of these orcs in the

00:10:53,220 --> 00:10:57,390
frequency the difference in frequency

00:10:54,620 --> 00:11:00,330
the difference between a and B in this

00:10:57,390 --> 00:11:03,210
diagram and then you have the second

00:11:00,330 --> 00:11:05,160
error is that a and B do not kick at the

00:11:03,210 --> 00:11:08,190
same time and that is a phase error

00:11:05,160 --> 00:11:12,750
which is C so even if it is the case

00:11:08,190 --> 00:11:14,220
that a and B are individual as if you

00:11:12,750 --> 00:11:16,020
look at each one of them they are very

00:11:14,220 --> 00:11:17,940
very stable it might still be the case

00:11:16,020 --> 00:11:20,700
that they have frequency errors and

00:11:17,940 --> 00:11:22,590
phase errors but what you can do is that

00:11:20,700 --> 00:11:24,870
you can do correction on these two and

00:11:22,590 --> 00:11:27,450
ultimately if two clocks are going

00:11:24,870 --> 00:11:29,460
exactly the same the frequency sources

00:11:27,450 --> 00:11:31,890
that the clocks are using have both the

00:11:29,460 --> 00:11:35,130
same frequency and they have zero phase

00:11:31,890 --> 00:11:36,810
error the difference though the

00:11:35,130 --> 00:11:39,420
difficult thing though is that you have

00:11:36,810 --> 00:11:42,510
two different clocks a and B and you

00:11:39,420 --> 00:11:44,850
would like to check make sure that B is

00:11:42,510 --> 00:11:47,850
equal to a you have a certain

00:11:44,850 --> 00:11:50,640
propagation time from A to B if nothing

00:11:47,850 --> 00:11:52,320
else to the speed of light and as we all

00:11:50,640 --> 00:11:54,780
know the speed of light if you look at

00:11:52,320 --> 00:11:58,140
long distances and and short time frames

00:11:54,780 --> 00:12:00,450
you see that it's very very difficult to

00:11:58,140 --> 00:12:02,820
actually for example make sure that the

00:12:00,450 --> 00:12:05,010
phase error is smaller than the

00:12:02,820 --> 00:12:06,990
propagation time or whatever making is

00:12:05,010 --> 00:12:09,600
you have it you carry the time

00:12:06,990 --> 00:12:11,070
measurement from A to B and what we are

00:12:09,600 --> 00:12:14,340
doing at net load for example in many

00:12:11,070 --> 00:12:17,670
other cases and parties that try to have

00:12:14,340 --> 00:12:20,430
exact accurate clocks is that you try to

00:12:17,670 --> 00:12:22,740
get an accuracy down on single day yet

00:12:20,430 --> 00:12:26,850
not on a second and the thing here is

00:12:22,740 --> 00:12:30,680
that the speed of light is about it's

00:12:26,850 --> 00:12:32,360
about one foot per nanosecond so

00:12:30,680 --> 00:12:34,670
you have two clocks which is more than a

00:12:32,360 --> 00:12:39,160
foot apart it is actually quite

00:12:34,670 --> 00:12:41,750
difficult to get the to check the phasor

00:12:39,160 --> 00:12:46,190
just the round-trip time might have a

00:12:41,750 --> 00:12:48,709
variation which is larger than the phase

00:12:46,190 --> 00:12:51,200
error that you can accept so this turns

00:12:48,709 --> 00:12:54,680
into quite interesting an Indian problem

00:12:51,200 --> 00:12:58,130
to make sure that two clocks are having

00:12:54,680 --> 00:12:59,750
is having a phase error that is and

00:12:58,130 --> 00:13:04,550
frequency error that is smaller than

00:12:59,750 --> 00:13:06,589
propagation time of light one example of

00:13:04,550 --> 00:13:09,410
this problem has to do with the the

00:13:06,589 --> 00:13:11,810
electricity network if you look at the

00:13:09,410 --> 00:13:14,420
power assist the power network in the US

00:13:11,810 --> 00:13:16,220
there is an interesting report which is

00:13:14,420 --> 00:13:19,250
called time synchronization electric

00:13:16,220 --> 00:13:21,020
power system because they found that

00:13:19,250 --> 00:13:23,810
there was a problem with measurement of

00:13:21,020 --> 00:13:28,970
the electricity network in North America

00:13:23,810 --> 00:13:32,660
if you look at the the AC distribution

00:13:28,970 --> 00:13:36,290
in AC you have a certain frequency of

00:13:32,660 --> 00:13:38,870
the currency and you measured the error

00:13:36,290 --> 00:13:41,570
that you that is allowed in degree in

00:13:38,870 --> 00:13:43,400
percentage of the degrees and just

00:13:41,570 --> 00:13:45,740
because he is 50 or 60 Hertz depending

00:13:43,400 --> 00:13:48,650
on where you are in the world and you

00:13:45,740 --> 00:13:50,750
allow a certain in quite small error

00:13:48,650 --> 00:13:54,589
that means that when you measure the

00:13:50,750 --> 00:13:56,240
face error of the power you must ensure

00:13:54,589 --> 00:13:58,310
that the clocks of the various

00:13:56,240 --> 00:14:01,300
measurement mechanist at you use is

00:13:58,310 --> 00:14:03,950
precise enough let's have a look at this

00:14:01,300 --> 00:14:07,190
if it is the case that we are with 60

00:14:03,950 --> 00:14:11,839
Hertz rotation mechanics like this power

00:14:07,190 --> 00:14:14,450
and you have a maximum error of 1% that

00:14:11,839 --> 00:14:17,240
means that things are not produced to be

00:14:14,450 --> 00:14:20,329
able to handle them greater than 1%

00:14:17,240 --> 00:14:24,650
angular that is that corresponds to

00:14:20,329 --> 00:14:27,020
timing in error of 26.5 microseconds the

00:14:24,650 --> 00:14:28,540
problem though is that the standard

00:14:27,020 --> 00:14:32,300
suggests a macsyna timing uncertainty

00:14:28,540 --> 00:14:34,780
for one microsecond instead of twenty

00:14:32,300 --> 00:14:37,030
six point five and if

00:14:34,780 --> 00:14:40,000
is the case that and you see that 1%

00:14:37,030 --> 00:14:46,390
angular corresponds to timing error or

00:14:40,000 --> 00:14:49,630
31.8 microseconds so 1% angular is 0.05

00:14:46,390 --> 00:14:51,340
73 degrees so one of the findings in

00:14:49,630 --> 00:14:54,970
this report time synchronization of the

00:14:51,340 --> 00:14:57,340
power system is that the the precision

00:14:54,970 --> 00:14:59,950
and the accuracy or time in the

00:14:57,340 --> 00:15:02,440
measurement equipment that is used to

00:14:59,950 --> 00:15:05,680
measure the angle the angle errors in

00:15:02,440 --> 00:15:08,770
the in the in the in the power network

00:15:05,680 --> 00:15:11,980
the precision of the meshing mechanism

00:15:08,770 --> 00:15:14,190
was not enough to be able to measure the

00:15:11,980 --> 00:15:14,190
error

00:15:14,240 --> 00:15:21,630
so what they're looking at in this

00:15:18,269 --> 00:15:25,199
specific case was how to distribute time

00:15:21,630 --> 00:15:27,060
and how to receive the measurement on

00:15:25,199 --> 00:15:31,380
the time error in the end-user

00:15:27,060 --> 00:15:34,769
application so so the the actual

00:15:31,380 --> 00:15:39,660
measurement introduced a much greater

00:15:34,769 --> 00:15:42,089
error than what was allowed so basically

00:15:39,660 --> 00:15:45,329
the conclusion is this measurement and

00:15:42,089 --> 00:15:48,209
and and equipment that they were using

00:15:45,329 --> 00:15:49,920
did not help and so it's not too

00:15:48,209 --> 00:15:53,850
surprised that the power network and

00:15:49,920 --> 00:15:56,940
power grid went poof another thing that

00:15:53,850 --> 00:15:59,220
they that they discovered was that the

00:15:56,940 --> 00:16:04,110
equipment itself for measurement could

00:15:59,220 --> 00:16:08,579
not handle loot leap seconds so for 17

00:16:04,110 --> 00:16:12,029
seconds it was in fact a 36 degree error

00:16:08,579 --> 00:16:13,800
at fifty nine point nine Hertz and there

00:16:12,029 --> 00:16:15,480
were no report for the second

00:16:13,800 --> 00:16:18,149
immediately off to the leap second and

00:16:15,480 --> 00:16:20,670
two reports for the 18 second after the

00:16:18,149 --> 00:16:23,850
leap second and this also means that for

00:16:20,670 --> 00:16:27,750
just after the leap second introduction

00:16:23,850 --> 00:16:29,490
in twenties in June 2016 no one really

00:16:27,750 --> 00:16:32,540
knew what was the state of the power

00:16:29,490 --> 00:16:32,540
grid in the US

00:16:35,170 --> 00:16:41,170
because of what I call a bug or

00:16:38,769 --> 00:16:44,560
oversight in the posix in the POSIX

00:16:41,170 --> 00:16:46,290
definition that the definition is kind

00:16:44,560 --> 00:16:50,069
of simple

00:16:46,290 --> 00:16:53,009
it is 86,400 times the number of days

00:16:50,069 --> 00:16:55,679
since the first January night in 1970

00:16:53,009 --> 00:16:58,529
and within a day it's the number of

00:16:55,679 --> 00:17:00,359
seconds since midnight and because of

00:16:58,529 --> 00:17:04,079
that when you introduced leap second SEC

00:17:00,359 --> 00:17:06,539
in yellow you have each row is 1/2

00:17:04,079 --> 00:17:09,269
second so what you see is happening when

00:17:06,539 --> 00:17:11,610
the leap second is introduced is that

00:17:09,269 --> 00:17:13,829
the time when you call the pool 6 calls

00:17:11,610 --> 00:17:15,630
the time actually goes backwards and

00:17:13,829 --> 00:17:18,029
this is something that it's not really

00:17:15,630 --> 00:17:20,850
fun and this is why Google introduced

00:17:18,029 --> 00:17:23,189
this smearing of the leap second so that

00:17:20,850 --> 00:17:24,569
the number of seconds pool 6 times

00:17:23,189 --> 00:17:27,480
seconds never and so that the clock

00:17:24,569 --> 00:17:29,789
never goes backwards and this is because

00:17:27,480 --> 00:17:33,539
the post 6 definition do not really take

00:17:29,789 --> 00:17:36,389
leap seconds into account if you want to

00:17:33,539 --> 00:17:38,100
know what time it is a certain number of

00:17:36,389 --> 00:17:39,779
seconds in the future that's a little

00:17:38,100 --> 00:17:41,159
bit difficult to know because you don't

00:17:39,779 --> 00:17:43,080
really know when leap seconds will be

00:17:41,159 --> 00:17:45,389
introduced and this is one of the

00:17:43,080 --> 00:17:49,080
reasons why there are quietly resistance

00:17:45,389 --> 00:17:51,389
and sorry kind of a big support for

00:17:49,080 --> 00:17:53,610
removal or leap seconds on the other

00:17:51,389 --> 00:17:55,950
hand if we didn't at leap seconds then

00:17:53,610 --> 00:17:58,500
we would suddenly release the

00:17:55,950 --> 00:18:00,929
requirement that the time we have is

00:17:58,500 --> 00:18:02,730
somewhat connected to the earth rotation

00:18:00,929 --> 00:18:05,429
around the Sun and the question is

00:18:02,730 --> 00:18:07,110
whether we can do that or not the GPS

00:18:05,429 --> 00:18:10,169
have also similar kind of issues like

00:18:07,110 --> 00:18:13,250
the posix because inside the GPS signal

00:18:10,169 --> 00:18:17,429
one week is a 10 big big counter and

00:18:13,250 --> 00:18:20,610
that means that the GPS signal is

00:18:17,429 --> 00:18:23,879
actually wrapping every tube to ^ 10

00:18:20,610 --> 00:18:28,019
weeks and that's about 20 years it was a

00:18:23,879 --> 00:18:29,580
wrap in April 7 2019 and yes there were

00:18:28,019 --> 00:18:32,039
some equipment that actually went poof

00:18:29,580 --> 00:18:35,519
because the wear equipment that was made

00:18:32,039 --> 00:18:39,480
that that hard code that had hard-coded

00:18:35,519 --> 00:18:41,279
what 20 year epoch as it's called it was

00:18:39,480 --> 00:18:43,110
going to work so it was the intention

00:18:41,279 --> 00:18:46,049
from the manufacturer was not that it

00:18:43,110 --> 00:18:51,480
would survive in production across April

00:18:46,049 --> 00:18:54,510
7 2019 which is kind of funny anyways so

00:18:51,480 --> 00:18:57,029
now it will take another like 19 years

00:18:54,510 --> 00:19:00,100
before we have another wrap in the week

00:18:57,029 --> 00:19:03,610
counter in GPS we will have leap sank

00:19:00,100 --> 00:19:05,799
before that so with that as a background

00:19:03,610 --> 00:19:08,649
just to show that this thing with time

00:19:05,799 --> 00:19:12,309
is not really it's not easy just if you

00:19:08,649 --> 00:19:14,019
if you know what GPC is but even if you

00:19:12,309 --> 00:19:15,879
know what time scale you are using it

00:19:14,019 --> 00:19:18,610
could be kind of interesting anyways to

00:19:15,879 --> 00:19:21,070
do this and in anywise so once upon a

00:19:18,610 --> 00:19:23,379
time hit the network that many of you

00:19:21,070 --> 00:19:25,499
might know here on NTP service could be

00:19:23,379 --> 00:19:27,789
interested in in time and frequency and

00:19:25,499 --> 00:19:30,279
overtime he increased the position and

00:19:27,789 --> 00:19:32,649
stability of the clocks and net mode to

00:19:30,279 --> 00:19:37,690
go with the operation in together with

00:19:32,649 --> 00:19:39,909
Peter around the 2000 the regulator pts

00:19:37,690 --> 00:19:42,220
in Sweden start helping with financing

00:19:39,909 --> 00:19:43,690
from time to time and ultimately we

00:19:42,220 --> 00:19:45,399
actually managed to get our act together

00:19:43,690 --> 00:19:48,730
here in Sweden compared to some other

00:19:45,399 --> 00:19:50,710
countries around us that that do not

00:19:48,730 --> 00:19:53,049
have definition of what their local time

00:19:50,710 --> 00:19:54,610
is so this is what it looked like these

00:19:53,049 --> 00:19:58,119
are pictures from Peter when he picked

00:19:54,610 --> 00:20:00,460
up the first clocks in Russia and this

00:19:58,119 --> 00:20:03,850
is what the time lab looks like with

00:20:00,460 --> 00:20:06,610
some hydrogen amaze and stuff this is

00:20:03,850 --> 00:20:09,749
the old rubidium clocks that that we

00:20:06,610 --> 00:20:12,340
used at night mode but what we have done

00:20:09,749 --> 00:20:14,889
we had those rubidium things up and

00:20:12,340 --> 00:20:17,080
running everything were quite fun quite

00:20:14,889 --> 00:20:20,889
good but what happened was that the

00:20:17,080 --> 00:20:22,769
after the after the malian passed away

00:20:20,889 --> 00:20:25,690
the government launched an investigation

00:20:22,769 --> 00:20:30,009
about legal metrology timer frequency

00:20:25,690 --> 00:20:31,360
and permissioning this requested a

00:20:30,009 --> 00:20:33,820
special report in time

00:20:31,360 --> 00:20:36,490
it's called traceable timer frequency

00:20:33,820 --> 00:20:39,190
perfect time at the thought the title

00:20:36,490 --> 00:20:42,100
was kind of cool anyways the report is

00:20:39,190 --> 00:20:46,179
good as well not only the title it's

00:20:42,100 --> 00:20:49,690
also the case that the the group s amfi

00:20:46,179 --> 00:20:52,960
has both in 2012 and 2019 pointed out

00:20:49,690 --> 00:20:54,999
that being able to coordinate time of

00:20:52,960 --> 00:20:58,600
frequency in sweden is kind of important

00:20:54,999 --> 00:21:01,330
for multiple reasons in this report in

00:20:58,600 --> 00:21:03,009
2007 it's recommended that Swedish

00:21:01,330 --> 00:21:04,749
should have its own capacity to develop

00:21:03,009 --> 00:21:06,999
maintain and ultimately operate a

00:21:04,749 --> 00:21:09,789
function and system for the production

00:21:06,999 --> 00:21:11,860
distribution travel time in frequency we

00:21:09,789 --> 00:21:13,520
must further that we must decrease our

00:21:11,860 --> 00:21:16,970
dependency on the necessary

00:21:13,520 --> 00:21:19,510
and radio and it's really important to

00:21:16,970 --> 00:21:22,160
have time if frequency traceable to UTC

00:21:19,510 --> 00:21:25,520
and that is what we are try to increment

00:21:22,160 --> 00:21:27,830
since then and having net mode running

00:21:25,520 --> 00:21:30,920
empty PPTP and MTS service is part of

00:21:27,830 --> 00:21:33,980
that so the goals were to have long term

00:21:30,920 --> 00:21:36,410
stable phase in frequency the short term

00:21:33,980 --> 00:21:38,900
is something that each consumer time in

00:21:36,410 --> 00:21:41,330
frequency after resolve themselves we

00:21:38,900 --> 00:21:43,850
should realize the time scale we should

00:21:41,330 --> 00:21:46,430
a p2p service with isolated interfaces

00:21:43,850 --> 00:21:48,230
between the customers we should have NTP

00:21:46,430 --> 00:21:50,720
service faced in the internet and an

00:21:48,230 --> 00:21:52,460
external change mechanism and this is

00:21:50,720 --> 00:21:56,650
resolved by having cesium clocks

00:21:52,460 --> 00:21:59,180
multiple of them to measure continuous

00:21:56,650 --> 00:22:02,240
measurement of and steering or face a

00:21:59,180 --> 00:22:04,250
frequency multiple vendors and also

00:22:02,240 --> 00:22:07,250
isolated interfaces in the equipment we

00:22:04,250 --> 00:22:10,100
have to make sure we have NTP and signed

00:22:07,250 --> 00:22:11,540
anti P implement that one FPGAs so that

00:22:10,100 --> 00:22:15,410
it can handle any kind in another

00:22:11,540 --> 00:22:18,170
service attacks and also to use como ug

00:22:15,410 --> 00:22:19,820
in SS and p2p and white rabbit and and

00:22:18,170 --> 00:22:22,690
multiple are the kind of things we can

00:22:19,820 --> 00:22:26,630
synchronize these clocks with each other

00:22:22,690 --> 00:22:29,000
so we have pts is an oversight and main

00:22:26,630 --> 00:22:31,250
financing of the core functionality not

00:22:29,000 --> 00:22:33,380
no development operates the nodes we

00:22:31,250 --> 00:22:36,560
have the unused is for PT p that finance

00:22:33,380 --> 00:22:38,840
the cost on their connection but PDS is

00:22:36,560 --> 00:22:41,090
doing the main finance signal product

00:22:38,840 --> 00:22:43,910
and then we have visa that is

00:22:41,090 --> 00:22:46,910
maintaining UTC SP and participate in bi

00:22:43,910 --> 00:22:48,570
p.m. and B hall for pts monitored is the

00:22:46,910 --> 00:22:51,400
systems

00:22:48,570 --> 00:22:54,460
we have clocks today in Stockholm -

00:22:51,400 --> 00:22:56,650
locations in malmö gothenburg since 1 we

00:22:54,460 --> 00:22:58,600
are deploying at the moment up in lille

00:22:56,650 --> 00:23:00,970
as well it's not yet an operation but

00:22:58,600 --> 00:23:03,370
we'll be doing this year so anyone

00:23:00,970 --> 00:23:07,390
interested can get time a frequency at

00:23:03,370 --> 00:23:09,910
these nodes a node looks like this you

00:23:07,390 --> 00:23:12,100
have it consists of two HOF you see that

00:23:09,910 --> 00:23:13,420
you the left the two cesium clocks at

00:23:12,100 --> 00:23:15,880
the bottom I will show that in a minute

00:23:13,420 --> 00:23:19,900
and then to the right we have extra

00:23:15,880 --> 00:23:23,140
batteries that is because the cesium

00:23:19,900 --> 00:23:26,350
clocks are and the frequency mechanist

00:23:23,140 --> 00:23:29,020
are not allowed to stop because if the

00:23:26,350 --> 00:23:32,680
electricity grid in Sweden stops it need

00:23:29,020 --> 00:23:34,720
to boot against our cesium's so we need

00:23:32,680 --> 00:23:37,990
to we need to always success so we have

00:23:34,720 --> 00:23:38,680
a couple of days of extra power for the

00:23:37,990 --> 00:23:40,870
seasons

00:23:38,680 --> 00:23:43,000
if the ups for the computer where we are

00:23:40,870 --> 00:23:45,220
and the DSL that generates electricity

00:23:43,000 --> 00:23:47,650
and the main power grid in Sweden all

00:23:45,220 --> 00:23:49,420
goes poof then we can still make sure

00:23:47,650 --> 00:23:52,960
that these actually are keep up and

00:23:49,420 --> 00:23:56,170
running and if that goes bad then we

00:23:52,960 --> 00:23:59,809
really are in deep trouble

00:23:56,170 --> 00:24:01,400
so oops here we are so this is what it

00:23:59,809 --> 00:24:03,049
looks like we have if you start from the

00:24:01,400 --> 00:24:06,200
bottom we have the frequency generator

00:24:03,049 --> 00:24:08,420
which is a caesium we are the frequency

00:24:06,200 --> 00:24:11,450
and phase adjustment box we have a

00:24:08,420 --> 00:24:13,160
frequency amplifier a measurement unit

00:24:11,450 --> 00:24:16,490
the measurement the frequency in the box

00:24:13,160 --> 00:24:18,320
we are the frequency distributions for

00:24:16,490 --> 00:24:22,070
to the other tools and then we have the

00:24:18,320 --> 00:24:24,049
consumers which is PTP and GNSS we have

00:24:22,070 --> 00:24:26,540
IP network management tools that we have

00:24:24,049 --> 00:24:28,830
NTP servers and some measurements and

00:24:26,540 --> 00:24:31,750
web servers on the top

00:24:28,830 --> 00:24:34,720
the CSU looked at this and each

00:24:31,750 --> 00:24:37,960
individual is an individual and over

00:24:34,720 --> 00:24:40,000
time you learn how precise they are they

00:24:37,960 --> 00:24:41,740
are very stable frequencies it might not

00:24:40,000 --> 00:24:44,260
really be correct but it's a stable

00:24:41,740 --> 00:24:47,470
frequency so you learn and you do

00:24:44,260 --> 00:24:50,290
adjustment on it here is the timer

00:24:47,470 --> 00:24:52,450
frequency measurement and adjustment

00:24:50,290 --> 00:24:55,570
that can both do frequency and phase

00:24:52,450 --> 00:24:58,750
offset adjustments and can also

00:24:55,570 --> 00:25:01,210
replicate from five five ten megahertz

00:24:58,750 --> 00:25:06,130
and also one PPS we're using for makers

00:25:01,210 --> 00:25:08,380
and one PPS in inside the mesh table

00:25:06,130 --> 00:25:11,470
length is not measured in inches or

00:25:08,380 --> 00:25:14,410
meters measured by lengths on tables

00:25:11,470 --> 00:25:16,150
imagined in seconds which you need to

00:25:14,410 --> 00:25:17,830
compensate for between each one of the

00:25:16,150 --> 00:25:21,760
boxes so here you see cables which are

00:25:17,830 --> 00:25:27,700
six point twenty one and 6.17 normal

00:25:21,760 --> 00:25:31,540
seconds each in the lab when you measure

00:25:27,700 --> 00:25:33,400
and try to set things up it normally

00:25:31,540 --> 00:25:35,680
looks like this this is some test or

00:25:33,400 --> 00:25:38,590
white rabbit equipment you buy fiber

00:25:35,680 --> 00:25:41,500
these two boxes that you see up to the

00:25:38,590 --> 00:25:43,390
left includes forty four zero kilometers

00:25:41,500 --> 00:25:45,070
of fiber each one of them of course

00:25:43,390 --> 00:25:46,810
these are not fiber that is deep down

00:25:45,070 --> 00:25:50,110
into ground it's actually very nice

00:25:46,810 --> 00:25:51,790
fiber it's it's in boxes and not very

00:25:50,110 --> 00:25:54,150
not very weird but it's still the case

00:25:51,790 --> 00:25:59,020
that you can do some testing with some

00:25:54,150 --> 00:26:01,510
some fibers that are not as high quality

00:25:59,020 --> 00:26:03,640
and around these but you can I

00:26:01,510 --> 00:26:06,940
you can even but you can try over longer

00:26:03,640 --> 00:26:09,640
distances on your desk as well

00:26:06,940 --> 00:26:12,420
this is the FPGA that we that we are

00:26:09,640 --> 00:26:15,070
working with it has four ten gauge

00:26:12,420 --> 00:26:17,650
interfaces we have implemented ntp and

00:26:15,070 --> 00:26:18,220
sign ntp use in symmetric encryption on

00:26:17,650 --> 00:26:20,350
the cord

00:26:18,220 --> 00:26:22,540
the daughter card on the top just below

00:26:20,350 --> 00:26:26,050
the screw driver is a little bit special

00:26:22,540 --> 00:26:28,840
edition it is input for frequency from

00:26:26,050 --> 00:26:31,570
the from the time source that we just

00:26:28,840 --> 00:26:33,880
saw on the previous pictures and so we

00:26:31,570 --> 00:26:35,860
are clocking the FPGA from an external

00:26:33,880 --> 00:26:38,560
frequency source we are not clapping the

00:26:35,860 --> 00:26:40,960
FPGA from the computer the FPGA is

00:26:38,560 --> 00:26:44,170
mounted on the computer is only used to

00:26:40,960 --> 00:26:46,690
managing the FPGA not for anything else

00:26:44,170 --> 00:26:47,980
the FAA is completely standalone and at

00:26:46,690 --> 00:26:51,600
the moment we're implementing here and

00:26:47,980 --> 00:26:54,310
MPs in the FPGA but we're not done yet

00:26:51,600 --> 00:26:57,160
so the system approximately looks like

00:26:54,310 --> 00:27:00,340
this we have a CCA frequency source we

00:26:57,160 --> 00:27:02,320
use coma view GNSS and also PTP we do a

00:27:00,340 --> 00:27:05,050
face and frequency adjustment that gives

00:27:02,320 --> 00:27:07,750
us the time scale and then we make the

00:27:05,050 --> 00:27:13,150
time scale available using ntp and p2p

00:27:07,750 --> 00:27:14,880
and then also mps in this implementation

00:27:13,150 --> 00:27:17,350
that we have done we have moved from

00:27:14,880 --> 00:27:20,170
with the rubidium clocks we have about

00:27:17,350 --> 00:27:22,810
thousand on a second + - you see the the

00:27:20,170 --> 00:27:25,960
errors here we removed to you about 10

00:27:22,810 --> 00:27:29,380
nanoseconds with the cesium clocks you

00:27:25,960 --> 00:27:33,690
see this is a factor the quite quite

00:27:29,380 --> 00:27:37,060
quite a good bit better so we are within

00:27:33,690 --> 00:27:40,930
with the instilled a get no no second if

00:27:37,060 --> 00:27:42,910
everything is connected as it should and

00:27:40,930 --> 00:27:45,990
of course it should otherwise something

00:27:42,910 --> 00:27:49,150
is broken we are well within let's say

00:27:45,990 --> 00:27:50,710
20 norma seconds without any problem so

00:27:49,150 --> 00:27:52,360
we should remember here between two

00:27:50,710 --> 00:27:53,920
clocks which are of example is Stockholm

00:27:52,360 --> 00:27:58,690
and Gothenburg and you should remember

00:27:53,920 --> 00:28:01,270
that time sorry the light goes 130

00:27:58,690 --> 00:28:02,860
centimeters per nanosecond so this is

00:28:01,270 --> 00:28:06,400
actually quite good

00:28:02,860 --> 00:28:08,440
so what about security and NTP well to

00:28:06,400 --> 00:28:10,570
be frank key negotiation NTP even though

00:28:08,440 --> 00:28:12,730
it's in the protocol is not possible to

00:28:10,570 --> 00:28:15,730
implement they were not crypto people

00:28:12,730 --> 00:28:18,310
that come up with that idea and so for

00:28:15,730 --> 00:28:21,010
sign NTP you should use symmetric keys

00:28:18,310 --> 00:28:23,020
and yes we do support symmetric keys and

00:28:21,010 --> 00:28:25,270
some people are using it on the other

00:28:23,020 --> 00:28:27,310
hand we it's it's a nightmare to handle

00:28:25,270 --> 00:28:28,960
symmetric keys as you know specifically

00:28:27,310 --> 00:28:33,280
for an organization that are not used to

00:28:28,960 --> 00:28:34,960
managing symmetric keys so what everyone

00:28:33,280 --> 00:28:36,640
knows this so there have been an

00:28:34,960 --> 00:28:37,780
improved version of entity in the works

00:28:36,640 --> 00:28:40,240
for quite some time

00:28:37,780 --> 00:28:45,550
of course people don't agree in the ITF

00:28:40,240 --> 00:28:47,200
so in April May 2018 not know decided

00:28:45,550 --> 00:28:49,480
that we should helped and this time it

00:28:47,200 --> 00:28:50,770
was not became kind of we're from the

00:28:49,480 --> 00:28:53,430
government we're here to help we

00:28:50,770 --> 00:28:57,280
actually sat in and helped quite heavily

00:28:53,430 --> 00:28:59,350
this is dealt with in the MTS

00:28:57,280 --> 00:29:03,610
specification which is now action not

00:28:59,350 --> 00:29:07,540
version 20 it's version 22 I think maybe

00:29:03,610 --> 00:29:10,750
24 even in reality MPs are too loosely

00:29:07,540 --> 00:29:14,770
coupled protocols we have the MPS key

00:29:10,750 --> 00:29:17,920
establishment protocol and PS ke which

00:29:14,770 --> 00:29:21,610
is a key extraction of Achilles and then

00:29:17,920 --> 00:29:24,850
we have NTP the normal NTP but with MPs

00:29:21,610 --> 00:29:27,520
extension fields so you use a key

00:29:24,850 --> 00:29:30,040
extraction protocol over TLS to get some

00:29:27,520 --> 00:29:32,140
cookies which then plays in the

00:29:30,040 --> 00:29:34,960
extension fields and then you use normal

00:29:32,140 --> 00:29:37,270
NTP for time synchronization so you have

00:29:34,960 --> 00:29:39,400
the ante ske server and then you have

00:29:37,270 --> 00:29:44,110
the entire server I will show that in a

00:29:39,400 --> 00:29:46,690
bit so except for the initial anteus KDE

00:29:44,110 --> 00:29:50,290
process all state required by the

00:29:46,690 --> 00:29:53,650
protocol is handled in the client in

00:29:50,290 --> 00:29:57,400
opaque cookies so the ultimate protocol

00:29:53,650 --> 00:29:59,590
is very much like NTP originally we had

00:29:57,400 --> 00:30:02,050
a client that got a CID query to NTP

00:29:59,590 --> 00:30:04,030
service you get a respond back so this

00:30:02,050 --> 00:30:07,030
is very simple but we have done now with

00:30:04,030 --> 00:30:08,590
MPs is that you have the NTS ke server

00:30:07,030 --> 00:30:10,720
that shares some cooking encryption

00:30:08,590 --> 00:30:13,720
parameters you have the client that

00:30:10,720 --> 00:30:16,260
stored by negotiating parameters initial

00:30:13,720 --> 00:30:18,240
cookie supply generate keys

00:30:16,260 --> 00:30:20,970
yada yada know what time to be serviced

00:30:18,240 --> 00:30:24,660
you talk to et cetera it gets that as a

00:30:20,970 --> 00:30:27,240
package from the server and then it uses

00:30:24,660 --> 00:30:29,040
authenticated time synchronization with

00:30:27,240 --> 00:30:32,280
the help of the extension fields friend

00:30:29,040 --> 00:30:35,400
TV for so this is the new architecture

00:30:32,280 --> 00:30:39,180
which is you basically add the NTS ke

00:30:35,400 --> 00:30:41,610
server so this describes looked at how

00:30:39,180 --> 00:30:45,570
it works you connect to the NTS ke

00:30:41,610 --> 00:30:48,600
server not strange it's a normal

00:30:45,570 --> 00:30:50,300
negotiation over TLS the whole idea is

00:30:48,600 --> 00:30:52,350
that it should only take one round-trip

00:30:50,300 --> 00:30:55,500
after which the server close to the

00:30:52,350 --> 00:30:58,560
connection and then you have the time

00:30:55,500 --> 00:31:00,450
synchronization and this the idea is

00:30:58,560 --> 00:31:03,240
that the client should be able to reuse

00:31:00,450 --> 00:31:05,280
the same cookie many many times so you

00:31:03,240 --> 00:31:07,470
don't need a handshake with the ke

00:31:05,280 --> 00:31:09,690
server every time you should you see you

00:31:07,470 --> 00:31:11,070
in NTP query the other way around you

00:31:09,690 --> 00:31:13,200
should get a cookie and then you're done

00:31:11,070 --> 00:31:16,440
and then you talk with your favorite NTP

00:31:13,200 --> 00:31:18,300
server then to be server can those say

00:31:16,440 --> 00:31:20,040
I'm sorry I don't know what this kind of

00:31:18,300 --> 00:31:21,630
cookie is you had better go to the

00:31:20,040 --> 00:31:24,390
cookie drawer and get a new cookie if

00:31:21,630 --> 00:31:26,580
you want you so because the server

00:31:24,390 --> 00:31:28,470
responds with a fresh encrypted cookie

00:31:26,580 --> 00:31:31,650
at every request that the client answer

00:31:28,470 --> 00:31:35,340
is so to choose to to withstand replay

00:31:31,650 --> 00:31:37,740
attacks and such such things so the

00:31:35,340 --> 00:31:40,200
status of NPS was that it was stuck in

00:31:37,740 --> 00:31:42,720
ITF broker bureaucracy actually until

00:31:40,200 --> 00:31:46,080
Wednesday last week believe it or not I

00:31:42,720 --> 00:31:48,420
was on my way to talk about how crappy

00:31:46,080 --> 00:31:51,450
the IETF bureaucracy was but then it was

00:31:48,420 --> 00:31:54,120
accrued on March 25 so now we are done

00:31:51,450 --> 00:31:56,160
so this will become an oral see the

00:31:54,120 --> 00:31:58,110
actual RFC number it's not designed yet

00:31:56,160 --> 00:32:00,270
the port number is not a sign but we're

00:31:58,110 --> 00:32:02,790
now in the editing phase so we are done

00:32:00,270 --> 00:32:04,710
it's it's a relief it has taken almost 2

00:32:02,790 --> 00:32:07,080
years of hard work but I'm really really

00:32:04,710 --> 00:32:08,460
happy that we had not noted with other

00:32:07,080 --> 00:32:11,910
companies in the world have managed to

00:32:08,460 --> 00:32:13,800
get NTS implemented it's also the case

00:32:11,910 --> 00:32:16,620
that in parallel we have implemented the

00:32:13,800 --> 00:32:19,680
NTS server in software there are also

00:32:16,620 --> 00:32:22,590
some NTS client software up there and we

00:32:19,680 --> 00:32:24,660
do have look at the URL down there you

00:32:22,590 --> 00:32:27,360
can follow those instructions and quite

00:32:24,660 --> 00:32:30,269
easily get an TS after running we use

00:32:27,360 --> 00:32:33,720
the Chronos as basis for that

00:32:30,269 --> 00:32:36,269
this is from my own server at home I did

00:32:33,720 --> 00:32:38,869
this some time ago when on the Debian

00:32:36,269 --> 00:32:41,820
server I compile downloaded and compiled

00:32:38,869 --> 00:32:43,889
Kronos and as you see and they in the

00:32:41,820 --> 00:32:46,490
ntp log you see that you actually do

00:32:43,889 --> 00:32:48,749
some handshake and this is over ipv6

00:32:46,490 --> 00:32:50,279
everything is nice and dandy you

00:32:48,749 --> 00:32:52,529
something that's encrypted difficult

00:32:50,279 --> 00:32:56,149
everything is fine and this is something

00:32:52,529 --> 00:32:59,730
completely different from the old crappy

00:32:56,149 --> 00:33:00,299
udp-based and to be protocol that we are

00:32:59,730 --> 00:33:03,210
used to

00:33:00,299 --> 00:33:07,259
so anteus is really really really big

00:33:03,210 --> 00:33:08,639
new black so what do we a met node and

00:33:07,259 --> 00:33:10,139
what will happen here in sweden in the

00:33:08,639 --> 00:33:12,419
next 12 months you will see the

00:33:10,139 --> 00:33:14,940
deployment of a node in luleå you will

00:33:12,419 --> 00:33:17,460
see motive deployment and development of

00:33:14,940 --> 00:33:20,340
the NTS protocol including and the FPGAs

00:33:17,460 --> 00:33:22,710
we are working on be able to calculate a

00:33:20,340 --> 00:33:26,070
time scale for net note not only UTC for

00:33:22,710 --> 00:33:27,509
us or sweden today we have a time scale

00:33:26,070 --> 00:33:28,830
for each one of the citizens but we

00:33:27,509 --> 00:33:31,559
would like to do something better than

00:33:28,830 --> 00:33:33,480
that and that includes making data

00:33:31,559 --> 00:33:36,590
available so that people can validate

00:33:33,480 --> 00:33:39,299
what what we are doing we are

00:33:36,590 --> 00:33:40,889
continuously evaluate vendors ttp

00:33:39,299 --> 00:33:45,059
equipment unfortunately that's

00:33:40,889 --> 00:33:47,220
depressing and not very fun exercise

00:33:45,059 --> 00:33:49,950
PTP equipment there are so few customers

00:33:47,220 --> 00:33:51,659
that actually want high-quality PTP so

00:33:49,950 --> 00:33:53,490
they are not many of them out there each

00:33:51,659 --> 00:33:54,929
one of them is fighting really really

00:33:53,490 --> 00:33:58,529
hard but they don't have many customers

00:33:54,929 --> 00:34:01,409
so there is not enough sort of money to

00:33:58,529 --> 00:34:03,240
actually do good p2p equipment we are

00:34:01,409 --> 00:34:05,610
looking into ID rabbit which is one

00:34:03,240 --> 00:34:07,470
protocol we know the weaknesses of white

00:34:05,610 --> 00:34:11,520
rabbit it's better than p2p or long

00:34:07,470 --> 00:34:13,970
distances over IP but we are going to

00:34:11,520 --> 00:34:16,919
test that on very long distances

00:34:13,970 --> 00:34:18,599
including am particular amplifiers or

00:34:16,919 --> 00:34:22,200
medium networks to see what actually

00:34:18,599 --> 00:34:25,349
happens it looks quite good so far

00:34:22,200 --> 00:34:27,869
actually it's also the case that we see

00:34:25,349 --> 00:34:29,399
in Sweden and here Scandinavia quite a

00:34:27,869 --> 00:34:32,309
lot of jamming and replay attacks

00:34:29,399 --> 00:34:35,909
against en SS so for people that use DNS

00:34:32,309 --> 00:34:39,470
s GPS receivers that is stop doing that

00:34:35,909 --> 00:34:43,500
or you were read some forthcoming

00:34:39,470 --> 00:34:44,220
reports from us the the attacks against

00:34:43,500 --> 00:34:48,060
GPRS

00:34:44,220 --> 00:34:50,460
not is not that fun actually so what

00:34:48,060 --> 00:34:52,080
tell my recommendations the first one is

00:34:50,460 --> 00:34:54,750
that you should make up your mind

00:34:52,080 --> 00:34:56,550
overtime is measure the frequency and

00:34:54,750 --> 00:34:59,280
phase errors that you have against AI

00:34:56,550 --> 00:35:02,960
Kayano x frequency source you can for

00:34:59,280 --> 00:35:05,910
example if you use GPS if you if you use

00:35:02,960 --> 00:35:08,849
some other kind of thing could use ntp

00:35:05,910 --> 00:35:11,760
to your subnet node and or mps even

00:35:08,849 --> 00:35:14,099
better and measure what the difference

00:35:11,760 --> 00:35:17,280
is so you know the frequency and phase

00:35:14,099 --> 00:35:20,160
error set alarms on that so you know

00:35:17,280 --> 00:35:21,690
when things start to into bubble you

00:35:20,160 --> 00:35:24,090
should also know the stability of the

00:35:21,690 --> 00:35:25,650
oscillators that you use yourself make a

00:35:24,090 --> 00:35:27,359
risk assessment of the errors and

00:35:25,650 --> 00:35:28,950
compared with the acceptable errors you

00:35:27,359 --> 00:35:33,150
have and also have warnings about that

00:35:28,950 --> 00:35:35,910
and then for those interested I can

00:35:33,150 --> 00:35:38,280
recommend two books which are not very

00:35:35,910 --> 00:35:39,930
long very interesting from sundials to

00:35:38,280 --> 00:35:42,420
atomic clocks understanding time in

00:35:39,930 --> 00:35:44,520
frequency and also longitude the true

00:35:42,420 --> 00:35:47,340
story of a lone genius to solve the

00:35:44,520 --> 00:35:50,760
greatest scientific problem in his time

00:35:47,340 --> 00:35:53,070
so by Java so both the daughter of the

00:35:50,760 --> 00:35:55,980
gentleman that implemented the accurate

00:35:53,070 --> 00:35:58,380
clock that he took to see and I written

00:35:55,980 --> 00:36:00,089
a report myself on mortgage even Chandan

00:35:58,380 --> 00:36:01,920
is choking the internet standard so it

00:36:00,089 --> 00:36:04,410
talks a little bit about why it's so

00:36:01,920 --> 00:36:08,070
difficult to actually reach agreements

00:36:04,410 --> 00:36:10,140
on on standardized things which could be

00:36:08,070 --> 00:36:11,869
interesting to see now and not only

00:36:10,140 --> 00:36:14,640
Apple but also Google and Facebook

00:36:11,869 --> 00:36:17,790
launched their own NTP servers in

00:36:14,640 --> 00:36:20,900
parallel with other NTP servers like the

00:36:17,790 --> 00:36:23,960
Neff node one that follows Swedish time

00:36:20,900 --> 00:36:23,960
thank you

00:36:24,029 --> 00:36:30,039
okay great thank you very much for this

00:36:27,190 --> 00:36:34,329
talk and dumbing it down so people like

00:36:30,039 --> 00:36:38,859
me were able to follow even we have two

00:36:34,329 --> 00:36:41,109
questions here and oh and I need to tell

00:36:38,859 --> 00:36:44,559
everyone that two years ago we had this

00:36:41,109 --> 00:36:51,640
one talk by Alessandro roubini at first

00:36:44,559 --> 00:36:53,920
North to 2016 about the approach how

00:36:51,640 --> 00:36:57,220
they approach timing in Linux and

00:36:53,920 --> 00:36:59,589
hardware among thousands of systems at

00:36:57,220 --> 00:37:02,589
CERN so you can go back and watch that

00:36:59,589 --> 00:37:03,910
if you're interested because it kind of

00:37:02,589 --> 00:37:09,849
relates to what you've been talking

00:37:03,910 --> 00:37:13,089
about so the first question was when you

00:37:09,849 --> 00:37:15,670
have multiple cesium clocks which you

00:37:13,089 --> 00:37:18,670
need to synchronize over the boundaries

00:37:15,670 --> 00:37:23,260
of countries how do we decide which one

00:37:18,670 --> 00:37:25,650
is the correct one first of all the the

00:37:23,260 --> 00:37:30,010
cesium clocks only generate a frequency

00:37:25,650 --> 00:37:31,869
so what you have to decide is which one

00:37:30,010 --> 00:37:34,359
of the frequencies is the one that you

00:37:31,869 --> 00:37:37,240
trust what we are doing is that we are

00:37:34,359 --> 00:37:40,480
comparing our cesium frequencies with

00:37:37,240 --> 00:37:46,240
the frequency at SP the Swedish UTC and

00:37:40,480 --> 00:37:48,940
we ensure that our frequency matches the

00:37:46,240 --> 00:37:51,160
one at SP and that of that is something

00:37:48,940 --> 00:37:53,049
that we should do even if the cesium

00:37:51,160 --> 00:37:56,950
clock happened to be located in another

00:37:53,049 --> 00:37:58,420
country so you always have to decide as

00:37:56,950 --> 00:38:01,420
I said on the previous picture here

00:37:58,420 --> 00:38:04,660
let's see if I can change picture you

00:38:01,420 --> 00:38:07,299
need to make sure that you decide what

00:38:04,660 --> 00:38:09,369
is called traceable timer frequency so

00:38:07,299 --> 00:38:11,829
you have to have something that useful

00:38:09,369 --> 00:38:14,260
is lenient comparing against because

00:38:11,829 --> 00:38:18,010
their differences between the various

00:38:14,260 --> 00:38:19,990
time sources and timescales UTC is

00:38:18,010 --> 00:38:23,680
something that you only get to know a

00:38:19,990 --> 00:38:24,700
month afterwards so you get to know

00:38:23,680 --> 00:38:27,250
today

00:38:24,700 --> 00:38:29,950
you know what error was between the

00:38:27,250 --> 00:38:31,369
swedish version of UTC and UTC a month

00:38:29,950 --> 00:38:33,559
ago

00:38:31,369 --> 00:38:36,519
so you only know whatever it was and

00:38:33,559 --> 00:38:40,279
that's why it's little bit difficult

00:38:36,519 --> 00:38:42,980
okay great thank you and then the second

00:38:40,279 --> 00:38:46,869
question is you mentioned the White

00:38:42,980 --> 00:38:51,009
Rabbit project is that the CERN project

00:38:46,869 --> 00:38:53,420
that is correct it's a CERN originated

00:38:51,009 --> 00:38:56,269
protocol that is called White Rabbit

00:38:53,420 --> 00:38:58,130
White Rabbit after the Alice in

00:38:56,269 --> 00:39:01,029
Wonderland of course

00:38:58,130 --> 00:39:03,950
so yes it's discerned white rabbit yes

00:39:01,029 --> 00:39:07,249
okay thank you very much thanks again

00:39:03,950 --> 00:39:13,160
for the talk and to you now over to you

00:39:07,249 --> 00:39:15,470
your hand oh wait there's another

00:39:13,160 --> 00:39:18,410
question which showed up here let's take

00:39:15,470 --> 00:39:22,069
this one first most of us do not realize

00:39:18,410 --> 00:39:25,069
how much hard work is done to get the

00:39:22,069 --> 00:39:26,890
internet up and running which with your

00:39:25,069 --> 00:39:31,670
experience what is the most

00:39:26,890 --> 00:39:36,440
underestimated part of this work I think

00:39:31,670 --> 00:39:39,829
the the biggest problem is maybe that

00:39:36,440 --> 00:39:43,130
people think it is too easy if it is the

00:39:39,829 --> 00:39:45,380
case well let me take a step back I want

00:39:43,130 --> 00:39:47,329
Internet users and anyone building

00:39:45,380 --> 00:39:49,670
services to take for granted that the

00:39:47,329 --> 00:39:51,079
internet just works just like we take

00:39:49,670 --> 00:39:52,700
for granted that there is electricity

00:39:51,079 --> 00:39:54,710
and the wall plug and that there is

00:39:52,700 --> 00:39:55,489
water out for the water taps let me

00:39:54,710 --> 00:39:58,489
start there

00:39:55,489 --> 00:40:00,319
okay now all of us that are customers

00:39:58,489 --> 00:40:03,109
are the Internet service providers we

00:40:00,319 --> 00:40:06,049
know it is not as good as the water in

00:40:03,109 --> 00:40:07,579
the water tap and we also know that of

00:40:06,049 --> 00:40:09,529
course it's very difficult to make sure

00:40:07,579 --> 00:40:12,589
that there is always electricity in the

00:40:09,529 --> 00:40:14,900
in the outlets in the walls so what I

00:40:12,589 --> 00:40:16,789
think we should understand all of us

00:40:14,900 --> 00:40:19,609
being customers that there is a

00:40:16,789 --> 00:40:21,859
difference in quality between two

00:40:19,609 --> 00:40:24,859
different service providers we cannot

00:40:21,859 --> 00:40:27,769
only compare what we are buying based on

00:40:24,859 --> 00:40:29,390
price because it is really complicating

00:40:27,769 --> 00:40:32,180
and doing things the right way actually

00:40:29,390 --> 00:40:34,069
costs our money so I think we need to

00:40:32,180 --> 00:40:36,230
start to look for quality and we all of

00:40:34,069 --> 00:40:38,950
us we should be prepared on paying a

00:40:36,230 --> 00:40:42,349
little bit more to get higher quality

00:40:38,950 --> 00:40:44,089
things until we really can take it for

00:40:42,349 --> 00:40:44,960
granted but we're not there yet thank

00:40:44,089 --> 00:40:48,530
you

00:40:44,960 --> 00:40:50,119
okay thank you very much Johan yeah and

00:40:48,530 --> 00:40:52,730
I'd like to extend a thanks to to

00:40:50,119 --> 00:40:54,589
everyone Patrick and all our speakers

00:40:52,730 --> 00:40:57,130
that we've had today but also all our

00:40:54,589 --> 00:40:57,130
viewers

00:40:58,020 --> 00:41:02,370
and with that I would like to thank our

00:41:00,390 --> 00:41:04,820
speakers our sponsors and all our

00:41:02,370 --> 00:41:04,820
viewers

00:41:10,660 --> 00:41:12,720

YouTube URL: https://www.youtube.com/watch?v=wKtTfVOoNYM


