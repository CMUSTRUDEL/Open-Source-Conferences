Title: Calamares - the Linux System Installer - Adriaan de Groot
Publication date: 2019-04-19
Playlist: foss-north 2019
Description: 
	As long as Linux isn't pre-installed on your hardware, you need to install it yourself. The big five Linux distro's have their own tools, but for the hundreds of boutique distro's with specialised purposes, those tools are not (necessarily) suitable. Calamares is a Linux System Installer that is built to be customisable and tailorable for boutique distro's. It encourages shared development and cooperation for derivatives, spins, mixes and niche players.
In this short talk we'll look at the why and the what of Calamares (and probably also some "yeah, this needs work" items as well).

---

Adriaan is a Canadian by birth and Dutch by training, but has lived in the world of Open Source for a long time. He wears KDE and FreeBSD hats around the community, and 
works professionally as a C++ programmer and consultant. He is the maintainer of Calamares, a Linux System Installer.

https://foss-north.se/2019/speakers-and-talks.html#adegroot
Captions: 
	00:00:16,530 --> 00:00:22,200
hi welcome everyone good to see you

00:00:19,590 --> 00:00:24,210
after lunch I'm Adrian de Groot I'm

00:00:22,200 --> 00:00:26,820
going to talk about kalamatas a Linux

00:00:24,210 --> 00:00:29,939
system installer if you're here because

00:00:26,820 --> 00:00:33,330
of the originally scheduled talk tough

00:00:29,939 --> 00:00:35,730
luck we hope this will be interesting

00:00:33,330 --> 00:00:38,870
nonetheless and if you're a freebsd

00:00:35,730 --> 00:00:42,960
person I have no idea why you're here

00:00:38,870 --> 00:00:45,570
I'm a FreeBSD person myself but I spent

00:00:42,960 --> 00:00:52,230
my working hours writing a Linux system

00:00:45,570 --> 00:00:54,690
installer so the purpose in general as

00:00:52,230 --> 00:00:58,590
long as Linux or FreeBSD isn't installed

00:00:54,690 --> 00:01:01,469
on all computers all desktops all

00:00:58,590 --> 00:01:04,920
consumer devices delivered until it's

00:01:01,469 --> 00:01:06,810
installed from the factory pre-installed

00:01:04,920 --> 00:01:09,899
we're still stuck with this situation

00:01:06,810 --> 00:01:11,670
where we got to go from a CD and our

00:01:09,899 --> 00:01:14,340
computer and we want to get to a point

00:01:11,670 --> 00:01:16,830
where we've got the same computer with

00:01:14,340 --> 00:01:18,869
Linux on it right you've really replaced

00:01:16,830 --> 00:01:21,090
whatever else was on there with with

00:01:18,869 --> 00:01:23,310
Linux and along the way you're probably

00:01:21,090 --> 00:01:29,310
going to run into having to deal with

00:01:23,310 --> 00:01:31,770
flash or disks and partitioning stuff so

00:01:29,310 --> 00:01:35,780
you need to install Linux or you need to

00:01:31,770 --> 00:01:39,390
install your operating system of choice

00:01:35,780 --> 00:01:42,770
the big five Linux distros have their

00:01:39,390 --> 00:01:46,860
own installers right the big five being

00:01:42,770 --> 00:01:52,860
fedora ubuntu debian i should have named

00:01:46,860 --> 00:01:56,460
debian first arch and but Arch doesn't

00:01:52,860 --> 00:01:59,189
have an installer and there's one

00:01:56,460 --> 00:02:02,399
there's one more I know that yeah let's

00:01:59,189 --> 00:02:05,460
go for Gen 2 maybe there maybe there's

00:02:02,399 --> 00:02:07,740
six anyway the big Linux is all have

00:02:05,460 --> 00:02:11,340
their own installers those installers

00:02:07,740 --> 00:02:13,769
are geared towards installing that big

00:02:11,340 --> 00:02:16,680
distro but the boutique's distros the

00:02:13,769 --> 00:02:22,019
little ones don't have an installer of

00:02:16,680 --> 00:02:25,050
their own anaconda for fedora is a fine

00:02:22,019 --> 00:02:26,640
installer to get fedora installed but if

00:02:25,050 --> 00:02:29,819
you're making a fedora reece pin or a

00:02:26,640 --> 00:02:30,330
derivative of some sort it doesn't quite

00:02:29,819 --> 00:02:35,640
it

00:02:30,330 --> 00:02:38,760
necessarily quite match so that's where

00:02:35,640 --> 00:02:42,930
the need for a different installer or

00:02:38,760 --> 00:02:47,880
another installer comes in there's tons

00:02:42,930 --> 00:02:52,440
of boutique distros who runs one of the

00:02:47,880 --> 00:02:54,390
big five here in the room who runs

00:02:52,440 --> 00:02:59,060
something amazingly obscure that no one

00:02:54,390 --> 00:03:01,170
has heard of some people have heard of

00:02:59,060 --> 00:03:03,150
okay so we you know we've we've got

00:03:01,170 --> 00:03:06,030
about ten people here in the room that

00:03:03,150 --> 00:03:09,510
are outside of the the mainstream that's

00:03:06,030 --> 00:03:11,700
good then then you're sort of my maybe

00:03:09,510 --> 00:03:13,530
target audience and maybe you've used my

00:03:11,700 --> 00:03:16,110
stuff but if you're a cubes guy you

00:03:13,530 --> 00:03:20,459
probably don't trust my code I wouldn't

00:03:16,110 --> 00:03:22,470
either anyway why are there even these

00:03:20,459 --> 00:03:26,160
boutique distros well that's because the

00:03:22,470 --> 00:03:28,100
big five while amazing general purpose

00:03:26,160 --> 00:03:30,420
operating systems or general-purpose

00:03:28,100 --> 00:03:33,600
distributions they don't necessarily

00:03:30,420 --> 00:03:36,090
answer the specific needs of a

00:03:33,600 --> 00:03:38,940
well-defined target audience so you get

00:03:36,090 --> 00:03:41,010
derivatives and spins you get linux is

00:03:38,940 --> 00:03:45,180
catering to a specific audience

00:03:41,010 --> 00:03:47,190
you get linux distros that use specific

00:03:45,180 --> 00:03:49,620
technologies or specialized technologies

00:03:47,190 --> 00:03:52,200
and you also get linux distros that are

00:03:49,620 --> 00:03:54,330
created just because I mean there are

00:03:52,200 --> 00:03:56,660
Destro's out there that exist because

00:03:54,330 --> 00:04:00,750
somebody wanted a different color scheme

00:03:56,660 --> 00:04:02,730
that's fine I am NOT going to judge

00:04:00,750 --> 00:04:07,130
anyone's reasons for wanting to create

00:04:02,730 --> 00:04:09,870
their own linux distro choice is good i

00:04:07,130 --> 00:04:11,610
do want to highlight one of my favorite

00:04:09,870 --> 00:04:15,260
boutique distros that's called the ames

00:04:11,610 --> 00:04:18,600
desktop it's a it's a debian derivative

00:04:15,260 --> 00:04:22,019
it's the African Institute of

00:04:18,600 --> 00:04:24,300
mathematical sciences I think it

00:04:22,019 --> 00:04:25,770
collects mathematical software all the

00:04:24,300 --> 00:04:28,710
software you need is a professional

00:04:25,770 --> 00:04:33,930
mathematician and it sticks it on one

00:04:28,710 --> 00:04:37,470
Debian debian derived distribution and

00:04:33,930 --> 00:04:41,250
they send around DVDs actual install

00:04:37,470 --> 00:04:43,380
media the reason for this is that a that

00:04:41,250 --> 00:04:44,669
the internet isn't necessarily all that

00:04:43,380 --> 00:04:49,370
good all across Africa

00:04:44,669 --> 00:04:52,169
and so the African mathematical

00:04:49,370 --> 00:04:54,419
faculties at universities that need the

00:04:52,169 --> 00:04:57,870
software find it more convenient to have

00:04:54,419 --> 00:04:59,759
a DVD and I think that's a really cool

00:04:57,870 --> 00:05:04,259
distro it's got a specialized audience

00:04:59,759 --> 00:05:06,509
specialized tools and existing

00:05:04,259 --> 00:05:08,900
installers don't specifically cater to

00:05:06,509 --> 00:05:14,520
it so that's why these Linux distros

00:05:08,900 --> 00:05:16,349
these boutique distros exist a distro

00:05:14,520 --> 00:05:19,379
delivers basically a bunch of packages

00:05:16,349 --> 00:05:22,199
and an installers CD that's the way I

00:05:19,379 --> 00:05:23,460
look at it if you are an actual distro

00:05:22,199 --> 00:05:25,289
person here in the room you probably

00:05:23,460 --> 00:05:27,210
have a different view because a distro

00:05:25,289 --> 00:05:29,069
provides supports and community and

00:05:27,210 --> 00:05:31,710
other things from my point of view

00:05:29,069 --> 00:05:35,129
you're basically in the end providing an

00:05:31,710 --> 00:05:40,529
alive ISO image and there needs to be a

00:05:35,129 --> 00:05:43,169
button install this onto the computer to

00:05:40,529 --> 00:05:44,580
actually do the installation there's a

00:05:43,169 --> 00:05:47,779
whole bunch of steps that need to be

00:05:44,580 --> 00:05:51,479
dealt with certainly if you've got a

00:05:47,779 --> 00:05:53,550
brand new blank machine you're going to

00:05:51,479 --> 00:05:57,330
have to deal with getting the right

00:05:53,550 --> 00:05:59,120
bootloader on there probably something

00:05:57,330 --> 00:06:01,919
like grub you're gonna need to

00:05:59,120 --> 00:06:04,800
repartition thankfully we now almost

00:06:01,919 --> 00:06:08,789
everybody uses GPT so we can at least

00:06:04,800 --> 00:06:11,789
rely on a sensible disk format or a disk

00:06:08,789 --> 00:06:14,729
partitioning thing you're gonna have to

00:06:11,789 --> 00:06:17,310
get your kernel and then once the kernel

00:06:14,729 --> 00:06:20,009
once you've got sort of that basic stuff

00:06:17,310 --> 00:06:22,740
done then you get the customization part

00:06:20,009 --> 00:06:24,900
of your your distro all the packaging if

00:06:22,740 --> 00:06:27,569
you happen to be a distro that is

00:06:24,900 --> 00:06:29,879
delivering the i3 window manager then

00:06:27,569 --> 00:06:32,339
you're going to install I three into the

00:06:29,879 --> 00:06:34,050
target system and set it up so that you

00:06:32,339 --> 00:06:37,199
know when the user starts the system

00:06:34,050 --> 00:06:41,029
they get i3 there any i3 users in the

00:06:37,199 --> 00:06:41,029
room all right

00:06:41,370 --> 00:06:50,250
that's five out of 90 at that it's good

00:06:45,930 --> 00:06:52,080
to keep track of some numbers so a Linux

00:06:50,250 --> 00:06:54,180
installer one that is going to install

00:06:52,080 --> 00:06:58,590
the distro for you has to deal with all

00:06:54,180 --> 00:07:00,320
of those things and you

00:06:58,590 --> 00:07:03,840
look at it in a couple of different ways

00:07:00,320 --> 00:07:06,090
if you really start with the CD and want

00:07:03,840 --> 00:07:08,130
to end up with a running machine you've

00:07:06,090 --> 00:07:11,780
got to do all the things deal with the

00:07:08,130 --> 00:07:11,780
bootloader do the partitioning etc etc

00:07:11,900 --> 00:07:20,010
but not everything is delivered as well

00:07:16,530 --> 00:07:23,610
not every machine is that helpless there

00:07:20,010 --> 00:07:26,700
are in facts hardware vendors that will

00:07:23,610 --> 00:07:28,950
ship you a Linux machine slim book is

00:07:26,700 --> 00:07:30,780
one that's a Spanish laptop a

00:07:28,950 --> 00:07:32,520
distributor so in that case you've

00:07:30,780 --> 00:07:36,390
already got Linux on there but obviously

00:07:32,520 --> 00:07:39,030
it's not got you on it it's some

00:07:36,390 --> 00:07:43,070
standard live user and so there's

00:07:39,030 --> 00:07:43,070
post-delivery configuration to be done

00:07:43,340 --> 00:07:49,230
the vendor that makes this stuff also

00:07:46,620 --> 00:07:51,720
has pre delivery they've got to set up

00:07:49,230 --> 00:07:55,680
the system to get there so we can sort

00:07:51,720 --> 00:07:59,960
of distinguish between the whole the do

00:07:55,680 --> 00:08:04,470
all the things idea from two kinds of om

00:07:59,960 --> 00:08:07,200
setup right all of this was extremely

00:08:04,470 --> 00:08:09,690
generic so far I've just told you about

00:08:07,200 --> 00:08:13,440
you know Linux distros and getting stuff

00:08:09,690 --> 00:08:15,060
installed kalamatas tries to so if

00:08:13,440 --> 00:08:17,700
you're not using one of the big five

00:08:15,060 --> 00:08:19,740
installers there's kalamatas and this is

00:08:17,700 --> 00:08:23,940
sort of where I switch into sales pitch

00:08:19,740 --> 00:08:27,240
mode Joe kalamatas tries to be the base

00:08:23,940 --> 00:08:29,430
for a flexible installer

00:08:27,240 --> 00:08:31,080
it's brandable that means that if you

00:08:29,430 --> 00:08:34,340
are producing your own distro you

00:08:31,080 --> 00:08:37,140
actually can easily get your your

00:08:34,340 --> 00:08:39,680
visuals in there so that it looks like

00:08:37,140 --> 00:08:42,510
someone is installing your stuff and not

00:08:39,680 --> 00:08:48,120
Ubuntu for instance

00:08:42,510 --> 00:08:50,190
Commodus is very I make a point of it

00:08:48,120 --> 00:08:52,530
being independent of distros and

00:08:50,190 --> 00:08:54,570
independent of desktops I'm wearing a

00:08:52,530 --> 00:08:58,170
KDE t-shirt

00:08:54,570 --> 00:09:01,770
that's because I'm a KDE person but

00:08:58,170 --> 00:09:04,170
Callum Addis is not a dis installer for

00:09:01,770 --> 00:09:09,030
KDE distros it's an installer for

00:09:04,170 --> 00:09:11,100
everyone it's used by all those

00:09:09,030 --> 00:09:12,390
derivatives all those boutique distros

00:09:11,100 --> 00:09:14,100
that I showed on the first

00:09:12,390 --> 00:09:15,960
age those are Debian derivatives those

00:09:14,100 --> 00:09:18,540
are Fedora derivatives those are arched

00:09:15,960 --> 00:09:25,020
derivatives so it does cover the entire

00:09:18,540 --> 00:09:26,760
spectrum and so for the rest of my talk

00:09:25,020 --> 00:09:28,320
I'm gonna be sort of talking about how

00:09:26,760 --> 00:09:32,130
kalamatas does these things what it

00:09:28,320 --> 00:09:34,110
looks like and we're not gonna deep dive

00:09:32,130 --> 00:09:37,640
if you want if you have extensive

00:09:34,110 --> 00:09:41,130
questions afterwards talk to me later

00:09:37,640 --> 00:09:43,170
Callum Addis is distro and desktop

00:09:41,130 --> 00:09:45,930
agnostic but it has to pick something

00:09:43,170 --> 00:09:49,230
some technologies to use so it is a cute

00:09:45,930 --> 00:09:54,060
based application it uses cute widgets

00:09:49,230 --> 00:09:55,530
and qml for the actual UI parts I get

00:09:54,060 --> 00:09:59,610
bug reports about this as well because

00:09:55,530 --> 00:10:06,900
when you run it in a gtk based desktop

00:09:59,610 --> 00:10:09,780
it looks slightly off that's acceptable

00:10:06,900 --> 00:10:13,710
I guess and also something we can sit

00:10:09,780 --> 00:10:16,470
down to fix at some point but anyway it

00:10:13,710 --> 00:10:19,560
uses KPM core which is a KDE framework

00:10:16,470 --> 00:10:24,480
or a kitty library for doing partition

00:10:19,560 --> 00:10:27,270
management that in turn uses as SF disk

00:10:24,480 --> 00:10:29,310
as a back-end so there's a couple of

00:10:27,270 --> 00:10:30,630
layers for actually dealing with

00:10:29,310 --> 00:10:35,640
partitioning because partitioning is the

00:10:30,630 --> 00:10:38,280
hard part actually kinda modest uses

00:10:35,640 --> 00:10:43,230
Python for extensibility much of it is

00:10:38,280 --> 00:10:46,140
in C++ that's the the core bits but it

00:10:43,230 --> 00:10:48,390
turns out that I cannot foresee

00:10:46,140 --> 00:10:51,860
everything that distros want to do and

00:10:48,390 --> 00:10:55,080
so that's why there's a Python API

00:10:51,860 --> 00:10:55,940
inside it you run Python scripts inside

00:10:55,080 --> 00:10:59,400
the Installer

00:10:55,940 --> 00:11:00,480
probably not great for security but you

00:10:59,400 --> 00:11:03,570
know if you're if you're doing an

00:11:00,480 --> 00:11:06,480
installer installers are gonna mess up

00:11:03,570 --> 00:11:11,000
your machine anyway so that's why I

00:11:06,480 --> 00:11:11,000
don't I'll stop talking about security

00:11:11,960 --> 00:11:16,200
it uses Python for extensibility that

00:11:14,490 --> 00:11:18,420
also means the distros can experiment a

00:11:16,200 --> 00:11:22,310
bit they can quickly write Python code

00:11:18,420 --> 00:11:24,750
and see if that does the thing they want

00:11:22,310 --> 00:11:26,400
within the Installer

00:11:24,750 --> 00:11:28,290
I find that it

00:11:26,400 --> 00:11:33,810
Python has a lower barrier to entry than

00:11:28,290 --> 00:11:35,490
C++ does even lower barrier to entry is

00:11:33,810 --> 00:11:35,880
the configuration language we just use

00:11:35,490 --> 00:11:39,530
llamo

00:11:35,880 --> 00:11:42,090
everything is straight flats llamo files

00:11:39,530 --> 00:11:46,770
and then there's a whole bunch of

00:11:42,090 --> 00:11:48,840
modules that do the actual work kinda

00:11:46,770 --> 00:11:51,960
modest configuration is split up into

00:11:48,840 --> 00:11:54,120
into three layers there's sort of the

00:11:51,960 --> 00:11:57,180
overall show of what are we going to do

00:11:54,120 --> 00:12:00,960
for installation that tells you things

00:11:57,180 --> 00:12:04,500
like which modules actually have to run

00:12:00,960 --> 00:12:06,630
I've got an example later there's

00:12:04,500 --> 00:12:09,060
specific branding configuration that

00:12:06,630 --> 00:12:11,820
handles the visuals and then individual

00:12:09,060 --> 00:12:18,900
modules have their own configuration as

00:12:11,820 --> 00:12:22,260
well so here's an example from a Manjaro

00:12:18,900 --> 00:12:24,870
install install disk I've I've edited it

00:12:22,260 --> 00:12:27,540
down a bit but basically this is the

00:12:24,870 --> 00:12:30,420
settings file for Manjaro and it says

00:12:27,540 --> 00:12:32,310
we're Manjaro at the top and then in

00:12:30,420 --> 00:12:34,110
order to install Manjaro you've got to

00:12:32,310 --> 00:12:35,970
show the user a couple of things you've

00:12:34,110 --> 00:12:38,150
got to say hi to them welcome to Manjaro

00:12:35,970 --> 00:12:40,440
you're installing Manjaro remember

00:12:38,150 --> 00:12:42,870
you've got to let the user partition the

00:12:40,440 --> 00:12:45,750
disk pick where the distro is going to

00:12:42,870 --> 00:12:49,190
be installed it's a good idea to ask the

00:12:45,750 --> 00:12:52,350
user what's going to be your login name

00:12:49,190 --> 00:12:53,790
and while you're there you ask them for

00:12:52,350 --> 00:12:55,560
their password as well and you check

00:12:53,790 --> 00:12:58,080
that the password is a sufficiently

00:12:55,560 --> 00:13:00,900
strong one that kind of stuff and then

00:12:58,080 --> 00:13:04,310
you give them a summary saying this is

00:13:00,900 --> 00:13:07,830
going to happen please click install and

00:13:04,310 --> 00:13:09,450
then it gets to the fork part where a

00:13:07,830 --> 00:13:11,070
tree de ré does a bunch of these things

00:13:09,450 --> 00:13:13,290
it partitions the disk it mounts the

00:13:11,070 --> 00:13:15,240
disks that it just partitioned and it

00:13:13,290 --> 00:13:17,940
starts unpacking the entire file system

00:13:15,240 --> 00:13:21,090
so this is sort of the high-level

00:13:17,940 --> 00:13:24,090
overview of to install Manjaro do this

00:13:21,090 --> 00:13:26,400
if you have a different distro you can

00:13:24,090 --> 00:13:28,770
use different different steps and if

00:13:26,400 --> 00:13:31,890
you're doing one of those om type

00:13:28,770 --> 00:13:34,800
configurations you would skip

00:13:31,890 --> 00:13:36,960
partitioning for instance you don't have

00:13:34,800 --> 00:13:39,610
to partition if the disk is already

00:13:36,960 --> 00:13:43,370
written full of

00:13:39,610 --> 00:13:47,810
if we move downwards a little to the

00:13:43,370 --> 00:13:51,130
branding part the branding part has a

00:13:47,810 --> 00:13:53,510
bunch of visual things that it defines

00:13:51,130 --> 00:13:55,490
this basically once again tells you that

00:13:53,510 --> 00:13:58,330
it's called Manjaro that's a user

00:13:55,490 --> 00:13:58,330
visible string

00:13:59,080 --> 00:14:06,340
it supports I should mention Kalamata

00:14:02,240 --> 00:14:10,090
supports translations into 52 languages

00:14:06,340 --> 00:14:13,610
I'm very grateful to the crowd-sourced

00:14:10,090 --> 00:14:15,920
translation community because that means

00:14:13,610 --> 00:14:16,310
that you can switch it into Danish or

00:14:15,920 --> 00:14:19,100
Swedish

00:14:16,310 --> 00:14:23,420
and do the thing you can switch it into

00:14:19,100 --> 00:14:24,770
Arabic and you can do the thing some of

00:14:23,420 --> 00:14:26,930
these languages I can actually check

00:14:24,770 --> 00:14:28,820
that the translations make sense and

00:14:26,930 --> 00:14:32,750
some of them I can't I cannot read

00:14:28,820 --> 00:14:35,000
Marathi for instance so I'm trusting

00:14:32,750 --> 00:14:38,020
that translators do a good job there but

00:14:35,000 --> 00:14:38,020
it's wonderful that they're there

00:14:38,890 --> 00:14:44,180
there's some graphic stuffs there's a

00:14:41,030 --> 00:14:46,490
slideshow defined the slideshow is QML

00:14:44,180 --> 00:14:48,860
qml is a very powerful language you can

00:14:46,490 --> 00:14:50,480
do lots of things in qml many people

00:14:48,860 --> 00:14:53,270
many distros just use it to do a

00:14:50,480 --> 00:14:56,780
slideshow you know you get the welcome

00:14:53,270 --> 00:14:59,320
we're a wonderful you linux desktop blah

00:14:56,780 --> 00:15:03,320
blah you know slideshows like that

00:14:59,320 --> 00:15:07,130
wait in qml you can do more you can

00:15:03,320 --> 00:15:09,860
simply plug in a game so I've got at

00:15:07,130 --> 00:15:12,620
least one demonstration live ESO where

00:15:09,860 --> 00:15:15,050
you can play same game a little game

00:15:12,620 --> 00:15:17,540
with marbles that drop down while

00:15:15,050 --> 00:15:20,660
waiting for it to install you know you

00:15:17,540 --> 00:15:25,270
can even use the power of qml to to make

00:15:20,660 --> 00:15:29,030
installation fun moving another step

00:15:25,270 --> 00:15:31,040
downwards in the stack this is the

00:15:29,030 --> 00:15:36,140
configuration specifically of the unn

00:15:31,040 --> 00:15:38,470
squash module so you're going to be

00:15:36,140 --> 00:15:40,580
telling

00:15:38,470 --> 00:15:42,200
once you've partitioned and once you've

00:15:40,580 --> 00:15:44,839
mounted this this you're going to be

00:15:42,200 --> 00:15:47,630
writing information into them and this

00:15:44,839 --> 00:15:50,000
just says well grab that file system

00:15:47,630 --> 00:15:51,680
that squash FS and unpack it into the

00:15:50,000 --> 00:15:52,300
root of the the target and that once

00:15:51,680 --> 00:15:56,560
you've done that

00:15:52,300 --> 00:16:01,990
do this one and so this gives the distro

00:15:56,560 --> 00:16:04,870
maintainer also the opportunity to they

00:16:01,990 --> 00:16:06,970
can they can share various file systems

00:16:04,870 --> 00:16:09,970
they can split things up whatever way

00:16:06,970 --> 00:16:13,810
they like this example just unpacks a

00:16:09,970 --> 00:16:17,620
squash FS it will also unpack tarballs

00:16:13,810 --> 00:16:19,450
it can copy entire file systems if you

00:16:17,620 --> 00:16:22,480
happen to have a block for block image

00:16:19,450 --> 00:16:25,420
of a file system it will you can also

00:16:22,480 --> 00:16:29,460
tell it to DD that over top of something

00:16:25,420 --> 00:16:32,860
it's kind of a risky way to do it but

00:16:29,460 --> 00:16:34,690
you can so there's a lot of different

00:16:32,860 --> 00:16:43,270
configuration possibilities just for on

00:16:34,690 --> 00:16:45,520
squash so an important part in in sort

00:16:43,270 --> 00:16:47,410
of my daily kalamatas work is dealing

00:16:45,520 --> 00:16:50,380
with downstream dealing with the distros

00:16:47,410 --> 00:16:53,470
that use kalamatas and i'm happy that we

00:16:50,380 --> 00:16:56,650
have a really good relationship

00:16:53,470 --> 00:16:58,990
I get paid to work on kalamatas but I'm

00:16:56,650 --> 00:17:01,390
not paid by any of those distros and my

00:16:58,990 --> 00:17:06,120
instructions are do what the distros

00:17:01,390 --> 00:17:09,580
want so that's sort of a weird service

00:17:06,120 --> 00:17:12,910
ya service to the boutique distros

00:17:09,580 --> 00:17:16,150
everywhere I like it because it gets me

00:17:12,910 --> 00:17:18,570
food and it improves the world for all

00:17:16,150 --> 00:17:23,190
those boutique 'ln linux distros

00:17:18,570 --> 00:17:26,050
kalamatas provides the framework i

00:17:23,190 --> 00:17:32,310
produced the shows i produce the code I

00:17:26,050 --> 00:17:34,900
publish it it's all gplv3 distros

00:17:32,310 --> 00:17:38,500
basically packaged up kalamatas plus a

00:17:34,900 --> 00:17:44,290
configuration and use that on their on

00:17:38,500 --> 00:17:47,620
their iso images distros propose new

00:17:44,290 --> 00:17:50,250
features all the time they want to do

00:17:47,620 --> 00:17:53,740
something new with user management or

00:17:50,250 --> 00:17:56,020
they want to do special package handling

00:17:53,740 --> 00:17:58,540
or they've realized that firefox

00:17:56,020 --> 00:18:00,850
translations firefox translations are

00:17:58,540 --> 00:18:02,920
important but lots of distros packaged

00:18:00,850 --> 00:18:04,990
them separately from firefox the

00:18:02,920 --> 00:18:08,980
executable

00:18:04,990 --> 00:18:12,100
so yes there's something in kalamatas to

00:18:08,980 --> 00:18:13,720
specially handle translation packages so

00:18:12,100 --> 00:18:16,570
that if you install your system in

00:18:13,720 --> 00:18:20,380
German you will get Firefox in German as

00:18:16,570 --> 00:18:23,200
well distros proposed these features

00:18:20,380 --> 00:18:25,570
they get too developed somewhere because

00:18:23,200 --> 00:18:28,600
there's the Python mod Python API for

00:18:25,570 --> 00:18:30,160
extensibility the distros can actually

00:18:28,600 --> 00:18:32,580
write the modules themselves and say

00:18:30,160 --> 00:18:35,550
here is a module that does what we want

00:18:32,580 --> 00:18:37,570
that gets once that developers

00:18:35,550 --> 00:18:40,300
development has happened somewhere

00:18:37,570 --> 00:18:42,280
things get moved upstream I ride to

00:18:40,300 --> 00:18:44,770
collect things from downstream as much

00:18:42,280 --> 00:18:48,280
as possible and when I collect them I

00:18:44,770 --> 00:18:50,260
generalize and document and then make

00:18:48,280 --> 00:18:53,320
sure that it's usable for others so I

00:18:50,260 --> 00:18:57,340
try to to sort of expand the framework

00:18:53,320 --> 00:19:00,429
when I can with useful features for the

00:18:57,340 --> 00:19:03,850
rest of the world sometimes distros do

00:19:00,429 --> 00:19:05,740
stuff that isn't applicable elsewhere at

00:19:03,850 --> 00:19:10,240
that point I go like okay you can keep

00:19:05,740 --> 00:19:14,650
your own stuff but most of the time

00:19:10,240 --> 00:19:18,280
things are are up streamed like some

00:19:14,650 --> 00:19:22,870
recent work that I've been doing is xdg

00:19:18,280 --> 00:19:29,050
support I showed you a bunch of llamó

00:19:22,870 --> 00:19:32,559
files that do configuration often a

00:19:29,050 --> 00:19:35,890
single distro multiple iso images or

00:19:32,559 --> 00:19:38,350
multiple flavors of the same thing and

00:19:35,890 --> 00:19:40,210
it can be nice to just have one set of

00:19:38,350 --> 00:19:46,240
configuration files for the for the

00:19:40,210 --> 00:19:47,470
whole job so I added better xdg config

00:19:46,240 --> 00:19:48,880
deer's supports

00:19:47,470 --> 00:19:51,370
two column addis so that you can

00:19:48,880 --> 00:19:54,160
basically write one set of config files

00:19:51,370 --> 00:19:56,050
and sort of pick and choose bits and

00:19:54,160 --> 00:19:58,990
pieces of the conflict files that you

00:19:56,050 --> 00:20:01,480
want that's in particular nice for KDE

00:19:58,990 --> 00:20:03,550
neon which produces five or six

00:20:01,480 --> 00:20:08,620
different iso images which are all

00:20:03,550 --> 00:20:10,780
subtly different open RC support some

00:20:08,620 --> 00:20:16,030
distro decided they didn't like system D

00:20:10,780 --> 00:20:17,500
and wanted open RC and that actually

00:20:16,030 --> 00:20:18,279
took a fair amount of polishing to get

00:20:17,500 --> 00:20:19,899
it to get it

00:20:18,279 --> 00:20:22,330
right so that it would interoperate

00:20:19,899 --> 00:20:25,119
properly but within kalamatas you can

00:20:22,330 --> 00:20:27,159
say we're gonna configure system D or

00:20:25,119 --> 00:20:29,799
we're going to configure open our C or

00:20:27,159 --> 00:20:35,979
you can skip it entirely if you if you

00:20:29,799 --> 00:20:39,429
like I am NOT going to judge a distro on

00:20:35,979 --> 00:20:43,919
their init system choice is good

00:20:39,429 --> 00:20:46,179
recently I added app image packaging I

00:20:43,919 --> 00:20:48,279
felt kind of weird about doing that

00:20:46,179 --> 00:20:50,909
because having an installer which is

00:20:48,279 --> 00:20:56,700
supposed to run us route as an app image

00:20:50,909 --> 00:20:59,679
seems weird but in post delivery can

00:20:56,700 --> 00:21:02,710
situations so OEM configurations it may

00:20:59,679 --> 00:21:05,559
make sense because typically if you've

00:21:02,710 --> 00:21:08,529
delivered a laptop and it has this click

00:21:05,559 --> 00:21:10,499
here to configure after it's configured

00:21:08,529 --> 00:21:13,960
you want to get rid of that button and

00:21:10,499 --> 00:21:15,849
an app image or a flat pack is easier to

00:21:13,960 --> 00:21:17,799
get rid of than something that's package

00:21:15,849 --> 00:21:20,859
installed because you can just remove

00:21:17,799 --> 00:21:22,330
the file and it's gone so we had quite a

00:21:20,859 --> 00:21:24,669
long argument about whether or not a

00:21:22,330 --> 00:21:29,769
pitch made sense in the end we decided

00:21:24,669 --> 00:21:33,460
yep let's do it I've mentioned om mode a

00:21:29,769 --> 00:21:36,210
couple of times there's there's many

00:21:33,460 --> 00:21:38,769
improvements to be made there I'm in

00:21:36,210 --> 00:21:41,529
conversation with some manufacturers

00:21:38,769 --> 00:21:44,649
with some distros to to figure out what

00:21:41,529 --> 00:21:47,080
to do exactly there people ask for

00:21:44,649 --> 00:21:48,909
scripted mode as well if you're familiar

00:21:47,080 --> 00:21:51,219
with any of their Red Hat offerings

00:21:48,909 --> 00:21:54,399
you've got all the quick starts you can

00:21:51,219 --> 00:21:58,659
you can basically roll out images very

00:21:54,399 --> 00:22:00,070
easily it would be nice in some cases to

00:21:58,659 --> 00:22:03,700
be able to do the same with kalamatas

00:22:00,070 --> 00:22:07,619
and while I don't pretend that we're

00:22:03,700 --> 00:22:11,080
ever going to be enterprise-grade

00:22:07,619 --> 00:22:13,169
installations it's good to work towards

00:22:11,080 --> 00:22:13,169
that

00:22:13,710 --> 00:22:19,690
so that's stuff that's upcoming I said

00:22:17,950 --> 00:22:21,429
earlier we have a good eye I have a good

00:22:19,690 --> 00:22:22,779
relationship with with downstream I

00:22:21,429 --> 00:22:25,570
would like you to be downstream as well

00:22:22,779 --> 00:22:29,580
or I would like you to be involved in

00:22:25,570 --> 00:22:32,230
kilometers development yourself you can

00:22:29,580 --> 00:22:35,679
find us on the web

00:22:32,230 --> 00:22:41,320
on IRC feel free to ping me by email or

00:22:35,679 --> 00:22:45,399
whatever I do actually spend time

00:22:41,320 --> 00:22:47,260
labeling issues as help-wanted those are

00:22:45,399 --> 00:22:50,740
issues that I think are reasonably well

00:22:47,260 --> 00:22:55,600
can self contained have a user visible

00:22:50,740 --> 00:22:58,230
impact but aren't hugely hazardous so I

00:22:55,600 --> 00:23:00,820
do encourage new people to contribute

00:22:58,230 --> 00:23:04,269
get involved thanks for listening

00:23:00,820 --> 00:23:14,409
and that was my talk

00:23:04,269 --> 00:23:24,190
there's the license on my talk are there

00:23:14,409 --> 00:23:28,179
questions there's a mic why don't you

00:23:24,190 --> 00:23:33,700
spell calamitous with a key I did not

00:23:28,179 --> 00:23:36,669
name the the application it just happens

00:23:33,700 --> 00:23:39,159
to be with a C maybe you're asking why

00:23:36,669 --> 00:23:43,720
it's not a K because I'm a KDE person in

00:23:39,159 --> 00:23:46,210
case he has this horrible had this

00:23:43,720 --> 00:23:48,100
horrible naming convention we go out of

00:23:46,210 --> 00:23:48,899
our way not to name things with a K

00:23:48,100 --> 00:23:53,649
anymore

00:23:48,899 --> 00:23:55,929
okay thank you I could also say because

00:23:53,649 --> 00:24:01,419
I'm not Greek I don't spell calamitous

00:23:55,929 --> 00:24:03,809
with a K yeah there was another question

00:24:01,419 --> 00:24:03,809
over

00:24:09,280 --> 00:24:14,450
would use one comment and one question

00:24:11,390 --> 00:24:18,080
the comment is that actually sixth Andy

00:24:14,450 --> 00:24:20,960
came after OPA opener see that's fine

00:24:18,080 --> 00:24:22,550
so I mean you started implementing

00:24:20,960 --> 00:24:25,730
system defense that's totally fine but

00:24:22,550 --> 00:24:28,730
it should be noted that openness II was

00:24:25,730 --> 00:24:31,970
earlier the question is have you

00:24:28,730 --> 00:24:34,190
considered setting hoppers in qss or

00:24:31,970 --> 00:24:35,990
some other text console basic

00:24:34,190 --> 00:24:37,700
installation process installation

00:24:35,990 --> 00:24:41,420
graphical interface other than the QT

00:24:37,700 --> 00:24:43,670
basic one so the question is is there a

00:24:41,420 --> 00:24:48,770
is there a command line or a text-based

00:24:43,670 --> 00:24:51,380
version I've thought about it that kind

00:24:48,770 --> 00:24:59,660
of hooks into the scripted mode that I

00:24:51,380 --> 00:25:05,510
mentioned it's not high on my priorities

00:24:59,660 --> 00:25:09,020
lists and and part of that is simply the

00:25:05,510 --> 00:25:12,290
UI is written in cute and it with cute

00:25:09,020 --> 00:25:14,620
widgets and ripping out the UI layer is

00:25:12,290 --> 00:25:17,150
is a surprisingly large amount of work

00:25:14,620 --> 00:25:23,050
people have asked me in fact if I

00:25:17,150 --> 00:25:23,050
couldn't do a gtk based UI as well I

00:25:23,350 --> 00:25:30,110
think it would be possible because the

00:25:26,630 --> 00:25:34,100
core part is cute

00:25:30,110 --> 00:25:37,340
which uses the G Lib event loop so I

00:25:34,100 --> 00:25:40,130
probably could create gtk widgets on

00:25:37,340 --> 00:25:42,350
that G live event loop and and switch

00:25:40,130 --> 00:25:45,140
out the UI that way but that's the kind

00:25:42,350 --> 00:25:47,030
of terrifying Frankenstein thing that I

00:25:45,140 --> 00:25:49,640
would gladly leave to someone else

00:25:47,030 --> 00:25:54,080
text mode on the other hand I like text

00:25:49,640 --> 00:25:54,440
mode it's just not it hasn't happened

00:25:54,080 --> 00:25:57,800
yet

00:25:54,440 --> 00:26:01,670
and it's fairly low priority again

00:25:57,800 --> 00:26:05,450
because for the boutique distros with an

00:26:01,670 --> 00:26:06,290
install CD text mode just feels really

00:26:05,450 --> 00:26:08,360
old-school

00:26:06,290 --> 00:26:10,010
I mean if you're gonna end up with it if

00:26:08,360 --> 00:26:15,650
you want a text mode installer you

00:26:10,010 --> 00:26:17,930
should install freebsd or debian does

00:26:15,650 --> 00:26:20,450
that answer your question okay good

00:26:17,930 --> 00:26:24,840
other questions

00:26:20,450 --> 00:26:28,150
brickbats none at all

00:26:24,840 --> 00:26:30,210
then I'm done thanks for listening

00:26:28,150 --> 00:26:30,210
you

00:26:38,310 --> 00:26:40,370

YouTube URL: https://www.youtube.com/watch?v=O6wt87SNX8w


