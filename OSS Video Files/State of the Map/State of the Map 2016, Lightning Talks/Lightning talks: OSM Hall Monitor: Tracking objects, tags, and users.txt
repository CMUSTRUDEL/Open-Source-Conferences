Title: Lightning talks: OSM Hall Monitor: Tracking objects, tags, and users
Publication date: 2016-10-22
Playlist: State of the Map 2016, Lightning Talks
Description: 
	Ethan Nelson at State of the Map 2016
http://2016.stateofthemap.org/2016/osm-hall-monitor/

This session will introduce the OSM Hall Monitor, a Python module that employs a watch list to screen recent changes to OSM for activity by particular users, modifications to certain objects, and edits involving specific tags. It also provides the capability for notification whenever a flagged event occurs.
Captions: 
	00:00:00,260 --> 00:00:05,520
alright so good afternoon I just wanted

00:00:03,210 --> 00:00:06,779
to present tool i've been working on and

00:00:05,520 --> 00:00:08,820
really helped me with my data working

00:00:06,779 --> 00:00:11,010
group workflow but i'm hoping it might

00:00:08,820 --> 00:00:13,559
be useful to other people and it's

00:00:11,010 --> 00:00:16,289
called the OpenStreetMap hall monitor so

00:00:13,559 --> 00:00:19,350
if you're not familiar this hopefully

00:00:16,289 --> 00:00:22,470
help you determine what it does a hall

00:00:19,350 --> 00:00:23,970
monitor is someone a volunteer in a

00:00:22,470 --> 00:00:25,289
school who stands in the hall and

00:00:23,970 --> 00:00:28,260
essentially monitors that if something

00:00:25,289 --> 00:00:29,730
nefarious or bad is going on they report

00:00:28,260 --> 00:00:33,000
the authorities in this case this guy

00:00:29,730 --> 00:00:34,739
with the vest here so a challenge we

00:00:33,000 --> 00:00:37,140
have with open stricken with

00:00:34,739 --> 00:00:40,260
openstreetmap is that users can't

00:00:37,140 --> 00:00:42,420
subscribe to object updates and either

00:00:40,260 --> 00:00:44,789
tracking objects or users requires some

00:00:42,420 --> 00:00:47,789
sort of manual checking either running a

00:00:44,789 --> 00:00:49,680
new query or scrolling through the

00:00:47,789 --> 00:00:51,390
history something like that so the

00:00:49,680 --> 00:00:53,879
opportunity here is that we can create a

00:00:51,390 --> 00:00:56,160
lightweight automated tool to scan these

00:00:53,879 --> 00:00:58,949
change sets and also notify whenever

00:00:56,160 --> 00:01:00,930
there is something that happens so

00:00:58,949 --> 00:01:03,300
there's two basic things here first is

00:01:00,930 --> 00:01:05,460
the base python package which

00:01:03,300 --> 00:01:07,890
essentially has a database of things to

00:01:05,460 --> 00:01:10,680
track whether it be people objects or

00:01:07,890 --> 00:01:13,140
even key values and then it pulls in the

00:01:10,680 --> 00:01:15,780
dip files could be either minute our day

00:01:13,140 --> 00:01:18,090
resolution from the planet server and

00:01:15,780 --> 00:01:20,759
then it scans those for any events that

00:01:18,090 --> 00:01:24,540
might be in the tracking database and

00:01:20,759 --> 00:01:26,720
then if it sees something that did

00:01:24,540 --> 00:01:29,070
happen then it will log that and also

00:01:26,720 --> 00:01:31,079
optionally provide a notification and

00:01:29,070 --> 00:01:33,600
then also a second part that I've been

00:01:31,079 --> 00:01:34,979
working on is sort of a web interface

00:01:33,600 --> 00:01:38,220
for this so you don't have to deal with

00:01:34,979 --> 00:01:40,259
the command line to really make it

00:01:38,220 --> 00:01:42,840
easier for managing the database and

00:01:40,259 --> 00:01:46,680
also looking at the logs and then

00:01:42,840 --> 00:01:50,909
finally allowing multiple users to use

00:01:46,680 --> 00:01:53,159
it so it's easy to install through

00:01:50,909 --> 00:01:55,409
Python you can just pull these with pip

00:01:53,159 --> 00:01:58,079
the two different packages there create

00:01:55,409 --> 00:02:00,450
a database and supply those variables

00:01:58,079 --> 00:02:02,189
into Python and then you can add

00:02:00,450 --> 00:02:05,040
something to track and then there is

00:02:02,189 --> 00:02:08,149
just an overarching run program that

00:02:05,040 --> 00:02:11,939
does pretty much everything for you so

00:02:08,149 --> 00:02:14,500
one case study here pokey stops that

00:02:11,939 --> 00:02:15,700
surged a little bit in popularity with

00:02:14,500 --> 00:02:17,799
people trying to add them to the

00:02:15,700 --> 00:02:20,739
database and really they're just

00:02:17,799 --> 00:02:23,230
fictional things so what I've done is I

00:02:20,739 --> 00:02:25,030
had simply added a tag here if there was

00:02:23,230 --> 00:02:27,760
a name with something like pokemon or

00:02:25,030 --> 00:02:30,010
pokey stop then it would email me and

00:02:27,760 --> 00:02:34,599
sure enough not long after there were

00:02:30,010 --> 00:02:36,430
already two cases that I did that and so

00:02:34,599 --> 00:02:39,609
what it would do is he email me and tell

00:02:36,430 --> 00:02:42,510
me essentially the change set the user

00:02:39,609 --> 00:02:45,909
responsible and what actually happened

00:02:42,510 --> 00:02:47,230
another example edit Wars so that's

00:02:45,909 --> 00:02:50,709
something we have to deal with some time

00:02:47,230 --> 00:02:52,209
so I blocked it i'm not trying to call

00:02:50,709 --> 00:02:55,599
anyone out but just looking at a

00:02:52,209 --> 00:02:57,670
relation that was contingent and had a

00:02:55,599 --> 00:03:00,430
lot of activity here so again this is

00:02:57,670 --> 00:03:01,959
just the the entry in the tracking

00:03:00,430 --> 00:03:04,329
database and then if you look at the log

00:03:01,959 --> 00:03:06,099
here over the course of a few days many

00:03:04,329 --> 00:03:08,620
different people modifying the object

00:03:06,099 --> 00:03:11,079
and eventually it just being deleted so

00:03:08,620 --> 00:03:13,480
every time someone had edited this

00:03:11,079 --> 00:03:16,720
object I got an email I was able to

00:03:13,480 --> 00:03:18,639
check it and see what was happening so

00:03:16,720 --> 00:03:20,829
there are other applications you can

00:03:18,639 --> 00:03:22,720
think of at least from a data working

00:03:20,829 --> 00:03:23,889
group perspective thinking about looking

00:03:22,720 --> 00:03:25,060
at people who have been blocked for some

00:03:23,889 --> 00:03:27,609
reason and right when they get unblocked

00:03:25,060 --> 00:03:29,829
it's just a proactive way of checking up

00:03:27,609 --> 00:03:31,810
on these users maybe you've added it

00:03:29,829 --> 00:03:32,889
about added a bunch of objects in your

00:03:31,810 --> 00:03:36,730
town and you just want to make sure

00:03:32,889 --> 00:03:38,440
people aren't deleting it or if people

00:03:36,730 --> 00:03:40,449
are tagging objects with sources that

00:03:38,440 --> 00:03:42,459
really aren't compatible with the

00:03:40,449 --> 00:03:45,280
OpenStreetMap license you could do that

00:03:42,459 --> 00:03:46,959
that sort of thing so just to wrap up

00:03:45,280 --> 00:03:48,760
it's kind of a big brother surveillance

00:03:46,959 --> 00:03:50,979
for openstreetmap you don't have to

00:03:48,760 --> 00:03:53,169
worry about creating a database and

00:03:50,979 --> 00:03:56,290
initially of all the OpenStreetMap data

00:03:53,169 --> 00:03:59,079
and then comparing it it just leverages

00:03:56,290 --> 00:04:02,590
the ability to scan these diff files and

00:03:59,079 --> 00:04:04,870
it's still in its infancy but I think

00:04:02,590 --> 00:04:06,069
it's fairly stable and then happy to

00:04:04,870 --> 00:04:07,540
collaborate with anyone or if you have

00:04:06,069 --> 00:04:11,099
any ideas for this to take it further

00:04:07,540 --> 00:04:11,099
and with that I'll take any questions

00:04:13,200 --> 00:04:24,900
I could it could it be set so that for

00:04:22,470 --> 00:04:27,750
example country book country boundaries

00:04:24,900 --> 00:04:32,070
could automatically not be deleted or

00:04:27,750 --> 00:04:33,300
flag up if they were yeah so that's

00:04:32,070 --> 00:04:34,770
actually one of the things I'm

00:04:33,300 --> 00:04:37,260
particularly interested in with this and

00:04:34,770 --> 00:04:38,940
I do track those generally at least the

00:04:37,260 --> 00:04:46,889
ones that are often prone to these edit

00:04:38,940 --> 00:04:49,410
Wars right quick question about IDs have

00:04:46,889 --> 00:04:56,190
you considered wiki Vega IDs as one of

00:04:49,410 --> 00:04:57,479
the I Dean concepts in terms of the key

00:04:56,190 --> 00:05:00,120
that you add you could adding sort of

00:04:57,479 --> 00:05:01,290
thing on there you can even add

00:05:00,120 --> 00:05:10,950
wildcards that sort of thing but yeah

00:05:01,290 --> 00:05:13,320
that's something to keep track so in

00:05:10,950 --> 00:05:14,970
case of Pokemon later on they can be

00:05:13,320 --> 00:05:18,510
like hundreds of people adding these

00:05:14,970 --> 00:05:20,310
things and how to distribute that these

00:05:18,510 --> 00:05:21,389
works among you and amount community so

00:05:20,310 --> 00:05:23,220
that like other people can also

00:05:21,389 --> 00:05:24,510
contribute and it's not only one single

00:05:23,220 --> 00:05:30,720
person who is looking at all these

00:05:24,510 --> 00:05:32,220
things yeah well I mean my ultimate goal

00:05:30,720 --> 00:05:34,139
would be to have something that everyone

00:05:32,220 --> 00:05:37,050
could just log into and do themselves

00:05:34,139 --> 00:05:38,610
with the tracking it hasn't been too

00:05:37,050 --> 00:05:40,770
overwhelming and I mean other people

00:05:38,610 --> 00:05:42,750
have been also looking for these besides

00:05:40,770 --> 00:05:44,160
me but eventually I would like to have a

00:05:42,750 --> 00:05:49,800
community tool than anyone could log in

00:05:44,160 --> 00:05:51,960
and add anything that will attract it is

00:05:49,800 --> 00:05:54,660
possible to monitor a given bounding box

00:05:51,960 --> 00:06:00,630
to see the changes let's say in your

00:05:54,660 --> 00:06:01,950
neighborhood or yeah I didn't that's not

00:06:00,630 --> 00:06:03,870
built into my tool specifically because

00:06:01,950 --> 00:06:05,760
there a lot of others I know Pascal has

00:06:03,870 --> 00:06:12,710
one that's like an RSS feed those sorts

00:06:05,760 --> 00:06:12,710
of things any more questions

00:06:13,890 --> 00:06:17,850

YouTube URL: https://www.youtube.com/watch?v=UabKDUqEq-w


