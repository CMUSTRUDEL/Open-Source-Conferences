Title: 2019: Pedestrian routing in complex areas : the case of Paris railway stations
Publication date: 2020-07-18
Playlist: State of the Map 2019
Description: 
	Have you ever been lost inside a gigantic railway station? SNCF, the french railway company, is developing a pedestrian routing and navigation service to help travelers find their way inside and around railway stations. This talk exposes the challenges and how they have been addressed to provide a robust solution that can handle the great variety of data as well as routing through open spaces.

SNCF, the french railway company, has been using OpenStreetMap to map railway stations for years. Since 2016, travelers can explore all 380 railway stations of the Greater Paris area through interactive maps deployed on their web site and on a mobile app. 

Browsing a map is good, but not good enough when you are lost inside a complex, multilevel, indoor (and/or outdoor) environment. It gets worse for someone in a wheelchair, elderly people, or anyone coming back from a family trip with more luggage than your hands could carry.

What if we could bring pedestrian routing and navigation services to help travelers find their way inside and around railway stations? Could we do it using OSM data? 

This is the challenge SNCF has been trying to tackle for the past few months. Together with Jawg Maps and Carto’Cité, they held a detailed mapping campaign on 83 stations and developed a dedicated routing engine. This engine can seamlessly navigate indoors and outdoors, and achieves routing through open spaces such as pedestrian areas and station halls.

This talk exposes the challenges we faced. It focuses on the data structure and the algorithmic strategies that have been defined to provide a robust navigation service, and its ability to handle the great diversity of railway stations. The talk also discusses how some parts of the data model originally designed for road navigation could be used for pedestrian routing – with some minor tweaks.

If you thought mapping stairs was trivial, you would be surprised…

Antoine Riche

https://pretalx.com/sotm2019/talk/AT9YPK/
Captions: 
	00:00:07,550 --> 00:00:17,530
hello the next session will be this

00:00:12,860 --> 00:00:27,590
afternoon please welcome and three on

00:00:17,530 --> 00:00:31,370
Bethune Antonio Ricci please welcome all

00:00:27,590 --> 00:00:33,170
right can you hear me fine yeah okay so

00:00:31,370 --> 00:00:33,620
first of all thanks for coming to this

00:00:33,170 --> 00:00:35,870
talk

00:00:33,620 --> 00:00:38,690
my name is Adriana Thoth I'm a developer

00:00:35,870 --> 00:00:41,329
of maps and my name is not vanish

00:00:38,690 --> 00:00:42,950
I created Kelton City five years ago and

00:00:41,329 --> 00:00:46,550
I've been working with the Center for

00:00:42,950 --> 00:00:51,140
Syria to map railway stations basically

00:00:46,550 --> 00:00:53,690
the greater Paris area since 2016 yeah

00:00:51,140 --> 00:00:56,120
so since this yeah we've been working on

00:00:53,690 --> 00:00:59,600
pedestrian routing inside and around

00:00:56,120 --> 00:01:02,210
train station so first I have a question

00:00:59,600 --> 00:01:04,339
for you how many of you arrived to

00:01:02,210 --> 00:01:07,790
Heidelberg by train I know I did

00:01:04,339 --> 00:01:10,340
okay so almost all of you nice so maybe

00:01:07,790 --> 00:01:14,659
you'll be able to relate to the story I

00:01:10,340 --> 00:01:17,060
have for you my story takes place in one

00:01:14,659 --> 00:01:20,929
of the biggest train station of Paris

00:01:17,060 --> 00:01:23,509
and a traveler just arrived at the train

00:01:20,929 --> 00:01:25,719
station it's past midnight she's tired

00:01:23,509 --> 00:01:28,729
she's just thinking about going to sleep

00:01:25,719 --> 00:01:30,459
but she also thought about booking a

00:01:28,729 --> 00:01:33,590
hotel just next to the train station

00:01:30,459 --> 00:01:35,779
well one of the train station because

00:01:33,590 --> 00:01:37,969
there are multiple in Paris and she

00:01:35,779 --> 00:01:42,109
chose the one at the other side of the

00:01:37,969 --> 00:01:45,200
city bad luck but she soon finds out

00:01:42,109 --> 00:01:48,859
that she has to take the night bus no.2

00:01:45,200 --> 00:01:56,200
and after a bit of looking around she

00:01:48,859 --> 00:01:57,709
finds this all right so that's number

00:01:56,200 --> 00:02:00,109
no.2

00:01:57,709 --> 00:02:03,429
she has to take the exit number three or

00:02:00,109 --> 00:02:07,450
number four right so so far so good

00:02:03,429 --> 00:02:07,450
but she also finds this

00:02:07,470 --> 00:02:12,400
okay it gets harder right because for

00:02:10,509 --> 00:02:15,879
some people reading a map can be very

00:02:12,400 --> 00:02:19,750
hard but for big complex train stations

00:02:15,879 --> 00:02:28,510
even harder and as you can produce gas

00:02:19,750 --> 00:02:31,750
it can be very stressful yes and the

00:02:28,510 --> 00:02:36,299
problem of getting users to translations

00:02:31,750 --> 00:02:39,670
is a very hard problem and one which

00:02:36,299 --> 00:02:44,739
SNCF and Mysterio has been trained to

00:02:39,670 --> 00:02:47,260
solve for a long time in 2016

00:02:44,739 --> 00:02:51,940
they started proposing an online map of

00:02:47,260 --> 00:02:55,540
all translation of the region of Paris

00:02:51,940 --> 00:03:07,420
so and of course it's a map based on

00:02:55,540 --> 00:03:09,879
Ison and for there are a lot of

00:03:07,420 --> 00:03:11,829
translation in in the region there are

00:03:09,879 --> 00:03:16,209
three hundred three hundred eighty of

00:03:11,829 --> 00:03:17,950
them so it's not only about consuming

00:03:16,209 --> 00:03:21,579
the data because you can't really expect

00:03:17,950 --> 00:03:23,799
to have a good quality data of all

00:03:21,579 --> 00:03:27,849
translation in the region it's also

00:03:23,799 --> 00:03:29,829
about contributing so we've had Antoine

00:03:27,849 --> 00:03:32,190
and his team go into the train station

00:03:29,829 --> 00:03:34,959
to map them we've told you that if all

00:03:32,190 --> 00:03:37,959
388 railway stations of a greater

00:03:34,959 --> 00:03:40,239
province area so well we have mapped by

00:03:37,959 --> 00:03:42,940
the community obviously but for some of

00:03:40,239 --> 00:03:46,269
the complex railway station you can only

00:03:42,940 --> 00:03:50,680
have good data good quality data with

00:03:46,269 --> 00:03:52,419
some quite extensive work so what we've

00:03:50,680 --> 00:03:54,609
been doing for some of the most complex

00:03:52,419 --> 00:03:58,989
railway stations such as the railway

00:03:54,609 --> 00:04:01,120
station of Paris we were given architect

00:03:58,989 --> 00:04:02,770
plans which we use to create a structure

00:04:01,120 --> 00:04:05,290
of the machine

00:04:02,770 --> 00:04:07,630
level or away stationed when we had no

00:04:05,290 --> 00:04:09,310
architect path we were working into the

00:04:07,630 --> 00:04:11,470
station with a telemeter and taking

00:04:09,310 --> 00:04:16,540
measures and continent steps as you can

00:04:11,470 --> 00:04:18,459
see on the on the left and and also when

00:04:16,540 --> 00:04:21,190
we've done that we go into the station

00:04:18,459 --> 00:04:23,410
and take thousands of pictures a set of

00:04:21,190 --> 00:04:25,780
four pictures if we fall four or five

00:04:23,410 --> 00:04:28,600
meters with his device built by Stefan

00:04:25,780 --> 00:04:30,010
which you can see here and with all this

00:04:28,600 --> 00:04:32,080
picture we don't need to go to the

00:04:30,010 --> 00:04:34,120
station again to mark we got everything

00:04:32,080 --> 00:04:38,560
all the information we need to create

00:04:34,120 --> 00:04:40,780
the data or jozin so yeah but it's a lot

00:04:38,560 --> 00:04:43,680
of work but sadly as we saw earlier

00:04:40,780 --> 00:04:46,630
sometimes a map is just not enough

00:04:43,680 --> 00:04:49,450
especially world like ours were we so

00:04:46,630 --> 00:04:50,980
used to be guided everywhere I don't

00:04:49,450 --> 00:04:54,540
know about you but I had my phone out

00:04:50,980 --> 00:05:01,800
with routing software to get here and

00:04:54,540 --> 00:05:04,270
our users except if well expect that

00:05:01,800 --> 00:05:06,640
they expect that they expect to be

00:05:04,270 --> 00:05:10,840
guided from the time they get at the

00:05:06,640 --> 00:05:13,510
station to the destination and routing

00:05:10,840 --> 00:05:17,260
is nothing new right there's been

00:05:13,510 --> 00:05:19,240
working solutions for yeah so and also

00:05:17,260 --> 00:05:21,910
in the OSM ecosystem as you probably

00:05:19,240 --> 00:05:24,850
know we have very good working solutions

00:05:21,910 --> 00:05:29,560
so we thought why not why not try that

00:05:24,850 --> 00:05:34,090
and so we did and here we have an

00:05:29,560 --> 00:05:36,700
example with voice our end so yeah it's

00:05:34,090 --> 00:05:40,210
not going very well we put our starting

00:05:36,700 --> 00:05:42,850
points on the platform and the software

00:05:40,210 --> 00:05:45,640
basic basically tells us to teleport to

00:05:42,850 --> 00:05:49,690
the street above and then follow it to

00:05:45,640 --> 00:05:52,660
the destination so yeah and it's it's

00:05:49,690 --> 00:05:54,730
nothing against our SRM and or any other

00:05:52,660 --> 00:05:57,010
routing software they were just not

00:05:54,730 --> 00:06:00,820
designed for that they were designed for

00:05:57,010 --> 00:06:04,000
outdoor not Indo so we knew that we had

00:06:00,820 --> 00:06:08,170
to develop something new to propose this

00:06:04,000 --> 00:06:11,530
video to our user so in next 15 minutes

00:06:08,170 --> 00:06:12,539
we're going to go over the things we had

00:06:11,530 --> 00:06:17,849
to end on

00:06:12,539 --> 00:06:21,150
to propose this feature so the first

00:06:17,849 --> 00:06:22,979
thing we have to do is well if you start

00:06:21,150 --> 00:06:27,509
from scratch you have to end on the rod

00:06:22,979 --> 00:06:30,300
netting the rod networks the firstly

00:06:27,509 --> 00:06:33,750
that we imported into the routing

00:06:30,300 --> 00:06:36,719
engineer he wrote is a roads and foot

00:06:33,750 --> 00:06:38,310
ways and we credit everything when you

00:06:36,719 --> 00:06:40,169
come to pedestrian routing who dis

00:06:38,310 --> 00:06:43,020
language I will

00:06:40,169 --> 00:06:47,099
why linear things which are designed for

00:06:43,020 --> 00:06:49,969
pedestrians to walk up and would share

00:06:47,099 --> 00:06:52,919
between vehicles and pedestrians and

00:06:49,969 --> 00:06:57,210
actually most of the roads on the map a

00:06:52,919 --> 00:07:00,240
treemap words designed for for vehicles

00:06:57,210 --> 00:07:03,330
and share with mr. distress and there is

00:07:00,240 --> 00:07:06,120
a way to specify whether there is a

00:07:03,330 --> 00:07:09,689
sidewalk on either side of a road or a

00:07:06,120 --> 00:07:12,810
street but suddenly only 1% of the I

00:07:09,689 --> 00:07:16,379
wait at the sidewalk tag set up this is

00:07:12,810 --> 00:07:18,690
not a lot just one person and if we want

00:07:16,379 --> 00:07:21,120
to guide with us runs properly on the

00:07:18,690 --> 00:07:23,250
right side of the street or take another

00:07:21,120 --> 00:07:25,560
Street either a no sidewalk we need to

00:07:23,250 --> 00:07:28,199
add the sidewalk type set up so please

00:07:25,560 --> 00:07:32,310
my mean I think the sidewalk tag to the

00:07:28,199 --> 00:07:35,009
road map and the other important thing

00:07:32,310 --> 00:07:38,729
is to make sure that all waves are

00:07:35,009 --> 00:07:41,370
connected together and we still find too

00:07:38,729 --> 00:07:44,129
many steps which are not connected to

00:07:41,370 --> 00:07:46,560
the road or to the foot ways and we also

00:07:44,129 --> 00:07:50,279
find elevate while sitting here not

00:07:46,560 --> 00:07:52,680
connected to any foot way and this is OK

00:07:50,279 --> 00:07:55,439
for wandering from but this is no use

00:07:52,680 --> 00:07:57,659
for routing and the same applies with

00:07:55,439 --> 00:08:00,300
our railway stations here you have a

00:07:57,659 --> 00:08:05,310
railway station which is my scene in

00:08:00,300 --> 00:08:07,409
Joseph where we are the stairs and is no

00:08:05,310 --> 00:08:09,089
good for for routing because there is no

00:08:07,409 --> 00:08:11,370
way to go from the street to the

00:08:09,089 --> 00:08:13,770
platform what you need to do is to add

00:08:11,370 --> 00:08:15,220
some food waste and fruit trays I go

00:08:13,770 --> 00:08:19,150
through the doors

00:08:15,220 --> 00:08:22,920
and lead to the use of stairs and a

00:08:19,150 --> 00:08:26,620
footbridge to the platform and so on

00:08:22,920 --> 00:08:31,270
picking a graph effectively so here you

00:08:26,620 --> 00:08:32,890
can see a tool we use internally so we

00:08:31,270 --> 00:08:35,250
can see the interiors of the train

00:08:32,890 --> 00:08:39,370
station and on top of that you can see

00:08:35,250 --> 00:08:41,800
the world network we import it so in

00:08:39,370 --> 00:08:44,380
purple you can see the streets and in

00:08:41,800 --> 00:08:47,680
green you have the pedestrian specific

00:08:44,380 --> 00:08:50,590
path and orange the stairs and it's

00:08:47,680 --> 00:08:54,310
already usable we can we can do routing

00:08:50,590 --> 00:08:56,680
with that so if if our user gives us two

00:08:54,310 --> 00:08:59,980
coordinates a starting point and his

00:08:56,680 --> 00:09:02,950
destination then first we have to do an

00:08:59,980 --> 00:09:05,080
algorithm a bit like mat matching the

00:09:02,950 --> 00:09:07,750
idea is we take a coordinate and find

00:09:05,080 --> 00:09:08,500
the closest points in our graph or

00:09:07,750 --> 00:09:11,370
network

00:09:08,500 --> 00:09:16,600
and once we have this coordinate we can

00:09:11,370 --> 00:09:19,990
compute the actual roads so here we have

00:09:16,600 --> 00:09:23,470
it's in the blue dots so as you can see

00:09:19,990 --> 00:09:26,320
it's working quite well but it's for a

00:09:23,470 --> 00:09:29,350
small translation how do you think it

00:09:26,320 --> 00:09:33,070
would work on list on this train station

00:09:29,350 --> 00:09:37,660
the one from earlier it's not going to

00:09:33,070 --> 00:09:40,120
work right and what's missing here we're

00:09:37,660 --> 00:09:42,610
actually missing the information about

00:09:40,120 --> 00:09:45,250
the floors the levels we don't know at

00:09:42,610 --> 00:09:47,770
which level our user is and it's the

00:09:45,250 --> 00:09:54,220
same thing for the paths in the train

00:09:47,770 --> 00:09:56,650
station so having information about the

00:09:54,220 --> 00:09:59,500
letters for the inside of buildings with

00:09:56,650 --> 00:10:01,360
railway stations and there is no well

00:09:59,500 --> 00:10:03,790
established model train map which is a

00:10:01,360 --> 00:10:07,300
simple endo tagging scheme and this

00:10:03,790 --> 00:10:09,460
introduces a couple of tags one of which

00:10:07,300 --> 00:10:13,300
is a lever type which enables you to

00:10:09,460 --> 00:10:14,620
specify whether any thing inside a

00:10:13,300 --> 00:10:17,500
building named Queen Maat and

00:10:14,620 --> 00:10:20,600
what-have-you is at a specific level so

00:10:17,500 --> 00:10:23,510
it has to be a numerical value and

00:10:20,600 --> 00:10:25,670
I can assign it to food ways and also

00:10:23,510 --> 00:10:27,950
when you have a stair or elevate or that

00:10:25,670 --> 00:10:30,200
enable you to change level you just

00:10:27,950 --> 00:10:33,170
assign it a numeric or a multiple value

00:10:30,200 --> 00:10:37,430
of an interval so we add this into the

00:10:33,170 --> 00:10:40,100
routine and back at the map we can see

00:10:37,430 --> 00:10:43,270
that on the streets nothing changed its

00:10:40,100 --> 00:10:46,970
normal level tag only applies outdoors

00:10:43,270 --> 00:10:49,310
no indoors not house but inside the

00:10:46,970 --> 00:10:52,160
train station you can see the the main

00:10:49,310 --> 00:10:55,190
building is at level zero and the

00:10:52,160 --> 00:11:00,670
underground passage are live all minus

00:10:55,190 --> 00:11:05,750
one and we can also have the stairs okay

00:11:00,670 --> 00:11:08,180
so let's go back to our user and let's

00:11:05,750 --> 00:11:11,960
start with something simple our user

00:11:08,180 --> 00:11:12,740
just arrived at train station so she's

00:11:11,960 --> 00:11:15,800
on the platform

00:11:12,740 --> 00:11:18,140
and she wants to take a bus so she has

00:11:15,800 --> 00:11:20,870
to go to the trains in the bus station

00:11:18,140 --> 00:11:25,970
which is just outside the train station

00:11:20,870 --> 00:11:30,500
and then we try to compute the route and

00:11:25,970 --> 00:11:35,470
we get this what went wrong here

00:11:30,500 --> 00:11:39,640
what are we missing so here we actually

00:11:35,470 --> 00:11:44,240
did the process of like mad matching and

00:11:39,640 --> 00:11:46,280
but we don't have the platforms so it's

00:11:44,240 --> 00:11:51,680
nuts onto the onto the streets outside

00:11:46,280 --> 00:11:55,550
and we could actually add the additional

00:11:51,680 --> 00:11:58,070
path on the platforms like add ways with

00:11:55,550 --> 00:12:01,160
the highway tag but it's not something

00:11:58,070 --> 00:12:05,240
you can find in the field so it's it's

00:12:01,160 --> 00:12:07,970
against the guideline of OSF so we

00:12:05,240 --> 00:12:11,240
decided against it and we decided to use

00:12:07,970 --> 00:12:14,030
the polygons instead the actual polygons

00:12:11,240 --> 00:12:15,410
of the platform and for that we use an

00:12:14,030 --> 00:12:18,650
algorithm which is called a low

00:12:15,410 --> 00:12:21,470
visibility graph so the idea of a

00:12:18,650 --> 00:12:23,900
visibility graph is you try to compute

00:12:21,470 --> 00:12:27,560
every possible segments in a polygon and

00:12:23,900 --> 00:12:29,840
you can you get this kind of spider web

00:12:27,560 --> 00:12:31,910
which you can use for watching like any

00:12:29,840 --> 00:12:33,470
other network you've imported for us

00:12:31,910 --> 00:12:36,720
awesome

00:12:33,470 --> 00:12:40,740
so here we have an example with a path

00:12:36,720 --> 00:12:43,290
coming to the the area and we're going

00:12:40,740 --> 00:12:47,000
to find the best possible path through

00:12:43,290 --> 00:12:50,190
the the surface every time

00:12:47,000 --> 00:12:52,050
well the drawbacks are that it takes a

00:12:50,190 --> 00:12:54,660
lot of processing power to pre-compute

00:12:52,050 --> 00:12:58,410
everything you do only you do it only

00:12:54,660 --> 00:13:01,650
once but it still takes a lot of time

00:12:58,410 --> 00:13:04,290
but for us it's fine because we only

00:13:01,650 --> 00:13:06,840
import the area just around the train

00:13:04,290 --> 00:13:08,900
station and we don't have so many so

00:13:06,840 --> 00:13:13,530
yeah it's fine

00:13:08,900 --> 00:13:18,390
and here you can see in a beautiful pink

00:13:13,530 --> 00:13:22,220
the platform's and our problem from

00:13:18,390 --> 00:13:24,960
earlier is solved nice right

00:13:22,220 --> 00:13:27,180
but I don't know about you but when I

00:13:24,960 --> 00:13:30,480
implemented this I wasn't really

00:13:27,180 --> 00:13:32,130
satisfied because be able to do routing

00:13:30,480 --> 00:13:35,520
through bathrooms it's really cool I

00:13:32,130 --> 00:13:37,350
mean we have to do it right but we want

00:13:35,520 --> 00:13:40,260
to do more we want to know that those

00:13:37,350 --> 00:13:42,630
big train station with the open spaces

00:13:40,260 --> 00:13:44,940
everywhere and you don't really have any

00:13:42,630 --> 00:13:47,820
specific path to follow right you can go

00:13:44,940 --> 00:13:50,400
from anywhere to anywhere so and we

00:13:47,820 --> 00:13:56,640
could actually use the same method for

00:13:50,400 --> 00:13:59,430
the endo so I mentioned a Supra in DotA

00:13:56,640 --> 00:14:02,280
gives you also target introduces and

00:13:59,430 --> 00:14:03,780
many of you know it is a indoor tag

00:14:02,280 --> 00:14:09,380
which enables you to describe open

00:14:03,780 --> 00:14:12,810
spaces close room or curry dolls and and

00:14:09,380 --> 00:14:14,580
effectively these are just like I mean

00:14:12,810 --> 00:14:17,160
this model is really very much

00:14:14,580 --> 00:14:20,790
topological a very good suitable for our

00:14:17,160 --> 00:14:24,030
routine so consider examine to the

00:14:20,790 --> 00:14:26,610
Rooter was not such a big issue but this

00:14:24,030 --> 00:14:29,100
when we when you get to area routing

00:14:26,610 --> 00:14:32,190
velocities indoors or outdoors you need

00:14:29,100 --> 00:14:35,120
to consider to concept which is a

00:14:32,190 --> 00:14:37,530
concept of narwhals and crossing points

00:14:35,120 --> 00:14:39,240
indoor you can have walls which are

00:14:37,530 --> 00:14:41,370
barriers which are linear things you

00:14:39,240 --> 00:14:42,290
can't go through you can have Marriott

00:14:41,370 --> 00:14:45,290
doors as well

00:14:42,290 --> 00:14:47,989
fences and a new route I'll need to

00:14:45,290 --> 00:14:53,410
consider time to either go around the

00:14:47,989 --> 00:14:53,410
barrier or cross a barrier and and

00:14:54,459 --> 00:14:58,519
across the Barry and the other concept

00:14:56,869 --> 00:15:02,859
that is a crossing point which you can

00:14:58,519 --> 00:15:06,529
go through we can walk through Maria and

00:15:02,859 --> 00:15:08,720
and there is also this concept of

00:15:06,529 --> 00:15:10,100
implicit barriers I mean things which

00:15:08,720 --> 00:15:13,309
like close roads

00:15:10,100 --> 00:15:15,889
you told map the walls but implicitly

00:15:13,309 --> 00:15:17,689
the perimeter of the room either

00:15:15,889 --> 00:15:19,869
barriers we need to consider that as

00:15:17,689 --> 00:15:24,229
well

00:15:19,869 --> 00:15:26,629
so back in our tool we can see that we

00:15:24,229 --> 00:15:28,970
have a few other rooms imported it's

00:15:26,629 --> 00:15:31,329
actually a mix of indoor equal room and

00:15:28,970 --> 00:15:34,279
indoor the core area

00:15:31,329 --> 00:15:36,049
so once you've implemented the

00:15:34,279 --> 00:15:39,199
platform's it's not so hard to have

00:15:36,049 --> 00:15:41,449
other kind of areas because just how to

00:15:39,199 --> 00:15:44,899
handle more tax and apply the same

00:15:41,449 --> 00:15:47,359
method but you have to be careful but

00:15:44,899 --> 00:15:49,279
one thing is the concept of barrier

00:15:47,359 --> 00:15:53,779
otherwise if you try to do routing

00:15:49,279 --> 00:15:56,329
without barriers you get this and there

00:15:53,779 --> 00:15:58,399
is a wall there yeah so I don't know any

00:15:56,329 --> 00:16:02,660
user which is about to go through well

00:15:58,399 --> 00:16:05,209
so we're not going to go over the

00:16:02,660 --> 00:16:08,509
implementation of barriers because this

00:16:05,209 --> 00:16:10,279
presentation is quite short but yeah if

00:16:08,509 --> 00:16:12,649
you want to do indoor routing through

00:16:10,279 --> 00:16:18,949
certain surfaces in most cases you have

00:16:12,649 --> 00:16:23,419
to handle barriers right so in the end

00:16:18,949 --> 00:16:26,329
we quite happy because at the start we

00:16:23,419 --> 00:16:28,999
weren't even even sure it was possible

00:16:26,329 --> 00:16:31,549
to do but now we have a router which

00:16:28,999 --> 00:16:34,249
which is about to the indoor routing

00:16:31,549 --> 00:16:36,799
adore watching and the connection

00:16:34,249 --> 00:16:40,069
between indoor and outdoor which is

00:16:36,799 --> 00:16:43,069
quite important and we also able to do

00:16:40,069 --> 00:16:45,229
liner routing and also routing through

00:16:43,069 --> 00:16:50,429
surfaces and area

00:16:45,229 --> 00:16:55,399
and so this software is actually in

00:16:50,429 --> 00:17:01,409
production now in an application for

00:16:55,399 --> 00:17:04,980
consider and it actually covers 83 I

00:17:01,409 --> 00:17:08,189
think train stations so we not with not

00:17:04,980 --> 00:17:11,519
set at the full 380 something train

00:17:08,189 --> 00:17:15,419
station of the region of Paris but we're

00:17:11,519 --> 00:17:23,730
getting down yeah it beats well it works

00:17:15,419 --> 00:17:26,159
with so no witch doctor lots about how

00:17:23,730 --> 00:17:29,519
to compute the perfect route for our

00:17:26,159 --> 00:17:32,070
user right but this is not the only

00:17:29,519 --> 00:17:34,279
thing there is about getting users we

00:17:32,070 --> 00:17:38,340
also have to communicate the information

00:17:34,279 --> 00:17:43,619
to our user and one thing we found was

00:17:38,340 --> 00:17:46,289
very good for this is the exits that the

00:17:43,619 --> 00:17:49,470
user has to go through for some users

00:17:46,289 --> 00:17:51,509
you would just give them the name of the

00:17:49,470 --> 00:17:53,940
exit and they would be fine that would

00:17:51,509 --> 00:17:58,129
just follow the sign and get over this

00:17:53,940 --> 00:18:00,629
nation but we found that actually

00:17:58,129 --> 00:18:02,570
describing the exits was more

00:18:00,629 --> 00:18:06,210
complicated than expected

00:18:02,570 --> 00:18:07,740
yeah we've been careful naming all exits

00:18:06,210 --> 00:18:09,240
because most of the time when you get

00:18:07,740 --> 00:18:12,480
out of a station you get the name of the

00:18:09,240 --> 00:18:14,070
route the street gets to and this is

00:18:12,480 --> 00:18:16,350
useful to give us that of the site

00:18:14,070 --> 00:18:19,830
within the station sometimes several

00:18:16,350 --> 00:18:23,039
exits but in some cases is not as simple

00:18:19,830 --> 00:18:25,470
as naming one exit because the exit of

00:18:23,039 --> 00:18:29,249
one station may well attention of

00:18:25,470 --> 00:18:32,850
another station in the pictures here we

00:18:29,249 --> 00:18:36,840
actually see the same line of turnstiles

00:18:32,850 --> 00:18:38,100
and both are seen from different side on

00:18:36,840 --> 00:18:39,840
the left you see for the well way

00:18:38,100 --> 00:18:44,309
station going into the subway station

00:18:39,840 --> 00:18:46,289
and this is the opposite and if you want

00:18:44,309 --> 00:18:48,029
to give a striction to pedestrians we

00:18:46,289 --> 00:18:51,029
need to give it a proper name which is

00:18:48,029 --> 00:18:53,250
on the sign and this is actually the

00:18:51,029 --> 00:18:56,100
same sort of situation we are with

00:18:53,250 --> 00:18:57,990
at Crossroads and in Nepal Sri my mother

00:18:56,100 --> 00:19:00,210
there is this relation called

00:18:57,990 --> 00:19:03,870
destination sign which enables you to

00:19:00,210 --> 00:19:06,630
name sign is no ambiguity so we decided

00:19:03,870 --> 00:19:09,810
to use that for exactly that situation

00:19:06,630 --> 00:19:12,660
for pedestrian routing inside railway

00:19:09,810 --> 00:19:15,750
stations and typically what we do when

00:19:12,660 --> 00:19:17,850
there is a crossing point which has two

00:19:15,750 --> 00:19:20,730
different names depending on which way

00:19:17,850 --> 00:19:22,860
you cross it we create two destination

00:19:20,730 --> 00:19:25,110
sign relations with the default

00:19:22,860 --> 00:19:27,150
destination name well and but the same

00:19:25,110 --> 00:19:31,410
members it's only the two at the front

00:19:27,150 --> 00:19:34,230
member which are Swat and because we do

00:19:31,410 --> 00:19:36,870
aerial routing effectively the from in

00:19:34,230 --> 00:19:40,470
two members may well II areas not just

00:19:36,870 --> 00:19:43,100
lines and couple of weeks ago and

00:19:40,470 --> 00:19:46,230
discussing this on the tagging list

00:19:43,100 --> 00:19:48,960
because it was not documented you could

00:19:46,230 --> 00:19:50,580
use it this way and as I do did not seem

00:19:48,960 --> 00:19:55,680
to cause a problem to anyone talking on

00:19:50,580 --> 00:19:59,240
the list so to connection to give some

00:19:55,680 --> 00:20:02,820
example of the wiki somewhere and

00:19:59,240 --> 00:20:04,740
similarly for one-way exits which you

00:20:02,820 --> 00:20:07,530
can have in our railway station and

00:20:04,740 --> 00:20:10,770
subway stations and because we do that

00:20:07,530 --> 00:20:13,530
we are routing in some cases we need to

00:20:10,770 --> 00:20:16,710
create a relation a restriction relation

00:20:13,530 --> 00:20:19,290
to make sure the water doesn't guide you

00:20:16,710 --> 00:20:23,250
through an entrance which is not permit

00:20:19,290 --> 00:20:26,820
which is just an exit effectively so

00:20:23,250 --> 00:20:29,340
we've been mapping precisely this 84

00:20:26,820 --> 00:20:31,680
railway station weather is effective we

00:20:29,340 --> 00:20:35,010
are we are willing provided to the to

00:20:31,680 --> 00:20:38,190
the passengers of trans Ilia and that we

00:20:35,010 --> 00:20:41,220
learn a lot of things do exist and we

00:20:38,190 --> 00:20:44,510
decided to create a wiki page to share

00:20:41,220 --> 00:20:47,460
all we learned to the better way to map

00:20:44,510 --> 00:20:50,870
for additional routing to enable waters

00:20:47,460 --> 00:20:53,490
to produce accurate and realistic routes

00:20:50,870 --> 00:20:55,590
and this is not specific to that water

00:20:53,490 --> 00:20:57,810
that has been developed this is just

00:20:55,590 --> 00:20:58,140
common sense and the experience we got

00:20:57,810 --> 00:21:00,690
from

00:20:58,140 --> 00:21:03,590
from using the data so great we created

00:21:00,690 --> 00:21:07,500
this wiki page which is fairly long and

00:21:03,590 --> 00:21:09,030
we wrote it in English and French and I

00:21:07,500 --> 00:21:11,790
was pleased to see that the day a

00:21:09,030 --> 00:21:13,620
finished publishing it in English that

00:21:11,790 --> 00:21:15,960
someone started to translate it in

00:21:13,620 --> 00:21:18,390
Spanish and this was done in just a

00:21:15,960 --> 00:21:21,030
couple of days translation was completed

00:21:18,390 --> 00:21:23,780
so you're welcome to translate it in

00:21:21,030 --> 00:21:28,230
German or Russian or what-have-you and

00:21:23,780 --> 00:21:30,960
and if you have any question or anything

00:21:28,230 --> 00:21:33,360
to discuss please discuss it this is a

00:21:30,960 --> 00:21:33,809
this is a week so it doesn't belong to

00:21:33,360 --> 00:21:38,370
me

00:21:33,809 --> 00:21:40,559
and it contains a number of diagram 10

00:21:38,370 --> 00:21:42,690
diagrams giving examples of Oh to map

00:21:40,559 --> 00:21:48,020
properly of mistakes you want to avoid

00:21:42,690 --> 00:21:52,080
to a never good guiding good routing and

00:21:48,020 --> 00:21:56,520
and white just attack available in SVG

00:21:52,080 --> 00:21:59,220
if you want to translate them so this

00:21:56,520 --> 00:22:03,210
was a good project but this is not

00:21:59,220 --> 00:22:05,390
finished effectively since you Lea is

00:22:03,210 --> 00:22:08,429
still working on extending this footer

00:22:05,390 --> 00:22:10,110
to enable routing for different profiles

00:22:08,429 --> 00:22:12,240
people with disabilities or big

00:22:10,110 --> 00:22:17,910
languages that you quite often have when

00:22:12,240 --> 00:22:20,280
you traveling and and also in order to

00:22:17,910 --> 00:22:24,179
improve the guiding instruction there is

00:22:20,280 --> 00:22:26,040
a project which will be presented just

00:22:24,179 --> 00:22:29,250
after this presentation by Frederic

00:22:26,040 --> 00:22:32,100
which is to identify landmarks in the

00:22:29,250 --> 00:22:35,130
upper trail map data to give better

00:22:32,100 --> 00:22:38,549
indications to the pedestrians to the

00:22:35,130 --> 00:22:41,429
users to tell them further it will tell

00:22:38,549 --> 00:22:45,230
you all about it in a minute do you have

00:22:41,429 --> 00:22:45,230
any well thank you

00:22:48,779 --> 00:23:03,999
we have any question just a moment so in

00:23:01,059 --> 00:23:09,789
your example routing from the platform

00:23:03,999 --> 00:23:11,079
area does the step leading to the

00:23:09,789 --> 00:23:13,869
platform actually need to be connected

00:23:11,079 --> 00:23:15,820
to the platform area for you to be able

00:23:13,869 --> 00:23:20,349
to route it or is it enough of the step

00:23:15,820 --> 00:23:22,449
ends inside the platform area yes the

00:23:20,349 --> 00:23:27,909
connection of the stairs to the platform

00:23:22,449 --> 00:23:30,819
and able to route it okay so what we do

00:23:27,909 --> 00:23:34,409
is we actually detect that the step the

00:23:30,819 --> 00:23:37,539
end of the stairs is at the same level

00:23:34,409 --> 00:23:40,449
yeah of the platform and then when we

00:23:37,539 --> 00:23:42,999
generate the visibility graph we compute

00:23:40,449 --> 00:23:53,319
the segment with to the to the point and

00:23:42,999 --> 00:23:55,509
so we have diagram into guidelines okay

00:23:53,319 --> 00:23:58,629
just what I like about your probability

00:23:55,509 --> 00:24:01,269
exits to to refer to them there's a

00:23:58,629 --> 00:24:03,279
proposal by another famous survey

00:24:01,269 --> 00:24:06,569
station mapper Roland vogner who

00:24:03,279 --> 00:24:09,459
proposes to have worldwide unique

00:24:06,569 --> 00:24:12,069
referencing scheme for any exit and

00:24:09,459 --> 00:24:13,389
doors so I don't know what stage that

00:24:12,069 --> 00:24:15,190
proposal is head and where it's

00:24:13,389 --> 00:24:19,299
documented but that's probably an idea

00:24:15,190 --> 00:24:22,329
to have a a worldwide system for these

00:24:19,299 --> 00:24:25,330
exits exit numbering in a particular

00:24:22,329 --> 00:24:29,679
location then which would help

00:24:25,330 --> 00:24:32,850
people internationally the question is

00:24:29,679 --> 00:24:35,559
you mentioned destination relation

00:24:32,850 --> 00:24:36,970
there's a sign relation why do you need

00:24:35,559 --> 00:24:39,220
a relation for that I mean the

00:24:36,970 --> 00:24:42,159
destination is a property of the way

00:24:39,220 --> 00:24:44,830
leading away from the from the junction

00:24:42,159 --> 00:24:47,649
so I need I don't need the the from

00:24:44,830 --> 00:24:55,179
right because it always gives to the

00:24:47,649 --> 00:24:58,419
destination is about the destination

00:24:55,179 --> 00:25:01,869
sign you were asking about the remembers

00:24:58,419 --> 00:25:13,320
right oh yeah why we have to use them

00:25:01,869 --> 00:25:17,710
like that this is maybe maybe this one

00:25:13,320 --> 00:25:20,100
in fact this question points similar to

00:25:17,710 --> 00:25:23,019
crossword you know in a road network and

00:25:20,100 --> 00:25:25,299
you will not use them this way for

00:25:23,019 --> 00:25:27,090
forwards because a car cannot just turn

00:25:25,299 --> 00:25:29,739
back

00:25:27,090 --> 00:25:31,960
without without turning around something

00:25:29,739 --> 00:25:37,539
but for pedestrians you

00:25:31,960 --> 00:25:39,340
you can cross one point and one crossing

00:25:37,539 --> 00:25:42,639
point when you through a barrier linear

00:25:39,340 --> 00:25:45,129
direction and the destination sign is

00:25:42,639 --> 00:25:50,080
really here to give you what sign you

00:25:45,129 --> 00:25:51,669
follow and of the direction we walk

00:25:50,080 --> 00:25:55,779
through the crossing point you have a

00:25:51,669 --> 00:25:57,970
different sign the question oh yeah it's

00:25:55,779 --> 00:26:00,850
also a lot easier to use by software

00:25:57,970 --> 00:26:04,480
because earlier we have we had another

00:26:00,850 --> 00:26:07,659
way to map that and it was like kind of

00:26:04,480 --> 00:26:10,090
experimental but it was named exit and

00:26:07,659 --> 00:26:13,090
named entrance but the primary problem

00:26:10,090 --> 00:26:15,100
is sometimes the concept of entering a

00:26:13,090 --> 00:26:19,600
entrance and exit is a bit complicated

00:26:15,100 --> 00:26:22,059
like like this one where we have on one

00:26:19,600 --> 00:26:24,129
way we have a railway station and the

00:26:22,059 --> 00:26:26,230
other side subway station so which is

00:26:24,129 --> 00:26:29,100
entrance which is exist it's kind of

00:26:26,230 --> 00:26:29,100
hard to know how to say

00:26:30,050 --> 00:26:38,540
was a Christian oh we have one minutes

00:26:36,330 --> 00:26:38,540
please

00:26:43,280 --> 00:26:51,480
so you mentioned for one way stair exits

00:26:48,150 --> 00:26:53,940
you needed a restriction radiation

00:26:51,480 --> 00:26:57,000
basically would that be doable with one

00:26:53,940 --> 00:26:59,100
way maybe the picture was confusing but

00:26:57,000 --> 00:27:00,960
there are exits we have our one way you

00:26:59,100 --> 00:27:03,210
can't just push the door to get out of

00:27:00,960 --> 00:27:05,490
the platform for instance and you don't

00:27:03,210 --> 00:27:07,680
have any inline little TV you have to

00:27:05,490 --> 00:27:09,930
platform on one side pedestrian area on

00:27:07,680 --> 00:27:12,360
the other side and this barrier at

00:27:09,930 --> 00:27:14,580
question point and in order to say that

00:27:12,360 --> 00:27:17,070
this is exit only that you can walk

00:27:14,580 --> 00:27:19,470
cannot work from the outside of the

00:27:17,070 --> 00:27:21,900
station in to alter the platform the

00:27:19,470 --> 00:27:24,440
only solution was to add a risk with

00:27:21,900 --> 00:27:28,500
friction relation and the member of the

00:27:24,440 --> 00:27:30,930
platform and the pedestrian area so what

00:27:28,500 --> 00:27:33,000
just tagging one-way on the on the

00:27:30,930 --> 00:27:34,830
stairway wouldn't be enough it's a rigid

00:27:33,000 --> 00:27:39,030
if I do one way or the other point

00:27:34,830 --> 00:27:42,980
effectively okay yeah so yeah we also

00:27:39,030 --> 00:27:46,260
had we had another concept which was

00:27:42,980 --> 00:27:48,780
direction equal exits but it's

00:27:46,260 --> 00:27:50,010
effectively unusable from the routing

00:27:48,780 --> 00:27:52,470
point of view because you don't really

00:27:50,010 --> 00:27:55,350
know which side is the exit

00:27:52,470 --> 00:27:58,110
effectively so we we need something

00:27:55,350 --> 00:28:02,450
which tells us this goes from this side

00:27:58,110 --> 00:28:02,450
to this side and that's what it does

00:28:02,840 --> 00:28:09,260
we thank you very much Edwin and Anthony

00:28:06,000 --> 00:28:09,260
to share information with us

00:28:14,330 --> 00:28:17,470

YouTube URL: https://www.youtube.com/watch?v=3hi4_2iOsPM


