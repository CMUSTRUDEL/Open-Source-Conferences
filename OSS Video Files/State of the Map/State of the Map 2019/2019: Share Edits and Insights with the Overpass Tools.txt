Title: 2019: Share Edits and Insights with the Overpass Tools
Publication date: 2020-07-18
Playlist: State of the Map 2019
Description: 
	https://media.ccc.de/v/sotm2019-1235-share-edits-and-insights-with-the-overpass-tools



Not every data item in OpenStreetMap can have an immediate impact on the rendered map. But you can make every data item visible on a map and share the links or share the data, no matter how much the item is special interest. This is the purpose of Overpass API and Overpass Turbo.

Our aim is to create special interest maps like this one for [historic street lamps](http://osmstreetlight.bplaced.net/#16/51.2339/6.7829), this one for [vehicle restrictions](http://maxheight.bplaced.net/overpass/map.html?zoom=14&lat=49.4&lon=8.68&layers=B0000000TFFTFFFFFFFF), or simply [all restaurants by cuisine](https://overpass-turbo.eu/s/I6z).

An introduction to the Overpass API, to Overpass Turbo and the query language will be given. The aims are that the participants are afterwards able to filter for one for more tags, variants of tags, one or more keys, geographical regions, and combinations of such criteria.

The Overpass API also supports to count objects, to dump them to GeoJSON, to retreive them in QGIS, in uMap, or a couple of [other downstream tools](https://dev.overpass-api.de/overpass-doc/en/targets/index.html). I will try my best to advance to these topics as well, but questions on the more basic issues have precedence. Thus the advanced topics are expected to rather go to an additional informal session if there are people interested in that.

Please ensure that your are familar with the concepts of tags, nodes, ways, and relations, or read [an introduction here](https://dev.overpass-api.de/overpass-doc/en/preface/osm_data_model.html).
You will benefit best from the workshop if you bring your own device with browser, internet access, and sufficiently large screen to view a map.

Roland Olbricht

https://pretalx.com/sotm2019/talk/N9RCV8/
Captions: 
	00:00:07,540 --> 00:00:14,320
I welcome to Jitsu to this target

00:00:11,860 --> 00:00:16,990
probably the wrong tone to this workshop

00:00:14,320 --> 00:00:23,970
about the overpass API there dear is

00:00:16,990 --> 00:00:23,970
that you can use some that you can use

00:00:24,930 --> 00:00:31,810
some time at least of the basic features

00:00:28,630 --> 00:00:35,500
afterwards directly without trying to

00:00:31,810 --> 00:00:37,090
get it through the woods up but

00:00:35,500 --> 00:00:43,120
hopefully understand the principle how

00:00:37,090 --> 00:00:45,309
you can build up more complex queries as

00:00:43,120 --> 00:00:48,899
I already have told you there is the

00:00:45,309 --> 00:00:54,339
documentation it's the work in progress

00:00:48,899 --> 00:00:56,199
it's it's just I always thought of more

00:00:54,339 --> 00:00:58,149
or less people thought that writing the

00:00:56,199 --> 00:01:00,429
documentation is just a thing I could do

00:00:58,149 --> 00:01:05,350
on a rainy more a weekend unfortunately

00:01:00,429 --> 00:01:08,430
it's not that case so I expect it to be

00:01:05,350 --> 00:01:12,100
complete not before the end of the year

00:01:08,430 --> 00:01:16,350
but let's start with some in some use

00:01:12,100 --> 00:01:20,440
cases that's one we haven't seen yet but

00:01:16,350 --> 00:01:24,490
I found it's very very helpful also for

00:01:20,440 --> 00:01:26,080
practical purpose it's showing elements

00:01:24,490 --> 00:01:27,400
that are stacked radical one over

00:01:26,080 --> 00:01:29,680
another it's a problem that you usually

00:01:27,400 --> 00:01:31,300
have in a map that you cannot see if the

00:01:29,680 --> 00:01:33,730
things are just stacked vertically like

00:01:31,300 --> 00:01:37,360
you have in a shopping mall railway

00:01:33,730 --> 00:01:39,310
station University building or so on

00:01:37,360 --> 00:01:41,200
it's a closest building that has

00:01:39,310 --> 00:01:45,340
attacking here to the situation here

00:01:41,200 --> 00:01:48,610
it's this faculty is no indoor mapping

00:01:45,340 --> 00:01:54,220
so far but apparently the Pettigrew

00:01:48,610 --> 00:01:57,159
butcher who lay has one and they the

00:01:54,220 --> 00:02:00,460
they concentrated on making a useful

00:01:57,159 --> 00:02:03,430
user interface a nice presentation and

00:02:00,460 --> 00:02:05,740
making it helpful and they loaded off

00:02:03,430 --> 00:02:07,720
all the work with the database keeping

00:02:05,740 --> 00:02:10,539
the data up-to-date and so on on the

00:02:07,720 --> 00:02:12,790
overpass by making a query each time

00:02:10,539 --> 00:02:14,920
when you open up this page then your

00:02:12,790 --> 00:02:18,280
browser makes in the breakout a query

00:02:14,920 --> 00:02:20,410
for the respective up to the for the

00:02:18,280 --> 00:02:22,930
respective OpenStreetMap data

00:02:20,410 --> 00:02:29,020
you need at that point to render indoor

00:02:22,930 --> 00:02:33,610
data to render the indoor data another

00:02:29,020 --> 00:02:37,810
exam our clients are rendered Maps for

00:02:33,610 --> 00:02:40,420
example in this case I just decided I

00:02:37,810 --> 00:02:43,570
want to like a map of Essen where we

00:02:40,420 --> 00:02:46,810
have often the annual meeting from the

00:02:43,570 --> 00:02:48,910
local chapter of the German a local

00:02:46,810 --> 00:02:52,570
German chapter fuscus the so called

00:02:48,910 --> 00:02:56,110
a quick end of first kiss and that's

00:02:52,570 --> 00:03:00,820
quite easy for example to to print a

00:02:56,110 --> 00:03:03,010
primitive version of a neural post of a

00:03:00,820 --> 00:03:05,320
map just download it

00:03:03,010 --> 00:03:07,120
our chip does it for you and then in my

00:03:05,320 --> 00:03:08,890
parrot if you can do all the rendering

00:03:07,120 --> 00:03:11,140
and you can change through our rules and

00:03:08,890 --> 00:03:13,270
you can get feedback on changing the

00:03:11,140 --> 00:03:15,550
rules of surrendering within rather a

00:03:13,270 --> 00:03:17,710
couple of minutes or seconds and not

00:03:15,550 --> 00:03:19,270
like which the full rendering tool chain

00:03:17,710 --> 00:03:25,330
where you would have to reload the data

00:03:19,270 --> 00:03:27,490
and rebuilt the database and so on or so

00:03:25,330 --> 00:03:31,600
another case is we just want to fetch a

00:03:27,490 --> 00:03:35,550
couple of specific data this is a part

00:03:31,600 --> 00:03:41,100
of the primary route network of Iceland

00:03:35,550 --> 00:03:44,050
which represented a journey of of us and

00:03:41,100 --> 00:03:46,660
the thing we were we are mostly

00:03:44,050 --> 00:03:49,270
concerned with this day is to analyze

00:03:46,660 --> 00:03:51,340
that data interactively we'll see with

00:03:49,270 --> 00:03:55,000
over passed tobu this is a tool designed

00:03:51,340 --> 00:04:01,170
by Martin who was had given a short

00:03:55,000 --> 00:04:01,170
interview and in the talk before and

00:04:02,400 --> 00:04:07,420
it's in fact the most user-friendly way

00:04:05,320 --> 00:04:10,480
to attack with the database rotate the

00:04:07,420 --> 00:04:12,489
equity overpass API and a very happy

00:04:10,480 --> 00:04:16,419
astounded because I have just no idea

00:04:12,489 --> 00:04:18,640
for you I and put have got our awful so

00:04:16,419 --> 00:04:20,350
there will be a documentation on this

00:04:18,640 --> 00:04:22,000
it's currently at the moment it's not

00:04:20,350 --> 00:04:26,860
yet it's only written in German it's not

00:04:22,000 --> 00:04:28,930
yet it wouldn't in English but this will

00:04:26,860 --> 00:04:30,520
give a short introduction and I think

00:04:28,930 --> 00:04:33,400
the thing that's also documentation or

00:04:30,520 --> 00:04:34,150
itself and to just give it a hear how it

00:04:33,400 --> 00:04:43,000
works

00:04:34,150 --> 00:04:47,979
you sorry you will specify a specific I

00:04:43,000 --> 00:04:50,729
should do it here and put the mouse you

00:04:47,979 --> 00:04:53,880
specify a no it stopped getting into

00:04:50,729 --> 00:05:08,889
what else do we have

00:04:53,880 --> 00:05:11,919
thinks it alone impressive okay okay but

00:05:08,889 --> 00:05:15,100
sure because it's no my case it's on

00:05:11,919 --> 00:05:20,310
this screen but ah okay

00:05:15,100 --> 00:05:20,310
ah thank you thank you very much yes

00:05:22,139 --> 00:05:33,010
okay so so what you do is to see this

00:05:27,490 --> 00:05:35,590
this interface where you can put here

00:05:33,010 --> 00:05:36,820
and do the text field it takes like this

00:05:35,590 --> 00:05:39,490
for example

00:05:36,820 --> 00:05:42,490
give me all restaurants that belong to

00:05:39,490 --> 00:05:46,020
the area which is left out here's for

00:05:42,490 --> 00:05:51,099
that reason this query wouldn't work and

00:05:46,020 --> 00:05:53,560
give me the output then this thing once

00:05:51,099 --> 00:05:57,039
you once you press the Run button here

00:05:53,560 --> 00:06:00,610
the interface sends requests to the

00:05:57,039 --> 00:06:03,880
overpass API the overpass API is a pair

00:06:00,610 --> 00:06:06,940
of service that's some studying

00:06:03,880 --> 00:06:12,310
somewhere here in initial Germany and a

00:06:06,940 --> 00:06:13,780
small at a commercial a provider but

00:06:12,310 --> 00:06:18,430
it's open source so you can have any

00:06:13,780 --> 00:06:21,360
number of copies you want and it fetches

00:06:18,430 --> 00:06:24,310
in fact it fetches every minute the

00:06:21,360 --> 00:06:26,650
diffs of the usm so it's always up to

00:06:24,310 --> 00:06:30,130
date up to a couple of minutes so it

00:06:26,650 --> 00:06:34,750
gets requests it applies the request on

00:06:30,130 --> 00:06:37,919
the API and crew classroom blue place it

00:06:34,750 --> 00:06:41,380
applies to request on the database and

00:06:37,919 --> 00:06:43,300
then return the result that you results

00:06:41,380 --> 00:06:45,669
from applying the request of the

00:06:43,300 --> 00:06:47,710
database this case a couple of

00:06:45,669 --> 00:06:51,160
frictional symbolic results

00:06:47,710 --> 00:06:53,380
and overpass tobu build that draws his

00:06:51,160 --> 00:07:07,060
results on a map for you if the results

00:06:53,380 --> 00:07:10,449
are no okay it was scheduled for 60

00:07:07,060 --> 00:07:14,889
minutes if it were a lighting talk you

00:07:10,449 --> 00:07:21,190
were a relatively generous but sorry for

00:07:14,889 --> 00:07:23,710
the confusion okay to be short on the

00:07:21,190 --> 00:07:27,130
data model there are not sways and

00:07:23,710 --> 00:07:31,990
relations and I assume all of you know

00:07:27,130 --> 00:07:36,400
the data model so how many people do

00:07:31,990 --> 00:07:39,250
know how that how many who knows how

00:07:36,400 --> 00:07:42,940
areas are working in detail in northern

00:07:39,250 --> 00:07:46,240
street map okay that's not a clear

00:07:42,940 --> 00:07:50,650
majority so I'll drop a couple of water

00:07:46,240 --> 00:07:53,610
on this you should imagine and it's it's

00:07:50,650 --> 00:07:58,630
an ongoing discussion since about ten

00:07:53,610 --> 00:08:04,080
ten years I think that there is a proper

00:07:58,630 --> 00:08:04,080
data data type for areas

00:08:07,740 --> 00:08:14,080
but there is no proper data type for

00:08:10,330 --> 00:08:18,700
areas in OpenStreetMap there are two

00:08:14,080 --> 00:08:22,540
ways how areas are usually modeled one

00:08:18,700 --> 00:08:25,090
is to Marlys at a closed way you have a

00:08:22,540 --> 00:08:28,150
way like the usual or same way and then

00:08:25,090 --> 00:08:32,710
you make the first part make the first

00:08:28,150 --> 00:08:34,830
note the same as the last note and that

00:08:32,710 --> 00:08:37,600
way you indicate it it's an area

00:08:34,830 --> 00:08:40,900
depending on the other tagging it can be

00:08:37,600 --> 00:08:42,729
already an area if it's just closed well

00:08:40,900 --> 00:08:46,150
you should make it explicit with setting

00:08:42,729 --> 00:08:48,010
an extra tech area equals yes but

00:08:46,150 --> 00:08:52,210
basically if you are trying to evaluate

00:08:48,010 --> 00:08:54,250
s you have to search for ways that are

00:08:52,210 --> 00:08:57,580
closed and that have a certain setting

00:08:54,250 --> 00:09:00,250
of tags if you want to get a area that

00:08:57,580 --> 00:09:03,000
is more or less away a similar thing for

00:09:00,250 --> 00:09:05,860
a relay or not similar but they are even

00:09:03,000 --> 00:09:08,740
dipped the second way to model areas

00:09:05,860 --> 00:09:12,780
that are its relations the reason for

00:09:08,740 --> 00:09:15,790
that is that one very popular kay

00:09:12,780 --> 00:09:18,220
application for areas is to have the

00:09:15,790 --> 00:09:20,980
boundaries of the word and the boundary

00:09:18,220 --> 00:09:23,560
has boundaries of the world as such that

00:09:20,980 --> 00:09:27,430
beside from the sea boundaries you have

00:09:23,560 --> 00:09:32,730
always two adjacent areas to a boundary

00:09:27,430 --> 00:09:36,610
they are always hitting at the boundary

00:09:32,730 --> 00:09:40,300
so all this power relations shares the

00:09:36,610 --> 00:09:43,240
boundary which shares the boundary way

00:09:40,300 --> 00:09:50,530
with mother so the actually boundary of

00:09:43,240 --> 00:09:52,840
the area is is defined by multiple ways

00:09:50,530 --> 00:09:55,030
which we unfortunately do not see here

00:09:52,840 --> 00:09:57,130
but not a problem because we specified

00:09:55,030 --> 00:10:01,480
that we anyway I don't wanted to see it

00:09:57,130 --> 00:10:04,360
but you can see it in over passed over

00:10:01,480 --> 00:10:07,240
if it's purple and that means that if

00:10:04,360 --> 00:10:12,120
you are going to search for areas you

00:10:07,240 --> 00:10:14,740
have to consider those cases basically a

00:10:12,120 --> 00:10:18,390
couple of words about things that do not

00:10:14,740 --> 00:10:20,380
exist in the data model there is no

00:10:18,390 --> 00:10:24,770
segregation by

00:10:20,380 --> 00:10:27,170
Leia's that the concept that has been

00:10:24,770 --> 00:10:28,880
well known to all his professionals that

00:10:27,170 --> 00:10:31,190
you sort out data and lay us and

00:10:28,880 --> 00:10:33,470
separate that today it's even the

00:10:31,190 --> 00:10:35,810
digital age there had been times where

00:10:33,470 --> 00:10:39,860
people have worked with large

00:10:35,810 --> 00:10:42,740
transparent layers films they put one

00:10:39,860 --> 00:10:45,290
after another their swords I could show

00:10:42,740 --> 00:10:46,010
a map was putting the riot films on top

00:10:45,290 --> 00:10:53,840
of each other

00:10:46,010 --> 00:10:57,050
and but it turned out that osm worked

00:10:53,840 --> 00:10:59,900
but I was out essentially osm tried and

00:10:57,050 --> 00:11:02,470
did work and why I think the main reason

00:10:59,900 --> 00:11:06,530
is every day I have notions to overlap

00:11:02,470 --> 00:11:08,630
so a trivial example is if you would ask

00:11:06,530 --> 00:11:11,420
a question like where could i get coffee

00:11:08,630 --> 00:11:13,310
or cake then it could be available at

00:11:11,420 --> 00:11:17,000
bakeries cafes restaurants supermarkets

00:11:13,310 --> 00:11:19,670
depends at the time of the day and more

00:11:17,000 --> 00:11:23,150
specific aspects what's plays a role

00:11:19,670 --> 00:11:26,360
similar form a discrete not that clear

00:11:23,150 --> 00:11:29,000
what their primary purpose whether they

00:11:26,360 --> 00:11:32,600
are important for the cycleway network

00:11:29,000 --> 00:11:36,110
and so to get always considered as

00:11:32,600 --> 00:11:38,330
potential or real cycleways whether you

00:11:36,110 --> 00:11:41,420
are mostly interested in having paved

00:11:38,330 --> 00:11:45,200
areas and so on and the third example

00:11:41,420 --> 00:11:48,230
cash maybe up so if you would have split

00:11:45,200 --> 00:11:50,960
it out into layers you would have pre

00:11:48,230 --> 00:11:54,830
specialized the data and a lot of people

00:11:50,960 --> 00:11:56,780
would always have have been feeling like

00:11:54,830 --> 00:11:59,120
second-class citizens because their

00:11:56,780 --> 00:12:01,280
specific problem would be spread of our

00:11:59,120 --> 00:12:03,200
would be spread over several layers

00:12:01,280 --> 00:12:07,370
telling them implicitly that their

00:12:03,200 --> 00:12:09,050
problem is less important so I think

00:12:07,370 --> 00:12:12,500
it's one of the important things of

00:12:09,050 --> 00:12:15,560
OpenStreetMap that your that this never

00:12:12,500 --> 00:12:17,360
has taken place so nobody has the

00:12:15,560 --> 00:12:21,080
impression that their problem is of

00:12:17,360 --> 00:12:23,330
second only off second or of importance

00:12:21,080 --> 00:12:27,980
it just like everybody thinks it's a

00:12:23,330 --> 00:12:30,500
little bit chaotic but you cannot expect

00:12:27,980 --> 00:12:32,520
that there's something like layers so

00:12:30,500 --> 00:12:34,410
what you should do

00:12:32,520 --> 00:12:36,480
if you really want to build an

00:12:34,410 --> 00:12:40,490
application not just to a similar query

00:12:36,480 --> 00:12:43,800
you should search for matching tags

00:12:40,490 --> 00:12:46,620
there are many more tools and overpass

00:12:43,800 --> 00:12:49,380
to do this and in fact overpass is not

00:12:46,620 --> 00:12:50,040
the right tool to do that this starts on

00:12:49,380 --> 00:12:51,690
the wiki

00:12:50,040 --> 00:12:53,400
you should always cross check was tech

00:12:51,690 --> 00:12:55,680
info tech it was a very important tool

00:12:53,400 --> 00:13:01,440
because it makes a statistic on how

00:12:55,680 --> 00:13:04,950
often tags are used and so if you have a

00:13:01,440 --> 00:13:07,320
tech that's used a million times then

00:13:04,950 --> 00:13:09,720
it's probably a tech that everybody was

00:13:07,320 --> 00:13:10,500
a little bit of a little bit experienced

00:13:09,720 --> 00:13:13,230
in OpenStreetMap

00:13:10,500 --> 00:13:17,520
know it's about if you have a text at

00:13:13,230 --> 00:13:19,500
the disused ten times then either you

00:13:17,520 --> 00:13:23,040
have something that is very very very

00:13:19,500 --> 00:13:25,520
specific and unlikely to be worth and

00:13:23,040 --> 00:13:29,610
building an application on top of it or

00:13:25,520 --> 00:13:33,450
you have something that that's just a

00:13:29,610 --> 00:13:35,580
small minority of people is proposing so

00:13:33,450 --> 00:13:39,300
it's not helpful to pursue that road

00:13:35,580 --> 00:13:41,310
further so it makes sense to always look

00:13:39,300 --> 00:13:44,880
for the statistics to whether Tech has

00:13:41,310 --> 00:13:48,420
really support or not it makes even more

00:13:44,880 --> 00:13:50,190
sense to surveys occurs pertinent data

00:13:48,420 --> 00:13:54,720
whether it looks like the data you

00:13:50,190 --> 00:13:56,700
expect could easy happen the LA the

00:13:54,720 --> 00:14:02,220
latest thing that happened came around

00:13:56,700 --> 00:14:06,030
is its Martin told her yet - can't get

00:14:02,220 --> 00:14:08,340
sausages as a bachelor in Italy because

00:14:06,030 --> 00:14:12,060
but just to lure - butter citrus in

00:14:08,340 --> 00:14:15,390
Italy and that would be totally

00:14:12,060 --> 00:14:22,740
surprising for Jarvis could get sausages

00:14:15,390 --> 00:14:26,880
at at at a bad shock there are also a

00:14:22,740 --> 00:14:30,570
ton of other cases usually the most

00:14:26,880 --> 00:14:33,350
important and painful case are cycleways

00:14:30,570 --> 00:14:36,660
because too few people they think about

00:14:33,350 --> 00:14:39,210
cyclists not so much too few members

00:14:36,660 --> 00:14:42,480
instead there are many engaged members

00:14:39,210 --> 00:14:43,100
but cycleways take very different forms

00:14:42,480 --> 00:14:45,560
in real

00:14:43,100 --> 00:14:47,450
across different countries including

00:14:45,560 --> 00:14:50,480
countries West simply not not feasible

00:14:47,450 --> 00:14:52,940
to do a cycling Kate mentioned Tanzania

00:14:50,480 --> 00:14:54,710
this morning so it may happen that

00:14:52,940 --> 00:14:57,230
actually it's not possible to - exactly

00:14:54,710 --> 00:15:00,470
if you want to make a cycling map or it

00:14:57,230 --> 00:15:02,300
could be necessary to understand what

00:15:00,470 --> 00:15:06,350
the local community thinks is the right

00:15:02,300 --> 00:15:09,470
way - to show thank MIPS and for that

00:15:06,350 --> 00:15:13,550
reason it's always it's never be a one

00:15:09,470 --> 00:15:15,980
button solution it's always you need to

00:15:13,550 --> 00:15:19,310
to have an idea to survey the

00:15:15,980 --> 00:15:21,740
corresponding data and then to restate

00:15:19,310 --> 00:15:27,320
state initially and then restate your

00:15:21,740 --> 00:15:31,520
data model and really go out tell people

00:15:27,320 --> 00:15:36,830
that for me a cycle way is a residential

00:15:31,520 --> 00:15:39,080
road or an unclassified Road or an

00:15:36,830 --> 00:15:43,100
explicit cycle way or a path unless it's

00:15:39,080 --> 00:15:46,760
explicitly marked as not accessible for

00:15:43,100 --> 00:15:49,400
backs and then start to rethink whether

00:15:46,760 --> 00:15:51,470
you want or do not want to use a primary

00:15:49,400 --> 00:15:54,260
secondary search tertiaries more

00:15:51,470 --> 00:15:56,360
important streets and so on and really

00:15:54,260 --> 00:16:00,680
explicitly stated for you write it down

00:15:56,360 --> 00:16:03,440
and then check with the document or

00:16:00,680 --> 00:16:04,820
whether available documentation and was

00:16:03,440 --> 00:16:06,350
the corresponding data whether it makes

00:16:04,820 --> 00:16:11,180
sense or whether you are leaving our

00:16:06,350 --> 00:16:12,920
important streets by the way if you want

00:16:11,180 --> 00:16:14,510
to read in parallel this chapters

00:16:12,920 --> 00:16:20,030
already complete the data model of Open

00:16:14,510 --> 00:16:22,370
Street Map what also does not exist is

00:16:20,030 --> 00:16:28,100
normalization or category a vacation

00:16:22,370 --> 00:16:32,390
like in Wikipedia categories well

00:16:28,100 --> 00:16:35,960
essentially well it's my talks okay and

00:16:32,390 --> 00:16:38,090
I can say bad things it never worked in

00:16:35,960 --> 00:16:40,160
SQL in any way I think I have never seen

00:16:38,090 --> 00:16:42,050
an onyx and non-trivial example of a

00:16:40,160 --> 00:16:47,660
relational database which was correctly

00:16:42,050 --> 00:16:49,640
normalized in textbooks probably not in

00:16:47,660 --> 00:16:53,000
any production system but that's their

00:16:49,640 --> 00:16:56,860
different thing the normalization are

00:16:53,000 --> 00:16:56,860
the ideas that you could just

00:16:57,400 --> 00:17:02,480
defined very clearly which attributes

00:17:00,050 --> 00:17:05,209
can exist which can't exist and have a

00:17:02,480 --> 00:17:08,690
data model when and will usually end up

00:17:05,209 --> 00:17:11,240
with either a data model model that will

00:17:08,690 --> 00:17:12,589
brush off a lot of the details or with

00:17:11,240 --> 00:17:14,690
the data model that has the same

00:17:12,589 --> 00:17:16,730
complexity complexities than the data

00:17:14,690 --> 00:17:19,459
which was useless for basically set

00:17:16,730 --> 00:17:21,620
point because of the data model it's as

00:17:19,459 --> 00:17:26,209
huge as the data then it's not

00:17:21,620 --> 00:17:29,240
abstracting anything so we have freedom

00:17:26,209 --> 00:17:31,490
instead of fixed notions and believe it

00:17:29,240 --> 00:17:33,710
up to the user you have cycleways along

00:17:31,490 --> 00:17:34,550
the street the same name or off the

00:17:33,710 --> 00:17:37,580
street or not

00:17:34,550 --> 00:17:39,560
boss variant exists there exists local

00:17:37,580 --> 00:17:42,050
communities which have the name of sis

00:17:39,560 --> 00:17:43,660
of the cycleway on the street and others

00:17:42,050 --> 00:17:46,190
do not

00:17:43,660 --> 00:17:47,990
that's belong to railway stations the

00:17:46,190 --> 00:17:49,580
Associated bus stations the place before

00:17:47,990 --> 00:17:50,470
the state's optimization it's over and

00:17:49,580 --> 00:17:53,390
so on

00:17:50,470 --> 00:17:58,090
just imagine depends a little bit on the

00:17:53,390 --> 00:17:58,090
point of view depends also on the modern

00:17:58,210 --> 00:18:03,350
railway station you may observe on the

00:18:01,310 --> 00:18:06,380
railway station you may have in head as

00:18:03,350 --> 00:18:08,480
you're a prime example or if it's a

00:18:06,380 --> 00:18:10,730
large one was a shopping center shopping

00:18:08,480 --> 00:18:13,880
more inside and it would all would

00:18:10,730 --> 00:18:15,920
likely even include the parking garage

00:18:13,880 --> 00:18:17,420
into a railway station because it's

00:18:15,920 --> 00:18:20,870
important for the shopping mall or so on

00:18:17,420 --> 00:18:24,620
and if your basic sample is a small

00:18:20,870 --> 00:18:26,150
railway station that's close to close to

00:18:24,620 --> 00:18:28,790
a factory building or a supermarket was

00:18:26,150 --> 00:18:30,770
a detached park a parking space and you

00:18:28,790 --> 00:18:33,040
would refuse to include the parking

00:18:30,770 --> 00:18:36,650
space with the railway station and so on

00:18:33,040 --> 00:18:38,450
so while there so because for them

00:18:36,650 --> 00:18:41,450
because of this because we could never

00:18:38,450 --> 00:18:44,420
have agreed on how to take these things

00:18:41,450 --> 00:18:49,130
there is no fix the rules about all

00:18:44,420 --> 00:18:52,160
these things instead a lot of a big role

00:18:49,130 --> 00:18:54,410
the play string equality for example

00:18:52,160 --> 00:18:56,300
between a street or all the addresses of

00:18:54,410 --> 00:18:59,090
the street if you want to get all the

00:18:56,300 --> 00:19:02,720
dresses of a street then you search for

00:18:59,090 --> 00:19:06,980
all objects that have this tag here a

00:19:02,720 --> 00:19:09,389
discreet set to his given name and that

00:19:06,980 --> 00:19:12,929
will give you all the yellow objects it

00:19:09,389 --> 00:19:16,919
have an address where the street name is

00:19:12,929 --> 00:19:21,139
the name of the street so it's really

00:19:16,919 --> 00:19:21,139
all about stringer quality it's not as

00:19:22,009 --> 00:19:27,059
surprising as it may think even if you

00:19:25,229 --> 00:19:29,399
were going to identify us you are still

00:19:27,059 --> 00:19:32,719
comparing strings it's just us comparing

00:19:29,399 --> 00:19:35,159
fancy strings so you try to estate was

00:19:32,719 --> 00:19:39,239
directly under human understandable

00:19:35,159 --> 00:19:41,809
strings instead so string equality plays

00:19:39,239 --> 00:19:45,139
a central role in identifying which

00:19:41,809 --> 00:19:47,659
objects belong together in OpenStreetMap

00:19:45,139 --> 00:19:51,029
because it's easy to check on the ground

00:19:47,659 --> 00:19:54,619
so we start now with real examples if

00:19:51,029 --> 00:19:54,619
let you wait long enough

00:19:56,539 --> 00:20:09,029
this is URL for the tool and I would

00:20:04,529 --> 00:20:14,159
like to ask you to enter and we are a

00:20:09,029 --> 00:20:18,239
name equals Hyderabad out sent her into

00:20:14,159 --> 00:20:22,679
the into the text field like I've done

00:20:18,239 --> 00:20:24,479
before done here Jassa Texas the text is

00:20:22,679 --> 00:20:29,099
bigger here repeated for your

00:20:24,479 --> 00:20:31,639
convenience and if you press run you

00:20:29,099 --> 00:20:31,639
should get

00:20:42,039 --> 00:20:50,549
you should get results roughly the

00:20:45,190 --> 00:20:54,789
result shown here now we'll have a short

00:20:50,549 --> 00:20:58,750
look of what's contributing to the query

00:20:54,789 --> 00:21:03,669
here the first thing you should notice

00:20:58,750 --> 00:21:07,179
if you have to press up this is not a

00:21:03,669 --> 00:21:11,399
reminder too much to myself you have to

00:21:07,179 --> 00:21:16,149
click after the run we have to click the

00:21:11,399 --> 00:21:19,419
the the glasses here because you need it

00:21:16,149 --> 00:21:21,370
to zoom on the real data in the

00:21:19,419 --> 00:21:25,899
beginning you will see a section of Rome

00:21:21,370 --> 00:21:28,179
not this one and so you need this to

00:21:25,899 --> 00:21:30,880
check on other words to zoom on all the

00:21:28,179 --> 00:21:33,820
results because Heidelberg is quite

00:21:30,880 --> 00:21:37,470
popular you find results for objects

00:21:33,820 --> 00:21:37,470
named headed back or around the world

00:21:38,519 --> 00:21:51,159
and so it's zooming out to almost

00:21:44,580 --> 00:21:54,480
worldwide or exactly worldwide so what

00:21:51,159 --> 00:21:58,240
this consists of is there are two lines

00:21:54,480 --> 00:22:01,539
which constitute so-called statements

00:21:58,240 --> 00:22:10,120
this one the first line was the first

00:22:01,539 --> 00:22:12,159
statement constitutes cares for to to

00:22:10,120 --> 00:22:15,850
select all the data you want to see at

00:22:12,159 --> 00:22:21,000
this one the second line the second

00:22:15,850 --> 00:22:26,139
statement actually outputs them to or

00:22:21,000 --> 00:22:28,179
outputs them back to you so the what

00:22:26,139 --> 00:22:31,059
what you wonder what we have stated here

00:22:28,179 --> 00:22:33,970
is we want notes ways in relations that

00:22:31,059 --> 00:22:39,850
is whites and for notes we four ways are

00:22:33,970 --> 00:22:43,149
for relations and we are and we have to

00:22:39,850 --> 00:22:44,440
tell it if you would just stop here then

00:22:43,149 --> 00:22:45,990
we would get all the data at the word

00:22:44,440 --> 00:22:53,200
that's not helpful

00:22:45,990 --> 00:22:55,660
so so we have to narrow down this and

00:22:53,200 --> 00:23:02,710
an effective way of narrowing down it is

00:22:55,660 --> 00:23:06,220
to to tell it which tag to use and this

00:23:02,710 --> 00:23:09,610
is the syntax with two brackets as the

00:23:06,220 --> 00:23:14,350
equal sign this comes from the thing

00:23:09,610 --> 00:23:17,830
that is depending on on your background

00:23:14,350 --> 00:23:23,410
is very obscure or very obvious a thing

00:23:17,830 --> 00:23:25,150
called its path and it's just convention

00:23:23,410 --> 00:23:27,250
that you have these brackets and the

00:23:25,150 --> 00:23:31,590
equal sign and before the equal sign the

00:23:27,250 --> 00:23:35,130
name and after the equal sign the value

00:23:31,590 --> 00:23:39,570
you can and should basically put always

00:23:35,130 --> 00:23:41,950
both paths in quotation marks but

00:23:39,570 --> 00:23:43,690
overpass will except it was out in

00:23:41,950 --> 00:23:47,590
quotation marks if there are no special

00:23:43,690 --> 00:23:48,880
characters in it it's just going to fail

00:23:47,590 --> 00:23:51,540
if there are special characters in it

00:23:48,880 --> 00:23:53,920
we'll have an example later on and

00:23:51,540 --> 00:23:54,400
that's the first thing we have told it

00:23:53,920 --> 00:23:58,180
here

00:23:54,400 --> 00:24:00,730
we want all objects that fulfill the

00:23:58,180 --> 00:24:03,250
condition that they have a name Tech was

00:24:00,730 --> 00:24:07,900
well you pile about this are exactly

00:24:03,250 --> 00:24:12,100
these 72 nodes and 23 ways and at

00:24:07,900 --> 00:24:15,220
relations and then we tell it our Center

00:24:12,100 --> 00:24:17,200
our Center makes only one coordinate per

00:24:15,220 --> 00:24:19,450
object that isn't particularly if you

00:24:17,200 --> 00:24:21,580
want to peek at the data where it is how

00:24:19,450 --> 00:24:25,450
much it is it's often the best choice

00:24:21,580 --> 00:24:29,020
because you have still a decent data

00:24:25,450 --> 00:24:32,940
size you can crush down your browser by

00:24:29,020 --> 00:24:32,940
asking for the wrong things otherwise

00:24:33,360 --> 00:24:43,990
and so you can specify multiple values

00:24:38,920 --> 00:24:46,930
here okay now a second was an example we

00:24:43,990 --> 00:24:48,940
now want to get all the streets here or

00:24:46,930 --> 00:24:51,700
the streets around that are named no and

00:24:48,940 --> 00:24:54,880
I'm afraid same conductors before we

00:24:51,700 --> 00:24:59,760
search for a tag with name in knowing

00:24:54,880 --> 00:24:59,760
I'm affair was named with key and value

00:25:09,440 --> 00:25:15,509
for historic reasons I had the full

00:25:12,929 --> 00:25:19,679
names of the types not--we and relation

00:25:15,509 --> 00:25:21,960
in the beginning and people asks asked

00:25:19,679 --> 00:25:24,899
as an extra feature to get a shortcut

00:25:21,960 --> 00:25:29,639
for all three types together so there's

00:25:24,899 --> 00:25:32,070
no order and we are this also had been

00:25:29,639 --> 00:25:33,570
quite obvious but it's it's always a

00:25:32,070 --> 00:25:36,720
develop our dozen scenes are piercing

00:25:33,570 --> 00:25:39,870
the people T bound process that's art so

00:25:36,720 --> 00:25:42,570
and we and we are so I'm going to add

00:25:39,870 --> 00:25:45,360
that I'm not sure whether it's wise to

00:25:42,570 --> 00:25:48,360
have single letters here because I want

00:25:45,360 --> 00:25:52,830
to support query language long time very

00:25:48,360 --> 00:25:56,220
long time and so once in one letter

00:25:52,830 --> 00:26:00,240
shortcuts are used here I cannot use

00:25:56,220 --> 00:26:03,240
them for anything else so I'm little bit

00:26:00,240 --> 00:26:07,049
locked into that but anyway you can

00:26:03,240 --> 00:26:09,210
short short in relation to rel so note

00:26:07,049 --> 00:26:12,649
has four let us it's the longest type

00:26:09,210 --> 00:26:16,110
specification a specific specifier and

00:26:12,649 --> 00:26:17,870
wide rel F only they have anywhere also

00:26:16,110 --> 00:26:21,029
all these three letters so I think it's

00:26:17,870 --> 00:26:28,919
it's really a design choice plus some

00:26:21,029 --> 00:26:33,629
history okay it's faster because it's

00:26:28,919 --> 00:26:35,399
only ways and I showed it to short see

00:26:33,629 --> 00:26:44,159
result but the rather result already

00:26:35,399 --> 00:26:50,039
here and now we could start to ask for a

00:26:44,159 --> 00:26:52,759
second tack in parallel you have seen we

00:26:50,039 --> 00:26:55,919
had before end results from all of the

00:26:52,759 --> 00:26:58,259
all of the i/o all of the region here

00:26:55,919 --> 00:27:00,330
because a lot of parts of these are

00:26:58,259 --> 00:27:03,419
named in knowing I'm effect including

00:27:00,330 --> 00:27:07,110
the cycle ways in foot ways and now we

00:27:03,419 --> 00:27:11,950
are adding a second tag by just writing

00:27:07,110 --> 00:27:15,700
it one after another it's just

00:27:11,950 --> 00:27:19,210
simple it's also borrowed from XPath the

00:27:15,700 --> 00:27:25,510
syntax and also the historical interface

00:27:19,210 --> 00:27:28,360
xrp head sis already it's just so it's

00:27:25,510 --> 00:27:30,190
it's always if you can write as many

00:27:28,360 --> 00:27:32,139
conditions as you want one after another

00:27:30,190 --> 00:27:34,840
and they are always connected by and we

00:27:32,139 --> 00:27:38,559
are only finding objects that are ways

00:27:34,840 --> 00:27:43,570
and that have a name take was well u m9

00:27:38,559 --> 00:27:53,049
ama felt and have a highway which equals

00:27:43,570 --> 00:27:55,529
to residential so i I'll come back to to

00:27:53,049 --> 00:27:58,389
the case of or a little bit later and

00:27:55,529 --> 00:28:02,200
again we use our tentative Getty result

00:27:58,389 --> 00:28:06,460
here you could now go to two little bits

00:28:02,200 --> 00:28:08,559
it's more that looks prettier because we

00:28:06,460 --> 00:28:11,440
know we had ket relatively few results

00:28:08,559 --> 00:28:15,549
and so it's not overloading the browser

00:28:11,440 --> 00:28:17,740
if you get the full geometry ah where we

00:28:15,549 --> 00:28:20,169
are pretty things you can always pretty

00:28:17,740 --> 00:28:20,799
print that is what space doesn't play a

00:28:20,169 --> 00:28:24,850
role

00:28:20,799 --> 00:28:28,350
the thing that controls the end of of

00:28:24,850 --> 00:28:28,350
statements are the colons

00:28:30,840 --> 00:28:38,940
so it's often helpful and to make the

00:28:34,960 --> 00:28:42,309
queries more human readable so as

00:28:38,940 --> 00:28:44,889
proposed you get the instead of the one

00:28:42,309 --> 00:28:49,330
point per object we now get the full

00:28:44,889 --> 00:28:53,559
weight geometry and here these are line

00:28:49,330 --> 00:28:54,039
strings because this is a way and how do

00:28:53,559 --> 00:28:57,039
I do it

00:28:54,039 --> 00:29:00,250
I write GM here the tricky thing about

00:28:57,039 --> 00:29:02,139
Giambi's it's already much more data

00:29:00,250 --> 00:29:09,669
which weighs four notes it doesn't make

00:29:02,139 --> 00:29:12,549
a road whether US Center or geom for for

00:29:09,669 --> 00:29:18,610
waste already five to three to five

00:29:12,549 --> 00:29:22,169
times more data for okay it was the

00:29:18,610 --> 00:29:22,169
project's alpha for relations

00:29:22,179 --> 00:29:30,099
this one takes only some seconds we are

00:29:25,359 --> 00:29:37,329
again asking for out center you just ask

00:29:30,099 --> 00:29:41,259
for all the relations that have that

00:29:37,329 --> 00:29:44,499
have oh sorry we are just asking for

00:29:41,259 --> 00:29:48,159
again for one one coordinate per

00:29:44,499 --> 00:29:51,909
relation that is found and in fact you

00:29:48,159 --> 00:29:57,369
will find three relations if you run the

00:29:51,909 --> 00:29:59,979
query the third one is its before Africa

00:29:57,369 --> 00:30:01,929
that's just the back in the software so

00:29:59,979 --> 00:30:06,879
the relation does exist the relation

00:30:01,929 --> 00:30:11,259
does not have any I need geometrical

00:30:06,879 --> 00:30:13,029
data and the software does to deliver

00:30:11,259 --> 00:30:14,889
coordinated guesses if there's no

00:30:13,029 --> 00:30:18,819
geometrical data the coordinates should

00:30:14,889 --> 00:30:21,159
be zero zero but I'll fix that but the

00:30:18,819 --> 00:30:24,849
more important point is you should keep

00:30:21,159 --> 00:30:28,839
in mind although we could think if we

00:30:24,849 --> 00:30:35,019
ask for France it's only one pick but

00:30:28,839 --> 00:30:37,299
only one object in fact we get three in

00:30:35,019 --> 00:30:40,059
this case it's not that horrible because

00:30:37,299 --> 00:30:42,939
one of the three objects is not geometry

00:30:40,059 --> 00:30:46,929
the other one is a small hamlet in

00:30:42,939 --> 00:30:50,859
Ireland and only one proper boundary

00:30:46,929 --> 00:30:53,019
exists the situation is well worse for

00:30:50,859 --> 00:30:56,109
example for our body if you try it out

00:30:53,019 --> 00:30:57,549
it's horribly slow because there are

00:30:56,109 --> 00:31:02,259
three boundaries of Germany in the

00:30:57,549 --> 00:31:07,509
database I don't know why precisely one

00:31:02,259 --> 00:31:10,449
is without the coastal area the one is

00:31:07,509 --> 00:31:16,119
emeriti boundary which is 12 nautical

00:31:10,449 --> 00:31:18,009
miles interested in sea and I don't know

00:31:16,119 --> 00:31:20,739
at the moment what's short one but the

00:31:18,009 --> 00:31:23,079
result is set if you try this it

00:31:20,739 --> 00:31:25,899
replaces with Germany or the next one

00:31:23,079 --> 00:31:29,649
more precisely this one is already slow

00:31:25,899 --> 00:31:32,039
with France because it's going to for

00:31:29,649 --> 00:31:35,410
megabat now so doesn't sounds much

00:31:32,039 --> 00:31:37,700
modern times but

00:31:35,410 --> 00:31:40,490
you should consider that your browsers

00:31:37,700 --> 00:31:42,230
called to read dirt or Barbara it's not

00:31:40,490 --> 00:31:49,850
necessary rendering it but it may just

00:31:42,230 --> 00:31:51,860
crash and if you transpose Germany it's

00:31:49,850 --> 00:31:54,290
even twenty megabytes so this is the

00:31:51,860 --> 00:31:56,830
reason why I strongly encourage you to

00:31:54,290 --> 00:32:00,380
always try out with out Center first

00:31:56,830 --> 00:32:04,790
because then you get an idea of how many

00:32:00,380 --> 00:32:09,429
results you have there's also one but

00:32:04,790 --> 00:32:09,429
never more cause it's called out count

00:32:10,630 --> 00:32:17,540
and start this only if you are a reason

00:32:15,679 --> 00:32:19,309
to assume that you can cope with the

00:32:17,540 --> 00:32:21,980
amount of data that's going to be

00:32:19,309 --> 00:32:25,730
returned this also that serve our

00:32:21,980 --> 00:32:27,410
resources are shared amongst all the

00:32:25,730 --> 00:32:30,170
people using the service it's at the

00:32:27,410 --> 00:32:35,780
moment around thirty to forty thousand

00:32:30,170 --> 00:32:40,690
people a day and so it's a fair service

00:32:35,780 --> 00:32:45,910
to them if you note download too often

00:32:40,690 --> 00:32:50,809
per let's say our large amounts of data

00:32:45,910 --> 00:32:53,179
then the server may may timeout you for

00:32:50,809 --> 00:32:55,940
for a couple of minutes usually more

00:32:53,179 --> 00:32:58,010
than fifteen to twenty minutes and for

00:32:55,940 --> 00:33:00,830
that reason you should try to avoid to

00:32:58,010 --> 00:33:02,870
download much data unless you know what

00:33:00,830 --> 00:33:05,510
you do and for that reason I always

00:33:02,870 --> 00:33:08,870
suggest you start without Center even if

00:33:05,510 --> 00:33:12,110
there are many examples out in the out

00:33:08,870 --> 00:33:14,300
of the while to do use bigger output

00:33:12,110 --> 00:33:16,130
modes there are a couple of the output

00:33:14,300 --> 00:33:18,950
modes that are actually found in the

00:33:16,130 --> 00:33:22,250
word I Howard she to go to the

00:33:18,950 --> 00:33:27,590
documentation I'm sorry for a little

00:33:22,250 --> 00:33:29,300
break I encourage you to go to the

00:33:27,590 --> 00:33:31,660
documentation and understand what they

00:33:29,300 --> 00:33:31,660
all do

00:33:40,440 --> 00:33:46,840
the one-liners are distinct output boats

00:33:44,890 --> 00:33:53,320
like the one I have already mentioned

00:33:46,840 --> 00:33:58,179
giome Center count they are more for

00:33:53,320 --> 00:34:01,390
example metered us exposed potentially

00:33:58,179 --> 00:34:05,380
expose personal data which would be

00:34:01,390 --> 00:34:07,780
except susceptible to the gdpr and for

00:34:05,380 --> 00:34:12,790
that reason I'm going to change soon

00:34:07,780 --> 00:34:14,950
this towards a mode where the username

00:34:12,790 --> 00:34:16,649
and the change at number is emitted from

00:34:14,950 --> 00:34:19,720
out meter and there will be a separate

00:34:16,649 --> 00:34:22,990
output mode out attribute and this is

00:34:19,720 --> 00:34:25,869
how all these mode boats come to come to

00:34:22,990 --> 00:34:29,530
life afterwards out attribute would be

00:34:25,869 --> 00:34:32,850
fine was out by our HTTP are and if you

00:34:29,530 --> 00:34:39,760
want to reuse out meter you would have

00:34:32,850 --> 00:34:43,240
GDP are clear reason to do so and like

00:34:39,760 --> 00:34:46,810
that the other modes comes them from the

00:34:43,240 --> 00:34:48,970
data model what you usually have is you

00:34:46,810 --> 00:34:51,070
are dealing with ways and relations and

00:34:48,970 --> 00:34:56,710
where the relations do not have geometry

00:34:51,070 --> 00:34:59,710
they have preferences and so in the

00:34:56,710 --> 00:35:02,890
beginning classically on an outside

00:34:59,710 --> 00:35:06,250
overpass you have often have to break

00:35:02,890 --> 00:35:09,150
down this to the north beforehand and so

00:35:06,250 --> 00:35:11,980
what you do is you ask overpass to

00:35:09,150 --> 00:35:13,869
deliver all the notes along with the

00:35:11,980 --> 00:35:16,030
ways and reservations and keep the

00:35:13,869 --> 00:35:18,520
references in the way since relations

00:35:16,030 --> 00:35:21,550
touch that the program that is finally

00:35:18,520 --> 00:35:23,320
consuming the data can again sort it so

00:35:21,550 --> 00:35:25,960
that it can work with this sounds a

00:35:23,320 --> 00:35:29,740
little bit complicated it's the way our

00:35:25,960 --> 00:35:32,010
story Korea the things are and many

00:35:29,740 --> 00:35:35,830
pieces of software are still that way

00:35:32,010 --> 00:35:38,260
that they need this outdated way of

00:35:35,830 --> 00:35:42,930
having the geometry on separate nodes

00:35:38,260 --> 00:35:45,790
and doing the sorting again on itself

00:35:42,930 --> 00:35:49,180
and for these reasons all these

00:35:45,790 --> 00:35:53,170
output modes exist that cater for the

00:35:49,180 --> 00:35:56,230
needs after various programs out there

00:35:53,170 --> 00:36:00,220
in the wilds to be able to digest the

00:35:56,230 --> 00:36:02,980
data there are more teachers in the

00:36:00,220 --> 00:36:03,700
documentation and which program needs

00:36:02,980 --> 00:36:08,290
which one

00:36:03,700 --> 00:36:10,330
as I've mentioned I suggest to first

00:36:08,290 --> 00:36:14,140
Travis out center just to get an idea

00:36:10,330 --> 00:36:17,320
res opponents are okay let's now get

00:36:14,140 --> 00:36:19,180
officially to know we have been at

00:36:17,320 --> 00:36:21,000
multiple text wherever there's only one

00:36:19,180 --> 00:36:24,580
at the moment

00:36:21,000 --> 00:36:30,460
well wrong height land sorry we want to

00:36:24,580 --> 00:36:33,970
filter by areas and we now have the

00:36:30,460 --> 00:36:38,230
problem you want to tell it here like we

00:36:33,970 --> 00:36:42,090
have before you search for ways that

00:36:38,230 --> 00:36:44,680
have some name bellanger Strasser and

00:36:42,090 --> 00:36:47,050
because there are many many belly -

00:36:44,680 --> 00:36:51,010
classes in Germany it's a popular name

00:36:47,050 --> 00:36:54,250
it's just maybe because it's a mellow

00:36:51,010 --> 00:36:57,280
Berlin is the capital of Germany you

00:36:54,250 --> 00:37:01,240
want to to reduce this only to a certain

00:36:57,280 --> 00:37:04,870
area say hurry back and to do this we

00:37:01,240 --> 00:37:08,440
combine as before to filters so we tell

00:37:04,870 --> 00:37:11,260
it here you want all the ways that have

00:37:08,440 --> 00:37:13,030
name that have the name

00:37:11,260 --> 00:37:16,120
Berliner Strasse attack was the name

00:37:13,030 --> 00:37:19,930
bathenosh fast attack was g name and

00:37:16,120 --> 00:37:22,320
value Berliner Strasse sorry and that

00:37:19,930 --> 00:37:27,310
our inside in area and now this thing

00:37:22,320 --> 00:37:30,670
must know which area to take and it does

00:37:27,310 --> 00:37:33,550
so from keeping the result of the

00:37:30,670 --> 00:37:40,540
previous statement you could imagine

00:37:33,550 --> 00:37:42,850
life every statement assigned to the

00:37:40,540 --> 00:37:45,760
science to a variable named underscore

00:37:42,850 --> 00:37:49,060
its results and this type in it's able

00:37:45,760 --> 00:37:53,110
to is a read this filter is able to read

00:37:49,060 --> 00:37:56,140
from underscore its results so what we

00:37:53,110 --> 00:37:59,940
do is we asked first for our areas that

00:37:56,140 --> 00:38:03,280
have the name Heidi back and

00:37:59,940 --> 00:38:05,860
we asked for always that has the name

00:38:03,280 --> 00:38:10,380
bathenosh cross and I was in the area hi

00:38:05,860 --> 00:38:10,380
doc let me put when we output them

00:38:11,400 --> 00:38:19,150
that's a result or if you tried out a

00:38:16,030 --> 00:38:24,670
Wilf announces that this is the result

00:38:19,150 --> 00:38:27,970
the result is rather more it's just

00:38:24,670 --> 00:38:31,060
telling what I have told you this one is

00:38:27,970 --> 00:38:36,430
executed first after this first

00:38:31,060 --> 00:38:39,760
statement we have the area in the we

00:38:36,430 --> 00:38:42,310
have the we have the areas your remember

00:38:39,760 --> 00:38:47,290
these are around 200 waist notes and

00:38:42,310 --> 00:38:49,630
relations the result then attack let's

00:38:47,290 --> 00:38:51,940
execute this where this future use

00:38:49,630 --> 00:38:56,460
assault it's the 200 area that you have

00:38:51,940 --> 00:39:04,330
been known before and then this one is

00:38:56,460 --> 00:39:09,700
executed third and this is a real result

00:39:04,330 --> 00:39:12,840
and this is good idea to to get back to

00:39:09,700 --> 00:39:16,170
the sack laughs mention the beginning of

00:39:12,840 --> 00:39:18,310
making the query understudies a result

00:39:16,170 --> 00:39:21,130
sharpening your understanding of a

00:39:18,310 --> 00:39:23,380
sharpening your model you have to

00:39:21,130 --> 00:39:25,960
understand 2d back which areas have

00:39:23,380 --> 00:39:28,780
caused the results just in a couple of

00:39:25,960 --> 00:39:33,010
villages north of highly back the result

00:39:28,780 --> 00:39:36,280
we want is this one here down and these

00:39:33,010 --> 00:39:40,450
one adjusts stress also basically didn't

00:39:36,280 --> 00:39:43,630
intend to get and turns out there's a

00:39:40,450 --> 00:39:46,360
relation with this do with these texts

00:39:43,630 --> 00:39:49,560
amongst Ava's name hired back and the

00:39:46,360 --> 00:39:52,630
type is boundary like political

00:39:49,560 --> 00:39:53,800
political election and that's the thing

00:39:52,630 --> 00:39:56,200
that could happen table Street rip

00:39:53,800 --> 00:40:00,130
there's an object object you never have

00:39:56,200 --> 00:40:02,830
thought of this case this extra electro

00:40:00,130 --> 00:40:06,520
a boundary in case of the job at

00:40:02,830 --> 00:40:10,780
boundary as mentioned the extra boundary

00:40:06,520 --> 00:40:12,190
for the for the landmass and it's the

00:40:10,780 --> 00:40:15,760
case of routes the extra

00:40:12,190 --> 00:40:18,310
objects with with so-called super

00:40:15,760 --> 00:40:22,050
relation where the geometry is what

00:40:18,310 --> 00:40:24,940
level of a new year in reaction father

00:40:22,050 --> 00:40:26,680
and we have to deal with them first of

00:40:24,940 --> 00:40:29,500
all we have found this by another filter

00:40:26,680 --> 00:40:33,430
what have we done we have again asked

00:40:29,500 --> 00:40:38,530
for our areas then we have asked for

00:40:33,430 --> 00:40:40,930
this is a special filter people that

00:40:38,530 --> 00:40:43,180
asked they chooses the results to return

00:40:40,930 --> 00:40:46,330
the objects that have have been

00:40:43,180 --> 00:40:48,700
responsible for creating these areas and

00:40:46,330 --> 00:40:49,990
then finally its output with geometry

00:40:48,700 --> 00:40:55,300
because you want to see where the

00:40:49,990 --> 00:40:56,710
objects are so you have three ways to

00:40:55,300 --> 00:41:00,190
come out of this problem

00:40:56,710 --> 00:41:05,890
that's quite frequent so I tell you all

00:41:00,190 --> 00:41:09,130
this shortly all the three one is to to

00:41:05,890 --> 00:41:12,400
restrict the initial set of areas which

00:41:09,130 --> 00:41:16,240
was this one we are down to much much

00:41:12,400 --> 00:41:21,220
less headed back areas because the

00:41:16,240 --> 00:41:27,970
boundary electrophysiology

00:41:21,220 --> 00:41:31,180
administratively I will not go to detail

00:41:27,970 --> 00:41:32,860
of this one but the documentation is

00:41:31,180 --> 00:41:39,160
complete here I encourage you to read it

00:41:32,860 --> 00:41:41,700
there the second approach is to use

00:41:39,160 --> 00:41:43,990
bounding box it's of general interest

00:41:41,700 --> 00:41:45,520
because there are many cases where you

00:41:43,990 --> 00:41:47,560
want to use the bounding box directly

00:41:45,520 --> 00:41:49,510
for example if you is a wizard you

00:41:47,560 --> 00:41:57,010
almost always end up with the bounding

00:41:49,510 --> 00:41:59,980
box in this case we have again taken the

00:41:57,010 --> 00:42:03,850
original areas but we have told it here

00:41:59,980 --> 00:42:06,850
we want in addition you want those ways

00:42:03,850 --> 00:42:12,120
that have a tech was key highway and the

00:42:06,850 --> 00:42:16,330
value one of Trek or residential and

00:42:12,120 --> 00:42:21,160
second that are inside one of the given

00:42:16,330 --> 00:42:23,650
areas and third that are within this

00:42:21,160 --> 00:42:26,400
explicitly specified bounding box it's

00:42:23,650 --> 00:42:29,620
in the or a southwest

00:42:26,400 --> 00:42:31,270
so this is latitudes this is a longitude

00:42:29,620 --> 00:42:33,250
this is a letter the second letter to

00:42:31,270 --> 00:42:35,680
put is always bigger than the first one

00:42:33,250 --> 00:42:37,840
this is the second longitude which is

00:42:35,680 --> 00:42:41,140
almost always bigger than the first one

00:42:37,840 --> 00:42:48,760
except you are intentionally crossing

00:42:41,140 --> 00:42:52,240
the anti meridian and for comparison the

00:42:48,760 --> 00:42:54,700
same query just without the area so you

00:42:52,240 --> 00:43:04,540
see the bounding box is much larger to

00:42:54,700 --> 00:43:11,590
the left and have a lost 1/3 for

00:43:04,540 --> 00:43:13,300
approach looks like sorry and this is a

00:43:11,590 --> 00:43:15,670
very important convenience feature of

00:43:13,300 --> 00:43:17,320
overpass tobu I'd pass away also of

00:43:15,670 --> 00:43:21,870
chosen and probably many other tools

00:43:17,320 --> 00:43:28,750
that are these most mustache syntax

00:43:21,870 --> 00:43:32,920
these double double curly brackets it's

00:43:28,750 --> 00:43:37,600
a special key B box overpass tobu will

00:43:32,920 --> 00:43:41,410
pass the query for whether such a

00:43:37,600 --> 00:43:43,350
substring was double curly braces and

00:43:41,410 --> 00:43:45,940
the keyword exists it then replaced by

00:43:43,350 --> 00:43:49,180
whatever it has taught for this in the

00:43:45,940 --> 00:43:57,340
case of P box it's just the bounding box

00:43:49,180 --> 00:44:02,140
of the of the of the area you actually

00:43:57,340 --> 00:44:02,740
see at the moment so I thank you for

00:44:02,140 --> 00:44:05,340
your attention

00:44:02,740 --> 00:44:05,340
do you have questions

00:44:13,670 --> 00:44:34,070
[Applause]

00:44:15,970 --> 00:44:35,930
yes thank you thank you for this is

00:44:34,070 --> 00:44:38,930
extremely interesting introduction into

00:44:35,930 --> 00:44:41,000
of the overpass API can you talk a

00:44:38,930 --> 00:44:44,600
little bit about the different use cases

00:44:41,000 --> 00:44:48,200
and you know how you find as as much as

00:44:44,600 --> 00:44:53,420
you know what kind of institutions or

00:44:48,200 --> 00:44:54,920
entities use the overpass API just to

00:44:53,420 --> 00:45:00,320
get some ideas about all the cool stuff

00:44:54,920 --> 00:45:02,990
that one can do that's a very difficult

00:45:00,320 --> 00:45:05,840
question depending on which level you're

00:45:02,990 --> 00:45:07,580
you ask here too I would have to go

00:45:05,840 --> 00:45:09,170
through the lock files to to get an idea

00:45:07,580 --> 00:45:11,480
who is really acquiring the database

00:45:09,170 --> 00:45:16,820
from that on you don't know what the

00:45:11,480 --> 00:45:20,060
people are doing I think obviously

00:45:16,820 --> 00:45:23,810
there's a lot of yours in within the

00:45:20,060 --> 00:45:25,880
project and that's in ten which I would

00:45:23,810 --> 00:45:29,960
say you read respectively it's the most

00:45:25,880 --> 00:45:32,060
helpful case because it's just you had

00:45:29,960 --> 00:45:36,980
these discussions and one of the points

00:45:32,060 --> 00:45:38,720
was such you had the without that were

00:45:36,980 --> 00:45:41,240
able to deliver the data whether a

00:45:38,720 --> 00:45:44,230
problem actually exists and this has

00:45:41,240 --> 00:45:46,370
much clampdown you still have

00:45:44,230 --> 00:45:48,170
unfortunately I think it's not as

00:45:46,370 --> 00:45:50,510
obvious as it was intended this query

00:45:48,170 --> 00:45:53,060
language I'm sorry for that but I think

00:45:50,510 --> 00:45:56,450
much more people can now just say oh

00:45:53,060 --> 00:45:59,000
they have taxes this query and post a

00:45:56,450 --> 00:46:01,400
link to it and so in many of the

00:45:59,000 --> 00:46:03,650
discussions whether this is a strange

00:46:01,400 --> 00:46:06,020
piece of data or so just people just

00:46:03,650 --> 00:46:07,970
turn around the link and then other

00:46:06,020 --> 00:46:10,490
people can look at precisely the data

00:46:07,970 --> 00:46:13,100
intended and how it looks at the moment

00:46:10,490 --> 00:46:14,750
when they when they check it or even if

00:46:13,100 --> 00:46:16,880
they wanted it's the moment when it was

00:46:14,750 --> 00:46:19,599
discovered depending on how it's the

00:46:16,880 --> 00:46:25,660
query was stated and

00:46:19,599 --> 00:46:30,670
the most important use case and then

00:46:25,660 --> 00:46:33,670
there are a couple of quests from from

00:46:30,670 --> 00:46:36,729
companies from time to time but I don't

00:46:33,670 --> 00:46:40,359
know what they actually do with it

00:46:36,729 --> 00:46:43,749
I personally were like well him very

00:46:40,359 --> 00:46:46,989
much the open level up the indoor editor

00:46:43,749 --> 00:46:51,579
there at least existed at least two

00:46:46,989 --> 00:46:54,160
large-scale competitors or project with

00:46:51,579 --> 00:47:00,999
similar goals also to present indoor was

00:46:54,160 --> 00:47:03,460
a with the opposite was emphasis on

00:47:00,999 --> 00:47:05,710
railway stations and so indoor mapping

00:47:03,460 --> 00:47:08,979
was lasting where really people put up

00:47:05,710 --> 00:47:11,170
the survey miss they want to do do

00:47:08,979 --> 00:47:13,839
tyrunt ring on the large scale and to

00:47:11,170 --> 00:47:16,989
this micro rendering on the small scale

00:47:13,839 --> 00:47:18,910
when you get down to to a specific

00:47:16,989 --> 00:47:24,069
region where you want to tell further

00:47:18,910 --> 00:47:26,529
details and that has been a large case

00:47:24,069 --> 00:47:31,869
and then this family of what I have

00:47:26,529 --> 00:47:33,999
mentioned these overlay Maps I'm not

00:47:31,869 --> 00:47:36,849
sure how popular I really it's not that

00:47:33,999 --> 00:47:40,119
difficult to make one that's more like

00:47:36,849 --> 00:47:42,519
one or two once we have made the first

00:47:40,119 --> 00:47:49,150
three the first one is probably was in

00:47:42,519 --> 00:47:51,640
five minutes and and so they exist many

00:47:49,150 --> 00:47:57,729
but I don't think many of them have that

00:47:51,640 --> 00:48:01,089
many users so one is the I think I had a

00:47:57,729 --> 00:48:04,029
duet Scott or two ahead I had to the

00:48:01,089 --> 00:48:05,950
streetlamps in the in the introduction

00:48:04,029 --> 00:48:09,729
the streetlamps had it even made into

00:48:05,950 --> 00:48:13,630
the local newspaper and that really had

00:48:09,729 --> 00:48:16,210
an influence because the local City

00:48:13,630 --> 00:48:18,549
Council thought that it was these

00:48:16,210 --> 00:48:20,950
historic street lamps they're powered

00:48:18,549 --> 00:48:23,380
was gas and they saw that there just

00:48:20,950 --> 00:48:26,499
were very expensive piece of scrap and

00:48:23,380 --> 00:48:30,969
wanted to replace it was electric street

00:48:26,499 --> 00:48:32,380
lamps and then an engaged local mapa

00:48:30,969 --> 00:48:35,319
came

00:48:32,380 --> 00:48:39,069
such an overlay map nice team background

00:48:35,319 --> 00:48:42,849
and provided till the labs and different

00:48:39,069 --> 00:48:47,829
colors showing look you have a real City

00:48:42,849 --> 00:48:49,690
whites point of interest

00:48:47,829 --> 00:48:51,819
Donald's were attraction you have really

00:48:49,690 --> 00:48:55,000
a citywide attraction of historic

00:48:51,819 --> 00:48:57,880
streetlamps a firm network they embrace

00:48:55,000 --> 00:49:01,359
all of the old town do you really want

00:48:57,880 --> 00:49:03,819
to scrap that and then after what the

00:49:01,359 --> 00:49:05,619
local newspaper picked up the story and

00:49:03,819 --> 00:49:08,410
in the end the lamps are still there

00:49:05,619 --> 00:49:10,869
together today the City Council managed

00:49:08,410 --> 00:49:13,809
to to restore them instead of scraps em

00:49:10,869 --> 00:49:18,279
so that's probably an extreme example

00:49:13,809 --> 00:49:21,750
but you see how it goes you are able

00:49:18,279 --> 00:49:24,819
without forming a large organization to

00:49:21,750 --> 00:49:26,470
share the duties along the way the the

00:49:24,819 --> 00:49:29,319
heavy lifting of the data is done by the

00:49:26,470 --> 00:49:31,660
overpass so making a nice presentation

00:49:29,319 --> 00:49:34,539
is done by the enthusiastic mapper and

00:49:31,660 --> 00:49:37,079
then the impact on the general public is

00:49:34,539 --> 00:49:39,490
more happening with was politics and

00:49:37,079 --> 00:49:41,859
it's going even that far but I think

00:49:39,490 --> 00:49:48,069
that's another large group of use case

00:49:41,859 --> 00:49:51,250
that exist that people use you sees is

00:49:48,069 --> 00:49:56,559
overlay Maps one of the the three things

00:49:51,250 --> 00:50:01,240
that makes mace the most load are an app

00:49:56,559 --> 00:50:03,849
set that asks for the local speed limits

00:50:01,240 --> 00:50:06,910
so I think there must be an app outside

00:50:03,849 --> 00:50:08,940
don't know which one or how many or was

00:50:06,910 --> 00:50:08,940
I

00:50:17,450 --> 00:50:23,840
could be could be but yeah could be but

00:50:20,270 --> 00:50:28,010
street complete does usually use you

00:50:23,840 --> 00:50:30,500
helpful user user agent so why should

00:50:28,010 --> 00:50:34,300
they use no user agent for one specific

00:50:30,500 --> 00:50:36,920
kind of queries it doesn't make sense so

00:50:34,300 --> 00:50:41,450
so there's probably an app outside or

00:50:36,920 --> 00:50:45,320
multiple that are that are that are

00:50:41,450 --> 00:50:46,670
asking constantly for speed limits so

00:50:45,320 --> 00:50:49,040
don't know whether it's real-time

00:50:46,670 --> 00:50:51,350
because I do not make any time

00:50:49,040 --> 00:50:55,390
guarantees I do not make even a

00:50:51,350 --> 00:50:59,270
guarantee that the services will stay

00:50:55,390 --> 00:51:02,320
will we say up there will I built that I

00:50:59,270 --> 00:51:05,090
will keep up tons keep up the server

00:51:02,320 --> 00:51:08,450
although its funded for another two

00:51:05,090 --> 00:51:12,440
years pass a German local chapter fuscus

00:51:08,450 --> 00:51:14,690
and and it hasn't have any downturns in

00:51:12,440 --> 00:51:17,200
the last two years so there are pretty

00:51:14,690 --> 00:51:17,200
good Charles

00:51:17,830 --> 00:51:25,310
but well this app uses this for for

00:51:22,340 --> 00:51:32,810
higher speed and we also have somebody

00:51:25,310 --> 00:51:35,720
who's asking for looks like fire

00:51:32,810 --> 00:51:38,000
response teams infrastructure in

00:51:35,720 --> 00:51:41,420
Switzerland and at there are some

00:51:38,000 --> 00:51:44,810
activities going on with with the Swiss

00:51:41,420 --> 00:51:48,830
fire departments using OSM they are part

00:51:44,810 --> 00:51:52,550
happy was it I assume it's it's related

00:51:48,830 --> 00:51:55,730
to this it's also that's very

00:51:52,550 --> 00:51:57,850
fascinating that the rest could be grew

00:51:55,730 --> 00:52:02,600
brigades of a very high developed

00:51:57,850 --> 00:52:06,470
country resort to awesome and even

00:52:02,600 --> 00:52:08,720
resort rather to a time to to service

00:52:06,470 --> 00:52:12,470
with no time guarantees at least as a

00:52:08,720 --> 00:52:16,970
second level but I wouldn't I wouldn't

00:52:12,470 --> 00:52:19,570
suggest that in any way I could imagine

00:52:16,970 --> 00:52:21,500
there are plans to emigrate to

00:52:19,570 --> 00:52:22,870
infrastructure that sped out of their

00:52:21,500 --> 00:52:26,510
control

00:52:22,870 --> 00:52:27,540
this has had a couple of times a couple

00:52:26,510 --> 00:52:31,530
of

00:52:27,540 --> 00:52:33,690
Lisa asks her asked for help how to set

00:52:31,530 --> 00:52:35,670
up stairs their own Papa instances and

00:52:33,690 --> 00:52:39,200
of course I don't know what they do with

00:52:35,670 --> 00:52:44,460
us but that the purpose is most useful

00:52:39,200 --> 00:52:49,740
overlay maps and and getting all data at

00:52:44,460 --> 00:52:51,480
a certain spot and so on but that's the

00:52:49,740 --> 00:53:02,910
range of applications okay other further

00:52:51,480 --> 00:53:11,250
for questions yes yeah just give the mic

00:53:02,910 --> 00:53:13,650
for them please yeah hi thanks I was

00:53:11,250 --> 00:53:15,510
just curious could you speak or give a

00:53:13,650 --> 00:53:19,740
little more information on the removal

00:53:15,510 --> 00:53:21,780
of the meta out sorry you talked about

00:53:19,740 --> 00:53:26,130
removing meta out to be in compliance

00:53:21,780 --> 00:53:27,600
with the German GDP our laws and but you

00:53:26,130 --> 00:53:29,160
mentioned something else about still

00:53:27,600 --> 00:53:33,570
being able to support that information

00:53:29,160 --> 00:53:35,820
okay what's what's happening is there

00:53:33,570 --> 00:53:38,280
had been an extensive discussion about

00:53:35,820 --> 00:53:42,300
in OpenStreetMap about what to do about

00:53:38,280 --> 00:53:46,760
the gtp our and one of the things is

00:53:42,300 --> 00:53:51,080
that the user names and user IDs and

00:53:46,760 --> 00:53:54,080
changes IDs are considered personal data

00:53:51,080 --> 00:53:59,160
you can discuss this but they are

00:53:54,080 --> 00:54:02,670
considered that way and that's the whole

00:53:59,160 --> 00:54:04,350
ins your European Union and given off

00:54:02,670 --> 00:54:07,020
the impact of European Union it's it's

00:54:04,350 --> 00:54:13,590
in fact it's or worldwide so it's not as

00:54:07,020 --> 00:54:15,900
German specific and one one of one

00:54:13,590 --> 00:54:18,000
things of my on my to-do list is to at

00:54:15,900 --> 00:54:21,690
least make it simple for people to get

00:54:18,000 --> 00:54:23,430
exactly the non personal data and for

00:54:21,690 --> 00:54:26,340
that reason they are the plan to to

00:54:23,430 --> 00:54:30,210
clamp down out meter to only the non

00:54:26,340 --> 00:54:34,290
personal data that means to to skip the

00:54:30,210 --> 00:54:36,420
username and and the change ID and the

00:54:34,290 --> 00:54:39,270
user ID from the data returned and

00:54:36,420 --> 00:54:40,900
instead have a new call out attribution

00:54:39,270 --> 00:54:45,549
that's including the state

00:54:40,900 --> 00:54:48,489
this data touch that in the end you can

00:54:45,549 --> 00:54:52,059
ask when you have proven that you are

00:54:48,489 --> 00:54:54,309
awesome user then you can still ask for

00:54:52,059 --> 00:54:57,339
all of the data because then it's

00:54:54,309 --> 00:55:00,039
considered legitimate the idea behind

00:54:57,339 --> 00:55:02,680
the gdpr is that if you have good reason

00:55:00,039 --> 00:55:04,390
to use the data then you can do so but

00:55:02,680 --> 00:55:06,759
if you haven't then you shouldn't do

00:55:04,390 --> 00:55:09,369
this the basic idea is to avoid that

00:55:06,759 --> 00:55:16,319
people sit on large data piles I have

00:55:09,369 --> 00:55:22,239
collected just in case is that and and

00:55:16,319 --> 00:55:23,999
so they sorry but so they they're

00:55:22,239 --> 00:55:29,650
forbidden they're forbidden except

00:55:23,999 --> 00:55:31,989
explicitly that so instead you can have

00:55:29,650 --> 00:55:34,390
the data if you have good reason to have

00:55:31,989 --> 00:55:37,420
this and if you are an awesome user and

00:55:34,390 --> 00:55:39,789
want to understand another osm users

00:55:37,420 --> 00:55:43,809
activity then this is always a good

00:55:39,789 --> 00:55:46,359
reason so then you can use your a trap

00:55:43,809 --> 00:55:48,489
call and in the other case you could

00:55:46,359 --> 00:55:51,489
only use continue to use the odd meter

00:55:48,489 --> 00:55:54,519
call it's in fact it's non backwards

00:55:51,489 --> 00:55:56,259
compatibility but I would prefer that

00:55:54,519 --> 00:55:58,809
way it's not yet done I would prefer

00:55:56,259 --> 00:56:01,019
that way to ensure that all the examples

00:55:58,809 --> 00:56:05,529
out there the wild still work without

00:56:01,019 --> 00:56:11,910
logging in I don't know whether that's

00:56:05,529 --> 00:56:11,910
met your question okay further questions

00:56:23,020 --> 00:56:27,380
thank you for the talk in the first

00:56:25,070 --> 00:56:31,040
place second I have a question

00:56:27,380 --> 00:56:35,480
concerning the backend of overpass API

00:56:31,040 --> 00:56:37,940
yeah and I wonder how the data of the

00:56:35,480 --> 00:56:42,170
world the OpenStreetMap data is

00:56:37,940 --> 00:56:47,300
represented and how you query this 60

00:56:42,170 --> 00:56:49,480
gigabytes of data this depends on which

00:56:47,300 --> 00:56:56,150
level of detail I could go down

00:56:49,480 --> 00:57:01,609
apparently yeah sorry 30 minutes that's

00:56:56,150 --> 00:57:04,520
quite a lot but let's sort out a couple

00:57:01,609 --> 00:57:08,090
of things doing database layout is at

00:57:04,520 --> 00:57:12,340
the end yet you have a probability model

00:57:08,090 --> 00:57:16,490
which data is likely to be asked for

00:57:12,340 --> 00:57:18,470
integer incidentally that is we can't

00:57:16,490 --> 00:57:21,230
speed up things if you know beforehand

00:57:18,470 --> 00:57:24,460
that it's likely if if you know a user

00:57:21,230 --> 00:57:31,430
is asking for a he's also asking for B

00:57:24,460 --> 00:57:35,349
and that was the main selling point of

00:57:31,430 --> 00:57:39,520
the overpass that's that I have

00:57:35,349 --> 00:57:39,520
represent the data at the backend

00:57:40,119 --> 00:57:45,170
represent that in the geometrical

00:57:42,170 --> 00:57:54,619
ordered it is the world so I do a kind

00:57:45,170 --> 00:57:56,930
of offset curve and well if I really

00:57:54,619 --> 00:57:58,760
would use 30 minutes I would wouldn't

00:57:56,930 --> 00:58:01,130
avoid to you I would avoid to use your

00:57:58,760 --> 00:58:05,060
name artery because it's quite a way

00:58:01,130 --> 00:58:06,530
away from RT but R 3 is right adhere for

00:58:05,060 --> 00:58:08,839
the ways because it cannot have subways

00:58:06,530 --> 00:58:12,080
on one coordinate but for north it's

00:58:08,839 --> 00:58:18,380
really it's it's pockets of of the local

00:58:12,080 --> 00:58:20,720
place and for ways we are just having a

00:58:18,380 --> 00:58:24,230
kind of tight artery that's it turned

00:58:20,720 --> 00:58:27,980
out to be good enough just make tithes

00:58:24,230 --> 00:58:30,320
of a certain size it's 600 by 400 meters

00:58:27,980 --> 00:58:34,099
about or so it comes quite naturally

00:58:30,320 --> 00:58:34,609
from when you try to to make an index

00:58:34,099 --> 00:58:38,960
from the

00:58:34,609 --> 00:58:43,339
data then and it skip the lower bits

00:58:38,960 --> 00:58:45,230
lose law these SLO habits then keep the

00:58:43,339 --> 00:58:50,890
upper bits and you get blocks of certain

00:58:45,230 --> 00:58:50,890
sites quite literally and then I have

00:58:50,920 --> 00:58:56,390
then I have these styles where the ways

00:58:53,509 --> 00:58:59,660
are started and so again if you ask for

00:58:56,390 --> 00:59:03,410
something with always in in Heidelberg

00:58:59,660 --> 00:59:06,079
or so it's going through the the bucket

00:59:03,410 --> 00:59:07,849
to vary the smallest pocket to 600 per

00:59:06,079 --> 00:59:11,089
foreign meters or several of them

00:59:07,849 --> 00:59:14,329
because they all belong somewhat to

00:59:11,089 --> 00:59:19,759
added back then to fewer but still some

00:59:14,329 --> 00:59:22,880
whatever above and some still some

00:59:19,759 --> 00:59:24,739
whatever further an hour and so on that

00:59:22,880 --> 00:59:29,029
was basically happening sorting the

00:59:24,739 --> 00:59:34,910
objects by as a geography the best way I

00:59:29,029 --> 00:59:38,720
know and then and then retrieving them

00:59:34,910 --> 00:59:41,299
requires essentially avoiding all the

00:59:38,720 --> 00:59:44,049
the indexing because really what you

00:59:41,299 --> 00:59:46,999
have different from SQL where you have

00:59:44,049 --> 00:59:49,339
expect a more or less random access

00:59:46,999 --> 00:59:51,920
patterns but do not expect that this is

00:59:49,339 --> 00:59:54,650
a you this is an often used case that

00:59:51,920 --> 00:59:57,499
you have to all the objects between two

00:59:54,650 --> 01:00:00,650
index points are requested on on the

00:59:57,499 --> 01:00:03,319
same time because it's not expected to

01:00:00,650 --> 01:00:07,999
be happening very often this is not

01:00:03,319 --> 01:00:09,470
optimized for so I do optimize for this

01:00:07,999 --> 01:00:12,619
because it's very quick with the

01:00:09,470 --> 01:00:14,509
frequent that people ask for give me all

01:00:12,619 --> 01:00:16,309
the data of this or even if you have

01:00:14,509 --> 01:00:18,980
given me all the data of this was a

01:00:16,309 --> 01:00:21,109
certain search criteria if you just get

01:00:18,980 --> 01:00:24,829
through some sound objects Cannings it's

01:00:21,109 --> 01:00:27,650
it's that's measure of microseconds it's

01:00:24,829 --> 01:00:31,549
so fast it's fast enough so it's all

01:00:27,650 --> 01:00:33,559
about these pockets in the end you could

01:00:31,549 --> 01:00:38,059
say that is technically that it's

01:00:33,559 --> 01:00:40,910
obsolete with the arrival of SSDs but

01:00:38,059 --> 01:00:42,250
then again there are still a difference

01:00:40,910 --> 01:00:45,640
between

01:00:42,250 --> 01:00:47,790
a reading a tragic SSD and reading and

01:00:45,640 --> 01:00:51,870
writing from rum so there is still some

01:00:47,790 --> 01:00:56,290
some leeway to to gain by having blocks

01:00:51,870 --> 01:01:00,040
but I have no idea how much it really is

01:00:56,290 --> 01:01:03,490
but in the end it's it's got faster with

01:01:00,040 --> 01:01:05,080
SSDs it's there's not so that somebody

01:01:03,490 --> 01:01:09,340
came around with an SQL implementations

01:01:05,080 --> 01:01:12,880
it's just so much faster that everybody

01:01:09,340 --> 01:01:20,410
would prefer that fun so I think the

01:01:12,880 --> 01:01:22,060
tricks are still somewhat helps another

01:01:20,410 --> 01:01:25,120
question sorry

01:01:22,060 --> 01:01:27,520
I think last I checked on the OSM wiki

01:01:25,120 --> 01:01:29,860
there's a few instances of overpass and

01:01:27,520 --> 01:01:31,510
in fact on turbo or even in jasm you can

01:01:29,860 --> 01:01:34,840
select which it which end point you want

01:01:31,510 --> 01:01:37,960
to you want to hits to retrieve data is

01:01:34,840 --> 01:01:40,780
it true that the main overpass instance

01:01:37,960 --> 01:01:47,380
is the only one that serves up data at a

01:01:40,780 --> 01:01:52,300
point in time attic data or I think for

01:01:47,380 --> 01:01:54,160
addict data yes it could be the case the

01:01:52,300 --> 01:01:57,780
Russian instance came back to life

01:01:54,160 --> 01:02:00,220
recently but it's not serving a dictator

01:01:57,780 --> 01:02:03,340
this is for no apparent reason this is

01:02:00,220 --> 01:02:06,310
mostly because I have to trust I think

01:02:03,340 --> 01:02:09,700
the Russians have remade the oil system

01:02:06,310 --> 01:02:13,810
but they had been very good at emulating

01:02:09,700 --> 01:02:16,030
the old system I I think probably in the

01:02:13,810 --> 01:02:18,580
end it's just the 3m well it's very

01:02:16,030 --> 01:02:21,250
similar so I need to trust really that I

01:02:18,580 --> 01:02:24,760
could put more on the system but that's

01:02:21,250 --> 01:02:28,510
fast enough and so that's not doing

01:02:24,760 --> 01:02:31,500
attic data yet and on the other end

01:02:28,510 --> 01:02:33,970
aren't and under my dear controls so I

01:02:31,500 --> 01:02:35,530
cannot force them to do a dictator I

01:02:33,970 --> 01:02:39,580
think yeah it's the only attitude

01:02:35,530 --> 01:02:43,540
towards adding data and once we have to

01:02:39,580 --> 01:02:46,150
split between GDP our relevant data and

01:02:43,540 --> 01:02:48,490
GD power or relevant data I think

01:02:46,150 --> 01:02:51,430
there's probably even more impact to to

01:02:48,490 --> 01:02:53,890
restrict to GDP our free debt or GDP are

01:02:51,430 --> 01:02:54,360
not affected data and leave artists

01:02:53,890 --> 01:03:00,930
compare

01:02:54,360 --> 01:03:03,210
we tiny piece of user data out and for

01:03:00,930 --> 01:03:05,640
that case even parts of the Attic data

01:03:03,210 --> 01:03:07,980
not on because you can have an history

01:03:05,640 --> 01:03:11,400
of an object without looking at the user

01:03:07,980 --> 01:03:15,090
names just have to to rethink the thing

01:03:11,400 --> 01:03:17,250
there is it's interesting to get back a

01:03:15,090 --> 01:03:20,850
deleted object it's interesting to get

01:03:17,250 --> 01:03:23,790
back the old geometry of an object if

01:03:20,850 --> 01:03:27,890
something has gone wrong and for that

01:03:23,790 --> 01:03:32,910
you don't get two doors a username and

01:03:27,890 --> 01:03:34,920
for that reason once once the cut is

01:03:32,910 --> 01:03:36,900
implemented clearly I think it's

01:03:34,920 --> 01:03:39,180
probably even easier to educator but I

01:03:36,900 --> 01:03:43,920
think no other instances at the moment

01:03:39,180 --> 01:03:46,050
yes usually surrounding attic data I

01:03:43,920 --> 01:03:49,590
think in the past few months there's

01:03:46,050 --> 01:03:51,990
been some issues with server load from

01:03:49,590 --> 01:03:54,780
users running attic queries

01:03:51,990 --> 01:03:57,330
I noticed the instance specifically

01:03:54,780 --> 01:03:59,250
where it was possible to retrieve all

01:03:57,330 --> 01:04:01,920
roads within a given country like using

01:03:59,250 --> 01:04:03,750
like a geo coded area search such as

01:04:01,920 --> 01:04:06,710
like return all roads at a point in time

01:04:03,750 --> 01:04:10,200
in Ghana but the same query wasn't

01:04:06,710 --> 01:04:11,850
runnable or executable over Iceland for

01:04:10,200 --> 01:04:13,620
even a small subset of roads like a

01:04:11,850 --> 01:04:16,140
residential give me all residential

01:04:13,620 --> 01:04:19,440
highways at a point in time so are there

01:04:16,140 --> 01:04:20,880
like do you know of the performance

01:04:19,440 --> 01:04:26,310
issues surrounding that and are there

01:04:20,880 --> 01:04:29,100
plans to my response to this was to make

01:04:26,310 --> 01:04:33,120
the code more efficient and that's

01:04:29,100 --> 01:04:34,920
currently in the pipeline and it hasn't

01:04:33,120 --> 01:04:36,800
been finished before the conference and

01:04:34,920 --> 01:04:39,600
it's not a good idea to roll out of

01:04:36,800 --> 01:04:42,420
version doing a conference so it's going

01:04:39,600 --> 01:04:47,790
live after the conference probably was a

01:04:42,420 --> 01:04:50,970
couple of days delay and local tests

01:04:47,790 --> 01:04:53,850
it's about 30 to 50 percent faster and

01:04:50,970 --> 01:04:56,340
it's probably just enough relief to get

01:04:53,850 --> 01:04:58,530
the the productive instance back on

01:04:56,340 --> 01:05:01,530
track by the way one of the productive

01:04:58,530 --> 01:05:04,770
instance isn't even under overload yeah

01:05:01,530 --> 01:05:07,420
is it for that's it's pretty fun but

01:05:04,770 --> 01:05:10,630
that's probably another discussion for

01:05:07,420 --> 01:05:16,120
for how it is implemented we want it

01:05:10,630 --> 01:05:19,690
just fit on the SSD and it's attached

01:05:16,120 --> 01:05:23,230
already surpassed the magical 400

01:05:19,690 --> 01:05:27,250
gigabyte limit which is convenient for

01:05:23,230 --> 01:05:29,170
having normal data warehouse SSDs with

01:05:27,250 --> 01:05:35,560
some security margin through the fall in

01:05:29,170 --> 01:05:39,280
the 80s that are popular and so we start

01:05:35,560 --> 01:05:42,610
to compress things was on the one end

01:05:39,280 --> 01:05:50,290
with two years with Judith and on the

01:05:42,610 --> 01:05:52,660
other end was was as at four and gzip is

01:05:50,290 --> 01:05:57,970
more efficient in compressing but that

01:05:52,660 --> 01:06:00,880
far is much faster and the as at forward

01:05:57,970 --> 01:06:04,090
at the moment is borderline big it's

01:06:00,880 --> 01:06:06,460
approaching rather quickly is a 400 gig

01:06:04,090 --> 01:06:09,580
limit when I run again into problems

01:06:06,460 --> 01:06:12,310
with Sears was the size of the SSDs of

01:06:09,580 --> 01:06:14,020
the server so I'm not sure I can keep it

01:06:12,310 --> 01:06:19,510
up and for that reason there's a second

01:06:14,020 --> 01:06:21,970
one that's that's running the still

01:06:19,510 --> 01:06:24,120
running the gzip algorithm that's

01:06:21,970 --> 01:06:28,480
because it's the database is smaller and

01:06:24,120 --> 01:06:33,310
I hope was sorry was changing to the new

01:06:28,480 --> 01:06:35,710
version that I can update pose to the

01:06:33,310 --> 01:06:39,910
asset for worse because it said in both

01:06:35,710 --> 01:06:43,030
quicker so I really expect that the

01:06:39,910 --> 01:06:45,790
performance issues will stay away for a

01:06:43,030 --> 01:06:48,280
year or so once the new version is out

01:06:45,790 --> 01:06:50,620
it will be my job to to find enough

01:06:48,280 --> 01:06:54,970
things to optimize as a common upcoming

01:06:50,620 --> 01:06:57,340
year to then again have enough leap

01:06:54,970 --> 01:06:59,080
ahead of the demand with the same

01:06:57,340 --> 01:07:02,050
hardware or otherwise they are too got

01:06:59,080 --> 01:07:04,330
better but I expect to stand there to

01:07:02,050 --> 01:07:07,710
stay at this hardware for I think

01:07:04,330 --> 01:07:07,710
another two years or so

01:07:09,270 --> 01:07:23,470
okay further questions just because he

01:07:21,040 --> 01:07:25,630
mentioned Hardware just now I was

01:07:23,470 --> 01:07:30,609
curious what kind of hardware are you

01:07:25,630 --> 01:07:35,530
using for the server we are using for

01:07:30,609 --> 01:07:39,720
the production units we are using an SSD

01:07:35,530 --> 01:07:39,720
or 480 gigabytes

01:07:39,900 --> 01:07:46,630
gzip C SSD doesn't play any role at all

01:07:43,930 --> 01:07:48,880
as the speed of say SSD or the asset for

01:07:46,630 --> 01:07:52,390
probably does not play a role I think

01:07:48,880 --> 01:07:55,960
it's really a demand the speakers and

01:07:52,390 --> 01:07:57,700
the debar just makes the server doesn't

01:07:55,960 --> 01:08:02,800
make such a server fools so there's no

01:07:57,700 --> 01:08:05,740
limit really touched and I don't know

01:08:02,800 --> 01:08:07,599
what the processor is it's it's

01:08:05,740 --> 01:08:09,880
reporting it's that it's having eight

01:08:07,599 --> 01:08:11,890
cores but I think it's for real costs

01:08:09,880 --> 01:08:15,330
and it's doing hyper-threading

01:08:11,890 --> 01:08:19,270
it definitely has none of the expect

01:08:15,330 --> 01:08:21,580
however mitigations because it's having

01:08:19,270 --> 01:08:24,009
none critical data and if there's

01:08:21,580 --> 01:08:28,930
something happening I could just throw

01:08:24,009 --> 01:08:31,060
away see is a desolation and reset up

01:08:28,930 --> 01:08:36,420
the servers it's a matter of less than a

01:08:31,060 --> 01:08:39,819
day essentially because you are going to

01:08:36,420 --> 01:08:49,480
copy 500 years ago the traffic but four

01:08:39,819 --> 01:08:51,460
gigabytes of data and yep yeah it's out

01:08:49,480 --> 01:08:55,350
it's it's a SSD it's afforded 80

01:08:51,460 --> 01:08:58,930
gigabyte SSD and note processor was

01:08:55,350 --> 01:08:59,699
forward for eight cause including hyper

01:08:58,930 --> 01:09:07,600
sorry

01:08:59,699 --> 01:09:09,370
thank you okay further questions okay

01:09:07,600 --> 01:09:12,520
then I thank you for staying here I'm

01:09:09,370 --> 01:09:15,180
sorry for the a little bit difficult

01:09:12,520 --> 01:09:15,180
talk

01:09:15,210 --> 01:09:18,080

YouTube URL: https://www.youtube.com/watch?v=9gyVPWC7q2E


