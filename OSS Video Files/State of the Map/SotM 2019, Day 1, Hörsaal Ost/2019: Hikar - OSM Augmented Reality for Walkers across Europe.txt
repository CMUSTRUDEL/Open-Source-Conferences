Title: 2019: Hikar - OSM Augmented Reality for Walkers across Europe
Publication date: 2019-09-26
Playlist: SotM 2019, Day 1, HÃ¶rsaal Ost
Description: 
	Hikar is an OSM-based augmented reality navigation app for walkers and hikers, showing OSM ways overlaid on the camera feed of the device and, in the latest version, virtual signposts pointing the way to nearby points of interest. This technical talk will introduce Hikar, detail the many new developments since it was last presented at SOTM Birmingham 2013, and describe how it works in technical detail.

Augmented reality (AR) has gained a great deal of media attention in recent years, helped in no small measure by the massive mainstream success of Pokemon Go. However, AR has a great deal of potential for real-world applications too, particularly for outdoor users, which has only partly been realised to date.

A number of geospatial AR apps have been available for some years, including Layar and Wikitude, primarily focusing on points of interest (POIs), but many are proprietary and closed-source. One potential but little-explored application of AR is to provide navigation tools for hikers and other outdoor users, by overlaying paths and hiking trails on the camera feed of the device. An early version of the app discussed here, Hikar, was presented at SOTM Birmingham 2013, with the footpaths and trails sourced from OSM; however this version was difficult to use and was restricted in coverage to England and Wales.

After a hiatus, development on Hikar has restarted in the past year, partly inspired by increased mainstream interest in AR and helped a great deal by the availability of global Terrarium elevation tiles and increasingly-affordable web hosting. The app (available on Google Play) now covers the whole of Europe and shows not only OSM ways but also virtual signposts, showing the distance and direction to nearby OSM POIs at path junctions, helping people navigate in the field. Virtual signposts support Greek and Cyrillic as well as Roman alphabets. The talk will include an in-depth technical discussion on how the virtual signposts feature has been implemented.

Problems and issues with the app as it stands (such as the realism of the path and signpost placement, and inaccuracies with GPS and mapping data) will be discussed, along with strategies for resolving those problems, and future work (which may have already started by SOTM) will be outlined, including the use of computer vision  and surface detection to more accurately place the virtual data within the real world.

Nick Whitelegg

https://pretalx.com/sotm2019/talk/DETEML/
Captions: 
	00:00:07,580 --> 00:00:16,210
okay thank you so my name's Nick white

00:00:11,210 --> 00:00:18,890
leg I am a lecturer at Solent University

00:00:16,210 --> 00:00:21,080
which is in Southampton which is

00:00:18,890 --> 00:00:23,890
basically the southern UK basically the

00:00:21,080 --> 00:00:26,870
middle of the south coast facing France

00:00:23,890 --> 00:00:30,530
so that's basically where I'm based and

00:00:26,870 --> 00:00:33,620
I'm here I'm a long-term OpenStreetMap

00:00:30,530 --> 00:00:36,500
contributor I got involved in the very

00:00:33,620 --> 00:00:39,530
early days 2005 really when I first met

00:00:36,500 --> 00:00:41,210
Steve coasts have been involved in over

00:00:39,530 --> 00:00:43,670
through that for an awful long time now

00:00:41,210 --> 00:00:48,350
but I'm here today to talk about my

00:00:43,670 --> 00:00:53,870
augmented reality project called high

00:00:48,350 --> 00:00:56,989
car okay now I'm sure most of you know

00:00:53,870 --> 00:00:59,630
what augmented reality is these days the

00:00:56,989 --> 00:01:02,570
most obvious example is probably Pokemon

00:00:59,630 --> 00:01:07,880
go but basically it's the augmentation

00:01:02,570 --> 00:01:09,710
of the real world as seen typically

00:01:07,880 --> 00:01:14,179
through the camera feeds of your device

00:01:09,710 --> 00:01:16,789
such as your smart phone your smart

00:01:14,179 --> 00:01:19,639
glasses whatever you might be using with

00:01:16,789 --> 00:01:22,069
computer-generated data so that's what

00:01:19,639 --> 00:01:25,189
augmented reality is the real world

00:01:22,069 --> 00:01:27,499
augmented with computer-generated data

00:01:25,189 --> 00:01:28,939
now there are various variants I'm not

00:01:27,499 --> 00:01:31,789
going to go into the variants and great

00:01:28,939 --> 00:01:35,569
details it's really off topic marker

00:01:31,789 --> 00:01:39,020
based AR markoulis AR and but what I'm

00:01:35,569 --> 00:01:41,179
what hike are uses is it hasn't really

00:01:39,020 --> 00:01:44,450
got a very formal term but I like to

00:01:41,179 --> 00:01:47,799
call it geographic a are now Geographic

00:01:44,450 --> 00:01:51,619
augmented reality is the use of the

00:01:47,799 --> 00:01:53,389
devices GPS location in other words its

00:01:51,619 --> 00:01:54,880
current location on earth measured of

00:01:53,389 --> 00:01:57,979
course in latitude and longitude

00:01:54,880 --> 00:01:59,899
together with data from the sensors so

00:01:57,979 --> 00:02:04,130
the accelerometer and the magnetic field

00:01:59,899 --> 00:02:06,770
sensor to work out where on the earth

00:02:04,130 --> 00:02:08,599
you are what direction you're facing

00:02:06,770 --> 00:02:11,450
whether you're facing north south east

00:02:08,599 --> 00:02:15,170
or west and what the tilt of the device

00:02:11,450 --> 00:02:18,500
is and from that work out what the

00:02:15,170 --> 00:02:20,660
window on the world is that your phone

00:02:18,500 --> 00:02:22,670
can currently see

00:02:20,660 --> 00:02:24,890
and then what you can do with geographic

00:02:22,670 --> 00:02:27,800
AR is you can download data such as

00:02:24,890 --> 00:02:30,470
OpenStreetMap data and you can work out

00:02:27,800 --> 00:02:34,610
what portion of the real world is

00:02:30,470 --> 00:02:40,220
currently visible on the field of view

00:02:34,610 --> 00:02:43,940
the viewport of your device so high car

00:02:40,220 --> 00:02:46,160
uses geographic AR it doesn't yet use

00:02:43,940 --> 00:02:48,560
computer vision based techniques by I'm

00:02:46,160 --> 00:02:50,420
going to come back onto that later so

00:02:48,560 --> 00:02:51,860
what is the state of geographic AR at

00:02:50,420 --> 00:02:54,670
the moment well it's been around for a

00:02:51,860 --> 00:02:58,340
few years now I think was around 2010

00:02:54,670 --> 00:03:01,130
2011 that geographic AR first became

00:02:58,340 --> 00:03:04,070
popular because that's when smartphones

00:03:01,130 --> 00:03:05,570
first really took off so Android really

00:03:04,070 --> 00:03:07,300
took off quite a lot around that time

00:03:05,570 --> 00:03:11,780
and there quite a lot of early

00:03:07,300 --> 00:03:13,160
geographic a our apps Wikitude they're

00:03:11,780 --> 00:03:15,820
still going they're based in the

00:03:13,160 --> 00:03:18,050
Saltzburg i believe but they produced

00:03:15,820 --> 00:03:21,260
essentially a point of interest browser

00:03:18,050 --> 00:03:24,440
where you could go to a city you could

00:03:21,260 --> 00:03:26,210
view the city through your phone through

00:03:24,440 --> 00:03:28,070
the camera of your phone and then you

00:03:26,210 --> 00:03:30,070
could see these great big markers these

00:03:28,070 --> 00:03:33,410
great big augmented reality markers

00:03:30,070 --> 00:03:35,270
telling you information about a point of

00:03:33,410 --> 00:03:37,760
interest so if you're wandering around

00:03:35,270 --> 00:03:39,710
heidelberg city center for example and

00:03:37,760 --> 00:03:42,200
he wanted to know more about the church

00:03:39,710 --> 00:03:43,910
let's say you could point something like

00:03:42,200 --> 00:03:46,520
witih tude at the church and it will

00:03:43,910 --> 00:03:48,650
give you information about it so those

00:03:46,520 --> 00:03:50,030
sorts of AR apps have been around for an

00:03:48,650 --> 00:03:55,100
awful long time now a good few years

00:03:50,030 --> 00:03:56,870
since around 2010 2011 however the big

00:03:55,100 --> 00:03:58,459
problem with the loss of these AR apps

00:03:56,870 --> 00:04:01,190
as they are closed source and

00:03:58,459 --> 00:04:03,890
proprietary now obviously most of us are

00:04:01,190 --> 00:04:07,070
probably from an open source free

00:04:03,890 --> 00:04:08,780
software world Foss world so but the big

00:04:07,070 --> 00:04:10,670
problem with a lot of a are lots of

00:04:08,780 --> 00:04:13,130
geographic AR is that it's closed source

00:04:10,670 --> 00:04:15,320
and proprietary there are a few

00:04:13,130 --> 00:04:18,470
exceptions show-me hills that's quite a

00:04:15,320 --> 00:04:22,730
nice app which points out identifies

00:04:18,470 --> 00:04:25,700
Peaks that is GPL but one little

00:04:22,730 --> 00:04:27,980
explored area of AR is the countryside

00:04:25,700 --> 00:04:30,110
navigation so if you're out in the

00:04:27,980 --> 00:04:32,330
countryside and you want to use AR to

00:04:30,110 --> 00:04:34,069
help you work out where the path is and

00:04:32,330 --> 00:04:36,560
where it goes or the direction to

00:04:34,069 --> 00:04:38,479
various nearby points of interest then

00:04:36,560 --> 00:04:41,270
hasn't been a great deal of work in this

00:04:38,479 --> 00:04:43,849
area to date neither closed-source

00:04:41,270 --> 00:04:49,090
nor open source so this is precisely

00:04:43,849 --> 00:04:52,460
where hi car my project aims to step in

00:04:49,090 --> 00:04:54,469
so what is my car

00:04:52,460 --> 00:04:56,180
well first of all I think I'll move

00:04:54,469 --> 00:04:59,360
forward a slide just to give you a few

00:04:56,180 --> 00:05:01,699
screenshots so these are screenshots of

00:04:59,360 --> 00:05:03,650
hi car some of them are development

00:05:01,699 --> 00:05:06,590
snapshot so it might not look exactly

00:05:03,650 --> 00:05:08,389
like this right now but in the top left

00:05:06,590 --> 00:05:10,699
that's somewhere in Northern Ireland

00:05:08,389 --> 00:05:13,370
where I went this time last year and

00:05:10,699 --> 00:05:15,740
it's pointing the user to the highest

00:05:13,370 --> 00:05:19,280
peak in Northern Ireland sleeved on it

00:05:15,740 --> 00:05:23,960
it's telling you it's on the Left bottom

00:05:19,280 --> 00:05:26,810
left is also on sleeved honored top

00:05:23,960 --> 00:05:28,969
right that shows you a new feature which

00:05:26,810 --> 00:05:31,430
I'm going to talk about later virtual

00:05:28,969 --> 00:05:33,680
notice boards and bottom right again

00:05:31,430 --> 00:05:36,349
that shows you a new feature in noir

00:05:33,680 --> 00:05:40,729
point 3 which is the ability to route in

00:05:36,349 --> 00:05:43,099
augmented reality to a nearby Pio I so

00:05:40,729 --> 00:05:46,310
the left-hand side to have been present

00:05:43,099 --> 00:05:50,750
for about nine months now the right hand

00:05:46,310 --> 00:05:53,419
side are new features right so my car

00:05:50,750 --> 00:05:57,229
started quite a while ago a version of

00:05:53,419 --> 00:06:00,169
it existed as a standalone app in 2013

00:05:57,229 --> 00:06:02,930
and I presented that state of the map

00:06:00,169 --> 00:06:05,569
Birmingham however it was pretty limited

00:06:02,930 --> 00:06:07,129
in scope its sort of worked it wasn't on

00:06:05,569 --> 00:06:09,680
Google Play how to compile it from

00:06:07,129 --> 00:06:13,250
source and it only worked in England and

00:06:09,680 --> 00:06:14,539
Wales occasional development in the

00:06:13,250 --> 00:06:16,699
intervening years have really started

00:06:14,539 --> 00:06:20,150
seriously developing it now for about

00:06:16,699 --> 00:06:22,789
the last 18 months primarily due to the

00:06:20,150 --> 00:06:26,930
increased interest in AR pokemon go and

00:06:22,789 --> 00:06:29,870
also a our core and they are kit which

00:06:26,930 --> 00:06:32,990
are Google and apples a our libraries

00:06:29,870 --> 00:06:34,849
respectively so noir point to the first

00:06:32,990 --> 00:06:37,580
version with virtual signposts was

00:06:34,849 --> 00:06:40,430
released in March 2019 and naught point

00:06:37,580 --> 00:06:42,560
three was literally out this Thursday in

00:06:40,430 --> 00:06:44,990
the last week so nought point three is

00:06:42,560 --> 00:06:47,940
literally just out

00:06:44,990 --> 00:06:50,280
right quick words about the architecture

00:06:47,940 --> 00:06:52,170
of high caste so this is a fairly

00:06:50,280 --> 00:06:55,290
technical talk I talked about in some

00:06:52,170 --> 00:06:57,630
detail about how it actually works

00:06:55,290 --> 00:07:01,590
so the act by car is over there on the

00:06:57,630 --> 00:07:05,070
left so it makes a request over to the

00:07:01,590 --> 00:07:08,030
high car API so there is an API going on

00:07:05,070 --> 00:07:10,770
on the high caste server and that serves

00:07:08,030 --> 00:07:14,520
OpenStreetMap data so high car is

00:07:10,770 --> 00:07:16,590
OpenStreetMap based pretty obviously how

00:07:14,520 --> 00:07:20,310
the high car api serves OpenStreetMap

00:07:16,590 --> 00:07:22,680
data in geo jason so the high car API

00:07:20,310 --> 00:07:25,200
sends about you JSON data of

00:07:22,680 --> 00:07:28,200
OpenStreetMap data and it's a tie it

00:07:25,200 --> 00:07:32,910
uses it's a tiled service so it uses the

00:07:28,200 --> 00:07:34,680
standard XYZ tile format it serves

00:07:32,910 --> 00:07:36,960
vector data obviously because it's geo

00:07:34,680 --> 00:07:41,220
Jason but nonetheless it uses the

00:07:36,960 --> 00:07:45,000
standard XYZ tiling system my car ATI is

00:07:41,220 --> 00:07:47,040
backed by an OS M post gist database and

00:07:45,000 --> 00:07:49,740
that's the same post gist database that

00:07:47,040 --> 00:07:53,760
mattnic uses so the one that you use OS

00:07:49,740 --> 00:07:55,800
m to PG SQL to populate as well as that

00:07:53,760 --> 00:07:57,960
obviously an augmented reality app for

00:07:55,800 --> 00:08:00,330
hikers and outdoor users it's going to

00:07:57,960 --> 00:08:02,250
need elevation data it's not going to be

00:08:00,330 --> 00:08:05,220
much use in a hilly or mountainous area

00:08:02,250 --> 00:08:07,260
without elevation data so I also grab

00:08:05,220 --> 00:08:09,330
elevation data from also called

00:08:07,260 --> 00:08:12,270
terrarium tiles I'll come back to those

00:08:09,330 --> 00:08:16,800
in a minute so that's the overall

00:08:12,270 --> 00:08:18,810
architecture so data preparation I

00:08:16,800 --> 00:08:22,020
download on an irregular basis about

00:08:18,810 --> 00:08:24,690
every six months from geo fabric filter

00:08:22,020 --> 00:08:27,450
with osmosis to select the data I want

00:08:24,690 --> 00:08:30,660
and then important to post gist with OS

00:08:27,450 --> 00:08:34,490
m to PG SQL so very standard OS M

00:08:30,660 --> 00:08:34,490
toolchain there to set up the database

00:08:35,210 --> 00:08:39,700
yeah much had that have already talked

00:08:37,860 --> 00:08:42,880
about

00:08:39,700 --> 00:08:45,340
the elevation data now one point of

00:08:42,880 --> 00:08:47,910
interest is that the data once it's been

00:08:45,340 --> 00:08:50,470
downloaded is cached on the device and

00:08:47,910 --> 00:08:52,900
furthermore you can download the data in

00:08:50,470 --> 00:08:54,280
advance from home so if you are going

00:08:52,900 --> 00:08:57,310
somewhere where there's a very bad

00:08:54,280 --> 00:08:59,650
internet connection you can pre download

00:08:57,310 --> 00:09:04,620
the data onto your device and then you

00:08:59,650 --> 00:09:04,620
can use high car without any internet

00:09:06,000 --> 00:09:11,800
right so basically it uses a tiling

00:09:08,980 --> 00:09:15,310
system as I've said so when you're at a

00:09:11,800 --> 00:09:21,190
certain location what happens is that it

00:09:15,310 --> 00:09:23,830
downloads your current X Y Zed tile but

00:09:21,190 --> 00:09:26,170
also the eight surrounding ones so that

00:09:23,830 --> 00:09:28,510
allows you to wander around for some

00:09:26,170 --> 00:09:31,060
distance before it needs to download any

00:09:28,510 --> 00:09:32,890
more new data so it's the current tile

00:09:31,060 --> 00:09:35,080
and the eight surrounding one so nine

00:09:32,890 --> 00:09:37,780
tiles in total and then when you move

00:09:35,080 --> 00:09:39,370
into an adjacent tile it will download

00:09:37,780 --> 00:09:41,950
the next nine

00:09:39,370 --> 00:09:44,260
and when I say download I also mean load

00:09:41,950 --> 00:09:46,750
from file as well so if you've pre

00:09:44,260 --> 00:09:48,750
downloaded the data this system of

00:09:46,750 --> 00:09:55,960
downloading the nine surrounding tiles

00:09:48,750 --> 00:09:58,089
still works from file okay so where

00:09:55,960 --> 00:10:00,670
we'll hike our work now it is important

00:09:58,089 --> 00:10:02,710
to note that it isn't global yet there's

00:10:00,670 --> 00:10:06,490
no technical reason why that's the case

00:10:02,710 --> 00:10:10,240
is just due to my hosting that this is a

00:10:06,490 --> 00:10:13,750
is available in the whole of Europe so

00:10:10,240 --> 00:10:16,900
wherever you go in Europe PI cart will

00:10:13,750 --> 00:10:20,110
work I've tested it in the field in

00:10:16,900 --> 00:10:23,710
three countries now UK obviously Germany

00:10:20,110 --> 00:10:27,370
and Greece but it should work in the

00:10:23,710 --> 00:10:29,290
whole of Europe now if someone is from

00:10:27,370 --> 00:10:31,240
somewhere outside of Europe and

00:10:29,290 --> 00:10:35,710
particularly if you're in a relatively

00:10:31,240 --> 00:10:38,710
small country I am quite happy to add

00:10:35,710 --> 00:10:41,530
other small or small sparsely populated

00:10:38,710 --> 00:10:45,040
countries on an ad-hoc basis so if it's

00:10:41,530 --> 00:10:46,630
say someone like Nepal or something like

00:10:45,040 --> 00:10:48,910
that that's fine if it's someone like

00:10:46,630 --> 00:10:50,860
the USA then my server can't handle the

00:10:48,910 --> 00:10:52,680
whole of the USA at the moment maybe

00:10:50,860 --> 00:10:54,779
it's just something like these said

00:10:52,680 --> 00:11:01,020
National Park then I'd be quite happy to

00:10:54,779 --> 00:11:04,440
do that okay so many thanks to Hetzler a

00:11:01,020 --> 00:11:06,630
number of osm contributors know that

00:11:04,440 --> 00:11:08,460
number of time contributors alerted me

00:11:06,630 --> 00:11:12,270
to het snow earlier in the year they do

00:11:08,460 --> 00:11:14,430
produce very good good value hosting so

00:11:12,270 --> 00:11:20,220
it's thanks to them that I can now host

00:11:14,430 --> 00:11:22,230
the whole of Europe okay hike our web

00:11:20,220 --> 00:11:25,740
api I've talked about that Sergio Jason

00:11:22,230 --> 00:11:29,730
based Web API it is available on my get

00:11:25,740 --> 00:11:30,810
lab so my gate lab is get lab comm /

00:11:29,730 --> 00:11:33,750
Nick w-want

00:11:30,810 --> 00:11:35,040
so all my projects are hosted there if

00:11:33,750 --> 00:11:39,690
you're interested in the hike our web

00:11:35,040 --> 00:11:42,570
api is PHP based it serves geo jason and

00:11:39,690 --> 00:11:43,950
it's called free map api because i

00:11:42,570 --> 00:11:49,080
originally developed it for another

00:11:43,950 --> 00:11:51,240
project of mine called free map and just

00:11:49,080 --> 00:11:54,000
a quick heads up i am giving a lightning

00:11:51,240 --> 00:11:56,760
talk tomorrow in the 2:30 session or my

00:11:54,000 --> 00:11:58,529
other project open trail view which is

00:11:56,760 --> 00:12:01,279
basically a street view for walkers but

00:11:58,529 --> 00:12:04,440
I won't dwell on that right now

00:12:01,279 --> 00:12:06,089
right so I talked about terrain where do

00:12:04,440 --> 00:12:09,180
I get that from that was another of the

00:12:06,089 --> 00:12:12,870
key features that made hike R naught

00:12:09,180 --> 00:12:16,770
points to upwards possible that's from

00:12:12,870 --> 00:12:19,410
the maps and terrain tiles so that's

00:12:16,770 --> 00:12:22,230
available as an Amazon Web service and

00:12:19,410 --> 00:12:24,630
it is available with no usage limits or

00:12:22,230 --> 00:12:27,230
charges so again I was alerted to that

00:12:24,630 --> 00:12:30,630
from by a former map sent employee and

00:12:27,230 --> 00:12:33,920
that's where I get my hike data from and

00:12:30,630 --> 00:12:38,520
again that's provided as X Y Zed tiles

00:12:33,920 --> 00:12:39,810
right onto then to a new feature I do

00:12:38,520 --> 00:12:43,230
want to try and go through the new

00:12:39,810 --> 00:12:44,940
features virtual signposts so this is

00:12:43,230 --> 00:12:47,400
actually a screenshot from the campus

00:12:44,940 --> 00:12:50,010
here in Heidelberg so if you want to do

00:12:47,400 --> 00:12:53,100
try if you want to try hi car you can

00:12:50,010 --> 00:12:55,320
test it on the campus so that's an

00:12:53,100 --> 00:12:56,790
example of a virtual signpost literally

00:12:55,320 --> 00:13:02,450
more or less outside the chemistry

00:12:56,790 --> 00:13:04,860
building so how are these generated well

00:13:02,450 --> 00:13:06,240
basically first a quick thanks to my

00:13:04,860 --> 00:13:09,209
colleague Neil Brewers for general

00:13:06,240 --> 00:13:11,970
in models I'm not a 3d modeler so that

00:13:09,209 --> 00:13:13,770
was generated by a colleague how do they

00:13:11,970 --> 00:13:17,339
work well first of all what happens is

00:13:13,770 --> 00:13:20,670
the OSM data downloaded from the API is

00:13:17,339 --> 00:13:22,830
converted basically created made a graph

00:13:20,670 --> 00:13:24,450
so basically I create a graph a routing

00:13:22,830 --> 00:13:28,770
graph in other words a graph the nodes

00:13:24,450 --> 00:13:31,640
and edges from the OSM data and the

00:13:28,770 --> 00:13:34,200
maintainability reasons in other words

00:13:31,640 --> 00:13:36,930
avoiding having to maintain a separate

00:13:34,200 --> 00:13:39,390
graph I actually do that on the fly so

00:13:36,930 --> 00:13:41,880
the graphs are generated on the fly

00:13:39,390 --> 00:13:44,160
you might be thinking that slow well in

00:13:41,880 --> 00:13:47,029
my use case in the high car use case

00:13:44,160 --> 00:13:50,160
which is primarily for countryside

00:13:47,029 --> 00:13:51,870
navigation it's pretty fast it's

00:13:50,160 --> 00:13:54,120
literally if I mouse in a typical

00:13:51,870 --> 00:13:58,260
countryside area the graph will be

00:13:54,120 --> 00:14:01,950
generated in a couple of seconds so the

00:13:58,260 --> 00:14:06,180
graph is generated on the fly which

00:14:01,950 --> 00:14:10,080
saves creating other static graphs which

00:14:06,180 --> 00:14:12,360
is good so what I do is basically every

00:14:10,080 --> 00:14:15,079
Junction becomes a node in the graph so

00:14:12,360 --> 00:14:18,570
I analyze the OSM data for junctions

00:14:15,079 --> 00:14:22,350
each Junction becomes a node and then I

00:14:18,570 --> 00:14:23,240
create my nodes and edges with nodes at

00:14:22,350 --> 00:14:26,579
the junctions

00:14:23,240 --> 00:14:28,290
however the weights on the edges for

00:14:26,579 --> 00:14:32,279
those who have done some work on graphs

00:14:28,290 --> 00:14:34,410
the weights or the distances but the

00:14:32,279 --> 00:14:37,290
weights are not the straight-line

00:14:34,410 --> 00:14:39,839
distance from node to node they are

00:14:37,290 --> 00:14:43,560
actually the distance of the full osm

00:14:39,839 --> 00:14:46,260
way counting all the OSM notes so the

00:14:43,560 --> 00:14:50,940
weights are the full real distance of

00:14:46,260 --> 00:14:52,770
the way just to make that clear so next

00:14:50,940 --> 00:14:54,990
thing is Junction detection how do we do

00:14:52,770 --> 00:14:57,839
that so basically a signpost is

00:14:54,990 --> 00:15:00,630
generated whenever the user is near a

00:14:57,839 --> 00:15:04,170
junction so I've said already that each

00:15:00,630 --> 00:15:06,510
node in the graph is a junction so what

00:15:04,170 --> 00:15:09,089
high car does is it Anna looks at the

00:15:06,510 --> 00:15:11,520
graph it works out whether there's a

00:15:09,089 --> 00:15:14,250
node near you a graph node near you if

00:15:11,520 --> 00:15:16,800
there is a graph node near you then you

00:15:14,250 --> 00:15:19,950
are at a junction and if you're at a

00:15:16,800 --> 00:15:23,570
junction what high car then does is

00:15:19,950 --> 00:15:26,340
how it collects the bearings of each

00:15:23,570 --> 00:15:28,230
route along the junction and it

00:15:26,340 --> 00:15:31,980
calculates basically the bearings to the

00:15:28,230 --> 00:15:38,130
first point on the OSM way to get the

00:15:31,980 --> 00:15:42,090
accurate bearing and then we route to

00:15:38,130 --> 00:15:45,420
each Pio I so we find all POS of

00:15:42,090 --> 00:15:48,660
interest within a five kilometer radius

00:15:45,420 --> 00:15:53,610
or three kilometer for certain less

00:15:48,660 --> 00:15:55,770
interesting Pio eyes such as place

00:15:53,610 --> 00:15:58,530
equals locality for example in an open

00:15:55,770 --> 00:16:00,540
street map and then for each Pio i we

00:15:58,530 --> 00:16:02,190
use Dijkstra's algorithm and the graph

00:16:00,540 --> 00:16:05,250
that we've already generated to

00:16:02,190 --> 00:16:08,820
calculate a route and then what we

00:16:05,250 --> 00:16:14,130
basically do is we marry up the route of

00:16:08,820 --> 00:16:18,060
each to each Pio I with each bearing on

00:16:14,130 --> 00:16:21,870
the junction to assign each Pio I to an

00:16:18,060 --> 00:16:24,120
arm okay thanks okay so basically route

00:16:21,870 --> 00:16:26,520
to Pio I work out the bearing to each

00:16:24,120 --> 00:16:32,100
Pio I compare the bearing to each arm

00:16:26,520 --> 00:16:39,900
and then allocate destinations to each

00:16:32,100 --> 00:16:41,940
arm on the signpost rights so high car

00:16:39,900 --> 00:16:46,650
will calculate will basically add up to

00:16:41,940 --> 00:16:48,900
two destinations to each arm and we need

00:16:46,650 --> 00:16:50,940
to prioritize Pio is because we only

00:16:48,900 --> 00:16:52,590
want to show two destinations I mean

00:16:50,940 --> 00:16:54,990
want to show the two destinations most

00:16:52,590 --> 00:16:57,360
of interests so priorities are

00:16:54,990 --> 00:16:59,520
calculated by a waiting awaited distance

00:16:57,360 --> 00:17:02,910
which is basically distance to the Pio I

00:16:59,520 --> 00:17:04,680
multiplied by that Pio eyes weight and

00:17:02,910 --> 00:17:08,730
here are some weight so you can see

00:17:04,680 --> 00:17:10,440
lower weights mean more priority citizen

00:17:08,730 --> 00:17:12,470
towns are the most important followed by

00:17:10,440 --> 00:17:15,209
villages Peaks and railway stations

00:17:12,470 --> 00:17:17,430
Hamlet's and suburbs pubs and cafes and

00:17:15,209 --> 00:17:20,040
localities and they've actually refined

00:17:17,430 --> 00:17:22,740
those throughout the nought point two

00:17:20,040 --> 00:17:25,890
series of high car so these are actually

00:17:22,740 --> 00:17:27,480
refined and for me personally but they

00:17:25,890 --> 00:17:29,850
work nicely but obviously it could be

00:17:27,480 --> 00:17:32,800
refined further by doing a full study

00:17:29,850 --> 00:17:35,210
with potential participants

00:17:32,800 --> 00:17:38,420
okay exact routing a thing I'll need to

00:17:35,210 --> 00:17:39,620
skip through signpost rendering that

00:17:38,420 --> 00:17:43,060
renders an OpenGL

00:17:39,620 --> 00:17:46,790
I've got obj object files as I said

00:17:43,060 --> 00:17:50,000
created by colleague they're supported

00:17:46,790 --> 00:17:53,690
by a range of European characters

00:17:50,000 --> 00:17:56,300
supported so Western European characters

00:17:53,690 --> 00:18:00,230
are supported including all the various

00:17:56,300 --> 00:18:02,270
accents Greek is supported and Cyrillic

00:18:00,230 --> 00:18:04,310
is supported so if you live in the

00:18:02,270 --> 00:18:09,170
country which uses one of those three

00:18:04,310 --> 00:18:11,150
character sets it should work hey our

00:18:09,170 --> 00:18:13,250
notes are going to finish with some new

00:18:11,150 --> 00:18:15,740
features of nought point 3a are notice

00:18:13,250 --> 00:18:18,230
boards so this is the real notice this

00:18:15,740 --> 00:18:19,790
is a notice board in Southampton the

00:18:18,230 --> 00:18:21,290
lake you might be out to just about see

00:18:19,790 --> 00:18:23,450
has got a problem with group blue-green

00:18:21,290 --> 00:18:25,070
algae at the moment basically because

00:18:23,450 --> 00:18:27,010
this summer has been very warm and wet

00:18:25,070 --> 00:18:29,600
in England so I've had a problem with

00:18:27,010 --> 00:18:31,700
how blue Canal gates that is a real

00:18:29,600 --> 00:18:32,450
notice board or the real hazard eighty

00:18:31,700 --> 00:18:35,110
meters ahead

00:18:32,450 --> 00:18:38,420
these notice boards are actually

00:18:35,110 --> 00:18:41,000
crowd-sourced so the idea is that you as

00:18:38,420 --> 00:18:44,660
a contributor will add a notice board to

00:18:41,000 --> 00:18:46,510
point out either hazards or places of

00:18:44,660 --> 00:18:50,780
interest such as historical sights

00:18:46,510 --> 00:18:53,240
hazards such as you know steep paths

00:18:50,780 --> 00:18:57,800
Rock Falls mad cows whatever you might

00:18:53,240 --> 00:19:00,650
want to add so you can add hazards

00:18:57,800 --> 00:19:02,780
yourself at the website high Kardos org

00:19:00,650 --> 00:19:05,540
so high cars got a website high-court

00:19:02,780 --> 00:19:08,930
org you do need an account to stop

00:19:05,540 --> 00:19:10,790
people vandalizing the site people

00:19:08,930 --> 00:19:14,360
putting van you know vandalism notice

00:19:10,790 --> 00:19:18,560
boards but obviously they are routing is

00:19:14,360 --> 00:19:20,990
the other new feature with that's a

00:19:18,560 --> 00:19:23,330
screenshot so there's a yellow overlay

00:19:20,990 --> 00:19:25,460
so you can route to a particular P oh I

00:19:23,330 --> 00:19:27,710
rock and hearses a town in the new

00:19:25,460 --> 00:19:31,250
forest near where I live so there's your

00:19:27,710 --> 00:19:34,100
route that's news for naught 0.3 and

00:19:31,250 --> 00:19:36,680
data download zoom levels so the default

00:19:34,100 --> 00:19:40,130
zoom level is optimized for rural areas

00:19:36,680 --> 00:19:42,620
but with an or 0.3 you can you there is

00:19:40,130 --> 00:19:45,220
an urban zoom level as well if you want

00:19:42,620 --> 00:19:47,559
to test this out in Heidelberg

00:19:45,220 --> 00:19:49,690
strongly recommend using the urban zoom

00:19:47,559 --> 00:19:51,909
level because the default zoom level

00:19:49,690 --> 00:19:54,039
will be rather too slow

00:19:51,909 --> 00:19:56,230
so the different zoom levels zoom

00:19:54,039 --> 00:19:59,679
different basically download different

00:19:56,230 --> 00:20:02,080
amounts of data the nine tiles will

00:19:59,679 --> 00:20:04,720
contain 18 square kilometers in the

00:20:02,080 --> 00:20:08,110
lightly populated zoom level but in the

00:20:04,720 --> 00:20:14,039
large urban zoom level only 2.25 square

00:20:08,110 --> 00:20:16,179
kilometers few issues to do with

00:20:14,039 --> 00:20:18,520
accuracy of the placement you probably

00:20:16,179 --> 00:20:21,640
saw those in the screenshots so you

00:20:18,520 --> 00:20:23,830
probably saw that maybe the bearing of

00:20:21,640 --> 00:20:27,549
the path was a little bit off from the

00:20:23,830 --> 00:20:30,460
real path or the path appear to float

00:20:27,549 --> 00:20:33,490
this is well the number of causes in

00:20:30,460 --> 00:20:36,789
accuracy in the GPS in accuracy in the

00:20:33,490 --> 00:20:39,880
sensors and possibly inaccuracy in the

00:20:36,789 --> 00:20:41,860
OSM data as well so it's not pixel

00:20:39,880 --> 00:20:44,350
perfect it's not pixel perfect they are

00:20:41,860 --> 00:20:45,970
it's good enough for navigation but

00:20:44,350 --> 00:20:48,429
obviously there is room for improvement

00:20:45,970 --> 00:20:50,470
there it's also what I call research

00:20:48,429 --> 00:20:52,090
where it is on Google Play but it

00:20:50,470 --> 00:20:56,890
doesn't have a slick and polished UI

00:20:52,090 --> 00:20:58,390
nonetheless it is usable battery life

00:20:56,890 --> 00:21:01,780
the problem for this sort of thing

00:20:58,390 --> 00:21:03,280
generally future plans is really linking

00:21:01,780 --> 00:21:06,460
in really with some of the talks this

00:21:03,280 --> 00:21:07,659
morning really I'm aiming to try and

00:21:06,460 --> 00:21:10,120
explore machine learning and computer

00:21:07,659 --> 00:21:14,940
vision to try and improve things

00:21:10,120 --> 00:21:17,140
somewhat so an easier place and easier

00:21:14,940 --> 00:21:22,150
line of investigation there will be to

00:21:17,140 --> 00:21:25,870
try and detect corners where say two

00:21:22,150 --> 00:21:28,510
tracks intersect and place a signpost on

00:21:25,870 --> 00:21:31,780
the corner using computer vision so it's

00:21:28,510 --> 00:21:34,270
fixed there and will not will not move

00:21:31,780 --> 00:21:36,280
even if the sensors player playing

00:21:34,270 --> 00:21:37,960
around a bit and I've got a few other

00:21:36,280 --> 00:21:40,390
areas of interest there which I'm also

00:21:37,960 --> 00:21:43,270
try and look at maybe Peaks peak

00:21:40,390 --> 00:21:44,710
detection then the eventual Holy Grail

00:21:43,270 --> 00:21:46,600
would be to try and detect things like

00:21:44,710 --> 00:21:51,220
trees but I'm not sure whether that's

00:21:46,600 --> 00:21:53,470
actually possible right now okay so

00:21:51,220 --> 00:21:55,240
where well as I said nought point three

00:21:53,470 --> 00:21:57,390
is available on Google Play to search

00:21:55,240 --> 00:21:59,120
for high car it's available to download

00:21:57,390 --> 00:22:00,740
source code

00:21:59,120 --> 00:22:04,730
completely free and opensource this

00:22:00,740 --> 00:22:07,940
project so it's on get lab get lab comm

00:22:04,730 --> 00:22:10,580
/ nick w1 / hi car so if you do want to

00:22:07,940 --> 00:22:13,040
contribute the actual source code then

00:22:10,580 --> 00:22:14,990
obviously I do welcome contributors and

00:22:13,040 --> 00:22:16,340
particularly interested in input from

00:22:14,990 --> 00:22:18,500
machine learning and computer vision

00:22:16,340 --> 00:22:23,090
experts and if someone plans as a

00:22:18,500 --> 00:22:25,940
challenge conversion to iOS you want to

00:22:23,090 --> 00:22:31,520
contribute noticeboards again sign up a

00:22:25,940 --> 00:22:37,429
high card org rights I do believe that

00:22:31,520 --> 00:22:39,770
is it so contact details their email get

00:22:37,429 --> 00:22:41,960
lab site again I am on Twitter I'm not

00:22:39,770 --> 00:22:44,809
an avid Twitter user but I do

00:22:41,960 --> 00:22:47,240
occasionally use it to announce things

00:22:44,809 --> 00:22:48,800
together with criticize the British

00:22:47,240 --> 00:22:54,020
government but I won't go into that but

00:22:48,800 --> 00:22:55,970
basically basically yeah if there's a

00:22:54,020 --> 00:22:59,330
key updater will announced on Twitter

00:22:55,970 --> 00:23:01,490
otherwise email and get lab I am around

00:22:59,330 --> 00:23:03,410
today rest of today and tomorrow I'm not

00:23:01,490 --> 00:23:06,880
here on Monday I've got to get back to

00:23:03,410 --> 00:23:09,740
work but I am around today and tomorrow

00:23:06,880 --> 00:23:11,480
so if you do want to ask me any

00:23:09,740 --> 00:23:14,740
questions you've got no time for we've

00:23:11,480 --> 00:23:18,090
got no time for now feel free to do so

00:23:14,740 --> 00:23:21,770
[Applause]

00:23:18,090 --> 00:23:26,350
[Music]

00:23:21,770 --> 00:23:26,350
and we do have time for some questions

00:23:45,310 --> 00:23:57,980
hi-hi-hi you hear me it's a bit quiet

00:23:53,570 --> 00:24:01,630
I just wondering I didn't get when you

00:23:57,980 --> 00:24:03,920
use the deterrent tires that's you yes

00:24:01,630 --> 00:24:07,430
we talked about Tehran tiles but I

00:24:03,920 --> 00:24:11,180
didn't get where you use it okay Oh the

00:24:07,430 --> 00:24:15,020
terrarium tells ya sorry that I download

00:24:11,180 --> 00:24:17,870
them for elevations so basically they're

00:24:15,020 --> 00:24:19,670
available ping images and then I grab

00:24:17,870 --> 00:24:22,670
the elevation and then I apply the

00:24:19,670 --> 00:24:25,040
elevation from the terrarium tiles to

00:24:22,670 --> 00:24:27,560
the OpenStreetMap ways certainly

00:24:25,040 --> 00:24:29,330
OpenStreetMap ways are in 3d so if

00:24:27,560 --> 00:24:32,390
you're climbing a mountain then the

00:24:29,330 --> 00:24:34,880
augmented reality way will appear in 3d

00:24:32,390 --> 00:24:37,280
and will appear to go up the mountain so

00:24:34,880 --> 00:24:41,030
yeah maybe I rushed over that a bit but

00:24:37,280 --> 00:24:43,280
yeah the elevation data is applied to

00:24:41,030 --> 00:24:46,520
the OpenStreetMap vector data so that

00:24:43,280 --> 00:24:49,370
each point on the way each node has a

00:24:46,520 --> 00:24:51,520
Zed coordinate which is then used for

00:24:49,370 --> 00:24:51,520
rendering

00:25:08,840 --> 00:25:20,430
yeah for your virtual pointers yeah have

00:25:17,130 --> 00:25:23,070
you considered using not only the type

00:25:20,430 --> 00:25:25,410
of the poi but also the distance in

00:25:23,070 --> 00:25:27,690
deciding which one to show so if you

00:25:25,410 --> 00:25:30,179
have a Hamlet right in front of you and

00:25:27,690 --> 00:25:32,130
the city in five kilometers yeah okay

00:25:30,179 --> 00:25:36,179
yes I mean I did I actually do that

00:25:32,130 --> 00:25:38,160
because when I decide what points of

00:25:36,179 --> 00:25:40,770
interest to show on the signposts I

00:25:38,160 --> 00:25:42,740
multiply I basically get a weighted

00:25:40,770 --> 00:25:47,970
distance so it's weight times distance

00:25:42,740 --> 00:25:49,530
so so yes so yes I do I do obviously the

00:25:47,970 --> 00:25:51,150
sources of Hamlet just in front of you

00:25:49,530 --> 00:25:54,630
then obviously the Hamlet will show yes

00:25:51,150 --> 00:25:56,010
so so the weighting essentially uses

00:25:54,630 --> 00:25:57,960
weight a distance the weight that I

00:25:56,010 --> 00:26:07,110
showed you multiplied by the distance to

00:25:57,960 --> 00:26:10,200
the PIO eye yes now sort of I mean

00:26:07,110 --> 00:26:15,390
basically it's using osm tagging now I

00:26:10,200 --> 00:26:18,090
actually use I've actually sort of gamed

00:26:15,390 --> 00:26:20,250
the system myself a bit by tagging a

00:26:18,090 --> 00:26:23,070
couple of Peaks which aren't really of

00:26:20,250 --> 00:26:27,570
interest to tourists with peak equals

00:26:23,070 --> 00:26:29,720
minor now if a peak if a natural equals

00:26:27,570 --> 00:26:33,330
peak is also tagged with P equals minor

00:26:29,720 --> 00:26:36,120
then it will have a lower priority and I

00:26:33,330 --> 00:26:37,530
that happens because I was testing it in

00:26:36,120 --> 00:26:40,830
the field and there are a couple of sort

00:26:37,530 --> 00:26:42,870
of hills near where I live which can't

00:26:40,830 --> 00:26:44,400
even be accessed by the public there on

00:26:42,870 --> 00:26:46,920
private land they've got no tourists

00:26:44,400 --> 00:26:50,460
interest of any note they were being

00:26:46,920 --> 00:26:56,220
prioritized over nearby villages so I

00:26:50,460 --> 00:26:59,520
decided to so yeah basically yeah

00:26:56,220 --> 00:27:01,890
certain that could be done by sort of

00:26:59,520 --> 00:27:04,550
custom osm tagging so if there was some

00:27:01,890 --> 00:27:07,590
way of trying to prioritize different

00:27:04,550 --> 00:27:09,570
villages you know it could be tourism

00:27:07,590 --> 00:27:10,580
equals important I don't know but it'll

00:27:09,570 --> 00:27:15,419
be interesting too

00:27:10,580 --> 00:27:17,820
sort of input from you guys really - we

00:27:15,419 --> 00:27:20,610
know from anyone really who might

00:27:17,820 --> 00:27:22,740
potentially use my car to try and invent

00:27:20,610 --> 00:27:24,390
new tags which can be used to prioritize

00:27:22,740 --> 00:27:29,000
those that are going to be most of

00:27:24,390 --> 00:27:29,000
interest to tourists or other users

00:27:38,560 --> 00:27:49,890
okay let's thank our speaker again

00:27:42,200 --> 00:27:49,890

YouTube URL: https://www.youtube.com/watch?v=SLkx7tdb3DA


