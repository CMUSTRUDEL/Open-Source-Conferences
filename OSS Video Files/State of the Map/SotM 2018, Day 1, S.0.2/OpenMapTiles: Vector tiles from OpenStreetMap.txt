Title: OpenMapTiles: Vector tiles from OpenStreetMap
Publication date: 2018-08-13
Playlist: SotM 2018, Day 1, S.0.2
Description: 
	Petr Pridal, Jiri Komarek (Klokan Technologies), State of the Map 2018
https://2018.stateofthemap.org/2018/T065-OpenMapTiles__Vector_tiles_from_OpenStreetMap/

The OpenMapTiles is a free and open-source project, which makes it extremely easy to setup your own OpenStreetMap tileserver with vector and raster tiles. Design your own custom maps with an online editor or modify one of the beautiful open map styles. The maps are usable in web and mobile apps (with SDKs including Leaflet, OpenLayers, Mapbox), in desktop GIS tools and printed outputs.

Learn how to adapt the schema and make your own vector tiles with a customized selection of OpenStreetMap tags or your own geodata - to display in the map the features you need - and how to contribute to the development of OpenMapTiles.

The entire world turned into vector tiles fits on a USB disk - and can be hosted on any laptop, used offline, deployed on a regular hosting or on a private or public cloud. With Docker, you can run the maps in a few minutes on any infrastructure. We support open-source and open-data communities by offering forever free hosting on our global infrastructure.
Captions: 
	00:00:02,779 --> 00:00:08,010
and I'm excited to talk here about the

00:00:06,359 --> 00:00:10,080
open web house project which is a

00:00:08,010 --> 00:00:15,480
community project open-source project

00:00:10,080 --> 00:00:21,860
started two years ago and it's a full

00:00:15,480 --> 00:00:24,300
over of awesome awesome two vector tiles

00:00:21,860 --> 00:00:29,130
you can find it at open web browser

00:00:24,300 --> 00:00:32,759
org and on github at open map tiles

00:00:29,130 --> 00:00:35,190
organization it's a set of open source

00:00:32,759 --> 00:00:38,309
tools which you can use to generate

00:00:35,190 --> 00:00:42,420
vector tiles from Open Street Map and

00:00:38,309 --> 00:00:44,790
also from other other data from a data

00:00:42,420 --> 00:00:46,980
you have available so you can combine

00:00:44,790 --> 00:00:49,290
Open Street Map with other open data or

00:00:46,980 --> 00:00:51,690
your own proprietary business data all

00:00:49,290 --> 00:00:56,280
into a single single map as you want and

00:00:51,690 --> 00:00:58,860
this is this is a set of tools which in

00:00:56,280 --> 00:01:01,550
fact started as a student project but

00:00:58,860 --> 00:01:04,710
turned into into something what is used

00:01:01,550 --> 00:01:08,549
widely believed by a lot of people I

00:01:04,710 --> 00:01:11,249
believe a lot of you know how how

00:01:08,549 --> 00:01:17,369
mattress rounds whenever you look at a

00:01:11,249 --> 00:01:19,799
map you in fact are interacting with a

00:01:17,369 --> 00:01:23,569
set of individual images or set of

00:01:19,799 --> 00:01:27,139
individual tiles which are originated or

00:01:23,569 --> 00:01:30,979
generated on demand and in recent years

00:01:27,139 --> 00:01:34,829
these tiles turned from raster tiles

00:01:30,979 --> 00:01:36,659
from raster tiles into vector so the

00:01:34,829 --> 00:01:39,539
vector data are nowaday transferred to

00:01:36,659 --> 00:01:42,539
the client and rendered on demand the

00:01:39,539 --> 00:01:46,739
file says advantages such as caching so

00:01:42,539 --> 00:01:48,239
faster speed and it may contain the raw

00:01:46,739 --> 00:01:50,130
data so the client can switch

00:01:48,239 --> 00:01:51,779
dynamically language depending on the

00:01:50,130 --> 00:01:54,479
browser of the visitors from the

00:01:51,779 --> 00:01:58,289
settings of the device from a person who

00:01:54,479 --> 00:02:01,739
is looking at the map or change the

00:01:58,289 --> 00:02:03,779
colors adjust the style depending on the

00:02:01,739 --> 00:02:07,739
preference or even modified and map the

00:02:03,779 --> 00:02:09,300
way that it looks that it's customized

00:02:07,739 --> 00:02:11,549
for the person so for example you can

00:02:09,300 --> 00:02:14,610
highlight on the map your own home or

00:02:11,549 --> 00:02:15,340
certain features based on the history

00:02:14,610 --> 00:02:18,360
and the maybe

00:02:15,340 --> 00:02:22,930
very very dynamic things to vector files

00:02:18,360 --> 00:02:26,830
how many of you know what I just said I

00:02:22,930 --> 00:02:30,900
mean raster vector tiles cool how many

00:02:26,830 --> 00:02:33,459
of you are how many of you are creating

00:02:30,900 --> 00:02:38,610
OpenStreetMap tags and contributing to

00:02:33,459 --> 00:02:41,920
the OpenStreetMap with the data amazing

00:02:38,610 --> 00:02:50,319
how many of you are programmers so

00:02:41,920 --> 00:02:52,870
coding great and and that's it's it's

00:02:50,319 --> 00:02:55,209
cool then I know whom I am whom am i

00:02:52,870 --> 00:02:56,849
speaking to the the whole the whole open

00:02:55,209 --> 00:02:59,200
mapped house project comes with the idea

00:02:56,849 --> 00:03:02,170
that we will pre generate the whole

00:02:59,200 --> 00:03:05,650
world so it's millions of tiles the

00:03:02,170 --> 00:03:08,400
protobuf encoded vector tiles which we

00:03:05,650 --> 00:03:11,049
which we practically regenerate from

00:03:08,400 --> 00:03:14,019
from a database and store a small

00:03:11,049 --> 00:03:17,590
binaries inside of an archive inside of

00:03:14,019 --> 00:03:19,389
SQLite and beetles and the entire world

00:03:17,590 --> 00:03:22,090
can in fact fit on a single USB disk

00:03:19,389 --> 00:03:25,269
it's it has the whole OpenStreetMap if

00:03:22,090 --> 00:03:27,630
it's encoded this way and it contains

00:03:25,269 --> 00:03:30,940
the subject of the data we have it will

00:03:27,630 --> 00:03:35,799
it will have about 60 gigabytes so it

00:03:30,940 --> 00:03:40,780
fits on 64 gigabyte USB stick the whole

00:03:35,799 --> 00:03:45,579
open map tiles project has three three

00:03:40,780 --> 00:03:49,049
core features it defines in defines the

00:03:45,579 --> 00:03:52,419
binding between OpenStreetMap tags and

00:03:49,049 --> 00:03:55,260
what between the raw data so how to get

00:03:52,419 --> 00:03:58,510
from OpenStreetMap into a vector tiles

00:03:55,260 --> 00:04:00,790
and that's called schema what appears on

00:03:58,510 --> 00:04:04,750
what what zoom level how do you

00:04:00,790 --> 00:04:06,190
generalize what what is what set of

00:04:04,750 --> 00:04:07,959
features and what set of attributes

00:04:06,190 --> 00:04:10,720
appear in the final vector tiles that's

00:04:07,959 --> 00:04:13,090
the vector tile schema and it's openly

00:04:10,720 --> 00:04:16,239
documented and that's the core

00:04:13,090 --> 00:04:18,160
repository on open mapped house and the

00:04:16,239 --> 00:04:23,469
core of the project next to that we have

00:04:18,160 --> 00:04:25,090
a set of tools which are used to convert

00:04:23,469 --> 00:04:26,669
the description of the schema into

00:04:25,090 --> 00:04:29,080
different output formats

00:04:26,669 --> 00:04:32,639
that those are called open map tiles

00:04:29,080 --> 00:04:37,780
tools they are written in Python and

00:04:32,639 --> 00:04:40,180
they are combining and combining our our

00:04:37,780 --> 00:04:42,250
snippets of individual layers into into

00:04:40,180 --> 00:04:45,610
something into a single configuration

00:04:42,250 --> 00:04:49,240
file for different tools which are used

00:04:45,610 --> 00:04:52,600
to generate the tiles afterwards and we

00:04:49,240 --> 00:04:54,400
have also set of open map styles so for

00:04:52,600 --> 00:04:56,169
the schema for the definition of what

00:04:54,400 --> 00:04:59,590
appears in the vector tiles we give you

00:04:56,169 --> 00:05:03,520
look and feel of different maps and this

00:04:59,590 --> 00:05:05,650
is this is BSD CC by license so so

00:05:03,520 --> 00:05:09,460
anybody can use it for business adjust

00:05:05,650 --> 00:05:12,580
it as he wants and come in together with

00:05:09,460 --> 00:05:17,590
the vector tiles derive is or her own

00:05:12,580 --> 00:05:19,360
map so the tools are in fact easily the

00:05:17,590 --> 00:05:22,660
maps are in fact easily adjustable the

00:05:19,360 --> 00:05:26,680
styles for your own we can feel let's

00:05:22,660 --> 00:05:30,789
make a first demo so you see how how it

00:05:26,680 --> 00:05:33,010
is possible to bring OpenStreetMap onto

00:05:30,789 --> 00:05:38,349
your own computer or server in about two

00:05:33,010 --> 00:05:43,120
minutes so if you go to open web browser

00:05:38,349 --> 00:05:47,919
or web site you can find there set up a

00:05:43,120 --> 00:05:52,389
server link and on this link scrolling

00:05:47,919 --> 00:05:56,229
down we prepared guides for even youtube

00:05:52,389 --> 00:05:57,400
videos for how to how to put the

00:05:56,229 --> 00:05:59,380
installation how to create the

00:05:57,400 --> 00:06:01,930
installation of a basic server of

00:05:59,380 --> 00:06:03,610
OpenStreetMap on any linux server it's

00:06:01,930 --> 00:06:06,699
in fact just two lines of code so you

00:06:03,610 --> 00:06:11,050
need a docker and if you just copy and

00:06:06,699 --> 00:06:14,710
paste the docker command and you go to

00:06:11,050 --> 00:06:18,639
localhost 8080 it will download the

00:06:14,710 --> 00:06:22,690
software and launch it then you get a

00:06:18,639 --> 00:06:25,979
visa art where you can find the pre

00:06:22,690 --> 00:06:31,150
generated tiles I'm searching for Milan

00:06:25,979 --> 00:06:35,889
here are samples of our open styles so

00:06:31,150 --> 00:06:39,190
you can preview these styles our vector

00:06:35,889 --> 00:06:40,210
tiles supports in fact 55 languages so

00:06:39,190 --> 00:06:42,280
you can choose

00:06:40,210 --> 00:06:45,460
a language of your choice so the entire

00:06:42,280 --> 00:06:47,740
world changes to a language you have

00:06:45,460 --> 00:06:50,500
selected you can dis select alternative

00:06:47,740 --> 00:06:55,539
names for Japanese Chinese and

00:06:50,500 --> 00:06:57,970
transcription and potentially apply your

00:06:55,539 --> 00:07:01,660
own style the the server gives you

00:06:57,970 --> 00:07:07,389
different outputs for map tiles in

00:07:01,660 --> 00:07:12,490
raster form and map services and vector

00:07:07,389 --> 00:07:14,590
tiles as well as like wmds capabilities

00:07:12,490 --> 00:07:19,630
so you can open it in GIS and load it in

00:07:14,590 --> 00:07:23,050
different tools after it downloads you

00:07:19,630 --> 00:07:25,720
are practically you have practically

00:07:23,050 --> 00:07:29,740
offline installation of Open Street Map

00:07:25,720 --> 00:07:32,830
based mats on your own computer with all

00:07:29,740 --> 00:07:37,090
these services this is an example view

00:07:32,830 --> 00:07:38,800
ver for vector tiles which is

00:07:37,090 --> 00:07:42,780
automatically generated and you see the

00:07:38,800 --> 00:07:48,550
whole map now runs from localhost 8080

00:07:42,780 --> 00:07:51,759
equally you get raster tiles so on the

00:07:48,550 --> 00:07:55,300
server generated raster's from the same

00:07:51,759 --> 00:07:59,949
style using labels geo native open

00:07:55,300 --> 00:08:03,810
source component in the backend so this

00:07:59,949 --> 00:08:07,690
is this is in about three minutes

00:08:03,810 --> 00:08:09,310
installation of Open Street Map and it

00:08:07,690 --> 00:08:11,080
practically demonstrates what the

00:08:09,310 --> 00:08:14,740
project is capable of if you go to the

00:08:11,080 --> 00:08:17,680
web site you can try it and have to map

00:08:14,740 --> 00:08:21,310
on your computer it's all powered by

00:08:17,680 --> 00:08:24,099
open source and it's this is not the

00:08:21,310 --> 00:08:26,800
only server you have in fact the whole

00:08:24,099 --> 00:08:28,180
project is about freedom so you can

00:08:26,800 --> 00:08:31,060
choose different toolsets

00:08:28,180 --> 00:08:34,990
and combine the tiles and use them the

00:08:31,060 --> 00:08:38,320
way you want in fact there are about

00:08:34,990 --> 00:08:41,200
thousands of different servers which are

00:08:38,320 --> 00:08:43,589
serving the open map tiles some of them

00:08:41,200 --> 00:08:46,149
are serving the pre-generated

00:08:43,589 --> 00:08:49,209
pre-generated styles which which you can

00:08:46,149 --> 00:08:51,430
download or generate yourself so the

00:08:49,209 --> 00:08:54,010
best era for example or the poster is

00:08:51,430 --> 00:08:57,029
able to serve the open map

00:08:54,010 --> 00:09:00,250
Spectre towels on demand from Polti is

00:08:57,029 --> 00:09:05,139
there are other other servers like t-rex

00:09:00,250 --> 00:09:08,470
and Pegula which which in a in some way

00:09:05,139 --> 00:09:11,199
supports supports open web tiles too so

00:09:08,470 --> 00:09:13,420
so it's really your choice depending on

00:09:11,199 --> 00:09:15,639
what server infrastructure you prefer

00:09:13,420 --> 00:09:17,740
what programming language you prefer how

00:09:15,639 --> 00:09:24,339
do you want to deploy the maps on your

00:09:17,740 --> 00:09:28,829
own but the data are still the same the

00:09:24,339 --> 00:09:33,149
same applies to a client so you have

00:09:28,829 --> 00:09:36,250
over the last two years many different

00:09:33,149 --> 00:09:39,760
themes and community projects and

00:09:36,250 --> 00:09:42,570
companies improve the tools with the

00:09:39,760 --> 00:09:44,500
support for vector tiles and this means

00:09:42,570 --> 00:09:46,449
it's not anymore

00:09:44,500 --> 00:09:49,300
I mean anyhow dependent on any single

00:09:46,449 --> 00:09:53,050
company you have complete choice of

00:09:49,300 --> 00:09:56,410
going between between different vendors

00:09:53,050 --> 00:09:59,440
choosing a native mobile sdk from cart

00:09:56,410 --> 00:10:01,660
or or from map box implementing desktop

00:09:59,440 --> 00:10:07,120
application or server renderers in.net

00:10:01,660 --> 00:10:10,829
or C sharp on top of GL style or on top

00:10:07,120 --> 00:10:13,329
of method of open on top of ethnic or

00:10:10,829 --> 00:10:16,690
another and other tools like met books

00:10:13,329 --> 00:10:20,170
netbooks geo native so thanks to the

00:10:16,690 --> 00:10:22,240
compatibility the the maps applies on

00:10:20,170 --> 00:10:22,959
multiple tools and this is this is

00:10:22,240 --> 00:10:27,550
pretty amazing

00:10:22,959 --> 00:10:29,350
even we even tested ArcGIS compatibility

00:10:27,550 --> 00:10:32,410
with the earth stack and open map tiles

00:10:29,350 --> 00:10:35,949
are compatible if you if you adjust the

00:10:32,410 --> 00:10:37,779
metadata and it can be improved so

00:10:35,949 --> 00:10:42,519
that's something for for the future of

00:10:37,779 --> 00:10:44,610
the project and just recently the

00:10:42,519 --> 00:10:47,800
highest 13 students from Switzerland

00:10:44,610 --> 00:10:50,110
published published QGIS native plugin

00:10:47,800 --> 00:10:53,579
for opening the vector tiles natively in

00:10:50,110 --> 00:10:56,620
PG is so that's another quite cool

00:10:53,579 --> 00:10:59,230
example I was I was quite blown away how

00:10:56,620 --> 00:11:01,510
how far for example project like open

00:10:59,230 --> 00:11:04,779
map tiles got so what you see here is

00:11:01,510 --> 00:11:08,019
not netbooks it's open layers with with

00:11:04,779 --> 00:11:11,350
native JavaScript with

00:11:08,019 --> 00:11:14,500
webgl acceleration a rendering open web

00:11:11,350 --> 00:11:18,519
tiles and geo style our open web style a

00:11:14,500 --> 00:11:21,100
bright so so you really have a choice of

00:11:18,519 --> 00:11:22,600
different uses the other part of the

00:11:21,100 --> 00:11:26,139
freedom is support for different

00:11:22,600 --> 00:11:28,149
coordinate systems the open map tiles is

00:11:26,139 --> 00:11:31,000
not written in a way that that it's

00:11:28,149 --> 00:11:35,410
restricted to Mercator its default

00:11:31,000 --> 00:11:40,329
Mercator but this is an example of of

00:11:35,410 --> 00:11:42,699
wgs84 entire Open Street Map in vector

00:11:40,329 --> 00:11:46,810
tiles which is compatible with the

00:11:42,699 --> 00:11:48,759
different tools again so so you can in

00:11:46,810 --> 00:11:52,060
fact create and we did we did some

00:11:48,759 --> 00:11:55,690
samples vector tiles in in a coordinate

00:11:52,060 --> 00:11:58,149
system you need while keeping the same

00:11:55,690 --> 00:12:03,240
schema while keeping the same zoom level

00:11:58,149 --> 00:12:07,120
structure and aligning the styles to two

00:12:03,240 --> 00:12:10,120
different projections and coordinate

00:12:07,120 --> 00:12:13,750
systems defined and used by local

00:12:10,120 --> 00:12:17,199
countries we did also older older maps

00:12:13,750 --> 00:12:19,959
out of Open Street Map the purpose of

00:12:17,199 --> 00:12:23,079
this presentation is a bit demystify the

00:12:19,959 --> 00:12:26,860
open web styles so make it easier for

00:12:23,079 --> 00:12:30,130
you to to try the tool and and play with

00:12:26,860 --> 00:12:36,790
it there is documentation a token app

00:12:30,130 --> 00:12:40,120
tiles dot org slash dog and in fact in

00:12:36,790 --> 00:12:42,699
fact the tools are pretty easy that the

00:12:40,120 --> 00:12:44,470
basic the basic overview of what is

00:12:42,699 --> 00:12:46,360
happening in open map tiles if you

00:12:44,470 --> 00:12:48,399
generate tiles is quite straightforward

00:12:46,360 --> 00:12:51,639
the first step is getting from Open

00:12:48,399 --> 00:12:55,540
Street Map into post GIS where we use in

00:12:51,639 --> 00:12:59,220
post entry for the conversion then we

00:12:55,540 --> 00:13:01,720
have they have a set of SQL operation

00:12:59,220 --> 00:13:03,250
done on top of post GIS like

00:13:01,720 --> 00:13:05,560
generalization for different zoom levels

00:13:03,250 --> 00:13:09,970
we are bringing in other sources like

00:13:05,560 --> 00:13:13,899
natural earth data and shape files from

00:13:09,970 --> 00:13:16,630
from other other sources and once we

00:13:13,899 --> 00:13:19,079
have it in post GIS we are using tile I

00:13:16,630 --> 00:13:20,350
met Nick in this moment as the generator

00:13:19,079 --> 00:13:22,720
for

00:13:20,350 --> 00:13:25,710
for making the SQL queries for each dial

00:13:22,720 --> 00:13:29,140
and encoding it into protobuf form

00:13:25,710 --> 00:13:30,910
getting it out any of these components

00:13:29,140 --> 00:13:32,350
can be practically switched so it's all

00:13:30,910 --> 00:13:34,330
about the schema and the definition of

00:13:32,350 --> 00:13:37,000
what appears we're on with zoom level

00:13:34,330 --> 00:13:40,600
and how it's called but the tools can be

00:13:37,000 --> 00:13:43,120
can be replaced so in future we may

00:13:40,600 --> 00:13:46,270
replaced iolite mattnic with post GIS

00:13:43,120 --> 00:13:49,270
powered map box vector vector tile

00:13:46,270 --> 00:13:54,370
generator or with any other any other

00:13:49,270 --> 00:13:58,000
renderer so let's let's jump on a on a

00:13:54,370 --> 00:14:01,810
demo of how to modify open map tiles if

00:13:58,000 --> 00:14:06,100
you go to open up a stork schema there

00:14:01,810 --> 00:14:08,950
you find a definition of the of the

00:14:06,100 --> 00:14:10,780
layers we have so all the information

00:14:08,950 --> 00:14:12,670
which is present inside of vector tiles

00:14:10,780 --> 00:14:16,540
it's a subset of all of entire

00:14:12,670 --> 00:14:21,310
OpenStreetMap and you can twist this

00:14:16,540 --> 00:14:26,560
inspect mode practically look at the raw

00:14:21,310 --> 00:14:31,450
data which are inside of vector tiles if

00:14:26,560 --> 00:14:34,890
you if you find something what what is

00:14:31,450 --> 00:14:38,350
missing you can quite easily on

00:14:34,890 --> 00:14:40,120
OpenStreetMap wiki search for the

00:14:38,350 --> 00:14:44,070
information of how it's encoded in

00:14:40,120 --> 00:14:48,750
OpenStreetMap so to check the tags and

00:14:44,070 --> 00:14:53,380
this is an example basic example of

00:14:48,750 --> 00:14:56,440
skiing skiing lifts so if you would like

00:14:53,380 --> 00:15:00,330
to create a map for skiing the data are

00:14:56,440 --> 00:15:04,840
not yet in OpenStreetMap but we can edit

00:15:00,330 --> 00:15:07,900
if we if we do a clone of the github

00:15:04,840 --> 00:15:11,200
repository so we copy the open tasks

00:15:07,900 --> 00:15:13,150
project or computer and lounged editor

00:15:11,200 --> 00:15:15,520
you will see that there is a layer

00:15:13,150 --> 00:15:19,480
folder layers folder which contains all

00:15:15,520 --> 00:15:21,070
the layers and in each is also a

00:15:19,480 --> 00:15:23,200
complete definition of the layer and

00:15:21,070 --> 00:15:27,340
there is those open map tiles dot llamÃ³

00:15:23,200 --> 00:15:29,440
file which is linking these these

00:15:27,340 --> 00:15:31,470
individual layers so let's say we don't

00:15:29,440 --> 00:15:34,770
want to generate the entire

00:15:31,470 --> 00:15:36,480
map tiles hi OpenStreetMap we just want

00:15:34,770 --> 00:15:39,180
to create a new and beat house which

00:15:36,480 --> 00:15:45,720
will have only the text related to the

00:15:39,180 --> 00:15:49,470
scheme if we if we do the spin yeah I

00:15:45,720 --> 00:15:52,530
prepared demo so you practically need

00:15:49,470 --> 00:15:55,820
three files for the new layer one of

00:15:52,530 --> 00:16:00,090
them is mapping that's that's defining

00:15:55,820 --> 00:16:00,810
for impulse in three the set of tags in

00:16:00,090 --> 00:16:03,180
OpenStreetMap

00:16:00,810 --> 00:16:07,680
and it will generate osm scheme line

00:16:03,180 --> 00:16:10,740
string post GIS table with the with the

00:16:07,680 --> 00:16:14,430
keys and names you define in this file

00:16:10,740 --> 00:16:16,500
the other file is layers dot SQL which

00:16:14,430 --> 00:16:19,890
defines around function for which

00:16:16,500 --> 00:16:24,450
returns from this verse I'm skiing line

00:16:19,890 --> 00:16:27,540
string table all the objects in upper

00:16:24,450 --> 00:16:30,380
dandtan zoom levels and overlapping the

00:16:27,540 --> 00:16:36,210
other part is mapping file in the

00:16:30,380 --> 00:16:40,170
mapping mapping is linked by by the

00:16:36,210 --> 00:16:42,510
layers and this disk query inside of the

00:16:40,170 --> 00:16:46,530
skin memo so the file which defines the

00:16:42,510 --> 00:16:48,840
entire layer is defining the query and

00:16:46,530 --> 00:16:51,210
calling the post GIS database which

00:16:48,840 --> 00:16:56,190
contains the table imported from in

00:16:51,210 --> 00:16:57,750
person if we if we do these

00:16:56,190 --> 00:17:00,540
modifications so just add the three

00:16:57,750 --> 00:17:03,300
files into the open mental structure we

00:17:00,540 --> 00:17:07,560
can just call may it will call open map

00:17:03,300 --> 00:17:09,540
tiles tools and convert the this

00:17:07,560 --> 00:17:12,750
structure into single files for the

00:17:09,540 --> 00:17:17,850
individual tools we will download some

00:17:12,750 --> 00:17:25,890
data let's download Switzerland did it

00:17:17,850 --> 00:17:32,700
already yeah and let's start post-grad I

00:17:25,890 --> 00:17:38,310
will start it with docker and yet

00:17:32,700 --> 00:17:43,100
running and now we can we can run the

00:17:38,310 --> 00:17:49,940
import of Open Street Map data into

00:17:43,100 --> 00:17:52,940
Postgres with the style defined this is

00:17:49,940 --> 00:17:56,059
now launching the impulse Mussoorie with

00:17:52,940 --> 00:17:59,360
the configuration so in this moment

00:17:56,059 --> 00:18:03,559
downloaded EBA OS n PDF file is being

00:17:59,360 --> 00:18:06,559
turned into table in opposed GIS with

00:18:03,559 --> 00:18:10,130
the attributes defined previously now

00:18:06,559 --> 00:18:12,860
the next step is importing the SQL

00:18:10,130 --> 00:18:15,440
functions we have on top of opposed GIS

00:18:12,860 --> 00:18:18,830
so here it would be the generalization

00:18:15,440 --> 00:18:22,760
which would run but we don't have any on

00:18:18,830 --> 00:18:32,000
this example and now we are ready to

00:18:22,760 --> 00:18:34,669
generate the tiles yep and start and now

00:18:32,000 --> 00:18:42,460
it's generating the towel for entire

00:18:34,669 --> 00:18:48,409
Switzerland okay

00:18:42,460 --> 00:18:51,080
modifying metadata and in the data

00:18:48,409 --> 00:18:54,140
folder we ended up with Styles dot MB

00:18:51,080 --> 00:18:56,690
tiles file which if we open in any

00:18:54,140 --> 00:18:59,510
viewer 4mb tiles I'm using the map tile

00:18:56,690 --> 00:19:05,059
or desktop you can you can preview the

00:18:59,510 --> 00:19:07,909
the data directly on a map with the

00:19:05,059 --> 00:19:13,520
x-ray view so we have just generated new

00:19:07,909 --> 00:19:15,620
MB tiles with a set of tags defined from

00:19:13,520 --> 00:19:17,950
Open Street Map and these scales to the

00:19:15,620 --> 00:19:17,950
entire world

00:19:19,570 --> 00:19:28,309
ok so our intention on the project is

00:19:24,799 --> 00:19:31,549
that it's it's used by the community it

00:19:28,309 --> 00:19:33,590
is in fact already open historical map

00:19:31,549 --> 00:19:35,840
for example is for king open map tiles

00:19:33,590 --> 00:19:38,289
and and importing the data which I saw

00:19:35,840 --> 00:19:41,210
recently on github and it's pretty cool

00:19:38,289 --> 00:19:43,610
they are there are other other other

00:19:41,210 --> 00:19:46,039
people are changing the the schema we

00:19:43,610 --> 00:19:48,530
have contributions from from different

00:19:46,039 --> 00:19:50,000
companies which are using the maps so

00:19:48,530 --> 00:19:53,750
it's it's a live project and I would

00:19:50,000 --> 00:19:55,370
love to see it even more live so that's

00:19:53,750 --> 00:19:56,990
definitely something what I would love

00:19:55,370 --> 00:19:59,110
to discuss with you

00:19:56,990 --> 00:20:01,640
please please catch me afterwards and

00:19:59,110 --> 00:20:03,530
let's talk about what to change in the

00:20:01,640 --> 00:20:07,840
project how to adjust it what what are

00:20:03,530 --> 00:20:11,570
the the braking braking parts for you or

00:20:07,840 --> 00:20:15,560
where did you hit a wall so so we can we

00:20:11,570 --> 00:20:18,200
can help to solve it next to the open

00:20:15,560 --> 00:20:20,690
mapped house open source project which

00:20:18,200 --> 00:20:24,880
transit open map tiles dot org we also

00:20:20,690 --> 00:20:26,900
had dot-com where you can find the

00:20:24,880 --> 00:20:28,400
regenerated house for the entire world

00:20:26,900 --> 00:20:30,760
so if you don't want to generate the

00:20:28,400 --> 00:20:33,950
tiles yourself you can download them

00:20:30,760 --> 00:20:35,810
it's completely free for personal use if

00:20:33,950 --> 00:20:37,970
you want to use it for business we ask

00:20:35,810 --> 00:20:40,220
some money to sustain the project and

00:20:37,970 --> 00:20:43,160
this is the strategy for for keeping the

00:20:40,220 --> 00:20:46,670
open map house project running in the

00:20:43,160 --> 00:20:48,230
same moment we are working now on yet

00:20:46,670 --> 00:20:51,620
the Open Street Map house our weekly

00:20:48,230 --> 00:20:53,180
updated we are also producing other data

00:20:51,620 --> 00:20:56,930
such as contours

00:20:53,180 --> 00:20:59,300
shades satellite they ran an aerial for

00:20:56,930 --> 00:21:02,780
the entire world which gives you a

00:20:59,300 --> 00:21:05,690
chance to to create even more beautiful

00:21:02,780 --> 00:21:08,570
Maps so in this example we see a

00:21:05,690 --> 00:21:10,400
vectorized a land cover for the entire

00:21:08,570 --> 00:21:12,860
world turned into vector tiles which

00:21:10,400 --> 00:21:15,770
gives you a feeling of a more global map

00:21:12,860 --> 00:21:18,200
and night brings nice colors to the

00:21:15,770 --> 00:21:20,180
upper zoom levels where later on we

00:21:18,200 --> 00:21:24,110
switch to the to the land cover which is

00:21:20,180 --> 00:21:27,560
part of Open Street Map this is on

00:21:24,110 --> 00:21:30,650
another example map with the hill

00:21:27,560 --> 00:21:34,310
shading and contour lines for the whole

00:21:30,650 --> 00:21:36,080
world which which we created as Victor

00:21:34,310 --> 00:21:37,670
Taos and you can you can download it and

00:21:36,080 --> 00:21:41,810
use it on your servers and now we are

00:21:37,670 --> 00:21:44,900
working on a global satellite layer we

00:21:41,810 --> 00:21:47,540
have down to 20 meters the entire world

00:21:44,900 --> 00:21:51,380
powered by NIST Massa and Sentinel 2

00:21:47,540 --> 00:21:54,350
data and we are now bringing in with

00:21:51,380 --> 00:21:56,960
color toning aerial imagery open data

00:21:54,350 --> 00:21:59,510
from different parts of the world to

00:21:56,960 --> 00:22:02,440
have a bit more complete coverage so

00:21:59,510 --> 00:22:04,760
this is an example with snipe and HRO

00:22:02,440 --> 00:22:07,370
data where you don't recognize you are

00:22:04,760 --> 00:22:09,830
switching from satellite to aerial

00:22:07,370 --> 00:22:15,200
and you're just getting higher higher

00:22:09,830 --> 00:22:18,950
resolution this is another example 3d 3d

00:22:15,200 --> 00:22:22,220
in Turin with Victor tiles our open map

00:22:18,950 --> 00:22:27,080
tiles Victor tells displayed in

00:22:22,220 --> 00:22:30,170
JavaScript view ver so all of these you

00:22:27,080 --> 00:22:33,920
can you can basically download and put

00:22:30,170 --> 00:22:36,350
in your in your servers and run service

00:22:33,920 --> 00:22:38,660
on top of the data we create if you

00:22:36,350 --> 00:22:41,720
don't want to butter with that we have a

00:22:38,660 --> 00:22:47,240
new thing we are launching maptiler

00:22:41,720 --> 00:22:50,210
cloud which is a hosting powered by by

00:22:47,240 --> 00:22:53,360
all the open source and open data we

00:22:50,210 --> 00:22:55,640
process and it runs on a reliable

00:22:53,360 --> 00:22:58,490
infrastructure and has very competitive

00:22:55,640 --> 00:23:02,090
pricing in fact I believe cheaper than

00:22:58,490 --> 00:23:04,430
they know or most of other providers you

00:23:02,090 --> 00:23:07,210
can host around data change the styles

00:23:04,430 --> 00:23:10,310
get raster and vector tiles from us and

00:23:07,210 --> 00:23:13,640
business you start even at 20 bucks per

00:23:10,310 --> 00:23:16,250
month if you go there you can get a free

00:23:13,640 --> 00:23:18,830
personal plan and get rest two tiles for

00:23:16,250 --> 00:23:21,560
entire world this is us that's the

00:23:18,830 --> 00:23:24,740
that's the company that's the team in

00:23:21,560 --> 00:23:27,530
the Swiss Swiss Alps after one of our

00:23:24,740 --> 00:23:31,610
meetings where we worked or actively on

00:23:27,530 --> 00:23:35,180
the new map tyler website so thank you a

00:23:31,610 --> 00:23:36,770
lot and I'm really keen to answer any

00:23:35,180 --> 00:23:40,490
questions and by the way we are hiring

00:23:36,770 --> 00:23:44,230
if you are if you are strong on Titan

00:23:40,490 --> 00:23:44,230
and OS index let me know

00:23:44,920 --> 00:23:48,729
[Applause]

00:24:00,470 --> 00:24:04,460
hi do you have any current used on the

00:24:02,600 --> 00:24:06,740
size of the vector tile how are you

00:24:04,460 --> 00:24:07,580
making sure that they not to water

00:24:06,740 --> 00:24:09,710
physically

00:24:07,580 --> 00:24:12,710
and so yeah guarantee suppose the size

00:24:09,710 --> 00:24:16,640
of the vector tiles yes it's always it's

00:24:12,710 --> 00:24:18,110
always a trade-off of how to how to how

00:24:16,640 --> 00:24:23,450
many information put into the vector

00:24:18,110 --> 00:24:27,890
tiles and how how to define what should

00:24:23,450 --> 00:24:29,240
be there for for everybody so who could

00:24:27,890 --> 00:24:32,870
you find that we have it in the scheme

00:24:29,240 --> 00:24:34,790
of exercise generated we have a set of

00:24:32,870 --> 00:24:37,160
tools which is checking checking the

00:24:34,790 --> 00:24:38,690
size of the I mean basically the schema

00:24:37,160 --> 00:24:40,640
defines what is what is put on which

00:24:38,690 --> 00:24:42,380
zoom level and this defines how big the

00:24:40,640 --> 00:24:44,510
tiles are for different parts of the

00:24:42,380 --> 00:24:50,150
world we have we have an automated tool

00:24:44,510 --> 00:24:52,100
set which verify so draw graphs to to

00:24:50,150 --> 00:24:53,840
check if the tiles are not too big if

00:24:52,100 --> 00:24:56,420
they are before release of open map

00:24:53,840 --> 00:24:58,250
tiles we shrink them down this is the

00:24:56,420 --> 00:25:00,860
official release next to that we have

00:24:58,250 --> 00:25:03,560
tools which are shrinking the tiles

00:25:00,860 --> 00:25:07,790
depending on the style so you can you

00:25:03,560 --> 00:25:09,440
can give us a JSON style which is you

00:25:07,790 --> 00:25:11,480
know like like just a hit rate on top of

00:25:09,440 --> 00:25:15,910
satellite which don't have any doesn't

00:25:11,480 --> 00:25:19,850
have any houses and house numbers and

00:25:15,910 --> 00:25:21,530
based on the style we can remove all the

00:25:19,850 --> 00:25:23,750
information not displayed on the map

00:25:21,530 --> 00:25:25,280
from the vector tiles and create vector

00:25:23,750 --> 00:25:26,800
tiles which are optimized for that

00:25:25,280 --> 00:25:29,060
particular style either

00:25:26,800 --> 00:25:31,730
regenerating it for the entire world

00:25:29,060 --> 00:25:35,200
tours origin you want or doing this

00:25:31,730 --> 00:25:35,200
shrinking on on demand

00:25:40,420 --> 00:25:46,960
I uh I uh

00:25:44,280 --> 00:25:50,290
so I'm managing the OpenStreetMap

00:25:46,960 --> 00:25:52,300
Belgium Idaho so far and I'll definitely

00:25:50,290 --> 00:25:55,480
have a look at the open map I don't I

00:25:52,300 --> 00:26:00,100
don't really yeah sorry we open it

00:25:55,480 --> 00:26:01,240
better but yeah okay yeah oh yeah okay

00:26:00,100 --> 00:26:04,120
sorry

00:26:01,240 --> 00:26:06,820
yeah so I'm managing the open map

00:26:04,120 --> 00:26:08,470
Belgium line server and I'll definitely

00:26:06,820 --> 00:26:12,160
have a look at open map tides and I was

00:26:08,470 --> 00:26:17,830
wondering how open map tied server is

00:26:12,160 --> 00:26:20,470
handling daily updates with the approach

00:26:17,830 --> 00:26:22,960
for regenerating the entire worlds we

00:26:20,470 --> 00:26:24,460
don't run daily updates we run weekly

00:26:22,960 --> 00:26:26,050
updates on our own infrastructure

00:26:24,460 --> 00:26:31,920
theoretically you could run daily

00:26:26,050 --> 00:26:36,940
updates as well but the the approach is

00:26:31,920 --> 00:26:38,230
is that we we have diff diff updates so

00:26:36,940 --> 00:26:41,320
we generate just the tiles which has

00:26:38,230 --> 00:26:43,180
changed but we run it on weekly period

00:26:41,320 --> 00:26:44,730
on our our service theoretically you

00:26:43,180 --> 00:26:47,200
could you could set it up for daily tube

00:26:44,730 --> 00:26:52,630
but you would need more powerful servers

00:26:47,200 --> 00:26:54,310
to public if it's more region like if

00:26:52,630 --> 00:26:55,720
you have only one country or something

00:26:54,310 --> 00:27:06,430
it would be completely fine Twitter's

00:26:55,720 --> 00:27:10,120
just regenerate every day all right so

00:27:06,430 --> 00:27:13,570
how do you do you actually distribute

00:27:10,120 --> 00:27:15,370
the generation of the tiles and say what

00:27:13,570 --> 00:27:18,010
what kind of infrastructure would it

00:27:15,370 --> 00:27:22,420
take to build the whole world as we see

00:27:18,010 --> 00:27:23,740
it in OpenStreetMap dollar today so what

00:27:22,420 --> 00:27:25,590
kind of an infrastructure will be

00:27:23,740 --> 00:27:29,350
required to build it in a day

00:27:25,590 --> 00:27:32,530
yeah we are using a cluster for

00:27:29,350 --> 00:27:38,830
generating the entire world for regular

00:27:32,530 --> 00:27:41,770
releases we have about 30 computers for

00:27:38,830 --> 00:27:44,410
this purpose and they are all together

00:27:41,770 --> 00:27:46,990
able to do the generating of the entire

00:27:44,410 --> 00:27:50,470
world in less than one day so what is

00:27:46,990 --> 00:27:52,630
the cluster run on is complete the cost

00:27:50,470 --> 00:27:54,220
like if you if you if you if you get

00:27:52,630 --> 00:27:59,950
these machines on Amazon you would

00:27:54,220 --> 00:28:02,620
probably over $1,000 for a single single

00:27:59,950 --> 00:28:05,289
rendering it's getting cheaper but we

00:28:02,620 --> 00:28:07,809
also offer over the pre-generated tiles

00:28:05,289 --> 00:28:12,519
from our website for price which is

00:28:07,809 --> 00:28:16,029
lower than than these costs in fact but

00:28:12,519 --> 00:28:19,629
it's a custom distribution system that

00:28:16,029 --> 00:28:21,629
you built the cost are in the moment

00:28:19,629 --> 00:28:25,120
where you generate the tiles I mean CPU

00:28:21,629 --> 00:28:27,759
but the system is custom built like

00:28:25,120 --> 00:28:31,509
you're distributing it using your own

00:28:27,759 --> 00:28:34,059
code the process we are we are using

00:28:31,509 --> 00:28:38,679
what is on github it's just it's just

00:28:34,059 --> 00:28:41,610
the cue for the tasks and all that stuff

00:28:38,679 --> 00:28:44,350
is it's done internally in the company

00:28:41,610 --> 00:28:45,159
but you can do that only around if you

00:28:44,350 --> 00:28:47,169
want

00:28:45,159 --> 00:28:49,539
there was documentation for that online

00:28:47,169 --> 00:28:53,049
it's part of the thesis of the student

00:28:49,539 --> 00:28:55,659
who worked on the project before so so

00:28:53,049 --> 00:28:59,110
you can you can check it and and do that

00:28:55,659 --> 00:29:01,059
on your infrastructure is your tech

00:28:59,110 --> 00:29:02,740
modules of choice because you see if you

00:29:01,059 --> 00:29:05,919
are on Amazon you want to use queues on

00:29:02,740 --> 00:29:09,730
Amazon if you are on Google if you are

00:29:05,919 --> 00:29:11,830
on proprietary or private cloud you

00:29:09,730 --> 00:29:13,659
always choose the tools that you want

00:29:11,830 --> 00:29:17,370
for for this clustering and the setup is

00:29:13,659 --> 00:29:17,370
quite complicated usually thank you

00:29:23,470 --> 00:29:28,950
okay

00:29:25,630 --> 00:29:28,950
so thank you a lot

00:29:31,130 --> 00:29:34,209

YouTube URL: https://www.youtube.com/watch?v=oI4GJE_v-zo


