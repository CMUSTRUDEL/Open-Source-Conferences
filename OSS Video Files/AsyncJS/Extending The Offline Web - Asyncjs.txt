Title: Extending The Offline Web - Asyncjs
Publication date: 2016-07-14
Playlist: AsyncJS
Description: 
	In this talk Glenn presents a number of experiments on the crossovers of remote and client built user experiences. The aim, to find the edges of what features can be commonly provided across these two environments.

This event was filmed at Asyncjs in Brighton (June).

Pusher is a hosted service with APIs, developer tools and open source libraries that greatly simplify integrating real-time functionality into web and mobile applications. 

Pusher will automatically scale when required, removing all the pain of setting up and maintaining a secure, real-time infrastructure. 

Pusher is already trusted to do so by thousands of developers and companies like GitHub, MailChimp, the Financial Times, Buffer and many more. 

Getting started takes just a few seconds: simply go to pusher.com and create a free account. Happy hacking!
Captions: 
	00:00:05,029 --> 00:00:09,840
so today I'm going to be talking about

00:00:06,980 --> 00:00:11,580
the offline web and when i'm trying to

00:00:09,840 --> 00:00:13,380
think about design problems i need to

00:00:11,580 --> 00:00:16,379
start with some sort of conceptual model

00:00:13,380 --> 00:00:19,920
so this is my conceptual model for the

00:00:16,379 --> 00:00:22,470
offline web it basically the persistence

00:00:19,920 --> 00:00:24,750
of experience for a distant sources of

00:00:22,470 --> 00:00:26,099
context now like a lot of people i think

00:00:24,750 --> 00:00:27,689
very three-dimensionally when i'm

00:00:26,099 --> 00:00:30,420
thinking about problems so when i'm on

00:00:27,689 --> 00:00:32,309
the web i consider content to have like

00:00:30,420 --> 00:00:34,079
distance from me I feel like a little

00:00:32,309 --> 00:00:35,640
Prasad like a surface it's in front of

00:00:34,079 --> 00:00:38,489
me which is the devices i'm using either

00:00:35,640 --> 00:00:40,680
a laptop or a or a mobile phone and then

00:00:38,489 --> 00:00:42,360
this is bits of content that live in a

00:00:40,680 --> 00:00:44,460
distance away from me I don't know where

00:00:42,360 --> 00:00:48,149
but they are at distance from from me

00:00:44,460 --> 00:00:50,190
and the offline experience is the

00:00:48,149 --> 00:00:52,710
persistence of that that experience

00:00:50,190 --> 00:00:54,300
close to me and I think the web

00:00:52,710 --> 00:00:57,059
persistence is really interesting and

00:00:54,300 --> 00:00:58,800
really sums it up to me when trying to

00:00:57,059 --> 00:01:00,989
construct me offline because if you look

00:00:58,800 --> 00:01:04,199
at the definition of persistence it's

00:01:00,989 --> 00:01:06,390
the continuing in a course of action in

00:01:04,199 --> 00:01:09,530
spite of the difficulty or opposition

00:01:06,390 --> 00:01:11,939
and to hold something offline is

00:01:09,530 --> 00:01:13,799
definitely needs some sort of force or

00:01:11,939 --> 00:01:16,049
action continual force or action to

00:01:13,799 --> 00:01:18,270
actually keep it there it degrades

00:01:16,049 --> 00:01:19,619
otherwise you know that you have to keep

00:01:18,270 --> 00:01:21,750
updating the information you have to

00:01:19,619 --> 00:01:23,070
sync it and it should make sure it's up

00:01:21,750 --> 00:01:25,259
to date all the time it's like a

00:01:23,070 --> 00:01:29,280
persistent effort that's needed so that

00:01:25,259 --> 00:01:31,049
that word is quite important so a lot of

00:01:29,280 --> 00:01:32,909
what I'm going to be talking about is me

00:01:31,049 --> 00:01:34,650
using this type of model and I

00:01:32,909 --> 00:01:36,689
particularly chose these words because

00:01:34,650 --> 00:01:38,490
it gives me a very wide scope as well I

00:01:36,689 --> 00:01:40,290
didn't want to narrow down how I

00:01:38,490 --> 00:01:42,630
perceive the offline web to some sort of

00:01:40,290 --> 00:01:44,549
like single page application or some of

00:01:42,630 --> 00:01:46,200
them other sort of mental model so this

00:01:44,549 --> 00:01:49,950
really helps me to keep referring back

00:01:46,200 --> 00:01:51,420
to it end of the philosophy bit okay so

00:01:49,950 --> 00:01:52,979
from now on we'll just move into the

00:01:51,420 --> 00:01:54,570
next bit which is to look at some of the

00:01:52,979 --> 00:01:57,180
design patterns and some of the recent

00:01:54,570 --> 00:01:59,850
design patterns although I was thinking

00:01:57,180 --> 00:02:02,369
about this about 14 months ago when

00:01:59,850 --> 00:02:05,969
actually built the library so this is

00:02:02,369 --> 00:02:11,400
the Washington Post's new progressive

00:02:05,969 --> 00:02:13,290
web n to the pw a directory it's only

00:02:11,400 --> 00:02:14,010
been out a few weeks if you use the

00:02:13,290 --> 00:02:16,379
mobile device

00:02:14,010 --> 00:02:19,049
and you go to this URL you'll find that

00:02:16,379 --> 00:02:22,079
they've built a completely separate you

00:02:19,049 --> 00:02:24,420
I away from their main site and it's not

00:02:22,079 --> 00:02:25,769
the sort of like desktop site it's

00:02:24,420 --> 00:02:28,470
actually completely sort of the

00:02:25,769 --> 00:02:32,040
Greenfield built site that's it's all

00:02:28,470 --> 00:02:33,480
its own in this little directory will

00:02:32,040 --> 00:02:36,629
come on to why I'm think that's not

00:02:33,480 --> 00:02:38,340
particularly good idea um but it is

00:02:36,629 --> 00:02:40,500
actually really fast and if you go on

00:02:38,340 --> 00:02:44,250
there it persists it's offline they've

00:02:40,500 --> 00:02:45,780
got like sub 100 millisecond page loads

00:02:44,250 --> 00:02:49,530
for some of their articles which is just

00:02:45,780 --> 00:02:52,290
unbelievable on the downside if you hit

00:02:49,530 --> 00:02:54,180
it with a non mobile browser you get

00:02:52,290 --> 00:02:55,920
this page on this side which is

00:02:54,180 --> 00:02:57,269
basically like these the old sort of

00:02:55,920 --> 00:02:59,220
splash screens used to get saying this

00:02:57,269 --> 00:03:01,980
site doesn't work on line 6 or this site

00:02:59,220 --> 00:03:03,540
doesn't work with this technology you

00:03:01,980 --> 00:03:07,769
know it's a bit of a slight step

00:03:03,540 --> 00:03:09,780
backwards in an actual fact um Andrew

00:03:07,769 --> 00:03:12,299
Bates and if you don't know this name

00:03:09,780 --> 00:03:14,760
this this was the person who led up the

00:03:12,299 --> 00:03:16,230
Financial Times ft lab so they've got

00:03:14,760 --> 00:03:17,909
like a lot of background in this area

00:03:16,230 --> 00:03:19,680
they've been building sort of offline

00:03:17,909 --> 00:03:21,389
experiences using slightly older

00:03:19,680 --> 00:03:23,250
technology of the appcache technology

00:03:21,389 --> 00:03:25,919
for quite a long time you know and have

00:03:23,250 --> 00:03:27,569
done a lot of work in this area wrote

00:03:25,919 --> 00:03:30,000
quite a passionate piece I have to be

00:03:27,569 --> 00:03:31,859
quite careful here because both the

00:03:30,000 --> 00:03:35,549
Washington Post I'm the ft of both

00:03:31,859 --> 00:03:37,980
clients of my exes so my words be chosen

00:03:35,549 --> 00:03:40,980
carefully he wasn't overly happy about

00:03:37,980 --> 00:03:42,449
the Washington Post's piece and he wrote

00:03:40,980 --> 00:03:44,340
this article it's well worth you having

00:03:42,449 --> 00:03:46,889
a read of it I've got the URLs at the

00:03:44,340 --> 00:03:49,980
end you can you can use the URLs that

00:03:46,889 --> 00:03:51,690
I've listed for you and towards the end

00:03:49,980 --> 00:03:53,819
of the piece after he talked about why

00:03:51,690 --> 00:03:55,560
wasn't happy he then did sort of a more

00:03:53,819 --> 00:03:57,299
positive thing and listed the whole

00:03:55,560 --> 00:03:59,190
series of bullet points about what the

00:03:57,299 --> 00:04:03,180
communicate community in general could

00:03:59,190 --> 00:04:05,129
do to have improved the position and one

00:04:03,180 --> 00:04:07,019
of the one of these bullet points was

00:04:05,129 --> 00:04:09,720
this one here where he said basically we

00:04:07,019 --> 00:04:12,780
should focus on adding these new sort of

00:04:09,720 --> 00:04:14,639
offline features to mature sites and

00:04:12,780 --> 00:04:16,320
this was definitely my thinking a while

00:04:14,639 --> 00:04:17,849
back and I sort of knew this problem was

00:04:16,320 --> 00:04:20,070
going to come and raise its ugly head at

00:04:17,849 --> 00:04:23,239
some point and now is the time now is

00:04:20,070 --> 00:04:23,239
the time we're having this debate

00:04:23,360 --> 00:04:30,000
so for me when I was thinking about

00:04:27,000 --> 00:04:31,680
offline experiences I moved back to some

00:04:30,000 --> 00:04:34,830
of the websites that I helped design

00:04:31,680 --> 00:04:36,960
well five years ago so I did the first

00:04:34,830 --> 00:04:39,450
two iterations of the design work with

00:04:36,960 --> 00:04:42,090
on the Guardian job site in conjunction

00:04:39,450 --> 00:04:43,410
with the product team at Guardian and I

00:04:42,090 --> 00:04:44,850
think it was flow interactive as well

00:04:43,410 --> 00:04:48,060
who did a lot of the user research for

00:04:44,850 --> 00:04:49,440
us and this to me represent and the

00:04:48,060 --> 00:04:51,120
reason why I'm showing you this and I'm

00:04:49,440 --> 00:04:52,950
going to show you a few examples of this

00:04:51,120 --> 00:04:54,870
site it represents one of these mature

00:04:52,950 --> 00:04:56,580
sites to me it's got some of the

00:04:54,870 --> 00:04:58,290
features and you know it's been around

00:04:56,580 --> 00:05:00,150
for a while you know it's got millions

00:04:58,290 --> 00:05:02,190
of users it's United however hear the

00:05:00,150 --> 00:05:03,750
news site and it's been through multiple

00:05:02,190 --> 00:05:07,140
iterations to get to the point where

00:05:03,750 --> 00:05:10,530
it's at at the moment unlike most modern

00:05:07,140 --> 00:05:12,540
site it's got a responsive layout and

00:05:10,530 --> 00:05:14,790
typical of most of those sort of

00:05:12,540 --> 00:05:17,580
responsive layouts of today as the

00:05:14,790 --> 00:05:19,890
screen real estate changes and there's

00:05:17,580 --> 00:05:21,630
some reduction in in the features and

00:05:19,890 --> 00:05:22,800
also some paring back in some of the

00:05:21,630 --> 00:05:25,830
material it's on there but just

00:05:22,800 --> 00:05:27,840
generally just reorganize itself to best

00:05:25,830 --> 00:05:29,400
show those the features that are there

00:05:27,840 --> 00:05:31,560
without actually degra gating the user

00:05:29,400 --> 00:05:33,120
experience if possible I'm pretty

00:05:31,560 --> 00:05:36,800
classic I think we're all very familiar

00:05:33,120 --> 00:05:39,000
with that type of thing so there I was

00:05:36,800 --> 00:05:41,490
thinking about this and thinking okay so

00:05:39,000 --> 00:05:43,050
if i take my mature site my guardian

00:05:41,490 --> 00:05:45,540
site what would it look like if i built

00:05:43,050 --> 00:05:46,830
a off offline experience and

00:05:45,540 --> 00:05:48,630
particularly what would it look like if

00:05:46,830 --> 00:05:50,820
i built a progressive offline experience

00:05:48,630 --> 00:05:54,210
one that was iterative and started with

00:05:50,820 --> 00:05:56,040
like relatively small thing and built on

00:05:54,210 --> 00:05:57,570
the site as it was not like the

00:05:56,040 --> 00:05:59,220
washington post it like build a brand

00:05:57,570 --> 00:06:02,400
new site and stick it in another domain

00:05:59,220 --> 00:06:04,500
and before i show you this little

00:06:02,400 --> 00:06:06,210
mock-up I've just got to say caveat big

00:06:04,500 --> 00:06:07,680
caveat this is not what magics he's

00:06:06,210 --> 00:06:09,479
doing for the guardian or what the

00:06:07,680 --> 00:06:11,729
Guardian asked for this is purely just

00:06:09,479 --> 00:06:14,010
my meet me mocking up to see what I

00:06:11,729 --> 00:06:15,450
would think about and if I was doing

00:06:14,010 --> 00:06:19,590
that type of thing I probably come up

00:06:15,450 --> 00:06:21,600
with a design that's a bit like this now

00:06:19,590 --> 00:06:23,430
the Guardian jobs has about at any one

00:06:21,600 --> 00:06:27,180
time between 12 and 15 thousand jobs on

00:06:23,430 --> 00:06:29,190
it those jobs rotate every 28 days that

00:06:27,180 --> 00:06:31,380
means a job change is less than every

00:06:29,190 --> 00:06:34,710
three minutes on it so it's actually a

00:06:31,380 --> 00:06:36,110
very high data traffic in sight I don't

00:06:34,710 --> 00:06:38,720
think we could dump

00:06:36,110 --> 00:06:40,280
of that data from the main site into the

00:06:38,720 --> 00:06:41,780
client because it is just not very

00:06:40,280 --> 00:06:42,860
practical the amount of updates we'd

00:06:41,780 --> 00:06:46,220
have to send to the phone would be

00:06:42,860 --> 00:06:47,870
really substantial but there are lots of

00:06:46,220 --> 00:06:49,280
things on that site that are really

00:06:47,870 --> 00:06:52,190
useful to the user that we could

00:06:49,280 --> 00:06:53,840
possibly translate over so I've just

00:06:52,190 --> 00:06:57,080
picked a few of them out which I think

00:06:53,840 --> 00:06:58,700
would be quite useful um so quite one of

00:06:57,080 --> 00:07:00,260
the things that users do is to shortlist

00:06:58,700 --> 00:07:01,760
jobs so they go on and I just basically

00:07:00,260 --> 00:07:03,470
star the ones that they're interested in

00:07:01,760 --> 00:07:06,080
so we could show that we could stall

00:07:03,470 --> 00:07:08,420
that and show those that BB definitely

00:07:06,080 --> 00:07:11,420
of interest to the user we could do

00:07:08,420 --> 00:07:12,890
something like okay as a user visits the

00:07:11,420 --> 00:07:14,360
site we could track them through and

00:07:12,890 --> 00:07:16,490
keep the last 20 jobs that they looked

00:07:14,360 --> 00:07:19,100
up so if in the morning there they're

00:07:16,490 --> 00:07:20,720
like looking at some jobs and then they

00:07:19,100 --> 00:07:22,220
go on the train and our way through the

00:07:20,720 --> 00:07:24,710
classic you in your tunnel type

00:07:22,220 --> 00:07:26,510
situation they could go there and

00:07:24,710 --> 00:07:28,370
actually look at the offline version and

00:07:26,510 --> 00:07:29,720
I'm just took reread that job that they

00:07:28,370 --> 00:07:31,070
were interested in and maybe consider

00:07:29,720 --> 00:07:32,420
the jobs are there I think that would be

00:07:31,070 --> 00:07:34,940
very useful just to keep that little

00:07:32,420 --> 00:07:37,070
tiny history for them maybe 20 jobs

00:07:34,940 --> 00:07:38,660
maybe 30 i don't know whatever but like

00:07:37,070 --> 00:07:40,400
a subset of the job that he looked up

00:07:38,660 --> 00:07:42,260
and then obviously if they're applying

00:07:40,400 --> 00:07:43,820
for a job we could keep that information

00:07:42,260 --> 00:07:45,440
there because that's really useful you

00:07:43,820 --> 00:07:47,300
know what state the applications are in

00:07:45,440 --> 00:07:49,880
when they made the application all of

00:07:47,300 --> 00:07:53,000
that type of information so i mocked

00:07:49,880 --> 00:07:56,210
this up to show you what i think a small

00:07:53,000 --> 00:07:58,430
step sort of into progression to offline

00:07:56,210 --> 00:07:59,630
progressive web app would look like for

00:07:58,430 --> 00:08:01,970
the Guardian but then I thought well

00:07:59,630 --> 00:08:03,470
maybe you just think that's me and I

00:08:01,970 --> 00:08:05,450
know these these particular sites very

00:08:03,470 --> 00:08:07,760
well so I went that step further and

00:08:05,450 --> 00:08:09,620
just took to other web experiences that

00:08:07,760 --> 00:08:11,810
I've been involved in in the last few

00:08:09,620 --> 00:08:14,540
weeks and for what might they look like

00:08:11,810 --> 00:08:16,760
as well I'm just purely making up out on

00:08:14,540 --> 00:08:18,470
my own so one I went over to tousled off

00:08:16,760 --> 00:08:20,690
a little while ago flew on british

00:08:18,470 --> 00:08:24,130
airways wouldn't be great if the british

00:08:20,690 --> 00:08:27,740
airways mobile site offlined both the

00:08:24,130 --> 00:08:29,840
boarding passes and my bookings so that

00:08:27,740 --> 00:08:31,550
I have the perdon information just that

00:08:29,840 --> 00:08:33,140
stuff I'm not expecting to be able to

00:08:31,550 --> 00:08:34,910
search for flights I know I can't do

00:08:33,140 --> 00:08:35,990
that when I'm offline but at least I

00:08:34,910 --> 00:08:38,630
should have that I should have that

00:08:35,990 --> 00:08:40,310
piece of information and really funny I

00:08:38,630 --> 00:08:43,400
did actually do these mock-ups about

00:08:40,310 --> 00:08:45,920
three weeks ago and then the progressive

00:08:43,400 --> 00:08:47,840
web apps conference just this week an

00:08:45,920 --> 00:08:50,750
airline from Berlin is actually done

00:08:47,840 --> 00:08:52,160
actly this which is great so that proves

00:08:50,750 --> 00:08:54,770
my point I'm really happy about that

00:08:52,160 --> 00:08:56,840
because it was just a sort of rough idea

00:08:54,770 --> 00:08:58,790
and then equally as well you know amazon

00:08:56,840 --> 00:08:59,930
my coilovers i use amazon for doing

00:08:58,790 --> 00:09:02,180
different storms these are the books

00:08:59,930 --> 00:09:03,950
I've got an order at the moment you know

00:09:02,180 --> 00:09:05,990
amazon could provide me just basically

00:09:03,950 --> 00:09:07,520
my current order sir offline which ones

00:09:05,990 --> 00:09:08,990
I've got and when they're going to be

00:09:07,520 --> 00:09:10,790
delivered you know that would be really

00:09:08,990 --> 00:09:12,740
useful again I don't respect to be able

00:09:10,790 --> 00:09:14,180
to search amazon at this GP they have

00:09:12,740 --> 00:09:15,710
hundreds of thousands of products I'm

00:09:14,180 --> 00:09:19,790
not going to be able to do that but they

00:09:15,710 --> 00:09:21,290
could provide me this so the end of that

00:09:19,790 --> 00:09:23,300
point that and remade he actually said

00:09:21,290 --> 00:09:25,430
this bit which i think is good statement

00:09:23,300 --> 00:09:28,130
as well it is some of this stuff can be

00:09:25,430 --> 00:09:30,350
done easily if not elegantly and we

00:09:28,130 --> 00:09:33,140
don't have to like fork whole thing and

00:09:30,350 --> 00:09:35,900
build a completely brand new a new UI

00:09:33,140 --> 00:09:37,910
and sort of put that and go down that

00:09:35,900 --> 00:09:40,070
route we can just enhance what we've

00:09:37,910 --> 00:09:42,290
already got so those mock-ups were not

00:09:40,070 --> 00:09:43,610
me adding new features to the site so

00:09:42,290 --> 00:09:45,920
we're just pairing back the menu to

00:09:43,610 --> 00:09:47,690
those features that I think should be

00:09:45,920 --> 00:09:54,620
offline because they're already part of

00:09:47,690 --> 00:09:56,360
those those sites okay so this is

00:09:54,620 --> 00:09:59,090
there's also this debate that's going on

00:09:56,360 --> 00:10:00,890
at the moment about a shell actually I

00:09:59,090 --> 00:10:02,510
think this debate about app shell is

00:10:00,890 --> 00:10:05,240
just another version of what I've just

00:10:02,510 --> 00:10:07,520
taught about so if you haven't come

00:10:05,240 --> 00:10:12,500
across the concept app shows people

00:10:07,520 --> 00:10:15,590
heard our app shell okay so at the

00:10:12,500 --> 00:10:17,180
moment I'm the chrome dev group are

00:10:15,590 --> 00:10:19,130
doing a really good job of trying to

00:10:17,180 --> 00:10:21,980
explain all the different steps that are

00:10:19,130 --> 00:10:24,200
involved in trying to offline web site

00:10:21,980 --> 00:10:25,850
and to do so they're trying to have like

00:10:24,200 --> 00:10:27,740
come up with phraseology zand

00:10:25,850 --> 00:10:29,960
terminologies to encapsulate the

00:10:27,740 --> 00:10:32,810
different steps and one of these steps

00:10:29,960 --> 00:10:36,260
is referred to as like building the app

00:10:32,810 --> 00:10:38,780
shell what that means is when you want

00:10:36,260 --> 00:10:41,360
to offline something you take all of the

00:10:38,780 --> 00:10:43,910
what we would have called in old terms

00:10:41,360 --> 00:10:45,830
the earth site furniture or the page

00:10:43,910 --> 00:10:48,320
furniture the header the footer that

00:10:45,830 --> 00:10:51,020
menu all of those types of things and

00:10:48,320 --> 00:10:52,820
you build a specific cash that saves

00:10:51,020 --> 00:10:54,410
them because actually you can quite

00:10:52,820 --> 00:10:56,960
easily offline those you can build a

00:10:54,410 --> 00:10:58,910
cache that just we wear pulls pulls

00:10:56,960 --> 00:10:59,670
those pieces of items from within the

00:10:58,910 --> 00:11:01,920
bread

00:10:59,670 --> 00:11:04,650
memory basically and reuses them without

00:11:01,920 --> 00:11:06,900
them having to go off and this is just

00:11:04,650 --> 00:11:08,340
like one phase of how you would offline

00:11:06,900 --> 00:11:10,260
there's lots of different phases or

00:11:08,340 --> 00:11:13,320
different recipes as they referred to as

00:11:10,260 --> 00:11:15,870
all others as well of doing offline in

00:11:13,320 --> 00:11:20,640
but I think unfortunately the actual

00:11:15,870 --> 00:11:22,530
thing also implies some other stuff it

00:11:20,640 --> 00:11:25,320
implies that you should build what a

00:11:22,530 --> 00:11:29,280
single page app or like a singular app

00:11:25,320 --> 00:11:32,280
much like the Washington Post one by the

00:11:29,280 --> 00:11:33,780
very word a pin it and also it's not

00:11:32,280 --> 00:11:35,850
particularly helped by the fact that

00:11:33,780 --> 00:11:38,430
most of the examples use the material

00:11:35,850 --> 00:11:40,770
design which is very related to apps as

00:11:38,430 --> 00:11:42,750
well so I think it's just another

00:11:40,770 --> 00:11:48,000
version of the problem that i just

00:11:42,750 --> 00:11:50,580
mentioned before everybody's really

00:11:48,000 --> 00:11:53,930
aware of this discussion absolutely I

00:11:50,580 --> 00:11:57,120
was very nice at the summit in a

00:11:53,930 --> 00:11:58,470
beginning of the week and some of the

00:11:57,120 --> 00:11:59,640
comments that were coming out and what

00:11:58,470 --> 00:12:02,070
this one particularly from Jake

00:11:59,640 --> 00:12:03,450
Archibald is the Pacific you know we

00:12:02,070 --> 00:12:05,880
need to change the perception that

00:12:03,450 --> 00:12:09,360
progressive web apps must be a single

00:12:05,880 --> 00:12:12,510
page were rendered up they can be either

00:12:09,360 --> 00:12:14,940
you can take and enhance a current site

00:12:12,510 --> 00:12:17,760
and just use what rendered web pages

00:12:14,940 --> 00:12:20,160
install them into memory or you can

00:12:17,760 --> 00:12:23,220
build a single page app using something

00:12:20,160 --> 00:12:25,620
like angular or ember but the choice is

00:12:23,220 --> 00:12:28,260
yours the technology is not descriptive

00:12:25,620 --> 00:12:30,990
it you know you can actually use both

00:12:28,260 --> 00:12:32,790
both both methodologies and we need to

00:12:30,990 --> 00:12:34,050
be careful that the terminology doesn't

00:12:32,790 --> 00:12:35,520
force people down one way or another

00:12:34,050 --> 00:12:38,640
which is a problem with the app cache

00:12:35,520 --> 00:12:40,560
thing so the examples I showed you in my

00:12:38,640 --> 00:12:43,560
little mock-ups I would refer to them as

00:12:40,560 --> 00:12:46,110
more psych furniture caches than the app

00:12:43,560 --> 00:12:47,520
shell and I know it's just a little bit

00:12:46,110 --> 00:12:52,470
of tweaking on language but i think is a

00:12:47,520 --> 00:12:55,320
very important to econ language so back

00:12:52,470 --> 00:12:57,840
to the Guardian and 14 months ago when i

00:12:55,320 --> 00:13:00,030
was looking at this as i've said I

00:12:57,840 --> 00:13:01,980
thought regard this as a mature site

00:13:00,030 --> 00:13:03,270
there's something also there's something

00:13:01,980 --> 00:13:05,850
else that's also very different about

00:13:03,270 --> 00:13:07,990
this site to some of the modern the

00:13:05,850 --> 00:13:11,140
messaging sites that we see

00:13:07,990 --> 00:13:14,140
I don't like Twitter or any of those

00:13:11,140 --> 00:13:17,140
types of streaming navigations with

00:13:14,140 --> 00:13:19,089
notification and I sort of class these

00:13:17,140 --> 00:13:21,550
types of sites of using document search

00:13:19,089 --> 00:13:24,160
I couldn't really find the phraseology

00:13:21,550 --> 00:13:25,300
that really encapsulates it well but if

00:13:24,160 --> 00:13:27,130
I try and explain what I mean by

00:13:25,300 --> 00:13:29,350
document search if you look at the

00:13:27,130 --> 00:13:31,450
interface here it's pretty much driven

00:13:29,350 --> 00:13:33,970
by free text search so in the far side

00:13:31,450 --> 00:13:37,390
there people type in and they type the

00:13:33,970 --> 00:13:38,830
job their job title in behind the scenes

00:13:37,390 --> 00:13:41,950
what we actually do is we store all of

00:13:38,830 --> 00:13:44,649
our jobs in a big SQL cluster so a

00:13:41,950 --> 00:13:46,450
classic relational database system but

00:13:44,649 --> 00:13:48,220
to the side of that we use elastic

00:13:46,450 --> 00:13:50,170
search which I think a lot of companies

00:13:48,220 --> 00:13:52,240
do now you know like a proper free set

00:13:50,170 --> 00:13:55,300
free text searching system as well and

00:13:52,240 --> 00:13:57,700
that's what drives this box here it sort

00:13:55,300 --> 00:13:59,740
of paired that the text search to geo

00:13:57,700 --> 00:14:01,930
search as well so you can say I'm

00:13:59,740 --> 00:14:03,580
looking for JavaScript jobs in Brighton

00:14:01,930 --> 00:14:05,440
or JavaScript jobs in London and it

00:14:03,580 --> 00:14:08,230
finds those things for you so here we

00:14:05,440 --> 00:14:10,480
have classic free text search over the

00:14:08,230 --> 00:14:13,060
over documents that are stored in in

00:14:10,480 --> 00:14:17,079
this case in elastic search and then

00:14:13,060 --> 00:14:20,050
secondary to that is a classic facet

00:14:17,079 --> 00:14:22,480
navigation system so facet navigations

00:14:20,050 --> 00:14:23,860
are you know best explained by what's on

00:14:22,480 --> 00:14:25,720
Amazon when you go down the column on

00:14:23,860 --> 00:14:28,570
the on the on the left hand side you

00:14:25,720 --> 00:14:30,370
click on 11 item like I don't know if

00:14:28,570 --> 00:14:31,570
want to look at books and then I then I

00:14:30,370 --> 00:14:32,589
want to look at computer books and

00:14:31,570 --> 00:14:34,209
slowly you work your way through your

00:14:32,589 --> 00:14:36,160
navigation and it drops you down and

00:14:34,209 --> 00:14:37,839
each time it tells you you know what the

00:14:36,160 --> 00:14:40,149
subsections are for each of them so you

00:14:37,839 --> 00:14:42,730
drill down through it and the facets are

00:14:40,149 --> 00:14:45,940
generated automatically from the data

00:14:42,730 --> 00:14:48,970
that's stored typically strangely we

00:14:45,940 --> 00:14:50,110
find that some people like the this type

00:14:48,970 --> 00:14:51,640
of search and some people like that

00:14:50,110 --> 00:14:53,890
we've never never got to a point where

00:14:51,640 --> 00:14:55,810
once dominated another and to be honest

00:14:53,890 --> 00:14:58,120
they're often found together and that's

00:14:55,810 --> 00:15:00,250
why something like so la which is

00:14:58,120 --> 00:15:02,350
another sort of variant of elastic

00:15:00,250 --> 00:15:03,820
search it's all but they're all based

00:15:02,350 --> 00:15:06,790
off the same underlying technology which

00:15:03,820 --> 00:15:09,339
is a leucine engine they also include

00:15:06,790 --> 00:15:12,040
facets as part of the core of their

00:15:09,339 --> 00:15:14,620
system so i was looking at since this

00:15:12,040 --> 00:15:17,110
insane mature sites I'm interesting

00:15:14,620 --> 00:15:18,910
offline in I can do the bit that I

00:15:17,110 --> 00:15:20,800
showed you in my mock ups but

00:15:18,910 --> 00:15:23,080
how could I extend that further what

00:15:20,800 --> 00:15:25,090
could I do to move this type of

00:15:23,080 --> 00:15:26,950
functionality into the offline world

00:15:25,090 --> 00:15:29,650
because I'm really interested in this

00:15:26,950 --> 00:15:31,180
sort of document type searching and I

00:15:29,650 --> 00:15:33,400
want to bring that into my offline

00:15:31,180 --> 00:15:35,410
experience so maybe not the first step

00:15:33,400 --> 00:15:37,000
of like when I enhance a site but you

00:15:35,410 --> 00:15:38,620
know i'd probably do what i showed you

00:15:37,000 --> 00:15:40,510
the first step then what would the

00:15:38,620 --> 00:15:41,830
second step would be and could i

00:15:40,510 --> 00:15:44,410
produced a piece of technology that

00:15:41,830 --> 00:15:47,470
would allow me to do that and that's

00:15:44,410 --> 00:15:50,080
where this project came in that's that's

00:15:47,470 --> 00:15:52,690
why i started this project not actually

00:15:50,080 --> 00:15:55,090
to produce a library for people to use

00:15:52,690 --> 00:15:58,000
but for me to experiment with that

00:15:55,090 --> 00:16:00,970
concept so and find out where the limits

00:15:58,000 --> 00:16:03,580
are so money is a document search tool

00:16:00,970 --> 00:16:05,560
based in JavaScript it's actually up

00:16:03,580 --> 00:16:07,750
online i have put it up online it's and

00:16:05,560 --> 00:16:09,280
the github repo just as positive it has

00:16:07,750 --> 00:16:13,030
a great big label at the top of it

00:16:09,280 --> 00:16:14,980
saying unstable API because it is an

00:16:13,030 --> 00:16:16,570
experiment and I don't want people to

00:16:14,980 --> 00:16:18,460
think otherwise but have fully

00:16:16,570 --> 00:16:21,130
documented it and so that people can

00:16:18,460 --> 00:16:23,080
play with it and use it and you can play

00:16:21,130 --> 00:16:26,740
with it as well and i'll show you it in

00:16:23,080 --> 00:16:29,020
a second this tweet came out and i think

00:16:26,740 --> 00:16:30,490
it's absolutely great um yes your

00:16:29,020 --> 00:16:31,780
friends should stop friends from

00:16:30,490 --> 00:16:34,840
building databases i think yes

00:16:31,780 --> 00:16:36,940
absolutely databases are complex thing

00:16:34,840 --> 00:16:38,440
so you need a lot of hardcore domain

00:16:36,940 --> 00:16:41,770
knowledge to really build a proper one

00:16:38,440 --> 00:16:43,030
and to get it performant and maybe i

00:16:41,770 --> 00:16:45,280
shouldn't be trying to build my own

00:16:43,030 --> 00:16:46,660
database that runs offline but i think

00:16:45,280 --> 00:16:48,640
there's another thing that comes with

00:16:46,660 --> 00:16:50,710
this statement as well but sometimes

00:16:48,640 --> 00:16:52,930
it's really great to lift lift the

00:16:50,710 --> 00:16:55,120
bonnet and twink it tinker with an

00:16:52,930 --> 00:16:57,190
engine because in doing so you find the

00:16:55,120 --> 00:16:59,350
limits of a technology and in doing that

00:16:57,190 --> 00:17:00,700
it gives you ideas about maybe

00:16:59,350 --> 00:17:02,470
possibilities that you wouldn't have

00:17:00,700 --> 00:17:04,420
thought out otherwise you know i can I

00:17:02,470 --> 00:17:06,100
and I often do this play with

00:17:04,420 --> 00:17:07,420
technologists just to find out where the

00:17:06,100 --> 00:17:10,450
borders are and this project is

00:17:07,420 --> 00:17:13,090
definitely that so before I get into

00:17:10,450 --> 00:17:14,350
doing the demo I'll just show you i'm

00:17:13,090 --> 00:17:16,390
only going to show you a tiny bit of

00:17:14,350 --> 00:17:18,010
code because I'm just then I'm going to

00:17:16,390 --> 00:17:20,470
show you how it works but just so you

00:17:18,010 --> 00:17:25,060
know how how easy it is to set something

00:17:20,470 --> 00:17:26,980
like this up for for free text search

00:17:25,060 --> 00:17:29,530
you need to create an index it's no it's

00:17:26,980 --> 00:17:31,690
no real is there's no real value

00:17:29,530 --> 00:17:33,100
in indexing everything there's certain

00:17:31,690 --> 00:17:34,240
things like billion information that

00:17:33,100 --> 00:17:36,940
wouldn't be good you really interested

00:17:34,240 --> 00:17:38,830
in specific pieces of text so you need

00:17:36,940 --> 00:17:42,280
to decide which pieces of text you want

00:17:38,830 --> 00:17:44,410
to index and all the options does is say

00:17:42,280 --> 00:17:46,570
this field in this case the title field

00:17:44,410 --> 00:17:48,820
in the text field I'm interesting i want

00:17:46,570 --> 00:17:50,590
you to index those and on the title

00:17:48,820 --> 00:17:52,630
field can you give it a boost of 20 a

00:17:50,590 --> 00:17:54,700
boost basically tells the index that

00:17:52,630 --> 00:17:57,130
that's more important text so you know

00:17:54,700 --> 00:17:58,840
if you find the term in there you know

00:17:57,130 --> 00:18:00,610
that's more important and if you find it

00:17:58,840 --> 00:18:04,780
in the main body of the discrete of the

00:18:00,610 --> 00:18:06,490
of the article in this case once you've

00:18:04,780 --> 00:18:08,160
created the options it's really simple

00:18:06,490 --> 00:18:11,620
to set up money you basically

00:18:08,160 --> 00:18:13,060
instantiate an instance of it giving it

00:18:11,620 --> 00:18:15,820
the options and it then provides you

00:18:13,060 --> 00:18:17,620
with an index are so you can produce

00:18:15,820 --> 00:18:19,000
multiple indexes if you want to you know

00:18:17,620 --> 00:18:20,620
you get but in this case we just

00:18:19,000 --> 00:18:24,790
produced the warm and then once you've

00:18:20,620 --> 00:18:28,480
got the index you add your your article

00:18:24,790 --> 00:18:30,670
or your record your item to it and it's

00:18:28,480 --> 00:18:33,010
added as a JSON object with a series of

00:18:30,670 --> 00:18:34,390
properties for the demo that I'm about

00:18:33,010 --> 00:18:37,450
to show you what I've done is I've gone

00:18:34,390 --> 00:18:39,250
on to the async site and taken all of

00:18:37,450 --> 00:18:41,920
the events that have ever happened to

00:18:39,250 --> 00:18:44,830
async turn them all into JSON objects

00:18:41,920 --> 00:18:47,740
and we're actually running in a browser

00:18:44,830 --> 00:18:49,420
here so I've loaded up Manny and I've

00:18:47,740 --> 00:18:53,020
loaded up there Jason so that we can

00:18:49,420 --> 00:18:56,200
play with it just doing this here okay

00:18:53,020 --> 00:18:58,450
and to do the search pretty simple as

00:18:56,200 --> 00:19:00,460
well basically take the index dot search

00:18:58,450 --> 00:19:02,320
and then I'm going to search for the

00:19:00,460 --> 00:19:06,130
text and the text i'm searching for its

00:19:02,320 --> 00:19:07,330
promises so the next few screens are

00:19:06,130 --> 00:19:09,160
going to be set up like this and i'll

00:19:07,330 --> 00:19:12,670
sit down and show you how they work on

00:19:09,160 --> 00:19:14,800
this side are on on the left on left

00:19:12,670 --> 00:19:16,930
hand side you've got basically a text

00:19:14,800 --> 00:19:19,120
area we have some jason in it which is

00:19:16,930 --> 00:19:21,550
going to be our search terms i'm going

00:19:19,120 --> 00:19:23,500
to type in on this side it's just going

00:19:21,550 --> 00:19:27,460
to print out whatever the results are

00:19:23,500 --> 00:19:29,200
coming from our data set which is all of

00:19:27,460 --> 00:19:31,450
the events for racing so at the moment

00:19:29,200 --> 00:19:33,310
it's fired up promises and these are the

00:19:31,450 --> 00:19:36,340
four events it's found that have their

00:19:33,310 --> 00:19:38,020
word promises in if i change that to CSS

00:19:36,340 --> 00:19:39,920
you can see pretty much straight away

00:19:38,020 --> 00:19:43,460
changes over to

00:19:39,920 --> 00:19:47,570
to CSS I can do css3 if I want to do 30

00:19:43,460 --> 00:19:51,230
see just back again we can do things

00:19:47,570 --> 00:19:54,380
like modules and you can see that it's

00:19:51,230 --> 00:19:57,650
actually picking up all of the stuff

00:19:54,380 --> 00:19:59,480
with modules I think at this time but if

00:19:57,650 --> 00:20:00,950
I tell you what I've actually done is

00:19:59,480 --> 00:20:03,470
use a whole series of underlying

00:20:00,950 --> 00:20:05,360
libraries to create this obviously

00:20:03,470 --> 00:20:06,770
create from scratch wouldn't be a bit of

00:20:05,360 --> 00:20:08,270
a silly thing to do I just wanted to see

00:20:06,770 --> 00:20:10,280
where the technology went so the

00:20:08,270 --> 00:20:13,520
underlying library that runs this is

00:20:10,280 --> 00:20:15,350
thing called loon rjs which you've

00:20:13,520 --> 00:20:17,840
probably heard of before if though some

00:20:15,350 --> 00:20:19,970
of you may have heard of before which is

00:20:17,840 --> 00:20:22,640
basically a free text search engine it's

00:20:19,970 --> 00:20:24,230
based on that same well originally it's

00:20:22,640 --> 00:20:27,680
not based on the concept of solar which

00:20:24,230 --> 00:20:31,010
is one of these leucine engines so what

00:20:27,680 --> 00:20:33,320
it does very quickly is it takes a piece

00:20:31,010 --> 00:20:34,970
of text it tokenizing it and by

00:20:33,320 --> 00:20:37,520
tokenizing all I mean is it breaks it up

00:20:34,970 --> 00:20:39,170
into words so you've got a lender load

00:20:37,520 --> 00:20:41,450
words then does this thing called

00:20:39,170 --> 00:20:43,250
stemming which sounds really heavy duty

00:20:41,450 --> 00:20:46,520
but all that is is to take things like

00:20:43,250 --> 00:20:49,040
the they like started and turn it to

00:20:46,520 --> 00:20:50,360
start and anything starts and that would

00:20:49,040 --> 00:20:52,550
go to start as well so basically

00:20:50,360 --> 00:20:55,790
compresses it down to the smallest sort

00:20:52,550 --> 00:20:57,830
of term you this particular one uses the

00:20:55,790 --> 00:20:59,510
marketing porter stemmer if any of you

00:20:57,830 --> 00:21:01,190
know are interested in that sort stuff

00:20:59,510 --> 00:21:03,920
that's basically generally the one

00:21:01,190 --> 00:21:06,350
that's used for English so it's pretty

00:21:03,920 --> 00:21:07,850
good and its results when it when it

00:21:06,350 --> 00:21:10,130
then searches through what it actually

00:21:07,850 --> 00:21:12,200
does is provide a ranking so when the

00:21:10,130 --> 00:21:14,810
results come back to me it injects a

00:21:12,200 --> 00:21:16,250
score into the adjacent records the

00:21:14,810 --> 00:21:18,680
scores just a number the bigger the

00:21:16,250 --> 00:21:22,550
number the more it matches and then I

00:21:18,680 --> 00:21:25,430
just order on the skull so you can see

00:21:22,550 --> 00:21:28,700
I've got in there I can I've also then

00:21:25,430 --> 00:21:32,420
on top of that added my own paging so I

00:21:28,700 --> 00:21:36,170
can say okay page me down to just two

00:21:32,420 --> 00:21:38,990
items and then if I want to start at

00:21:36,170 --> 00:21:40,940
item two and that way i can create pages

00:21:38,990 --> 00:21:43,550
through the whole thing literally by

00:21:40,940 --> 00:21:45,050
just modifying a stark number and the

00:21:43,550 --> 00:21:49,100
number of the limit is basically the

00:21:45,050 --> 00:21:51,590
page limit I set money up so that

00:21:49,100 --> 00:21:53,840
the results come back without paging

00:21:51,590 --> 00:21:55,940
information if you don't give it a start

00:21:53,840 --> 00:21:58,130
start out or a limit as soon as you give

00:21:55,940 --> 00:21:59,780
it start at limit and also injects the

00:21:58,130 --> 00:22:04,000
paging information so you can quickly

00:21:59,780 --> 00:22:10,340
produce a UI for paging if you want

00:22:04,000 --> 00:22:12,169
that's paging it also has a sort so as I

00:22:10,340 --> 00:22:14,210
said it actually sought I don't think

00:22:12,169 --> 00:22:16,150
this much practical use all I'm doing

00:22:14,210 --> 00:22:18,799
here is actually hidden behind the scene

00:22:16,150 --> 00:22:21,140
defaulted for for text is to sort by the

00:22:18,799 --> 00:22:23,960
score and reverse the order so that is

00:22:21,140 --> 00:22:29,870
at the top so that's basically the free

00:22:23,960 --> 00:22:32,270
tech stuff so facets I didn't really use

00:22:29,870 --> 00:22:34,640
a library for facets I just built it

00:22:32,270 --> 00:22:35,900
myself it's about 89 s of code i think i

00:22:34,640 --> 00:22:38,090
could even compress it more than that

00:22:35,900 --> 00:22:40,970
but facets are actually quite powerful

00:22:38,090 --> 00:22:42,770
so at the moment this is the tags so you

00:22:40,970 --> 00:22:46,130
can see that we've got under dog tags

00:22:42,770 --> 00:22:51,230
with that what else can we look at okay

00:22:46,130 --> 00:22:57,289
so we can do then oops you have to

00:22:51,230 --> 00:23:03,409
excuse my typing it's been used don't

00:22:57,289 --> 00:23:05,240
name open you they go so there's a so

00:23:03,409 --> 00:23:06,710
there so we're nearly at the point where

00:23:05,240 --> 00:23:08,419
middle streets just about to take over

00:23:06,710 --> 00:23:11,900
from the skipper's like the venue of

00:23:08,419 --> 00:23:13,760
choice you can see history moving on a

00:23:11,900 --> 00:23:18,130
bit like that or you can do we could do

00:23:13,760 --> 00:23:21,950
more interesting maybe is speakers

00:23:18,130 --> 00:23:24,590
that's actually an array so I've built

00:23:21,950 --> 00:23:27,140
into this a whole sort of Jason Jason

00:23:24,590 --> 00:23:30,320
path in thing so where I'm doing when

00:23:27,140 --> 00:23:32,090
I'm doing the path there it's basically

00:23:30,320 --> 00:23:34,460
just passing into the JSON and saying

00:23:32,090 --> 00:23:36,169
give me the object speaker that's an

00:23:34,460 --> 00:23:37,880
array so give me the first item of it

00:23:36,169 --> 00:23:40,340
and then give me the name of the speaker

00:23:37,880 --> 00:23:42,559
and there you can see you know you know

00:23:40,340 --> 00:23:44,090
Dan's done the most talks that's quite

00:23:42,559 --> 00:23:47,600
interesting i meant number i'm down

00:23:44,090 --> 00:23:50,450
there though number three talks so but

00:23:47,600 --> 00:23:54,559
we can start to add a few extra bits to

00:23:50,450 --> 00:23:56,720
that so again i can put a limiting so if

00:23:54,559 --> 00:23:59,120
I just want four of them i can facet

00:23:56,720 --> 00:24:00,980
limit limit it one of the things that's

00:23:59,120 --> 00:24:02,600
quite interesting when you're when

00:24:00,980 --> 00:24:04,850
you're dealing with tags is that they

00:24:02,600 --> 00:24:08,929
often come in mixed case so I just put

00:24:04,850 --> 00:24:10,280
in quickly a case a lowercase in system

00:24:08,929 --> 00:24:14,330
because I find that quite useful when

00:24:10,280 --> 00:24:17,450
dealing with with there so we've got

00:24:14,330 --> 00:24:21,110
those there and then but the next bit is

00:24:17,450 --> 00:24:23,179
you can then combine the facets with the

00:24:21,110 --> 00:24:26,150
free text search so if you see down the

00:24:23,179 --> 00:24:27,980
bottom there it's got text equals CSS so

00:24:26,150 --> 00:24:30,080
what we've got here is a facet structure

00:24:27,980 --> 00:24:32,750
related to the speakers that have talked

00:24:30,080 --> 00:24:35,360
about CSS and the counts that they've

00:24:32,750 --> 00:24:37,600
done so it's starting to combine

00:24:35,360 --> 00:24:39,409
together they're two different things

00:24:37,600 --> 00:24:41,990
you have to remember this is all

00:24:39,409 --> 00:24:45,650
operating in this browser none of this

00:24:41,990 --> 00:24:48,409
is going back to the server so obviously

00:24:45,650 --> 00:24:52,220
I've got then I've got I've got my my

00:24:48,409 --> 00:24:54,559
free text search and I've got my facets

00:24:52,220 --> 00:24:56,299
I'm probably still 1 i'm going to do

00:24:54,559 --> 00:24:57,470
structured query so stretchered queries

00:24:56,299 --> 00:25:01,460
of what you classically do with the

00:24:57,470 --> 00:25:04,039
database so here there's lots of ways to

00:25:01,460 --> 00:25:07,640
query at the time I was building this I

00:25:04,039 --> 00:25:10,580
was doing a lot of MongoDB work so I've

00:25:07,640 --> 00:25:13,820
basically used not a cut-down DB

00:25:10,580 --> 00:25:15,919
query in system so it's got like here

00:25:13,820 --> 00:25:17,330
we've got sponsors equals null so it's

00:25:15,919 --> 00:25:19,070
basically saying give me all of the

00:25:17,330 --> 00:25:21,620
talks that have never been sponsored and

00:25:19,070 --> 00:25:24,230
that's the list there we can do much

00:25:21,620 --> 00:25:26,809
more complicated operators so this is

00:25:24,230 --> 00:25:30,230
like give me everything from a certain

00:25:26,809 --> 00:25:32,240
date so I can go ok from 15 so you can

00:25:30,230 --> 00:25:37,100
see that's now cutting down in size I

00:25:32,240 --> 00:25:41,120
can do into the month if I want to 30

00:25:37,100 --> 00:25:43,159
and cut it down that way and then you

00:25:41,120 --> 00:25:46,220
can start to add them together so you

00:25:43,159 --> 00:25:49,039
can also do here you can see on date i

00:25:46,220 --> 00:25:52,820
can do two bits into it as well as i can

00:25:49,039 --> 00:25:55,070
do from from an to as a date range and

00:25:52,820 --> 00:25:57,289
down the bottom i've got something like

00:25:55,070 --> 00:25:58,880
this sponsors being no I could switch

00:25:57,289 --> 00:26:00,919
that round if I wanted to and do

00:25:58,880 --> 00:26:04,700
something like if I can remember the

00:26:00,919 --> 00:26:07,030
syntax I think it's going to be not

00:26:04,700 --> 00:26:07,030
equal

00:26:08,640 --> 00:26:23,220
no yeah so those are the ones is it

00:26:15,920 --> 00:26:25,500
which way is it he keep art equal that's

00:26:23,220 --> 00:26:29,100
it there we go there we go I've got them

00:26:25,500 --> 00:26:30,330
listed on the site and being dyslexic

00:26:29,100 --> 00:26:32,880
doesn't help when you're trying to work

00:26:30,330 --> 00:26:34,710
out which way round letter but anyway

00:26:32,880 --> 00:26:37,110
yep you can see it does structured

00:26:34,710 --> 00:26:39,990
queries it's not a full it's not a full

00:26:37,110 --> 00:26:42,570
full list of what you can get on mongodb

00:26:39,990 --> 00:26:45,000
but it it's you know it's a reasonable

00:26:42,570 --> 00:26:47,130
list to allow you to do sort of

00:26:45,000 --> 00:26:50,910
structured queries which you can also

00:26:47,130 --> 00:26:53,250
join in so that's great and good the

00:26:50,910 --> 00:26:54,600
next thing i want is geo and

00:26:53,250 --> 00:26:55,830
specifically the one that I'm really

00:26:54,600 --> 00:26:57,270
interested in because there's lots of

00:26:55,830 --> 00:27:00,000
ways of searching on geo you can search

00:26:57,270 --> 00:27:01,860
within a bounded area but the one that I

00:27:00,000 --> 00:27:05,760
really like is the sort of nearby Type

00:27:01,860 --> 00:27:07,620
searches so I took the gia lib library

00:27:05,760 --> 00:27:10,050
and if if you've not used it before

00:27:07,620 --> 00:27:11,940
fantastic library really great can do

00:27:10,050 --> 00:27:14,670
stuff like finder what's nearest to you

00:27:11,940 --> 00:27:16,980
it does calculations and longitude

00:27:14,670 --> 00:27:18,390
latitude takes into account things like

00:27:16,980 --> 00:27:22,200
the curvature of the earth and stuff

00:27:18,390 --> 00:27:24,660
like that really clever so again if

00:27:22,200 --> 00:27:26,940
you're going to do Geo stuff you need to

00:27:24,660 --> 00:27:28,830
basically create an index because you

00:27:26,940 --> 00:27:31,350
need to tell it where the geo

00:27:28,830 --> 00:27:34,020
information is so I'm going to swap data

00:27:31,350 --> 00:27:36,930
sets now I have like a list of like

00:27:34,020 --> 00:27:38,640
places that I visit it's got about 190

00:27:36,930 --> 00:27:40,590
in it at the moment I just thought keep

00:27:38,640 --> 00:27:42,000
as part of some other work I'm doing so

00:27:40,590 --> 00:27:44,220
I'm going to use that data set and

00:27:42,000 --> 00:27:46,680
within their it's got a location dot

00:27:44,220 --> 00:27:48,210
with the longitude and latitude in it so

00:27:46,680 --> 00:27:52,260
you just add that to the options and it

00:27:48,210 --> 00:27:54,060
will create the the Geo index I'm also

00:27:52,260 --> 00:27:57,480
creating a text index at the same time

00:27:54,060 --> 00:28:00,030
from the same data so the Geo going

00:27:57,480 --> 00:28:01,680
again you can see here basically the

00:28:00,030 --> 00:28:03,600
search is kicked off near you just say

00:28:01,680 --> 00:28:05,730
nearby give it the longitudinal etude

00:28:03,600 --> 00:28:08,220
that longitudinal attitude is for this

00:28:05,730 --> 00:28:11,670
room I believe or somewhere near this

00:28:08,220 --> 00:28:13,830
room and if I start to actually delete

00:28:11,670 --> 00:28:17,130
out the specificity of it you can see

00:28:13,830 --> 00:28:20,270
that it drops away and goes to slight

00:28:17,130 --> 00:28:20,270
slightly wider position

00:28:20,330 --> 00:28:25,669
you can do an offset so an offset is

00:28:23,929 --> 00:28:27,260
basically if I'd set that to zero you

00:28:25,669 --> 00:28:28,519
can see midlet the middle street comes

00:28:27,260 --> 00:28:30,200
up first because that's the nearest so

00:28:28,519 --> 00:28:32,779
it's like within one meter of where I am

00:28:30,200 --> 00:28:34,340
which is about right and clear left is

00:28:32,779 --> 00:28:35,269
14 meters I don't know why that's

00:28:34,340 --> 00:28:36,669
probably because they're a bit further

00:28:35,269 --> 00:28:39,649
over that way when I took the reading

00:28:36,669 --> 00:28:41,600
but literally just the number that goes

00:28:39,649 --> 00:28:43,640
in offset is basically deletes from the

00:28:41,600 --> 00:28:45,710
top of the list and that's really useful

00:28:43,640 --> 00:28:47,570
for if you're doing at where you want to

00:28:45,710 --> 00:28:49,549
get nearest to where I am at the moment

00:28:47,570 --> 00:28:51,830
and you don't want to include actually

00:28:49,549 --> 00:28:54,740
where I am but also you can just keep

00:28:51,830 --> 00:28:57,440
going if you want to so for a bit of a

00:28:54,740 --> 00:28:59,870
laugh I've added if you notice look at

00:28:57,440 --> 00:29:02,299
the distances I did the concept of

00:28:59,870 --> 00:29:05,110
British distance which we don't have any

00:29:02,299 --> 00:29:07,309
single measurement for so for me

00:29:05,110 --> 00:29:09,139
anything that's nearby is measured in

00:29:07,309 --> 00:29:11,630
meters so if we just keep knocking it

00:29:09,139 --> 00:29:14,120
out after that it goes two minutes

00:29:11,630 --> 00:29:15,740
warped so I basically part the geo

00:29:14,120 --> 00:29:17,510
librarian which I've made available is a

00:29:15,740 --> 00:29:19,190
conversion from meters to miles and

00:29:17,510 --> 00:29:21,679
kilometers and stuff like that and all

00:29:19,190 --> 00:29:23,570
I've done is divided the miles by 22

00:29:21,679 --> 00:29:25,760
minutes and that gives me how far I go

00:29:23,570 --> 00:29:27,529
and then obviously if you go out a

00:29:25,760 --> 00:29:28,940
little bit further as soon as you get

00:29:27,529 --> 00:29:30,289
over a mile I start talking about miles

00:29:28,940 --> 00:29:31,340
that's they obviously British

00:29:30,289 --> 00:29:35,210
measurements which I've managed to

00:29:31,340 --> 00:29:37,419
include in there so but as with the

00:29:35,210 --> 00:29:41,809
other stuff this becomes most powerful

00:29:37,419 --> 00:29:44,029
when you start to add it together so you

00:29:41,809 --> 00:29:46,429
can add nearby searches and then I can

00:29:44,029 --> 00:29:48,769
do a structured query on the tags to

00:29:46,429 --> 00:29:50,450
save pubs so very important for after we

00:29:48,769 --> 00:29:52,429
finished we know where exactly the

00:29:50,450 --> 00:29:55,100
nearest pubs are and of course the hot

00:29:52,429 --> 00:29:59,200
polls is nearest at 52 meters so there

00:29:55,100 --> 00:30:02,990
we go so I think that works quite well

00:29:59,200 --> 00:30:05,899
ok so that's that's the end of those the

00:30:02,990 --> 00:30:07,309
demos just to sort of explain a little

00:30:05,899 --> 00:30:08,899
bit i'm not going to go into mass about

00:30:07,309 --> 00:30:11,389
the architecture but just so you know

00:30:08,899 --> 00:30:13,809
how it works basically there's a

00:30:11,389 --> 00:30:16,250
document store that holds the adjacent

00:30:13,809 --> 00:30:20,389
for the time being I'm actually holding

00:30:16,250 --> 00:30:23,360
it in memory just because it was easy to

00:30:20,389 --> 00:30:25,370
do while I was building it and you add

00:30:23,360 --> 00:30:28,549
update and delete and removed from the

00:30:25,370 --> 00:30:31,220
document store I then added an event

00:30:28,549 --> 00:30:35,240
meters I built this actually

00:30:31,220 --> 00:30:38,030
a as a node and project and then browser

00:30:35,240 --> 00:30:40,580
fide date so it's using the node event

00:30:38,030 --> 00:30:42,049
meter thing so every time a documents

00:30:40,580 --> 00:30:44,960
changed in any way whether it's added

00:30:42,049 --> 00:30:46,880
have removed updated it fires events the

00:30:44,960 --> 00:30:49,370
two indexes on either side if you create

00:30:46,880 --> 00:30:52,130
them listen for those events and then

00:30:49,370 --> 00:30:53,900
they take that document and create what

00:30:52,130 --> 00:30:56,270
they need so that they can do their own

00:30:53,900 --> 00:30:58,669
searches for the text one that's a

00:30:56,270 --> 00:31:01,610
really complex sort of B treat right

00:30:58,669 --> 00:31:03,710
structure which stores how how to do the

00:31:01,610 --> 00:31:05,500
searches for the Geo one it's really

00:31:03,710 --> 00:31:08,000
simple it's just the ID and the

00:31:05,500 --> 00:31:11,059
locations basically the linkages is a

00:31:08,000 --> 00:31:12,980
single idea between them then when I

00:31:11,059 --> 00:31:15,500
execute a search there's a top piece of

00:31:12,980 --> 00:31:17,539
logic at the top and it just looks at

00:31:15,500 --> 00:31:22,030
the Jason you passed in so you saw the

00:31:17,539 --> 00:31:25,400
JSON as I built it and works out how to

00:31:22,030 --> 00:31:27,890
fire each of these at differ in sequence

00:31:25,400 --> 00:31:30,140
in the right types of sequence they

00:31:27,890 --> 00:31:33,890
basically do their search and return

00:31:30,140 --> 00:31:35,750
their IDs so that then creates a subset

00:31:33,890 --> 00:31:37,940
of ID's that's then passed to the next

00:31:35,750 --> 00:31:40,820
bit then does its work and either

00:31:37,940 --> 00:31:43,309
filters or uses those IDs and that's how

00:31:40,820 --> 00:31:45,289
I can integrate one type of search with

00:31:43,309 --> 00:31:47,690
another type of search to provide sort

00:31:45,289 --> 00:31:51,650
of like a unified output at the end and

00:31:47,690 --> 00:31:54,620
that's how it was so I kaslo ng as your

00:31:51,650 --> 00:31:57,140
document store supports events so if you

00:31:54,620 --> 00:31:59,179
could do something with index DB or EXT

00:31:57,140 --> 00:32:00,710
or some of the other sort of like

00:31:59,179 --> 00:32:02,210
offline search things like pouch and

00:32:00,710 --> 00:32:05,270
stuff as long as it's got a venting I

00:32:02,210 --> 00:32:08,390
can swap that central bit out and make

00:32:05,270 --> 00:32:10,010
this work which is what I would plan to

00:32:08,390 --> 00:32:13,220
do if I moved it forward but for now it

00:32:10,010 --> 00:32:15,020
was just done in memory there's a few

00:32:13,220 --> 00:32:16,100
other extra bits to it which you you

00:32:15,020 --> 00:32:19,370
really need if you're going to do this

00:32:16,100 --> 00:32:22,400
type of thing which is to serialize your

00:32:19,370 --> 00:32:24,320
data so basically you can see there when

00:32:22,400 --> 00:32:26,299
I create an index and I add documents to

00:32:24,320 --> 00:32:28,010
it there's two extra functions as one

00:32:26,299 --> 00:32:29,960
which is indexed to Jason which

00:32:28,010 --> 00:32:32,330
basically takes whole thing that so the

00:32:29,960 --> 00:32:35,780
compressed indexes plus the document

00:32:32,330 --> 00:32:37,280
store and builds a JSON file that's

00:32:35,780 --> 00:32:39,230
important because building the index

00:32:37,280 --> 00:32:41,330
especially the text index it can be

00:32:39,230 --> 00:32:43,490
quite performant in texting like quite a

00:32:41,330 --> 00:32:44,509
lot of CPU so it's good to actually off

00:32:43,490 --> 00:32:46,999
lay it in

00:32:44,509 --> 00:32:50,209
if you want to do that and that's often

00:32:46,999 --> 00:32:52,429
done with the Loon rjs for static bills

00:32:50,209 --> 00:32:55,309
so if you want to like use this type of

00:32:52,429 --> 00:32:58,129
technology you can like use when you

00:32:55,309 --> 00:32:59,509
build like say a blog and you each time

00:32:58,129 --> 00:33:01,639
you do a post you build it statically

00:32:59,509 --> 00:33:03,469
you can actually create an index and

00:33:01,639 --> 00:33:06,259
just send the index and load it straight

00:33:03,469 --> 00:33:09,440
up and do it that way build the end exon

00:33:06,259 --> 00:33:12,589
node I'm actually deploy it and again

00:33:09,440 --> 00:33:14,539
obviously I need a pass function to pull

00:33:12,589 --> 00:33:16,459
it back in again once you've got that

00:33:14,539 --> 00:33:17,959
then you've got the next stage because

00:33:16,459 --> 00:33:20,509
of course as soon as you can see realize

00:33:17,959 --> 00:33:23,299
something you can persist it so in this

00:33:20,509 --> 00:33:24,379
case again I just did the simplest thing

00:33:23,299 --> 00:33:27,109
because I just wanted to see how it

00:33:24,379 --> 00:33:29,269
would work I took local forage forced it

00:33:27,109 --> 00:33:31,429
to use the index DB as a store mainly

00:33:29,269 --> 00:33:33,109
because it's bigger than using the any

00:33:31,429 --> 00:33:35,029
of the other browser storage mechanisms

00:33:33,109 --> 00:33:36,979
but it actually dumps the whole thing

00:33:35,029 --> 00:33:38,539
just as a single file in which is like

00:33:36,979 --> 00:33:40,190
literally just dumped it in I'm just

00:33:38,539 --> 00:33:42,739
using that because i want the larger

00:33:40,190 --> 00:33:45,109
storage bit the persistence library is

00:33:42,739 --> 00:33:47,269
pretty small all it does is listen for

00:33:45,109 --> 00:33:48,979
those events so as soon as the dot

00:33:47,269 --> 00:33:51,679
anything changes in the document store

00:33:48,979 --> 00:33:53,599
it asks for a new version of the jason

00:33:51,679 --> 00:33:54,919
and persists it back into the thing so

00:33:53,599 --> 00:33:57,679
it keeps you up to date all of the time

00:33:54,919 --> 00:33:59,449
and i don't have to do any sort of any

00:33:57,679 --> 00:34:02,299
other calls so once you put this piece

00:33:59,449 --> 00:34:06,079
of code in it automatically persists the

00:34:02,299 --> 00:34:10,970
browser and at startup will lift and

00:34:06,079 --> 00:34:12,649
load from the as well so as i said it

00:34:10,970 --> 00:34:14,210
was built on top of other people's

00:34:12,649 --> 00:34:19,819
shoulders so I better give them the

00:34:14,210 --> 00:34:22,369
kudos they deserve the free sex was done

00:34:19,819 --> 00:34:25,069
on top of Luna the query engine I

00:34:22,369 --> 00:34:27,919
pinched from from this DB I'm not quite

00:34:25,069 --> 00:34:30,079
sure how to pronounce our geo lib was

00:34:27,919 --> 00:34:32,119
the nearby search and local forage for

00:34:30,079 --> 00:34:34,159
doing the persistence there's still

00:34:32,119 --> 00:34:36,079
quite a lot missing from this to make it

00:34:34,159 --> 00:34:37,339
into something that maybe i will use it

00:34:36,079 --> 00:34:38,960
depends on what type of project you're

00:34:37,339 --> 00:34:41,089
doing but the things you might want to

00:34:38,960 --> 00:34:45,079
think about our sink how do you sync

00:34:41,089 --> 00:34:47,690
between the server and the and your

00:34:45,079 --> 00:34:49,399
device or your browser obviously things

00:34:47,690 --> 00:34:50,599
like patch DB I've got sync built into

00:34:49,399 --> 00:34:52,460
them and that's right one of the strong

00:34:50,599 --> 00:34:55,159
bits there are things and things i could

00:34:52,460 --> 00:34:56,700
use and maybe by using something else to

00:34:55,159 --> 00:34:59,670
do the data store I'll

00:34:56,700 --> 00:35:01,380
gets ink so I could maybe sit this on

00:34:59,670 --> 00:35:03,210
top of something else like pouch or one

00:35:01,380 --> 00:35:05,880
of the other ones real-time updates

00:35:03,210 --> 00:35:08,609
until yet you know the types of stuff

00:35:05,880 --> 00:35:10,560
that you get with pusher or with with

00:35:08,609 --> 00:35:12,690
firebase those types of like when you're

00:35:10,560 --> 00:35:14,460
building streaming type applications you

00:35:12,690 --> 00:35:15,930
might want real-time updates it depends

00:35:14,460 --> 00:35:18,720
on what the type of application you are

00:35:15,930 --> 00:35:21,900
worried which of these types of ways of

00:35:18,720 --> 00:35:23,400
passing data in I've got some examples

00:35:21,900 --> 00:35:26,480
of web workers you definitely want to

00:35:23,400 --> 00:35:28,710
use web workers to lay this type of work

00:35:26,480 --> 00:35:30,290
money is fine I've run it through a web

00:35:28,710 --> 00:35:32,460
worker absolutely works fine that way

00:35:30,290 --> 00:35:35,010
there is a methodology for actually

00:35:32,460 --> 00:35:37,050
baking it into the actual file so people

00:35:35,010 --> 00:35:39,240
don't have to do it themselves I haven't

00:35:37,050 --> 00:35:42,570
done that yet I could build it on to

00:35:39,240 --> 00:35:44,730
index DB rather than memory storage want

00:35:42,570 --> 00:35:45,869
to try that out the interface is really

00:35:44,730 --> 00:35:47,670
simple at the moment I think I should

00:35:45,869 --> 00:35:50,430
move it over to promises I think that's

00:35:47,670 --> 00:35:52,950
a no-brainer and then the last thing

00:35:50,430 --> 00:35:54,720
which is actually more difficult and I

00:35:52,950 --> 00:35:57,119
sort of give a bit of sleight of hand is

00:35:54,720 --> 00:35:58,710
that i'm not typing the data types at

00:35:57,119 --> 00:35:59,970
the moment so you know that bit where I

00:35:58,710 --> 00:36:01,770
was showing you about the dates and

00:35:59,970 --> 00:36:03,690
stuff that was actually a text

00:36:01,770 --> 00:36:06,810
comparison but because i'm using iso

00:36:03,690 --> 00:36:08,490
dates it actually works but you start

00:36:06,810 --> 00:36:09,960
moving to things like time zones and

00:36:08,490 --> 00:36:11,790
stuff like that then you need to

00:36:09,960 --> 00:36:13,800
actually type your information which

00:36:11,790 --> 00:36:15,450
means that when we create in the index i

00:36:13,800 --> 00:36:17,520
need to go through and say this is the

00:36:15,450 --> 00:36:18,720
data you're going to get and these other

00:36:17,520 --> 00:36:22,050
types it's going to be a number it's

00:36:18,720 --> 00:36:24,900
going to be a you know string or a date

00:36:22,050 --> 00:36:27,030
so the comparators will kick in actually

00:36:24,900 --> 00:36:29,790
I have actually got the comparators

00:36:27,030 --> 00:36:31,770
already built in the system that works

00:36:29,790 --> 00:36:34,230
out from but I just haven't got the

00:36:31,770 --> 00:36:40,770
schemer in place yet to do that sort of

00:36:34,230 --> 00:36:42,150
date the date typing data typing it is

00:36:40,770 --> 00:36:44,339
just an experiment there's loads of

00:36:42,150 --> 00:36:45,900
other stuff out there um you know maybe

00:36:44,339 --> 00:36:47,040
you don't need to reinvent the way it

00:36:45,900 --> 00:36:49,680
will you should look at some of this

00:36:47,040 --> 00:36:53,970
other stuff elastic Luna which is a

00:36:49,680 --> 00:36:56,490
variant of the lunar 1 i'm using uses a

00:36:53,970 --> 00:36:58,740
different scoring mechanism its act so

00:36:56,490 --> 00:37:00,240
lunar is more akin to the scoring

00:36:58,740 --> 00:37:02,819
mechanism that you will find on solar

00:37:00,240 --> 00:37:04,890
and elastic that obviously that one's

00:37:02,819 --> 00:37:06,980
more akin to the elastic search one

00:37:04,890 --> 00:37:09,119
that's important if you want to use

00:37:06,980 --> 00:37:10,559
server size search and

00:37:09,119 --> 00:37:12,329
replicate it there because you'll get

00:37:10,559 --> 00:37:13,829
different listings and that would be

00:37:12,329 --> 00:37:18,539
like a bit uncanny valley for some

00:37:13,829 --> 00:37:20,880
people index promises a great little

00:37:18,539 --> 00:37:22,589
library by Jake Archibald which just

00:37:20,880 --> 00:37:24,599
basically wraps some the nastiness of

00:37:22,589 --> 00:37:26,730
indexdb hoping to a promise slide be

00:37:24,599 --> 00:37:29,309
something about 3k doesn't completely

00:37:26,730 --> 00:37:30,720
take away the nastiness of index DB if

00:37:29,309 --> 00:37:33,960
you really want to take away all of that

00:37:30,720 --> 00:37:36,930
stuff much higher level API is Dixie

00:37:33,960 --> 00:37:38,940
really good again promises really does

00:37:36,930 --> 00:37:42,240
abstract you away from all the mess that

00:37:38,940 --> 00:37:45,390
is index DB DB obviously got sink

00:37:42,240 --> 00:37:47,359
fantastic possibly used our hoodie which

00:37:45,390 --> 00:37:49,440
builds on top of parity being couch TV

00:37:47,359 --> 00:37:52,349
another project you should look at maybe

00:37:49,440 --> 00:37:54,539
pusher and firebase basically for the

00:37:52,349 --> 00:37:58,440
real-time messaging I think you know the

00:37:54,539 --> 00:38:00,839
pens on your application design so wrap

00:37:58,440 --> 00:38:02,339
it all up what did I learn because it

00:38:00,839 --> 00:38:03,809
was an experiment so there must be some

00:38:02,339 --> 00:38:07,079
learning out of it that was all point of

00:38:03,809 --> 00:38:10,529
it I think the first thing from the

00:38:07,079 --> 00:38:13,769
design side is that it is okay to build

00:38:10,529 --> 00:38:15,839
a symmetric offline experiences it's a

00:38:13,769 --> 00:38:17,579
valid design decision so what do I mean

00:38:15,839 --> 00:38:20,249
by that well I mean probably the

00:38:17,579 --> 00:38:21,660
opposite saying it's isomorphic that's

00:38:20,249 --> 00:38:23,970
horrible word way it has to be exactly

00:38:21,660 --> 00:38:25,380
the same on both the server and the

00:38:23,970 --> 00:38:27,509
client and I hope I've shown you some

00:38:25,380 --> 00:38:29,549
nice designs or I did some nice design

00:38:27,509 --> 00:38:32,339
ideas which are not completely

00:38:29,549 --> 00:38:33,619
isomorphic doesn't mean one way and over

00:38:32,339 --> 00:38:36,210
it's a bit like the whole thing about

00:38:33,619 --> 00:38:38,640
whether you build in a single page app

00:38:36,210 --> 00:38:40,230
or you don't but I think you need to

00:38:38,640 --> 00:38:42,269
think about it and make a positive

00:38:40,230 --> 00:38:44,759
decision not just follow everybody else

00:38:42,269 --> 00:38:47,359
follow the crowd you know and there is

00:38:44,759 --> 00:38:49,710
some really good examples of that I

00:38:47,359 --> 00:38:51,269
think the other thing to say is that you

00:38:49,710 --> 00:38:54,930
should probably before other tenants

00:38:51,269 --> 00:38:57,660
that have come with a responsive design

00:38:54,930 --> 00:39:00,630
which is don't completely don't create a

00:38:57,660 --> 00:39:02,970
completely different experience try and

00:39:00,630 --> 00:39:04,440
pare down the one that you've got do

00:39:02,970 --> 00:39:05,609
something that's very similar are the

00:39:04,440 --> 00:39:07,440
same to what you've got is like a

00:39:05,609 --> 00:39:09,390
pared-down version and then that's the

00:39:07,440 --> 00:39:11,339
best way but occasionally that's not

00:39:09,390 --> 00:39:14,730
possible so a good example of when it's

00:39:11,339 --> 00:39:18,119
not possible is is the sort of Android

00:39:14,730 --> 00:39:19,799
version of maps where they can't show

00:39:18,119 --> 00:39:21,420
you they can't allow you to view the

00:39:19,799 --> 00:39:22,470
whole of the world when you're offline

00:39:21,420 --> 00:39:24,240
because that's just ridiculous that

00:39:22,470 --> 00:39:26,730
database that after star on the phone

00:39:24,240 --> 00:39:28,680
would be huge but they are allowing you

00:39:26,730 --> 00:39:31,440
now to capture certain areas that then

00:39:28,680 --> 00:39:33,599
go offline and that's provided as like a

00:39:31,440 --> 00:39:36,030
separate piece of functionality you know

00:39:33,599 --> 00:39:37,619
it's not you yeah I'm so that's quite

00:39:36,030 --> 00:39:44,160
interesting I think that was one of the

00:39:37,619 --> 00:39:47,010
big learnings for me okay the this type

00:39:44,160 --> 00:39:49,200
of document search and they know the

00:39:47,010 --> 00:39:50,790
free text search the Geo mixing that

00:39:49,200 --> 00:39:53,760
with structured queries and facets and

00:39:50,790 --> 00:39:55,619
stuff you can provide it I think I've

00:39:53,760 --> 00:39:58,440
just demonstrated to you can provide it

00:39:55,619 --> 00:40:02,400
the caveats are within very tight

00:39:58,440 --> 00:40:03,660
constraints it's only certain sizes of

00:40:02,400 --> 00:40:05,970
data that you can deal with you know I

00:40:03,660 --> 00:40:07,890
mean you have to be sensible you know so

00:40:05,970 --> 00:40:09,059
i often get i've shown this to a few

00:40:07,890 --> 00:40:11,549
people the first question they asked me

00:40:09,059 --> 00:40:14,010
is how big how big can idea and the

00:40:11,549 --> 00:40:15,540
answer is it depends it depends on the

00:40:14,010 --> 00:40:17,309
size of your indexes you know how much

00:40:15,540 --> 00:40:19,559
text to you indexing you know if you

00:40:17,309 --> 00:40:21,450
just indexing titles then you can do

00:40:19,559 --> 00:40:23,190
quite a lot but if you want to take the

00:40:21,450 --> 00:40:24,599
whole body text from blog articles and

00:40:23,190 --> 00:40:26,790
do all of that you end up you'll end up

00:40:24,599 --> 00:40:28,440
with a very big index so it does

00:40:26,790 --> 00:40:30,270
dependent and appends on your design as

00:40:28,440 --> 00:40:31,589
well and a lot of it goes to some of the

00:40:30,270 --> 00:40:34,170
other constraints that we were talking

00:40:31,589 --> 00:40:36,599
about it's not actually obvious straight

00:40:34,170 --> 00:40:39,059
away but things like the frequency of

00:40:36,599 --> 00:40:41,809
updates are really important if you have

00:40:39,059 --> 00:40:44,250
a something like that's like a 10 meg

00:40:41,809 --> 00:40:45,420
database that you've stored well that's

00:40:44,250 --> 00:40:47,280
fine you can probably deal with that you

00:40:45,420 --> 00:40:49,410
could probably upload that over time but

00:40:47,280 --> 00:40:51,089
if that database has to refresh every

00:40:49,410 --> 00:40:52,559
three or four days what's going to

00:40:51,089 --> 00:40:54,690
happen someone's data plan is you can

00:40:52,559 --> 00:40:56,490
continually keep pumping up and when do

00:40:54,690 --> 00:40:58,319
you get to do that when do you get to

00:40:56,490 --> 00:41:01,290
actually update that when they open up

00:40:58,319 --> 00:41:03,030
their their web page you're going to

00:41:01,290 --> 00:41:04,470
then start downing low downloading

00:41:03,030 --> 00:41:07,290
straight away a few megabytes of data

00:41:04,470 --> 00:41:09,210
you have there so it depends on the

00:41:07,290 --> 00:41:11,549
profile of what you're trying to achieve

00:41:09,210 --> 00:41:14,119
so within those profiles and you can

00:41:11,549 --> 00:41:18,119
look at it you can get away with it so

00:41:14,119 --> 00:41:19,799
the best ways is maybe by example one

00:41:18,119 --> 00:41:21,180
example I've just used it for which I

00:41:19,799 --> 00:41:23,160
found really useful was just for a

00:41:21,180 --> 00:41:25,230
little app for me and my friends for the

00:41:23,160 --> 00:41:29,309
Great Escape so you know the great scape

00:41:25,230 --> 00:41:32,960
thing that's on here it's 450 or bands

00:41:29,309 --> 00:41:35,240
30 venues they play twice each

00:41:32,960 --> 00:41:37,070
effect it's too much for you to go

00:41:35,240 --> 00:41:40,130
through and scroll through 400 or bands

00:41:37,070 --> 00:41:41,300
try playing twice that's ridiculous and

00:41:40,130 --> 00:41:43,520
all they've got they've all got things

00:41:41,300 --> 00:41:46,580
like genre tags added to them so I can

00:41:43,520 --> 00:41:48,080
go on Tuesday any afternoon wat bands

00:41:46,580 --> 00:41:50,240
that are playing electronic music are

00:41:48,080 --> 00:41:52,280
playing and better than that I can go if

00:41:50,240 --> 00:41:54,290
I get to one of the venues which I often

00:41:52,280 --> 00:41:55,849
did and they were full okay I'm here

00:41:54,290 --> 00:41:57,830
what are the nearest venues to me so I

00:41:55,849 --> 00:42:00,349
can go to another venue perfect small

00:41:57,830 --> 00:42:01,910
data set too big to for you to scroll

00:42:00,349 --> 00:42:03,830
through but just perfect for that type

00:42:01,910 --> 00:42:07,040
of searching you could probably stretch

00:42:03,830 --> 00:42:09,260
from hundreds to thousands but if you

00:42:07,040 --> 00:42:12,530
get over the five thousand ten thousand

00:42:09,260 --> 00:42:15,339
mark it will really start to melt there

00:42:12,530 --> 00:42:17,839
and the issue will not be actually

00:42:15,339 --> 00:42:19,670
performance in the in terms of searching

00:42:17,839 --> 00:42:24,859
it will be about you uploading and

00:42:19,670 --> 00:42:28,220
keeping the data up-to-date so I think

00:42:24,859 --> 00:42:30,650
I've proved that are the the techniques

00:42:28,220 --> 00:42:32,510
and approaches work but I will gain

00:42:30,650 --> 00:42:34,820
emphasize that this is not production

00:42:32,510 --> 00:42:36,560
code don't take it and try and use it as

00:42:34,820 --> 00:42:39,710
it stands I just there to prove a point

00:42:36,560 --> 00:42:41,119
if I'm brutally honest when I've got it

00:42:39,710 --> 00:42:42,589
sort of ninety percent of the way there

00:42:41,119 --> 00:42:43,910
and I'm not fixing up two hundred

00:42:42,589 --> 00:42:45,260
percent because I know people start

00:42:43,910 --> 00:42:47,690
using it and then I'll have to start

00:42:45,260 --> 00:42:49,880
supporting it and I already spend a

00:42:47,690 --> 00:42:51,140
month a year looking after the happy

00:42:49,880 --> 00:42:54,550
swagger stuff and a lot of the happy

00:42:51,140 --> 00:42:57,410
modules and that's quite enough as it is

00:42:54,550 --> 00:43:01,270
so but maybe I might do it but I saw

00:42:57,410 --> 00:43:01,270
purposely nobbled it if I'm honest

00:43:06,060 --> 00:43:08,120

YouTube URL: https://www.youtube.com/watch?v=pvo7Jqnk8RE


