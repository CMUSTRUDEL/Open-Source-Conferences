Title: Ryan Kelly - PyPy.js: What? How? Why? - PyCon 2015
Publication date: 2015-04-11
Playlist: PyCon 2015
Description: 
	"Speaker: Ryan Kelly

PyPy.js is an experiment in building a fast and compliant in-browser python interpreter, by compiling PyPy into javascript and retargeting its JIT to emit javascript code at runtime. This talk will demonstrate the combination of technologies that make such a thing possible, the results achieved so far, and the challenges that still remain when taking python onto javascript's home turf.

Slides can be found at: https://speakerdeck.com/pycon2015 and https://github.com/PyCon/2015-slides"
Captions: 
	00:00:00,060 --> 00:00:01,060
WELCOME TO THE SESSION, SECOND SESSION OF YOUR

00:00:01,060 --> 00:00:02,060
PYCON 2015.

00:00:02,060 --> 00:00:03,060
WE'RE HERE TODAY WITH RYAN KELLY, A DEVELOPER ON

00:00:03,060 --> 00:00:04,060
THE MOZILLA ACCOUNT TEAM, AND HE'S GOING TO BE

00:00:04,060 --> 00:00:14,950
TALKING TO US ABOUT PYPY.JS.

00:00:14,950 --> 00:00:17,230
>> IF YOU NEED TO CONTACT ME.

00:00:17,230 --> 00:00:18,419
THERE WE GO.

00:00:18,419 --> 00:00:21,860
AS YOU JUST HEARD, I WORK FOR MOZILLA, AND IF

00:00:21,860 --> 00:00:23,849
YOU'VE HEARD OF MOZILLA, IT'S PROBABLY BECAUSE WE

00:00:23,849 --> 00:00:28,490
MAKE A PRETTY AWESOME WEB BROWSER, CALLED FIREFOX, WHICH BY THE WAY I'M USING FOR MY

00:00:28,490 --> 00:00:30,300
SLIDES HERE TODAY.

00:00:30,300 --> 00:00:37,470
BUT MOZILLA AS A COMPANY AND AS A WORLDWIDE COMMUNITY OF VOLUNTEERS, WE'RE ABOUT A LOT

00:00:37,470 --> 00:00:39,940
MORE THAN JUST, HEY, LET'S MAKE FIREFOX A REALLY

00:00:39,940 --> 00:00:42,130
AWESOME WEB BROWSER.

00:00:42,130 --> 00:00:45,040
AT ITS CORE, THE THING THAT DRIVES MOZILLA AND

00:00:45,040 --> 00:00:47,280
FUNNILY ENOUGH, THE THING THAT DRIVES ALL THE

00:00:47,280 --> 00:00:50,730
MATERIAL IN THIS TALK, BELIEVE IT OR NOT, IS OUR

00:00:50,730 --> 00:00:53,090
MISSION TO PROTECT AND PROMOTE THE WEB.

00:00:53,090 --> 00:00:59,400
ALL RIGHT, THE WEB AS A SHARED GLOBAL TECHNOLOGY BLATT FORM AND AS A RESOURCE FOR EMPOWERMENT

00:00:59,400 --> 00:01:00,530
AND INNOVATION AND OPPORTUNITY.

00:01:00,530 --> 00:01:03,811
BUT WHEN I SAY "THE WEB," I'M REALLY KIND OF

00:01:03,811 --> 00:01:07,799
TALKING ABOUT TWO BUT DIFFERENT INTERRELATED THINGS.

00:01:07,799 --> 00:01:10,689
AS ENGINEERS, WE TALK ABOUT THE WEB, WE TEND TO

00:01:10,689 --> 00:01:13,420
THINK OF THE TECHNOLOGY STACK OF THE WEB, RIGHT?

00:01:13,420 --> 00:01:18,549
THINGS LIKE HIGHWAYS HSMP, JAVASCRIPT, BUT FROM A

00:01:18,549 --> 00:01:24,159
PRODUCT PERSPECTIVE OR PERHAPS FROM A CULTURAL PERSPECTIVE, THE WEB ALSO HAS A LOT OF RATHER

00:01:24,159 --> 00:01:25,909
YOU NUKE PROPERTIES.

00:01:25,909 --> 00:01:29,920
SO ONE OF THE THING PEOPLE TENDS TO LOVE ABOUT THE WEB, IT'S A REALLY OPEN SYSTEM.

00:01:29,920 --> 00:01:31,841
IF YOU WANT TO PUBLISH SOMETHING ON THE WEB, YOU

00:01:31,841 --> 00:01:34,609
DON'T SUBMIT IT TO THE WEB STORE AND THEN TWIDDLE

00:01:34,609 --> 00:01:36,829
YOUR THUMBS FOR SIX MONTHS WHILE SOMEONE ON THE

00:01:36,829 --> 00:01:40,430
OTHER SIDE OF THE WORLD REVIEWS YOUR COMPATIBILITIES WITH THE WEB STEMS OF SERVICE

00:01:40,430 --> 00:01:42,109
AND REJECT YOU ON A TECHNICALITY.

00:01:42,109 --> 00:01:44,990
YOU GET A DOMAIN NAME, PUT IT ON THE WEB AND TELL

00:01:44,990 --> 00:01:46,399
PEOPLE TO GET IT.

00:01:46,399 --> 00:01:48,819
LIKEWISE, IF PEOPLE WANT TO CONSUME YOUR STUFF ON

00:01:48,819 --> 00:01:51,700
THE WEB, THEY DON'T NEED A PARTICULAR DEVICE OR

00:01:51,700 --> 00:01:55,340
VENDOR OR SOFTWARE, YOU KNOW, IT'S OPEN FOR BOTH

00:01:55,340 --> 00:01:56,950
PRODUCERS AND CONSUMERS.

00:01:56,950 --> 00:01:59,450
THE WEB ALSO HAS A PRETTY INTERESTING KIND OF

00:01:59,450 --> 00:02:00,619
SECURITY STORY.

00:02:00,619 --> 00:02:06,020
ALL ABOUT RUNNING UNTRUSTED CODE YOU'VE NEVER SEEN BEFORE IN A WAY THAT DOESN'T LET PEOPLE

00:02:06,020 --> 00:02:08,200
HACK YOU, DOESN'T LET PEOPLE LEARN ABOUT YOUR

00:02:08,200 --> 00:02:10,360
INTERACTIONS WITH OTHER SITES AND SO FORTH SO THE

00:02:10,360 --> 00:02:12,810
WEB IS PRETTY UNIQUE.

00:02:12,810 --> 00:02:17,010
THE PROBLEM IS, I COULD VERY EASILY HAVE LABELED THESE COLUMNS THUSLY.

00:02:17,010 --> 00:02:18,330
ALL RIGHT?

00:02:18,330 --> 00:02:23,819
THERE ARE SUBSTANTIAL NUMBER OF PEOPLE, NOT TERRIBLY FOND OF THE TECHNOLOGY STACK OF THE

00:02:23,819 --> 00:02:24,819
WEB.

00:02:24,819 --> 00:02:26,950
A LOT OF PEOPLE GO SO FAR AS SO WISH THAT THE WEB

00:02:26,950 --> 00:02:30,769
WOULD JUST HURRY UP AND DIE SO WE CAN REPLACE WITNESS SOMETHING BETTER, ALL RIGHT?

00:02:30,769 --> 00:02:33,500
BUT THE PROBLEM S YOU CAN'T JUST THROW AWAY THE

00:02:33,500 --> 00:02:37,829
TECH STACK OF THE WEB AND KEEP ALL THE GOOD CULTURAL PROPERTIES OF THE WEB, THE TWO ARE

00:02:37,829 --> 00:02:41,560
FOR BETTER OR WORSE INTERTWINED.

00:02:41,560 --> 00:02:44,879
SO FOR ALL ITS FLAWS, I FEEL LIKE THE WEB REALLY

00:02:44,879 --> 00:02:47,000
IS WORTH KEEPING, AND IF WE'RE GOING TO KEEP IT,

00:02:47,000 --> 00:02:49,690
THEN WE SHOULD BE WORKING TO TRY TO MAKE IT BETTER.

00:02:49,690 --> 00:02:55,060
AND OUR CTO, ANDREAS, PUT THIS IN AN INTERESTING WAY, FOR MOW STILL LARKS ANYTHING THAT THE

00:02:55,060 --> 00:02:58,360
WEB CAN'T DO, ANY TIME THE WEB ISN'T FASTER OR

00:02:58,360 --> 00:03:01,250
BETTER THAN NATIVE TECHNOLOGY, ANY TIME SOMEONE REACHES

00:03:01,250 --> 00:03:03,360
FOR A NATIVE TECHNOLOGY BECAUSE THEY THINK THE

00:03:03,360 --> 00:03:05,620
WEB ISN'T UP TO THE CHALLENGE, WE SHOULD THINK OF

00:03:05,620 --> 00:03:06,750
THAT AS A BUG.

00:03:06,750 --> 00:03:09,930
WE SHOULD FILE IT AND WORK TOWARDS GETTING IT

00:03:09,930 --> 00:03:10,930
FIST.

00:03:10,930 --> 00:03:17,430
AS A PYTHONNISTA, I HAVE NOTICED ONE OF THESE BUGS IN THE WEB AND MAYBE YOU'VE NOTICED IT,

00:03:17,430 --> 00:03:18,430
TOO, RIGHT?

00:03:18,430 --> 00:03:21,079
I WANT TO CODE IN PYTHON AND THAT'S KIND OF HARD

00:03:21,079 --> 00:03:23,459
TO DO ON THE WEB RIGHT NOW, WHICH BRINGS ME TO

00:03:23,459 --> 00:03:25,010
THE TOPIC OF THIS TALK.

00:03:25,010 --> 00:03:31,110
THIS IS MY KIND OF EXPERIMENT IN WHAT'S POSSIBLE IN BRINGING PYTHON TO THE WEB, A PROJECT CALLED

00:03:31,110 --> 00:03:32,110
PYPY.JS.

00:03:32,110 --> 00:03:33,900
I WANT TO TELL YOU A LITTLE BIT ABOUT WHAT IT IS,

00:03:33,900 --> 00:03:36,569
HOW IT CAME TOGETHER AND WHY ON EARTH I'M WORKING

00:03:36,569 --> 00:03:37,650
ON THIS THING.

00:03:37,650 --> 00:03:44,030
SO THE WHAT IN A SENSE IS FAIRLY STRAIGHTFORWARD, THE PYPY, PYTHON INTERPRETER, IMPORTED TO

00:03:44,030 --> 00:03:45,030
THE WEB.

00:03:45,030 --> 00:03:52,000
AND IN MY HEAD, IN TALK, THIS IS LIKE A TA-DA SLIDE, LIKE TADA!!

00:03:52,000 --> 00:03:55,980
IF I COULD TYPE WITH MY HANDS WEREN'T SHAKING, PYTHON ON THE WEB, ALL RIGHT?

00:03:55,980 --> 00:03:57,370
[ Applause ] 00:44:18>> THANK YOU.

00:03:57,370 --> 00:03:59,390
THAT'S VERY GENEROUS.

00:03:59,390 --> 00:04:02,290
I FEEL LIKE IN THIS DAY AND AGE, A LOT OF PEOPLE

00:04:02,290 --> 00:04:03,609
HAVE SEEN THIS SORT OF THING BEFORE, RIGHT?

00:04:03,609 --> 00:04:07,050
THIS IS NOT THE FIRST PROJECT TRYING TO PUT PYTHON ON THE WEB BY ANY STRETCH OF THE

00:04:07,050 --> 00:04:08,050
IMAGINATION.

00:04:08,050 --> 00:04:09,819
IT ALMOST CERTAINLY WON'T BE THE LAST.

00:04:09,819 --> 00:04:12,459
SO I WANT TO TELL YOU A LITTLE BIT MORE ABOUT WHY

00:04:12,459 --> 00:04:16,130
I'M DOING SOMETHING NEW. AND FOR ME, TO BE ABLE TO SAY THAT THE WEB

00:04:16,130 --> 00:04:18,739
SUPPORTS PYTHON IN A MEANINGFUL SENSE, YOU HAVE

00:04:18,739 --> 00:04:21,229
TO TICK THREE BOXES WHICH I WANT TO EXPLAIN BY

00:04:21,229 --> 00:04:22,740
WAY OF DEMONSTRATION.

00:04:22,740 --> 00:04:25,031
AND THE FIRST POINT IS THAT I -- WHEN I SAY I

00:04:25,031 --> 00:04:27,580
WANT TO CODE IN PYTHON, I ACTUALLY WANT PYTHON, RIGHT?

00:04:27,580 --> 00:04:31,430
SO IF I HAVE A NUMBER AND I PUT IT TO THE POWER

00:04:31,430 --> 00:04:35,460
OF ANOTHER NUMBER, RIGHT, I SHOULD GET A BIG NUMBER BACK IN RESPONSE.

00:04:35,460 --> 00:04:38,740
IF I WERE TO ASK JAVASCRIPT AND ITS NUMBER MODEL

00:04:38,740 --> 00:04:41,830
THAT SAME QUESTION, IT WOULD TELL ME THE ANSWER IS INFINITY.

00:04:41,830 --> 00:04:44,060
WHICH IS OFF BY A LITTLE BIT.

00:04:44,060 --> 00:04:48,860
IN I WERE IN JAVASCRIPT AND I DID THIS, RIGHT, IT

00:04:48,860 --> 00:04:50,260
WOULDN'T GIVE ME AN EXCEPTION DESPITE THE FACT

00:04:50,260 --> 00:04:52,259
THAT I ALMOST CERTAINLY DIDN'T WANT THAT, IT

00:04:52,259 --> 00:04:57,350
WOULD TELL ME INFINITY, WHICH I ALSO ALMOST CERTAINLY DON'T WANT BUT WILL PROBABLY GO

00:04:57,350 --> 00:04:58,520
AHEAD AND USE.

00:04:58,520 --> 00:05:00,750
SO ONE OF THE THINGS I'M REALLY INTERESTED IN IS

00:05:00,750 --> 00:05:02,990
GETTING A FULLY COMPATIBLE PYTHON ENVIRONMENT.

00:05:02,990 --> 00:05:05,210
AND IT'S NOT JUST THE NUMBERS, RIGHT?

00:05:05,210 --> 00:05:08,770
IN PYTHON, WE CAN DO THINGS LIKE THIS.

00:05:08,770 --> 00:05:12,120
EQUALS SOME NUMBER, RIGHT, AND WE GET IT IN THE

00:05:12,120 --> 00:05:13,310
GLOBAL SCOPE.

00:05:13,310 --> 00:05:19,180
WE CAN DO THINGS LIKE GET FRAME AND MUTATE THE

00:05:19,180 --> 00:05:21,310
VARIABLES THROUGH THAT.

00:05:21,310 --> 00:05:22,780
ALL OF THESE FUN STUFF THAT WE'VE COME TO EXPECT

00:05:22,780 --> 00:05:25,800
FROM PYTHON WE SHOULD ALSO EXPECT FROM THE WEB.

00:05:25,800 --> 00:05:30,180
THE SECOND POINT I'M REALLY INTERESTED IN PERFORMANCE, AND THIS ISN'T TO SAY LIKE I

00:05:30,180 --> 00:05:32,720
WANT TO DO SUPER FOUR TREND NUMBER CRUNCHING OR ANYTHING

00:05:32,720 --> 00:05:39,760
LIKE THAT BUT IF I GO OVER HERE TO MY SYSTEM PYTHON, RIGHT, AND I HAVE SOME CODE, FOR EXAMPLE,

00:05:39,760 --> 00:05:42,080
THIS IS A BENCHMARK THAT'S JUST BY DEFAULT WITH

00:05:42,080 --> 00:05:48,400
PYTHON WHICH IS REALLY GOOD FOR DEMONSTRATIONS, IF I HAVE SOME CODE THAT I CAN RUN IN MY NATIVE

00:05:48,400 --> 00:05:53,070
PYTHON ENVIRONMENT, RUNS AT ABOUT 140 PY STONES PER SECOND, I SHOULD BE ABLE TO GO TO THE

00:05:53,070 --> 00:05:56,310
WEB, I SHOULD BE ABLE TO DO THE SAME THING AND I

00:05:56,310 --> 00:05:59,360
SHOULD BE ABLE TO RUN WITH COMPARABLE SPEED, RIGHT?

00:05:59,360 --> 00:06:04,449
AS IT HAPPENS IN THIS CASE, IT RUNS IT SIGNIFICANTLY FASTER THAN THE SYSTEM PYTHON.

00:06:04,449 --> 00:06:10,070
THAT'S BECAUSE THIS IS PYPY AND PYPY IS AWESOME, AND IF I DO IT AGAIN, IT WILL GO FASTER.

00:06:10,070 --> 00:06:13,199
BUT I WOULD SETTLE FOR COMPARABLE, RIGHT?

00:06:13,199 --> 00:06:16,800
THE WEB SHOULDN'T BE BLOCKING ME FROM DOING THINGS FAST IN PYTHON.

00:06:16,800 --> 00:06:18,759
THE THIRD THING I REALLY CARE ABOUT, FOR WANT OF

00:06:18,759 --> 00:06:20,610
A BETTER WORD, I'M CALLING WEBBISHNESS.

00:06:20,610 --> 00:06:27,220
BUT JUST TO SAY, HAVING A PYTHON CONSULT ON THE -- CONSOLE ON THE WEB IS FUN BUT I WANT

00:06:27,220 --> 00:06:29,750
SOMETHING OFF THE WEB, I DON'T WANT TO TYPE INTO

00:06:29,750 --> 00:06:35,870
A PYTHON SAND BOX, I WANT TO BE ABLE TO INTERACT WITH THE HOST JAVA SCRIPT ENVIRONMENT AND

00:06:35,870 --> 00:06:38,900
DO THINGS LIKE EVALUATE JAVASCRIPT AND GET ANSWERS

00:06:38,900 --> 00:06:42,450
BACK WHICH ARE NOT PYTHON NUMBERS, THEY'RE WEIRD

00:06:42,450 --> 00:06:43,450
DOUBLES.

00:06:43,450 --> 00:06:49,930
I WANT TO BE ABLE TO USE ALL OF THE KIND OF BROWSER AND DOM INTERACTION STUFF.

00:06:49,930 --> 00:06:51,910
TA-DA.

00:06:51,910 --> 00:06:57,220
AS YOU CAN TELL, I'M VERY SKILLED AT FRONT-END DEVELOPMENT, I KNOW ALL ABOUT ALERTING, HELLO,

00:06:57,220 --> 00:06:58,220
WORLD.

00:06:58,220 --> 00:07:04,919
I WANT TO BE ABLE TO USE, FOR EXAMPLE, LINE PRAYERS THAT ARE WRITTEN IN JAVASCRIPT AND

00:07:04,919 --> 00:07:07,450
HAVE THEM OPERATE IN A SENSIBLE WAY.

00:07:07,450 --> 00:07:09,180
FOR EXAMPLE, I WANT TO BE ABLE TO JUST J QUERY TO

00:07:09,180 --> 00:07:12,879
FIND THIS CONSOLE WINDOW AND I WANT TO BE ABLE TO

00:07:12,879 --> 00:07:18,759
SET ITS BACKGROUND COLOR, AGAIN, IF I COULD TYPE...

00:07:18,759 --> 00:07:22,849
TO SOMETHING FUN LIKE CHARTRUESE.

00:07:22,849 --> 00:07:27,590
[ Applause ] IF I WANT TO GET REALLY FANCY, I WANT TO BE

00:07:27,590 --> 00:07:31,940
ABLE TO DEFINE LIKE A CALL-BACK FUNCTION, IN PYTHON,

00:07:31,940 --> 00:07:33,840
ALL RIGHT?

00:07:33,840 --> 00:07:44,020
AND RETURN, SAY, A CRYPTOGRAPHICALLY SECURELY GENERATED RANDOM NUMBER -- I HOPE THIS IS

00:07:44,020 --> 00:07:46,479
GOING TO WORK.

00:07:46,479 --> 00:07:50,069
AND PASS THAT INTO JAVASCRIPT.

00:07:50,069 --> 00:07:56,610
NOW CAN ANYONE SPOT MY BUG?

00:07:56,610 --> 00:07:59,020
OH, URANDOM.

00:07:59,020 --> 00:08:04,580
I USUALLY MAKE A HABIT OF PRE-RECORDING THESE THINGS BUT IT WOULD LOSE SOME OF THE APPEAL.

00:08:04,580 --> 00:08:05,580
NO!!

00:08:05,580 --> 00:08:06,580
SORRY?

00:08:06,580 --> 00:08:16,180
I'M GOING TO USE UP ALL OF MY TIME, BUT A FUN

00:08:16,180 --> 00:08:18,750
DEMO SO I'M GOING TO PERSIST.

00:08:18,750 --> 00:08:21,750
THERE WE GO.

00:08:21,750 --> 00:08:25,439
SOMETHING THAT'S REALLY OF THE WEB IN A MEANINGFUL SENSE.

00:08:25,439 --> 00:08:31,389
NOW, AS A GENERAL RULE, ALL RIGHT, IF AN ENGINEER IDENTIFIES THREE DESIRABLE PROPERTIES OF A

00:08:31,389 --> 00:08:34,490
SYSTEM, THEY ARE ABOUT TO ASK YOU TO PICK TWO OF

00:08:34,490 --> 00:08:35,890
THEM.

00:08:35,890 --> 00:08:38,630
AND PYTHON ON THE WEB SUFFERS FROM THIS IN A VERY

00:08:38,630 --> 00:08:39,630
SERIOUS WAY, RIGHTS?

00:08:39,630 --> 00:08:42,510
THERE ARE PROJECTS LIKE SOME OF THESE THAT I'VE

00:08:42,510 --> 00:08:47,330
IDENTIFIED HERE THAT WILL GIVE YOU A PYTHON SYNTAX THAT WILL TRANSLATE IT MORE OR LESS

00:08:47,330 --> 00:08:49,500
DIRECTLY INTO JAVASCRIPT, SO YOU GET THINGS LIKE

00:08:49,500 --> 00:08:57,140
JAVASCRIPT'S MODEL NUMBER, THEIR OBJECT BEHAVIOR WHICH RUNS REALLY FAST IN THE BROWSER BUT,

00:08:57,140 --> 00:08:59,290
YOU KNOW, ISN'T PYTHON IN A VERY REAL SENSE.

00:08:59,290 --> 00:09:03,680
THERE ARE PROJECTS THAT PUT A LOT MORE EFFORT INTO BEING COMPATIBLE WITH PYTHON BUT THEY

00:09:03,680 --> 00:09:05,760
PAY FOR IT BECAUSE THIS STUFF LIKE GENERATORS

00:09:05,760 --> 00:09:09,149
AND MED CLASSES AND FRAMES ARE REALLY HARD SO THEY

00:09:09,149 --> 00:09:11,560
DON'T RUN AS FAST AS THEY COULD.

00:09:11,560 --> 00:09:13,530
AND IF YOU DON'T REALLY CARE ABOUT BEING ON THE

00:09:13,530 --> 00:09:16,690
WEB, WELL, YOU CAN JUST RUN C PYTHON OR PYPY, AND

00:09:16,690 --> 00:09:18,430
PUT A LITTLE SHELL WINDOW AND SHELL OUT TO IT

00:09:18,430 --> 00:09:20,200
FROM YOUR BROWSER.

00:09:20,200 --> 00:09:24,630
MY QUESTION IS, CAN WE HIT ALL THREE OF THESE?

00:09:24,630 --> 00:09:27,140
AND PYPY.JS IS KIND OF MY EXPERIMENT IN TRYING TO

00:09:27,140 --> 00:09:28,339
DO THAT.

00:09:28,339 --> 00:09:30,120
PROMISING LITTLE DEMOS ASIDE, I'M GOING TO LEAVE

00:09:30,120 --> 00:09:32,130
THAT AS AN OPEN QUESTION FOR NOW AND COME BACK TO

00:09:32,130 --> 00:09:35,020
IT BECAUSE I REALLY WANT TO DIVE INTO THE HOW

00:09:35,020 --> 00:09:37,390
BECAUSE I THINK IT'S REALLY INTERESTING.

00:09:37,390 --> 00:09:40,720
THIS PROJECT IS ESSENTIALLY A COMING TOGETHER OF

00:09:40,720 --> 00:09:43,460
TWO EXCITING RELATIVELY NEW TECHNOLOGIES, ONE IN

00:09:43,460 --> 00:09:45,860
THE PYTHON WORLD AND ONE IN THE JAVASCRIPT WORLD.

00:09:45,860 --> 00:09:46,950
THE FIRST OF THEM IS PYPY.

00:09:46,950 --> 00:09:49,339
SO WHO KNOWS ABOUT PYPY?

00:09:49,339 --> 00:09:50,579
ALMOST EVERYONE, AWESOME.

00:09:50,579 --> 00:09:52,010
PYPY IS FANTASTIC.

00:09:52,010 --> 00:09:54,980
IT'S A PYTHON INTERPRETER WRITTEN IN PYTHON.

00:09:54,980 --> 00:09:56,950
WHICH SOUNDS LIKE A TERRIBLE IDEA, ACTUALLY TURNS

00:09:56,950 --> 00:09:58,970
OUTS TO BE A GREAT IDEA.

00:09:58,970 --> 00:10:00,690
BECAUSE THEY HAVE TWO TRICKS FOR MAKING IT RUN

00:10:00,690 --> 00:10:01,940
REALLY FAST, RIGHT?

00:10:01,940 --> 00:10:04,980
THE FIRST IS THEY RIGHT IT IN A RESTRICTED SUBSET

00:10:04,980 --> 00:10:09,610
OF PYTHON, WHICH IF YOU'RE A COMPILER GENIUS OR

00:10:09,610 --> 00:10:13,560
TWO AND YOU EXERT A TREMENDOUS FORCE OF WILL IN

00:10:13,560 --> 00:10:18,350
YOUR COMPILATION TOOL CHAIN, YOU CAN TRANSLATE OUR PYTHON INTO C WHICH MEANS YOU CAN COMPILE

00:10:18,350 --> 00:10:20,500
IT INTO A NATIVE EXECUTABLE.

00:10:20,500 --> 00:10:22,140
THE OTHER FUN THING THEY HAVE IS ADJUSTING TIME

00:10:22,140 --> 00:10:27,130
COMPILER, NOT ADJUSTING, ADJUSTING TIME COMPILER GENERATOR.

00:10:27,130 --> 00:10:33,720
THAT MEANS DURING THIS PROCESS FROM PYTHON INTERPRETER TO PYTHON INTERPRETER FOR C, YOU

00:10:33,720 --> 00:10:36,530
CAN KINDS OF TRANSPARENTLY PUTS ADJUSTING TIME

00:10:36,530 --> 00:10:40,580
COMPILER IN THERE, SO AT AN EXTREMELY HIGH LEVEL,

00:10:40,580 --> 00:10:42,480
ELIMINATING A LOT OF VERY IMPORTANT DETAILS, THE

00:10:42,480 --> 00:10:45,470
PYPY KIND OF TOOL CHAIN LOOKS LIKE THIS.

00:10:45,470 --> 00:10:47,160
YOU START WITH A PYTHON INTERPRETER WRITTEN IN

00:10:47,160 --> 00:10:52,089
PYTHON YOU RUN ITS THROUGH THIS R-PYTHON COMPILATION TOOL CHAIN TO GET THE C FILES.

00:10:52,089 --> 00:10:54,610
YOU COMPILE THE C FILES WITH A NORMAL COMPILER TO

00:10:54,610 --> 00:10:57,510
GET A NATIVE PYTHON INTERPRETER.

00:10:57,510 --> 00:11:00,079
YOU FEED YOUR PYTHON CODE INTO IT, AND THIS GOES

00:11:00,079 --> 00:11:02,320
THROUGH THE JUST IN TIME COMPILER, TRACES WHAT

00:11:02,320 --> 00:11:08,769
THE HOT PADS ARE AND EMITS KINDS OF THIS NATIVE APPROXIMATION OF THE IMPORTANT BITS OF YOUR

00:11:08,769 --> 00:11:11,820
CODE, SO YOU WIND UP RUNNING KINDS OF NATIVELY,

00:11:11,820 --> 00:11:14,330
WHICH IS WHY PYPY HAS THIS DESERVED REPUTATION FOR

00:11:14,330 --> 00:11:17,000
BEING A VERY FAST PYTHON INTERPRETER.

00:11:17,000 --> 00:11:19,639
FROM MY PERSPECTIVE, THE INTERESTING THING ABOUT

00:11:19,639 --> 00:11:24,769
PYPY IS THAT IT'S TARGETED AS A PLATFORM FOR EXPERIMENTATION, BECAUSE IT'S WRITTEN IN PYTHON,

00:11:24,769 --> 00:11:27,200
YOU KNOW, IT'S RELATIVELY APPROACHABLE, I WON'T

00:11:27,200 --> 00:11:29,600
SAY EASY BUT AN APPROACHABLE PROBLEM TO KIND OF

00:11:29,600 --> 00:11:31,850
GO AND BUT A DIFFERENT GARBAGE COLLECTOR IN THERE

00:11:31,850 --> 00:11:34,800
OR BUT A DIFFERENT JIT BACK IN THERE, THINGS LIKE

00:11:34,800 --> 00:11:36,209
THAT.

00:11:36,209 --> 00:11:38,880
THE SECOND PROJECT I WANTED TO TALK ABOUT IS

00:11:38,880 --> 00:11:39,880
ENSCRIPTIN.

00:11:39,880 --> 00:11:41,630
WHO'S HEARD OF THAT?

00:11:41,630 --> 00:11:43,100
ALMOST EVERYONE,.

00:11:43,100 --> 00:11:46,500
THAT'S A BACK ENDS ARE FOR THE LLVM COMPILER TOOL

00:11:46,500 --> 00:11:53,220
CHAIN BUT INSTEAD OF GENERATING LIKE X86 OR NATIVE CODE, IT GENERATES JAVASCRIPT WHICH

00:11:53,220 --> 00:11:55,010
AGAIN SOUNDS LIKE A TERRIBLE IDEA.

00:11:55,010 --> 00:11:57,060
BUT ACTUALLY WORKS OUT REALLY WELL IN PRACTICE.

00:11:57,060 --> 00:12:00,430
IN ADDITION TO THIS, IT'S ALSO BASICALLY A LITTLE

00:12:00,430 --> 00:12:03,889
SIMULATED SAND BOX ENVIRONMENT FOR THE WEB SO HAS

00:12:03,889 --> 00:12:08,980
SIS.H, STUBBED OUT DEVICES AND GET TIME OF DAY

00:12:08,980 --> 00:12:11,430
AND ALL THIS STUFF IN A LITTLE SAND BOX ON THE

00:12:11,430 --> 00:12:15,130
WEB, AND THE GUY THAT STARTED THIS, A GUY NAMED

00:12:15,130 --> 00:12:20,160
ALONZO KAYE, WHEN I MET HIM AND HAD THE OPPORTUNITY TO ASK HIM ABOUT THE INSPIRATION

00:12:20,160 --> 00:12:24,399
FOR IT, HIS EXPLANATION FOR THIS WHOLE ELABORATE

00:12:24,399 --> 00:12:26,760
PROJECT WAS BASICALLY, LOOK, I WAS WORKING ON

00:12:26,760 --> 00:12:30,270
THIS GAME AND IT WAS IN C PLUS PLUS, AND I WANT

00:12:30,270 --> 00:12:35,079
TO RUN IT ON THE WEB. AND I SAID, OKAY.

00:12:35,079 --> 00:12:39,579
I SALUTE YOU IN YOUR CRAZY COMPILER GENIUS WAYS.

00:12:39,579 --> 00:12:41,120
IN THE PROCESS OF TRYING TO PUT THIS THING ON THE

00:12:41,120 --> 00:12:44,160
WEB, CPLUSPLUS, HE DISCOVERED THAT INSIDE OF I

00:12:44,160 --> 00:12:49,890
CAN'T HAVE ASCRIPT, THERE IS A WEIRD MIX OF HIGH-LEVEL AND LOW-LEVEL FEATURES LIKE CLOSURES

00:12:49,890 --> 00:12:55,540
THAT HAVE REALLY GOOD KIND OF NAME REFERENCE PROTECTION, AND 32-BIT BITWISE OPERATESSORS,

00:12:55,540 --> 00:12:56,639
BITS AND PIECES LIKE THIS.

00:12:56,639 --> 00:13:01,650
IT TURNS OUT IF YOU KIND OF CARVE OUT A STRANGE LITTLE BOUNDARY AROUND A LOT OF THE PARTS

00:13:01,650 --> 00:13:05,540
OF JAVASCRIPT AND JUST USE THIS ONE LITTLE SUBSET,

00:13:05,540 --> 00:13:09,270
WHAT YOU HAVE IS A 32 BIT ASSEMBLY LANGUAGE IN

00:13:09,270 --> 00:13:11,110
DISGUISE.

00:13:11,110 --> 00:13:15,810
AND SO THE INSCRIPTIN PROJECT BASICALLY TARGETS THIS SUBSET.

00:13:15,810 --> 00:13:17,790
THE WAY IT WORKS IS AS FOLLOWS.

00:13:17,790 --> 00:13:23,120
YOU START WITH SOME CODE RIN IN C OR WHATEVER LANGUAGE YOU CAN TARGET LLVM IN.

00:13:23,120 --> 00:13:27,269
IT LOOKS -- A WRAP-AROUND LLVM TOOL CHAIN AND

00:13:27,269 --> 00:13:29,019
SPITS OUT JAVA SCRIPTS.

00:13:29,019 --> 00:13:32,519
YOU PUTS THAT IN YOUR BROWSER AND BROWSERS HAVE,

00:13:32,519 --> 00:13:37,550
YOU KNOW, REALLY POWERFUL JIT COMPILERS IN THEMSELVES SO THE BROWSER WILL TAKE THAT CODES

00:13:37,550 --> 00:13:40,589
AND TURN IT INTO A NATIVE APPROXIMATION OF THE

00:13:40,589 --> 00:13:41,980
IMPORTANT PARTS OF THAT CODE.

00:13:41,980 --> 00:13:44,440
SO YOU WIND UP IN THE SAME PLACE YOU WOULD HAVE

00:13:44,440 --> 00:13:46,209
IF YOU WERE YOURSING SOMETHING LIKE GCC, BUT YOU

00:13:46,209 --> 00:13:48,350
KIND OF INDIRECTING THROUGH JAVASCRIPT IN THE

00:13:48,350 --> 00:13:49,899
BROWSER.

00:13:49,899 --> 00:13:54,420
NOW, THERE'S ONE OBVIOUS THING TO DO FROM THIS

00:13:54,420 --> 00:13:55,420
POINT, RIGHT?

00:13:55,420 --> 00:13:57,780
AND THAT'S TO TAKE THESE TWO PROJECT AND SMOOSH THEM TOGETHER.

00:13:57,780 --> 00:14:01,649
WHAT COULD POSSIBLY GO WRONG?

00:14:01,649 --> 00:14:03,100
SO IT LOOKS LIKE THIS, RIGHT?

00:14:03,100 --> 00:14:06,580
YOU HAVE THIS PYTHON INTERPRETER THAT'S WRITTEN IN PYTHON, YOU RUN IT THROUGH THE R-PYTHON

00:14:06,580 --> 00:14:10,100
TOOL CHAIN TO GET A BUNCH OF C FILINGS, YOU YOU

00:14:10,100 --> 00:14:12,389
KNOW THROUGH THOSE INSCRIPT TIN, YOU GIVE IT TO

00:14:12,389 --> 00:14:13,389
YOUR BROWSER.

00:14:13,389 --> 00:14:15,480
I CAN FEED PYTHON INTO THAT CODES AND BECAUSE I

00:14:15,480 --> 00:14:20,800
STARTED WITH AN INTERPRETER WRITTEN IN PYTHON, NOT THAT BIG A DEAL TO CHANGE ITS JIT TO EMIT

00:14:20,800 --> 00:14:25,470
JAVASCRIPT AT RUN TIME FOR THE POSITIVE CODE, WHICH THE BROWSER WILL JIT BACK INTO NATIVE

00:14:25,470 --> 00:14:26,470
CODE.

00:14:26,470 --> 00:14:31,470
SO YOU GET TO WHERE YOU WANTED TO BE BUT GOING THROUGH THE BROWSER, WHICH IS LOVELY.

00:14:31,470 --> 00:14:33,779
NOW, YOU STARTED TO CLAP THEN BUT COME ON, BE

00:14:33,779 --> 00:14:39,959
HONEST, WHO'S FIRST THOUGHT UPON SEEING THIS DIAGRAM WAS APPROXIMATELY THAT IS AWFUL?

00:14:39,959 --> 00:14:42,199
[ Laughter ] THAT'S FINE, THAT'S FINE.

00:14:42,199 --> 00:14:45,440
I THINK THAT'S FAIR BUT I DO WANTS YOU TO CONSIDER THIS, RIGHT?

00:14:45,440 --> 00:14:48,180
I'VE BEEN CALLING THIS FINAL THING NATIVE CODE.

00:14:48,180 --> 00:14:50,320
BUT IT REALLY AIN'T THESE DAYS.

00:14:50,320 --> 00:14:51,320
RIGHT?

00:14:51,320 --> 00:14:54,100
WHEN THAT CODE HITS THE CPU, THE CPU IS GOING TO

00:14:54,100 --> 00:14:58,389
TRANSLATE THAT INTO ITS OWN INTERNAL REPRESENTATION OF LIKE MARKER OPERATIONS AND

00:14:58,389 --> 00:15:01,470
DO LIKE VIRTUAL REGISTER ALLOCATION AND TRY TO

00:15:01,470 --> 00:15:03,020
PREDICTS WHICH BRANCHES YOUR CODES IS GOING TO

00:15:03,020 --> 00:15:06,690
TAKE AND SPECK LaACTIVELY EXECUTE THEM AND STITCH THEM BACK TOGETHER IF IT DOESN'T WORK

00:15:06,690 --> 00:15:07,839
OUT PROPERLY, RIGHT?

00:15:07,839 --> 00:15:12,040
YOU KNOW, THIS IS NOT JUST, WELL, HERE'S NATIVE CODE AND IT RUNS IN THE SILICON.

00:15:12,040 --> 00:15:15,760
SO, YES, THIS IS KIND OF AN AWFUL COLLECTION OF

00:15:15,760 --> 00:15:22,310
WEIRD BACKWARDS COMPATIBILITY HACKS AND LAYERING VIOLATIONS, BUT THE LAST 30 YEARS OF MODERN

00:15:22,310 --> 00:15:25,899
COMPUTING ARE BUILT ON EXACTLY THIS KIND OF WEIRD

00:15:25,899 --> 00:15:29,290
BACKWARDS COMPATIBILITY...

00:15:29,290 --> 00:15:33,480
[ Applause ] >> IT'S AWFUL ALL THE WAY DOWN TO THE SILICON.

00:15:33,480 --> 00:15:36,180
SO THE QUESTION IS NOT LIKE IS THIS A NICE ANYONE?

00:15:36,180 --> 00:15:37,850
OF COURSE IT'S NOT THE SYSTEM WE WOULD BUILD IF

00:15:37,850 --> 00:15:40,660
WE WERE DESIGNING AN ELEGANT CATHEDRAL FROM SCRATCH.

00:15:40,660 --> 00:15:42,420
THE QUESTION IS, IS IT WORTH IT?

00:15:42,420 --> 00:15:46,170
NOW, AS MOZILLANS, WE HAVE SOMETHING OF A HABIT

00:15:46,170 --> 00:15:53,420
OF PUBLICLY TRACKING OUR PERFORMANCE BENCHMARKS, SO WHEN THE JAVASCRIPT PERFORMANCE WORDS WARS

00:15:53,420 --> 00:15:58,480
WERE HEATING UP, LIKE THE TEAM THAT MOZILLA CYCLED, FASTNETS.COM WHERE YOU COULD TRACK

00:15:58,480 --> 00:16:00,160
PERFORMANCE METRICS.

00:16:00,160 --> 00:16:02,980
WAY BACK WHEN FIREFOX WAS A LITTLE BITS OF A

00:16:02,980 --> 00:16:05,850
MEMORY HOG, LET'S BE HONEST, THE TEAM WORKING ON

00:16:05,850 --> 00:16:09,509
THAT MADE THE CYCLE, ARE WE SLIM YET.COM WHERE YOU COULD TRACK THE PERFORMANCE?

00:16:09,509 --> 00:16:11,480
SO I'VE BEEN WORKING ON THIS CYCLE, ARE WE PYTHON

00:16:11,480 --> 00:16:19,980
YET.COM, WHICH DOESN'T FIT ON MY SLIDES, WHERE YOU CAN GO AND CHECK OUT OUR KIND OF PERFORMANCE

00:16:19,980 --> 00:16:20,980
BENCHMARKS.

00:16:20,980 --> 00:16:25,560
ZOOM OUT OF THAT SO WE CAN SEE WHAT'S GOING ON.

00:16:25,560 --> 00:16:28,589
SO WE HAVE SOME PERFORMANCE TRACKING BENCHMARKS, SOME START-UP OVERHEAD BENCHMARKS.

00:16:28,589 --> 00:16:31,290
LETS ME GIVE YOU THE KINDS OF HIGHLIGHTS.

00:16:31,290 --> 00:16:33,279
FIRST THE GOOD BITS.

00:16:33,279 --> 00:16:35,240
THIS IS OUR PERFORMANCE TRACKING.

00:16:35,240 --> 00:16:41,450
THIS IS PERFORMANCE OF PYPY IN THE BROWSER, NORMALIZED TO A NATIVE C-PYTHON INTERPRETER.

00:16:41,450 --> 00:16:44,149
ACROSS BOTH FIREFOX AND CHROME AND YOU CAN SEE

00:16:44,149 --> 00:16:46,370
DOWN AT THE BOTTOM HERE, THIS IS ABOUT 1.4 TIMES

00:16:46,370 --> 00:16:48,959
SLOWER THAN NATIVE, WHICH IS NOT TOO BAD.

00:16:48,959 --> 00:16:51,649
IF I TAKE CHROME OUT OF THE MIX, HAPPY TO REPORT

00:16:51,649 --> 00:16:54,240
THAT IT AVERAGES OUT AT 1.2 TIMES FASTER THAN THE

00:16:54,240 --> 00:16:56,339
NATIVE PYTHON ON MY MACHINE.

00:16:56,339 --> 00:16:59,190
ACROSS THESE EIGHT BENCHMARKS, WHICH IS PRETTY COOL.

00:16:59,190 --> 00:17:04,820
OF COURSE, IF I COMPARE IT TO A NATIVE PYPY INTERPRETER LIKE THE NATIVE PYPY IS GOING

00:17:04,820 --> 00:17:10,590
ON TO BE FASTER THAN THE WEB, THIS ONE OUTLIER,

00:17:10,590 --> 00:17:12,950
WE'RE OPERATING AT BETWEEN FIVE AND TEN TIMES SLOWER

00:17:12,950 --> 00:17:16,860
THAN A NATIVE PYPY, WITH ALL OF ITS AMAZING KIND

00:17:16,860 --> 00:17:19,300
OF YEARS OF WORK PUT INTO JITING, WHICH I THINK

00:17:19,300 --> 00:17:22,000
FOR SOMETHING RUNNING IN THE WEB IS ACTUALLY PRETTY AMAZING.

00:17:22,000 --> 00:17:25,030
SO THAT'S THE GOOD.

00:17:25,030 --> 00:17:26,620
IT COMES WITH A COST, HOWEVER.

00:17:26,620 --> 00:17:33,310
SO THIS METRIC IS MEASURING THE SIZE OF THE AMOUNT OF JAVASCRIPT THAT YOU NEED TO DOWNLOAD

00:17:33,310 --> 00:17:35,140
TO RUN THIS THING.

00:17:35,140 --> 00:17:40,590
AND I DON'T KNOW IF YOU CAN READ THAT ON THE GRAPH HERE BUT AS A GENERAL RULE, WHEN YOU'RE

00:17:40,590 --> 00:17:43,230
MEASURING THE SIZE OF YOUR JAVASCRIPT ASSETS IN

00:17:43,230 --> 00:17:46,660
MEGABYTES, YOU'RE GOING TO HAVE A BAD TIME ON THE

00:17:46,660 --> 00:17:47,840
WEB, RIGHT?

00:17:47,840 --> 00:17:51,820
PART OF THE PROBLEM HERE IS THAT THIS IS, YOU

00:17:51,820 --> 00:17:54,360
KNOW, ENSCRIPTIN IS DESIGNED FOR GAMES AND IN A

00:17:54,360 --> 00:17:58,540
GAME, IT'S OKAY TO SHOW A LOADING GAME, I'M LOADING A COUPLE OF GIG OF ASSETS, YOU DON'T

00:17:58,540 --> 00:17:59,930
CARE ABOUT JAVASCRIPT.

00:17:59,930 --> 00:18:03,460
BUT FOR SOMETHING LIKE THIS, YOU WOULD LIKE TO

00:18:03,460 --> 00:18:04,760
LOAD IT FASTER.

00:18:04,760 --> 00:18:09,720
THERE IS INTERESTING NOW WORK GOING ON INSIDE ENSCRIPTIN THAT WILL MAKE THIS SMALLER AND

00:18:09,720 --> 00:18:13,040
I THINK FOR DOING STUFF INSIDE PYPY.

00:18:13,040 --> 00:18:16,810
SO THAT WILL BE PUSHING FORWARD ON THIS YEAR.

00:18:16,810 --> 00:18:21,060
THIS IS MEASURING THE PERFORMANCE OF THAT JAVASCRIPT I JUST SHOWED YOU, BASICALLY THE

00:18:21,060 --> 00:18:23,740
JS MODULE, SO MEASURING THE OVERHEAD OF DOING

00:18:23,740 --> 00:18:28,280
LIKE DOM MANIPULATION IN PYPY INSTEAD OF IN NATIVE

00:18:28,280 --> 00:18:30,570
JAVASCRIPT AND EVEN IF I TAKE CHROME OUT OF THE

00:18:30,570 --> 00:18:32,761
EQUATION, WE'RE TALKING HUNDREDS OF TIMES IS

00:18:32,761 --> 00:18:38,760
SLOWER THAN DOG IT NEN� ACTIVELY IN JAVASCRIPT, WHICH IS NOT AWESOME.

00:18:38,760 --> 00:18:45,460
I THINK, SOMEWHAT NAIVELY, THAT CAN CAN BE DRAMATICALLY IMPROVED BY TEACHING THE PYPY

00:18:45,460 --> 00:18:49,360
JIT ABOUT JAVASCRIPT, MORE ABOUT JAVASCRIPT, RIGHT?

00:18:49,360 --> 00:18:51,560
BUT RIGHT NOW, IT'S KIND OF SLOW.

00:18:51,560 --> 00:18:54,481
SO YOU CAN DO FUN DEMOS AND STUFF BUT IF YOU WERE

00:18:54,481 --> 00:18:56,080
DOING LIKE SERIOUS DOM MANIPULATION, YOU'RE DOING

00:18:56,080 --> 00:18:58,230
TO PAY A PERFORMANCE PENALTY.

00:18:58,230 --> 00:19:01,850
SO IF I RETURN TO THE KIND OF QUESTION I HAD AT

00:19:01,850 --> 00:19:06,440
THE START, ALL RIGHT, CAN WE HIT THIS MIDDLE GROUND?

00:19:06,440 --> 00:19:08,550
I WOULD LOVE TO BE ABLE TO STAND UP HERE AND SAY,

00:19:08,550 --> 00:19:13,260
BAM, PYPY TO JS, RIGHT IN THE MIDDLE THERE, TICKING ALL THREE BOXES.

00:19:13,260 --> 00:19:14,950
YOU PROBABLY ARE NOT GOING TO BE CONVINCED AFTER

00:19:14,950 --> 00:19:16,730
SEEING THOSE METRICS, RIGHT?

00:19:16,730 --> 00:19:19,260
HONESTLY, IT PLACES CLOSER TO HERE.

00:19:19,260 --> 00:19:24,060
IT'S A REALLY COMPATIBLE, PRETTY FAST PYTHON ENVIRONMENT THAT RUNS IN THE WEB AND STARTING

00:19:24,060 --> 00:19:26,970
TO PUSH INTO KIND OF BEING REALLY OF THE WEB.

00:19:26,970 --> 00:19:30,440
BUT IF YOU TAKE THAT HIGH END AND TRY TO DO LIKE

00:19:30,440 --> 00:19:36,750
SCRIPTING THE INTERACTIONS ON YOUR WEBSITE, PROBABLY GOING TO BE A BIT SLOW RIGHT NOW.

00:19:36,750 --> 00:19:38,680
THAT SAID, I THINK, YOU KNOW, THERE IS A WILL THE

00:19:38,680 --> 00:19:39,680
OF GROUND FOR PUSHING -- A LOT OF GROUNDS FOR

00:19:39,680 --> 00:19:43,981
PUSHING FURTHER AND FURTHER INTO THAT MIDDLE GROUND SO BE REALLY INTERESTING TO SEE WHAT

00:19:43,981 --> 00:19:46,880
WE CAN COME UP WITH OVER THE COMING YEAR.

00:19:46,880 --> 00:19:47,880
OKAY.

00:19:47,880 --> 00:19:50,500
SO, QUESTION YOU MAY HAVE ON YOUR MIND RIGHT NOW

00:19:50,500 --> 00:19:51,500
IS, WHY?

00:19:51,500 --> 00:19:54,150
GOOD, THANK YOU, AT LEAST SOMEONE DOES.

00:19:54,150 --> 00:19:59,140
SO MY THOUGHTS ON THE MATTER ARE ALMOST ENTIRELY SUMMED UP BY THIS SATURDAY MORNING BREAKFAST

00:19:59,140 --> 00:20:00,470
CEREAL CARTOON.

00:20:00,470 --> 00:20:05,260
WHEN SOMEONE ASKS YOU WHY, THEY KINDS OF EXPECT YOU TO RESPONDS LIKE THIS, WHY IS THIS THING

00:20:05,260 --> 00:20:06,260
IMPORTANT?

00:20:06,260 --> 00:20:11,020
OH, IT HAS LOTS OF REALLY EXCELLENT APPLICATIONS IN, LIKE, ENERGY AND SO FORTH.

00:20:11,020 --> 00:20:14,050
I'M A LOT MORE LIKE THIS GUY, SO I CENSORED IT

00:20:14,050 --> 00:20:18,560
FOR THE CONTENTS, BECAUSE ITS IT'S AWESOME, FUN,

00:20:18,560 --> 00:20:21,570
I WANT TO DO AMAZING STUFF, RIGHTS?

00:20:21,570 --> 00:20:24,950
THAT SAID, IT IS ALSO -- LIKE IT ALSO CAN BE

00:20:24,950 --> 00:20:26,040
USEFUL.

00:20:26,040 --> 00:20:28,420
SO AS I SAID, LIKE THE FIRST THING PEOPLE TEND TO

00:20:28,420 --> 00:20:30,890
WANT TO DO IS SOMETHING LIKE THIS, RIGHT?

00:20:30,890 --> 00:20:33,430
WRITE SCRIPT TEXT EQUALS PYTHON AND I WANT TO

00:20:33,430 --> 00:20:39,190
REITERATE ONE THING I SAID EARLIER ON IN THE TALK, IF YOU TRY TO DO THIS RIGHT NOW TODAY,

00:20:39,190 --> 00:20:41,790
YOUR USERS WILL NOT WANT TO DOWNLOAD IN OUR OR

00:20:41,790 --> 00:20:43,500
FIVE MEG OF ASSETS TO INTERACT.

00:20:43,500 --> 00:20:45,770
THEY'RE GOING TO HAVE A BAD TIME.

00:20:45,770 --> 00:20:51,600
THAT SAID, THE LOAD TIME OF YOUR SITE IS NOT ALWAYS IN THE CRITICAL PATH SO, FOR EXAMPLE,

00:20:51,600 --> 00:20:53,310
NONE OF YOU HAD TO SIT AROUND WAITING FOR MY SLIDES

00:20:53,310 --> 00:20:55,940
TO LOADS, SO IF I SCROLL DOWN TO THE BOTTOM,

00:20:55,940 --> 00:20:59,540
I SCRIPTED A BUNCH OF MY SLIDES LOGIC AS A SCRIPT

00:20:59,540 --> 00:21:01,330
TYPE TEXT EQUALS PYTHON.

00:21:01,330 --> 00:21:04,900
SIGHT WORKS, JUST BAD START-OUT BEHAVIOR SO BE

00:21:04,900 --> 00:21:08,300
INTERESTING TO SEE HOW USEFUL WE CAN MAKE THAT.

00:21:08,300 --> 00:21:10,040
FOLLOWING IN THAT THEME -- SORRY.

00:21:10,040 --> 00:21:13,560
IF YOU WANT TO DO THAT TODAY, LIKE YOU SHOULD PROBABLY CHECK OUT ONE OF THE ALTERNATE PROJECTS.

00:21:13,560 --> 00:21:15,850
I HOPE TO BE COMPETITIVE WITH THEM SOMETIME THIS

00:21:15,850 --> 00:21:19,770
YEAR, BUT SPECIFICALLY FOR SCRIPTING TAGS ON THE

00:21:19,770 --> 00:21:23,640
WEB, PROBABLY CHECK ONE OF THESE OUT.

00:21:23,640 --> 00:21:26,160
I DO WANT TO TRY TO DO SOME OTHER INTERESTING STUFF, RIGHT?

00:21:26,160 --> 00:21:27,910
PEOPLE REALLY LIKE THINGS LIKE PY 2 XE, WHERE YOU

00:21:27,910 --> 00:21:32,670
CAN BUNDLE IT UP AND DISTRICT IT.

00:21:32,670 --> 00:21:37,580
CAN WE USE SOMETHING LIKE THIS TO DEVELOP A PY TO

00:21:37,580 --> 00:21:38,580
WEB?

00:21:38,580 --> 00:21:40,100
PUT IT ON THE WEB AND IT RUNS WITHOUT ANY EXTRA

00:21:40,100 --> 00:21:42,200
WORK, RIGHT?

00:21:42,200 --> 00:21:44,800
CAN YOU THEN TAKE SOMETHING LIKE -- I CAN WIPE

00:21:44,800 --> 00:21:51,480
OUT THE MANIFEST AND YOU HAVE AN INSTALLABLE FIREFOX S APPLICATION, RIGHT, SO YOU CAN REACH

00:21:51,480 --> 00:21:57,150
SOME -- SMARTPHONE MARKET WITH YOUR APP.

00:21:57,150 --> 00:22:01,190
IF YOU RUN THAT THROUGH OUR AP K FACTORY, YOU CAN

00:22:01,190 --> 00:22:03,420
TUNE THE FIREPOKES S AUTOPSY INTO AN ANDROID APP

00:22:03,420 --> 00:22:07,400
AND REACH ONE OR TWO MORE PERCENT OF THE SMARTPHONE WHYSER BASE.

00:22:07,400 --> 00:22:08,670
THE OTHER -- USER BASE.

00:22:08,670 --> 00:22:13,200
IT IS OTHER THING THAT PEOPLE HAVE GOING ON THAT'S INTERESTING LIKE THE SCIENTIFIC COMMUNITY

00:22:13,200 --> 00:22:15,650
DO A GREAT STUFF WITH PYTHON ON THE WEB WHERE THE

00:22:15,650 --> 00:22:19,540
START-UP COSTS MAY NOT BE A DEAL-BREAKER SO CAN

00:22:19,540 --> 00:22:21,480
WE GET MORE NEW ENGINEER -- NUMERIC STUFF INSIDE

00:22:21,480 --> 00:22:26,350
PIPE AYE, CAN WE USE ENSCRIPTIN AND STITCH INTO

00:22:26,350 --> 00:22:30,470
THIS INTO A FULL-BASED SCRIPTING PLATFORM, FUN

00:22:30,470 --> 00:22:34,030
STUFF LIKE THAT.

00:22:34,030 --> 00:22:36,200
I WANT TO CALL OUT EXPLICITLY THE POSSIBILITY OF

00:22:36,200 --> 00:22:37,270
GETTING FREE STUFF.

00:22:37,270 --> 00:22:41,430
SO YOU MAY HAVE NOTICED THAT I LEAVE THAT AS A

00:22:41,430 --> 00:22:43,980
BAD -- NEVER MIND -- THAT I'VE BEEN RUNNING IN

00:22:43,980 --> 00:22:45,870
PYTHON2.

00:22:45,870 --> 00:22:51,650
PYTHON2, BECAUSE PYPY SUPPORTS PYTHON, 12 BY

00:22:51,650 --> 00:22:52,650
DEFAULTS.

00:22:52,650 --> 00:22:54,130
I WANT PYTHON 3 ON THE WEB.

00:22:54,130 --> 00:22:58,170
I GO AND CHECK OUT THIS BRANCH OF THE REAPER AND

00:22:58,170 --> 00:23:02,190
SUDDENLY, I'VE GOT PYTHON 3, ESSENTIALLY FOR FREE

00:23:02,190 --> 00:23:04,010
RUNNING IN THE WEB.

00:23:04,010 --> 00:23:07,660
IF PYTHON TURNS OUT TO BE NOT QUITE YOUR THING, YOU CAN GO DO THIS REPO AND CHECK IT OUT.

00:23:07,660 --> 00:23:13,530
ANYONE WHO DOESN'T RECOGNIZE THAT WEIRD PROMPT, THIS IS A PROLOGUE ENGINE AND IT'S A PROPER

00:23:13,530 --> 00:23:14,530
ONE, TOO.

00:23:14,530 --> 00:23:17,350
IF I ASK IT TO SOLVE FOR A AND B, IT WILL TELL ME

00:23:17,350 --> 00:23:19,620
AN ANSWER, THAT'S NOT GOOD ENOUGH, IT WILL TELL

00:23:19,620 --> 00:23:21,020
ME OTHER ONE, SO ON.

00:23:21,020 --> 00:23:23,910
IT RUNS IN THE WEB AND JITS TO JAVASCRIPT AT

00:23:23,910 --> 00:23:25,830
RUNTIME AND I GOT ALL OF THAT FOR FREE.

00:23:25,830 --> 00:23:28,030
THIS WORKED LITERALLY THE FIRST TIME I TRIED IT.

00:23:28,030 --> 00:23:31,600
>> I CHECKED OUT THE REPO AND PUT IT ON THE WEB,

00:23:31,600 --> 00:23:35,700
SO THE REASON I'M SO EXCITED ABOUT THIS APPROACH IS I THINK IT REALLY OPENS UP IT IS POSSIBILITY

00:23:35,700 --> 00:23:38,210
OF GETTING A LOT MORE STUFF ON TO THE WEB ONCE WE

00:23:38,210 --> 00:23:40,660
PUT IN THE INITIAL WORK.

00:23:40,660 --> 00:23:43,930
SO LET ME CONCLUDE BY SIMPLY SAYING, I WOULD LOVE

00:23:43,930 --> 00:23:45,640
TO ENCOURAGE PEOPLE TO ADOPT THIS ATTITUDE OF

00:23:45,640 --> 00:23:48,330
FOLLOWING BUGS AGAINST THE WEB.

00:23:48,330 --> 00:23:50,970
WE REALLY SHOULDN'T SETTLE FOR THE WEB AS A

00:23:50,970 --> 00:23:53,600
SECOND CLASS COMPUTING PLATFORM AND IF THIS TURNS

00:23:53,600 --> 00:23:55,830
OUT TO BE A FAILED EXPERIMENT FOR WANT OF A

00:23:55,830 --> 00:23:59,020
VARIETY OF REASONS, AND ALL I'VE MANAGED TO DO IS

00:23:59,020 --> 00:24:03,330
IDENTIFY SOME BUGS IN THE WEB, THIS FAILED BECAUSE THE WEB SUCKS AT X, J, Z, THAT WILL

00:24:03,330 --> 00:24:06,460
BE A SUCCESS FOR ME AND I WANT TO TRY AND INSPIRE

00:24:06,460 --> 00:24:09,660
PEOPLE TO ASK MORE OF THE WEB AND HOPEFULLY WE

00:24:09,660 --> 00:24:14,800
CAN START TREATING IT AS A FIRST-CLASS COMPUTING PLATFORM RIGHT ACROSS THE SPECTRUM OF

00:24:14,800 --> 00:24:15,800
ENGINEERING.

00:24:15,800 --> 00:24:16,800
SO THANK YOU VERY MUCH.

00:24:16,800 --> 00:24:20,720
HOPEFULLY I'VE LEFT SOME TIME FOR QUESTIONS.

00:24:20,720 --> 00:24:28,220
[ Applause ] 01:04:47>> THANK YOU VERY MUCH, RYAN.

00:24:28,220 --> 00:24:30,660
WE DO HAVE TIME FOR QUESTIONS AND I BELIEVE THERE

00:24:30,660 --> 00:24:38,710
IS A MIC BACK HERE, SO IF YOU HAVE ANY QUESTIONS, PLEASE COME ASK THEM.

00:24:38,710 --> 00:24:41,460
>> HAVE YOU TRIED IT ON NODE?

00:24:41,460 --> 00:24:42,640
YES.

00:24:42,640 --> 00:24:43,830
* >> YES.

00:24:43,830 --> 00:24:47,620
YOU CAN ACTUALLY MPM INSTALL THIS THING, I HAVEN'T PUBLISHED THE LATEST VERSION BUT YOU

00:24:47,620 --> 00:24:51,480
CAN, AND IT'S EASIER THERE BECAUSE OF A VARIETIES

00:24:51,480 --> 00:24:53,910
OF THINGS WITH THE WAY INSCRIPTING WORKS.

00:24:53,910 --> 00:24:55,340
ONE OF THE THINGS I WOULD LIKE TO ACHIEVE IS

00:24:55,340 --> 00:25:03,590
RUNNING A WYJS APP UNDER NODE, TO SEE IF IT'S POSSIBLE, JUST FOR FUN.

00:25:03,590 --> 00:25:10,460
>> AUDIENCE: SO THERE'S BEEN TWO HISTORICAL PROJECTS IN PYPY, ONE IS TO USE CLAIM AND...

00:25:10,460 --> 00:25:15,290
[ Audio Indiscernible ] AND THEY FAILED FOR WHATEVER REASON, AND THERE

00:25:15,290 --> 00:25:19,550
WAS ALSO A JAVASCRIPT BACK IN THE DIOD.

00:25:19,550 --> 00:25:23,490
DID YOU LOOK AT THOSE, WERE YOU ABLE TO REUSE ANYTHING?

00:25:23,490 --> 00:25:28,770
>> SO THE QUESTION WAS ESSENTIALLY THERE HAVE BEEN LMVM BACK ENDS AND JAVA BACK ENDS FOR

00:25:28,770 --> 00:25:31,420
JAVASCRIPT IN THE PAST AND DID I LOOK AT THEM AND

00:25:31,420 --> 00:25:33,150
LEARN ANYTHING.

00:25:33,150 --> 00:25:35,240
I DID BRIEFLY.

00:25:35,240 --> 00:25:39,050
MY UNDERSTANDING IS THAT THESE SORT OF MORE OR

00:25:39,050 --> 00:25:43,720
LESS PREDATE THE WORK THAT'S BEEN DONE IN ENSCRIPTIN, RIGHT, SO THE ORIGINAL JAVASCRIPT

00:25:43,720 --> 00:25:46,140
BACK IN PYPY WAS TRYING TO TARGETS MORE OR LESS

00:25:46,140 --> 00:25:49,600
JAVASCRIPT, LIKE JAVASCRIPT OBJECTS AND SORT OF

00:25:49,600 --> 00:25:52,270
MORE LIKE THE JAVASCRIPT THAT YOU WRITE BY HAND.

00:25:52,270 --> 00:25:56,450
I THINK IT WAS EVENTUALLY ABANDONED AND RIPPED OUT AND DECLARED TO BE A TERRIBLE IDEA AND

00:25:56,450 --> 00:26:01,460
I AGREE BECAUSE PYTHON KNOT JAVASCRIPT.

00:26:01,460 --> 00:26:06,920
THE REASON I SORT OF DIDN'T HESITATE TO START THIS IS THAT THIS KIND OF SMJS AND ENSCRIPTIN,

00:26:06,920 --> 00:26:12,420
THE WEB AS A 32-PIT CPU IS PRETTY NEW SO IT BRINGS WITH IT A DIFFERENT SET OF CAPABILITIES

00:26:12,420 --> 00:26:14,860
AND TRADE-OFFS THAT SEEM TO BE WORKING OUT OKAY

00:26:14,860 --> 00:26:17,310
IN PRACTICE.

00:26:17,310 --> 00:26:21,790
>> AUDIENCE: HI.

00:26:21,790 --> 00:26:25,460
I'M CURIOUS, A FEW YEARS AGO, I WROTE JUST FOR

00:26:25,460 --> 00:26:31,270
SEVERAL REASONS A -- OUT OF THE PYTHON INTERPRETER, I WROTE A PYTHON PACKAGE I WAS

00:26:31,270 --> 00:26:33,430
ABLE TO INTERACT WITH THE JAVASCRIPT CORE ENGINE

00:26:33,430 --> 00:26:36,240
AND AT THAT POINT IT WAS WEB KIT JTTK WAS THE

00:26:36,240 --> 00:26:38,920
EASIEST THING I COULD USE TO BRING UP A BROWSER THROUGH

00:26:38,920 --> 00:26:41,150
PYTHON.

00:26:41,150 --> 00:26:43,150
I WAS ABLE TO WRITE CODE THAT WAS DIRECTLY ABLE

00:26:43,150 --> 00:26:46,700
TO INTERACT WITH JSON BEING AND THAT CAN INTERACT WITH THE PYTHON CODES.

00:26:46,700 --> 00:26:49,630
I'M WONDERING WHY DON'T WE EXPLORE OPTIONS OF

00:26:49,630 --> 00:26:54,660
PUTTING A PYTHON INTERPRETER INTO THE BROWSER AND

00:26:54,660 --> 00:26:58,920
USE TECHNOLOGIES THAT WOULD RUN THINGS EVEN FASTER THAN JAVASCRIPT BECAUSE IT'S RUNNING

00:26:58,920 --> 00:27:04,010
DIRECT PYTHON INTERPRETER IN THE BROWSER ITSELF, WITHOUT THE -- AND ACTUALLY CAN INTERACT WITH

00:27:04,010 --> 00:27:06,270
ANY JAVASCRIPT AT ALL THAT YOU PUT INTO THE WEB

00:27:06,270 --> 00:27:07,650
PAGE.

00:27:07,650 --> 00:27:09,250
>> I WOULD LOVE TO SEE THAT HAPPEN.

00:27:09,250 --> 00:27:12,910
THE DIFFICULTY IS NO ONE IS CAPABLE OF DOING THAT

00:27:12,910 --> 00:27:13,950
THEMSELVES, RIGHT?

00:27:13,950 --> 00:27:18,220
SO, I MEAN, GOOGLE AND CHROME ESSENTIALLY WANTED

00:27:18,220 --> 00:27:22,570
TO DO THE SAME THING, THIS IS A BETTER LANGUAGE THAN JAVASCRIPT, WE WANT TO SLIP THIS NATIVELY

00:27:22,570 --> 00:27:26,930
TO THE WEB AND DESPITE KIND OF THE CLOUT THEY

00:27:26,930 --> 00:27:29,880
HAVE WITH CHROME, THEY HAVEN'T BEEN ABLE TO DO

00:27:29,880 --> 00:27:30,880
THAT.

00:27:30,880 --> 00:27:36,070
AND SO IT'S NOT KIND OF WITHIN ANY ONE WEB VENDOR'S PALLOR TO TRY TO FORCE THIS FORWARD

00:27:36,070 --> 00:27:39,270
ON THE WEB AND IF WE SHIP FIREFOX -- WE SHIP

00:27:39,270 --> 00:27:43,400
PYTHON INSIDE FIREFOX, NOBODY'S GOING TO USE IT BECAUSE

00:27:43,400 --> 00:27:44,980
IT'S NOT AVAILABLE IN CHROME, NOT AVAILABLE IN

00:27:44,980 --> 00:27:46,870
INTERNET EXPLORER.

00:27:46,870 --> 00:27:51,210
MY KIND OF SECRET HOPE IS THAT WE CAN SHIP THIS

00:27:51,210 --> 00:27:54,080
KIND OF JAVASCRIPT SHENANIGANS AS A FALL-BACK.

00:27:54,080 --> 00:27:58,800
SO IF A BROWSER WAS ABLE TO SHIP A NATIVE IMPLEMENTATION OF A LANGUAGE, THEN YOU COULD

00:27:58,800 --> 00:28:01,100
USE IT ABOUT THE IF THEY'RE NOT, THEN IT'S OKAY

00:28:01,100 --> 00:28:03,140
TO FALL BACK TO THIS KIND OF COMPILED JAVASCRIPT

00:28:03,140 --> 00:28:04,860
IMPLEMENTATION.

00:28:04,860 --> 00:28:07,170
THAT'S ONE POTENTIAL WAY TO KIND OF BUILD UP

00:28:07,170 --> 00:28:11,970
COLLABORATIVELY OUT OF, YOU KNOW, THE SITUATION WE'RE IN RIGHT NOW, WHICH IS WHAT'S KIND OF

00:28:11,970 --> 00:28:16,740
THREE-WAY MEXICAN STAND-OFF WHERE NO BROWSER VENDOR WANTS TO -- OR EVERY BROWSER VENDOR

00:28:16,740 --> 00:28:19,500
WANTS TO IMPROVE STUFF BUT IN DIFFERENT WAYS.

00:28:19,500 --> 00:28:26,010
>> AUDIENCE: SO ONE USE CASE THAT WE'VE USED iPYTHON NOTEBOOK FOR IS HELPING PEOPLE LEARN

00:28:26,010 --> 00:28:28,680
PYTHON FROM THE BEGINNING, INTRODUCING THEM TO

00:28:28,680 --> 00:28:35,050
THE SYNTAX AND HOW IT MAKES THINGS FEEL WITHOUT THE BURDEN OF SETTING UP THEIR SYSTEMS BUT

00:28:35,050 --> 00:28:37,610
OBVIOUSLY PART OF THE CHALLENGE IS SOMEONE HAS TO

00:28:37,610 --> 00:28:41,740
RUN THE iPYTHON NOTEBOOK SOMEWHERE AND THAT SYSTEM IS BASICALLY INSECURE.

00:28:41,740 --> 00:28:47,770
SO YOU ALLUDED TO THIS BUT I'M CURIOUS WHO'S WORKING ON IT OR WHAT STATE IS IT IN, THE

00:28:47,770 --> 00:28:50,640
LOAD TIME WILL BE LARGE BUT IN THIS CONTEXT, THAT'S

00:28:50,640 --> 00:28:53,790
OKAY, THEY LOADED UP AT THE BEGINNING OF THE DAY

00:28:53,790 --> 00:28:58,480
AND THEN -- I MEAN, EVEN JUST USING -- EVEN JUST

00:28:58,480 --> 00:29:03,730
USING THE SORT OF EXAMPLE THAT YOU'RE SHOWING WOULD BE GREAT BUT HOW IS THE WORK GOING,

00:29:03,730 --> 00:29:07,200
PROGRESSING WITH COMBINING IT WITH iPYTHON NOTEBOOK AND IS THAT ACTUALLY GOING TO HAPPEN

00:29:07,200 --> 00:29:08,200
AND...

00:29:08,200 --> 00:29:11,200
IS IT PRODUCTION-READY FOR THOSE SORT OF PURPOSES?

00:29:11,200 --> 00:29:14,110
OR EVEN YOUR OWN LIBRARY BEING READY FOR PRODUCTION PURPOSES.

00:29:14,110 --> 00:29:17,440
>> SO PART OF THE REASON I PUT THAT MENTION OF

00:29:17,440 --> 00:29:20,970
iPYTHON ON MY SLIDES IS I WOULD LOVE TO FIND SOMEONE HERE AT THE CONFERENCE WHO'S INTERESTED

00:29:20,970 --> 00:29:23,170
IN THAT AND MAKE IT HAPPEN.

00:29:23,170 --> 00:29:27,170
I'M NOT AWARE OF ANYONE WORKING ON THAT RIGHT NOW, I JUST THINK IT WOULD BE COOL.

00:29:27,170 --> 00:29:32,490
I DON'T THINK IT WOULD BE -- LIKE THE iPYTHON STUFF IS REALLY WELL FACTORED, GOT EXCELLENT

00:29:32,490 --> 00:29:35,450
KIND OF PROTOCOLS FOR DOING COMMUNICATION BETWEEN

00:29:35,450 --> 00:29:38,010
THE FRONT END AND ENGINES AND SO FORTH, SO I THINK

00:29:38,010 --> 00:29:40,410
IT WOULD PROBABLY COME TOGETHER QUITE NICELY

00:29:40,410 --> 00:29:42,790
BUT I DON'T HAVE THE KIND OF KNOWLEDGE OR TIME TO

00:29:42,790 --> 00:29:43,790
BUILD IT MYSELF.

00:29:43,790 --> 00:29:44,790
I WOULD LOVE TO CONNECT WITH SOMEONE.

00:29:44,790 --> 00:29:46,890
IF SOMEONE IS INTERESTED IN TRYING TO PLUG THIS

00:29:46,890 --> 00:29:51,630
INTO iPYTHON NOTEBOOK AND SO FORTH, LET'S CONNECT SOMEHOW AT THIS CONFERENCE BECAUSE

00:29:51,630 --> 00:29:53,980
I THINK IT WOULD BE GREAT.

00:29:53,980 --> 00:29:59,050
>> AGAIN, RYAN, LET'S GIVE RYAN A ROUND OF APPLAUSE.

00:29:59,050 --> 00:30:00,050
>> THANK YOU.

00:30:00,050 --> 00:30:00,054

YouTube URL: https://www.youtube.com/watch?v=PiBfOFqDIAI


