Title: TALK   Paul Everitt   Static Sites with Sphinx and Markdown
Publication date: 2021-05-30
Playlist: PyCon US 2021
Description: 
	Everybody knows Sphinx for documenting projects, Python and otherwise. But few think of Sphinx for the rest of a website.

Why? Because Sphinx traditionally means authoring with reStructuredText instead of Markdown. While RST is very powerful, it's a bit quirky, and nowhere near the popularity of Markdown.

But with the arrival of full Markdown support MyST, and with static site generators having a renaissance, it's time to give Sphinx a second look. Sphinx is an "information-rich" static site generator, with rich linking and many other features for authoring a knowledge base.

This talk introduces Sphinx for websites, shows enabling MyST for Markdown, and compares what it has to offer versus other approaches. Weâ€™ll do a light treatment of customization. All the material in this talk comes from a published tutorial.
Captions: 
	00:00:04,170 --> 00:00:11,869
[Music]

00:00:13,920 --> 00:00:18,960
sphanx

00:00:15,360 --> 00:00:20,880
spanx spanx

00:00:18,960 --> 00:00:22,800
thank you my beloved pycon for letting

00:00:20,880 --> 00:00:25,840
me talk about python and

00:00:22,800 --> 00:00:28,800
the web and something old and marvelous

00:00:25,840 --> 00:00:30,320
sphinx thank you audience for joining me

00:00:28,800 --> 00:00:32,960
why am i outside

00:00:30,320 --> 00:00:34,399
well it's kind of nice out here but also

00:00:32,960 --> 00:00:34,880
i wanted you to think a little bit more

00:00:34,399 --> 00:00:37,040
about

00:00:34,880 --> 00:00:38,559
storytelling instead of thinking about

00:00:37,040 --> 00:00:40,960
the slides

00:00:38,559 --> 00:00:42,559
let's go on a little bit of a journey

00:00:40,960 --> 00:00:43,760
all the software details are available

00:00:42,559 --> 00:00:46,800
online anyway

00:00:43,760 --> 00:00:47,760
instead let's go for a walk through

00:00:46,800 --> 00:00:51,920
sphinx

00:00:47,760 --> 00:00:54,960
static websites sphynx markdown

00:00:51,920 --> 00:00:56,239
now i'll make it a static website it's

00:00:54,960 --> 00:01:00,640
going to be markdown

00:00:56,239 --> 00:01:03,600
it's going to be python obviously images

00:01:00,640 --> 00:01:04,640
kind of easy it's marked down after all

00:01:03,600 --> 00:01:07,840
just put a url

00:01:04,640 --> 00:01:08,880
some brackets and stuff i'm also going

00:01:07,840 --> 00:01:11,280
to have a role

00:01:08,880 --> 00:01:13,119
that links to a remote heading i'm gonna

00:01:11,280 --> 00:01:16,640
put in a talk tree

00:01:13,119 --> 00:01:20,799
i'm gonna render it see how it looks

00:01:16,640 --> 00:01:24,240
wait a second that's not markdown

00:01:20,799 --> 00:01:27,119
that's fakes hi i'm paul everett

00:01:24,240 --> 00:01:27,840
python oldster jetbrains developer

00:01:27,119 --> 00:01:31,600
advocate

00:01:27,840 --> 00:01:35,600
today we're going to be showing sphinx

00:01:31,600 --> 00:01:38,000
but with markdown thanks to mist

00:01:35,600 --> 00:01:38,880
the executable books project and the

00:01:38,000 --> 00:01:41,680
miss parser

00:01:38,880 --> 00:01:43,520
which brings mark down the sinks spheaks

00:01:41,680 --> 00:01:47,759
is a static site generator in

00:01:43,520 --> 00:01:50,960
ssg what is that and why should i care

00:01:47,759 --> 00:01:53,600
good question because i care

00:01:50,960 --> 00:01:54,320
a lot maybe a little bit too much and

00:01:53,600 --> 00:01:57,360
it's tied to

00:01:54,320 --> 00:01:59,439
python and the modern web let's take a

00:01:57,360 --> 00:02:02,880
look

00:01:59,439 --> 00:02:04,000
back in the good old days emphasis on

00:02:02,880 --> 00:02:07,600
old

00:02:04,000 --> 00:02:10,000
we had html files on disk had a url

00:02:07,600 --> 00:02:11,760
pointed to a file had html on it pretty

00:02:10,000 --> 00:02:13,920
simple

00:02:11,760 --> 00:02:15,360
even back in the very beginning though

00:02:13,920 --> 00:02:18,800
some of those html

00:02:15,360 --> 00:02:19,040
files at a url were actually served by

00:02:18,800 --> 00:02:22,640
an

00:02:19,040 --> 00:02:25,040
application instead of

00:02:22,640 --> 00:02:26,080
serving up a file on disk it would

00:02:25,040 --> 00:02:29,599
dynamically

00:02:26,080 --> 00:02:31,680
generate the html

00:02:29,599 --> 00:02:33,360
and these were thought of as kind of web

00:02:31,680 --> 00:02:36,800
applications

00:02:33,360 --> 00:02:40,879
the html will be rendered on the server

00:02:36,800 --> 00:02:42,640
and so you had ssr server side rendering

00:02:40,879 --> 00:02:45,120
you also had things that were hybrids

00:02:42,640 --> 00:02:47,920
like sphynx actually

00:02:45,120 --> 00:02:48,720
it was a python application that would

00:02:47,920 --> 00:02:50,879
run

00:02:48,720 --> 00:02:52,959
generate all those html files for you

00:02:50,879 --> 00:02:55,200
you didn't have to edit them by hand

00:02:52,959 --> 00:02:56,239
it would generate them based on the data

00:02:55,200 --> 00:02:59,280
that you provided

00:02:56,239 --> 00:03:00,400
restructured text files all was good in

00:02:59,280 --> 00:03:03,760
the garden

00:03:00,400 --> 00:03:05,120
but then a snake arrived single page

00:03:03,760 --> 00:03:08,959
applications

00:03:05,120 --> 00:03:10,480
spas and this was where javascript stuck

00:03:08,959 --> 00:03:13,040
its head in

00:03:10,480 --> 00:03:15,200
and people started writing a little bit

00:03:13,040 --> 00:03:17,200
of interactivity on the client

00:03:15,200 --> 00:03:19,280
at first all we used the javascript for

00:03:17,200 --> 00:03:21,040
was a little bit interactivity to spice

00:03:19,280 --> 00:03:23,519
up a button validate a field

00:03:21,040 --> 00:03:25,760
but then we moved the whole ui over to

00:03:23,519 --> 00:03:27,680
the browser written in javascript

00:03:25,760 --> 00:03:30,080
python folks were like we're okay with

00:03:27,680 --> 00:03:30,879
that we'll keep python on the server to

00:03:30,080 --> 00:03:34,720
generate the

00:03:30,879 --> 00:03:36,720
data well then these spa folks had a

00:03:34,720 --> 00:03:38,640
little bit of a problem

00:03:36,720 --> 00:03:39,840
their search engine optimization was

00:03:38,640 --> 00:03:42,480
terrible

00:03:39,840 --> 00:03:44,480
time to interactive was too low on the

00:03:42,480 --> 00:03:45,760
critical rendering path so they started

00:03:44,480 --> 00:03:48,000
pre-rendering

00:03:45,760 --> 00:03:51,040
the html on the server which meant you

00:03:48,000 --> 00:03:53,920
needed javascript on the server

00:03:51,040 --> 00:03:56,159
leaving not enough room for python and

00:03:53,920 --> 00:03:57,680
this becomes a big worry for me python

00:03:56,159 --> 00:04:00,480
on the modern web

00:03:57,680 --> 00:04:01,360
replacing python with javascript on the

00:04:00,480 --> 00:04:03,439
server

00:04:01,360 --> 00:04:04,720
let's have a better understanding of

00:04:03,439 --> 00:04:07,439
what we have

00:04:04,720 --> 00:04:08,080
in python and what we need back to

00:04:07,439 --> 00:04:11,120
sphinx

00:04:08,080 --> 00:04:12,080
synx is a tool traditionally thought of

00:04:11,120 --> 00:04:13,920
for docs

00:04:12,080 --> 00:04:15,920
there are other choices you can use make

00:04:13,920 --> 00:04:17,440
docs also written in python pretty cool

00:04:15,920 --> 00:04:20,160
project

00:04:17,440 --> 00:04:20,880
for static websites the topic of this

00:04:20,160 --> 00:04:23,120
talk

00:04:20,880 --> 00:04:24,160
we have other choices in python as well

00:04:23,120 --> 00:04:26,880
pelican

00:04:24,160 --> 00:04:28,240
probably the biggest known choice nicola

00:04:26,880 --> 00:04:30,400
one that has some interesting

00:04:28,240 --> 00:04:32,720
characteristics for really big sites

00:04:30,400 --> 00:04:34,560
and lecter a little bit newer than the

00:04:32,720 --> 00:04:36,800
others has a little bit more structure

00:04:34,560 --> 00:04:38,800
and then we have some non-python ones

00:04:36,800 --> 00:04:40,639
jekyll most known for his connection to

00:04:38,800 --> 00:04:42,720
github and being

00:04:40,639 --> 00:04:44,160
kind of old being around a while on this

00:04:42,720 --> 00:04:46,720
hugo written and go

00:04:44,160 --> 00:04:48,479
super fast and then the one i've been

00:04:46,720 --> 00:04:51,040
spending a lot of

00:04:48,479 --> 00:04:54,479
attention with recently gatsby kind of

00:04:51,040 --> 00:04:57,120
an exemplar of this modern web approach

00:04:54,479 --> 00:04:57,759
sphynx is a python application how does

00:04:57,120 --> 00:05:00,320
it work

00:04:57,759 --> 00:05:01,600
you point it at a big pile of files it

00:05:00,320 --> 00:05:03,840
runs some application

00:05:01,600 --> 00:05:05,360
code generates a big pile of output

00:05:03,840 --> 00:05:08,960
files a static

00:05:05,360 --> 00:05:12,400
website now i confess

00:05:08,960 --> 00:05:14,639
i care about this a lot probably

00:05:12,400 --> 00:05:16,560
a little more than it's healthy let's go

00:05:14,639 --> 00:05:20,000
ahead and jump directly into

00:05:16,560 --> 00:05:21,600
using sphynx with markdown getting syncs

00:05:20,000 --> 00:05:25,520
and markdown setup is

00:05:21,600 --> 00:05:28,160
about what you'd expect is python

00:05:25,520 --> 00:05:29,840
as you can imagine sphynx pretty well

00:05:28,160 --> 00:05:33,039
explained as a website

00:05:29,840 --> 00:05:35,360
got good docs shocking development

00:05:33,039 --> 00:05:37,919
installing sphinx also pretty easy lots

00:05:35,360 --> 00:05:39,759
of different ways documented conda etc

00:05:37,919 --> 00:05:42,880
for normal python usage

00:05:39,759 --> 00:05:44,320
pip install sphinx pretty simple it'll

00:05:42,880 --> 00:05:45,280
get all the dependencies and install

00:05:44,320 --> 00:05:47,280
them

00:05:45,280 --> 00:05:49,280
one of the things that pip that syncs

00:05:47,280 --> 00:05:51,280
will do when you pip install it

00:05:49,280 --> 00:05:52,320
it will generate a command line

00:05:51,280 --> 00:05:55,120
application

00:05:52,320 --> 00:05:56,400
called sphinx quickstart you can read

00:05:55,120 --> 00:05:59,520
about the options on it

00:05:56,400 --> 00:06:01,840
but this is a scaffold it will generate

00:05:59,520 --> 00:06:03,280
all the files needed for your site and a

00:06:01,840 --> 00:06:06,080
couple of example pages

00:06:03,280 --> 00:06:07,680
to help you get started well that's

00:06:06,080 --> 00:06:11,199
getting sphynx installed

00:06:07,680 --> 00:06:12,240
but how about for markdown this is where

00:06:11,199 --> 00:06:15,680
we go to the

00:06:12,240 --> 00:06:16,479
missed parser project it also has a good

00:06:15,680 --> 00:06:19,039
website

00:06:16,479 --> 00:06:21,199
it also has really good docs love to see

00:06:19,039 --> 00:06:24,560
that in our project installing

00:06:21,199 --> 00:06:28,560
mist also pretty simple pip install

00:06:24,560 --> 00:06:30,560
mist parser it gets a few dependencies

00:06:28,560 --> 00:06:32,160
including the markdown parser that they

00:06:30,560 --> 00:06:34,319
wrote for the project

00:06:32,160 --> 00:06:36,240
then after you have missed installed you

00:06:34,319 --> 00:06:36,639
need to go to your sphinx configuration

00:06:36,240 --> 00:06:39,600
file

00:06:36,639 --> 00:06:40,000
conf top pi and enable it isn't enough

00:06:39,600 --> 00:06:42,479
to just

00:06:40,000 --> 00:06:43,360
install it in your hopefully virtual

00:06:42,479 --> 00:06:46,000
environment

00:06:43,360 --> 00:06:48,319
you need to tell sphinx that it's there

00:06:46,000 --> 00:06:50,720
once you have this

00:06:48,319 --> 00:06:51,440
done in the comp file you can start

00:06:50,720 --> 00:06:54,240
using

00:06:51,440 --> 00:06:56,000
markdown and sphinx seems kind of really

00:06:54,240 --> 00:06:57,039
crazy and impressive but it works

00:06:56,000 --> 00:06:58,560
immediately

00:06:57,039 --> 00:07:00,160
how would you go ahead and start doing

00:06:58,560 --> 00:07:03,560
this one of the things

00:07:00,160 --> 00:07:05,520
thinks quickstart generates is a

00:07:03,560 --> 00:07:09,360
index.rst

00:07:05,520 --> 00:07:11,039
how about we change it to a index.md

00:07:09,360 --> 00:07:13,199
but that's not enough to just rename it

00:07:11,039 --> 00:07:14,160
to md the contents still have

00:07:13,199 --> 00:07:16,160
restructured text

00:07:14,160 --> 00:07:17,199
go in change contents to look like

00:07:16,160 --> 00:07:18,880
markdown

00:07:17,199 --> 00:07:21,680
this actually brings up an interesting

00:07:18,880 --> 00:07:24,960
point you can have

00:07:21,680 --> 00:07:25,680
mist in your site you can have markdown

00:07:24,960 --> 00:07:28,639
files

00:07:25,680 --> 00:07:29,199
in your site they can still sit side by

00:07:28,639 --> 00:07:31,120
side

00:07:29,199 --> 00:07:33,360
with your restructured text files so

00:07:31,120 --> 00:07:36,400
that you can gradually bit by bit

00:07:33,360 --> 00:07:37,840
switch over to using markdown now

00:07:36,400 --> 00:07:39,919
one last part about this let's talk

00:07:37,840 --> 00:07:41,680
about how this works what is miss parser

00:07:39,919 --> 00:07:44,400
really doing here

00:07:41,680 --> 00:07:46,160
little known fact syncs which sits on

00:07:44,400 --> 00:07:47,440
top of restructured text which is in

00:07:46,160 --> 00:07:50,639
docutiles

00:07:47,440 --> 00:07:51,440
docutels doesn't require restructured

00:07:50,639 --> 00:07:53,919
text

00:07:51,440 --> 00:07:55,840
kind of a surprise it just happens to be

00:07:53,919 --> 00:07:58,160
the one and only

00:07:55,840 --> 00:07:59,360
parser syntax format that has been

00:07:58,160 --> 00:08:03,039
implemented so far

00:07:59,360 --> 00:08:06,000
so the miss folks went in

00:08:03,039 --> 00:08:06,879
created a new docutils parser for

00:08:06,000 --> 00:08:09,120
markdown

00:08:06,879 --> 00:08:10,879
instead of restructured text when you go

00:08:09,120 --> 00:08:12,960
on the other side of it

00:08:10,879 --> 00:08:14,800
restructure texts and sphinx don't know

00:08:12,960 --> 00:08:15,919
that it wasn't restructured text on the

00:08:14,800 --> 00:08:19,919
other side

00:08:15,919 --> 00:08:23,199
it's a docutel's parser once you do this

00:08:19,919 --> 00:08:26,160
a voila you're making a website

00:08:23,199 --> 00:08:27,599
the website is in markdown and it's in

00:08:26,160 --> 00:08:29,599
sphinx

00:08:27,599 --> 00:08:31,599
it's markdown's world we're all just

00:08:29,599 --> 00:08:34,719
living in it markdown

00:08:31,599 --> 00:08:35,519
really popular really simple but what is

00:08:34,719 --> 00:08:37,680
markdown

00:08:35,519 --> 00:08:38,719
let's take a look at kind of a simple

00:08:37,680 --> 00:08:42,479
markdown

00:08:38,719 --> 00:08:45,200
in mist and thus in syncs

00:08:42,479 --> 00:08:46,240
let's go over some basic formatting here

00:08:45,200 --> 00:08:49,120
you can see

00:08:46,240 --> 00:08:49,600
a heading with a single hash in front of

00:08:49,120 --> 00:08:51,920
it

00:08:49,600 --> 00:08:53,040
you can see a paragraph just blank lines

00:08:51,920 --> 00:08:54,959
things that you would expect from

00:08:53,040 --> 00:08:58,640
restructured text as well

00:08:54,959 --> 00:09:01,920
you can see unordered list you can see a

00:08:58,640 --> 00:09:05,200
link which is a notably different syntax

00:09:01,920 --> 00:09:07,120
i'd say easier syntax than in

00:09:05,200 --> 00:09:08,800
restructured text if you're familiar

00:09:07,120 --> 00:09:09,760
with markdown you're probably familiar

00:09:08,800 --> 00:09:12,880
with markdown

00:09:09,760 --> 00:09:14,240
images another really simple syntax

00:09:12,880 --> 00:09:16,480
one of the reasons people prefer

00:09:14,240 --> 00:09:18,560
markdown over restructured text

00:09:16,480 --> 00:09:19,600
even this though kind of begins to get

00:09:18,560 --> 00:09:22,800
us into the

00:09:19,600 --> 00:09:25,760
why is this really cool because what

00:09:22,800 --> 00:09:26,880
nist is doing with this simple markdown

00:09:25,760 --> 00:09:29,920
text

00:09:26,880 --> 00:09:31,120
and pumping it into sphynx is a lot more

00:09:29,920 --> 00:09:34,160
than you'd expect

00:09:31,120 --> 00:09:37,519
why do i say that you can generate a pdf

00:09:34,160 --> 00:09:38,000
that includes that image that you put in

00:09:37,519 --> 00:09:40,640
using

00:09:38,000 --> 00:09:41,680
that markdown tag there's a little bit

00:09:40,640 --> 00:09:44,640
more you can do with

00:09:41,680 --> 00:09:45,600
images than just that single line format

00:09:44,640 --> 00:09:48,160
you can do an

00:09:45,600 --> 00:09:48,880
enhanced image syntax that lets you put

00:09:48,160 --> 00:09:51,920
in

00:09:48,880 --> 00:09:54,000
some arguments and some options

00:09:51,920 --> 00:09:55,440
really what you're doing here is just

00:09:54,000 --> 00:10:00,240
using markdown

00:09:55,440 --> 00:10:03,680
as a thin veneer over the directive

00:10:00,240 --> 00:10:04,160
in sphinx synx has this cool construct

00:10:03,680 --> 00:10:07,200
called

00:10:04,160 --> 00:10:10,160
admonitions warnings nodes

00:10:07,200 --> 00:10:13,200
info danger things like that you can do

00:10:10,160 --> 00:10:16,720
those with the markdown syntax as well

00:10:13,200 --> 00:10:19,279
this directive introduces one more piece

00:10:16,720 --> 00:10:20,720
beyond the directive argument options it

00:10:19,279 --> 00:10:22,800
also has a body

00:10:20,720 --> 00:10:25,279
and the body is in markdown that's

00:10:22,800 --> 00:10:28,959
what's going to go in that box

00:10:25,279 --> 00:10:32,560
ammunitions also have an enhanced flavor

00:10:28,959 --> 00:10:35,200
thanks to mist this is turned on

00:10:32,560 --> 00:10:36,720
in the comp file if you want it it's a

00:10:35,200 --> 00:10:39,920
colon syntax

00:10:36,720 --> 00:10:43,760
why so that you can have the markdown

00:10:39,920 --> 00:10:46,000
body in the directive rendered in some

00:10:43,760 --> 00:10:48,000
tools like here you see in my ide

00:10:46,000 --> 00:10:51,040
we're actually rendering the markdown so

00:10:48,000 --> 00:10:52,240
that you can see it okay

00:10:51,040 --> 00:10:54,240
take a look at another thing that's

00:10:52,240 --> 00:10:56,720
important in sphinx a talk tree

00:10:54,240 --> 00:10:59,040
how does that look in markdown about

00:10:56,720 --> 00:11:01,440
like what you would expect

00:10:59,040 --> 00:11:03,120
here's an example though of providing

00:11:01,440 --> 00:11:06,000
your uh

00:11:03,120 --> 00:11:07,680
options to your directive instead of

00:11:06,000 --> 00:11:10,800
with the colon colon

00:11:07,680 --> 00:11:13,519
syntax from sphinx and restructured text

00:11:10,800 --> 00:11:14,640
using yaml that's a really cool thing

00:11:13,519 --> 00:11:16,480
from mist

00:11:14,640 --> 00:11:18,079
allowing you to provide your arguments

00:11:16,480 --> 00:11:21,440
using gamble

00:11:18,079 --> 00:11:23,680
so simple markdown is simple about what

00:11:21,440 --> 00:11:26,079
you'd expect when you're in mist

00:11:23,680 --> 00:11:28,640
but remember this is just a thin vernier

00:11:26,079 --> 00:11:30,880
over the directives that you get

00:11:28,640 --> 00:11:32,320
in sphinx and all these map with

00:11:30,880 --> 00:11:35,200
directive arguments

00:11:32,320 --> 00:11:37,120
options body content rich sites have a

00:11:35,200 --> 00:11:39,600
lot of structure including links

00:11:37,120 --> 00:11:41,519
sphynx has always been great at this

00:11:39,600 --> 00:11:43,040
with some surprising features that

00:11:41,519 --> 00:11:44,880
people coming from other static site

00:11:43,040 --> 00:11:47,440
generators really aren't expecting

00:11:44,880 --> 00:11:48,640
let's take a look at how linking

00:11:47,440 --> 00:11:50,959
surfaces

00:11:48,640 --> 00:11:53,279
sphinx linking surfaces when you're

00:11:50,959 --> 00:11:56,160
using nested markdown

00:11:53,279 --> 00:11:56,720
simplest example external url pretty

00:11:56,160 --> 00:11:59,040
simple

00:11:56,720 --> 00:12:00,880
you just put the url in the brackets you

00:11:59,040 --> 00:12:03,920
put the link text in front of it

00:12:00,880 --> 00:12:04,399
we're all good internal url pretty

00:12:03,920 --> 00:12:06,800
similar

00:12:04,399 --> 00:12:08,160
instead of http column blue you just put

00:12:06,800 --> 00:12:10,000
some kind of path

00:12:08,160 --> 00:12:11,279
this will also tell the static site

00:12:10,000 --> 00:12:13,839
generator to

00:12:11,279 --> 00:12:15,920
copy that file to the output so that

00:12:13,839 --> 00:12:18,959
you've got it in your build directory

00:12:15,920 --> 00:12:20,000
now here's a cool one and when i give

00:12:18,959 --> 00:12:22,079
tutorials on this

00:12:20,000 --> 00:12:24,320
it always kind of surprises people this

00:12:22,079 --> 00:12:27,120
is an example of doing a link

00:12:24,320 --> 00:12:27,839
pointing to the path nothing in the link

00:12:27,120 --> 00:12:29,920
text

00:12:27,839 --> 00:12:31,040
where does the link text come from

00:12:29,920 --> 00:12:32,720
sphinx has

00:12:31,040 --> 00:12:34,880
structure the thing i like the most

00:12:32,720 --> 00:12:35,600
about sphinx it knows the thing you're

00:12:34,880 --> 00:12:37,120
pointing at

00:12:35,600 --> 00:12:39,519
it knows the title of the thing you're

00:12:37,120 --> 00:12:41,519
pointing up and it will put that title

00:12:39,519 --> 00:12:44,880
in the link text and that's really

00:12:41,519 --> 00:12:46,639
helpful really cuts down the work

00:12:44,880 --> 00:12:48,160
what if you point at something that

00:12:46,639 --> 00:12:50,320
doesn't exist

00:12:48,160 --> 00:12:52,000
you point to a page in your site and you

00:12:50,320 --> 00:12:54,160
rename that page later

00:12:52,000 --> 00:12:55,360
a lot of these other systems they won't

00:12:54,160 --> 00:12:57,760
warn you about it

00:12:55,360 --> 00:12:58,480
you have to go write some kind of script

00:12:57,760 --> 00:13:01,040
to go check

00:12:58,480 --> 00:13:01,839
all of your links sphinx knows your

00:13:01,040 --> 00:13:03,680
structure

00:13:01,839 --> 00:13:04,880
it knows you're pointing at something it

00:13:03,680 --> 00:13:08,079
doesn't exist

00:13:04,880 --> 00:13:10,800
it will give you a warning on that now

00:13:08,079 --> 00:13:12,320
into the part it's kind of freaky but

00:13:10,800 --> 00:13:13,600
really useful when you're building a

00:13:12,320 --> 00:13:15,680
knowledge base

00:13:13,600 --> 00:13:17,760
what if you want to point not to a

00:13:15,680 --> 00:13:21,040
document but to a place

00:13:17,760 --> 00:13:22,720
in a document like a heading in sphinx

00:13:21,040 --> 00:13:25,200
these are called roles

00:13:22,720 --> 00:13:26,399
and you can define a role somewhere in a

00:13:25,200 --> 00:13:29,600
document

00:13:26,399 --> 00:13:31,279
and then link to it so in the other side

00:13:29,600 --> 00:13:33,200
maybe above the heading

00:13:31,279 --> 00:13:34,639
you would put this little syntax and

00:13:33,200 --> 00:13:37,120
you've introduced new

00:13:34,639 --> 00:13:38,079
structure into your site not just the

00:13:37,120 --> 00:13:40,160
file name

00:13:38,079 --> 00:13:43,279
but the part of the file name and it

00:13:40,160 --> 00:13:44,639
becomes a linkable target

00:13:43,279 --> 00:13:46,800
like the other things we just talked

00:13:44,639 --> 00:13:47,199
about what if you when you're linking to

00:13:46,800 --> 00:13:49,360
it

00:13:47,199 --> 00:13:51,440
don't want to put the link text you want

00:13:49,360 --> 00:13:54,720
to say whatever the heading has

00:13:51,440 --> 00:13:57,760
go use that as link text you betcha

00:13:54,720 --> 00:14:00,560
syncs or the mist will let you do that

00:13:57,760 --> 00:14:01,199
what if you want to override the link

00:14:00,560 --> 00:14:03,040
text

00:14:01,199 --> 00:14:04,240
from the thing that's over there there's

00:14:03,040 --> 00:14:05,760
a syntax for that

00:14:04,240 --> 00:14:07,279
if you've used sphanx you'll probably be

00:14:05,760 --> 00:14:09,839
familiar with it

00:14:07,279 --> 00:14:10,639
now onto the one i think roles are

00:14:09,839 --> 00:14:14,079
pretty freaky

00:14:10,639 --> 00:14:16,720
but uh inter sphinx is really freaky

00:14:14,079 --> 00:14:18,399
when you're building a site of sites a

00:14:16,720 --> 00:14:20,160
network of sites

00:14:18,399 --> 00:14:21,519
maybe you'd like to be able to link to

00:14:20,160 --> 00:14:24,560
something out there

00:14:21,519 --> 00:14:25,440
the python talks the sphynx stocks the

00:14:24,560 --> 00:14:28,639
miss docs

00:14:25,440 --> 00:14:32,399
your corporate sites website

00:14:28,639 --> 00:14:35,040
you can have symbols defined over there

00:14:32,399 --> 00:14:36,800
and use this inter sphinx thing to go

00:14:35,040 --> 00:14:40,000
load those symbols locally

00:14:36,800 --> 00:14:44,320
and make them roles as if they were

00:14:40,000 --> 00:14:45,839
local to your website really useful

00:14:44,320 --> 00:14:47,680
and when you're building one of these

00:14:45,839 --> 00:14:49,279
networks i don't really think that any

00:14:47,680 --> 00:14:50,320
of the other static site generators even

00:14:49,279 --> 00:14:53,279
try to do this

00:14:50,320 --> 00:14:55,040
so sphinx linking really the thing that

00:14:53,279 --> 00:14:57,360
i love about sphynx

00:14:55,040 --> 00:14:58,880
really useful really powerful when

00:14:57,360 --> 00:14:59,839
you're making knowledge bases and things

00:14:58,880 --> 00:15:02,160
like that

00:14:59,839 --> 00:15:04,320
mist has a whole bunch of syntax for

00:15:02,160 --> 00:15:07,120
making that friendly and marked down

00:15:04,320 --> 00:15:07,760
we're talking about websites not docs

00:15:07,120 --> 00:15:10,000
and

00:15:07,760 --> 00:15:11,440
sometimes especially in our field we

00:15:10,000 --> 00:15:14,720
have a big knowledge base

00:15:11,440 --> 00:15:17,680
and it's got some code in it we need to

00:15:14,720 --> 00:15:18,399
show snippets of that code along with

00:15:17,680 --> 00:15:20,639
the

00:15:18,399 --> 00:15:22,160
information on our website the content

00:15:20,639 --> 00:15:24,240
the docs and things like that

00:15:22,160 --> 00:15:25,680
sphinx is great at this it's been great

00:15:24,240 --> 00:15:30,000
at this for a long time

00:15:25,680 --> 00:15:30,000
but how does it look in markdown

00:15:30,800 --> 00:15:33,839
if you know markdown you know about code

00:15:32,800 --> 00:15:36,560
fences they're

00:15:33,839 --> 00:15:37,279
kind of the same idea in sphinx with

00:15:36,560 --> 00:15:40,160
mist

00:15:37,279 --> 00:15:40,720
triple back text you put your code in by

00:15:40,160 --> 00:15:43,519
default

00:15:40,720 --> 00:15:44,880
it's python 3 i believe is the syntax

00:15:43,519 --> 00:15:46,959
that it's using

00:15:44,880 --> 00:15:49,040
code fences can go a little bit further

00:15:46,959 --> 00:15:50,880
than just this basic syntax

00:15:49,040 --> 00:15:52,079
and you can say that this is the

00:15:50,880 --> 00:15:54,880
language

00:15:52,079 --> 00:15:56,240
of the code that's in the code fence and

00:15:54,880 --> 00:16:00,320
if you look closely

00:15:56,240 --> 00:16:02,480
the curly brackets it says code block

00:16:00,320 --> 00:16:04,639
which kind of gives the game away this

00:16:02,480 --> 00:16:07,360
is just what we talked about before

00:16:04,639 --> 00:16:08,079
a directive that's being surfaced in

00:16:07,360 --> 00:16:10,160
mist

00:16:08,079 --> 00:16:12,240
using the curly brackets it has an

00:16:10,160 --> 00:16:13,680
argument after it which is the language

00:16:12,240 --> 00:16:16,480
that we want for the snippet

00:16:13,680 --> 00:16:19,040
and then the body which is the code that

00:16:16,480 --> 00:16:22,800
is part of the code snippet

00:16:19,040 --> 00:16:24,240
now that is really cool and maps a lot

00:16:22,800 --> 00:16:25,360
to what all the other static site

00:16:24,240 --> 00:16:27,360
generators do

00:16:25,360 --> 00:16:29,440
something you either don't see in the

00:16:27,360 --> 00:16:30,560
others but if they have it it's really

00:16:29,440 --> 00:16:33,279
clumsy

00:16:30,560 --> 00:16:34,800
including code from a file because who

00:16:33,279 --> 00:16:36,800
wants to have all your code right in the

00:16:34,800 --> 00:16:39,440
middle of a markdown file

00:16:36,800 --> 00:16:40,480
slinks can include a file using literal

00:16:39,440 --> 00:16:42,959
include

00:16:40,480 --> 00:16:43,839
can you do that in mist can you do it in

00:16:42,959 --> 00:16:46,320
markdown

00:16:43,839 --> 00:16:48,399
vms of course it's just another

00:16:46,320 --> 00:16:51,519
directive that gets exposed

00:16:48,399 --> 00:16:53,600
within the code fence syntax

00:16:51,519 --> 00:16:55,519
the literal include directive it's a

00:16:53,600 --> 00:16:57,519
directive with an argument

00:16:55,519 --> 00:16:59,360
it can also have some options these

00:16:57,519 --> 00:17:01,360
options can be expressed in the

00:16:59,360 --> 00:17:02,480
restructured text syntax with colon

00:17:01,360 --> 00:17:05,679
colon or

00:17:02,480 --> 00:17:07,360
as we saw before in yaml syntax that's

00:17:05,679 --> 00:17:10,799
what i prefer

00:17:07,360 --> 00:17:13,199
so that's code block that's literal

00:17:10,799 --> 00:17:13,839
include is there something bigger than

00:17:13,199 --> 00:17:15,280
that

00:17:13,839 --> 00:17:18,480
something that can automatically

00:17:15,280 --> 00:17:21,679
document my code yes sphinx has autodoc

00:17:18,480 --> 00:17:25,280
and it's available when you're using

00:17:21,679 --> 00:17:28,880
mist and using markdown the example here

00:17:25,280 --> 00:17:30,640
shows a python class and so it's in the

00:17:28,880 --> 00:17:33,840
domain of pi

00:17:30,640 --> 00:17:35,440
it's a class and then some syntax that

00:17:33,840 --> 00:17:38,240
points at the dotted path

00:17:35,440 --> 00:17:39,360
to the file this is just the tip of the

00:17:38,240 --> 00:17:41,760
iceberg

00:17:39,360 --> 00:17:43,520
for what is possible with autodoc lots

00:17:41,760 --> 00:17:46,320
of other examples

00:17:43,520 --> 00:17:47,840
but as a note it's not for doc strings

00:17:46,320 --> 00:17:49,280
they still have to be in restructured

00:17:47,840 --> 00:17:51,280
text

00:17:49,280 --> 00:17:53,280
synx has a lot to offer and thanks to

00:17:51,280 --> 00:17:55,679
chris and chris from the executable

00:17:53,280 --> 00:17:56,240
books project with their mist parser and

00:17:55,679 --> 00:17:59,120
all the

00:17:56,240 --> 00:18:00,000
layers underneath it you can tap into

00:17:59,120 --> 00:18:01,919
all of that

00:18:00,000 --> 00:18:03,120
power that's in sphinx that's been there

00:18:01,919 --> 00:18:04,559
forever

00:18:03,120 --> 00:18:07,039
and now you can do it from within the

00:18:04,559 --> 00:18:09,760
cozy nice confines of

00:18:07,039 --> 00:18:11,840
markdown documents and its syntax

00:18:09,760 --> 00:18:14,880
there's so much more that we could cover

00:18:11,840 --> 00:18:16,480
um i chose to leave it out front matter

00:18:14,880 --> 00:18:18,080
which for me is personally kind of

00:18:16,480 --> 00:18:20,799
exciting a way to

00:18:18,080 --> 00:18:22,240
put structure about your documents at

00:18:20,799 --> 00:18:23,919
the beginning of your files you're

00:18:22,240 --> 00:18:27,200
probably familiar with front matter

00:18:23,919 --> 00:18:29,360
from jekyll and hugo the ammo that you

00:18:27,200 --> 00:18:31,840
put before your markdown

00:18:29,360 --> 00:18:34,799
substitutions which let you have really

00:18:31,840 --> 00:18:35,600
a powerful syntax for reusing snippets

00:18:34,799 --> 00:18:39,039
of

00:18:35,600 --> 00:18:42,320
information content even configured

00:18:39,039 --> 00:18:45,280
directives within one document or

00:18:42,320 --> 00:18:46,080
across your entire site you can also do

00:18:45,280 --> 00:18:48,720
includes

00:18:46,080 --> 00:18:50,640
if you've got a bunch of markdown that

00:18:48,720 --> 00:18:52,640
needs to be on every site maybe

00:18:50,640 --> 00:18:54,080
the footer or something like that you

00:18:52,640 --> 00:18:57,120
can move it out of the template

00:18:54,080 --> 00:18:58,160
into markdown and use include syntax to

00:18:57,120 --> 00:18:59,600
have a snippet

00:18:58,160 --> 00:19:02,320
that is shared across all of your

00:18:59,600 --> 00:19:02,960
documents and then the big enchilada one

00:19:02,320 --> 00:19:06,480
which is

00:19:02,960 --> 00:19:10,000
sphynx isn't just about generating html

00:19:06,480 --> 00:19:12,640
you can do pdf you can do

00:19:10,000 --> 00:19:13,440
man pages lots of different kinds of

00:19:12,640 --> 00:19:16,400
outputs

00:19:13,440 --> 00:19:17,280
you can still get that with mist and

00:19:16,400 --> 00:19:19,520
markdown

00:19:17,280 --> 00:19:22,000
because as we said before it's just

00:19:19,520 --> 00:19:24,799
docutills under the covers

00:19:22,000 --> 00:19:25,440
so a lot of cool things that we can do

00:19:24,799 --> 00:19:28,000
beyond

00:19:25,440 --> 00:19:29,600
just generating the website lots that

00:19:28,000 --> 00:19:31,360
you can read as well

00:19:29,600 --> 00:19:32,640
plenty of docs and information on the

00:19:31,360 --> 00:19:34,559
syncs website

00:19:32,640 --> 00:19:37,360
on the myth site love the missed website

00:19:34,559 --> 00:19:39,440
they really wrote it up really well

00:19:37,360 --> 00:19:41,200
you can also take a look at all these

00:19:39,440 --> 00:19:43,600
presentations over the years brandon

00:19:41,200 --> 00:19:44,880
rhodes has had great tutorials at pycon

00:19:43,600 --> 00:19:47,200
about sphinx and stuff

00:19:44,880 --> 00:19:50,080
that all applies here because markdown

00:19:47,200 --> 00:19:51,440
is now just a parser syntax that feeds

00:19:50,080 --> 00:19:53,760
into sphinx

00:19:51,440 --> 00:19:56,080
also in may i'm going to be working with

00:19:53,760 --> 00:20:00,160
michael kennedy and talk python training

00:19:56,080 --> 00:20:02,799
to announce a course on this

00:20:00,160 --> 00:20:04,640
static websites with syncs and markdown

00:20:02,799 --> 00:20:06,240
so go over to his website take a look

00:20:04,640 --> 00:20:08,080
out for it

00:20:06,240 --> 00:20:09,919
what's the future on all this well

00:20:08,080 --> 00:20:10,720
there's kind of a couple of futures to

00:20:09,919 --> 00:20:12,799
talk about

00:20:10,720 --> 00:20:15,360
what's the future of sphinx what do we

00:20:12,799 --> 00:20:17,039
want out of syncs

00:20:15,360 --> 00:20:19,280
it's an open question do we want it to

00:20:17,039 --> 00:20:21,440
just be docs

00:20:19,280 --> 00:20:22,720
or do we want it to be for entire

00:20:21,440 --> 00:20:24,960
websites

00:20:22,720 --> 00:20:25,760
in modern web which brings us to the

00:20:24,960 --> 00:20:28,400
question about

00:20:25,760 --> 00:20:29,039
what do we want for python in the modern

00:20:28,400 --> 00:20:31,120
web

00:20:29,039 --> 00:20:34,080
do we want it to be more competitive

00:20:31,120 --> 00:20:35,600
with these front-end solutions

00:20:34,080 --> 00:20:37,280
all of this kind of brings me to my

00:20:35,600 --> 00:20:40,720
closing point

00:20:37,280 --> 00:20:43,039
sphinx sphinx is heroic

00:20:40,720 --> 00:20:44,000
it's been doing this year after year

00:20:43,039 --> 00:20:47,280
after year

00:20:44,000 --> 00:20:50,080
bug fixes and bug fixes now we can do

00:20:47,280 --> 00:20:52,320
static websites with sphynx thanks to

00:20:50,080 --> 00:20:54,480
the markdown integration

00:20:52,320 --> 00:20:56,720
and thanks to the work by chris and

00:20:54,480 --> 00:20:58,960
chris for the missed parser

00:20:56,720 --> 00:21:03,840
thank you for watching this presentation

00:20:58,960 --> 00:21:03,840
and thank you for going to pycon

00:22:06,720 --> 00:22:08,799

YouTube URL: https://www.youtube.com/watch?v=YclYtM56qjo


