Title: CppCon 2017: Takatoshi Kondo “mqtt_cpp: Boost.Asio based mqtt communication library”
Publication date: 2017-10-22
Playlist: CppCon 2017 Lightning Talks
Description: 
	http://CppCon.org
—
Presentation Slides, PDFs, Source Code and other presenter materials are available at: https://github.com/CppCon/CppCon2017
—
Lightning Talk
— 
Videos Filmed & Edited by Bash Films: http://www.BashFilms.com
Captions: 
	00:00:00,030 --> 00:00:06,120
hello everyone I really introduced MQTT

00:00:03,210 --> 00:00:07,290
cpp booster a zero-based mqtt

00:00:06,120 --> 00:00:09,900
communication library

00:00:07,290 --> 00:00:12,509
my name is taka Toshi condo I'm from

00:00:09,900 --> 00:00:16,430
Japan I'm working for oh geez I'm

00:00:12,509 --> 00:00:20,730
developing scalable MQTT based messaging

00:00:16,430 --> 00:00:25,500
platform named a message public grass it

00:00:20,730 --> 00:00:29,160
uses mqtt CPP I contribute some open

00:00:25,500 --> 00:00:32,730
source projects MQTT is a communication

00:00:29,160 --> 00:00:35,910
protocol for IOT MQTT is based on

00:00:32,730 --> 00:00:39,899
possible model it's very lightweight

00:00:35,910 --> 00:00:44,219
protocol it's connection based protocol

00:00:39,899 --> 00:00:48,000
different from HTTP REST let me show you

00:00:44,219 --> 00:00:50,730
the concept of possible model we can use

00:00:48,000 --> 00:00:53,969
multiple subscribers publishes and the

00:00:50,730 --> 00:00:57,510
topics subscribers can subscribe any

00:00:53,969 --> 00:01:02,340
topics for example subscriber one

00:00:57,510 --> 00:01:05,939
subscribes topic a and B subscriber to

00:01:02,340 --> 00:01:09,770
subscribes topic B then publisher one

00:01:05,939 --> 00:01:12,689
publishes the message hello to topic a

00:01:09,770 --> 00:01:16,200
then the message is delivered to

00:01:12,689 --> 00:01:19,530
subscriber one publisher twos publishes

00:01:16,200 --> 00:01:22,610
the message world to topic B in this

00:01:19,530 --> 00:01:26,909
case the message is delivered to both

00:01:22,610 --> 00:01:30,299
subscriber one and two the left hand

00:01:26,909 --> 00:01:33,180
side are implemented as grant and the

00:01:30,299 --> 00:01:39,350
right-hand side is implemented as server

00:01:33,180 --> 00:01:43,259
in mqtt domain the server called broker

00:01:39,350 --> 00:01:46,770
mqtt support the newest MQTT cpp support

00:01:43,259 --> 00:01:50,270
the newest version of MQTT protocol 3.2

00:01:46,770 --> 00:01:53,460
1.1 I have a brand to support the next

00:01:50,270 --> 00:01:57,360
standard mqtt pipe currently not

00:01:53,460 --> 00:01:59,759
accepted at the standard yet its hidari

00:01:57,360 --> 00:02:01,530
library both asynchronous and

00:01:59,759 --> 00:02:05,579
synchronous operations are supported

00:02:01,530 --> 00:02:06,990
like boost asian you can create grant

00:02:05,579 --> 00:02:10,640
application using the current

00:02:06,990 --> 00:02:12,530
functionality also you can create your

00:02:10,640 --> 00:02:17,380
Tom Brokaw using server functionality

00:02:12,530 --> 00:02:20,900
it's open-source booster I sensed in qtt

00:02:17,380 --> 00:02:23,920
cpp support for variation of mqtt

00:02:20,900 --> 00:02:27,610
connection there is a protocol stack

00:02:23,920 --> 00:02:34,250
from the left to the right

00:02:27,610 --> 00:02:39,890
mqtt on tcp meq t TT RS on cpp it's

00:02:34,250 --> 00:02:43,490
usually cord into TTS MQTT on WS s TLS

00:02:39,890 --> 00:02:46,600
version of web socket and mqtt on

00:02:43,490 --> 00:02:50,780
WebSocket thank you for boost the Beast

00:02:46,600 --> 00:02:53,870
congratulations Vinny let me show you a

00:02:50,780 --> 00:02:57,560
code example first include the header

00:02:53,870 --> 00:03:01,040
file then define i/o service object then

00:02:57,560 --> 00:03:04,160
create grant with a service object host

00:03:01,040 --> 00:03:08,000
name and the port and setup mqtt

00:03:04,160 --> 00:03:11,600
parameters then set up hundreds in this

00:03:08,000 --> 00:03:14,840
example I implemented only connect to

00:03:11,600 --> 00:03:18,530
hundra Canuck means connect

00:03:14,840 --> 00:03:20,840
acknowledgment if MQTT connection such

00:03:18,530 --> 00:03:24,019
is successfully established then

00:03:20,840 --> 00:03:27,230
subscribe topic 1 the boolean return

00:03:24,019 --> 00:03:29,560
code tells continua not continue a

00:03:27,230 --> 00:03:34,030
synchronous process to the library

00:03:29,560 --> 00:03:38,780
noting the example dal MQTT cpp provides

00:03:34,030 --> 00:03:41,750
various functions and hundreds for

00:03:38,780 --> 00:03:42,260
example publish function receiving

00:03:41,750 --> 00:03:46,519
messages

00:03:42,260 --> 00:03:49,940
Dondre on cross hundra and so on after

00:03:46,519 --> 00:03:52,400
setup we are finished then called

00:03:49,940 --> 00:03:55,670
connect o member function finally core

00:03:52,400 --> 00:03:59,000
IO service remember function it's basic

00:03:55,670 --> 00:04:02,209
Manabu stays your best application let

00:03:59,000 --> 00:04:05,780
me show you a simple demo my iPhone

00:04:02,209 --> 00:04:08,360
becomes a session sensor and my pc

00:04:05,780 --> 00:04:12,049
becomes a monitor both connected to the

00:04:08,360 --> 00:04:14,989
broker on the breast easy to the monitor

00:04:12,049 --> 00:04:18,400
subscribe the topic for acceleration

00:04:14,989 --> 00:04:22,099
data then the acceleration sensor

00:04:18,400 --> 00:04:27,530
publishes the data to broker the data

00:04:22,099 --> 00:04:31,280
format is message pack the broker uses

00:04:27,530 --> 00:04:36,400
MQTT server both tensor and monitor our

00:04:31,280 --> 00:04:46,669
web browser for demo I use mqtt dot J's

00:04:36,400 --> 00:04:50,539
to connect to the broker ok this is the

00:04:46,669 --> 00:04:53,960
demo this if I filled my iphone town

00:04:50,539 --> 00:05:00,680
right the monitor reflected both

00:04:53,960 --> 00:05:04,849
something wrong ok maybe it will click

00:05:00,680 --> 00:05:10,940
the Wi-Fi ok time ok like that very

00:05:04,849 --> 00:05:11,760
quick response ok please try it thank

00:05:10,940 --> 00:05:19,229
you

00:05:11,760 --> 00:05:19,229

YouTube URL: https://www.youtube.com/watch?v=zy_sUBt3wc0


