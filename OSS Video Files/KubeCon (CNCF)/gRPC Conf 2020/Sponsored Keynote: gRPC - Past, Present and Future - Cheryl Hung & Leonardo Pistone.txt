Title: Sponsored Keynote: gRPC - Past, Present and Future - Cheryl Hung & Leonardo Pistone
Publication date: 2020-08-01
Playlist: gRPC Conf 2020
Description: 
	Sponsored Keynote: Cheryl Hung, Director of Ecosystem, Cloud Native Computing Foundation & Leonardo Pistone, Senior Site Reliability Engineer, Spotify
Captions: 
	00:00:00,080 --> 00:00:05,359
hi and welcome to grpc conf

00:00:03,040 --> 00:00:06,319
i'm really excited to be here to talk to

00:00:05,359 --> 00:00:08,559
you today

00:00:06,319 --> 00:00:09,519
and i'm going to be talking a little bit

00:00:08,559 --> 00:00:12,559
about

00:00:09,519 --> 00:00:15,679
grpc as it's grown as a community

00:00:12,559 --> 00:00:17,600
and it's a project and i'm also got a

00:00:15,679 --> 00:00:19,520
special guest here who's going to talk

00:00:17,600 --> 00:00:22,640
about spotify's experience

00:00:19,520 --> 00:00:22,640
with grpc

00:00:22,800 --> 00:00:27,199
so my name is show hung i'm the vp of

00:00:26,240 --> 00:00:31,039
ecosystem

00:00:27,199 --> 00:00:33,280
at the cncf which is the home of

00:00:31,039 --> 00:00:34,320
grpc among many other open source

00:00:33,280 --> 00:00:35,840
projects

00:00:34,320 --> 00:00:37,360
you can find me on twitter at

00:00:35,840 --> 00:00:39,520
boysherrill

00:00:37,360 --> 00:00:41,280
and leonardo would you like to introduce

00:00:39,520 --> 00:00:43,360
yourself

00:00:41,280 --> 00:00:44,480
sure thank you thank you cheryl so i'm

00:00:43,360 --> 00:00:46,559
leonardo

00:00:44,480 --> 00:00:49,280
i'm an engineering core infrastructure

00:00:46,559 --> 00:00:49,280
at spotify

00:00:49,440 --> 00:00:56,320
cool so let's look a little bit

00:00:52,960 --> 00:00:59,920
in the back so grpc was the

00:00:56,320 --> 00:01:03,840
sixth project to join the cncf

00:00:59,920 --> 00:01:04,239
and since march of 2017 it's added more

00:01:03,840 --> 00:01:06,640
than

00:01:04,239 --> 00:01:07,920
eleven hundred contributors who've

00:01:06,640 --> 00:01:11,680
collectively made

00:01:07,920 --> 00:01:14,640
nearly 250 000 contributions towards

00:01:11,680 --> 00:01:15,439
grpc and the contribution here is

00:01:14,640 --> 00:01:18,720
defined as

00:01:15,439 --> 00:01:21,280
a pull request an issue a commit or

00:01:18,720 --> 00:01:21,280
a review

00:01:22,560 --> 00:01:28,320
and what we're also seeing is that grpc

00:01:26,159 --> 00:01:30,720
as a project is being more widely

00:01:28,320 --> 00:01:33,840
adopted and is more mature

00:01:30,720 --> 00:01:34,960
so every year cncf runs a survey where

00:01:33,840 --> 00:01:36,880
we ask people

00:01:34,960 --> 00:01:38,400
what projects they're using and whether

00:01:36,880 --> 00:01:41,520
they're using them

00:01:38,400 --> 00:01:44,880
in evaluation or in production

00:01:41,520 --> 00:01:48,079
and since 2017 grpc

00:01:44,880 --> 00:01:51,200
has gone from 39 in production to

00:01:48,079 --> 00:01:54,399
65 today and this

00:01:51,200 --> 00:01:57,439
number the 2020 survey is not out yet so

00:01:54,399 --> 00:01:59,520
this is a early sneak preview

00:01:57,439 --> 00:02:01,360
and with that i'm going to hand over to

00:01:59,520 --> 00:02:04,159
leonardo to talk about

00:02:01,360 --> 00:02:04,159
his experience

00:02:04,640 --> 00:02:11,039
thank you so at spotify

00:02:08,239 --> 00:02:13,200
we have in our backend we have more than

00:02:11,039 --> 00:02:16,560
1400 microservices

00:02:13,200 --> 00:02:20,640
those are built by 280 teams

00:02:16,560 --> 00:02:23,040
and we handle um more than 8 million

00:02:20,640 --> 00:02:24,000
requests per second from our clients

00:02:23,040 --> 00:02:25,760
only

00:02:24,000 --> 00:02:27,200
and this means a lot of internal

00:02:25,760 --> 00:02:29,280
communication between

00:02:27,200 --> 00:02:30,720
backhand services it also means a lot of

00:02:29,280 --> 00:02:31,280
communication between the teams that

00:02:30,720 --> 00:02:33,840
build them

00:02:31,280 --> 00:02:35,360
that have to uh to organize themselves

00:02:33,840 --> 00:02:38,720
and be in sync

00:02:35,360 --> 00:02:41,200
so this means that we've been in uh

00:02:38,720 --> 00:02:42,160
thinking about this for a very long time

00:02:41,200 --> 00:02:45,519
so if we talk

00:02:42,160 --> 00:02:46,720
if we look at our past um it's already

00:02:45,519 --> 00:02:50,160
in 2012

00:02:46,720 --> 00:02:53,280
that we were thinking about this and

00:02:50,160 --> 00:02:56,400
uh grpc didn't exist back then

00:02:53,280 --> 00:02:57,599
um i mean it was not announced to the

00:02:56,400 --> 00:03:00,400
public

00:02:57,599 --> 00:03:02,319
and um we needed we thought that we

00:03:00,400 --> 00:03:04,319
needed a very high performance and easy

00:03:02,319 --> 00:03:04,640
to use y protocol so what we did back

00:03:04,319 --> 00:03:07,519
then

00:03:04,640 --> 00:03:08,159
is that we built our own and what we

00:03:07,519 --> 00:03:11,519
ended up

00:03:08,159 --> 00:03:14,159
building uh was

00:03:11,519 --> 00:03:15,280
interestingly enough was kind of similar

00:03:14,159 --> 00:03:18,159
to

00:03:15,280 --> 00:03:18,879
how jrpc is in some ways for example it

00:03:18,159 --> 00:03:22,319
used

00:03:18,879 --> 00:03:24,959
uh protocol buffers just like grpc did

00:03:22,319 --> 00:03:25,840
http 2 didn't exist even back in the

00:03:24,959 --> 00:03:29,120
time

00:03:25,840 --> 00:03:30,159
so this worked very well for us and it

00:03:29,120 --> 00:03:33,360
allows us to

00:03:30,159 --> 00:03:35,040
allowed us to to grow and scale up to

00:03:33,360 --> 00:03:38,000
the point where we are today

00:03:35,040 --> 00:03:39,040
so now we get to today and the situation

00:03:38,000 --> 00:03:41,040
where we have is

00:03:39,040 --> 00:03:42,560
where we are is that our protocol still

00:03:41,040 --> 00:03:44,640
works fine

00:03:42,560 --> 00:03:46,319
uh it's still high performance and good

00:03:44,640 --> 00:03:49,280
enough for the scale that we have today

00:03:46,319 --> 00:03:49,920
so it's scaled well but there are some

00:03:49,280 --> 00:03:52,080
problems

00:03:49,920 --> 00:03:53,040
uh that we cannot we cannot address with

00:03:52,080 --> 00:03:55,920
our protocol

00:03:53,040 --> 00:03:56,319
basically this relates to the ecosystem

00:03:55,920 --> 00:03:59,280
so

00:03:56,319 --> 00:04:00,000
just to give an example we cannot

00:03:59,280 --> 00:04:01,599
leverage

00:04:00,000 --> 00:04:04,159
anything that already exists in the

00:04:01,599 --> 00:04:04,480
community uh we cannot open source our

00:04:04,159 --> 00:04:08,480
own

00:04:04,480 --> 00:04:12,159
our own tools um also

00:04:08,480 --> 00:04:14,000
connected to that um we

00:04:12,159 --> 00:04:15,599
we only built web libraries to support

00:04:14,000 --> 00:04:17,280
our own protocol in the couple

00:04:15,599 --> 00:04:18,320
programming languages that we care the

00:04:17,280 --> 00:04:20,639
most

00:04:18,320 --> 00:04:22,320
but this is a big imitation because

00:04:20,639 --> 00:04:26,080
anything else we want to do

00:04:22,320 --> 00:04:28,240
we just cannot use it so

00:04:26,080 --> 00:04:30,160
we decided that this was getting a

00:04:28,240 --> 00:04:32,080
problem and wanted to fix it and to fix

00:04:30,160 --> 00:04:32,800
it we decided to adopt grpc in

00:04:32,080 --> 00:04:36,639
production

00:04:32,800 --> 00:04:39,040
as our main uh as our main wire protocol

00:04:36,639 --> 00:04:40,639
so this has been working great to us

00:04:39,040 --> 00:04:42,080
it's it's kind of familiar as i

00:04:40,639 --> 00:04:43,520
mentioned because of some similarities

00:04:42,080 --> 00:04:46,000
to what we already have

00:04:43,520 --> 00:04:47,199
but there is much more so for example as

00:04:46,000 --> 00:04:49,919
i mentioned

00:04:47,199 --> 00:04:50,639
uh it's great that there is already

00:04:49,919 --> 00:04:52,080
support for

00:04:50,639 --> 00:04:53,840
different programming languages for

00:04:52,080 --> 00:04:55,759
example and different

00:04:53,840 --> 00:04:56,880
uh also programming paradigms in some

00:04:55,759 --> 00:05:00,720
cases

00:04:56,880 --> 00:05:03,120
uh another specific uh

00:05:00,720 --> 00:05:04,400
aspect related to that is that we we

00:05:03,120 --> 00:05:06,639
used to

00:05:04,400 --> 00:05:08,840
uh very often build specific client

00:05:06,639 --> 00:05:10,080
libraries for every one of our

00:05:08,840 --> 00:05:12,479
microservices

00:05:10,080 --> 00:05:14,479
but this was very cumbersome and also

00:05:12,479 --> 00:05:16,000
there was a lot of coupling because any

00:05:14,479 --> 00:05:17,520
any one of those libraries was very

00:05:16,000 --> 00:05:21,120
deeply coupled with

00:05:17,520 --> 00:05:23,919
not only programming language but also

00:05:21,120 --> 00:05:25,120
concurrency models and dependencies and

00:05:23,919 --> 00:05:27,360
things like that

00:05:25,120 --> 00:05:28,639
this is a lot of unnecessary complexity

00:05:27,360 --> 00:05:30,639
and coupling

00:05:28,639 --> 00:05:31,840
and grpc is a very good solution instead

00:05:30,639 --> 00:05:33,759
where you just distribute

00:05:31,840 --> 00:05:35,360
the schema in a protofi and code

00:05:33,759 --> 00:05:38,880
generation takes care

00:05:35,360 --> 00:05:42,240
takes care of that so that's great

00:05:38,880 --> 00:05:45,280
um so if we go to

00:05:42,240 --> 00:05:45,919
uh to the future uh there is a lot of

00:05:45,280 --> 00:05:48,479
interesting

00:05:45,919 --> 00:05:50,240
opportunity that is happening in in jpc

00:05:48,479 --> 00:05:52,639
that is very interesting for us

00:05:50,240 --> 00:05:54,320
i can give a couple examples so for

00:05:52,639 --> 00:05:57,280
example in uh regarding

00:05:54,320 --> 00:05:58,800
tracing grpc already has support in

00:05:57,280 --> 00:06:01,120
different solutions like

00:05:58,800 --> 00:06:02,639
open tracings open tracing open sensors

00:06:01,120 --> 00:06:04,160
and that this is great

00:06:02,639 --> 00:06:07,440
of course these are things that we could

00:06:04,160 --> 00:06:09,120
build internally but

00:06:07,440 --> 00:06:12,000
it's not the best use of our time let's

00:06:09,120 --> 00:06:13,680
say another field that is

00:06:12,000 --> 00:06:16,479
is very interesting developments related

00:06:13,680 --> 00:06:18,840
to grpc is is load balancing

00:06:16,479 --> 00:06:20,560
so grpc is already supported by

00:06:18,840 --> 00:06:23,840
different for example

00:06:20,560 --> 00:06:26,160
open source service meshes and also

00:06:23,840 --> 00:06:27,680
managed solutions now start supporting

00:06:26,160 --> 00:06:30,960
jpc and this is

00:06:27,680 --> 00:06:32,880
super interesting for us one specific

00:06:30,960 --> 00:06:34,479
and very recent example that is also

00:06:32,880 --> 00:06:37,280
super exciting is that

00:06:34,479 --> 00:06:38,160
the grpc libraries now support the xds

00:06:37,280 --> 00:06:40,400
protocol

00:06:38,160 --> 00:06:42,240
which is a protocol used to communicate

00:06:40,400 --> 00:06:44,639
with the with a

00:06:42,240 --> 00:06:45,680
with a control plane for leukocyte load

00:06:44,639 --> 00:06:49,039
balancing

00:06:45,680 --> 00:06:52,400
and this allows to to have a very

00:06:49,039 --> 00:06:52,400
powerful and sophisticated

00:06:52,479 --> 00:06:55,680
load balancing that knows about the

00:06:54,960 --> 00:06:58,400
whole system

00:06:55,680 --> 00:07:01,039
the whole network topology and behavior

00:06:58,400 --> 00:07:03,039
but without incurring the cost of having

00:07:01,039 --> 00:07:04,560
a proxy through which all traffic has to

00:07:03,039 --> 00:07:05,759
go through because the traffic is still

00:07:04,560 --> 00:07:08,639
going directly

00:07:05,759 --> 00:07:08,960
from service to service so all of this

00:07:08,639 --> 00:07:11,440
is

00:07:08,960 --> 00:07:12,400
very exciting for us and we're very

00:07:11,440 --> 00:07:15,520
excited

00:07:12,400 --> 00:07:18,880
so back to you sure

00:07:15,520 --> 00:07:21,199
awesome thank you leonardo and really

00:07:18,880 --> 00:07:22,240
impressed and excited to see the impact

00:07:21,199 --> 00:07:25,280
that grpc

00:07:22,240 --> 00:07:27,759
has had for spotify

00:07:25,280 --> 00:07:30,560
so if you want to hear more end user

00:07:27,759 --> 00:07:32,639
stories from companies like spotify

00:07:30,560 --> 00:07:33,759
i hope you can come and join the very

00:07:32,639 --> 00:07:36,880
first virtual

00:07:33,759 --> 00:07:39,280
cubecom so this is in august and

00:07:36,880 --> 00:07:41,680
registration is open now so get your

00:07:39,280 --> 00:07:41,680
tickets

00:07:42,560 --> 00:07:45,599
these slides are on my blog at

00:07:44,120 --> 00:07:49,240
oyshower.com

00:07:45,599 --> 00:07:52,240
thank you very much and have a fantastic

00:07:49,240 --> 00:07:52,240

YouTube URL: https://www.youtube.com/watch?v=qmlh9Co54lA


