Title: PromCon 2017: Lightning Talk - Monitoring MySQL Replication Delay with mysqld_exporter
Publication date: 2017-09-04
Playlist: PromCon 2017
Description: 
	* Abstract:

Lightning Talk

* Speaker:

Julien Pivotto

* Slides:

* PromCon website:

https://promcon.io/
Captions: 
	00:00:00,380 --> 00:00:18,690
[Music]

00:00:14,059 --> 00:00:20,490
so if you are not using my sequel

00:00:18,690 --> 00:00:26,760
implement a story just wait five minutes

00:00:20,490 --> 00:00:29,160
and it will go away company in Belgium

00:00:26,760 --> 00:00:31,140
and work in to complete your su my

00:00:29,160 --> 00:00:33,780
secure application so Mexico application

00:00:31,140 --> 00:00:36,300
comes in multiple fronts you can have

00:00:33,780 --> 00:00:39,540
master master master slave master slave

00:00:36,300 --> 00:00:42,719
slave masters slave slave so you only

00:00:39,540 --> 00:00:44,640
have a lot of freedom there to do your

00:00:42,719 --> 00:00:47,850
men secure application and the way too

00:00:44,640 --> 00:00:51,660
many Thomas basic well which right is it

00:00:47,850 --> 00:00:53,520
with my security expert oh so you you

00:00:51,660 --> 00:00:55,350
have to export to and then it does a

00:00:53,520 --> 00:00:57,090
queries at caster so that's really

00:00:55,350 --> 00:00:59,399
worked very well so my security expert

00:00:57,090 --> 00:01:01,230
actually good tool you have a lot of

00:00:59,399 --> 00:01:03,090
data you have your complete my secure

00:01:01,230 --> 00:01:06,450
configuration you have a lot of editing

00:01:03,090 --> 00:01:08,189
exam person in the documentation and in

00:01:06,450 --> 00:01:10,409
addition to that for my sequel you have

00:01:08,189 --> 00:01:12,479
a set of graph an adult blog that are

00:01:10,409 --> 00:01:15,090
really useful that are made by vahana so

00:01:12,479 --> 00:01:18,270
it's really really great to use day to

00:01:15,090 --> 00:01:20,189
day the problem is that when we migrated

00:01:18,270 --> 00:01:23,070
to prevent is then it does not mean that

00:01:20,189 --> 00:01:26,369
we need to forget the past and to forget

00:01:23,070 --> 00:01:29,610
what we did in the past so we add for

00:01:26,369 --> 00:01:32,009
monitoring the application we had put

00:01:29,610 --> 00:01:34,710
your beats opt old bit is demanded

00:01:32,009 --> 00:01:37,140
basically insert every second row in the

00:01:34,710 --> 00:01:40,079
database and then on the slave if you

00:01:37,140 --> 00:01:42,479
read that timestamp you know how far you

00:01:40,079 --> 00:01:45,060
are behind the master that tool is

00:01:42,479 --> 00:01:49,590
written in Paris GPL and is part of the

00:01:45,060 --> 00:01:51,930
passionate toolkit so the monitoring

00:01:49,590 --> 00:01:55,140
tool that we used before it did support

00:01:51,930 --> 00:01:58,200
PTR bit so moving to varieties not that

00:01:55,140 --> 00:02:00,210
would be like a regression though I know

00:01:58,200 --> 00:02:02,490
my sequel is that actively you can

00:02:00,210 --> 00:02:04,920
actually see okay my Mexican will try to

00:02:02,490 --> 00:02:07,020
tell you how much ladies behind master

00:02:04,920 --> 00:02:10,259
and there is a radiometric show that in

00:02:07,020 --> 00:02:11,240
the my sequel exporter but yeah so the

00:02:10,259 --> 00:02:13,820
recent number of

00:02:11,240 --> 00:02:16,280
this friend that value is not great like

00:02:13,820 --> 00:02:19,910
if you have multiple slaves in a chain

00:02:16,280 --> 00:02:23,180
or soda a couple of Mexican bugs into

00:02:19,910 --> 00:02:25,940
that value so pity is useful because it

00:02:23,180 --> 00:02:27,230
gives you the end-to-end like on your

00:02:25,940 --> 00:02:30,320
slave

00:02:27,230 --> 00:02:32,360
so yeah let's do this so I opened the

00:02:30,320 --> 00:02:34,520
prayer request and the 20 of February to

00:02:32,360 --> 00:02:38,510
implement that and on the 21 it was

00:02:34,520 --> 00:02:40,310
merged so it was really efficient oh it

00:02:38,510 --> 00:02:42,860
works the department committee side is

00:02:40,310 --> 00:02:45,770
that we run an X like we're ready to

00:02:42,860 --> 00:02:47,840
check that time stamp so we don't depend

00:02:45,770 --> 00:02:49,460
on P TLB directly so feature which is

00:02:47,840 --> 00:02:52,340
like the reference implementation but

00:02:49,460 --> 00:02:54,710
you can use anything else if you want we

00:02:52,340 --> 00:02:57,050
have three command line flags and we

00:02:54,710 --> 00:02:59,660
have to to matrix like the time stamp

00:02:57,050 --> 00:03:03,070
that my sequel server is know and the

00:02:59,660 --> 00:03:06,260
time stamp that is in that I'd be table

00:03:03,070 --> 00:03:09,200
you can record that like by just doing

00:03:06,260 --> 00:03:11,630
the - between the no - the start time

00:03:09,200 --> 00:03:15,170
stamp and then you can 11 that if you

00:03:11,630 --> 00:03:17,000
run like to tell you exactly like if in

00:03:15,170 --> 00:03:20,480
two minutes my application is not zero

00:03:17,000 --> 00:03:22,990
than allowed me I was also trying to

00:03:20,480 --> 00:03:26,510
contribute that the press connect rush

00:03:22,990 --> 00:03:28,730
co-founders world is not in yet so that

00:03:26,510 --> 00:03:30,170
will take sometimes I guess so basically

00:03:28,730 --> 00:03:32,330
if you want to contribute anything to

00:03:30,170 --> 00:03:34,220
pro it is it's very easy you should your

00:03:32,330 --> 00:03:35,840
expectation when willing to produce a

00:03:34,220 --> 00:03:38,450
new free of great tools you can have

00:03:35,840 --> 00:03:40,340
them also in primitives now the next

00:03:38,450 --> 00:03:42,590
step might be to rewrite that pearl tool

00:03:40,340 --> 00:03:45,050
into go so if there are any people were

00:03:42,590 --> 00:03:48,350
using my sequel and one that's in a nice

00:03:45,050 --> 00:03:50,840
mole sidecar product I know that kind of

00:03:48,350 --> 00:03:54,110
 it's just possible so thank you

00:03:50,840 --> 00:03:55,920
thank you everyone and thank you for

00:03:54,110 --> 00:04:11,780
having me

00:03:55,920 --> 00:04:11,780

YouTube URL: https://www.youtube.com/watch?v=zsdLycH6c2o


