Title: Prometheus Community & The Ecosystem Meeting 2019-07-03
Publication date: 2019-07-03
Playlist: Prometheus Community & The Ecosystem Meetings
Description: 
	Meeting Information: 

https://bit.ly/prom-community 

Agenda:

http://bit.ly/prometheus-community-agenda
Captions: 
	00:00:00,030 --> 00:00:07,500
hello everyone this is prometheus

00:00:02,419 --> 00:00:09,719
community and NACA system meeting I am

00:00:07,500 --> 00:00:12,360
powerless for such cos and I work for a

00:00:09,719 --> 00:00:16,370
company called the utility warehouse we

00:00:12,360 --> 00:00:16,370
we have my TAS who is another co-host

00:00:21,230 --> 00:00:26,880
cool yeah so this call is going to be

00:00:24,539 --> 00:00:28,890
recorded and published on YouTube we

00:00:26,880 --> 00:00:31,289
follow Prometheus code of conduct here

00:00:28,890 --> 00:00:34,550
so please be nice to one another and

00:00:31,289 --> 00:00:41,910
let's begin the Prometheus announcements

00:00:34,550 --> 00:00:53,550
Rezac is it recorded yeah it's recorded

00:00:41,910 --> 00:00:55,079
yeah I'm going to be patent is targeted

00:00:53,550 --> 00:01:00,090
to be released today

00:00:55,079 --> 00:01:02,670
so I already prepared the changelog

00:01:00,090 --> 00:01:05,159
yesterday if you haven't seen the

00:01:02,670 --> 00:01:09,360
purpose for that I can link it in the

00:01:05,159 --> 00:01:12,810
meeting notes it's actually rather small

00:01:09,360 --> 00:01:17,070
released this time we only have 5 small

00:01:12,810 --> 00:01:19,830
features maybe i'll highlight those real

00:01:17,070 --> 00:01:24,240
quick so we can now use external labels

00:01:19,830 --> 00:01:28,320
and alert unit testing we can do globs

00:01:24,240 --> 00:01:32,250
instead of single single diode or alert

00:01:28,320 --> 00:01:34,799
unit unit testing the alert manager v2

00:01:32,250 --> 00:01:38,549
API can be used for send for acquiring

00:01:34,799 --> 00:01:41,880
alerts so that's pretty cool I recommend

00:01:38,549 --> 00:01:46,020
everyone to start using that then

00:01:41,880 --> 00:01:49,649
there's a new thing to do a new function

00:01:46,020 --> 00:01:53,369
and alert templates so that you can

00:01:49,649 --> 00:01:56,340
convert percentages into human readable

00:01:53,369 --> 00:01:57,899
percentages more easily and anit

00:01:56,340 --> 00:02:00,990
containers are now available in

00:01:57,899 --> 00:02:04,649
kubernetes service discovery then there

00:02:00,990 --> 00:02:06,689
are a bunch of enhancements in in terms

00:02:04,649 --> 00:02:10,860
of performance in prompt you all and

00:02:06,689 --> 00:02:11,819
tsdp yeah and I think that's pretty much

00:02:10,860 --> 00:02:14,189
it

00:02:11,819 --> 00:02:17,359
for more details check out the purpose

00:02:14,189 --> 00:02:17,359
I'm gonna link it right now

00:02:18,230 --> 00:02:24,900
cool if anyone to use the release

00:02:22,439 --> 00:02:27,599
candidate and test away yes please

00:02:24,900 --> 00:02:30,209
please check please check these out and

00:02:27,599 --> 00:02:33,480
give us feedback on them we already know

00:02:30,209 --> 00:02:39,769
that there are too small issues with

00:02:33,480 --> 00:02:41,249
them but yeah please please just now

00:02:39,769 --> 00:02:43,829
cool

00:02:41,249 --> 00:02:44,879
does anyone have any questions you can

00:02:43,829 --> 00:02:50,699
put those on

00:02:44,879 --> 00:02:54,439
Prometheus IRC or on document let's

00:02:50,699 --> 00:02:54,439
quickly check the document

00:03:25,930 --> 00:03:33,940
[Music]

00:03:28,890 --> 00:03:38,140
that's what yeah that's me

00:03:33,940 --> 00:03:41,590
so Simon part of the primitives team and

00:03:38,140 --> 00:03:43,840
working for reddit - we are so planning

00:03:41,590 --> 00:03:47,830
a release of the alert manager that will

00:03:43,840 --> 00:03:50,620
be the version zero that 18 the last

00:03:47,830 --> 00:03:54,360
version was a couple of months ago so we

00:03:50,620 --> 00:03:57,970
decided to do some antennas to try to be

00:03:54,360 --> 00:04:00,250
to release more often like just like

00:03:57,970 --> 00:04:04,390
formatives so that we we don't have a

00:04:00,250 --> 00:04:07,180
large delay between every release so

00:04:04,390 --> 00:04:11,260
that it's easier for people to do that

00:04:07,180 --> 00:04:14,410
from one to another this release is also

00:04:11,260 --> 00:04:19,030
quite small that will mostly be back

00:04:14,410 --> 00:04:23,530
fixes the few breaking breaking changes

00:04:19,030 --> 00:04:26,080
so you need to look at the the changelog

00:04:23,530 --> 00:04:29,950
that would be for a configuration of a

00:04:26,080 --> 00:04:33,370
pager duty receiver and also up genie

00:04:29,950 --> 00:04:35,740
receiver so if you use those be aware

00:04:33,370 --> 00:04:38,440
that some configuration fields have

00:04:35,740 --> 00:04:42,250
changed and the other improvements are

00:04:38,440 --> 00:04:45,790
mostly on the UI where now the alerts

00:04:42,250 --> 00:04:48,790
will be grouped by the the alert groups

00:04:45,790 --> 00:04:52,750
so previously they were listed all

00:04:48,790 --> 00:04:56,169
together with no real grouping and now

00:04:52,750 --> 00:04:58,270
that will be grouped by the using the

00:04:56,169 --> 00:05:03,280
configuration of the alert manager which

00:04:58,270 --> 00:05:05,169
is quite nice I guess that's it if again

00:05:03,280 --> 00:05:09,190
that will be announced on the primitives

00:05:05,169 --> 00:05:12,100
a nonce list for the release candidate

00:05:09,190 --> 00:05:14,190
and for the final version that's all for

00:05:12,100 --> 00:05:14,190
me

00:05:15,180 --> 00:05:18,850
awesome

00:05:16,540 --> 00:05:20,750
does anyone have any questions about the

00:05:18,850 --> 00:05:22,850
left limited release

00:05:20,750 --> 00:05:29,290
please put them in charter on the

00:05:22,850 --> 00:05:29,290
document let's wait a bit

00:05:39,440 --> 00:05:48,020
nobody's typing so let's move on

00:05:44,720 --> 00:05:51,320
on subarctic yeah yep hello

00:05:48,020 --> 00:05:55,700
i'm bartek I'm I think the newest Thomas

00:05:51,320 --> 00:05:58,460
maintainer just joined literally last

00:05:55,700 --> 00:06:01,280
month I guess I work for out for

00:05:58,460 --> 00:06:04,520
improbable from London and I would like

00:06:01,280 --> 00:06:06,340
to quickly rise awareness of the

00:06:04,520 --> 00:06:09,880
different behavior of kind of memory

00:06:06,340 --> 00:06:12,170
release model for effects primitives

00:06:09,880 --> 00:06:15,440
essentially the golden team introduced

00:06:12,170 --> 00:06:18,680
in the newer version a different memory

00:06:15,440 --> 00:06:22,010
release logic and it is actually

00:06:18,680 --> 00:06:24,950
relevant because we from chrome to 2.9

00:06:22,010 --> 00:06:28,520
we are using this this new going

00:06:24,950 --> 00:06:30,740
versions and especially applications

00:06:28,520 --> 00:06:32,720
build it with the newer golang has

00:06:30,740 --> 00:06:34,070
visibly higher reported memory usage

00:06:32,720 --> 00:06:37,790
only knows that's what you can observe

00:06:34,070 --> 00:06:40,130
so in some cases it can look like a like

00:06:37,790 --> 00:06:43,669
memory leak or like full saturation of

00:06:40,130 --> 00:06:46,220
of the memory resource because it will

00:06:43,669 --> 00:06:49,730
might be reserved as as much as the

00:06:46,220 --> 00:06:52,940
limit is given and but what is happening

00:06:49,730 --> 00:06:54,590
under the hood is actually because of

00:06:52,940 --> 00:06:56,960
this different memory it will lace logic

00:06:54,590 --> 00:07:00,650
in in golang which was done for the

00:06:56,960 --> 00:07:03,110
optimization purposes the some of this

00:07:00,650 --> 00:07:05,180
memory reportage is actually available

00:07:03,110 --> 00:07:06,950
for other processes in the system and

00:07:05,180 --> 00:07:10,400
they are just reserved for going across

00:07:06,950 --> 00:07:12,860
this process because there is no other

00:07:10,400 --> 00:07:14,660
memory pressure on the system that's why

00:07:12,860 --> 00:07:17,600
it's super visible on on docker

00:07:14,660 --> 00:07:20,210
containers because well Golic is the

00:07:17,600 --> 00:07:23,930
main process running there so there is

00:07:20,210 --> 00:07:26,150
no other memory pressure from that side

00:07:23,930 --> 00:07:28,640
so if you used to look in your

00:07:26,150 --> 00:07:30,980
dashboards and use you know metrics like

00:07:28,640 --> 00:07:33,470
see advisor metrics for example like

00:07:30,980 --> 00:07:36,770
contain your memory usage bytes or can't

00:07:33,470 --> 00:07:39,940
contain the memory errors as they they

00:07:36,770 --> 00:07:42,530
kind of hide this fact fact what is

00:07:39,940 --> 00:07:44,810
actually cached what is actually used I

00:07:42,530 --> 00:07:47,030
would recommend may recommend to change

00:07:44,810 --> 00:07:51,440
to container memory working set bytes

00:07:47,030 --> 00:07:52,880
it's still not very precise but it gives

00:07:51,440 --> 00:07:56,240
you kind of the

00:07:52,880 --> 00:08:00,050
the idea when process will be about to

00:07:56,240 --> 00:08:02,300
whom but if you really want to check how

00:08:00,050 --> 00:08:04,460
much memory is allocated for that for

00:08:02,300 --> 00:08:07,910
example on the hip yeah you look on the

00:08:04,460 --> 00:08:11,180
memory allocation bytes metrics from go

00:08:07,910 --> 00:08:13,280
and process directly anyway if you are

00:08:11,180 --> 00:08:16,580
seeing extraordinary memory usage after

00:08:13,280 --> 00:08:18,290
all in from queues or any other project

00:08:16,580 --> 00:08:21,110
the ecosystem because probably all of us

00:08:18,290 --> 00:08:22,850
moved to new goal bank before submitting

00:08:21,110 --> 00:08:24,770
issue and you know because you are

00:08:22,850 --> 00:08:27,110
seeing the full saturation check what

00:08:24,770 --> 00:08:28,760
metrics you are using especially if

00:08:27,110 --> 00:08:30,740
there is like full saturation and there

00:08:28,760 --> 00:08:31,070
is no room there is nothing to worry

00:08:30,740 --> 00:08:33,410
about

00:08:31,070 --> 00:08:37,250
and most likely you are using this this

00:08:33,410 --> 00:08:40,760
metric which has confusing behavior so

00:08:37,250 --> 00:08:43,310
yeah we have many users up on both from

00:08:40,760 --> 00:08:45,350
Chios and tunnels that were were bit

00:08:43,310 --> 00:08:47,630
scared and an Semitic issue first and

00:08:45,350 --> 00:08:50,120
actually they were just getting this so

00:08:47,630 --> 00:08:52,900
just be aware of this happening yeah

00:08:50,120 --> 00:08:57,380
that's it from my sight

00:08:52,900 --> 00:09:00,290
cool does anyone have any questions as

00:08:57,380 --> 00:09:02,210
always you can submit them on IRC or put

00:09:00,290 --> 00:09:10,640
them on Google document or you can

00:09:02,210 --> 00:09:15,230
actually speak up if you want cool

00:09:10,640 --> 00:09:18,800
checking document doesn't look like

00:09:15,230 --> 00:09:19,160
anyone else I think ok yeah chat is also

00:09:18,800 --> 00:09:21,890
empty

00:09:19,160 --> 00:09:25,160
cool let's move on on to echo system

00:09:21,890 --> 00:09:33,770
announcements and we have graph on a

00:09:25,160 --> 00:09:37,790
poke yeah check it started yeah ok so

00:09:33,770 --> 00:09:39,890
yeah I have a short demo of holy books

00:09:37,790 --> 00:09:42,410
what's new in the fauna and what group

00:09:39,890 --> 00:09:45,110
what we've been working on and will

00:09:42,410 --> 00:09:55,340
release soon so let me share my screen

00:09:45,110 --> 00:10:02,030
and see can you see my screen yes ok

00:09:55,340 --> 00:10:04,100
quick so to start with just so quick run

00:10:02,030 --> 00:10:06,470
through what we released in the previous

00:10:04,100 --> 00:10:08,240
version if you haven't checked it out

00:10:06,470 --> 00:10:10,940
released a new panel first time in a

00:10:08,240 --> 00:10:14,180
long time in in the new bar gauge that

00:10:10,940 --> 00:10:16,520
is really useful for things like a

00:10:14,180 --> 00:10:18,440
previous instant query just looking at

00:10:16,520 --> 00:10:23,890
the latest data in a very kind of

00:10:18,440 --> 00:10:26,990
combined for a compact format it's also

00:10:23,890 --> 00:10:29,360
possible with the new multi series kind

00:10:26,990 --> 00:10:31,250
of gauge panel that also look looks

00:10:29,360 --> 00:10:33,500
exactly like the old gauge but you can

00:10:31,250 --> 00:10:38,510
now with a single query show multiple

00:10:33,500 --> 00:10:43,190
gauges another thing that we added that

00:10:38,510 --> 00:10:46,280
is it's kind of lazy loading of panels

00:10:43,190 --> 00:10:47,840
that load as they come into view this is

00:10:46,280 --> 00:10:50,090
pretty good to reduce this over the

00:10:47,840 --> 00:10:53,300
overall spike enos of queries so instead

00:10:50,090 --> 00:10:54,950
of loading up or issuing 30 queries if

00:10:53,300 --> 00:10:57,440
you have 30 panels or more on a

00:10:54,950 --> 00:10:59,420
dashboard as you open it it will only

00:10:57,440 --> 00:11:01,370
issue queries for all the panels that

00:10:59,420 --> 00:11:04,760
are visible so this will kind of reduce

00:11:01,370 --> 00:11:08,900
there the spike in s in the load on o on

00:11:04,760 --> 00:11:11,210
your time series back and so that was

00:11:08,900 --> 00:11:13,970
just a quick run through all the things

00:11:11,210 --> 00:11:17,870
some of the highlights at least the demo

00:11:13,970 --> 00:11:19,520
bubble highlights in the past release so

00:11:17,870 --> 00:11:22,790
in the last couple of weeks we were

00:11:19,520 --> 00:11:26,270
working on one thing that is is related

00:11:22,790 --> 00:11:30,950
to Prometheus and that is in the

00:11:26,270 --> 00:11:34,070
Explorer mode we'll have this this query

00:11:30,950 --> 00:11:36,230
editor that has been a focus that has a

00:11:34,070 --> 00:11:37,790
bit looks a bit different than behaves a

00:11:36,230 --> 00:11:41,870
bit different from the core editor that

00:11:37,790 --> 00:11:44,720
is in dashboard view and these are now

00:11:41,870 --> 00:11:48,830
can emerge and we are using the same

00:11:44,720 --> 00:11:52,940
code editor you have in an explorer it's

00:11:48,830 --> 00:11:54,770
now also being used in in the actual

00:11:52,940 --> 00:11:57,740
dashboard who you so if I go to a

00:11:54,770 --> 00:12:00,410
dashboard and kraid a panel here and

00:11:57,740 --> 00:12:03,800
then specify my Prometheus datasource

00:12:00,410 --> 00:12:05,960
the same core editor is now used here as

00:12:03,800 --> 00:12:07,520
well you do have these additional

00:12:05,960 --> 00:12:11,930
options that you don't have an explorer

00:12:07,520 --> 00:12:14,480
like step resolution an instant but

00:12:11,930 --> 00:12:16,430
otherwise it should behave the photo

00:12:14,480 --> 00:12:18,490
complete behavior should be exactly the

00:12:16,430 --> 00:12:18,490
same

00:12:20,029 --> 00:12:24,079
there are a couple of bug fixes and

00:12:21,949 --> 00:12:27,050
fixes really related to previous as well

00:12:24,079 --> 00:12:29,000
but they're kinda hard to demo the other

00:12:27,050 --> 00:12:31,910
things that we've worked on is improving

00:12:29,000 --> 00:12:34,459
Explorer and especially the logging

00:12:31,910 --> 00:12:38,480
features in Explorer we added previously

00:12:34,459 --> 00:12:42,290
so our logging data source Loki now

00:12:38,480 --> 00:12:44,029
supports live streaming so I can

00:12:42,290 --> 00:12:47,000
certainly be live streaming here and

00:12:44,029 --> 00:12:51,079
logs will kind of show up as they come

00:12:47,000 --> 00:12:55,279
in that might not be the best yeah I

00:12:51,079 --> 00:12:57,139
don't have a good demo there but it can

00:12:55,279 --> 00:12:58,279
sometimes can just flood if you're not

00:12:57,139 --> 00:13:00,439
careful

00:12:58,279 --> 00:13:03,470
but this live streaming feature is the

00:13:00,439 --> 00:13:05,509
feature both in Loki and megafauna and

00:13:03,470 --> 00:13:07,279
another thing that we're working on is

00:13:05,509 --> 00:13:09,620
adding some more support for the logs

00:13:07,279 --> 00:13:11,810
feature to other data sources so if you

00:13:09,620 --> 00:13:14,779
or have repair prometheus with elastic

00:13:11,810 --> 00:13:17,149
search for logs you can now use the logs

00:13:14,779 --> 00:13:21,500
feature in ergo fauna with elastic

00:13:17,149 --> 00:13:25,309
search and influx DB so that's also

00:13:21,500 --> 00:13:27,379
something that it's coming in 6 3 so the

00:13:25,309 --> 00:13:29,870
things I'm doing them on now is things

00:13:27,379 --> 00:13:36,800
are coming in 6 3 we hope to do a better

00:13:29,870 --> 00:13:40,069
in of 16 next week other things that

00:13:36,800 --> 00:13:42,829
we're we're adding is a drill down

00:13:40,069 --> 00:13:44,809
feature for the graph panel so this has

00:13:42,829 --> 00:13:46,699
been a popular feature requests you'll

00:13:44,809 --> 00:13:49,579
be able to actually click on a data

00:13:46,699 --> 00:13:52,490
point and go to another dashboard or go

00:13:49,579 --> 00:13:54,470
to another system and and preserve the

00:13:52,490 --> 00:13:56,329
information of the data point you

00:13:54,470 --> 00:13:59,029
actually clicked on and this is

00:13:56,329 --> 00:14:02,300
something that you can do through a

00:13:59,029 --> 00:14:05,509
graph feature and this fu will add two

00:14:02,300 --> 00:14:07,579
other panels as well as time goes on but

00:14:05,509 --> 00:14:10,430
now you can actually click on a data

00:14:07,579 --> 00:14:13,309
point and has to have access to these

00:14:10,430 --> 00:14:16,160
links that can refer to the series name

00:14:13,309 --> 00:14:18,470
you're clicking and to the time point

00:14:16,160 --> 00:14:20,689
this is useful for you going to another

00:14:18,470 --> 00:14:22,790
dashboard with a more detailed view or

00:14:20,689 --> 00:14:26,899
to another system and can preserve that

00:14:22,790 --> 00:14:30,649
so the series name or the tag or the

00:14:26,899 --> 00:14:33,320
time range or the time point that they

00:14:30,649 --> 00:14:40,310
were actually fix I'll kick down as well

00:14:33,320 --> 00:14:43,100
so yeah that's some of the highlights we

00:14:40,310 --> 00:14:45,050
also have a new time picker that is a

00:14:43,100 --> 00:14:48,980
bit sort of easier to use but that's

00:14:45,050 --> 00:14:53,959
mostly as a UX improvement and nothing

00:14:48,980 --> 00:14:56,240
kind of big um yeah my 5 minutes is up

00:14:53,959 --> 00:14:58,690
that's some of the highlights coming in

00:14:56,240 --> 00:14:58,690
next week

00:14:58,810 --> 00:15:03,050
awesome

00:15:00,050 --> 00:15:07,850
does the community have any questions

00:15:03,050 --> 00:15:12,500
about beautiful melodies I have one

00:15:07,850 --> 00:15:14,509
question I'm not sure if I mean

00:15:12,500 --> 00:15:16,759
essentially my question is are lazy

00:15:14,509 --> 00:15:19,610
loading like this is this is kind of

00:15:16,759 --> 00:15:22,279
great great feature how it works with

00:15:19,610 --> 00:15:25,420
the reference if you guys like you know

00:15:22,279 --> 00:15:30,620
yeah and that's a that's a great

00:15:25,420 --> 00:15:34,699
question so it does work for then we

00:15:30,620 --> 00:15:37,610
have two two panel architectures so some

00:15:34,699 --> 00:15:40,069
of the new panels like the bar gauge and

00:15:37,610 --> 00:15:45,110
gauge or using our new react

00:15:40,069 --> 00:15:47,209
architecture and they those panels will

00:15:45,110 --> 00:15:49,069
not be refreshed even if there are out

00:15:47,209 --> 00:15:53,750
of you and you saw let's say you have a

00:15:49,069 --> 00:15:55,819
auto refresh every five second but

00:15:53,750 --> 00:15:57,860
suddenly that that feature doesn't work

00:15:55,819 --> 00:16:00,079
fully I think for the angular panel so

00:15:57,860 --> 00:16:03,260
even if you have so the lazy loading for

00:16:00,079 --> 00:16:05,600
the old graph panel for example if you

00:16:03,260 --> 00:16:08,240
have an older refresh enabled and you

00:16:05,600 --> 00:16:11,060
scroll down I think all panels will

00:16:08,240 --> 00:16:13,010
execute even though they're not in view

00:16:11,060 --> 00:16:17,779
but I think that's something we can

00:16:13,010 --> 00:16:19,550
improve on later and what was the longer

00:16:17,779 --> 00:16:21,439
long-term plan so essentially the long

00:16:19,550 --> 00:16:23,420
term plan is to have refresh on every

00:16:21,439 --> 00:16:25,040
panel and then have this laser learning

00:16:23,420 --> 00:16:27,649
working on everywhere as well right

00:16:25,040 --> 00:16:30,529
yeah delay slowing what works on every

00:16:27,649 --> 00:16:32,750
panel it's just if if I'm now enabled

00:16:30,529 --> 00:16:36,199
let's say so all refresh every five

00:16:32,750 --> 00:16:38,899
second that's still gonna execute graphs

00:16:36,199 --> 00:16:40,880
a graph course I think that it are out

00:16:38,899 --> 00:16:43,279
of you at the top but I'm not actually

00:16:40,880 --> 00:16:45,649
100% sure and if that was the case when

00:16:43,279 --> 00:16:46,850
we developed this initially but I'm not

00:16:45,649 --> 00:16:48,860
sure if they managed to

00:16:46,850 --> 00:16:51,410
all that or no yeah yeah I mean this is

00:16:48,860 --> 00:16:53,690
fine I'm interested in you know is that

00:16:51,410 --> 00:16:56,540
a feature that some some graphs are not

00:16:53,690 --> 00:16:59,470
refreshable or can I even you know as a

00:16:56,540 --> 00:17:02,449
user disabled Samsung panels as a not

00:16:59,470 --> 00:17:05,030
refreshable things like that but I would

00:17:02,449 --> 00:17:06,829
be nice to know that something is not

00:17:05,030 --> 00:17:08,449
will be not refreshed or things like

00:17:06,829 --> 00:17:10,630
that but otherwise if the long-term plan

00:17:08,449 --> 00:17:13,220
is to have everything working

00:17:10,630 --> 00:17:15,350
you know everything should I mean

00:17:13,220 --> 00:17:17,410
everything should default work it's the

00:17:15,350 --> 00:17:19,939
lazy loading is enabled by default

00:17:17,410 --> 00:17:23,480
setting for it right now we might add a

00:17:19,939 --> 00:17:27,919
setting for it to disable it but yet the

00:17:23,480 --> 00:17:30,110
basic idea is to not issue queries for

00:17:27,919 --> 00:17:31,880
things that are not visible and then

00:17:30,110 --> 00:17:38,270
issue query asks you scroll that

00:17:31,880 --> 00:17:40,720
interview yeah thank you all so many

00:17:38,270 --> 00:17:40,720
other questions

00:17:52,419 --> 00:18:00,460
who looks like now questions let's move

00:17:55,899 --> 00:18:10,299
on to glutes awake we have ones

00:18:00,460 --> 00:18:12,460
questions anyway we can I guess tackle

00:18:10,299 --> 00:18:17,019
tackle it later let's move on to

00:18:12,460 --> 00:18:19,359
questions so we have Alexander asking

00:18:17,019 --> 00:18:28,090
questions maybe you are like than one

00:18:19,359 --> 00:18:30,669
ask them now yeah I don't think he is

00:18:28,090 --> 00:18:35,049
live but let's take one question from

00:18:30,669 --> 00:18:38,950
him and then move on lift other people

00:18:35,049 --> 00:18:41,639
questions collecting metrics from

00:18:38,950 --> 00:18:48,460
Prometheus operating running in multiple

00:18:41,639 --> 00:18:49,149
kubernetes Questers I'm not sure how to

00:18:48,460 --> 00:18:53,129
answer that

00:18:49,149 --> 00:18:58,149
anyone wants to I mean the question is

00:18:53,129 --> 00:18:59,859
somewhat vague but I talked about a

00:18:58,149 --> 00:19:03,070
little bit about what some people have

00:18:59,859 --> 00:19:06,039
done in this kind of a scenario so

00:19:03,070 --> 00:19:08,320
basically there are two two major things

00:19:06,039 --> 00:19:10,029
that people do to do multi-class or

00:19:08,320 --> 00:19:11,950
monitoring essentially is the problem

00:19:10,029 --> 00:19:14,559
here right and the Prometheus operator

00:19:11,950 --> 00:19:16,179
is just an implementation detail of what

00:19:14,559 --> 00:19:18,700
people do but the solution to this

00:19:16,179 --> 00:19:21,249
actually is possible in any kind of

00:19:18,700 --> 00:19:23,980
Prometheus setup which would be there

00:19:21,249 --> 00:19:26,340
are probably two ways to do this you can

00:19:23,980 --> 00:19:29,590
do you can use some remote right

00:19:26,340 --> 00:19:33,340
endpoint and write your data into some

00:19:29,590 --> 00:19:36,909
sort of a central central store and

00:19:33,340 --> 00:19:39,460
there are various projects out there I

00:19:36,909 --> 00:19:42,070
think pretty much all of them are listed

00:19:39,460 --> 00:19:45,609
on the integrations page on the

00:19:42,070 --> 00:19:48,489
Prometheus on Prometheus dot io so check

00:19:45,609 --> 00:19:50,139
that out and I think Thomas is the other

00:19:48,489 --> 00:19:54,549
one that's kind of unique that doesn't

00:19:50,139 --> 00:19:57,549
use remote write and instead it has an

00:19:54,549 --> 00:20:00,519
architecture where a querier can be

00:19:57,549 --> 00:20:02,769
deployed somewhere and the career needs

00:20:00,519 --> 00:20:04,650
access to each Prometheus server and

00:20:02,769 --> 00:20:07,560
next to each premedia server you put

00:20:04,650 --> 00:20:12,000
our prefer is that Prometheus server and

00:20:07,560 --> 00:20:15,180
that way you can get global view yeah I

00:20:12,000 --> 00:20:17,580
think those are the two major approaches

00:20:15,180 --> 00:20:20,790
that we've seen is that supported in

00:20:17,580 --> 00:20:22,770
prometheus operate or - yes

00:20:20,790 --> 00:20:25,560
so the Prometheus operator has actually

00:20:22,770 --> 00:20:28,350
some deeper integration into tunnels

00:20:25,560 --> 00:20:30,750
itself but also allows configuring

00:20:28,350 --> 00:20:34,590
remote right endpoints to replicate your

00:20:30,750 --> 00:20:37,470
data to do one of those solutions yeah

00:20:34,590 --> 00:20:39,750
cool yeah and if you're interested in

00:20:37,470 --> 00:20:41,850
those things I'd recommend to just check

00:20:39,750 --> 00:20:44,310
out the API Docs and if you search for

00:20:41,850 --> 00:20:47,010
the keywords that I've just said we're

00:20:44,310 --> 00:20:50,250
about right or Thomas you will be able

00:20:47,010 --> 00:20:52,680
to find and find what you what you're

00:20:50,250 --> 00:20:55,470
looking for in those docks and if not

00:20:52,680 --> 00:20:59,310
feel free to ask and open an issue on

00:20:55,470 --> 00:21:02,820
the prometheus operator repo cool

00:20:59,310 --> 00:21:06,780
awesome yeah I think let's move on

00:21:02,820 --> 00:21:09,510
because some people asked questions like

00:21:06,780 --> 00:21:11,820
so let's move on to some other questions

00:21:09,510 --> 00:21:14,760
and then we can come back to Alexander's

00:21:11,820 --> 00:21:16,890
questions if we have time so the

00:21:14,760 --> 00:21:19,350
question is the remote treat protocol

00:21:16,890 --> 00:21:22,650
and global view is it okay to touch data

00:21:19,350 --> 00:21:24,750
via remote read if the if this data was

00:21:22,650 --> 00:21:36,890
started there by third party Prometheus

00:21:24,750 --> 00:21:39,750
instances does anyone have any idea who

00:21:36,890 --> 00:21:45,180
who asks this question this person may

00:21:39,750 --> 00:21:49,740
be in the room yeah question I think

00:21:45,180 --> 00:21:53,220
it'd be useful people would be because I

00:21:49,740 --> 00:22:03,540
think this this one also leaves room for

00:21:53,220 --> 00:22:05,550
interpretation okay then I guess are

00:22:03,540 --> 00:22:16,630
there questions from anybody on this

00:22:05,550 --> 00:22:18,770
call okay it doesn't seem like that cool

00:22:16,630 --> 00:22:21,680
sorry there's a question in the chat

00:22:18,770 --> 00:22:26,780
says Martin says the last question in

00:22:21,680 --> 00:22:29,090
the list is his okay let's answer the

00:22:26,780 --> 00:22:36,470
last question maybe we wanna ask it

00:22:29,090 --> 00:22:39,190
slide if you are available cool let's

00:22:36,470 --> 00:22:39,190
just read it out

00:22:39,200 --> 00:22:44,090
I noticed that heat maps with Braun

00:22:41,060 --> 00:22:46,910
histograms do not solve the plus

00:22:44,090 --> 00:22:49,790
infinity correctly I use other place to

00:22:46,910 --> 00:22:54,280
make it high a high number so that it's

00:22:49,790 --> 00:22:54,280
the top value is this a known bug I

00:22:54,790 --> 00:23:05,360
guess this is a question you can't

00:23:02,360 --> 00:23:07,610
repeat that you can read the question in

00:23:05,360 --> 00:23:10,850
the agenda document but the question is

00:23:07,610 --> 00:23:11,780
I noticed that heat maps lift primitives

00:23:10,850 --> 00:23:15,020
histograms

00:23:11,780 --> 00:23:18,710
do not sort that plus infinity correctly

00:23:15,020 --> 00:23:21,950
I use a replace to make it a high number

00:23:18,710 --> 00:23:27,290
so that it's what that value is with a

00:23:21,950 --> 00:23:34,310
known bug and nothing I know of but I it

00:23:27,290 --> 00:23:36,260
could be cool so yeah basically what to

00:23:34,310 --> 00:23:39,320
do about it I think like just make an

00:23:36,260 --> 00:23:43,400
issue how do you for example yeah yeah

00:23:39,320 --> 00:23:45,530
that's the best way to go about it yeah

00:23:43,400 --> 00:23:47,900
so just create an issue if it's unknown

00:23:45,530 --> 00:23:51,800
bug anyway I think I found the Fox will

00:23:47,900 --> 00:23:55,100
help you yeah cool we have another

00:23:51,800 --> 00:24:01,640
question going live graph an extended

00:23:55,100 --> 00:24:06,500
query editor in graph panel ads I think

00:24:01,640 --> 00:24:09,880
it's to add suggestions do you does it

00:24:06,500 --> 00:24:11,520
also add suggestion inquiries because

00:24:09,880 --> 00:24:13,590
it's a bit hard

00:24:11,520 --> 00:24:28,290
because it's going still-life so let's

00:24:13,590 --> 00:24:30,900
wait a bit for a person to complete cool

00:24:28,290 --> 00:24:33,480
so I think the question is already there

00:24:30,900 --> 00:24:36,120
so yeah the question is the refer to the

00:24:33,480 --> 00:24:38,400
graph Anna Fox extended query editor in

00:24:36,120 --> 00:24:40,770
the graph panel ad suggestion does it

00:24:38,400 --> 00:24:44,370
also add suggestions to aggregation

00:24:40,770 --> 00:24:46,500
queries also because it does not add

00:24:44,370 --> 00:24:49,670
time range to the query and can take

00:24:46,500 --> 00:24:55,130
down the Prometheus Santana's data sauce

00:24:49,670 --> 00:24:57,830
yeah I think really I just add

00:24:55,130 --> 00:25:00,960
suggestions or I mean order completions

00:24:57,830 --> 00:25:06,090
but then regarding to the time range in

00:25:00,960 --> 00:25:08,850
the sort of meta meta queries to get the

00:25:06,090 --> 00:25:11,070
suggestions we have an open issue to add

00:25:08,850 --> 00:25:13,580
the time range it wasn't a hundred

00:25:11,070 --> 00:25:18,600
percent clear except if all the API

00:25:13,580 --> 00:25:19,580
supports that at least in since we are

00:25:18,600 --> 00:25:21,690
kind of dealing with three different

00:25:19,580 --> 00:25:25,140
implementations as well with Atheists

00:25:21,690 --> 00:25:28,560
API is question was sort of does that's

00:25:25,140 --> 00:25:32,070
all the sort of label get labels and get

00:25:28,560 --> 00:25:35,040
metric names and get label keys that

00:25:32,070 --> 00:25:37,980
does all those API support start and end

00:25:35,040 --> 00:25:40,440
that's kind of a bit of an open question

00:25:37,980 --> 00:25:47,310
right now but we have a PR open to to

00:25:40,440 --> 00:25:50,870
add ad range to all these queries hi the

00:25:47,310 --> 00:25:55,680
question was for me do you hear me yeah

00:25:50,870 --> 00:25:58,940
yeah great yeah depolarized is opened by

00:25:55,680 --> 00:26:02,340
me I'm solving that issue I'm just

00:25:58,940 --> 00:26:05,040
afraid should I should I upgrade or not

00:26:02,340 --> 00:26:06,960
curse right now if somebody opens the

00:26:05,040 --> 00:26:09,570
Explorer mode it takes down my tennis

00:26:06,960 --> 00:26:12,210
cluster completely unfortunately and

00:26:09,570 --> 00:26:14,370
that's why I opened EPR but I'm not sure

00:26:12,210 --> 00:26:17,250
if I can upgrade to the new version

00:26:14,370 --> 00:26:23,450
does it add this feature a disc query to

00:26:17,250 --> 00:26:23,450
the - every every girl panel or now

00:26:24,860 --> 00:26:35,330
I'm not sure yeah okay I can check it

00:26:31,460 --> 00:26:41,960
out myself I just if you know okay

00:26:35,330 --> 00:26:44,810
thanks cool awesome I guess we can

00:26:41,960 --> 00:26:49,250
continue with Alexander's questions if

00:26:44,810 --> 00:26:51,440
there is no other questions in chat yeah

00:26:49,250 --> 00:26:53,360
that yeah no questions in chat okay the

00:26:51,440 --> 00:26:56,210
next question was collecting metrics

00:26:53,360 --> 00:27:00,910
from geographically stretched from a few

00:26:56,210 --> 00:27:00,910
instances scattered across the globe I

00:27:01,660 --> 00:27:09,860
mean what was the question right is it

00:27:06,710 --> 00:27:28,820
about latency or the way of doing it I

00:27:09,860 --> 00:27:33,020
think it's kind of even more specific so

00:27:28,820 --> 00:27:37,430
let's move on and the next one is also

00:27:33,020 --> 00:27:39,860
like tricky I think we can guess

00:27:37,430 --> 00:27:42,170
what what he would recommend essentially

00:27:39,860 --> 00:27:44,150
side cover near emotes right what is

00:27:42,170 --> 00:27:46,820
better to use for ingesting data so

00:27:44,150 --> 00:27:51,500
essentially sidecar I probably he means

00:27:46,820 --> 00:27:53,960
tano's sidecar in jest but you know only

00:27:51,500 --> 00:27:57,290
remote right is kind of ingesting into

00:27:53,960 --> 00:27:59,600
another system so sidecar is only

00:27:57,290 --> 00:28:01,070
querying the data so that's not you know

00:27:59,600 --> 00:28:05,480
this couple and orange kind of

00:28:01,070 --> 00:28:08,300
comparison and what is better like in

00:28:05,480 --> 00:28:10,430
what dimension in what so I'm not sure

00:28:08,300 --> 00:28:12,530
how to answer that it's super different

00:28:10,430 --> 00:28:14,660
and I think the answer is that if you

00:28:12,530 --> 00:28:17,750
are either query the data so you need

00:28:14,660 --> 00:28:19,640
the access to the beliefs or you push

00:28:17,750 --> 00:28:23,330
the data from primitives and live with

00:28:19,640 --> 00:28:26,630
the may be some limitations or or if you

00:28:23,330 --> 00:28:28,880
have enough resources to maintain the

00:28:26,630 --> 00:28:32,240
stream of samples which were very

00:28:28,880 --> 00:28:35,120
improved recently to another system and

00:28:32,240 --> 00:28:37,820
use that centralized system and exactly

00:28:35,120 --> 00:28:39,150
we talked about it in the show you think

00:28:37,820 --> 00:28:42,550
it

00:28:39,150 --> 00:28:47,680
cool I think it's dependent on your

00:28:42,550 --> 00:28:49,900
situation and like if you I think most

00:28:47,680 --> 00:28:52,510
important is what Patek said if you have

00:28:49,900 --> 00:28:55,270
access to the leaves it may be

00:28:52,510 --> 00:28:58,240
beneficial but like it totally depends

00:28:55,270 --> 00:29:00,670
on your situation I think there can be

00:28:58,240 --> 00:29:03,520
situations where each solution can be

00:29:00,670 --> 00:29:05,740
the right right choice exactly it's also

00:29:03,520 --> 00:29:09,550
a question about simplicity and and and

00:29:05,740 --> 00:29:16,180
complexity and yeah into to see on your

00:29:09,550 --> 00:29:19,180
own cool awesome I think we have time

00:29:16,180 --> 00:29:22,080
for the last question or maybe not maybe

00:29:19,180 --> 00:29:25,510
I think maybe we should start by Daniel

00:29:22,080 --> 00:29:28,480
okay thanks everyone that you came

00:29:25,510 --> 00:29:31,720
yeah this talk will be recorded but in

00:29:28,480 --> 00:29:35,500
YouTube yeah and we will what's what's

00:29:31,720 --> 00:29:39,130
the plan for the next yeah next one is

00:29:35,500 --> 00:29:41,380
coming up in another month we we have

00:29:39,130 --> 00:29:44,110
changed the bath time for it so we are

00:29:41,380 --> 00:29:46,840
gonna do alternating times this one was

00:29:44,110 --> 00:29:50,980
on at 9:00 a.m. UTC the other one is on

00:29:46,840 --> 00:29:57,850
5 p.m. UTC so basically make sure that

00:29:50,980 --> 00:30:00,120
you know that yes every first Wednesday

00:29:57,850 --> 00:30:06,120
of the month

00:30:00,120 --> 00:30:06,120

YouTube URL: https://www.youtube.com/watch?v=Hdu_2CnVY9o


