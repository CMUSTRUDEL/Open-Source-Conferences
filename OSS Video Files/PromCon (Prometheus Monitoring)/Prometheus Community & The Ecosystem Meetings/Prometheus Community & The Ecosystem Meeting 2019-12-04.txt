Title: Prometheus Community & The Ecosystem Meeting 2019-12-04
Publication date: 2020-01-02
Playlist: Prometheus Community & The Ecosystem Meetings
Description: 
	
Captions: 
	00:00:00,030 --> 00:00:05,759
all right everybody thank you for

00:00:02,370 --> 00:00:09,840
joining today's prometheus community and

00:00:05,759 --> 00:00:12,509
ecosystem coil as a starting node we are

00:00:09,840 --> 00:00:14,160
following the CNC earth code of conduct

00:00:12,509 --> 00:00:18,359
so please be aware of this and the

00:00:14,160 --> 00:00:21,600
meeting is recorded and let's kick off

00:00:18,359 --> 00:00:29,699
this meeting with me presenting what we

00:00:21,600 --> 00:00:30,810
had in at the death summit so how do I

00:00:29,699 --> 00:00:33,270
share my screen here

00:00:30,810 --> 00:00:37,530
very good sharing button I found that

00:00:33,270 --> 00:00:39,840
one share my screen all right so you

00:00:37,530 --> 00:00:42,870
should be able to see my screen and just

00:00:39,840 --> 00:00:47,039
as a head the next meeting which was

00:00:42,870 --> 00:00:49,200
planned to take place on January 1st we

00:00:47,039 --> 00:00:53,430
are going to reschedule this for January

00:00:49,200 --> 00:00:59,399
8th as doing something else in January

00:00:53,430 --> 00:01:01,559
1st yeah so let's start reviewing very

00:00:59,399 --> 00:01:05,369
quickly what happened at prom cone which

00:01:01,559 --> 00:01:06,060
was from cones deaf summit so we have

00:01:05,369 --> 00:01:09,540
Hong Kong

00:01:06,060 --> 00:01:12,150
two days of discussions and talks on

00:01:09,540 --> 00:01:14,460
Prometheus in November and then

00:01:12,150 --> 00:01:17,060
afterwards we had a deaf summit with a

00:01:14,460 --> 00:01:20,850
Prometheus team and here are some of the

00:01:17,060 --> 00:01:23,729
consensus points that Prometheus team

00:01:20,850 --> 00:01:26,549
and some friends made during during this

00:01:23,729 --> 00:01:28,590
deficit so first off we have consensus

00:01:26,549 --> 00:01:31,439
on the prom cone not America conference

00:01:28,590 --> 00:01:34,439
so we are planning something in q2

00:01:31,439 --> 00:01:37,500
roughly and Vancouver probably so Canada

00:01:34,439 --> 00:01:40,259
so should be easier for most people to

00:01:37,500 --> 00:01:43,590
get visas that aren't in the US or North

00:01:40,259 --> 00:01:45,420
America to attend as well and we still

00:01:43,590 --> 00:01:48,229
want to keep it roughly around 500

00:01:45,420 --> 00:01:51,659
people and we still want to keep the

00:01:48,229 --> 00:01:53,250
cost low so everybody is able to attend

00:01:51,659 --> 00:01:58,049
there were many people who were

00:01:53,250 --> 00:02:01,049
attending on a private cost so that will

00:01:58,049 --> 00:02:04,259
be good and maybe even have a day of

00:02:01,049 --> 00:02:06,869
onboarding and workshops before actually

00:02:04,259 --> 00:02:10,649
kicking off prom con itself basically so

00:02:06,869 --> 00:02:12,569
you new people new to Prometheus can can

00:02:10,649 --> 00:02:15,030
get a sense of what's going

00:02:12,569 --> 00:02:17,909
and talking about conferences there's

00:02:15,030 --> 00:02:19,769
also agreement and consensus on most

00:02:17,909 --> 00:02:22,469
likely doing a Prometheus day in India

00:02:19,769 --> 00:02:26,670
so that will be interesting and fun and

00:02:22,469 --> 00:02:28,170
that will be I don't I don't think we

00:02:26,670 --> 00:02:31,109
have a timeline but it will happen

00:02:28,170 --> 00:02:33,480
eventually hopefully a bit more

00:02:31,109 --> 00:02:35,730
technical there there was a discussion

00:02:33,480 --> 00:02:39,930
on lifting the service discovery

00:02:35,730 --> 00:02:43,349
moratorium and that has happened so we

00:02:39,930 --> 00:02:47,099
are now able to to get new service

00:02:43,349 --> 00:02:49,859
discovery into Prometheus again however

00:02:47,099 --> 00:02:53,159
we still need to have one maintainer

00:02:49,859 --> 00:02:56,879
from the team probably with Bush access

00:02:53,159 --> 00:02:59,519
to two that could that service discovery

00:02:56,879 --> 00:03:02,370
so it was a roughly community driven but

00:02:59,519 --> 00:03:04,950
somebody from the team needs to buy into

00:03:02,370 --> 00:03:09,150
this as well I think it is more comment

00:03:04,950 --> 00:03:11,669
on that one I think we said that the the

00:03:09,150 --> 00:03:13,560
bar is just the same as becoming a

00:03:11,669 --> 00:03:16,829
maintainer so if someone puts in the

00:03:13,560 --> 00:03:19,319
time to become a maintainer they're more

00:03:16,829 --> 00:03:22,109
than happy to be maintainer for that

00:03:19,319 --> 00:03:24,299
service discovery but kind of the what

00:03:22,109 --> 00:03:26,639
we wanted to prevent here is what we had

00:03:24,299 --> 00:03:28,079
previously which was people implement a

00:03:26,639 --> 00:03:32,180
service discovery and just disappear

00:03:28,079 --> 00:03:34,349
afterwards and so that's why the bar is

00:03:32,180 --> 00:03:37,169
we wanted to set the bar a little bit

00:03:34,349 --> 00:03:39,090
higher than that and just terrified I'm

00:03:37,169 --> 00:03:41,010
not as well this does not mean you need

00:03:39,090 --> 00:03:42,540
to become a maintainer into order to get

00:03:41,010 --> 00:03:46,049
when added you just need to convince an

00:03:42,540 --> 00:03:47,459
existing one plus all your requirements

00:03:46,049 --> 00:03:49,409
are in there like it needs to make sense

00:03:47,459 --> 00:03:51,299
there is never going to be a chef

00:03:49,409 --> 00:04:06,049
services come free because chef has its

00:03:51,299 --> 00:04:08,699
own template for example experimental

00:04:06,049 --> 00:04:11,849
tracing for Jaeger built into Prometheus

00:04:08,699 --> 00:04:15,349
as most of Prometheus team uses Jaeger

00:04:11,849 --> 00:04:19,709
tracing to resolve issues already and

00:04:15,349 --> 00:04:22,500
with time we into open telemetry but

00:04:19,709 --> 00:04:26,750
first we want to set the open telemetry

00:04:22,500 --> 00:04:29,910
set and then reevaluate at the next

00:04:26,750 --> 00:04:32,010
and yeah like one of the last things

00:04:29,910 --> 00:04:34,710
they will probably like if you are

00:04:32,010 --> 00:04:38,220
watching the Prometheus repositories you

00:04:34,710 --> 00:04:40,560
might see some PRS being marked stale by

00:04:38,220 --> 00:04:42,660
a but they won't be closed as far as I

00:04:40,560 --> 00:04:46,100
remember they will only be marked stale

00:04:42,660 --> 00:04:48,540
and then some other maintenance are

00:04:46,100 --> 00:04:50,640
basically encouraged to take a look and

00:04:48,540 --> 00:04:54,900
then maybe close these issues over

00:04:50,640 --> 00:04:56,730
requests or only PRS if I read this

00:04:54,900 --> 00:05:00,450
correctly and then here are some other

00:04:56,730 --> 00:05:02,490
TRS so there was consensus on hopefully

00:05:00,450 --> 00:05:06,060
getting a style guide for prompt pl

00:05:02,490 --> 00:05:08,760
itself so a more upstream driven

00:05:06,060 --> 00:05:11,550
approach on this to define what prompted

00:05:08,760 --> 00:05:14,610
where it should look like we want to do

00:05:11,550 --> 00:05:17,700
head block memory improvements and with

00:05:14,610 --> 00:05:21,980
that also looking to further new like

00:05:17,700 --> 00:05:25,130
further encoding of new no chunks just

00:05:21,980 --> 00:05:27,960
as well as through the compaction and

00:05:25,130 --> 00:05:30,630
that is like pretty low level so I

00:05:27,960 --> 00:05:33,630
encourage you to read up on that in the

00:05:30,630 --> 00:05:36,750
decimate notes and as well we have some

00:05:33,630 --> 00:05:39,060
some people working on a language server

00:05:36,750 --> 00:05:41,490
for prompt yet so that's very exciting

00:05:39,060 --> 00:05:44,550
too and you can also find more on this

00:05:41,490 --> 00:05:47,180
in the dev summit notes are there any

00:05:44,550 --> 00:05:50,240
questions around this that need to be

00:05:47,180 --> 00:05:52,800
answered immediately otherwise we have

00:05:50,240 --> 00:05:55,260
just stale bothers partially about

00:05:52,800 --> 00:05:57,870
issues it does do both of them and for

00:05:55,260 --> 00:05:59,460
people winning why we added that the

00:05:57,870 --> 00:06:02,610
issue is that you have some issue that

00:05:59,460 --> 00:06:03,840
was long resolved and some other ones

00:06:02,610 --> 00:06:05,160
just happened to come up high on Google

00:06:03,840 --> 00:06:08,130
searches and people losing error

00:06:05,160 --> 00:06:09,900
messages so we'd end up with just people

00:06:08,130 --> 00:06:11,340
asking user questions in a place that

00:06:09,900 --> 00:06:13,350
they're unlikely to ever get help so

00:06:11,340 --> 00:06:15,419
hopefully that will help get monthly

00:06:13,350 --> 00:06:17,490
user list and if we ever do want

00:06:15,419 --> 00:06:19,800
something a lot just pop and IRC and ask

00:06:17,490 --> 00:06:21,240
us like it's there to help points users

00:06:19,800 --> 00:06:23,700
in the right way not if you want to say

00:06:21,240 --> 00:06:25,050
hey I've written some code can I put a

00:06:23,700 --> 00:06:33,150
link in for people who find this in

00:06:25,050 --> 00:06:35,729
future then let's move on I also linked

00:06:33,150 --> 00:06:39,600
the the dock to the dev summit you can

00:06:35,729 --> 00:06:41,640
also find the public notes online and

00:06:39,600 --> 00:06:45,890
with them again if you want to vent the

00:06:41,640 --> 00:06:52,200
summary and the and the link to the dog

00:06:45,890 --> 00:06:54,240
with that we can move on to cortex has a

00:06:52,200 --> 00:06:55,890
new release and there are people who

00:06:54,240 --> 00:06:59,430
want to share and discuss the newer

00:06:55,890 --> 00:07:01,380
these projects with us one one thing

00:06:59,430 --> 00:07:04,430
Matias could you make sure to put the

00:07:01,380 --> 00:07:07,230
notes that you have there into the

00:07:04,430 --> 00:07:16,470
general doc that we have for everything

00:07:07,230 --> 00:07:24,690
notes all right let's move on Thorin you

00:07:16,470 --> 00:07:27,690
want to kick it off sure in the latest

00:07:24,690 --> 00:07:31,170
cortex release there was simply large to

00:07:27,690 --> 00:07:32,640
your PC and Kalani's improvement but

00:07:31,170 --> 00:07:37,170
what I've been specifically working on

00:07:32,640 --> 00:07:40,440
is the experimental Thanos TS DB

00:07:37,170 --> 00:07:44,180
integration which vendors a lot of

00:07:40,440 --> 00:07:45,420
Thanos code but it basically creates a

00:07:44,180 --> 00:07:49,820
multi-tenant

00:07:45,420 --> 00:07:51,950
PSDB environment on top of thinness and

00:07:49,820 --> 00:07:54,650
marco has been a huge help we're

00:07:51,950 --> 00:07:57,690
constantly finding failures of my

00:07:54,650 --> 00:07:59,250
initial integration and it's becoming

00:07:57,690 --> 00:08:04,950
more and more stable that's pretty

00:07:59,250 --> 00:08:06,800
exciting right now I missed anything

00:08:04,950 --> 00:08:11,310
else Brian in that release that was

00:08:06,800 --> 00:08:13,350
super important yeah there's a bunch of

00:08:11,310 --> 00:08:22,370
thing so I think you covered the high

00:08:13,350 --> 00:08:26,190
points we are at 0.4 release of cortex I

00:08:22,370 --> 00:08:28,200
think that will be a 0.5 before the end

00:08:26,190 --> 00:08:34,370
of the year and then we're trying to

00:08:28,200 --> 00:08:37,010
stamp 1.0 just to kind of denote that

00:08:34,370 --> 00:08:41,729
that we're not planning on making any

00:08:37,010 --> 00:08:43,200
more massive breaking changes so we

00:08:41,729 --> 00:08:45,660
aren't we are planning on making a few

00:08:43,200 --> 00:08:48,480
to the because the CLI flags are all

00:08:45,660 --> 00:08:52,589
very inconsistent so we we do want to

00:08:48,480 --> 00:08:53,100
make breaking changes there right after

00:08:52,589 --> 00:09:03,259
that

00:08:53,100 --> 00:09:06,630
1.0 all right perfect

00:09:03,259 --> 00:09:10,440
then with that I think we also have any

00:09:06,630 --> 00:09:12,750
release with darkness party I think you

00:09:10,440 --> 00:09:15,720
wanted to present that and let's move on

00:09:12,750 --> 00:09:18,360
to that and afterwards we can have a Q&A

00:09:15,720 --> 00:09:20,600
so if you want a pop or put put your

00:09:18,360 --> 00:09:23,490
questions into the internal chat we can

00:09:20,600 --> 00:09:27,029
already try to have a queue and then

00:09:23,490 --> 00:09:31,110
start answering them afterwards yeah

00:09:27,029 --> 00:09:33,990
hello everyone can you hear me well yes

00:09:31,110 --> 00:09:35,550
good yeah my name is Bartok and I would

00:09:33,990 --> 00:09:39,000
like to quickly announced a new version

00:09:35,550 --> 00:09:41,759
of tano's 0.9 and let me quickly

00:09:39,000 --> 00:09:43,589
highlight some some changes in this

00:09:41,759 --> 00:09:46,769
release we improved and fixed many

00:09:43,589 --> 00:09:49,019
things on kind of tano's ruler component

00:09:46,769 --> 00:09:52,230
for example it supports sub queries now

00:09:49,019 --> 00:09:54,779
and kind of the amount of contribution

00:09:52,230 --> 00:09:57,569
also also shows increased adoption for

00:09:54,779 --> 00:09:59,810
this component which is nice we also

00:09:57,569 --> 00:10:02,730
improved star gateway started process

00:09:59,810 --> 00:10:04,350
and by that I mean that store should now

00:10:02,730 --> 00:10:08,190
expose metrics from the very very

00:10:04,350 --> 00:10:11,250
beginning of of the kind of startup

00:10:08,190 --> 00:10:14,399
process so instead of some you know

00:10:11,250 --> 00:10:16,589
after some delay when it initially

00:10:14,399 --> 00:10:18,750
synchronized this is important because

00:10:16,589 --> 00:10:21,420
you have more observability during this

00:10:18,750 --> 00:10:25,410
period of startup which can be kind of

00:10:21,420 --> 00:10:26,940
longer in some cases and but also it

00:10:25,410 --> 00:10:31,110
means that we have to introduce a

00:10:26,940 --> 00:10:33,389
readiness endpoints so when you kind of

00:10:31,110 --> 00:10:35,220
use communities make sure to point

00:10:33,389 --> 00:10:36,959
readiness probes into readiness

00:10:35,220 --> 00:10:39,540
endpoints that were dedicated and

00:10:36,959 --> 00:10:42,329
introduced in this release instead of

00:10:39,540 --> 00:10:45,389
metric endpoint that we were using

00:10:42,329 --> 00:10:48,300
before that if you want to have expected

00:10:45,389 --> 00:10:52,380
behavior from the old version

00:10:48,300 --> 00:10:55,500
now we also improve slightly in the

00:10:52,380 --> 00:10:58,110
store gateway and clear request memory

00:10:55,500 --> 00:11:00,360
usage which is nice and we also

00:10:58,110 --> 00:11:02,850
introduced life step as a tracing

00:11:00,360 --> 00:11:05,370
provider so if you use live step and use

00:11:02,850 --> 00:11:06,540
Thanos you can send Thomas traces to

00:11:05,370 --> 00:11:09,330
that

00:11:06,540 --> 00:11:13,560
to that back-end and last but not least

00:11:09,330 --> 00:11:18,030
we added yet another object cloud object

00:11:13,560 --> 00:11:20,430
storage for Alibaba cloud thanks to kind

00:11:18,030 --> 00:11:24,210
of our Chinese contribution contributors

00:11:20,430 --> 00:11:25,770
so feel free to use that as well and

00:11:24,210 --> 00:11:28,670
then as always thank you for our

00:11:25,770 --> 00:11:31,020
contributions and please feel free to

00:11:28,670 --> 00:11:33,800
you know grab the docker image from our

00:11:31,020 --> 00:11:36,360
Quay or docker hop repositories or

00:11:33,800 --> 00:11:39,360
binary from our Thomas release page and

00:11:36,360 --> 00:11:50,100
give us feedback yeah that's all for my

00:11:39,360 --> 00:11:52,530
Seng so far I don't see any questions in

00:11:50,100 --> 00:11:55,130
the chat as we are very few people

00:11:52,530 --> 00:12:03,420
anybody would like to ask a question

00:11:55,130 --> 00:12:05,760
without writing in the chat no one else

00:12:03,420 --> 00:12:12,120
has anything I'd like to ask it for the

00:12:05,760 --> 00:12:14,690
Safa cool question which is with cortex

00:12:12,120 --> 00:12:17,760
been during more and more of tano's and

00:12:14,690 --> 00:12:20,690
essentially and Thomas introducing the

00:12:17,760 --> 00:12:24,450
receive component it seems like the

00:12:20,690 --> 00:12:27,560
projects are becoming evermore close to

00:12:24,450 --> 00:12:29,820
each other which i think is exciting

00:12:27,560 --> 00:12:34,560
maybe this is not even a question more

00:12:29,820 --> 00:12:39,480
of a statement that sounds awful saying

00:12:34,560 --> 00:12:42,690
that out loud yeah but I don't know in

00:12:39,480 --> 00:12:44,490
some way I feel like it's what the

00:12:42,690 --> 00:12:47,520
community has always seen and always

00:12:44,490 --> 00:12:49,590
wanted which is having these two

00:12:47,520 --> 00:12:51,330
projects converged seems like it's kind

00:12:49,590 --> 00:12:55,890
of naturally happening which I

00:12:51,330 --> 00:12:58,140
personally think is pretty cool yeah how

00:12:55,890 --> 00:12:59,790
other people have views on this I mean

00:12:58,140 --> 00:13:05,090
for your ease literally doing this work

00:12:59,790 --> 00:13:08,880
right how do you have used to see things

00:13:05,090 --> 00:13:10,920
proceeding I mean I'm just kind of an

00:13:08,880 --> 00:13:13,890
outside observer that wanted a feature

00:13:10,920 --> 00:13:16,710
that cortex didn't offer and so I kind

00:13:13,890 --> 00:13:20,100
of shoved it in there so for me it was

00:13:16,710 --> 00:13:20,430
just a necessity but it is exciting to

00:13:20,100 --> 00:13:21,780
see

00:13:20,430 --> 00:13:25,290
converge because it would be nice to

00:13:21,780 --> 00:13:27,840
have just a one-size-fits-all solution I

00:13:25,290 --> 00:13:29,550
don't know if that panacea actually

00:13:27,840 --> 00:13:31,920
exists in the future where we can just

00:13:29,550 --> 00:13:34,710
have a single offering that solves all

00:13:31,920 --> 00:13:36,120
the needs but maybe we'll get there

00:13:34,710 --> 00:13:39,930
eventually which I think would be really

00:13:36,120 --> 00:13:45,060
neat so that was their goal of me vendor

00:13:39,930 --> 00:13:46,950
antennas though there is this one kind

00:13:45,060 --> 00:13:49,260
of philosophical thing about whether

00:13:46,950 --> 00:13:51,380
whether all the data centralized or

00:13:49,260 --> 00:13:54,660
whether them which is the cortex

00:13:51,380 --> 00:13:56,850
starting position or whether the most

00:13:54,660 --> 00:14:01,650
recent data czar believes which is the

00:13:56,850 --> 00:14:03,780
sign our starting position and I do not

00:14:01,650 --> 00:14:07,680
see how you can converge those two

00:14:03,780 --> 00:14:09,600
positions so it seems like the best you

00:14:07,680 --> 00:14:15,390
could get to is it's one program with a

00:14:09,600 --> 00:14:17,670
mode which was like the thing the thing

00:14:15,390 --> 00:14:20,460
that I was mentioning is that tano's has

00:14:17,670 --> 00:14:22,550
that component now which is the receive

00:14:20,460 --> 00:14:27,470
component which can accept remote ride

00:14:22,550 --> 00:14:30,600
rights and it's it essentially builds

00:14:27,470 --> 00:14:33,060
like there there's nothing magic about

00:14:30,600 --> 00:14:35,280
this it literally fenders the Prometheus

00:14:33,060 --> 00:14:36,930
TS DB and writes into the Prometheus TSE

00:14:35,280 --> 00:14:41,340
B and essentially we're doing database

00:14:36,930 --> 00:14:45,960
replication right so yeah I don't know

00:14:41,340 --> 00:14:47,880
I'm I guess mostly I'm excited that all

00:14:45,960 --> 00:14:50,520
of the things that we had anticipated

00:14:47,880 --> 00:14:52,320
that these two projects are working more

00:14:50,520 --> 00:14:56,940
closely together is actually happening

00:14:52,320 --> 00:15:05,070
and that just makes me excited what's

00:14:56,940 --> 00:15:07,110
the current stage there so we it's funny

00:15:05,070 --> 00:15:08,520
because literally today I was probably

00:15:07,110 --> 00:15:11,190
asked by the community three or four

00:15:08,520 --> 00:15:15,810
times so it's good that we're asking

00:15:11,190 --> 00:15:19,260
this here we as Red Hat we are using

00:15:15,810 --> 00:15:23,340
this in production for some of our our

00:15:19,260 --> 00:15:27,810
needs to essentially monitor multiple

00:15:23,340 --> 00:15:31,110
clusters or lots of clusters and yeah

00:15:27,810 --> 00:15:33,500
this is simply because we need to ship

00:15:31,110 --> 00:15:36,160
this kind of stack to customers we need

00:15:33,500 --> 00:15:38,360
something that's extremely simple to

00:15:36,160 --> 00:15:40,940
maintain and that's essentially why we

00:15:38,360 --> 00:15:43,280
ended up going with tunnels because we

00:15:40,940 --> 00:15:46,010
actually had customers running tonneaus

00:15:43,280 --> 00:15:48,590
successfully and not so successfully

00:15:46,010 --> 00:15:54,170
with with cortex or rather the

00:15:48,590 --> 00:15:58,450
complexity of running cortex made a lot

00:15:54,170 --> 00:16:01,880
of customers choose tunnels over cortex

00:15:58,450 --> 00:16:05,330
so yeah that's primarily why we why we

00:16:01,880 --> 00:16:08,120
chose to invest some time into that the

00:16:05,330 --> 00:16:11,870
receive component itself has basically

00:16:08,120 --> 00:16:13,910
everything implemented except for like

00:16:11,870 --> 00:16:15,820
hard multi tendencies what we called it

00:16:13,910 --> 00:16:18,470
in the initial proposal which is

00:16:15,820 --> 00:16:21,050
actually writing to multiple time series

00:16:18,470 --> 00:16:23,150
database that's pertinent that isn't

00:16:21,050 --> 00:16:27,250
happening today it's a single TS DB

00:16:23,150 --> 00:16:30,710
instance that said I actually have

00:16:27,250 --> 00:16:34,490
multiple proof of concepts of of this

00:16:30,710 --> 00:16:37,670
work working but it's it's not

00:16:34,490 --> 00:16:41,720
non-trivial and amount of work so I

00:16:37,670 --> 00:16:45,560
expected to maybe land end of the year

00:16:41,720 --> 00:16:47,030
maybe beginning of the next year and we

00:16:45,560 --> 00:16:50,720
let that sink in and then we'll probably

00:16:47,030 --> 00:16:52,790
remove the experimental labeling naming

00:16:50,720 --> 00:16:55,580
around the receive component which it

00:16:52,790 --> 00:16:58,370
has right now here's the replication

00:16:55,580 --> 00:17:04,090
already supported replication already

00:16:58,370 --> 00:17:09,200
works yeah okay so are going to need

00:17:04,090 --> 00:17:11,870
vertical compaction soon I think

00:17:09,200 --> 00:17:15,130
Bartek would need to chime in into this

00:17:11,870 --> 00:17:17,480
as well I believe there is a an open PR

00:17:15,130 --> 00:17:20,510
for offline deduplication and

00:17:17,480 --> 00:17:25,370
essentially that does vertical

00:17:20,510 --> 00:17:29,060
compaction so yeah I've seen it just

00:17:25,370 --> 00:17:32,480
last question sorry is there a specific

00:17:29,060 --> 00:17:37,190
reason why not using the TST be vertical

00:17:32,480 --> 00:17:42,770
compaction and using the custom of rindy

00:17:37,190 --> 00:17:45,250
duplication actually I don't know jump

00:17:42,770 --> 00:17:45,250
into that

00:17:46,940 --> 00:17:51,740
so well we first of all like vertical

00:17:49,880 --> 00:17:56,750
convection it was introduced you know

00:17:51,740 --> 00:17:59,720
after like kind of this year and yeah

00:17:56,750 --> 00:18:01,550
the problem is to how to make sure there

00:17:59,720 --> 00:18:03,290
are no miss configuration and stuff like

00:18:01,550 --> 00:18:07,730
that so all those edge cases that we are

00:18:03,290 --> 00:18:11,840
trying to help users to not you know

00:18:07,730 --> 00:18:13,760
kind of malformed or corrupt the data in

00:18:11,840 --> 00:18:16,640
their object storage and the problem is

00:18:13,760 --> 00:18:19,850
with this you know process is that you

00:18:16,640 --> 00:18:21,890
cannot revert it really so there's no

00:18:19,850 --> 00:18:24,470
little kind of blocker for that and

00:18:21,890 --> 00:18:30,260
while we discussed it offline yeah we

00:18:24,470 --> 00:18:33,620
should definitely now the offline the

00:18:30,260 --> 00:18:37,100
duplication the idea for that was to use

00:18:33,620 --> 00:18:44,930
our the duplication algorithm which were

00:18:37,100 --> 00:18:47,150
able to dedicate you know - okay -

00:18:44,930 --> 00:18:51,080
primitive let's to kind of sources of

00:18:47,150 --> 00:18:54,140
the data into kind of one time series

00:18:51,080 --> 00:18:56,450
while vertical compaction handles the

00:18:54,140 --> 00:18:58,490
duplication in some form but the

00:18:56,450 --> 00:19:00,770
duplication in form of like literally

00:18:58,490 --> 00:19:02,720
the same samples with the same timestamp

00:19:00,770 --> 00:19:05,750
and the same value right

00:19:02,720 --> 00:19:07,580
if you run two promises in each a mode

00:19:05,750 --> 00:19:10,340
that's create the same type of targets

00:19:07,580 --> 00:19:12,080
the time stamps are most likely

00:19:10,340 --> 00:19:15,080
completely different that's why you need

00:19:12,080 --> 00:19:16,670
to have more bit more complexed you know

00:19:15,080 --> 00:19:19,430
kind of the duplication algorithm and

00:19:16,670 --> 00:19:21,470
that's why we we are essentially using

00:19:19,430 --> 00:19:23,500
the same algorithm in query time and we

00:19:21,470 --> 00:19:26,900
want to introduce that to the offline

00:19:23,500 --> 00:19:30,050
compaction so ideally it would nice to

00:19:26,900 --> 00:19:32,240
have both vertical and our offline kind

00:19:30,050 --> 00:19:33,800
of the duplication in one kind of

00:19:32,240 --> 00:19:35,510
compact or Fink and I think that's a

00:19:33,800 --> 00:19:37,340
long-term goal yes but those are

00:19:35,510 --> 00:19:44,300
differences okay

00:19:37,340 --> 00:19:48,530
I think the way we did duplicate series

00:19:44,300 --> 00:19:50,150
coming from two parallel Prometheus is

00:19:48,530 --> 00:19:54,190
different between panels and quarters

00:19:50,150 --> 00:19:57,020
yes because you let on right path yeah

00:19:54,190 --> 00:19:59,690
but yeah I just want to highlight that

00:19:57,020 --> 00:20:01,100
yeah I really enjoyed

00:19:59,690 --> 00:20:03,980
working with you marker because you

00:20:01,100 --> 00:20:06,950
already are also kind of proposed a

00:20:03,980 --> 00:20:09,950
couple of designs around improving this

00:20:06,950 --> 00:20:12,409
vendor kind of tano's project autonomous

00:20:09,950 --> 00:20:15,110
kind of components in in cortex and it

00:20:12,409 --> 00:20:16,850
was highlighting you know the things we

00:20:15,110 --> 00:20:19,220
could improve on internal side as well

00:20:16,850 --> 00:20:22,279
so I think it's super valuable and and

00:20:19,220 --> 00:20:26,480
challenging all of those is super cool

00:20:22,279 --> 00:20:29,059
so that's from my site on potential in a

00:20:26,480 --> 00:20:32,509
kind of collaboration site of between

00:20:29,059 --> 00:20:36,019
cortex and Tennessee yes in here I love

00:20:32,509 --> 00:20:38,929
very much it is cross work between the

00:20:36,019 --> 00:20:42,620
two projects and what personally I would

00:20:38,929 --> 00:20:44,659
like to provide is the Maineiacs

00:20:42,620 --> 00:20:47,330
into cortex in order to continue

00:20:44,659 --> 00:20:49,730
integrating times I would prefer to

00:20:47,330 --> 00:20:53,539
contribute to tenors in order to make

00:20:49,730 --> 00:20:54,519
more customizable for the cortex because

00:20:53,539 --> 00:21:06,649
as well

00:20:54,519 --> 00:21:08,750
yep definitely yeah thanks for the

00:21:06,649 --> 00:21:09,830
inside I think that was really

00:21:08,750 --> 00:21:19,149
interesting

00:21:09,830 --> 00:21:19,149
any other questions any questions all

00:21:21,519 --> 00:21:31,700
right then I would say have a wonderful

00:21:27,710 --> 00:21:34,250
rest of the year and see you in the next

00:21:31,700 --> 00:21:37,360
year in the next decade for more

00:21:34,250 --> 00:21:42,049
Prometheus community meetings and talks

00:21:37,360 --> 00:21:46,929
and with that yeah that's it all right

00:21:42,049 --> 00:21:46,929

YouTube URL: https://www.youtube.com/watch?v=ZftFj2gk6d0


