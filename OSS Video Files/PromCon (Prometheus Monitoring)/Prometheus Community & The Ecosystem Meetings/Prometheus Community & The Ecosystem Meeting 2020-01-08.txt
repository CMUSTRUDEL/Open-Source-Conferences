Title: Prometheus Community & The Ecosystem Meeting 2020-01-08
Publication date: 2020-02-18
Playlist: Prometheus Community & The Ecosystem Meetings
Description: 
	Meeting Information:  https://bit.ly/prom-community 
Agenda: http://bit.ly/prometheus-community-agenda
Captions: 
	00:00:00,000 --> 00:00:05,430
IDE like features yeah for many editors

00:00:02,510 --> 00:00:08,460
but implement them not in the editor

00:00:05,430 --> 00:00:11,820
button on separate application that can

00:00:08,460 --> 00:00:14,009
be used to basically any editor so for

00:00:11,820 --> 00:00:16,740
example if you want to write a

00:00:14,009 --> 00:00:19,080
Prometheus query and say we as cult you

00:00:16,740 --> 00:00:23,430
can use from uses language cell which

00:00:19,080 --> 00:00:25,920
I'm presenting now and get completion

00:00:23,430 --> 00:00:30,800
for the staff status of you from easiest

00:00:25,920 --> 00:00:33,780
that's like one point and if your

00:00:30,800 --> 00:00:36,719
example selecting some completion like

00:00:33,780 --> 00:00:40,730
having a query you might want to know

00:00:36,719 --> 00:00:44,010
what it's all about so you can again use

00:00:40,730 --> 00:00:48,750
we are Scout or other language client

00:00:44,010 --> 00:00:51,449
and just find out and get info you also

00:00:48,750 --> 00:00:55,170
can like if you do something wrong

00:00:51,449 --> 00:00:58,140
like that's obviously wrong you got our

00:00:55,170 --> 00:01:00,480
message that one isn't too great at its

00:00:58,140 --> 00:01:04,229
same error message as Prometheus profuse

00:01:00,480 --> 00:01:07,920
is bad it's going to get better soon

00:01:04,229 --> 00:01:10,380
because I'm also in the process of

00:01:07,920 --> 00:01:13,260
providing the password inside Prometheus

00:01:10,380 --> 00:01:16,080
for producing these error messages you

00:01:13,260 --> 00:01:19,200
can get like the completion stuff also

00:01:16,080 --> 00:01:22,290
in slightly more complicated cases for

00:01:19,200 --> 00:01:24,720
example if you want to do a function

00:01:22,290 --> 00:01:27,180
they also have completion for that

00:01:24,720 --> 00:01:32,100
function and then cat signatures body

00:01:27,180 --> 00:01:38,130
functions and like then again you can

00:01:32,100 --> 00:01:46,259
get completion or whatever on your

00:01:38,130 --> 00:01:48,060
promise yourself so and then you'll

00:01:46,259 --> 00:01:50,820
still get a complaint that it's not an

00:01:48,060 --> 00:01:55,020
instant vector so you can fix it up make

00:01:50,820 --> 00:01:56,579
it range vector and then there might

00:01:55,020 --> 00:01:58,320
still be the case that you don't know

00:01:56,579 --> 00:02:01,290
what the right function is doing so you

00:01:58,320 --> 00:02:05,159
can just hover over it and get the

00:02:01,290 --> 00:02:07,619
documentation for the red function so a

00:02:05,159 --> 00:02:11,819
lot of things that should make editing

00:02:07,619 --> 00:02:13,930
from Q queries easier and of course

00:02:11,819 --> 00:02:17,170
usually you are not

00:02:13,930 --> 00:02:19,870
editing just a file with just a prompt

00:02:17,170 --> 00:02:22,930
care query the usual case is that you

00:02:19,870 --> 00:02:26,709
have some larger file which is typically

00:02:22,930 --> 00:02:29,469
samyamaa which creates has a lot minute

00:02:26,709 --> 00:02:32,950
rules or stuff like that

00:02:29,469 --> 00:02:35,170
and inside that you have proper guy

00:02:32,950 --> 00:02:37,900
the syntax highlighting doesn't work and

00:02:35,170 --> 00:02:38,650
that guides but you still have most of

00:02:37,900 --> 00:02:41,349
the other star

00:02:38,650 --> 00:02:43,930
you also have recording rules apart so

00:02:41,349 --> 00:02:47,319
right now that sing is a recording rule

00:02:43,930 --> 00:02:49,689
and if you hover over it it actually

00:02:47,319 --> 00:02:52,329
shows how the recording will must

00:02:49,689 --> 00:02:55,030
defined at the same time and you also

00:02:52,329 --> 00:03:05,909
get completion for recording words like

00:02:55,030 --> 00:03:05,909
Oh our messages if something is wrong Oh

00:03:09,329 --> 00:03:15,959
our over functions like whatever yeah

00:03:16,290 --> 00:03:23,859
yeah and another thing is that actually

00:03:21,159 --> 00:03:27,790
quite works quite well with large parts

00:03:23,859 --> 00:03:31,120
so like for example that file is like

00:03:27,790 --> 00:03:35,439
one of the quite large prometheus file

00:03:31,120 --> 00:03:39,129
and with us and Yama file with like I

00:03:35,439 --> 00:03:43,120
think 70 kilobytes and you don't have

00:03:39,129 --> 00:03:44,979
any noticeable latency in it and even

00:03:43,120 --> 00:03:48,159
like I've created a really large file

00:03:44,979 --> 00:03:53,500
like that file is called monster gamma

00:03:48,159 --> 00:03:58,150
because it's a megabyte in size and you

00:03:53,500 --> 00:04:01,359
can still get everything that's quite

00:03:58,150 --> 00:04:04,900
quickly so you if you're really looking

00:04:01,359 --> 00:04:06,549
hard but and not do and like do it doing

00:04:04,900 --> 00:04:09,400
it on your own workstation you notice a

00:04:06,549 --> 00:04:11,259
small delay of like 200 milliseconds or

00:04:09,400 --> 00:04:16,449
something but it's still quite

00:04:11,259 --> 00:04:19,259
performance in Scenario yes so that's

00:04:16,449 --> 00:04:22,769
basically what the language serves about

00:04:19,259 --> 00:04:22,769
any questions

00:04:24,800 --> 00:04:37,400
Oh continue yeah okay

00:04:31,539 --> 00:04:40,069
yeah and obviously like pictures like

00:04:37,400 --> 00:04:46,849
this would be also nice to have for

00:04:40,069 --> 00:04:50,360
example in Prometheus or in on some

00:04:46,849 --> 00:04:52,849
Cuban Nettie's web interface to edit

00:04:50,360 --> 00:04:55,460
configuration files there and there are

00:04:52,849 --> 00:04:58,610
actually plans to add language server

00:04:55,460 --> 00:05:00,409
like features to from easiest like based

00:04:58,610 --> 00:05:02,389
on the same code base they're not

00:05:00,409 --> 00:05:09,259
completely backed out yet but that might

00:05:02,389 --> 00:05:12,590
happen in the future and yeah so there's

00:05:09,259 --> 00:05:15,530
also like quite some stuff directly

00:05:12,590 --> 00:05:18,139
upstream in prometheus going on to

00:05:15,530 --> 00:05:20,870
improve error messages because like if

00:05:18,139 --> 00:05:23,300
you look at error messages and got get

00:05:20,870 --> 00:05:27,110
one like this could not pass remaining

00:05:23,300 --> 00:05:28,759
in but that's not quite helpful also the

00:05:27,110 --> 00:05:31,099
current version of the language server

00:05:28,759 --> 00:05:35,770
has a lot of cases their completion

00:05:31,099 --> 00:05:39,110
doesn't work and all of the this because

00:05:35,770 --> 00:05:41,449
for that more advanced completion cases

00:05:39,110 --> 00:05:43,360
the language server somehow needs to

00:05:41,449 --> 00:05:47,139
find out the structure of such a query

00:05:43,360 --> 00:05:50,029
and to do that it actually uses the same

00:05:47,139 --> 00:05:53,330
bronchial passes from easiest so it's

00:05:50,029 --> 00:05:55,669
guaranteed that the same queries will

00:05:53,330 --> 00:05:58,509
generate a rose on the language server

00:05:55,669 --> 00:06:02,569
that will generate are a centimeters and

00:05:58,509 --> 00:06:04,400
so the data are the primitives passive

00:06:02,569 --> 00:06:08,300
produces four wrong Travis isn't so

00:06:04,400 --> 00:06:10,969
great and the has a few other issues so

00:06:08,300 --> 00:06:14,120
I've actually rewritten her from easiest

00:06:10,969 --> 00:06:16,270
pasta and fly most of that we write has

00:06:14,120 --> 00:06:20,750
already merged upstream and some of the

00:06:16,270 --> 00:06:22,840
in review so you can also expect just

00:06:20,750 --> 00:06:25,099
like the normal from easiest

00:06:22,840 --> 00:06:28,009
significantly better aromas which within

00:06:25,099 --> 00:06:30,319
the next release do you think that will

00:06:28,009 --> 00:06:32,569
land in the next room yeah pretty sure

00:06:30,319 --> 00:06:36,169
like part of it is already in the

00:06:32,569 --> 00:06:37,849
current release and that's why true

00:06:36,169 --> 00:06:38,600
could be in the make like there are

00:06:37,849 --> 00:06:40,360
massive stuff

00:06:38,600 --> 00:06:42,920
quite sure to be in the next release

00:06:40,360 --> 00:06:45,560
okay I don't know about the language

00:06:42,920 --> 00:06:50,110
server completion yeah that's I think a

00:06:45,560 --> 00:06:50,110
bigger sign yeah very cool

00:06:53,590 --> 00:07:00,890
right any question for two beers then I

00:06:56,930 --> 00:07:03,290
think that's it or yeah okay so yeah if

00:07:00,890 --> 00:07:06,950
you have questions complete feel free to

00:07:03,290 --> 00:07:09,950
drop them in the chat or just as we are

00:07:06,950 --> 00:07:12,800
that many people again feel free to just

00:07:09,950 --> 00:07:17,030
ask them right away just underneath

00:07:12,800 --> 00:07:26,510
yourself and and go ahead we're happy to

00:07:17,030 --> 00:07:29,390
answer questions so I have a question so

00:07:26,510 --> 00:07:32,360
if I want to actually like play with it

00:07:29,390 --> 00:07:35,410
is that any like documentation how to

00:07:32,360 --> 00:07:38,300
actually set it up locally how to yeah

00:07:35,410 --> 00:07:40,640
at the moment it's quite it's a bit

00:07:38,300 --> 00:07:43,670
complicated because there isn't like

00:07:40,640 --> 00:07:46,040
like in the future there will be just we

00:07:43,670 --> 00:07:48,260
ask how the extension you can install in

00:07:46,040 --> 00:07:52,100
the store that's not yet the case

00:07:48,260 --> 00:07:54,020
because I like it isn't an aside yet

00:07:52,100 --> 00:07:56,000
where I want everybody to install it and

00:07:54,020 --> 00:07:58,100
then notice oh it still has a lot of

00:07:56,000 --> 00:08:00,860
facts I'm not going to use it so it's

00:07:58,100 --> 00:08:03,040
not stable enough for that but there's

00:08:00,860 --> 00:08:06,790
this github page for it

00:08:03,040 --> 00:08:11,060
mmm which also has some screenshot and

00:08:06,790 --> 00:08:13,880
so I've currently tested it we are Scout

00:08:11,060 --> 00:08:14,600
at whim and we asked how does working

00:08:13,880 --> 00:08:17,420
quite well

00:08:14,600 --> 00:08:22,370
Wims the requires some bug to probably

00:08:17,420 --> 00:08:23,780
work and there is actually like here

00:08:22,370 --> 00:08:27,020
just the link to the wheels code

00:08:23,780 --> 00:08:31,220
extension and test that we asked out

00:08:27,020 --> 00:08:41,719
extension and here's a guide how to try

00:08:31,220 --> 00:08:44,720
out the extension so people so I can

00:08:41,719 --> 00:08:47,660
trust link these to read meets in the

00:08:44,720 --> 00:08:50,960
meeting notes and yeah if you have any

00:08:47,660 --> 00:08:52,310
issues on it feel free to ping me on IRC

00:08:50,960 --> 00:08:57,889
almond issue

00:08:52,310 --> 00:09:00,139
on github cool thank you

00:08:57,889 --> 00:09:02,350
does anyone anybody else have any

00:09:00,139 --> 00:09:02,350
questions

00:09:09,699 --> 00:09:17,720
cool then I think we are done for today

00:09:13,459 --> 00:09:23,290
thank you everyone have a nice welcome

00:09:17,720 --> 00:09:23,290

YouTube URL: https://www.youtube.com/watch?v=V44gtFvfArU


