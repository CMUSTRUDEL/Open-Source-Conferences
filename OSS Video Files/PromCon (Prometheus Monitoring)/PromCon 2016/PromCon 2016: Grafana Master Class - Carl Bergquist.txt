Title: PromCon 2016: Grafana Master Class - Carl Bergquist
Publication date: 2016-09-04
Playlist: PromCon 2016
Description: 
	* Abstract:

Grafana is a powerful tool with lots of options and settings. Some of them are barely documented. In this session I will show some of the features in Grafana that go beyond just drawing graphs on a screen.

* Speaker biography:

Metric enthusiast who spends his days developing Grafana.

* Slides:

https://docs.google.com/presentation/d/1nJ99ynDgzTfayUrJq-1nts56kUvkOLbS4zvN0yfgBro/edit?usp=sharing

* PromCon website:

https://promcon.io/
Captions: 
	00:00:02,420 --> 00:00:09,599
so yes I'm a granola developer and I've

00:00:06,990 --> 00:00:13,379
been working on the phone a full time

00:00:09,599 --> 00:00:16,139
about a year since I ran Clank and as

00:00:13,379 --> 00:00:19,230
Brian said that's about the same time

00:00:16,139 --> 00:00:22,080
Prometheus was added to her fauna and

00:00:19,230 --> 00:00:23,700
for those of you who don't know Griffin

00:00:22,080 --> 00:00:24,930
it's a - boring tool that support

00:00:23,700 --> 00:00:28,320
multiple data sources not just

00:00:24,930 --> 00:00:32,550
Prometheus to support six different data

00:00:28,320 --> 00:00:36,810
sources in the core model and one of

00:00:32,550 --> 00:00:38,580
them is Prometheus itself and in grow

00:00:36,810 --> 00:00:41,820
fauna we have a small call home feature

00:00:38,580 --> 00:00:45,000
that every day sent some data about your

00:00:41,820 --> 00:00:46,860
phone installation back to us and it's

00:00:45,000 --> 00:00:50,970
no sensitive data you can shake it it's

00:00:46,860 --> 00:00:55,110
it's pure number version numbers and so

00:00:50,970 --> 00:00:58,309
on and we also send the data source

00:00:55,110 --> 00:01:01,200
usage so we calculate how many

00:00:58,309 --> 00:01:04,320
grÃ¤fin installations Hasini at least one

00:01:01,200 --> 00:01:07,200
Prometheus data source and when I shake

00:01:04,320 --> 00:01:08,369
that yesterday there's about two

00:01:07,200 --> 00:01:10,920
thousand eight hundred a graph on

00:01:08,369 --> 00:01:13,020
installation that has Prometheus which i

00:01:10,920 --> 00:01:14,939
think is kinda great if you search

00:01:13,020 --> 00:01:18,030
increase has been studied since a year

00:01:14,939 --> 00:01:21,679
ago so I think this is almost worth

00:01:18,030 --> 00:01:25,850
celebrating a graph on itself it's a

00:01:21,679 --> 00:01:29,789
little bit bigger and we have about

00:01:25,850 --> 00:01:32,819
almost trained almost two million

00:01:29,789 --> 00:01:38,429
dashboard of almost getting close to 2

00:01:32,819 --> 00:01:41,520
million dashboards to you every day so

00:01:38,429 --> 00:01:44,219
this is about how Griffin is basically -

00:01:41,520 --> 00:01:46,560
our laws regarding lost dashboard you

00:01:44,219 --> 00:01:49,319
can view it on the plague or fauna it's

00:01:46,560 --> 00:01:51,299
public information if you want to see

00:01:49,319 --> 00:01:55,349
more stats about reform you can get

00:01:51,299 --> 00:01:59,669
version numbers and so on so this is

00:01:55,349 --> 00:02:01,649
kind of how Griffin Alex and my dear now

00:01:59,669 --> 00:02:03,599
is to jump into Griffin and show you

00:02:01,649 --> 00:02:06,389
some features that I think you should be

00:02:03,599 --> 00:02:11,039
aware of and don't miss and also

00:02:06,389 --> 00:02:12,689
introduce it a bit so all this these

00:02:11,039 --> 00:02:13,819
dashboards that I'm gonna show now are

00:02:12,689 --> 00:02:15,920
available

00:02:13,819 --> 00:02:19,790
Ahnold org as well and they are tagged

00:02:15,920 --> 00:02:21,829
with prom conference so we can get on

00:02:19,790 --> 00:02:23,930
your dashboard you can add a new panel

00:02:21,829 --> 00:02:38,269
by clicking the green one or you can go

00:02:23,930 --> 00:02:40,189
to click the Titan go edit mode so this

00:02:38,269 --> 00:02:41,840
is how you write your perimeter squares

00:02:40,189 --> 00:02:44,180
I'm not going to show you you so many

00:02:41,840 --> 00:02:48,739
per meter square is because the permit

00:02:44,180 --> 00:02:52,209
is team probably slap in the face but it

00:02:48,739 --> 00:03:02,319
allows you to do some filtering like job

00:02:52,209 --> 00:03:05,650
equals no stuff like that you can also

00:03:02,319 --> 00:03:08,470
format the label because this is the

00:03:05,650 --> 00:03:11,810
name that Prometheus returns and it's

00:03:08,470 --> 00:03:13,939
correct but cannot ugly so I suggest you

00:03:11,810 --> 00:03:17,299
give it a better name by using the legit

00:03:13,939 --> 00:03:21,319
formatter like that then you will select

00:03:17,299 --> 00:03:24,040
the label job and all your dash

00:03:21,319 --> 00:03:27,819
paragraphs it looks much better

00:03:24,040 --> 00:03:32,389
you can also quick search on time series

00:03:27,819 --> 00:03:35,359
to the right if you want to search to

00:03:32,389 --> 00:03:38,090
get the correct spelling and so on and

00:03:35,359 --> 00:03:39,579
if you click it it will go into the

00:03:38,090 --> 00:03:41,959
query this is not super sleek but

00:03:39,579 --> 00:03:48,199
hopefully we will improve it in the

00:03:41,959 --> 00:03:51,019
future so let's go to the next thing

00:03:48,199 --> 00:03:54,949
yesterday Christian asked for consoles

00:03:51,019 --> 00:03:58,159
in grey fauna and you can get consoles

00:03:54,949 --> 00:03:59,919
ingre fauna using the table panel you

00:03:58,159 --> 00:04:02,239
just have to configure the

00:03:59,919 --> 00:04:05,959
transformation of the time series to

00:04:02,239 --> 00:04:08,599
aggregate aggregations then you will not

00:04:05,959 --> 00:04:13,909
have the time series so then you get a

00:04:08,599 --> 00:04:15,470
console ID feature and you can also be

00:04:13,909 --> 00:04:18,859
smart about the labels so in this case

00:04:15,470 --> 00:04:22,580
I'm certain searching for alerts firing

00:04:18,859 --> 00:04:26,719
that's firing then you can use the

00:04:22,580 --> 00:04:27,590
labeling part to create a link select

00:04:26,719 --> 00:04:32,090
alert name

00:04:27,590 --> 00:04:35,590
that way all these are clickable small

00:04:32,090 --> 00:04:35,590
nifty features that might be useful

00:04:40,510 --> 00:04:45,020
another thing that might be funny on

00:04:42,800 --> 00:04:47,110
that core issue in your show just one

00:04:45,020 --> 00:04:49,910
label name like comic version or

00:04:47,110 --> 00:04:52,310
whatever server you're targeting or

00:04:49,910 --> 00:04:54,320
something and this features cannon you

00:04:52,310 --> 00:05:00,580
in the single stack panel that you can

00:04:54,320 --> 00:05:00,580
select the Siri name instead of value

00:05:00,910 --> 00:05:05,780
because they offer you want to see which

00:05:03,440 --> 00:05:08,470
database you're heating or a version or

00:05:05,780 --> 00:05:08,470
something like that

00:05:14,530 --> 00:05:24,770
next annotations is something that is

00:05:21,440 --> 00:05:27,350
really useful in graphs is when you want

00:05:24,770 --> 00:05:28,520
to highlight something specific and I'm

00:05:27,350 --> 00:05:32,479
not sure when we added support

00:05:28,520 --> 00:05:33,800
annotations in Prometheus but if you

00:05:32,479 --> 00:05:35,150
want to configure them and stir them up

00:05:33,800 --> 00:05:38,360
you go up to settings and then

00:05:35,150 --> 00:05:43,700
annotations you will be able to set them

00:05:38,360 --> 00:05:46,090
up so I'll show you the this example

00:05:43,700 --> 00:05:51,650
which is just a primitive query and

00:05:46,090 --> 00:05:53,660
whenever it returns we draw a line and

00:05:51,650 --> 00:06:01,729
then you can pick color and so on that

00:05:53,660 --> 00:06:05,150
you want something that's very nice is

00:06:01,729 --> 00:06:10,010
that you can query the alerts time

00:06:05,150 --> 00:06:13,370
series so whenever it's firing it draws

00:06:10,010 --> 00:06:16,610
a line and you can also select certain

00:06:13,370 --> 00:06:18,500
values from the results from the alert

00:06:16,610 --> 00:06:20,419
so in this case we want to set the title

00:06:18,500 --> 00:06:23,560
to alert name and we want to affect the

00:06:20,419 --> 00:06:27,289
tags job and alert and we want the text

00:06:23,560 --> 00:06:32,090
again to be a link to something based on

00:06:27,289 --> 00:06:35,419
the time series what you get is a

00:06:32,090 --> 00:06:39,229
actionable annotation that gives you

00:06:35,419 --> 00:06:40,960
quite a lot of information so hopefully

00:06:39,229 --> 00:06:44,009
you can link back tor

00:06:40,960 --> 00:06:44,009
Prometheus or something like that

00:06:51,419 --> 00:06:58,020
templating is one of the more advanced

00:06:55,150 --> 00:07:01,150
and powerful use features in graph Anna

00:06:58,020 --> 00:07:05,139
I'm gonna show you most of them that we

00:07:01,150 --> 00:07:07,930
support in for Prometheus and the first

00:07:05,139 --> 00:07:09,699
one and that how everyone should be

00:07:07,930 --> 00:07:14,199
aware of using Prometheus is the data

00:07:09,699 --> 00:07:21,340
source template variable so you can

00:07:14,199 --> 00:07:25,990
configure a dashboard to use a template

00:07:21,340 --> 00:07:28,570
variable instead of a specific data

00:07:25,990 --> 00:07:29,919
source an template variables could be

00:07:28,570 --> 00:07:32,310
seen as a variable that you can

00:07:29,919 --> 00:07:34,690
dynamically change by these dropdowns

00:07:32,310 --> 00:07:36,550
so then you could change to the other

00:07:34,690 --> 00:07:44,760
primitive server that's not running or

00:07:36,550 --> 00:07:46,990
and go back to Brian's demo site the

00:07:44,760 --> 00:07:52,410
most simple version of a template

00:07:46,990 --> 00:07:59,830
variable is custom value so whenever I

00:07:52,410 --> 00:08:01,539
change these alert the query changes if

00:07:59,830 --> 00:08:04,770
you want to configure their templating

00:08:01,539 --> 00:08:08,680
you go up to the settings as usual and

00:08:04,770 --> 00:08:11,380
then we go to custom values and as you

00:08:08,680 --> 00:08:14,050
see here we just choose to type custom

00:08:11,380 --> 00:08:15,940
and we provide values and these sort of

00:08:14,050 --> 00:08:19,510
values that will be shows about in this

00:08:15,940 --> 00:08:30,270
drop-down promise operator and if you

00:08:19,510 --> 00:08:30,270
have one gateway again you see

00:08:34,250 --> 00:08:40,129
you can also use template create

00:08:37,759 --> 00:08:42,129
templates variables depending on queries

00:08:40,129 --> 00:08:46,639
that you sent to Prometheus

00:08:42,129 --> 00:08:51,259
so this template variables jobs queries

00:08:46,639 --> 00:08:52,939
Prometheus for label values that's used

00:08:51,259 --> 00:08:58,879
for the labor that can be used for the

00:08:52,939 --> 00:09:01,279
label job which then returns this and we

00:08:58,879 --> 00:09:03,050
can also include the options multi-value

00:09:01,279 --> 00:09:05,930
which means you can select two relatives

00:09:03,050 --> 00:09:10,910
at the same time you can also include

00:09:05,930 --> 00:09:16,459
all option which means all so if we go

00:09:10,910 --> 00:09:20,899
to the jobs templating we can select the

00:09:16,459 --> 00:09:29,540
wall or just one and you have to click

00:09:20,899 --> 00:09:32,269
outside this update and whenever you do

00:09:29,540 --> 00:09:35,269
that you want to make sure to have the

00:09:32,269 --> 00:09:38,750
this little tilde character in your

00:09:35,269 --> 00:09:41,149
query because otherwise queries like

00:09:38,750 --> 00:09:43,639
this will not work since the primitives

00:09:41,149 --> 00:09:47,569
really requires a perfect match and DC

00:09:43,639 --> 00:09:49,550
this is a very common issue and question

00:09:47,569 --> 00:09:51,500
our mailing list so whenever you use

00:09:49,550 --> 00:10:01,069
multi select you have to use the tilde

00:09:51,500 --> 00:10:04,730
character another more another

00:10:01,069 --> 00:10:08,149
templating function that you can use is

00:10:04,730 --> 00:10:11,449
the metrics query where you send a query

00:10:08,149 --> 00:10:18,350
to Prometheus asking for time serious

00:10:11,449 --> 00:10:21,769
matching this name so in this case we

00:10:18,350 --> 00:10:28,309
query Prometheus for this kind of time

00:10:21,769 --> 00:10:31,329
serious we get back a bunch and this

00:10:28,309 --> 00:10:31,329
enables us to have

00:10:32,980 --> 00:10:40,130
Aquarius like this the disks area will

00:10:37,690 --> 00:10:43,670
be replaced with a time series you

00:10:40,130 --> 00:10:48,620
select up in the template verbal and

00:10:43,670 --> 00:10:57,440
then jobs will be selected replaced with

00:10:48,620 --> 00:10:59,930
a jobs selector it's hard to say how

00:10:57,440 --> 00:11:03,760
useful this is but I bet you can find

00:10:59,930 --> 00:11:03,760
the reasons to use something like this

00:11:09,010 --> 00:11:13,280
so let's see if I cover all the cases

00:11:11,570 --> 00:11:16,720
you can't oh yeah the last case I I

00:11:13,280 --> 00:11:19,790
couldn't make up on a real example of

00:11:16,720 --> 00:11:21,560
but you could also create template

00:11:19,790 --> 00:11:27,950
variables containing results from

00:11:21,560 --> 00:11:32,650
Prometheus queries so in this case we

00:11:27,950 --> 00:11:35,630
will query for a time series special

00:11:32,650 --> 00:11:39,530
matching this query and we will get this

00:11:35,630 --> 00:11:41,120
result and we can use some rags a

00:11:39,530 --> 00:11:42,860
matching to get whatever you want for

00:11:41,120 --> 00:11:45,380
this specific templating I couldn't

00:11:42,860 --> 00:11:50,170
figure something up with the DMO data

00:11:45,380 --> 00:11:53,180
that's provided bribery by Brian but I

00:11:50,170 --> 00:11:55,420
bet you guys can find some good use for

00:11:53,180 --> 00:11:55,420
it

00:12:03,890 --> 00:12:11,240
another kind of powerful feature is the

00:12:07,520 --> 00:12:17,040
panel repeater so when you have a

00:12:11,240 --> 00:12:20,400
template like this you can have a you

00:12:17,040 --> 00:12:23,580
can set the panel to repeat for the

00:12:20,400 --> 00:12:26,010
amount of template variables selected so

00:12:23,580 --> 00:12:29,310
in this case it will repeat for every

00:12:26,010 --> 00:12:31,950
template variable that you select if you

00:12:29,310 --> 00:12:39,300
compare a configure repeat panel in

00:12:31,950 --> 00:12:41,040
general so this way you can create very

00:12:39,300 --> 00:12:45,480
dynamic dashboards and you can also use

00:12:41,040 --> 00:12:47,970
unicorn shares in your single stats so

00:12:45,480 --> 00:12:58,290
in this case it's matching it's asking

00:12:47,970 --> 00:13:02,060
if it's 1 or 0 two other features that I

00:12:58,290 --> 00:13:07,680
think everyone should be using is the

00:13:02,060 --> 00:13:10,920
snapshot if you go to dashboard and

00:13:07,680 --> 00:13:15,120
share you will be able to either save it

00:13:10,920 --> 00:13:17,820
locally or in our graph on a hosted

00:13:15,120 --> 00:13:19,430
version and what it does it is saves all

00:13:17,820 --> 00:13:22,950
the data that you're currently viewing

00:13:19,430 --> 00:13:30,210
into a Sun globe and then renders that

00:13:22,950 --> 00:13:32,040
whenever someone opens the snapshot so

00:13:30,210 --> 00:13:34,200
you don't need access to the data source

00:13:32,040 --> 00:13:36,450
or anything like that you can just view

00:13:34,200 --> 00:13:45,240
it on your mobile phone or whatever and

00:13:36,450 --> 00:13:51,870
this is kind of powerful I shouldn't

00:13:45,240 --> 00:13:54,300
like them anyway you can view it on your

00:13:51,870 --> 00:13:57,150
mobile phone or something like that when

00:13:54,300 --> 00:14:03,090
you don't have access to the graph an ax

00:13:57,150 --> 00:14:05,580
or primitive server you can also create

00:14:03,090 --> 00:14:06,960
links to the dashboard and this is very

00:14:05,580 --> 00:14:08,550
useful when you have a lot of template

00:14:06,960 --> 00:14:11,610
variables I've seen a lot of dashboard

00:14:08,550 --> 00:14:12,339
that has four or five different template

00:14:11,610 --> 00:14:14,740
template

00:14:12,339 --> 00:14:16,930
berbils and then you see something you

00:14:14,740 --> 00:14:18,850
wanna make sure that the person you send

00:14:16,930 --> 00:14:22,480
a link to get all the template variables

00:14:18,850 --> 00:14:25,360
at the same state as you do so if you

00:14:22,480 --> 00:14:35,620
click create link you get a link

00:14:25,360 --> 00:14:39,579
including a preset template variable so

00:14:35,620 --> 00:14:43,300
I I had a data source template which

00:14:39,579 --> 00:14:48,670
were hidden which caused problems when

00:14:43,300 --> 00:14:53,680
you're sharing when I showed it yeah

00:14:48,670 --> 00:14:57,670
sorry about that that's all I have to

00:14:53,680 --> 00:15:01,959
share within Gravano I hope you found

00:14:57,670 --> 00:15:05,110
some of these features useful the next

00:15:01,959 --> 00:15:06,730
thing I want to talk about is that we're

00:15:05,110 --> 00:15:09,730
currently working on is alerting for

00:15:06,730 --> 00:15:12,930
Ravana and I know you guys already has

00:15:09,730 --> 00:15:15,370
this kind of pin down by yourself and

00:15:12,930 --> 00:15:17,889
last night I had a conversation with

00:15:15,370 --> 00:15:19,809
Julius and Fabien and some of the other

00:15:17,889 --> 00:15:22,209
folks from committees and we cannot

00:15:19,809 --> 00:15:23,620
start it from two different angles I bet

00:15:22,209 --> 00:15:27,179
you started on a whiteboard with a

00:15:23,620 --> 00:15:30,459
perfect data model we started by mocking

00:15:27,179 --> 00:15:32,889
fees in your phone and trying to find a

00:15:30,459 --> 00:15:36,069
way where we can provide alerting as

00:15:32,889 --> 00:15:38,290
quick as possible and without any

00:15:36,069 --> 00:15:41,980
knowledge about tags or labels because

00:15:38,290 --> 00:15:43,749
that's these kind of attributes to time

00:15:41,980 --> 00:15:45,730
series is not available generally in

00:15:43,749 --> 00:15:48,040
your phonograph Anna only knows time

00:15:45,730 --> 00:15:51,550
series and names so we have other

00:15:48,040 --> 00:15:56,350
limitations but we hope to provide

00:15:51,550 --> 00:15:59,860
another feature another experience that

00:15:56,350 --> 00:16:03,730
might be be suitable for some people and

00:15:59,860 --> 00:16:06,999
the idea for us is to have queries that

00:16:03,730 --> 00:16:10,839
are reduced to one name one value either

00:16:06,999 --> 00:16:14,499
bar some max mean and then compared to

00:16:10,839 --> 00:16:19,209
one number and whenever the result of a

00:16:14,499 --> 00:16:22,329
time series is above or below or within

00:16:19,209 --> 00:16:25,360
range outside range we will alert so

00:16:22,329 --> 00:16:26,700
that's our philosophy so far and it's

00:16:25,360 --> 00:16:29,470
been

00:16:26,700 --> 00:16:30,700
successful for some data sources we only

00:16:29,470 --> 00:16:33,330
support graphite right now but

00:16:30,700 --> 00:16:37,270
Prometheus will be at the next week but

00:16:33,330 --> 00:16:41,350
this is UI first rather than config

00:16:37,270 --> 00:16:42,790
first and I think it's important to have

00:16:41,350 --> 00:16:46,540
everyone in your team being able to

00:16:42,790 --> 00:16:49,930
create alerts so I think this might be a

00:16:46,540 --> 00:16:53,260
good idea and you can also test the

00:16:49,930 --> 00:16:54,910
rooms within Ravana so whenever you

00:16:53,260 --> 00:16:58,150
press the button you will be we will do

00:16:54,910 --> 00:17:00,010
a test run and you get a result for

00:16:58,150 --> 00:17:03,400
every time series is this firing it's

00:17:00,010 --> 00:17:04,180
this not firing etc this is much work in

00:17:03,400 --> 00:17:09,089
progress

00:17:04,180 --> 00:17:12,190
we'll see how it ends in a few months

00:17:09,089 --> 00:17:14,589
the graph on Annette is also something I

00:17:12,190 --> 00:17:18,730
want to talk about in Griffin trio we

00:17:14,589 --> 00:17:21,850
added a plug-in system which allows you

00:17:18,730 --> 00:17:25,329
to install plugins and dashboards that

00:17:21,850 --> 00:17:27,880
are hosted on our site and planes can be

00:17:25,329 --> 00:17:31,960
of three different kinds it's data

00:17:27,880 --> 00:17:33,700
sources panels and apps and apps his mmm

00:17:31,960 --> 00:17:37,030
a combination of panels and data sources

00:17:33,700 --> 00:17:39,070
and you can also have custom pages if

00:17:37,030 --> 00:17:41,110
you wanna promote to something special

00:17:39,070 --> 00:17:47,560
or integrate the way products that we

00:17:41,110 --> 00:17:51,520
don't really know deal with and it looks

00:17:47,560 --> 00:17:53,050
something like this and if you want to

00:17:51,520 --> 00:17:55,300
install these planes you can just use

00:17:53,050 --> 00:17:58,030
the CLI to--that's bundled with Griffin

00:17:55,300 --> 00:17:59,710
ah so plug-in install a graph on a PI

00:17:58,030 --> 00:18:01,600
short if you want to use PI short I

00:17:59,710 --> 00:18:06,010
strongly suggest you don't use PI shark

00:18:01,600 --> 00:18:09,820
but some people really want to and some

00:18:06,010 --> 00:18:12,090
plugins that I think are nice to be

00:18:09,820 --> 00:18:15,700
aware of if is the world

00:18:12,090 --> 00:18:20,230
well map so now here you can map time

00:18:15,700 --> 00:18:23,380
Siri to turn map and depending on how

00:18:20,230 --> 00:18:26,470
many matches you have for a country or

00:18:23,380 --> 00:18:29,310
year location it will the ball will

00:18:26,470 --> 00:18:32,050
increase to be smaller or change color

00:18:29,310 --> 00:18:36,400
now your location it might not be a good

00:18:32,050 --> 00:18:37,610
idea for Prometheus and labels but using

00:18:36,400 --> 00:18:43,220
country code should be

00:18:37,610 --> 00:18:45,710
releasing another plugin that I like

00:18:43,220 --> 00:18:48,170
because I wrote it is the simple yes on

00:18:45,710 --> 00:18:50,630
plug-in it's basically a very tiny

00:18:48,170 --> 00:18:53,750
protocol for sending put a post request

00:18:50,630 --> 00:18:56,120
to whatever server where they can then

00:18:53,750 --> 00:18:59,000
respond with time series and this makes

00:18:56,120 --> 00:19:00,920
it possible to integrate any system into

00:18:59,000 --> 00:19:04,540
gravano to have any assistant role or

00:19:00,920 --> 00:19:07,340
lines even if they're not meant to and

00:19:04,540 --> 00:19:09,830
the and there's a lot of system that you

00:19:07,340 --> 00:19:11,809
want to extract data from and this makes

00:19:09,830 --> 00:19:14,590
it very easy without us having to

00:19:11,809 --> 00:19:16,549
integrate with every single server etc

00:19:14,590 --> 00:19:21,620
and this can also be used from a

00:19:16,549 --> 00:19:24,470
patient's and so on and I've been asked

00:19:21,620 --> 00:19:27,830
as many times during this conference

00:19:24,470 --> 00:19:30,080
about histograms and heat maps and we

00:19:27,830 --> 00:19:33,320
don't really support that yet but

00:19:30,080 --> 00:19:35,600
there's three one issue that you might

00:19:33,320 --> 00:19:40,010
want to keep track on where we are

00:19:35,600 --> 00:19:44,120
starting to add the possibilities are

00:19:40,010 --> 00:19:46,549
the different values to be Excel in the

00:19:44,120 --> 00:19:48,440
graph panel I wouldn't say it's

00:19:46,549 --> 00:19:52,100
histograms or something like that yet

00:19:48,440 --> 00:19:54,169
but I'm panda who is working a lot on

00:19:52,100 --> 00:19:58,190
the Prometheus project on a Prometheus

00:19:54,169 --> 00:19:59,780
part has two plugins that support this I

00:19:58,190 --> 00:20:02,179
am frightened mouths myself but he is

00:19:59,780 --> 00:20:04,070
using them for Prometheus histograms and

00:20:02,179 --> 00:20:06,590
the heat map so please check them out

00:20:04,070 --> 00:20:15,200
and if they don't work perfectly please

00:20:06,590 --> 00:20:18,470
help in and the last thing I want to

00:20:15,200 --> 00:20:21,470
talk about is dashboard sharing which

00:20:18,470 --> 00:20:23,540
was entry one so whenever you have a

00:20:21,470 --> 00:20:25,280
dashboard that you like you can extract

00:20:23,540 --> 00:20:27,470
it and upload it to graph an audit map

00:20:25,280 --> 00:20:31,429
which makes it super easy for other

00:20:27,470 --> 00:20:36,590
people to get started with with a new

00:20:31,429 --> 00:20:38,270
data source or new exporter a new game a

00:20:36,590 --> 00:20:40,460
new system or anything like that because

00:20:38,270 --> 00:20:43,250
it's sometimes very the hard part is not

00:20:40,460 --> 00:20:44,780
always used to extract metrics and put

00:20:43,250 --> 00:20:46,970
them in a graph the hard part is knowing

00:20:44,780 --> 00:20:49,640
what to watch and what to compare and

00:20:46,970 --> 00:20:51,389
what to say so if you spend a lot of

00:20:49,640 --> 00:20:53,879
time setting up the degree

00:20:51,389 --> 00:20:56,779
- ports please share them so you can get

00:20:53,879 --> 00:20:59,070
started earlier and if you do exporter

00:20:56,779 --> 00:21:04,259
needs a very good idea to do a dashboard

00:20:59,070 --> 00:21:06,989
I think and if you when you import them

00:21:04,259 --> 00:21:09,149
into graph on ax you can use specified

00:21:06,989 --> 00:21:12,899
you your URL to the graph on a block doc

00:21:09,149 --> 00:21:14,909
net site and then you show some permit

00:21:12,899 --> 00:21:16,320
use data source or other configuration

00:21:14,909 --> 00:21:18,049
that's needed for this dashboard and

00:21:16,320 --> 00:21:20,579
you're up and running

00:21:18,049 --> 00:21:23,639
you can get dashboards million seconds

00:21:20,579 --> 00:21:27,539
it's super sleek because setting up -

00:21:23,639 --> 00:21:31,259
ports is not always that fun and it's a

00:21:27,539 --> 00:21:34,289
go alliance with our one hour earlier

00:21:31,259 --> 00:21:36,139
posters and culture that we want to

00:21:34,289 --> 00:21:38,159
create within the graph on a team is

00:21:36,139 --> 00:21:40,079
democratized metrics we want to spread

00:21:38,159 --> 00:21:43,079
metrics and make them free and available

00:21:40,079 --> 00:21:47,899
for everyone and sharing tasks for that

00:21:43,079 --> 00:21:47,899
board is one way of making that easier

00:21:48,200 --> 00:21:52,999
so that's it for me thank you for

00:21:50,549 --> 00:21:52,999
listening

00:21:59,320 --> 00:22:06,080
any questions first of all we we use

00:22:04,370 --> 00:22:08,600
Griffin a heavily and we like it so

00:22:06,080 --> 00:22:11,300
thank you for that I have a question

00:22:08,600 --> 00:22:14,570
related to and of course we use it

00:22:11,300 --> 00:22:17,620
heavily with prometheus and since can't

00:22:14,570 --> 00:22:20,390
remember which version Prometheus added

00:22:17,620 --> 00:22:24,950
time filtering to the series end point

00:22:20,390 --> 00:22:26,750
and I was wondering if templating in

00:22:24,950 --> 00:22:46,490
Griffin are supported now with

00:22:26,750 --> 00:22:48,500
Prometheus data source you can use a

00:22:46,490 --> 00:22:50,150
templating engine on the labels which

00:22:48,500 --> 00:22:53,360
templating engine is working there in

00:22:50,150 --> 00:22:57,530
the background oh it's not permit just

00:22:53,360 --> 00:23:00,320
templating engine it I'm not sure if I

00:22:57,530 --> 00:23:03,020
get your question but but the template

00:23:00,320 --> 00:23:17,600
the engine is willing Ravana it into

00:23:03,020 --> 00:23:22,360
place the queries so the legend feels

00:23:17,600 --> 00:23:22,360
what is the templating system used okay

00:23:22,840 --> 00:23:29,930
I think if that's pointed just

00:23:27,710 --> 00:23:31,820
interpolation so there's no template in

00:23:29,930 --> 00:23:36,440
at all it just so we play it just be

00:23:31,820 --> 00:23:42,170
places are labeled use template very

00:23:36,440 --> 00:23:45,380
same legends so just a question there

00:23:42,170 --> 00:23:47,540
we'll be able to add links and does that

00:23:45,380 --> 00:23:53,690
mean that there's XSS vulnerabilities

00:23:47,540 --> 00:23:57,560
yeah some we do angular has a sanitizer

00:23:53,690 --> 00:24:00,350
that we sense or using before we put it

00:23:57,560 --> 00:24:03,160
out yeah that's a good question

00:24:00,350 --> 00:24:03,160
and xsrf

00:24:05,610 --> 00:24:11,380
thanks so much in the beginning you

00:24:08,620 --> 00:24:14,380
mentioned there's 2800 installations

00:24:11,380 --> 00:24:16,330
with Griffin with Prometheus can you

00:24:14,380 --> 00:24:18,010
share any stats how that compares to

00:24:16,330 --> 00:24:25,090
other data sources or is that

00:24:18,010 --> 00:24:28,090
confidential okay yeah I can show you

00:24:25,090 --> 00:24:29,980
afterwards but we don't wanna start this

00:24:28,090 --> 00:24:41,980
discussion about popularity between data

00:24:29,980 --> 00:24:43,740
sources sure yeah any other questions we

00:24:41,980 --> 00:24:47,290
use Griffin Oh a lot and it's fantastic

00:24:43,740 --> 00:24:49,420
so thanks a lot for that one issue I

00:24:47,290 --> 00:24:54,190
have is that when I try to use the data

00:24:49,420 --> 00:24:57,010
source plugins if I then try to export

00:24:54,190 --> 00:24:58,960
and share the template or the dashboard

00:24:57,010 --> 00:25:02,620
with someone else when they import it

00:24:58,960 --> 00:25:05,530
they have to choose specific like the

00:25:02,620 --> 00:25:08,020
the UI requires them to specify which

00:25:05,530 --> 00:25:11,560
data source they want to use and then

00:25:08,020 --> 00:25:13,660
subsequently a basically the data source

00:25:11,560 --> 00:25:15,640
template doesn't work anymore because

00:25:13,660 --> 00:25:17,860
it's been kind of hard coded by the

00:25:15,640 --> 00:25:21,370
import process I was wondering if there

00:25:17,860 --> 00:25:26,140
was any solution for that no that's

00:25:21,370 --> 00:25:29,980
that's technically a bug or a drawback

00:25:26,140 --> 00:25:32,350
that we have to live with myself just

00:25:29,980 --> 00:25:33,490
was capitalization of data sources like

00:25:32,350 --> 00:25:35,170
moving stuff from one graph I know to

00:25:33,490 --> 00:25:36,370
another and one is permeat he sort of

00:25:35,170 --> 00:25:40,270
capital P Malone's communities at a

00:25:36,370 --> 00:25:42,690
lowercase P and yeah those work any

00:25:40,270 --> 00:25:42,690
other questions

00:25:43,020 --> 00:25:47,160

YouTube URL: https://www.youtube.com/watch?v=KoU_DquChS8


