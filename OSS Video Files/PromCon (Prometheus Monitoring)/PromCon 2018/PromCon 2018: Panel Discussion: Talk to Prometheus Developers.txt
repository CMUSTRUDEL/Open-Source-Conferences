Title: PromCon 2018: Panel Discussion: Talk to Prometheus Developers
Publication date: 2018-11-10
Playlist: PromCon 2018
Description: 
	Speakers:

Julius Volz (moderator)
All present Prometheus maintainers
A panel of Prometheus maintainers will answer questions about Prometheus, alternating between audience questions and presubmitted ones. Submit your questions in advance here!.
Captions: 
	00:00:09,799 --> 00:00:16,250
hey it's Dan Kahn from CMC F first I

00:00:13,849 --> 00:00:18,650
just want to thank you guys for a great

00:00:16,250 --> 00:00:21,529
event and congratulate you on graduating

00:00:18,650 --> 00:00:23,449
yesterday and also on Open metrics today

00:00:21,529 --> 00:00:27,710
and I'll start with the softball

00:00:23,449 --> 00:00:32,090
question bar code which is I believe

00:00:27,710 --> 00:00:36,890
that prometheus is the other than Linux

00:00:32,090 --> 00:00:38,420
the highest velocity open-source project

00:00:36,890 --> 00:00:40,270
in terms of number of contributors

00:00:38,420 --> 00:00:44,060
number of contributions number of issues

00:00:40,270 --> 00:00:46,310
and such that was not originally backed

00:00:44,060 --> 00:00:50,270
by one company and we can argue oh

00:00:46,310 --> 00:00:54,880
SoundCloud okay any views on that any

00:00:50,270 --> 00:00:54,880
any thoughts on what got to this place

00:00:55,300 --> 00:00:59,690
yeah I mean I guess yeah I was there in

00:00:58,460 --> 00:01:01,550
the beginning when it wasn't I mean

00:00:59,690 --> 00:01:06,290
sound it started kind of at SoundCloud

00:01:01,550 --> 00:01:08,299
kind of in our free time and but even

00:01:06,290 --> 00:01:10,520
when SoundCloud founded the development

00:01:08,299 --> 00:01:12,770
they didn't do it to do open source they

00:01:10,520 --> 00:01:16,280
led us to it like we took our liberties

00:01:12,770 --> 00:01:19,399
there I think it is a good thing and a

00:01:16,280 --> 00:01:20,959
bad thing it's good in the sense that it

00:01:19,399 --> 00:01:22,399
was pretty independent from the

00:01:20,959 --> 00:01:23,810
beginning and everyone kind of agreed

00:01:22,399 --> 00:01:27,439
yeah we want to make this very

00:01:23,810 --> 00:01:30,350
independent it's sometimes also means

00:01:27,439 --> 00:01:32,179
that you know it's it's being led by

00:01:30,350 --> 00:01:33,619
people from all kinds of different

00:01:32,179 --> 00:01:35,990
companies wanting different things

00:01:33,619 --> 00:01:38,779
political problems but also sometimes

00:01:35,990 --> 00:01:42,889
there is not a one big company with the

00:01:38,779 --> 00:01:46,099
interest to fund you know long-term

00:01:42,889 --> 00:01:48,200
ongoing maintenance I mean we get that a

00:01:46,099 --> 00:01:51,109
bit from companies like Red Hat and

00:01:48,200 --> 00:01:52,999
others but one company that feels like

00:01:51,109 --> 00:01:55,539
they own it so much like kubernetes with

00:01:52,999 --> 00:01:57,619
Google and so on that they also spend

00:01:55,539 --> 00:02:00,289
resources on yeah long term maintenance

00:01:57,619 --> 00:02:02,840
but also programs such as I mean you

00:02:00,289 --> 00:02:06,039
maybe see it again on this stage the

00:02:02,840 --> 00:02:10,270
topic was touched briefly yesterday I

00:02:06,039 --> 00:02:13,910
mean it seems like we're all guys again

00:02:10,270 --> 00:02:15,709
and you know this I think this problem

00:02:13,910 --> 00:02:19,010
is even more challenging when you're

00:02:15,709 --> 00:02:20,480
kind of more of a voluntary group and

00:02:19,010 --> 00:02:22,370
you don't have like a billion dollar

00:02:20,480 --> 00:02:23,720
company saying like okay here's actual

00:02:22,370 --> 00:02:25,700
lot of money to

00:02:23,720 --> 00:02:28,880
trying to dresser and of course that's

00:02:25,700 --> 00:02:32,960
not the only problem but yeah I think

00:02:28,880 --> 00:02:37,010
anyone else want to talk more about that

00:02:32,960 --> 00:02:40,700
point but otherwise I mean I think I'm

00:02:37,010 --> 00:02:43,520
pretty proud of where we got given that

00:02:40,700 --> 00:02:46,400
we really started out as we just want to

00:02:43,520 --> 00:02:47,590
solve our own problem we don't have any

00:02:46,400 --> 00:02:49,430
plans for this to go really anywhere

00:02:47,590 --> 00:02:51,200
hopefully we can use it at our next

00:02:49,430 --> 00:02:52,160
employer and now everyone's using it

00:02:51,200 --> 00:02:57,200
that's really crazy

00:02:52,160 --> 00:02:59,060
I think that may be actually why it was

00:02:57,200 --> 00:03:01,970
so successful because it was really

00:02:59,060 --> 00:03:04,490
solving a need like and it's very much

00:03:01,970 --> 00:03:07,870
an engineering product and not something

00:03:04,490 --> 00:03:07,870
that's driven by some company

00:03:08,140 --> 00:03:13,040
okay should I repeat that or did

00:03:11,600 --> 00:03:15,650
everyone get that

00:03:13,040 --> 00:03:16,130
yeah so I think that's that's very very

00:03:15,650 --> 00:03:18,770
much

00:03:16,130 --> 00:03:24,110
why Prometheus is so so popular and also

00:03:18,770 --> 00:03:27,130
because of the like I think we can we

00:03:24,110 --> 00:03:29,840
should always thank Brian for this that

00:03:27,130 --> 00:03:32,209
sometimes it takes a while to discuss

00:03:29,840 --> 00:03:41,570
the to discuss things but everything's

00:03:32,209 --> 00:03:43,310
super consistent and coherent yeah and I

00:03:41,570 --> 00:03:47,470
think that's that's why so many people

00:03:43,310 --> 00:03:47,470
love prom KL for example

00:03:53,950 --> 00:04:12,680
do you still have tokens I think yes I

00:04:08,650 --> 00:04:16,209
think yesterday I don't know who was it

00:04:12,680 --> 00:04:21,650
talked about the initiative to get more

00:04:16,209 --> 00:04:23,479
people on board on to get better

00:04:21,650 --> 00:04:26,539
onboarding for parameters for users I

00:04:23,479 --> 00:04:29,449
think could you please elaborate a

00:04:26,539 --> 00:04:31,360
little bit about I think one thing is

00:04:29,449 --> 00:04:34,580
documentation another thing will be

00:04:31,360 --> 00:04:38,360
simplify some things yeah that was me

00:04:34,580 --> 00:04:40,760
mentioning it so one of the things we do

00:04:38,360 --> 00:04:42,919
basically CN CF is funding a

00:04:40,760 --> 00:04:44,660
documentation push which Luke is doing

00:04:42,919 --> 00:04:47,640
who could not waive and you can all

00:04:44,660 --> 00:04:52,030
thank him yeah

00:04:47,640 --> 00:04:55,850
[Applause]

00:04:52,030 --> 00:04:57,860
so just to like course most of what we

00:04:55,850 --> 00:04:59,599
have is more like a developer reference

00:04:57,860 --> 00:05:02,030
are not really documentation which you

00:04:59,599 --> 00:05:04,520
can use to run stuff and just flashing

00:05:02,030 --> 00:05:06,710
this out more for like easing this this

00:05:04,520 --> 00:05:08,570
initial learning curve and the other

00:05:06,710 --> 00:05:10,760
thing is just to create more stuff which

00:05:08,570 --> 00:05:14,630
like actually lays down like our

00:05:10,760 --> 00:05:16,699
philosophy or non goals or our end or

00:05:14,630 --> 00:05:18,410
goals or design decisions we made from

00:05:16,699 --> 00:05:20,510
there to the engineering trade-offs and

00:05:18,410 --> 00:05:22,760
based on that the best practices so you

00:05:20,510 --> 00:05:24,289
like you have this mental flow of like

00:05:22,760 --> 00:05:27,380
the first principles where are we coming

00:05:24,289 --> 00:05:28,699
from and then you get more and more into

00:05:27,380 --> 00:05:30,410
the actual implementation of what

00:05:28,699 --> 00:05:32,750
changes so you can actually like follow

00:05:30,410 --> 00:05:34,490
that chain of logic and this makes it a

00:05:32,750 --> 00:05:37,039
lot easier for you like to come up to

00:05:34,490 --> 00:05:38,659
speed with the project and go from there

00:05:37,039 --> 00:05:41,360
instead of like having to start early

00:05:38,659 --> 00:05:43,909
and then also to really try and get

00:05:41,360 --> 00:05:45,889
people to really answer on the user

00:05:43,909 --> 00:05:47,510
Manning list so every one of you again

00:05:45,889 --> 00:05:48,919
you're more than welcome to join the

00:05:47,510 --> 00:05:51,229
user Magnus and actually answer

00:05:48,919 --> 00:05:53,240
questions this also takes loads off of

00:05:51,229 --> 00:05:55,460
us and you're also more than welcome to

00:05:53,240 --> 00:05:56,960
for example go into issues and just help

00:05:55,460 --> 00:05:59,300
people or maybe redirect them to

00:05:56,960 --> 00:06:00,830
remaining lists so these are kind of the

00:05:59,300 --> 00:06:02,300
efforts which we are going through and

00:06:00,830 --> 00:06:05,300
also just like reflection between

00:06:02,300 --> 00:06:07,340
between all of us of how we can improve

00:06:05,300 --> 00:06:09,470
things make things more welcoming

00:06:07,340 --> 00:06:11,810
maybe have a few snippets for like often

00:06:09,470 --> 00:06:13,760
ask questions or often phrases which you

00:06:11,810 --> 00:06:15,110
need which you think and for putting

00:06:13,760 --> 00:06:22,430
people to the mainland mystic and and

00:06:15,110 --> 00:06:25,400
stuff like that well first thank you so

00:06:22,430 --> 00:06:27,920
much for the prom calm was amazing great

00:06:25,400 --> 00:06:30,200
job you are doing here and even with

00:06:27,920 --> 00:06:34,370
primitives great thank you

00:06:30,200 --> 00:06:36,320
and the question is what's next from

00:06:34,370 --> 00:06:40,250
parameters we talked yesterday a little

00:06:36,320 --> 00:06:43,070
bit about it and the second question if

00:06:40,250 --> 00:06:45,890
I can do it it's like it's the plan to

00:06:43,070 --> 00:06:48,790
have some kind of best practice document

00:06:45,890 --> 00:06:52,910
it's like we have already used reds and

00:06:48,790 --> 00:06:55,700
the first sign house but it's something

00:06:52,910 --> 00:06:57,980
planet in documentation like if I have

00:06:55,700 --> 00:07:02,600
some kind of customer I use case what

00:06:57,980 --> 00:07:04,460
can I do thank you yeah so far for best

00:07:02,600 --> 00:07:05,750
practices and for use cases yes that's

00:07:04,460 --> 00:07:10,190
exactly exactly what we're currently

00:07:05,750 --> 00:07:11,990
pursuing for next goals so there is

00:07:10,190 --> 00:07:14,210
actually a pilot documentation written

00:07:11,990 --> 00:07:15,260
to three years ago on the bottom

00:07:14,210 --> 00:07:16,550
left-hand side of the website about

00:07:15,260 --> 00:07:18,470
various good best practice is that

00:07:16,550 --> 00:07:20,600
instrumentation and so on it's not

00:07:18,470 --> 00:07:25,760
exhaustive but there is something there

00:07:20,600 --> 00:07:28,220
at least well I already mentioned in my

00:07:25,760 --> 00:07:30,590
talk but color ability tests we want to

00:07:28,220 --> 00:07:32,780
give recommendations of how much a

00:07:30,590 --> 00:07:35,420
single instance can take on a given

00:07:32,780 --> 00:07:40,330
hardware and maybe post it with every

00:07:35,420 --> 00:07:42,950
release that's the only thing I can say

00:07:40,330 --> 00:07:44,390
say I maintain of the client does it

00:07:42,950 --> 00:07:46,490
will be client which is I believe so a

00:07:44,390 --> 00:07:48,470
client library which exists for the

00:07:46,490 --> 00:07:50,210
longest which out any we void and likes

00:07:48,470 --> 00:07:52,250
and then we had like lots of new ideas

00:07:50,210 --> 00:07:53,540
of like how to structure that they are

00:07:52,250 --> 00:07:55,490
like some companies who also want to

00:07:53,540 --> 00:07:57,380
help with that but obviously there's a

00:07:55,490 --> 00:07:59,750
lot of more need to do to like V word

00:07:57,380 --> 00:08:01,550
exporters after like newest perspectives

00:07:59,750 --> 00:08:04,490
or like the client word library

00:08:01,550 --> 00:08:06,470
um so for for a lot of exporters I guess

00:08:04,490 --> 00:08:08,750
I like continued into incremental

00:08:06,470 --> 00:08:10,880
changes we we need and we also need more

00:08:08,750 --> 00:08:13,280
support from everyone to say like what

00:08:10,880 --> 00:08:15,700
you what problems you have in mind we

00:08:13,280 --> 00:08:15,700
can solve

00:08:20,680 --> 00:08:24,550
one thing that I want to do in the next

00:08:22,900 --> 00:08:27,310
few months is have a good better

00:08:24,550 --> 00:08:28,930
alerting story have a lot history to see

00:08:27,310 --> 00:08:29,800
which alerts are firing which alerts are

00:08:28,930 --> 00:08:31,780
waking you up

00:08:29,800 --> 00:08:35,260
is there alerts that you need to fix

00:08:31,780 --> 00:08:39,820
that and stuff like that better alerting

00:08:35,260 --> 00:08:42,849
story and another fun one that I'm

00:08:39,820 --> 00:08:47,610
starting to process of is the discussion

00:08:42,849 --> 00:08:47,610
of a Prometheus incubator community

00:08:48,270 --> 00:08:52,839
contribute hub area where we can put

00:08:51,130 --> 00:08:55,089
more experiment experimental and other

00:08:52,839 --> 00:08:57,550
community driven things I know there's a

00:08:55,089 --> 00:09:00,279
lot of network engineers that need SNMP

00:08:57,550 --> 00:09:03,990
data and there's like no good repo of

00:09:00,279 --> 00:09:07,180
all the data you need to generate

00:09:03,990 --> 00:09:09,850
Prometheus SNMP translators and like

00:09:07,180 --> 00:09:12,610
people don't know what they have I've

00:09:09,850 --> 00:09:14,620
got device X it's some Cisco router what

00:09:12,610 --> 00:09:16,600
metrics can I can I even get out of that

00:09:14,620 --> 00:09:18,160
so we're gonna we're gonna build the

00:09:16,600 --> 00:09:20,770
we're gonna we're going to talk about

00:09:18,160 --> 00:09:23,800
building this community area for people

00:09:20,770 --> 00:09:27,250
to contribute to and also like there's

00:09:23,800 --> 00:09:29,470
some execs Porter's that people use and

00:09:27,250 --> 00:09:31,779
we want to improve on those and bring

00:09:29,470 --> 00:09:33,070
them into our best practices I know

00:09:31,779 --> 00:09:36,790
somebody just mentioned to me today that

00:09:33,070 --> 00:09:39,160
they want to do a rewrite and and create

00:09:36,790 --> 00:09:41,440
a new Postgres database exporter and

00:09:39,160 --> 00:09:44,110
like that's a really great idea but it's

00:09:41,440 --> 00:09:46,360
not something that we as a as a previous

00:09:44,110 --> 00:09:49,060
team can bring into the Prometheus org

00:09:46,360 --> 00:09:51,100
so we might have a Prometheus community

00:09:49,060 --> 00:09:55,450
or where more people can contribute to

00:09:51,100 --> 00:09:57,760
it and video meetups we started Frederic

00:09:55,450 --> 00:10:00,070
started one and there should be one very

00:09:57,760 --> 00:10:06,579
soon after prom cone right because they

00:10:00,070 --> 00:10:08,470
were these are like this is like so I

00:10:06,579 --> 00:10:10,540
think this the first one we did was

00:10:08,470 --> 00:10:14,350
about a month ago so we started doing

00:10:10,540 --> 00:10:17,050
like just a zoom cos or so the entire

00:10:14,350 --> 00:10:20,290
community can join in on discussions and

00:10:17,050 --> 00:10:22,360
it's just like any anyone who's

00:10:20,290 --> 00:10:25,690
interested in developing on or around

00:10:22,360 --> 00:10:27,040
prometheus is welcome to join the next

00:10:25,690 --> 00:10:29,770
one has not been scheduled yet but we

00:10:27,040 --> 00:10:31,270
will announce it on Twitter again and so

00:10:29,770 --> 00:10:32,110
yeah there will be a document where he

00:10:31,270 --> 00:10:34,180
just lists

00:10:32,110 --> 00:10:36,750
what you're interested to see or hear

00:10:34,180 --> 00:10:40,600
and then we'll address it in the meet up

00:10:36,750 --> 00:10:43,209
and also just as a reminder so we have

00:10:40,600 --> 00:10:44,829
last year's Steph Summit online and once

00:10:43,209 --> 00:10:47,050
we are finished with tomorrow Steph

00:10:44,829 --> 00:10:49,300
summit we will also publish these two

00:10:47,050 --> 00:10:51,430
also I'll get you like more interest up

00:10:49,300 --> 00:10:55,089
to speed with why we do certain things

00:10:51,430 --> 00:10:58,810
in the third way and justified some

00:10:55,089 --> 00:11:01,810
general context inter project at present

00:10:58,810 --> 00:11:03,610
like there's 20-ish of us I don't know

00:11:01,810 --> 00:11:05,050
the exact number if you look at the

00:11:03,610 --> 00:11:06,519
actual effort going in it's equivalent

00:11:05,050 --> 00:11:08,320
to two to three full-time people

00:11:06,519 --> 00:11:10,149
somewhere around out at the moment

00:11:08,320 --> 00:11:12,160
so that severely limits what we can

00:11:10,149 --> 00:11:14,200
actually reasonably support like we have

00:11:12,160 --> 00:11:16,089
a moratorium on service discoveries and

00:11:14,200 --> 00:11:18,310
notifiers because we just can't support

00:11:16,089 --> 00:11:20,980
what's there because to a large extent

00:11:18,310 --> 00:11:22,329
and I'm also you know partially for both

00:11:20,980 --> 00:11:24,430
of this just thrown over the walls at

00:11:22,329 --> 00:11:26,110
some extent and we're just limited by

00:11:24,430 --> 00:11:28,060
what we can do plus we've got an ever

00:11:26,110 --> 00:11:30,250
increasing support load coming in via

00:11:28,060 --> 00:11:31,990
user requests and issues so anything in

00:11:30,250 --> 00:11:33,940
the community can do to help take that

00:11:31,990 --> 00:11:41,649
load off making sure we can focus more

00:11:33,940 --> 00:11:42,790
and expanding the scope next question oh

00:11:41,649 --> 00:11:49,149
wait right here

00:11:42,790 --> 00:11:50,709
we have lines hello so I okay so I hear

00:11:49,149 --> 00:11:53,290
there's a lot of projects that are being

00:11:50,709 --> 00:11:55,209
done and that was gonna be one of my

00:11:53,290 --> 00:11:57,640
questions as well what what's to come

00:11:55,209 --> 00:11:59,709
but I guess on top of that is how are

00:11:57,640 --> 00:12:01,810
you maintaining that is there like a

00:11:59,709 --> 00:12:06,730
project manager are you doing this

00:12:01,810 --> 00:12:08,740
agile scrum Kanban stories well yeah how

00:12:06,730 --> 00:12:10,810
how are you but no seriously how are you

00:12:08,740 --> 00:12:13,860
maintaining it to say ok by this quarter

00:12:10,810 --> 00:12:17,110
we're gonna have this brand-new item to

00:12:13,860 --> 00:12:19,630
have that release so that's the serious

00:12:17,110 --> 00:12:23,380
question my other question is what is

00:12:19,630 --> 00:12:26,529
each of you spirit animal just curious

00:12:23,380 --> 00:12:27,880
so don't take our laughter the wrong way

00:12:26,529 --> 00:12:29,769
it was probably just everyone thinking

00:12:27,880 --> 00:12:32,740
about like the painful process we go

00:12:29,769 --> 00:12:35,649
through sometimes to reach a decision so

00:12:32,740 --> 00:12:37,959
officially we have a governance you find

00:12:35,649 --> 00:12:39,339
it on from each SiO community and then

00:12:37,959 --> 00:12:43,990
there's a link to the governance

00:12:39,339 --> 00:12:45,490
document there's 20 voting team members

00:12:43,990 --> 00:12:47,260
at the moment there

00:12:45,490 --> 00:12:49,600
is a process to add team members to

00:12:47,260 --> 00:12:53,950
remove team members that hasn't happened

00:12:49,600 --> 00:12:57,160
yet and then there's a way you know we

00:12:53,950 --> 00:12:59,380
try to make decisions by lazy consensus

00:12:57,160 --> 00:13:02,529
you know you can suggest something and

00:12:59,380 --> 00:13:04,300
if it seems that nobody objects or

00:13:02,529 --> 00:13:06,130
doesn't call for a formal vote you can

00:13:04,300 --> 00:13:07,630
go just go ahead if you kind of can

00:13:06,130 --> 00:13:10,510
assume you have the consensus of the

00:13:07,630 --> 00:13:13,060
team if there is a contentious issue

00:13:10,510 --> 00:13:15,700
then you can actually as a team member

00:13:13,060 --> 00:13:16,510
bring it up to a vote and there's you

00:13:15,700 --> 00:13:18,550
know if you want to change the

00:13:16,510 --> 00:13:21,550
governance itself there's a two-thirds

00:13:18,550 --> 00:13:23,830
majority otherwise its majority so

00:13:21,550 --> 00:13:25,420
there's a formal way of doing it of

00:13:23,830 --> 00:13:28,080
course there's also you know there's

00:13:25,420 --> 00:13:31,180
just people who are more influential in

00:13:28,080 --> 00:13:33,990
their arguments or the thing and others

00:13:31,180 --> 00:13:36,040
who are like not as active in that team

00:13:33,990 --> 00:13:37,480
so of course there's always like

00:13:36,040 --> 00:13:39,940
official way there's a bit of an

00:13:37,480 --> 00:13:41,800
informal way but you can also always ask

00:13:39,940 --> 00:13:44,050
that can we have an official vote on

00:13:41,800 --> 00:13:46,390
this if you really want something to be

00:13:44,050 --> 00:13:49,570
confirmed but I think most of the

00:13:46,390 --> 00:13:51,579
decisions day to day we just try to do

00:13:49,570 --> 00:13:53,670
on the like lazy consensus model and

00:13:51,579 --> 00:14:01,060
vote when it really needs to be

00:13:53,670 --> 00:14:05,170
happening spirit animal penguins are

00:14:01,060 --> 00:14:08,050
always nice but does anyone want to add

00:14:05,170 --> 00:14:09,970
to the first question yeah I was going

00:14:08,050 --> 00:14:13,089
to say if you also fold the mailing list

00:14:09,970 --> 00:14:14,260
and the IRC channel it will go also give

00:14:13,089 --> 00:14:17,350
you an idea of what's happening right

00:14:14,260 --> 00:14:21,370
now that's a very good source are we

00:14:17,350 --> 00:14:24,040
supposed to say a spirit animal now yeah

00:14:21,370 --> 00:14:25,390
yeah yeah so the communication sorry

00:14:24,040 --> 00:14:27,010
yeah it totally didn't go into the

00:14:25,390 --> 00:14:30,490
communication around the decision so

00:14:27,010 --> 00:14:33,339
anyone on the public forums can suggest

00:14:30,490 --> 00:14:34,810
things and so on and yeah so or you know

00:14:33,339 --> 00:14:37,180
sometimes people just file a pull

00:14:34,810 --> 00:14:38,589
request and see if it gets merged so

00:14:37,180 --> 00:14:40,089
that those are kind of the venues where

00:14:38,589 --> 00:14:42,940
it actually happens but then there's the

00:14:40,089 --> 00:14:43,660
rules that that govern the things we if

00:14:42,940 --> 00:14:46,390
you want to know what the actual

00:14:43,660 --> 00:14:48,640
decisions are made you have to star and

00:14:46,390 --> 00:14:52,209
follow every single repository plus read

00:14:48,640 --> 00:14:54,520
I or C in hash dev and plus watch the

00:14:52,209 --> 00:14:56,620
mailing lists plus twitter plus yeah

00:14:54,520 --> 00:15:00,690
it's there's no central communication

00:14:56,620 --> 00:15:00,690
channel a lot of its cat herding really

00:15:02,920 --> 00:15:09,920
I'll take great as a compliment but yeah

00:15:07,250 --> 00:15:12,050
it's not a formal thing because as I

00:15:09,920 --> 00:15:14,180
said there's no company here there's no

00:15:12,050 --> 00:15:18,500
formal structure it just kind of work

00:15:14,180 --> 00:15:24,590
yeah it just kind of happens yeah we

00:15:18,500 --> 00:15:28,430
have no product manager oh yeah and and

00:15:24,590 --> 00:15:30,500
so if anybody's seen my I'm Ben and if

00:15:28,430 --> 00:15:34,310
anybody seen my my github you've seen my

00:15:30,500 --> 00:15:37,490
my cat and he yeah he's he's kind of my

00:15:34,310 --> 00:15:40,880
my spirit animal I just figured mine

00:15:37,490 --> 00:15:43,300
it's monkey because it it climbs then

00:15:40,880 --> 00:15:43,300
it's funny

00:15:44,710 --> 00:15:50,270
always necks

00:15:46,190 --> 00:15:54,200
should be like but the guy the guy who

00:15:50,270 --> 00:15:56,330
were yeah the guy who put pretense to

00:15:54,200 --> 00:16:07,339
write code on the slides that's my

00:15:56,330 --> 00:16:09,500
spirit animal yeah okay so first of all

00:16:07,339 --> 00:16:13,750
thank you for the hard work you are

00:16:09,500 --> 00:16:13,750
doing for prom views my question louder

00:16:13,839 --> 00:16:21,050
okay I thought I'm cute again yeah so my

00:16:17,300 --> 00:16:22,940
question is is there any official

00:16:21,050 --> 00:16:26,210
structure in your partial list of

00:16:22,940 --> 00:16:29,210
ownership for each of you like what are

00:16:26,210 --> 00:16:31,850
your if I'm touching one part of the

00:16:29,210 --> 00:16:34,310
prompt use who are supposed to reach and

00:16:31,850 --> 00:16:37,220
maybe the follow-up a question can you

00:16:34,310 --> 00:16:39,620
quickly go each of you and and say

00:16:37,220 --> 00:16:42,950
quickly in viewers area of expertise may

00:16:39,620 --> 00:16:45,380
be so the first question every single

00:16:42,950 --> 00:16:47,200
repo has a maintainers dot MD and that's

00:16:45,380 --> 00:16:50,180
where you find that info for the rest

00:16:47,200 --> 00:16:55,730
yeah maybe I can very quickly introduce

00:16:50,180 --> 00:16:59,060
people Tom cortex and remote storage not

00:16:55,730 --> 00:17:02,120
exporter a bit of an SNMP exporter my

00:16:59,060 --> 00:17:06,589
sequel exporter generally promise you

00:17:02,120 --> 00:17:08,809
see things cat herding

00:17:06,589 --> 00:17:10,760
I would say anything that relates to

00:17:08,809 --> 00:17:12,620
Prometheus and kubernetes in conjunction

00:17:10,760 --> 00:17:14,000
is your probably your specialty but also

00:17:12,620 --> 00:17:15,709
generally like you know everything about

00:17:14,000 --> 00:17:18,039
prometheus Korra maintainer

00:17:15,709 --> 00:17:23,089
oh yeah Frederick oh yeah sorry sorry

00:17:18,039 --> 00:17:26,029
max alert manager right Bryan everything

00:17:23,089 --> 00:17:28,640
I just yeah

00:17:26,029 --> 00:17:31,279
but also I think in yeah yeah you've

00:17:28,640 --> 00:17:35,120
maintained like client Python SNMP

00:17:31,279 --> 00:17:38,740
export or black box exporter of course

00:17:35,120 --> 00:17:42,049
Prometheus server client Ruby proc fs4

00:17:38,740 --> 00:17:43,880
proc system memcached export h a proxy

00:17:42,049 --> 00:17:49,340
exporter and consul a exporters and you

00:17:43,880 --> 00:17:51,080
are Tobias used to be I guess mostly I

00:17:49,340 --> 00:17:54,950
touched I think everything at some point

00:17:51,080 --> 00:18:01,730
so yeah Fabian joined rewrote everything

00:17:54,950 --> 00:18:04,130
and then always want to say like that I

00:18:01,730 --> 00:18:07,850
guess general promises but now I'm

00:18:04,130 --> 00:18:11,809
moving focus to the TSD be Stewart a lot

00:18:07,850 --> 00:18:13,880
manager right and from that all from - P

00:18:11,809 --> 00:18:15,409
so at some point crew fauna did not

00:18:13,880 --> 00:18:17,450
exist yet we needed to build dashboards

00:18:15,409 --> 00:18:19,669
and to get people that sound how to

00:18:17,450 --> 00:18:21,409
actually start using primitives and so

00:18:19,669 --> 00:18:23,929
we both prom - and that's then we hired

00:18:21,409 --> 00:18:25,309
him as a reconnect contractor now

00:18:23,929 --> 00:18:26,360
there's everything is different there's

00:18:25,309 --> 00:18:32,330
Griffin that's much better

00:18:26,360 --> 00:18:34,010
yeah nowadays now you know you yeah I

00:18:32,330 --> 00:18:36,890
actually built from - the initial

00:18:34,010 --> 00:18:39,470
version and then he came in and yeah we

00:18:36,890 --> 00:18:44,360
have Simon and primitives and a dock

00:18:39,470 --> 00:18:47,600
manager mostly and cotton yes PSDB and

00:18:44,360 --> 00:18:49,640
general Prometheus I guess yeah I'm also

00:18:47,600 --> 00:18:52,250
I guess very general yeah did you say

00:18:49,640 --> 00:18:54,110
you heard him all right yeah we hired

00:18:52,250 --> 00:18:57,490
him as a contractor initially actually

00:18:54,110 --> 00:18:57,490
fates work on prometheus

00:19:00,260 --> 00:19:17,150
oh yeah yeah I think all right so we

00:19:14,870 --> 00:19:19,970
rely all a lot about the node exporter

00:19:17,150 --> 00:19:24,070
and the alert manager when will you

00:19:19,970 --> 00:19:24,070
think about publishing they wanted oh

00:19:32,530 --> 00:19:35,700
[Music]

00:19:38,650 --> 00:19:47,780
tomorrow I would not discussing tomorrow

00:19:43,520 --> 00:19:53,750
not serratus and I'm not allowed to say

00:19:47,780 --> 00:19:55,100
anything I guess I think I think on

00:19:53,750 --> 00:19:55,790
alert mer is just a lot of stability

00:19:55,100 --> 00:19:58,580
stuff

00:19:55,790 --> 00:20:01,130
I think the feature is pretty rich 41.0

00:19:58,580 --> 00:20:08,000
but I don't think we reach the stability

00:20:01,130 --> 00:20:10,850
41.0 for example API stability they're

00:20:08,000 --> 00:20:14,500
clustering library stability oh no in

00:20:10,850 --> 00:20:14,500
general more tests would be nice I think

00:20:14,980 --> 00:20:19,760
hi so thanks again for all the work that

00:20:18,290 --> 00:20:21,080
you've been doing it's awesome to be

00:20:19,760 --> 00:20:24,770
here and see everything that you've done

00:20:21,080 --> 00:20:26,179
I think it's good so this is a bit more

00:20:24,770 --> 00:20:27,980
of an operational question but I figure

00:20:26,179 --> 00:20:29,780
that like as maintainer x' you'll be in

00:20:27,980 --> 00:20:31,100
a good place to answer this so to give

00:20:29,780 --> 00:20:31,400
you some context on where we're coming

00:20:31,100 --> 00:20:33,590
from

00:20:31,400 --> 00:20:35,809
we're like using parameters internally

00:20:33,590 --> 00:20:37,760
in a small team we're scraping like a

00:20:35,809 --> 00:20:39,710
ton of metrics but and it's working

00:20:37,760 --> 00:20:41,390
really well for us but we have two

00:20:39,710 --> 00:20:42,770
operational concerns when opening this

00:20:41,390 --> 00:20:44,480
up to the wider development team

00:20:42,770 --> 00:20:46,370
the first was kind of touched on

00:20:44,480 --> 00:20:48,740
yesterday with the bomb squad work which

00:20:46,370 --> 00:20:50,650
looks super awesome and souls one of the

00:20:48,740 --> 00:20:52,880
problems for us entirely in terms of

00:20:50,650 --> 00:20:54,559
accidentally ingesting like very high

00:20:52,880 --> 00:20:56,540
cardinality metrics and bringing the

00:20:54,559 --> 00:20:58,370
Prometheus over down the other thing

00:20:56,540 --> 00:21:00,049
that we're worried about is people

00:20:58,370 --> 00:21:02,600
running queries that are particularly

00:21:00,049 --> 00:21:04,400
bad for the Prometheus server so we've

00:21:02,600 --> 00:21:06,500
had people experimenting in a graph on

00:21:04,400 --> 00:21:08,480
our instance and obviously you can hit

00:21:06,500 --> 00:21:09,950
the wrong query and suddenly Mikey get

00:21:08,480 --> 00:21:12,830
alerts cuz you're add a heap and then

00:21:09,950 --> 00:21:14,060
the thing gets him killed do you know if

00:21:12,830 --> 00:21:16,040
any work that's going on to try

00:21:14,060 --> 00:21:17,930
limit resource consumption kind of try

00:21:16,040 --> 00:21:18,980
and like ring-fence resources to prevent

00:21:17,930 --> 00:21:20,480
this sort of thing from becoming a

00:21:18,980 --> 00:21:24,290
problem I can see okay

00:21:20,480 --> 00:21:26,000
maybe first the the first question so

00:21:24,290 --> 00:21:28,820
Brian and I actually have been

00:21:26,000 --> 00:21:31,070
discussing about kind of like the bomb

00:21:28,820 --> 00:21:33,350
squad problem in a different way though

00:21:31,070 --> 00:21:35,210
so there's already staleness handling in

00:21:33,350 --> 00:21:37,700
prometheus right which basically tracks

00:21:35,210 --> 00:21:40,400
every target to do stay on this handling

00:21:37,700 --> 00:21:45,050
but we were thinking of doing using the

00:21:40,400 --> 00:21:45,950
same mechanism to track churn rate of a

00:21:45,050 --> 00:21:48,530
time series

00:21:45,950 --> 00:21:50,210
exposed by that target and basically

00:21:48,530 --> 00:21:52,880
expose a metric for that and then we

00:21:50,210 --> 00:21:54,770
could just drop the entire target if

00:21:52,880 --> 00:21:56,420
that's what we want to do that would

00:21:54,770 --> 00:21:59,080
probably be done by a separate system

00:21:56,420 --> 00:22:01,940
not in within Prometheus directly but

00:21:59,080 --> 00:22:05,990
that could be a way to solve that

00:22:01,940 --> 00:22:08,000
problem maybe there is already just to

00:22:05,990 --> 00:22:10,280
mention sample image which if a target

00:22:08,000 --> 00:22:11,960
exposes more than this it will hardly of

00:22:10,280 --> 00:22:13,220
the target because then you'll notice it

00:22:11,960 --> 00:22:15,110
rather than the data silently

00:22:13,220 --> 00:22:17,540
disappearing which could break things

00:22:15,110 --> 00:22:19,160
subtly I'm always a failure of hard

00:22:17,540 --> 00:22:21,020
breakage rather than silent breakage I

00:22:19,160 --> 00:22:23,450
don't everyone agrees with me on that

00:22:21,020 --> 00:22:25,790
and the second point about resource

00:22:23,450 --> 00:22:27,590
usage now obviously with Prometheus - -

00:22:25,790 --> 00:22:29,390
it has a new prom QL used a lot less

00:22:27,590 --> 00:22:33,610
resources we are talking about ways to

00:22:29,390 --> 00:22:37,910
limit the RAM I have to limit the RAM

00:22:33,610 --> 00:22:40,070
yeah issue four four one four I've got a

00:22:37,910 --> 00:22:41,030
I've got a branch that actually

00:22:40,070 --> 00:22:44,960
implements the limits

00:22:41,030 --> 00:22:47,230
I just doesn't work it which is my

00:22:44,960 --> 00:22:49,460
default answer to most questions yeah

00:22:47,230 --> 00:22:51,680
like one of the things of the rewrite of

00:22:49,460 --> 00:22:53,060
prom QL or refactoring of it means that

00:22:51,680 --> 00:22:54,410
it's now possible to do this in the same

00:22:53,060 --> 00:22:56,660
way so it's one of the outcomes in

00:22:54,410 --> 00:22:59,180
addition to like knocking - turns off

00:22:56,660 --> 00:23:02,830
the cost of prom ql it just means it's

00:22:59,180 --> 00:23:05,270
faster to eat up of that memory now yeah

00:23:02,830 --> 00:23:07,100
in the very beginning when you said

00:23:05,270 --> 00:23:08,660
every everyone who is kind of involved

00:23:07,100 --> 00:23:10,310
in anything Prometheus should come up

00:23:08,660 --> 00:23:12,800
with I was thinking like actually off

00:23:10,310 --> 00:23:14,660
bar tech to come up as well which kind

00:23:12,800 --> 00:23:16,880
of this could be something that that

00:23:14,660 --> 00:23:20,000
Thanos querier can solve because an

00:23:16,880 --> 00:23:23,080
isolated process right so if you're

00:23:20,000 --> 00:23:23,080
maybe trying to

00:23:29,900 --> 00:23:35,070
what do you want for me so how can I

00:23:34,650 --> 00:23:38,310
help

00:23:35,070 --> 00:23:41,130
so the problem is they don't want to

00:23:38,310 --> 00:23:44,520
have a single query that kills weary of

00:23:41,130 --> 00:23:47,850
this problem I think that would be nice

00:23:44,520 --> 00:23:50,730
for prom to use itself alone as well so

00:23:47,850 --> 00:23:53,220
so it touches like both ways bar for but

00:23:50,730 --> 00:23:54,900
for Tanis query and tunnels at all it is

00:23:53,220 --> 00:23:58,110
more problematic and actually not only

00:23:54,900 --> 00:24:01,380
tennis but any long-term retention

00:23:58,110 --> 00:24:04,230
solution because you have more power and

00:24:01,380 --> 00:24:06,930
basically you know you don't want to

00:24:04,230 --> 00:24:08,700
fetch one gyro data with their own

00:24:06,930 --> 00:24:12,120
samples and you know that would destroy

00:24:08,700 --> 00:24:13,860
lots of components so yeah we are

00:24:12,120 --> 00:24:14,190
seeking for the solution for that as

00:24:13,860 --> 00:24:17,250
well

00:24:14,190 --> 00:24:20,490
and yeah one way would be to have some

00:24:17,250 --> 00:24:22,740
proxy prom guard whatever thing that a

00:24:20,490 --> 00:24:25,650
lots of solutions similar like this or

00:24:22,740 --> 00:24:28,200
ideas how to create those so I'm pretty

00:24:25,650 --> 00:24:39,960
sure in next weeks or months something

00:24:28,200 --> 00:24:41,100
like that will be created we're making

00:24:39,960 --> 00:24:47,490
into the next release but maybe the

00:24:41,100 --> 00:24:50,250
release after next question what's me

00:24:47,490 --> 00:24:52,680
yeah I have a question regarding let me

00:24:50,250 --> 00:24:55,500
know Joe why you're using the SQLite

00:24:52,680 --> 00:25:03,480
database and not not a real one

00:24:55,500 --> 00:25:06,630
are you planning to change that it's not

00:25:03,480 --> 00:25:16,550
a dig at not a database not SQLite

00:25:06,630 --> 00:25:18,600
underneath its own state the

00:25:16,550 --> 00:25:20,220
notification logs and the silences are

00:25:18,600 --> 00:25:23,490
serialized as protobufs and then written

00:25:20,220 --> 00:25:26,250
to disk periodically but that's yeah

00:25:23,490 --> 00:25:28,110
there's no real database and that's just

00:25:26,250 --> 00:25:30,840
loaded up when the alert manager starts

00:25:28,110 --> 00:25:33,140
up and written to when it shuts down but

00:25:30,840 --> 00:25:35,580
it used to be in SQLite

00:25:33,140 --> 00:25:36,809
in the past they have been very

00:25:35,580 --> 00:25:39,870
different data storage

00:25:36,809 --> 00:25:41,340
that's all time but the general question

00:25:39,870 --> 00:25:42,840
why we don't have a real database is

00:25:41,340 --> 00:25:44,970
that this introduced another point of

00:25:42,840 --> 00:25:46,350
fader that can go wrong right and alert

00:25:44,970 --> 00:25:49,200
minutes would be as independent as

00:25:46,350 --> 00:25:51,029
possible so yeah and we don't really

00:25:49,200 --> 00:25:52,950
care about history in general like in

00:25:51,029 --> 00:25:54,629
doubt we just notify you more often

00:25:52,950 --> 00:25:56,490
so these periodic stem shows the discs

00:25:54,629 --> 00:26:00,029
are perfectly fine for the purpose I

00:25:56,490 --> 00:26:01,769
think there was still the idea of adding

00:26:00,029 --> 00:26:04,590
an interface to the luck manager where

00:26:01,769 --> 00:26:06,389
you could receive all the events that it

00:26:04,590 --> 00:26:09,240
handles or all the notifications and

00:26:06,389 --> 00:26:11,129
then kind of store it in a loose fashion

00:26:09,240 --> 00:26:13,110
somewhere else if you want to but not

00:26:11,129 --> 00:26:22,889
have a lot manager do that itself you

00:26:13,110 --> 00:26:29,100
can literally just yeah you can just you

00:26:22,889 --> 00:26:30,749
do a notify yeah hello Julius oh yeah I

00:26:29,100 --> 00:26:32,909
forgot about that I wrote a little thing

00:26:30,749 --> 00:26:35,220
for Red Hat once where they you can

00:26:32,909 --> 00:26:36,840
point your alert manager at with a web

00:26:35,220 --> 00:26:38,610
hook and then it will just like record

00:26:36,840 --> 00:26:40,110
all the things and you can buffer but I

00:26:38,610 --> 00:26:41,299
don't know if it wasn't yeah it was kind

00:26:40,110 --> 00:26:47,519
of meant for that use case thank you

00:26:41,299 --> 00:26:50,940
talk to me later yeah but like a higher

00:26:47,519 --> 00:26:53,249
level answer so generally speaking like

00:26:50,940 --> 00:26:55,440
this topic of an event sync and like

00:26:53,249 --> 00:26:58,259
something we can the global state of

00:26:55,440 --> 00:27:00,210
your outages and everything that's a a

00:26:58,259 --> 00:27:02,309
real need within our ecosystem and you

00:27:00,210 --> 00:27:07,559
will definitely see movement there in

00:27:02,309 --> 00:27:12,869
like a few months maybe not in

00:27:07,559 --> 00:27:14,820
cooperatives but still so yeah this was

00:27:12,869 --> 00:27:39,450
actually an item from last year Steph

00:27:14,820 --> 00:27:42,240
summit just nobody worked on it so you

00:27:39,450 --> 00:27:44,970
talked a bit about improving like user

00:27:42,240 --> 00:27:46,980
onboarding and stuff like that I was

00:27:44,970 --> 00:27:48,720
wondering also about contributors

00:27:46,980 --> 00:27:50,580
external contributors I guess you get a

00:27:48,720 --> 00:27:52,740
fair amount of them but

00:27:50,580 --> 00:27:55,470
most contributions are like drive by

00:27:52,740 --> 00:27:57,600
contributions people do one pull request

00:27:55,470 --> 00:27:59,789
to fix their specific issue or implement

00:27:57,600 --> 00:28:01,950
their specific feature but then they

00:27:59,789 --> 00:28:03,600
don't really maintain it over time

00:28:01,950 --> 00:28:05,669
what are your thought about this what

00:28:03,600 --> 00:28:07,950
are you may be doing to to improve that

00:28:05,669 --> 00:28:10,289
and maybe not just the core Prometheus

00:28:07,950 --> 00:28:14,100
project but also maybe less well-known

00:28:10,289 --> 00:28:17,070
components of primitives how what do you

00:28:14,100 --> 00:28:19,890
think about that I mean a number of us

00:28:17,070 --> 00:28:24,590
are actually full-time employees to do

00:28:19,890 --> 00:28:27,210
this work so that's how that works but

00:28:24,590 --> 00:28:29,880
yeah I mean the kind of drive by

00:28:27,210 --> 00:28:31,860
contributions is why we do have the

00:28:29,880 --> 00:28:34,649
moratorium on service discovery and

00:28:31,860 --> 00:28:38,010
notifiers because people said they were

00:28:34,649 --> 00:28:39,059
gonna maintain things and they don't

00:28:38,010 --> 00:28:41,090
that's normal

00:28:39,059 --> 00:28:45,570
it's how open-source works in some way

00:28:41,090 --> 00:28:47,340
but yeah it's not great obviously

00:28:45,570 --> 00:28:49,110
I think good test is to ask people to

00:28:47,340 --> 00:28:51,299
write tests for the implementation and

00:28:49,110 --> 00:28:52,529
then usually never return and if they

00:28:51,299 --> 00:28:54,179
return they're probably going to be

00:28:52,529 --> 00:28:56,850
around for actually fixing bugs they

00:28:54,179 --> 00:29:03,809
don't I think that test turned out to

00:28:56,850 --> 00:29:05,010
somewhat ruin the experience actually

00:29:03,809 --> 00:29:08,730
I've gotten a couple of really great

00:29:05,010 --> 00:29:10,620
drive-by contributions for like the node

00:29:08,730 --> 00:29:12,419
exporter some people stop in and just

00:29:10,620 --> 00:29:15,480
like they made a bunch of improvements

00:29:12,419 --> 00:29:18,480
to system D collection and like

00:29:15,480 --> 00:29:20,309
improving that and you know I get you

00:29:18,480 --> 00:29:23,700
know a lot of good bug reports on the

00:29:20,309 --> 00:29:26,340
node exporter also uh some companies do

00:29:23,700 --> 00:29:28,260
like drive-by percona has always been

00:29:26,340 --> 00:29:30,870
like very good at contributing to the my

00:29:28,260 --> 00:29:33,029
sequel exporter and you know they they

00:29:30,870 --> 00:29:35,370
made they they ship a fork to their

00:29:33,029 --> 00:29:37,799
customers but they are I and everyone

00:29:35,370 --> 00:29:44,279
smile push their changes back up to the

00:29:37,799 --> 00:29:46,169
the official one so we do get lots of

00:29:44,279 --> 00:29:48,659
good feature requests some pull requests

00:29:46,169 --> 00:29:51,539
and drive by otherwise and bug reports

00:29:48,659 --> 00:29:53,070
like the pikemen parser and data dog

00:29:51,539 --> 00:29:54,539
putting the power changes to optimize -

00:29:53,070 --> 00:29:57,179
and they sped it up like four or five

00:29:54,539 --> 00:29:57,480
times that's great Kevin working

00:29:57,179 --> 00:29:59,789
together

00:29:57,480 --> 00:30:02,700
you also get people who want a feature

00:29:59,789 --> 00:30:03,720
added and they're just adamant that it's

00:30:02,700 --> 00:30:04,550
really really simple there's no

00:30:03,720 --> 00:30:11,420
maintenance costs

00:30:04,550 --> 00:30:12,740
ever and those are more challenging so

00:30:11,420 --> 00:30:16,010
I've heard several mentions of the

00:30:12,740 --> 00:30:19,040
service discovery moratorium it seems

00:30:16,010 --> 00:30:21,650
like a fairly core part of Prometheus's

00:30:19,040 --> 00:30:25,310
appeal I think in a lot of cases do you

00:30:21,650 --> 00:30:26,570
go you see that as a risk currently do

00:30:25,310 --> 00:30:28,520
does it feel a bit fragile

00:30:26,570 --> 00:30:30,650
i I've not seen it be fragile in my use

00:30:28,520 --> 00:30:32,750
of the use of it but I don't exercise

00:30:30,650 --> 00:30:34,310
all the capacity and kind of follow-up

00:30:32,750 --> 00:30:37,340
are you looking for people to take

00:30:34,310 --> 00:30:41,270
ownership like actually join core

00:30:37,340 --> 00:30:42,980
maintainer okay excellent so if anyone

00:30:41,270 --> 00:30:43,460
can help maintain all we have there that

00:30:42,980 --> 00:30:46,640
would be great

00:30:43,460 --> 00:30:48,110
like Azure none of us are Microsoft

00:30:46,640 --> 00:30:49,730
Windows II people so people can help

00:30:48,110 --> 00:30:51,980
maintain - great and the same with all

00:30:49,730 --> 00:30:53,840
the others because if people are helping

00:30:51,980 --> 00:30:55,880
maintain what's there then we can be

00:30:53,840 --> 00:30:57,080
more open to both adding more because

00:30:55,880 --> 00:30:58,310
the whole reason we have to stop doing

00:30:57,080 --> 00:31:01,600
it was because they weren't being

00:30:58,310 --> 00:31:01,600
maintained and they were just rotting

00:31:01,660 --> 00:31:08,600
and also how do you test for example SD

00:31:05,390 --> 00:31:10,790
for Amazon you need to have it's really

00:31:08,600 --> 00:31:12,260
difficult and another thing I want to

00:31:10,790 --> 00:31:15,800
make have you looked at the file SD

00:31:12,260 --> 00:31:18,110
examples because we just we just

00:31:15,800 --> 00:31:20,210
recently Simon was working on this we

00:31:18,110 --> 00:31:22,720
just recently added a very good like a

00:31:20,210 --> 00:31:28,100
very minimal implementation of a go lonk

00:31:22,720 --> 00:31:30,350
clients that uses HTTP so you can adopt

00:31:28,100 --> 00:31:33,110
it your use case it will query anything

00:31:30,350 --> 00:31:35,270
you want it will convert it to a JSON

00:31:33,110 --> 00:31:38,030
file and you can use the built in file

00:31:35,270 --> 00:31:39,890
discovery so it's really simple like

00:31:38,030 --> 00:31:42,320
just literally just few lines of code

00:31:39,890 --> 00:31:43,850
and you have it so you should look it up

00:31:42,320 --> 00:31:46,850
it's really nice it's really easy to

00:31:43,850 --> 00:31:49,400
implement and also the moratorium is

00:31:46,850 --> 00:31:51,920
basically to prevent cost like cost and

00:31:49,400 --> 00:31:54,170
time on our side so if we get like a

00:31:51,920 --> 00:31:55,670
firm a hard commitment which we can

00:31:54,170 --> 00:31:58,490
trust that someone says ok I will

00:31:55,670 --> 00:32:00,290
implement this I will maintain it I will

00:31:58,490 --> 00:32:02,630
keep on testing this I have the actual

00:32:00,290 --> 00:32:04,460
access to that infrastructure I will

00:32:02,630 --> 00:32:06,380
give you direct access or I will do it

00:32:04,460 --> 00:32:08,450
myself and expose any errors bla bla bla

00:32:06,380 --> 00:32:10,790
all these things so if you get a hard

00:32:08,450 --> 00:32:13,340
commitment that makes it a lot easier to

00:32:10,790 --> 00:32:18,050
like have this trade-off of cost shift

00:32:13,340 --> 00:32:18,230
like massively follow-on question to

00:32:18,050 --> 00:32:22,340
that

00:32:18,230 --> 00:32:25,190
does it make another question to follow

00:32:22,340 --> 00:32:29,120
one follow-up one to them though you

00:32:25,190 --> 00:32:30,860
both have follow-ups Tulsa Co let's go

00:32:29,120 --> 00:32:32,900
what would it make sense to polled

00:32:30,860 --> 00:32:34,730
services Korea like exporters are pulled

00:32:32,900 --> 00:32:36,830
out and just have it have all the

00:32:34,730 --> 00:32:40,460
service discovery be external to the

00:32:36,830 --> 00:32:44,020
core exporters are not pulled out

00:32:40,460 --> 00:32:44,020
exporters are part of the design

00:32:44,590 --> 00:32:50,150
personally like I really don't like the

00:32:47,480 --> 00:32:52,250
moratorium I would rather I would rather

00:32:50,150 --> 00:32:54,799
we move to a model where we we simply

00:32:52,250 --> 00:32:58,010
have better criteria for evaluating new

00:32:54,799 --> 00:32:59,600
feature requests in areas where we don't

00:32:58,010 --> 00:33:03,380
have enough maintenance like service

00:32:59,600 --> 00:33:07,940
discovery and a and note yeah notifiers

00:33:03,380 --> 00:33:10,250
like I think we would be better to

00:33:07,940 --> 00:33:12,080
project if we had like just criteria for

00:33:10,250 --> 00:33:15,440
that and like like Brian you're saying

00:33:12,080 --> 00:33:17,929
that you know we if we get commitment to

00:33:15,440 --> 00:33:20,929
maintain it then that's a criteria that

00:33:17,929 --> 00:33:23,330
we can accept new things but yeah like

00:33:20,929 --> 00:33:25,820
the part of the really big appeal for me

00:33:23,330 --> 00:33:27,770
was that it included it was batteries

00:33:25,820 --> 00:33:29,419
included for service discovery that you

00:33:27,770 --> 00:33:33,230
didn't need a sidecar to run a

00:33:29,419 --> 00:33:34,760
Prometheus server and also while you

00:33:33,230 --> 00:33:37,220
maybe don't need to like to pull

00:33:34,760 --> 00:33:38,840
everything out if someone very to like

00:33:37,220 --> 00:33:40,940
invest time and just making this more

00:33:38,840 --> 00:33:44,990
modular and more testable of course like

00:33:40,940 --> 00:33:47,270
it's not very nice that would also help

00:33:44,990 --> 00:33:51,500
just to like make it more modular more

00:33:47,270 --> 00:33:53,720
testable other currently any plans to

00:33:51,500 --> 00:33:56,330
drop certain service discovery

00:33:53,720 --> 00:33:58,910
mechanisms no plans I see shaking head

00:33:56,330 --> 00:34:00,320
basically as long as we are in a major

00:33:58,910 --> 00:34:12,770
version they will not be a breaking

00:34:00,320 --> 00:34:14,869
change period okay yes so unless it's

00:34:12,770 --> 00:34:19,340
marked experimental which for services

00:34:14,869 --> 00:34:24,550
cover a lot of them are but still there

00:34:19,340 --> 00:34:24,550
is no yeah like realistically no

00:34:26,040 --> 00:34:30,720
I think okay the other interesting one

00:34:29,580 --> 00:34:33,030
about service discovery is the amount of

00:34:30,720 --> 00:34:34,919
stuff at vendors in its real mean we

00:34:33,030 --> 00:34:37,290
been cortex we vendor Prometheus and

00:34:34,919 --> 00:34:42,980
that then vendors every cloud providers

00:34:37,290 --> 00:34:42,980
library which is a bit of a exactly like

00:34:44,810 --> 00:34:49,470
spare a thought for Tinto so I mean I

00:34:48,450 --> 00:34:51,330
know it's maybe something we should

00:34:49,470 --> 00:34:52,890
discuss at the summit tomorrow like some

00:34:51,330 --> 00:34:57,720
of them might you know be moved external

00:34:52,890 --> 00:34:59,970
maybe I would maybe not and again most

00:34:57,720 --> 00:35:02,160
of the proposed ones they can also be

00:34:59,970 --> 00:35:06,030
sold by file service discover most of

00:35:02,160 --> 00:35:08,070
the time yeah and there's always we

00:35:06,030 --> 00:35:10,680
every once while somebody brings up well

00:35:08,070 --> 00:35:14,460
can't we use go lying shared libraries

00:35:10,680 --> 00:35:16,440
and have them be like sort of sidecar

00:35:14,460 --> 00:35:18,150
but like loadable but I don't think

00:35:16,440 --> 00:35:22,470
we've I don't think is that it does it

00:35:18,150 --> 00:35:24,900
go even do that yet it has the feature

00:35:22,470 --> 00:35:26,220
however the problem is that they have

00:35:24,900 --> 00:35:28,140
two compiled with the exact same binary

00:35:26,220 --> 00:35:30,480
which means we need to distribute them

00:35:28,140 --> 00:35:32,580
and the whole problem is us maintaining

00:35:30,480 --> 00:35:38,180
them so they don't solve any problem

00:35:32,580 --> 00:35:40,740
that we have unfortunately yeah also the

00:35:38,180 --> 00:35:44,010
infrastructure for service discovery has

00:35:40,740 --> 00:35:47,760
broken itself multiple times so even if

00:35:44,010 --> 00:35:50,070
we only had file discovery as the only

00:35:47,760 --> 00:35:52,710
mechanism that doesn't solve the entire

00:35:50,070 --> 00:35:55,050
problem within Prometheus I think I

00:35:52,710 --> 00:35:56,970
think gautham tried like a year and a

00:35:55,050 --> 00:35:59,630
half ago to become the maintainer of

00:35:56,970 --> 00:36:04,820
that package but

00:35:59,630 --> 00:36:07,000
I think I think the the thread on the

00:36:04,820 --> 00:36:09,920
mailing list is still open so if anyone

00:36:07,000 --> 00:36:11,810
wants to volunteer something as well

00:36:09,920 --> 00:36:14,630
from last year's dev summit before is we

00:36:11,810 --> 00:36:15,920
do have a stated vague long term goal of

00:36:14,630 --> 00:36:17,720
breaking our service discovery as an

00:36:15,920 --> 00:36:19,100
independent project because it would

00:36:17,720 --> 00:36:21,680
work for things other than permit yes

00:36:19,100 --> 00:36:22,850
because it's a pretty handy thing but we

00:36:21,680 --> 00:36:24,590
also need to be able to maintain what we

00:36:22,850 --> 00:36:26,270
have first before we can do that and in

00:36:24,590 --> 00:36:27,950
fact having unit tests or end-to-end

00:36:26,270 --> 00:36:31,940
test status power first so you can help

00:36:27,950 --> 00:36:33,710
Taurasi with all the better also Gotham

00:36:31,940 --> 00:36:34,290
will have a second lightening talk about

00:36:33,710 --> 00:36:38,940
this later

00:36:34,290 --> 00:36:38,940
[Laughter]

00:36:41,620 --> 00:36:50,110
anyone else hi do you plan to add

00:36:47,270 --> 00:36:54,020
something to unit test alerts

00:36:50,110 --> 00:36:55,910
definitions or rules definitions because

00:36:54,020 --> 00:36:58,610
sometimes our users are not very

00:36:55,910 --> 00:37:00,470
familiar with parameters and they would

00:36:58,610 --> 00:37:06,710
like to be more confident in what

00:37:00,470 --> 00:37:15,410
they're doing on this there will be a

00:37:06,710 --> 00:37:22,060
lightning talk okay when is the

00:37:15,410 --> 00:37:24,260
lightning talk okay so stand by so I

00:37:22,060 --> 00:37:26,660
have been thinking a lot about that

00:37:24,260 --> 00:37:28,370
primitives communicating because it's

00:37:26,660 --> 00:37:33,310
something that we also do in the puppet

00:37:28,370 --> 00:37:35,780
world but I am wondering what as

00:37:33,310 --> 00:37:37,910
primitives wrappers can you and

00:37:35,780 --> 00:37:40,370
community of the rivers can you bring to

00:37:37,910 --> 00:37:42,560
that community that we could create a

00:37:40,370 --> 00:37:55,160
community like could you like provide

00:37:42,560 --> 00:37:58,970
resources of stuff like that first so if

00:37:55,160 --> 00:38:00,830
we build from a Jewish community and we

00:37:58,970 --> 00:38:03,010
start bringing some repositories all

00:38:00,830 --> 00:38:05,200
that stuff what can you bring as

00:38:03,010 --> 00:38:08,030
primitives developers to that community

00:38:05,200 --> 00:38:10,070
can we hope to get like some resources

00:38:08,030 --> 00:38:13,430
of stuff like that

00:38:10,070 --> 00:38:18,100
yes like we we like bringing things

00:38:13,430 --> 00:38:20,810
we have accounts with with CI pipeline

00:38:18,100 --> 00:38:25,010
so you can you can get CI pipelines

00:38:20,810 --> 00:38:26,930
added and we have all the problem like

00:38:25,010 --> 00:38:30,800
prom you tooling for like doing builds

00:38:26,930 --> 00:38:33,710
and publishing binaries you can in you

00:38:30,800 --> 00:38:37,120
can now get like a a better place to get

00:38:33,710 --> 00:38:40,970
code reviews and like best practices

00:38:37,120 --> 00:38:42,500
help on and plus there's always the

00:38:40,970 --> 00:38:44,840
promotional thing of like this is now

00:38:42,500 --> 00:38:47,840
like a Prometheus community project I

00:38:44,840 --> 00:38:51,740
would love to see things like cortex

00:38:47,840 --> 00:38:54,830
join the Prometheus community and and

00:38:51,740 --> 00:38:56,780
other like slightly more more

00:38:54,830 --> 00:39:00,770
established but are currently external

00:38:56,780 --> 00:39:03,380
to like the the Prometheus project and

00:39:00,770 --> 00:39:05,450
also I mean like when we asked people to

00:39:03,380 --> 00:39:06,580
join the user mailing list or we like

00:39:05,450 --> 00:39:09,770
offered to have like specific

00:39:06,580 --> 00:39:12,350
repositories all these things or if we

00:39:09,770 --> 00:39:15,110
publish stuff or ask people to just like

00:39:12,350 --> 00:39:17,680
maintain things these are all really

00:39:15,110 --> 00:39:20,720
sneaky ways of just grabbing more people

00:39:17,680 --> 00:39:22,670
so basically by extension or like the

00:39:20,720 --> 00:39:24,650
inverse of that it's like that we like

00:39:22,670 --> 00:39:27,260
see this as a mechanism to get new team

00:39:24,650 --> 00:39:29,450
members that in this case we are also

00:39:27,260 --> 00:39:31,070
like just by default obviously more

00:39:29,450 --> 00:39:33,590
willing to extend time to those people

00:39:31,070 --> 00:39:35,570
so like that's I think one of the

00:39:33,590 --> 00:39:39,200
primary sources which we have time and

00:39:35,570 --> 00:39:41,450
if we know that if we like put thoughts

00:39:39,200 --> 00:39:43,640
or concepts or whatever in a brain and

00:39:41,450 --> 00:39:45,770
know that it'll stay there and actually

00:39:43,640 --> 00:39:47,960
produce results that makes it all easier

00:39:45,770 --> 00:39:50,530
on the like emotional mental level to

00:39:47,960 --> 00:40:00,140
just extend the time towards people

00:39:50,530 --> 00:40:02,150
thank you there's one super random

00:40:00,140 --> 00:40:04,910
question potentially or obscure one mic

00:40:02,150 --> 00:40:06,650
mic oh sorry potentially obscure

00:40:04,910 --> 00:40:09,650
question is prom you actually required

00:40:06,650 --> 00:40:12,320
to properly build Prometheus of I've

00:40:09,650 --> 00:40:13,070
seen tensions on yes and no on that

00:40:12,320 --> 00:40:16,910
question

00:40:13,070 --> 00:40:20,630
no like get lab bundles of Prometheus

00:40:16,910 --> 00:40:22,970
server and I just extracted the the go

00:40:20,630 --> 00:40:24,410
build from prom you and we do it

00:40:22,970 --> 00:40:27,270
manually in our pipeline to build our

00:40:24,410 --> 00:40:28,800
own binaries it's not required but it's

00:40:27,270 --> 00:40:35,070
it's just a handy wrapper for a bunch of

00:40:28,800 --> 00:40:37,050
you know go stuff that you have to do it

00:40:35,070 --> 00:40:39,150
produces completely static binaries for

00:40:37,050 --> 00:40:41,430
example with some flags and stuff but

00:40:39,150 --> 00:40:42,869
yeah for and then for ours we don't do

00:40:41,430 --> 00:40:45,119
static builds we do it dynamic because

00:40:42,869 --> 00:40:51,540
we include like a whole Lib C stack with

00:40:45,119 --> 00:40:54,390
our with our embedded product hi so my

00:40:51,540 --> 00:40:56,850
team and probably many others here are

00:40:54,390 --> 00:41:00,210
trying to encourage our product teams to

00:40:56,850 --> 00:41:02,580
make more of Prometheus and I'm aware

00:41:00,210 --> 00:41:04,980
you have limited time and there are ways

00:41:02,580 --> 00:41:07,380
of getting in touch with you but do you

00:41:04,980 --> 00:41:08,760
have any suggestions for how those of us

00:41:07,380 --> 00:41:13,020
who want to continue that conversation

00:41:08,760 --> 00:41:15,180
about helping for example developers to

00:41:13,020 --> 00:41:18,060
make more Prometheus can stay in touch

00:41:15,180 --> 00:41:21,090
with each other by the way I'm Emily

00:41:18,060 --> 00:41:22,080
labrum on Twitter and I call out so that

00:41:21,090 --> 00:41:25,140
if other people want to solve this

00:41:22,080 --> 00:41:26,610
problem we can I can add you to an email

00:41:25,140 --> 00:41:27,990
group but I before I want it before

00:41:26,610 --> 00:41:31,260
doing that I wanted to check if there's

00:41:27,990 --> 00:41:33,510
anything existing that we could link up

00:41:31,260 --> 00:41:35,730
with instead so currently the users

00:41:33,510 --> 00:41:38,280
mailing list is probably best and if

00:41:35,730 --> 00:41:40,590
like you get a certain velocity and like

00:41:38,280 --> 00:41:42,750
we just see that this happens a lot or

00:41:40,590 --> 00:41:44,970
whatever then we just like create an

00:41:42,750 --> 00:41:46,530
official new list or repositories or

00:41:44,970 --> 00:41:50,070
whatever you need like that it's

00:41:46,530 --> 00:41:51,990
basically playing in bands fields yep

00:41:50,070 --> 00:42:00,540
yeah Prometheus users is the place to

00:41:51,990 --> 00:42:03,260
start all these conversations okay more

00:42:00,540 --> 00:42:03,260
questions

00:42:06,200 --> 00:42:14,220
you're not gonna stump them rats no are

00:42:12,300 --> 00:42:15,690
there any other moratoriums that weren't

00:42:14,220 --> 00:42:18,060
necessarily explicitly mentioned here

00:42:15,690 --> 00:42:20,070
besides service discovery I mostly asked

00:42:18,060 --> 00:42:23,040
because it may trigger somebody to go oh

00:42:20,070 --> 00:42:25,350
that's bad and maybe motivate somebody

00:42:23,040 --> 00:42:27,300
I've personally stopped basically taking

00:42:25,350 --> 00:42:28,710
stuff in the Python and Java clients it

00:42:27,300 --> 00:42:31,080
turns that's a really bad idea to start

00:42:28,710 --> 00:42:32,460
having modules for everything and just

00:42:31,080 --> 00:42:36,740
been focusing on the core one plus

00:42:32,460 --> 00:42:36,740
what's already there time

00:42:36,820 --> 00:42:43,790
yeah I mean the Kazi mentioned in his

00:42:41,240 --> 00:42:47,320
talk that two point one and two point

00:42:43,790 --> 00:42:50,030
two weren't particularly stable and so

00:42:47,320 --> 00:42:54,560
at that point we had a temporary

00:42:50,030 --> 00:42:56,150
moratorium of a month yeah it turned out

00:42:54,560 --> 00:42:59,990
to be a month that we wanted it to be a

00:42:56,150 --> 00:43:02,570
week but where we just said no feature

00:42:59,990 --> 00:43:05,330
work is being merged we're only focusing

00:43:02,570 --> 00:43:06,650
on bug fixes and turns out two point

00:43:05,330 --> 00:43:12,020
three point two is actually pretty

00:43:06,650 --> 00:43:18,010
stable now there's a moratorium ish kind

00:43:12,020 --> 00:43:20,420
of thing which regards TLS and auth I

00:43:18,010 --> 00:43:22,490
was surprised that nobody asked about it

00:43:20,420 --> 00:43:24,590
yet because normally in this panel kind

00:43:22,490 --> 00:43:26,270
of thing half the questions are about

00:43:24,590 --> 00:43:28,610
long-term storage and the other ones are

00:43:26,270 --> 00:43:31,220
about TLS and auth so the serving

00:43:28,610 --> 00:43:32,990
components in Prometheus we so far I've

00:43:31,220 --> 00:43:36,620
taken the stance that we do not want to

00:43:32,990 --> 00:43:38,690
maintain TLS and various forms of

00:43:36,620 --> 00:43:40,460
authentication and then a config file to

00:43:38,690 --> 00:43:42,980
allow you to configure all the possible

00:43:40,460 --> 00:43:44,870
options for that and always have just

00:43:42,980 --> 00:43:46,940
punted on that and said you have put

00:43:44,870 --> 00:43:48,710
nginx or some reverse proxy in front of

00:43:46,940 --> 00:43:51,410
your endpoints and configure all the

00:43:48,710 --> 00:43:54,020
possible options there but that also in

00:43:51,410 --> 00:43:56,660
the end boils down to a time and

00:43:54,020 --> 00:43:58,760
maintenance aspect and security then

00:43:56,660 --> 00:44:00,530
really comes in in a way that we haven't

00:43:58,760 --> 00:44:03,020
seen before and prometheus because we

00:44:00,530 --> 00:44:05,720
try to kind of sidestep and avoid all

00:44:03,020 --> 00:44:10,430
the security questions but this is not

00:44:05,720 --> 00:44:13,430
forever decided I mean there are people

00:44:10,430 --> 00:44:16,010
who really like this yeah so basically

00:44:13,430 --> 00:44:18,580
if we there yeah maybe Ben wants to

00:44:16,010 --> 00:44:23,210
mention something about that yeah maybe

00:44:18,580 --> 00:44:24,860
yeah no so we did actually finally go

00:44:23,210 --> 00:44:27,500
through a full security audit thanks to

00:44:24,860 --> 00:44:32,750
the C and C F and everything looked

00:44:27,500 --> 00:44:34,610
great but yeah we they did they did say

00:44:32,750 --> 00:44:36,290
in our security audit that hey maybe you

00:44:34,610 --> 00:44:39,620
should really consider Transport

00:44:36,290 --> 00:44:41,000
Security and something so I've been

00:44:39,620 --> 00:44:43,400
doing a bunch of research on the side

00:44:41,000 --> 00:44:46,280
over the last year or so like what would

00:44:43,400 --> 00:44:49,390
be the right thing to do and it's it's a

00:44:46,280 --> 00:44:49,390
really complicated space

00:44:49,710 --> 00:44:56,630
the transport security just keeping just

00:44:53,369 --> 00:45:00,960
encrypting the traffic for metrics is

00:44:56,630 --> 00:45:04,609
becoming much more simple like the there

00:45:00,960 --> 00:45:04,609
was a lot of stuff for a few years where

00:45:04,700 --> 00:45:09,359
just the cryptic crypto options were a

00:45:07,319 --> 00:45:11,039
huge problem but that's kind of started

00:45:09,359 --> 00:45:14,089
to settle down we've got good crypto

00:45:11,039 --> 00:45:16,400
options the defaults in the various

00:45:14,089 --> 00:45:19,740
programming languages are better now

00:45:16,400 --> 00:45:22,130
that's settled so I'm I'm gonna be

00:45:19,740 --> 00:45:25,890
working on a proposal to change that so

00:45:22,130 --> 00:45:29,069
TLS boom done easy not a big deal

00:45:25,890 --> 00:45:30,470
auth is now a whole nother problem we

00:45:29,069 --> 00:45:33,240
have two or three different proposals

00:45:30,470 --> 00:45:36,450
that I have an in mind

00:45:33,240 --> 00:45:36,960
Prometheus already supports doing basic

00:45:36,450 --> 00:45:39,859
auth

00:45:36,960 --> 00:45:42,930
I hate basic auth I think it's useless

00:45:39,859 --> 00:45:44,400
it's just plain it's it's it's a

00:45:42,930 --> 00:45:46,559
username and password but the password

00:45:44,400 --> 00:45:48,299
is sent in plaintext is just base 64

00:45:46,559 --> 00:45:54,660
encoded this to me is really silly I

00:45:48,299 --> 00:45:56,880
don't want to do it and then there's

00:45:54,660 --> 00:45:58,829
clients or keys and that's really great

00:45:56,880 --> 00:46:01,289
that's super secure really a lot of

00:45:58,829 --> 00:46:03,210
people implement it but it has the

00:46:01,289 --> 00:46:05,609
problem that now everything that talks

00:46:03,210 --> 00:46:07,829
to your API service if it's running the

00:46:05,609 --> 00:46:10,739
Prometheus client library also you has

00:46:07,829 --> 00:46:12,450
to use its client cert and that may or

00:46:10,739 --> 00:46:15,390
may not be what you want for an API

00:46:12,450 --> 00:46:17,670
service so I've been talking to a few

00:46:15,390 --> 00:46:20,460
different people and we you know I don't

00:46:17,670 --> 00:46:21,569
have any great ideas but we're we're

00:46:20,460 --> 00:46:23,880
gonna we're gonna be talking about that

00:46:21,569 --> 00:46:27,089
soon in terms of like what can we

00:46:23,880 --> 00:46:29,450
implement and what's what's the latest

00:46:27,089 --> 00:46:33,569
thing in the security world to implement

00:46:29,450 --> 00:46:36,200
granular off over TLS and also just

00:46:33,569 --> 00:46:36,200
discussion

00:46:41,650 --> 00:46:47,839
also this discussion is actually the

00:46:44,990 --> 00:46:50,089
initial reason for creating the dev

00:46:47,839 --> 00:46:52,339
summit agenda like two months ago let's

00:46:50,089 --> 00:46:54,380
that's literally the first thing I put

00:46:52,339 --> 00:46:59,720
in as the first spot of the discussion

00:46:54,380 --> 00:47:02,450
for tomorrow more questions I have one

00:46:59,720 --> 00:47:04,339
symbol after the experience with two

00:47:02,450 --> 00:47:08,000
point one to point to having all these

00:47:04,339 --> 00:47:09,859
problems and can we expect a different

00:47:08,000 --> 00:47:12,099
release process I will try to avoid this

00:47:09,859 --> 00:47:12,099
in the future

00:47:13,510 --> 00:47:19,130
yeah better there are needed testing so

00:47:17,150 --> 00:47:21,859
the hope is to basically like the

00:47:19,130 --> 00:47:24,470
moratorium was really bad so to force

00:47:21,859 --> 00:47:26,900
people like everyone self controls more

00:47:24,470 --> 00:47:28,730
they will also like some few human

00:47:26,900 --> 00:47:32,630
errors and a few releases and such so

00:47:28,730 --> 00:47:35,270
yeah taking better care generally and

00:47:32,630 --> 00:47:37,970
using the benchmarking they say I mean

00:47:35,270 --> 00:47:39,650
if it runs on such low that we're

00:47:37,970 --> 00:47:43,069
putting it through four of it such a

00:47:39,650 --> 00:47:44,569
long period that's a answer the question

00:47:43,069 --> 00:47:45,890
is stable I mean if we run it on a

00:47:44,569 --> 00:47:49,130
machine that is a hundred and 60

00:47:45,890 --> 00:47:52,010
gigabytes with 160 cores for over three

00:47:49,130 --> 00:47:53,990
days on the constant scraping 3500

00:47:52,010 --> 00:47:57,530
machines I should be stable enough for

00:47:53,990 --> 00:48:00,200
release like the fundamental problem we

00:47:57,530 --> 00:48:04,010
had is that for six months bugs weren't

00:48:00,200 --> 00:48:06,619
being fixed to a large extent like each

00:48:04,010 --> 00:48:08,270
was being added but was four or five TST

00:48:06,619 --> 00:48:09,890
bugs and utter bugs throughout the

00:48:08,270 --> 00:48:11,960
system that weren't being looked at and

00:48:09,890 --> 00:48:14,420
we hit a critical point where any time

00:48:11,960 --> 00:48:16,569
any bug was reported all seven other

00:48:14,420 --> 00:48:19,010
bugs were also put on that issue and

00:48:16,569 --> 00:48:20,750
that's extremely difficult to work with

00:48:19,010 --> 00:48:23,210
it as a maintainer because now I can't

00:48:20,750 --> 00:48:25,430
even tell which book is which so that

00:48:23,210 --> 00:48:27,740
the moratorium is just an emergency stop

00:48:25,430 --> 00:48:29,630
button so we can get back in place and

00:48:27,740 --> 00:48:31,790
get to a better place I'll be discussing

00:48:29,630 --> 00:48:33,290
all of this tomorrow because everyone

00:48:31,790 --> 00:48:37,359
hated moratorium and hopefully we never

00:48:33,290 --> 00:48:40,839
have to do that again but it was quell

00:48:37,359 --> 00:48:40,839
learning through pain

00:48:45,430 --> 00:48:50,150
yeah I'm standing here and actually

00:48:48,140 --> 00:48:53,650
asking question the same time so it's

00:48:50,150 --> 00:48:56,300
kind of weird but do you have guys any

00:48:53,650 --> 00:48:59,030
anything to share to the external

00:48:56,300 --> 00:49:02,060
contributors to users who are using your

00:48:59,030 --> 00:49:05,480
project and maybe asking for some

00:49:02,060 --> 00:49:07,640
questions reporting issues any any

00:49:05,480 --> 00:49:09,890
advice anything to share and that will

00:49:07,640 --> 00:49:13,190
make your life easier like I don't know

00:49:09,890 --> 00:49:13,630
provide looks or whatever anything like

00:49:13,190 --> 00:49:17,630
that

00:49:13,630 --> 00:49:20,570
yeah the debug think we added to the

00:49:17,630 --> 00:49:23,780
prom tool that is really useful it will

00:49:20,570 --> 00:49:25,760
collect really important metrics and go

00:49:23,780 --> 00:49:28,060
long profiles so that should should be

00:49:25,760 --> 00:49:30,710
sufficient that that's very important so

00:49:28,060 --> 00:49:33,050
when you file a github issue at least in

00:49:30,710 --> 00:49:35,980
the main parameters repo and maybe some

00:49:33,050 --> 00:49:38,869
others we have a an issue template that

00:49:35,980 --> 00:49:40,790
already tells you what information to

00:49:38,869 --> 00:49:42,950
provide and at what structure and I

00:49:40,790 --> 00:49:44,180
think unless you really know what you're

00:49:42,950 --> 00:49:45,950
doing and you have all the context

00:49:44,180 --> 00:49:47,660
already please fill out everything

00:49:45,950 --> 00:49:49,310
carefully that helps us a lot

00:49:47,660 --> 00:49:52,490
knowing the Prometheus version knowing

00:49:49,310 --> 00:49:54,020
the logs da-da-dah a lot of people just

00:49:52,490 --> 00:49:57,470
kind of like to eat the whole thing and

00:49:54,020 --> 00:49:59,450
just write like one low-effort line that

00:49:57,470 --> 00:50:02,720
doesn't really clarify what the problem

00:49:59,450 --> 00:50:11,450
is and yeah so put put efforts I guess

00:50:02,720 --> 00:50:14,060
into questions and unpack reports or

00:50:11,450 --> 00:50:16,430
even more generic I mean just respect

00:50:14,060 --> 00:50:18,859
the time which we put in like with

00:50:16,430 --> 00:50:20,900
respective with your time like what he

00:50:18,859 --> 00:50:22,970
just said like this low effort line like

00:50:20,900 --> 00:50:24,349
this really rings with probably a lot

00:50:22,970 --> 00:50:28,040
more people than they are just sending

00:50:24,349 --> 00:50:29,930
here like if you put in the effort hey

00:50:28,040 --> 00:50:31,550
you're making our life easier so you're

00:50:29,930 --> 00:50:33,109
like respecting the time and on the

00:50:31,550 --> 00:50:35,210
other hand you also like lowering the

00:50:33,109 --> 00:50:37,940
mental barrier of just interacting and

00:50:35,210 --> 00:50:40,220
really investing that time back into you

00:50:37,940 --> 00:50:41,900
so you're actually helping yourself and

00:50:40,220 --> 00:50:44,480
also why like filing a really good

00:50:41,900 --> 00:50:46,460
buck-buck report sometimes you just

00:50:44,480 --> 00:50:47,839
realize oh that's the issue and you

00:50:46,460 --> 00:50:49,220
don't even feel it because you realize

00:50:47,839 --> 00:50:51,290
it because you did the actual like

00:50:49,220 --> 00:50:55,849
proper research and ask yourself so what

00:50:51,290 --> 00:50:57,800
would they be asking me can I add one

00:50:55,849 --> 00:51:01,190
more things I think the problem

00:50:57,800 --> 00:51:05,360
hurt is that sometimes users who want to

00:51:01,190 --> 00:51:07,400
really reach for help so they use every

00:51:05,360 --> 00:51:10,640
possible way in the same time I think

00:51:07,400 --> 00:51:12,500
that it's not necessary because people

00:51:10,640 --> 00:51:14,600
are monitoring you know give up issues

00:51:12,500 --> 00:51:17,240
and mailing is whatever so just one

00:51:14,600 --> 00:51:19,460
source should be fine I think you agree

00:51:17,240 --> 00:51:24,170
with me but I think that's something I

00:51:19,460 --> 00:51:26,210
heard also was problematic I can tell

00:51:24,170 --> 00:51:29,150
you what helps me personally when I see

00:51:26,210 --> 00:51:31,010
an issue with like a minimal config how

00:51:29,150 --> 00:51:34,550
to reproduce and the steps to reproduce

00:51:31,010 --> 00:51:36,050
that gives me a lot more motivation like

00:51:34,550 --> 00:51:38,000
instead of spending thirty minutes

00:51:36,050 --> 00:51:42,760
trying to figure out how to replicate I

00:51:38,000 --> 00:51:45,080
can only spend five so trying so try to

00:51:42,760 --> 00:51:53,300
minimal setup how to replicate that

00:51:45,080 --> 00:52:08,300
helps tremendously more questions we've

00:51:53,300 --> 00:52:12,410
got four more minutes I thanks for for

00:52:08,300 --> 00:52:14,840
conf and organizing if you can tell a

00:52:12,410 --> 00:52:19,220
few words about your motivations and

00:52:14,840 --> 00:52:20,540
drivers why you are doing that should

00:52:19,220 --> 00:52:24,220
like do this as the closing question

00:52:20,540 --> 00:52:24,220
just like from one side to the other

00:52:25,870 --> 00:52:31,040
Ben years start so Ben because you

00:52:29,840 --> 00:52:36,350
weren't listening what's your motivation

00:52:31,040 --> 00:52:39,950
to to work yeah so my motivation started

00:52:36,350 --> 00:52:42,770
with like going from Google where we had

00:52:39,950 --> 00:52:46,790
crazy crazy amounts of monitoring to a

00:52:42,770 --> 00:52:48,620
small start-up where like III asked how

00:52:46,790 --> 00:52:50,420
many how many requests per second are we

00:52:48,620 --> 00:52:53,650
getting and how many 500 airs are we

00:52:50,420 --> 00:52:53,650
getting and I kind of got a

00:52:53,930 --> 00:52:58,680
and I said wow we should we should

00:52:56,820 --> 00:53:03,720
really fix that and thankfully Julius

00:52:58,680 --> 00:53:05,700
was there fixing it for me I started

00:53:03,720 --> 00:53:07,380
contributing to Prometheus when I was a

00:53:05,700 --> 00:53:10,140
student and then I found all these

00:53:07,380 --> 00:53:12,869
amazing people helping me so initially

00:53:10,140 --> 00:53:14,220
when I opened my first PR I remember

00:53:12,869 --> 00:53:18,540
like 10 different times I have to

00:53:14,220 --> 00:53:20,670
rewrite it but now like maybe one time

00:53:18,540 --> 00:53:22,410
so I mean these guys have put a lot of

00:53:20,670 --> 00:53:23,760
effort into me and they're super fun I

00:53:22,410 --> 00:53:33,300
would always love to hang out with them

00:53:23,760 --> 00:53:38,490
yeah and I get paid to do this and like

00:53:33,300 --> 00:53:42,440
I get to do I kind of know how to write

00:53:38,490 --> 00:53:44,820
a database now maybe but that's like I

00:53:42,440 --> 00:53:46,220
learn a lot at super fun and I get paid

00:53:44,820 --> 00:53:49,010
to do it I guess

00:53:46,220 --> 00:53:53,060
yes so for myself is kind of the same

00:53:49,010 --> 00:53:55,710
the big opportunity to work for reddit

00:53:53,060 --> 00:53:59,250
so but I must say that for people that

00:53:55,710 --> 00:54:01,020
might be intimidated by the folks here

00:53:59,250 --> 00:54:03,780
on the stage I'm the last one to join

00:54:01,020 --> 00:54:07,050
the team so can just say that even if

00:54:03,780 --> 00:54:10,020
some of them I you might find them a

00:54:07,050 --> 00:54:14,609
little bit sometimes ash they are all

00:54:10,020 --> 00:54:17,160
kind definitely yeah pretty much the

00:54:14,609 --> 00:54:19,050
same for me is what's been said I just

00:54:17,160 --> 00:54:23,760
really enjoy working with the group it's

00:54:19,050 --> 00:54:26,369
super rewarding red card is a great

00:54:23,760 --> 00:54:30,470
company so they actually invest in me

00:54:26,369 --> 00:54:32,580
has a full-time prometheus maintainer I

00:54:30,470 --> 00:54:36,450
think I started working for missus

00:54:32,580 --> 00:54:38,099
because I was bored and now I had to

00:54:36,450 --> 00:54:40,290
quit my job and I didn't know what to do

00:54:38,099 --> 00:54:42,839
and then luckily like beyond Julio's

00:54:40,290 --> 00:54:46,890
Brian can let me work on the code so I

00:54:42,839 --> 00:54:49,200
know I paid for it as well well does it

00:54:46,890 --> 00:54:51,150
sound out when I mean at times which Ben

00:54:49,200 --> 00:54:52,530
mention of like we didn't really could

00:54:51,150 --> 00:54:54,660
answer these questions and then like

00:54:52,530 --> 00:54:56,460
these ex-googler scam and shout me like

00:54:54,660 --> 00:54:57,330
hey that's what you can actually do and

00:54:56,460 --> 00:54:59,670
you can like answer all these questions

00:54:57,330 --> 00:55:02,130
and then I started contributing and now

00:54:59,670 --> 00:55:03,930
the code I'm writing helps like a lot of

00:55:02,130 --> 00:55:05,880
other people on that's what me kept on

00:55:03,930 --> 00:55:06,780
the project besides like still working

00:55:05,880 --> 00:55:09,220
at SoundCloud

00:55:06,780 --> 00:55:10,600
yeah so I'm kind of a weird mix

00:55:09,220 --> 00:55:12,580
assessment and programmer and the way I

00:55:10,600 --> 00:55:14,350
work is very data-driven so I need

00:55:12,580 --> 00:55:17,170
working metrics monitoring to be able to

00:55:14,350 --> 00:55:18,490
do anything so in a previous job at an

00:55:17,170 --> 00:55:21,660
unnamed company who had a certain

00:55:18,490 --> 00:55:23,740
metrics - I ended up being a person who

00:55:21,660 --> 00:55:25,990
commonly maintained the monitoring and

00:55:23,740 --> 00:55:27,310
so all the pain points there after

00:55:25,990 --> 00:55:29,190
leaving that company going to a start-up

00:55:27,310 --> 00:55:31,180
and you know evaluating all the options

00:55:29,190 --> 00:55:34,150
you know it's looking at us like wow

00:55:31,180 --> 00:55:36,190
it's 2090 of loans and treating that I

00:55:34,150 --> 00:55:37,960
might be able to build something from an

00:55:36,190 --> 00:55:39,940
ex-coworker I ran into said oh yeah

00:55:37,960 --> 00:55:44,830
Bjorn is building something and then I

00:55:39,940 --> 00:55:46,510
got involved in for meteors not much new

00:55:44,830 --> 00:55:48,550
to say it's a very cool community I'm

00:55:46,510 --> 00:55:56,350
learning quite a bunch and distributed

00:55:48,550 --> 00:56:00,280
systems are very interesting maybe yeah

00:55:56,350 --> 00:56:03,340
I also get paid for this but why I think

00:56:00,280 --> 00:56:06,870
like I never wanted to do infrastructure

00:56:03,340 --> 00:56:09,940
or at least I didn't go into my job

00:56:06,870 --> 00:56:11,440
wanting to do infrastructure but I want

00:56:09,940 --> 00:56:13,870
it like I wanted to solve I guess

00:56:11,440 --> 00:56:16,660
real-world problems but turns out

00:56:13,870 --> 00:56:19,000
infrastructure was really awful like 10

00:56:16,660 --> 00:56:20,920
years ago at least it's gotten a lot

00:56:19,000 --> 00:56:22,360
better and turns out it's actually

00:56:20,920 --> 00:56:23,800
really interesting to work on all of

00:56:22,360 --> 00:56:27,700
these things so yeah that's why I'm

00:56:23,800 --> 00:56:30,610
still here 10 years into it from my site

00:56:27,700 --> 00:56:32,770
I really like contributing too prone to

00:56:30,610 --> 00:56:35,260
use and helping out because well I'm

00:56:32,770 --> 00:56:40,000
responsible for the monitoring team

00:56:35,260 --> 00:56:43,290
well monitoring kind of system on my

00:56:40,000 --> 00:56:47,310
company I mean probable and basically

00:56:43,290 --> 00:56:51,940
well I depends on it that's why I well I

00:56:47,310 --> 00:56:54,820
really like helping a lot there and but

00:56:51,940 --> 00:56:57,430
basically why I'm motivated it's because

00:56:54,820 --> 00:57:00,910
challenging I really like hard problems

00:56:57,430 --> 00:57:03,520
and in fact they're more harder the

00:57:00,910 --> 00:57:07,710
issue is I like it more even if it takes

00:57:03,520 --> 00:57:10,930
time and yeah I think open source is

00:57:07,710 --> 00:57:12,400
it's really good it can yeah it has lots

00:57:10,930 --> 00:57:17,350
of advantage and I'm really pushing

00:57:12,400 --> 00:57:19,150
forward that that approach for my

00:57:17,350 --> 00:57:21,249
colleagues as well

00:57:19,150 --> 00:57:23,109
so in a previous life I've been the only

00:57:21,249 --> 00:57:26,170
one picking up the pager for like 11

00:57:23,109 --> 00:57:27,940
years without pause so I know how

00:57:26,170 --> 00:57:29,799
monitoring actually like keeps people

00:57:27,940 --> 00:57:32,559
saying how it likes allows them to have

00:57:29,799 --> 00:57:35,890
a family that's why I care about this

00:57:32,559 --> 00:57:38,519
and also as cheesy as it sounds leaving

00:57:35,890 --> 00:57:38,519
the world a better place

00:57:44,410 --> 00:57:48,249
I started as a user of Prometheus I was

00:57:46,930 --> 00:57:49,299
building a completely different sorry

00:57:48,249 --> 00:57:51,759
building a completely different thing

00:57:49,299 --> 00:57:53,470
needed to monitor ex-google wanted son

00:57:51,759 --> 00:57:56,230
either look like bored mom found

00:57:53,470 --> 00:57:57,309
Prometheus and then I was like hey this

00:57:56,230 --> 00:57:58,539
is really cool I want some long-term

00:57:57,309 --> 00:58:00,160
storage for this and there wasn't

00:57:58,539 --> 00:58:02,740
anything at the time so we brought

00:58:00,160 --> 00:58:04,150
cortex and then these guys were kind

00:58:02,740 --> 00:58:09,519
enough to invite me into the dev team

00:58:04,150 --> 00:58:11,710
and I kind of yeah ever since yeah I've

00:58:09,519 --> 00:58:12,779
always been a fan of open source like

00:58:11,710 --> 00:58:15,369
back in the days

00:58:12,779 --> 00:58:16,829
politically we preferred the term free

00:58:15,369 --> 00:58:21,599
software and there was the whole thing

00:58:16,829 --> 00:58:24,009
tension like Libre software anyway so

00:58:21,599 --> 00:58:25,539
that's been going on for decades and I

00:58:24,009 --> 00:58:28,539
never imagined that I could be part of

00:58:25,539 --> 00:58:30,279
such a big open source software project

00:58:28,539 --> 00:58:33,789
myself I always looked at these people

00:58:30,279 --> 00:58:35,410
like oh those are like the priests and I

00:58:33,789 --> 00:58:37,900
don't think I will ever be part of that

00:58:35,410 --> 00:58:40,539
but it happened by accident of course

00:58:37,900 --> 00:58:42,160
the original motivation was to fix our

00:58:40,539 --> 00:58:43,869
production issues like we wanted to

00:58:42,160 --> 00:58:45,549
monitor SoundCloud and of course we

00:58:43,869 --> 00:58:49,930
would make it open source if some cloud

00:58:45,549 --> 00:58:53,859
lets us and yeah so that was great

00:58:49,930 --> 00:58:56,739
nowadays I mean mostly I freelance

00:58:53,859 --> 00:58:58,390
helping companies use it and develop

00:58:56,739 --> 00:59:00,009
integrations and stuff like that so

00:58:58,390 --> 00:59:03,400
that's less upstream there the

00:59:00,009 --> 00:59:06,759
motivation is both fun and money but I

00:59:03,400 --> 00:59:08,739
still do I guess like a lot of just yeah

00:59:06,759 --> 00:59:11,200
pull request reviews community

00:59:08,739 --> 00:59:13,569
discussions politics and so on and there

00:59:11,200 --> 00:59:15,999
I mean it's not always fun but sometimes

00:59:13,569 --> 00:59:22,450
I wish like oh but that is wrong I need

00:59:15,999 --> 00:59:24,400
to you're motivated by trying to keep

00:59:22,450 --> 00:59:26,940
your baby on the right track sometimes

00:59:24,400 --> 00:59:26,940
also

00:59:30,420 --> 00:59:34,410
so now we're going to break there's

00:59:32,670 --> 00:59:36,059
still tons more schwag over there

00:59:34,410 --> 00:59:37,829
there's also a lot of beer coasters

00:59:36,059 --> 00:59:40,859
which are like really popular so just

00:59:37,829 --> 00:59:41,970
grab them there is also more shrug at

00:59:40,859 --> 00:59:43,859
the front that's grab that as well

00:59:41,970 --> 00:59:46,170
during the post and I think we will be

00:59:43,859 --> 00:59:50,450
seeing each other at 17 sharp now

00:59:46,170 --> 00:59:50,450
actually let's say like 1605 right

00:59:50,590 --> 00:59:57,209

YouTube URL: https://www.youtube.com/watch?v=PIKPn1D_UQc


