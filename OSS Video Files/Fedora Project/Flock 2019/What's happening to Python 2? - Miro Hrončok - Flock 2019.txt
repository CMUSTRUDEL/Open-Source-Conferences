Title: What's happening to Python 2? - Miro Hrončok - Flock 2019
Publication date: 2019-08-28
Playlist: Flock 2019
Description: 
	Python 2 is going to be removed from Fedora in couple months. Let's summarize what is the plan, what shall the maintainers of Python 2 packages do and generally have a Q&A that might uncover problems in our current plan.
See https://fedoraproject.org/wiki/Changes/RetirePython2 for context.

--
Recordings of talks at Flock are a community effort. Unfortunately not everything works perfectly every time. If you're interested in helping us improve, let us know.
Captions: 
	00:00:02,370 --> 00:00:07,139
if you don't know me my name is Mira if

00:00:05,160 --> 00:00:11,850
you know me my name is also mirror so

00:00:07,139 --> 00:00:14,160
it's easy I'm one of plenty people who

00:00:11,850 --> 00:00:14,910
maintain pact Python Python ecosystem

00:00:14,160 --> 00:00:16,980
and fedora

00:00:14,910 --> 00:00:19,470
those are my colleagues Lumiere and

00:00:16,980 --> 00:00:22,440
Peter and also Tomas over there at the

00:00:19,470 --> 00:00:24,090
back he checks it from behind and there

00:00:22,440 --> 00:00:26,160
are a lot of community people who

00:00:24,090 --> 00:00:30,990
maintain Python packages in fedora and

00:00:26,160 --> 00:00:32,640
we have this big issue and up until

00:00:30,990 --> 00:00:35,670
recently the biggest issue was biting

00:00:32,640 --> 00:00:37,800
free a couple years ago we flipped our

00:00:35,670 --> 00:00:40,530
thinking and now the problem is Python 2

00:00:37,800 --> 00:00:42,719
because we just tried to get rid of it

00:00:40,530 --> 00:00:45,149
and we have plenty of reasons to do that

00:00:42,719 --> 00:00:47,219
and this is not mostly about reasons but

00:00:45,149 --> 00:00:50,039
about the execution about how we gonna

00:00:47,219 --> 00:00:53,039
do it if you don't know it the short

00:00:50,039 --> 00:00:55,289
story is that we're gonna remove bite

00:00:53,039 --> 00:00:58,109
into and that's it there are of course

00:00:55,289 --> 00:01:02,159
many exceptions and we still try to do

00:00:58,109 --> 00:01:05,100
it in less intrusive way then just get

00:01:02,159 --> 00:01:07,620
it out of the distro and be done with it

00:01:05,100 --> 00:01:09,540
even if somebody I think somebody

00:01:07,620 --> 00:01:14,880
proposed just to do that just retire it

00:01:09,540 --> 00:01:17,430
and then let it all burn down I'm gonna

00:01:14,880 --> 00:01:19,590
talk about what was happening in Ferrara

00:01:17,430 --> 00:01:21,680
recently and when I saw recently I think

00:01:19,590 --> 00:01:24,690
it's five years or something like that

00:01:21,680 --> 00:01:28,410
and what's happening in Federer 31 and

00:01:24,690 --> 00:01:31,920
what's gonna happen in Federer 32 this

00:01:28,410 --> 00:01:34,200
is no news mostly except for the 32 part

00:01:31,920 --> 00:01:35,880
where we actually have something here

00:01:34,200 --> 00:01:38,010
that we want to announce and then

00:01:35,880 --> 00:01:43,470
document it later so that's not on the

00:01:38,010 --> 00:01:46,020
web yet so let's start with the Python

00:01:43,470 --> 00:01:52,590
free transition do you remember when

00:01:46,020 --> 00:01:57,570
python 3 was added to fedora it was

00:01:52,590 --> 00:01:59,280
actually in federal 13 and it was

00:01:57,570 --> 00:02:01,590
introduced as an extra finger you can

00:01:59,280 --> 00:02:05,010
have and this crazy version of they

00:02:01,590 --> 00:02:07,620
called it by 3k if I remember and it was

00:02:05,010 --> 00:02:09,629
the new new thingy and it was even

00:02:07,620 --> 00:02:12,180
before we updated to Python 2 7 which is

00:02:09,629 --> 00:02:14,400
the craziest version of Python that now

00:02:12,180 --> 00:02:17,730
existed since federal 14 to

00:02:14,400 --> 00:02:20,939
whatnot and there were some some cool

00:02:17,730 --> 00:02:23,790
changes in in federal 23 we said let's

00:02:20,939 --> 00:02:25,829
make Python free the default and our

00:02:23,790 --> 00:02:27,900
idea was that we gonna switch everything

00:02:25,829 --> 00:02:30,720
and then throw every button too soon and

00:02:27,900 --> 00:02:33,420
it was really naive and it turned out

00:02:30,720 --> 00:02:34,439
there are so many projects that depend

00:02:33,420 --> 00:02:36,750
on Python too somehow

00:02:34,439 --> 00:02:39,209
so we start cutting the stuff and

00:02:36,750 --> 00:02:42,299
switching it over and there we switched

00:02:39,209 --> 00:02:44,370
from yam to DNF and to Python free at

00:02:42,299 --> 00:02:46,590
the same time if we switched anaconda

00:02:44,370 --> 00:02:48,329
and we switch a lot of stuff I believe

00:02:46,590 --> 00:02:50,730
or what I'm not sure that this was the

00:02:48,329 --> 00:02:52,319
first workstation version that our

00:02:50,730 --> 00:02:55,560
patent - installed when you install

00:02:52,319 --> 00:02:57,690
workstation we had to keep it in the

00:02:55,560 --> 00:03:01,879
server Lumira might know a lot about

00:02:57,690 --> 00:03:04,379
that it was because of Samba which has

00:03:01,879 --> 00:03:06,359
what do they have they have Perl program

00:03:04,379 --> 00:03:08,310
that generates swig files that generates

00:03:06,359 --> 00:03:09,659
Python bindings in Python - so you

00:03:08,310 --> 00:03:11,670
actually have to rewrite a parallel

00:03:09,659 --> 00:03:13,409
program if you want to port it so we

00:03:11,670 --> 00:03:15,510
didn't make it there but currently

00:03:13,409 --> 00:03:19,049
federal reserve is no longer even a

00:03:15,510 --> 00:03:20,669
thing but somebody's ported already most

00:03:19,049 --> 00:03:23,910
important changes happened in last

00:03:20,669 --> 00:03:25,500
federal release we kind of it looks like

00:03:23,910 --> 00:03:26,849
like we want to change something every

00:03:25,500 --> 00:03:28,980
federal release to make it a little bit

00:03:26,849 --> 00:03:33,569
harder for everybody so you need to keep

00:03:28,980 --> 00:03:36,150
track the general idea is getting rid of

00:03:33,569 --> 00:03:37,919
Python 2 and moving to Python 3 but

00:03:36,150 --> 00:03:40,079
there were some obstacles like people

00:03:37,919 --> 00:03:42,329
calling fixed bitin and didn't really

00:03:40,079 --> 00:03:44,849
care and then it picked number two

00:03:42,329 --> 00:03:47,489
because upstream recommended that if you

00:03:44,849 --> 00:03:50,430
call Python it should be Python 2 and we

00:03:47,489 --> 00:03:52,169
started doing a lot of stuff one of them

00:03:50,430 --> 00:03:54,329
was renaming everything from Python to

00:03:52,169 --> 00:03:56,819
Python 2 then we moved to use urban

00:03:54,329 --> 00:03:58,440
Python to an extra package so all the

00:03:56,819 --> 00:04:00,150
packages that just depend on Python

00:03:58,440 --> 00:04:01,889
doesn't see this by default in the

00:04:00,150 --> 00:04:04,709
Builder and it broke a lot of things and

00:04:01,889 --> 00:04:07,590
we somehow fix them except like 40

00:04:04,709 --> 00:04:09,629
packages that just ignored all our

00:04:07,590 --> 00:04:10,949
advice and they just pulled in the user

00:04:09,629 --> 00:04:14,760
pimp I don't think and now they are

00:04:10,949 --> 00:04:17,489
broken definitively anyway we deprecated

00:04:14,760 --> 00:04:19,500
Python 2 in February which technically

00:04:17,489 --> 00:04:23,370
means you can't add new packages and

00:04:19,500 --> 00:04:25,800
fedora that depend on it and people tend

00:04:23,370 --> 00:04:27,360
to ignore such rules but we have

00:04:25,800 --> 00:04:28,200
monitoring so every time somebody does

00:04:27,360 --> 00:04:34,530
this we go

00:04:28,200 --> 00:04:36,330
No have you put it out anyway the latest

00:04:34,530 --> 00:04:38,100
change for federal 31 it was already

00:04:36,330 --> 00:04:40,340
implemented as rawhide is the Python

00:04:38,100 --> 00:04:43,050
means bitin free so if you type Python

00:04:40,340 --> 00:04:44,640
it gives you Python free which was

00:04:43,050 --> 00:04:46,200
previously against upstream

00:04:44,640 --> 00:04:48,540
recommendation but we changed the

00:04:46,200 --> 00:04:51,660
obscene recommendation and how if we can

00:04:48,540 --> 00:04:53,280
do that so we did it all of the packages

00:04:51,660 --> 00:04:55,350
that ignored the you should not use

00:04:53,280 --> 00:04:58,380
usable Python s Python to are not broken

00:04:55,350 --> 00:04:59,670
but it's like 20 of them and they failed

00:04:58,380 --> 00:05:01,680
to build from source anyway so we

00:04:59,670 --> 00:05:04,350
retired all of those yesterday you might

00:05:01,680 --> 00:05:07,380
have noticed on the federal level is

00:05:04,350 --> 00:05:08,880
that like 700 packages are gone because

00:05:07,380 --> 00:05:10,680
they fail to build one of them was get

00:05:08,880 --> 00:05:13,620
text so everything was broken

00:05:10,680 --> 00:05:16,970
that's back but there's gonna be some

00:05:13,620 --> 00:05:19,890
mess what's happening in there are 31 is

00:05:16,970 --> 00:05:22,110
the mass removals we already started as

00:05:19,890 --> 00:05:25,170
one Feder I go we continue and we try to

00:05:22,110 --> 00:05:28,590
be a little harsher so the general idea

00:05:25,170 --> 00:05:30,660
is that if your package is only a Python

00:05:28,590 --> 00:05:32,910
2 module like something you would

00:05:30,660 --> 00:05:39,090
normally pip install requests or pip

00:05:32,910 --> 00:05:41,240
install happiness and then you have a

00:05:39,090 --> 00:05:45,180
Python 2 package with the module and

00:05:41,240 --> 00:05:46,710
nothing depends on it then why why would

00:05:45,180 --> 00:05:48,810
you need to maintain that at fedora

00:05:46,710 --> 00:05:50,610
there was a certain period of time where

00:05:48,810 --> 00:05:53,100
people just said packaged everything

00:05:50,610 --> 00:05:55,380
like we need to have more packages so

00:05:53,100 --> 00:05:57,090
they took random Java stuff and random

00:05:55,380 --> 00:05:58,260
Python stuff and it just package it and

00:05:57,090 --> 00:06:00,450
now it's causing a lot of trouble

00:05:58,260 --> 00:06:02,850
because the contributions contributors

00:06:00,450 --> 00:06:07,200
are gone and the dependency graph is

00:06:02,850 --> 00:06:08,730
huge what we are doing is that we open

00:06:07,200 --> 00:06:11,970
bugs allows for leaf packages with

00:06:08,730 --> 00:06:13,620
modules and then people don't respond we

00:06:11,970 --> 00:06:16,580
just kill it with fire and they usually

00:06:13,620 --> 00:06:20,040
don't respond during those things I

00:06:16,580 --> 00:06:22,830
opened several thousands bugs the last

00:06:20,040 --> 00:06:26,340
for several thousand packages and the

00:06:22,830 --> 00:06:28,470
main issue here was originally that the

00:06:26,340 --> 00:06:30,000
maintainer is just they don't give a

00:06:28,470 --> 00:06:32,730
damn you up the Box a lot they don't

00:06:30,000 --> 00:06:34,530
respond and offcially officially you

00:06:32,730 --> 00:06:38,220
need to go to non-responsive maintainer

00:06:34,530 --> 00:06:40,920
procedure which is a great pain if you

00:06:38,220 --> 00:06:41,710
have to do it for one but imagine trying

00:06:40,920 --> 00:06:45,070
to do to her

00:06:41,710 --> 00:06:46,900
non-responsive procedures at once then I

00:06:45,070 --> 00:06:48,730
was almost impossible so then we

00:06:46,900 --> 00:06:50,770
invented our own mechanisms into the

00:06:48,730 --> 00:06:53,230
federal changes get it approved by FPC

00:06:50,770 --> 00:07:53,260
and fresco get a rubber stamp and now we

00:06:53,230 --> 00:08:06,870
can do stuff around here so we will

00:07:53,260 --> 00:08:09,760
start dropping now the numbers are here

00:08:06,870 --> 00:08:15,190
so we have 70 percent Python free only

00:08:09,760 --> 00:08:17,680
packages for Python packages and 81 at

00:08:15,190 --> 00:08:24,760
least have item free but might not be

00:08:17,680 --> 00:08:27,690
only Python free what we do is that we

00:08:24,760 --> 00:08:30,820
also like look at the graph which is

00:08:27,690 --> 00:08:33,340
huge really really huge and we try to

00:08:30,820 --> 00:08:35,080
identify places where we can break the

00:08:33,340 --> 00:08:37,060
graph and say this dependency over here

00:08:35,080 --> 00:08:39,720
is not really needed and then you can

00:08:37,060 --> 00:08:43,980
cut a lot of other packages down

00:08:39,720 --> 00:08:47,050
unfortunately we still have plenty of

00:08:43,980 --> 00:08:49,300
stuff that was written five years ago by

00:08:47,050 --> 00:08:51,490
fedora infra or something like that as

00:08:49,300 --> 00:08:54,980
an application that runs on Rails seven

00:08:51,490 --> 00:08:56,870
but it's also packaged into fedora

00:08:54,980 --> 00:09:00,709
it has a lot of dependencies and is

00:08:56,870 --> 00:09:02,750
really getting slow to like say this is

00:09:00,709 --> 00:09:04,160
an application that you run on Rails 7

00:09:02,750 --> 00:09:05,990
and you don't need it packaged in

00:09:04,160 --> 00:09:09,050
rawhide in order to run it in Federer

00:09:05,990 --> 00:09:11,389
infra I don't know better they have an

00:09:09,050 --> 00:09:13,610
internal rule to package everything or

00:09:11,389 --> 00:09:15,230
what was the original motivation we are

00:09:13,610 --> 00:09:16,970
slowly getting rid of them mostly

00:09:15,230 --> 00:09:18,680
through fail to build from sources and

00:09:16,970 --> 00:09:23,570
missing dependencies bugs Ellis and

00:09:18,680 --> 00:09:25,100
stuff like that we started what is it

00:09:23,570 --> 00:09:27,350
two weeks ago three weeks ago

00:09:25,100 --> 00:09:29,180
Lumiere started filing automatic bugs

00:09:27,350 --> 00:09:30,769
alas if you have a Python to package you

00:09:29,180 --> 00:09:33,380
might already go to bugzilla that says

00:09:30,769 --> 00:09:35,779
you package use this bite onto we now

00:09:33,380 --> 00:09:37,790
consider that as a buck so if your

00:09:35,779 --> 00:09:43,730
package depends on Python - it's a buck

00:09:37,790 --> 00:09:45,949
and you need to fix it we try to need

00:09:43,730 --> 00:09:47,720
ask for information because then you

00:09:45,949 --> 00:09:49,940
have hundreds packages it's really hard

00:09:47,720 --> 00:09:51,920
to see is this important

00:09:49,940 --> 00:09:54,110
everything is important at some point to

00:09:51,920 --> 00:09:56,420
somebody but there are packages that are

00:09:54,110 --> 00:09:59,410
not really important to anybody else but

00:09:56,420 --> 00:10:02,389
the package er one of my favorites was

00:09:59,410 --> 00:10:05,810
something that converts Macromedia flash

00:10:02,389 --> 00:10:08,980
files to Excel files or something that

00:10:05,810 --> 00:10:12,410
extracts sounds from buff files and

00:10:08,980 --> 00:10:15,410
stuff like that and it's packaged there

00:10:12,410 --> 00:10:17,089
is no check section of course in the RPM

00:10:15,410 --> 00:10:19,819
so it builds forever because it has no

00:10:17,089 --> 00:10:23,690
dependencies and it was last updated in

00:10:19,819 --> 00:10:26,389
federal twelve but it's still there man

00:10:23,690 --> 00:10:28,040
if you try to query it and then nobody

00:10:26,389 --> 00:10:31,519
replies that you know that it's probably

00:10:28,040 --> 00:10:33,680
the dead package anyway we try to ask

00:10:31,519 --> 00:10:35,569
the project the maintainer x' what is

00:10:33,680 --> 00:10:38,449
the transition plan for python free and

00:10:35,569 --> 00:10:42,410
upstream and try to pitch in give some

00:10:38,449 --> 00:10:43,910
advices for fedora ultimately the goal

00:10:42,410 --> 00:10:46,459
is to get rid of all those packages

00:10:43,910 --> 00:10:48,170
because I don't care if we have and

00:10:46,459 --> 00:10:50,600
the distribution from my Python

00:10:48,170 --> 00:10:54,649
maintainer perspective but on the other

00:10:50,600 --> 00:10:56,180
hand as a fedora ambassador and somebody

00:10:54,649 --> 00:10:57,529
who likes Federer I think removing

00:10:56,180 --> 00:11:01,069
ruthlessly stuff that people actually

00:10:57,529 --> 00:11:06,170
use like chromium is not such a good

00:11:01,069 --> 00:11:08,160
idea so we try to message the thing that

00:11:06,170 --> 00:11:09,569
you need a fesker exception

00:11:08,160 --> 00:11:11,160
in order to continue to ship the

00:11:09,569 --> 00:11:13,980
software if it's if it's running on

00:11:11,160 --> 00:11:17,250
Python 2 so there is a way to keep it if

00:11:13,980 --> 00:11:20,009
it's important it has a high impact and

00:11:17,250 --> 00:11:22,199
it usually helps if there is a plan for

00:11:20,009 --> 00:11:24,660
example mercurial has a plan

00:11:22,199 --> 00:11:27,139
they already ready for Python free but

00:11:24,660 --> 00:11:31,829
all the extensions are not working so

00:11:27,139 --> 00:11:33,750
this is just an idea we might say ok it

00:11:31,829 --> 00:11:35,279
makes sense to keep mercurial and Python

00:11:33,750 --> 00:11:37,050
2 otherwise it's going to be broken for

00:11:35,279 --> 00:11:39,750
the users and we give you the exception

00:11:37,050 --> 00:11:45,360
or not it depends on first columns just

00:11:39,750 --> 00:11:47,370
mean the problem Matic packages are not

00:11:45,360 --> 00:11:50,310
the ones that people actually use like

00:11:47,370 --> 00:11:52,680
like chromium and whatnot it's the

00:11:50,310 --> 00:11:55,920
packages that release engineering and

00:11:52,680 --> 00:11:56,610
infrastructure is using because there's

00:11:55,920 --> 00:11:59,009
no movement

00:11:56,610 --> 00:12:00,839
it appears that and then you attempted

00:11:59,009 --> 00:12:03,449
to remove it and then somebody jumps on

00:12:00,839 --> 00:12:07,259
you I said no if you remove this we

00:12:03,449 --> 00:12:09,930
can't do composes anymore alright ok but

00:12:07,259 --> 00:12:13,230
the package doesn't install and you do

00:12:09,930 --> 00:12:17,009
composes how is that even possible in a

00:12:13,230 --> 00:12:18,990
very slowly pipe and basically what

00:12:17,009 --> 00:12:21,000
happens is that you open the tickets for

00:12:18,990 --> 00:12:23,550
orphan in a package and then somebody

00:12:21,000 --> 00:12:26,100
appears there and says oh no we can't do

00:12:23,550 --> 00:12:29,790
that and everything is gone so

00:12:26,100 --> 00:12:31,709
explicitly for federal 30 to change for

00:12:29,790 --> 00:12:35,759
the retirement we said there are no

00:12:31,709 --> 00:12:37,620
implicitly important packages if you

00:12:35,759 --> 00:12:41,699
consider your package important you need

00:12:37,620 --> 00:12:44,459
to get an explicit exception I'll gladly

00:12:41,699 --> 00:12:45,720
retire Colonel if they depend on Python

00:12:44,459 --> 00:12:51,059
2 and they didn't get an exception

00:12:45,720 --> 00:12:53,220
that's their job to do so now the

00:12:51,059 --> 00:12:58,680
important part about what's going to

00:12:53,220 --> 00:13:00,990
happen before I go there somebody asked

00:12:58,680 --> 00:13:03,360
on the well why are we not just keeping

00:13:00,990 --> 00:13:05,220
it why are we doing all this madness if

00:13:03,360 --> 00:13:07,319
we can just keep things as they are and

00:13:05,220 --> 00:13:09,300
the problem is not that the Python

00:13:07,319 --> 00:13:13,740
interpreter itself is going to be

00:13:09,300 --> 00:13:15,360
end-of-life in what five months because

00:13:13,740 --> 00:13:18,839
we could handle that somehow we will

00:13:15,360 --> 00:13:20,759
eventually keep it there anyway but it's

00:13:18,839 --> 00:13:21,870
the many upstream projects that release

00:13:20,759 --> 00:13:24,120
new versions that are

00:13:21,870 --> 00:13:27,480
not bite into compatible so if you want

00:13:24,120 --> 00:13:29,220
to update numpy you can't because you

00:13:27,480 --> 00:13:31,710
have python to numpy and python free and

00:13:29,220 --> 00:13:33,600
umpire in the same package and the new

00:13:31,710 --> 00:13:35,220
version doesn't support button 2 so the

00:13:33,600 --> 00:13:36,930
only reasonable thing to do is you

00:13:35,220 --> 00:13:39,270
create a new package called bite into

00:13:36,930 --> 00:13:41,550
numpy you keep it on the old version but

00:13:39,270 --> 00:13:44,400
you update the original numpy and now

00:13:41,550 --> 00:13:46,860
imagine you need to do 500 new packages

00:13:44,400 --> 00:13:48,570
just in order to make it happen and

00:13:46,860 --> 00:13:50,640
nobody would care about the Python 2

00:13:48,570 --> 00:13:52,470
packages at all and then they will get

00:13:50,640 --> 00:13:54,870
orphaned and then you will get this

00:13:52,470 --> 00:13:56,730
email by by some person that says

00:13:54,870 --> 00:13:59,610
orphans packages are all going to be

00:13:56,730 --> 00:14:00,450
retired and it's gonna be the Java mess

00:13:59,610 --> 00:14:03,180
all over again

00:14:00,450 --> 00:14:04,860
except it's gonna be a Python mess and

00:14:03,180 --> 00:14:06,720
as spy to maintain us we have very

00:14:04,860 --> 00:14:09,720
limited resources in order to support

00:14:06,720 --> 00:14:12,540
this legacy group of craft and

00:14:09,720 --> 00:14:14,700
federalized leading or bleeding edge and

00:14:12,540 --> 00:14:19,380
not not some enterprise thing where we

00:14:14,700 --> 00:14:21,330
need to support all those old things we

00:14:19,380 --> 00:14:23,370
have another change for federer 32 and

00:14:21,330 --> 00:14:25,890
that's updating python free - free 8 it

00:14:23,370 --> 00:14:28,500
got postponed for fedora from federer 31

00:14:25,890 --> 00:14:31,020
and we know that as soon as we start

00:14:28,500 --> 00:14:32,700
removing python 2 bits a lot of packages

00:14:31,020 --> 00:14:34,650
will fail to build because they try to

00:14:32,700 --> 00:14:36,810
build python 2 and python free at the

00:14:34,650 --> 00:14:42,270
same time so the idea is that we don't

00:14:36,810 --> 00:14:45,200
do anything until until free 8's is

00:14:42,270 --> 00:14:47,190
ready mid-august which is right now

00:14:45,200 --> 00:14:49,700
something important happens federer

00:14:47,190 --> 00:14:52,620
branches that's Tuesday after flock

00:14:49,700 --> 00:14:54,720
we're gonna do the free a transition as

00:14:52,620 --> 00:14:56,790
fast as possible there's another

00:14:54,720 --> 00:14:59,120
thousands box where nobody responded so

00:14:56,790 --> 00:15:02,070
there's gonna be fun

00:14:59,120 --> 00:15:04,020
we will do some split off from Pip and

00:15:02,070 --> 00:15:05,970
set up tools so we can easily update

00:15:04,020 --> 00:15:08,070
them separately but it's still not

00:15:05,970 --> 00:15:10,940
breaking anything for for all your

00:15:08,070 --> 00:15:15,360
packages everything looks the same

00:15:10,940 --> 00:15:17,760
mid-september which is a month later we

00:15:15,360 --> 00:15:20,220
will package the python 27 package which

00:15:17,760 --> 00:15:22,740
is the interpreter with all the stuff

00:15:20,220 --> 00:15:24,750
there are no more sub-packages no debug

00:15:22,740 --> 00:15:28,950
builds it's just a legacy package so you

00:15:24,750 --> 00:15:30,420
can use to develop your stuff and we

00:15:28,950 --> 00:15:34,560
will retire python 2 from the

00:15:30,420 --> 00:15:35,790
distribution mid September however the

00:15:34,560 --> 00:15:39,510
use of in Python teach

00:15:35,790 --> 00:15:43,290
and Python ABI provides Stace in the

00:15:39,510 --> 00:15:46,170
Python t7 package so everything still

00:15:43,290 --> 00:15:48,000
keeps resolving unless you depend on

00:15:46,170 --> 00:15:49,800
Python to debug which are two packages

00:15:48,000 --> 00:15:53,520
in fedora and they can do whatever they

00:15:49,800 --> 00:15:55,800
want but there is no more normal Python

00:15:53,520 --> 00:15:57,960
to devil so as long as you try to

00:15:55,800 --> 00:16:00,090
rebuild your package without any changes

00:15:57,960 --> 00:16:02,820
it will immediately fail to build and

00:16:00,090 --> 00:16:05,310
you need to do some change obviously

00:16:02,820 --> 00:16:08,630
people will just remove the devil bit

00:16:05,310 --> 00:16:11,130
change it to seven and call it a day but

00:16:08,630 --> 00:16:13,950
they're gonna end up very bad anyway

00:16:11,130 --> 00:16:15,960
soon when you realize the package

00:16:13,950 --> 00:16:19,080
doesn't build because you have a

00:16:15,960 --> 00:16:21,060
dependency of item to demo the obvious

00:16:19,080 --> 00:16:22,620
way is to remove the Python to bits and

00:16:21,060 --> 00:16:25,020
if you can't do that

00:16:22,620 --> 00:16:26,970
to remove the package and if you can't

00:16:25,020 --> 00:16:29,460
do that or you think that would break

00:16:26,970 --> 00:16:32,790
fedora for everybody you file a physical

00:16:29,460 --> 00:16:38,100
exception and you say hello I maintain

00:16:32,790 --> 00:16:41,430
this tool for I don't know managing my

00:16:38,100 --> 00:16:44,430
llamas again and it's written in Python

00:16:41,430 --> 00:16:47,010
2 and if we drop it from fedora hundreds

00:16:44,430 --> 00:16:50,190
and hundreds of llama Shepherdsville be

00:16:47,010 --> 00:16:52,710
sad and they will keep running Ubuntu so

00:16:50,190 --> 00:16:54,960
we need to provide this and then first

00:16:52,710 --> 00:16:57,900
call sets and say yeah this makes sense

00:16:54,960 --> 00:16:59,910
or no it doesn't make any sense and we

00:16:57,900 --> 00:17:01,680
continue to cut leaves so as long as you

00:16:59,910 --> 00:17:03,780
as you remove your package because you

00:17:01,680 --> 00:17:05,310
say this doesn't make any sense I

00:17:03,780 --> 00:17:08,280
realized that a lot of people are

00:17:05,310 --> 00:17:11,310
actually scared of getting exceptions so

00:17:08,280 --> 00:17:13,199
they open a review or package review and

00:17:11,310 --> 00:17:15,120
you say this depends on Python - you

00:17:13,199 --> 00:17:18,510
need to ask for a fiscal exception and

00:17:15,120 --> 00:17:19,260
the person is like that's exception I

00:17:18,510 --> 00:17:21,030
can't do that

00:17:19,260 --> 00:17:23,459
and it serves a purpose because they

00:17:21,030 --> 00:17:25,079
never ask it and we are happy but if you

00:17:23,459 --> 00:17:26,910
actually want to get a solution it's

00:17:25,079 --> 00:17:29,190
really easy you just need to explain why

00:17:26,910 --> 00:17:32,220
is it important and fresco doesn't

00:17:29,190 --> 00:17:35,520
usually bite unless you are a troll or

00:17:32,220 --> 00:17:39,930
something like that how does the

00:17:35,520 --> 00:17:42,900
exception look like most importantly

00:17:39,930 --> 00:17:45,300
accept reasons and stuff like that you

00:17:42,900 --> 00:17:48,210
need to realize what are you trying to

00:17:45,300 --> 00:17:49,260
preserve there are packages that only

00:17:48,210 --> 00:17:51,360
need to interpret

00:17:49,260 --> 00:17:53,580
those will get the exception easily it's

00:17:51,360 --> 00:17:55,890
just you you just need to interpreter

00:17:53,580 --> 00:17:58,559
the interpreter is staying anyway if you

00:17:55,890 --> 00:18:00,660
have some security implications during

00:17:58,559 --> 00:18:02,370
that we can help you with that but the

00:18:00,660 --> 00:18:04,640
problem is a lot of packages will depend

00:18:02,370 --> 00:18:07,590
on other packages like setup tools or

00:18:04,640 --> 00:18:10,200
stuff like that and then you need to get

00:18:07,590 --> 00:18:11,640
exception for the entire tree of your

00:18:10,200 --> 00:18:13,140
dependencies otherwise we will just

00:18:11,640 --> 00:18:16,350
remove your dependency say your

00:18:13,140 --> 00:18:17,880
exception would be useless you can

00:18:16,350 --> 00:18:19,500
bundle everything or you can flat pack

00:18:17,880 --> 00:18:22,200
everything and just remove it from the

00:18:19,500 --> 00:18:23,669
packages and then we don't care so if

00:18:22,200 --> 00:18:28,190
you want to bundle stuff use foot packs

00:18:23,669 --> 00:18:31,830
and get it out of fedora there are

00:18:28,190 --> 00:18:33,990
obvious ways how to bundle stuff you can

00:18:31,830 --> 00:18:37,760
always discuss this with us through

00:18:33,990 --> 00:18:37,760
bugzilla or in the exception request

00:18:38,630 --> 00:18:44,220
mostly the idea is that as soon as

00:18:41,460 --> 00:18:45,990
somebody needs spy 20 setup tools and

00:18:44,220 --> 00:18:48,240
request an exception for it

00:18:45,990 --> 00:18:51,600
I immediately hand over the package to

00:18:48,240 --> 00:18:54,210
them and I'm done I will probably keep

00:18:51,600 --> 00:18:56,730
being a commentator so I can coordinate

00:18:54,210 --> 00:18:57,419
stuff but we are not updating this

00:18:56,730 --> 00:19:01,380
anymore

00:18:57,419 --> 00:19:05,520
and if you need it well you you you need

00:19:01,380 --> 00:19:07,559
to care about it obviously when you

00:19:05,520 --> 00:19:12,240
request something and you say I need an

00:19:07,559 --> 00:19:14,309
exception for pi 2 requests and then

00:19:12,240 --> 00:19:16,679
there is an existing maintainer of

00:19:14,309 --> 00:19:19,140
Python requests and he needs to agree to

00:19:16,679 --> 00:19:21,080
keep the Python 2 bit or it's cutting

00:19:19,140 --> 00:19:23,429
out to a separate package and it's yours

00:19:21,080 --> 00:19:26,400
maintaining Python 2 software will be

00:19:23,429 --> 00:19:29,730
very hard and that's the point because

00:19:26,400 --> 00:19:30,960
we just want to get rid of it but if you

00:19:29,730 --> 00:19:33,809
need to get help

00:19:30,960 --> 00:19:37,020
do you like get it working we are here

00:19:33,809 --> 00:19:38,790
to help we may appear like drop

00:19:37,020 --> 00:19:40,350
everything drop everything because if

00:19:38,790 --> 00:19:42,780
you have thousands of packages that's

00:19:40,350 --> 00:19:44,640
the only approach that works but if you

00:19:42,780 --> 00:19:47,970
have a single package that needs bite

00:19:44,640 --> 00:19:51,000
into for a reason it's okay to approach

00:19:47,970 --> 00:19:52,590
us and ask for help how do I remove this

00:19:51,000 --> 00:19:56,910
part of the package or something like

00:19:52,590 --> 00:19:59,610
that I will gladly do that what's most

00:19:56,910 --> 00:20:01,620
important of this talk is this Flag Day

00:19:59,610 --> 00:20:02,759
it's not actually a day it says

00:20:01,620 --> 00:20:05,489
mid-november we

00:20:02,759 --> 00:20:07,679
might artificially call it the 15th of

00:20:05,489 --> 00:20:10,379
November but it's not important

00:20:07,679 --> 00:20:13,649
mid-november if you don't have an

00:20:10,379 --> 00:20:15,749
exception your package is done I will

00:20:13,649 --> 00:20:19,229
just go and retire everything that

00:20:15,749 --> 00:20:21,209
depends on Python - if I see obviously

00:20:19,229 --> 00:20:23,190
that is just one sub package that can

00:20:21,209 --> 00:20:25,889
easily be removed I will try to do that

00:20:23,190 --> 00:20:27,989
but if it's not obvious I will just

00:20:25,889 --> 00:20:31,259
retire the package or some other proven

00:20:27,989 --> 00:20:35,909
package travel at this point everything

00:20:31,259 --> 00:20:38,519
already had like the first has up

00:20:35,909 --> 00:20:42,419
mid-september so two months to realize

00:20:38,519 --> 00:20:42,989
your package is broken and to ask for an

00:20:42,419 --> 00:20:46,289
exception

00:20:42,989 --> 00:20:48,899
you already got at this point bugzilla

00:20:46,289 --> 00:20:51,029
report from Lumiere or for somebody else

00:20:48,899 --> 00:20:54,179
that says your package depends on Python

00:20:51,029 --> 00:20:59,249
- you need to start figuring out what to

00:20:54,179 --> 00:21:01,199
do we remove for everything that has a

00:20:59,249 --> 00:21:02,429
runtime dependency on Python - and we

00:21:01,199 --> 00:21:04,109
remove everything that bill requires

00:21:02,429 --> 00:21:06,989
bite into the valve still because that

00:21:04,109 --> 00:21:11,699
doesn't even build so no point of

00:21:06,989 --> 00:21:13,499
keeping that we will not do more

00:21:11,699 --> 00:21:20,009
complicated queries so you can still

00:21:13,499 --> 00:21:21,749
somehow trick us so for example here for

00:21:20,009 --> 00:21:25,589
example if your package depends on user

00:21:21,749 --> 00:21:27,269
pin patent - during build time it's

00:21:25,589 --> 00:21:30,029
forbidden but we will probably not

00:21:27,269 --> 00:21:31,679
automatically retire it yet but when

00:21:30,029 --> 00:21:38,489
everything is done we start looking for

00:21:31,679 --> 00:21:40,889
these things what is the problem

00:21:38,489 --> 00:21:44,089
during those removals is that there are

00:21:40,889 --> 00:21:48,089
packages who go really crazy like

00:21:44,089 --> 00:21:50,069
obvious is I need an F conditional for

00:21:48,089 --> 00:21:53,069
Python 2 bit and it needs to say a

00:21:50,069 --> 00:21:54,629
federal reversion and we say no there is

00:21:53,069 --> 00:21:56,279
no federal reversion when you stop

00:21:54,629 --> 00:21:58,199
building this you stop building this but

00:21:56,279 --> 00:22:00,209
there is nothing that requires it

00:21:58,199 --> 00:22:02,909
anymore and they are like okay and they

00:22:00,209 --> 00:22:05,009
flip the federal version to 32 from 31

00:22:02,909 --> 00:22:07,559
or something like that so it's gonna

00:22:05,009 --> 00:22:10,109
happen that after the mass rebuild some

00:22:07,559 --> 00:22:12,809
packages are gone just because somebody

00:22:10,109 --> 00:22:15,719
assumed something and currently if

00:22:12,809 --> 00:22:16,320
somebody new package is gone and it has

00:22:15,719 --> 00:22:18,870
dependents

00:22:16,320 --> 00:22:20,279
it's still a buck and you can report it

00:22:18,870 --> 00:22:22,200
to the maintainer I say you remove a

00:22:20,279 --> 00:22:26,100
package you didn't communicate it brokes

00:22:22,200 --> 00:22:27,720
stuff put it back and we will be sad but

00:22:26,100 --> 00:22:29,279
because there will be one more package

00:22:27,720 --> 00:22:32,610
that depends on Python too but nothing

00:22:29,279 --> 00:22:35,580
will break in Federer 32 if your package

00:22:32,610 --> 00:22:39,179
is gone the dependency because the

00:22:35,580 --> 00:22:42,210
maintainer went crazy and remove stuff

00:22:39,179 --> 00:22:44,669
without communicating it's no longer his

00:22:42,210 --> 00:22:46,860
problem but yours so as long as your

00:22:44,669 --> 00:22:48,750
dependency is gone and you really need

00:22:46,860 --> 00:22:50,190
it then you need to file an exception

00:22:48,750 --> 00:22:51,690
for yourself because otherwise you don't

00:22:50,190 --> 00:22:53,340
need it and you need to file an

00:22:51,690 --> 00:22:56,039
exception for the missing dependency and

00:22:53,340 --> 00:22:58,110
you need to package it for your own if

00:22:56,039 --> 00:23:01,409
we hope nobody will want to do that and

00:22:58,110 --> 00:23:10,230
that people will just stop doing this

00:23:01,409 --> 00:23:13,799
altogether in mid of February which is

00:23:10,230 --> 00:23:18,210
what one do you free month after

00:23:13,799 --> 00:23:20,399
November there is the better freeze so

00:23:18,210 --> 00:23:22,950
we have three months between the Flag

00:23:20,399 --> 00:23:26,179
Day and the better freeze to clean all

00:23:22,950 --> 00:23:28,559
the mess and make it work again and

00:23:26,179 --> 00:23:29,340
probably if we remove stuff something

00:23:28,559 --> 00:23:31,860
will break

00:23:29,340 --> 00:23:34,889
I expect the compost will stop composing

00:23:31,860 --> 00:23:37,649
and the images will stop imaging and

00:23:34,889 --> 00:23:40,470
stuff like that and hopefully through

00:23:37,649 --> 00:23:42,570
this period of time we can fix things

00:23:40,470 --> 00:23:45,240
and obviously if you didn't get an

00:23:42,570 --> 00:23:47,070
exception before you can still get it

00:23:45,240 --> 00:23:48,389
so if usually the back is just only wake

00:23:47,070 --> 00:23:50,820
up when you actually retire there

00:23:48,389 --> 00:23:52,620
packages you open bugs the last you said

00:23:50,820 --> 00:23:54,360
emails and nobody gives to them then

00:23:52,620 --> 00:23:56,700
you've retired a package and then it's

00:23:54,360 --> 00:23:57,389
like what did you just do the package

00:23:56,700 --> 00:24:01,110
was mine

00:23:57,389 --> 00:24:03,269
so we expected in mid-november when we

00:24:01,110 --> 00:24:06,809
start removing stuff people will wake up

00:24:03,269 --> 00:24:08,970
and then you can still you can still get

00:24:06,809 --> 00:24:12,000
the exception later and reintroduce the

00:24:08,970 --> 00:24:14,909
package if you get it later

00:24:12,000 --> 00:24:17,759
after after a branch we probably start

00:24:14,909 --> 00:24:20,009
worrying about biting two packages that

00:24:17,759 --> 00:24:21,779
that are hidden from our queries and

00:24:20,009 --> 00:24:24,269
they don't have a runtime dependency and

00:24:21,779 --> 00:24:26,460
they just need to the interpreter to

00:24:24,269 --> 00:24:29,279
build or something and it's much easier

00:24:26,460 --> 00:24:30,060
to get an exception and say hey I only

00:24:29,279 --> 00:24:32,760
need two pipe

00:24:30,060 --> 00:24:34,860
interpreter to build and it's important

00:24:32,760 --> 00:24:38,730
because otherwise practice doesn't build

00:24:34,860 --> 00:24:46,140
but yeah we probably just keep that if

00:24:38,730 --> 00:24:49,530
we know your package needs that's all I

00:24:46,140 --> 00:24:51,600
had in my slides most important thing is

00:24:49,530 --> 00:24:53,940
this link it's very long for you to

00:24:51,600 --> 00:24:56,700
remember but it's just as finalizing

00:24:53,940 --> 00:24:59,490
Fedora switch to Python free it's just

00:24:56,700 --> 00:25:02,700
like a huge meta change that has all the

00:24:59,490 --> 00:25:05,250
changes that are happening in inside

00:25:02,700 --> 00:25:07,860
you'll find all the links to describe

00:25:05,250 --> 00:25:10,560
this and of course if you don't like

00:25:07,860 --> 00:25:12,870
what I am saying if you want to keep

00:25:10,560 --> 00:25:15,750
biting to forever you are always welcome

00:25:12,870 --> 00:25:17,910
to take the package or to propose a

00:25:15,750 --> 00:25:20,390
better solution we are open to

00:25:17,910 --> 00:25:23,610
discussions but we are very very

00:25:20,390 --> 00:25:26,960
stubborn about not keeping it if it

00:25:23,610 --> 00:25:26,960
means we need to maintain it ourselves

00:25:27,080 --> 00:25:38,130
is there any important information I

00:25:30,690 --> 00:25:40,590
totally forgot to say okay so if you

00:25:38,130 --> 00:25:42,870
have questions for us about this or

00:25:40,590 --> 00:25:50,240
anything else that relates to Python in

00:25:42,870 --> 00:25:50,240
fedora shoot yep

00:26:15,250 --> 00:26:22,160
so you have you have more possibilities

00:26:19,940 --> 00:26:24,050
some of them are crazy like maintaining

00:26:22,160 --> 00:26:26,300
a fork forever

00:26:24,050 --> 00:26:28,220
there are also packages that still have

00:26:26,300 --> 00:26:29,690
downstream only Python free patches in

00:26:28,220 --> 00:26:32,930
fedora and stuff like that but it's not

00:26:29,690 --> 00:26:34,850
maintainable so basically if you really

00:26:32,930 --> 00:26:36,260
want to keep this you would need to get

00:26:34,850 --> 00:26:38,990
an exception but if you don't want to

00:26:36,260 --> 00:26:41,750
keep it just retire it I mean is it

00:26:38,990 --> 00:26:43,700
something important No then it's the

00:26:41,750 --> 00:26:45,170
question is simple or the answer is

00:26:43,700 --> 00:26:46,460
simple if it's not important get rid of

00:26:45,170 --> 00:26:48,880
it and do it now even in federal

00:26:46,460 --> 00:26:48,880
authority one

00:26:49,190 --> 00:26:52,299
[Music]

00:27:17,560 --> 00:27:22,070
that's that's the probably the little

00:27:20,630 --> 00:27:24,410
bit of information that I completely

00:27:22,070 --> 00:27:26,750
most is that the purpose of this change

00:27:24,410 --> 00:27:29,600
is not to get rid of Python - for the

00:27:26,750 --> 00:27:31,760
users we still think that Fedora is the

00:27:29,600 --> 00:27:35,000
best choice for a Python developer as

00:27:31,760 --> 00:27:37,370
their workstation and some developers

00:27:35,000 --> 00:27:39,710
poor souls actually need to support bite

00:27:37,370 --> 00:27:42,980
into applications because they are

00:27:39,710 --> 00:27:45,950
deployed in rel or whatever so if you

00:27:42,980 --> 00:27:47,870
run fedora and you need to test your

00:27:45,950 --> 00:27:50,660
application on Python - obviously this

00:27:47,870 --> 00:27:53,510
is still supported use case for for such

00:27:50,660 --> 00:27:56,420
developer the only issue is that you can

00:27:53,510 --> 00:27:57,910
only pip install packages into virtual

00:27:56,420 --> 00:28:01,460
environment that there are bitin

00:27:57,910 --> 00:28:03,980
packages so you don't get DNF endings

00:28:01,460 --> 00:28:05,960
for python - because you can't install

00:28:03,980 --> 00:28:08,510
it from P but you already don't get this

00:28:05,960 --> 00:28:15,890
now so there is not much changing on

00:28:08,510 --> 00:28:18,110
that front as a side note we also have

00:28:15,890 --> 00:28:20,330
patent two six package for the exact

00:28:18,110 --> 00:28:23,780
same reason and it has been orphaned

00:28:20,330 --> 00:28:25,760
because the compat open SSL dependency

00:28:23,780 --> 00:28:27,920
is also being orphaned so if you

00:28:25,760 --> 00:28:28,580
actually need to develop for bitin to

00:28:27,920 --> 00:28:33,290
six

00:28:28,580 --> 00:28:35,630
that's well six you would need to worry

00:28:33,290 --> 00:28:37,700
about that but unless you don't and I

00:28:35,630 --> 00:28:45,920
hope nobody it needs to develop for

00:28:37,700 --> 00:28:50,120
Python t6 and it should be fine okay if

00:28:45,920 --> 00:28:54,130
that's all thank you for coming and have

00:28:50,120 --> 00:28:54,130
a nice retirement of patenting

00:29:19,030 --> 00:29:26,020
as a side note we have two python

00:29:22,420 --> 00:29:28,300
related heck fest tomorrow one is about

00:29:26,020 --> 00:29:31,480
the federal of spite and thingy that we

00:29:28,300 --> 00:29:33,400
have but didn't move anywhere for couple

00:29:31,480 --> 00:29:36,130
of years now so we are looking for

00:29:33,400 --> 00:29:38,980
people with interesting ideas like

00:29:36,130 --> 00:29:40,810
marketing and and design and stuff like

00:29:38,980 --> 00:29:44,080
that because we usually just meet as

00:29:40,810 --> 00:29:46,000
engineers and try to promote fedora but

00:29:44,080 --> 00:29:49,450
we don't know how so we would like to

00:29:46,000 --> 00:29:51,310
get a more broad group of people I'm

00:29:49,450 --> 00:29:53,740
actually not coming because I have to

00:29:51,310 --> 00:29:56,040
get home tomorrow today but the guys

00:29:53,740 --> 00:29:59,620
will be there and after lunch

00:29:56,040 --> 00:30:02,950
there's a hackfest more like doing

00:29:59,620 --> 00:30:05,860
actual coding about the PI project

00:30:02,950 --> 00:30:07,810
macros which is a new way how you can

00:30:05,860 --> 00:30:09,670
build Buyten packages upstream and we

00:30:07,810 --> 00:30:12,220
are doing RP macros for it so you can

00:30:09,670 --> 00:30:15,220
use it in spec files and the purpose is

00:30:12,220 --> 00:30:20,140
it should be all automaticall so you

00:30:15,220 --> 00:30:23,440
don't need to maintain no magic in there

00:30:20,140 --> 00:30:25,420
it's just okay so the magical bit is

00:30:23,440 --> 00:30:28,090
that the spec file will always look the

00:30:25,420 --> 00:30:30,130
same no matter what so then you can't

00:30:28,090 --> 00:30:31,660
you can completely forget about the spec

00:30:30,130 --> 00:30:32,620
file and you can generate it on the fly

00:30:31,660 --> 00:30:35,920
or something like that

00:30:32,620 --> 00:30:38,290
and the tool that called BIP to rpm that

00:30:35,920 --> 00:30:41,080
actually did it before can be obsoleted

00:30:38,290 --> 00:30:43,240
completely so if you want to help get

00:30:41,080 --> 00:30:46,860
this done talk about the API of this

00:30:43,240 --> 00:30:46,860

YouTube URL: https://www.youtube.com/watch?v=uADqTVHjZU4


