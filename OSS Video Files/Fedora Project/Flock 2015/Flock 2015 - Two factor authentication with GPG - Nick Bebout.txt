Title: Flock 2015 - Two factor authentication with GPG - Nick Bebout
Publication date: 2015-08-26
Playlist: Flock 2015
Description: 
	This presentation will discuss the uses of Two Factor Authentication in GPG, including the GPG shell tokens with the GPG smart cards, and Yubikey NEO which comes with an OpenPGP applet. I will also discuss how to use a GPG token (either type) to authenticate yourself with SSH to a remote server, which I believe is helpful for increased security, especially given all of the hacking going on lately.
Captions: 
	00:00:01,190 --> 00:00:08,580
if people get your SSH I mean people

00:00:05,640 --> 00:00:11,910
can't even if they do compromise your

00:00:08,580 --> 00:00:14,429
computer they can't copy your ssh key

00:00:11,910 --> 00:00:18,539
which hopefully you have a passphrase on

00:00:14,429 --> 00:00:22,710
your ssh key anyway but more security is

00:00:18,539 --> 00:00:27,500
always better and there's also which

00:00:22,710 --> 00:00:33,200
these will hold up to 4096 bit keys

00:00:27,500 --> 00:00:37,530
there is also the you bikini Oh which

00:00:33,200 --> 00:00:40,260
runs java card and there's and it comes

00:00:37,530 --> 00:00:47,160
built in with a Java card applet for

00:00:40,260 --> 00:00:49,680
openpgp these I like them in some ways

00:00:47,160 --> 00:00:54,059
in some ways i prefer the others because

00:00:49,680 --> 00:00:56,520
these yes they're smaller and they do

00:00:54,059 --> 00:01:00,469
multiple things because the you bikini

00:00:56,520 --> 00:01:04,290
Oh can also do the normal you baqi and

00:01:00,469 --> 00:01:06,780
features so like if you are involved

00:01:04,290 --> 00:01:08,640
with fedora infrastructure you have to

00:01:06,780 --> 00:01:10,850
have either you baqi or Google

00:01:08,640 --> 00:01:16,680
Authenticator or one of the other

00:01:10,850 --> 00:01:18,960
similar apps to you soo do but if you

00:01:16,680 --> 00:01:23,340
bet you can use your you bikini oh that

00:01:18,960 --> 00:01:26,040
you also use for ssh the bad thing about

00:01:23,340 --> 00:01:31,229
these well one thing is these can only

00:01:26,040 --> 00:01:35,670
hold 2048-bit keys and which is still

00:01:31,229 --> 00:01:39,150
pretty large babe on here what I've done

00:01:35,670 --> 00:01:42,530
is I have most of the systems i connect

00:01:39,150 --> 00:01:48,149
to I have both a key that's on here and

00:01:42,530 --> 00:01:49,979
another key that's on my pubic eat the

00:01:48,149 --> 00:01:53,450
bad thing one of the bad things recently

00:01:49,979 --> 00:01:57,090
about the yuba key was there was a

00:01:53,450 --> 00:02:01,110
vulnerability in the open PGP applet

00:01:57,090 --> 00:02:03,030
that's on here where basically you if

00:02:01,110 --> 00:02:06,509
you compile if you wrote the software

00:02:03,030 --> 00:02:09,810
just right to do stymie which it does

00:02:06,509 --> 00:02:11,460
require you to tell it to use it in ways

00:02:09,810 --> 00:02:15,570
that it wasn't intended

00:02:11,460 --> 00:02:20,400
but you could basically make this sign

00:02:15,570 --> 00:02:24,450
stuff without the pin which is kind of

00:02:20,400 --> 00:02:27,930
bad but you McKee I think handled it

00:02:24,450 --> 00:02:30,660
nicely if you had one that had the old

00:02:27,930 --> 00:02:33,300
version of the applet because now the

00:02:30,660 --> 00:02:36,450
original you bikini OHS were what they

00:02:33,300 --> 00:02:39,090
now call developed the developer model

00:02:36,450 --> 00:02:43,230
where you could change the applets on

00:02:39,090 --> 00:02:47,250
here yourself now they come locked where

00:02:43,230 --> 00:02:49,410
you can't change them if you have one

00:02:47,250 --> 00:02:52,140
that's locked so you can't change it and

00:02:49,410 --> 00:02:56,460
it has the vulnerable version of the

00:02:52,140 --> 00:02:59,280
applet on it you can you can just send

00:02:56,460 --> 00:03:03,240
them a ticket on their support system

00:02:59,280 --> 00:03:06,000
with an appt the output of gpg card

00:03:03,240 --> 00:03:08,580
status and they will send you a coupon

00:03:06,000 --> 00:03:11,160
code to get a replacement for free you

00:03:08,580 --> 00:03:13,940
don't even have to mail the original one

00:03:11,160 --> 00:03:19,200
in and it'll still work for things like

00:03:13,940 --> 00:03:22,260
regular geeky things like that so I

00:03:19,200 --> 00:03:24,930
didn't make fancy slides because most of

00:03:22,260 --> 00:03:26,910
what I intended to do is just show you

00:03:24,930 --> 00:03:30,000
how to do it and if anybody has any

00:03:26,910 --> 00:03:32,580
questions then I'll answer people's

00:03:30,000 --> 00:03:35,940
questions and does anyone have any

00:03:32,580 --> 00:03:40,220
questions about anything so far or

00:03:35,940 --> 00:03:40,220
anything you'd like to know specifically

00:03:42,410 --> 00:03:54,860
well and as far as setting it up Clint

00:03:50,510 --> 00:03:57,130
savage or her low he has made a really

00:03:54,860 --> 00:03:57,130
good

00:04:08,530 --> 00:04:15,940
he has made a really good documentation

00:04:12,220 --> 00:04:18,900
on his github repo of how to get it set

00:04:15,940 --> 00:04:18,900
up to work well

00:04:42,430 --> 00:04:49,290
sorry i was on the internet but it must

00:04:44,920 --> 00:04:49,290
have lost my connection

00:05:39,600 --> 00:05:45,400
now I'll go ahead and show you this

00:05:43,140 --> 00:05:53,020
does anyone else had trouble with the

00:05:45,400 --> 00:05:55,240
internet here okay so once you go

00:05:53,020 --> 00:05:59,220
through the steps on his github repo

00:05:55,240 --> 00:06:01,840
which is really explains it very well

00:05:59,220 --> 00:06:06,700
there's a few packages you have to

00:06:01,840 --> 00:06:15,010
install and a couple files to change so

00:06:06,700 --> 00:06:19,840
that it sets up g PG agent then you can

00:06:15,010 --> 00:06:23,260
either generate your key on the smart

00:06:19,840 --> 00:06:26,800
card itself which the drawback of that

00:06:23,260 --> 00:06:28,990
is it leaves you with no backup so if

00:06:26,800 --> 00:06:31,570
something would happen to your smart

00:06:28,990 --> 00:06:34,740
card or it would stop working or

00:06:31,570 --> 00:06:39,070
something your keys just gone you can't

00:06:34,740 --> 00:06:42,460
put it on a new one what I've chosen to

00:06:39,070 --> 00:06:46,630
do is generate my key when I'm not on

00:06:42,460 --> 00:06:53,920
the internet or anything and then put it

00:06:46,630 --> 00:06:57,240
on the smart card later this should be

00:06:53,920 --> 00:07:01,500
this is a brand-new caught up brand new

00:06:57,240 --> 00:07:04,840
token and smart card gpg card status

00:07:01,500 --> 00:07:10,570
will just tell you the serial number you

00:07:04,840 --> 00:07:12,840
can set a name language and URL all of

00:07:10,570 --> 00:07:12,840
that

00:07:21,370 --> 00:07:29,340
so I'm just going to generate a key you

00:07:24,280 --> 00:07:29,340
were quick just the same as normal

00:08:09,870 --> 00:08:18,180
okay so there I have my new key so to

00:08:15,180 --> 00:08:22,290
put that so if I wanted to I could do

00:08:18,180 --> 00:08:25,170
gpg export private key and save that on

00:08:22,290 --> 00:08:28,980
a file which I have mine in an encrypted

00:08:25,170 --> 00:08:31,500
file in my safe deposit box so if for

00:08:28,980 --> 00:08:35,640
some reason my GP g tokens would stop

00:08:31,500 --> 00:08:42,540
working I could go get that and then put

00:08:35,640 --> 00:08:48,590
it on a new one so to put that on your

00:08:42,540 --> 00:08:48,590
card do gpg edit key

00:09:01,889 --> 00:09:08,819
and then kita card and it'll ask you are

00:09:05,879 --> 00:09:15,600
you really sure I want that to be a

00:09:08,819 --> 00:09:20,399
signature key then the admin pin is

00:09:15,600 --> 00:09:23,839
starts out as one two three outside one

00:09:20,399 --> 00:09:23,839
two three four five six seven eight

00:09:37,100 --> 00:09:45,140
and then save so then if you go back to

00:09:39,620 --> 00:09:49,670
jpg card status then that will show that

00:09:45,140 --> 00:09:52,940
your key is on the card and you can you

00:09:49,670 --> 00:09:57,080
can and put the same key in multiple

00:09:52,940 --> 00:09:59,960
slots like if you have your main key or

00:09:57,080 --> 00:10:03,230
subkey that's set for signature

00:09:59,960 --> 00:10:06,770
encryption and authentication you can

00:10:03,230 --> 00:10:11,270
put the same key in all three slots gpg

00:10:06,770 --> 00:10:15,380
will not allow you to do that as simply

00:10:11,270 --> 00:10:19,280
is I would like I guess it wants you to

00:10:15,380 --> 00:10:21,860
use a different key but what you can do

00:10:19,280 --> 00:10:25,700
once you go key to card and put it on

00:10:21,860 --> 00:10:28,250
the card instead of typing save if you

00:10:25,700 --> 00:10:30,410
type quit and then it will say something

00:10:28,250 --> 00:10:32,900
about do you want to sell you sure you

00:10:30,410 --> 00:10:36,500
don't want to save your changes hit yes

00:10:32,900 --> 00:10:41,480
and it will leave the key on the card

00:10:36,500 --> 00:10:44,720
and it will leave the key in your gpg

00:10:41,480 --> 00:10:48,170
key ring so then you can go back to edit

00:10:44,720 --> 00:10:50,120
key and then put it in encryption then

00:10:48,170 --> 00:10:52,940
quit then edit key and put it in

00:10:50,120 --> 00:10:56,780
authentication and you can put the key

00:10:52,940 --> 00:11:02,450
in all three slots which what i've done

00:10:56,780 --> 00:11:06,020
is i put my my main key is set as

00:11:02,450 --> 00:11:10,970
signature as all three capabilities so i

00:11:06,020 --> 00:11:13,550
have it on one of these with in all

00:11:10,970 --> 00:11:17,150
three slots and then i have a subkey a

00:11:13,550 --> 00:11:19,720
separate sub key for each one on another

00:11:17,150 --> 00:11:19,720
one of these

00:11:21,469 --> 00:11:27,289
yes you can and also I can show you

00:11:32,100 --> 00:11:35,870
that should be

00:11:47,270 --> 00:11:51,609
denied

00:11:48,819 --> 00:11:56,410
sorry item it then that I don't usually

00:11:51,609 --> 00:11:59,049
do if you do yes here it does not

00:11:56,410 --> 00:12:02,499
actually generate it on the on the card

00:11:59,049 --> 00:12:06,069
if you hit yes it's basically the same

00:12:02,499 --> 00:12:08,439
as generating the key exporting the

00:12:06,069 --> 00:12:11,529
private key and then moving it to the

00:12:08,439 --> 00:12:17,499
car if you hit know it will generate it

00:12:11,529 --> 00:12:20,699
on the card yes I want to replace

00:12:17,499 --> 00:12:20,699
everything on there

00:12:28,860 --> 00:12:33,560
and these will support up to 4096

00:13:06,700 --> 00:13:12,220
and of course you can change the pin to

00:13:09,310 --> 00:13:14,470
be whatever you want I've just left it

00:13:12,220 --> 00:13:19,020
as the default on here since it's not

00:13:14,470 --> 00:13:19,020
actually being used for anything

00:13:25,320 --> 00:13:31,890
and there are two different types of

00:13:27,660 --> 00:13:35,910
these of the gemalto tokens and this is

00:13:31,890 --> 00:13:40,470
a brief call ID bridge k-50 it's the

00:13:35,910 --> 00:13:42,570
newer one there tamper-resistant so the

00:13:40,470 --> 00:13:46,410
older ones which are the same of which

00:13:42,570 --> 00:13:52,040
are the ones that the place that you get

00:13:46,410 --> 00:13:57,180
the smart cards from cells are called

00:13:52,040 --> 00:14:01,160
USB shell token version 2 and also the

00:13:57,180 --> 00:14:04,440
new name is ID bridge k 30 i believe and

00:14:01,160 --> 00:14:08,220
they have just a little door that you

00:14:04,440 --> 00:14:10,880
can just unhook to get the card out so

00:14:08,220 --> 00:14:13,620
you can switch what card is in there

00:14:10,880 --> 00:14:16,620
these once you put them together there's

00:14:13,620 --> 00:14:18,390
a couple little tabs that go down in

00:14:16,620 --> 00:14:21,320
there so you can't get it apart without

00:14:18,390 --> 00:14:21,320
actually breaking

00:15:00,440 --> 00:15:11,260
does anyone else have any questions or

00:15:03,080 --> 00:15:11,260
anything so far yeah why sorry

00:15:13,120 --> 00:15:20,510
it I think it mainly goes down to

00:15:16,310 --> 00:15:23,030
preferences and and also it depends on

00:15:20,510 --> 00:15:26,360
what you set is the capabilities when

00:15:23,030 --> 00:15:30,590
you generated your key GP geez default

00:15:26,360 --> 00:15:35,960
is just for RSA keys is signature and

00:15:30,590 --> 00:15:39,830
authentication set to enabled but you

00:15:35,960 --> 00:15:43,820
can also set encryption also or any

00:15:39,830 --> 00:15:48,470
combination of that with you do to dash

00:15:43,820 --> 00:15:51,760
dash Jin ki dash dash expert it will let

00:15:48,470 --> 00:15:54,260
you choose whatever options you want

00:15:51,760 --> 00:15:56,960
I've heard different different people

00:15:54,260 --> 00:15:59,000
have different opinions about if you

00:15:56,960 --> 00:16:00,980
need to use different sub keys for

00:15:59,000 --> 00:16:05,570
everything or not or if it really

00:16:00,980 --> 00:16:10,450
matters when I generated my keys I made

00:16:05,570 --> 00:16:14,600
them set to be enabled for everything I

00:16:10,450 --> 00:16:17,930
generally don't use my main key i used

00:16:14,600 --> 00:16:20,270
the sub keys because gpg will let you

00:16:17,930 --> 00:16:25,730
use subkeys for everything except

00:16:20,270 --> 00:16:29,630
signing other keys so that's all I use

00:16:25,730 --> 00:16:33,500
like whenever I use ssh to connect to

00:16:29,630 --> 00:16:36,050
anywhere I just have to have this and

00:16:33,500 --> 00:16:38,990
have to know my pin number or well

00:16:36,050 --> 00:16:41,750
actually it's not just numbers gpg will

00:16:38,990 --> 00:16:45,710
let you use letters numbers and special

00:16:41,750 --> 00:16:47,750
characters even as a as the pin on here

00:16:45,710 --> 00:16:53,080
they just call it in even though

00:16:47,750 --> 00:16:56,150
is not just numbers and as you can see

00:16:53,080 --> 00:16:58,490
generating the keys on here is not does

00:16:56,150 --> 00:17:02,660
not appear to be as quick as on the

00:16:58,490 --> 00:17:05,360
computer well yeah sure I should have

00:17:02,660 --> 00:17:12,260
just added something smaller since I'm

00:17:05,360 --> 00:17:15,880
not actually using them and a little

00:17:12,260 --> 00:17:22,220
about the yuba keys the newer you bikies

00:17:15,880 --> 00:17:26,810
i boot I don't believe all Neos have it

00:17:22,220 --> 00:17:31,070
but has anyone used the u 2f stuff that

00:17:26,810 --> 00:17:35,510
Google is supporting now you pretty much

00:17:31,070 --> 00:17:37,970
have to use Chrome yeah but and I've got

00:17:35,510 --> 00:17:41,030
that enabled with on my google apps

00:17:37,970 --> 00:17:44,090
account and my gmail account and at

00:17:41,030 --> 00:17:45,920
least the newer i'm not sure exactly i

00:17:44,090 --> 00:17:48,610
don't think the older you bikies

00:17:45,920 --> 00:17:48,610
supportive

00:17:53,140 --> 00:18:01,210
yeah they support that and so this

00:17:58,720 --> 00:18:04,600
really i use it for three different

00:18:01,210 --> 00:18:08,070
things pretty much regular yuba key for

00:18:04,600 --> 00:18:11,440
fedora and yuba key for other sites

00:18:08,070 --> 00:18:14,680
because you if they have to regular you

00:18:11,440 --> 00:18:19,240
baqi slots so i have one set for fedora

00:18:14,680 --> 00:18:22,840
and one set for the Yubikey validation

00:18:19,240 --> 00:18:26,530
server so most other sites that use you

00:18:22,840 --> 00:18:29,770
baqi use the yuba code server not their

00:18:26,530 --> 00:18:33,070
own like fedora we have our own you

00:18:29,770 --> 00:18:36,220
bikini validation server that we run

00:18:33,070 --> 00:18:38,590
ourselves that's why you have to use

00:18:36,220 --> 00:18:41,770
fedora burn you the key whenever you

00:18:38,590 --> 00:18:47,370
want to set up porn for fedora and then

00:18:41,770 --> 00:18:47,370
the you to F system and the PGP

00:18:53,130 --> 00:19:02,169
yeah they also have the blue one just

00:18:58,539 --> 00:19:05,860
does the you to F features which is the

00:19:02,169 --> 00:19:08,350
new google back service which it's

00:19:05,860 --> 00:19:11,220
supposed to be compatible with other

00:19:08,350 --> 00:19:15,370
sites but have you found anywhere else

00:19:11,220 --> 00:19:17,830
really i have i haven't found anywhere

00:19:15,370 --> 00:19:20,860
else yet that supports it but it's

00:19:17,830 --> 00:19:24,220
supposed to be hopefully becoming a

00:19:20,860 --> 00:19:27,159
standard and of course they have the

00:19:24,220 --> 00:19:31,720
regular you bikies which i'm sure most

00:19:27,159 --> 00:19:37,240
of you are probably used and they have

00:19:31,720 --> 00:19:40,090
one and that is compatible with is their

00:19:37,240 --> 00:19:44,590
name sending intact still used to be

00:19:40,090 --> 00:19:47,980
various signs to factor system now i

00:19:44,590 --> 00:19:50,590
think it's called semantic and they have

00:19:47,980 --> 00:19:53,200
one that's compatible with that that you

00:19:50,590 --> 00:19:56,710
can use that a lot of at several bigger

00:19:53,200 --> 00:20:01,600
sites like ebay and paypal and things

00:19:56,710 --> 00:20:06,429
like that okay so now it's done and I

00:20:01,600 --> 00:20:09,520
have three keys that one sub P for each

00:20:06,429 --> 00:20:15,309
feature and all of the keys expire

00:20:09,520 --> 00:20:18,570
tomorrow so that way I suppose that is

00:20:15,309 --> 00:20:22,450
the most secure way of doing it because

00:20:18,570 --> 00:20:26,429
there has never been a copy of those

00:20:22,450 --> 00:20:32,049
keys on any computer because they are

00:20:26,429 --> 00:20:35,980
generated directly on the car I am some

00:20:32,049 --> 00:20:38,919
people I know there's a pepper

00:20:35,980 --> 00:20:41,950
to last year was saying they think

00:20:38,919 --> 00:20:46,270
that's the only way to go is to generate

00:20:41,950 --> 00:20:48,370
the key is on the car I I think that

00:20:46,270 --> 00:20:50,620
personally I think that would be okay

00:20:48,370 --> 00:20:56,410
for subkeys but I wouldn't want to have

00:20:50,620 --> 00:20:59,590
the only copy of my main key on one of

00:20:56,410 --> 00:21:02,500
those because if it stopped working or

00:20:59,590 --> 00:21:05,230
something then basically you would lose

00:21:02,500 --> 00:21:07,570
your key and have to get all of your

00:21:05,230 --> 00:21:10,360
signatures and everything over again

00:21:07,570 --> 00:21:14,200
because you wouldn't be able to put it

00:21:10,360 --> 00:21:16,330
on another one because you can't get you

00:21:14,200 --> 00:21:18,910
cannot get the key off of there once

00:21:16,330 --> 00:21:20,950
it's on there that's why you would make

00:21:18,910 --> 00:21:24,309
it if you wanted a copy you would need

00:21:20,950 --> 00:21:29,679
to export the private key before you put

00:21:24,309 --> 00:21:31,929
it on the car and they also have a witch

00:21:29,679 --> 00:21:35,110
these are the exact same things that are

00:21:31,929 --> 00:21:39,910
in those readers they also make

00:21:35,110 --> 00:21:42,850
full-sized smart card versions and then

00:21:39,910 --> 00:21:46,000
I got this little smart card reader that

00:21:42,850 --> 00:21:53,520
folds up to be like the size of a flash

00:21:46,000 --> 00:21:53,520
drive I believe I got this on eBay and

00:21:54,630 --> 00:22:01,780
you just unfold it and it makes a little

00:21:58,210 --> 00:22:04,090
slot for the card to go in and then you

00:22:01,780 --> 00:22:07,960
can plug it in your USB slot and it

00:22:04,090 --> 00:22:10,380
works the exact same way I found a

00:22:07,960 --> 00:22:16,270
couple readers that are not quite

00:22:10,380 --> 00:22:19,240
supported well with fedora which in some

00:22:16,270 --> 00:22:23,290
time whenever I get around to doing so

00:22:19,240 --> 00:22:26,080
I'm intending to try to start through

00:22:23,290 --> 00:22:29,919
fedora docks a two-factor authentication

00:22:26,080 --> 00:22:32,559
guy because I think it would be nice to

00:22:29,919 --> 00:22:35,559
have some of this documented more

00:22:32,559 --> 00:22:37,870
because the only documentation

00:22:35,559 --> 00:22:40,809
or at least the best documentation I

00:22:37,870 --> 00:22:45,070
could find whenever I first started

00:22:40,809 --> 00:22:49,200
doing this was on her lows dip he's made

00:22:45,070 --> 00:22:52,690
a nice tutorial and also has the

00:22:49,200 --> 00:22:57,700
configuration files you need on github

00:22:52,690 --> 00:23:00,120
and but I'm going to try to be making a

00:22:57,700 --> 00:23:03,129
two-factor authentication guide and

00:23:00,120 --> 00:23:07,629
documenting what hardware I found works

00:23:03,129 --> 00:23:12,369
they also make some USB keyboards that

00:23:07,629 --> 00:23:14,440
have smart card slots in I haven't tried

00:23:12,369 --> 00:23:18,119
them in a while but I know the one by I

00:23:14,440 --> 00:23:22,690
think it's called cherry does not work

00:23:18,119 --> 00:23:25,149
at least with fedora or with gpg but I

00:23:22,690 --> 00:23:30,159
think the other one was made by dell and

00:23:25,149 --> 00:23:32,830
it worked okay and I like this only

00:23:30,159 --> 00:23:36,509
times I've ever used the full-size smart

00:23:32,830 --> 00:23:40,869
cards I prefer this little card reader

00:23:36,509 --> 00:23:43,779
which is made by SCM microsystems it

00:23:40,869 --> 00:23:49,149
seems to work just fine and you can just

00:23:43,779 --> 00:23:51,570
throw it in your pocket or whatever does

00:23:49,149 --> 00:23:55,710
anyone else have any questions or

00:23:51,570 --> 00:23:55,710
anything to say or anything

00:24:02,529 --> 00:24:05,529
ok

00:24:10,999 --> 00:24:18,330
okay well yeah I didn't really I kind of

00:24:14,940 --> 00:24:20,789
forgot about that okay so SSH you really

00:24:18,330 --> 00:24:22,200
don't have to do anything as well okay

00:24:20,789 --> 00:24:25,559
on your computer are you talking about

00:24:22,200 --> 00:24:28,169
the server or the climb I mean like what

00:24:25,559 --> 00:24:29,789
you have to do on your computer or are

00:24:28,169 --> 00:24:34,580
you tone up is there anything special

00:24:29,789 --> 00:24:34,580
you have to do like to connect with ssh

00:24:37,879 --> 00:24:52,529
no really m okay so estes h dash add

00:24:47,309 --> 00:24:55,049
cash capital l all you have to do once

00:24:52,529 --> 00:24:58,289
you set up on your computer which if you

00:24:55,049 --> 00:25:00,509
go to her lowe's github repo it pretty

00:24:58,289 --> 00:25:02,989
much will walk you through exactly what

00:25:00,509 --> 00:25:05,429
to do to set up your computer which i

00:25:02,989 --> 00:25:15,029
apologize i was going to show that but

00:25:05,429 --> 00:25:19,769
apparently the internet is strange so

00:25:15,029 --> 00:25:21,840
all ssh and dash capital l does that

00:25:19,769 --> 00:25:24,359
tells you all you need to do on the

00:25:21,840 --> 00:25:29,460
server side copy that into your

00:25:24,359 --> 00:25:33,179
authorized T's to basically your server

00:25:29,460 --> 00:25:37,019
doesn't care that you're using that your

00:25:33,179 --> 00:25:41,399
computer handles using your ssh with

00:25:37,019 --> 00:25:46,109
your GP g Tucker so your computer does

00:25:41,399 --> 00:25:49,919
the second factor itself because once

00:25:46,109 --> 00:25:52,830
you try to ssh to a server it will pop

00:25:49,919 --> 00:25:56,070
up a box I mean you have to have this

00:25:52,830 --> 00:25:59,429
plugged in of course you type in your

00:25:56,070 --> 00:26:03,899
SSH command it will pop up in sec and

00:25:59,429 --> 00:26:07,099
tell you to enter your PIN and it valid

00:26:03,899 --> 00:26:11,429
then the token validates your PIN and

00:26:07,099 --> 00:26:12,630
will sign the request that SSH wants it

00:26:11,429 --> 00:26:21,090
to sign too

00:26:12,630 --> 00:26:24,090
connect to the server yes yeah it's a

00:26:21,090 --> 00:26:28,110
second factor for your product key on

00:26:24,090 --> 00:26:31,140
your laptop because your key all that's

00:26:28,110 --> 00:26:33,960
stored in your GP GT ring once you put

00:26:31,140 --> 00:26:37,050
the key on the card is basically a stub

00:26:33,960 --> 00:26:40,530
that just says this key isn't here it's

00:26:37,050 --> 00:26:44,490
on a card and it will actually if I had

00:26:40,530 --> 00:26:47,550
this key inserted and tried to ssh to a

00:26:44,490 --> 00:26:52,560
different server I mean to a server that

00:26:47,550 --> 00:26:54,990
uses my ssh keep my computer if I have

00:26:52,560 --> 00:26:59,730
used that key before will tell me insert

00:26:54,990 --> 00:27:02,130
card number or such and such which you

00:26:59,730 --> 00:27:04,260
did there's not really any way to tell

00:27:02,130 --> 00:27:06,750
from looking at it what the card serial

00:27:04,260 --> 00:27:08,970
number is because the case is too dark

00:27:06,750 --> 00:27:11,940
but the color the serial number is on

00:27:08,970 --> 00:27:15,300
the actual smart card itself it's just

00:27:11,940 --> 00:27:18,900
not readable once it's in there because

00:27:15,300 --> 00:27:27,810
it's on the same side that the contact

00:27:18,900 --> 00:27:35,520
design so and then as for gpg your GP g

00:27:27,810 --> 00:27:39,680
itself it will automatically no 1 i've

00:27:35,520 --> 00:27:44,490
had issues where it will act strange and

00:27:39,680 --> 00:27:49,620
my usual solution is kill gpg agent and

00:27:44,490 --> 00:27:52,590
restarted but it works well on the door

00:27:49,620 --> 00:27:57,690
whenever I'm booted into OS 10 which is

00:27:52,590 --> 00:28:00,030
rarely but sometimes it will it doesn't

00:27:57,690 --> 00:28:05,120
work as well as fedora using the gpg

00:28:00,030 --> 00:28:08,240
token it works but that Fedor works

00:28:05,120 --> 00:28:08,240
pretty good

00:28:10,380 --> 00:28:19,419
yes and the instructions on github will

00:28:16,030 --> 00:28:23,549
tell you how to set up ssh to use g PG

00:28:19,419 --> 00:28:25,840
agent there's a script that you put

00:28:23,549 --> 00:28:29,110
there's a script that you put in your

00:28:25,840 --> 00:28:30,549
home directory and then you set up if i

00:28:29,110 --> 00:28:33,309
remember right you set up your match

00:28:30,549 --> 00:28:38,020
profile to run this script that sets up

00:28:33,309 --> 00:28:42,789
g PG agent and so then it'll do that

00:28:38,020 --> 00:28:49,030
every time you log in and it seems to

00:28:42,789 --> 00:28:52,150
work well i went to i think but come in

00:28:49,030 --> 00:28:54,880
lawrence maybe and i think it was her

00:28:52,150 --> 00:29:00,400
load it or talked about and that's when

00:28:54,880 --> 00:29:02,650
I kind of got into using it ed I think

00:29:00,400 --> 00:29:06,610
it would be a good thing to get even to

00:29:02,650 --> 00:29:12,159
get infrastructure to start supporting

00:29:06,610 --> 00:29:14,380
or start recommending I don't know how

00:29:12,159 --> 00:29:16,690
easy it would be to require it because

00:29:14,380 --> 00:29:18,760
then everybody that has an account on

00:29:16,690 --> 00:29:21,909
anything on fedora infrastructure would

00:29:18,760 --> 00:29:27,539
need to get one of these summit or you

00:29:21,909 --> 00:29:27,539
became one of the similar things

00:29:39,500 --> 00:29:46,470
honor system probably all right I don't

00:29:42,960 --> 00:29:48,720
really know a way I mean you could read

00:29:46,470 --> 00:29:51,920
a script that looks through authorized

00:29:48,720 --> 00:29:55,440
keys for something that says card know

00:29:51,920 --> 00:29:58,590
whatever but that's just the common you

00:29:55,440 --> 00:30:00,900
can edit the comment in your ssh key to

00:29:58,590 --> 00:30:02,640
be whenever we want so someone was

00:30:00,900 --> 00:30:05,760
determined enough that they weren't run

00:30:02,640 --> 00:30:09,510
doing they can just make their comment

00:30:05,760 --> 00:30:15,210
look like a card number but that's just

00:30:09,510 --> 00:30:19,560
what ad gpg agent uses by default this

00:30:15,210 --> 00:30:23,160
card no colon whatever the serial number

00:30:19,560 --> 00:30:26,340
of the smart card is which depends on

00:30:23,160 --> 00:30:28,730
the manufacturer like all of these start

00:30:26,340 --> 00:30:35,570
with a five which is supposed to be the

00:30:28,730 --> 00:30:35,570
manufacturer's ID number or something

00:30:36,920 --> 00:30:45,830
and the cubic key ones start with a

00:30:39,470 --> 00:30:49,580
sense and as you can tell that's shorter

00:30:45,830 --> 00:30:53,180
because that's a 2048-bit key because

00:30:49,580 --> 00:30:56,420
the apparently what you have said was

00:30:53,180 --> 00:31:01,790
it's a limitation in Java card that they

00:30:56,420 --> 00:31:04,190
can't make it handle 4096 bin keys even

00:31:01,790 --> 00:31:08,150
if they changed the applet that they use

00:31:04,190 --> 00:31:11,690
to support it something in Java card

00:31:08,150 --> 00:31:14,500
there's not enough room or something for

00:31:11,690 --> 00:31:14,500
it to handle them

00:31:31,640 --> 00:31:38,060
yeah I'm not sure about the implement

00:31:34,980 --> 00:31:41,610
about the yuba keys whatever what I'm

00:31:38,060 --> 00:31:43,860
carving what actual card they use other

00:31:41,610 --> 00:31:48,810
than it's something in Java car but I

00:31:43,860 --> 00:31:53,190
know these will support a 4096 the gpg

00:31:48,810 --> 00:31:59,300
smart card ones that's what I use on

00:31:53,190 --> 00:31:59,300
there anything else

00:32:06,330 --> 00:32:11,769
definitely that's what I that's what I

00:32:09,340 --> 00:32:14,590
personally would recommend that way you

00:32:11,769 --> 00:32:16,859
can still have a backup of your key in

00:32:14,590 --> 00:32:19,809
case your token would mean it would

00:32:16,859 --> 00:32:23,219
malfunction you still have your key if

00:32:19,809 --> 00:32:26,609
you generate the key on here and

00:32:23,219 --> 00:32:29,200
something happens to it well do better

00:32:26,609 --> 00:32:31,809
your keys doc you can't use your key

00:32:29,200 --> 00:32:33,759
with you don't have a backup and that's

00:32:31,809 --> 00:32:37,210
what i was showing at the beginning when

00:32:33,759 --> 00:32:40,570
you go into your key type and going to

00:32:37,210 --> 00:32:44,649
i'm going to go to edit edit key then

00:32:40,570 --> 00:32:47,229
type in toggle and then key to car that

00:32:44,649 --> 00:32:53,169
will cop that will move your key to the

00:32:47,229 --> 00:32:56,830
smart car i would recommend doing export

00:32:53,169 --> 00:32:59,859
private key first and put your private

00:32:56,830 --> 00:33:03,969
key in a file and encrypt it and put it

00:32:59,859 --> 00:33:08,169
somewhere secure and that way you have a

00:33:03,969 --> 00:33:12,849
backup of it but yes you can definitely

00:33:08,169 --> 00:33:15,639
use an existing key my first key I used

00:33:12,849 --> 00:33:17,820
to use just on my computer I have two

00:33:15,639 --> 00:33:24,009
keys currently 1 i've had for a while

00:33:17,820 --> 00:33:27,969
one i generated the 4th block last year

00:33:24,009 --> 00:33:33,249
maybe or no no no it was since then

00:33:27,969 --> 00:33:38,349
because a lot of keys you sha-1 for

00:33:33,249 --> 00:33:40,779
itself cigs and things like that and you

00:33:38,349 --> 00:33:44,469
kind of you can't I've read some

00:33:40,779 --> 00:33:48,369
articles about how that's not good

00:33:44,469 --> 00:33:52,269
because charm one is not that secure

00:33:48,369 --> 00:33:57,070
anymore so you can so what I did was

00:33:52,269 --> 00:34:01,450
added the options to my GP g config to

00:33:57,070 --> 00:34:06,220
make it your shell 512 and generated a

00:34:01,450 --> 00:34:09,369
hickey but i still have both of them for

00:34:06,220 --> 00:34:12,849
because my new key has not been signed

00:34:09,369 --> 00:34:14,679
by very many people yet because I

00:34:12,849 --> 00:34:17,830
haven't been to any conferences other

00:34:14,679 --> 00:34:21,780
themself this year since i made the new

00:34:17,830 --> 00:34:21,780
key yeah

00:34:30,000 --> 00:34:35,909
yeah you can change those but you can't

00:34:32,700 --> 00:34:45,899
change the signatures on your sub keys

00:34:35,909 --> 00:34:48,300
and um okay i will i will try that there

00:34:45,899 --> 00:34:51,149
was some reason that somewhere

00:34:48,300 --> 00:34:57,060
recommended just making a new key i

00:34:51,149 --> 00:34:58,950
don't often look at fi yeah i'm not sure

00:34:57,060 --> 00:35:01,230
i had that i haven't looked at that

00:34:58,950 --> 00:35:03,930
lately but yeah i'll check into that

00:35:01,230 --> 00:35:06,810
again because my old key has been signed

00:35:03,930 --> 00:35:14,630
by a bunch of people so I kind of rather

00:35:06,810 --> 00:35:14,630
not start over and anything else

00:35:20,610 --> 00:35:29,920
does that mean we're having turkey Simon

00:35:23,710 --> 00:35:32,500
okay and well till is doing a gpg best

00:35:29,920 --> 00:35:36,760
practices and then we're having the key

00:35:32,500 --> 00:35:44,530
signing and having a CA sert assurances

00:35:36,760 --> 00:35:47,190
available yes the same to our workshops

00:35:44,530 --> 00:35:47,190
lot yeah

00:35:50,260 --> 00:36:04,390
yeah we're going to we're going to kind

00:35:58,930 --> 00:36:06,970
of gear the best practices towards what

00:36:04,390 --> 00:36:10,600
how much people know how much they want

00:36:06,970 --> 00:36:12,850
to know and then have the key signing

00:36:10,600 --> 00:36:16,900
that way hopefully people can get there

00:36:12,850 --> 00:36:19,720
before we start the key signing and I

00:36:16,900 --> 00:36:23,080
have I have the lists printed out from

00:36:19,720 --> 00:36:27,160
everybody that signed up on the google

00:36:23,080 --> 00:36:28,690
forms and for it if you did not sign up

00:36:27,160 --> 00:36:34,390
for the key signing and you're

00:36:28,690 --> 00:36:37,840
interested you can still come preferably

00:36:34,390 --> 00:36:41,230
bring your keys fingerprint and your

00:36:37,840 --> 00:36:43,900
name printed a bunch of times or what

00:36:41,230 --> 00:36:48,070
we've done in the past is just write it

00:36:43,900 --> 00:36:51,180
up on the whiteboard which it looks like

00:36:48,070 --> 00:36:55,510
we might not have white boards here and

00:36:51,180 --> 00:36:58,210
then people can just write a day so

00:36:55,510 --> 00:37:00,790
anybody to still welcome even if you did

00:36:58,210 --> 00:37:03,190
not sign up we just try to get people to

00:37:00,790 --> 00:37:05,110
sign up ahead of time so we can print

00:37:03,190 --> 00:37:08,200
out a list of everybody's name and

00:37:05,110 --> 00:37:11,080
fingerprint then depending on how people

00:37:08,200 --> 00:37:13,510
want to do it I have done it before

00:37:11,080 --> 00:37:15,940
where everybody just says their

00:37:13,510 --> 00:37:17,920
fingerprint looks right on the paper and

00:37:15,940 --> 00:37:20,320
I've done it before where everybody

00:37:17,920 --> 00:37:22,810
reads their fingerprint to make sure

00:37:20,320 --> 00:37:26,500
that everybody has the same copy and I

00:37:22,810 --> 00:37:30,690
didn't like put papers with different

00:37:26,500 --> 00:37:30,690
fingerprints to different people

00:37:37,779 --> 00:37:51,639
yeah i have i have about 30 or 40 copies

00:37:45,109 --> 00:37:59,079
of the key list turn it out in my bag so

00:37:51,639 --> 00:38:04,759
anything else any money the drivers are

00:37:59,079 --> 00:38:09,339
in fedora there's a few packages to

00:38:04,759 --> 00:38:09,339
install a believe the drivers are in

00:38:09,429 --> 00:38:16,369
there's a pc pcsc light i think i think

00:38:13,999 --> 00:38:21,589
is the name or something like that of

00:38:16,369 --> 00:38:25,659
the package but on the github repo it

00:38:21,589 --> 00:38:28,699
tells you exactly what to install what

00:38:25,659 --> 00:38:32,269
configuration files you need to edit to

00:38:28,699 --> 00:38:34,689
get the g PG agent stuff set up and all

00:38:32,269 --> 00:38:34,689
the lab

00:38:38,990 --> 00:38:45,780
anything else they said we were about it

00:38:41,490 --> 00:38:49,740
other time a couple minutes ago oh my we

00:38:45,780 --> 00:38:51,450
stopped a couple minutes and if no one

00:38:49,740 --> 00:38:53,810
else has anything thank you all for

00:38:51,450 --> 00:38:53,810
coming

00:39:31,269 --> 00:39:40,299
oh I I really don't use it in practice

00:39:37,809 --> 00:39:42,249
much I just kind of wanted to get

00:39:40,299 --> 00:39:46,509
examples of different hardware to

00:39:42,249 --> 00:39:51,189
document what working what does it work

00:39:46,509 --> 00:39:54,819
and these well the smart card that goes

00:39:51,189 --> 00:39:57,219
in these is exactly the same as this

00:39:54,819 --> 00:40:01,749
except you can order them with a and

00:39:57,219 --> 00:40:09,369
it's actually sim card size where you

00:40:01,749 --> 00:40:11,140
just punch it out of there oh this is

00:40:09,369 --> 00:40:15,149
where this is the death all things you'd

00:40:11,140 --> 00:40:18,549
be farthest that's the gemalto card that

00:40:15,149 --> 00:40:21,339
is the most popular because that's the

00:40:18,549 --> 00:40:24,459
same one that the place that sells the

00:40:21,339 --> 00:40:29,289
smart card cells I ordered these from a

00:40:24,459 --> 00:40:31,119
place in Texas and this is I like

00:40:29,289 --> 00:40:32,859
because you don't have to worry about I

00:40:31,119 --> 00:40:36,069
always kind of thought well what if that

00:40:32,859 --> 00:40:39,659
cover falls on the year of her head okay

00:40:36,069 --> 00:40:44,169
it seems like it's pretty secure

00:40:39,659 --> 00:40:46,659
carrying around two years oh it seems

00:40:44,169 --> 00:40:47,979
like it's pretty secure but this you're

00:40:46,659 --> 00:40:50,439
not going to get this off without

00:40:47,979 --> 00:40:54,159
breaking than reading I don't think it

00:40:50,439 --> 00:40:57,189
would hurt the card itself if you broke

00:40:54,159 --> 00:41:02,859
it open but you would have enjoyed place

00:40:57,189 --> 00:41:08,189
the reader if you did that yeah and what

00:41:02,859 --> 00:41:14,099
did you make it work on mystery google I

00:41:08,189 --> 00:41:19,029
I mean I I really don't remember I found

00:41:14,099 --> 00:41:25,230
somewhere the documented how to do that

00:41:19,029 --> 00:41:28,890
and it worked decently

00:41:25,230 --> 00:41:34,470
they usually every time I start a new

00:41:28,890 --> 00:41:48,930
terminal I would have to kill all g PG

00:41:34,470 --> 00:41:53,010
agent and then start gpg lo que work

00:41:48,930 --> 00:41:58,530
around you take two of those easier ugh

00:41:53,010 --> 00:42:02,609
over to the next across force and then

00:41:58,530 --> 00:42:06,660
it works then start a new terminal can

00:42:02,609 --> 00:42:11,340
only be too much of living so I don't

00:42:06,660 --> 00:42:15,390
know what actually is causing it to be

00:42:11,340 --> 00:42:17,570
oh was i supposed to stop this I guess I

00:42:15,390 --> 00:42:17,570

YouTube URL: https://www.youtube.com/watch?v=26Nx0BJuOJU


