Title: Sub-system Update: State of SELinux - Paul Moore, Red Hat
Publication date: 2018-08-31
Playlist: Linux Security Summit North America 2018 - Vancouver
Description: 
	Sub-system Update: State of SELinux - Paul Moore, Red Hat

This is the annual "State of SELinux" presentation where the past year of SELinux related development is presented as well as current and expected future work.

About Paul Moore
Paul Moore has been involved in various Linux security efforts since 2004, first at Hewlett-Packard and now at Red Hat. He currently maintains the SELinux, audit, and labeled networking subsystems in the Linux Kernel as well as the libseccomp userspace library.
Captions: 
	00:00:00,030 --> 00:00:03,780
all right excellent so we've got a net

00:00:02,100 --> 00:00:09,690
so I'm also gonna try and go pretty

00:00:03,780 --> 00:00:11,429
quickly name's Paul Moore do selinux we

00:00:09,690 --> 00:00:13,139
do this about once a year so it seems

00:00:11,429 --> 00:00:14,700
appropriate that we talk about birthdays

00:00:13,139 --> 00:00:17,850
from the past year and the ones we've

00:00:14,700 --> 00:00:20,100
got coming up SELinux is turning 18

00:00:17,850 --> 00:00:25,439
years old this December so that's pretty

00:00:20,100 --> 00:00:27,720
cool yeah what almost not till December

00:00:25,439 --> 00:00:39,239
and and it's what it's 19 in Canada

00:00:27,720 --> 00:00:41,129
right I knew I liked Quebec well anyway

00:00:39,239 --> 00:00:42,660
the good news is you know I think most

00:00:41,129 --> 00:00:44,570
of you know as he likes it's been around

00:00:42,660 --> 00:00:46,770
for quite a while which is a good thing

00:00:44,570 --> 00:00:49,530
hopefully we've shaked out the really

00:00:46,770 --> 00:00:52,219
bad bugs at this point it's been part of

00:00:49,530 --> 00:00:55,980
mainline Linux for you know 15 years now

00:00:52,219 --> 00:00:57,449
actually over 15 years now it's been

00:00:55,980 --> 00:01:02,129
shipping as part of the Enterprise Linux

00:00:57,449 --> 00:01:03,420
distributions for 13 and you know we've

00:01:02,129 --> 00:01:05,129
heard a lot of the Android talks the

00:01:03,420 --> 00:01:09,090
past few years been part of Android for

00:01:05,129 --> 00:01:11,760
five years and shipping on well at least

00:01:09,090 --> 00:01:13,530
back in July you know approximately 96

00:01:11,760 --> 00:01:15,750
percent of all current Android devices

00:01:13,530 --> 00:01:19,200
have SE lakes in some shape or form

00:01:15,750 --> 00:01:20,850
which I think we heard today you know in

00:01:19,200 --> 00:01:22,229
the billions which is pretty impressive

00:01:20,850 --> 00:01:25,320
when you think about it I mean that's

00:01:22,229 --> 00:01:27,240
not including servers laptops computers

00:01:25,320 --> 00:01:29,009
all the various other little network

00:01:27,240 --> 00:01:32,549
devices that may be out there so it's

00:01:29,009 --> 00:01:35,579
pretty significant I think but as far as

00:01:32,549 --> 00:01:38,939
this past year went start with kernel

00:01:35,579 --> 00:01:39,840
changes relatively quiet I think I say

00:01:38,939 --> 00:01:41,520
that every year

00:01:39,840 --> 00:01:44,070
but I actually kind of consider that to

00:01:41,520 --> 00:01:45,960
be a good thing we're rather fully

00:01:44,070 --> 00:01:49,799
featured at this point but we did add

00:01:45,960 --> 00:01:54,350
access controls for e BPF we also added

00:01:49,799 --> 00:01:57,840
proper SCTP access controls we had basic

00:01:54,350 --> 00:02:00,060
SCTP socket controls before but now we

00:01:57,840 --> 00:02:01,439
actually have proper controls you know

00:02:00,060 --> 00:02:04,920
they're specific to all the different

00:02:01,439 --> 00:02:07,619
SCTP operations and one that we also

00:02:04,920 --> 00:02:09,000
added sop r seck support for sockets

00:02:07,619 --> 00:02:10,410
that you created with the socket pair

00:02:09,000 --> 00:02:14,030
system call

00:02:10,410 --> 00:02:17,370
Esso pierce hack is the underlying

00:02:14,030 --> 00:02:20,160
capability well sorry socket option

00:02:17,370 --> 00:02:22,110
that's used by get pure con so that you

00:02:20,160 --> 00:02:25,740
can see the SELinux label on the other

00:02:22,110 --> 00:02:28,140
end of the socket connection as far as

00:02:25,740 --> 00:02:31,800
user space goes we added tool chain

00:02:28,140 --> 00:02:34,080
support for SCTP and InfiniBand objects

00:02:31,800 --> 00:02:35,370
InfiniBand we actually added last year

00:02:34,080 --> 00:02:39,210
we were just kind of a little slow to

00:02:35,370 --> 00:02:41,160
get the upstream user space support but

00:02:39,210 --> 00:02:43,370
that's in there now we've also got some

00:02:41,160 --> 00:02:46,440
smaller incremental changes elsewhere

00:02:43,370 --> 00:02:49,890
some of the bigger ones are changes to

00:02:46,440 --> 00:02:51,240
SE manage and SE module SE magic will

00:02:49,890 --> 00:02:55,530
allow you to see the home directory

00:02:51,240 --> 00:02:57,990
context now with F context and you can

00:02:55,530 --> 00:03:00,290
enable and disable multiple selinux

00:02:57,990 --> 00:03:04,830
policy modules at once using SE manage

00:03:00,290 --> 00:03:09,180
and we've got Python 3 support for dusty

00:03:04,830 --> 00:03:10,740
linux GUI command I was just talking

00:03:09,180 --> 00:03:12,750
about this earlier today I'm somewhat

00:03:10,740 --> 00:03:16,350
hesitant to say that everything's now

00:03:12,750 --> 00:03:20,250
Python 3 supported but if it's not we're

00:03:16,350 --> 00:03:22,920
getting awfully close we slowly march

00:03:20,250 --> 00:03:26,310
away from python 2 and get python 3

00:03:22,920 --> 00:03:27,930
support as far as policy goes I think

00:03:26,310 --> 00:03:31,320
probably the biggest thing is that the

00:03:27,930 --> 00:03:33,810
reference policy moved over to the SE

00:03:31,320 --> 00:03:35,640
linux project and github this is kind of

00:03:33,810 --> 00:03:37,710
nice now because we have one central

00:03:35,640 --> 00:03:42,060
spot for all of our main st linux

00:03:37,710 --> 00:03:44,390
upstream work sort of the kernel

00:03:42,060 --> 00:03:46,980
development still happens on kernel.org

00:03:44,390 --> 00:03:50,310
the repositories hosted there but i do

00:03:46,980 --> 00:03:51,720
maintain a mirror on the github that's

00:03:50,310 --> 00:03:53,840
nice it allows us to use the issue

00:03:51,720 --> 00:03:58,230
tracking wiki and all that stuff so

00:03:53,840 --> 00:04:00,570
that's kind of a handy thing reference

00:03:58,230 --> 00:04:02,970
policy changes the other nice thing is

00:04:00,570 --> 00:04:04,860
if you did NS helix policy development

00:04:02,970 --> 00:04:07,500
in the past you know we used get sub

00:04:04,860 --> 00:04:09,780
modules which were I think seemed like a

00:04:07,500 --> 00:04:11,460
good idea at the time but if you've done

00:04:09,780 --> 00:04:13,290
much with get sub modules you've

00:04:11,460 --> 00:04:17,280
probably learned to hate them I know I

00:04:13,290 --> 00:04:19,169
do so anyway when we moved it over to

00:04:17,280 --> 00:04:20,910
the SE linux project we got rid of the

00:04:19,169 --> 00:04:22,240
sub module and just kind of fold it all

00:04:20,910 --> 00:04:26,520
in so it's one

00:04:22,240 --> 00:04:29,979
one get module now so that's good to

00:04:26,520 --> 00:04:31,570
reference policy releases this year lots

00:04:29,979 --> 00:04:33,460
of changes way more than you can get

00:04:31,570 --> 00:04:35,770
into and you know the few minutes I have

00:04:33,460 --> 00:04:38,259
left but most of it's centered around

00:04:35,770 --> 00:04:42,669
enablement of you know newer versions of

00:04:38,259 --> 00:04:43,990
software and fixes and I started doing

00:04:42,669 --> 00:04:45,460
this last year and I thought it was kind

00:04:43,990 --> 00:04:45,789
of interesting so I did it again this

00:04:45,460 --> 00:04:47,590
year

00:04:45,789 --> 00:04:50,080
you know these are basically all the

00:04:47,590 --> 00:04:53,080
kernel changes since September 1st 2017

00:04:50,080 --> 00:04:53,740
so hopefully the last year a little less

00:04:53,080 --> 00:04:56,949
than that

00:04:53,740 --> 00:04:59,620
in the kernel we had 71 change sets that

00:04:56,949 --> 00:05:02,650
we merged I mean you can see the details

00:04:59,620 --> 00:05:05,650
we added roughly 3,000 lines and took

00:05:02,650 --> 00:05:07,660
out you know 1,700 and you can kind of

00:05:05,650 --> 00:05:09,370
see the use of the top 10 SC Linux

00:05:07,660 --> 00:05:13,389
kernel developers over the past year

00:05:09,370 --> 00:05:15,580
based on lines changed so Steven smelly

00:05:13,389 --> 00:05:18,550
I think you guys may know him

00:05:15,580 --> 00:05:19,840
this cheated a little bit actually I was

00:05:18,550 --> 00:05:23,110
kind of surprised at this but there was

00:05:19,840 --> 00:05:24,669
a state encapsulation patch so a lot of

00:05:23,110 --> 00:05:26,949
this was just kind of some some remote

00:05:24,669 --> 00:05:28,449
changes but anyway if you see your name

00:05:26,949 --> 00:05:32,770
on the list why don't you go and stand

00:05:28,449 --> 00:05:36,400
up don't be shy I'm looking at one guy

00:05:32,770 --> 00:05:41,820
right here come on stand up come on come

00:05:36,400 --> 00:05:43,419
on he's not gonna stand up there we go

00:05:41,820 --> 00:05:45,320
there we go

00:05:43,419 --> 00:05:47,500
so anyway thank you everybody

00:05:45,320 --> 00:05:50,199
[Applause]

00:05:47,500 --> 00:05:53,979
smart changes that actually lived in the

00:05:50,199 --> 00:05:56,190
SC Linux directory yeah so anyway moving

00:05:53,979 --> 00:05:58,570
quickly these are the user space changes

00:05:56,190 --> 00:06:00,070
so the one thing that I thought was

00:05:58,570 --> 00:06:03,220
actually really kind of cool there's

00:06:00,070 --> 00:06:05,139
more lines removed than were added which

00:06:03,220 --> 00:06:06,729
I always like that whenever least in the

00:06:05,139 --> 00:06:08,470
kernel whenever we have a patch set that

00:06:06,729 --> 00:06:10,479
actually gets more code out than puts

00:06:08,470 --> 00:06:12,250
them in that's always great so I thought

00:06:10,479 --> 00:06:14,560
was impressive over the year that user

00:06:12,250 --> 00:06:18,940
space actually shrunk a little bit while

00:06:14,560 --> 00:06:22,180
still adding features so anyway if you

00:06:18,940 --> 00:06:23,949
see your name on the list stand up come

00:06:22,180 --> 00:06:24,820
on come on cease doing it quicker now

00:06:23,949 --> 00:06:26,500
because he knows the guy get some

00:06:24,820 --> 00:06:29,199
applause see and we we got some new

00:06:26,500 --> 00:06:30,359
people here so round of applause all

00:06:29,199 --> 00:06:33,879
right

00:06:30,359 --> 00:06:37,089
and last but not least policy where

00:06:33,879 --> 00:06:38,859
would we be without this so this is

00:06:37,089 --> 00:06:41,349
skewed a little bit because what I told

00:06:38,859 --> 00:06:44,469
you with the sub-module stuff that's why

00:06:41,349 --> 00:06:46,509
you see Chris with you know hell over

00:06:44,469 --> 00:06:49,209
you know hundred thousand lines of code

00:06:46,509 --> 00:06:54,549
change so I don't think Chris is here

00:06:49,209 --> 00:06:56,319
today is he yeah okay I was gonna say

00:06:54,549 --> 00:06:59,589
you can tell them where we're calling

00:06:56,319 --> 00:07:01,359
them out but anyway so once again you

00:06:59,589 --> 00:07:09,669
see you name on the list come on stand

00:07:01,359 --> 00:07:11,559
up yes there we go yeah no hey you got

00:07:09,669 --> 00:07:16,149
more lines of code change than I did so

00:07:11,559 --> 00:07:17,979
that's alright so anyway I'll just wrap

00:07:16,149 --> 00:07:20,469
it up by saying thank you to everyone

00:07:17,979 --> 00:07:22,479
for those of you who want to get

00:07:20,469 --> 00:07:24,939
involved in SELinux here's some good

00:07:22,479 --> 00:07:27,399
places to go I would recommend starting

00:07:24,939 --> 00:07:29,439
off in the github like I said everything

00:07:27,399 --> 00:07:31,089
is consolidated there then we've got the

00:07:29,439 --> 00:07:33,669
issue trackers for the user space with

00:07:31,089 --> 00:07:35,709
reference policy the kernel you can take

00:07:33,669 --> 00:07:37,479
a look there's links to the two mailing

00:07:35,709 --> 00:07:39,489
lists that we have the first one is just

00:07:37,479 --> 00:07:41,739
the general se Linux developers mailing

00:07:39,489 --> 00:07:45,189
list then there's the reference policy

00:07:41,739 --> 00:07:46,719
mailing list below that you know you saw

00:07:45,189 --> 00:07:48,339
a couple people stand up today if you

00:07:46,719 --> 00:07:49,899
have any questions I'm sure you can go

00:07:48,339 --> 00:07:52,299
talk to them and they would be more than

00:07:49,899 --> 00:07:54,399
happy to talk to you about it if all

00:07:52,299 --> 00:07:58,449
else fails if you're watching this on

00:07:54,399 --> 00:07:59,559
YouTube later or if you're too shy you

00:07:58,449 --> 00:08:02,139
don't want to come up and talk to me

00:07:59,559 --> 00:08:04,029
about a person there's my email address

00:08:02,139 --> 00:08:06,419
there's a Twitter handle I'm always more

00:08:04,029 --> 00:08:08,889
than happy to talk to you guys so anyway

00:08:06,419 --> 00:08:12,239
that's it unless anybody has any

00:08:08,889 --> 00:08:12,239
questions you can try to answer

00:08:16,699 --> 00:08:20,969
yes yep

00:08:19,110 --> 00:08:24,119
the workers originally focused around

00:08:20,969 --> 00:08:27,149
our DMA but yeah there's there's peaky

00:08:24,119 --> 00:08:29,520
restrictions there's endpoint

00:08:27,149 --> 00:08:33,419
restrictions those are the two ones that

00:08:29,520 --> 00:08:34,139
come to mind immediately but the guy who

00:08:33,419 --> 00:08:36,240
did it

00:08:34,139 --> 00:08:39,620
Daniel Yergin sigh believe from Mellanox

00:08:36,240 --> 00:08:41,430
wrote a really nice description of

00:08:39,620 --> 00:08:43,649
everything so if you actually look at

00:08:41,430 --> 00:08:45,089
the get logs that's in there anyway

00:08:43,649 --> 00:08:50,279
I can always talk to more about later if

00:08:45,089 --> 00:08:52,430
you'd like that's it alright well thanks

00:08:50,279 --> 00:08:52,430

YouTube URL: https://www.youtube.com/watch?v=sBE46eBdSXo


