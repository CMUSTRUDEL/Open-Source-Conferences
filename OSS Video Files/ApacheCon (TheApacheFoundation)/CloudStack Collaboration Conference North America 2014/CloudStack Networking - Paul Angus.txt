Title: CloudStack Networking - Paul Angus
Publication date: 2014-04-25
Playlist: CloudStack Collaboration Conference North America 2014
Description: 
	CloudStack Collaboration Conference North America 2014
Captions: 
	00:00:00,089 --> 00:00:07,170
okay good afternoon everyone

00:00:03,240 --> 00:00:08,670
Paul Angus from shape blue I think some

00:00:07,170 --> 00:00:10,170
of you're probably pretty you could do

00:00:08,670 --> 00:00:11,610
these bits of the presentation yourself

00:00:10,170 --> 00:00:18,720
just you've seen what I've been saying

00:00:11,610 --> 00:00:21,029
so much so I'm doing to be talking about

00:00:18,720 --> 00:00:22,470
cloud stack networking I say most you've

00:00:21,029 --> 00:00:24,240
probably seen these slides already a few

00:00:22,470 --> 00:00:27,240
times but I'm a cloud architect with

00:00:24,240 --> 00:00:29,550
shape blue been working since weird

00:00:27,240 --> 00:00:31,679
Klauss that since Citrix bought it

00:00:29,550 --> 00:00:34,350
initially before we got open source to

00:00:31,679 --> 00:00:36,809
Apache I specialize in actually

00:00:34,350 --> 00:00:41,390
deploying cloud stack into environments

00:00:36,809 --> 00:00:43,620
doing the design with the companies and

00:00:41,390 --> 00:00:45,510
getting it in there getting it working

00:00:43,620 --> 00:00:46,800
with their environment and then with

00:00:45,510 --> 00:00:48,840
their tooling that they want to use

00:00:46,800 --> 00:00:52,590
after that helping them to get the most

00:00:48,840 --> 00:00:54,210
out of cloud stack so I've you Klaus

00:00:52,590 --> 00:00:56,879
tacky let's say here from the

00:00:54,210 --> 00:00:57,809
practically what can we do with it so

00:00:56,879 --> 00:00:59,640
from the user

00:00:57,809 --> 00:01:01,620
the end-user point of view the person

00:00:59,640 --> 00:01:05,790
who's going to be using the API in the

00:01:01,620 --> 00:01:10,170
end those consumers of this cloud what

00:01:05,790 --> 00:01:12,990
do they need allows that to do a quick

00:01:10,170 --> 00:01:15,420
bit about shape blue this and what I

00:01:12,990 --> 00:01:17,549
take from this is this is what our day

00:01:15,420 --> 00:01:19,950
job is so this is what we do day in day

00:01:17,549 --> 00:01:22,799
out so it's important to us obviously to

00:01:19,950 --> 00:01:25,740
be able to know what we're talking about

00:01:22,799 --> 00:01:29,400
hopefully and this gives you an idea of

00:01:25,740 --> 00:01:32,460
the kind of customers that we're talking

00:01:29,400 --> 00:01:34,290
about now this is a class that

00:01:32,460 --> 00:01:36,119
networking as you'll see from the slides

00:01:34,290 --> 00:01:36,689
down the balm corner it says clouds that

00:01:36,119 --> 00:01:39,689
guru

00:01:36,689 --> 00:01:42,960
so usually Jeff Higginbottom who shaped

00:01:39,689 --> 00:01:45,000
blue CTO is always giving a networking

00:01:42,960 --> 00:01:47,220
talk somewhere in the world at some

00:01:45,000 --> 00:01:48,810
point but he said a baby girl so he

00:01:47,220 --> 00:01:50,460
wasn't able to do it here today so I'm

00:01:48,810 --> 00:01:52,470
if you like standing him from him

00:01:50,460 --> 00:01:58,310
anything a little bit and then doing it

00:01:52,470 --> 00:02:02,250
in my own style so we kind of start with

00:01:58,310 --> 00:02:04,500
why networking at a service and what

00:02:02,250 --> 00:02:08,280
we've got is the fact that rather than

00:02:04,500 --> 00:02:10,890
have some static linking of our VPS

00:02:08,280 --> 00:02:13,560
instances to the web which people they

00:02:10,890 --> 00:02:15,870
can connect to we've got the ability to

00:02:13,560 --> 00:02:17,910
recreating moving around and changing

00:02:15,870 --> 00:02:20,610
the networks that people are using

00:02:17,910 --> 00:02:22,560
obviously we've built that on pretty

00:02:20,610 --> 00:02:25,530
static networks in the first place

00:02:22,560 --> 00:02:28,410
ignoring the Sdn technologies reward but

00:02:25,530 --> 00:02:30,780
we've already built an app I aver but in

00:02:28,410 --> 00:02:32,310
terms of the end user what they see is a

00:02:30,780 --> 00:02:38,610
network they can configure in any way

00:02:32,310 --> 00:02:39,870
they like pretty much I always think the

00:02:38,610 --> 00:02:41,819
stuff like this should be the start of

00:02:39,870 --> 00:02:43,319
the conference to get people up to speed

00:02:41,819 --> 00:02:45,239
if they need to and then we kind of go

00:02:43,319 --> 00:02:47,880
more in advance but we're doing this one

00:02:45,239 --> 00:02:49,230
the other way around but sometimes you

00:02:47,880 --> 00:02:50,910
find that people have been listening to

00:02:49,230 --> 00:02:53,340
a lot of really in-depth talks and

00:02:50,910 --> 00:02:55,470
wondering kind of what they need the

00:02:53,340 --> 00:02:56,549
gaps filled in from the start of what is

00:02:55,470 --> 00:02:59,819
it what you're talking about in the

00:02:56,549 --> 00:03:02,489
first place so for cloud stack we have

00:02:59,819 --> 00:03:05,250
two logical network models pretty much

00:03:02,489 --> 00:03:09,690
we have our basic networking and our

00:03:05,250 --> 00:03:13,680
advanced networking basic networking

00:03:09,690 --> 00:03:15,810
give us AWS style layer three isolation

00:03:13,680 --> 00:03:20,459
which makes a massive scale because our

00:03:15,810 --> 00:03:21,989
Security's distributed much easier once

00:03:20,459 --> 00:03:23,640
you get to VLANs we know we have

00:03:21,989 --> 00:03:27,060
limitations on the number of real ands

00:03:23,640 --> 00:03:28,489
we can physically have and for service

00:03:27,060 --> 00:03:31,560
providers that can become a problem

00:03:28,489 --> 00:03:34,319
there are not many enterprises that are

00:03:31,560 --> 00:03:36,720
limited by the fact there's only 4096

00:03:34,319 --> 00:03:38,250
VLANs they can have but certainly

00:03:36,720 --> 00:03:41,790
service providers that can be a real

00:03:38,250 --> 00:03:44,370
issue so we end up with ver simple flat

00:03:41,790 --> 00:03:46,049
networks and each part having its own

00:03:44,370 --> 00:03:49,019
cedar and I come into more detail on

00:03:46,049 --> 00:03:51,389
that in a bit and then optionally we can

00:03:49,019 --> 00:03:54,000
use guest isolation through security

00:03:51,389 --> 00:03:56,100
groups or we could just create virtual

00:03:54,000 --> 00:03:57,209
machines in our environment if you just

00:03:56,100 --> 00:04:00,060
want the ability to create virtual

00:03:57,209 --> 00:04:02,880
machines without the security around

00:04:00,060 --> 00:04:06,060
them and then using a net scaler

00:04:02,880 --> 00:04:07,220
we can bring in elastic IP elastic load

00:04:06,060 --> 00:04:09,989
balancing

00:04:07,220 --> 00:04:12,359
so we'll see later that in a basic

00:04:09,989 --> 00:04:14,040
network we don't have the idea of a

00:04:12,359 --> 00:04:16,289
public network as such so you don't have

00:04:14,040 --> 00:04:18,630
any netting and that kind of thing and

00:04:16,289 --> 00:04:20,820
optionally as well we can use a nice era

00:04:18,630 --> 00:04:25,169
as well as a way of linking things

00:04:20,820 --> 00:04:26,710
together even in the basic network so a

00:04:25,169 --> 00:04:28,600
bit of an explanation

00:04:26,710 --> 00:04:30,699
to do security groups what they're doing

00:04:28,600 --> 00:04:33,550
is isolating the traffic between virtual

00:04:30,699 --> 00:04:36,880
machines so we're with VLANs and ACLs

00:04:33,550 --> 00:04:38,500
you're isolating networks so that

00:04:36,880 --> 00:04:41,889
communication has to go through a router

00:04:38,500 --> 00:04:45,699
which has ACLs on it here will actually

00:04:41,889 --> 00:04:47,199
add the hypervisor lab layer stopping

00:04:45,699 --> 00:04:48,669
virtual machines from being able to talk

00:04:47,199 --> 00:04:50,050
to each other even if they're on the

00:04:48,669 --> 00:04:52,690
same network and even if they're on the

00:04:50,050 --> 00:04:56,560
same hypervisor we can control what they

00:04:52,690 --> 00:04:58,690
can and can't connect to an important

00:04:56,560 --> 00:05:00,910
concept to get around with a security

00:04:58,690 --> 00:05:03,639
group is that it's more of a know you

00:05:00,910 --> 00:05:04,810
than a group it doesn't mean because two

00:05:03,639 --> 00:05:06,160
virtual machines are in the same

00:05:04,810 --> 00:05:08,289
security group they can talk to each

00:05:06,160 --> 00:05:11,099
other what it means is if they're in the

00:05:08,289 --> 00:05:13,509
same security group they have the same

00:05:11,099 --> 00:05:13,960
egress and ingress rules applied to each

00:05:13,509 --> 00:05:15,550
other

00:05:13,960 --> 00:05:16,690
so that's the first gotcha people come

00:05:15,550 --> 00:05:18,550
up with they put things in the same

00:05:16,690 --> 00:05:20,259
security group and then say hang on why

00:05:18,550 --> 00:05:21,370
can't these talk to each other it's

00:05:20,259 --> 00:05:23,110
because you've got to open the

00:05:21,370 --> 00:05:25,750
particular ports and apply it to the

00:05:23,110 --> 00:05:27,460
security group that those are in and

00:05:25,750 --> 00:05:30,759
obviously it's a two-way thing so if you

00:05:27,460 --> 00:05:32,889
allow egress tour nets a port 22 between

00:05:30,759 --> 00:05:34,090
virtual machines you still won't get to

00:05:32,889 --> 00:05:37,509
the other virtual machine because you

00:05:34,090 --> 00:05:38,680
haven't allowed ingress so you've got to

00:05:37,509 --> 00:05:44,320
remember there's two sides to that

00:05:38,680 --> 00:05:47,020
communication in XenServer we have to

00:05:44,320 --> 00:05:49,630
switch to using the linux bridge by

00:05:47,020 --> 00:05:51,219
default now it uses open V switch which

00:05:49,630 --> 00:05:53,710
currently doesn't support security

00:05:51,219 --> 00:05:54,849
groups so there's a little bit of work

00:05:53,710 --> 00:05:57,099
you have to do on the XenServer

00:05:54,849 --> 00:05:58,599
configuration first to enable the use of

00:05:57,099 --> 00:06:01,840
security groups

00:05:58,599 --> 00:06:04,990
KVM by default uses linux bridge stack

00:06:01,840 --> 00:06:06,759
so that's okay vmware doesn't support

00:06:04,990 --> 00:06:08,830
basic networking or don't support

00:06:06,759 --> 00:06:10,000
security groups at all you still use a

00:06:08,830 --> 00:06:13,620
basic network when you'll have no

00:06:10,000 --> 00:06:13,620
isolation between the virtual machines

00:06:15,030 --> 00:06:18,520
and so to give you an idea of where we

00:06:17,380 --> 00:06:22,630
talked about security groups and the

00:06:18,520 --> 00:06:24,940
rules it's just a visual of the UI and

00:06:22,630 --> 00:06:27,880
how you'd create a rule that allowed

00:06:24,940 --> 00:06:30,789
egress and ingress rules us all ingress

00:06:27,880 --> 00:06:33,159
rules and how you can either look at it

00:06:30,789 --> 00:06:34,750
from a cedar if you were coming from an

00:06:33,159 --> 00:06:37,120
external network which was being routed

00:06:34,750 --> 00:06:39,849
internally through your infrastructure

00:06:37,120 --> 00:06:40,480
or from other accounts or security

00:06:39,849 --> 00:06:42,730
groups so you

00:06:40,480 --> 00:06:44,170
can actually allow access between your

00:06:42,730 --> 00:06:46,710
accounts so you might want to create

00:06:44,170 --> 00:06:50,950
different accounts to get the separation

00:06:46,710 --> 00:06:53,290
separation of people's VMs and what they

00:06:50,950 --> 00:06:55,480
can see but then still allow them to

00:06:53,290 --> 00:07:02,080
communicate by opening your security

00:06:55,480 --> 00:07:04,420
group rules advanced networking and say

00:07:02,080 --> 00:07:05,680
provides a lot more functionality the

00:07:04,420 --> 00:07:07,330
reason for that is because suddenly

00:07:05,680 --> 00:07:10,810
we've put a virtual router in the mix

00:07:07,330 --> 00:07:12,790
because we're netting our internal

00:07:10,810 --> 00:07:15,520
network we go through a virtual router

00:07:12,790 --> 00:07:16,690
to get out to our public network that

00:07:15,520 --> 00:07:18,850
means if you're going for this virtual

00:07:16,690 --> 00:07:20,350
Rooter why not take advantage of it why

00:07:18,850 --> 00:07:22,870
not put other services on there as you

00:07:20,350 --> 00:07:24,430
go through either from your kind of

00:07:22,870 --> 00:07:26,560
source that from your virtual machine

00:07:24,430 --> 00:07:30,190
out or more likely from your public

00:07:26,560 --> 00:07:32,710
network in so we can then put firewall

00:07:30,190 --> 00:07:36,430
rules on that we could put low balancing

00:07:32,710 --> 00:07:42,640
we'll talk about VPC in a bit quite a

00:07:36,430 --> 00:07:45,370
bit but also so-called firewall VPC low

00:07:42,640 --> 00:07:48,490
bouncing there's a lot of features there

00:07:45,370 --> 00:07:51,010
we can use and then we've added in new

00:07:48,490 --> 00:07:53,200
Sdn technologies as well to get around

00:07:51,010 --> 00:07:55,300
that VLAN limitations but as I said

00:07:53,200 --> 00:07:57,430
earlier with VLANs obviously we're

00:07:55,300 --> 00:07:58,900
separating networks from each other not

00:07:57,430 --> 00:08:02,920
necessarily virtual machines from each

00:07:58,900 --> 00:08:08,380
other so that's kind of our difference

00:08:02,920 --> 00:08:10,120
there we can actually create shared

00:08:08,380 --> 00:08:13,330
guest networks and they can be shared

00:08:10,120 --> 00:08:16,030
between accounts domains or even across

00:08:13,330 --> 00:08:18,820
an entire zone use cases for that kind

00:08:16,030 --> 00:08:21,790
of thing maybe service providers willing

00:08:18,820 --> 00:08:24,790
to provide a management layer of course

00:08:21,790 --> 00:08:26,020
they're networks so they'll have clients

00:08:24,790 --> 00:08:28,030
that have created lots of networks of

00:08:26,020 --> 00:08:29,980
their own when you want to share network

00:08:28,030 --> 00:08:31,450
that goes across all of them which

00:08:29,980 --> 00:08:33,669
you'll provide your monitoring on your

00:08:31,450 --> 00:08:38,440
backup solutions or that kind of stuff

00:08:33,669 --> 00:08:40,660
through and if you're in a kind of

00:08:38,440 --> 00:08:42,760
reseller model you might give a reseller

00:08:40,660 --> 00:08:44,320
a domain and they would want the share

00:08:42,760 --> 00:08:45,460
network just across their domain

00:08:44,320 --> 00:08:48,640
obviously they won't want it across the

00:08:45,460 --> 00:08:50,590
entire zone with everyone else's VM so

00:08:48,640 --> 00:08:52,100
you didn't just create that across that

00:08:50,590 --> 00:08:54,330
domain

00:08:52,100 --> 00:08:56,340
but honestly now we've got a virtual

00:08:54,330 --> 00:08:58,980
router and everything's netted we can

00:08:56,340 --> 00:09:00,720
have multiple physical network the

00:08:58,980 --> 00:09:02,700
viewing multiple networks and we can

00:09:00,720 --> 00:09:06,420
have everyone in their isolated matic

00:09:02,700 --> 00:09:09,320
networks and the advanced network also

00:09:06,420 --> 00:09:15,030
give us the ability to have multiple

00:09:09,320 --> 00:09:17,100
physical guest networks the most of the

00:09:15,030 --> 00:09:19,170
use case I've seen for that recently was

00:09:17,100 --> 00:09:21,030
if you are creating virtual machines in

00:09:19,170 --> 00:09:24,690
Linux and you want to mount I scuzzy

00:09:21,030 --> 00:09:26,670
lands for a shared storage all of that

00:09:24,690 --> 00:09:29,250
traffic is going over the guest network

00:09:26,670 --> 00:09:31,110
even though it's storage type traffic so

00:09:29,250 --> 00:09:33,600
if these virtual machines get busy it's

00:09:31,110 --> 00:09:35,100
going to use a lot of your guest network

00:09:33,600 --> 00:09:36,780
traffic up and you might thought

00:09:35,100 --> 00:09:38,280
actually there's not a lot of traffic

00:09:36,780 --> 00:09:40,860
gonna be on the guest network so I don't

00:09:38,280 --> 00:09:43,710
need much bandwidth by adding in a

00:09:40,860 --> 00:09:46,380
separate guest network which can be used

00:09:43,710 --> 00:09:48,030
as an extra NIC on these virtual

00:09:46,380 --> 00:09:51,210
machines and the I scuzzy goes through

00:09:48,030 --> 00:09:57,420
that to their their storage money you've

00:09:51,210 --> 00:09:58,860
you've separated that traffic out so you

00:09:57,420 --> 00:10:04,860
have to kind of get your head around why

00:09:58,860 --> 00:10:06,990
you might use the guest yeah so question

00:10:04,860 --> 00:10:08,010
was is that in the V PC scenario the V

00:10:06,990 --> 00:10:11,010
PC sodariot

00:10:08,010 --> 00:10:12,480
adds in other features it's not

00:10:11,010 --> 00:10:15,920
specifically talking about that but you

00:10:12,480 --> 00:10:15,920
can use it in a V PC

00:10:41,890 --> 00:10:51,020
right yeah so the question but it's

00:10:48,830 --> 00:10:53,060
asking for clarification yes so you

00:10:51,020 --> 00:10:57,320
physically are going to have different

00:10:53,060 --> 00:10:59,600
pair a different interfaces coming out

00:10:57,320 --> 00:11:02,690
of your host so you allow the hypervisor

00:10:59,600 --> 00:11:04,850
to have another guest network physically

00:11:02,690 --> 00:11:06,380
coming out so you're physically

00:11:04,850 --> 00:11:08,840
separating these guest networks rather

00:11:06,380 --> 00:11:11,450
than just separating them by VLAN so

00:11:08,840 --> 00:11:13,520
allowing you to have maybe very noisy

00:11:11,450 --> 00:11:18,410
traffic not affect this other guest

00:11:13,520 --> 00:11:21,830
network as I say because we've got a

00:11:18,410 --> 00:11:23,600
virtual router that allows us to bring

00:11:21,830 --> 00:11:26,570
in a whole new load of features the

00:11:23,600 --> 00:11:30,470
firewalls the client VPN low balancing

00:11:26,570 --> 00:11:35,420
the sources that matting and port

00:11:30,470 --> 00:11:37,910
forwarding we do have a twist on all of

00:11:35,420 --> 00:11:41,090
this which is the advanced networking

00:11:37,910 --> 00:11:44,600
with security groups so use case I

00:11:41,090 --> 00:11:46,820
talked about earlier today was with a

00:11:44,600 --> 00:11:48,200
client who basically didn't like the

00:11:46,820 --> 00:11:50,300
idea of all their traffic running

00:11:48,200 --> 00:11:52,520
through single virtual routers coming

00:11:50,300 --> 00:11:55,030
into any given network they were

00:11:52,520 --> 00:11:57,020
thinking of tens of thousands of Tran

00:11:55,030 --> 00:11:59,120
transactions per second

00:11:57,020 --> 00:12:00,530
going through this network and they

00:11:59,120 --> 00:12:03,290
didn't like the idea of that all going

00:12:00,530 --> 00:12:05,390
through a virtual router so by using

00:12:03,290 --> 00:12:07,760
they could get the separation of VLANs

00:12:05,390 --> 00:12:10,280
but still use security groups to get the

00:12:07,760 --> 00:12:16,760
multiple tiers into there into the

00:12:10,280 --> 00:12:18,800
networking model so we've got four types

00:12:16,760 --> 00:12:20,600
of network in cloud stack but we talked

00:12:18,800 --> 00:12:23,210
about first of all we have the

00:12:20,600 --> 00:12:25,430
management network it pretty much does

00:12:23,210 --> 00:12:27,560
what it says on the tenth it's

00:12:25,430 --> 00:12:30,170
connecting all your various components

00:12:27,560 --> 00:12:32,450
together we've joined them my sequel in

00:12:30,170 --> 00:12:34,040
there more often than not that sits on

00:12:32,450 --> 00:12:35,510
the management network as well but it

00:12:34,040 --> 00:12:37,340
doesn't have to be as long as it can

00:12:35,510 --> 00:12:38,570
talk to the management server but

00:12:37,340 --> 00:12:41,780
generally your

00:12:38,570 --> 00:12:43,580
system VMs and your storage and the

00:12:41,780 --> 00:12:44,930
hosts are all going to be on that

00:12:43,580 --> 00:12:48,490
management network so they can be

00:12:44,930 --> 00:12:48,490
controlled and could communicate back

00:12:48,610 --> 00:12:54,730
now we split a bit because we got guest

00:12:51,200 --> 00:12:57,380
networks and environs and basic networks

00:12:54,730 --> 00:13:00,170
so on the Left we got the basic network

00:12:57,380 --> 00:13:02,420
I put in layer three gateway there

00:13:00,170 --> 00:13:04,190
because that doesn't mean you can't get

00:13:02,420 --> 00:13:06,530
to the Internet it doesn't mean you

00:13:04,190 --> 00:13:08,690
can't get out to the public Internet at

00:13:06,530 --> 00:13:09,920
large or somewhere else for some

00:13:08,690 --> 00:13:11,720
companies they would use that layer

00:13:09,920 --> 00:13:14,930
three gateway and then connect into

00:13:11,720 --> 00:13:16,670
their internal resource but that layer

00:13:14,930 --> 00:13:18,320
through gate where you could have routes

00:13:16,670 --> 00:13:20,630
to get out to the public Internet as

00:13:18,320 --> 00:13:22,670
well there's no reason why can't you

00:13:20,630 --> 00:13:24,920
just don't have any firewall in

00:13:22,670 --> 00:13:27,350
capability that is under the control of

00:13:24,920 --> 00:13:29,090
cloud stack in this case so cloud stack

00:13:27,350 --> 00:13:34,540
isn't controlling that layer 3 gateway

00:13:29,090 --> 00:13:40,040
that's outside of its control but yep

00:13:34,540 --> 00:13:45,740
previous well I don't know what that's

00:13:40,040 --> 00:13:48,350
there I think it's probably because it's

00:13:45,740 --> 00:13:54,460
secondary storage Wow and just doesn't

00:13:48,350 --> 00:14:00,820
include primary storage yeah I'll come

00:13:54,460 --> 00:14:00,820
come on to there but your ramp yeah

00:14:06,400 --> 00:14:15,350
yes we'll look at that and say in

00:14:13,340 --> 00:14:16,550
advanced networking obviously we've said

00:14:15,350 --> 00:14:17,630
we've got the virtual Rooter and this

00:14:16,550 --> 00:14:19,160
will look something like that we

00:14:17,630 --> 00:14:21,890
normally expect to see the verb the

00:14:19,160 --> 00:14:23,840
public as we call it internet pipe

00:14:21,890 --> 00:14:27,010
straight into the virtual router so it

00:14:23,840 --> 00:14:30,200
can pick up IP addresses in reality

00:14:27,010 --> 00:14:32,570
though this is www doesn't have to be

00:14:30,200 --> 00:14:34,190
the public Internet there's no reason

00:14:32,570 --> 00:14:35,950
why that can't be the corporate network

00:14:34,190 --> 00:14:38,450
on the other end of that virtual router

00:14:35,950 --> 00:14:41,150
there's no reason why in a in an

00:14:38,450 --> 00:14:43,640
enterprise that has to go out to the

00:14:41,150 --> 00:14:49,220
Internet that could just be somewhere

00:14:43,640 --> 00:14:55,130
outside a cloud spec now if you want to

00:14:49,220 --> 00:14:57,320
have effectively mattang going on you

00:14:55,130 --> 00:14:59,930
can do that in a basic network but you

00:14:57,320 --> 00:15:02,300
have to use a net scaler so an ex-gay

00:14:59,930 --> 00:15:04,190
look can provide basically it can be

00:15:02,300 --> 00:15:05,900
that layer 3 gateway that is talked of

00:15:04,190 --> 00:15:09,680
that's the only type of layer 3 gateway

00:15:05,900 --> 00:15:12,020
clouds that can actually manage so if we

00:15:09,680 --> 00:15:13,940
replace the nominal layer 3 gateway with

00:15:12,020 --> 00:15:16,510
a NetScaler we can suddenly actually

00:15:13,940 --> 00:15:19,880
start controlling that and give us a

00:15:16,510 --> 00:15:25,360
more advanced type network in that kind

00:15:19,880 --> 00:15:27,650
of zone so once the public network

00:15:25,360 --> 00:15:31,880
jumped ahead again so in a public

00:15:27,650 --> 00:15:32,990
network as a say in a basic zone that's

00:15:31,880 --> 00:15:35,210
the only time you can have a public

00:15:32,990 --> 00:15:37,490
network is if you have a net scalar

00:15:35,210 --> 00:15:40,430
otherwise cloud stack has no concept of

00:15:37,490 --> 00:15:44,750
a public network in a guess in a basic

00:15:40,430 --> 00:15:47,240
network in an advanced network it's

00:15:44,750 --> 00:15:50,890
basically anything north of the virtual

00:15:47,240 --> 00:15:53,720
router say that doesn't have to be the

00:15:50,890 --> 00:15:56,060
public internet that can be local guys

00:15:53,720 --> 00:15:58,070
who've done boot camps with us we we

00:15:56,060 --> 00:16:00,710
cheat and make whatever network we're on

00:15:58,070 --> 00:16:03,339
the public network whether that has

00:16:00,710 --> 00:16:05,870
access to the Internet at large or not

00:16:03,339 --> 00:16:08,200
because it doesn't have to be the

00:16:05,870 --> 00:16:08,200
Internet

00:16:09,290 --> 00:16:14,820
and then we have our our system VMs

00:16:12,750 --> 00:16:17,100
they're gonna talk on that public

00:16:14,820 --> 00:16:19,860
network as well they're gonna expect to

00:16:17,100 --> 00:16:22,710
be able to pick up a public IP address

00:16:19,860 --> 00:16:25,410
and say if you go from the boot camps

00:16:22,710 --> 00:16:27,120
we've always done those for the purposes

00:16:25,410 --> 00:16:28,320
of doing the demonstration they've been

00:16:27,120 --> 00:16:30,180
on the local land that we've been

00:16:28,320 --> 00:16:32,880
sitting on or even a host only network

00:16:30,180 --> 00:16:35,250
inside VirtualBox so there's no reason

00:16:32,880 --> 00:16:37,170
why there has to be the Internet but it

00:16:35,250 --> 00:16:39,630
certainly is something north of the

00:16:37,170 --> 00:16:41,490
virtual router something where

00:16:39,630 --> 00:16:46,740
everything else is outside of our stacks

00:16:41,490 --> 00:16:48,570
control I mean oh they're that obviously

00:16:46,740 --> 00:16:50,730
the virtual routers don't have a public

00:16:48,570 --> 00:16:56,940
network connection if you're in a basic

00:16:50,730 --> 00:17:00,000
network and then we have the storage

00:16:56,940 --> 00:17:02,760
network as you say that's optional the

00:17:00,000 --> 00:17:06,449
confusion we get is that just means for

00:17:02,760 --> 00:17:08,459
secondary storage it could be it could

00:17:06,449 --> 00:17:11,060
have been better named it's caused a lot

00:17:08,459 --> 00:17:13,260
of people other confusion over the years

00:17:11,060 --> 00:17:15,750
using the storage network just means

00:17:13,260 --> 00:17:18,240
your secondary storage in terms of

00:17:15,750 --> 00:17:21,089
primary storage cloud stack is just

00:17:18,240 --> 00:17:23,280
assuming the hosts can communicate with

00:17:21,089 --> 00:17:24,660
it really not bothered about how it does

00:17:23,280 --> 00:17:26,610
that so that could be on different

00:17:24,660 --> 00:17:29,820
interfaces it could be over anything you

00:17:26,610 --> 00:17:37,580
like cloud stack just assumes it's there

00:17:29,820 --> 00:17:37,580
and it works let's bring all these in

00:17:39,310 --> 00:17:44,080
so terms of the kind of connectivity

00:17:41,050 --> 00:17:45,700
would roughly expect to see as you can

00:17:44,080 --> 00:17:47,230
see from a diagram where I've shown the

00:17:45,700 --> 00:17:49,450
primary storage or where we show the

00:17:47,230 --> 00:17:51,190
primary storage and the hosts master

00:17:49,450 --> 00:17:53,410
connection has to be there between the

00:17:51,190 --> 00:17:54,820
primary storage in the hosts but the

00:17:53,410 --> 00:17:56,380
management server doesn't have to go in

00:17:54,820 --> 00:17:58,660
you any of the primary storage and

00:17:56,380 --> 00:18:00,160
obviously in each of the pods or however

00:17:58,660 --> 00:18:01,300
you've split up the storage they don't

00:18:00,160 --> 00:18:04,480
have to be able to communicate with each

00:18:01,300 --> 00:18:08,580
other either when cloud stack is doing

00:18:04,480 --> 00:18:10,660
some migration between storage pools

00:18:08,580 --> 00:18:12,370
primary storage pools add she uses the

00:18:10,660 --> 00:18:14,320
secondary storage uploads into the

00:18:12,370 --> 00:18:15,700
secondary storage moves it across and

00:18:14,320 --> 00:18:17,260
then downloads it from the secondary

00:18:15,700 --> 00:18:19,360
storage to this other primary storage

00:18:17,260 --> 00:18:21,250
pool so it uses that as a bridge so the

00:18:19,360 --> 00:18:24,360
primary storage pools don't need to have

00:18:21,250 --> 00:18:24,360
communication with each other either

00:18:24,630 --> 00:18:30,700
another top we've got basically our

00:18:26,950 --> 00:18:32,260
management server my sequel our users

00:18:30,700 --> 00:18:34,540
and admins coming in usually for a

00:18:32,260 --> 00:18:38,560
firewall to get to the management server

00:18:34,540 --> 00:18:40,210
UI or API we still have our secondary

00:18:38,560 --> 00:18:42,850
storage attached there and then we've

00:18:40,210 --> 00:18:44,290
got the pods and our public traffic

00:18:42,850 --> 00:18:47,380
going through some kind of Voodoo and

00:18:44,290 --> 00:18:50,080
the users coming in that way usually not

00:18:47,380 --> 00:18:50,890
firewalled in a public cloud because

00:18:50,080 --> 00:18:53,890
they're going to want to do whatever

00:18:50,890 --> 00:18:57,420
they want which scares people enterprise

00:18:53,890 --> 00:18:57,420
that probably still is fire walled off

00:18:58,440 --> 00:19:03,510
as is where it'll get interesting

00:19:04,240 --> 00:19:13,090
so in a basic zone what we do is we have

00:19:08,800 --> 00:19:15,070
our our pod now pod is going to be in in

00:19:13,090 --> 00:19:18,820
our cedar that we've created a subnet

00:19:15,070 --> 00:19:20,470
created for it and then within that on

00:19:18,820 --> 00:19:22,390
top of that we're going to create a tail

00:19:20,470 --> 00:19:27,670
get Klaus back about guest network that

00:19:22,390 --> 00:19:29,470
exists and we're going to create that in

00:19:27,670 --> 00:19:34,480
our layer 3 switch so our layer 3 switch

00:19:29,470 --> 00:19:37,750
that these guest VMs are going to talk

00:19:34,480 --> 00:19:41,710
through it's going to be have a gateway

00:19:37,750 --> 00:19:43,290
on the switch at the top we then create

00:19:41,710 --> 00:19:46,150
another pod that's going to have its own

00:19:43,290 --> 00:19:48,100
subnet for the management side of it so

00:19:46,150 --> 00:19:50,830
this is where it's very scalable because

00:19:48,100 --> 00:19:52,510
we can just keep adding these pods with

00:19:50,830 --> 00:19:54,100
their own Cedars we don't have to have

00:19:52,510 --> 00:19:55,810
created a massive cedar in the first

00:19:54,100 --> 00:19:58,480
place we can just keep adding chunks at

00:19:55,810 --> 00:20:01,660
a time but the same thing will happen

00:19:58,480 --> 00:20:04,810
with our guests because what we will do

00:20:01,660 --> 00:20:07,600
is create a guest cedar for pod 1 and a

00:20:04,810 --> 00:20:10,330
guest cedar for pod 2 they will both

00:20:07,600 --> 00:20:12,510
have gateways that will create on the

00:20:10,330 --> 00:20:15,670
layer 3 switches at the top of the stack

00:20:12,510 --> 00:20:17,920
so to communicate between a virtual

00:20:15,670 --> 00:20:22,720
machine in pod 1 and a virtual machine

00:20:17,920 --> 00:20:26,110
pod 2 for instance we'll take 172 1602

00:20:22,720 --> 00:20:28,360
and it wants to connect to 170 216 2.2

00:20:26,110 --> 00:20:30,550
it's basically going to use those

00:20:28,360 --> 00:20:33,100
gateways that we've created in the

00:20:30,550 --> 00:20:36,760
infrastructure to then get across to the

00:20:33,100 --> 00:20:38,470
pod it needs to get to so that's how we

00:20:36,760 --> 00:20:41,110
get the guest networking to work and

00:20:38,470 --> 00:20:43,630
that's why it's so scalable is because

00:20:41,110 --> 00:20:46,060
we keep creating small guest Cedars we

00:20:43,630 --> 00:20:48,130
don't have big broadcast domains we just

00:20:46,060 --> 00:20:51,040
keep creating these and we can have tens

00:20:48,130 --> 00:20:53,620
thousands of these things quite easily

00:20:51,040 --> 00:20:55,750
and this is why Amazon was built this

00:20:53,620 --> 00:20:58,720
way so this is the way Amazon's built to

00:20:55,750 --> 00:21:00,550
to enable them to connect you up and

00:20:58,720 --> 00:21:04,230
then they use net scalars by the skip

00:21:00,550 --> 00:21:04,230
load to give you a public network

00:21:06,170 --> 00:21:10,920
well enough of our advanced network

00:21:08,880 --> 00:21:13,500
looks more complicated it's actually

00:21:10,920 --> 00:21:15,680
generally simpler to set up in the first

00:21:13,500 --> 00:21:15,680
place

00:21:17,420 --> 00:21:22,620
so once you get into advanced networking

00:21:21,030 --> 00:21:26,570
you're really down into just the realms

00:21:22,620 --> 00:21:28,770
of normal VLANs and though CloudStack is

00:21:26,570 --> 00:21:32,880
orchestrating the creation those VLANs

00:21:28,770 --> 00:21:34,500
on the hypervisors you've created the

00:21:32,880 --> 00:21:38,010
whole range of VLANs you want in your

00:21:34,500 --> 00:21:39,330
switches and then traffic flows as you

00:21:38,010 --> 00:21:42,240
would normally expect in a virtualized

00:21:39,330 --> 00:21:44,460
environment so if I've created a VLAN I

00:21:42,240 --> 00:21:48,270
put a virtual machine on that VLAN in

00:21:44,460 --> 00:21:50,550
one host I put a virtual machine in that

00:21:48,270 --> 00:21:52,380
same VLAN on another host because my

00:21:50,550 --> 00:21:54,930
networks are trumped together my guest

00:21:52,380 --> 00:21:57,330
networks a trunk together then that VLAN

00:21:54,930 --> 00:22:01,800
enables the two virtual machines talk to

00:21:57,330 --> 00:22:07,560
each other normally so there's no kind

00:22:01,800 --> 00:22:09,810
of nothing new and exciting in there so

00:22:07,560 --> 00:22:11,600
we did a lot of work with service

00:22:09,810 --> 00:22:14,340
network service providers we wanted to

00:22:11,600 --> 00:22:16,860
if you like abstract out how the

00:22:14,340 --> 00:22:19,050
networks worked to make it easier to

00:22:16,860 --> 00:22:21,990
change networking functions and to add

00:22:19,050 --> 00:22:26,490
them in so we started off with pretty

00:22:21,990 --> 00:22:28,170
much the virtual router and then I think

00:22:26,490 --> 00:22:30,480
we added in the net scaler and the f5

00:22:28,170 --> 00:22:32,220
and the Juniper SRX and then the kind of

00:22:30,480 --> 00:22:36,000
list is growing and accelerating at the

00:22:32,220 --> 00:22:37,800
speed it's growing so we have all these

00:22:36,000 --> 00:22:40,200
new features that are coming in so the

00:22:37,800 --> 00:22:42,090
star is seen you in the latest version

00:22:40,200 --> 00:22:45,780
so you can see quite a lot being out

00:22:42,090 --> 00:22:47,790
being added all the time so but as I say

00:22:45,780 --> 00:22:49,920
what we're doing is abstracting out

00:22:47,790 --> 00:22:52,530
these things we create a service

00:22:49,920 --> 00:22:56,390
provider in cloud stack and then enable

00:22:52,530 --> 00:22:56,390
us to then use it to do our networking

00:22:59,430 --> 00:23:04,650
now I'm going to talk a little bit about

00:23:01,600 --> 00:23:08,800
virtual private clouds listening to

00:23:04,650 --> 00:23:13,060
remember my maturity last year

00:23:08,800 --> 00:23:15,310
the way virtual private clouds came

00:23:13,060 --> 00:23:17,800
about is that it's basically using the

00:23:15,310 --> 00:23:20,560
same idea as traditional data centers of

00:23:17,800 --> 00:23:22,690
having multi-tiered networks so we could

00:23:20,560 --> 00:23:24,970
do a kind of multi tiered network with

00:23:22,690 --> 00:23:26,350
the original virtual router but it was

00:23:24,970 --> 00:23:28,500
very messy because we had lots of

00:23:26,350 --> 00:23:31,120
virtual rooters all over the place and

00:23:28,500 --> 00:23:31,870
you couldn't have really ACLs between

00:23:31,120 --> 00:23:34,930
them easily

00:23:31,870 --> 00:23:36,910
those were quite messy so having this in

00:23:34,930 --> 00:23:40,720
the same vein as that Amazon gives us

00:23:36,910 --> 00:23:45,760
the idea of web data app tier kind of

00:23:40,720 --> 00:23:47,650
topology so we've got the multi networks

00:23:45,760 --> 00:23:49,480
we now have the ACLS between them like

00:23:47,650 --> 00:23:53,410
you would have in a more traditional

00:23:49,480 --> 00:23:57,310
data center we've added in new features

00:23:53,410 --> 00:23:59,260
like the site-to-site VPN we have a

00:23:57,310 --> 00:24:03,390
private gateway to look at in a bit as

00:23:59,260 --> 00:24:06,570
well we've now added a V PC to a V PC

00:24:03,390 --> 00:24:11,350
VPM so you can connect up multiple V pcs

00:24:06,570 --> 00:24:13,900
and use a VPN now what happened is we

00:24:11,350 --> 00:24:15,670
had the original virtual router and then

00:24:13,900 --> 00:24:17,530
someone figured out that it would be

00:24:15,670 --> 00:24:19,720
good to have this multi-tiered

00:24:17,530 --> 00:24:22,300
networking model and so that was created

00:24:19,720 --> 00:24:25,030
at CPC but initially that was pretty

00:24:22,300 --> 00:24:27,640
much all it did so we still had to keep

00:24:25,030 --> 00:24:30,430
the virtual router as it was over time

00:24:27,640 --> 00:24:33,310
all the features that are in the virtual

00:24:30,430 --> 00:24:35,830
router are being written into the

00:24:33,310 --> 00:24:39,460
virtual private cloud Ruta the v pc

00:24:35,830 --> 00:24:40,870
router and given time will then be able

00:24:39,460 --> 00:24:43,650
to just kill off the original virtual

00:24:40,870 --> 00:24:46,750
router and you just use the virtual

00:24:43,650 --> 00:24:50,470
fibre cloud there'll be there'll be no

00:24:46,750 --> 00:24:52,390
use for the other one from Shirdi was

00:24:50,470 --> 00:24:53,740
saying is pretty much we're more or less

00:24:52,390 --> 00:24:55,270
there now you've got to have a very

00:24:53,740 --> 00:24:58,510
specific use case you've got to have

00:24:55,270 --> 00:25:00,460
something very odd to to want to still

00:24:58,510 --> 00:25:02,400
use the virtual router over the V PC

00:25:00,460 --> 00:25:07,660
because you've got so much more

00:25:02,400 --> 00:25:08,480
flexibility with that so here's the kind

00:25:07,660 --> 00:25:10,850
of

00:25:08,480 --> 00:25:14,570
to diagrammatic view of what I'm saying

00:25:10,850 --> 00:25:16,309
you've got your three tiers now one

00:25:14,570 --> 00:25:18,020
thing that does do is it does to up

00:25:16,309 --> 00:25:20,230
VLANs as you can see if you start

00:25:18,020 --> 00:25:22,880
allowing users to just keep creating

00:25:20,230 --> 00:25:25,940
tiers then they're going to go through

00:25:22,880 --> 00:25:30,100
the VLANs you've got very quickly

00:25:25,940 --> 00:25:32,240
another reason for moving to two Sdn

00:25:30,100 --> 00:25:35,570
they're obviously the traditional use is

00:25:32,240 --> 00:25:37,370
to have a web app and data tier are the

00:25:35,570 --> 00:25:42,620
most obvious kind of thing of people

00:25:37,370 --> 00:25:44,360
look for so we have the usual public

00:25:42,620 --> 00:25:47,030
gateway that's always been there that

00:25:44,360 --> 00:25:50,030
the VPC virtual route has been to get

00:25:47,030 --> 00:25:53,600
out to the internet or public meeting to

00:25:50,030 --> 00:25:58,850
net but we also added in a site-to-site

00:25:53,600 --> 00:25:59,980
VPN so it's an IPSec tunnel so pretty

00:25:58,850 --> 00:26:03,250
much anything you can configure

00:25:59,980 --> 00:26:07,220
granularly enough to work with the

00:26:03,250 --> 00:26:10,220
virtual router IPSec configuration will

00:26:07,220 --> 00:26:13,299
work we've think it's only been tested

00:26:10,220 --> 00:26:16,280
on a nut certain number of physical

00:26:13,299 --> 00:26:17,750
devices so far at the other end as in

00:26:16,280 --> 00:26:19,700
the class that documentation that's

00:26:17,750 --> 00:26:21,710
there that's not to say it won't work on

00:26:19,700 --> 00:26:25,429
others it's just not been done and

00:26:21,710 --> 00:26:27,320
hasn't been documented I think someone

00:26:25,429 --> 00:26:28,549
was telling me that they have the

00:26:27,320 --> 00:26:30,230
documentation they're going to share it

00:26:28,549 --> 00:26:33,590
with someone else on a bootcamp that we

00:26:30,230 --> 00:26:36,260
did of the actual configuration for a

00:26:33,590 --> 00:26:39,740
Cisco a SI I think it was so they've got

00:26:36,260 --> 00:26:41,559
it working stabili but it was hard work

00:26:39,740 --> 00:26:43,549
trying to find all the little

00:26:41,559 --> 00:26:47,299
configurations that you needed to get

00:26:43,549 --> 00:26:52,640
right but then today it's just an IPSec

00:26:47,299 --> 00:26:54,440
VPN and also obviously we just recently

00:26:52,640 --> 00:26:55,940
added back in that used to be the

00:26:54,440 --> 00:26:59,120
virtual router before and now it's in

00:26:55,940 --> 00:27:02,030
the V PC as well a user VPN so from your

00:26:59,120 --> 00:27:08,299
laptop PC or whatever you can connect in

00:27:02,030 --> 00:27:12,080
over that corner on my VP a we have the

00:27:08,299 --> 00:27:14,570
option of doing V PC to V PC over the

00:27:12,080 --> 00:27:17,809
public gateways so we go out through our

00:27:14,570 --> 00:27:19,280
public gateways and connect up our V pcs

00:27:17,809 --> 00:27:20,860
that way so they could be in different

00:27:19,280 --> 00:27:22,460
zones they could be in different regions

00:27:20,860 --> 00:27:26,090
they could be in the same

00:27:22,460 --> 00:27:28,220
they just said but you now can link

00:27:26,090 --> 00:27:31,900
those up and start using those to

00:27:28,220 --> 00:27:31,900
connect your different networks together

00:27:33,070 --> 00:27:38,290
now we added in the idea of a private

00:27:35,630 --> 00:27:41,600
gateway now this has to be connected

00:27:38,290 --> 00:27:43,520
created by the route admin so user can't

00:27:41,600 --> 00:27:44,900
create this private gateway because it

00:27:43,520 --> 00:27:46,580
is a gateway into the back-end

00:27:44,900 --> 00:27:49,280
infrastructure and through the back-end

00:27:46,580 --> 00:27:51,140
infrastructure so you have to know what

00:27:49,280 --> 00:27:55,040
the back-end infrastructure is what the

00:27:51,140 --> 00:27:56,990
next hops will be and then because you

00:27:55,040 --> 00:27:58,610
already have your original gateway

00:27:56,990 --> 00:28:00,710
that's the public gateway you're then

00:27:58,610 --> 00:28:04,790
going to need static routes probably on

00:28:00,710 --> 00:28:05,930
your your VMs to know which gate where

00:28:04,790 --> 00:28:08,990
you're going to use because this does

00:28:05,930 --> 00:28:11,990
have a different IP address so it's not

00:28:08,990 --> 00:28:13,820
sharing the public IP address and then

00:28:11,990 --> 00:28:18,200
re routing traffic it's actually

00:28:13,820 --> 00:28:20,020
delivering a different IP address but

00:28:18,200 --> 00:28:22,940
there are a number of use cases for this

00:28:20,020 --> 00:28:25,280
it could be through your infrastructure

00:28:22,940 --> 00:28:28,250
you want to connect to a remote data

00:28:25,280 --> 00:28:29,840
center or it could be you've got legacy

00:28:28,250 --> 00:28:30,830
physical equipment in another part of

00:28:29,840 --> 00:28:33,590
the datacenter something you want to

00:28:30,830 --> 00:28:36,470
link into this this virtual network

00:28:33,590 --> 00:28:39,790
you've created now we actually have no

00:28:36,470 --> 00:28:41,930
clients that want to use it that way

00:28:39,790 --> 00:28:44,450
from the telcos you can link that

00:28:41,930 --> 00:28:46,730
directly into the MPLS on the back so

00:28:44,450 --> 00:28:50,420
you feel and that straight through to an

00:28:46,730 --> 00:28:53,860
MPLS to connect a client client site

00:28:50,420 --> 00:28:56,860
directly to their their V PC in your

00:28:53,860 --> 00:28:56,860
cloud

00:28:58,850 --> 00:29:04,580
and then because we we can actually also

00:29:01,820 --> 00:29:06,350
connect them V PC to V PC through that

00:29:04,580 --> 00:29:08,390
private gateway as well so we got a

00:29:06,350 --> 00:29:13,940
number of ways we can use that private

00:29:08,390 --> 00:29:17,120
gateway that's very true you saw us

00:29:13,940 --> 00:29:21,860
bring these up because I don't talk to

00:29:17,120 --> 00:29:23,510
them a little bit so here's give you an

00:29:21,860 --> 00:29:26,540
idea there's various documentation

00:29:23,510 --> 00:29:28,220
around tricks and CloudStack about the

00:29:26,540 --> 00:29:32,870
communication ports and walk talks to

00:29:28,220 --> 00:29:36,170
what you couldn't see it's quite there's

00:29:32,870 --> 00:29:41,540
quite a lot going on if you're lucky and

00:29:36,170 --> 00:29:42,920
you're building from a pretty greenfield

00:29:41,540 --> 00:29:46,430
site you might get away with getting

00:29:42,920 --> 00:29:47,960
really having a fairly flat but I've

00:29:46,430 --> 00:29:50,600
worked with the environments where

00:29:47,960 --> 00:29:52,450
everything has been on its own VLAN so

00:29:50,600 --> 00:29:54,890
it's been a seven tier Network

00:29:52,450 --> 00:29:57,050
everything had we had to know the fire

00:29:54,890 --> 00:29:58,640
the ports we need to open for every bit

00:29:57,050 --> 00:30:01,160
of communication between everything and

00:29:58,640 --> 00:30:03,530
everything so something like this then

00:30:01,160 --> 00:30:08,720
gets you to what ports are going to need

00:30:03,530 --> 00:30:10,790
to open to get things to work so the

00:30:08,720 --> 00:30:13,520
kind of major ones is talking down to

00:30:10,790 --> 00:30:19,240
the hypervisors you're going to talk

00:30:13,520 --> 00:30:21,470
over 22 to KVM I think 22 to then server

00:30:19,240 --> 00:30:25,850
either when it's talking to a system VM

00:30:21,470 --> 00:30:27,980
or when it's copying scripts 443 to your

00:30:25,850 --> 00:30:29,540
V Center an important thing to notice

00:30:27,980 --> 00:30:32,990
here is that you're talking to the

00:30:29,540 --> 00:30:39,650
vCenter rather than the ESXi hosts for

00:30:32,990 --> 00:30:42,410
this management there other ones worth

00:30:39,650 --> 00:30:43,790
even though is 8 to 5 Oh often gets

00:30:42,410 --> 00:30:47,510
forgotten

00:30:43,790 --> 00:30:48,770
that's for your system VMs and hosts to

00:30:47,510 --> 00:30:51,440
talk to the cloud stack management

00:30:48,770 --> 00:30:52,970
server so you've got to remember they've

00:30:51,440 --> 00:30:55,760
talked back they don't talk back over

00:30:52,970 --> 00:30:57,560
the same port so 8 to 5 Ares a is one

00:30:55,760 --> 00:30:58,610
that gets a kind of ignored and

00:30:57,560 --> 00:31:00,170
forgotten particularly in your low

00:30:58,610 --> 00:31:02,990
bouncing you've got to pay attention to

00:31:00,170 --> 00:31:06,860
to that one so you're not bombarding one

00:31:02,990 --> 00:31:09,430
server with all of the all the traffic

00:31:06,860 --> 00:31:09,430
from your host

00:31:09,770 --> 00:31:16,580
and the other quiet one that gets

00:31:12,080 --> 00:31:18,620
forgotten is 909 oh because that's how

00:31:16,580 --> 00:31:21,310
the tomb CloudStack Management Service

00:31:18,620 --> 00:31:23,420
talk to each other so that's how they

00:31:21,310 --> 00:31:27,290
make sure they know they're both alive

00:31:23,420 --> 00:31:28,640
and do their heart beating and so if

00:31:27,290 --> 00:31:30,860
they can't communicate with each other

00:31:28,640 --> 00:31:32,930
if you've got ones in different data

00:31:30,860 --> 00:31:37,730
centers you've got to look for that port

00:31:32,930 --> 00:31:41,090
as well okay I think that's pretty much

00:31:37,730 --> 00:31:47,200
time so are there any questions on that

00:31:41,090 --> 00:31:47,200
I know you guys with some or had some I

00:31:47,230 --> 00:31:53,750
know it's end of a long week

00:31:50,380 --> 00:31:56,020
no okay cool well thank you very much

00:31:53,750 --> 00:31:56,020

YouTube URL: https://www.youtube.com/watch?v=GF9dq0aSb_I


