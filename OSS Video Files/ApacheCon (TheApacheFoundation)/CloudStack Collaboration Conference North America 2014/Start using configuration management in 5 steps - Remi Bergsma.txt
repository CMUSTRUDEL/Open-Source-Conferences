Title: Start using configuration management in 5 steps - Remi Bergsma
Publication date: 2014-04-24
Playlist: CloudStack Collaboration Conference North America 2014
Description: 
	CloudStack Collaboration Conference North America 2014
Captions: 
	00:00:00,000 --> 00:00:04,319
we're going to talk about configuration

00:00:02,190 --> 00:00:07,460
management today and especially and

00:00:04,319 --> 00:00:09,960
related to using it in cloud

00:00:07,460 --> 00:00:14,429
environments because this makes a lot of

00:00:09,960 --> 00:00:16,740
sense if you ask me so let me get a

00:00:14,429 --> 00:00:18,180
quick background about my audience today

00:00:16,740 --> 00:00:19,680
who's actually already using

00:00:18,180 --> 00:00:22,020
configuration management could you

00:00:19,680 --> 00:00:23,670
please raise your hand couple of my

00:00:22,020 --> 00:00:24,930
friends over there but they're they're

00:00:23,670 --> 00:00:26,279
cheating they're just checking out how

00:00:24,930 --> 00:00:30,029
am i doing today so that's that's going

00:00:26,279 --> 00:00:31,800
to be fun so let me check the other guys

00:00:30,029 --> 00:00:33,300
are you interested in getting to know

00:00:31,800 --> 00:00:35,280
how to get started with configuration

00:00:33,300 --> 00:00:37,380
management yes a lot of yes over there

00:00:35,280 --> 00:00:40,770
so that's pretty cool going to help you

00:00:37,380 --> 00:00:44,040
with that today sooner or later you're

00:00:40,770 --> 00:00:47,760
gonna have to explain to a non technical

00:00:44,040 --> 00:00:49,680
person like a manager or or team lead or

00:00:47,760 --> 00:00:51,600
maybe a colleague or something what

00:00:49,680 --> 00:00:53,640
configuration management actually does

00:00:51,600 --> 00:00:56,910
and that can be quite a challenge I know

00:00:53,640 --> 00:00:58,320
that from experience so I found this

00:00:56,910 --> 00:00:59,370
funny image that I'm going to about to

00:00:58,320 --> 00:01:02,059
show you that really helped me

00:00:59,370 --> 00:01:10,220
explaining configuration management to

00:01:02,059 --> 00:01:13,020
two managers what it actually does is

00:01:10,220 --> 00:01:14,280
when you have configured in

00:01:13,020 --> 00:01:16,430
configuration management the setting to

00:01:14,280 --> 00:01:19,409
be turned on and whatever happens

00:01:16,430 --> 00:01:22,110
somebody turns it off it will turn it

00:01:19,409 --> 00:01:23,850
off again just make sure it has a

00:01:22,110 --> 00:01:25,650
consistent state so that's actually

00:01:23,850 --> 00:01:27,150
quite funny and it's more complicated in

00:01:25,650 --> 00:01:31,140
real life of course but this this really

00:01:27,150 --> 00:01:32,610
helps in explaining the stuff so what

00:01:31,140 --> 00:01:34,590
are we going to talk about today the

00:01:32,610 --> 00:01:37,950
story today is about the why and the how

00:01:34,590 --> 00:01:39,900
of operation management I'm going to

00:01:37,950 --> 00:01:41,240
tell you three reasons why I think it

00:01:39,900 --> 00:01:44,220
makes perfect chance to use

00:01:41,240 --> 00:01:45,810
configuration management and then we're

00:01:44,220 --> 00:01:48,149
going to switch to how to actually do

00:01:45,810 --> 00:01:50,610
that because I've worked with different

00:01:48,149 --> 00:01:52,409
teams and usually they they say they

00:01:50,610 --> 00:01:54,149
have no time to do it so I'm going to

00:01:52,409 --> 00:01:57,119
help you get excited with that anyway

00:01:54,149 --> 00:01:59,670
and show you the five steps that you

00:01:57,119 --> 00:02:02,340
need to take to actually getting started

00:01:59,670 --> 00:02:05,790
but before we dive into that let me

00:02:02,340 --> 00:02:07,530
introduce my self my name is jamie beck

00:02:05,790 --> 00:02:09,209
smart i'm an engineer that loves

00:02:07,530 --> 00:02:11,360
building and managing infrastructure

00:02:09,209 --> 00:02:13,860
based on open source technologies and

00:02:11,360 --> 00:02:15,570
it's my goal to automate what

00:02:13,860 --> 00:02:17,550
can be automated so everything works

00:02:15,570 --> 00:02:19,560
rock solid and I have the time to

00:02:17,550 --> 00:02:21,750
explore new tools and techniques to do

00:02:19,560 --> 00:02:23,700
other stuff and the funny thing is that

00:02:21,750 --> 00:02:26,690
that usually results in even better

00:02:23,700 --> 00:02:28,950
automation so it's a win-win situation

00:02:26,690 --> 00:02:32,190
i'm from the netherlands which is in

00:02:28,950 --> 00:02:35,160
Europe and for the guys that they're not

00:02:32,190 --> 00:02:38,010
have other side of the world at the

00:02:35,160 --> 00:02:40,050
moment and I didn't bachelor in computer

00:02:38,010 --> 00:02:41,430
science and then worked at internet

00:02:40,050 --> 00:02:44,480
service providers and even at an

00:02:41,430 --> 00:02:47,430
semi-government of organization I

00:02:44,480 --> 00:02:49,590
started using CloudStack in early 2012

00:02:47,430 --> 00:02:52,170
and I really loved it ever since because

00:02:49,590 --> 00:02:54,209
it's a very cool product so nowadays i'm

00:02:52,170 --> 00:02:55,800
working at chabot Phyllis and the which

00:02:54,209 --> 00:02:57,600
is in mission-critical outsourcing

00:02:55,800 --> 00:02:59,520
company in the Netherlands and we're

00:02:57,600 --> 00:03:02,910
using cloud seg a lot over there as well

00:02:59,520 --> 00:03:05,030
for our mission critical environment so

00:03:02,910 --> 00:03:07,620
let's talk a little bit about CloudStack

00:03:05,030 --> 00:03:11,010
what I really like about cloudstack is

00:03:07,620 --> 00:03:13,410
that it has a very powerful API and in

00:03:11,010 --> 00:03:15,660
fact if you're using the UI all it does

00:03:13,410 --> 00:03:17,760
is sending the API calls for you so it's

00:03:15,660 --> 00:03:19,680
not something extra it's its core

00:03:17,760 --> 00:03:22,440
functionality and that makes it very

00:03:19,680 --> 00:03:25,470
powerful so anything you can do with the

00:03:22,440 --> 00:03:27,390
UI you can also do with the API and that

00:03:25,470 --> 00:03:29,670
allows you to create a kind of scripts

00:03:27,390 --> 00:03:31,680
to do automated deployment and to create

00:03:29,670 --> 00:03:34,410
a server teardown again create a network

00:03:31,680 --> 00:03:37,200
and everything that's needed and clouds

00:03:34,410 --> 00:03:38,940
egg is about the infrastructure its

00:03:37,200 --> 00:03:41,640
infrastructure as a service so it takes

00:03:38,940 --> 00:03:43,140
care about networking storage everything

00:03:41,640 --> 00:03:45,930
to get actually the server up and

00:03:43,140 --> 00:03:47,459
running but once you're there once the

00:03:45,930 --> 00:03:48,750
server is actually running you're pretty

00:03:47,459 --> 00:03:50,190
much on your own but plastic is not

00:03:48,750 --> 00:03:51,720
going to help you any much and you

00:03:50,190 --> 00:03:54,799
further because it's the infrastructure

00:03:51,720 --> 00:03:56,940
is all done and then you have to

00:03:54,799 --> 00:03:58,350
configure it manually or do some other

00:03:56,940 --> 00:04:00,030
smart stuff and that's of course

00:03:58,350 --> 00:04:03,540
configuration management so let me give

00:04:00,030 --> 00:04:05,640
you an example of how that looks I hope

00:04:03,540 --> 00:04:09,600
maybe you can do the little bit of

00:04:05,640 --> 00:04:13,500
lights the lego man down there let's see

00:04:09,600 --> 00:04:16,560
if this work oh sorry which is out there

00:04:13,500 --> 00:04:18,450
it's in sending an API call to the cloud

00:04:16,560 --> 00:04:19,799
tech environment he already has to

00:04:18,450 --> 00:04:21,269
service and now I want to have a new

00:04:19,799 --> 00:04:23,960
server so that served number three and

00:04:21,269 --> 00:04:27,190
he sent an API call in and says well men

00:04:23,960 --> 00:04:29,620
create me another server and then

00:04:27,190 --> 00:04:31,420
replies those are the blue lines well

00:04:29,620 --> 00:04:33,400
everything is done your server is

00:04:31,420 --> 00:04:35,140
booting and actually you can see it at

00:04:33,400 --> 00:04:37,800
the top over there you can add a boot a

00:04:35,140 --> 00:04:40,060
new server by an iso or template and

00:04:37,800 --> 00:04:41,260
then you kind of have to push the

00:04:40,060 --> 00:04:44,560
buttons because either you're gonna have

00:04:41,260 --> 00:04:46,240
to install manually or use the template

00:04:44,560 --> 00:04:48,490
then you end up with all kind of the

00:04:46,240 --> 00:04:50,500
same server so the point is when the

00:04:48,490 --> 00:04:53,080
cloud is about scalability and

00:04:50,500 --> 00:04:54,970
automation and and growing your

00:04:53,080 --> 00:04:56,710
environments it's not going to really

00:04:54,970 --> 00:04:58,830
make a lot of sense when you have to

00:04:56,710 --> 00:05:00,820
configure your service manually because

00:04:58,830 --> 00:05:02,530
now he's scaling from two to three

00:05:00,820 --> 00:05:04,810
service you're probably no problem to do

00:05:02,530 --> 00:05:06,730
it manually still a bad idea but anyway

00:05:04,810 --> 00:05:09,370
was what if you want to scale to 10 or

00:05:06,730 --> 00:05:12,150
100 maybe a thousand service it makes no

00:05:09,370 --> 00:05:14,410
sense in creating a thousand service

00:05:12,150 --> 00:05:15,940
manually how many people would you need

00:05:14,410 --> 00:05:17,170
to do that if you want to finish by the

00:05:15,940 --> 00:05:20,950
end of the day it's going to be

00:05:17,170 --> 00:05:23,560
impossible so the first reason is that

00:05:20,950 --> 00:05:27,130
many will work is not scalable it just

00:05:23,560 --> 00:05:36,520
doesn't scale so you shouldn't be doing

00:05:27,130 --> 00:05:38,310
it in the cloud environment also if you

00:05:36,520 --> 00:05:41,020
have a lot of men your work involved

00:05:38,310 --> 00:05:44,169
what if something fails we've in the

00:05:41,020 --> 00:05:46,120
industry try to come up with all kind of

00:05:44,169 --> 00:05:47,440
smart stuff to prevent failure from

00:05:46,120 --> 00:05:50,740
happen but let's face it eventually

00:05:47,440 --> 00:05:53,020
things are going to fail anyway so

00:05:50,740 --> 00:05:54,520
better prepare for that so if you have

00:05:53,020 --> 00:05:57,250
service running in the cloud and one of

00:05:54,520 --> 00:05:58,750
them fails or 20 of them fails and you

00:05:57,250 --> 00:06:00,760
have configured everything manually what

00:05:58,750 --> 00:06:03,700
are you going to do it can be a lot of

00:06:00,760 --> 00:06:05,740
time to actually recover from that so

00:06:03,700 --> 00:06:08,860
you deserve your disaster recovery times

00:06:05,740 --> 00:06:11,410
are going to be quite long it just takes

00:06:08,860 --> 00:06:13,600
too long if you have great management in

00:06:11,410 --> 00:06:16,330
place all you had to do is probably just

00:06:13,600 --> 00:06:18,040
use to API calls want to get rid of the

00:06:16,330 --> 00:06:20,260
old one and another one to create a new

00:06:18,040 --> 00:06:22,020
server configuration management kicks in

00:06:20,260 --> 00:06:26,610
and then you have your web server back

00:06:22,020 --> 00:06:33,460
so that really speeds up this stuff

00:06:26,610 --> 00:06:35,650
another side of the story is that to to

00:06:33,460 --> 00:06:37,930
use many of work you probably going to

00:06:35,650 --> 00:06:39,310
document a lot of stuff so if you create

00:06:37,930 --> 00:06:40,150
a new server like a new web server or

00:06:39,310 --> 00:06:42,130
something

00:06:40,150 --> 00:06:43,390
and you need to document what exactly

00:06:42,130 --> 00:06:46,360
you need to do because if you have three

00:06:43,390 --> 00:06:47,890
or four web service or 100 you configure

00:06:46,360 --> 00:06:49,290
them all manually how are you going to

00:06:47,890 --> 00:06:52,180
make sure they're all the same and

00:06:49,290 --> 00:06:53,680
usually installing the first couple of

00:06:52,180 --> 00:06:55,180
servers it's going to be fine but then

00:06:53,680 --> 00:06:57,700
later on there should change you need an

00:06:55,180 --> 00:06:59,290
extra module with something so then

00:06:57,700 --> 00:07:00,460
you're going to install an actual server

00:06:59,290 --> 00:07:02,440
and who's going to think about that one

00:07:00,460 --> 00:07:03,880
module that was installed later on

00:07:02,440 --> 00:07:05,170
probably going to forget about it and

00:07:03,880 --> 00:07:09,030
then that will lead to some other

00:07:05,170 --> 00:07:11,410
failure so who of you guys really likes

00:07:09,030 --> 00:07:14,350
writing documentation on exactly how

00:07:11,410 --> 00:07:16,780
your server is configured we like to

00:07:14,350 --> 00:07:18,910
update it and who likes to keep it

00:07:16,780 --> 00:07:20,770
consistent all the time i see no hands

00:07:18,910 --> 00:07:22,060
so probably you guys don't like it so

00:07:20,770 --> 00:07:23,740
there are probably know of today

00:07:22,060 --> 00:07:27,520
documentation so if you're doing a lot

00:07:23,740 --> 00:07:29,350
of men you work and something fails it's

00:07:27,520 --> 00:07:31,000
not going to really help you so if you

00:07:29,350 --> 00:07:35,620
figure out on the early stressed

00:07:31,000 --> 00:07:37,420
conditions how to do the recovery if you

00:07:35,620 --> 00:07:40,000
would use configuration management there

00:07:37,420 --> 00:07:41,530
was no need to write the documentation

00:07:40,000 --> 00:07:42,790
for your configuration because you're

00:07:41,530 --> 00:07:44,920
already documented in the configuration

00:07:42,790 --> 00:07:46,870
management tool so you're defining

00:07:44,920 --> 00:07:48,970
configuration management exactly how a

00:07:46,870 --> 00:07:50,830
server should look like what properties

00:07:48,970 --> 00:07:53,440
it has what uses what what's going to be

00:07:50,830 --> 00:07:54,910
installed etc and then it doesn't really

00:07:53,440 --> 00:07:56,980
matter if you create one ten or a

00:07:54,910 --> 00:07:59,590
hundred of them because it's all kind of

00:07:56,980 --> 00:08:03,370
be the same it's getting even better if

00:07:59,590 --> 00:08:05,020
you want to change settings later on so

00:08:03,370 --> 00:08:06,730
if you have this request to install

00:08:05,020 --> 00:08:07,960
extra modules you're going to update

00:08:06,730 --> 00:08:09,970
your configuration management

00:08:07,960 --> 00:08:11,830
documentation of the configuration

00:08:09,970 --> 00:08:13,480
management system and that will deploy

00:08:11,830 --> 00:08:15,160
it to all of your web servers even if

00:08:13,480 --> 00:08:18,040
they're offline or whatever it would

00:08:15,160 --> 00:08:20,020
just be the same so my point actually is

00:08:18,040 --> 00:08:21,910
you should really use configuration

00:08:20,020 --> 00:08:23,320
management when you're working in a

00:08:21,910 --> 00:08:26,560
cloud environment if you're working with

00:08:23,320 --> 00:08:28,450
clouds a governor clouds because it it

00:08:26,560 --> 00:08:31,600
just doesn't make sense to do it all

00:08:28,450 --> 00:08:34,510
manually so I'm going to tell you how

00:08:31,600 --> 00:08:40,360
exactly we're gonna are you can start

00:08:34,510 --> 00:08:43,180
using it but the thing is that usually

00:08:40,360 --> 00:08:45,040
people say they have no time to start

00:08:43,180 --> 00:08:47,530
using of Croatia management because they

00:08:45,040 --> 00:08:51,640
are too busy doing manual work I find

00:08:47,530 --> 00:08:52,730
that quite ironic actually so let's have

00:08:51,640 --> 00:08:55,550
a look at

00:08:52,730 --> 00:09:01,070
next picture this is probably the

00:08:55,550 --> 00:09:03,230
problem that we're facing and I actually

00:09:01,070 --> 00:09:08,810
think it's true we are probably too busy

00:09:03,230 --> 00:09:10,940
to improve and configuration management

00:09:08,810 --> 00:09:13,010
is not something new it is not invented

00:09:10,940 --> 00:09:15,260
last year or something the first version

00:09:13,010 --> 00:09:17,630
of chief engine written by Mark Burgess

00:09:15,260 --> 00:09:19,579
was released in 1993 so it's two decades

00:09:17,630 --> 00:09:21,139
ago that we have of gracious management

00:09:19,579 --> 00:09:22,820
of course the world changed a lot and

00:09:21,139 --> 00:09:25,940
things are different now that wasn't

00:09:22,820 --> 00:09:29,089
even a cloud back then but still we're

00:09:25,940 --> 00:09:31,399
not able to use it because a lot of

00:09:29,089 --> 00:09:34,610
things are still being doing manually so

00:09:31,399 --> 00:09:36,740
what we need to do is change a little

00:09:34,610 --> 00:09:42,190
bit of the priorities in your team's

00:09:36,740 --> 00:09:44,839
work so we can be going to change the

00:09:42,190 --> 00:09:46,190
lit be a little bit smarter in what what

00:09:44,839 --> 00:09:48,490
you're what you're doing in your team so

00:09:46,190 --> 00:09:52,430
that will really help you in getting

00:09:48,490 --> 00:09:54,260
started with this thing now the most

00:09:52,430 --> 00:09:55,519
frequently asked question about the

00:09:54,260 --> 00:09:59,089
configuration management stuff when I

00:09:55,519 --> 00:10:00,829
talk about that is usually which one is

00:09:59,089 --> 00:10:04,279
the best which tools should I choose

00:10:00,829 --> 00:10:07,579
which which one should I take one

00:10:04,279 --> 00:10:09,889
actually it's pretty much like this woo

00:10:07,579 --> 00:10:12,709
of those guys is the best you tell me it

00:10:09,889 --> 00:10:14,180
doesn't really matter they're all pretty

00:10:12,709 --> 00:10:16,160
good at what they're doing and this is

00:10:14,180 --> 00:10:18,110
the same with the configuration

00:10:16,160 --> 00:10:19,970
management tools as well any of the

00:10:18,110 --> 00:10:22,790
major tools is perfectly capable of

00:10:19,970 --> 00:10:25,220
delivering what did you do keeping up to

00:10:22,790 --> 00:10:26,870
date with your configuration so if you

00:10:25,220 --> 00:10:29,240
ask me it's more important to actually

00:10:26,870 --> 00:10:31,610
get started on this thing then to spend

00:10:29,240 --> 00:10:34,339
your time on try to figure out which one

00:10:31,610 --> 00:10:37,279
is the best and that can be specific

00:10:34,339 --> 00:10:39,260
situations where choices might be

00:10:37,279 --> 00:10:41,240
restricted I once worked in an

00:10:39,260 --> 00:10:43,610
organization that had a lot of java

00:10:41,240 --> 00:10:45,050
application servers and their memory had

00:10:43,610 --> 00:10:46,970
been tweaked and tuned and there wasn't

00:10:45,050 --> 00:10:48,560
much room for configuration management

00:10:46,970 --> 00:10:51,620
back then we weren't allowed to change

00:10:48,560 --> 00:10:53,149
anything but still had to implement it

00:10:51,620 --> 00:10:54,769
and then we looked at the memory

00:10:53,149 --> 00:10:56,839
footprint and it turned out that she of

00:10:54,769 --> 00:10:58,910
engine 3 had a very low memory footprint

00:10:56,839 --> 00:11:00,410
so that was an obvious choice to use

00:10:58,910 --> 00:11:02,329
back then it's a pretty good tool as

00:11:00,410 --> 00:11:04,310
well but if you have a greenfield

00:11:02,329 --> 00:11:06,140
situation if you can if you start using

00:11:04,310 --> 00:11:07,850
a cloud it doesn't really matter

00:11:06,140 --> 00:11:12,680
which one your color choose it's more

00:11:07,850 --> 00:11:16,310
important to actually get started so how

00:11:12,680 --> 00:11:18,320
are we going to start this thing like I

00:11:16,310 --> 00:11:21,170
said we need to be a little bit smarter

00:11:18,320 --> 00:11:24,440
in what things we do and our daily basis

00:11:21,170 --> 00:11:26,860
in our jobs and what I would advise you

00:11:24,440 --> 00:11:31,550
to do in the first step is to identify

00:11:26,860 --> 00:11:33,500
your what I call time either's and the

00:11:31,550 --> 00:11:36,830
time either is something that occurs on

00:11:33,500 --> 00:11:38,540
a regular basis that comes back a lot of

00:11:36,830 --> 00:11:40,930
times that you're spending your time on

00:11:38,540 --> 00:11:44,570
and getting actually nothing in return

00:11:40,930 --> 00:11:47,120
probably have like a list of problems

00:11:44,570 --> 00:11:50,870
that that have common solutions or that

00:11:47,120 --> 00:11:54,760
come back more more or less to give you

00:11:50,870 --> 00:11:58,070
an example of what i came across i

00:11:54,760 --> 00:12:00,940
worked in a team that had automated the

00:11:58,070 --> 00:12:03,260
deployment of service pretty well and

00:12:00,940 --> 00:12:06,050
one of the things I've got installed was

00:12:03,260 --> 00:12:07,670
a postfix mailer pretty basic it was

00:12:06,050 --> 00:12:10,580
there were just five applications at

00:12:07,670 --> 00:12:12,410
presenting email and then there was an

00:12:10,580 --> 00:12:14,720
error in the configuration but it didn't

00:12:12,410 --> 00:12:16,610
really figure it out unless and until

00:12:14,720 --> 00:12:17,750
they have deployed a couple of hundreds

00:12:16,610 --> 00:12:21,380
of those service already and they

00:12:17,750 --> 00:12:23,630
couldn't just replace them all so they

00:12:21,380 --> 00:12:25,550
quickly fixed the the installation

00:12:23,630 --> 00:12:28,340
procedure show Neil servers got now the

00:12:25,550 --> 00:12:31,130
correct configuration deployed so that

00:12:28,340 --> 00:12:32,300
worked and the others they actually

00:12:31,130 --> 00:12:33,920
didn't do anything about it it just

00:12:32,300 --> 00:12:35,840
would wait for calls to pop it so

00:12:33,920 --> 00:12:38,630
actually we have like two or three calls

00:12:35,840 --> 00:12:39,890
every day say hey man if I try to send

00:12:38,630 --> 00:12:42,650
an email with this application is not

00:12:39,890 --> 00:12:44,990
working could you have a look but it

00:12:42,650 --> 00:12:46,370
came back very often and what we had to

00:12:44,990 --> 00:12:48,860
do was just associate to the server

00:12:46,370 --> 00:12:51,080
become root and changed postfix reload

00:12:48,860 --> 00:12:53,000
but but since this was a ticket we also

00:12:51,080 --> 00:12:54,350
had to communicate with the user test

00:12:53,000 --> 00:12:55,910
and verify if everything was working

00:12:54,350 --> 00:12:57,650
then bright hours close to take it all

00:12:55,910 --> 00:13:00,530
correct craft so that took a lot of time

00:12:57,650 --> 00:13:02,480
and that really was a time either so you

00:13:00,530 --> 00:13:06,200
should get rid of those kind of gana

00:13:02,480 --> 00:13:08,690
stuff I would advise you to look at

00:13:06,200 --> 00:13:10,760
let's say the top five of your time

00:13:08,690 --> 00:13:12,800
maybe sit top five of the problems that

00:13:10,760 --> 00:13:16,010
occurred most often in your organization

00:13:12,800 --> 00:13:18,260
or that take the most time because this

00:13:16,010 --> 00:13:19,820
top five we can a quick fix we're going

00:13:18,260 --> 00:13:21,680
to think of something that

00:13:19,820 --> 00:13:25,220
to get rid of them and in the post fix

00:13:21,680 --> 00:13:27,380
example I just gave you we just wrote a

00:13:25,220 --> 00:13:29,060
quick batch script it took two or three

00:13:27,380 --> 00:13:30,920
hours to figure out what exactly had to

00:13:29,060 --> 00:13:32,510
be changed all the exceptions in the

00:13:30,920 --> 00:13:34,700
different environments and then run a

00:13:32,510 --> 00:13:37,250
temper we're done so that had a very

00:13:34,700 --> 00:13:39,860
quick return on investment so sometimes

00:13:37,250 --> 00:13:43,750
it's not that easy just to figure it out

00:13:39,860 --> 00:13:48,320
and to stop doing all this manual stuff

00:13:43,750 --> 00:13:49,850
another quick fix usually is to install

00:13:48,320 --> 00:13:51,200
the latest patch levels everywhere

00:13:49,850 --> 00:13:53,300
because probably you're going to hit

00:13:51,200 --> 00:13:54,800
bugs that are already been solved so

00:13:53,300 --> 00:13:56,240
it's quite useless by working around

00:13:54,800 --> 00:13:58,580
them or debugging everything well

00:13:56,240 --> 00:14:00,110
actually installing those it's going to

00:13:58,580 --> 00:14:02,270
save you a lot of time as well seeing

00:14:00,110 --> 00:14:08,180
that happening it's a real time either

00:14:02,270 --> 00:14:10,610
of and time saver just to fix it so now

00:14:08,180 --> 00:14:12,590
that you're working with that with the

00:14:10,610 --> 00:14:15,560
time eater there's of course you're

00:14:12,590 --> 00:14:16,790
working with your team and to see what's

00:14:15,560 --> 00:14:18,560
actually going on but you probably have

00:14:16,790 --> 00:14:20,510
users as well that you're using their

00:14:18,560 --> 00:14:22,910
systems and it's interesting to involve

00:14:20,510 --> 00:14:25,430
them in the process because that that

00:14:22,910 --> 00:14:28,130
might lead to unexpected positive

00:14:25,430 --> 00:14:30,500
results so then we got the users so what

00:14:28,130 --> 00:14:34,520
we did in involving them was just as

00:14:30,500 --> 00:14:37,210
well how can we make this easier for for

00:14:34,520 --> 00:14:40,910
you by using our systems and one guy

00:14:37,210 --> 00:14:43,040
came up and said well you know we have

00:14:40,910 --> 00:14:44,780
five different flavors of Linux running

00:14:43,040 --> 00:14:46,340
so every time I log into a server i

00:14:44,780 --> 00:14:48,050
first have to figure out which which

00:14:46,340 --> 00:14:49,280
flavor this is running and don't worry I

00:14:48,050 --> 00:14:51,560
know how to do that and grab some

00:14:49,280 --> 00:14:55,010
searches and stuff but it's it's boring

00:14:51,560 --> 00:14:57,830
it doesn't really make sense so can we

00:14:55,010 --> 00:14:59,180
fix that and actually at the time we

00:14:57,830 --> 00:15:01,130
didn't even realize that it would save

00:14:59,180 --> 00:15:02,690
time later on because but because it was

00:15:01,130 --> 00:15:04,400
only in configuration management like 10

00:15:02,690 --> 00:15:06,440
or 20 lines of code to actually come up

00:15:04,400 --> 00:15:09,770
with something to fix it because what we

00:15:06,440 --> 00:15:11,870
did was create a message of the day that

00:15:09,770 --> 00:15:14,960
actually would say hey you're on red at

00:15:11,870 --> 00:15:17,270
6.5 this is a production server so you

00:15:14,960 --> 00:15:19,340
probably should it not be here and then

00:15:17,270 --> 00:15:21,200
this is a virtual machine and some other

00:15:19,340 --> 00:15:23,750
extra information and that really make

00:15:21,200 --> 00:15:26,180
made our users happy and you know why

00:15:23,750 --> 00:15:28,460
this actually save time because we used

00:15:26,180 --> 00:15:30,470
to get a lot of calls it says well you

00:15:28,460 --> 00:15:32,630
know this is kind of weird but sometimes

00:15:30,470 --> 00:15:33,379
it works and then sometimes it doesn't

00:15:32,630 --> 00:15:36,529
we don't know could you

00:15:33,379 --> 00:15:39,139
have a look with a certain problem and

00:15:36,529 --> 00:15:41,029
when once we had implemented this kind

00:15:39,139 --> 00:15:43,039
of stuff will be what good calls like

00:15:41,029 --> 00:15:45,049
hey it's working on right at five but

00:15:43,039 --> 00:15:47,809
not on Redick six could you fee please

00:15:45,049 --> 00:15:50,329
fix it so it really it narrowed down the

00:15:47,809 --> 00:15:52,729
information only by presenting it to the

00:15:50,329 --> 00:15:56,089
user it's safe time in figuring out what

00:15:52,729 --> 00:16:01,359
exactly they were meaning and how we got

00:15:56,089 --> 00:16:04,339
to fix it so let's go back to the steps

00:16:01,359 --> 00:16:06,949
so we where we have quick fix some

00:16:04,339 --> 00:16:08,479
issues we've evolved users and save some

00:16:06,949 --> 00:16:10,519
time with that so it's about time to

00:16:08,479 --> 00:16:13,069
implement configuration management so

00:16:10,519 --> 00:16:15,529
big one of your tools the tools that are

00:16:13,069 --> 00:16:18,739
available and get started it might be

00:16:15,529 --> 00:16:20,809
wise to do some some like a one-day

00:16:18,739 --> 00:16:23,029
training or get a seminar or whatever to

00:16:20,809 --> 00:16:25,309
get things rolling and started because

00:16:23,029 --> 00:16:28,549
that really speeds up the knowledge that

00:16:25,309 --> 00:16:30,289
you have you can also choose tools that

00:16:28,549 --> 00:16:32,359
are people you know are using so if

00:16:30,289 --> 00:16:34,069
somebody you know is using puppet or

00:16:32,359 --> 00:16:35,449
chef chu's the same tool because you can

00:16:34,069 --> 00:16:39,319
work together and learn from each other

00:16:35,449 --> 00:16:40,939
that's going to help you very much so

00:16:39,319 --> 00:16:43,309
then what I would advise you to do is

00:16:40,939 --> 00:16:46,220
create a baseline and a baseline is a

00:16:43,309 --> 00:16:48,559
set of configuration items like maybe

00:16:46,220 --> 00:16:51,139
five different items that are more or

00:16:48,559 --> 00:16:53,479
less the same on all of your servers so

00:16:51,139 --> 00:16:54,889
you can think of the root passwords if

00:16:53,479 --> 00:16:56,239
you have linux servers every every

00:16:54,889 --> 00:16:57,769
server the root password so you can

00:16:56,239 --> 00:17:00,049
manage it with configuration management

00:16:57,769 --> 00:17:02,359
you can manage the ssh configuration

00:17:00,049 --> 00:17:04,159
that's pretty much the same you should

00:17:02,359 --> 00:17:05,529
disable root legate logins if you ask me

00:17:04,159 --> 00:17:08,480
now that you're working on that

00:17:05,529 --> 00:17:10,669
implement to do and to ntp

00:17:08,480 --> 00:17:13,129
configurations all kind of generic easy

00:17:10,669 --> 00:17:15,829
stuff like that it's nice to get started

00:17:13,129 --> 00:17:19,789
with because it's either on all of your

00:17:15,829 --> 00:17:21,769
servers so you you have a very very big

00:17:19,789 --> 00:17:25,189
reach on that and what also happens is

00:17:21,769 --> 00:17:27,259
that you those are not too easy not too

00:17:25,189 --> 00:17:29,840
difficult to start with I mean the ssh

00:17:27,259 --> 00:17:33,080
configurations isn't too hard so start

00:17:29,840 --> 00:17:35,559
with the easy stuff and that's that's

00:17:33,080 --> 00:17:37,940
what i call the creating the baseline

00:17:35,559 --> 00:17:39,080
when you're creating the baseline and

00:17:37,940 --> 00:17:40,669
getting started with cough gracious

00:17:39,080 --> 00:17:42,320
management please bear in mind that you

00:17:40,669 --> 00:17:43,850
always shoot first in your code so

00:17:42,320 --> 00:17:45,470
implement get or some other tool that

00:17:43,850 --> 00:17:46,630
you would like to use for that and get

00:17:45,470 --> 00:17:48,970
started with version

00:17:46,630 --> 00:17:51,250
control because this is getting very

00:17:48,970 --> 00:17:52,540
powerful and if you have no idea what's

00:17:51,250 --> 00:17:55,960
going to change what change in your

00:17:52,540 --> 00:17:58,120
environment well you're pretty blind in

00:17:55,960 --> 00:18:00,160
your infrastructure in your service so

00:17:58,120 --> 00:18:03,070
always use version control and you can

00:18:00,160 --> 00:18:05,530
you can make it as complex if you want

00:18:03,070 --> 00:18:07,780
and if you use one of the enterprise

00:18:05,530 --> 00:18:10,570
tools this is very nicely integrated but

00:18:07,780 --> 00:18:12,760
you can also build it yourself always

00:18:10,570 --> 00:18:17,110
first in your core code very important

00:18:12,760 --> 00:18:20,260
so then it's time to scale and i would

00:18:17,110 --> 00:18:23,440
start scaling the baseline out to all of

00:18:20,260 --> 00:18:26,050
your servers so start with a few then

00:18:23,440 --> 00:18:28,180
add more and try to reach 100 percent if

00:18:26,050 --> 00:18:30,670
you can do it in a few exemptions then

00:18:28,180 --> 00:18:33,250
that's okay but try to reach the

00:18:30,670 --> 00:18:34,690
baseline and all of your servers and the

00:18:33,250 --> 00:18:36,730
good thing about that is that it

00:18:34,690 --> 00:18:38,560
actually creates a very powerful tool

00:18:36,730 --> 00:18:40,510
from that point on because the next

00:18:38,560 --> 00:18:42,700
thing we're going to do is to scale up

00:18:40,510 --> 00:18:44,290
we're going to add configuration items

00:18:42,700 --> 00:18:48,010
to the mix and we're going to make sure

00:18:44,290 --> 00:18:49,690
that we add new stuff so to refer back

00:18:48,010 --> 00:18:51,970
to the post fixed configuration we quick

00:18:49,690 --> 00:18:54,850
fix that pretty ugly and the next step

00:18:51,970 --> 00:18:56,110
is to scale up to add configure the

00:18:54,850 --> 00:18:59,170
configuration management code for

00:18:56,110 --> 00:19:01,180
postfix so that everything would be kept

00:18:59,170 --> 00:19:02,710
the same and once the relay had to be

00:19:01,180 --> 00:19:04,570
changed again it would be just won't

00:19:02,710 --> 00:19:07,810
commit we had to deploy it and it would

00:19:04,570 --> 00:19:11,470
be fun so that's very important and this

00:19:07,810 --> 00:19:16,060
is how you can eventually automate

00:19:11,470 --> 00:19:19,330
almost everything and if you start with

00:19:16,060 --> 00:19:20,860
the most common configuration item so if

00:19:19,330 --> 00:19:22,720
you have a lot of web servers it makes

00:19:20,860 --> 00:19:25,060
sense you start with apache or nginx or

00:19:22,720 --> 00:19:26,380
whatever you're using and then that's

00:19:25,060 --> 00:19:28,720
going to save a lot of time the more

00:19:26,380 --> 00:19:30,700
difficult stuff you can safely put on

00:19:28,720 --> 00:19:34,960
the end of your list because you can

00:19:30,700 --> 00:19:37,450
save a lot of time already and then you

00:19:34,960 --> 00:19:38,860
have the time to build that so

00:19:37,450 --> 00:19:40,750
eventually this is going to lead to the

00:19:38,860 --> 00:19:43,660
situation that you have full control of

00:19:40,750 --> 00:19:46,210
your situation and at you I can relax

00:19:43,660 --> 00:19:47,710
because everything is how to make it you

00:19:46,210 --> 00:19:50,700
just have to watch a few things and then

00:19:47,710 --> 00:19:54,730
everything is going to be very much fun

00:19:50,700 --> 00:19:57,040
the other side of the story is that well

00:19:54,730 --> 00:19:58,890
to be honest you might get bored because

00:19:57,040 --> 00:20:01,590
everything is automated

00:19:58,890 --> 00:20:03,060
so what you should do is then refine

00:20:01,590 --> 00:20:06,290
your goals and look for new challenges

00:20:03,060 --> 00:20:08,670
and watch for other things to do and

00:20:06,290 --> 00:20:10,890
when I was at the previous clouds a

00:20:08,670 --> 00:20:13,320
collaboration conference in Amsterdam I

00:20:10,890 --> 00:20:14,640
attended to talk by Chris berry tart and

00:20:13,320 --> 00:20:17,040
he was talking about the future of

00:20:14,640 --> 00:20:19,290
system administration and in this talk

00:20:17,040 --> 00:20:23,070
he quoted someone from google that said

00:20:19,290 --> 00:20:26,940
every 18 months you should automatically

00:20:23,070 --> 00:20:29,070
up which i think is very cool and you

00:20:26,940 --> 00:20:32,220
should not worry too much about the your

00:20:29,070 --> 00:20:33,270
job part because it tries to say that

00:20:32,220 --> 00:20:35,550
whatever it is that you're doing

00:20:33,270 --> 00:20:37,440
manually today you probably shouldn't be

00:20:35,550 --> 00:20:39,780
doing in 18 months from now so that upd

00:20:37,440 --> 00:20:41,880
goal in doing that and by doing that

00:20:39,780 --> 00:20:44,520
you'll you'll see your job will involve

00:20:41,880 --> 00:20:46,080
to be more interesting actually so

00:20:44,520 --> 00:20:47,670
people think they will lose their job

00:20:46,080 --> 00:20:50,610
but in fact all what happens is that you

00:20:47,670 --> 00:20:56,690
get a more interesting job in return so

00:20:50,610 --> 00:20:59,340
that's pretty cool to do so let me recap

00:20:56,690 --> 00:21:02,850
the five steps to start using

00:20:59,340 --> 00:21:05,100
configuration management first identify

00:21:02,850 --> 00:21:08,520
the time leaders then we kind of quick

00:21:05,100 --> 00:21:09,870
fix those to create time to actually

00:21:08,520 --> 00:21:11,820
implement configuration management

00:21:09,870 --> 00:21:14,970
that's a third step start with a

00:21:11,820 --> 00:21:17,700
baseline try to keep it easy and get it

00:21:14,970 --> 00:21:19,770
actually started then scale out to all

00:21:17,700 --> 00:21:21,450
of your servers make sure every server

00:21:19,770 --> 00:21:23,550
is going to run of a gration management

00:21:21,450 --> 00:21:26,370
and then the real fun part starts to add

00:21:23,550 --> 00:21:29,160
more items to the mix to reach the final

00:21:26,370 --> 00:21:32,430
destination full control so that's going

00:21:29,160 --> 00:21:35,030
to be fun there's one more extra thing

00:21:32,430 --> 00:21:38,400
that I want to stress out one more time

00:21:35,030 --> 00:21:39,660
whatever happens you should really use

00:21:38,400 --> 00:21:41,490
configuration management because I

00:21:39,660 --> 00:21:45,450
believe this is the only way forward

00:21:41,490 --> 00:21:47,010
this is the way to do it until people

00:21:45,450 --> 00:21:48,690
that do a lot of manual work still

00:21:47,010 --> 00:21:51,270
please spread the word tell them they

00:21:48,690 --> 00:21:57,650
should stop doing that because really it

00:21:51,270 --> 00:22:00,150
doesn't make sense so that was the story

00:21:57,650 --> 00:22:02,940
for today if you want to get in touch

00:22:00,150 --> 00:22:04,950
you can either come talk to me or follow

00:22:02,940 --> 00:22:08,430
me on twitter i will post the slides

00:22:04,950 --> 00:22:10,080
soon so we can look at them again in

00:22:08,430 --> 00:22:11,580
fact I have automated that part as well

00:22:10,080 --> 00:22:12,300
so probably there should be a tweet

00:22:11,580 --> 00:22:13,980
flying by

00:22:12,300 --> 00:22:15,570
anytime sooner if I got the time zones

00:22:13,980 --> 00:22:19,230
right so we're going to see about that

00:22:15,570 --> 00:22:20,730
and you can also gonna talk to me later

00:22:19,230 --> 00:22:22,470
on I'll be around for a couple of days

00:22:20,730 --> 00:22:26,420
and maybe somebody has a question

00:22:22,470 --> 00:22:37,280
already right now so feel free to do so

00:22:26,420 --> 00:22:46,790
thanks for me remy is perfectly on time

00:22:37,280 --> 00:22:48,990
questions I just won't step 5 relax okay

00:22:46,790 --> 00:22:54,650
questions it's the fifth place anyway so

00:22:48,990 --> 00:22:54,650
we can watch was perfectly clear I guess

00:22:58,280 --> 00:23:03,930
so you wanted out about the automation

00:23:00,690 --> 00:23:06,480
tricks or Twitter as an API so you could

00:23:03,930 --> 00:23:08,220
talk to it while you know they're so

00:23:06,480 --> 00:23:10,110
have a tough ever tough one for you you

00:23:08,220 --> 00:23:12,360
just joined shoe breakfast who is a

00:23:10,110 --> 00:23:15,090
pretty good configuration management

00:23:12,360 --> 00:23:18,720
DevOps shop yes what do you think they

00:23:15,090 --> 00:23:23,160
are doing wrong what are doing wrong

00:23:18,720 --> 00:23:24,300
well we will type anyway you're going

00:23:23,160 --> 00:23:26,460
all over the world so I can safely say

00:23:24,300 --> 00:23:29,700
that when one thing that you think that

00:23:26,460 --> 00:23:32,430
you know should be when things start

00:23:29,700 --> 00:23:35,850
become more complicated I thought about

00:23:32,430 --> 00:23:37,770
using it as a version control system and

00:23:35,850 --> 00:23:39,720
then it's in it's very basic you can

00:23:37,770 --> 00:23:41,490
just use one branch and then at least

00:23:39,720 --> 00:23:44,010
have a track record of what's going on

00:23:41,490 --> 00:23:46,320
and I think where we can improve is

00:23:44,010 --> 00:23:48,540
maybe use a little bit more branches and

00:23:46,320 --> 00:23:51,330
have some extra testing may be at unit

00:23:48,540 --> 00:23:53,370
tests of stuff to automate when what

00:23:51,330 --> 00:23:55,500
somebody changes your thing and it goes

00:23:53,370 --> 00:23:56,970
for example wrong you want to want to

00:23:55,500 --> 00:23:59,070
you want to know before it every its

00:23:56,970 --> 00:24:02,120
production so I think that's one of the

00:23:59,070 --> 00:24:09,260
areas where we can where we can improve

00:24:02,120 --> 00:24:09,260
cool one question also

00:24:52,990 --> 00:24:57,770
so if I understand you correctly you're

00:24:55,400 --> 00:24:59,510
you're saying well when I'm using chief

00:24:57,770 --> 00:25:00,830
engine it's actually a process with

00:24:59,510 --> 00:25:02,510
throwing in the background say every

00:25:00,830 --> 00:25:04,280
five minutes or maybe 15 you can

00:25:02,510 --> 00:25:05,720
configure it actually so when you deploy

00:25:04,280 --> 00:25:11,410
server you gotta wait five minutes for

00:25:05,720 --> 00:25:17,000
it to kick in what we did actually was

00:25:11,410 --> 00:25:19,730
using the user user data in cloud sector

00:25:17,000 --> 00:25:21,920
kuechly you can provide data at to the

00:25:19,730 --> 00:25:23,510
vm at the pointer to retreat when you're

00:25:21,920 --> 00:25:26,000
deploying it so you're sending an api

00:25:23,510 --> 00:25:27,140
call to create it and you put in an

00:25:26,000 --> 00:25:29,240
extra field it's going to be a web

00:25:27,140 --> 00:25:31,520
server and then we had an in the

00:25:29,240 --> 00:25:33,710
template we had an an init script that

00:25:31,520 --> 00:25:35,150
would pop up immediately when when

00:25:33,710 --> 00:25:37,580
you're booting it was reading that

00:25:35,150 --> 00:25:40,250
information and kick off c of engine to

00:25:37,580 --> 00:25:43,250
actually or share for whatever to have

00:25:40,250 --> 00:25:44,690
it configured it immediately so then the

00:25:43,250 --> 00:25:46,580
five minute interval would only start

00:25:44,690 --> 00:25:49,280
after its first configuration and then

00:25:46,580 --> 00:25:51,050
it would already already be in line so

00:25:49,280 --> 00:25:53,720
that's an interesting thing to to do

00:25:51,050 --> 00:25:56,210
because the user data can be read from

00:25:53,720 --> 00:25:57,860
cloud seg one server is bullitt so then

00:25:56,210 --> 00:25:59,870
you can at least give some information

00:25:57,860 --> 00:26:02,030
and got some data to it you're supposed

00:25:59,870 --> 00:26:03,410
to do this or supposed to do that it's

00:26:02,030 --> 00:26:06,530
different when you're for example using

00:26:03,410 --> 00:26:08,420
chef because chef allows you to use

00:26:06,530 --> 00:26:10,070
force important the cloud tech night bug

00:26:08,420 --> 00:26:12,230
in that actually is able to talk

00:26:10,070 --> 00:26:14,360
directly to the vm once it's being

00:26:12,230 --> 00:26:17,150
creative so that that's not a way of

00:26:14,360 --> 00:26:19,280
doing it so that you're just combine the

00:26:17,150 --> 00:26:22,660
tools that are available and make it one

00:26:19,280 --> 00:26:22,660
automated process

00:26:22,870 --> 00:26:28,460
cool great well thanks again Remy and

00:26:25,670 --> 00:26:31,180
let's go get a drink and take a brick

00:26:28,460 --> 00:26:31,180

YouTube URL: https://www.youtube.com/watch?v=xOIZE-2_Cq8


