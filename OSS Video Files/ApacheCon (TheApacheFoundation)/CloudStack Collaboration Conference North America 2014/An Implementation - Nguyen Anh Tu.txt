Title: An Implementation - Nguyen Anh Tu
Publication date: 2014-04-25
Playlist: CloudStack Collaboration Conference North America 2014
Description: 
	CloudStack Collaboration Conference North America 2014
Captions: 
	00:00:00,410 --> 00:00:07,049
okay let's talk and in the end of this

00:00:04,440 --> 00:00:09,630
session I will show you a short

00:00:07,049 --> 00:00:14,150
demonstration about how to eat run

00:00:09,630 --> 00:00:14,150
docker in a bow chica sack

00:00:22,580 --> 00:00:35,290
ok so r afternoon I'm coming Turner and

00:00:29,750 --> 00:00:39,199
today we taught my try to make a shot

00:00:35,290 --> 00:00:46,070
implementation using docker to Apache

00:00:39,199 --> 00:00:50,180
CloudStack as a new hypervisor maitake

00:00:46,070 --> 00:00:52,910
about the short introduction well darker

00:00:50,180 --> 00:00:58,420
but how many of you know about the

00:00:52,910 --> 00:01:00,949
doctor many so I will not talk any

00:00:58,420 --> 00:01:03,229
nothing to Motherwell the introduction I

00:01:00,949 --> 00:01:07,490
we talked a little bit of wise old magic

00:01:03,229 --> 00:01:09,799
and about the documentation in OpenStack

00:01:07,490 --> 00:01:15,070
and so what should I do with CloudStack

00:01:09,799 --> 00:01:15,070
and an example from a purchased a toast

00:01:15,250 --> 00:01:23,119
ok so you know you know that the doctor

00:01:19,790 --> 00:01:26,630
will provision the containers or contain

00:01:23,119 --> 00:01:30,040
no different with VM you see in the

00:01:26,630 --> 00:01:33,400
picture that vm have already the

00:01:30,040 --> 00:01:37,370
separate guest OS and by the real

00:01:33,400 --> 00:01:43,490
libraries and obligation but container

00:01:37,370 --> 00:01:47,050
it also interlaced Bashar OS and you may

00:01:43,490 --> 00:01:51,470
be saved by no real library so it's

00:01:47,050 --> 00:01:56,900
definitely faster muscly overhead is the

00:01:51,470 --> 00:02:00,170
immigration and faster provision so the

00:01:56,900 --> 00:02:05,710
molly positing that I see in dr. is

00:02:00,170 --> 00:02:09,979
either like waste you see that container

00:02:05,710 --> 00:02:13,370
for my region is it shared host OS and

00:02:09,979 --> 00:02:19,819
shared winery and library so is very

00:02:13,370 --> 00:02:22,370
lightweight and I give a shot the basic

00:02:19,819 --> 00:02:25,909
optical system the several way that you

00:02:22,370 --> 00:02:28,190
can be off a container as you can view

00:02:25,909 --> 00:02:32,200
from the doc you fight it will be a

00:02:28,190 --> 00:02:36,849
famous feature from dhaka and you can

00:02:32,200 --> 00:02:43,970
pour input from the doctor repository

00:02:36,849 --> 00:02:47,810
and it's quite good in in the term of

00:02:43,970 --> 00:02:51,349
you guess only different from between

00:02:47,810 --> 00:02:53,659
the two the container for example you

00:02:51,349 --> 00:02:55,760
have one based continuum is and you have

00:02:53,659 --> 00:02:58,190
some chain to be use to continue a

00:02:55,760 --> 00:03:00,739
except some another chain to build a

00:02:58,190 --> 00:03:04,040
container be so put to the repository

00:03:00,739 --> 00:03:06,980
right so when do you run content a and

00:03:04,040 --> 00:03:09,590
you willing to pull the container

00:03:06,980 --> 00:03:16,640
business Jesus guess only the different

00:03:09,590 --> 00:03:20,319
it's look like gear right and talk about

00:03:16,640 --> 00:03:24,409
the implementation darker in OpenStack

00:03:20,319 --> 00:03:28,010
here you can see that that is the worst

00:03:24,409 --> 00:03:30,650
of a sec do with the darker Italy they

00:03:28,010 --> 00:03:35,989
build the doctor with a PR a locker

00:03:30,650 --> 00:03:39,200
first driver and then from Nova called

00:03:35,989 --> 00:03:43,660
the command to the dr driver and they

00:03:39,200 --> 00:03:47,680
send the HTTP request to darker service

00:03:43,660 --> 00:03:50,389
to provision the container and they also

00:03:47,680 --> 00:03:54,919
implemented the private repository to

00:03:50,389 --> 00:03:58,549
stall the image and they single I with

00:03:54,919 --> 00:04:02,419
the Glen so look inside the

00:03:58,549 --> 00:04:07,040
implementation in OpenStack is us only

00:04:02,419 --> 00:04:13,060
some simple Python five name clients p

00:04:07,040 --> 00:04:16,430
eyes and drivers HP I and they use

00:04:13,060 --> 00:04:21,590
client dot P I is the darker client to

00:04:16,430 --> 00:04:25,310
call it to make HTTP request to Sadako

00:04:21,590 --> 00:04:29,690
services SEO API version for a 10 for

00:04:25,310 --> 00:04:32,120
some basic can function this create a

00:04:29,690 --> 00:04:35,810
stop container PS inspection mission

00:04:32,120 --> 00:04:40,070
postponed from repository and rival II

00:04:35,810 --> 00:04:45,320
actually the darker driver you can see

00:04:40,070 --> 00:04:48,469
yes a function for provisioning and

00:04:45,320 --> 00:04:49,700
snapshot the instant setup network he

00:04:48,469 --> 00:04:53,660
very

00:04:49,700 --> 00:04:55,610
potent component in when do you

00:04:53,660 --> 00:04:59,060
implement dark curls you have to set up

00:04:55,610 --> 00:05:01,610
the network record that when you do

00:04:59,060 --> 00:05:02,990
integration for example of a stack of

00:05:01,610 --> 00:05:05,780
class like already have a network

00:05:02,990 --> 00:05:07,820
operation and the doctor already have

00:05:05,780 --> 00:05:13,730
the network authorization and when you

00:05:07,820 --> 00:05:17,510
come by you will get conflict so okay so

00:05:13,730 --> 00:05:27,320
i will talk further in class I creepy

00:05:17,510 --> 00:05:32,080
lamentation now how the thing that is

00:05:27,320 --> 00:05:32,080
should be a better combination right

00:05:32,260 --> 00:05:40,660
what should i do i implement the same

00:05:36,590 --> 00:05:44,390
way with the OpenStack but some

00:05:40,660 --> 00:05:48,670
interesting in e-payment the virtual

00:05:44,390 --> 00:05:51,670
router as the container for network

00:05:48,670 --> 00:05:58,760
alterations and neighbors lyst services

00:05:51,670 --> 00:06:05,660
is also have dr. resource and as a slice

00:05:58,760 --> 00:06:08,950
appear in here is the doctor attp

00:06:05,660 --> 00:06:14,150
request to request to the darker

00:06:08,950 --> 00:06:17,170
services and one thing do you have to

00:06:14,150 --> 00:06:21,410
config in Asia manager is new update the

00:06:17,170 --> 00:06:26,170
Asian property files you have to figure

00:06:21,410 --> 00:06:29,030
out this title hypervisor time Joker and

00:06:26,170 --> 00:06:35,180
the result it automatically update for

00:06:29,030 --> 00:06:41,080
use to register templates in clouds like

00:06:35,180 --> 00:06:44,390
I i use three why you see that we can

00:06:41,080 --> 00:06:50,960
register template form a repositories we

00:06:44,390 --> 00:06:56,270
miss or occupy or sapphire Tabone yeah

00:06:50,960 --> 00:07:00,020
in negotiation that I when integrates

00:06:56,270 --> 00:07:03,030
darker to as a new hypervisor in class

00:07:00,020 --> 00:07:06,210
like I disabled the neck

00:07:03,030 --> 00:07:10,310
Jason from the darker that's why I spent

00:07:06,210 --> 00:07:12,960
a container in the network list mode and

00:07:10,310 --> 00:07:15,300
class i already have IP address

00:07:12,960 --> 00:07:18,420
alligators you know that and neighbor

00:07:15,300 --> 00:07:22,350
services will be done from the waiter

00:07:18,420 --> 00:07:28,380
outer container and I use my pretty good

00:07:22,350 --> 00:07:33,090
the script name PI work to pluck the

00:07:28,380 --> 00:07:41,010
container to some brick and allocated I

00:07:33,090 --> 00:07:45,420
p.m. res here the more detail about the

00:07:41,010 --> 00:07:48,530
doctor HTTP request from dr. hypervisor

00:07:45,420 --> 00:07:53,540
hast you have to run the Joker services

00:07:48,530 --> 00:07:59,990
listening on some specific tcp port

00:07:53,540 --> 00:08:08,300
first I buy you five f of X and in the

00:07:59,990 --> 00:08:13,110
taco colon here you specify the URLs and

00:08:08,300 --> 00:08:17,000
create the darker client for example for

00:08:13,110 --> 00:08:21,990
lease law in fact inspecting mist and

00:08:17,000 --> 00:08:24,170
for provisioning container or you can

00:08:21,990 --> 00:08:32,510
view from the doctor file you can upload

00:08:24,170 --> 00:08:32,510
on the top right me sane yeah

00:08:32,900 --> 00:08:43,070
yeah this work very stressful for me

00:08:39,430 --> 00:08:46,720
it's ton of trick when I adding the

00:08:43,070 --> 00:08:49,960
darker as new hypervisor to class like

00:08:46,720 --> 00:08:53,780
football I grace new plug-in named

00:08:49,960 --> 00:08:56,900
hypervisor darker had to rise the dock

00:08:53,780 --> 00:09:01,070
resource drug abuse no server Discoverer

00:08:56,900 --> 00:09:04,790
I have to write darker a TDP request and

00:09:01,070 --> 00:09:08,710
update some clouds i set up asian phi i

00:09:04,790 --> 00:09:12,230
used the same way with kvm hypervisor

00:09:08,710 --> 00:09:18,100
and make some change to asian nation

00:09:12,230 --> 00:09:22,130
sound as a manager yeah dr. resource is

00:09:18,100 --> 00:09:25,190
exactly is the darker driver and guru

00:09:22,130 --> 00:09:29,020
yoga guru have you to set up container

00:09:25,190 --> 00:09:33,200
per a method for provisioning and

00:09:29,020 --> 00:09:36,200
discover he takes responsibility to

00:09:33,200 --> 00:09:45,590
discover and recut mr. Haas to agent

00:09:36,200 --> 00:09:49,730
manager many small I mean that ton of

00:09:45,590 --> 00:09:52,070
trick I have I when I write the docker

00:09:49,730 --> 00:09:54,710
server discover is the connection

00:09:52,070 --> 00:10:01,220
checking and he'll checking from agent

00:09:54,710 --> 00:10:05,180
manager yeah and this script named Klaus

00:10:01,220 --> 00:10:08,270
and a patient is 24 confessed services

00:10:05,180 --> 00:10:12,520
on dr. Haas for example config network

00:10:08,270 --> 00:10:18,350
config security policy of reward and

00:10:12,520 --> 00:10:21,320
start darker asian service agent manager

00:10:18,350 --> 00:10:24,800
is in sell an asian to contact to haas

00:10:21,320 --> 00:10:27,440
and takes responsibility to send in

00:10:24,800 --> 00:10:34,850
common they are checking and connection

00:10:27,440 --> 00:10:38,270
checking yeah before talking to example

00:10:34,850 --> 00:10:41,140
from Stratus with darker i will show you

00:10:38,270 --> 00:10:41,140
a short demonstration

00:10:43,319 --> 00:10:52,529
ok listen i need to little bit the

00:10:49,809 --> 00:10:52,529
preparation

00:11:18,850 --> 00:11:27,520
any question you want to ask me Oh levee

00:11:25,280 --> 00:11:27,520
behind

00:11:46,150 --> 00:11:52,870
just committed to 43 sorry this

00:11:49,780 --> 00:11:58,710
community for three know for future

00:11:52,870 --> 00:11:58,710
version I mean for simple for the fly

00:11:59,670 --> 00:12:03,300
yeah this under

00:12:49,250 --> 00:12:52,270
yeah should

00:12:52,680 --> 00:13:00,920
so we are the my copy my laptop core up

00:12:56,970 --> 00:13:00,920
so i have to review the environment

00:13:46,840 --> 00:13:49,840
yep

00:13:54,760 --> 00:14:00,910
authentication I totally knows yeah

00:14:08,300 --> 00:14:13,050
ok

00:14:10,480 --> 00:14:13,050
ok

00:14:21,879 --> 00:14:26,589
done done Korra

00:14:39,430 --> 00:14:42,029
ok

00:15:23,810 --> 00:15:26,770
ok

00:15:48,449 --> 00:15:53,209
oh sorry I'm saying

00:16:38,620 --> 00:16:47,880
actually when you provision docker

00:16:42,880 --> 00:16:52,120
container in garlic for the first time

00:16:47,880 --> 00:16:56,230
Tucker hypervisors pull the image from

00:16:52,120 --> 00:17:00,030
the public repository and to Satan I all

00:16:56,230 --> 00:17:00,030
ready for some image

00:17:08,390 --> 00:17:17,980
yeah so we will bring it up voice I por

00:17:14,930 --> 00:17:17,980
sentado dinner

00:17:34,240 --> 00:17:38,940
okay so let's see

00:17:48,240 --> 00:17:53,840
oh wise

00:17:58,669 --> 00:18:09,549
it's okay yeah so I will at I kind of

00:18:12,380 --> 00:18:17,230
how to fit the windows I

00:18:17,539 --> 00:18:29,479
oh maybe I will full screen is open okay

00:18:25,220 --> 00:18:37,879
so I we had one adventure for symbol in

00:18:29,479 --> 00:18:41,019
every two days in my fake unit and I

00:18:37,879 --> 00:18:45,200
choose here the the hypervisor a talker

00:18:41,019 --> 00:18:50,889
he's a new hypervisor no need the gassy

00:18:45,200 --> 00:18:56,659
i wasna golem that time you beeline for

00:18:50,889 --> 00:19:00,879
solution and i sweating it ye my house

00:18:56,659 --> 00:19:00,879
Holly network interface

00:19:07,000 --> 00:19:17,260
actually the not complete version I have

00:19:12,730 --> 00:19:19,570
some but with negotiation so I position

00:19:17,260 --> 00:19:22,330
though I dream of outer the network

00:19:19,570 --> 00:19:25,120
retention just bring it up the docker

00:19:22,330 --> 00:19:27,300
container with the default network into

00:19:25,120 --> 00:19:27,300
play

00:19:39,030 --> 00:19:49,150
hypervisor dr. house yeah before that we

00:19:45,280 --> 00:19:52,510
pulled the image from the repository so

00:19:49,150 --> 00:19:56,110
we don't list primary primary storage or

00:19:52,510 --> 00:20:00,040
secondary stories anymore and also we

00:19:56,110 --> 00:20:03,130
don't need to system vm secondary system

00:20:00,040 --> 00:20:08,380
vm secondary storage vm and consume per

00:20:03,130 --> 00:20:12,000
se va we don't need so i skip this and

00:20:08,380 --> 00:20:12,000
this nanchang

00:20:17,960 --> 00:20:21,680
take a look man now

00:20:31,160 --> 00:20:39,920
yeah is the starting version yeah ah

00:20:49,910 --> 00:20:57,500
sorry my beast I forgot I ok cool

00:21:06,950 --> 00:21:10,760
yeah well pretty well

00:21:16,020 --> 00:21:25,450
anything halfway is actually in yukon to

00:21:20,799 --> 00:21:27,850
Klaus Klaus set up asian scrip and this

00:21:25,450 --> 00:21:32,100
bring it up the doctor service for you

00:21:27,850 --> 00:21:41,110
and register the hospital asian manager

00:21:32,100 --> 00:21:44,410
through the agent sale call ok and you

00:21:41,110 --> 00:21:52,470
will see that we have one hot right we

00:21:44,410 --> 00:21:56,400
hypervisor a darker and to deploy one

00:21:52,470 --> 00:21:59,909
doctor container I will release an image

00:21:56,400 --> 00:22:02,440
email I released from the public

00:21:59,909 --> 00:22:10,530
repository but I porn it down all ready

00:22:02,440 --> 00:22:15,010
for you to say time i use the UI of

00:22:10,530 --> 00:22:19,770
parameter for the image name and you can

00:22:15,010 --> 00:22:22,419
choose to upload a release template from

00:22:19,770 --> 00:22:25,720
repository miss all former doctor fight

00:22:22,419 --> 00:22:33,309
to view and from a file tab on fire

00:22:25,720 --> 00:22:40,830
right hu this and ok sentence is the

00:22:33,309 --> 00:22:47,080
last tip central image Natalie I have to

00:22:40,830 --> 00:22:49,570
figure out one network but it not work

00:22:47,080 --> 00:22:55,900
right now because I have some stuff with

00:22:49,570 --> 00:22:59,140
building the veto router image ok so

00:22:55,900 --> 00:23:06,610
choose from then the template I already

00:22:59,140 --> 00:23:10,340
up register you can name is censored

00:23:06,610 --> 00:23:13,529
darker right and lunch

00:23:10,340 --> 00:23:18,690
it really really fast right quite

00:23:13,529 --> 00:23:27,870
running and you can expect the

00:23:18,690 --> 00:23:37,399
information PS here you are the

00:23:27,870 --> 00:23:56,820
container right and you can ok in spike

00:23:37,399 --> 00:24:02,370
from api 555 these 110 110 listen here

00:23:56,820 --> 00:24:04,860
you are and is the the default IP

00:24:02,370 --> 00:24:08,450
address that dr. serviced allocate to

00:24:04,860 --> 00:24:11,990
the container and you can ping from the

00:24:08,450 --> 00:24:23,490
local hypervisor house oh it run to you

00:24:11,990 --> 00:24:28,409
that's all yeah and actually I would

00:24:23,490 --> 00:24:31,380
like to give you an example for running

00:24:28,409 --> 00:24:35,000
doctor in PIAA solution I pick a

00:24:31,380 --> 00:24:41,299
purchase photos in and ok Tamil right

00:24:35,000 --> 00:24:41,299
yeah ok very quickly that I have

00:24:41,659 --> 00:24:48,120
currently there are two ways to

00:24:44,250 --> 00:24:53,130
integrate in dr to p resolution Stratos

00:24:48,120 --> 00:24:57,080
you can provision the the strata have a

00:24:53,130 --> 00:25:01,500
concept that cut risk a treat eat the

00:24:57,080 --> 00:25:04,500
continually the image that application

00:25:01,500 --> 00:25:07,649
can deploy on and so strata can

00:25:04,500 --> 00:25:11,100
provision the darker continue through

00:25:07,649 --> 00:25:15,690
the g-cloud by a class like OpenStack

00:25:11,100 --> 00:25:20,580
but it why waste time and weight of

00:25:15,690 --> 00:25:22,429
resources I prefer the zy can support

00:25:20,580 --> 00:25:26,960
occur directly from the clown

00:25:22,429 --> 00:25:29,840
now we are working for support dr. 2j

00:25:26,960 --> 00:25:33,169
cloud directly no need any I am for

00:25:29,840 --> 00:25:38,029
wider dynamic I need a middle later it

00:25:33,169 --> 00:25:40,149
would be a perfect way right and thank

00:25:38,029 --> 00:25:40,149

YouTube URL: https://www.youtube.com/watch?v=PC6FjpOfK3k


