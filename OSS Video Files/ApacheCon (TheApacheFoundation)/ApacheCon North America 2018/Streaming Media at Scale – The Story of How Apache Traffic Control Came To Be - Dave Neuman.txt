Title: Streaming Media at Scale – The Story of How Apache Traffic Control Came To Be - Dave Neuman
Publication date: 2018-10-01
Playlist: ApacheCon North America 2018
Description: 
	Streaming Media at Scale – The Story of How Apache Traffic Control Came To Be - Dave Neuman
Captions: 
	00:00:00,000 --> 00:00:05,400
morning thanks rich what a great talk by

00:00:02,310 --> 00:00:06,960
Bridget a lot of good messages in there

00:00:05,400 --> 00:00:09,210
that I think a lot of us were just back

00:00:06,960 --> 00:00:11,130
there like not in our head up and now I

00:00:09,210 --> 00:00:14,309
wish I had some really cool messages

00:00:11,130 --> 00:00:17,160
like that mama tells story so I'm Dave

00:00:14,309 --> 00:00:20,010
Newman p.m. seat for traffic control

00:00:17,160 --> 00:00:21,480
like rich said that slide before this

00:00:20,010 --> 00:00:24,180
said I was an engineering leader which

00:00:21,480 --> 00:00:26,490
is just my way of saying that I was an

00:00:24,180 --> 00:00:28,109
engineer and like recently really really

00:00:26,490 --> 00:00:29,310
recently went into management and I

00:00:28,109 --> 00:00:34,100
don't really know how to deal with that

00:00:29,310 --> 00:00:36,480
yet so engineering leaders sounded great

00:00:34,100 --> 00:00:38,340
anyway I'm here I'm kind of baton

00:00:36,480 --> 00:00:39,809
switching you guys I think because the

00:00:38,340 --> 00:00:41,520
story of traffic control should be the

00:00:39,809 --> 00:00:43,500
big letters and streaming media scale

00:00:41,520 --> 00:00:45,300
should be the small letters here but I

00:00:43,500 --> 00:00:46,440
only have 15 minutes and I had to pick

00:00:45,300 --> 00:00:48,360
one or the other

00:00:46,440 --> 00:00:51,059
but we can hallway talk about streaming

00:00:48,360 --> 00:00:52,440
media scale anytime

00:00:51,059 --> 00:00:54,840
so where's traffic control traffic

00:00:52,440 --> 00:00:58,170
controls set of components that can be

00:00:54,840 --> 00:01:01,920
used to build manage maintain monitor

00:00:58,170 --> 00:01:03,210
configure CDNs it's a project that

00:01:01,920 --> 00:01:05,790
started at Comcast I'll go through a

00:01:03,210 --> 00:01:08,400
little bit about our history so what's a

00:01:05,790 --> 00:01:10,710
CDN if you went to Jeff's talk on Monday

00:01:08,400 --> 00:01:12,090
at the Tomcat track you're gonna see a

00:01:10,710 --> 00:01:15,479
little bit the same slides we like to

00:01:12,090 --> 00:01:16,860
share slights back and forth a content

00:01:15,479 --> 00:01:19,409
delivery network basically is a

00:01:16,860 --> 00:01:20,759
distributed system of servers for

00:01:19,409 --> 00:01:24,330
distributed you know delivering content

00:01:20,759 --> 00:01:26,990
over HTTP or HTTPS I don't even know I

00:01:24,330 --> 00:01:30,990
have this on there

00:01:26,990 --> 00:01:32,640
basically we traffic control can be

00:01:30,990 --> 00:01:34,320
deployed in any number of tiers but the

00:01:32,640 --> 00:01:37,170
way a CDN works is you have these edge

00:01:34,320 --> 00:01:40,170
caches all over your your geographic

00:01:37,170 --> 00:01:42,899
region for us at Comcast to see us for

00:01:40,170 --> 00:01:45,180
other bigger CD ends that are world wide

00:01:42,899 --> 00:01:47,790
it's all over the world and then and

00:01:45,180 --> 00:01:49,500
then you let your tears up we have mid

00:01:47,790 --> 00:01:51,030
tears our second tier as we call it

00:01:49,500 --> 00:01:53,670
which is more strategically located

00:01:51,030 --> 00:01:57,540
based on the network so the goal is to

00:01:53,670 --> 00:01:59,579
get it's the reus bandwidth on the

00:01:57,540 --> 00:02:01,920
network upstream and deliver content as

00:01:59,579 --> 00:02:04,140
fast as you can downstream and Cisco

00:02:01,920 --> 00:02:05,189
who's one of our contributors to traffic

00:02:04,140 --> 00:02:06,810
control they have some committers on

00:02:05,189 --> 00:02:10,780
traffic control they published a study

00:02:06,810 --> 00:02:12,400
in 2016 that said 52 percent of Internet

00:02:10,780 --> 00:02:15,069
traffic of all Internet traffic was

00:02:12,400 --> 00:02:17,590
going across CDNs and by 2021

00:02:15,069 --> 00:02:18,130
that's gonna get to 71% of all Internet

00:02:17,590 --> 00:02:20,140
traffic

00:02:18,130 --> 00:02:22,450
so CD ends are a big deal they're big

00:02:20,140 --> 00:02:24,100
space has a Comcast world we're moving

00:02:22,450 --> 00:02:26,530
more and more it's IP you know everybody

00:02:24,100 --> 00:02:30,760
probably has Netflix or Amazon streaming

00:02:26,530 --> 00:02:32,319
or you know streaming dujour app and you

00:02:30,760 --> 00:02:34,450
know that's all going over a CDN

00:02:32,319 --> 00:02:38,560
somewhere on someone's network probably

00:02:34,450 --> 00:02:40,390
our network offending us oops so like I

00:02:38,560 --> 00:02:41,650
said we like to share slides if you're

00:02:40,390 --> 00:02:45,280
at Jeff's talk you saw something very

00:02:41,650 --> 00:02:46,900
similar to this basically when you're

00:02:45,280 --> 00:02:48,840
building a CDN there's just a minimal

00:02:46,900 --> 00:02:51,760
set of components that you need to have

00:02:48,840 --> 00:02:54,250
you need to have your caches and those

00:02:51,760 --> 00:02:56,050
need to be all over like I like I said

00:02:54,250 --> 00:02:59,200
you need to have some sort of way to

00:02:56,050 --> 00:03:00,910
route your traffic Jeff talked about

00:02:59,200 --> 00:03:03,400
traffic router on Monday that's a tomcat

00:03:00,910 --> 00:03:04,840
application we use for doing that you

00:03:03,400 --> 00:03:06,250
need some sort of Health protocol to

00:03:04,840 --> 00:03:08,920
know if your caches are healthy or not

00:03:06,250 --> 00:03:10,930
and not route traffic to them if they

00:03:08,920 --> 00:03:13,060
are not healthy and route traffic to

00:03:10,930 --> 00:03:13,930
them if they are healthy you need to

00:03:13,060 --> 00:03:16,120
have some sort of configuration

00:03:13,930 --> 00:03:18,190
management tool we have thousands of

00:03:16,120 --> 00:03:19,690
servers in production we need to get all

00:03:18,190 --> 00:03:22,180
the we need to get consistent

00:03:19,690 --> 00:03:24,970
configuration files to them all in a

00:03:22,180 --> 00:03:27,160
timely fashion so there needs to be some

00:03:24,970 --> 00:03:30,370
sort of configuration management tool

00:03:27,160 --> 00:03:33,670
and finally logging analytics you know

00:03:30,370 --> 00:03:35,920
all of these every single fragment or or

00:03:33,670 --> 00:03:37,390
bit or image file or whatever it is

00:03:35,920 --> 00:03:38,950
that's requested you know that's a log

00:03:37,390 --> 00:03:40,120
line and we're capturing that and we're

00:03:38,950 --> 00:03:41,470
trying to store it and I think on the

00:03:40,120 --> 00:03:43,150
one of the talks on Monday someone was

00:03:41,470 --> 00:03:45,510
like just put your logs in Elkin it'll

00:03:43,150 --> 00:03:48,760
be done I wish it was that easy

00:03:45,510 --> 00:03:51,609
you know we're word we have billions and

00:03:48,760 --> 00:03:53,470
billions of transactions a day and so so

00:03:51,609 --> 00:03:55,140
it's kind of a hard problem to solve for

00:03:53,470 --> 00:03:57,609
us and one that we're trying to solve

00:03:55,140 --> 00:04:00,160
anyway when we set out to build traffic

00:03:57,609 --> 00:04:02,950
controls really we knew we did a lot of

00:04:00,160 --> 00:04:05,859
testing on caches and we tested httpd

00:04:02,950 --> 00:04:07,209
and squid and nginx and all the ones

00:04:05,859 --> 00:04:08,560
that are out there but a patchy traffic

00:04:07,209 --> 00:04:10,690
server was the one that worked best for

00:04:08,560 --> 00:04:12,400
us and we didn't have to go build

00:04:10,690 --> 00:04:14,109
anything it was just there the community

00:04:12,400 --> 00:04:17,289
is great they inspired a lot of what we

00:04:14,109 --> 00:04:23,010
do that's why our name is so bland and

00:04:17,289 --> 00:04:23,010
like there's sorry not sorry though

00:04:23,660 --> 00:04:27,210
anyway and then the rest of it we

00:04:25,950 --> 00:04:29,310
decided we're gonna take this holistic

00:04:27,210 --> 00:04:32,760
approach and we weren't gonna go build

00:04:29,310 --> 00:04:34,380
20 different scripts and all this stuff

00:04:32,760 --> 00:04:35,970
that don't talk to each other and try to

00:04:34,380 --> 00:04:37,380
just deploy all this and hope it works

00:04:35,970 --> 00:04:41,040
we decided we're gonna take a holistic

00:04:37,380 --> 00:04:43,410
approach and build something that you

00:04:41,040 --> 00:04:44,520
know that we could share and that we

00:04:43,410 --> 00:04:45,810
could use really we're just trying to

00:04:44,520 --> 00:04:46,950
solve our needs at that time but then we

00:04:45,810 --> 00:04:49,770
realized it was something we can share

00:04:46,950 --> 00:04:52,920
which I'll get to so before I go too far

00:04:49,770 --> 00:04:54,600
into to that about traffic control I

00:04:52,920 --> 00:04:55,400
want to start with where our story

00:04:54,600 --> 00:04:58,470
begins

00:04:55,400 --> 00:05:01,080
so the whole reason we even started out

00:04:58,470 --> 00:05:02,700
this way is because in 2011 Comcast

00:05:01,080 --> 00:05:07,020
announced the partnership with Samsung

00:05:02,700 --> 00:05:11,130
TVs to bring TV to Samsung devices or

00:05:07,020 --> 00:05:12,720
tablets TVs etc and that's different

00:05:11,130 --> 00:05:14,700
than what Comcast had be doing we were

00:05:12,720 --> 00:05:17,040
delivering video over qualm using

00:05:14,700 --> 00:05:22,140
broadcasts and now we're going to IP

00:05:17,040 --> 00:05:24,390
using you know unicast UDP or TCP and we

00:05:22,140 --> 00:05:27,420
had to figure out like how are we gonna

00:05:24,390 --> 00:05:31,860
do this and we quickly realized we need

00:05:27,420 --> 00:05:34,280
a CDN and if this would go there we go

00:05:31,860 --> 00:05:37,770
so Comcast we had traditionally been a

00:05:34,280 --> 00:05:40,230
by a by company right I mean we go out

00:05:37,770 --> 00:05:41,940
we buy whatever the product is some

00:05:40,230 --> 00:05:44,400
people that are called integrators they

00:05:41,940 --> 00:05:46,410
go integrate it and it's great and we

00:05:44,400 --> 00:05:48,570
have placed pay for support and all that

00:05:46,410 --> 00:05:51,360
but with this new world we're going into

00:05:48,570 --> 00:05:53,760
with x1 which is what this product

00:05:51,360 --> 00:05:56,160
became we couldn't do that

00:05:53,760 --> 00:05:59,610
like we could do that I guess but it was

00:05:56,160 --> 00:06:00,870
just not financially feasible and we

00:05:59,610 --> 00:06:03,150
needed to build something and we needed

00:06:00,870 --> 00:06:05,040
to build something that worked so we set

00:06:03,150 --> 00:06:06,180
out with with you know Comcast I'm

00:06:05,040 --> 00:06:08,790
really all right we got to build this

00:06:06,180 --> 00:06:13,830
and we got to make this something that

00:06:08,790 --> 00:06:16,650
can scale and that we can use but before

00:06:13,830 --> 00:06:17,880
we wrote any code we were like we need

00:06:16,650 --> 00:06:20,880
to figure out what our design principles

00:06:17,880 --> 00:06:22,500
are going to be and I think I don't

00:06:20,880 --> 00:06:25,050
think I know these are design principles

00:06:22,500 --> 00:06:26,400
we still use today but I think coming up

00:06:25,050 --> 00:06:29,130
with these design principles before we

00:06:26,400 --> 00:06:30,780
wrote any code really helped us helped

00:06:29,130 --> 00:06:32,520
guide us in the right direction in this

00:06:30,780 --> 00:06:33,289
I don't think if I think if we didn't

00:06:32,520 --> 00:06:35,539
sit down and

00:06:33,289 --> 00:06:37,580
think about how we were gonna do this it

00:06:35,539 --> 00:06:39,649
wouldn't it turned out the way it did so

00:06:37,580 --> 00:06:41,930
the design principles can be can be

00:06:39,649 --> 00:06:42,919
boiled down to these four things we're

00:06:41,930 --> 00:06:45,439
gonna leverage open source software

00:06:42,919 --> 00:06:47,689
common hardware and industry standards

00:06:45,439 --> 00:06:50,029
like HTTP the HTTP spec for example

00:06:47,689 --> 00:06:51,379
wherever possible like I said in the

00:06:50,029 --> 00:06:54,770
slide before this was kind of a mind

00:06:51,379 --> 00:06:57,229
shift for Comcast all customer-facing

00:06:54,770 --> 00:06:58,610
parts are ipv4 and ipv6 right now today

00:06:57,229 --> 00:07:01,430
as I stand here that doesn't sound that

00:06:58,610 --> 00:07:04,369
impressive probably but in 2012 when we

00:07:01,430 --> 00:07:06,709
made this decision saying that hey we're

00:07:04,369 --> 00:07:09,169
gonna support ipv6 all the time out of

00:07:06,709 --> 00:07:10,639
the box what was like what you guys are

00:07:09,169 --> 00:07:14,300
gonna do what and we're like yeah this

00:07:10,639 --> 00:07:17,749
is what we have to do systems gonna be

00:07:14,300 --> 00:07:19,430
horizontally scalable we want date lists

00:07:17,749 --> 00:07:21,770
as much components that are loosely

00:07:19,430 --> 00:07:24,619
coupled and we want a hundred percent

00:07:21,770 --> 00:07:26,599
availability we can't take the CDN down

00:07:24,619 --> 00:07:28,729
for maintenance like you can't just be

00:07:26,599 --> 00:07:30,289
like everybody stop streaming stop

00:07:28,729 --> 00:07:32,300
getting your videos on your website your

00:07:30,289 --> 00:07:34,189
images off your website or your static

00:07:32,300 --> 00:07:36,919
website all of that stopping we gotta

00:07:34,189 --> 00:07:38,629
upgrade we can do that so you know we

00:07:36,919 --> 00:07:41,809
had to build something that was 100%

00:07:38,629 --> 00:07:44,180
available and also you know we had to

00:07:41,809 --> 00:07:47,059
ingrain in the culture of the company

00:07:44,180 --> 00:07:49,610
that maintenance testing and outages

00:07:47,059 --> 00:07:51,199
we're gonna be a part of normal life if

00:07:49,610 --> 00:07:53,959
your CDN you're really close to the

00:07:51,199 --> 00:07:57,169
network there's these big things called

00:07:53,959 --> 00:08:00,229
like bulldozers or tractors and they

00:07:57,169 --> 00:08:02,959
like to cut fiber I'm pretty sure that's

00:08:00,229 --> 00:08:04,219
what they like to do the best and we got

00:08:02,959 --> 00:08:06,680
to figure out how to deal with that we

00:08:04,219 --> 00:08:08,599
just can't have you know you know an

00:08:06,680 --> 00:08:10,099
outage because some fiber got cut

00:08:08,599 --> 00:08:12,409
somewhere there was some fiber cut last

00:08:10,099 --> 00:08:15,439
night actually in an CD and kept running

00:08:12,409 --> 00:08:16,699
no problem it happens all the time or I

00:08:15,439 --> 00:08:18,529
think there was one where I was like a

00:08:16,699 --> 00:08:20,719
overheads guy had a ladder overhead

00:08:18,529 --> 00:08:22,009
anyway that was a bad one anyway these

00:08:20,719 --> 00:08:23,119
are things that we had a grant to the

00:08:22,009 --> 00:08:25,069
company we're gonna do maintenance in

00:08:23,119 --> 00:08:27,349
the day we're gonna do testing in

00:08:25,069 --> 00:08:29,659
production nobody likes that but guess

00:08:27,349 --> 00:08:31,399
what at the scale we're at like we can't

00:08:29,659 --> 00:08:32,630
just go build a lab and be like all

00:08:31,399 --> 00:08:34,519
right we're gonna have 20 million people

00:08:32,630 --> 00:08:36,199
use our lab like we have to do some of

00:08:34,519 --> 00:08:39,740
that testing in production it's just the

00:08:36,199 --> 00:08:41,240
the way it is anyway so we started out

00:08:39,740 --> 00:08:46,490
these are our design principles - cool

00:08:41,240 --> 00:08:47,180
we got this in ready to go so in 2012

00:08:46,490 --> 00:08:50,900
and Jan

00:08:47,180 --> 00:08:52,730
we're ready to start work on CDN we sat

00:08:50,900 --> 00:08:55,010
down it was one of the guys that's

00:08:52,730 --> 00:08:57,220
probably still on the team probably

00:08:55,010 --> 00:08:59,540
started editing a profile

00:08:57,220 --> 00:09:03,560
unfortunately because he knew Perl the

00:08:59,540 --> 00:09:05,600
best we saw Perl in there but it was

00:09:03,560 --> 00:09:06,890
good we started work and may Comcast

00:09:05,600 --> 00:09:09,680
came out they they announced the

00:09:06,890 --> 00:09:12,170
national rollout of the x1 platform this

00:09:09,680 --> 00:09:14,030
was launched with a vendor lock-in CD

00:09:12,170 --> 00:09:17,630
and third party that was not us

00:09:14,030 --> 00:09:19,940
and we were like well now we really have

00:09:17,630 --> 00:09:22,790
to get in gear I almost cursed we really

00:09:19,940 --> 00:09:24,230
have to get in gear because you know we

00:09:22,790 --> 00:09:27,380
don't want this vendor lock-in forever

00:09:24,230 --> 00:09:29,270
and the longer this goes on without our

00:09:27,380 --> 00:09:31,580
code the more likely it is that we're

00:09:29,270 --> 00:09:33,800
not gonna have the chance to do this so

00:09:31,580 --> 00:09:35,500
by October we got the IP CDN into

00:09:33,800 --> 00:09:38,870
production it's called IP CDN back then

00:09:35,500 --> 00:09:41,270
moving on to 2014 we'll skip over 2013

00:09:38,870 --> 00:09:43,100
it was just a lot of heads down writing

00:09:41,270 --> 00:09:46,040
code committing writing code committing

00:09:43,100 --> 00:09:48,200
your scaling scaling in January of 2014

00:09:46,040 --> 00:09:49,640
this is important Comcast and Cox which

00:09:48,200 --> 00:09:55,790
is another cable company in the u.s.

00:09:49,640 --> 00:09:57,860
announced a deal to bring x12 Cox so we

00:09:55,790 --> 00:09:59,960
syndicated that to them licensed it to

00:09:57,860 --> 00:10:02,300
them which included the CDN at the time

00:09:59,960 --> 00:10:03,830
our team had six people on it we were

00:10:02,300 --> 00:10:06,320
like there's no way we can build all of

00:10:03,830 --> 00:10:08,360
this in Comcast and then go help build

00:10:06,320 --> 00:10:09,950
all of this in Cox we just can't support

00:10:08,360 --> 00:10:12,020
the two things at once plus all the

00:10:09,950 --> 00:10:14,480
growth that we're seeing so we know we

00:10:12,020 --> 00:10:16,160
had to do we had to open-source this we

00:10:14,480 --> 00:10:18,140
had to make this available so Cox could

00:10:16,160 --> 00:10:19,610
do this themselves whoever else who was

00:10:18,140 --> 00:10:22,850
looking to do similar things could do

00:10:19,610 --> 00:10:25,370
this themselves and in 2015 in April we

00:10:22,850 --> 00:10:26,840
achieved that by oh you know going

00:10:25,370 --> 00:10:30,710
through all the legal and open sourcing

00:10:26,840 --> 00:10:34,040
it to github.com / Comcast / traffic

00:10:30,710 --> 00:10:37,790
control it was great it was cool we were

00:10:34,040 --> 00:10:39,830
happy we had all that time we had four

00:10:37,790 --> 00:10:42,320
confirmed installs in five a total of

00:10:39,830 --> 00:10:45,770
five external contributors by then when

00:10:42,320 --> 00:10:49,220
we launched we're excited you know

00:10:45,770 --> 00:10:51,770
things were great time went on and but

00:10:49,220 --> 00:10:53,780
by 2016 you know we realized there's

00:10:51,770 --> 00:10:56,630
some limitations here with putting this

00:10:53,780 --> 00:10:58,280
on the Comcast github account with the

00:10:56,630 --> 00:10:59,930
way that we want to we want to go with

00:10:58,280 --> 00:11:00,440
this there's just some limitations here

00:10:59,930 --> 00:11:02,150
and we knew

00:11:00,440 --> 00:11:03,350
from all of our work with traffic server

00:11:02,150 --> 00:11:05,090
in the great community that they have

00:11:03,350 --> 00:11:07,460
how great the Apache Software Foundation

00:11:05,090 --> 00:11:09,230
was so it was an easy decision for us we

00:11:07,460 --> 00:11:11,720
were like okay we're gonna take this off

00:11:09,230 --> 00:11:13,910
of Comcast github account we're gonna

00:11:11,720 --> 00:11:16,490
donate to the Apache a to Apache we're

00:11:13,910 --> 00:11:20,780
going to join the incubator so in July

00:11:16,490 --> 00:11:23,800
of 2016 we entered the incubator now it

00:11:20,780 --> 00:11:26,210
took us all the way until February of

00:11:23,800 --> 00:11:27,950
2617 to get our first release through

00:11:26,210 --> 00:11:30,230
the incubator and that'll not because we

00:11:27,950 --> 00:11:33,380
waited like we tried in August and it

00:11:30,230 --> 00:11:35,450
took us probably I think it was 11

00:11:33,380 --> 00:11:38,090
release candidates and I'm pretty sure

00:11:35,450 --> 00:11:40,490
Justin and and JTA did not like it's

00:11:38,090 --> 00:11:43,010
very much then because it was always

00:11:40,490 --> 00:11:45,050
like licensing this and and you know

00:11:43,010 --> 00:11:47,420
silly stuff but we were learning and and

00:11:45,050 --> 00:11:49,340
they were very patient with us and you

00:11:47,420 --> 00:11:52,700
know it was a it was a great learning

00:11:49,340 --> 00:11:54,350
experience and and by 2018 finally you

00:11:52,700 --> 00:11:56,900
know we we made it through we grew our

00:11:54,350 --> 00:11:59,600
community we're up to sixteen committers

00:11:56,900 --> 00:12:02,270
from six different companies and May we

00:11:59,600 --> 00:12:04,730
graduated so now here we are in

00:12:02,270 --> 00:12:07,520
September you know four year old or four

00:12:04,730 --> 00:12:10,640
month old Apache project it was like

00:12:07,520 --> 00:12:12,920
four years sometimes anyway so that's

00:12:10,640 --> 00:12:14,990
our our journey to TLP so how are we

00:12:12,920 --> 00:12:16,550
doing today well we have 19 committers

00:12:14,990 --> 00:12:18,080
from seven different companies so we're

00:12:16,550 --> 00:12:19,550
continuing to grow we're still kind of

00:12:18,080 --> 00:12:21,320
infants right like we're not really even

00:12:19,550 --> 00:12:23,660
crawling yet as far as open-source is

00:12:21,320 --> 00:12:27,080
concerned but but we have some good

00:12:23,660 --> 00:12:29,600
action on the on our code and on github

00:12:27,080 --> 00:12:31,100
we're up to 70 plus unique contributors

00:12:29,600 --> 00:12:33,590
so we get a lot of I'm sure all you guys

00:12:31,100 --> 00:12:35,150
do with your guys and gals do with all

00:12:33,590 --> 00:12:37,280
of your open source projects we get fly

00:12:35,150 --> 00:12:39,860
by O'Hare up they did your documentation

00:12:37,280 --> 00:12:41,510
for you or you have this Java Script bug

00:12:39,860 --> 00:12:43,070
and I like to write JavaScript so here's

00:12:41,510 --> 00:12:44,990
a here's a JavaScript script pull

00:12:43,070 --> 00:12:47,240
request for you and we got over 70 of

00:12:44,990 --> 00:12:48,710
those we're pretty proud of that on the

00:12:47,240 --> 00:12:52,070
down side you know not everything's all

00:12:48,710 --> 00:12:54,350
flowers we do struggle with we have a

00:12:52,070 --> 00:12:56,510
lot of open pull requests and issues and

00:12:54,350 --> 00:12:58,340
a lot of our I don't want to say a lot

00:12:56,510 --> 00:13:00,290
of our contributions are limited to

00:12:58,340 --> 00:13:03,130
Comcast a lot of our development is a

00:13:00,290 --> 00:13:06,290
lot of the companies are a lot of the

00:13:03,130 --> 00:13:08,150
open source community that we have our

00:13:06,290 --> 00:13:11,240
users and that's great they give us a

00:13:08,150 --> 00:13:13,209
lot of great feedback but some of them

00:13:11,240 --> 00:13:15,189
don't really have like a development

00:13:13,209 --> 00:13:16,839
for anything but that's not gonna change

00:13:15,189 --> 00:13:18,819
our focus and that's not gonna change

00:13:16,839 --> 00:13:21,249
the way that we're doing it we knew that

00:13:18,819 --> 00:13:22,420
going into this that we're here to some

00:13:21,249 --> 00:13:23,439
more to support the whole community I

00:13:22,420 --> 00:13:24,759
think the whole community is better

00:13:23,439 --> 00:13:26,379
because of it Comcast is better because

00:13:24,759 --> 00:13:29,559
of it and the products better because of

00:13:26,379 --> 00:13:32,740
it so I did promise a little bit about

00:13:29,559 --> 00:13:35,559
scale so a little bit of scale on what

00:13:32,740 --> 00:13:39,459
we're doing we are serving and I took an

00:13:35,559 --> 00:13:41,499
informal poll of all the all of our

00:13:39,459 --> 00:13:43,689
community members that would share it

00:13:41,499 --> 00:13:45,610
with me so this is kind of what I boiled

00:13:43,689 --> 00:13:48,850
it down to this is not just Comcast or

00:13:45,610 --> 00:13:51,189
any one company but compa traffic

00:13:48,850 --> 00:13:53,709
control CD ins and production today are

00:13:51,189 --> 00:13:55,420
serving more than 35 petabytes a day if

00:13:53,709 --> 00:13:58,360
you're at Jeff's talk on Monday he

00:13:55,420 --> 00:14:00,490
called these ello CPMs libraries of

00:13:58,360 --> 00:14:03,339
congress per minute a Library of

00:14:00,490 --> 00:14:05,800
Congress is 15 terabytes we're doing

00:14:03,339 --> 00:14:07,809
about I did the math that's about 1.6 i

00:14:05,800 --> 00:14:09,850
have 1.5 out there about 1.6 libraries

00:14:07,809 --> 00:14:12,610
at congress per minute that's how much

00:14:09,850 --> 00:14:14,769
these students are serving doing more

00:14:12,610 --> 00:14:16,629
than 1 billion transactions per day

00:14:14,769 --> 00:14:19,299
which is over a million transactions per

00:14:16,629 --> 00:14:22,149
second i talked about logging analytics

00:14:19,299 --> 00:14:23,769
problems you know there's our scale is

00:14:22,149 --> 00:14:28,029
so those are the problems we have to

00:14:23,769 --> 00:14:29,379
solve for and in in to date i you know

00:14:28,029 --> 00:14:31,259
cook the books a little bit went back to

00:14:29,379 --> 00:14:33,639
when we first started with the IP CDN

00:14:31,259 --> 00:14:35,709
you know that was like october I think

00:14:33,639 --> 00:14:39,189
we served like 20 gigs of data that

00:14:35,709 --> 00:14:42,069
whole day anyway from then until now 18

00:14:39,189 --> 00:14:46,629
exabytes of data has been served in

00:14:42,069 --> 00:14:48,459
total this is video images configuration

00:14:46,629 --> 00:14:51,339
files static web files all of those

00:14:48,459 --> 00:14:53,230
whatever else our other community

00:14:51,339 --> 00:14:55,059
members are using and so for those that

00:14:53,230 --> 00:14:58,749
don't know an exabyte is a one with 18

00:14:55,059 --> 00:15:00,189
zeros so there's a whole bunch of data I

00:14:58,749 --> 00:15:03,279
don't know how much money that would be

00:15:00,189 --> 00:15:05,049
if you were paying for a CDN service but

00:15:03,279 --> 00:15:09,579
it would probably be a lot even if it

00:15:05,049 --> 00:15:15,009
was like a penny per gig um so why don't

00:15:09,579 --> 00:15:16,889
we Tuesday SF there we go

00:15:15,009 --> 00:15:19,179
first of all friendly to contributors

00:15:16,889 --> 00:15:21,429
one of our problems with github.com

00:15:19,179 --> 00:15:23,470
slash Comcast is in order to contribute

00:15:21,429 --> 00:15:26,509
back to our project s that you have to

00:15:23,470 --> 00:15:28,519
do you have to send a Comcast CLA

00:15:26,509 --> 00:15:30,829
so a lot of people came in there this is

00:15:28,519 --> 00:15:34,429
great now but no way my company is gonna

00:15:30,829 --> 00:15:36,859
let me sign a CLA that says I'm canoeing

00:15:34,429 --> 00:15:37,429
my code back to Comcast just not gonna

00:15:36,859 --> 00:15:40,609
happen

00:15:37,429 --> 00:15:42,799
have fun with that see you later so

00:15:40,609 --> 00:15:46,459
moving to the ASF helped us out

00:15:42,799 --> 00:15:47,899
tremendously with this provides

00:15:46,459 --> 00:15:52,209
mentorship to new projects I mentioned

00:15:47,899 --> 00:15:54,499
the incubator earlier Justin and John

00:15:52,209 --> 00:15:57,259
they were great and the rest of the

00:15:54,499 --> 00:15:58,639
incubator as well mostly those Suk's I

00:15:57,259 --> 00:15:59,929
think they're the ones that really got

00:15:58,639 --> 00:16:01,519
the brunt of everything we were trying

00:15:59,929 --> 00:16:03,529
to accomplish

00:16:01,519 --> 00:16:05,449
the incubator gave us a good roadmap for

00:16:03,529 --> 00:16:06,559
success or not and I put or not in there

00:16:05,449 --> 00:16:08,209
because I think that's important like

00:16:06,559 --> 00:16:09,829
just because you're in the incubator

00:16:08,209 --> 00:16:11,600
doesn't mean you're gonna graduate if

00:16:09,829 --> 00:16:13,220
you're in the incubator you could not

00:16:11,600 --> 00:16:15,499
graduate you could realize that maybe

00:16:13,220 --> 00:16:17,809
this isn't a viable open source project

00:16:15,499 --> 00:16:19,009
or you know maybe there's just not the

00:16:17,809 --> 00:16:20,119
community around this that we thought

00:16:19,009 --> 00:16:22,279
there was

00:16:20,119 --> 00:16:24,249
and then mentorship so we had like I

00:16:22,279 --> 00:16:26,859
mentioned with Apache traffic server

00:16:24,249 --> 00:16:28,850
life Hedstrom and and Phil schwarber

00:16:26,859 --> 00:16:30,649
they were our Mentors

00:16:28,850 --> 00:16:32,569
among a few others but those two in

00:16:30,649 --> 00:16:35,149
particular really helped us out a lot

00:16:32,569 --> 00:16:36,769
and taught us how you know to navigate

00:16:35,149 --> 00:16:39,199
the waters of Apache they knew who to

00:16:36,769 --> 00:16:40,639
talk to when we had problems all that

00:16:39,199 --> 00:16:43,369
stuff and they really really helped us

00:16:40,639 --> 00:16:46,970
through bootstrap infrastructure shout

00:16:43,369 --> 00:16:49,489
out the infra team do so much great work

00:16:46,970 --> 00:16:49,699
they solved a lot a lot of problems for

00:16:49,489 --> 00:16:51,350
us

00:16:49,699 --> 00:16:52,789
we're just solved like where did we go

00:16:51,350 --> 00:16:54,289
put our build servers so that everyone

00:16:52,789 --> 00:16:56,389
can get to them and how do we convince

00:16:54,289 --> 00:16:57,859
Comcast that this is ok and blah blah

00:16:56,389 --> 00:16:58,730
blah blah blah I was all done I'm for

00:16:57,859 --> 00:17:00,259
the infra it

00:16:58,730 --> 00:17:02,239
we got mailing lists there we got

00:17:00,259 --> 00:17:06,230
Jenkins stood up no problem slam done

00:17:02,239 --> 00:17:07,789
that's great but mostly we joined

00:17:06,230 --> 00:17:09,319
because of the Apache Way and community

00:17:07,789 --> 00:17:11,179
over code I'll get to last it's

00:17:09,319 --> 00:17:13,970
underlined because it's been a big team

00:17:11,179 --> 00:17:16,069
of today but you know being a project

00:17:13,970 --> 00:17:19,490
like us that has so much development

00:17:16,069 --> 00:17:22,760
done by one company but a community that

00:17:19,490 --> 00:17:25,039
that's pretty diverse openness is

00:17:22,760 --> 00:17:27,589
important so we could easily go into our

00:17:25,039 --> 00:17:29,630
bubble and do the wrong thing and like

00:17:27,589 --> 00:17:31,519
make decisions internally and not share

00:17:29,630 --> 00:17:32,990
those but instead you know with the

00:17:31,519 --> 00:17:35,149
Apache way we do everything on the

00:17:32,990 --> 00:17:36,470
mailing list and we make sure that you

00:17:35,149 --> 00:17:39,080
know even if we're in office together

00:17:36,470 --> 00:17:39,929
and it's Jeff and I we're gonna still

00:17:39,080 --> 00:17:41,639
share this on lip

00:17:39,929 --> 00:17:43,350
that's the right thing to do we have

00:17:41,639 --> 00:17:45,450
community members that are impacted by

00:17:43,350 --> 00:17:47,190
this and they and we want their opinions

00:17:45,450 --> 00:17:48,919
on it too and so openness this really

00:17:47,190 --> 00:17:52,139
helped us out with that it was great

00:17:48,919 --> 00:17:54,210
meritocracy you don't have to write code

00:17:52,139 --> 00:17:56,909
to be a contributor to our project I

00:17:54,210 --> 00:17:58,289
mean we have plenty of committers that

00:17:56,909 --> 00:17:59,940
just go out now like hey have you guys

00:17:58,289 --> 00:18:02,129
seen this weird bug every once in a

00:17:59,940 --> 00:18:03,570
while and we're like oh yeah steve saw

00:18:02,129 --> 00:18:06,480
that in production and now we're seeing

00:18:03,570 --> 00:18:08,399
that in production and you know that's

00:18:06,480 --> 00:18:10,860
really helpful to us that's stuff that

00:18:08,399 --> 00:18:12,600
you know maybe somebody else in the

00:18:10,860 --> 00:18:15,600
community sees it and we fix it and it

00:18:12,600 --> 00:18:17,490
never never gets to us so we don't see

00:18:15,600 --> 00:18:21,419
the same problem in production so the

00:18:17,490 --> 00:18:23,070
meritocracy there is great consensus

00:18:21,419 --> 00:18:25,799
like I said goes back to openness really

00:18:23,070 --> 00:18:27,059
like we get consensus from all the

00:18:25,799 --> 00:18:29,249
community members before we make any

00:18:27,059 --> 00:18:31,769
changes there and it's easy it would be

00:18:29,249 --> 00:18:33,419
easy for us to to take all this and just

00:18:31,769 --> 00:18:35,580
hug it tight and not do that but that's

00:18:33,419 --> 00:18:37,559
not the right way but finally community

00:18:35,580 --> 00:18:40,320
over code I know it's been a theme of

00:18:37,559 --> 00:18:42,570
today or this whole week really

00:18:40,320 --> 00:18:44,279
and coming to these Apache cons you

00:18:42,570 --> 00:18:46,019
always get that and you always like a

00:18:44,279 --> 00:18:48,690
reinvigorated and you remember yeah

00:18:46,019 --> 00:18:50,490
that's why we do this but I remember we

00:18:48,690 --> 00:18:52,830
first put our code up where we first

00:18:50,490 --> 00:18:54,299
talked about going and open sourcing our

00:18:52,830 --> 00:18:56,850
project and we're like a hard code so

00:18:54,299 --> 00:18:58,110
cool nobody else really does this we're

00:18:56,850 --> 00:18:59,490
just gonna put our code up and people

00:18:58,110 --> 00:19:01,889
are gonna flock and they're gonna be

00:18:59,490 --> 00:19:02,519
like oh this is so great wasn't like

00:19:01,889 --> 00:19:05,100
that at all

00:19:02,519 --> 00:19:06,389
oh hey we put our code up and people

00:19:05,100 --> 00:19:08,999
like yeah whatever

00:19:06,389 --> 00:19:10,649
I can't even install this thing like

00:19:08,999 --> 00:19:12,990
what are you guys doing here

00:19:10,649 --> 00:19:14,460
so we really had to work hard on

00:19:12,990 --> 00:19:17,429
building community that was the hardest

00:19:14,460 --> 00:19:19,049
thing about getting ourselves ready to

00:19:17,429 --> 00:19:20,730
graduate the incubator was we had to

00:19:19,049 --> 00:19:24,840
build a community up and we had to do a

00:19:20,730 --> 00:19:26,820
lot of you know support and help and

00:19:24,840 --> 00:19:29,580
community outreach and and build that

00:19:26,820 --> 00:19:32,129
community up and I think I know we have

00:19:29,580 --> 00:19:34,289
learned how important that really is

00:19:32,129 --> 00:19:36,659
like our project is so much better

00:19:34,289 --> 00:19:40,649
because of the community and we realized

00:19:36,659 --> 00:19:44,610
that and finally like we're big users of

00:19:40,649 --> 00:19:46,529
Apache we love all the projects so you

00:19:44,610 --> 00:19:49,409
know we're happy that we're a part of

00:19:46,529 --> 00:19:51,800
this ecosystem as well so anyway thank

00:19:49,409 --> 00:19:55,819
you Apache and thank you pet recon

00:19:51,800 --> 00:19:55,819

YouTube URL: https://www.youtube.com/watch?v=Ogk5PGy9ecU


