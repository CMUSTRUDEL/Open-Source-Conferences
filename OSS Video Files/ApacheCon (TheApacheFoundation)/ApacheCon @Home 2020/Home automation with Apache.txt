Title: Home automation with Apache
Publication date: 2020-10-15
Playlist: ApacheCon @Home 2020
Description: 
	Home automation with Apache
Christofer Dutz

A presentation from ApacheCon @Home 2020
https://apachecon.com/acah2020/

Even if Apache PLC4X was initiated in order to communicate with industrial hardware, in the last years it has grown to also allow communication with building and home-automation systems. In this talk I'd like to demonstrate how I use Apache PLC4X to communicate with the KNX, Modbus and Luxtronic2 drivers to talk to my house and how easy it is to store this data in Apache IoTDB (Incubating) to process it with Apache Camel, Apache NiFi, Apache Edgent (Incubating) (RIP) or others and to create a Frontend using Apache Royale (perhaps even with some nifty Apache ECharts (incubating) diagrams).

Full blooded Apache Member, who likes to think out of the box. If others say something's impossible, that's when Chris starts to become interested. He's involved in numerous Apache and even more non-Apache projects and currently serving as the VP of Apache PLC4X which he had the pleasure and the luck to write the first lines of code for (ok ... and a "few" after that).
Captions: 
	00:00:06,420 --> 00:00:10,640
[Music]

00:00:14,160 --> 00:00:17,230
[Music]

00:00:26,400 --> 00:00:30,240
welcome uh this is uh the first time

00:00:29,279 --> 00:00:33,760
i've

00:00:30,240 --> 00:00:37,520
been doing a talk about home automation

00:00:33,760 --> 00:00:37,840
um so please forgive me if it's still a

00:00:37,520 --> 00:00:41,280
bit

00:00:37,840 --> 00:00:43,840
rough around the edges um

00:00:41,280 --> 00:00:46,000
in the background you can see a picture

00:00:43,840 --> 00:00:46,320
of my house and this is what i'm gonna

00:00:46,000 --> 00:00:49,520
be

00:00:46,320 --> 00:00:49,520
talking about hello

00:00:51,840 --> 00:00:55,760
um so what are the plans well uh first

00:00:55,039 --> 00:00:58,160
i'm gonna

00:00:55,760 --> 00:00:59,440
be talking a little about the hardware

00:00:58,160 --> 00:01:01,840
setup

00:00:59,440 --> 00:01:04,320
um then everybody of you is going to be

00:01:01,840 --> 00:01:04,320
asking

00:01:05,600 --> 00:01:09,119
do you hear sound or

00:01:11,600 --> 00:01:17,119
could you yeah okay great um

00:01:14,720 --> 00:01:19,040
then uh everybody's gonna ask me why not

00:01:17,119 --> 00:01:22,320
use something existing

00:01:19,040 --> 00:01:24,799
um so i'm gonna explain a little why

00:01:22,320 --> 00:01:25,600
i don't wanna use something that exists

00:01:24,799 --> 00:01:27,439
um

00:01:25,600 --> 00:01:29,759
i'm going to show you a little uh the

00:01:27,439 --> 00:01:31,280
software setup i whipped up

00:01:29,759 --> 00:01:32,960
and then i'm going to give you a little

00:01:31,280 --> 00:01:36,159
test drive uh

00:01:32,960 --> 00:01:37,439
on uh the demo i prepared um

00:01:36,159 --> 00:01:40,720
then i'm just going to give a little

00:01:37,439 --> 00:01:43,680
outlook on what i'm planning on doing

00:01:40,720 --> 00:01:45,200
and let me say this is this talk uh i

00:01:43,680 --> 00:01:47,759
think i came back to one of my

00:01:45,200 --> 00:01:51,040
traditions in which i submitted talks

00:01:47,759 --> 00:01:53,759
for stuff i haven't built yet uh

00:01:51,040 --> 00:01:54,560
and that sort of always was sort of a

00:01:53,759 --> 00:01:58,960
positive

00:01:54,560 --> 00:02:02,079
pressure uh to have get stuff done

00:01:58,960 --> 00:02:03,119
um so this time it was uh quite a

00:02:02,079 --> 00:02:05,759
challenge because

00:02:03,119 --> 00:02:06,640
i had a lot of moving parts that i sort

00:02:05,759 --> 00:02:09,119
of had to

00:02:06,640 --> 00:02:10,479
get to work together uh so i didn't get

00:02:09,119 --> 00:02:13,680
quite as far as i

00:02:10,479 --> 00:02:16,879
wanted but at least technologically uh

00:02:13,680 --> 00:02:18,879
i i did the full stack um so

00:02:16,879 --> 00:02:20,400
i think i'm gonna be able to show you

00:02:18,879 --> 00:02:23,040
some nice stuff

00:02:20,400 --> 00:02:23,840
so my hardware is set up well first of

00:02:23,040 --> 00:02:26,000
all

00:02:23,840 --> 00:02:28,560
for home automation you need a home uh

00:02:26,000 --> 00:02:29,440
for that i'm using grandpa's house uh

00:02:28,560 --> 00:02:31,840
and well

00:02:29,440 --> 00:02:33,200
uh the the picture over there uh that's

00:02:31,840 --> 00:02:36,400
a picture of my

00:02:33,200 --> 00:02:37,760
uh my grandpa he passed away uh quite

00:02:36,400 --> 00:02:41,120
some years ago

00:02:37,760 --> 00:02:45,599
um he built this house on his own

00:02:41,120 --> 00:02:49,120
um with his own hands uh in the 60s

00:02:45,599 --> 00:02:52,480
um and then i came and tore apart

00:02:49,120 --> 00:02:54,400
in 2016 until 2018

00:02:52,480 --> 00:02:55,920
so we replaced the heating with some

00:02:54,400 --> 00:02:58,640
geothermal heating

00:02:55,920 --> 00:03:00,720
we put solar energy panels on the roof

00:02:58,640 --> 00:03:03,200
uh i have battery buffer

00:03:00,720 --> 00:03:04,879
in the in the basement we now have air

00:03:03,200 --> 00:03:06,159
conditioning in the house well

00:03:04,879 --> 00:03:08,400
it's not the the type of air

00:03:06,159 --> 00:03:11,840
conditioning where you can turn on

00:03:08,400 --> 00:03:13,440
the the typical american 14 degrees

00:03:11,840 --> 00:03:16,560
celsius or something like that

00:03:13,440 --> 00:03:19,120
it's sort of like it brings fresh air in

00:03:16,560 --> 00:03:19,840
um and everything is sort of automated

00:03:19,120 --> 00:03:22,319
with uh

00:03:19,840 --> 00:03:22,319
koenigs

00:03:22,959 --> 00:03:26,080
uh so if you have a look into the

00:03:24,720 --> 00:03:28,640
breaker uh

00:03:26,080 --> 00:03:29,599
box of my house you can see some

00:03:28,640 --> 00:03:31,440
breakers

00:03:29,599 --> 00:03:33,440
at the top but most of it is sort of

00:03:31,440 --> 00:03:36,000
completely consumed by

00:03:33,440 --> 00:03:37,040
insanely expensive koenigs hardware if i

00:03:36,000 --> 00:03:39,599
had known that it's

00:03:37,040 --> 00:03:41,840
so expensive uh sort of that sort of

00:03:39,599 --> 00:03:41,840
like

00:03:42,480 --> 00:03:46,959
an entry-level car just in uh electronic

00:03:45,840 --> 00:03:50,159
components

00:03:46,959 --> 00:03:51,040
um but it actually is fun playing around

00:03:50,159 --> 00:03:54,560
with them

00:03:51,040 --> 00:03:55,599
um i i mentioned that i have a battery

00:03:54,560 --> 00:03:57,599
buffer

00:03:55,599 --> 00:03:59,120
in my basement and that's this little

00:03:57,599 --> 00:04:03,200
thing sort of like

00:03:59,120 --> 00:04:06,480
stores uh eight uh kilowatt hours

00:04:03,200 --> 00:04:08,640
of solar energy in my batteries

00:04:06,480 --> 00:04:11,439
uh and that's what i'm currently working

00:04:08,640 --> 00:04:13,200
on because well today the sun was out so

00:04:11,439 --> 00:04:14,959
i'm pretty sure that i'm currently

00:04:13,200 --> 00:04:18,959
working on

00:04:14,959 --> 00:04:22,230
on sun energy um

00:04:18,959 --> 00:04:25,199
and in every room i have these little

00:04:22,230 --> 00:04:28,320
[Music]

00:04:25,199 --> 00:04:31,840
touch panels they are also thermostats

00:04:28,320 --> 00:04:35,360
everything is uh koenigs and uh yeah

00:04:31,840 --> 00:04:37,120
so well up to now i didn't have a smart

00:04:35,360 --> 00:04:38,960
home or

00:04:37,120 --> 00:04:40,840
anything it was just an insanely

00:04:38,960 --> 00:04:43,840
expensively wired

00:04:40,840 --> 00:04:45,680
uh normal house you had

00:04:43,840 --> 00:04:47,440
switches if you turn them on and off the

00:04:45,680 --> 00:04:50,479
lights went on and off i'm sorry

00:04:47,440 --> 00:04:53,759
well no not very smart um

00:04:50,479 --> 00:04:56,479
so the components i i have um

00:04:53,759 --> 00:04:57,840
the heating and thermostat so the the

00:04:56,479 --> 00:05:01,360
thermostats are in

00:04:57,840 --> 00:05:04,720
every room and the knx

00:05:01,360 --> 00:05:08,320
actors for uh turning on off

00:05:04,720 --> 00:05:11,360
the valves uh they're in the basement uh

00:05:08,320 --> 00:05:14,400
every light is dimmable uh is also

00:05:11,360 --> 00:05:17,680
via knx the window shades i can

00:05:14,400 --> 00:05:20,800
drive up down um every window

00:05:17,680 --> 00:05:23,919
or door has a sensor to tell me it's

00:05:20,800 --> 00:05:24,720
status if it's open or closed and the

00:05:23,919 --> 00:05:27,120
cool thing is

00:05:24,720 --> 00:05:28,080
every power outlet let me move over here

00:05:27,120 --> 00:05:30,080
a little uh

00:05:28,080 --> 00:05:32,160
i think i'll just shrink myself so i

00:05:30,080 --> 00:05:38,000
won't block

00:05:32,160 --> 00:05:41,199
or i'll just do it this way better um

00:05:38,000 --> 00:05:44,240
um every power outlet is switchable uh

00:05:41,199 --> 00:05:47,600
and um

00:05:44,240 --> 00:05:49,039
uh is switchable and uh can even measure

00:05:47,600 --> 00:05:51,280
the power consumption and that was

00:05:49,039 --> 00:05:53,680
something that i wanted to really

00:05:51,280 --> 00:05:54,320
play around with because i think only if

00:05:53,680 --> 00:05:56,319
you know

00:05:54,320 --> 00:05:58,560
the power consumption of the devices you

00:05:56,319 --> 00:05:59,759
have you can really do some sensible

00:05:58,560 --> 00:06:02,800
stuff with it

00:05:59,759 --> 00:06:05,039
um i can read the the current

00:06:02,800 --> 00:06:06,319
power production and consumption of my

00:06:05,039 --> 00:06:08,560
house uh

00:06:06,319 --> 00:06:10,000
and i can see how full the battery is

00:06:08,560 --> 00:06:13,360
and what i can sort of

00:06:10,000 --> 00:06:16,880
just con i'm consuming or sending

00:06:13,360 --> 00:06:20,479
uh to the the power network

00:06:16,880 --> 00:06:24,000
um and all of these moving parts

00:06:20,479 --> 00:06:26,160
well if you want to integrate them um

00:06:24,000 --> 00:06:28,080
yeah well you need some industrial

00:06:26,160 --> 00:06:29,360
protocols and that's when it starts

00:06:28,080 --> 00:06:32,720
getting interesting for me

00:06:29,360 --> 00:06:35,440
so my geothermal heating uh it uses some

00:06:32,720 --> 00:06:36,000
looks on two protocol that was actually

00:06:35,440 --> 00:06:38,960
quite fun

00:06:36,000 --> 00:06:39,759
because uh i think the manufacturer

00:06:38,960 --> 00:06:42,800
wanted uh

00:06:39,759 --> 00:06:46,479
800 bucks per year for

00:06:42,800 --> 00:06:49,199
access to my uh to my

00:06:46,479 --> 00:06:52,160
geothermal heater so i just uh went down

00:06:49,199 --> 00:06:54,720
and sort of like did a port scan found a

00:06:52,160 --> 00:06:55,840
web port open and sort of could access

00:06:54,720 --> 00:06:58,960
it got some

00:06:55,840 --> 00:07:00,960
xml schemas and could pretty soon found

00:06:58,960 --> 00:07:03,599
out it's a the looks on two protocol

00:07:00,960 --> 00:07:04,639
and uh yeah well now i don't have to pay

00:07:03,599 --> 00:07:07,759
anything

00:07:04,639 --> 00:07:08,479
um the the the knx components well yeah

00:07:07,759 --> 00:07:10,880
well

00:07:08,479 --> 00:07:13,120
i use the knx protocol to talk to them

00:07:10,880 --> 00:07:16,400
uh the energy production and storage

00:07:13,120 --> 00:07:18,720
it's also integrated into my knx system

00:07:16,400 --> 00:07:20,240
the smoke detectors uh for that i have

00:07:18,720 --> 00:07:22,960
homatic ip

00:07:20,240 --> 00:07:24,080
because the problem was uh koenig smoke

00:07:22,960 --> 00:07:27,599
detectors when i

00:07:24,080 --> 00:07:28,800
built this thing they were sort of 250

00:07:27,599 --> 00:07:30,479
bucks each

00:07:28,800 --> 00:07:32,800
and you would have to replace them every

00:07:30,479 --> 00:07:36,560
10 years to sort of have

00:07:32,800 --> 00:07:37,680
insurance so i rather stuck with a 30 to

00:07:36,560 --> 00:07:40,800
40 bucks

00:07:37,680 --> 00:07:44,720
uh homatic ip versions and

00:07:40,800 --> 00:07:47,759
just integrate them um

00:07:44,720 --> 00:07:50,080
um the air conditioning well that should

00:07:47,759 --> 00:07:50,960
probably be available via modbus but i

00:07:50,080 --> 00:07:53,840
still have to

00:07:50,960 --> 00:07:55,440
pay sort of the uh they have a little

00:07:53,840 --> 00:07:59,120
bit piece of hardware that i

00:07:55,440 --> 00:08:02,560
um can use to integrate

00:07:59,120 --> 00:08:04,639
still got to buy that so

00:08:02,560 --> 00:08:06,240
as i promised you're going to ask why

00:08:04,639 --> 00:08:09,599
not use something existing

00:08:06,240 --> 00:08:12,240
so this little uh this little

00:08:09,599 --> 00:08:13,120
demo here is a sort of a screen of

00:08:12,240 --> 00:08:15,280
openhab

00:08:13,120 --> 00:08:18,160
but i have to admit i intentionally

00:08:15,280 --> 00:08:21,199
chose the the one i really liked most

00:08:18,160 --> 00:08:24,240
what i could find um

00:08:21,199 --> 00:08:25,680
interesting thing is uh openhab the lead

00:08:24,240 --> 00:08:28,879
developer of open hab

00:08:25,680 --> 00:08:30,080
kaikrizza he lives sort of 2 000 meters

00:08:28,879 --> 00:08:31,919
away from me so

00:08:30,080 --> 00:08:33,599
we both live in uh this little town

00:08:31,919 --> 00:08:36,640
called overranstat

00:08:33,599 --> 00:08:39,599
near darmstadt in germany

00:08:36,640 --> 00:08:40,000
and but sort of we never ever had a beer

00:08:39,599 --> 00:08:41,919
together

00:08:40,000 --> 00:08:44,240
i think probably have to change that

00:08:41,919 --> 00:08:44,240
soon

00:08:44,480 --> 00:08:49,440
but it's not just uh it's not just uh

00:08:47,279 --> 00:08:50,720
open harbor we have eclipse home we have

00:08:49,440 --> 00:08:54,560
home assistant

00:08:50,720 --> 00:08:56,959
openmotics uh g-dome io broker and

00:08:54,560 --> 00:08:58,560
name them all and i have to admit i just

00:08:56,959 --> 00:09:03,040
shamelessly stole this list

00:08:58,560 --> 00:09:05,680
from uh ubititia youbiddyouts.com

00:09:03,040 --> 00:09:07,200
um i'll share that uh sort of uh in in

00:09:05,680 --> 00:09:09,440
the chat here

00:09:07,200 --> 00:09:10,880
just for the sake of completion

00:09:09,440 --> 00:09:14,160
completeness

00:09:10,880 --> 00:09:17,680
um because the thing is

00:09:14,160 --> 00:09:20,880
um i didn't really care if there

00:09:17,680 --> 00:09:23,839
is anything existing because

00:09:20,880 --> 00:09:25,279
i don't want to have a home automation

00:09:23,839 --> 00:09:28,320
system

00:09:25,279 --> 00:09:30,959
i want to build one um

00:09:28,320 --> 00:09:31,440
and uh when playing around with all of

00:09:30,959 --> 00:09:34,720
these

00:09:31,440 --> 00:09:36,640
uh existing or i shouldn't say with all

00:09:34,720 --> 00:09:38,720
of these i tried some of them but

00:09:36,640 --> 00:09:40,000
one thing i did just didn't want to do

00:09:38,720 --> 00:09:43,279
is just to click through

00:09:40,000 --> 00:09:45,680
some wizards and some web ui uh

00:09:43,279 --> 00:09:46,720
and have some strange rule editors that

00:09:45,680 --> 00:09:49,360
you could sort of like

00:09:46,720 --> 00:09:51,040
just configure everything without really

00:09:49,360 --> 00:09:54,240
getting your

00:09:51,040 --> 00:09:56,959
fingers dirty um i wanted to build

00:09:54,240 --> 00:09:59,440
build it with stuff i know or or stuff i

00:09:56,959 --> 00:10:02,240
wanted to know

00:09:59,440 --> 00:10:04,240
and especially i wanted to build it with

00:10:02,240 --> 00:10:06,880
stuff that i can actually use for work

00:10:04,240 --> 00:10:08,240
so if i for example if i would do

00:10:06,880 --> 00:10:10,399
everything with openhab

00:10:08,240 --> 00:10:11,519
i thought yeah well if i now want to

00:10:10,399 --> 00:10:15,120
automate

00:10:11,519 --> 00:10:18,240
a factory uh so what good would be

00:10:15,120 --> 00:10:19,120
would my uh totally awesome uh open hub

00:10:18,240 --> 00:10:22,800
skills be

00:10:19,120 --> 00:10:25,120
uh worth in uh so the idea was

00:10:22,800 --> 00:10:26,640
i wanted to use all of the stuff that i

00:10:25,120 --> 00:10:29,920
would really like to

00:10:26,640 --> 00:10:33,519
build automation factories uh and just

00:10:29,920 --> 00:10:36,079
try it out in my house

00:10:33,519 --> 00:10:37,920
so what do i want to do well in general

00:10:36,079 --> 00:10:41,440
i want to see my house things

00:10:37,920 --> 00:10:44,480
so if i'm someday again maybe

00:10:41,440 --> 00:10:46,480
on an apache con north america hanging

00:10:44,480 --> 00:10:48,720
out in some pub with you guys

00:10:46,480 --> 00:10:49,519
um and i want to see how's my house

00:10:48,720 --> 00:10:52,240
doing so

00:10:49,519 --> 00:10:54,320
i can just grab my phone and have a look

00:10:52,240 --> 00:10:56,959
uh i want to interact with my house

00:10:54,320 --> 00:10:57,600
uh sort of i don't want to have to get

00:10:56,959 --> 00:11:00,160
up

00:10:57,600 --> 00:11:01,120
to flick the switch behind me uh i just

00:11:00,160 --> 00:11:03,360
want to

00:11:01,120 --> 00:11:04,560
have some button i could press well i

00:11:03,360 --> 00:11:08,000
have to admit it's

00:11:04,560 --> 00:11:08,959
a little childish but oh well i sort of

00:11:08,000 --> 00:11:11,200
like it

00:11:08,959 --> 00:11:12,320
um and one thing i really wanted to

00:11:11,200 --> 00:11:14,240
start to do is

00:11:12,320 --> 00:11:15,760
start optimizing power because i

00:11:14,240 --> 00:11:18,560
mentioned i have

00:11:15,760 --> 00:11:19,519
a solar power and a battery buffer and

00:11:18,560 --> 00:11:22,640
the thing is

00:11:19,519 --> 00:11:26,399
every kilowatt hour i sell to the

00:11:22,640 --> 00:11:29,920
network i get sort of 14 cents and every

00:11:26,399 --> 00:11:32,959
kilowatt hour i buy uh cost me 28.

00:11:29,920 --> 00:11:34,959
so i would really like to try to

00:11:32,959 --> 00:11:38,000
optimize my power consumption

00:11:34,959 --> 00:11:38,720
to use as much as my own power as i

00:11:38,000 --> 00:11:42,640
could

00:11:38,720 --> 00:11:44,480
uh for example um run the dishwasher as

00:11:42,640 --> 00:11:46,480
soon as the battery is fully charged and

00:11:44,480 --> 00:11:50,399
i still have some excess power

00:11:46,480 --> 00:11:51,440
uh maybe if i know uh i i need to charge

00:11:50,399 --> 00:11:54,800
my

00:11:51,440 --> 00:11:57,360
my girlfriend's e-bike or or whatever

00:11:54,800 --> 00:11:58,560
stuff needs charging uh but today's a

00:11:57,360 --> 00:12:01,200
rainy day and we're

00:11:58,560 --> 00:12:01,839
running a little low on uh power but

00:12:01,200 --> 00:12:03,519
tomorrow

00:12:01,839 --> 00:12:05,120
the weather forecast says it's it's

00:12:03,519 --> 00:12:07,440
gonna be a nice day

00:12:05,120 --> 00:12:08,720
so uh i thought it would be really cool

00:12:07,440 --> 00:12:11,600
if i could sort of like just

00:12:08,720 --> 00:12:13,440
schedule stuff where i will be needing

00:12:11,600 --> 00:12:15,839
power but i'm not needing it now

00:12:13,440 --> 00:12:17,120
so it could just be postponed to when

00:12:15,839 --> 00:12:20,720
conditions are

00:12:17,120 --> 00:12:21,680
better i want to implement some

00:12:20,720 --> 00:12:23,440
scenarios

00:12:21,680 --> 00:12:25,440
one of the scenarios i would really like

00:12:23,440 --> 00:12:26,240
to implement and i think that has a real

00:12:25,440 --> 00:12:28,959
value is

00:12:26,240 --> 00:12:30,800
for example if a smoke detector goes off

00:12:28,959 --> 00:12:32,560
a few weeks ago

00:12:30,800 --> 00:12:33,920
one of them had a false alarm in the

00:12:32,560 --> 00:12:35,760
middle of the night it just

00:12:33,920 --> 00:12:37,839
started yelling and as they're all

00:12:35,760 --> 00:12:39,200
connected they all just started yelling

00:12:37,839 --> 00:12:41,680
and now you get up in the

00:12:39,200 --> 00:12:43,360
in in the middle of the night and you

00:12:41,680 --> 00:12:44,800
walk through your house trying to find

00:12:43,360 --> 00:12:48,720
out which detector

00:12:44,800 --> 00:12:50,959
actually turned uh what was turned on

00:12:48,720 --> 00:12:52,399
uh so one of the things i i would really

00:12:50,959 --> 00:12:53,120
like to do is as soon as the smoke

00:12:52,399 --> 00:12:56,240
detector

00:12:53,120 --> 00:12:57,360
goes off turn on all the lights open all

00:12:56,240 --> 00:13:00,720
the shutters

00:12:57,360 --> 00:13:02,160
uh just uh if there's a real fire uh

00:13:00,720 --> 00:13:04,320
and you don't know how long the

00:13:02,160 --> 00:13:06,560
electricity will be able to

00:13:04,320 --> 00:13:08,000
continue it's really important that the

00:13:06,560 --> 00:13:10,079
fire uh

00:13:08,000 --> 00:13:12,320
fireman can enter through a window or

00:13:10,079 --> 00:13:14,560
can evacuate you through a window

00:13:12,320 --> 00:13:17,120
so and especially i showed you those

00:13:14,560 --> 00:13:19,839
little room controllers

00:13:17,120 --> 00:13:20,720
so i want as soon as one smoke detector

00:13:19,839 --> 00:13:24,000
goes off

00:13:20,720 --> 00:13:25,279
that these little uh controllers have in

00:13:24,000 --> 00:13:28,480
text glowing in there

00:13:25,279 --> 00:13:31,200
which one went off um

00:13:28,480 --> 00:13:32,000
or well if i'm gonna switch my house to

00:13:31,200 --> 00:13:34,800
party mode

00:13:32,000 --> 00:13:37,519
well we better crank up the power on the

00:13:34,800 --> 00:13:39,839
uh air conditioning

00:13:37,519 --> 00:13:39,839
um

00:13:42,399 --> 00:13:48,160
yeah so my software setup currently

00:13:45,839 --> 00:13:50,320
uh well of course i'm using plc for x co

00:13:48,160 --> 00:13:54,720
to communicate with my house

00:13:50,320 --> 00:13:59,600
um i'm using iot2b to store the iot data

00:13:54,720 --> 00:14:02,399
um and uh i dug out something

00:13:59,600 --> 00:14:02,959
in the trenches i don't know if anybody

00:14:02,399 --> 00:14:06,079
of you

00:14:02,959 --> 00:14:07,440
has heard of apache flex blaze yes it

00:14:06,079 --> 00:14:12,320
was sort of the server

00:14:07,440 --> 00:14:14,079
side of these old flex applications

00:14:12,320 --> 00:14:15,440
but i'm using that for communicating

00:14:14,079 --> 00:14:18,959
with a client

00:14:15,440 --> 00:14:22,160
because apache royal is

00:14:18,959 --> 00:14:23,519
as the the successor of apache flex also

00:14:22,160 --> 00:14:27,279
knows how to talk

00:14:23,519 --> 00:14:28,959
amf and hereby i can just reuse what i

00:14:27,279 --> 00:14:31,279
had

00:14:28,959 --> 00:14:32,399
and continue communicating uh with a

00:14:31,279 --> 00:14:34,880
client

00:14:32,399 --> 00:14:35,920
and as i know i want to display all

00:14:34,880 --> 00:14:38,959
sorts of charts

00:14:35,920 --> 00:14:42,240
uh because well i like charts

00:14:38,959 --> 00:14:48,000
and i know that apache had this echarts

00:14:42,240 --> 00:14:48,000
project um luckily a few weeks ago

00:14:48,079 --> 00:14:53,920
a cool guy started uh implementing uh

00:14:51,519 --> 00:14:54,959
a little integration for royal for

00:14:53,920 --> 00:14:56,839
echarts

00:14:54,959 --> 00:14:58,639
and i'm using that to display some

00:14:56,839 --> 00:15:01,839
charts

00:14:58,639 --> 00:15:03,279
um as you all know those are just some

00:15:01,839 --> 00:15:05,279
sort of loose ends

00:15:03,279 --> 00:15:07,199
you have to tie them together to with

00:15:05,279 --> 00:15:08,399
some component framework or something

00:15:07,199 --> 00:15:11,760
like that

00:15:08,399 --> 00:15:12,800
um i'm using spring i have to admit and

00:15:11,760 --> 00:15:15,839
that's where i'm

00:15:12,800 --> 00:15:19,040
currently sort of not using apache stuff

00:15:15,839 --> 00:15:20,639
the only uh real component framework i

00:15:19,040 --> 00:15:22,720
remember from apache

00:15:20,639 --> 00:15:24,000
it was the apache avalon i don't know if

00:15:22,720 --> 00:15:27,040
any one of you has

00:15:24,000 --> 00:15:28,720
uh used apache avalon i remember in the

00:15:27,040 --> 00:15:31,759
apache cocoon times

00:15:28,720 --> 00:15:33,759
uh apache avalon was sort of

00:15:31,759 --> 00:15:35,279
really cool but as soon as you started

00:15:33,759 --> 00:15:39,040
using spring and the others

00:15:35,279 --> 00:15:41,120
uh well let's say my opinion has changed

00:15:39,040 --> 00:15:44,000
and i wasn't desiring to go back to the

00:15:41,120 --> 00:15:44,000
avalon times

00:15:45,040 --> 00:15:51,600
yeah i saw it uh i think yeah

00:15:48,240 --> 00:15:53,759
it says uh let's move to the attic so

00:15:51,600 --> 00:15:54,639
but hey come on i still use stuff that's

00:15:53,759 --> 00:15:57,680
in the attic

00:15:54,639 --> 00:15:59,680
doesn't mean it doesn't work um i

00:15:57,680 --> 00:16:04,000
probably could have used um

00:15:59,680 --> 00:16:06,560
carafe but i decided i was already

00:16:04,000 --> 00:16:07,680
having so many loose ends with this that

00:16:06,560 --> 00:16:10,399
i didn't want to

00:16:07,680 --> 00:16:11,680
start working on an uh blaze yes

00:16:10,399 --> 00:16:15,360
integration for

00:16:11,680 --> 00:16:18,240
osgi so uh yeah okay you already

00:16:15,360 --> 00:16:18,639
mentioned it um yeah but i i knew there

00:16:18,240 --> 00:16:20,800
was

00:16:18,639 --> 00:16:22,800
quite a bit of work to be done and being

00:16:20,800 --> 00:16:26,320
one of the developers of uh

00:16:22,800 --> 00:16:27,839
blaze yes i knew it's not gonna play

00:16:26,320 --> 00:16:30,320
that well in the osgi

00:16:27,839 --> 00:16:31,759
world uh perhaps we're gonna change this

00:16:30,320 --> 00:16:34,000
because we'll be moving

00:16:31,759 --> 00:16:35,360
uh blaze yes to the royal project and

00:16:34,000 --> 00:16:37,680
giving it a

00:16:35,360 --> 00:16:39,839
clean up uh but i think that's going to

00:16:37,680 --> 00:16:41,120
be some time so i stuck with spring for

00:16:39,839 --> 00:16:44,000
now

00:16:41,120 --> 00:16:45,680
um in the near future i really want to

00:16:44,000 --> 00:16:48,639
integrate apache kafka

00:16:45,680 --> 00:16:49,759
not because i think kafka is the only

00:16:48,639 --> 00:16:53,040
thing

00:16:49,759 --> 00:16:55,759
i could use as sort of a message bus

00:16:53,040 --> 00:16:57,519
but i know it's the one used widely uh

00:16:55,759 --> 00:17:01,440
throughout the industry

00:16:57,519 --> 00:17:02,959
um for the smart home logic

00:17:01,440 --> 00:17:05,280
i think i'll be playing around with

00:17:02,959 --> 00:17:08,480
camel maybe even apache agent

00:17:05,280 --> 00:17:12,079
i mean i'm not scared of the attic um

00:17:08,480 --> 00:17:15,039
apache knife i or probably minify

00:17:12,079 --> 00:17:16,640
um apache flink will be uh interesting

00:17:15,039 --> 00:17:19,919
to have a look at

00:17:16,640 --> 00:17:22,240
and maybe even stream pipes um

00:17:19,919 --> 00:17:23,839
the thing is i haven't quite decided yet

00:17:22,240 --> 00:17:27,520
and i'm gonna play around with both of

00:17:23,839 --> 00:17:30,880
them and maybe for apachecon 2021

00:17:27,520 --> 00:17:33,760
um maybe i'll have some more here

00:17:30,880 --> 00:17:34,640
um but for me one thing is very

00:17:33,760 --> 00:17:37,200
important

00:17:34,640 --> 00:17:39,039
low energy consumption uh and that's

00:17:37,200 --> 00:17:40,320
where i think stream pipes currently

00:17:39,039 --> 00:17:42,320
might sort of not

00:17:40,320 --> 00:17:44,160
perform that well because i think it's

00:17:42,320 --> 00:17:47,440
not made for the really small

00:17:44,160 --> 00:17:48,640
things so probably something down

00:17:47,440 --> 00:17:52,320
minifire road or

00:17:48,640 --> 00:17:54,799
camel road will be the best fit for me

00:17:52,320 --> 00:17:55,440
right now because hey i don't i don't

00:17:54,799 --> 00:18:00,720
care make

00:17:55,440 --> 00:18:04,480
uh getting my fingers dirty um

00:18:00,720 --> 00:18:07,679
so here there should be

00:18:04,480 --> 00:18:12,720
a picture um

00:18:07,679 --> 00:18:12,720
i think that must have just got lost uh

00:18:13,679 --> 00:18:17,200
let me have a look well i think i'll

00:18:16,240 --> 00:18:19,600
just ex

00:18:17,200 --> 00:18:20,400
i'll try to show you the the picture

00:18:19,600 --> 00:18:23,600
afterwards

00:18:20,400 --> 00:18:26,799
uh i have no idea where it's gone

00:18:23,600 --> 00:18:28,720
um so right now i have a client

00:18:26,799 --> 00:18:30,000
in the browser that's built with apache

00:18:28,720 --> 00:18:33,200
royal

00:18:30,000 --> 00:18:36,240
it communicates via amf protocol with a

00:18:33,200 --> 00:18:36,240
blaze ds server

00:18:36,799 --> 00:18:41,360
the actionscript 3 model classes i'm

00:18:39,760 --> 00:18:43,840
using in my royal

00:18:41,360 --> 00:18:46,080
project uh are actually generated

00:18:43,840 --> 00:18:49,919
directly from the java model using

00:18:46,080 --> 00:18:52,400
uh flex mojo's granite is generator

00:18:49,919 --> 00:18:53,280
uh that's been been stuff i've been

00:18:52,400 --> 00:18:55,679
using

00:18:53,280 --> 00:18:57,120
i think for 12 years now and it still

00:18:55,679 --> 00:19:01,600
just works

00:18:57,120 --> 00:19:06,000
um on the server side i'm using

00:19:01,600 --> 00:19:09,280
uh apache flex blaze cs

00:19:06,000 --> 00:19:12,400
in conjunction with the there was a also

00:19:09,280 --> 00:19:14,480
retired spring project called

00:19:12,400 --> 00:19:16,640
spring flex integration i'm using that

00:19:14,480 --> 00:19:20,320
to integrate blaze ds

00:19:16,640 --> 00:19:21,600
um on the server side i'm also starting

00:19:20,320 --> 00:19:23,840
an iot db

00:19:21,600 --> 00:19:25,760
server inside the virtual machine

00:19:23,840 --> 00:19:26,559
because i just wanted to have something

00:19:25,760 --> 00:19:29,600
i can just

00:19:26,559 --> 00:19:31,200
sort of like java jar run and it fires

00:19:29,600 --> 00:19:33,280
up everything i need

00:19:31,200 --> 00:19:34,400
um so i gave that a try and it just

00:19:33,280 --> 00:19:38,080
worked

00:19:34,400 --> 00:19:41,200
um okay not everything is sort of

00:19:38,080 --> 00:19:43,440
out of the box uh for storing user data

00:19:41,200 --> 00:19:44,880
permissions and stuff like that i'm

00:19:43,440 --> 00:19:48,640
using a typical

00:19:44,880 --> 00:19:49,440
postgrade database um and i think that

00:19:48,640 --> 00:19:53,250
it's using

00:19:49,440 --> 00:19:55,440
spring data and hibernate to access it

00:19:53,250 --> 00:19:58,960
[Music]

00:19:55,440 --> 00:20:01,760
so and on the last mile

00:19:58,960 --> 00:20:04,840
i'm using the plc for xk nx driver for

00:20:01,760 --> 00:20:07,919
communicating with my house

00:20:04,840 --> 00:20:10,640
um and uh

00:20:07,919 --> 00:20:11,120
for all those who don't know what amf is

00:20:10,640 --> 00:20:14,000
and

00:20:11,120 --> 00:20:16,000
uh the thing i like with amf is just

00:20:14,000 --> 00:20:18,840
think of it as a strongly

00:20:16,000 --> 00:20:20,720
typed binary json it allows you to

00:20:18,840 --> 00:20:24,159
serialize

00:20:20,720 --> 00:20:24,799
large object models and send them over

00:20:24,159 --> 00:20:30,080
the wire

00:20:24,799 --> 00:20:30,080
highly efficiently and get it

00:20:30,240 --> 00:20:34,960
serialized deserialized on the client

00:20:32,880 --> 00:20:37,039
side

00:20:34,960 --> 00:20:38,960
and you can even send cyclic graphs

00:20:37,039 --> 00:20:39,360
because that's one thing i really hated

00:20:38,960 --> 00:20:43,120
with

00:20:39,360 --> 00:20:45,120
all the xml and all the json formats

00:20:43,120 --> 00:20:47,360
it's really hard if you have sort of a

00:20:45,120 --> 00:20:48,799
user and that's in groups and the groups

00:20:47,360 --> 00:20:50,960
have members

00:20:48,799 --> 00:20:52,880
they are users again well if you try

00:20:50,960 --> 00:20:53,520
sending that with json it starts getting

00:20:52,880 --> 00:20:56,720
silly

00:20:53,520 --> 00:20:59,760
uh with amf it just works because

00:20:56,720 --> 00:21:02,720
it works and one thing i was really

00:20:59,760 --> 00:21:03,919
surprised with was the performance of

00:21:02,720 --> 00:21:05,760
iot db

00:21:03,919 --> 00:21:08,640
because i started just pumping

00:21:05,760 --> 00:21:12,000
everything that's on my knx bus

00:21:08,640 --> 00:21:14,080
into an uh iot db instance and i was

00:21:12,000 --> 00:21:18,320
completely amazed that

00:21:14,080 --> 00:21:21,919
about it's about 600 kilobytes of data

00:21:18,320 --> 00:21:24,880
per day and i just thought oh gee

00:21:21,919 --> 00:21:27,440
uh that's that's very very good

00:21:24,880 --> 00:21:27,440
compression

00:21:28,000 --> 00:21:31,919
um so my application is built up of

00:21:30,480 --> 00:21:34,559
multiple modules

00:21:31,919 --> 00:21:36,159
each backend module can provide multiple

00:21:34,559 --> 00:21:39,200
front-end modules

00:21:36,159 --> 00:21:41,679
um so when logging in a user gets

00:21:39,200 --> 00:21:42,320
the the the client requests uh the lists

00:21:41,679 --> 00:21:45,360
of mute

00:21:42,320 --> 00:21:46,720
modules the user is allowed to use then

00:21:45,360 --> 00:21:49,280
it loads the modules

00:21:46,720 --> 00:21:50,400
while spring security takes care of uh

00:21:49,280 --> 00:21:52,480
only serving

00:21:50,400 --> 00:21:53,600
to that client the modules he's allowed

00:21:52,480 --> 00:21:57,760
to use because

00:21:53,600 --> 00:22:00,080
i always hated these highly modular

00:21:57,760 --> 00:22:01,360
back end systems and the front end is a

00:22:00,080 --> 00:22:04,080
monolith that just

00:22:01,360 --> 00:22:06,080
contains everything it just felt wrong

00:22:04,080 --> 00:22:08,720
and with royal and its module concept

00:22:06,080 --> 00:22:09,679
it's really easy to sort of set up this

00:22:08,720 --> 00:22:12,880
type of

00:22:09,679 --> 00:22:16,880
fine granular loader application

00:22:12,880 --> 00:22:19,280
um i usually have three different types

00:22:16,880 --> 00:22:20,960
of modules i have main modules you can

00:22:19,280 --> 00:22:24,080
think of a main module as

00:22:20,960 --> 00:22:27,120
sort of the the main component you have

00:22:24,080 --> 00:22:28,320
on the screen then i have user modules

00:22:27,120 --> 00:22:31,840
they are usually for

00:22:28,320 --> 00:22:33,679
setting uh user defined settings

00:22:31,840 --> 00:22:35,600
well in case of a home automation system

00:22:33,679 --> 00:22:38,080
it's probably not going to be that much

00:22:35,600 --> 00:22:39,200
but in case of normal applications well

00:22:38,080 --> 00:22:41,760
i think you can

00:22:39,200 --> 00:22:43,200
think of a lot of cases where you could

00:22:41,760 --> 00:22:45,760
use a user module

00:22:43,200 --> 00:22:46,559
and finally i have admin modules those

00:22:45,760 --> 00:22:49,760
are for

00:22:46,559 --> 00:22:53,200
setting general settings and

00:22:49,760 --> 00:22:53,200
configuration of the system

00:22:53,520 --> 00:22:59,840
um inside the royal application uh

00:22:57,120 --> 00:23:02,320
they have something called crux crooks i

00:22:59,840 --> 00:23:04,320
hope i pronounce it correctly

00:23:02,320 --> 00:23:05,520
and you can think of crooks as sort of

00:23:04,320 --> 00:23:09,120
like a

00:23:05,520 --> 00:23:13,039
lightweight spring in the browser

00:23:09,120 --> 00:23:15,919
you can set up crux context

00:23:13,039 --> 00:23:16,720
where you have your controllers your

00:23:15,919 --> 00:23:20,559
services

00:23:16,720 --> 00:23:23,200
your views and it completely handles

00:23:20,559 --> 00:23:23,760
the dependency injection and is a

00:23:23,200 --> 00:23:28,720
complete

00:23:23,760 --> 00:23:31,760
event uh handling framework um

00:23:28,720 --> 00:23:34,480
and uh the cool thing is every

00:23:31,760 --> 00:23:34,960
module that's loaded has its own little

00:23:34,480 --> 00:23:37,440
sub

00:23:34,960 --> 00:23:38,480
context it's sort of like a sub spring

00:23:37,440 --> 00:23:41,120
context

00:23:38,480 --> 00:23:42,720
and all the beans in there are wired and

00:23:41,120 --> 00:23:44,799
if they need something from the parent

00:23:42,720 --> 00:23:47,279
context the the context

00:23:44,799 --> 00:23:50,080
are wired together it can access

00:23:47,279 --> 00:23:51,200
services provided by the main context so

00:23:50,080 --> 00:23:54,159
it makes

00:23:51,200 --> 00:23:56,799
writing modular web applications really

00:23:54,159 --> 00:23:56,799
really easy

00:23:57,600 --> 00:24:02,880
yeah so i promised it's gonna be demo

00:24:01,919 --> 00:24:05,760
time

00:24:02,880 --> 00:24:06,559
and now it's gonna be the next moment

00:24:05,760 --> 00:24:10,080
when i'm gonna

00:24:06,559 --> 00:24:10,080
start becoming nervous

00:24:12,960 --> 00:24:16,960
stupid thing is a few minutes ago the

00:24:15,360 --> 00:24:19,919
sun was still out there i

00:24:16,960 --> 00:24:20,559
really hope you can yeah i think you can

00:24:19,919 --> 00:24:23,039
still see

00:24:20,559 --> 00:24:24,240
my window over there and my light up

00:24:23,039 --> 00:24:26,640
there

00:24:24,240 --> 00:24:27,840
um and here i have this little

00:24:26,640 --> 00:24:30,840
application

00:24:27,840 --> 00:24:32,080
and uh what you can see here is uh my

00:24:30,840 --> 00:24:35,120
completely

00:24:32,080 --> 00:24:38,400
uh crappy skills at using

00:24:35,120 --> 00:24:40,799
uh an svg editor

00:24:38,400 --> 00:24:41,840
usually you could imagine that this

00:24:40,799 --> 00:24:44,480
thermometer

00:24:41,840 --> 00:24:45,760
should have been green in the middle and

00:24:44,480 --> 00:24:49,039
not on the outside

00:24:45,760 --> 00:24:49,919
but i uh i was working on these svgs for

00:24:49,039 --> 00:24:52,640
about

00:24:49,919 --> 00:24:53,679
four or five hours and finally just gave

00:24:52,640 --> 00:24:56,799
up and i'll just

00:24:53,679 --> 00:24:59,919
uh demonstrate uh

00:24:56,799 --> 00:25:01,200
yeah i'm demonstrating my my ability of

00:24:59,919 --> 00:25:04,640
creating software not

00:25:01,200 --> 00:25:05,440
of drawing svgs uh what you can see here

00:25:04,640 --> 00:25:08,640
is uh

00:25:05,440 --> 00:25:13,039
some live values uh of the

00:25:08,640 --> 00:25:15,120
thermostats of all rooms uh in my

00:25:13,039 --> 00:25:16,880
in my house you can see the office i'm

00:25:15,120 --> 00:25:18,000
sitting in here i've been sitting for

00:25:16,880 --> 00:25:20,799
quite some time

00:25:18,000 --> 00:25:21,840
the heating is currently off so uh my

00:25:20,799 --> 00:25:24,400
macbook my

00:25:21,840 --> 00:25:26,840
factory and myself uh managed to get the

00:25:24,400 --> 00:25:29,120
temperature up a bit

00:25:26,840 --> 00:25:32,480
um i have uh

00:25:29,120 --> 00:25:35,919
the other um module i have

00:25:32,480 --> 00:25:38,640
um is um this is the

00:25:35,919 --> 00:25:39,679
the the echart integration i i was

00:25:38,640 --> 00:25:42,000
talking about

00:25:39,679 --> 00:25:44,159
now please don't be confused by the

00:25:42,000 --> 00:25:46,240
squiggly graph

00:25:44,159 --> 00:25:47,600
i'm sending over a hash map i just

00:25:46,240 --> 00:25:50,880
haven't figured out

00:25:47,600 --> 00:25:53,840
how to configure e charts to display

00:25:50,880 --> 00:25:55,200
these little time values uh as a time

00:25:53,840 --> 00:25:58,320
series

00:25:55,200 --> 00:26:01,760
but uh the values are real data uh

00:25:58,320 --> 00:26:04,000
and every time slot uh it's actually

00:26:01,760 --> 00:26:06,000
the the four values are correct just the

00:26:04,000 --> 00:26:06,720
ordering uh seems to be a little bit a

00:26:06,000 --> 00:26:09,039
mess

00:26:06,720 --> 00:26:10,400
uh up here you can currently see if i

00:26:09,039 --> 00:26:14,240
update um

00:26:10,400 --> 00:26:18,480
currently i'm pulling out 1 000 uh

00:26:14,240 --> 00:26:20,640
1.2 kilowatts from the battery

00:26:18,480 --> 00:26:21,679
uh and that's the total energy

00:26:20,640 --> 00:26:26,159
consumption of my

00:26:21,679 --> 00:26:29,279
house currently so yeah this is usually

00:26:26,159 --> 00:26:31,600
a a very low one or two digit number

00:26:29,279 --> 00:26:35,440
that sort of like just uh equalizes

00:26:31,600 --> 00:26:39,600
uh the differences uh in alternating

00:26:35,440 --> 00:26:43,120
uh power uh production

00:26:39,600 --> 00:26:46,080
but i think the thing most of you might

00:26:43,120 --> 00:26:48,400
find interesting is let me just shove

00:26:46,080 --> 00:26:51,440
this over a little bit

00:26:48,400 --> 00:26:52,240
uh so that's where i sort of run out of

00:26:51,440 --> 00:26:56,400
time

00:26:52,240 --> 00:26:59,360
uh so i'm a little sorry that

00:26:56,400 --> 00:26:59,840
i don't have something fancier to show

00:26:59,360 --> 00:27:03,520
you

00:26:59,840 --> 00:27:03,520
but at least i can do this

00:27:04,840 --> 00:27:13,039
ha oh yeah i like night mode

00:27:09,520 --> 00:27:16,159
uh i can raise and lower

00:27:13,039 --> 00:27:19,760
my uh shades so you can see

00:27:16,159 --> 00:27:23,440
the communication uh with the knx bus

00:27:19,760 --> 00:27:24,080
is working nicely and and all of this is

00:27:23,440 --> 00:27:26,880
just

00:27:24,080 --> 00:27:29,279
using apache stuff well except for

00:27:26,880 --> 00:27:29,279
spring

00:27:30,240 --> 00:27:38,320
so what's my time uh yeah i think i'm

00:27:35,200 --> 00:27:40,880
so what are my plans uh for the future

00:27:38,320 --> 00:27:41,600
well definitely the next thing i want to

00:27:40,880 --> 00:27:44,880
do is

00:27:41,600 --> 00:27:46,960
uh to add uh kafka

00:27:44,880 --> 00:27:48,080
as i mentioned not because i think kafka

00:27:46,960 --> 00:27:50,880
is the solution for

00:27:48,080 --> 00:27:52,159
every messaging problem but i know it's

00:27:50,880 --> 00:27:54,000
the one used

00:27:52,159 --> 00:27:55,200
especially in the production industry

00:27:54,000 --> 00:27:57,120
sort of

00:27:55,200 --> 00:27:59,279
they they're having a problem with

00:27:57,120 --> 00:28:00,640
adopting open source but kafka they sort

00:27:59,279 --> 00:28:03,840
of dig

00:28:00,640 --> 00:28:05,279
and uh well i think almost every car

00:28:03,840 --> 00:28:09,200
factory sort of

00:28:05,279 --> 00:28:11,200
runs some kafka cluster um

00:28:09,200 --> 00:28:12,559
and then i'm gonna really uh enjoy

00:28:11,200 --> 00:28:14,960
playing around with uh

00:28:12,559 --> 00:28:16,720
all of these uh different types of

00:28:14,960 --> 00:28:20,799
implementing some logic

00:28:16,720 --> 00:28:23,440
um i'm really even

00:28:20,799 --> 00:28:23,919
gonna look really forward to playing

00:28:23,440 --> 00:28:26,399
around

00:28:23,919 --> 00:28:28,799
with some uh machine learning stuff and

00:28:26,399 --> 00:28:31,919
the cool thing is with all of this

00:28:28,799 --> 00:28:32,799
i know how uh the the weather forecast

00:28:31,919 --> 00:28:34,960
is i know

00:28:32,799 --> 00:28:37,039
uh the state of my battery i know what

00:28:34,960 --> 00:28:40,080
my current energy production is

00:28:37,039 --> 00:28:43,360
i could even do stuff like fire up some

00:28:40,080 --> 00:28:44,000
um energy consuming node for machine

00:28:43,360 --> 00:28:45,679
learning

00:28:44,000 --> 00:28:47,520
as soon as the battery is full and i

00:28:45,679 --> 00:28:49,679
have excess uh power

00:28:47,520 --> 00:28:52,480
to do some machine learning on the iot

00:28:49,679 --> 00:28:56,159
db data i collected over the past week

00:28:52,480 --> 00:28:58,559
um and maybe optimized some rules for

00:28:56,159 --> 00:28:59,200
controlling my house so this is sort of

00:28:58,559 --> 00:29:01,279
the thing

00:28:59,200 --> 00:29:02,960
i'm really looking forward to playing

00:29:01,279 --> 00:29:06,000
around with in the future

00:29:02,960 --> 00:29:06,880
uh let's see how much time uh i'll be

00:29:06,000 --> 00:29:09,760
having because

00:29:06,880 --> 00:29:11,840
the thing if you have a house you always

00:29:09,760 --> 00:29:15,679
have something uh to do

00:29:11,840 --> 00:29:18,159
and uh usually it's not at the keyboard

00:29:15,679 --> 00:29:19,200
um but i'm really hoping on some crappy

00:29:18,159 --> 00:29:22,559
weather in

00:29:19,200 --> 00:29:24,159
in autumn now uh and well then i'm

00:29:22,559 --> 00:29:25,760
well unfortunately i can't go into the

00:29:24,159 --> 00:29:28,320
garden and then i'll just have to do

00:29:25,760 --> 00:29:28,320
some coding

00:29:28,960 --> 00:29:36,640
yeah so main content

00:29:32,799 --> 00:29:39,520
wise uh i'd say um i've

00:29:36,640 --> 00:29:40,960
sort of finished what i planned i have a

00:29:39,520 --> 00:29:44,399
little

00:29:40,960 --> 00:29:47,520
uh special note um

00:29:44,399 --> 00:29:48,880
because today is actually my last day at

00:29:47,520 --> 00:29:53,120
codecentric

00:29:48,880 --> 00:29:56,399
and i know it's quite unusual to sort of

00:29:53,120 --> 00:29:59,120
credit companies a lot but i

00:29:56,399 --> 00:29:59,840
would really like to thank codecentric

00:29:59,120 --> 00:30:03,360
because

00:29:59,840 --> 00:30:07,360
for the past three years they paid me uh

00:30:03,360 --> 00:30:10,240
to work on apache plc for x full time

00:30:07,360 --> 00:30:11,600
uh and exclusively and that i think that

00:30:10,240 --> 00:30:14,159
was the main reason

00:30:11,600 --> 00:30:16,240
uh the project is where it is now uh

00:30:14,159 --> 00:30:18,080
because i could concentrate on

00:30:16,240 --> 00:30:20,000
going doing promotion and stuff like

00:30:18,080 --> 00:30:22,159
that and i would really really like to

00:30:20,000 --> 00:30:24,320
thank codcentric for having done that i

00:30:22,159 --> 00:30:25,520
i think you can't expect that from any

00:30:24,320 --> 00:30:28,880
employer

00:30:25,520 --> 00:30:31,919
and starting tomorrow uh i actually just

00:30:28,880 --> 00:30:35,039
signed the the working contract uh

00:30:31,919 --> 00:30:38,320
during the the first keynote note today

00:30:35,039 --> 00:30:39,200
um i'll be joining a u.s startup called

00:30:38,320 --> 00:30:42,320
map

00:30:39,200 --> 00:30:43,200
effective tomorrow um but the good thing

00:30:42,320 --> 00:30:45,919
is

00:30:43,200 --> 00:30:47,919
there i'll be able to continue my work

00:30:45,919 --> 00:30:49,919
on plc fricks and that was one thing

00:30:47,919 --> 00:30:52,399
that was really really important for me

00:30:49,919 --> 00:30:55,600
i didn't want to abandon plc for x

00:30:52,399 --> 00:30:58,559
um but uh i had to

00:30:55,600 --> 00:30:59,679
decide uh if i wanted to continue

00:30:58,559 --> 00:31:02,240
working

00:30:59,679 --> 00:31:04,159
at concentric or if i wanted to continue

00:31:02,240 --> 00:31:06,880
working on plc forex and

00:31:04,159 --> 00:31:07,919
uh well unfortunately for concentric my

00:31:06,880 --> 00:31:11,440
priorities lie

00:31:07,919 --> 00:31:14,080
with uh with my baby

00:31:11,440 --> 00:31:14,559
and i just wanted to let you folks know

00:31:14,080 --> 00:31:17,600
uh

00:31:14,559 --> 00:31:19,120
i'll be still on the project active as

00:31:17,600 --> 00:31:24,399
ever

00:31:19,120 --> 00:31:24,399
and uh looking forward uh for the future

00:31:25,200 --> 00:31:32,080
so thank you all for listening

00:31:28,880 --> 00:31:32,559
uh i uh i'm sort of sorry and now i'm

00:31:32,080 --> 00:31:35,519
gonna

00:31:32,559 --> 00:31:36,080
try to find that little picture uh that

00:31:35,519 --> 00:31:40,799
crash

00:31:36,080 --> 00:31:40,799
uh seems to have gobbled up um

00:31:42,080 --> 00:31:47,840
let me just have a look

00:31:50,240 --> 00:31:54,960
because i did a really cool uh

00:31:55,200 --> 00:32:01,840
cool picture and it would be a waste to

00:31:57,440 --> 00:32:01,840
not show it

00:32:08,399 --> 00:32:14,480
so a lot of logos

00:32:11,440 --> 00:32:17,840
um so as i mentioned

00:32:14,480 --> 00:32:19,919
uh we have the royal front end uh

00:32:17,840 --> 00:32:22,480
it's using e charts to display chart

00:32:19,919 --> 00:32:23,840
data i'll probably also use it for

00:32:22,480 --> 00:32:25,600
all sorts of stuff because they have

00:32:23,840 --> 00:32:29,760
really cool widgets for

00:32:25,600 --> 00:32:32,960
uh showing some loads stuff like that

00:32:29,760 --> 00:32:34,399
using apache flex state blade yes uh

00:32:32,960 --> 00:32:37,039
we're probably gonna move

00:32:34,399 --> 00:32:39,120
that we already created the repository

00:32:37,039 --> 00:32:42,640
and we asked for permission

00:32:39,120 --> 00:32:46,240
for forking uh so we will

00:32:42,640 --> 00:32:49,279
be forking the the code base of blaze ds

00:32:46,240 --> 00:32:51,919
uh and continuing to maintain that as

00:32:49,279 --> 00:32:53,039
royal ds underneath the apache royal

00:32:51,919 --> 00:32:57,039
project

00:32:53,039 --> 00:33:00,159
um using plc4x for communicating uh

00:32:57,039 --> 00:33:05,279
with the house and using

00:33:00,159 --> 00:33:08,799
ifgdb and post3 sql as a storage system

00:33:05,279 --> 00:33:11,200
so i hope uh

00:33:08,799 --> 00:33:13,279
i hope you liked it and uh i would be

00:33:11,200 --> 00:33:15,760
really looking forward to seeing uh

00:33:13,279 --> 00:33:17,360
you folks uh turn up on the the apache

00:33:15,760 --> 00:33:20,480
royal the iot dp

00:33:17,360 --> 00:33:22,799
uh the plc for x uh mailing lists

00:33:20,480 --> 00:33:24,080
uh or the e-charts sorry because it's

00:33:22,799 --> 00:33:27,279
really awesome stuff we're doing

00:33:24,080 --> 00:33:30,399
there uh or or they are doing there

00:33:27,279 --> 00:33:32,399
um yeah

00:33:30,399 --> 00:33:34,880
the virtual background messed up the

00:33:32,399 --> 00:33:34,880
slides

00:33:36,320 --> 00:33:42,320
um sorry for that um

00:33:39,440 --> 00:33:43,039
i did notice yesterday that having a

00:33:42,320 --> 00:33:46,159
green screen

00:33:43,039 --> 00:33:49,200
in the background uh didn't

00:33:46,159 --> 00:33:53,279
um didn't work well at night

00:33:49,200 --> 00:33:56,559
um but good to know i'll i'll

00:33:53,279 --> 00:33:56,559
do it differently the next time

00:33:56,720 --> 00:33:59,440
any questions

00:33:59,760 --> 00:34:05,279
do i have some more time because i kept

00:34:02,320 --> 00:34:07,840
on watching the time for others

00:34:05,279 --> 00:34:07,840
but

00:34:16,800 --> 00:34:20,000
yeah well the question was why uh two

00:34:19,359 --> 00:34:22,800
different types

00:34:20,000 --> 00:34:23,919
of databases well these uh the the type

00:34:22,800 --> 00:34:27,200
of information is

00:34:23,919 --> 00:34:29,760
completely different um if i

00:34:27,200 --> 00:34:31,760
just want to use store some user data i

00:34:29,760 --> 00:34:34,800
think an iot db

00:34:31,760 --> 00:34:36,639
or a time series database is just not

00:34:34,800 --> 00:34:40,800
the right thing to use

00:34:36,639 --> 00:34:43,119
so i'm using iotdb for time series data

00:34:40,800 --> 00:34:45,599
and i'm using a relational database for

00:34:43,119 --> 00:34:49,839
typical relational data because

00:34:45,599 --> 00:34:49,839
that's what they work best with

00:34:53,599 --> 00:35:03,839
any other questions

00:35:05,839 --> 00:35:10,320
well i'll be hanging around here so ah

00:35:11,760 --> 00:35:16,400
yeah time scale to be uh could have been

00:35:14,720 --> 00:35:19,200
a choice but

00:35:16,400 --> 00:35:19,839
being a the mentor of the incubating

00:35:19,200 --> 00:35:22,320
project

00:35:19,839 --> 00:35:23,920
and uh now being a part of the pmc of

00:35:22,320 --> 00:35:27,920
the top level project

00:35:23,920 --> 00:35:32,320
um well uh my heart sort of

00:35:27,920 --> 00:35:32,320
just it just felt right to use iot db

00:35:33,040 --> 00:35:38,880
um mysql for iot yeah you could

00:35:36,400 --> 00:35:40,640
i think there is quite a lot of uh there

00:35:38,880 --> 00:35:42,560
is quite a lot of uh

00:35:40,640 --> 00:35:44,079
different options you have for any of

00:35:42,560 --> 00:35:46,560
these parts in between

00:35:44,079 --> 00:35:47,280
but i come on the the the title of this

00:35:46,560 --> 00:35:49,760
talk is

00:35:47,280 --> 00:35:50,320
home automation with apache so i try to

00:35:49,760 --> 00:35:54,160
sort of

00:35:50,320 --> 00:35:54,160
fill the gaps especially with apache

00:35:56,839 --> 00:36:02,079
software

00:35:58,240 --> 00:36:02,079
okay so

00:36:06,800 --> 00:36:12,240
yeah sir i guess

00:36:09,920 --> 00:36:14,560
i'll now be having a beer and then i'm

00:36:12,240 --> 00:36:17,680
gonna be watching julian and his uh

00:36:14,560 --> 00:36:21,520
really awesome talk about uh plc4x

00:36:17,680 --> 00:36:24,400
so see you in five minutes and uh it was

00:36:21,520 --> 00:36:24,400
a pleasure having you

00:36:24,839 --> 00:36:27,839
bye

00:36:37,119 --> 00:36:39,200

YouTube URL: https://www.youtube.com/watch?v=ITGSHSZ46fA


