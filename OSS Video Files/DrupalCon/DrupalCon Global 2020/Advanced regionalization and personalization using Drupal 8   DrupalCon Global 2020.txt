Title: Advanced regionalization and personalization using Drupal 8   DrupalCon Global 2020
Publication date: 2020-08-25
Playlist: DrupalCon Global 2020
Description: 
	Get an insiders look at how Napoleon Grillsâ€™ online experience uses content personalization using tools provided by Drupal modules.
Captions: 
	00:00:00,160 --> 00:00:06,319
on my uh devices so i think we

00:00:03,840 --> 00:00:08,240
hit this big red button and start

00:00:06,319 --> 00:00:11,120
actually playing

00:00:08,240 --> 00:00:12,320
also welcome everybody i'm super excited

00:00:11,120 --> 00:00:14,320
to be here today

00:00:12,320 --> 00:00:16,480
present advanced regionalization and

00:00:14,320 --> 00:00:19,920
personalization using drupal 8

00:00:16,480 --> 00:00:22,400
please post your questions in the chat

00:00:19,920 --> 00:00:24,960
with the prefix queue so that

00:00:22,400 --> 00:00:27,199
it is easier for us to gather and answer

00:00:24,960 --> 00:00:30,560
at the end of the session

00:00:27,199 --> 00:00:32,480
and let's get rolling all right

00:00:30,560 --> 00:00:34,320
well let's talk a little bit about me

00:00:32,480 --> 00:00:36,480
and who is that person who is talking to

00:00:34,320 --> 00:00:38,879
you on the other end of the camera

00:00:36,480 --> 00:00:40,000
i am currently a senior drupal architect

00:00:38,879 --> 00:00:42,160
at kalamuna

00:00:40,000 --> 00:00:43,600
and i am a former drupal solutions lead

00:00:42,160 --> 00:00:46,559
at digital echidna

00:00:43,600 --> 00:00:47,440
drupal 8 and 7 certified aqua grand

00:00:46,559 --> 00:00:50,000
master

00:00:47,440 --> 00:00:52,239
and i'm trainer and speaker and i live

00:00:50,000 --> 00:00:53,600
drupal have been doing drupal for over

00:00:52,239 --> 00:00:55,680
six years now

00:00:53,600 --> 00:00:58,640
and in general very excited to be here

00:00:55,680 --> 00:01:01,840
and sharing my knowledge with you guys

00:00:58,640 --> 00:01:03,920
so the challenge for this session uh

00:01:01,840 --> 00:01:05,920
was a project that i finished while

00:01:03,920 --> 00:01:07,920
working this digital echidna

00:01:05,920 --> 00:01:09,360
so i would like to say a huge thank you

00:01:07,920 --> 00:01:12,159
to the team for be

00:01:09,360 --> 00:01:14,000
for allowing me present uh this project

00:01:12,159 --> 00:01:15,119
here today and share the knowledge with

00:01:14,000 --> 00:01:17,600
everybody

00:01:15,119 --> 00:01:18,320
uh so the challenge was that uh will

00:01:17,600 --> 00:01:20,880
still a

00:01:18,320 --> 00:01:21,759
ltd company came to us a couple years

00:01:20,880 --> 00:01:24,560
ago

00:01:21,759 --> 00:01:25,840
and they would like to come up with the

00:01:24,560 --> 00:01:29,439
solution to

00:01:25,840 --> 00:01:32,400
gather their web properties together

00:01:29,439 --> 00:01:34,079
uh under one digital experience umbrella

00:01:32,400 --> 00:01:37,200
uh so at the moment

00:01:34,079 --> 00:01:39,200
of them approaching us they had about 20

00:01:37,200 --> 00:01:40,799
different web properties in different

00:01:39,200 --> 00:01:43,360
regions and languages

00:01:40,799 --> 00:01:45,040
they were all managed by regional

00:01:43,360 --> 00:01:48,000
editorial teams

00:01:45,040 --> 00:01:49,680
and they were on different technologies

00:01:48,000 --> 00:01:53,200
they were looking for a solution

00:01:49,680 --> 00:01:55,040
that would solidify this platform

00:01:53,200 --> 00:01:57,360
and connect everything together

00:01:55,040 --> 00:02:00,719
streamline editorial experience

00:01:57,360 --> 00:02:03,920
and also allow them to manage

00:02:00,719 --> 00:02:05,520
more effectively and in one place uh as

00:02:03,920 --> 00:02:08,879
a hosting provider

00:02:05,520 --> 00:02:10,959
we collaborated with that supported us

00:02:08,879 --> 00:02:12,160
in terms of a server implementation of

00:02:10,959 --> 00:02:15,280
this project

00:02:12,160 --> 00:02:18,720
and another challenges that were kind of

00:02:15,280 --> 00:02:20,800
following under this big scope was that

00:02:18,720 --> 00:02:23,360
different regions may use different

00:02:20,800 --> 00:02:26,160
terms in terms of

00:02:23,360 --> 00:02:26,560
terms for their approach and marketing

00:02:26,160 --> 00:02:28,400
uh

00:02:26,560 --> 00:02:30,160
so some regions would use the word

00:02:28,400 --> 00:02:33,519
grills when other

00:02:30,160 --> 00:02:36,400
regions would use the words uh barbecues

00:02:33,519 --> 00:02:37,360
also different products would also be

00:02:36,400 --> 00:02:39,280
different

00:02:37,360 --> 00:02:41,519
per region they might be the same

00:02:39,280 --> 00:02:42,560
looking product but based on the legal

00:02:41,519 --> 00:02:44,640
regulation

00:02:42,560 --> 00:02:46,239
they will have slight differences so

00:02:44,640 --> 00:02:47,680
therefore will consider it to be

00:02:46,239 --> 00:02:50,879
different products

00:02:47,680 --> 00:02:54,400
and they also needed to be regionalized

00:02:50,879 --> 00:02:56,879
uh and in terms of marketing uh the team

00:02:54,400 --> 00:02:57,680
told us that they had slightly different

00:02:56,879 --> 00:03:00,560
segments

00:02:57,680 --> 00:03:02,800
and personas uh based on the region

00:03:00,560 --> 00:03:04,480
certain regions were more focused on one

00:03:02,800 --> 00:03:05,040
thing while other regions had a

00:03:04,480 --> 00:03:07,280
different

00:03:05,040 --> 00:03:09,440
appeal so it was very important for the

00:03:07,280 --> 00:03:12,720
editors to be able to

00:03:09,440 --> 00:03:15,440
target the correct audience pure region

00:03:12,720 --> 00:03:17,200
and also tailor marketing experience to

00:03:15,440 --> 00:03:19,760
that persona

00:03:17,200 --> 00:03:22,480
they also wanted to have a seamless

00:03:19,760 --> 00:03:24,239
editorial experience where editors were

00:03:22,480 --> 00:03:26,000
able to create the content once and

00:03:24,239 --> 00:03:29,040
publish it everywhere

00:03:26,000 --> 00:03:29,599
so with this challenge and our belt and

00:03:29,040 --> 00:03:33,440
the ha

00:03:29,599 --> 00:03:35,200
in our hands we kind of moved into

00:03:33,440 --> 00:03:37,040
a first step which was the

00:03:35,200 --> 00:03:40,080
regionalization

00:03:37,040 --> 00:03:40,560
so regionalization is not quite the same

00:03:40,080 --> 00:03:43,599
as

00:03:40,560 --> 00:03:45,840
translation or setting up a multilingual

00:03:43,599 --> 00:03:48,000
site it could be the same language

00:03:45,840 --> 00:03:48,959
however that language may differ based

00:03:48,000 --> 00:03:51,440
on the region

00:03:48,959 --> 00:03:53,120
for example u.s english would be

00:03:51,440 --> 00:03:55,760
slightly different than uk

00:03:53,120 --> 00:03:57,840
english and the terms and verbs would be

00:03:55,760 --> 00:04:01,040
different as well as sometimes

00:03:57,840 --> 00:04:04,360
phrases and marketing coping

00:04:01,040 --> 00:04:07,599
so why regionalize uh because uh

00:04:04,360 --> 00:04:09,599
regionalization is actually something

00:04:07,599 --> 00:04:10,319
that is very important for the global

00:04:09,599 --> 00:04:13,120
world

00:04:10,319 --> 00:04:13,760
uh we have a content that might be more

00:04:13,120 --> 00:04:16,400
tailored

00:04:13,760 --> 00:04:18,239
to focus for the different region under

00:04:16,400 --> 00:04:21,519
different region demands

00:04:18,239 --> 00:04:25,120
as well as allow

00:04:21,519 --> 00:04:28,320
very familiar terms and uh

00:04:25,120 --> 00:04:31,680
votes used for this specific

00:04:28,320 --> 00:04:32,800
demographic specific nation specific

00:04:31,680 --> 00:04:34,880
language group

00:04:32,800 --> 00:04:37,120
uh and it would allow for the better

00:04:34,880 --> 00:04:37,919
user experience and the better content

00:04:37,120 --> 00:04:39,840
overalls

00:04:37,919 --> 00:04:41,199
that is very important for the marketing

00:04:39,840 --> 00:04:43,520
website and

00:04:41,199 --> 00:04:47,360
as as i mentioned that also would allow

00:04:43,520 --> 00:04:49,360
us to address some language variations

00:04:47,360 --> 00:04:51,040
so the approach we took was starting

00:04:49,360 --> 00:04:53,199
with brainstorming the ideas

00:04:51,040 --> 00:04:56,080
the first step that we thought would be

00:04:53,199 --> 00:04:58,720
useful is to create a multi-site uh

00:04:56,080 --> 00:05:01,440
so when we started evaluating this

00:04:58,720 --> 00:05:03,600
normal multi-site setup for drupal

00:05:01,440 --> 00:05:05,440
we figured it out that in this specific

00:05:03,600 --> 00:05:07,280
case it wouldn't be a good fit

00:05:05,440 --> 00:05:09,039
uh because it would be too many

00:05:07,280 --> 00:05:11,440
databases to manage and

00:05:09,039 --> 00:05:13,360
the editors would need to have some sort

00:05:11,440 --> 00:05:15,520
of a master domain database

00:05:13,360 --> 00:05:17,360
that would gather all of the content and

00:05:15,520 --> 00:05:20,160
then cascade it to

00:05:17,360 --> 00:05:21,440
the regional sites uh it would increase

00:05:20,160 --> 00:05:23,600
the complexity

00:05:21,440 --> 00:05:25,919
it also wouldn't fit the desired url

00:05:23,600 --> 00:05:27,120
pattern since the client already had the

00:05:25,919 --> 00:05:31,759
ability

00:05:27,120 --> 00:05:35,280
to have regional sites by the

00:05:31,759 --> 00:05:38,960
regent like uk.napoleon.com

00:05:35,280 --> 00:05:41,120
or us.napoleon.com they really didn't

00:05:38,960 --> 00:05:42,720
want to continue this strategy they

00:05:41,120 --> 00:05:45,440
actually wanted

00:05:42,720 --> 00:05:45,919
to have a balance one domain experience

00:05:45,440 --> 00:05:48,960
where

00:05:45,919 --> 00:05:49,520
everything would live under napoleon dot

00:05:48,960 --> 00:05:52,320
com

00:05:49,520 --> 00:05:53,600
slash and then the regional content will

00:05:52,320 --> 00:05:55,840
go after that

00:05:53,600 --> 00:05:56,800
so when we started playing with the url

00:05:55,840 --> 00:05:58,880
patterns uh

00:05:56,800 --> 00:06:01,600
we ran into some difficulties for

00:05:58,880 --> 00:06:03,680
example napoleon dot com slash far slash

00:06:01,600 --> 00:06:05,759
four where first of all would be a

00:06:03,680 --> 00:06:09,280
region and a second would be a language

00:06:05,759 --> 00:06:12,080
it was creating us um the infinite

00:06:09,280 --> 00:06:13,840
looks with the siblings because of the

00:06:12,080 --> 00:06:16,639
setup because drupal couldn't

00:06:13,840 --> 00:06:19,840
quite resolve to a fires in a row uh

00:06:16,639 --> 00:06:22,720
that obviously could have been

00:06:19,840 --> 00:06:24,240
overreading within htaccess however that

00:06:22,720 --> 00:06:26,160
would present

00:06:24,240 --> 00:06:28,080
a new challenge that it would be harder

00:06:26,160 --> 00:06:31,440
for us to add new

00:06:28,080 --> 00:06:31,919
regions without a developer help and one

00:06:31,440 --> 00:06:34,720
of the

00:06:31,919 --> 00:06:35,759
ideas behind the site was that the

00:06:34,720 --> 00:06:37,600
editors would be

00:06:35,759 --> 00:06:40,560
all site administrators would be able to

00:06:37,600 --> 00:06:42,880
spin off new regions fairly easily

00:06:40,560 --> 00:06:43,919
because the company was growing and

00:06:42,880 --> 00:06:47,440
expanding

00:06:43,919 --> 00:06:50,639
globally they also evaluated

00:06:47,440 --> 00:06:51,919
site factory aqua based multi-site

00:06:50,639 --> 00:06:55,840
solution

00:06:51,919 --> 00:06:56,400
but at that moment we didn't consider it

00:06:55,840 --> 00:06:59,440
to be

00:06:56,400 --> 00:07:01,360
quite a fit for the specific ideas and

00:06:59,440 --> 00:07:04,800
goals that the client was

00:07:01,360 --> 00:07:06,639
approaching so we decided uh to take a

00:07:04,800 --> 00:07:07,840
radical approach of keeping everything

00:07:06,639 --> 00:07:10,960
under one database

00:07:07,840 --> 00:07:14,000
now a disclaimer if you have a hired

00:07:10,960 --> 00:07:16,560
website with 800 multi-sites so

00:07:14,000 --> 00:07:18,800
uh such a big installation definitely

00:07:16,560 --> 00:07:21,440
not a fit for that approach that's more

00:07:18,800 --> 00:07:25,039
like a side factory approach actually

00:07:21,440 --> 00:07:27,280
but uh in terms of um our use case when

00:07:25,039 --> 00:07:28,960
we knew that we will have from 20 to 60

00:07:27,280 --> 00:07:32,000
websites merged together

00:07:28,960 --> 00:07:34,479
it was nice when we evaluated

00:07:32,000 --> 00:07:35,280
the impact on the database impact on the

00:07:34,479 --> 00:07:37,919
queries

00:07:35,280 --> 00:07:39,520
potential growth and all our tests

00:07:37,919 --> 00:07:41,680
showed that that would be a good

00:07:39,520 --> 00:07:44,319
approach and that allowed us to

00:07:41,680 --> 00:07:44,960
actually create content once and publish

00:07:44,319 --> 00:07:47,199
on all

00:07:44,960 --> 00:07:49,199
the regions so we went to this single

00:07:47,199 --> 00:07:51,360
database approach

00:07:49,199 --> 00:07:52,560
uh the first step was to set up the

00:07:51,360 --> 00:07:54,879
translation

00:07:52,560 --> 00:07:56,080
and there could be multiple things

00:07:54,879 --> 00:07:58,639
addressed in here

00:07:56,080 --> 00:08:01,360
they potentially could go with

00:07:58,639 --> 00:08:04,479
regionalizing by language and region

00:08:01,360 --> 00:08:07,759
so we could set up languages like uku

00:08:04,479 --> 00:08:10,400
english and then u.s english as custom

00:08:07,759 --> 00:08:12,000
drupal languages but that would affect

00:08:10,400 --> 00:08:15,360
url prefixes

00:08:12,000 --> 00:08:17,440
uh so for example it would be not slash

00:08:15,360 --> 00:08:21,360
uk but it would be slash en

00:08:17,440 --> 00:08:24,800
dash uk slash en us that wasn't

00:08:21,360 --> 00:08:27,039
a desired approach uh how and on top of

00:08:24,800 --> 00:08:30,240
it it would increase the complexity

00:08:27,039 --> 00:08:32,479
so uh an editor will have to

00:08:30,240 --> 00:08:34,080
have a conscious decision of which

00:08:32,479 --> 00:08:37,039
english to choose or this

00:08:34,080 --> 00:08:39,519
german to choose or french to choose is

00:08:37,039 --> 00:08:43,440
it canadian french or france french

00:08:39,519 --> 00:08:45,839
so it was very easy to actually simplify

00:08:43,440 --> 00:08:48,800
the setup and have one

00:08:45,839 --> 00:08:50,080
language and then just regionalize on

00:08:48,800 --> 00:08:52,320
top of the language

00:08:50,080 --> 00:08:54,560
um so he came up with an idea that will

00:08:52,320 --> 00:08:57,040
have one language

00:08:54,560 --> 00:08:58,720
and without any original variations so

00:08:57,040 --> 00:09:02,240
there will be english french

00:08:58,720 --> 00:09:05,040
german so and so forth and

00:09:02,240 --> 00:09:06,399
then we will originalize on top of it in

00:09:05,040 --> 00:09:08,720
terms of

00:09:06,399 --> 00:09:10,000
language setup i also said that would be

00:09:08,720 --> 00:09:12,160
best if we

00:09:10,000 --> 00:09:14,480
simplify the setup and keep original

00:09:12,160 --> 00:09:16,800
language of the notes always english

00:09:14,480 --> 00:09:18,959
because every single region would have

00:09:16,800 --> 00:09:20,959
an english no matter what

00:09:18,959 --> 00:09:22,480
and it doesn't have to be a region's

00:09:20,959 --> 00:09:25,680
default language but

00:09:22,480 --> 00:09:26,720
it will have learned english anyways and

00:09:25,680 --> 00:09:29,440
because of that

00:09:26,720 --> 00:09:31,360
i set up the the site so that the

00:09:29,440 --> 00:09:33,600
original language would be english and

00:09:31,360 --> 00:09:37,040
that would simplify views queries

00:09:33,600 --> 00:09:38,959
and solar indexing and they can

00:09:37,040 --> 00:09:40,320
visit this content later on so that

00:09:38,959 --> 00:09:42,480
would simplify the backend

00:09:40,320 --> 00:09:45,200
infrastructure of the site

00:09:42,480 --> 00:09:46,959
so we needed to set up regions so we

00:09:45,200 --> 00:09:49,360
needed to place the content

00:09:46,959 --> 00:09:50,640
in some sort of a context and the

00:09:49,360 --> 00:09:53,600
context module

00:09:50,640 --> 00:09:54,880
came to an rescue uh i directed it on

00:09:53,600 --> 00:09:56,800
drupal 7

00:09:54,880 --> 00:09:59,279
and i was very pleased with this

00:09:56,800 --> 00:10:01,120
credibility so i decided to evaluate it

00:09:59,279 --> 00:10:04,560
for the drupal 8

00:10:01,120 --> 00:10:05,200
and the evaluation was great uh it did

00:10:04,560 --> 00:10:07,600
evolve

00:10:05,200 --> 00:10:09,680
quite a bit and it actually utilized

00:10:07,600 --> 00:10:12,320
core capabilities for the contextual

00:10:09,680 --> 00:10:15,120
reactions and conditions

00:10:12,320 --> 00:10:17,360
uh and that was awesome so we decided to

00:10:15,120 --> 00:10:20,240
install the context module on the site

00:10:17,360 --> 00:10:22,079
and needed to figure out how to create

00:10:20,240 --> 00:10:24,480
the conditions and reactions

00:10:22,079 --> 00:10:26,000
the easiest thing that came to mind is

00:10:24,480 --> 00:10:28,560
to create the

00:10:26,000 --> 00:10:29,360
taxonomy condition because it's easy to

00:10:28,560 --> 00:10:32,320
modify

00:10:29,360 --> 00:10:33,279
easy to edit based on the editorial

00:10:32,320 --> 00:10:35,760
workflow

00:10:33,279 --> 00:10:36,959
and it's also can be easily applied to

00:10:35,760 --> 00:10:38,959
all of the nodes

00:10:36,959 --> 00:10:40,079
that's what we did we created regional

00:10:38,959 --> 00:10:42,959
taxonomy

00:10:40,079 --> 00:10:44,000
which called region and then we added

00:10:42,959 --> 00:10:45,920
all of the regions

00:10:44,000 --> 00:10:47,040
into this taxonomy so you can see on the

00:10:45,920 --> 00:10:49,600
screenshot

00:10:47,040 --> 00:10:51,839
that i have context and every single

00:10:49,600 --> 00:10:52,560
context actually matches this taxonomy

00:10:51,839 --> 00:10:55,680
term

00:10:52,560 --> 00:10:58,720
and then we made it to

00:10:55,680 --> 00:11:01,360
attach this region taxonomy

00:10:58,720 --> 00:11:03,200
to every single node on top of that

00:11:01,360 --> 00:11:05,200
client came up with a challenge that

00:11:03,200 --> 00:11:06,800
they would like to not only regionalize

00:11:05,200 --> 00:11:08,079
the content but also split it by

00:11:06,800 --> 00:11:10,160
divisions

00:11:08,079 --> 00:11:11,920
even though they were launching with one

00:11:10,160 --> 00:11:14,480
division grills

00:11:11,920 --> 00:11:16,480
they knew that they were going to grow

00:11:14,480 --> 00:11:17,440
and eventually bring in fireplaces and

00:11:16,480 --> 00:11:21,040
hvac

00:11:17,440 --> 00:11:21,360
contacts into the site uh so i did set

00:11:21,040 --> 00:11:24,079
up

00:11:21,360 --> 00:11:26,320
a secondary context on top of the region

00:11:24,079 --> 00:11:28,560
that was called divisions and

00:11:26,320 --> 00:11:30,480
similar to the regional context we

00:11:28,560 --> 00:11:33,839
created the taxonomy term

00:11:30,480 --> 00:11:35,680
grills that was applied on top of it uh

00:11:33,839 --> 00:11:38,560
even though we were launching this just

00:11:35,680 --> 00:11:40,320
grills i also needed to incorporate the

00:11:38,560 --> 00:11:43,279
corporate information

00:11:40,320 --> 00:11:44,640
uh on the side like about us um becoming

00:11:43,279 --> 00:11:48,959
a dealer careers

00:11:44,640 --> 00:11:52,160
all of that uh so that wasn't uh going

00:11:48,959 --> 00:11:54,320
under the grills context and we decided

00:11:52,160 --> 00:11:56,079
to set up a default context or no

00:11:54,320 --> 00:11:59,920
division contact that would be

00:11:56,079 --> 00:11:59,920
responsible for the corporate

00:12:00,959 --> 00:12:06,560
so that said we got the additional

00:12:04,000 --> 00:12:08,720
advantages of using taxonomies

00:12:06,560 --> 00:12:10,639
uh quickly we realized that context

00:12:08,720 --> 00:12:12,959
module was great and powerful in terms

00:12:10,639 --> 00:12:14,079
of some predefined conditions that those

00:12:12,959 --> 00:12:17,040
conditions were not

00:12:14,079 --> 00:12:18,959
enough for all of the possible things

00:12:17,040 --> 00:12:20,320
that we needed to track and customize

00:12:18,959 --> 00:12:22,480
the region

00:12:20,320 --> 00:12:24,000
things like language the default read

00:12:22,480 --> 00:12:26,399
language for the region

00:12:24,000 --> 00:12:27,120
all possible languages menus that would

00:12:26,399 --> 00:12:29,760
be used

00:12:27,120 --> 00:12:30,880
url prefix because who knew that we

00:12:29,760 --> 00:12:33,279
needed to have

00:12:30,880 --> 00:12:34,079
grills for us and then barbecues for

00:12:33,279 --> 00:12:37,040
canada and

00:12:34,079 --> 00:12:38,720
barbecues for uk and the different

00:12:37,040 --> 00:12:40,000
variations of this word throughout

00:12:38,720 --> 00:12:43,200
multiple regions

00:12:40,000 --> 00:12:45,360
uh as a url prefix and um

00:12:43,200 --> 00:12:47,279
on top of it we also needed to figure

00:12:45,360 --> 00:12:48,079
out how to serve the correct landing

00:12:47,279 --> 00:12:51,279
pages

00:12:48,079 --> 00:12:53,839
correct search uh and also give

00:12:51,279 --> 00:12:54,800
editors the ability to hide the region

00:12:53,839 --> 00:12:57,600
and welcome it

00:12:54,800 --> 00:12:59,040
on its content behind the scene without

00:12:57,600 --> 00:13:02,639
showing it to the

00:12:59,040 --> 00:13:05,120
end user so i did create another

00:13:02,639 --> 00:13:06,079
check box called active region or not

00:13:05,120 --> 00:13:09,440
all of these

00:13:06,079 --> 00:13:09,839
uh properties actually got stored into

00:13:09,440 --> 00:13:12,480
the

00:13:09,839 --> 00:13:14,880
taxonomy term and surprisingly i was

00:13:12,480 --> 00:13:18,000
using taxonomy in a very uncom

00:13:14,880 --> 00:13:20,000
unconventional way i did stop it so it

00:13:18,000 --> 00:13:22,240
is referencing language object

00:13:20,000 --> 00:13:24,160
and it's a reference in menu

00:13:22,240 --> 00:13:26,320
configuration entity i

00:13:24,160 --> 00:13:27,279
never saw that was possible before i did

00:13:26,320 --> 00:13:29,680
it but

00:13:27,279 --> 00:13:30,800
i was very thankful for the new drupal

00:13:29,680 --> 00:13:32,880
entity api

00:13:30,800 --> 00:13:34,880
and ability to reference those new

00:13:32,880 --> 00:13:36,800
entities that would never be possible in

00:13:34,880 --> 00:13:39,440
drupal 7.

00:13:36,800 --> 00:13:40,959
so now our taxonomies acted as

00:13:39,440 --> 00:13:43,839
containers and we got

00:13:40,959 --> 00:13:45,360
also benefits so that they were exposed

00:13:43,839 --> 00:13:47,120
to the editors so then

00:13:45,360 --> 00:13:49,440
it took away the strain from the

00:13:47,120 --> 00:13:51,199
development team and editors were able

00:13:49,440 --> 00:13:53,760
to just update this data

00:13:51,199 --> 00:13:55,040
and achieve new behaviors that they

00:13:53,760 --> 00:13:58,480
wanted so let's say

00:13:55,040 --> 00:14:01,279
update a home page update a url prefix

00:13:58,480 --> 00:14:02,560
attach it new language so for example if

00:14:01,279 --> 00:14:04,800
you were to start on

00:14:02,560 --> 00:14:06,160
launch switzerland region with english

00:14:04,800 --> 00:14:08,800
and german

00:14:06,160 --> 00:14:10,079
it could also add french later on and

00:14:08,800 --> 00:14:12,880
that didn't require

00:14:10,079 --> 00:14:14,880
any development all it required was just

00:14:12,880 --> 00:14:16,880
populating that language reference field

00:14:14,880 --> 00:14:20,079
in the taxonomy term

00:14:16,880 --> 00:14:22,720
so that was a pretty powerful context

00:14:20,079 --> 00:14:25,279
and then on top of it we put that

00:14:22,720 --> 00:14:27,279
taxonomy required as a required field on

00:14:25,279 --> 00:14:30,320
every single node to ensure that every

00:14:27,279 --> 00:14:33,360
single node has a context

00:14:30,320 --> 00:14:36,000
so as a result we got this

00:14:33,360 --> 00:14:38,560
so you can see that here we have a

00:14:36,000 --> 00:14:40,480
screenshot of two different headers

00:14:38,560 --> 00:14:41,680
uh one is for canada and one is for

00:14:40,480 --> 00:14:44,079
switzerland

00:14:41,680 --> 00:14:46,399
and you see that they look very familiar

00:14:44,079 --> 00:14:49,279
however a little bit different

00:14:46,399 --> 00:14:50,560
uh so you see that in canada we have two

00:14:49,279 --> 00:14:52,959
languages available

00:14:50,560 --> 00:14:53,600
english and french together on the side

00:14:52,959 --> 00:14:56,320
we had

00:14:53,600 --> 00:14:57,680
10 languages but they were filtered down

00:14:56,320 --> 00:15:00,079
by the context and that

00:14:57,680 --> 00:15:02,079
entity reference to the language and

00:15:00,079 --> 00:15:02,959
then we see that the default language

00:15:02,079 --> 00:15:05,600
for canada is

00:15:02,959 --> 00:15:06,959
english and unfor switzerland we have

00:15:05,600 --> 00:15:09,440
english and german

00:15:06,959 --> 00:15:10,079
and german is a default language for the

00:15:09,440 --> 00:15:13,199
switzerland's

00:15:10,079 --> 00:15:16,320
region you also see that uh topman

00:15:13,199 --> 00:15:19,920
user menu is actually uh different

00:15:16,320 --> 00:15:22,240
uh that in in switzerland and canada

00:15:19,920 --> 00:15:24,160
in canada we have three divisions which

00:15:22,240 --> 00:15:25,199
is fireplaces barbecues and heating and

00:15:24,160 --> 00:15:27,440
cooling

00:15:25,199 --> 00:15:28,399
and in switzerland it's only grills and

00:15:27,440 --> 00:15:31,440
you also see

00:15:28,399 --> 00:15:34,560
that main navigation differs based

00:15:31,440 --> 00:15:35,360
on the region as well as well as links

00:15:34,560 --> 00:15:38,639
to the

00:15:35,360 --> 00:15:40,639
logo and things like that but you can

00:15:38,639 --> 00:15:42,399
see everything in here but the idea you

00:15:40,639 --> 00:15:44,720
can see that the context actually

00:15:42,399 --> 00:15:47,440
powered all of these little pieces

00:15:44,720 --> 00:15:48,000
and regionalized personalize it based on

00:15:47,440 --> 00:15:51,600
the

00:15:48,000 --> 00:15:52,399
uh selected region so what happened

00:15:51,600 --> 00:15:54,800
under the foot

00:15:52,399 --> 00:15:56,800
let's look under the foot of our grill

00:15:54,800 --> 00:15:57,920
and under the hood of it on the back end

00:15:56,800 --> 00:16:01,360
of the site

00:15:57,920 --> 00:16:03,440
uh technically the whole heavy lifting

00:16:01,360 --> 00:16:04,480
was done by the context module i

00:16:03,440 --> 00:16:07,360
couldn't thank

00:16:04,480 --> 00:16:08,240
the contributors enough for that module

00:16:07,360 --> 00:16:11,199
however

00:16:08,240 --> 00:16:12,800
i could put all of the extra custom

00:16:11,199 --> 00:16:15,440
logic in pre-process

00:16:12,800 --> 00:16:17,600
and hooks and i would be done with it i

00:16:15,440 --> 00:16:19,680
quickly realized if i do this

00:16:17,600 --> 00:16:22,000
then it would be harder to maintain in

00:16:19,680 --> 00:16:24,000
the future it would be harder to onboard

00:16:22,000 --> 00:16:26,000
our new team members it also would be

00:16:24,000 --> 00:16:26,480
harder to collaborate and we would have

00:16:26,000 --> 00:16:29,279
to

00:16:26,480 --> 00:16:31,440
um call the same functions loading the

00:16:29,279 --> 00:16:34,079
same entities over and over again

00:16:31,440 --> 00:16:34,880
in order to avoid it i decided that we

00:16:34,079 --> 00:16:37,440
need to

00:16:34,880 --> 00:16:39,120
come up with a service that would hold

00:16:37,440 --> 00:16:41,920
all of the help and methods

00:16:39,120 --> 00:16:42,639
so i sit down and spend time to just

00:16:41,920 --> 00:16:44,480
kind of

00:16:42,639 --> 00:16:46,959
brainstorming all possible helper

00:16:44,480 --> 00:16:49,360
methods that they would ever need

00:16:46,959 --> 00:16:50,880
in terms of loading the contacts buys

00:16:49,360 --> 00:16:52,800
the taxonomy value

00:16:50,880 --> 00:16:54,399
loading the field out of that taxon

00:16:52,800 --> 00:16:56,800
number by the context

00:16:54,399 --> 00:16:57,600
and vice versa so every single possible

00:16:56,800 --> 00:16:59,360
sensor like

00:16:57,600 --> 00:17:01,279
i need the language by the context here

00:16:59,360 --> 00:17:02,959
we go the default language by the

00:17:01,279 --> 00:17:05,520
contacts here we go

00:17:02,959 --> 00:17:07,439
and menu by the contacts and all of that

00:17:05,520 --> 00:17:07,919
and i basically wrote all of the helper

00:17:07,439 --> 00:17:10,559
messages

00:17:07,919 --> 00:17:12,559
with documentation so now if a developer

00:17:10,559 --> 00:17:13,520
comes in working on a different feature

00:17:12,559 --> 00:17:15,360
of the site

00:17:13,520 --> 00:17:17,280
uh they wouldn't have to reinvent the

00:17:15,360 --> 00:17:19,280
view or understand necessarily

00:17:17,280 --> 00:17:21,439
how the context is set up that all they

00:17:19,280 --> 00:17:22,559
need to do is read the documentation on

00:17:21,439 --> 00:17:24,799
that service class

00:17:22,559 --> 00:17:25,919
and call the appropriate methods out of

00:17:24,799 --> 00:17:27,760
their modules and

00:17:25,919 --> 00:17:29,440
include that service as a dependency

00:17:27,760 --> 00:17:31,039
injection

00:17:29,440 --> 00:17:33,679
the second part of it was event

00:17:31,039 --> 00:17:36,160
subscriber uh we needed to redirect

00:17:33,679 --> 00:17:38,000
to specific original pages and in order

00:17:36,160 --> 00:17:40,160
to handle correct redirects

00:17:38,000 --> 00:17:42,000
we created an event subscriber that

00:17:40,160 --> 00:17:43,440
would handle the redirects and correct

00:17:42,000 --> 00:17:46,960
requests

00:17:43,440 --> 00:17:49,520
and uh the third part was not really um

00:17:46,960 --> 00:17:51,440
required but we still created it it was

00:17:49,520 --> 00:17:54,320
an ultra queries for the views

00:17:51,440 --> 00:17:55,520
now we could take a step back and

00:17:54,320 --> 00:17:56,960
actually create the

00:17:55,520 --> 00:17:59,600
views with all of these different

00:17:56,960 --> 00:18:01,600
displays so uh for example on the search

00:17:59,600 --> 00:18:03,440
view we would have a display filtered

00:18:01,600 --> 00:18:05,919
for canadian region and then we will

00:18:03,440 --> 00:18:08,559
have a display filtered for us region

00:18:05,919 --> 00:18:10,160
and then so on and so forth i quickly

00:18:08,559 --> 00:18:13,280
realized that we will create

00:18:10,160 --> 00:18:14,240
20 50 60 and so on so for this place and

00:18:13,280 --> 00:18:17,200
that

00:18:14,240 --> 00:18:19,520
will create a mess side build experience

00:18:17,200 --> 00:18:21,760
it will also be harder to maintain and

00:18:19,520 --> 00:18:22,559
again we create a dependency on the site

00:18:21,760 --> 00:18:26,000
builder

00:18:22,559 --> 00:18:28,240
uh to be able to uh create additional

00:18:26,000 --> 00:18:29,760
regions because i will have to go in and

00:18:28,240 --> 00:18:31,760
duplicate the display

00:18:29,760 --> 00:18:33,200
and set up a new condition so that

00:18:31,760 --> 00:18:35,679
wasn't an option

00:18:33,200 --> 00:18:36,640
uh so i came up with the solution to

00:18:35,679 --> 00:18:39,679
create and

00:18:36,640 --> 00:18:41,039
query alter and the interview setup the

00:18:39,679 --> 00:18:43,120
default filter

00:18:41,039 --> 00:18:44,480
and then the clear realtor would fire

00:18:43,120 --> 00:18:47,919
read the context value

00:18:44,480 --> 00:18:50,960
and update the filter uh accordingly

00:18:47,919 --> 00:18:53,360
so therefore we had just one split

00:18:50,960 --> 00:18:56,080
view and then it's set up to

00:18:53,360 --> 00:18:58,400
automatically scale for new regions and

00:18:56,080 --> 00:19:00,720
nobody needs to do any other development

00:18:58,400 --> 00:19:04,640
work so that was another win that

00:19:00,720 --> 00:19:07,520
we had out of the regionalization setup

00:19:04,640 --> 00:19:09,760
all right so that challenge was done we

00:19:07,520 --> 00:19:11,360
had our regionalized experience we had

00:19:09,760 --> 00:19:13,919
our region set up

00:19:11,360 --> 00:19:15,919
and we had all these little pieces

00:19:13,919 --> 00:19:17,520
customized and served differently based

00:19:15,919 --> 00:19:19,360
on the original context

00:19:17,520 --> 00:19:20,799
next challenge was an editorial

00:19:19,360 --> 00:19:23,760
experience

00:19:20,799 --> 00:19:24,320
so main goal was to create ones and

00:19:23,760 --> 00:19:26,480
publish

00:19:24,320 --> 00:19:28,400
everywhere that means that editors

00:19:26,480 --> 00:19:29,679
shouldn't copy paste content from one

00:19:28,400 --> 00:19:32,320
region to another and

00:19:29,679 --> 00:19:34,559
in general that helps them out to create

00:19:32,320 --> 00:19:37,120
better content and do more meaningful

00:19:34,559 --> 00:19:40,320
things in their day-to-day jokes

00:19:37,120 --> 00:19:43,360
and they should be able to create it on

00:19:40,320 --> 00:19:44,000
one uh place and then select both

00:19:43,360 --> 00:19:45,679
regions

00:19:44,000 --> 00:19:47,360
that content should apply because we

00:19:45,679 --> 00:19:49,840
definitely don't want to create

00:19:47,360 --> 00:19:50,960
the same content for all regions we want

00:19:49,840 --> 00:19:53,360
to be able to

00:19:50,960 --> 00:19:54,480
selectively apply it so one of the use

00:19:53,360 --> 00:19:56,640
cases would be

00:19:54,480 --> 00:19:57,840
let's say we have a promotion for five

00:19:56,640 --> 00:19:59,600
percent off

00:19:57,840 --> 00:20:02,559
if you subscribe to the instagram

00:19:59,600 --> 00:20:04,960
account but that promotion only valid uh

00:20:02,559 --> 00:20:06,159
for example this time for uk us and

00:20:04,960 --> 00:20:07,760
canada

00:20:06,159 --> 00:20:09,600
editors would want to create this

00:20:07,760 --> 00:20:12,880
promotion just once

00:20:09,600 --> 00:20:14,400
and then apply it for uk us and canadian

00:20:12,880 --> 00:20:16,559
regions

00:20:14,400 --> 00:20:18,559
now moving forward with that they also

00:20:16,559 --> 00:20:20,480
don't want to create translations for

00:20:18,559 --> 00:20:22,559
all of the possible languages because

00:20:20,480 --> 00:20:25,600
they are not applicable for this region

00:20:22,559 --> 00:20:27,840
so if they were to create that promotion

00:20:25,600 --> 00:20:28,720
for canada they would want only english

00:20:27,840 --> 00:20:31,520
and french

00:20:28,720 --> 00:20:32,320
and then for us they would have english

00:20:31,520 --> 00:20:35,440
and spanish

00:20:32,320 --> 00:20:36,000
and then for uk only english and on top

00:20:35,440 --> 00:20:39,440
of it

00:20:36,000 --> 00:20:42,559
uh let's say in uk it would also require

00:20:39,440 --> 00:20:43,280
to follow the company on twitter but

00:20:42,559 --> 00:20:46,159
that wouldn't

00:20:43,280 --> 00:20:47,120
be a requirement for us and canada so in

00:20:46,159 --> 00:20:49,280
order for

00:20:47,120 --> 00:20:51,520
to achieve that we would need to allow

00:20:49,280 --> 00:20:53,039
editors to override the content on the

00:20:51,520 --> 00:20:54,960
region to region basis

00:20:53,039 --> 00:20:57,840
on own translation to a translation

00:20:54,960 --> 00:21:00,159
basis so that was the challenge

00:20:57,840 --> 00:21:02,559
knowing that we came up with the concept

00:21:00,159 --> 00:21:04,799
of master child relationship

00:21:02,559 --> 00:21:06,799
where we created the master main nodes

00:21:04,799 --> 00:21:07,600
like a containers that were source of

00:21:06,799 --> 00:21:10,799
truth

00:21:07,600 --> 00:21:13,760
those sources of truth would contain

00:21:10,799 --> 00:21:15,520
all of the content and then they would

00:21:13,760 --> 00:21:18,159
direct the creation of

00:21:15,520 --> 00:21:19,360
child nodes those child nodes will be

00:21:18,159 --> 00:21:21,360
placed in the menu

00:21:19,360 --> 00:21:22,400
while masternodes will always stay

00:21:21,360 --> 00:21:24,240
behind the scene

00:21:22,400 --> 00:21:27,280
and never would be able to be placed in

00:21:24,240 --> 00:21:28,640
the menu and then children can also

00:21:27,280 --> 00:21:31,120
severe the connection with the

00:21:28,640 --> 00:21:34,720
masternode become independent and become

00:21:31,120 --> 00:21:37,120
overwritten so on the back end

00:21:34,720 --> 00:21:38,880
uh that looks something like that uh i

00:21:37,120 --> 00:21:40,640
was thinking to

00:21:38,880 --> 00:21:42,480
create two different content types one

00:21:40,640 --> 00:21:44,559
would be a master product line for

00:21:42,480 --> 00:21:45,120
example and one would be a child product

00:21:44,559 --> 00:21:46,880
line

00:21:45,120 --> 00:21:48,880
but that didn't make sense that had a

00:21:46,880 --> 00:21:51,760
lot of overhead because they will have

00:21:48,880 --> 00:21:52,240
exactly the same field so instead i just

00:21:51,760 --> 00:21:54,880
added

00:21:52,240 --> 00:21:56,480
a boolean field called is master that

00:21:54,880 --> 00:21:58,799
would determine if the girl

00:21:56,480 --> 00:21:59,840
is a know is master or if the node is a

00:21:58,799 --> 00:22:03,280
child

00:21:59,840 --> 00:22:05,679
so when the node was marked as master

00:22:03,280 --> 00:22:07,600
you would see the multi-value master

00:22:05,679 --> 00:22:09,520
region field where you could select

00:22:07,600 --> 00:22:11,360
multiple regions so one master can

00:22:09,520 --> 00:22:13,760
belong to multiple regions

00:22:11,360 --> 00:22:14,640
so for example with our promotion we

00:22:13,760 --> 00:22:18,640
would select

00:22:14,640 --> 00:22:19,520
canada u.s and uk and then translations

00:22:18,640 --> 00:22:21,440
of the master

00:22:19,520 --> 00:22:22,720
would allow to select the different

00:22:21,440 --> 00:22:25,440
regions so again

00:22:22,720 --> 00:22:27,520
this this example uh translating into

00:22:25,440 --> 00:22:29,440
french you would only select canada

00:22:27,520 --> 00:22:30,960
translating it into spanish you would

00:22:29,440 --> 00:22:33,200
select us

00:22:30,960 --> 00:22:34,640
and uk wouldn't have any translations at

00:22:33,200 --> 00:22:37,760
all

00:22:34,640 --> 00:22:39,120
after that a masternode on safe would

00:22:37,760 --> 00:22:42,960
populate or create

00:22:39,120 --> 00:22:45,120
child nodes so it would look into

00:22:42,960 --> 00:22:47,120
the database and check if they already

00:22:45,120 --> 00:22:49,039
have children attached to it

00:22:47,120 --> 00:22:50,799
if it does it would update it if it

00:22:49,039 --> 00:22:54,080
doesn't it would create it

00:22:50,799 --> 00:22:57,039
and it would also check if there is any

00:22:54,080 --> 00:22:58,000
children that don't have any masters and

00:22:57,039 --> 00:23:00,080
if they have

00:22:58,000 --> 00:23:02,159
but have exactly the same title as a

00:23:00,080 --> 00:23:04,720
master so if that's the case

00:23:02,159 --> 00:23:06,559
and the child node is not said to be

00:23:04,720 --> 00:23:08,799
explicitly overridden

00:23:06,559 --> 00:23:09,679
then it would reconnect a child not to

00:23:08,799 --> 00:23:13,280
the master

00:23:09,679 --> 00:23:14,640
to avoid any orphans on the child node

00:23:13,280 --> 00:23:16,400
setup

00:23:14,640 --> 00:23:19,120
you would see that it's similar to

00:23:16,400 --> 00:23:21,840
muster however the difference is that

00:23:19,120 --> 00:23:22,720
the region is now a single valley field

00:23:21,840 --> 00:23:24,960
and

00:23:22,720 --> 00:23:26,080
it's actually automatically populated by

00:23:24,960 --> 00:23:27,840
the master

00:23:26,080 --> 00:23:29,679
and division is also automatically

00:23:27,840 --> 00:23:32,960
populated by the master

00:23:29,679 --> 00:23:34,640
but if you select is overreading then

00:23:32,960 --> 00:23:36,159
those fields become available for the

00:23:34,640 --> 00:23:39,919
editors and editors could

00:23:36,159 --> 00:23:43,039
actually create just single

00:23:39,919 --> 00:23:44,799
region notes so just for uk or

00:23:43,039 --> 00:23:47,120
just for years because then you don't

00:23:44,799 --> 00:23:48,240
really need to maintain this master

00:23:47,120 --> 00:23:50,720
child relationship

00:23:48,240 --> 00:23:53,200
at all and behind the scenes the content

00:23:50,720 --> 00:23:55,600
would come through the master

00:23:53,200 --> 00:23:56,640
so again under the food what do we do

00:23:55,600 --> 00:23:58,720
under the food

00:23:56,640 --> 00:23:59,919
under the hood uh surprise we created

00:23:58,720 --> 00:24:02,400
another service

00:23:59,919 --> 00:24:04,640
with a helper methods that allowed us to

00:24:02,400 --> 00:24:06,480
do all of the synchronization

00:24:04,640 --> 00:24:08,159
i was when was developing just

00:24:06,480 --> 00:24:11,039
functionality or thinking about it

00:24:08,159 --> 00:24:13,520
fascinated by brics module and

00:24:11,039 --> 00:24:15,039
paragraphs module and in general new and

00:24:13,520 --> 00:24:17,600
inline entity form

00:24:15,039 --> 00:24:18,799
that allowed duplication of content i

00:24:17,600 --> 00:24:21,919
was thinking

00:24:18,799 --> 00:24:23,600
how do they do this it might be so hard

00:24:21,919 --> 00:24:25,679
so difficult but yet that's

00:24:23,600 --> 00:24:27,440
just a button on the back end and you

00:24:25,679 --> 00:24:29,120
can have a new brick

00:24:27,440 --> 00:24:30,559
that is exactly the same copy that's

00:24:29,120 --> 00:24:32,720
exactly what i needed

00:24:30,559 --> 00:24:34,640
i looked into entity clone module as

00:24:32,720 --> 00:24:36,080
well was a little bit uh more

00:24:34,640 --> 00:24:38,559
complicated and not what

00:24:36,080 --> 00:24:40,000
i needed but i was inspired by the by

00:24:38,559 --> 00:24:42,799
all of these modules

00:24:40,000 --> 00:24:43,600
and my first investigation into their

00:24:42,799 --> 00:24:46,320
code

00:24:43,600 --> 00:24:47,760
uh showed me that the new drupal 8

00:24:46,320 --> 00:24:49,440
entity api actually had these

00:24:47,760 --> 00:24:52,159
duplication methods

00:24:49,440 --> 00:24:53,679
right inside that and i was so surprised

00:24:52,159 --> 00:24:56,159
and delighted to know that

00:24:53,679 --> 00:24:57,520
i used it uh to clone my child

00:24:56,159 --> 00:24:59,919
masternodes

00:24:57,520 --> 00:25:01,520
so it's all core functionality i just

00:24:59,919 --> 00:25:05,360
called the right methods

00:25:01,520 --> 00:25:07,919
and i knew that cloning out

00:25:05,360 --> 00:25:09,760
children from the master could be quite

00:25:07,919 --> 00:25:11,840
a timely process especially

00:25:09,760 --> 00:25:14,159
this amount of regions growing so we

00:25:11,840 --> 00:25:16,080
can't really control the amount of time

00:25:14,159 --> 00:25:18,400
depending on internet connection and

00:25:16,080 --> 00:25:21,279
also the complexity of information

00:25:18,400 --> 00:25:21,840
amount of information and so on so forth

00:25:21,279 --> 00:25:23,760
so

00:25:21,840 --> 00:25:25,840
i decided to wrap everything into the

00:25:23,760 --> 00:25:26,559
batch so i created a custom submit

00:25:25,840 --> 00:25:28,799
handler

00:25:26,559 --> 00:25:30,799
that would plug in after normal drupal

00:25:28,799 --> 00:25:32,480
submit handler and it would just launch

00:25:30,799 --> 00:25:35,279
a batch process

00:25:32,480 --> 00:25:36,720
whereas every single child save would be

00:25:35,279 --> 00:25:38,400
a batch operation

00:25:36,720 --> 00:25:40,000
and that was a wrap we had a

00:25:38,400 --> 00:25:42,400
synchronization where

00:25:40,000 --> 00:25:44,559
editors could create just one node and

00:25:42,400 --> 00:25:47,120
then select which region to apply it

00:25:44,559 --> 00:25:48,080
and it would go all the way to this

00:25:47,120 --> 00:25:52,080
children nodes

00:25:48,080 --> 00:25:54,240
it was pretty effective uh very fast

00:25:52,080 --> 00:25:56,400
that was it that was what we had we

00:25:54,240 --> 00:26:00,000
already had regionalization

00:25:56,400 --> 00:26:01,760
and we had editorial experience now

00:26:00,000 --> 00:26:03,039
we are up to the third challenge

00:26:01,760 --> 00:26:05,360
personalization

00:26:03,039 --> 00:26:08,080
so let's recap we were having

00:26:05,360 --> 00:26:10,159
regionalized node source to url

00:26:08,080 --> 00:26:12,080
all of the context was read through the

00:26:10,159 --> 00:26:14,080
url so we were

00:26:12,080 --> 00:26:16,400
very cached we didn't have to

00:26:14,080 --> 00:26:19,200
recalculate any context it was

00:26:16,400 --> 00:26:21,600
also through the url we had translation

00:26:19,200 --> 00:26:22,960
setup with additional languages set up

00:26:21,600 --> 00:26:25,120
just through drupal ui

00:26:22,960 --> 00:26:26,960
no custom code required we had

00:26:25,120 --> 00:26:30,080
synchronization between nodes

00:26:26,960 --> 00:26:32,080
what was left well we actually needed to

00:26:30,080 --> 00:26:33,600
determine what region to serve

00:26:32,080 --> 00:26:35,360
because all of this fantastic

00:26:33,600 --> 00:26:36,159
functionality would be nothing if we

00:26:35,360 --> 00:26:38,960
cannot

00:26:36,159 --> 00:26:41,200
serve the right region and we needed to

00:26:38,960 --> 00:26:43,600
personalize experience based on the user

00:26:41,200 --> 00:26:46,240
interaction with the site

00:26:43,600 --> 00:26:47,200
that said we dived right into this

00:26:46,240 --> 00:26:50,720
channel

00:26:47,200 --> 00:26:53,120
um serve the right region we started

00:26:50,720 --> 00:26:54,320
evaluating how other companies doing it

00:26:53,120 --> 00:26:57,279
and there are

00:26:54,320 --> 00:26:57,919
1000 plus one ways to achieve it right

00:26:57,279 --> 00:27:00,480
now

00:26:57,919 --> 00:27:01,679
uh you could do it based on the user

00:27:00,480 --> 00:27:04,960
browser settings

00:27:01,679 --> 00:27:06,480
you can geo locate um you can do all of

00:27:04,960 --> 00:27:07,600
these different things we have related

00:27:06,480 --> 00:27:10,320
to all of these methods

00:27:07,600 --> 00:27:11,120
unfortunately none of them were very

00:27:10,320 --> 00:27:13,039
reliable

00:27:11,120 --> 00:27:14,400
saying it's like 100 percent here in

00:27:13,039 --> 00:27:16,320
canada in

00:27:14,400 --> 00:27:18,159
this modern technology you can't really

00:27:16,320 --> 00:27:20,960
do that um

00:27:18,159 --> 00:27:21,760
because we have vpns we have shields we

00:27:20,960 --> 00:27:23,679
have

00:27:21,760 --> 00:27:24,960
firewalls we have so many things to

00:27:23,679 --> 00:27:28,559
trick the code

00:27:24,960 --> 00:27:32,000
um so we decided that we will go with ip

00:27:28,559 --> 00:27:34,640
and instead of forcing the person into

00:27:32,000 --> 00:27:36,799
this region we will suggest

00:27:34,640 --> 00:27:39,600
so we will detect the ap and suggest

00:27:36,799 --> 00:27:42,799
that the person is in canada or is in uf

00:27:39,600 --> 00:27:44,720
and then um if

00:27:42,799 --> 00:27:46,320
if that's the right choice then the user

00:27:44,720 --> 00:27:48,000
can continue with the site and if it's

00:27:46,320 --> 00:27:50,480
their own tools they have a

00:27:48,000 --> 00:27:51,120
choice to actually choose one of their

00:27:50,480 --> 00:27:54,399
regions

00:27:51,120 --> 00:27:54,880
as they'd like uh we will attach this

00:27:54,399 --> 00:27:56,720
event

00:27:54,880 --> 00:27:58,399
onto one subscriber and help his

00:27:56,720 --> 00:28:01,440
redirection

00:27:58,399 --> 00:28:02,399
and then we will store the choice

00:28:01,440 --> 00:28:05,360
temporary

00:28:02,399 --> 00:28:06,640
so uh one of the another challenges that

00:28:05,360 --> 00:28:09,440
we were facing was

00:28:06,640 --> 00:28:10,559
uh gdpr compliance and if you don't know

00:28:09,440 --> 00:28:13,520
what gdpr is

00:28:10,559 --> 00:28:15,520
it's a privacy regulation uh that was

00:28:13,520 --> 00:28:16,320
released first in europe union and now

00:28:15,520 --> 00:28:18,320
it's actually

00:28:16,320 --> 00:28:19,440
is a variation of it is released in

00:28:18,320 --> 00:28:22,320
california

00:28:19,440 --> 00:28:24,480
and it's actually going to cover

00:28:22,320 --> 00:28:26,640
eventually the whole world

00:28:24,480 --> 00:28:28,240
the privacy regulations around the world

00:28:26,640 --> 00:28:28,880
and it's important because people need

00:28:28,240 --> 00:28:31,520
to

00:28:28,880 --> 00:28:33,840
understand what websites are tracking uh

00:28:31,520 --> 00:28:35,039
what privacy information is being stored

00:28:33,840 --> 00:28:37,919
and where

00:28:35,039 --> 00:28:39,840
uh so we needed to make it compliant

00:28:37,919 --> 00:28:43,520
that meant that we cannot

00:28:39,840 --> 00:28:45,760
use cookies or we should limit a cookie

00:28:43,520 --> 00:28:49,360
and also one of the requirements would

00:28:45,760 --> 00:28:52,480
be the site has to continue working is a

00:28:49,360 --> 00:28:54,240
user opt out of the cookies uh so

00:28:52,480 --> 00:28:56,320
because of that we decided to use

00:28:54,240 --> 00:28:58,799
temporary storage but not to

00:28:56,320 --> 00:28:59,919
store any personal information or ip or

00:28:58,799 --> 00:29:02,960
anything like that

00:28:59,919 --> 00:29:04,960
we were only storing the choice that the

00:29:02,960 --> 00:29:07,600
choice was made so

00:29:04,960 --> 00:29:08,240
when we served first the pop-up hey i

00:29:07,600 --> 00:29:10,799
think we

00:29:08,240 --> 00:29:11,600
you are in canada or i think you are in

00:29:10,799 --> 00:29:14,799
france

00:29:11,600 --> 00:29:16,240
um oh in germany a user could either

00:29:14,799 --> 00:29:18,720
close the pop-up

00:29:16,240 --> 00:29:20,880
and that was considered to be a choice

00:29:18,720 --> 00:29:21,840
or they could continue and accept it so

00:29:20,880 --> 00:29:24,399
they can choose

00:29:21,840 --> 00:29:24,880
a different region and continue as well

00:29:24,399 --> 00:29:27,279
so

00:29:24,880 --> 00:29:29,520
any of the sections was considered to be

00:29:27,279 --> 00:29:30,159
a choice and that choice was stored in a

00:29:29,520 --> 00:29:32,399
session

00:29:30,159 --> 00:29:34,159
so that the choice was made so that that

00:29:32,399 --> 00:29:37,279
pop-up doesn't come up

00:29:34,159 --> 00:29:40,399
every time i visit like a page because

00:29:37,279 --> 00:29:42,320
that would mean that like you already

00:29:40,399 --> 00:29:43,200
chose the region there is no point to

00:29:42,320 --> 00:29:46,559
actually keep

00:29:43,200 --> 00:29:49,279
smashing you this uh pop-up

00:29:46,559 --> 00:29:50,799
and the rest of it was actually

00:29:49,279 --> 00:29:53,840
configured through the url

00:29:50,799 --> 00:29:56,080
so every url would determine the context

00:29:53,840 --> 00:29:57,760
and we didn't have to ask the user again

00:29:56,080 --> 00:29:59,520
or detect the ip again

00:29:57,760 --> 00:30:02,320
because they were already redirected to

00:29:59,520 --> 00:30:05,279
the correct regionalized url

00:30:02,320 --> 00:30:08,240
and that regionalized url would feed our

00:30:05,279 --> 00:30:10,880
contacts detection

00:30:08,240 --> 00:30:11,279
all right so that's how the trees window

00:30:10,880 --> 00:30:13,440
looked

00:30:11,279 --> 00:30:15,039
it's basically a pop-up and you have a

00:30:13,440 --> 00:30:17,200
region and i was

00:30:15,039 --> 00:30:19,600
playing with the site before the session

00:30:17,200 --> 00:30:20,320
and it correctly detected that i was in

00:30:19,600 --> 00:30:22,399
canada

00:30:20,320 --> 00:30:24,880
now i could decline that or i could

00:30:22,399 --> 00:30:28,080
change it so for example i'm on vacation

00:30:24,880 --> 00:30:30,080
uh in u.s uh and it would detect that i

00:30:28,080 --> 00:30:31,039
am in u.s but i would like to shop for a

00:30:30,080 --> 00:30:33,200
grill

00:30:31,039 --> 00:30:35,200
i don't want to shop in u.s prices i

00:30:33,200 --> 00:30:38,320
would like to shop in canadian prices

00:30:35,200 --> 00:30:40,720
will change the region to canadian

00:30:38,320 --> 00:30:43,679
and my choice will be recorded in the

00:30:40,720 --> 00:30:43,679
temporary storage

00:30:44,399 --> 00:30:49,120
so what that approach did is that

00:30:47,200 --> 00:30:51,520
allowed users to be in control

00:30:49,120 --> 00:30:53,440
and change the region if they wanted to

00:30:51,520 --> 00:30:54,880
it allowed us not to store users

00:30:53,440 --> 00:30:58,720
personal data

00:30:54,880 --> 00:31:05,840
and allow the site to work without any

00:30:58,720 --> 00:31:05,840
cookies um

00:31:08,240 --> 00:31:16,240
all right here we go hold on

00:31:11,519 --> 00:31:19,080
okay um so when that came

00:31:16,240 --> 00:31:20,559
across we had these bigger chunks of

00:31:19,080 --> 00:31:23,840
personalization

00:31:20,559 --> 00:31:26,320
working then we decided to come up

00:31:23,840 --> 00:31:28,480
with a more granular personalization and

00:31:26,320 --> 00:31:29,679
this is where acquia lift came into the

00:31:28,480 --> 00:31:31,519
picture

00:31:29,679 --> 00:31:34,320
so what that clearly does in the

00:31:31,519 --> 00:31:36,399
listening mode it threats user behavior

00:31:34,320 --> 00:31:38,240
and user properties it's like google

00:31:36,399 --> 00:31:40,559
analytics on steroids

00:31:38,240 --> 00:31:41,600
uh and it allows you to better

00:31:40,559 --> 00:31:44,840
understand the

00:31:41,600 --> 00:31:46,000
behavior and needs of users on your

00:31:44,840 --> 00:31:49,440
website uh

00:31:46,000 --> 00:31:52,399
analyzing uh what pages they are

00:31:49,440 --> 00:31:53,279
visiting most uh analyzing uh are they

00:31:52,399 --> 00:31:55,840
returning

00:31:53,279 --> 00:31:57,360
or not so basically build a better

00:31:55,840 --> 00:31:59,360
marketing personas

00:31:57,360 --> 00:32:00,640
when you're analyzing the listening mode

00:31:59,360 --> 00:32:03,679
data

00:32:00,640 --> 00:32:06,799
so we installed that via lift module

00:32:03,679 --> 00:32:09,840
and in a listening mode we faced

00:32:06,799 --> 00:32:13,360
a new challenge uh which was

00:32:09,840 --> 00:32:15,440
again gdpr compliance so thank you for

00:32:13,360 --> 00:32:17,919
working with aqua engineering team

00:32:15,440 --> 00:32:20,159
we figured it out how to overcome it and

00:32:17,919 --> 00:32:22,559
configure lift to be

00:32:20,159 --> 00:32:23,760
triggered manually so we tied it

00:32:22,559 --> 00:32:27,600
together to

00:32:23,760 --> 00:32:29,279
the cookie notice and if a user accepted

00:32:27,600 --> 00:32:31,840
that notice then lyft would

00:32:29,279 --> 00:32:35,039
kick in and start tracking the user a

00:32:31,840 --> 00:32:39,120
user was able to opt out at any time

00:32:35,039 --> 00:32:41,360
and change any privacy

00:32:39,120 --> 00:32:43,360
settings or to make a different choice

00:32:41,360 --> 00:32:44,320
to delete their data from the site and

00:32:43,360 --> 00:32:47,279
things like that

00:32:44,320 --> 00:32:48,960
and that would turn off uh lift tracking

00:32:47,279 --> 00:32:51,360
but they basically

00:32:48,960 --> 00:32:52,000
plug it in so if the user accepts

00:32:51,360 --> 00:32:55,600
cookies

00:32:52,000 --> 00:32:57,519
then lift cookie would go in and

00:32:55,600 --> 00:32:59,760
then taxonomy structure on the side that

00:32:57,519 --> 00:33:00,559
we already built with the divisions and

00:32:59,760 --> 00:33:03,600
the regions

00:33:00,559 --> 00:33:06,640
it was a great backbone for starting uh

00:33:03,600 --> 00:33:08,480
segmentization on the website um for the

00:33:06,640 --> 00:33:10,799
future phases when we would like

00:33:08,480 --> 00:33:12,960
to start building the pages is a page

00:33:10,799 --> 00:33:16,640
builder

00:33:12,960 --> 00:33:19,039
so results so the results were that

00:33:16,640 --> 00:33:20,080
we had a site that was set up with all

00:33:19,039 --> 00:33:22,720
of the regions

00:33:20,080 --> 00:33:24,399
and it empowered the editors the editors

00:33:22,720 --> 00:33:25,360
were able to create new regions and

00:33:24,399 --> 00:33:28,240
divisions

00:33:25,360 --> 00:33:28,720
uh they were able to add new languages

00:33:28,240 --> 00:33:30,960
and

00:33:28,720 --> 00:33:32,720
in the future they will be able to build

00:33:30,960 --> 00:33:36,000
the personalized experiences

00:33:32,720 --> 00:33:39,200
with slots using page builder and

00:33:36,000 --> 00:33:40,799
lift experience so all of that allowed

00:33:39,200 --> 00:33:43,440
us to actually

00:33:40,799 --> 00:33:45,120
build a solid digital experience

00:33:43,440 --> 00:33:48,480
platform for the napoleon

00:33:45,120 --> 00:33:49,679
company uh to consolidate all of their

00:33:48,480 --> 00:33:52,720
web properties

00:33:49,679 --> 00:33:55,039
together under the same umbrella and

00:33:52,720 --> 00:33:57,440
have it all managed by their marketing

00:33:55,039 --> 00:34:00,640
department

00:33:57,440 --> 00:34:02,640
so i would like to say thank you to the

00:34:00,640 --> 00:34:04,000
digital echidna because that project

00:34:02,640 --> 00:34:06,720
definitely

00:34:04,000 --> 00:34:09,040
wasn't just myself but it was an effort

00:34:06,720 --> 00:34:10,240
of a brilliant team behind it and i'm

00:34:09,040 --> 00:34:12,079
really thankful for

00:34:10,240 --> 00:34:15,200
every single person who worked with me

00:34:12,079 --> 00:34:16,960
on that uh birth on digital echidna side

00:34:15,200 --> 00:34:18,720
and on napoleon

00:34:16,960 --> 00:34:21,760
and i would like to say thank you to

00:34:18,720 --> 00:34:24,720
kalamuna for allowing and supporting

00:34:21,760 --> 00:34:26,879
my presentation today as well that's

00:34:24,720 --> 00:34:27,359
pretty much all i wanted to share times

00:34:26,879 --> 00:34:30,320
of

00:34:27,359 --> 00:34:31,919
q a and please leave the feedback on

00:34:30,320 --> 00:34:37,040
this link

00:34:31,919 --> 00:34:37,040
right let me see the questions i see

00:34:37,599 --> 00:34:41,599
can be used now this container instead

00:34:39,919 --> 00:34:43,599
of a toxonomy term

00:34:41,599 --> 00:34:45,359
uh sometimes it's harder to manage

00:34:43,599 --> 00:34:47,760
permissions on toxonomy term

00:34:45,359 --> 00:34:49,200
uh yes definitely that's an option you

00:34:47,760 --> 00:34:51,040
can use nodes instead

00:34:49,200 --> 00:34:53,280
they didn't want to use nodes because

00:34:51,040 --> 00:34:56,320
node so table is a little bit

00:34:53,280 --> 00:34:58,000
an overkill versus taxonomy taxonomy

00:34:56,320 --> 00:34:59,760
at least in my opinion seems to be a

00:34:58,000 --> 00:35:02,800
little bit more lightweight

00:34:59,760 --> 00:35:04,240
permissions on taxonomy uh

00:35:02,800 --> 00:35:07,280
there are additional concrete modules

00:35:04,240 --> 00:35:09,119
that you can use in order to

00:35:07,280 --> 00:35:12,079
set up more granular permissions on the

00:35:09,119 --> 00:35:14,960
taxonomy uh there are taxonomy

00:35:12,079 --> 00:35:16,800
access modules and in general it becomes

00:35:14,960 --> 00:35:19,680
more and more

00:35:16,800 --> 00:35:20,720
close to other entities now you can

00:35:19,680 --> 00:35:24,160
publish it and

00:35:20,720 --> 00:35:26,240
unpublish as well so definitely

00:35:24,160 --> 00:35:27,599
would encourage you to look into those

00:35:26,240 --> 00:35:30,000
uh but you can

00:35:27,599 --> 00:35:32,000
use note as if you would like why did

00:35:30,000 --> 00:35:34,400
you use context taxonomy versus

00:35:32,000 --> 00:35:35,440
internationalization which is in gate

00:35:34,400 --> 00:35:38,640
core uh

00:35:35,440 --> 00:35:40,720
because i needed to be able to store

00:35:38,640 --> 00:35:41,200
additional values that wasn't really

00:35:40,720 --> 00:35:43,520
like

00:35:41,200 --> 00:35:45,680
provided by core so i needed to be able

00:35:43,520 --> 00:35:46,160
to limit languages i needed to be able

00:35:45,680 --> 00:35:49,920
to

00:35:46,160 --> 00:35:52,880
load menus to redirect to new um

00:35:49,920 --> 00:35:54,880
countries the regions to limit down

00:35:52,880 --> 00:35:55,440
solar searches based on the regions and

00:35:54,880 --> 00:35:57,680
the

00:35:55,440 --> 00:35:59,599
extending internationalization was a

00:35:57,680 --> 00:36:01,119
bigger effort than just using what was

00:35:59,599 --> 00:36:03,119
already there

00:36:01,119 --> 00:36:04,880
any advice for those who may be

00:36:03,119 --> 00:36:06,160
intimidated by the complexity of the

00:36:04,880 --> 00:36:09,839
type of personalization

00:36:06,160 --> 00:36:11,599
they'll introduce um i'd say install the

00:36:09,839 --> 00:36:14,000
context module and play with it

00:36:11,599 --> 00:36:15,200
you can start very simple by just you

00:36:14,000 --> 00:36:17,760
know creating your

00:36:15,200 --> 00:36:20,000
taxonomy or any other condition and

00:36:17,760 --> 00:36:22,640
adding a class to your body and see what

00:36:20,000 --> 00:36:24,240
what it does or placing a block uh based

00:36:22,640 --> 00:36:27,280
on the context

00:36:24,240 --> 00:36:28,400
and you can like little things can go a

00:36:27,280 --> 00:36:30,320
big way uh

00:36:28,400 --> 00:36:31,599
there is also a smart content module

00:36:30,320 --> 00:36:34,160
which is great for

00:36:31,599 --> 00:36:35,200
uh small personalization tasks as well i

00:36:34,160 --> 00:36:38,640
would encourage you

00:36:35,200 --> 00:36:40,880
to take a look at this one uh and just

00:36:38,640 --> 00:36:44,000
kind of start small and um

00:36:40,880 --> 00:36:46,320
you will uh get there this time

00:36:44,000 --> 00:36:47,040
uh we use taxonomy terms to toggle notes

00:36:46,320 --> 00:36:48,800
with specific

00:36:47,040 --> 00:36:50,640
markets but uh haven't solved the

00:36:48,800 --> 00:36:52,720
redundant non-creation problem

00:36:50,640 --> 00:36:54,240
as much the chat consequence triggering

00:36:52,720 --> 00:36:57,760
approach the problem probably

00:36:54,240 --> 00:37:01,040
yeah so basically uh

00:36:57,760 --> 00:37:03,440
you can also have a custom event

00:37:01,040 --> 00:37:06,720
controller that would allow you to

00:37:03,440 --> 00:37:08,480
um serve a node based on

00:37:06,720 --> 00:37:10,640
like node id so another thing that you

00:37:08,480 --> 00:37:13,119
could do is create a custom route

00:37:10,640 --> 00:37:14,000
and instead of rendering node with

00:37:13,119 --> 00:37:15,680
routes that

00:37:14,000 --> 00:37:17,359
all controllers that drupal core

00:37:15,680 --> 00:37:20,480
provides a custom

00:37:17,359 --> 00:37:23,200
route can read the

00:37:20,480 --> 00:37:25,040
controller and then renders the node on

00:37:23,200 --> 00:37:26,880
multiple context so that's another

00:37:25,040 --> 00:37:28,320
approach to it so you would have a node

00:37:26,880 --> 00:37:31,040
but you wouldn't really like

00:37:28,320 --> 00:37:32,800
just uh do like node slash view you

00:37:31,040 --> 00:37:34,720
wouldn't ever use this route you would

00:37:32,800 --> 00:37:36,960
define a custom route and

00:37:34,720 --> 00:37:39,520
you can pass a parameter of a node id

00:37:36,960 --> 00:37:42,640
and that would be able to

00:37:39,520 --> 00:37:47,280
um you know would be able to

00:37:42,640 --> 00:37:51,599
render certain nodes in this context

00:37:47,280 --> 00:37:53,599
like on multiple places on the side um

00:37:51,599 --> 00:37:54,960
what do you say temporary storage do you

00:37:53,599 --> 00:37:57,520
mean the php session

00:37:54,960 --> 00:37:59,440
is it is a drupal temp store it's it's a

00:37:57,520 --> 00:38:01,119
user drupal temp store

00:37:59,440 --> 00:38:03,599
uh so on the user object there is a

00:38:01,119 --> 00:38:04,079
temporary storage it is alive until the

00:38:03,599 --> 00:38:06,560
session

00:38:04,079 --> 00:38:07,200
ends and then uh when the session is

00:38:06,560 --> 00:38:09,599
done

00:38:07,200 --> 00:38:11,119
the temp store also dies but it's drupal

00:38:09,599 --> 00:38:14,079
temporary storage

00:38:11,119 --> 00:38:15,040
uh if you also consider it the main

00:38:14,079 --> 00:38:18,000
access module

00:38:15,040 --> 00:38:19,520
i looked at the main access module it

00:38:18,000 --> 00:38:21,119
was a possibility

00:38:19,520 --> 00:38:24,000
but it seemed to me a little bit more

00:38:21,119 --> 00:38:27,280
complicated and uh less customizable

00:38:24,000 --> 00:38:29,599
in general i'm a developer who prefers

00:38:27,280 --> 00:38:31,359
as close to core as possible so whenever

00:38:29,599 --> 00:38:33,200
i was able to find like

00:38:31,359 --> 00:38:35,520
core solution or very lightweight

00:38:33,200 --> 00:38:38,240
country i would always go with that

00:38:35,520 --> 00:38:39,760
with the main access um it's a very

00:38:38,240 --> 00:38:42,400
robust solution

00:38:39,760 --> 00:38:44,160
and i wasn't quite sure what exactly it

00:38:42,400 --> 00:38:45,040
was doing without deep dive into is

00:38:44,160 --> 00:38:47,520
their code

00:38:45,040 --> 00:38:49,040
so i was thinking like i if i can

00:38:47,520 --> 00:38:51,760
achieve with this core

00:38:49,040 --> 00:38:53,920
or like little to none contribute then i

00:38:51,760 --> 00:38:57,520
would definitely go with this one

00:38:53,920 --> 00:39:00,079
um how is seo handled

00:38:57,520 --> 00:39:00,880
it's a good question uh the different

00:39:00,079 --> 00:39:02,960
session

00:39:00,880 --> 00:39:04,880
views targeting different reagents yes

00:39:02,960 --> 00:39:05,280
that's a good question they actually did

00:39:04,880 --> 00:39:07,440
uh

00:39:05,280 --> 00:39:08,800
ico customization it's a topic for a

00:39:07,440 --> 00:39:10,880
different session because that would

00:39:08,800 --> 00:39:14,240
take me another hour to answer

00:39:10,880 --> 00:39:17,119
um but um we did

00:39:14,240 --> 00:39:17,680
a couple of ultrahooks on meta tags and

00:39:17,119 --> 00:39:20,800
also

00:39:17,680 --> 00:39:24,320
on the language relationship links

00:39:20,800 --> 00:39:25,359
to target the correct originalization

00:39:24,320 --> 00:39:28,480
and actually tell

00:39:25,359 --> 00:39:30,800
google that this is usuk this is uh

00:39:28,480 --> 00:39:31,839
english uk this is like english u.s and

00:39:30,800 --> 00:39:35,359
things like that

00:39:31,839 --> 00:39:38,480
uh that all done through the hooks

00:39:35,359 --> 00:39:41,200
onto the meta tags and uh to the hooks

00:39:38,480 --> 00:39:43,119
into the header links for like

00:39:41,200 --> 00:39:45,680
alternative languages and relationships

00:39:43,119 --> 00:39:48,400
and things like that and canonical urls

00:39:45,680 --> 00:39:50,000
um how it was handled again this is a

00:39:48,400 --> 00:39:52,320
context module context module was

00:39:50,000 --> 00:39:54,400
already providing us with the context so

00:39:52,320 --> 00:39:55,440
i would just do the hook and then that

00:39:54,400 --> 00:39:59,040
hook i would

00:39:55,440 --> 00:40:02,720
read out the context and alter meta

00:39:59,040 --> 00:40:05,440
meta tags and links like that

00:40:02,720 --> 00:40:08,079
uh have you used local storage uh

00:40:05,440 --> 00:40:11,599
session php i used local storage uh

00:40:08,079 --> 00:40:12,960
not a php session uh because i am a fan

00:40:11,599 --> 00:40:15,520
when the user is phone

00:40:12,960 --> 00:40:16,000
fully in control and stored on their end

00:40:15,520 --> 00:40:19,280
uh

00:40:16,000 --> 00:40:22,000
than on the back end

00:40:19,280 --> 00:40:23,599
and local search was only stored to kind

00:40:22,000 --> 00:40:26,960
of select the timer

00:40:23,599 --> 00:40:29,040
of that model so um we

00:40:26,960 --> 00:40:30,640
didn't really store anything private in

00:40:29,040 --> 00:40:32,560
there we just thought like

00:40:30,640 --> 00:40:33,839
do we want to show it again or not it

00:40:32,560 --> 00:40:36,000
was on top of the

00:40:33,839 --> 00:40:37,280
temporary storage so we started with the

00:40:36,000 --> 00:40:40,000
temporary storage

00:40:37,280 --> 00:40:41,839
but then some clients came back users

00:40:40,000 --> 00:40:43,839
came back to us with the feedback that

00:40:41,839 --> 00:40:45,040
it was too short so for example if i

00:40:43,839 --> 00:40:48,960
were to close it

00:40:45,040 --> 00:40:51,200
then i would get a different um

00:40:48,960 --> 00:40:52,079
like a window open i would have that

00:40:51,200 --> 00:40:55,440
pop-up again

00:40:52,079 --> 00:40:57,839
and people were quite upset by the

00:40:55,440 --> 00:40:58,240
amount of the pop-ups so we extended

00:40:57,839 --> 00:41:00,560
that

00:40:58,240 --> 00:41:01,599
period with the local storage so if i

00:41:00,560 --> 00:41:03,440
were to choose it

00:41:01,599 --> 00:41:05,440
and my javascript was enabled and my

00:41:03,440 --> 00:41:07,440
browser would support local storage

00:41:05,440 --> 00:41:09,680
they would have an extended period of

00:41:07,440 --> 00:41:13,359
that pop-up not showing up so that

00:41:09,680 --> 00:41:16,400
the decision-make flag would be stored

00:41:13,359 --> 00:41:17,520
both in temporary storage for the uh on

00:41:16,400 --> 00:41:20,000
the drupal back-end

00:41:17,520 --> 00:41:22,640
and also for users that have local

00:41:20,000 --> 00:41:23,680
storage available also in the javascript

00:41:22,640 --> 00:41:27,359
as well

00:41:23,680 --> 00:41:30,000
um do you have a single or

00:41:27,359 --> 00:41:31,359
multiple source languages single source

00:41:30,000 --> 00:41:33,119
languages

00:41:31,359 --> 00:41:34,720
they have just single source language

00:41:33,119 --> 00:41:37,280
the original language is

00:41:34,720 --> 00:41:38,640
english for all of the regions for the

00:41:37,280 --> 00:41:41,920
simplicity

00:41:38,640 --> 00:41:42,800
can we still use itin and uh will it be

00:41:41,920 --> 00:41:46,720
conflicted

00:41:42,800 --> 00:41:49,200
uh i think this one is actually um

00:41:46,720 --> 00:41:51,040
different nd8 i just use the

00:41:49,200 --> 00:41:54,240
multilingual uh

00:41:51,040 --> 00:41:57,520
uh setups that wasn't core and

00:41:54,240 --> 00:42:00,400
there was no conflicts with that uh

00:41:57,520 --> 00:42:02,319
what was the time frame for the project

00:42:00,400 --> 00:42:05,760
and how many people have done

00:42:02,319 --> 00:42:06,480
um well it's kind of you know as in any

00:42:05,760 --> 00:42:08,960
big

00:42:06,480 --> 00:42:09,520
drupal website the development never

00:42:08,960 --> 00:42:12,560
ends

00:42:09,520 --> 00:42:15,040
um i think the first uh phase with

00:42:12,560 --> 00:42:19,359
grills was launched in about

00:42:15,040 --> 00:42:23,920
a year to 15 months at the time

00:42:19,359 --> 00:42:26,800
the team was about

00:42:23,920 --> 00:42:28,160
three to four developers plus uh

00:42:26,800 --> 00:42:30,880
front-end

00:42:28,160 --> 00:42:32,560
lead and pms and account managers think

00:42:30,880 --> 00:42:36,160
at the peak periods

00:42:32,560 --> 00:42:45,839
so yeah that's pretty much it

00:42:36,160 --> 00:42:45,839
any other questions

00:42:47,599 --> 00:42:49,920
oh

00:42:52,400 --> 00:42:56,720
awesome well thank you so much for

00:42:54,720 --> 00:42:58,319
joining me today it was a huge pleasure

00:42:56,720 --> 00:43:00,160
if you have any questions

00:42:58,319 --> 00:43:01,760
or would like to connect with me please

00:43:00,160 --> 00:43:04,400
feel free to ping me

00:43:01,760 --> 00:43:05,839
uh in the chat and hoping or you can

00:43:04,400 --> 00:43:09,040
also find me

00:43:05,839 --> 00:43:10,720
on drupal org on on twitter as sunny

00:43:09,040 --> 00:43:13,760
inaudible

00:43:10,720 --> 00:43:17,520
it was a pleasure and

00:43:13,760 --> 00:43:17,520

YouTube URL: https://www.youtube.com/watch?v=fZkW7CRaCeU


