Title: Configuration Management in Drupal for Beginners   DrupalCon Global 2020
Publication date: 2020-08-25
Playlist: DrupalCon Global 2020
Description: 
	Learn the basics of Configuration Management, workflow from the command line using Drush, and how to automate deployment with Continuous Integration.
Captions: 
	00:00:03,520 --> 00:00:08,000
all right welcome everyone

00:00:05,040 --> 00:00:08,480
to configuration management in drupal

00:00:08,000 --> 00:00:11,360
for

00:00:08,480 --> 00:00:13,040
beginners uh i'm very excited to be here

00:00:11,360 --> 00:00:16,400
again at drupalcon this time

00:00:13,040 --> 00:00:17,600
drupalcon global 2020 to help get myself

00:00:16,400 --> 00:00:19,760
kind of in the mood

00:00:17,600 --> 00:00:21,119
and to get those good drupalcon vibes

00:00:19,760 --> 00:00:22,800
going i've got my

00:00:21,119 --> 00:00:24,640
my badge from last year i'm going to

00:00:22,800 --> 00:00:25,840
wear that throughout the conference and

00:00:24,640 --> 00:00:28,000
help make me feel a little bit more

00:00:25,840 --> 00:00:28,800
familiar it's been really great and

00:00:28,000 --> 00:00:32,000
exciting to see

00:00:28,800 --> 00:00:32,640
familiar faces and names in the chat as

00:00:32,000 --> 00:00:34,320
well

00:00:32,640 --> 00:00:35,760
so feel free to say hello and throw

00:00:34,320 --> 00:00:38,320
stuff in there if you

00:00:35,760 --> 00:00:39,360
would like to also something that kelly

00:00:38,320 --> 00:00:40,800
shared earlier that i just want to

00:00:39,360 --> 00:00:42,719
re-emphasize

00:00:40,800 --> 00:00:45,120
i'm going to be using slides today so if

00:00:42,719 --> 00:00:46,960
you double click on the little

00:00:45,120 --> 00:00:49,200
slide portion of the window it will make

00:00:46,960 --> 00:00:50,399
that bigger which you might need in

00:00:49,200 --> 00:00:52,000
order to see

00:00:50,399 --> 00:00:53,680
those things a little bit easier on the

00:00:52,000 --> 00:00:54,719
screen so

00:00:53,680 --> 00:00:56,879
without further ado let's go ahead and

00:00:54,719 --> 00:00:58,640
jump in this is a

00:00:56,879 --> 00:01:00,160
sponsored session brought to you by

00:00:58,640 --> 00:01:03,280
pantheon my employer

00:01:00,160 --> 00:01:04,479
however uh if you if you uh you know

00:01:03,280 --> 00:01:05,760
don't say anything i'll let you in a

00:01:04,479 --> 00:01:09,119
little secret

00:01:05,760 --> 00:01:11,200
and that's that configuration management

00:01:09,119 --> 00:01:13,119
is not a pantheon invention it's not

00:01:11,200 --> 00:01:15,520
something that we are trying to sell you

00:01:13,119 --> 00:01:17,119
in fact i'm not here to sell you

00:01:15,520 --> 00:01:20,320
anything at all

00:01:17,119 --> 00:01:22,080
except maybe that configuration is or

00:01:20,320 --> 00:01:24,240
configuration management is a really

00:01:22,080 --> 00:01:25,200
good idea and it's really easy to get

00:01:24,240 --> 00:01:26,960
started with

00:01:25,200 --> 00:01:28,400
so we will be using the pantheon

00:01:26,960 --> 00:01:30,720
platform to go through the live demo

00:01:28,400 --> 00:01:32,640
later so i can demonstrate

00:01:30,720 --> 00:01:33,759
you know like how you move stuff around

00:01:32,640 --> 00:01:35,200
but uh

00:01:33,759 --> 00:01:37,520
besides that you know there's nothing

00:01:35,200 --> 00:01:38,400
really drupal or a pantheon specific

00:01:37,520 --> 00:01:40,960
about this

00:01:38,400 --> 00:01:41,759
session so as i said i do work for

00:01:40,960 --> 00:01:44,880
pantheon

00:01:41,759 --> 00:01:47,360
uh i am a developer advocate there uh

00:01:44,880 --> 00:01:48,000
when we went to conferences in person i

00:01:47,360 --> 00:01:50,320
would spend

00:01:48,000 --> 00:01:51,119
about a week out of a month or so at a

00:01:50,320 --> 00:01:52,799
conference

00:01:51,119 --> 00:01:54,799
uh going around attending kind of being

00:01:52,799 --> 00:01:55,680
out in the community contributing back

00:01:54,799 --> 00:01:58,159
to the community

00:01:55,680 --> 00:01:59,840
leading training workshops or being a

00:01:58,159 --> 00:02:02,159
mentor or other things that i could do

00:01:59,840 --> 00:02:04,159
there in person kind of sharing all of

00:02:02,159 --> 00:02:06,240
my pantheon experience and all the

00:02:04,159 --> 00:02:07,360
things that come with working here

00:02:06,240 --> 00:02:08,720
with the community and giving back

00:02:07,360 --> 00:02:09,280
whenever i can and then i took

00:02:08,720 --> 00:02:11,039
everything

00:02:09,280 --> 00:02:12,879
out in the community that i learned uh

00:02:11,039 --> 00:02:14,319
the relationships i built the things

00:02:12,879 --> 00:02:16,400
that i heard people say

00:02:14,319 --> 00:02:17,360
back to pantheon so that our developers

00:02:16,400 --> 00:02:18,800
are actively

00:02:17,360 --> 00:02:20,720
improving the product and creating

00:02:18,800 --> 00:02:23,040
things that are genuinely

00:02:20,720 --> 00:02:24,080
interesting and useful for folks so

00:02:23,040 --> 00:02:26,080
that's really what my role as a

00:02:24,080 --> 00:02:28,000
developer advocate means to me

00:02:26,080 --> 00:02:29,280
but um yeah feel free to hit me up on

00:02:28,000 --> 00:02:31,920
twitter i'm

00:02:29,280 --> 00:02:33,519
at david needham and the tech should be

00:02:31,920 --> 00:02:36,000
on the

00:02:33,519 --> 00:02:37,760
slides as we go through it but so

00:02:36,000 --> 00:02:39,519
jumping into configuration management i

00:02:37,760 --> 00:02:43,040
think it's important to begin

00:02:39,519 --> 00:02:45,599
first with the anatomy of a cms

00:02:43,040 --> 00:02:46,239
and i'm saying cms a content management

00:02:45,599 --> 00:02:48,959
system

00:02:46,239 --> 00:02:50,000
specifically because you know we're

00:02:48,959 --> 00:02:53,200
talking about drupal here

00:02:50,000 --> 00:02:55,360
today but this anatomy is true for any

00:02:53,200 --> 00:02:57,120
sort of web application it's true for

00:02:55,360 --> 00:03:00,560
any um

00:02:57,120 --> 00:03:03,840
you know drupal wordpress

00:03:00,560 --> 00:03:05,360
joomla um sort of any of those sorts of

00:03:03,840 --> 00:03:08,239
non-sas

00:03:05,360 --> 00:03:10,080
uh cmss this is what you're gonna get

00:03:08,239 --> 00:03:11,840
you know you you have code

00:03:10,080 --> 00:03:13,599
which you know in drupal is the the

00:03:11,840 --> 00:03:16,640
modules the themes

00:03:13,599 --> 00:03:19,040
the drupal core uh itself

00:03:16,640 --> 00:03:20,159
but then we also have configuration and

00:03:19,040 --> 00:03:22,879
this configuration

00:03:20,159 --> 00:03:24,560
is you know your content types your

00:03:22,879 --> 00:03:27,360
fields your views

00:03:24,560 --> 00:03:28,080
all the things that go into making your

00:03:27,360 --> 00:03:31,040
website

00:03:28,080 --> 00:03:33,360
look yours look personalized look like

00:03:31,040 --> 00:03:36,319
something that you've created

00:03:33,360 --> 00:03:38,000
and then we also have content content is

00:03:36,319 --> 00:03:39,120
maybe self-explanatory but that's your

00:03:38,000 --> 00:03:42,239
blog posts

00:03:39,120 --> 00:03:43,599
your products all of the the customer

00:03:42,239 --> 00:03:45,200
information that you might be having

00:03:43,599 --> 00:03:47,040
donations you know on and on it could be

00:03:45,200 --> 00:03:49,200
anything it could be lots of stuff

00:03:47,040 --> 00:03:50,319
but when you think about your content

00:03:49,200 --> 00:03:52,400
management system

00:03:50,319 --> 00:03:54,080
and you start thinking about well how do

00:03:52,400 --> 00:03:57,120
i take this

00:03:54,080 --> 00:03:58,879
and export it somewhere else how do i

00:03:57,120 --> 00:04:00,400
you know take it into my hosting

00:03:58,879 --> 00:04:02,799
platform how do i move it locally

00:04:00,400 --> 00:04:03,680
how do i move this site around well it

00:04:02,799 --> 00:04:05,280
ends up getting

00:04:03,680 --> 00:04:07,040
broken up into three different parts

00:04:05,280 --> 00:04:09,120
again we have

00:04:07,040 --> 00:04:10,720
the code which if you're using version

00:04:09,120 --> 00:04:12,799
control hopefully you have it in git

00:04:10,720 --> 00:04:14,720
and all of that fun stuff but then we

00:04:12,799 --> 00:04:17,519
also have the database

00:04:14,720 --> 00:04:18,560
and then we also have the files and so

00:04:17,519 --> 00:04:20,639
if we were to

00:04:18,560 --> 00:04:22,800
draw lines between these different you

00:04:20,639 --> 00:04:23,919
know pieces of the cms and what gets

00:04:22,800 --> 00:04:25,280
exported when you

00:04:23,919 --> 00:04:27,440
are preparing to take it somewhere else

00:04:25,280 --> 00:04:29,040
you know moving it from local to

00:04:27,440 --> 00:04:30,479
a live environment or from a development

00:04:29,040 --> 00:04:31,040
environment to live or something like

00:04:30,479 --> 00:04:34,479
that

00:04:31,040 --> 00:04:36,880
well the code is code that's easy

00:04:34,479 --> 00:04:37,919
but configuration gets saved in the

00:04:36,880 --> 00:04:40,560
database

00:04:37,919 --> 00:04:42,560
when you edit your site you add a

00:04:40,560 --> 00:04:44,880
content type you add a field and

00:04:42,560 --> 00:04:45,919
you do all those different things drupal

00:04:44,880 --> 00:04:48,000
is reading that

00:04:45,919 --> 00:04:50,000
change and saving it directly into the

00:04:48,000 --> 00:04:51,360
database that is where

00:04:50,000 --> 00:04:53,120
drupal is actively reading your

00:04:51,360 --> 00:04:56,000
configuration making changes

00:04:53,120 --> 00:04:57,840
updating recalling whatever something

00:04:56,000 --> 00:05:01,039
needs to be displayed on the screen

00:04:57,840 --> 00:05:03,360
all of that information is there now

00:05:01,039 --> 00:05:04,639
content also gets saved there in

00:05:03,360 --> 00:05:06,000
addition to

00:05:04,639 --> 00:05:07,759
files and you know this is everything

00:05:06,000 --> 00:05:08,720
you'd have in the files directory on

00:05:07,759 --> 00:05:12,000
your

00:05:08,720 --> 00:05:13,199
uh your drupal site so these are content

00:05:12,000 --> 00:05:15,840
files these are images

00:05:13,199 --> 00:05:17,919
and pdfs and things that get uploaded

00:05:15,840 --> 00:05:20,000
whenever you create content on your site

00:05:17,919 --> 00:05:21,280
and the database will have references to

00:05:20,000 --> 00:05:24,639
those image files and

00:05:21,280 --> 00:05:25,840
things like that so once you have this

00:05:24,639 --> 00:05:27,759
sort of

00:05:25,840 --> 00:05:28,880
in your mind and you're kind of prepared

00:05:27,759 --> 00:05:29,360
and ready and thinking about how this

00:05:28,880 --> 00:05:30,960
works

00:05:29,360 --> 00:05:32,800
now let's shift gears a little bit and

00:05:30,960 --> 00:05:36,160
thinking about a

00:05:32,800 --> 00:05:38,960
sort of modern development workflow so

00:05:36,160 --> 00:05:39,440
a long time ago um when i first got

00:05:38,960 --> 00:05:41,280
started

00:05:39,440 --> 00:05:43,360
not first got started with drupal but i

00:05:41,280 --> 00:05:44,880
would say about nine years ago maybe

00:05:43,360 --> 00:05:46,639
even 10 years ago

00:05:44,880 --> 00:05:48,560
i was talking to my friend and colleague

00:05:46,639 --> 00:05:50,639
at the time jen lampton

00:05:48,560 --> 00:05:52,080
and she was telling me and we were

00:05:50,639 --> 00:05:54,720
actually in a classroom

00:05:52,080 --> 00:05:56,319
about this best practice workflow and as

00:05:54,720 --> 00:05:57,680
she said at the time it's true for any

00:05:56,319 --> 00:06:00,639
web application

00:05:57,680 --> 00:06:01,600
um you know you you really need at least

00:06:00,639 --> 00:06:03,280
three distinct

00:06:01,600 --> 00:06:05,360
environments that are isolated from each

00:06:03,280 --> 00:06:07,120
other to make sure that you have a

00:06:05,360 --> 00:06:08,720
safe dedicated place to get your work

00:06:07,120 --> 00:06:10,240
done that doesn't

00:06:08,720 --> 00:06:12,639
put you in a situation where you're

00:06:10,240 --> 00:06:13,600
tempted to do cowboy coding or making

00:06:12,639 --> 00:06:16,720
changes to

00:06:13,600 --> 00:06:19,680
directly on your live environment so uh

00:06:16,720 --> 00:06:20,400
she said you know we have dev test and

00:06:19,680 --> 00:06:22,560
live

00:06:20,400 --> 00:06:24,080
and not coincidentally these are the

00:06:22,560 --> 00:06:25,759
same environments that we have on

00:06:24,080 --> 00:06:26,800
pantheon when you go to create account

00:06:25,759 --> 00:06:28,800
you set up a site

00:06:26,800 --> 00:06:30,479
you'll have a dev test in live

00:06:28,800 --> 00:06:32,319
environment now again

00:06:30,479 --> 00:06:34,080
pantheon didn't invent this we just kind

00:06:32,319 --> 00:06:35,680
of adopted the best practices

00:06:34,080 --> 00:06:37,600
rolled it out and gave you a workflow to

00:06:35,680 --> 00:06:39,199
make it a little bit easier so

00:06:37,600 --> 00:06:40,960
the way this works is the live

00:06:39,199 --> 00:06:42,400
environment is your

00:06:40,960 --> 00:06:44,160
live site that's where you actually

00:06:42,400 --> 00:06:46,560
connect your domain name it's where

00:06:44,160 --> 00:06:48,080
you interact with your customers it's

00:06:46,560 --> 00:06:49,280
where people are buying or

00:06:48,080 --> 00:06:51,680
interacting buying things from your

00:06:49,280 --> 00:06:54,319
store making donations

00:06:51,680 --> 00:06:55,199
people are adding content there editors

00:06:54,319 --> 00:06:57,599
are going in and

00:06:55,199 --> 00:06:58,400
moderating things or changing things all

00:06:57,599 --> 00:07:01,759
of that stuff

00:06:58,400 --> 00:07:03,919
is happening in live and so

00:07:01,759 --> 00:07:05,280
since those are being saved to the

00:07:03,919 --> 00:07:06,720
database and the

00:07:05,280 --> 00:07:07,840
files you want to make sure that

00:07:06,720 --> 00:07:09,840
everything that we do nothing will

00:07:07,840 --> 00:07:11,440
overwrite the database and files on live

00:07:09,840 --> 00:07:12,080
because we don't want to lose any of

00:07:11,440 --> 00:07:14,319
that

00:07:12,080 --> 00:07:15,199
active content that's being created and

00:07:14,319 --> 00:07:18,479
for some sites

00:07:15,199 --> 00:07:19,520
changing every second well we also have

00:07:18,479 --> 00:07:21,039
the dev environment

00:07:19,520 --> 00:07:23,680
and the dev environment is where you are

00:07:21,039 --> 00:07:25,759
actively doing security updates for your

00:07:23,680 --> 00:07:27,039
site you might be adding new modules or

00:07:25,759 --> 00:07:28,720
libraries to

00:07:27,039 --> 00:07:30,160
you know extend the functionality of

00:07:28,720 --> 00:07:32,880
your site also

00:07:30,160 --> 00:07:33,520
you might have uh you know bug fixes

00:07:32,880 --> 00:07:35,440
somebody

00:07:33,520 --> 00:07:37,520
reporting issues on the live site and so

00:07:35,440 --> 00:07:39,840
you go up to dev you you know

00:07:37,520 --> 00:07:41,360
work with it there and then the test

00:07:39,840 --> 00:07:43,360
environment sits between

00:07:41,360 --> 00:07:45,120
the two it sits between the dev and the

00:07:43,360 --> 00:07:47,520
live and it's the place

00:07:45,120 --> 00:07:48,720
where you can test i mean it's kind of

00:07:47,520 --> 00:07:50,319
in the name right but

00:07:48,720 --> 00:07:51,919
the the thinking isn't the way it works

00:07:50,319 --> 00:07:54,479
on pantheon is uh

00:07:51,919 --> 00:07:55,919
when you are preparing to deploy your

00:07:54,479 --> 00:07:57,199
changes you are you know

00:07:55,919 --> 00:07:59,360
you've completed some piece of

00:07:57,199 --> 00:08:00,560
functionality on dev you're about to

00:07:59,360 --> 00:08:02,639
deploy it up

00:08:00,560 --> 00:08:04,160
you start by syncing your files and your

00:08:02,639 --> 00:08:06,000
database down from live so you're

00:08:04,160 --> 00:08:06,800
effectively making a copy of the live

00:08:06,000 --> 00:08:08,560
environment

00:08:06,800 --> 00:08:11,039
and putting it into the test environment

00:08:08,560 --> 00:08:14,720
then you can safely deploy your code

00:08:11,039 --> 00:08:15,759
from dev to test and test now is a copy

00:08:14,720 --> 00:08:17,280
of live you can

00:08:15,759 --> 00:08:19,360
you know run automated tests you can

00:08:17,280 --> 00:08:21,520
just do manual qa it's your

00:08:19,360 --> 00:08:23,280
chance to catch anything that might be

00:08:21,520 --> 00:08:25,599
broken before actually

00:08:23,280 --> 00:08:27,599
and eventually deploying it up to live

00:08:25,599 --> 00:08:28,639
so once you're confident it's gonna work

00:08:27,599 --> 00:08:30,560
you get it to live

00:08:28,639 --> 00:08:32,080
and you're good to go and then you can

00:08:30,560 --> 00:08:34,000
you know sync your database and files

00:08:32,080 --> 00:08:34,880
back down to dev so that you're actively

00:08:34,000 --> 00:08:36,959
developing against

00:08:34,880 --> 00:08:39,440
all of the new content and things that

00:08:36,959 --> 00:08:41,680
have changed in live

00:08:39,440 --> 00:08:42,719
you might notice here the files in the

00:08:41,680 --> 00:08:44,640
database go

00:08:42,719 --> 00:08:46,080
go down they go one direction from live

00:08:44,640 --> 00:08:47,519
down to other places because

00:08:46,080 --> 00:08:49,440
you don't want to move it up because

00:08:47,519 --> 00:08:52,640
then you risk overwriting

00:08:49,440 --> 00:08:54,000
the live environment and code doesn't

00:08:52,640 --> 00:08:55,680
happen in live because if you don't want

00:08:54,000 --> 00:08:57,360
to cowboy code it's it's

00:08:55,680 --> 00:08:59,360
very dangerous or you know risky for

00:08:57,360 --> 00:09:01,839
your site so you don't want to do that

00:08:59,360 --> 00:09:02,640
so that happens in dev and kind of moves

00:09:01,839 --> 00:09:04,720
upstream

00:09:02,640 --> 00:09:06,320
but the problem is what about

00:09:04,720 --> 00:09:08,720
configuration

00:09:06,320 --> 00:09:10,160
right wha what where does configuration

00:09:08,720 --> 00:09:13,360
fit into this

00:09:10,160 --> 00:09:15,040
well you typically do configuration in

00:09:13,360 --> 00:09:16,160
your development environment you you

00:09:15,040 --> 00:09:18,080
wouldn't do that on live

00:09:16,160 --> 00:09:20,640
you that's also a little bit like cowboy

00:09:18,080 --> 00:09:22,959
coding you would do your configuration

00:09:20,640 --> 00:09:24,480
where you add your code where you're

00:09:22,959 --> 00:09:26,800
adding your

00:09:24,480 --> 00:09:28,080
content types and views and i mean if

00:09:26,800 --> 00:09:28,880
we're adding content types and views

00:09:28,080 --> 00:09:32,480
those are

00:09:28,880 --> 00:09:34,800
part of configuration but the problem

00:09:32,480 --> 00:09:35,760
is that configuration is part of the

00:09:34,800 --> 00:09:37,440
database

00:09:35,760 --> 00:09:38,880
all of your configuration your site gets

00:09:37,440 --> 00:09:40,959
saved there and

00:09:38,880 --> 00:09:42,880
since we don't want to move the database

00:09:40,959 --> 00:09:44,240
up you know we'd be overwriting the test

00:09:42,880 --> 00:09:45,360
environment and overwriting the live

00:09:44,240 --> 00:09:48,720
environment that is

00:09:45,360 --> 00:09:50,880
not very safe for your customer data or

00:09:48,720 --> 00:09:53,279
content that's being created in live and

00:09:50,880 --> 00:09:55,920
so we use configuration management

00:09:53,279 --> 00:09:58,000
to move configuration out of the

00:09:55,920 --> 00:10:00,000
database and into code

00:09:58,000 --> 00:10:01,519
and there are lots of reasons why we

00:10:00,000 --> 00:10:03,279
would try to do this but let's

00:10:01,519 --> 00:10:04,880
let's start let's look at this from a

00:10:03,279 --> 00:10:07,680
slightly different angle to see

00:10:04,880 --> 00:10:08,240
exactly how this works in practice so

00:10:07,680 --> 00:10:11,200
let's say

00:10:08,240 --> 00:10:12,480
we have our three environments we're

00:10:11,200 --> 00:10:14,000
working in our dev environment we've

00:10:12,480 --> 00:10:14,640
added some modules there's you know some

00:10:14,000 --> 00:10:18,640
different things

00:10:14,640 --> 00:10:20,480
we start actually making changes we are

00:10:18,640 --> 00:10:21,920
modifying our configuration in some way

00:10:20,480 --> 00:10:23,839
we're doing stuff

00:10:21,920 --> 00:10:24,959
and that information gets saved in the

00:10:23,839 --> 00:10:26,399
database

00:10:24,959 --> 00:10:28,240
that's just the way it works anytime you

00:10:26,399 --> 00:10:29,360
do something in the drupal ui that

00:10:28,240 --> 00:10:30,480
information gets saved there

00:10:29,360 --> 00:10:33,519
automatically

00:10:30,480 --> 00:10:35,279
well in order to make this accessible to

00:10:33,519 --> 00:10:36,000
make it you know possible to move

00:10:35,279 --> 00:10:38,560
through

00:10:36,000 --> 00:10:40,240
our workflow you have to export that

00:10:38,560 --> 00:10:41,040
configuration so it goes from the

00:10:40,240 --> 00:10:43,920
database

00:10:41,040 --> 00:10:46,399
it gets exported with into yaml files

00:10:43,920 --> 00:10:47,600
that get saved in your code so that you

00:10:46,399 --> 00:10:49,920
can actually

00:10:47,600 --> 00:10:51,519
move your code through version control

00:10:49,920 --> 00:10:52,480
and you can move it from one environment

00:10:51,519 --> 00:10:54,800
to the other so

00:10:52,480 --> 00:10:56,959
we do that we deploy our code then from

00:10:54,800 --> 00:10:59,120
our dev environment up to test

00:10:56,959 --> 00:11:00,720
and then we import config now this is

00:10:59,120 --> 00:11:02,399
saying hey drupal

00:11:00,720 --> 00:11:04,000
overwrite the configuration that you

00:11:02,399 --> 00:11:06,320
already have in the database

00:11:04,000 --> 00:11:07,680
with what i have in my code so it's

00:11:06,320 --> 00:11:10,399
going the opposite direction

00:11:07,680 --> 00:11:11,920
as the previous example so it will

00:11:10,399 --> 00:11:13,839
overwrite anything that's already been

00:11:11,920 --> 00:11:14,240
saved in the database with what you have

00:11:13,839 --> 00:11:17,920
in

00:11:14,240 --> 00:11:20,399
your code as an exported configuration

00:11:17,920 --> 00:11:22,000
and that works pretty well so if we take

00:11:20,399 --> 00:11:23,440
a look at our development workflow again

00:11:22,000 --> 00:11:24,160
but this time with configuration

00:11:23,440 --> 00:11:26,399
management

00:11:24,160 --> 00:11:27,200
we still have devtest live right that's

00:11:26,399 --> 00:11:29,360
still a given

00:11:27,200 --> 00:11:30,800
but as you are developing your site you

00:11:29,360 --> 00:11:32,640
are routinely

00:11:30,800 --> 00:11:34,320
exporting your configuration from the

00:11:32,640 --> 00:11:37,040
database into

00:11:34,320 --> 00:11:38,800
code you're creating commits you're

00:11:37,040 --> 00:11:39,680
managing it as if it was just another

00:11:38,800 --> 00:11:42,480
piece of code

00:11:39,680 --> 00:11:43,760
on your website so as we are preparing

00:11:42,480 --> 00:11:45,440
to deploy up to live

00:11:43,760 --> 00:11:46,800
we're getting ready to go we go through

00:11:45,440 --> 00:11:48,959
the typical process we

00:11:46,800 --> 00:11:50,320
create a clone of live we then deploy

00:11:48,959 --> 00:11:53,519
our code but now

00:11:50,320 --> 00:11:54,320
we have a copy of live we have all of

00:11:53,519 --> 00:11:56,639
our

00:11:54,320 --> 00:11:58,079
configuration that's there but it's

00:11:56,639 --> 00:11:59,839
still reading the database that came

00:11:58,079 --> 00:12:03,040
from the live environment so we just

00:11:59,839 --> 00:12:05,440
do a import we import our configuration

00:12:03,040 --> 00:12:07,120
um that gives us all of the new content

00:12:05,440 --> 00:12:08,720
all the things that we

00:12:07,120 --> 00:12:10,480
have been looking at and interacting

00:12:08,720 --> 00:12:12,079
with on live but now with all of the

00:12:10,480 --> 00:12:14,800
configuration that we've made

00:12:12,079 --> 00:12:17,120
in dev and then once we've tested it

00:12:14,800 --> 00:12:19,120
make sure that it's all working okay

00:12:17,120 --> 00:12:22,639
we can actually go over to the live

00:12:19,120 --> 00:12:24,800
environment and do the same thing again

00:12:22,639 --> 00:12:25,920
and you know i didn't emphasize this

00:12:24,800 --> 00:12:28,720
very much earlier

00:12:25,920 --> 00:12:30,240
but before this process before we had

00:12:28,720 --> 00:12:33,279
configuration management

00:12:30,240 --> 00:12:35,920
what was your option for interacting

00:12:33,279 --> 00:12:37,279
with configuration uh you know because

00:12:35,920 --> 00:12:39,200
we can't move the database

00:12:37,279 --> 00:12:41,200
from dev up to test or you know dev up

00:12:39,200 --> 00:12:42,720
to live because we don't want to lose

00:12:41,200 --> 00:12:45,519
anything

00:12:42,720 --> 00:12:46,399
when i built a lot of sites i routinely

00:12:45,519 --> 00:12:49,519
had to

00:12:46,399 --> 00:12:52,079
do it again i would have to go through

00:12:49,519 --> 00:12:52,800
i would have to do my work in the dev

00:12:52,079 --> 00:12:55,360
environment

00:12:52,800 --> 00:12:57,040
and then do my work again the same

00:12:55,360 --> 00:12:57,760
configuration in the test environment

00:12:57,040 --> 00:12:59,680
hoping

00:12:57,760 --> 00:13:00,800
that i did it the same way and hoping

00:12:59,680 --> 00:13:03,200
that you know i didn't

00:13:00,800 --> 00:13:05,200
make any mistakes along the way and then

00:13:03,200 --> 00:13:07,519
if it all worked then i had to cross my

00:13:05,200 --> 00:13:10,079
fingers and do it a third time

00:13:07,519 --> 00:13:10,880
in the live environment and this is a

00:13:10,079 --> 00:13:12,800
terrible

00:13:10,880 --> 00:13:14,320
developer experience i mean nobody likes

00:13:12,800 --> 00:13:15,920
to do their work more than once right if

00:13:14,320 --> 00:13:17,440
you could do it once and be done

00:13:15,920 --> 00:13:18,560
uh if you've ever had to do work and

00:13:17,440 --> 00:13:19,519
then you lose it and you have to do it

00:13:18,560 --> 00:13:21,760
again like that's just

00:13:19,519 --> 00:13:23,120
it's sort of demoralizing like nobody

00:13:21,760 --> 00:13:23,760
likes that nobody wants to have to do

00:13:23,120 --> 00:13:26,560
that

00:13:23,760 --> 00:13:28,079
and yes you you could you know create a

00:13:26,560 --> 00:13:29,040
a script you could write some custom

00:13:28,079 --> 00:13:31,279
code that would

00:13:29,040 --> 00:13:32,320
you know sort of manually uh work with

00:13:31,279 --> 00:13:33,760
the configuration and

00:13:32,320 --> 00:13:36,000
we had some developers on our team that

00:13:33,760 --> 00:13:36,800
would do that for these really complex

00:13:36,000 --> 00:13:39,279
builds that

00:13:36,800 --> 00:13:40,800
was impractical to you know manually

00:13:39,279 --> 00:13:42,800
redo the work again

00:13:40,800 --> 00:13:44,079
but uh that's not something i could do

00:13:42,800 --> 00:13:44,880
you know i do a little bit of

00:13:44,079 --> 00:13:46,959
development but

00:13:44,880 --> 00:13:48,160
i i've never written that sort of code

00:13:46,959 --> 00:13:51,440
myself but

00:13:48,160 --> 00:13:52,800
configuration takes all of that burden

00:13:51,440 --> 00:13:53,760
and kind of throws out the window we

00:13:52,800 --> 00:13:55,120
don't have to worry about any of that

00:13:53,760 --> 00:13:56,880
because all that we have to do

00:13:55,120 --> 00:13:58,480
is click a button in the interface or

00:13:56,880 --> 00:14:00,639
run a little drush command

00:13:58,480 --> 00:14:02,880
and we have now exported configuration

00:14:00,639 --> 00:14:05,920
we've imported into a new environment

00:14:02,880 --> 00:14:07,279
and it just works so

00:14:05,920 --> 00:14:09,519
let's start talking a little bit more

00:14:07,279 --> 00:14:11,680
about this so some of the benefits to

00:14:09,519 --> 00:14:13,279
using configuration management

00:14:11,680 --> 00:14:14,959
well you get to move your configuration

00:14:13,279 --> 00:14:16,880
with your modules and

00:14:14,959 --> 00:14:19,199
this is you know maybe understated but i

00:14:16,880 --> 00:14:21,680
think this is a huge benefit because

00:14:19,199 --> 00:14:22,399
it can be a little bit confusing to not

00:14:21,680 --> 00:14:24,160
have it all

00:14:22,399 --> 00:14:26,560
packaged together neatly and you know

00:14:24,160 --> 00:14:29,519
one or two little commits if you have

00:14:26,560 --> 00:14:30,800
a configuration and some database query

00:14:29,519 --> 00:14:31,760
that you have to run that's separate

00:14:30,800 --> 00:14:33,760
from your

00:14:31,760 --> 00:14:34,959
modules that are interacting with that

00:14:33,760 --> 00:14:36,800
there's there's all sorts of

00:14:34,959 --> 00:14:38,480
complications that can come up with that

00:14:36,800 --> 00:14:40,480
so being able to move it with configure

00:14:38,480 --> 00:14:43,519
or with your modules is huge

00:14:40,480 --> 00:14:46,000
also you get version control uh

00:14:43,519 --> 00:14:48,160
have you ever wondered you know like hey

00:14:46,000 --> 00:14:49,920
who changed this part of our website you

00:14:48,160 --> 00:14:51,839
know who modified that view

00:14:49,920 --> 00:14:53,440
that did this thing on our front page

00:14:51,839 --> 00:14:54,399
well if you're using configuration

00:14:53,440 --> 00:14:55,760
management

00:14:54,399 --> 00:14:58,000
it's all in version control you can

00:14:55,760 --> 00:15:00,160
actually go back see who changed that

00:14:58,000 --> 00:15:01,360
exactly when it happened and then if you

00:15:00,160 --> 00:15:04,399
want to you can actually

00:15:01,360 --> 00:15:06,480
undo things so if you don't want

00:15:04,399 --> 00:15:07,519
that change that someone made it's all

00:15:06,480 --> 00:15:09,920
in git it's just

00:15:07,519 --> 00:15:10,560
yaml files you could just undo that

00:15:09,920 --> 00:15:12,959
commit or

00:15:10,560 --> 00:15:15,199
change it back and it's easy to go back

00:15:12,959 --> 00:15:17,680
to where you were

00:15:15,199 --> 00:15:18,959
and also you know as someone who you

00:15:17,680 --> 00:15:21,440
know goes through

00:15:18,959 --> 00:15:23,279
development cycles that can sometimes be

00:15:21,440 --> 00:15:24,880
a rather long time

00:15:23,279 --> 00:15:26,639
using configuration management allows

00:15:24,880 --> 00:15:28,240
you to rebuild your development

00:15:26,639 --> 00:15:30,320
environment at any point

00:15:28,240 --> 00:15:31,920
you know typically you would you know

00:15:30,320 --> 00:15:34,160
like i showed on the graph earlier

00:15:31,920 --> 00:15:35,600
you know you you might rebuild your

00:15:34,160 --> 00:15:37,440
development environment sort of at the

00:15:35,600 --> 00:15:38,480
end of the cycle once you've deployed up

00:15:37,440 --> 00:15:39,759
to live

00:15:38,480 --> 00:15:42,480
but if you're using configuration

00:15:39,759 --> 00:15:43,600
management as long as you've exported

00:15:42,480 --> 00:15:46,399
your configuration

00:15:43,600 --> 00:15:47,519
you can create a new dump a new copy of

00:15:46,399 --> 00:15:49,759
the database and

00:15:47,519 --> 00:15:51,199
files from live overwrite your dev

00:15:49,759 --> 00:15:52,240
environment and then just re-import your

00:15:51,199 --> 00:15:55,120
configuration

00:15:52,240 --> 00:15:55,920
so if you're not sure if the changes

00:15:55,120 --> 00:15:58,160
you're making

00:15:55,920 --> 00:15:59,600
are going to conflict or work well with

00:15:58,160 --> 00:16:02,320
those changes that happened on

00:15:59,600 --> 00:16:03,199
live with content or other things you

00:16:02,320 --> 00:16:06,800
don't have to guess

00:16:03,199 --> 00:16:09,279
it just works it's wonderful

00:16:06,800 --> 00:16:11,120
and then you can also automate imports

00:16:09,279 --> 00:16:12,079
you can run these things from drosh on

00:16:11,120 --> 00:16:14,639
your command line

00:16:12,079 --> 00:16:16,079
you can plug in ci or some other sort of

00:16:14,639 --> 00:16:18,720
like cron based

00:16:16,079 --> 00:16:19,920
process to automate it as well and i'll

00:16:18,720 --> 00:16:21,040
talk a little bit more about that in

00:16:19,920 --> 00:16:23,360
just a minute

00:16:21,040 --> 00:16:25,120
i do see some questions real quick or

00:16:23,360 --> 00:16:26,000
discussion around like different drupal

00:16:25,120 --> 00:16:28,160
versions

00:16:26,000 --> 00:16:30,240
so this configuration management system

00:16:28,160 --> 00:16:32,160
was rolled out in drupal 8.

00:16:30,240 --> 00:16:34,480
so ever since drupal 8 came out we've

00:16:32,160 --> 00:16:35,440
had this wonderful system for managing

00:16:34,480 --> 00:16:37,519
content

00:16:35,440 --> 00:16:38,880
so it will it does currently also work

00:16:37,519 --> 00:16:41,759
in drupal 9 and you know

00:16:38,880 --> 00:16:44,000
on to the future as well however in

00:16:41,759 --> 00:16:46,399
drupal 7

00:16:44,000 --> 00:16:47,360
we have basically the features module

00:16:46,399 --> 00:16:50,480
features

00:16:47,360 --> 00:16:52,160
was not created to do this features was

00:16:50,480 --> 00:16:53,839
created to sort of create

00:16:52,160 --> 00:16:55,920
preset functionality that you could

00:16:53,839 --> 00:16:57,360
package and kind of take and share from

00:16:55,920 --> 00:17:01,040
one site to the other so

00:16:57,360 --> 00:17:02,880
if you build um you know a calendar

00:17:01,040 --> 00:17:04,559
you could package that up and drop it to

00:17:02,880 --> 00:17:06,079
another site now it has a calendar and

00:17:04,559 --> 00:17:10,000
drop another site and as a calendar

00:17:06,079 --> 00:17:11,120
and we sort of uh stole it or repurposed

00:17:10,000 --> 00:17:12,480
it uh

00:17:11,120 --> 00:17:14,160
to to use it for configuration

00:17:12,480 --> 00:17:15,199
management because it it sort of solves

00:17:14,160 --> 00:17:17,199
the problem of

00:17:15,199 --> 00:17:18,400
moving our configuration from dev to

00:17:17,199 --> 00:17:21,679
test to live

00:17:18,400 --> 00:17:22,240
uh sort of but it was unreliable it was

00:17:21,679 --> 00:17:24,400
buggy

00:17:22,240 --> 00:17:25,760
there were a lot of false positives and

00:17:24,400 --> 00:17:27,199
false negatives about

00:17:25,760 --> 00:17:29,760
things that could or couldn't be working

00:17:27,199 --> 00:17:31,360
at the time so when drupal 8 came out

00:17:29,760 --> 00:17:33,600
with configuration management

00:17:31,360 --> 00:17:34,960
it was built with that in mind to be the

00:17:33,600 --> 00:17:38,960
solution to this

00:17:34,960 --> 00:17:41,360
and so yes features is still around but

00:17:38,960 --> 00:17:42,799
use it for the purpose it's intended for

00:17:41,360 --> 00:17:44,160
if you want to package up functionality

00:17:42,799 --> 00:17:44,720
and move it around you can absolutely do

00:17:44,160 --> 00:17:47,039
that but

00:17:44,720 --> 00:17:48,000
speaking of that there are some gotchas

00:17:47,039 --> 00:17:48,960
there are some things you should think

00:17:48,000 --> 00:17:51,520
about before you

00:17:48,960 --> 00:17:52,799
actually start using configuration

00:17:51,520 --> 00:17:54,160
management right away

00:17:52,799 --> 00:17:55,679
the first one is actually something i

00:17:54,160 --> 00:17:56,799
was just talking about your

00:17:55,679 --> 00:18:00,720
configuration

00:17:56,799 --> 00:18:02,799
is only intended to work on one website

00:18:00,720 --> 00:18:05,360
uh this was intentional it's discussed

00:18:02,799 --> 00:18:09,120
at length in a session i've linked to

00:18:05,360 --> 00:18:10,000
uh at drupalcon austin i think

00:18:09,120 --> 00:18:11,280
and if you didn't get a link to the

00:18:10,000 --> 00:18:12,559
slides actually i'm gonna throw that in

00:18:11,280 --> 00:18:14,000
the chat window right now

00:18:12,559 --> 00:18:15,520
you can go grab my slides and click that

00:18:14,000 --> 00:18:17,120
link if you want to learn more about

00:18:15,520 --> 00:18:20,000
that session or click anything else that

00:18:17,120 --> 00:18:21,840
i'm going to be going through

00:18:20,000 --> 00:18:24,000
but anyway it's tied to one particular

00:18:21,840 --> 00:18:26,799
site once you've exported configuration

00:18:24,000 --> 00:18:27,679
it is tied to a specific site uuid so

00:18:26,799 --> 00:18:30,240
it's a specific

00:18:27,679 --> 00:18:30,880
site only and it cannot be used on other

00:18:30,240 --> 00:18:32,080
sites now

00:18:30,880 --> 00:18:34,240
there are modules that can kind of get

00:18:32,080 --> 00:18:35,760
around this but you know

00:18:34,240 --> 00:18:38,080
that's why you use the features module

00:18:35,760 --> 00:18:40,080
instead of config management

00:18:38,080 --> 00:18:41,280
now another thing and this is kind of a

00:18:40,080 --> 00:18:42,640
big deal is

00:18:41,280 --> 00:18:44,400
you probably actually need to talk to

00:18:42,640 --> 00:18:45,520
your team you know maybe your

00:18:44,400 --> 00:18:47,679
your colleagues you know that you're

00:18:45,520 --> 00:18:49,760
building the site with if if you have

00:18:47,679 --> 00:18:51,120
um a customer you know you're building

00:18:49,760 --> 00:18:52,480
the site for a customer and they're

00:18:51,120 --> 00:18:53,840
interacting with the site too

00:18:52,480 --> 00:18:55,679
you might need to bring them in as well

00:18:53,840 --> 00:18:57,919
if they have rights to

00:18:55,679 --> 00:18:59,360
actually change configuration because a

00:18:57,919 --> 00:19:01,039
big downside

00:18:59,360 --> 00:19:03,360
to using configuration management is

00:19:01,039 --> 00:19:05,200
that it removes um

00:19:03,360 --> 00:19:06,720
it can put you in a risky situation to

00:19:05,200 --> 00:19:09,360
lose some of your configuration

00:19:06,720 --> 00:19:10,880
on the live environment if you you know

00:19:09,360 --> 00:19:11,600
if we're using configuration management

00:19:10,880 --> 00:19:13,600
and the

00:19:11,600 --> 00:19:15,200
customer who's also you know uh

00:19:13,600 --> 00:19:18,000
privileged to to do stuff

00:19:15,200 --> 00:19:20,000
starts making some changes to our i

00:19:18,000 --> 00:19:21,039
don't know our block layout our views or

00:19:20,000 --> 00:19:23,200
things like that in live

00:19:21,039 --> 00:19:25,039
and then we import configuration they

00:19:23,200 --> 00:19:26,240
just lost all of their work

00:19:25,039 --> 00:19:28,559
and again there are modules that can

00:19:26,240 --> 00:19:30,720
help mitigate this to lock it down and

00:19:28,559 --> 00:19:34,480
make sure that we can't do configuration

00:19:30,720 --> 00:19:35,840
in in live but you need to talk to your

00:19:34,480 --> 00:19:37,440
team about that you need to make sure

00:19:35,840 --> 00:19:39,039
that you know they are all on the same

00:19:37,440 --> 00:19:39,760
page and understand how the workflow is

00:19:39,039 --> 00:19:41,200
going to work

00:19:39,760 --> 00:19:43,039
otherwise there might be some

00:19:41,200 --> 00:19:45,760
frustration around

00:19:43,039 --> 00:19:47,919
lost work which as we've already said is

00:19:45,760 --> 00:19:50,400
never a good situation

00:19:47,919 --> 00:19:52,160
um i see a question here how do we

00:19:50,400 --> 00:19:54,080
easily remember or find out what is

00:19:52,160 --> 00:19:56,080
config and what is content hey

00:19:54,080 --> 00:19:57,200
uh it's almost like we planned it i

00:19:56,080 --> 00:20:00,320
promise we didn't

00:19:57,200 --> 00:20:02,960
uh but there is another gotcha is that

00:20:00,320 --> 00:20:04,080
drupal is a little bit ambiguous with

00:20:02,960 --> 00:20:07,039
what is content

00:20:04,080 --> 00:20:09,600
and what is configuration you know uh

00:20:07,039 --> 00:20:12,640
what about a drupal block

00:20:09,600 --> 00:20:14,720
well depending on the context um

00:20:12,640 --> 00:20:16,480
you know is is a drupal block part of

00:20:14,720 --> 00:20:18,000
configuration is it pretty much static

00:20:16,480 --> 00:20:20,240
and you know it's like your navigation

00:20:18,000 --> 00:20:22,159
menu for example or is it something

00:20:20,240 --> 00:20:24,159
uh like your little welcome message you

00:20:22,159 --> 00:20:26,880
know or is it something that changes

00:20:24,159 --> 00:20:29,280
regularly uh is it you know supplemental

00:20:26,880 --> 00:20:30,799
to the primary content you're looking at

00:20:29,280 --> 00:20:34,080
it could be both it could be neither i

00:20:30,799 --> 00:20:36,320
mean it's really tough to say for sure

00:20:34,080 --> 00:20:37,840
and then also taxonomy the taxonomy

00:20:36,320 --> 00:20:39,520
system in drupal is your

00:20:37,840 --> 00:20:40,960
system of categorization and

00:20:39,520 --> 00:20:43,679
categorizing your content

00:20:40,960 --> 00:20:44,960
something that's static like your your

00:20:43,679 --> 00:20:47,360
categories for

00:20:44,960 --> 00:20:48,159
is this is this article a blog post or a

00:20:47,360 --> 00:20:51,120
press release

00:20:48,159 --> 00:20:52,640
or something else that is probably

00:20:51,120 --> 00:20:54,720
static that's probably not changing so

00:20:52,640 --> 00:20:57,280
that's probably configuration

00:20:54,720 --> 00:20:58,720
but what about you know your free

00:20:57,280 --> 00:21:00,640
tagging system that your content

00:20:58,720 --> 00:21:02,640
creators can just enter in tags into

00:21:00,640 --> 00:21:05,679
well that's content clearly right

00:21:02,640 --> 00:21:06,480
um and this has always been a bit of

00:21:05,679 --> 00:21:09,520
frustration

00:21:06,480 --> 00:21:12,000
with any sort of exporting content or

00:21:09,520 --> 00:21:14,000
exporting configuration because it's not

00:21:12,000 --> 00:21:16,080
always easy to tell which is which

00:21:14,000 --> 00:21:17,440
well there are also some ways to kind of

00:21:16,080 --> 00:21:19,200
get around this too and i'll

00:21:17,440 --> 00:21:20,559
um the next thing we're going to talk

00:21:19,200 --> 00:21:21,919
about is extra modules things that can

00:21:20,559 --> 00:21:23,360
make it a little bit easier

00:21:21,919 --> 00:21:25,360
um there are some modules that let you

00:21:23,360 --> 00:21:26,960
kind of dig in deeper and define

00:21:25,360 --> 00:21:29,520
certain things in different ways so

00:21:26,960 --> 00:21:33,039
let's let's jump in

00:21:29,520 --> 00:21:34,080
so uh my favorite the my favorite module

00:21:33,039 --> 00:21:36,320
that i like to include

00:21:34,080 --> 00:21:38,559
with uh configuration management is a

00:21:36,320 --> 00:21:41,760
module called config direct save

00:21:38,559 --> 00:21:44,080
so by default uh when you

00:21:41,760 --> 00:21:44,960
export configuration on any drupal site

00:21:44,080 --> 00:21:46,960
you know you

00:21:44,960 --> 00:21:47,840
you go in you go to export you click you

00:21:46,960 --> 00:21:48,720
know the button to export your

00:21:47,840 --> 00:21:51,679
configuration

00:21:48,720 --> 00:21:52,159
it downloads your computer a compressed

00:21:51,679 --> 00:21:54,799
file

00:21:52,159 --> 00:21:55,600
that has all of your configuration in it

00:21:54,799 --> 00:21:57,520
and

00:21:55,600 --> 00:21:58,640
maybe that makes sense if i'm working

00:21:57,520 --> 00:22:00,320
locally if i want to

00:21:58,640 --> 00:22:01,760
export my configuration and put it in my

00:22:00,320 --> 00:22:04,320
computer but

00:22:01,760 --> 00:22:06,159
i i don't want that i i want it to be

00:22:04,320 --> 00:22:07,120
saved into code i want to export my

00:22:06,159 --> 00:22:09,679
configuration

00:22:07,120 --> 00:22:10,960
and have it just write to my code base

00:22:09,679 --> 00:22:12,559
so that it's all there

00:22:10,960 --> 00:22:14,240
and i can do a commit and it's it's done

00:22:12,559 --> 00:22:15,919
i don't want to have to uh you know

00:22:14,240 --> 00:22:17,760
what i would typically have to do is

00:22:15,919 --> 00:22:19,280
actually export my configuration and

00:22:17,760 --> 00:22:20,320
then immediately go to the import tab

00:22:19,280 --> 00:22:23,360
and re-import it

00:22:20,320 --> 00:22:25,039
to overwrite the changes in my code and

00:22:23,360 --> 00:22:26,880
that's really frustrating right well the

00:22:25,039 --> 00:22:28,480
config direct save will give you a sync

00:22:26,880 --> 00:22:30,559
option or an update option

00:22:28,480 --> 00:22:32,559
that actually lets you just click a

00:22:30,559 --> 00:22:33,679
button it updates your code base

00:22:32,559 --> 00:22:35,600
no need to interact with these

00:22:33,679 --> 00:22:37,600
compressed files or anything like that

00:22:35,600 --> 00:22:39,360
it just works and that's really the best

00:22:37,600 --> 00:22:41,440
thing about

00:22:39,360 --> 00:22:42,720
this module it just works it works the

00:22:41,440 --> 00:22:44,559
way you expect it to

00:22:42,720 --> 00:22:46,240
so that's one that i included with with

00:22:44,559 --> 00:22:48,000
every site that i'm using configuration

00:22:46,240 --> 00:22:50,159
management for

00:22:48,000 --> 00:22:51,840
another one here is configuration read

00:22:50,159 --> 00:22:54,000
only mode with this module

00:22:51,840 --> 00:22:55,120
it actually allows you to lock down a

00:22:54,000 --> 00:22:57,039
particular environment

00:22:55,120 --> 00:22:58,720
like the live environment and you can

00:22:57,039 --> 00:22:59,280
set it into read-only mode it will

00:22:58,720 --> 00:23:01,600
actually

00:22:59,280 --> 00:23:03,120
prevent any configuration from being

00:23:01,600 --> 00:23:03,919
saved to the database for this

00:23:03,120 --> 00:23:06,159
environment

00:23:03,919 --> 00:23:07,360
which is good if that's a scenario you

00:23:06,159 --> 00:23:09,360
can be in

00:23:07,360 --> 00:23:10,960
so you're able to go in say like no

00:23:09,360 --> 00:23:12,400
modules can be enabled or disabled no

00:23:10,960 --> 00:23:13,200
views can be changed you know all that

00:23:12,400 --> 00:23:14,400
stuff

00:23:13,200 --> 00:23:16,559
this is a module that you can use to

00:23:14,400 --> 00:23:19,200
help with that another

00:23:16,559 --> 00:23:20,799
great module is config ignore this is

00:23:19,200 --> 00:23:22,480
great for those situations where like

00:23:20,799 --> 00:23:24,640
maybe i have a

00:23:22,480 --> 00:23:26,400
certain set of modules that are on my

00:23:24,640 --> 00:23:28,000
computer you know i i need for

00:23:26,400 --> 00:23:29,120
development or that i have active in the

00:23:28,000 --> 00:23:32,240
development environment

00:23:29,120 --> 00:23:35,280
uh for building the site like you know

00:23:32,240 --> 00:23:36,880
devel comes to mind also uh maybe like

00:23:35,280 --> 00:23:38,720
the views ui

00:23:36,880 --> 00:23:40,559
module you know those are ones that we

00:23:38,720 --> 00:23:42,880
don't need to have active on live

00:23:40,559 --> 00:23:44,640
at all so you know what happens if we

00:23:42,880 --> 00:23:46,080
export our configuration in dev without

00:23:44,640 --> 00:23:48,000
thinking too much about it

00:23:46,080 --> 00:23:50,320
and then go over and import that to live

00:23:48,000 --> 00:23:50,960
well we just activated those modules on

00:23:50,320 --> 00:23:53,039
live

00:23:50,960 --> 00:23:54,000
well config ignore will let you say

00:23:53,039 --> 00:23:56,480
always ignore

00:23:54,000 --> 00:23:57,919
this particular configuration never

00:23:56,480 --> 00:23:59,600
change it whether it gets

00:23:57,919 --> 00:24:02,320
imported or whatever so that it just

00:23:59,600 --> 00:24:03,600
stays right there

00:24:02,320 --> 00:24:04,799
all right and then the last one here i'm

00:24:03,600 --> 00:24:06,000
going to talk about real quick is this

00:24:04,799 --> 00:24:07,520
config split

00:24:06,000 --> 00:24:09,039
config split allows you to set up

00:24:07,520 --> 00:24:10,880
different scenarios to say

00:24:09,039 --> 00:24:12,240
you know in this situation use this

00:24:10,880 --> 00:24:14,720
configuration or that one

00:24:12,240 --> 00:24:15,520
use a different configuration and you

00:24:14,720 --> 00:24:17,120
know

00:24:15,520 --> 00:24:18,720
it's really helpful again if you want a

00:24:17,120 --> 00:24:20,240
different set of configuration for your

00:24:18,720 --> 00:24:24,080
local environment

00:24:20,240 --> 00:24:25,760
there is extra some extra modules that

00:24:24,080 --> 00:24:26,480
kind of extend this even further that

00:24:25,760 --> 00:24:27,919
can

00:24:26,480 --> 00:24:29,840
stretch the boundaries a little bit and

00:24:27,919 --> 00:24:31,200
let you use configuration on more than

00:24:29,840 --> 00:24:32,960
one site at a time

00:24:31,200 --> 00:24:34,880
uh honestly it's a little bit confusing

00:24:32,960 --> 00:24:36,159
to me i haven't gotten too deep into

00:24:34,880 --> 00:24:37,919
config split but

00:24:36,159 --> 00:24:40,400
if you're interested that's the place

00:24:37,919 --> 00:24:42,720
you can go and check it out

00:24:40,400 --> 00:24:44,320
so again i i feel like uh kristen maybe

00:24:42,720 --> 00:24:45,279
she's like taking a look at our slides

00:24:44,320 --> 00:24:46,400
or something because she's already kind

00:24:45,279 --> 00:24:48,400
of seeding the very next thing we're

00:24:46,400 --> 00:24:49,919
going to talk about which is drush

00:24:48,400 --> 00:24:51,520
you can use drush commands the command

00:24:49,919 --> 00:24:53,919
line interface to say

00:24:51,520 --> 00:24:54,799
drush config export to export your

00:24:53,919 --> 00:24:56,799
configuration

00:24:54,799 --> 00:24:57,840
drush config import to import your

00:24:56,799 --> 00:25:00,480
configuration

00:24:57,840 --> 00:25:02,720
and thankfully these commands already do

00:25:00,480 --> 00:25:04,320
what that config direct save does

00:25:02,720 --> 00:25:06,159
so it's not downloading some compressed

00:25:04,320 --> 00:25:07,360
file it just saves it to the code base

00:25:06,159 --> 00:25:09,679
where it's supposed to go

00:25:07,360 --> 00:25:10,960
and it just works and yes like what they

00:25:09,679 --> 00:25:14,240
were saying in the

00:25:10,960 --> 00:25:15,919
little chat window there um the uh

00:25:14,240 --> 00:25:17,840
drush commands have shortened versions

00:25:15,919 --> 00:25:18,640
that are you know easier to remember for

00:25:17,840 --> 00:25:21,360
some people

00:25:18,640 --> 00:25:22,080
and so drush config export the short

00:25:21,360 --> 00:25:25,679
version is

00:25:22,080 --> 00:25:28,720
cex drush config import is just

00:25:25,679 --> 00:25:32,720
cim so drushcim would do an import

00:25:28,720 --> 00:25:35,039
cex would be the export um

00:25:32,720 --> 00:25:36,559
cool so uh the cool thing about this

00:25:35,039 --> 00:25:37,520
piece right here is like you know

00:25:36,559 --> 00:25:38,960
being able to do it from your command

00:25:37,520 --> 00:25:39,600
line it's just much easier than having

00:25:38,960 --> 00:25:42,080
to

00:25:39,600 --> 00:25:42,720
log into a site go to the configuration

00:25:42,080 --> 00:25:44,480
section

00:25:42,720 --> 00:25:46,159
you know click the import or you know

00:25:44,480 --> 00:25:47,520
yeah the import button once your

00:25:46,159 --> 00:25:49,440
information is ready in the test

00:25:47,520 --> 00:25:50,400
environment it's just much easier to run

00:25:49,440 --> 00:25:53,440
a simple command

00:25:50,400 --> 00:25:54,960
and be done with it now the automation

00:25:53,440 --> 00:25:57,679
piece really comes in

00:25:54,960 --> 00:25:59,279
where you start setting up tools to run

00:25:57,679 --> 00:26:02,559
these commands automatically

00:25:59,279 --> 00:26:04,400
so for example on pantheon you

00:26:02,559 --> 00:26:05,840
have a tool named quicksilver that lets

00:26:04,400 --> 00:26:07,200
you tap into

00:26:05,840 --> 00:26:09,120
different workflows that are just

00:26:07,200 --> 00:26:09,679
running on pantheon so every time that

00:26:09,120 --> 00:26:11,440
you

00:26:09,679 --> 00:26:13,440
commit your code every time that you

00:26:11,440 --> 00:26:16,559
clear your cache every time that you

00:26:13,440 --> 00:26:18,320
deploy to test or to live and so what

00:26:16,559 --> 00:26:19,840
you can do is just write a very

00:26:18,320 --> 00:26:21,760
simple little command that just

00:26:19,840 --> 00:26:24,880
literally says drush

00:26:21,760 --> 00:26:26,559
config import tell it to run on every

00:26:24,880 --> 00:26:27,440
deployment to test and every deployment

00:26:26,559 --> 00:26:29,039
to live

00:26:27,440 --> 00:26:30,799
and then that's a step you never have to

00:26:29,039 --> 00:26:32,640
think about again all that you have to

00:26:30,799 --> 00:26:34,799
do and all that your team has to do

00:26:32,640 --> 00:26:35,840
is export your configuration in dev or

00:26:34,799 --> 00:26:37,440
local or whatever

00:26:35,840 --> 00:26:39,679
and then the import piece is just

00:26:37,440 --> 00:26:41,279
assumed it just always happens

00:26:39,679 --> 00:26:43,520
which again one less thing you have to

00:26:41,279 --> 00:26:45,679
think about is always good because

00:26:43,520 --> 00:26:47,279
it's much easier than having to you know

00:26:45,679 --> 00:26:48,559
sort of drudge through it and do it

00:26:47,279 --> 00:26:49,919
manually

00:26:48,559 --> 00:26:52,240
um you could also automate this with

00:26:49,919 --> 00:26:54,320
other things you could set up a circle

00:26:52,240 --> 00:26:55,279
ci or some other continuous integration

00:26:54,320 --> 00:26:57,200
step or even

00:26:55,279 --> 00:26:59,440
tie it to some sort of a cron job if you

00:26:57,200 --> 00:27:00,480
wanted to import or export on certain

00:26:59,440 --> 00:27:03,440
intervals

00:27:00,480 --> 00:27:05,360
but it's sort of up to you at that point

00:27:03,440 --> 00:27:06,000
because this is not a pantheon specific

00:27:05,360 --> 00:27:07,919
thing

00:27:06,000 --> 00:27:09,360
you could kind of go with any with any

00:27:07,919 --> 00:27:11,520
solution that you'd like

00:27:09,360 --> 00:27:12,480
um but alright hey let's go ahead and

00:27:11,520 --> 00:27:14,400
jump into

00:27:12,480 --> 00:27:15,600
the live demo now i'm very excited for

00:27:14,400 --> 00:27:18,720
this because

00:27:15,600 --> 00:27:21,600
uh for the live demo i'm very pleased to

00:27:18,720 --> 00:27:24,640
have a guest with me here today

00:27:21,600 --> 00:27:27,679
we actually have um mr

00:27:24,640 --> 00:27:31,120
jenkin jenkins joining us today he is

00:27:27,679 --> 00:27:35,840
the editor-in-chief at umami magazine

00:27:31,120 --> 00:27:35,840
so one moment i'll go and get him

00:27:40,559 --> 00:27:47,039
hello everyone my name is

00:27:43,600 --> 00:27:50,240
mr jenkins as david said and

00:27:47,039 --> 00:27:51,600
um i'm the editor-in-chief of umami

00:27:50,240 --> 00:27:53,600
magazine now i

00:27:51,600 --> 00:27:54,720
uh agreed to give this talk because i

00:27:53,600 --> 00:27:56,799
thought it was important

00:27:54,720 --> 00:27:58,080
uh for the sake of transparency in these

00:27:56,799 --> 00:28:01,120
times to

00:27:58,080 --> 00:28:02,159
help people feel empowered to create

00:28:01,120 --> 00:28:04,799
their own content

00:28:02,159 --> 00:28:05,679
so we're going to show look behind the

00:28:04,799 --> 00:28:09,120
scenes

00:28:05,679 --> 00:28:12,320
how we create content on the

00:28:09,120 --> 00:28:13,279
mommy magazine website all right so here

00:28:12,320 --> 00:28:16,320
is the

00:28:13,279 --> 00:28:18,640
live version of our website and we are

00:28:16,320 --> 00:28:19,600
logged in as the editor because i'm the

00:28:18,640 --> 00:28:22,559
editor

00:28:19,600 --> 00:28:24,320
so let's go ahead and go and create this

00:28:22,559 --> 00:28:26,080
new piece of content

00:28:24,320 --> 00:28:28,799
i'm going to go up to the the content

00:28:26,080 --> 00:28:28,799
page at the top

00:28:29,679 --> 00:28:35,600
now i don't know about you uh i love

00:28:32,799 --> 00:28:37,440
oatmeal oatmeal is probably my

00:28:35,600 --> 00:28:40,320
favorite grain um if you didn't know

00:28:37,440 --> 00:28:42,320
it's actually gluten free which is

00:28:40,320 --> 00:28:43,360
great for people that are gluten

00:28:42,320 --> 00:28:45,520
intolerant but

00:28:43,360 --> 00:28:46,960
let's go ahead and create a new article

00:28:45,520 --> 00:28:51,360
that we've been working on

00:28:46,960 --> 00:28:52,880
all about eating more oatmeal

00:28:51,360 --> 00:28:55,360
so i'm going to go to the article

00:28:52,880 --> 00:28:59,279
section create

00:28:55,360 --> 00:29:02,799
some new article content

00:28:59,279 --> 00:29:06,080
and i have some prepared references

00:29:02,799 --> 00:29:09,520
for this i have the title here it's

00:29:06,080 --> 00:29:13,840
uh i'm going to put in title

00:29:09,520 --> 00:29:13,840
eat more

00:29:15,279 --> 00:29:21,520
right and then if i grab the

00:29:19,360 --> 00:29:23,440
content i'm going to plug this in the

00:29:21,520 --> 00:29:26,720
body field right here

00:29:23,440 --> 00:29:27,919
there we go we got the oatmeal article

00:29:26,720 --> 00:29:31,840
all written

00:29:27,919 --> 00:29:33,360
now this has been proofed of course and

00:29:31,840 --> 00:29:34,559
since i'm the editor i can just publish

00:29:33,360 --> 00:29:36,480
it when i'm ready but you know it's a

00:29:34,559 --> 00:29:39,520
good idea to add in

00:29:36,480 --> 00:29:42,080
an image we like to use great imagery

00:29:39,520 --> 00:29:42,799
showcasing delicious food so let's add

00:29:42,080 --> 00:29:45,520
in

00:29:42,799 --> 00:29:45,520
a new image

00:29:46,000 --> 00:29:50,399
fortunately thanks to drupal's great

00:29:48,480 --> 00:29:55,039
media library we have

00:29:50,399 --> 00:29:58,720
an extensive list of images here

00:29:55,039 --> 00:30:01,919
and i have my oatmeal

00:29:58,720 --> 00:30:01,919
picture ready to go

00:30:06,799 --> 00:30:12,080
insert selected okay that is ready

00:30:10,000 --> 00:30:13,919
so now i just need to publish it i'll

00:30:12,080 --> 00:30:16,240
just save it to published and click

00:30:13,919 --> 00:30:16,240
save

00:30:17,120 --> 00:30:20,159
oh if you if you can't see my screen if

00:30:18,880 --> 00:30:21,200
it's a little difficult don't forget you

00:30:20,159 --> 00:30:24,240
can double click

00:30:21,200 --> 00:30:25,279
in the the window to

00:30:24,240 --> 00:30:28,080
kind of make that window a little bit

00:30:25,279 --> 00:30:30,240
bigger all right so here we go we have

00:30:28,080 --> 00:30:31,840
eat more oatmeal we have this great

00:30:30,240 --> 00:30:32,880
article encouraging people to eat more

00:30:31,840 --> 00:30:34,880
oatmeal

00:30:32,880 --> 00:30:36,000
and we have other featured articles on

00:30:34,880 --> 00:30:38,559
the sidebar so that

00:30:36,000 --> 00:30:40,480
is that's perfect now if i just go over

00:30:38,559 --> 00:30:42,320
to the articles page i can see all of

00:30:40,480 --> 00:30:46,000
the various articles that we have

00:30:42,320 --> 00:30:48,080
uh hmm well

00:30:46,000 --> 00:30:49,120
we would typically see all the articles

00:30:48,080 --> 00:30:52,000
that we have but

00:30:49,120 --> 00:30:54,799
we do a refresh looks like we're only

00:30:52,000 --> 00:30:58,399
seeing one article for some reason

00:30:54,799 --> 00:31:02,000
well um that's a problem

00:30:58,399 --> 00:31:05,919
um well i i guess i'm gonna give

00:31:02,000 --> 00:31:09,120
my developer a quick little phone call

00:31:05,919 --> 00:31:10,880
and uh just gonna see if he can

00:31:09,120 --> 00:31:12,320
jump on real quick and and help us

00:31:10,880 --> 00:31:16,240
figure this out

00:31:12,320 --> 00:31:18,159
just one moment yeah hello kevin

00:31:16,240 --> 00:31:19,840
yeah can you can you jump in and and

00:31:18,159 --> 00:31:22,799
help with this we uh

00:31:19,840 --> 00:31:33,279
having some problems on the article page

00:31:22,799 --> 00:31:36,559
all right i'll see you later

00:31:33,279 --> 00:31:40,880
howdy everybody my name is kevin and i

00:31:36,559 --> 00:31:43,919
am the developer of umami magazine now

00:31:40,880 --> 00:31:45,840
uh my boss mr jenkins called

00:31:43,919 --> 00:31:47,760
and uh he said there's some sort of a

00:31:45,840 --> 00:31:49,840
problem on the articles page and

00:31:47,760 --> 00:31:51,919
you know i have the live website open up

00:31:49,840 --> 00:31:52,480
right here and yeah i can i can see it

00:31:51,919 --> 00:31:54,080
is

00:31:52,480 --> 00:31:56,080
it is not working the way it's supposed

00:31:54,080 --> 00:31:58,320
to work right well uh

00:31:56,080 --> 00:31:59,440
i think a good place to start is

00:31:58,320 --> 00:32:02,159
probably

00:31:59,440 --> 00:32:04,399
opening up in my local my development

00:32:02,159 --> 00:32:05,760
environment because that is where

00:32:04,399 --> 00:32:07,919
we are going to get some of the good

00:32:05,760 --> 00:32:10,399
stuff happening so uh let me

00:32:07,919 --> 00:32:11,679
switch over to my pantheon dashboard i

00:32:10,399 --> 00:32:13,200
want to make sure that i can see all

00:32:11,679 --> 00:32:15,360
that new content that's getting created

00:32:13,200 --> 00:32:17,120
there so let me just go into

00:32:15,360 --> 00:32:18,399
database and files we're going to sync

00:32:17,120 --> 00:32:20,559
up with live

00:32:18,399 --> 00:32:23,039
so that we get all of that great

00:32:20,559 --> 00:32:25,440
delicious oatmeal content pulled in

00:32:23,039 --> 00:32:26,960
now if i kind of jump the gun i can see

00:32:25,440 --> 00:32:28,559
here is workflow is running we're

00:32:26,960 --> 00:32:31,440
cloning the database and all that stuff

00:32:28,559 --> 00:32:33,120
so it'll be ready to go in just a second

00:32:31,440 --> 00:32:35,200
once it's ready though what i'm going to

00:32:33,120 --> 00:32:37,760
do is actually log into

00:32:35,200 --> 00:32:39,039
my development environment we're going

00:32:37,760 --> 00:32:41,360
to take a look

00:32:39,039 --> 00:32:42,240
and we're going to see if we can fix

00:32:41,360 --> 00:32:44,799
with the problem i

00:32:42,240 --> 00:32:46,559
i suspect it's probably a view issue

00:32:44,799 --> 00:32:47,760
we've we're having some view issues a

00:32:46,559 --> 00:32:50,080
while back and i was doing some

00:32:47,760 --> 00:32:51,120
debugging and i've i found the problem

00:32:50,080 --> 00:32:52,720
but uh

00:32:51,120 --> 00:32:54,480
maybe i didn't find the problem after

00:32:52,720 --> 00:32:55,600
all so let's let's jump in and take a

00:32:54,480 --> 00:32:58,720
look we have

00:32:55,600 --> 00:32:59,840
visit development site right here

00:32:58,720 --> 00:33:01,679
i can tell it's the development

00:32:59,840 --> 00:33:02,799
environment because it starts with dev

00:33:01,679 --> 00:33:06,399
dash

00:33:02,799 --> 00:33:08,240
now if i visit the articles page

00:33:06,399 --> 00:33:10,399
yeah sure enough there is the eat more

00:33:08,240 --> 00:33:13,200
article or eat more oatmeal

00:33:10,399 --> 00:33:13,919
article that mr jenkins just created up

00:33:13,200 --> 00:33:17,039
on live

00:33:13,919 --> 00:33:25,840
so let me log in as my developer account

00:33:17,039 --> 00:33:25,840
and see if i can figure this out

00:33:26,640 --> 00:33:30,320
all right so here i am logged in as the

00:33:28,399 --> 00:33:31,120
developer now if i want to figure out

00:33:30,320 --> 00:33:33,600
you know this this

00:33:31,120 --> 00:33:35,519
issue if i need to uh determine what the

00:33:33,600 --> 00:33:37,200
problem is i like to start with making

00:33:35,519 --> 00:33:38,159
sure we actually have the content on the

00:33:37,200 --> 00:33:40,399
site that we're expecting

00:33:38,159 --> 00:33:42,159
so let's just run over to the content

00:33:40,399 --> 00:33:44,240
tab and that will tell us

00:33:42,159 --> 00:33:45,760
if we have other article content you

00:33:44,240 --> 00:33:46,960
know i hope it didn't get deleted or

00:33:45,760 --> 00:33:49,519
something but uh

00:33:46,960 --> 00:33:51,440
yeah here we go so we can see we have

00:33:49,519 --> 00:33:53,440
lots of article content so we should be

00:33:51,440 --> 00:33:55,440
seeing more than one on that page

00:33:53,440 --> 00:33:56,799
now let's jump back to the site and you

00:33:55,440 --> 00:33:58,399
know it's probably best just to jump

00:33:56,799 --> 00:34:00,320
right in and take a look at the view

00:33:58,399 --> 00:34:01,760
see if we can figure out what is wrong

00:34:00,320 --> 00:34:04,159
with this view and why

00:34:01,760 --> 00:34:05,679
it is not behaving the way we expect it

00:34:04,159 --> 00:34:07,600
to so

00:34:05,679 --> 00:34:10,800
let's click on the little tab here let's

00:34:07,600 --> 00:34:12,399
click on edit view

00:34:10,800 --> 00:34:14,879
and we'll see if we can figure out what

00:34:12,399 --> 00:34:17,520
is wrong with this view

00:34:14,879 --> 00:34:18,960
ah i i see the problem already so we

00:34:17,520 --> 00:34:21,760
have right here

00:34:18,960 --> 00:34:22,320
display a specified number of items and

00:34:21,760 --> 00:34:25,520
we have

00:34:22,320 --> 00:34:27,119
one item all right obviously that is

00:34:25,520 --> 00:34:29,040
going to be a problem so if we just

00:34:27,119 --> 00:34:33,040
change this

00:34:29,040 --> 00:34:37,599
change it to page output full pager

00:34:33,040 --> 00:34:39,760
click apply and i'm pretty sure we had

00:34:37,599 --> 00:34:41,520
six items per page before so let me put

00:34:39,760 --> 00:34:42,960
that in there we'll click apply

00:34:41,520 --> 00:34:45,760
and we'll see if this fixes the problem

00:34:42,960 --> 00:34:45,760
let's click save

00:34:46,960 --> 00:34:50,800
all righty there we go so now we have

00:34:48,800 --> 00:34:52,720
six items we have the pager

00:34:50,800 --> 00:34:54,079
uh i'm pretty sure this fixes the

00:34:52,720 --> 00:34:55,679
problem so let's go ahead and

00:34:54,079 --> 00:34:57,440
export the configuration in this

00:34:55,679 --> 00:34:58,880
environment you know this is an easy

00:34:57,440 --> 00:35:00,640
enough problem i probably could

00:34:58,880 --> 00:35:02,320
just do this in the other environments

00:35:00,640 --> 00:35:04,480
but that's not the way our workflow

00:35:02,320 --> 00:35:06,480
works now i might look like a cowboy i'm

00:35:04,480 --> 00:35:07,680
no cowboy coder i'm not making changes

00:35:06,480 --> 00:35:09,119
directly to live

00:35:07,680 --> 00:35:11,200
so what i'm going to do is i'm going to

00:35:09,119 --> 00:35:12,960
export configuration in dev

00:35:11,200 --> 00:35:15,440
and then i'll be able to move that up to

00:35:12,960 --> 00:35:16,480
test get a fresh test environment all

00:35:15,440 --> 00:35:18,160
spun up and

00:35:16,480 --> 00:35:19,599
ready for me to test with and then i'll

00:35:18,160 --> 00:35:23,200
be good to go so let's

00:35:19,599 --> 00:35:23,200
go over to configuration at the top

00:35:23,599 --> 00:35:27,599
we'll go down to configuration

00:35:28,839 --> 00:35:32,720
synchronization

00:35:30,960 --> 00:35:34,240
all right there we go it says that there

00:35:32,720 --> 00:35:35,680
are some changes and you know

00:35:34,240 --> 00:35:38,000
you might be tempted at first to click

00:35:35,680 --> 00:35:39,359
the import all but unfortunately that

00:35:38,000 --> 00:35:40,400
would lose all of our changes we don't

00:35:39,359 --> 00:35:42,320
want to import

00:35:40,400 --> 00:35:43,599
the configuration from code because our

00:35:42,320 --> 00:35:46,000
code is outdated right

00:35:43,599 --> 00:35:47,760
we haven't done an export yet so if you

00:35:46,000 --> 00:35:49,440
go to export

00:35:47,760 --> 00:35:51,280
what you're going to see is interface to

00:35:49,440 --> 00:35:53,359
click the export button but remember

00:35:51,280 --> 00:35:54,640
like david said earlier now if you click

00:35:53,359 --> 00:35:58,160
this it is going to

00:35:54,640 --> 00:36:00,480
export a compressed file which is

00:35:58,160 --> 00:36:02,000
useless so what i want to do we have

00:36:00,480 --> 00:36:03,599
this great config direct save

00:36:02,000 --> 00:36:05,680
module enabled which lets us go to this

00:36:03,599 --> 00:36:07,839
update tab we just select

00:36:05,680 --> 00:36:09,599
sync and we click on update

00:36:07,839 --> 00:36:11,520
configuration

00:36:09,599 --> 00:36:13,680
now it says configuration has been

00:36:11,520 --> 00:36:16,400
updated so

00:36:13,680 --> 00:36:18,880
if i go back to my site looks like

00:36:16,400 --> 00:36:22,320
everything is working okay

00:36:18,880 --> 00:36:24,400
now back over in my pantheon interface

00:36:22,320 --> 00:36:26,000
because i'm in fftp mode i'm allowed to

00:36:24,400 --> 00:36:27,520
make changes to code directly in the

00:36:26,000 --> 00:36:30,560
development environment

00:36:27,520 --> 00:36:32,000
i still get to use commits to save all

00:36:30,560 --> 00:36:33,520
my work and all that stuff but i can

00:36:32,000 --> 00:36:35,760
actually see right here

00:36:33,520 --> 00:36:36,720
if i click on this i can see that one

00:36:35,760 --> 00:36:39,440
file has changed

00:36:36,720 --> 00:36:40,320
and it's the views view featured

00:36:39,440 --> 00:36:41,920
articles

00:36:40,320 --> 00:36:43,680
oh that looks right to me but if i click

00:36:41,920 --> 00:36:46,079
on it i actually get a diff

00:36:43,680 --> 00:36:48,160
i can see what was changed in

00:36:46,079 --> 00:36:49,839
configuration that got exported to code

00:36:48,160 --> 00:36:53,119
so i could see it changed from

00:36:49,839 --> 00:36:56,400
you know show sum one

00:36:53,119 --> 00:36:59,280
two full pager with six so i

00:36:56,400 --> 00:37:01,280
i think this looks good now if i close

00:36:59,280 --> 00:37:05,599
this i'm just gonna put in a quick

00:37:01,280 --> 00:37:09,040
commit message we'll say um

00:37:05,599 --> 00:37:14,000
changing the articles

00:37:09,040 --> 00:37:14,000
page 2 6.

00:37:15,599 --> 00:37:19,920
i'm going to click on commit again even

00:37:18,079 --> 00:37:21,760
though i'm in sftp mode the great thing

00:37:19,920 --> 00:37:22,240
here about pantheon is we can still use

00:37:21,760 --> 00:37:24,320
commit

00:37:22,240 --> 00:37:26,160
even though i don't know much about git

00:37:24,320 --> 00:37:27,119
myself i can just use the interface and

00:37:26,160 --> 00:37:29,440
it's all right there

00:37:27,119 --> 00:37:31,680
super user friendly and i still get

00:37:29,440 --> 00:37:32,960
version control so i'm able to use

00:37:31,680 --> 00:37:35,920
version control for all of my

00:37:32,960 --> 00:37:36,960
configuration but also all of my code of

00:37:35,920 --> 00:37:38,400
course

00:37:36,960 --> 00:37:40,160
now while we're waiting for this if we

00:37:38,400 --> 00:37:41,920
jump over to the test environment we'll

00:37:40,160 --> 00:37:42,480
see here we have a commit ready to

00:37:41,920 --> 00:37:44,480
deploy

00:37:42,480 --> 00:37:46,320
so in order to sync up my test

00:37:44,480 --> 00:37:46,960
environment i just put in a deploy log

00:37:46,320 --> 00:37:48,800
message

00:37:46,960 --> 00:37:50,000
make sure i have the correct check boxes

00:37:48,800 --> 00:37:52,640
checked and click on the button

00:37:50,000 --> 00:37:53,520
to deploy so now my expectations what

00:37:52,640 --> 00:37:56,640
this is doing

00:37:53,520 --> 00:37:57,920
is it is actually removing the test

00:37:56,640 --> 00:38:00,480
environment and creating a brand new

00:37:57,920 --> 00:38:03,839
test environment with all of my fresh

00:38:00,480 --> 00:38:04,480
database files from live and all of my

00:38:03,839 --> 00:38:05,920
code

00:38:04,480 --> 00:38:07,839
from dev so it's all kind of coming

00:38:05,920 --> 00:38:09,280
together in one place so that when i

00:38:07,839 --> 00:38:11,359
view my test environment

00:38:09,280 --> 00:38:13,200
i am not taking any risks with my live

00:38:11,359 --> 00:38:16,320
environment it's all just going through

00:38:13,200 --> 00:38:17,119
and working directly from tests so what

00:38:16,320 --> 00:38:20,720
i'll be able to do

00:38:17,119 --> 00:38:23,359
is go into my test environment

00:38:20,720 --> 00:38:24,640
i'll be able to import the configuration

00:38:23,359 --> 00:38:27,200
and then we'll be able to see it all

00:38:24,640 --> 00:38:28,480
happening right there

00:38:27,200 --> 00:38:30,240
all right we do just have to wait for

00:38:28,480 --> 00:38:32,000
this to complete

00:38:30,240 --> 00:38:33,440
we can see up here again the workflows

00:38:32,000 --> 00:38:36,960
tab is a spinning

00:38:33,440 --> 00:38:39,440
so we know it is working all right very

00:38:36,960 --> 00:38:40,880
good so if we click on visit test site

00:38:39,440 --> 00:38:43,200
we can see we're on the test site by the

00:38:40,880 --> 00:38:44,960
url

00:38:43,200 --> 00:38:46,240
oops let me do a quick refresh it might

00:38:44,960 --> 00:38:47,359
have still been finishing up something

00:38:46,240 --> 00:38:50,000
there

00:38:47,359 --> 00:38:51,440
there we go all right and so you can go

00:38:50,000 --> 00:38:53,200
to the articles tab

00:38:51,440 --> 00:38:54,800
yeah we see only one but we do get that

00:38:53,200 --> 00:38:56,160
new content in there now if i click on

00:38:54,800 --> 00:39:00,640
login again

00:38:56,160 --> 00:39:03,200
i am going to log in as a developer

00:39:00,640 --> 00:39:03,680
in my password and now all i have to do

00:39:03,200 --> 00:39:05,920
here

00:39:03,680 --> 00:39:07,520
rather than having to just make that

00:39:05,920 --> 00:39:08,400
change to views directly all i have to

00:39:07,520 --> 00:39:11,680
do is go into

00:39:08,400 --> 00:39:14,400
configuration and make the change

00:39:11,680 --> 00:39:16,720
from the configuration synchronization

00:39:14,400 --> 00:39:19,680
screen

00:39:16,720 --> 00:39:20,240
so under configuration synchronization i

00:39:19,680 --> 00:39:23,440
have this

00:39:20,240 --> 00:39:25,119
new views view featured articles

00:39:23,440 --> 00:39:27,040
and i can actually view the different

00:39:25,119 --> 00:39:28,960
from here as well so i could get a diff

00:39:27,040 --> 00:39:30,160
and see exactly what's changed if i

00:39:28,960 --> 00:39:31,760
wasn't sure but you know i've already

00:39:30,160 --> 00:39:33,280
done that over on pantheon but still

00:39:31,760 --> 00:39:33,599
this interface is pretty neat you can

00:39:33,280 --> 00:39:36,800
see

00:39:33,599 --> 00:39:38,560
exactly uh you know right next to each

00:39:36,800 --> 00:39:40,160
other exactly what's changed

00:39:38,560 --> 00:39:42,079
so if we're ready you know the active

00:39:40,160 --> 00:39:44,800
here is what's in the database right now

00:39:42,079 --> 00:39:46,720
and stage is what we're about to import

00:39:44,800 --> 00:39:47,440
we want to change it to a page full

00:39:46,720 --> 00:39:50,000
pager

00:39:47,440 --> 00:39:50,560
with six that looks good so if we click

00:39:50,000 --> 00:39:54,000
on

00:39:50,560 --> 00:39:55,839
import all we should see

00:39:54,000 --> 00:39:59,359
after just a moment it will say that we

00:39:55,839 --> 00:39:59,359
are all done

00:40:02,800 --> 00:40:06,480
very good now if we jump back to our

00:40:04,640 --> 00:40:10,160
site we can go up to

00:40:06,480 --> 00:40:12,480
articles and fingers crossed there we go

00:40:10,160 --> 00:40:15,119
awesome so now i'm going to jump on my

00:40:12,480 --> 00:40:19,440
phone real quick and just send a quick

00:40:15,119 --> 00:40:21,760
uh text message to mr jenkins and tell

00:40:19,440 --> 00:40:23,440
him to check out the test environment

00:40:21,760 --> 00:40:24,960
once he gives the thumbs up and says

00:40:23,440 --> 00:40:25,520
that it looks right then what we'll do

00:40:24,960 --> 00:40:27,119
is

00:40:25,520 --> 00:40:28,960
we'll go and deploy this to live and

00:40:27,119 --> 00:40:31,520
we'll be on our way

00:40:28,960 --> 00:40:33,040
so let's see oh yep i just got the

00:40:31,520 --> 00:40:33,440
go-ahead he looks like he's happy with

00:40:33,040 --> 00:40:36,800
this

00:40:33,440 --> 00:40:39,599
so uh let's jump over

00:40:36,800 --> 00:40:41,040
to our live environment so over pantheon

00:40:39,599 --> 00:40:43,520
we go back to our

00:40:41,040 --> 00:40:44,560
live tab we'll put in our deploy log

00:40:43,520 --> 00:40:47,440
message

00:40:44,560 --> 00:40:49,920
and click on deploy now this time

00:40:47,440 --> 00:40:52,560
instead of having to

00:40:49,920 --> 00:40:54,160
go into the live site and show you

00:40:52,560 --> 00:40:55,280
exactly how it works you know importing

00:40:54,160 --> 00:40:56,960
we've already seen that

00:40:55,280 --> 00:40:59,119
i'm going to show you how to use brush

00:40:56,960 --> 00:41:01,280
because drush is a super helpful

00:40:59,119 --> 00:41:02,880
command line tool for interacting

00:41:01,280 --> 00:41:06,000
directly with your

00:41:02,880 --> 00:41:07,839
drupal site now i am using terminus

00:41:06,000 --> 00:41:10,160
terminus is a pantheon command-line

00:41:07,839 --> 00:41:11,520
interface uh that is going to

00:41:10,160 --> 00:41:13,119
uh well if you're familiar with rush

00:41:11,520 --> 00:41:14,640
there's direct aliases and all of the

00:41:13,119 --> 00:41:17,680
alias files and things like that

00:41:14,640 --> 00:41:19,119
uh at pantheon there's a tool the

00:41:17,680 --> 00:41:20,560
terminus that will let me run drush

00:41:19,119 --> 00:41:21,520
directly on the environment that we're

00:41:20,560 --> 00:41:22,960
interacting with

00:41:21,520 --> 00:41:24,560
so it's going to look slightly different

00:41:22,960 --> 00:41:28,000
but i'll show you exactly what

00:41:24,560 --> 00:41:29,839
we're looking at there all right so now

00:41:28,000 --> 00:41:31,200
we can see it is completed if i jump

00:41:29,839 --> 00:41:33,599
back to

00:41:31,200 --> 00:41:34,640
the live version of our website do a

00:41:33,599 --> 00:41:36,640
refresh

00:41:34,640 --> 00:41:38,160
we do not see any changes it's still

00:41:36,640 --> 00:41:40,000
just the way it was before

00:41:38,160 --> 00:41:43,680
but now if i jump over to my command

00:41:40,000 --> 00:41:43,680
line interface and i just do a

00:41:43,920 --> 00:41:48,720
terminus brush and then the name of my

00:41:47,280 --> 00:41:52,160
site so it's going to be

00:41:48,720 --> 00:41:54,319
umami cfm and it's going to be on the

00:41:52,160 --> 00:41:56,319
live environment so i put dot live

00:41:54,319 --> 00:41:58,400
and then dash dash and then we're going

00:41:56,319 --> 00:42:02,480
to do a import so it's going to do

00:41:58,400 --> 00:42:04,160
config import so uh to break these down

00:42:02,480 --> 00:42:04,640
a little bit the con terminus part right

00:42:04,160 --> 00:42:06,880
here

00:42:04,640 --> 00:42:08,960
and the site dot the environment part is

00:42:06,880 --> 00:42:10,560
all terminus that's pantheon if you're

00:42:08,960 --> 00:42:11,920
just doing a drush command directly all

00:42:10,560 --> 00:42:13,520
that you need is the drush

00:42:11,920 --> 00:42:17,839
config import you don't need that other

00:42:13,520 --> 00:42:17,839
stuff i'm going to click on enter

00:42:20,880 --> 00:42:24,079
once this finishes it's actually going

00:42:22,560 --> 00:42:25,200
to prompt me and make sure that i want

00:42:24,079 --> 00:42:26,560
to do this and this is an important

00:42:25,200 --> 00:42:27,200
thing now don't forget to talk to your

00:42:26,560 --> 00:42:29,359
team

00:42:27,200 --> 00:42:30,800
making sure that this is a process that

00:42:29,359 --> 00:42:32,720
they're familiar with

00:42:30,800 --> 00:42:34,560
so we will it'll prompt me right there

00:42:32,720 --> 00:42:36,079
i'll say am i sure that i want to import

00:42:34,560 --> 00:42:38,400
that particular file we'll say

00:42:36,079 --> 00:42:38,400
yes

00:42:39,280 --> 00:42:44,319
synchronize configuration completed very

00:42:42,480 --> 00:42:47,520
good so let's jump back to our site

00:42:44,319 --> 00:42:48,640
and do a quick little refresh and there

00:42:47,520 --> 00:42:52,240
we go

00:42:48,640 --> 00:42:55,119
we got it and we are done so very good

00:42:52,240 --> 00:42:55,839
um excellent well you know i think i'm

00:42:55,119 --> 00:42:59,119
going to hand

00:42:55,839 --> 00:43:00,240
the mic now back to david i i don't

00:42:59,119 --> 00:43:01,520
think we

00:43:00,240 --> 00:43:03,920
need to go through anything else there

00:43:01,520 --> 00:43:05,760
so thank you all very much i i

00:43:03,920 --> 00:43:07,680
my name's kevin it's been a wonderful

00:43:05,760 --> 00:43:13,839
time talking to you and i'll go get

00:43:07,680 --> 00:43:13,839
david i'll be right back

00:43:14,240 --> 00:43:17,920
all right everyone well uh thanks again

00:43:16,240 --> 00:43:19,040
for checking out the live demo i hope

00:43:17,920 --> 00:43:21,359
that you enjoyed

00:43:19,040 --> 00:43:22,079
uh introducing uh kind of getting to

00:43:21,359 --> 00:43:25,119
know

00:43:22,079 --> 00:43:27,359
mr jenkins and kevin a little bit

00:43:25,119 --> 00:43:28,800
uh that that is the process that you go

00:43:27,359 --> 00:43:31,599
through to do a

00:43:28,800 --> 00:43:33,280
um modern development workflow using

00:43:31,599 --> 00:43:35,119
configuration management

00:43:33,280 --> 00:43:36,560
um now there are a few more things that

00:43:35,119 --> 00:43:37,599
i'd like to talk about before we wrap up

00:43:36,560 --> 00:43:41,040
for today uh

00:43:37,599 --> 00:43:41,359
we are at time how do you figure out how

00:43:41,040 --> 00:43:42,880
to

00:43:41,359 --> 00:43:45,200
you know who broke the page and all that

00:43:42,880 --> 00:43:47,599
stuff well let's jump over real quick

00:43:45,200 --> 00:43:49,839
um if we show the page right here i'm

00:43:47,599 --> 00:43:53,040
logged in with my site

00:43:49,839 --> 00:43:56,400
i can just jump over to

00:43:53,040 --> 00:43:58,880
oh sites

00:43:56,400 --> 00:43:58,880
files

00:44:02,000 --> 00:44:08,800
it's default and config

00:44:05,280 --> 00:44:11,760
and now if i just do a git log

00:44:08,800 --> 00:44:14,000
dash p and then the name of the

00:44:11,760 --> 00:44:16,800
particular file that changed

00:44:14,000 --> 00:44:18,560
we can actually see right here i broke

00:44:16,800 --> 00:44:19,839
this item big surprise right like i kind

00:44:18,560 --> 00:44:22,160
of constructed that so

00:44:19,839 --> 00:44:23,599
i broke the site i did it yesterday at

00:44:22,160 --> 00:44:25,119
this time so it hasn't been broken for

00:44:23,599 --> 00:44:27,599
very long fortunately

00:44:25,119 --> 00:44:29,200
but that's it uh so let me flip back to

00:44:27,599 --> 00:44:30,400
my slides and just say a big thank you

00:44:29,200 --> 00:44:31,760
to everyone who

00:44:30,400 --> 00:44:34,240
kind of helped me prepare for this

00:44:31,760 --> 00:44:35,680
session there are more resources and i

00:44:34,240 --> 00:44:37,359
don't have time to talk about them but

00:44:35,680 --> 00:44:39,520
you can go to my website

00:44:37,359 --> 00:44:40,560
check out the slides there you can click

00:44:39,520 --> 00:44:42,160
all those links

00:44:40,560 --> 00:44:44,000
and get all the help that you need from

00:44:42,160 --> 00:44:45,920
there so thank you all very much if you

00:44:44,000 --> 00:44:48,240
have any other questions

00:44:45,920 --> 00:44:50,000
feel free to send them to me directly

00:44:48,240 --> 00:44:51,359
i'm on slack you can dm me or

00:44:50,000 --> 00:44:53,359
you can just reach out in one of the

00:44:51,359 --> 00:44:54,800
public channels i'd be happy to talk

00:44:53,359 --> 00:44:55,760
more about this you can also tweet at me

00:44:54,800 --> 00:44:57,359
at david needham

00:44:55,760 --> 00:45:00,880
thank you all very much and i hope to

00:44:57,359 --> 00:45:00,880

YouTube URL: https://www.youtube.com/watch?v=S9GLT4ssj2Q


