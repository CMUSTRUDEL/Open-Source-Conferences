Title: Creating text-based adventure games using Drupal and Slack   DrupalCon Global 2020
Publication date: 2020-08-25
Playlist: DrupalCon Global 2020
Description: 
	This talk is for people who are interested in Drupal module development and Slack integration, but don't know where to start.
Captions: 
	00:00:02,560 --> 00:00:06,640
okay

00:00:03,840 --> 00:00:08,160
at 6 15 i'm gonna start uh i'm gonna

00:00:06,640 --> 00:00:11,440
kill my video for this

00:00:08,160 --> 00:00:13,440
because uh we're running it locally on

00:00:11,440 --> 00:00:15,360
ngrok and the video plus the screen

00:00:13,440 --> 00:00:16,400
share plus the ngrok makes it a little

00:00:15,360 --> 00:00:19,279
too slow

00:00:16,400 --> 00:00:20,880
and slack is really uh picky with the

00:00:19,279 --> 00:00:21,760
response time on some of these things

00:00:20,880 --> 00:00:24,160
and with the

00:00:21,760 --> 00:00:26,720
in practice runs with the video on

00:00:24,160 --> 00:00:29,359
sometimes it'll just pass that threshold

00:00:26,720 --> 00:00:30,240
where it starts resending messages and

00:00:29,359 --> 00:00:33,280
things and

00:00:30,240 --> 00:00:34,960
uh and things don't work quite right so

00:00:33,280 --> 00:00:37,280
uh here have a look and i'm about to go

00:00:34,960 --> 00:00:37,280
away

00:00:39,440 --> 00:00:42,320
it can yeah

00:00:42,879 --> 00:00:47,360
all right so we're talking about

00:00:44,640 --> 00:00:50,079
creating our text based adventure games

00:00:47,360 --> 00:00:51,840
with drupal and slack now i'm uh

00:00:50,079 --> 00:00:54,399
flipping back and forth between

00:00:51,840 --> 00:00:56,239
powerpoint and chrome with slack in it

00:00:54,399 --> 00:00:59,760
and some php storm

00:00:56,239 --> 00:01:02,320
uh so um i'll i'll check

00:00:59,760 --> 00:01:03,600
the uh the session for chat messages as

00:01:02,320 --> 00:01:07,200
i can

00:01:03,600 --> 00:01:08,400
um and then uh but if i don't get to

00:01:07,200 --> 00:01:13,119
them i'll try to get to them

00:01:08,400 --> 00:01:15,920
at the end so let's get started

00:01:13,119 --> 00:01:16,240
uh who am i i'm jack franks uh i work

00:01:15,920 --> 00:01:17,920
for

00:01:16,240 --> 00:01:19,680
breakthrough technologies like i said

00:01:17,920 --> 00:01:21,920
i'm gonna kind of skip some of the

00:01:19,680 --> 00:01:22,880
touchy-feely stuff because again this is

00:01:21,920 --> 00:01:25,920
a very uh

00:01:22,880 --> 00:01:26,720
dense presentation so uh i'm just gonna

00:01:25,920 --> 00:01:28,240
try to

00:01:26,720 --> 00:01:30,960
get into it and get going so what are we

00:01:28,240 --> 00:01:33,360
doing we're recreating a mud

00:01:30,960 --> 00:01:35,040
in drupal and slack so these are

00:01:33,360 --> 00:01:37,200
text-based adventure games

00:01:35,040 --> 00:01:39,520
and you kill monsters and solve puzzles

00:01:37,200 --> 00:01:40,560
to gain levels and get powerful and then

00:01:39,520 --> 00:01:44,079
beat the game

00:01:40,560 --> 00:01:47,600
uh i was a modem kid you know from

00:01:44,079 --> 00:01:49,439
from the start and uh you know built a

00:01:47,600 --> 00:01:51,439
heat kit modem and then dialed into a

00:01:49,439 --> 00:01:54,640
whole bunch of uh

00:01:51,439 --> 00:01:57,280
whole bunch of bulletin boards uh once

00:01:54,640 --> 00:01:59,280
multi-line bbs's really got popular in

00:01:57,280 --> 00:02:03,119
the you know mid to late 80s

00:01:59,280 --> 00:02:03,840
i was just hooked uh the d-dial chat

00:02:03,119 --> 00:02:07,280
boards the

00:02:03,840 --> 00:02:08,160
major bbs's uh that's what really uh

00:02:07,280 --> 00:02:10,640
that's what really

00:02:08,160 --> 00:02:11,680
got into me and this is what really uh

00:02:10,640 --> 00:02:14,480
inspired me

00:02:11,680 --> 00:02:16,800
to have a you know do it to pursue a

00:02:14,480 --> 00:02:18,720
career as a software engineer because

00:02:16,800 --> 00:02:20,239
uh of the coding that i would do in

00:02:18,720 --> 00:02:23,599
order to to

00:02:20,239 --> 00:02:26,720
do all this stuff uh

00:02:23,599 --> 00:02:29,680
so we had all kinds of uh of

00:02:26,720 --> 00:02:32,560
multiplayer interactive text games uh

00:02:29,680 --> 00:02:33,360
like zork but uh but imagine it for 32

00:02:32,560 --> 00:02:35,280
players

00:02:33,360 --> 00:02:36,879
so i ported one called kyrandia which

00:02:35,280 --> 00:02:40,720
was uh available for

00:02:36,879 --> 00:02:42,720
major bbs uh starting in 89 and uh was

00:02:40,720 --> 00:02:44,560
actually hugely popular even all of the

00:02:42,720 --> 00:02:45,760
major pbs's that are up now that you can

00:02:44,560 --> 00:02:48,239
tell that into

00:02:45,760 --> 00:02:50,160
uh everyone that i have hit still has a

00:02:48,239 --> 00:02:52,879
version of kyrandia going

00:02:50,160 --> 00:02:53,840
i've spent a lot of time in it in my

00:02:52,879 --> 00:02:55,519
youth

00:02:53,840 --> 00:02:57,200
so it was really it was really cool to

00:02:55,519 --> 00:02:58,080
get back into it and see how it all

00:02:57,200 --> 00:02:59,840
works

00:02:58,080 --> 00:03:01,599
so first we're going to do a quick demo

00:02:59,840 --> 00:03:03,440
uh and again i know hoppin

00:03:01,599 --> 00:03:06,560
gets a little finicky with how it does

00:03:03,440 --> 00:03:08,800
all the screen shares and

00:03:06,560 --> 00:03:10,239
and switching back and forth to windows

00:03:08,800 --> 00:03:13,360
but here we're going to do it

00:03:10,239 --> 00:03:16,080
so here is

00:03:13,360 --> 00:03:18,720
a slack window we can see that i'm

00:03:16,080 --> 00:03:20,720
already logged in

00:03:18,720 --> 00:03:23,519
i can start interacting oh yeah see it's

00:03:20,720 --> 00:03:23,519
already slowing down

00:03:25,280 --> 00:03:31,200
uh so here i'm on this i'm on this path

00:03:28,319 --> 00:03:31,519
you know i can move around you can hear

00:03:31,200 --> 00:03:32,720
it

00:03:31,519 --> 00:03:35,519
chiming at me in the background i'll

00:03:32,720 --> 00:03:39,760
turn my volume down uh

00:03:35,519 --> 00:03:39,760
you know i can i can walk around the

00:03:44,840 --> 00:03:49,200
world

00:03:47,519 --> 00:03:53,120
now i don't have the uh i don't have

00:03:49,200 --> 00:03:53,120
partial names turned on right now

00:03:54,480 --> 00:03:58,959
and uh yeah so uh here we can go around

00:03:57,680 --> 00:04:00,080
and see like here we're in the village

00:03:58,959 --> 00:04:04,319
square i can

00:04:00,080 --> 00:04:06,080
go up north here in the gem cutters hut

00:04:04,319 --> 00:04:09,120
one of these actually has a sign in it

00:04:06,080 --> 00:04:09,120
that you can interact with

00:04:13,439 --> 00:04:16,639
and again here we can see that it's uh

00:04:15,519 --> 00:04:19,759
you know it uses

00:04:16,639 --> 00:04:21,680
ansi to uh to draw everything out and

00:04:19,759 --> 00:04:24,479
slack doesn't like line breaks in the

00:04:21,680 --> 00:04:26,800
middle of its messages

00:04:24,479 --> 00:04:28,320
so uh this is basically how it works you

00:04:26,800 --> 00:04:29,840
know we can use slack to interact with

00:04:28,320 --> 00:04:31,600
the engine and then it serves up the

00:04:29,840 --> 00:04:32,720
game and we can play it all right here

00:04:31,600 --> 00:04:36,000
by uh

00:04:32,720 --> 00:04:39,360
dm'ing with the bot uh

00:04:36,000 --> 00:04:39,360
so who wants to see how it works

00:04:40,720 --> 00:04:43,840
i'll take that as everybody

00:04:44,720 --> 00:04:50,880
okay uh usually i host this on a free

00:04:48,479 --> 00:04:52,160
pantheon dev site because i just sort of

00:04:50,880 --> 00:04:53,840
use drupal to

00:04:52,160 --> 00:04:55,440
you know accept the slack messages and

00:04:53,840 --> 00:04:57,199
serve up their responses

00:04:55,440 --> 00:04:58,960
it just needs to hold some content it's

00:04:57,199 --> 00:05:02,479
nothing uh you know it's nothing

00:04:58,960 --> 00:05:02,960
big or heavy uh today as we can see from

00:05:02,479 --> 00:05:04,639
the

00:05:02,960 --> 00:05:07,039
kind of slow performance we're using

00:05:04,639 --> 00:05:09,520
ngrok on my local instance

00:05:07,039 --> 00:05:11,199
uh the slack app is just sort of a

00:05:09,520 --> 00:05:12,720
regular slack app there's nothing real

00:05:11,199 --> 00:05:15,280
special to that i'll go through the

00:05:12,720 --> 00:05:16,800
steps to actually create the uh the

00:05:15,280 --> 00:05:18,880
slack app at the end

00:05:16,800 --> 00:05:20,080
uh and then the urls for everything are

00:05:18,880 --> 00:05:23,759
set to our

00:05:20,080 --> 00:05:25,520
our ngrok urls today i have a handful of

00:05:23,759 --> 00:05:25,840
new modules that i have whipped up for

00:05:25,520 --> 00:05:28,479
this

00:05:25,840 --> 00:05:29,199
including word grammar uh slack incoming

00:05:28,479 --> 00:05:31,840
slack mud

00:05:29,199 --> 00:05:33,520
kyrandia and then the migrate module to

00:05:31,840 --> 00:05:36,000
get all the chirondia data in here and

00:05:33,520 --> 00:05:38,880
i'll be going through each of these

00:05:36,000 --> 00:05:39,360
word grammar was a pretty fun one uh and

00:05:38,880 --> 00:05:40,960
i was

00:05:39,360 --> 00:05:42,800
a little bit shocked that i've never had

00:05:40,960 --> 00:05:44,880
to do anything like this before

00:05:42,800 --> 00:05:46,960
but but putting this game together was

00:05:44,880 --> 00:05:50,639
the first time that i've really had to

00:05:46,960 --> 00:05:52,080
uh properly format a whole bunch of

00:05:50,639 --> 00:05:56,160
dynamically created

00:05:52,080 --> 00:05:57,680
text so there's some php library i

00:05:56,160 --> 00:06:00,479
actually can't remember

00:05:57,680 --> 00:06:02,160
which one i used but i wrapped a service

00:06:00,479 --> 00:06:03,360
around it so that it's easy to get in

00:06:02,160 --> 00:06:04,960
drupal

00:06:03,360 --> 00:06:06,639
to give you indefinite articles for

00:06:04,960 --> 00:06:07,280
nouns because we have to put things

00:06:06,639 --> 00:06:10,400
together

00:06:07,280 --> 00:06:11,039
like you know when we saw the items on

00:06:10,400 --> 00:06:13,360
the ground

00:06:11,039 --> 00:06:15,280
there was a garnet there so if there's

00:06:13,360 --> 00:06:18,800
also an amethyst there it needs to be an

00:06:15,280 --> 00:06:21,759
amethyst so it needed to be smart enough

00:06:18,800 --> 00:06:23,280
to know how to assign each indefinite

00:06:21,759 --> 00:06:25,520
article so like apple

00:06:23,280 --> 00:06:26,960
gets an an uh because it starts with a

00:06:25,520 --> 00:06:28,960
value but like unique

00:06:26,960 --> 00:06:34,560
also starts with a value but it gets ah

00:06:28,960 --> 00:06:37,919
so it's a unique something

00:06:34,560 --> 00:06:41,120
ah okay uh i see that's about the uh

00:06:37,919 --> 00:06:43,759
the mid camp slides good uh

00:06:41,120 --> 00:06:45,199
same thing with uh our versus horse so

00:06:43,759 --> 00:06:48,400
those both start with an h

00:06:45,199 --> 00:06:51,120
horse gets an uh and power gets an an

00:06:48,400 --> 00:06:53,360
uh and then we needed to format those

00:06:51,120 --> 00:06:56,560
arrays of objects back out

00:06:53,360 --> 00:06:58,160
uh with you know commas and of course an

00:06:56,560 --> 00:07:00,319
oxford comma if you don't

00:06:58,160 --> 00:07:01,759
use that you can uh you can just hit the

00:07:00,319 --> 00:07:03,280
leave button right now

00:07:01,759 --> 00:07:05,919
no i'm just kidding but really you

00:07:03,280 --> 00:07:05,919
should use it

00:07:06,639 --> 00:07:14,000
uh in order to uh port over the old game

00:07:11,120 --> 00:07:15,280
we had to do well a whole bunch of stuff

00:07:14,000 --> 00:07:17,039
so

00:07:15,280 --> 00:07:19,120
there were data files that had text

00:07:17,039 --> 00:07:21,120
descriptions for all of the locations

00:07:19,120 --> 00:07:22,479
and items and spells and descriptions

00:07:21,120 --> 00:07:24,080
all of the various messages that

00:07:22,479 --> 00:07:24,880
happened from all of the actions within

00:07:24,080 --> 00:07:27,120
the game

00:07:24,880 --> 00:07:28,479
what the actual levels were what the

00:07:27,120 --> 00:07:30,800
male and female

00:07:28,479 --> 00:07:32,639
level descriptions were uh you know

00:07:30,800 --> 00:07:35,680
again this is a game from

00:07:32,639 --> 00:07:36,560
1989 male and female is all that it gave

00:07:35,680 --> 00:07:39,759
us

00:07:36,560 --> 00:07:45,039
uh and i just sort of ported it over

00:07:39,759 --> 00:07:47,440
um there's a whole bunch of

00:07:45,039 --> 00:07:49,599
c code here that needed to be ported

00:07:47,440 --> 00:07:53,120
over i started going down the route

00:07:49,599 --> 00:07:55,199
of uh you know sort of re-architecturing

00:07:53,120 --> 00:07:56,720
it in a way that made more sense to me

00:07:55,199 --> 00:07:57,520
and doing the things that i thought were

00:07:56,720 --> 00:08:00,319
more correct

00:07:57,520 --> 00:08:02,160
but uh that just added so much time and

00:08:00,319 --> 00:08:03,440
complexity into doing it that

00:08:02,160 --> 00:08:05,440
ended up just kind of going with the

00:08:03,440 --> 00:08:06,960
flow then and

00:08:05,440 --> 00:08:08,720
really just kind of porting over the

00:08:06,960 --> 00:08:10,560
code the way it was written

00:08:08,720 --> 00:08:12,000
uh so it needs to handle all of the

00:08:10,560 --> 00:08:15,680
commands that the the

00:08:12,000 --> 00:08:17,440
users type in it needs to handle special

00:08:15,680 --> 00:08:19,919
you know specific location commands like

00:08:17,440 --> 00:08:21,520
maybe if you dig in some room versus

00:08:19,919 --> 00:08:23,120
digging in a different room you'll get

00:08:21,520 --> 00:08:25,520
different results

00:08:23,120 --> 00:08:27,520
uh and then the just the the different

00:08:25,520 --> 00:08:28,639
system interaction routines so that if

00:08:27,520 --> 00:08:30,800
you do something

00:08:28,639 --> 00:08:32,240
that might affect the whole world or you

00:08:30,800 --> 00:08:34,479
know some particular room

00:08:32,240 --> 00:08:36,399
or you know uh interacting with

00:08:34,479 --> 00:08:38,560
different players and objects and things

00:08:36,399 --> 00:08:41,279
uh plus the timed events all of that had

00:08:38,560 --> 00:08:43,200
to to come in here too

00:08:41,279 --> 00:08:44,880
so we have ancient data that we need to

00:08:43,200 --> 00:08:47,200
import

00:08:44,880 --> 00:08:48,160
uh we have the source code from major

00:08:47,200 --> 00:08:50,320
bbs now

00:08:48,160 --> 00:08:55,839
written by scott brinker and richard

00:08:50,320 --> 00:08:55,839
skernick and this is again from 1989

00:08:55,920 --> 00:09:00,880
uh there's a question am i using uh

00:08:58,240 --> 00:09:02,080
drupal cron to create a game heartbeat i

00:09:00,880 --> 00:09:05,279
did start doing that

00:09:02,080 --> 00:09:05,600
and then no because uh like the question

00:09:05,279 --> 00:09:08,720
says

00:09:05,600 --> 00:09:12,160
are you abusing it the galacticon

00:09:08,720 --> 00:09:14,320
software runs its uh pulse every eight

00:09:12,160 --> 00:09:15,440
seconds and you cannot run cron every

00:09:14,320 --> 00:09:19,839
eight seconds

00:09:15,440 --> 00:09:22,560
i found a free crowdjob.org

00:09:19,839 --> 00:09:24,320
service that just lets me hit a url i've

00:09:22,560 --> 00:09:25,519
got an endpoint on the app which does

00:09:24,320 --> 00:09:28,320
the updates

00:09:25,519 --> 00:09:29,200
um but the the fastest i could do it is

00:09:28,320 --> 00:09:31,680
one minute

00:09:29,200 --> 00:09:33,519
so uh you know the game is slowed down a

00:09:31,680 --> 00:09:36,240
little bit because now the uh

00:09:33,519 --> 00:09:38,240
the events are a minute apart but no you

00:09:36,240 --> 00:09:41,920
cannot do this with cron it is uh

00:09:38,240 --> 00:09:41,920
it's it's too hungry it's too slow

00:09:42,480 --> 00:09:45,839
so we can look at uh how we import the

00:09:44,800 --> 00:09:47,760
code

00:09:45,839 --> 00:09:49,200
on the left here we've got reader which

00:09:47,760 --> 00:09:50,800
is handling

00:09:49,200 --> 00:09:52,399
reading something like a spell book a

00:09:50,800 --> 00:09:53,920
scroll or

00:09:52,399 --> 00:09:56,320
or whatever and we can kind of see what

00:09:53,920 --> 00:09:56,720
it does it has its uh it's handlers for

00:09:56,320 --> 00:09:59,519
the

00:09:56,720 --> 00:09:59,760
player's inventory it checks the uh the

00:09:59,519 --> 00:10:02,320
m

00:09:59,760 --> 00:10:05,440
arg value that uh you know this is how

00:10:02,320 --> 00:10:07,279
it dissects the uh

00:10:05,440 --> 00:10:08,720
the sentences the sentence structure

00:10:07,279 --> 00:10:12,560
that the user types in

00:10:08,720 --> 00:10:13,839
so uh mrv0 will almost always be the the

00:10:12,560 --> 00:10:17,040
verb so read

00:10:13,839 --> 00:10:18,000
and then here uh markv1 is spellbook so

00:10:17,040 --> 00:10:20,880
if you type read spell

00:10:18,000 --> 00:10:22,800
book uh then you know we do a whole

00:10:20,880 --> 00:10:24,720
bunch of stuff in here we check that we

00:10:22,800 --> 00:10:25,839
uh that we have something if it you know

00:10:24,720 --> 00:10:27,279
if it's

00:10:25,839 --> 00:10:29,200
not your spellbook you have to check to

00:10:27,279 --> 00:10:30,959
make sure the user has the item and then

00:10:29,200 --> 00:10:33,279
the item has to be readable and then it

00:10:30,959 --> 00:10:35,519
does a thing and

00:10:33,279 --> 00:10:36,880
or if the user doesn't have the item it

00:10:35,519 --> 00:10:39,519
has to push back

00:10:36,880 --> 00:10:40,720
uh a message to the other so the

00:10:39,519 --> 00:10:43,760
onlookers the other

00:10:40,720 --> 00:10:45,519
users in the room um

00:10:43,760 --> 00:10:46,800
so it has to do you know has to do a

00:10:45,519 --> 00:10:48,240
bunch of stuff that

00:10:46,800 --> 00:10:50,079
and there and there's hundreds of

00:10:48,240 --> 00:10:53,440
commands all of these needed to be

00:10:50,079 --> 00:10:54,079
ported over uh on the right here we can

00:10:53,440 --> 00:10:56,640
see

00:10:54,079 --> 00:10:57,680
what the text looks like so there's

00:10:56,640 --> 00:11:01,120
thousands of these

00:10:57,680 --> 00:11:02,320
uh text objects here uh so the first

00:11:01,120 --> 00:11:03,519
thing we have is some sort of an

00:11:02,320 --> 00:11:07,120
identifier you know here

00:11:03,519 --> 00:11:07,360
hlp msg so help message and then we open

00:11:07,120 --> 00:11:09,680
up

00:11:07,360 --> 00:11:11,360
with a curly brace and then we have as

00:11:09,680 --> 00:11:12,880
much text as we want so here's just

00:11:11,360 --> 00:11:14,480
lines and lines of text

00:11:12,880 --> 00:11:16,000
uh there are ones that are longer than

00:11:14,480 --> 00:11:18,079
this and as we can see at the bottom

00:11:16,000 --> 00:11:20,079
there's uh there's shorter ones too

00:11:18,079 --> 00:11:21,120
and then a curly brace and then a t and

00:11:20,079 --> 00:11:24,480
then the

00:11:21,120 --> 00:11:25,839
type of message that uh that it is so in

00:11:24,480 --> 00:11:27,760
this case this is a chirondia

00:11:25,839 --> 00:11:30,959
description there are also things like

00:11:27,760 --> 00:11:34,079
level description and uh you know

00:11:30,959 --> 00:11:37,200
item descriptions so we use that

00:11:34,079 --> 00:11:39,120
identifier to pull them all out

00:11:37,200 --> 00:11:40,640
so here's another example of one of

00:11:39,120 --> 00:11:44,079
these messages

00:11:40,640 --> 00:11:47,519
here's a level description for a female

00:11:44,079 --> 00:11:51,040
level four uh and we can see there's a

00:11:47,519 --> 00:11:53,200
percent s in here uh there's a format to

00:11:51,040 --> 00:11:56,480
the way it does its tokens

00:11:53,200 --> 00:11:58,720
and you know you can see that these are

00:11:56,480 --> 00:12:00,959
nicely paragraphed and and some of these

00:11:58,720 --> 00:12:03,200
are you know flowery and descriptive

00:12:00,959 --> 00:12:04,160
and playing this 30 years ago i never

00:12:03,200 --> 00:12:06,240
really realized

00:12:04,160 --> 00:12:07,680
that all of the messages followed the

00:12:06,240 --> 00:12:11,519
exact same

00:12:07,680 --> 00:12:14,720
token pattern so it's always first uh

00:12:11,519 --> 00:12:17,120
the name and then a uh

00:12:14,720 --> 00:12:19,200
you know him her pronoun and then a

00:12:17,120 --> 00:12:21,920
possessive his her pronoun

00:12:19,200 --> 00:12:24,560
and all of the messages are stored out

00:12:21,920 --> 00:12:25,360
in that same format uh but again some of

00:12:24,560 --> 00:12:27,519
them get

00:12:25,360 --> 00:12:29,200
you know multiple paragraphs and uh

00:12:27,519 --> 00:12:30,480
until really getting in there and seeing

00:12:29,200 --> 00:12:33,200
how it all worked i

00:12:30,480 --> 00:12:34,480
didn't even know it did it so in any

00:12:33,200 --> 00:12:36,480
case in order to get these

00:12:34,480 --> 00:12:39,360
into the system we need a migration

00:12:36,480 --> 00:12:42,399
source that can parse it

00:12:39,360 --> 00:12:43,600
so here it is uh we have a an iterator

00:12:42,399 --> 00:12:45,760
and again don't worry about

00:12:43,600 --> 00:12:47,040
uh you know taking notes on all this

00:12:45,760 --> 00:12:50,320
stuff again there's

00:12:47,040 --> 00:12:52,079
i put a a link to the repository up in

00:12:50,320 --> 00:12:54,560
the chat and then at the last slide

00:12:52,079 --> 00:12:56,639
there's also a nice link that you can

00:12:54,560 --> 00:12:59,040
you can pull out and uh and you can get

00:12:56,639 --> 00:12:59,040
to this

00:13:00,240 --> 00:13:03,839
so in order to make a migrate source

00:13:02,240 --> 00:13:06,240
plug-in work you need an

00:13:03,839 --> 00:13:07,519
initialize iterator method here and what

00:13:06,240 --> 00:13:10,959
this does is it gets

00:13:07,519 --> 00:13:13,200
the uh the file uh

00:13:10,959 --> 00:13:15,440
from whatever the path configured is uh

00:13:13,200 --> 00:13:16,399
takes it it standardizes all of the new

00:13:15,440 --> 00:13:18,399
lines

00:13:16,399 --> 00:13:20,160
and then it starts walking through the

00:13:18,399 --> 00:13:23,200
file and once it sees an

00:13:20,160 --> 00:13:24,480
open brace then it walks every line

00:13:23,200 --> 00:13:27,120
until it gets the next

00:13:24,480 --> 00:13:28,320
close brace identifies what the name of

00:13:27,120 --> 00:13:30,800
that is so that

00:13:28,320 --> 00:13:31,760
like that hlp msg help message

00:13:30,800 --> 00:13:33,440
identifier

00:13:31,760 --> 00:13:35,600
and then it also pulls out the type so

00:13:33,440 --> 00:13:38,880
that's anything at the end after that

00:13:35,600 --> 00:13:39,519
after the t it builds up an array of

00:13:38,880 --> 00:13:41,360
rows

00:13:39,519 --> 00:13:42,880
and then passes that back in an array

00:13:41,360 --> 00:13:44,720
iterator now when you're building a

00:13:42,880 --> 00:13:48,160
migrate source you have to remember

00:13:44,720 --> 00:13:49,680
to return an iterator the documentation

00:13:48,160 --> 00:13:51,839
on this was actually incorrect for a

00:13:49,680 --> 00:13:53,600
long time and it said that the return

00:13:51,839 --> 00:13:55,760
type here was an array but if you return

00:13:53,600 --> 00:13:58,160
an array it doesn't actually work

00:13:55,760 --> 00:13:59,760
uh it has to be an iterator so if you're

00:13:58,160 --> 00:14:03,360
putting a migrate source together

00:13:59,760 --> 00:14:05,519
and in your migrate status the uh

00:14:03,360 --> 00:14:06,399
the count is correct but no data ever

00:14:05,519 --> 00:14:08,240
comes out

00:14:06,399 --> 00:14:09,839
you're probably not returning an actual

00:14:08,240 --> 00:14:13,040
iterator in here

00:14:09,839 --> 00:14:16,079
uh so check that and then

00:14:13,040 --> 00:14:18,079
and then you'll get your data here's

00:14:16,079 --> 00:14:21,199
what the actual migration looks like for

00:14:18,079 --> 00:14:24,639
items uh we can see that uh

00:14:21,199 --> 00:14:28,000
we've got uh our source here

00:14:24,639 --> 00:14:30,320
uh and then the kyranda msg

00:14:28,000 --> 00:14:32,880
source plugin that we were using and

00:14:30,320 --> 00:14:33,920
then uh the path to the data files which

00:14:32,880 --> 00:14:37,120
we just have included

00:14:33,920 --> 00:14:39,120
inside the modules data directory

00:14:37,120 --> 00:14:41,360
uh and then we're pulling out the the

00:14:39,120 --> 00:14:43,600
columns that we defined in the iterator

00:14:41,360 --> 00:14:44,800
uh the only ones we care about for this

00:14:43,600 --> 00:14:46,720
particular import

00:14:44,800 --> 00:14:48,560
our name and description uh if we wanted

00:14:46,720 --> 00:14:48,959
to do something with that type we could

00:14:48,560 --> 00:14:51,600
but

00:14:48,959 --> 00:14:52,399
again for this one we don't need to uh

00:14:51,600 --> 00:14:55,680
they write out

00:14:52,399 --> 00:14:56,720
a taxonomy term of uh the type kyrandia

00:14:55,680 --> 00:14:59,199
message

00:14:56,720 --> 00:15:00,880
and then uh you know these have the

00:14:59,199 --> 00:15:01,600
force dependency so it turns off with

00:15:00,880 --> 00:15:04,800
the module

00:15:01,600 --> 00:15:06,560
and then we need the reference to the

00:15:04,800 --> 00:15:09,519
actual game migration which creates the

00:15:06,560 --> 00:15:09,519
initial game record

00:15:10,800 --> 00:15:14,320
uh now we bring in a whole bunch of

00:15:13,120 --> 00:15:16,800
these things

00:15:14,320 --> 00:15:19,120
uh in a whole bunch of different formats

00:15:16,800 --> 00:15:22,480
uh and we save them all out in drupal

00:15:19,120 --> 00:15:25,279
as nodes and taxonomy terms so

00:15:22,480 --> 00:15:26,079
uh i could have gone terms the whole way

00:15:25,279 --> 00:15:28,560
because the

00:15:26,079 --> 00:15:30,399
import files really are the system of

00:15:28,560 --> 00:15:32,240
record here we don't need revisions we

00:15:30,399 --> 00:15:33,600
don't need a lot of that like ownership

00:15:32,240 --> 00:15:34,639
doesn't matter we don't need most of

00:15:33,600 --> 00:15:37,839
that stuff

00:15:34,639 --> 00:15:40,000
uh but you know like locations and items

00:15:37,839 --> 00:15:42,000
uh these are nodes and then messages

00:15:40,000 --> 00:15:44,880
spells and levels are all

00:15:42,000 --> 00:15:46,240
uh are all terms we can have a look at

00:15:44,880 --> 00:15:47,920
what these look like if we look at a

00:15:46,240 --> 00:15:50,720
particular location

00:15:47,920 --> 00:15:52,480
here's number 268 and it's got this uh

00:15:50,720 --> 00:15:54,320
this nice description in it you're on a

00:15:52,480 --> 00:15:55,120
red carpeted stairway et cetera et

00:15:54,320 --> 00:15:56,399
cetera

00:15:55,120 --> 00:15:58,959
we can see that it belongs to the

00:15:56,399 --> 00:16:00,560
kyrandia game and it has two exits just

00:15:58,959 --> 00:16:01,600
as it says in the description you can go

00:16:00,560 --> 00:16:04,560
north or south

00:16:01,600 --> 00:16:08,480
if you go north you get to 269 if you go

00:16:04,560 --> 00:16:11,519
south you get to 276 or 267 uh

00:16:08,480 --> 00:16:11,920
i have another module that uh that i use

00:16:11,519 --> 00:16:13,440
here

00:16:11,920 --> 00:16:15,040
there's a whole bunch of ways to do this

00:16:13,440 --> 00:16:18,720
but uh i whipped up

00:16:15,040 --> 00:16:21,279
a uh an entity reference with label

00:16:18,720 --> 00:16:22,000
module here so that uh you know it's

00:16:21,279 --> 00:16:23,920
just another

00:16:22,000 --> 00:16:26,079
property of the field type where you can

00:16:23,920 --> 00:16:27,120
define a little string that goes along

00:16:26,079 --> 00:16:28,800
with the reference

00:16:27,120 --> 00:16:30,160
and again you can do that in any number

00:16:28,800 --> 00:16:33,199
of different ways

00:16:30,160 --> 00:16:34,720
i just happened to use that one

00:16:33,199 --> 00:16:36,240
we can see the visible items on the

00:16:34,720 --> 00:16:40,000
ground include a garnet

00:16:36,240 --> 00:16:42,480
and that's it and then the object has a

00:16:40,000 --> 00:16:43,920
location string here so that when you

00:16:42,480 --> 00:16:45,920
look or enter the room

00:16:43,920 --> 00:16:47,839
you get the full description and then it

00:16:45,920 --> 00:16:50,000
will say there is a garnet

00:16:47,839 --> 00:16:51,360
on the ground there's a brief

00:16:50,000 --> 00:16:53,279
description i don't have brief

00:16:51,360 --> 00:16:55,040
uh descriptions working right now you

00:16:53,279 --> 00:16:55,680
get the verbose description all the time

00:16:55,040 --> 00:16:58,320
but in

00:16:55,680 --> 00:16:59,040
normal gameplay when you type brief uh

00:16:58,320 --> 00:17:02,000
if you

00:16:59,040 --> 00:17:02,959
have been to a location already instead

00:17:02,000 --> 00:17:05,039
of the big long

00:17:02,959 --> 00:17:06,640
text you get this you know this short

00:17:05,039 --> 00:17:08,480
little text so it just says you're on a

00:17:06,640 --> 00:17:09,520
red carpeted stairway there's a garnet

00:17:08,480 --> 00:17:11,039
on the ground

00:17:09,520 --> 00:17:13,039
uh but like i said i don't have the

00:17:11,039 --> 00:17:15,839
brief stuff working and then

00:17:13,039 --> 00:17:18,880
there's a collection of default items so

00:17:15,839 --> 00:17:21,199
when the game resets

00:17:18,880 --> 00:17:22,720
that happens at uh i don't know whatever

00:17:21,199 --> 00:17:23,919
midnight or 2 a.m or whatever on the

00:17:22,720 --> 00:17:27,600
normal galacticon

00:17:23,919 --> 00:17:29,440
schedule but i have that

00:17:27,600 --> 00:17:30,880
i have that running on an actual crown

00:17:29,440 --> 00:17:32,880
job

00:17:30,880 --> 00:17:34,559
when it resets it clears out all the

00:17:32,880 --> 00:17:36,400
visible items and then puts

00:17:34,559 --> 00:17:38,000
the default items back in there so

00:17:36,400 --> 00:17:38,720
there's items that are supposed to be in

00:17:38,000 --> 00:17:41,760
particular

00:17:38,720 --> 00:17:44,880
uh locations

00:17:41,760 --> 00:17:47,039
so moving on to items we can see here

00:17:44,880 --> 00:17:48,080
we have a scroll and it's got a little

00:17:47,039 --> 00:17:49,679
description on it

00:17:48,080 --> 00:17:51,679
and then you can pick it up and it's

00:17:49,679 --> 00:17:54,640
visible here

00:17:51,679 --> 00:17:56,640
we have a tree and it's got a

00:17:54,640 --> 00:17:58,880
description here and this is

00:17:56,640 --> 00:18:00,559
not pickupable and not visible and if

00:17:58,880 --> 00:18:01,919
you try to pick it up it has a deny

00:18:00,559 --> 00:18:04,720
message on here

00:18:01,919 --> 00:18:06,160
uh so the reason it has uh you know it's

00:18:04,720 --> 00:18:08,000
invisible and you can't pick it up is

00:18:06,160 --> 00:18:09,760
because you can't interact with it

00:18:08,000 --> 00:18:11,760
when you're in the location that this

00:18:09,760 --> 00:18:13,760
tree is in and you look at the tree

00:18:11,760 --> 00:18:15,360
you know you get this you get this

00:18:13,760 --> 00:18:18,960
description which has

00:18:15,360 --> 00:18:20,160
a uh you know a riddle to solve here and

00:18:18,960 --> 00:18:23,520
clearly this is neil

00:18:20,160 --> 00:18:25,919
and if you type in neil here uh then

00:18:23,520 --> 00:18:26,799
you get to the next level sort of like

00:18:25,919 --> 00:18:29,840
this

00:18:26,799 --> 00:18:29,840
so if we go north

00:18:31,840 --> 00:18:35,360
yeah boy it goes to sleep real fast

00:18:33,760 --> 00:18:43,840
nowadays doesn't it

00:18:35,360 --> 00:18:43,840
let's go over here

00:18:44,640 --> 00:18:51,200
so that tree is here

00:18:47,679 --> 00:18:54,400
if i look at the tree there's the uh

00:18:51,200 --> 00:18:54,400
there's the description of it

00:18:54,559 --> 00:18:57,840
now if i kneel

00:18:58,880 --> 00:19:02,240
oh my goodness there we go

00:19:03,760 --> 00:19:09,360
well there's a bug it's supposed to put

00:19:07,280 --> 00:19:11,840
me up to the next level

00:19:09,360 --> 00:19:13,039
uh but we'll get to that kind of

00:19:11,840 --> 00:19:16,240
interaction in a minute

00:19:13,039 --> 00:19:17,280
and then we have uh messages so messages

00:19:16,240 --> 00:19:19,520
as i said earlier

00:19:17,280 --> 00:19:20,720
these all have a particular sort of

00:19:19,520 --> 00:19:23,120
format to them

00:19:20,720 --> 00:19:24,480
and they all go zero one two and then

00:19:23,120 --> 00:19:26,320
three four five

00:19:24,480 --> 00:19:27,760
uh in this case we're going to talk

00:19:26,320 --> 00:19:31,360
about the three four and five

00:19:27,760 --> 00:19:35,120
uh so for the this spell id 17

00:19:31,360 --> 00:19:38,799
uh our three is what the caster sees

00:19:35,120 --> 00:19:39,520
so here i you know if i cast uh a red

00:19:38,799 --> 00:19:41,600
bolt uh

00:19:39,520 --> 00:19:43,600
flies from your fingers and strikes eric

00:19:41,600 --> 00:19:46,080
in a small bright flash

00:19:43,600 --> 00:19:47,600
uh so then number four goes to the

00:19:46,080 --> 00:19:50,799
target

00:19:47,600 --> 00:19:53,200
uh so when i cast that eric sees

00:19:50,799 --> 00:19:54,640
a red bull flies from jack's fingers at

00:19:53,200 --> 00:19:56,080
you and strikes you in a small flash

00:19:54,640 --> 00:19:57,760
causing you however many points of

00:19:56,080 --> 00:20:00,880
damage this one does

00:19:57,760 --> 00:20:02,559
and then uh any bystanders

00:20:00,880 --> 00:20:04,559
or onlookers you know other people in

00:20:02,559 --> 00:20:07,679
the same location who aren't the

00:20:04,559 --> 00:20:08,320
caster or the target see the number five

00:20:07,679 --> 00:20:11,039
which is

00:20:08,320 --> 00:20:12,320
a little red bull flies from jack's

00:20:11,039 --> 00:20:14,400
fingers at eric

00:20:12,320 --> 00:20:18,000
and strikes in a small flash an error

00:20:14,400 --> 00:20:18,000
and he loses some strength

00:20:19,600 --> 00:20:25,200
uh we have some terms for spells

00:20:22,799 --> 00:20:26,320
so this has the uh the the name of the

00:20:25,200 --> 00:20:28,799
spell which is how you

00:20:26,320 --> 00:20:30,080
you cast it uh brief description of it

00:20:28,799 --> 00:20:32,840
and then the minimum level

00:20:30,080 --> 00:20:34,159
now this doesn't actually relate to the

00:20:32,840 --> 00:20:36,159
messages uh

00:20:34,159 --> 00:20:37,679
or the effects of the spell this is just

00:20:36,159 --> 00:20:39,440
an easy way to

00:20:37,679 --> 00:20:41,679
have an entity reference for the user's

00:20:39,440 --> 00:20:44,159
spell book so that if you know

00:20:41,679 --> 00:20:45,679
this spell uh your spellbook entity

00:20:44,159 --> 00:20:49,840
reference field will just include a

00:20:45,679 --> 00:20:52,159
reference to this or this or whatever

00:20:49,840 --> 00:20:53,600
all the spell effects are handled in the

00:20:52,159 --> 00:20:57,280
uh the caster plug-in

00:20:53,600 --> 00:20:57,280
which we'll dissect in a little bit

00:20:57,360 --> 00:21:02,000
so cron uh yeah we got a couple of

00:21:00,480 --> 00:21:03,840
things we need to do here so we need to

00:21:02,000 --> 00:21:05,039
reset the game and respawn everything

00:21:03,840 --> 00:21:08,480
now that's an actual

00:21:05,039 --> 00:21:09,600
cron job uh but the game also has a

00:21:08,480 --> 00:21:11,840
regular pulse

00:21:09,600 --> 00:21:13,120
that that it does things on like moving

00:21:11,840 --> 00:21:16,960
around creatures

00:21:13,120 --> 00:21:18,880
and you know decrementing spell effects

00:21:16,960 --> 00:21:21,600
or uh you know if there's things where

00:21:18,880 --> 00:21:23,200
you can interact with the world like uh

00:21:21,600 --> 00:21:24,799
you know if you're at the big altar and

00:21:23,200 --> 00:21:26,720
you chant some

00:21:24,799 --> 00:21:28,000
prayer in order to solve that puzzle and

00:21:26,720 --> 00:21:30,640
gain your level like

00:21:28,000 --> 00:21:32,720
those effects only last for so long uh

00:21:30,640 --> 00:21:34,799
on the major bbs the original game runs

00:21:32,720 --> 00:21:35,840
those every eight seconds it beats every

00:21:34,799 --> 00:21:38,480
eight seconds

00:21:35,840 --> 00:21:39,919
now that is real hard to do on drupal

00:21:38,480 --> 00:21:43,120
that's expensive

00:21:39,919 --> 00:21:44,080
uh so you can't do that with cron again

00:21:43,120 --> 00:21:47,120
i found this cree

00:21:44,080 --> 00:21:48,400
this free cronjob.org service which just

00:21:47,120 --> 00:21:51,600
let me set up a

00:21:48,400 --> 00:21:52,320
you know a free http uh post every

00:21:51,600 --> 00:21:54,320
minute

00:21:52,320 --> 00:21:56,000
so uh you know the game is now spread

00:21:54,320 --> 00:21:56,799
out from eight seconds to a minute but

00:21:56,000 --> 00:21:59,600
you know it's still

00:21:56,799 --> 00:22:00,480
uh it's still fun and it works uh if i

00:21:59,600 --> 00:22:01,919
was making this

00:22:00,480 --> 00:22:03,760
you know big and prime time and

00:22:01,919 --> 00:22:05,200
available maybe i would figure out a way

00:22:03,760 --> 00:22:05,919
to actually make it happen every eight

00:22:05,200 --> 00:22:08,080
seconds but

00:22:05,919 --> 00:22:10,240
a minute works for for just playing with

00:22:08,080 --> 00:22:10,240
it

00:22:11,120 --> 00:22:17,360
uh so to play the game uh

00:22:15,120 --> 00:22:18,880
the players interact with it entirely

00:22:17,360 --> 00:22:20,480
through textual commands

00:22:18,880 --> 00:22:22,240
uh they type in the commands to do

00:22:20,480 --> 00:22:23,120
things like uh you know moving or

00:22:22,240 --> 00:22:26,320
looking at

00:22:23,120 --> 00:22:27,120
uh at objects or people or or talking to

00:22:26,320 --> 00:22:30,080
things

00:22:27,120 --> 00:22:31,919
picking up objects doing things with

00:22:30,080 --> 00:22:33,440
them whatever so you know to check your

00:22:31,919 --> 00:22:35,280
inventory or to move around

00:22:33,440 --> 00:22:39,039
to pick things up off the ground or drop

00:22:35,280 --> 00:22:41,760
them you know attack monsters whatever

00:22:39,039 --> 00:22:42,400
so to handle all of those we use custom

00:22:41,760 --> 00:22:44,799
plugins

00:22:42,400 --> 00:22:45,679
that handle each one of those individual

00:22:44,799 --> 00:22:47,520
verbs

00:22:45,679 --> 00:22:48,799
we have an event listener that gets the

00:22:47,520 --> 00:22:52,080
command string that we

00:22:48,799 --> 00:22:54,640
uh we we pass in from

00:22:52,080 --> 00:22:55,280
uh the slack event listener uh again

00:22:54,640 --> 00:22:57,760
we'll get all

00:22:55,280 --> 00:22:59,440
into all of this momentarily figures out

00:22:57,760 --> 00:23:00,080
what plugin to use creates an instance

00:22:59,440 --> 00:23:02,400
of the plugin

00:23:00,080 --> 00:23:04,000
performs the action goes through the uh

00:23:02,400 --> 00:23:06,840
the results and then sends out the

00:23:04,000 --> 00:23:09,840
appropriate messages to the appropriate

00:23:06,840 --> 00:23:09,840
players

00:23:11,039 --> 00:23:15,039
so in drupal or symphony uh in order to

00:23:14,240 --> 00:23:16,880
fire an event

00:23:15,039 --> 00:23:18,720
it looks a little something like this

00:23:16,880 --> 00:23:20,480
i've got a little bit of duplication on

00:23:18,720 --> 00:23:22,640
here it's all passed by reference you

00:23:20,480 --> 00:23:23,919
don't actually need this uh this in here

00:23:22,640 --> 00:23:25,679
just passing in the

00:23:23,919 --> 00:23:27,360
slack event at the end is enough to get

00:23:25,679 --> 00:23:30,240
it uh so we

00:23:27,360 --> 00:23:30,559
we declare a new slack event and we pass

00:23:30,240 --> 00:23:32,880
in

00:23:30,559 --> 00:23:33,840
the uh the package this package is the

00:23:32,880 --> 00:23:37,039
uh

00:23:33,840 --> 00:23:40,000
the payload that we get

00:23:37,039 --> 00:23:42,000
from the slack event which has you know

00:23:40,000 --> 00:23:44,640
who sent it what the text was

00:23:42,000 --> 00:23:46,480
the time stamp all that kind of stuff so

00:23:44,640 --> 00:23:49,600
we passed that into the event

00:23:46,480 --> 00:23:51,760
and then we dispatch our slack event uh

00:23:49,600 --> 00:23:52,640
and now every listener on this slack

00:23:51,760 --> 00:23:55,520
event

00:23:52,640 --> 00:23:56,480
uh can modify this actual slack event

00:23:55,520 --> 00:23:59,039
object

00:23:56,480 --> 00:23:59,520
and then at the end we do a get response

00:23:59,039 --> 00:24:01,200
and then

00:23:59,520 --> 00:24:02,720
do something with it so get response is

00:24:01,200 --> 00:24:06,640
really the only thing that we

00:24:02,720 --> 00:24:09,120
excuse me that we care about here um

00:24:06,640 --> 00:24:10,000
so here's what the uh what the actual

00:24:09,120 --> 00:24:12,320
event class

00:24:10,000 --> 00:24:13,919
looks like so we have the constant that

00:24:12,320 --> 00:24:15,120
defines the actual name of the event

00:24:13,919 --> 00:24:17,679
that we're listening for

00:24:15,120 --> 00:24:19,279
and uh you know now it's a constant so

00:24:17,679 --> 00:24:20,240
everything's all nice and standard it's

00:24:19,279 --> 00:24:21,919
easy to

00:24:20,240 --> 00:24:24,159
find references to the constant to make

00:24:21,919 --> 00:24:25,840
sure you know everyone who's uh who's

00:24:24,159 --> 00:24:28,799
actually listening to this

00:24:25,840 --> 00:24:31,360
and then again for our event here all we

00:24:28,799 --> 00:24:34,000
really care about is this response array

00:24:31,360 --> 00:24:36,000
so we've got a getter and setter on it

00:24:34,000 --> 00:24:37,919
and uh

00:24:36,000 --> 00:24:40,240
i see a question i put the constant in

00:24:37,919 --> 00:24:43,840
the event subclass i do

00:24:40,240 --> 00:24:46,720
because this way again every listener

00:24:43,840 --> 00:24:48,000
can just reference uh the constant right

00:24:46,720 --> 00:24:50,240
on the event

00:24:48,000 --> 00:24:51,600
and uh and it's all nicely

00:24:50,240 --> 00:24:53,279
self-contained i don't have to go

00:24:51,600 --> 00:24:54,960
outside the scope of the event

00:24:53,279 --> 00:24:57,279
in order to reference anything on the

00:24:54,960 --> 00:24:57,279
event

00:24:59,039 --> 00:25:02,640
uh we need a subscriber to do the the

00:25:02,080 --> 00:25:04,960
listening

00:25:02,640 --> 00:25:07,440
so here we're going to need a module

00:25:04,960 --> 00:25:09,360
services info yaml file

00:25:07,440 --> 00:25:11,600
uh in this particular case this is the

00:25:09,360 --> 00:25:13,760
slack one for the slack incoming module

00:25:11,600 --> 00:25:15,120
so we name it with the uh the name of

00:25:13,760 --> 00:25:16,720
our module and then the name of our

00:25:15,120 --> 00:25:18,640
service so slack incoming dot

00:25:16,720 --> 00:25:20,640
slack service subscriber here's the

00:25:18,640 --> 00:25:22,240
class that handles the uh the event and

00:25:20,640 --> 00:25:25,440
the argument we pass in

00:25:22,240 --> 00:25:29,200
and we have a slack service inside this

00:25:25,440 --> 00:25:32,000
slack incoming module that uh

00:25:29,200 --> 00:25:34,240
that handle you know interacting with

00:25:32,000 --> 00:25:35,279
slack passing messages back to it etc

00:25:34,240 --> 00:25:36,640
and then we name it as an event

00:25:35,279 --> 00:25:39,840
subscriber so that

00:25:36,640 --> 00:25:39,840
drupal knows what to do with it

00:25:40,640 --> 00:25:46,480
now the event subscriber class uh and uh

00:25:43,840 --> 00:25:48,640
implements event subscriber interface

00:25:46,480 --> 00:25:51,520
and we need the get subscribed events

00:25:48,640 --> 00:25:52,240
on there so uh here we uh we look at our

00:25:51,520 --> 00:25:54,320
events

00:25:52,240 --> 00:25:56,000
and this is where we're using that uh

00:25:54,320 --> 00:25:57,919
that constant

00:25:56,000 --> 00:25:59,200
to uh to you know to listen for that

00:25:57,919 --> 00:26:00,799
particular event

00:25:59,200 --> 00:26:02,240
and then here's our callback and here's

00:26:00,799 --> 00:26:05,840
our priority and

00:26:02,240 --> 00:26:08,400
uh uh if there's multiple uh listeners

00:26:05,840 --> 00:26:10,960
on this particular event it runs in uh

00:26:08,400 --> 00:26:14,159
numeric priority in descending order so

00:26:10,960 --> 00:26:15,520
like it'll run in 800 before 600 so that

00:26:14,159 --> 00:26:18,240
way you can get everything nicely

00:26:15,520 --> 00:26:18,240
prioritized

00:26:18,559 --> 00:26:21,600
here's the event listener i know this

00:26:20,000 --> 00:26:23,279
might be a little small

00:26:21,600 --> 00:26:26,720
but i'm going to walk through it so

00:26:23,279 --> 00:26:29,120
hopefully uh you can still see it

00:26:26,720 --> 00:26:29,919
so here's our callback function uh it

00:26:29,120 --> 00:26:31,760
takes the event

00:26:29,919 --> 00:26:33,039
as our argument here and then

00:26:31,760 --> 00:26:34,720
immediately we start

00:26:33,039 --> 00:26:36,320
taking it apart and looking what slack

00:26:34,720 --> 00:26:38,240
sent us

00:26:36,320 --> 00:26:41,200
so if it if we have a type on the

00:26:38,240 --> 00:26:46,480
message and the type is url verification

00:26:41,200 --> 00:26:46,480
uh this is that uh that challenge um

00:26:46,640 --> 00:26:52,480
that uh whenever you set up events

00:26:49,919 --> 00:26:53,200
an event endpoint in slack immediately

00:26:52,480 --> 00:26:56,640
it sends

00:26:53,200 --> 00:26:58,640
a url verification uh message

00:26:56,640 --> 00:27:00,320
to your endpoint and then you have to

00:26:58,640 --> 00:27:02,400
immediately pass back the challenge

00:27:00,320 --> 00:27:04,799
token that was in the package

00:27:02,400 --> 00:27:06,720
so that's what this does we also have

00:27:04,799 --> 00:27:09,440
another event call back on here

00:27:06,720 --> 00:27:10,080
which looks at the app home opened event

00:27:09,440 --> 00:27:13,120
and then

00:27:10,080 --> 00:27:16,320
uh it returns some some stuff here

00:27:13,120 --> 00:27:20,080
so uh you know here's uh some

00:27:16,320 --> 00:27:23,840
some slack uh markdown that it uses

00:27:20,080 --> 00:27:27,039
to uh to display

00:27:23,840 --> 00:27:28,799
what goes on this home tab so

00:27:27,039 --> 00:27:31,360
you know like here hello you can use

00:27:28,799 --> 00:27:35,840
this uh cool slack app

00:27:31,360 --> 00:27:35,840
and then if i

00:27:39,279 --> 00:27:50,160
there we go

00:27:48,559 --> 00:27:51,760
now if i

00:27:50,160 --> 00:27:54,080
[Music]

00:27:51,760 --> 00:28:03,840
change this we can we can change the

00:27:54,080 --> 00:28:03,840
event right here

00:28:04,640 --> 00:28:07,919
and then uh when we change this markdown

00:28:07,520 --> 00:28:10,080
uh

00:28:07,919 --> 00:28:10,960
now every time it gets the event call

00:28:10,080 --> 00:28:13,200
back

00:28:10,960 --> 00:28:14,000
for the app home opened this is what it

00:28:13,200 --> 00:28:16,399
returns

00:28:14,000 --> 00:28:17,600
uh and i you know we can change this to

00:28:16,399 --> 00:28:20,399
however we

00:28:17,600 --> 00:28:23,200
want it to be we can turn that back come

00:28:20,399 --> 00:28:26,000
back out of presentation mode

00:28:23,200 --> 00:28:26,480
and now flip back here flip back to home

00:28:26,000 --> 00:28:29,200
bam

00:28:26,480 --> 00:28:31,840
now it's back up uh back to what it used

00:28:29,200 --> 00:28:31,840
to be

00:28:36,960 --> 00:28:41,159
uh whoops let me go back up one and then

00:28:39,279 --> 00:28:44,320
uh it uses the

00:28:41,159 --> 00:28:45,600
views.publish method in slack api to

00:28:44,320 --> 00:28:47,760
post this back

00:28:45,600 --> 00:28:49,279
so there's when when a user is

00:28:47,760 --> 00:28:50,320
interacting with slack there's a few

00:28:49,279 --> 00:28:52,799
things that

00:28:50,320 --> 00:28:54,320
they can do that will immediately prompt

00:28:52,799 --> 00:28:56,960
a response

00:28:54,320 --> 00:28:57,600
interacting with the the home page tab

00:28:56,960 --> 00:28:59,520
is

00:28:57,600 --> 00:29:00,880
is one of them doing a slash command is

00:28:59,520 --> 00:29:04,080
another

00:29:00,880 --> 00:29:06,880
so when a user interacts with slack

00:29:04,080 --> 00:29:08,720
it opens up a window of when the user is

00:29:06,880 --> 00:29:10,799
allowing slack to interact

00:29:08,720 --> 00:29:12,080
back with the user which is why these

00:29:10,799 --> 00:29:15,679
things have to all come back

00:29:12,080 --> 00:29:18,880
on the same response uh when it uh

00:29:15,679 --> 00:29:20,159
you know when it's uh you know like when

00:29:18,880 --> 00:29:22,960
we're we're handling

00:29:20,159 --> 00:29:24,320
the the text commands that you type like

00:29:22,960 --> 00:29:27,360
you know look or you know

00:29:24,320 --> 00:29:29,520
cast uh first aid or whatever uh

00:29:27,360 --> 00:29:30,480
it sends those message messages back

00:29:29,520 --> 00:29:33,760
because the

00:29:30,480 --> 00:29:35,679
bot is allowed to uh send messages to

00:29:33,760 --> 00:29:37,840
the user that happens in app

00:29:35,679 --> 00:29:39,600
setup uh and that can happen

00:29:37,840 --> 00:29:40,159
independently of the user's actual

00:29:39,600 --> 00:29:41,919
response

00:29:40,159 --> 00:29:43,440
a bot can actually send a message to a

00:29:41,919 --> 00:29:45,919
user whatever it wants

00:29:43,440 --> 00:29:47,679
uh but when a user does particular

00:29:45,919 --> 00:29:49,440
interactions it has to enter and has to

00:29:47,679 --> 00:29:52,480
return that interaction right away

00:29:49,440 --> 00:29:52,480
which is what we see here

00:29:52,640 --> 00:29:58,799
so if we look at how custom plugins work

00:29:55,679 --> 00:30:01,039
uh a custom plugin needs

00:29:58,799 --> 00:30:02,159
a custom annotation it needs a plugin

00:30:01,039 --> 00:30:04,880
manager and then

00:30:02,159 --> 00:30:05,440
you need your interface and plugin class

00:30:04,880 --> 00:30:09,279
uh

00:30:05,440 --> 00:30:12,080
to make

00:30:09,279 --> 00:30:13,039
oh that was weird sorry my uh my my

00:30:12,080 --> 00:30:16,480
hop-in

00:30:13,039 --> 00:30:19,919
flashed strangely uh

00:30:16,480 --> 00:30:21,120
uh so we need uh yeah our base plug-in

00:30:19,919 --> 00:30:23,760
class and then the interface

00:30:21,120 --> 00:30:25,600
that uh you know that that defines our

00:30:23,760 --> 00:30:29,360
uh our basic

00:30:25,600 --> 00:30:32,000
plug-in behavior so here's what

00:30:29,360 --> 00:30:33,360
the uh the plug-in annotation class

00:30:32,000 --> 00:30:34,720
looks like it just defines the

00:30:33,360 --> 00:30:35,520
properties that you're using in your

00:30:34,720 --> 00:30:38,000
annotation

00:30:35,520 --> 00:30:39,200
and here we just have an id and then a

00:30:38,000 --> 00:30:41,360
textual name

00:30:39,200 --> 00:30:42,720
and then synonyms uh which i don't have

00:30:41,360 --> 00:30:45,760
working yet so this is

00:30:42,720 --> 00:30:48,159
uh like if you type look um

00:30:45,760 --> 00:30:49,520
you know it uh it realizes that that

00:30:48,159 --> 00:30:51,840
goes to the particular look

00:30:49,520 --> 00:30:53,600
plugin but if you type examine and

00:30:51,840 --> 00:30:56,000
examine as a synonym of look

00:30:53,600 --> 00:30:57,440
ideally it should be able to to

00:30:56,000 --> 00:30:59,120
reconcile those and when you type in

00:30:57,440 --> 00:31:00,159
exam and it should also give you a look

00:30:59,120 --> 00:31:04,159
command

00:31:00,159 --> 00:31:06,000
but i don't have that working yet uh now

00:31:04,159 --> 00:31:07,760
you need a custom plug-in manager now

00:31:06,000 --> 00:31:08,880
most of this is boilerplate uh you're

00:31:07,760 --> 00:31:10,799
gonna write this once

00:31:08,880 --> 00:31:12,799
and then copy and paste it for the rest

00:31:10,799 --> 00:31:15,120
of your life this is uh

00:31:12,799 --> 00:31:16,000
uh you know it's pretty pretty standard

00:31:15,120 --> 00:31:18,240
so uh

00:31:16,000 --> 00:31:20,159
the plugin manager needs to define what

00:31:18,240 --> 00:31:22,960
the plugin directory structure is

00:31:20,159 --> 00:31:23,440
uh you know what the name spaces are uh

00:31:22,960 --> 00:31:26,000
how to

00:31:23,440 --> 00:31:27,840
alter it uh what the plugin interface

00:31:26,000 --> 00:31:28,720
looks like and then where the annotation

00:31:27,840 --> 00:31:31,279
is

00:31:28,720 --> 00:31:32,799
it also sets the caching back end which

00:31:31,279 --> 00:31:36,000
you know here is just the

00:31:32,799 --> 00:31:38,480
stock one uh we have an alter info

00:31:36,000 --> 00:31:40,240
so we have slack mud command info so if

00:31:38,480 --> 00:31:42,640
you did a custom module

00:31:40,240 --> 00:31:43,519
slack mud command info alter you can get

00:31:42,640 --> 00:31:46,559
in and

00:31:43,519 --> 00:31:48,640
change all this stuff uh the directory

00:31:46,559 --> 00:31:51,519
structure it'll always be an src

00:31:48,640 --> 00:31:51,840
plug-in mud command uh and then here's

00:31:51,519 --> 00:31:53,600
the

00:31:51,840 --> 00:31:56,320
uh the interface for the plug-in manager

00:31:53,600 --> 00:31:57,679
to return and then here's the annotation

00:31:56,320 --> 00:32:00,240
so that it knows what the plugins are

00:31:57,679 --> 00:32:01,919
supposed to look like

00:32:00,240 --> 00:32:03,440
that's kind of all there is to it but

00:32:01,919 --> 00:32:05,360
this is something you need to define

00:32:03,440 --> 00:32:07,200
pretty much every time you do a custom

00:32:05,360 --> 00:32:08,960
plugin again you're going to write this

00:32:07,200 --> 00:32:11,590
once and copy paste

00:32:08,960 --> 00:32:12,880
and and tweak

00:32:11,590 --> 00:32:14,880
[Music]

00:32:12,880 --> 00:32:15,919
now if we look at the actual plug-in

00:32:14,880 --> 00:32:19,279
interface

00:32:15,919 --> 00:32:22,559
uh we're defining here what each of the

00:32:19,279 --> 00:32:25,519
the actual plug-in instances have to do

00:32:22,559 --> 00:32:27,440
uh for our game really all we need is

00:32:25,519 --> 00:32:29,919
the perform method

00:32:27,440 --> 00:32:31,760
which takes the command text that uh

00:32:29,919 --> 00:32:34,080
that slack got from the player

00:32:31,760 --> 00:32:35,360
whoever's doing the actual action and

00:32:34,080 --> 00:32:38,399
then a reference

00:32:35,360 --> 00:32:39,279
to the results array which is how we

00:32:38,399 --> 00:32:40,960
pass back

00:32:39,279 --> 00:32:43,039
uh the different messages to the

00:32:40,960 --> 00:32:44,880
different players so here we have an

00:32:43,039 --> 00:32:48,159
actual player node id

00:32:44,880 --> 00:32:50,320
uh and the slack uh you know the slack

00:32:48,159 --> 00:32:52,080
service knows how to get

00:32:50,320 --> 00:32:53,760
each one of these from each actual

00:32:52,080 --> 00:32:56,080
username

00:32:53,760 --> 00:32:58,080
so you know this uh this particular

00:32:56,080 --> 00:33:00,159
player 1735

00:32:58,080 --> 00:33:01,679
gets uh you know gets two things so

00:33:00,159 --> 00:33:03,200
clearly he's looking around in the dark

00:33:01,679 --> 00:33:04,799
here you do not see anything here you

00:33:03,200 --> 00:33:06,720
might be eaten by a group

00:33:04,799 --> 00:33:08,159
uh another player who happens to be in

00:33:06,720 --> 00:33:11,840
the same location we'll see

00:33:08,159 --> 00:33:11,840
jack is looking around

00:33:12,960 --> 00:33:19,360
uh so we have our our plug-in base class

00:33:16,880 --> 00:33:20,240
uh the base class you know here we're

00:33:19,360 --> 00:33:22,640
setting up

00:33:20,240 --> 00:33:24,159
all of our dependency injection and

00:33:22,640 --> 00:33:26,640
everything that most of the

00:33:24,159 --> 00:33:27,679
uh plugins are going to need of course a

00:33:26,640 --> 00:33:30,799
child plug-in

00:33:27,679 --> 00:33:32,480
can you know override whatever its

00:33:30,799 --> 00:33:36,159
inherited uh

00:33:32,480 --> 00:33:38,080
parent plug-in is using uh but

00:33:36,159 --> 00:33:40,320
when we uh when we do it this way you

00:33:38,080 --> 00:33:41,440
know we get all of our nice uh services

00:33:40,320 --> 00:33:43,039
and you know everything nicely

00:33:41,440 --> 00:33:45,200
dependency injected so that all of the

00:33:43,039 --> 00:33:49,519
children can get it

00:33:45,200 --> 00:33:53,519
uh so let's uh let's have a look

00:33:49,519 --> 00:33:56,080
at this this complicated cast one

00:33:53,519 --> 00:33:58,399
and uh and we'll we'll see how it all

00:33:56,080 --> 00:33:58,399
works

00:33:59,120 --> 00:34:03,919
okay here's cast now

00:34:01,420 --> 00:34:07,360
[Music]

00:34:03,919 --> 00:34:10,159
presentation mode gets really big so

00:34:07,360 --> 00:34:11,760
uh if you double click on the screen

00:34:10,159 --> 00:34:13,919
share to maximize that

00:34:11,760 --> 00:34:15,440
i'm going to ask to respond in the chat

00:34:13,919 --> 00:34:17,760
is this big enough as is

00:34:15,440 --> 00:34:21,839
in order to see it or do i need to enbig

00:34:17,760 --> 00:34:21,839
in it

00:34:25,760 --> 00:34:31,200
okay all right let's go to presentation

00:34:29,760 --> 00:34:33,599
mode now it's going to get really big

00:34:31,200 --> 00:34:35,760
and i can't see the chat anymore

00:34:33,599 --> 00:34:37,520
because it blanks out the other window

00:34:35,760 --> 00:34:38,879
so uh

00:34:37,520 --> 00:34:41,280
we're going to look at this perform

00:34:38,879 --> 00:34:41,919
method which again takes the command

00:34:41,280 --> 00:34:44,879
text

00:34:41,919 --> 00:34:46,320
the acting player and then this results

00:34:44,879 --> 00:34:47,440
array

00:34:46,320 --> 00:34:49,760
it's going to figure out where the

00:34:47,440 --> 00:34:51,760
acting player is get their custom

00:34:49,760 --> 00:34:52,560
profile now the kyranda profile

00:34:51,760 --> 00:34:56,079
basically

00:34:52,560 --> 00:34:57,520
is uh just uh an entity that has

00:34:56,079 --> 00:35:00,960
different game effects

00:34:57,520 --> 00:35:03,520
uh for whatever player is passed in here

00:35:00,960 --> 00:35:04,320
so like there's there's different

00:35:03,520 --> 00:35:06,720
protections

00:35:04,320 --> 00:35:08,400
like you can have lightning protection

00:35:06,720 --> 00:35:11,040
general object protection fire

00:35:08,400 --> 00:35:12,800
etc all these things get stored on that

00:35:11,040 --> 00:35:15,280
profile

00:35:12,800 --> 00:35:16,079
so here we have some grammar checking to

00:35:15,280 --> 00:35:18,240
make sure that

00:35:16,079 --> 00:35:19,760
uh you know you don't just type cast if

00:35:18,240 --> 00:35:21,520
you do it

00:35:19,760 --> 00:35:23,040
it says that you're going bananas or

00:35:21,520 --> 00:35:26,079
whatever uh

00:35:23,040 --> 00:35:29,200
if it uh if it only has

00:35:26,079 --> 00:35:30,000
one more uh word here it knows how to

00:35:29,200 --> 00:35:32,240
get the the

00:35:30,000 --> 00:35:33,280
spell name and then if it has another

00:35:32,240 --> 00:35:36,800
word here

00:35:33,280 --> 00:35:38,720
uh it gets the target name there's some

00:35:36,800 --> 00:35:40,000
magic that happens before it gets here

00:35:38,720 --> 00:35:43,440
where it strips out

00:35:40,000 --> 00:35:47,280
uh things like at and to and in

00:35:43,440 --> 00:35:51,599
so if you you know you can cast uh

00:35:47,280 --> 00:35:51,920
zanera at mary and it knows to strip the

00:35:51,599 --> 00:35:56,079
at

00:35:51,920 --> 00:35:56,079
out so it just goes zero one two

00:35:56,560 --> 00:36:01,920
uh we have some special exceptions here

00:35:59,680 --> 00:36:03,119
uh here's one if you cast this in this

00:36:01,920 --> 00:36:06,800
particular location

00:36:03,119 --> 00:36:09,040
it gives a clue a message uh and then

00:36:06,800 --> 00:36:10,560
we get into actual spell casting mode so

00:36:09,040 --> 00:36:12,800
first we make sure that the

00:36:10,560 --> 00:36:14,320
player memorized the spell that they're

00:36:12,800 --> 00:36:15,920
of the appropriate level

00:36:14,320 --> 00:36:17,760
uh that they have the appropriate number

00:36:15,920 --> 00:36:20,720
of spell points

00:36:17,760 --> 00:36:23,040
and if you don't you get some you know

00:36:20,720 --> 00:36:26,079
flavor text

00:36:23,040 --> 00:36:28,320
and then if you do you can start getting

00:36:26,079 --> 00:36:29,920
into actual spells so here's the full

00:36:28,320 --> 00:36:32,560
list of spells

00:36:29,920 --> 00:36:34,800
we're just gonna go with this one

00:36:32,560 --> 00:36:38,240
because it's easy to understand

00:36:34,800 --> 00:36:39,440
so uh we use the the game handler to

00:36:38,240 --> 00:36:41,359
check that the location

00:36:39,440 --> 00:36:44,720
has the player in it so this is

00:36:41,359 --> 00:36:47,200
identifying this player by name

00:36:44,720 --> 00:36:48,400
and if we get one now we get that user's

00:36:47,200 --> 00:36:50,079
profile

00:36:48,400 --> 00:36:52,079
see if the user is protected with this

00:36:50,079 --> 00:36:54,960
particular protection

00:36:52,079 --> 00:36:56,720
and then if they are nothing happens but

00:36:54,960 --> 00:36:58,240
everyone gets these messages so here

00:36:56,720 --> 00:37:01,520
again we have that one you know

00:36:58,240 --> 00:37:02,160
that zero one two uh message structure

00:37:01,520 --> 00:37:04,720
here

00:37:02,160 --> 00:37:06,640
where the the actor gets the zero the

00:37:04,720 --> 00:37:07,680
target gets the one and the bystanders

00:37:06,640 --> 00:37:09,200
get the two

00:37:07,680 --> 00:37:10,480
so in this particular case it's like you

00:37:09,200 --> 00:37:11,359
try to cast the spell but nothing

00:37:10,480 --> 00:37:13,599
happens

00:37:11,359 --> 00:37:15,359
uh the one that the target sees is like

00:37:13,599 --> 00:37:16,240
someone cast a spell on you but nothing

00:37:15,359 --> 00:37:19,040
happened

00:37:16,240 --> 00:37:20,160
and then uh the the o2 message here is

00:37:19,040 --> 00:37:22,560
everyone else in the room

00:37:20,160 --> 00:37:24,240
sees the caster cast a spell at the

00:37:22,560 --> 00:37:26,240
target but nothing happened

00:37:24,240 --> 00:37:27,280
so if they're not protected now we go

00:37:26,240 --> 00:37:30,560
down here

00:37:27,280 --> 00:37:33,760
check their inventory and

00:37:30,560 --> 00:37:35,440
we identify the stolen item and then

00:37:33,760 --> 00:37:37,280
put a message together saying like you

00:37:35,440 --> 00:37:39,520
you vaporize their

00:37:37,280 --> 00:37:41,920
diamond or whatever and then it figures

00:37:39,520 --> 00:37:44,480
out who needs to get what messages

00:37:41,920 --> 00:37:45,040
uh you can see they're all the same sort

00:37:44,480 --> 00:37:49,040
of uh

00:37:45,040 --> 00:37:51,760
printf here so you know here it's

00:37:49,040 --> 00:37:52,800
the actor and then the thing that you're

00:37:51,760 --> 00:37:55,280
affecting

00:37:52,800 --> 00:37:56,640
and then the name of the target and then

00:37:55,280 --> 00:37:59,760
the thing again

00:37:56,640 --> 00:38:01,440
and then uh the actor's name again

00:37:59,760 --> 00:38:03,599
oh this doesn't vaporize it this grabs

00:38:01,440 --> 00:38:04,079
it so that's what it is if you it'll say

00:38:03,599 --> 00:38:08,000
something

00:38:04,079 --> 00:38:11,119
like jack uh cast a spell against

00:38:08,000 --> 00:38:13,920
mary and mary's diamond

00:38:11,119 --> 00:38:16,160
now appears in jack's hand so that's how

00:38:13,920 --> 00:38:18,480
it builds out all these messages

00:38:16,160 --> 00:38:20,640
it knows what other players are there

00:38:18,480 --> 00:38:24,000
and sends them the appropriate message

00:38:20,640 --> 00:38:27,119
and then uh you know

00:38:24,000 --> 00:38:28,000
gives the uh the item to uh to the

00:38:27,119 --> 00:38:31,520
player now

00:38:28,000 --> 00:38:34,720
after it's removed it from the uh

00:38:31,520 --> 00:38:34,720
the player that had it before

00:38:35,599 --> 00:38:38,400
so there's a whole bunch of these some

00:38:36,800 --> 00:38:38,960
of them do damage some of them have

00:38:38,400 --> 00:38:42,800
different

00:38:38,960 --> 00:38:44,800
uh uh you know different effects there's

00:38:42,800 --> 00:38:46,000
healing and again item stealing and

00:38:44,800 --> 00:38:49,680
looking at what players have

00:38:46,000 --> 00:38:53,760
memorized and whatever so cast here

00:38:49,680 --> 00:38:53,760
is uh is pretty meaty

00:38:58,400 --> 00:39:02,960
all right now how do we integrate with

00:39:00,880 --> 00:39:05,599
slack

00:39:02,960 --> 00:39:07,119
uh we have the slack incoming module and

00:39:05,599 --> 00:39:10,160
it accepts messages

00:39:07,119 --> 00:39:13,680
from slack for all kinds of things uh

00:39:10,160 --> 00:39:15,760
messaging uh slash commands slack events

00:39:13,680 --> 00:39:17,839
you know all the different ways that uh

00:39:15,760 --> 00:39:20,160
the users can interact with slack

00:39:17,839 --> 00:39:22,400
uh it will uh it'll handle that and

00:39:20,160 --> 00:39:25,359
throw up events for you to listen to

00:39:22,400 --> 00:39:25,839
uh and uh and and get these interactions

00:39:25,359 --> 00:39:28,000
going

00:39:25,839 --> 00:39:30,160
i have this posted for an alpha release

00:39:28,000 --> 00:39:33,200
it's at uh the slack incoming

00:39:30,160 --> 00:39:34,320
uh project on drupal.org so you can play

00:39:33,200 --> 00:39:36,960
with this and uh

00:39:34,320 --> 00:39:38,160
and experiment with it uh you know i

00:39:36,960 --> 00:39:39,839
don't know that it's ready for a

00:39:38,160 --> 00:39:41,359
production app i'm not using it for

00:39:39,839 --> 00:39:43,920
anything production right now i really

00:39:41,359 --> 00:39:45,680
only wrote it to do this

00:39:43,920 --> 00:39:47,440
so i'm not super vigilant about

00:39:45,680 --> 00:39:50,160
maintaining it but if people start using

00:39:47,440 --> 00:39:50,160
it i will be

00:39:50,480 --> 00:39:55,760
so anyway that's where you can get it

00:39:53,599 --> 00:39:57,440
uh we have a custom authentication

00:39:55,760 --> 00:39:58,320
provider here we want to make sure that

00:39:57,440 --> 00:40:01,440
some villain

00:39:58,320 --> 00:40:04,720
isn't sending random messages to

00:40:01,440 --> 00:40:06,560
uh to your app pretending to be slack

00:40:04,720 --> 00:40:08,640
so slack's authentication scheme their

00:40:06,560 --> 00:40:10,640
api documentation they specify

00:40:08,640 --> 00:40:11,839
a signing secret that's defined for the

00:40:10,640 --> 00:40:13,520
app uh

00:40:11,839 --> 00:40:15,760
and then we have an authentication

00:40:13,520 --> 00:40:17,839
provider that uh that goes through the

00:40:15,760 --> 00:40:20,480
rigmarole of uh

00:40:17,839 --> 00:40:22,560
of testing that signing secret and since

00:40:20,480 --> 00:40:25,040
it's an actual authentication provider

00:40:22,560 --> 00:40:26,640
you can now you know it's got a service

00:40:25,040 --> 00:40:28,640
and you can just declare this slack

00:40:26,640 --> 00:40:31,119
incoming signing secret true

00:40:28,640 --> 00:40:32,640
put that on any route that you define

00:40:31,119 --> 00:40:36,880
and now all of the routes

00:40:32,640 --> 00:40:38,960
get uh validated for uh you know valid

00:40:36,880 --> 00:40:40,400
slack traffic so anytime you're creating

00:40:38,960 --> 00:40:42,800
uh an endpoint

00:40:40,400 --> 00:40:45,119
for a slash command for instance just

00:40:42,800 --> 00:40:46,319
pop this right on your route definition

00:40:45,119 --> 00:40:49,280
and it'll take care of all the

00:40:46,319 --> 00:40:49,280
validation for you

00:40:50,319 --> 00:40:53,760
if we go over how slack works uh you

00:40:53,119 --> 00:40:56,880
know how

00:40:53,760 --> 00:40:58,160
how the interaction happens uh when a

00:40:56,880 --> 00:41:01,200
user

00:40:58,160 --> 00:41:02,480
sends the bot a message now uh slack

00:41:01,200 --> 00:41:04,800
responds to that event

00:41:02,480 --> 00:41:06,000
and then pushes that event metadata to

00:41:04,800 --> 00:41:08,720
the url

00:41:06,000 --> 00:41:10,400
uh specified in your event setup uh

00:41:08,720 --> 00:41:10,880
again i'll get to all of the uh the

00:41:10,400 --> 00:41:14,560
slack

00:41:10,880 --> 00:41:16,000
commands shortly um i know we're running

00:41:14,560 --> 00:41:17,520
out of time like i said this is a pretty

00:41:16,000 --> 00:41:21,119
dense presentation

00:41:17,520 --> 00:41:23,359
um so uh we authenticate and then

00:41:21,119 --> 00:41:25,040
the controller decodes that message

00:41:23,359 --> 00:41:26,720
packet fires off the slack event and

00:41:25,040 --> 00:41:28,560
then whatever listeners

00:41:26,720 --> 00:41:30,160
uh are gonna listen to it listen to it

00:41:28,560 --> 00:41:32,640
they do their thing and then it

00:41:30,160 --> 00:41:33,599
as soon as it can it returns that 200

00:41:32,640 --> 00:41:36,079
response

00:41:33,599 --> 00:41:37,680
uh slack expects that uh that response

00:41:36,079 --> 00:41:39,520
within three seconds if it doesn't get a

00:41:37,680 --> 00:41:40,560
200 within three seconds it'll start

00:41:39,520 --> 00:41:44,400
resending

00:41:40,560 --> 00:41:44,400
messages sometimes a bunch of times

00:41:44,560 --> 00:41:49,760
uh there's a tiny cc link frank

00:41:47,599 --> 00:41:50,640
all the way up at the top of the uh the

00:41:49,760 --> 00:41:54,480
chat

00:41:50,640 --> 00:41:56,560
that has uh the link to the

00:41:54,480 --> 00:41:57,760
repository with the code in it that also

00:41:56,560 --> 00:41:59,920
has a link to

00:41:57,760 --> 00:42:01,200
the talk at another camp which has all

00:41:59,920 --> 00:42:02,720
the slides on it

00:42:01,200 --> 00:42:04,480
i realized i didn't actually have the

00:42:02,720 --> 00:42:07,920
slide file in the

00:42:04,480 --> 00:42:07,920
repo although i should add it

00:42:09,839 --> 00:42:13,839
slash commands work kind of the same way

00:42:12,000 --> 00:42:16,560
except like i said before

00:42:13,839 --> 00:42:18,000
the interacting with a slash command is

00:42:16,560 --> 00:42:20,800
sort of the user's

00:42:18,000 --> 00:42:21,760
authorizing slack in order to uh yes

00:42:20,800 --> 00:42:25,200
thank you

00:42:21,760 --> 00:42:28,000
in order to uh interact with the user

00:42:25,200 --> 00:42:29,520
uh so we have custom endpoints defined

00:42:28,000 --> 00:42:31,040
there they're just routes with

00:42:29,520 --> 00:42:34,880
controller methods

00:42:31,040 --> 00:42:37,359
uh now to set up a slack workspace

00:42:34,880 --> 00:42:38,880
this is real easy you just go to slack

00:42:37,359 --> 00:42:40,720
dot com slash create

00:42:38,880 --> 00:42:42,400
put in your email there you know

00:42:40,720 --> 00:42:44,560
validate who you are you just

00:42:42,400 --> 00:42:45,920
do some description and it collects some

00:42:44,560 --> 00:42:48,319
data about you

00:42:45,920 --> 00:42:50,000
uh and then you click launch workspace

00:42:48,319 --> 00:42:52,160
your workspace is created and now you

00:42:50,000 --> 00:42:55,280
can go to api.slack.com

00:42:52,160 --> 00:42:56,480
and create the actual app so again it'll

00:42:55,280 --> 00:42:58,240
kind of walk you through this i'm going

00:42:56,480 --> 00:43:01,520
to skip through this a little bit

00:42:58,240 --> 00:43:04,000
uh and now in order to set up the uh

00:43:01,520 --> 00:43:05,200
the app you know don't worry about these

00:43:04,000 --> 00:43:06,480
keys and whatever

00:43:05,200 --> 00:43:09,839
there's nothing here to worry about

00:43:06,480 --> 00:43:12,240
hacking i've already torn down the uh

00:43:09,839 --> 00:43:13,839
the the application that we used to

00:43:12,240 --> 00:43:15,440
screenshot these and i'm going to be

00:43:13,839 --> 00:43:17,599
tearing down the application that i'm

00:43:15,440 --> 00:43:19,359
demoing on right now so there's no

00:43:17,599 --> 00:43:20,720
worry about key security or anything

00:43:19,359 --> 00:43:23,280
like that and

00:43:20,720 --> 00:43:24,640
these were these will all be expired in

00:43:23,280 --> 00:43:27,520
15 minutes

00:43:24,640 --> 00:43:28,960
uh so what we care about here is this

00:43:27,520 --> 00:43:32,079
signing secret

00:43:28,960 --> 00:43:34,960
uh and we have uh

00:43:32,079 --> 00:43:36,319
a configuration form so we can go to

00:43:34,960 --> 00:43:38,960
config web services

00:43:36,319 --> 00:43:40,240
slack incoming put in our signing secret

00:43:38,960 --> 00:43:42,960
putting in our uh

00:43:40,240 --> 00:43:43,760
our oauth token and that excuse me if

00:43:42,960 --> 00:43:46,079
there's any

00:43:43,760 --> 00:43:48,000
uh requirement to change the slack api

00:43:46,079 --> 00:43:49,520
url we can but

00:43:48,000 --> 00:43:52,000
i don't see a reason why you would need

00:43:49,520 --> 00:43:52,000
to do that

00:43:52,400 --> 00:43:55,680
now you go into the slack app and enable

00:43:54,960 --> 00:43:57,440
events

00:43:55,680 --> 00:43:59,040
and here's where you put in the endpoint

00:43:57,440 --> 00:44:01,280
for that slack action endpoint this is

00:43:59,040 --> 00:44:04,480
where it does the url validation

00:44:01,280 --> 00:44:06,880
uh as soon as you type in your url here

00:44:04,480 --> 00:44:08,000
it'll uh it'll verify it we have the

00:44:06,880 --> 00:44:10,079
event that handles that

00:44:08,000 --> 00:44:11,520
so you just give it slack slash action

00:44:10,079 --> 00:44:13,359
endpoint

00:44:11,520 --> 00:44:14,880
uh and then you tell it what events you

00:44:13,359 --> 00:44:17,359
want to subscribe to again our

00:44:14,880 --> 00:44:18,319
game here only cares about the app home

00:44:17,359 --> 00:44:22,319
opened which is

00:44:18,319 --> 00:44:25,520
the home tab uh message.im

00:44:22,319 --> 00:44:29,200
which is how the the

00:44:25,520 --> 00:44:32,960
the bot uh

00:44:29,200 --> 00:44:35,359
fires up uh events when it gets messages

00:44:32,960 --> 00:44:37,440
we save that and now we have two slash

00:44:35,359 --> 00:44:38,880
commands we have slash games and slash

00:44:37,440 --> 00:44:41,520
join game with a game id

00:44:38,880 --> 00:44:42,880
on it uh join is reserved you can't uh

00:44:41,520 --> 00:44:45,040
you can't do that

00:44:42,880 --> 00:44:46,720
uh so we have games and that is what

00:44:45,040 --> 00:44:49,440
lists out the games available

00:44:46,720 --> 00:44:51,520
uh on our app and then join game

00:44:49,440 --> 00:44:52,960
actually joins you into a current game

00:44:51,520 --> 00:44:55,440
sets your current game up

00:44:52,960 --> 00:44:56,400
uh as kyrani and lets you interact with

00:44:55,440 --> 00:44:58,800
it

00:44:56,400 --> 00:44:59,920
so here again these are just kind of

00:44:58,800 --> 00:45:02,079
regular

00:44:59,920 --> 00:45:04,240
routes we have a controller for each one

00:45:02,079 --> 00:45:07,760
of them we have the slack incoming

00:45:04,240 --> 00:45:07,760
signing secret on each one of them

00:45:07,839 --> 00:45:11,440
and then when you're setting them up you

00:45:09,680 --> 00:45:13,280
just go and you create new command

00:45:11,440 --> 00:45:14,480
type in what it's supposed to be have

00:45:13,280 --> 00:45:16,160
the endpoint

00:45:14,480 --> 00:45:17,760
you can give it a description and usage

00:45:16,160 --> 00:45:19,599
hints uh

00:45:17,760 --> 00:45:22,079
we have again two of them we have games

00:45:19,599 --> 00:45:23,920
and join game uh so the usage hint

00:45:22,079 --> 00:45:25,839
you know it'll pop up like this last

00:45:23,920 --> 00:45:27,839
join game and then it uh

00:45:25,839 --> 00:45:29,520
you know it gives you some text hints

00:45:27,839 --> 00:45:32,800
there

00:45:29,520 --> 00:45:35,920
uh now we go back to the app home page

00:45:32,800 --> 00:45:37,839
uh make sure your bot is shown online uh

00:45:35,920 --> 00:45:41,280
and then you go to oauth and permissions

00:45:37,839 --> 00:45:44,000
uh and scroll down and add in scopes

00:45:41,280 --> 00:45:44,640
uh make sure that you do chat colon

00:45:44,000 --> 00:45:47,359
right

00:45:44,640 --> 00:45:48,400
if you want it to send your users

00:45:47,359 --> 00:45:51,359
messages

00:45:48,400 --> 00:45:52,640
uh every time i'm doing a slack app and

00:45:51,359 --> 00:45:55,680
it's not sending back

00:45:52,640 --> 00:45:58,800
messages i i think 100

00:45:55,680 --> 00:46:01,119
of the time it has been because i have

00:45:58,800 --> 00:46:02,720
either forgotten to select the chat

00:46:01,119 --> 00:46:04,000
right scope or i've clicked a different

00:46:02,720 --> 00:46:07,200
one by mistake

00:46:04,000 --> 00:46:08,640
uh so uh make sure that when you're uh

00:46:07,200 --> 00:46:10,480
when you want an app that's gonna send

00:46:08,640 --> 00:46:11,520
messages back make sure you have this

00:46:10,480 --> 00:46:13,599
scope in here

00:46:11,520 --> 00:46:14,640
so make sure you have your oauth bot key

00:46:13,599 --> 00:46:16,160
first uh

00:46:14,640 --> 00:46:17,920
and if that's correct then make sure you

00:46:16,160 --> 00:46:18,960
have this scope on here and then you

00:46:17,920 --> 00:46:22,640
should be able to

00:46:18,960 --> 00:46:25,760
interact with uh with slack both ways

00:46:22,640 --> 00:46:28,640
uh so then you go and you get your

00:46:25,760 --> 00:46:30,079
your butt uh your oauth token and you

00:46:28,640 --> 00:46:33,119
put it in that same uh

00:46:30,079 --> 00:46:35,520
slack incoming um

00:46:33,119 --> 00:46:37,359
config screen that that i showed before

00:46:35,520 --> 00:46:38,560
and now once that's all done you get to

00:46:37,359 --> 00:46:41,359
click the big green

00:46:38,560 --> 00:46:42,960
install app button it validates the

00:46:41,359 --> 00:46:45,680
permissions that you're going to give it

00:46:42,960 --> 00:46:47,839
you allow it and then bam there it is

00:46:45,680 --> 00:46:49,040
now you get to see it in your uh recent

00:46:47,839 --> 00:46:51,760
apps

00:46:49,040 --> 00:46:52,240
and uh and then stuff will start working

00:46:51,760 --> 00:46:54,400
so

00:46:52,240 --> 00:46:57,839
for instance if uh here here we have a

00:46:54,400 --> 00:46:57,839
new user

00:46:58,480 --> 00:47:04,800
i can list out slash games it says we

00:47:01,040 --> 00:47:04,800
have the following games kyranda

00:47:08,960 --> 00:47:14,319
yeah there we go

00:47:12,400 --> 00:47:16,160
yeah like i said with the ngrok and the

00:47:14,319 --> 00:47:18,880
video share and whatever and now

00:47:16,160 --> 00:47:20,079
early evening uh streaming traffic to

00:47:18,880 --> 00:47:23,280
contend with

00:47:20,079 --> 00:47:27,760
uh we uh you know we

00:47:23,280 --> 00:47:27,760
we're timing out here i'll i'll just uh

00:47:28,800 --> 00:47:33,040
enter the actual commands here okay so

00:47:31,760 --> 00:47:35,839
now we've joined the game

00:47:33,040 --> 00:47:38,319
uh on the major bbs it pages all of this

00:47:35,839 --> 00:47:40,160
you know press return to continue uh

00:47:38,319 --> 00:47:41,839
so for slack we're not doing that we're

00:47:40,160 --> 00:47:53,839
just dumping this all out

00:47:41,839 --> 00:47:53,839
but now we just joined the game here

00:47:54,559 --> 00:47:59,599
and now we can see that it's multiplayer

00:47:57,599 --> 00:48:01,599
and we have uh you know users

00:47:59,599 --> 00:48:04,319
interacting with each other here

00:48:01,599 --> 00:48:05,680
so here if i go north then it'll tell me

00:48:04,319 --> 00:48:08,880
that i left

00:48:05,680 --> 00:48:08,880
now if this player follows

00:48:09,040 --> 00:48:14,480
now it'll say that that they came in

00:48:18,079 --> 00:48:23,599
all right so uh testing

00:48:21,520 --> 00:48:25,359
kernel tests could have done all this uh

00:48:23,599 --> 00:48:27,119
but most of what i was testing was

00:48:25,359 --> 00:48:28,240
actually validating the actual game

00:48:27,119 --> 00:48:31,440
behavior

00:48:28,240 --> 00:48:33,280
uh so i did it all with b-hat so uh you

00:48:31,440 --> 00:48:35,040
know we've had a whole bunch of

00:48:33,280 --> 00:48:36,480
talks and buffs and sessions and stuff

00:48:35,040 --> 00:48:38,640
about what to use b-hat for

00:48:36,480 --> 00:48:39,760
apparently the uh you know the original

00:48:38,640 --> 00:48:42,319
creator of b-hat

00:48:39,760 --> 00:48:44,160
is kind of you know throwing his hands

00:48:42,319 --> 00:48:46,319
up in the air in awe of all the things

00:48:44,160 --> 00:48:49,040
that uh bee hackers like me have

00:48:46,319 --> 00:48:50,079
put together for this uh so i'm

00:48:49,040 --> 00:48:53,119
effectively

00:48:50,079 --> 00:48:55,440
kernel testing the uh you know the

00:48:53,119 --> 00:48:57,280
the whole game module with b-hat and not

00:48:55,440 --> 00:48:59,760
going through the ui at all

00:48:57,280 --> 00:49:01,680
uh but you know i needed to test uh the

00:48:59,760 --> 00:49:02,640
interactions and get all the messages

00:49:01,680 --> 00:49:06,079
back and the

00:49:02,640 --> 00:49:09,440
terms had to exist and whatever so uh

00:49:06,079 --> 00:49:11,839
you know it was just so time consuming

00:49:09,440 --> 00:49:15,760
to mock all of the things that every

00:49:11,839 --> 00:49:17,119
uh you know every command needed

00:49:15,760 --> 00:49:19,440
that it was easier just to write out a

00:49:17,119 --> 00:49:22,559
couple of custom steps and

00:49:19,440 --> 00:49:22,559
and test them all that way

00:49:24,079 --> 00:49:27,680
so everything we used here is is on

00:49:26,800 --> 00:49:29,760
github

00:49:27,680 --> 00:49:30,960
the original galacticon source code i

00:49:29,760 --> 00:49:32,079
don't know that i actually have

00:49:30,960 --> 00:49:37,119
permission to it but

00:49:32,079 --> 00:49:40,000
it's 30 plus years old so i think i do

00:49:37,119 --> 00:49:41,839
if a cnd letter comes i will absolutely

00:49:40,000 --> 00:49:44,800
take it all down

00:49:41,839 --> 00:49:46,640
but slack incoming is on drupal.org word

00:49:44,800 --> 00:49:49,599
grammar is on drupal.org

00:49:46,640 --> 00:49:50,400
the mud module's not uh you know again i

00:49:49,599 --> 00:49:52,240
don't know that this is

00:49:50,400 --> 00:49:53,760
prime time or even in an alpha release

00:49:52,240 --> 00:49:57,520
but you can get it from the

00:49:53,760 --> 00:49:59,359
repo which has a link to my old

00:49:57,520 --> 00:50:02,160
mid camp page for this talk which has

00:49:59,359 --> 00:50:02,160
the slides on it

00:50:02,960 --> 00:50:07,520
i know that we are over time but i have

00:50:05,839 --> 00:50:09,680
time to take questions if

00:50:07,520 --> 00:50:10,880
if anybody has them if you wouldn't mind

00:50:09,680 --> 00:50:12,319
reposting them

00:50:10,880 --> 00:50:14,640
because i was switching back and forth

00:50:12,319 --> 00:50:15,359
so often and i couldn't always see the

00:50:14,640 --> 00:50:17,920
chat

00:50:15,359 --> 00:50:19,359
so post them up again so that i can see

00:50:17,920 --> 00:50:20,480
what they are i'm happy to take the time

00:50:19,359 --> 00:50:27,839
to answer

00:50:20,480 --> 00:50:27,839
your questions

00:50:30,880 --> 00:50:35,920
oh well thank you very much uh yeah this

00:50:33,920 --> 00:50:38,400
was totally a labor of love i don't even

00:50:35,920 --> 00:50:42,560
know how many hours i have in this now

00:50:38,400 --> 00:50:45,639
uh but uh oh yeah um

00:50:42,560 --> 00:50:45,639
[Music]

00:50:46,880 --> 00:50:56,559
let's see here it is

00:50:54,800 --> 00:50:58,079
a q worker that resets itself every

00:50:56,559 --> 00:50:58,480
eight seconds yeah that could that could

00:50:58,079 --> 00:51:02,240
work

00:50:58,480 --> 00:51:05,119
um uh you know that might be

00:51:02,240 --> 00:51:06,160
that even even that might be you know

00:51:05,119 --> 00:51:08,319
expensive to

00:51:06,160 --> 00:51:09,599
uh to put in it would have to you know

00:51:08,319 --> 00:51:12,800
would have to know how to

00:51:09,599 --> 00:51:14,160
manage itself uh but i guess the uh the

00:51:12,800 --> 00:51:16,480
cron job to do the reason

00:51:14,160 --> 00:51:17,440
the daily respawn could kick it off and

00:51:16,480 --> 00:51:21,040
then as

00:51:17,440 --> 00:51:25,440
the uh the q worker uh fires

00:51:21,040 --> 00:51:28,400
it would then you know re-cue itself

00:51:25,440 --> 00:51:28,400
that that could happen

00:51:33,920 --> 00:51:39,040
all right oh we have uh people who want

00:51:35,920 --> 00:51:39,040
to come in let's see

00:51:41,920 --> 00:51:46,480
okay i think i just uh added everyone

00:51:46,640 --> 00:51:50,880
could you take the back end and run a

00:51:48,319 --> 00:51:54,640
custom js front end uh

00:51:50,880 --> 00:51:57,599
sure you could uh the the way i have it

00:51:54,640 --> 00:51:57,599
is the

00:51:57,800 --> 00:52:03,119
[Music]

00:51:59,040 --> 00:52:06,160
the actual mud

00:52:03,119 --> 00:52:08,079
event listeners and uh and plug-ins are

00:52:06,160 --> 00:52:10,240
more or less separated from the

00:52:08,079 --> 00:52:12,640
like they're they're you know separate

00:52:10,240 --> 00:52:14,720
from the slack ones you you you could

00:52:12,640 --> 00:52:19,040
use whatever you wanted to call up the

00:52:14,720 --> 00:52:22,000
mud commands and plug-ins and uh

00:52:19,040 --> 00:52:23,920
put up responses and whatever you want i

00:52:22,000 --> 00:52:25,520
just happened to have them all wired up

00:52:23,920 --> 00:52:28,240
through that slack incoming

00:52:25,520 --> 00:52:28,240
event listener

00:52:29,760 --> 00:52:34,559
yeah if you want like i i started a uh

00:52:35,680 --> 00:52:40,160
yeah sure yeah you could you could

00:52:37,280 --> 00:52:41,839
totally replace it with json api yeah

00:52:40,160 --> 00:52:43,440
okay the question what is the difference

00:52:41,839 --> 00:52:44,880
between the slack incoming module and

00:52:43,440 --> 00:52:48,400
the slack module

00:52:44,880 --> 00:52:49,680
um i don't want to bad mouth anyone's

00:52:48,400 --> 00:52:51,359
work or anything like that

00:52:49,680 --> 00:52:53,280
you know a lot of work went into the

00:52:51,359 --> 00:52:55,760
slack module but

00:52:53,280 --> 00:52:56,880
it didn't do any of the things that i

00:52:55,760 --> 00:53:00,319
needed it to do

00:52:56,880 --> 00:53:03,599
with any ease i wanted a nice

00:53:00,319 --> 00:53:06,000
easy way of interacting with messages

00:53:03,599 --> 00:53:07,200
coming from slack and i wanted a just as

00:53:06,000 --> 00:53:10,319
easy api

00:53:07,200 --> 00:53:10,640
hook or service in order to post things

00:53:10,319 --> 00:53:12,960
back

00:53:10,640 --> 00:53:14,000
to slack the slack module didn't give me

00:53:12,960 --> 00:53:16,720
any of that

00:53:14,000 --> 00:53:18,079
i had a really a really hard time using

00:53:16,720 --> 00:53:20,480
it i did start out

00:53:18,079 --> 00:53:21,359
uh using that one to begin with and

00:53:20,480 --> 00:53:23,440
found that it

00:53:21,359 --> 00:53:25,280
simply did not do what i wanted it to do

00:53:23,440 --> 00:53:26,720
so slack incoming is actually a lot more

00:53:25,280 --> 00:53:30,160
powerful than uh

00:53:26,720 --> 00:53:31,040
than slack and it lets you interact with

00:53:30,160 --> 00:53:43,839
any of the

00:53:31,040 --> 00:53:43,839
slack events that you know that you want

00:53:45,599 --> 00:53:48,960
all right well thank you everybody for

00:53:47,280 --> 00:53:52,400
uh taking the time especially

00:53:48,960 --> 00:53:54,480
uh especially the last slot of the con

00:53:52,400 --> 00:53:57,839
i i appreciate you sticking around and

00:53:54,480 --> 00:53:57,839

YouTube URL: https://www.youtube.com/watch?v=eQJDic5FJVY


