Title: Hacking live! A realtime look at website security   DrupalCon Global 2020
Publication date: 2020-08-25
Playlist: DrupalCon Global 2020
Description: 
	Let's go through common Drupal vulnerabilities with realtime hack to learn what they are and how we can leverage core APIs to prevent them.
Captions: 
	00:00:00,000 --> 00:00:05,600
49 wow that's uh it's still going up

00:00:05,759 --> 00:00:08,960
so well uh we'll go ahead and get

00:00:07,440 --> 00:00:10,880
started here because uh

00:00:08,960 --> 00:00:12,080
we've got a good number of folks here

00:00:10,880 --> 00:00:12,960
we're going to go through some some

00:00:12,080 --> 00:00:14,160
hacking here

00:00:12,960 --> 00:00:16,160
and i'm sure there's going to be

00:00:14,160 --> 00:00:17,440
questions i'll be uh watching the chat

00:00:16,160 --> 00:00:18,800
as i go and hopefully not get too

00:00:17,440 --> 00:00:22,000
distracted by it

00:00:18,800 --> 00:00:24,880
um but want to make sure that

00:00:22,000 --> 00:00:25,840
um we we take a moment here at the

00:00:24,880 --> 00:00:29,039
beginning

00:00:25,840 --> 00:00:30,640
um to acknowledge something okay we've

00:00:29,039 --> 00:00:34,079
all been hacked everyone has

00:00:30,640 --> 00:00:36,000
um i myself have um all the best

00:00:34,079 --> 00:00:37,680
uh cyber security experts have no one

00:00:36,000 --> 00:00:40,800
can claim to never be hacked

00:00:37,680 --> 00:00:44,079
um however how many of us

00:00:40,800 --> 00:00:47,840
actually know how we've been hacked now

00:00:44,079 --> 00:00:48,640
getting to know a um getting to know the

00:00:47,840 --> 00:00:50,800
why

00:00:48,640 --> 00:00:51,920
is going to or getting to know the how

00:00:50,800 --> 00:00:54,559
and the why

00:00:51,920 --> 00:00:56,399
is going to what uh allows us to get to

00:00:54,559 --> 00:00:58,719
um how to prevent it and so

00:00:56,399 --> 00:00:59,920
in order to prevent a hack we need to

00:00:58,719 --> 00:01:03,120
start thinking

00:00:59,920 --> 00:01:06,240
like a hacker um and so

00:01:03,120 --> 00:01:07,600
i i unfortunately my uh my facetime

00:01:06,240 --> 00:01:08,240
video is doing this backwards here but

00:01:07,600 --> 00:01:10,640
if you can

00:01:08,240 --> 00:01:13,119
read backwards really quickly um i like

00:01:10,640 --> 00:01:14,960
to do this with a a theme that that's

00:01:13,119 --> 00:01:17,600
near and dear to a lot of our hearts

00:01:14,960 --> 00:01:19,360
and so um for now and for the rest of

00:01:17,600 --> 00:01:22,640
this we're gonna take the position of

00:01:19,360 --> 00:01:26,000
of being uh part of the empire and

00:01:22,640 --> 00:01:27,920
um and and start to uh

00:01:26,000 --> 00:01:29,520
and start to look at what uh what was

00:01:27,920 --> 00:01:31,759
going on in the empire so

00:01:29,520 --> 00:01:32,560
um imagine you have a website that you

00:01:31,759 --> 00:01:35,439
have built

00:01:32,560 --> 00:01:36,720
um that your your goal is um that

00:01:35,439 --> 00:01:37,680
someday it's just gonna conquer the

00:01:36,720 --> 00:01:40,720
galaxy

00:01:37,680 --> 00:01:42,560
um initial launch was a great success

00:01:40,720 --> 00:01:44,159
uh it did exactly what you wanted it to

00:01:42,560 --> 00:01:46,799
do uh however

00:01:44,159 --> 00:01:48,479
there's some bad actors out there and

00:01:46,799 --> 00:01:50,240
they are plotting to take this entire

00:01:48,479 --> 00:01:54,479
thing down offline

00:01:50,240 --> 00:01:56,719
now with one small hole in your defenses

00:01:54,479 --> 00:01:58,000
the entire thing can be destroyed right

00:01:56,719 --> 00:01:58,799
everything that you've worked for is

00:01:58,000 --> 00:02:02,079
gone

00:01:58,799 --> 00:02:03,759
um now luckily and and if you've watched

00:02:02,079 --> 00:02:05,600
the movies you know that drupal's

00:02:03,759 --> 00:02:07,759
defenses are updated and we're

00:02:05,600 --> 00:02:09,200
um in a better position and we can now

00:02:07,759 --> 00:02:10,399
you know blow up multiple planets at the

00:02:09,200 --> 00:02:13,760
same time

00:02:10,399 --> 00:02:16,640
however the rebels are smart um but

00:02:13,760 --> 00:02:17,760
their ways are consistent and so um

00:02:16,640 --> 00:02:20,400
through

00:02:17,760 --> 00:02:20,959
holes in the plot and uh through

00:02:20,400 --> 00:02:23,599
patterns

00:02:20,959 --> 00:02:25,120
in their attacks we can learn about uh

00:02:23,599 --> 00:02:27,040
how folks are getting hacked and what it

00:02:25,120 --> 00:02:31,120
means so

00:02:27,040 --> 00:02:31,120
for this uh if everyone can head to

00:02:31,560 --> 00:02:36,000
internal.deathstarsecurity.com

00:02:32,879 --> 00:02:37,599
um there's going to be

00:02:36,000 --> 00:02:38,800
unfortunately normally when i'm doing

00:02:37,599 --> 00:02:39,120
this in front of a crowd we're going to

00:02:38,800 --> 00:02:41,120
have

00:02:39,120 --> 00:02:42,560
a live hacking and the most nervous part

00:02:41,120 --> 00:02:44,080
for me is that there is

00:02:42,560 --> 00:02:45,760
live demos that i'm actually pulling up

00:02:44,080 --> 00:02:46,879
my browser and doing that with

00:02:45,760 --> 00:02:49,519
but with this we're not going to be

00:02:46,879 --> 00:02:51,200
doing that no it's not a url trap you

00:02:49,519 --> 00:02:54,640
guys are all safe to go there

00:02:51,200 --> 00:02:55,920
um for now um but

00:02:54,640 --> 00:02:57,599
what we're going to look at with that

00:02:55,920 --> 00:02:58,959
site are some really really really

00:02:57,599 --> 00:03:00,319
poorly written modules but we're going

00:02:58,959 --> 00:03:02,319
to look at why they were poorly written

00:03:00,319 --> 00:03:03,599
and what the effect of those are

00:03:02,319 --> 00:03:05,360
so while everyone's heading there i'll

00:03:03,599 --> 00:03:07,040
introduce myself really quick my name is

00:03:05,360 --> 00:03:08,239
chris teitzel i'm the founder of locker

00:03:07,040 --> 00:03:09,760
and seller door

00:03:08,239 --> 00:03:11,760
uh i've been fortunate enough to work

00:03:09,760 --> 00:03:14,239
with startups um

00:03:11,760 --> 00:03:16,000
of all sizes or startups all the way up

00:03:14,239 --> 00:03:17,920
to fortune 100 companies

00:03:16,000 --> 00:03:21,280
i've been working in open source for

00:03:17,920 --> 00:03:23,920
over a decade drupal since uh 2009

00:03:21,280 --> 00:03:25,280
a lifetime hacker and then uh recently

00:03:23,920 --> 00:03:26,560
was appointed to

00:03:25,280 --> 00:03:28,159
the department of homeland security's

00:03:26,560 --> 00:03:30,080
data privacy and integrity advisory

00:03:28,159 --> 00:03:31,599
committee it's a mouthful but

00:03:30,080 --> 00:03:33,120
working with the department on privacy

00:03:31,599 --> 00:03:35,920
issues and and helping

00:03:33,120 --> 00:03:37,519
uh to figure out ways that the uh the

00:03:35,920 --> 00:03:39,120
department of homeland security can uh

00:03:37,519 --> 00:03:41,519
protect the privacy of not only their

00:03:39,120 --> 00:03:43,360
employees but also the public as well

00:03:41,519 --> 00:03:45,840
so what we're gonna look at here is a

00:03:43,360 --> 00:03:48,879
few uh modules that were written by

00:03:45,840 --> 00:03:51,200
this um death star security

00:03:48,879 --> 00:03:53,280
and so um the first one is called

00:03:51,200 --> 00:03:54,879
stormtrooper customer targeting

00:03:53,280 --> 00:03:56,239
um and what stormtrooper customer

00:03:54,879 --> 00:03:57,439
targeting is going to do is going to

00:03:56,239 --> 00:03:58,400
allow you to never miss a customer

00:03:57,439 --> 00:04:00,640
because we're going to track them all

00:03:58,400 --> 00:04:02,319
we're going to put ids on everything

00:04:00,640 --> 00:04:03,840
and we're going to be able to watch them

00:04:02,319 --> 00:04:07,519
go through the site

00:04:03,840 --> 00:04:12,560
so how exactly does this module

00:04:07,519 --> 00:04:15,439
miss the mark well we've got a demo here

00:04:12,560 --> 00:04:16,000
and so if you go to the login page right

00:04:15,439 --> 00:04:18,959
now

00:04:16,000 --> 00:04:20,400
uh you will likely see that there's some

00:04:18,959 --> 00:04:21,199
shaking going on and if you have your

00:04:20,400 --> 00:04:23,120
sound up

00:04:21,199 --> 00:04:24,400
um you're gonna be hearing some some

00:04:23,120 --> 00:04:27,199
familiar um

00:04:24,400 --> 00:04:28,160
tunes playing but this is a fun script

00:04:27,199 --> 00:04:32,000
to show

00:04:28,160 --> 00:04:33,759
um what is a

00:04:32,000 --> 00:04:35,040
cross-site scripting and so cross-site

00:04:33,759 --> 00:04:40,479
scripting is

00:04:35,040 --> 00:04:44,160
um what uh you can't hear me now

00:04:40,479 --> 00:04:44,160
are we having some audio problems

00:04:44,639 --> 00:04:48,400
okay good uh somebody posted in the chat

00:04:47,120 --> 00:04:51,840
that they carry me there so

00:04:48,400 --> 00:04:54,080
um awesome so if you notice that uh that

00:04:51,840 --> 00:04:55,040
was an example of the the music yeah

00:04:54,080 --> 00:04:56,000
you're not gonna be able to hear the

00:04:55,040 --> 00:04:59,199
music because it's not

00:04:56,000 --> 00:05:01,840
playing through the audio here um

00:04:59,199 --> 00:05:02,320
so if you if you look at what's going on

00:05:01,840 --> 00:05:04,320
here

00:05:02,320 --> 00:05:05,360
um this is the code that's running in

00:05:04,320 --> 00:05:07,440
the background

00:05:05,360 --> 00:05:08,639
and we trusted our users that was what

00:05:07,440 --> 00:05:11,199
went wrong in

00:05:08,639 --> 00:05:13,600
in in doing so we said hey whatever is

00:05:11,199 --> 00:05:16,880
in the tracking id and the get request

00:05:13,600 --> 00:05:19,199
um just put that into a variable

00:05:16,880 --> 00:05:20,639
and then when we go to our template

00:05:19,199 --> 00:05:21,759
we're just going to take that variable

00:05:20,639 --> 00:05:24,960
and put it into a

00:05:21,759 --> 00:05:26,400
hidden input so that way when they

00:05:24,960 --> 00:05:28,160
when they submit that form we'll be able

00:05:26,400 --> 00:05:30,320
to track them and see what's going on

00:05:28,160 --> 00:05:31,600
but inherent trust and user input is

00:05:30,320 --> 00:05:33,199
dangerous and it's what leads to

00:05:31,600 --> 00:05:34,960
cross-site scripting

00:05:33,199 --> 00:05:36,240
and so cross-site scripting if you don't

00:05:34,960 --> 00:05:39,600
know

00:05:36,240 --> 00:05:42,400
is when somebody is um given the ability

00:05:39,600 --> 00:05:44,479
to allow arbitrary or remote javascript

00:05:42,400 --> 00:05:45,840
to run in your browser and in this case

00:05:44,479 --> 00:05:47,680
it's a remote javascript that i've

00:05:45,840 --> 00:05:50,160
hosted somewhere else

00:05:47,680 --> 00:05:51,199
that by implanting that uh link in the

00:05:50,160 --> 00:05:53,680
right way

00:05:51,199 --> 00:05:55,120
um in that in the get string properly

00:05:53,680 --> 00:05:58,319
i'm able to inject my

00:05:55,120 --> 00:05:58,639
um javascript and and right now it's

00:05:58,319 --> 00:06:00,400
just

00:05:58,639 --> 00:06:02,000
probably playing some music and making

00:06:00,400 --> 00:06:04,479
your screen go crazy on you

00:06:02,000 --> 00:06:05,680
however uh if you're doing it

00:06:04,479 --> 00:06:07,919
nefariously

00:06:05,680 --> 00:06:09,280
on a something like a log out or a login

00:06:07,919 --> 00:06:10,880
form like that

00:06:09,280 --> 00:06:13,039
i can do key logging and grab your

00:06:10,880 --> 00:06:16,160
passwords i can do

00:06:13,039 --> 00:06:17,840
a whole bunch of stuff that's just

00:06:16,160 --> 00:06:19,360
you know completely nefarious but i can

00:06:17,840 --> 00:06:20,720
control your browser i can control

00:06:19,360 --> 00:06:21,759
everything that goes on in the browser

00:06:20,720 --> 00:06:23,840
all the javascript

00:06:21,759 --> 00:06:27,759
all the html anything you see anything

00:06:23,840 --> 00:06:31,120
you do i'm in complete control of it so

00:06:27,759 --> 00:06:33,600
of course i can exfiltrate data i can

00:06:31,120 --> 00:06:35,600
key log i can look at cookies if you're

00:06:33,600 --> 00:06:38,080
setting your cookies wrong

00:06:35,600 --> 00:06:39,759
or you're not using secure cookies then

00:06:38,080 --> 00:06:41,680
i can look at the data inside of those

00:06:39,759 --> 00:06:42,960
cookies all through that javascript and

00:06:41,680 --> 00:06:44,479
it can get really nefarious really

00:06:42,960 --> 00:06:44,880
quickly and this is actually one of the

00:06:44,479 --> 00:06:48,880
more

00:06:44,880 --> 00:06:52,639
common security patches that you'll see

00:06:48,880 --> 00:06:55,479
on drupal.org and so when uh when folks

00:06:52,639 --> 00:06:57,120
are looking at uh security.um or

00:06:55,479 --> 00:06:58,319
drupal.org

00:06:57,120 --> 00:06:59,520
security and they're going through all

00:06:58,319 --> 00:07:01,199
the security releases you're gonna see

00:06:59,520 --> 00:07:05,599
cross-site scripting as being

00:07:01,199 --> 00:07:07,360
a number one uh or one of the top um

00:07:05,599 --> 00:07:09,280
attacks that are going on there or

00:07:07,360 --> 00:07:12,160
patches that have to be put in

00:07:09,280 --> 00:07:14,400
and so that's because folks don't

00:07:12,160 --> 00:07:16,880
sanitize the user input when we say

00:07:14,400 --> 00:07:18,080
sanitize the user input we're saying

00:07:16,880 --> 00:07:20,880
when when somebody is

00:07:18,080 --> 00:07:22,400
is giving you input whether that's

00:07:20,880 --> 00:07:24,319
you're pulling it out of a get string or

00:07:22,400 --> 00:07:28,080
you're getting it from a post

00:07:24,319 --> 00:07:29,520
request on a form you're not sanitizing

00:07:28,080 --> 00:07:30,639
that input you're not running it through

00:07:29,520 --> 00:07:32,160
some filters to make sure there's

00:07:30,639 --> 00:07:35,599
nothing nefarious in there

00:07:32,160 --> 00:07:37,440
um and we're doing it because we trust

00:07:35,599 --> 00:07:38,639
people we inherently trust people

00:07:37,440 --> 00:07:40,800
and that's the number one thing you

00:07:38,639 --> 00:07:41,919
should learn uh if anything from here is

00:07:40,800 --> 00:07:43,840
just don't trust anyone

00:07:41,919 --> 00:07:45,280
don't trust the websites you go to uh

00:07:43,840 --> 00:07:46,319
don't trust the folks that are going to

00:07:45,280 --> 00:07:49,360
your website

00:07:46,319 --> 00:07:50,800
um because even if they're an admin even

00:07:49,360 --> 00:07:52,160
if they have certain privileges

00:07:50,800 --> 00:07:53,759
you don't know if the person who's

00:07:52,160 --> 00:07:54,400
submitting that form who's going to that

00:07:53,759 --> 00:07:57,520
page

00:07:54,400 --> 00:08:00,720
is actually an admin and so

00:07:57,520 --> 00:08:02,160
uh what can we do to prevent um

00:08:00,720 --> 00:08:04,479
what can we do to prevent cross-site

00:08:02,160 --> 00:08:06,720
scripting like this uh we can use

00:08:04,479 --> 00:08:07,599
some great uh functions that drupal has

00:08:06,720 --> 00:08:09,360
in its core

00:08:07,599 --> 00:08:10,800
uh for filtering and then also filter

00:08:09,360 --> 00:08:13,759
admin uh filter

00:08:10,800 --> 00:08:15,120
admin allows you to do um a little bit

00:08:13,759 --> 00:08:17,360
more html than

00:08:15,120 --> 00:08:19,599
than a regular filter will so it'll let

00:08:17,360 --> 00:08:19,919
more uh html through that filter but

00:08:19,599 --> 00:08:22,800
it'll

00:08:19,919 --> 00:08:23,280
it'll scrub it so that when it gets um

00:08:22,800 --> 00:08:25,759
uh

00:08:23,280 --> 00:08:26,800
out to the the the twig layer and into

00:08:25,759 --> 00:08:28,960
the template layer and

00:08:26,800 --> 00:08:29,840
eventually to the front end um you'll

00:08:28,960 --> 00:08:31,919
eventually

00:08:29,840 --> 00:08:33,360
uh sanitize all that and it'll look like

00:08:31,919 --> 00:08:34,719
a bunch of garbled junk but it actually

00:08:33,360 --> 00:08:36,800
won't run in the browser because it's

00:08:34,719 --> 00:08:40,080
not executable code

00:08:36,800 --> 00:08:42,399
um the other thing is don't use

00:08:40,080 --> 00:08:44,560
or use the form api wherever you're at

00:08:42,399 --> 00:08:46,800
use the form api because the form api

00:08:44,560 --> 00:08:48,720
provides cross-site scripting cleanup on

00:08:46,800 --> 00:08:51,040
output by default

00:08:48,720 --> 00:08:53,040
um not every cms does this and one of

00:08:51,040 --> 00:08:56,399
the things that i love about drupal

00:08:53,040 --> 00:08:57,120
is our intricate form api allows us to

00:08:56,399 --> 00:08:59,200
do

00:08:57,120 --> 00:09:01,360
um all sorts of fun things but it's very

00:08:59,200 --> 00:09:03,680
very safe it has non-sing to prevent

00:09:01,360 --> 00:09:05,120
uh cross-site request forgeries um which

00:09:03,680 --> 00:09:06,399
we won't be getting into in this session

00:09:05,120 --> 00:09:09,200
but we'll

00:09:06,399 --> 00:09:11,200
we can talk about those later uh but the

00:09:09,200 --> 00:09:13,760
form api is very very

00:09:11,200 --> 00:09:14,399
uh secure and it's also very powerful so

00:09:13,760 --> 00:09:17,600
so if you

00:09:14,399 --> 00:09:20,160
ever ever want um to create a form don't

00:09:17,600 --> 00:09:21,839
try doing it on your own use form api

00:09:20,160 --> 00:09:23,360
and then as someone has pointed out

00:09:21,839 --> 00:09:26,240
already uh

00:09:23,360 --> 00:09:26,720
don't ever use the raw filter in twig um

00:09:26,240 --> 00:09:29,519
twig

00:09:26,720 --> 00:09:30,959
and one of the reasons why we as a as a

00:09:29,519 --> 00:09:32,800
project move to twig

00:09:30,959 --> 00:09:34,399
is that it's much more secure than just

00:09:32,800 --> 00:09:36,959
raw php templates

00:09:34,399 --> 00:09:38,240
and so it doesn't let you um you have to

00:09:36,959 --> 00:09:39,279
oh let's put it this way you have to

00:09:38,240 --> 00:09:40,880
force yourself

00:09:39,279 --> 00:09:43,040
into a situation where you're you're

00:09:40,880 --> 00:09:44,320
outputting uh unsanitized text and

00:09:43,040 --> 00:09:46,320
that's because

00:09:44,320 --> 00:09:48,240
twig will auto escape all the all the

00:09:46,320 --> 00:09:51,200
strings for you so if you

00:09:48,240 --> 00:09:52,080
even if you um are mistakenly putting it

00:09:51,200 --> 00:09:54,880
somewhere

00:09:52,080 --> 00:09:56,080
uh and and or saving it or somebody is

00:09:54,880 --> 00:09:57,600
able to get it in

00:09:56,080 --> 00:09:59,760
if it's running through twig twig will

00:09:57,600 --> 00:10:01,279
escape it for you so unless you put that

00:09:59,760 --> 00:10:02,000
raw filter on there and someone pointed

00:10:01,279 --> 00:10:04,399
out earlier

00:10:02,000 --> 00:10:06,079
uh yes that that was using uh the the

00:10:04,399 --> 00:10:08,480
raw filter and twig

00:10:06,079 --> 00:10:10,560
now what's also interesting about um

00:10:08,480 --> 00:10:12,560
that uh hack in particular is

00:10:10,560 --> 00:10:14,000
the reason why i'm able to get all of

00:10:12,560 --> 00:10:16,399
you to go to that

00:10:14,000 --> 00:10:17,680
and you're all um now we'll have the

00:10:16,399 --> 00:10:18,720
harlem shake in your head for the rest

00:10:17,680 --> 00:10:21,279
of the day

00:10:18,720 --> 00:10:22,399
is because of what's called stored

00:10:21,279 --> 00:10:24,160
cross-site scripting

00:10:22,399 --> 00:10:25,360
and so storage cross-site scripting and

00:10:24,160 --> 00:10:27,120
this was actually kind of a fun thing i

00:10:25,360 --> 00:10:30,240
learned in setting up this demo

00:10:27,120 --> 00:10:32,320
um is that that user login form

00:10:30,240 --> 00:10:34,079
is cached so it's not actually getting

00:10:32,320 --> 00:10:35,680
stored in the database which is a common

00:10:34,079 --> 00:10:36,640
form of stored cross-site scripting

00:10:35,680 --> 00:10:39,200
where

00:10:36,640 --> 00:10:41,200
i can inject something into a customer

00:10:39,200 --> 00:10:42,240
form in e-commerce or something like

00:10:41,200 --> 00:10:44,880
that and then i can

00:10:42,240 --> 00:10:46,000
get the admins to um click on something

00:10:44,880 --> 00:10:48,399
that has cross-site scripting

00:10:46,000 --> 00:10:49,120
no what i did here was i actually went

00:10:48,399 --> 00:10:51,600
to

00:10:49,120 --> 00:10:52,640
uh the site with that uh injected my

00:10:51,600 --> 00:10:55,519
payload

00:10:52,640 --> 00:10:56,160
into the the get string let it all go

00:10:55,519 --> 00:10:59,279
through

00:10:56,160 --> 00:11:01,760
packed myself but in doing so it cached

00:10:59,279 --> 00:11:03,760
my hack my cross-site scripting and by

00:11:01,760 --> 00:11:06,240
caching that that's how i can then

00:11:03,760 --> 00:11:07,920
store it in their caches and and release

00:11:06,240 --> 00:11:10,560
it upon everybody else and so

00:11:07,920 --> 00:11:11,200
um you have to be very careful that it's

00:11:10,560 --> 00:11:12,880
not just

00:11:11,200 --> 00:11:15,360
what's called reflective or i'm just

00:11:12,880 --> 00:11:17,760
going to inject it in with a bad url

00:11:15,360 --> 00:11:19,279
it can also be stored not just in your

00:11:17,760 --> 00:11:20,399
database but also in your caching layer

00:11:19,279 --> 00:11:21,440
so make sure that you're really

00:11:20,399 --> 00:11:22,880
sanitizing

00:11:21,440 --> 00:11:25,839
that output that's going to the front

00:11:22,880 --> 00:11:29,120
end in order to make sure that you don't

00:11:25,839 --> 00:11:30,640
inadvertently affect folks so next we're

00:11:29,120 --> 00:11:33,360
going to look at

00:11:30,640 --> 00:11:35,440
a module called droid scanner and this

00:11:33,360 --> 00:11:38,560
is going to

00:11:35,440 --> 00:11:40,079
um this is going to be pretty fun

00:11:38,560 --> 00:11:41,920
it simulates something that i've run

00:11:40,079 --> 00:11:43,360
into in the real world but it's really

00:11:41,920 --> 00:11:44,800
just kind of bad code and you would

00:11:43,360 --> 00:11:46,079
never write this code but you'll see

00:11:44,800 --> 00:11:48,320
what the simulation is

00:11:46,079 --> 00:11:49,680
uh but the idea here is that we have a

00:11:48,320 --> 00:11:52,800
forum on the site

00:11:49,680 --> 00:11:54,000
um which is the search form uh there if

00:11:52,800 --> 00:11:55,279
you're if you're on the site now you'll

00:11:54,000 --> 00:11:57,120
see the search form that lets you search

00:11:55,279 --> 00:11:59,680
through the nodes there

00:11:57,120 --> 00:12:00,160
and that search form goes off and does

00:11:59,680 --> 00:12:02,399
some

00:12:00,160 --> 00:12:04,560
some various things and so what you have

00:12:02,399 --> 00:12:06,079
to ask yourself is what harm can a few

00:12:04,560 --> 00:12:07,519
droids really do

00:12:06,079 --> 00:12:09,279
well in reality what we're not dealing

00:12:07,519 --> 00:12:10,320
with on the web is just a few droids or

00:12:09,279 --> 00:12:14,000
a few bots

00:12:10,320 --> 00:12:17,680
uh what we're dealing with is is a army

00:12:14,000 --> 00:12:21,360
of bots and an army of um

00:12:17,680 --> 00:12:24,800
everything that's going to um

00:12:21,360 --> 00:12:26,240
and we're um we're dealing with armies

00:12:24,800 --> 00:12:28,320
and armies and armies layers upon layers

00:12:26,240 --> 00:12:30,000
upon layers of ddos attacks

00:12:28,320 --> 00:12:31,120
and so if you notice here in the demo

00:12:30,000 --> 00:12:33,279
i'm going to go up and i'm going to do a

00:12:31,120 --> 00:12:36,480
search for my favorite droid

00:12:33,279 --> 00:12:38,639
r2d2 and i'll hit

00:12:36,480 --> 00:12:39,760
i'll hit search and then it's gonna take

00:12:38,639 --> 00:12:43,040
a while right

00:12:39,760 --> 00:12:43,920
um it's gonna take you know five or six

00:12:43,040 --> 00:12:46,720
seconds

00:12:43,920 --> 00:12:47,920
which is just bad performance in general

00:12:46,720 --> 00:12:48,959
but it's going to take a little bit to

00:12:47,920 --> 00:12:51,440
do that now

00:12:48,959 --> 00:12:53,279
if you look at the code behind that um

00:12:51,440 --> 00:12:56,240
all i'm doing is i'm injecting just

00:12:53,279 --> 00:12:57,680
sleep for five seconds in the php um

00:12:56,240 --> 00:12:59,519
that's just not

00:12:57,680 --> 00:13:00,720
um anything somebody would would

00:12:59,519 --> 00:13:03,120
realistically do

00:13:00,720 --> 00:13:03,839
however if i can find a slow function on

00:13:03,120 --> 00:13:05,519
your site

00:13:03,839 --> 00:13:08,000
i can do what's called a ddos attack and

00:13:05,519 --> 00:13:09,680
that's a distributed denial of service

00:13:08,000 --> 00:13:11,360
and so a distributed denial of service

00:13:09,680 --> 00:13:12,079
or a ddos attack you'll start hearing of

00:13:11,360 --> 00:13:14,240
these

00:13:12,079 --> 00:13:15,440
uh and they go around quite often it

00:13:14,240 --> 00:13:17,360
used to be something

00:13:15,440 --> 00:13:19,839
that um you could get a you know a

00:13:17,360 --> 00:13:21,040
couple thousand

00:13:19,839 --> 00:13:23,279
folks who have malware on their

00:13:21,040 --> 00:13:24,320
computers to

00:13:23,279 --> 00:13:26,079
wake up in the middle of the night and

00:13:24,320 --> 00:13:28,160
you're going to go crash a website and

00:13:26,079 --> 00:13:29,040
so hacking doesn't necessarily have to

00:13:28,160 --> 00:13:31,519
be

00:13:29,040 --> 00:13:34,160
defacing a website or taking data out of

00:13:31,519 --> 00:13:35,920
it if i can take your website offline

00:13:34,160 --> 00:13:37,920
i can cause just as much mischief or

00:13:35,920 --> 00:13:39,760
just as much harm as anything else

00:13:37,920 --> 00:13:41,519
and so ddos attacks are starting to get

00:13:39,760 --> 00:13:43,920
more and more um prolific and they're

00:13:41,519 --> 00:13:46,959
also starting to get larger because

00:13:43,920 --> 00:13:48,000
frankly we have more things online one

00:13:46,959 --> 00:13:50,240
of the things that um

00:13:48,000 --> 00:13:51,519
is kind of a latent concern in the cyber

00:13:50,240 --> 00:13:54,560
security community

00:13:51,519 --> 00:13:56,959
is iot and the broad distribution

00:13:54,560 --> 00:13:58,639
of these uh online and connected devices

00:13:56,959 --> 00:14:01,120
from watches to

00:13:58,639 --> 00:14:02,240
uh refrigerators to toasters microwaves

00:14:01,120 --> 00:14:03,920
whatever they may be

00:14:02,240 --> 00:14:05,680
if they're all online they're all

00:14:03,920 --> 00:14:09,120
capable of being hacked and then they're

00:14:05,680 --> 00:14:10,720
capable of being turned into

00:14:09,120 --> 00:14:12,320
a point where we're just going to go in

00:14:10,720 --> 00:14:13,760
a request and request and request that

00:14:12,320 --> 00:14:16,480
slow function

00:14:13,760 --> 00:14:18,079
now why would we have a slow function

00:14:16,480 --> 00:14:19,680
like that well sometimes it's just

00:14:18,079 --> 00:14:20,880
submitting a form and if we submit a

00:14:19,680 --> 00:14:22,320
form over and over and over and over

00:14:20,880 --> 00:14:23,760
again we're going to flood the website

00:14:22,320 --> 00:14:24,320
we're going to take down the processing

00:14:23,760 --> 00:14:25,760
power

00:14:24,320 --> 00:14:27,600
and eventually just take it offline and

00:14:25,760 --> 00:14:29,440
crash the servers

00:14:27,600 --> 00:14:31,839
but more often than not what we're going

00:14:29,440 --> 00:14:33,920
to see is that slow functions

00:14:31,839 --> 00:14:36,480
um that you're going to want to do when

00:14:33,920 --> 00:14:38,480
i submit a form

00:14:36,480 --> 00:14:39,760
will end up slowing down the site enough

00:14:38,480 --> 00:14:43,120
of us that

00:14:39,760 --> 00:14:44,480
um enough of us hitting that form

00:14:43,120 --> 00:14:46,160
we'll take it offline or hitting that

00:14:44,480 --> 00:14:47,760
function we'll take it offline uh

00:14:46,160 --> 00:14:49,360
somebody's asking right now uh there's

00:14:47,760 --> 00:14:52,079
300 of us should we flood it

00:14:49,360 --> 00:14:52,720
go for it um we're on pantheon and they

00:14:52,079 --> 00:14:54,399
are

00:14:52,720 --> 00:14:56,839
more than able to handle that that type

00:14:54,399 --> 00:15:00,079
of load but um

00:14:56,839 --> 00:15:02,399
if um if we look at this function here

00:15:00,079 --> 00:15:03,920
and we're looking at why somebody would

00:15:02,399 --> 00:15:06,000
have a slow function

00:15:03,920 --> 00:15:07,600
um i think back to a project that i did

00:15:06,000 --> 00:15:10,160
where i ran

00:15:07,600 --> 00:15:10,839
a um a website that was an e-commerce

00:15:10,160 --> 00:15:14,160
website

00:15:10,839 --> 00:15:16,880
for african um

00:15:14,160 --> 00:15:18,399
uh airline ticket sales and so when

00:15:16,880 --> 00:15:19,519
somebody would go into the website they

00:15:18,399 --> 00:15:21,120
would they would search

00:15:19,519 --> 00:15:22,720
and that search would have to go to a

00:15:21,120 --> 00:15:26,079
reservation system

00:15:22,720 --> 00:15:27,680
and uh grab the the um

00:15:26,079 --> 00:15:29,279
requested date and time and all the

00:15:27,680 --> 00:15:30,399
flights and come back and then it would

00:15:29,279 --> 00:15:31,519
have to go back and forth and back and

00:15:30,399 --> 00:15:33,040
forth and all these things and it was a

00:15:31,519 --> 00:15:34,720
very very slow process and what was the

00:15:33,040 --> 00:15:38,000
slowest process of all

00:15:34,720 --> 00:15:39,519
was once i submitted my payment normally

00:15:38,000 --> 00:15:41,040
you want to be able to say okay i want

00:15:39,519 --> 00:15:42,240
to reserve that seat right now

00:15:41,040 --> 00:15:44,959
because i don't want anyone else getting

00:15:42,240 --> 00:15:47,920
that seat however that process took

00:15:44,959 --> 00:15:49,120
seconds upon seconds to do and if we had

00:15:47,920 --> 00:15:51,759
thousands of people

00:15:49,120 --> 00:15:53,199
concurrently doing that all going

00:15:51,759 --> 00:15:54,639
through those processes we would just

00:15:53,199 --> 00:15:55,279
tank all of our servers and so one of

00:15:54,639 --> 00:15:57,279
the things that i

00:15:55,279 --> 00:15:59,360
recommend to folks is take those slow

00:15:57,279 --> 00:16:02,320
functions that you may have

00:15:59,360 --> 00:16:03,839
whether it be in e-commerce or it be any

00:16:02,320 --> 00:16:04,959
type of checking even if it's log

00:16:03,839 --> 00:16:07,040
checking

00:16:04,959 --> 00:16:08,560
to look for cyber security attacks move

00:16:07,040 --> 00:16:10,639
those to asynchronous processes and

00:16:08,560 --> 00:16:12,240
asynchronous cues that can then be run

00:16:10,639 --> 00:16:14,240
um what we did on that side is we just

00:16:12,240 --> 00:16:16,320
ran a cron every five minutes

00:16:14,240 --> 00:16:17,279
and and ran through that and and cleared

00:16:16,320 --> 00:16:19,199
out the queue

00:16:17,279 --> 00:16:20,880
and so by doing that by moving things

00:16:19,199 --> 00:16:23,680
asynchronously to the user

00:16:20,880 --> 00:16:25,680
they're not able to trigger anything

00:16:23,680 --> 00:16:27,120
that is going to slow the site down

00:16:25,680 --> 00:16:29,120
because if one person can hit it and

00:16:27,120 --> 00:16:31,440
slow the site down a thousand people

00:16:29,120 --> 00:16:34,160
100 000 people a million a hundred

00:16:31,440 --> 00:16:36,399
million bots they can all do that so

00:16:34,160 --> 00:16:37,600
um so that's the that's the the ddos

00:16:36,399 --> 00:16:38,959
attack and when we're

00:16:37,600 --> 00:16:41,519
when we're looking at that we're looking

00:16:38,959 --> 00:16:43,600
at terabytes upon terabytes a second

00:16:41,519 --> 00:16:44,639
being poured into some of these nodes uh

00:16:43,600 --> 00:16:47,440
and into some of these

00:16:44,639 --> 00:16:48,160
websites and no server can handle that

00:16:47,440 --> 00:16:50,880
and so

00:16:48,160 --> 00:16:53,040
um this is why you use a cdn as well

00:16:50,880 --> 00:16:55,519
because a cdn will distribute

00:16:53,040 --> 00:16:56,720
um all of your your site files and

00:16:55,519 --> 00:16:58,560
everything

00:16:56,720 --> 00:17:00,800
across the world so if a ddos is coming

00:16:58,560 --> 00:17:03,120
out of um say it's coming out of europe

00:17:00,800 --> 00:17:05,600
or south america or the us or southeast

00:17:03,120 --> 00:17:07,280
asia it's going to take down the most

00:17:05,600 --> 00:17:08,640
local node to wherever that's at but

00:17:07,280 --> 00:17:11,839
it's not going to take down the rest of

00:17:08,640 --> 00:17:11,839
the site for all your users

00:17:12,240 --> 00:17:15,919
last we're going to look at something

00:17:13,520 --> 00:17:19,439
called exhaust port seo

00:17:15,919 --> 00:17:20,319
this is a module that is going to allow

00:17:19,439 --> 00:17:22,480
us

00:17:20,319 --> 00:17:23,679
to really look and dive into the seo of

00:17:22,480 --> 00:17:25,520
our website make sure that our

00:17:23,679 --> 00:17:26,799
our articles are lining up with where

00:17:25,520 --> 00:17:29,840
they should be

00:17:26,799 --> 00:17:30,799
and of course make our site explode with

00:17:29,840 --> 00:17:33,440
traffic

00:17:30,799 --> 00:17:34,880
and so when we look at this if you're on

00:17:33,440 --> 00:17:37,120
the site right now this is what you're

00:17:34,880 --> 00:17:40,559
seeing right now you can scroll through

00:17:37,120 --> 00:17:41,280
you can see some of the various articles

00:17:40,559 --> 00:17:43,600
that

00:17:41,280 --> 00:17:44,480
have been published there and and have

00:17:43,600 --> 00:17:46,640
fun with those

00:17:44,480 --> 00:17:49,039
however if you know the right url and

00:17:46,640 --> 00:17:51,039
you type in the right url

00:17:49,039 --> 00:17:52,240
you can get to a different list and if

00:17:51,039 --> 00:17:56,559
you notice what the url

00:17:52,240 --> 00:17:59,280
is it's admin content exhaust port seo

00:17:56,559 --> 00:18:01,360
and that looks like the same list of

00:17:59,280 --> 00:18:03,840
articles that we were running for that

00:18:01,360 --> 00:18:04,880
for that admin user however all the way

00:18:03,840 --> 00:18:07,600
down at the bottom

00:18:04,880 --> 00:18:09,039
you'll see that we have a new post and

00:18:07,600 --> 00:18:11,120
that new post

00:18:09,039 --> 00:18:12,400
unfortunately is that death star

00:18:11,120 --> 00:18:13,120
security is going out of business

00:18:12,400 --> 00:18:15,760
because

00:18:13,120 --> 00:18:17,440
frankly we can't make good modules so um

00:18:15,760 --> 00:18:19,760
what's going on there

00:18:17,440 --> 00:18:21,039
well access bypass in addition to

00:18:19,760 --> 00:18:22,160
cross-site scripting is one of the more

00:18:21,039 --> 00:18:24,240
common ones

00:18:22,160 --> 00:18:25,360
um or more one of the more common issues

00:18:24,240 --> 00:18:27,919
that are seen in

00:18:25,360 --> 00:18:30,240
not only the drupal ecosystem but then

00:18:27,919 --> 00:18:33,440
also broader across the web

00:18:30,240 --> 00:18:33,840
and so if i'm creating these lists and

00:18:33,440 --> 00:18:36,720
these

00:18:33,840 --> 00:18:38,559
admin pathways i can still set the

00:18:36,720 --> 00:18:41,039
permissions wrong on them

00:18:38,559 --> 00:18:42,160
to say hey if you can access content you

00:18:41,039 --> 00:18:44,400
can go to this page

00:18:42,160 --> 00:18:45,520
well your first reaction is going to be

00:18:44,400 --> 00:18:47,360
well no one's going to put access

00:18:45,520 --> 00:18:51,679
content in there right

00:18:47,360 --> 00:18:53,600
the access bypass issues that we see

00:18:51,679 --> 00:18:55,600
are actually a bit more layered than

00:18:53,600 --> 00:19:00,080
that so if i'm going to a page that just

00:18:55,600 --> 00:19:03,360
prints out all the titles of every

00:19:00,080 --> 00:19:07,840
um yes it was copy and paste

00:19:03,360 --> 00:19:10,880
a demo code for sure but if

00:19:07,840 --> 00:19:13,840
if you're looking at what's going on

00:19:10,880 --> 00:19:15,520
inside that function the inside that

00:19:13,840 --> 00:19:17,120
function is going to be

00:19:15,520 --> 00:19:19,520
uh we're pulling all the titles and

00:19:17,120 --> 00:19:20,640
we're going to display them out to the

00:19:19,520 --> 00:19:22,640
we're going to display them out to the

00:19:20,640 --> 00:19:24,799
screen now that

00:19:22,640 --> 00:19:26,160
by itself it could be a very useful

00:19:24,799 --> 00:19:27,520
thing especially if i'm doing seo and

00:19:26,160 --> 00:19:29,840
i'm wanting to check through those

00:19:27,520 --> 00:19:30,960
but what i'm not checking is is the user

00:19:29,840 --> 00:19:32,960
able to see

00:19:30,960 --> 00:19:34,799
the nodes that i'm going to show them

00:19:32,960 --> 00:19:36,640
they may have my permission

00:19:34,799 --> 00:19:37,840
to see that page but they may not have

00:19:36,640 --> 00:19:38,720
the permission to see the nodes that

00:19:37,840 --> 00:19:40,480
they're supposed to

00:19:38,720 --> 00:19:41,840
so these access bypass a lot of the

00:19:40,480 --> 00:19:42,480
times means that i'm going to go to a

00:19:41,840 --> 00:19:43,760
page

00:19:42,480 --> 00:19:45,039
and i'm going to see something or i have

00:19:43,760 --> 00:19:46,480
the ability to see something that i

00:19:45,039 --> 00:19:47,840
shouldn't be able to see because of

00:19:46,480 --> 00:19:49,919
permissions that are elsewhere in the

00:19:47,840 --> 00:19:52,240
system and so

00:19:49,919 --> 00:19:53,600
again good clean code making sure you

00:19:52,240 --> 00:19:56,080
have your permissions

00:19:53,600 --> 00:19:56,720
in order is going to uh really really

00:19:56,080 --> 00:19:58,559
help that

00:19:56,720 --> 00:20:00,559
now a lot of the times you can look at

00:19:58,559 --> 00:20:00,880
that and say what's the big deal right

00:20:00,559 --> 00:20:02,240
how

00:20:00,880 --> 00:20:04,000
how bad is it going to be if somebody

00:20:02,240 --> 00:20:06,640
sees a couple of taxonomy terms they

00:20:04,000 --> 00:20:08,960
shouldn't right well

00:20:06,640 --> 00:20:11,039
it can get really bad really quickly um

00:20:08,960 --> 00:20:11,840
and so this is a great story and one

00:20:11,039 --> 00:20:15,039
that i use

00:20:11,840 --> 00:20:16,159
for this type of of attack very often

00:20:15,039 --> 00:20:18,480
is that there was an international

00:20:16,159 --> 00:20:20,240
hacking network that would

00:20:18,480 --> 00:20:21,600
go into some of the largest press

00:20:20,240 --> 00:20:23,600
release databases

00:20:21,600 --> 00:20:25,600
and look at their unpublished press

00:20:23,600 --> 00:20:27,600
releases that were queued up

00:20:25,600 --> 00:20:28,720
ready to go but not yet published to the

00:20:27,600 --> 00:20:30,000
open web

00:20:28,720 --> 00:20:31,919
and so what they would do is they would

00:20:30,000 --> 00:20:33,120
look at those press releases and could

00:20:31,919 --> 00:20:35,039
see

00:20:33,120 --> 00:20:36,480
oh this company just missed their

00:20:35,039 --> 00:20:39,600
earnings by 15

00:20:36,480 --> 00:20:42,320
or this company blew away all of the

00:20:39,600 --> 00:20:42,720
um all of the analysts and they're going

00:20:42,320 --> 00:20:44,720
to be

00:20:42,720 --> 00:20:46,720
skyrocketing tomorrow well they went and

00:20:44,720 --> 00:20:50,400
front ran the market

00:20:46,720 --> 00:20:52,080
and were able to um just print money out

00:20:50,400 --> 00:20:54,960
of out of the stock market uh to the

00:20:52,080 --> 00:20:57,760
tune of over 100 million dollars

00:20:54,960 --> 00:20:59,440
as some hackers do they were uh drinking

00:20:57,760 --> 00:21:01,520
in a russian bar they started

00:20:59,440 --> 00:21:02,880
bragging about it and one thing leads to

00:21:01,520 --> 00:21:05,600
another they're

00:21:02,880 --> 00:21:07,679
arrested and convicted of hacking and it

00:21:05,600 --> 00:21:11,280
was a large scheme around this

00:21:07,679 --> 00:21:12,000
but it all goes back to if i can access

00:21:11,280 --> 00:21:14,640
data that i

00:21:12,000 --> 00:21:15,600
shouldn't whether that be i have access

00:21:14,640 --> 00:21:18,559
to

00:21:15,600 --> 00:21:20,159
somebody's login or i have access to a

00:21:18,559 --> 00:21:22,320
lower level environment that i all of a

00:21:20,159 --> 00:21:23,840
sudden escalate

00:21:22,320 --> 00:21:26,720
those privilege escalations or those

00:21:23,840 --> 00:21:30,080
access bypasses can let me get to some

00:21:26,720 --> 00:21:31,840
some pretty uh damaging data so

00:21:30,080 --> 00:21:33,120
drupal core has a great permissions and

00:21:31,840 --> 00:21:36,320
data access framework

00:21:33,120 --> 00:21:38,720
use it um there are

00:21:36,320 --> 00:21:39,919
uh there's a great api dock out there

00:21:38,720 --> 00:21:42,480
for how to use it

00:21:39,919 --> 00:21:43,520
um obviously with uh drupal 9 you want

00:21:42,480 --> 00:21:46,559
to go to that one and start

00:21:43,520 --> 00:21:48,000
start coding against that but um what

00:21:46,559 --> 00:21:50,080
you're going to want to look at is

00:21:48,000 --> 00:21:51,120
if you're creating permissions and

00:21:50,080 --> 00:21:52,559
you're creating your own custom

00:21:51,120 --> 00:21:53,520
permissions that's great but make sure

00:21:52,559 --> 00:21:56,720
you're checking

00:21:53,520 --> 00:21:58,559
everything about that page or that data

00:21:56,720 --> 00:22:00,240
to make sure that that person can

00:21:58,559 --> 00:22:00,720
actually access what you want them to

00:22:00,240 --> 00:22:03,679
actually

00:22:00,720 --> 00:22:05,200
access and they can actually see

00:22:03,679 --> 00:22:08,159
everything that's on the page

00:22:05,200 --> 00:22:09,600
sometimes you don't even need to write

00:22:08,159 --> 00:22:11,280
your own custom permissions you can use

00:22:09,600 --> 00:22:12,880
core ones right

00:22:11,280 --> 00:22:14,640
a perfect example is the one that we

00:22:12,880 --> 00:22:15,520
were just looking at if i just went to

00:22:14,640 --> 00:22:18,080
that and said

00:22:15,520 --> 00:22:19,840
rather than access content if i put it

00:22:18,080 --> 00:22:22,480
to administer content

00:22:19,840 --> 00:22:24,400
then anyone who could administer content

00:22:22,480 --> 00:22:27,200
is gonna go back and say well

00:22:24,400 --> 00:22:28,960
um you know i if i can administer

00:22:27,200 --> 00:22:31,840
content i can create i can delete

00:22:28,960 --> 00:22:32,720
i can edit so then all of a sudden i can

00:22:31,840 --> 00:22:34,640
go to

00:22:32,720 --> 00:22:36,720
um i can go look at the titles that's a

00:22:34,640 --> 00:22:37,360
great way to say well if they have this

00:22:36,720 --> 00:22:38,880
permission

00:22:37,360 --> 00:22:40,159
and all of that is already underneath

00:22:38,880 --> 00:22:40,880
this then we're going to allow them to

00:22:40,159 --> 00:22:42,080
do this so

00:22:40,880 --> 00:22:43,760
you don't always have to create your own

00:22:42,080 --> 00:22:45,360
custom permissions and you can use the

00:22:43,760 --> 00:22:47,600
core ones as well

00:22:45,360 --> 00:22:48,880
so this seems overwhelming i know it can

00:22:47,600 --> 00:22:51,440
feel overwhelming

00:22:48,880 --> 00:22:52,640
um these are some some basic attacks

00:22:51,440 --> 00:22:55,440
that we've looked at

00:22:52,640 --> 00:22:56,000
in terms of cross-site scripting um ddos

00:22:55,440 --> 00:22:58,400
attacks

00:22:56,000 --> 00:22:59,360
and uh privilege escalation or access

00:22:58,400 --> 00:23:02,720
bypass

00:22:59,360 --> 00:23:06,159
um but the question i always get is well

00:23:02,720 --> 00:23:08,559
now what right how do i prevent myself

00:23:06,159 --> 00:23:09,520
from writing this bad code obviously

00:23:08,559 --> 00:23:12,320
you're not gonna go

00:23:09,520 --> 00:23:13,919
write a function that sleeps for five

00:23:12,320 --> 00:23:16,080
seconds and then comes back you're not

00:23:13,919 --> 00:23:17,200
gonna go just say access content on

00:23:16,080 --> 00:23:20,640
every admin

00:23:17,200 --> 00:23:24,159
pathway that you uh that you create

00:23:20,640 --> 00:23:26,960
so um for the longest time i will admit

00:23:24,159 --> 00:23:28,400
i completely thought um that anything

00:23:26,960 --> 00:23:31,760
that came out of microsoft

00:23:28,400 --> 00:23:35,200
um was uh doomed and it shouldn't be

00:23:31,760 --> 00:23:37,440
used um i have completely re-uh reversed

00:23:35,200 --> 00:23:38,400
my ways and vs code is what what did

00:23:37,440 --> 00:23:40,880
that for me

00:23:38,400 --> 00:23:42,159
um and so using vs code and i know we're

00:23:40,880 --> 00:23:42,960
probably in the chat here going to get

00:23:42,159 --> 00:23:45,200
into a

00:23:42,960 --> 00:23:46,799
php storm versus vs code versus you know

00:23:45,200 --> 00:23:47,919
text edit or vim

00:23:46,799 --> 00:23:50,960
whatever you want to write in that's

00:23:47,919 --> 00:23:51,679
great but for me as i as i code i find

00:23:50,960 --> 00:23:53,919
that

00:23:51,679 --> 00:23:55,360
using vs code and configuring it to use

00:23:53,919 --> 00:23:57,679
php code sniffer

00:23:55,360 --> 00:23:58,799
will help me visualize a lot of the

00:23:57,679 --> 00:24:01,520
insecure code

00:23:58,799 --> 00:24:02,240
i can see what's going on and it will

00:24:01,520 --> 00:24:04,559
warn me

00:24:02,240 --> 00:24:06,320
if you don't know what you're doing it

00:24:04,559 --> 00:24:08,400
will warn me

00:24:06,320 --> 00:24:10,400
that hey what you just did you're not

00:24:08,400 --> 00:24:12,400
sanitizing that data or

00:24:10,400 --> 00:24:13,679
here's an error that could occur and

00:24:12,400 --> 00:24:17,279
even sometimes

00:24:13,679 --> 00:24:18,320
smaller errors can boil up into larger

00:24:17,279 --> 00:24:21,360
hacks

00:24:18,320 --> 00:24:23,600
and so um a lot of the times uh

00:24:21,360 --> 00:24:25,039
if if you're beginning or i've been

00:24:23,600 --> 00:24:27,279
coding for 10 years and

00:24:25,039 --> 00:24:28,960
that doesn't say much because i still

00:24:27,279 --> 00:24:30,880
write bad code

00:24:28,960 --> 00:24:32,159
i use this daily and i'm constantly

00:24:30,880 --> 00:24:35,679
getting caught by

00:24:32,159 --> 00:24:38,000
errors that i'm making and um

00:24:35,679 --> 00:24:39,760
in in a wordpress version of this i

00:24:38,000 --> 00:24:41,760
actually published all the module or all

00:24:39,760 --> 00:24:44,159
the plugins out to a public repo

00:24:41,760 --> 00:24:47,039
uh for folks to then um add and

00:24:44,159 --> 00:24:49,200
contribute back to and i can already see

00:24:47,039 --> 00:24:50,880
that that my coding isn't that good so i

00:24:49,200 --> 00:24:53,760
need to continually use this

00:24:50,880 --> 00:24:55,200
no matter how good i think i am so with

00:24:53,760 --> 00:24:58,320
that

00:24:55,200 --> 00:24:59,120
we're sitting at about 140 here i wanted

00:24:58,320 --> 00:25:00,880
to leave us

00:24:59,120 --> 00:25:02,159
a bit of time to go through questions

00:25:00,880 --> 00:25:03,279
because i normally get quite a bit of

00:25:02,159 --> 00:25:06,000
questions at the end

00:25:03,279 --> 00:25:07,520
um and so with that we're gonna we're

00:25:06,000 --> 00:25:09,039
gonna hop into some questions here if

00:25:07,520 --> 00:25:11,679
you have a question

00:25:09,039 --> 00:25:13,360
in the chat um you could start it with a

00:25:11,679 --> 00:25:14,960
queue i've seen folks doing that it

00:25:13,360 --> 00:25:18,400
really helps kind of

00:25:14,960 --> 00:25:18,400
move that out of the chatter

00:25:22,080 --> 00:25:28,320
i'll try to scroll through here and see

00:25:25,120 --> 00:25:29,200
if there are any other questions that

00:25:28,320 --> 00:25:32,960
are coming up here

00:25:29,200 --> 00:25:35,520
yeah i will share a link to um

00:25:32,960 --> 00:25:38,559
to my slides i know we kind of breeze

00:25:35,520 --> 00:25:39,919
through things really fast

00:25:38,559 --> 00:25:42,080
but i will be sharing a link to my

00:25:39,919 --> 00:25:42,720
slides here normally i get done with

00:25:42,080 --> 00:25:44,159
this

00:25:42,720 --> 00:25:46,080
and then i'll post them up convert them

00:25:44,159 --> 00:25:46,799
and do all that so yes i will be posting

00:25:46,080 --> 00:25:49,200
that out

00:25:46,799 --> 00:25:49,919
um if you follow me on twitter i'll put

00:25:49,200 --> 00:25:51,919
it out there

00:25:49,919 --> 00:25:53,279
um and then i'll try and see if there's

00:25:51,919 --> 00:25:54,960
a way through

00:25:53,279 --> 00:25:58,240
hop in or any of those to be able to

00:25:54,960 --> 00:25:58,240
share it with folks as well

00:26:04,640 --> 00:26:09,520
so one of the other things while while

00:26:07,600 --> 00:26:12,240
folks may be typing or

00:26:09,520 --> 00:26:12,720
asking their questions here if you

00:26:12,240 --> 00:26:15,360
notice

00:26:12,720 --> 00:26:15,919
some of you were running various ad

00:26:15,360 --> 00:26:18,480
blockers

00:26:15,919 --> 00:26:21,279
i was just talking with um drew gortner

00:26:18,480 --> 00:26:24,320
just before this and he was running

00:26:21,279 --> 00:26:26,000
a browser plug-in that stops all scripts

00:26:24,320 --> 00:26:28,000
from happening on a website

00:26:26,000 --> 00:26:29,919
um unless you give it uh direct

00:26:28,000 --> 00:26:30,640
permission and so when i said hey go

00:26:29,919 --> 00:26:32,480
check this out

00:26:30,640 --> 00:26:33,679
he goes i don't see anything on that

00:26:32,480 --> 00:26:35,679
login form right

00:26:33,679 --> 00:26:37,039
um well that's because he was blocking

00:26:35,679 --> 00:26:40,080
it and so

00:26:37,039 --> 00:26:40,880
i will say uh in creating these demos i

00:26:40,080 --> 00:26:43,520
had to write

00:26:40,880 --> 00:26:44,799
purposely really bad code because drupal

00:26:43,520 --> 00:26:47,440
actually at its core is

00:26:44,799 --> 00:26:49,360
is fairly hard to do things wrong now um

00:26:47,440 --> 00:26:51,039
it's it's getting more and more

00:26:49,360 --> 00:26:52,880
um i like to say it's putting the

00:26:51,039 --> 00:26:53,919
bumpers on the on the bowling lanes for

00:26:52,880 --> 00:26:56,640
a lot of us

00:26:53,919 --> 00:26:57,760
um because what it does is it will

00:26:56,640 --> 00:27:00,320
automatically

00:26:57,760 --> 00:27:01,440
you know escape escape all the text

00:27:00,320 --> 00:27:05,600
through

00:27:01,440 --> 00:27:07,279
twig it's going to pass uh form

00:27:05,600 --> 00:27:09,360
everything that's in your form array

00:27:07,279 --> 00:27:11,039
through uh cross-site scripting filters

00:27:09,360 --> 00:27:13,520
it's going to do a lot of those checks

00:27:11,039 --> 00:27:15,679
that allow you um

00:27:13,520 --> 00:27:17,200
to build code without being so scared

00:27:15,679 --> 00:27:18,399
that every line you're gonna write is

00:27:17,200 --> 00:27:21,200
gonna be hacked

00:27:18,399 --> 00:27:22,240
and so um yeah it it actually took me

00:27:21,200 --> 00:27:23,679
quite a while to do that and the other

00:27:22,240 --> 00:27:25,440
thing is that the browser

00:27:23,679 --> 00:27:26,960
um community and the browsers are

00:27:25,440 --> 00:27:27,840
starting to step up their game as well

00:27:26,960 --> 00:27:31,039
and so

00:27:27,840 --> 00:27:33,279
um cross site request forgeries

00:27:31,039 --> 00:27:34,480
yeah content uh security policy http

00:27:33,279 --> 00:27:36,799
header is a great

00:27:34,480 --> 00:27:37,600
way to do that dries um that's a it's a

00:27:36,799 --> 00:27:40,720
great point

00:27:37,600 --> 00:27:42,720
um there are more and more ways that the

00:27:40,720 --> 00:27:46,240
the security team and the core team

00:27:42,720 --> 00:27:49,039
are layering on um

00:27:46,240 --> 00:27:49,360
andrees is using it himself um but there

00:27:49,039 --> 00:27:51,360
are

00:27:49,360 --> 00:27:53,360
there are uh more and more ways that the

00:27:51,360 --> 00:27:54,240
security team and the core team are just

00:27:53,360 --> 00:27:55,840
adding in

00:27:54,240 --> 00:27:57,840
uh feature after feature and function

00:27:55,840 --> 00:27:58,880
after function api after api that really

00:27:57,840 --> 00:28:02,080
does this

00:27:58,880 --> 00:28:05,039
um does make it a a secure

00:28:02,080 --> 00:28:06,960
ecosystem to work in um and like i said

00:28:05,039 --> 00:28:10,159
creating these demos is

00:28:06,960 --> 00:28:12,480
um uh it was it was tough

00:28:10,159 --> 00:28:14,480
and so the the thing that makes me feel

00:28:12,480 --> 00:28:16,880
good is the the tougher it is for me to

00:28:14,480 --> 00:28:18,240
build these demos means that the tools

00:28:16,880 --> 00:28:21,679
we're building are good

00:28:18,240 --> 00:28:23,520
um amber mentioned that sam

00:28:21,679 --> 00:28:25,279
mortonson emphasized the need for manual

00:28:23,520 --> 00:28:26,320
code review in finding bugs that can be

00:28:25,279 --> 00:28:27,760
exploited

00:28:26,320 --> 00:28:30,159
code sniffing tools are great but so is

00:28:27,760 --> 00:28:33,200
manual code review 100

00:28:30,159 --> 00:28:34,720
vs code and um php code sniffer and the

00:28:33,200 --> 00:28:37,679
like will never

00:28:34,720 --> 00:28:38,960
replace uh manual code review uh and

00:28:37,679 --> 00:28:42,559
sam's been able to find

00:28:38,960 --> 00:28:45,679
some very intriguing and

00:28:42,559 --> 00:28:49,600
deep bugs that that a lot of the the

00:28:45,679 --> 00:28:52,880
um code sniffing tools wouldn't get

00:28:49,600 --> 00:28:54,880
um so the question from daniel

00:28:52,880 --> 00:28:56,559
is um in the page that had weak

00:28:54,880 --> 00:28:59,360
permissions could the controller still

00:28:56,559 --> 00:29:00,159
check user access to entities yes it

00:28:59,360 --> 00:29:02,880
could

00:29:00,159 --> 00:29:03,919
again i was writing purposely really bad

00:29:02,880 --> 00:29:06,799
code

00:29:03,919 --> 00:29:07,600
because i know everyone here would write

00:29:06,799 --> 00:29:09,679
you know

00:29:07,600 --> 00:29:12,080
flawless code that's absolutely perfect

00:29:09,679 --> 00:29:14,480
and never has any bugs or or issues

00:29:12,080 --> 00:29:15,440
in it um however for those of us that

00:29:14,480 --> 00:29:19,039
aren't you know

00:29:15,440 --> 00:29:19,600
10x coders um these things happen all

00:29:19,039 --> 00:29:22,960
the time

00:29:19,600 --> 00:29:24,720
and so um being able to look at

00:29:22,960 --> 00:29:26,000
what is some of those bad code what i

00:29:24,720 --> 00:29:29,840
was doing in that in that

00:29:26,000 --> 00:29:30,960
um uh controller was all i was doing was

00:29:29,840 --> 00:29:33,039
was saying hey

00:29:30,960 --> 00:29:34,720
query me all the titles or require me

00:29:33,039 --> 00:29:36,799
all the nodes run through all the nodes

00:29:34,720 --> 00:29:39,279
and grab their titles and put them into

00:29:36,799 --> 00:29:40,320
um uh just put them into a list and

00:29:39,279 --> 00:29:43,200
output it it was

00:29:40,320 --> 00:29:44,000
incredibly basic and um not something

00:29:43,200 --> 00:29:46,720
you would normally do

00:29:44,000 --> 00:29:48,640
but it shows that if i run a query in

00:29:46,720 --> 00:29:49,039
one place i may forget what that query

00:29:48,640 --> 00:29:51,120
was

00:29:49,039 --> 00:29:52,960
was running or what um permissions are

00:29:51,120 --> 00:29:56,399
there and i'm not checking it below

00:29:52,960 --> 00:29:58,080
and so um being able to know

00:29:56,399 --> 00:29:59,360
and and see what's in your code that's

00:29:58,080 --> 00:30:01,039
not something a code sniffer is going to

00:29:59,360 --> 00:30:03,679
do but that's something a manual

00:30:01,039 --> 00:30:03,679
review will

00:30:07,440 --> 00:30:10,640
see some other questions here i i

00:30:09,039 --> 00:30:13,919
sometimes have to use uh

00:30:10,640 --> 00:30:15,760
unsafe inline or eval um to what extent

00:30:13,919 --> 00:30:18,159
does that become redundant

00:30:15,760 --> 00:30:18,159
um

00:30:20,720 --> 00:30:25,279
yeah i mean um the

00:30:25,679 --> 00:30:29,200
there are times when you have to the the

00:30:28,159 --> 00:30:31,679
code sniffers or

00:30:29,200 --> 00:30:32,399
or the bumpers may be too restrictive

00:30:31,679 --> 00:30:34,000
but

00:30:32,399 --> 00:30:36,320
every time you break yourself out of

00:30:34,000 --> 00:30:39,360
that um you're opening yourself up for

00:30:36,320 --> 00:30:41,279
for issues so um

00:30:39,360 --> 00:30:43,039
i would just say be very careful

00:30:41,279 --> 00:30:43,760
whenever you're whenever you're going

00:30:43,039 --> 00:30:46,799
against

00:30:43,760 --> 00:30:51,840
um the uh anything that's trying to keep

00:30:46,799 --> 00:30:51,840
you in line

00:30:52,480 --> 00:30:57,919
let's see here uh any other questions

00:30:58,240 --> 00:31:04,960
yeah if you haven't yet um definitely go

00:31:01,679 --> 00:31:08,399
and um uh check out

00:31:04,960 --> 00:31:10,320
the uh other sessions that were um

00:31:08,399 --> 00:31:11,840
that were were run by folks in the

00:31:10,320 --> 00:31:14,399
security team um

00:31:11,840 --> 00:31:16,000
there is a wealth of knowledge around

00:31:14,399 --> 00:31:16,960
this project that are they're keeping us

00:31:16,000 --> 00:31:20,320
safe and so

00:31:16,960 --> 00:31:20,799
and one of the things that folks may not

00:31:20,320 --> 00:31:23,039
know

00:31:20,799 --> 00:31:24,399
about drupal in particular uh if you're

00:31:23,039 --> 00:31:27,600
new to the project is that

00:31:24,399 --> 00:31:29,200
every module is covered under well every

00:31:27,600 --> 00:31:31,120
module that has a

00:31:29,200 --> 00:31:32,480
full published version is covered

00:31:31,120 --> 00:31:33,840
underneath the security team and so

00:31:32,480 --> 00:31:35,360
they're constantly looking through it's

00:31:33,840 --> 00:31:37,519
not just up to

00:31:35,360 --> 00:31:39,200
the developers some ecosystems it's kind

00:31:37,519 --> 00:31:42,240
of the wild west and if um

00:31:39,200 --> 00:31:44,880
somebody gets a hold of something

00:31:42,240 --> 00:31:45,519
then they can put it into official repos

00:31:44,880 --> 00:31:48,080
and

00:31:45,519 --> 00:31:50,000
distribute it the drupal security team

00:31:48,080 --> 00:31:51,679
is constantly going through and looking

00:31:50,000 --> 00:31:53,039
through that which which makes it in my

00:31:51,679 --> 00:31:56,480
opinion one of the more

00:31:53,039 --> 00:32:00,240
um one of the more secure ways of

00:31:56,480 --> 00:32:01,679
of building a website now delphine i'm

00:32:00,240 --> 00:32:03,440
i'm probably pronouncing your name wrong

00:32:01,679 --> 00:32:04,640
but it says it's not clear for me do not

00:32:03,440 --> 00:32:06,799
use raw

00:32:04,640 --> 00:32:09,840
um i want to print body content and i

00:32:06,799 --> 00:32:12,159
can use um

00:32:09,840 --> 00:32:14,240
i can use either content body or node

00:32:12,159 --> 00:32:16,000
and dive through the array and use raw

00:32:14,240 --> 00:32:17,679
uh why it's not the best solution to use

00:32:16,000 --> 00:32:20,480
the second line of code

00:32:17,679 --> 00:32:21,519
anytime you're using raw in twig you're

00:32:20,480 --> 00:32:23,039
just saying

00:32:21,519 --> 00:32:24,640
i've already done what i needed to do

00:32:23,039 --> 00:32:27,760
for this and you're

00:32:24,640 --> 00:32:28,799
again trusting the upstream and the

00:32:27,760 --> 00:32:31,679
number one rule

00:32:28,799 --> 00:32:33,440
in writing secure code is don't trust

00:32:31,679 --> 00:32:35,039
don't trust what's upstream of you

00:32:33,440 --> 00:32:36,799
just because you may be getting it out

00:32:35,039 --> 00:32:38,399
of the database doesn't mean

00:32:36,799 --> 00:32:40,159
that it was sanitized before it got in

00:32:38,399 --> 00:32:43,760
there you just don't know

00:32:40,159 --> 00:32:46,399
and so uh using raw just opens you up

00:32:43,760 --> 00:32:47,760
to being able to have somebody find a

00:32:46,399 --> 00:32:49,440
way to inject that

00:32:47,760 --> 00:32:50,799
um malicious code upstream and then

00:32:49,440 --> 00:32:53,840
bring it down to your

00:32:50,799 --> 00:32:53,840
uh to the front end

00:32:54,640 --> 00:32:59,120
uh what methods would you use to handle

00:32:57,200 --> 00:33:02,399
database injections properly

00:32:59,120 --> 00:33:06,240
um so the um

00:33:02,399 --> 00:33:09,200
the database um abstraction that is uh

00:33:06,240 --> 00:33:10,080
in core now the the database api uh is

00:33:09,200 --> 00:33:13,279
great it does a

00:33:10,080 --> 00:33:17,440
lot of that sanitizing for you use that

00:33:13,279 --> 00:33:20,559
do not run your own queries i have seen

00:33:17,440 --> 00:33:21,120
luckily in a long time ago but i was

00:33:20,559 --> 00:33:24,080
watching

00:33:21,120 --> 00:33:26,720
folks actually pull the settings out of

00:33:24,080 --> 00:33:29,679
the settings php in their template files

00:33:26,720 --> 00:33:31,279
and running raw database queries which

00:33:29,679 --> 00:33:32,799
is just

00:33:31,279 --> 00:33:36,960
mind-blowing of why you would need to do

00:33:32,799 --> 00:33:40,000
that and it's yet another example of

00:33:36,960 --> 00:33:41,679
drupal's core apis giving you um the

00:33:40,000 --> 00:33:42,960
ability to sanitize those database

00:33:41,679 --> 00:33:44,000
queries before they go in and not

00:33:42,960 --> 00:33:46,559
allowing you

00:33:44,000 --> 00:33:48,880
um to inadvertently pass in those or

00:33:46,559 --> 00:33:53,360
making it more and more difficult to

00:33:48,880 --> 00:33:57,039
inadvertently pass those in

00:33:53,360 --> 00:33:59,519
um coming down here

00:33:57,039 --> 00:33:59,519
um

00:34:00,880 --> 00:34:04,640
yeah drupal 9 is using a more updated

00:34:03,600 --> 00:34:06,960
version of twig

00:34:04,640 --> 00:34:09,280
good point rick and so the raw tag is

00:34:06,960 --> 00:34:12,720
deprecated in favor of verbatim

00:34:09,280 --> 00:34:14,480
um and so uh yeah if you're as

00:34:12,720 --> 00:34:15,919
again as the technologies are starting

00:34:14,480 --> 00:34:17,919
to uh

00:34:15,919 --> 00:34:21,839
mature we're starting to see more and

00:34:17,919 --> 00:34:21,839
more protections in there

00:34:28,560 --> 00:34:33,119
all right so if anyone's got any other

00:34:30,639 --> 00:34:33,119
questions

00:34:33,280 --> 00:34:37,440
go ahead and post them in here i'll hang

00:34:34,800 --> 00:34:41,119
out here for a bit um i'll be around

00:34:37,440 --> 00:34:44,240
and um hopefully uh folks that are

00:34:41,119 --> 00:34:45,280
uh new to the drupal project um will not

00:34:44,240 --> 00:34:48,960
be scared by this

00:34:45,280 --> 00:34:51,520
and scared of um of of coding

00:34:48,960 --> 00:34:52,399
but know that through a lot of the core

00:34:51,520 --> 00:34:53,599
apis

00:34:52,399 --> 00:34:56,079
you're protected against some of these

00:34:53,599 --> 00:34:58,960
more basic um

00:34:56,079 --> 00:35:00,640
some of these more basic attacks dan has

00:34:58,960 --> 00:35:02,079
a question here

00:35:00,640 --> 00:35:04,720
returning build array end up going

00:35:02,079 --> 00:35:08,000
through form apis

00:35:04,720 --> 00:35:09,680
uh yes it should go through um

00:35:08,000 --> 00:35:11,119
anything that's extending form base you

00:35:09,680 --> 00:35:14,839
should be able to

00:35:11,119 --> 00:35:17,839
um you should be able to extend that as

00:35:14,839 --> 00:35:17,839
well

00:35:19,839 --> 00:35:22,800
thanks for coming juice

00:35:25,359 --> 00:35:28,640
it's always crazy whenever you see um

00:35:28,000 --> 00:35:30,240
it's it's

00:35:28,640 --> 00:35:31,760
different than looking out at a room i'm

00:35:30,240 --> 00:35:33,760
just looking at a screen

00:35:31,760 --> 00:35:35,119
um but there was at one point up to

00:35:33,760 --> 00:35:37,920
about 300 people in here

00:35:35,119 --> 00:35:38,960
um which is just fun to see uh it's such

00:35:37,920 --> 00:35:41,760
a broad community

00:35:38,960 --> 00:35:43,440
uh come together so um thank you and

00:35:41,760 --> 00:35:46,800
thank you to the organizers

00:35:43,440 --> 00:35:49,839
and thank you to everyone

00:35:46,800 --> 00:35:52,560
at drupalcon global for putting this on

00:35:49,839 --> 00:35:53,839
and truly making this a a global

00:35:52,560 --> 00:35:57,040
presentation and

00:35:53,839 --> 00:35:59,359
a global experience for everyone so

00:35:57,040 --> 00:36:01,520
i encourage you all to continue to get

00:35:59,359 --> 00:36:02,480
involved uh continue to be involved in

00:36:01,520 --> 00:36:05,920
the community

00:36:02,480 --> 00:36:07,520
um and uh and and come find us

00:36:05,920 --> 00:36:09,200
come find me at some point whenever

00:36:07,520 --> 00:36:13,839
we're all back in person

00:36:09,200 --> 00:36:13,839
i'd love to meet you all

00:36:19,280 --> 00:36:27,839
josh you're more than welcome to try to

00:36:21,200 --> 00:36:27,839
hack me if you want

00:36:28,880 --> 00:36:35,280
and so yeah i will be posting um

00:36:32,320 --> 00:36:36,560
um uh i will be posting these slides

00:36:35,280 --> 00:36:38,880
online for folks

00:36:36,560 --> 00:36:40,320
um and so if you want to take a look at

00:36:38,880 --> 00:36:41,680
them deeper

00:36:40,320 --> 00:36:45,119
if you want to play around with some of

00:36:41,680 --> 00:36:47,839
the the puns and the star wars

00:36:45,119 --> 00:36:48,400
stuff in there if i somehow messed up

00:36:47,839 --> 00:36:51,760
canon

00:36:48,400 --> 00:36:54,160
or offended anyone who's a hardcore

00:36:51,760 --> 00:36:57,520
star wars nerd um that's what twitter's

00:36:54,160 --> 00:36:57,520
for go ahead and leave it there

00:36:59,200 --> 00:37:02,690
uh no we're not gonna talk about the

00:37:01,680 --> 00:37:05,750
prequels

00:37:02,690 --> 00:37:05,750
[Laughter]

00:37:06,839 --> 00:37:09,839
sorry

00:37:20,839 --> 00:37:24,880
foreign

00:37:22,720 --> 00:37:26,720
oh dan so your question about if form

00:37:24,880 --> 00:37:30,160
base offers the core protections

00:37:26,720 --> 00:37:33,680
um is a controller extending it um

00:37:30,160 --> 00:37:37,280
also getting that or is it bypassing

00:37:33,680 --> 00:37:38,400
uh yeah i'll have to go back and double

00:37:37,280 --> 00:37:41,599
check that but i believe

00:37:38,400 --> 00:37:45,280
the sanitization um happens in

00:37:41,599 --> 00:37:48,320
um uh

00:37:45,280 --> 00:37:49,520
after your um your controller runs so

00:37:48,320 --> 00:37:52,400
you should be good

00:37:49,520 --> 00:37:53,119
um but i'm more than welcome to be wrong

00:37:52,400 --> 00:37:55,359
on that one

00:37:53,119 --> 00:37:56,400
um but yeah you should be able to that

00:37:55,359 --> 00:38:00,400
being said

00:37:56,400 --> 00:38:03,359
don't assume anything you see in that um

00:38:00,400 --> 00:38:04,079
in that form array is uh is secure uh or

00:38:03,359 --> 00:38:06,240
sanitized

00:38:04,079 --> 00:38:07,760
and um make sure that you sanitize

00:38:06,240 --> 00:38:08,880
anything in your controller as well but

00:38:07,760 --> 00:38:12,079
i believe that

00:38:08,880 --> 00:38:13,520
um anything that um extends form base is

00:38:12,079 --> 00:38:17,680
still going to go through

00:38:13,520 --> 00:38:21,119
um the the filtering after um

00:38:17,680 --> 00:38:21,119
after you you deal with it

00:38:23,680 --> 00:38:28,000
alessandro i will say uh now that we're

00:38:26,079 --> 00:38:31,280
kind of in the trailing minutes here

00:38:28,000 --> 00:38:33,200
my wife is a trekkie i

00:38:31,280 --> 00:38:34,400
grew up on star wars and never was a

00:38:33,200 --> 00:38:36,720
trekkie um

00:38:34,400 --> 00:38:38,800
no offense to any trekkies out there um

00:38:36,720 --> 00:38:40,079
and we had a really really hard time

00:38:38,800 --> 00:38:40,880
trying to figure out if our kids would

00:38:40,079 --> 00:38:43,920
be

00:38:40,880 --> 00:38:45,839
star wars fans or star trek fans um

00:38:43,920 --> 00:38:47,440
and needless to say they've got a ton of

00:38:45,839 --> 00:38:50,640
lightsabers and

00:38:47,440 --> 00:38:53,839
um and all sorts of star wars toys so

00:38:50,640 --> 00:38:56,000
um yes we can be both um and i'm

00:38:53,839 --> 00:38:57,280
i don't want to start a giant flame war

00:38:56,000 --> 00:39:00,320
on which is better

00:38:57,280 --> 00:39:03,359
uh star trek or uh or star wars um

00:39:00,320 --> 00:39:03,760
and yes star wars was created um purely

00:39:03,359 --> 00:39:07,200
as a

00:39:03,760 --> 00:39:11,599
as a marketing tool um but yes

00:39:07,200 --> 00:39:14,480
a a a marriage between a a trekkie and a

00:39:11,599 --> 00:39:15,839
um and a star wars fan can occur um and

00:39:14,480 --> 00:39:18,079
it can be fruitful

00:39:15,839 --> 00:39:19,599
um but there's nothing cuter than

00:39:18,079 --> 00:39:20,560
watching your your kid dress up as a

00:39:19,599 --> 00:39:23,280
stormtrooper

00:39:20,560 --> 00:39:23,680
um for halloween and everyone he sees

00:39:23,280 --> 00:39:26,240
say

00:39:23,680 --> 00:39:26,880
move along so um that was pretty fun to

00:39:26,240 --> 00:39:29,359
watch

00:39:26,880 --> 00:39:31,040
um delphine yes i will be sharing uh the

00:39:29,359 --> 00:39:34,720
link to the presentation

00:39:31,040 --> 00:39:37,760
um or the link to the slides later

00:39:34,720 --> 00:39:39,760
uh i'll also i don't know if i'll

00:39:37,760 --> 00:39:40,960
have a hard like a deep link or a

00:39:39,760 --> 00:39:43,520
permalink

00:39:40,960 --> 00:39:44,800
to the session video itself but i'll see

00:39:43,520 --> 00:39:57,839
if i can get that from

00:39:44,800 --> 00:39:57,839
hop in and put that in there as well

00:40:06,240 --> 00:40:09,359
all right we've got about five more

00:40:08,000 --> 00:40:13,520
minutes to hang out in here

00:40:09,359 --> 00:40:15,760
um if folks want to um

00:40:13,520 --> 00:40:17,520
to hang out ask any more questions by

00:40:15,760 --> 00:40:21,359
all means

00:40:17,520 --> 00:40:21,599
but yeah i appreciate everyone coming

00:40:21,359 --> 00:40:39,839
and

00:40:21,599 --> 00:40:39,839
and thank you for the the kind words

00:40:56,880 --> 00:41:00,160
i feel like i should have some star wars

00:40:58,960 --> 00:41:00,480
music playing in the background right

00:41:00,160 --> 00:41:03,599
now

00:41:00,480 --> 00:41:05,680
some some cantina music or something

00:41:03,599 --> 00:41:08,400
most interesting cyber security event

00:41:05,680 --> 00:41:10,720
from the last decade good question casey

00:41:08,400 --> 00:41:10,720
um

00:41:13,119 --> 00:41:20,319
man there's been some really odd ones um

00:41:16,720 --> 00:41:22,400
i i personally like the

00:41:20,319 --> 00:41:24,079
the hackers that got into unpublished

00:41:22,400 --> 00:41:27,359
data

00:41:24,079 --> 00:41:30,160
i think that is um it's not as

00:41:27,359 --> 00:41:30,720
interesting as it as it could be i guess

00:41:30,160 --> 00:41:33,760
um

00:41:30,720 --> 00:41:35,280
or as other like large-scale ddos

00:41:33,760 --> 00:41:39,200
attacks or

00:41:35,280 --> 00:41:42,960
um some of those but um

00:41:39,200 --> 00:41:46,560
definitely the wherewithal to

00:41:42,960 --> 00:41:48,000
get into a system know how to pull those

00:41:46,560 --> 00:41:51,040
out and then use it to front run

00:41:48,000 --> 00:41:54,319
the market um is a pretty ingenious way

00:41:51,040 --> 00:41:55,280
of of getting in and doing that i do

00:41:54,319 --> 00:41:57,520
have to say

00:41:55,280 --> 00:41:59,040
um one of my favorite hacks of all time

00:41:57,520 --> 00:42:01,359
though is max headroom

00:41:59,040 --> 00:42:02,480
um but that's outside of the last decade

00:42:01,359 --> 00:42:05,920
but um

00:42:02,480 --> 00:42:09,599
it's it's definitely um fun to watch um

00:42:05,920 --> 00:42:11,680
some of those so if um uh yeah

00:42:09,599 --> 00:42:13,680
yeah the max headroom hack was uh it was

00:42:11,680 --> 00:42:16,960
very fun the old uh

00:42:13,680 --> 00:42:20,079
phone freaking days and uh being able to

00:42:16,960 --> 00:42:20,880
uh to get into systems just by using

00:42:20,079 --> 00:42:23,920
your phone

00:42:20,880 --> 00:42:26,480
um those were i mean

00:42:23,920 --> 00:42:28,400
the ingeniousness of all that and one of

00:42:26,480 --> 00:42:30,000
the other fun things a story that i just

00:42:28,400 --> 00:42:33,359
saw that came across the wires

00:42:30,000 --> 00:42:36,160
was our friend and everyone's friend who

00:42:33,359 --> 00:42:39,359
had myspace tom

00:42:36,160 --> 00:42:42,800
was actually a hacker in high school

00:42:39,359 --> 00:42:43,680
who hacked a bank and got into their

00:42:42,800 --> 00:42:46,160
central

00:42:43,680 --> 00:42:47,040
database that held everything about all

00:42:46,160 --> 00:42:50,160
of their

00:42:47,040 --> 00:42:52,720
um all the accounts all the amounts

00:42:50,160 --> 00:42:54,319
all everything it was the central uh

00:42:52,720 --> 00:42:55,200
database and he was able to get in

00:42:54,319 --> 00:42:58,240
through

00:42:55,200 --> 00:43:01,760
um kind of war driving through a uh

00:42:58,240 --> 00:43:05,280
uh through the phone lines and um

00:43:01,760 --> 00:43:08,800
and so the fbi put up this giant um

00:43:05,280 --> 00:43:10,000
uh net and and went to san diego and and

00:43:08,800 --> 00:43:12,720
did one of the largest

00:43:10,000 --> 00:43:13,839
coordinated uh arrests in california

00:43:12,720 --> 00:43:16,880
history and they

00:43:13,839 --> 00:43:17,520
um stormed the the doors of about 20

00:43:16,880 --> 00:43:19,119
people

00:43:17,520 --> 00:43:20,640
and found that it was a high schooler

00:43:19,119 --> 00:43:22,079
who was about 14 years old and all of

00:43:20,640 --> 00:43:22,960
his friends who had shown how to get

00:43:22,079 --> 00:43:26,640
into a

00:43:22,960 --> 00:43:30,240
banking database um and so

00:43:26,640 --> 00:43:31,760
he was let off without um um

00:43:30,240 --> 00:43:34,720
actually being charged and was on

00:43:31,760 --> 00:43:38,079
probation uh and then went on to create

00:43:34,720 --> 00:43:41,680
um the true one and only um

00:43:38,079 --> 00:43:44,880
myspace.com so um there are

00:43:41,680 --> 00:43:55,839
a lot of folks nowadays that uh had some

00:43:44,880 --> 00:43:55,839
interesting pasts of their own

00:44:03,359 --> 00:44:07,599
and yes for anyone who is uh who's still

00:44:05,839 --> 00:44:08,000
here i forgot to mention it uh thanks

00:44:07,599 --> 00:44:10,960
eric

00:44:08,000 --> 00:44:12,079
for for mentioning that um there is a

00:44:10,960 --> 00:44:15,040
survey monkey

00:44:12,079 --> 00:44:16,800
uh evaluation for this session um that's

00:44:15,040 --> 00:44:20,079
linked at the top of the chat there

00:44:16,800 --> 00:44:21,920
uh be sure to hop in there and um

00:44:20,079 --> 00:44:23,280
and leave some reviews i love looking

00:44:21,920 --> 00:44:25,520
through those at the end

00:44:23,280 --> 00:44:26,720
um or the the data that i do get back i

00:44:25,520 --> 00:44:27,119
don't know what we'll get back here but

00:44:26,720 --> 00:44:28,960
i love

00:44:27,119 --> 00:44:30,560
looking through that data and seeing how

00:44:28,960 --> 00:44:33,359
to make these talks better so

00:44:30,560 --> 00:44:34,000
um definitely uh please go there and and

00:44:33,359 --> 00:44:37,839
leave some

00:44:34,000 --> 00:44:37,839
uh some reviews there

00:44:41,010 --> 00:44:44,000
[Laughter]

00:44:42,400 --> 00:44:51,839
tom is the only myspace friend that

00:44:44,000 --> 00:44:51,839
anybody misses

00:44:52,160 --> 00:44:55,599
yeah black hat does equal federal

00:44:53,920 --> 00:44:58,160
indictment um and

00:44:55,599 --> 00:44:58,720
uh it is nothing to to mess around with

00:44:58,160 --> 00:45:02,000
don't

00:44:58,720 --> 00:45:05,599
take anything that i've said to um uh

00:45:02,000 --> 00:45:07,040
stand up or or um promote blackout

00:45:05,599 --> 00:45:09,280
hacking by any means

00:45:07,040 --> 00:45:10,160
um it was interesting though that even

00:45:09,280 --> 00:45:13,200
at 14

00:45:10,160 --> 00:45:16,000
um he didn't get a federal indictment he

00:45:13,200 --> 00:45:16,800
he got off so um but yeah black hat

00:45:16,000 --> 00:45:19,119
hacking is

00:45:16,800 --> 00:45:20,079
is nothing to uh to mess around with now

00:45:19,119 --> 00:45:24,000
white hat hacking

00:45:20,079 --> 00:45:27,839
um and um our own company

00:45:24,000 --> 00:45:27,839
uh we have um

00:45:28,079 --> 00:45:32,640
okay well dave i definitely uh i need to

00:45:30,960 --> 00:45:33,839
find you at the next uh conference and

00:45:32,640 --> 00:45:34,800
we'll have some beers and talk about

00:45:33,839 --> 00:45:37,839
that but

00:45:34,800 --> 00:45:39,440
um one of the uh one of the interesting

00:45:37,839 --> 00:45:40,800
things when we talk about hacking and

00:45:39,440 --> 00:45:42,800
black hat and white hat

00:45:40,800 --> 00:45:44,720
uh black hat is obviously uh malicious

00:45:42,800 --> 00:45:46,079
hacking and nefarious hacking white hat

00:45:44,720 --> 00:45:48,560
hacking is

00:45:46,079 --> 00:45:49,839
something that actually companies will

00:45:48,560 --> 00:45:51,520
hire hackers to

00:45:49,839 --> 00:45:53,040
to come in and try to do some of these

00:45:51,520 --> 00:45:56,400
hacks that we've seen here

00:45:53,040 --> 00:45:58,640
um and so um

00:45:56,400 --> 00:46:00,400
so white hat hacking is a is a great way

00:45:58,640 --> 00:46:02,560
for folks that have this knowledge and

00:46:00,400 --> 00:46:06,160
have the ability to hack

00:46:02,560 --> 00:46:08,960
to actually do it for good and do it for

00:46:06,160 --> 00:46:09,520
companies when they want it to occur bug

00:46:08,960 --> 00:46:12,480
bounties

00:46:09,520 --> 00:46:14,319
are a great way of that as well we can

00:46:12,480 --> 00:46:17,680
get into some of the the more

00:46:14,319 --> 00:46:19,200
details of that as we go but um uh bug

00:46:17,680 --> 00:46:23,280
bounties are another great way

00:46:19,200 --> 00:46:25,359
um for folks to be able to um

00:46:23,280 --> 00:46:28,400
solicit feedback and solicit bugs from

00:46:25,359 --> 00:46:31,520
the uh the community that may end up um

00:46:28,400 --> 00:46:32,400
being you know a substantial security

00:46:31,520 --> 00:46:34,880
issue

00:46:32,400 --> 00:46:36,480
so we'll we'll see exactly how the uh

00:46:34,880 --> 00:46:40,160
the twitter hack comes out

00:46:36,480 --> 00:46:43,359
um but um but uh and

00:46:40,160 --> 00:46:44,480
and where that that fell and if that

00:46:43,359 --> 00:46:45,920
could have been caught by a bounty

00:46:44,480 --> 00:46:47,760
program

00:46:45,920 --> 00:46:49,680
uh do i know if the bounty program for

00:46:47,760 --> 00:46:52,160
drupal might come back i don't know

00:46:49,680 --> 00:46:53,599
um i i wish it would i wish we would

00:46:52,160 --> 00:46:56,800
have um

00:46:53,599 --> 00:47:00,560
a bounty programs for

00:46:56,800 --> 00:47:02,240
um all technologies personally um

00:47:00,560 --> 00:47:03,680
they are they're a great way to

00:47:02,240 --> 00:47:07,280
incentivize folks

00:47:03,680 --> 00:47:10,640
um to to find issues uh and report them

00:47:07,280 --> 00:47:13,520
and uh and report them uh in a

00:47:10,640 --> 00:47:15,280
um organized manner um i've seen some

00:47:13,520 --> 00:47:17,839
communities have folks

00:47:15,280 --> 00:47:19,200
that uh are going out there under the

00:47:17,839 --> 00:47:20,559
title of security researcher and then

00:47:19,200 --> 00:47:24,000
they go out and hack a bunch of

00:47:20,559 --> 00:47:25,839
uh plugins or modules or or whatever

00:47:24,000 --> 00:47:28,240
and then just post the exploits to the

00:47:25,839 --> 00:47:30,880
web and that's never good so

00:47:28,240 --> 00:47:32,000
responsible disclosure to the owner of

00:47:30,880 --> 00:47:39,839
the modular plugin

00:47:32,000 --> 00:47:39,839
is definitely necessary

00:47:44,240 --> 00:47:48,400
so eric um i think you're one of the

00:47:46,319 --> 00:47:50,240
session monitors i don't know how long

00:47:48,400 --> 00:47:52,000
this goes on i'm more than happy to stay

00:47:50,240 --> 00:47:54,559
here and chat and hang out

00:47:52,000 --> 00:47:55,280
and answer questions um from folks who

00:47:54,559 --> 00:47:58,880
are

00:47:55,280 --> 00:47:59,440
um who are here but uh i know that we're

00:47:58,880 --> 00:48:02,000
kind of

00:47:59,440 --> 00:48:04,319
uh dime and if this was a physical room

00:48:02,000 --> 00:48:06,720
i'd likely be getting shoot off

00:48:04,319 --> 00:48:08,480
and uh and told to go to the hallway so

00:48:06,720 --> 00:48:10,400
um but i'm more than happy to stay here

00:48:08,480 --> 00:48:15,839
and answer questions and talk to folks

00:48:10,400 --> 00:48:15,839
um that uh that need that need or want

00:48:18,839 --> 00:48:21,839
to

00:48:24,000 --> 00:48:28,640
do bug bounties really work with open

00:48:25,920 --> 00:48:31,680
source um

00:48:28,640 --> 00:48:33,920
sure i think they do um

00:48:31,680 --> 00:48:35,359
i mean the heart of open source would be

00:48:33,920 --> 00:48:39,359
if you find that bug you

00:48:35,359 --> 00:48:41,839
um disclose it and um

00:48:39,359 --> 00:48:42,559
responsibly and go through the core

00:48:41,839 --> 00:48:46,160
teams to

00:48:42,559 --> 00:48:47,680
to fix it however bug bounties are

00:48:46,160 --> 00:48:49,599
for some security researchers a way that

00:48:47,680 --> 00:48:50,960
they uh provide for themselves and their

00:48:49,599 --> 00:48:55,520
families and so

00:48:50,960 --> 00:48:58,640
um you know having some sort of of um

00:48:55,520 --> 00:49:01,440
of payment for that um isn't a bad thing

00:48:58,640 --> 00:49:03,520
now is it up to the open source uh

00:49:01,440 --> 00:49:04,880
project to provide that bug bounty or is

00:49:03,520 --> 00:49:06,400
it the companies around it that are

00:49:04,880 --> 00:49:09,359
supported by it that would

00:49:06,400 --> 00:49:11,599
offer that bounty i think that's kind of

00:49:09,359 --> 00:49:13,520
a better discussion there

00:49:11,599 --> 00:49:15,680
but i i'm not against bug bounties in

00:49:13,520 --> 00:49:17,280
the way that they allow for

00:49:15,680 --> 00:49:18,720
security researchers to really just hone

00:49:17,280 --> 00:49:31,839
their practice

00:49:18,720 --> 00:49:31,839
and help create a safer web

00:49:37,680 --> 00:49:41,599
yeah and one of the things about the

00:49:39,119 --> 00:49:44,160
drupal project for folks who are

00:49:41,599 --> 00:49:46,079
newer to it um or who haven't been

00:49:44,160 --> 00:49:48,640
around it as much

00:49:46,079 --> 00:49:50,640
the the companies that are around drupal

00:49:48,640 --> 00:49:52,960
really do support the project very well

00:49:50,640 --> 00:49:54,400
um and there's a quite a broad base of

00:49:52,960 --> 00:49:56,079
companies that are out

00:49:54,400 --> 00:49:58,240
supporting the project in various ways

00:49:56,079 --> 00:50:01,040
not just financially um

00:49:58,240 --> 00:50:01,599
through participation through events

00:50:01,040 --> 00:50:03,680
through

00:50:01,599 --> 00:50:04,640
uh allowing folks the time to come to

00:50:03,680 --> 00:50:08,319
these events and

00:50:04,640 --> 00:50:12,800
and um and so

00:50:08,319 --> 00:50:13,760
um so the the ability for companies to

00:50:12,800 --> 00:50:15,119
step up

00:50:13,760 --> 00:50:17,359
and footing the cost of a bug bounty

00:50:15,119 --> 00:50:20,240
program um i think is good

00:50:17,359 --> 00:50:21,680
um there are also because of just the

00:50:20,240 --> 00:50:25,040
the broadness of drupal

00:50:21,680 --> 00:50:27,839
um there's quite a bit of

00:50:25,040 --> 00:50:27,839
um

00:50:28,160 --> 00:50:34,640
the there's a broadness of

00:50:31,200 --> 00:50:37,200
um of folks that are um

00:50:34,640 --> 00:50:37,760
around and using it especially in the

00:50:37,200 --> 00:50:42,720
government

00:50:37,760 --> 00:50:42,720
and so um there are some government

00:50:42,880 --> 00:50:47,359
initiatives and grants i believe the eu

00:50:45,760 --> 00:50:50,079
still is running theirs

00:50:47,359 --> 00:50:51,040
that allows for folks to contribute to

00:50:50,079 --> 00:50:54,559
open source

00:50:51,040 --> 00:50:57,680
projects that are being used and

00:50:54,559 --> 00:50:59,200
and then use those for um

00:50:57,680 --> 00:51:01,359
and then and then able to get some of

00:50:59,200 --> 00:51:04,480
that that money as well

00:51:01,359 --> 00:51:08,720
there's a question about uh sec kit

00:51:04,480 --> 00:51:12,800
or security kit and it does

00:51:08,720 --> 00:51:14,880
uh it implements a lot of the um

00:51:12,800 --> 00:51:17,200
uh the items that that you would want to

00:51:14,880 --> 00:51:20,400
just kind of harden down a site

00:51:17,200 --> 00:51:22,559
um through um

00:51:20,400 --> 00:51:24,079
um you know cross-site request forgeries

00:51:22,559 --> 00:51:27,200
and cross-site scripting

00:51:24,079 --> 00:51:30,880
um and um ssl and

00:51:27,200 --> 00:51:34,720
forcing ssl and all that fun stuff um

00:51:30,880 --> 00:51:36,240
the question is um you know what are

00:51:34,720 --> 00:51:37,760
some of the vulnerabilities that it uh

00:51:36,240 --> 00:51:39,680
helps protect against

00:51:37,760 --> 00:51:40,800
um yeah they're all buzz words and

00:51:39,680 --> 00:51:42,480
that's part of the reason why i wanted

00:51:40,800 --> 00:51:45,040
to do a session like this is to show

00:51:42,480 --> 00:51:46,319
xss everyone sees xss and they don't

00:51:45,040 --> 00:51:47,839
know what that is they don't

00:51:46,319 --> 00:51:50,559
see what cross-site scripting can

00:51:47,839 --> 00:51:54,160
actually do to somebody or do to their

00:51:50,559 --> 00:51:55,359
um to their browser and so um

00:51:54,160 --> 00:51:57,280
yeah i mean just running down that

00:51:55,359 --> 00:52:00,240
cross-site scripting um

00:51:57,280 --> 00:52:01,359
is uh is is the top one um cross-site

00:52:00,240 --> 00:52:02,960
request forgery

00:52:01,359 --> 00:52:06,079
we didn't get into cross-site request

00:52:02,960 --> 00:52:09,359
forgery but that is when

00:52:06,079 --> 00:52:12,720
i can trick you into

00:52:09,359 --> 00:52:12,720
clicking on a button or

00:52:12,880 --> 00:52:19,040
visiting a link or doing something

00:52:16,480 --> 00:52:19,920
from one site that will then affect

00:52:19,040 --> 00:52:23,200
another site

00:52:19,920 --> 00:52:25,440
um with a request but it's an

00:52:23,200 --> 00:52:26,400
authorized request a lot of times this

00:52:25,440 --> 00:52:29,200
is done

00:52:26,400 --> 00:52:30,319
if i have um if i'm logged into one site

00:52:29,200 --> 00:52:33,359
and i have a session

00:52:30,319 --> 00:52:35,920
uh cookie for that site um i can

00:52:33,359 --> 00:52:37,839
either and again the browsers are

00:52:35,920 --> 00:52:40,319
getting really good at this

00:52:37,839 --> 00:52:41,359
and so this is becoming harder and

00:52:40,319 --> 00:52:43,680
harder to do

00:52:41,359 --> 00:52:45,280
uh but i can trick you into like one of

00:52:43,680 --> 00:52:46,000
the demos i set up for this uh in a

00:52:45,280 --> 00:52:49,280
wordpress demo

00:52:46,000 --> 00:52:52,960
that i do on a on the same style of

00:52:49,280 --> 00:52:55,359
uh demo is uh i i trick the

00:52:52,960 --> 00:52:57,119
the uh empire into clicking a button to

00:52:55,359 --> 00:52:58,400
find out where is the rebel base right

00:52:57,119 --> 00:53:00,079
click here for the rebel base kind of

00:52:58,400 --> 00:53:02,720
those buzzfeedy

00:53:00,079 --> 00:53:05,839
clickbait words and um when they click

00:53:02,720 --> 00:53:08,160
on it it actually sends them to a form

00:53:05,839 --> 00:53:10,000
that i found in my you know poorly

00:53:08,160 --> 00:53:13,040
written plugin

00:53:10,000 --> 00:53:16,240
that isn't checking for

00:53:13,040 --> 00:53:16,960
nonces and isn't checking for um form

00:53:16,240 --> 00:53:19,520
hashes

00:53:16,960 --> 00:53:20,000
because uh because i wasn't using them

00:53:19,520 --> 00:53:22,000
um

00:53:20,000 --> 00:53:24,480
and so there's no way to tell if that

00:53:22,000 --> 00:53:26,640
request came from a form that i

00:53:24,480 --> 00:53:28,880
as the server had put out or it came

00:53:26,640 --> 00:53:30,880
from a form or just a post from a

00:53:28,880 --> 00:53:32,800
another source and so i can trick

00:53:30,880 --> 00:53:35,200
somebody into clicking on something

00:53:32,800 --> 00:53:36,319
and doing an action an authenticated

00:53:35,200 --> 00:53:39,920
action somewhere else so

00:53:36,319 --> 00:53:41,760
um forging that request

00:53:39,920 --> 00:53:44,000
from from a different site browsers are

00:53:41,760 --> 00:53:47,040
protecting against that really well now

00:53:44,000 --> 00:53:49,599
um and so does uh drupal core

00:53:47,040 --> 00:53:49,599
has a lot of

00:53:50,400 --> 00:53:53,440
has a lot of safeguards in place against

00:53:52,559 --> 00:53:56,640
that as well

00:53:53,440 --> 00:53:59,680
and so um yeah

00:53:56,640 --> 00:54:01,920
i mean um the

00:53:59,680 --> 00:54:02,800
the uh the other one that i i haven't

00:54:01,920 --> 00:54:06,800
plugged yet

00:54:02,800 --> 00:54:11,520
is um garter g-u-a-r-d-r

00:54:06,800 --> 00:54:14,720
um i'll put it

00:54:11,520 --> 00:54:17,040
here in the chat um

00:54:14,720 --> 00:54:17,040
and

00:54:18,480 --> 00:54:26,240
i will grab the link here real quick

00:54:21,760 --> 00:54:29,839
um but this is uh uh my friend shrop

00:54:26,240 --> 00:54:32,720
he um is one of the maintainers of this

00:54:29,839 --> 00:54:33,359
and basically garter is a distribution

00:54:32,720 --> 00:54:36,799
of

00:54:33,359 --> 00:54:39,839
all of these um security

00:54:36,799 --> 00:54:41,200
modules kind of baked into one and so it

00:54:39,839 --> 00:54:44,559
does a lot of

00:54:41,200 --> 00:54:47,839
um it does a lot of that

00:54:44,559 --> 00:54:50,960
core hardening for you above and beyond

00:54:47,839 --> 00:54:52,400
what what comes out of the box so things

00:54:50,960 --> 00:54:56,160
like password policies

00:54:52,400 --> 00:55:00,000
um watchdog um

00:54:56,160 --> 00:55:00,880
um uh it extends the logs on watchdogs

00:55:00,000 --> 00:55:06,160
so you can see

00:55:00,880 --> 00:55:09,599
uh more things sometimes with um uh

00:55:06,160 --> 00:55:11,359
watchdog if it's not capturing enough

00:55:09,599 --> 00:55:11,839
logs i can flood you with a bunch of

00:55:11,359 --> 00:55:13,520
errors

00:55:11,839 --> 00:55:15,040
to kick out something that i've already

00:55:13,520 --> 00:55:20,079
done um

00:55:15,040 --> 00:55:21,680
and um yeah just various things like um

00:55:20,079 --> 00:55:23,119
it'll warn you when a disc is about to

00:55:21,680 --> 00:55:27,520
fill up to prevent

00:55:23,119 --> 00:55:31,119
ddos attacks hide fatal errors

00:55:27,520 --> 00:55:32,640
all sorts of stuff and then the paranoia

00:55:31,119 --> 00:55:35,760
module

00:55:32,640 --> 00:55:37,440
for for folks who are on drupal 7 uh and

00:55:35,760 --> 00:55:38,240
i know there's still a larger contingent

00:55:37,440 --> 00:55:41,359
out there

00:55:38,240 --> 00:55:43,200
um for folks that are on drupal 7 it

00:55:41,359 --> 00:55:44,319
blocks the php filter from being turned

00:55:43,200 --> 00:55:47,359
on which

00:55:44,319 --> 00:55:48,079
thank god was removed from um uh triple

00:55:47,359 --> 00:55:51,280
eight and

00:55:48,079 --> 00:55:52,720
is still gone in drupal 9. um but that

00:55:51,280 --> 00:55:55,040
is uh definitely one of the

00:55:52,720 --> 00:55:56,880
larger holes that uh that drupal had in

00:55:55,040 --> 00:55:59,040
it is that if i could get in

00:55:56,880 --> 00:56:01,119
um as an admin or somehow escalate my

00:55:59,040 --> 00:56:03,040
privileges as an admin i could then turn

00:56:01,119 --> 00:56:04,799
on the php filter and start wrecking all

00:56:03,040 --> 00:56:08,160
sorts of havoc across the site

00:56:04,799 --> 00:56:09,280
um and so uh yeah develop php is the

00:56:08,160 --> 00:56:11,839
same thing

00:56:09,280 --> 00:56:13,359
a lot of sites will leave that turned on

00:56:11,839 --> 00:56:16,799
and so

00:56:13,359 --> 00:56:18,480
same type of thing devel should never be

00:56:16,799 --> 00:56:21,520
turned on in

00:56:18,480 --> 00:56:22,720
production but it also the paranoia

00:56:21,520 --> 00:56:26,240
module

00:56:22,720 --> 00:56:27,280
helps keep all that um uh helps keep all

00:56:26,240 --> 00:56:30,640
that at bay

00:56:27,280 --> 00:56:31,520
um yeah develops remote code execution

00:56:30,640 --> 00:56:33,839
as a service

00:56:31,520 --> 00:56:34,960
um i don't know if that's a sas uh type

00:56:33,839 --> 00:56:38,559
company that would

00:56:34,960 --> 00:56:40,319
um take off too well but um yeah so

00:56:38,559 --> 00:56:41,680
definitely check out garter check out

00:56:40,319 --> 00:56:43,119
setkick um

00:56:41,680 --> 00:56:46,960
those are good ways to kind of get those

00:56:43,119 --> 00:56:48,079
basic pieces in place

00:56:46,960 --> 00:56:50,559
some of the things that i don't

00:56:48,079 --> 00:56:52,640
necessarily agree with are the

00:56:50,559 --> 00:56:53,680
security through obscurity approaches so

00:56:52,640 --> 00:56:57,440
the idea that

00:56:53,680 --> 00:56:59,520
i'm going to somehow hide that i'm from

00:56:57,440 --> 00:57:02,000
drupal by not putting it in the meta

00:56:59,520 --> 00:57:03,440
um i don't know about um those of you

00:57:02,000 --> 00:57:07,599
that have been around the

00:57:03,440 --> 00:57:09,200
project for a while but when i go to a

00:57:07,599 --> 00:57:10,720
site and i want to see if it's from

00:57:09,200 --> 00:57:12,240
drupal or not i don't i mean the first

00:57:10,720 --> 00:57:14,720
place i look is the

00:57:12,240 --> 00:57:16,640
obviously in the head to see if it's got

00:57:14,720 --> 00:57:18,480
the metagenerator there but

00:57:16,640 --> 00:57:20,720
i can tell from the dom structure if

00:57:18,480 --> 00:57:24,000
it's drupal or not very quickly

00:57:20,720 --> 00:57:26,240
i can see views i can see

00:57:24,000 --> 00:57:27,040
paragraphs blocks you just start looking

00:57:26,240 --> 00:57:29,839
for some of the

00:57:27,040 --> 00:57:31,520
the common um terminology and the common

00:57:29,839 --> 00:57:32,480
uh dom structure that that drupal

00:57:31,520 --> 00:57:33,839
outputs

00:57:32,480 --> 00:57:35,680
so some of those security through

00:57:33,839 --> 00:57:37,920
obscurity um

00:57:35,680 --> 00:57:39,440
it's it'll make folks feel good that

00:57:37,920 --> 00:57:41,599
they're trying to clean that off and

00:57:39,440 --> 00:57:43,040
trying to make it not look like drupal

00:57:41,599 --> 00:57:44,799
but at the end of the day it's still

00:57:43,040 --> 00:57:46,880
fairly easy to tell

00:57:44,799 --> 00:57:49,520
unless you're really overwriting things

00:57:46,880 --> 00:57:51,119
in the um

00:57:49,520 --> 00:57:52,720
if you're really overwriting things in

00:57:51,119 --> 00:57:54,400
the uh

00:57:52,720 --> 00:57:56,000
in the template layer uh it's pretty

00:57:54,400 --> 00:57:57,200
easy to find that that something is

00:57:56,000 --> 00:58:01,359
still drupal

00:57:57,200 --> 00:58:02,160
um and so um yeah it's it's similar to

00:58:01,359 --> 00:58:04,400
the

00:58:02,160 --> 00:58:06,480
uh changing where the user login is from

00:58:04,400 --> 00:58:09,920
rather than slash user slash login to

00:58:06,480 --> 00:58:13,119
something completely different um that

00:58:09,920 --> 00:58:16,240
um while useful for for

00:58:13,119 --> 00:58:17,920
keeping spam from folks trying to um

00:58:16,240 --> 00:58:20,319
just kind of brute force their way in

00:58:17,920 --> 00:58:23,839
drupal already has brute force

00:58:20,319 --> 00:58:25,760
protections in it um it'll prevent folks

00:58:23,839 --> 00:58:28,400
from trying to

00:58:25,760 --> 00:58:30,480
you know access it and and see that it's

00:58:28,400 --> 00:58:33,920
drupal because again of the pathway

00:58:30,480 --> 00:58:34,559
um and so some of that obscurity is good

00:58:33,920 --> 00:58:36,480
for

00:58:34,559 --> 00:58:37,599
what we call script kitties or the the

00:58:36,480 --> 00:58:40,400
folks that are

00:58:37,599 --> 00:58:40,960
are younger in their um black hat ways

00:58:40,400 --> 00:58:44,000
but

00:58:40,960 --> 00:58:45,839
um the idea of of trying to obscure your

00:58:44,000 --> 00:58:47,599
whole site away from being drupal

00:58:45,839 --> 00:58:51,839
i just don't think you can do it i don't

00:58:47,599 --> 00:58:51,839
think you can do it effectively

00:59:03,839 --> 00:59:08,559
yeah boris is saying he changes his uh

00:59:06,160 --> 00:59:12,160
change log with uh one from type o three

00:59:08,559 --> 00:59:12,559
um yep that'll work um it'll definitely

00:59:12,160 --> 00:59:14,240
uh

00:59:12,559 --> 00:59:15,680
uh that's definitely one way of doing it

00:59:14,240 --> 00:59:17,440
for sure um

00:59:15,680 --> 00:59:18,799
you'll you'll start getting different

00:59:17,440 --> 00:59:33,839
attacks against you but

00:59:18,799 --> 00:59:33,839
but they won't be quadruple ones

00:59:42,720 --> 00:59:46,000
all right folks i think i'm going to

00:59:44,079 --> 00:59:48,079
wrap it up unless there's any last

00:59:46,000 --> 00:59:49,760
questions or thoughts that you guys want

00:59:48,079 --> 00:59:52,559
to throw in the chat there

00:59:49,760 --> 00:59:54,480
i'll go ahead and sign off and i will

00:59:52,559 --> 00:59:57,520
hopefully see you guys

00:59:54,480 --> 00:59:59,920
you folks all pretty soon in

00:59:57,520 --> 01:00:01,520
in person whether that's barcelona if

00:59:59,920 --> 01:00:03,760
we're able to get out there

01:00:01,520 --> 01:00:05,920
or wherever it may be i hope you and

01:00:03,760 --> 01:00:07,119
yours stay safe and healthy throughout

01:00:05,920 --> 01:00:08,319
this all

01:00:07,119 --> 01:00:11,599
and look forward to seeing everyone

01:00:08,319 --> 01:00:14,319
again so thank you for having me again

01:00:11,599 --> 01:00:23,760
drupalcon global and the organizing team

01:00:14,319 --> 01:00:23,760

YouTube URL: https://www.youtube.com/watch?v=1iLBoak9QRs


