Title: DrupalCon Asia 2016: The New Mobile Web Trinity Callahad
Publication date: 2016-04-21
Playlist: DrupalCon Asia - Feb 2016
Description: 
	
Captions: 
	00:00:29,990 --> 00:00:35,570
a lot of code examples please make sure

00:00:32,360 --> 00:00:38,989
you can read text of that size everyone

00:00:35,570 --> 00:00:40,670
in the back are you good okay you all

00:00:38,989 --> 00:00:44,629
have your glasses on y'all have eyesight

00:00:40,670 --> 00:00:46,879
that better than mine we're good so I'm

00:00:44,629 --> 00:00:49,550
Dan this talk is going to be about the

00:00:46,879 --> 00:00:50,989
new mobile web I put the word mobile in

00:00:49,550 --> 00:00:55,519
there so that I have a better chance of

00:00:50,989 --> 00:00:57,140
this talk getting accepted well but

00:00:55,519 --> 00:00:59,239
there's nothing vogel specific about it

00:00:57,140 --> 00:01:00,980
the the web is the web it's the same web

00:00:59,239 --> 00:01:03,080
on your phone as it is on your laptop as

00:01:00,980 --> 00:01:05,720
it is on desktop i think i'm going to

00:01:03,080 --> 00:01:07,970
show you today is a glimpse of of the

00:01:05,720 --> 00:01:09,140
future of where the web can go the

00:01:07,970 --> 00:01:11,390
things that isn't learning how to do

00:01:09,140 --> 00:01:15,200
that make it more competitive especially

00:01:11,390 --> 00:01:18,229
on mobile but also on desktop so you can

00:01:15,200 --> 00:01:20,450
email me d callahan mozilla com my

00:01:18,229 --> 00:01:21,890
twitter table is how i had put it down

00:01:20,450 --> 00:01:24,380
in the corner does understand all the

00:01:21,890 --> 00:01:26,360
slides feel free to meet me and i have

00:01:24,380 --> 00:01:29,000
stickers the encoding grab at the end of

00:01:26,360 --> 00:01:31,700
the talk so please don't make me take

00:01:29,000 --> 00:01:35,140
those home i had to declare them to

00:01:31,700 --> 00:01:38,060
customs so i would likely to say here so

00:01:35,140 --> 00:01:40,429
I work for Mozilla you might be familiar

00:01:38,060 --> 00:01:42,770
with Mozilla because we make a small

00:01:40,429 --> 00:01:47,259
open source project called Firefox which

00:01:42,770 --> 00:01:48,920
is a free browser that has been really

00:01:47,259 --> 00:01:51,499
leading the charge in terms of

00:01:48,920 --> 00:01:52,909
standardization and focusing on the web

00:01:51,499 --> 00:01:58,189
that something should be interoperable

00:01:52,909 --> 00:02:01,609
for 13 14 years now the firebox is going

00:01:58,189 --> 00:02:03,920
on what was the lit up it was a little

00:02:01,609 --> 00:02:06,020
bit unlike Microsoft or Apple or Google

00:02:03,920 --> 00:02:08,360
mozilla the nonprofit and so our

00:02:06,020 --> 00:02:11,210
interest in building one browsers we're

00:02:08,360 --> 00:02:13,819
trying to have a technical state in

00:02:11,210 --> 00:02:16,510
making sure the web stays open and stays

00:02:13,819 --> 00:02:20,120
compatible and stays interoperable and

00:02:16,510 --> 00:02:22,370
you can't have an open public resource

00:02:20,120 --> 00:02:24,830
of the web if a single company in

00:02:22,370 --> 00:02:27,020
dictated this is now how you do X and it

00:02:24,830 --> 00:02:29,090
only works in my browser this lady why

00:02:27,020 --> 00:02:30,200
you have to you go back to the 90 for

00:02:29,090 --> 00:02:32,480
you have to choose between the Netscape

00:02:30,200 --> 00:02:34,459
web or the internet explorer 11 and we

00:02:32,480 --> 00:02:37,190
don't want that so mozillas muzzle is

00:02:34,459 --> 00:02:40,010
working to keep the web of in love

00:02:37,190 --> 00:02:42,290
compatible and the reason the web's

00:02:40,010 --> 00:02:45,470
worth fighting for you think it makes a

00:02:42,290 --> 00:02:48,080
lot special is the URL URLs are

00:02:45,470 --> 00:02:51,320
universal URLs they break barriers they

00:02:48,080 --> 00:02:55,010
transcend borders if you know URL you

00:02:51,320 --> 00:02:57,350
can go to a website there's no URL so

00:02:55,010 --> 00:02:58,640
there's no gate keeper if you have

00:02:57,350 --> 00:03:01,760
access to the web you have access to the

00:02:58,640 --> 00:03:04,330
whole web barring you know firewalls or

00:03:01,760 --> 00:03:07,610
proxy to letter but but there's no

00:03:04,330 --> 00:03:11,060
implicit control over who can publish on

00:03:07,610 --> 00:03:12,770
the web this is really important when

00:03:11,060 --> 00:03:15,440
you start looking bubble mobile phones

00:03:12,770 --> 00:03:17,920
and the rise of app stores so imagine

00:03:15,440 --> 00:03:20,680
seven years ago you live in nigeria

00:03:17,920 --> 00:03:24,290
nigeria is a top 20 economy in the world

00:03:20,680 --> 00:03:26,000
and say you have an iphone in nigerian

00:03:24,290 --> 00:03:29,030
seven years ago on that iphone you'd be

00:03:26,000 --> 00:03:30,740
able to access the whole web but you

00:03:29,030 --> 00:03:35,090
would still have to wait three more

00:03:30,740 --> 00:03:37,100
years wasn't until 2011 that nigeria got

00:03:35,090 --> 00:03:39,680
an app store but apple days to release a

00:03:37,100 --> 00:03:42,890
for nigeria and so so for whatever

00:03:39,680 --> 00:03:46,600
reason is this move to apps has imposed

00:03:42,890 --> 00:03:49,100
national borders on on content again and

00:03:46,600 --> 00:03:54,290
just that's that's not okay that's worth

00:03:49,100 --> 00:03:57,860
fighting against but people lookbooks

00:03:54,290 --> 00:04:00,950
times getting into people would have

00:03:57,860 --> 00:04:03,170
looked at the web and they've demanded

00:04:00,950 --> 00:04:04,670
apps even though the web give you so

00:04:03,170 --> 00:04:07,910
much even though go what has this this

00:04:04,670 --> 00:04:10,610
university ality and wise if you go back

00:04:07,910 --> 00:04:12,950
and look at the original message that

00:04:10,610 --> 00:04:14,450
tin are that a Steve Jobs had we

00:04:12,950 --> 00:04:16,970
announced the iphone said you want to

00:04:14,450 --> 00:04:18,890
develop an app for the iphone use html5

00:04:16,970 --> 00:04:21,739
the way you put apps on the iphone is

00:04:18,890 --> 00:04:23,900
with the web look at what was it ready

00:04:21,739 --> 00:04:26,360
and took three or four releases of iOS

00:04:23,900 --> 00:04:27,830
before people said that apple's at all

00:04:26,360 --> 00:04:30,710
right fine your link will let you build

00:04:27,830 --> 00:04:32,270
actual native apps for the iPhone and

00:04:30,710 --> 00:04:34,940
then why am why did they win they went

00:04:32,270 --> 00:04:36,800
for three reasons abston to be

00:04:34,940 --> 00:04:39,440
installable they tend to be a lot more

00:04:36,800 --> 00:04:41,060
reliable you know I don't have to worry

00:04:39,440 --> 00:04:43,010
about when I open up my podcast app on a

00:04:41,060 --> 00:04:45,600
flight that's going to say oh I can't

00:04:43,010 --> 00:04:47,730
connect because it's an app is offline

00:04:45,600 --> 00:04:49,350
and absolutely more engaging because

00:04:47,730 --> 00:04:51,360
they can notify you even when you're not

00:04:49,350 --> 00:04:53,880
looking at the app you get a message

00:04:51,360 --> 00:04:56,280
that says hey you have a an email yup

00:04:53,880 --> 00:04:58,890
text you just finished remover right

00:04:56,280 --> 00:05:00,990
please rate the driver all those come

00:04:58,890 --> 00:05:02,910
just in time without having to keep the

00:05:00,990 --> 00:05:04,800
specific context open you don't have to

00:05:02,910 --> 00:05:07,950
keep like the goober tab open to hit

00:05:04,800 --> 00:05:10,320
that and so apps offer really compelling

00:05:07,950 --> 00:05:15,750
advantages for user experience and for

00:05:10,320 --> 00:05:20,460
polish and then dig one and the web

00:05:15,750 --> 00:05:22,650
couldn't use until this year so starting

00:05:20,460 --> 00:05:23,850
2016 mozilla and google along with other

00:05:22,650 --> 00:05:25,710
browser manufacturers it's sort of

00:05:23,850 --> 00:05:28,110
really focus on what we can do to

00:05:25,710 --> 00:05:30,420
address those three deficiencies how can

00:05:28,110 --> 00:05:32,220
we make the web insolvable how can make

00:05:30,420 --> 00:05:34,080
the web more reliable help me make a lot

00:05:32,220 --> 00:05:36,150
more engaging so i'm going to walk

00:05:34,080 --> 00:05:38,840
through how each of these things works

00:05:36,150 --> 00:05:44,120
and how the web solves these problems

00:05:38,840 --> 00:05:49,290
start with installation when folks get

00:05:44,120 --> 00:05:51,330
those knees slippers problem URLs are

00:05:49,290 --> 00:05:52,770
great but urls really want you to have a

00:05:51,330 --> 00:05:55,110
keyboard right like it's really easy to

00:05:52,770 --> 00:06:00,320
type gmail it's really hard to on your

00:05:55,110 --> 00:06:02,430
phone tap gmai lcom tiny keyboards pain

00:06:00,320 --> 00:06:04,920
what you want my food you want a big

00:06:02,430 --> 00:06:09,000
pretty icon you can tap and just go to

00:06:04,920 --> 00:06:11,520
whatever you're looking for so i put the

00:06:09,000 --> 00:06:13,500
twitter app away phone i put x added to

00:06:11,520 --> 00:06:14,670
homescreen the twitter website can

00:06:13,500 --> 00:06:17,900
anyone guess which of these is the

00:06:14,670 --> 00:06:17,900
website which of these is the app

00:06:18,699 --> 00:06:24,860
so the one on the left is probably the

00:06:21,289 --> 00:06:26,569
website how do you know because it looks

00:06:24,860 --> 00:06:28,939
terrible compared to a lot of the right

00:06:26,569 --> 00:06:32,629
the applets a lot nicer there's this big

00:06:28,939 --> 00:06:35,269
quality gap and when I click on the icon

00:06:32,629 --> 00:06:36,559
on the left my browser opens up and I

00:06:35,269 --> 00:06:38,899
get twitter but I get a version of

00:06:36,559 --> 00:06:41,209
Twitter that's near the end of our comm

00:06:38,899 --> 00:06:43,729
from years ago it's it doesn't look

00:06:41,209 --> 00:06:46,309
anything like modern player it works but

00:06:43,729 --> 00:06:48,589
I also have the URL bar up top at the

00:06:46,309 --> 00:06:50,419
navigation menus on bottom and so this

00:06:48,589 --> 00:06:54,759
browser interface also takes up a lot of

00:06:50,419 --> 00:06:57,379
the room that I wish I had for my app

00:06:54,759 --> 00:06:59,300
and if I'm not connected to the internet

00:06:57,379 --> 00:07:00,889
I get that which is also not a super

00:06:59,300 --> 00:07:04,489
great experience work like I'm trying

00:07:00,889 --> 00:07:05,719
use for the app on my phone it has some

00:07:04,489 --> 00:07:07,219
tweets that it's already loaded it's

00:07:05,719 --> 00:07:10,329
fine it still works i don't get huge

00:07:07,219 --> 00:07:13,339
weeds but try to use twitter on the web

00:07:10,329 --> 00:07:14,179
does it work so how do we fix that i'm

00:07:13,339 --> 00:07:17,419
going to show you how to fix all that

00:07:14,179 --> 00:07:19,279
but let's start with this problem of of

00:07:17,419 --> 00:07:23,300
just the difference in how these things

00:07:19,279 --> 00:07:24,619
look when you use them we're installed

00:07:23,300 --> 00:07:26,779
up by using a technology called app

00:07:24,619 --> 00:07:27,709
manifest at manifest or a standard like

00:07:26,779 --> 00:07:29,509
everything going to tell you today

00:07:27,709 --> 00:07:32,300
everything is a standard there's very

00:07:29,509 --> 00:07:33,949
implementation so chrome fully supports

00:07:32,300 --> 00:07:36,860
manifest right now firefox were working

00:07:33,949 --> 00:07:38,209
on it all the manifest is is something

00:07:36,860 --> 00:07:40,129
you can add to the head of your doctor

00:07:38,209 --> 00:07:42,139
you say link rel manifest point to a

00:07:40,129 --> 00:07:45,169
JSON document in that document you can

00:07:42,139 --> 00:07:47,329
say things like name clipart light icons

00:07:45,169 --> 00:07:49,939
start URL said no matter where I

00:07:47,329 --> 00:07:52,339
bookmark this page whenever I open it

00:07:49,939 --> 00:07:55,550
from my home screen I'll go to that

00:07:52,339 --> 00:07:57,319
route document I can set the orientation

00:07:55,550 --> 00:07:59,479
so if I'm holding my phone sideways and

00:07:57,319 --> 00:08:01,419
I click on the foot part the screen will

00:07:59,479 --> 00:08:04,610
team will flip so it uses the

00:08:01,419 --> 00:08:05,989
orientation of developers one I can set

00:08:04,610 --> 00:08:07,479
the display to stand alone we'll see

00:08:05,989 --> 00:08:09,889
what that means in just a second but

00:08:07,479 --> 00:08:12,709
look at this so flip kart 8 months ago

00:08:09,889 --> 00:08:14,360
took down their mobile website three

00:08:12,709 --> 00:08:15,379
months ago they relaunched it using the

00:08:14,360 --> 00:08:17,360
techniques I'm going to talk about

00:08:15,379 --> 00:08:18,919
they've had a lot of success because of

00:08:17,360 --> 00:08:21,649
the disc this is this is foot part in

00:08:18,919 --> 00:08:23,059
chrome on Android and you know their

00:08:21,649 --> 00:08:24,819
mobile website never little thing says

00:08:23,059 --> 00:08:26,569
install this web app to your phone and

00:08:24,819 --> 00:08:28,610
you're in the browser you can see the

00:08:26,569 --> 00:08:29,409
URL bar up here normal browser

00:08:28,610 --> 00:08:31,659
experience

00:08:29,409 --> 00:08:33,899
you tap that button tells you go into

00:08:31,659 --> 00:08:40,750
the menu and choose add the home screen

00:08:33,899 --> 00:08:43,419
so they do that at home screen the

00:08:40,750 --> 00:08:46,689
little dialogue okay and now when I go

00:08:43,419 --> 00:08:48,339
back to the home page on my phone I can

00:08:46,689 --> 00:08:51,129
flip cart icon that looks just like all

00:08:48,339 --> 00:08:52,779
the other icons on my my home screen

00:08:51,129 --> 00:08:56,050
doesn't look different because it's part

00:08:52,779 --> 00:08:58,420
of the web and when I click it this is a

00:08:56,050 --> 00:09:00,910
really nice thing that happens because

00:08:58,420 --> 00:09:03,189
it's step display stand alone knows that

00:09:00,910 --> 00:09:06,040
there's no URL bar there's no navigation

00:09:03,189 --> 00:09:08,220
this looks indistinguishable from a

00:09:06,040 --> 00:09:10,509
native app on the phone it works offline

00:09:08,220 --> 00:09:13,089
it's super smooth that got it on my

00:09:10,509 --> 00:09:15,850
phone is amazing what they've done the

00:09:13,089 --> 00:09:17,860
only reason you know this web and not

00:09:15,850 --> 00:09:20,529
need it is view about the developer

00:09:17,860 --> 00:09:21,550
tools so if you're here Webbie agency if

00:09:20,529 --> 00:09:22,649
you're building things and careful and

00:09:21,550 --> 00:09:24,939
you have clients come to you and say

00:09:22,649 --> 00:09:25,959
well this is a great mobile site but I

00:09:24,939 --> 00:09:28,180
really want something in the App Store

00:09:25,959 --> 00:09:30,670
really wants a thing in the place or oh

00:09:28,180 --> 00:09:32,110
maybe maybe you don't do that or I

00:09:30,670 --> 00:09:33,550
really want offline maybe you don't need

00:09:32,110 --> 00:09:35,949
to build an app to do that maybe to do

00:09:33,550 --> 00:09:37,209
it just with a lot they need any

00:09:35,949 --> 00:09:40,180
questions at this point does that make

00:09:37,209 --> 00:09:42,430
sense cuz he actually used for park

00:09:40,180 --> 00:09:50,230
since they relaunched the mobile does it

00:09:42,430 --> 00:09:51,910
work good good yeah so so before you

00:09:50,230 --> 00:09:53,259
want to talk a little bit about the

00:09:51,910 --> 00:09:55,120
other products so the installation gets

00:09:53,259 --> 00:09:57,339
all by the amethyst the other two

00:09:55,120 --> 00:09:59,649
problems are that web apps typically

00:09:57,339 --> 00:10:02,889
have not been reliable the upper cut

00:09:59,649 --> 00:10:06,069
line and second fit web apps contended

00:10:02,889 --> 00:10:07,870
to not be terribly engaging like they

00:10:06,069 --> 00:10:09,189
can't notify you have to you have to do

00:10:07,870 --> 00:10:12,130
all the work to go and check your email

00:10:09,189 --> 00:10:13,630
in the web app and to do is we're gonna

00:10:12,130 --> 00:10:15,220
look a lot of code to look at the code

00:10:13,630 --> 00:10:17,259
understanding we need to understand

00:10:15,220 --> 00:10:18,759
singh ji syntax in javascript the first

00:10:17,259 --> 00:10:21,490
or arrow functions will see these are

00:10:18,759 --> 00:10:25,629
black it's just a shorthand where you

00:10:21,490 --> 00:10:28,180
can say arguments arrow return value so

00:10:25,629 --> 00:10:30,910
these two lines are equivalent but one

00:10:28,180 --> 00:10:33,990
is just a lot shorter that makes sense

00:10:30,910 --> 00:10:33,990
anyone have questions about that

00:10:34,360 --> 00:10:39,980
second our promises promises showed up

00:10:37,160 --> 00:10:41,870
in PS 2015 and there are new way of

00:10:39,980 --> 00:10:44,840
handling a synchronous code so

00:10:41,870 --> 00:10:46,640
JavaScript is naturally asynchronous and

00:10:44,840 --> 00:10:48,350
what we dealt with this in the past has

00:10:46,640 --> 00:10:50,600
been by having these giant nested

00:10:48,350 --> 00:10:52,010
pyramids and callbacks which is huge me

00:10:50,600 --> 00:10:53,810
because every call that get the handle

00:10:52,010 --> 00:10:56,000
errors that should all sorts other work

00:10:53,810 --> 00:10:58,910
what promises do is they let me flatten

00:10:56,000 --> 00:11:01,160
that pyramid and have a chain of a

00:10:58,910 --> 00:11:02,990
function to get called so in this case I

00:11:01,160 --> 00:11:05,570
the function get data that calls fetch

00:11:02,990 --> 00:11:07,910
and then we such as done that returns a

00:11:05,570 --> 00:11:10,730
promise promises have two methods then

00:11:07,910 --> 00:11:13,900
in cash then says when this finishes

00:11:10,730 --> 00:11:17,300
then pass the result into this function

00:11:13,900 --> 00:11:19,000
which returns a promise then when Foofa

00:11:17,300 --> 00:11:21,410
just passed result of that in the bar

00:11:19,000 --> 00:11:23,270
and if there's an error in any of these

00:11:21,410 --> 00:11:25,310
three functions in fetch through or bar

00:11:23,270 --> 00:11:27,920
that air it is passed into the handle

00:11:25,310 --> 00:11:29,750
function so lets you do all your air

00:11:27,920 --> 00:11:31,880
handling in one place at the very end is

00:11:29,750 --> 00:11:34,850
super super convenient resultant much

00:11:31,880 --> 00:11:36,320
neater code and lets you do things like

00:11:34,850 --> 00:11:38,390
arts i'm going to try to get data and

00:11:36,320 --> 00:11:40,370
then i want to take this process data

00:11:38,390 --> 00:11:42,020
and do whatever but this callback

00:11:40,370 --> 00:11:43,310
doesn't get run until everything about

00:11:42,020 --> 00:11:47,290
it all the rest of the chain has

00:11:43,310 --> 00:11:50,570
finished you will see this a lot because

00:11:47,290 --> 00:11:52,100
promises are being very very deeply and

00:11:50,570 --> 00:11:55,760
do all these new web platform features

00:11:52,100 --> 00:11:57,320
so fetch is a promise 25 version but xhr

00:11:55,760 --> 00:11:59,990
so if you're doing like ajax requests

00:11:57,320 --> 00:12:01,160
use the xmlhttprequest such as a

00:11:59,990 --> 00:12:04,040
replacement for that as much more

00:12:01,160 --> 00:12:06,380
ergonomic but it's based on promises

00:12:04,040 --> 00:12:09,410
instead of callbacks service workers

00:12:06,380 --> 00:12:12,200
push permission api's all of those are

00:12:09,410 --> 00:12:14,330
also being built on promises and there's

00:12:12,200 --> 00:12:16,040
an upcoming extension to the syntactic

00:12:14,330 --> 00:12:17,780
javascript a sequel wait that may be

00:12:16,040 --> 00:12:20,930
even easier to write AC for this code

00:12:17,780 --> 00:12:22,460
but all those are are syntactic sugar on

00:12:20,930 --> 00:12:24,290
how the promises so they still behave

00:12:22,460 --> 00:12:26,150
the same way you don't understand how

00:12:24,290 --> 00:12:28,780
promises work to take it the edge of

00:12:26,150 --> 00:12:28,780
some of these new features

00:12:28,790 --> 00:12:32,720
the the think you might process is there

00:12:31,070 --> 00:12:34,880
basically a very simple state machine

00:12:32,720 --> 00:12:37,150
promises can be in one of three states

00:12:34,880 --> 00:12:40,640
they can be pending or they can be

00:12:37,150 --> 00:12:42,770
fulfilled or they can be rejected and a

00:12:40,640 --> 00:12:45,440
promise will only ever transition once

00:12:42,770 --> 00:12:47,840
it can go from pending fulfilled pending

00:12:45,440 --> 00:12:49,460
to reject it and that's it will never go

00:12:47,840 --> 00:12:51,770
backwards will never change from fulfill

00:12:49,460 --> 00:12:52,850
to rejected and what it says is like all

00:12:51,770 --> 00:12:55,640
right like go and try and make a never

00:12:52,850 --> 00:12:57,770
plus I say like fetch data then do

00:12:55,640 --> 00:12:59,990
whatever so that pops will start out

00:12:57,770 --> 00:13:01,820
pending and then when the data is

00:12:59,990 --> 00:13:03,470
available the palace will become

00:13:01,820 --> 00:13:05,860
fulfilled and we'll call all of the dot

00:13:03,470 --> 00:13:08,480
then call backs that up and register on

00:13:05,860 --> 00:13:12,050
its promises you will need to understand

00:13:08,480 --> 00:13:13,460
them because we're going to use the

00:13:12,050 --> 00:13:16,210
living daylights out of them in service

00:13:13,460 --> 00:13:18,230
workers so what our service workers

00:13:16,210 --> 00:13:21,050
service workers of the second key

00:13:18,230 --> 00:13:23,030
technology lets us solve offline and

00:13:21,050 --> 00:13:24,770
push notifications service workers

00:13:23,030 --> 00:13:27,350
really simply our JavaScript programs

00:13:24,770 --> 00:13:29,960
that have superpowers so a service

00:13:27,350 --> 00:13:31,610
worker can run a single service worker

00:13:29,960 --> 00:13:33,350
can be shared between multiple tabs a

00:13:31,610 --> 00:13:36,230
service worker can run in the background

00:13:33,350 --> 00:13:37,910
without any tabs open service workers

00:13:36,230 --> 00:13:41,030
and handle push service workers can be

00:13:37,910 --> 00:13:43,430
programmed to acts as a proxy between

00:13:41,030 --> 00:13:47,470
your website and the broader internet

00:13:43,430 --> 00:13:49,730
and this is what's going to let us solve

00:13:47,470 --> 00:13:52,880
the other two problems with the mobile

00:13:49,730 --> 00:13:54,470
web service workers are pretty

00:13:52,880 --> 00:13:56,300
straightforward to use you check for

00:13:54,470 --> 00:13:57,980
support by sucking if the service worker

00:13:56,300 --> 00:14:00,350
property exists inside the navigator

00:13:57,980 --> 00:14:02,300
object in your hand if so then you call

00:14:00,350 --> 00:14:04,700
navigator surface worker register and

00:14:02,300 --> 00:14:06,230
pass out a path to a script service

00:14:04,700 --> 00:14:07,970
workers are scoped so this case I'm

00:14:06,230 --> 00:14:10,730
saying this scope is the root of the

00:14:07,970 --> 00:14:13,220
domain so this service worker can

00:14:10,730 --> 00:14:16,760
control can interact with can intercept

00:14:13,220 --> 00:14:18,770
requests on any page of my sight I can

00:14:16,760 --> 00:14:22,400
restrict it to another domain or another

00:14:18,770 --> 00:14:24,710
a sub half of my domain and by default

00:14:22,400 --> 00:14:26,990
if I love this off it has control over

00:14:24,710 --> 00:14:29,090
the things where it is envelopes if I

00:14:26,990 --> 00:14:30,050
didn't have this scope argument this

00:14:29,090 --> 00:14:32,150
service worker would be able to

00:14:30,050 --> 00:14:34,370
intercept any calls any network

00:14:32,150 --> 00:14:37,160
things in the jas folder and below but

00:14:34,370 --> 00:14:40,310
not things in other cultures so you

00:14:37,160 --> 00:14:42,710
register the service worker because

00:14:40,310 --> 00:14:45,260
service workers are so powerful you have

00:14:42,710 --> 00:14:46,580
to do this all over SSL your site the

00:14:45,260 --> 00:14:49,790
service worker both countries are over

00:14:46,580 --> 00:14:52,040
HTTPS in the past this has been a big

00:14:49,790 --> 00:14:54,410
technical and financial hurdle you have

00:14:52,040 --> 00:14:57,080
to go pay like Komodo eight hundred

00:14:54,410 --> 00:14:59,660
dollars a month for further gold

00:14:57,080 --> 00:15:01,130
platinum whatever certificate not

00:14:59,660 --> 00:15:03,830
anymore let's say Creek does anyone use

00:15:01,130 --> 00:15:05,120
let's encrypt in the room yeah that's

00:15:03,830 --> 00:15:07,340
either room some people in that part

00:15:05,120 --> 00:15:09,200
yeah so let's encrypt is a free

00:15:07,340 --> 00:15:11,180
certificate authority that Mozilla the

00:15:09,200 --> 00:15:12,830
elec talk went to your foundation Akamai

00:15:11,180 --> 00:15:14,390
facebook all of these companies have

00:15:12,830 --> 00:15:16,970
come together and said it's too

00:15:14,390 --> 00:15:18,920
important for financial barriers to keep

00:15:16,970 --> 00:15:20,510
people from from securing content on

00:15:18,920 --> 00:15:21,800
their head so if you need an ssl

00:15:20,510 --> 00:15:24,560
certificate what's a issue

00:15:21,800 --> 00:15:26,690
certificates free automatically and with

00:15:24,560 --> 00:15:27,530
no restrictions on their use uses for

00:15:26,690 --> 00:15:29,720
your business because it through

00:15:27,530 --> 00:15:31,700
personal sites and more and more of

00:15:29,720 --> 00:15:34,490
these powerful features web are going to

00:15:31,700 --> 00:15:36,680
require encryption so you'll need to go

00:15:34,490 --> 00:15:41,840
a bit a bit from a provider like let's

00:15:36,680 --> 00:15:45,020
encrypt so background done how do we get

00:15:41,840 --> 00:15:47,450
offline support on the web that's where

00:15:45,020 --> 00:15:50,540
apps when apps by their nature or

00:15:47,450 --> 00:15:52,160
offline first online second the web by

00:15:50,540 --> 00:15:53,660
its nature is online first offline

00:15:52,160 --> 00:15:55,790
second so we have to find a way to

00:15:53,660 --> 00:16:00,800
bridge that gap and way it feels natural

00:15:55,790 --> 00:16:03,650
to the web inside a service worker we

00:16:00,800 --> 00:16:06,170
have an API that lets you

00:16:03,650 --> 00:16:09,470
programmatically build and manipulate

00:16:06,170 --> 00:16:11,450
caches every cache of names you have

00:16:09,470 --> 00:16:14,360
three apic you really know the caches

00:16:11,450 --> 00:16:17,120
open delete and match so open open the

00:16:14,360 --> 00:16:19,700
cash if it returns a promise that were

00:16:17,120 --> 00:16:20,960
resolved to that cash and you can then

00:16:19,700 --> 00:16:22,910
manipulate the cash but things into a

00:16:20,960 --> 00:16:24,650
pull things out of it second is the

00:16:22,910 --> 00:16:27,860
wheat which will completely kill a cash

00:16:24,650 --> 00:16:29,330
it was also promised that is a boolean

00:16:27,860 --> 00:16:30,620
that says like yes the deletion was

00:16:29,330 --> 00:16:33,440
successful or know that leash and failed

00:16:30,620 --> 00:16:37,400
and then match which takes a request

00:16:33,440 --> 00:16:40,880
like say cash does not match / babe I

00:16:37,400 --> 00:16:41,640
Conda I CEO and if that icon is in my

00:16:40,880 --> 00:16:44,790
cash

00:16:41,640 --> 00:16:50,610
this resolves to a response containing

00:16:44,790 --> 00:16:54,690
that data does that make sense so once

00:16:50,610 --> 00:16:58,530
you have a cash 5 ki AAP is add a dollop

00:16:54,690 --> 00:17:02,370
delete mash add an at all we'll take our

00:16:58,530 --> 00:17:04,290
bust or an array of requests and let you

00:17:02,370 --> 00:17:07,050
fetch them from the network and save

00:17:04,290 --> 00:17:08,190
that response into the cache so the only

00:17:07,050 --> 00:17:09,959
things that are going to capture things

00:17:08,190 --> 00:17:12,780
you put their do a complete programmatic

00:17:09,959 --> 00:17:15,959
control click is something that's a

00:17:12,780 --> 00:17:18,300
little different put tix a request and

00:17:15,959 --> 00:17:19,890
the response and so you can say

00:17:18,300 --> 00:17:22,079
something like go out to the network and

00:17:19,890 --> 00:17:25,350
get this in cash it with but you can say

00:17:22,079 --> 00:17:26,820
I better plus a gut response whenever

00:17:25,350 --> 00:17:28,530
you see this request give me this

00:17:26,820 --> 00:17:31,110
response so you can generate things

00:17:28,530 --> 00:17:33,870
programmatically like completely

00:17:31,110 --> 00:17:35,310
client-side fake out like build these

00:17:33,870 --> 00:17:38,220
things for the cash without ever dating

00:17:35,310 --> 00:17:39,720
network you need to delete removing from

00:17:38,220 --> 00:17:43,470
the cash map looks things up from the

00:17:39,720 --> 00:17:45,690
cash so match either response panic so

00:17:43,470 --> 00:17:47,190
the way you might use this is you might

00:17:45,690 --> 00:17:48,600
want to preload I'm the first time you

00:17:47,190 --> 00:17:49,980
hit website you might install a service

00:17:48,600 --> 00:17:52,140
worker and then inside that surface

00:17:49,980 --> 00:17:54,330
worker say all right out of em go surf

00:17:52,140 --> 00:17:56,510
or install install fires when the

00:17:54,330 --> 00:17:58,860
service worker gets added to the page

00:17:56,510 --> 00:18:00,780
and I've got an array of content that's

00:17:58,860 --> 00:18:04,680
not going to change my mind all the

00:18:00,780 --> 00:18:07,110
script my icons my homepage as well go

00:18:04,680 --> 00:18:08,880
ahead and open my cash and then cash at

00:18:07,110 --> 00:18:10,920
all static content so I pass it this

00:18:08,880 --> 00:18:13,470
array and what this will do is old

00:18:10,920 --> 00:18:16,380
instant off five requests in parallel

00:18:13,470 --> 00:18:20,300
for each of these resources and it gets

00:18:16,380 --> 00:18:20,300
them back puts on the cash

00:18:20,950 --> 00:18:24,370
second thing is all right how do I

00:18:22,630 --> 00:18:26,830
respond from the cache the serviceworker

00:18:24,370 --> 00:18:30,010
acts like a proxy between your website

00:18:26,830 --> 00:18:31,570
and the Internet the website has no idea

00:18:30,010 --> 00:18:33,370
that the service worker is he's

00:18:31,570 --> 00:18:35,740
intercepting its request it's modifying

00:18:33,370 --> 00:18:40,600
surplus the websites just trying to say

00:18:35,740 --> 00:18:42,190
go get me a pas when that happens the

00:18:40,600 --> 00:18:46,480
service worker receives a fetch that end

00:18:42,190 --> 00:18:47,800
and instead of just responding 90 wins

00:18:46,480 --> 00:18:48,850
in all right go up to the the network

00:18:47,800 --> 00:18:52,810
and get this what we can do instead a

00:18:48,850 --> 00:18:55,000
safe actually respond with and try to

00:18:52,810 --> 00:18:58,630
match in our cash the path of you're

00:18:55,000 --> 00:19:01,780
trying to look up six all right matched

00:18:58,630 --> 00:19:06,010
this event request and then if I got a

00:19:01,780 --> 00:19:07,750
response return the response if I didn't

00:19:06,010 --> 00:19:10,720
get response if that code was not my

00:19:07,750 --> 00:19:13,900
cash then go and fetch it from the

00:19:10,720 --> 00:19:15,160
network and return that so this will do

00:19:13,900 --> 00:19:17,500
is that basically lets you hit the cash

00:19:15,160 --> 00:19:20,490
first it isn't there then you hit the

00:19:17,500 --> 00:19:23,350
network does that make sense of people

00:19:20,490 --> 00:19:27,550
twenty lines of code and almost n you

00:19:23,350 --> 00:19:30,580
have things like the pokédex which is an

00:19:27,550 --> 00:19:33,000
addiction pokémon's which if i go into

00:19:30,580 --> 00:19:33,000
airplane mode

00:19:35,200 --> 00:19:42,380
open a normal web page but I try to

00:19:38,810 --> 00:19:43,700
refresh it works it all reloads despite

00:19:42,380 --> 00:19:45,470
the phone being completely disconnected

00:19:43,700 --> 00:19:49,880
from the network because all that data

00:19:45,470 --> 00:19:52,400
was pre loaded by the serviceworker you

00:19:49,880 --> 00:19:53,960
see how that works right here so we've

00:19:52,400 --> 00:19:57,340
got this array of static content this is

00:19:53,960 --> 00:20:00,530
the actual code from cookie Dexter work

00:19:57,340 --> 00:20:05,570
so they have all the JavaScript manifest

00:20:00,530 --> 00:20:08,300
icons and then down at the bottom we'll

00:20:05,570 --> 00:20:10,940
see we're at all all right so you say

00:20:08,300 --> 00:20:14,060
Ari cash at all static comments a past

00:20:10,940 --> 00:20:16,730
this as in there and all those things to

00:20:14,060 --> 00:20:18,320
the to the cash at the bottom that

00:20:16,730 --> 00:20:21,050
that's same exact event listener

00:20:18,320 --> 00:20:22,610
whatever this effectually comes in try

00:20:21,050 --> 00:20:24,710
to respond from the cash if that feels

00:20:22,610 --> 00:20:26,780
go to the network because everything the

00:20:24,710 --> 00:20:31,010
site needs is in the cache everything

00:20:26,780 --> 00:20:38,090
work so if I come over here again turn

00:20:31,010 --> 00:20:41,060
90 Birkhoff reload the page and reloads

00:20:38,090 --> 00:20:44,570
and everything works I can close the

00:20:41,060 --> 00:20:47,390
damn i can open the channel just like

00:20:44,570 --> 00:20:49,280
i'm online but I'm not and all it took

00:20:47,390 --> 00:20:50,660
was that that one little line that web

00:20:49,280 --> 00:20:53,870
page itself didn't have to change at all

00:20:50,660 --> 00:20:55,640
had to install the service worker but

00:20:53,870 --> 00:20:58,100
it's otherwise just sending completely

00:20:55,640 --> 00:21:00,200
normal Network requests instead of those

00:20:58,100 --> 00:21:01,720
coming from the web they're being

00:21:00,200 --> 00:21:04,700
responded to by the service worker

00:21:01,720 --> 00:21:08,360
they've got normal response headers and

00:21:04,700 --> 00:21:09,710
got normal response bodies super great

00:21:08,360 --> 00:21:12,200
because what this means this means you

00:21:09,710 --> 00:21:14,060
can add offline capability progressively

00:21:12,200 --> 00:21:16,280
you can set this up in your app right

00:21:14,060 --> 00:21:17,930
now if you're visiting that page with

00:21:16,280 --> 00:21:20,660
firefox or chrome you have offline

00:21:17,930 --> 00:21:22,850
support you're visiting it in Safari or

00:21:20,660 --> 00:21:24,230
Internet Explorer well you don't have

00:21:22,850 --> 00:21:26,060
offline support but nothing breaks

00:21:24,230 --> 00:21:27,170
because it just doesn't know there's a

00:21:26,060 --> 00:21:29,120
service worker there doesn't know how to

00:21:27,170 --> 00:21:31,630
run a service worker to respond to those

00:21:29,120 --> 00:21:31,630
requests

00:21:35,580 --> 00:21:42,009
alright that make sense program at cap

00:21:39,429 --> 00:21:47,259
so the cool thing is is not just limited

00:21:42,009 --> 00:21:48,700
to two offline support you can do all

00:21:47,259 --> 00:21:49,659
sorts of amazing things with service

00:21:48,700 --> 00:21:51,549
workers because it gives you complete

00:21:49,659 --> 00:21:53,559
program I control you have a request

00:21:51,549 --> 00:21:56,830
coming you can catch it you can modify

00:21:53,559 --> 00:21:58,419
you can generate your own response now

00:21:56,830 --> 00:22:02,080
we have this cookbook at service workers

00:21:58,419 --> 00:22:03,909
like service work ers that has all these

00:22:02,080 --> 00:22:05,379
examples one of which if I'm

00:22:03,909 --> 00:22:07,659
particularly interesting is a virtual

00:22:05,379 --> 00:22:11,200
server we're in the service worker code

00:22:07,659 --> 00:22:15,669
for this basically has its list of

00:22:11,200 --> 00:22:18,879
quotations and when you try to hit API

00:22:15,669 --> 00:22:21,340
quotations the worker intercepts that

00:22:18,879 --> 00:22:24,100
request it just responds with the data

00:22:21,340 --> 00:22:29,440
as locally or if you try to put your

00:22:24,100 --> 00:22:31,509
sort of delete our Coast each GPU for it

00:22:29,440 --> 00:22:35,230
also intercept those so if i go over

00:22:31,509 --> 00:22:36,850
here and i say are a tad fubar say i did

00:22:35,230 --> 00:22:38,350
post put the serviceworker respond

00:22:36,850 --> 00:22:40,710
instead of this actually going out from

00:22:38,350 --> 00:22:44,769
network despite this be targeted as

00:22:40,710 --> 00:22:46,899
posts to you have api quotations on my

00:22:44,769 --> 00:22:48,730
server gets intercepted needle by the

00:22:46,899 --> 00:22:51,029
browser you can do crazy stuff line you

00:22:48,730 --> 00:22:53,230
can mock up entire back-end AP is

00:22:51,029 --> 00:22:59,379
completely clients I using a service

00:22:53,230 --> 00:23:01,960
worker so it's offline offlines

00:22:59,379 --> 00:23:03,399
surprisingly straightforward we don't

00:23:01,960 --> 00:23:06,820
engagement what about things like push

00:23:03,399 --> 00:23:11,039
messages push is one of the few things

00:23:06,820 --> 00:23:14,169
that I think is undervalued on the web

00:23:11,039 --> 00:23:15,230
as far as i can tell from the geordie by

00:23:14,169 --> 00:23:18,020
interactions my phone

00:23:15,230 --> 00:23:20,900
modifications I didn't email kim SMS

00:23:18,020 --> 00:23:22,460
I've down the placement message I plot

00:23:20,900 --> 00:23:23,960
my phone and look it's just there I

00:23:22,460 --> 00:23:24,980
don't have those sites open the

00:23:23,960 --> 00:23:26,690
notification is there a touch on the

00:23:24,980 --> 00:23:29,090
notification it takes me to the right

00:23:26,690 --> 00:23:35,030
place I've been interacting respond it

00:23:29,090 --> 00:23:37,910
works this is hugely valuable so there's

00:23:35,030 --> 00:23:42,080
an example location on Android here's

00:23:37,910 --> 00:23:45,740
example what notification they don't

00:23:42,080 --> 00:23:47,390
exist this is terrible if my main way of

00:23:45,740 --> 00:23:49,520
getting to absolute be reminded of

00:23:47,390 --> 00:23:50,900
things and getting into things deeply is

00:23:49,520 --> 00:23:56,150
through a notification web can't give

00:23:50,900 --> 00:23:59,000
notifications it's not useful now can so

00:23:56,150 --> 00:24:00,970
Facebook has actually been using web

00:23:59,000 --> 00:24:03,740
notifications for people on Chrome and

00:24:00,970 --> 00:24:04,880
they look absolutely identical to a

00:24:03,740 --> 00:24:07,220
native notification you see a little

00:24:04,880 --> 00:24:09,650
chrome icon there otherwise you have an

00:24:07,220 --> 00:24:12,320
image you have text you're the title the

00:24:09,650 --> 00:24:14,480
wrl if i were to tap on any of those

00:24:12,320 --> 00:24:17,480
notifications we take me deeply into the

00:24:14,480 --> 00:24:20,210
right place on the facebook website so

00:24:17,480 --> 00:24:22,970
what can do this now firefox just gained

00:24:20,210 --> 00:24:25,370
this ability three weeks ago on desktop

00:24:22,970 --> 00:24:27,140
we should be rolling out on android in

00:24:25,370 --> 00:24:30,910
just a few more weeks are a few more

00:24:27,140 --> 00:24:34,220
releases and it's pretty straightforward

00:24:30,910 --> 00:24:35,540
so will you push is you have to get

00:24:34,220 --> 00:24:37,490
permission from users this can be really

00:24:35,540 --> 00:24:38,990
annoying right like the sites when you

00:24:37,490 --> 00:24:41,900
weren't looking at them could show you

00:24:38,990 --> 00:24:43,460
the patients on your home screen so

00:24:41,900 --> 00:24:44,179
again we're using service workers and

00:24:43,460 --> 00:24:45,620
what we're going to do the service

00:24:44,179 --> 00:24:47,570
worker because a navigator service

00:24:45,620 --> 00:24:49,760
worker ready ready is a promise that

00:24:47,570 --> 00:24:51,140
resolves to the active service order so

00:24:49,760 --> 00:24:53,419
it's kind of how to give a reference to

00:24:51,140 --> 00:24:55,760
the service work around the page then

00:24:53,419 --> 00:24:57,610
once i have that reference to the

00:24:55,760 --> 00:25:00,890
service worker called a registration i

00:24:57,610 --> 00:25:03,320
can call on the registrations push

00:25:00,890 --> 00:25:05,390
manager property and call subscribe it

00:25:03,320 --> 00:25:08,299
was like set me up to receive push

00:25:05,390 --> 00:25:10,970
messages now because this is a AP I that

00:25:08,299 --> 00:25:12,710
could be of use we're going to give you

00:25:10,970 --> 00:25:14,480
a prompt says hey this like wants to

00:25:12,710 --> 00:25:16,760
give me notifications do you want to

00:25:14,480 --> 00:25:18,890
allow that or not and you have to as a

00:25:16,760 --> 00:25:20,990
user explicitly grant permission say yes

00:25:18,890 --> 00:25:23,510
I okay to get a push notification from

00:25:20,990 --> 00:25:25,290
the site but as soon as you click allow

00:25:23,510 --> 00:25:28,060
on that page

00:25:25,290 --> 00:25:29,320
the rest of this promising will run so

00:25:28,060 --> 00:25:31,090
we'll give a subscription object back

00:25:29,320 --> 00:25:32,590
inside that object is everything you

00:25:31,090 --> 00:25:36,130
need to know to send a push notification

00:25:32,590 --> 00:25:38,530
to that browser it's actually police

00:25:36,130 --> 00:25:41,260
reports just an HTP endpoint like you

00:25:38,530 --> 00:25:42,010
close to it push notification happens so

00:25:41,260 --> 00:25:45,940
I'm going to do is I'm going to take

00:25:42,010 --> 00:25:51,610
that I'm going to use the fetch function

00:25:45,940 --> 00:25:54,490
to post that subscription as JSON to a

00:25:51,610 --> 00:25:55,840
back-end on my server so someone said I

00:25:54,490 --> 00:25:56,830
want to subscribe to push notifications

00:25:55,840 --> 00:25:57,910
I have a reference in like all right

00:25:56,830 --> 00:25:59,680
what I want to give you a push

00:25:57,910 --> 00:26:01,510
notification act at this data so i'll

00:25:59,680 --> 00:26:07,450
send it to my back-end shove it in a

00:26:01,510 --> 00:26:08,800
database i can use in the future so how

00:26:07,450 --> 00:26:11,440
do I so I'll cut this this way to

00:26:08,800 --> 00:26:13,930
interact people it's actually take a

00:26:11,440 --> 00:26:16,480
look at this real quick so what this

00:26:13,930 --> 00:26:19,360
might look like is here's a serialized

00:26:16,480 --> 00:26:24,190
pushing point get this property endpoint

00:26:19,360 --> 00:26:26,380
that has this enormous URL if I copy

00:26:24,190 --> 00:26:31,860
that all it takes to actually send a

00:26:26,380 --> 00:26:37,390
plush is curled so exact Earl ex post

00:26:31,860 --> 00:26:40,570
header TTL 0 so if the user is not

00:26:37,390 --> 00:26:42,790
currently online the TTL 0 says only

00:26:40,570 --> 00:26:46,950
only send this push if users hardly

00:26:42,790 --> 00:26:51,160
online they're not don't thank u Zen URL

00:26:46,950 --> 00:26:53,400
turn and it work works what we should

00:26:51,160 --> 00:26:53,400
see

00:26:53,580 --> 00:26:56,870
is a notification

00:26:58,970 --> 00:27:04,150
Oh trailer full service workers

00:27:06,680 --> 00:27:14,320
basically what Neferet really slow we're

00:27:09,200 --> 00:27:14,320
simple you know

00:27:15,180 --> 00:27:25,310
all right so don't show a lot of

00:27:17,340 --> 00:27:25,310
notifications you do that close the tab

00:27:28,130 --> 00:27:33,680
at work alright so I swear this works on

00:27:31,910 --> 00:27:39,440
the network at Vermont to debug that

00:27:33,680 --> 00:27:41,510
later anyways all it takes is to push as

00:27:39,440 --> 00:27:44,900
long as users online course our block

00:27:41,510 --> 00:27:47,180
it's a WebSocket connection the service

00:27:44,900 --> 00:27:50,390
worker gets a notification that says hey

00:27:47,180 --> 00:27:51,860
you have a push and then it's up to the

00:27:50,390 --> 00:27:53,900
service worker so service worker can run

00:27:51,860 --> 00:27:55,190
even none of the tabs room it's like if

00:27:53,900 --> 00:27:57,140
gmail was doing this you could close

00:27:55,190 --> 00:27:59,600
your gmail tab reclaim all of that ram

00:27:57,140 --> 00:28:01,990
and then if i push came in from gmail

00:27:59,600 --> 00:28:05,330
gmail service worker would wake up and

00:28:01,990 --> 00:28:07,040
this event listener more drama I thought

00:28:05,330 --> 00:28:08,060
this case it gets an event you can say

00:28:07,040 --> 00:28:09,500
all right well I'm going to go do some

00:28:08,060 --> 00:28:12,830
stuff so don't go away until I'm done

00:28:09,500 --> 00:28:15,560
with this promise give self-registration

00:28:12,830 --> 00:28:17,960
show notification I get that a titling

00:28:15,560 --> 00:28:19,940
of a body i'm giving icon i connect

00:28:17,960 --> 00:28:21,830
actions to it so you can actually see

00:28:19,940 --> 00:28:24,290
the history of like the previous ones i

00:28:21,830 --> 00:28:27,320
was testing they show up them in our old

00:28:24,290 --> 00:28:29,630
system system tray like when i click

00:28:27,320 --> 00:28:31,760
they take me to the page that spawn the

00:28:29,630 --> 00:28:35,120
notification but reopen this having if

00:28:31,760 --> 00:28:37,040
it's not previously open now they show

00:28:35,120 --> 00:28:38,960
up just like native Native notification

00:28:37,040 --> 00:28:40,640
so iOS same it would like that they look

00:28:38,960 --> 00:28:43,040
normal on Linux of the caramel on

00:28:40,640 --> 00:28:45,860
Windows and you saw on the screen shot

00:28:43,040 --> 00:28:48,140
from Android that can look completely

00:28:45,860 --> 00:28:50,950
indistinguishable from native

00:28:48,140 --> 00:28:50,950
applications

00:28:52,340 --> 00:28:58,470
this the support here is still kind of

00:28:55,230 --> 00:28:59,850
shaky so chrome can use this but there

00:28:58,470 --> 00:29:02,580
the way you interact with their server

00:28:59,850 --> 00:29:04,230
isn't a simple post get like register

00:29:02,580 --> 00:29:06,090
with google before you can push the

00:29:04,230 --> 00:29:10,289
chrome users which is weird but they

00:29:06,090 --> 00:29:13,529
swear they're fixing that so that's kind

00:29:10,289 --> 00:29:15,419
of the broad overview the low can be

00:29:13,529 --> 00:29:17,789
just as installable reliable or as

00:29:15,419 --> 00:29:19,799
engaging as a native app now you can do

00:29:17,789 --> 00:29:22,169
so progressively you can implement all

00:29:19,799 --> 00:29:24,840
of these things right now if the browser

00:29:22,169 --> 00:29:26,700
you're using doesn't support them no

00:29:24,840 --> 00:29:29,039
problem so what just keeps working like

00:29:26,700 --> 00:29:31,049
it always worked but once that users

00:29:29,039 --> 00:29:34,950
browser supports things like service

00:29:31,049 --> 00:29:36,720
worker or bush or at manifests give

00:29:34,950 --> 00:29:39,119
users transparently and automatically

00:29:36,720 --> 00:29:40,259
start getting a better experience so

00:29:39,119 --> 00:29:42,629
this is the sort of thing lets you say

00:29:40,259 --> 00:29:44,809
to a client that says oh yeah you can

00:29:42,629 --> 00:29:47,580
make a great mobile web site but you

00:29:44,809 --> 00:29:48,840
know what about offline say well you

00:29:47,580 --> 00:29:51,659
know we can use a service worker it'll

00:29:48,840 --> 00:29:55,080
work offline for X percent of love right

00:29:51,659 --> 00:29:56,759
now and the rest of the web a year and

00:29:55,080 --> 00:29:57,960
maybe it's worth just building that one

00:29:56,759 --> 00:29:59,909
code base instead of going through the

00:29:57,960 --> 00:30:01,230
rigmarole of having you at your mobile

00:29:59,909 --> 00:30:02,490
web experience and your Android

00:30:01,230 --> 00:30:04,230
experiencing your iPhone experience

00:30:02,490 --> 00:30:08,850
here's the load is able to do this now

00:30:04,230 --> 00:30:10,110
it's just not evenly distributed yet so

00:30:08,850 --> 00:30:14,450
I want to leave a lot of time for demos

00:30:10,110 --> 00:30:16,740
and questions the most important thing

00:30:14,450 --> 00:30:20,399
this service workers cookbook that

00:30:16,740 --> 00:30:21,899
service work ers is absolutely

00:30:20,399 --> 00:30:23,669
phenomenal show you all the things you

00:30:21,899 --> 00:30:25,590
can do in terms of using a service

00:30:23,669 --> 00:30:29,999
worker to relay messages between cabs at

00:30:25,590 --> 00:30:34,470
your site pushing with notification

00:30:29,999 --> 00:30:36,240
payloads and everything has annotated

00:30:34,470 --> 00:30:41,519
source soon go ahead and see you all

00:30:36,240 --> 00:30:43,040
right what does what and why what's

00:30:41,519 --> 00:30:47,180
right one more time you see

00:30:43,040 --> 00:30:53,740
get pushed to work normally rich push

00:30:47,180 --> 00:30:53,740
notifications see the way

00:31:02,300 --> 00:31:06,610
ok so it's make it to my backhand fine

00:31:07,840 --> 00:31:12,909
air connection refused okay so some

00:31:11,860 --> 00:31:16,890
people that I work here isn't letting me

00:31:12,909 --> 00:31:19,419
actually get out to the bush ever but I

00:31:16,890 --> 00:31:21,490
suspect that other notifications have

00:31:19,419 --> 00:31:22,779
trouble to you do so i won't go to

00:31:21,490 --> 00:31:24,370
questions and like do some black pudding

00:31:22,779 --> 00:31:26,320
and poke at the stuff in responsible you

00:31:24,370 --> 00:31:28,150
wanna know these are the fundamental

00:31:26,320 --> 00:31:30,100
technologies don't forget to rate the

00:31:28,150 --> 00:31:35,740
sections and bit me like there what

00:31:30,100 --> 00:31:40,080
questions do you have about this mobile

00:31:35,740 --> 00:31:40,080
safari let's see

00:31:43,240 --> 00:31:48,379
you know my auto complete or something

00:31:46,190 --> 00:31:52,669
yeah so platform status was a little

00:31:48,379 --> 00:31:55,070
more tracks last own so push new signals

00:31:52,669 --> 00:32:00,169
from safari opera right now there's an

00:31:55,070 --> 00:32:02,929
unfortunate serviceworker considering

00:32:00,169 --> 00:32:05,659
not there yet basically these things

00:32:02,929 --> 00:32:08,169
have landed in the production of release

00:32:05,659 --> 00:32:12,080
versions of Firefox and Chrome and opera

00:32:08,169 --> 00:32:14,870
Apple is excited about but Apple moves a

00:32:12,080 --> 00:32:17,440
lot more slowly for JavaScript guys is

00:32:14,870 --> 00:32:17,440
unfortunate

00:32:25,770 --> 00:32:31,020
sure you did you have similar limits to

00:32:28,770 --> 00:32:32,430
what you have a txt me where you get

00:32:31,020 --> 00:32:33,570
several megabytes to use for free

00:32:32,430 --> 00:32:36,390
otherwise you might have to prompt the

00:32:33,570 --> 00:32:38,400
user for more more space but but

00:32:36,390 --> 00:32:40,530
generally just show up stuff into the

00:32:38,400 --> 00:32:42,810
cache it should work at all but like the

00:32:40,530 --> 00:32:43,650
very largest websites it's the sort of

00:32:42,810 --> 00:32:45,810
thing that especially if you're using

00:32:43,650 --> 00:32:47,730
how Buster pool and you're doing you're

00:32:45,810 --> 00:32:48,840
really just sending your data and then

00:32:47,730 --> 00:32:51,060
doing all the templating and running on

00:32:48,840 --> 00:32:52,940
the front end that's a great use for

00:32:51,060 --> 00:32:56,490
this because you're you're just cashing

00:32:52,940 --> 00:33:08,240
what you need to reconstitute the front

00:32:56,490 --> 00:33:08,240
of you hello the webstream anism

00:33:10,760 --> 00:33:20,299
so sorry oh holy hell used feel all

00:33:16,650 --> 00:33:25,440
right yes so what I've been doing is

00:33:20,299 --> 00:33:27,360
that was a question howdy so this type

00:33:25,440 --> 00:33:31,320
of application we love with the FME data

00:33:27,360 --> 00:33:33,419
no he so yeah thanks so how will this

00:33:31,320 --> 00:33:34,620
work with like real-time data so you

00:33:33,419 --> 00:33:36,660
have complete control over the cash you

00:33:34,620 --> 00:33:38,760
can do already you can bring things in

00:33:36,660 --> 00:33:41,340
catch it and then say all right well

00:33:38,760 --> 00:33:42,570
also make a network request and get the

00:33:41,340 --> 00:33:44,700
things from the cache and make sure that

00:33:42,570 --> 00:33:45,990
nothing is outdated it doesn't

00:33:44,700 --> 00:33:47,130
necessarily like you have to do your own

00:33:45,990 --> 00:33:49,289
web sockets if you want to have like

00:33:47,130 --> 00:33:51,179
actual events Kate pushed into the

00:33:49,289 --> 00:33:52,590
browser push notifications aren't

00:33:51,179 --> 00:33:56,220
necessarily for anything other than I

00:33:52,590 --> 00:33:57,900
want to show something to the user but

00:33:56,220 --> 00:34:00,210
you could play service workers to play

00:33:57,900 --> 00:34:02,400
really nicely with WebSockets or all

00:34:00,210 --> 00:34:04,919
right let me just let me cash like this

00:34:02,400 --> 00:34:06,539
bulk back here and then just ring the

00:34:04,919 --> 00:34:13,409
updates you can put those into the cache

00:34:06,539 --> 00:34:15,909
do that because we have been using app

00:34:13,409 --> 00:34:18,010
cache might sound great to Townsend

00:34:15,909 --> 00:34:20,589
using out cash or cash England's being

00:34:18,010 --> 00:34:23,020
played okay and what I thought ziggurat

00:34:20,589 --> 00:34:25,240
cash so the difficulty with appcache is

00:34:23,020 --> 00:34:27,389
that which is a previous technology has

00:34:25,240 --> 00:34:30,429
pretty light support for doing online

00:34:27,389 --> 00:34:32,139
app cache is a is a solution that if you

00:34:30,429 --> 00:34:34,329
are using if you're trying to do offline

00:34:32,139 --> 00:34:37,450
exactly the way that app cache wants you

00:34:34,329 --> 00:34:39,879
to do offline it works pretty well but

00:34:37,450 --> 00:34:40,960
it's very opinionated about how offline

00:34:39,879 --> 00:34:44,139
should work so if you wanted to do

00:34:40,960 --> 00:34:45,099
something more esoteric if you have one

00:34:44,139 --> 00:34:46,359
place where what you're doing is

00:34:45,099 --> 00:34:48,700
different than my gosh accepted

00:34:46,359 --> 00:34:49,960
everything falls apart like the there's

00:34:48,700 --> 00:34:52,809
a wonderful talk with a bolt from the

00:34:49,960 --> 00:34:54,940
conference in 20-30 umber singh gmail

00:34:52,809 --> 00:34:57,940
engineers say you know we had this

00:34:54,940 --> 00:35:00,460
problem you were using app cache and we

00:34:57,940 --> 00:35:02,230
receive these huge memory growth when we

00:35:00,460 --> 00:35:04,720
left hewo but if you are what's going

00:35:02,230 --> 00:35:06,160
wrong it turns out that the gmail

00:35:04,720 --> 00:35:07,930
engineers have misunderstood some of the

00:35:06,160 --> 00:35:10,059
good new Lanza's of how I've cash work

00:35:07,930 --> 00:35:12,549
and they're just cashing every single

00:35:10,059 --> 00:35:14,349
version of the entire gmail app every

00:35:12,549 --> 00:35:16,720
time the refreshingly is like app cache

00:35:14,349 --> 00:35:18,039
is just hard to use right so the apo

00:35:16,720 --> 00:35:20,770
service workers is it's a very simple

00:35:18,039 --> 00:35:21,940
API like you have to explicitly say put

00:35:20,770 --> 00:35:25,359
this in the cache take this out of the

00:35:21,940 --> 00:35:30,880
cash and we've seen a lot more success

00:35:25,359 --> 00:35:33,089
with that it's also more flexible right

00:35:30,880 --> 00:35:35,260
so you have to use that cash if you

00:35:33,089 --> 00:35:40,809
can't pull out like waves fire bus

00:35:35,260 --> 00:35:43,569
latest from the we are actively working

00:35:40,809 --> 00:35:46,539
to take out cash out of the firebox so

00:35:43,569 --> 00:35:48,339
and that's that's their similar signals

00:35:46,539 --> 00:35:49,750
from other manufacturers so if using out

00:35:48,339 --> 00:35:50,829
cash now like now at the time to start

00:35:49,750 --> 00:35:53,589
moving the service workers because

00:35:50,829 --> 00:35:55,119
that's we decide app cache as a dead end

00:35:53,589 --> 00:35:57,750
kind of collectively as browser vendors

00:35:55,119 --> 00:35:57,750
you know

00:35:57,960 --> 00:36:01,690
right there's a will go away until

00:36:00,549 --> 00:36:03,819
service were preserved more broadly

00:36:01,690 --> 00:36:08,470
supportive but service workers are the

00:36:03,819 --> 00:36:10,930
next answer so what are the limitations

00:36:08,470 --> 00:36:13,089
thank you were thinking of like a

00:36:10,930 --> 00:36:15,789
generic drupal module that say like

00:36:13,089 --> 00:36:18,190
looted every URL and stuck it in Acacia

00:36:15,789 --> 00:36:21,369
it would it makes it all the memories

00:36:18,190 --> 00:36:24,519
again give me the whole entire site into

00:36:21,369 --> 00:36:26,079
so problems are resource utilization

00:36:24,519 --> 00:36:27,910
right i mean you're through busted

00:36:26,079 --> 00:36:29,619
pirate carol so you may completely kill

00:36:27,910 --> 00:36:31,150
your users bandwidth unless you have

00:36:29,619 --> 00:36:35,289
some nice problem when it initially

00:36:31,150 --> 00:36:37,150
installed just giving space on this but

00:36:35,289 --> 00:36:38,440
you can set things you can pull over and

00:36:37,150 --> 00:36:42,309
you need the cash in whatever format you

00:36:38,440 --> 00:36:44,769
need disadvantages just is it worth it

00:36:42,309 --> 00:36:46,450
are you should you load everything if

00:36:44,769 --> 00:36:48,940
you have a very big site it may be

00:36:46,450 --> 00:36:50,609
better to load things as the user

00:36:48,940 --> 00:36:53,710
navigates around and keeps say the last

00:36:50,609 --> 00:36:55,180
15 or 20 pages we visited in the

00:36:53,710 --> 00:36:58,119
captions you can you can implement to

00:36:55,180 --> 00:36:59,500
solve programmatic control bizzarri i'm

00:36:58,119 --> 00:37:01,509
going to put something else in Victor's

00:36:59,500 --> 00:37:07,119
other pain and you can manage that if

00:37:01,509 --> 00:37:08,799
you use you yeah not as a non drupal

00:37:07,119 --> 00:37:12,099
developer campus we answer your question

00:37:08,799 --> 00:37:13,509
as you like what would a model look like

00:37:12,099 --> 00:37:16,390
but I suspect it would be possible in

00:37:13,509 --> 00:37:19,480
wonderful you know how they say they do

00:37:16,390 --> 00:37:22,430
hot problems in computer science

00:37:19,480 --> 00:37:24,980
they need mechanisms that address the

00:37:22,430 --> 00:37:27,470
same with service with this disease like

00:37:24,980 --> 00:37:29,930
it shuts up all the case when managing

00:37:27,470 --> 00:37:32,569
the cage web do the service wicked right

00:37:29,930 --> 00:37:34,299
it basically does the but when you give

00:37:32,569 --> 00:37:36,289
away catching all ages like you have to

00:37:34,299 --> 00:37:38,059
you have to do that yourself and you

00:37:36,289 --> 00:37:39,260
have to hope either you get it right or

00:37:38,059 --> 00:37:41,180
that somebody else has written a nice

00:37:39,260 --> 00:37:43,549
library for it the nice thing about the

00:37:41,180 --> 00:37:44,839
responses you get back from the service

00:37:43,549 --> 00:37:46,789
room we say like all right match this

00:37:44,839 --> 00:37:48,829
request and show me a response that I

00:37:46,789 --> 00:37:50,809
could use that response is a full

00:37:48,829 --> 00:37:52,789
response object as defined by the fetch

00:37:50,809 --> 00:37:54,319
standards you can look at like headers

00:37:52,789 --> 00:37:56,779
like should this is expired by now

00:37:54,319 --> 00:37:59,059
whatever you can be responsible than

00:37:56,779 --> 00:38:00,619
normal caching mechanisms that HTTP uses

00:37:59,059 --> 00:38:03,859
so cache control headers and whatever

00:38:00,619 --> 00:38:05,210
you just have to be mindful to give you

00:38:03,859 --> 00:38:08,329
that there are things that service

00:38:05,210 --> 00:38:10,730
workers get reinstalled at least every

00:38:08,329 --> 00:38:12,440
24 hours so if you like a bum service

00:38:10,730 --> 00:38:14,390
worker that like you wrote it wrong it's

00:38:12,440 --> 00:38:16,039
totally terrible you can put a new

00:38:14,390 --> 00:38:17,480
version up and you're usually using that

00:38:16,039 --> 00:38:20,869
new version within 24 hours like this

00:38:17,480 --> 00:38:23,420
part is you can have something that

00:38:20,869 --> 00:38:26,180
listens on initialization to say okay on

00:38:23,420 --> 00:38:27,500
the install event what I want to do is I

00:38:26,180 --> 00:38:29,690
want to look at all of my caches that

00:38:27,500 --> 00:38:32,000
exist and like you can add a version

00:38:29,690 --> 00:38:33,680
name in your calf name and say all right

00:38:32,000 --> 00:38:35,619
well copy these things out of that old

00:38:33,680 --> 00:38:38,510
cash in this new cash drop the old cash

00:38:35,619 --> 00:38:40,640
for eng things whatever is you can spend

00:38:38,510 --> 00:38:46,369
like multi to your thing it's really

00:38:40,640 --> 00:38:49,960
rolling your own but it turns out to not

00:38:46,369 --> 00:38:52,300
be that bad in practice

00:38:49,960 --> 00:38:55,240
just answer my question to us up there

00:38:52,300 --> 00:38:58,450
he is a module for Drupal but it's not

00:38:55,240 --> 00:39:01,420
really teach it yeah anyone's interested

00:38:58,450 --> 00:39:03,220
yeah boy so so i'm not i'm not a triple

00:39:01,420 --> 00:39:07,150
person like other than I used ripple

00:39:03,220 --> 00:39:10,060
free back in the day for a while and

00:39:07,150 --> 00:39:11,859
then them to work address and I'm going

00:39:10,060 --> 00:39:13,960
to python so like I've been way out of

00:39:11,859 --> 00:39:15,520
the woods in this but it's a sort of

00:39:13,960 --> 00:39:16,720
thing that I I would love to if anyone

00:39:15,520 --> 00:39:19,150
here has the expertise and wants to

00:39:16,720 --> 00:39:20,800
start working on that model ingredient I

00:39:19,150 --> 00:39:22,060
can answer the questions about the

00:39:20,800 --> 00:39:23,560
service worker side you can answer the

00:39:22,060 --> 00:39:26,980
Drupal side they can build something

00:39:23,560 --> 00:39:28,599
really beautiful who says have any

00:39:26,980 --> 00:39:32,560
control of the cash and you don't the

00:39:28,599 --> 00:39:34,359
question so not not directly I mean

00:39:32,560 --> 00:39:36,490
through the browser dev tools these are

00:39:34,359 --> 00:39:38,230
going in start a debugging session

00:39:36,490 --> 00:39:45,910
inside the serviceworker girl Academy

00:39:38,230 --> 00:39:46,960
will start to be patient I can't create

00:39:45,910 --> 00:39:52,660
a little doubt about that they don't

00:39:46,960 --> 00:39:54,520
know any study circle just like the very

00:39:52,660 --> 00:39:57,070
onerous for the sentencing it's not have

00:39:54,520 --> 00:39:58,630
an application using the nativist yeah

00:39:57,070 --> 00:40:01,060
when you install date after that we know

00:39:58,630 --> 00:40:03,670
that he knows that middle might be right

00:40:01,060 --> 00:40:05,890
yeah so all the way I can go to cash so

00:40:03,670 --> 00:40:07,330
at that point I mean another place where

00:40:05,890 --> 00:40:10,540
you might want to repeat the question

00:40:07,330 --> 00:40:15,940
right so so this is the question is if I

00:40:10,540 --> 00:40:18,180
if I do what we saw in the flip birthday

00:40:15,940 --> 00:40:18,180
yet

00:40:18,490 --> 00:40:25,230
if you do where I don't have the browser

00:40:21,340 --> 00:40:25,230
menu anymore so how can I control this

00:40:25,680 --> 00:40:29,350
kind of open question you could connect

00:40:27,970 --> 00:40:32,770
the death toll to your phone it should

00:40:29,350 --> 00:40:34,090
be exposed in like a chrome or firefox

00:40:32,770 --> 00:40:37,619
titles you should be able to see the

00:40:34,090 --> 00:40:40,930
installed apps there and access them

00:40:37,619 --> 00:40:42,400
otherwise things that are cash I believe

00:40:40,930 --> 00:40:44,590
it's a separate container from the web

00:40:42,400 --> 00:40:46,900
so if you remove this from your phone if

00:40:44,590 --> 00:40:51,790
you like click and drag to install that

00:40:46,900 --> 00:40:53,950
cap should go donate at that point this

00:40:51,790 --> 00:40:56,790
application against your good kid it

00:40:53,950 --> 00:41:00,940
should i'm not certain on that no

00:40:56,790 --> 00:41:02,560
teacher of an issue to the user so he

00:41:00,940 --> 00:41:04,510
was pointing it out when new versions

00:41:02,560 --> 00:41:06,280
have no it will not be able to continue

00:41:04,510 --> 00:41:09,940
ocean so then you say that i am not

00:41:06,280 --> 00:41:12,040
getting this option would occasionally

00:41:09,940 --> 00:41:14,140
will be happy so when you deploy a new

00:41:12,040 --> 00:41:16,570
version the cash is not getting updated

00:41:14,140 --> 00:41:17,950
so you won't get into javascript and use

00:41:16,570 --> 00:41:20,650
it has to drop the application once

00:41:17,950 --> 00:41:22,270
again you factor ok also me from that

00:41:20,650 --> 00:41:24,070
point of view organic a quarter

00:41:22,270 --> 00:41:25,840
javascript for a new house so that was

00:41:24,070 --> 00:41:28,240
your body not you avoid this becoming

00:41:25,840 --> 00:41:30,100
stale and what you do is like again this

00:41:28,240 --> 00:41:32,020
basis ain't rosewood service worker gets

00:41:30,100 --> 00:41:34,690
Brie assault every lie prefetch moving

00:41:32,020 --> 00:41:36,460
solve every 24 hours and so you can and

00:41:34,690 --> 00:41:37,570
like when you watch the app you can get

00:41:36,460 --> 00:41:40,270
a single phone service working you can

00:41:37,570 --> 00:41:42,760
thin from inside the serviceworker make

00:41:40,270 --> 00:41:44,590
a call out to the network to see is my

00:41:42,760 --> 00:41:45,970
information still current and if it's

00:41:44,590 --> 00:41:48,430
not then you can say all right we'll

00:41:45,970 --> 00:41:50,380
drop this cache go pull these other

00:41:48,430 --> 00:41:51,850
things down but i'm doing your cash it's

00:41:50,380 --> 00:41:55,900
something you spoke to handle manually

00:41:51,850 --> 00:41:58,480
because offline this is hard but it is

00:41:55,900 --> 00:42:00,430
possible to do as possible to say all

00:41:58,480 --> 00:42:02,609
right i need updated resources go get

00:42:00,430 --> 00:42:02,609
them

00:42:04,400 --> 00:42:11,730
can we access the resources from the

00:42:07,230 --> 00:42:14,099
service worker so so the question is

00:42:11,730 --> 00:42:15,839
what resources does the service will

00:42:14,099 --> 00:42:17,400
grab access to the service worker has a

00:42:15,839 --> 00:42:19,440
similar container to a web worker where

00:42:17,400 --> 00:42:21,690
it's it has no access to the Dom runs

00:42:19,440 --> 00:42:25,369
its own thread you can't modify elements

00:42:21,690 --> 00:42:28,319
on page you can do things like index TBE

00:42:25,369 --> 00:42:30,180
offspring canvas you can you can do a

00:42:28,319 --> 00:42:33,000
lot of data crunching and manipulation

00:42:30,180 --> 00:42:34,259
you can't directly affect the broader

00:42:33,000 --> 00:42:39,329
page you have to get through a messaging

00:42:34,259 --> 00:42:42,539
channel you don't have to help me up

00:42:39,329 --> 00:42:45,589
installing on the music class right even

00:42:42,539 --> 00:42:45,589
one goons about

00:42:46,190 --> 00:42:52,400
right right so the installation is

00:42:48,290 --> 00:42:53,900
really just a cosmetic improvement it

00:42:52,400 --> 00:42:55,160
works the same way you can develop the

00:42:53,900 --> 00:42:57,200
same way like just developing a problem

00:42:55,160 --> 00:42:58,940
don't have to install it to get anything

00:42:57,200 --> 00:43:00,890
other than like I want to hide your

00:42:58,940 --> 00:43:02,420
browser UI that's that's the real thing

00:43:00,890 --> 00:43:06,670
that installation issue is the the

00:43:02,420 --> 00:43:06,670
pretty icon and the invisible browser UI

00:43:10,240 --> 00:43:16,760
hi so I'm sure you cover this in parts

00:43:14,150 --> 00:43:18,110
of your talk but can you clarify so you

00:43:16,760 --> 00:43:19,730
install the service worker isn't

00:43:18,110 --> 00:43:21,080
something that gets installed is it

00:43:19,730 --> 00:43:24,290
related to the manifest file i showed

00:43:21,080 --> 00:43:28,430
earlier so service workers are something

00:43:24,290 --> 00:43:30,940
that you you have to directly install

00:43:28,430 --> 00:43:34,550
like i said it right the beginning area

00:43:30,940 --> 00:43:35,900
so in your front-end code you have to

00:43:34,550 --> 00:43:38,030
actually call navigator that service

00:43:35,900 --> 00:43:39,890
worker got register and pass it to half

00:43:38,030 --> 00:43:42,650
the javascript file you want researchers

00:43:39,890 --> 00:43:44,030
repeat multiple service workers the only

00:43:42,650 --> 00:43:46,100
rules of service workers can't have

00:43:44,030 --> 00:43:49,970
overlapping scopes so because of this

00:43:46,100 --> 00:43:52,400
worker has a root scope I couldn't have

00:43:49,970 --> 00:43:55,730
any other workers on this page but if I

00:43:52,400 --> 00:43:58,100
or on this domain who everyone to have a

00:43:55,730 --> 00:43:59,570
worker for this section of eyesight work

00:43:58,100 --> 00:44:03,730
for that section my site it would be

00:43:59,570 --> 00:44:03,730
possible to expand of multiple workers

00:44:04,310 --> 00:44:13,970
hello if I kid the browser cache in this

00:44:10,550 --> 00:44:17,480
article Christine woods so you clear the

00:44:13,970 --> 00:44:18,920
browser cache does the service worker

00:44:17,480 --> 00:44:22,490
solar because service worker will still

00:44:18,920 --> 00:44:27,620
work I believe actually i don't know i

00:44:22,490 --> 00:44:29,900
would expect its cash to also how the

00:44:27,620 --> 00:44:32,180
done with those all right so I'm kind of

00:44:29,900 --> 00:44:35,120
reason for my first principles I don't

00:44:32,180 --> 00:44:41,290
know that's a good question let's find

00:44:35,120 --> 00:44:41,290
out so I'm just going to turn this off

00:44:49,280 --> 00:44:52,590
this is firmer I actually don't know

00:44:51,240 --> 00:44:55,440
where to throw the cash in Firefox are

00:44:52,590 --> 00:44:56,730
just super awkward it's like don't do

00:44:55,440 --> 00:44:59,210
that right like I just watching your

00:44:56,730 --> 00:44:59,210
profile

00:45:04,020 --> 00:45:11,920
okay but are we can we can look at this

00:45:06,880 --> 00:45:13,540
later i'm curious about this yeah I

00:45:11,920 --> 00:45:15,520
respect the serviceworker captioned not

00:45:13,540 --> 00:45:17,050
to be affected in the same way that you

00:45:15,520 --> 00:45:20,820
can clear the cache you would expect

00:45:17,050 --> 00:45:20,820
things like index TV you go away but

00:45:21,780 --> 00:45:25,200
that's a really good question

00:45:29,880 --> 00:45:39,760
right in here he does stay for ya hello

00:45:35,080 --> 00:45:59,500
the purpose is recap on that I don't

00:45:39,760 --> 00:46:03,670
fear caches which is oh let me know yeah

00:45:59,500 --> 00:46:05,260
so maybe maybe also que les right person

00:46:03,670 --> 00:46:07,660
that case mine service work which is

00:46:05,260 --> 00:46:10,450
still exist they're just start having

00:46:07,660 --> 00:46:12,460
Katniss's you might have tried you feel

00:46:10,450 --> 00:46:14,440
bad that's not super curious i'm gonna

00:46:12,460 --> 00:46:20,700
i'm going to fix this talk and figure

00:46:14,440 --> 00:46:24,430
that out for the next time huh thank you

00:46:20,700 --> 00:46:27,490
hi i had a question regarding incognito

00:46:24,430 --> 00:46:29,710
tab so how does that work they're really

00:46:27,490 --> 00:46:32,380
beautiful store because it cognitive

00:46:29,710 --> 00:46:35,910
would be like a private window sometimes

00:46:32,380 --> 00:46:40,660
they're it very similar project i

00:46:35,910 --> 00:46:43,390
believe i believe Firefox will not let

00:46:40,660 --> 00:46:48,900
you some service worker chrome does have

00:46:43,390 --> 00:46:54,100
incognito right and five books has been

00:46:48,900 --> 00:46:56,680
right but I think it uh let's see yeah

00:46:54,100 --> 00:46:59,050
so in our private windows service worker

00:46:56,680 --> 00:47:00,280
is not defined so we don't let you

00:46:59,050 --> 00:47:01,780
insult sirs we're going to private Lindo

00:47:00,280 --> 00:47:03,280
I think chrome does and they're just

00:47:01,780 --> 00:47:05,410
nukes the whole thing when you're done

00:47:03,280 --> 00:47:06,610
so that's something that we should

00:47:05,410 --> 00:47:09,040
probably improve to the developer

00:47:06,610 --> 00:47:11,050
experience okay but it's something you

00:47:09,040 --> 00:47:12,160
can't necessarily rely on but again

00:47:11,050 --> 00:47:14,530
that's the nice thing that service

00:47:12,160 --> 00:47:16,030
workers is it's your page doesn't have

00:47:14,530 --> 00:47:18,370
any logic applies directly to the worker

00:47:16,030 --> 00:47:23,370
generally so we'll just work normally

00:47:18,370 --> 00:47:23,370
without the offline support thank you

00:47:23,920 --> 00:47:27,099
give an example

00:47:29,440 --> 00:47:33,190
sure that was uh so where were the

00:47:31,690 --> 00:47:35,819
service for corresponding Sookie poster

00:47:33,190 --> 00:47:35,819
busts yeah

00:47:38,760 --> 00:47:46,050
plus because so much just loves it so

00:47:42,720 --> 00:47:52,740
you might want to do something like if

00:47:46,050 --> 00:47:56,130
you can if you know what the response of

00:47:52,740 --> 00:47:57,930
the post you could intercept it do all

00:47:56,130 --> 00:48:00,510
the logic in the service worker and then

00:47:57,930 --> 00:48:02,550
respond much more quickly before

00:48:00,510 --> 00:48:04,620
actually doing the entire round trip to

00:48:02,550 --> 00:48:06,540
the network packing and you can kind of

00:48:04,620 --> 00:48:07,920
use that as a as a fast response to say

00:48:06,540 --> 00:48:10,440
article you did the post this is the

00:48:07,920 --> 00:48:11,880
change and in parallel still let that

00:48:10,440 --> 00:48:13,080
request go through and if you get back

00:48:11,880 --> 00:48:15,030
something that looks different than you

00:48:13,080 --> 00:48:16,290
expected then you can update it you can

00:48:15,030 --> 00:48:21,110
make the site look a lot more responsive

00:48:16,290 --> 00:48:23,670
that way that make sense yeah so

00:48:21,110 --> 00:48:25,470
actually writing questions so it can

00:48:23,670 --> 00:48:26,700
make sure together it's hard to like

00:48:25,470 --> 00:48:31,260
everyone's microphone comes from the

00:48:26,700 --> 00:48:33,990
same actually accommodation for cash a

00:48:31,260 --> 00:48:37,170
disc a WT something heavy preparation

00:48:33,990 --> 00:48:40,170
for cash browser cache this capacity

00:48:37,170 --> 00:48:42,960
actually in before you limit for that

00:48:40,170 --> 00:48:47,340
our server service workers again on its

00:48:42,960 --> 00:48:51,420
own something so I'm saying browser

00:48:47,340 --> 00:48:53,730
cache this capacity some programs but

00:48:51,420 --> 00:48:56,550
was able to pass on you yeah for of the

00:48:53,730 --> 00:48:59,450
browser can i install a browser it by

00:48:56,550 --> 00:49:03,730
default sets of 8 MV or something

00:48:59,450 --> 00:49:07,150
if I or giving all my soul can be to

00:49:03,730 --> 00:49:11,210
Korea so in the end human give a 1gb

00:49:07,150 --> 00:49:13,490
ribbon Camilla right one is always a

00:49:11,210 --> 00:49:16,460
test so I don't know the actual words

00:49:13,490 --> 00:49:26,470
and something that is worth I think I am

00:49:16,460 --> 00:49:28,340
a passionate you can extend it so I

00:49:26,470 --> 00:49:31,600
don't know about the actual ones all

00:49:28,340 --> 00:49:31,600
right now or how thousand

00:49:36,770 --> 00:49:42,460
one person is like neon sign up for this

00:49:39,080 --> 00:49:42,460
one sir no lighting

00:49:43,489 --> 00:49:50,309
right okay so the question is Firefox is

00:49:47,910 --> 00:49:55,650
dropping plugging support the end the

00:49:50,309 --> 00:49:58,229
API what's the alternative for that so

00:49:55,650 --> 00:50:01,680
what is oppose moving away from from

00:49:58,229 --> 00:50:05,190
binary planes one of the main things is

00:50:01,680 --> 00:50:06,749
replacing that is JavaScript implement

00:50:05,190 --> 00:50:08,940
your decoder and look whatever in

00:50:06,749 --> 00:50:10,709
JavaScript you don't have the Cape of

00:50:08,940 --> 00:50:13,890
the rocket blazing and Katie I plugin

00:50:10,709 --> 00:50:15,599
would have but you can get the same

00:50:13,890 --> 00:50:17,940
speed so we have a hundred people that

00:50:15,599 --> 00:50:19,829
Adam GaSe which is now turning the web

00:50:17,940 --> 00:50:21,959
assembly but all the browser vendors are

00:50:19,829 --> 00:50:24,930
working on a bike go to the web they can

00:50:21,959 --> 00:50:28,949
perform do it in ten percent of CM

00:50:24,930 --> 00:50:30,599
performance it has kind of worker s

00:50:28,949 --> 00:50:32,849
version see right here and writing

00:50:30,599 --> 00:50:35,640
normal threads give you a lot of things

00:50:32,849 --> 00:50:37,380
you might cut away need a plugin for so

00:50:35,640 --> 00:50:40,469
we can use that like implement i'm

00:50:37,380 --> 00:50:42,390
actually implement flash in javascript

00:50:40,469 --> 00:50:43,979
and render it to campus either

00:50:42,390 --> 00:50:46,289
performant lee and then you'll be

00:50:43,979 --> 00:50:47,489
looking for flash me more there people

00:50:46,289 --> 00:50:49,739
original video because that's that do

00:50:47,489 --> 00:50:52,109
the same thing so plugins are going away

00:50:49,739 --> 00:50:56,759
thurs for replacement is use JavaScript

00:50:52,109 --> 00:50:59,190
basically be active and or 50 social how

00:50:56,759 --> 00:51:01,680
do you access local resources because

00:50:59,190 --> 00:51:03,030
the media team a genetically frightening

00:51:01,680 --> 00:51:06,240
optics

00:51:03,030 --> 00:51:09,750
then how do you do signatures and access

00:51:06,240 --> 00:51:11,730
local resources to do a plug-in so quick

00:51:09,750 --> 00:51:16,590
question Desmond there's no no games

00:51:11,730 --> 00:51:20,220
with that right now boys think we are at

00:51:16,590 --> 00:51:21,960
time for a little over again please go

00:51:20,220 --> 00:51:23,670
break the session please talk to me

00:51:21,960 --> 00:51:26,990
afterwards I'm happy to look at things

00:51:23,670 --> 00:51:26,990

YouTube URL: https://www.youtube.com/watch?v=e9PypgTZ7tM


