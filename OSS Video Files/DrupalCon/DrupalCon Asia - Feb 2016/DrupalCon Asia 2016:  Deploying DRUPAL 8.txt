Title: DrupalCon Asia 2016:  Deploying DRUPAL 8
Publication date: 2016-04-21
Playlist: DrupalCon Asia - Feb 2016
Description: 
	
Captions: 
	00:00:02,669 --> 00:00:12,820
k bar ma bad tiranga thanks

00:00:10,469 --> 00:00:17,110
unfortunately that's the extent of my

00:00:12,820 --> 00:00:19,780
Hindi for the English speakers I'm Dave

00:00:17,110 --> 00:00:25,420
hole and today i'll be speaking about

00:00:19,780 --> 00:00:27,340
the plane drip away so Who am I I'm an

00:00:25,420 --> 00:00:31,780
IT consultant I've been running my own

00:00:27,340 --> 00:00:33,880
business for over 15 years I've been

00:00:31,780 --> 00:00:38,680
playing around with Drupal since the

00:00:33,880 --> 00:00:41,230
days of 4.6 and I've been heavily

00:00:38,680 --> 00:00:44,350
focused on deployment and managing

00:00:41,230 --> 00:00:48,160
Drupal at scale since the days of Drupal

00:00:44,350 --> 00:00:53,710
6 where I deployed over 2,000 sites for

00:00:48,160 --> 00:00:58,630
a single client in 51 to 52 hours that

00:00:53,710 --> 00:01:02,980
was a crazy project I I enjoy hacking on

00:00:58,630 --> 00:01:06,790
web apps not only with Drupal or PHP but

00:01:02,980 --> 00:01:09,430
other languages and I also do sis admin

00:01:06,790 --> 00:01:11,710
work I get bored doing same thing for

00:01:09,430 --> 00:01:14,680
too long so that's why I do all kinds of

00:01:11,710 --> 00:01:16,450
different things so I'll start by

00:01:14,680 --> 00:01:20,409
running through some of the things I

00:01:16,450 --> 00:01:25,690
like obviously I'm here so i like drupal

00:01:20,409 --> 00:01:28,210
i also like automation if i can get a

00:01:25,690 --> 00:01:32,740
person out of a process then it makes me

00:01:28,210 --> 00:01:34,960
happy i also love a drupalcon this event

00:01:32,740 --> 00:01:39,220
has been amazing I've really enjoyed it

00:01:34,960 --> 00:01:41,320
so far I also love cricket and i love

00:01:39,220 --> 00:01:45,360
the Mumbai Indians I've actually been

00:01:41,320 --> 00:01:48,130
wacky enough to go see two Dame's

00:01:45,360 --> 00:01:52,030
I've actually seen harbajan Singh bowl

00:01:48,130 --> 00:01:55,450
and such an Tendulkar bat on Wayne Katie

00:01:52,030 --> 00:01:57,610
and so I'm pretty happy about that but

00:01:55,450 --> 00:02:00,130
what makes me even happier about cricket

00:01:57,610 --> 00:02:03,660
is when Australia wins the world cup and

00:02:00,130 --> 00:02:08,190
that's going to happen again next month

00:02:03,660 --> 00:02:11,260
so let's look at deploying drip away so

00:02:08,190 --> 00:02:14,050
here we go this is just a very simple

00:02:11,260 --> 00:02:16,420
deployment where download it from

00:02:14,050 --> 00:02:20,800
drupal.org where ft paying it to

00:02:16,420 --> 00:02:27,220
dreamhost and I've sped it up just a

00:02:20,800 --> 00:02:29,830
little bit and here we go we start going

00:02:27,220 --> 00:02:34,560
through doing the basic configuration

00:02:29,830 --> 00:02:34,560
put in database credentials and so on

00:02:37,390 --> 00:02:41,790
and then the Installer runs

00:02:44,319 --> 00:02:51,459
and then we put in the site name and all

00:02:47,650 --> 00:02:54,730
of that stuff and we even struggled fine

00:02:51,459 --> 00:02:57,719
our own time zone and then we save it

00:02:54,730 --> 00:03:00,489
there we go that's triple eight deployed

00:02:57,719 --> 00:03:06,129
thank you everyone for coming that's the

00:03:00,489 --> 00:03:08,739
end of my presentation now that's what

00:03:06,129 --> 00:03:11,319
most people think deployment is with

00:03:08,739 --> 00:03:13,780
Drupal but what I'm going to talk to you

00:03:11,319 --> 00:03:16,030
about today is everything else that goes

00:03:13,780 --> 00:03:18,549
around deployment so you can have

00:03:16,030 --> 00:03:21,969
successful repeatable deployments for

00:03:18,549 --> 00:03:24,959
Joe sites and your client sites and I'm

00:03:21,969 --> 00:03:30,790
going to do that by telling you a story

00:03:24,959 --> 00:03:33,939
actually not quite that story oops um so

00:03:30,790 --> 00:03:35,439
once upon a time there was a company my

00:03:33,939 --> 00:03:37,299
quick it's not working too well all

00:03:35,439 --> 00:03:40,090
right let's skip the cliq up there was a

00:03:37,299 --> 00:03:42,250
company called Acme corporation I don't

00:03:40,090 --> 00:03:46,750
know if any of you have heard of Acme

00:03:42,250 --> 00:03:50,229
corporation they they had a very loyal

00:03:46,750 --> 00:03:52,810
customer mr. Wiley coyote and he used to

00:03:50,229 --> 00:03:56,109
buy all kinds of stuff from them very

00:03:52,810 --> 00:03:59,019
successful business very innovative with

00:03:56,109 --> 00:04:01,299
their products but they had a few

00:03:59,019 --> 00:04:03,759
problems with their existing content

00:04:01,299 --> 00:04:06,879
management system so they started

00:04:03,759 --> 00:04:11,199
looking at how they could improve their

00:04:06,879 --> 00:04:13,000
web presence and this is Larry I mean

00:04:11,199 --> 00:04:16,150
sorry not Larry Gary they look very

00:04:13,000 --> 00:04:19,900
similar but this is actually Gary and

00:04:16,150 --> 00:04:22,330
gary is a developer at Acme corporation

00:04:19,900 --> 00:04:27,060
and he likes playing around with new

00:04:22,330 --> 00:04:30,219
things so Gary install Drupal locally

00:04:27,060 --> 00:04:31,900
here is setting up then now you're

00:04:30,219 --> 00:04:34,030
probably all going yeah we've all set up

00:04:31,900 --> 00:04:36,669
Sam I did on my first day of a new job

00:04:34,030 --> 00:04:39,190
it's so boring yes it is boring but is

00:04:36,669 --> 00:04:42,610
how most people get a local development

00:04:39,190 --> 00:04:45,099
environment setup zamp is really good

00:04:42,610 --> 00:04:47,289
for when you get started but as we

00:04:45,099 --> 00:04:49,509
progress three things today your wound

00:04:47,289 --> 00:04:52,510
that there are alternatives to give you

00:04:49,509 --> 00:04:54,630
a more consistent environment

00:04:52,510 --> 00:04:54,630
and

00:04:56,290 --> 00:05:01,520
cool actually I should turn the firewall

00:04:58,730 --> 00:05:05,110
off I can't do that all right hopefully

00:05:01,520 --> 00:05:07,310
it doesn't trigger again all right so

00:05:05,110 --> 00:05:12,860
here we are we're just running through

00:05:07,310 --> 00:05:15,140
doing the during the deployment of doing

00:05:12,860 --> 00:05:21,940
the configuration it's all very exciting

00:05:15,140 --> 00:05:21,940
once again I've sped the video up and

00:05:22,660 --> 00:05:27,920
downloading from dribble dog again

00:05:24,890 --> 00:05:31,880
putting in all of our details now the

00:05:27,920 --> 00:05:34,700
the problem with zamp is a lot of people

00:05:31,880 --> 00:05:37,100
use them on a Windows environment but

00:05:34,700 --> 00:05:39,680
how many people here actually deploy on

00:05:37,100 --> 00:05:42,590
to Windows servers anyone to play on to

00:05:39,680 --> 00:05:48,860
windows service okay you have my

00:05:42,590 --> 00:05:51,380
sympathies but the thing is that the

00:05:48,860 --> 00:05:53,660
windows environment and linux server

00:05:51,380 --> 00:05:55,790
environment are completely different you

00:05:53,660 --> 00:05:57,920
need consistency between your

00:05:55,790 --> 00:06:04,730
environments so that's why Sam isn't

00:05:57,920 --> 00:06:07,390
such a good idea but we'll just wait for

00:06:04,730 --> 00:06:07,390
this to run through

00:06:08,090 --> 00:06:11,060
well actually we know what's going to

00:06:09,680 --> 00:06:15,320
happen let's skip the rest of the video

00:06:11,060 --> 00:06:17,590
it's good though okay so Gary goes to

00:06:15,320 --> 00:06:20,960
his boss Aitor and sets that ADA hey

00:06:17,590 --> 00:06:23,900
check out Drupal and she was like that

00:06:20,960 --> 00:06:27,320
looks great let's let's go with it so

00:06:23,900 --> 00:06:31,010
they build their first sight and they

00:06:27,320 --> 00:06:33,380
watch it and that the launch goes like

00:06:31,010 --> 00:06:38,690
this and it was amazing they were very

00:06:33,380 --> 00:06:42,080
happy with it then Amy not Angie but Amy

00:06:38,690 --> 00:06:44,000
from marketing came along and she said

00:06:42,080 --> 00:06:48,530
how many people are visiting site and

00:06:44,000 --> 00:06:51,320
Gary's Lee only so then they had to work

00:06:48,530 --> 00:06:52,970
out like Gary had to sit down and do

00:06:51,320 --> 00:06:56,870
some research and figure out how they

00:06:52,970 --> 00:06:58,490
would get some traffic data and Gary how

00:06:56,870 --> 00:07:01,220
to poke around on the server and went

00:06:58,490 --> 00:07:04,310
here we've got Apache blogs you can go

00:07:01,220 --> 00:07:07,070
through that and figure out your how

00:07:04,310 --> 00:07:10,150
many visitors we're having you might

00:07:07,070 --> 00:07:14,060
guess Amy wasn't too happy with that so

00:07:10,150 --> 00:07:16,130
they decided to use an analytics package

00:07:14,060 --> 00:07:19,130
and there's lots of analytics packages

00:07:16,130 --> 00:07:21,850
around Google Analytics is the most

00:07:19,130 --> 00:07:24,979
popular pie wick is an open-source

00:07:21,850 --> 00:07:26,900
equivalent if you've got heaps of money

00:07:24,979 --> 00:07:29,360
and while throwing it away you can give

00:07:26,900 --> 00:07:31,520
it to Adobe and get on the tour and then

00:07:29,360 --> 00:07:38,650
you've got tools like chart beat which

00:07:31,520 --> 00:07:38,650
allow you to do real time user tracking

00:07:39,280 --> 00:07:45,950
one of the good things that your

00:07:41,979 --> 00:07:48,590
analytics will show you is all kinds of

00:07:45,950 --> 00:07:50,870
data but also page load times and we can

00:07:48,590 --> 00:07:53,840
see here that in this one particular

00:07:50,870 --> 00:07:57,349
week the average page load time almost

00:07:53,840 --> 00:07:59,210
doubled now you need to be watching your

00:07:57,349 --> 00:08:00,410
data it's not just I will do the

00:07:59,210 --> 00:08:02,419
analytics and we'll send off to

00:08:00,410 --> 00:08:04,610
marketing and their way oh well our

00:08:02,419 --> 00:08:08,210
latest social media campaign was great

00:08:04,610 --> 00:08:10,070
we increased traffic by ten percent as

00:08:08,210 --> 00:08:11,919
developers you should be trying to get

00:08:10,070 --> 00:08:14,270
access to the analytics data and

00:08:11,919 --> 00:08:16,550
understanding the traffic patterns the

00:08:14,270 --> 00:08:20,620
page load times all of that stuff so you

00:08:16,550 --> 00:08:20,620
have some idea what that looks like

00:08:20,720 --> 00:08:28,040
and I know how to look at the logs and

00:08:25,100 --> 00:08:30,560
when to Gary and said why they gaps in

00:08:28,040 --> 00:08:32,330
the logs and at first Gary's going on no

00:08:30,560 --> 00:08:34,400
and then he had a look at the the

00:08:32,330 --> 00:08:37,700
traffic logs and there was gets there as

00:08:34,400 --> 00:08:41,060
well and then they realized that because

00:08:37,700 --> 00:08:43,760
they were using cheap hosting that the

00:08:41,060 --> 00:08:46,310
site kept on going down and how they

00:08:43,760 --> 00:08:48,770
found that out was by using uptime

00:08:46,310 --> 00:08:53,780
monitoring so by using a tool like

00:08:48,770 --> 00:08:57,320
Pingdom or Wormley or new relic has real

00:08:53,780 --> 00:09:00,950
time user tracking as well that allows

00:08:57,320 --> 00:09:03,110
you to actually identify if those

00:09:00,950 --> 00:09:05,780
servers up and down and it'll send you

00:09:03,110 --> 00:09:09,380
alerts which is kind of useful

00:09:05,780 --> 00:09:11,000
especially if the site is like if it's

00:09:09,380 --> 00:09:12,830
your personal blog you might think I

00:09:11,000 --> 00:09:15,320
it's not really worth it but if the site

00:09:12,830 --> 00:09:18,380
is generating revenue either through

00:09:15,320 --> 00:09:21,170
e-commerce or by generating foot traffic

00:09:18,380 --> 00:09:26,030
in stores and stuff then you'll want to

00:09:21,170 --> 00:09:28,580
fix up so I just said we need better

00:09:26,030 --> 00:09:30,470
hosting and you know Gary's bit old

00:09:28,580 --> 00:09:34,700
school he thought godaddy was still

00:09:30,470 --> 00:09:39,440
pretty cool I kind of think Gary may not

00:09:34,700 --> 00:09:42,860
have a job for much longer but they

00:09:39,440 --> 00:09:47,660
decided to go for a platform as a

00:09:42,860 --> 00:09:50,390
service option so platform is service

00:09:47,660 --> 00:09:52,250
rather than just giving you the hardware

00:09:50,390 --> 00:09:56,720
they give you a bunch of tooling around

00:09:52,250 --> 00:10:02,450
the system as well so you get version

00:09:56,720 --> 00:10:07,339
control ideally it's get how many people

00:10:02,450 --> 00:10:09,320
here have to use subversion okay you're

00:10:07,339 --> 00:10:11,630
also people I feel sorry for I noticed

00:10:09,320 --> 00:10:15,100
some overlap between that week the point

00:10:11,630 --> 00:10:18,680
of windows and the wii u's subversion

00:10:15,100 --> 00:10:23,630
but at least using subversion is better

00:10:18,680 --> 00:10:26,720
than using no version control so the

00:10:23,630 --> 00:10:28,670
past services they should give you

00:10:26,720 --> 00:10:31,310
multiple environments so you can

00:10:28,670 --> 00:10:33,020
actually have a devastation a product

00:10:31,310 --> 00:10:34,190
rather than deploying all changes

00:10:33,020 --> 00:10:36,770
directly to

00:10:34,190 --> 00:10:41,290
production that's a great way to bright

00:10:36,770 --> 00:10:44,090
sites and they should also offer

00:10:41,290 --> 00:10:46,760
automated deployment so when you commit

00:10:44,090 --> 00:10:49,730
your code that the changes actually go

00:10:46,760 --> 00:10:53,210
live on an environment for you rather

00:10:49,730 --> 00:10:58,670
than you having to ftp a tour kickoff

00:10:53,210 --> 00:11:00,680
manual processes and generally they'll

00:10:58,670 --> 00:11:03,350
give you a service level agreement so if

00:11:00,680 --> 00:11:06,500
it does go down you've got someone to

00:11:03,350 --> 00:11:07,970
choke and hopefully if you're losing

00:11:06,500 --> 00:11:15,440
money they're losing money because you

00:11:07,970 --> 00:11:17,570
don't have to pay them now other words

00:11:15,440 --> 00:11:20,480
really impressed with the new hosting

00:11:17,570 --> 00:11:26,840
platform and garrison thinking what else

00:11:20,480 --> 00:11:29,690
can we improve so they decided to adopt

00:11:26,840 --> 00:11:33,620
a composer based workflow how many

00:11:29,690 --> 00:11:35,660
people here have used composer oh that's

00:11:33,620 --> 00:11:38,440
great um I'm not going to give you

00:11:35,660 --> 00:11:41,890
people any symphony Oh any sympathy

00:11:38,440 --> 00:11:41,890
symphony sent me

00:11:43,010 --> 00:11:49,860
alright so yeah you can have lots of

00:11:47,130 --> 00:11:54,210
symphony just no sympathy and so you get

00:11:49,860 --> 00:11:56,760
the composer base workflow makes it so

00:11:54,210 --> 00:12:00,870
you actually contain if you put a lot

00:11:56,760 --> 00:12:05,430
less stuff in your git repo so what

00:12:00,870 --> 00:12:07,830
we've got here is a simple composer JSON

00:12:05,430 --> 00:12:09,900
file that specifies all of our

00:12:07,830 --> 00:12:12,180
dependencies so we've got Drupal core

00:12:09,900 --> 00:12:14,100
we've got dress and we've got three

00:12:12,180 --> 00:12:16,260
people console it's you've got to

00:12:14,100 --> 00:12:18,990
compose a JSON file and it doesn't have

00:12:16,260 --> 00:12:21,030
triple console in there then you're

00:12:18,990 --> 00:12:23,580
doing it wrong for Drupal 8 you really

00:12:21,030 --> 00:12:30,630
want to have console in there as well as

00:12:23,580 --> 00:12:33,840
trash now this this tops you like when

00:12:30,630 --> 00:12:35,940
you've got one big git repo you've got a

00:12:33,840 --> 00:12:38,310
tight deadline and it's like all the

00:12:35,940 --> 00:12:40,860
code is in there and one thing isn't

00:12:38,310 --> 00:12:43,470
working so we'll just hat core today and

00:12:40,860 --> 00:12:46,470
next week we won't be so busy and we'll

00:12:43,470 --> 00:12:48,360
fix it six months later that hack is

00:12:46,470 --> 00:12:50,070
still in production you do an upgrade

00:12:48,360 --> 00:12:52,200
and then the functionality breaks

00:12:50,070 --> 00:12:53,910
whereas if you've got a composer file

00:12:52,200 --> 00:12:56,880
you're specifying all of your

00:12:53,910 --> 00:12:58,710
dependencies there and your changes

00:12:56,880 --> 00:13:01,440
should be properly tested and you know

00:12:58,710 --> 00:13:05,150
exactly what you're running so it makes

00:13:01,440 --> 00:13:08,130
it it makes the separation of the the

00:13:05,150 --> 00:13:13,890
dependencies and your custom code or

00:13:08,130 --> 00:13:16,860
what clean up so this is a little video

00:13:13,890 --> 00:13:19,800
of using a composer based workflow for

00:13:16,860 --> 00:13:22,020
those of you who aren't familiar sorry

00:13:19,800 --> 00:13:24,480
that text this is a pre-recorded video

00:13:22,020 --> 00:13:26,820
unfortunately and the text is a little

00:13:24,480 --> 00:13:29,070
bit probably more than a little bit

00:13:26,820 --> 00:13:31,200
blurry for the people up the back so

00:13:29,070 --> 00:13:33,330
I'll talk through it what we're doing is

00:13:31,200 --> 00:13:38,120
we're adding the devel module as a

00:13:33,330 --> 00:13:45,380
dependency to the composer JSON which

00:13:38,120 --> 00:13:50,010
will add in here and we'll put in the

00:13:45,380 --> 00:13:51,630
the the branch that we're using now I

00:13:50,010 --> 00:13:53,310
would love to show you this in real time

00:13:51,630 --> 00:13:57,510
but you'll see when we get to

00:13:53,310 --> 00:13:59,640
you the composer update step that it

00:13:57,510 --> 00:14:01,260
would be a quarter of my talk just

00:13:59,640 --> 00:14:03,060
sitting here waiting for composer to

00:14:01,260 --> 00:14:07,200
finish updating all the dependencies

00:14:03,060 --> 00:14:09,240
which is it does slow things down a

00:14:07,200 --> 00:14:11,760
little bit with using composer but you

00:14:09,240 --> 00:14:14,339
do have the benefit of having that

00:14:11,760 --> 00:14:19,529
separation so I've made the change I'm

00:14:14,339 --> 00:14:23,400
now running composure composure update

00:14:19,529 --> 00:14:25,410
to update all my dependencies and I

00:14:23,400 --> 00:14:33,060
treated here I sped the video i put a

00:14:25,410 --> 00:14:34,650
bit and so then this will run and it's

00:14:33,060 --> 00:14:36,660
pulling down all the different

00:14:34,650 --> 00:14:40,230
dependencies so with a pitch per unit

00:14:36,660 --> 00:14:44,880
coming in we've got the develop module

00:14:40,230 --> 00:14:47,450
coming in here and so on so we'll give

00:14:44,880 --> 00:14:47,450
this a sec

00:15:02,720 --> 00:15:06,740
alright if any of you want to have an

00:15:04,670 --> 00:15:10,970
apple let you know when it's time to

00:15:06,740 --> 00:15:13,939
wake up come on okay so that's finished

00:15:10,970 --> 00:15:23,290
and then we can have a look and see our

00:15:13,939 --> 00:15:26,000
changes so we um the other thing because

00:15:23,290 --> 00:15:29,689
this is done i'm actually using

00:15:26,000 --> 00:15:32,029
platforms SH for my demo here it gives

00:15:29,689 --> 00:15:34,819
me a lot of integration here so once i'm

00:15:32,029 --> 00:15:37,730
done all i do is run platform local

00:15:34,819 --> 00:15:40,910
build and it will actually go and deploy

00:15:37,730 --> 00:15:43,670
that all into my drupal vm local

00:15:40,910 --> 00:15:46,670
environment so i can continue to work

00:15:43,670 --> 00:15:48,889
with this code if i want to the platform

00:15:46,670 --> 00:15:50,720
SH guys are here if you have a chance go

00:15:48,889 --> 00:15:52,939
talk to them check out their stuff I'm

00:15:50,720 --> 00:15:59,300
very impressed with their stuff at the

00:15:52,939 --> 00:16:03,319
moment so now this is well hang on I've

00:15:59,300 --> 00:16:06,560
got a so i chose the the two files that

00:16:03,319 --> 00:16:09,740
have changed we're pretending that I've

00:16:06,560 --> 00:16:16,309
tested this locally just food doing a

00:16:09,740 --> 00:16:19,220
bit quicker and then I'll add the files

00:16:16,309 --> 00:16:21,170
actually I'll diff them first so we can

00:16:19,220 --> 00:16:23,569
see our change has gone into the

00:16:21,170 --> 00:16:25,339
composer file and these are all the

00:16:23,569 --> 00:16:29,180
dependencies that have been updated as

00:16:25,339 --> 00:16:32,660
well super exciting reading tiff files

00:16:29,180 --> 00:16:37,100
for hashes that have updated so now

00:16:32,660 --> 00:16:39,290
we'll do the git commit if some reason

00:16:37,100 --> 00:16:46,629
it stopped echoing the command output

00:16:39,290 --> 00:16:46,629
but will um do the git commit

00:16:50,140 --> 00:16:56,130
and now

00:16:58,220 --> 00:17:02,990
ok so we've committed the files now

00:17:00,560 --> 00:17:06,770
we'll push them and then we'll go have a

00:17:02,990 --> 00:17:09,020
look at what shows up so we if we have a

00:17:06,770 --> 00:17:10,910
look you can see here in progress has

00:17:09,020 --> 00:17:13,820
already happened on platform bastard eh

00:17:10,910 --> 00:17:17,630
and here it's actually rebuilding my

00:17:13,820 --> 00:17:23,110
environment on platform SH for me so

00:17:17,630 --> 00:17:23,110
we'll switch back over there in a sec

00:17:28,439 --> 00:17:32,840
come on person I record the video switch

00:17:37,080 --> 00:17:40,980
alright those bad at it

00:17:44,110 --> 00:17:51,220
okay so now I've switched and here's

00:17:49,240 --> 00:17:57,220
here's the site as it stands at the

00:17:51,220 --> 00:17:59,980
moment we will we'll just use ad rush

00:17:57,220 --> 00:18:02,549
uoy link because i always forget my

00:17:59,980 --> 00:18:02,549
credentials

00:18:06,290 --> 00:18:13,820
so will login and now we jump to our

00:18:10,340 --> 00:18:19,850
modules page and we'll scroll down and

00:18:13,820 --> 00:18:21,770
we'll scroll down thank you and scroll

00:18:19,850 --> 00:18:23,930
back up so we can find it there we go

00:18:21,770 --> 00:18:26,360
there's our devour my jewel so that

00:18:23,930 --> 00:18:28,460
that's been all handled by composer and

00:18:26,360 --> 00:18:33,050
the automation has gone and deployed

00:18:28,460 --> 00:18:35,570
that for us so that's that's how quick

00:18:33,050 --> 00:18:37,070
and easy when you've got a platform that

00:18:35,570 --> 00:18:39,830
actually supports composer base

00:18:37,070 --> 00:18:41,720
workflows you just compete could commit

00:18:39,830 --> 00:18:48,110
the composer files and it goes and

00:18:41,720 --> 00:18:54,020
deploys it for you alright so the next

00:18:48,110 --> 00:18:56,630
thing is performance metrics one of the

00:18:54,020 --> 00:18:58,850
things that went once you've got a site

00:18:56,630 --> 00:19:01,820
that's live you should be regularly

00:18:58,850 --> 00:19:04,910
looking at how your site performs

00:19:01,820 --> 00:19:07,610
because the the thing is you want to

00:19:04,910 --> 00:19:09,560
know where the bottlenecks are in the

00:19:07,610 --> 00:19:12,950
site you shouldn't be waiting for the

00:19:09,560 --> 00:19:15,710
site to go down before you realize where

00:19:12,950 --> 00:19:19,900
the bottlenecks are and there's a bunch

00:19:15,710 --> 00:19:19,900
of really good tools for this stuff

00:19:20,800 --> 00:19:27,140
there's black fire the guys are next to

00:19:24,530 --> 00:19:28,460
the platform SH guy's ear downstairs if

00:19:27,140 --> 00:19:32,990
you want to talk to them there's also

00:19:28,460 --> 00:19:35,900
you rally new relic i use for quite a

00:19:32,990 --> 00:19:38,090
few sites and New Relic gives us nice

00:19:35,900 --> 00:19:40,310
little graphs like this so this is

00:19:38,090 --> 00:19:43,610
showing me that the average response

00:19:40,310 --> 00:19:46,010
time for the server is like 250

00:19:43,610 --> 00:19:48,290
milliseconds but I don't know what

00:19:46,010 --> 00:19:52,550
happened yesterday but yes something

00:19:48,290 --> 00:19:56,270
something wasn't too good and we can see

00:19:52,550 --> 00:19:58,820
that the the user experience wasn't so

00:19:56,270 --> 00:20:00,770
good either you really want in the blue

00:19:58,820 --> 00:20:02,270
with a dipping down into the green

00:20:00,770 --> 00:20:05,930
occasionally if you're dipping down

00:20:02,270 --> 00:20:07,820
below this orange line that shows that

00:20:05,930 --> 00:20:13,220
the customers are going to get

00:20:07,820 --> 00:20:15,380
frustrated and this is also showing how

00:20:13,220 --> 00:20:17,070
many requests per minute the site's not

00:20:15,380 --> 00:20:22,799
doing many it's only doing ten

00:20:17,070 --> 00:20:25,559
a minute so but one of the things that I

00:20:22,799 --> 00:20:28,950
tell people about using tools like new

00:20:25,559 --> 00:20:30,720
rally is don't just wait until you've

00:20:28,950 --> 00:20:32,399
got a problem and go in there and start

00:20:30,720 --> 00:20:34,649
clicking around going can I find where

00:20:32,399 --> 00:20:36,870
the problem is you need to be in here

00:20:34,649 --> 00:20:39,899
regularly understanding what your

00:20:36,870 --> 00:20:41,909
individual sites look like wet because

00:20:39,899 --> 00:20:45,690
you know you might have an electron job

00:20:41,909 --> 00:20:47,220
that causes a spike in database load but

00:20:45,690 --> 00:20:51,210
if you know that that happens every

00:20:47,220 --> 00:20:53,490
night at 3am and no one's no one's

00:20:51,210 --> 00:20:55,799
really on the site at that time then

00:20:53,490 --> 00:20:58,019
that's not going to be a big problem but

00:20:55,799 --> 00:21:01,289
if you're noticing that a particular

00:20:58,019 --> 00:21:04,440
page is causing five or six second page

00:21:01,289 --> 00:21:06,960
load times then that's something that

00:21:04,440 --> 00:21:08,700
you should dig into but understanding

00:21:06,960 --> 00:21:12,149
what your graphs normally look like

00:21:08,700 --> 00:21:13,919
helps you recognize where the problems

00:21:12,149 --> 00:21:16,350
are if you're just going in when there's

00:21:13,919 --> 00:21:22,860
a problem then you're going to miss the

00:21:16,350 --> 00:21:27,320
the key problems in these graphs another

00:21:22,860 --> 00:21:31,379
thing that you should look at doing is

00:21:27,320 --> 00:21:36,149
visit Drupal vam and I actually didn't

00:21:31,379 --> 00:21:39,480
put the domain in there so triple vm com

00:21:36,149 --> 00:21:42,480
it's a vagrant how many people here use

00:21:39,480 --> 00:21:44,909
vagrant for local development that's

00:21:42,480 --> 00:21:49,679
awesome I wasn't expecting there to be

00:21:44,909 --> 00:21:51,480
so many that's great um now this time

00:21:49,679 --> 00:21:56,129
for all of you who didn't put your hands

00:21:51,480 --> 00:21:58,500
up you have much in peace so through on

00:21:56,129 --> 00:22:01,250
vagrant allows you to run a virtual

00:21:58,500 --> 00:22:04,409
machine that gets provisioned with

00:22:01,250 --> 00:22:09,019
consistent configuration and drupal vm

00:22:04,409 --> 00:22:13,440
allows you to set up an environment that

00:22:09,019 --> 00:22:17,789
you can take the the stuff that Jeff

00:22:13,440 --> 00:22:19,980
going has already built and you can use

00:22:17,789 --> 00:22:22,440
it asses or customize it so closely

00:22:19,980 --> 00:22:25,080
replicates your environment if you're

00:22:22,440 --> 00:22:26,890
deploying on to acquire hosting he

00:22:25,080 --> 00:22:29,250
actually has a configuration that

00:22:26,890 --> 00:22:32,440
locates the Acquia hosting environment

00:22:29,250 --> 00:22:34,330
so this allows you to debug things

00:22:32,440 --> 00:22:38,410
locally and have it as close as possible

00:22:34,330 --> 00:22:40,300
to your production environments which is

00:22:38,410 --> 00:22:42,220
a lot better than running Sam so all the

00:22:40,300 --> 00:22:45,900
people before who had their hands up for

00:22:42,220 --> 00:22:49,600
exam you should check out dribble vm

00:22:45,900 --> 00:22:52,330
another thing they did was go for a

00:22:49,600 --> 00:22:55,330
regular release schedule initially they

00:22:52,330 --> 00:22:59,080
decided once a month and it was the

00:22:55,330 --> 00:23:00,910
second tuesday of every month and that

00:22:59,080 --> 00:23:06,090
worked well it gave them some

00:23:00,910 --> 00:23:10,090
consistency with their deployments um

00:23:06,090 --> 00:23:12,820
but then Amy from marketing came along

00:23:10,090 --> 00:23:14,890
and said have no stage content changes

00:23:12,820 --> 00:23:17,440
because the code stuffs all working

00:23:14,890 --> 00:23:22,240
pretty well with the new platform but

00:23:17,440 --> 00:23:25,570
content changes it wasn't so good all

00:23:22,240 --> 00:23:27,790
the dumb Gary could suggest was manual

00:23:25,570 --> 00:23:32,230
copying and that was causing all kinds

00:23:27,790 --> 00:23:34,270
of problems for them you know Patriots

00:23:32,230 --> 00:23:36,640
were being missed links were breaking

00:23:34,270 --> 00:23:40,900
because the title wasn't copied exactly

00:23:36,640 --> 00:23:44,620
and all kinds of stuff I was out but

00:23:40,900 --> 00:23:48,630
then Gary found the deploy model how

00:23:44,620 --> 00:23:54,120
many people here have used the point yes

00:23:48,630 --> 00:23:57,040
good work I like seeing those ends go on

00:23:54,120 --> 00:23:59,530
now for those of you who haven't used

00:23:57,040 --> 00:24:04,750
the deployment or if you haven't heard

00:23:59,530 --> 00:24:07,120
of the deployment today 4pm hole 31 go

00:24:04,750 --> 00:24:10,690
check out using deploy and drape wait

00:24:07,120 --> 00:24:13,450
with dick Olson Tim millwood and I've

00:24:10,690 --> 00:24:19,560
forgotten Abhishek's last name or any of

00:24:13,450 --> 00:24:19,560
those guys here yeah that's him

00:24:20,940 --> 00:24:26,350
any of the guys doing that presentation

00:24:23,650 --> 00:24:29,530
here I get good I don't need to go to

00:24:26,350 --> 00:24:33,430
their presentation today then all right

00:24:29,530 --> 00:24:35,950
so then our another thing we need to

00:24:33,430 --> 00:24:39,280
deal with is configuration configuration

00:24:35,950 --> 00:24:41,140
has changed in Drupal 8 I think most of

00:24:39,280 --> 00:24:44,140
us who have been dealing with

00:24:41,140 --> 00:24:46,240
configuration in Drupal 7 have been

00:24:44,140 --> 00:24:50,170
working with the features module which

00:24:46,240 --> 00:24:52,000
features is great but there's a lot of

00:24:50,170 --> 00:24:53,800
problems with features at the same time

00:24:52,000 --> 00:24:55,960
it's only great because we didn't have

00:24:53,800 --> 00:25:04,480
an alternative whereas strictly we've

00:24:55,960 --> 00:25:05,980
got CMA now cmi it means we don't have

00:25:04,480 --> 00:25:08,800
to pass around database without

00:25:05,980 --> 00:25:11,860
configuration code and all of that I'm

00:25:08,800 --> 00:25:17,860
not code content and configuration all

00:25:11,860 --> 00:25:21,460
kind of mashed up together now we can do

00:25:17,860 --> 00:25:25,810
you I imports for configuration the the

00:25:21,460 --> 00:25:27,940
problem with doing a UI import is that

00:25:25,810 --> 00:25:31,450
we can't have a fully automated the plan

00:25:27,940 --> 00:25:33,280
so you're doing a deployment and well

00:25:31,450 --> 00:25:35,440
you shouldn't deploy Friday afternoon

00:25:33,280 --> 00:25:38,430
unless you've got a automated delivery

00:25:35,440 --> 00:25:41,200
pipeline so say you're delivering

00:25:38,430 --> 00:25:43,840
deploying first thing Monday morning the

00:25:41,200 --> 00:25:47,770
developer had a big weekend they kick

00:25:43,840 --> 00:25:51,960
off the the content and code deployment

00:25:47,770 --> 00:25:55,600
but they forget to do the through the

00:25:51,960 --> 00:25:57,490
config input then you've got wrong

00:25:55,600 --> 00:26:01,360
configuration on your site and you'll

00:25:57,490 --> 00:26:06,610
have trouble so I strongly recommend

00:26:01,360 --> 00:26:09,220
that you used rush and I'm I'll take you

00:26:06,610 --> 00:26:13,150
through a workflow that I'm advocating

00:26:09,220 --> 00:26:17,020
people use for drip away again I'm sorry

00:26:13,150 --> 00:26:19,450
for the people up the back I should have

00:26:17,020 --> 00:26:26,350
made the the console bigger but what i'm

00:26:19,450 --> 00:26:31,170
doing here is so i'm going to export the

00:26:26,350 --> 00:26:32,809
configuration so i run config export and

00:26:31,170 --> 00:26:37,070
provided destiny

00:26:32,809 --> 00:26:40,399
asian path if I don't make typos so

00:26:37,070 --> 00:26:44,059
we'll give this a sec because I do keep

00:26:40,399 --> 00:26:50,889
on making typos and so this is exporting

00:26:44,059 --> 00:26:54,279
it to a directory in my git repo and so

00:26:50,889 --> 00:26:58,190
I've got two directories here Basin dev

00:26:54,279 --> 00:26:59,769
now base is my base side configuration

00:26:58,190 --> 00:27:06,470
that applies across all of my

00:26:59,769 --> 00:27:11,389
environments and then I also have so if

00:27:06,470 --> 00:27:13,759
we do if we have a look here's all the

00:27:11,389 --> 00:27:20,259
Yama files with all of the configuration

00:27:13,759 --> 00:27:20,259
for my site now I'll commit that change

00:27:27,490 --> 00:27:35,460
and so that's going to added all of

00:27:29,710 --> 00:27:35,460
those files now I'll update the slogan

00:27:44,570 --> 00:27:52,040
now what I did here was export the

00:27:48,540 --> 00:27:52,040
configuration when I shouldn't have I

00:27:52,400 --> 00:28:01,050
redid the video this morning and I

00:27:57,350 --> 00:28:02,970
should have done it yesterday but now if

00:28:01,050 --> 00:28:06,870
we do a git status we see that this file

00:28:02,970 --> 00:28:12,120
here has updated we do a diff and it'll

00:28:06,870 --> 00:28:13,950
show our configuration changes if you

00:28:12,120 --> 00:28:15,630
can read that but you can see there's

00:28:13,950 --> 00:28:21,390
red and green that indicates that you

00:28:15,630 --> 00:28:23,220
know it's changed now ignore me trying

00:28:21,390 --> 00:28:25,380
to import the configuration that I've

00:28:23,220 --> 00:28:29,330
written to disk that matches here that

00:28:25,380 --> 00:28:32,840
of course won't make any change just um

00:28:29,330 --> 00:28:32,840
wait for this bit

00:28:36,950 --> 00:28:42,519
also if anyone here knows how to put

00:28:39,740 --> 00:28:44,870
proper video controls in a revealed j/s

00:28:42,519 --> 00:28:52,399
presentation come see me after this I'd

00:28:44,870 --> 00:28:55,159
love to know so so what we see here is

00:28:52,399 --> 00:28:57,470
we've got our configuration where we're

00:28:55,159 --> 00:28:59,450
providing the source directory this

00:28:57,470 --> 00:29:02,360
isn't going to work because I'm being an

00:28:59,450 --> 00:29:04,399
idiot just pretend this like a real-life

00:29:02,360 --> 00:29:06,799
demo where the presenter always makes

00:29:04,399 --> 00:29:10,580
mistakes I had to include that so the

00:29:06,799 --> 00:29:13,039
video seemed real you know you don't

00:29:10,580 --> 00:29:15,919
want to know the polished video ok so

00:29:13,039 --> 00:29:18,260
now we're we're back to the site we can

00:29:15,919 --> 00:29:19,519
see that we've got the the slogan and

00:29:18,260 --> 00:29:23,480
we've got the site name what I'm going

00:29:19,519 --> 00:29:25,940
to do here is I'm going to set the site

00:29:23,480 --> 00:29:30,889
name to dev site save the configuration

00:29:25,940 --> 00:29:36,380
and now what I'm going to do is through

00:29:30,889 --> 00:29:40,220
a a configuration get to select just one

00:29:36,380 --> 00:29:43,580
piece of configuration so I do drush see

00:29:40,220 --> 00:29:47,179
get then I need the name which is system

00:29:43,580 --> 00:29:50,450
dot sight and that actually exports the

00:29:47,179 --> 00:29:52,639
yomim now I redirect that output to a

00:29:50,450 --> 00:29:56,419
directory I've got a blog post about

00:29:52,639 --> 00:29:57,980
this on my blog with the actual details

00:29:56,419 --> 00:30:02,000
for those of you are the back who can't

00:29:57,980 --> 00:30:06,110
read what's on the screen and so this

00:30:02,000 --> 00:30:08,149
will actually export the just that

00:30:06,110 --> 00:30:10,639
single piece of configuration so if we

00:30:08,149 --> 00:30:14,510
do a git status we see that it's just

00:30:10,639 --> 00:30:16,490
dead i'll i'll add that and will commit

00:30:14,510 --> 00:30:18,470
it and you'll see when the commit happen

00:30:16,490 --> 00:30:21,610
so it's just one far worse before there

00:30:18,470 --> 00:30:21,610
was a mountain of files

00:30:24,050 --> 00:30:26,860
come on

00:30:28,530 --> 00:30:39,330
ok cool so I've added the dev I'll do

00:30:31,920 --> 00:30:41,100
the commit ok so now I've got I've got

00:30:39,330 --> 00:30:46,890
stuff in Basin and I've got stuff in

00:30:41,100 --> 00:30:49,950
depth so we do the now we'll actually

00:30:46,890 --> 00:30:58,650
revert the the name change that was here

00:30:49,950 --> 00:31:02,820
before ok so now I've got a repo back

00:30:58,650 --> 00:31:06,120
the way we want it and what we'll do is

00:31:02,820 --> 00:31:08,280
we'll actually do an import because at

00:31:06,120 --> 00:31:11,640
the moment this is our confit we've got

00:31:08,280 --> 00:31:14,730
deaf site and the slogan and so now

00:31:11,640 --> 00:31:19,080
we'll import our base config which will

00:31:14,730 --> 00:31:22,070
go back and have a look at once it

00:31:19,080 --> 00:31:22,070
finishes importing

00:31:23,760 --> 00:31:28,200
sometimes I feel like drupal 8 should be

00:31:26,100 --> 00:31:29,610
called Drupal wait because you're going

00:31:28,200 --> 00:31:32,340
to wait for composers of wait for

00:31:29,610 --> 00:31:35,490
configuration import it's like wait wait

00:31:32,340 --> 00:31:39,540
wait okay so now we will refresh this

00:31:35,490 --> 00:31:41,910
page and here we go so that was a bit

00:31:39,540 --> 00:31:44,840
fast but we've got the stuff the way we

00:31:41,910 --> 00:31:47,340
wanted it and now we'll do with

00:31:44,840 --> 00:31:50,040
importing from dev but we're specifying

00:31:47,340 --> 00:31:54,480
partial which tells it that it's a

00:31:50,040 --> 00:31:57,150
partial thing of configuration and it's

00:31:54,480 --> 00:31:59,340
back to reading dev site so that's

00:31:57,150 --> 00:32:01,620
that's how we can have a multiple

00:31:59,340 --> 00:32:05,090
environment configuration so when you're

00:32:01,620 --> 00:32:07,200
automating stuff because you might want

00:32:05,090 --> 00:32:09,300
something different in your

00:32:07,200 --> 00:32:17,690
configuration from one environment to

00:32:09,300 --> 00:32:17,690
another so cool

00:32:19,280 --> 00:32:33,470
die you know no I don't wanna ciao I

00:32:31,460 --> 00:32:35,660
actually pulled crime so you wouldn't

00:32:33,470 --> 00:32:42,400
say how many times I open then I click

00:32:35,660 --> 00:32:42,400
the wrong be all right sorry um now

00:32:46,220 --> 00:32:53,120
ok come now we're back on track all

00:32:49,909 --> 00:32:54,890
right um so I should disable rescue time

00:32:53,120 --> 00:32:59,740
next summer present too I thought I'd

00:32:54,890 --> 00:33:02,030
killed everything ok actually side plug

00:32:59,740 --> 00:33:06,350
rescue times really good for same way

00:33:02,030 --> 00:33:10,190
you waste time during your day so um now

00:33:06,350 --> 00:33:12,950
it is asking can we make faster releases

00:33:10,190 --> 00:33:14,960
and Gary's like hmm i don't know like

00:33:12,950 --> 00:33:17,659
you know it releases a bit problematic

00:33:14,960 --> 00:33:19,880
for us every time we do a new release

00:33:17,659 --> 00:33:22,669
there's new bugs how many times does

00:33:19,880 --> 00:33:24,230
people heard that from like managers and

00:33:22,669 --> 00:33:25,549
stuff that you can't release more often

00:33:24,230 --> 00:33:32,179
because every time there's a release

00:33:25,549 --> 00:33:35,240
there's more bugs yeah i know a couple

00:33:32,179 --> 00:33:41,960
of managers who push that line not

00:33:35,240 --> 00:33:45,140
looking at anyone okay one of the issues

00:33:41,960 --> 00:33:47,000
with one release cycles is one fixed

00:33:45,140 --> 00:33:51,710
times it actually takes quite a while to

00:33:47,000 --> 00:33:54,559
get your fix through smaller releases

00:33:51,710 --> 00:33:57,289
and actually have less risk because

00:33:54,559 --> 00:34:00,440
you're making less changes it also means

00:33:57,289 --> 00:34:04,490
that you can make you can get your fixes

00:34:00,440 --> 00:34:07,460
in faster so you know Gary thought well

00:34:04,490 --> 00:34:11,060
what's it going to take to be able to do

00:34:07,460 --> 00:34:15,020
more frequent releases so a really key

00:34:11,060 --> 00:34:17,690
thing is automated testing using phpunit

00:34:15,020 --> 00:34:20,359
for your back end stuff and back fed

00:34:17,690 --> 00:34:23,869
checking that the behavior of the site

00:34:20,359 --> 00:34:26,359
is as expected excuse me one of the good

00:34:23,869 --> 00:34:28,909
things about using behat over like

00:34:26,359 --> 00:34:32,359
selenium like selenium is great but

00:34:28,909 --> 00:34:34,580
trying to get a business person to

00:34:32,359 --> 00:34:36,530
understand selenium is hard you can't go

00:34:34,580 --> 00:34:38,750
here's our git repo with all of our

00:34:36,530 --> 00:34:40,399
selenium tests it's going to verify

00:34:38,750 --> 00:34:42,919
stuff they'll be like oh yeah that's

00:34:40,399 --> 00:34:45,169
great but how do I know that whereas if

00:34:42,919 --> 00:34:48,290
they can actually read through the bat

00:34:45,169 --> 00:34:52,429
tests it gives them a clear idea of what

00:34:48,290 --> 00:34:55,940
you're testing for and what to expect so

00:34:52,429 --> 00:34:58,980
continuous integration is a really key

00:34:55,940 --> 00:35:01,560
part of this so having automated stuff

00:34:58,980 --> 00:35:06,270
that does emerge as does your testing

00:35:01,560 --> 00:35:10,260
all of that stuff Jenkins is really good

00:35:06,270 --> 00:35:15,950
I've use Jenkins for six years maybe

00:35:10,260 --> 00:35:19,530
longer back when it was still Hudson

00:35:15,950 --> 00:35:21,900
Travis is one of the new cool kids on

00:35:19,530 --> 00:35:24,300
the block there's quite a few Drupal

00:35:21,900 --> 00:35:26,880
projects using Travis there's also a

00:35:24,300 --> 00:35:29,790
paid private version if you want to use

00:35:26,880 --> 00:35:32,550
that circle CI has also got some

00:35:29,790 --> 00:35:35,369
traction in the Drupal community I need

00:35:32,550 --> 00:35:38,550
to play with it Co chips pretty good not

00:35:35,369 --> 00:35:42,030
so suited for Drupal but still a great

00:35:38,550 --> 00:35:44,369
product and there's a bunch of others

00:35:42,030 --> 00:35:47,970
out there like I'm plugging products

00:35:44,369 --> 00:35:51,000
today that I'm familiar with and I would

00:35:47,970 --> 00:35:53,280
have I would happily consider using on

00:35:51,000 --> 00:35:55,890
my projects but there's a bunch of other

00:35:53,280 --> 00:35:57,900
stuff out there I've never tried so you

00:35:55,890 --> 00:36:00,830
know it still could be good just because

00:35:57,900 --> 00:36:04,590
I don't have it up it doesn't mean it's

00:36:00,830 --> 00:36:07,470
you shouldn't use it now this is I

00:36:04,590 --> 00:36:10,380
thought I'd use one of the Colson's

00:36:07,470 --> 00:36:12,359
projects to show off Travis to win some

00:36:10,380 --> 00:36:16,200
brownie points but it didn't turn up so

00:36:12,359 --> 00:36:19,500
I shouldn't have used this okay still no

00:36:16,200 --> 00:36:23,010
excuse so what what this is showing is

00:36:19,500 --> 00:36:24,510
that it's run the tests and it I can

00:36:23,010 --> 00:36:28,320
actually run it against multiple

00:36:24,510 --> 00:36:31,380
versions of PHP and multiple versions of

00:36:28,320 --> 00:36:37,050
Drupal so this is running PHP 55 with

00:36:31,380 --> 00:36:42,380
Drupal 8 0 X and then PHP 5.5 with

00:36:37,050 --> 00:36:46,920
drinkable 8.1 point X and the same with

00:36:42,380 --> 00:36:52,140
PHP 5.6 so if you're in a situation

00:36:46,920 --> 00:36:54,600
where you're hosting vendor is changing

00:36:52,140 --> 00:36:56,340
from one PHP version to another you can

00:36:54,600 --> 00:36:58,230
start running tests in parallel with the

00:36:56,340 --> 00:37:01,590
two different versions to make it easier

00:36:58,230 --> 00:37:05,040
to transition it'd be really nice to

00:37:01,590 --> 00:37:10,830
have PHP 7 there's a target and have

00:37:05,040 --> 00:37:14,120
that on there as well now

00:37:10,830 --> 00:37:18,030
I really think that your absolute

00:37:14,120 --> 00:37:20,610
maximum release cycle for doing code

00:37:18,030 --> 00:37:24,240
changes should be once a week for a site

00:37:20,610 --> 00:37:27,210
that's under active development now some

00:37:24,240 --> 00:37:29,310
of you your project managers will just

00:37:27,210 --> 00:37:32,250
have nightmares if you go back and say

00:37:29,310 --> 00:37:36,150
hey we should do weekly releases it's

00:37:32,250 --> 00:37:39,120
not going to be a like go from we're

00:37:36,150 --> 00:37:41,760
doing releases every six weeks to doing

00:37:39,120 --> 00:37:44,040
a release every week overnight you need

00:37:41,760 --> 00:37:45,930
to get these things in place but once

00:37:44,040 --> 00:37:48,330
you get into the habit of doing weekly

00:37:45,930 --> 00:37:51,270
releases people get more confidence

00:37:48,330 --> 00:37:52,950
around the release and yeah sure you're

00:37:51,270 --> 00:37:55,350
going to have bugs things may break

00:37:52,950 --> 00:37:58,470
occasionally but if you're in in the

00:37:55,350 --> 00:38:01,920
practice of releasing once a week once a

00:37:58,470 --> 00:38:03,600
day once an hour then you know you can

00:38:01,920 --> 00:38:05,610
make those changes you can fix things

00:38:03,600 --> 00:38:08,690
quicker and it will actually make your

00:38:05,610 --> 00:38:12,030
team go faster and also people from

00:38:08,690 --> 00:38:14,160
marketing and management and they can

00:38:12,030 --> 00:38:16,860
see what you're producing and they can

00:38:14,160 --> 00:38:18,990
say we don't like this this bit or that

00:38:16,860 --> 00:38:21,860
bit and you can make those adjustments

00:38:18,990 --> 00:38:24,780
quicker so it actually makes your team

00:38:21,860 --> 00:38:30,300
able to deliver to meet the business

00:38:24,780 --> 00:38:36,990
needs a lot faster another really key

00:38:30,300 --> 00:38:41,490
thing is communication now one thing I

00:38:36,990 --> 00:38:43,890
don't have up here is recommendation on

00:38:41,490 --> 00:38:47,450
a ticketing system because I tolerate

00:38:43,890 --> 00:38:53,790
JIRA and hate just about everything else

00:38:47,450 --> 00:38:57,030
so we the communication stuff we should

00:38:53,790 --> 00:39:00,330
but you should have a wiki if you're

00:38:57,030 --> 00:39:02,400
using github who hears you sir wiki

00:39:00,330 --> 00:39:06,900
feature on github for project

00:39:02,400 --> 00:39:09,030
documentation okay good but if I come

00:39:06,900 --> 00:39:11,430
back and do this talk again I hope to

00:39:09,030 --> 00:39:14,010
see what my hands go I really like the

00:39:11,430 --> 00:39:16,740
get up wiki system for project Docs

00:39:14,010 --> 00:39:19,860
Google Docs is also good but it doesn't

00:39:16,740 --> 00:39:23,340
support markdown so it's not so easy to

00:39:19,860 --> 00:39:24,489
work with but is easier to put pictures

00:39:23,340 --> 00:39:27,679
in

00:39:24,489 --> 00:39:32,509
another really important communication

00:39:27,679 --> 00:39:34,369
thing is real-time chat I these days I

00:39:32,509 --> 00:39:38,420
could not do my job properly without

00:39:34,369 --> 00:39:39,679
slack you know it just makes such a

00:39:38,420 --> 00:39:41,779
difference he can have notifications

00:39:39,679 --> 00:39:44,029
coming in from different systems you can

00:39:41,779 --> 00:39:46,609
have all kinds of stuff being

00:39:44,029 --> 00:39:48,920
centralized into chat which helps give a

00:39:46,609 --> 00:39:54,079
lot more visibility not only to your

00:39:48,920 --> 00:39:56,269
team but to other people as well so I if

00:39:54,079 --> 00:40:02,329
you get the chance have a play with

00:39:56,269 --> 00:40:04,519
slack HipChat is good doesn't have quite

00:40:02,329 --> 00:40:07,069
the the interest than the integrations

00:40:04,519 --> 00:40:09,349
these phases slack does slight pretty

00:40:07,069 --> 00:40:12,979
much came from nowhere and now dominates

00:40:09,349 --> 00:40:14,989
chat and you know if you really get

00:40:12,979 --> 00:40:16,549
stuck start burning furniture in the

00:40:14,989 --> 00:40:18,949
office and do smoke signals to

00:40:16,549 --> 00:40:22,789
communicate with other people actually

00:40:18,949 --> 00:40:24,229
um I think that way is won't be happy if

00:40:22,789 --> 00:40:26,239
you start burning to furnish it so

00:40:24,229 --> 00:40:29,599
please don't do that and don't sue me if

00:40:26,239 --> 00:40:33,069
you do another thing you should look at

00:40:29,599 --> 00:40:38,420
building is dashboards to expose that o2

00:40:33,069 --> 00:40:41,779
management you know what what's the

00:40:38,420 --> 00:40:43,910
team's velocity look like what what's

00:40:41,779 --> 00:40:46,489
coming up what's been dealt with houses

00:40:43,910 --> 00:40:50,779
I performing provide all this data to

00:40:46,489 --> 00:40:52,519
people expose it and allow people to see

00:40:50,779 --> 00:40:55,039
what's actually happening with the site

00:40:52,519 --> 00:40:57,349
rather than all they see is go to the

00:40:55,039 --> 00:41:00,529
website I it feels slow or you know I

00:40:57,349 --> 00:41:02,509
don't like this or can you make the logo

00:41:00,529 --> 00:41:06,469
twenty percent bigger because you know

00:41:02,509 --> 00:41:10,069
the logos always too small also status

00:41:06,469 --> 00:41:12,890
pages you can build those for internal

00:41:10,069 --> 00:41:18,349
consumption only if you want to track

00:41:12,890 --> 00:41:22,489
how things are running but really

00:41:18,349 --> 00:41:25,519
importantly what I real the the real

00:41:22,489 --> 00:41:27,259
message from today is embrace changed

00:41:25,519 --> 00:41:31,839
like this needs to be an iterative

00:41:27,259 --> 00:41:36,539
process but you can't just let go okay

00:41:31,839 --> 00:41:38,969
we're going to do this tomorrow and have

00:41:36,539 --> 00:41:41,160
work perfectly you're going to have to

00:41:38,969 --> 00:41:44,400
reiterate just like you do with code

00:41:41,160 --> 00:41:47,039
it's also why I didn't come in and go

00:41:44,400 --> 00:41:50,069
this is the one perfect way to the

00:41:47,039 --> 00:41:53,880
deployments I'm giving I hope I've given

00:41:50,069 --> 00:41:56,689
you all some idea of some of the things

00:41:53,880 --> 00:41:59,249
you can integrate into your workflows to

00:41:56,689 --> 00:42:03,439
make it so you can deploy drip or more

00:41:59,249 --> 00:42:07,499
successfully and i hope that i can use

00:42:03,439 --> 00:42:10,259
one of my friends to actually help give

00:42:07,499 --> 00:42:13,769
you some idea from what this stuff's

00:42:10,259 --> 00:42:16,199
like so you won't get it right the first

00:42:13,769 --> 00:42:18,029
time when you first start off you're

00:42:16,199 --> 00:42:22,189
going to be like the guys in this Jeep

00:42:18,029 --> 00:42:22,189
oh hang on you need audio

00:42:59,970 --> 00:43:03,180
and then

00:43:12,700 --> 00:43:18,849
right but once you get this stuff right

00:43:15,800 --> 00:43:18,849
you too

00:43:57,660 --> 00:44:09,970
okay that is my favourite bollywood see

00:44:02,560 --> 00:44:13,780
I love back we're all right so Danny

00:44:09,970 --> 00:44:16,420
vote and the English speakers thank you

00:44:13,780 --> 00:44:21,580
I've had a bit of fun doing today's

00:44:16,420 --> 00:44:23,770
presentation I hope there's a few

00:44:21,580 --> 00:44:29,530
questions or else we're going to finish

00:44:23,770 --> 00:44:31,500
a bit early and yeah well alum what

00:44:29,530 --> 00:44:35,140
we're going through this feel free to

00:44:31,500 --> 00:44:37,120
follow me on Twitter things on Twitter

00:44:35,140 --> 00:44:39,700
get a bit crazy with me sometimes but

00:44:37,120 --> 00:44:42,130
you know that's wait guys and if you

00:44:39,700 --> 00:44:48,570
wanted a bit more serious you can find

00:44:42,130 --> 00:44:48,570
me on LinkedIn as well any questions

00:45:07,859 --> 00:45:15,400
um so um there is some overhead for

00:45:12,339 --> 00:45:18,940
setting this stuff up but I don't know

00:45:15,400 --> 00:45:22,140
you like G work it do you work for an

00:45:18,940 --> 00:45:28,300
agency or gwave friendless sorry

00:45:22,140 --> 00:45:30,849
freelancing agency yet sorry so like one

00:45:28,300 --> 00:45:33,880
of the things that I think a lot of

00:45:30,849 --> 00:45:36,630
clients can benefit from is agencies

00:45:33,880 --> 00:45:41,020
actually investing in these processes

00:45:36,630 --> 00:45:43,900
now some clients are lucky enough to be

00:45:41,020 --> 00:45:46,810
big enough that they can go to the the

00:45:43,900 --> 00:45:49,119
agency and say you're going to follow

00:45:46,810 --> 00:45:52,170
our way of working but it's my

00:45:49,119 --> 00:45:55,359
understanding that you know most clients

00:45:52,170 --> 00:45:58,089
like go to the agency in LA are we just

00:45:55,359 --> 00:46:00,940
want to cite and you know you guys build

00:45:58,089 --> 00:46:03,099
it whereas if you've got these processes

00:46:00,940 --> 00:46:04,569
in place that you use for all of your

00:46:03,099 --> 00:46:08,140
projects on ninety percent of your

00:46:04,569 --> 00:46:10,599
projects even though there is some setup

00:46:08,140 --> 00:46:13,390
costs you can actually spread that setup

00:46:10,599 --> 00:46:15,339
costs across a year's worth of clients

00:46:13,390 --> 00:46:17,500
just take a bit extra on the bill and

00:46:15,339 --> 00:46:20,170
the client will actually see a higher

00:46:17,500 --> 00:46:22,980
quality outcome each time because of

00:46:20,170 --> 00:46:22,980
that investment

00:46:25,119 --> 00:46:37,920
yeah still it's worth investing this day

00:46:35,619 --> 00:46:40,839
I think it is because what you can do

00:46:37,920 --> 00:46:43,539
one of the things I didn't cover today

00:46:40,839 --> 00:46:45,609
is I actually think that with your

00:46:43,539 --> 00:46:47,259
deployment stuff you should be planning

00:46:45,609 --> 00:46:49,240
that when you're planning your content

00:46:47,259 --> 00:46:52,539
types when you're getting the wireframes

00:46:49,240 --> 00:46:54,430
done deployment is just another thing

00:46:52,539 --> 00:46:57,009
that needs to be planned and built out

00:46:54,430 --> 00:46:58,660
across the project and that means you

00:46:57,009 --> 00:47:01,509
can be testing that deployment system

00:46:58,660 --> 00:47:10,869
and tweaking it across the two months as

00:47:01,509 --> 00:47:13,329
you're building it out for the client so

00:47:10,869 --> 00:47:16,059
you can still do a fair bit of it the

00:47:13,329 --> 00:47:18,579
the issue with not having automated

00:47:16,059 --> 00:47:20,980
testing is you're probably going to miss

00:47:18,579 --> 00:47:22,749
stuff but if you've got an automated

00:47:20,980 --> 00:47:24,789
deployment system so you can release

00:47:22,749 --> 00:47:31,049
more quickly every time you break

00:47:24,789 --> 00:47:31,049
something you can get the fix wyd faster

00:47:39,400 --> 00:47:47,349
I thought that because it's what you

00:47:43,559 --> 00:47:49,270
typically more direct acting as I think

00:47:47,349 --> 00:47:51,640
it's still worth using without automated

00:47:49,270 --> 00:47:53,799
testing but your velocity will be faster

00:47:51,640 --> 00:47:55,089
with automated testing I don't know

00:47:53,799 --> 00:47:56,619
there's a few other people have got

00:47:55,089 --> 00:48:00,880
questions I'm more than happy to talk to

00:47:56,619 --> 00:48:03,520
you more about this afterwards so there

00:48:00,880 --> 00:48:04,809
was guy here yep yep i'm just wondering

00:48:03,520 --> 00:48:06,490
i just had a question about the composer

00:48:04,809 --> 00:48:08,170
work full aspect of it so does the

00:48:06,490 --> 00:48:11,619
composite local aspect replace the rush

00:48:08,170 --> 00:48:14,500
Upsy process and if so what now I'd

00:48:11,619 --> 00:48:17,859
sorry it doesn't well I don't advocate

00:48:14,500 --> 00:48:20,799
using brush up date code I think it

00:48:17,859 --> 00:48:23,680
replaces the makefile workflow Mike

00:48:20,799 --> 00:48:28,020
files are great but they're a real

00:48:23,680 --> 00:48:30,970
drupal ism and you can't include non

00:48:28,020 --> 00:48:33,880
drupal dependencies through well you

00:48:30,970 --> 00:48:36,880
kind of can bet it's a hack like you

00:48:33,880 --> 00:48:41,799
whereas composer you can include all of

00:48:36,880 --> 00:48:46,450
you code dependencies it's it's I think

00:48:41,799 --> 00:48:48,690
it's a better option oh yeah this guy up

00:48:46,450 --> 00:48:48,690
there

00:48:56,400 --> 00:49:02,190
okay um you can specify a mint sorry the

00:48:59,880 --> 00:49:04,920
question was can you specify the PHP

00:49:02,190 --> 00:49:08,700
version and composers are JSON you can

00:49:04,920 --> 00:49:11,400
define PHP dependency version in your

00:49:08,700 --> 00:49:15,270
composure JSON I'd recommend our only

00:49:11,400 --> 00:49:17,339
specifying a minimum PHP version but if

00:49:15,270 --> 00:49:20,010
you know that something is completely

00:49:17,339 --> 00:49:22,589
busted with seven then specify a range

00:49:20,010 --> 00:49:28,200
but I would be recommending specify a

00:49:22,589 --> 00:49:30,839
minimum version and then use your test

00:49:28,200 --> 00:49:34,819
suite to run with whichever target

00:49:30,839 --> 00:49:34,819
version or versions you want to use

00:49:40,320 --> 00:49:46,380
and you want to use a composite or JSON

00:49:43,230 --> 00:49:48,810
file with a drupal module yes everyone

00:49:46,380 --> 00:49:51,030
here who's working on Drupal modules you

00:49:48,810 --> 00:49:52,980
should have a composer doc JSON and the

00:49:51,030 --> 00:49:54,960
root directory of your module but

00:49:52,980 --> 00:49:57,780
putting in the basic information about

00:49:54,960 --> 00:49:59,700
module but also specifying any third

00:49:57,780 --> 00:50:02,790
party dependencies don't go putting

00:49:59,700 --> 00:50:04,740
libraries in your modules and also don't

00:50:02,790 --> 00:50:07,740
use the libraries module it was great

00:50:04,740 --> 00:50:10,590
for Drupal 6 that was many years ago

00:50:07,740 --> 00:50:12,660
we're now doing Drupal 7 that I mean

00:50:10,590 --> 00:50:15,740
Drupal 8 some of us still get stuck

00:50:12,660 --> 00:50:15,740
doing Drupal 7 sometimes

00:50:23,730 --> 00:50:32,340
no issue is about if you must have one

00:50:27,570 --> 00:50:36,210
or but there's no discussion about can

00:50:32,340 --> 00:50:37,950
you have one so I I say like the

00:50:36,210 --> 00:50:40,380
decisions still to be made if they're

00:50:37,950 --> 00:50:42,300
going to be mandatory so in the meantime

00:50:40,380 --> 00:50:44,730
put one in there so if they do decide

00:50:42,300 --> 00:50:49,280
that it is going to be mandatory you're

00:50:44,730 --> 00:50:49,280
not going to have to go back and do it

00:50:53,930 --> 00:51:01,760
yeah I've read through that issue yeah

00:50:59,220 --> 00:51:04,650
but you know any night I'm struggling to

00:51:01,760 --> 00:51:07,380
fall off to sleep I go find the big long

00:51:04,650 --> 00:51:09,420
discussions on drieborg and you know you

00:51:07,380 --> 00:51:15,570
get about 60 comments in and thence just

00:51:09,420 --> 00:51:21,090
like had enough of that yeah any more

00:51:15,570 --> 00:51:23,670
questions yeah okay so doc is really

00:51:21,090 --> 00:51:26,340
good um the reason why I didn't go into

00:51:23,670 --> 00:51:29,280
docket today is I could have done a

00:51:26,340 --> 00:51:31,740
whole presentation on docker and one of

00:51:29,280 --> 00:51:34,109
the other issues with Daka that you get

00:51:31,740 --> 00:51:35,460
into is do you want it for local do you

00:51:34,109 --> 00:51:38,359
want it for production do you want it

00:51:35,460 --> 00:51:42,270
for both how do you do orchestration

00:51:38,359 --> 00:51:44,850
there's just so many possibilities with

00:51:42,270 --> 00:51:50,609
Daka I've been really excited about

00:51:44,850 --> 00:51:54,410
docker for about three years now and I

00:51:50,609 --> 00:51:58,830
think docker is awesome but I just I

00:51:54,410 --> 00:52:02,130
can't do a 45-minute presentation on how

00:51:58,830 --> 00:52:05,359
to do taco with Drupal at the moment

00:52:02,130 --> 00:52:05,359
there's just too many options

00:52:09,930 --> 00:52:12,829
any more questions

00:52:15,280 --> 00:52:27,670
go out yep I saw that you were running

00:52:22,630 --> 00:52:30,970
composer somewhere outside in here and

00:52:27,670 --> 00:52:32,440
so I'm platform dot SH isn't a vm it

00:52:30,970 --> 00:52:34,720
actually deployed it to the remote

00:52:32,440 --> 00:52:37,780
environment for me so I updated my

00:52:34,720 --> 00:52:39,760
composure type JSON file locally and I

00:52:37,780 --> 00:52:44,290
could have been running a vm locally as

00:52:39,760 --> 00:52:47,880
well I just skip that step 44 time but I

00:52:44,290 --> 00:52:53,320
could have updated my composure die JSON

00:52:47,880 --> 00:52:54,970
run the platform client build locally

00:52:53,320 --> 00:52:57,460
that would have run the build and then I

00:52:54,970 --> 00:52:59,350
could have checked that locally commit

00:52:57,460 --> 00:53:05,410
my changes and then that gets deployed

00:52:59,350 --> 00:53:06,700
on to platform sh yep no worries um the

00:53:05,410 --> 00:53:10,260
guys on the beach i'll be able to give

00:53:06,700 --> 00:53:13,390
you a lot more info about how it works

00:53:10,260 --> 00:53:16,870
actually talk to that guy day if you

00:53:13,390 --> 00:53:19,210
want know about platform cool all right

00:53:16,870 --> 00:53:21,430
um thanks everyone and if you got more

00:53:19,210 --> 00:53:23,650
questions I'll be here today and I'll be

00:53:21,430 --> 00:53:26,740
around further part of tomorrow so just

00:53:23,650 --> 00:53:29,230
grab me and we can chat I actually know

00:53:26,740 --> 00:53:32,200
one more thing one more thing I'll get

00:53:29,230 --> 00:53:34,320
in trouble from the DA and there's a

00:53:32,200 --> 00:53:37,540
board member here so I need to tell you

00:53:34,320 --> 00:53:39,600
go rake my session

00:53:37,540 --> 00:53:39,600

YouTube URL: https://www.youtube.com/watch?v=QwOo4G8gSoE


