Title: DrupalCon Vienna 2017: Workflow Initiative Update
Publication date: 2017-09-26
Playlist: DrupalCon Vienna - Sept 2017
Description: 
	This will be an update on the status and progress of the Workflow Initiative. The time around Vienna is crucial for the initiative with the focus on getting an initial version of the Workspace module into core. In this session we'll cover the Workspace module in more detail, but also look at other important work that we are doing, such as upgrade paths and Content Moderation.
Captions: 
	00:00:00,030 --> 00:00:13,200
all right I think we can get started

00:00:04,279 --> 00:00:15,990
how's everyone doing welcome everyone I

00:00:13,200 --> 00:00:18,720
will be giving an update on the work

00:00:15,990 --> 00:00:21,449
flow initiative here today more

00:00:18,720 --> 00:00:23,670
specifically we'll be looking into the

00:00:21,449 --> 00:00:26,900
background some of the goals of the

00:00:23,670 --> 00:00:29,250
initiative brief overview of the plan

00:00:26,900 --> 00:00:32,099
some lessons that we've learned along

00:00:29,250 --> 00:00:36,000
the way and we're gonna look a bit

00:00:32,099 --> 00:00:38,489
closer at the workspace module I do want

00:00:36,000 --> 00:00:41,010
to try to leave some time for Q&A at the

00:00:38,489 --> 00:00:45,180
end it's a very short session hitters

00:00:41,010 --> 00:00:46,559
I'll try to keep it Swift first of all I

00:00:45,180 --> 00:00:49,320
just want to sort of highlight the

00:00:46,559 --> 00:00:51,059
funded initiative team we have some if

00:00:49,320 --> 00:00:53,670
not all of them in the room here we've

00:00:51,059 --> 00:00:56,850
also got some great contributors to the

00:00:53,670 --> 00:01:00,390
initiative here so say hi to them if you

00:00:56,850 --> 00:01:03,500
bump bump into them um I also usually

00:01:00,390 --> 00:01:05,880
like to thank some of the kind of

00:01:03,500 --> 00:01:09,869
founders of some of these ideas in

00:01:05,880 --> 00:01:14,820
contrib from a long time back hey rocker

00:01:09,869 --> 00:01:16,590
agent Richard and Dave Hall all been

00:01:14,820 --> 00:01:18,680
sort of contributing with somebody

00:01:16,590 --> 00:01:23,159
fundamental ideas that all of this is

00:01:18,680 --> 00:01:24,240
based on nine years ago Greg Dunlop

00:01:23,159 --> 00:01:26,970
started on working on some of these

00:01:24,240 --> 00:01:28,829
things it's it's a long time I also want

00:01:26,970 --> 00:01:30,900
to give a special mention to Rakesh

00:01:28,829 --> 00:01:32,670
Verma I don't think he's in the room

00:01:30,900 --> 00:01:36,390
here right now but he was a google

00:01:32,670 --> 00:01:38,490
Summer of Code student last summer he

00:01:36,390 --> 00:01:41,909
also contributed to the initiative if

00:01:38,490 --> 00:01:43,979
you see him around doo doo say hi he

00:01:41,909 --> 00:01:47,420
worked on some of the merge algorithms

00:01:43,979 --> 00:01:53,540
for for conflict management and so on

00:01:47,420 --> 00:01:57,659
moving on it's been a long way coming

00:01:53,540 --> 00:02:00,390
proposed these kind of ideas all the way

00:01:57,659 --> 00:02:03,210
back in Denver 2012 so that's been quite

00:02:00,390 --> 00:02:05,939
a few years the work flow initially we

00:02:03,210 --> 00:02:09,060
were the first approved initiative after

00:02:05,939 --> 00:02:12,570
the 8.0 release we take a lot of pride

00:02:09,060 --> 00:02:15,160
in that that's it's pretty awesome

00:02:12,570 --> 00:02:17,620
we are try what we're trying to achieve

00:02:15,160 --> 00:02:21,160
somewhat our goals really efficient and

00:02:17,620 --> 00:02:23,770
accurate content workflows for the

00:02:21,160 --> 00:02:25,990
content editors that's kind of the

00:02:23,770 --> 00:02:30,130
persona in the middle that we're trying

00:02:25,990 --> 00:02:32,620
to make things easier for we want to do

00:02:30,130 --> 00:02:37,930
that by enabling moderation of content

00:02:32,620 --> 00:02:39,820
as well as full site preview so the the

00:02:37,930 --> 00:02:43,360
ability to preview your changes before

00:02:39,820 --> 00:02:45,190
they go live essentially again it's been

00:02:43,360 --> 00:02:50,080
a lot of work involved here we spent

00:02:45,190 --> 00:02:54,630
will say 2015 or 2016 time in Amsterdam

00:02:50,080 --> 00:02:57,480
with the boy and Roy and Joseph was it

00:02:54,630 --> 00:02:59,800
yeah I think end of 2015

00:02:57,480 --> 00:03:01,690
flushing out all of these ideas and

00:02:59,800 --> 00:03:05,740
that's where a lot of these concepts

00:03:01,690 --> 00:03:08,740
came to fruition not gonna cover all the

00:03:05,740 --> 00:03:11,380
phases of the plan I'm gonna cover a few

00:03:08,740 --> 00:03:13,480
specific phases of the roadmap you can

00:03:11,380 --> 00:03:16,750
you can see the whole road map on the

00:03:13,480 --> 00:03:20,470
drupal.org issue on the screen we will

00:03:16,750 --> 00:03:24,360
start with phase a so the very first

00:03:20,470 --> 00:03:27,370
phase was really to start using the

00:03:24,360 --> 00:03:30,370
excellent revision API for more entities

00:03:27,370 --> 00:03:32,010
in Drupal core it's really leveraging

00:03:30,370 --> 00:03:34,989
all the capabilities that we have

00:03:32,010 --> 00:03:38,380
there's been a lot of work on underlying

00:03:34,989 --> 00:03:41,800
api's the upgrade path such a big issue

00:03:38,380 --> 00:03:44,560
and I was fighting with for for a long

00:03:41,800 --> 00:03:46,570
long time we've introduced base classes

00:03:44,560 --> 00:03:49,570
and interfaces so this was kind of a

00:03:46,570 --> 00:03:51,519
foundation for all the work that was

00:03:49,570 --> 00:03:54,940
going to be head so we've closed out

00:03:51,519 --> 00:03:57,190
successful on face a so that's that's

00:03:54,940 --> 00:04:01,500
been a long way coming with jumping a

00:03:57,190 --> 00:04:04,480
few steps to face C which was all about

00:04:01,500 --> 00:04:06,640
content moderation and the workflow

00:04:04,480 --> 00:04:09,790
module says and as many of you might

00:04:06,640 --> 00:04:11,920
know both of the modules are stable well

00:04:09,790 --> 00:04:13,690
content moderation is hopefully being

00:04:11,920 --> 00:04:16,989
marked as better soon but it's it's

00:04:13,690 --> 00:04:20,370
stable code it works well workflow

00:04:16,989 --> 00:04:22,720
module is is definitely more stable

00:04:20,370 --> 00:04:26,280
challenges throughout this phase of the

00:04:22,720 --> 00:04:29,889
initiative was uncovering a lot of

00:04:26,280 --> 00:04:33,190
long live limitations and bugs at the

00:04:29,889 --> 00:04:35,590
very heart of Drupal core so we've done

00:04:33,190 --> 00:04:37,780
amazing amazing progress so we consider

00:04:35,590 --> 00:04:42,550
ourselves more or less done with this

00:04:37,780 --> 00:04:48,550
face as well again jumping ahead a few

00:04:42,550 --> 00:04:52,630
steps face G is currently where we're at

00:04:48,550 --> 00:04:54,130
at the moment we've jumped from C to G

00:04:52,630 --> 00:04:56,550
it doesn't really make sense but anyway

00:04:54,130 --> 00:04:59,940
here we are

00:04:56,550 --> 00:05:03,160
this face will be all about introducing

00:04:59,940 --> 00:05:05,590
really are kind of we will start

00:05:03,160 --> 00:05:08,229
touching at the capabilities that we're

00:05:05,590 --> 00:05:10,570
most excited about enabling full set

00:05:08,229 --> 00:05:14,949
preview will do this with the workspace

00:05:10,570 --> 00:05:19,000
module so this is a quite bold new

00:05:14,949 --> 00:05:22,930
mental model of how content editors work

00:05:19,000 --> 00:05:26,410
with content in Drupal and as I just

00:05:22,930 --> 00:05:28,570
mentioned this is where we actively

00:05:26,410 --> 00:05:30,610
doing a lot of work at the moment so

00:05:28,570 --> 00:05:32,320
this will be our focus for for the

00:05:30,610 --> 00:05:34,090
current release cycle and we'll dive

00:05:32,320 --> 00:05:35,530
into more detail of what works base

00:05:34,090 --> 00:05:39,190
module what it looks like and what it

00:05:35,530 --> 00:05:41,500
really means we are targeting an

00:05:39,190 --> 00:05:44,830
experimental module sort of the Minimum

00:05:41,500 --> 00:05:48,280
Viable Product for 8.5 so the time is

00:05:44,830 --> 00:05:51,070
already ticking we already have patches

00:05:48,280 --> 00:05:52,479
with a lot of passing tests still a lot

00:05:51,070 --> 00:05:54,370
of work to do on the on the user

00:05:52,479 --> 00:05:57,490
interface and so on but we are

00:05:54,370 --> 00:06:00,010
definitely getting there again we will

00:05:57,490 --> 00:06:01,750
look at that in just a moment and before

00:06:00,010 --> 00:06:04,330
we get there you just want to go through

00:06:01,750 --> 00:06:11,050
some of the lessons that we've picked up

00:06:04,330 --> 00:06:13,870
along the way in this initiative so it's

00:06:11,050 --> 00:06:15,820
all the initiatives that are currently

00:06:13,870 --> 00:06:19,150
going on in in Drupal core they're quite

00:06:15,820 --> 00:06:21,639
different we've faced quite some

00:06:19,150 --> 00:06:23,560
challenges with running intuitive

00:06:21,639 --> 00:06:25,270
improvements on something that touches

00:06:23,560 --> 00:06:27,610
the very very heart of Drupal when it

00:06:25,270 --> 00:06:30,849
comes to our content model content

00:06:27,610 --> 00:06:33,460
storage touching API so that is very

00:06:30,849 --> 00:06:35,229
very tricky so that's been a great

00:06:33,460 --> 00:06:38,050
challenge not necessarily anything we

00:06:35,229 --> 00:06:40,240
can do other than improving our api's

00:06:38,050 --> 00:06:43,680
better interfaces and so on and so forth

00:06:40,240 --> 00:06:46,860
but it's definitely been the challenge

00:06:43,680 --> 00:06:50,980
again surfacing a lot of existing bugs

00:06:46,860 --> 00:06:53,920
with kind of the code itself in the

00:06:50,980 --> 00:06:56,500
modules that we've developed that code

00:06:53,920 --> 00:06:58,540
is stable but we're surfacing bugs

00:06:56,500 --> 00:07:01,630
that's been existing for a long time and

00:06:58,540 --> 00:07:04,270
that's sort of affected our productivity

00:07:01,630 --> 00:07:07,030
in writing these stable modules so

00:07:04,270 --> 00:07:09,040
that's that's how do we judge kind of

00:07:07,030 --> 00:07:11,260
the release cycle and stability of the

00:07:09,040 --> 00:07:14,080
modules when the modules are stable but

00:07:11,260 --> 00:07:15,820
the surface kind of bugs somewhere else

00:07:14,080 --> 00:07:17,340
that's that's that's tricky maybe we

00:07:15,820 --> 00:07:22,090
need to do some more work there in the

00:07:17,340 --> 00:07:24,160
in release management also changing

00:07:22,090 --> 00:07:26,830
dependencies within within a release

00:07:24,160 --> 00:07:29,290
cycle that's that's been a challenge as

00:07:26,830 --> 00:07:33,610
well halfway through we kind of

00:07:29,290 --> 00:07:35,410
introduced the work flow module so that

00:07:33,610 --> 00:07:40,150
changed things for content moderation

00:07:35,410 --> 00:07:41,350
which proved to be challenging and one

00:07:40,150 --> 00:07:43,960
of the things that we've also picked up

00:07:41,350 --> 00:07:46,690
on we rely on too few core framework

00:07:43,960 --> 00:07:48,460
emitters I know that Jess and the

00:07:46,690 --> 00:07:50,320
release team is already ahead of us here

00:07:48,460 --> 00:07:52,540
they are already working on sort of

00:07:50,320 --> 00:07:54,640
closing some of the gaps there but we've

00:07:52,540 --> 00:07:57,100
definitely seen that we have a very

00:07:54,640 --> 00:07:58,630
productive team and we've sometimes had

00:07:57,100 --> 00:08:01,419
the issue sit in the queue for a long

00:07:58,630 --> 00:08:03,160
time it's no one's fault it's just how

00:08:01,419 --> 00:08:05,500
they how the process is set up but I

00:08:03,160 --> 00:08:07,229
think Jess and the team is already ahead

00:08:05,500 --> 00:08:11,680
of us there I'm working on getting more

00:08:07,229 --> 00:08:13,540
core framework emitters and perhaps the

00:08:11,680 --> 00:08:16,210
most important lesson that we learned is

00:08:13,540 --> 00:08:19,390
that funding core development kind of

00:08:16,210 --> 00:08:22,900
works with Drupal 8 and this new release

00:08:19,390 --> 00:08:24,850
cycle funding core funding work on core

00:08:22,900 --> 00:08:27,310
actually makes sense because we can work

00:08:24,850 --> 00:08:30,070
on something and we can actually have it

00:08:27,310 --> 00:08:32,229
in quarter released within six months

00:08:30,070 --> 00:08:34,630
right that's kind of amazing we never

00:08:32,229 --> 00:08:37,599
had the opportunity before so the

00:08:34,630 --> 00:08:40,169
company I work for we we fund the work

00:08:37,599 --> 00:08:43,150
flow initiative at Lee's members of it

00:08:40,169 --> 00:08:45,760
to a great extent and that's working we

00:08:43,150 --> 00:08:47,650
see we see we seen good good return of

00:08:45,760 --> 00:08:49,839
the investment so that's a very good

00:08:47,650 --> 00:08:50,649
lesson and that perhaps more companies

00:08:49,839 --> 00:08:55,660
and

00:08:50,649 --> 00:08:57,610
should pick up on but still the how the

00:08:55,660 --> 00:09:00,309
process is set up at the moment with

00:08:57,610 --> 00:09:02,319
experimental modules means takes you six

00:09:00,309 --> 00:09:04,269
months to get an experimental module in

00:09:02,319 --> 00:09:06,459
but then you need to stick around for

00:09:04,269 --> 00:09:10,899
another six months to get it stable

00:09:06,459 --> 00:09:13,689
that's fun one or two developers for a

00:09:10,899 --> 00:09:16,389
whole year that's not a small commitment

00:09:13,689 --> 00:09:19,199
for a company it's it makes sense for

00:09:16,389 --> 00:09:21,660
Drupal shops or for Acquia and sort of

00:09:19,199 --> 00:09:24,369
companies to make a living out of triple

00:09:21,660 --> 00:09:27,519
but for a company that is an end-user of

00:09:24,369 --> 00:09:29,529
Drupal that's it's a big commitment and

00:09:27,519 --> 00:09:32,019
we need more of these kind of companies

00:09:29,529 --> 00:09:34,569
to really chip in that at funding core

00:09:32,019 --> 00:09:37,529
work so perhaps we need to rethink how

00:09:34,569 --> 00:09:40,720
we can do that to to make that possible

00:09:37,529 --> 00:09:42,220
funding funding a single single core

00:09:40,720 --> 00:09:45,399
developer for a whole year that's

00:09:42,220 --> 00:09:49,269
anywhere between 150 to 200 thousand

00:09:45,399 --> 00:09:51,160
dollars that's a lot of money so maybe

00:09:49,269 --> 00:09:53,889
we can work on making iterations even

00:09:51,160 --> 00:09:57,069
quicker and cheaper somehow let's

00:09:53,889 --> 00:10:00,309
discuss how we do that I'm not sure all

00:09:57,069 --> 00:10:03,449
right let's talk let's talk more details

00:10:00,309 --> 00:10:06,189
about workspaces first who are they for

00:10:03,449 --> 00:10:09,550
the primary audience here would be our

00:10:06,189 --> 00:10:11,889
content editors those who moderate

00:10:09,550 --> 00:10:14,110
content moderate moderate content

00:10:11,889 --> 00:10:16,089
packages we kind of moving away from

00:10:14,110 --> 00:10:18,970
this model of moderating a single

00:10:16,089 --> 00:10:20,860
article a single piece of media or a

00:10:18,970 --> 00:10:24,639
single piece of this and that to

00:10:20,860 --> 00:10:26,800
moderating whole packages we want to be

00:10:24,639 --> 00:10:29,230
able to publish those content packages

00:10:26,800 --> 00:10:31,749
obviously and collaborate with other

00:10:29,230 --> 00:10:33,910
content editors on moderating and

00:10:31,749 --> 00:10:37,179
changing those packages of content so

00:10:33,910 --> 00:10:42,490
that's kind of the primary audience the

00:10:37,179 --> 00:10:44,709
site builder important here right that's

00:10:42,490 --> 00:10:47,860
essentially the audience to configure

00:10:44,709 --> 00:10:49,360
these workflows and and to configure all

00:10:47,860 --> 00:10:53,009
the moderation states so those are the

00:10:49,360 --> 00:10:55,839
two central audiences that we work so

00:10:53,009 --> 00:10:59,980
what is a workspace how does it work

00:10:55,839 --> 00:11:02,290
there's a mental model here a workspace

00:10:59,980 --> 00:11:04,990
is kind of a collection of content

00:11:02,290 --> 00:11:06,910
right so you have the live workspace

00:11:04,990 --> 00:11:08,740
which when you visit the site that's

00:11:06,910 --> 00:11:10,829
kind of the workspace that you see the

00:11:08,740 --> 00:11:13,959
anonymous visitors coming to your site

00:11:10,829 --> 00:11:16,720
but then your editorial team can then

00:11:13,959 --> 00:11:18,940
create new workspaces in a particular

00:11:16,720 --> 00:11:22,449
workspace they might work on adding a

00:11:18,940 --> 00:11:23,199
new product with additional media so on

00:11:22,449 --> 00:11:26,589
and so forth

00:11:23,199 --> 00:11:29,470
while in another workspace they might

00:11:26,589 --> 00:11:31,750
work on an upcoming event event and kind

00:11:29,470 --> 00:11:34,630
of extending from that workspace there

00:11:31,750 --> 00:11:37,120
might be another workspace that work on

00:11:34,630 --> 00:11:39,250
some kind of last-minute fixes so it's

00:11:37,120 --> 00:11:42,339
containing all of these content changes

00:11:39,250 --> 00:11:45,459
in two separate workspaces and you can

00:11:42,339 --> 00:11:49,060
then kind of pull down updates from the

00:11:45,459 --> 00:11:52,089
live workspace push them up update and

00:11:49,060 --> 00:11:55,420
so on and so forth a particular scenario

00:11:52,089 --> 00:11:58,089
might look something like this so at the

00:11:55,420 --> 00:12:01,149
bottom we have the live workspace kind

00:11:58,089 --> 00:12:04,779
of what the what the anonymous visitors

00:12:01,149 --> 00:12:07,029
to your site sees and on the upper row

00:12:04,779 --> 00:12:08,680
we have a workflow where a content

00:12:07,029 --> 00:12:10,329
editor might be working on some changes

00:12:08,680 --> 00:12:13,959
so he sets up and creates a new

00:12:10,329 --> 00:12:17,829
workspace he is adding and changing and

00:12:13,959 --> 00:12:18,339
deleting content in step two in step

00:12:17,829 --> 00:12:24,519
three

00:12:18,339 --> 00:12:28,209
the editorial user will review review

00:12:24,519 --> 00:12:30,399
the workspace and moderate the whole

00:12:28,209 --> 00:12:32,589
workspace so we have a moderation state

00:12:30,399 --> 00:12:34,149
on the whole workspace not on individual

00:12:32,589 --> 00:12:37,930
pieces of content because kind of the

00:12:34,149 --> 00:12:39,940
mental model of content editors is they

00:12:37,930 --> 00:12:41,139
made changes on their site they want to

00:12:39,940 --> 00:12:43,329
preview the site they don't necessarily

00:12:41,139 --> 00:12:45,430
know or care about this is a particular

00:12:43,329 --> 00:12:47,439
entity this is a media entity this is

00:12:45,430 --> 00:12:50,560
block this is an article they made

00:12:47,439 --> 00:12:54,040
changes to kind of a section of the site

00:12:50,560 --> 00:12:56,290
and I want to preview that and in the

00:12:54,040 --> 00:12:58,779
process they can kind of pull in changes

00:12:56,290 --> 00:13:00,519
from from live as we see there in the

00:12:58,779 --> 00:13:02,649
middle they pull pulling and update the

00:13:00,519 --> 00:13:04,689
workspace with sort of upstream changes

00:13:02,649 --> 00:13:07,509
and then it can be this review process

00:13:04,689 --> 00:13:09,699
so my pass review legal review whatever

00:13:07,509 --> 00:13:13,540
it might be go back to step one and

00:13:09,699 --> 00:13:15,250
repeat but if it passes review we're on

00:13:13,540 --> 00:13:19,540
to kind of past

00:13:15,250 --> 00:13:22,810
that for then the last thing you might

00:13:19,540 --> 00:13:24,760
do before you push the content to your

00:13:22,810 --> 00:13:26,920
live/work space is you pull in the

00:13:24,760 --> 00:13:29,590
latest changes kind of like we do with

00:13:26,920 --> 00:13:31,960
git before you push your code you need

00:13:29,590 --> 00:13:36,340
to pull down the latest changes resolve

00:13:31,960 --> 00:13:37,960
any conflicts before you push so if

00:13:36,340 --> 00:13:40,570
you're if you're a developer you can

00:13:37,960 --> 00:13:43,090
kind of compare this quite a lot to how

00:13:40,570 --> 00:13:46,030
you work with git branches let's say a

00:13:43,090 --> 00:13:50,140
workspace could be seen as kind of a

00:13:46,030 --> 00:13:58,990
branch of your site if you may let's

00:13:50,140 --> 00:14:05,200
look at some wireframes so this is let's

00:13:58,990 --> 00:14:07,750
see here so this is wireframes we have a

00:14:05,200 --> 00:14:10,050
simplistic version of this user

00:14:07,750 --> 00:14:14,080
interface in contrib already working

00:14:10,050 --> 00:14:17,470
this is a more elaborate user interface

00:14:14,080 --> 00:14:19,780
the intention is here to get this user

00:14:17,470 --> 00:14:22,089
interface in the core it's probably

00:14:19,780 --> 00:14:25,510
parts of this user interface will be now

00:14:22,089 --> 00:14:27,670
in 8.5 hopefully but the idea is to have

00:14:25,510 --> 00:14:32,440
a more complete version of this user

00:14:27,670 --> 00:14:35,040
interface in Drupal 8.6 the fundamental

00:14:32,440 --> 00:14:38,170
bits and pieces here is being moved

00:14:35,040 --> 00:14:39,580
partially in from contrib into core we

00:14:38,170 --> 00:14:43,030
have a lot of these pieces working on

00:14:39,580 --> 00:14:46,360
contrib already so let's take a look at

00:14:43,030 --> 00:14:49,360
this so we have your regular Drupal site

00:14:46,360 --> 00:14:51,490
here we're currently in a workspace with

00:14:49,360 --> 00:14:53,500
an arbitrary name let's say product

00:14:51,490 --> 00:14:56,050
microsite updates we might have a part

00:14:53,500 --> 00:14:58,510
of off the site has taken some updates

00:14:56,050 --> 00:15:01,570
in this workspace so you can kind of

00:14:58,510 --> 00:15:04,440
bring bring up this user interface at

00:15:01,570 --> 00:15:07,540
the top where you get an overview of the

00:15:04,440 --> 00:15:09,250
moderation state of this whole workspace

00:15:07,540 --> 00:15:11,440
so we can see that this particular

00:15:09,250 --> 00:15:13,930
workspace is ready for deployment so

00:15:11,440 --> 00:15:15,610
it's gone through review already again I

00:15:13,930 --> 00:15:17,680
want to emphasize the fact that this is

00:15:15,610 --> 00:15:20,650
for the whole workspace so all the

00:15:17,680 --> 00:15:25,390
content in this workspace is considered

00:15:20,650 --> 00:15:27,779
to be ready you kind of have you can

00:15:25,390 --> 00:15:29,459
switch back and forth between

00:15:27,779 --> 00:15:34,639
your different workspaces here so you

00:15:29,459 --> 00:15:38,550
can you can go to any of the any of the

00:15:34,639 --> 00:15:39,839
workspaces and sort of preview them but

00:15:38,550 --> 00:15:41,790
if we're happy with this particular

00:15:39,839 --> 00:15:44,370
workspace then we can move on with the

00:15:41,790 --> 00:15:45,870
deployment a bit before we do that we

00:15:44,370 --> 00:15:48,389
can look at some other features here so

00:15:45,870 --> 00:15:50,930
we can view all the workspaces on the

00:15:48,389 --> 00:15:55,170
site so here you can get an overview

00:15:50,930 --> 00:15:58,189
you'd be able to filter for workspaces

00:15:55,170 --> 00:16:03,749
have changes that are ready to go live

00:15:58,189 --> 00:16:06,029
you could search for names of workspaces

00:16:03,749 --> 00:16:11,850
to filter out kind of change sets from

00:16:06,029 --> 00:16:14,370
from various teams and and and that that

00:16:11,850 --> 00:16:18,050
gives you kind of a good good overview

00:16:14,370 --> 00:16:22,920
of all your workspaces so let's go into

00:16:18,050 --> 00:16:25,439
the deployment workflow here so

00:16:22,920 --> 00:16:27,779
essentially what you do you press deploy

00:16:25,439 --> 00:16:30,180
to production you can give a deployment

00:16:27,779 --> 00:16:33,180
message kind of a change log message

00:16:30,180 --> 00:16:36,059
here if you want we will go ahead and

00:16:33,180 --> 00:16:39,000
push to live so you'll start go through

00:16:36,059 --> 00:16:40,459
the deployment procedure here so what we

00:16:39,000 --> 00:16:44,160
can do is that we're checking for

00:16:40,459 --> 00:16:46,500
conflicts before we go live so before we

00:16:44,160 --> 00:16:49,290
push anything we pull down changes from

00:16:46,500 --> 00:16:52,199
from the live workspace like we do with

00:16:49,290 --> 00:16:54,680
git we check that we can resolve all the

00:16:52,199 --> 00:16:57,420
conflicts and if there are conflicts

00:16:54,680 --> 00:17:00,930
then we get a message something like

00:16:57,420 --> 00:17:03,029
this what you need to do here then is to

00:17:00,930 --> 00:17:06,870
go through like a conflict resolution

00:17:03,029 --> 00:17:08,760
scenario so Rakesh we just entered the

00:17:06,870 --> 00:17:11,490
room here I gave him a shout out so he's

00:17:08,760 --> 00:17:14,100
been working on some of the conflict

00:17:11,490 --> 00:17:16,620
merging just kind of allow automated

00:17:14,100 --> 00:17:19,039
3-way merges so give a shout out to

00:17:16,620 --> 00:17:19,039
Rakesh

00:17:22,559 --> 00:17:28,029
so so so this code is not folded into

00:17:26,289 --> 00:17:29,620
the modules yet but all the libraries

00:17:28,029 --> 00:17:31,750
are there and it will be sort of the

00:17:29,620 --> 00:17:35,320
foundation that we will build on to make

00:17:31,750 --> 00:17:43,179
some of these things possible and I need

00:17:35,320 --> 00:17:45,100
to unlock my computer so resolving

00:17:43,179 --> 00:17:47,080
conflicts this is a very simple user

00:17:45,100 --> 00:17:50,289
interface this user interface would be

00:17:47,080 --> 00:17:52,480
pluggable so here kind of the conflict

00:17:50,289 --> 00:17:54,639
resolution scenario is just pick one or

00:17:52,480 --> 00:17:56,230
the other but if we use the libraries

00:17:54,639 --> 00:17:58,330
that rakesh coded for instance then we

00:17:56,230 --> 00:18:00,940
can use much we can do much more clever

00:17:58,330 --> 00:18:03,009
things with like freeway merges and have

00:18:00,940 --> 00:18:05,830
complicated def interfaces if you want

00:18:03,009 --> 00:18:08,019
to so this is a very simple user

00:18:05,830 --> 00:18:09,850
interface we can just pick a version so

00:18:08,019 --> 00:18:12,190
this is a menu type like this is a menu

00:18:09,850 --> 00:18:15,039
item that is conflicting here we just

00:18:12,190 --> 00:18:17,049
see the metadata because previewing a

00:18:15,039 --> 00:18:19,480
menu link might be difficult it might

00:18:17,049 --> 00:18:21,340
appear in different multiple places so

00:18:19,480 --> 00:18:26,529
we kind of do a comparison here on just

00:18:21,340 --> 00:18:29,860
the metadata next up is a node so this

00:18:26,529 --> 00:18:32,980
is the second conflict that we have so

00:18:29,860 --> 00:18:35,559
here nodes or content those are easier

00:18:32,980 --> 00:18:37,419
to preview so here we can preview the

00:18:35,559 --> 00:18:40,419
local version or the home page edit

00:18:37,419 --> 00:18:43,360
version we can compare the version

00:18:40,419 --> 00:18:46,299
that's in production I kind of make a

00:18:43,360 --> 00:18:48,639
decision here of what which revision is

00:18:46,299 --> 00:18:50,710
it that we really want to keep we'll

00:18:48,639 --> 00:18:53,070
pick the one and we want to keep we move

00:18:50,710 --> 00:18:56,019
on to the last conflict which is a block

00:18:53,070 --> 00:18:58,240
blocks is also difficult to preview

00:18:56,019 --> 00:19:00,820
because they can sort of appear in

00:18:58,240 --> 00:19:04,179
different context in different panels or

00:19:00,820 --> 00:19:05,919
sidebars or whatever so best case here

00:19:04,179 --> 00:19:08,950
is probably to just review the metadata

00:19:05,919 --> 00:19:12,009
pick one and then continue with the

00:19:08,950 --> 00:19:14,379
deployment so now we've sort of resolved

00:19:12,009 --> 00:19:17,649
all the conflicts and the deployment is

00:19:14,379 --> 00:19:19,450
done in the production workspace and I

00:19:17,649 --> 00:19:22,059
want to emphasize here is that all of

00:19:19,450 --> 00:19:23,860
this is happening on the same site so

00:19:22,059 --> 00:19:25,929
we're not moving content between

00:19:23,860 --> 00:19:28,179
different servers or between different

00:19:25,929 --> 00:19:32,289
virtual hosts this is on the same site

00:19:28,179 --> 00:19:35,080
instance with multiple workspaces

00:19:32,289 --> 00:19:36,880
in scenarios where and in more

00:19:35,080 --> 00:19:39,250
enterprising air you might want to have

00:19:36,880 --> 00:19:41,590
different virtual hosts then there will

00:19:39,250 --> 00:19:43,720
be or there is already a module in

00:19:41,590 --> 00:19:47,440
contribute which makes it possible to

00:19:43,720 --> 00:19:49,870
move content between workspaces on

00:19:47,440 --> 00:19:52,240
different server instances or different

00:19:49,870 --> 00:19:53,470
virtual hosts if you have your editorial

00:19:52,240 --> 00:19:56,380
environment behind the corporate

00:19:53,470 --> 00:19:59,159
firewall or something like that all

00:19:56,380 --> 00:20:02,590
right we can we can explore more of the

00:19:59,159 --> 00:20:04,809
user interface here so the simpler

00:20:02,590 --> 00:20:08,950
scenario if we go back to the beginning

00:20:04,809 --> 00:20:10,649
here the simpler scenario is just deploy

00:20:08,950 --> 00:20:13,480
to production

00:20:10,649 --> 00:20:17,380
oops I'm sure I picked the right one let

00:20:13,480 --> 00:20:19,059
me back up so just deploying to

00:20:17,380 --> 00:20:22,870
production without any conflicts

00:20:19,059 --> 00:20:25,960
obviously very straightforward we check

00:20:22,870 --> 00:20:28,090
for conflicts no conflicts and the

00:20:25,960 --> 00:20:31,559
deployment just goes to life immediately

00:20:28,090 --> 00:20:36,210
that's kind of a simpler scenario we can

00:20:31,559 --> 00:20:40,779
dive into more detail here we can have a

00:20:36,210 --> 00:20:41,919
overview of your workspace so this now

00:20:40,779 --> 00:20:44,409
we're looking at the production

00:20:41,919 --> 00:20:48,820
workspace here so there's no workspace

00:20:44,409 --> 00:20:51,309
changes but if we go back Joseph Bismark

00:20:48,820 --> 00:20:54,039
each month it's better at navigating

00:20:51,309 --> 00:20:57,970
these wireframes now than I am but here

00:20:54,039 --> 00:21:00,190
we go so here's the overview page of a

00:20:57,970 --> 00:21:02,019
workspace so this is kind of you can

00:21:00,190 --> 00:21:05,110
view metadata about this particular

00:21:02,019 --> 00:21:07,539
workspace you'll be able to see the

00:21:05,110 --> 00:21:08,799
target workspace or kind of when you

00:21:07,539 --> 00:21:12,909
click the deploy button

00:21:08,799 --> 00:21:14,769
- what workspace does it go you can

00:21:12,909 --> 00:21:16,450
change the moderation State here as well

00:21:14,769 --> 00:21:18,429
and you can then get a summary of all

00:21:16,450 --> 00:21:20,769
the changes that's been happening in

00:21:18,429 --> 00:21:23,169
this workspace you could potentially

00:21:20,769 --> 00:21:28,630
then also compare or each revision and

00:21:23,169 --> 00:21:30,730
so on and so forth so that's that's a

00:21:28,630 --> 00:21:32,289
brief overview of what workspaces is and

00:21:30,730 --> 00:21:33,970
what it looks like again we have

00:21:32,289 --> 00:21:37,000
simplistic user interface for this

00:21:33,970 --> 00:21:42,370
already in contrib but we are evolving

00:21:37,000 --> 00:21:44,710
that as we go into core all right let's

00:21:42,370 --> 00:21:45,759
move on we're slowly running out of time

00:21:44,710 --> 00:21:48,980
here

00:21:45,759 --> 00:21:52,580
you'll find a workspace roadmap on the

00:21:48,980 --> 00:21:54,519
issues on drupal.org a lot of work in

00:21:52,580 --> 00:21:57,200
the next couple of months going on here

00:21:54,519 --> 00:22:09,080
so take a look at those issues if you're

00:21:57,200 --> 00:22:10,999
interested and that's it I think we have

00:22:09,080 --> 00:22:12,559
a little bit of time for questions so

00:22:10,999 --> 00:22:14,840
please step up to the mic if you have

00:22:12,559 --> 00:22:21,109
any questions or comments concerns or

00:22:14,840 --> 00:22:25,600
feedback does it look good doesn't make

00:22:21,109 --> 00:22:25,600
sense yeah it makes sense

00:22:26,289 --> 00:22:32,919
I'll ask Alaska a question would would

00:22:29,480 --> 00:22:36,409
most people see themselves using

00:22:32,919 --> 00:22:40,159
workspaces on a single site or kind of

00:22:36,409 --> 00:22:41,799
across different hosts let's say if you

00:22:40,159 --> 00:22:47,330
have a stage host in a production host

00:22:41,799 --> 00:22:56,350
single-site hands up across different

00:22:47,330 --> 00:23:00,220
hosts it's kinda half-half so might be

00:22:56,350 --> 00:23:03,529
yeah the server load perhaps but also

00:23:00,220 --> 00:23:05,570
security and you might not want to have

00:23:03,529 --> 00:23:08,350
your editorial team logging into

00:23:05,570 --> 00:23:11,570
production you might not want to manage

00:23:08,350 --> 00:23:13,460
50 to 100 editorial user accounts on

00:23:11,570 --> 00:23:14,899
your production instance so maybe you

00:23:13,460 --> 00:23:17,480
want to have a state like an editorial

00:23:14,899 --> 00:23:19,549
environment separate and then all you

00:23:17,480 --> 00:23:21,710
need to do is manage a few user accounts

00:23:19,549 --> 00:23:24,259
in production and you deploy through a

00:23:21,710 --> 00:23:29,059
corporate firewall let's say and so

00:23:24,259 --> 00:23:30,980
that's one use case then you know you

00:23:29,059 --> 00:23:33,440
can probably eat to it faster iterate

00:23:30,980 --> 00:23:35,299
quicker perhaps if you kind of decouple

00:23:33,440 --> 00:23:36,590
them you run a little bit less risk on

00:23:35,299 --> 00:23:38,389
maybe if you want to make changes to

00:23:36,590 --> 00:23:41,929
particular the editorial environment

00:23:38,389 --> 00:23:46,869
another use case is also this obviously

00:23:41,929 --> 00:23:49,580
works well when your changes just affect

00:23:46,869 --> 00:23:50,809
content but if you have a content

00:23:49,580 --> 00:23:54,139
package that needs to go along with

00:23:50,809 --> 00:23:55,999
let's say configuration updates then

00:23:54,139 --> 00:23:58,309
this scenario becomes a little bit

00:23:55,999 --> 00:24:06,259
trickier

00:23:58,309 --> 00:24:09,710
question step up to the mic please can

00:24:06,259 --> 00:24:11,179
you schedule deployments it's not

00:24:09,710 --> 00:24:13,450
something that we have planned for core

00:24:11,179 --> 00:24:16,580
that is a very frequent question however

00:24:13,450 --> 00:24:17,570
there are I think Ted who is just

00:24:16,580 --> 00:24:19,070
backing up in Aikido

00:24:17,570 --> 00:24:20,509
he's been he's been working on

00:24:19,070 --> 00:24:22,039
scheduling features so there's

00:24:20,509 --> 00:24:23,869
definitely solutions for that and the

00:24:22,039 --> 00:24:28,359
intention is to make them work well

00:24:23,869 --> 00:24:28,359
together so go to Ted with any questions

00:24:30,969 --> 00:24:36,830
yeah scheduling is however tricky when

00:24:34,460 --> 00:24:39,499
you run with sort of multiple workspaces

00:24:36,830 --> 00:24:41,359
multiple change sets because the very

00:24:39,499 --> 00:24:44,269
last thing you need to do before you

00:24:41,359 --> 00:24:46,789
push anything live is the pools pulldown

00:24:44,269 --> 00:24:49,399
updates and resolve conflicts so what if

00:24:46,789 --> 00:24:51,469
there is conflicts you know when you're

00:24:49,399 --> 00:24:53,539
in bed sleeping and kind of you want

00:24:51,469 --> 00:24:54,589
your content to go live then we have to

00:24:53,539 --> 00:24:56,450
stop the deployment there because

00:24:54,589 --> 00:24:58,129
there's conflicts so scheduling is a bit

00:24:56,450 --> 00:25:00,109
tricky but it can you know with

00:24:58,129 --> 00:25:08,989
automated three-way mergers and stuff

00:25:00,109 --> 00:25:13,700
like that we can kind of we have content

00:25:08,989 --> 00:25:16,070
that has to go live on January 1st the

00:25:13,700 --> 00:25:18,440
the best option is probably to having

00:25:16,070 --> 00:25:19,339
you know one of your editorial staff to

00:25:18,440 --> 00:25:21,109
sit there because there might be

00:25:19,339 --> 00:25:23,059
conflicts at that very last moment you

00:25:21,109 --> 00:25:25,339
know if you don't if you don't manage

00:25:23,059 --> 00:25:26,389
the schedule such that you can assure

00:25:25,339 --> 00:25:29,989
that there's not going to be any

00:25:26,389 --> 00:25:43,729
conflicts the government employees so no

00:25:29,989 --> 00:25:47,869
there won't be there I and I do it looks

00:25:43,729 --> 00:25:50,509
really good I know some of the others in

00:25:47,869 --> 00:25:53,149
my team would be keen to know if it also

00:25:50,509 --> 00:25:54,769
includes files in the package but

00:25:53,149 --> 00:25:56,809
because that's a really big thing for us

00:25:54,769 --> 00:25:59,659
the things that we published can move

00:25:56,809 --> 00:26:01,999
move the financial markets so if someone

00:25:59,659 --> 00:26:03,679
would link to a unpublished version and

00:26:01,999 --> 00:26:04,909
a published version in the same package

00:26:03,679 --> 00:26:07,249
would that be the sort of thing that

00:26:04,909 --> 00:26:11,010
would come up we definitely support

00:26:07,249 --> 00:26:14,700
files that's that's a very

00:26:11,010 --> 00:26:17,670
cool use case for us as well if we don't

00:26:14,700 --> 00:26:21,000
publish quarterly report or you know

00:26:17,670 --> 00:26:22,500
then at time at this proper time or if

00:26:21,000 --> 00:26:24,570
the files aren't included with the

00:26:22,500 --> 00:26:26,460
package we'll be in a lot of trouble as

00:26:24,570 --> 00:26:31,170
well so files and media is definitely

00:26:26,460 --> 00:26:32,940
supported I agree it looks really great

00:26:31,170 --> 00:26:35,550
and I would love to see it happen as

00:26:32,940 --> 00:26:39,000
soon as possible do you have a sense of

00:26:35,550 --> 00:26:42,720
how much work it is as in is much of it

00:26:39,000 --> 00:26:44,970
already done and a lot of work so the

00:26:42,720 --> 00:26:46,650
basic question is do you have a very

00:26:44,970 --> 00:26:50,220
rough timeframe do you think it's doable

00:26:46,650 --> 00:26:53,400
to get it as alpha an 85 beta and 85 so

00:26:50,220 --> 00:26:57,750
we we haven't talked alpha versus beta

00:26:53,400 --> 00:26:59,400
but I have a feeling alpha in 85 we only

00:26:57,750 --> 00:27:01,230
have like the release cycle says if we

00:26:59,400 --> 00:27:04,140
can't stabilize it within the year we're

00:27:01,230 --> 00:27:05,820
out you know so we can I have the we

00:27:04,140 --> 00:27:07,380
have the you know I think it's we're

00:27:05,820 --> 00:27:10,500
gonna have to have conversations around

00:27:07,380 --> 00:27:12,390
like the year timeframe but definitely

00:27:10,500 --> 00:27:17,850
we want to have something in core for

00:27:12,390 --> 00:27:19,860
8.5 so as Drupal as the CMS and looking

00:27:17,850 --> 00:27:22,770
at how it compares to other systems like

00:27:19,860 --> 00:27:25,080
what other sort of dietary or

00:27:22,770 --> 00:27:28,590
open-source products have something like

00:27:25,080 --> 00:27:32,520
this and how does this compare that it's

00:27:28,590 --> 00:27:34,710
it's very different and and most of the

00:27:32,520 --> 00:27:36,980
proprietary CMS Este sort of leave

00:27:34,710 --> 00:27:40,620
everything up to be very configurable

00:27:36,980 --> 00:27:42,930
it's very different to set it up so

00:27:40,620 --> 00:27:45,270
we've done a lot of comparison but there

00:27:42,930 --> 00:27:47,610
isn't a lot of things like this really

00:27:45,270 --> 00:27:49,770
it ends up being different virtual hosts

00:27:47,610 --> 00:27:51,780
I just got a point that we only have one

00:27:49,770 --> 00:27:55,140
more minute so quick question okay I

00:27:51,780 --> 00:27:57,690
have two quick questions one is when you

00:27:55,140 --> 00:28:04,010
have this conflict resolution can you

00:27:57,690 --> 00:28:09,830
make an additional like during that

00:28:04,010 --> 00:28:09,830
because if you merge yep

00:28:12,320 --> 00:28:19,610
config' have to allow and we have some

00:28:14,990 --> 00:28:27,530
sort of measure to protect especially

00:28:19,610 --> 00:28:31,700
when you when you have that several yeah

00:28:27,530 --> 00:28:33,470
so first question yes we can create the

00:28:31,700 --> 00:28:35,780
additional revision it'll be up to the

00:28:33,470 --> 00:28:38,600
plugin to sort of implement the user

00:28:35,780 --> 00:28:43,190
interface and update the regions I see

00:28:38,600 --> 00:28:44,960
it as you need to for the second no so

00:28:43,190 --> 00:28:47,650
none of the conflict stuff is is

00:28:44,960 --> 00:28:47,650
implemented yet

00:28:48,280 --> 00:28:54,560
second question and config super hard

00:28:52,340 --> 00:28:56,960
this will not solve that for you you

00:28:54,560 --> 00:28:59,210
need to have a staging environment kind

00:28:56,960 --> 00:29:16,100
of a feature branch workflow spin up on

00:28:59,210 --> 00:29:17,440
demand environments to nothing at the

00:29:16,100 --> 00:29:21,040
moment

00:29:17,440 --> 00:29:21,040
alright thanks everyone

00:29:22,400 --> 00:29:27,729
[Applause]

00:29:31,290 --> 00:29:40,170
yeah thanks so yeah

00:29:35,980 --> 00:29:40,170

YouTube URL: https://www.youtube.com/watch?v=7g9C3o5qxk0


