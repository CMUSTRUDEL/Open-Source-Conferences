Title: DrupalCon Baltimore 2017: Entities 201 - Creating Custom Entities
Publication date: 2017-04-26
Playlist: DrupalCon Baltimore 2017
Description: 
	Drupal 8 contains a highly flexible and sophisticated structured data engine built into core - the Entity API. With the core tools available inside the Admin UI, it is possible to create and manage very robust and advanced sites. However, the Entity API can also be easily extended to create custom entities, and that is what we are going to do live in this session.

As we discussed last year in “Entities 101”, an entity is a “loadable thingy thats optionally fieldable”. While the concept is simple, the implementation can be intimidating. We are going to use freely available tools to make this process more accessible (and fast). By the end of the webinar, you will be able to create a basic custom entity and custom module in under 5 minutes.

Topics we will cover:

Code generation using Drupal Console
Creating a custom module to “house” the custom entity
Understanding basic object inheritance
Understanding folder naming and namespace
Permissions and routing
Fields and database storage
This process is also a great way to ease more into understanding OOP and Drupal development in general. The skills you learn here will enable you to dive into creating your own custom modules and code.

The scaffolding along with the great comments makes this a very friendly process, but this is a technical discussion about code. Attendees will be able to immediately apply what we are learning as we progress if they have a local development environment and Drupal console installed.

SLIDES: http://slides.com/ronnorthcutt/deck



MODULE: Download here
Captions: 
	00:00:22,200 --> 00:00:24,770
okay

00:00:28,870 --> 00:00:33,640
funny my little top okay

00:00:36,460 --> 00:00:44,640
I do it should be fine I'll just

00:00:42,130 --> 00:00:44,640
remember that

00:02:19,420 --> 00:02:24,520
I'll make it easy for you yeah no your

00:04:25,150 --> 00:04:32,330
okay I think we're about ready to get

00:04:27,710 --> 00:04:34,810
started here so this is entities 201

00:04:32,330 --> 00:04:37,010
creating custom entities my name is Ron

00:04:34,810 --> 00:04:40,370
kind of curious did anyone go to

00:04:37,010 --> 00:04:42,440
entities 101 last year his hands few

00:04:40,370 --> 00:04:46,460
people anybody watch it or look at the

00:04:42,440 --> 00:04:49,850
slides it didn't go it's okay it's not a

00:04:46,460 --> 00:04:52,760
prerequisite or anything anybody in here

00:04:49,850 --> 00:04:56,060
have experience writing codes custom

00:04:52,760 --> 00:05:00,610
code in d8 a little bit some good okay

00:04:56,060 --> 00:05:01,850
great and what about d7 Oh even better

00:05:00,610 --> 00:05:07,100
fantastic

00:05:01,850 --> 00:05:10,070
okay so I've been a dribble developer

00:05:07,100 --> 00:05:13,160
for quite some time pretty much full

00:05:10,070 --> 00:05:15,590
stack all the way across currently I'm a

00:05:13,160 --> 00:05:17,750
senior Solutions Architect Acquia which

00:05:15,590 --> 00:05:20,750
means I'm a professional problem solver

00:05:17,750 --> 00:05:22,490
so I get called in to talk about how

00:05:20,750 --> 00:05:24,440
Drupal can solve problems and how we can

00:05:22,490 --> 00:05:28,750
do things that people haven't thought of

00:05:24,440 --> 00:05:30,760
and Drupal is really good at that you

00:05:28,750 --> 00:05:35,030
can find me online pretty much

00:05:30,760 --> 00:05:37,820
everywhere RL North cuts is usually me

00:05:35,030 --> 00:05:41,630
and if it's not then someone's

00:05:37,820 --> 00:05:43,310
pretending to be me so today's agenda is

00:05:41,630 --> 00:05:44,720
going to be pretty straightforward we

00:05:43,310 --> 00:05:47,030
kind of have it broken into two sections

00:05:44,720 --> 00:05:50,930
the first section is we're going to do a

00:05:47,030 --> 00:05:52,190
basic entity using Drupal console show

00:05:50,930 --> 00:05:57,050
of hands people that have used Drupal

00:05:52,190 --> 00:06:00,110
console awesome fantastic really really

00:05:57,050 --> 00:06:03,200
just fast just spend a few moments on

00:06:00,110 --> 00:06:04,100
that just for folks following along and

00:06:03,200 --> 00:06:06,350
then we're going to spend the majority

00:06:04,100 --> 00:06:09,919
of the time building a module with the

00:06:06,350 --> 00:06:12,740
custom entity and the intention here is

00:06:09,919 --> 00:06:14,810
to kind of go through the process it's

00:06:12,740 --> 00:06:16,700
going to be a very simple example well I

00:06:14,810 --> 00:06:19,610
want to be very thorough in how we do it

00:06:16,700 --> 00:06:22,490
for some folks it's probably going to be

00:06:19,610 --> 00:06:24,260
just affirming that you already know

00:06:22,490 --> 00:06:25,370
what you know hopefully for other folks

00:06:24,260 --> 00:06:29,270
that will show you that you don't need

00:06:25,370 --> 00:06:31,039
to be intimidated because it's more

00:06:29,270 --> 00:06:35,680
complex overall but the tools make it

00:06:31,039 --> 00:06:35,680
much easier and we'll discuss that

00:06:36,030 --> 00:06:40,240
so first off tools and setup everything

00:06:39,460 --> 00:06:42,759
that I'm using

00:06:40,240 --> 00:06:45,729
I've got local dev environment I'm using

00:06:42,759 --> 00:06:48,669
dev desktop just because I use that at

00:06:45,729 --> 00:06:51,550
work for the base sites that we're doing

00:06:48,669 --> 00:06:55,110
for testing I'm using the lightening

00:06:51,550 --> 00:06:57,130
distribution it's a nice nice distro and

00:06:55,110 --> 00:06:59,800
there's some an inheritance stuff you

00:06:57,130 --> 00:07:01,960
can do if you want to extend it so check

00:06:59,800 --> 00:07:04,509
that out it's pretty cool I'm using

00:07:01,960 --> 00:07:09,190
Drupal console for the scaffolding part

00:07:04,509 --> 00:07:11,050
of that is for just to be faster part of

00:07:09,190 --> 00:07:14,199
that's also because it's easy and I'm a

00:07:11,050 --> 00:07:16,389
developer so I'm lazy and then finally

00:07:14,199 --> 00:07:17,500
some type of IDE I'm going to be using

00:07:16,389 --> 00:07:19,539
phpstorm

00:07:17,500 --> 00:07:21,910
even though it's a memory hog but you

00:07:19,539 --> 00:07:24,370
could use atom or text pad or vim or

00:07:21,910 --> 00:07:27,909
whatever you like I won't really change

00:07:24,370 --> 00:07:30,039
much so for the first part we want to

00:07:27,909 --> 00:07:34,139
create a basic entity and for those that

00:07:30,039 --> 00:07:36,880
remember from last year an entity is a

00:07:34,139 --> 00:07:38,710
loadable thingy that's optional II feel

00:07:36,880 --> 00:07:42,520
double so we want to be able to create a

00:07:38,710 --> 00:07:45,639
thingy to do so we've got a handful of

00:07:42,520 --> 00:07:47,500
steps generate the module to house it to

00:07:45,639 --> 00:07:50,770
generate the placeholder code for the

00:07:47,500 --> 00:07:52,719
entity itself take a quick look and then

00:07:50,770 --> 00:07:53,800
turn it on and see how it works so

00:07:52,719 --> 00:07:56,759
there's going to be down and dirty

00:07:53,800 --> 00:08:00,310
pretty quick and these are the commands

00:07:56,759 --> 00:08:03,190
that we're going to be using here so

00:08:00,310 --> 00:08:06,820
let's take a look at this for folks that

00:08:03,190 --> 00:08:10,509
don't know Drupal console is a really

00:08:06,820 --> 00:08:13,300
great command-line tool kind of in the

00:08:10,509 --> 00:08:14,949
vein of drush it has some similarities

00:08:13,300 --> 00:08:16,960
but it does things in a different way

00:08:14,949 --> 00:08:18,610
it's built on top of symphony console it

00:08:16,960 --> 00:08:24,250
also does some very cool things

00:08:18,610 --> 00:08:26,830
otherwise so if you install it it's nice

00:08:24,250 --> 00:08:29,169
because it gives you some scaffolding

00:08:26,830 --> 00:08:30,550
that allows you to generate different

00:08:29,169 --> 00:08:34,180
types of code in this case we'll be

00:08:30,550 --> 00:08:37,839
doing a module and an entity but you can

00:08:34,180 --> 00:08:40,810
also do plugins permissions all kinds of

00:08:37,839 --> 00:08:42,490
fun stuff interesting sidenote I just

00:08:40,810 --> 00:08:44,890
learned not long ago that this is

00:08:42,490 --> 00:08:45,769
actually powered by twig under the hood

00:08:44,890 --> 00:08:49,129
in

00:08:45,769 --> 00:08:51,019
Sol which is actually kind of cool so

00:08:49,129 --> 00:08:57,470
let's do let's go ahead and generate the

00:08:51,019 --> 00:08:59,629
module and it's just going to take us

00:08:57,470 --> 00:09:00,769
through a series of questions and as we

00:08:59,629 --> 00:09:04,119
answer them it's going to do all the

00:09:00,769 --> 00:09:10,189
hard work for us so we've got a thingy

00:09:04,119 --> 00:09:12,579
we'll use the same machine name custom

00:09:10,189 --> 00:09:12,579
thingies

00:09:12,920 --> 00:09:16,850
we'll go ahead and get a module file

00:09:14,629 --> 00:09:19,670
even though we don't need it we won't do

00:09:16,850 --> 00:09:22,819
this as a feature let me to JSON no

00:09:19,670 --> 00:09:25,489
dependencies we'll keep it simple so no

00:09:22,819 --> 00:09:28,249
templates and no unit tests and we'll go

00:09:25,489 --> 00:09:31,309
ahead and confirm generation boom now we

00:09:28,249 --> 00:09:36,129
have a module so the next step is to go

00:09:31,309 --> 00:09:40,579
through and create our custom entity and

00:09:36,129 --> 00:09:42,980
for folks that's all the I the session

00:09:40,579 --> 00:09:46,249
last year everything is an entity in

00:09:42,980 --> 00:09:48,319
Drupal now the the thing that's

00:09:46,249 --> 00:09:51,949
different is that there are two types

00:09:48,319 --> 00:09:53,299
content and config content entities are

00:09:51,949 --> 00:09:57,199
things that we think about like content

00:09:53,299 --> 00:09:59,749
types and users taxonomy config into

00:09:57,199 --> 00:10:01,749
these are things like views image Styles

00:09:59,749 --> 00:10:07,309
etc

00:10:01,749 --> 00:10:09,199
thingy good I'm going to just stick with

00:10:07,309 --> 00:10:10,279
the defaults for most of this we'll go

00:10:09,199 --> 00:10:14,829
ahead and add bundles because that's

00:10:10,279 --> 00:10:18,709
always fun sure make it revision of all

00:10:14,829 --> 00:10:23,240
fantastic okay there we go now we have a

00:10:18,709 --> 00:10:25,629
thingy module so let's enable it and see

00:10:23,240 --> 00:10:25,629
what happens

00:10:27,660 --> 00:10:32,470
so technically this was kind of that the

00:10:31,060 --> 00:10:33,820
teaser in the description that we're

00:10:32,470 --> 00:10:34,839
going to generate a custom entity in

00:10:33,820 --> 00:10:38,759
under five minutes

00:10:34,839 --> 00:10:41,740
and that's exactly what we've just done

00:10:38,759 --> 00:10:44,829
now it's it's it's a pretty dumb entity

00:10:41,740 --> 00:10:46,660
at this point you can see that we can

00:10:44,829 --> 00:10:49,230
create different types just like you'd

00:10:46,660 --> 00:10:58,449
expect from content types

00:10:49,230 --> 00:11:02,920
so let me type one and then we can also

00:10:58,449 --> 00:11:06,269
modify this go through and add fields to

00:11:02,920 --> 00:11:06,269
all the normal stuff that you'd expect

00:11:06,779 --> 00:11:12,060
and we can go ahead and add thingies now

00:11:13,560 --> 00:11:21,009
great so it works

00:11:17,470 --> 00:11:22,690
lovely now this right right out of the

00:11:21,009 --> 00:11:25,449
box without doing anything else isn't

00:11:22,690 --> 00:11:27,970
overly useful right I mean at this point

00:11:25,449 --> 00:11:31,990
it's it's really just kind of a weaker

00:11:27,970 --> 00:11:35,139
node but the the important thing is that

00:11:31,990 --> 00:11:36,670
right now without ever aside from the

00:11:35,139 --> 00:11:38,560
command line I haven't touched any code

00:11:36,670 --> 00:11:39,639
I haven't written any code I've got a

00:11:38,560 --> 00:11:43,000
functional module an I've got a

00:11:39,639 --> 00:11:45,160
functional custom entity that I can now

00:11:43,000 --> 00:11:47,079
go and iterate on and create and work

00:11:45,160 --> 00:11:49,569
with to do the stuff I want to do and

00:11:47,079 --> 00:11:52,329
out of the box it works you turn it on

00:11:49,569 --> 00:11:53,410
and doesn't blow up your site I don't

00:11:52,329 --> 00:11:55,769
know about you but for me that's like a

00:11:53,410 --> 00:11:55,769
big deal

00:12:00,590 --> 00:12:05,960
so pretty quick pretty handy definitely

00:12:04,610 --> 00:12:07,880
something to play with and again

00:12:05,960 --> 00:12:09,860
it'd take you five minutes so if you

00:12:07,880 --> 00:12:11,510
haven't already done so or if you're not

00:12:09,860 --> 00:12:14,920
doing so now which some people might be

00:12:11,510 --> 00:12:18,470
then give it a shot

00:12:14,920 --> 00:12:21,020
so that was the first part very quick

00:12:18,470 --> 00:12:24,050
very simple and now is where we get down

00:12:21,020 --> 00:12:25,820
to the fun part so what we want to do is

00:12:24,050 --> 00:12:29,630
we want to create a more complicated

00:12:25,820 --> 00:12:31,790
custom entity and by the time we get

00:12:29,630 --> 00:12:33,380
done we're going to understand why in

00:12:31,790 --> 00:12:35,150
order to accomplish what we wanted to do

00:12:33,380 --> 00:12:37,550
we had to have a custom entity to do

00:12:35,150 --> 00:12:40,910
that in this case I'm going to be

00:12:37,550 --> 00:12:44,930
basically MIDI mimicking CSS injector at

00:12:40,910 --> 00:12:47,900
a low level in d7 also asset injectors

00:12:44,930 --> 00:12:50,480
what it's called in d8 pretty

00:12:47,900 --> 00:12:52,400
straightforward nice little tool good

00:12:50,480 --> 00:12:54,230
for doing quick demos or if you've got

00:12:52,400 --> 00:12:55,490
people that you don't want them to be

00:12:54,230 --> 00:12:58,190
able to touch code but they want to do

00:12:55,490 --> 00:12:59,420
things you want to iterate quickly but

00:12:58,190 --> 00:13:01,010
one of the nice things about this

00:12:59,420 --> 00:13:03,050
example is that lets us touch a whole

00:13:01,010 --> 00:13:04,910
lot of different parts of Drupal all

00:13:03,050 --> 00:13:07,070
very simply so we're going to be

00:13:04,910 --> 00:13:11,300
creating content types we have to define

00:13:07,070 --> 00:13:13,730
a schema if I've got this here we've got

00:13:11,300 --> 00:13:14,960
to actually add some additional methods

00:13:13,730 --> 00:13:17,030
that aren't provided out of the box

00:13:14,960 --> 00:13:19,190
we're going to be messing with the file

00:13:17,030 --> 00:13:20,960
system we're going to be creating files

00:13:19,190 --> 00:13:23,120
and deleting them and trying to do some

00:13:20,960 --> 00:13:24,890
garbage upkeep we've got to do some

00:13:23,120 --> 00:13:25,940
stuff at the install of the module to

00:13:24,890 --> 00:13:28,310
make sure that it's prepped and ready

00:13:25,940 --> 00:13:30,589
and then we've also got to go through

00:13:28,310 --> 00:13:35,030
and the really fun part is we have to

00:13:30,589 --> 00:13:37,790
figure out how to take these CSS and

00:13:35,030 --> 00:13:39,020
possibly JavaScript files that we don't

00:13:37,790 --> 00:13:40,550
know where they are or what they're

00:13:39,020 --> 00:13:42,890
going to be called but we have to figure

00:13:40,550 --> 00:13:46,390
out how to put them into a library and

00:13:42,890 --> 00:13:49,339
attach them to the page dynamically and

00:13:46,390 --> 00:13:53,230
luckily Drupal gives us the ability to

00:13:49,339 --> 00:13:56,920
do all of this so as I go through this

00:13:53,230 --> 00:14:00,020
what I could do is I could actually just

00:13:56,920 --> 00:14:01,670
talk through it enable a module and we

00:14:00,020 --> 00:14:04,880
could go and that'd probably be the

00:14:01,670 --> 00:14:07,970
smart thing to do but I thought it might

00:14:04,880 --> 00:14:10,630
be a little bit more fun if we just kind

00:14:07,970 --> 00:14:12,920
of go through the code snippets and then

00:14:10,630 --> 00:14:15,019
kind of package it and put it together

00:14:12,920 --> 00:14:18,439
and hopefully I don't miss a semicolon

00:14:15,019 --> 00:14:19,959
and it works at the end so that'll be me

00:14:18,439 --> 00:14:22,670
going down in flames if it doesn't work

00:14:19,959 --> 00:14:24,079
but let's go back over and let's go

00:14:22,670 --> 00:14:26,269
through the process we just did this

00:14:24,079 --> 00:14:28,189
time we'll make a few changes we'll pay

00:14:26,269 --> 00:14:31,129
a little bit closer attention to the

00:14:28,189 --> 00:14:33,079
process as we go along so the first

00:14:31,129 --> 00:14:34,730
thing we want to do is we want to define

00:14:33,079 --> 00:14:37,040
our module in this case we'll just call

00:14:34,730 --> 00:14:38,779
it a set that'd be a horrible name for a

00:14:37,040 --> 00:14:41,689
module by the way so some stuff in

00:14:38,779 --> 00:14:43,850
Drupal called asset you don't want to do

00:14:41,689 --> 00:14:45,879
that but we're going to do that just for

00:14:43,850 --> 00:14:45,879
fun

00:14:46,989 --> 00:14:56,689
dc2 seventeen twenty seventeen example

00:14:51,859 --> 00:14:58,369
nice okay so we definitely want to

00:14:56,689 --> 00:15:00,109
create a module file and that's we're

00:14:58,369 --> 00:15:02,899
going to need to put some of our code as

00:15:00,109 --> 00:15:05,179
we'll see later we don't currently want

00:15:02,899 --> 00:15:07,419
to define this as a feature because I'm

00:15:05,179 --> 00:15:11,089
not currently interested in trying to

00:15:07,419 --> 00:15:13,189
take some configuration from the UI and

00:15:11,089 --> 00:15:15,799
shove it in there but that is something

00:15:13,189 --> 00:15:19,309
that you could potentially do that would

00:15:15,799 --> 00:15:21,529
be actually really helpful if you were

00:15:19,309 --> 00:15:24,279
working on a custom module for your own

00:15:21,529 --> 00:15:27,860
project or for a customer's project

00:15:24,279 --> 00:15:31,040
don't need a composer JSON don't have

00:15:27,860 --> 00:15:32,209
any dependencies unit tests it actually

00:15:31,040 --> 00:15:34,669
would be actually really good if I did

00:15:32,209 --> 00:15:38,239
two unit tests but I didn't trying to

00:15:34,669 --> 00:15:39,949
keep this simple a fee mobile template

00:15:38,239 --> 00:15:41,329
no again I want to try and keep this as

00:15:39,949 --> 00:15:44,290
simple as possible it's going to spit

00:15:41,329 --> 00:15:48,499
out a ton of code so let's limit it and

00:15:44,290 --> 00:15:51,980
there we go so now we actually have our

00:15:48,499 --> 00:15:55,220
module great

00:15:51,980 --> 00:16:01,000
so now let's generate the actual entity

00:15:55,220 --> 00:16:06,020
and then we'll be will be all set

00:16:01,000 --> 00:16:10,040
so we've got call it a set this is good

00:16:06,020 --> 00:16:11,630
I would probably put it someplace else

00:16:10,040 --> 00:16:13,610
in practice but we'll leave it under

00:16:11,630 --> 00:16:15,200
structure for now

00:16:13,610 --> 00:16:19,100
no bundles although that is an

00:16:15,200 --> 00:16:23,620
interesting idea translatable is fine or

00:16:19,100 --> 00:16:26,990
vision herbal is cool okay there we go

00:16:23,620 --> 00:16:32,480
so that's it now we're done right no

00:16:26,990 --> 00:16:35,920
we're not okay so now we've created our

00:16:32,480 --> 00:16:38,810
entity and it's got the usual stuff

00:16:35,920 --> 00:16:41,570
however we've got to add some additional

00:16:38,810 --> 00:16:42,620
fields the database schema in order for

00:16:41,570 --> 00:16:44,600
us to be able to take some of the

00:16:42,620 --> 00:16:47,630
information we're saving and push it in

00:16:44,600 --> 00:16:50,330
there and this process is these are

00:16:47,630 --> 00:16:52,780
probably the longest individual snippets

00:16:50,330 --> 00:16:55,730
that we're going to see except for one

00:16:52,780 --> 00:16:57,020
and what you'll notice that's going on

00:16:55,730 --> 00:16:59,660
here there's a couple of different

00:16:57,020 --> 00:17:02,090
things one is we're not just defining

00:16:59,660 --> 00:17:03,980
the schema we also are taking this

00:17:02,090 --> 00:17:05,750
opportunity to go through and talk about

00:17:03,980 --> 00:17:08,000
the way it's going to be presented to

00:17:05,750 --> 00:17:09,410
the user with the form we could do this

00:17:08,000 --> 00:17:11,089
in other ways but this is actually

00:17:09,410 --> 00:17:13,520
really handy because I can determine if

00:17:11,089 --> 00:17:16,760
something is required if this particular

00:17:13,520 --> 00:17:18,890
field is revisional versus another which

00:17:16,760 --> 00:17:20,570
is very powerful some of the other

00:17:18,890 --> 00:17:22,640
options that are there and as you can

00:17:20,570 --> 00:17:25,970
see we actually are able to set whether

00:17:22,640 --> 00:17:28,130
or not the the display of the form are

00:17:25,970 --> 00:17:30,370
going to be configurable so in theory

00:17:28,130 --> 00:17:32,570
you can take your custom entity and you

00:17:30,370 --> 00:17:34,850
can make it so that people can actually

00:17:32,570 --> 00:17:37,010
extend it through the UI later we won't

00:17:34,850 --> 00:17:38,990
be doing that in this example but it's a

00:17:37,010 --> 00:17:42,680
it's pretty nice that you have that

00:17:38,990 --> 00:17:46,010
ability so let's go ahead and grab this

00:17:42,680 --> 00:17:48,680
and come over and we'll see that this is

00:17:46,010 --> 00:17:51,950
actually created unfortunately I think

00:17:48,680 --> 00:17:54,830
this might be a little small it's not

00:17:51,950 --> 00:17:56,810
horrible so what we're seeing inside the

00:17:54,830 --> 00:17:58,640
module is kind of basic stuff that you'd

00:17:56,810 --> 00:18:00,470
expect and again I haven't created any

00:17:58,640 --> 00:18:03,980
of these files this was all done for me

00:18:00,470 --> 00:18:05,450
the actual entity file itself and it's

00:18:03,980 --> 00:18:07,490
almost entirely

00:18:05,450 --> 00:18:13,090
what we're going to be using is going to

00:18:07,490 --> 00:18:17,539
be under source entity asset dot PHP and

00:18:13,090 --> 00:18:20,440
I know it's kind of silly it's it's 256

00:18:17,539 --> 00:18:23,029
lines of code that I haven't written but

00:18:20,440 --> 00:18:24,919
if you make sure that you're paid basis

00:18:23,029 --> 00:18:28,370
on lines of code you should have custom

00:18:24,919 --> 00:18:32,330
entities all over the place so it's a

00:18:28,370 --> 00:18:36,649
pro tip ok so what I typically like to

00:18:32,330 --> 00:18:38,600
do is go through and refine this and

00:18:36,649 --> 00:18:40,130
figure out what do I need or not need do

00:18:38,600 --> 00:18:42,919
I really need to know the last time that

00:18:40,130 --> 00:18:45,380
it was updated does it matter who the

00:18:42,919 --> 00:18:47,000
author is maybe it does in this case

00:18:45,380 --> 00:18:49,399
we're just going to leave the

00:18:47,000 --> 00:18:53,330
boilerplate there and just keep it nice

00:18:49,399 --> 00:18:59,419
and simple so let's go ahead and add our

00:18:53,330 --> 00:19:01,490
new field here the second one so that

00:18:59,419 --> 00:19:02,870
the first field I'm sorry is the actual

00:19:01,490 --> 00:19:06,649
content so basically we're just creating

00:19:02,870 --> 00:19:10,460
a large text area where we're going to

00:19:06,649 --> 00:19:13,880
put whatever our CSS is the second thing

00:19:10,460 --> 00:19:16,070
we want is the actual type of content

00:19:13,880 --> 00:19:18,019
that this is in this case we're just

00:19:16,070 --> 00:19:21,019
talking about whether it's CSS or

00:19:18,019 --> 00:19:22,399
JavaScript but it could be extended

00:19:21,019 --> 00:19:24,320
later to the other things you could have

00:19:22,399 --> 00:19:27,980
like for example if you want to be able

00:19:24,320 --> 00:19:29,149
to add sprites or CSS images or things

00:19:27,980 --> 00:19:33,260
like that

00:19:29,149 --> 00:19:34,820
you could add that capability as well of

00:19:33,260 --> 00:19:38,059
course then you probably want to take

00:19:34,820 --> 00:19:41,510
this in a different direction let's go

00:19:38,059 --> 00:19:43,370
ahead and add that one in and then the

00:19:41,510 --> 00:19:45,980
the last one that we have here is for

00:19:43,370 --> 00:19:54,080
the actual URI now one thing to note

00:19:45,980 --> 00:19:56,090
here is that we are using the URI system

00:19:54,080 --> 00:19:58,460
in Drupal to determine how these things

00:19:56,090 --> 00:20:02,179
work so we're not trying to write out

00:19:58,460 --> 00:20:03,500
the full path to where these files are

00:20:02,179 --> 00:20:05,899
going to be located or where they should

00:20:03,500 --> 00:20:07,880
be and the reason for that is because we

00:20:05,899 --> 00:20:09,950
don't know that could change

00:20:07,880 --> 00:20:11,269
now the friend of mine showed me earlier

00:20:09,950 --> 00:20:13,279
there are ways that we could work around

00:20:11,269 --> 00:20:15,080
that and there could be advantages or

00:20:13,279 --> 00:20:17,690
disadvantages but for all intents and

00:20:15,080 --> 00:20:19,549
purposes we're just going to assume that

00:20:17,690 --> 00:20:24,340
we're putting this into the public file

00:20:19,549 --> 00:20:26,480
system and that's that's all she wrote

00:20:24,340 --> 00:20:31,159
okay so we're good here we'll go ahead

00:20:26,480 --> 00:20:33,259
and save great step two of 46

00:20:31,159 --> 00:20:36,649
no I'm kidding just any parents paying

00:20:33,259 --> 00:20:38,509
attention so the the next thing we want

00:20:36,649 --> 00:20:41,990
to do is we actually want to modify the

00:20:38,509 --> 00:20:45,350
interface this is going to be really

00:20:41,990 --> 00:20:45,860
useful for if we start extending this

00:20:45,350 --> 00:20:48,950
later

00:20:45,860 --> 00:20:50,870
or making it useful for other things

00:20:48,950 --> 00:20:52,610
mostly I kind of just want to put this

00:20:50,870 --> 00:20:54,620
in here just so you guys have a sense of

00:20:52,610 --> 00:20:56,899
how this works because this interface

00:20:54,620 --> 00:21:05,259
asset interface is actually what's being

00:20:56,899 --> 00:21:09,470
used in this there we go in this actual

00:21:05,259 --> 00:21:12,259
class so we're going to have to match

00:21:09,470 --> 00:21:15,590
whatever we're putting in the interface

00:21:12,259 --> 00:21:17,929
in here as well but this just makes it

00:21:15,590 --> 00:21:20,419
it just keeps it nice and easy for us we

00:21:17,929 --> 00:21:23,440
could probably skip this and be okay but

00:21:20,419 --> 00:21:24,669
again just want to be a little thorough

00:21:23,440 --> 00:21:28,250
[Music]

00:21:24,669 --> 00:21:31,039
let's go into the next piece so we want

00:21:28,250 --> 00:21:32,750
to take those individual functions that

00:21:31,039 --> 00:21:34,850
we added and we actually want to put the

00:21:32,750 --> 00:21:37,279
guts in for what they're going to do on

00:21:34,850 --> 00:21:39,860
this entity these methods and this is

00:21:37,279 --> 00:21:41,120
where we're actually starting to you

00:21:39,860 --> 00:21:42,879
know outside of the schema we're

00:21:41,120 --> 00:21:45,769
actually starting to write code now and

00:21:42,879 --> 00:21:46,820
what you're seeing here is an example of

00:21:45,769 --> 00:21:48,289
what we're going to see over and over

00:21:46,820 --> 00:21:52,039
through this where you actually have

00:21:48,289 --> 00:21:55,190
some very small relatively simple

00:21:52,039 --> 00:21:58,190
functions any one of which is not that

00:21:55,190 --> 00:22:00,860
crazy and not that scary so if you look

00:21:58,190 --> 00:22:03,200
at the first one get type all we're

00:22:00,860 --> 00:22:04,730
doing is we're just returning whatever

00:22:03,200 --> 00:22:08,149
the type is for this particular entity

00:22:04,730 --> 00:22:10,340
CSS or JavaScript very very simple for a

00:22:08,149 --> 00:22:13,549
get filename we're actually going

00:22:10,340 --> 00:22:15,350
through grabbing the name making it

00:22:13,549 --> 00:22:17,000
lowercase for placing the spaces and

00:22:15,350 --> 00:22:18,559
special characters an underscore we see

00:22:17,000 --> 00:22:22,250
this with machine names all the time in

00:22:18,559 --> 00:22:23,750
fact I stole that the regex from

00:22:22,250 --> 00:22:27,710
somewhere in core because I don't like

00:22:23,750 --> 00:22:30,769
regex and it worked out very nicely and

00:22:27,710 --> 00:22:31,070
then finally get file URI which takes

00:22:30,769 --> 00:22:33,950
the

00:22:31,070 --> 00:22:36,470
other two functions get filename and get

00:22:33,950 --> 00:22:39,770
type and actually uses those to generate

00:22:36,470 --> 00:22:43,010
what that URI should be based on the

00:22:39,770 --> 00:22:44,660
current state now what you'll notice is

00:22:43,010 --> 00:22:47,750
that all the way through this we're

00:22:44,660 --> 00:22:49,160
referencing this and this is kind of one

00:22:47,750 --> 00:22:52,070
of those magic words and it's talking

00:22:49,160 --> 00:22:56,060
about whatever object whatever entity

00:22:52,070 --> 00:22:58,850
we're working with right now that can be

00:22:56,060 --> 00:23:01,040
a little strange you until you get used

00:22:58,850 --> 00:23:03,890
to it but then once you get used to it

00:23:01,040 --> 00:23:04,940
it's really really cool because then you

00:23:03,890 --> 00:23:07,940
don't have to worry about the

00:23:04,940 --> 00:23:10,580
abstraction of which particular entity

00:23:07,940 --> 00:23:12,500
am i working with you just know that

00:23:10,580 --> 00:23:14,540
within the realm of this object when I

00:23:12,500 --> 00:23:18,020
instantiate this object the methods that

00:23:14,540 --> 00:23:19,780
I'm calling going to work on it so it

00:23:18,020 --> 00:23:26,510
encapsulates and keeps it all together

00:23:19,780 --> 00:23:27,860
it can't make sense maybe so let's let's

00:23:26,510 --> 00:23:31,040
go ahead and take this and drop this

00:23:27,860 --> 00:23:32,840
stuff in and this is one of the places

00:23:31,040 --> 00:23:38,480
where we're actually starting to break

00:23:32,840 --> 00:23:45,890
away from the from the default of the

00:23:38,480 --> 00:23:47,810
boilerplate that was put in place so now

00:23:45,890 --> 00:23:49,070
we're starting to talk about the next

00:23:47,810 --> 00:23:52,990
step we want to do is we actually wanna

00:23:49,070 --> 00:23:56,030
be able to save the files and so what

00:23:52,990 --> 00:23:58,520
what I did was I wrote the methods we'll

00:23:56,030 --> 00:24:00,260
see in a moment to save the file and I

00:23:58,520 --> 00:24:02,540
tied them in wired it up and went to go

00:24:00,260 --> 00:24:05,120
save it and I got a big flaming error

00:24:02,540 --> 00:24:07,760
because it's trying to save to a folder

00:24:05,120 --> 00:24:09,860
that doesn't exist real bonehead moment

00:24:07,760 --> 00:24:13,730
so what we want to do is we want to make

00:24:09,860 --> 00:24:16,730
sure that that folder does exist before

00:24:13,730 --> 00:24:19,240
we try and do anything and a lot of

00:24:16,730 --> 00:24:22,250
people might be very happy to know that

00:24:19,240 --> 00:24:23,990
the process for doing that is almost

00:24:22,250 --> 00:24:26,180
identical to what it was in seven that's

00:24:23,990 --> 00:24:27,950
an install file and there's some hooks

00:24:26,180 --> 00:24:31,550
you can throw in there which we will

00:24:27,950 --> 00:24:33,980
actually go do right now so if you if

00:24:31,550 --> 00:24:36,730
you are no Drupal 7 this should be very

00:24:33,980 --> 00:24:45,750
comfortable for you so

00:24:36,730 --> 00:24:45,750
set not install great alrighty

00:24:46,200 --> 00:24:54,850
so first things first I highly recommend

00:24:52,559 --> 00:24:58,000
shamelessly stealing code that works

00:24:54,850 --> 00:25:00,010
whenever you can and you can refine it

00:24:58,000 --> 00:25:03,730
later you can work on it make it your

00:25:00,010 --> 00:25:06,820
own but the secret to my success and so

00:25:03,730 --> 00:25:12,130
what I did was knowing that the image

00:25:06,820 --> 00:25:13,750
Styles module creates folders I just

00:25:12,130 --> 00:25:16,330
went and grabbed that same code and I

00:25:13,750 --> 00:25:18,370
made a few tweaks as you can see it's

00:25:16,330 --> 00:25:21,790
actually doing the exact same thing

00:25:18,370 --> 00:25:25,570
three times it's just creating a

00:25:21,790 --> 00:25:30,010
different variation it's probably a more

00:25:25,570 --> 00:25:32,500
elegant way to do this but this works

00:25:30,010 --> 00:25:34,600
out quite well and it's highly readable

00:25:32,500 --> 00:25:37,299
very maintainable which is something

00:25:34,600 --> 00:25:38,290
else that I believe in this might be

00:25:37,299 --> 00:25:39,970
something that you're writing that

00:25:38,290 --> 00:25:41,830
you're not going to touch for another

00:25:39,970 --> 00:25:43,480
six or nine months and you're trying to

00:25:41,830 --> 00:25:45,750
figure out what something was so I

00:25:43,480 --> 00:25:49,210
highly recommend trying to keep it clean

00:25:45,750 --> 00:25:50,980
or you know the old adage you should

00:25:49,210 --> 00:25:52,419
write your code like the next person is

00:25:50,980 --> 00:25:55,059
going to work on it as an axe-wielding

00:25:52,419 --> 00:25:56,740
maniac that knows where you live so make

00:25:55,059 --> 00:26:02,950
it make it easy and make it

00:25:56,740 --> 00:26:04,900
understandable already so we've got here

00:26:02,950 --> 00:26:06,280
two things the first is the install

00:26:04,900 --> 00:26:09,669
which is actually going through and

00:26:06,280 --> 00:26:11,980
creating those folders for us so every

00:26:09,669 --> 00:26:13,929
time we install this module it's going

00:26:11,980 --> 00:26:14,320
to create the folders and we're good to

00:26:13,929 --> 00:26:16,660
go

00:26:14,320 --> 00:26:19,540
however we also want to make sure we

00:26:16,660 --> 00:26:21,790
clean up after ourselves so whenever we

00:26:19,540 --> 00:26:24,520
uninstall the module it's actually going

00:26:21,790 --> 00:26:26,919
to delete and you can see I actually

00:26:24,520 --> 00:26:29,230
still have generated images there so I

00:26:26,919 --> 00:26:31,500
totally stole it it's actually just

00:26:29,230 --> 00:26:33,730
going to delete the entire folder and

00:26:31,500 --> 00:26:38,290
everything under it is reusing to leave

00:26:33,730 --> 00:26:40,059
recursive pretty simple right to go

00:26:38,290 --> 00:26:42,470
through and start manipulating the file

00:26:40,059 --> 00:26:47,120
system and the public folders

00:26:42,470 --> 00:26:51,500
very simple very easy okay and now

00:26:47,120 --> 00:26:53,510
that's one more one more file down so

00:26:51,500 --> 00:26:57,320
now that we've got a place where we can

00:26:53,510 --> 00:26:59,030
actually store and save these the files

00:26:57,320 --> 00:27:05,180
we need to actually write the code that

00:26:59,030 --> 00:27:10,130
does it and again it's three lines to do

00:27:05,180 --> 00:27:12,650
this jump back over to entity and drop

00:27:10,130 --> 00:27:15,770
this in so as you can see we're using

00:27:12,650 --> 00:27:16,880
the get file URI which is basically I

00:27:15,770 --> 00:27:20,150
probably should have called that

00:27:16,880 --> 00:27:22,490
generate file URI honestly but as we've

00:27:20,150 --> 00:27:25,670
already established I'm lazy and easier

00:27:22,490 --> 00:27:29,300
to type yet so we're generating what

00:27:25,670 --> 00:27:31,490
that URI should look like based on the

00:27:29,300 --> 00:27:35,150
name of this particular CSS file what

00:27:31,490 --> 00:27:37,940
type it is etc grabbing the content the

00:27:35,150 --> 00:27:40,910
guts of it and then just writing that

00:27:37,940 --> 00:27:44,420
out one thing to make note of is that we

00:27:40,910 --> 00:27:48,080
are using the the file exists for place

00:27:44,420 --> 00:27:52,900
flag in that unmanaged save data

00:27:48,080 --> 00:27:58,160
function if we I think the next one is

00:27:52,900 --> 00:27:59,420
file exists I don't remember

00:27:58,160 --> 00:28:01,220
basically it's the one where it adds

00:27:59,420 --> 00:28:03,470
underscore zero underscore one

00:28:01,220 --> 00:28:05,030
underscore two we don't want to do that

00:28:03,470 --> 00:28:06,980
because the database is actually going

00:28:05,030 --> 00:28:08,930
to be storing all of our revisions which

00:28:06,980 --> 00:28:11,420
is very cool so we can actually go back

00:28:08,930 --> 00:28:14,720
and see things back in time we don't

00:28:11,420 --> 00:28:17,930
have to worry about that here alrighty

00:28:14,720 --> 00:28:19,400
now once we've got the ability to save

00:28:17,930 --> 00:28:22,480
the file when you also need to have the

00:28:19,400 --> 00:28:26,290
ability to delete the file and again

00:28:22,480 --> 00:28:26,290
pretty straightforward

00:28:28,090 --> 00:28:36,740
let's try this again and what we're

00:28:32,930 --> 00:28:39,560
doing here is actually going through and

00:28:36,740 --> 00:28:44,150
just saying let's let's pass through

00:28:39,560 --> 00:28:45,770
this this parameter for the or I we

00:28:44,150 --> 00:28:48,440
don't send it then it's just going to

00:28:45,770 --> 00:28:51,080
delete whatever the current asset we're

00:28:48,440 --> 00:28:54,170
working with is but we can specifically

00:28:51,080 --> 00:28:56,000
say which one to delete and that's going

00:28:54,170 --> 00:28:59,270
to be important later when we start

00:28:56,000 --> 00:29:01,430
talking about garbage collection one

00:28:59,270 --> 00:29:03,260
thing I also want to mention here is

00:29:01,430 --> 00:29:06,860
that you'll notice we're using this file

00:29:03,260 --> 00:29:08,630
unmanaged save data function and there's

00:29:06,860 --> 00:29:10,610
a difference between files that are

00:29:08,630 --> 00:29:13,970
managed by Drupal and files that are not

00:29:10,610 --> 00:29:16,670
so if we were to use a managed file that

00:29:13,970 --> 00:29:18,800
would actually create a file entity it

00:29:16,670 --> 00:29:22,070
would have it listed in the list of

00:29:18,800 --> 00:29:24,260
files in the Drupal UI you would be able

00:29:22,070 --> 00:29:26,240
to manage and manipulate it that way and

00:29:24,260 --> 00:29:30,380
that might be an interesting use case

00:29:26,240 --> 00:29:31,610
here we want the the interface that

00:29:30,380 --> 00:29:34,070
we're creating a kind of abstract that

00:29:31,610 --> 00:29:36,620
away so that people aren't going to get

00:29:34,070 --> 00:29:38,480
confused and say why did we add a CSS

00:29:36,620 --> 00:29:42,950
file I don't this doesn't make sense to

00:29:38,480 --> 00:29:45,260
me writing and then the the last thing

00:29:42,950 --> 00:29:46,460
we have to do is we're going to be able

00:29:45,260 --> 00:29:49,550
to we're going to want to clear the

00:29:46,460 --> 00:29:52,670
cache after we update a file so the day

00:29:49,550 --> 00:29:54,080
will actually show up so about an hour

00:29:52,670 --> 00:29:56,810
ago I got a text from a friend of mine

00:29:54,080 --> 00:29:59,000
who couldn't make it at the con and I

00:29:56,810 --> 00:30:02,150
said yeah I'm just going over my slides

00:29:59,000 --> 00:30:04,580
and he said oh man you know trying to

00:30:02,150 --> 00:30:06,860
give me advice just talk about entities

00:30:04,580 --> 00:30:08,360
and objects and things in d8 and then at

00:30:06,860 --> 00:30:11,990
the very telling is that oh and be sure

00:30:08,360 --> 00:30:13,340
to clear cache so I took a screenshot of

00:30:11,990 --> 00:30:18,410
this slide in Senate and I was like

00:30:13,340 --> 00:30:21,260
that's sage advice but like I mentioned

00:30:18,410 --> 00:30:24,710
earlier this isn't anything new I went

00:30:21,260 --> 00:30:26,360
into the core and common da-dink the the

00:30:24,710 --> 00:30:28,310
core function for Drupal flush all Casas

00:30:26,360 --> 00:30:30,800
caches and I just pulled out the piece

00:30:28,310 --> 00:30:35,480
for CSS and JavaScript and I plopped it

00:30:30,800 --> 00:30:36,800
in here I should note that these calling

00:30:35,480 --> 00:30:39,500
it this way through the service is

00:30:36,800 --> 00:30:41,420
actually deprecated so you don't want to

00:30:39,500 --> 00:30:43,490
rely on this

00:30:41,420 --> 00:30:46,340
but if you go look at Drupal flush all

00:30:43,490 --> 00:30:46,820
caches you'll see that and you'll know

00:30:46,340 --> 00:30:53,900
what to do

00:30:46,820 --> 00:30:58,430
good stuff mostly it's just easy let's

00:30:53,900 --> 00:31:02,090
see okay step 7

00:30:58,430 --> 00:31:05,080
so how many folks here have worked with

00:31:02,090 --> 00:31:08,600
object-oriented programming before

00:31:05,080 --> 00:31:11,230
fantastic so for those folks who may not

00:31:08,600 --> 00:31:17,690
have one of the things that makes

00:31:11,230 --> 00:31:20,480
object-oriented End objects and then

00:31:17,690 --> 00:31:23,410
either replace those methods or

00:31:20,480 --> 00:31:26,060
functions that are tied to them or

00:31:23,410 --> 00:31:27,800
augment them if you will and that's

00:31:26,060 --> 00:31:30,650
precisely what we're doing here so in

00:31:27,800 --> 00:31:32,930
Drupal 7 days if we wanted to do

00:31:30,650 --> 00:31:35,270
something in this case after we saved

00:31:32,930 --> 00:31:38,390
the new asset we want to go through and

00:31:35,270 --> 00:31:41,570
we want to save it down to a file and we

00:31:38,390 --> 00:31:49,220
want to clear the cache in Drupal 7 we

00:31:41,570 --> 00:31:51,980
would just use a node or an entity Oh to

00:31:49,220 --> 00:31:52,490
be it's not entity save goodness it's

00:31:51,980 --> 00:31:55,580
been a while

00:31:52,490 --> 00:31:59,930
does anybody know no bonus points for

00:31:55,580 --> 00:32:01,520
helping me out like after you save an

00:31:59,930 --> 00:32:06,560
entity and then it runs the hook with

00:32:01,520 --> 00:32:10,100
that hook in 7 ok yeah there's a pre

00:32:06,560 --> 00:32:11,890
save update yeah it's ok so there's a

00:32:10,100 --> 00:32:14,660
couple obviously I've been away too long

00:32:11,890 --> 00:32:16,940
in this case we actually have the

00:32:14,660 --> 00:32:19,820
similar thing in this case it's post

00:32:16,940 --> 00:32:22,160
save that would be like update now what

00:32:19,820 --> 00:32:23,300
you can do is you can either go in and

00:32:22,160 --> 00:32:27,080
just kind of get to some of these things

00:32:23,300 --> 00:32:30,080
or the smarter thing to do which

00:32:27,080 --> 00:32:32,510
eventually is where I ended up is taking

00:32:30,080 --> 00:32:34,900
a look at what you're extending in this

00:32:32,510 --> 00:32:39,500
case we're extending the revision

00:32:34,900 --> 00:32:42,950
ability base which I believe just extend

00:32:39,500 --> 00:32:46,520
the content entity base which I believe

00:32:42,950 --> 00:32:48,790
extends just the entity base and each

00:32:46,520 --> 00:32:51,200
one of those is either adding or

00:32:48,790 --> 00:32:52,670
slightly changing some methods so you

00:32:51,200 --> 00:32:53,720
might have to look in a couple places to

00:32:52,670 --> 00:32:55,700
see what there

00:32:53,720 --> 00:32:58,100
but some of the stuff that we see all

00:32:55,700 --> 00:32:59,990
over the place like the post save is

00:32:58,100 --> 00:33:01,850
what you'll expect thing that's really

00:32:59,990 --> 00:33:03,710
cool here though you'll notice the

00:33:01,850 --> 00:33:05,889
second line is we're taking we're

00:33:03,710 --> 00:33:09,980
actually calling the post save on that

00:33:05,889 --> 00:33:12,740
parent entity the parent class before we

00:33:09,980 --> 00:33:14,509
do anything else and if we didn't have

00:33:12,740 --> 00:33:17,389
that line we would basically be

00:33:14,509 --> 00:33:19,669
replacing it so if this enables us to do

00:33:17,389 --> 00:33:21,649
is to augment and extend that without

00:33:19,669 --> 00:33:23,330
losing anything upstream and without

00:33:21,649 --> 00:33:26,840
having to worry about what's going on up

00:33:23,330 --> 00:33:28,220
there so this is why the going

00:33:26,840 --> 00:33:31,370
object-oriented while it can't be more

00:33:28,220 --> 00:33:32,809
complex adds a lot of really cool and

00:33:31,370 --> 00:33:35,059
interesting things that makes it very

00:33:32,809 --> 00:33:37,720
easy so now we're writing this function

00:33:35,059 --> 00:33:41,230
and we're down to just three lines

00:33:37,720 --> 00:33:43,669
moreover the lines that we have

00:33:41,230 --> 00:33:47,240
specifically save file and clear file

00:33:43,669 --> 00:33:49,850
cache are as we've already seen easy to

00:33:47,240 --> 00:33:52,940
understand and make a lot of sense with

00:33:49,850 --> 00:33:54,889
something crazy there even though those

00:33:52,940 --> 00:33:56,149
are built on functions which are built

00:33:54,889 --> 00:33:58,129
on functions which are built on

00:33:56,149 --> 00:34:00,080
functions it's a very very complicated

00:33:58,129 --> 00:34:02,330
system but because it's so well

00:34:00,080 --> 00:34:06,679
structured and so well organized it

00:34:02,330 --> 00:34:10,089
makes our job much much easier I've

00:34:06,679 --> 00:34:15,379
actually heard of some very large

00:34:10,089 --> 00:34:20,389
implementations thousands of sites on a

00:34:15,379 --> 00:34:22,250
single codebase and massive project

00:34:20,389 --> 00:34:25,280
that's even at full velocity is going to

00:34:22,250 --> 00:34:27,319
take several years and actually as they

00:34:25,280 --> 00:34:30,290
progress their velocity has actually

00:34:27,319 --> 00:34:31,849
gone up because number one the developer

00:34:30,290 --> 00:34:33,710
is more comfortable number two they're

00:34:31,849 --> 00:34:35,569
reusing the same components over and

00:34:33,710 --> 00:34:36,980
over again and number three even when

00:34:35,569 --> 00:34:39,109
they have to go back and do something

00:34:36,980 --> 00:34:42,349
it's much easier for people understand

00:34:39,109 --> 00:34:44,000
and usually you don't hear about that

00:34:42,349 --> 00:34:46,940
about a project getting more complicated

00:34:44,000 --> 00:34:49,159
and yet going faster but because we have

00:34:46,940 --> 00:34:51,570
such a great architecture it actually

00:34:49,159 --> 00:34:53,880
does in able us to do that

00:34:51,570 --> 00:34:55,530
so the other thing we want to do again

00:34:53,880 --> 00:34:57,000
with the garbage collection being good

00:34:55,530 --> 00:35:00,570
stewards is we want to make sure that

00:34:57,000 --> 00:35:03,090
after we delete the parent entity one of

00:35:00,570 --> 00:35:04,230
those assets that CSS in the database we

00:35:03,090 --> 00:35:07,080
want to go through and actually delete

00:35:04,230 --> 00:35:09,120
the file as well and we have that lovely

00:35:07,080 --> 00:35:12,720
delete file method that we created to

00:35:09,120 --> 00:35:18,330
take care of that for us so we're good

00:35:12,720 --> 00:35:23,010
to go okay so at this point we we pretty

00:35:18,330 --> 00:35:24,990
much have everything that we need we

00:35:23,010 --> 00:35:28,260
could turn this on right now and we can

00:35:24,990 --> 00:35:30,720
actually generate assets and have that

00:35:28,260 --> 00:35:32,490
save and delete the files back and forth

00:35:30,720 --> 00:35:34,590
and all of that stuff is going to work

00:35:32,490 --> 00:35:37,950
of course now we have to attach it to

00:35:34,590 --> 00:35:42,210
the page and that's where things get a

00:35:37,950 --> 00:35:43,830
little tricky luckily it's a it's not

00:35:42,210 --> 00:35:46,980
horribly difficult and all of this

00:35:43,830 --> 00:35:50,220
should be very familiar to folks from d7

00:35:46,980 --> 00:35:54,900
because we're going to do this in the

00:35:50,220 --> 00:35:57,450
actual module file itself which is nuts

00:35:54,900 --> 00:35:59,370
so the first thing that we want to do is

00:35:57,450 --> 00:36:01,800
we want to actually go in and add the

00:35:59,370 --> 00:36:04,230
used statement for that asset entity

00:36:01,800 --> 00:36:07,890
that we created and if we go back to the

00:36:04,230 --> 00:36:11,450
asset PHP we can see that the namespace

00:36:07,890 --> 00:36:15,320
is Drupal slash asset slash entity and

00:36:11,450 --> 00:36:19,830
it is the asset class with a capital A

00:36:15,320 --> 00:36:22,800
that's how we know how to grab this so

00:36:19,830 --> 00:36:25,410
what we could actually do is in the one

00:36:22,800 --> 00:36:30,480
place we need to call it we could call

00:36:25,410 --> 00:36:33,920
it in this way we could say narrow jump

00:36:30,480 --> 00:36:41,670
over here we could actually say asset

00:36:33,920 --> 00:36:46,520
equals all of this stuff load multiple

00:36:41,670 --> 00:36:46,520
and I actually did this one testing

00:36:46,670 --> 00:36:51,410
and load multiple is a default we could

00:36:49,850 --> 00:36:54,170
actually do something like this and

00:36:51,410 --> 00:36:56,690
since we're only using it right now in

00:36:54,170 --> 00:36:59,360
one place in my code that actually

00:36:56,690 --> 00:37:01,220
wouldn't be so bad however we don't know

00:36:59,360 --> 00:37:04,160
what's going to happen later or how else

00:37:01,220 --> 00:37:05,900
we might need to extend this so we're

00:37:04,160 --> 00:37:07,160
going to go ahead and put it in as a use

00:37:05,900 --> 00:37:11,060
statement so we don't have to worry

00:37:07,160 --> 00:37:14,660
about it and this is a great example of

00:37:11,060 --> 00:37:16,940
how object-oriented program allows us to

00:37:14,660 --> 00:37:19,820
lazy load stuff because if you're

00:37:16,940 --> 00:37:22,730
calling in d7 with bootstrap you're

00:37:19,820 --> 00:37:24,530
loading everything the upside there is

00:37:22,730 --> 00:37:27,410
that you go into a dot module file and

00:37:24,530 --> 00:37:29,120
you call and functions you know that

00:37:27,410 --> 00:37:30,800
functions there because that module file

00:37:29,120 --> 00:37:34,520
knows about every single function that

00:37:30,800 --> 00:37:36,470
exists the downside is every single time

00:37:34,520 --> 00:37:38,150
you hit the page and you're trying to

00:37:36,470 --> 00:37:41,060
load something up it loads up all of

00:37:38,150 --> 00:37:42,830
Drupal all over again caching helps with

00:37:41,060 --> 00:37:44,570
that but at the end of the day we want

00:37:42,830 --> 00:37:47,330
to try and make use of this so that we

00:37:44,570 --> 00:37:51,050
can get really really fast and once you

00:37:47,330 --> 00:37:53,000
start talking about things like api's

00:37:51,050 --> 00:37:55,400
and kind of doing things that more of

00:37:53,000 --> 00:37:59,090
the machine level that speed really

00:37:55,400 --> 00:38:00,440
starts to pay off so this is where it

00:37:59,090 --> 00:38:05,090
starts to get a little bit interesting

00:38:00,440 --> 00:38:08,170
now is anybody here added in da added a

00:38:05,090 --> 00:38:10,910
library CSS JavaScript and a module a

00:38:08,170 --> 00:38:13,850
few people ok it can be a little bit

00:38:10,910 --> 00:38:17,960
weird you have to create a yamo file

00:38:13,850 --> 00:38:20,420
which defines what a library is for this

00:38:17,960 --> 00:38:24,260
module and then you have to go in and

00:38:20,420 --> 00:38:26,690
attach it to something to a page to a

00:38:24,260 --> 00:38:29,300
form to an element and that's what tells

00:38:26,690 --> 00:38:32,150
Drupal how to pull that in in this case

00:38:29,300 --> 00:38:34,730
we can't create that yamo file because

00:38:32,150 --> 00:38:36,920
we have no idea what these files are

00:38:34,730 --> 00:38:39,680
going to be called where they might be

00:38:36,920 --> 00:38:42,680
located or how many of them there will

00:38:39,680 --> 00:38:45,860
be so what we have to do is we are using

00:38:42,680 --> 00:38:47,990
this wonderful hook library info build

00:38:45,860 --> 00:38:50,690
and what this allows us to do is to go

00:38:47,990 --> 00:38:52,370
through and define the structure the

00:38:50,690 --> 00:38:55,190
actual array that the mo file represents

00:38:52,370 --> 00:39:00,140
in this case it's going to be blank

00:38:55,190 --> 00:39:00,540
right and then we're loading all of the

00:39:00,140 --> 00:39:02,370
ass

00:39:00,540 --> 00:39:04,230
so every single one of those asset

00:39:02,370 --> 00:39:06,030
entities that we have we're going to

00:39:04,230 --> 00:39:07,560
load up the batch we're going to loop

00:39:06,030 --> 00:39:10,230
through that batch and each one

00:39:07,560 --> 00:39:13,620
individually we're going to add into

00:39:10,230 --> 00:39:15,360
that array at the end of the line we're

00:39:13,620 --> 00:39:17,370
going to return that entire array that

00:39:15,360 --> 00:39:19,050
we've now constructed we're going to be

00:39:17,370 --> 00:39:21,870
doing that periodically just to make

00:39:19,050 --> 00:39:23,640
sure that we've got it so basically what

00:39:21,870 --> 00:39:26,150
we're doing here is instead of using the

00:39:23,640 --> 00:39:29,250
yamo file that we typically would do

00:39:26,150 --> 00:39:31,440
we're creating that array and we're

00:39:29,250 --> 00:39:34,020
creating the content of that file

00:39:31,440 --> 00:39:36,780
dynamically and passing it directly into

00:39:34,020 --> 00:39:39,570
Drupal so it knows which files are

00:39:36,780 --> 00:39:44,070
associated with this library that makes

00:39:39,570 --> 00:39:46,920
sense this is probably the trickiest

00:39:44,070 --> 00:39:50,610
part of this whole thing everything else

00:39:46,920 --> 00:39:54,660
has been very very simple okay so we're

00:39:50,610 --> 00:39:58,470
adding this in and then the now that

00:39:54,660 --> 00:40:00,090
we've actually got a library defined we

00:39:58,470 --> 00:40:02,700
have to actually add it to a page in

00:40:00,090 --> 00:40:04,920
this case we're using hook page

00:40:02,700 --> 00:40:09,300
attachments alter because we're going to

00:40:04,920 --> 00:40:15,030
add it to every single page again in the

00:40:09,300 --> 00:40:17,960
theme of keeping things simple great

00:40:15,030 --> 00:40:17,960
done

00:40:19,760 --> 00:40:24,920
so at this point if you were developing

00:40:23,630 --> 00:40:27,710
this you've probably been going through

00:40:24,920 --> 00:40:29,869
and turning the module installing it

00:40:27,710 --> 00:40:32,119
uninstalling it testing it getting bugs

00:40:29,869 --> 00:40:34,670
seeing what happens I mean maybe not I

00:40:32,119 --> 00:40:36,740
mean that's that's my experience but at

00:40:34,670 --> 00:40:41,210
this point I noticed that I went in and

00:40:36,740 --> 00:40:43,070
I had a I had an asset that I created

00:40:41,210 --> 00:40:44,390
and I changed the title and going

00:40:43,070 --> 00:40:45,440
through checking revisions all this

00:40:44,390 --> 00:40:49,670
stuff works and then all of a sudden I

00:40:45,440 --> 00:40:52,850
look and I've got a backlog of test one

00:40:49,670 --> 00:40:54,530
test five tests to test seven every

00:40:52,850 --> 00:40:57,800
single time I'm changing the title it's

00:40:54,530 --> 00:41:00,560
creating a new file and so I have to

00:40:57,800 --> 00:41:02,690
have a way to go through and be able to

00:41:00,560 --> 00:41:04,280
delete that because if it's named

00:41:02,690 --> 00:41:07,280
exactly the same it will delete it

00:41:04,280 --> 00:41:09,950
automatically but if we change the name

00:41:07,280 --> 00:41:11,900
once that assets been created it's going

00:41:09,950 --> 00:41:14,030
to create another one and so we're going

00:41:11,900 --> 00:41:16,609
to end up with stuff floating around out

00:41:14,030 --> 00:41:19,340
there so basically what I did was

00:41:16,609 --> 00:41:24,850
created another method here called

00:41:19,340 --> 00:41:27,800
dedupe it grabs the the actual old URI

00:41:24,850 --> 00:41:31,250
that will need to be stored in the

00:41:27,800 --> 00:41:33,200
database it generates the new one for

00:41:31,250 --> 00:41:36,650
the current asset in case we've changed

00:41:33,200 --> 00:41:38,960
the title compares them and if they're

00:41:36,650 --> 00:41:41,030
different then we call delete file on

00:41:38,960 --> 00:41:42,530
the old one and you'll notice that every

00:41:41,030 --> 00:41:44,030
other time we've called delete file we

00:41:42,530 --> 00:41:46,330
haven't been passing in a parameter

00:41:44,030 --> 00:41:49,609
because it's just been assuming to use

00:41:46,330 --> 00:41:52,070
whatever the current asset is but

00:41:49,609 --> 00:41:53,660
because we added that parameter and we

00:41:52,070 --> 00:41:58,040
now have the ability to with the same

00:41:53,660 --> 00:42:01,540
method pass in this old one so we'll

00:41:58,040 --> 00:42:01,540
delete that before it creates a new one

00:42:04,619 --> 00:42:12,220
so we've got this in place and then this

00:42:09,640 --> 00:42:15,330
is that the final step here so we need

00:42:12,220 --> 00:42:19,720
to call the D dupe and we also need to

00:42:15,330 --> 00:42:20,890
add the URI to the database because we

00:42:19,720 --> 00:42:23,230
haven't done that yet we haven't

00:42:20,890 --> 00:42:24,430
actually created a form space for it we

00:42:23,230 --> 00:42:27,820
don't want someone to just write it in

00:42:24,430 --> 00:42:30,520
because it's going to be wrong and the

00:42:27,820 --> 00:42:33,400
the trick is that this has to be done

00:42:30,520 --> 00:42:34,869
before you save the new entity because

00:42:33,400 --> 00:42:37,840
as soon as you save the new entity it

00:42:34,869 --> 00:42:39,550
will write the URI then the one in the

00:42:37,840 --> 00:42:42,430
database and the one from that you

00:42:39,550 --> 00:42:47,890
generated will no poke match so can

00:42:42,430 --> 00:42:54,300
anyone guess how we might do this anyone

00:42:47,890 --> 00:42:56,650
have an idea it's okay everyone's asleep

00:42:54,300 --> 00:42:57,820
so basically what we're going to do is

00:42:56,650 --> 00:43:00,910
we're going to go in and do this in the

00:42:57,820 --> 00:43:04,119
pre save and the pre say was actually

00:43:00,910 --> 00:43:06,400
generated for us as part of the boiler

00:43:04,119 --> 00:43:09,400
plate so I don't have to create that I

00:43:06,400 --> 00:43:09,849
can just drop this stuff in and we're

00:43:09,400 --> 00:43:14,890
good to go

00:43:09,849 --> 00:43:17,609
saying tea doop is not found did I not

00:43:14,890 --> 00:43:17,609
copy this in

00:43:18,450 --> 00:43:31,240
yeah I put it in the wrong place didn't

00:43:20,620 --> 00:43:33,250
I did that's why it's a total risk and

00:43:31,240 --> 00:43:35,680
it's also why it's good to have it a

00:43:33,250 --> 00:43:37,240
nice IDE in place because it can help

00:43:35,680 --> 00:43:44,610
you catch those things before you start

00:43:37,240 --> 00:43:48,960
ripping your hair out lovely okay so now

00:43:44,610 --> 00:43:52,510
we have our module and it should work

00:43:48,960 --> 00:43:53,850
let's find out I'm only slightly nervous

00:43:52,510 --> 00:44:04,290
about that

00:43:53,850 --> 00:44:04,290
okay so let's enable okay

00:44:07,609 --> 00:44:15,319
so far it hasn't blown up this is good

00:44:11,559 --> 00:44:17,180
okay so step one we're able to enable

00:44:15,319 --> 00:44:20,779
that the module turned on and nothing

00:44:17,180 --> 00:44:25,309
has been destroyed so far step two we

00:44:20,779 --> 00:44:28,279
check the site and it's still going so

00:44:25,309 --> 00:44:32,569
this is good let's step three let's go

00:44:28,279 --> 00:44:36,469
and actually test this thing out so we

00:44:32,569 --> 00:44:43,039
have the asset list let's go ahead and

00:44:36,469 --> 00:44:47,719
add an asset we'll call this test number

00:44:43,039 --> 00:44:53,709
one the CSS and we'll do something that

00:44:47,719 --> 00:44:53,709
will be easy to see that it's changed

00:44:56,070 --> 00:45:02,910
I should let us know and we've got

00:44:59,040 --> 00:45:05,940
revisions so that's cool let's see I

00:45:02,910 --> 00:45:08,390
might need to clear cache again get it

00:45:05,940 --> 00:45:08,390
started

00:45:12,920 --> 00:45:18,780
always have to be mindful when you're

00:45:17,370 --> 00:45:19,440
running a demo that something is going

00:45:18,780 --> 00:45:21,450
to go wrong

00:45:19,440 --> 00:45:26,040
so you're just hoping it's not something

00:45:21,450 --> 00:45:28,830
big also don't be afraid to tell people

00:45:26,040 --> 00:45:30,060
that when you do mess up that that's how

00:45:28,830 --> 00:45:32,220
they know that it was live and you did

00:45:30,060 --> 00:45:34,710
it on purpose just to prove this isn't

00:45:32,220 --> 00:45:38,400
can so apparently this is working so

00:45:34,710 --> 00:45:41,000
let's go take a quick look and thank you

00:45:38,400 --> 00:45:41,000
thank you

00:45:41,840 --> 00:45:51,500
the bar is low that's good so it did

00:45:46,410 --> 00:45:57,020
create our folders actually created our

00:45:51,500 --> 00:46:02,190
test one so I want to see something here

00:45:57,020 --> 00:46:10,290
let's go back to our new asset and let's

00:46:02,190 --> 00:46:15,950
change it so let's change it to change

00:46:10,290 --> 00:46:15,950
title we'll add something else

00:46:18,140 --> 00:46:22,059
I'm not a designer folks

00:46:27,070 --> 00:46:33,640
okay and then let's watch the file

00:46:31,740 --> 00:46:34,990
finder over there and just see what

00:46:33,640 --> 00:46:37,600
happens okay

00:46:34,990 --> 00:46:40,120
boom so it deleted the old one and it

00:46:37,600 --> 00:46:42,970
created the new one everything looks

00:46:40,120 --> 00:46:44,830
like it works and I probably have

00:46:42,970 --> 00:46:45,390
something wrong with my caching that's

00:46:44,830 --> 00:46:50,950
lovely

00:46:45,390 --> 00:46:54,580
but I think that at that point I think

00:46:50,950 --> 00:46:56,350
I've earned my my woohoo on that so that

00:46:54,580 --> 00:47:02,980
was that's really what I was trying to

00:46:56,350 --> 00:47:05,740
get to with this entire session okay so

00:47:02,980 --> 00:47:07,510
so why does this make sense to do this

00:47:05,740 --> 00:47:09,610
as a custom entity other than because I

00:47:07,510 --> 00:47:12,130
wanted to have a session that would just

00:47:09,610 --> 00:47:14,230
demonstrate that a couple things one is

00:47:12,130 --> 00:47:17,320
we created we needed a custom schema for

00:47:14,230 --> 00:47:18,880
this and more importantly we have the

00:47:17,320 --> 00:47:21,340
ability to put this all in a single

00:47:18,880 --> 00:47:22,570
table so if I go create a new content

00:47:21,340 --> 00:47:25,510
type for this and I try and do something

00:47:22,570 --> 00:47:27,790
weird every single file field that I add

00:47:25,510 --> 00:47:30,850
is going to add another one or two

00:47:27,790 --> 00:47:32,470
tables in the database so if you have a

00:47:30,850 --> 00:47:34,210
custom entity let's say you're pulling

00:47:32,470 --> 00:47:39,430
something in from an external system and

00:47:34,210 --> 00:47:41,280
you've got 20 50 pieces of data that's

00:47:39,430 --> 00:47:44,380
going to be a huge mess in your database

00:47:41,280 --> 00:47:46,660
but even if you do nothing else but just

00:47:44,380 --> 00:47:48,670
give it a place to live that's all in a

00:47:46,660 --> 00:47:50,080
single table that's going to be much

00:47:48,670 --> 00:47:52,120
more efficient it's going to keep things

00:47:50,080 --> 00:47:55,540
much cleaner that's a really good use

00:47:52,120 --> 00:47:56,980
case for having a custom entity I had

00:47:55,540 --> 00:47:59,530
some additional methods that we needed

00:47:56,980 --> 00:48:01,720
particularly around files and saving and

00:47:59,530 --> 00:48:03,910
all of those fun things and we had some

00:48:01,720 --> 00:48:06,220
additional workflow step see clear

00:48:03,910 --> 00:48:09,280
caching which apparently I need to dig

00:48:06,220 --> 00:48:11,710
into a bit more and then we were also

00:48:09,280 --> 00:48:14,290
taking the default methods and we had to

00:48:11,710 --> 00:48:16,300
extend them and part of that was due to

00:48:14,290 --> 00:48:19,090
the new structure part of that was due

00:48:16,300 --> 00:48:22,350
to the the D dupe kind of garbage

00:48:19,090 --> 00:48:25,660
collection thing so extending those

00:48:22,350 --> 00:48:27,850
default methods anytime you're starting

00:48:25,660 --> 00:48:30,040
to do something crazy that might be a

00:48:27,850 --> 00:48:34,810
good time to start looking at a custom

00:48:30,040 --> 00:48:36,810
entity so a couple of final notes it

00:48:34,810 --> 00:48:39,520
looks like we're just about on time here

00:48:36,810 --> 00:48:40,630
first off the best way to learn is just

00:48:39,520 --> 00:48:43,210
to get in and play

00:48:40,630 --> 00:48:44,980
this I mean I'm I'm pretty confident

00:48:43,210 --> 00:48:48,640
that I'm these were very simple

00:48:44,980 --> 00:48:50,290
functions everyone seems to get each

00:48:48,640 --> 00:48:52,570
piece individually and all the pieces

00:48:50,290 --> 00:48:54,070
make sense and I think some people were

00:48:52,570 --> 00:48:57,040
looking at me like I was a doofus for

00:48:54,070 --> 00:48:59,140
even explaining it but but going through

00:48:57,040 --> 00:49:01,120
and actually doing it versus seeing it

00:48:59,140 --> 00:49:03,610
is going to actually help it sink so I

00:49:01,120 --> 00:49:05,500
highly recommend that all you need is a

00:49:03,610 --> 00:49:08,800
little bit of time if you wanted to use

00:49:05,500 --> 00:49:11,740
something like this as an example if you

00:49:08,800 --> 00:49:13,690
want to just take a Drupal console

00:49:11,740 --> 00:49:16,480
generate your scaffolding and go you

00:49:13,690 --> 00:49:18,730
should be fine and above all just keep

00:49:16,480 --> 00:49:20,710
things simple and don't try and

00:49:18,730 --> 00:49:22,720
architect the end state out of the gate

00:49:20,710 --> 00:49:25,570
a much better way to go

00:49:22,720 --> 00:49:28,270
is to find that MVP do as little as

00:49:25,570 --> 00:49:30,040
possible test it see if it works give

00:49:28,270 --> 00:49:32,350
yourself a high five and then just add

00:49:30,040 --> 00:49:37,240
another little bit of complexity on top

00:49:32,350 --> 00:49:41,380
of that oh sorry one less thing homework

00:49:37,240 --> 00:49:43,390
I always give homework sorry so everyone

00:49:41,380 --> 00:49:45,100
that's here now should have the basics

00:49:43,390 --> 00:49:47,230
they need to create some type of custom

00:49:45,100 --> 00:49:49,870
entity custom module so I think it'd be

00:49:47,230 --> 00:49:52,180
a really great thing to do be even

00:49:49,870 --> 00:49:55,480
better if you were able to take that and

00:49:52,180 --> 00:49:58,930
either port a module from 7 to 8 or

00:49:55,480 --> 00:50:01,090
possibly create your own or at least get

00:49:58,930 --> 00:50:02,320
help someone get started on that process

00:50:01,090 --> 00:50:03,670
by just going through and doing

00:50:02,320 --> 00:50:05,470
something rough and dirty and then they

00:50:03,670 --> 00:50:07,770
come in and help help you clean it up

00:50:05,470 --> 00:50:10,030
there are a lot of resources out there

00:50:07,770 --> 00:50:11,530
that you can go take a look at that are

00:50:10,030 --> 00:50:13,720
way better than this so I would highly

00:50:11,530 --> 00:50:17,020
recommend you do that and then finally

00:50:13,720 --> 00:50:19,600
in your next project don't look for an

00:50:17,020 --> 00:50:21,760
excuse to use a custom entity but keep

00:50:19,600 --> 00:50:23,860
custom entities in mind as a way to

00:50:21,760 --> 00:50:27,960
solve a problem that otherwise might be

00:50:23,860 --> 00:50:32,290
unwieldy difficult or hard to maintain

00:50:27,960 --> 00:50:34,980
confusing etc and with that I'm done

00:50:32,290 --> 00:50:43,089
plus there's any questions

00:50:34,980 --> 00:50:43,089
[Applause]

00:50:44,100 --> 00:50:51,930
yes if you if you send it to me I'll

00:50:46,450 --> 00:50:54,160
grade it and I'll put a sticker so yeah

00:50:51,930 --> 00:50:57,030
fact you get a sticker just for asking

00:50:54,160 --> 00:50:57,030
that's good

00:51:01,510 --> 00:51:06,250
again it depends on what I'm trying to

00:51:03,430 --> 00:51:08,050
accomplish if it's going to be if I'm

00:51:06,250 --> 00:51:09,790
going to create a content type so the

00:51:08,050 --> 00:51:11,680
question is when do you choose content

00:51:09,790 --> 00:51:13,540
type versus cuts amenity if I'm going to

00:51:11,680 --> 00:51:17,530
create a content type that is going to

00:51:13,540 --> 00:51:19,869
be incredibly complex and I don't

00:51:17,530 --> 00:51:22,330
necessarily need the flexibility of the

00:51:19,869 --> 00:51:25,180
UI to be constantly changing and

00:51:22,330 --> 00:51:27,820
shifting that around I'll probably do

00:51:25,180 --> 00:51:29,740
that as a custom entity because I want

00:51:27,820 --> 00:51:32,440
to keep that a lot more efficient in the

00:51:29,740 --> 00:51:35,260
database if that makes sense and we want

00:51:32,440 --> 00:51:37,630
to kind of lock that down now what can

00:51:35,260 --> 00:51:41,680
be really handy though is to actually go

00:51:37,630 --> 00:51:43,900
through and use a create a custom

00:51:41,680 --> 00:51:46,240
content type on just a sandbox site and

00:51:43,900 --> 00:51:47,770
and go through and actually work out how

00:51:46,240 --> 00:51:50,100
you want it to work what do you want the

00:51:47,770 --> 00:51:50,100

YouTube URL: https://www.youtube.com/watch?v=nRL9F4xlXuw


