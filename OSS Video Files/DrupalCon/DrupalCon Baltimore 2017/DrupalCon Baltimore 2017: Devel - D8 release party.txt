Title: DrupalCon Baltimore 2017: Devel - D8 release party
Publication date: 2017-04-26
Playlist: DrupalCon Baltimore 2017
Description: 
	Our old friend Devel project has been revitalized and revamped for Drupal 8. Come learn from the Devel maintainer(s) about all its new features and APIs. For example:

Webprofiler

Add a powerful footer to all pages of your site. There, admins can review resource utilization, cache effectiveness, database queries, Views, and so much more.

Core Integration

Quickly access devel features via the core Toolbar module
View info from the Container, Routes, Entities, Events, 
Quickly switch to another user for development and troubleshooting purposes
Edit items in the config and state systems
A twig extension for dumping variables, setting xdebug breakpoint, ...
More ...
Dumpers

A pluggable system for dumping variables onto the page while you are writing code. Kint, Symfony var-dumper, Doctrine are all supported and ship with Devel.
Captions: 
	00:00:00,030 --> 00:00:12,120
alright let's get started little bit

00:00:07,830 --> 00:00:17,420
about me most Weitzman I'm a longtime

00:00:12,120 --> 00:00:17,420
Drupal contributor like the whole time

00:00:19,340 --> 00:00:28,230
started in 2001 I am a freelancer doing

00:00:25,800 --> 00:00:30,750
Drupal architecture working on

00:00:28,230 --> 00:00:35,309
continuous integration and developer

00:00:30,750 --> 00:00:37,020
workflows as well I also started a small

00:00:35,309 --> 00:00:40,379
Drupal consulting firm around data

00:00:37,020 --> 00:00:44,040
migration into Drupal and co-wrote the

00:00:40,379 --> 00:00:47,280
migrate module and some other things

00:00:44,040 --> 00:00:49,890
that I maintained there and started

00:00:47,280 --> 00:00:53,190
groups dr. drupal.org in the organic

00:00:49,890 --> 00:00:57,539
groups module both of those have long

00:00:53,190 --> 00:01:03,589
moved on for my care but you'll find my

00:00:57,539 --> 00:01:10,830
twitter address there too okay so

00:01:03,589 --> 00:01:12,900
davell started in 2003 it turns eight

00:01:10,830 --> 00:01:16,320
meaning the version 8 there that might

00:01:12,900 --> 00:01:19,350
have been a little too clever is coming

00:01:16,320 --> 00:01:21,930
out this week and it's quite an old

00:01:19,350 --> 00:01:25,710
project start in 2003 just a little

00:01:21,930 --> 00:01:31,140
while after Therese released version 1

00:01:25,710 --> 00:01:33,119
which was January of 2001 and it has

00:01:31,140 --> 00:01:35,220
been ported and used many many times

00:01:33,119 --> 00:01:37,920
over the years

00:01:35,220 --> 00:01:40,049
downloads three and a half million and

00:01:37,920 --> 00:01:42,290
20,000 sites report back that they're

00:01:40,049 --> 00:01:44,130
using it and that's despite us

00:01:42,290 --> 00:01:52,170
recommending it be disabled on

00:01:44,130 --> 00:01:53,700
production sites they're all staged and

00:01:52,170 --> 00:01:56,780
dev but they're still reporting their

00:01:53,700 --> 00:01:56,780
usage sure

00:01:58,090 --> 00:02:04,570
here's the usage chart you can see that

00:02:02,290 --> 00:02:10,990
the triple-eight usage is still far

00:02:04,570 --> 00:02:13,140
lower than prior versions but growing it

00:02:10,990 --> 00:02:15,550
really has been a whole community

00:02:13,140 --> 00:02:17,770
pitching in and porting this module over

00:02:15,550 --> 00:02:19,690
the years and developing it here's a

00:02:17,770 --> 00:02:22,360
look at the maintainer x' from the

00:02:19,690 --> 00:02:23,800
readme want to give a real shout out to

00:02:22,360 --> 00:02:26,490
all these folks they put in lots of

00:02:23,800 --> 00:02:29,500
hours writing and reviewing patches and

00:02:26,490 --> 00:02:33,910
keeping devel and top shape for all of

00:02:29,500 --> 00:02:37,480
us developers the focus of the talk

00:02:33,910 --> 00:02:40,510
today is about things that we have added

00:02:37,480 --> 00:02:42,280
or removed or changed in Drupal 8 since

00:02:40,510 --> 00:02:45,670
that's the release that's coming out

00:02:42,280 --> 00:02:49,900
this week there were two new modules

00:02:45,670 --> 00:02:51,790
added to devel sub modules one of them

00:02:49,900 --> 00:02:54,130
is called tint and the other one is

00:02:51,790 --> 00:02:57,790
called web profiler we're going to see

00:02:54,130 --> 00:03:01,650
more of those in a little bit and one

00:02:57,790 --> 00:03:01,650
that we removed is specifically

00:03:03,030 --> 00:03:08,620
development on the grants that are in

00:03:06,370 --> 00:03:12,820
your database around node access and

00:03:08,620 --> 00:03:14,500
helps you debug access problems but we

00:03:12,820 --> 00:03:16,239
weren't able to really maintain it at

00:03:14,500 --> 00:03:18,340
the high level that we expect so we

00:03:16,239 --> 00:03:25,269
moved it into contribu welcome to work

00:03:18,340 --> 00:03:28,000
on it there and use it okay so the first

00:03:25,269 --> 00:03:32,140
major triple-eight integration point is

00:03:28,000 --> 00:03:36,790
the toolbar module developers a new

00:03:32,140 --> 00:03:39,910
top-level item in the toolbar if you

00:03:36,790 --> 00:03:41,530
click on that you have slightly

00:03:39,910 --> 00:03:43,840
different behavior depending on how your

00:03:41,530 --> 00:03:48,100
toolbars set up if it's in vertical mode

00:03:43,840 --> 00:03:51,180
you will see you'll able to expand and

00:03:48,100 --> 00:03:53,440
see all of the major pages that devel

00:03:51,180 --> 00:03:56,410
offers so that's a really good way to

00:03:53,440 --> 00:03:59,709
see all that you can do with devel and

00:03:56,410 --> 00:04:01,570
you can also in horizontal mode just

00:03:59,709 --> 00:04:04,799
hover over that and you're expanding

00:04:01,570 --> 00:04:04,799
menu comes down

00:04:06,520 --> 00:04:13,140
okay so the first major new page for

00:04:09,490 --> 00:04:16,030
Drupal 8 is called container services

00:04:13,140 --> 00:04:18,750
here you can search for any service that

00:04:16,030 --> 00:04:21,220
Drupal 8 offers and learn more about it

00:04:18,750 --> 00:04:24,130
in this screenshot we're showing the

00:04:21,220 --> 00:04:27,300
service names in the left column and the

00:04:24,130 --> 00:04:30,190
corresponding class in the right column

00:04:27,300 --> 00:04:34,180
we have another tab here called

00:04:30,190 --> 00:04:36,220
parameters which are you know cousins of

00:04:34,180 --> 00:04:40,170
services they are defined in the same

00:04:36,220 --> 00:04:42,460
services well yml file of Drupal 8

00:04:40,170 --> 00:04:45,250
services are really like a major

00:04:42,460 --> 00:04:49,000
innovation in Drupal 8 it's a feature

00:04:45,250 --> 00:04:52,420
that we inherit from symphony and it's

00:04:49,000 --> 00:04:55,750
definitely like a clean way to expose

00:04:52,420 --> 00:05:00,060
your code for use by other modules in

00:04:55,750 --> 00:05:03,300
other parts of the system here's our

00:05:00,060 --> 00:05:06,460
debugging page for the routing system

00:05:03,300 --> 00:05:08,710
all of the routes on your system are

00:05:06,460 --> 00:05:12,910
exposed on the left hand side here with

00:05:08,710 --> 00:05:14,860
their names the corresponding path what

00:05:12,910 --> 00:05:18,070
methods are allowed on that route and

00:05:14,860 --> 00:05:20,140
then not on the screenshot but a little

00:05:18,070 --> 00:05:24,420
further to the right there's a link for

00:05:20,140 --> 00:05:27,220
viewing the details of the route so you

00:05:24,420 --> 00:05:29,020
don't have to grab the code for this

00:05:27,220 --> 00:05:31,870
stuff and look in what writing ymail

00:05:29,020 --> 00:05:34,300
files if it's more convenient you for

00:05:31,870 --> 00:05:39,430
you to do it in a browser we provide

00:05:34,300 --> 00:05:42,700
that here yet another major system

00:05:39,430 --> 00:05:44,500
interpolate the event system provides

00:05:42,700 --> 00:05:46,090
some of the similar functionality that

00:05:44,500 --> 00:05:49,540
the hook system has traditionally

00:05:46,090 --> 00:05:52,750
maintained in Drupal here we have a

00:05:49,540 --> 00:05:56,140
listing of the major events that your

00:05:52,750 --> 00:05:58,600
system exposes and the subscribers to

00:05:56,140 --> 00:06:02,140
those events ok so you can see the

00:05:58,600 --> 00:06:03,820
second one the config delete event there

00:06:02,140 --> 00:06:06,610
are a bunch of subscribers on this

00:06:03,820 --> 00:06:10,600
system to that event you could go ahead

00:06:06,610 --> 00:06:11,800
and click on these yes in this

00:06:10,600 --> 00:06:13,360
screenshot you can't see it but these

00:06:11,800 --> 00:06:17,320
are clickable links and they open up in

00:06:13,360 --> 00:06:20,370
your editor your code editor so there's

00:06:17,320 --> 00:06:20,370
some nice integration there

00:06:22,750 --> 00:06:30,190
the configuration system is another big

00:06:26,390 --> 00:06:33,650
innovation in Drupal 8 and devel

00:06:30,190 --> 00:06:35,300
specifically what we do is tell you all

00:06:33,650 --> 00:06:37,300
the config names in your system let you

00:06:35,300 --> 00:06:41,030
search for the ones you care about and

00:06:37,300 --> 00:06:44,570
let you edit them by hand using a web

00:06:41,030 --> 00:06:47,870
browser so this is useful if you're just

00:06:44,570 --> 00:06:49,910
doing some development less useful for

00:06:47,870 --> 00:06:52,040
like stage and prod but I think it makes

00:06:49,910 --> 00:06:54,320
sense locally to do this sometimes if

00:06:52,040 --> 00:06:55,550
you understand the structure of the yml

00:06:54,320 --> 00:06:58,340
file you need to just change a value

00:06:55,550 --> 00:06:59,870
this is a great place to do it and then

00:06:58,340 --> 00:07:01,490
you can go ahead and export your

00:06:59,870 --> 00:07:04,430
configuration after that committed to

00:07:01,490 --> 00:07:09,710
get push it along whatever you need to

00:07:04,430 --> 00:07:11,360
do the old name for this functionality

00:07:09,710 --> 00:07:16,310
was called the variable editor if people

00:07:11,360 --> 00:07:20,420
use that in Prior versions really

00:07:16,310 --> 00:07:22,250
similar the state editor it lets you

00:07:20,420 --> 00:07:27,560
view the name value pairs in the state

00:07:22,250 --> 00:07:31,460
system and lets you edit them this has

00:07:27,560 --> 00:07:33,470
no corresponding Drupal 7 feature this

00:07:31,460 --> 00:07:36,470
is a new feature there was no state

00:07:33,470 --> 00:07:39,380
system before or I guess it was also the

00:07:36,470 --> 00:07:46,040
variable system in a terribly conflated

00:07:39,380 --> 00:07:50,180
way so there are many more pages in a

00:07:46,040 --> 00:07:53,060
similar vein to these here's the list of

00:07:50,180 --> 00:07:57,290
the pages that you will find if you look

00:07:53,060 --> 00:07:59,180
at the toolbar integration I can talk

00:07:57,290 --> 00:08:01,220
about more of these and show more of

00:07:59,180 --> 00:08:06,460
these later but I want to give an

00:08:01,220 --> 00:08:06,460
overview of all it develop in Drupal 8

00:08:09,670 --> 00:08:14,960
folks have been curious if the switch

00:08:12,560 --> 00:08:18,530
user block is still part of de valència

00:08:14,960 --> 00:08:21,230
it is if you guys haven't used it switch

00:08:18,530 --> 00:08:25,190
user is like a way to quickly masquerade

00:08:21,230 --> 00:08:28,130
as another user on the site so given

00:08:25,190 --> 00:08:31,550
sufficient permissions you will be

00:08:28,130 --> 00:08:32,539
offered a list of users to essentially

00:08:31,550 --> 00:08:36,019
Envisat you know

00:08:32,539 --> 00:08:39,169
quickly login as so in this screenshot

00:08:36,019 --> 00:08:41,209
here the current user is admin his name

00:08:39,169 --> 00:08:45,259
is bolded that indicates that you're

00:08:41,209 --> 00:08:47,779
logged in as admin and you can easily

00:08:45,259 --> 00:08:49,730
log in as dummy one or dummy two by

00:08:47,779 --> 00:08:52,579
clicking on those links and then

00:08:49,730 --> 00:08:55,130
presumably log back into your main

00:08:52,579 --> 00:08:59,170
account whenever you're done testing how

00:08:55,130 --> 00:08:59,170
the site looks like like as another user

00:09:02,199 --> 00:09:08,690
there was a fair amount of work to

00:09:05,779 --> 00:09:12,050
provide useful tools for Twigg

00:09:08,690 --> 00:09:17,000
developers or theme developers who are

00:09:12,050 --> 00:09:20,089
in the twig system twig is a pretty

00:09:17,000 --> 00:09:24,139
flexible system lets you to define your

00:09:20,089 --> 00:09:26,589
own twig functions and quick filters and

00:09:24,139 --> 00:09:29,649
so devel has take advantage of that

00:09:26,589 --> 00:09:32,110
there's three new functions available

00:09:29,649 --> 00:09:34,490
when you install the devel module

00:09:32,110 --> 00:09:39,079
develop dump davell message develop

00:09:34,490 --> 00:09:42,319
break point let's take a look at them so

00:09:39,079 --> 00:09:44,810
at the top you have a screenshot of your

00:09:42,319 --> 00:09:47,660
code and it shows you how to use the

00:09:44,810 --> 00:09:50,180
devel dump function fairly

00:09:47,660 --> 00:09:55,760
straightforward inside of those braces

00:09:50,180 --> 00:10:01,339
davell dump will will print out whatever

00:09:55,760 --> 00:10:03,730
content you pass to it and this

00:10:01,339 --> 00:10:07,430
particular function develop dump is

00:10:03,730 --> 00:10:09,649
analogous to the kpr function in develop

00:10:07,430 --> 00:10:14,510
you've used that before which is stands

00:10:09,649 --> 00:10:19,910
for kink pre are can't print tape can't

00:10:14,510 --> 00:10:21,740
print yes and you're welcomed up just

00:10:19,910 --> 00:10:23,510
past no parameters and then you get the

00:10:21,740 --> 00:10:29,540
hole all the variables that are

00:10:23,510 --> 00:10:33,050
available to to twig here's what it

00:10:29,540 --> 00:10:36,220
looks like when you do that you get a

00:10:33,050 --> 00:10:39,110
massive array as Drupal's fond of doing

00:10:36,220 --> 00:10:41,920
and you can see what parts that you need

00:10:39,110 --> 00:10:41,920
in twig

00:10:43,820 --> 00:10:49,010
davell message is the next function that

00:10:46,400 --> 00:10:51,560
develops poses for twig developers it's

00:10:49,010 --> 00:10:54,490
similar to the one we just saw

00:10:51,560 --> 00:10:57,290
develop dump develop dump will drop your

00:10:54,490 --> 00:11:01,040
nasty array anywhere on the page where

00:10:57,290 --> 00:11:03,820
you use that function develop message is

00:11:01,040 --> 00:11:09,770
the equivalent of Drupal of devel

00:11:03,820 --> 00:11:12,740
GSM or DPM it puts your debugging stuff

00:11:09,770 --> 00:11:14,120
into the message section of the page so

00:11:12,740 --> 00:11:15,290
it's a little bit more predictable where

00:11:14,120 --> 00:11:17,030
it's going to show up and how it's going

00:11:15,290 --> 00:11:18,740
to show up and it won't break the

00:11:17,030 --> 00:11:23,240
rendering of other parts of the page so

00:11:18,740 --> 00:11:25,730
feel free to use to fail message here we

00:11:23,240 --> 00:11:28,040
see similar output or identical output

00:11:25,730 --> 00:11:29,630
but it's in the message section all

00:11:28,040 --> 00:11:32,030
right you can sort of tell that by the

00:11:29,630 --> 00:11:34,700
green bar on the left and the check

00:11:32,030 --> 00:11:40,640
check mark that says it's an OK type

00:11:34,700 --> 00:11:43,190
message and not an error message develop

00:11:40,640 --> 00:11:48,320
break point so this is really handy for

00:11:43,190 --> 00:11:51,880
twig developers this does what you might

00:11:48,320 --> 00:11:55,250
be used to with PHP breakpoints it

00:11:51,880 --> 00:11:56,600
forces the PHP interpreter to stop okay

00:11:55,250 --> 00:11:59,450
just like you might do in one of your

00:11:56,600 --> 00:12:00,800
classes or your hooks in other parts of

00:11:59,450 --> 00:12:05,600
Drupal you can do that in your twig as

00:12:00,800 --> 00:12:13,220
well and just to note that this requires

00:12:05,600 --> 00:12:16,580
the X to bug PHP extension okay so I

00:12:13,220 --> 00:12:21,110
want to cover the new dumper system for

00:12:16,580 --> 00:12:27,680
Drupal 8 you might recall that we've had

00:12:21,110 --> 00:12:30,130
DSM for a long time and it traditionally

00:12:27,680 --> 00:12:32,600
or at least in triple7 use the chromo

00:12:30,130 --> 00:12:36,230
extension in order to do pretty printing

00:12:32,600 --> 00:12:39,490
over big arrays crémeux is not well

00:12:36,230 --> 00:12:42,350
maintained so that's out for Drupal 8

00:12:39,490 --> 00:12:44,990
ironically the maintainer just arrived

00:12:42,350 --> 00:12:48,650
and perhaps is maintaining it again but

00:12:44,990 --> 00:12:51,620
for now it's not part of devel instead

00:12:48,650 --> 00:12:53,360
we have a sub module called Kindt that

00:12:51,620 --> 00:12:55,820
you may want to try out it's it comes

00:12:53,360 --> 00:12:58,040
right with devel and it does the pretty

00:12:55,820 --> 00:13:00,889
printing of arrays

00:12:58,040 --> 00:13:05,570
the way it does so is the KITT module

00:13:00,889 --> 00:13:07,790
exposes a dumper plugin so devel has a

00:13:05,570 --> 00:13:11,720
plug-in manager and a whole plugin

00:13:07,790 --> 00:13:15,290
system for how modules can dump out

00:13:11,720 --> 00:13:17,540
variables to the screen there's a really

00:13:15,290 --> 00:13:20,329
simple one that's on by default that

00:13:17,540 --> 00:13:23,060
like does more of a plain text printing

00:13:20,329 --> 00:13:26,569
of your variables that one's called the

00:13:23,060 --> 00:13:28,040
doctrine doctrine plugin but you might

00:13:26,569 --> 00:13:31,089
want to try out the other ones there's

00:13:28,040 --> 00:13:34,759
Kint once you enable the sub module or

00:13:31,089 --> 00:13:38,300
with other dependencies enabled you can

00:13:34,759 --> 00:13:43,009
have the symphony VAR dumper develop a

00:13:38,300 --> 00:13:46,190
dumper plugin or you can have there's

00:13:43,009 --> 00:13:48,560
Drupal variable chrome PHP and fire PHP

00:13:46,190 --> 00:13:51,740
I think there's other ones there's lots

00:13:48,560 --> 00:13:54,170
of ways to get your variable print outs

00:13:51,740 --> 00:13:57,529
now and if you're unhappy with the ones

00:13:54,170 --> 00:14:00,259
that we have put into devalue can write

00:13:57,529 --> 00:14:02,870
a country module expose your own develop

00:14:00,259 --> 00:14:05,269
dump or plugin from there there's a

00:14:02,870 --> 00:14:09,940
settings page for developer you pick

00:14:05,269 --> 00:14:09,940
which dumper is active for your site

00:14:11,949 --> 00:14:16,310
those dependencies that you need for

00:14:14,449 --> 00:14:18,500
like Symphony fire temper you'll want to

00:14:16,310 --> 00:14:21,050
install composer packages in order to

00:14:18,500 --> 00:14:24,920
make those available okay that's the

00:14:21,050 --> 00:14:27,260
last bullet here here's the list that I

00:14:24,920 --> 00:14:29,959
came up with before doctrine is the

00:14:27,260 --> 00:14:34,069
default as I said lots of other

00:14:29,959 --> 00:14:36,410
interesting ones here this is what the

00:14:34,069 --> 00:14:42,889
doctrine dumper looks like by default

00:14:36,410 --> 00:14:45,699
just a nested presentation of variables

00:14:42,889 --> 00:14:45,699
okay

00:14:47,770 --> 00:14:58,630
variable plug in a little bit less

00:14:51,790 --> 00:15:00,640
nested seems like fancier is the

00:14:58,630 --> 00:15:02,170
symphony of our dumper one this is the

00:15:00,640 --> 00:15:08,710
one that I see most people using

00:15:02,170 --> 00:15:11,950
actually and the the way the easiest way

00:15:08,710 --> 00:15:15,250
to get this one is to enable a control

00:15:11,950 --> 00:15:18,070
called fire dumper alright there's sort

00:15:15,250 --> 00:15:19,480
of sufficient dependencies involved with

00:15:18,070 --> 00:15:21,820
this one that it doesn't come just with

00:15:19,480 --> 00:15:25,090
devel alright so you need this VAR

00:15:21,820 --> 00:15:27,520
dumper module once you do you get a

00:15:25,090 --> 00:15:29,080
couple cool new features namely the

00:15:27,520 --> 00:15:31,960
class names like what I was showing

00:15:29,080 --> 00:15:35,470
earlier with container services and

00:15:31,960 --> 00:15:38,920
routing all become hyperlinks where you

00:15:35,470 --> 00:15:42,910
can gain more information and open up

00:15:38,920 --> 00:15:48,880
your IDE to the right to the right file

00:15:42,910 --> 00:15:54,010
on the right line for that class here's

00:15:48,880 --> 00:15:58,120
a look at the Kint developer plugin make

00:15:54,010 --> 00:16:01,090
sure to try that one out and a little

00:15:58,120 --> 00:16:03,760
bit about coding your own dumper there's

00:16:01,090 --> 00:16:06,790
a couple pieces to it one is that you

00:16:03,760 --> 00:16:08,860
have to write a class usually that class

00:16:06,790 --> 00:16:14,350
would extend the develop dump or base

00:16:08,860 --> 00:16:16,330
like what this class does and you can do

00:16:14,350 --> 00:16:19,480
that just from your own contribute us to

00:16:16,330 --> 00:16:22,270
modules alright in the annotation of

00:16:19,480 --> 00:16:24,010
your class there's the different

00:16:22,270 --> 00:16:27,310
properties that you have to describe

00:16:24,010 --> 00:16:33,250
it's really pretty simple they really

00:16:27,310 --> 00:16:37,240
have an ID and label stuff here's the

00:16:33,250 --> 00:16:41,200
interface for developer you have to just

00:16:37,240 --> 00:16:43,840
describe to the system or handle events

00:16:41,200 --> 00:16:48,400
like dump or export or export as render

00:16:43,840 --> 00:16:50,790
ball so really simple to write one of

00:16:48,400 --> 00:16:50,790
these plugins

00:16:52,750 --> 00:16:59,930
all right I want to talk about the other

00:16:56,930 --> 00:17:03,170
new sub module in devel for Drupal 8

00:16:59,930 --> 00:17:07,459
it's really an outstanding piece of

00:17:03,170 --> 00:17:10,550
software and if you use the query logger

00:17:07,459 --> 00:17:13,459
and memory profiler in develop in Prior

00:17:10,550 --> 00:17:15,740
versions those have been deprecated in

00:17:13,459 --> 00:17:18,640
favor of web profiler which does that

00:17:15,740 --> 00:17:18,640
and a whole lot more

00:17:18,670 --> 00:17:26,270
so web probe profilers raison d'être is

00:17:22,750 --> 00:17:28,310
not so much to like investigate the

00:17:26,270 --> 00:17:31,070
routing and the container services of

00:17:28,310 --> 00:17:35,330
your site it's to get information about

00:17:31,070 --> 00:17:38,320
a rendered page a single page that would

00:17:35,330 --> 00:17:40,790
just ran it's going to collect

00:17:38,320 --> 00:17:44,150
performance and debugging and debugging

00:17:40,790 --> 00:17:45,800
data about that page request and then

00:17:44,150 --> 00:17:50,300
it's going to surface it at the bottom

00:17:45,800 --> 00:17:52,280
of the page so I have a short video that

00:17:50,300 --> 00:17:55,790
I want to show that highlights the web

00:17:52,280 --> 00:17:58,660
profiler module this video was made by

00:17:55,790 --> 00:18:02,600
Luca Lu so who's the maintainer of this

00:17:58,660 --> 00:18:05,080
web profiler module in devel super

00:18:02,600 --> 00:18:07,790
software developer he's from Italy

00:18:05,080 --> 00:18:14,080
hopefully you can like understand his

00:18:07,790 --> 00:18:14,080
accent and follow his great video here

00:18:18,400 --> 00:18:23,450
good margin I'm Luca from Italy and I'm

00:18:21,410 --> 00:18:26,330
here to talk about the web procedure sub

00:18:23,450 --> 00:18:28,280
module of Devon what provider has been

00:18:26,330 --> 00:18:30,590
added to devil to replace the query

00:18:28,280 --> 00:18:33,490
logger and memory provider button

00:18:30,590 --> 00:18:36,860
collect and expose way more information

00:18:33,490 --> 00:18:39,770
after we enable the module we can see

00:18:36,860 --> 00:18:44,180
this toolbar and the bottom of average

00:18:39,770 --> 00:18:47,090
HTML pages every widget as a data

00:18:44,180 --> 00:18:50,030
collector that actually collects data

00:18:47,090 --> 00:18:53,060
from some parts of Drupal 8

00:18:50,030 --> 00:18:56,870
for example we collect data about the

00:18:53,060 --> 00:18:59,740
question or time and memories from 10

00:18:56,870 --> 00:19:04,120
performance database queries and

00:18:59,740 --> 00:19:10,429
locating user views blocks for

00:19:04,120 --> 00:19:14,030
if extensions cash or assets on the

00:19:10,429 --> 00:19:16,700
toolbar just contains an overview of the

00:19:14,030 --> 00:19:18,620
data if we click on every of these

00:19:16,700 --> 00:19:21,289
widgets on the toolbar

00:19:18,620 --> 00:19:23,659
we go to the dashboard which contains

00:19:21,289 --> 00:19:26,150
all the information collected for

00:19:23,659 --> 00:19:30,010
example this is the database dashboard

00:19:26,150 --> 00:19:33,620
which shows us every single query with

00:19:30,010 --> 00:19:36,740
information about time and with the

00:19:33,620 --> 00:19:39,799
possibility of swap placeholder for

00:19:36,740 --> 00:19:43,039
example and to filter the where is

00:19:39,799 --> 00:19:46,220
collected by the provider for this page

00:19:43,039 --> 00:19:49,010
here on the Left we have a list of every

00:19:46,220 --> 00:19:52,970
dashboard enabled we can see for example

00:19:49,010 --> 00:19:54,470
the HP configure dashboard the request

00:19:52,970 --> 00:19:59,570
- would be that we have information

00:19:54,470 --> 00:20:01,820
about the request cookies heaters sent

00:19:59,570 --> 00:20:05,299
and received from from the browser the

00:20:01,820 --> 00:20:08,390
accessor checker service that allow us

00:20:05,299 --> 00:20:12,190
to see this page present information

00:20:08,390 --> 00:20:14,929
about timelines which which show us

00:20:12,190 --> 00:20:18,200
every single component that Drupal 8

00:20:14,929 --> 00:20:21,440
uses to build this page divided in

00:20:18,200 --> 00:20:24,200
service to plate and event listener for

00:20:21,440 --> 00:20:29,830
example performance timing from the

00:20:24,200 --> 00:20:33,970
front end users use blogs forms

00:20:29,830 --> 00:20:39,200
extension enabled the cash system we

00:20:33,970 --> 00:20:41,720
cash it and miss presence in the asset

00:20:39,200 --> 00:20:46,640
which works shows us every JavaScript

00:20:41,720 --> 00:20:51,320
and CSS used on the collected web page

00:20:46,640 --> 00:20:54,650
but there are way more data collectors

00:20:51,320 --> 00:20:59,450
we can enable we can go to the configure

00:20:54,650 --> 00:21:03,710
web provider page and here we have the

00:20:59,450 --> 00:21:06,919
possibility to choose when to pour just

00:21:03,710 --> 00:21:09,020
the collected precise for example when

00:21:06,919 --> 00:21:12,890
the cash clear we can choose which

00:21:09,020 --> 00:21:13,850
storage back-end to use to store the

00:21:12,890 --> 00:21:16,130
profile data

00:21:13,850 --> 00:21:19,130
for now we have five storage

00:21:16,130 --> 00:21:24,050
database storage which pages to exclude

00:21:19,130 --> 00:21:27,530
the web provider and which data

00:21:24,050 --> 00:21:29,690
collector enable we have assets blocks

00:21:27,530 --> 00:21:32,120
cache data collector configuration

00:21:29,690 --> 00:21:36,080
management data collector which show us

00:21:32,120 --> 00:21:40,190
so many data read from the configuration

00:21:36,080 --> 00:21:42,800
management database data the advanced

00:21:40,190 --> 00:21:46,790
data collector that shows events

00:21:42,800 --> 00:21:50,150
executed during the page render enable

00:21:46,790 --> 00:21:53,300
extensions the forms every HTTP calls

00:21:50,150 --> 00:21:56,480
made from Drupal to external web service

00:21:53,300 --> 00:22:00,020
for example every single email sent from

00:21:56,480 --> 00:22:02,270
Drupal HP configuration perform standing

00:22:00,020 --> 00:22:05,510
on the front end the request information

00:22:02,270 --> 00:22:08,200
about routing information about which

00:22:05,510 --> 00:22:11,180
services are used on the pages

00:22:08,200 --> 00:22:14,330
information about the state API the team

00:22:11,180 --> 00:22:17,420
used in the the page timeline user

00:22:14,330 --> 00:22:21,620
induce from this page we can also

00:22:17,420 --> 00:22:25,570
configure the ID settings because every

00:22:21,620 --> 00:22:29,120
single class name in method name

00:22:25,570 --> 00:22:34,000
recognized by the modules is turned into

00:22:29,120 --> 00:22:37,790
a link that brings us to the configured

00:22:34,000 --> 00:22:40,610
editor for example in this cases HP

00:22:37,790 --> 00:22:46,460
storm so we can go directly to the

00:22:40,610 --> 00:22:49,580
correct file and correct line of of this

00:22:46,460 --> 00:22:52,310
method and we can configure this

00:22:49,580 --> 00:22:55,460
rationality here we can configure the

00:22:52,310 --> 00:22:58,300
database settings for example to solve

00:22:55,460 --> 00:23:01,820
the query log by source of hydration and

00:22:58,300 --> 00:23:05,570
when light appear it because it's low

00:23:01,820 --> 00:23:08,750
and we can also pour the precise

00:23:05,570 --> 00:23:10,970
directly from this configuration page in

00:23:08,750 --> 00:23:14,510
the reports section under the web

00:23:10,970 --> 00:23:17,030
profiler menu item we find up you with

00:23:14,510 --> 00:23:20,180
all store profiles which is useful for

00:23:17,030 --> 00:23:23,570
viewing post profile and to analyze

00:23:20,180 --> 00:23:27,260
profile collected during non HTML

00:23:23,570 --> 00:23:28,039
responses like 80 icons for example just

00:23:27,260 --> 00:23:30,950
click

00:23:28,039 --> 00:23:33,470
on the token link to go to the dashboard

00:23:30,950 --> 00:23:36,580
for that profile thank you for listening

00:23:33,470 --> 00:23:40,039
and if you have any questions about

00:23:36,580 --> 00:23:54,320
profiler feel free to ping me on Japan

00:23:40,039 --> 00:23:56,299
tutorial on our IRC thank you okay so

00:23:54,320 --> 00:24:01,639
web Prior web profiler is kind of

00:23:56,299 --> 00:24:06,259
incredible we've never had that much

00:24:01,639 --> 00:24:11,359
insight using just your browser into the

00:24:06,259 --> 00:24:13,279
page construction of a Drupal page so

00:24:11,359 --> 00:24:14,649
you know the collector system that

00:24:13,279 --> 00:24:16,940
Symphony came up with and the

00:24:14,649 --> 00:24:18,710
implementation of different collectors

00:24:16,940 --> 00:24:21,169
and the whole user experience around

00:24:18,710 --> 00:24:23,809
that is exceptional in this module so

00:24:21,169 --> 00:24:26,269
really encourage people to use that and

00:24:23,809 --> 00:24:30,979
learn about Drupal 8 with this module

00:24:26,269 --> 00:24:34,429
enabled one thing that Luka didn't get

00:24:30,979 --> 00:24:37,009
into here is that there is integration

00:24:34,429 --> 00:24:41,690
with the XH prof module with web

00:24:37,009 --> 00:24:44,419
profiler you can see here that you know

00:24:41,690 --> 00:24:47,840
web profiler is good for collecting

00:24:44,419 --> 00:24:51,229
Drupal data but if you need PHP function

00:24:47,840 --> 00:24:53,659
level data to do performance evaluation

00:24:51,229 --> 00:24:57,109
you're you know as always you're going

00:24:53,659 --> 00:25:00,289
to need xh prof or it's newer and cooler

00:24:57,109 --> 00:25:05,720
cousin tied ways which is available for

00:25:00,289 --> 00:25:08,509
PHP 7 if you enable the Drupal XH Croft

00:25:05,720 --> 00:25:11,559
module it will go ahead and and work

00:25:08,509 --> 00:25:16,599
with web profiler to collect and display

00:25:11,559 --> 00:25:16,599
function level profiling information

00:25:21,070 --> 00:25:28,180
a little bit about one of the sub

00:25:23,800 --> 00:25:30,880
modules called de velde generate in in

00:25:28,180 --> 00:25:33,460
developer relate this one has been in

00:25:30,880 --> 00:25:35,490
developer quite a while but the

00:25:33,460 --> 00:25:39,310
architecture underneath changed in

00:25:35,490 --> 00:25:41,410
Drupal 8 and I'm excited about that I

00:25:39,310 --> 00:25:44,590
helped get a patch into Drupal core

00:25:41,410 --> 00:25:47,140
during the eighth cycle such that fields

00:25:44,590 --> 00:25:49,930
when they're defined in the system email

00:25:47,140 --> 00:25:53,860
field telephone field text field

00:25:49,930 --> 00:25:57,310
integers that stuff they are now able to

00:25:53,860 --> 00:26:01,450
generate their own example data alright

00:25:57,310 --> 00:26:05,050
so they know what their limitations are

00:26:01,450 --> 00:26:08,620
per instance so if you say that like

00:26:05,050 --> 00:26:12,970
there can only be three values on a

00:26:08,620 --> 00:26:15,250
certain select widget or I have an

00:26:12,970 --> 00:26:19,090
integer field that only expects zero to

00:26:15,250 --> 00:26:23,820
nine all of the generated sample data

00:26:19,090 --> 00:26:26,140
will be valid for that instance okay and

00:26:23,820 --> 00:26:29,440
developing to do with that anymore it's

00:26:26,140 --> 00:26:31,840
really about field definition email

00:26:29,440 --> 00:26:34,660
modules know how the email field type

00:26:31,840 --> 00:26:37,540
module knows how to generate sample data

00:26:34,660 --> 00:26:39,850
for emails and so on and so forth so the

00:26:37,540 --> 00:26:44,110
upshot of this improvement in eight is

00:26:39,850 --> 00:26:46,960
that there's less code in develop to

00:26:44,110 --> 00:26:49,060
call the generate sample data method on

00:26:46,960 --> 00:26:54,040
a field and it goes head and hands that

00:26:49,060 --> 00:26:59,080
back and of course develop orts all

00:26:54,040 --> 00:27:02,040
field types so we don't have to take

00:26:59,080 --> 00:27:04,360
requests and fulfill requests for

00:27:02,040 --> 00:27:06,360
obscure field types they already should

00:27:04,360 --> 00:27:09,730
work with developing

00:27:06,360 --> 00:27:11,320
so that's a nice improvement for the

00:27:09,730 --> 00:27:14,860
belgian rate and for core and Drupal

00:27:11,320 --> 00:27:16,690
eight if you guys haven't used the veldt

00:27:14,860 --> 00:27:20,140
generate just a little bit about what it

00:27:16,690 --> 00:27:23,950
does if you're building a site and your

00:27:20,140 --> 00:27:25,990
client hasn't put any data into it this

00:27:23,950 --> 00:27:29,200
is really handy for just putting lorem

00:27:25,990 --> 00:27:32,020
ipsum data into your text fields numbers

00:27:29,200 --> 00:27:33,680
into your integer fields users into your

00:27:32,020 --> 00:27:37,910
user table

00:27:33,680 --> 00:27:40,970
and you know can can populate just about

00:27:37,910 --> 00:27:43,610
any content type and now your site looks

00:27:40,970 --> 00:27:45,620
rich and it can help you do theming

00:27:43,610 --> 00:27:49,430
because there's actual content in there

00:27:45,620 --> 00:27:52,430
you can demo to a client and sort of get

00:27:49,430 --> 00:27:54,740
your project moving in advance of actual

00:27:52,430 --> 00:27:56,240
code of actual content which you

00:27:54,740 --> 00:27:57,680
actually don't want in the beginning of

00:27:56,240 --> 00:28:00,470
your project because you wipe your

00:27:57,680 --> 00:28:03,560
database regularly and so forth so just

00:28:00,470 --> 00:28:06,350
a quick pitch for develop generate spell

00:28:03,560 --> 00:28:08,810
generate has two interfaces for actually

00:28:06,350 --> 00:28:10,850
generating all of this information you

00:28:08,810 --> 00:28:14,150
can use web forms

00:28:10,850 --> 00:28:16,430
there's usual admin pages for generating

00:28:14,150 --> 00:28:18,320
and there's also dress integration too

00:28:16,430 --> 00:28:21,290
if you prefer to use the command line

00:28:18,320 --> 00:28:24,470
it's super fast and easy to generate 50

00:28:21,290 --> 00:28:28,240
users and 100 nodes along with three

00:28:24,470 --> 00:28:28,240
comments and all of that sort of stuff

00:28:30,520 --> 00:28:36,560
okay so I guess I'm going to pause here

00:28:34,010 --> 00:28:38,270
and just make it into more of a

00:28:36,560 --> 00:28:41,690
conversation if people want to talk

00:28:38,270 --> 00:28:42,920
about devel once the questions slowed

00:28:41,690 --> 00:28:47,390
down I'll probably do a little bit more

00:28:42,920 --> 00:28:49,100
demoing but I've shown enough and I want

00:28:47,390 --> 00:28:52,940
to get the questions going if there are

00:28:49,100 --> 00:28:55,730
any yeah if you guys could just line up

00:28:52,940 --> 00:29:01,280
at the mic that would be awesome so um

00:28:55,730 --> 00:29:05,020
this is on so I've been having major

00:29:01,280 --> 00:29:09,320
front-end performance issues with kinton

00:29:05,020 --> 00:29:12,350
any array it's a you know above a

00:29:09,320 --> 00:29:15,680
certain size it literally goes freezable

00:29:12,350 --> 00:29:21,260
browser is there any movement to address

00:29:15,680 --> 00:29:23,180
that issue there may be a movement I'm

00:29:21,260 --> 00:29:25,820
not familiar with whether there is or

00:29:23,180 --> 00:29:30,130
not you know Kent is a third-party

00:29:25,820 --> 00:29:32,540
project and so I am NOT following how

00:29:30,130 --> 00:29:34,670
they're dressing you know large

00:29:32,540 --> 00:29:36,440
variables that need to be printed so I

00:29:34,670 --> 00:29:38,300
guess I can't really answer that because

00:29:36,440 --> 00:29:43,850
I would add a follow-up then is there

00:29:38,300 --> 00:29:45,410
any consideration of other crew mode

00:29:43,850 --> 00:29:46,740
like the tools that might be more

00:29:45,410 --> 00:29:49,200
performant getting that in

00:29:46,740 --> 00:29:53,670
to dull core yeah I mean I think that we

00:29:49,200 --> 00:29:56,280
recognize that that people have

00:29:53,670 --> 00:29:58,410
different needs here and I mentioned one

00:29:56,280 --> 00:30:00,660
called the symphony VAR dumper I'd

00:29:58,410 --> 00:30:02,670
encourage you to download the fire

00:30:00,660 --> 00:30:04,440
dumper module which makes that plug-in

00:30:02,670 --> 00:30:06,720
available and then just go to your

00:30:04,440 --> 00:30:12,690
develop settings page and pick Symphony

00:30:06,720 --> 00:30:16,440
var dumper you know if the web profiler

00:30:12,690 --> 00:30:18,480
can catch like brush type screens like

00:30:16,440 --> 00:30:25,830
in a catch address cron run that kind of

00:30:18,480 --> 00:30:28,410
thing I think that that's possible I'm

00:30:25,830 --> 00:30:30,510
not a hundred percent sure but I think

00:30:28,410 --> 00:30:33,690
it can catch requests like that I know

00:30:30,510 --> 00:30:36,120
for example that it catches non HTML

00:30:33,690 --> 00:30:37,679
responses and you can go pick them out

00:30:36,120 --> 00:30:43,350
from a list I think that Luca showed

00:30:37,679 --> 00:30:45,480
that there so CLI initiated responses

00:30:43,350 --> 00:30:47,309
I'm not sure though I don't see a

00:30:45,480 --> 00:30:49,710
technical reason why it wouldn't be

00:30:47,309 --> 00:30:52,020
possible and it would be handy for

00:30:49,710 --> 00:30:56,070
getting performance about CLI requests

00:30:52,020 --> 00:30:57,420
so I can see the need for that I

00:30:56,070 --> 00:30:59,940
actually have two questions

00:30:57,420 --> 00:31:01,530
number one on the switching users did

00:30:59,940 --> 00:31:03,030
you ever consider putting in like a link

00:31:01,530 --> 00:31:05,250
to where you can click on it after

00:31:03,030 --> 00:31:07,020
you've selected the user that has lesser

00:31:05,250 --> 00:31:08,340
permissions just to return to the role

00:31:07,020 --> 00:31:14,309
instead of having to log out and log

00:31:08,340 --> 00:31:17,100
back in yeah so yeah I can see the

00:31:14,309 --> 00:31:19,890
usefulness of that too it's just that

00:31:17,100 --> 00:31:23,340
you have to really explicitly override

00:31:19,890 --> 00:31:24,900
that person's permission set in order to

00:31:23,340 --> 00:31:29,670
provide such a link because they're not

00:31:24,900 --> 00:31:31,950
allowed to do that so you'll in that

00:31:29,670 --> 00:31:36,030
sense you're sort of half masquerading

00:31:31,950 --> 00:31:37,860
or worse you're two people at once you

00:31:36,030 --> 00:31:41,610
you are the masquerade II and the

00:31:37,860 --> 00:31:43,170
masquerader at once and so I can

00:31:41,610 --> 00:31:44,970
definitely see the user experience

00:31:43,170 --> 00:31:48,420
benefit of that but I'm a little

00:31:44,970 --> 00:31:50,190
hesitant to try to be two things at once

00:31:48,420 --> 00:31:53,790
on a Drupal page Drupal's not built for

00:31:50,190 --> 00:31:56,850
that ok yeah the other one was about xh

00:31:53,790 --> 00:31:58,890
prof you mentioned the drupal module is

00:31:56,850 --> 00:32:00,450
it a specific group of module or just xh

00:31:58,890 --> 00:32:03,060
prof installed front on the

00:32:00,450 --> 00:32:06,720
yeah there's well there's two components

00:32:03,060 --> 00:32:08,700
to xh prof one is the durable module the

00:32:06,720 --> 00:32:10,650
drupal control you'll want to install

00:32:08,700 --> 00:32:13,950
that and I think that once you install

00:32:10,650 --> 00:32:17,510
that it will do a check to see if you

00:32:13,950 --> 00:32:21,450
have the PHP extension called xh prof or

00:32:17,510 --> 00:32:23,550
its alternative tied ways and you have

00:32:21,450 --> 00:32:28,200
to have one of those for that module to

00:32:23,550 --> 00:32:29,880
work do you see that that bottom bar the

00:32:28,200 --> 00:32:31,530
web profilers does that pretty much

00:32:29,880 --> 00:32:35,790
replace New Relic when you have that

00:32:31,530 --> 00:32:37,670
installed um I mean is it that kind of I

00:32:35,790 --> 00:32:41,670
don't think so it's like that New Relic

00:32:37,670 --> 00:32:43,920
for one thing has like over time that

00:32:41,670 --> 00:32:45,750
sort of time series

00:32:43,920 --> 00:32:48,090
performance data and so you can look

00:32:45,750 --> 00:32:50,040
back over the last month and see like it

00:32:48,090 --> 00:32:53,640
was this release when my performance

00:32:50,040 --> 00:32:55,290
tanked and you know I haven't used New

00:32:53,640 --> 00:32:57,240
Relic in a while so I can't say if the

00:32:55,290 --> 00:33:00,120
actual request by request data is the

00:32:57,240 --> 00:33:01,860
same maybe other people can chime in and

00:33:00,120 --> 00:33:03,000
say what the differences might be but I

00:33:01,860 --> 00:33:05,520
think definitely that sort of

00:33:03,000 --> 00:33:07,700
time-series aspect is substantially

00:33:05,520 --> 00:33:07,700
different

00:33:37,050 --> 00:33:48,430
all right thank you yeah all right yeah

00:33:43,750 --> 00:33:51,250
it's a good question if people want to

00:33:48,430 --> 00:33:53,470
share like how they're using devel or

00:33:51,250 --> 00:34:03,490
tips or anything like that that I'm

00:33:53,470 --> 00:34:05,760
welcome for that too so it's small tip

00:34:03,490 --> 00:34:09,630
that I have to share with using kink I

00:34:05,760 --> 00:34:12,250
read it I think in the blog of my canelo

00:34:09,630 --> 00:34:13,929
many people make the mistake of clicking

00:34:12,250 --> 00:34:16,030
on the arrow which seems to make sense

00:34:13,929 --> 00:34:18,520
and in my experience that what takes

00:34:16,030 --> 00:34:21,159
minutes of loading and everything

00:34:18,520 --> 00:34:23,770
instead if you try I think it's clicking

00:34:21,159 --> 00:34:27,659
the title that gives like a very short

00:34:23,770 --> 00:34:33,310
array of what you really wanted to see

00:34:27,659 --> 00:34:36,190
okay so beware where you click there

00:34:33,310 --> 00:34:38,980
maybe there's a user experience lesson

00:34:36,190 --> 00:34:40,929
in there but click on the title of the

00:34:38,980 --> 00:34:44,760
thing you want and not the arrow next to

00:34:40,929 --> 00:34:48,040
it the arrows like and expand all right

00:34:44,760 --> 00:34:50,080
the plus yeah that's better not it's not

00:34:48,040 --> 00:34:54,909
an arrow as a plus yeah don't do the

00:34:50,080 --> 00:34:58,450
plus though do the title here little bad

00:34:54,909 --> 00:35:04,690
if he says yes will deville help

00:34:58,450 --> 00:35:06,250
identify missing dependencies I don't

00:35:04,690 --> 00:35:09,700
think so

00:35:06,250 --> 00:35:13,330
now Drupal has many things that calls

00:35:09,700 --> 00:35:15,310
dependencies but for the things I'm

00:35:13,330 --> 00:35:17,890
thinking of davell really isn't part of

00:35:15,310 --> 00:35:21,220
that you know the first thing about

00:35:17,890 --> 00:35:23,590
dependencies is composure dependencies

00:35:21,220 --> 00:35:27,250
right your modules depend on composer

00:35:23,590 --> 00:35:29,500
libraries being available and Drupal

00:35:27,250 --> 00:35:31,870
dependencies Drupal module dependencies

00:35:29,500 --> 00:35:33,370
that can depend on each other so devel

00:35:31,870 --> 00:35:34,170
doesn't really participate in that

00:35:33,370 --> 00:35:37,769
system

00:35:34,170 --> 00:35:41,369
both composure and Drupal have systems

00:35:37,769 --> 00:35:43,499
that enforce those dependencies so yeah

00:35:41,369 --> 00:35:45,749
it doesn't it does a lot of developer

00:35:43,499 --> 00:35:47,819
ish things for you but there are other

00:35:45,749 --> 00:35:56,900
developer things that handle those two

00:35:47,819 --> 00:35:56,900
cases anyway yeah okay oh yeah go ahead

00:35:58,700 --> 00:36:04,739
out of curiosity not so what profile

00:36:02,239 --> 00:36:06,359
profiler when you disable it what

00:36:04,739 --> 00:36:08,819
happens to the data those increments in

00:36:06,359 --> 00:36:10,579
the database is destroy or what happens

00:36:08,819 --> 00:36:14,579
to that data yeah it's a good question

00:36:10,579 --> 00:36:17,160
so in the settings for web profiler you

00:36:14,579 --> 00:36:20,670
have the option of storing your data as

00:36:17,160 --> 00:36:23,369
files in your file system or in your

00:36:20,670 --> 00:36:27,239
database okay

00:36:23,369 --> 00:36:30,869
in addition you have some control over

00:36:27,239 --> 00:36:32,640
when that data gets purged alright there

00:36:30,869 --> 00:36:36,299
was a checkbox that we saw in the movie

00:36:32,640 --> 00:36:38,519
that said purge on cache clear that's a

00:36:36,299 --> 00:36:40,769
relatively easy way to make sure that

00:36:38,519 --> 00:36:44,880
you don't have thousands of these lying

00:36:40,769 --> 00:36:46,650
around if you check that box then you'll

00:36:44,880 --> 00:36:50,150
just have sort of the most recent ones

00:36:46,650 --> 00:36:57,269
around which is typically all you need

00:36:50,150 --> 00:36:59,809
and there are other systems that do more

00:36:57,269 --> 00:37:02,519
interesting things by saving runs

00:36:59,809 --> 00:37:04,470
Blackfyre is another profiling tool

00:37:02,519 --> 00:37:06,900
that's pretty cool and you can have like

00:37:04,470 --> 00:37:09,119
a model run and that gets saved and you

00:37:06,900 --> 00:37:12,029
compare subsequent runs against the

00:37:09,119 --> 00:37:15,499
model run that's not really what web

00:37:12,029 --> 00:37:19,670
profiler is all about that's kind of a

00:37:15,499 --> 00:37:28,079
performance optimization specific tool

00:37:19,670 --> 00:37:31,220
that is quite cool yeah okay so let's

00:37:28,079 --> 00:37:31,220
take a look at these web pages

00:37:39,190 --> 00:37:46,150
okay here I have a Drupal 8 site with

00:37:46,270 --> 00:37:56,600
developed on the devel I to me

00:37:50,360 --> 00:37:58,700
toolbar and I have the toolbar in this

00:37:56,600 --> 00:38:05,690
vertical mode so it's exposing all of

00:37:58,700 --> 00:38:09,020
these pages that developers okay the one

00:38:05,690 --> 00:38:12,710
it's had since disco is config is cache

00:38:09,020 --> 00:38:16,490
clear there's an easy way to kill clear

00:38:12,710 --> 00:38:21,050
your cache you'll remember a screenshot

00:38:16,490 --> 00:38:23,390
about the config editor here it is in

00:38:21,050 --> 00:38:28,070
action we can take our aggregator

00:38:23,390 --> 00:38:30,110
settings config we can read exactly

00:38:28,070 --> 00:38:32,840
what's in it here this is the yeah Mille

00:38:30,110 --> 00:38:37,160
and we can change the value if we're so

00:38:32,840 --> 00:38:39,340
inclined save it and then this current

00:38:37,160 --> 00:38:41,540
website has different configuration

00:38:39,340 --> 00:38:44,990
presumably you'd want to export that to

00:38:41,540 --> 00:38:55,880
config it and go ahead with the fancy

00:38:44,990 --> 00:38:58,580
workflow that we have in Drupal 8 this

00:38:55,880 --> 00:39:01,430
one came up in the introduction as well

00:38:58,580 --> 00:39:12,520
container services you can click here

00:39:01,430 --> 00:39:12,520
and filter somehow

00:39:15,440 --> 00:39:20,240
anyway here yeah it is filtering these

00:39:18,049 --> 00:39:22,549
are the user ones user off user

00:39:20,240 --> 00:39:26,720
authentication the corresponding class

00:39:22,549 --> 00:39:32,000
and lots more information about this

00:39:26,720 --> 00:39:35,390
service user off okay so this is really

00:39:32,000 --> 00:39:38,049
the equivalent of browsing its services

00:39:35,390 --> 00:39:38,049
yml file

00:39:46,100 --> 00:39:52,440
instance parameters I honestly have not

00:39:48,810 --> 00:40:03,330
looked in here there's a lot of stuff in

00:39:52,440 --> 00:40:07,590
here that I'm not sure what it does so

00:40:03,330 --> 00:40:10,430
the route detail in this case is like

00:40:07,590 --> 00:40:14,880
the current route that we're looking at

00:40:10,430 --> 00:40:19,520
in this case it happens to be develop a

00:40:14,880 --> 00:40:19,520
j-- but you can change this query string

00:40:21,320 --> 00:40:36,930
parameter writing definition for is that

00:40:28,530 --> 00:40:47,570
a path so no I picked so I just put the

00:40:36,930 --> 00:40:50,780
UID maybe splash before user oh yeah

00:40:47,570 --> 00:40:50,780
thanks everyone

00:40:51,210 --> 00:41:01,140
okay so for this route here's the detail

00:40:56,300 --> 00:41:03,450
okay I guess it's it's more informative

00:41:01,140 --> 00:41:06,060
than the routing yml file which is a

00:41:03,450 --> 00:41:07,980
definition only this has values in it so

00:41:06,060 --> 00:41:12,240
you can see the value of two has made it

00:41:07,980 --> 00:41:15,210
into the the actual user object is here

00:41:12,240 --> 00:41:17,610
and it's UID is two and so forth and so

00:41:15,210 --> 00:41:21,480
on so the the system has already

00:41:17,610 --> 00:41:24,620
translated the two in the in the path to

00:41:21,480 --> 00:41:24,620
its corresponding object

00:41:34,579 --> 00:41:39,780
information about the entity system

00:41:36,569 --> 00:41:45,299
right here here's a big array this is

00:41:39,780 --> 00:41:46,470
the action entity there's lots of

00:41:45,299 --> 00:41:48,750
entities in the system configuration

00:41:46,470 --> 00:41:56,940
entities you can learn more about them

00:41:48,750 --> 00:42:01,950
here the quite traditional execute PHP

00:41:56,940 --> 00:42:04,170
text field remains in devel fortunately

00:42:01,950 --> 00:42:07,530
it does not remain in Drupal core itself

00:42:04,170 --> 00:42:10,079
that got removed in Drupal 8 but if you

00:42:07,530 --> 00:42:11,819
are a fan of that feature it's available

00:42:10,079 --> 00:42:18,720
for you and devel which is probably

00:42:11,819 --> 00:42:22,799
where it belongs the whole time here's a

00:42:18,720 --> 00:42:24,990
field information report it's a better

00:42:22,799 --> 00:42:28,289
and different presentation of the same

00:42:24,990 --> 00:42:31,619
information core provides a field report

00:42:28,289 --> 00:42:33,930
in the reports section of the admin

00:42:31,619 --> 00:42:36,240
system here's one a little different all

00:42:33,930 --> 00:42:39,059
your field definitions and their

00:42:36,240 --> 00:42:48,260
instances and so forth and so on are

00:42:39,059 --> 00:42:48,260
here yeah there's a lot of stuff here

00:42:49,279 --> 00:42:53,099
you know every so often in addition to

00:42:51,569 --> 00:42:56,460
clearing cache you want to rebuild your

00:42:53,099 --> 00:42:58,710
menu system that's here reinstalling a

00:42:56,460 --> 00:43:00,750
module can be handy if it's

00:42:58,710 --> 00:43:03,900
configuration or it's data is messed up

00:43:00,750 --> 00:43:06,450
you can go ahead and just click which

00:43:03,900 --> 00:43:08,279
modules you want to reinstall and they

00:43:06,450 --> 00:43:13,200
will get uninstalled and installed for

00:43:08,279 --> 00:43:15,690
you cleanly so that can be handy again

00:43:13,200 --> 00:43:17,609
use it wisely you'll definitely lose all

00:43:15,690 --> 00:43:23,250
the data that was being saved by that

00:43:17,609 --> 00:43:25,910
module by design quickly run cron and

00:43:23,250 --> 00:43:27,990
see what that's going to do for you

00:43:25,910 --> 00:43:33,299
Tavella has had that for a long time it

00:43:27,990 --> 00:43:36,569
continues to offer that and a little bit

00:43:33,299 --> 00:43:40,289
of information about the session namely

00:43:36,569 --> 00:43:41,579
the name and value so definitely don't

00:43:40,289 --> 00:43:42,490
copy and paste and send it to your

00:43:41,579 --> 00:43:44,500
friends this is

00:43:42,490 --> 00:43:49,720
secret information at least the value

00:43:44,500 --> 00:43:51,880
part is and just some more variable

00:43:49,720 --> 00:43:58,090
information about what is stored along

00:43:51,880 --> 00:44:03,369
with the current session so that's a

00:43:58,090 --> 00:44:08,770
look at devel I think we have a few more

00:44:03,369 --> 00:44:20,460
minutes I can potentially show you some

00:44:08,770 --> 00:44:20,460
other stuff let's see if that works out

00:44:31,850 --> 00:44:37,180
oh I see different things than you see

00:44:34,250 --> 00:44:40,670
okay

00:44:37,180 --> 00:44:44,380
let's try to move this up I'm enabling

00:44:40,670 --> 00:44:50,930
the web profiler module there it goes

00:44:44,380 --> 00:44:55,060
maybe move it down to here okay so if I

00:44:50,930 --> 00:44:58,310
take a regular old page here

00:44:55,060 --> 00:45:02,600
maybe this page let's see if I get a web

00:44:58,310 --> 00:45:10,940
profiler at the bottom make sure you can

00:45:02,600 --> 00:45:12,710
see the bottom there it goes okay so on

00:45:10,940 --> 00:45:15,170
the left-hand side it tells you what

00:45:12,710 --> 00:45:18,320
version of Drupal you're running which

00:45:15,170 --> 00:45:21,980
is handy here I'm running a very recent

00:45:18,320 --> 00:45:24,260
version and you know there's some pretty

00:45:21,980 --> 00:45:26,840
interesting stuff here namely what git

00:45:24,260 --> 00:45:29,470
commits I have checked out for the

00:45:26,840 --> 00:45:31,790
current code base is written right here

00:45:29,470 --> 00:45:35,180
so it's clearly doing a little git

00:45:31,790 --> 00:45:38,600
command to find that out so that's super

00:45:35,180 --> 00:45:42,800
nice whoa there's the actual commit

00:45:38,600 --> 00:45:46,580
message if you hover over it that is

00:45:42,800 --> 00:45:54,250
like good service right there Thank You

00:45:46,580 --> 00:45:54,250
Luca okay and a way to get involved

00:45:55,240 --> 00:46:04,270
okay so here's like the list of pages

00:45:59,660 --> 00:46:08,590
that you can go to the developers

00:46:04,270 --> 00:46:11,960
information about your PHP environment

00:46:08,590 --> 00:46:14,660
right here you can see which key PHP

00:46:11,960 --> 00:46:19,910
extensions I have enabled I have the X

00:46:14,660 --> 00:46:21,470
debug enabled here definitely recommend

00:46:19,910 --> 00:46:25,430
that one for all you developers out

00:46:21,470 --> 00:46:27,190
there that's how I saw hard bugs is by

00:46:25,430 --> 00:46:31,130
stepping through them in the debugger

00:46:27,190 --> 00:46:32,510
that's how I learned rupal so definitely

00:46:31,130 --> 00:46:34,370
use the debugger instead of printing

00:46:32,510 --> 00:46:37,150
things all over the place I know I

00:46:34,370 --> 00:46:39,770
showed you ways to print variables but

00:46:37,150 --> 00:46:43,840
that's not really the way you can deal

00:46:39,770 --> 00:46:45,760
with difficult bugs okay

00:46:43,840 --> 00:46:47,380
the current route name for the page

00:46:45,760 --> 00:46:51,220
you're looking at here in this case it's

00:46:47,380 --> 00:46:52,750
NCT user canonical it's going to be a

00:46:51,220 --> 00:46:59,530
little hard for people in the back to

00:46:52,750 --> 00:47:00,970
see this I apologize and just like de

00:46:59,530 --> 00:47:05,020
velas always done you're sort of memory

00:47:00,970 --> 00:47:10,090
snapshots here of memory available and

00:47:05,020 --> 00:47:13,720
memory used not in that order and the

00:47:10,090 --> 00:47:16,510
front end timing for this request which

00:47:13,720 --> 00:47:20,140
is pretty interesting DNS lookup was

00:47:16,510 --> 00:47:23,620
really fast tcp was fast time to first

00:47:20,140 --> 00:47:27,250
byte was slow you know I had just

00:47:23,620 --> 00:47:29,440
enabled a module for this request let's

00:47:27,250 --> 00:47:32,940
see if I do it again if it's faster yeah

00:47:29,440 --> 00:47:35,230
that was definitely faster 739

00:47:32,940 --> 00:47:37,870
milliseconds for this request so that's

00:47:35,230 --> 00:47:42,760
in the neighborhood of reasonable for

00:47:37,870 --> 00:47:45,880
Drupal these days and the number of

00:47:42,760 --> 00:47:48,460
queries and you'll remember that Luca

00:47:45,880 --> 00:47:51,190
clicks on these collectors and you get

00:47:48,460 --> 00:47:52,630
lots more detail when you hover over

00:47:51,190 --> 00:47:54,070
these collectors it's just summary

00:47:52,630 --> 00:47:56,590
information there's lots more detail

00:47:54,070 --> 00:48:03,520
behind them so go ahead and do that when

00:47:56,590 --> 00:48:11,550
you get a chance anyone have a question

00:48:03,520 --> 00:48:11,550
on their minds right here go ahead

00:48:17,319 --> 00:48:22,839
I didn't hear too well all of the

00:48:18,729 --> 00:48:27,999
article routes that yeah there is an

00:48:22,839 --> 00:48:29,739
available routes that was current route

00:48:27,999 --> 00:48:37,599
but I think that there's another one

00:48:29,739 --> 00:48:48,339
which is route info yeah this is all of

00:48:37,599 --> 00:48:52,420
the available routes user switches a

00:48:48,339 --> 00:48:56,319
block yeah so I have disabled that block

00:48:52,420 --> 00:48:58,209
on the current install but definitely

00:48:56,319 --> 00:49:10,180
look at your blocks and you'll find a

00:48:58,209 --> 00:49:12,160
couple blocks related to develop err the

00:49:10,180 --> 00:49:16,809
question was does this work better with

00:49:12,160 --> 00:49:19,630
one debugger over the other yeah we have

00:49:16,809 --> 00:49:22,959
to define debugger I guess but if you

00:49:19,630 --> 00:49:24,849
mean the dumper plug-in I think the ones

00:49:22,959 --> 00:49:28,539
that that most people are using is that

00:49:24,849 --> 00:49:31,749
var dumper plug-in if you're talking

00:49:28,539 --> 00:49:33,849
about like X to bug debugging that's

00:49:31,749 --> 00:49:37,089
really the one that everyone uses is X

00:49:33,849 --> 00:49:38,859
debug so yeah it takes a little effort

00:49:37,089 --> 00:49:41,319
to get it installed on your system it's

00:49:38,859 --> 00:49:42,579
a PHP extension so you have to interact

00:49:41,319 --> 00:49:45,160
with your environment of it but it's

00:49:42,579 --> 00:49:47,679
definitely worth it and it works really

00:49:45,160 --> 00:49:49,449
well with phpstorm and NetBeans and

00:49:47,679 --> 00:49:55,239
other things you might be using so

00:49:49,449 --> 00:49:57,759
definitely recommend that one all right

00:49:55,239 --> 00:49:59,529
well let's break there feel free to come

00:49:57,759 --> 00:50:02,069
up and talk more about developer thanks

00:49:59,529 --> 00:50:02,069
for coming everyone

00:50:06,410 --> 00:50:12,600
and as you've been hearing all day there

00:50:10,620 --> 00:50:14,760
Sprint's first time sprinter workshop

00:50:12,600 --> 00:50:18,150
mentor course sprint general sprints

00:50:14,760 --> 00:50:24,780
join us on Friday for those and don't

00:50:18,150 --> 00:50:25,500
forget to rate the session all right

00:50:24,780 --> 00:50:29,780
buh-bye

00:50:25,500 --> 00:50:29,780

YouTube URL: https://www.youtube.com/watch?v=-3hEWLdtWRk


