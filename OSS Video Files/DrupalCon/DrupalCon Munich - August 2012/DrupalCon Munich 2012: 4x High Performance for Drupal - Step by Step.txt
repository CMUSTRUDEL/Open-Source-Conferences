Title: DrupalCon Munich 2012: 4x High Performance for Drupal - Step by Step
Publication date: 2013-03-29
Playlist: DrupalCon Munich - August 2012
Description: 
	Drupal Performance can be divided broadly into 4 Categories:

* Server
* Client
* Modules
* Database

This session will show how to setup technologies for getting the expected base line performance for each of those and giving a good overview of what can be tweaked.

Server: APC, Memcache, Varnish
Client: GZIP, Fast JS, Minimal CSS, Caching Headers, AJAX/PJAX
Modules / PHP / Drupal Code: Common problems, XHProf (fast installation), Custom Caching, Block Cache Alter, Core Patches
Database: Common Tweaks, InnoDB, Slow Query Detection, Slow Query Fixing
The session will show step-by-step approaches how to gradually make the site faster.

It is aimed at beginners in DevOps, but will give a broad overview to know where to look for performance problems and what to do.
Captions: 
	                              how are you how I've been your day let's                               didn't sound too cheerful are you all                               tired already from lots of sessions                               interesting things I can't understand it                               and I realized that the last slot on                               every day always is kind of a different                               slot when we try to have some fun and                               have a nice session learn some little                               things but there's one thing if there's                                any performance pro in here I'll spot                                you and so um this is a beginner session                                it is beginner level there will be some                                things where you'll be like whoa what is                                that I've never seen that before but                                this is by one reason because if you've                                seen it now once you need it actually                                you have already seen it once and you                                know what it does and that there is                                something like this so maybe some parts                                might be a little different a difficult                                to understand but it will help you in                                the future for sure so and as I said                                let's have some fun so anyone that just                                wants to cause trouble or doesn't like                                beginner sessions or fun sessions please                                leave the room now last chance so um our                                topic today is high performance Drupal                                four times high performance for Drupal                                and it's done step by step what will                                today cover different things but let me                                begin with a very very sad story this is                                actually a real post on groups the                                triple dot org and it goes like this                                where is the power of Drupal I hate                                Drupal isn't that sad                                so and it always overlords the database                                sometimes the Lord reach                                           never reach it before an able quad cash                                into server go down the next day I think                                that's a real sad story I get you the                                link so if anyone wants to verify you                                can do that this money is also really                                sad that this was happening so I think                                let's do something against this let's                                get you some knowledge so that this is                                never happening again and I never have                                to read something like this again in                                general there is still a very much need                                for high performance it is like that                                very simple if you have a faster site                                you earn more money you get higher in                                Google you your visitors are like I mean                                if you were a visual time do you come to                                some site you want to buy something and                                then you're just saying huh it takes two                                minutes already I think I'll just leave                                it by sometime else and sometime else                                usually never happens so there is a need                                for high performance and it would be                                good if the Drupal community as a whole                                would have set knowledge and that's kind                                of what you want to do so my site is so                                slow help what can I do your visitors                                are going to love the fast sides if you                                have a fast side sales say like wow this                                height is really slick and it will                                automatically gain you an advantage in                                comparison to your competition us until                                they seized assessment session recording                                obviously but till then you get little                                edge the other thing is and that happens                                more often then you can sing off give a                                nice website and suddenly some big media                                comes like big news com is coming to you                                it's saying hey but be really really                                great if we could feature your website                                we really think it's good and you say                                well let's do that and then the big day                                comes your website is featured you could                                do millions of sales and it's down                                because it was just not made for this                                amount of traffic so the real bat here                                is how do i get a blazingly fast site I                                want something like this let's first                                take a look at how to do things wrong                                for example what i could do is um well                                life now crew tweaked my sauerkraut                                settings and i enabled some other                                sauerkraut settings and it's still not                                fast like XY that com why is that I                                treat them as long as I could and                                sauerkraut in this case is a PC but we                                are not yet they are so I just replaced                                the word because it could stand for                                anything like you're just trying to                                really change one thing and you tweak it                                wicked wicked wicked wicked and nothing                                happens um the other thing is well I've                                set up tents life TBH servers my site is                                 still slow what's happening I read on                                 the internet I just need many slave DB                                 servers then it will be fast the other                                 thing is I've set up MGI NX with                                 advanced egg and one is combined this                                 entity cash boost use up cash but still                                 nothing happened so this is a person                                 that really has a bleeding edge of                                 saints and the newest technology and                                 still it does not work so I ask that                                 person have you set a memphis number                                 like of what never heard of it before so                                 the last thing is for our high traffic                                 day and this kind of true story in a way                                 i've set up the static page caching for                                 all the pages                                 the high traffic they can come what                                 could possibly go wrong and I could tell                                 you what went wrong I was on the machine                                 and I had prepared a little more than                                 this would suffer butch help so I had                                 done some tasks etc and it looked all                                 well and it wasn't that machine and I                                 was watching The Lord of the Machine and                                 suddenly there was a spike and the Lord                                 was going up from to                                                     I was pressing quit to trying to stop                                 this Apache so that I could do something                                 about it and while i was typing it I was                                 really feeling like in a movie when the                                 bomb is about to explode while i was                                 typing it could slow and slower to                                 keystroke bus taken the next keystroke                                 was taken and then bump server frozen                                 was dead we quickly switched over to a                                 failover machine so it wasn't all lost                                 but it was really really scary being on                                 the system and you cannot do anything so                                 there can always be things that can go                                 wrong so you always need to have like an                                 emergency case so but in general this                                 high-performance we all wish that we had                                 the magic pill you just follow one pearl                                 into your side as fast wouldn't it be                                 nice but unfortunately optimization is a                                 process and not a pill so from the                                 examples that we've seen before you can                                 kind of see um now in a more explanation                                 and here's what I need right so let me                                 explain this a little bit early if this                                 is your performance setup and you have                                 it nailed down every here it will                                 probably hold good but if all what                                 you're doing is putting a nail in here                                 and you're making it                                 one more it work and this is still not                                 holding up what is that so this is                                 really if you're just tweaking one thing                                 it won't work you have to work on all                                 pillows and you have to make sure that                                 you have a good bass performance then                                 this will work it so my presenting voice                                 the other thing is um that you're just                                 optimizing things but you don't know                                 where the pain is where is the pain what                                 is really happening here and if you                                 don't analyze carefully you end up in                                 scenario one where you're just trying to                                 trick something that leads to nothing                                 and the other thing is that you're                                 reading some posts and groups that                                 drupal.org and there are some nice                                 technologies and this password in this                                 password you sing well I just need to                                 install them all and then it will work                                 we are again at the magic pearl here                                 obviously so but it's not like that                                 unfortunately it does not work like this                                 so do you really want to reinvent the                                 wheel or do you want to rather stand on                                 the shoulders of guides another thing is                                 my neph explains it's already quite a                                 lot for sir example your featured on the                                 big news com get in test your site is                                 down your bus will be very angry so just                                 summarized again you can optimize one                                 part to death just some random parts                                 some parts as passwords or things                                 without testing well I think then a lot                                 of ways to fail this is all so                                 complicated                                 is it in really nothing I could do to                                 make my site fast I really only want to                                 have a pass side is this too much well                                 the easy answers higher performance                                 higher performance consultant right now                                 call zero eight-hundred Drupal                                 performance and enjoy blazingly fast                                 sites call now in this segment you will                                 have blazingly fast sites like me you'll                                 get more sales more Google hits and                                 everything so that was it now you know                                 that performance is really difficult and                                 you should have fallen societies and                                 here's a number of any question well                                 okay you got me I'm just kidding I think                                 having a performance conversion can in                                 ways be the right choice because for                                 example if in two weeks you get your                                 high traffic day is probably good to                                 contract with any of the big providers                                 that are providing services in terms of                                 high performance and letting a                                 professional do this because in two                                 weeks you will never be able to get                                 gained all the knowledge even mrs. talk                                 to be properly prepared for that but I                                 really think we should take this                                 knowledge into the Drupal community and                                 that's why I'm here because we wanted a                                 stand on the shoulders of giants and                                 walk the paths of her ancestors so                                 here's your mission loading mission file                                 with Drupal                                                   performance problems and those are real                                 life problems not really real life                                 problems because I've simulated some                                 things but it can it's all a little                                 based on my experience with certain                                 client sites where the most interesting                                 things are happening you can't imagine                                 so Dida of pages are feeling really slow                                 sluggish and big and they're really                                 unhappy this is so heavy Lord we were                                 few Lloyd role and let me get mrs. mysql                                 she's also very unhappy because she                                 needs a timeout and to talking in her                                 words it's like I really need to select                                 break and mr. patch is sweating on of                                 the Lord well I give it hundred percent                                 all the time but this is just too much I                                 mr. couch he's really baggy and you                                 should be really careful about them him                                 before he's a real troublemaker yeah so                                 to just summarize it all again we go to                                 Drupal pages most pious sluggish and                                 slow mysql mrs. mysql who's really                                 unsatisfied and has so much to do let me                                 get mr. patchy who is sweating under the                                 Lord not just because of the heat and                                 mr. kayode the troublemaker so your                                 mission and you're always me all in this                                 me here is to investigate and fix let's                                 go first of all we talked about server                                 performance let's measure so on not the                                 system i'll show you I've seen this                                 numbers and it was really shocked like                                 what is happening here                                 we get to that case later but for now we                                 can just take a look at the top command                                 and this is one way to measure things                                 you're just talk me into the server you                                 were on top and you're just noticing how                                 much Apaches using in this case you can                                 see eventually is like fully working and                                 mysql is also fully working with two                                 friends this is something very handy i                                 won't go into much detail here but you                                 can later get it from the slides or from                                 a session recording this is add rush                                 command we can easily get the time that                                 it page is taking so if you're trying to                                 optimize something in the code this can                                 be really useful to kind of                                 automatically do it and not have to                                 reload the page is it working now we                                 load the page it is working now so just                                 to give you the edge so and now we come                                 to the fore shoulders of the gods I sink                                 my mouse okay let's go here um let's                                 press that ABC ma'am cash and boost at                                 lunch so how can those help me get a                                 faster side press hello was really                                 really needed for Drupal                                             that there's still people running Drupal                                                                                                        side for some while so so it's still                                 useful to now if you want to have high                                 performance with Drupal                                                  flow absolutely drupal                                                hand fortunately already has many things                                 that presto had so there were has been                                 really great progress in terms of high                                 performance for                                                     needed so now we get to a pc which is                                 the alternative PHP cash it's highly                                 recommended it's very easy to install                                 it's a PHP extension                                 which means that if this is your code                                 again what PHP is doing its you taking                                 all of these files and it's compiling                                 them to something and this is what is                                 executed thing but obviously this takes                                 some time as you can see so what we are                                 doing with a pc is restoring a copy that                                 here so if anyone wants to have the same                                 files what we're doing is we're just                                 taking this again and be have that and                                 another question obviously is for a pc                                 is it versant so let's see                                 d                                 so what we see here is kind of we're                                 going to the network tab i right clicked                                 and selected select element inspect                                 element now i'm reloading the page here                                 in the network tab which we can now see                                 is kind of how the page is loading                                 that's very very handy for optimizing                                 and we can see it's a total of two                                 seconds this needs and it looks just                                 like it normal drupal site so what is                                 happening here let's show the other                                 example of lips if you have a PC enabled                                 so again we open the network tab and                                 then we reload the page select our                                 network tab                                 and then after a short loading time we                                 can say we are now at one dot                                            and we even logged in so ABC is really                                 gaining as much in this example why is                                 the stupid side so slow and that's kind                                 of a warning i want to give you here is                                 if you install lots of modules and you                                 don't have a pc you have a problem and                                 so let's get back to presentation I                                 would say yes APCs verse it I installed                                 quite a lot of modules there just to                                 make society slow and this can be enough                                 there's also a little back hidden here                                 as i said the code is a little                                 troublemaker year and then we come to                                 another optimization and that's memcache                                 whoever he knows what ma'am caches                                 little so um again if check one two                                 perfect works okay so um memcache is                                 very simple in a way because I'm Drupal                                 is caching sings you uh Pelias you have                                 all being in the caching session thing                                 know everything about it now it's like                                 this a pc we're just taking the finished                                 page request and we're storing it we're                                 taking a finished build blog restoring                                 it they're taking a finished filter                                 format restoring it and this one problem                                 is databases databases are really good                                 when it comes to relate                                 relational data that means you have                                 several tables which you have to combine                                 and then you get all of this data                                 combined back but a database is not good                                 for just storing data in and getting it                                 out on a prefixed key there are                                 optimization that are out of scope for                                 the session that can do this also this                                 databases and those will happen in the                                 future but until it happens we're going                                 to go with memcache and memcache is                                 really just providing one thing you got                                 a variable called Apple you're storing a                                                                                                          out of it you'll get the tan back so                                 it's really really simple and it's very                                 fast so again let's see is memcache                                 worth it here for our little scenario we                                 had a page whole time of                                                 and we'll take a look at another video                                 so one not                                                          memcache that's the normal Drupal                                 settings files so I'm just putting the                                 configuration in like cash back and                                 catch default class I've downloaded the                                 memcache module so it was quite easy one                                 to add to dem on winning and we will                                 reload the page wait a moment and here                                 we are we're down to nine ninety-six not                                 that at all so we got some out of that                                 and please note that the standard group                                 of caching is still off at this time so                                 the next comparison will be a little                                 unfair but even then I can assure you                                 that it's it wouldn't be that fast so                                 the next technology we're going to check                                 is boost and varnish this than one is do                                 something different again we have a                                 cache but this time it's not inside of                                 trouble but it's in front of frugal so                                 if Drupal is kinda here for example and                                 it's producing all of this little nice                                 glasses then we are getting them out of                                 client then obviously to manufacture a                                 glass take some time so what we're doing                                 is we're just taking a copy of the glass                                 and restoring it here and that's our                                 varnish so in memory we now have a copy                                 of the glass and as long as the same                                 input comes in here we get the same                                 glass out but instead of trooper                                 answering this request once you're                                 sitting in front and it's giving back                                 kind of the copy of copy of the class                                 I'm sorry um                                 boost on the other hand is very handy                                 because you can save files to your file                                 system that means for example if you                                 have a website with thousands of pages                                 but they are seldomly changing it can be                                 very very rewarding to save those files                                 to the to the file system and if you for                                 example we start the varnish cash due to                                 some reason all of that caching is gone                                 and also it's kind of because it's in                                 memory memory is a limited resource it's                                 a scarce resource it's an expensive                                 resource it's kind of limited so it's a                                 very good idea to just combine buscas                                 minus unless you're using nginx but                                 that's not what I cover today here and                                 then you kind of have a cache that's not                                 so often changing and you have a cash                                 that's always having the hot content so                                 what visitors are currently looking at                                 is what is there and when it can be a                                 little difficult to install though                                 usually the way problem is not                                 installing the package because on ubuntu                                 for example you're just doing ab gap                                 install varnish and you have it but it's                                 more like the configuration that's                                 difficult and for that for drupal                                      had a very nice and boosted varnish                                 configuration on our blog and we are                                 currently updating it to drupal                                        will becoming a blog post shortly I just                                 didn't get to the little freaks in the                                 end and then you can very very easily                                 have boost and varnish running together                                 and you won't have to worry about things                                 that can make using varnish complicated                                 like we will see a little later so yeah                                 that sounds pretty complicated it's in                                 everything what we have here is it verse                                 it take a look at another video                                 so this was a memcache now we're going                                 to enable varnish there's a certain rule                                 to just quickly just able varnish we we                                 lured the one server and now we load at                                 once to get the cash to Lord and now we                                 load it another time and there we go                                 five milliseconds so this is really                                 amazing fast and one is also very good                                 kind of while Apache would be sweating                                 even if it was giving out boosted like                                 static HTML files one just really really                                 good if you need highest throughput so                                 it's a very suitable choice for an high                                 traffic day                                 so let's take a look at the mission                                 update then animus page will say well we                                 are placing me fast but we still feel a                                 little big we're quite happy miss my                                 scale says as less to do know but this                                 authenticated users I don't really like                                 them mr. Apache face I've much less to                                 do now but again this animus users come                                 I so sweat and I really hate this                                 anonymous I UTM request so what's                                 happening that was actually what was                                 happening when that one server got down                                 the siding question was using google                                 analytics and there's two ways to set up                                 your l's for Google Analytics one is you                                 are having them with ? and then the UTM                                 IDs the other one is and you can just                                 have a hash mark like an angel the                                 problem was and they were using ? so we                                 are getting a new cache entry for                                 everything this is just a little one is                                 tweak that's included in the boosted                                 varnish configuration and that will just                                 remove everything google analytics                                 related and then you don't have this                                 problem anymore yeah as I said blog post                                 will come soon so take a little look at                                 Cline performance on some say pages                                 again I've seen page load size from                                 standard kilobytes and porch load times                                 from                                                                    it was not compressing sings so again                                 the best way to measure this is using                                 the google chrome developer tab which                                 have already shown previous videos so                                 why are those pages so big and the                                 answer is probably compression and                                 aggregation is off so we need to                                 compress a javascript and CSS and the                                 Drupal                                                                   it's really an administration manually                                 good development performance basis                                 little trick where you                                 can enable those settings compress                                 cached pages aggregate and compress                                 aggregate and this is something you                                 should really do before doing it go live                                 but when carry it you need more provide                                 and Moorhead us for this to work so                                 continuing there's another way that you                                 could choose for example if you're more                                 on                                                                       which is doing all of this for every                                 file that Apache is serving out and it                                 can put quite a high load on the server                                 so it's a good way to combine this with                                 varnish because one is kind of catching                                 those objects and if you set the time's                                 right for like two weeks or whatever and                                 then Apache does not need to regenerate                                 and regenerate and regenerate again also                                 a good idea Oasis to minimize the CSS                                 and JavaScript source files and two sets                                 of proper caching headers that's                                 especially needed for other varnished                                 configurations the boosted varnish                                 configuration is set up through dung                                 eaters caching headers you can set this                                 directing configuration but for example                                 for lullabies configuration you need to                                 set this hashing at us and this is again                                 done on the performance tab you cash the                                 pages for anonymous users there's a                                 minimum cash time of five minutes in an                                 expiration of one hour in this case one                                 is would catch those pages for one hour                                 and the client could catch them also for                                 a certain amount of time that can be                                 very useful because if you're saying                                 like were don't care if the client has                                 like a five minute old version or one                                 hour old version this can save a lot of                                 benefits and this bandits can be crucial                                 of this many many users at the time so                                 in Drupal                                                            there's an option to use external                                 passing or you can use the boost                                 advantage on Toronto                                 let's take a look at yes yes it's a                                 combination of punishing boost let's                                 take a look at the mission update the                                 enemy spy pages now feels fast slick and                                 they just happy really F so additional                                 techniques you could use is um you could                                 for example use a content delivery                                 network there's a drupal org CD and                                 module and this is really useful if you                                 want to have for user the the files very                                 close to their location so for example                                 if you are serving from America but                                 those people need to have it in China in                                 some little village or something but you                                 know that there's kind of an distributor                                 near there then you can push it to the                                 CDN and it will be distributed around                                 the world if users will get fast content                                 so there's another optimization                                 technique that you can apply there's                                 also some new techniques the probably                                 not too many have heard about yet                                 there's a Jake's and P tricks and a                                 Jake's obviously is clear and views                                 you're only reloading the content that                                 you need MP Jake's is kind of the same                                 but it's changing the URL at the top so                                 you can use the history to navigate back                                 and forth so for example if you had a                                 big side for example with an image                                 celery and you could just reload the                                 images and that obviously gives a faster                                 feeling because the eula users are not                                 feeling well the whole page towards                                 again etc and you can do this without                                 having to preload all the images which                                 especially for mobile can be quite                                 problematic and so PTX is definitely a                                 module to check out and see what you can                                 do is it there's one quick tip in terms                                 of client performance sometimes you get                                 this unresponsive script error on                                 loading a page in our                                 cases for smaller box and there were                                 just too many links so color box needed                                 to run and we didn't want to change the                                 color box code in that so the idea is                                 very simple you're just setting it to                                 run into the background just hundred                                 milliseconds after the scientists                                 watered and that's usually enough                                 because most users are not as fast to                                 click so and then you add the old code                                 in the middle coming to module                                 performance module performance you can                                 sometimes have executed active handlers                                 things like six seconds and the memory                                 usage of                                                        important to know what's going on and                                 one possibility is to use X                                            extension for that it's valentia the                                 devil module and again i'm having a                                 little demo for that and you would take                                 a look and we'll find out why this side                                 is so slow so what we are seeing here is                                 I'm putting an X H prof. equals one                                 there but that's just needed because                                 I've got some special optimization                                 techniques in there that I'm rather at                                 once and usually it's enough to enable                                 XH prof in devil and then we are taking                                 a look at such a report and what you can                                 see is there we have wondered six                                 seconds of page load times and we                                 quickly find the caveat and that really                                 is Drupal is scanning all files again                                 and again and this is an old core                                 version this is fixed in your Co                                 versions that is just one to show you                                 how such a little problem can add one                                 second to each page road while the                                 normal page load would be quite fast                                 because it's just like                                                  Senate many seconds can be too slow also                                 in certain circumstances but one second                                 is usually like that's not acceptable                                 for certain use cases so and you can                                 also see the memory usage more                                 so there's some comfort falls if there's                                 a variable set on each page request your                                 database server will have real problems                                 if you're setting in an immense dollar                                 sessions for saving simple data for                                 example for a little bandwidth flag                                 don't do this this will disable a new                                 numis casting for varnish and other                                 things instead use javascript to set                                 receive the cookies and change the page                                 that's working much better if you                                 install so many modules it can be really                                 problematic especially if you're not                                 having it if you see another thing as if                                 you want to load five thousand notes                                 with views you'll have like a memory                                 usage of smear nerd mb that's happening                                 with open areas I'm there's at once                                 solution which is called openers click                                 very it's my sandbox to improve the                                 performance of modules one of the                                 biggest secrets is to use the block                                 caching so I'm enabling block caching                                 and configuring proper block caching can                                 make a real difference for authenticated                                 users because most blocks might be                                 really specific just either to a role or                                 to a user or to a site or to a page so                                 block caching can be used much more than                                 it is normally used that's kind of an                                 optimization a doing most sites that are                                 coming in and there's something else                                 with very nice because they have some                                 modules that are saying this blog is not                                 catchable and but you really want to                                 have a cash bond you want to have                                 control of it and it's block cash altar                                 and this needed the patch was context I                                 think it's applied by now not totally                                 sure and but if you use blockage older                                 you can for each block directly set how                                 the block should be cached and this is                                 again very helpful also set up use                                 caching                                 it's obvious but you won't say how many                                 sides I see where it's not done there's                                 a nice list of performance competitors                                 in the kooples Kreutz the triple or high                                 performance and i invite you invite you                                 all to join it because it's really nice                                 group you learn lords and nice people                                 hanging out there and we are just to let                                 people get camel in so i already showed                                 the exit full performance video let's                                 take a quick look at the mission update                                 so it's only misses my squirrel that's a                                 little unhappy because she just feels                                 kind of slow sometimes terms of database                                 performance what's important is to there                                 can be queries that are slow like                                    seconds or so and then imagine several                                 users doing this ten seconds slow                                 queries and you can imagine how the site                                 performance is so what you want to do is                                 you want to enable slow query log then                                 for drupal                                                           nice unfortunately no                                                   someone wants to sponsor not sure but                                 you can't wait to use the mysql to new                                 script for                                                             queries but before I explain a little                                 explain I'm very little we get you some                                 common tricks you can do you should use                                 nodb it's the D for the most current                                 mysql configuration but especially the                                 stoop of them really recommended and be                                 aware of the barrier you need to set no                                 berea equals                                                            your linux console bundle you can't                                 imagine how many sweat are therefore                                 from developers that we're saying well I                                 update the boon to now I can't use MySQL                                 locally anymore it's just goading also                                 slow so um no barrier equals one is up                                 secret in that but be aware little if                                 you want to use or need to use this in                                 production you need special hardware                                 because this could lead to data loss and                                 useful guides the ratchet handbook and I                                 see that I put so badly URL in the                                 comments another thing I highly                                 recommend is to use the except as file                                 system it's a good improvement past                                 compromise their databases but it's                                 important to size the partition size                                 according to the use case so one way to                                 fix this lil queries is you use explain                                 further queries that means you are using                                 the Select statement you got out of the                                 slope very low you're putting explained                                 in front of it and then it tells you                                 something like this is using a temporary                                 tables this is using a temporary table                                 and this is not using indexes and if you                                 don't know what indexes are look it up                                 on some SQL board in that and then you                                 add some indexes run explain again and                                 hopefully it's faster so let's take a                                 look at the mission update but before we                                 get syd some they are boom so a little                                 recap of the best practices you set up                                 the bass performance then you want to                                 have kind of your own high performance                                 take that you never entrust it's not too                                 difficult as you have seen installing                                 varnish installing a PC etc I'm also I                                 promised this to someone and I do that                                 it just didn't get rid unfortunately                                 before the session but you can expect in                                 the commands in the group's the true                                 galore high performance a little script                                 that's kind of getting used to the setup                                 of all of this was a little too too much                                 closed session remember to analyze the                                 pain points first and there's a problem                                 is server based client base is it                                 modules could it be the database really                                 now where is a problem and then solve it                                 and optimize those pain points so let's                                 take now we'll look at the mission                                 update mrs. mysql is very happy i bet                                 she is really happy and the drupal pages                                 are also really really happy that means                                 mission completed wake up now                                 questions please yep there's a                                 microphone in the room this can be a                                 very basic question beginner the MySQL                                 the database I i have many if i delete                                 many of that that I don't use is it                                 helping the performance um usually                                 unused databases if you're not using                                 them and not kind of they're taking                                 space on this but they're usually not                                 important for the performance in that                                 there's one thing to know about deleting                                 things on the database this can be very                                 difficult to delete things actually most                                 production shops don't like to delete                                 because if you are deleting on a                                 production system and you are having                                 some logging enabled you need to delete                                 all of it as well and my scale will be                                 very busy with deleting so usually to                                 just extending storage instead of                                 deleting things usually you cited                                 appropriately so that you don't need to                                 delete but if it's a developer machine I                                 mean sure they need but production                                 wouldn't do it also on the mines ql the                                 user is all route but if i change the                                 rule for only this database then is it                                 also helping performance now that's not                                 happen ok thank you further questions                                 please                                 okay if i install varnish which is a                                 gash in front of tuple is there any use                                 of installing a pc or make a                                 anymore yes for authenticated users and                                 obviously you restart womanish your time                                 out for varnish expires I mean you can                                 set it like one year but it's sometimes                                 as he is also over and then your pages                                 are expiring so for this case you will                                 still need to have a PC and memcache and                                 also usually a few if you want to use                                 the system as an administrator which                                 sometimes happen to add new content                                 probably want to have it fast as well in                                 not having to wait like                                                 though the users see it very fast I                                 reform the question is there any use of                                 installing a pc or memcache for the side                                 sites where which varnish is okay the                                 easy answer is yes there is because                                 caches can expire and it's just a good                                 base line you just install it it usually                                 works and there's also what you get in                                 different configurations on all of the                                 high performance hosting managed hosting                                 services thanks sure next question                                 please                                 and you said that there is specific                                 varnish configuration for say Drupal                                     am on a server and what if you had                                 Drupal                                                               middle ground configuration or can                                 either be configuration that will help                                 both sides actually the configuration                                 works for both sides um there's one                                 little tweak to do but that's more on                                 the Drupal site and that's what I                                 explained in the blog post and so they                                 you can use to boost varnish                                 configuration I even have modules from                                 way back in my sandbox that just                                 emulating boobs Prasad doing do spend                                 boost was not yet available okay so you                                 have those online and what you the shop                                 so they're a sponge configuration was                                 also the boosted Drupal                                          configuration tab okay so that work yep                                 okay thanks you recommended using both                                 varnish and boost together but I've been                                 reading some articles that recommend one                                 over the other four different contexts                                 can you explain the difference a little                                 bit more or why there would be you store                                 the pitfalls the people that are saying                                 kind of that you don't need to combine                                 boost and varnish together I kind of                                 like saying well it's deprecated                                 functionality its duplicated things and                                 in a way they're right but the problem                                 is they argument like this they say well                                 if I have all those files the linux                                 kernel will have some hot files in                                 memory anyway so it's very similar but                                 this argument is not hold with Apache                                 because Apache is not made for big lord                                 if you are just serving static files um                                 it will still be much lower than managed                                 and it will also not hold a lot at a                                 certain level because it's not made for                                 that it it's big and blown in a way so                                 my approach of using boost environments                                 is kind of to use the expiration                                 features of boost and especially the                                 disk cache which can grow very very                                 large which I have always available in                                 combination with a hot memory                                 kind of and that's the same here for                                 example it to remove the double cashing                                 it could remove the block cashing or set                                 it lower for the disc then you would get                                 that advantage but usually it's no                                 problem because the varnish takes that                                 memory the Linux kernel is not using                                 them for caching so is there any problem                                 installing both boost and varnish under                                 press flow Drupal                                                   block-post boost advanced is talking                                 about that and works exactly like that                                 for this press flow questions other                                 questions four minutes left now's your                                 time for questions for panels because                                 caching mechanism to for each pane you                                 can select the caching times and                                 additional dependent arguments                                 especially for views yep just to repeat                                 that in penance there's also a great                                 caching architecture and again I                                 recommend memcache which makes this                                 again a little faster and in tennis you                                 have different panes and in those pains                                 you can select how long to catch into                                 pain and you can also do it based on the                                 views arguments which is very helpful                                 and that's what he was saying so further                                 questions                                 no come and take the survey right the                                 session I'm hoping you'll focus to those                                 little things to wake you up and I hope                                 you had fun
YouTube URL: https://www.youtube.com/watch?v=BZfptWw4JQg


