Title: Scaling Drupal Tap the Power of the Drupal Multisite   DrupalCon North America 2021
Publication date: 2021-05-27
Playlist: DrupalCon North America 2021
Description: 
	Drupal Multi-sites come in many flavors - learn which approach fits your organization's needs!
Captions: 
	00:00:02,320 --> 00:00:06,080
all right

00:00:03,280 --> 00:00:06,640
i have it on my clock that it is 2 20

00:00:06,080 --> 00:00:09,040
eastern

00:00:06,640 --> 00:00:11,040
and we are gonna get started promptly

00:00:09,040 --> 00:00:14,080
because i have a lot of material

00:00:11,040 --> 00:00:16,720
to get through hey michael

00:00:14,080 --> 00:00:19,119
so um hello drupalcon welcome to my

00:00:16,720 --> 00:00:19,119
session

00:00:19,520 --> 00:00:24,240
uh i'm excited to talk to you today

00:00:21,199 --> 00:00:27,359
about multi-sites

00:00:24,240 --> 00:00:29,039
so my name is jay calicott and i've been

00:00:27,359 --> 00:00:32,320
working with drupal

00:00:29,039 --> 00:00:33,280
for about 15 years now 12 of those with

00:00:32,320 --> 00:00:35,600
media current

00:00:33,280 --> 00:00:37,200
currently my title is the vp of

00:00:35,600 --> 00:00:40,079
technical operations

00:00:37,200 --> 00:00:43,840
and i'm also the product owner of our

00:00:40,079 --> 00:00:46,079
rain distribution for drupal

00:00:43,840 --> 00:00:48,000
and so during that time i've worked on a

00:00:46,079 --> 00:00:50,559
lot of multi-sites and learned some

00:00:48,000 --> 00:00:51,360
lessons along the way so uh that i'll be

00:00:50,559 --> 00:00:53,680
sharing with you

00:00:51,360 --> 00:00:53,680
today

00:00:55,920 --> 00:01:00,079
so i am here on behalf of media current

00:00:57,920 --> 00:01:00,960
media current we help organizations uh

00:01:00,079 --> 00:01:03,520
elevate and

00:01:00,960 --> 00:01:04,960
advance their open source digital

00:01:03,520 --> 00:01:06,720
experience

00:01:04,960 --> 00:01:09,040
now we've got a lot of items to cover

00:01:06,720 --> 00:01:11,439
today so we're gonna dive right in

00:01:09,040 --> 00:01:12,720
um we're gonna do i'm gonna do my best

00:01:11,439 --> 00:01:15,360
to leave some time for q

00:01:12,720 --> 00:01:17,040
a at the end but don't worry um they

00:01:15,360 --> 00:01:19,040
don't like kick us out and we'll also

00:01:17,040 --> 00:01:20,720
have like a bonus q a over at the media

00:01:19,040 --> 00:01:22,000
current booth as well so

00:01:20,720 --> 00:01:24,720
we definitely want to get to any

00:01:22,000 --> 00:01:24,720
questions you have

00:01:25,680 --> 00:01:28,799
all right first of all what is a

00:01:27,840 --> 00:01:30,799
multi-site

00:01:28,799 --> 00:01:32,240
um i'm assuming that most of you know

00:01:30,799 --> 00:01:33,680
what a multi-site is but i'm going to

00:01:32,240 --> 00:01:35,920
summarize it

00:01:33,680 --> 00:01:38,079
a multi-site essentially lets you run

00:01:35,920 --> 00:01:39,280
multiple drupal instances off of the

00:01:38,079 --> 00:01:40,720
same code base

00:01:39,280 --> 00:01:44,000
and so that means the same code but

00:01:40,720 --> 00:01:45,280
multiple databases

00:01:44,000 --> 00:01:48,799
now why would you want to run a

00:01:45,280 --> 00:01:51,520
multi-site well some common use cases

00:01:48,799 --> 00:01:52,840
i've seen our university departments

00:01:51,520 --> 00:01:55,200
government

00:01:52,840 --> 00:01:57,920
agencies different business

00:01:55,200 --> 00:01:59,759
units within the same organization and

00:01:57,920 --> 00:02:02,880
microsites

00:01:59,759 --> 00:02:04,640
now the last one is interesting and

00:02:02,880 --> 00:02:06,079
important because microsites operate in

00:02:04,640 --> 00:02:07,759
this kind of gray area

00:02:06,079 --> 00:02:09,360
where you might not actually need a true

00:02:07,759 --> 00:02:11,039
multi-site and so we'll

00:02:09,360 --> 00:02:13,040
we'll get into something i call fake

00:02:11,039 --> 00:02:15,280
multi-sites which gives you some of the

00:02:13,040 --> 00:02:17,200
same benefits of a drupal multi-site

00:02:15,280 --> 00:02:18,800
without running an actual multi-site

00:02:17,200 --> 00:02:20,840
implementation

00:02:18,800 --> 00:02:22,480
we'll do that in a minute but let's talk

00:02:20,840 --> 00:02:24,319
benefits

00:02:22,480 --> 00:02:26,160
why would you even want to do this why

00:02:24,319 --> 00:02:27,840
not just create you know multiple

00:02:26,160 --> 00:02:30,080
distinct websites

00:02:27,840 --> 00:02:31,599
well the main benefit of course is that

00:02:30,080 --> 00:02:34,239
you're able to more easily share

00:02:31,599 --> 00:02:36,400
functionality features and configuration

00:02:34,239 --> 00:02:39,200
while allowing separate databases

00:02:36,400 --> 00:02:39,760
for content and users and so this makes

00:02:39,200 --> 00:02:41,599
sites

00:02:39,760 --> 00:02:43,760
much more maintainable over the course

00:02:41,599 --> 00:02:45,519
of time

00:02:43,760 --> 00:02:48,080
than if you manage each of these

00:02:45,519 --> 00:02:48,720
separately now there are gotchas along

00:02:48,080 --> 00:02:49,840
the way

00:02:48,720 --> 00:02:51,840
so i want to give you some good

00:02:49,840 --> 00:02:54,640
direction on the best way to set up

00:02:51,840 --> 00:02:55,599
and manage your organization's

00:02:54,640 --> 00:02:56,959
multi-site

00:02:55,599 --> 00:02:59,440
but before we get into that i want to

00:02:56,959 --> 00:03:02,879
first cover this idea of

00:02:59,440 --> 00:03:05,200
fake multi-sites right so i call a fake

00:03:02,879 --> 00:03:06,640
multi-site it looks like a distinct site

00:03:05,200 --> 00:03:08,560
maybe the theme is different or the

00:03:06,640 --> 00:03:10,560
navigation is different maybe you have a

00:03:08,560 --> 00:03:12,560
different entry page

00:03:10,560 --> 00:03:14,080
the difference of course is that in that

00:03:12,560 --> 00:03:15,519
instance you're just running off a

00:03:14,080 --> 00:03:17,599
single drupal database

00:03:15,519 --> 00:03:18,959
a single triple instance and so the

00:03:17,599 --> 00:03:21,680
benefits are

00:03:18,959 --> 00:03:23,840
one login one database of user accounts

00:03:21,680 --> 00:03:26,560
content sharing is really easy

00:03:23,840 --> 00:03:27,680
and then maintenance is easier and setup

00:03:26,560 --> 00:03:29,360
is simpler too

00:03:27,680 --> 00:03:31,519
so let's say you've got like a three

00:03:29,360 --> 00:03:32,560
page micro site do you really need a

00:03:31,519 --> 00:03:34,560
multi-site for that

00:03:32,560 --> 00:03:36,799
or could you just add some application

00:03:34,560 --> 00:03:37,840
logic that gives you an alternate

00:03:36,799 --> 00:03:40,159
navigation

00:03:37,840 --> 00:03:42,400
maybe based on the subdomain that you're

00:03:40,159 --> 00:03:44,879
um that you're hitting

00:03:42,400 --> 00:03:46,560
so for this sort of thing domain access

00:03:44,879 --> 00:03:48,000
is probably your best bet they've got a

00:03:46,560 --> 00:03:49,120
lot of different sub modules and

00:03:48,000 --> 00:03:51,400
functionality

00:03:49,120 --> 00:03:53,439
i've also done this with just some

00:03:51,400 --> 00:03:56,159
settings.php trickery

00:03:53,439 --> 00:03:58,159
when you need something really simple

00:03:56,159 --> 00:03:59,519
you can do some different overrides just

00:03:58,159 --> 00:04:02,720
within your sites

00:03:59,519 --> 00:04:04,000
configuration folder and so that's again

00:04:02,720 --> 00:04:07,360
that's an approach i've taken

00:04:04,000 --> 00:04:11,360
definitely should be a consideration

00:04:07,360 --> 00:04:13,280
so speaking of considerations uh

00:04:11,360 --> 00:04:15,200
you're going to need to walk through a

00:04:13,280 --> 00:04:16,560
decision tree if you're planning a

00:04:15,200 --> 00:04:19,120
project like this

00:04:16,560 --> 00:04:20,079
so um there's several questions you need

00:04:19,120 --> 00:04:22,400
to ask yourself

00:04:20,079 --> 00:04:23,759
when you're deciding whether to do a

00:04:22,400 --> 00:04:25,840
multi-site or

00:04:23,759 --> 00:04:26,880
like i mentioned this kind of you know

00:04:25,840 --> 00:04:30,240
fake multi-site

00:04:26,880 --> 00:04:31,600
approach so the first question is

00:04:30,240 --> 00:04:32,960
are you going to have the same group of

00:04:31,600 --> 00:04:33,759
authors are you going to have different

00:04:32,960 --> 00:04:35,600
authors

00:04:33,759 --> 00:04:37,680
if you have different then multi-site is

00:04:35,600 --> 00:04:39,440
good for that if you have the same

00:04:37,680 --> 00:04:41,440
authors then you have to come up with a

00:04:39,440 --> 00:04:42,560
solution for them to easily log in to

00:04:41,440 --> 00:04:43,919
the different sites

00:04:42,560 --> 00:04:46,720
and so that means you might need like a

00:04:43,919 --> 00:04:48,560
single sign-on implementation

00:04:46,720 --> 00:04:51,120
do you need to share a lot of content

00:04:48,560 --> 00:04:52,720
across the site this comes up a lot

00:04:51,120 --> 00:04:54,720
if the content is completely different

00:04:52,720 --> 00:04:55,759
that's good it's in different databases

00:04:54,720 --> 00:04:57,680
that's great

00:04:55,759 --> 00:04:59,840
if you need to do a lot of content

00:04:57,680 --> 00:05:02,080
sharing well then you need a solution

00:04:59,840 --> 00:05:04,560
for that because that's not super easy

00:05:02,080 --> 00:05:05,360
like out of the box and then another

00:05:04,560 --> 00:05:08,240
question is

00:05:05,360 --> 00:05:09,440
how uniform or different looking are the

00:05:08,240 --> 00:05:11,759
various sites

00:05:09,440 --> 00:05:13,600
if they're very different then again

00:05:11,759 --> 00:05:15,120
multi-site's good

00:05:13,600 --> 00:05:16,960
if we're just talking about the

00:05:15,120 --> 00:05:18,160
navigation is a little bit different or

00:05:16,960 --> 00:05:20,400
the front page

00:05:18,160 --> 00:05:21,759
is different so the micro site thing

00:05:20,400 --> 00:05:22,720
well then maybe we don't need a

00:05:21,759 --> 00:05:24,240
multi-site

00:05:22,720 --> 00:05:26,080
and then you need to decide okay well

00:05:24,240 --> 00:05:28,880
should i mess with multi-sites at all

00:05:26,080 --> 00:05:29,440
should i just create separate projects

00:05:28,880 --> 00:05:32,320
for

00:05:29,440 --> 00:05:33,360
you know each new site that i'm building

00:05:32,320 --> 00:05:36,479
in my organization

00:05:33,360 --> 00:05:39,039
so for me even if the sites are

00:05:36,479 --> 00:05:40,240
pretty different i still lean towards

00:05:39,039 --> 00:05:43,360
trying to have

00:05:40,240 --> 00:05:46,639
a unified platform for an organization

00:05:43,360 --> 00:05:48,080
because you can still have a pretty uh

00:05:46,639 --> 00:05:50,479
high degree of variance

00:05:48,080 --> 00:05:52,320
across the sites but have the advantages

00:05:50,479 --> 00:05:55,919
of that unified code base

00:05:52,320 --> 00:05:58,960
and so the approach i've taken before

00:05:55,919 --> 00:06:00,319
is if having different custom install

00:05:58,960 --> 00:06:02,800
profiles

00:06:00,319 --> 00:06:04,800
that can allow you to have a lot of

00:06:02,800 --> 00:06:06,880
variants within the platform but still

00:06:04,800 --> 00:06:09,039
have the advantages of everything being

00:06:06,880 --> 00:06:10,319
under the same umbrella so something to

00:06:09,039 --> 00:06:13,759
think about there

00:06:10,319 --> 00:06:16,319
okay now let's talk about setup in

00:06:13,759 --> 00:06:19,120
configuration

00:06:16,319 --> 00:06:20,560
so the first thing you need to do is

00:06:19,120 --> 00:06:23,520
make sure that your host

00:06:20,560 --> 00:06:24,960
supports supports multi-site so like

00:06:23,520 --> 00:06:26,960
pantheon as an example

00:06:24,960 --> 00:06:28,000
they don't actually support drupal

00:06:26,960 --> 00:06:30,479
multi-site

00:06:28,000 --> 00:06:31,039
config in kind of the classical sense

00:06:30,479 --> 00:06:33,120
and so

00:06:31,039 --> 00:06:34,479
you don't want to if the host doesn't

00:06:33,120 --> 00:06:35,520
support multi-site you don't want to

00:06:34,479 --> 00:06:38,000
spend time

00:06:35,520 --> 00:06:39,520
configuring it a certain way and then

00:06:38,000 --> 00:06:42,560
it's like incompatible

00:06:39,520 --> 00:06:44,400
so do your due diligence up front there

00:06:42,560 --> 00:06:46,880
um and we'll get into how pantheon

00:06:44,400 --> 00:06:48,479
approaches it later on

00:06:46,880 --> 00:06:50,560
most of the most hosts are going to let

00:06:48,479 --> 00:06:52,720
you park multiple domains

00:06:50,560 --> 00:06:54,319
let you create separate databases you

00:06:52,720 --> 00:06:56,880
just need to make sure that it's you

00:06:54,319 --> 00:06:58,639
know compatible

00:06:56,880 --> 00:07:00,639
um and so we're not going to get into

00:06:58,639 --> 00:07:02,160
the weeds of like how you set things up

00:07:00,639 --> 00:07:04,240
there's lots of documentation

00:07:02,160 --> 00:07:06,479
and tutorials out there for how to set

00:07:04,240 --> 00:07:08,160
up site configuration and all that

00:07:06,479 --> 00:07:09,680
and that's not going to be where you're

00:07:08,160 --> 00:07:10,960
going to get tripped up in this sort of

00:07:09,680 --> 00:07:12,800
thing

00:07:10,960 --> 00:07:14,160
where we need to spend our time doing

00:07:12,800 --> 00:07:17,440
the thinking and planning

00:07:14,160 --> 00:07:20,319
is um in our approach to governance

00:07:17,440 --> 00:07:21,680
and drupal configuration management

00:07:20,319 --> 00:07:23,120
because that's where you're going to run

00:07:21,680 --> 00:07:24,160
into trouble if you're going to run into

00:07:23,120 --> 00:07:26,479
trouble anywhere

00:07:24,160 --> 00:07:28,160
so good governance good configuration

00:07:26,479 --> 00:07:30,319
management is absolutely

00:07:28,160 --> 00:07:32,800
critical if you don't do this right

00:07:30,319 --> 00:07:35,280
you're going to

00:07:32,800 --> 00:07:37,039
have problems okay so what do i mean by

00:07:35,280 --> 00:07:38,960
governance

00:07:37,039 --> 00:07:40,319
governance involves how the sites are

00:07:38,960 --> 00:07:40,880
managed and how much control you're

00:07:40,319 --> 00:07:44,080
going to allow

00:07:40,880 --> 00:07:45,759
each site to have and so a big question

00:07:44,080 --> 00:07:47,759
relates to the size and the scale of the

00:07:45,759 --> 00:07:50,960
project if you've only got

00:07:47,759 --> 00:07:51,919
a few sites well then

00:07:50,960 --> 00:07:53,360
you know you're probably not going to

00:07:51,919 --> 00:07:55,039
run into problems because there's only

00:07:53,360 --> 00:07:57,039
so many ways you can screw that up right

00:07:55,039 --> 00:07:58,560
i mean it's just a handful of sites

00:07:57,039 --> 00:08:00,400
where you're going to run into problems

00:07:58,560 --> 00:08:02,000
is when you've got dozens of sites or

00:08:00,400 --> 00:08:05,199
hundreds of sites

00:08:02,000 --> 00:08:06,400
if you don't set things up right then um

00:08:05,199 --> 00:08:08,000
then you're going to find that it's

00:08:06,400 --> 00:08:09,680
harder to maintain those sites it's

00:08:08,000 --> 00:08:12,720
harder to push out

00:08:09,680 --> 00:08:16,160
routine updates and feature updates

00:08:12,720 --> 00:08:18,479
if it isn't configured well

00:08:16,160 --> 00:08:20,319
and so let's talk about configuration

00:08:18,479 --> 00:08:24,080
approaches

00:08:20,319 --> 00:08:27,520
the option one is no configuration

00:08:24,080 --> 00:08:29,759
sharing at all uh so in that scenario

00:08:27,520 --> 00:08:31,759
every site has their own configuration

00:08:29,759 --> 00:08:32,479
maybe it's in version control maybe it's

00:08:31,759 --> 00:08:34,479
not

00:08:32,479 --> 00:08:36,000
but it's like wild west every site has

00:08:34,479 --> 00:08:38,080
its own configuration

00:08:36,000 --> 00:08:40,240
and again if you've only got a few sites

00:08:38,080 --> 00:08:41,519
okay that could work just fine but then

00:08:40,240 --> 00:08:42,959
that's going to be really hard to

00:08:41,519 --> 00:08:45,360
maintain

00:08:42,959 --> 00:08:46,399
if you have dozens or more sites because

00:08:45,360 --> 00:08:47,040
it's going to it's going to be a

00:08:46,399 --> 00:08:49,440
challenge

00:08:47,040 --> 00:08:50,160
to deploy new configuration things like

00:08:49,440 --> 00:08:54,880
that

00:08:50,160 --> 00:08:56,640
but that's one approach the the

00:08:54,880 --> 00:08:58,959
second approach is kind of the flip side

00:08:56,640 --> 00:09:01,839
of that which is

00:08:58,959 --> 00:09:04,720
um only allowing you know very simple

00:09:01,839 --> 00:09:05,920
settings.php overrides

00:09:04,720 --> 00:09:08,160
and so that's going to keep things

00:09:05,920 --> 00:09:10,399
pretty uniform

00:09:08,160 --> 00:09:12,640
but maybe just like the site name is

00:09:10,399 --> 00:09:14,399
different in terms of like configuration

00:09:12,640 --> 00:09:16,560
of course each site will have a lot of

00:09:14,399 --> 00:09:18,160
variance in content and users but

00:09:16,560 --> 00:09:21,279
configuration you would keep things very

00:09:18,160 --> 00:09:23,680
uniform so the upside here

00:09:21,279 --> 00:09:25,120
is that setup's going to be you know

00:09:23,680 --> 00:09:26,560
pretty maintainable

00:09:25,120 --> 00:09:28,399
and then there's a ways of kind of

00:09:26,560 --> 00:09:31,360
splitting the difference so

00:09:28,399 --> 00:09:32,240
config split is good when you want to

00:09:31,360 --> 00:09:34,880
break off just

00:09:32,240 --> 00:09:36,959
some configuration a good example that

00:09:34,880 --> 00:09:38,000
i've run into are web forms which are

00:09:36,959 --> 00:09:40,080
kind of like

00:09:38,000 --> 00:09:42,000
half content half configuration you may

00:09:40,080 --> 00:09:43,200
want to allow sites to be able to create

00:09:42,000 --> 00:09:45,839
web forms

00:09:43,200 --> 00:09:48,160
and so you can use the conflict config

00:09:45,839 --> 00:09:50,800
split module to break that off

00:09:48,160 --> 00:09:52,399
and then like config actions features

00:09:50,800 --> 00:09:54,320
there's other modules but these are the

00:09:52,399 --> 00:09:57,760
ones that i'm like more familiar with

00:09:54,320 --> 00:09:59,519
um so this would take the approach where

00:09:57,760 --> 00:10:01,200
at a platform level you're controlling

00:09:59,519 --> 00:10:04,480
some configuration maybe

00:10:01,200 --> 00:10:07,360
some views and content types and blocks

00:10:04,480 --> 00:10:08,399
but then you're allowing a lot of custom

00:10:07,360 --> 00:10:11,920
configuration

00:10:08,399 --> 00:10:12,640
outside of the individual features that

00:10:11,920 --> 00:10:15,360
you are

00:10:12,640 --> 00:10:15,839
um like controlling at a platform level

00:10:15,360 --> 00:10:17,440
and so

00:10:15,839 --> 00:10:19,680
that of course allows for more

00:10:17,440 --> 00:10:21,279
flexibility the sites can do different

00:10:19,680 --> 00:10:25,120
things this might make sense

00:10:21,279 --> 00:10:25,120
if you want to allow sites to

00:10:25,440 --> 00:10:29,279
install their own modules and so you'll

00:10:28,560 --> 00:10:31,920
manage

00:10:29,279 --> 00:10:33,120
a certain subset of configuration but

00:10:31,920 --> 00:10:36,640
then you're going to allow

00:10:33,120 --> 00:10:38,880
a lot of customization um

00:10:36,640 --> 00:10:40,640
and so that kind of brings me to the

00:10:38,880 --> 00:10:42,480
next point which is

00:10:40,640 --> 00:10:44,640
you know how much control should we

00:10:42,480 --> 00:10:47,600
allow how much flexibility

00:10:44,640 --> 00:10:50,079
are we going gonna allow so for me i

00:10:47,600 --> 00:10:52,320
lean towards uniformity

00:10:50,079 --> 00:10:53,279
unless there is a strong case for that

00:10:52,320 --> 00:10:55,760
flexibility

00:10:53,279 --> 00:10:57,839
i really like the unified platform idea

00:10:55,760 --> 00:11:00,800
i like it for brand consistency

00:10:57,839 --> 00:11:03,120
easier maintenance upkeep and it's going

00:11:00,800 --> 00:11:05,760
to scale better

00:11:03,120 --> 00:11:06,880
again this isn't a problem if you've

00:11:05,760 --> 00:11:08,079
only got a few sites

00:11:06,880 --> 00:11:10,079
where you're going to run into issues

00:11:08,079 --> 00:11:10,800
it's going to be 20 sites 50 sites 100

00:11:10,079 --> 00:11:12,880
sites

00:11:10,800 --> 00:11:14,480
is where you're going to run into

00:11:12,880 --> 00:11:18,000
problems so

00:11:14,480 --> 00:11:20,000
again features and config actions taking

00:11:18,000 --> 00:11:22,399
that type of approach does give you more

00:11:20,000 --> 00:11:25,519
flexibility but it's at a cost because

00:11:22,399 --> 00:11:27,600
you've added some risk um of

00:11:25,519 --> 00:11:31,120
of instability because there's more

00:11:27,600 --> 00:11:31,120
variance across the platform

00:11:32,720 --> 00:11:39,839
all right now let's talk deployment

00:11:36,720 --> 00:11:40,240
so deploying code is pretty simple the

00:11:39,839 --> 00:11:41,680
whole

00:11:40,240 --> 00:11:43,279
whole point of this right is that we've

00:11:41,680 --> 00:11:45,120
got just one code base

00:11:43,279 --> 00:11:46,320
so deploying code is going to be the

00:11:45,120 --> 00:11:49,279
same kind of process

00:11:46,320 --> 00:11:50,959
as deploying a single site you've got

00:11:49,279 --> 00:11:53,120
that unified code base

00:11:50,959 --> 00:11:54,560
two things to think about um you are

00:11:53,120 --> 00:11:57,120
going to need to deploy

00:11:54,560 --> 00:11:58,800
database updates for each site instance

00:11:57,120 --> 00:12:00,320
and as well as those configuration

00:11:58,800 --> 00:12:01,680
updates

00:12:00,320 --> 00:12:03,680
and so you're going to want some sort of

00:12:01,680 --> 00:12:05,920
mechanism uh to

00:12:03,680 --> 00:12:07,200
deploy those like efficiently so that

00:12:05,920 --> 00:12:08,320
could be if you're running your own

00:12:07,200 --> 00:12:10,560
stack then

00:12:08,320 --> 00:12:12,880
you know doing some kind of scripting

00:12:10,560 --> 00:12:14,880
and then it if you are

00:12:12,880 --> 00:12:16,480
using a third-party host you can take

00:12:14,880 --> 00:12:19,120
advantage of their different toolings

00:12:16,480 --> 00:12:22,839
like pantheon has a cli aqua has

00:12:19,120 --> 00:12:24,720
hooks and so you'll have some options

00:12:22,839 --> 00:12:28,480
there

00:12:24,720 --> 00:12:30,079
um okay and so next that kind of leads

00:12:28,480 --> 00:12:32,399
me into just talking about

00:12:30,079 --> 00:12:35,279
general management and in update

00:12:32,399 --> 00:12:37,760
recommendations for multi-site

00:12:35,279 --> 00:12:39,200
so again if you take the approach of you

00:12:37,760 --> 00:12:40,720
know this unified platform

00:12:39,200 --> 00:12:42,639
you're going to want to prevent

00:12:40,720 --> 00:12:43,519
configuration from being changed on the

00:12:42,639 --> 00:12:45,920
sites

00:12:43,519 --> 00:12:47,120
um because it could lead to some

00:12:45,920 --> 00:12:49,839
problems like

00:12:47,120 --> 00:12:51,440
drupal has a lot of ui modules a lot of

00:12:49,839 --> 00:12:52,639
them are kind of turned on by default

00:12:51,440 --> 00:12:53,040
and you're going to want to turn those

00:12:52,639 --> 00:12:54,639
off

00:12:53,040 --> 00:12:57,120
if you're not actually allowing those

00:12:54,639 --> 00:12:58,160
sites to change configuration so for

00:12:57,120 --> 00:13:00,320
example

00:12:58,160 --> 00:13:01,279
if you're not going to allow views to be

00:13:00,320 --> 00:13:03,440
created

00:13:01,279 --> 00:13:05,519
on the site and then you'll want to turn

00:13:03,440 --> 00:13:06,160
off that ui module so that like a site

00:13:05,519 --> 00:13:08,160
administrator

00:13:06,160 --> 00:13:09,519
doesn't create a view and then the next

00:13:08,160 --> 00:13:12,639
time you do a deployment

00:13:09,519 --> 00:13:14,560
the view gets deleted because you're

00:13:12,639 --> 00:13:15,839
reverting all the configuration every

00:13:14,560 --> 00:13:17,760
time you do a deployment and you don't

00:13:15,839 --> 00:13:19,680
want to cause any sort of breakage

00:13:17,760 --> 00:13:22,560
or confusion or anything like that so

00:13:19,680 --> 00:13:25,519
you'll want to remember to do that

00:13:22,560 --> 00:13:26,720
and again it's recommended that to make

00:13:25,519 --> 00:13:29,120
the general management

00:13:26,720 --> 00:13:30,000
um easier to use some sort of ci tool

00:13:29,120 --> 00:13:33,440
circle ci

00:13:30,000 --> 00:13:35,040
jenkins to help you

00:13:33,440 --> 00:13:37,600
push these updates to different

00:13:35,040 --> 00:13:37,600
environments

00:13:38,720 --> 00:13:44,720
all right now i want to talk briefly

00:13:41,120 --> 00:13:48,480
about migrating multi-sites

00:13:44,720 --> 00:13:50,320
okay so migrating a drupal 7

00:13:48,480 --> 00:13:52,399
multi-site it's not that much different

00:13:50,320 --> 00:13:55,040
from migrating

00:13:52,399 --> 00:13:56,399
um all right let me start out so

00:13:55,040 --> 00:13:57,920
migrating a multi-site

00:13:56,399 --> 00:14:00,000
is not that different from migrating a

00:13:57,920 --> 00:14:01,040
single site it's just more things can go

00:14:00,000 --> 00:14:02,959
wrong

00:14:01,040 --> 00:14:04,480
and so testing will be absolutely

00:14:02,959 --> 00:14:07,199
critical we want to

00:14:04,480 --> 00:14:09,519
uh we'll cover that here in a minute and

00:14:07,199 --> 00:14:11,040
i recommend batching migrations

00:14:09,519 --> 00:14:13,120
so we've we've done this a couple

00:14:11,040 --> 00:14:16,480
different ways sometimes we'll

00:14:13,120 --> 00:14:18,720
um go with uh smallest to largest that

00:14:16,480 --> 00:14:21,360
allows you to work out the kinks

00:14:18,720 --> 00:14:22,959
um in the smaller batches and then kind

00:14:21,360 --> 00:14:26,079
of work your way up to the biggest

00:14:22,959 --> 00:14:27,760
that's my preferred method but sometimes

00:14:26,079 --> 00:14:30,079
you don't have the luxury of time

00:14:27,760 --> 00:14:30,800
and so i've seen it where we just focus

00:14:30,079 --> 00:14:33,360
on the

00:14:30,800 --> 00:14:34,959
the the largest site get that up and

00:14:33,360 --> 00:14:35,360
running put all of your attention on

00:14:34,959 --> 00:14:37,360
that

00:14:35,360 --> 00:14:38,959
and then batch out the rest of the

00:14:37,360 --> 00:14:39,519
migrations but doing some sort of

00:14:38,959 --> 00:14:42,399
batching

00:14:39,519 --> 00:14:45,440
makes sense and then talking about just

00:14:42,399 --> 00:14:47,600
drupal 8 to drupal 9 migrations

00:14:45,440 --> 00:14:50,240
that's a lot simpler again not that much

00:14:47,600 --> 00:14:53,519
different from a single site

00:14:50,240 --> 00:14:54,560
um as you know up updating aaa to drupal

00:14:53,519 --> 00:14:58,079
00:14:54,560 --> 00:15:00,240
a lot of the work is in composer um

00:14:58,079 --> 00:15:02,240
it's a lot of the work is related to

00:15:00,240 --> 00:15:03,360
removing deprecated code from your own

00:15:02,240 --> 00:15:05,120
custom code

00:15:03,360 --> 00:15:06,399
and so it's simpler because you don't

00:15:05,120 --> 00:15:08,480
have to deal with the whole

00:15:06,399 --> 00:15:10,240
content migration problem that you deal

00:15:08,480 --> 00:15:13,839
with when it's a drupal 7

00:15:10,240 --> 00:15:13,839
to 8 or 9 migration

00:15:15,920 --> 00:15:19,279
okay let's talk testing so this is one

00:15:18,720 --> 00:15:23,360
of the more

00:15:19,279 --> 00:15:25,519
critical aspects of managing or

00:15:23,360 --> 00:15:27,519
migrating multi-site as we just

00:15:25,519 --> 00:15:30,160
discussed

00:15:27,519 --> 00:15:31,600
there's tool tools uh two tools that i

00:15:30,160 --> 00:15:33,600
really like um

00:15:31,600 --> 00:15:35,360
backstop js for visual regression

00:15:33,600 --> 00:15:38,720
testing and

00:15:35,360 --> 00:15:41,120
b-hat for functional testing

00:15:38,720 --> 00:15:43,600
and the idea is that you want to run uh

00:15:41,120 --> 00:15:46,560
tests across your whole suite of sites

00:15:43,600 --> 00:15:48,160
that's because the more sites you add um

00:15:46,560 --> 00:15:50,320
the more difficult it is to do a lot of

00:15:48,160 --> 00:15:52,800
manual testing you can do some spot

00:15:50,320 --> 00:15:53,600
testing but um automated test is gonna

00:15:52,800 --> 00:15:56,720
really help you

00:15:53,600 --> 00:15:58,320
catch all those edge cases because again

00:15:56,720 --> 00:16:00,240
the more sites you have

00:15:58,320 --> 00:16:02,160
the more room for edge cases and then as

00:16:00,240 --> 00:16:03,120
we discussed earlier with configuration

00:16:02,160 --> 00:16:05,759
management

00:16:03,120 --> 00:16:06,959
the more variants you allow at the

00:16:05,759 --> 00:16:10,079
platform level

00:16:06,959 --> 00:16:11,440
uh the increased risk that you have for

00:16:10,079 --> 00:16:13,040
regressions when you're doing

00:16:11,440 --> 00:16:15,279
deployments so you want to have a really

00:16:13,040 --> 00:16:17,199
solid testing suite

00:16:15,279 --> 00:16:18,320
you want to run tests early and often if

00:16:17,199 --> 00:16:21,680
you can test them

00:16:18,320 --> 00:16:24,480
at the branch pr level that's

00:16:21,680 --> 00:16:26,079
ideal if you're not able to do that um

00:16:24,480 --> 00:16:27,519
because it's not practical then you want

00:16:26,079 --> 00:16:29,120
to at least do it on

00:16:27,519 --> 00:16:31,440
those deployments to different

00:16:29,120 --> 00:16:32,959
environments so dev staging production

00:16:31,440 --> 00:16:33,360
you want to run through your full suite

00:16:32,959 --> 00:16:34,800
of

00:16:33,360 --> 00:16:37,120
automated tests and that's going to save

00:16:34,800 --> 00:16:39,040
you a lot of

00:16:37,120 --> 00:16:42,399
headaches whether whether it's a new

00:16:39,040 --> 00:16:42,399
multi-site or migration

00:16:43,600 --> 00:16:48,320
okay let's talk about new site

00:16:45,839 --> 00:16:50,880
provisioning

00:16:48,320 --> 00:16:51,519
so it's a little bit tedious uh to do it

00:16:50,880 --> 00:16:53,680
manually

00:16:51,519 --> 00:16:55,120
not that big of a problem but if you're

00:16:53,680 --> 00:16:56,560
going to be managing you know

00:16:55,120 --> 00:16:58,399
a lot of sites then you're going to want

00:16:56,560 --> 00:17:00,880
some sort of scripted solution

00:16:58,399 --> 00:17:02,639
um again you can do bash or jenkins if

00:17:00,880 --> 00:17:04,319
you're running your own stack

00:17:02,639 --> 00:17:06,799
but then if you're using a third-party

00:17:04,319 --> 00:17:09,600
host you're going to have a lot of

00:17:06,799 --> 00:17:11,199
tools at your disposal um definitely

00:17:09,600 --> 00:17:14,079
recommend

00:17:11,199 --> 00:17:15,120
that approach third parties just tend to

00:17:14,079 --> 00:17:17,280
have a lot of tooling

00:17:15,120 --> 00:17:18,480
and everything and so let's go ahead and

00:17:17,280 --> 00:17:21,839
dive right into

00:17:18,480 --> 00:17:24,559
some of our hosting options here so

00:17:21,839 --> 00:17:26,480
awkwave has aqueous site factory which

00:17:24,559 --> 00:17:29,760
is built specifically for

00:17:26,480 --> 00:17:32,000
very large um

00:17:29,760 --> 00:17:32,799
multi-sites so talking about hundreds of

00:17:32,000 --> 00:17:34,880
sites

00:17:32,799 --> 00:17:36,720
so they've got a little a lot of good

00:17:34,880 --> 00:17:37,440
tooling and dashboards and things like

00:17:36,720 --> 00:17:39,280
that

00:17:37,440 --> 00:17:41,919
so that should be a consideration

00:17:39,280 --> 00:17:43,360
pantheon's got upstreams which works

00:17:41,919 --> 00:17:46,240
really well

00:17:43,360 --> 00:17:47,440
um so i addressed that pantheon doesn't

00:17:46,240 --> 00:17:49,840
do multi-site

00:17:47,440 --> 00:17:51,280
the kind of classic way the way they do

00:17:49,840 --> 00:17:54,240
it like to do things

00:17:51,280 --> 00:17:56,160
is each site has its own resources this

00:17:54,240 --> 00:17:57,840
avoids the single point of failure

00:17:56,160 --> 00:17:59,360
problem with a multi-site

00:17:57,840 --> 00:18:01,919
so if everything's sharing the same

00:17:59,360 --> 00:18:04,799
resources same code same everything

00:18:01,919 --> 00:18:05,679
and one side breaks they all break right

00:18:04,799 --> 00:18:08,080
versus

00:18:05,679 --> 00:18:10,000
these products like aqueous sci factory

00:18:08,080 --> 00:18:14,000
has mitigation around that

00:18:10,000 --> 00:18:15,919
upstream um has uh doesn't run into that

00:18:14,000 --> 00:18:17,280
problem because again each site has its

00:18:15,919 --> 00:18:20,480
own um

00:18:17,280 --> 00:18:23,840
has its own dedicated resources and so i

00:18:20,480 --> 00:18:25,679
i like that uh product a lot

00:18:23,840 --> 00:18:27,760
um aqua you could also just run a

00:18:25,679 --> 00:18:28,000
classic multi-site on aqua cloud that

00:18:27,760 --> 00:18:29,840
might

00:18:28,000 --> 00:18:31,280
make sense if you're not running a bunch

00:18:29,840 --> 00:18:32,559
of them if you're running like you know

00:18:31,280 --> 00:18:34,880
10 sites then

00:18:32,559 --> 00:18:36,760
just a traditional multi-site on cloud

00:18:34,880 --> 00:18:40,080
might be totally fine

00:18:36,760 --> 00:18:41,360
platform.sh has can do kind of both

00:18:40,080 --> 00:18:43,679
approaches it can do

00:18:41,360 --> 00:18:45,280
like classic multi-site it can it also

00:18:43,679 --> 00:18:46,480
has fleets which is sort of like

00:18:45,280 --> 00:18:48,720
upstreams

00:18:46,480 --> 00:18:50,480
uh aeger has been around a long time and

00:18:48,720 --> 00:18:52,960
it and gives you like

00:18:50,480 --> 00:18:53,600
um good kind of dashboards for managing

00:18:52,960 --> 00:18:55,600
sites

00:18:53,600 --> 00:18:57,760
and that's something to consider if

00:18:55,600 --> 00:18:59,679
you're doing like a self-hosted thing

00:18:57,760 --> 00:19:00,880
then of course you could do aws or

00:18:59,679 --> 00:19:03,840
whatever um

00:19:00,880 --> 00:19:05,600
i just would really recommend that um

00:19:03,840 --> 00:19:07,760
you could more the third party

00:19:05,600 --> 00:19:10,080
uh route so that kind of leads me into

00:19:07,760 --> 00:19:12,960
my general recommendations so

00:19:10,080 --> 00:19:13,760
let's talk about right off the top um

00:19:12,960 --> 00:19:15,600
hosting

00:19:13,760 --> 00:19:17,760
right um so you definitely want to get

00:19:15,600 --> 00:19:20,400
hosting right

00:19:17,760 --> 00:19:20,960
uh because you want your solution to

00:19:20,400 --> 00:19:25,200
scale

00:19:20,960 --> 00:19:28,559
whatever it is so i've worked with um

00:19:25,200 --> 00:19:31,039
every situation over a decade and

00:19:28,559 --> 00:19:32,799
um i've seen a lot more success with

00:19:31,039 --> 00:19:34,720
managed hosting providers which i

00:19:32,799 --> 00:19:37,360
strongly recommend

00:19:34,720 --> 00:19:39,039
with a hosting provider you're going to

00:19:37,360 --> 00:19:40,960
get

00:19:39,039 --> 00:19:42,240
slash you're going to get good technical

00:19:40,960 --> 00:19:42,880
support you're going to get a lot of

00:19:42,240 --> 00:19:45,600
tooling

00:19:42,880 --> 00:19:47,120
command line stuff at all so that kind

00:19:45,600 --> 00:19:49,919
of covers my general

00:19:47,120 --> 00:19:50,640
thoughts on just you know how to handle

00:19:49,919 --> 00:19:52,240
hosting

00:19:50,640 --> 00:19:54,160
right and so let's cover a couple other

00:19:52,240 --> 00:19:56,480
things as we just kind of wrap up my

00:19:54,160 --> 00:19:59,360
general recommendations for multi-sites

00:19:56,480 --> 00:20:00,160
so that covers hosting the next thing is

00:19:59,360 --> 00:20:03,039
um oh

00:20:00,160 --> 00:20:04,799
the last thing on hosting is you know

00:20:03,039 --> 00:20:06,159
sometimes because of you know legal

00:20:04,799 --> 00:20:06,799
compliance whatever you've got a

00:20:06,159 --> 00:20:09,240
self-host

00:20:06,799 --> 00:20:10,400
i don't like it i don't like to do

00:20:09,240 --> 00:20:12,080
self-managed

00:20:10,400 --> 00:20:13,360
just with the idea of saving money

00:20:12,080 --> 00:20:14,320
because in my opinion you're not going

00:20:13,360 --> 00:20:16,240
to really save

00:20:14,320 --> 00:20:17,919
money over the long term so that's the

00:20:16,240 --> 00:20:20,559
last thing i'll say on that

00:20:17,919 --> 00:20:21,760
um and then let's circle back to the

00:20:20,559 --> 00:20:22,880
original question do you need a

00:20:21,760 --> 00:20:25,679
multi-site

00:20:22,880 --> 00:20:26,320
um you need to do a lot of uh thinking

00:20:25,679 --> 00:20:30,000
on that right

00:20:26,320 --> 00:20:33,120
so could you get away with um this

00:20:30,000 --> 00:20:35,120
if if the the idea behind multi-site if

00:20:33,120 --> 00:20:37,280
you're mainly using it for microsites

00:20:35,120 --> 00:20:39,440
then you really might not need the sort

00:20:37,280 --> 00:20:41,200
of classic drupal multi-site that's

00:20:39,440 --> 00:20:44,320
where something like

00:20:41,200 --> 00:20:46,559
using contrib modules to

00:20:44,320 --> 00:20:48,880
allow some segmentation so you can do

00:20:46,559 --> 00:20:49,919
subdomains or you can do campaign pages

00:20:48,880 --> 00:20:51,360
and things like that

00:20:49,919 --> 00:20:53,440
that's where you may want to go down

00:20:51,360 --> 00:20:54,159
that route instead of messing with a

00:20:53,440 --> 00:20:56,960
full-blown

00:20:54,159 --> 00:20:57,520
multi-site so do some thinking on that

00:20:56,960 --> 00:21:00,640
and then

00:20:57,520 --> 00:21:01,360
the biggest thing is uh governance and

00:21:00,640 --> 00:21:03,520
so

00:21:01,360 --> 00:21:05,120
the main point i want to point out here

00:21:03,520 --> 00:21:06,240
with governance and configuration

00:21:05,120 --> 00:21:09,039
management

00:21:06,240 --> 00:21:10,559
is that you want to do a lot of planning

00:21:09,039 --> 00:21:13,520
upfront around that because

00:21:10,559 --> 00:21:16,559
as i said especially if we're talking

00:21:13,520 --> 00:21:18,640
larger scale implementations if

00:21:16,559 --> 00:21:20,240
you don't do it right up front you're

00:21:18,640 --> 00:21:22,640
going to have a lot of headaches and

00:21:20,240 --> 00:21:24,799
it's hard to like undo things later on

00:21:22,640 --> 00:21:26,559
so do your due diligence there do a lot

00:21:24,799 --> 00:21:27,919
of planning around how you want things

00:21:26,559 --> 00:21:31,120
to be governed

00:21:27,919 --> 00:21:32,799
and then last thing is just that testing

00:21:31,120 --> 00:21:36,080
is paramount you need a good

00:21:32,799 --> 00:21:37,679
uh testing plan uh from the get-go

00:21:36,080 --> 00:21:39,360
and that's gonna save you a lot of

00:21:37,679 --> 00:21:40,960
headaches not only when you're

00:21:39,360 --> 00:21:42,799
developing it but of course when you're

00:21:40,960 --> 00:21:45,840
maintaining it

00:21:42,799 --> 00:21:46,960
so that wraps up that and so yeah that

00:21:45,840 --> 00:21:49,039
covers

00:21:46,960 --> 00:21:51,039
i know i had to kind of uh cover a lot

00:21:49,039 --> 00:21:52,880
of uh material in a short amount of time

00:21:51,039 --> 00:21:55,679
i just wanted to make sure we had

00:21:52,880 --> 00:21:57,280
uh we were able to cover everything and

00:21:55,679 --> 00:22:02,720
get to your questions so

00:21:57,280 --> 00:22:05,600
um let me see if i can get

00:22:02,720 --> 00:22:07,200
oh hey hi i i'm the captain i'm the

00:22:05,600 --> 00:22:10,159
assassin monitor i could read the

00:22:07,200 --> 00:22:13,120
questions if that would be helpful

00:22:10,159 --> 00:22:13,679
um you know whichever i have shop also

00:22:13,120 --> 00:22:16,960
to help

00:22:13,679 --> 00:22:18,799
um so he can help both um ask and answer

00:22:16,960 --> 00:22:21,679
the question shop has a lot of uh

00:22:18,799 --> 00:22:22,159
experience in multi-sites as well uh so

00:22:21,679 --> 00:22:25,679
i'm

00:22:22,159 --> 00:22:28,159
flexible okay well i just need help

00:22:25,679 --> 00:22:28,720
i'll jump back in okay okay great thank

00:22:28,159 --> 00:22:31,280
you

00:22:28,720 --> 00:22:32,080
awesome thanks yeah so we we had a few

00:22:31,280 --> 00:22:33,919
questions here

00:22:32,080 --> 00:22:35,120
um and thank you catherine for that too

00:22:33,919 --> 00:22:38,320
that's awesome

00:22:35,120 --> 00:22:39,679
um we'll start towards the end here um

00:22:38,320 --> 00:22:41,120
someone asked about a link to the slide

00:22:39,679 --> 00:22:42,480
deck i would just say quickly that

00:22:41,120 --> 00:22:44,080
that we'll we'll post that through the

00:22:42,480 --> 00:22:44,880
drupal association they are asking for

00:22:44,080 --> 00:22:47,440
those slide

00:22:44,880 --> 00:22:48,159
materials and so look look for that soon

00:22:47,440 --> 00:22:51,360
on the uh

00:22:48,159 --> 00:22:51,679
drupalcon site um gianna asked about i'd

00:22:51,360 --> 00:22:54,320
love

00:22:51,679 --> 00:22:57,840
suggestions on resources for d9 or 8

00:22:54,320 --> 00:22:57,840
multi-site with composer

00:23:01,200 --> 00:23:09,280
so you're saying so resources

00:23:06,000 --> 00:23:10,720
via composer well

00:23:09,280 --> 00:23:13,360
so it's not going to be that much

00:23:10,720 --> 00:23:16,080
different if you know composer

00:23:13,360 --> 00:23:17,280
i mean on it but i mean if you know

00:23:16,080 --> 00:23:19,679
composer

00:23:17,280 --> 00:23:20,960
then i don't see a big difference

00:23:19,679 --> 00:23:23,360
between

00:23:20,960 --> 00:23:24,559
single site and multi-site um if you

00:23:23,360 --> 00:23:27,039
need to learn composer then learn

00:23:24,559 --> 00:23:29,520
composer but like

00:23:27,039 --> 00:23:32,640
am i not thinking of something that's

00:23:29,520 --> 00:23:32,640
that would be a big difference

00:23:33,360 --> 00:23:37,760
yeah so let us know uh jana if there's

00:23:36,080 --> 00:23:40,400
something we're missing on that but

00:23:37,760 --> 00:23:40,799
i agree with jay a lot of it has to do

00:23:40,400 --> 00:23:43,200
with

00:23:40,799 --> 00:23:43,840
more the configuration of settings php

00:23:43,200 --> 00:23:46,640
and yours

00:23:43,840 --> 00:23:47,840
your site's folders than the composer

00:23:46,640 --> 00:23:49,840
piece

00:23:47,840 --> 00:23:51,200
but certainly multi-site there is some

00:23:49,840 --> 00:23:53,520
complexities if you have

00:23:51,200 --> 00:23:55,200
a lot of different variant sites with

00:23:53,520 --> 00:23:59,120
different modules running in the same

00:23:55,200 --> 00:24:01,760
setup um that that could impact things

00:23:59,120 --> 00:24:02,720
we have a question here jay for the fake

00:24:01,760 --> 00:24:04,799
multi-site

00:24:02,720 --> 00:24:06,400
that's using organic group modules in d7

00:24:04,799 --> 00:24:09,600
do you recommend group or

00:24:06,400 --> 00:24:12,559
organic group module in d9 when uh

00:24:09,600 --> 00:24:14,960
and when we yeah when uh when this group

00:24:12,559 --> 00:24:18,000
migrates from d7 to d9

00:24:14,960 --> 00:24:21,279
so is there a really uh i i

00:24:18,000 --> 00:24:23,600
thought that i thought group was the

00:24:21,279 --> 00:24:25,360
kind of the go-to for d8 but i'm not up

00:24:23,600 --> 00:24:28,480
to speed on d9 for that right

00:24:25,360 --> 00:24:30,720
so i've used group and organic groups

00:24:28,480 --> 00:24:32,720
so those modules help you kind of

00:24:30,720 --> 00:24:35,039
segment um

00:24:32,720 --> 00:24:36,000
and group obviously content and users

00:24:35,039 --> 00:24:38,320
together

00:24:36,000 --> 00:24:39,679
and that can be useful for this sort of

00:24:38,320 --> 00:24:41,600
thing

00:24:39,679 --> 00:24:42,960
that i really want them to like merge

00:24:41,600 --> 00:24:44,159
together because they both have good

00:24:42,960 --> 00:24:46,480
features to them

00:24:44,159 --> 00:24:48,320
now i've gone back and forth uh on those

00:24:46,480 --> 00:24:49,679
modules like which one to use where i'm

00:24:48,320 --> 00:24:51,279
like okay i'm definitely using the

00:24:49,679 --> 00:24:52,880
organic groups on this project

00:24:51,279 --> 00:24:55,520
there'll be like one feature that i

00:24:52,880 --> 00:24:57,279
really need that's in the other module

00:24:55,520 --> 00:24:59,760
and then like so i bounce back and forth

00:24:57,279 --> 00:25:01,200
so it depends on your requirements but

00:24:59,760 --> 00:25:03,279
if you're just using it for this

00:25:01,200 --> 00:25:05,919
specific thing i'd

00:25:03,279 --> 00:25:06,960
i'd look at domain access just because

00:25:05,919 --> 00:25:10,880
domain access

00:25:06,960 --> 00:25:13,960
was created for this very specific

00:25:10,880 --> 00:25:15,360
use case which is multi-site like

00:25:13,960 --> 00:25:18,320
functionality

00:25:15,360 --> 00:25:18,960
functionality in a single site instance

00:25:18,320 --> 00:25:20,480
i mean that's

00:25:18,960 --> 00:25:23,039
what the whole point of the module is

00:25:20,480 --> 00:25:24,799
versus like groups and organic groups

00:25:23,039 --> 00:25:26,640
are kind of more general purpose they

00:25:24,799 --> 00:25:28,240
don't they're not all about this

00:25:26,640 --> 00:25:29,360
specific use case

00:25:28,240 --> 00:25:30,720
they're they're used for different

00:25:29,360 --> 00:25:32,320
things right they're just like ways of

00:25:30,720 --> 00:25:34,720
grouping content together

00:25:32,320 --> 00:25:35,440
um but you can use them for like this

00:25:34,720 --> 00:25:38,080
sort of thing

00:25:35,440 --> 00:25:38,880
so you can evaluate all that stuff but

00:25:38,080 --> 00:25:41,120
um

00:25:38,880 --> 00:25:43,279
you know i would look at domain access

00:25:41,120 --> 00:25:45,600
first

00:25:43,279 --> 00:25:46,559
great and bernardo had a few questions

00:25:45,600 --> 00:25:48,799
here we'll start out

00:25:46,559 --> 00:25:50,559
how about nightwatch js as a testing

00:25:48,799 --> 00:25:53,440
suite thoughts

00:25:50,559 --> 00:25:56,000
i'll give a quick weigh-in on that one

00:25:53,440 --> 00:25:59,120
there are a lot of testing suites and i

00:25:56,000 --> 00:26:01,279
think my recommendation is to look

00:25:59,120 --> 00:26:02,400
look look at what drupal supports

00:26:01,279 --> 00:26:05,440
natively right

00:26:02,400 --> 00:26:07,919
so um like look at that as a

00:26:05,440 --> 00:26:10,240
as a piece to weigh in it and then if uh

00:26:07,919 --> 00:26:13,200
what drupal core doesn't support uh

00:26:10,240 --> 00:26:14,799
in core for testing um then you can make

00:26:13,200 --> 00:26:16,480
decisions on what's the next best suite

00:26:14,799 --> 00:26:18,640
but there's so many out there

00:26:16,480 --> 00:26:20,799
and you know we even talked i was

00:26:18,640 --> 00:26:23,679
talking with somebody in our devops team

00:26:20,799 --> 00:26:24,080
this week about uh drupal test traits

00:26:23,679 --> 00:26:25,279
you know

00:26:24,080 --> 00:26:26,480
as an alternative to b hat so there's

00:26:25,279 --> 00:26:27,360
always something out there right

00:26:26,480 --> 00:26:29,840
something

00:26:27,360 --> 00:26:30,880
new and different um but i would i don't

00:26:29,840 --> 00:26:32,159
know if you have anything else to add on

00:26:30,880 --> 00:26:34,559
that jay

00:26:32,159 --> 00:26:36,159
yeah i'm not as familiar so in the point

00:26:34,559 --> 00:26:38,080
obviously so i mentioned the ones that

00:26:36,159 --> 00:26:40,400
we use but the point isn't necessarily

00:26:38,080 --> 00:26:42,400
like hey use this one or that one it's

00:26:40,400 --> 00:26:44,480
that you need a really solid testing

00:26:42,400 --> 00:26:48,159
suite whatever it is right

00:26:44,480 --> 00:26:48,799
um just because again the it's an issue

00:26:48,159 --> 00:26:51,520
of scale

00:26:48,799 --> 00:26:52,000
where it's a lot harder to do manual

00:26:51,520 --> 00:26:53,760
testing

00:26:52,000 --> 00:26:55,039
you need to be able to run a lot of

00:26:53,760 --> 00:26:56,880
automated tests

00:26:55,039 --> 00:27:00,000
and run them across the whole suite of

00:26:56,880 --> 00:27:03,679
sites just to keep things more stable

00:27:00,000 --> 00:27:06,159
and maintainable so yeah cool

00:27:03,679 --> 00:27:08,400
yeah that makes sense um let's see we've

00:27:06,159 --> 00:27:08,400
got

00:27:09,679 --> 00:27:13,840
our next question here was um about

00:27:12,880 --> 00:27:17,600
using

00:27:13,840 --> 00:27:20,720
are are we using workbench module

00:27:17,600 --> 00:27:23,600
as to simplify user end user experience

00:27:20,720 --> 00:27:25,679
um we have used workbench we're using

00:27:23,600 --> 00:27:29,360
content moderation in core now i'd say

00:27:25,679 --> 00:27:29,360
more just because of drupal 8 9.

00:27:31,440 --> 00:27:35,760
but i don't know if it's so much to

00:27:34,720 --> 00:27:37,760
simplify you

00:27:35,760 --> 00:27:39,840
uh the user experience as it is to

00:27:37,760 --> 00:27:41,679
provide the user experience around

00:27:39,840 --> 00:27:43,440
just moderating content in the sense

00:27:41,679 --> 00:27:45,039
that

00:27:43,440 --> 00:27:47,120
you know we have organizations that just

00:27:45,039 --> 00:27:48,799
don't want every content submitted to be

00:27:47,120 --> 00:27:49,200
able to publish content that's usually

00:27:48,799 --> 00:27:50,960
that's

00:27:49,200 --> 00:27:53,520
the core use case that gets us going

00:27:50,960 --> 00:27:55,919
there yeah it's been a while since i've

00:27:53,520 --> 00:27:58,000
used it i mean i thought it was helpful

00:27:55,919 --> 00:28:02,960
i don't know exactly if

00:27:58,000 --> 00:28:05,760
would they tie into multi-sites but yeah

00:28:02,960 --> 00:28:06,159
uh there was a question here about are

00:28:05,760 --> 00:28:07,679
we

00:28:06,159 --> 00:28:09,919
transitioning from pattern lab into

00:28:07,679 --> 00:28:12,799
storybook and other systems

00:28:09,919 --> 00:28:13,279
um we're still we're still using pattern

00:28:12,799 --> 00:28:15,039
lab

00:28:13,279 --> 00:28:17,440
um but we've also used storybook but

00:28:15,039 --> 00:28:21,120
that's been more on the react side

00:28:17,440 --> 00:28:22,799
right at the house yeah um

00:28:21,120 --> 00:28:24,559
chris asks what's the best way to do

00:28:22,799 --> 00:28:25,760
multi-site on pantheon and there was

00:28:24,559 --> 00:28:27,360
already some questions and

00:28:25,760 --> 00:28:29,440
discussion going on in the chat earlier

00:28:27,360 --> 00:28:31,279
jay where you were talking about

00:28:29,440 --> 00:28:33,200
pantheon upstream so that may be a

00:28:31,279 --> 00:28:35,279
precursor

00:28:33,200 --> 00:28:36,559
right so and we didn't have enough time

00:28:35,279 --> 00:28:38,159
to like dig into

00:28:36,559 --> 00:28:40,799
a lot of detail around it so you'll want

00:28:38,159 --> 00:28:43,440
to review their documentation but

00:28:40,799 --> 00:28:44,399
so pantheon like when you create a site

00:28:43,440 --> 00:28:47,120
with pantheon

00:28:44,399 --> 00:28:48,320
and you select you know drupal 9 or

00:28:47,120 --> 00:28:49,679
whatever

00:28:48,320 --> 00:28:51,279
that you're going to use like their

00:28:49,679 --> 00:28:51,760
default upstream and that's what's

00:28:51,279 --> 00:28:54,240
actually

00:28:51,760 --> 00:28:54,880
the code that's used when you're

00:28:54,240 --> 00:28:58,240
installing

00:28:54,880 --> 00:28:58,960
your site but they allow you to create

00:28:58,240 --> 00:29:00,880
your own

00:28:58,960 --> 00:29:02,559
upstreams the only thing that i'm not

00:29:00,880 --> 00:29:03,440
sure about is if you have to have a

00:29:02,559 --> 00:29:05,840
certain level

00:29:03,440 --> 00:29:07,440
account like if you have to have like an

00:29:05,840 --> 00:29:08,799
agency account or something i don't

00:29:07,440 --> 00:29:10,799
think you do

00:29:08,799 --> 00:29:12,240
but again there's a lot of documentation

00:29:10,799 --> 00:29:15,679
on it but it's

00:29:12,240 --> 00:29:18,159
the it's their kind of multi-site

00:29:15,679 --> 00:29:19,919
solution and they've written articles on

00:29:18,159 --> 00:29:21,679
it it's been around for a long time it's

00:29:19,919 --> 00:29:25,200
definitely worth researching

00:29:21,679 --> 00:29:26,640
but um just like john i saw mentioned a

00:29:25,200 --> 00:29:29,279
minute ago

00:29:26,640 --> 00:29:30,799
uh you have the ability to break lots of

00:29:29,279 --> 00:29:33,919
sites at once well

00:29:30,799 --> 00:29:35,760
the upstream approach um takes away the

00:29:33,919 --> 00:29:38,159
single point of failure because

00:29:35,760 --> 00:29:40,320
all the sites on each side has their own

00:29:38,159 --> 00:29:41,440
dedicated resources and so you're not

00:29:40,320 --> 00:29:45,039
going to break them

00:29:41,440 --> 00:29:46,480
um all at once i guess unless you just

00:29:45,039 --> 00:29:47,919
deployed everything at once which i

00:29:46,480 --> 00:29:49,520
wouldn't recommend but

00:29:47,919 --> 00:29:51,760
so they get around the single point of

00:29:49,520 --> 00:29:55,440
failure problem so you manage

00:29:51,760 --> 00:29:58,000
your code base through up streams

00:29:55,440 --> 00:29:59,520
and the there's integration with the

00:29:58,000 --> 00:30:02,159
terminus

00:29:59,520 --> 00:30:02,559
tool that they have and which allows you

00:30:02,159 --> 00:30:05,520
to

00:30:02,559 --> 00:30:07,279
deploy updates across all your sites

00:30:05,520 --> 00:30:09,279
running on the same upstream

00:30:07,279 --> 00:30:10,320
so there's like a lot of benefits to

00:30:09,279 --> 00:30:11,919
using their approach

00:30:10,320 --> 00:30:13,760
now there is like a cost component

00:30:11,919 --> 00:30:14,880
because you're paying for each

00:30:13,760 --> 00:30:18,480
individual site

00:30:14,880 --> 00:30:20,240
but then it's also flexible because

00:30:18,480 --> 00:30:21,360
and again talk to pantheon too because

00:30:20,240 --> 00:30:22,240
they're going to explain it better than

00:30:21,360 --> 00:30:25,440
i can but

00:30:22,240 --> 00:30:26,559
um you a lot of organizations have like

00:30:25,440 --> 00:30:29,200
a couple really big

00:30:26,559 --> 00:30:30,880
sites that need like enterprise plans or

00:30:29,200 --> 00:30:32,640
like the higher tier plans and then they

00:30:30,880 --> 00:30:34,559
have like a lot of smaller sites

00:30:32,640 --> 00:30:36,240
that could go with more basic plans and

00:30:34,559 --> 00:30:39,039
so upstream allows you

00:30:36,240 --> 00:30:40,960
a lot of flexibility since each site has

00:30:39,039 --> 00:30:42,640
its own plans and they do

00:30:40,960 --> 00:30:44,320
bulk discounts and they do all sorts of

00:30:42,640 --> 00:30:45,440
stuff but i think it's just like a

00:30:44,320 --> 00:30:48,320
really solid approach

00:30:45,440 --> 00:30:49,200
so um it's definitely one that i

00:30:48,320 --> 00:30:52,320
recommend

00:30:49,200 --> 00:30:55,919
uh like investigating in in

00:30:52,320 --> 00:30:58,799
in evaluating aqua's got good

00:30:55,919 --> 00:31:02,000
good options there as well so um yeah

00:30:58,799 --> 00:31:04,880
definitely something worth looking into

00:31:02,000 --> 00:31:06,159
so um so mark has asked here and i'll

00:31:04,880 --> 00:31:08,960
kind of combine the questions a bit

00:31:06,159 --> 00:31:10,640
do you have experience setting up a or

00:31:08,960 --> 00:31:11,039
experience implementing self-service

00:31:10,640 --> 00:31:12,799
site

00:31:11,039 --> 00:31:14,720
deployments in a multi-site so this

00:31:12,799 --> 00:31:16,720
would be where

00:31:14,720 --> 00:31:18,320
somebody that's non-technical goes to

00:31:16,720 --> 00:31:20,240
like some type of form and fills out a

00:31:18,320 --> 00:31:21,279
few fields and then they automatically

00:31:20,240 --> 00:31:23,039
deploy it

00:31:21,279 --> 00:31:25,039
and and the follow-up question was any

00:31:23,039 --> 00:31:28,559
challenges or gotchas with that

00:31:25,039 --> 00:31:32,320
sounds a lot like uh the our multi-site

00:31:28,559 --> 00:31:35,840
product jay yeah right yeah so

00:31:32,320 --> 00:31:38,000
so we do like so aqueous sci factory

00:31:35,840 --> 00:31:40,880
you know gives you a lot of like ui

00:31:38,000 --> 00:31:44,000
tools that's their big selling point

00:31:40,880 --> 00:31:45,840
um and so it makes sense you know it's

00:31:44,000 --> 00:31:47,760
easier to provision new sites and

00:31:45,840 --> 00:31:49,519
everything likely using a dashboard

00:31:47,760 --> 00:31:51,919
we've got kind of a newer product we

00:31:49,519 --> 00:31:53,679
call multi-site plus

00:31:51,919 --> 00:31:55,039
that we'll be adding features to this

00:31:53,679 --> 00:31:57,440
year and we have

00:31:55,039 --> 00:31:58,480
a simple workflow that at least makes

00:31:57,440 --> 00:32:00,720
the provisioning

00:31:58,480 --> 00:32:02,799
easier so we have an integration that

00:32:00,720 --> 00:32:05,120
all it does is gives you

00:32:02,799 --> 00:32:06,159
there's a module you turn on and it

00:32:05,120 --> 00:32:07,760
gives you a form

00:32:06,159 --> 00:32:09,200
you know we set it up for you it gives

00:32:07,760 --> 00:32:12,000
you a form and then you

00:32:09,200 --> 00:32:12,399
submit the form it kicks off at jenkins

00:32:12,000 --> 00:32:14,240
job

00:32:12,399 --> 00:32:16,559
and the jenkins job interacts with

00:32:14,240 --> 00:32:18,720
pantheon or acua to do the actual

00:32:16,559 --> 00:32:19,679
um setup stuff but it's sort of behind

00:32:18,720 --> 00:32:21,919
the scenes

00:32:19,679 --> 00:32:23,360
and so like a non-technical person could

00:32:21,919 --> 00:32:26,640
just submit the form

00:32:23,360 --> 00:32:29,039
and that gives them an easy way to spin

00:32:26,640 --> 00:32:30,399
up a new site without a developer

00:32:29,039 --> 00:32:32,399
and so we think that's a pretty good

00:32:30,399 --> 00:32:34,799
solution for that it doesn't handle

00:32:32,399 --> 00:32:36,399
you know okay what about deploying all

00:32:34,799 --> 00:32:37,519
these updates and everything you still

00:32:36,399 --> 00:32:40,559
need like

00:32:37,519 --> 00:32:42,960
to set up some automation there and um

00:32:40,559 --> 00:32:44,159
but it at least helps you uh solve that

00:32:42,960 --> 00:32:46,159
kind of

00:32:44,159 --> 00:32:49,200
common use case we've seen before which

00:32:46,159 --> 00:32:52,480
is it's a little bit tedious to set up

00:32:49,200 --> 00:32:54,240
uh to set up a new site instance

00:32:52,480 --> 00:32:55,919
a lot of times clients are like i don't

00:32:54,240 --> 00:32:57,679
i don't know why i need a developer

00:32:55,919 --> 00:32:59,039
every time i need a new site instance in

00:32:57,679 --> 00:33:02,720
my multi-site

00:32:59,039 --> 00:33:05,360
so again um you know our little product

00:33:02,720 --> 00:33:06,960
does you know kind of glues the thing

00:33:05,360 --> 00:33:08,799
together a little bit better

00:33:06,960 --> 00:33:10,000
but then again there's there's

00:33:08,799 --> 00:33:13,279
alternatives there too

00:33:10,000 --> 00:33:15,600
right so aeger has a lot of you know

00:33:13,279 --> 00:33:16,640
uh tools that give you a dashboard

00:33:15,600 --> 00:33:19,200
acquia has their

00:33:16,640 --> 00:33:20,039
whole product thing and pantheon has

00:33:19,200 --> 00:33:22,240
upstreams

00:33:20,039 --> 00:33:24,799
platform.sh has their products so you

00:33:22,240 --> 00:33:27,279
have like lots of different options

00:33:24,799 --> 00:33:28,880
yeah that makes sense um so what's the

00:33:27,279 --> 00:33:30,000
preferred method for managing

00:33:28,880 --> 00:33:32,240
multi-sites to require

00:33:30,000 --> 00:33:34,799
different configurations per site with

00:33:32,240 --> 00:33:37,440
some similarities

00:33:34,799 --> 00:33:38,159
this uh person has explored other

00:33:37,440 --> 00:33:39,919
they've

00:33:38,159 --> 00:33:41,360
explored configuration splits extensions

00:33:39,919 --> 00:33:42,640
from base profiles

00:33:41,360 --> 00:33:44,480
i think it's a good question it kind of

00:33:42,640 --> 00:33:47,440
digs in jada what you were talking

00:33:44,480 --> 00:33:48,000
in config split land and some of that

00:33:47,440 --> 00:33:50,480
yeah

00:33:48,000 --> 00:33:52,799
that i mean if it's kind of just um if

00:33:50,480 --> 00:33:55,279
it's less things then that seems to be

00:33:52,799 --> 00:33:56,080
kind of the config split direction

00:33:55,279 --> 00:33:59,120
that's

00:33:56,080 --> 00:34:01,039
tends to be where we lean um

00:33:59,120 --> 00:34:03,200
when it's just we need to carve out a

00:34:01,039 --> 00:34:06,159
handful of things

00:34:03,200 --> 00:34:06,640
so my problem yeah go ahead i'm just

00:34:06,159 --> 00:34:10,240
going to say

00:34:06,640 --> 00:34:11,599
the thing i i what's helped me over the

00:34:10,240 --> 00:34:14,639
years with multi-sites

00:34:11,599 --> 00:34:16,560
uh from higher ed on has been

00:34:14,639 --> 00:34:18,000
um don't try to and i think some chat

00:34:16,560 --> 00:34:20,000
was maybe happening with this too but

00:34:18,000 --> 00:34:22,720
try not to multi-site when you

00:34:20,000 --> 00:34:24,159
have sites that are very different so

00:34:22,720 --> 00:34:25,839
the site should all be real similar and

00:34:24,159 --> 00:34:27,839
j we've talked about this a ton too

00:34:25,839 --> 00:34:28,960
internally at media current but you know

00:34:27,839 --> 00:34:30,079
when you have a group of sites and

00:34:28,960 --> 00:34:32,000
they're all going to have similar

00:34:30,079 --> 00:34:34,320
very similar themes similar module uses

00:34:32,000 --> 00:34:36,159
similar features built on top

00:34:34,320 --> 00:34:37,520
that's where multi-sites of some sort

00:34:36,159 --> 00:34:37,919
and where i'm saying multi-site lower

00:34:37,520 --> 00:34:39,280
case

00:34:37,919 --> 00:34:43,679
you know all these different ways to do

00:34:39,280 --> 00:34:45,359
it um that seems to help quite a bit

00:34:43,679 --> 00:34:47,440
yeah i would just say that we've been

00:34:45,359 --> 00:34:49,440
able to handle variants

00:34:47,440 --> 00:34:51,599
i like the install profile route where

00:34:49,440 --> 00:34:53,760
you just have different install profiles

00:34:51,599 --> 00:34:54,720
that gives you some ways to organize

00:34:53,760 --> 00:34:56,399
things

00:34:54,720 --> 00:34:58,800
in a certain way so you have certain

00:34:56,399 --> 00:35:00,720
custom modules within each profile

00:34:58,800 --> 00:35:02,640
and different configurations so you can

00:35:00,720 --> 00:35:06,800
have a pretty fair amount of dependent

00:35:02,640 --> 00:35:10,480
uh variants while taking advantage of

00:35:06,800 --> 00:35:12,720
a shared composer and so you know i like

00:35:10,480 --> 00:35:13,839
to try to steer in that direction if at

00:35:12,720 --> 00:35:16,560
all possible

00:35:13,839 --> 00:35:18,560
obviously sometimes it's like you know

00:35:16,560 --> 00:35:20,160
square peg round hole if it's like

00:35:18,560 --> 00:35:22,400
if it just doesn't make sense it doesn't

00:35:20,160 --> 00:35:24,880
make sense but you know

00:35:22,400 --> 00:35:25,520
talk you know from my standpoint i like

00:35:24,880 --> 00:35:27,599
it when

00:35:25,520 --> 00:35:28,800
an organization is able to have a more

00:35:27,599 --> 00:35:30,320
unified platform if they're

00:35:28,800 --> 00:35:32,800
standardizing on drupal

00:35:30,320 --> 00:35:34,640
i'll like them not be able to to have

00:35:32,800 --> 00:35:36,160
that shared platform even if there is a

00:35:34,640 --> 00:35:37,119
good amount of variance between like

00:35:36,160 --> 00:35:38,720
maybe they have a bunch of different

00:35:37,119 --> 00:35:40,800
brands or whatever

00:35:38,720 --> 00:35:42,480
that that does have a lot of variants

00:35:40,800 --> 00:35:44,720
and so again it's gonna

00:35:42,480 --> 00:35:47,280
it's gonna vary but i like to start with

00:35:44,720 --> 00:35:48,079
hey let's try to do a unified platform

00:35:47,280 --> 00:35:50,720
approach

00:35:48,079 --> 00:35:51,359
and then go from there you know and that

00:35:50,720 --> 00:35:53,280
plays in

00:35:51,359 --> 00:35:55,040
direct i think the unified approach

00:35:53,280 --> 00:35:56,400
plays it directly in your previous talk

00:35:55,040 --> 00:35:59,520
about governance

00:35:56,400 --> 00:36:00,960
into the next question uh um this

00:35:59,520 --> 00:36:02,240
attendee said they recently joined a

00:36:00,960 --> 00:36:03,680
project where there's

00:36:02,240 --> 00:36:05,760
where they're using multi-sites with

00:36:03,680 --> 00:36:07,520
separate config for each site

00:36:05,760 --> 00:36:10,240
right now we're copy and pasting and

00:36:07,520 --> 00:36:12,400
config changes between each multi-site

00:36:10,240 --> 00:36:13,520
um is there a better way and and we feel

00:36:12,400 --> 00:36:15,520
your pain uh

00:36:13,520 --> 00:36:17,920
that's yeah that sounds sounds

00:36:15,520 --> 00:36:20,320
challenging for sure

00:36:17,920 --> 00:36:21,040
um yeah and this is a good item if we

00:36:20,320 --> 00:36:23,920
want to do

00:36:21,040 --> 00:36:24,400
extended um discussion over it because

00:36:23,920 --> 00:36:27,200
we'll

00:36:24,400 --> 00:36:28,720
we'll i forget the initial questions we

00:36:27,200 --> 00:36:28,960
can jump over to the media current booth

00:36:28,720 --> 00:36:30,960
and

00:36:28,960 --> 00:36:32,480
like that's where we could do some like

00:36:30,960 --> 00:36:35,200
solutioning you know

00:36:32,480 --> 00:36:36,480
um but yeah like yeah you'll want to

00:36:35,200 --> 00:36:37,599
figure that out because obviously you

00:36:36,480 --> 00:36:39,680
want to get away from that

00:36:37,599 --> 00:36:41,520
from the copy and paste kind of thing so

00:36:39,680 --> 00:36:43,200
you're you're running into that scale

00:36:41,520 --> 00:36:45,119
problem which is it's not practical to

00:36:43,200 --> 00:36:49,440
do all this copy and paste stuff

00:36:45,119 --> 00:36:51,200
and so maybe some refactoring um

00:36:49,440 --> 00:36:53,520
there's so many ways you could tackle

00:36:51,200 --> 00:36:56,800
that that i'd rather

00:36:53,520 --> 00:36:59,040
go dig into that a little bit more

00:36:56,800 --> 00:37:00,640
so that might be good uh a good thing to

00:36:59,040 --> 00:37:02,800
jump over to the booth for

00:37:00,640 --> 00:37:03,760
after we wrap up here so these kind of

00:37:02,800 --> 00:37:07,040
long form

00:37:03,760 --> 00:37:09,359
questions where i need more information

00:37:07,040 --> 00:37:10,800
yeah i think i i think that makes sense

00:37:09,359 --> 00:37:13,119
for sure and um so

00:37:10,800 --> 00:37:14,480
let's hit maybe a few of the what might

00:37:13,119 --> 00:37:15,119
be simpler ones and we'll jump to the

00:37:14,480 --> 00:37:16,720
booth

00:37:15,119 --> 00:37:18,400
i have collected the questions the best

00:37:16,720 --> 00:37:21,119
i can and we'll i'll have those

00:37:18,400 --> 00:37:22,880
okay over there um so how about how

00:37:21,119 --> 00:37:24,800
about this one um

00:37:22,880 --> 00:37:27,200
uh can you expand on the pros and cons

00:37:24,800 --> 00:37:28,400
of config actions versus config split

00:37:27,200 --> 00:37:31,200
and features

00:37:28,400 --> 00:37:32,480
uh i can a little bit so i've got more

00:37:31,200 --> 00:37:37,520
experience with

00:37:32,480 --> 00:37:40,240
um features in config split so

00:37:37,520 --> 00:37:42,480
and so config actions one of the cons is

00:37:40,240 --> 00:37:44,320
that you're doing like email stuff

00:37:42,480 --> 00:37:46,560
it's not point and click like with

00:37:44,320 --> 00:37:47,680
features and features has been around a

00:37:46,560 --> 00:37:50,800
long time but

00:37:47,680 --> 00:37:53,599
um templates are or what is

00:37:50,800 --> 00:37:54,880
what's config actions yeah so they set

00:37:53,599 --> 00:37:57,359
up like templates

00:37:54,880 --> 00:37:57,920
it allows you to override them they they

00:37:57,359 --> 00:38:01,680
let you

00:37:57,920 --> 00:38:04,400
do some really flexible stuff um

00:38:01,680 --> 00:38:05,599
and we use it on some of our aqueous

00:38:04,400 --> 00:38:07,599
site factory

00:38:05,599 --> 00:38:08,800
um implementations it seems like a good

00:38:07,599 --> 00:38:10,800
fit um

00:38:08,800 --> 00:38:12,079
there if for those type of

00:38:10,800 --> 00:38:15,599
implementations

00:38:12,079 --> 00:38:18,240
but it's like super flexible it's

00:38:15,599 --> 00:38:19,760
gonna require you to do like yaml stuff

00:38:18,240 --> 00:38:22,160
like that if you don't feel super

00:38:19,760 --> 00:38:23,680
comfortable with that features is nice

00:38:22,160 --> 00:38:25,200
because you've got a nice ui

00:38:23,680 --> 00:38:26,800
where you just like point and click the

00:38:25,200 --> 00:38:28,160
different configurations

00:38:26,800 --> 00:38:30,079
and then you click a button to like

00:38:28,160 --> 00:38:30,720
download it somewhere and it's like all

00:38:30,079 --> 00:38:33,839
like

00:38:30,720 --> 00:38:35,599
site builder kind of skills and so

00:38:33,839 --> 00:38:37,119
you know i like it's pretty simple

00:38:35,599 --> 00:38:40,640
approach um

00:38:37,119 --> 00:38:41,599
but um but the the config actions is

00:38:40,640 --> 00:38:44,880
going to be more

00:38:41,599 --> 00:38:44,880
like flexible

00:38:45,280 --> 00:38:49,920
so yeah i know that makes sense um so

00:38:48,480 --> 00:38:51,520
here's one i think i can

00:38:49,920 --> 00:38:54,560
pick up here a bit at least on some

00:38:51,520 --> 00:38:55,280
options um any recommendation regarding

00:38:54,560 --> 00:38:57,200
how to

00:38:55,280 --> 00:38:59,359
control a drupal profile in a multi-site

00:38:57,200 --> 00:39:00,079
installation to have it versioned in a

00:38:59,359 --> 00:39:02,400
separate repo

00:39:00,079 --> 00:39:03,280
and managed with composer or version

00:39:02,400 --> 00:39:06,880
within

00:39:03,280 --> 00:39:10,320
uh your drupal and why we

00:39:06,880 --> 00:39:12,079
i've worked on a uh site factory

00:39:10,320 --> 00:39:14,079
multi-site which is a different it's an

00:39:12,079 --> 00:39:16,480
aqua site factory it's a different

00:39:14,079 --> 00:39:18,000
it's a product built on multi-site and

00:39:16,480 --> 00:39:22,720
other lots of other things

00:39:18,000 --> 00:39:24,720
there but we started out with a profile

00:39:22,720 --> 00:39:26,000
and then the client wanted to have

00:39:24,720 --> 00:39:27,599
additional profiles

00:39:26,000 --> 00:39:29,520
and then we wound up going back to fewer

00:39:27,599 --> 00:39:31,119
profiles but um

00:39:29,520 --> 00:39:33,280
all of the profiles lived in the same

00:39:31,119 --> 00:39:37,200
code base in this particular project

00:39:33,280 --> 00:39:39,119
um i will just say there have been times

00:39:37,200 --> 00:39:41,119
in my career where i've decided to split

00:39:39,119 --> 00:39:42,720
off and have different repos for

00:39:41,119 --> 00:39:44,400
like different sets of modules or shared

00:39:42,720 --> 00:39:45,760
modules and things like that

00:39:44,400 --> 00:39:47,599
and uh jay you remember some of these

00:39:45,760 --> 00:39:49,040
examples we've talked about like there's

00:39:47,599 --> 00:39:51,040
times when it makes sense

00:39:49,040 --> 00:39:52,320
but it comes with a every time you split

00:39:51,040 --> 00:39:54,079
off repos and you're pulling everything

00:39:52,320 --> 00:39:56,640
in it comes with a huge maintenance

00:39:54,079 --> 00:39:57,760
cost yeah cost yeah and so you want to

00:39:56,640 --> 00:39:59,760
do smart i've seen it

00:39:57,760 --> 00:40:01,440
go to the insane level of splitting off

00:39:59,760 --> 00:40:02,240
like every module or whatever which is

00:40:01,440 --> 00:40:05,920
kind of crazy

00:40:02,240 --> 00:40:07,599
i do want to tackle this features thing

00:40:05,920 --> 00:40:10,319
in the chat so we don't use features

00:40:07,599 --> 00:40:12,079
very much like

00:40:10,319 --> 00:40:13,520
so i want to put that out there but the

00:40:12,079 --> 00:40:15,680
use case i like it

00:40:13,520 --> 00:40:16,880
i like is when you want let's say you

00:40:15,680 --> 00:40:21,280
want to um

00:40:16,880 --> 00:40:22,400
create like a library of like paragraphs

00:40:21,280 --> 00:40:24,640
or blocks

00:40:22,400 --> 00:40:25,680
and share those across the multi-site

00:40:24,640 --> 00:40:28,960
but then allow

00:40:25,680 --> 00:40:30,000
some variants um then you can have the

00:40:28,960 --> 00:40:32,480
features that

00:40:30,000 --> 00:40:34,640
makes them available and they can turn

00:40:32,480 --> 00:40:35,280
them on to turn on the paragraph type or

00:40:34,640 --> 00:40:37,680
whatever

00:40:35,280 --> 00:40:40,000
and then get customized and so again

00:40:37,680 --> 00:40:41,680
you're controlling those specific things

00:40:40,000 --> 00:40:45,200
at a platform level

00:40:41,680 --> 00:40:48,960
um maybe the the sites still

00:40:45,200 --> 00:40:51,119
kind of own their own configuration um

00:40:48,960 --> 00:40:53,200
you know but but they have access to

00:40:51,119 --> 00:40:54,079
this library of configuration that they

00:40:53,200 --> 00:40:55,440
can use and so

00:40:54,079 --> 00:40:57,839
that's kind of what features was

00:40:55,440 --> 00:41:00,000
intended to be used for

00:40:57,839 --> 00:41:01,119
in drupal 7 we ended up using it as like

00:41:00,000 --> 00:41:03,200
a poor man's

00:41:01,119 --> 00:41:04,560
configuration management and then that

00:41:03,200 --> 00:41:06,720
went away in favor of drupal

00:41:04,560 --> 00:41:08,720
configuration management which is great

00:41:06,720 --> 00:41:10,640
but like there are use cases for

00:41:08,720 --> 00:41:13,200
features and to me

00:41:10,640 --> 00:41:14,480
this is what it was for intended for is

00:41:13,200 --> 00:41:17,040
this sort of thing is like

00:41:14,480 --> 00:41:18,079
just packaging together some piece of

00:41:17,040 --> 00:41:20,319
functionality

00:41:18,079 --> 00:41:22,240
and allowing sites to enable that

00:41:20,319 --> 00:41:25,440
allowing them to override it

00:41:22,240 --> 00:41:27,280
um but again you know have having some

00:41:25,440 --> 00:41:29,680
you know platform control over that

00:41:27,280 --> 00:41:30,960
specific thing so

00:41:29,680 --> 00:41:32,720
there you go there's my pitch for

00:41:30,960 --> 00:41:37,440
features but again we don't

00:41:32,720 --> 00:41:39,200
use it very often yeah it

00:41:37,440 --> 00:41:40,800
i mean features original purpose even

00:41:39,200 --> 00:41:43,200
back in the um

00:41:40,800 --> 00:41:44,000
all previous to d8 days the intention

00:41:43,200 --> 00:41:46,319
was to

00:41:44,000 --> 00:41:47,520
package features that's what i would say

00:41:46,319 --> 00:41:48,480
whether you want to use it or not or it

00:41:47,520 --> 00:41:51,040
makes sense or not

00:41:48,480 --> 00:41:52,640
that was the intent and we in d7 we

00:41:51,040 --> 00:41:54,720
wound up using it for

00:41:52,640 --> 00:41:55,839
uh managing uh things before we had

00:41:54,720 --> 00:41:58,720
drupal config

00:41:55,839 --> 00:42:00,240
so um last couple of questions i think

00:41:58,720 --> 00:42:03,359
here in the q a and we could jump maybe

00:42:00,240 --> 00:42:05,760
to the booth midi current booth next but

00:42:03,359 --> 00:42:07,839
um how can you manage configurations for

00:42:05,760 --> 00:42:09,520
different sites in a multi-site setup

00:42:07,839 --> 00:42:11,359
i think we've talked around a lot of

00:42:09,520 --> 00:42:13,520
this already but

00:42:11,359 --> 00:42:15,119
um but you know it it depends on your

00:42:13,520 --> 00:42:16,640
setup but

00:42:15,119 --> 00:42:18,720
if you're talking drupal config and

00:42:16,640 --> 00:42:21,839
things like that um

00:42:18,720 --> 00:42:23,200
it's um you know there there's there's a

00:42:21,839 --> 00:42:24,160
number of different approaches

00:42:23,200 --> 00:42:26,160
this would be a good one i think for

00:42:24,160 --> 00:42:26,560
them yeah if they have more information

00:42:26,160 --> 00:42:28,560
then

00:42:26,560 --> 00:42:31,760
um yeah then we could dig into that in

00:42:28,560 --> 00:42:34,960
the in the bonus q and a as i call it

00:42:31,760 --> 00:42:36,800
yep totally and then uh cool tips on any

00:42:34,960 --> 00:42:38,160
cool tips on managing module usage

00:42:36,800 --> 00:42:41,200
across multi-sites

00:42:38,160 --> 00:42:43,680
or just continue to create spreadsheets

00:42:41,200 --> 00:42:44,480
from hell out of drush and that sounds

00:42:43,680 --> 00:42:47,520
like uh

00:42:44,480 --> 00:42:50,880
there's definitely some pains there yeah

00:42:47,520 --> 00:42:53,920
so we'll want to use composer for one um

00:42:50,880 --> 00:42:57,040
for custom modules i like the ability to

00:42:53,920 --> 00:42:58,640
um to do some organization in custom

00:42:57,040 --> 00:42:59,920
install profiles

00:42:58,640 --> 00:43:02,319
that doesn't really help you with like

00:42:59,920 --> 00:43:03,920
contrib um you know if you have

00:43:02,319 --> 00:43:06,000
so much variance even at like the

00:43:03,920 --> 00:43:07,280
contrib level but then

00:43:06,000 --> 00:43:09,440
maybe it doesn't make sense to have a

00:43:07,280 --> 00:43:12,160
multi-slide at all because at that point

00:43:09,440 --> 00:43:13,440
you're like well these sites are too

00:43:12,160 --> 00:43:17,440
dissimilar but

00:43:13,440 --> 00:43:19,280
so these hopefully

00:43:17,440 --> 00:43:21,040
you're finding that there you're able to

00:43:19,280 --> 00:43:21,599
take advantage of a lot of sharing with

00:43:21,040 --> 00:43:25,119
that

00:43:21,599 --> 00:43:28,400
then i like the ability to to organize

00:43:25,119 --> 00:43:29,680
custom logic within install profiles

00:43:28,400 --> 00:43:31,680
to keep things kind of clean and

00:43:29,680 --> 00:43:32,000
organized even when you have like a lot

00:43:31,680 --> 00:43:36,000
of

00:43:32,000 --> 00:43:37,440
um uh you know i'm saying variants a lot

00:43:36,000 --> 00:43:39,280
but a lot of variants between the

00:43:37,440 --> 00:43:42,800
the different types of sites you have

00:43:39,280 --> 00:43:42,800
different flavors of those sites

00:43:43,280 --> 00:43:46,560
well great well i appreciate everybody

00:43:46,000 --> 00:43:48,960
um

00:43:46,560 --> 00:43:49,920
for joining today and jay thanks for

00:43:48,960 --> 00:43:51,119
this

00:43:49,920 --> 00:43:53,520
this awesome talk seems like it

00:43:51,119 --> 00:43:56,720
resonates it's a very complex topic

00:43:53,520 --> 00:43:59,280
um but we will jump i think it's fun i

00:43:56,720 --> 00:44:01,040
like multi-sites they're fun

00:43:59,280 --> 00:44:03,040
so i enjoyed talking with you all today

00:44:01,040 --> 00:44:06,800
thank you very much for attending and

00:44:03,040 --> 00:44:08,640
i will see uh see some of you hopefully

00:44:06,800 --> 00:44:10,079
at a physical drupal con at some point

00:44:08,640 --> 00:44:12,000
in the future and then uh

00:44:10,079 --> 00:44:13,839
let's keep talking about multi-site

00:44:12,000 --> 00:44:23,839
questions over at the booth

00:44:13,839 --> 00:44:23,839

YouTube URL: https://www.youtube.com/watch?v=s5VfacTvth4


