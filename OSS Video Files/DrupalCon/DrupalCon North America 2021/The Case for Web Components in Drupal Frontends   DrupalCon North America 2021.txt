Title: The Case for Web Components in Drupal Frontends   DrupalCon North America 2021
Publication date: 2021-05-27
Playlist: DrupalCon North America 2021
Description: 
	An overview of web components and their advantages/disadvantages for Drupal frontends.
Captions: 
	00:00:00,080 --> 00:00:04,319
an hour to go through a lot of material

00:00:02,320 --> 00:00:06,480
and so we're going to get started

00:00:04,319 --> 00:00:07,680
hello and welcome to web components in

00:00:06,480 --> 00:00:09,519
drupal or

00:00:07,680 --> 00:00:11,360
as we advertise it the case for web

00:00:09,519 --> 00:00:14,920
components and drupal front ends

00:00:11,360 --> 00:00:17,760
i'm adam duran this is

00:00:14,920 --> 00:00:20,560
christopher bloom there you go uh we're

00:00:17,760 --> 00:00:22,400
gonna do really fast intros

00:00:20,560 --> 00:00:24,160
my name is adam duran i am a front-end

00:00:22,400 --> 00:00:26,560
architect at 1x internet

00:00:24,160 --> 00:00:28,160
uh based out of i'm based in brussels

00:00:26,560 --> 00:00:31,519
the main office is in frankfurt

00:00:28,160 --> 00:00:32,000
germany um i love design systems huge

00:00:31,519 --> 00:00:34,960
fan

00:00:32,000 --> 00:00:36,239
and i am what i call a standard bearer

00:00:34,960 --> 00:00:39,200
for best practices i'm

00:00:36,239 --> 00:00:40,079
always looking for the best way to do

00:00:39,200 --> 00:00:42,559
something

00:00:40,079 --> 00:00:43,600
uh i don't have all the answers but i'm

00:00:42,559 --> 00:00:46,800
always searching

00:00:43,600 --> 00:00:49,600
and yes i sing opera

00:00:46,800 --> 00:00:50,559
and i just got in the opera go ahead and

00:00:49,600 --> 00:00:54,160
i know kung fu

00:00:50,559 --> 00:00:56,480
just like chris uh hi i'm chris uh

00:00:54,160 --> 00:00:57,760
my hobbies are not that cool uh i'm a

00:00:56,480 --> 00:00:59,760
developer over at a place called

00:00:57,760 --> 00:01:01,039
knapsack.cloud that deals with design

00:00:59,760 --> 00:01:03,199
systems software

00:01:01,039 --> 00:01:04,400
i'm also very much a design systems

00:01:03,199 --> 00:01:06,320
advocate that's actually how

00:01:04,400 --> 00:01:07,680
adam and i met on twitter and became

00:01:06,320 --> 00:01:08,960
fast friends and then decided you know

00:01:07,680 --> 00:01:09,520
what hey we should do a presentation

00:01:08,960 --> 00:01:10,960
together

00:01:09,520 --> 00:01:12,640
um if you remember the particle project

00:01:10,960 --> 00:01:15,040
from a couple years ago um

00:01:12,640 --> 00:01:15,840
i helped help run that for a while which

00:01:15,040 --> 00:01:19,840
leads us

00:01:15,840 --> 00:01:22,720
to this conversation right now

00:01:19,840 --> 00:01:23,759
so we are assuming that you all have

00:01:22,720 --> 00:01:26,159
some of these

00:01:23,759 --> 00:01:27,520
foundations to follow this conversation

00:01:26,159 --> 00:01:30,479
we are assuming that you all

00:01:27,520 --> 00:01:30,960
have uh some experience with javascript

00:01:30,479 --> 00:01:35,040
es

00:01:30,960 --> 00:01:38,079
es6 class syntax uh modern javascript

00:01:35,040 --> 00:01:40,640
uh npm uh html5

00:01:38,079 --> 00:01:41,600
and the drupal theme layer although not

00:01:40,640 --> 00:01:45,040
so much of that

00:01:41,600 --> 00:01:47,280
oddly enough all right now

00:01:45,040 --> 00:01:49,119
real fast what is it what's a web

00:01:47,280 --> 00:01:52,320
component what is a custom element

00:01:49,119 --> 00:01:54,720
um these are web platform

00:01:52,320 --> 00:01:55,360
apis web standards that allow us to

00:01:54,720 --> 00:01:58,240
create

00:01:55,360 --> 00:01:59,040
our own custom elements that all modern

00:01:58,240 --> 00:02:01,920
browsers

00:01:59,040 --> 00:02:03,040
understand natively if you take a look

00:02:01,920 --> 00:02:04,240
at the code example

00:02:03,040 --> 00:02:07,280
there should be two lines that are

00:02:04,240 --> 00:02:09,599
highlighted you should see a ds dash

00:02:07,280 --> 00:02:11,760
design system card okay with that custom

00:02:09,599 --> 00:02:15,599
attribute on it for mode

00:02:11,760 --> 00:02:18,640
you can see a ds-image a ds-title

00:02:15,599 --> 00:02:19,840
slots default content what we're trying

00:02:18,640 --> 00:02:21,520
to show here is that

00:02:19,840 --> 00:02:23,040
every one of these elements does not

00:02:21,520 --> 00:02:25,200
currently exist as

00:02:23,040 --> 00:02:26,640
a part of the html5 spec but you get to

00:02:25,200 --> 00:02:28,720
make them and you can

00:02:26,640 --> 00:02:30,640
make any of your own custom elements

00:02:28,720 --> 00:02:33,280
that you want

00:02:30,640 --> 00:02:34,879
and why do we want to do that well

00:02:33,280 --> 00:02:37,360
because

00:02:34,879 --> 00:02:37,920
these components are reusable not just

00:02:37,360 --> 00:02:41,200
in a

00:02:37,920 --> 00:02:43,280
in a website but also in

00:02:41,200 --> 00:02:44,480
uh applications and even other

00:02:43,280 --> 00:02:48,000
frameworks

00:02:44,480 --> 00:02:51,200
you can use web components in view react

00:02:48,000 --> 00:02:55,040
spells or html

00:02:51,200 --> 00:02:58,400
all right now this feels kind of like

00:02:55,040 --> 00:03:00,640
uh the the the holy grail if you will

00:02:58,400 --> 00:03:02,480
adam you have words on this

00:03:00,640 --> 00:03:04,640
yeah i do i feel like it is the holy

00:03:02,480 --> 00:03:07,680
grail because you can really

00:03:04,640 --> 00:03:08,640
create a web component you can create a

00:03:07,680 --> 00:03:11,920
component

00:03:08,640 --> 00:03:13,680
and place it anywhere um this has been

00:03:11,920 --> 00:03:16,720
apparently uh web standard

00:03:13,680 --> 00:03:19,280
for 10 years but it hasn't really

00:03:16,720 --> 00:03:20,400
gotten a lot of support until recently

00:03:19,280 --> 00:03:22,000
um

00:03:20,400 --> 00:03:23,599
there's still some gotchas with ie11

00:03:22,000 --> 00:03:26,159
which we'll discuss later but

00:03:23,599 --> 00:03:26,720
uh since i 11 is going bye-bye in a few

00:03:26,159 --> 00:03:30,000
months

00:03:26,720 --> 00:03:32,720
we're really excited all right

00:03:30,000 --> 00:03:34,560
so let's dive into a web component see

00:03:32,720 --> 00:03:35,040
how we can make one we saw that pretty

00:03:34,560 --> 00:03:36,720
card

00:03:35,040 --> 00:03:38,159
uh picture earlier that nice little

00:03:36,720 --> 00:03:39,599
design component

00:03:38,159 --> 00:03:42,080
what kind of code does it take to get

00:03:39,599 --> 00:03:45,360
there uh all we need to do is we need to

00:03:42,080 --> 00:03:47,599
extend a class that exists in

00:03:45,360 --> 00:03:48,959
all modern browser runtimes it's the

00:03:47,599 --> 00:03:51,599
html element class

00:03:48,959 --> 00:03:52,080
we then simply need to override a method

00:03:51,599 --> 00:03:54,560
called

00:03:52,080 --> 00:03:56,080
connectedcallback and all we have to do

00:03:54,560 --> 00:03:58,319
is return a string

00:03:56,080 --> 00:04:00,400
that looks like html that's it that's

00:03:58,319 --> 00:04:03,040
all as long as this javascript

00:04:00,400 --> 00:04:04,239
makes it to a browser you have a custom

00:04:03,040 --> 00:04:05,519
element you can make it do anything you

00:04:04,239 --> 00:04:06,480
want now one of the last things we have

00:04:05,519 --> 00:04:09,519
to do is we have to

00:04:06,480 --> 00:04:12,560
register it customers.define

00:04:09,519 --> 00:04:14,080
this this is the class this is the

00:04:12,560 --> 00:04:16,959
element name that you will see

00:04:14,080 --> 00:04:17,759
in the markup and you attach it to your

00:04:16,959 --> 00:04:20,160
custom

00:04:17,759 --> 00:04:22,240
javascript finally this is how we

00:04:20,160 --> 00:04:23,120
actually use it as long as this appears

00:04:22,240 --> 00:04:26,880
in some kind of

00:04:23,120 --> 00:04:29,840
dom and some kind of html your component

00:04:26,880 --> 00:04:30,400
comes on right over and we can say hello

00:04:29,840 --> 00:04:34,000
world

00:04:30,400 --> 00:04:35,440
all right now that's all well and good

00:04:34,000 --> 00:04:37,919
but that's just the basics

00:04:35,440 --> 00:04:39,919
um probably the coolest name to

00:04:37,919 --> 00:04:41,280
technology in all of the internet is the

00:04:39,919 --> 00:04:43,680
shadow dom

00:04:41,280 --> 00:04:45,199
and in the shadow dom what we're able to

00:04:43,680 --> 00:04:48,320
do is we're actually able to

00:04:45,199 --> 00:04:51,280
encapsulate not only our markup but our

00:04:48,320 --> 00:04:52,400
styles and our logic and this allows us

00:04:51,280 --> 00:04:55,199
to take a web component

00:04:52,400 --> 00:04:56,080
and give it to some other site or

00:04:55,199 --> 00:04:58,960
framework or

00:04:56,080 --> 00:05:00,880
user and it brings over everything it

00:04:58,960 --> 00:05:03,440
needs to look perfect

00:05:00,880 --> 00:05:04,639
what's important here is that we are

00:05:03,440 --> 00:05:07,680
scoped we have these

00:05:04,639 --> 00:05:09,520
scoped styles so anything that we do

00:05:07,680 --> 00:05:10,800
to make this look a certain way and to

00:05:09,520 --> 00:05:13,600
style it a certain way

00:05:10,800 --> 00:05:14,080
it will not be overridden or stepped on

00:05:13,600 --> 00:05:16,479
by

00:05:14,080 --> 00:05:17,199
the global yes already exist unless we

00:05:16,479 --> 00:05:20,800
want it to

00:05:17,199 --> 00:05:24,240
next slide please all right

00:05:20,800 --> 00:05:27,039
so we're going to take a look at the uh

00:05:24,240 --> 00:05:29,120
the static function get styles and you

00:05:27,039 --> 00:05:30,240
can see that we're just returning uh

00:05:29,120 --> 00:05:32,400
some css

00:05:30,240 --> 00:05:33,360
and oh what is this this is a host

00:05:32,400 --> 00:05:35,199
selector

00:05:33,360 --> 00:05:36,800
and if you're wondering to yourself what

00:05:35,199 --> 00:05:39,680
is host host

00:05:36,800 --> 00:05:41,919
selects the custom element itself so you

00:05:39,680 --> 00:05:46,080
don't actually need any more

00:05:41,919 --> 00:05:48,000
uh markup inside of your web component

00:05:46,080 --> 00:05:50,160
at all actually you can see on line 17

00:05:48,000 --> 00:05:53,039
return html i'm styled

00:05:50,160 --> 00:05:53,919
so really quickly uh there's some styles

00:05:53,039 --> 00:05:57,280
in here they are

00:05:53,919 --> 00:05:58,080
scoped and uh we're using for this

00:05:57,280 --> 00:06:01,360
demonstration

00:05:58,080 --> 00:06:04,000
on line seven primary color uh

00:06:01,360 --> 00:06:05,680
css variable with a fallback to uh

00:06:04,000 --> 00:06:09,600
chris's favorite rebecca purple

00:06:05,680 --> 00:06:13,360
so um this is kind of the

00:06:09,600 --> 00:06:15,440
the new css and js um

00:06:13,360 --> 00:06:18,080
but you're wondering if we've just said

00:06:15,440 --> 00:06:21,280
these are encapsulated styles

00:06:18,080 --> 00:06:22,080
but we have um this primary color css

00:06:21,280 --> 00:06:24,319
variable

00:06:22,080 --> 00:06:25,440
how does that all work next now before

00:06:24,319 --> 00:06:27,280
we jump to the next slide

00:06:25,440 --> 00:06:29,120
real quick we are cheating on this

00:06:27,280 --> 00:06:30,479
example because we're reaching for a

00:06:29,120 --> 00:06:31,759
framework which we're going to get into

00:06:30,479 --> 00:06:33,199
a little bit later if the

00:06:31,759 --> 00:06:34,720
code looks a little bit different

00:06:33,199 --> 00:06:35,680
frameworks are going to make the amount

00:06:34,720 --> 00:06:39,840
of boilerplate

00:06:35,680 --> 00:06:42,960
we write a whole lot less there you go

00:06:39,840 --> 00:06:46,000
so uh we have this example uh of our

00:06:42,960 --> 00:06:47,280
my hello again where again just for

00:06:46,000 --> 00:06:49,440
simplicity we're showing only the

00:06:47,280 --> 00:06:52,560
background far primary color

00:06:49,440 --> 00:06:55,280
the fallback of rebecca purple and

00:06:52,560 --> 00:06:56,240
it will be with in absence of primary

00:06:55,280 --> 00:07:00,840
color

00:06:56,240 --> 00:07:03,599
it'll be purple but if in the global

00:07:00,840 --> 00:07:04,560
styles global styles we set the css

00:07:03,599 --> 00:07:07,520
fireball

00:07:04,560 --> 00:07:08,080
cs as a variable i'm going too fast of

00:07:07,520 --> 00:07:10,960
red

00:07:08,080 --> 00:07:12,080
primary color to red it will in fact be

00:07:10,960 --> 00:07:15,440
red

00:07:12,080 --> 00:07:17,759
or serena like even more specific

00:07:15,440 --> 00:07:18,639
if this doesn't exist if this doesn't

00:07:17,759 --> 00:07:21,680
exist

00:07:18,639 --> 00:07:23,120
this becomes purple but if we do allow

00:07:21,680 --> 00:07:27,280
it to exist

00:07:23,120 --> 00:07:30,000
it takes on the value now if we assigned

00:07:27,280 --> 00:07:31,680
that primary color at the level of that

00:07:30,000 --> 00:07:34,560
css var example which

00:07:31,680 --> 00:07:35,680
you see up in line two of the first uh

00:07:34,560 --> 00:07:39,039
markup block

00:07:35,680 --> 00:07:42,319
if we set it to blue that supersedes

00:07:39,039 --> 00:07:45,360
what we did at the root and the

00:07:42,319 --> 00:07:47,599
the component will be blue

00:07:45,360 --> 00:07:49,520
all right now if there's any questions

00:07:47,599 --> 00:07:49,840
for q uh that you want to ask us at the

00:07:49,520 --> 00:07:52,319
end

00:07:49,840 --> 00:07:53,680
let us know hop into the q a tab this is

00:07:52,319 --> 00:07:54,960
kind of we're getting into the code

00:07:53,680 --> 00:07:56,319
uh if you have anything there's a lot

00:07:54,960 --> 00:07:58,160
more i'll say this really quick there's

00:07:56,319 --> 00:07:59,360
a lot more to styling web components

00:07:58,160 --> 00:08:02,240
than just host

00:07:59,360 --> 00:08:03,360
uh but that is outside the scope of this

00:08:02,240 --> 00:08:06,080
session

00:08:03,360 --> 00:08:08,240
all right now how do we get this into

00:08:06,080 --> 00:08:10,240
drupal that's what everybody

00:08:08,240 --> 00:08:12,000
i'm going to assume at drupalcon is here

00:08:10,240 --> 00:08:13,520
for cool how do i get this in drupal

00:08:12,000 --> 00:08:15,360
i hate to be kind of a downer or a

00:08:13,520 --> 00:08:17,039
letdown it's no big deal

00:08:15,360 --> 00:08:18,720
there's no magic it's you just use the

00:08:17,039 --> 00:08:20,639
you just use the element in your twig

00:08:18,720 --> 00:08:22,960
it's that simple we've been doing this

00:08:20,639 --> 00:08:25,759
for half a decade with twig partials or

00:08:22,960 --> 00:08:27,599
the components module in drupal already

00:08:25,759 --> 00:08:29,120
and instead of importing another twig

00:08:27,599 --> 00:08:32,320
file by like

00:08:29,120 --> 00:08:33,519
a namespace you just simply mention your

00:08:32,320 --> 00:08:36,880
component element

00:08:33,519 --> 00:08:38,640
and pass values into it the way we pass

00:08:36,880 --> 00:08:40,240
values into it is the way we've passed

00:08:38,640 --> 00:08:42,399
values into twig

00:08:40,240 --> 00:08:43,839
since drupal 8 was released we've got a

00:08:42,399 --> 00:08:46,959
custom attribute here called

00:08:43,839 --> 00:08:48,640
name and we're going to reach into

00:08:46,959 --> 00:08:50,320
this block i'm pretending we made a

00:08:48,640 --> 00:08:52,720
block called the hello world

00:08:50,320 --> 00:08:54,000
entity in drupal it's got a field on it

00:08:52,720 --> 00:08:56,080
apparently called

00:08:54,000 --> 00:08:57,200
headline we're going to reach in we're

00:08:56,080 --> 00:08:58,720
going to grab the value and we're going

00:08:57,200 --> 00:09:01,200
to pass it right across

00:08:58,720 --> 00:09:02,000
the html attribute into the custom

00:09:01,200 --> 00:09:05,360
element

00:09:02,000 --> 00:09:08,560
that's it no magic

00:09:05,360 --> 00:09:09,120
all right so what you may or may not

00:09:08,560 --> 00:09:11,120
know

00:09:09,120 --> 00:09:12,160
this is like when you buy a new car and

00:09:11,120 --> 00:09:14,240
all of a sudden you go

00:09:12,160 --> 00:09:15,839
go out on the highway and everyone has

00:09:14,240 --> 00:09:16,720
the same car well you're going to start

00:09:15,839 --> 00:09:17,839
looking under the hood

00:09:16,720 --> 00:09:19,600
of your favorite websites and you're

00:09:17,839 --> 00:09:20,640
going to realize that custom elements

00:09:19,600 --> 00:09:21,920
are really

00:09:20,640 --> 00:09:25,120
actually being used in a lot of

00:09:21,920 --> 00:09:26,880
different places this is the ea.com

00:09:25,120 --> 00:09:28,880
website and you can see they have this

00:09:26,880 --> 00:09:31,760
ea game box component

00:09:28,880 --> 00:09:32,480
it's got slots and it's got all of these

00:09:31,760 --> 00:09:34,800
attributes

00:09:32,480 --> 00:09:35,680
background image and alt text and a logo

00:09:34,800 --> 00:09:37,040
url

00:09:35,680 --> 00:09:38,880
and it's really small and i'm having

00:09:37,040 --> 00:09:41,680
trouble reading the other fields

00:09:38,880 --> 00:09:43,279
but um you can see it has a shadow root

00:09:41,680 --> 00:09:46,720
uh it's got some styles

00:09:43,279 --> 00:09:48,000
it has both standard html5 markup inside

00:09:46,720 --> 00:09:50,959
and oh what's that

00:09:48,000 --> 00:09:52,320
they have a lazy image component so you

00:09:50,959 --> 00:09:55,600
can put components

00:09:52,320 --> 00:09:59,120
inside of components and

00:09:55,600 --> 00:09:59,680
it's really it's really beautiful

00:09:59,120 --> 00:10:03,200
writing

00:09:59,680 --> 00:10:06,640
writing these components as markup is

00:10:03,200 --> 00:10:08,399
is it's just beautiful uh i recommend

00:10:06,640 --> 00:10:10,000
everybody go hit ea.com right now

00:10:08,399 --> 00:10:11,360
open up the dom and start inspecting

00:10:10,000 --> 00:10:14,160
you're going to be you're going to see a

00:10:11,360 --> 00:10:17,360
whole world open up of possibilities

00:10:14,160 --> 00:10:18,560
let alone video games which i love um uh

00:10:17,360 --> 00:10:20,320
these folks over here

00:10:18,560 --> 00:10:22,399
phase 2 technology recently relaunched

00:10:20,320 --> 00:10:22,959
their website fully in web components as

00:10:22,399 --> 00:10:25,200
well

00:10:22,959 --> 00:10:26,480
um inspect anything uh find this little

00:10:25,200 --> 00:10:28,320
this little dot here

00:10:26,480 --> 00:10:30,000
uh this heading right here i've got

00:10:28,320 --> 00:10:32,160
highlighted you'll see the namespace of

00:10:30,000 --> 00:10:34,160
p2-heading p2-dot

00:10:32,160 --> 00:10:35,839
um where you're going to see a bunch of

00:10:34,160 --> 00:10:38,880
design systems

00:10:35,839 --> 00:10:40,560
rules encapsulated in these components

00:10:38,880 --> 00:10:42,399
you'll be able to if you've ever messed

00:10:40,560 --> 00:10:43,600
with react all of this should look

00:10:42,399 --> 00:10:46,320
extremely similar

00:10:43,600 --> 00:10:47,519
it's little components that have props

00:10:46,320 --> 00:10:49,279
in the react world we call them

00:10:47,519 --> 00:10:51,360
attributes in the web components world

00:10:49,279 --> 00:10:54,800
that we can send different values to and

00:10:51,360 --> 00:10:54,800
the browser responds immediately

00:10:57,120 --> 00:11:04,800
next thought there we go this is

00:11:01,200 --> 00:11:07,440
ch this lasea is a product of schwab

00:11:04,800 --> 00:11:08,160
pharmaceuticals and we recently launched

00:11:07,440 --> 00:11:10,800
this site

00:11:08,160 --> 00:11:11,279
uh with all web components on the front

00:11:10,800 --> 00:11:13,760
end

00:11:11,279 --> 00:11:16,000
and you can see here that there's a

00:11:13,760 --> 00:11:18,079
there's a header with its slots for all

00:11:16,000 --> 00:11:18,880
of the branding and the the menu and the

00:11:18,079 --> 00:11:21,279
search

00:11:18,880 --> 00:11:22,880
and with the drop down inside and the

00:11:21,279 --> 00:11:25,600
drop down is a slot for button

00:11:22,880 --> 00:11:27,279
and it's really it's just writing these

00:11:25,600 --> 00:11:28,959
custom elements and

00:11:27,279 --> 00:11:31,200
together as their own patterns they

00:11:28,959 --> 00:11:32,399
really like anything can go inside of

00:11:31,200 --> 00:11:35,120
anything else

00:11:32,399 --> 00:11:36,640
it it really makes that whole separation

00:11:35,120 --> 00:11:39,440
of concerns

00:11:36,640 --> 00:11:41,200
just the easiest thing in the world adam

00:11:39,440 --> 00:11:43,920
what does the sw

00:11:41,200 --> 00:11:44,959
name space stand for it's just for

00:11:43,920 --> 00:11:48,800
schwab

00:11:44,959 --> 00:11:50,639
which is spelled s-c-h-w-a-b-e but

00:11:48,800 --> 00:11:52,399
we only wanted to keep it to two letters

00:11:50,639 --> 00:11:55,200
and so we went with sw

00:11:52,399 --> 00:11:56,079
nice very nice um and one more uh just

00:11:55,200 --> 00:11:57,760
to throw out here

00:11:56,079 --> 00:12:00,160
we don't need to get too far into it but

00:11:57,760 --> 00:12:02,240
um aes.com is an energy

00:12:00,160 --> 00:12:03,839
organization we're using this one uh

00:12:02,240 --> 00:12:04,639
specifically because it uses these

00:12:03,839 --> 00:12:06,720
stencil

00:12:04,639 --> 00:12:08,959
web components framework which brings

00:12:06,720 --> 00:12:10,160
over a whole lot of extra goodies you do

00:12:08,959 --> 00:12:12,560
not have to write by hand

00:12:10,160 --> 00:12:14,560
i recommend go to aes.com open up the

00:12:12,560 --> 00:12:15,360
network inspector and watch the web

00:12:14,560 --> 00:12:18,079
components

00:12:15,360 --> 00:12:19,839
streaming dynamically to the page based

00:12:18,079 --> 00:12:21,680
on if they're used or not so this is

00:12:19,839 --> 00:12:23,200
one uh this is an example of you don't

00:12:21,680 --> 00:12:24,959
have to load everything

00:12:23,200 --> 00:12:26,160
you can get dynamic loading of just the

00:12:24,959 --> 00:12:26,639
web components you need which is very

00:12:26,160 --> 00:12:28,720
efficient

00:12:26,639 --> 00:12:30,320
actually do that you could build a web

00:12:28,720 --> 00:12:32,560
component that uses

00:12:30,320 --> 00:12:34,160
intersection observer to do that itself

00:12:32,560 --> 00:12:36,800
it's just that in stencil it

00:12:34,160 --> 00:12:38,000
comes out of the box yep does it for you

00:12:36,800 --> 00:12:41,360
all right um

00:12:38,000 --> 00:12:43,760
so uh adam this is this is mine so

00:12:41,360 --> 00:12:45,600
we recommend believe it or not that you

00:12:43,760 --> 00:12:48,480
publish your design system

00:12:45,600 --> 00:12:49,040
your web components as an npm package

00:12:48,480 --> 00:12:52,000
and this

00:12:49,040 --> 00:12:54,320
is be so you can import it it can be

00:12:52,000 --> 00:12:57,600
consumed by your drupal front end

00:12:54,320 --> 00:12:58,399
or it could be consumed by any other

00:12:57,600 --> 00:13:02,480
application

00:12:58,399 --> 00:13:05,680
related to your project or or another

00:13:02,480 --> 00:13:08,560
through a framework you could have a re

00:13:05,680 --> 00:13:09,279
react widget inside which we do actually

00:13:08,560 --> 00:13:12,720
in the schwab

00:13:09,279 --> 00:13:13,920
site uh in a paragraph and you just drop

00:13:12,720 --> 00:13:16,160
in web components

00:13:13,920 --> 00:13:17,920
and the the button inside the react

00:13:16,160 --> 00:13:20,639
looks same as the button

00:13:17,920 --> 00:13:21,040
inside of drupal instead of drupal now

00:13:20,639 --> 00:13:22,639
something

00:13:21,040 --> 00:13:24,399
important to point out here publishing a

00:13:22,639 --> 00:13:25,920
package does not mean automatically

00:13:24,399 --> 00:13:27,120
making it public i know sometimes we

00:13:25,920 --> 00:13:28,240
work with folks who don't want all their

00:13:27,120 --> 00:13:31,839
stuff out on the internet

00:13:28,240 --> 00:13:35,040
uh git hub get lab even npm

00:13:31,839 --> 00:13:36,160
all have private options for no extra

00:13:35,040 --> 00:13:38,240
cost and

00:13:36,160 --> 00:13:40,000
especially github with their automatic

00:13:38,240 --> 00:13:41,199
private package repositories it's a

00:13:40,000 --> 00:13:44,399
wonderful way

00:13:41,199 --> 00:13:46,560
to have a standalone repository for the

00:13:44,399 --> 00:13:48,880
design system for your components

00:13:46,560 --> 00:13:50,160
you publish packages and then you have

00:13:48,880 --> 00:13:52,880
versions we have versions

00:13:50,160 --> 00:13:52,880
there's a lot of power

00:13:53,279 --> 00:13:56,560
all right uh let's talk about the second

00:13:55,760 --> 00:13:59,760
recommendation

00:13:56,560 --> 00:14:02,160
you heard i mentioned versions um this

00:13:59,760 --> 00:14:05,440
is how we get this into drupal

00:14:02,160 --> 00:14:07,680
how do we consume these let's pretend

00:14:05,440 --> 00:14:08,560
this is a package json sitting at the

00:14:07,680 --> 00:14:11,920
root of

00:14:08,560 --> 00:14:12,560
our drupal project all we do is we just

00:14:11,920 --> 00:14:14,000
point it

00:14:12,560 --> 00:14:16,720
to where our package lives and actually

00:14:14,000 --> 00:14:20,480
if you go to uh github

00:14:16,720 --> 00:14:22,560
drupalcon wc i made the a button

00:14:20,480 --> 00:14:23,519
to demonstrate this but this is how we

00:14:22,560 --> 00:14:26,880
can pull this in

00:14:23,519 --> 00:14:28,880
now to feed all that javascript into

00:14:26,880 --> 00:14:32,320
drupal we can do something as simple

00:14:28,880 --> 00:14:33,199
as reaching into our library's yaml file

00:14:32,320 --> 00:14:36,320
at our theme

00:14:33,199 --> 00:14:39,040
right and then pointing to

00:14:36,320 --> 00:14:40,800
our javascript file i'm doing a simple

00:14:39,040 --> 00:14:42,079
little copy here

00:14:40,800 --> 00:14:43,600
so we don't need a build step this is

00:14:42,079 --> 00:14:44,639
one of the amazing things about modern

00:14:43,600 --> 00:14:46,320
web components

00:14:44,639 --> 00:14:48,000
frameworks you don't need a build step

00:14:46,320 --> 00:14:50,240
in drupal how many times have you had to

00:14:48,000 --> 00:14:51,760
wait for a drupal theme to build

00:14:50,240 --> 00:14:53,279
because there's so much javascript

00:14:51,760 --> 00:14:54,320
you've got to wait for um it can be as

00:14:53,279 --> 00:14:56,399
simple as copy

00:14:54,320 --> 00:14:57,360
and moving to a new directory so here

00:14:56,399 --> 00:14:58,639
you go

00:14:57,360 --> 00:15:00,959
reference the javascript file in the

00:14:58,639 --> 00:15:03,199
yaml and

00:15:00,959 --> 00:15:04,639
some global css if you need to um if

00:15:03,199 --> 00:15:06,480
your drupal needs it

00:15:04,639 --> 00:15:08,480
you can bring over some custom global

00:15:06,480 --> 00:15:09,600
styles as well

00:15:08,480 --> 00:15:12,160
adam do you have anything to add to this

00:15:09,600 --> 00:15:15,360
one no you've covered it all

00:15:12,160 --> 00:15:16,399
all right uh and finally uh so now that

00:15:15,360 --> 00:15:18,959
we're releasing

00:15:16,399 --> 00:15:20,800
packages for our design system as we do

00:15:18,959 --> 00:15:21,760
work as we merge into the main branch or

00:15:20,800 --> 00:15:23,279
whatever

00:15:21,760 --> 00:15:25,199
don't do it by hand let the robots do

00:15:23,279 --> 00:15:26,880
the work for you i recommend

00:15:25,199 --> 00:15:28,399
auto in particular auto is a really

00:15:26,880 --> 00:15:29,600
really awesome project but here's a

00:15:28,399 --> 00:15:32,800
couple of others

00:15:29,600 --> 00:15:34,800
that basically let you take your ci

00:15:32,800 --> 00:15:35,920
and then just automatically make

00:15:34,800 --> 00:15:39,120
packages it's

00:15:35,920 --> 00:15:42,800
normal to build a project

00:15:39,120 --> 00:15:45,920
and have hundreds of patch versions

00:15:42,800 --> 00:15:48,079
of your package that's totally okay um

00:15:45,920 --> 00:15:49,120
being able to automate this in ci in

00:15:48,079 --> 00:15:52,480
github actions

00:15:49,120 --> 00:15:54,320
and get lab ci there's a lot of power

00:15:52,480 --> 00:15:55,600
here and just letting the robots release

00:15:54,320 --> 00:15:58,399
the packages and then letting other

00:15:55,600 --> 00:15:58,399
things consume them

00:15:58,959 --> 00:16:05,600
all right now why do we want to

00:16:02,240 --> 00:16:08,800
separate our design system entirely

00:16:05,600 --> 00:16:10,000
from our drupal website well have you

00:16:08,800 --> 00:16:12,880
ever

00:16:10,000 --> 00:16:14,320
tried to spin up in a website or a page

00:16:12,880 --> 00:16:16,880
in drupal to show

00:16:14,320 --> 00:16:18,079
every variation all 30 or so variations

00:16:16,880 --> 00:16:20,880
of a button

00:16:18,079 --> 00:16:22,240
can you imagine having to do that the

00:16:20,880 --> 00:16:24,880
tooling uh

00:16:22,240 --> 00:16:25,600
for design systems which uh like

00:16:24,880 --> 00:16:27,920
knapsack

00:16:25,600 --> 00:16:29,600
uh where chris works or for a smear

00:16:27,920 --> 00:16:32,399
mortals storybook

00:16:29,600 --> 00:16:34,880
um allows you to do just that um it

00:16:32,399 --> 00:16:38,399
allows you to show every variation

00:16:34,880 --> 00:16:40,880
every size every color uh

00:16:38,399 --> 00:16:42,560
of everything in your design system not

00:16:40,880 --> 00:16:45,360
obviously not just the buttons

00:16:42,560 --> 00:16:45,920
uh a huge benefit also it doesn't take

00:16:45,360 --> 00:16:49,199
so long

00:16:45,920 --> 00:16:51,519
to reload the page um so you can really

00:16:49,199 --> 00:16:52,959
be working just like pattern lab you can

00:16:51,519 --> 00:16:56,399
be really working much more

00:16:52,959 --> 00:16:57,600
quickly in the design aspects

00:16:56,399 --> 00:16:59,759
uh and not have to worry about

00:16:57,600 --> 00:17:02,000
integration quite yet

00:16:59,759 --> 00:17:02,959
so uh mark i i couldn't help but look in

00:17:02,000 --> 00:17:04,880
the comments there we're gonna talk

00:17:02,959 --> 00:17:07,199
about pattern lab here in just a second

00:17:04,880 --> 00:17:09,280
um i'm glad there are a lot just we're

00:17:07,199 --> 00:17:11,120
making we're making good time

00:17:09,280 --> 00:17:12,640
there's a lot of great questions i think

00:17:11,120 --> 00:17:14,480
we're going to get to a bunch of them

00:17:12,640 --> 00:17:16,319
so hold on guys we'll we will get there

00:17:14,480 --> 00:17:18,959
but we want to get to this

00:17:16,319 --> 00:17:20,880
all right so real fast why why why

00:17:18,959 --> 00:17:22,880
approach this why web components

00:17:20,880 --> 00:17:24,160
with a design system and then versions

00:17:22,880 --> 00:17:25,919
for your design system

00:17:24,160 --> 00:17:27,600
um being able to release sort of out of

00:17:25,919 --> 00:17:28,640
bound from the application can give you

00:17:27,600 --> 00:17:30,559
some advantages

00:17:28,640 --> 00:17:32,960
um i've been on projects in the past

00:17:30,559 --> 00:17:35,200
where uh you know we'd build one site

00:17:32,960 --> 00:17:37,440
and then we'd need like multiple sites

00:17:35,200 --> 00:17:39,840
right for say like a client

00:17:37,440 --> 00:17:41,440
but as the design system improved over

00:17:39,840 --> 00:17:43,440
time we didn't necessarily want that

00:17:41,440 --> 00:17:45,039
first site to just automatically get all

00:17:43,440 --> 00:17:45,520
the upgrades willy-nilly and actually

00:17:45,039 --> 00:17:48,720
led

00:17:45,520 --> 00:17:49,760
to some kind of frozen abilities to kind

00:17:48,720 --> 00:17:52,480
of improve

00:17:49,760 --> 00:17:53,440
this allows you to freeze the way your

00:17:52,480 --> 00:17:56,000
stuff looks

00:17:53,440 --> 00:17:57,200
to a point in time and then continue

00:17:56,000 --> 00:18:00,960
improving it you can

00:17:57,200 --> 00:18:02,160
iterate and you can roll back let's say

00:18:00,960 --> 00:18:03,760
that you've got a design system that

00:18:02,160 --> 00:18:05,360
said version 112.

00:18:03,760 --> 00:18:07,039
there's a regression something goes

00:18:05,360 --> 00:18:09,200
wrong oops

00:18:07,039 --> 00:18:10,400
hey we need a ci we need to we need to

00:18:09,200 --> 00:18:13,440
get this off production

00:18:10,400 --> 00:18:15,440
uh for whatever reason it's easy to just

00:18:13,440 --> 00:18:17,440
hop back to the other version run ci and

00:18:15,440 --> 00:18:19,200
build again and boom we're now at the

00:18:17,440 --> 00:18:20,799
prior version so you get effectively

00:18:19,200 --> 00:18:23,520
unlimited history for up

00:18:20,799 --> 00:18:24,960
what is ultimately maybe the most code

00:18:23,520 --> 00:18:26,960
in your code base which is

00:18:24,960 --> 00:18:29,840
tons of styles tons of markup tons of

00:18:26,960 --> 00:18:29,840
javascript

00:18:30,799 --> 00:18:37,440
there we go and another why is because

00:18:34,480 --> 00:18:38,160
of reusability you as i've already said

00:18:37,440 --> 00:18:39,760
this is

00:18:38,160 --> 00:18:42,080
my favorite thing you can put your web

00:18:39,760 --> 00:18:44,320
component in triple you can

00:18:42,080 --> 00:18:46,080
use it in other frameworks uh if you go

00:18:44,320 --> 00:18:49,200
to custom elements everywhere

00:18:46,080 --> 00:18:49,760
they actually uh do these status reports

00:18:49,200 --> 00:18:52,720
of what

00:18:49,760 --> 00:18:53,360
how custom elements work in sync with

00:18:52,720 --> 00:18:56,480
svelte

00:18:53,360 --> 00:18:58,720
or consumed by vue or or

00:18:56,480 --> 00:19:00,240
would choose your favorite framework

00:18:58,720 --> 00:19:02,960
custom elements

00:19:00,240 --> 00:19:03,760
can work inside of them all right and of

00:19:02,960 --> 00:19:06,960
course

00:19:03,760 --> 00:19:08,160
custom elements everywhere i mean they

00:19:06,960 --> 00:19:08,799
are they're already out there they've

00:19:08,160 --> 00:19:11,280
just sort of

00:19:08,799 --> 00:19:13,440
snuck in uh to a lot of the major

00:19:11,280 --> 00:19:15,440
websites that that we use uh that are

00:19:13,440 --> 00:19:17,039
a big part of our lives all right so

00:19:15,440 --> 00:19:18,400
adam you got this one but this this does

00:19:17,039 --> 00:19:19,840
answer the panel lab question earlier

00:19:18,400 --> 00:19:22,480
yeah so why not pattern lab

00:19:19,840 --> 00:19:24,000
i know chris and i have talked for years

00:19:22,480 --> 00:19:27,039
at triple cons about pattern

00:19:24,000 --> 00:19:29,679
lab and we love pattern lab

00:19:27,039 --> 00:19:31,440
it's but it has its limitations because

00:19:29,679 --> 00:19:32,160
because it's bound to php and they're

00:19:31,440 --> 00:19:34,960
for it up

00:19:32,160 --> 00:19:38,160
and and because it is in as we use it in

00:19:34,960 --> 00:19:39,280
drupal uh uses tweak templates you

00:19:38,160 --> 00:19:41,280
cannot

00:19:39,280 --> 00:19:42,880
get javascript okay you can using

00:19:41,280 --> 00:19:45,360
tweak.js but it's really

00:19:42,880 --> 00:19:46,240
hard to get javascript to just plain old

00:19:45,360 --> 00:19:48,400
render twig

00:19:46,240 --> 00:19:49,760
it's it's some hoops you have to jump

00:19:48,400 --> 00:19:51,840
through um

00:19:49,760 --> 00:19:53,360
and how many of you have ever had to

00:19:51,840 --> 00:19:56,559
build a widget and react

00:19:53,360 --> 00:19:57,120
for your or something and you have to

00:19:56,559 --> 00:19:59,919
literally

00:19:57,120 --> 00:20:01,440
copy and duplicate the styles you have

00:19:59,919 --> 00:20:05,280
your perfectly good

00:20:01,440 --> 00:20:08,799
twig pattern over into like react land

00:20:05,280 --> 00:20:09,760
so that the same so two buttons would

00:20:08,799 --> 00:20:12,880
look the same

00:20:09,760 --> 00:20:15,520
with you know

00:20:12,880 --> 00:20:16,799
um you know i've i've gotten up on stage

00:20:15,520 --> 00:20:18,799
at drupalcon

00:20:16,799 --> 00:20:20,640
and said hey powderlabs awesome we

00:20:18,799 --> 00:20:24,159
should be thinking this way and that was

00:20:20,640 --> 00:20:28,240
that was years ago and hadn't lab was

00:20:24,159 --> 00:20:30,000
the the um panel put us on the path to

00:20:28,240 --> 00:20:31,440
thinking about components to thinking

00:20:30,000 --> 00:20:33,440
about design systems

00:20:31,440 --> 00:20:35,039
to being able to see design systems

00:20:33,440 --> 00:20:37,039
prior to application

00:20:35,039 --> 00:20:39,120
build there was a time and a place for

00:20:37,039 --> 00:20:41,679
pattern lab it's very very powerful

00:20:39,120 --> 00:20:43,520
and huge uh huge props to the crew that

00:20:41,679 --> 00:20:46,960
work on it and build it

00:20:43,520 --> 00:20:48,320
but if we want to see if we want to

00:20:46,960 --> 00:20:51,840
truly reuse

00:20:48,320 --> 00:20:55,120
we can't use a php rendering engine

00:20:51,840 --> 00:20:56,080
for our components adam do you have

00:20:55,120 --> 00:20:57,840
anything else you want to add

00:20:56,080 --> 00:20:59,200
nope go on please i want to get to the

00:20:57,840 --> 00:21:00,320
video

00:20:59,200 --> 00:21:02,320
all right this is just a quick slide

00:21:00,320 --> 00:21:04,159
about yes this is the w3c spec

00:21:02,320 --> 00:21:05,840
um it's out there um it was really

00:21:04,159 --> 00:21:07,760
solidified in 2018

00:21:05,840 --> 00:21:09,440
um you can go read about it and there's

00:21:07,760 --> 00:21:11,039
lots of goodies about what the

00:21:09,440 --> 00:21:13,039
shadow dom and custom styles are

00:21:11,039 --> 00:21:16,320
expected to do

00:21:13,039 --> 00:21:17,600
and another why is the capsulation uh we

00:21:16,320 --> 00:21:18,960
touched on this earlier but you can

00:21:17,600 --> 00:21:20,000
literally take anyone else's web

00:21:18,960 --> 00:21:22,000
component

00:21:20,000 --> 00:21:23,360
and you can drop it you can borrow it

00:21:22,000 --> 00:21:24,240
you can take yours you can give them to

00:21:23,360 --> 00:21:27,039
somebody else

00:21:24,240 --> 00:21:29,280
you can take this amazing uh color

00:21:27,039 --> 00:21:30,080
slider from spectrum web components by

00:21:29,280 --> 00:21:33,200
adobe

00:21:30,080 --> 00:21:36,559
and if you listen to l.color it'll

00:21:33,200 --> 00:21:37,120
that's how you pick the color and uh you

00:21:36,559 --> 00:21:40,000
can

00:21:37,120 --> 00:21:41,440
use this on your own website it's

00:21:40,000 --> 00:21:43,919
amazing

00:21:41,440 --> 00:21:45,039
i want to try it it looks great all

00:21:43,919 --> 00:21:47,039
right some some last

00:21:45,039 --> 00:21:49,280
suggestions for drupal here um and some

00:21:47,039 --> 00:21:50,720
final words with with drupal um

00:21:49,280 --> 00:21:52,400
i often get asked oh does this mean

00:21:50,720 --> 00:21:54,320
we're headless now right that's the big

00:21:52,400 --> 00:21:56,080
fear everyone gets real cagey like

00:21:54,320 --> 00:21:57,679
yeah does this mean oh javascript in the

00:21:56,080 --> 00:22:00,880
front end are we now headless

00:21:57,679 --> 00:22:03,120
no in fact this is kind of

00:22:00,880 --> 00:22:04,080
the perfect middle ground between

00:22:03,120 --> 00:22:06,720
javascript

00:22:04,080 --> 00:22:07,440
front ends and twig back ends you're

00:22:06,720 --> 00:22:10,080
still

00:22:07,440 --> 00:22:11,440
rendering an html shell and a lot of you

00:22:10,080 --> 00:22:13,120
know basic dom

00:22:11,440 --> 00:22:14,799
from drupal it's what drupal does very

00:22:13,120 --> 00:22:16,559
very well drupal's incredibly powerful

00:22:14,799 --> 00:22:20,000
it's the best cms out there

00:22:16,559 --> 00:22:21,440
and you just simply move your design

00:22:20,000 --> 00:22:24,000
system into web components

00:22:21,440 --> 00:22:25,919
and allow uh allow it to do its thing

00:22:24,000 --> 00:22:28,159
allow those components to render so twig

00:22:25,919 --> 00:22:29,360
is still very important for reaching in

00:22:28,159 --> 00:22:30,799
getting data out

00:22:29,360 --> 00:22:32,240
and handing it others obviously

00:22:30,799 --> 00:22:32,960
pre-process functions and all the power

00:22:32,240 --> 00:22:34,799
of all the hooks

00:22:32,960 --> 00:22:36,720
these are some great projects we like

00:22:34,799 --> 00:22:39,200
tweak tweak tweak field value

00:22:36,720 --> 00:22:40,320
and the value project i have no idea how

00:22:39,200 --> 00:22:42,159
they landed that namespace

00:22:40,320 --> 00:22:43,520
um very very powerful reach for those

00:22:42,159 --> 00:22:45,520
and make your life easier getting get

00:22:43,520 --> 00:22:50,159
out of drupal

00:22:45,520 --> 00:22:51,919
all right so when do you want to

00:22:50,159 --> 00:22:54,559
use web components for your design

00:22:51,919 --> 00:22:55,840
system well number one will your design

00:22:54,559 --> 00:22:59,039
system ever be used

00:22:55,840 --> 00:22:59,520
outside of drupal is it are you just

00:22:59,039 --> 00:23:02,480
building

00:22:59,520 --> 00:23:04,320
basically a big brochure site or is what

00:23:02,480 --> 00:23:06,640
you're building really an application

00:23:04,320 --> 00:23:08,320
maybe it has also a view storefront

00:23:06,640 --> 00:23:11,520
maybe it has a react widget

00:23:08,320 --> 00:23:14,799
and you want to leverage using

00:23:11,520 --> 00:23:17,520
web components to get the consistency

00:23:14,799 --> 00:23:18,320
of functionality and consistency of

00:23:17,520 --> 00:23:21,440
appearance

00:23:18,320 --> 00:23:24,080
for both we often

00:23:21,440 --> 00:23:26,000
end up building a drupal site with an

00:23:24,080 --> 00:23:27,600
embedded interactive right how many

00:23:26,000 --> 00:23:29,440
folks have have built like you know the

00:23:27,600 --> 00:23:31,280
the map that's got the you know the

00:23:29,440 --> 00:23:35,280
little little dots on it or whatever

00:23:31,280 --> 00:23:36,960
um very frequently we've had to redo a

00:23:35,280 --> 00:23:39,200
lot of work to get our designs

00:23:36,960 --> 00:23:40,640
out of drupal into that embedded widget

00:23:39,200 --> 00:23:42,320
it always felt gross right having to

00:23:40,640 --> 00:23:43,360
recode a button having to recode a

00:23:42,320 --> 00:23:45,279
header or whatnot

00:23:43,360 --> 00:23:46,640
this is truly the same language that

00:23:45,279 --> 00:23:48,159
crosses those barriers

00:23:46,640 --> 00:23:49,760
so this really solves that like i'm

00:23:48,159 --> 00:23:51,039
building drupal but i also have a

00:23:49,760 --> 00:23:54,240
massive widget

00:23:51,039 --> 00:23:56,880
now they're just using the same language

00:23:54,240 --> 00:23:58,240
javascript skills let's talk about that

00:23:56,880 --> 00:24:00,720
um

00:23:58,240 --> 00:24:01,760
jquery is leaving drupal um a lot of us

00:24:00,720 --> 00:24:03,919
relied on it for

00:24:01,760 --> 00:24:05,520
a long time it was a really useful tool

00:24:03,919 --> 00:24:07,840
if a little bit heavy

00:24:05,520 --> 00:24:08,720
uh but now modern javascript is

00:24:07,840 --> 00:24:11,760
everywhere

00:24:08,720 --> 00:24:15,120
and writing web components

00:24:11,760 --> 00:24:17,200
is a really like low threshold way to

00:24:15,120 --> 00:24:19,279
get into modern javascript

00:24:17,200 --> 00:24:20,799
i unlike chris i am not a brilliant

00:24:19,279 --> 00:24:22,640
javascript developer

00:24:20,799 --> 00:24:24,320
i actually started in php and my sequel

00:24:22,640 --> 00:24:26,559
back in the day

00:24:24,320 --> 00:24:27,520
but i have i feel like my javascript

00:24:26,559 --> 00:24:30,159
skills have

00:24:27,520 --> 00:24:31,840
exploded writing web components and

00:24:30,159 --> 00:24:33,840
configuring storybook stories

00:24:31,840 --> 00:24:35,120
it's been a wonderful experience writing

00:24:33,840 --> 00:24:37,760
web components

00:24:35,120 --> 00:24:38,480
has been the most fun i've had writing

00:24:37,760 --> 00:24:42,000
uh

00:24:38,480 --> 00:24:42,000
writing code in a long long time

00:24:42,159 --> 00:24:46,799
um finally can you i'm laughing at

00:24:45,279 --> 00:24:49,120
impeach bicycle also

00:24:46,799 --> 00:24:50,640
oh the webcasters are great finally can

00:24:49,120 --> 00:24:53,600
you ditch

00:24:50,640 --> 00:24:56,000
old browsers the the this old chestnut

00:24:53,600 --> 00:25:00,159
right here right uh ie11

00:24:56,000 --> 00:25:02,480
um yes and um

00:25:00,159 --> 00:25:03,600
stencil the framework the web component

00:25:02,480 --> 00:25:04,480
framework surprise that's what we're

00:25:03,600 --> 00:25:08,720
going to recommend

00:25:04,480 --> 00:25:10,880
uh stencil makes targeting ie 11

00:25:08,720 --> 00:25:12,480
doable you can do it um and it'll work

00:25:10,880 --> 00:25:14,720
in ie11

00:25:12,480 --> 00:25:16,400
you can't use those css variables or you

00:25:14,720 --> 00:25:17,679
can but it's a pain in the butt you need

00:25:16,400 --> 00:25:19,760
fallbacks

00:25:17,679 --> 00:25:22,480
you can get there from here it's just a

00:25:19,760 --> 00:25:24,640
little more work than most of us want

00:25:22,480 --> 00:25:25,760
that's right that's right now we're end

00:25:24,640 --> 00:25:28,159
of life uh

00:25:25,760 --> 00:25:29,440
for ie 11 this summer that of course

00:25:28,159 --> 00:25:30,480
means it'll be around for another couple

00:25:29,440 --> 00:25:33,600
of years

00:25:30,480 --> 00:25:35,600
but uh you can get there with polyfills

00:25:33,600 --> 00:25:36,640
and uh it's something we know we don't

00:25:35,600 --> 00:25:40,720
necessarily have to

00:25:36,640 --> 00:25:40,720
worry about in the far future

00:25:40,960 --> 00:25:44,640
okay uh quick little one here uh okay

00:25:43,440 --> 00:25:46,240
what about server side rendering what

00:25:44,640 --> 00:25:48,320
about turning this into html

00:25:46,240 --> 00:25:49,840
on the back end throwing html at the

00:25:48,320 --> 00:25:51,919
front end

00:25:49,840 --> 00:25:53,200
another yes and uh you can do this you

00:25:51,919 --> 00:25:56,960
just can't do it in php

00:25:53,200 --> 00:25:59,360
um the stencil framework has a node

00:25:56,960 --> 00:26:00,640
plug-in that'll actually a compiler

00:25:59,360 --> 00:26:02,559
that'll actually turn your stuff into

00:26:00,640 --> 00:26:04,880
html before it goes out the door on

00:26:02,559 --> 00:26:07,520
a node server framework we just cannot

00:26:04,880 --> 00:26:10,720
do this in php right now

00:26:07,520 --> 00:26:12,080
okay uh last thing performance uh

00:26:10,720 --> 00:26:14,080
there are some questions about this

00:26:12,080 --> 00:26:15,919
actually so uh

00:26:14,080 --> 00:26:17,679
about the flash of installed content and

00:26:15,919 --> 00:26:19,200
about seo so if you could speak to those

00:26:17,679 --> 00:26:21,120
thoroughly right now that'll hit a bunch

00:26:19,200 --> 00:26:23,360
of the questions all right

00:26:21,120 --> 00:26:24,400
so um i was giving mike a shout out

00:26:23,360 --> 00:26:26,080
because um

00:26:24,400 --> 00:26:27,679
you know the flash of unstyled content

00:26:26,080 --> 00:26:29,760
was something you know as as

00:26:27,679 --> 00:26:31,440
the javascript streams in there's markup

00:26:29,760 --> 00:26:32,159
that exists and then the styles show up

00:26:31,440 --> 00:26:33,600
there can be

00:26:32,159 --> 00:26:35,520
a couple of milliseconds where something

00:26:33,600 --> 00:26:36,880
doesn't appear right away

00:26:35,520 --> 00:26:38,480
um there are techniques to get around

00:26:36,880 --> 00:26:40,159
this there's a thing that's built into

00:26:38,480 --> 00:26:40,559
stencil where there's a class on the

00:26:40,159 --> 00:26:43,919
page

00:26:40,559 --> 00:26:46,559
or class per component that is removed

00:26:43,919 --> 00:26:48,400
once it fully renders it's so nice but

00:26:46,559 --> 00:26:49,279
it's only like lazy loading you can just

00:26:48,400 --> 00:26:51,919
lazy load

00:26:49,279 --> 00:26:53,919
web components it's built in stencil you

00:26:51,919 --> 00:26:57,600
can build it yourself and lit element

00:26:53,919 --> 00:26:59,360
your call that's it um seo side of this

00:26:57,600 --> 00:27:01,279
was a huge conversation

00:26:59,360 --> 00:27:02,559
um that we've we've dealt with before

00:27:01,279 --> 00:27:06,799
and ultimately uh

00:27:02,559 --> 00:27:08,880
here is a uh a light house report

00:27:06,799 --> 00:27:10,240
open it up in an incognito browser turn

00:27:08,880 --> 00:27:12,400
all your add-ons off

00:27:10,240 --> 00:27:14,240
go hit face to technology.com right now

00:27:12,400 --> 00:27:16,320
um big shout out to that crew again

00:27:14,240 --> 00:27:18,000
really really great accessibility really

00:27:16,320 --> 00:27:19,279
really great seo and the only reason

00:27:18,000 --> 00:27:20,000
it's an 89 right there i think there's a

00:27:19,279 --> 00:27:23,200
big image on the page

00:27:20,000 --> 00:27:25,200
or something like that so modern modern

00:27:23,200 --> 00:27:27,360
web crawlers from google and wing

00:27:25,200 --> 00:27:28,559
understand web components if it also

00:27:27,360 --> 00:27:30,960
depends on how you build it if you're

00:27:28,559 --> 00:27:32,559
dumping content if you're

00:27:30,960 --> 00:27:34,240
from if you're extracting content in

00:27:32,559 --> 00:27:36,159
certain ways like pulling an attribute

00:27:34,240 --> 00:27:38,480
and putting it into the shadow dom

00:27:36,159 --> 00:27:39,200
that's not as good as slotting something

00:27:38,480 --> 00:27:41,919
and leaving it in

00:27:39,200 --> 00:27:42,399
what they call the light dom you light

00:27:41,919 --> 00:27:44,880
dom

00:27:42,399 --> 00:27:45,679
is completely accessible and seo

00:27:44,880 --> 00:27:49,279
friendly

00:27:45,679 --> 00:27:52,240
um you slots users default slot

00:27:49,279 --> 00:27:52,559
ever possible you slots use named slots

00:27:52,240 --> 00:27:55,279
as

00:27:52,559 --> 00:27:56,480
opposed to a lot of uh attributes

00:27:55,279 --> 00:27:59,520
definitely definitely

00:27:56,480 --> 00:28:01,279
um accessibility is totally possible um

00:27:59,520 --> 00:28:03,919
if you go to check out the

00:28:01,279 --> 00:28:04,720
lion the web components from ing bank we

00:28:03,919 --> 00:28:07,120
don't have a link

00:28:04,720 --> 00:28:07,760
but one of their design systems lead is

00:28:07,120 --> 00:28:11,039
a huge

00:28:07,760 --> 00:28:12,880
uh accessibility expert it's possible

00:28:11,039 --> 00:28:16,720
um you have to keep your eye on it just

00:28:12,880 --> 00:28:19,039
like if you're writing normal html

00:28:16,720 --> 00:28:19,760
all right a quick recommendation we

00:28:19,039 --> 00:28:23,279
recommend

00:28:19,760 --> 00:28:25,600
obviously the lid element which uh

00:28:23,279 --> 00:28:27,840
is what we use to build that lasea site

00:28:25,600 --> 00:28:30,240
it's if you want to have a little more

00:28:27,840 --> 00:28:31,440
it's a little more basic uh you have to

00:28:30,240 --> 00:28:32,159
you know doesn't have the add-ons of

00:28:31,440 --> 00:28:34,720
stencil but

00:28:32,159 --> 00:28:36,720
and stencil is also just is brilliant

00:28:34,720 --> 00:28:38,799
from ionic

00:28:36,720 --> 00:28:40,640
yep um lit's a great way to just kind of

00:28:38,799 --> 00:28:42,080
get your dip your toes into the water

00:28:40,640 --> 00:28:43,919
um if you want a more complete thing

00:28:42,080 --> 00:28:45,840
that does a lot more for you

00:28:43,919 --> 00:28:49,520
automatically check out stencil

00:28:45,840 --> 00:28:51,120
um incredible project all right so here

00:28:49,520 --> 00:28:52,720
uh when you look at the slides later

00:28:51,120 --> 00:28:54,559
here's a bunch of resources

00:28:52,720 --> 00:28:55,840
and some slack channels you can join

00:28:54,559 --> 00:28:56,480
we're not going to go through this right

00:28:55,840 --> 00:28:59,120
now

00:28:56,480 --> 00:29:00,640
because that's it and we can go to

00:28:59,120 --> 00:29:03,440
questions

00:29:00,640 --> 00:29:04,880
all right so we talked about i'm just

00:29:03,440 --> 00:29:08,000
going to

00:29:04,880 --> 00:29:10,880
scan through these can you use

00:29:08,000 --> 00:29:12,159
scss sas for sliding web components

00:29:10,880 --> 00:29:15,279
absolutely

00:29:12,159 --> 00:29:17,440
you can uh it all depends on how you uh

00:29:15,279 --> 00:29:18,720
obviously you have to i think compile it

00:29:17,440 --> 00:29:21,520
before you

00:29:18,720 --> 00:29:23,279
pass it into your web component but i i

00:29:21,520 --> 00:29:26,480
know that people have done it though i

00:29:23,279 --> 00:29:28,480
personally have not um

00:29:26,480 --> 00:29:30,240
could a paragraph be used to pass in

00:29:28,480 --> 00:29:31,919
values with element included in the

00:29:30,240 --> 00:29:35,600
paragraph template absolutely

00:29:31,919 --> 00:29:37,760
we demonstrated that um

00:29:35,600 --> 00:29:40,559
chris what are some of the render

00:29:37,760 --> 00:29:44,240
blocking implications with components

00:29:40,559 --> 00:29:46,000
all right so um this is why we recommend

00:29:44,240 --> 00:29:49,919
the slots for content

00:29:46,000 --> 00:29:51,679
um the web browsers and web components

00:29:49,919 --> 00:29:54,320
allow you to run javascript

00:29:51,679 --> 00:29:56,240
a little bit closer to the metal as it

00:29:54,320 --> 00:29:57,039
were right the the browsers understand

00:29:56,240 --> 00:29:58,640
this they're going to run it with a

00:29:57,039 --> 00:30:00,159
little bit more priority go ahead

00:29:58,640 --> 00:30:01,360
say we are at time we're going to try to

00:30:00,159 --> 00:30:02,240
get through a few more of these if you

00:30:01,360 --> 00:30:05,039
have to go

00:30:02,240 --> 00:30:06,720
thank you so so much um this has been

00:30:05,039 --> 00:30:07,279
great at least for for myself and chris

00:30:06,720 --> 00:30:08,799
i believe

00:30:07,279 --> 00:30:10,559
i hope you learned something i hope you

00:30:08,799 --> 00:30:12,480
try web components um

00:30:10,559 --> 00:30:14,080
i think i know you all have to go to

00:30:12,480 --> 00:30:15,440
other sessions i think we can stay for

00:30:14,080 --> 00:30:17,760
two or three more minutes and try to

00:30:15,440 --> 00:30:20,159
plow through a few more questions

00:30:17,760 --> 00:30:20,960
um darren's question is it worth trying

00:30:20,159 --> 00:30:23,120
to use twig

00:30:20,960 --> 00:30:24,399
in javascript i don't think so

00:30:23,120 --> 00:30:27,360
personally

00:30:24,399 --> 00:30:28,080
chad yes yes i have some with campbell

00:30:27,360 --> 00:30:29,600
vertisi

00:30:28,080 --> 00:30:33,039
he was the best man at my wedding he's

00:30:29,600 --> 00:30:33,039
one of my best friends um

00:30:33,120 --> 00:30:38,640
um hand-in-hand with the accessibility

00:30:36,480 --> 00:30:42,799
question are there seo implications

00:30:38,640 --> 00:30:45,039
uh yes and we discussed that um

00:30:42,799 --> 00:30:46,960
jack for someone who's relatively new we

00:30:45,039 --> 00:30:50,399
gave you that whole resources page

00:30:46,960 --> 00:30:52,000
check them out um

00:30:50,399 --> 00:30:53,600
can i comment on the component module

00:30:52,000 --> 00:30:57,039
that uses components as blocks

00:30:53,600 --> 00:30:59,279
it was demoed on tuesday um

00:30:57,039 --> 00:31:00,159
i want to check it out myself it looks

00:30:59,279 --> 00:31:03,200
really cool but

00:31:00,159 --> 00:31:04,640
i actually can't comment on it um i'd

00:31:03,200 --> 00:31:05,519
like to know more about that is this

00:31:04,640 --> 00:31:08,080
beyond the like

00:31:05,519 --> 00:31:09,919
the at namespace syntax yeah it is no it

00:31:08,080 --> 00:31:11,200
allows you if you put a yaml file you

00:31:09,919 --> 00:31:14,240
can expose

00:31:11,200 --> 00:31:15,679
your web components to google's block

00:31:14,240 --> 00:31:18,880
layout and just drop them in

00:31:15,679 --> 00:31:20,159
yeah absolutely okay um i i'm gonna go

00:31:18,880 --> 00:31:21,600
watch that recording that's something

00:31:20,159 --> 00:31:23,360
i'm super super interested and that

00:31:21,600 --> 00:31:24,799
feels like the right direction for this

00:31:23,360 --> 00:31:28,480
kind of i think it's awesome

00:31:24,799 --> 00:31:30,840
um how do you handle

00:31:28,480 --> 00:31:33,039
caching when using web components in

00:31:30,840 --> 00:31:36,000
drupal

00:31:33,039 --> 00:31:38,320
all right so caching um since we're not

00:31:36,000 --> 00:31:40,240
sending html from the back end right

00:31:38,320 --> 00:31:41,840
this is client-side rendering for the

00:31:40,240 --> 00:31:44,960
for all intents and purposes

00:31:41,840 --> 00:31:46,080
however uh once that bundle hits the

00:31:44,960 --> 00:31:48,480
browser once right

00:31:46,080 --> 00:31:50,480
we're not re-requesting that bundle so

00:31:48,480 --> 00:31:51,279
the javascript and the assets are at

00:31:50,480 --> 00:31:52,880
least cached

00:31:51,279 --> 00:31:54,240
but there's still going to be a render

00:31:52,880 --> 00:31:55,600
cycle on the front end to turn these

00:31:54,240 --> 00:31:58,640
things into into markup and

00:31:55,600 --> 00:32:00,240
visual which is kind of wolfgang's

00:31:58,640 --> 00:32:01,600
question about a negative effect on

00:32:00,240 --> 00:32:02,960
front-end performance yeah the

00:32:01,600 --> 00:32:05,679
javascript

00:32:02,960 --> 00:32:06,799
they've they've got to load i think um

00:32:05,679 --> 00:32:09,840
the lazy loading

00:32:06,799 --> 00:32:11,760
uh is a great option um using

00:32:09,840 --> 00:32:15,679
intersection observer

00:32:11,760 --> 00:32:18,799
uh so real quick um just to go back to

00:32:15,679 --> 00:32:21,600
a site that is fully web components

00:32:18,799 --> 00:32:22,159
um we are not render blocked on the site

00:32:21,600 --> 00:32:24,880
in fact

00:32:22,159 --> 00:32:26,240
the analytics on this site were causing

00:32:24,880 --> 00:32:28,320
greater thrash

00:32:26,240 --> 00:32:29,600
and block then the web components

00:32:28,320 --> 00:32:31,039
obviously put a lot of work into keeping

00:32:29,600 --> 00:32:33,360
your bundle sizes down

00:32:31,039 --> 00:32:35,039
can you show the resources slide again

00:32:33,360 --> 00:32:36,080
show the go back to the resources slide

00:32:35,039 --> 00:32:39,760
for alexander

00:32:36,080 --> 00:32:43,919
there it is uh take a screenshot

00:32:39,760 --> 00:32:45,600
um yes kristoff um i'm gonna go

00:32:43,919 --> 00:32:47,200
chris maybe you two to the hallway track

00:32:45,600 --> 00:32:48,480
and we can hang out there people can

00:32:47,200 --> 00:32:52,080
find chris and i

00:32:48,480 --> 00:32:53,440
we'll try to be in separate rooms uh and

00:32:52,080 --> 00:32:55,600
we're gonna be in the hallway track and

00:32:53,440 --> 00:32:59,039
answer further questions

00:32:55,600 --> 00:33:01,039
um see you all over there all right

00:32:59,039 --> 00:33:02,799
you will get a hallway track too all

00:33:01,039 --> 00:33:04,320
right all right thank you everyone

00:33:02,799 --> 00:33:07,440
thank you thank you thank you have a

00:33:04,320 --> 00:33:07,440

YouTube URL: https://www.youtube.com/watch?v=d4oK0QqS9oY


