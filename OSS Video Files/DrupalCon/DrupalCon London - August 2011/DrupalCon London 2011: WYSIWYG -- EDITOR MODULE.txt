Title: DrupalCon London 2011: WYSIWYG -- EDITOR MODULE
Publication date: 2013-03-23
Playlist: DrupalCon London - August 2011
Description: 
	Problem: 
Drupal is currently years behind in providing a content editing interface that is intuitive for end users. The expectation is so great to have a WYSIWYG editor in content management systems that when presented with the Drupal node editing form, users may struggle to find the "toolbar" that normally comes with text editing interfaces. Most users do not know HTML, we shouldn't be shoving it onto them.

Contributed-based solutions to WYSIWYG are a start but currently all of them lack from deep integration with Drupal. At minimum, we should be targeting at a bundled WYSIWYG in core with the ability to insert an image with a caption. Even today, the solution for doing this eludes every contributed solution.

Proposed solution: 
This session is going to be a discussion more than a demo of proposed code. We'll take a look at what solutions other systems (namely WordPress) have included to deal with rich text editing, and we'll identify the central problems with building similar functionality into Drupal.

Ultimately, the solution currently being pursued will be an overhaul of the "Filter" module (which currently is only designed for filtering on output), and replacing it with a new module that controls not only filtering on output but also on input, making it possible to provided a true WYSIWYG (or at least a lot closer than anything we have today).
Captions: 
	                              list to some sufficient degree and the                               number                                                               to the number one slot so that's                               something that we need to address in                               Drupal                                                            things that will actually were addressed                               I think we made pretty significant                               progress on most of these maybe some of                               them were not necessarily progress but                                there was at least in like sideways                                movement of some kind some effort                                expended all these except for like a                                basic views like module which wasn't                                even in the top ten of the most recent                                survey metal was huwag editor of which                                we had some really early early patches                                into Drupal                                                          API under lame for WYSIWYG but as for an                                end user experience there's absolutely                                no evidence that we did anything                                whatsoever to improve a WYSIWYG                                experience in Drupal                                                 we're now calling these sort of                                initiatives instead of killer features                                but ordered by percentage once again                                here's our new list and lake sort                                of interestingly as move down the list                                quite a bit media and asset handling is                                still really high html                                          something that we weren't really                                thinking about four years ago wasn't                                even in the list so usability ease of                                use of mobile support again something                                that's indicative of the changes over                                the past four years better API is always                                always in there and then some new items                                down here configuration management                                content import export content staging so                                nonetheless WYSIWYG still a really                                important thing that we need to be                                handling and figuring out a solution to                                so I think it's good when I talk about                                WYSIWYG to kind of outline what I expect                                from a WYSIWYG and this is what I think                                most people expect as the bare minimum                                of what a WYSIWYG should accomplish the                                first thing that it should probably do a                                WYSIWYG should provide a visual                                representation of output actual output                                while entering content which is not                                something we have right now even with                                seek editor in tiny MCE and the wysiwyg                                projects out there using those you don't                                get a visual representation of the                                output you get a pretty close                                approximation of like what bold and                                italics look like but not of what your                                images or your videos or whatever going                                to actually look like the second thing                                is that this WYSIWYG or rich text editor                                should have a toolbar to do the basic                                operations bold italicize add lists                                that's not exactly a brainbuster either                                during the usability study which                                unfortunately is happening right now                                over in the main building they're                                talking about the usability study so i                                recommend watching the video of that                                tomorrow hopefully they had users try to                                put formatting like a bold tag into an                                editor and when a user goes to create a                                new article they're like where's the                                toolbar how do i add a bulb tag not but                                there was one person one person that new                                HTML in the usability study that tried                                to bold the text by using a be tagged                                she was like be tagged you know bold you                                know and then hit save and didn't work                                and she's like huh that's odd I thought                                that would work so she goes back and she                                edits it again and then she sees the                                input formats down below and you think                                that maybe she would be like Oh strong                                tag right nope full HTML save there we                                go that worked right so so not everybody                                like a less experienced or powerful user                                probably wouldn't have even had the                                option to switch to full HTML but anyway                                users expect the toolbar to assist them                                and when they don't have one they're                                just absolutely stumped it doesn't occur                                to a lot of people to enter code of any                                kind these days it's just there should                                be a toolbar for doing those things and                                thirdly and this is my home I'm saying                                the basics you should be able to insert                                an image with a caption and then float                                the image and the caption to the left or                                to the right of the content and maybe                                 that's that sounds like it's a                                 specialized use case but everybody wants                                 that as one of                                 things that Drupal up until well dribble                                 even now just absolutely falls on its                                 face when it comes to aligning an image                                 with the caption underneath it all                                 together all at once you always have to                                 have a div that the div itself is what's                                 getting floated left and right and the                                 caption is inside of that so                                 accomplishing that is something that is                                 still to this day almost impossible to                                 accomplish in Drupal that just isn't                                 isn't done Oh fantastic inline image                                 caption module okay but functionality                                 that I think we can agree upon that that                                 should be yes oh it probably took you                                 three plus probably around the edge of                                 like four or five six modules to get                                 that happening right and I don't think                                 that should be the case so we're going                                 to do a short demo here of what I think                                 that we should essentially do and during                                 my talk or my description i think i                                 noted that we're not going to be doing                                 much drupal demo here what we're going                                 to be doing is looking at WordPress                                 which seems like Oh blasphemy but                                 honestly they've solved this problem and                                 we haven't and I think that we could                                 imitate a lot from them and basically                                 the task set before us is so                                 ridiculously simple that all we have to                                 do is get to where they are which seems                                 like that seems like it should be a                                 reasonable goal to imitate so in                                 WordPress here I'm going to go to the                                 admin section maybe okay there we go and                                 then I'm going to go and create a new                                 post and I'm sorry for all the people                                 are familiar with wordpress in the room                                 that you're gonna have to bear with just                                 this simple functionality here so I'm                                 going to add a couple lines of text                                 insert an image                                 that is that is awesome okay so I'm                                 having trouble so fortunately they have                                 this nice thing where it's like it                                 flashes just being a bummer than you can                                 you can switch to to a non-flash                                 uploader so pictures okay and upload                                 that okay great so I've got an image                                 here and right off the bat you can see                                 after uploading an image i get the                                 convenient options of saying adding a                                 caption so i can insert i can create a                                 caption and then i can write off the bat                                 even say which alignment i would like it                                 to be the size of it and say insert into                                 post and there we go you can see my                                 picture inserted into the post and if I                                 at some point changed my mind about what                                 the caption is here currently says my                                 profile picture I can change that to be                                 you know something else that has been                                 edited and your you can once again do a                                 WYSIWYG like operation here where it's                                 intuitive to basically make changes from                                 one thing to the other i can i can click                                 on the image and i can write left to                                 right it line instead of right you can                                 see the the caption goes with it right                                 all of this stuff is is really pretty                                 simple and then actually publish this                                 post and on output will get something                                 really really close to what we were                                 seeing in the WYSIWYG so there we go so                                 floated to the left the caption goes                                 with it and that's it and I don't think                                 that that's asking for a whole lot so                                 let's talk about what it is that                                 WordPress is done here and what it is                                 that we can imitate from them yes                                 yeah so it's not quite with sewage or                                 saying because like the text color                                 change and doesn't have the black                                 background or yeah yeah so you're you're                                 right it's so the question is the                                 statement was basically it's not it's                                 still not quite WYSIWYG maybe it's just                                 closer than we have and maybe that's                                 what I'm what I'm after and that the                                 WYSIWYG itself still isn't it's not like                                 inline editing and it's not like giving                                 you the actual theme style text and                                 coloring and things like that it's still                                 quite separated yeah another question                                 have you yeah so how is this better than                                 Drupal um in Drupal have you ever                                 managed a caption that was underneath                                 the image that you could float left and                                 right at the same time like this this                                 caption the fact that there was a                                 caption right here and I floated it left                                 with the image is actually a bit of an                                 accomplishment if you try to put a                                 caption under an image with a WYSIWYG                                 you have to manually as far as I if you                                 if doing this okay yeah but lets you                                 insert an image but not a caption yeah                                 this is all without anything you've just                                 installed WordPress and this is what you                                 have so there's also how is this                                 different from dribble well I didn't                                 have to do anything to get this                                 functionality this is what I get by                                 default and that's what we're trying to                                 try to accomplish is actually including                                 some kind of whiskey like actually in                                 core so that's a big difference in that                                 right now for Drupal you need to                                 manually download tiny MCE or ckeditor                                 install WYSIWYG module and then                                 configure it with your input formats                                 there's an awful lot of setup there that                                 we can skip also there's another                                 question over here too                                 okay so yeah so let's let's look a                                 little bit about what is going on in                                 here if I edit this post and then                                 actually look at the source code of                                 what's happening here the this caption                                 business with it floating left and right                                 is really a challenging thing to do                                 because if if you look at what's                                 happening here I click on the image so                                 the image currently is selected and then                                 when I hit a line to the right it's not                                 the image that was aligned right it was                                 the wrapper around the image that was                                 actually aligned right so the div around                                 it and the caption below it that was                                 aligned right so what I clicked on and                                 what it was actually aligned were                                 actually different but that's the                                 expectation that when you if you right                                 align something like the image it would                                 write a line the caption that goes along                                 with it also so if we look at how this                                 is actually accomplished in WordPress                                 it's actually a little bit surprising I                                 think where it that caption itself is                                 not a div at all it's square brackets or                                 what Drupal we would call tokens right                                 so it says let me let me zoom in a                                 little bit here for everybody mm ah                                 shoot so so what we're working with here                                 is that has an open square bracket                                 caption ID equals the attachment like ID                                 the width the the alignment align equals                                 the line right and then the caption                                 actually in it and then inside of here                                 we actually have HTML that represents                                 the link to the image and the image                                 itself and when you left and right align                                 things what it's actually doing is it's                                 just updating this meta code here this                                 caption or token if you will to actually                                 do the alignment left and right so what                                 WordPress essentially has hear that that                                 we do not is they have filtering done on                                 input versus just on output so in                                 WordPress when you insert a video or an                                 in                                 edge or really anything other than text                                 it uses these meta tags or tokens to                                 sort of handle anything that's complex                                 and if it's something like a YouTube                                 video you don't actually get the YouTube                                 video in line you get like a little                                 placeholder thing that you know it has                                 like a YouTube icon there so once again                                 not quite WYSIWYG but still better than                                 Drupal which is if you have a a token of                                 some kind that's doing like the inline                                 module does the same sort of thing where                                 it has square brackets when you're using                                 the WYSIWYG with inline module what you                                 get in the WYSIWYG is actually just the                                 square brackets literally like no                                 replacement whatsoever and so what we                                 have here is we have essentially some                                 input some input filtering in addition                                 to the output filtering so everything                                 essentially has been written twice if                                 you if you think about it like all                                 filters have something that is done both                                 on input and output do you have any                                 other questions so far yeah exactly what                                 they want on the screen youtube video                                 should be a a picture saying this is                                 it should be the actual video when fonts                                 if we there was a great talk on my phone                                 yesterday they should be rendered                                 correctly in the page we should see the                                 exact thing that we're getting not just                                 so so the general diatribe was basically                                 that Drupal and even having a separate                                 editing interface so even imitating                                 WordPress at all is totally the wrong                                 approach that it should all be inline                                 editing just literally like looking at                                 the front end of your site clicking edit                                 and then it becomes editable imitating                                 Firebug okay so I can't disagree that                                 that would be amazing but the technical                                 challenges around it are insurmountable                                 literally to do it in a generic fashion                                 every everyone's like whoa whoa what                                 about editable Zand what about html                                      what about all this new technology stuff                                 that we have and it's like well can you                                 put that into a system like drupal and                                 have it actually be distributable I mean                                 is that a generic enough solution that                                 it's going to work for everybody that                                 uses Drupal I mean add just doing                                 something that uses anything like that                                 advanced like an editable is not                                 something that's feasible in the                                 internet right now as a solution that                                 you we got it should be distributable so                                 let's okay let's go through them over                                 here which product my source matrix is                                 that a product or is it like is it a                                 service as a software or an open source                                 content management system ads called my                                 source matrix okay just as a suggestion                                 I even looked at it so I can't comment                                 on it really and let's go to the back                                 not Larry will get you it next                                 yeah so I'll reiterate for the recording                                 there was a basically a comment about                                 saying yes it's great that we're                                 comparing to WordPress and actually the                                 follow-up of that I think is that as far                                 as I know wordpress doesn't have a                                 fantastic way for linking between pages                                 but I could be totally wrong about that                                 because I haven't actually looked too                                 much into it so you hit Lincoln you get                                 URL Oh No or link to existing content                                 here we go and so we have a search here                                 that lets us link to an existing piece                                 of content that's pretty awesome so                                 I'm just saying well I mean Drupal is so                                 far behind because for WordPress this is                                 where editors live they live in this                                 editor in the WYSIWYG and for Drupal we                                 just haven't really we what we do is we                                 make more and more fields right we make                                 a different field for everything and                                 that solves our problems so let's go                                 Larry first and then up here okay go                                 ahead and continuation on this ok tiny                                 MCE node picker something to do the same                                 thing in Drupal with tiny MCE module or                                 to pair with WYSIWYG module probably                                 yeah WYSIWYG moderate-plus tiny MCE                                 image caption and is that that does the                                 image caption project work with WYSIWYG                                 zuv any kind so yes it does work with                                 does it work specifically with tiny MCE                                 or seek editor or okay doesn't doesn't                                 matter okay takes the title attribute                                 and uses it as the caption so basically                                 it's yeah yeah clever so Larry in the                                 back                                 that wonderful                                 the raw source again yeah right yeah                                 because there's yeah so Larry is                                 basically saying that using inline                                 editing or using the WYSIWYG like this                                 and inserting an image directly into a                                 post often is not the desirable                                 situation which I could not agree more                                 with say like if you're writing an                                 article for some major newspaper which                                 there are plenty of newspapers major                                 newspapers using Drupal you might not                                 ever be allowed to use an inline image                                 you need to put that into a separate                                 field or something like that and the                                 image itself and the caption and all                                 that stuff is then aggregated into some                                 kind of slide show or something like                                 that and then laid out by the editors                                 actually on the output and I totally                                 agree WordPress is general approach here                                 I'm basically saying this these are                                 great features that that we can                                 implement but I'm definitely not saying                                 that we need to lock people in to the                                 WordPress model of thinking definitely                                 not at all like if you want to disable                                 the image button entirely and set up                                 your filter in Drupal lingo to not allow                                 the image tag all of that definitely                                 we're not throwing away flexibility or                                 we're adding functionality that just                                 gets people the basic functionality that                                 they want over here                                 yeah so is there a question to be                                 answered there was that a general                                 statement okay gotcha so basically there                                 there's a common situation where you                                 need to attach additional metadata to an                                 individual image or video or whatever it                                 is and the solution for that now in                                 Drupal is you make that image a node or                                 you make that video a node and then you                                 attach all the assets and like the look                                 copyright and maybe the the data was                                 taken and the license on and all that                                 stuff you might include all that stuff                                 on the asset itself and then use no                                 reference in the names of these modules                                 are just giant strings of abstract nouns                                 no reference URL picker what was it                                 called node picker okay well that's                                 quite more simple and I was making it so                                 node picker module to actually insert                                 that into a WYSIWYG and it's like a node                                 reference in the WYSIWYG that actually                                 displays the image and how how would we                                 solve that in Drupal well in Drupal                                      have the ability we have entities so                                 essentially you can add fields to                                 anything now out of the box that's users                                 terms comments and nodes so you can add                                 fields to all of those as if they were                                 nodes in Drupal                                                          flexibility cck on any arbitrary object                                 and so in Drupal                                                         around the media module that is finally                                 broken out the media entity they've                                 called it now the file into T which is a                                 really positive development in that                                 project because essentially it makes is                                 that every single asset itself doesn't                                 need to be a node anymore it can just be                                 a file and you can attach as many fields                                 as you want to it and then all of the                                 information is not associated with the                                 node it's actually associated with                                 file directly so the file has an ID and                                 all that metadata is associated directly                                 with the file and WordPress actually                                 does do that same sort of thing where                                 all of this metadata that I've entered                                 down here well actually this this isn't                                 true this is now the instance but when i                                 was looking at and in the media picker                                 so if i say you know from the gallery oh                                 boy okay here we go so when i'm actually                                 looking at thing here this is actually                                 metadata that is actually on this file                                 directly and every time i use this it                                 will actually it'll save the same                                 information so the caption the                                 description and things like that so this                                 is actually metadata actually                                 potentially on the file itself so I                                 think that in the in moving forward                                 using a file entity like media module is                                 sort of pioneering right now a file                                 entity in Drupal                                                necessity and if we make that happen                                 then we'll be able to do all kinds of                                 great sort of attachments metadata on                                 two images themselves deciphered is in                                 the room and I'm going to raise your                                 hand basically deciphered big thing is                                 trying to figure out what this dialogue                                 looks like when you click image how to                                 handle a file that needs to be done                                 there and I know the media project also                                 has been working a lot on that but this                                 is another like that approach is                                 something else that we're basically                                 going to try to figure out this system                                 after we get sort of the initial just                                 get a whiskey weekend core so for right                                 now if that the target is the first to a                                 visual representation get an input an                                 input filtering system in addition to                                 the output filtering system get the tool                                 bar set up and then we're going to                                 figure out sort of what the image                                 browser looks like and my plan doesn't                                 yet extend that far but fortunately the                                 media project and Stuart with a WYSIWYG                                 fields is working on that project sort                                 of in parallel so I'm sure that both of                                 those projects work will                                 eventually find their way into whatever                                 solution we end up doing for Drupal                                   and they're compatible so you can                                 actually use wysiwyg fields with the                                 media module in tandem which is awesome                                 there was another question up here I                                 thought yeah okay yeah do you think that                                 the input should be in the same                                 structure as the output so basically                                 something I markdown should we be using                                 markdown instead and my general feeling                                 is that I think HTML should be the                                 primary storage mechanism just because                                 it's the closest to the output system                                 and it's what works best and most                                 natively with WYSIWYG editors today and                                 so using HTML saves you a whole heck of                                 a lot of trouble because browsers render                                 it directly and wear wigs have been                                 built essentially to produce HTML and                                 every time you deviate from that and do                                 something else like Mark down or bbcode                                 you're making work for yourself to                                 actually implement that translation in                                 JavaScript from BB code or marked down                                 to the HTML content that is rendered by                                 the browser so I feel like HTML is the                                 safest format but with WYSIWYG there's a                                 limitation to how far you can take that                                 and I think that basically augmented                                 HTML some stuff like this in line token                                 handling I think that if we're going to                                 get this functionality we need to be                                 able to embrace that we can't just use                                 straight HTML anymore it needs to be                                 something a little bit more powerful                                 yeah                                 so when it comes to a WYSIWYG editors                                 and bloggers specifically which is why                                 WordPress has got such a heavy WYSIWYG                                 like interface because it's made for                                 blogging how do you handle situations                                 where you're feeding this information                                 out to multiple devices if you're using                                 a WYSIWYG and they're probably two                                 approaches to that one is that you                                 implement heavier filtering on the                                 output that you basically do parsing and                                 regular expressions on the output to                                 find things like images and then present                                 them in different manners to different                                 devices or as John Albin would recommend                                 like scaling down and delivering                                 different versions of the same image                                 based on the browser size not actually                                 device targeting in all but just by                                 window size or the other alternative is                                 that the amount of WYSIWYG capability                                 that you have is restricted essentially                                 to bulleted lists like strong tags and                                 italics maybe alignment and that's all                                 of the functionality you get in the                                 WYSIWYG and then everything else is                                 separate field so you can pull that                                 information out and deliver it in                                 different manners so there definitely is                                 not you know this WYSIWYG approach is                                 like really difficult when you're                                 dealing with multiple devices because                                 now it's definitely not wysiwyg like                                 exactly on output because you're going                                 to have to see it in six different                                 formats which are all different of                                 course you can't have the editing                                 interface be exactly what that system is                                 unless you have six different wissy wigs                                 one for each different format but I                                 don't think anybody is going to want                                 that approach a theme switcher yeah oh                                 yeah let's not get into that another                                 question hey jeez                                 I'm glad you asked because the basically                                 the question is do we have any concrete                                 plans to it it's okay because I haven't                                 actually gotten concrete plant so far                                 basically all that we've been talking                                 about is what is it that we're going for                                 we're looking for a visual                                 representation of the output during                                 input we're looking for a toolbar to                                 insert an align text as well as                                 inserting an image of some kind and then                                 aligning that image left to right with                                 the caption that's what we're talking                                 about but we've found some other things                                 that that we can imitate just in this                                 short short time so let's look at Drupal                                 now that we've we've looked at sort of                                 an approach that would be worth                                 imitating let's look at Drupal's                                 approach right now in Drupal                                            talk about ways we can improve that in                                 your plate so this is Drupal                                        already downloaded and then installed                                 the WYSIWYG module as well as ck editor                                 I could use tiny MCE obviously and as                                 you guys probably know right now there                                 are text formats and there are whiskey                                 wig profiles and so WYSIWYG profiles is                                 where you set up the editor and text                                 format is where you set up the filtering                                 so let's say I wanted to add an image                                 button to my editor I would go over here                                 to whiskey League and let's say I wanted                                 to add this to the filtered HTML type I                                 would save and then I would hit edit on                                 this type and of course wysiwyg module                                 does define a default set of buttons but                                 unfortunately they're not checked for                                 you if this is just kind of like a                                 little you I fail that it should                                 probably check the ones that are active                                 by default right that would be nice but                                 instead if you check even one button                                 then it undoes all the other                                 button so if I enable a couple and I'm                                 just going to go ahead and say you know                                 let's see where even is image here we                                 got image and then I hit save what i've                                 done is i made a new a new editor that                                 when i create a piece of filtered HTML                                 content right i can insert an image but                                 i'm going to save you guys the the work                                 of this if I insert an image here what's                                 going to happen on output yeah exactly                                 so the statement was with filtered HTML                                 by default image the image tag is not                                 included in the list of allowed HTML                                 tags so I'm going to see the image in                                 the WYSIWYG but when I hit save there's                                 not going to be an image there now                                 that's pretty baffling to a lot of new                                 Drupal administrators and so what you                                 have to do after setting up your WYSIWYG                                 you need to go back over to your to your                                 list of input form or your text formats                                 and then you need to edit filtered HTML                                 and then you need to go down here and                                 add image to the list of allowed tags                                 for that image to actually come out and                                 this is what I'm saying that Drupal                                 currently is doing things well actually                                 it's not not WYSIWYG modules fault                                 WYSIWYG modules doing a bang-up job of                                 what it's attempting to do it's just                                 that in order for this to make sense we                                 need tighter integration between the                                 WYSIWYG and the input and the filtering                                 system on output so much that they need                                 to essentially be the same thing so                                 right now I think on this filters page                                 or text formats page which is provided                                 by the filters module the whole                                 situation is just messy right the                                 filters module provides text formats and                                 then text formats are associated with                                 wysiwyg editors the whole thing this is                                 crazy it would be nice if on this page I                                 would just immediately choose whether or                                 not I wanted a WYSIWYG editor or not                                 like for the filtered HTML editor I'm                                 going to turn on tiny MCE maybe as a                                 drop-down none tiny MCE ckeditor what                                 ever rolls that's great and then I would                                 be able to choose my toolbar hopefully                                 through a much better interface than we                                 currently like you'd be able to drag in                                 the buttons and if you drag in the bold                                 button it enables the strong tag                                 automatically for you and then maybe                                 down below you have a list of additional                                 tags that are allowed even if they're                                 not buttons right there should be a lot                                 of configuration here that is done                                 automatically if you enable the image                                 button you should enable the image tag                                 on the output there's just a lot of like                                 no-brainer things that we could                                 potentially do here if they were the                                 same thing however calling a text format                                 as the place where you can figure your                                 WYSIWYG editor I think is also super                                 confusing and so my proposal essentially                                 of what is that we should do I think we                                 should rename text formats to can call                                 them editors so you can go and you can                                 configure your editors and let me show                                 you just sort of where this is gone a                                 little bit so this is a modified Drupal                                 triple seven in which I have renamed                                 text formats to editors so you would go                                 under editors and unfortunately you're                                 going to see there's not a whole lot of                                 action here but an editor essentially is                                 the exact same thing as a text format                                 now with no changes whatsoever but the                                 lingo here suddenly kind of makes a lot                                 more sense so it's like add a new editor                                 right and it's just like oh I want to                                 configure the editor the filtered HTML                                 editor or the full HTML editor or if you                                 had bbcode the BB code editor or the I                                 mean things it's like wow this makes                                 sense you know the name editor makes                                 sense from an end-user perspective and                                 the fact that we've been basically                                 forcing terminology like filters and                                 text formats upon our end users no                                 neither of which they're actually very                                 concerned what they're concerned with                                 like a toolbar and the editor like                                 they're concerned about how do I get the                                 content in not exactly like what kind of                                 filtering occurs on the output right and                                 so my recommendation here and this one                                 is almost going bogus I do think that we                                 should update the lingo to be to be end                                 user facing lingo as opposed to                                 developer logo                                 that would be great loga lingo so make                                 the lingo front-end friendly and make it                                 back end sort of you know adjust to to                                 our users so calling them editors which                                 to me the filter module providing                                 editors is silly naming conflicts and so                                 my recommendation is that I think that                                 we should rename the filter module to                                 the editor module and so whenever you                                 want to have a WYSIWYG somewhere in                                 forum API talk that would mean you would                                 say pound type equals editor it sounds                                 pretty cool right then it's a pound                                 editor equals filtered HTML I mean these                                 are things like when when you put it all                                 together you find out that the pieces                                 fit really nicely that maybe that's                                 something we should do of course                                 renaming a module in Drupal core is a                                 significant effort so and the really                                 frustrating thing is that the first                                 thing that needs to be done if we do                                 this is we need to rename the module                                 from filter to editor and then make                                 iterative improvements on top of that                                 because you can't just remove a module                                 and add a new module into Drupal core                                 and have that be passed through the                                 patch process or pass through the gates                                 now that would just be a tremendous like                                 you know                                                              megabyte patch it just isn't a process                                 that that anybody can review adequately                                 so as to be this iterative improvement                                 and getting through the first problem of                                 like renaming filter to editor which I                                 think that's where we need to start is                                 going to prove to be a huge battle but                                 that's why I'm here to you guys to                                 explain all my thinking so hopefully you                                 guys can can agree with me Larry                                 do I have any usability studies to say                                 the editors is better than text formats                                 or filters or other terms no definitely                                 not so do the usability study first                                 before we start implementing this and                                 that brings up an interesting point                                 obviously doing the usability study                                 first means that needs to be finished or                                 at least usable I mean right now it                                 wouldn't make any sense if we had                                 somebody go through a usability stay                                 with this and we said okay I want you to                                 add a add a bold tag you know and well                                 first of all they would be like well                                 what's a what's bold tagged maybe like                                 well it's HTML they're like well what's                                 HTML and now your usability studies                                 pretty well shot isn't it because it's                                 like how are you going to have that you                                 have to teach them what hTML is but the                                 end purpose of this is so they don't                                 have to learn HTML at all so so you                                 could do a usability study with paper as                                 an alternative I'm yeah                                 yeah that that's that's a good point                                 yeah so so as an abbreviated test but                                 now I can agree with that too if you                                 were sent telling users that they had a                                 choice of WYSIWYG systems or had the                                 ability to turn on and off the WYSIWYG                                 which term basically this label right                                 here next to this drop-down made the                                 most sense and if it was plain text                                 versus like full HTML or plain text                                 versus visual or something like that you                                 know which term did they find to be most                                 intuitive and which one did they find                                 first and that would like an abbreviated                                 test that would be great right                                 yeah so basically the end statement is                                 that we need to figure out we need more                                 evidence to back up that changing the                                 name is a worthwhile endeavor right and                                 the word the word editor doesn't exactly                                 convey the amount of filtering and the                                 amount of security that may be implied                                 there but really I mean right now we                                 have a really really hard time with text                                 formats and yeah yeah yeah so making it                                 clear that security and what the full                                 repercussions of what these things do we                                 need to make that clear no matter what                                 we go with back here                                 to this area designed together and come                                 up with some ideas right which actually                                 that process you've described as never                                 been done in Drupal ever and it's kind                                 of like I mean you can say maybe you                                 know we've had usability studies for                                 always testing what we have right now                                 they've tried some things like usability                                 testing on vertical tabs and things that                                 were obvious improvements and we found                                 it yeah those things are better but we                                 kind of already knew that what the                                 results of those things are going to be                                 because everybody liked it and everybody                                 liked it is pretty much the model that                                 we've been going on forever so basically                                 the description where the full comment                                 was that we need to have like UX people                                 come in and come up with potential                                 designs and when you have that reviewed                                 and then we need to have some way to                                 actually test that and see if it's worth                                 building and then will we actually build                                 it all out and see and then we test it                                 again probably to make sure the end                                 result is good and then we may be                                 reiterate and change it on top of that                                 there's kind of an issue with the the                                 Drupal community that we actually have                                 so much more development power than                                 anything else that oftentimes what we'll                                 do is we'll develop it first and then                                 usability testing test fit because                                 honestly it was easier for us just to                                 write the whole thing and then have it                                 tested against the final product and                                 then iterate on top of that than it is                                 to have the usability tests but then of                                 course some people's work sometimes gets                                 said that is entirely wrong and the                                 entire thing gets thrown out which has                                 happened in the past before too but or                                 it'll go into core and the next version                                 of Drupal core will fix it I don't know                                 what you've described sounds desirable                                 but                                 there's a lot of there's a lot of                                 resources there that you've described                                 that aren't immediately available                                 there's another comment oh yes yeah so                                 that's a great comment so regarding like                                 usability and functionality that we can                                 we can potentially implement in a Drupal                                 can't we just look at what other people                                 have done and learn from that which is a                                 really good statement because WordPress                                 is entire UI the                                                        was could be totally wrong with it maybe                                 it's                                                                 entire administrator if you want like                                 everything and they redid the entire                                 design kind of similar to what Drupal                                 did with Mark Bolton only since happy                                 ever since a wordpress is essentially a                                 single company developing it for the                                 most part they implemented it entirely                                 versus what we got in Drupal was kind of                                 like a half-baked version because the                                 Drupal community actually wasn't                                 interested in implementing all of the                                 designs that were in the d                                              so we ended up with this funny kind of                                 half done system things like the the                                 dashboard which is complete catastrophes                                 and things like the toolbar that you                                 know a lot of people like to admin menu                                 better which the irony being that                                 WordPress essentially actually has an                                 admin menu and we have a toolbar kind of                                 just the way things work out sometimes                                 it's just funny so yeah any any other                                 comments about WYSIWYG in this approach                                 like generally speaking like house it's                                 how's it feel and in the back                                 okay so basically how do we move forward                                 and especially non-developers how to add                                 it how do we participate with this well                                 right now with Drupal                                               things are a little bit of a standstill                                 but that doesn't mean that it's going to                                 be that that situation forever at                                 drupalcon Chicago I was rustling up a                                 small team of developers trying to get                                 sort of behind this idea of making input                                 filtering and output filtering the same                                 thing and building the WYSIWYG in in                                                                                                        lot of positive reception there but as                                 for as for now like I guess we could                                 have things like I mean the UX designers                                 and the UI designers of people that have                                 the ability to actually come up with                                 things without actually having something                                 to start with already could have a big                                 impact here in terms of like visualizing                                 what the final interface would look like                                 as for where that collaboration can                                 actually happen I'm hoping to take a                                 lead on this particular project and                                 actually make move it forward into                                 integer Blake or and for now what I've                                 done is let's see if I can figure out                                 where this is I know where I live so                                 what I've done is I've created a sandbox                                 project for WYSIWYG in core and that's                                 where this code that I showed you of                                 basically the renamed editor module                                 lives and I think actually this is what                                 you know I sell them quite figured out                                 how to navigate drupal.org without the                                 URL but no idea no idea at all so then                                 there's there should be a usability like                                 core initiatives like things that the                                 community community initiatives and in                                 that one there is a WYSIWYG section and                                 included in that is my post that says                                 I'm trying to take a lead on this                                 and then links here to my sandbox and                                 the sandbox project is currently only                                 has two issues in it which basically is                                 a call for volunteers which if you're                                 interested you should post there because                                 that's where I get a list of people that                                 are interested in the project so if you                                 can add subscribe to the call for                                 volunteers and this is like just a                                 general meta discussion currently which                                 honestly the number of meta discussions                                 that we can have about WYSIWYG without                                 actually doing something is pretty                                 infinite so what I'm wanting to do is                                 actually have a discussion around code                                 that exists as opposed to discussions                                 around just WYSIWYG in core because                                 we've been having discussions for years                                 but we haven't actually written any code                                 so there's another yeah up here                                 curl the side without use texts and then                                 we're talking about what you see is what                                 you get okay so basically yeah it would                                 be great if we can get more people                                 especially like the comments                                 specifically was around accessibility in                                 wissy wigs and WYSIWYG naturally your                                 accessibility of your site oftentimes is                                 dependent upon your editors to know                                 about accessibility in a WYSIWYG sort of                                 immediately reduces the overall                                 accessibility of your site unless you                                 enforce some kind of tools to make them                                 work in an accessible manner and so how                                 can you participate how can you help it                                 be involved in that and there's so many                                 people that really want to improve upon                                 this system but you know it's like what                                 it is it when it comes to the amount of                                 discussions that are necessary and the                                 amount of things like reading text is a                                 tedious process and that's why I think                                 that we need things that are more                                 tangible like we need we need images or                                  mock-ups we need wireframes things that                                  people can actually look at and sort of                                  respond to and my natural instinct                                  almost always is to have working                                  wireframes so basically just code it and                                  see if it works and that's the way a lot                                  of Drupal development has always been                                  because that's what we have a lot of we                                  have the ability to work really quickly                                  in the development side but then where                                  things actually get held up in Drupal                                  people think that some people may think                                  i should say some people may think that                                  dribble development is slow because it                                  takes a long time to write the code it's                                  totally not the case durable development                                  is slow because it takes a lot of work                                  to get through the politicking and the                                  bureaucracy and basically reaching some                                  kind of agreement core development like                                  fuse got entirely like new UI that was                                  designed and basically executed upon in                                  a matter of months                                  and views was basically the entire                                  interface was overhauled over the course                                  of six months which is an amazing feat                                  and that's because we have incredible                                  development muscle to actually execute                                  on things if you remove the processes of                                  course with rubric or something that's                                  this mature it needs process is to make                                  sure that stuff doesn't go willy-nilly                                  all the time so actually developing this                                  and getting something working and with                                  the get migration we have this amazing                                  ability to do sandboxes we can actually                                  do stuff and have something to work                                  against and if if they enable tar balls                                  on same books projects will have an even                                  greater ability to make this stuff                                  accessible to people and say look this                                  is it set up a demo site and look go try                                  it out and just a website and that's                                  your mock-up if you will and I think I                                  don't know that my feeling is that's the                                  way I feel that this is this project is                                  going to proceed we're essentially I had                                  to make this so so single person focused                                  but honestly I like to code and I like                                  to do things that move things forward so                                  i think is probably going to happen is                                  we'll have some code that is actually                                  executable and you can actually go look                                  at and then we start the discussion of                                  was this actually right and we roll back                                  in like start from the beginning again                                  which is the way that pretty much                                  everything has happened in in in the                                  past well except for d                                                sort of the anomaly and honestly not                                  everybody was actually happy with the                                  way that turned out so yeah another one                                  mm-hmm                                  yes yep I'm so glad you asked so                                  basically the question was if we're                                  going to put a WYSIWYG editor in core                                  and have things like you're going to                                  drag in buttons into your toolbar and                                  choose how your toolbar works ultimately                                  we need to make a decision about which                                  one to include and I'm going to tell you                                  guys around I can keep you waiting i'm                                  not here to tell you what that editor is                                  i am i can tell you that we essentially                                  have a choice to make we need to choose                                  one and that i think that right now                                  there are two real contender seek editor                                  and tiny MCE and choosing between one of                                  those is a decision that we need to make                                  the simple solution right now WordPress                                  uses tiny MCE if we take that approach                                  we have a tremendous advantage that we                                  can just copy a bunch of their code like                                  literally just rip it right out it's GPL                                  it's great that's what we are so we can                                  just totally move it right on over so                                  that would say with some some potential                                  work ckeditor I think this is purely by                                  my gut feeling I think see keter is more                                  popular right now WordPress has been                                  using tiny MCE for the last six years                                  and so they'll probably continue to use                                  tiny MC because it's what they started                                  with and that's why they're using it so                                  I think we could save ourselves a lot of                                  work x ee and we know it does what we                                  want it to do seek editor i'm quite                                  confident that it can do the same thing                                  too but if we run into like I think we                                  should try it out first so we can                                  research the alternatives and see if it                                  works then maybe we'll proceed that way                                  and if it doesn't work then and we at                                  least we can say what we tried but we                                  have to go the other way so I want to                                  talk a little bit more about why about                                  this single choice because the WYSIWYG                                  module currently as it is today the                                  WYSIWYG module                                  has attempted to write a generic wrapper                                  API around all other WYSIWYG making it                                  possible for you to swap out any WYSIWYG                                  you want in integer pool but just by                                  dragging the library this is the one                                  point where son Daniel could win who                                  unfortunately is not here he and I                                  disagree about that particular point and                                  that I I see that we've been working on                                  this WYSIWYG API for years and the                                  simplest thing that we've implemented in                                  this generic plug-in fashion is the                                  teaser break right the teaser break                                  little icon to split the body and the                                  the teaser and that the actual body has                                  been written as a generic plugin but                                  unbelievably that simplest piece of                                  functionality does not work across more                                  wysiwyg than x ee and ck it hardly even                                  works in ck editor as far as I I know                                  and so essentially we've written this                                  generic API which is a huge burden that                                  people that have written ckeditor                                  plugins or tiny MCE plugins can't                                  actually use their knowledge they need                                  to write a whole new plugin that is a                                  Drupal plugin that doesn't actually that                                  is a completely different set of                                  knowledge that can't be used anywhere                                  else and so my general feeling is that                                  the generic API I think is extremely                                  difficult and it's a lot of work and it                                  man we haven't even succeeded in it                                  despite the years that we've been                                  working on it that the generic API is                                  not worth pursuing that we should pick                                  one and honestly whichever one we pick                                  people will develop against that one                                  platform and if you install an                                  alternative one like other modules that                                  integrate it with the WYSIWYG maybe                                  media module continues to exist in                                  Drupal                                                                functionality themselves basically say                                  once for tiny MCE and once for ckeditor                                  because i think that one editor it just                                  has so many it's simpler the existing                                  knowledge can be reused the                                  functionality is already built at least                                  in the case of WordPress there are so                                  many advantages to reducing the code                                  wait there and just building against one                                  so back here you've been waiting a long                                  time                                  yeah so why do I feel about                                  contenteditable and using basically new                                  browser newer browser technology I know                                  Firefox has had it for years now                                  internet explorer                                                   really doubt that was against any                                  standard or anything yeah so the ability                                  to do that sort of stuff has been around                                  for a while but how do I feel about I                                  still feel that it's not mature enough                                  it's not a mature enough technology to                                  actually become reliant upon it which I                                  know it's kind of a bummer that we're                                  stuck against this technology that is                                  really like new and not mature enough                                  and this technology that is very mature                                  but old and crofty because like x ee and                                  seek editor they're not exactly like you                                  know hot new projects that people most                                  people have worked with them at one time                                  or another and a lot of them people                                  aren't happy with it but i still feel                                  like right now with just the the ability                                  to use like in browser editing and                                  content editable just that we're just                                  not there yet so in the future                                  potentially but those those tools also                                  were also like they're very much HTML                                  tied doing this kind of like filtering                                  stuff on input and an output and making                                  it so that the browser itself is                                  executing some kind of code replacement                                  just seems like we're yeah and it's it's                                  it's too new for me to even have pursued                                  it much                                  yeah yeah so yeah so from the end-user                                  perspective the statement is like we can                                  be attracted by like a new approaches                                  and new technologies and potentially                                  they'd be really cool and they'd work                                  really well but for the end user we                                  really need something that works we need                                  something that works widely with the                                  system like drupal kamoa okay                                  okay so is it yeah so um two points so                                  the first one was the big gripe against                                  WYSIWYG is the type of data that gets                                  saved in the database can look really                                  ugly right like maybe as empty P tags                                  all over the place and stuff like that                                  and the second point was does WordPress                                  do any kind of like link checking to                                  make sure the images exist or the links                                  are valid and things like that and to                                  answer the second point right off I                                  don't think so i think it's just if                                  you've linked to a broken image then                                  you've linked to a broken image and if                                  that image has been removed then it's                                  removed and now you have a broken image                                  so i don't think it is any special                                  checking against that kind of thing                                  wordpress does however do some work to                                  kind of ensure that you've got nice                                  content that gets saved into your                                  database an interesting thing that                                  WordPress does is you'll see here like                                  I've got these two paragraphs here and I                                  entered these in the WYSIWYG but they're                                  not actually wrapped in P tags so even                                  though this is the HTML so like the                                  WYSIWYG here that we've got if I enter                                  in new lines and then I look at the HTML                                  you'll see that they don't have P tags                                  around them and that's because WordPress                                  essentially implements this is what                                  we're lacking WordPress implements the                                  automatic return to P tag filter like                                  drupal does but it implements that on                                  the input as well as on the output which                                  is what we're lacking right with Drupal                                  you should do the same thing that when                                  you do in return in the WYSIWYG it                                  doesn't put a repeat tag in the HTML                                  because the P tag is added by the                                  filtering right and it's the same sort                                  of thing that this is on talking about                                  where the filter is applied on the input                                  as well as on the output and if we had                                  that then the code that was inserted                                  into the WYSIWYG would be a lot more                                  similar to the code or the code that                                  people type out by hand right now                                  because when people type it out by hand                                  right now they know that the P tags get                                  added for the                                  don't add it and if we had that                                  integration between the input and the                                  WYSIWYG then the WYSIWYG would know that                                  the P tag was going to be added                                  automatically and it wouldn't do it                                  either mm-hmm yep actually that's                                  exactly what I was in the midst of                                  pulling up was that there is a function                                  here that essentially does that and                                  WordPress does not have that ability to                                  to configure your input formats right                                  it's all just the same for everybody yep                                  yep and here it is underscore poor                                  WordPress underscore no P for paragraph                                  tag and this is its reg ex that it runs                                  essentially when you turn on and off the                                  editor or when you save it into the                                  database when the editor the editor                                  automatically turns itself off when you                                  hit the Save button and that's what gets                                  saved into the database yep and then                                  there's a PHP function that is the exact                                  same thing exactly so what I've been                                  saying we need to essentially right                                  filters twice you need to write them                                  once in JavaScript and once in PHP and                                  they don't need to be identical but they                                  need to be pretty close in order to to                                  make that make that work so I'll recap                                  on okay yeah I have about two minutes                                  thanks for thanks for heads up so a                                  recap of what it is that we need to do                                  we need to enhance the filtering system                                  to provide a combined the input which                                  basically means JavaScript and output                                  which means PHP filtering so make                                  filtering do input and output filtering                                  instead of just output filtering unified                                  configuration of rich text editors or                                  whiskey legs with the configuration of                                  filters so filters and WYSIWYG they're                                  all one thing now instead of having them                                  be in two separate administrative areas                                  that don't don't talk to each other and                                  shift the terminology around content                                  creation from developer centric to                                  nology like filtering to user centric                                  terminology like editors and yeah as we                                  discuss editors isn't set in stone I                                  just think that it's a good proposal but                                  this is the extent so far of where I                                  think wysiwyg is going to head there are                                  a couple things that are totally                                  unanswered and I think that we need to                                  have more information on them before we                                  can actually one less thing we can't act                                  upon it you can act upon a very little                                  information actually just not sure that                                  you're going to go the right way but                                  like which editor we're going to use is                                  a big decision and the ultimate bike                                  shed I'm sure it's going to be a                                  fantastic battle for the Drupal analysis                                  of history over which one we're going to                                  use their but I'd like to base that not                                  upon the things that we have today                                  because what people are judging today is                                  they're judging the out of box                                  experience because drupal's integration                                  with those things is really bad it's                                  literally like everybody is judging them                                  off of what they get out of the box not                                  the kind of integration that they could                                  potentially have I think that if we                                  write a WYSIWYG into core and we give it                                  just kick ass integration with Drupal it                                  doesn't matter which one we choose                                  because it's going to surpass everything                                  we've ever done before as long as you                                  write really good in equation right now                                  with like the WYSIWYG module the idea                                  was to provide you with as many out of                                  box experiences as possible and none of                                  which are good right it would be great                                  if we had like a whichever one we choose                                  if we make a really compelling tightly                                  integrated experience then I think that                                  would that will make it so people don't                                  don't really even care what the editor                                  is back here those wordpress have the                                  ability to offer anything else I think                                  they do I've seen yes plugins that allow                                  you to swap out the editor but of course                                  what those editors need to do is they                                  need to re-implement almost everything                                  that is done by wordpress core for their                                  particular editor so there's a lot more                                  work upon each individual plugins                                  opportunity I think that will remain I'm                                  not suggesting that the filter modular                                  editor module would include tiny MCE or                                  seek editor directly I think that still                                  needs to be a separate mod                                  that is just the default implementation                                  that is turned on in the standard                                  profile so tiny MCE module or ckeditor                                  module one of those will rise from the                                  ashes and be included in core                                  essentially along with the editor module                                  and they'll just collaborate together                                  and will just be the default weight and                                  being the default pretty much means that                                  they're what everybody will use any                                  other last comments so can we show a                                  video of like right now do we have time                                  for that okay okay well what I'm going                                  to do is I'm going to say thank you very                                  much for coming                                  okay so in the meantime while we're                                  waiting for lunch let's watch the video                                  on with you wig fields
YouTube URL: https://www.youtube.com/watch?v=mpJGOoMmUOI


