Title: DrupalCon Prague 2013: TWIG AND THE NEW THEME LAYER IN DRUPAL 8
Publication date: 2013-09-26
Playlist: DrupalCon Prague - September 2013
Description: 
	Drupal 8 will have a fancy new template engine (Twig) and a simplified theme layer (we hope). We'll show you the new template syntax (don't worry, it's easy) and walk through some of the major problems in Drupal 7 that have either already been solved in Drupal 8, or that we are still working hard on improving.

Things we're currently improving include:

Syntax
Consistency
Complexity
Redundancy
Security
Learn about all the changes in the Drupal 8 theme layer, and find out how you can get involved. We want Drupal 8 to be easy for theme developers and people new to Drupal, and also make more sense to the pros.

We still need your help, come learn what we're working on and how to get involved!
Captions: 
	00:00:00,000 --> 00:00:04,950
all right hello there's a few more

00:00:02,280 --> 00:00:08,550
people still shuffling in what let's get

00:00:04,950 --> 00:00:13,679
this show started if you love PHP

00:00:08,550 --> 00:00:16,109
template I have bad news we're here to

00:00:13,679 --> 00:00:17,730
talk about twig but not only twig also

00:00:16,109 --> 00:00:20,039
the other changes throughout the theme

00:00:17,730 --> 00:00:27,000
layer for Drupal 8 to make things better

00:00:20,039 --> 00:00:29,640
for front enters everywhere so we'll

00:00:27,000 --> 00:00:32,940
just start with the introduction my name

00:00:29,640 --> 00:00:34,800
is scott orkut sir i'm a just a

00:00:32,940 --> 00:00:37,070
developer drupal developer at digital

00:00:34,800 --> 00:00:39,000
echidna just quick shout out to them for

00:00:37,070 --> 00:00:41,610
sponsoring me to come here which is

00:00:39,000 --> 00:00:45,090
great and fabian you want to introduce

00:00:41,610 --> 00:00:49,890
yourself yeah I'm Fabian France or Fay

00:00:45,090 --> 00:00:53,280
beings on drupal.org it's one crazy day

00:00:49,890 --> 00:00:54,930
I had this idea of that district there

00:00:53,280 --> 00:00:57,840
was this little problem to soften it was

00:00:54,930 --> 00:00:59,609
like it wasn't that hard and suddenly I

00:00:57,840 --> 00:01:01,980
was together with Jen leading this

00:00:59,609 --> 00:01:04,470
initiative but we had success and it's

00:01:01,980 --> 00:01:06,780
very nice so I'm currently a tech one

00:01:04,470 --> 00:01:12,840
consulting loving it and yeah hope you

00:01:06,780 --> 00:01:15,659
have fun with the session hi I'm Joelle

00:01:12,840 --> 00:01:17,970
potete and I jumped onto this twig

00:01:15,659 --> 00:01:19,920
project just to help out and I got

00:01:17,970 --> 00:01:22,110
sucked in and it's been good so far

00:01:19,920 --> 00:01:25,890
because it feels a lot better than the

00:01:22,110 --> 00:01:28,020
PHP template that I used to use and I'm

00:01:25,890 --> 00:01:29,640
Jen Lampton I'm also independent I'm

00:01:28,020 --> 00:01:33,720
working on the twig project for the last

00:01:29,640 --> 00:01:35,700
year and a half um really hoping it gets

00:01:33,720 --> 00:01:42,780
everything everyone wants out of it done

00:01:35,700 --> 00:01:46,070
so and a pony alright so now that you

00:01:42,780 --> 00:01:50,790
know who we are why are you here and

00:01:46,070 --> 00:01:54,149
what is this talk about we want to talk

00:01:50,790 --> 00:01:56,700
about the pain and what we have done and

00:01:54,149 --> 00:01:59,549
what we are going to do to try and take

00:01:56,700 --> 00:02:02,850
that away from and so to give you a

00:01:59,549 --> 00:02:05,700
better theming experience so we're going

00:02:02,850 --> 00:02:09,000
to talk about syntax inconsistency

00:02:05,700 --> 00:02:10,800
complexity redundancy and security and

00:02:09,000 --> 00:02:14,050
so this is just an overview so we'll

00:02:10,800 --> 00:02:16,260
talk about each of these I think

00:02:14,050 --> 00:02:19,330
Jen do you want to talk about syntax

00:02:16,260 --> 00:02:23,740
sure so there are a couple of problems

00:02:19,330 --> 00:02:25,600
with the syntax in in Drupal 7 for

00:02:23,740 --> 00:02:27,430
starters that when you are printing

00:02:25,600 --> 00:02:28,930
variables in your template files there

00:02:27,430 --> 00:02:31,330
are lots of different ways to identify

00:02:28,930 --> 00:02:32,860
your variables if you're printing an

00:02:31,330 --> 00:02:35,410
object you print things out with an

00:02:32,860 --> 00:02:36,580
arrow if you're printing something in an

00:02:35,410 --> 00:02:38,400
array you bring them out with square

00:02:36,580 --> 00:02:42,490
brackets sometimes you just print things

00:02:38,400 --> 00:02:44,800
and for people who are experts in HTML

00:02:42,490 --> 00:02:46,210
and CSS they shouldn't need to know the

00:02:44,800 --> 00:02:48,280
difference between an object or an array

00:02:46,210 --> 00:02:49,870
or how to access bits and pieces of them

00:02:48,280 --> 00:02:52,060
and more importantly a nation need to

00:02:49,870 --> 00:02:55,930
know which things Drupal decided to make

00:02:52,060 --> 00:02:57,610
which other things and it's kind of

00:02:55,930 --> 00:02:58,960
would be nice if we could print

00:02:57,610 --> 00:03:00,280
everything the same way and let the

00:02:58,960 --> 00:03:02,440
people who are experts in the template

00:03:00,280 --> 00:03:07,660
files do what they do best and leave the

00:03:02,440 --> 00:03:10,330
yucky stuff to the developers so in twig

00:03:07,660 --> 00:03:11,710
and we've eliminated the need to print

00:03:10,330 --> 00:03:13,690
things differently it doesn't matter

00:03:11,710 --> 00:03:15,430
whether it's an object or an array or a

00:03:13,690 --> 00:03:18,880
plain variable if you want to print it

00:03:15,430 --> 00:03:26,380
you just print it so um gets a lot

00:03:18,880 --> 00:03:28,660
better yeah there's also different ways

00:03:26,380 --> 00:03:29,830
we print things in Drupal 7 sometimes

00:03:28,660 --> 00:03:31,780
you just print them to the page and

00:03:29,830 --> 00:03:34,330
sometimes you have to print render them

00:03:31,780 --> 00:03:35,770
not only is print rendering things a

00:03:34,330 --> 00:03:37,630
little bit redundant but it's another

00:03:35,770 --> 00:03:38,770
one of these things where we're leaving

00:03:37,630 --> 00:03:41,020
it to the front end community to

00:03:38,770 --> 00:03:42,400
understand when Drupal requires that you

00:03:41,020 --> 00:03:44,410
rent or something and when you can just

00:03:42,400 --> 00:03:46,810
print it where we really should just be

00:03:44,410 --> 00:03:49,060
able to print everything the same way so

00:03:46,810 --> 00:03:50,890
in twig we've made it so that you don't

00:03:49,060 --> 00:03:52,330
have to render your renderable so you

00:03:50,890 --> 00:03:53,739
can print them exactly like you print

00:03:52,330 --> 00:03:58,959
everything else into it will handle the

00:03:53,739 --> 00:04:02,890
rendering for you just print it yes

00:03:58,959 --> 00:04:05,200
print it and inconsistency is another

00:04:02,890 --> 00:04:07,480
pain point so many different ways of

00:04:05,200 --> 00:04:09,489
doing the same thing sometimes we use

00:04:07,480 --> 00:04:12,580
template files sometimes we use theme

00:04:09,489 --> 00:04:15,700
functions theme functions are always a

00:04:12,580 --> 00:04:19,209
pain to override and when I was learning

00:04:15,700 --> 00:04:20,739
theming Drupal I thought that it was

00:04:19,209 --> 00:04:22,479
crazy that you have to take this whole

00:04:20,739 --> 00:04:24,130
function and copy it into your theme and

00:04:22,479 --> 00:04:26,200
then just change these little bits and

00:04:24,130 --> 00:04:27,730
it also means that you need to know PHP

00:04:26,200 --> 00:04:32,500
basically to change that

00:04:27,730 --> 00:04:34,210
markup so in Drupal 8 with an asterisk

00:04:32,500 --> 00:04:36,970
only template files are provided in

00:04:34,210 --> 00:04:38,290
Drupal 8 we're probably going to drill

00:04:36,970 --> 00:04:40,390
this into your head by the end of this

00:04:38,290 --> 00:04:43,120
but we need your help to make all this a

00:04:40,390 --> 00:04:46,450
reality so if you're still in town on

00:04:43,120 --> 00:04:48,580
Friday please come to the sprint no

00:04:46,450 --> 00:04:52,450
matter your skill level and experience

00:04:48,580 --> 00:04:54,400
you can help trust me if you have built

00:04:52,450 --> 00:04:58,900
a site in Drupal you can help us out and

00:04:54,400 --> 00:05:03,090
help yourself out at the same time so

00:04:58,900 --> 00:05:06,010
and also the just the sheer amount of

00:05:03,090 --> 00:05:07,630
template files and themed functions e we

00:05:06,010 --> 00:05:11,380
can't even show you them all and you

00:05:07,630 --> 00:05:15,970
can't read any of these there's a lot of

00:05:11,380 --> 00:05:17,620
them and it's it's just sort of it's too

00:05:15,970 --> 00:05:21,910
much it's too many layers it's too

00:05:17,620 --> 00:05:23,680
complex so we are trying to get rid of

00:05:21,910 --> 00:05:25,210
them consolidate them if they're the

00:05:23,680 --> 00:05:33,640
same thing let's just use the same

00:05:25,210 --> 00:05:35,950
template but we need your help and I'll

00:05:33,640 --> 00:05:38,920
pass this on this is talking about

00:05:35,950 --> 00:05:43,960
render A's and theme functions let's

00:05:38,920 --> 00:05:46,270
take that I can take that and so in

00:05:43,960 --> 00:05:50,680
general we had a very big inconsistency

00:05:46,270 --> 00:05:52,450
there in general most functions in coop

00:05:50,680 --> 00:05:55,650
would already kind of deuces that they

00:05:52,450 --> 00:06:00,550
create this big arrays with a built and

00:05:55,650 --> 00:06:03,220
then you would kind of have this as an

00:06:00,550 --> 00:06:05,080
render array but there were also lots of

00:06:03,220 --> 00:06:08,230
places in core where you would actually

00:06:05,080 --> 00:06:10,330
call the same function and we are

00:06:08,230 --> 00:06:13,660
actually very close to duplicating that

00:06:10,330 --> 00:06:16,420
from Drupal a Drupal 8 which means that

00:06:13,660 --> 00:06:18,790
overall what we can now do is we can do

00:06:16,420 --> 00:06:20,530
lots of things within the rendering

00:06:18,790 --> 00:06:22,810
system that if before I hadn't been

00:06:20,530 --> 00:06:25,450
possible because we now have one

00:06:22,810 --> 00:06:27,270
consistent way to call it so if in your

00:06:25,450 --> 00:06:31,330
modules you are still kind of using

00:06:27,270 --> 00:06:33,580
theme codes start converting them now

00:06:31,330 --> 00:06:36,700
that will also help with performance

00:06:33,580 --> 00:06:37,770
caching and other things trust me it's

00:06:36,700 --> 00:06:40,889
versity

00:06:37,770 --> 00:06:42,720
so it's basically it's taking its it's

00:06:40,889 --> 00:06:44,879
taking the call to the theme function

00:06:42,720 --> 00:06:47,370
and convert that to a render way with

00:06:44,879 --> 00:06:49,110
hash theme equals and so it's it's

00:06:47,370 --> 00:06:51,389
usually a fairly straightforward

00:06:49,110 --> 00:06:52,409
conversion to this new way and like

00:06:51,389 --> 00:06:56,819
Fabian was saying there's so many

00:06:52,409 --> 00:06:58,440
benefits and complexities another pain

00:06:56,819 --> 00:07:00,900
point this is this is one of my favorite

00:06:58,440 --> 00:07:05,580
slides because it looks it looks so evil

00:07:00,900 --> 00:07:08,460
look at it so this is pretty much what

00:07:05,580 --> 00:07:10,830
Drupal 7 looks like John Albin Wilkins

00:07:08,460 --> 00:07:13,880
who is the one of the theme system

00:07:10,830 --> 00:07:16,380
maintainers and was for Drupal 7 as well

00:07:13,880 --> 00:07:19,020
sort of figured it all out and created

00:07:16,380 --> 00:07:21,440
this diagram and I sort of like to refer

00:07:19,020 --> 00:07:24,650
to this as the monster that we created

00:07:21,440 --> 00:07:27,090
so we're trying not to do that this time

00:07:24,650 --> 00:07:30,389
we're trying to sort of think through

00:07:27,090 --> 00:07:34,800
and think about the use cases and what

00:07:30,389 --> 00:07:38,190
people actually need so in this little

00:07:34,800 --> 00:07:40,169
story to that when we finally at the

00:07:38,190 --> 00:07:42,960
last Rubicon after five days of

00:07:40,169 --> 00:07:45,300
extensive sprinting got trick at least

00:07:42,960 --> 00:07:47,009
secured almost in court the mega patch

00:07:45,300 --> 00:07:48,599
was ready it just had to be kind of

00:07:47,009 --> 00:07:51,240
applied and it was applied the next day

00:07:48,599 --> 00:07:53,400
and I was flying back Jenna me they said

00:07:51,240 --> 00:07:55,409
sitting last in the coding knowledge and

00:07:53,400 --> 00:07:57,539
reality check debating those things

00:07:55,409 --> 00:08:00,300
anymore and then we kindly found well

00:07:57,539 --> 00:08:06,180
we've just designed a new sim system in

00:08:00,300 --> 00:08:07,620
five easy steps read it yes so yes I'm

00:08:06,180 --> 00:08:09,870
glad that you told that story feeling

00:08:07,620 --> 00:08:13,169
because that's very important to this a

00:08:09,870 --> 00:08:15,599
lot of a lot of twig happened after

00:08:13,169 --> 00:08:17,490
hours and just putting in the extra

00:08:15,599 --> 00:08:19,050
effort to make this happen and make this

00:08:17,490 --> 00:08:22,469
a reality for everyone and that's that's

00:08:19,050 --> 00:08:24,840
a perfect example so it's sort of it's

00:08:22,469 --> 00:08:27,690
it's adding a few things but it's also

00:08:24,840 --> 00:08:30,979
taking away and simplifying so we'll

00:08:27,690 --> 00:08:34,349
talk more about this later but it's just

00:08:30,979 --> 00:08:35,969
it's not jamming most of this is just

00:08:34,349 --> 00:08:37,620
not jamming so much things in pre

00:08:35,969 --> 00:08:39,300
process that don't really belong there

00:08:37,620 --> 00:08:41,279
so I mean we'll talk more about that

00:08:39,300 --> 00:08:43,829
later and we do still need your help

00:08:41,279 --> 00:08:45,660
yeah and if you now form API you will

00:08:43,829 --> 00:08:47,820
kind of love it because it's very

00:08:45,660 --> 00:08:51,430
similar yeah it is very much like form

00:08:47,820 --> 00:08:54,010
API and redundancy and we ask

00:08:51,430 --> 00:08:57,100
in Portland actually and people were

00:08:54,010 --> 00:08:59,320
like hey I get it that's nice so we got

00:08:57,100 --> 00:09:01,839
positive feedback and so we continued

00:08:59,320 --> 00:09:03,190
with initiative yeah it's something it's

00:09:01,839 --> 00:09:06,670
something that's familiar to a lot of

00:09:03,190 --> 00:09:09,970
developers already so the structure so

00:09:06,670 --> 00:09:12,940
redundancy this is a huge win that we

00:09:09,970 --> 00:09:14,620
get with twig if you're creating no

00:09:12,940 --> 00:09:16,870
templates for example you have knowed

00:09:14,620 --> 00:09:20,670
article you have knowed page and you can

00:09:16,870 --> 00:09:24,880
get more specific than that of course in

00:09:20,670 --> 00:09:27,910
in Drupal 7 you would be forced to

00:09:24,880 --> 00:09:29,620
basically well the standard way anyway

00:09:27,910 --> 00:09:32,740
would be basically to copy your node

00:09:29,620 --> 00:09:36,370
template but then you have to maintain 4

00:09:32,740 --> 00:09:38,649
or 10 or 20 sets of the same markup just

00:09:36,370 --> 00:09:40,779
to change one part twig actually gives

00:09:38,649 --> 00:09:43,690
us real template inheritance so you can

00:09:40,779 --> 00:09:47,290
say on the right side here where it says

00:09:43,690 --> 00:09:50,080
extends node HTML twig we're just

00:09:47,290 --> 00:09:51,850
changing one part so it's you actually

00:09:50,080 --> 00:09:54,190
have like a parent-child relationship

00:09:51,850 --> 00:09:56,500
and you can just change the one part you

00:09:54,190 --> 00:09:58,959
need to change so all you do is you add

00:09:56,500 --> 00:10:01,900
the code block if you see on the Left

00:09:58,959 --> 00:10:03,730
there's code block footer towards the

00:10:01,900 --> 00:10:05,170
bottom all you do is you add that to

00:10:03,730 --> 00:10:07,510
your parent template that allows you to

00:10:05,170 --> 00:10:10,029
override that bit in your child template

00:10:07,510 --> 00:10:12,339
essentially in the nice thing about this

00:10:10,029 --> 00:10:15,370
inheritance is it works exactly like

00:10:12,339 --> 00:10:18,160
class-based inheritance and it's

00:10:15,370 --> 00:10:21,970
simulating that and it's fast it's the

00:10:18,160 --> 00:10:25,150
fastest inheritance in seeming engine

00:10:21,970 --> 00:10:28,029
implements and I think this is also nice

00:10:25,150 --> 00:10:30,070
because it sort of gives us

00:10:28,029 --> 00:10:31,540
justification for also reducing the

00:10:30,070 --> 00:10:33,760
amount of templates because I think

00:10:31,540 --> 00:10:35,650
previously the reason for creating all

00:10:33,760 --> 00:10:37,000
these little small atomic templates was

00:10:35,650 --> 00:10:39,610
oh well what if you just want to change

00:10:37,000 --> 00:10:41,230
this one part so that's not really an

00:10:39,610 --> 00:10:43,630
issue anymore so I think that will also

00:10:41,230 --> 00:10:50,050
help us to reduce the amount of

00:10:43,630 --> 00:10:52,180
templates and again sort of coming back

00:10:50,050 --> 00:10:54,940
to this it's another part of redundancy

00:10:52,180 --> 00:10:56,680
that we have many things templates and

00:10:54,940 --> 00:10:58,720
theme functions that output almost the

00:10:56,680 --> 00:11:00,790
exact same thing and we want to

00:10:58,720 --> 00:11:02,470
consolidate them and use actual theme

00:11:00,790 --> 00:11:04,570
suggestions which is something we've had

00:11:02,470 --> 00:11:05,110
in core for a long time but we've never

00:11:04,570 --> 00:11:07,240
really

00:11:05,110 --> 00:11:10,660
ridgid so if you're creating an item

00:11:07,240 --> 00:11:12,700
list and whether it's of users or tasks

00:11:10,660 --> 00:11:14,529
we can just use the same template

00:11:12,700 --> 00:11:16,329
because you will still be able to

00:11:14,529 --> 00:11:19,209
override each of those on an individual

00:11:16,329 --> 00:11:22,660
basis if you need to so for example the

00:11:19,209 --> 00:11:25,750
middle one you could say item list users

00:11:22,660 --> 00:11:30,370
HTML twig and that would override just

00:11:25,750 --> 00:11:34,019
that that bit of markup and I will

00:11:30,370 --> 00:11:40,240
definitely pass security on to Fabian

00:11:34,019 --> 00:11:43,779
yeah so um one thing about trick here is

00:11:40,240 --> 00:11:48,370
that especially in PHP template you

00:11:43,779 --> 00:11:50,649
could write a betrayer PHP data and if

00:11:48,370 --> 00:11:55,120
you've ever worked with a more complex

00:11:50,649 --> 00:11:57,399
seem that was kind of built by someone

00:11:55,120 --> 00:11:59,680
not yet familiar with the Drupal way of

00:11:57,399 --> 00:12:01,750
doing things what you ended up this was

00:11:59,680 --> 00:12:06,670
a lot of business logic was in the seam

00:12:01,750 --> 00:12:11,350
and template files and even MySQL cords

00:12:06,670 --> 00:12:13,329
etc so it would make things you want to

00:12:11,350 --> 00:12:15,730
have a clear separation of presentation

00:12:13,329 --> 00:12:19,110
in business logic layer and there's

00:12:15,730 --> 00:12:22,209
nothing enforcing that in Drupal 7 and

00:12:19,110 --> 00:12:24,190
also what you could do in Drupal 7 more

00:12:22,209 --> 00:12:28,470
from a security standpoint you could

00:12:24,190 --> 00:12:32,199
just print out uncivilized data and

00:12:28,470 --> 00:12:35,529
there was even at one time a possibility

00:12:32,199 --> 00:12:39,279
for there was a change from title to

00:12:35,529 --> 00:12:42,339
label but if your seam was still using

00:12:39,279 --> 00:12:44,290
the old way because it was kind of not

00:12:42,339 --> 00:12:46,449
yet adjusted to that change then

00:12:44,290 --> 00:12:50,230
immediately you would have a cross-site

00:12:46,449 --> 00:12:52,300
scripting attack and Korra even had back

00:12:50,230 --> 00:12:56,589
here that allowed you to suddenly print

00:12:52,300 --> 00:12:58,870
out and sanitize data yeah and so and if

00:12:56,589 --> 00:13:01,959
it if it's hard for the experts to get

00:12:58,870 --> 00:13:04,329
it right then it's even harder for the

00:13:01,959 --> 00:13:06,339
non-expert or those that should not be

00:13:04,329 --> 00:13:08,529
expert in security to get it right as

00:13:06,339 --> 00:13:10,899
well yeah so basically what we're giving

00:13:08,529 --> 00:13:12,910
you is smart defaults out of the box so

00:13:10,899 --> 00:13:16,750
that you don't have to worry and lose

00:13:12,910 --> 00:13:18,300
sleep over this stuff so and we do we do

00:13:16,750 --> 00:13:21,570
still need help though in

00:13:18,300 --> 00:13:23,820
in making auto escape a reality we have

00:13:21,570 --> 00:13:27,000
some work there but again we need we

00:13:23,820 --> 00:13:30,840
need help we're only small team on the

00:13:27,000 --> 00:13:32,640
other hand out her escape it has been in

00:13:30,840 --> 00:13:34,620
a way also versa to wait with other

00:13:32,640 --> 00:13:37,260
escape until the entity API is

00:13:34,620 --> 00:13:39,060
stabilizing a little because we are now

00:13:37,260 --> 00:13:41,670
getting something completely different

00:13:39,060 --> 00:13:45,270
the immediate three months ago so I'm

00:13:41,670 --> 00:13:47,010
yeah because there's so many changes any

00:13:45,270 --> 00:13:49,140
other escape implementation that we

00:13:47,010 --> 00:13:53,910
would have had before would probably had

00:13:49,140 --> 00:13:58,020
been changed by now yeah and I love this

00:13:53,910 --> 00:14:00,240
because well Jen Jen made this slide and

00:13:58,020 --> 00:14:05,280
when she was making it she accidentally

00:14:00,240 --> 00:14:06,810
dropped her note table so I mean this is

00:14:05,280 --> 00:14:08,370
sort of what that would look like in

00:14:06,810 --> 00:14:10,530
twig but it won't do anything it'll just

00:14:08,370 --> 00:14:13,770
give you an error it'll say what is DB

00:14:10,530 --> 00:14:15,780
query I don't know what that is so you

00:14:13,770 --> 00:14:27,050
can't even if you want it to until some

00:14:15,780 --> 00:14:29,490
evil person makes a contribute so

00:14:27,050 --> 00:14:34,320
getting all this we do need to make some

00:14:29,490 --> 00:14:36,090
API changes of course new template is

00:14:34,320 --> 00:14:38,640
definitely an API change sorry new

00:14:36,090 --> 00:14:41,190
template engine the new theme hooks

00:14:38,640 --> 00:14:43,890
which I briefly mentioned making

00:14:41,190 --> 00:14:45,120
everything renderable which we've

00:14:43,890 --> 00:14:47,940
already touched on a little bit and

00:14:45,120 --> 00:14:52,290
markup utility functions which are sort

00:14:47,940 --> 00:14:54,330
of evolving and we're still sort of

00:14:52,290 --> 00:14:56,730
defining what that will be because as

00:14:54,330 --> 00:14:58,230
we're developing this we have people

00:14:56,730 --> 00:15:01,440
like Martin who are kicking the tires

00:14:58,230 --> 00:15:02,880
and seeing how this stuff actually works

00:15:01,440 --> 00:15:05,880
in practice so we're trying to figure

00:15:02,880 --> 00:15:09,060
out as we go what what tools are

00:15:05,880 --> 00:15:10,860
actually useful to theme errs and the

00:15:09,060 --> 00:15:13,110
mark-up utility functions is sort of

00:15:10,860 --> 00:15:16,590
falls under that category as well as the

00:15:13,110 --> 00:15:19,710
theme component library so new template

00:15:16,590 --> 00:15:22,020
engine sorry PHP template was our engine

00:15:19,710 --> 00:15:23,760
it wasn't really an engine it's

00:15:22,020 --> 00:15:27,560
technically still in Drupal 8 but that's

00:15:23,760 --> 00:15:31,890
because it's like 30 lines of code 50

00:15:27,560 --> 00:15:32,250
not very much you can use it but you

00:15:31,890 --> 00:15:35,100
won't

00:15:32,250 --> 00:15:37,980
want to because everything is going to

00:15:35,100 --> 00:15:40,770
be set up perfectly to work with twig

00:15:37,980 --> 00:15:45,510
and we'll have all these lovely contribs

00:15:40,770 --> 00:15:50,940
that you guys can build and it looks

00:15:45,510 --> 00:15:53,220
pretty look at that nice little twig new

00:15:50,940 --> 00:15:54,900
theme hooks I will pass this to Aunt

00:15:53,220 --> 00:16:01,020
Fabian as well because this is sort of

00:15:54,900 --> 00:16:04,740
the brainchild ok so for the news team

00:16:01,020 --> 00:16:08,640
hooks um kind of what we found was the

00:16:04,740 --> 00:16:11,130
old seems as timbers it was something

00:16:08,640 --> 00:16:13,800
that was very very flexible and it could

00:16:11,130 --> 00:16:15,210
do let you do many many things but it

00:16:13,800 --> 00:16:18,630
couldn't let you do the things that you

00:16:15,210 --> 00:16:21,870
actually want to do so um we kind of

00:16:18,630 --> 00:16:24,420
found we need a negotiation phase in

00:16:21,870 --> 00:16:27,290
which we kind of say what will be the

00:16:24,420 --> 00:16:30,150
suggestions and what will be the

00:16:27,290 --> 00:16:33,090
templates we want to find we want both

00:16:30,150 --> 00:16:38,820
seams and modules to define suggestions

00:16:33,090 --> 00:16:43,250
so that I can for example say well I see

00:16:38,820 --> 00:16:46,020
in my variables is coming into special

00:16:43,250 --> 00:16:49,890
this special variable and based on that

00:16:46,020 --> 00:16:51,750
I want to do something they are this is

00:16:49,890 --> 00:16:54,600
not yet in but probably something

00:16:51,750 --> 00:16:56,940
because it just makes sense I would like

00:16:54,600 --> 00:17:00,410
to do it even more just have a generic

00:16:56,940 --> 00:17:02,700
context I can check and pass over and

00:17:00,410 --> 00:17:06,089
but that's a little more in the future

00:17:02,700 --> 00:17:08,819
but again i can do based on some data I

00:17:06,089 --> 00:17:11,579
can do pass a suggestion and I can

00:17:08,819 --> 00:17:13,380
create it my prime example always is i

00:17:11,579 --> 00:17:16,410
have a map kind of like and now

00:17:13,380 --> 00:17:18,060
someone's making a call-out map so then

00:17:16,410 --> 00:17:22,650
for the colored map i want to add

00:17:18,060 --> 00:17:25,170
suggestions as well and so I can kind of

00:17:22,650 --> 00:17:29,370
get a kind of inheritance structure here

00:17:25,170 --> 00:17:32,340
and the nice thing about seem

00:17:29,370 --> 00:17:37,440
suggestions is that now I'm first adding

00:17:32,340 --> 00:17:40,290
my suggestions but still my my default

00:17:37,440 --> 00:17:42,600
suggestion which which I was cold would

00:17:40,290 --> 00:17:46,020
still be kind of the default one because

00:17:42,600 --> 00:17:48,030
there's still a way to kind of call

00:17:46,020 --> 00:17:50,340
directly past a suggestion to the render

00:17:48,030 --> 00:17:52,470
array-like item list underscore

00:17:50,340 --> 00:17:54,780
underscore user and but now we are

00:17:52,470 --> 00:17:57,390
introduced in the same suggestion altar

00:17:54,780 --> 00:17:59,940
where again you can not only add things

00:17:57,390 --> 00:18:03,000
but you can also alter things so if you

00:17:59,940 --> 00:18:05,490
want to say even though this has been

00:18:03,000 --> 00:18:08,130
coming in with an item list and ESCO

00:18:05,490 --> 00:18:10,740
ESCO users I could still alter it and

00:18:08,130 --> 00:18:13,890
have it be my fancy users or whatever

00:18:10,740 --> 00:18:17,780
and I can kind of override it all and we

00:18:13,890 --> 00:18:20,880
are here now finally in our standard

00:18:17,780 --> 00:18:22,560
system like we have it in Drupal you

00:18:20,880 --> 00:18:24,950
create those things you alter those

00:18:22,560 --> 00:18:27,870
things and then the same is kind of

00:18:24,950 --> 00:18:30,690
happening further prepare we kind of

00:18:27,870 --> 00:18:34,140
already had a PA on the ppi also stage

00:18:30,690 --> 00:18:35,610
but it was named very weird the prepare

00:18:34,140 --> 00:18:38,250
stage is kind of your template

00:18:35,610 --> 00:18:40,710
pre-process hook and then your altar

00:18:38,250 --> 00:18:45,600
stages your hook preprocess hook hands

00:18:40,710 --> 00:18:47,190
like it wasn't clearly defined and also

00:18:45,600 --> 00:18:49,590
what we couldn't do we couldn't do a

00:18:47,190 --> 00:18:51,960
prepare or prepare although on the

00:18:49,590 --> 00:18:53,790
suggestion we are getting so again if I

00:18:51,960 --> 00:18:56,750
have my colored map may need to do any

00:18:53,790 --> 00:18:58,830
preparation I can't do it directly and

00:18:56,750 --> 00:19:01,020
Drupal 7 it's even more complicated

00:18:58,830 --> 00:19:03,750
because it can even get the suggestion

00:19:01,020 --> 00:19:05,760
it was called with so I really can't do

00:19:03,750 --> 00:19:08,310
my colored map preparation in the way

00:19:05,760 --> 00:19:10,440
I've wanted to do and this new prepare

00:19:08,310 --> 00:19:15,450
call we are introducing is allowing to

00:19:10,440 --> 00:19:18,120
do you do that for you so you can can

00:19:15,450 --> 00:19:20,970
get your preparation done and afterwards

00:19:18,120 --> 00:19:22,710
you can again then alter it but it

00:19:20,970 --> 00:19:24,720
depends on you if you want to add

00:19:22,710 --> 00:19:27,270
something or if you want to alter

00:19:24,720 --> 00:19:29,460
something and that again is very

00:19:27,270 --> 00:19:33,590
powerful and what's especially nice

00:19:29,460 --> 00:19:37,260
about the hook prepare is a hook prepare

00:19:33,590 --> 00:19:39,030
underscore underscore so hook prepared

00:19:37,260 --> 00:19:41,550
for example for a note I could have and

00:19:39,030 --> 00:19:44,700
I have a suggestion like note article

00:19:41,550 --> 00:19:46,950
and so I could have a January cook

00:19:44,700 --> 00:19:50,420
prepare witches were running always I

00:19:46,950 --> 00:19:52,920
could have a hook prepare underscore

00:19:50,420 --> 00:19:54,900
note which is just running for notes

00:19:52,920 --> 00:19:59,100
better can also have a hook prepare

00:19:54,900 --> 00:20:01,980
underscore note underscore article

00:19:59,100 --> 00:20:04,350
underscore and in that case I get called

00:20:01,980 --> 00:20:06,929
also for suggestions so that's very

00:20:04,350 --> 00:20:09,929
similar to form hook form for my the

00:20:06,929 --> 00:20:12,990
auto kind of the exact same mechanism

00:20:09,929 --> 00:20:14,970
and that will allow much flexibility and

00:20:12,990 --> 00:20:17,429
getting this things done and afterwards

00:20:14,970 --> 00:20:22,919
you can even alter on again the same

00:20:17,429 --> 00:20:26,460
street names and and then after we kind

00:20:22,919 --> 00:20:28,980
of done with that then we can give that

00:20:26,460 --> 00:20:32,190
back to the Drupal render and that can

00:20:28,980 --> 00:20:36,299
and then we are from the same engine

00:20:32,190 --> 00:20:38,429
just rendering either our normal

00:20:36,299 --> 00:20:40,650
template or the negotiated template that

00:20:38,429 --> 00:20:43,320
was prepared in a different way anyway

00:20:40,650 --> 00:20:48,179
we have finally all the control we need

00:20:43,320 --> 00:20:53,220
in the same system here yay thank you

00:20:48,179 --> 00:20:57,690
baby and it's it's sort of a little too

00:20:53,220 --> 00:21:00,330
early but pre-process I mean you'll

00:20:57,690 --> 00:21:03,690
still have that tool but the actual like

00:21:00,330 --> 00:21:06,330
hook pre-process might go away still it

00:21:03,690 --> 00:21:07,710
sort of depends but with with the

00:21:06,330 --> 00:21:09,570
prepare and prepare out or you'll have

00:21:07,710 --> 00:21:11,360
all the same tools and they'll probably

00:21:09,570 --> 00:21:16,070
be even more powerful if we can get

00:21:11,360 --> 00:21:18,929
context available as well so and

00:21:16,070 --> 00:21:21,360
everything renderable we talked about

00:21:18,929 --> 00:21:26,850
this a little bit more here some nice

00:21:21,360 --> 00:21:30,120
Legos as lovely photo from gay bar which

00:21:26,850 --> 00:21:34,110
oh yeah lycos so basically with ren

00:21:30,120 --> 00:21:37,650
durables there's many benefits Fabian

00:21:34,110 --> 00:21:38,820
touched on like security for one the

00:21:37,650 --> 00:21:40,919
other thing too is that they're

00:21:38,820 --> 00:21:42,539
alterable so we're not that way you're

00:21:40,919 --> 00:21:45,090
not just dealing with a flat string that

00:21:42,539 --> 00:21:46,799
you can't do anything with so we just

00:21:45,090 --> 00:21:49,140
passed these renderable whether it's an

00:21:46,799 --> 00:21:51,600
array or an object down down the chain

00:21:49,140 --> 00:21:53,970
so that you can still hook into them

00:21:51,600 --> 00:21:56,159
later and alter them if need be because

00:21:53,970 --> 00:21:58,640
there's nothing worse than trying to

00:21:56,159 --> 00:22:02,460
update some certain piece of markup or

00:21:58,640 --> 00:22:06,120
some certain theme output and you're

00:22:02,460 --> 00:22:07,860
looking at a string of HTML and like

00:22:06,120 --> 00:22:11,059
you're going to do a regular expression

00:22:07,860 --> 00:22:11,059
on it like that's just not right

00:22:11,500 --> 00:22:19,490
and markup utility functions I'll

00:22:16,160 --> 00:22:22,190
actually be Jen can jump on that

00:22:19,490 --> 00:22:25,370
too because as I said that's that's sort

00:22:22,190 --> 00:22:27,770
of evolving a little bit so remarkable

00:22:25,370 --> 00:22:31,480
utility functions come from a very

00:22:27,770 --> 00:22:36,200
simple need antonidis in line templating

00:22:31,480 --> 00:22:38,510
what I want to be able to do is I want a

00:22:36,200 --> 00:22:40,550
link is probably too simple bad for a

00:22:38,510 --> 00:22:42,980
field or whatever if I have any

00:22:40,550 --> 00:22:45,200
renewable I want to be able to embed

00:22:42,980 --> 00:22:47,960
that within another template and I don't

00:22:45,200 --> 00:22:50,210
want to have a suggestion for everything

00:22:47,960 --> 00:22:52,550
I need I just want to be able to create

00:22:50,210 --> 00:22:54,800
bigger templates which have kind of like

00:22:52,550 --> 00:22:58,190
in line templates but we'd still have my

00:22:54,800 --> 00:23:01,160
prepare stuff running and I have a proof

00:22:58,190 --> 00:23:04,220
of concept now that allows you to kind

00:23:01,160 --> 00:23:07,370
of access the parrot excess still the

00:23:04,220 --> 00:23:08,990
parent context so you can still kind of

00:23:07,370 --> 00:23:11,860
if you have a node you have still the no

00:23:08,990 --> 00:23:14,929
title etc available but if then you are

00:23:11,860 --> 00:23:18,140
rendering a list then you can have this

00:23:14,929 --> 00:23:21,260
in this list you can kind of get the

00:23:18,140 --> 00:23:23,750
same output as in the item list or HTML

00:23:21,260 --> 00:23:26,390
da trick that will be very powerful in

00:23:23,750 --> 00:23:29,330
itself but there's a problem we removed

00:23:26,390 --> 00:23:31,280
symlink for example and now we are no

00:23:29,330 --> 00:23:34,190
longer that's good thing because it was

00:23:31,280 --> 00:23:36,710
a huge performance win but there's

00:23:34,190 --> 00:23:39,320
something a Drupal 7 and Drupal 8 that's

00:23:36,710 --> 00:23:42,050
still a very big hack because if you are

00:23:39,320 --> 00:23:45,410
doing a type link what happens is it

00:23:42,050 --> 00:23:47,840
defines a pre render function so at the

00:23:45,410 --> 00:23:50,780
time we are coming to the seam layer the

00:23:47,840 --> 00:23:52,880
link is already rendered and that's not

00:23:50,780 --> 00:23:55,840
changing if it's from a root or whatever

00:23:52,880 --> 00:23:58,370
leg in Drupal 8 and that's a problem

00:23:55,840 --> 00:24:00,260
things shouldn't be rendered to mark up

00:23:58,370 --> 00:24:04,190
under the seam layer had a chance to

00:24:00,260 --> 00:24:06,140
kind of say well I don't have a default

00:24:04,190 --> 00:24:08,830
implementation for symlink there no

00:24:06,140 --> 00:24:11,750
suggestions I'm early returning and

00:24:08,830 --> 00:24:13,970
that's just one is set in the registry

00:24:11,750 --> 00:24:16,790
it's very cheap I think you can already

00:24:13,970 --> 00:24:18,860
now set an empty function but it's not

00:24:16,790 --> 00:24:20,390
really defined in the registry that's

00:24:18,860 --> 00:24:22,580
kind of where I'm still seeing but on

00:24:20,390 --> 00:24:23,070
the other hand drupal pre-render link

00:24:22,580 --> 00:24:26,340
has to

00:24:23,070 --> 00:24:29,340
die it needs to be a Drupal render link

00:24:26,340 --> 00:24:32,009
and or even a Drupal simran a link

00:24:29,340 --> 00:24:34,080
that's kind of it's not seem function

00:24:32,009 --> 00:24:36,899
per se because you don't want that but

00:24:34,080 --> 00:24:40,259
you still want fast links or you still

00:24:36,899 --> 00:24:42,210
want fast whatever things fields or

00:24:40,259 --> 00:24:44,309
whatever that are just not fast enough

00:24:42,210 --> 00:24:46,230
for trick to compile and doesn't really

00:24:44,309 --> 00:24:49,950
make sense to kind of bootstrap

00:24:46,230 --> 00:24:52,320
everything today do a eco dollar content

00:24:49,950 --> 00:24:54,570
or print all the content like doesn't

00:24:52,320 --> 00:24:56,159
make sense because it's so generic also

00:24:54,570 --> 00:24:58,559
footings it doesn't make sense it's so

00:24:56,159 --> 00:25:01,139
generic but you still want want to have

00:24:58,559 --> 00:25:03,450
a defined template so that you can for

00:25:01,139 --> 00:25:08,700
example to inline templating for link or

00:25:03,450 --> 00:25:10,889
you can do can include your link in

00:25:08,700 --> 00:25:12,690
something and you can render pre-render

00:25:10,889 --> 00:25:15,629
cooling and there's lots of things you

00:25:12,690 --> 00:25:18,720
can do but this Drupal pre-render that's

00:25:15,629 --> 00:25:21,539
a problem because pre-rendering tamargo

00:25:18,720 --> 00:25:24,179
busy is not going to work out and that's

00:25:21,539 --> 00:25:26,879
kind of to what markup utility function

00:25:24,179 --> 00:25:28,889
now have evolved that instead of Drupal

00:25:26,879 --> 00:25:31,580
prerunner link we need a Drupal render

00:25:28,889 --> 00:25:33,929
link and that's it and this is just and

00:25:31,580 --> 00:25:36,450
property within the render array as well

00:25:33,929 --> 00:25:39,090
but it can be overridden by the seam and

00:25:36,450 --> 00:25:41,190
if the seam has something it gets cold

00:25:39,090 --> 00:25:43,440
if it doesn't have something then the

00:25:41,190 --> 00:25:44,909
default fast implementation gets called

00:25:43,440 --> 00:25:49,049
and that again gives you very much

00:25:44,909 --> 00:25:51,269
flexibility and possibilities why not

00:25:49,049 --> 00:25:56,360
sacrificing any speed and drew for

00:25:51,269 --> 00:26:01,769
Drupal 8 core standard installation yeah

00:25:56,360 --> 00:26:06,299
what he said just one good I don't think

00:26:01,769 --> 00:26:08,879
my mic works but anyways okay so one one

00:26:06,299 --> 00:26:11,759
thing on this although the getting rid

00:26:08,879 --> 00:26:15,000
of the theme the theme functions making

00:26:11,759 --> 00:26:17,820
these markup utility functions all this

00:26:15,000 --> 00:26:20,070
the goal in mind is is to give the theme

00:26:17,820 --> 00:26:22,440
errs something to wrap their markup

00:26:20,070 --> 00:26:25,830
around so you get the raw data instead

00:26:22,440 --> 00:26:27,149
of a string of HTML that's already there

00:26:25,830 --> 00:26:29,789
and you have to find out how to change

00:26:27,149 --> 00:26:31,710
it so at the theme at the template level

00:26:29,789 --> 00:26:34,350
you have the access to the raw data and

00:26:31,710 --> 00:26:35,210
you should be able to change what's

00:26:34,350 --> 00:26:36,529
around it

00:26:35,210 --> 00:26:39,260
it's going to be displayed on the screen

00:26:36,529 --> 00:26:40,730
so you want like say your first name

00:26:39,260 --> 00:26:43,309
last name and you want to wrap it in a

00:26:40,730 --> 00:26:45,520
span tag you got access to those raw

00:26:43,309 --> 00:26:47,330
data instead of the spanned already

00:26:45,520 --> 00:26:51,830
markup that you're getting so that's

00:26:47,330 --> 00:26:54,380
kind of the overall idea of why we're

00:26:51,830 --> 00:26:56,029
doing this and why we're trying to put

00:26:54,380 --> 00:26:58,250
all this information is to give you

00:26:56,029 --> 00:27:00,740
access to the information and so you can

00:26:58,250 --> 00:27:03,880
change it at the left at one level

00:27:00,740 --> 00:27:06,140
instead of looking for it with in Drupal

00:27:03,880 --> 00:27:10,429
yeah it's you definitely get more

00:27:06,140 --> 00:27:12,200
flexibility and then the theme component

00:27:10,429 --> 00:27:16,309
library I think jen is probably the best

00:27:12,200 --> 00:27:18,440
person to to talk about this one so back

00:27:16,309 --> 00:27:20,960
when we started this whole crazy twig

00:27:18,440 --> 00:27:22,520
idea we spent a couple of hours in a

00:27:20,960 --> 00:27:24,950
room trying to figure out like what the

00:27:22,520 --> 00:27:26,779
components we wanted to have were for

00:27:24,950 --> 00:27:28,909
theming like what are the pieces that

00:27:26,779 --> 00:27:30,529
you reuse all over the site and we

00:27:28,909 --> 00:27:33,230
completely failed at that exercise

00:27:30,529 --> 00:27:35,240
because we couldn't decide how small or

00:27:33,230 --> 00:27:37,760
how large the pieces should be and so

00:27:35,240 --> 00:27:39,289
we've put the task aside for now and we

00:27:37,760 --> 00:27:41,419
started working on converting all the

00:27:39,289 --> 00:27:43,279
stuff we've had in in core and making

00:27:41,419 --> 00:27:44,990
sets of things that we see together so

00:27:43,279 --> 00:27:47,149
when we see lists or when we see tables

00:27:44,990 --> 00:27:50,179
or when we see for example a thing that

00:27:47,149 --> 00:27:51,649
has a title and a Content area we start

00:27:50,179 --> 00:27:54,080
to see patterns emerge and that's

00:27:51,649 --> 00:27:56,149
helping us determine what our library of

00:27:54,080 --> 00:27:57,980
components should be we're going to

00:27:56,149 --> 00:27:59,659
narrow all these things down so instead

00:27:57,980 --> 00:28:01,220
of having four ways to do a list will

00:27:59,659 --> 00:28:03,260
end up with one instead of having four

00:28:01,220 --> 00:28:05,450
ways to do a block with a title and a

00:28:03,260 --> 00:28:07,669
thingy or div the title and some content

00:28:05,450 --> 00:28:09,860
will end up having one or two or a

00:28:07,669 --> 00:28:12,200
smaller subset and then those things

00:28:09,860 --> 00:28:13,730
will be documented in a clear place that

00:28:12,200 --> 00:28:16,429
will say these are the components that

00:28:13,730 --> 00:28:18,260
Drupal core includes you can Kali's

00:28:16,429 --> 00:28:20,179
little pieces and you can reuse them and

00:28:18,260 --> 00:28:22,460
hopefully that'll make contribute

00:28:20,179 --> 00:28:24,890
developers when they need to print out a

00:28:22,460 --> 00:28:26,179
div with a title and a thingy instead of

00:28:24,890 --> 00:28:27,380
making their own div with the title in

00:28:26,179 --> 00:28:29,090
the thingy which is how we do it now

00:28:27,380 --> 00:28:31,549
they'll look at the list of components

00:28:29,090 --> 00:28:32,929
they say hey there's the markup that I

00:28:31,549 --> 00:28:34,610
need I'm just going to call that

00:28:32,929 --> 00:28:37,700
existing template maybe I'll give it a

00:28:34,610 --> 00:28:39,230
new template suggestion so if you wanted

00:28:37,700 --> 00:28:41,809
to override only that one they'd be able

00:28:39,230 --> 00:28:44,720
to so the theme component library right

00:28:41,809 --> 00:28:47,029
now is like a task to document what the

00:28:44,720 --> 00:28:48,380
components are in core we're still

00:28:47,029 --> 00:28:49,020
working through all of our conversions

00:28:48,380 --> 00:28:52,230
in

00:28:49,020 --> 00:28:54,480
patience so we don't have SAT yet but we

00:28:52,230 --> 00:28:55,950
will create one before Drupal 8 comes

00:28:54,480 --> 00:28:57,420
out just that you have a list of things

00:28:55,950 --> 00:28:59,730
that are available and things that can

00:28:57,420 --> 00:29:01,290
jib developers should use this is

00:28:59,730 --> 00:29:04,260
something that won't ever be finished

00:29:01,290 --> 00:29:05,820
right as we go forward in time I can

00:29:04,260 --> 00:29:08,190
dribble come up with more patterns and

00:29:05,820 --> 00:29:10,230
we'll be able to create more components

00:29:08,190 --> 00:29:12,090
that will end up included in core and so

00:29:10,230 --> 00:29:13,980
it's a vulva glist like whatever the web

00:29:12,090 --> 00:29:15,930
decides to do with its components will

00:29:13,980 --> 00:29:18,900
end up getting in here at some point so

00:29:15,930 --> 00:29:21,210
it's a wish list item that we're working

00:29:18,900 --> 00:29:23,810
hard to get towards yeah and there's

00:29:21,210 --> 00:29:26,430
also been work for in debt again

00:29:23,810 --> 00:29:28,500
connected to the markup utility

00:29:26,430 --> 00:29:30,420
functions work we because we converted

00:29:28,500 --> 00:29:33,180
actually some things from seeing back to

00:29:30,420 --> 00:29:36,750
type and times are actually already a

00:29:33,180 --> 00:29:38,850
very kind of not granular enough but

00:29:36,750 --> 00:29:41,940
they already kind of like a kind of

00:29:38,850 --> 00:29:43,890
library of things for that but now that

00:29:41,940 --> 00:29:45,660
we have the library unfortunately we

00:29:43,890 --> 00:29:47,400
cannot do anything anymore on the same

00:29:45,660 --> 00:29:53,010
layer with it so that's kind of the

00:29:47,400 --> 00:29:56,930
problem yeah so yay design patterns and

00:29:53,010 --> 00:30:01,500
not repeating yourself 10 million times

00:29:56,930 --> 00:30:03,800
okay and also you win so we're going to

00:30:01,500 --> 00:30:06,180
talk about some of the benefits from

00:30:03,800 --> 00:30:08,100
mostly twig and I think partially then

00:30:06,180 --> 00:30:10,230
the new sort of theme layer theme

00:30:08,100 --> 00:30:12,540
architecture as well these were things

00:30:10,230 --> 00:30:14,640
that we didn't know we were getting into

00:30:12,540 --> 00:30:16,890
when we first started down the path to

00:30:14,640 --> 00:30:18,750
twig yeah well tomorrow we started using

00:30:16,890 --> 00:30:20,760
twig and converting stuff the more stuff

00:30:18,750 --> 00:30:24,570
we just discovered that we got for free

00:30:20,760 --> 00:30:29,700
by using play yeah so extra bonus free

00:30:24,570 --> 00:30:32,460
stuff so template inspection variable

00:30:29,700 --> 00:30:34,620
inspection the possibility of using the

00:30:32,460 --> 00:30:38,010
same templates on the front end in the

00:30:34,620 --> 00:30:39,990
back end because they're not PHP and

00:30:38,010 --> 00:30:43,830
then some more possibilities basically

00:30:39,990 --> 00:30:47,280
for contribute rib to but being able to

00:30:43,830 --> 00:30:49,260
edit templates in the browser and having

00:30:47,280 --> 00:30:52,650
the code and you I talk to each other so

00:30:49,260 --> 00:30:55,590
more about these in a second so template

00:30:52,650 --> 00:30:56,970
inspection this is one of the first

00:30:55,590 --> 00:30:59,010
things I worked on as part of the twig

00:30:56,970 --> 00:31:01,470
initiative and I thought this is awesome

00:30:59,010 --> 00:31:02,580
I I didn't well I didn't really write

00:31:01,470 --> 00:31:08,850
the code I wrote test

00:31:02,580 --> 00:31:11,159
but I helped get it in yeah okay so

00:31:08,850 --> 00:31:14,610
basically this is like devel femur but

00:31:11,159 --> 00:31:18,240
in your web inspector so you view source

00:31:14,610 --> 00:31:21,649
or however you do it inspect and you

00:31:18,240 --> 00:31:25,309
will see for each little bit of markup

00:31:21,649 --> 00:31:28,470
what was that what theme function or

00:31:25,309 --> 00:31:30,600
template was called and you'll be able

00:31:28,470 --> 00:31:33,720
to see what other possible templates can

00:31:30,600 --> 00:31:36,539
I use for this particular case so this

00:31:33,720 --> 00:31:39,330
is great because there's no more hunting

00:31:36,539 --> 00:31:41,580
down where do I override that certain

00:31:39,330 --> 00:31:49,470
bit of markup you can see it ends at

00:31:41,580 --> 00:31:51,659
awesome so this is just a toggle a

00:31:49,470 --> 00:31:53,190
little bit at the top settings twig

00:31:51,659 --> 00:31:56,309
debug equals true this is just a little

00:31:53,190 --> 00:31:59,510
toggle in your settings dot PHP and twig

00:31:56,309 --> 00:32:02,399
debug also turns on twig auto reload

00:31:59,510 --> 00:32:04,620
which automatically recompile your

00:32:02,399 --> 00:32:06,240
templates because twig compiles these

00:32:04,620 --> 00:32:08,700
templates to disk so that they're fast

00:32:06,240 --> 00:32:09,690
so as soon as you turn on twig debug

00:32:08,700 --> 00:32:10,860
like basically when you're developing

00:32:09,690 --> 00:32:12,750
your theme you're going to have twig

00:32:10,860 --> 00:32:15,539
debug on so you see all this wonderful

00:32:12,750 --> 00:32:18,659
stuff and when you save your template it

00:32:15,539 --> 00:32:23,700
automatically gets regenerated so big

00:32:18,659 --> 00:32:27,929
win yes the ex is the one that is

00:32:23,700 --> 00:32:30,720
currently used so yay for that and also

00:32:27,929 --> 00:32:34,019
I should probably just call this out it

00:32:30,720 --> 00:32:35,820
gives you the full path to the actual

00:32:34,019 --> 00:32:37,769
template that's being used so you can

00:32:35,820 --> 00:32:39,720
just you don't have to hunt for it you

00:32:37,769 --> 00:32:43,460
can find that file and just copy it into

00:32:39,720 --> 00:32:43,460
a theme so

00:32:45,430 --> 00:32:51,200
and then we also want to do variable

00:32:49,160 --> 00:32:53,930
inspections so that you don't have to I

00:32:51,200 --> 00:32:55,970
mean you can do this already you can

00:32:53,930 --> 00:32:59,240
just use dump but we basically want to

00:32:55,970 --> 00:33:01,970
give you like something like crew mo but

00:32:59,240 --> 00:33:03,920
nicer so that you can actually see what

00:33:01,970 --> 00:33:06,440
variables are available like within the

00:33:03,920 --> 00:33:08,540
context of your template what variables

00:33:06,440 --> 00:33:10,490
are available but not the stuff you

00:33:08,540 --> 00:33:11,810
don't care about as a themer cuz right

00:33:10,490 --> 00:33:14,270
now if you're trying to deal with the

00:33:11,810 --> 00:33:15,740
render arrays of doom from Drupal 7 all

00:33:14,270 --> 00:33:17,000
this stuff you want is in there but

00:33:15,740 --> 00:33:18,320
there's also a bunch of stuff that you

00:33:17,000 --> 00:33:19,670
don't care about and you have a really

00:33:18,320 --> 00:33:21,050
hard time waiting through all the stuff

00:33:19,670 --> 00:33:22,610
you don't care about to find stuff you

00:33:21,050 --> 00:33:23,780
do care about so we want to build you

00:33:22,610 --> 00:33:26,150
something it'll be like here's what you

00:33:23,780 --> 00:33:27,800
want and then you can kind of figure out

00:33:26,150 --> 00:33:29,180
from what you want what you want to put

00:33:27,800 --> 00:33:30,740
on the page without having to look at

00:33:29,180 --> 00:33:31,820
all the stuff you don't yeah it'll tell

00:33:30,740 --> 00:33:40,730
you what you want what you really really

00:33:31,820 --> 00:33:42,710
want yeah I want that's another big

00:33:40,730 --> 00:33:45,500
selling point for trick because we have

00:33:42,710 --> 00:33:48,650
dynamic extensions so you can extend it

00:33:45,500 --> 00:33:50,660
so even if the variable inspector might

00:33:48,650 --> 00:33:52,460
not make it into the quality in core

00:33:50,660 --> 00:33:54,860
that we would like it there's nothing

00:33:52,460 --> 00:33:58,220
from hindering a contrib module for just

00:33:54,860 --> 00:34:01,130
defining a trick extension and then they

00:33:58,220 --> 00:34:03,680
can kind of provide the DPM message etc

00:34:01,130 --> 00:34:07,100
and that would all kind of automatically

00:34:03,680 --> 00:34:08,990
book and so this very nice so trick

00:34:07,100 --> 00:34:12,500
gives you a lot of flexibility if you

00:34:08,990 --> 00:34:16,250
need anything extended you can do that

00:34:12,500 --> 00:34:18,500
yeah that's that's a great point and

00:34:16,250 --> 00:34:20,450
this is one thing that we sort of

00:34:18,500 --> 00:34:23,300
researched and found we we haven't tried

00:34:20,450 --> 00:34:24,740
this we hope that someone does but

00:34:23,300 --> 00:34:26,000
there's things out there on github and

00:34:24,740 --> 00:34:28,040
elsewhere like there's a whole ecosystem

00:34:26,000 --> 00:34:30,350
around twig that we're just jumping into

00:34:28,040 --> 00:34:32,060
and hopefully we can participate in as a

00:34:30,350 --> 00:34:34,340
community but there's for example

00:34:32,060 --> 00:34:36,290
there's twig j/s which could give us the

00:34:34,340 --> 00:34:39,380
possibility of using the same templates

00:34:36,290 --> 00:34:41,419
like say for a node or something not

00:34:39,380 --> 00:34:43,970
only in Drupal but something out some

00:34:41,419 --> 00:34:45,050
kind of back-end Jack JavaScript library

00:34:43,970 --> 00:34:47,810
like backbone or something like that

00:34:45,050 --> 00:34:51,020
again we haven't tried this but maybe

00:34:47,810 --> 00:34:57,139
you can maybe someone can make a module

00:34:51,020 --> 00:34:59,869
and then in browser template editing

00:34:57,139 --> 00:35:02,180
I will pass that on to Jen or whoever

00:34:59,869 --> 00:35:04,069
wants to take it how many people heard

00:35:02,180 --> 00:35:06,950
of the contemplate or the content

00:35:04,069 --> 00:35:11,059
template module and maybe even like

00:35:06,950 --> 00:35:12,470
admit to using it may be like well it

00:35:11,059 --> 00:35:15,140
was triple five like I didn't know any

00:35:12,470 --> 00:35:17,359
better right I used it I must admit um

00:35:15,140 --> 00:35:19,549
this is one of these modules that exists

00:35:17,359 --> 00:35:21,440
because people need it or people want it

00:35:19,549 --> 00:35:22,970
they think they need it you want to just

00:35:21,440 --> 00:35:24,380
be able to find the template file make a

00:35:22,970 --> 00:35:25,910
change and hit save and be done with it

00:35:24,380 --> 00:35:27,609
without having to worry about all of the

00:35:25,910 --> 00:35:29,480
other stuff that goes along with that

00:35:27,609 --> 00:35:32,000
unfortunately when your templates are

00:35:29,480 --> 00:35:34,069
full of PHP code finding the template

00:35:32,000 --> 00:35:35,930
and saving it at least the way

00:35:34,069 --> 00:35:38,299
contemplate does into the database is a

00:35:35,930 --> 00:35:39,890
big problem it's a problem for security

00:35:38,299 --> 00:35:43,730
reasons and anyone who has actually said

00:35:39,890 --> 00:35:46,309
that you're contemplates can put in X

00:35:43,730 --> 00:35:49,130
equal things and drop your node table if

00:35:46,309 --> 00:35:50,750
they wanted to for example but also it's

00:35:49,130 --> 00:35:52,819
a problem because if you don't exactly

00:35:50,750 --> 00:35:54,619
know what you're doing with PHP and you

00:35:52,819 --> 00:35:56,569
forget like a closing PHP tag or

00:35:54,619 --> 00:35:58,970
semicolon your whole site explodes and

00:35:56,569 --> 00:36:00,680
you have to then manually go dig through

00:35:58,970 --> 00:36:02,329
your database and find where that thing

00:36:00,680 --> 00:36:04,700
was stored so that you can clear it out

00:36:02,329 --> 00:36:07,430
I've actually done this again not to

00:36:04,700 --> 00:36:08,930
admit anything to find the problem and

00:36:07,430 --> 00:36:11,329
get rid of it's just like a dangerous

00:36:08,930 --> 00:36:12,740
thing it's also dangerous to take these

00:36:11,329 --> 00:36:14,660
files and save them to the desk there's

00:36:12,740 --> 00:36:17,930
just like a lot of issues with within

00:36:14,660 --> 00:36:20,660
browser PHP editing but if the template

00:36:17,930 --> 00:36:22,640
files aren't made of PHP code anymore a

00:36:20,660 --> 00:36:23,960
whole bunch more opportunities come up

00:36:22,640 --> 00:36:25,670
especially with something that can be

00:36:23,960 --> 00:36:28,069
like parsed and checked ahead of time

00:36:25,670 --> 00:36:29,990
and validated and and now you can you're

00:36:28,069 --> 00:36:31,490
like oh ok I can edit these files in the

00:36:29,990 --> 00:36:33,440
browser I can save them you can have

00:36:31,490 --> 00:36:34,940
them export you can there's lots of

00:36:33,440 --> 00:36:36,650
potential here for taking this

00:36:34,940 --> 00:36:38,599
contemplate module and turning it into

00:36:36,650 --> 00:36:41,359
something that's good and usable and

00:36:38,599 --> 00:36:44,180
wholesome yeah we can check the syntax

00:36:41,359 --> 00:36:47,210
before it goes live on your side which

00:36:44,180 --> 00:36:50,779
is probably quite helpful and the other

00:36:47,210 --> 00:36:56,480
thing is with contemplate it was loading

00:36:50,779 --> 00:36:59,269
from the database and again you might

00:36:56,480 --> 00:37:01,759
have their bottleneck and have problems

00:36:59,269 --> 00:37:04,670
kind of because you need to run the PHP

00:37:01,759 --> 00:37:07,009
in memory so it's not cached we are

00:37:04,670 --> 00:37:09,109
other caching mechanism it was just flow

00:37:07,009 --> 00:37:10,640
and they'd want to see again of trick is

00:37:09,109 --> 00:37:12,590
you can pass it to

00:37:10,640 --> 00:37:15,200
string you can pass it something from a

00:37:12,590 --> 00:37:17,690
database from the universe somewhere or

00:37:15,200 --> 00:37:19,820
wherever you source is coming from in

00:37:17,690 --> 00:37:21,830
the end your trick template is compared

00:37:19,820 --> 00:37:24,190
to disk and then cashed and upload

00:37:21,830 --> 00:37:27,470
loaded from there and that's very fast

00:37:24,190 --> 00:37:30,050
yeah so this this won't be in core again

00:37:27,470 --> 00:37:32,120
is these are possible contributors so if

00:37:30,050 --> 00:37:37,940
anyone's feeling inspired yeah see in

00:37:32,120 --> 00:37:39,560
the coder lounge and this is probably

00:37:37,940 --> 00:37:41,780
another one out I'll pass to these fine

00:37:39,560 --> 00:37:44,690
people two-way communication between the

00:37:41,780 --> 00:37:49,490
code and the UI or I guess making the UI

00:37:44,690 --> 00:37:51,350
not lie so how many of you have had a

00:37:49,490 --> 00:37:52,700
custom theme and you've gone into the

00:37:51,350 --> 00:37:54,650
theme settings and you've done something

00:37:52,700 --> 00:37:56,870
like tried to disable the logo or turn

00:37:54,650 --> 00:37:58,430
on the site name and realize that your

00:37:56,870 --> 00:38:00,710
theme didn't care about that setting

00:37:58,430 --> 00:38:02,090
right we've always had this problem in

00:38:00,710 --> 00:38:04,040
Drupal where there's user interfaces

00:38:02,090 --> 00:38:06,170
that have settings and there's code that

00:38:04,040 --> 00:38:08,570
can choose to pay attention to the

00:38:06,170 --> 00:38:10,070
settings or not and there's always this

00:38:08,570 --> 00:38:11,360
debate about like well who wins just the

00:38:10,070 --> 00:38:13,730
setting win or does the code word and

00:38:11,360 --> 00:38:15,410
the code is always one but we're finally

00:38:13,730 --> 00:38:17,420
in a place where because we're parsing

00:38:15,410 --> 00:38:19,400
these files ahead of time we can check

00:38:17,420 --> 00:38:20,690
in the file to see whether the file is

00:38:19,400 --> 00:38:22,280
going to pay attention to that setting

00:38:20,690 --> 00:38:24,830
or not and do something really clever

00:38:22,280 --> 00:38:26,390
like disable the setting if it's not

00:38:24,830 --> 00:38:27,860
going to be used so because we're

00:38:26,390 --> 00:38:29,210
parsing the files ahead of time we can

00:38:27,860 --> 00:38:31,460
make some smart changes about the user

00:38:29,210 --> 00:38:33,620
interface so initially we're like yeah

00:38:31,460 --> 00:38:35,030
no no bro can you ice is great but then

00:38:33,620 --> 00:38:37,760
we're like wait wait wait let's take us

00:38:35,030 --> 00:38:40,370
a little bit further if the system can

00:38:37,760 --> 00:38:43,810
be aware of the code can't we just write

00:38:40,370 --> 00:38:43,810
our template files first

00:38:45,560 --> 00:38:49,250
okay okay that's something that people

00:38:47,690 --> 00:38:50,720
have been wanting and Drupal for forever

00:38:49,250 --> 00:38:52,610
right you don't want to pull a template

00:38:50,720 --> 00:38:54,290
file out of somewhere in some module and

00:38:52,610 --> 00:38:57,820
like right around it you want to write

00:38:54,290 --> 00:39:00,830
your own markup right you guys awake

00:38:57,820 --> 00:39:02,810
this is like a huge huge huge thing okay

00:39:00,830 --> 00:39:04,160
anyway so if you could write if you

00:39:02,810 --> 00:39:05,900
wanted to write your markup you could

00:39:04,160 --> 00:39:07,550
write your markup in in theory right we

00:39:05,900 --> 00:39:08,960
don't have Susan work yet no could write

00:39:07,550 --> 00:39:10,460
a template file and if you knew the

00:39:08,960 --> 00:39:11,810
names of your fields and you knew the

00:39:10,460 --> 00:39:12,890
names of your blocks you can put them in

00:39:11,810 --> 00:39:14,630
the thing and you could put your

00:39:12,890 --> 00:39:16,570
template file into your Drupal site and

00:39:14,630 --> 00:39:23,750
then your Drupal site would build itself

00:39:16,570 --> 00:39:30,620
right it could happen anything is

00:39:23,750 --> 00:39:33,050
possible yeah yeah I actually I that

00:39:30,620 --> 00:39:34,430
part is still blowing my mind so much

00:39:33,050 --> 00:39:36,530
even though we've been talking about it

00:39:34,430 --> 00:39:38,690
for months that I I forgot to even sort

00:39:36,530 --> 00:39:43,460
of mention it when I was segwaying so

00:39:38,690 --> 00:39:45,860
yeah wow that could be great but we need

00:39:43,460 --> 00:39:51,860
someone to build it or a group of people

00:39:45,860 --> 00:39:55,040
or an army and again you can help us get

00:39:51,860 --> 00:39:57,440
there twig is in core it's not going

00:39:55,040 --> 00:40:01,850
anywhere but there's so much more we can

00:39:57,440 --> 00:40:03,140
do so this is sort of a short list of

00:40:01,850 --> 00:40:04,730
what we're working on where we are

00:40:03,140 --> 00:40:06,140
working on those theme system

00:40:04,730 --> 00:40:08,810
architecture changes those little blue

00:40:06,140 --> 00:40:11,390
blocks blue boxes that you saw we're

00:40:08,810 --> 00:40:13,100
working on trying to convert all or as

00:40:11,390 --> 00:40:14,930
many as we can theme functions to

00:40:13,100 --> 00:40:17,030
templates so that you don't have to take

00:40:14,930 --> 00:40:18,740
all that theme function PHP and copied

00:40:17,030 --> 00:40:21,950
into your theme we want to get rid of

00:40:18,740 --> 00:40:24,260
that and we also want to have less

00:40:21,950 --> 00:40:28,130
templates consolidates get rid of stuff

00:40:24,260 --> 00:40:30,470
and we want to clean up markup and

00:40:28,130 --> 00:40:33,920
that's where you guys can really help

00:40:30,470 --> 00:40:35,810
too if you don't even know PHP but if

00:40:33,920 --> 00:40:37,850
you know your markup you know HTML on

00:40:35,810 --> 00:40:41,480
your front end stuff you can join mark

00:40:37,850 --> 00:40:43,520
morton and he is he's like he's taken

00:40:41,480 --> 00:40:45,170
time off from client work to get your

00:40:43,520 --> 00:40:46,640
markup nice and shiny and clean so I

00:40:45,170 --> 00:40:50,870
think the least you can do is help them

00:40:46,640 --> 00:40:54,470
out right so come to the sprint on

00:40:50,870 --> 00:40:56,630
Friday and help us out and get rid of

00:40:54,470 --> 00:40:58,789
well like Drupal is kind of known for

00:40:56,630 --> 00:41:02,599
divide us right so let's

00:40:58,789 --> 00:41:06,650
change that right and we can clean up

00:41:02,599 --> 00:41:08,359
pre-process do so the twig initiative is

00:41:06,650 --> 00:41:10,459
sort of special initiatives in quotes

00:41:08,359 --> 00:41:11,869
because it's not one of the big six you

00:41:10,459 --> 00:41:14,539
know once that trees talked about this

00:41:11,869 --> 00:41:17,479
morning it's sort of an underdog if you

00:41:14,539 --> 00:41:20,779
will and it's brought along many new

00:41:17,479 --> 00:41:22,910
contributors myself included and as it

00:41:20,779 --> 00:41:25,579
turns out you know all the twig

00:41:22,910 --> 00:41:28,640
templates that got committed in Portland

00:41:25,579 --> 00:41:30,319
there were so many new names working on

00:41:28,640 --> 00:41:33,229
those issues that no one had heard of

00:41:30,319 --> 00:41:34,489
and they just they saw that there was a

00:41:33,229 --> 00:41:37,160
place where they could jump in and help

00:41:34,489 --> 00:41:41,109
and they did so so again you guys can

00:41:37,160 --> 00:41:45,229
help and we can really use your help so

00:41:41,109 --> 00:41:46,640
so come to the sprint on Friday we have

00:41:45,229 --> 00:41:49,249
tasks for every skill set we have

00:41:46,640 --> 00:41:52,910
mentors like myself and Joelle will be

00:41:49,249 --> 00:41:53,900
there and if you have never contributed

00:41:52,910 --> 00:41:56,689
to core you can come in the morning

00:41:53,900 --> 00:41:58,009
there's a community tools workshop where

00:41:56,689 --> 00:42:01,099
we'll get you set up with a local

00:41:58,009 --> 00:42:02,419
development environment and IRC and all

00:42:01,099 --> 00:42:04,969
these good things make sure you have an

00:42:02,419 --> 00:42:07,309
account on on drupal.org and basically

00:42:04,969 --> 00:42:09,619
get you all primed up and ready and then

00:42:07,309 --> 00:42:12,949
you can go into the sprint in the

00:42:09,619 --> 00:42:15,709
afternoon ready to rock and there's also

00:42:12,949 --> 00:42:19,549
drupal mentoring tweets stuff and yeah

00:42:15,709 --> 00:42:21,469
so come to the sprint again come to the

00:42:19,549 --> 00:42:24,529
sprint there's also more Sprint's on the

00:42:21,469 --> 00:42:27,380
weekend we meet every week on Thursdays

00:42:24,529 --> 00:42:30,019
we do a google hangout join us anytime

00:42:27,380 --> 00:42:33,709
online twenty-four-seven in hash drupal

00:42:30,019 --> 00:42:35,269
dash twig on IRC and also for the

00:42:33,709 --> 00:42:36,979
adventurous among you start building

00:42:35,269 --> 00:42:39,199
your Drupal 8 themes and let us know how

00:42:36,979 --> 00:42:40,789
it goes it's still a little bit early

00:42:39,199 --> 00:42:42,140
but we could really use your feedback

00:42:40,789 --> 00:42:44,839
like I said there's not a lot of people

00:42:42,140 --> 00:42:46,279
kicking the tires so if you're sort of

00:42:44,839 --> 00:42:48,109
an early adopter if you're feeling brave

00:42:46,279 --> 00:42:49,640
just start building something and if

00:42:48,109 --> 00:42:51,199
there's something that you find is

00:42:49,640 --> 00:42:56,059
really missing let us know create an

00:42:51,199 --> 00:42:58,669
issue and so on and we also want to

00:42:56,059 --> 00:43:00,949
mention if this is your area if you're

00:42:58,669 --> 00:43:02,659
themer check out all the other amazing

00:43:00,949 --> 00:43:05,659
talks about twig in the theme system

00:43:02,659 --> 00:43:09,019
tomorrow morning Fabian potencia the guy

00:43:05,659 --> 00:43:11,749
who who is who basically wrote the twig

00:43:09,019 --> 00:43:12,590
template engine is doing a talk that is

00:43:11,749 --> 00:43:16,310
tomorrow morning

00:43:12,590 --> 00:43:21,020
1045 am and a bunch of us folks are

00:43:16,310 --> 00:43:24,290
doing a and Morton are doing a well

00:43:21,020 --> 00:43:26,750
especially Morton really are doing a

00:43:24,290 --> 00:43:30,380
twig it ship it aka the twig lab that is

00:43:26,750 --> 00:43:35,450
tomorrow at 1pm and that will be a lot

00:43:30,380 --> 00:43:37,970
of fun so come to that and if you're

00:43:35,450 --> 00:43:41,840
sort of if you want to talk to us more

00:43:37,970 --> 00:43:44,690
there's AB off thursday to 15 p.m. so

00:43:41,840 --> 00:43:55,100
yeah I'll turn it over to questions now

00:43:44,690 --> 00:43:57,860
and I believe there are a couple Mike's

00:43:55,100 --> 00:44:01,780
over there so if you just want to that

00:43:57,860 --> 00:44:01,780
way we get it on the recording too I

00:44:02,350 --> 00:44:07,280
think the biggest use of functions and

00:44:05,270 --> 00:44:10,790
templates is the T function how do you

00:44:07,280 --> 00:44:14,090
handle that with twig come to the twig

00:44:10,790 --> 00:44:17,090
lab we will tell you exactly it's we

00:44:14,090 --> 00:44:19,100
have a tee filter and then we also have

00:44:17,090 --> 00:44:20,900
a trans block and it's we have nice

00:44:19,100 --> 00:44:23,300
really clean ways of doing translate we

00:44:20,900 --> 00:44:27,080
have a wonderful really really wonderful

00:44:23,300 --> 00:44:28,820
trans extension um it didn't make it on

00:44:27,080 --> 00:44:31,450
the slides but it will be in the trick

00:44:28,820 --> 00:44:33,920
lab so there's more for you to explore

00:44:31,450 --> 00:44:36,110
but it is really wonderful because

00:44:33,920 --> 00:44:38,270
instead of writing all these

00:44:36,110 --> 00:44:40,610
placeholders and having to deal with all

00:44:38,270 --> 00:44:42,350
this very long strings with markup

00:44:40,610 --> 00:44:45,350
attached what you do is your writing

00:44:42,350 --> 00:44:48,080
like your normal markup and you're just

00:44:45,350 --> 00:44:50,390
adding a hash trends and you're starting

00:44:48,080 --> 00:44:53,030
your trans block you can set the context

00:44:50,390 --> 00:44:55,490
etc for the language thing and then it

00:44:53,030 --> 00:44:58,730
will automatically create the T function

00:44:55,490 --> 00:45:01,550
for you and that's a really genius thing

00:44:58,730 --> 00:45:04,820
about it and you can then just use your

00:45:01,550 --> 00:45:06,860
node node n ID etc and you can just use

00:45:04,820 --> 00:45:09,830
your normal variables and it will then

00:45:06,860 --> 00:45:13,310
automatically convert those into place

00:45:09,830 --> 00:45:15,350
holders and replace them and trans

00:45:13,310 --> 00:45:17,750
extension is awesome so you don't need

00:45:15,350 --> 00:45:19,310
that ugly erase and text thing that we

00:45:17,750 --> 00:45:20,780
have now when you use the T function if

00:45:19,310 --> 00:45:23,930
you want to pass variables in it's

00:45:20,780 --> 00:45:25,520
really slick yeah great question 1 i'm

00:45:23,930 --> 00:45:27,410
just gonna steal the microphone for like

00:45:25,520 --> 00:45:28,580
two minutes and actually talk a little

00:45:27,410 --> 00:45:30,380
bit about what we're gonna do tomorrow

00:45:28,580 --> 00:45:36,740
in the trigger actually it will do up

00:45:30,380 --> 00:45:38,360
yeah come on up so i'm not one of them

00:45:36,740 --> 00:45:40,880
who actually coached the PHP i'm just

00:45:38,360 --> 00:45:43,580
being the angry man in the end which

00:45:40,880 --> 00:45:45,410
these fine young people delivers the

00:45:43,580 --> 00:45:46,940
stuff too and so what i did a couple of

00:45:45,410 --> 00:45:48,770
weeks ago I began to exit built a theme

00:45:46,940 --> 00:45:51,050
and find all the errors and figure out

00:45:48,770 --> 00:45:51,980
where we're at right now and what I'm

00:45:51,050 --> 00:45:53,360
going to do tomorrow is going to do a

00:45:51,980 --> 00:45:56,000
demonstration of all of these things so

00:45:53,360 --> 00:45:57,140
about all the question comes out of

00:45:56,000 --> 00:45:59,000
these eggs going to be sure not in a

00:45:57,140 --> 00:46:01,130
direct live code because I'm not that

00:45:59,000 --> 00:46:03,380
brave it's going to be screenshots a

00:46:01,130 --> 00:46:05,000
little bit of pieces of code and but

00:46:03,380 --> 00:46:07,109
it's going to be pasted on the way a

00:46:05,000 --> 00:46:10,230
front-end developer looks at

00:46:07,109 --> 00:46:12,359
so if your PHP nerd will give you a half

00:46:10,230 --> 00:46:14,460
an hour at the end where you can do your

00:46:12,359 --> 00:46:17,430
stuff but the first hour will be

00:46:14,460 --> 00:46:20,489
dedicated to pure front and love and web

00:46:17,430 --> 00:46:23,910
 use a new new word about the

00:46:20,489 --> 00:46:25,470
developer experience and I'm introducing

00:46:23,910 --> 00:46:27,690
a new one that's called the front-end

00:46:25,470 --> 00:46:29,160
experience because that's that's a very

00:46:27,690 --> 00:46:31,890
very important thing for us and the

00:46:29,160 --> 00:46:34,230
thing they've been hold back on for a

00:46:31,890 --> 00:46:36,119
couple of years now and in Drupal is not

00:46:34,230 --> 00:46:38,940
so much working with PHP but it's just

00:46:36,119 --> 00:46:43,019
been ugly it's not how front end to work

00:46:38,940 --> 00:46:45,720
it's it's this piece of

00:46:43,019 --> 00:46:47,160
that none of us want to work with and I

00:46:45,720 --> 00:46:48,239
want to change that and that's one of

00:46:47,160 --> 00:46:49,950
the things we also kind of talk about

00:46:48,239 --> 00:46:52,019
some of these principles we're building

00:46:49,950 --> 00:46:54,450
on this is not only about changing

00:46:52,019 --> 00:46:56,519
available to something with two brackets

00:46:54,450 --> 00:46:58,769
on this is also changing the way we're

00:46:56,519 --> 00:47:00,900
thinking theming and and the only one

00:46:58,769 --> 00:47:02,279
who can define that is us that is if you

00:47:00,900 --> 00:47:04,019
have front-end developer theme or

00:47:02,279 --> 00:47:05,339
whatever you call you I want to have you

00:47:04,019 --> 00:47:07,980
in that lab because I need your opinion

00:47:05,339 --> 00:47:10,349
on this and I really need help because I

00:47:07,980 --> 00:47:13,799
used to I used to pass John Alden for

00:47:10,349 --> 00:47:15,660
Drupal sevens lack of finesse and he now

00:47:13,799 --> 00:47:17,369
passed that torch down to me and if I'm

00:47:15,660 --> 00:47:19,680
the only one you're all going to suffer

00:47:17,369 --> 00:47:23,279
from my pad judgments you don't want to

00:47:19,680 --> 00:47:24,359
do that that's that's insane so tomorrow

00:47:23,279 --> 00:47:26,279
at one o'clock we're going to do that

00:47:24,359 --> 00:47:28,559
lab when I have a buff after that and

00:47:26,279 --> 00:47:31,289
even that you don't know how to punch it

00:47:28,559 --> 00:47:32,730
to call I actually need opinions upon

00:47:31,289 --> 00:47:34,859
these things I need people who can give

00:47:32,730 --> 00:47:36,420
feedback and because a lot of the

00:47:34,859 --> 00:47:39,749
questions right now we're trying to kill

00:47:36,420 --> 00:47:42,569
the jas classes so everything that you

00:47:39,749 --> 00:47:44,940
want to put in as a class and your body

00:47:42,569 --> 00:47:46,319
feel very noticeable so forth I want to

00:47:44,940 --> 00:47:48,450
take that stuff and put that out as a

00:47:46,319 --> 00:47:50,489
data attribute I'm not sure that's a

00:47:48,450 --> 00:47:52,319
good idea bad idea I need somebody to

00:47:50,489 --> 00:47:54,630
helping out with it and here's another

00:47:52,319 --> 00:47:56,039
thing all the back end developers

00:47:54,630 --> 00:47:58,410
they're not paying attention to the

00:47:56,039 --> 00:48:00,950
front end right now this is now we're

00:47:58,410 --> 00:48:00,950
going to get it done

00:48:05,089 --> 00:48:11,039
Thank You morning next question yeah

00:48:08,279 --> 00:48:13,470
this is for Jen okay can you please

00:48:11,039 --> 00:48:16,470
repeat the last feature you are talking

00:48:13,470 --> 00:48:20,000
about the one you could tank before I'm

00:48:16,470 --> 00:48:23,430
sorry theoretical feature yeah um ok so

00:48:20,000 --> 00:48:25,200
in Drupal land right now the way you

00:48:23,430 --> 00:48:27,029
normally create your markup is you go

00:48:25,200 --> 00:48:29,069
and find some template that's generated

00:48:27,029 --> 00:48:30,990
somewhere else usually in core and you

00:48:29,069 --> 00:48:33,150
copy it into your theme and you change

00:48:30,990 --> 00:48:34,349
it a little bit and this makes most

00:48:33,150 --> 00:48:35,789
front-end developers really grumpy

00:48:34,349 --> 00:48:37,380
because they don't want to work with in

00:48:35,789 --> 00:48:38,519
the fines of that existing template they

00:48:37,380 --> 00:48:39,660
want to write their own template they

00:48:38,519 --> 00:48:41,819
want to write their own mark up from

00:48:39,660 --> 00:48:43,380
scratch but then what happens is you

00:48:41,819 --> 00:48:44,789
don't know what variables to put in it

00:48:43,380 --> 00:48:46,140
right so then you have to go dig around

00:48:44,789 --> 00:48:48,029
and drupal and figure out what the

00:48:46,140 --> 00:48:50,730
variables art and put them in but if we

00:48:48,029 --> 00:48:51,990
could give you a list of here the 16

00:48:50,730 --> 00:48:53,640
variables you're going to need to put

00:48:51,990 --> 00:48:56,519
into your node template and you could

00:48:53,640 --> 00:48:58,410
write your template and feed it into

00:48:56,519 --> 00:49:00,119
your drupal site drop it into your theme

00:48:58,410 --> 00:49:02,819
like for example you're doing a layout

00:49:00,119 --> 00:49:04,380
for a page and you put your block one on

00:49:02,819 --> 00:49:05,940
the top and block two on the bottom and

00:49:04,380 --> 00:49:07,170
block three in the footer however you

00:49:05,940 --> 00:49:09,750
want it in your content and then they

00:49:07,170 --> 00:49:12,349
love the page if you if your site could

00:49:09,750 --> 00:49:14,460
read that template file it could write

00:49:12,349 --> 00:49:16,109
configurations based on your template

00:49:14,460 --> 00:49:19,529
file that position those blocks in those

00:49:16,109 --> 00:49:21,930
places for you so we have the ability to

00:49:19,529 --> 00:49:24,119
do that now we just don't have any code

00:49:21,930 --> 00:49:25,200
that does it so it's just the kind of

00:49:24,119 --> 00:49:26,849
thing where you know you could do the

00:49:25,200 --> 00:49:28,440
same thing with the field you I right if

00:49:26,849 --> 00:49:29,819
you're doing a node template and you're

00:49:28,440 --> 00:49:31,980
laying out the way your nose should

00:49:29,819 --> 00:49:35,400
appear you say okay well these fields go

00:49:31,980 --> 00:49:37,109
in this order your website can read that

00:49:35,400 --> 00:49:39,960
in and write a config file for the order

00:49:37,109 --> 00:49:44,519
of those fields so it's just a new way

00:49:39,960 --> 00:49:46,380
to build Drupal sites in theory but we

00:49:44,519 --> 00:49:47,490
don't we don't have anyone working on it

00:49:46,380 --> 00:49:49,920
right now it's just something that I

00:49:47,490 --> 00:49:53,369
feel like if we had that no one would

00:49:49,920 --> 00:49:56,220
ever want to theme anything else so so

00:49:53,369 --> 00:49:59,700
that just gave me an idea so anyone that

00:49:56,220 --> 00:50:03,319
wants to start on that would need to

00:49:59,700 --> 00:50:06,240
write a little trick extension and which

00:50:03,319 --> 00:50:08,789
would kind of be in symfony we have SAP

00:50:06,240 --> 00:50:11,039
requests and rupa we don't have them but

00:50:08,789 --> 00:50:13,559
it doesn't mean we can't emulate

00:50:11,039 --> 00:50:15,750
something like that so we would kind of

00:50:13,559 --> 00:50:16,630
have something like a render function

00:50:15,750 --> 00:50:18,700
again by

00:50:16,630 --> 00:50:21,220
and then I want to render a block with

00:50:18,700 --> 00:50:24,040
that block ID that could at this point

00:50:21,220 --> 00:50:26,050
already work and because what we can do

00:50:24,040 --> 00:50:28,150
in trick is we can because we now the

00:50:26,050 --> 00:50:30,550
syntax and we can pass the syndics we

00:50:28,150 --> 00:50:32,380
can kind of collect all render things by

00:50:30,550 --> 00:50:34,120
pausing the template once without

00:50:32,380 --> 00:50:36,820
rendering anything let me collect

00:50:34,120 --> 00:50:38,950
everything doing our block list and we

00:50:36,820 --> 00:50:42,420
have a dynamic region so it could work

00:50:38,950 --> 00:50:48,220
not only in theory but also in practice

00:50:42,420 --> 00:50:49,360
come in sprint right all right we got

00:50:48,220 --> 00:50:53,650
three people we're gonna work on that on

00:50:49,360 --> 00:50:57,190
Friday thank you thank you my question

00:50:53,650 --> 00:50:59,530
is is it possible to use trig syntax for

00:50:57,190 --> 00:51:02,710
content editing I mean something like

00:50:59,530 --> 00:51:04,750
mock down or Vicki syntax but much more

00:51:02,710 --> 00:51:07,720
powerful using the all the power of

00:51:04,750 --> 00:51:09,580
filters and tags and so on is it

00:51:07,720 --> 00:51:11,530
possible yes there's actually a Drupal 7

00:51:09,580 --> 00:51:14,560
module that does that already that

00:51:11,530 --> 00:51:17,890
provides a input filter for text filter

00:51:14,560 --> 00:51:19,630
that uses the twig syntax and it's not

00:51:17,890 --> 00:51:21,220
anything that we're focused on in

00:51:19,630 --> 00:51:23,380
interpolate because we're working on

00:51:21,220 --> 00:51:25,360
actually the theme system using twig not

00:51:23,380 --> 00:51:26,590
the content itself using twig but it's

00:51:25,360 --> 00:51:33,520
definitely possible and there are people

00:51:26,590 --> 00:51:34,630
already doing it okay thank you this is

00:51:33,520 --> 00:51:38,500
probably going to come off as a little

00:51:34,630 --> 00:51:41,110
bit of a straw man but I do get how

00:51:38,500 --> 00:51:44,110
amazing the new twig templating system

00:51:41,110 --> 00:51:46,210
is virtue of late and I get why would

00:51:44,110 --> 00:51:48,100
want to use it and why it's so fantastic

00:51:46,210 --> 00:51:51,330
I mean it really is I mean that quite

00:51:48,100 --> 00:51:55,600
sincerely but I've built and maintained

00:51:51,330 --> 00:51:58,750
maintain a lot of sites on various older

00:51:55,600 --> 00:52:01,090
versions of Drupal especially seven and

00:51:58,750 --> 00:52:04,570
they all have these old themes running

00:52:01,090 --> 00:52:06,580
on them and my question is of course

00:52:04,570 --> 00:52:08,460
this seems like it's going to be a lot

00:52:06,580 --> 00:52:12,460
of work that I have to go in and convert

00:52:08,460 --> 00:52:14,980
every single one of these themes / to

00:52:12,460 --> 00:52:17,260
twig and I'm wondering if there isn't a

00:52:14,980 --> 00:52:19,410
way that could save me a lot of work on

00:52:17,260 --> 00:52:19,410
that

00:52:21,740 --> 00:52:27,180
so if you come to the lab tomorrow we

00:52:25,470 --> 00:52:30,180
will actually have a demonstration how

00:52:27,180 --> 00:52:33,180
hardcore nerds through their terminal

00:52:30,180 --> 00:52:36,240
you let that thing that's black only

00:52:33,180 --> 00:52:38,430
with green text on yeah I'm beginning to

00:52:36,240 --> 00:52:40,530
learn what it is it took my sometimes

00:52:38,430 --> 00:52:43,680
there's a magic thing you can do you

00:52:40,530 --> 00:52:45,600
could trigger if I your old PHP template

00:52:43,680 --> 00:52:47,910
theme and it will keep you magically

00:52:45,600 --> 00:52:50,010
done there will maybe be a demo of that

00:52:47,910 --> 00:52:55,680
tomorrow no they were actually will be

00:52:50,010 --> 00:53:05,460
and it's pretty amazing wow great

00:52:55,680 --> 00:53:08,400
question anyone else all right and

00:53:05,460 --> 00:53:13,080
finally before you head out or if you

00:53:08,400 --> 00:53:15,360
just want to stay in chat we are to tell

00:53:13,080 --> 00:53:18,180
you to take a survey I'm not sure if

00:53:15,360 --> 00:53:20,760
it's working I guess try later maybe but

00:53:18,180 --> 00:53:23,220
tell us how we did hopefully learn some

00:53:20,760 --> 00:53:25,320
new things and learn about the new toys

00:53:23,220 --> 00:53:29,240
that you're going to get tweet about it

00:53:25,320 --> 00:53:29,240
have fun yeah

00:53:36,570 --> 00:53:41,700
I've never seen the Portland Police how

00:53:39,370 --> 00:53:41,700

YouTube URL: https://www.youtube.com/watch?v=aOsD9UjJWGU


