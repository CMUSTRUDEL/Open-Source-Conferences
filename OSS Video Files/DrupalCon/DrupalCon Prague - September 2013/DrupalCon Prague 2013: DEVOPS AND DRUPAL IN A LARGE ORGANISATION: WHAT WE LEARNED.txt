Title: DrupalCon Prague 2013: DEVOPS AND DRUPAL IN A LARGE ORGANISATION: WHAT WE LEARNED
Publication date: 2013-09-26
Playlist: DrupalCon Prague - September 2013
Description: 
	We've all read the glowing success stories about how wide-eyed internet startups have built their technology platform on a foundation of good DevOps practice, but what about the rest of us? How can a large, traditional media company, 60 years in the making, apply the same tools and techniques to their existing infrastructure?

We'll discover how one such organisation introduced a DevOps capability to support the Continuous Delivery of a high traffic, multisite Drupal installation, collaborated on by several large teams, on a brand new Linux platform. In this honest, real-world account, you'll learn what we did badly as well as what we did well.
Captions: 
	00:00:00,000 --> 00:00:05,190
and it's it's easy to get these things

00:00:03,419 --> 00:00:07,519
going if you are starting on the green

00:00:05,190 --> 00:00:10,920
field when I started my own company

00:00:07,519 --> 00:00:13,410
three years ago it was easy to grow my

00:00:10,920 --> 00:00:17,039
own business culture to start with

00:00:13,410 --> 00:00:20,580
automation from the first server to get

00:00:17,039 --> 00:00:22,320
measuring in place and obviously as i'm

00:00:20,580 --> 00:00:26,099
curating the devops track i'm trying to

00:00:22,320 --> 00:00:29,699
share knowledge as well but what do you

00:00:26,099 --> 00:00:32,910
do if you have an existing company maybe

00:00:29,699 --> 00:00:38,640
that's been existing for decades that

00:00:32,910 --> 00:00:42,930
has a very much matured culture how do

00:00:38,640 --> 00:00:46,559
you get devops going in such a company

00:00:42,930 --> 00:00:49,020
in such a business well i'm very happy

00:00:46,559 --> 00:00:50,520
that will have john topper here to tell

00:00:49,020 --> 00:00:55,379
us about that tell us about his

00:00:50,520 --> 00:00:59,129
experience good or bad we'll see and i'm

00:00:55,379 --> 00:01:05,300
very much looking forward to hear what

00:00:59,129 --> 00:01:05,300
he has to tell us thank you John right

00:01:05,510 --> 00:01:12,150
gabion I haven't started yet thanks

00:01:08,760 --> 00:01:14,430
jochen yeah I mean it says I I'm John

00:01:12,150 --> 00:01:16,650
topper I've run a small DevOps

00:01:14,430 --> 00:01:19,049
consultancy out of London we work with

00:01:16,650 --> 00:01:23,189
small clients and large clients so we

00:01:19,049 --> 00:01:26,009
have a luckily a broad view of all of

00:01:23,189 --> 00:01:28,470
the spectrum of organizations but this

00:01:26,009 --> 00:01:30,570
this is taught largely about our

00:01:28,470 --> 00:01:33,979
experiences in one particular large

00:01:30,570 --> 00:01:36,439
organization a couple years ago now and

00:01:33,979 --> 00:01:40,409
we'll be talking about what we learned

00:01:36,439 --> 00:01:42,659
in that organization as we attempted to

00:01:40,409 --> 00:01:46,920
put in DevOps processes and specifically

00:01:42,659 --> 00:01:48,810
around Drupal so when we talk about

00:01:46,920 --> 00:01:50,310
DevOps I'm assuming that since you're

00:01:48,810 --> 00:01:51,930
here on the DevOps track you have some

00:01:50,310 --> 00:01:56,549
kind of concept of what we actually mean

00:01:51,930 --> 00:01:58,200
by that if not the way I kind of look at

00:01:56,549 --> 00:02:00,719
DevOps really is that it's it's mostly

00:01:58,200 --> 00:02:03,299
about shared ownership of the quality

00:02:00,719 --> 00:02:05,969
and availability of code and platform in

00:02:03,299 --> 00:02:09,239
combination this is the the graphic from

00:02:05,969 --> 00:02:10,920
from wikipedia it's a bit hokey but it

00:02:09,239 --> 00:02:12,840
basically shows you that the these three

00:02:10,920 --> 00:02:16,590
areas need to work together

00:02:12,840 --> 00:02:21,650
to to share the quality and availability

00:02:16,590 --> 00:02:26,269
of what's being built DevOps is really a

00:02:21,650 --> 00:02:29,580
it's a fairly recent term it's quite a

00:02:26,269 --> 00:02:33,180
quite a recent coinage really it's it's

00:02:29,580 --> 00:02:34,709
been sort of rising in popularity since

00:02:33,180 --> 00:02:38,430
about 2010 as you can see from this

00:02:34,709 --> 00:02:41,250
graph from google trends and really it's

00:02:38,430 --> 00:02:43,709
I look at it as another name for good

00:02:41,250 --> 00:02:45,450
practice just admin and that's sort of

00:02:43,709 --> 00:02:47,910
what recruiters have started to use it

00:02:45,450 --> 00:02:49,079
as which I'm kind of okay with because I

00:02:47,910 --> 00:02:52,680
don't think we really needed a new term

00:02:49,079 --> 00:02:54,840
for it anyway but I guess having a that

00:02:52,680 --> 00:02:56,700
we can kind of put events together with

00:02:54,840 --> 00:03:02,459
is quite an important thing it's a bit

00:02:56,700 --> 00:03:04,590
tribal I guess it's not quite the the

00:03:02,459 --> 00:03:06,780
cultish thing that some people might

00:03:04,590 --> 00:03:09,030
might view it as if they've been reading

00:03:06,780 --> 00:03:13,739
a lot of blogs or only been exposed to

00:03:09,030 --> 00:03:15,690
it incidentally and as jochen says we

00:03:13,739 --> 00:03:17,340
have these these four pillars that we

00:03:15,690 --> 00:03:19,859
refer to these were coined by John

00:03:17,340 --> 00:03:22,650
Willis who you might know on on various

00:03:19,859 --> 00:03:24,720
internet places as Bacigalupi he was

00:03:22,650 --> 00:03:26,880
formerly box code and he's I think

00:03:24,720 --> 00:03:29,489
currently still in Stratus who have

00:03:26,880 --> 00:03:31,769
recently been acquired by Dell and he

00:03:29,489 --> 00:03:35,609
shares shares these four things with us

00:03:31,769 --> 00:03:37,019
and culture is really the shared values

00:03:35,609 --> 00:03:40,950
and vision and knowledge within an

00:03:37,019 --> 00:03:43,829
organization without which we can really

00:03:40,950 --> 00:03:45,480
do any good automation is all about

00:03:43,829 --> 00:03:48,690
removing manual steps reducing the

00:03:45,480 --> 00:03:51,329
margin for error getting getting more

00:03:48,690 --> 00:03:53,190
things scripted basically to improve the

00:03:51,329 --> 00:03:55,980
quality and the efficiency of what we're

00:03:53,190 --> 00:03:57,419
doing there's monitoring so improving

00:03:55,980 --> 00:04:01,500
the operational visibility of the

00:03:57,419 --> 00:04:03,329
platform understanding what it's doing

00:04:01,500 --> 00:04:05,880
why it's doing the things that it's

00:04:03,329 --> 00:04:07,500
doing what's different now when it's

00:04:05,880 --> 00:04:10,440
gone wrong versus what it was doing

00:04:07,500 --> 00:04:13,470
previously and sharing which is kind of

00:04:10,440 --> 00:04:15,419
as sis that means we've traditionally

00:04:13,470 --> 00:04:16,709
been a little bit kind of stuck in the

00:04:15,419 --> 00:04:20,310
basement of building not talking to

00:04:16,709 --> 00:04:21,930
anybody and the sharing a spectrally is

00:04:20,310 --> 00:04:26,680
about making sure that these monitoring

00:04:21,930 --> 00:04:28,930
data are available to to everybody

00:04:26,680 --> 00:04:31,570
sharing tools sharing processes sharing

00:04:28,930 --> 00:04:33,009
approaches blogging about it talking

00:04:31,570 --> 00:04:34,660
about it getting everybody involved in

00:04:33,009 --> 00:04:36,820
the conversation it's all very important

00:04:34,660 --> 00:04:40,750
stuff and if you've been reading about

00:04:36,820 --> 00:04:41,830
DevOps online or or maybe you've you've

00:04:40,750 --> 00:04:44,410
watched some of the videos that have

00:04:41,830 --> 00:04:46,060
come out of previous DevOps days then

00:04:44,410 --> 00:04:48,039
you'll heard of a lot of these kind of

00:04:46,060 --> 00:04:49,840
organizations that we sort of lift up as

00:04:48,039 --> 00:04:53,590
being examples of people who are doing

00:04:49,840 --> 00:04:55,389
DevOps particularly well and these are

00:04:53,590 --> 00:04:56,860
people like Instagram who at the time of

00:04:55,389 --> 00:04:59,979
their acquisition by Facebook had just

00:04:56,860 --> 00:05:01,479
13 employees which considering the

00:04:59,979 --> 00:05:02,500
amount of cash that Facebook pay for

00:05:01,479 --> 00:05:04,750
them i don't remember exactly how much

00:05:02,500 --> 00:05:06,520
it was but that was a lot of money is

00:05:04,750 --> 00:05:09,430
pretty impressive it's a very efficient

00:05:06,520 --> 00:05:12,340
organization people like Spotify who are

00:05:09,430 --> 00:05:14,860
very often at puppet events sharing what

00:05:12,340 --> 00:05:16,870
they do in their world have a used their

00:05:14,860 --> 00:05:19,750
configuration management tooling people

00:05:16,870 --> 00:05:21,130
at Etsy who who've done an amazing job

00:05:19,750 --> 00:05:24,990
at sharing a lot of the tooling that

00:05:21,130 --> 00:05:27,009
they that they've created an IMVU github

00:05:24,990 --> 00:05:28,720
people that are talking about what

00:05:27,009 --> 00:05:31,060
they're doing and people that we look at

00:05:28,720 --> 00:05:36,610
as good examples of the craft if you

00:05:31,060 --> 00:05:39,639
like IMVU was was eric races Lean

00:05:36,610 --> 00:05:41,889
Startup I guess and he was blogging

00:05:39,639 --> 00:05:44,580
about releasing code once every 10

00:05:41,889 --> 00:05:47,520
minutes tested working and int'l I've

00:05:44,580 --> 00:05:49,659
probably sort of four or five years ago

00:05:47,520 --> 00:05:52,210
which is really the sort of inception of

00:05:49,659 --> 00:05:53,860
all this stuff anyway but one thing that

00:05:52,210 --> 00:05:55,300
we noticed when we when we kind of look

00:05:53,860 --> 00:05:58,389
at these organizations is that they were

00:05:55,300 --> 00:05:59,830
all founded or kind of launched within

00:05:58,389 --> 00:06:01,530
the last decade they're quite young

00:05:59,830 --> 00:06:03,639
they're small companies and they're all

00:06:01,530 --> 00:06:04,630
they're all ostensibly technology

00:06:03,639 --> 00:06:07,360
companies that's what they're selling

00:06:04,630 --> 00:06:10,050
that the technology is an end in itself

00:06:07,360 --> 00:06:11,949
for these sorts of organizations and

00:06:10,050 --> 00:06:15,970
really that kind of makes them a bit

00:06:11,949 --> 00:06:18,490
like this guy excuse me he's kind of

00:06:15,970 --> 00:06:20,770
noisy and young and not all companies

00:06:18,490 --> 00:06:23,830
are like this this is not a not a sort

00:06:20,770 --> 00:06:26,710
of a truism within DevOps that everybody

00:06:23,830 --> 00:06:28,840
is is a small agile technology focused

00:06:26,710 --> 00:06:30,639
company and probably I don't know what

00:06:28,840 --> 00:06:32,229
the statistics are but that it could

00:06:30,639 --> 00:06:35,020
probably be shown that most companies

00:06:32,229 --> 00:06:37,690
are not like this but we're here from

00:06:35,020 --> 00:06:38,889
the from the noisy ones and really some

00:06:37,690 --> 00:06:39,910
companies are a bit more like these guys

00:06:38,889 --> 00:06:41,590
there there are

00:06:39,910 --> 00:06:42,820
they're slow there would be angry about

00:06:41,590 --> 00:06:44,290
everything but they're quite well-known

00:06:42,820 --> 00:06:47,140
they've been setting that box for a long

00:06:44,290 --> 00:06:48,910
time they're doing quite well and these

00:06:47,140 --> 00:06:50,950
are the sorts of organizations that that

00:06:48,910 --> 00:06:54,790
that I'm talking about when we talk

00:06:50,950 --> 00:06:55,780
about large organizations and so we'll

00:06:54,790 --> 00:06:58,210
look at one particular large

00:06:55,780 --> 00:07:00,700
organization than my consultancy spent

00:06:58,210 --> 00:07:03,160
some time working with a couple of years

00:07:00,700 --> 00:07:05,490
back but before we do that I'm going to

00:07:03,160 --> 00:07:08,140
ask you a seemingly unusual question

00:07:05,490 --> 00:07:09,910
those of you from the UK how many people

00:07:08,140 --> 00:07:11,370
in the UK have we got in the room okay

00:07:09,910 --> 00:07:14,820
this will make some of that sense so the

00:07:11,370 --> 00:07:19,420
connection between a large stately home

00:07:14,820 --> 00:07:21,550
full of posh English people and and a

00:07:19,420 --> 00:07:25,120
dead list celebrity in the Australian

00:07:21,550 --> 00:07:29,770
jungle eating a kangaroo anus to win

00:07:25,120 --> 00:07:31,180
treats for the rest of his group these

00:07:29,770 --> 00:07:32,530
are both television programs like

00:07:31,180 --> 00:07:34,030
they're both television programmes put

00:07:32,530 --> 00:07:36,070
on the air by the same company there's

00:07:34,030 --> 00:07:37,270
Downton Abbey on the on the left-hand

00:07:36,070 --> 00:07:40,840
side there and i'm a celebrity get me

00:07:37,270 --> 00:07:43,960
out here on the right and the thing that

00:07:40,840 --> 00:07:45,790
connects these two organizations these

00:07:43,960 --> 00:07:46,950
two programs aside from the fact that

00:07:45,790 --> 00:07:48,940
they're both published by the same

00:07:46,950 --> 00:07:52,270
organization is that they both in the

00:07:48,940 --> 00:07:56,140
past at one point had Drupal web

00:07:52,270 --> 00:07:57,550
properties associated with them and the

00:07:56,140 --> 00:07:59,560
company we're talking about for those of

00:07:57,550 --> 00:08:02,290
you who are not from the UK is a

00:07:59,560 --> 00:08:04,930
chemical ITV and I TV is the the UK's

00:08:02,290 --> 00:08:07,540
largest television network commercial

00:08:04,930 --> 00:08:09,730
television network i should say it was

00:08:07,540 --> 00:08:11,560
launched in 1955 so this is a 60 year

00:08:09,730 --> 00:08:13,600
old company right this is your Statler

00:08:11,560 --> 00:08:16,960
and Waldorf of organizations they've

00:08:13,600 --> 00:08:19,300
been around a long time there are over

00:08:16,960 --> 00:08:21,130
4,000 employees at least that was true

00:08:19,300 --> 00:08:24,580
at the end of 2012 which is where I got

00:08:21,130 --> 00:08:26,980
these figures from and and they have

00:08:24,580 --> 00:08:28,510
sizeable revenues and and the thing two

00:08:26,980 --> 00:08:31,870
things to bear in mind about this

00:08:28,510 --> 00:08:33,849
organization is that they are they're

00:08:31,870 --> 00:08:35,349
old and large but they're also not

00:08:33,849 --> 00:08:37,830
primarily a technology company the

00:08:35,349 --> 00:08:39,820
technology exists as a way of putting

00:08:37,830 --> 00:08:42,370
entertainment if you want to call it

00:08:39,820 --> 00:08:45,130
that in the case of kangaroo anus eating

00:08:42,370 --> 00:08:46,810
in jungle in front of the general public

00:08:45,130 --> 00:08:48,550
and some of that technologies is

00:08:46,810 --> 00:08:50,800
broadcast some of it is putting things

00:08:48,550 --> 00:08:52,089
on cable television networks some of it

00:08:50,800 --> 00:08:53,710
is on the internet and the internet

00:08:52,089 --> 00:08:56,950
stuff is on the

00:08:53,710 --> 00:08:59,860
rise and that's where we sort of come

00:08:56,950 --> 00:09:01,960
into this story really most of this

00:08:59,860 --> 00:09:04,390
revenue comes from advertising right so

00:09:01,960 --> 00:09:07,000
this is this is interstitial ads in

00:09:04,390 --> 00:09:08,080
between programs that you sit through in

00:09:07,000 --> 00:09:10,510
order to get to the content that you

00:09:08,080 --> 00:09:12,640
want to watch and the first advert that

00:09:10,510 --> 00:09:16,120
the ITV put on its head was for a

00:09:12,640 --> 00:09:19,300
toothpaste back in 1955 called Gibbs SR

00:09:16,120 --> 00:09:21,880
a long-forgotten brand these days no

00:09:19,300 --> 00:09:22,840
doubt but which presumably is is the

00:09:21,880 --> 00:09:27,820
sort of thing you're going to want to

00:09:22,840 --> 00:09:29,920
buy if you've spent a week in jungle so

00:09:27,820 --> 00:09:33,310
2010 quarter four is when we sort of

00:09:29,920 --> 00:09:37,750
picked this story up and when we started

00:09:33,310 --> 00:09:39,700
it at ITV in 2010 the majority the web

00:09:37,750 --> 00:09:41,280
content was served from a dotnet content

00:09:39,700 --> 00:09:44,850
management system a big sort of

00:09:41,280 --> 00:09:48,160
internally grown organically grown

00:09:44,850 --> 00:09:50,230
homebrew CMS platform there was some

00:09:48,160 --> 00:09:53,500
Drupal 6 sites in existence these are

00:09:50,230 --> 00:09:57,430
quite small primarily built by external

00:09:53,500 --> 00:09:59,410
agencies arguably not very well quite

00:09:57,430 --> 00:10:00,670
difficult to maintain to upgrade lots of

00:09:59,410 --> 00:10:03,030
sort of hacking gone on in the core

00:10:00,670 --> 00:10:07,240
where it shouldn't really have been the

00:10:03,030 --> 00:10:11,170
dotnet platform was being released on a

00:10:07,240 --> 00:10:12,940
kind of six weekly cycle and these

00:10:11,170 --> 00:10:14,860
releases would take place out of hours

00:10:12,940 --> 00:10:17,770
with a bunch of developers and some

00:10:14,860 --> 00:10:21,160
pizza and some Cola and it would take a

00:10:17,770 --> 00:10:22,570
number of hours to happen and no one go

00:10:21,160 --> 00:10:26,080
home until it's finished or until it's

00:10:22,570 --> 00:10:27,400
rolled back and and this isn't a

00:10:26,080 --> 00:10:31,690
comfortable place for anyone to be

00:10:27,400 --> 00:10:34,540
really in order to to deal with with

00:10:31,690 --> 00:10:36,580
this sort of big complicated release

00:10:34,540 --> 00:10:39,250
process there was a complicated change

00:10:36,580 --> 00:10:41,230
management process where a man with a

00:10:39,250 --> 00:10:43,000
clipboard would require developers to

00:10:41,230 --> 00:10:44,920
write a lot of word documents about how

00:10:43,000 --> 00:10:46,120
this was going to happen the intent

00:10:44,920 --> 00:10:50,290
being that this would improve the

00:10:46,120 --> 00:10:51,880
quality of the release arguably did but

00:10:50,290 --> 00:10:53,620
not to the extent that was necessary

00:10:51,880 --> 00:10:55,990
really a lot of these releases probably

00:10:53,620 --> 00:10:58,540
worn in three I think were being rolled

00:10:55,990 --> 00:11:00,400
back at this point in time to make way

00:10:58,540 --> 00:11:02,290
for another attempt on another evening

00:11:00,400 --> 00:11:07,360
with another load of developers and beer

00:11:02,290 --> 00:11:09,730
and pizza the organization itself had a

00:11:07,360 --> 00:11:11,079
a multi-tier operations team so it's at

00:11:09,730 --> 00:11:14,200
a first line second line third line

00:11:11,079 --> 00:11:16,329
style operation and the first line team

00:11:14,200 --> 00:11:18,970
really would were performing manual

00:11:16,329 --> 00:11:20,200
tasks that the content management system

00:11:18,970 --> 00:11:22,630
should have been capable of doing so a

00:11:20,200 --> 00:11:25,470
lot of the the frontline teams tickets

00:11:22,630 --> 00:11:30,040
were about adding rewrite rules to to

00:11:25,470 --> 00:11:32,350
traffic managers so that the new TV show

00:11:30,040 --> 00:11:34,089
could have a vanity URL and that and

00:11:32,350 --> 00:11:35,769
that sort of thing really as people who

00:11:34,089 --> 00:11:37,990
use drupal we kind of look at that and

00:11:35,769 --> 00:11:39,610
go that's not really very small but

00:11:37,990 --> 00:11:42,180
there were people employed to do that

00:11:39,610 --> 00:11:44,019
sort of task on a day to day basis the

00:11:42,180 --> 00:11:47,500
availability and performance these sites

00:11:44,019 --> 00:11:49,390
were pretty bad the the fact that Akamai

00:11:47,500 --> 00:11:51,670
was sat in front of these web properties

00:11:49,390 --> 00:11:53,320
probably saved an awful lot of grief but

00:11:51,670 --> 00:11:55,029
it hidden awful lot from everybody and

00:11:53,320 --> 00:11:57,279
there was only kind of minimal

00:11:55,029 --> 00:12:00,600
monitoring of this stuff some enterprise

00:11:57,279 --> 00:12:03,010
monitoring platforms were being paid for

00:12:00,600 --> 00:12:04,570
these have been tuned to ignore the

00:12:03,010 --> 00:12:07,180
first half an hour of alerts because

00:12:04,570 --> 00:12:09,880
that might be normal just kind of not

00:12:07,180 --> 00:12:12,100
good practice for the most part and the

00:12:09,880 --> 00:12:14,230
the ops team probably I think was around

00:12:12,100 --> 00:12:16,029
12 to 14 people and there was a budget

00:12:14,230 --> 00:12:18,250
on the table for increasing that suit to

00:12:16,029 --> 00:12:22,839
to increase the operational hours of the

00:12:18,250 --> 00:12:24,160
platform in spite of that though the the

00:12:22,839 --> 00:12:26,829
ops team were only responsible for the

00:12:24,160 --> 00:12:29,110
application the software sort of the

00:12:26,829 --> 00:12:30,640
hardware the hypervisor the switches

00:12:29,110 --> 00:12:32,769
networks anns all of that kind of

00:12:30,640 --> 00:12:34,449
hardware all operated by third parties

00:12:32,769 --> 00:12:35,589
under a service management contracts and

00:12:34,449 --> 00:12:37,660
so there were people in that ops team

00:12:35,589 --> 00:12:40,060
whose main job it was a triage tickets

00:12:37,660 --> 00:12:41,800
between end users within the business

00:12:40,060 --> 00:12:46,410
and this third party team really

00:12:41,800 --> 00:12:48,820
inefficient use of people basically and

00:12:46,410 --> 00:12:50,500
the the primary cause for things like

00:12:48,820 --> 00:12:52,149
the poor availability performs it's just

00:12:50,500 --> 00:12:53,860
bad architectural mistakes and

00:12:52,149 --> 00:12:56,800
architectural mistakes that had come

00:12:53,860 --> 00:12:59,110
about through miscommunication that been

00:12:56,800 --> 00:13:00,760
an assumption that the developers were

00:12:59,110 --> 00:13:02,199
never allowed to use a database anywhere

00:13:00,760 --> 00:13:04,329
near the front end and so they built a

00:13:02,199 --> 00:13:07,329
database out of XML and shared file

00:13:04,329 --> 00:13:08,680
systems and it was just a crazy and you

00:13:07,329 --> 00:13:11,980
know we attempted to laugh at this right

00:13:08,680 --> 00:13:14,320
this is this is a comedy situation it's

00:13:11,980 --> 00:13:15,910
a comedy of errors everyone's kind of in

00:13:14,320 --> 00:13:17,980
this position at some point in their

00:13:15,910 --> 00:13:19,810
lives as a technology company of a

00:13:17,980 --> 00:13:21,279
certain size but really it's important

00:13:19,810 --> 00:13:23,410
to realize that that nobody try

00:13:21,279 --> 00:13:26,589
to get hit nobody aims to be this bad at

00:13:23,410 --> 00:13:29,980
stuff and there's a context to there is

00:13:26,589 --> 00:13:33,459
reason why we're bad at these things and

00:13:29,980 --> 00:13:35,529
the context in part as I see it then

00:13:33,459 --> 00:13:37,899
this is this is largely my opinion

00:13:35,529 --> 00:13:40,389
rather than anything that I would argue

00:13:37,899 --> 00:13:42,579
to have measured but a lot of the

00:13:40,389 --> 00:13:44,410
problems were down to the web

00:13:42,579 --> 00:13:47,230
deliverables were tied to TV broadcast

00:13:44,410 --> 00:13:49,300
dates so you'll be building a piece of

00:13:47,230 --> 00:13:50,709
technology someone ago I need that for

00:13:49,300 --> 00:13:51,759
this program and then all of a sudden

00:13:50,709 --> 00:13:54,430
you've got a deadline that you

00:13:51,759 --> 00:13:56,410
previously didn't have these broadcasts

00:13:54,430 --> 00:13:58,120
dates don't change if the website

00:13:56,410 --> 00:14:01,300
doesn't work no one's taking Downton

00:13:58,120 --> 00:14:02,829
Abbey off the air which is a kind of

00:14:01,300 --> 00:14:04,329
grim realization for those of us who

00:14:02,829 --> 00:14:06,040
have done work with startups we're

00:14:04,329 --> 00:14:07,990
actually if things aren't ready and are

00:14:06,040 --> 00:14:11,290
likely to fall on their ass you probably

00:14:07,990 --> 00:14:13,420
won't release them but also even though

00:14:11,290 --> 00:14:16,120
we're working on fairly tight timescales

00:14:13,420 --> 00:14:17,620
tight immutable timescales there's a lot

00:14:16,120 --> 00:14:21,579
of last-minute changes come in I mean

00:14:17,620 --> 00:14:23,470
it's a creative organization a media

00:14:21,579 --> 00:14:25,480
company to me feels an awful lot like an

00:14:23,470 --> 00:14:26,980
enormous agency and the agency model is

00:14:25,480 --> 00:14:29,139
very much like get this out the way get

00:14:26,980 --> 00:14:32,170
the next client through the door and so

00:14:29,139 --> 00:14:34,629
there's no real kind of focus on on

00:14:32,170 --> 00:14:41,290
reusability of quality or those sorts of

00:14:34,629 --> 00:14:44,259
things this was a online operations team

00:14:41,290 --> 00:14:46,629
living within four thousand person

00:14:44,259 --> 00:14:48,399
organization there are many other teams

00:14:46,629 --> 00:14:50,170
within that organization that could

00:14:48,399 --> 00:14:52,170
place demands on that operations team

00:14:50,170 --> 00:14:55,809
none of which necessarily went through

00:14:52,170 --> 00:14:58,720
any kind of management hierarchy of

00:14:55,809 --> 00:14:59,800
commonality they just appear one day you

00:14:58,720 --> 00:15:01,269
come in in the morning it'll be a new

00:14:59,800 --> 00:15:03,329
thing that had to be live by Saturday

00:15:01,269 --> 00:15:06,009
and these are the sorts of things that

00:15:03,329 --> 00:15:10,029
that just sort of show up and distract

00:15:06,009 --> 00:15:13,240
from time to time in particular one one

00:15:10,029 --> 00:15:15,670
piece of fairly small programming on one

00:15:13,240 --> 00:15:20,050
of the the channels that very few people

00:15:15,670 --> 00:15:21,939
actually watch the creatives had decided

00:15:20,050 --> 00:15:23,769
they wanted to put an opera singer in a

00:15:21,939 --> 00:15:25,809
studio point a camera at them have them

00:15:23,769 --> 00:15:28,600
singing tweets and live stream this on

00:15:25,809 --> 00:15:31,000
the internet on Saturday you know this

00:15:28,600 --> 00:15:33,029
is this was mid week and we did our best

00:15:31,000 --> 00:15:35,080
to accommodate these sorts of things and

00:15:33,029 --> 00:15:38,500
it's also important to see that in

00:15:35,080 --> 00:15:40,660
in 2010 we're sort of recovering from

00:15:38,500 --> 00:15:43,050
the financial crisis to some extent I

00:15:40,660 --> 00:15:45,610
guess we still are for some extent and

00:15:43,050 --> 00:15:47,350
so a lot of people been laid off a lot

00:15:45,610 --> 00:15:49,600
of a lot of tribal knowledge had exited

00:15:47,350 --> 00:15:51,460
the building lots of people licking

00:15:49,600 --> 00:15:54,640
their wounds arguably some of the better

00:15:51,460 --> 00:15:57,190
people had left a lot of the the things

00:15:54,640 --> 00:15:59,320
that the dev team knew about the other

00:15:57,190 --> 00:16:01,450
the amount of code that an individual

00:15:59,320 --> 00:16:03,280
member of the dev team had seen was

00:16:01,450 --> 00:16:06,040
probably probably lower by percentage

00:16:03,280 --> 00:16:07,750
than than it had been previously and

00:16:06,040 --> 00:16:09,400
there are third parties who are doing

00:16:07,750 --> 00:16:12,070
some of this service delivery so as an

00:16:09,400 --> 00:16:13,510
organization this team and have complete

00:16:12,070 --> 00:16:17,680
control over over the end-to-end

00:16:13,510 --> 00:16:19,450
delivery of all this stuff we also had

00:16:17,680 --> 00:16:22,210
some in-flight projects on the go at

00:16:19,450 --> 00:16:23,800
this point in time an in-flight project

00:16:22,210 --> 00:16:26,320
such as a multimillion-pound data center

00:16:23,800 --> 00:16:29,650
refresh the after the layoffs there are

00:16:26,320 --> 00:16:32,530
a number of buildings that had fewer

00:16:29,650 --> 00:16:34,330
staff in as a as a sensible

00:16:32,530 --> 00:16:37,990
precautionary measure we were looking to

00:16:34,330 --> 00:16:39,520
move IT infrastructure out of office

00:16:37,990 --> 00:16:41,920
buildings into data centers so the

00:16:39,520 --> 00:16:44,830
office buildings became less of a place

00:16:41,920 --> 00:16:47,440
of reliance would recently had a

00:16:44,830 --> 00:16:51,220
completely new new board installed new

00:16:47,440 --> 00:16:52,690
CEO chairman I guess and so there was a

00:16:51,220 --> 00:16:53,710
business transformation projects on the

00:16:52,690 --> 00:16:56,290
go and the business transformation

00:16:53,710 --> 00:16:58,810
project was designed to to get out of

00:16:56,290 --> 00:17:00,250
this avoid in future the situation that

00:16:58,810 --> 00:17:02,260
it led to these redundancies in the

00:17:00,250 --> 00:17:05,070
first place which is if you're a company

00:17:02,260 --> 00:17:07,480
whose sole income comes from advertising

00:17:05,070 --> 00:17:09,550
then when the bottom drops out the

00:17:07,480 --> 00:17:12,880
financial market advertising revenue

00:17:09,550 --> 00:17:14,830
dries up everything's essentially

00:17:12,880 --> 00:17:16,930
so part the business transformation

00:17:14,830 --> 00:17:21,940
program is to find a way of generating

00:17:16,930 --> 00:17:23,530
revenue from from sources other than

00:17:21,940 --> 00:17:26,020
advertising basically so selling

00:17:23,530 --> 00:17:27,970
directly to the consumer expanding into

00:17:26,020 --> 00:17:28,960
international markets all of those sorts

00:17:27,970 --> 00:17:30,130
of things which is why things like

00:17:28,960 --> 00:17:34,510
Downton Abbey are all over the world

00:17:30,130 --> 00:17:37,660
right now as well as this we're looking

00:17:34,510 --> 00:17:39,420
at a completely new head team in the

00:17:37,660 --> 00:17:42,790
online on-demand part of the business

00:17:39,420 --> 00:17:44,410
and so there's a there a new project

00:17:42,790 --> 00:17:45,640
spun up to to replace the content

00:17:44,410 --> 00:17:47,320
management system which isn't agile

00:17:45,640 --> 00:17:50,200
enough for anybody

00:17:47,320 --> 00:17:52,899
and a new online video player project

00:17:50,200 --> 00:17:55,330
just for good measure in order to allow

00:17:52,899 --> 00:17:57,190
us to sell video content to the general

00:17:55,330 --> 00:18:00,960
public and hopefully avoid these these

00:17:57,190 --> 00:18:03,100
financial problems in the future and

00:18:00,960 --> 00:18:05,889
that's where drupal comes into the

00:18:03,100 --> 00:18:08,350
equation both the the online video

00:18:05,889 --> 00:18:10,570
player project in the cmh project began

00:18:08,350 --> 00:18:14,950
in life as group or projects after eight

00:18:10,570 --> 00:18:16,600
and after a process of rfp where we went

00:18:14,950 --> 00:18:18,130
out to tender and look to the number of

00:18:16,600 --> 00:18:19,899
different options some of them dotnet

00:18:18,130 --> 00:18:21,940
options to address the fact that most of

00:18:19,899 --> 00:18:23,710
the internal knowledge was was internet

00:18:21,940 --> 00:18:26,889
but there were a couple of drupal

00:18:23,710 --> 00:18:31,480
contenders and eventually we chose

00:18:26,889 --> 00:18:33,100
drupal as a as a platform so in order to

00:18:31,480 --> 00:18:34,990
build a drupal platform obviously we

00:18:33,100 --> 00:18:37,059
needed a new linux platform up until

00:18:34,990 --> 00:18:38,860
this point the the linux serving out of

00:18:37,059 --> 00:18:41,919
this organization was a couple of drupal

00:18:38,860 --> 00:18:43,299
six sites with a single points of

00:18:41,919 --> 00:18:46,899
failure all over the place manually

00:18:43,299 --> 00:18:49,919
configured VMS running redhat for with

00:18:46,899 --> 00:18:52,720
with old versions of PHP and mysql on

00:18:49,919 --> 00:18:55,840
kind of a mess really but reasonably

00:18:52,720 --> 00:18:57,519
contained the benefit of only having one

00:18:55,840 --> 00:18:58,750
server / property is that if you don't

00:18:57,519 --> 00:19:03,940
very many properties you have too many

00:18:58,750 --> 00:19:06,129
servers to worry about and so we my team

00:19:03,940 --> 00:19:09,850
and people that we brought in as new

00:19:06,129 --> 00:19:11,080
hires for the business started to build

00:19:09,850 --> 00:19:12,970
out in your linux platform for this

00:19:11,080 --> 00:19:15,039
stuff we'll talk briefly about the the

00:19:12,970 --> 00:19:17,340
technological of the technology pieces

00:19:15,039 --> 00:19:19,899
that we used as part of this deployment

00:19:17,340 --> 00:19:22,419
so we were automating configuration

00:19:19,899 --> 00:19:24,240
using puppets we were building a

00:19:22,419 --> 00:19:26,559
development environments using fragrance

00:19:24,240 --> 00:19:28,809
we built continues deployment pipeline

00:19:26,559 --> 00:19:30,460
using Jenkins and and we'd gone through

00:19:28,809 --> 00:19:33,399
a hiring process and that the hiring

00:19:30,460 --> 00:19:34,840
process was was a bit more than just

00:19:33,399 --> 00:19:36,690
interview now we went through technical

00:19:34,840 --> 00:19:38,679
test and found a good team of people

00:19:36,690 --> 00:19:40,990
apologized to Paul who sat in the middle

00:19:38,679 --> 00:19:47,230
because one of the guys we hired used to

00:19:40,990 --> 00:19:51,070
work for him and and so we we built

00:19:47,230 --> 00:19:52,570
these these technology components 12

00:19:51,070 --> 00:19:53,860
months of replacing the DevOps market is

00:19:52,570 --> 00:19:55,870
difficult if you are not currently

00:19:53,860 --> 00:19:58,049
working DevOps consider it as a career

00:19:55,870 --> 00:19:58,049
option

00:19:58,360 --> 00:20:04,760
we'll leave that to the end so we use

00:20:02,810 --> 00:20:07,040
puppet for for doing our configuration

00:20:04,760 --> 00:20:09,470
management and if you're unfamiliar with

00:20:07,040 --> 00:20:10,430
these tools or kind of briefly cover

00:20:09,470 --> 00:20:11,480
them if you want to know a bit more

00:20:10,430 --> 00:20:13,400
detail than come and talk to me

00:20:11,480 --> 00:20:16,330
afterwards and I'll sort of do my best

00:20:13,400 --> 00:20:19,640
to explain them and puppets a

00:20:16,330 --> 00:20:21,890
configuration management tool it's it's

00:20:19,640 --> 00:20:23,510
one of a number of current tools in that

00:20:21,890 --> 00:20:26,480
space you've also got things like

00:20:23,510 --> 00:20:28,610
Opscode chef ansible saltstack all those

00:20:26,480 --> 00:20:30,380
kind of things the questions often ask

00:20:28,610 --> 00:20:32,660
should i use puppet or chef the answer

00:20:30,380 --> 00:20:35,330
to that question is yes it doesn't

00:20:32,660 --> 00:20:36,530
really matter what you use but this is

00:20:35,330 --> 00:20:38,090
an important thing to look at

00:20:36,530 --> 00:20:39,830
configuration management is an area if

00:20:38,090 --> 00:20:42,020
you're not doing it you are probably

00:20:39,830 --> 00:20:43,580
going to be in trouble particularly if

00:20:42,020 --> 00:20:46,280
you're running it more than a handful of

00:20:43,580 --> 00:20:48,020
servers and it allows us to build

00:20:46,280 --> 00:20:49,910
infrastructure as code it allows us to

00:20:48,020 --> 00:20:53,330
to sit down with a text editor and

00:20:49,910 --> 00:20:54,800
describe to into a text file in a

00:20:53,330 --> 00:20:57,920
domain-specific language how we would

00:20:54,800 --> 00:20:59,750
like our servers to look it's convergent

00:20:57,920 --> 00:21:02,000
which means that having built my

00:20:59,750 --> 00:21:05,090
description of how server should look if

00:21:02,000 --> 00:21:06,110
I run it on a server the tool will take

00:21:05,090 --> 00:21:08,630
a look at the current state of the

00:21:06,110 --> 00:21:10,220
server take a look at the the required

00:21:08,630 --> 00:21:12,200
state to the desired state that I've

00:21:10,220 --> 00:21:13,970
described and work out how to get from

00:21:12,200 --> 00:21:15,890
one place to the other and it will only

00:21:13,970 --> 00:21:17,570
make as many changes as it needs to

00:21:15,890 --> 00:21:19,490
bring that configuration in line with

00:21:17,570 --> 00:21:23,300
how I've described it so the second time

00:21:19,490 --> 00:21:25,910
I run puppet on using correctly written

00:21:23,300 --> 00:21:27,560
public manifests nothing will change

00:21:25,910 --> 00:21:30,170
because the server is already in the

00:21:27,560 --> 00:21:32,450
desired state that we've described and

00:21:30,170 --> 00:21:34,730
it runs client server or masterless

00:21:32,450 --> 00:21:37,220
which means that it's suitable of for

00:21:34,730 --> 00:21:39,140
kind of running thousands of nodes or

00:21:37,220 --> 00:21:40,940
just one or two it really doesn't matter

00:21:39,140 --> 00:21:43,580
kind of what what approach you take its

00:21:40,940 --> 00:21:45,620
able to do both of those things and an

00:21:43,580 --> 00:21:48,170
infrastructure as code means that we

00:21:45,620 --> 00:21:49,460
have access to two software tools for

00:21:48,170 --> 00:21:52,730
writing this kind of stuff so you can

00:21:49,460 --> 00:21:54,620
use your your IDEs your Emacs or vie or

00:21:52,730 --> 00:21:57,550
you know eclipse or whatever the

00:21:54,620 --> 00:22:00,560
perversity you like and you can use

00:21:57,550 --> 00:22:02,120
version control systems you can use

00:22:00,560 --> 00:22:03,800
continuous deployment continuous

00:22:02,120 --> 00:22:05,570
integration tooling to test these things

00:22:03,800 --> 00:22:07,220
and that puts you in a powerful position

00:22:05,570 --> 00:22:09,860
because that that means that you can

00:22:07,220 --> 00:22:11,720
start looking at infrastructure as code

00:22:09,860 --> 00:22:13,820
components and if you are

00:22:11,720 --> 00:22:16,220
building a dev ops team with with

00:22:13,820 --> 00:22:17,510
developers and operations staff a lot of

00:22:16,220 --> 00:22:20,150
this stuff is kind of familiar to

00:22:17,510 --> 00:22:22,850
developers it's not necessarily a a very

00:22:20,150 --> 00:22:25,640
straightforward language to pick up but

00:22:22,850 --> 00:22:28,179
given time it is easy to follow and it's

00:22:25,640 --> 00:22:30,320
fairly easy given an existing structure

00:22:28,179 --> 00:22:31,850
to figure out what changes you need to

00:22:30,320 --> 00:22:34,130
make to get the effect that you

00:22:31,850 --> 00:22:36,320
personally desire in the change use pull

00:22:34,130 --> 00:22:38,350
requests as in as you would if you're

00:22:36,320 --> 00:22:41,000
collaborating on a get project to

00:22:38,350 --> 00:22:42,919
quality control that stuff it all

00:22:41,000 --> 00:22:44,600
becomes much more like developing code

00:22:42,919 --> 00:22:49,580
and that's that I think it's quite quite

00:22:44,600 --> 00:22:51,620
a powerful thing another powerful tool

00:22:49,580 --> 00:22:52,970
that we use as part of this project this

00:22:51,620 --> 00:22:55,190
was actually the first time we'd use

00:22:52,970 --> 00:22:56,870
this particular tool it's now an

00:22:55,190 --> 00:22:59,030
absolute staple of pretty much

00:22:56,870 --> 00:23:01,039
everything that we do it's a tool called

00:22:59,030 --> 00:23:02,809
vagrant some of you if you've been

00:23:01,039 --> 00:23:04,549
following the devops scene may have may

00:23:02,809 --> 00:23:06,440
have heard of vagrant may be using it

00:23:04,549 --> 00:23:09,830
yourselves you may have heard Mitchell

00:23:06,440 --> 00:23:11,179
talk about it one of the events there

00:23:09,830 --> 00:23:14,419
were many events all over the world that

00:23:11,179 --> 00:23:15,799
he speaks it at about it vagrant is

00:23:14,419 --> 00:23:20,870
essentially a tool for managing

00:23:15,799 --> 00:23:23,990
development environments and it's a a

00:23:20,870 --> 00:23:26,870
set of Ruby command line operations

00:23:23,990 --> 00:23:30,350
around managing virtual machines either

00:23:26,870 --> 00:23:32,030
locally or on remote hypervisors or on

00:23:30,350 --> 00:23:34,820
AWS or whatever it's all put a plug in

00:23:32,030 --> 00:23:36,020
based on the get on the on the host

00:23:34,820 --> 00:23:37,669
operating system it's supported linux

00:23:36,020 --> 00:23:39,820
mac and windows so it doesn't matter

00:23:37,669 --> 00:23:41,809
what your developers are using well okay

00:23:39,820 --> 00:23:43,789
they're probably not going to get much

00:23:41,809 --> 00:23:45,830
joy if they're using freebsd to be fair

00:23:43,789 --> 00:23:48,409
but if they're using linux mac or

00:23:45,830 --> 00:23:49,460
windows on their desktop then they're

00:23:48,409 --> 00:23:53,299
all gonna be capable of running this

00:23:49,460 --> 00:23:57,740
thing and it allows allows me as a as a

00:23:53,299 --> 00:24:00,200
DevOps person to provide a a base image

00:23:57,740 --> 00:24:03,470
and some puppet or other configuration

00:24:00,200 --> 00:24:05,059
management language for standing up a

00:24:03,470 --> 00:24:07,370
new development environment that is as

00:24:05,059 --> 00:24:08,990
close to live as we can make it because

00:24:07,370 --> 00:24:10,820
it uses the same puppet manifests it

00:24:08,990 --> 00:24:12,169
uses the same operating system packages

00:24:10,820 --> 00:24:14,450
it uses the same version of the

00:24:12,169 --> 00:24:15,980
operating system as a starting point and

00:24:14,450 --> 00:24:18,350
this is again really powerful it means

00:24:15,980 --> 00:24:21,500
that in a development team of say twenty

00:24:18,350 --> 00:24:23,809
people if we contrive to upgrade the PHP

00:24:21,500 --> 00:24:25,430
version by a point release you don't

00:24:23,809 --> 00:24:27,350
then have 20 people or building

00:24:25,430 --> 00:24:28,970
PHP for a morning and trying to figure

00:24:27,350 --> 00:24:30,830
out linking arguments and all the other

00:24:28,970 --> 00:24:33,290
joyous things that go along with trying

00:24:30,830 --> 00:24:34,940
to build PHP we can just build a new

00:24:33,290 --> 00:24:36,880
package ship it into the package

00:24:34,940 --> 00:24:39,440
repository that we're using with vagrant

00:24:36,880 --> 00:24:42,530
and ask they update that vagrant

00:24:39,440 --> 00:24:44,470
environment and there we have it it uses

00:24:42,530 --> 00:24:47,090
a folder sharing mechanism to expose

00:24:44,470 --> 00:24:49,250
folders from your from your local

00:24:47,090 --> 00:24:50,420
machine inside the virtual environment

00:24:49,250 --> 00:24:51,890
and the development environment which

00:24:50,420 --> 00:24:54,380
means that again you can stick with

00:24:51,890 --> 00:24:55,850
emacs or eclipse or text mates or

00:24:54,380 --> 00:24:57,980
whatever it is you're using is your

00:24:55,850 --> 00:25:00,560
development environment your tools of

00:24:57,980 --> 00:25:01,940
choice and know that when you come to

00:25:00,560 --> 00:25:03,830
run the code it's going to run inside a

00:25:01,940 --> 00:25:05,450
virtual machine using all the same

00:25:03,830 --> 00:25:07,130
packages all the same versions of

00:25:05,450 --> 00:25:10,510
everything as is going to be available

00:25:07,130 --> 00:25:13,310
on live because we're using version

00:25:10,510 --> 00:25:15,560
version puppet manifests we can stage

00:25:13,310 --> 00:25:16,790
these things we can provide pre-release

00:25:15,560 --> 00:25:18,700
versions that we then move through

00:25:16,790 --> 00:25:21,110
environments into staging and then live

00:25:18,700 --> 00:25:22,670
this is a really good way of providing

00:25:21,110 --> 00:25:24,260
these dev environments means you your

00:25:22,670 --> 00:25:26,330
developers need a fast laptop with

00:25:24,260 --> 00:25:27,800
decent SSD in it with the decent amount

00:25:26,330 --> 00:25:30,110
of RAM but if you're not buying them

00:25:27,800 --> 00:25:32,320
those sorts of things already you hate

00:25:30,110 --> 00:25:34,520
your developers and please don't do that

00:25:32,320 --> 00:25:36,350
the environments then become as portable

00:25:34,520 --> 00:25:37,550
as a laptop so rather than having a

00:25:36,350 --> 00:25:39,500
development environment that is a

00:25:37,550 --> 00:25:40,760
virtual machine on a hypervisor sat in a

00:25:39,500 --> 00:25:43,190
cupboard somewhere which is a fairly

00:25:40,760 --> 00:25:44,990
standard pattern for development

00:25:43,190 --> 00:25:47,360
organizations you can now stick it on

00:25:44,990 --> 00:25:48,500
your laptop take it home so if you do

00:25:47,360 --> 00:25:49,880
hate your developers and you're going to

00:25:48,500 --> 00:25:51,200
make them work on the weekends they can

00:25:49,880 --> 00:25:54,800
at least do it on their own laptop so

00:25:51,200 --> 00:25:58,550
they come into the office so after

00:25:54,800 --> 00:26:01,910
vagrant we look at Jenkins Jenkins is a

00:25:58,550 --> 00:26:03,680
it's a continuous deployment tool it's

00:26:01,910 --> 00:26:06,950
essentially providing orchestration

00:26:03,680 --> 00:26:09,320
around build test deployment and really

00:26:06,950 --> 00:26:11,120
it's just a it's a batch job runner with

00:26:09,320 --> 00:26:13,040
a nice interface it's not a complicated

00:26:11,120 --> 00:26:14,450
tool necessarily but you can do some

00:26:13,040 --> 00:26:17,420
pretty complex things with it it's like

00:26:14,450 --> 00:26:20,060
Lego you can build some quite impressive

00:26:17,420 --> 00:26:22,370
stuff with Jenkins and importantly for a

00:26:20,060 --> 00:26:24,650
large organization you can have a

00:26:22,370 --> 00:26:26,120
dashboard that everybody could see you

00:26:24,650 --> 00:26:27,650
can construct different shaped

00:26:26,120 --> 00:26:29,630
dashboards for different business units

00:26:27,650 --> 00:26:32,270
so the change of release manager can see

00:26:29,630 --> 00:26:33,920
what is available it has role based

00:26:32,270 --> 00:26:36,050
access control so you can authenticate

00:26:33,920 --> 00:26:39,020
this against your Active Directory or

00:26:36,050 --> 00:26:41,570
the horrifying identity service

00:26:39,020 --> 00:26:42,920
and use that to to permit only people

00:26:41,570 --> 00:26:46,160
with the change in release management

00:26:42,920 --> 00:26:48,020
group membership to release code and in

00:26:46,160 --> 00:26:49,460
an organization like I TV it's kind of

00:26:48,020 --> 00:26:50,870
important that you don't push out a new

00:26:49,460 --> 00:26:53,210
version of the home page in the middle

00:26:50,870 --> 00:26:54,470
of a really big show and so the change

00:26:53,210 --> 00:26:56,330
of release manager is the guy who sort

00:26:54,470 --> 00:26:58,400
of owns that process and this was an

00:26:56,330 --> 00:26:59,990
important thing to put in there's a load

00:26:58,400 --> 00:27:02,420
of plug-ins for this you can use Jenkins

00:26:59,990 --> 00:27:03,590
to spin out you can use it with vagrant

00:27:02,420 --> 00:27:06,470
in fact to spin our new test

00:27:03,590 --> 00:27:09,860
environments it has plug-ins for all the

00:27:06,470 --> 00:27:13,520
standard version control tools it's got

00:27:09,860 --> 00:27:16,030
all sorts of stuff we also put in zabbix

00:27:13,520 --> 00:27:18,440
for monitoring those of you who are

00:27:16,030 --> 00:27:20,090
passionate map monitoring not looking at

00:27:18,440 --> 00:27:22,430
anywhere in particular Chris in the back

00:27:20,090 --> 00:27:26,030
there don't really likes a because

00:27:22,430 --> 00:27:27,590
it's old and a bit crap that's true

00:27:26,030 --> 00:27:29,090
ihome not going to disagree with that

00:27:27,590 --> 00:27:31,940
but it the thing that zabbix gives you

00:27:29,090 --> 00:27:34,820
is it's a single software tool that does

00:27:31,940 --> 00:27:37,910
both time series trends gathering and

00:27:34,820 --> 00:27:39,500
also anomaly alerting and it's quite

00:27:37,910 --> 00:27:41,570
easy to get up and running even if it's

00:27:39,500 --> 00:27:45,170
a bit point-and-click and it's certainly

00:27:41,570 --> 00:27:47,120
way better than no monitoring and in our

00:27:45,170 --> 00:27:48,410
view certainly in 2011 it was much

00:27:47,120 --> 00:27:49,610
better than sitting down with with

00:27:48,410 --> 00:27:51,230
graphite and trying to plug all those

00:27:49,610 --> 00:27:53,660
pieces together it gave us a quick win

00:27:51,230 --> 00:27:54,730
on on exposing this data also meant we

00:27:53,660 --> 00:27:57,830
could monitor the Windows platform

00:27:54,730 --> 00:28:00,340
because you can run SNMP traps and that

00:27:57,830 --> 00:28:02,420
sort of thing and but this game was

00:28:00,340 --> 00:28:04,520
insight into what the servers were

00:28:02,420 --> 00:28:06,830
actually doing which is we was new and

00:28:04,520 --> 00:28:09,370
exciting data for a team that never

00:28:06,830 --> 00:28:12,230
really looked under the hood in that way

00:28:09,370 --> 00:28:14,000
so the scope of these projects it

00:28:12,230 --> 00:28:17,240
started out initially as to Drupal sites

00:28:14,000 --> 00:28:19,070
there was a site refresh for for a

00:28:17,240 --> 00:28:22,100
specific site that had been built in

00:28:19,070 --> 00:28:24,800
Drupal 6 i believe by an agency this was

00:28:22,100 --> 00:28:28,910
being improved have having better search

00:28:24,800 --> 00:28:30,680
added to it and on top of that it was

00:28:28,910 --> 00:28:32,260
there was intended to be a generic CMS

00:28:30,680 --> 00:28:35,240
build and this was the this was the

00:28:32,260 --> 00:28:36,950
intention intention was to replace the

00:28:35,240 --> 00:28:40,640
dotnet platform with whatever this

00:28:36,950 --> 00:28:42,080
resulted in and but the pipeline and the

00:28:40,640 --> 00:28:44,750
and the team that was doing all this

00:28:42,080 --> 00:28:47,050
work kind of the responsibilities grew

00:28:44,750 --> 00:28:51,950
into all the other Linux properties so

00:28:47,050 --> 00:28:52,970
as a as a completely non random utterly

00:28:51,950 --> 00:28:56,500
real example

00:28:52,970 --> 00:29:00,289
the opera star singing in a studio

00:28:56,500 --> 00:29:01,940
livestream thing that all had some PHP

00:29:00,289 --> 00:29:03,770
backend and some flash front-end that

00:29:01,940 --> 00:29:06,020
needed to be deployed that went through

00:29:03,770 --> 00:29:07,850
the deployment pipeline so anything new

00:29:06,020 --> 00:29:09,470
that popped up the mantra was it goes

00:29:07,850 --> 00:29:12,559
out to the platform via pipeline or it

00:29:09,470 --> 00:29:14,929
doesn't happen tool and we'd we'd made

00:29:12,559 --> 00:29:16,940
attempts to to provide the vagrant dev

00:29:14,929 --> 00:29:20,390
environments to the third parties

00:29:16,940 --> 00:29:22,490
largely out sourced to to be able to

00:29:20,390 --> 00:29:23,780
develop their software within on the

00:29:22,490 --> 00:29:24,830
understanding that if it works in the

00:29:23,780 --> 00:29:27,740
vagrant environment it will probably

00:29:24,830 --> 00:29:33,260
work in production as well I say intent

00:29:27,740 --> 00:29:35,000
and quite work out that then as other

00:29:33,260 --> 00:29:37,700
larger projects cropped up so for

00:29:35,000 --> 00:29:38,990
example that you play a platform it was

00:29:37,700 --> 00:29:40,549
generally understood across the business

00:29:38,990 --> 00:29:42,770
that new sites were being built in

00:29:40,549 --> 00:29:45,049
Drupal and so new team started cropping

00:29:42,770 --> 00:29:46,610
up with all its builders and Drupal so

00:29:45,049 --> 00:29:48,020
they come and talk to the teams that

00:29:46,610 --> 00:29:50,030
were already working with Drupal they go

00:29:48,020 --> 00:29:53,419
away with a new set of tools to try and

00:29:50,030 --> 00:29:56,150
use and this developed into into a

00:29:53,419 --> 00:29:57,409
number of off-site and on-site teams and

00:29:56,150 --> 00:29:59,600
by the end I would say they're probably

00:29:57,409 --> 00:30:01,039
50 or possibly more developers or

00:29:59,600 --> 00:30:05,659
working on projects that related to

00:30:01,039 --> 00:30:07,990
Drupal with this tool chain and possibly

00:30:05,659 --> 00:30:10,429
more than that and I include sort of

00:30:07,990 --> 00:30:13,280
JavaScript themas of JavaScript

00:30:10,429 --> 00:30:14,870
developers CSS people product managers

00:30:13,280 --> 00:30:16,460
project managers all of those kind of

00:30:14,870 --> 00:30:18,140
members of staff these are this is a lot

00:30:16,460 --> 00:30:21,289
of people I can massive project and it

00:30:18,140 --> 00:30:22,909
grew to the size that it was probably in

00:30:21,289 --> 00:30:24,440
about three months three to four months

00:30:22,909 --> 00:30:27,260
something along those lines I may be

00:30:24,440 --> 00:30:28,549
misremembering but the team's kruti were

00:30:27,260 --> 00:30:30,350
owned by different business units and a

00:30:28,549 --> 00:30:31,909
lot of the business unit had no

00:30:30,350 --> 00:30:33,860
commonality and management structure

00:30:31,909 --> 00:30:35,090
until you got to board level and that

00:30:33,860 --> 00:30:36,559
was part of the business transformation

00:30:35,090 --> 00:30:38,030
was to try and solve some of these

00:30:36,559 --> 00:30:39,530
problems but it essentially meant that

00:30:38,030 --> 00:30:41,240
you had different people different

00:30:39,530 --> 00:30:44,000
agendas doing different things with the

00:30:41,240 --> 00:30:47,179
same tooling all reliant on one team and

00:30:44,000 --> 00:30:51,260
their their kind of I guess gatekeeping

00:30:47,179 --> 00:30:52,250
of the the live platform some of these

00:30:51,260 --> 00:30:54,700
external teams from different countries

00:30:52,250 --> 00:30:59,720
different time zones different languages

00:30:54,700 --> 00:31:01,429
it all got kind of complicated so what

00:30:59,720 --> 00:31:03,649
did we do we win live what did we do

00:31:01,429 --> 00:31:07,450
that work pretty well we'll cover that

00:31:03,649 --> 00:31:09,860
first because there's more of the rest

00:31:07,450 --> 00:31:11,720
we the winds that we have we had

00:31:09,860 --> 00:31:13,610
automated deployment of the of the Linux

00:31:11,720 --> 00:31:16,250
platform from day one and this was this

00:31:13,610 --> 00:31:18,529
was kind of it was a mantra and we

00:31:16,250 --> 00:31:20,090
enforced it I was in charge of the team

00:31:18,529 --> 00:31:21,590
that was doing all of these kind of

00:31:20,090 --> 00:31:22,549
build work they knew that they were not

00:31:21,590 --> 00:31:26,600
to be doing anything that wasn't

00:31:22,549 --> 00:31:28,970
automated and they automate everything

00:31:26,600 --> 00:31:30,740
mindset came partly as a result of our

00:31:28,970 --> 00:31:32,360
presence in the organization but also

00:31:30,740 --> 00:31:35,000
partly because those are the types of

00:31:32,360 --> 00:31:36,500
people that we hired and I think it's

00:31:35,000 --> 00:31:39,770
probably fair to say we got any windows

00:31:36,500 --> 00:31:41,299
people in the room no okay I think it's

00:31:39,770 --> 00:31:43,460
fair to say that Linux people are better

00:31:41,299 --> 00:31:45,409
automating things or at least the tool

00:31:43,460 --> 00:31:47,480
change that existed on on windows for

00:31:45,409 --> 00:31:50,720
automating stuff up until recently have

00:31:47,480 --> 00:31:53,120
been absolutely shocking now with things

00:31:50,720 --> 00:31:55,640
like powershell and actually they're a

00:31:53,120 --> 00:31:57,620
puppet and chef for windows now and that

00:31:55,640 --> 00:31:59,690
is a situation which is gradually

00:31:57,620 --> 00:32:01,429
improving but it was definitely case

00:31:59,690 --> 00:32:03,950
that the team has existed in that

00:32:01,429 --> 00:32:05,600
organization was not really ofay with

00:32:03,950 --> 00:32:07,070
the idea of automating that much there

00:32:05,600 --> 00:32:08,510
was some stuff that group policy objects

00:32:07,070 --> 00:32:11,210
in Active Directory and those sorts of

00:32:08,510 --> 00:32:13,640
things but no real kind of let's make

00:32:11,210 --> 00:32:14,870
all the is servers do this same thing at

00:32:13,640 --> 00:32:18,799
one so there's configuration drift

00:32:14,870 --> 00:32:20,600
everywhere new team members always bring

00:32:18,799 --> 00:32:23,059
outside experience and I think it sort

00:32:20,600 --> 00:32:25,100
of after a period of layoffs adding new

00:32:23,059 --> 00:32:26,000
new members of staff with new ways of

00:32:25,100 --> 00:32:29,600
thinking I thing was quite invigorating

00:32:26,000 --> 00:32:32,390
for team and a lot of the existing guys

00:32:29,600 --> 00:32:34,520
who hadn't really kind of been that

00:32:32,390 --> 00:32:35,659
involved with with getting their hands

00:32:34,520 --> 00:32:40,520
on automation stuff we're quite excited

00:32:35,659 --> 00:32:42,799
about it that the support teams the

00:32:40,520 --> 00:32:44,750
operations teams they were given new

00:32:42,799 --> 00:32:46,010
linux related responsibilities and so

00:32:44,750 --> 00:32:47,779
they were learning new things and people

00:32:46,010 --> 00:32:50,960
always thrived when they're learning new

00:32:47,779 --> 00:32:52,340
things we removed a lot of complexity

00:32:50,960 --> 00:32:54,529
from the change management because we

00:32:52,340 --> 00:32:57,350
were automating stuff you didn't need to

00:32:54,529 --> 00:32:59,270
write a seven-page word document on what

00:32:57,350 --> 00:33:00,799
you were changing why and how you were

00:32:59,270 --> 00:33:02,390
pressing a button in jenkins and it was

00:33:00,799 --> 00:33:05,110
running this script that you tested and

00:33:02,390 --> 00:33:07,850
and so a lot like complexity went away

00:33:05,110 --> 00:33:10,669
as did the change in release manager who

00:33:07,850 --> 00:33:11,840
didn't really understand why was not

00:33:10,669 --> 00:33:15,020
important to write all these documents

00:33:11,840 --> 00:33:17,510
that was win we increase the operational

00:33:15,020 --> 00:33:19,190
visibility so we had monitoring we also

00:33:17,510 --> 00:33:21,170
which I didn't mention added

00:33:19,190 --> 00:33:23,210
at this point grey log so that you could

00:33:21,170 --> 00:33:25,300
as a developer go and see the logs that

00:33:23,210 --> 00:33:27,410
are coming out the Drupal platform and

00:33:25,300 --> 00:33:29,060
everybody had a better idea of what

00:33:27,410 --> 00:33:31,130
things were doing we put Pingdom in to

00:33:29,060 --> 00:33:32,720
look at the outside world we put some

00:33:31,130 --> 00:33:35,360
better monitoring on Akamai that the

00:33:32,720 --> 00:33:39,290
whole thing got a bit more visible what

00:33:35,360 --> 00:33:40,880
challenges did we have well we were

00:33:39,290 --> 00:33:43,550
building these environments and the and

00:33:40,880 --> 00:33:46,610
the and I say the project the project's

00:33:43,550 --> 00:33:50,060
plural simultaneously and so any problem

00:33:46,610 --> 00:33:52,700
with the environment would play into the

00:33:50,060 --> 00:33:53,930
developer timeline and most of the

00:33:52,700 --> 00:33:55,580
development was being performed by

00:33:53,930 --> 00:33:59,090
external parties had already agreed to

00:33:55,580 --> 00:34:01,490
deadlines and so an internal team

00:33:59,090 --> 00:34:04,250
causing a blockage for an external team

00:34:01,490 --> 00:34:05,720
who had had a deadline put on them was

00:34:04,250 --> 00:34:08,990
obviously not going to make as any

00:34:05,720 --> 00:34:10,790
friends and these timescales were

00:34:08,990 --> 00:34:12,140
immutable I mean they they shouldn't

00:34:10,790 --> 00:34:13,490
have been but of course they were

00:34:12,140 --> 00:34:14,930
attached to the release of a television

00:34:13,490 --> 00:34:17,870
program which meant that they had to be

00:34:14,930 --> 00:34:21,200
delivered by that point in time things

00:34:17,870 --> 00:34:23,900
like the player project were bored

00:34:21,200 --> 00:34:25,670
mandated projects these are things that

00:34:23,900 --> 00:34:30,380
have been promised to shareholders and

00:34:25,670 --> 00:34:32,690
as a solution for a solution for the the

00:34:30,380 --> 00:34:34,670
income during a financial crisis problem

00:34:32,690 --> 00:34:36,260
and so this is a very politically

00:34:34,670 --> 00:34:39,200
charged project and it had to happen

00:34:36,260 --> 00:34:40,580
ultimately it was a lot late and a lot

00:34:39,200 --> 00:34:42,650
over budget and a lot of people involved

00:34:40,580 --> 00:34:44,530
don't have jobs anymore but that's the

00:34:42,650 --> 00:34:46,790
that's the way these things play out

00:34:44,530 --> 00:34:49,370
many of the developers like I would say

00:34:46,790 --> 00:34:52,460
actually almost all developers fewer of

00:34:49,370 --> 00:34:56,180
the operations team were contract staff

00:34:52,460 --> 00:34:57,500
and so you can't fail to lose tribal

00:34:56,180 --> 00:34:58,910
knowledge of the end of a project when

00:34:57,500 --> 00:35:00,260
everyone goes I've had enough of this

00:34:58,910 --> 00:35:03,410
I'm not supporting it I'm going

00:35:00,260 --> 00:35:04,400
somewhere else and rolls off and not all

00:35:03,410 --> 00:35:06,980
the developers would fall to that

00:35:04,400 --> 00:35:08,470
competent so back into the 2011 when we

00:35:06,980 --> 00:35:10,940
were deploying vagin for the first time

00:35:08,470 --> 00:35:12,800
vagrant on Windows was was a real

00:35:10,940 --> 00:35:14,930
struggle and it involved lots of

00:35:12,800 --> 00:35:16,490
horrifying stuff like jruby and having

00:35:14,930 --> 00:35:20,180
to understand how gems worked and

00:35:16,490 --> 00:35:21,950
configuring putty for key based SSH

00:35:20,180 --> 00:35:23,690
access lots of leg work that's all

00:35:21,950 --> 00:35:24,890
solved now the vagrant project comes

00:35:23,690 --> 00:35:27,470
with installers where that's all dealt

00:35:24,890 --> 00:35:28,790
with but back in these times we were

00:35:27,470 --> 00:35:32,360
having to do a lot of acts sort of

00:35:28,790 --> 00:35:33,110
manual support and people who write CSS

00:35:32,360 --> 00:35:34,370
for a living

00:35:33,110 --> 00:35:35,750
saraly see why they should have to

00:35:34,370 --> 00:35:39,890
install a rubric and servitor on their

00:35:35,750 --> 00:35:41,570
box which I think it's probably fair and

00:35:39,890 --> 00:35:43,580
the team expanded rapidly and I don't

00:35:41,570 --> 00:35:46,580
think I've worked anywhere that's had a

00:35:43,580 --> 00:35:48,590
rapid team expansion that's also managed

00:35:46,580 --> 00:35:51,170
to hit deadlines room immediately as a

00:35:48,590 --> 00:35:52,910
result that and I'm sure we've all read

00:35:51,170 --> 00:35:54,620
mythical man month if you haven't go and

00:35:52,910 --> 00:35:58,880
get a copy it's as relevant now as it

00:35:54,620 --> 00:36:00,470
was 40 years ago you can't just keep

00:35:58,880 --> 00:36:04,190
adding people to the team there's

00:36:00,470 --> 00:36:07,690
overhead of communication and and that's

00:36:04,190 --> 00:36:11,470
going to set you back at least initially

00:36:07,690 --> 00:36:13,610
so the consequences of these sort of

00:36:11,470 --> 00:36:15,170
challenges that we face really was that

00:36:13,610 --> 00:36:17,170
the the automated testing side of things

00:36:15,170 --> 00:36:20,330
was pretty much ignored I mean we weed

00:36:17,170 --> 00:36:22,700
we were supporting the running of tests

00:36:20,330 --> 00:36:25,070
in the delivery pipeline but but weren't

00:36:22,700 --> 00:36:26,510
actually writing any ourselves the teams

00:36:25,070 --> 00:36:30,020
that were building the software we're

00:36:26,510 --> 00:36:32,030
not writing tests for it and and so the

00:36:30,020 --> 00:36:36,590
deliverables were not especially high

00:36:32,030 --> 00:36:38,120
quality and this combined with the with

00:36:36,590 --> 00:36:39,740
the time scale issues led to quite a lot

00:36:38,120 --> 00:36:42,890
blame storming call it finger pointing

00:36:39,740 --> 00:36:44,660
and and a lot of that was was just

00:36:42,890 --> 00:36:47,090
because we didn't have that kind of

00:36:44,660 --> 00:36:48,680
shared ownership we're all working for

00:36:47,090 --> 00:36:51,020
four different parts of the organization

00:36:48,680 --> 00:36:53,870
with different agendas different time

00:36:51,020 --> 00:36:57,530
scales and and the end of the day

00:36:53,870 --> 00:37:00,050
quality versus deliver ibly deliverable

00:36:57,530 --> 00:37:02,090
speed and there's always going to be a

00:37:00,050 --> 00:37:04,130
trade-off and one of the other we had a

00:37:02,090 --> 00:37:05,600
fairly high staff turnover so a lot of

00:37:04,130 --> 00:37:07,100
people who are working on on these

00:37:05,600 --> 00:37:09,020
projects kind of rolled off their

00:37:07,100 --> 00:37:11,830
contracts either because they were not

00:37:09,020 --> 00:37:16,160
deemed good enough or were themselves

00:37:11,830 --> 00:37:19,190
sick of doing the work and so we bought

00:37:16,160 --> 00:37:21,380
some more experts in and the experts

00:37:19,190 --> 00:37:24,290
that we brought in brought more

00:37:21,380 --> 00:37:27,650
challenges to the table specifically

00:37:24,290 --> 00:37:30,290
this was a resulted in a redevelopment

00:37:27,650 --> 00:37:32,270
of part the platform at quite a late

00:37:30,290 --> 00:37:34,400
stage to solve performance problems that

00:37:32,270 --> 00:37:37,490
we hadn't proven existed and that was a

00:37:34,400 --> 00:37:39,680
problem and so ultimately the platform

00:37:37,490 --> 00:37:43,700
the platform's limp over the finish line

00:37:39,680 --> 00:37:45,110
and get out there and but they take a

00:37:43,700 --> 00:37:46,460
lot of operation they're not always up

00:37:45,110 --> 00:37:49,849
there quite slow

00:37:46,460 --> 00:37:51,859
there are some issues to be solved they

00:37:49,849 --> 00:37:54,320
they haven't solved some of the issues

00:37:51,859 --> 00:37:57,200
that were problems with the.net platform

00:37:54,320 --> 00:37:59,510
and as a result of some of the rear

00:37:57,200 --> 00:38:01,510
Kotecha that went on and ultimately

00:37:59,510 --> 00:38:03,500
across the whole organization that the

00:38:01,510 --> 00:38:05,270
confidence in Drupal just sort of

00:38:03,500 --> 00:38:07,130
dropped right off and it was deemed then

00:38:05,270 --> 00:38:09,050
not to be a suitable platform for new

00:38:07,130 --> 00:38:12,080
development a whole new team of people

00:38:09,050 --> 00:38:14,359
came in mostly from the BBC and now

00:38:12,080 --> 00:38:16,609
they're they're rebuilding these sorts

00:38:14,359 --> 00:38:22,130
of things from scratch in a combination

00:38:16,609 --> 00:38:26,599
of java and PHP yes and that's let's not

00:38:22,130 --> 00:38:29,030
talk about so let's have a look at what

00:38:26,599 --> 00:38:32,270
we what we did there as an organization

00:38:29,030 --> 00:38:34,700
how do we help ITV well let's go back to

00:38:32,270 --> 00:38:37,460
the four pillars we put automation in

00:38:34,700 --> 00:38:41,750
right the we put puppet and Jenkins in

00:38:37,460 --> 00:38:44,030
place and two to reduce the amount

00:38:41,750 --> 00:38:47,359
manual tasks to improve the efficiency

00:38:44,030 --> 00:38:49,339
of some of the work that was going on we

00:38:47,359 --> 00:38:50,930
added monitoring zabbix went in we also

00:38:49,339 --> 00:38:53,210
put gray log in the the sort of

00:38:50,930 --> 00:38:55,310
availability of data to to the team's

00:38:53,210 --> 00:38:58,460
was was much priest as a resort of the

00:38:55,310 --> 00:39:00,740
word that we did and we we encourage

00:38:58,460 --> 00:39:02,510
sharing by providing shareable

00:39:00,740 --> 00:39:04,339
development environments and making the

00:39:02,510 --> 00:39:09,140
the logging and monitoring data

00:39:04,339 --> 00:39:10,369
available to to all the teams but

00:39:09,140 --> 00:39:11,839
ultimately when we come back to this

00:39:10,369 --> 00:39:13,670
list there's a there's a sort of

00:39:11,839 --> 00:39:17,570
fundamental missing point here and

00:39:13,670 --> 00:39:21,710
that's culture and we kind of didn't do

00:39:17,570 --> 00:39:23,480
anything with that and I think that's

00:39:21,710 --> 00:39:26,030
the main sort of learning point from all

00:39:23,480 --> 00:39:27,619
this really is that so their success

00:39:26,030 --> 00:39:30,859
we're technologists we're a technology

00:39:27,619 --> 00:39:34,609
conference you and I are probably all

00:39:30,859 --> 00:39:36,500
happiest saturda terminal bashing

00:39:34,609 --> 00:39:40,369
commands into a black window with the

00:39:36,500 --> 00:39:43,880
prompt on it or the very least cutting

00:39:40,369 --> 00:39:46,310
code or you know running scripts or what

00:39:43,880 --> 00:39:48,349
have you but success in anything like

00:39:46,310 --> 00:39:52,670
this is really about more than just the

00:39:48,349 --> 00:39:54,349
technology and a cultural factor will

00:39:52,670 --> 00:39:55,700
make or break any project it doesn't

00:39:54,349 --> 00:39:58,099
matter how good the technology is you

00:39:55,700 --> 00:39:59,900
can bring the the cutting-edge fully

00:39:58,099 --> 00:40:01,549
working to the table

00:39:59,900 --> 00:40:03,859
but if the cultural factors aren't there

00:40:01,549 --> 00:40:06,289
it's not going to work and that's that's

00:40:03,859 --> 00:40:08,029
really the bottom line and if you have

00:40:06,289 --> 00:40:09,980
culture that sort of suggests that

00:40:08,029 --> 00:40:11,809
failure isn't an option and you know if

00:40:09,980 --> 00:40:14,750
you make a make a mistake you can be

00:40:11,809 --> 00:40:16,490
fired or we must hit deadlines or costs

00:40:14,750 --> 00:40:18,319
or you know testing can wait doesn't

00:40:16,490 --> 00:40:19,609
matter we'll do that later let's just

00:40:18,319 --> 00:40:21,230
work everybody a bit harder they're all

00:40:19,609 --> 00:40:22,609
contractors right we've pay them a lot

00:40:21,230 --> 00:40:25,039
of money all those sorts of these

00:40:22,609 --> 00:40:26,660
cultural aspects will always undermine

00:40:25,039 --> 00:40:29,420
any technical quality that's that's

00:40:26,660 --> 00:40:31,549
going on but cultural change is hard

00:40:29,420 --> 00:40:33,740
right you're dealing with people we're

00:40:31,549 --> 00:40:37,010
not dealing with pieces of software and

00:40:33,740 --> 00:40:39,230
if I could upload new firmware into into

00:40:37,010 --> 00:40:41,450
an operations engineer and put them in a

00:40:39,230 --> 00:40:45,069
new task I would absolutely do that it's

00:40:41,450 --> 00:40:47,390
not possible you can't do it and

00:40:45,069 --> 00:40:49,490
cultural change it comes from the top

00:40:47,390 --> 00:40:51,799
right it comes down words if your

00:40:49,490 --> 00:40:54,079
manager doesn't have the cultural values

00:40:51,799 --> 00:40:56,119
that you have it's very difficult to get

00:40:54,079 --> 00:40:59,270
them recognized within your organization

00:40:56,119 --> 00:41:00,680
and so in a company of 4,000 people you

00:40:59,270 --> 00:41:02,809
can imagine how deep that stack is

00:41:00,680 --> 00:41:06,140
before you start talking to two people

00:41:02,809 --> 00:41:08,089
who have the same culture as you it's a

00:41:06,140 --> 00:41:10,279
long way down like the people who sat at

00:41:08,089 --> 00:41:12,680
the board table shareholders they have

00:41:10,279 --> 00:41:14,299
no idea what automation is or what

00:41:12,680 --> 00:41:15,890
continuous delivery is or why that would

00:41:14,299 --> 00:41:18,920
be important and you can sell them on it

00:41:15,890 --> 00:41:20,480
but it takes time and it's again not as

00:41:18,920 --> 00:41:22,700
easy as putting a new firmware in your

00:41:20,480 --> 00:41:25,609
board although give it a try maybe it'll

00:41:22,700 --> 00:41:27,440
work for you and cultural change on the

00:41:25,609 --> 00:41:30,020
pressure I mean it change its in itself

00:41:27,440 --> 00:41:31,549
is hard cultural change is hard change

00:41:30,020 --> 00:41:33,799
under pressure is really difficult and

00:41:31,549 --> 00:41:36,859
cultural change on the pressure is just

00:41:33,799 --> 00:41:39,770
a combination of nightmares and there's

00:41:36,859 --> 00:41:42,500
a book written by Tom DeMarco which some

00:41:39,770 --> 00:41:45,020
of you may have read called slack which

00:41:42,500 --> 00:41:48,710
is about making time in your

00:41:45,020 --> 00:41:51,619
organization for for basically slack

00:41:48,710 --> 00:41:54,170
activities and and he says paraphrase

00:41:51,619 --> 00:41:56,630
slack is the lubricant to change bad

00:41:54,170 --> 00:41:58,760
companies can only obsess about removing

00:41:56,630 --> 00:42:00,980
it that's entirely true if you're

00:41:58,760 --> 00:42:02,900
obsessed with deadlines and you're

00:42:00,980 --> 00:42:06,109
working everybody to the quicker the

00:42:02,900 --> 00:42:07,460
fingers and you're not going to get

00:42:06,109 --> 00:42:09,319
cultural change out and you're not going

00:42:07,460 --> 00:42:11,569
to get risk-taking out and no one no

00:42:09,319 --> 00:42:13,280
one's going to do new exciting things in

00:42:11,569 --> 00:42:15,510
that kind of environment

00:42:13,280 --> 00:42:17,670
all of this kind of stuff takes time and

00:42:15,510 --> 00:42:20,040
as as managers within a large

00:42:17,670 --> 00:42:22,470
organization we have to find a way of

00:42:20,040 --> 00:42:25,110
providing that time to our people so

00:42:22,470 --> 00:42:31,700
that they can excel otherwise you end up

00:42:25,110 --> 00:42:35,280
with a bad taste in your mouth that's me

00:42:31,700 --> 00:42:36,930
I'll take any questions either about the

00:42:35,280 --> 00:42:38,130
the technologies that we used or maybe

00:42:36,930 --> 00:42:40,500
some of the specifics about the

00:42:38,130 --> 00:42:55,860
organization but maybe nine too much

00:42:40,500 --> 00:42:58,320
details any questions can I ask how

00:42:55,860 --> 00:43:01,980
often they are spinning our branches of

00:42:58,320 --> 00:43:05,100
their code now as a organization is kind

00:43:01,980 --> 00:43:07,110
of so-so i mentioned that the dotnet

00:43:05,100 --> 00:43:10,620
platform was was going out on a sort of

00:43:07,110 --> 00:43:12,150
six weekly basis in parallel with the

00:43:10,620 --> 00:43:15,360
work we were doing in the in the linux

00:43:12,150 --> 00:43:19,590
world we also had guys from thought

00:43:15,360 --> 00:43:21,810
works doing a lot of legwork on bringing

00:43:19,590 --> 00:43:26,100
that kind of automating into the dotnet

00:43:21,810 --> 00:43:29,490
world and the the releases were were

00:43:26,100 --> 00:43:33,870
still not frequent by kind of IMVU

00:43:29,490 --> 00:43:36,060
standards but they were arguably weekly

00:43:33,870 --> 00:43:38,520
possibly fortnightly but much less

00:43:36,060 --> 00:43:40,290
broken and and there was much higher

00:43:38,520 --> 00:43:42,690
confidence in be able to release those

00:43:40,290 --> 00:43:44,310
things during the day rather than having

00:43:42,690 --> 00:43:45,390
to drag engineers in overnight I mean

00:43:44,310 --> 00:43:48,270
there were some architectural things

00:43:45,390 --> 00:43:50,790
that that essentially when we're not

00:43:48,270 --> 00:43:52,350
going to be fixed because the decision

00:43:50,790 --> 00:43:54,840
had already made to back the Drupal

00:43:52,350 --> 00:43:59,130
horse and which meant not many of those

00:43:54,840 --> 00:44:01,020
changes were went on in the in the Linux

00:43:59,130 --> 00:44:03,840
world we were able to release multiple

00:44:01,020 --> 00:44:06,510
times a day but because there was only

00:44:03,840 --> 00:44:10,110
limited automated testing and we would

00:44:06,510 --> 00:44:12,690
only release those sorts of changes you

00:44:10,110 --> 00:44:15,270
know cautiously shall we say bit on

00:44:12,690 --> 00:44:16,890
average they're doing multi multiple

00:44:15,270 --> 00:44:20,430
times today they're doing releases yeah

00:44:16,890 --> 00:44:22,170
they certainly were at the point at

00:44:20,430 --> 00:44:24,780
which all this stuff started getting

00:44:22,170 --> 00:44:26,220
religious pinups are under an hour yeah

00:44:24,780 --> 00:44:28,800
yeah much less than that

00:44:26,220 --> 00:44:30,690
I mean the deployment of a Drupal site

00:44:28,800 --> 00:44:32,310
if you're doing it if you're automating

00:44:30,690 --> 00:44:33,420
and doing it right there's no reason why

00:44:32,310 --> 00:44:34,830
it should take more than a couple of

00:44:33,420 --> 00:44:36,119
minutes you're just copying files around

00:44:34,830 --> 00:44:38,520
right depends on your database

00:44:36,119 --> 00:44:40,230
migrations but one last thing their dev

00:44:38,520 --> 00:44:42,990
ops team you said there are 14 to begin

00:44:40,230 --> 00:44:47,340
with what's that scale down to now for

00:44:42,990 --> 00:44:50,430
the Linux part and so the right now

00:44:47,340 --> 00:44:55,550
there are I believe two or three members

00:44:50,430 --> 00:44:58,950
of kind of third line linux engineers

00:44:55,550 --> 00:45:00,390
but the the frontline staff there are

00:44:58,950 --> 00:45:02,640
still that many people there because

00:45:00,390 --> 00:45:05,880
they've expanded the the business hours

00:45:02,640 --> 00:45:08,010
coverage for a start and also that team

00:45:05,880 --> 00:45:10,050
have taken on Linux responsibilities but

00:45:08,010 --> 00:45:12,660
it's troubleshooting and escalation as

00:45:10,050 --> 00:45:20,099
opposed to kind of full-on deep Linux

00:45:12,660 --> 00:45:22,920
knowledge so the 14 14 was for the

00:45:20,099 --> 00:45:25,020
entire operations team and the existing

00:45:22,920 --> 00:45:26,550
operations team took on more Linux

00:45:25,020 --> 00:45:28,020
responsibilities they weren't sort of

00:45:26,550 --> 00:45:30,150
chopped and changed for those people

00:45:28,020 --> 00:45:32,400
although some hiring went on to add some

00:45:30,150 --> 00:45:33,900
more Linux capability into that team but

00:45:32,400 --> 00:45:36,270
ultimately my feeling is that if you're

00:45:33,900 --> 00:45:41,250
if you're doing DevOps in the right way

00:45:36,270 --> 00:45:43,619
and hiring low-end Linux operators

00:45:41,250 --> 00:45:45,089
doesn't really help because most of the

00:45:43,619 --> 00:45:46,770
most of the troubleshooting you're going

00:45:45,089 --> 00:45:48,480
to do is complicate it and so all you're

00:45:46,770 --> 00:45:55,140
doing there is adding a new set of

00:45:48,480 --> 00:45:57,210
people to triage through hello you said

00:45:55,140 --> 00:46:02,089
that there's a monitoring system that

00:45:57,210 --> 00:46:04,980
you used in 2011 and is there any change

00:46:02,089 --> 00:46:08,640
three or two three years after that is

00:46:04,980 --> 00:46:11,450
there better systems for this now okay

00:46:08,640 --> 00:46:14,369
so question is am I still using zabbix

00:46:11,450 --> 00:46:20,099
at it and the the answer is yes but we

00:46:14,369 --> 00:46:23,070
do still use a box we we find it it

00:46:20,099 --> 00:46:25,080
suffices for the most part like most

00:46:23,070 --> 00:46:29,099
customers that we that we work with and

00:46:25,080 --> 00:46:30,420
are of a certain size right and alex is

00:46:29,099 --> 00:46:33,330
more than capable of doing that we also

00:46:30,420 --> 00:46:35,160
have a set a set of libraries and

00:46:33,330 --> 00:46:37,830
patterns that we can reuse for deploying

00:46:35,160 --> 00:46:38,940
that sort of monitoring and so deploying

00:46:37,830 --> 00:46:41,130
zabbix florist takes an

00:46:38,940 --> 00:46:42,770
dunoon whereas doing something else

00:46:41,130 --> 00:46:47,400
would involve starting from scratch and

00:46:42,770 --> 00:46:48,930
the the other monitoring systems or the

00:46:47,400 --> 00:46:50,310
other sort of the newer technologies

00:46:48,930 --> 00:46:53,520
that are around now things that are

00:46:50,310 --> 00:46:55,109
based on graphics and collect d and and

00:46:53,520 --> 00:46:57,270
all the other kind of exciting things in

00:46:55,109 --> 00:46:59,220
that world which if you were at monster

00:46:57,270 --> 00:47:02,849
ama recently you probably heard a lot

00:46:59,220 --> 00:47:06,300
about and for me there not a fully

00:47:02,849 --> 00:47:09,720
formed solution yet and we make our kind

00:47:06,300 --> 00:47:11,760
of living taking solutions to people and

00:47:09,720 --> 00:47:13,319
so we already have a day form solution

00:47:11,760 --> 00:47:14,730
and the point at which we find that

00:47:13,319 --> 00:47:16,200
there's a good way of plugging all those

00:47:14,730 --> 00:47:17,339
new shiny exciting components together

00:47:16,200 --> 00:47:19,710
in a way that means that we can deliver

00:47:17,339 --> 00:47:22,380
them quickly and reliably then we'll be

00:47:19,710 --> 00:47:23,910
doing that as well so just a quick

00:47:22,380 --> 00:47:25,589
reminder i'll be doing to talk about

00:47:23,910 --> 00:47:27,119
monitoring in the infrastructure oscoda

00:47:25,589 --> 00:47:29,640
age about specifically those tools

00:47:27,119 --> 00:47:31,800
tomorrow cool go and see chris's talk

00:47:29,640 --> 00:47:35,760
about monitoring he's a big fan of

00:47:31,800 --> 00:47:38,490
monitoring and that's okay chris is also

00:47:35,760 --> 00:47:40,170
running if you're interested in in dev

00:47:38,490 --> 00:47:41,640
ops in general in your ear today which

00:47:40,170 --> 00:47:44,099
of course you are because i'm talking to

00:47:41,640 --> 00:47:47,010
you in this room chris is running a

00:47:44,099 --> 00:47:48,839
DevOps meetup know someone is running a

00:47:47,010 --> 00:47:50,849
demos ok there's a there's a gentleman

00:47:48,839 --> 00:47:52,829
over there in a in a wine colored

00:47:50,849 --> 00:47:55,680
t-shirt who was running a DevOps meet up

00:47:52,829 --> 00:47:57,150
in in prague this evening go and talk to

00:47:55,680 --> 00:48:00,839
him because apparently neither i nor

00:47:57,150 --> 00:48:03,569
chris know anything about it cool jump

00:48:00,839 --> 00:48:05,190
for you mentioned testing yes what kind

00:48:03,569 --> 00:48:07,859
of testing were they doing what was

00:48:05,190 --> 00:48:11,220
automated and he kind of TV beach beat

00:48:07,859 --> 00:48:13,770
up stuff yeah so the components that we

00:48:11,220 --> 00:48:18,290
we were essentially spiking were around

00:48:13,770 --> 00:48:20,609
capybara and cucumber size of things and

00:48:18,290 --> 00:48:24,859
that ultimately may not have been the

00:48:20,609 --> 00:48:29,579
right tool chain partly because the the

00:48:24,859 --> 00:48:32,819
the technology dependencies for making

00:48:29,579 --> 00:48:34,260
that work certainly on on the Red Hat 5

00:48:32,819 --> 00:48:37,950
environment working I was actually quite

00:48:34,260 --> 00:48:40,079
arduous we had to rebuild all of like QT

00:48:37,950 --> 00:48:43,740
windowing environments and and all sorts

00:48:40,079 --> 00:48:46,560
of new things plus the the testing

00:48:43,740 --> 00:48:48,540
tooling was then all Ruby and given that

00:48:46,560 --> 00:48:50,520
we were hiring PHP developers for the

00:48:48,540 --> 00:48:51,690
most part that didn't really sit

00:48:50,520 --> 00:48:54,000
properly

00:48:51,690 --> 00:48:55,800
there were there was an existing

00:48:54,000 --> 00:48:57,839
automated test function within the

00:48:55,800 --> 00:49:00,930
organization who were doing kind of

00:48:57,839 --> 00:49:02,609
cooking style testing on the Windows

00:49:00,930 --> 00:49:04,079
platform we assume that that we'd be

00:49:02,609 --> 00:49:06,210
able to sort of make use of the same

00:49:04,079 --> 00:49:07,740
sorts of tooling but ultimately didn't

00:49:06,210 --> 00:49:09,150
really happen it wasn't adopted by the

00:49:07,740 --> 00:49:13,460
dev teams we probably could have helped

00:49:09,150 --> 00:49:15,839
more but that was largely where we're at

00:49:13,460 --> 00:49:19,040
right now I couldn't say how I do it

00:49:15,839 --> 00:49:21,180
differently I guess there's some sort of

00:49:19,040 --> 00:49:22,980
selenium based things that might be

00:49:21,180 --> 00:49:26,460
worth looking at in this and what's me

00:49:22,980 --> 00:49:28,290
be cat it's an area I'm not especially

00:49:26,460 --> 00:49:29,940
familiar with it's all a bit kind of

00:49:28,290 --> 00:49:33,390
program II for me I'm a bit further down

00:49:29,940 --> 00:49:37,130
the stack these days but yeah divil to

00:49:33,390 --> 00:49:39,359
know how we do better so it's an area of

00:49:37,130 --> 00:49:40,560
that I should probably read a bit more

00:49:39,359 --> 00:49:42,480
about because I think there are ducks

00:49:40,560 --> 00:49:43,950
probably moved on quite a lot more in

00:49:42,480 --> 00:49:47,430
three years than the much of the other

00:49:43,950 --> 00:49:49,770
stuff so sort of following off that

00:49:47,430 --> 00:49:51,930
there's a bit lab tomorrow about five

00:49:49,770 --> 00:49:53,730
o'clock I think but my question was

00:49:51,930 --> 00:49:55,859
about it follows on from that about

00:49:53,730 --> 00:49:58,650
budgeting performance testing as part of

00:49:55,859 --> 00:50:00,869
your deployment was not as functional

00:49:58,650 --> 00:50:04,140
testing yeah so we did so the

00:50:00,869 --> 00:50:06,089
non-functional stuff was the test that

00:50:04,140 --> 00:50:09,260
we that we put together for that were

00:50:06,089 --> 00:50:14,760
not part of the deployment pipeline and

00:50:09,260 --> 00:50:17,609
so and we engage with a third particle

00:50:14,760 --> 00:50:23,569
so astir who have a product called cloud

00:50:17,609 --> 00:50:25,560
test which allows you to to build test

00:50:23,569 --> 00:50:26,640
kind of test building blocks and plug

00:50:25,560 --> 00:50:28,619
them together it's a little bit like

00:50:26,640 --> 00:50:30,300
editing video there's a sort of timeline

00:50:28,619 --> 00:50:33,300
and you go I want four days and 10 of

00:50:30,300 --> 00:50:35,190
these and and you can put sort of random

00:50:33,300 --> 00:50:37,819
based decision points in there and I

00:50:35,190 --> 00:50:42,510
it's a really good tool pretty expensive

00:50:37,819 --> 00:50:43,980
but but it also for us saved a lot of a

00:50:42,510 --> 00:50:47,099
lot of time and grief because it has a

00:50:43,980 --> 00:50:49,319
when you run the tests it can plug into

00:50:47,099 --> 00:50:51,869
agents running behind your firewall and

00:50:49,319 --> 00:50:53,520
report back what the the actual result

00:50:51,869 --> 00:50:55,589
of values so you get to see a dashboard

00:50:53,520 --> 00:50:57,150
of what are the tests doing what am IA

00:50:55,589 --> 00:51:00,599
one of the areas look like what are the

00:50:57,150 --> 00:51:02,460
actual error codes coming back what's

00:51:00,599 --> 00:51:04,440
the database doing you know actually

00:51:02,460 --> 00:51:04,829
pulling out my squirrel statistics and

00:51:04,440 --> 00:51:06,539
that sort of

00:51:04,829 --> 00:51:10,289
thing so they're definitely worth worth

00:51:06,539 --> 00:51:13,289
checking out but because of the because

00:51:10,289 --> 00:51:15,299
of what was involved some of that we do

00:51:13,289 --> 00:51:18,420
sort of pre-release or pre pre large

00:51:15,299 --> 00:51:21,900
release beyond that the non functional

00:51:18,420 --> 00:51:24,959
characteristics we measured page

00:51:21,900 --> 00:51:27,630
response times using what combination of

00:51:24,959 --> 00:51:29,609
Pingdom but also from the from the logs

00:51:27,630 --> 00:51:31,349
on the traffic directors on the front

00:51:29,609 --> 00:51:34,229
end and put that through zabbix so you

00:51:31,349 --> 00:51:37,789
see how they have the page performance

00:51:34,229 --> 00:51:42,239
changed in trend after a release I

00:51:37,789 --> 00:51:44,459
Knossos there are are pushing kind of

00:51:42,239 --> 00:51:46,589
integration hooks for their tool so in

00:51:44,459 --> 00:51:48,959
theory you can integrate it with Jenkins

00:51:46,589 --> 00:51:51,749
and do it as part of a performance

00:51:48,959 --> 00:51:53,309
regression test but the price attacker

00:51:51,749 --> 00:51:55,200
was sort of five or six figures which

00:51:53,309 --> 00:51:56,910
was something that we try to get in

00:51:55,200 --> 00:51:58,380
there but ultimately it was a difficult

00:51:56,910 --> 00:52:05,609
conversation to have when there were

00:51:58,380 --> 00:52:11,249
other things to spend money on great all

00:52:05,609 --> 00:52:15,199
right thank any other questions right

00:52:11,249 --> 00:52:15,199
then give it up for John thank you

00:52:17,860 --> 00:52:19,920

YouTube URL: https://www.youtube.com/watch?v=euRbvxdEeLU


