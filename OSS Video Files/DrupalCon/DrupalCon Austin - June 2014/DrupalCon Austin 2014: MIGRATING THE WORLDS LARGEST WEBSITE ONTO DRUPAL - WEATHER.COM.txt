Title: DrupalCon Austin 2014: MIGRATING THE WORLDS LARGEST WEBSITE ONTO DRUPAL - WEATHER.COM
Publication date: 2014-06-03
Playlist: DrupalCon Austin - June 2014
Description: 
	Speakers: Silicon.ValetchrisHill
The Weather Channel (TWC) has one of the most highly visited web sites in the world (www.weather.com). And, it's certainly among the largest Drupal sites under development.

The approach was to break the engagement into two phases, the first to address editorial concerns and the second to replace legacy systems and take over the front end serving.

Join Jason Smith (Mediacurrent) and Chris Hill (TWC) to get more insight into the architectural decisions that allowed us to address this complex site's requirements. Learn how Mediacurrent and TWC were able to work together to both understand and efficiently tackle engineering challenges as they arose.

Here are a few of the pain points that TWC came to us with, and that we will discuss:

With over 2 million locations with unique forecasts cache efficiency was low.
Feature velocity was a challenge as requirements sometimes change quickly
Too many hurdles in the current platform to content generation
Too many legacy platforms to support
Some novel innovations that were created within the Drupal framework to support TWC:

Presentation framework allows independent teams to create flexible widgets that can vary in presentation based on the consuming device (ESI, native, inline or AngularJS)
How mobile has become a hub that supports the mobile apps
How the content workflow is write once use many places
Highly leveraging ESI and a novel routing concept to increase cache efficiency
Captions: 
	00:00:00,030 --> 00:00:04,830
welcome everybody we're gonna be doing

00:00:02,700 --> 00:00:06,359
the Weather Channel case study I know

00:00:04,830 --> 00:00:07,649
you're all very excited about it I'm

00:00:06,359 --> 00:00:11,490
doing a quick head count I count about

00:00:07,649 --> 00:00:12,710
12 people they're all lame jokes that's

00:00:11,490 --> 00:00:15,000
all I've got

00:00:12,710 --> 00:00:18,260
I'm just setting it up if I lower the

00:00:15,000 --> 00:00:18,260
bar now there's nowhere to go but up

00:00:18,320 --> 00:00:29,220
yikes so yeah we're going to talk a

00:00:26,849 --> 00:00:30,539
little about the Weather Channel what we

00:00:29,220 --> 00:00:32,130
did where we're going and that sort of

00:00:30,539 --> 00:00:33,570
thing but first some introductions I

00:00:32,130 --> 00:00:36,000
want to introduce one of the more

00:00:33,570 --> 00:00:42,180
brilliant web technologists I know my

00:00:36,000 --> 00:00:43,649
name is Jason this is also Chris my name

00:00:42,180 --> 00:00:45,719
is crystal vice president of web

00:00:43,649 --> 00:00:48,680
development at The Weather Channel and

00:00:45,719 --> 00:00:51,120
it great to be here and I'm Jason Smith

00:00:48,680 --> 00:00:53,760
enterprise solutions architect with

00:00:51,120 --> 00:00:55,350
media current media current folks are

00:00:53,760 --> 00:00:59,480
spread out throughout the audience it's

00:00:55,350 --> 00:01:04,799
a little over here or every word nothing

00:00:59,480 --> 00:01:06,780
they can't all be winners you guys used

00:01:04,799 --> 00:01:10,350
to it I'm sorry I've been living it for

00:01:06,780 --> 00:01:11,939
a long time so we're gonna start with um

00:01:10,350 --> 00:01:13,409
you know talking about who the weather

00:01:11,939 --> 00:01:14,729
channel is Chris will introduce the

00:01:13,409 --> 00:01:17,009
company what some of the challenges they

00:01:14,729 --> 00:01:18,450
deal with on a regular basis are we're

00:01:17,009 --> 00:01:20,430
gonna talk about what the selection

00:01:18,450 --> 00:01:22,770
process was how we arrived at Drupal why

00:01:20,430 --> 00:01:26,520
it was a good choice talk about what we

00:01:22,770 --> 00:01:28,020
did for the Drupal project I have slides

00:01:26,520 --> 00:01:29,700
that go into deep technical detail but

00:01:28,020 --> 00:01:31,170
we're probably not gonna have time to go

00:01:29,700 --> 00:01:33,450
into them if there's a lot of interest

00:01:31,170 --> 00:01:34,829
I'll try to do it during the QA or if we

00:01:33,450 --> 00:01:36,720
have extra time I'll spend some time on

00:01:34,829 --> 00:01:38,640
them next we're gonna talk about where

00:01:36,720 --> 00:01:44,250
we're going next and hopefully have some

00:01:38,640 --> 00:01:45,420
time for Q a apologize if I'm nervous

00:01:44,250 --> 00:01:47,520
because my boss is sitting in the front

00:01:45,420 --> 00:01:50,220
row and he's going to be grading me

00:01:47,520 --> 00:01:51,149
every minute of the day I'm sure first I

00:01:50,220 --> 00:01:52,200
want to tell you guys a little bit about

00:01:51,149 --> 00:01:54,689
the Weather Channel know most people

00:01:52,200 --> 00:01:57,990
have heard about the Weather Channel but

00:01:54,689 --> 00:02:01,409
it's an amazing company been there for

00:01:57,990 --> 00:02:03,030
14 years we really care about people and

00:02:01,409 --> 00:02:04,020
trying to keep people safe trying to

00:02:03,030 --> 00:02:06,210
make sure that everybody's got the

00:02:04,020 --> 00:02:07,840
latest weather for where they are and

00:02:06,210 --> 00:02:10,300
what

00:02:07,840 --> 00:02:12,940
and we do this through the use of what

00:02:10,300 --> 00:02:16,959
we call our four SS the four SS are

00:02:12,940 --> 00:02:19,390
science stories services and safety so

00:02:16,959 --> 00:02:22,420
through stories we try to tell stories

00:02:19,390 --> 00:02:24,510
that are inspiring and illuminating to

00:02:22,420 --> 00:02:27,010
to our viewers and our in our customers

00:02:24,510 --> 00:02:30,489
we use the best in science to try to

00:02:27,010 --> 00:02:32,010
make our forecast local and appropriate

00:02:30,489 --> 00:02:34,140
for where you are and what you're doing

00:02:32,010 --> 00:02:36,280
services so that you can receive

00:02:34,140 --> 00:02:38,709
important information that makes your

00:02:36,280 --> 00:02:40,540
family safe even if you're not on our

00:02:38,709 --> 00:02:42,819
website or not using our mobile apps we

00:02:40,540 --> 00:02:44,049
can send you alerts we can do things to

00:02:42,819 --> 00:02:47,769
try to keep you safe even when you're

00:02:44,049 --> 00:02:49,989
not tightly engaged with us and again

00:02:47,769 --> 00:02:52,720
safety kind of already covered that but

00:02:49,989 --> 00:02:53,829
safety is extremely important to us we

00:02:52,720 --> 00:02:56,290
want to be there for you when there's

00:02:53,829 --> 00:02:59,110
severe weather we invest a lot of money

00:02:56,290 --> 00:03:01,510
and time a lot of highly dedicated

00:02:59,110 --> 00:03:04,269
people trying to make sure that we are

00:03:01,510 --> 00:03:06,430
bringing you accurate and relevant

00:03:04,269 --> 00:03:08,980
information so that you say stay you

00:03:06,430 --> 00:03:10,599
stay safe and your family is safe when

00:03:08,980 --> 00:03:12,130
there's severe weather and when you're

00:03:10,599 --> 00:03:17,530
just concerned about the pollen being

00:03:12,130 --> 00:03:21,850
high and overall we like to remind our

00:03:17,530 --> 00:03:24,400
customers that it's amazing out there so

00:03:21,850 --> 00:03:27,489
just some and I cannot even read this

00:03:24,400 --> 00:03:29,859
screen because it's too small but just

00:03:27,489 --> 00:03:33,010
some some basic metrics about our site

00:03:29,859 --> 00:03:34,560
on a daily basis we have about 50

00:03:33,010 --> 00:03:36,670
million pageviews

00:03:34,560 --> 00:03:39,639
about half of those come back to our

00:03:36,670 --> 00:03:41,769
origin back to our actual servers we

00:03:39,639 --> 00:03:46,389
have about 30 million unique visitors a

00:03:41,769 --> 00:03:48,880
month we all host that through three day

00:03:46,389 --> 00:03:53,769
three data centers with about 144

00:03:48,880 --> 00:03:55,989
servers and we have approximately 17,000

00:03:53,769 --> 00:03:57,940
articles that our content team has been

00:03:55,989 --> 00:03:59,590
curating over a number of years some

00:03:57,940 --> 00:04:02,709
that they reuse some that they don't

00:03:59,590 --> 00:04:08,019
reuse and I can't see what the other

00:04:02,709 --> 00:04:10,000
things are and also another important

00:04:08,019 --> 00:04:11,980
thing that we provide is dynamic weather

00:04:10,000 --> 00:04:14,950
maps we have some map generation

00:04:11,980 --> 00:04:15,910
software that we use on our website we

00:04:14,950 --> 00:04:18,400
use an art on our

00:04:15,910 --> 00:04:21,280
our television channel there's lots and

00:04:18,400 --> 00:04:24,870
lots of weather maps radar satellite

00:04:21,280 --> 00:04:27,460
shields that show you know temperatures

00:04:24,870 --> 00:04:30,480
cold fronts warm fronts things like that

00:04:27,460 --> 00:04:33,490
so a lot of very engaging weather maps

00:04:30,480 --> 00:04:36,790
so one thing that was really kind of a

00:04:33,490 --> 00:04:39,520
crucial point for us in October 2012 was

00:04:36,790 --> 00:04:42,760
superstorm sandy I think most people

00:04:39,520 --> 00:04:45,940
were familiar with superstorm sandy it's

00:04:42,760 --> 00:04:49,240
you know our our Super Bowl you know we

00:04:45,940 --> 00:04:51,070
heard a talk last night from a guy from

00:04:49,240 --> 00:04:52,660
Turner and he was describing their Super

00:04:51,070 --> 00:04:55,720
Bowl is when they were when they were

00:04:52,660 --> 00:04:57,910
handling March Madness for us our Super

00:04:55,720 --> 00:04:59,380
Bowl comes you know multiple times a

00:04:57,910 --> 00:05:02,920
year when we have tornados and

00:04:59,380 --> 00:05:05,410
hurricanes and severe weather superstorm

00:05:02,920 --> 00:05:07,360
sandy was a special condition where we

00:05:05,410 --> 00:05:10,420
did three hundred million pageviews on

00:05:07,360 --> 00:05:12,970
one day now granted all 300 million were

00:05:10,420 --> 00:05:15,360
a lot of them were highly cacheable but

00:05:12,970 --> 00:05:18,370
it goes too it goes to the point that

00:05:15,360 --> 00:05:20,530
you know we we desperately have to have

00:05:18,370 --> 00:05:24,850
a highly cacheable environment for the

00:05:20,530 --> 00:05:28,600
site that we present but we've got tons

00:05:24,850 --> 00:05:31,060
and tons of traffic on that day over

00:05:28,600 --> 00:05:34,210
that that week of the storm we handled

00:05:31,060 --> 00:05:36,640
about a billion requests to our site and

00:05:34,210 --> 00:05:39,100
we presented over 170 million videos

00:05:36,640 --> 00:05:40,630
video streams and video streams are not

00:05:39,100 --> 00:05:43,480
a big deal because everybody knows that

00:05:40,630 --> 00:05:45,640
videos are cached but nonetheless the

00:05:43,480 --> 00:05:48,700
engagement is important it's important

00:05:45,640 --> 00:05:50,710
thing to to to recognize that when when

00:05:48,700 --> 00:05:52,240
severe weather happens people come to us

00:05:50,710 --> 00:05:53,620
and they rely on us and we have to make

00:05:52,240 --> 00:05:58,900
sure that our systems are there and

00:05:53,620 --> 00:06:00,220
ready to serve excuse me I wanted to

00:05:58,900 --> 00:06:02,380
take the opportunity to point something

00:06:00,220 --> 00:06:05,140
out while we're on the same subject the

00:06:02,380 --> 00:06:06,730
this is a Omniture report from the day

00:06:05,140 --> 00:06:08,320
of the superstorm sandy or the week of

00:06:06,730 --> 00:06:09,550
the superstorm sandy you'll see that

00:06:08,320 --> 00:06:12,280
their nominal traffic was about a

00:06:09,550 --> 00:06:14,610
hundred million pageviews and in one day

00:06:12,280 --> 00:06:17,440
it jumped to three times that number

00:06:14,610 --> 00:06:19,930
topic of scalability is something comes

00:06:17,440 --> 00:06:21,760
up a lot it's very important topic but

00:06:19,930 --> 00:06:25,169
it's a topic that causes enough pain it

00:06:21,760 --> 00:06:25,169
causes a bit of topical depression

00:06:25,870 --> 00:06:32,150
yikes you're welcome for that one but

00:06:31,039 --> 00:06:34,219
the point I was trying to make with this

00:06:32,150 --> 00:06:36,590
slide is actually that the way the

00:06:34,219 --> 00:06:39,289
current architecture is built you have

00:06:36,590 --> 00:06:41,599
to build you have to build in capacity

00:06:39,289 --> 00:06:43,490
for this spike so we have servers that

00:06:41,599 --> 00:06:45,409
are there ready at all times to handle

00:06:43,490 --> 00:06:47,569
this spike what we'd like to do is move

00:06:45,409 --> 00:06:51,080
to a platform a system of platform a

00:06:47,569 --> 00:06:53,629
framework insert other word here that'll

00:06:51,080 --> 00:06:55,099
allow you to scale up on demand we want

00:06:53,629 --> 00:06:56,500
to move to the cloud rather than having

00:06:55,099 --> 00:06:58,610
all of these servers ready all the time

00:06:56,500 --> 00:06:59,870
90% of the time we've got servers that

00:06:58,610 --> 00:07:01,580
are just sitting idle what would be

00:06:59,870 --> 00:07:03,759
really nice if we could scale up when

00:07:01,580 --> 00:07:08,900
something like that happens

00:07:03,759 --> 00:07:11,300
all right so in in October in 2012 we

00:07:08,900 --> 00:07:12,770
decided that we we made the decision

00:07:11,300 --> 00:07:16,610
that we wanted to rebuild our digital

00:07:12,770 --> 00:07:18,860
infrastructure we we have a solid system

00:07:16,610 --> 00:07:21,080
that that works it's it's there it

00:07:18,860 --> 00:07:22,580
delivers but we knew it didn't give us

00:07:21,080 --> 00:07:25,340
the feature velocity that we needed to

00:07:22,580 --> 00:07:27,289
move forward in the next 15 years so we

00:07:25,340 --> 00:07:29,270
created this we established a project

00:07:27,289 --> 00:07:31,580
and sold it we call it the digital

00:07:29,270 --> 00:07:33,889
infrastructure reboot basically going

00:07:31,580 --> 00:07:35,750
through an inn cleaning house rebuilding

00:07:33,889 --> 00:07:37,129
everything from scratch two main

00:07:35,750 --> 00:07:40,129
components of that digital

00:07:37,129 --> 00:07:42,680
infrastructure reboot first was our data

00:07:40,129 --> 00:07:45,680
services layer providing the best and

00:07:42,680 --> 00:07:47,659
data services to our products we'll talk

00:07:45,680 --> 00:07:49,370
a little bit more about that later but

00:07:47,659 --> 00:07:52,250
then the content management system which

00:07:49,370 --> 00:07:54,529
is why you're here today so as we went

00:07:52,250 --> 00:07:55,909
through to determine what the content

00:07:54,529 --> 00:07:58,520
management system was that the Weather

00:07:55,909 --> 00:08:01,039
Channel needed we developed an objective

00:07:58,520 --> 00:08:04,039
scorecard that had about 20 criteria on

00:08:01,039 --> 00:08:06,229
it and in some of those criteria the

00:08:04,039 --> 00:08:08,810
main ones you feature velocity you know

00:08:06,229 --> 00:08:10,729
being able to having a system that

00:08:08,810 --> 00:08:13,129
allowed us to rapidly you know create

00:08:10,729 --> 00:08:16,430
content great products and deploy them

00:08:13,129 --> 00:08:18,050
to the site the reuse of content so I

00:08:16,430 --> 00:08:20,150
can take a module or something that I

00:08:18,050 --> 00:08:23,259
build on big web and I can reuse it on

00:08:20,150 --> 00:08:25,939
mobile web or perhaps even a mobile app

00:08:23,259 --> 00:08:28,129
scalability Jason already mentioned our

00:08:25,939 --> 00:08:30,680
server sit idle you know 80 percent of

00:08:28,129 --> 00:08:34,520
the time a lot of them do so we want to

00:08:30,680 --> 00:08:36,930
have a situation where we run with what

00:08:34,520 --> 00:08:40,279
we need until we need more and then we

00:08:36,930 --> 00:08:43,830
scale-up by utilizing the cloud

00:08:40,279 --> 00:08:45,540
maintainability trying to have a a set

00:08:43,830 --> 00:08:46,589
of tools and set of software products

00:08:45,540 --> 00:08:49,230
that we build that are easy to maintain

00:08:46,589 --> 00:08:53,130
you know ideally easy to build and easy

00:08:49,230 --> 00:08:53,730
to maintain over time and publishing

00:08:53,130 --> 00:08:55,649
capabilities

00:08:53,730 --> 00:08:57,450
you know we're rapid rapid publishing

00:08:55,649 --> 00:09:00,720
environment we published lots of content

00:08:57,450 --> 00:09:03,959
around the clock especially when we have

00:09:00,720 --> 00:09:06,300
severe weather pages page changes we

00:09:03,959 --> 00:09:08,100
have a lot of lot of content that we

00:09:06,300 --> 00:09:10,410
that were rapidly publishing on the site

00:09:08,100 --> 00:09:12,180
so we went through and you know we

00:09:10,410 --> 00:09:14,160
looked at multiple products we looked at

00:09:12,180 --> 00:09:17,100
Adobe CQ we looked at we looked at the

00:09:14,160 --> 00:09:22,020
you know the big gorillas in the in the

00:09:17,100 --> 00:09:24,990
marketplace we wcq SDL Tridion open text

00:09:22,020 --> 00:09:26,610
we even looked at WordPress and you know

00:09:24,990 --> 00:09:29,420
psychotically we even looked at

00:09:26,610 --> 00:09:31,770
DotNetNuke for about five minutes

00:09:29,420 --> 00:09:34,589
because someone wanted to look at it so

00:09:31,770 --> 00:09:36,510
we did it and you know after we filled

00:09:34,589 --> 00:09:38,580
out the scorecard you know Drupal it was

00:09:36,510 --> 00:09:41,240
a resounding winner it blew everything

00:09:38,580 --> 00:09:43,140
out of the water so we ended up choosing

00:09:41,240 --> 00:09:45,839
choosing Drupal as our content

00:09:43,140 --> 00:09:47,610
management system which would've been

00:09:45,839 --> 00:09:51,420
awkward if we had not choosen it and I'm

00:09:47,610 --> 00:09:52,650
here today but anyway so the next step

00:09:51,420 --> 00:09:58,800
was figure out how we're gonna build

00:09:52,650 --> 00:10:00,510
this thing so when we evaluated yes so

00:09:58,800 --> 00:10:01,800
we evaluated vendors because we we

00:10:00,510 --> 00:10:04,920
needed to figure out how we're gonna go

00:10:01,800 --> 00:10:07,260
about building this thing so we you know

00:10:04,920 --> 00:10:09,180
looked out to you know the players that

00:10:07,260 --> 00:10:13,010
are out there and ended up choosing

00:10:09,180 --> 00:10:13,010
media current as our development partner

00:10:13,040 --> 00:10:19,520
to my dismay

00:10:16,040 --> 00:10:22,250
just kidding Dave Terry

00:10:19,520 --> 00:10:24,940
so the approach we took was I'm sorry

00:10:22,250 --> 00:10:24,940
this is very slight

00:10:25,570 --> 00:10:30,800
so we Acquia and media current came to

00:10:28,940 --> 00:10:32,390
the table we did a little series of mini

00:10:30,800 --> 00:10:35,440
discoveries which in this context you

00:10:32,390 --> 00:10:41,060
might call a series of lightning talks

00:10:35,440 --> 00:10:42,500
all right that's the last one fine it's

00:10:41,060 --> 00:10:46,310
funny that the non jokes get more laughs

00:10:42,500 --> 00:10:48,020
than the jokes yeah what we got out of

00:10:46,310 --> 00:10:49,160
that was a good idea of what it is they

00:10:48,020 --> 00:10:51,620
were trying to accomplish in the

00:10:49,160 --> 00:10:53,000
aggregate and from those discussions we

00:10:51,620 --> 00:10:54,830
developed a series of proofs of concept

00:10:53,000 --> 00:10:57,050
and those proofs of concept were things

00:10:54,830 --> 00:10:58,280
that like building a Drupal site that

00:10:57,050 --> 00:11:00,830
would allow page building under their

00:10:58,280 --> 00:11:02,450
particular requirements or rewriting the

00:11:00,830 --> 00:11:05,350
page in the browser to meet you know

00:11:02,450 --> 00:11:08,330
whatever scalability needs they have

00:11:05,350 --> 00:11:10,730
then after we were brought into the

00:11:08,330 --> 00:11:12,860
project we did a deep dive which is we

00:11:10,730 --> 00:11:14,270
spent time getting to know every part of

00:11:12,860 --> 00:11:15,770
the project we learned how video was

00:11:14,270 --> 00:11:17,090
managed we learn how images were managed

00:11:15,770 --> 00:11:17,810
we learned how slideshows were managed

00:11:17,090 --> 00:11:19,280
we took a nap

00:11:17,810 --> 00:11:21,530
we learned how all the artists of the

00:11:19,280 --> 00:11:22,940
site was managed we also learned how the

00:11:21,530 --> 00:11:24,590
team dynamics worked we learned what

00:11:22,940 --> 00:11:26,330
their processes were we figured out what

00:11:24,590 --> 00:11:28,010
where we would fit into the group as a

00:11:26,330 --> 00:11:30,200
whole so that we would assign the right

00:11:28,010 --> 00:11:31,790
resources so that we could be provide

00:11:30,200 --> 00:11:35,590
the most benefit that promotes return on

00:11:31,790 --> 00:11:41,810
investment all right so the engagement

00:11:35,590 --> 00:11:42,950
so you know we know jumped ahead I had

00:11:41,810 --> 00:11:45,440
already announced that we picked you

00:11:42,950 --> 00:11:48,410
guys but could we back up everybody so

00:11:45,440 --> 00:11:49,700
forget the last two minutes so the way

00:11:48,410 --> 00:11:51,920
the Weather Channel works when we have a

00:11:49,700 --> 00:11:53,780
problem we we attack it aggressively

00:11:51,920 --> 00:11:55,280
we'll go hire some contractors put them

00:11:53,780 --> 00:11:58,340
in a room throw a raw meat in there and

00:11:55,280 --> 00:12:01,070
build what we need built so when we

00:11:58,340 --> 00:12:03,880
decided to go with Drupal we went out

00:12:01,070 --> 00:12:06,980
and you know we interviewed Drupal

00:12:03,880 --> 00:12:10,300
developers one of the key components for

00:12:06,980 --> 00:12:13,580
working and choosing CMS was to have a

00:12:10,300 --> 00:12:16,280
CMS that had availability of resources

00:12:13,580 --> 00:12:17,570
in the marketplace and you know we we

00:12:16,280 --> 00:12:19,280
looked and we found we thought some

00:12:17,570 --> 00:12:21,620
really good people we found some some

00:12:19,280 --> 00:12:24,720
great developers but we didn't feel like

00:12:21,620 --> 00:12:27,420
we could find a cohesive team

00:12:24,720 --> 00:12:29,250
that that we felt could take us to the

00:12:27,420 --> 00:12:32,339
to the endzone could two could help us

00:12:29,250 --> 00:12:34,889
build this this big thing so then we

00:12:32,339 --> 00:12:38,129
ended up looking you know we were in

00:12:34,889 --> 00:12:40,230
contact with aqueous and and media

00:12:38,129 --> 00:12:41,399
current and ended up choosing media

00:12:40,230 --> 00:12:45,290
current because they were able to

00:12:41,399 --> 00:12:48,180
deliver they were able to deliver a

00:12:45,290 --> 00:12:49,649
large team that could be there for us

00:12:48,180 --> 00:12:51,990
and do and cover all the different

00:12:49,649 --> 00:12:53,459
aspects of Drupal things that we didn't

00:12:51,990 --> 00:12:54,990
have the skills to do and didn't really

00:12:53,459 --> 00:12:58,259
have you know frankly have time to learn

00:12:54,990 --> 00:13:00,360
ourselves so we established that team

00:12:58,259 --> 00:13:03,990
and then we had to have a kick-ass

00:13:00,360 --> 00:13:11,759
Drupal architect and luckily we found we

00:13:03,990 --> 00:13:13,829
found Jason and no thanks and then we

00:13:11,759 --> 00:13:15,389
also have an internal team so you know

00:13:13,829 --> 00:13:18,300
media current is kind of the Drupal arm

00:13:15,389 --> 00:13:20,910
for for the project and we established

00:13:18,300 --> 00:13:23,610
an internal team of about seven or eight

00:13:20,910 --> 00:13:24,839
people that helped identify all the

00:13:23,610 --> 00:13:26,189
different pieces and parts of the

00:13:24,839 --> 00:13:29,579
current infrastructure that we need to

00:13:26,189 --> 00:13:31,410
replace and help bridge the gap for data

00:13:29,579 --> 00:13:34,230
migrations and you know new

00:13:31,410 --> 00:13:35,970
functionality that we want to build and

00:13:34,230 --> 00:13:38,579
largely work closely with media current

00:13:35,970 --> 00:13:40,290
on a daily basis even when they're not

00:13:38,579 --> 00:13:42,029
in my office which is another problem

00:13:40,290 --> 00:13:45,120
but that's okay

00:13:42,029 --> 00:13:46,230
and through that relationship between

00:13:45,120 --> 00:13:49,319
the two teams we've been very successful

00:13:46,230 --> 00:13:52,559
we made a lot of progress and then we

00:13:49,319 --> 00:13:54,779
just start building so what made Drupal

00:13:52,559 --> 00:13:56,430
a better fit for us you know open source

00:13:54,779 --> 00:13:57,379
rocks I think most of you would all

00:13:56,430 --> 00:13:59,850
agree with that

00:13:57,379 --> 00:14:02,309
The Weather Channel's longley been a

00:13:59,850 --> 00:14:05,699
long time been a supporter of open

00:14:02,309 --> 00:14:07,350
source our entire current infrastructure

00:14:05,699 --> 00:14:09,689
that we use today for web serving is

00:14:07,350 --> 00:14:11,610
open source except ironically for the

00:14:09,689 --> 00:14:13,519
part that we most want to replace our

00:14:11,610 --> 00:14:16,470
content management system which is not

00:14:13,519 --> 00:14:21,059
so going with an open source solution

00:14:16,470 --> 00:14:22,319
was extremely you know attractive to us

00:14:21,059 --> 00:14:23,610
because we've got a lot of experience

00:14:22,319 --> 00:14:25,350
with open source we know what open

00:14:23,610 --> 00:14:27,569
source can bring to the table we know

00:14:25,350 --> 00:14:29,279
that there's a community behind it we

00:14:27,569 --> 00:14:30,959
know that it's going to be there it's

00:14:29,279 --> 00:14:33,179
going to grow and it for some reason the

00:14:30,959 --> 00:14:34,529
community abandons it we can grow it

00:14:33,179 --> 00:14:37,610
ourselves we could at least we our

00:14:34,529 --> 00:14:37,610
investment is always going to be

00:14:37,630 --> 00:14:44,600
but the fact that that media current is

00:14:40,130 --> 00:14:47,300
local was a big help you know the media

00:14:44,600 --> 00:14:48,680
current operates on a on a on a model

00:14:47,300 --> 00:14:50,330
where you know folks are scattered

00:14:48,680 --> 00:14:51,770
around the country so they can best

00:14:50,330 --> 00:14:55,820
attract a different they're different

00:14:51,770 --> 00:14:57,830
customers as best they can and and we've

00:14:55,820 --> 00:14:59,540
got in Atlanta they've got a large group

00:14:57,830 --> 00:15:01,220
of people that are you know very

00:14:59,540 --> 00:15:04,550
accessible to us it's been a lot of time

00:15:01,220 --> 00:15:05,990
with us so having a local vendor was

00:15:04,550 --> 00:15:08,900
very really helpful we didn't want to

00:15:05,990 --> 00:15:10,880
engage a company that was 500 miles away

00:15:08,900 --> 00:15:12,380
that we never got to see them and you

00:15:10,880 --> 00:15:14,540
know Google Hangouts are great but

00:15:12,380 --> 00:15:18,170
seriously I need some bodies in front of

00:15:14,540 --> 00:15:21,500
me that could touch and feel this not

00:15:18,170 --> 00:15:23,750
inappropriately though the sky the

00:15:21,500 --> 00:15:25,370
scorecard screen Drupal to us I mean

00:15:23,750 --> 00:15:27,380
we've already mentioned that the score

00:15:25,370 --> 00:15:28,580
card said Drupal is your choice that's

00:15:27,380 --> 00:15:32,150
what you got to use and that's what we

00:15:28,580 --> 00:15:33,860
used and what the hell Drupal is free so

00:15:32,150 --> 00:15:35,690
why not use it I mean some of the other

00:15:33,860 --> 00:15:38,060
products we looked at half a million

00:15:35,690 --> 00:15:39,680
dollars million dollar license fees

00:15:38,060 --> 00:15:40,970
I mean Drupal hasn't been free to

00:15:39,680 --> 00:15:43,730
implement it because we still have to

00:15:40,970 --> 00:15:44,930
build it but even if we were to choose

00:15:43,730 --> 00:15:46,490
one of these third-party tools we'd

00:15:44,930 --> 00:15:49,510
still have to spend a million dollars on

00:15:46,490 --> 00:15:53,590
on building the product to our needs so

00:15:49,510 --> 00:15:56,810
big benefits there so test drive

00:15:53,590 --> 00:15:58,430
somewhere along the lines we decided

00:15:56,810 --> 00:16:01,970
that you know our content entry solution

00:15:58,430 --> 00:16:04,370
was painful our VP of continent riwa

00:16:01,970 --> 00:16:05,600
complaining constantly about problems

00:16:04,370 --> 00:16:08,690
that we're having entering article

00:16:05,600 --> 00:16:11,020
content Jason will go into more details

00:16:08,690 --> 00:16:14,510
of some of the pains that they suffered

00:16:11,020 --> 00:16:18,140
so we decided that we would try to

00:16:14,510 --> 00:16:20,870
implement take Drupal and and do a side

00:16:18,140 --> 00:16:24,200
project and implement content entry on

00:16:20,870 --> 00:16:26,120
Drupal to plug into our current web

00:16:24,200 --> 00:16:29,090
delivery hardware or web delivery

00:16:26,120 --> 00:16:31,250
framework and we called that project

00:16:29,090 --> 00:16:33,920
dice Drupal interim content injury it's

00:16:31,250 --> 00:16:36,800
been live since May of last year it's

00:16:33,920 --> 00:16:39,290
been extremely successful from the day

00:16:36,800 --> 00:16:41,260
that we launched it content velocity has

00:16:39,290 --> 00:16:43,580
gone through the roof

00:16:41,260 --> 00:16:47,210
multiple tools consolidated into a

00:16:43,580 --> 00:16:48,690
single tool the user users are happy as

00:16:47,210 --> 00:16:50,610
happy as a content entry

00:16:48,690 --> 00:16:54,390
team could actually be they were happy

00:16:50,610 --> 00:16:56,940
and our support went to almost nil

00:16:54,390 --> 00:17:00,600
we I mean our current content management

00:16:56,940 --> 00:17:05,069
system and our implementation constant

00:17:00,600 --> 00:17:06,480
problems lots of inflexibility lots of

00:17:05,069 --> 00:17:08,850
mean that's not lots of maintenance

00:17:06,480 --> 00:17:11,069
problems and and and and drag on our

00:17:08,850 --> 00:17:13,560
team keeping us from actually building

00:17:11,069 --> 00:17:15,990
new things so support went to nothing so

00:17:13,560 --> 00:17:18,030
it was a big big big man and the the

00:17:15,990 --> 00:17:20,310
side effect was it gave us some early

00:17:18,030 --> 00:17:23,730
unexpected validation that Drupal was in

00:17:20,310 --> 00:17:26,790
fact the right choice so what would be

00:17:23,730 --> 00:17:28,860
the impact of the introduction to Drupal

00:17:26,790 --> 00:17:31,380
I already mentioned consolidating

00:17:28,860 --> 00:17:34,260
multiple systems into the Drupal

00:17:31,380 --> 00:17:35,310
framework image management Jason will

00:17:34,260 --> 00:17:37,800
talk about that in a minute

00:17:35,310 --> 00:17:39,720
image management was always a big issue

00:17:37,800 --> 00:17:42,150
for us we're able to consolidate that

00:17:39,720 --> 00:17:45,570
tightly into into Drupal slideshows and

00:17:42,150 --> 00:17:48,030
image uploads amazing increase in

00:17:45,570 --> 00:17:49,740
velocity by that by the team tight

00:17:48,030 --> 00:17:52,200
integration of page building and page

00:17:49,740 --> 00:17:54,630
serving at one point we thought that was

00:17:52,200 --> 00:17:57,690
a bad thing and we're still going to be

00:17:54,630 --> 00:18:00,540
slightly segregated because of our use

00:17:57,690 --> 00:18:02,790
of ESI and cache ability and Jason will

00:18:00,540 --> 00:18:05,160
talk about that in a minute but we feel

00:18:02,790 --> 00:18:07,290
really comfortable with the way Drupal

00:18:05,160 --> 00:18:10,950
handles pages and and consolidates

00:18:07,290 --> 00:18:12,960
having its web framework and ultimately

00:18:10,950 --> 00:18:14,990
gives us more agility and in creating

00:18:12,960 --> 00:18:16,950
solutions we can build products faster

00:18:14,990 --> 00:18:18,810
well some of the technology we're going

00:18:16,950 --> 00:18:20,760
to talk about in a minute so we can

00:18:18,810 --> 00:18:24,870
rapidly build products make quick

00:18:20,760 --> 00:18:27,390
changes as the needs of our product as

00:18:24,870 --> 00:18:31,680
our product team you know frequently

00:18:27,390 --> 00:18:33,030
changes right Krista also and then we

00:18:31,680 --> 00:18:35,880
already mentioned stability you know

00:18:33,030 --> 00:18:37,290
much much more stability and which

00:18:35,880 --> 00:18:40,710
ultimately gives us more time and

00:18:37,290 --> 00:18:42,060
actually build new things so the

00:18:40,710 --> 00:18:44,220
advantage is Drupal brought to the

00:18:42,060 --> 00:18:46,110
things that we just talked about Drupal

00:18:44,220 --> 00:18:47,850
uses a standard stack that means that we

00:18:46,110 --> 00:18:49,530
are not supporting the Java here we're

00:18:47,850 --> 00:18:51,600
not supporting skaila there we're not

00:18:49,530 --> 00:18:52,950
supporting you know this environment

00:18:51,600 --> 00:18:55,280
that environment six environments we're

00:18:52,950 --> 00:18:57,120
all on on a single stack for every

00:18:55,280 --> 00:18:59,130
integrated portion of the site that they

00:18:57,120 --> 00:19:01,110
actually want to use it's got a robust

00:18:59,130 --> 00:19:01,890
API so when it comes to changing

00:19:01,110 --> 00:19:03,060
requirements

00:19:01,890 --> 00:19:04,560
which by the way just like the weather

00:19:03,060 --> 00:19:12,990
the only thing you can count on changing

00:19:04,560 --> 00:19:17,210
is requirements but um yeah I'm gonna

00:19:12,990 --> 00:19:17,210
get her what a terrible audio sound bite

00:19:17,630 --> 00:19:21,900
because of the robust API when things

00:19:20,460 --> 00:19:23,670
did change when there was a pivot in

00:19:21,900 --> 00:19:25,050
requirements we didn't have to you know

00:19:23,670 --> 00:19:27,360
go right back to the drawing board we

00:19:25,050 --> 00:19:29,040
were able to you know readapt we when we

00:19:27,360 --> 00:19:30,630
architected we architected in a way that

00:19:29,040 --> 00:19:31,890
it was easy to take this piece replace

00:19:30,630 --> 00:19:34,050
it with that piece take this piece

00:19:31,890 --> 00:19:40,050
replace of that Drupal made that process

00:19:34,050 --> 00:19:41,400
a lot simpler so the excuse me the

00:19:40,050 --> 00:19:44,040
number one challenge that we were faced

00:19:41,400 --> 00:19:45,870
with was retiring or integrating if

00:19:44,040 --> 00:19:47,940
possible a lot of the legacy platforms

00:19:45,870 --> 00:19:49,380
there's also a transitional period that

00:19:47,940 --> 00:19:51,660
has to be addressed for which we have to

00:19:49,380 --> 00:19:53,220
support both we needed to simplify the

00:19:51,660 --> 00:19:54,930
content entry and we needed to increase

00:19:53,220 --> 00:19:57,990
feature velocity so let's talk about how

00:19:54,930 --> 00:19:59,370
we do that a bit so we under the legacy

00:19:57,990 --> 00:20:01,350
platform we had an article management

00:19:59,370 --> 00:20:02,970
system an image management system and a

00:20:01,350 --> 00:20:04,260
slideshow management system they were

00:20:02,970 --> 00:20:05,370
written by three different people at

00:20:04,260 --> 00:20:07,230
three different times and do not

00:20:05,370 --> 00:20:08,760
integrate very well at all when somebody

00:20:07,230 --> 00:20:10,470
wanted to create an article they'd open

00:20:08,760 --> 00:20:12,570
up the article platform write a few

00:20:10,470 --> 00:20:14,760
paragraphs close it load up the image of

00:20:12,570 --> 00:20:17,460
the system create a couple of assets

00:20:14,760 --> 00:20:18,930
save the asset IDs to a notepad close

00:20:17,460 --> 00:20:21,270
the image system open the slideshow

00:20:18,930 --> 00:20:23,100
system copy the asset 80s out of the

00:20:21,270 --> 00:20:24,840
notepad into the slideshow system close

00:20:23,100 --> 00:20:26,820
the slideshow system open the article

00:20:24,840 --> 00:20:28,740
take out a notepad all the asset IDs

00:20:26,820 --> 00:20:31,140
posted it in there publish the article

00:20:28,740 --> 00:20:36,510
save the article deploy the article can

00:20:31,140 --> 00:20:45,180
you get that again please yes later what

00:20:36,510 --> 00:20:47,870
we were able to do was yeah the launch

00:20:45,180 --> 00:20:47,870
went that well too

00:20:49,700 --> 00:20:55,590
BAM yeah BAM so we were able to

00:20:53,820 --> 00:20:56,940
integrate the image management system

00:20:55,590 --> 00:20:58,200
the art of management system and the

00:20:56,940 --> 00:20:59,640
slideshow management system with

00:20:58,200 --> 00:21:02,130
off-the-shelf components for the most

00:20:59,640 --> 00:21:04,289
part the legacy migration content that

00:21:02,130 --> 00:21:05,940
was just basically after save hooks that

00:21:04,289 --> 00:21:08,549
we implemented that updated the legacy

00:21:05,940 --> 00:21:09,990
platform so we could migrate easily the

00:21:08,549 --> 00:21:11,460
systems we weren't able to integrate

00:21:09,990 --> 00:21:13,020
directly into Drupal such as video

00:21:11,460 --> 00:21:15,000
management because of the timeline it

00:21:13,020 --> 00:21:16,919
was too complex we abstracted them

00:21:15,000 --> 00:21:19,020
through a web services interface so that

00:21:16,919 --> 00:21:21,210
when it's retired at a later time we

00:21:19,020 --> 00:21:22,860
just match the the restful interface and

00:21:21,210 --> 00:21:26,940
everything works as before is

00:21:22,860 --> 00:21:28,260
transparent so Drupal is good at this

00:21:26,940 --> 00:21:29,730
kind of thing this is a kind of diagram

00:21:28,260 --> 00:21:31,080
I bring up to tell you how good Drupal

00:21:29,730 --> 00:21:33,330
is at wrapping other services the

00:21:31,080 --> 00:21:35,490
canonical example is when when Facebook

00:21:33,330 --> 00:21:37,140
released their API within 24 hours

00:21:35,490 --> 00:21:38,730
Drupal had a Facebook module that

00:21:37,140 --> 00:21:40,770
allowed you to wrap and put Facebook

00:21:38,730 --> 00:21:42,510
content on your site

00:21:40,770 --> 00:21:43,799
Media Current in particular is a big

00:21:42,510 --> 00:21:47,400
contributor to the open source and

00:21:43,799 --> 00:21:48,809
modules I think that most loops almost

00:21:47,400 --> 00:21:50,580
all of these marketing automation

00:21:48,809 --> 00:21:52,320
modules are created by media current

00:21:50,580 --> 00:21:56,789
particular it sounds like you might be

00:21:52,320 --> 00:21:58,559
bragging a little hole so some of the

00:21:56,789 --> 00:22:00,360
majority we already mentioned earlier

00:21:58,559 --> 00:22:03,809
some of the some of the problems we can

00:22:00,360 --> 00:22:05,730
imagine was one of the top problems you

00:22:03,809 --> 00:22:08,070
know with caching you know low cache

00:22:05,730 --> 00:22:10,770
efficiency equals more hits back to your

00:22:08,070 --> 00:22:12,870
origin servers when more traffic comes

00:22:10,770 --> 00:22:15,659
back to origin you need more servers

00:22:12,870 --> 00:22:18,030
more servers equals higher costs to

00:22:15,659 --> 00:22:22,650
operate and maintain which is generally

00:22:18,030 --> 00:22:24,390
a bad a bad thing with with without good

00:22:22,650 --> 00:22:26,640
cache ability you have to highly

00:22:24,390 --> 00:22:28,890
anticipate the traffic spikes and be

00:22:26,640 --> 00:22:33,590
fully scaled or highly scaled at all

00:22:28,890 --> 00:22:35,400
times which is what we're doing today so

00:22:33,590 --> 00:22:37,140
traditionally when you're dealing with a

00:22:35,400 --> 00:22:39,210
lot of traffic from various places

00:22:37,140 --> 00:22:40,710
around the world you just let it hit

00:22:39,210 --> 00:22:42,600
origin and that's not a problem but when

00:22:40,710 --> 00:22:44,159
you get a lot of traffic the server

00:22:42,600 --> 00:22:45,840
can't keep up so what you'll do is

00:22:44,159 --> 00:22:47,789
you'll just introduce a caching layer or

00:22:45,840 --> 00:22:49,110
something like Akamai and so when the

00:22:47,789 --> 00:22:51,720
first request comes through it hits

00:22:49,110 --> 00:22:53,280
Akamai Akamai gets it saves it and every

00:22:51,720 --> 00:22:55,230
future request just goes to Akamai

00:22:53,280 --> 00:22:57,299
origin is happy sitting there idle and

00:22:55,230 --> 00:22:59,480
you're not paying huge operational costs

00:22:57,299 --> 00:23:01,170
for a whole roomful of servers however

00:22:59,480 --> 00:23:03,360
Weather Channel pose

00:23:01,170 --> 00:23:04,980
some unique challenges this is what you

00:23:03,360 --> 00:23:05,580
might see if you visited from Austin

00:23:04,980 --> 00:23:07,440
Texas

00:23:05,580 --> 00:23:09,660
you'll get that forecast but if you're

00:23:07,440 --> 00:23:10,980
just a couple miles away or three hours

00:23:09,660 --> 00:23:13,470
as I am intimately familiar with the

00:23:10,980 --> 00:23:15,240
drive you will get a different forecast

00:23:13,470 --> 00:23:16,740
which means on a regional basis you're

00:23:15,240 --> 00:23:20,550
getting completely different pages which

00:23:16,740 --> 00:23:22,470
means your your cash cash ability breaks

00:23:20,550 --> 00:23:24,060
down on regional lines and we're talking

00:23:22,470 --> 00:23:25,830
about zip codes and and even some

00:23:24,060 --> 00:23:27,000
smaller subdivisions if you have a large

00:23:25,830 --> 00:23:28,440
enough yard you could be in the front

00:23:27,000 --> 00:23:35,340
and the back yard and get two completely

00:23:28,440 --> 00:23:38,220
different pages so how did we address

00:23:35,340 --> 00:23:39,540
this particular challenge what we do we

00:23:38,220 --> 00:23:41,430
break the page up into pieces

00:23:39,540 --> 00:23:43,770
and then we move to a service-oriented

00:23:41,430 --> 00:23:45,660
architecture and we do use client-side

00:23:43,770 --> 00:23:48,300
rendering I'll talk more about what that

00:23:45,660 --> 00:23:51,420
means we also use edged side includes to

00:23:48,300 --> 00:23:53,070
rewrite the page at the edge and all

00:23:51,420 --> 00:23:54,630
these things together let us improve our

00:23:53,070 --> 00:23:56,640
cache efficiency that means that we can

00:23:54,630 --> 00:23:58,110
hopefully deliver one page and have it

00:23:56,640 --> 00:24:01,110
appear differently for everybody who

00:23:58,110 --> 00:24:02,520
visits so here's how we did it I'm gonna

00:24:01,110 --> 00:24:05,520
explain what Akamai and Edge side

00:24:02,520 --> 00:24:10,410
includes are let's I apologize for what

00:24:05,520 --> 00:24:12,510
you're getting ready to see if let's say

00:24:10,410 --> 00:24:13,590
you're a veterinary office and one of

00:24:12,510 --> 00:24:15,210
the services you perform for the

00:24:13,590 --> 00:24:18,030
community as you post lost lost dog

00:24:15,210 --> 00:24:19,230
posters so what you'll be doing is

00:24:18,030 --> 00:24:21,510
somebody will bring you a photo of their

00:24:19,230 --> 00:24:23,160
dog you'll go all the way to the large

00:24:21,510 --> 00:24:24,990
format printer get the large format

00:24:23,160 --> 00:24:26,760
printed versions of it come back to your

00:24:24,990 --> 00:24:29,340
office and give them the poster and

00:24:26,760 --> 00:24:33,090
you'll do this over and over and over

00:24:29,340 --> 00:24:34,620
and over again so 90% of your time is

00:24:33,090 --> 00:24:37,140
spent going back to the printing office

00:24:34,620 --> 00:24:38,790
and coming back you don't have to do it

00:24:37,140 --> 00:24:41,520
that way well it might make more sense

00:24:38,790 --> 00:24:44,100
is to take the reusable portions of the

00:24:41,520 --> 00:24:46,410
page go to the large format printer and

00:24:44,100 --> 00:24:48,630
print say 10,000 copies and put them in

00:24:46,410 --> 00:24:51,870
a literal cache in the corner this is

00:24:48,630 --> 00:24:53,790
what Akamai does for us so that blank

00:24:51,870 --> 00:24:55,260
spot we have a regular printer in our

00:24:53,790 --> 00:24:56,460
office that can print photos that size

00:24:55,260 --> 00:24:57,630
so that means we don't have to go

00:24:56,460 --> 00:24:59,490
anywhere we can spend more of our time

00:24:57,630 --> 00:25:01,590
doing the stuff we're efficient that so

00:24:59,490 --> 00:25:03,900
we take the photo we paste it in there

00:25:01,590 --> 00:25:06,630
and then we deploy them all over the

00:25:03,900 --> 00:25:08,160
office that space that blank space that

00:25:06,630 --> 00:25:10,440
we fill that's the equivalent of what

00:25:08,160 --> 00:25:12,210
Edge side includes do for us so you can

00:25:10,440 --> 00:25:14,880
see how that might come in handy when

00:25:12,210 --> 00:25:17,370
we're building the page so what we

00:25:14,880 --> 00:25:20,310
do as we divide the pages up into the

00:25:17,370 --> 00:25:22,380
pieces that align with those buckets

00:25:20,310 --> 00:25:24,330
that we just described first they're the

00:25:22,380 --> 00:25:26,430
heavy services page layout asset

00:25:24,330 --> 00:25:27,990
metadata such as image URL article body

00:25:26,430 --> 00:25:30,570
things like that things that don't

00:25:27,990 --> 00:25:32,490
change very often but are very heavy to

00:25:30,570 --> 00:25:34,290
get Drupal despite all of its benefits

00:25:32,490 --> 00:25:37,770
is if they're a little bit heavy as an

00:25:34,290 --> 00:25:39,480
app server so then we've got the heavy

00:25:37,770 --> 00:25:41,400
services that are actually reused fairly

00:25:39,480 --> 00:25:43,470
frequently related content featured

00:25:41,400 --> 00:25:45,120
content menus things like the title menu

00:25:43,470 --> 00:25:47,520
that appears at the top of the page you

00:25:45,120 --> 00:25:48,660
got 60,000 assets out there articles and

00:25:47,520 --> 00:25:50,070
you want to make a change to the header

00:25:48,660 --> 00:25:52,380
menu you don't to invalidate the cache

00:25:50,070 --> 00:25:54,720
for all 60k so you've put it in a niche

00:25:52,380 --> 00:25:55,920
site include and spit it out thin

00:25:54,720 --> 00:25:58,500
services these are things that change

00:25:55,920 --> 00:26:00,570
very rapidly and are very unique on a

00:25:58,500 --> 00:26:02,100
per user basis these are the things that

00:26:00,570 --> 00:26:04,380
you might use a caching layer for

00:26:02,100 --> 00:26:06,090
services layer 4 that we would have

00:26:04,380 --> 00:26:09,300
something other than Drupal that is

00:26:06,090 --> 00:26:13,680
thinner and a lot easier to scale we're

00:26:09,300 --> 00:26:15,210
talking about using Drupal for the heavy

00:26:13,680 --> 00:26:16,140
services we'll just deliver the base

00:26:15,210 --> 00:26:18,150
page out right

00:26:16,140 --> 00:26:19,860
we'll use angular and ESI to deliver

00:26:18,150 --> 00:26:21,810
some of these moderately dynamic pages

00:26:19,860 --> 00:26:24,450
and we'll use angular in a data caching

00:26:21,810 --> 00:26:26,340
layer to deliver the thin services so

00:26:24,450 --> 00:26:30,690
again what we do is we take the page

00:26:26,340 --> 00:26:33,150
look at the parts that change turn those

00:26:30,690 --> 00:26:34,800
into modules and then we create a system

00:26:33,150 --> 00:26:37,230
that will render those modules based on

00:26:34,800 --> 00:26:39,900
our particular needs detail of five days

00:26:37,230 --> 00:26:41,370
at the top let's make that in ESI DTL of

00:26:39,900 --> 00:26:44,070
one minute for the forecast let's make

00:26:41,370 --> 00:26:47,370
that an angular module so just to

00:26:44,070 --> 00:26:49,110
summarize we take the page deliver the

00:26:47,370 --> 00:26:50,910
base page with the placeholders for the

00:26:49,110 --> 00:26:52,710
widgets put the information that's

00:26:50,910 --> 00:26:54,990
relevant to on a per user basis into our

00:26:52,710 --> 00:26:57,000
data services cache we use ESI and

00:26:54,990 --> 00:27:00,540
angular to rewrite the page as it goes

00:26:57,000 --> 00:27:01,980
out to the users pay a browser and so

00:27:00,540 --> 00:27:04,170
the user from Houston and the user from

00:27:01,980 --> 00:27:07,200
Texas can get personalized pages but

00:27:04,170 --> 00:27:08,640
Drupal only ever delivers one so from

00:27:07,200 --> 00:27:11,040
this perspective the app server does

00:27:08,640 --> 00:27:12,840
very little work all the rest the magic

00:27:11,040 --> 00:27:15,740
is happening at Akamai and in the thin

00:27:12,840 --> 00:27:17,640
services which are far easier to scale

00:27:15,740 --> 00:27:19,040
so we've already mentioned the data

00:27:17,640 --> 00:27:21,210
services layer a couple times

00:27:19,040 --> 00:27:23,340
specifically as one of the critical

00:27:21,210 --> 00:27:26,910
components of the overall infrastructure

00:27:23,340 --> 00:27:28,170
reboot the data services when we decided

00:27:26,910 --> 00:27:30,120
we needed to build that we knew we were

00:27:28,170 --> 00:27:31,710
going to need something that had you

00:27:30,120 --> 00:27:35,430
know thin service as a thinner restful

00:27:31,710 --> 00:27:37,590
api one that was easily adaptable easily

00:27:35,430 --> 00:27:40,740
that could track with the feature

00:27:37,590 --> 00:27:44,400
requesting are created from the company

00:27:40,740 --> 00:27:46,770
so as new features are requested we need

00:27:44,400 --> 00:27:48,270
new data we need data to provide those

00:27:46,770 --> 00:27:50,340
features we have to build the front end

00:27:48,270 --> 00:27:51,750
functionality to present it but we got

00:27:50,340 --> 00:27:53,300
to get the data first so we needed a

00:27:51,750 --> 00:27:55,410
system that we could work closely with

00:27:53,300 --> 00:27:56,940
the teams could work closely with so

00:27:55,410 --> 00:28:00,210
that we could be working in unison

00:27:56,940 --> 00:28:04,400
building these products you know we

00:28:00,210 --> 00:28:07,170
built it using MongoDB and Scala

00:28:04,400 --> 00:28:09,510
functional language state of the art

00:28:07,170 --> 00:28:12,900
type technology delivering data through

00:28:09,510 --> 00:28:14,850
JSON and key value type data it's been

00:28:12,900 --> 00:28:16,710
live for quite some time we're already

00:28:14,850 --> 00:28:18,390
using it on our mobile apps you've

00:28:16,710 --> 00:28:19,530
downloaded our new mobile app if you

00:28:18,390 --> 00:28:23,340
haven't yet you need to go ahead and do

00:28:19,530 --> 00:28:26,070
that the mobile app is using our data

00:28:23,340 --> 00:28:29,540
services layer live today and we are

00:28:26,070 --> 00:28:33,840
building on top of that with with Drupal

00:28:29,540 --> 00:28:35,940
so in support of the needing high cash

00:28:33,840 --> 00:28:37,770
ability were we're moving to a

00:28:35,940 --> 00:28:39,540
client-side model so he mentioned

00:28:37,770 --> 00:28:41,760
earlier that we've got about 144 servers

00:28:39,540 --> 00:28:44,010
running our site our current plan is to

00:28:41,760 --> 00:28:48,900
run them to run our site with about

00:28:44,010 --> 00:28:51,810
fifteen or sixteen servers that in the

00:28:48,900 --> 00:28:54,960
cloud so that we don't we can ramp up if

00:28:51,810 --> 00:28:56,790
we need it but hopefully with our cache

00:28:54,960 --> 00:28:58,470
ability and the cache rates are we're

00:28:56,790 --> 00:29:01,110
going to be getting out of our different

00:28:58,470 --> 00:29:02,880
cache layers and with Akamai we hope

00:29:01,110 --> 00:29:06,150
that we can operate in that at that

00:29:02,880 --> 00:29:08,250
level but the client-side model is based

00:29:06,150 --> 00:29:10,140
on angularjs if those of you have not

00:29:08,250 --> 00:29:12,050
you're not familiar with angularjs it's

00:29:10,140 --> 00:29:13,950
a JavaScript framework created by Google

00:29:12,050 --> 00:29:15,090
if you've heard haven't heard of

00:29:13,950 --> 00:29:17,900
angularjs I'm sure you've heard of

00:29:15,090 --> 00:29:20,510
jQuery same kind of thing but it's a

00:29:17,900 --> 00:29:23,760
model view control or an MVC type

00:29:20,510 --> 00:29:26,280
product allows separation of

00:29:23,760 --> 00:29:28,770
presentation and data access gives great

00:29:26,280 --> 00:29:31,860
flexibility and building functionality

00:29:28,770 --> 00:29:34,370
for the web we use it with our mechanism

00:29:31,860 --> 00:29:37,520
for building angularjs modules

00:29:34,370 --> 00:29:39,590
we try to build our directive my boss's

00:29:37,520 --> 00:29:41,510
directive is to build modules that are

00:29:39,590 --> 00:29:43,220
completely responsive where it makes

00:29:41,510 --> 00:29:45,860
sense so I can build a module at current

00:29:43,220 --> 00:29:48,110
conditions module that works on a big

00:29:45,860 --> 00:29:49,460
webpage and a mobile web page but if I

00:29:48,110 --> 00:29:51,140
have to go through great links to make

00:29:49,460 --> 00:29:53,480
it responsive to make it work across

00:29:51,140 --> 00:29:55,909
post and we may build two modules but

00:29:53,480 --> 00:29:57,980
but angularjs gives us that that that

00:29:55,909 --> 00:30:00,590
granularity or that flexibility to be

00:29:57,980 --> 00:30:04,760
able to build in the way that we need to

00:30:00,590 --> 00:30:06,320
build it the client-side model also the

00:30:04,760 --> 00:30:08,720
cornerstone of it is highly cacheable

00:30:06,320 --> 00:30:10,580
templates Jason's already mentioned the

00:30:08,720 --> 00:30:13,520
templates previously that had the blue

00:30:10,580 --> 00:30:17,120
boxes you know Drupal publishes the base

00:30:13,520 --> 00:30:19,399
page one time it gets cash for maybe

00:30:17,120 --> 00:30:22,970
forever or maybe you know whatever that

00:30:19,399 --> 00:30:24,440
TTL might be and and the angularjs the

00:30:22,970 --> 00:30:27,770
modules that are on the page dynamically

00:30:24,440 --> 00:30:31,100
pull data and push that load down to the

00:30:27,770 --> 00:30:34,640
browser so that we have fewer hits back

00:30:31,100 --> 00:30:36,080
to origin the angularjs will actually we

00:30:34,640 --> 00:30:39,020
already talked about this already cause

00:30:36,080 --> 00:30:41,539
our data services layer and within the

00:30:39,020 --> 00:30:43,909
data services layer I'm sorry within the

00:30:41,539 --> 00:30:46,190
angular module the data component of the

00:30:43,909 --> 00:30:48,440
angular module we also catch the data

00:30:46,190 --> 00:30:51,289
there as well so if you're cruisin

00:30:48,440 --> 00:30:53,510
through six web pages on our site and in

00:30:51,289 --> 00:30:55,340
one page you make a call to the data

00:30:53,510 --> 00:30:56,720
source data services layer and get

00:30:55,340 --> 00:30:58,640
current condition data or forecast data

00:30:56,720 --> 00:31:01,520
will cache that in the browser will

00:30:58,640 --> 00:31:03,890
catch that in the model of the angular

00:31:01,520 --> 00:31:06,440
so we don't have to go back to the data

00:31:03,890 --> 00:31:07,909
services layer to get refreshed data

00:31:06,440 --> 00:31:10,940
when we know that that data has not

00:31:07,909 --> 00:31:14,679
expired so it makes the pages very quick

00:31:10,940 --> 00:31:17,179
it makes the modules very fast to load

00:31:14,679 --> 00:31:20,059
so additionally we already talked a

00:31:17,179 --> 00:31:21,409
little bit about content entry content

00:31:20,059 --> 00:31:23,029
entries has always been a big problem

00:31:21,409 --> 00:31:25,039
because we're trying to become you know

00:31:23,029 --> 00:31:26,450
one of our 4s is a storytelling and we

00:31:25,039 --> 00:31:30,409
do a lot of that storytelling through

00:31:26,450 --> 00:31:32,779
writing compelling articles that that

00:31:30,409 --> 00:31:35,570
have some meaning to a wide variety of

00:31:32,779 --> 00:31:37,159
people in order to do that you've got to

00:31:35,570 --> 00:31:38,690
be able to rapidly create those articles

00:31:37,159 --> 00:31:41,480
and you need to be able to create those

00:31:38,690 --> 00:31:43,630
articles that have some something that's

00:31:41,480 --> 00:31:46,820
more engaging than just a wall of text

00:31:43,630 --> 00:31:47,100
so we try to build the articles as much

00:31:46,820 --> 00:31:50,330
as

00:31:47,100 --> 00:31:54,750
including rich media videos imagery

00:31:50,330 --> 00:31:57,419
slideshows YouTube videos we can insert

00:31:54,750 --> 00:31:59,250
Twitter feeds we can do there's like 13

00:31:57,419 --> 00:32:02,210
different types of rich media that we

00:31:59,250 --> 00:32:06,179
can bring into an article to make it

00:32:02,210 --> 00:32:08,039
less boring as if it were not there but

00:32:06,179 --> 00:32:11,250
ultimately we have to do it in a way

00:32:08,039 --> 00:32:13,080
that that articles cross-platform we can

00:32:11,250 --> 00:32:14,850
build an article you can read an article

00:32:13,080 --> 00:32:18,270
that works on big web all day long

00:32:14,850 --> 00:32:20,850
that's awesome but the guy that's on the

00:32:18,270 --> 00:32:22,409
mobile website if he can't see that

00:32:20,850 --> 00:32:24,840
Oracle then you know we're not covering

00:32:22,409 --> 00:32:27,270
all of our bases so the articles have to

00:32:24,840 --> 00:32:29,370
be written and and created in such a way

00:32:27,270 --> 00:32:31,500
that it works across all our sites our

00:32:29,370 --> 00:32:36,150
mobile web our big web or mobile web and

00:32:31,500 --> 00:32:37,590
our mobile apps so here's an example of

00:32:36,150 --> 00:32:38,789
what this looks like again what we're

00:32:37,590 --> 00:32:40,020
trying to do is make it so that the

00:32:38,789 --> 00:32:41,880
front-end team doesn't have to write

00:32:40,020 --> 00:32:43,770
HTML or JavaScript to put rich media in

00:32:41,880 --> 00:32:45,450
the page we also don't want to copy and

00:32:43,770 --> 00:32:47,100
paste some embed code from some other

00:32:45,450 --> 00:32:49,169
site that may work today but not work

00:32:47,100 --> 00:32:50,850
tomorrow we want to retain control over

00:32:49,169 --> 00:32:52,350
that because not only do we want to make

00:32:50,850 --> 00:32:54,090
sure that whatever is being used is up

00:32:52,350 --> 00:32:55,860
today but we want to make sure that if

00:32:54,090 --> 00:32:57,120
it maintains a look and feel appropriate

00:32:55,860 --> 00:32:59,250
for whatever device it's going towards

00:32:57,120 --> 00:33:00,570
so what we've done is we use the WYSIWYG

00:32:59,250 --> 00:33:02,070
editor which you may be familiar with

00:33:00,570 --> 00:33:03,720
using in Drupal and we have added a

00:33:02,070 --> 00:33:06,179
couple of buttons here dynamically these

00:33:03,720 --> 00:33:07,860
buttons represent the types of weather

00:33:06,179 --> 00:33:09,390
nodes that they're able to add to the

00:33:07,860 --> 00:33:11,250
body so in this case we've got an image

00:33:09,390 --> 00:33:12,900
weather node in a video weather note now

00:33:11,250 --> 00:33:14,850
of course those aren't the actual image

00:33:12,900 --> 00:33:16,770
that just represents the placeholder for

00:33:14,850 --> 00:33:19,380
it when you click the button bar you'll

00:33:16,770 --> 00:33:21,539
get a pop-up this one's for say YouTube

00:33:19,380 --> 00:33:24,570
I think so in this case they're adding a

00:33:21,539 --> 00:33:30,570
video of fish with teeth relevant to the

00:33:24,570 --> 00:33:32,159
weather and what we've we simplified the

00:33:30,570 --> 00:33:34,080
interface so that the the user only sees

00:33:32,159 --> 00:33:36,480
what they're supposed to see this is

00:33:34,080 --> 00:33:38,159
also limited by user role so an

00:33:36,480 --> 00:33:41,610
administrator may see more options than

00:33:38,159 --> 00:33:42,780
a regular content editor so one of the

00:33:41,610 --> 00:33:44,580
ways that we were able to get this

00:33:42,780 --> 00:33:46,380
flexibility is because this modal that

00:33:44,580 --> 00:33:48,090
you see here this is actually a Content

00:33:46,380 --> 00:33:51,360
type create form this isn't this is an

00:33:48,090 --> 00:33:53,640
actual node so for those of you familiar

00:33:51,360 --> 00:33:56,010
with Drupal so this is actually a

00:33:53,640 --> 00:33:58,409
weather node YouTube content type so

00:33:56,010 --> 00:33:59,160
after the user creates this and Jessica

00:33:58,409 --> 00:34:02,310
is ahead and dumps

00:33:59,160 --> 00:34:06,600
in the article body right so then in the

00:34:02,310 --> 00:34:07,950
the screen to my left you see four basic

00:34:06,600 --> 00:34:10,140
presentations you see a big web

00:34:07,950 --> 00:34:13,520
presentation a tablet presentation a

00:34:10,140 --> 00:34:15,720
mobile web presentation and a data feed

00:34:13,520 --> 00:34:17,669
down below the bottom you see the raw

00:34:15,720 --> 00:34:20,400
article body should look somewhat

00:34:17,669 --> 00:34:24,060
familiar as the WYSIWYG article editor

00:34:20,400 --> 00:34:28,080
for no I want to say much time okay

00:34:24,060 --> 00:34:30,240
about two minutes

00:34:28,080 --> 00:34:34,830
down below you see the actual article

00:34:30,240 --> 00:34:37,800
body and then we insert a in this case

00:34:34,830 --> 00:34:40,470
we insert a YouTube weather node Wix

00:34:37,800 --> 00:34:42,450
node as Jason calls it into the article

00:34:40,470 --> 00:34:43,650
body and above you see the different

00:34:42,450 --> 00:34:47,179
presentations of the different platforms

00:34:43,650 --> 00:34:51,090
on big web you might see a immersive

00:34:47,179 --> 00:34:53,070
type embed player for the YouTube video

00:34:51,090 --> 00:34:55,020
on the tablet you might see something a

00:34:53,070 --> 00:34:57,740
little bit different maybe something

00:34:55,020 --> 00:35:00,440
that's a little more of an embed type

00:34:57,740 --> 00:35:02,970
placement and on mobile web you see

00:35:00,440 --> 00:35:04,830
maybe a smaller version of that a

00:35:02,970 --> 00:35:06,960
smaller image and over on the right and

00:35:04,830 --> 00:35:11,550
our and the data and the in the data

00:35:06,960 --> 00:35:15,150
feed you might see an XML an XML you

00:35:11,550 --> 00:35:17,400
know X or that some platform that would

00:35:15,150 --> 00:35:21,510
be consuming that data would then take

00:35:17,400 --> 00:35:23,910
that XML data to use to to present that

00:35:21,510 --> 00:35:27,300
weather node that that YouTube video and

00:35:23,910 --> 00:35:31,680
their their platform and in the way

00:35:27,300 --> 00:35:33,270
that's appropriate for their platform so

00:35:31,680 --> 00:35:34,770
as I said before the weather nodes they

00:35:33,270 --> 00:35:37,530
are full-featured knows are first-class

00:35:34,770 --> 00:35:39,420
entities they're really nodes with

00:35:37,530 --> 00:35:41,430
benefits because these are nodes that

00:35:39,420 --> 00:35:47,550
can be used within the button bar what I

00:35:41,430 --> 00:35:50,040
what is it they're trackable there must

00:35:47,550 --> 00:35:52,590
be some in that's some insinuation from

00:35:50,040 --> 00:35:54,480
that that I don't get they're trackable

00:35:52,590 --> 00:35:56,100
flexible so you can use them in multiple

00:35:54,480 --> 00:35:57,630
places they can stand alone as full

00:35:56,100 --> 00:35:59,310
first-class entities that YouTube video

00:35:57,630 --> 00:36:00,570
exists on the site you can use it for a

00:35:59,310 --> 00:36:04,460
number of things you might just drop it

00:36:00,570 --> 00:36:06,810
into a feed some work as it is so the

00:36:04,460 --> 00:36:08,640
two kind of drive home the point

00:36:06,810 --> 00:36:10,110
here's that button bar again you can see

00:36:08,640 --> 00:36:10,780
the YouTube one there's an external

00:36:10,110 --> 00:36:13,000
image

00:36:10,780 --> 00:36:15,190
Twitter and here the content types that

00:36:13,000 --> 00:36:16,570
represent them now this is where I can

00:36:15,190 --> 00:36:18,580
really go off the rails in terms of deep

00:36:16,570 --> 00:36:20,800
technical detail do not go off the rails

00:36:18,580 --> 00:36:24,660
I've decided I'm not going to go off the

00:36:20,800 --> 00:36:24,660
rails on deep technical detail good call

00:36:25,950 --> 00:36:32,200
right then so we have Wix node entities

00:36:30,730 --> 00:36:34,540
the first-class entities those are nodes

00:36:32,200 --> 00:36:35,860
we have tokens in the article body as

00:36:34,540 --> 00:36:38,350
you saw represented by those little

00:36:35,860 --> 00:36:40,630
short images and we want to manage the

00:36:38,350 --> 00:36:42,010
presentations of them we want to have it

00:36:40,630 --> 00:36:44,560
that present differently whether you're

00:36:42,010 --> 00:36:48,340
viewing on the big web mobile desktop

00:36:44,560 --> 00:36:51,550
iPhone landscape or maybe even in an XML

00:36:48,340 --> 00:36:56,140
feed so what we did for that is keeping

00:36:51,550 --> 00:36:58,840
technical details all right so one of

00:36:56,140 --> 00:37:02,200
the critical parts of of actual carrying

00:36:58,840 --> 00:37:04,180
out the the page serving is the creation

00:37:02,200 --> 00:37:05,830
of the presentation framework and in

00:37:04,180 --> 00:37:07,480
JSON architected the presentation

00:37:05,830 --> 00:37:09,390
framework basically it's a mechanism for

00:37:07,480 --> 00:37:12,640
allowing us to put modules on a page

00:37:09,390 --> 00:37:15,520
those modules can be angular modules

00:37:12,640 --> 00:37:18,490
they can be PHP modules they can be

00:37:15,520 --> 00:37:20,830
inline code but effectively gives us the

00:37:18,490 --> 00:37:22,840
ability to serve them either statically

00:37:20,830 --> 00:37:26,320
being served by Drupal or being served

00:37:22,840 --> 00:37:28,980
by an ESI depending on what the use case

00:37:26,320 --> 00:37:32,380
is and what the hit is back to origin

00:37:28,980 --> 00:37:34,990
one of the main benefits is simplifying

00:37:32,380 --> 00:37:36,160
the creation of modules for the

00:37:34,990 --> 00:37:38,860
functionality that we're trying to build

00:37:36,160 --> 00:37:42,280
rapidly if we're if our developers are

00:37:38,860 --> 00:37:44,350
their core language is is angularjs and

00:37:42,280 --> 00:37:46,840
their focus is building on angularjs

00:37:44,350 --> 00:37:49,480
modules they can they can build their

00:37:46,840 --> 00:37:52,900
angularjs talking to our data services

00:37:49,480 --> 00:37:54,040
layer they can build it rapidly in their

00:37:52,900 --> 00:37:55,480
own environment in their test

00:37:54,040 --> 00:37:58,690
environment and they can do it without

00:37:55,480 --> 00:38:00,880
knowing a whole lot about Drupal so we

00:37:58,690 --> 00:38:02,740
can leverage we're able to leverage a

00:38:00,880 --> 00:38:04,630
lot of our existing talent because we

00:38:02,740 --> 00:38:08,020
have a lot of strong JavaScript HTML and

00:38:04,630 --> 00:38:09,190
CSS people so it's simplified a little

00:38:08,020 --> 00:38:11,230
bit of the of the creation process

00:38:09,190 --> 00:38:13,450
because we didn't have to go hard a

00:38:11,230 --> 00:38:15,010
bunch of PHP developers not that there's

00:38:13,450 --> 00:38:17,920
anything wrong with that it's just we

00:38:15,010 --> 00:38:19,570
didn't have any of them so angularjs is

00:38:17,920 --> 00:38:21,070
makes that easier for us and the

00:38:19,570 --> 00:38:21,880
presentation framework supports that

00:38:21,070 --> 00:38:25,160
native

00:38:21,880 --> 00:38:26,870
and so again I just wanted to summarize

00:38:25,160 --> 00:38:28,520
what we've all gone through we have

00:38:26,870 --> 00:38:29,990
little panels there's little widgets we

00:38:28,520 --> 00:38:31,370
talked about these are these widgets

00:38:29,990 --> 00:38:32,960
that are on this page they're outlined

00:38:31,370 --> 00:38:34,910
in blue and red these are actually

00:38:32,960 --> 00:38:37,010
presentation framework modules that the

00:38:34,910 --> 00:38:40,460
the presentation framework system was

00:38:37,010 --> 00:38:43,460
built to serve these so it basically

00:38:40,460 --> 00:38:45,500
creates panel panes that are also just

00:38:43,460 --> 00:38:48,050
independently renderable they're

00:38:45,500 --> 00:38:50,690
reusable exportable that is to say you

00:38:48,050 --> 00:38:52,220
can deploy them again so they as part of

00:38:50,690 --> 00:38:53,780
the panel when you're doing your layouts

00:38:52,220 --> 00:38:55,940
you did you build a seasonal page say

00:38:53,780 --> 00:38:58,640
you can export that as a feature reuse

00:38:55,940 --> 00:39:00,470
it next year so each of them has

00:38:58,640 --> 00:39:03,710
independent so that means they all have

00:39:00,470 --> 00:39:05,240
their own configuration so panel

00:39:03,710 --> 00:39:07,940
serializes it with it so it goes out

00:39:05,240 --> 00:39:10,340
with the feature and they're versions so

00:39:07,940 --> 00:39:11,930
if it happens that and this is a point

00:39:10,340 --> 00:39:13,130
I'm not sure we've made very clearly but

00:39:11,930 --> 00:39:14,260
the development team that's actually

00:39:13,130 --> 00:39:16,850
creating the presentation framework

00:39:14,260 --> 00:39:18,110
modules that's the weather channel team

00:39:16,850 --> 00:39:20,480
and they're doing this right using

00:39:18,110 --> 00:39:22,460
straight HTML Javascript and an info

00:39:20,480 --> 00:39:23,660
file in JSON so these are really

00:39:22,460 --> 00:39:24,860
straightforward modules to build and

00:39:23,660 --> 00:39:27,200
they want to be able to build a lot of

00:39:24,860 --> 00:39:28,610
them so they're independently version

00:39:27,200 --> 00:39:30,350
because let's say that there's a

00:39:28,610 --> 00:39:32,030
forecast module that we later on decide

00:39:30,350 --> 00:39:34,670
we want to add a title to well all the

00:39:32,030 --> 00:39:35,960
extant versions need to be updated or we

00:39:34,670 --> 00:39:38,150
have to write code that acknowledges

00:39:35,960 --> 00:39:40,190
that the old versions exist so we track

00:39:38,150 --> 00:39:41,510
where all the modules are used we have a

00:39:40,190 --> 00:39:43,010
thing that tells you how often some

00:39:41,510 --> 00:39:47,180
things used to kind of get popularity

00:39:43,010 --> 00:39:48,740
and maybe feed into metrics so my slide

00:39:47,180 --> 00:39:50,240
before I skip ahead again but each of

00:39:48,740 --> 00:39:51,590
the modules are just a single folder

00:39:50,240 --> 00:39:53,930
that contains details about how the

00:39:51,590 --> 00:39:55,490
system works the JSON file indicates

00:39:53,930 --> 00:39:58,130
whether or not this particular modules

00:39:55,490 --> 00:39:59,750
can be delivering using ESI or if it's

00:39:58,130 --> 00:40:01,820
going to be using angular or if it's

00:39:59,750 --> 00:40:03,710
going to be just displayed static the

00:40:01,820 --> 00:40:05,870
template files the tipple FIPS can be

00:40:03,710 --> 00:40:07,340
PHP template so you can put code in

00:40:05,870 --> 00:40:13,100
there though it's strongly discouraged

00:40:07,340 --> 00:40:15,410
for obvious reasons so just to summarize

00:40:13,100 --> 00:40:17,330
we have the article body they click a

00:40:15,410 --> 00:40:19,190
button they get a pop-up that allows

00:40:17,330 --> 00:40:20,780
them to choose a YouTube video say enter

00:40:19,190 --> 00:40:22,550
a little bit of details they save it

00:40:20,780 --> 00:40:24,200
answers the article body and it's

00:40:22,550 --> 00:40:27,310
available for presentation differently

00:40:24,200 --> 00:40:30,400
on all the various output so we have

00:40:27,310 --> 00:40:33,400
alright so page building is big

00:40:30,400 --> 00:40:34,810
before we can actually you know present

00:40:33,400 --> 00:40:37,090
something to our end-users we have type

00:40:34,810 --> 00:40:40,180
of page and today our current page

00:40:37,090 --> 00:40:42,190
building process is is not horrible it's

00:40:40,180 --> 00:40:43,900
similar to how we do it with Drupal and

00:40:42,190 --> 00:40:46,270
that there's modules we put modules on

00:40:43,900 --> 00:40:48,610
the page but it's not near as flexible

00:40:46,270 --> 00:40:51,700
and not quite doesn't support the rapid

00:40:48,610 --> 00:40:53,860
page building that we need currently our

00:40:51,700 --> 00:40:55,870
system it doesn't doesn't really handle

00:40:53,860 --> 00:40:57,250
the the mini templates that we have

00:40:55,870 --> 00:40:59,230
they're hard to track that are hard to

00:40:57,250 --> 00:41:00,940
they're hard to find they're hard to

00:40:59,230 --> 00:41:04,270
reuse it's it's just not a very

00:41:00,940 --> 00:41:07,960
efficient system for you know a highly

00:41:04,270 --> 00:41:09,460
optimized team we need URL parity across

00:41:07,960 --> 00:41:11,920
all of our platforms we don't have that

00:41:09,460 --> 00:41:13,300
today partly because of our current

00:41:11,920 --> 00:41:15,400
content management system but partly

00:41:13,300 --> 00:41:16,450
because of the legacy technical depth

00:41:15,400 --> 00:41:18,550
that we have that we're trying to get

00:41:16,450 --> 00:41:20,260
rid of Drupal gives that to us it

00:41:18,550 --> 00:41:22,150
provides a mechanism to give us URL

00:41:20,260 --> 00:41:24,100
parity across big web mobile web and

00:41:22,150 --> 00:41:26,350
even when we bring our international

00:41:24,100 --> 00:41:30,760
properties into into our drupal we

00:41:26,350 --> 00:41:32,530
should be able to do the same and then

00:41:30,760 --> 00:41:34,630
our current environment it's an

00:41:32,530 --> 00:41:36,970
inflexible lay it's an inflexible layout

00:41:34,630 --> 00:41:39,610
the what happens when you try to drag a

00:41:36,970 --> 00:41:41,560
module and you need to configure it the

00:41:39,610 --> 00:41:43,860
configurability of it is really painful

00:41:41,560 --> 00:41:46,390
and you have little to no control over

00:41:43,860 --> 00:41:47,620
setting parameters controlling how that

00:41:46,390 --> 00:41:50,350
module is going to behave on the page so

00:41:47,620 --> 00:41:51,940
we wanted to have a mechanism that we

00:41:50,350 --> 00:41:54,700
could easily configure a module we could

00:41:51,940 --> 00:41:56,410
use a single module for a current

00:41:54,700 --> 00:41:59,050
condition module in three places and

00:41:56,410 --> 00:42:01,300
make that module behave differently in

00:41:59,050 --> 00:42:02,770
those three places and in all three

00:42:01,300 --> 00:42:04,480
places without having to have three

00:42:02,770 --> 00:42:06,070
different modules and we need a

00:42:04,480 --> 00:42:07,690
flexibility and how those modules are

00:42:06,070 --> 00:42:09,130
configured and Drupal gives us a lot of

00:42:07,690 --> 00:42:13,330
flexibility and how we do that where a

00:42:09,130 --> 00:42:14,440
current system does not so one of the

00:42:13,330 --> 00:42:16,360
ways we addressed all those requirements

00:42:14,440 --> 00:42:17,680
we use a system called panels the lot of

00:42:16,360 --> 00:42:19,690
you probably familiar with it familiar

00:42:17,680 --> 00:42:21,190
with Drupal it is a very intimidating

00:42:19,690 --> 00:42:23,470
system at first but once you get through

00:42:21,190 --> 00:42:25,960
the training it's a very powerful and

00:42:23,470 --> 00:42:27,850
flexible framework it and what it using

00:42:25,960 --> 00:42:31,030
for in our cases allows us to group a

00:42:27,850 --> 00:42:32,320
lot of the related variants of a page so

00:42:31,030 --> 00:42:34,270
for example we're talking about a

00:42:32,320 --> 00:42:35,920
forecast page there may be a variant

00:42:34,270 --> 00:42:37,480
that's exist for big web there may be a

00:42:35,920 --> 00:42:38,770
variant for mobile web it may have a

00:42:37,480 --> 00:42:41,200
different layout if the site is in

00:42:38,770 --> 00:42:42,610
severe mode versus not there may also be

00:42:41,200 --> 00:42:42,960
a situation where we deliver a four or

00:42:42,610 --> 00:42:45,270
four

00:42:42,960 --> 00:42:47,099
Paige with a specific type of layout so

00:42:45,270 --> 00:42:48,480
that gives us simpler management of

00:42:47,099 --> 00:42:49,859
those those various aspects

00:42:48,480 --> 00:42:50,760
traditionally in the past he would have

00:42:49,859 --> 00:42:52,740
had to go to a completely different

00:42:50,760 --> 00:42:56,310
place maybe search for the page layout

00:42:52,740 --> 00:42:57,720
may be edited in HTML or JSP we don't

00:42:56,310 --> 00:42:59,970
necessarily want to expose people to

00:42:57,720 --> 00:43:01,380
that pain the other thing is we get the

00:42:59,970 --> 00:43:02,940
better to use those variants once we

00:43:01,380 --> 00:43:05,790
built something once we can clone it and

00:43:02,940 --> 00:43:07,859
reuse it on other pages so let me give

00:43:05,790 --> 00:43:09,420
you an example of the type working it's

00:43:07,859 --> 00:43:11,869
all can we give you an example of the

00:43:09,420 --> 00:43:15,470
type of layouts we have available to us

00:43:11,869 --> 00:43:19,020
Wow nothing guys you're already asleep

00:43:15,470 --> 00:43:21,480
so we gave the weather channel a series

00:43:19,020 --> 00:43:22,950
of layouts these are basically 9 layouts

00:43:21,480 --> 00:43:25,650
that we gave them and this might be

00:43:22,950 --> 00:43:28,349
considered inflexible if we didn't give

00:43:25,650 --> 00:43:30,000
them also the ability to modify the

00:43:28,349 --> 00:43:31,680
layout within it so you can see here

00:43:30,000 --> 00:43:33,270
this is something a break from what you

00:43:31,680 --> 00:43:34,530
might get a normal panels interface we

00:43:33,270 --> 00:43:36,810
have a single row but we have two

00:43:34,530 --> 00:43:38,369
widgets side by side the way we did that

00:43:36,810 --> 00:43:40,859
we introduced a module called class II

00:43:38,369 --> 00:43:42,410
panels and what class II panels does is

00:43:40,859 --> 00:43:44,940
it allows you to change settings by

00:43:42,410 --> 00:43:47,339
saying that for this particular pane we

00:43:44,940 --> 00:43:49,410
want it to be 50% width or a 33% width

00:43:47,339 --> 00:43:51,780
and it'll automatically acclimate to the

00:43:49,410 --> 00:43:54,990
size of the container so here's an

00:43:51,780 --> 00:43:57,359
example of it in use button set that the

00:43:54,990 --> 00:43:59,160
33% width and boom we can drag it from

00:43:57,359 --> 00:44:05,480
one section to another and then instant

00:43:59,160 --> 00:44:08,070
layout happiness so sorry so variants

00:44:05,480 --> 00:44:10,109
one of the benefits of panels is it

00:44:08,070 --> 00:44:13,440
gives us the ability to choose variants

00:44:10,109 --> 00:44:16,310
so provides largely provides our

00:44:13,440 --> 00:44:18,869
capability for doing URL parity but also

00:44:16,310 --> 00:44:20,520
providing different pages for the same

00:44:18,869 --> 00:44:22,290
URL for different conditions different

00:44:20,520 --> 00:44:24,000
context that context might be a

00:44:22,290 --> 00:44:26,730
different device it could be a mobile

00:44:24,000 --> 00:44:29,010
web over over big web it could be a

00:44:26,730 --> 00:44:34,170
severe weather situation versus a non

00:44:29,010 --> 00:44:35,640
severe situation but other types of rule

00:44:34,170 --> 00:44:37,740
any type of rule that we might need to

00:44:35,640 --> 00:44:40,650
configure in the future a sponsorship

00:44:37,740 --> 00:44:42,030
maybe can allow us for that same URL to

00:44:40,650 --> 00:44:46,020
show a different page variant which

00:44:42,030 --> 00:44:47,700
creates an extremely flexible solution

00:44:46,020 --> 00:44:49,619
for presenting pages to the user so the

00:44:47,700 --> 00:44:50,670
context to what they're doing where

00:44:49,619 --> 00:44:51,480
they're at and the conditions that are

00:44:50,670 --> 00:44:55,300
going on

00:44:51,480 --> 00:44:58,510
it's highly taken into consideration all

00:44:55,300 --> 00:44:59,950
right so we're we're able to really use

00:44:58,510 --> 00:45:00,940
selection rules and panels and what

00:44:59,950 --> 00:45:01,480
those selection rules are they're

00:45:00,940 --> 00:45:05,830
basically

00:45:01,480 --> 00:45:08,200
UI driven selection rules they allow you

00:45:05,830 --> 00:45:10,420
to choose what basis particular variants

00:45:08,200 --> 00:45:12,430
are chosen so here's a use case we have

00:45:10,420 --> 00:45:14,560
these six layouts for say a forecast

00:45:12,430 --> 00:45:16,780
page if we are looking at the forecast

00:45:14,560 --> 00:45:18,250
page for a location we know exists we

00:45:16,780 --> 00:45:20,560
don't need the four or four versions of

00:45:18,250 --> 00:45:22,300
it and if we're visiting from a big web

00:45:20,560 --> 00:45:24,730
versus a mobile browser we don't need

00:45:22,300 --> 00:45:26,410
the mobile variants and if we know the

00:45:24,730 --> 00:45:28,420
weather is in severe mode will use the

00:45:26,410 --> 00:45:29,950
severe variant and so the selection

00:45:28,420 --> 00:45:32,770
rules drive which layout is actually

00:45:29,950 --> 00:45:36,790
delivered and then we Drupal has many

00:45:32,770 --> 00:45:38,130
the page generation process simpler so

00:45:36,790 --> 00:45:40,240
what's next

00:45:38,130 --> 00:45:41,770
Jason's been promising me a continuous

00:45:40,240 --> 00:45:43,030
integration environment for a while so I

00:45:41,770 --> 00:45:46,870
think we're getting close to getting

00:45:43,030 --> 00:45:49,230
that in place continuous right Jason I'm

00:45:46,870 --> 00:45:51,910
continuously promising it yeah

00:45:49,230 --> 00:45:53,890
performance testing we're long we're a

00:45:51,910 --> 00:45:56,500
long way into the project we hope to

00:45:53,890 --> 00:45:59,910
have a launch this year if we don't were

00:45:56,500 --> 00:46:02,200
all fired but performance testing is

00:45:59,910 --> 00:46:03,760
really big and we hope to get it in the

00:46:02,200 --> 00:46:05,320
next couple of months still have some

00:46:03,760 --> 00:46:06,580
functionality to build but we feel

00:46:05,320 --> 00:46:11,860
confident we can take care of it this

00:46:06,580 --> 00:46:13,150
year so a number of controls have come

00:46:11,860 --> 00:46:14,650
out of this these are the ones that are

00:46:13,150 --> 00:46:16,120
probably worth the most attention we

00:46:14,650 --> 00:46:18,430
discussed how these modules during the

00:46:16,120 --> 00:46:20,470
presentation custom are classy panel

00:46:18,430 --> 00:46:22,150
styles that was one we developed that

00:46:20,470 --> 00:46:24,220
allows you to change the way the layout

00:46:22,150 --> 00:46:25,480
worked within the pre-existing layouts

00:46:24,220 --> 00:46:27,430
there's actually going to be a power

00:46:25,480 --> 00:46:28,420
session on this a little bit later Derek

00:46:27,430 --> 00:46:30,400
their apps and Kendall Taunton are

00:46:28,420 --> 00:46:33,520
delivering it together it'll be at the

00:46:30,400 --> 00:46:35,410
media current booth Wix node framework

00:46:33,520 --> 00:46:38,380
that is to say that the one that allows

00:46:35,410 --> 00:46:40,180
you to drop rich media elements into the

00:46:38,380 --> 00:46:42,250
article body that's becoming wizzy field

00:46:40,180 --> 00:46:43,510
and that's already in sandbox that will

00:46:42,250 --> 00:46:45,220
be made available soon I'll put it in

00:46:43,510 --> 00:46:47,830
the presentation notes I didn't have the

00:46:45,220 --> 00:46:49,360
sandbox URL available to me and the

00:46:47,830 --> 00:46:50,830
presentation framework it has a little

00:46:49,360 --> 00:46:52,090
bit more work to be done before it's

00:46:50,830 --> 00:46:53,650
rounded out enough to be a generic

00:46:52,090 --> 00:46:55,180
module there are too many weather

00:46:53,650 --> 00:46:56,860
channels specific things in there so

00:46:55,180 --> 00:46:58,150
that one's all coming up as well and

00:46:56,860 --> 00:47:03,870
these will be really great additions to

00:46:58,150 --> 00:47:03,870
the Drupal community thank you

00:47:07,660 --> 00:47:12,380
before we take any questions I just I do

00:47:09,980 --> 00:47:14,360
want to thank I give them a hard time

00:47:12,380 --> 00:47:15,770
but we've we've really enjoyed our

00:47:14,360 --> 00:47:18,230
relationship with media current and now

00:47:15,770 --> 00:47:20,720
the thing you know Jason and Dave and

00:47:18,230 --> 00:47:22,400
all the other media current guys and and

00:47:20,720 --> 00:47:23,570
also Acquia who has been a great partner

00:47:22,400 --> 00:47:25,580
with us from the day that we started

00:47:23,570 --> 00:47:27,920
this helping us with with high-level

00:47:25,580 --> 00:47:29,570
architectural decisions and and really

00:47:27,920 --> 00:47:32,090
guiding us through this so I think

00:47:29,570 --> 00:47:33,620
thanks to both media current and an

00:47:32,090 --> 00:47:37,250
aquifer their guidance along the way

00:47:33,620 --> 00:47:39,530
also I our friends at NBC you big big

00:47:37,250 --> 00:47:40,880
help in mentoring us early on to kind of

00:47:39,530 --> 00:47:42,620
push us in this direction to make sure

00:47:40,880 --> 00:47:45,620
that we're validating again that we were

00:47:42,620 --> 00:47:47,270
making the right decision so we have a

00:47:45,620 --> 00:47:50,030
mic in the back if there's any questions

00:47:47,270 --> 00:47:51,440
what is your content deployment strategy

00:47:50,030 --> 00:47:53,900
going to be like with so many different

00:47:51,440 --> 00:47:55,580
articles are you deploying from stage to

00:47:53,900 --> 00:47:58,400
prod are your people directly on

00:47:55,580 --> 00:48:02,090
production could you talk about that for

00:47:58,400 --> 00:48:03,350
a little bit one of you yeah the article

00:48:02,090 --> 00:48:05,450
of creation is actually going to happen

00:48:03,350 --> 00:48:06,920
on a production instance so the articles

00:48:05,450 --> 00:48:09,860
will be made available the reason for

00:48:06,920 --> 00:48:11,420
this is that the delay between that that

00:48:09,860 --> 00:48:12,800
comes from moving from a staging

00:48:11,420 --> 00:48:14,030
environment to production environment

00:48:12,800 --> 00:48:15,680
and the benefits that they get from it

00:48:14,030 --> 00:48:17,450
was deemed not worth the effort the

00:48:15,680 --> 00:48:19,400
articles are also fairly volatile it's

00:48:17,450 --> 00:48:22,100
okay if we lose one or two the ones that

00:48:19,400 --> 00:48:23,630
are evergreen those are stored so and do

00:48:22,100 --> 00:48:26,210
you have any concerns about having a

00:48:23,630 --> 00:48:32,900
cold cache when you do clear the cache

00:48:26,210 --> 00:48:34,280
on production no how come part of our

00:48:32,900 --> 00:48:37,700
process is we are going to be writing

00:48:34,280 --> 00:48:40,010
some what do you call it - the problem

00:48:37,700 --> 00:48:41,510
is to expire no no where were you you

00:48:40,010 --> 00:48:43,640
prime the cache primers

00:48:41,510 --> 00:48:44,960
yeah cache primers so yeah and the cache

00:48:43,640 --> 00:48:46,970
priming will be easier because of course

00:48:44,960 --> 00:48:49,090
Drupal manages all the assets and we're

00:48:46,970 --> 00:48:53,080
going to have a system set up that

00:48:49,090 --> 00:48:53,080
paralyzes the the priming so

00:48:55,070 --> 00:49:00,170
for the section you're embedding the

00:48:58,010 --> 00:49:01,640
information the rich media are you

00:49:00,170 --> 00:49:04,390
actually embedding some sort of token

00:49:01,640 --> 00:49:07,790
into the body field are you how is that

00:49:04,390 --> 00:49:10,040
yeah yeah it is actually it's a it is a

00:49:07,790 --> 00:49:11,810
token but it's not a token API token and

00:49:10,040 --> 00:49:13,820
the reason for that is that token API

00:49:11,810 --> 00:49:15,410
does some things that we wanted to we

00:49:13,820 --> 00:49:16,790
wanted to do a little bit differently we

00:49:15,410 --> 00:49:19,580
wanted more control over the end-to-end

00:49:16,790 --> 00:49:21,620
and so we use our own token we invoke we

00:49:19,580 --> 00:49:23,290
use hook filter info to declare a filter

00:49:21,620 --> 00:49:25,820
processor and we process it on

00:49:23,290 --> 00:49:28,460
presentation does that answer the

00:49:25,820 --> 00:49:30,470
question yeah question for Chris you

00:49:28,460 --> 00:49:32,390
have any colleagues in media or in tech

00:49:30,470 --> 00:49:36,890
who questioned or continued to question

00:49:32,390 --> 00:49:40,580
your decision for Drupal nothing else

00:49:36,890 --> 00:49:43,160
yeah just media current no not really I

00:49:40,580 --> 00:49:46,660
mean we like I said we've at least in

00:49:43,160 --> 00:49:48,560
you know in inside The Weather Channel

00:49:46,660 --> 00:49:51,050
surprisingly we were not questioned at

00:49:48,560 --> 00:49:53,840
all largely because of our support of

00:49:51,050 --> 00:49:57,260
open source for a long time outside of

00:49:53,840 --> 00:49:59,120
the Weather Channel I've not read we've

00:49:57,260 --> 00:50:01,400
not really you know broadcasted what

00:49:59,120 --> 00:50:03,260
we're doing so to speak so there's not

00:50:01,400 --> 00:50:05,630
really been I guess an avenue for people

00:50:03,260 --> 00:50:08,150
to tell us that we're crazy for going

00:50:05,630 --> 00:50:09,530
that route but we have a tendency to do

00:50:08,150 --> 00:50:11,840
what we want anyway so we really don't

00:50:09,530 --> 00:50:13,820
care but no danger question we've not

00:50:11,840 --> 00:50:19,760
heard any any any negatives about this

00:50:13,820 --> 00:50:22,390
this decision so I saw you had sort of

00:50:19,760 --> 00:50:24,920
preview images maybe just on your slides

00:50:22,390 --> 00:50:26,690
between the different like big web

00:50:24,920 --> 00:50:28,720
mobile layouts and so on do you have any

00:50:26,690 --> 00:50:30,740
sort of preview tool for content editors

00:50:28,720 --> 00:50:33,590
to see what its gonna look like in

00:50:30,740 --> 00:50:35,390
different contexts so we're using

00:50:33,590 --> 00:50:37,130
publication status and the ability to

00:50:35,390 --> 00:50:38,720
view unpublished versus published

00:50:37,130 --> 00:50:40,960
articles and the way that the firewalls

00:50:38,720 --> 00:50:44,450
are basically built up to do previewing

00:50:40,960 --> 00:50:48,050
we started on a process of enhancing the

00:50:44,450 --> 00:50:49,490
built in panels preview system but given

00:50:48,050 --> 00:50:51,440
the amount of effort it looked like that

00:50:49,490 --> 00:50:58,070
was going to take we we stuck with what

00:50:51,440 --> 00:50:59,870
we with the presentation yeah so with

00:50:58,070 --> 00:51:01,460
how you use an angular it seems like

00:50:59,870 --> 00:51:03,650
you've probably got a few round trips

00:51:01,460 --> 00:51:06,260
before all your contents fully loaded

00:51:03,650 --> 00:51:07,460
have you guys had difficulties or seen

00:51:06,260 --> 00:51:09,740
complaints around that

00:51:07,460 --> 00:51:11,210
no we've done a couple of tests but the

00:51:09,740 --> 00:51:12,590
the key thing that I think of what

00:51:11,210 --> 00:51:13,880
you're getting at is that every one of

00:51:12,590 --> 00:51:17,810
the angular modules is going to do its

00:51:13,880 --> 00:51:19,250
own request in an actual fact the many

00:51:17,810 --> 00:51:20,930
of the requests are of a similar type

00:51:19,250 --> 00:51:22,340
and the queries are built to be

00:51:20,930 --> 00:51:25,070
aggregated all so you can do a single

00:51:22,340 --> 00:51:26,630
query and get aggregate results so

00:51:25,070 --> 00:51:28,910
there's an abstraction layer between the

00:51:26,630 --> 00:51:31,550
angular modules and the the call of the

00:51:28,910 --> 00:51:32,960
service calls and that manages which how

00:51:31,550 --> 00:51:34,610
many calls actually get made so if

00:51:32,960 --> 00:51:36,200
you're requesting six articles it

00:51:34,610 --> 00:51:38,810
requests all six from a single request

00:51:36,200 --> 00:51:41,540
rather than six round trips now that is

00:51:38,810 --> 00:51:43,340
that there still are a number of round

00:51:41,540 --> 00:51:45,230
trips that happen in angular but the way

00:51:43,340 --> 00:51:47,840
the page is built we're minimizing the

00:51:45,230 --> 00:51:49,400
impact of it again it all goes back to

00:51:47,840 --> 00:51:52,790
the cache ability cache ability of the

00:51:49,400 --> 00:51:54,740
data in the browser itself on the client

00:51:52,790 --> 00:51:57,590
cache ability of the data from the data

00:51:54,740 --> 00:51:59,570
services layer at Akamai caching of the

00:51:57,590 --> 00:52:04,240
page template there's so much caching

00:51:59,570 --> 00:52:06,860
involved that you wanted to reduce as

00:52:04,240 --> 00:52:09,050
much as possible that hits back on

00:52:06,860 --> 00:52:10,430
Drupal because we don't wanna have to

00:52:09,050 --> 00:52:13,400
load every page it comes to our site

00:52:10,430 --> 00:52:14,840
loaded out of a database by the

00:52:13,400 --> 00:52:16,970
different layers of cache ability we're

00:52:14,840 --> 00:52:18,200
confident that will give us the the

00:52:16,970 --> 00:52:20,060
performance that we need even though

00:52:18,200 --> 00:52:22,280
you're right there are there are a lot

00:52:20,060 --> 00:52:24,320
of hits outside that on that page going

00:52:22,280 --> 00:52:25,550
to our data services layer but we're you

00:52:24,320 --> 00:52:32,060
know the testing we've done have shown

00:52:25,550 --> 00:52:33,530
that it will be performing when you talk

00:52:32,060 --> 00:52:35,270
about the data services layers that

00:52:33,530 --> 00:52:36,650
completely external and Drupal and then

00:52:35,270 --> 00:52:38,540
you just bring in that data at the time

00:52:36,650 --> 00:52:40,250
of rendering yeah it's a completely

00:52:38,540 --> 00:52:44,980
separate system that was built with

00:52:40,250 --> 00:52:48,290
Scala on MongoDB and it's kind of a

00:52:44,980 --> 00:52:50,780
almost a data warehouse of data that

00:52:48,290 --> 00:52:52,880
comes from multiple sources disparate

00:52:50,780 --> 00:52:56,510
sources from our weather forecasting

00:52:52,880 --> 00:53:00,080
data we push all of our article content

00:52:56,510 --> 00:53:01,100
into it and it's basically pushes it out

00:53:00,080 --> 00:53:03,770
into the cloud

00:53:01,100 --> 00:53:05,780
restful api into that has no touch

00:53:03,770 --> 00:53:08,990
points with Drupal whatsoever other than

00:53:05,780 --> 00:53:11,240
the calls that we make to it and Drupal

00:53:08,990 --> 00:53:13,340
pushes content into it yeah yeah Drupal

00:53:11,240 --> 00:53:16,400
pushes the article content into it for

00:53:13,340 --> 00:53:18,710
sure yeah the idea behind the the data

00:53:16,400 --> 00:53:21,319
services layer is that it's it basically

00:53:18,710 --> 00:53:22,880
it's a really powerful key value store

00:53:21,319 --> 00:53:24,739
and as you know key value stores are

00:53:22,880 --> 00:53:27,259
very easy to scale so this took the most

00:53:24,739 --> 00:53:29,180
you know traffic demanding part of the

00:53:27,259 --> 00:53:32,119
entire equation and made it a lot

00:53:29,180 --> 00:53:33,440
simpler to manage and the group that

00:53:32,119 --> 00:53:34,729
works on that data services layer just

00:53:33,440 --> 00:53:37,670
go a little bit deeper since you asked

00:53:34,729 --> 00:53:40,449
about it we sit right beside them we've

00:53:37,670 --> 00:53:43,160
got web developers our core reboot team

00:53:40,449 --> 00:53:45,049
and and the group that builds that data

00:53:43,160 --> 00:53:46,880
services layer so they're all you know

00:53:45,049 --> 00:53:50,930
we could reach out and again touch each

00:53:46,880 --> 00:53:52,069
other so we're very close and and though

00:53:50,930 --> 00:53:54,469
we're not in production with this

00:53:52,069 --> 00:53:56,469
platform yet the idea is that once we go

00:53:54,469 --> 00:53:59,479
into production as new products are

00:53:56,469 --> 00:54:02,449
requested by our our product teams and

00:53:59,479 --> 00:54:05,059
the developers you know decide you know

00:54:02,449 --> 00:54:07,400
work with with that that that back-end

00:54:05,059 --> 00:54:09,259
data services group to figure out what

00:54:07,400 --> 00:54:11,749
data we need we work closely together to

00:54:09,259 --> 00:54:13,489
to provide the services that we need if

00:54:11,749 --> 00:54:16,160
they don't already exist a lot of cases

00:54:13,489 --> 00:54:18,229
they might not already exist so we feel

00:54:16,160 --> 00:54:24,999
it would be a very rapid type you know

00:54:18,229 --> 00:54:24,999
relationship any other questions

00:54:31,580 --> 00:54:38,070
what he said was that he was really lazy

00:54:35,450 --> 00:54:42,090
and he thoroughly enjoyed the

00:54:38,070 --> 00:54:44,010
presentation thank you yeah we have had

00:54:42,090 --> 00:54:46,740
a lot of data migration problems not

00:54:44,010 --> 00:54:49,110
necessarily because of data migration

00:54:46,740 --> 00:54:51,420
problems but because we've changed their

00:54:49,110 --> 00:54:53,280
mind several times on you know I'm how

00:54:51,420 --> 00:54:55,470
you know what we want the data to look

00:54:53,280 --> 00:54:58,530
like specifically one of the areas of

00:54:55,470 --> 00:55:00,510
that was kind of a pain was on the

00:54:58,530 --> 00:55:02,220
weather nodes we changed a lot of

00:55:00,510 --> 00:55:03,990
formats and how we wanted them to work

00:55:02,220 --> 00:55:06,630
so they could when they originally built

00:55:03,990 --> 00:55:08,190
they were built to work with our website

00:55:06,630 --> 00:55:09,780
and that's it they weren't built to work

00:55:08,190 --> 00:55:12,000
with our mobile website and how they

00:55:09,780 --> 00:55:14,220
were structured and the way the fields

00:55:12,000 --> 00:55:16,650
were named and all that we also have a

00:55:14,220 --> 00:55:18,690
lot of data with you know images and

00:55:16,650 --> 00:55:20,580
videos and just just lots and lots and

00:55:18,690 --> 00:55:22,350
lots of data and trying to make sure

00:55:20,580 --> 00:55:23,820
that we do the right things with that

00:55:22,350 --> 00:55:29,010
data bring it over in the right way that

00:55:23,820 --> 00:55:32,010
fully maximizes SEO kagura's ation it's

00:55:29,010 --> 00:55:33,180
been it's been a real pain and frankly

00:55:32,010 --> 00:55:36,090
one of the harder things that we've done

00:55:33,180 --> 00:55:38,820
on this project so great question but

00:55:36,090 --> 00:55:41,130
yeah it was it's it's we're not 100%

00:55:38,820 --> 00:55:44,400
there yet we've made you know we're

00:55:41,130 --> 00:55:47,070
probably 80% 80 85 percent done with our

00:55:44,400 --> 00:55:48,440
data migrations we had to do some data

00:55:47,070 --> 00:55:52,590
migrations when we did our original

00:55:48,440 --> 00:55:55,470
Drupal content entry solution because we

00:55:52,590 --> 00:55:58,230
had to bring a bunch of data over but

00:55:55,470 --> 00:56:00,210
we're rebuilding all that with with with

00:55:58,230 --> 00:56:05,280
our reboot project we've got most of it

00:56:00,210 --> 00:56:07,790
done but it has been kind of painful any

00:56:05,280 --> 00:56:07,790
other questions

00:56:18,790 --> 00:56:25,880
yeah the the strategy primarily revolves

00:56:22,730 --> 00:56:29,660
around fan MJS so we're doing fan MJS to

00:56:25,880 --> 00:56:31,010
help provide a lot of that in just in

00:56:29,660 --> 00:56:33,050
case it wasn't capture the question is

00:56:31,010 --> 00:56:34,760
what was a response to SEO problems

00:56:33,050 --> 00:56:35,840
rising from rewriting the page in

00:56:34,760 --> 00:56:40,610
JavaScript yeah

00:56:35,840 --> 00:56:43,520
and just you know anecdotally I don't

00:56:40,610 --> 00:56:45,260
know if anyone's read the article but

00:56:43,520 --> 00:56:47,600
Google now has announced that they're

00:56:45,260 --> 00:56:48,770
gonna start when they when they're doing

00:56:47,600 --> 00:56:50,570
their crawling they're gonna start

00:56:48,770 --> 00:56:53,560
rendering the page more like a browser

00:56:50,570 --> 00:56:55,970
and actually executing the JavaScript

00:56:53,560 --> 00:56:58,060
we're not 100% sure if that's going to

00:56:55,970 --> 00:57:01,070
give us the SEO lift that we need but

00:56:58,060 --> 00:57:03,650
potentially could drastically reduce our

00:57:01,070 --> 00:57:05,690
need for fantage is this literally

00:57:03,650 --> 00:57:08,360
happened last week or week before last

00:57:05,690 --> 00:57:10,630
so it's late-breaking news but good news

00:57:08,360 --> 00:57:10,630
nonetheless

00:57:20,240 --> 00:57:24,180
so the question was can we talk a little

00:57:22,950 --> 00:57:28,080
bit more about how we're managing images

00:57:24,180 --> 00:57:30,600
you want me to take this one I'll handle

00:57:28,080 --> 00:57:33,150
it so we're doing it differently today

00:57:30,600 --> 00:57:36,090
the way we're doing it with if I leave

00:57:33,150 --> 00:57:37,530
anything you couldn't fill in the way

00:57:36,090 --> 00:57:39,900
we're handling in the images today with

00:57:37,530 --> 00:57:41,820
our interim content entry solution is

00:57:39,900 --> 00:57:44,820
different than the way we're doing it

00:57:41,820 --> 00:57:46,170
you know in our new platform today in

00:57:44,820 --> 00:57:48,420
our current platform since it has to

00:57:46,170 --> 00:57:50,370
work with our existing web serving the

00:57:48,420 --> 00:57:51,690
practical platform we're storing we're

00:57:50,370 --> 00:57:52,680
using the same images that have always

00:57:51,690 --> 00:57:54,600
been there

00:57:52,680 --> 00:57:56,700
we just import the metadata and we're

00:57:54,600 --> 00:57:58,860
tracking them in Drupal after we did the

00:57:56,700 --> 00:58:01,350
data imports in the future what's

00:57:58,860 --> 00:58:04,230
happening is images will get loaded into

00:58:01,350 --> 00:58:05,310
into Drupal through normal upload

00:58:04,230 --> 00:58:08,340
functionality just like we're doing

00:58:05,310 --> 00:58:10,560
today and we're storing the metadata for

00:58:08,340 --> 00:58:15,420
those images images pushing those

00:58:10,560 --> 00:58:18,510
mezzanine images to s3 and AWS and our

00:58:15,420 --> 00:58:20,550
data services engine has a mechanism a

00:58:18,510 --> 00:58:23,070
service that will provide image cutting

00:58:20,550 --> 00:58:25,290
for us so once we push those those

00:58:23,070 --> 00:58:27,660
mezzanine images into the data services

00:58:25,290 --> 00:58:31,440
layer as the different clients need

00:58:27,660 --> 00:58:36,170
images for pages or articles or whatever

00:58:31,440 --> 00:58:39,660
they can make a call and grab that image

00:58:36,170 --> 00:58:41,960
I don't think we need to write does that

00:58:39,660 --> 00:58:41,960
answer the question

00:58:43,450 --> 00:58:49,089
we're managing the metadata so the

00:58:46,119 --> 00:58:52,299
searching and applying images to

00:58:49,089 --> 00:58:54,369
articles and using images in in our

00:58:52,299 --> 00:58:57,549
media modules and content surfacing

00:58:54,369 --> 00:58:59,819
inside Drupal to that interface is using

00:58:57,549 --> 00:59:01,960
that image metadata but Drupal is not

00:58:59,819 --> 00:59:05,410
housing the actual images

00:59:01,960 --> 00:59:08,319
well the mezzanine zit is sort of so

00:59:05,410 --> 00:59:10,510
we're using a media module storage API

00:59:08,319 --> 00:59:13,270
and the files the images are stored as

00:59:10,510 --> 00:59:15,190
file entities storage API is delivering

00:59:13,270 --> 00:59:17,319
them an s3 including the mezzanine

00:59:15,190 --> 00:59:19,180
so it basically keeps track of the where

00:59:17,319 --> 00:59:20,559
the they're being stored when they're

00:59:19,180 --> 00:59:23,319
requested they're actually pulled from

00:59:20,559 --> 00:59:24,819
s3 Rhys lysed and delivered locally but

00:59:23,319 --> 00:59:28,140
in the case of things and then cached

00:59:24,819 --> 00:59:28,140

YouTube URL: https://www.youtube.com/watch?v=ehsX6_9TgYc


