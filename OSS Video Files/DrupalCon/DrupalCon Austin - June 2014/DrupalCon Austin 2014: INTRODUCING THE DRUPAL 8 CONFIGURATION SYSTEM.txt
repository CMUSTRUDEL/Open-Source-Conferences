Title: DrupalCon Austin 2014: INTRODUCING THE DRUPAL 8 CONFIGURATION SYSTEM
Publication date: 2014-06-03
Playlist: DrupalCon Austin - June 2014
Description: 
	Speakers: mtift
In Drupal 7 there is no good way to move configuration information between environments because modules store configuration data in different formats.

To help solve this problem, Drupal 8 has a new configuration management system that provides a central place for modules to store configuration data, from simple static data (e.g., site name) to more complex business objects (e.g., field definitions and image styles). This session will outline how to work with the new configuration system from a site building perspective.

Topics will include:

A high level overview of the system
What it means to change configuration in Drupal 8
How to deploy changes to another environment
How to import those changes and make them active
Advanced workflows using multiple environments
How to avoid potential problem areas
Where does Features fit in?
Captions: 
	00:00:00,860 --> 00:00:07,700
alright well let's start off my name is

00:00:03,210 --> 00:00:11,400
Matthew tift and i work at lolla bot I

00:00:07,700 --> 00:00:14,009
am also a configuration system co

00:00:11,400 --> 00:00:19,800
maintainer I've been doing work on

00:00:14,009 --> 00:00:22,380
Drupal core since 2010 or so I think

00:00:19,800 --> 00:00:24,359
actually it was at a drupalcon like this

00:00:22,380 --> 00:00:27,390
where i got my first core patch

00:00:24,359 --> 00:00:28,830
committed in san francisco and i guess i

00:00:27,390 --> 00:00:30,300
should say right now we were having some

00:00:28,830 --> 00:00:32,399
Sprint's on friday so if you're

00:00:30,300 --> 00:00:34,340
interested in helping out either in this

00:00:32,399 --> 00:00:37,399
initiative or any of the other

00:00:34,340 --> 00:00:41,940
initiatives with Drupal 8 be sure to

00:00:37,399 --> 00:00:44,489
stop by on friday i also want to mention

00:00:41,940 --> 00:00:47,219
that where i work at well about we are

00:00:44,489 --> 00:00:50,190
hiring and you can check out the jobs we

00:00:47,219 --> 00:00:53,879
have available there at lullaby com /

00:00:50,190 --> 00:00:55,670
jobs and we have a fun party going on

00:00:53,879 --> 00:00:59,820
tomorrow night i think the 6th annual

00:00:55,670 --> 00:01:03,960
lullaby party will be tomorrow at seven

00:00:59,820 --> 00:01:06,619
o'clock at the handlebar so enough about

00:01:03,960 --> 00:01:10,229
me let's talk a little bit about

00:01:06,619 --> 00:01:14,010
configuration management so specifically

00:01:10,229 --> 00:01:17,280
this session today is geared toward site

00:01:14,010 --> 00:01:21,299
builders this isn't a deep dive into the

00:01:17,280 --> 00:01:24,509
new configuration systems api's or how

00:01:21,299 --> 00:01:26,460
to build a module with the configuration

00:01:24,509 --> 00:01:28,110
system this is geared toward site

00:01:26,460 --> 00:01:31,439
builders and it's an overview of how

00:01:28,110 --> 00:01:34,970
things work now as well as how we think

00:01:31,439 --> 00:01:38,220
how we think things are going to work I

00:01:34,970 --> 00:01:41,130
do expect that there to be some

00:01:38,220 --> 00:01:45,060
confusion with this topic so during this

00:01:41,130 --> 00:01:47,840
talk i will present things as simply as

00:01:45,060 --> 00:01:50,850
possible give you some more details and

00:01:47,840 --> 00:01:54,090
near the end i will be doing a little

00:01:50,850 --> 00:01:55,710
demo to show how this works I've given

00:01:54,090 --> 00:01:57,329
this talk a few times before and I don't

00:01:55,710 --> 00:02:00,149
think I've ever actually been able to

00:01:57,329 --> 00:02:03,390
give a demo because the synchronization

00:02:00,149 --> 00:02:06,450
piece wasn't quite working and it's

00:02:03,390 --> 00:02:09,200
still not it's still not complete by a

00:02:06,450 --> 00:02:11,989
long shot but that is sort of the

00:02:09,200 --> 00:02:13,569
trajectory of our discussion today so

00:02:11,989 --> 00:02:16,780
overview more

00:02:13,569 --> 00:02:19,299
details and then some demo so generally

00:02:16,780 --> 00:02:21,209
speaking configuration management let's

00:02:19,299 --> 00:02:24,939
talk a little bit about that first

00:02:21,209 --> 00:02:26,260
usually when people describe this they

00:02:24,939 --> 00:02:29,139
can be talking about lots of different

00:02:26,260 --> 00:02:31,540
things regarding hardware and software

00:02:29,139 --> 00:02:33,629
and that kind of thing but there are

00:02:31,540 --> 00:02:37,299
some terms you see like quality

00:02:33,629 --> 00:02:39,969
configuration consistency control these

00:02:37,299 --> 00:02:41,829
are words that you want associated with

00:02:39,969 --> 00:02:45,280
your website you want to have a quality

00:02:41,829 --> 00:02:47,109
website and that's essentially what the

00:02:45,280 --> 00:02:50,469
configuration system is trying to help

00:02:47,109 --> 00:02:52,870
with and in the simplest use case what

00:02:50,469 --> 00:02:55,269
we're talking about is moving your

00:02:52,870 --> 00:02:57,549
configuration from your development

00:02:55,269 --> 00:02:59,290
server to your production server that's

00:02:57,549 --> 00:03:01,120
sort of the simplest use case and then

00:02:59,290 --> 00:03:03,819
beyond there there's lots of other use

00:03:01,120 --> 00:03:07,449
cases so for example you may be a

00:03:03,819 --> 00:03:09,549
developer who works locally and then you

00:03:07,449 --> 00:03:12,099
have a maybe a site online that's your

00:03:09,549 --> 00:03:13,629
staging and then you have a test site or

00:03:12,099 --> 00:03:17,349
something like that in a production site

00:03:13,629 --> 00:03:19,060
but in its simplest form I think it

00:03:17,349 --> 00:03:21,939
helps to understand what configuration

00:03:19,060 --> 00:03:23,439
is by thinking of it moving from your

00:03:21,939 --> 00:03:27,159
configuration from development to

00:03:23,439 --> 00:03:29,049
production now other people can turn

00:03:27,159 --> 00:03:32,259
this topic into a much more complex

00:03:29,049 --> 00:03:35,229
topic but today I think it's good to

00:03:32,259 --> 00:03:37,329
focus on what I think configuration

00:03:35,229 --> 00:03:39,900
management is and that's a process for

00:03:37,329 --> 00:03:43,000
establishing and maintaining consistency

00:03:39,900 --> 00:03:45,129
so the things that I talk about later in

00:03:43,000 --> 00:03:48,939
this talk should I hope support that

00:03:45,129 --> 00:03:53,049
assertion so let's talk about what this

00:03:48,939 --> 00:03:57,159
is specifically with Drupal 8 so I did a

00:03:53,049 --> 00:03:59,319
little unscientific study and I did some

00:03:57,159 --> 00:04:01,810
searching the code base in Drupal 7 and

00:03:59,319 --> 00:04:05,979
I found that the word configuration

00:04:01,810 --> 00:04:08,340
appears 785 times by shorten that to

00:04:05,979 --> 00:04:11,560
config I found that that word appears

00:04:08,340 --> 00:04:13,840
2400 x now I did the same thing with

00:04:11,560 --> 00:04:17,590
Drupal 8 and the word configuration

00:04:13,840 --> 00:04:22,779
appears 5500 times in the word config

00:04:17,590 --> 00:04:24,580
appears 18,000 times so this is my

00:04:22,779 --> 00:04:27,750
unscientific way of showing that

00:04:24,580 --> 00:04:33,040
configuration is a big part of Drupal

00:04:27,750 --> 00:04:34,810
and growing now you may question my

00:04:33,040 --> 00:04:37,360
methodology and I did look at a lot of

00:04:34,810 --> 00:04:39,370
the other words that popped up like

00:04:37,360 --> 00:04:41,290
pre-configured and configurable but I

00:04:39,370 --> 00:04:43,090
think that these in most cases had

00:04:41,290 --> 00:04:44,290
something to do with configuration and I

00:04:43,090 --> 00:04:46,000
couldn't find any other words that

00:04:44,290 --> 00:04:47,919
didn't really have something to do with

00:04:46,000 --> 00:04:53,590
configuration so I'd say it's pretty

00:04:47,919 --> 00:04:55,810
scientific so configuration in the

00:04:53,590 --> 00:04:59,770
simplest way I could think of explaining

00:04:55,810 --> 00:05:02,950
it is types of things so in Drupal 8

00:04:59,770 --> 00:05:05,770
what does that mean well views in core

00:05:02,950 --> 00:05:09,970
whoo that is one example of

00:05:05,770 --> 00:05:13,000
configuration image Styles settings user

00:05:09,970 --> 00:05:15,220
roles these are all things that are like

00:05:13,000 --> 00:05:18,400
a mold that create other things these

00:05:15,220 --> 00:05:20,260
are types of things and on the other

00:05:18,400 --> 00:05:22,330
hand we have the content which would be

00:05:20,260 --> 00:05:26,229
the things that get created from those

00:05:22,330 --> 00:05:29,020
types of things so those examples

00:05:26,229 --> 00:05:30,940
include article basic page so we have

00:05:29,020 --> 00:05:33,310
our content types that then create the

00:05:30,940 --> 00:05:36,550
content so if you want to think about

00:05:33,310 --> 00:05:38,530
the simplest form of what the Drupal 8

00:05:36,550 --> 00:05:41,770
configuration system does is it breaks

00:05:38,530 --> 00:05:44,139
the information in our database into at

00:05:41,770 --> 00:05:46,120
least two separate areas one that's

00:05:44,139 --> 00:05:48,669
relevant for site builders which is the

00:05:46,120 --> 00:05:52,050
config and the other is the content

00:05:48,669 --> 00:05:56,050
which is relevant for the site editors

00:05:52,050 --> 00:05:58,419
now that's actually a really gross

00:05:56,050 --> 00:06:00,280
simple ization although I still think

00:05:58,419 --> 00:06:06,300
that's correct if it helps for someone

00:06:00,280 --> 00:06:09,220
who's new to this topic I would say that

00:06:06,300 --> 00:06:11,979
it's also important to know that there

00:06:09,220 --> 00:06:14,979
are two different kinds of configuration

00:06:11,979 --> 00:06:16,900
actually in Drupal 8 one of them being

00:06:14,979 --> 00:06:19,000
simple configuration and the other is

00:06:16,900 --> 00:06:21,430
something called configuration entities

00:06:19,000 --> 00:06:23,320
you may also see this referred to

00:06:21,430 --> 00:06:26,229
variously in documentation and issue

00:06:23,320 --> 00:06:27,720
cues as configurable and I think our

00:06:26,229 --> 00:06:31,710
official term for a while was

00:06:27,720 --> 00:06:33,910
configuration thingies so there is some

00:06:31,710 --> 00:06:36,760
there was lots of discussion about what

00:06:33,910 --> 00:06:38,790
to call these but there are two kinds of

00:06:36,760 --> 00:06:40,950
configuration one is simple

00:06:38,790 --> 00:06:44,430
one is more complex the simple

00:06:40,950 --> 00:06:48,390
configuration really in most cases it

00:06:44,430 --> 00:06:52,290
should just have information about one

00:06:48,390 --> 00:06:54,120
thing one copy one boolean value one

00:06:52,290 --> 00:06:56,910
string something like that so for

00:06:54,120 --> 00:07:00,150
example javascript is it enabled on your

00:06:56,910 --> 00:07:03,030
site yes or no true or false that would

00:07:00,150 --> 00:07:05,160
be simple configuration you don't

00:07:03,030 --> 00:07:07,080
necessarily need to know about the

00:07:05,160 --> 00:07:09,270
history of that you don't need to know

00:07:07,080 --> 00:07:12,690
you know much more about it other than

00:07:09,270 --> 00:07:14,790
is it enabled is it not something that

00:07:12,690 --> 00:07:18,140
is a configuration entity on the other

00:07:14,790 --> 00:07:21,720
hand would create zero or more items so

00:07:18,140 --> 00:07:23,760
again this is you create configuration

00:07:21,720 --> 00:07:25,590
as a site builder and then your editor

00:07:23,760 --> 00:07:28,290
takes it over and there's no there is no

00:07:25,590 --> 00:07:30,240
configuration but there's no content

00:07:28,290 --> 00:07:34,430
that at that point so this is used to

00:07:30,240 --> 00:07:36,360
create zero or more items I think this

00:07:34,430 --> 00:07:37,770
representation is another way that's

00:07:36,360 --> 00:07:40,020
helpful to think about this where we

00:07:37,770 --> 00:07:44,160
have the idea of entities in Drupal 7

00:07:40,020 --> 00:07:46,050
and now we have the idea of content

00:07:44,160 --> 00:07:49,020
entities and we've sort of split that up

00:07:46,050 --> 00:07:50,820
into configuration entities and then so

00:07:49,020 --> 00:07:52,350
we can see kind of off on the right that

00:07:50,820 --> 00:07:54,390
we have other things that are

00:07:52,350 --> 00:07:57,150
configuration like site info would be

00:07:54,390 --> 00:07:59,820
simple configuration and then there's

00:07:57,150 --> 00:08:01,830
other things like path aliases but this

00:07:59,820 --> 00:08:03,510
does a little good job I think of

00:08:01,830 --> 00:08:05,700
explaining that there the overlap

00:08:03,510 --> 00:08:07,890
between the types of things that fall

00:08:05,700 --> 00:08:12,210
within the realm of entities that can be

00:08:07,890 --> 00:08:13,560
either content or configuration this is

00:08:12,210 --> 00:08:16,350
another way to think about that in terms

00:08:13,560 --> 00:08:18,600
of simple configuration sharing the word

00:08:16,350 --> 00:08:20,670
configuration and configuration entities

00:08:18,600 --> 00:08:24,180
and content entities sharing the word

00:08:20,670 --> 00:08:25,740
entity so getting a little bit more

00:08:24,180 --> 00:08:27,420
confusing but I think you're probably

00:08:25,740 --> 00:08:31,470
all with me because you look like a

00:08:27,420 --> 00:08:33,540
smart bunch so why are we doing this

00:08:31,470 --> 00:08:37,620
again well let's talk some more about

00:08:33,540 --> 00:08:40,110
the benefits of configuration one

00:08:37,620 --> 00:08:45,510
benefit is that it eliminated 50

00:08:40,110 --> 00:08:49,170
database tables or so this is because of

00:08:45,510 --> 00:08:50,560
the one place where people can store

00:08:49,170 --> 00:08:52,990
configuration it was no

00:08:50,560 --> 00:08:55,330
longer necessary for modules to create

00:08:52,990 --> 00:08:57,940
their own separate table to store their

00:08:55,330 --> 00:09:00,340
own separate data so this is a big

00:08:57,940 --> 00:09:03,760
benefit in terms of how Drupal 8 is

00:09:00,340 --> 00:09:06,460
going to work it also is reducing the

00:09:03,760 --> 00:09:09,640
need of modules like features and strong

00:09:06,460 --> 00:09:11,830
arm so in Drupal 7 this may be the best

00:09:09,640 --> 00:09:13,570
practice now is to use features module

00:09:11,830 --> 00:09:16,900
some people might say that some might

00:09:13,570 --> 00:09:19,050
argue and we might use strong arm to do

00:09:16,900 --> 00:09:21,400
something like export our configuration

00:09:19,050 --> 00:09:25,029
but it's not the only way it's not the

00:09:21,400 --> 00:09:27,580
agreed-upon way so we also have this

00:09:25,029 --> 00:09:31,660
ability now because configuration is in

00:09:27,580 --> 00:09:35,260
core that we can translate configuration

00:09:31,660 --> 00:09:38,230
and content out of the box and if you're

00:09:35,260 --> 00:09:41,560
not familiar with the translation system

00:09:38,230 --> 00:09:43,839
in Drupal 8 it's made it so that now if

00:09:41,560 --> 00:09:45,520
you want to create a site that is not in

00:09:43,839 --> 00:09:47,980
English you no longer need to install

00:09:45,520 --> 00:09:50,140
more than 30 modules there are four

00:09:47,980 --> 00:09:51,670
modules in Drupal core that allow that

00:09:50,140 --> 00:09:53,440
and out of the box that's one of the

00:09:51,670 --> 00:09:56,230
first things you do is decide what

00:09:53,440 --> 00:09:58,120
language it can be and that is in great

00:09:56,230 --> 00:10:01,000
part due to the new configuration system

00:09:58,120 --> 00:10:03,040
it also lets us to do in the site

00:10:01,000 --> 00:10:05,140
something like configure well which of

00:10:03,040 --> 00:10:07,180
those fields that you've created or

00:10:05,140 --> 00:10:09,700
which of your content or configuration

00:10:07,180 --> 00:10:12,370
needs to be translatable in this example

00:10:09,700 --> 00:10:14,920
the site information set part of your

00:10:12,370 --> 00:10:17,860
site you have your site name your slogan

00:10:14,920 --> 00:10:21,490
your email address but then when you

00:10:17,860 --> 00:10:23,440
need to translate that in German for

00:10:21,490 --> 00:10:25,690
example you just need to translate your

00:10:23,440 --> 00:10:27,250
site name and your site slogan because

00:10:25,690 --> 00:10:29,500
email address does not need to be

00:10:27,250 --> 00:10:31,360
translatable so we're going from three

00:10:29,500 --> 00:10:33,550
things to two things and that's because

00:10:31,360 --> 00:10:36,250
we've said email addresses don't need to

00:10:33,550 --> 00:10:38,709
be translatable so that is another

00:10:36,250 --> 00:10:42,400
benefit of the translations the

00:10:38,709 --> 00:10:47,029
configuration system so it's starting to

00:10:42,400 --> 00:10:50,910
get kind of exciting seem excited

00:10:47,029 --> 00:10:53,519
another benefit swap ability this is

00:10:50,910 --> 00:10:55,649
because of the way a Drupal works we can

00:10:53,519 --> 00:10:57,749
can stop we can store our configuration

00:10:55,649 --> 00:11:00,119
in multiple formats for whatever your

00:10:57,749 --> 00:11:02,569
use case might be whether it be storing

00:11:00,119 --> 00:11:05,579
your configuration and files databases

00:11:02,569 --> 00:11:07,649
other places you have a lot of

00:11:05,579 --> 00:11:09,989
flexibility in terms of where you store

00:11:07,649 --> 00:11:12,509
that configuration but but perhaps the

00:11:09,989 --> 00:11:14,939
most important feature of the

00:11:12,509 --> 00:11:17,040
configuration system is that it is like

00:11:14,939 --> 00:11:19,049
a bunch of a developers have gotten

00:11:17,040 --> 00:11:21,720
together and said let's agree on a way

00:11:19,049 --> 00:11:24,689
of storing our config so we can all

00:11:21,720 --> 00:11:27,239
deployed in the same manner so this is

00:11:24,689 --> 00:11:28,769
the common API this is what all of your

00:11:27,239 --> 00:11:30,899
modules that you'll be using will be

00:11:28,769 --> 00:11:33,179
using is the configuration system so

00:11:30,899 --> 00:11:35,910
this is that agreed upon let's this is

00:11:33,179 --> 00:11:39,869
the way to do it and it's now in Drupal

00:11:35,910 --> 00:11:42,089
core so it's kind of a big deal another

00:11:39,869 --> 00:11:44,670
example of a benefit is that we can have

00:11:42,089 --> 00:11:46,739
the migrated module in Drupal core and

00:11:44,670 --> 00:11:51,059
that can include migrating your

00:11:46,739 --> 00:11:53,279
configuration for example when if you've

00:11:51,059 --> 00:11:55,049
used the Drupal 7 migrate module very

00:11:53,279 --> 00:11:57,480
much you know that in most cases you're

00:11:55,049 --> 00:12:00,629
just going to use it to migrate nodes

00:11:57,480 --> 00:12:02,790
and users and other types of content you

00:12:00,629 --> 00:12:04,829
can do things like my great blocks and

00:12:02,790 --> 00:12:07,259
variables and I've done that before but

00:12:04,829 --> 00:12:09,360
there's not a consistent way to do that

00:12:07,259 --> 00:12:12,689
for your configuration and now there is

00:12:09,360 --> 00:12:16,170
so this is something that I think will

00:12:12,689 --> 00:12:18,449
be valuable and really though because

00:12:16,170 --> 00:12:20,910
we're kind of building it I was thinking

00:12:18,449 --> 00:12:22,649
about this in terms of like a product we

00:12:20,910 --> 00:12:24,749
want the configuration system to be

00:12:22,649 --> 00:12:27,209
useful and not only that to be valuable

00:12:24,749 --> 00:12:31,169
to save you time to save you frustrated

00:12:27,209 --> 00:12:32,730
and in the product lifestyle site cycle

00:12:31,169 --> 00:12:34,679
if we think of configuration as that

00:12:32,730 --> 00:12:36,480
we've gotten to the point where we've

00:12:34,679 --> 00:12:38,339
had the idea but what it should be we've

00:12:36,480 --> 00:12:40,019
had our mock-ups our prototypes and

00:12:38,339 --> 00:12:41,429
we're currently I think in this phase

00:12:40,019 --> 00:12:43,470
where we're trying to get to a minimum

00:12:41,429 --> 00:12:46,860
viable product everything's not quite

00:12:43,470 --> 00:12:48,569
working we still have a number of

00:12:46,860 --> 00:12:49,209
critical bugs that and get something on

00:12:48,569 --> 00:12:51,579
lines

00:12:49,209 --> 00:12:56,379
of 15 or more in the configuration

00:12:51,579 --> 00:12:58,449
system but once it becomes a product and

00:12:56,379 --> 00:13:00,100
we ship Drupal 8 I think this is when

00:12:58,449 --> 00:13:03,910
we'll really find out how useful it is

00:13:00,100 --> 00:13:05,769
and how valuable it will be to you so my

00:13:03,910 --> 00:13:08,379
point here is that the benefits are

00:13:05,769 --> 00:13:10,059
still to some point unknown because we

00:13:08,379 --> 00:13:12,699
don't have a lot of people kicking the

00:13:10,059 --> 00:13:18,809
tires on this thing right now but we're

00:13:12,699 --> 00:13:23,259
getting there so how does it work well

00:13:18,809 --> 00:13:26,230
this is my attempt to simplify how the

00:13:23,259 --> 00:13:28,839
configuration system works I think in

00:13:26,230 --> 00:13:30,369
most cases there's one of three ways

00:13:28,839 --> 00:13:34,029
where you're going to get configuration

00:13:30,369 --> 00:13:35,949
into your site here a module might

00:13:34,029 --> 00:13:39,490
provide that configuration by default

00:13:35,949 --> 00:13:42,639
you may interact with your site like you

00:13:39,490 --> 00:13:45,309
do now and change something and or you

00:13:42,639 --> 00:13:48,459
might import configuration from another

00:13:45,309 --> 00:13:50,589
site and all that will go into your

00:13:48,459 --> 00:13:52,569
active store that is where your

00:13:50,589 --> 00:13:56,949
configuration is stored on your site and

00:13:52,569 --> 00:14:00,509
then the great ability of Drupal 8 is

00:13:56,949 --> 00:14:03,220
the ability to export that configuration

00:14:00,509 --> 00:14:05,439
so here's an example of this and I will

00:14:03,220 --> 00:14:08,439
talk a little bit about jpeg quality

00:14:05,439 --> 00:14:12,970
because it's important although it is

00:14:08,439 --> 00:14:16,689
somewhat controversial topic look over

00:14:12,970 --> 00:14:19,329
that for now and let's see an example in

00:14:16,689 --> 00:14:21,970
court so in core the system module

00:14:19,329 --> 00:14:25,449
provides this configuration for jpeg

00:14:21,970 --> 00:14:29,470
quality this is yeah mol format it's the

00:14:25,449 --> 00:14:30,939
simple one-line file is going to tell us

00:14:29,470 --> 00:14:35,230
that it should be seventy-five percent

00:14:30,939 --> 00:14:39,329
and this file lives in a config /

00:14:35,230 --> 00:14:42,269
install folder this is Cutlass this

00:14:39,329 --> 00:14:44,980
information is only used at install time

00:14:42,269 --> 00:14:48,009
so this module is providing configures

00:14:44,980 --> 00:14:50,649
jpeg quality 75 when you install your

00:14:48,009 --> 00:14:52,689
site then this information now by

00:14:50,649 --> 00:14:56,379
default goes into the database in a

00:14:52,689 --> 00:14:59,319
config table and there it is as jpeg

00:14:56,379 --> 00:15:01,600
quality 75 that's in the active storage

00:14:59,319 --> 00:15:02,350
and then when you want to export you

00:15:01,600 --> 00:15:06,250
export it

00:15:02,350 --> 00:15:08,320
as a file ordered the box and that is

00:15:06,250 --> 00:15:10,060
how Drupal works and this file as you

00:15:08,320 --> 00:15:13,330
will notice looks just like the other

00:15:10,060 --> 00:15:15,340
file unless you change that value which

00:15:13,330 --> 00:15:16,780
everyone probably will because that's

00:15:15,340 --> 00:15:20,340
usually the first thing you change on a

00:15:16,780 --> 00:15:23,680
new Drupal site right your jpeg quality

00:15:20,340 --> 00:15:27,160
now how does jpeg quality work in Drupal

00:15:23,680 --> 00:15:32,650
7 again acknowledging the sensitivity to

00:15:27,160 --> 00:15:35,470
this issue now it does similarly come in

00:15:32,650 --> 00:15:38,170
as a file although you can agree that

00:15:35,470 --> 00:15:41,530
this is probably much more complex this

00:15:38,170 --> 00:15:43,420
is a forum array this has this variable

00:15:41,530 --> 00:15:45,550
get thing and if you're not a coder

00:15:43,420 --> 00:15:46,780
you're probably not understanding what's

00:15:45,550 --> 00:15:48,670
going on other than your sort of

00:15:46,780 --> 00:15:53,710
recognizing there's the jpeg quality and

00:15:48,670 --> 00:15:56,170
the 75 that i know but this is perhaps

00:15:53,710 --> 00:15:58,180
just one way that a module could provide

00:15:56,170 --> 00:16:00,550
it this is how the jpeg or how the

00:15:58,180 --> 00:16:04,480
system module provides it in Drupal 7

00:16:00,550 --> 00:16:06,880
again this is Drupal 7 so similarly it

00:16:04,480 --> 00:16:08,530
ends up in the database this time

00:16:06,880 --> 00:16:12,030
currently it ends up in the variable

00:16:08,530 --> 00:16:15,490
table as jpeg quality and there it is

00:16:12,030 --> 00:16:18,220
jpeg quality but then what how do you

00:16:15,490 --> 00:16:20,080
get that information out so we might

00:16:18,220 --> 00:16:21,880
think oh well that's real easy i go to

00:16:20,080 --> 00:16:25,150
my development site and i change that

00:16:21,880 --> 00:16:28,210
number to something like 56 and then i

00:16:25,150 --> 00:16:30,040
see that that makes it work better and

00:16:28,210 --> 00:16:32,770
then okay i'll go over to my production

00:16:30,040 --> 00:16:35,860
site and i'll change that to 56 there or

00:16:32,770 --> 00:16:38,770
did I say 54 I'll go back and check so

00:16:35,860 --> 00:16:40,870
you have this you have to remember and

00:16:38,770 --> 00:16:43,180
then somebody else comes along but they

00:16:40,870 --> 00:16:44,770
don't necessarily know what what you did

00:16:43,180 --> 00:16:47,260
or why you did it or that kind of thing

00:16:44,770 --> 00:16:50,080
so there's no quality there's that is

00:16:47,260 --> 00:16:52,600
just in this most simple use case and if

00:16:50,080 --> 00:16:55,030
any of you have used Drupal for much

00:16:52,600 --> 00:16:56,560
time you will know that this gets much

00:16:55,030 --> 00:16:58,180
more complex more quickly especially

00:16:56,560 --> 00:17:03,100
when you're dealing with something like

00:16:58,180 --> 00:17:06,700
say of you I should also acknowledge

00:17:03,100 --> 00:17:08,950
that in addition to saying that Drupal

00:17:06,700 --> 00:17:12,490
is just config and content there are

00:17:08,950 --> 00:17:14,290
other things in there and I think it's

00:17:12,490 --> 00:17:16,120
important as a site builder to be aware

00:17:14,290 --> 00:17:19,390
of that that some things aren't

00:17:16,120 --> 00:17:21,760
content or config such as when cron was

00:17:19,390 --> 00:17:24,760
last run that's not something that you

00:17:21,760 --> 00:17:27,069
go in and configure in your site that's

00:17:24,760 --> 00:17:28,540
not content that your site editor is

00:17:27,069 --> 00:17:30,700
adding they're not going in there and

00:17:28,540 --> 00:17:32,050
saying oh let's reprogram when cron was

00:17:30,700 --> 00:17:34,240
run that's just something that Drupal

00:17:32,050 --> 00:17:36,430
needs to know so we have for example a

00:17:34,240 --> 00:17:38,260
state system and that information is

00:17:36,430 --> 00:17:41,890
stored as a key value pair and Drupal

00:17:38,260 --> 00:17:43,960
takes care of that by itself soic now

00:17:41,890 --> 00:17:46,980
this is this an attempt essentially to

00:17:43,960 --> 00:17:50,800
acknowledge that there is slightly more

00:17:46,980 --> 00:17:53,050
complexity here and if you are wondering

00:17:50,800 --> 00:17:54,370
why your jpeg quality is not right well

00:17:53,050 --> 00:17:56,830
there is another place where you can

00:17:54,370 --> 00:18:00,790
sort of configure things we still have

00:17:56,830 --> 00:18:03,490
our settings that PHP file and we in

00:18:00,790 --> 00:18:07,630
Drupal 7 have a conf array now it's or

00:18:03,490 --> 00:18:11,260
variable now it's a fig and you can

00:18:07,630 --> 00:18:15,730
override your configuration still in

00:18:11,260 --> 00:18:17,470
settings like PHP so that's the height

00:18:15,730 --> 00:18:22,330
of the confusion just gets easier from

00:18:17,470 --> 00:18:24,310
here on out and we can relax the funny

00:18:22,330 --> 00:18:26,640
the pancake

00:18:24,310 --> 00:18:31,750
I don't know what he's saying

00:18:26,640 --> 00:18:34,210
configuration how do I use it so I

00:18:31,750 --> 00:18:36,550
actually am going to do this live I have

00:18:34,210 --> 00:18:38,200
these well no and I'm not gonna do that

00:18:36,550 --> 00:18:40,090
I'm going to show you quickly what I'm

00:18:38,200 --> 00:18:41,590
going to do in case it doesn't work live

00:18:40,090 --> 00:18:42,760
because it's never supposed to work live

00:18:41,590 --> 00:18:44,830
and you're not supposed to do it live

00:18:42,760 --> 00:18:47,440
but I've never been able to do it live

00:18:44,830 --> 00:18:49,630
so anyway I'm going to show you a

00:18:47,440 --> 00:18:54,460
development site in a production site

00:18:49,630 --> 00:18:58,800
and these two sites are this is

00:18:54,460 --> 00:19:03,520
important cloned instances of the same

00:18:58,800 --> 00:19:06,250
site this is in my opinion a difference

00:19:03,520 --> 00:19:08,170
in Drupal 8 and others that work in

00:19:06,250 --> 00:19:11,050
configuration sort of disagree with me

00:19:08,170 --> 00:19:13,390
in this but in other words if you go and

00:19:11,050 --> 00:19:15,840
install Drupal 8 and then you install

00:19:13,390 --> 00:19:18,610
Drupal 8 again and you try to

00:19:15,840 --> 00:19:23,080
synchronize those changes that will not

00:19:18,610 --> 00:19:27,520
work because we ran into issues very

00:19:23,080 --> 00:19:29,500
quickly that made it clear that people

00:19:27,520 --> 00:19:31,120
have all kinds of ideas of what they

00:19:29,500 --> 00:19:33,610
should be able to do with configuration

00:19:31,120 --> 00:19:36,820
so we would sort of imagine those to the

00:19:33,610 --> 00:19:39,640
extreme for example let's say I work on

00:19:36,820 --> 00:19:41,350
whitehouse.gov well should I be able to

00:19:39,640 --> 00:19:43,780
take my configuration from whitehouse

00:19:41,350 --> 00:19:46,090
gov export it and then go over to this

00:19:43,780 --> 00:19:49,090
other site that I work on this american

00:19:46,090 --> 00:19:50,770
life org and i'm going to import that

00:19:49,090 --> 00:19:53,650
configuration in turn whitehouse gov

00:19:50,770 --> 00:19:57,220
into this american life that should work

00:19:53,650 --> 00:19:59,230
right well that's crazy so we're not

00:19:57,220 --> 00:20:01,420
going to support that out of the box in

00:19:59,230 --> 00:20:03,580
Drupal what we're going to do is to say

00:20:01,420 --> 00:20:05,440
if you have a site and you clone that

00:20:03,580 --> 00:20:07,870
site and you make changes on one we're

00:20:05,440 --> 00:20:09,820
going to say yes you can move your

00:20:07,870 --> 00:20:11,770
configuration between those you can make

00:20:09,820 --> 00:20:13,720
your changes you can install modules you

00:20:11,770 --> 00:20:16,300
can make changes push those to the other

00:20:13,720 --> 00:20:18,130
sites and that is the goal of the

00:20:16,300 --> 00:20:20,320
configuration system in Drupal 8 so

00:20:18,130 --> 00:20:23,940
these two sites that i'm showing you are

00:20:20,320 --> 00:20:26,320
cloned instances of the same site and

00:20:23,940 --> 00:20:29,320
i'll talk a little bit about jpeg

00:20:26,320 --> 00:20:31,630
quality change it to 40 to use the

00:20:29,320 --> 00:20:33,490
configuration manager i'm going to show

00:20:31,630 --> 00:20:35,740
you the real demo so I'm just this is in

00:20:33,490 --> 00:20:37,210
case things don't work the configuration

00:20:35,740 --> 00:20:40,299
management section of the

00:20:37,210 --> 00:20:45,159
the site you export your config as a

00:20:40,299 --> 00:20:47,169
file a config tar.gz then you import it

00:20:45,159 --> 00:20:51,279
on a different screen and the production

00:20:47,169 --> 00:20:55,809
site you click import all you can view

00:20:51,279 --> 00:20:58,779
differences you can click import all

00:20:55,809 --> 00:21:02,200
again no you don't I doubled that slide

00:20:58,779 --> 00:21:05,649
I think it will synchronize and then it

00:21:02,200 --> 00:21:07,270
will say it is complete so then you can

00:21:05,649 --> 00:21:10,480
go to your production site and see that

00:21:07,270 --> 00:21:16,179
you've in fact changed that so I will go

00:21:10,480 --> 00:21:19,539
back to my two sites here and here i

00:21:16,179 --> 00:21:21,039
have my development site and what i'm

00:21:19,539 --> 00:21:24,580
going to do is just do a couple of

00:21:21,039 --> 00:21:30,309
things so this here I'll show you that

00:21:24,580 --> 00:21:31,990
looks weird that's what is better ok so

00:21:30,309 --> 00:21:35,250
I'm going to go into my development site

00:21:31,990 --> 00:21:39,960
here and I'm going to add a content type

00:21:35,250 --> 00:21:43,000
content type i'm going to call it a

00:21:39,960 --> 00:21:46,409
drupalcon Austin because that's the

00:21:43,000 --> 00:21:46,409
great name for a content type

00:21:51,630 --> 00:22:06,580
didn't work to do this scroll darn you

00:21:59,850 --> 00:22:10,990
save and manage fields okay so now i

00:22:06,580 --> 00:22:13,029
have in your structure in my content

00:22:10,990 --> 00:22:15,340
type i have a new content type yay

00:22:13,029 --> 00:22:16,899
that's what you need then i'm going to

00:22:15,340 --> 00:22:19,090
go and i'm going to click on structure

00:22:16,899 --> 00:22:20,679
again i'm going to click on blocks and

00:22:19,090 --> 00:22:25,269
i'm going to do something else which is

00:22:20,679 --> 00:22:26,470
i'm going to add a block because we all

00:22:25,269 --> 00:22:30,210
want to know who's online right now

00:22:26,470 --> 00:22:33,519
don't we of course we do sidebar first

00:22:30,210 --> 00:22:36,580
say block this is that new block

00:22:33,519 --> 00:22:39,700
interface which is cool who's online is

00:22:36,580 --> 00:22:43,240
super important so i'm going to push

00:22:39,700 --> 00:22:47,110
that to the top and then of course I

00:22:43,240 --> 00:22:48,909
need to change my jpeg quality something

00:22:47,110 --> 00:22:52,809
more sane because i want to save the

00:22:48,909 --> 00:22:54,279
planet 42 that's much better now I've

00:22:52,809 --> 00:22:56,200
made those three changes so if i go back

00:22:54,279 --> 00:22:58,269
to my site we can see I have my who's

00:22:56,200 --> 00:23:01,629
online block i have a new content type

00:22:58,269 --> 00:23:04,120
and I've changed my jpeg quality i click

00:23:01,629 --> 00:23:08,409
on configuration i scroll down to

00:23:04,120 --> 00:23:13,179
configuration management i click on this

00:23:08,409 --> 00:23:16,629
full import export tab export and export

00:23:13,179 --> 00:23:21,190
my configuration and there it is config

00:23:16,629 --> 00:23:26,680
tart a cheesy so if i want to go over to

00:23:21,190 --> 00:23:28,920
my other tab which ex funny in this

00:23:26,680 --> 00:23:28,920
No

00:23:31,940 --> 00:23:34,570
then

00:23:36,559 --> 00:23:42,350
I'll go here production site so I've

00:23:40,340 --> 00:23:44,720
done my changes on my development site

00:23:42,350 --> 00:23:46,759
I've exported them I go over to my

00:23:44,720 --> 00:23:50,179
production site I scroll down to

00:23:46,759 --> 00:23:56,539
configuration management I go to full

00:23:50,179 --> 00:24:00,610
import export and I choose my file which

00:23:56,539 --> 00:24:04,370
is that config tar.gz and I click upload

00:24:00,610 --> 00:24:06,740
now at this point is moving all of my

00:24:04,370 --> 00:24:09,679
configuration into my production site

00:24:06,740 --> 00:24:12,259
and it's giving me this opportunity to

00:24:09,679 --> 00:24:14,269
view the differences so this is where it

00:24:12,259 --> 00:24:17,210
gets really cool because you know for

00:24:14,269 --> 00:24:18,980
example we can see there's our jpeg

00:24:17,210 --> 00:24:22,159
quality has changed i'm about to change

00:24:18,980 --> 00:24:25,190
it from 75 to 42 we can see I have this

00:24:22,159 --> 00:24:26,869
new who's online block where it's a file

00:24:25,190 --> 00:24:29,450
that's been added and there's a block

00:24:26,869 --> 00:24:32,450
and we can go through and review all

00:24:29,450 --> 00:24:35,600
these changes we can see there's our new

00:24:32,450 --> 00:24:37,129
node there's some each of the pieces of

00:24:35,600 --> 00:24:41,330
this we can actually go in and change

00:24:37,129 --> 00:24:44,019
the file so now I say yep all that looks

00:24:41,330 --> 00:24:46,940
good I'm going to click import all and

00:24:44,019 --> 00:24:49,490
it's going to synchronize all of my

00:24:46,940 --> 00:24:51,950
configuration so at this point we are

00:24:49,490 --> 00:24:54,710
taking out all the old configuration and

00:24:51,950 --> 00:24:56,629
putting in all new configuration so the

00:24:54,710 --> 00:24:58,730
reason we do this is because for example

00:24:56,629 --> 00:25:01,639
if you go to a development site and you

00:24:58,730 --> 00:25:04,309
delete something and you want to deploy

00:25:01,639 --> 00:25:06,409
that delete to your production this site

00:25:04,309 --> 00:25:08,720
it's not going to know something's been

00:25:06,409 --> 00:25:10,879
deleted without knowing about everything

00:25:08,720 --> 00:25:13,220
there so this is it checks that site

00:25:10,879 --> 00:25:14,869
uuid the checks and sees what's there

00:25:13,220 --> 00:25:20,240
it's checks and sees what's missing and

00:25:14,869 --> 00:25:22,970
now if I go back to my site I can see

00:25:20,240 --> 00:25:24,830
there's my who's online block I can go

00:25:22,970 --> 00:25:27,169
to structure and I can look at my

00:25:24,830 --> 00:25:30,580
content types there's my new content

00:25:27,169 --> 00:25:30,580
type there

00:25:33,659 --> 00:25:49,210
this one I need to see what is my jpeg

00:25:39,399 --> 00:25:52,109
qualities 42 so it's all done three

00:25:49,210 --> 00:25:57,989
years to be able to do stuff like that

00:25:52,109 --> 00:26:00,580
so configuration is a complex topic and

00:25:57,989 --> 00:26:02,710
that is the overview and I'm sure a lot

00:26:00,580 --> 00:26:04,359
of you have questions but before I get

00:26:02,710 --> 00:26:10,559
to those I just want to make a couple of

00:26:04,359 --> 00:26:15,549
other points which is that one that key

00:26:10,559 --> 00:26:16,989
is there is a you can get more

00:26:15,549 --> 00:26:19,869
information about the configuration

00:26:16,989 --> 00:26:21,609
management at Drupal 8 cm I org where we

00:26:19,869 --> 00:26:23,739
occasionally post stuff and we have

00:26:21,609 --> 00:26:25,389
links to documentation some of that

00:26:23,739 --> 00:26:30,279
documentation I'll warn you is out of

00:26:25,389 --> 00:26:33,309
date and it's a varying quality and we

00:26:30,279 --> 00:26:36,429
have an IRC channel at pound Drupal dash

00:26:33,309 --> 00:26:39,249
cmi I mentioned the spreads on Friday

00:26:36,429 --> 00:26:41,080
I'll be there as well as another a few

00:26:39,249 --> 00:26:42,700
other configuration system maintained

00:26:41,080 --> 00:26:47,589
errs and lots of other core developers

00:26:42,700 --> 00:26:49,149
and people just like you and please

00:26:47,589 --> 00:26:52,839
evaluate this session if you have

00:26:49,149 --> 00:26:55,269
opinions and that's a little bit about

00:26:52,839 --> 00:27:00,249
me so now I'd like to open it up for

00:26:55,269 --> 00:27:01,570
questions if you go to the mic that

00:27:00,249 --> 00:27:04,859
would be great because they're recording

00:27:01,570 --> 00:27:08,469
this session then I don't have to repeat

00:27:04,859 --> 00:27:12,309
hi hello so I know you said there's a

00:27:08,469 --> 00:27:13,389
lot of different workflows in mind with

00:27:12,309 --> 00:27:16,539
configuration the first thing that came

00:27:13,389 --> 00:27:18,460
to mind was when you're deploying your

00:27:16,539 --> 00:27:21,099
configuration changes from development

00:27:18,460 --> 00:27:22,419
to production you a lot of times in the

00:27:21,099 --> 00:27:23,710
process of coming up with all those

00:27:22,419 --> 00:27:25,509
changes you have a lot of things that

00:27:23,710 --> 00:27:26,859
you don't want to go with that little

00:27:25,509 --> 00:27:28,599
things that you were testing around or

00:27:26,859 --> 00:27:30,849
playing with or maybe it's only done

00:27:28,599 --> 00:27:32,889
that way on dev you have any thoughts

00:27:30,849 --> 00:27:35,080
for supporting that part of it or

00:27:32,889 --> 00:27:38,229
excluding some things from going up or

00:27:35,080 --> 00:27:39,320
just what what that might look like yeah

00:27:38,229 --> 00:27:41,300
so they're there

00:27:39,320 --> 00:27:42,920
lots of ways that you could handle this

00:27:41,300 --> 00:27:44,270
and I'm again I'm going to acknowledge

00:27:42,920 --> 00:27:46,850
that people are going to have different

00:27:44,270 --> 00:27:49,400
workflows a lot of people are probably

00:27:46,850 --> 00:27:52,610
going to use version control for that

00:27:49,400 --> 00:27:55,040
and they are going to for example have a

00:27:52,610 --> 00:27:57,470
git repository where they just push

00:27:55,040 --> 00:27:59,780
changes to a git repository their

00:27:57,470 --> 00:28:03,650
configuration and then just pull those

00:27:59,780 --> 00:28:06,200
changes and in in all likelihood those

00:28:03,650 --> 00:28:08,150
changes that they've done will be you

00:28:06,200 --> 00:28:10,100
know related to an issue that somebody

00:28:08,150 --> 00:28:12,740
filed or something like that and this is

00:28:10,100 --> 00:28:15,290
the metadata part of that so if you are

00:28:12,740 --> 00:28:17,450
have if you have a site where you want

00:28:15,290 --> 00:28:18,860
to just do some changes and you want to

00:28:17,450 --> 00:28:20,810
deploy those and you're using version

00:28:18,860 --> 00:28:22,630
control you would do it the same way

00:28:20,810 --> 00:28:25,760
that you would deploy any other changes

00:28:22,630 --> 00:28:29,210
by pushing those to your repository and

00:28:25,760 --> 00:28:32,300
then the other sites pulling notes is a

00:28:29,210 --> 00:28:34,430
to that to that end is the file system

00:28:32,300 --> 00:28:36,020
what does that look like Justin how all

00:28:34,430 --> 00:28:37,910
these things is that like one big file

00:28:36,020 --> 00:28:40,490
or many files or is that manageable with

00:28:37,910 --> 00:28:42,770
get the other lots of things sure okay

00:28:40,490 --> 00:28:45,440
I'll show you what this looks like so

00:28:42,770 --> 00:28:50,270
when I downloaded that tar that that

00:28:45,440 --> 00:28:52,040
config that tar.gz file this is actually

00:28:50,270 --> 00:28:54,440
all of your configuration for the whole

00:28:52,040 --> 00:28:56,810
site now this is going to be confusing

00:28:54,440 --> 00:28:58,550
to some of you but let's go find

00:28:56,810 --> 00:29:01,040
something that we know and love so you

00:28:58,550 --> 00:29:03,290
can see all of these different this is

00:29:01,040 --> 00:29:08,510
all these are all yamo files so you

00:29:03,290 --> 00:29:10,400
could for example go in and and see you

00:29:08,510 --> 00:29:13,370
know something like system that image

00:29:10,400 --> 00:29:17,060
that GD amal is in here and you could

00:29:13,370 --> 00:29:18,980
look at it but then it also you know of

00:29:17,060 --> 00:29:21,470
course there's much more complex things

00:29:18,980 --> 00:29:24,680
in here so this is kind of how llamo

00:29:21,470 --> 00:29:27,140
code works so that is how the

00:29:24,680 --> 00:29:29,780
configuration is exported it's this

00:29:27,140 --> 00:29:31,430
these files look the same as when they

00:29:29,780 --> 00:29:34,130
were imported unless you change things

00:29:31,430 --> 00:29:35,900
on your site now I don't know it's

00:29:34,130 --> 00:29:37,580
probably not the best time to get into

00:29:35,900 --> 00:29:39,800
all the other possible ways that you

00:29:37,580 --> 00:29:41,660
could do that one other thing that comes

00:29:39,800 --> 00:29:43,430
to mind though is that we added

00:29:41,660 --> 00:29:47,720
something that you may have noticed in

00:29:43,430 --> 00:29:49,130
the demo because a few people felt it

00:29:47,720 --> 00:29:52,130
was a regression that you could not

00:29:49,130 --> 00:29:54,680
export a view or import of you

00:29:52,130 --> 00:29:59,030
so we do have the ability to do single

00:29:54,680 --> 00:30:00,860
imports and exports now you we do

00:29:59,030 --> 00:30:03,260
everything we can to make this so you

00:30:00,860 --> 00:30:06,020
will not break your site but if you do

00:30:03,260 --> 00:30:08,510
export and import a single thing there

00:30:06,020 --> 00:30:11,120
is the possibility that you will break

00:30:08,510 --> 00:30:12,740
your site because of dependency issues

00:30:11,120 --> 00:30:15,230
or something like that but it is

00:30:12,740 --> 00:30:18,170
definitely possible to use this system

00:30:15,230 --> 00:30:19,880
now in a view is probably in most cases

00:30:18,170 --> 00:30:21,620
it's going to take care of itself where

00:30:19,880 --> 00:30:24,890
you can go to the single import thing

00:30:21,620 --> 00:30:26,720
and you can export or import of you so

00:30:24,890 --> 00:30:29,600
those are a couple of things that come

00:30:26,720 --> 00:30:32,420
to mind I'm sure some people will will

00:30:29,600 --> 00:30:33,530
export features or export actually you

00:30:32,420 --> 00:30:35,900
could be careful with my terminology

00:30:33,530 --> 00:30:38,690
features or views or other things or

00:30:35,900 --> 00:30:40,400
blocks for example and just store those

00:30:38,690 --> 00:30:42,590
as things that they use for multiple

00:30:40,400 --> 00:30:44,960
sites and that could definitely be a

00:30:42,590 --> 00:30:49,730
valid use workflow and I fully expect

00:30:44,960 --> 00:30:53,240
lots of people to do that thank you just

00:30:49,730 --> 00:30:55,220
a clarification our nodes part of this

00:30:53,240 --> 00:30:59,150
configuration management node content

00:30:55,220 --> 00:31:01,160
yes and what is the impact when you

00:30:59,150 --> 00:31:04,480
delete all the configuration to a

00:31:01,160 --> 00:31:07,130
production site with active users on it

00:31:04,480 --> 00:31:09,680
when you delete all of them yeah when

00:31:07,130 --> 00:31:13,070
you're doing a full import you said you

00:31:09,680 --> 00:31:15,290
delete all of the configuration yeah and

00:31:13,070 --> 00:31:17,510
then and then you re import it what

00:31:15,290 --> 00:31:18,860
impact if any is there to a production

00:31:17,510 --> 00:31:25,280
site when you do that should not have

00:31:18,860 --> 00:31:28,760
any impact on on that site okay so I

00:31:25,280 --> 00:31:33,080
have two questions first when you export

00:31:28,760 --> 00:31:36,080
the modules a does it export the modules

00:31:33,080 --> 00:31:38,330
themselves as the attachment or does it

00:31:36,080 --> 00:31:41,180
download it on the other end when you

00:31:38,330 --> 00:31:43,310
import it again does it just export the

00:31:41,180 --> 00:31:47,120
mediterra and then download the new

00:31:43,310 --> 00:31:49,250
content or so are you saying what when I

00:31:47,120 --> 00:31:51,190
go to this configuration tab and click

00:31:49,250 --> 00:31:55,850
configuration management and click

00:31:51,190 --> 00:31:59,360
export yep if you would have just before

00:31:55,850 --> 00:32:01,610
installed the module and so now there is

00:31:59,360 --> 00:32:04,610
a difference between the production and

00:32:01,610 --> 00:32:08,030
development my sights so does it

00:32:04,610 --> 00:32:10,250
actually copy the module itself as the a

00:32:08,030 --> 00:32:13,059
within the tarball or just the meta data

00:32:10,250 --> 00:32:16,340
to to reach the module on the other side

00:32:13,059 --> 00:32:18,880
when when you install a module the

00:32:16,340 --> 00:32:21,410
module provides its own default

00:32:18,880 --> 00:32:25,580
configuration in its directory the

00:32:21,410 --> 00:32:27,890
config / install and at install time it

00:32:25,580 --> 00:32:32,690
pulls in all the configuration from that

00:32:27,890 --> 00:32:34,340
module but we in core out of the box we

00:32:32,690 --> 00:32:36,740
won't ever really do anything with that

00:32:34,340 --> 00:32:38,690
again because we will assume that once

00:32:36,740 --> 00:32:40,580
that module has been installed and you

00:32:38,690 --> 00:32:45,169
change things that you want those things

00:32:40,580 --> 00:32:48,740
changed okay the other question I have

00:32:45,169 --> 00:32:51,890
is since you change the configuration

00:32:48,740 --> 00:32:54,559
that much why didn't you go all the way

00:32:51,890 --> 00:32:58,190
and take the config out of the database

00:32:54,559 --> 00:33:01,059
once for all because it's really

00:32:58,190 --> 00:33:04,700
confusing to have config in database

00:33:01,059 --> 00:33:08,330
that is a good question and it has a

00:33:04,700 --> 00:33:10,370
long answer so this is coming from

00:33:08,330 --> 00:33:12,650
someone who's probably been paying some

00:33:10,370 --> 00:33:15,679
attention to Drupal core development

00:33:12,650 --> 00:33:17,960
over the past three years because for

00:33:15,679 --> 00:33:20,320
the past three years we have been in

00:33:17,960 --> 00:33:24,140
talks just like these saying

00:33:20,320 --> 00:33:28,309
configuration will be in files content

00:33:24,140 --> 00:33:30,679
will be in the database that was the

00:33:28,309 --> 00:33:33,980
case in Drupal core up until two months

00:33:30,679 --> 00:33:36,070
ago when we made the choice to move the

00:33:33,980 --> 00:33:38,600
configuration back into the database

00:33:36,070 --> 00:33:42,290
there are lots of reasons for that but

00:33:38,600 --> 00:33:47,450
let me just provide a few of them first

00:33:42,290 --> 00:33:50,690
of all we had people that were okay then

00:33:47,450 --> 00:33:53,120
there are that they're the when we did

00:33:50,690 --> 00:33:55,340
that we put configuration in a directory

00:33:53,120 --> 00:33:59,210
called an active directory it's your

00:33:55,340 --> 00:34:01,340
active storage you can you can configure

00:33:59,210 --> 00:34:04,700
your active storage to be a database or

00:34:01,340 --> 00:34:06,370
files by default we had it as files and

00:34:04,700 --> 00:34:09,440
people would go in and look at that

00:34:06,370 --> 00:34:11,570
active directory and we had to say kind

00:34:09,440 --> 00:34:12,320
of like now we say don't hack core we

00:34:11,570 --> 00:34:14,000
had to say

00:34:12,320 --> 00:34:16,130
don't hack your active configuration

00:34:14,000 --> 00:34:17,870
directory because people would change

00:34:16,130 --> 00:34:19,820
things in there and they would be

00:34:17,870 --> 00:34:22,250
surprised when those changes would not

00:34:19,820 --> 00:34:23,570
be reflected on their site the reason

00:34:22,250 --> 00:34:25,940
they weren't reflected on their site is

00:34:23,570 --> 00:34:28,190
because we were still pulling the

00:34:25,940 --> 00:34:30,410
information from the files cashing it in

00:34:28,190 --> 00:34:33,920
the database and in most cases reading

00:34:30,410 --> 00:34:36,350
from the database cash and only writing

00:34:33,920 --> 00:34:38,360
or reading reading from the files on

00:34:36,350 --> 00:34:42,200
install and writing to the files when

00:34:38,360 --> 00:34:43,790
things were changed now we don't now we

00:34:42,200 --> 00:34:45,710
don't have to worry about people going

00:34:43,790 --> 00:34:47,960
in and accidentally changing things in

00:34:45,710 --> 00:34:49,820
their active configured directory the

00:34:47,960 --> 00:34:53,330
second point is that we did this because

00:34:49,820 --> 00:34:55,820
of performance issues it's a lot faster

00:34:53,330 --> 00:34:57,920
to to read and write from a database

00:34:55,820 --> 00:35:01,790
than it is to read and write from files

00:34:57,920 --> 00:35:03,890
in general so we found pretty

00:35:01,790 --> 00:35:07,220
significant speed improvements for

00:35:03,890 --> 00:35:11,000
example installing Drupal when it didn't

00:35:07,220 --> 00:35:13,430
have to read and write 167 files so

00:35:11,000 --> 00:35:17,150
speed was another factor another factor

00:35:13,430 --> 00:35:19,790
was security and again I'm probably

00:35:17,150 --> 00:35:22,130
gonna be losing some of you here now but

00:35:19,790 --> 00:35:25,400
right now though the way we have it set

00:35:22,130 --> 00:35:27,800
up is when you install Drupal in your

00:35:25,400 --> 00:35:30,650
sights default files there is a config

00:35:27,800 --> 00:35:36,620
directory that is I guess i'll just show

00:35:30,650 --> 00:35:39,890
you why not go crazy here I'll just go

00:35:36,620 --> 00:35:44,180
to my drupal 8 site so there is a oh you

00:35:39,890 --> 00:35:49,010
know what I can do this I can go to

00:35:44,180 --> 00:35:52,610
sites default files and in there there's

00:35:49,010 --> 00:35:57,020
this config directory which is config in

00:35:52,610 --> 00:36:00,800
this super long hash so again I know

00:35:57,020 --> 00:36:04,280
this is hard to see and and within this

00:36:00,800 --> 00:36:05,750
directory there are two files let's see

00:36:04,280 --> 00:36:09,110
if he can system better here there's an

00:36:05,750 --> 00:36:11,720
active and a staging and if we look in

00:36:09,110 --> 00:36:13,850
these now you know what I heck why don't

00:36:11,720 --> 00:36:16,540
I just do this like a normal person who

00:36:13,850 --> 00:36:16,540
doesn't use the

00:36:19,720 --> 00:36:27,520
yeah okay but anyway so here this is

00:36:23,869 --> 00:36:31,190
easier to read sites default files

00:36:27,520 --> 00:36:32,990
config and I've been told not to show

00:36:31,190 --> 00:36:35,779
this to everyone too it's empty

00:36:32,990 --> 00:36:38,869
basically right so and then we have our

00:36:35,779 --> 00:36:41,750
staging and that's empty so the way this

00:36:38,869 --> 00:36:43,910
was working before is that in your

00:36:41,750 --> 00:36:45,380
Active Directory all those files would

00:36:43,910 --> 00:36:49,010
live and that's where drupal was reading

00:36:45,380 --> 00:36:50,569
and writing when you export then you

00:36:49,010 --> 00:36:52,430
would put those files in a staging

00:36:50,569 --> 00:36:54,289
directory and that's where they go so

00:36:52,430 --> 00:36:56,990
that's a super long answer to your

00:36:54,289 --> 00:36:59,390
question everybody's wondering it so I'm

00:36:56,990 --> 00:37:03,079
just had to tell you that's why so there

00:36:59,390 --> 00:37:08,450
is also there's a long issue that on

00:37:03,079 --> 00:37:11,390
drupal.org / list hyphen changes so

00:37:08,450 --> 00:37:13,789
drupal drupal list changes is the way

00:37:11,390 --> 00:37:15,410
people think of it we've all the changes

00:37:13,789 --> 00:37:17,630
we've made from Drupal 7 to Drupal 8

00:37:15,410 --> 00:37:19,700
we've put there that information is all

00:37:17,630 --> 00:37:22,279
accurate and up-to-date and every time

00:37:19,700 --> 00:37:25,130
we fix a critical bug we also have to

00:37:22,279 --> 00:37:27,710
change those change notices in that

00:37:25,130 --> 00:37:30,020
documentation and there is one in there

00:37:27,710 --> 00:37:33,079
that talks about changing the default

00:37:30,020 --> 00:37:35,329
active storage from files to the

00:37:33,079 --> 00:37:36,950
database and it has even more reasons

00:37:35,329 --> 00:37:39,710
about why we did this links to the

00:37:36,950 --> 00:37:43,490
issues lots of developers budded lots of

00:37:39,710 --> 00:37:46,309
heads and i'll warn you if you really

00:37:43,490 --> 00:37:48,170
love files we have a module that has all

00:37:46,309 --> 00:37:53,299
that code in there and you can still do

00:37:48,170 --> 00:37:54,710
it anyway thank you I'm just clarified

00:37:53,299 --> 00:37:56,900
some probably Deb sides we could have

00:37:54,710 --> 00:37:58,069
the full file base config and I have to

00:37:56,900 --> 00:38:00,829
touch the database so while we're

00:37:58,069 --> 00:38:01,940
working with a team we could have it

00:38:00,829 --> 00:38:04,339
fully file base okay that's half my

00:38:01,940 --> 00:38:05,839
question second half since we over

00:38:04,339 --> 00:38:07,579
automate things because we're Drupal

00:38:05,839 --> 00:38:09,799
errs uh what kind of dress integration

00:38:07,579 --> 00:38:11,390
does this have as far as pushing pulling

00:38:09,799 --> 00:38:12,950
are you know backing up exporting to fig

00:38:11,390 --> 00:38:15,500
maybe certain configs things like that

00:38:12,950 --> 00:38:17,869
it's got all that so we have thrush

00:38:15,500 --> 00:38:19,760
commands for importing config exporting

00:38:17,869 --> 00:38:21,349
config synchronizing you can do it all

00:38:19,760 --> 00:38:23,980
from the commandment I want to hug you

00:38:21,349 --> 00:38:23,980
thank you so much

00:38:26,780 --> 00:38:31,590
yeah I'm wondering about performance

00:38:29,180 --> 00:38:33,180
that was great you had like three or

00:38:31,590 --> 00:38:35,250
four changes but what happens when we've

00:38:33,180 --> 00:38:39,300
got a full website and we're looking at

00:38:35,250 --> 00:38:41,310
thousands of configurations the

00:38:39,300 --> 00:38:43,490
performance of Drupal 8 well the

00:38:41,310 --> 00:38:45,810
performance of importing and exporting

00:38:43,490 --> 00:38:49,350
the performance of importing and

00:38:45,810 --> 00:38:52,650
exporting you've got 3,000 configuration

00:38:49,350 --> 00:38:56,310
files what happens I mean I you know we

00:38:52,650 --> 00:38:58,560
we use this we tried this on the the d7

00:38:56,310 --> 00:39:01,320
version I had to get rid of it because

00:38:58,560 --> 00:39:04,800
it didn't work 7 version yeah there's a

00:39:01,320 --> 00:39:06,540
there's a yeah there's there's there's a

00:39:04,800 --> 00:39:09,390
version you can get for Drupal 7 that

00:39:06,540 --> 00:39:12,180
does this the configuration yes and it

00:39:09,390 --> 00:39:14,220
works similar but it's just with a site

00:39:12,180 --> 00:39:15,540
as large and complex as ours we had to

00:39:14,220 --> 00:39:18,990
get rid of it because every time we

00:39:15,540 --> 00:39:21,360
tried to run it it crashed our site so

00:39:18,990 --> 00:39:24,210
that I mean that is a completely

00:39:21,360 --> 00:39:26,730
different thing configuration now

00:39:24,210 --> 00:39:32,940
there's a configuration API in Drupal 8

00:39:26,730 --> 00:39:34,800
and it's baked in so that to compare the

00:39:32,940 --> 00:39:38,490
triple seven in Drupal 8 versions i

00:39:34,800 --> 00:39:41,700
don't think is quite fair because in

00:39:38,490 --> 00:39:43,140
drupal 7 essentially the same or similar

00:39:41,700 --> 00:39:45,570
little as a lot of things have changed

00:39:43,140 --> 00:39:49,350
but similar configuration exists now in

00:39:45,570 --> 00:39:52,110
databases it's just in more tables so we

00:39:49,350 --> 00:39:55,500
should be able to just be just about as

00:39:52,110 --> 00:39:57,390
performance performant we haven't done a

00:39:55,500 --> 00:39:58,980
lot of the performance tweaking at this

00:39:57,390 --> 00:40:02,430
point because we're still trying to get

00:39:58,980 --> 00:40:05,160
it to work there are still like I said

00:40:02,430 --> 00:40:07,380
bugs and the general way of doing things

00:40:05,160 --> 00:40:10,530
in Drupal is to first make it work and

00:40:07,380 --> 00:40:13,230
then make it faster by moving things

00:40:10,530 --> 00:40:16,790
into the database we saw the speed go up

00:40:13,230 --> 00:40:19,560
versus when we had things in the files

00:40:16,790 --> 00:40:23,810
some people said it was somewhere around

00:40:19,560 --> 00:40:26,220
three times slower with Drupal 8 the

00:40:23,810 --> 00:40:28,590
actual process of importing and

00:40:26,220 --> 00:40:32,070
exporting configuration does take take

00:40:28,590 --> 00:40:34,599
some time but I don't I don't think that

00:40:32,070 --> 00:40:38,200
would necessarily have to affect

00:40:34,599 --> 00:40:39,579
performance of your sight I mean that's

00:40:38,200 --> 00:40:40,839
now I wasn't asking about the

00:40:39,579 --> 00:40:44,319
performance of the site just the

00:40:40,839 --> 00:40:47,319
performance of this action the you know

00:40:44,319 --> 00:40:49,450
women's of importing an ex right well

00:40:47,319 --> 00:40:51,369
yeah I mean I haven't done like you know

00:40:49,450 --> 00:40:54,369
strenuous load testing to see how it

00:40:51,369 --> 00:40:57,940
worked with three thousand files with

00:40:54,369 --> 00:41:00,579
Drupal core you know it comes with 167

00:40:57,940 --> 00:41:02,440
files or we could look but you know it

00:41:00,579 --> 00:41:04,299
comes with a lot quite a few files and

00:41:02,440 --> 00:41:06,249
you know it took a little bit when I

00:41:04,299 --> 00:41:08,559
synchronize their but if you're

00:41:06,249 --> 00:41:11,559
installing something that would bring in

00:41:08,559 --> 00:41:13,059
three thousand files of configuration

00:41:11,559 --> 00:41:15,400
that seems like that would be quite a

00:41:13,059 --> 00:41:17,470
lot of modules and quite a lot of extra

00:41:15,400 --> 00:41:19,329
configuration so i'm not sure i'm not

00:41:17,470 --> 00:41:23,769
sure what would happen is the short

00:41:19,329 --> 00:41:25,180
answer but I I think if that I don't

00:41:23,769 --> 00:41:27,190
think we're going to release a version

00:41:25,180 --> 00:41:33,700
of Drupal 8 that doesn't work for big

00:41:27,190 --> 00:41:35,529
sites thanks sure hi I got two parts to

00:41:33,700 --> 00:41:37,989
this question the first part is does

00:41:35,529 --> 00:41:39,969
this handle deletes they need a clean

00:41:37,989 --> 00:41:42,069
way a nice way so if i delete a field i

00:41:39,969 --> 00:41:44,920
push that up it deletes in our

00:41:42,069 --> 00:41:46,599
production yes okay and the other part

00:41:44,920 --> 00:41:49,089
was you hinted at something called a

00:41:46,599 --> 00:41:51,339
clone how do you make what is a clone

00:41:49,089 --> 00:41:55,359
and how do you make one so the clone

00:41:51,339 --> 00:41:57,609
would be if you create the site and you

00:41:55,359 --> 00:41:59,739
could at that point it creates a unique

00:41:57,609 --> 00:42:02,890
ID for that site and it creates all your

00:41:59,739 --> 00:42:05,979
configuration and files so by through

00:42:02,890 --> 00:42:07,869
the UI installing Drupal you know it has

00:42:05,979 --> 00:42:10,329
all of your files all of your code I'll

00:42:07,869 --> 00:42:12,880
be your config and you copy that

00:42:10,329 --> 00:42:14,950
directory and put it somewhere else you

00:42:12,880 --> 00:42:16,390
could now if you're using get like the

00:42:14,950 --> 00:42:19,749
way i did this is I had a git repository

00:42:16,390 --> 00:42:21,910
to demonstrate I had one site that was

00:42:19,749 --> 00:42:24,759
pulling another site that was pulling

00:42:21,910 --> 00:42:27,009
and when I was synchronizing changes i

00:42:24,759 --> 00:42:30,640
could push those changes to the get and

00:42:27,009 --> 00:42:32,170
pull them back down so again there are

00:42:30,640 --> 00:42:34,779
lots of different ways that people are

00:42:32,170 --> 00:42:36,190
going to do this probably it's going to

00:42:34,779 --> 00:42:38,259
be a lot of people are going to be using

00:42:36,190 --> 00:42:40,329
get to do this but if you just want to

00:42:38,259 --> 00:42:43,229
create a site and then copy that

00:42:40,329 --> 00:42:44,900
directory that is a clone on the site

00:42:43,229 --> 00:42:49,970
Thanks sure

00:42:44,900 --> 00:42:51,830
I have a workflow question so if you and

00:42:49,970 --> 00:42:53,360
I are both developing on sites and

00:42:51,830 --> 00:42:55,520
forgive me i'm going to use the features

00:42:53,360 --> 00:42:57,740
module as an example and you finish what

00:42:55,520 --> 00:42:59,930
you've done and you've added it into the

00:42:57,740 --> 00:43:02,810
feature and i have built something on my

00:42:59,930 --> 00:43:05,420
site that is not in the feature but i

00:43:02,810 --> 00:43:07,430
want your functionality on my site i can

00:43:05,420 --> 00:43:09,140
effectively merge configuration by

00:43:07,430 --> 00:43:11,750
adding what you've done in the feature

00:43:09,140 --> 00:43:14,030
yep with this new configuration

00:43:11,750 --> 00:43:15,680
management what happens if you have

00:43:14,030 --> 00:43:20,540
checked stuff into the git repository

00:43:15,680 --> 00:43:24,320
that I have not done on my site or vice

00:43:20,540 --> 00:43:26,750
versa I will say there are multiple ways

00:43:24,320 --> 00:43:28,430
that folks are going to deal with this I

00:43:26,750 --> 00:43:32,390
was talking with some I was talking with

00:43:28,430 --> 00:43:35,810
Alex pot from chapter 3 in Alex

00:43:32,390 --> 00:43:40,010
Bronstein from aquia yesterday about

00:43:35,810 --> 00:43:41,210
this topic and they both felt like there

00:43:40,010 --> 00:43:42,650
were two different ways they were going

00:43:41,210 --> 00:43:44,030
to handle it like Pantheon might be

00:43:42,650 --> 00:43:47,000
handling in a different way than Acquia

00:43:44,030 --> 00:43:51,670
but different sites are going to

00:43:47,000 --> 00:43:51,670
implement their their own workflow the

00:43:52,060 --> 00:43:57,650
111 sort of simple way for a simple

00:43:54,680 --> 00:43:59,540
developer workflow would be to put all

00:43:57,650 --> 00:44:03,050
of your configuration in that staging

00:43:59,540 --> 00:44:04,580
directory and I should also add the

00:44:03,050 --> 00:44:06,020
disclaimer that we might get rid of

00:44:04,580 --> 00:44:08,060
those directories because they're kind

00:44:06,020 --> 00:44:11,150
of confusing because they're empty we

00:44:08,060 --> 00:44:13,340
might allow you to say to pick your

00:44:11,150 --> 00:44:15,320
staging directory so I will say it could

00:44:13,340 --> 00:44:19,540
be something else but for now it would

00:44:15,320 --> 00:44:22,340
be that config underscore hash long hash

00:44:19,540 --> 00:44:25,250
staging directory so you could make that

00:44:22,340 --> 00:44:28,400
part of your git repository and when you

00:44:25,250 --> 00:44:31,910
are pushing a change on your local site

00:44:28,400 --> 00:44:33,470
to that git repository you could put you

00:44:31,910 --> 00:44:36,110
know push it to that staging folder and

00:44:33,470 --> 00:44:38,330
then pull on the other site another way

00:44:36,110 --> 00:44:41,930
in a more complex workflow like for

00:44:38,330 --> 00:44:45,530
aquia or four pantheon would be that

00:44:41,930 --> 00:44:48,770
they would have they would for example

00:44:45,530 --> 00:44:49,790
maybe I shouldn't I don't know how

00:44:48,770 --> 00:44:51,410
they're going to do it so I'll just say

00:44:49,790 --> 00:44:53,900
this is a way someone could do it they

00:44:51,410 --> 00:44:55,550
could deploy a branch to their

00:44:53,900 --> 00:44:59,660
production site

00:44:55,550 --> 00:45:01,970
and the issue that maybe i'm not sure if

00:44:59,660 --> 00:45:03,980
you're getting at this is that in some

00:45:01,970 --> 00:45:06,470
cases you'll want people to be able to

00:45:03,980 --> 00:45:09,050
change configuration in the UI on the

00:45:06,470 --> 00:45:10,340
production site in some cases you might

00:45:09,050 --> 00:45:13,040
say we're not going to let that happen

00:45:10,340 --> 00:45:16,130
anymore and we're just going to have

00:45:13,040 --> 00:45:20,450
developers do it if you say i am going

00:45:16,130 --> 00:45:22,580
to let a developer push changes but i'm

00:45:20,450 --> 00:45:24,230
also going to let my users make changes

00:45:22,580 --> 00:45:27,770
to configuration create views things

00:45:24,230 --> 00:45:29,540
like that and you deploy a branch to

00:45:27,770 --> 00:45:31,760
your production site let's say we'll

00:45:29,540 --> 00:45:34,250
call it release one and then you're

00:45:31,760 --> 00:45:36,860
working on released to you can work and

00:45:34,250 --> 00:45:39,320
work and then at some point you can say

00:45:36,860 --> 00:45:41,690
all right I'm ready to merge I'm going

00:45:39,320 --> 00:45:44,570
to export the configuration from the

00:45:41,690 --> 00:45:47,300
release one production site I'm going to

00:45:44,570 --> 00:45:50,810
merge that in and then I'm going to

00:45:47,300 --> 00:45:52,730
merge that branch into release too so I

00:45:50,810 --> 00:45:55,940
have the current configuration from the

00:45:52,730 --> 00:45:58,610
site I have all the changes I've made

00:45:55,940 --> 00:46:00,830
and you can do your your conflicts at

00:45:58,610 --> 00:46:02,330
that point so I'm not sure if that

00:46:00,830 --> 00:46:04,340
answers your question but then at that

00:46:02,330 --> 00:46:06,350
point you could do you know well I guess

00:46:04,340 --> 00:46:10,760
it would be better to call them like 10

00:46:06,350 --> 00:46:12,920
x or 1x or 2x kind of thing because you

00:46:10,760 --> 00:46:14,900
could change those branches as changes

00:46:12,920 --> 00:46:17,210
are made or you could even automate that

00:46:14,900 --> 00:46:19,010
process and say every hour I'm going to

00:46:17,210 --> 00:46:20,210
check to see if something has happened

00:46:19,010 --> 00:46:21,800
i'm going to run address command is

00:46:20,210 --> 00:46:24,260
going to export all my config into this

00:46:21,800 --> 00:46:26,510
file and you know you can get as crazy

00:46:24,260 --> 00:46:32,780
as you want okay thank you very much

00:46:26,510 --> 00:46:35,870
sure hello in one of the previous

00:46:32,780 --> 00:46:38,600
question they asked for deletions right

00:46:35,870 --> 00:46:42,170
now features for example it allows you

00:46:38,600 --> 00:46:43,850
to exclude like a component and it will

00:46:42,170 --> 00:46:47,390
add something to that info file for it

00:46:43,850 --> 00:46:50,930
to ignore 80 and future export but as I

00:46:47,390 --> 00:46:52,850
like a feature of the module it won't

00:46:50,930 --> 00:46:56,150
actually delete the field from the

00:46:52,850 --> 00:46:57,830
database it will like they say that we

00:46:56,150 --> 00:47:02,600
won't torture that we won't delete your

00:46:57,830 --> 00:47:04,100
data so if we delete something and we

00:47:02,600 --> 00:47:07,340
export that and and

00:47:04,100 --> 00:47:09,110
next make a sink with that feel or the

00:47:07,340 --> 00:47:11,810
information will actually be removed

00:47:09,110 --> 00:47:13,640
from the database so you're getting into

00:47:11,810 --> 00:47:15,980
the weeds a little bit here but these

00:47:13,640 --> 00:47:18,980
are the kinds of complex problems we are

00:47:15,980 --> 00:47:22,040
trying to solve in general we are doing

00:47:18,980 --> 00:47:26,750
our best never to delete data that

00:47:22,040 --> 00:47:30,110
doesn't need to be deleted if so now

00:47:26,750 --> 00:47:33,470
basically everything in an entity is a

00:47:30,110 --> 00:47:35,480
field in Drupal 8 that's that's cool

00:47:33,470 --> 00:47:38,150
it's like that's kind of a everything is

00:47:35,480 --> 00:47:41,180
kind of fields now in entities and it is

00:47:38,150 --> 00:47:46,990
possible to say remove a module that

00:47:41,180 --> 00:47:51,200
provides a view mode for that field and

00:47:46,990 --> 00:47:53,420
if you remove that now are I think our

00:47:51,200 --> 00:47:55,490
goal is to make it so you won't remove

00:47:53,420 --> 00:47:59,720
like your whole view mode you'll would

00:47:55,490 --> 00:48:02,960
just remove that that particular or you

00:47:59,720 --> 00:48:06,590
won't remove your that that field view

00:48:02,960 --> 00:48:09,050
mode from your entity you will just have

00:48:06,590 --> 00:48:11,900
to revert back to the default view mode

00:48:09,050 --> 00:48:15,950
for that field but it shouldn't also it

00:48:11,900 --> 00:48:19,100
should also not delete the data so we

00:48:15,950 --> 00:48:23,300
have a fairly complex dependency

00:48:19,100 --> 00:48:26,630
management aspect to this that tries to

00:48:23,300 --> 00:48:29,090
avoid things like that because there is

00:48:26,630 --> 00:48:31,340
a whole process when you're enabling and

00:48:29,090 --> 00:48:33,770
disabling modules where we use a bunch

00:48:31,340 --> 00:48:36,140
of checks when you're synchronizing we

00:48:33,770 --> 00:48:37,850
have to do a separate sort of checks to

00:48:36,140 --> 00:48:41,210
make sure you know modules exist the

00:48:37,850 --> 00:48:44,240
code and that kind of thing but in

00:48:41,210 --> 00:48:46,280
general we're doing our best to have

00:48:44,240 --> 00:48:48,350
sensible defaults and make it so you

00:48:46,280 --> 00:48:51,620
won't accidentally delete your data and

00:48:48,350 --> 00:48:53,450
if you are making changes to your if

00:48:51,620 --> 00:48:55,400
there are going to be changes to your

00:48:53,450 --> 00:48:57,020
data or changes to your configuration

00:48:55,400 --> 00:48:59,380
that there will be you know warnings

00:48:57,020 --> 00:49:02,990
saying you are about to delete something

00:48:59,380 --> 00:49:05,110
and I won't get into the technical

00:49:02,990 --> 00:49:09,050
details of how that works but

00:49:05,110 --> 00:49:11,090
essentially we have we have you know

00:49:09,050 --> 00:49:13,730
your active configuration we have your

00:49:11,090 --> 00:49:16,370
staging configuration which is what you

00:49:13,730 --> 00:49:17,530
you know where you use stage things to

00:49:16,370 --> 00:49:20,650
deploy them to your

00:49:17,530 --> 00:49:24,400
but then we also have snapshots of your

00:49:20,650 --> 00:49:26,590
configuration when you import so we can

00:49:24,400 --> 00:49:31,530
do so we can compare to see what has

00:49:26,590 --> 00:49:34,470
changed okay thank you you're welcome

00:49:31,530 --> 00:49:38,020
you've touched upon some of this but

00:49:34,470 --> 00:49:42,000
right now using install profiles for new

00:49:38,020 --> 00:49:43,900
sites going back some years back

00:49:42,000 --> 00:49:46,750
everything I had a whole bunch of

00:49:43,900 --> 00:49:49,210
variable cept Drupal right record to

00:49:46,750 --> 00:49:51,010
actually put the configuration right in

00:49:49,210 --> 00:49:53,890
the database a couple years ago I

00:49:51,010 --> 00:49:56,440
started stripping that out and putting

00:49:53,890 --> 00:50:00,100
in features so now I get features that

00:49:56,440 --> 00:50:03,390
get installed at install time so how do

00:50:00,100 --> 00:50:05,290
we do that now in Drupal 8 okay we just

00:50:03,390 --> 00:50:07,540
initially I thought you just would

00:50:05,290 --> 00:50:10,480
supply the ammo files but now it sounds

00:50:07,540 --> 00:50:13,960
like you can't just do that you could

00:50:10,480 --> 00:50:15,550
you could well let me let me sort of

00:50:13,960 --> 00:50:17,620
make sure I'm understanding the crush

00:50:15,550 --> 00:50:20,050
the question correctly are you saying if

00:50:17,620 --> 00:50:23,410
you're writing a module no well just

00:50:20,050 --> 00:50:25,930
just just configuration yes our

00:50:23,410 --> 00:50:28,150
distribution is for a distribution we

00:50:25,930 --> 00:50:30,370
have a lot of different modules that we

00:50:28,150 --> 00:50:33,400
bundle up and deploy with our

00:50:30,370 --> 00:50:36,820
distribution and we were configuring all

00:50:33,400 --> 00:50:38,590
of that in the install profile so you

00:50:36,820 --> 00:50:41,020
would do that just I mean just like

00:50:38,590 --> 00:50:43,960
every any other module you could provide

00:50:41,020 --> 00:50:45,370
your own default configuration and if

00:50:43,960 --> 00:50:47,350
you're saying like how do you make that

00:50:45,370 --> 00:50:49,720
well you could go into a view for

00:50:47,350 --> 00:50:52,690
example and create that view and export

00:50:49,720 --> 00:50:54,580
it as files and put that in there much

00:50:52,690 --> 00:50:57,100
like you would with features but I do

00:50:54,580 --> 00:50:59,290
want to make the point that Drupal 8 is

00:50:57,100 --> 00:51:01,690
not necessarily trying to replicate all

00:50:59,290 --> 00:51:04,420
the functionality of features and that

00:51:01,690 --> 00:51:07,600
features will still exist we are trying

00:51:04,420 --> 00:51:11,620
to find the most common denominator of

00:51:07,600 --> 00:51:14,080
what function what functionality most

00:51:11,620 --> 00:51:15,850
people want out of Drupal core and then

00:51:14,080 --> 00:51:20,200
we're providing an API that lets you

00:51:15,850 --> 00:51:23,310
change it sort of however you want but

00:51:20,200 --> 00:51:25,480
if that install time are populate that

00:51:23,310 --> 00:51:27,579
configuration directory with the

00:51:25,480 --> 00:51:29,680
defaults all those get red in

00:51:27,579 --> 00:51:34,420
those will get red in from the install

00:51:29,680 --> 00:51:37,599
pro thank you yes thank you I think

00:51:34,420 --> 00:51:40,289
that's it any other questions thank you

00:51:37,599 --> 00:51:40,289

YouTube URL: https://www.youtube.com/watch?v=O6K4UxOk9oA


