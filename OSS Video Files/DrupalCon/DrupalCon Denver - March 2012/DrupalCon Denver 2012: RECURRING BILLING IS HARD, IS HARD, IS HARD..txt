Title: DrupalCon Denver 2012: RECURRING BILLING IS HARD, IS HARD, IS HARD.
Publication date: 2013-03-28
Playlist: DrupalCon Denver - March 2012
Description: 
	On the surface it may seem simple enough; Collect someone's credit card information and then charge them once a month. If they fail to pay then kick them out. There's a lot more to it than that though. The truth of the matter is building an effective recurring billing (subscription) system involves a whole lot more than just charging someone's credit card and saying thanks. For example, you need to store credit card info. Which is exactly what everyone tells you not to do. Ever. For any reason. PCI compliant? You better be. Once you've got the customers information you need to actually bill them on a regular basis. But how do you deal with changing the billing interval, canceling or suspending accounts, and dunning management? What about generating metrics to go with these account actions? What happens when you want to offer a discount on a subscription? Does it apply to a single month or multiple months? Is it percentage based or a fixed value? What if you want to provide a discount on the next 2 months for someone who has already been a subscriber for 2 years? We'll also talk a little about the ins and outs of testing new features when developing for sites that use a subscription model and some related best practices. In this session I'll cover some of the ins and outs we've learned about building subscription based systems in Drupal. The presentation itself will provide useful information for anyone using Ubercart or Drupal Commerce as the majority of topics covered are going to pose problems no matter what platform you use.

Questions answered by this session: 
Ways to store, and re-use, credit card information
How to perform testing in a recurring billing environment. Safely.
Often overlooked aspects of recurring billing. Dunning management, notifications, coupons, discounts, and more.
Things to keep in mind when selecting a payment gateway to use of your recurring billing application.
Captions: 
	                              all right it's five ish or close enough                               so we'll go ahead and get started if you                               are here to learn about recurring                               billing subscription billing taking                               someone's credit card and charging it                               over and over and over and over again                               then you're in the right room you're not                               you can leave and go find what you're                               looking for and I won't be offended so                                introduce myself a little bit about me                                my name is Joe Chandalar I'm yo J the                                brave on drupal.org Twitter pretty much                                anything on the Internet I work at                                lullaby lullaby does a company that does                                drupal consulting training and                                development I'm the lead trainer at La                                lava so I do a lot of standing up and                                talking to people about how to build                                your first view how to create sites                                using Drupal in addition to doing that I                                also work on the Drupal ize team I do a                                lot of group lies news video recording                                in addition to that I also do a lot of                                development on the site and this is                                actually where a lot of my information                                abhi so with you comes from from having                                spent a lot of time working on the                                subscription platform that we use for                                hosting our videos allowing people to                                sign up for a monthly subscription and                                watch those videos I think it started I                                think it makes sense to just talk a                                little bit about what exactly is                                recurring billing basically at its                                simplest form recurring billing is when                                you give someone the permission to                                charge your account at a regular                                interval whether that's giving them your                                credit card number and saying go ahead                                and charge my account once every month                                giving them a bank account and saying                                yes you can debit my bank account for my                                mortgage payment on a monthly basis                                anything like that where you're                                basically saying go ahead and take money                                from me on a recurring interval as                                recurring billing or subscription                                billing is how we often see it some                                examples of that might be something like                                a newspaper or a magazine subscription                                you sign up for a magazine you pay them                                                                                                magazine in the mail if you stop paying                                them tightened a                                     ninety-nine a month they stop sending                                you the magazine in the mail other                                common examples that were probably used                                to something like an ISP an Internet                                service provider so not necessarily a                                physical good but a service that you're                                giving someone your comcast charges you                                X dollars per month in order to provide                                you a service if you fail to pay them                                and they're using some kind of                                subscription-based billing system to                                charge you or they may just send you a                                check or a bill in the mail but they're                                still billing you on a monthly basis you                                fail to pay that bill maybe not right                                away but eventually they're going to                                shut down your account and no longer                                provide you with that service Netflix is                                another common example there's also the                                software as a service model which is                                becoming pretty popular and probably                                something a lot of people here are                                interested in your building some kind of                                web-based application and you want to                                charge people for access to that                                application again you're providing them                                a service things like base camp pantheon                                unfuddle Yammer all these tools were we                                sign up for an account based on how much                                we pay them we may get different                                features or it may just be like a you                                sign up you get an account pay one rate                                you get all the features whatever the                                case and you have to pay for that on a                                regular ongoing basis and if you fail to                                pay they'll eventually shut down your                                account you don't get those features and                                be longer and then there's things like                                paying rent is a form of recurring                                billing in a sense you have an apartment                                you have to pay the landlord on a                                monthly basis they might not have a                                whole subscription based platform in                                order to charge you they'll probably                                just show up at your door and knock on                                 it if you forget to pay them and you                                 know they it's but at the same time it's                                 still some kind of recurring billing                                 I also realized that this session takes                                 place at five p.m. on the second day of                                 Drupal cod so it's going to be the end                                 of the day and everybody's had their                                 brains kind of filled with a lot of                                 stuff you're probably waiting to head                                 out to the bar and have a beer so if you                                 take anything away from this session                                 this is going to be the                                                  of how you can do recurring billing so                                 the five minute version of my session is                                 if you can use a service use somebody                                 else to do the recurring billing for you                                 focus on building your application or                                 your platform and let somebody else do                                 the hard work as much as possible this                                 is going to vary a lot you might end up                                 with the scenario where you can offload                                 some of that work to someone else and do                                 some of it yourself a good example is if                                 you're in the previous session they                                 talked a lot about PCI compliance you                                 might want to offload some of the credit                                 card data storage to a business that                                 specializes in doing that so you don't                                 have to spend a lot of time working that                                 out yourself if you do have to build                                 your own system or even when you're                                 using an existing service try and                                 simplify your needs as much as possible                                 I think we tend to look at these things                                 and go into it with this I need all                                 these features I need to be able to do                                 all these crazy things and we end up                                 kind of complicating the problem a                                 really good example of this that                                 happened with the Drupal eyes me site is                                 when we first started building it we                                 spent a lot of time figuring out how to                                 handle trial accounts somebody signs up                                 for a trial account we want to give them                                 like a one month free and then after                                 that we'll start charging them X dollars                                 a month but it was always weird because                                 in order to get their credit card we                                 would have to charge their credit card                                 something or it was weird to say give us                                 your credit card but we're not actually                                 going to charge you anything sorta from                                 like a customer relations standpoint                                 that was kind of bizarre things like                                 that we were able to sort of just                                 simplify the idea a little bit and we                                 stepped back and said what are we really                                 trying to do what we're trying to do is                                 give somebody the opportunity to                                 experience what our site would be                                 if they had an account on it without                                 having to commit to paying the $                                     month so we just made some of the videos                                 on our site free and it's the exact same                                 experience that you get if you sign up                                 for an account you just don't get it on                                 all the videos to get it on a handful of                                 them and that was awesome because it's                                 really easy to do that in Drupal you                                 just check a couple of boxes and change                                 some permissions and you're done you can                                 give a giveaway and account to somebody                                 and they can get a trial of what your                                 site is like so things like that                                 figuring out ways to simplify your needs                                 I highly recommend that you test the                                 crap out of everything you do with                                 recurring billing and billing in general                                 a couple of reasons you're when you're                                 doing recurring billing you're charging                                 people money for some service if you                                 mess up charging people money they tend                                 to get pretty upset about it the other                                 part of it is if you fail to charge them                                 money on a recurring basis your business                                 model isn't doing very well because                                 you're not making money so testing                                 things becomes really important we'll                                 talk about some tips for that and                                 finally focus on communication and                                 building relationships with your                                 customers when you're doing any kind of                                 sales but especially with the recurring                                 billing type of stuff focusing on                                 building good relationships with your                                 customers becomes really important we                                 find at drupa lies me when thing went                                 complicated things happen or when                                 something messes up it's a lot easier                                 for us to talk to our customers when                                 we've already established a good                                 relationship with them they don't come                                 at us and are like really mad that                                 something was broken they come and say                                 oh hey I noticed on your site that this                                 was a little bit out of whack and could                                 you please fix it and we say sure yeah                                 no problem and we'll give you a free                                 month and you know be friendly about it                                 it becomes much easier to maintain your                                 customers so that's the                                                  and then there's the longer version                                 because the truth is if you are doing                                 this kind of stuff you're going to spend                                 a whole heck of a lot more time than                                 five minutes working and sorting it all                                 out it's actually a fairly complicated                                 problem not only was it Drupal itself                                 but just sort of in general doing                                 recurring billing has a lot of moving                                 pieces to it so like I said before this                                 is all based on my experience working                                 with recurring billing for Drupal eyes                                 me Drupal eyes me as a Drupal                                           a lot of my knowledge is based on uber                                 cart and that system I've also done some                                 looking into the Commerce subscriptions                                 for Drupal                                                             in a production environment yet and I've                                 also spent a lot of time talking to                                 people from various services like we're                                 curly and charged if I and just kind of                                 picking their brains about this at the                                 end of the day though I don't know that                                 I have all of the answers to how to do                                 recurring billing you're not going to be                                 able to walk out of this room and                                 download these five modules and turn                                 them on and magically start doing                                 recurring billing but we can hopefully                                 help get you pointed in the right                                 direction so one of the first questions                                 that you need to ask yourself when you                                 get into this and in that five minute                                 overview my first step was if you don't                                 have to let somebody else do it for you                                 so you need to be able to figure out                                 should I roll my own recurring billing                                 service subsystem or should I use a                                 service in this context by roll my own                                 or building our own system I saying that                                 if you're building the system in Drupal                                 using something like commerce or                                 ubercart your your innocence building                                 your own if Drupal becomes the business                                 logic that is responsible for charging                                 once a month or making whatever it needs                                 to do it needs to contact the gateway or                                 charge the credit card or whatever it                                 needs to do on a monthly basis to charge                                 that card we're going to refer to that                                 is we're building our own system so if                                 drupal's performing the majority of the                                 business logic we're building our own                                 system if we can offload that to                                 something else than we're using a                                 service there's various parts of it that                                 we can offload to other things                                 and there's a lot of different types of                                 services so by a service I mean                                 something like charge if I is a common                                 one week early there are a lot of                                 billing subscription management                                 platforms that exist that basically have                                 an API that you can use in order to                                 charge somebody's credit card on a                                 regular basis in a very simple level how                                 they work is somebody fills out a form                                 whether that's on your site or on their                                 site and adds their credit card data                                 into it hit submit once that service                                 like Rick early has successfully charged                                 the credit card it then pings your                                 server so called back to Drupal and says                                 hey there was a successful charge may or                                 hey this charge failed and then Drupal                                 can do something like added roll to a                                 user if the charge was successful or                                 remove the role of the charge failed                                 there's other types of services to that                                 are sort of at a little bit different                                 level it's so in addition to doing that                                 something like we currently provides you                                 with a lot of reporting it gives you                                 dunning management which we'll talk a                                 lot about how to handle errors what                                 happens if I try to charge somebody's                                 credit card but to actually got a new                                 credit card or they change the dresses                                 or something like that services like                                 we're currently provide a lot of tools                                 for handling that for you as well                                 there's other things like PayPal or                                 stripe or authorize net has their ARB                                 automated recurring billing system which                                 do part of this they do the part where                                 they essentially act as a credit card                                 data store and a crontab so they store                                 your credit card data for your users and                                 then on a regular schedule whatever                                 you've defined as a plan they'll charge                                 that card so that maybe we'll say that's                                 once a month they'll charge the card                                 they'll call back to your server and say                                 what there was was successful or not in                                 these cases that service like PayPal or                                 authorize net is still the one that's                                 responsible for that business logic of                                 actually knowing when to charge the card                                 in doing so and then finally there's                                 gateways and sort of the build your own                                 using something like authorized                                 or Braintree but not using their ARB                                 system but just using them as a card                                 store and you perform the logic to                                 charge the card we'll talk more about                                 that of course there's the question what                                 is this going to cost me in order to                                 build this kind of system and this plays                                 a really important part i think in                                 trying to determine if you're going to                                 use a service like week early you're                                 going to pay them a fee in order to use                                 that service if you're going to build it                                 yourself you're going to pay yourself or                                 your developers a fee in order to build                                 all the business logic behind it and                                 it's an important question to ask well i                                 have some slides where we kind of break                                 it down a little bit more and we'll talk                                 about that you also have to ask how much                                 time is this going to take am I going to                                 spend a lot of time integrating with                                 some third-party service versus am I                                 going to spend a lot of time building it                                 myself time and money those too often go                                 together sometimes you have not very                                 much money but you've got a ton of time                                 if you're building yourself you can                                 spend maybe as much time as you want to                                 or maybe you have a lot of money in very                                 little time and it's kind of managing                                 that scale and then finally there's the                                 question of if I'm going to use this                                 service does it provide me with the                                 flexibility that I need in order to                                 perform whatever plans I've come up with                                 planned in this case being something                                 like I'd like to charge people once a                                 month or a plan might be I'd like to                                 charge people every six months or I'd                                 like to charge people once a month but                                 I'd like them to have half off on the                                 first month and so forth so figuring out                                 your plans does it provide the                                 flexibility that you need                                 so services we talked a little bit about                                 this there's a whole bunch of them out                                 there that perform this service of                                 basically acting as both the credit card                                 data store and the business logic that                                 does things like Bill at a regular                                 interval every                                                         case may be in addition to that some of                                 these also provide a lot of reports that                                 you can go and look at they provide                                 interfaces for managing things like                                 Dunning so Dunning management being when                                 somebody when their credit card fails                                 how do i send them do I send them an                                 email do I contact them about it or not                                 so lots of services that provide that I                                 I like the idea of these services and I                                 think that if it seems to be a good fit                                 for you I highly recommend going with                                 one of these services let them do the                                 work of things like automating the                                 billing and dealing with all the                                 security and so forth because then you                                 get the opportunity to just focus on                                 your application focus on the thing that                                 you're good at you know it Drupal eyes                                 me the thing that we're really good at                                 is recording videos that train people on                                 how to do things it would rather spend                                 our time working on recording new videos                                 then spend all of our time in the                                 background working on writing some kind                                 of logic in order to perform this                                 Dunning management when we could just                                 pay somebody else a feed to do it so                                 build your business and not your                                 building system we also talked about                                 other types of services like PayPal or                                 stripe which are kind of a hybrid                                 between a payment gateway and a full-on                                 recurring billing service again paypal                                 is a really good example of this they                                 both they can do both taking your credit                                 card and charging it and you can set up                                 a plan with them where you say charge                                 this card every                                                         me know that it was successful both of                                 these types of services whether it's a                                 paypal service or something I creek                                 early at the under po integration side                                 of it basically what you need to do is                                 you have to have a URL that these                                 mrs. Kent pain and they'll ping with a                                 status code that basically says this was                                 a successful transaction there was a non                                 successful transaction depending on the                                 service they have different status codes                                 and you need to respond to what their                                 status code is and take the appropriate                                 action on your side so that becomes                                 really all your application has to do                                 you know it's generally something like                                 remove a role from somebody because if                                 they don't have the role they no longer                                 permission to see the things that they                                 were paying for and so forth and then                                 there's the sort of like standard                                 payment gateway side of things to get a                                 question I guess it's not at a time to                                 mention this this one's a little unusual                                 as an alternative kind of a service it's                                 only really relevant if you could also                                 use like email management and CRM                                 features we have this thing that's                                 called Infusionsoft and it is email                                 marketing CRM and e-commerce and we                                 actually also use uber cart and we use                                 Drupal site because the basic shopping                                 cart that's in Infusionsoft isn't as                                 flexible in general as I would like                                 doesn't have multiple currencies doesn't                                 ental lots of things but it does                                 actually have a really good recurring                                 billing feature and and it covers all                                 kinds of things including the Dunning                                 process and a like a there's a way to                                 get a portal that people come coming in                                 and fix the credit cards or update the                                 credit cards all those things not too                                 expensive I think one seed is like fifty                                 nine dollars a month or something PCI                                 compliant so it takes care of a lot of                                 things but mostly you would use it if                                 you also are interested in their email                                 facilities CRM and there is some basic                                 Infusionsoft are there's some basic                                 integration for Drupal there's two                                 there's one module out there called                                 infusion Infusionsoft API I think                                 there's another module that I wrote that                                 it's only in a sandbox called diffusion                                 link says no one actually analysis in                                 yeah and so basically it's there's a lot                                 of different services Infusionsoft being                                 another one that I                                 personally have not heard of and but i                                 would say any of these services that                                 you're checking out you're still going                                 to need to ask yourself those same                                 questions like is it worth the cost of                                 me paying for this service or this even                                 if it's a separate piece of software                                 that I'm down licensing and installing                                 on my own hardware there's that cost                                 trade-off versa to pay that licensing                                 fee vs writing the code myself and now I                                 own it and so I just wanted to mention                                 the this gateway thing this concept of a                                 gateway being something like                                 authorize.net you have a merchant                                 account authorize.net is responsible for                                 you hand them a credit card number they                                 charge that credit card number they                                 deposit some money into your bank                                 account it's sort of a very high level a                                 lot of these also offer some type of                                 recurring billing service similar to                                 what paypal does where it has you can                                 set a plan and then it'll automatically                                 charge the card every                                                 you and let it you know if it worked or                                 not in addition to that a lot of these                                 gateways provide some sort of credit                                 card storage or a vault Braintree calls                                 there's the vault authorize.net has                                 there see IM customer information                                 manager their packages that you can add                                 on to your account with authorize.net                                 that says I'd like you to store credit                                 cards for me so this is really important                                 both if you're using a service like                                 we're curly or if you're building your                                 own you're going to need to have a                                 gateway that can do the charging of the                                 credit card and something that's storing                                 that credit card data for you some of                                 these services like cheddar gutters one                                 that provides their own gateway as well                                 but at the end of the day they're                                 providing two things that they're                                 providing the recurring subscription                                 management software and they're                                 providing the Gateway so at a bare                                 minimum no matter what route you take                                 you're going to need some kind of                                 gateway and I would highly recommend                                 that you use your gateway as your credit                                 card data store rather than trying to                                 store it yourself because you're going                                 to run into all kinds of complications                                 with PCI compliant                                 in order to do that there's no reason                                 not to use a third-party service to do                                 that part of it for you so what is this                                 all going to cost I did spend some time                                 kind of looking into it and researching                                 and looking at the numbers of what it                                 would cost to use different services at                                 a base if you're going to use                                 authorize.net at your gateway it's going                                 to look something like this there's                                 going to be a $                                                      you're going to pay them twenty dollars                                 a month in order to keep your account                                 and then you're going to pay                                 approximately ten cents per transaction                                 so doing the math of saying I have a                                 hundred subscribers that are each paying                                 ten dollars a month it's going to work                                 out to be about thirty dollars or sorry                                 via you also have to pay monthly for the                                 c IM or customer information manager so                                 you're going to pay twenty dollars a                                 month just to have your account and                                 twenty dollars a month to use their                                 credit card vault then you're going to                                 pay ten cents per transaction basically                                 with a hundred users at ten dollars a                                 month you're going to be paying about                                 five percent of your total profit to use                                 authorize.net gateway as charging credit                                 cards and storing credit cards so at a                                 bare minimum you're looking at something                                 like that the cost to use a service like                                 PayPal is a little bit steeper but                                 you're also getting more out of it                                 they're doing the automatic billing part                                 of it for you they're doing the business                                 logic of saying I'll take that plan that                                 you set up charge every                                            pingyao looks something like this works                                 out to be roughly                                                       for a hundred users at ten dollars a                                 month in order to use paypal as your                                 subscription billing thing in this case                                 you're still going to be responsible and                                 you're in for implementing a lot of                                 logic to deal with Dunning management                                 and so forth they don't really provide                                 that they also don't provide that much                                 in the way of reports that you can look                                 at not the same way that the service                                 like we're curly we're charged if I                                 might provide                                 I stuff on this interesting website                                 billing savvy calm which you can go to                                 and basically it uses some of the more                                 well-known and popular subscription                                 billing services you plug in how much                                 you're going to charge a month or how                                 much you're going to charge at what                                 interval the number of subscribers that                                 you have and it gives you this chart                                 that says this is what the cost is going                                 to be I will point out on this site that                                 stripe is a little bit misleading                                 because while it's on this site and it's                                 become really kind of like a popular hot                                 topic strike there's pretty cool right                                 now it doesn't provide you nearly the                                 level of services that something like                                 week early or charge if I does stripe is                                 much more equivalent to using something                                 like PayPal in terms of the services                                 that you'll get for doing                                 subscription-based billing so it can be                                 a little bit misleading I kept adjusting                                 the numbers and then putting them in an                                 Excel spreadsheet and then doing the                                 math off of it and basically figured out                                 that if you're in the hundred to                                     subscribers range you're looking at                                 paying a service like this somewhere                                 between fifty and twenty percent of your                                 profits in order to just use that                                 service keep in mind that this service                                 also includes things like the Gateway so                                 authorize.net or whatever gate that five                                 percent that we're already talking about                                 so really you're looking at maybe like                                 ten to fifteen percent just to use                                 something like Rick early but you're                                 still gonna have to pay the Gateway as                                 well so then the question becomes is it                                 worth it right I can't answer that                                 question for you if fifteen to twenty                                 percent of your profit at three hundred                                 subscribers is worth it I will note that                                 the more subscribers you get the lower                                 this percentage is going to go and I                                 look at this and I kind of say oh it's                                 hard because then as a start-up you                                 might think                                                            like holy cow I finally got the                                     subscribers but you're still paying                                 twenty percent of your total income or                                 you may be looking at a business model                                 that you'll only ever get                                     subscribers so yeah kind of have to                                 weigh that                                 so that's the cost of building it                                 yourself building yourself again                                 referring to I'm using something like                                 authorize net as a credit card vault but                                 I'm doing everything else all the                                 business logic and stuff myself I can't                                 make sure exact numbers but I kind of                                 did the rough calculations on the amount                                 of time that we've spent working on this                                 undo belies me and I figured out that                                 over the last year and a half we've                                 spent roughly about will say eight                                 thousand hours working on the site in                                 total across everything that we do on                                 the site and then if you estimate that                                 like let's say ten percent of that time                                 was working at developing features                                 related to recurring billing whether                                 that's adding in reporting extending the                                 uber car door you see recurring module                                 to do things that we needed to that it                                 didn't or just dealing with customer                                 relations and Dunning management and                                 that kind of stuff and at that it ended                                 up to be I have to check my numbers here                                 so over the course of a year and a half                                 that worked out to be about                                           spent doing that and if you're charging                                 a developer let's say thirty dollars an                                 hour you know you're talking thirty                                 thousand dollars just to build and                                 maintain that yourself which is a                                 non-trivial amount of money                                 how much time is it going to take again                                 I don't really have a good answer for                                 this one I can tell you that no matter                                 what system you use you're going to end                                 up writing some custom code yourself                                 whether you're using week early whether                                 you're using commerce or ubercart or any                                 of the solutions existing in Drupal                                 there isn't anything that is so fully                                 baked that you can just download it and                                 install it and turn on the module and it                                 will work and solve all of your problems                                 recurring billing is a tough place thing                                 to figure out no matter what you do                                 you're going to end up spending time                                 reading some of the code yourself how                                 much of that code you write is going to                                 vary depending on whether you're using a                                 service or you're you're responsible for                                 all the billing logic and so forth it                                 does it provide the flexibility I need                                 can i implement plans that are necessary                                 for my business when we launched the                                 Drupal ëismí website we started building                                 it and we're about four months into                                 building it and we said there are two                                 things that we absolutely have to have                                 figured out in order to launch this site                                 one we need to be able to serve videos                                 if we're all about streaming videos and                                 people being able to watch them too we                                 need to be able to take people's money                                 when they watch our videos everything                                 else was kind of a moot point but those                                 two things had to work flawlessly we                                 launched the site on paypal initially                                 using their recurring billing system a                                 couple months into it we switched to a                                 different provider we also ended up                                 switching video streaming stuff as well                                 we totally got it all wrong we launched                                 the site we said yes finally in the way                                 now let's switch everything okay let's                                 try this again we ended up switching off                                 of PayPal because two months in after we                                 launched the site we decided that we                                 wanted to lower a subscription from                                    dollars a month to                                                       with paypal we had no way that we could                                 lower the subscription for all of price                                 for all of our existing customers                                 because the way it worked with paypal                                 was you somebody signed up for an                                 account we sent them a credit card                                 number a dollar value and an interval                                 and so an interval being say a month or                                                                                                         of that i will charge this credit card                                 this dollar value at                                 this interval and I'll let you know if                                 it was successful or not once you've set                                 up that plan on paypal you can't                                 actually ever change it again without                                 customer interaction so that meant that                                 we could offer all of our existing                                 subscribers a ten dollar a month                                 reduction in the cost of their plan but                                 we have to send all of them an email and                                 say you actually need to cancel your                                 existing account and then sign up for a                                 new one at the new rate in order to get                                 that cost which when you get into                                 recurring billing as we'll talk about                                 you get to that stage of telling people                                 that you're going to charge them money                                 and how much you're telling telling them                                 it's kind of interesting water is to                                 navigate part of the whole business                                 model as you sign up for an account I'm                                 going to charge you ten dollars a month                                 and you might forget about it I have a                                 Netflix account that I use like once                                 every two years or so and I see it on my                                 credit card bill every now and then I go                                 oh yeah that's right they're charging me                                 money huh I should cancel that and i                                 usually don't get around to it and then                                 like six months later I'm like oh yeah                                 that's right they're charging me money                                 eventually I reduced it to just the                                 streaming instead of the DVD thing but                                 that's a lot of how this people are                                 thinking about doing these recurring                                 billing systems and so when we had to                                 deal with let's email all of our                                 customers and tell them go cancel your                                 account suddenly that rose a bunch of                                 red flags being like let's not actually                                 email our customers and tell them to                                 cancel their account so paypal ended up                                 not providing us with the flexibility                                 that we needed in order to reduce the                                 cost of a plan and in the way that we                                 wanted to do it so that's the kind of                                 thing that I would think about with                                 flexibility another thing that becomes                                 important to think about to that we deal                                 with a lot is if people have a bad day                                 or if we really like somebody we want to                                 be able to give them a free month to our                                 service you know maybe we just want to                                 be nice and say hey you can have a month                                 free does the service that you're using                                 or whatever system you're using allow                                 you to do that i would say at a bare                                 minimum what                                 we're going to want to be able to do is                                 change the price of a plan especially                                 when you're first launching something                                 you launch it you have this idea of what                                 people are going to want to pay for it                                 two months into it you're going to know                                 what they really want to pay for it and                                 you're going to change your price the                                 other thing that you're going to want to                                 be able to do is comp somebody a month                                 those are like the two bare minimum                                 things that you'll need to be able to do                                 in that cop somebody a month can be                                 really handy for a lot of scenarios so                                 being able to do that without having to                                 tell somebody yeah just cancel your                                 account and then sign up again in a                                 month because they won't rest I talked                                 about this concept of a card store or                                 the CM c IM in authorize.net or the                                 vault in braintree basically someone                                 that is storing credit card data on your                                 behalf in order to keep it secure but so                                 that you can charge it at a regular                                 interval the way that most of these                                 systems work is you authorize.net you                                 send them a credit card number and say                                 go ahead and create me a customer based                                 on this credit card number store the                                 credit card number and then create a                                 token and send the token back to me and                                 I'll store the token on my end so I'm                                 not actually storing any insecure data                                 on my own I've just got the token or at                                 least I'm not storing credit card                                 numbers and then I can use that token                                 and I can say authorize net charge this                                 token X number of dollars so that's like                                 if you're using the UC recurring module                                 or the commerce recurring module this is                                 essentially what you're doing you're                                 setting up a scenario where somebody                                 else is acting as your data store on in                                 Drupal you're storing a token and then                                 your Drupal implements all the logic to                                 on cron once a month take that token and                                 charge it X number of dollars                                 authorize.net says cool i've got the                                 token here's the credit card that                                 matches it i'll charge the credit card                                 i'll let you know if it was successful                                 or not most of the time though                                 you know sometimes they forget so you                                 got to store your credit card data                                 somewhere when you're building a                                 subscription-based system your customers                                 are your most valuable thing and in fact                                 it's their credit card numbers that are                                 really your most valuable thing because                                 with that you can charge them every                                 month so you need to be aware of the                                 policies that these gateways have for                                 storage of the of credit card data and                                 whether or not you can get it back from                                 them if you ever need to switch or ever                                 want to switch to another service                                 technically they're all supposed to be                                 able to give you a method to extract                                 your data from your credit card data                                 from their service transfer it to                                 somewhere else there are lots of                                 standards about how that is done so that                                 the credit card data gets extracted and                                 encrypted and then move somewhere else                                 and they decrypt it and import it into                                 their system but if I wanted to move                                 from something like authorize.net to                                 worldpay I want to bring all of that                                 data with me so at a minimum make sure                                 that whatever using is a gateway will                                 allow you to take that data with you                                 when you're ready to go portability                                 standard org it's an initiative to start                                 to standardize mechanisms for                                 transferring credit card data between                                 payment gateways so you can look at that                                 and you can get an idea of some of the                                 gateways to support this already I would                                 also recommend like if you're going to                                 go with something like authorize.net or                                 Braintree get somebody on the phone and                                 ask them before you sign up if I ever                                 want to leave you guys can I take my                                 data with me the other thing that you                                 can do too is if you are in the scenario                                 where you've already got a credit card                                 store with a company and you want to                                 move somewhere else call the company                                 that you want to move to and ask them to                                 contact authorize.net or whoever you're                                 with on your behalf most of them are we                                 pretty good about that because they're                                 like sure we want your business and                                 they're generally in a better position                                 to talk to the text at that place about                                 how that data can be transferred in a                                 secure format why do we want to do                                 something like this because PCI tends to                                 be quite a pain in the butt if you're in                                 the previous session you heard a lot of                                 about this you don't want to store                                 people's credit card numbers on your                                 server period pay somebody else to do it                                 for you it's worth it all of the                                 complications of doing it and how much                                 money you would spend in order to do so                                 definitely outweigh the five percent                                 that it costs you to use authorize.net                                 customer information manager another                                 thing that I evaluate and think about a                                 lot when I'm trying to determine whether                                 or not I want to build the system myself                                 or use an existing service is this                                 process of Dunning management like we                                 said dunning is the process of when                                 somebody when I charge somebody's credit                                 card there are a lot of reasons that                                 that charge could fail the first time i                                 charged it no big deal if it fails I                                 don't send them the product that they                                 bought but if I'm doing it on a                                 recurring basis I want to have a process                                 in place to kind of deal with these                                 failures and I also wanted to be smooth                                 enough and simple enough to deal with                                 that my subscribers will most likely                                 stick around it's that whole scenario of                                 not really wanting to remind people that                                 you're charging them some money but in                                 this case you definitely have to so you                                 want to make sure that it's a smooth                                 process example being somebody we try to                                 charge somebody's credit card on a                                 regular basis if it fails the first time                                 we say up that sucks but will extend                                 your subscription for three days and                                 then we'll try it again and see if it                                 works so we'll try again three days                                 later the bill your card and if it fails                                 the third time we say up that really                                 sucks but we're pretty nice so will                                 actually give you two more days so you                                 get a total of five days and we try to                                 build your card three times if we fail                                 on the third time we cancel your account                                 during that time we'll also do things                                 like if it fails the first time we'll                                 send you an email that says hey we just                                 tried to cart charge your credit card                                 and it failed here's what we can glean                                 about why it failed from the gateway                                 most the gateways are actually pretty                                 cryptic about the messages that they                                 return authorize.net has something like                                                                                                     that it can return and you have to kind                                 of figure out like what does this one                                 mean and am I telling somebody that                                 their credit card changed or that it                                 expired or that they change their date                                 or that I don't actually know what their                                 real name is and lots of different                                 errors but basically we want to email                                 them and say hey this didn't work can                                 you here's why it didn't work can you                                 take action can you update your credit                                 card number can you update your address                                 whatever the case may be you also need                                 to provide them an interface to do so so                                 that's one of those things that starts                                 to get a little bit complicated to do it                                 yourself with in Drupal and why I do                                 like the idea of using a third-party                                 service a service like Rick early has a                                 team of who knows how many people I                                 guarantee it's a lot more than three                                 working on their billing system and the                                 process for doing Dunning management                                 they've got better integration with the                                 gateways they'll be able to respond with                                 more informative emails to your                                 customers they have processes in place                                 for dealing with the Dunning management                                 that they have the ability to provide                                 them with forms whether they can update                                 their data you can do this in Drupal as                                 well we that's how we do it but then it                                 ends up being just more and more and                                 more custom code that you end up having                                 to write yourself in order to handle all                                 of these things and in a way that makes                                 sense for your business the other part                                 that's hard about it is Dunning                                 management changes potentially a little                                 bit depending on your needs so it's hard                                 to write one end all be all solution for                                 doing it                                 and see there's a lot of steps to this                                 this is just sort of the like oh yeah                                 how do i pick whether or not i'm going                                 to use a service or write my own so                                 that's the easy part of subscription                                 billing now we can talk about the stuff                                 that's actually hard when I was doing                                 research for this I came across this                                  quote on Twitter which says easy                                  subscription billing with stripe still                                  annoying reporting to users their                                  invoice history plan changes                                  cancellations you could add a whole                                  bunch of other things in there but                                  basically I took this to say the part of                                  subscription billing it's really easy is                                  charging somebody's credit card once a                                  month and there's a lot of services or                                  that do that Drupal can do that for you                                  really really well there's a lot of                                  other aspects of this to get more                                  complicated there's a lot of things that                                  have to do with reporting in this case                                  not all of the services or Drupal itself                                  are equal this is something that i would                                  spend some time researching if you're                                  going to use a service like week early                                  or charge if I is it going to provide                                  you with the sales data that you need in                                  order to monitor whether or not you're                                  successful same with using commerce or                                  ubercart both of these solutions have                                  basic reporting built into them so they                                  can tell you like how many of this                                  product have you sold how many of you                                  sold this month what's the dollar value                                  that you've earned this month the things                                  that we found to be lacking in that are                                  like user retention reports so I want to                                  be able to view a report that says                                  somebody signed up but how long did they                                  stick around for did you do more people                                  cancel on the first month or the third                                  month and those kind of things so                                  reporting can be interesting with that                                  if you're going to build your own                                  service using Drupal my suggestion would                                  be anything that deals with the business                                  logic side of things when you charge                                  someone what happens log all of that                                  information if somebody changes from one                                  role to another because their                                  subscription cancelled so they lost the                                  role or they just paid again in                                  renewed their account now they gain the                                  role again every time something like                                  that happens log it somewhere and then                                  expose that data to views and you can                                  use views in order to create a lot of                                  these reports for you the trick is                                  making sure that it all gets logged                                  there's a lot of modules for dealing                                  with things like that whole thing of                                  removing or adding a role on kron                                  basically but you want to make sure that                                  whatever solution you use your tracking                                  the data so that you can have over time                                  use it to generate reports other things                                  that are complicated about this that are                                  sort of not just the standard I need to                                  charge your card once a month but you                                  also are going to want to keep in mind                                  we talked a little bit about the                                  allowing for trials thing or that whole                                  first month free this is something that                                  a lot of the services will offer but it                                  varies what they do offer there's a lot                                  of possible things that you're going to                                  want to do when you're charging someone                                  once a month and a lot of possible ways                                  that you may want to deal with say I                                  want to give you a ten dollar discount                                  on the first month now and you view the                                  first month free I want to give you ten                                  dollars off the first three months but                                  then after the first three months I                                  wanted to go to the full price or it                                  might be I want to give you fifteen                                  percent off the first full the first                                  three months and then go to the full                                  price there's a lot of variants on that                                  coming back to the keeping it as simple                                  as possible so deciding on one or two                                  basic plans that you're going to                                  implement and sticking to that highly                                  advised that in on Drupal eyes me we                                  have this whole super advanced system                                  for dealing with coupons mostly provided                                  by the uber cart module and then a bunch                                  of stuff that we've done around that                                  that makes it so we can do all kinds of                                  crazy coupon things like that ten                                  dollars off the first month ten dollars                                  off two months ten dollars off the first                                  month and the third month and then five                                  percent off the six month and it's                                  advanced we can do a bunch of fun stuff                                  we don't use any of it at most we say                                  you can have ten dollars off the first                                  month you can have ten dollars off the                                  cost of a year                                  but all these other complicated things                                  that we thought wow this is really cool                                  that we can do this we end up not using                                  it so we spent a lot of time writing a                                  lot of code and figuring testing things                                  that we just don't really need and then                                  other things we talked about providing                                  you I for updating your account you also                                  want to do you're going to need to be                                  able to deal with people who want to put                                  their account on hold again that may                                  depend on your your needs but I Drupal                                  eyes me we wanted people to be able to                                  put their account on hold for three                                  months so we're not necessarily losing                                  them as a customer we got a lot of you                                  know we don't want them to cancel their                                  account and then have to come back and                                  sign up three months later because                                  they're not going to but if we say you                                  can put your account on hold for three                                  months and we won't charge you until                                  three months later but then we'll start                                  charging you again and and that's                                  actually helped a lot for us in order to                                  keep people around you you paid forty                                  five dollars a month for something if                                  you're going to go on vacation for two                                  months you might cancel that account on                                  Drupal eyes me because you're going to                                  be gone for two months and you can't                                  watch any of our videos and then you're                                  going to come back two months later and                                  you may or may not sign up if we give                                  you the opportunity to put suspend your                                  account you're much much more likely to                                  stick around after that two months just                                  because you don't have to go through the                                  hassle of signing up again                                  we talked a little bit about making sure                                  that you test your recurring billing                                  system this is something that we've                                  spent a lot of time figuring out how to                                  do on our sites and I just kind of                                  wanted to share some of this as well so                                  this is the five Commandments of testing                                  south shell test everything even the                                  parts that seem hard to test recurring                                  billing it gets a little bit tricky to                                  test things because you might sign up                                  for a dummy account on your site and                                  then you have to the part that you're                                  testing is whether or not the role gets                                  removed when my credit card fails to get                                  charged a month from now so you have to                                  sit there and wait for a month to see if                                  it happens now you don't actually have                                  to wait for a month but it makes it                                  tricky because you have to like get into                                  the database and and basically change                                  time stamps and fake things so that when                                  I run cron and all my business logic                                  fires I can check and see if it does                                  what I'm expecting it to make sure                                  you're doing those things that's                                  important sanitize your data when you                                  pull data off of production or off of a                                  dump a QA server on to your laptop to                                  start testing things sanitize it remove                                  anything that could reference that                                  person that account back to their credit                                  card on authorize net so remove that                                  token one of the things that we actually                                  do is when data comes off of production                                  we actually parse through the entire                                  database and change everybody's plan to                                  use a dummy gate way instead of                                  authorize.net so then when it's on my                                  laptop and I'm testing things I don't                                  accidentally charged somebody's account                                  while I'm running cron on my laptop to                                  test out a new feature and I recommend                                  if you can using some kind of dummy                                  gateway to do this there's like it both                                  commerce and ubercart provide this                                  feature but basically you just want                                  something that is very quick and easy                                  you don't even need to ping                                  authorize.net developer account you just                                  need to send off into nowhere and say                                  return my own response but make sure                                  that you're testing using some                                  the account once you've tested with a                                  dummy account you should also test with                                  a developer account on whatever service                                  you're using just to make sure that that                                  end of things is working all of these                                  gateways and services provide the                                  ability to have a developer account and                                  finally you should test with real data                                  but not real credit card data one of the                                  things that we discovered with Drupal                                  eyes me is that as the site's been                                  around for a year and a half our data                                  isn't like perfect lab clean data                                  anymore we've done things over time to                                  people's accounts in order to just kind                                  of tweak it we might have added a couple                                  of extra days to someone's account here                                  there by going into the database and                                  tweaking things there's a lot of forms                                  that you can tweak in Drupal in order to                                  remove a role or add a rule or all these                                  kind of things so we don't have pristine                                  data anymore one of the things that I                                  really like to do is when I'm testing                                  this is a new features I'll actually                                  commandeer existing accounts on our site                                  so I'll just log in and change the user                                  name and email address and password                                  associated with some account that                                  already exists on the site to mine and                                  then I'll use them in order to log into                                  the site and test things out and just                                  it's a nice way to make sure that                                  everything is really working outside of                                  this perfect lab environment we also do                                  a thing where we've got a couple of                                  instead of just having one settings that                                  PHP file we actually have two of them                                  one that includes the other we store all                                  of our keys for AP is that we use in                                  order to do billing in settings at PHP                                  and we also is it so that if not in like                                  the variables table in addition to that                                  we have a set up in a way that in our                                  settings dot PHP file which is stored in                                  version control we have either no keys                                  like we set all of our keys to false or                                  we have the keys for a developer account                                  for that API and then on the server we                                  have a settings overrides file which                                  gets included by the settings dot PHP                                  the overrides file contains the actual                                  key                                  that are used to interact with say                                  authorize.net or paypal but those only                                  exist on the live server they're never                                  checked into version control they never                                  make it onto a developer server that's a                                  nice precaution because if even if I                                  failed to do all of those other                                  sanitization things if I don't have the                                  appropriate keys i'm not going to be                                  able to charge your card so then we do                                  this where we put settings that PHP and                                  those over those developer versions of                                  all the variables into version control                                  and then on the live server we put the                                  actual keys and this has been really                                  important because you add new people to                                  your team over time and they're going to                                  need to grab your code start making use                                  of it you don't want to have to like                                  have a really long document that's like                                  oh yeah and when you're setting up your                                  development environment don't forget to                                  change the live keys to the developer                                  keys because somebody will forget                                  another thing that we do that is sort of                                  but not as well known there's a if you                                  have the devel module installed you can                                  tell Drupal to route all of its mail                                  email that it's sending through the                                  devel module instead of using the                                  built-in like smtp or post big stuff and                                  that it makes what that does is develop                                  will just log those outgoing emails to                                  the watchdog but never actually send                                  anything and this is really nice for                                  when we're testing all of our business                                  logic stuff because we might run cron                                  and even if I'm not testing cards if                                  your account has expired our site                                  attempts to send you an email that says                                  your account was expired and I don't                                  want to accidentally double up when I do                                  that with data that's on my local                                  machine other ways to do that our use a                                  development server that doesn't have                                  postfix installed so it's impossible to                                  send email but sort of blocking that                                  from happening yeah a lot of things                                  outside the scope of Drupal and just                                  sort of billing in general in Drupal                                  these are some of the things that I've                                  looked into and to use to varying                                  degrees of success on Drupal eyes me                                  we're using uber cart in the UC                                  kering module and a handful of other                                  customized bits that we've added in                                  there in order to meet our business                                  needs and that's actually working really                                  well for us I've been very pleased with                                  that in Drupal                                                   implementation of the charge if I API                                  I've not used it myself but one of my                                  co-workers is made good use of that and                                  said good things and he really liked                                  charged if I in Drupal                                                   it's an interesting space there's a lot                                  of people looking into how to do the                                  recurring billing my experience so far                                  is that there isn't any one completed                                  solution yet there's a lot of stuff in                                  progress but nothing that I would trust                                  to use in production yet there's a                                  mostly implemented recur lead module so                                  that would possibly be a good way to go                                  if you're interested in using the recur                                  Lee service there's also commerce module                                  and the commerce recurring and all these                                  other associated modules which basically                                  does the same thing that uber car and                                  you see recurring does though it does it                                  in a bit more cleaner way so there's a                                  bunch of but if you're interested in                                  that aspect of building your own start                                  with commerce recurring and follow the                                  trail of like umpteen billion                                  dependencies to get all of what you need                                  and start getting things set up that way                                  but like we said at the beginning if                                  you're if you're going to be doing                                  recurring billing in any form you're                                  going to end up writing code and part of                                  that is just because there isn't a                                  solution yet in Drupal that has it all                                  perfectly figured out and finally we                                  kind of touched on this a little bit but                                  basically when it comes down to figuring                                  out how indeed doing recurring billing                                  and sort of the thing that has worked                                  the best for us the secret so I think                                  why this has been successful for us                                  isn't the services that we use and it's                                  not the code that we've written but it's                                  the people on our team and the customer                                  relationships that we built with                                  everyone Haley is one of my co-workers                                  and she is amazing at responding to                                  people when something goes                                  we've had incidents where we talked                                  about a lot of things to look out for                                  for testing you learn these kinds of                                  things by trial and error over time when                                  we have errors it's been really nice to                                  be able to contact our subscribers and                                  say we messed up we're sorry we have the                                  ability to comp you a free month and                                  will do so but having that kind of                                  customer relations is going to become                                  really important because we're like we                                  said customers are your most important                                  part here so we'll focus on                                  communication and customer relations use                                  a system that's going to allow you to                                  focus on building your applications and                                  communicating with your customers                                  whatever that ends up being so the recap                                  I recommend trying to use a third-party                                  service if you can something like Rick                                  early charge if I again even doing that                                  you're going to need to write some code                                  in Drupal just to get all of that                                  working right some be prepared to write                                  a lot of code if you're not using a                                  third-party service my experience so far                                  is things like Dunning management is                                  virtually non-existent in the Drupal                                  space I did there it can do things like                                  email your customers if you failed to                                  get to charge the credit card but it's                                  not really smart enough yet to do things                                  like say failed to charge your credit                                  card and these are the reasons why and                                  so forth so you're going to end up doing                                  a lot of work to figure that stuff out                                  try and find a way to simplify your                                  needs as much as you can and then                                  charging someone isn't really the hard                                  part it's pretty easy to set up a                                  crontab that charges somebody's credit                                  card every                                                               around that that gets to be more                                  difficult with this that's what I got if                                  you want to ask questions I'm happy to                                  answer them we do ask that you come up                                  to the microphone so that it gets                                  recorded                                  I think it's on okay so it sounds like                                  there's not really any kind of solution                                  at all for Drupal                                                    custom code I'm not a coder I'm using                                  uber car authorize.net I've got errors                                  on the recurring billing after the first                                  month tried to charge I wondering what I                                  do because I really don't want to spend                                  more time or money than it takes to do                                  this and so I'm looking for any even                                  just something manual for now I don't                                  know if you're looking to continue to so                                  the question was what do i do if i can't                                  actually write the code if you're using                                  a system that's based off of existing                                  Drupal modules and it's totally failing                                  to work it's possible that's a bug in                                  the code so file an issue in the queue                                  try and contact the module maintainer                                  and provide them with details about what                                  you've tried and what is or isn't                                  working and hopefully they can help you                                  get that sorted out if you need like an                                  interim step like the most manual                                  process would probably be something like                                  using paypal or recur lee but not having                                  it integrated yet with drupal at all but                                  you could set up you could log into                                  paypal or rick early and set up that                                  account and let somebody enter their                                  information and charge them but then you                                  would have to be responsible for                                  managing the business logic part of it                                  on the Drupal side where you add the                                  rule to their account or remove it if it                                  doesn't work that would be my                                  recommendation I would start though with                                  contacting or trying to file bugs in the                                  issue queue for that module providing                                  information about what's not working                                  well i'm using the UC recurring module                                  for drupal                                                               not storing credit card data so maybe                                  that's where the errors come from i'm                                  not sure it's like really over my head                                  so I don't know but I mean I've not used                                  used to recurring for a Drupal                                         but if it's anything I imagine it's a                                  lot like the version for Drupal                                         have the same name in fact and so what                                  that module does is use the service like                                  authorize net so you would I assume then                                  you have like an authorize.net account                                  or something like right you also have to                                  have the customer information manager                                  or ARB stuff set up an authorize.net it                                  works within six with those so it may                                  just be a sightings problem too but                                  again talking to the people that are                                  more familiar with the code and                                  maintaining the module would be probably                                  your best bet there that's like starting                                  point Thanks yeah um I actually had a                                  question you mentioned part of when you                                  cleanse the database information like                                  removing customer information that you                                  would change the payment gateway you use                                  my experience is that the recurring                                  module in Drupal                                                      payment gateway for the entire site and                                  that's like a configuration um so I                                  don't actually but I was wondering if it                                  was hard for you when you wanted to                                  switch from paypal to authorize.net like                                  do you have now customers who are on                                  both store like one system in via the                                  difference there one of them regarding                                  sanitizing the data and switching to a                                  test gateway and then the other one                                  being how do we deal with the fact that                                  we switched from paypal to authorize net                                  dealing with the test gateway thing is                                  it's actually not that complicated                                  ubercart allows you to have multiple                                  payment gateways enabled at the same                                  time you just set one is the default and                                  whichever one is the default is the one                                  that actually gets you but you can have                                  more than one turned on at any time but                                  what we do is we actually have a custom                                  drush script that pulls data from our                                  live site and when it does that I don't                                  remember the table name off the top my                                  head but there's a table that stores a                                  transaction and the Gateway that was                                  used for that transaction and we just                                  update that column and set all every                                  value in that column to be in uber card                                  its test underscore gateway is the test                                  gateway and so that's how that works and                                  then in our that whole settings override                                  process since those are just variables                                  in the variables table that says what                                  gateways being used we set that in our                                  settings dot PHP okay with the paypal                                  and authorize.net thing our service now                                  actually has some subscribers on both                                  we're over time getting away from paypal                                  as those p                                  we'll cancel their accounts but we still                                  have a handful of them that are on                                  paypal and it works because you can have                                  multiple gateways enabled we when                                  somebody signs up for a new account they                                  all go to authorize.net we don't allow                                  signing up for a new account with paypal                                  but we have maintained those old ones                                  because that was the easiest solution                                  for us and also when you store                                  information you talk to Mike making                                  reports with views but you have to store                                  some information do you store that                                  inside the order and then pull out from                                  views because I think it's a little                                  harder sometimes like yeah I usually                                  order it like logging of all that                                  information that's going on in like                                  transactional stuff I tend to write a                                  separate module that listens for hooks                                  that are fired by either commerce or                                  ubercart when things happen and I record                                  that thing happening and generally I do                                  it in my own table and just reference it                                  back to the transaction but i'd like to                                  try to keep it as separate as possible                                  and then just expose that to views all                                  right thanks yeah you bet yeah have you                                  found any services that kind of work                                  really well in a mix a match type                                  situation where you kind of want a                                  payment gateway sometimes but a lot of                                  the times you're going to end up doing                                  recurring billing and is there any that                                  works kind of better for a both case                                  scenario so most of your transactions                                  are single one offs but then                                  occasionally you do recurring billing or                                  vice versa correct but if you're looking                                  talking about using a serb like the                                  full-on service like charged a firework                                  early a lot of them do offer the ability                                  to do single one off transactions                                  through their service as well so you can                                  use it primarily for recurring but then                                  say oh i need to charge somebody for the                                  t-shirt that they bought two most of                                  those services allow for that in my                                  research and doing so if you were doing                                  it yourself then it's just a matter of                                  like making sure that your gateway that                                  you're using supports both the one-off                                  transactions in some kind of card store                                  so I'm using a system pretty similar to                                  Jubal is not me with the UC recurring on                                  Drupal                                                                issue where we had to raise prices like                                  last week and I saw on an issue queue                                  that the price was kind of separated                                  from the order huh and after I raised                                  prices the first payment would go                                  through as the raised price and then the                                  recurring charge would go through as the                                  original original price that I had set                                  and I was wondering if you knew a table                                  or where that was I don't know that                                  cable up to top my head but I can tell                                  you what it's doing so the problem is                                  you tried to change the price and then                                  it worked the first time but not every                                  time after right the way that the system                                  works is it creates like an initial                                  transaction in that first transaction it                                  charges you fifty five dollars a month                                  and then it stores that transaction and                                  every time it recurs it's actually                                  creating a new transaction based off the                                  first one so it's not reusing the same                                  order it's creating a whole new order at                                  each time using the data from the first                                  order so if the first order that was                                  made that for the users account was $                                    it'll always use that so you need to                                  actually find the original orders for                                  each one and change the price on that                                  okay I'm different day so these are                                  these are new orders actually a new                                  orders yeah so the only order it came                                  through at the higher price and then the                                  recurring price was set at the original                                  I don't have a off the top of my head                                  solution grab me afterwards it's pretty                                  decent bring a storm with you thanks                                  yeah you better awesome that's that's it                                  that's                                                               minute to fill out the survey for the                                  session that would be awesome otherwise                                  thanks for coming                                  you
YouTube URL: https://www.youtube.com/watch?v=D612XwKyin0


