Title: DrupalCon Denver 2012: WHAT YOU SEE IS (NOT ALWAYS) WHAT YOU GET (BUT IT CAN BE)
Publication date: 2013-03-28
Playlist: DrupalCon Denver - March 2012
Description: 
	Configuring WYSIWYG editors and image handling is a laborious process, riddled with caveats and best practices. The number of contributed modules extending the WYSIWYG experience is vast, and their configuration can be a quagmire.
WHAT WE'LL COVER

We'll go over how to consider input format creation.
We'll look at how (and why) to configure better_formats and wysiwyg_filter.
We'll talk about inline image options and why you might choose one method over another (IMCE vs insert).
We'll cover some helper modules and configurations for image handling (filefield_paths, filefield_sources, pathauto , transliteration, insert, image_resize_filter, imce).
We'll touch briefly on building Features of your configurations, and also pushing configuration into profiles
We'll look at both D6 and D7, but mostly 7.

The presentation will be accompanied by an installation profile and Features to get you from 0-60 in a speedy manner. The assumption, however, is that you're already part of the way with your configuration. The methodology we'll follow is explained step by step in this google doc so you can pick up the parts you need.

Questions answered by this session: 
How can I get my administration theme look identical when editing content as my front-end theme on save?
How can I filter out the junk pasted in from Word?
How can I allow a set of users (i.e. marketing dept) to browse and insert image assets into a textarea?
How can I find a happy compromise between security, maintainability, and ease of use?
How can I build Features of my configurations, or push configurations into Profiles?
Captions: 
	                              I guess maybe I'll start ah hey thank                               you everyone for coming I'm very happy                               to be here in Denver I've had it a great                               time here I don't know about you I'm                               kind of wondering like just to take the                               pulse of the room how many people are                               currently actively and primarily                               concerned with d six sites that the                               running and wysiwyg seven eight okay so                                a little bit about me my name is Andrew                                malice and I'm a consultant i freelance                                I'm a bit of a paratrooper I jump in                                various situations try and put out fires                                save the day hopefully maybe save the                                world a little bit I am currently                                actively engaged with Occupy Wall Street                                and a large project that we're running                                here you may have heard about called the                                Federated General Assembly and I also                                support the tech out of New York City I                                also do nonprofit work primarily for                                small organizations and I am very                                concerned with usability and providing                                them with an experience that allows them                                to feel comfortable editing content on                                their website which is why I've spent so                                long trying to figure out this whole                                wysiwyg thing so I'm going to kind of                                motor through some of these slides and                                then jump into a demo site show you some                                configurations because I think that's                                probably what is most useful and leave                                plenty of time for questions                                so I'm kind of thinking you know in in                                this whole spectrum that you know we've                                all got some sites and we already have                                WYSIWYG and something's not working like                                we kind of want to make it better so I'm                                going to outline some modules that you                                can use and also some key concepts as                                you're going through the config to try                                and think about you know how you want to                                approach different problems and also                                different use cases cuz every sites a                                little different it's not like you can                                install something turned on and it's                                going to work in every situation so                                there is a google doc that i'm running                                constantly updating because it's it's                                kind of some of these things are moving                                targets if you follow through the steps                                there's like a table of contents you can                                jump right to your pain points and try                                and address you know particular piece                                via image handling text etc and and i'm                                going to be going through some of those                                some of those pieces as well but you                                know you don't need to take furious                                notes because it's all there and also                                there's a distro that you can download                                to see how all this is going to be                                working i'll talk a little bit more                                about Matt p.m. alright so what what is                                what is witty WYSIWYG basically you know                                you have something in mind and you put                                it in there this is what you want you                                press save and that's what you get                                so what do we do how do we solve this                                problem like most things in triple lots                                of modules don't worry it's not as bad                                as you think if you just kind of go                                through things chances are you probably                                have a half of these modules already                                installed on your site and depending on                                your use case you know you might not                                need to go through all of this so I have                                a couple different list of sections                                again these slides will be available for                                download and all these hot link to the                                module pages for you wysiwyg obviously                                that's what we're all here talking about                                but in case you may be on the fence                                around using a dedicated module like I                                don't know the ck editor or module I                                would highly recommend that you use                                wysiwyg and the WYSIWYG API mainly                                because you won't be able to do some of                                the tricks that i'm going to show you                                later and also because it's you know                                well it's just so much better I mean you                                can use multiple WYSIWYG for different                                text areas it's awesome wysiwyg filter                                allows you to sanitize the the input                                that people put in so if someone                                accidentally like paste some code in                                there that you don't like gone with a                                lot more control than you can in the                                standard fields better formats most of                                this is rolled into core now in Drupal                                   but if you're still on Drupal                                            recommend that you install this module                                 because it allows you to configure you                                 know / content type what input formats                                 input filters you're going to be using                                 so so that you know you can maybe on a                                 page or on a blog you know you want to                                 add some additional staff you know you                                 have a particular content type it allows                                 you a lot of control and control per                                 user as well which is fantastic and                                 something we're going to get into a                                 little bit more so file field sources                                 insert image resize filter these are all                                 amazing modules and                                 Nate quick sketches has done a great a                                 great job you know putting putting these                                 together and they work fabulously and                                 we'll solve a lot of your problems                                 especially if you're dealing with inline                                 images which will we'll talk a bit about                                 file fueled sources insert you know I'm                                 going to demo these so I will make a lot                                 more sense if I just kind of show you                                 how they work if you don't already know                                 and I MCE I actually kind of do advocate                                 for a lot of people think it's you know                                 kind of it can be dangerous don't get me                                 wrong but i'll show you how to put some                                 guard rails in place so that people                                 aren't you know chopping things up on                                 your server if you're in six image cache                                 and i tweaked uploader are pretty nifty                                 image caches certainly necessary for                                 everything now pads are a really big                                 issue in my view like I like a nice                                 clean file system I'd like to know where                                 things are going I like to ensure that                                 you know I can permission things                                 appropriately and also I want to make                                 sure that when people are uploading                                 images if they have strange characters                                 in them that I can strip them out and                                 you know they're not going to look fine                                 on the node edit form and then get                                 broken links later on so for that you                                 know use a combination of these modules                                 and pathologic which is also maybe a                                 lesser-known module it allows you to                                 dynamically rewrite image URLs that are                                 inside the body field so like if you are                                 on your staging site and you upload an                                 image then you go and push a production                                 suddenly you know your image links break                                 because maybe I don't know where it was                                 on local and you know you can't connect                                 so what it does it will rewrite that                                 it's kind of nifty great for migration                                 is great for moving between                                 between places and also for creating                                 like URLs that are relative instead of                                 absolute which tend to get quite a bit                                 alright so the first thing you want to                                 do when you're creating like say you                                 were starting from scratch or maybe you                                 already have a configuration I advocate                                 you know having two different text                                 formats or input formats up here in                                 Drupal                                                                 call those WYSIWYG which you know is I                                 find confusing for a lot of editors                                 especially in nonprofits there they just                                 want to use like something that's a text                                 editor right and you say WYSIWYG and                                 then they have to learn all these terms                                 and I just try to make it really                                 friendly and approachable so I make two                                 input formats one called text editor and                                 then the other is an advanced text                                 editor which includes some additional                                 buttons and things because maybe you                                 want certain people with certain                                 privileges to be able to insert tables                                 on your website maybe and other people                                 not so WYSIWYG filter this is a quick                                 preview of the syntax which can look a                                 little scary but it's definitely worth                                 studying this allows you to filter out                                 you know certain types of code and i'll                                 show you how to configure that and i've                                 got a couple snippets in the google doc                                 you can just cut and paste right in and                                 it'll get you from like zero to                                       about three seconds so this is different                                 than what comes out of the box and what                                 this is basically saying is at the                                 beginning i'm going to let some styles                                 in here some classes and i'm going to                                 define what those are later but like i                                 can for example the little minus div I'm                                 gonna let it div get in there but only                                 if it's used to you know align things                                 I'm not going to strain your strip out                                 any dibs that are just there for the                                 sake of it yeah so not not too much time                                 to spend on that we could probably spend                                 about like                                                          about this stuff but I think I'd rather                                 you know give you guys a general                                 overview                                 and we can get into details a little bit                                 later so this this is kind of the magic                                 this is this is the piece that I find                                 like is the aha moment for a lot of                                 people like when they're working with                                 their WYSIWYG config and it's this                                 little little bit in the advanced rule                                 section of your configurations where you                                 define your CSS path you have a couple                                 options you can use the default CSS that                                 comes with your WYSIWYG editor or you                                 can set your theme CSS and how many                                 people have done that and then they go                                 to edit their node and like the                                 background it's got like background                                 images in it or it's like an all                                 terrible color yeah then you switch it                                 back to the theme and then you like oh                                 well you know my stuffs okay but my                                 whole site is using like sans-serif                                 fonts and now I'm in the WYSIWYG editor                                 it's all serif and I can't insert images                                 properly or so what we do is we like set                                 some classes as well and the syntax                                 allows you to have a correspondence                                 between like some actual legible names                                 that appear in a drop down in the                                 WYSIWYG so people can select hey you                                 know I want to make this a section or an                                 image and then what happens is those                                 actually get wrapped in block level                                 formats with the class applied to them                                 so for example you want to float an                                 image instead of inserting an image and                                 then popping it up and then setting it                                 here and then putting padding and you                                 just put your image you put your image                                 and inside the WYSIWYG area and then you                                 select a style and then it'll wrap it in                                 a div with a class of you know image                                 left which you can control in your CSS                                 and then you can control as well all of                                 your margins so that you know your                                 editors are not going in and putting                                 inconsistent margin and padding around                                 all of their images and I'm a big                                 advocate for you know throw it taking is                                 as much control as much granular control                                 in the editors as possible                                 because in a way I think it it gives it                                 gives more more freedom to like worry                                 about the content and try and like you                                 know color text and everything like that                                 don't don't don't do that don't know                                 color text please if you if your if your                                 people really want to have color text                                 then you know make it a class because                                 you know they're going to make the                                 Greens all different colors and then you                                 have to you know write some like sequel                                 statement to go and find all this stuff                                 across like                                                             the green needs to be lighter whatever                                 all right um so then this the other                                 piece the other piece of the puzzle is                                 is taming taming the CSS in the editor                                 right like so the first though yeah so                                 this piece here there's this is really                                 awkward you have to put like absolute                                 paths inside of this inside of this CSS                                 path if you're using an admin's down                                 here that you can use to find like the                                 CSS but you you know if you're using an                                 admin team the WYSIWYG API does not like                                 allow you to really detect in the                                 admitting we're all that's going so in                                 this case you know I made a sub-theme of                                 Bartok so I'm going back and getting the                                 CSS out of Bartok then getting my CSS                                 out of my sub theme as well so it's kind                                 of a bit of a long string and one of                                 those key pieces is having a dedicated                                 WYSIWYG dot CSS I don't show you the                                 contents of as well to try and like                                 reset some of the styles that you may                                 have on your theme because like maybe                                 you eliminate your margin right on the                                 body but and then you know your margins                                 gone and then your texts like right next                                 to the edge of the editor                                 so the other thing that I do is have a                                 little module that load some JavaScript                                 which then applies dynamically applies                                 the some classes on to the the WYSIWYG                                 so we see we get loads in an iframe                                 right and so you've got like a bot two                                 bodies on your page and then you try and                                 put some stuff to correct it in your                                 style sheets and it never seems to work                                 properly in the cascading is like                                 recursive so I'll show you that too I                                 like ck editor for a number of reasons                                 one its you know it's not too scary                                 looking and it's highly accessible if                                 you're if you work in in the academic                                 environment which which I tend to do on                                 occasion that that's usually a concern                                 also there's this great little feature                                 where you can you know check a box and                                 in the config and it's a little box it                                 says force clean-up on standard paste                                 which basically strips out a bunch of                                 the Microsoft cruft and that's really                                 awesome and then the custom styles that                                 I showed you earlier and last of course                                 you should do it because everyone else                                 is doing it too so this is the the CSS                                 so I always have this little WYSIWYG dot                                 CSS inside of my my theme now I'm trying                                 to push this into the the module little                                 module itself eventually but you just                                 reset the font size and these different                                 body classes are for d                                                module works for for both and resetting                                 the font size to                                                     like I said you have the body in the                                 body and so if you're then trying to                                 apply some styles you'll find that your                                 sizing is inconsistent I reset the                                 background to white and add a little bit                                 margin to make it more comfortable                                 during the editing experience and then                                 there's a little javascript file                                 and all that does is it adds a class on                                 that body which is node I find that                                 there are a lot of instances where                                 stiles depend on or cascade down from                                 node and so you can actually get that                                 because it appears on the body of your                                 your own your Drupal site if you inspect                                 the HTML you'll see that on the body                                 there's a class of node when you're on a                                 node and that is not in the WYSIWYG                                 editor so you can't actually target and                                 you hear like node level a trap age tags                                 or specific styles like that all right                                 so so that's that's kind of the overview                                 of how the text configuration works and                                 now no I think you know we'll talk a                                 little bit about about image handling                                 which is which is more complex all right                                 so media has changed quite a bit and but                                 you know like it's not it's I don't know                                 in my in my view media it it's not                                 completely there yet I think it's an                                 extremely promising solution but I have                                 one particular use case that media does                                 not solve for me for those of you that                                 how many people are using media module                                 or currently in their implementations                                 okay so even on on d                                                   it doesn't allow me to decide where                                 those images are going and then I can't                                 you know that my file system is all is                                 all a giant mess and the only way to get                                 to those images is then through the you                                 know the media browser which then you                                 know gives me everything and I try                                 making my own views for that and I kind                                 of hit a bit of wall so I defaulted back                                 to my d                                                             about media I kind of you know imagine                                 two different categories of files or                                 images you know the first is like                                 attachments typically you know you have                                 posts and people want to attach like you                                 know                                 PDF files or whatever and and then                                 there's there's images which are break                                 down into two types like there's fields                                 which generally exist you know like                                 maybe you have a blog in a main image                                 and then there's the idea of like inline                                 images stuff that you want to paste                                 anywhere for any reason so this is this                                 is kind of what what I like to see you                                 know in a in a file strategy you know                                 your default files directory is going to                                 contain all kinds of temporary cache                                 files so you definitely want to make                                 sure that your you're never putting your                                 images directly in the root of your your                                 image directory you so I have a folder                                 called images and then I usually break                                 it down for content type or you know                                 sometimes parole it depends and                                 transliteration and file field pads help                                 with that so the the file field pass                                 allows you on a per field basis to                                 decide where you're going to put things                                 and and that's fantastic and then                                 transliteration will allow you to                                 rewrite the names of those images so                                 that you know you can you can translate                                 them you can get rid of it you can push                                 everything to you TIFF utf-                                           yeah like just the standard ascii                                 character set and                                 yeah it's it's fantastic and then I use                                 a imce to go and browse and find those                                 images instead of media module because                                 it allows me granular permissions I can                                 say oh you know I want my like marketing                                 department to go and only edit like be                                 able to access this chunk of images and                                 we use those but I don't want them to                                 have access to anything else and i only                                 use it to browse files and then insert                                 them into the body in combination with                                 you know the the insert module and i'm                                 gonna i'm going to show you that how all                                 this how all this comes together                                 technology so i have a demo site up but                                 I'll be providing some login information                                 and set some like kind of demo site                                 reset stuff so you guys can actually                                 play around with it post con here                                 but for now                                 alright so here's a little site and I                                 have a couple different content types in                                 here I have an article in a page and a                                 little you know list of views of view of                                 some of these articles here and and then                                 there's you know some text so here is a                                 cute little block of text that you can                                 see has a whole bunch of test HTML in it                                 and so you can like see how it renders                                 out and I can't remember where i snag                                 this from i think i got it from maybe                                 andrew Berry who got it from someone                                 else there we go so besides just like                                 that little flash there so you can see                                 in in the editor you know it looks                                 pretty much the same and then right now                                 i'm logged in as an administrator and so                                 i have access to be able to you know                                 switch between text formats if I need to                                 and if I check out the UH the basic test                                 this is using a filter so it looks it                                 looks okay here this is the little                                 caveat here like if you're using the                                 WYSIWYG filter module it applies post so                                 if you're filtering out particular like                                 tags no it's not going to really show                                 you that they're going to get stripped                                 out until you press save for example                                 here you know you've got some pre                                 formatted text and I'm not letting                                 pre-formatted text get that tag get                                 rendered it's getting stripped out so                                 you see it                                 just kind of disappears and I don't want                                 tables to get put in so you know my                                 tables are not formatted it's it's not                                 in there at all so let's take a look at                                 just kind of like the basic basic                                 article here and input i'll do is i'll                                 switch users for you after all right so                                 here's the regular image and this just                                 goes up here's your body and some                                 attachments that's pretty standard and                                 then some inline images so say you know                                 i want to upload an inline image here                                 and then i want to insert it inside of                                 my texts and put it right here you know                                 I com and i've got it i just press                                 insert and i've got a couple styles that                                 i can decide to you know put them in as                                 now i'm just going to go large and you                                 know i like to live large oh no bummer                                 live demos let's go look at an actual                                 saved article                                 so it's already done working                                 alright so here's a couple examples of                                 some images that have been inserted                                 exactly like I just did now except it                                 actually worked and this this is a                                 fantastic little thing about image                                 resize filter so you throw your images                                 in and then you know you can scale them                                 and it'll automatically generate using                                 the image cache API a new new image at                                 the size that you've scaled it at so                                 you're not like you can upload a really                                 big image put it in there scale it down                                 dynamically and then you know you're                                 you're all good to go just make sure                                 when you're inserting it that you don't                                 insert the image too small and and try                                 and make it bigger or else you'll get                                 all the crusties so here's some of these                                 styles you can see like it's actually                                 you know rendering out and floating and                                 the format here is image right which                                 I've set up here I could choose image                                 left image dry floats over the right and                                 here because this is a link you know                                 it's got a little hyper style and you                                 know increasingly i'm finding like for                                 the regular text editor that i don't                                 really even like to put the block level                                 formats anymore i just put these styles                                 and it wraps it in the age tags anyways                                 and then they don't you need to think                                 about like HTML stuff or what is all                                 this and then they need to do two                                 different things make it an H tag and                                 then apply a style it you know it                                 depends how much real estate you have if                                 you have like                                                            it's not so much a good idea but for                                 most use cases I find like that works                                 pretty well cool so yeah um see                                 all right maybe you know what I could                                 show you is how all this configuration                                 works inside of the WYSIWYG because that                                 that's the that's the great piece so                                 everything is under content authoring                                 you know let's take a look at how we                                 configure like ARB let's go for like our                                 basic text editor here so in this case                                 you know I'm gonna let everyone use it                                 and here the filters that I have enabled                                 the WYSIWYG filter image resize filter I                                 you know it's a basic editor for basic                                 for normal people so I'll convert the                                 URL sure when I and correct some faulty                                 HTML now you got to throw the image                                 resize filter down there at the bottom                                 rails won't work that's in documentation                                 but I thought I'd mention it and the                                 WYSIWYG filter you want to run like kind                                 of last because first if you have any                                 kind of I don't know like you throw some                                 media tags in there and they become like                                 actual HTML tags then you want to run                                 the filter after maybe get rid of those                                 if if you don't want them or so here's                                 how the specific filter thing works it's                                 just a text box and you put some stuff                                 in there according to syntax there's                                 some links to the sin tax tips and and                                 then you've got all these little boxes                                 this is kind of complicated like you                                 might find you turn it on and then you                                 can't do anything anymore you have to on                                 top of that decide like what you're                                 gonna let in so you go through and you                                 check these boxes this is the google doc                                 you can take a look at it you know I add                                 a little I I let some borders get in                                 there I figure you know maybe why not                                 like there's some borders and some lists                                 and definitely want lists so you might                                 allow that but allow people to create                                 lists but if you don't create that list                                 button it's gonna it's going to be gone                                 like what you really don't want to end                                 up in a situation you don't want to end                                 up in the situation where you're like                                 kind of giving up on it and then you                                 just let them choose full HTML that's a                                 disaster but that's what most people end                                 up doing right                                 you bear and you're like oh this isn't                                 quite working all is just let everyone                                 use full HTML and then the fun begins so                                 here's the class names that it's when I                                 earlier when I was showing you like that                                 I up here where is it way up here I'm                                 letting some classes in down down here I                                 need to define what they are so                                 basically I strip out any class that                                 isn't like pre-approved and then there's                                 some IDs I mean I guess you could put                                 IDs and if you wanted to and then inline                                 style stuff and some domains as well                                 like if you want to allow allow those to                                 be including your legs and be shown as                                 relative so imagery imagery size filter                                 is you know there's isn't a lot of                                 little lot of options there                                 right                                 I'm so here more rules more buttons more                                 permissions same classes and I'll show                                 you the WYSIWYG profile stuff so here                                 you've got like editors that you assign                                 to your text formats and once you do                                 this you can't really switch so you have                                 to delete it in order to reassign                                 another another format but you know it's                                 okay it doesn't take too long to                                 configure I you know I don't really                                 think you should put any kind of wits                                 you and profile on full HTML I mean                                 maybe if you use one of those things                                 that like you know it'll wrap some some                                 stuff right but don't don't use a                                 WYSIWYG on on that I you know it just                                 gets really confusing so if you are                                 showing full HTML then you know you                                 should see HTML not something else in my                                 view so here we go lots of options this                                 is why it never ends up working because                                 you know maryland's options ok so I                                 disable this enable disable rich-text                                 toggle link thing like I just find with                                 ckeditor you don't you don't really need                                 it right because you come in here and                                 you enable the source and you can see                                 the source so like why would you toggle                                 it on and off it's just an extra button                                 some extra you I then you got to put you                                 choose all the buttons that you want to                                 put up on there you know you're free to                                 do to do whatever you like I have some                                 recommendations and then you clean up                                 everything and then you need to put your                                 CSS to correspond to the classes that                                 you wanted to include and it's really                                 important that you also put the block                                 level format here just before it in this                                 dot notation this was like                                 just for a while wasn't really working                                 and actually in order to get the drop                                 down to work you do have to apply a                                 patch to was he league still I think I                                 don't know if they've rolled it in there                                 but alright so the last thing maybe i'll                                 show the imce stuff because sometimes                                 that's been a mystery for people i                                 create like these configuration profiles                                 well everyone crates configuration                                 profiles are some default ones i get rid                                 of i get rid of the you know I just have                                 to for an administrator and a                                 contributor and I'll show you what like                                 let's say what the contributor can do so                                 I limit you know what they can how much                                 they can upload and then you can set you                                 know where they are allowed to browse to                                 so you you know let them go into the                                 image images and then they can browse                                 and then there's also like contributor                                 uploads maybe if they're uploading stuff                                 I toss that into a particular field so                                 let's see what that looks like here if I                                 wanted to use like maybe not on a page                                 to go to like a post and you'll see how                                 the insert thing he works so here's an                                 article again test insert the article                                 edit                                 right so this is a file field sources it                                 allows you to use multiple sources for                                 your images you can upload one from your                                 file system which is fine you can also                                 use a remote URL if you know that it's                                 somewhere else on the net you can                                 reference an existing one if you know                                 the actual name of the image but most                                 people don't so this file browser this                                 is imce and you click file browser you                                 go browse and then you can see that only                                 the images that I'm allowed to browse in                                 to show up and hear my like article                                 images and you know I can I can see them                                 there choose it and then it reappears                                 and I can then insert it into the body                                 like I did later earlier there we go                                 alright well that won't worked cool um                                 yeah that's kind of it I don't know um                                 do you guys have any like particular                                 sets of questions or problems that                                 you're facing I don't know dramatic and                                 contentious opinions about what I've                                 just outlined for you there is a                                 microphone for the benefit of the world                                 wide web if you'd like to stand up and                                 toss your question in there or I can you                                 know repeat it if you don't want to get                                 up                                 so I noticed you're using the WYSIWYG                                 module with the ckeditor library I don't                                 know if this is different in Drupal                                   but in Drupal                                                          using the ckeditor module itself instead                                 of the WYSIWYG module right have a                                 preference or a reason well there are a                                 couple reasons                                                          it's a bit harder to target particular                                 text areas with the full module so if                                 you order the put you set your default                                 format and then you've got to kind of                                 exclude everything one by one with with                                 that with the library sort of an                                 articulating this so well basically like                                 you can you can set set a baseline and                                 then with better formats and you can                                 target you know particular nodes in                                 particular botton particular areas but                                 the other way around you're like making                                 this long list of all these different                                 text areas you have to exclude the text                                 editor on and you've got your edit                                 forums and then you activate a module                                 and then you got WYSIWYG on it and it's                                 just like the other thing is that you                                 can it's easier to add those to use that                                 that there's some mesum functions that                                 will allow you to extend ckeditor more                                 easily inside of your own modules so you                                 can add custom buttons or you can you                                 know add via JavaScript body class                                 inside inside of there so that's yeah                                 but that's that's those are the two main                                 reasons okay thank you and then also for                                 managing the file uploads and the images                                 have you thought about using like actual                                 nodes for each image or file or whatever                                 i'm in the process of designing my my                                 content editor system right now and that                                 was one option I was thinking about sure                                 I mean you can use you know node                                 references and and everything and and if                                 you use file field pads you're shoving                                 your images in a specific place so you                                 know where to retrieve them later on if                                 you want to insert them into the body                                 or you can use a node reference field in                                 order to be able to you know connect                                 those together on the node edit form and                                 that's that's fine too you know it                                 depends what you want to do if you want                                 to like I find that's a particular use                                 case where you have images and an image                                 gallery and then you want to reuse those                                 inside of the body of your post and                                 you'd want to be upload the same images                                 and so you can then permission things                                 and put them like say you have a gallery                                 and you give it you give it the whole                                 thing a name in / galleries / Christmas                                 and then you know that if you want to                                 use the Christmas images you can go                                 browse in there and then put them inside                                 of like your news article or whatever                                 yes so I've had several situations where                                 I have two different content editors one                                 who's working with a basic formats and                                 one who can do advanced formatting is a                                 bit more experienced yeah and in the                                 case for somebody who with advanced                                 formatting works on a page and sets up                                 something like tables with the day it's                                 formatting and then the basic person                                 goes to edit that page let it later                                 without that it seems like that                                 formatting either gets stripped or they                                 just can't access it at all is there any                                 better way of handling that no so you                                 kind of have two options you can you can                                 either like let both roles access both                                 formats and then you use better formats                                 to be able to like make the default                                 different for each editor and the person                                 of a lesser role gets the basic editor                                 by default and or you make everyone have                                 the basic one by default which I would                                 recommend go into advanced features when                                 you need them and keep it simple as much                                 as possible then you know but you know                                 sometimes if you that can mitigate the                                 possibility right so you start basic                                 then you do something advanced like                                 maybe you do want to lock people out at                                 that point because you don't want the                                 messing with it because it's you know                                 outside of the realm of their abilities                                 it depends on your use case so you know                                 you                                 you can just decide which way to go                                 Thanks yeah I have a two-part question                                 my first one is there's the I tweaks                                 upload that you mentioned or that that's                                 in the documentation that that only                                 works on the Drupal                                           attachments field right right yeah on                                 the file field yeah it's mostly rolled                                 into seven in terms of like what it does                                 open atrium uses it if you're familiar                                 with that so I'm on Drupal                                            you're a new in combination with the                                 insert module where you can insert it                                 yeah is there any any better way of                                 managing it when you have multiple                                 images you have to keep adding like                                                                                                             page right to deal with that yeah yeah                                 absolutely it's called theming and you                                 can like you know get actually if anyone                                 had a chance to go to the open academy                                 talk or if you haven't you know download                                 that they've done some really great                                 things using panels to move some of                                 those pieces inside of a interface so                                 that you know you've got that on the                                 side of the box because I mean that body                                 feels kind of wide anyways right so it's                                 okay if we squash it a bit and we put                                 our things next to it instead what I've                                 done is like basically outline a                                 structure for things and I'm like using                                 bardic here and and default                                           can you can then you know you can you                                 can jazz it up a little bit and then the                                 other thing you could do is I mean if                                 you were industrious you could rewrite                                 and make your own image button and like                                 craft a module to do that and hook into                                 all that stuff probably I don't not even                                 gone that far                                 oh oh one more thing is you can the                                 other thing you can use use field groups                                 and then in seven field groups will                                 allow you to display things as tabs so                                 then you can get like kind of a tabbed                                 interface the same way that you have the                                 view and edit and then I've done that a                                 lot so if you have multiple media and                                 you know you have all bunch of images in                                 a gallery or videos then your your form                                 isn't so long and it's a little bit less                                 imposing plus it might be an edge case                                 at the other opportunity that you have                                 is to reference reference things to take                                 that out of the note itself sorry um so                                 I have a content type with an image                                 field that stores the images in the                                 private file system and I can't get the                                 imce browser to look at that am I                                 missing something obvious or is that a                                 limitation of the imc browser you're                                 missing something but it's not obvious                                 there's a check box somewhere okay and                                 it is a little text box and it says you                                 know allow imce to browse inside the                                 file it's the private file system I                                 think I remember that and it says                                 something about if you do that then it's                                 not applying the same permissions to                                 limit who can see those which is the                                 point of having it in the private file                                 system is that I don't know if I'm                                 misunderstanding that or but if I do                                 that am I really exposing that to                                 everyone without authentication that                                 it's yeah it's like somewhat dangerous I                                 guess so that's fine if you use my                                 styles maybe you know don't use the imc                                 browser if you're concerned about                                 security which probably should be okay                                 thanks you mentioned the image resize                                 filter as a way to sort of create ad hoc                                 image cache presets from the size that a                                 user specifies for the image when they                                 insert it yeah in line is there's sort                                 of a way to do the opposite and allow                                 users only to choose from some                                 predefined image cache presets for those                                 inline images to sort of keep uh and                                 that that comes from image cache yeah so                                 those are those are like image cache or                                 the image styles in Drupal                                   then there you go or you know they can                                 use they can use chrome and then they                                 won't be able to drag and move those                                 resize those images because it's kind of                                 busted in chrome at least it was last                                 time I checked do you have an opinion                                 about using the image picker module as                                 an alternative to imce and insert know                                 if you have something to share about it                                 plea please do if your nephew want out                                 it basically gives you the browsing that                                 imce gives you right there on the node                                 edit screen in a in a paged formats you                                 can tab through and see thumbnails and                                 you're basically just looking at your                                 repository of images you can click on                                 them and insert them just the way insert                                 does okay cool check it out all right                                 thanks thanks for the talk um I I'm I've                                 been through a lot of the very same                                 process and actually landed on using a                                 lot of these very same tools in my own                                 workflow and one thing that I'd really                                 like to be able to do and I'm curious                                 whether you have a good solution is like                                 wrap all of this configuration that                                 we've just talked about into something                                 that's exportable or you know that you                                 can easily use across sites like with                                 features module or something like that I                                 have candy for you yeah so I've created                                 a distribution which wraps basically the                                 demo site up and still working on a bit                                 because it's kind of tough this stuff                                 yeah hmm and in order for the features                                 to work there's like a certain                                 combination of patches that you need to                                 apply to things so what the distro does                                 is there's a make file and it'll build                                 it will build the whole stack for you                                 and now do will allow I hear external                                 libraries so I'm going to look to                                 packaging it up on there so you can just                                 download a tarball which is a lot                                 more straightforward there's a simple                                 installation profile which would create                                 some content types and all this and the                                 so I do have in in there a module which                                 is a WYSIWYG feature and it encapsulates                                 this stuff but for for it to work you                                 have to pair you have to pair permission                                 in with it so I've decoupled bat with                                 two features one which is a WYSIWYG                                 feature and then there's another one                                 that just has the permissions in it so                                 you can like alter that if you have                                 different roles on your site and there's                                 also the sub-theme that includes the CSS                                 and the and then the custom module that                                 has the the javascript stuff so you can                                 just you know you just make that then                                 you know you can go in there and you can                                 build it with site install if you're                                 industrious and if not then you can you                                 know wait to download the tarball that's                                 awesome things a lot all right just a                                 couple comments lykia we were kind of                                 disappointed in the medium module when I                                 came out and that it just put things                                 wherever it wanted and we couldn't as                                 far as have any folder management from                                 the users level right and the ability to                                 move items around it was kind of a                                 letdown you were looking for that we                                 used to keep find her and have found it                                 to meet our needs I do like the idea                                 that the imc he does allow you to do                                 some rolls you know some permissions                                 down to the rolls I don't know if you've                                 ever best around the ck finder assume                                 you have but have you ever seen anywhere                                 that you can assign roles with ck finder                                 I should not really aware that module                                 but you know the like you say the reason                                 I like I imce is particularly for the                                 ability to permission at promotion                                 across multiple roles all right thank                                 you I'll look into that thanks afternoon                                 my users love Microsoft Word a lot and                                 they love to paste directly from                                 Microsoft Word into the wizard we get                                 eter and it always fails me a tiny MCE                                 or ck editor no matter how much                                 stripping I set it to do is do you know                                 of any workarounds solutions for that                                 sort of thing yeah so that that wysiwyg                                 filter is is what what you want to                                 invest some time into because there's                                 there really isn't much that will you                                 know strip out the standard pace                                 checkbox like it does it does a pretty                                 good job but what you can do is educate                                 them a little bit and have them not                                 necessarily leave word I think word from                                 two thousand and seven or eight onwards                                 has a feature when you go into file menu                                 export for web and it actually does a                                  pretty good job of translating like                                  things into h tags and lists into actual                                  HTML and getting rid of a lot of that                                  craft so i would encourage that workflow                                  you know you can always do the thing                                  where you cut and paste into notepad a                                  lot of people do that to make sure to                                  get rid of things                                  and I mean it's just nicer to have like                                  a your database be slimmer because you                                  know it's all it's all extra code and                                  then your revisions table builds up and                                  if you can get your your your input to                                  be cleaner you don't have to deal so                                  much with the output but to be safe you                                  just want to make sure that you're going                                  to be you know challenging that that                                  input with some like some strict some                                  strict rules there thank you                                  yeah these just mentioning the paste                                  from word button in ckeditor but I found                                  that it never really quite did the job I                                  think that correcting the behavior is                                  probably the thing to do but I work for                                  nonprofits as well so I know how                                  difficult that is                                  that's a good way of training them                                  yeah so yeah if people can try and come                                  up come up to the the mic with responses                                  I mean I would repeat what what you said                                  for the benefit of everyone but I                                  couldn't even even hear it can you speak                                  to the balance between training editors                                  versus spending a lot of time setting up                                  a was a book editor yes uh you know hope                                  for the best prepare for the worst I you                                  know you user error is is frequent and                                  it might be a mistake you know it might                                  be you so you do on the back need to                                  definitely make sure that you you lock                                  things down and you prepare against                                  eventualities but training is is                                  important I mean not only does it help                                  you build better relationships with with                                  your clients and and and make them you                                  know feel comfortable and and and cared                                  for but you know it can save them time                                  and it can it can make sure that your                                  your database is nice and slim so do you                                  have a more specific query well I hagas                                  I have one particular editor who is a                                  constant troublemaker constant issues                                  with with mainly with pasting from word                                  and the rest of my editors are great and                                  and so on one hand it's almost it's                                  almost easier to I guess i'm not sure                                  what to do with is one person whether                                  whether whether i have an editor that or                                  someone with a higher permission that                                  resident cleans things up or whether i                                  does that person have a boss yes talk to                                  the boss yeah okay yeah what we've found                                  is a that's been really helpful for us                                  is what we do is we we start them out                                  with the WYSIWYG editor toggled off have                                  them paste it in nothing stays from word                                  then they toggle it on and then they do                                  they're editing if they do with this                                  just said and they can do it                                  consistently they get plain text only or                                  they get the permissions taken away and                                  actually we've had like a hundred                                  percent compliance since then so it                                  really helped us a lot with that to me                                  this trip out the force force clean up                                  on pace never works yeah it's not it's                                  not a hundred percent there but you know                                  it helps and yeah I totally agree using                                  behavior is the easiest well not the                                  easiest but the most effective solution                                  hey I'm Willie K from New York quick                                  question is well I found that the                                  recipes sorry that you talked about and                                  a few folks talked about four images in                                  WYSIWYG media tends to work pretty well                                  with sort of a moderate amount of images                                  but I find when on sites that have lots                                  like thousands and thousands of images                                  it sort of tough as far as an interface                                  goes and have generally sort of ended up                                  rolling something else with views and a                                  couple other solutions but how do you                                  what's your experience been with sort of                                  large volumes of images and would you do                                  a different recipe so when when you say                                  that you have issues with the the large                                  volume is it is it browsing and finding                                  things yeah it's sort of the user                                  experience in terms of navigating sure                                  yeah that's that's where its location                                  step that's where I MCE i think is is is                                  good and and where file field paths                                  really comes in and you can you know                                  segment and you can use tokens to so                                  that you know chances are you have                                  larger groups you have galleries and                                  those galleries have names or noo tidies                                  and then you can have some you know some                                  folders that you can you know chuck some                                  stuff into you can use dates as well so                                  you know top level it's like I don't                                  know it's like your file system right                                  think about how how how would you like                                  it to be to be browsable and then I'm                                  sure you can refactor that into a                                  pattern that will apply                                  your science or approach workable I                                  guess sorry and you found that approach                                  workable yeah I found that approach                                  workable but you know i mean i'm not                                  talking about like necessarily running a                                  whole image base like I don't know like                                  a million images on your site like then                                  then yeah that that that that kind of                                  breaks down but then you have a                                  different kind of site and you're not                                  really talking about like content so                                  much and you you you need to reconsider                                  like how you're dealing with all of your                                  your media and you know as a completely                                  different strategy than like inserting                                  or you know as you might want to have a                                  more programmatic solution at that point                                  maybe thanks a lot all right well you                                  know we're out at issue of time I would                                  invite anyone who's interested to                                  continue this conversation to be in                                  touch with me and if you have any                                  particular interest in you know working                                  on technology for the Occupy Wall Street                                  movement certainly I'd like to to chat                                  with you we're always looking for more                                  people to work for free and you know                                  that's the cost of freedom right thank                                  you so much enjoy the rest of your time                                  here                                  you
YouTube URL: https://www.youtube.com/watch?v=N0YbKjmqJIo


