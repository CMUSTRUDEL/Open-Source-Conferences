Title: DrupalCon Denver 2012: TAXI CAB CONFESSIONS - CASE STUDY ON CONNECTING DRUPAL AS DISPATCH APP
Publication date: 2013-03-28
Playlist: DrupalCon Denver - March 2012
Description: 
	Today's mobile devices have taken over as the most cost-effective and scalable way to replace legacy hardware solutions, as well as paper solutions, that were both clunky and expensive for users. One taxicab company -- Green Cab of Madison -- has adopted Apple iPads as their vehicle meter and communication device in their Toyota Prius green cabs. Their iPads are outfitted with a mobile app built on Drupal that enables them to collect real-time vehicle location data, to alert drivers of new calls, and to complete credit card transactions. Promet Source has built the iPad app for Green Cab Madison to help them take advantage of mobile technology and optimize their business. We will describe the module used in setting this system up, as well as discuss many challenges that arose during this project and how we have solved them. We will also discuss the tool selection for programming the iPads, and the pros and cons of native and hybrid solutions.

Questions answered by this session: 
How Drupal was leveraged for rapid development of the base dispatch application
Why Drupal was the right choice for integrating with native and hybrid mobile apps
Where Drupal can be used for enterprise mobile application development
Best practices for security when connecting Drupal to mobile devices
Methodology for connecting the iPads to the Drupal services module
Captions: 
	                              well good afternoon this is the taxicab                               confession session I'm going to be using                               this mike is there an echo in the back                               if I can hear me okay speak up this a                               little bit better okay great well thank                               you for coming taxicab confessions this                               is a great slot like this Luke                               Wroblewski got the hangover slot this is                               the definitely not hungover anymore slot                                right all right feeling good rested                                great so it's a it's a pretty simple                                case study presentation what we did is                                we worked with a new startup taxi                                company that wanted a dispatch system                                that would work on iPads in their fleet                                and we build it with Drupal so that's                                basically what i want to tell you about                                so some of the things that i hope to                                convey through this case study is how                                Drupal was leveraged to do this                                application to build this application                                why we felt that it was the right choice                                to build this rapid app and hopefully                                I'll leave you with some ideas on how                                you can leverage Drupal in some of the                                ways and we have that we have done to                                build the application and maybe extend                                that and use other tools to build other                                systems they'll do similar things I                                think there are a tremendous number of                                opportunities to replace proprietary                                hardware with software and I think                                Drupal as a as a great tool to do that                                on an enterprise level or not enterprise                                and also to like you and your developers                                leverage the skills they already have to                                build some of these cool things so                                before I start going talking about this                                I guess I want to learn a little bit                                about yourselves who's who here is a                                marketing decision maker project manager                                cool okay developer all right                                Wow themer just ok cool so fair warning                                this is not a very technical                                presentation however there are folks on                                on a team that have built this around so                                if you would like to stop by our booth                                brant win is actually running a buff                                right now he's not here so he would be                                able to answer some questions i have                                just roped in johnny fox is the project                                manager who will be able to help me                                answer some of the more technical                                questions so i'll try to do since mike                                my talk is not very techincal is i'll                                leave sometime towards the end so you                                can go ahead and ask some of those                                questions and if you want to leave right                                now hopefully not do that alright so Who                                am I my name is Andy Kuharsky as you can                                see I don't really take myself too                                seriously take our work seriously I this                                is me not being a firefighter not                                dressing up for Halloween I'm actually                                biking home from it's at night and I'm                                it's cold and since Chicago and I'm                                wearing a bike helmet so if you see that                                on my some of the places online that's                                me normal dress attire in winter i'm the                                founder of promed source where sponsor                                booth for                                                              about the company that's some of the                                folks that are here with us at Denver we                                are based in Chicago we are a                                full-service technology firm we focus                                only on Drupal and mobile application                                development and providing Drupal managed                                services to sell things like                                     security updates and and basically all                                the sexy support stuff that nobody wants                                to do about                                                            us are in Chicago as you'll see through                                this presentation we do mobile                                application development both native and                                hybrid and I'll talk a little about that                                and                                we of course implement responsive design                                game sites all right so taxicab                                confessions about a year and a half ago                                maybe a little bit longer we were                                approached by a group of investors who                                are starting up kicking off a new                                business this is a a concept of a green                                taxi company in in Madison and now                                expanding into other areas of the                                country it was the concept was to                                deliver it was a marketing concept and                                an approach to providing different rides                                the rides would be the service would                                 offer shared ride service to cut down on                                 green gas footprint and also on a cost                                 it would be quick with a fleet of                                 priuses and other hybrid vehicles and                                 they wanted to do some things                                 differently than traditional taxi                                 companies they want to differentiate                                 themselves in the market                                 so they came we've done some work with                                 those folks before they approached us                                 and said well we really want to build a                                 different dispatch system what we were                                 buying a fleet of brand-new Priuses and                                 what we really want to do is not only                                 paint them a nice green color and do                                 different things differently we want to                                 use different technology we want to get                                 away from having these clunky old boxes                                 that sit inside of the cars and we want                                 to have iPads in our Priuses and we                                 wanted our drivers to be able to pull                                 information at any given time and                                 provide that information to the                                 passengers so can you build a dispatch                                 system that's going to provide us with                                                                                                         be a zone-based calculation so whenever                                 somebody requests the ride we have to                                 get the pickup location and the drop-off                                 location because that's how we're going                                 to calculate the ride we also want to                                 track the location of the cars oh yeah                                 it has to be built in a month and a half                                 because that's when the cars are getting                                 rolling off and you know where I'm a                                 dispatch system it's just going to be                                 sitting around losing lots and lots of                                 money so of course we said yes we can do                                 that at that point I was able to                                 overrule some of the project some of the                                 risk averse project managers sometimes                                 it works out for us and it's just a                                 little bit on a dispatch system so for                                 example if I'm going to go back to the                                 airport today I can walk outside a                                 convention center and flag a cab right                                 that's just a normal way that you would                                 do it in New York Chicago San Francisco                                 most of the time outside of those cities                                 what I would have to do is call and                                 provide my information to a dispatcher                                 or an automated system providing                                 information about where I wanted to be                                 picked up from and where I'm going then                                 that information would be stored maybe a                                 fair would be calculated and then at the                                 time that I wanted to be picked up the                                 taxi would be dispatched so generally                                 what happens is either a particular car                                 or                                 of cars in a particular area where I'm                                 getting picked up from gets a message                                 and somebody accepts that message right                                 so five cars near the convention center                                 five taxis and you to convention center                                 right around first one the information                                 goes to all                                                          that accepts it that message gets sent                                 back to the system so it's okay taxi                                 number                                                                picks me up once I get in there it                                 changes another status to get loaded I                                 mean that's actually a status loaded so                                 that's that's how to pet the dispatch                                 system the the essential basic                                 functionality of dispatch system as you                                 can so I think I'll illustrate there's                                 definitely several points of information                                 and information exchange between the                                 mobile device and the base system now                                 this is these are some images i took                                 actually just from different different                                 cities of the devices that currently                                 exists a couple points on this this as                                 you can see the listen it's because it's                                 a hardware solution it's extremely                                 restricted on what it can do it's                                 actually more expensive than putting I                                 cab iPads on a car these things run                                 around two thousand dollars from what                                 I'm told and a little tangent on this                                 there are a lot of different hardware                                 solutions right now that are just like                                 this they're limited they're very                                 expensive they're clunky they have a                                 limited UI interface they have limited                                 upgrade ability so it's as you're                                 looking at these devices and thinking                                 about us I would HIGHLY encourage you to                                 think about many different industries                                 where this model can be replicated                                 okay so we had a couple of different                                 options option one was to go well                                 they'll just refuse the work and the                                 customer would go to provide proprietary                                 hardware solutions which I just showed                                 you option two was to build a custom                                 code application so this was something                                 that we really considered very very much                                 considered so use something like a                                 framework maybe Ruby on Rails or go with                                 PHP codeigniter cakephp model out the                                 database figure out you know the                                 traditional software development model                                 build the app that was definitely                                 something we looked at or option                                         the application using Drupal so we did                                 it with Drupal we used your post                                 dispatch center we obviously use the                                 iPads as the mobile dispatch unit and we                                 used phonegap for application                                 development platform now this is                                 actually an image of what the insider                                 prius looks like what the mounted ipad                                 in it okay so why Drupal why do we                                 decided to do that well one of the                                 reasons was that we really thought we                                 can pull this off we also are the best                                 set of skills that we had in house where                                 drupal so even though it might have made                                 a little just as much sense to use a                                 completely custom the framework we                                 decided to use Drupal as a framework                                 because we have felt comfortable with                                 the fact that we had a set of skills in                                 house that could accomplish that work                                 and drupal was given us a lot out of the                                 box already so we felt that the fact                                 that we can do the development cycle                                 very quickly we had a services module in                                 there with its security built-in we were                                 able to provide immediate prototyping to                                 the customer and as I said this is                                 important and for all the developers                                 that are in here you already have the                                 skills to basically build these                                 applications                                 there was no new skills that we had to                                 go out in choir you can build the mobile                                 app using services Interpol we just did                                 it with same skill set in a house that                                 we had while building other Drupal                                 applications so on a mobile side we have                                 to consider whether we're going to go                                 with native or hybrid and again I'm                                 going to focus a little bit on the set                                 and the fact that we had the skill set                                 already there to implement this this                                 built so native or hybrid when I say                                 native I mean building your iOS app or                                 an Android app with the tools that                                 they're put out either by Apple or by                                 the android community so building it for                                 the specific device hybrid is                                 essentially building it with the skills                                 that with the language that you already                                 familiar with so JavaScript HTML                                         there are frameworks out there that                                 provide you with the ability to build                                 that app call native native functions on                                 a device using javascript libraries or                                 other I think there are other language                                 packs now as well and then package or                                 compile that application to run on many                                 different devices in our case the                                 hardware that was the hardware of choice                                 was the ipad so we went with phonegap                                 now phonegap since then has been                                 acquired by Adobe and I think it has                                 been given back to the community it's                                 part of the Apache project now by                                 phonegap for the development on the on                                 ipad gave us all this all the tools that                                 we really needed to do so some of the                                 disadvantages of using a hybrid approach                                 is that you don't have the ability to                                 call all of the functions on on the                                 hardware that you're running so all the                                 native calls to all the functionality                                 that your iPhone                                 pad Android device can do however we                                 broke it down to be able to get                                 geolocation be able to get direction and                                 be able to get after that's it i think                                 the geolocation was the main one so that                                 was a pretty easy choice and again using                                 phonegap gave us basically the tools the                                 knowledge to build an application right                                 out of the box because we already were                                 doing similar things on the web okay so                                 do the app have to do so it had to save                                 a ride request so when I called in                                 somebody who is somebody is taking a                                 call request that's saving it as a                                 content type into Drupal we also we also                                 look up recurring ride requests allow a                                 repeat customer i can look they can look                                 me up via phone number and just pull                                 that information up we have to be able                                 to schedule a future write request so                                 the application can schedule to have me                                 pick to have the taxi come and pick me                                 up every Tuesday and take me to the                                 airport and come and pick me up at the                                 airport every Thursday night the other                                 cool thing depending on how you look at                                 it Zumba zone-based right calculation                                 i'm going to show you an image but a bit                                 essentially what it is is there are two                                 ways to which in which you can calculate                                 a ride cost one is when you sit down                                 there's a there's a meter that kicks off                                 and as you drive there's a charge per                                 mile and and probably a charge part time                                 that you're in a car another way of                                 doing it is as calculating it from zone                                 ain't zone be some of that is dictated                                 by your municipalities I know that we                                 looked at extending this application to                                 services that are not as as as regulated                                 as a taxi industry so for example limo                                 companies and they when we are able to                                 apply to same zone fare calculations so                                 like if you're going from you know                                 Brooklyn to Manhattan or something                                 or upper west side lower east side or                                 south side of north side of Chicago we                                 were to create zones and for other                                 applications be able to create the cost                                 calculations of course The Dispatch taxi                                 so the signal has to be sent out to the                                 taxi when that ride is ready to be                                 picked up the drivers receive the half                                 occation there's a little alarm they                                 either accept or decline that ride and                                 during the ride may have because there                                 is a joint ride that during the ride the                                 taxi dispatch system would have to be                                 able to add more right requests through                                 that driver and driver would be able to                                 decline or cancel the request and of                                 course we have to display the location                                 of the taxis so here's a here's a basic                                 view looking at pulling up some right                                 information so a dispatcher is able to                                 see so that the rows towards the top our                                 rides that are in progress there are                                 several statuses that and a roast change                                 the change color based on a status so                                 some of them are right as accepted but                                 the passenger hasn't shown up or the                                 ride is in progress or it's waiting                                 outside and then the ones in the blue                                 are waiting to be assigned we also are                                 working on automatic automated a sign                                 system so there's no manual intervention                                 necessary but we can switch to different                                 modes                                 so here's an image of beautiful Madison                                 Wisconsin and fortunately we chose                                 orange to display the taxis that doesn't                                 show up very well here but you can see                                 the little Donuts those are the taxis                                 and you can you can hover over those get                                 more information as to where they're                                 going which direction they're going and                                 the screen refreshes I think every                                                                                                                an example of a zone so we used                                 openlayers and the zones were zone files                                 where ok so there's a here's a zone and                                 it's basically giorgio boundary and we                                 and based on a location we get let long                                 of where the taxi is or where to pick up                                 location is then we figure out where                                 they're going and based on that we have                                 the ability to calculate the cost but                                 there are something like                                             zones so here's the ipad app i think the                                 newer version is a little bit sexier so                                 it's basically be able to accept a ride                                 to client a ride you can see the driver                                 can see which zone the pickup which                                 still in the pickup is in which zone                                 it's going to now the application is the                                 ability to map the route for the driver                                 so just by automatically there's a link                                 there where they can just say ok what's                                 the fastest route for me to get there                                 and there's more functionality we've                                 added since this screen so here's a                                 here's a section of the dispatch room                                 and some additional benefits of using                                 this so moving away from the traditional                                 method and just some benefits of using                                 something like an iPad is that even                                 though the we're only looking at the                                 data plan for devices they're using                                 Skype to be able to communicate with the                                 drivers if something that the system                                 cannot handle or there's a emergency or                                 a problem happens so they have loaded                                 other applications to their drivers                                 so like skype and they communicate                                 directly with the base using that with                                 just using the data we're also providing                                 we also build in credit card processing                                 using little square we looked at using                                 cardio which was I'm gonna sell the key                                 key note speech today to cardio you can                                 basically put in a car dial is an API                                 that any application can use use the                                 camera and if you want to swipe a car to                                 just you can use that to call these to                                 get the card information so you put the                                 card in front of a camera car Taio as a                                 tool set that you can use it will take a                                 picture of that and almost                                 instantaneously give you all the                                 information that's on the card so it's                                 an alternative to swiping it and then                                 additional benefits because we're using                                 Drupal we're able to have vehicle fleet                                 management and Driver management as well                                 so it's just more and more benefits are                                 rolling with that so a little bit on the                                 architecture it's pretty pretty simple                                 right you have drupal running on top we                                 have community contributed module                                 community contributed modules openlayers                                 was a really big part of what we're                                 doing with it with the driver maps and                                 api's are relying on getting that zone                                 information google maps using that using                                 google maps to get a lot of                                 geo-information where we're putting                                 addresses in on a dispatch system and                                 services rely very very heavily on                                 services to talk to the devices there                                 are some drawbacks and I'm going to try                                 to address them a couple more slides so                                 notable modules openlayers like I said                                 services cck views and date module those                                 very important for us                                 so I was very encouraged with the                                 whiskey initiative when it was in the                                 early stages hoping that we're not going                                 to have to bootstrap you the entire                                 Google Arlena Drupal load every time                                 unfortunately the sounds like that's                                 probably not going to happen quite yet                                 that's one of the challenges that we ran                                 to a while services module is fantastic                                 it allows for security so we build in                                 the ability for the drivers to have to                                 login to the iPads and it's using their                                 login to actually control whether they                                 are available for taking rides through                                 the dispatch system and then we use                                 another layer to make sure that that                                 device actually has the ability to                                 connect to our system it still boots the                                 entire bits of boonton does the entire                                 boot however again going back and                                 looking at our decision this was                                 something that we're getting for free                                 essentially with a drupal install and a                                 services installed so that allowed us                                 the prototype and build this app much                                 faster than ever we had to build this                                 thing from scratch from using a                                 framework so essentially we're kind of                                 bending Drupal in a way to use it as a                                 framework so some of the challenges that                                 we had we actually hit the Google API                                 limit pretty much the day after we                                 launched that was on an oversight where                                 we're calling the we're calling the is                                 testing a testing is one of the                                 challenges as well because we needed to                                 figure out how to test with you know                                                                                                           to assimilate the loads but just to see                                 you know if anything else anything funny                                 was happening we weren't able to get                                 those all those devices ready by then so                                 the google maps api limit because we                                 weren't able to test with all those                                 devices we didn't realize that and then                                 i say this is like a six-week                                 development cycle okay so this is a                                 six-week development cycle but we forgot                                 to pull out and make                                 api call in the devices and we are                                 relying on the native geolocation call                                 to the device but instead of weird using                                 the google api call that google api call                                 has a limit does anybody know of this up                                 would a                                                              know all of a sudden everything stopped                                 working all the cars disappeared that                                 was kind of bad but we fixed it right                                 away we did take this into consideration                                 we wanted to limit the wireless traffic                                 that was going back and forth so that we                                 you know when the the iPads were                                 purchased they were purchasing with the                                 what a service plan we didn't want to go                                 over the whatever the the bandwidth                                 purchased was was so we did some testing                                 on that oh i should also mention that                                 with services we're using json that was                                 a those are really at first we looked at                                 looking using xml but it was a very very                                 quickly just came to the conclusion that                                 Jason is much much much easier and it's                                 much easier because it's JavaScript                                 that's predominantly used on phonegap                                 half the native app sorry the hybrid app                                 and also it works really well to Jason                                 works really well services in Drupal and                                 unfortunately because every interaction                                 with the ipad is an authenticated level                                 and they communicate with the with the                                 with the drupal application several                                 times a minute or more than that after                                 the database grew we started seeing some                                 performance issues so that's still                                 that's still a problem like i said we                                 would love to have to do this without                                 boot boots reppin in Drupal every time                                 we make a call but we're going we're                                 getting around that                                 we are rewriting some of the views and a                                 dispatch center and we're doing calling                                 the geo location updates a little bit                                 smarter but that was the consideration                                 another thing to mention is that I think                                 they're more ways to do this now but                                 when we were rolling this out there are                                 three ways that we could roll out the                                 code to the Apple device the first                                 several we did with an iOS SDK so we                                 literally just hooked up the device to                                 the developers laptop and installed it                                 there the App Store is another option                                 and we used an enterprise program where                                 if we provided the App Store the UID of                                 the of the device they were able to                                 basically over-the-air install the                                 application so that's a very helpful                                 model now the App Store the apple app                                 store allows us to create subscription                                 sir to sell this application as a                                 subscription service so you can run it                                 and install it as long as you pay a                                 monthly recurring fee so that's built                                 into the App Store that's kind of cool                                 of your building enterprise applications                                 like this                                 so some next steps we are actually                                 replacing the phonegap hybrid model with                                 the native go to native build app we're                                 building the ability to SMS customers                                 we're working on we're talking about                                 doing automatic driver routing it's done                                 in navigation that's also done we're                                 also talking about creating metered                                 functionality so instead of doing the                                 cost calculation that goes between from                                 zone to zone essentially feel like if                                 you use the who uses like Matt my run                                 type so you take your iPhone you run                                 with it for however long and you stop                                 and you look back and it traces your                                 your route so basically the same                                 principle to create the to create                                 basically to figure out what the                                 distance is that a taxi was traveling                                 and figure out the cost of the ride                                 based on number of miles travel and                                 we're doing a lot of reporting and                                 Driver management that type of stuff                                 with Drupal and finally has this                                 launched him it's any minute now any day                                 any day so we built a under several of                                 these out there already but we've built                                 this particularly for for this company                                 who is expanding into other cities in                                 the US and this also enter it interacts                                 with Drupal it's a native application                                 that essentially lets you so if I'm if                                 these guys had a service in Denver I                                 would be able to pull out my up Matt my                                 phone load the application and say I am                                 in this location and I need a taxi right                                 now it would create a call to the                                 dispatch but it's actually going to                                 first it's going to figure out to let me                                 figure out the exact address or for IM                                 request that ride once that right                                 request happens they get safe to drupal                                 it goes into our applicant into our                                 dispatch application                                 and then the one what I think is a                                 pretty cool thing is that we're allowing                                 the user to track the taxi right because                                 as soon as the driver accepts the ride                                 we can track where they are so i can                                 track what my my what my car is coming                                 so i'm wrapping up i think is actually a                                 little bit early but in conclusion i                                 wanted to hope i have illustrated                                 through this tape case study that we                                 made a decision to use drupal as a                                 framework to connect to many distributed                                 mobile devices and we're able to pull                                 that off in a very very short time frame                                 this is a six-week development cycle                                 were able to use all the skills that we                                 had in house so at that point we didn't                                 have any iPhone iOS developers all we                                 knew was PHP JavaScript Drupal Drupal                                 and just work very hard and obviously we                                 have to thank the community for                                 providing these services to be able to                                 do that right away so we're looking                                 forward to seeing what's going to happen                                 with whiskey order form or initiative                                 formerly known as whiskey so we can do                                 some of these things faster but it's                                 possible out of the box right now with                                 the skill set that everybody has so with                                 that I'll be happy to take some                                 questions                                 can you talk to I kind of have two                                 questions there a little bit related one                                 did you guys happen to look at that an                                 accelerator while you were considering                                 the hybrid app and so if you would my                                 talking about the decision point between                                 phonegap and titanium if there was one                                 and also you said you're going native                                 after having been a hybrid one of the                                 what are the pain points that are or why                                 are you going native at for having done                                 hybrid okay so Johnny will you help now                                 it's on this question job to this down                                 here alright so this was developed like                                 the year and a half ago so titanium was                                 not as mature at the time we wanted to                                 do something very quickly so phonegap                                 really is a web page just written and                                 wrapped inside of a native rapper so you                                 know we had a high degree of confidence                                 that would phonegap we could deliver and                                 meet our deadlines and so that was                                 really the choice of doing that it's                                 kind of the challenge with phonegap and                                 i think it's a bore but you were                                 platform now but at the time phonegap                                 loads your entire application into one                                 page so on the device it's possible to                                 run out of memory when we start loading                                 a lot of JavaScript operations running                                 now we've added mapping and do the into                                 the phonegap app and occasionally the                                 browser will just crash because you are                                 actually using just a browser basically                                 so with adding mapping credit card                                 processing some of other things native                                 is just quicker and also just you know                                 as a web page or your polling so the                                 ability to use Apple push notifications                                 as native just it's a little bit better                                 that way all right                                 I'm guessing a lot of this is at least                                 with the phonegap implementation is                                 pulling as opposed to pushing out to the                                 clients and then also can you talk a                                 little bit about your data architecture                                 sort of how you structured relationships                                 and all that between how you built out                                 nodes may be on this the node                                 architecture I can't speak to as much                                 where some of that is being wary                                 architected you know it was it was done                                 very quickly and if you think about just                                 the size of the project those six weeks                                 that's kind of word go design                                 architecture so performance has been                                 some of the things we've come back and                                 re-engineered so that it pulls slower as                                 I was mentioning we're rewriting it so                                 that we're going to have push                                 notifications to push to to the device                                 probably going to use some know Jas also                                 to use make use of web sockets and                                 produced that load on the server yeah i                                 was wondering i put a mobile developer                                 the last three years that never really                                 used phone tap already those who speak                                 up sorry yeah I've been a mobile                                 developer for the last three years and                                 have never used phone Kapler                                 appcelerator any of those things I was                                 wondering how easy it is to follow the                                 UI guidelines for the different devices                                 when you're using the phone again it's                                 fine there's you know thousands of apps                                 that use phonegap you just have to kind                                 of follow a lot of the the guidelines                                 well if you're using enterprise                                 distribution for one thing you do not                                 have to comply with those guidelines is                                 we actually have where a private                                 distribution where they're able to                                 sideload the device into there so we're                                 able to do whatever we need to for a                                 proprietary application like that the                                 consumer app does have to pass the UI                                 guidelines and it is in native so you                                 know it's like any other app at that                                 point                                 two questions really the first one being                                 what other use cases do you see for an                                 application like this either in you know                                 this type of cab or service industry                                 with vehicles or you know transportation                                 of sorts and the other one being how                                 much of this can be contributed back to                                 the community so we can build other apps                                 like this with this model great question                                 Eric two questions so I dream of and                                 think of use cases all the time for this                                 so and we've been talking to other limo                                 text limo companies that want to use                                 this so obviously we can extend that to                                 the transportation industry it's very                                 specifically around you know taxi limo                                 type of industry there are two there are                                 many many many more use cases you extend                                 his application a little bit further for                                 example servicing application so if I am                                 a snowplow and we have a big big snow in                                 Chicago I can load up all the places                                 that I have to plow as a private flower                                 and and go to and just check them off as                                 I go along I can this application can                                 maybe they even helped me organize which                                 is my what's my efficient most efficient                                 route or as a you know pool cleaner                                 right same thing load up your workflow                                 or if you you know if you're a delivery                                 driver and all of a sudden you have and                                 to you know you hit you you can carry a                                 little bit more inventory on your truck                                 and if you have a new order that comes                                 in you can dispatch to that driver where                                 to go and what to load off using a                                 similar application I mean transit yeah                                 I've been sitting around a pool and a                                 vacation and we're speaking to a                                 landscape business owner said I need                                 this type of application exactly like                                 this so I can sometimes my routes to my                                 folks change now I'll be able to do that                                 second question you know how to                                 contribute this back to the community I                                 mean you know we're basically you know                                 all the stuff that we use is                                 aside from your phone get a phonegap app                                 it's it's pretty much pure Drupal out of                                 the box contributed modules openlayers                                 all that stuff is out there we haven't                                 had a discussion around contributing the                                 phonegap app back but that's a really                                 good that's a really good point so                                 there's no real custom code that could                                 be contributed back as a module or an                                 install profile now I mean it's it's                                 it's one web page the phonegap app is                                 really just one page I mean it's a very                                 simple page of doing that and it's it's                                 just calling services with a JSON call                                 and when it gets those back you know                                 populates those dibs on the screen no                                 you have your buttons very simple stuff                                 oh you know what i'll do is i'll try to                                 react attack this to be a little bit                                 more technical talk and at the next CD                                 mug so we're both in chicago but i'll                                 try to give and it will post this out                                 this is will post this up and we'll try                                 to post them the code up you know it's                                 probably a little ugly because it's been                                 you know took was the development                                 six-week it's been cleaned up vaca okay                                 so yes we have to go ahead I have a                                 question what kind of subscription model                                 are using for this app distribution yeah                                 so this for this particular customer                                 it's it's an enterprise-level distro so                                 it's basically they just have it right                                 they just give us you IDs and they have                                 it we have talked about and I I'm not                                 going to remember the terminology there                                 is a subscription model on an app store                                 that you can have enterprises purchase                                 this now is a business model you know                                 they also need the dispatch center                                 that's going to be configured to speak                                 to a set of devices so you know we're                                 working on that right now because                                 they're they're opening up in a                                 different city so it's going to you know                                 to                                 it to extend it to thousands and                                 thousands of the businesses what you                                 have to do is install the base the                                 dispatch system and then attach the                                 devices to that system so it's a                                 two-point install the base and I'm                                 device install so well one of the things                                 that we talked about is doing having a                                 price for the base install and then                                 having a recurring a pretty low base                                 price install and having a recurring                                 revenue model that would be purchased                                 through the istore iphone app store on                                 every and pay for a recurring monthly                                 basis something like                                                     it going to be like in app purchases or                                 there is another recurring like I am                                 just concerned i get is there a model                                 that exists for recurring billing for                                 apps yet is there model exists for                                 recurring billing of apps yeah there is                                 an app yeah the app store has a                                 recurrent building model for apps on                                 enterprise level it's that it's there                                 you can put your app out there and                                 charge recurring billing for it thanks                                 so I have a couple of questions one is                                 of the                                                                   staff were on this project and then how                                 much were you able to actually develop                                 in parallel and can you kind of describe                                 like some some of the the maybe pieces                                 that ended up being bottlenecks because                                 they took a lot more effort than then                                 you originally anticipated yeah great                                 question so we had actually was a pretty                                 lean staff we had two senior developers                                 a project manager a business analysts                                 and a QA person working on this at one                                 point we had maybe a themer help out but                                 very insignificant so it was a very lean                                 project and we want to do that so that                                 you know we didn't have too many people                                 tripping over each other and when we                                 broke it down we obviously the timeline                                 was more and more important one of the                                 most one of the very important                                 considerations so                                 you know we pretty much had free reign                                 at any resources that needed to be on it                                 and when we broke down to work and we                                 looked at the backlog and what needed to                                 be done and we kind of decided once the                                 piece was architected that it really                                 could be two people so from what I                                 remember some of the some of the                                 problems that we had were updating the                                 location of the of the cars that took us                                 a little while to figure out and it's                                 just because I mean it's easy now we now                                 that we are doing it's easy but when we                                 were first looking at it that was that                                 was slightly difficult I think what                                 ended up happening is we it we had a                                 very good coincidence where the cars                                 were late the cars were delivered a                                 little bit late so we had like one more                                 week to test which we worked out most of                                 the Kings so that was very helpful                                 answer our questions giant do you have a                                 comment on that difficulties that we ran                                 into the performance performance was an                                 issue but not right away no just testing                                 through all the use cases normal you                                 know kind of problems with testing when                                 you have you know one system that talks                                 to each other just as we've been going                                 through ongoing development you know                                 that's we had some issues with testing                                 what's going on inside of the web page                                 but iOS the US SDK actually allows you                                 to use safaris inspector for inspecting                                 what's going on inside of the phonegap                                 app really expedites troubleshooting                                 otherwise you have to put in json or                                 javascript alert boxes to see what's                                 going on inside the phonegap app                                 the guy's a great case study thank you                                 I'm just curious you mentioned that you                                 used openlayers and the google maps api                                 so can you talk about kind of the                                 division what what features of each that                                 you used yeah I mean we used so Johnny                                 turn back me up alright openlayers which                                 is used on the dispatch screen to map                                 the right that where the taxis are and                                 it was used to layer the zones Maps API                                 was to take the address input and get a                                 that long just so code sorry no good                                 yeah so so basically clean use that to                                 clean out the input clean up the input                                 provide you know if it's a guess that                                 google map google of knifes AP up brings                                 back yeah so let's hell those are used                                 so then are you using any caching for                                 the maps on the ipad side of things i'm                                 just curious about like how much data                                 you know imagine these ipads are on all                                 day every day so how much data are they                                 are they actually use it from a data                                 plan yeah they're they're clothed                                 they're about I think sixty seventy                                 percent they're not going over like the                                 basic basic plan whatever that is yeah                                 alright so that sounds of the maps are                                 being cached then there's what master                                 the maps are not called every time they                                 they go the the location is actually                                 sent from for mapping is sent to the                                 dispatch board so it depends on how                                 often they're seeing it on their own                                 from the device location the only time                                 that they'll call for google maps as if                                 if he's needing to be routed to a                                 location he's not familiar with so from                                 from the ipad device it's just                                 absolutely submitting lear all launches                                 you got most of the time that                                 the cars have on the yeah exactly yeah                                 did what I had as a consumer app which                                 might have been a little bit misleading                                 because I was bringing up the map the                                 maps are actually on a dispatch                                 application which is a Drupal app said                                 that the desktop now they're able to                                 link the pickup and a drop of location                                 and pull up just a google map in a web                                 page which yes it does consume bandwidth                                 but these these calls are you know they                                 don't make an the apps that the google                                 the iPads don't make a call to google                                 maps for location they use the native                                 call to get to the current that long and                                 then they do send that back to dispatch                                 but it's a small call all rights my last                                 little question okay that's what I'll                                 sit down um so I guess I was assuming                                 that the apps you guys created actually                                 will help navigate the driver to the                                 pickup but you're using like the                                 standard like Maps a petitioner yeah                                 that's it so do we use any did we build                                 our own navigational no we didn't the                                 what we are working now right now which                                 is kind of cool is to be able or I guess                                 it's already done to be able to                                 automatically assign the driver to the                                 pickup location so that's you know a                                 little bit of intelligence built in                                 based on location of the driver pick up                                 part of the reason for going to a native                                 app is right now we're calling the own                                 device map kit if you're familiar with                                 iOS is we're just calling it as an                                 external application so in the native                                 version will be just embedding that as a                                 as a negative control it's just a little                                 bit more natural that way maybe I didn't                                 cut it about how did you overcome these                                 bootstrapping problem that's a great                                 question                                 we haven't do you have plans just to                                 move everything to different solution                                  like out of the drupal we actually don't                                  you know we're right now figuring out                                  how you know how many cabs can run on                                  this thing believe it or not what we                                  would do is we'd probably eliminate                                  views and right around queries that                                  would be the first thing so that we know                                  we had I mean this thing generates it's                                  actually amazing how many ride requests                                  are generated by this small taxi company                                  it's you know hundreds and hundreds of                                  thousands of rides requests in their                                  spread of titles and rides a weekend                                  over thousand raise a weekend so so                                  sorry so on a performance side yeah the                                  communication with from firmly app from                                  the cars obviously we were figuring out                                  how many we would like to be able to                                  ride you know have                                                  single installation without any problems                                  some of the problems that we the first                                  problems with performance that we have                                  seen is actually from the view because                                  nothing can be cached right there's no                                  caching almost done it's it's even on a                                  database on a database layer it's like                                  every you the caching stays in there for                                  just a couple of seconds because there's                                  there's an update almost all at all time                                  and every user is it as an authenticated                                  user in underpants and so this is the                                  biggest this was the first and the                                  biggest pain for us so so we may be                                  actually rewriting this and not using                                  vuze so we have to give up a little bit                                  of the of the ease of use but you know                                  we're going to gain some performance I                                  mean we looked at the queries in there                                  we modified them but they're kind of Lee                                  well the problem with bootstrapping is                                  your you're loading up the entire Drupal                                  stack in order to process one request as                                  opposed to just going in that one thing                                  that you need to do so you know as each                                  one of these caps is out in the field                                  and it's making a post to Drupal it's it                                  basically loads up the whole staff to do                                  that so I don't know we haven't we                                  haven't addressed that problem yet who                                  basically been able to overcome the                                  performance problems by my sequel tuning                                  by restricting some of how many rows are                                  requested in the view and extending the                                  time between poles yeah I mean that's                                  the classic problem that I think Teresa                                  was talking about his keynote right and                                  and Larry spoke to and it's one of the                                  initiatives for eight and again                                  unfortunately it looks like                                  bootstrapping is not going to be part of                                  initiative formerly known as whiskey as                                  a talk that he gave earlier and that is                                  you know when you're just looking for a                                  JSON object to get out of Drupal you                                  don't want the whole page load right you                                  just I just want to be able to say I'll                                  ten Takei and just give me that object                                  you know I'm Drupal tries to check for                                  things like other blocks on this page                                  other views that what else do I have to                                  execute all the things that are                                  happening so I think you know we like to                                  think of Drupal and those a question                                  earlier and that is you know what other                                  what we're up what are what are the                                  other you case use that use cases that                                  you get that we think of when we try to                                  or looking at this app we think that                                  Drupal could be used as a data warehouse                                  of data and information and be used in                                  extended for many many many many uses I                                  mean there's like me I yeah there's                                  something new i learn about you every                                  day about how you people are using                                  drupal especially in that way and we                                  prop to and we we promote that use to                                  our clients and we're hoping to and I                                  think somebody's going to solve it will                                  probably have to look at solving it                                  ourselves or at least contributing into                                  that direction that is I want to be able                                  to use Drupal to pull it from a                                  I mean all of you guys are going to be                                  able to be doing in a couple of years                                  anyway right i mean who you know and may                                  not be an HTM HTML HTTP response email                                  response that you're looking for it pull                                  data out of rapport pour into Drupal                                  right i mean it's unknown how many how                                  the devices are going to be interacting                                  with the with drupal but even though                                  although it has these limitations and                                  look it's a little bit slow because it                                  loads of the whole thing it is still                                  easier for us my opinion to house data                                  into drupal and to migrate into drupal                                  because you get all these all these                                  things for free and then build an app                                  around that to pull information out                                  whether it's in real time or whether it                                  gets updated and it gets stored local or                                  you know you can use drupal to build                                  your mobile apps and extend it i mean                                  you know we're building apps that have                                  for example instructions for tractor                                  spraying systems and                                               languages well if something changes what                                  we did is we could just reach back into                                  drupal and pull that information out so                                  we check for updates that way I think I                                  answer that question right hey I just                                  wanted to join in to the bootstrap                                  conversation though the poem is actually                                  that services runs a full bootstrap                                  every time so views are especially heavy                                  then but there I actually want to build                                  services four-point-oh at least without                                  a bootstrap so that's probably probably                                  a good point for you guys to join in                                  there in the development of services                                  maybe and then get a better product for                                  yourself and then also get a better                                  product for the community out of there                                  so that's one of the things on the list                                  and then the second thing maybe I came                                  in a little late so you use push                                  notification at all or do you pull                                  everything one of the recent updates is                                  we are moving to push notifications                                  there's a mixture right now because                                  there are some legacy pieces that need                                  rewritten but will eventually be going                                  to all push notifications now because we                                  have some application we use push                                  notification and that solves a lot of                                  the issues then right                                  right yeah yeah thanks for that adds up                                  that's and that's great and the third                                  scene quickly here I don't know if you                                  guys use it or look into it because you                                  go back to native something we just                                  started doing is like Flash Builder so                                  there's a lot of old ActionScript                                  develop out there probably which are                                  like work and have no work at these days                                  anymore because everything is web                                         if you go flash build else or the next                                  generation of flex you can build pretty                                  much in actionscript                                                 which are cross-platform and you can use                                  the services via amf PHP server instead                                  of Jason so you natively talk to flash                                  those applications are then built                                  natively in Android and in objective-c                                  basically so there they are really                                  native Native to full performance was a                                  very interesting approach if you want to                                  look into that we have two projects out                                  there right now and yeah it's very                                  performant it works very well that's                                  cool that's good for and thanks for that                                  services that's that's key like I I want                                  it so I just want to make sure everybody                                  here except there's a lot that                                  developers here so services module is                                  now working on actually bypassing the                                  bootstrap problem so if anybody wants to                                  help contribute will definitely try to                                  look into that that that's a worthy                                  cause for mobile do you use google                                  traffic at all or do you have some way                                  of like kind of collecting from your                                  drivers like don't go down second Avenue                                  because they spilled a bunch of beer                                  well i know i use google traffic a lot                                  but no we but that's personally we have                                  not built that into app that's it that's                                  a really good point i mean you know what                                  it's it's a it's a question of a budget                                  and maybe in further iteration we do                                  that because whenever driver routes that                                  writes their ride we don't take into                                  consideration traffic now we are relying                                  on google to do that so mate because                                  we're just pushing them basically out to                                  google maps so if they you know they                                  might have a little more resources on                                  over there figuring that out yeah                                  all right thank you very much
YouTube URL: https://www.youtube.com/watch?v=1w44YpCyrHg


