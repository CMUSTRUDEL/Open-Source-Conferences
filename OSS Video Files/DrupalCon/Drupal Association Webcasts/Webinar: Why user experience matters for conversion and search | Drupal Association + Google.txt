Title: Webinar: Why user experience matters for conversion and search | Drupal Association + Google
Publication date: 2020-11-18
Playlist: Drupal Association Webcasts
Description: 
	By now, we’ve all heard about the importance of web performance. But does it matter for your site? How can you tell whether your site is fast enough? And how can you get the most impact for the least work? Google and the Drupal Association are teaming up to bring you an expert conversation on performance, how experience can be measured using web vitals, and the most effective ways to speed up your Drupal site. We’ll share ideas for a more performant Drupal and a more performant open web.
Captions: 
	00:00:00,160 --> 00:00:04,319
so today's topic is about user

00:00:03,120 --> 00:00:06,720
experience

00:00:04,319 --> 00:00:08,400
web performance and search and also

00:00:06,720 --> 00:00:11,840
potential future initiatives in

00:00:08,400 --> 00:00:12,240
in drupal so um for a long time i'm sure

00:00:11,840 --> 00:00:14,719
you've

00:00:12,240 --> 00:00:16,400
attended different sessions at triplecon

00:00:14,719 --> 00:00:18,960
talking about web performance

00:00:16,400 --> 00:00:20,400
you've probably worked on areas of

00:00:18,960 --> 00:00:22,080
performance yourself

00:00:20,400 --> 00:00:23,600
and many of these conversations have

00:00:22,080 --> 00:00:25,519
been focused on the back end so we're

00:00:23,600 --> 00:00:27,599
going to be talking about front end

00:00:25,519 --> 00:00:29,439
performance in particular here and

00:00:27,599 --> 00:00:31,519
giving you some concrete steps and also

00:00:29,439 --> 00:00:33,120
some ideas that you can explore

00:00:31,519 --> 00:00:34,960
so let's kick this off with some basic

00:00:33,120 --> 00:00:37,680
introductions so i'm tim lennon

00:00:34,960 --> 00:00:39,200
my username on drupal.org and github and

00:00:37,680 --> 00:00:41,840
elsewhere is hesternet

00:00:39,200 --> 00:00:45,360
i'm the cto at the drupal association so

00:00:41,840 --> 00:00:47,520
i lead the engineering team that helps

00:00:45,360 --> 00:00:49,680
the community build drupal by providing

00:00:47,520 --> 00:00:51,840
all of the tools on drupal.org

00:00:49,680 --> 00:00:53,600
that let us collaborate together so i'm

00:00:51,840 --> 00:00:57,600
thrilled to be here with ben

00:00:53,600 --> 00:00:59,520
and i will let ben introduce himself

00:00:57,600 --> 00:01:01,120
thank you tim i'm ben morse i'm a

00:00:59,520 --> 00:01:02,879
developer advocate at google

00:01:01,120 --> 00:01:04,720
where my job is to help the web be

00:01:02,879 --> 00:01:06,640
faster and more beautiful

00:01:04,720 --> 00:01:08,799
and to make it easier for developers to

00:01:06,640 --> 00:01:11,119
make great sites for everybody

00:01:08,799 --> 00:01:13,040
in the world so it's wonderful to get

00:01:11,119 --> 00:01:15,200
involved with the drupal community

00:01:13,040 --> 00:01:17,040
i've made drupal sites before and it's

00:01:15,200 --> 00:01:20,240
pretty exciting to get to meet you all

00:01:17,040 --> 00:01:22,080
today awesome so

00:01:20,240 --> 00:01:24,000
um i also want to give a shout out and a

00:01:22,080 --> 00:01:26,159
thanks to some faces that some of you

00:01:24,000 --> 00:01:28,960
may recognize from our drupal community

00:01:26,159 --> 00:01:29,759
so um these three folks swim fabian and

00:01:28,960 --> 00:01:31,520
niels are all

00:01:29,759 --> 00:01:33,280
experts in drupal performance

00:01:31,520 --> 00:01:34,159
initiatives and ben and i have been

00:01:33,280 --> 00:01:36,320
collaborating

00:01:34,159 --> 00:01:39,119
with them a little bit about some of the

00:01:36,320 --> 00:01:41,119
content we're talking about today about

00:01:39,119 --> 00:01:43,119
possible performance considerations for

00:01:41,119 --> 00:01:45,119
the web in general and for drupal

00:01:43,119 --> 00:01:46,720
specifically so just want to give them

00:01:45,119 --> 00:01:48,159
their thanks and their kudos for

00:01:46,720 --> 00:01:49,840
contributing to the discussion that

00:01:48,159 --> 00:01:51,200
we're going to have today

00:01:49,840 --> 00:01:54,399
and for all that they've done for

00:01:51,200 --> 00:01:56,640
performance in drupal in the past um

00:01:54,399 --> 00:01:59,119
with that let's talk a little bit about

00:01:56,640 --> 00:02:00,640
why performance matters so let me hand

00:01:59,119 --> 00:02:02,399
it to ben to talk about

00:02:00,640 --> 00:02:03,840
the sort of general use case and then

00:02:02,399 --> 00:02:06,799
i'll talk a little bit about drupal and

00:02:03,840 --> 00:02:08,959
drupal's history as well

00:02:06,799 --> 00:02:10,560
thanks a lot tim and yeah thanks also

00:02:08,959 --> 00:02:10,959
the folks have been working with us that

00:02:10,560 --> 00:02:12,640
uh

00:02:10,959 --> 00:02:14,480
tim just mentioned we've had a great

00:02:12,640 --> 00:02:16,080
time just like brainstorming ideas and

00:02:14,480 --> 00:02:18,239
dreaming up ways to make performance

00:02:16,080 --> 00:02:19,280
easier by default for everybody who uses

00:02:18,239 --> 00:02:20,720
drupal

00:02:19,280 --> 00:02:22,879
which is of course a powerful idea

00:02:20,720 --> 00:02:25,200
because drupal is very popular cms

00:02:22,879 --> 00:02:26,720
as you know because you use it so okay

00:02:25,200 --> 00:02:28,720
onto performance over here

00:02:26,720 --> 00:02:30,400
you can go the next slide over there

00:02:28,720 --> 00:02:31,280
thank you very much you want people who

00:02:30,400 --> 00:02:33,200
use your site

00:02:31,280 --> 00:02:34,879
to have a wonderful experience and

00:02:33,200 --> 00:02:35,360
forgive me this is review in some ways

00:02:34,879 --> 00:02:36,959
but

00:02:35,360 --> 00:02:38,800
it's a good intro to performance and why

00:02:36,959 --> 00:02:40,400
it actually matters you want to go to

00:02:38,800 --> 00:02:42,959
your site and of course it should be

00:02:40,400 --> 00:02:44,640
beautiful easy to find information

00:02:42,959 --> 00:02:46,640
relevant information

00:02:44,640 --> 00:02:47,680
you know well designed it should feel

00:02:46,640 --> 00:02:50,560
good to use

00:02:47,680 --> 00:02:51,760
and part of that is being fast so if a

00:02:50,560 --> 00:02:54,720
site is slow

00:02:51,760 --> 00:02:56,080
people tend to like it less if it's fast

00:02:54,720 --> 00:02:57,440
it just feels better

00:02:56,080 --> 00:02:59,040
it's like if you're looking at something

00:02:57,440 --> 00:03:00,720
on your phone if you're looking at

00:02:59,040 --> 00:03:02,959
messages or loading up

00:03:00,720 --> 00:03:04,480
an app or whatever tick tock or a game

00:03:02,959 --> 00:03:06,000
or something you figure it's going to

00:03:04,480 --> 00:03:07,840
appear almost immediately

00:03:06,000 --> 00:03:09,599
the web is the same way people don't say

00:03:07,840 --> 00:03:11,920
oh it's the website i can wait

00:03:09,599 --> 00:03:13,440
five seconds for this to appear or 10

00:03:11,920 --> 00:03:15,440
seconds for this to appear

00:03:13,440 --> 00:03:17,120
or sometimes 15 seconds for this to

00:03:15,440 --> 00:03:20,319
appear they just get irritated if you

00:03:17,120 --> 00:03:22,000
can go back to the previous slide

00:03:20,319 --> 00:03:23,360
you're giving away my next is my next

00:03:22,000 --> 00:03:25,120
moment

00:03:23,360 --> 00:03:26,640
okay now you know the next part it's

00:03:25,120 --> 00:03:28,560
kind of supposed to surprise you

00:03:26,640 --> 00:03:30,480
so if you're if you're making a website

00:03:28,560 --> 00:03:33,120
for people that only have uh

00:03:30,480 --> 00:03:33,840
4g connections and on the latest uh

00:03:33,120 --> 00:03:36,959
super nice

00:03:33,840 --> 00:03:39,920
iphone or samsung galaxy

00:03:36,959 --> 00:03:40,879
20 whatever it's called that's great but

00:03:39,920 --> 00:03:43,120
a lot of people out there

00:03:40,879 --> 00:03:43,920
don't have these things i think the vast

00:03:43,120 --> 00:03:45,360
majority of

00:03:43,920 --> 00:03:47,920
phones that are sold in the world these

00:03:45,360 --> 00:03:48,480
days are much lower power than those

00:03:47,920 --> 00:03:50,560
phones

00:03:48,480 --> 00:03:52,319
and if you use a phone like that they

00:03:50,560 --> 00:03:54,080
tend to for example

00:03:52,319 --> 00:03:56,319
have a processor that runs five or ten

00:03:54,080 --> 00:03:58,080
times slower than on those super

00:03:56,319 --> 00:03:59,519
nice phones in part because they're

00:03:58,080 --> 00:04:00,480
slower processors in part because

00:03:59,519 --> 00:04:02,239
they're throttled

00:04:00,480 --> 00:04:03,840
so they don't get too hot and the phone

00:04:02,239 --> 00:04:05,519
doesn't melt in your hand

00:04:03,840 --> 00:04:07,599
which is a bad user experience by the

00:04:05,519 --> 00:04:09,280
way so phones out there are mostly

00:04:07,599 --> 00:04:12,000
slower and lower powered

00:04:09,280 --> 00:04:13,519
and you know i live in new jersey near

00:04:12,000 --> 00:04:14,879
new york when i used to commute to a job

00:04:13,519 --> 00:04:17,040
back in the olden days

00:04:14,879 --> 00:04:18,239
i used to commute on a train and i had a

00:04:17,040 --> 00:04:19,680
40-minute ride

00:04:18,239 --> 00:04:21,280
during which i shared my wi-fi with a

00:04:19,680 --> 00:04:22,960
thousand other train passengers

00:04:21,280 --> 00:04:24,400
and it was horrendous so i knew that

00:04:22,960 --> 00:04:25,040
some sites just were not going to load

00:04:24,400 --> 00:04:27,120
at all

00:04:25,040 --> 00:04:28,479
or load very slowly they were trying to

00:04:27,120 --> 00:04:30,800
like buy a plane ticket

00:04:28,479 --> 00:04:31,520
or pay a credit card or even work for my

00:04:30,800 --> 00:04:33,600
job

00:04:31,520 --> 00:04:34,960
lord for bid and it would be sometimes

00:04:33,600 --> 00:04:36,080
impossible to do these things

00:04:34,960 --> 00:04:38,800
you knew that certain sites were going

00:04:36,080 --> 00:04:40,720
to load great certain sites weren't

00:04:38,800 --> 00:04:43,040
you also know if you're a programmer as

00:04:40,720 --> 00:04:44,479
you are if you're a developer as you are

00:04:43,040 --> 00:04:46,080
that usually the reasons these sites

00:04:44,479 --> 00:04:47,840
load slowly are not

00:04:46,080 --> 00:04:50,080
good reasons it's not because they're

00:04:47,840 --> 00:04:52,160
loading crucial code that must be there

00:04:50,080 --> 00:04:53,600
or loading images that are as small as

00:04:52,160 --> 00:04:55,040
possible they're often loading things

00:04:53,600 --> 00:04:58,400
that aren't really being useful

00:04:55,040 --> 00:05:00,240
at all it's a frustrating experience so

00:04:58,400 --> 00:05:02,560
to build everybody in the world at all

00:05:00,240 --> 00:05:05,680
times it's important to have your site

00:05:02,560 --> 00:05:07,199
be fast for those reasons and in fact

00:05:05,680 --> 00:05:09,199
a lot of folks don't have 4g access a

00:05:07,199 --> 00:05:11,199
lot of folks in the world end up with 3g

00:05:09,199 --> 00:05:13,919
connections and next slide please

00:05:11,199 --> 00:05:16,080
last app that i saw surprise saw the

00:05:13,919 --> 00:05:17,039
average web page took 12 seconds to load

00:05:16,080 --> 00:05:19,759
on 3g

00:05:17,039 --> 00:05:21,039
12 seconds is a long time you might be

00:05:19,759 --> 00:05:22,479
looking at your phone for those 12

00:05:21,039 --> 00:05:23,440
seconds and decide you know what this is

00:05:22,479 --> 00:05:24,960
not going to work

00:05:23,440 --> 00:05:27,039
i'm going to go to something else i'm

00:05:24,960 --> 00:05:28,720
going to go play among us

00:05:27,039 --> 00:05:30,639
something else is going to happen but

00:05:28,720 --> 00:05:31,199
it's actually worse than that because in

00:05:30,639 --> 00:05:32,320
fact

00:05:31,199 --> 00:05:34,639
a lot of people in the world don't have

00:05:32,320 --> 00:05:37,039
3g connections next slide please

00:05:34,639 --> 00:05:38,560
last stats that i saw showed that 40 of

00:05:37,039 --> 00:05:41,120
mobile connections in the world

00:05:38,560 --> 00:05:41,919
are actually 2g connections and i know

00:05:41,120 --> 00:05:44,000
this feels

00:05:41,919 --> 00:05:45,600
because i used to travel sometimes we

00:05:44,000 --> 00:05:47,360
used to travel places because there were

00:05:45,600 --> 00:05:47,759
planes you'd go on and go places back in

00:05:47,360 --> 00:05:51,280
the old

00:05:47,759 --> 00:05:52,240
days also and i had t-mobile which is a

00:05:51,280 --> 00:05:54,240
fine carrier

00:05:52,240 --> 00:05:55,520
the t-mobile in their kindness would

00:05:54,240 --> 00:05:59,120
give me a free

00:05:55,520 --> 00:06:01,440
international data but 2g only

00:05:59,120 --> 00:06:02,960
so most sites didn't load period or

00:06:01,440 --> 00:06:05,680
loaded on google web lite

00:06:02,960 --> 00:06:06,240
in lighter versions and it wasn't good

00:06:05,680 --> 00:06:09,280
so

00:06:06,240 --> 00:06:11,120
next slide please make your site faster

00:06:09,280 --> 00:06:12,639
it's important look at this guy over

00:06:11,120 --> 00:06:13,520
here he's looking at your site loading

00:06:12,639 --> 00:06:16,400
on his phone

00:06:13,520 --> 00:06:17,360
it's not loading he's taken to smoking

00:06:16,400 --> 00:06:19,840
and drinking

00:06:17,360 --> 00:06:21,280
to alleviate the pain of the experience

00:06:19,840 --> 00:06:23,840
so to make this man's life

00:06:21,280 --> 00:06:24,960
longer you should make your site faster

00:06:23,840 --> 00:06:27,360
that isn't a reason

00:06:24,960 --> 00:06:28,000
i don't know what is so beyond this kind

00:06:27,360 --> 00:06:29,759
of like

00:06:28,000 --> 00:06:31,520
kind of silly uh beginning over here

00:06:29,759 --> 00:06:32,800
there actually are a lot of studies out

00:06:31,520 --> 00:06:33,680
there there's data you've probably seen

00:06:32,800 --> 00:06:35,840
before

00:06:33,680 --> 00:06:37,600
next slide please some studies you might

00:06:35,840 --> 00:06:39,199
not have seen that are more recent

00:06:37,600 --> 00:06:40,800
i guess these are from a couple years

00:06:39,199 --> 00:06:44,560
ago now they're pretty recent

00:06:40,800 --> 00:06:46,479
so one study was that a two second delay

00:06:44,560 --> 00:06:48,400
in content appearing raises the

00:06:46,479 --> 00:06:50,000
satisfaction and lower people's intent

00:06:48,400 --> 00:06:51,759
to return to the site

00:06:50,000 --> 00:06:53,520
another study they took buttons and made

00:06:51,759 --> 00:06:54,240
them slower and slower to make users

00:06:53,520 --> 00:06:55,919
angry

00:06:54,240 --> 00:06:58,080
and it turns out that they changed the

00:06:55,919 --> 00:07:00,560
speed of response from 70 milliseconds

00:06:58,080 --> 00:07:02,400
to 100 milliseconds people noticed that

00:07:00,560 --> 00:07:04,000
like the sights less when they got as

00:07:02,400 --> 00:07:05,440
far as 150 milliseconds

00:07:04,000 --> 00:07:07,360
then people rated the quality of the

00:07:05,440 --> 00:07:08,880
buttons at significantly lower

00:07:07,360 --> 00:07:10,400
so you just thought these buttons are no

00:07:08,880 --> 00:07:10,960
good they're not working usually you

00:07:10,400 --> 00:07:13,199
press the button

00:07:10,960 --> 00:07:14,240
on an elevator it lights up immediately

00:07:13,199 --> 00:07:17,039
if you press the

00:07:14,240 --> 00:07:18,720
button on a phone or a computer screen

00:07:17,039 --> 00:07:19,520
or tablet nothing happens for a while

00:07:18,720 --> 00:07:22,000
you think

00:07:19,520 --> 00:07:23,440
is this thing broken this computer is no

00:07:22,000 --> 00:07:25,039
good

00:07:23,440 --> 00:07:26,479
also another study showed that mobile

00:07:25,039 --> 00:07:27,759
users tend to lose their attention after

00:07:26,479 --> 00:07:29,520
four to eight seconds

00:07:27,759 --> 00:07:31,840
so after a couple seconds of sights

00:07:29,520 --> 00:07:34,080
loading they'll go to something else

00:07:31,840 --> 00:07:35,039
uh next slide please of course you're

00:07:34,080 --> 00:07:36,720
thinking about not that but you're

00:07:35,039 --> 00:07:38,560
thinking about money probably like

00:07:36,720 --> 00:07:40,080
well who cares about the users how about

00:07:38,560 --> 00:07:42,160
my profits and my business

00:07:40,080 --> 00:07:44,160
next slide please well a lot of studies

00:07:42,160 --> 00:07:46,400
also have shown of course that

00:07:44,160 --> 00:07:47,360
of sites that people like more spend

00:07:46,400 --> 00:07:49,759
more time on

00:07:47,360 --> 00:07:51,360
and spend money on or convert on more

00:07:49,759 --> 00:07:53,120
for example a recent study showed that

00:07:51,360 --> 00:07:56,080
mobile sites that loaded in less than

00:07:53,120 --> 00:07:57,599
or equal to two seconds at 15 percent

00:07:56,080 --> 00:07:59,759
higher conversion rate

00:07:57,599 --> 00:08:01,440
so that's pretty significant but making

00:07:59,759 --> 00:08:03,199
your site load quicker

00:08:01,440 --> 00:08:05,360
you're going to have people convert more

00:08:03,199 --> 00:08:07,039
that's a lot of studies have shown this

00:08:05,360 --> 00:08:08,879
you can't always guarantee it but in

00:08:07,039 --> 00:08:09,919
some cases i've seen conversion rates

00:08:08,879 --> 00:08:12,639
actually double

00:08:09,919 --> 00:08:13,599
so you can get a lot from these next

00:08:12,639 --> 00:08:16,000
slide please

00:08:13,599 --> 00:08:17,199
also last year ebay worked on speed

00:08:16,000 --> 00:08:18,400
around the company

00:08:17,199 --> 00:08:20,000
tried to improve the front end

00:08:18,400 --> 00:08:21,680
performance and they found that for

00:08:20,000 --> 00:08:24,319
every hundred milliseconds improvement

00:08:21,680 --> 00:08:25,520
in search page loading loading time

00:08:24,319 --> 00:08:28,720
there was a 0.5

00:08:25,520 --> 00:08:30,879
increase in the add to cart count 0.5

00:08:28,720 --> 00:08:32,240
not huge but imagine if it was a full

00:08:30,879 --> 00:08:34,880
second of loading time

00:08:32,240 --> 00:08:35,519
if you get a 5 increase but even a 0.5

00:08:34,880 --> 00:08:38,240
percent

00:08:35,519 --> 00:08:39,680
is significant again some cases makes no

00:08:38,240 --> 00:08:40,880
difference if your site is just like not

00:08:39,680 --> 00:08:42,959
fun to use anyway

00:08:40,880 --> 00:08:44,240
some cases i've seen people's metrics

00:08:42,959 --> 00:08:46,240
actually double or triple

00:08:44,240 --> 00:08:47,920
things got much faster they adopted amp

00:08:46,240 --> 00:08:50,640
or pwa for example

00:08:47,920 --> 00:08:51,920
so it can make a big difference so for

00:08:50,640 --> 00:08:54,800
all these reasons

00:08:51,920 --> 00:08:55,200
try performance today and now back to

00:08:54,800 --> 00:08:57,440
tim

00:08:55,200 --> 00:08:58,480
to discuss some historical things about

00:08:57,440 --> 00:09:00,240
web performance

00:08:58,480 --> 00:09:01,680
yeah so thank you ben it's really

00:09:00,240 --> 00:09:04,080
interesting that um

00:09:01,680 --> 00:09:06,160
you know we when we often conceive of

00:09:04,080 --> 00:09:08,080
improving conversion rates on whatever

00:09:06,160 --> 00:09:09,839
kind of site we have

00:09:08,080 --> 00:09:12,000
we tend to think about like the funnel

00:09:09,839 --> 00:09:13,360
design and our calls to action and sort

00:09:12,000 --> 00:09:15,680
of like the visual

00:09:13,360 --> 00:09:17,200
user experience and user journey without

00:09:15,680 --> 00:09:18,640
realizing the benefits we're leaving on

00:09:17,200 --> 00:09:19,680
the table just from pure performance

00:09:18,640 --> 00:09:21,279
optimization

00:09:19,680 --> 00:09:22,800
or without realizing that we can do

00:09:21,279 --> 00:09:24,800
these things together so

00:09:22,800 --> 00:09:26,640
i think it would be a really good

00:09:24,800 --> 00:09:29,120
opportunity to

00:09:26,640 --> 00:09:30,959
both please your developers by saying

00:09:29,120 --> 00:09:33,600
hey let's fix some technical debt let's

00:09:30,959 --> 00:09:34,399
improve performance and at the same time

00:09:33,600 --> 00:09:36,000
let's

00:09:34,399 --> 00:09:38,000
improve our conversion rate for our

00:09:36,000 --> 00:09:39,120
business users but yeah i want to talk a

00:09:38,000 --> 00:09:40,480
little bit about history of web

00:09:39,120 --> 00:09:41,760
performance where we've come from where

00:09:40,480 --> 00:09:43,839
we're going and why we're framing

00:09:41,760 --> 00:09:47,040
today's discussion the way that we are

00:09:43,839 --> 00:09:49,440
so as early as 2007

00:09:47,040 --> 00:09:51,360
steve sauders observed at least 80

00:09:49,440 --> 00:09:53,200
percent of the time that it takes to

00:09:51,360 --> 00:09:56,000
download and view a website

00:09:53,200 --> 00:09:56,959
is controlled by the front-end structure

00:09:56,000 --> 00:09:59,360
right it's not

00:09:56,959 --> 00:10:00,000
necessarily the actual sort of server

00:09:59,360 --> 00:10:04,079
latency

00:10:00,000 --> 00:10:06,720
the cpu usage in memory even necessarily

00:10:04,079 --> 00:10:07,120
kind of like the http request management

00:10:06,720 --> 00:10:10,079
it

00:10:07,120 --> 00:10:12,079
a lot of it is about the actual arrival

00:10:10,079 --> 00:10:14,079
of the web page and then being rendered

00:10:12,079 --> 00:10:16,160
out in the browser the css

00:10:14,079 --> 00:10:17,120
uh javascript all those other components

00:10:16,160 --> 00:10:19,200
coming together

00:10:17,120 --> 00:10:20,959
now if you don't remember or recognize

00:10:19,200 --> 00:10:25,040
this name steve sauders

00:10:20,959 --> 00:10:26,959
was probably the first web performance

00:10:25,040 --> 00:10:28,320
expert out there worked at google at

00:10:26,959 --> 00:10:31,360
yahoo i think

00:10:28,320 --> 00:10:32,640
currently works at fastly cdn so there's

00:10:31,360 --> 00:10:34,560
a source in the bottom if you want to

00:10:32,640 --> 00:10:36,000
read more about this sort of general

00:10:34,560 --> 00:10:37,040
history of web performance and these

00:10:36,000 --> 00:10:39,120
observations

00:10:37,040 --> 00:10:40,160
and it's interesting that going back now

00:10:39,120 --> 00:10:43,279
00:10:40,160 --> 00:10:44,000
years um it was clear to experts like

00:10:43,279 --> 00:10:46,800
steve

00:10:44,000 --> 00:10:48,240
that front performance was perhaps even

00:10:46,800 --> 00:10:49,120
the bigger factor than back-end

00:10:48,240 --> 00:10:50,640
performance

00:10:49,120 --> 00:10:52,320
and yet we have found ourselves

00:10:50,640 --> 00:10:53,440
primarily focused on back-end

00:10:52,320 --> 00:10:55,519
performance

00:10:53,440 --> 00:10:57,360
if you manage a drupal engineering team

00:10:55,519 --> 00:10:59,519
or you're a drupal developer or

00:10:57,360 --> 00:11:01,519
a devops person who supports drupal you

00:10:59,519 --> 00:11:03,600
are probably familiar with this book

00:11:01,519 --> 00:11:05,040
high performance drupal is sort of the

00:11:03,600 --> 00:11:06,959
book um

00:11:05,040 --> 00:11:08,800
it's it's the bible when it comes to

00:11:06,959 --> 00:11:10,800
performance uh in drupal

00:11:08,800 --> 00:11:12,560
um and the edition is is getting a

00:11:10,800 --> 00:11:14,079
little old at this point but it still

00:11:12,560 --> 00:11:15,279
has a lot of really valuable things so

00:11:14,079 --> 00:11:16,959
in 2013

00:11:15,279 --> 00:11:18,640
jeff and ryan and nathaniel wrote

00:11:16,959 --> 00:11:20,480
literally wrote this book with all of

00:11:18,640 --> 00:11:22,079
the details about drupal performance

00:11:20,480 --> 00:11:23,680
and what's super interesting is even

00:11:22,079 --> 00:11:26,000
back in 2013

00:11:23,680 --> 00:11:27,920
if you look at the table of contents a

00:11:26,000 --> 00:11:30,000
huge portion of this was focused on

00:11:27,920 --> 00:11:32,560
front-end performance about http request

00:11:30,000 --> 00:11:34,560
limits image management minification

00:11:32,560 --> 00:11:36,079
cdns all sorts of things things that

00:11:34,560 --> 00:11:37,040
we're going to continue to talk about

00:11:36,079 --> 00:11:39,200
today because

00:11:37,040 --> 00:11:42,320
in my experience and probably in the

00:11:39,200 --> 00:11:45,040
experience of many of you out there

00:11:42,320 --> 00:11:46,880
we skipped this chapter in many ways we

00:11:45,040 --> 00:11:48,399
were like gosh it's so much easier for

00:11:46,880 --> 00:11:51,519
me to look at

00:11:48,399 --> 00:11:53,120
my nginx configuration at apache at my

00:11:51,519 --> 00:11:53,920
varnish caching layers and things like

00:11:53,120 --> 00:11:57,040
this

00:11:53,920 --> 00:11:58,800
and not so much worry about

00:11:57,040 --> 00:12:00,160
things on the front end that maybe i

00:11:58,800 --> 00:12:02,720
have less control over

00:12:00,160 --> 00:12:03,600
or that are so influenced by my end

00:12:02,720 --> 00:12:05,200
users

00:12:03,600 --> 00:12:06,720
who are the ones uploading images and

00:12:05,200 --> 00:12:08,639
things like that that

00:12:06,720 --> 00:12:10,560
we haven't focused and felt like we had

00:12:08,639 --> 00:12:13,600
the control where we needed to

00:12:10,560 --> 00:12:14,480
so why the heck focus on front-end

00:12:13,600 --> 00:12:16,800
performance now

00:12:14,480 --> 00:12:19,279
well partly because it's neglected and

00:12:16,800 --> 00:12:20,880
partly for some reasons that

00:12:19,279 --> 00:12:23,600
ben is going to talk about in terms of

00:12:20,880 --> 00:12:25,040
what he and the team at google have

00:12:23,600 --> 00:12:27,760
measured about

00:12:25,040 --> 00:12:27,760
what's on the web

00:12:29,680 --> 00:12:33,920
which i guess i will now do so uh web

00:12:32,800 --> 00:12:37,360
performance

00:12:33,920 --> 00:12:39,040
the basics yeah um like tim was saying

00:12:37,360 --> 00:12:40,399
but sometimes it's tempting to look at

00:12:39,040 --> 00:12:41,600
back end performance and it matters a

00:12:40,399 --> 00:12:43,360
lot of course server

00:12:41,600 --> 00:12:45,279
time time to first byte these things are

00:12:43,360 --> 00:12:46,560
all important but for a lot of people on

00:12:45,279 --> 00:12:48,240
the web a lot of sites

00:12:46,560 --> 00:12:50,800
the thing you can do to make your site

00:12:48,240 --> 00:12:52,959
faster is often really simple

00:12:50,800 --> 00:12:54,079
often you can do it in an hour and often

00:12:52,959 --> 00:12:55,680
makes a big difference

00:12:54,079 --> 00:12:57,279
so it usually is that low hanging fruit

00:12:55,680 --> 00:13:00,320
and we'll discuss that actually

00:12:57,279 --> 00:13:00,800
with drupal.org in about a minute but

00:13:00,320 --> 00:13:03,040
first

00:13:00,800 --> 00:13:04,320
go to the next slide please over here i

00:13:03,040 --> 00:13:06,000
mean you can do a lot of elaborate

00:13:04,320 --> 00:13:06,959
things also as a programmer with front

00:13:06,000 --> 00:13:08,880
end performance

00:13:06,959 --> 00:13:10,240
you can look at these traces over here

00:13:08,880 --> 00:13:11,600
and do things like make sure that your

00:13:10,240 --> 00:13:13,760
javascript tasks

00:13:11,600 --> 00:13:15,279
are all shorter than 16 milliseconds so

00:13:13,760 --> 00:13:16,880
you have a chance to have the browser

00:13:15,279 --> 00:13:19,839
paint frames every 60

00:13:16,880 --> 00:13:21,279
60 times a second for a smooth animation

00:13:19,839 --> 00:13:21,920
you do a lot of things like that code

00:13:21,279 --> 00:13:24,079
splitting

00:13:21,920 --> 00:13:26,160
bundle reduction service workers for

00:13:24,079 --> 00:13:28,000
caching but the basics are still

00:13:26,160 --> 00:13:30,000
basic and still matter the most on the

00:13:28,000 --> 00:13:32,800
web next slide please

00:13:30,000 --> 00:13:35,360
i actually looked at this last night you

00:13:32,800 --> 00:13:36,959
got the next slide from me there

00:13:35,360 --> 00:13:38,639
oh there we are yes there it is there it

00:13:36,959 --> 00:13:40,720
is thank you very much

00:13:38,639 --> 00:13:42,320
uh this is from the web almanac which is

00:13:40,720 --> 00:13:43,519
created by rick viscomi and some other

00:13:42,320 --> 00:13:45,120
folks like that

00:13:43,519 --> 00:13:46,959
if you uh press a button there again

00:13:45,120 --> 00:13:48,959
you'll see these wonderful purple bars

00:13:46,959 --> 00:13:52,079
or i guess rectangles split out there

00:13:48,959 --> 00:13:52,560
notice that 25 of sites on the web on

00:13:52,079 --> 00:13:55,040
mobile

00:13:52,560 --> 00:13:55,920
and desktop load up to more than 3 000

00:13:55,040 --> 00:13:58,800
kilobytes

00:13:55,920 --> 00:13:59,199
of data and the top 10 percent are there

00:13:58,800 --> 00:14:01,680
the

00:13:59,199 --> 00:14:02,800
worst 10 percent the heaviest 10 percent

00:14:01,680 --> 00:14:05,199
load more than six

00:14:02,800 --> 00:14:07,279
thousand kilobytes and that top ten

00:14:05,199 --> 00:14:09,920
percent heaviest ten percent

00:14:07,279 --> 00:14:10,800
load uh on mobile almost five megabytes

00:14:09,920 --> 00:14:12,880
of images

00:14:10,800 --> 00:14:14,079
on desktop more than five megabytes of

00:14:12,880 --> 00:14:15,920
images

00:14:14,079 --> 00:14:18,000
so there's a lot of lagging fruit out

00:14:15,920 --> 00:14:19,040
there i mean very few sightseeing images

00:14:18,000 --> 00:14:20,800
that are that big

00:14:19,040 --> 00:14:22,560
and that numerous and notice that a

00:14:20,800 --> 00:14:23,680
megabyte of javascript is also pretty

00:14:22,560 --> 00:14:25,600
common out there

00:14:23,680 --> 00:14:27,680
it's usually for most sites that are

00:14:25,600 --> 00:14:28,240
just content sites or mildly interactive

00:14:27,680 --> 00:14:30,800
sites

00:14:28,240 --> 00:14:31,519
far too much javascript next slide

00:14:30,800 --> 00:14:33,680
please

00:14:31,519 --> 00:14:34,720
simple thing to do really is just you

00:14:33,680 --> 00:14:37,120
want to really

00:14:34,720 --> 00:14:38,560
load stuff that's visible above the fold

00:14:37,120 --> 00:14:40,399
as fast as possible

00:14:38,560 --> 00:14:41,760
i can't say it more simply than that

00:14:40,399 --> 00:14:43,680
above the fold meaning

00:14:41,760 --> 00:14:45,279
here's your device this is like a phone

00:14:43,680 --> 00:14:47,360
my hand is now a phone

00:14:45,279 --> 00:14:48,480
now it's a computer monitor now it's a

00:14:47,360 --> 00:14:50,560
phone so

00:14:48,480 --> 00:14:51,600
the stuff over here is considered to be

00:14:50,560 --> 00:14:52,800
above the fold

00:14:51,600 --> 00:14:54,880
the stuff that you have to scroll down

00:14:52,800 --> 00:14:56,480
to see you want to load that soon too

00:14:54,880 --> 00:14:58,399
but it's not as important because

00:14:56,480 --> 00:15:00,000
you see these things first these are

00:14:58,399 --> 00:15:02,399
seen stuff over here

00:15:00,000 --> 00:15:03,279
appear quickly they feel like the site

00:15:02,399 --> 00:15:05,199
is live

00:15:03,279 --> 00:15:07,040
and it's there then things that are down

00:15:05,199 --> 00:15:08,800
there below can load

00:15:07,040 --> 00:15:10,480
whenever they load it's not as big a

00:15:08,800 --> 00:15:12,399
deal so to make that happen

00:15:10,480 --> 00:15:13,920
there are two important things to do you

00:15:12,399 --> 00:15:14,560
want to avoid letting other stuff before

00:15:13,920 --> 00:15:16,160
that

00:15:14,560 --> 00:15:17,440
you're loading lots of javascript that

00:15:16,160 --> 00:15:18,720
doesn't really matter for the stuff

00:15:17,440 --> 00:15:20,639
people have to appear

00:15:18,720 --> 00:15:22,720
it's better to load that later as long

00:15:20,639 --> 00:15:26,320
as things are interactive not too slowly

00:15:22,720 --> 00:15:28,480
if there are videos or components or

00:15:26,320 --> 00:15:29,360
chat widgets or images that are below

00:15:28,480 --> 00:15:30,959
the fold

00:15:29,360 --> 00:15:32,720
it's better to load those things later

00:15:30,959 --> 00:15:34,320
because as they load

00:15:32,720 --> 00:15:35,920
they'll concurrently slow down things

00:15:34,320 --> 00:15:37,680
that are loading above the fold

00:15:35,920 --> 00:15:39,600
now if you hit a button there you see a

00:15:37,680 --> 00:15:41,040
little phrase drop in there

00:15:39,600 --> 00:15:43,519
and of course to load those things with

00:15:41,040 --> 00:15:44,639
as few requests and as few bytes as

00:15:43,519 --> 00:15:46,560
possible

00:15:44,639 --> 00:15:48,480
less requests means less network latency

00:15:46,560 --> 00:15:50,480
especially on mobile devices

00:15:48,480 --> 00:15:52,720
and less bytes means of course things

00:15:50,480 --> 00:15:53,839
are faster i also can mention also less

00:15:52,720 --> 00:15:55,279
bytes means is better for the

00:15:53,839 --> 00:15:56,320
environment you're storing less things

00:15:55,279 --> 00:15:57,680
than servers

00:15:56,320 --> 00:15:59,519
you're sending less things around the

00:15:57,680 --> 00:16:02,000
world using less energy

00:15:59,519 --> 00:16:03,279
and actually using less of a carbon

00:16:02,000 --> 00:16:05,199
footprint

00:16:03,279 --> 00:16:06,639
next slide please so when i say stuff

00:16:05,199 --> 00:16:08,880
what kind of stuff do i mean

00:16:06,639 --> 00:16:10,160
i mean things like images we just saw

00:16:08,880 --> 00:16:12,160
that images are actually still the

00:16:10,160 --> 00:16:14,959
biggest thing right for byte on the web

00:16:12,160 --> 00:16:16,480
we mean things like javascript less code

00:16:14,959 --> 00:16:17,759
that matters in a couple different ways

00:16:16,480 --> 00:16:19,360
one is just simply

00:16:17,759 --> 00:16:21,120
bytes over the wire which make things

00:16:19,360 --> 00:16:22,000
load more slowly and also the time

00:16:21,120 --> 00:16:23,600
required to actually

00:16:22,000 --> 00:16:25,600
parse javascript can be pretty

00:16:23,600 --> 00:16:27,759
significant and then of course

00:16:25,600 --> 00:16:29,360
css which usually has less bytes than

00:16:27,759 --> 00:16:32,000
images or javascripts i hope

00:16:29,360 --> 00:16:33,519
but css also is often rendered blocking

00:16:32,000 --> 00:16:35,920
often css loads first

00:16:33,519 --> 00:16:36,800
before images are visible things and

00:16:35,920 --> 00:16:38,720
until it loads

00:16:36,800 --> 00:16:39,920
nothing else can be displayed so it can

00:16:38,720 --> 00:16:41,600
be pretty significant

00:16:39,920 --> 00:16:43,120
especially if the network requests for

00:16:41,600 --> 00:16:45,040
css is

00:16:43,120 --> 00:16:47,199
delayed for some reason and then of

00:16:45,040 --> 00:16:47,920
course fonts videos other kinds of

00:16:47,199 --> 00:16:50,000
things

00:16:47,920 --> 00:16:51,920
that also can matter as well but usually

00:16:50,000 --> 00:16:54,480
it's images and javascript

00:16:51,920 --> 00:16:55,920
and css and i want to show you an actual

00:16:54,480 --> 00:16:58,160
demo over here

00:16:55,920 --> 00:16:59,040
we're going to do some live stuff so now

00:16:58,160 --> 00:17:01,839
i'm going to share

00:16:59,040 --> 00:17:03,040
my screen so we'll do a little bit of a

00:17:01,839 --> 00:17:04,720
swap-a-roo here

00:17:03,040 --> 00:17:07,760
so i'm going to stop sharing so ben can

00:17:04,720 --> 00:17:11,760
bring up a little bit of a demo

00:17:07,760 --> 00:17:14,720
in the biz the old swap peru yes indeed

00:17:11,760 --> 00:17:16,400
and as ben is getting started i'd also

00:17:14,720 --> 00:17:18,480
love it if you would think about

00:17:16,400 --> 00:17:20,160
you know image and javascript and css

00:17:18,480 --> 00:17:21,520
usage on some of your own sites if some

00:17:20,160 --> 00:17:23,120
of what we're saying is beginning to

00:17:21,520 --> 00:17:25,039
raise some of those questions again

00:17:23,120 --> 00:17:26,400
as a reminder feel free to drop into

00:17:25,039 --> 00:17:28,480
that q a begin

00:17:26,400 --> 00:17:30,080
asking those questions and we'll be

00:17:28,480 --> 00:17:31,039
happy to get to them as we get towards

00:17:30,080 --> 00:17:33,120
the end here

00:17:31,039 --> 00:17:34,880
all right go ahead ben yeah thanks for

00:17:33,120 --> 00:17:36,320
that tim and if you have observations of

00:17:34,880 --> 00:17:37,360
your own about how to make things better

00:17:36,320 --> 00:17:38,640
you know please add those things in

00:17:37,360 --> 00:17:40,400
there as well because you've worked on

00:17:38,640 --> 00:17:42,640
this stuff before probably too

00:17:40,400 --> 00:17:43,919
so tim told me i could use drupal.org as

00:17:42,640 --> 00:17:45,679
a as a test

00:17:43,919 --> 00:17:46,799
site over here i usually use google

00:17:45,679 --> 00:17:48,320
sites because i don't want to pick on

00:17:46,799 --> 00:17:50,160
anybody else but google

00:17:48,320 --> 00:17:51,760
does notice a lot of drupal sites there

00:17:50,160 --> 00:17:54,080
are some but not very many

00:17:51,760 --> 00:17:55,520
so duple.org we'll look at that for a

00:17:54,080 --> 00:17:57,360
minute and just see okay

00:17:55,520 --> 00:17:58,799
if you're going to use chrome dev tools

00:17:57,360 --> 00:18:00,720
for example to

00:17:58,799 --> 00:18:02,480
analyze this for performance problems

00:18:00,720 --> 00:18:04,320
what would you find so what i do with

00:18:02,480 --> 00:18:06,480
the site is i load it up over here

00:18:04,320 --> 00:18:07,440
drupal.org for example i go into

00:18:06,480 --> 00:18:09,520
devtools

00:18:07,440 --> 00:18:11,280
i will do a couple of things here one is

00:18:09,520 --> 00:18:12,960
i will actually throttle the speed to a

00:18:11,280 --> 00:18:15,039
fast 3g connection

00:18:12,960 --> 00:18:16,160
simulate how it would look you know on a

00:18:15,039 --> 00:18:19,200
mobile device

00:18:16,160 --> 00:18:20,400
i might be able to do this uh if i tried

00:18:19,200 --> 00:18:22,160
this before i actually could get into

00:18:20,400 --> 00:18:24,240
the site on my mobile simulator

00:18:22,160 --> 00:18:25,520
in dev tools but we'll try and see what

00:18:24,240 --> 00:18:27,280
happens if it fails

00:18:25,520 --> 00:18:29,120
or returned to the desktop mode so i

00:18:27,280 --> 00:18:29,600
often throttle it sometimes i will want

00:18:29,120 --> 00:18:31,919
to go

00:18:29,600 --> 00:18:32,720
and capture a film strip as we go over

00:18:31,919 --> 00:18:35,840
here

00:18:32,720 --> 00:18:39,120
which oh no i can't find the film strip

00:18:35,840 --> 00:18:41,039
filter why have i lost the film strip

00:18:39,120 --> 00:18:42,480
this is so there it is okay capture

00:18:41,039 --> 00:18:44,080
screenshots over here

00:18:42,480 --> 00:18:45,679
then i will just go ahead and delete the

00:18:44,080 --> 00:18:49,360
dom so

00:18:45,679 --> 00:18:51,039
we can start over and see what loads up

00:18:49,360 --> 00:18:53,200
when it loads and when things appear on

00:18:51,039 --> 00:18:54,880
the screen it's not complicated when you

00:18:53,200 --> 00:18:56,880
things appear in front of us there

00:18:54,880 --> 00:18:58,640
it's good when things aren't appearing

00:18:56,880 --> 00:18:59,840
it's not good of course interactivity

00:18:58,640 --> 00:19:02,240
also matters but really

00:18:59,840 --> 00:19:03,919
appearing matters so let's reload the

00:19:02,240 --> 00:19:05,520
page over here

00:19:03,919 --> 00:19:07,679
so now it's loading up some stuff you

00:19:05,520 --> 00:19:09,840
see various things happening down there

00:19:07,679 --> 00:19:11,840
and now it's not too bad we've seen

00:19:09,840 --> 00:19:13,600
worse so that was about

00:19:11,840 --> 00:19:15,360
five seconds before anything appeared at

00:19:13,600 --> 00:19:19,440
all and then somewhere

00:19:15,360 --> 00:19:22,320
around in our film strip

00:19:19,440 --> 00:19:24,160
six seven yeah about six seconds over

00:19:22,320 --> 00:19:27,280
here we saw the actual video

00:19:24,160 --> 00:19:27,760
uh thumbnail appearing so what made that

00:19:27,280 --> 00:19:30,559
actually

00:19:27,760 --> 00:19:30,960
slower let's go ahead and look at what

00:19:30,559 --> 00:19:34,160
that

00:19:30,960 --> 00:19:35,440
was on the right here is the waterfall

00:19:34,160 --> 00:19:37,280
this shows all the things that were

00:19:35,440 --> 00:19:39,520
loaded and when they loaded

00:19:37,280 --> 00:19:40,640
at the top over here html for the site

00:19:39,520 --> 00:19:42,240
that's good

00:19:40,640 --> 00:19:44,080
and then a lot of css files loaded they

00:19:42,240 --> 00:19:45,919
were all very small normally it's good

00:19:44,080 --> 00:19:46,480
to concatenate those things into one css

00:19:45,919 --> 00:19:48,480
file

00:19:46,480 --> 00:19:49,600
but in this case we're using http 2

00:19:48,480 --> 00:19:50,880
which means it can load a lot of

00:19:49,600 --> 00:19:52,960
requests concurrently

00:19:50,880 --> 00:19:53,919
that's totally fine to do that there's a

00:19:52,960 --> 00:19:56,080
lot of requests for

00:19:53,919 --> 00:19:58,080
svgs other kinds of things we're not

00:19:56,080 --> 00:20:00,640
really going to see for a little while

00:19:58,080 --> 00:20:02,240
it's not ideal svgs lots of different

00:20:00,640 --> 00:20:03,840
icons are being loaded up

00:20:02,240 --> 00:20:05,600
and then interestingly enough we have

00:20:03,840 --> 00:20:08,559
these bigger images over here

00:20:05,600 --> 00:20:10,159
that are loading up so this is a 238k

00:20:08,559 --> 00:20:12,000
image of boston city hall

00:20:10,159 --> 00:20:13,600
it's a nice city hall there looks like

00:20:12,000 --> 00:20:15,520
16 seconds to load that

00:20:13,600 --> 00:20:17,440
in the waterfall it took a little while

00:20:15,520 --> 00:20:20,480
to load the weird thing about this

00:20:17,440 --> 00:20:21,360
is well before i say that down over here

00:20:20,480 --> 00:20:24,559
also a nice

00:20:21,360 --> 00:20:27,120
soccer image which is 400k

00:20:24,559 --> 00:20:27,919
a pinterest image is 413k a bunch of

00:20:27,120 --> 00:20:29,280
images

00:20:27,919 --> 00:20:31,120
so where are those images on the site

00:20:29,280 --> 00:20:32,640
let's look at the site over here

00:20:31,120 --> 00:20:34,559
they're not over here i don't see boston

00:20:32,640 --> 00:20:37,360
city hall yet

00:20:34,559 --> 00:20:38,320
they aren't over here there's a nice

00:20:37,360 --> 00:20:42,159
picture there

00:20:38,320 --> 00:20:44,880
wasn't that one where are these images

00:20:42,159 --> 00:20:46,720
where are these images where are these

00:20:44,880 --> 00:20:50,240
images

00:20:46,720 --> 00:20:52,480
where are these images

00:20:50,240 --> 00:20:54,000
where are the way to go here we go ah

00:20:52,480 --> 00:20:56,640
the city of boston there it is

00:20:54,000 --> 00:20:57,440
so this is a very very small image a

00:20:56,640 --> 00:20:59,520
300k

00:20:57,440 --> 00:21:01,440
plus i'm just guessing if i look at this

00:20:59,520 --> 00:21:03,200
image that we'll see that it's actually

00:21:01,440 --> 00:21:06,320
loaded in a bigger version

00:21:03,200 --> 00:21:07,760
now there's the the link is there

00:21:06,320 --> 00:21:09,840
actually image in the link

00:21:07,760 --> 00:21:11,039
in the div look at all these classes

00:21:09,840 --> 00:21:11,679
here and things here it is here's the

00:21:11,039 --> 00:21:13,760
image

00:21:11,679 --> 00:21:15,039
it looks like actually it is in fact

00:21:13,760 --> 00:21:16,480
shown at about a third

00:21:15,039 --> 00:21:17,919
actually one ninth one third both

00:21:16,480 --> 00:21:18,799
dimensions so about a ninth the size

00:21:17,919 --> 00:21:21,919
that actually

00:21:18,799 --> 00:21:22,640
it is stored in so this image is a lot

00:21:21,919 --> 00:21:24,720
smaller

00:21:22,640 --> 00:21:26,480
it will load a lot faster it can be

00:21:24,720 --> 00:21:27,200
about 20k probably an image the size for

00:21:26,480 --> 00:21:29,200
mobile

00:21:27,200 --> 00:21:30,880
notice also the image here is just the

00:21:29,200 --> 00:21:32,400
same image for any device there's no

00:21:30,880 --> 00:21:34,320
responsive image here

00:21:32,400 --> 00:21:35,679
so if it was of course desktop machine

00:21:34,320 --> 00:21:38,240
you want to have a bigger image

00:21:35,679 --> 00:21:39,200
but it isn't bigger it's the same image

00:21:38,240 --> 00:21:41,679
for everything

00:21:39,200 --> 00:21:43,120
so actually those images in this image

00:21:41,679 --> 00:21:46,320
slideshow down here

00:21:43,120 --> 00:21:47,679
load before things up here load

00:21:46,320 --> 00:21:49,520
because this here is actually a youtube

00:21:47,679 --> 00:21:51,120
video and youtube has a lot of

00:21:49,520 --> 00:21:52,960
javascript unfortunately

00:21:51,120 --> 00:21:54,640
it's actually not the best thing to put

00:21:52,960 --> 00:21:55,760
up top because it'll be so

00:21:54,640 --> 00:21:57,679
loaded no matter what you do it's

00:21:55,760 --> 00:21:59,200
youtube of course it's possible that

00:21:57,679 --> 00:22:00,640
your user will gone to a video recently

00:21:59,200 --> 00:22:01,520
and it'll be cached in their device in

00:22:00,640 --> 00:22:03,679
which case

00:22:01,520 --> 00:22:05,200
it isn't that slow after all but it's

00:22:03,679 --> 00:22:06,000
better to show a thumbnail over here the

00:22:05,200 --> 00:22:08,480
video

00:22:06,000 --> 00:22:09,440
and then as the video actually loads

00:22:08,480 --> 00:22:12,159
then to

00:22:09,440 --> 00:22:13,120
you know pop that up when it shows up so

00:22:12,159 --> 00:22:15,600
back over here

00:22:13,120 --> 00:22:17,039
these images should be loaded later and

00:22:15,600 --> 00:22:18,559
actually we now have this new feature in

00:22:17,039 --> 00:22:19,360
drupal which leaves those images

00:22:18,559 --> 00:22:20,880
automatically

00:22:19,360 --> 00:22:23,039
which will be a huge help for this over

00:22:20,880 --> 00:22:24,720
here it's not implemented over here

00:22:23,039 --> 00:22:26,559
there's no easy loading happening here

00:22:24,720 --> 00:22:27,440
but now in drupal you can do that which

00:22:26,559 --> 00:22:29,039
is kind of neat

00:22:27,440 --> 00:22:30,640
that's all thanks to recent work that

00:22:29,039 --> 00:22:32,080
happened in drupal so

00:22:30,640 --> 00:22:33,600
going down over here you see some more

00:22:32,080 --> 00:22:35,280
things i'll go over all this stuff i'm

00:22:33,600 --> 00:22:37,200
looking for the first javascript

00:22:35,280 --> 00:22:38,880
to appear we can then just filter to

00:22:37,200 --> 00:22:41,440
find that over here

00:22:38,880 --> 00:22:43,919
this is the first javascript this baby

00:22:41,440 --> 00:22:44,480
over here is 282k that's pretty big for

00:22:43,919 --> 00:22:46,880
a script

00:22:44,480 --> 00:22:48,880
so what does it do let's look at it we

00:22:46,880 --> 00:22:51,039
can find out thanks to the magic of

00:22:48,880 --> 00:22:52,799
our dev tools there's some comments in

00:22:51,039 --> 00:22:54,240
there if this is minified philly you

00:22:52,799 --> 00:22:55,760
wouldn't see any comments but i guess

00:22:54,240 --> 00:22:56,799
it's not too bad because most of this is

00:22:55,760 --> 00:22:58,240
minified

00:22:56,799 --> 00:23:00,880
so looking down there's some stuff over

00:22:58,240 --> 00:23:02,960
here and then look at this

00:23:00,880 --> 00:23:04,559
notice all these things here that are

00:23:02,960 --> 00:23:08,080
what appear to be base64

00:23:04,559 --> 00:23:10,080
encoded images and there's a lot of

00:23:08,080 --> 00:23:12,159
these basics before encoded images

00:23:10,080 --> 00:23:13,840
i'm not sure what file this is but this

00:23:12,159 --> 00:23:17,600
is almost entirely

00:23:13,840 --> 00:23:20,640
of all these base64 encoded images

00:23:17,600 --> 00:23:23,840
so all this code is loading before

00:23:20,640 --> 00:23:23,840
our visible content

00:23:24,480 --> 00:23:28,080
anyway it goes for a little while and i

00:23:26,640 --> 00:23:30,400
think a lot of that might

00:23:28,080 --> 00:23:32,320
give us our fancy lava lamp effect on

00:23:30,400 --> 00:23:35,120
the behind us

00:23:32,320 --> 00:23:37,280
the lava lamp that's what it is yeah see

00:23:35,120 --> 00:23:38,720
modules and teammesses are wonderful

00:23:37,280 --> 00:23:40,799
but then that you might actually have a

00:23:38,720 --> 00:23:42,320
lot of code that you have not sure what

00:23:40,799 --> 00:23:44,960
it is why it's there anymore

00:23:42,320 --> 00:23:46,080
so there's that uh then finally

00:23:44,960 --> 00:23:48,559
youtube's video

00:23:46,080 --> 00:23:49,760
loads over here sorry i clicked on that

00:23:48,559 --> 00:23:50,960
look how big youtube's

00:23:49,760 --> 00:23:52,960
javascript is it's quite large

00:23:50,960 --> 00:23:54,720
unfortunately and loading that very late

00:23:52,960 --> 00:23:56,400
would be a good idea in general

00:23:54,720 --> 00:23:58,320
so you want to load first up like the

00:23:56,400 --> 00:24:00,559
svgs for these things which is good

00:23:58,320 --> 00:24:02,000
you want to load the drupal logo and

00:24:00,559 --> 00:24:03,760
name as soon as possible

00:24:02,000 --> 00:24:05,279
have this button be active and reusable

00:24:03,760 --> 00:24:06,880
as soon as possible

00:24:05,279 --> 00:24:09,039
and the thumbnail for this then go from

00:24:06,880 --> 00:24:11,039
there so performance is hard

00:24:09,039 --> 00:24:12,559
like my personal site is full of

00:24:11,039 --> 00:24:13,919
performance problems too because i can

00:24:12,559 --> 00:24:15,039
just ignore them and i don't know there

00:24:13,919 --> 00:24:17,279
actually exists

00:24:15,039 --> 00:24:19,039
but as we said before it does actually

00:24:17,279 --> 00:24:20,320
matter and in this case you can see some

00:24:19,039 --> 00:24:21,679
really low hanging fruit

00:24:20,320 --> 00:24:23,440
you can compress those images in the

00:24:21,679 --> 00:24:25,120
image slider right there

00:24:23,440 --> 00:24:27,600
and maybe take the javascript that loads

00:24:25,120 --> 00:24:29,679
up the lava lamp thing and do that later

00:24:27,600 --> 00:24:31,600
or make that smaller and right there

00:24:29,679 --> 00:24:33,600
it's quicker

00:24:31,600 --> 00:24:35,360
real quick i'm going to look at someone

00:24:33,600 --> 00:24:36,640
else's site because i saw something over

00:24:35,360 --> 00:24:39,120
here another drupal site

00:24:36,640 --> 00:24:40,480
i looked at recently now it's appearing

00:24:39,120 --> 00:24:42,480
in our 3g connection

00:24:40,480 --> 00:24:44,159
still showing up there's that is this

00:24:42,480 --> 00:24:46,559
the one or is a different one

00:24:44,159 --> 00:24:48,559
let's throttle by sorry let's uh sort by

00:24:46,559 --> 00:24:51,600
size over here

00:24:48,559 --> 00:24:53,360
uh it's not the one

00:24:51,600 --> 00:24:56,559
it says a lot of requests but i was

00:24:53,360 --> 00:24:59,360
looking at one other one recently

00:24:56,559 --> 00:25:00,480
this is a nice site over here it looks

00:24:59,360 --> 00:25:02,720
pretty

00:25:00,480 --> 00:25:03,919
a little slow to load on our 3g

00:25:02,720 --> 00:25:06,159
connection

00:25:03,919 --> 00:25:07,200
again a fast vg connection that image

00:25:06,159 --> 00:25:11,279
there

00:25:07,200 --> 00:25:14,880
is pretty slow to appear unfortunately

00:25:11,279 --> 00:25:18,159
and that is because

00:25:14,880 --> 00:25:21,360
it is rather big 650k

00:25:18,159 --> 00:25:24,480
over here on mobile the desktop version

00:25:21,360 --> 00:25:24,480
actually is

00:25:24,960 --> 00:25:29,279
1.5 megabytes yeah so no image should be

00:25:27,840 --> 00:25:30,960
that big of a website unless you're

00:25:29,279 --> 00:25:32,400
trying to sell people

00:25:30,960 --> 00:25:34,880
i don't know architecture with a

00:25:32,400 --> 00:25:37,039
beautiful or diamonds with a beautiful

00:25:34,880 --> 00:25:39,679
very very detailed kind of uh

00:25:37,039 --> 00:25:40,240
jewel shown or something it's just too

00:25:39,679 --> 00:25:43,200
big

00:25:40,240 --> 00:25:46,080
you can make this probably 200k 100k

00:25:43,200 --> 00:25:49,200
that would look just as good

00:25:46,080 --> 00:25:51,279
so there's my live demo i'm going to

00:25:49,200 --> 00:25:53,520
stop sharing my screen now

00:25:51,279 --> 00:25:55,279
awesome so i do i look at the site see

00:25:53,520 --> 00:25:59,200
what it's like and find things

00:25:55,279 --> 00:26:00,640
it's not hard to do awesome so i do see

00:25:59,200 --> 00:26:01,600
some questions trickling in we'll answer

00:26:00,640 --> 00:26:03,200
some of these at the end

00:26:01,600 --> 00:26:04,880
again you can certainly use the q a

00:26:03,200 --> 00:26:06,400
feature as well so that it's not lost in

00:26:04,880 --> 00:26:08,880
the chat back scroll

00:26:06,400 --> 00:26:09,520
um so you know that gives an awesome

00:26:08,880 --> 00:26:10,960
example

00:26:09,520 --> 00:26:12,480
and one that i think i'll probably

00:26:10,960 --> 00:26:14,080
review with my own engineering team for

00:26:12,480 --> 00:26:15,679
drupal.org itself

00:26:14,080 --> 00:26:18,000
about how we can use these tools to

00:26:15,679 --> 00:26:19,360
identify the most low-hanging fruit

00:26:18,000 --> 00:26:21,679
for these improvements things like these

00:26:19,360 --> 00:26:23,440
images should be relatively easy right

00:26:21,679 --> 00:26:26,240
even if we don't find it as easy to

00:26:23,440 --> 00:26:27,840
implement the load order perhaps

00:26:26,240 --> 00:26:29,840
we can certainly still make some of

00:26:27,840 --> 00:26:31,360
those things smaller use

00:26:29,840 --> 00:26:33,760
better image formats and things like

00:26:31,360 --> 00:26:35,039
that but ben you're also going to talk

00:26:33,760 --> 00:26:38,240
about some

00:26:35,039 --> 00:26:39,919
like stats that represent these kinds of

00:26:38,240 --> 00:26:42,880
things that we're talking about in maybe

00:26:39,919 --> 00:26:44,559
a more easily measurable way

00:26:42,880 --> 00:26:45,520
yeah let's go into co-rep vitals for a

00:26:44,559 --> 00:26:47,440
bit and i know you're going to talk

00:26:45,520 --> 00:26:50,480
about some more drupal specific things

00:26:47,440 --> 00:26:53,120
which is really really great so uh

00:26:50,480 --> 00:26:54,559
yes some stats some co-web vitals things

00:26:53,120 --> 00:26:57,120
so co-web vitals

00:26:54,559 --> 00:26:58,400
is google's attempt to make all this a

00:26:57,120 --> 00:27:00,320
little easier to measure

00:26:58,400 --> 00:27:01,520
if you go to the next slide over here

00:27:00,320 --> 00:27:02,880
you can look at this beautiful picture

00:27:01,520 --> 00:27:04,559
of people

00:27:02,880 --> 00:27:06,720
so there's a lot of metrics people use

00:27:04,559 --> 00:27:08,640
for performance there are speed index

00:27:06,720 --> 00:27:09,919
there's you know time to first but

00:27:08,640 --> 00:27:12,320
there's lots of different things people

00:27:09,919 --> 00:27:12,880
talk about and it's kind of an alphabet

00:27:12,320 --> 00:27:16,240
soup

00:27:12,880 --> 00:27:18,000
of things so folks that google

00:27:16,240 --> 00:27:20,000
the w3c performance working group and

00:27:18,000 --> 00:27:21,919
other places discussed this for a couple

00:27:20,000 --> 00:27:23,440
of years and found some metrics that

00:27:21,919 --> 00:27:24,320
they like that can measure performance

00:27:23,440 --> 00:27:26,640
pretty well

00:27:24,320 --> 00:27:27,840
now these metrics will change every year

00:27:26,640 --> 00:27:29,200
they're going to keep on updating these

00:27:27,840 --> 00:27:29,679
things as more as discovered about the

00:27:29,200 --> 00:27:31,440
web

00:27:29,679 --> 00:27:32,880
as the web evolves but for now there's

00:27:31,440 --> 00:27:33,679
three metrics that are pretty good ways

00:27:32,880 --> 00:27:36,080
to measure

00:27:33,679 --> 00:27:37,200
not just your performance but also just

00:27:36,080 --> 00:27:39,039
the user experience

00:27:37,200 --> 00:27:41,039
of your site you go to the next slide

00:27:39,039 --> 00:27:42,640
over here the goal of these

00:27:41,039 --> 00:27:44,080
on the next slide is to measure three

00:27:42,640 --> 00:27:45,679
things one

00:27:44,080 --> 00:27:47,600
loading most of you been discussing

00:27:45,679 --> 00:27:48,399
loading so far like is the site actually

00:27:47,600 --> 00:27:50,960
appearing

00:27:48,399 --> 00:27:52,080
is anything on the screen is anything

00:27:50,960 --> 00:27:54,640
happening at all

00:27:52,080 --> 00:27:56,399
but number two also interactivity once

00:27:54,640 --> 00:27:58,559
the site actually appears on the screen

00:27:56,399 --> 00:27:59,679
does it do anything you press a button

00:27:58,559 --> 00:28:02,399
does it respond

00:27:59,679 --> 00:28:04,000
we try to scroll can you scroll or is a

00:28:02,399 --> 00:28:04,799
browser being blocked by something else

00:28:04,000 --> 00:28:06,320
from scrolling

00:28:04,799 --> 00:28:08,240
because remember that javascript is

00:28:06,320 --> 00:28:10,080
single threaded so the actual

00:28:08,240 --> 00:28:11,279
javascript can kind of block the browser

00:28:10,080 --> 00:28:13,279
from doing things

00:28:11,279 --> 00:28:14,399
you actually the developer can block the

00:28:13,279 --> 00:28:17,600
browser

00:28:14,399 --> 00:28:18,880
and finally visual stability some sites

00:28:17,600 --> 00:28:20,000
you load them up and things appear on

00:28:18,880 --> 00:28:20,880
the screen and there they are they're

00:28:20,000 --> 00:28:22,399
easy to read

00:28:20,880 --> 00:28:23,679
other sites you load up or cite

00:28:22,399 --> 00:28:24,880
especially at a recipe site for some

00:28:23,679 --> 00:28:26,880
reason these days

00:28:24,880 --> 00:28:28,399
and you see suddenly an image pops in

00:28:26,880 --> 00:28:29,679
and things shift around

00:28:28,399 --> 00:28:32,159
then you're reading some more about your

00:28:29,679 --> 00:28:32,960
ingredients and then suddenly a video

00:28:32,159 --> 00:28:34,640
pops in

00:28:32,960 --> 00:28:36,480
and things shift around you want kind of

00:28:34,640 --> 00:28:37,760
ignore that video look at the text again

00:28:36,480 --> 00:28:38,320
or look at whatever you want to look at

00:28:37,760 --> 00:28:39,919
the image

00:28:38,320 --> 00:28:42,559
and then maybe worse yet maybe a video

00:28:39,919 --> 00:28:44,159
ad pops in things shifts around again

00:28:42,559 --> 00:28:46,399
and the shifting can occur sometimes

00:28:44,159 --> 00:28:46,960
three four or five times during a page

00:28:46,399 --> 00:28:49,600
load

00:28:46,960 --> 00:28:50,720
it's quite distracting and google's goal

00:28:49,600 --> 00:28:53,279
is to discourage

00:28:50,720 --> 00:28:54,720
this as well as discourage slow loading

00:28:53,279 --> 00:28:56,080
uh next slide please

00:28:54,720 --> 00:28:58,320
so these three metrics measure those

00:28:56,080 --> 00:28:59,679
three things for loading largest

00:28:58,320 --> 00:29:02,960
contentful paint

00:28:59,679 --> 00:29:06,159
for interactivity first input delay for

00:29:02,960 --> 00:29:07,679
visual stability cumulative layout shift

00:29:06,159 --> 00:29:09,360
and you can look at all the decisions

00:29:07,679 --> 00:29:10,000
behind these things how they were came

00:29:09,360 --> 00:29:12,080
up with

00:29:10,000 --> 00:29:13,279
and how these goals are come up with all

00:29:12,080 --> 00:29:15,200
on web.dev

00:29:13,279 --> 00:29:18,240
i'll show some links in a minute but for

00:29:15,200 --> 00:29:21,200
now they found that it was good to have

00:29:18,240 --> 00:29:23,200
lcp largest contentful paint happen in

00:29:21,200 --> 00:29:25,600
two and a half seconds or less

00:29:23,200 --> 00:29:26,240
poor is four seconds or more first input

00:29:25,600 --> 00:29:28,320
delay

00:29:26,240 --> 00:29:30,080
100 milliseconds or less is quite doable

00:29:28,320 --> 00:29:32,080
and considered good

00:29:30,080 --> 00:29:33,760
and cumulative layout shift is a score

00:29:32,080 --> 00:29:35,840
which i'll discuss in a minute

00:29:33,760 --> 00:29:37,039
uh next slide please over there oh yes

00:29:35,840 --> 00:29:39,279
and also sorry

00:29:37,039 --> 00:29:40,080
you want to have this happen for 75

00:29:39,279 --> 00:29:41,919
percent of

00:29:40,080 --> 00:29:43,600
page loads on your site some can be

00:29:41,919 --> 00:29:46,559
slower some can be faster but this is a

00:29:43,600 --> 00:29:46,559
pretty good goal to reach

00:29:47,520 --> 00:29:51,039
so these come from thing called chrome

00:29:49,440 --> 00:29:52,640
user experience report

00:29:51,039 --> 00:29:54,240
these metrics aren't actually from you

00:29:52,640 --> 00:29:55,760
trying things out in your browser

00:29:54,240 --> 00:29:57,440
or google or someone else measuring

00:29:55,760 --> 00:29:59,760
things on their own servers

00:29:57,440 --> 00:30:00,559
chrome has anonymized data from chrome

00:29:59,760 --> 00:30:02,320
users

00:30:00,559 --> 00:30:04,799
that is available for anybody to use the

00:30:02,320 --> 00:30:07,200
query using bigquery

00:30:04,799 --> 00:30:08,000
and these tools these metrics rather

00:30:07,200 --> 00:30:10,799
derive

00:30:08,000 --> 00:30:12,320
from this actual real-world data that

00:30:10,799 --> 00:30:14,080
isn't just guessing as we used to do

00:30:12,320 --> 00:30:15,039
using web page tests about how it might

00:30:14,080 --> 00:30:16,480
actually be

00:30:15,039 --> 00:30:18,720
this actually is people in the actual

00:30:16,480 --> 00:30:19,440
world how fast does your site load on

00:30:18,720 --> 00:30:21,679
their actual

00:30:19,440 --> 00:30:22,960
devices they're using how slow is

00:30:21,679 --> 00:30:24,159
interactivity

00:30:22,960 --> 00:30:26,880
it's kind of neat that we can do this

00:30:24,159 --> 00:30:28,159
now next slide please

00:30:26,880 --> 00:30:30,240
here are the three ingredients

00:30:28,159 --> 00:30:33,279
ingredients of our of our

00:30:30,240 --> 00:30:36,080
web vitals here in order first of all

00:30:33,279 --> 00:30:37,679
largest contentful paint is simply how

00:30:36,080 --> 00:30:38,799
long does it take for the largest thing

00:30:37,679 --> 00:30:41,120
above the fold

00:30:38,799 --> 00:30:43,279
to appear that could be an image a hero

00:30:41,120 --> 00:30:45,120
image often it could be a block of text

00:30:43,279 --> 00:30:46,799
it could be anything it's nice because

00:30:45,120 --> 00:30:48,320
it's pretty easy to describe this thing

00:30:46,799 --> 00:30:49,840
it isn't like speed index which is also

00:30:48,320 --> 00:30:51,039
as nice but requires some calculus to

00:30:49,840 --> 00:30:52,720
actually define

00:30:51,039 --> 00:30:55,120
and things about how fast various

00:30:52,720 --> 00:30:57,519
elements appear this is simply

00:30:55,120 --> 00:30:59,919
how fast is the biggest thing show up

00:30:57,519 --> 00:31:02,559
for more on this look at web.dev

00:30:59,919 --> 00:31:04,080
lcp it's discussed in more detail that i

00:31:02,559 --> 00:31:06,640
can discuss here

00:31:04,080 --> 00:31:08,240
next we have first input delay it's

00:31:06,640 --> 00:31:10,080
simply the time between

00:31:08,240 --> 00:31:11,600
stuff appearing on the screen and

00:31:10,080 --> 00:31:13,600
becoming interactive

00:31:11,600 --> 00:31:14,960
so actually more specifically the time

00:31:13,600 --> 00:31:15,600
between the first time user presses the

00:31:14,960 --> 00:31:17,600
button

00:31:15,600 --> 00:31:18,960
or tries the interaction and the browser

00:31:17,600 --> 00:31:21,360
actually responds to that

00:31:18,960 --> 00:31:22,640
so they try to scroll use content they

00:31:21,360 --> 00:31:24,640
actually press a button

00:31:22,640 --> 00:31:26,000
like the menu button or some sort of

00:31:24,640 --> 00:31:27,360
navigation button

00:31:26,000 --> 00:31:29,200
how long is the delay before this

00:31:27,360 --> 00:31:30,559
actually happens 100 milliseconds or

00:31:29,200 --> 00:31:32,240
less is considered good

00:31:30,559 --> 00:31:33,679
as we saw before people like a button

00:31:32,240 --> 00:31:35,120
that's faster than that

00:31:33,679 --> 00:31:36,559
if you're if you're slower than that

00:31:35,120 --> 00:31:37,440
people begin to notice that it feels

00:31:36,559 --> 00:31:39,360
slow

00:31:37,440 --> 00:31:41,200
and begin to think this feels kind of

00:31:39,360 --> 00:31:44,000
broken in some way

00:31:41,200 --> 00:31:45,519
finally cumulative layout shift is a

00:31:44,000 --> 00:31:47,440
little harder to describe

00:31:45,519 --> 00:31:49,039
but it's a way of measuring the sum of

00:31:47,440 --> 00:31:51,279
all the layout shifts that occur

00:31:49,039 --> 00:31:52,799
during the page load and the page's life

00:31:51,279 --> 00:31:54,880
span this is

00:31:52,799 --> 00:31:56,799
calculated by taking individual layout

00:31:54,880 --> 00:31:59,200
shifts which are measured by

00:31:56,799 --> 00:32:00,159
how much of the screen shifts and how

00:31:59,200 --> 00:32:02,159
far it goes

00:32:00,159 --> 00:32:04,080
taking those two things multiplying them

00:32:02,159 --> 00:32:04,399
together and then summing those things

00:32:04,080 --> 00:32:07,919
up

00:32:04,399 --> 00:32:11,600
that gives you a score and 0.1 or lower

00:32:07,919 --> 00:32:14,640
is good 0.25 or higher seems to be

00:32:11,600 --> 00:32:16,480
not so good so they did a study i looked

00:32:14,640 --> 00:32:18,720
at these metrics over here

00:32:16,480 --> 00:32:20,399
next slide please and they found that

00:32:18,720 --> 00:32:23,279
when a site meets these thresholds

00:32:20,399 --> 00:32:24,880
users are 24 likely to 24 less likely to

00:32:23,279 --> 00:32:26,159
abandon page loads

00:32:24,880 --> 00:32:28,559
so they actually make a pretty big

00:32:26,159 --> 00:32:30,240
difference 24 less likely to abandon

00:32:28,559 --> 00:32:32,480
is a pretty big difference so there are

00:32:30,240 --> 00:32:34,880
good goals to shoot for

00:32:32,480 --> 00:32:36,159
so the next question would be well how

00:32:34,880 --> 00:32:37,679
drupal sites do on this

00:32:36,159 --> 00:32:39,519
i looked at one of our dashboards here

00:32:37,679 --> 00:32:40,320
internally at drupal sites in the next

00:32:39,519 --> 00:32:42,240
slide

00:32:40,320 --> 00:32:45,120
and it wasn't much worse than the rest

00:32:42,240 --> 00:32:48,720
of the web it wasn't great it wasn't bad

00:32:45,120 --> 00:32:51,760
it was found that on desktop 35 of sites

00:32:48,720 --> 00:32:53,279
passed on mobile 22 basically passed

00:32:51,760 --> 00:32:54,880
the difference is typical because mobile

00:32:53,279 --> 00:32:57,279
tends to have slower connections

00:32:54,880 --> 00:32:58,799
than desktop notice each individual

00:32:57,279 --> 00:33:01,600
metric is not so bad

00:32:58,799 --> 00:33:03,200
for simple delay on desktop 99 that's a

00:33:01,600 --> 00:33:04,960
standout that's really pretty good

00:33:03,200 --> 00:33:06,320
but taking these things together the

00:33:04,960 --> 00:33:08,240
actual scores for

00:33:06,320 --> 00:33:09,519
sites passing all these things is kind

00:33:08,240 --> 00:33:12,159
of low

00:33:09,519 --> 00:33:13,519
however i can say that there's going to

00:33:12,159 --> 00:33:14,720
be a report coming out about all the

00:33:13,519 --> 00:33:17,760
cmss out there

00:33:14,720 --> 00:33:19,519
now the top five cms's by uh

00:33:17,760 --> 00:33:20,880
web popularity which are wordpress let's

00:33:19,519 --> 00:33:23,679
see drupal

00:33:20,880 --> 00:33:25,600
joomla wix and squarespace i think

00:33:23,679 --> 00:33:27,039
drupal was among the best ones

00:33:25,600 --> 00:33:29,279
i have a note in this somewhere over

00:33:27,039 --> 00:33:30,799
here but not in this slide

00:33:29,279 --> 00:33:33,200
i think yeah actually i think it was

00:33:30,799 --> 00:33:34,000
drupal as the best in largest contentful

00:33:33,200 --> 00:33:35,919
paint

00:33:34,000 --> 00:33:37,039
and the best and cumulative layout shift

00:33:35,919 --> 00:33:39,120
of all five

00:33:37,039 --> 00:33:40,399
the drupal is doing pretty well already

00:33:39,120 --> 00:33:41,360
there's room for improvement but

00:33:40,399 --> 00:33:42,480
drupal's

00:33:41,360 --> 00:33:44,000
people have worked on this stuff already

00:33:42,480 --> 00:33:44,480
in drupal more than other i think more

00:33:44,000 --> 00:33:47,519
than other

00:33:44,480 --> 00:33:49,279
cms's and that really shows

00:33:47,519 --> 00:33:50,720
let's go to the next slide so how do you

00:33:49,279 --> 00:33:52,559
measure all these things

00:33:50,720 --> 00:33:53,440
google is a very big place and known for

00:33:52,559 --> 00:33:54,320
people saying different things at the

00:33:53,440 --> 00:33:55,600
same time

00:33:54,320 --> 00:33:58,080
in this case people have gotten back

00:33:55,600 --> 00:34:00,320
together and have these co-rep vitals

00:33:58,080 --> 00:34:01,679
in at least six different places you can

00:34:00,320 --> 00:34:03,600
measure them in

00:34:01,679 --> 00:34:05,120
two of these places you can't measure

00:34:03,600 --> 00:34:07,279
first input delay because

00:34:05,120 --> 00:34:08,879
it requires having actual live users out

00:34:07,279 --> 00:34:11,520
there but you can

00:34:08,879 --> 00:34:12,399
get a total blocking time which is

00:34:11,520 --> 00:34:14,159
pretty similar

00:34:12,399 --> 00:34:16,480
it's kind of a good standard for simple

00:34:14,159 --> 00:34:18,720
delay so next slide please

00:34:16,480 --> 00:34:19,520
let's look at these six tools here

00:34:18,720 --> 00:34:21,359
number one

00:34:19,520 --> 00:34:23,040
the popular pagespeed insights people

00:34:21,359 --> 00:34:25,599
use this a lot because

00:34:23,040 --> 00:34:26,480
it looks at your site quickly and tests

00:34:25,599 --> 00:34:28,879
out your site

00:34:26,480 --> 00:34:30,320
on google servers used to be stored

00:34:28,879 --> 00:34:31,599
actually in someone's

00:34:30,320 --> 00:34:33,760
apartment now they're actually more

00:34:31,599 --> 00:34:36,000
formal formally stored

00:34:33,760 --> 00:34:37,760
in a nicer place it uses lighthouse's

00:34:36,000 --> 00:34:38,639
api now also so these things are more

00:34:37,760 --> 00:34:41,119
consistent

00:34:38,639 --> 00:34:42,079
it tries these things out on real live

00:34:41,119 --> 00:34:45,359
machines

00:34:42,079 --> 00:34:47,599
and gets a score of zero to a hundred

00:34:45,359 --> 00:34:48,800
the score i think is over discussed and

00:34:47,599 --> 00:34:50,560
can be a little bit

00:34:48,800 --> 00:34:52,240
you know distracting so i haven't put it

00:34:50,560 --> 00:34:54,159
in the screenshot at all but

00:34:52,240 --> 00:34:55,839
right below the score are some useful

00:34:54,159 --> 00:34:58,160
things and now it gives you

00:34:55,839 --> 00:34:58,960
uh your scores on these three corporate

00:34:58,160 --> 00:35:01,440
vitals plus

00:34:58,960 --> 00:35:03,040
also first content full paint as a bonus

00:35:01,440 --> 00:35:05,520
and then it gives you here

00:35:03,040 --> 00:35:07,839
lab data which is basically data from

00:35:05,520 --> 00:35:10,240
running this on servers that google owns

00:35:07,839 --> 00:35:12,160
and also field data which is actually

00:35:10,240 --> 00:35:14,960
from the chrome user experience report

00:35:12,160 --> 00:35:16,079
so you get data from google trying these

00:35:14,960 --> 00:35:18,880
things right now

00:35:16,079 --> 00:35:20,560
and then also from real world users you

00:35:18,880 --> 00:35:22,560
can see that various things here

00:35:20,560 --> 00:35:23,599
could be better if you go to the next

00:35:22,560 --> 00:35:25,680
slide you'll see

00:35:23,599 --> 00:35:26,960
it gives you more specific advice on

00:35:25,680 --> 00:35:28,480
things to actually do

00:35:26,960 --> 00:35:30,560
if we could actually expand these little

00:35:28,480 --> 00:35:32,079
arrows here these accordions we'd see

00:35:30,560 --> 00:35:33,920
specific things that could be done

00:35:32,079 --> 00:35:35,520
specific javascript uh

00:35:33,920 --> 00:35:37,680
files that may be large and could be

00:35:35,520 --> 00:35:39,680
reduced things that were blocking

00:35:37,680 --> 00:35:40,720
images that were too large all those

00:35:39,680 --> 00:35:43,440
kinds of things

00:35:40,720 --> 00:35:44,000
so all this actionable advice is here in

00:35:43,440 --> 00:35:46,800
page speed

00:35:44,000 --> 00:35:48,240
insights next we have the chrome user

00:35:46,800 --> 00:35:50,079
experience report itself

00:35:48,240 --> 00:35:51,839
you can use this yourself you set up a

00:35:50,079 --> 00:35:53,280
google cloud account because all data is

00:35:51,839 --> 00:35:55,440
stored in a google cloud

00:35:53,280 --> 00:35:57,760
and you can use bigquery to query this

00:35:55,440 --> 00:35:59,920
and look at you know data for cms's

00:35:57,760 --> 00:36:01,119
data for your site data for your

00:35:59,920 --> 00:36:03,760
competitors sites

00:36:01,119 --> 00:36:04,560
whatever else you want it's quite useful

00:36:03,760 --> 00:36:07,920
if you go to bit

00:36:04,560 --> 00:36:09,200
dot l i slash crux hyphen tool

00:36:07,920 --> 00:36:11,040
you'll get more information on how to do

00:36:09,200 --> 00:36:12,640
this you go to the next slide you'll see

00:36:11,040 --> 00:36:14,320
that i have in a couple of minutes here

00:36:12,640 --> 00:36:15,839
made this little dashboard showing how

00:36:14,320 --> 00:36:17,520
google.com fared

00:36:15,839 --> 00:36:19,359
this is pretty easy to make notice it

00:36:17,520 --> 00:36:20,240
did pretty well there's still room for

00:36:19,359 --> 00:36:21,760
improvement

00:36:20,240 --> 00:36:25,040
and making this dashboard is pretty easy

00:36:21,760 --> 00:36:26,720
too go link there on your screen

00:36:25,040 --> 00:36:28,480
slash deep.co ux dash and make your own

00:36:26,720 --> 00:36:30,800
dashboard

00:36:28,480 --> 00:36:32,079
next we have google search console if

00:36:30,800 --> 00:36:33,200
you use this if you use if you're

00:36:32,079 --> 00:36:34,320
curious about google search how you

00:36:33,200 --> 00:36:35,680
stand on google search

00:36:34,320 --> 00:36:38,000
search console is a good way to see how

00:36:35,680 --> 00:36:38,640
you're faring in the search and also now

00:36:38,000 --> 00:36:41,119
gives you

00:36:38,640 --> 00:36:42,800
the same metrics code vitals you can see

00:36:41,119 --> 00:36:45,119
all your url is right there

00:36:42,800 --> 00:36:46,560
how many pass which metrics it's kind of

00:36:45,119 --> 00:36:47,200
nice because it does this for you all

00:36:46,560 --> 00:36:48,960
the time

00:36:47,200 --> 00:36:50,240
automatically in the background sorry

00:36:48,960 --> 00:36:52,000
speaking of search ben

00:36:50,240 --> 00:36:54,240
these core vitals are becoming part of

00:36:52,000 --> 00:36:57,280
the search ranking algorithm

00:36:54,240 --> 00:36:58,160
as of next year is that correct yes

00:36:57,280 --> 00:37:00,560
that's also true

00:36:58,160 --> 00:37:01,280
so we announced in may that they'd be

00:37:00,560 --> 00:37:02,640
using

00:37:01,280 --> 00:37:04,640
a thing called page experience as a

00:37:02,640 --> 00:37:06,480
ranking factor in search currently

00:37:04,640 --> 00:37:07,520
speed is a ranking factor they're going

00:37:06,480 --> 00:37:08,640
to replace that with something called

00:37:07,520 --> 00:37:11,040
page experience

00:37:08,640 --> 00:37:11,680
which mixes core vitals plus basic

00:37:11,040 --> 00:37:15,119
things like

00:37:11,680 --> 00:37:17,680
is your site secure uh https

00:37:15,119 --> 00:37:19,119
things like that is it mobile friendly

00:37:17,680 --> 00:37:20,560
do you have things that block your

00:37:19,119 --> 00:37:21,920
screen when you when you pop

00:37:20,560 --> 00:37:24,560
interstitials that block people from

00:37:21,920 --> 00:37:25,920
using using it using it all those things

00:37:24,560 --> 00:37:27,760
so they announced this back in may that

00:37:25,920 --> 00:37:29,200
they'd be soon making this change

00:37:27,760 --> 00:37:31,119
we just announced last week actually

00:37:29,200 --> 00:37:31,760
that the change is going to happen next

00:37:31,119 --> 00:37:33,680
may

00:37:31,760 --> 00:37:35,040
be giving people a lot of time because

00:37:33,680 --> 00:37:36,640
people are working from home

00:37:35,040 --> 00:37:38,320
things are very strange these days and

00:37:36,640 --> 00:37:39,680
unstable but

00:37:38,320 --> 00:37:41,520
starting in next may is going to be a

00:37:39,680 --> 00:37:43,520
ranking factor so

00:37:41,520 --> 00:37:47,040
improving these things will make your

00:37:43,520 --> 00:37:47,040
ranking a little better

00:37:47,280 --> 00:37:49,599
thanks for bringing that up i have

00:37:48,160 --> 00:37:50,320
forgotten to mention that completely we

00:37:49,599 --> 00:37:53,359
have to actually

00:37:50,320 --> 00:37:54,480
actually cut the slide so i totally

00:37:53,359 --> 00:37:55,520
forgot about it

00:37:54,480 --> 00:37:57,200
it's actually pretty important to

00:37:55,520 --> 00:37:58,320
realize that it will matter in google

00:37:57,200 --> 00:38:00,480
search

00:37:58,320 --> 00:38:01,920
uh number four chrome dev tools a nice

00:38:00,480 --> 00:38:03,200
tool to do this with we showed this

00:38:01,920 --> 00:38:04,720
before you can find all kinds of

00:38:03,200 --> 00:38:05,359
fascinating things here in chrome dev

00:38:04,720 --> 00:38:07,520
tools

00:38:05,359 --> 00:38:09,359
uh edge also has the same dev tools

00:38:07,520 --> 00:38:10,880
these days firefox has its own set of

00:38:09,359 --> 00:38:12,880
tools so to safari

00:38:10,880 --> 00:38:14,960
use your favorite browser look at your

00:38:12,880 --> 00:38:18,240
site look for large things

00:38:14,960 --> 00:38:19,200
and see what can be gotten rid of number

00:38:18,240 --> 00:38:21,680
five

00:38:19,200 --> 00:38:23,200
in chrome back to chrome dev tools again

00:38:21,680 --> 00:38:24,079
lighthouse now has a home in chrome

00:38:23,200 --> 00:38:26,320
devtools

00:38:24,079 --> 00:38:27,920
you'll go lighthouse tab over here and

00:38:26,320 --> 00:38:29,680
you can run this report

00:38:27,920 --> 00:38:31,280
thank you for showing that there it is

00:38:29,680 --> 00:38:33,839
the same report used by pagespeed

00:38:31,280 --> 00:38:36,000
insights which uses now lighthouse's api

00:38:33,839 --> 00:38:37,839
it's just it doesn't have that kind of

00:38:36,000 --> 00:38:40,240
uh real-world user data

00:38:37,839 --> 00:38:41,040
it's data measured on your machine right

00:38:40,240 --> 00:38:42,560
now

00:38:41,040 --> 00:38:44,640
so you can be testing out your site

00:38:42,560 --> 00:38:46,320
trying to improve things run lighthouse

00:38:44,640 --> 00:38:47,599
on it and you can find things you might

00:38:46,320 --> 00:38:49,760
have missed

00:38:47,599 --> 00:38:51,520
you can also next slide please use

00:38:49,760 --> 00:38:53,440
lighthouse in different kinds of ways

00:38:51,520 --> 00:38:54,880
it can be used in the command line and

00:38:53,440 --> 00:38:56,079
you can also use it for example if you

00:38:54,880 --> 00:38:58,960
continue with integration

00:38:56,079 --> 00:39:00,320
so after commit happens run lighthouse

00:38:58,960 --> 00:39:01,280
and see if there's any regressions have

00:39:00,320 --> 00:39:02,640
occurred

00:39:01,280 --> 00:39:04,079
this is kind of nice because sometimes

00:39:02,640 --> 00:39:06,000
people will just load large images on

00:39:04,079 --> 00:39:08,160
your site or someone else will just add

00:39:06,000 --> 00:39:09,119
some big tracker or something and no one

00:39:08,160 --> 00:39:10,800
notices it

00:39:09,119 --> 00:39:12,880
this case you'll actually notice it see

00:39:10,800 --> 00:39:16,320
what happened find the person

00:39:12,880 --> 00:39:18,800
and make fun of them all right

00:39:16,320 --> 00:39:20,480
also lighthouse has lighthouse stack

00:39:18,800 --> 00:39:22,960
packs which are specific

00:39:20,480 --> 00:39:24,800
uh recommendations it can give for

00:39:22,960 --> 00:39:26,079
specific frameworks or cms's

00:39:24,800 --> 00:39:28,720
there's one here for drupal the

00:39:26,079 --> 00:39:31,040
community contributed where if you have

00:39:28,720 --> 00:39:32,880
advice for a drupal site it will detect

00:39:31,040 --> 00:39:35,200
that and give you

00:39:32,880 --> 00:39:36,079
suggestions for modules or other things

00:39:35,200 --> 00:39:39,440
to improve

00:39:36,079 --> 00:39:42,079
drupal sites specifically finally

00:39:39,440 --> 00:39:43,920
my last tool over here number six is a

00:39:42,079 --> 00:39:45,839
web vitals chrome extension

00:39:43,920 --> 00:39:47,280
you can add this to chrome and it will

00:39:45,839 --> 00:39:50,079
measure these

00:39:47,280 --> 00:39:50,800
these metrics right there on your site

00:39:50,079 --> 00:39:54,240
you can also

00:39:50,800 --> 00:39:56,640
next slide please use this github

00:39:54,240 --> 00:39:58,640
library over here and use the same code

00:39:56,640 --> 00:40:00,400
from the extension in your own project

00:39:58,640 --> 00:40:01,839
so this here has all the code you need

00:40:00,400 --> 00:40:02,960
in javascript to measure these three

00:40:01,839 --> 00:40:04,160
core web vitals

00:40:02,960 --> 00:40:06,079
if you go to the next slide you can see

00:40:04,160 --> 00:40:07,119
an example how it would be used you

00:40:06,079 --> 00:40:09,359
simply would import

00:40:07,119 --> 00:40:10,960
what you want to use from the web vitals

00:40:09,359 --> 00:40:12,000
and then you could just go ahead and use

00:40:10,960 --> 00:40:15,599
get cls

00:40:12,000 --> 00:40:17,040
get fid get lcp and output the results

00:40:15,599 --> 00:40:20,079
or use it however you want to you could

00:40:17,040 --> 00:40:23,760
be reporting things back from the field

00:40:20,079 --> 00:40:26,160
whatever you want that's my

00:40:23,760 --> 00:40:27,119
core vitals bit for today thanks very

00:40:26,160 --> 00:40:29,040
much ben so

00:40:27,119 --> 00:40:30,480
that covers a lot of like how do you

00:40:29,040 --> 00:40:32,560
active actually

00:40:30,480 --> 00:40:34,079
uh objectively measure these kind of

00:40:32,560 --> 00:40:35,200
front-end performance metrics and user

00:40:34,079 --> 00:40:37,280
experience metrics that we've been

00:40:35,200 --> 00:40:39,359
talking about as being so important

00:40:37,280 --> 00:40:40,720
and going through a variety of these

00:40:39,359 --> 00:40:42,400
different tools

00:40:40,720 --> 00:40:44,000
that you can use yourself to analyze

00:40:42,400 --> 00:40:45,440
your own sites and has been said to

00:40:44,000 --> 00:40:46,640
apply them to competitor sites and

00:40:45,440 --> 00:40:48,160
things like that

00:40:46,640 --> 00:40:50,319
the next things we want to do is talk

00:40:48,160 --> 00:40:52,400
about concrete improvements that you can

00:40:50,319 --> 00:40:54,560
make today so ben is going to talk about

00:40:52,400 --> 00:40:57,200
some general cases and i'll add in some

00:40:54,560 --> 00:40:58,480
drupal specific cases as we go

00:40:57,200 --> 00:40:59,680
that affect each of these different

00:40:58,480 --> 00:41:00,400
areas that we've talked about so

00:40:59,680 --> 00:41:01,760
hopefully

00:41:00,400 --> 00:41:04,160
this will give you some things that you

00:41:01,760 --> 00:41:05,520
can take away and use and implement on

00:41:04,160 --> 00:41:07,359
your own sites

00:41:05,520 --> 00:41:08,720
or if you're a contributor to drupal

00:41:07,359 --> 00:41:10,160
they might give you some ideas about

00:41:08,720 --> 00:41:10,640
some improvements we can make in drupal

00:41:10,160 --> 00:41:12,720
core

00:41:10,640 --> 00:41:14,079
we'll talk about a few things along that

00:41:12,720 --> 00:41:17,040
front as well so

00:41:14,079 --> 00:41:17,680
hand it back to ben just to kick us off

00:41:17,040 --> 00:41:19,040
thanks

00:41:17,680 --> 00:41:20,480
we're very excited about trying to make

00:41:19,040 --> 00:41:21,680
changes to drupal core that'll make

00:41:20,480 --> 00:41:23,599
things faster by default

00:41:21,680 --> 00:41:25,520
when already has happened and there's so

00:41:23,599 --> 00:41:27,599
much potential and excitement about this

00:41:25,520 --> 00:41:29,599
it's uh it's kind of fun just to be able

00:41:27,599 --> 00:41:32,240
to watch this happen

00:41:29,599 --> 00:41:33,359
so for now things that cause poor larger

00:41:32,240 --> 00:41:35,599
content full paint

00:41:33,359 --> 00:41:37,119
of course our big resources if you yeah

00:41:35,599 --> 00:41:39,920
there we go it's nice purple

00:41:37,119 --> 00:41:40,720
boxes are going to appear there uh of

00:41:39,920 --> 00:41:42,480
course

00:41:40,720 --> 00:41:44,720
things that are large resources will

00:41:42,480 --> 00:41:47,839
load slowly so you want to avoid that

00:41:44,720 --> 00:41:49,440
images javascript css whatever so of

00:41:47,839 --> 00:41:51,599
course making things smaller

00:41:49,440 --> 00:41:52,960
is good having less things is good and

00:41:51,599 --> 00:41:54,480
then if you have to load a lot of

00:41:52,960 --> 00:41:56,800
javascript and css

00:41:54,480 --> 00:41:57,599
try to avoid loading that in the head

00:41:56,800 --> 00:41:59,760
try to defer

00:41:57,599 --> 00:42:01,760
things try to load them even as late as

00:41:59,760 --> 00:42:02,400
you can after even the load event for

00:42:01,760 --> 00:42:04,560
example

00:42:02,400 --> 00:42:07,040
you don't get really crazy about it

00:42:04,560 --> 00:42:09,040
because all those things can slow down

00:42:07,040 --> 00:42:10,800
the load some of these things in

00:42:09,040 --> 00:42:12,640
particular if you use a

00:42:10,800 --> 00:42:14,480
decoupled drupal site where drupal's

00:42:12,640 --> 00:42:16,079
acting primarily as your back end

00:42:14,480 --> 00:42:17,680
and you're using a major javascript

00:42:16,079 --> 00:42:19,359
framework as your front end

00:42:17,680 --> 00:42:21,040
um a lot of these javascript

00:42:19,359 --> 00:42:22,560
optimizations in particular may become

00:42:21,040 --> 00:42:25,920
especially important so

00:42:22,560 --> 00:42:27,760
definitely something to to watch out for

00:42:25,920 --> 00:42:29,520
for images in particular making them

00:42:27,760 --> 00:42:31,920
smaller of course is the key

00:42:29,520 --> 00:42:33,040
and this is not complex to explain

00:42:31,920 --> 00:42:35,040
images are simple

00:42:33,040 --> 00:42:36,240
choose smaller sizes for things or

00:42:35,040 --> 00:42:38,560
compress the images

00:42:36,240 --> 00:42:40,880
you can use modules like image optimize

00:42:38,560 --> 00:42:42,480
a tool that i love is called squoosh.app

00:42:40,880 --> 00:42:44,560
where you can go ahead and load up an

00:42:42,480 --> 00:42:45,200
image and then try compressing it more

00:42:44,560 --> 00:42:46,319
and more

00:42:45,200 --> 00:42:47,839
and you can see the difference between

00:42:46,319 --> 00:42:48,400
the original image and the compressed

00:42:47,839 --> 00:42:50,480
image

00:42:48,400 --> 00:42:52,560
and compare and get it so that it's

00:42:50,480 --> 00:42:54,720
smaller but it still looks

00:42:52,560 --> 00:42:56,560
basically the same i can also compress

00:42:54,720 --> 00:42:58,160
images by a factor of four and five in

00:42:56,560 --> 00:43:01,839
this case down to like 20k

00:42:58,160 --> 00:43:02,800
30k very powerful tool ease the power of

00:43:01,839 --> 00:43:04,079
webassembly

00:43:02,800 --> 00:43:06,160
to do these codecs and things right

00:43:04,079 --> 00:43:08,079
there in your browser uh

00:43:06,160 --> 00:43:09,520
also using responsive images of course

00:43:08,079 --> 00:43:10,560
helps you can have smaller images for

00:43:09,520 --> 00:43:12,240
smaller devices

00:43:10,560 --> 00:43:14,000
the responsive image module is a great

00:43:12,240 --> 00:43:16,560
name seems very appropriate

00:43:14,000 --> 00:43:17,599
and does this with you and for you and

00:43:16,560 --> 00:43:20,480
lazy loading

00:43:17,599 --> 00:43:21,520
try modules like lazy load and blazie

00:43:20,480 --> 00:43:24,640
and of course

00:43:21,520 --> 00:43:26,000
now drupal supports the uh the attribute

00:43:24,640 --> 00:43:28,079
that image tag now has

00:43:26,000 --> 00:43:29,359
to do lazy loading right there in your

00:43:28,079 --> 00:43:31,280
browser yeah

00:43:29,359 --> 00:43:32,400
absolutely so i'll talk about a couple

00:43:31,280 --> 00:43:34,800
specific things here

00:43:32,400 --> 00:43:36,800
um in drupal so one of the major

00:43:34,800 --> 00:43:37,359
innovations in the drupal 8 cycle that

00:43:36,800 --> 00:43:40,640
of course is

00:43:37,359 --> 00:43:41,040
in 8 and beyond 3 drupal 9. 9 is that we

00:43:40,640 --> 00:43:44,240
use

00:43:41,040 --> 00:43:46,319
image styles in drupal so um i would bet

00:43:44,240 --> 00:43:48,720
that a lot of the drupal sites that are

00:43:46,319 --> 00:43:50,880
in the scoreswell column of our drupal

00:43:48,720 --> 00:43:51,520
evaluation earlier are probably sites

00:43:50,880 --> 00:43:53,680
that are

00:43:51,520 --> 00:43:55,280
on these later versions of drupal in 8

00:43:53,680 --> 00:43:57,280
and beyond and that have properly

00:43:55,280 --> 00:43:59,440
implemented image styles right

00:43:57,280 --> 00:44:01,440
so using your image styles properly lets

00:43:59,440 --> 00:44:03,760
you take any of your image fields

00:44:01,440 --> 00:44:04,480
set a scale and crop factor for those

00:44:03,760 --> 00:44:06,400
images

00:44:04,480 --> 00:44:09,040
and just helps ensure that your user

00:44:06,400 --> 00:44:09,920
workflow is not going to accidentally

00:44:09,040 --> 00:44:11,920
result

00:44:09,920 --> 00:44:13,119
in someone uploading a two and a half

00:44:11,920 --> 00:44:15,760
megabyte uh

00:44:13,119 --> 00:44:17,119
hero image for a upcoming blog or

00:44:15,760 --> 00:44:19,359
something like that right

00:44:17,119 --> 00:44:20,880
so definitely define your image styles

00:44:19,359 --> 00:44:23,119
for the image fields across your top

00:44:20,880 --> 00:44:25,040
content types as best you can and there

00:44:23,119 --> 00:44:26,880
will be some places where maybe

00:44:25,040 --> 00:44:29,280
that's not as easy to do sometimes you

00:44:26,880 --> 00:44:30,160
have a a content type or an image field

00:44:29,280 --> 00:44:33,280
that's a little bit

00:44:30,160 --> 00:44:35,839
fuzzy around the edges and so

00:44:33,280 --> 00:44:37,680
you wind up leaving some unconstrained

00:44:35,839 --> 00:44:38,560
constrained styles so we'll talk about

00:44:37,680 --> 00:44:40,720
that too

00:44:38,560 --> 00:44:42,720
um we talked about optimizing uh on

00:44:40,720 --> 00:44:45,920
uploader before upload this is that

00:44:42,720 --> 00:44:47,520
um squooshdot app tool um that ben was

00:44:45,920 --> 00:44:48,960
talking about before so just to give a

00:44:47,520 --> 00:44:50,480
little bit of an example

00:44:48,960 --> 00:44:52,079
the image we're looking at is one of

00:44:50,480 --> 00:44:55,040
their sample images the

00:44:52,079 --> 00:44:56,560
base image is a 1.6 megabyte image and

00:44:55,040 --> 00:44:57,119
you can see some comparisons of

00:44:56,560 --> 00:44:59,839
different

00:44:57,119 --> 00:45:00,960
uh alternative formats and quality

00:44:59,839 --> 00:45:02,640
settings

00:45:00,960 --> 00:45:05,200
you notice that on the left hand side of

00:45:02,640 --> 00:45:07,280
this example screen is using the avif

00:45:05,200 --> 00:45:08,800
format so that 1.6 megabyte image

00:45:07,280 --> 00:45:11,599
becomes 90 kilobytes

00:45:08,800 --> 00:45:13,760
94 percent smaller you can also see it

00:45:11,599 --> 00:45:16,560
in a traditional jpeg format

00:45:13,760 --> 00:45:17,599
which is 88 percent smaller so format

00:45:16,560 --> 00:45:20,160
choice

00:45:17,599 --> 00:45:21,839
webp is of course another great choice

00:45:20,160 --> 00:45:23,040
and checking your scaling factor and

00:45:21,839 --> 00:45:26,720
things

00:45:23,040 --> 00:45:29,839
is awesome as well finally lazy load so

00:45:26,720 --> 00:45:31,359
um as ben mentioned and something we

00:45:29,839 --> 00:45:33,440
want to celebrate we'll talk about it

00:45:31,359 --> 00:45:36,720
slightly further in the presentation

00:45:33,440 --> 00:45:39,359
in drupal 9.1 we've managed to commit

00:45:36,720 --> 00:45:41,359
lazy load by default for images added

00:45:39,359 --> 00:45:44,240
whether it's with the issy wysiwyg

00:45:41,359 --> 00:45:45,760
image api all of those things they have

00:45:44,240 --> 00:45:48,560
the default

00:45:45,760 --> 00:45:49,760
lazy loading html attribute so that's

00:45:48,560 --> 00:45:52,160
going to be there for you

00:45:49,760 --> 00:45:53,280
if you're upgraded through drupal 9.1

00:45:52,160 --> 00:45:56,240
and beyond

00:45:53,280 --> 00:45:58,240
upon release in december but if you

00:45:56,240 --> 00:45:59,440
happen to still be on drupal 7 or if

00:45:58,240 --> 00:46:00,000
you're on older versions of eight if

00:45:59,440 --> 00:46:01,760
that

00:46:00,000 --> 00:46:03,280
upgrade is going to be a while away

00:46:01,760 --> 00:46:04,880
definitely take a look at some of the

00:46:03,280 --> 00:46:06,560
lazy load options in kutrip so there's

00:46:04,880 --> 00:46:08,880
lazy load there's blazie

00:46:06,560 --> 00:46:10,800
there's a few they give you a variety of

00:46:08,880 --> 00:46:12,079
additional choices you can enable for

00:46:10,800 --> 00:46:13,839
certain kinds of tags

00:46:12,079 --> 00:46:16,560
again you can set settings on a per

00:46:13,839 --> 00:46:17,040
field basis in your drupal content types

00:46:16,560 --> 00:46:18,640
so

00:46:17,040 --> 00:46:20,079
it's definitely worth the investment to

00:46:18,640 --> 00:46:22,400
try and

00:46:20,079 --> 00:46:23,920
stop that image render blocking kind of

00:46:22,400 --> 00:46:25,200
thing that happens with these very large

00:46:23,920 --> 00:46:27,040
images

00:46:25,200 --> 00:46:28,880
and get things all set up and use

00:46:27,040 --> 00:46:30,240
responsive images as well so that's

00:46:28,880 --> 00:46:33,520
probably the number one impact

00:46:30,240 --> 00:46:36,800
area and one of the easiest to implement

00:46:33,520 --> 00:46:38,400
um so ben let's talk about js and css

00:46:36,800 --> 00:46:40,800
yeah for drop shipping and css it really

00:46:38,400 --> 00:46:42,319
is the same idea as images honestly you

00:46:40,800 --> 00:46:44,000
want to have less of these things

00:46:42,319 --> 00:46:45,680
and make them smaller techniques

00:46:44,000 --> 00:46:48,000
involved of course are different

00:46:45,680 --> 00:46:48,800
than images but compressing it is still

00:46:48,000 --> 00:46:50,880
a thing

00:46:48,800 --> 00:46:52,800
and a minification should always be done

00:46:50,880 --> 00:46:54,160
all those wonderful comments in the code

00:46:52,800 --> 00:46:56,960
and copyright notices

00:46:54,160 --> 00:46:58,000
and 20 character property names can all

00:46:56,960 --> 00:46:59,760
be shortened

00:46:58,000 --> 00:47:01,200
also important by using the cms to make

00:46:59,760 --> 00:47:03,200
sure that your modules

00:47:01,200 --> 00:47:05,040
don't really apply their javascript and

00:47:03,200 --> 00:47:06,800
their css every page on your site

00:47:05,040 --> 00:47:08,240
just pages where they're used i've seen

00:47:06,800 --> 00:47:09,760
lots of pages out there on the web

00:47:08,240 --> 00:47:11,680
wordpress sites where they're like a

00:47:09,760 --> 00:47:13,680
very large like recaptcha

00:47:11,680 --> 00:47:15,040
javascript on every page in the site or

00:47:13,680 --> 00:47:16,880
e-commerce things are everywhere when

00:47:15,040 --> 00:47:18,880
they don't need to be everywhere

00:47:16,880 --> 00:47:20,319
so loading them later also was good

00:47:18,880 --> 00:47:22,480
async can defer

00:47:20,319 --> 00:47:23,680
help to a certain extent i did see when

00:47:22,480 --> 00:47:25,200
i looked at the drupal site there

00:47:23,680 --> 00:47:27,440
although things were often loaded

00:47:25,200 --> 00:47:28,800
with defer the browsers didn't differ

00:47:27,440 --> 00:47:29,760
that much anyway so it doesn't always

00:47:28,800 --> 00:47:31,839
help that much

00:47:29,760 --> 00:47:33,280
better will defer to a certain extent

00:47:31,839 --> 00:47:35,440
but letting things really last

00:47:33,280 --> 00:47:36,400
requires javascript to be adding scripts

00:47:35,440 --> 00:47:39,520
to the

00:47:36,400 --> 00:47:41,680
dom specifically yeah so

00:47:39,520 --> 00:47:43,280
um there's lots good here and of course

00:47:41,680 --> 00:47:44,880
you know depending on what modules

00:47:43,280 --> 00:47:46,640
you're using you may not have the

00:47:44,880 --> 00:47:48,800
greatest control about how the module

00:47:46,640 --> 00:47:51,599
maintainer implemented their javascript

00:47:48,800 --> 00:47:52,720
however i do know that um you know we do

00:47:51,599 --> 00:47:54,640
have a lot of

00:47:52,720 --> 00:47:56,240
performance minded developers in our

00:47:54,640 --> 00:47:56,720
community so when you look around a

00:47:56,240 --> 00:47:59,040
little bit

00:47:56,720 --> 00:47:59,920
and and are first evaluating modules

00:47:59,040 --> 00:48:02,000
that might be one

00:47:59,920 --> 00:48:04,079
one of the criteria that you're looking

00:48:02,000 --> 00:48:06,240
for um is how they're handling any

00:48:04,079 --> 00:48:07,440
javascript that they might be using so

00:48:06,240 --> 00:48:09,520
there's some things that you can do in

00:48:07,440 --> 00:48:10,720
drupal as well of course that are

00:48:09,520 --> 00:48:13,760
already there

00:48:10,720 --> 00:48:15,040
drupal core already has uh aggregation

00:48:13,760 --> 00:48:16,319
built in so there's an aggregation

00:48:15,040 --> 00:48:18,319
function that you can just flip on for

00:48:16,319 --> 00:48:20,559
css and javascript

00:48:18,319 --> 00:48:22,000
there should hopefully be no reason that

00:48:20,559 --> 00:48:24,000
you need to turn that

00:48:22,000 --> 00:48:25,520
turn that off so i would go and check

00:48:24,000 --> 00:48:26,160
and and make sure that you've got that

00:48:25,520 --> 00:48:27,839
going

00:48:26,160 --> 00:48:29,280
um in almost all cases it shouldn't

00:48:27,839 --> 00:48:31,119
cause any trouble with what you're doing

00:48:29,280 --> 00:48:33,119
and should just make things faster

00:48:31,119 --> 00:48:35,280
um there's also some advanced options in

00:48:33,119 --> 00:48:38,319
the contrib space so

00:48:35,280 --> 00:48:41,440
advanced ag the advanced tag project

00:48:38,319 --> 00:48:43,119
has a variety of more sophisticated

00:48:41,440 --> 00:48:45,200
aggregation tools that make things

00:48:43,119 --> 00:48:46,480
even faster you can see on this project

00:48:45,200 --> 00:48:47,119
page there's actually a chart that we'll

00:48:46,480 --> 00:48:49,040
look at again

00:48:47,119 --> 00:48:50,960
slightly later that talks about the

00:48:49,040 --> 00:48:52,960
difference between no aggregation

00:48:50,960 --> 00:48:54,480
cores aggregation function and then the

00:48:52,960 --> 00:48:55,680
aggregation that you can get using this

00:48:54,480 --> 00:48:58,400
module

00:48:55,680 --> 00:49:00,400
and this is available in seven and eight

00:48:58,400 --> 00:49:02,720
compatible in eight and nine and it has

00:49:00,400 --> 00:49:03,599
multiple different layers of aggregation

00:49:02,720 --> 00:49:05,200
tools so

00:49:03,599 --> 00:49:06,319
some of them you can kind of pick and

00:49:05,200 --> 00:49:07,599
choose what's going to work best for

00:49:06,319 --> 00:49:09,280
your particular use case

00:49:07,599 --> 00:49:11,200
it does in my experience we use this on

00:49:09,280 --> 00:49:12,079
drupal.org it does take a little bit

00:49:11,200 --> 00:49:15,119
more

00:49:12,079 --> 00:49:16,880
testing to just make sure that you

00:49:15,119 --> 00:49:18,559
haven't accidentally munged some of your

00:49:16,880 --> 00:49:19,359
js together in a bad way or something

00:49:18,559 --> 00:49:22,480
like that

00:49:19,359 --> 00:49:24,319
but um it's generally a really good tool

00:49:22,480 --> 00:49:26,000
um that can that can make a big

00:49:24,319 --> 00:49:28,319
difference as well and relatively easy

00:49:26,000 --> 00:49:31,520
to get started with

00:49:28,319 --> 00:49:34,079
um so ben what about um interactive

00:49:31,520 --> 00:49:35,440
interaction delay learning kind of long

00:49:34,079 --> 00:49:36,079
so i'll talk about these things very

00:49:35,440 --> 00:49:38,079
briefly

00:49:36,079 --> 00:49:40,480
the first input delay yeah it's

00:49:38,079 --> 00:49:41,520
basically long tasks in javascript

00:49:40,480 --> 00:49:43,520
and things that take a long time to

00:49:41,520 --> 00:49:44,880
execute in general and things that are

00:49:43,520 --> 00:49:48,160
just executing and

00:49:44,880 --> 00:49:50,720
making things slower so for these things

00:49:48,160 --> 00:49:52,559
you can look at chrome dev tools for

00:49:50,720 --> 00:49:54,240
example at that performance panel

00:49:52,559 --> 00:49:55,839
and you can actually see there i haven't

00:49:54,240 --> 00:49:57,599
shown you this but you can see

00:49:55,839 --> 00:49:58,880
or dropship is executing and then when

00:49:57,599 --> 00:50:00,319
things take longer than

00:49:58,880 --> 00:50:02,559
you know 50 milliseconds 100

00:50:00,319 --> 00:50:04,319
milliseconds split those things up

00:50:02,559 --> 00:50:05,680
or wonder if they're actually important

00:50:04,319 --> 00:50:08,559
to have their at all

00:50:05,680 --> 00:50:09,760
and make them slower again the browser

00:50:08,559 --> 00:50:12,079
is single threaded

00:50:09,760 --> 00:50:14,160
for each tab so your javascript can

00:50:12,079 --> 00:50:15,839
block the browser from doing anything

00:50:14,160 --> 00:50:19,040
or from responding to other user events

00:50:15,839 --> 00:50:21,119
with other event handlers

00:50:19,040 --> 00:50:22,400
the next page over here cumulative

00:50:21,119 --> 00:50:24,720
layout shift

00:50:22,400 --> 00:50:27,040
they're usually our cause by injecting

00:50:24,720 --> 00:50:29,040
content dynamically like on the fly

00:50:27,040 --> 00:50:30,720
or by things that have no dimensions

00:50:29,040 --> 00:50:31,760
attached so if the browser doesn't know

00:50:30,720 --> 00:50:33,760
how big things are

00:50:31,760 --> 00:50:34,960
it can't reserve space for the thing and

00:50:33,760 --> 00:50:37,280
it will have to make

00:50:34,960 --> 00:50:38,480
the layout shift around as things load

00:50:37,280 --> 00:50:40,880
which also of course

00:50:38,480 --> 00:50:42,240
slows things down as i also recalculated

00:50:40,880 --> 00:50:44,880
and painting has been done

00:50:42,240 --> 00:50:46,240
all over again yeah the next slide over

00:50:44,880 --> 00:50:49,040
here oh sorry go ahead

00:50:46,240 --> 00:50:49,920
oh no please continue and of course web

00:50:49,040 --> 00:50:51,359
fonts also

00:50:49,920 --> 00:50:53,040
fonts are loading and things don't

00:50:51,359 --> 00:50:56,880
display until the fonts actually

00:50:53,040 --> 00:50:56,880
are loaded that can be slow too

00:50:57,200 --> 00:51:00,480
so back in the olden days the best

00:50:58,800 --> 00:51:01,760
practice was to specify width and height

00:51:00,480 --> 00:51:03,040
for everything because then the browser

00:51:01,760 --> 00:51:05,200
knew the size of everything

00:51:03,040 --> 00:51:06,640
it could leave space for it as it loaded

00:51:05,200 --> 00:51:08,720
and that was all great

00:51:06,640 --> 00:51:10,480
then responsive design became a thing

00:51:08,720 --> 00:51:12,400
and now we often just say well

00:51:10,480 --> 00:51:13,839
fit it in the container and then we're

00:51:12,400 --> 00:51:15,599
all done and the browser says

00:51:13,839 --> 00:51:17,280
i don't know how big this is gonna be so

00:51:15,599 --> 00:51:18,319
i can't leave space for it and it's just

00:51:17,280 --> 00:51:19,920
guessing

00:51:18,319 --> 00:51:22,240
the best thing to do now is specify the

00:51:19,920 --> 00:51:23,520
aspect ratio and that way once the

00:51:22,240 --> 00:51:25,520
browser actually knows

00:51:23,520 --> 00:51:27,200
the width or the height and calculate

00:51:25,520 --> 00:51:29,599
the other one and it can leave

00:51:27,200 --> 00:51:30,480
enough space for your image and that

00:51:29,599 --> 00:51:34,079
makes content

00:51:30,480 --> 00:51:35,200
layout shift better or you can use

00:51:34,079 --> 00:51:37,040
things like amp

00:51:35,200 --> 00:51:38,240
part of the way that amp is built is

00:51:37,040 --> 00:51:39,359
that it makes you leave space for

00:51:38,240 --> 00:51:40,720
everything in advance

00:51:39,359 --> 00:51:42,240
if you're using valid amp you're

00:51:40,720 --> 00:51:43,119
required to specify height and width for

00:51:42,240 --> 00:51:45,359
everything

00:51:43,119 --> 00:51:46,960
so amp has very little cumulative layout

00:51:45,359 --> 00:51:49,599
shift because for every object

00:51:46,960 --> 00:51:51,200
even if it's like a component or a video

00:51:49,599 --> 00:51:53,280
space is reserved for it

00:51:51,200 --> 00:51:54,240
and things load in and they pop into

00:51:53,280 --> 00:51:56,800
their spaces

00:51:54,240 --> 00:51:58,559
and has a nice kind of smooth loading

00:51:56,800 --> 00:52:01,440
experience

00:51:58,559 --> 00:52:02,960
now amp support and drupal is okay

00:52:01,440 --> 00:52:04,400
there's a module for it but hasn't the

00:52:02,960 --> 00:52:05,040
work done i think that much for a little

00:52:04,400 --> 00:52:06,400
while

00:52:05,040 --> 00:52:08,400
we're processing most of the work

00:52:06,400 --> 00:52:10,720
because people just figured wordpress is

00:52:08,400 --> 00:52:11,440
this big cms it should have a good amp

00:52:10,720 --> 00:52:14,880
support

00:52:11,440 --> 00:52:16,240
so the amp um the amp module there

00:52:14,880 --> 00:52:18,319
i guess the amp plugin there they're

00:52:16,240 --> 00:52:20,319
called has worked on for a while does

00:52:18,319 --> 00:52:22,559
all kinds of complicated things it does

00:52:20,319 --> 00:52:24,160
tree shakings makes css smaller has

00:52:22,559 --> 00:52:26,400
massive support

00:52:24,160 --> 00:52:27,200
there's actually a project here as part

00:52:26,400 --> 00:52:30,559
of this

00:52:27,200 --> 00:52:31,040
wordpress and amp plugin to make it so

00:52:30,559 --> 00:52:33,359
that the

00:52:31,040 --> 00:52:34,480
guts of this can be used in any cms to

00:52:33,359 --> 00:52:35,280
take the parts that are not wordpress

00:52:34,480 --> 00:52:37,520
specific

00:52:35,280 --> 00:52:40,000
like the tree shaker for example and to

00:52:37,520 --> 00:52:41,280
make those usable by any php cms

00:52:40,000 --> 00:52:42,800
if you're curious about this work you're

00:52:41,280 --> 00:52:43,920
helping out with the work check out this

00:52:42,800 --> 00:52:47,680
github issue

00:52:43,920 --> 00:52:49,680
this work is ongoing right now awesome

00:52:47,680 --> 00:52:51,440
so i'm gonna talk about some drupal

00:52:49,680 --> 00:52:52,880
specific optimizations you can do around

00:52:51,440 --> 00:52:55,280
this that are really helpful

00:52:52,880 --> 00:52:56,720
so um we are low on time we're gonna

00:52:55,280 --> 00:52:58,160
we're gonna go ahead and run long so

00:52:56,720 --> 00:53:00,240
that we can answer some questions as

00:52:58,160 --> 00:53:01,760
well and get through all of our content

00:53:00,240 --> 00:53:03,680
hopefully you can stick around with us

00:53:01,760 --> 00:53:05,200
if you do have questions um

00:53:03,680 --> 00:53:06,800
and hopefully we don't run too too long

00:53:05,200 --> 00:53:09,040
but i'll dive right in here so

00:53:06,800 --> 00:53:10,960
one that i wanted to throw in we briefly

00:53:09,040 --> 00:53:13,359
touched on early in this conversation

00:53:10,960 --> 00:53:14,400
some of the http header stuff and i

00:53:13,359 --> 00:53:17,119
wanted to mention

00:53:14,400 --> 00:53:18,880
um a certain open source project founder

00:53:17,119 --> 00:53:21,119
named dries who you might have heard of

00:53:18,880 --> 00:53:23,599
he did this little cms called drupal

00:53:21,119 --> 00:53:24,880
um has he has one other little open

00:53:23,599 --> 00:53:26,720
source project that he did much more

00:53:24,880 --> 00:53:27,839
recently which is an http headers

00:53:26,720 --> 00:53:29,280
analyzer

00:53:27,839 --> 00:53:31,599
and so this is just another tool that

00:53:29,280 --> 00:53:32,880
you can use it will take anything this

00:53:31,599 --> 00:53:36,400
is like an example from

00:53:32,880 --> 00:53:37,440
cnn.com that will go from your origin

00:53:36,400 --> 00:53:39,359
through to the browser

00:53:37,440 --> 00:53:40,640
look at header controls provide

00:53:39,359 --> 00:53:43,920
explanations of

00:53:40,640 --> 00:53:46,160
issues that might exist in your http

00:53:43,920 --> 00:53:47,440
header sort of situation

00:53:46,160 --> 00:53:48,480
so that's something that you might try

00:53:47,440 --> 00:53:49,680
out just on that side of the

00:53:48,480 --> 00:53:51,440
optimization path

00:53:49,680 --> 00:53:53,200
i'd also like to talk about the dynamic

00:53:51,440 --> 00:53:54,559
page cache and big pipe we've had a

00:53:53,200 --> 00:53:56,160
little bit of conversation about this

00:53:54,559 --> 00:53:58,960
going on in the chat window

00:53:56,160 --> 00:53:59,520
that i want to add to a little bit so um

00:53:58,960 --> 00:54:01,280
in

00:53:59,520 --> 00:54:03,599
drupal 8 there was a big initiative to

00:54:01,280 --> 00:54:06,640
create this dynamic pagecast system and

00:54:03,599 --> 00:54:10,240
to create the big pipe rendering method

00:54:06,640 --> 00:54:13,680
what it roughly boils down to is

00:54:10,240 --> 00:54:15,359
there is an auto placeholdering system

00:54:13,680 --> 00:54:18,079
which can relate very closely to this

00:54:15,359 --> 00:54:21,440
conversation about content layout shift

00:54:18,079 --> 00:54:23,280
effectively using cache contexts or

00:54:21,440 --> 00:54:24,640
cache tags within the way that drupal's

00:54:23,280 --> 00:54:27,440
rendering works

00:54:24,640 --> 00:54:29,040
we can identify elements of a page to

00:54:27,440 --> 00:54:30,400
cache separately from the whole page

00:54:29,040 --> 00:54:32,480
based on what they are

00:54:30,400 --> 00:54:34,160
and we can auto placeholder those

00:54:32,480 --> 00:54:36,640
elements as part of sort of

00:54:34,160 --> 00:54:38,000
a lazy loading sort of style now

00:54:36,640 --> 00:54:40,640
depending on how it's done

00:54:38,000 --> 00:54:42,079
and how your contents built if your auto

00:54:40,640 --> 00:54:43,920
placeholders are getting defined with

00:54:42,079 --> 00:54:45,280
the proper dimensions it can prevent

00:54:43,920 --> 00:54:46,640
content layout shift

00:54:45,280 --> 00:54:48,400
if they're not being defined with proper

00:54:46,640 --> 00:54:49,920
dimensions it can cause content layout

00:54:48,400 --> 00:54:52,079
shift but it's something to look at how

00:54:49,920 --> 00:54:53,119
you're using and certainly definitely a

00:54:52,079 --> 00:54:55,040
really powerful

00:54:53,119 --> 00:54:56,720
performance tool that's been built in

00:54:55,040 --> 00:54:58,559
since drupal 8.

00:54:56,720 --> 00:55:00,240
so something to look at there's more

00:54:58,559 --> 00:55:01,839
documentation of course in the drupal

00:55:00,240 --> 00:55:05,359
core documentation

00:55:01,839 --> 00:55:07,040
about drupal.org you can also

00:55:05,359 --> 00:55:08,799
customize this yourself so those same

00:55:07,040 --> 00:55:10,720
cache contexts that are used for auto

00:55:08,799 --> 00:55:13,200
placeholdering and things like that

00:55:10,720 --> 00:55:14,319
you can use for say some kind of view

00:55:13,200 --> 00:55:15,359
that you've written for data

00:55:14,319 --> 00:55:18,160
visualization

00:55:15,359 --> 00:55:20,000
or some custom level sort of application

00:55:18,160 --> 00:55:21,839
layer based on your own content types or

00:55:20,000 --> 00:55:25,119
your own integrations

00:55:21,839 --> 00:55:26,799
that maybe the core auto placeholder and

00:55:25,119 --> 00:55:27,440
dynamic page cache doesn't know how to

00:55:26,799 --> 00:55:29,680
handle

00:55:27,440 --> 00:55:31,200
but you can apply some new rules too so

00:55:29,680 --> 00:55:33,359
something to look at because i'm sure if

00:55:31,200 --> 00:55:36,720
anyone's added sort of a

00:55:33,359 --> 00:55:38,400
beyond the normal use case layer

00:55:36,720 --> 00:55:40,160
you'll definitely want to to look at

00:55:38,400 --> 00:55:42,240
what else you can do with cache context

00:55:40,160 --> 00:55:43,839
to continue taking advantage of that

00:55:42,240 --> 00:55:46,640
page cache and placeholdering

00:55:43,839 --> 00:55:48,799
functionality in drupalcore

00:55:46,640 --> 00:55:50,240
you'll also of course i won't say much

00:55:48,799 --> 00:55:50,799
about this you'll want to look at your

00:55:50,240 --> 00:55:52,319
cdn

00:55:50,799 --> 00:55:54,240
implementation especially if you don't

00:55:52,319 --> 00:55:56,079
have one at all and

00:55:54,240 --> 00:55:58,640
when it comes to looking at cdns i would

00:55:56,079 --> 00:56:00,960
suggest looking at ones with

00:55:58,640 --> 00:56:02,000
varnish configuration built into them or

00:56:00,960 --> 00:56:04,319
other kinds of edge

00:56:02,000 --> 00:56:05,440
logic that you can use whether you're

00:56:04,319 --> 00:56:07,359
doing something like

00:56:05,440 --> 00:56:10,000
image optimization at the edge or other

00:56:07,359 --> 00:56:11,839
kinds of clever things that you can do

00:56:10,000 --> 00:56:13,839
so you can do that with like google

00:56:11,839 --> 00:56:15,040
cloud cdn has the possibility of varnish

00:56:13,839 --> 00:56:16,640
configuration modules

00:56:15,040 --> 00:56:18,400
there's varnish configuration built into

00:56:16,640 --> 00:56:19,920
fastly into section i o

00:56:18,400 --> 00:56:21,440
into a number of other providers so it's

00:56:19,920 --> 00:56:24,000
just something to check out

00:56:21,440 --> 00:56:24,720
um so that you can implement some edge

00:56:24,000 --> 00:56:27,920
logic

00:56:24,720 --> 00:56:29,599
which can also be a clever way to manage

00:56:27,920 --> 00:56:32,960
some of these issues

00:56:29,599 --> 00:56:34,559
so now i'd like to talk about being more

00:56:32,960 --> 00:56:36,240
performed by default default

00:56:34,559 --> 00:56:37,760
in drupal some initiatives or at least

00:56:36,240 --> 00:56:39,280
some things that we could throw out to

00:56:37,760 --> 00:56:41,520
think about

00:56:39,280 --> 00:56:43,520
for the future of drupal whether it's in

00:56:41,520 --> 00:56:45,359
core or areas of contrib

00:56:43,520 --> 00:56:46,960
or even just changes in configuration of

00:56:45,359 --> 00:56:48,559
what we're already doing in core

00:56:46,960 --> 00:56:50,400
and these are just some ideas they go

00:56:48,559 --> 00:56:52,000
along with other performance initiatives

00:56:50,400 --> 00:56:53,599
that have been proposed by people in the

00:56:52,000 --> 00:56:54,240
community and perhaps some ideas that

00:56:53,599 --> 00:56:55,760
you have

00:56:54,240 --> 00:56:57,520
but i hope we can talk about them at

00:56:55,760 --> 00:56:58,240
upcoming events like drupalcon europe

00:56:57,520 --> 00:57:00,799
and other places

00:56:58,240 --> 00:57:02,000
so um when it comes to optimizing images

00:57:00,799 --> 00:57:02,960
what are some things that we could do

00:57:02,000 --> 00:57:05,760
around that

00:57:02,960 --> 00:57:07,200
um for the future of drupal um well one

00:57:05,760 --> 00:57:08,480
of them we've already done we've talked

00:57:07,200 --> 00:57:10,240
about this earlier in the in the

00:57:08,480 --> 00:57:11,440
presentation and we've been celebrating

00:57:10,240 --> 00:57:13,839
it since it happened

00:57:11,440 --> 00:57:16,000
we managed to get uh lazy loading of all

00:57:13,839 --> 00:57:17,440
image by default committed to drupal 91

00:57:16,000 --> 00:57:18,640
for release in december it's really

00:57:17,440 --> 00:57:19,920
exciting it's going to make sights

00:57:18,640 --> 00:57:22,000
faster for everyone

00:57:19,920 --> 00:57:23,200
and it was a great collaboration i think

00:57:22,000 --> 00:57:24,799
between ben myself

00:57:23,200 --> 00:57:27,200
other people in drupal other people at

00:57:24,799 --> 00:57:29,200
google to say well how could we find one

00:57:27,200 --> 00:57:31,119
of these low-hanging fruit items

00:57:29,200 --> 00:57:32,559
and just make it easier right even

00:57:31,119 --> 00:57:34,000
better than having

00:57:32,559 --> 00:57:35,599
an easy step-by-step guide to

00:57:34,000 --> 00:57:36,559
performance improvements is having them

00:57:35,599 --> 00:57:38,559
just done for you

00:57:36,559 --> 00:57:40,160
once you get to that version so we're

00:57:38,559 --> 00:57:41,760
looking for wins like that

00:57:40,160 --> 00:57:44,160
um another thing i think this is pretty

00:57:41,760 --> 00:57:45,599
key i mean this is a if you're a

00:57:44,160 --> 00:57:46,640
advanced triple developer you'll know

00:57:45,599 --> 00:57:48,880
about these things you'll know which

00:57:46,640 --> 00:57:50,240
modules to incorporate and which ways to

00:57:48,880 --> 00:57:51,760
you know tweak your own javascript to

00:57:50,240 --> 00:57:53,760
make these things happen yourself

00:57:51,760 --> 00:57:54,960
but changing it for all users of drupal

00:57:53,760 --> 00:57:57,040
is so powerful

00:57:54,960 --> 00:57:58,559
and we've got some ideas beyond this but

00:57:57,040 --> 00:57:59,440
also will make it so everyone by default

00:57:58,559 --> 00:58:01,839
will get these

00:57:59,440 --> 00:58:02,799
things just by using drupal yeah exactly

00:58:01,839 --> 00:58:04,480
and i think it'll

00:58:02,799 --> 00:58:05,839
not only does it improve drupal's

00:58:04,480 --> 00:58:07,599
reputation in the market

00:58:05,839 --> 00:58:09,599
it's a win for the the notion of the

00:58:07,599 --> 00:58:12,960
open web right if we want

00:58:09,599 --> 00:58:15,760
um actual open source based um

00:58:12,960 --> 00:58:16,319
you know public square web pages to

00:58:15,760 --> 00:58:18,240
compete

00:58:16,319 --> 00:58:20,720
with the kind of walled garden

00:58:18,240 --> 00:58:23,119
ecosystems of your sort of

00:58:20,720 --> 00:58:24,799
facebook marketplace pages and and other

00:58:23,119 --> 00:58:25,839
kinds of things right they need to share

00:58:24,799 --> 00:58:27,599
the level of

00:58:25,839 --> 00:58:29,520
quality of user experience when it comes

00:58:27,599 --> 00:58:30,559
to interactive design fast loading fast

00:58:29,520 --> 00:58:33,280
interaction

00:58:30,559 --> 00:58:35,040
so things like this would be great um so

00:58:33,280 --> 00:58:36,240
this has also been a conversation on

00:58:35,040 --> 00:58:39,440
going here in the chat

00:58:36,240 --> 00:58:41,119
um about looking at avif's support so

00:58:39,440 --> 00:58:42,559
a quick heads up for people who might

00:58:41,119 --> 00:58:45,040
not know about it

00:58:42,559 --> 00:58:45,839
a consortium of folks came together to

00:58:45,040 --> 00:58:47,839
kind of define

00:58:45,839 --> 00:58:50,000
what the avid file format would be

00:58:47,839 --> 00:58:52,480
netflix was actually one of the um

00:58:50,000 --> 00:58:53,920
like core people in that group because

00:58:52,480 --> 00:58:55,599
they have all those thumbnails of all

00:58:53,920 --> 00:58:56,079
those tv shows that we're all watching

00:58:55,599 --> 00:58:58,640
during

00:58:56,079 --> 00:58:59,839
uh during the lockdown that they want to

00:58:58,640 --> 00:59:01,839
try and optimize

00:58:59,839 --> 00:59:03,920
so just as a quick comparison on the

00:59:01,839 --> 00:59:05,760
left and the right we see the same image

00:59:03,920 --> 00:59:06,799
but on the left it is using jpeg

00:59:05,760 --> 00:59:10,160
compression

00:59:06,799 --> 00:59:11,359
it's almost 14 kilobytes in total

00:59:10,160 --> 00:59:13,599
and it looks pretty awful the

00:59:11,359 --> 00:59:16,160
artifacting compression is terrible

00:59:13,599 --> 00:59:18,000
on the right we have an avif example it

00:59:16,160 --> 00:59:19,520
looks much much better i'm still blowing

00:59:18,000 --> 00:59:21,680
up probably a little bit bigger than it

00:59:19,520 --> 00:59:24,400
needs to be but it's only four kilobytes

00:59:21,680 --> 00:59:27,520
and the quality is massively improved

00:59:24,400 --> 00:59:28,319
now avif is not totally immediately

00:59:27,520 --> 00:59:32,000
ready to go

00:59:28,319 --> 00:59:33,920
so ben is starting to work on this um

00:59:32,000 --> 00:59:35,040
there's an issue in github about av

00:59:33,920 --> 00:59:36,960
support do you want to say a few words

00:59:35,040 --> 00:59:38,559
about this ben

00:59:36,960 --> 00:59:40,240
yeah we could use your help i've begun

00:59:38,559 --> 00:59:42,480
looking at this but i just started

00:59:40,240 --> 00:59:45,440
looking at it you know last week

00:59:42,480 --> 00:59:45,839
and need some need some work but once

00:59:45,440 --> 00:59:48,319
this

00:59:45,839 --> 00:59:51,040
one's actually this exists in gd then

00:59:48,319 --> 00:59:52,799
other php based cms's can inherit it

00:59:51,040 --> 00:59:54,559
so image magic is also used by wordpress

00:59:52,799 --> 00:59:57,599
for example but you know

00:59:54,559 --> 01:00:00,160
joomla other cms's that use gb can also

00:59:57,599 --> 01:00:01,200
inherit this af support and it is quite

01:00:00,160 --> 01:00:03,440
a game changer

01:00:01,200 --> 01:00:05,119
if you go to squish that app and try

01:00:03,440 --> 01:00:06,960
compressing an image with avif

01:00:05,119 --> 01:00:08,400
it's surprising how good it looks at

01:00:06,960 --> 01:00:11,119
such a small

01:00:08,400 --> 01:00:11,599
size yeah it's really very impressive

01:00:11,119 --> 01:00:12,880
and

01:00:11,599 --> 01:00:14,480
you know this is one of those great

01:00:12,880 --> 01:00:16,960
opportunities where if we can find some

01:00:14,480 --> 01:00:19,040
collaborators who want to work in libgb

01:00:16,960 --> 01:00:20,319
again we can make the web better not

01:00:19,040 --> 01:00:22,559
just for drupal but

01:00:20,319 --> 01:00:24,400
for all of these different cms's that

01:00:22,559 --> 01:00:26,079
use it so

01:00:24,400 --> 01:00:28,000
another proposal that i'm going to

01:00:26,079 --> 01:00:31,920
paraphrase really quickly um this

01:00:28,000 --> 01:00:34,319
comes from uh fabian x fabian franz

01:00:31,920 --> 01:00:36,160
is handling of above the fold elements

01:00:34,319 --> 01:00:37,839
and this is or or really the handling of

01:00:36,160 --> 01:00:40,880
the below the fold elements

01:00:37,839 --> 01:00:42,000
and this is a proposal that um really

01:00:40,880 --> 01:00:43,920
will take some thinking

01:00:42,000 --> 01:00:46,240
and some more collaboration to

01:00:43,920 --> 01:00:49,599
understand what kind of direction to go

01:00:46,240 --> 01:00:51,599
but the idea is to enable us to define

01:00:49,599 --> 01:00:53,119
the content that is the truly important

01:00:51,599 --> 01:00:55,599
above the fold content

01:00:53,119 --> 01:00:58,400
versus defining the below the fold

01:00:55,599 --> 01:01:00,559
content and doing so semantically

01:00:58,400 --> 01:01:02,160
in the best case scenario using some new

01:01:00,559 --> 01:01:03,599
web standard it's not something drupal

01:01:02,160 --> 01:01:06,160
specific but

01:01:03,599 --> 01:01:06,799
however we can do that so that not just

01:01:06,160 --> 01:01:08,720
images

01:01:06,799 --> 01:01:10,079
and certain script content can be lazy

01:01:08,720 --> 01:01:12,400
loaded

01:01:10,079 --> 01:01:13,520
but that we can have the entire page

01:01:12,400 --> 01:01:16,640
contents

01:01:13,520 --> 01:01:17,839
of the render area below the fold load

01:01:16,640 --> 01:01:20,079
in lazily so

01:01:17,839 --> 01:01:21,599
there's a few ideas about how to do this

01:01:20,079 --> 01:01:23,599
fabian has a whole sort of

01:01:21,599 --> 01:01:25,040
sort of proposal worked up so this is

01:01:23,599 --> 01:01:26,960
kind of a teaser it's hopefully

01:01:25,040 --> 01:01:28,799
something that we can talk about more

01:01:26,960 --> 01:01:30,160
but if you're interested in the concept

01:01:28,799 --> 01:01:32,319
of

01:01:30,160 --> 01:01:34,559
using sort of a semantic attribute to

01:01:32,319 --> 01:01:35,839
define below the fold content and then

01:01:34,559 --> 01:01:38,480
kind of a no script

01:01:35,839 --> 01:01:39,440
javascript load option to to lazy load

01:01:38,480 --> 01:01:40,720
everything

01:01:39,440 --> 01:01:42,960
um i think there's some cool

01:01:40,720 --> 01:01:45,280
possibilities here again

01:01:42,960 --> 01:01:46,640
for drupal but also possibly for the web

01:01:45,280 --> 01:01:48,240
in general if we could

01:01:46,640 --> 01:01:49,920
maybe collaborate with others and try

01:01:48,240 --> 01:01:51,440
and create a standard

01:01:49,920 --> 01:01:53,200
yeah be a good example for the whole web

01:01:51,440 --> 01:01:55,039
you'll see more advanced sites out there

01:01:53,200 --> 01:01:56,240
that if you scroll down the site and

01:01:55,039 --> 01:01:58,160
look in devtools

01:01:56,240 --> 01:01:59,839
you'll see not just images but also

01:01:58,160 --> 01:02:00,400
javascript and css loading as things are

01:01:59,839 --> 01:02:02,720
loaded

01:02:00,400 --> 01:02:03,760
so more complex interactive things that

01:02:02,720 --> 01:02:06,160
are below the fold

01:02:03,760 --> 01:02:07,039
can also load easily as well and this

01:02:06,160 --> 01:02:09,599
proposal

01:02:07,039 --> 01:02:10,799
can make that happen yeah it would be

01:02:09,599 --> 01:02:13,760
more powerful than even

01:02:10,799 --> 01:02:15,039
image lazy loading or iframes exactly i

01:02:13,760 --> 01:02:17,520
think it could be really cool

01:02:15,039 --> 01:02:18,720
so minification and aggregation and

01:02:17,520 --> 01:02:20,160
these things we've talked about this a

01:02:18,720 --> 01:02:21,119
little bit before i'll go through pretty

01:02:20,160 --> 01:02:22,799
quickly

01:02:21,119 --> 01:02:24,319
right advanced aggregator has awesome

01:02:22,799 --> 01:02:25,680
tools here's that chart in a larger

01:02:24,319 --> 01:02:26,960
format to show you the difference

01:02:25,680 --> 01:02:28,799
between

01:02:26,960 --> 01:02:31,200
no aggregation core aggregation and what

01:02:28,799 --> 01:02:33,119
the advanced aggregator module can do

01:02:31,200 --> 01:02:34,720
it's been a little while before we've i

01:02:33,119 --> 01:02:36,160
think looked at core's aggregation

01:02:34,720 --> 01:02:38,079
functions and said gosh are there some

01:02:36,160 --> 01:02:40,319
more things that we should move in there

01:02:38,079 --> 01:02:41,440
um so i think there's an opportunity

01:02:40,319 --> 01:02:42,880
particularly for people who are

01:02:41,440 --> 01:02:44,480
interested in core contribution

01:02:42,880 --> 01:02:46,079
and also interested in css and

01:02:44,480 --> 01:02:48,559
javascript performance

01:02:46,079 --> 01:02:49,839
to maybe set up a contribution table at

01:02:48,559 --> 01:02:52,079
drupalcon and

01:02:49,839 --> 01:02:53,920
and look at how we could further enhance

01:02:52,079 --> 01:02:56,079
uh core's default aggregation

01:02:53,920 --> 01:02:57,760
functionalities can we take learnings

01:02:56,079 --> 01:02:59,280
from the advanced aggregator contrib

01:02:57,760 --> 01:03:00,319
module and begin moving some of those

01:02:59,280 --> 01:03:02,799
things into core

01:03:00,319 --> 01:03:05,200
that kind of stuff is is always helpful

01:03:02,799 --> 01:03:07,039
and those of us who are

01:03:05,200 --> 01:03:08,480
really familiar with the ecosystem and

01:03:07,039 --> 01:03:10,400
advanced drupal developers are like well

01:03:08,480 --> 01:03:13,039
gosh we can always just get that

01:03:10,400 --> 01:03:14,960
that module and set it up but you know

01:03:13,039 --> 01:03:16,880
part of the idea as ben said earlier is

01:03:14,960 --> 01:03:18,240
we want to try and be fast by default we

01:03:16,880 --> 01:03:18,960
want to have these tools available for

01:03:18,240 --> 01:03:20,960
everyone

01:03:18,960 --> 01:03:22,960
even the newbies to our community and

01:03:20,960 --> 01:03:24,720
ensure they have a good experience

01:03:22,960 --> 01:03:26,400
and continue to see drupal as their best

01:03:24,720 --> 01:03:29,119
options so

01:03:26,400 --> 01:03:30,079
finally another idea of things that we

01:03:29,119 --> 01:03:31,920
could work on and there's

01:03:30,079 --> 01:03:33,200
multiple ways we could implement this

01:03:31,920 --> 01:03:35,359
but is to provide

01:03:33,200 --> 01:03:36,400
actionable performance insights in the

01:03:35,359 --> 01:03:39,440
drupal backend

01:03:36,400 --> 01:03:40,480
right so one example um and on the left

01:03:39,440 --> 01:03:42,160
here this is not

01:03:40,480 --> 01:03:43,680
literally the stack pack recommendations

01:03:42,160 --> 01:03:45,119
but it's that like page speed and site

01:03:43,680 --> 01:03:48,079
recommendations

01:03:45,119 --> 01:03:49,440
is could we take recommend performance

01:03:48,079 --> 01:03:50,960
recommendations like we looked at with

01:03:49,440 --> 01:03:52,880
these other measurement tools and

01:03:50,960 --> 01:03:54,480
actually surface them directly in drupal

01:03:52,880 --> 01:03:56,079
status report in another or

01:03:54,480 --> 01:03:57,760
some other place and can we make them

01:03:56,079 --> 01:03:59,680
very specific so

01:03:57,760 --> 01:04:01,440
if we could have a message that says oh

01:03:59,680 --> 01:04:02,720
we've detected a two and a half megabyte

01:04:01,440 --> 01:04:05,440
image on your front page

01:04:02,720 --> 01:04:06,240
we suggest you install the image opt

01:04:05,440 --> 01:04:08,640
module

01:04:06,240 --> 01:04:11,039
or define your image style like if we

01:04:08,640 --> 01:04:13,280
give them the drupal specific step to

01:04:11,039 --> 01:04:14,640
solve problems that we surface

01:04:13,280 --> 01:04:16,160
i think we can probably make a

01:04:14,640 --> 01:04:17,680
significant proportion of the drupal

01:04:16,160 --> 01:04:18,640
sites out there faster so

01:04:17,680 --> 01:04:20,559
there's some things that we could

01:04:18,640 --> 01:04:21,440
consider again we could we could build

01:04:20,559 --> 01:04:23,440
some of our own

01:04:21,440 --> 01:04:24,880
like recommendation engine ideas in

01:04:23,440 --> 01:04:26,640
there we could integrate with the

01:04:24,880 --> 01:04:28,079
lighthouse stackpack tools

01:04:26,640 --> 01:04:29,280
there's a variety of ways that we could

01:04:28,079 --> 01:04:30,400
come about this but i think this is

01:04:29,280 --> 01:04:32,720
another area where

01:04:30,400 --> 01:04:34,559
the community could think about not just

01:04:32,720 --> 01:04:35,760
the technical side of how we implement

01:04:34,559 --> 01:04:38,400
great performance

01:04:35,760 --> 01:04:40,000
but the onboarding side of teaching our

01:04:38,400 --> 01:04:43,280
end users the best ways to

01:04:40,000 --> 01:04:44,720
implement these things so yeah if they

01:04:43,280 --> 01:04:47,039
had a module that actually ends up

01:04:44,720 --> 01:04:48,960
adding 100 kilobytes of javascript

01:04:47,039 --> 01:04:50,240
and they know this actually they hear

01:04:48,960 --> 01:04:51,440
about that by seeing it in their

01:04:50,240 --> 01:04:52,559
dashboard

01:04:51,440 --> 01:04:54,559
maybe we'll add a different module

01:04:52,559 --> 01:04:56,799
instead exactly

01:04:54,559 --> 01:04:58,720
so last thing i want to say is that for

01:04:56,799 --> 01:05:00,559
these ideas that we've discussed today

01:04:58,720 --> 01:05:01,680
and any other ideas we're certainly

01:05:00,559 --> 01:05:02,960
going to talk about these sorts of

01:05:01,680 --> 01:05:05,119
things more at drupalcon

01:05:02,960 --> 01:05:07,280
so drupalcon europe is coming up the 8th

01:05:05,119 --> 01:05:08,799
to 11th of december it's an all virtual

01:05:07,280 --> 01:05:10,240
event so no matter where you are in the

01:05:08,799 --> 01:05:11,920
world you can attend

01:05:10,240 --> 01:05:14,160
there will be contributions happening

01:05:11,920 --> 01:05:15,680
throughout the event contribution tables

01:05:14,160 --> 01:05:17,119
so if you're curious about these things

01:05:15,680 --> 01:05:18,880
and you maybe want to get involved in

01:05:17,119 --> 01:05:20,160
this from an initiative point of view

01:05:18,880 --> 01:05:21,920
i think that'll be a nice place where

01:05:20,160 --> 01:05:22,400
people are coming together around this

01:05:21,920 --> 01:05:25,359
and

01:05:22,400 --> 01:05:26,799
and we can put some ideas together so

01:05:25,359 --> 01:05:28,480
we're going to switch to questions we're

01:05:26,799 --> 01:05:30,240
significantly overtimes

01:05:28,480 --> 01:05:32,160
but we'll try and take the couple that

01:05:30,240 --> 01:05:34,880
we have

01:05:32,160 --> 01:05:36,000
and do the best we can and i'll see if i

01:05:34,880 --> 01:05:38,079
can go through the back scroll

01:05:36,000 --> 01:05:39,599
as well uh but the first question here

01:05:38,079 --> 01:05:42,079
maybe ben you could take this one

01:05:39,599 --> 01:05:44,000
in our q a section so how does someone

01:05:42,079 --> 01:05:45,680
use the drupal stack pack like what do

01:05:44,000 --> 01:05:47,200
you actually do to install a stack pack

01:05:45,680 --> 01:05:47,920
and use it with lighthouse or local

01:05:47,200 --> 01:05:50,079
chrome or

01:05:47,920 --> 01:05:51,280
whatever the nice thing is you don't

01:05:50,079 --> 01:05:53,039
have to install anything

01:05:51,280 --> 01:05:54,400
lighthouse comes with this built in so

01:05:53,039 --> 01:05:55,280
lighthouse will detect it besides the

01:05:54,400 --> 01:05:57,039
drupal site

01:05:55,280 --> 01:05:58,400
and simply tailor recommendations

01:05:57,039 --> 01:06:00,319
according to the

01:05:58,400 --> 01:06:01,599
text strings that are provided in this

01:06:00,319 --> 01:06:04,000
backpack

01:06:01,599 --> 01:06:06,240
yeah so that's it so that stackpack code

01:06:04,000 --> 01:06:08,960
that repository is actually like

01:06:06,240 --> 01:06:10,079
it's the community contributed extension

01:06:08,960 --> 01:06:11,760
to lighthouse

01:06:10,079 --> 01:06:13,359
that is winds up getting bundled with

01:06:11,760 --> 01:06:14,720
lighthouse when people do that

01:06:13,359 --> 01:06:16,079
so this is the other thing i think if

01:06:14,720 --> 01:06:17,039
the drupal community comes along and

01:06:16,079 --> 01:06:18,480
says oh gosh there's another

01:06:17,039 --> 01:06:20,160
recommendation we should add

01:06:18,480 --> 01:06:22,000
any of us can contribute that and then

01:06:20,160 --> 01:06:25,760
any other lighthouse user will see those

01:06:22,000 --> 01:06:27,760
new recommendations if they're merged in

01:06:25,760 --> 01:06:29,440
um i'm going through the back scroll in

01:06:27,760 --> 01:06:30,799
the chat really quickly here

01:06:29,440 --> 01:06:32,720
i think we may have addressed many of

01:06:30,799 --> 01:06:34,720
these questions and again feel free to

01:06:32,720 --> 01:06:37,920
use that q a button

01:06:34,720 --> 01:06:40,400
um we talked a little bit about

01:06:37,920 --> 01:06:41,920
any avis discussion over here avf

01:06:40,400 --> 01:06:44,559
certainly is supported only by chrome

01:06:41,920 --> 01:06:46,319
and opera right now but support will

01:06:44,559 --> 01:06:48,079
have other browsers and there are ways

01:06:46,319 --> 01:06:50,079
you certainly can specify your image in

01:06:48,079 --> 01:06:52,160
html so that you can fall back to

01:06:50,079 --> 01:06:53,680
other other formats if the current

01:06:52,160 --> 01:06:55,520
format is not supported

01:06:53,680 --> 01:06:57,680
except for webp the recommendations use

01:06:55,520 --> 01:06:58,880
picture and provide different formats

01:06:57,680 --> 01:07:02,240
there in the picture element

01:06:58,880 --> 01:07:03,359
avif works the same way yeah uh we have

01:07:02,240 --> 01:07:06,400
a question from

01:07:03,359 --> 01:07:08,240
uh steve wickham which is it based on

01:07:06,400 --> 01:07:09,839
the demo that you gave earlier

01:07:08,240 --> 01:07:11,839
is there a way that we can provide folks

01:07:09,839 --> 01:07:12,400
with a kind of a checklist of things to

01:07:11,839 --> 01:07:14,720
look at

01:07:12,400 --> 01:07:16,160
or to look for within their web website

01:07:14,720 --> 01:07:17,039
uh certainly we'll send this recording

01:07:16,160 --> 01:07:18,559
out to everyone

01:07:17,039 --> 01:07:20,240
after the fact so that you can review

01:07:18,559 --> 01:07:21,920
this again but is there

01:07:20,240 --> 01:07:23,200
kind of a resource we could provide for

01:07:21,920 --> 01:07:24,319
like here's what you should be looking

01:07:23,200 --> 01:07:25,680
through

01:07:24,319 --> 01:07:28,400
that's a great question i actually spent

01:07:25,680 --> 01:07:29,760
a while at google a couple years ago

01:07:28,400 --> 01:07:31,200
equipping non-technical people to

01:07:29,760 --> 01:07:32,480
actually do this kind of analysis i

01:07:31,200 --> 01:07:34,640
spent a long time making these

01:07:32,480 --> 01:07:36,799
spreadsheets full things to look for

01:07:34,640 --> 01:07:38,319
and things you could look for what's

01:07:36,799 --> 01:07:41,119
available publicly

01:07:38,319 --> 01:07:42,960
i actually don't know there must be a

01:07:41,119 --> 01:07:45,680
dozen things like this out there

01:07:42,960 --> 01:07:46,880
on the internet but i am not sure this

01:07:45,680 --> 01:07:49,039
actually exists

01:07:46,880 --> 01:07:50,000
that's a great question i can try to

01:07:49,039 --> 01:07:53,920
find out what's out there

01:07:50,000 --> 01:07:56,160
and get back to you yeah so um as i said

01:07:53,920 --> 01:07:57,760
um we'll we'll send out the recording to

01:07:56,160 --> 01:07:59,359
everybody who attended we'll probably

01:07:57,760 --> 01:08:00,400
put some follow-up content in the drupal

01:07:59,359 --> 01:08:02,160
newsletter

01:08:00,400 --> 01:08:03,839
coming out so if we do find some of

01:08:02,160 --> 01:08:05,039
those resources we'll try and add that

01:08:03,839 --> 01:08:07,760
in as well

01:08:05,039 --> 01:08:08,960
um i think given that i'm not seeing

01:08:07,760 --> 01:08:10,720
more things in the q a

01:08:08,960 --> 01:08:12,720
and struggling a bit to scroll through

01:08:10,720 --> 01:08:13,760
the rest of the chat and we're also over

01:08:12,720 --> 01:08:16,239
time

01:08:13,760 --> 01:08:17,600
we'll probably go ahead and wrap here

01:08:16,239 --> 01:08:21,359
but what i wanted to do

01:08:17,600 --> 01:08:24,239
is say a big thank you to um

01:08:21,359 --> 01:08:25,520
all of you out there who joined us today

01:08:24,239 --> 01:08:27,359
from all over the world

01:08:25,520 --> 01:08:30,400
and who participated in the chat and

01:08:27,359 --> 01:08:32,080
shares your own ideas and expertise

01:08:30,400 --> 01:08:34,080
drupal of course as an open source

01:08:32,080 --> 01:08:36,319
project thrives on collaboration

01:08:34,080 --> 01:08:38,159
and so we really would love anybody

01:08:36,319 --> 01:08:38,640
watching this live or in the recording

01:08:38,159 --> 01:08:41,520
to

01:08:38,640 --> 01:08:43,040
to keep um participating to keep joining

01:08:41,520 --> 01:08:44,960
us for future conversations

01:08:43,040 --> 01:08:46,560
to maybe join an initiative or to reach

01:08:44,960 --> 01:08:47,279
out to ask how to get involved in the

01:08:46,560 --> 01:08:49,839
project

01:08:47,279 --> 01:08:52,000
or to get involved in web performance i

01:08:49,839 --> 01:08:54,080
also want to do a big thanks to ben for

01:08:52,000 --> 01:08:55,839
joining me here as a co-presenter

01:08:54,080 --> 01:08:57,199
thank you so much for this conversation

01:08:55,839 --> 01:08:59,600
and for sharing the insights that you

01:08:57,199 --> 01:09:01,359
have and that google has developed

01:08:59,600 --> 01:09:03,040
and thank you to google as a whole for

01:09:01,359 --> 01:09:04,960
supporting the drupal association and

01:09:03,040 --> 01:09:06,560
becoming one of our supporting partners

01:09:04,960 --> 01:09:08,880
and helping our community thrive i think

01:09:06,560 --> 01:09:11,120
that's really great so

01:09:08,880 --> 01:09:12,159
um thanks for having me yeah i really

01:09:11,120 --> 01:09:14,640
appreciate your

01:09:12,159 --> 01:09:17,359
letting me come and share this with you

01:09:14,640 --> 01:09:20,159
and i'll discuss performance today

01:09:17,359 --> 01:09:20,799
fantastic so um with that we are going

01:09:20,159 --> 01:09:23,199
to

01:09:20,799 --> 01:09:24,640
wrap things up uh say goodbye for now

01:09:23,199 --> 01:09:26,159
but again we hope to speak to you all

01:09:24,640 --> 01:09:26,719
again soon and we'll have that recording

01:09:26,159 --> 01:09:28,000
to you

01:09:26,719 --> 01:09:29,359
just as soon as we can get it all

01:09:28,000 --> 01:09:30,159
cleaned up and processed so thanks

01:09:29,359 --> 01:09:32,480
everyone

01:09:30,159 --> 01:09:34,080
and i hope you have a wonderful rest of

01:09:32,480 --> 01:09:37,359
your morning afternoon

01:09:34,080 --> 01:09:39,520
or evening as the case may be

01:09:37,359 --> 01:09:39,520

YouTube URL: https://www.youtube.com/watch?v=EP91Y264ymA


