Title: DrupalCon Amsterdam 2019:Mastering the CDN Present & Future
Publication date: 2019-10-29
Playlist: DrupalCon Amsterdam 2019
Description: 
	Room: Auditorium
Presenter:  Matthew Cheney
Description: If you site is not running on a CDN, you are missing out. Modern websites receive enormous benefits in terms of speed & reliability when utilizing a content delivery network - and setting one up for your site has never been easier.

CDNs offer the best in class support for making websites fast utilizing techniques such as HTTPS/2 (soon HTTPS/3), image compression, global points of presence, TLS integration, cache tags (in D8 core!), & much more!

This presentation will review how a CDN works, how to integrate it into your site, and how to get the fastest and best site on the internet using other peoples servers around the world.
Captions: 
	00:00:03,830 --> 00:00:10,460
alright alright whoa

00:00:07,130 --> 00:00:14,580
hello DrupalCon Amsterdam

00:00:10,460 --> 00:00:16,920
of that energy austin cedrus this

00:00:14,580 --> 00:00:19,560
morning on this stage obviously a

00:00:16,920 --> 00:00:21,689
privilege to be here thanks to Jay

00:00:19,560 --> 00:00:24,810
Batson the other founding team of

00:00:21,689 --> 00:00:27,300
aqueous or the beats before my name is

00:00:24,810 --> 00:00:29,730
Mathew Chaney I work at a lovely company

00:00:27,300 --> 00:00:32,790
called Pantheon and in what's gonna be

00:00:29,730 --> 00:00:35,850
20 minutes of action-packed high volume

00:00:32,790 --> 00:00:40,230
energy we're gonna talk about mastering

00:00:35,850 --> 00:00:42,270
the CDN past present and future because

00:00:40,230 --> 00:00:44,550
this is a topic near and dear to my

00:00:42,270 --> 00:00:47,730
heart it's a topic that I think is

00:00:44,550 --> 00:00:49,950
necessary for the open web and for

00:00:47,730 --> 00:00:51,510
everything that comes after and it's

00:00:49,950 --> 00:00:54,000
something hopefully I can drop some

00:00:51,510 --> 00:00:56,850
basic knowledge on you some intermediary

00:00:54,000 --> 00:00:59,969
knowledge and then hopefully blow your

00:00:56,850 --> 00:01:01,379
minds a little bit so and that's the 20

00:00:59,969 --> 00:01:03,239
minutes and we'll jump into some more

00:01:01,379 --> 00:01:06,540
really awesome stuff and keep this

00:01:03,239 --> 00:01:09,330
DrupalCon rolling but for the CDN let's

00:01:06,540 --> 00:01:13,320
talk about what we all probably want our

00:01:09,330 --> 00:01:16,229
websites to do which is we want to make

00:01:13,320 --> 00:01:18,119
our websites fast I don't think I

00:01:16,229 --> 00:01:19,830
necessarily need to emphasize the

00:01:18,119 --> 00:01:22,140
importance of that to the folks in the

00:01:19,830 --> 00:01:24,509
room I think we spend a lot of time

00:01:22,140 --> 00:01:26,670
working on our own custom code to make

00:01:24,509 --> 00:01:29,009
sure it's fast we spends lots of good

00:01:26,670 --> 00:01:31,140
time picking our hosting providers to

00:01:29,009 --> 00:01:33,090
make sure those are fast and that we do

00:01:31,140 --> 00:01:35,759
a lot of testing to make sure that we're

00:01:33,090 --> 00:01:38,070
regularly delivering fast website as

00:01:35,759 --> 00:01:40,710
part of our larger Web Apps kind of

00:01:38,070 --> 00:01:43,170
process and this is something we want to

00:01:40,710 --> 00:01:45,479
happen for people all around the world

00:01:43,170 --> 00:01:47,399
one of the privileges that being part of

00:01:45,479 --> 00:01:49,530
the Drupal community is that you have

00:01:47,399 --> 00:01:51,540
access to a global audience of

00:01:49,530 --> 00:01:54,210
developers that you can understand make

00:01:51,540 --> 00:01:56,219
websites all around the world for those

00:01:54,210 --> 00:01:58,290
that have you know website users if you

00:01:56,219 --> 00:02:00,479
look at your analytics they're also all

00:01:58,290 --> 00:02:02,700
around the world and this is only more

00:02:00,479 --> 00:02:04,799
true as Teresa mentioned in his keynote

00:02:02,700 --> 00:02:05,579
we have billions of more people coming

00:02:04,799 --> 00:02:08,250
online

00:02:05,579 --> 00:02:11,610
they all need their websites to be fast

00:02:08,250 --> 00:02:13,360
and they all need their websites to you

00:02:11,610 --> 00:02:15,520
know snap to it

00:02:13,360 --> 00:02:17,680
but we got this problem and the problem

00:02:15,520 --> 00:02:19,270
is the speed of light which is an

00:02:17,680 --> 00:02:21,880
unfortunate problem because it's not

00:02:19,270 --> 00:02:25,720
actually that easy or physically

00:02:21,880 --> 00:02:27,790
possible to go faster than it we also

00:02:25,720 --> 00:02:30,070
have a problem that servers are gonna

00:02:27,790 --> 00:02:32,230
operate much slower than the speed of

00:02:30,070 --> 00:02:35,350
light and that probably is not a

00:02:32,230 --> 00:02:37,570
surprise to you but overall I think and

00:02:35,350 --> 00:02:39,970
this is where I think CD ends come into

00:02:37,570 --> 00:02:42,010
the equation that if we start to look at

00:02:39,970 --> 00:02:46,090
there's simply the time that it takes

00:02:42,010 --> 00:02:48,970
for light to go from you know somewhere

00:02:46,090 --> 00:02:51,520
in Australia to here in Amsterdam for

00:02:48,970 --> 00:02:55,540
example from a delay to Amsterdam we've

00:02:51,520 --> 00:02:57,250
got 300 milliseconds worth of time now

00:02:55,540 --> 00:02:59,350
that's not like in the grand scheme of

00:02:57,250 --> 00:03:01,630
things a ton of time but that's

00:02:59,350 --> 00:03:03,430
something that's simply gonna happen

00:03:01,630 --> 00:03:05,709
because we have to go through the

00:03:03,430 --> 00:03:08,530
underwater fiber-optic cable from

00:03:05,709 --> 00:03:11,920
Australia and make our way into Central

00:03:08,530 --> 00:03:13,630
Europe somehow somewhat and the problem

00:03:11,920 --> 00:03:15,940
with this is that this is a time that we

00:03:13,630 --> 00:03:19,810
spend for every single packet that we

00:03:15,940 --> 00:03:21,760
transmit from our website to our user no

00:03:19,810 --> 00:03:23,950
matter what this doesn't have anything

00:03:21,760 --> 00:03:25,989
to do with the server responding doesn't

00:03:23,950 --> 00:03:27,850
have to do with how fast PHP is working

00:03:25,989 --> 00:03:30,640
doesn't have to do anything with Drupal

00:03:27,850 --> 00:03:32,680
this is literally the geographic tax

00:03:30,640 --> 00:03:36,489
that we pay to go between different

00:03:32,680 --> 00:03:38,260
areas of the world and this is just the

00:03:36,489 --> 00:03:40,630
time it takes for one you know piece of

00:03:38,260 --> 00:03:42,730
light to go one time when we start

00:03:40,630 --> 00:03:45,160
talking about the web we start talking

00:03:42,730 --> 00:03:48,070
about TLS connections that maybe have to

00:03:45,160 --> 00:03:50,590
negotiate multiple times then these are

00:03:48,070 --> 00:03:53,410
these are times that we're paying over

00:03:50,590 --> 00:03:55,720
and over again and so like in a world

00:03:53,410 --> 00:03:57,370
where we don't have a CDN this is gonna

00:03:55,720 --> 00:04:00,010
be the reality we have to pick our

00:03:57,370 --> 00:04:03,100
servers to be somewhere you know be it

00:04:00,010 --> 00:04:05,410
over in Silicon Valley in America be it

00:04:03,100 --> 00:04:07,900
here in the Netherlands Pantheon we just

00:04:05,410 --> 00:04:10,120
have a new data center few hours east of

00:04:07,900 --> 00:04:12,640
here you have to pick me at somewhere in

00:04:10,120 --> 00:04:15,340
in Asia you have to pick an origin

00:04:12,640 --> 00:04:17,260
without a CDN and that means that

00:04:15,340 --> 00:04:20,019
everywhere else in the world is gonna

00:04:17,260 --> 00:04:21,520
pay that tax to get there and even if

00:04:20,019 --> 00:04:23,080
you're running a site that you think oh

00:04:21,520 --> 00:04:25,120
this is only for people in my country

00:04:23,080 --> 00:04:26,720
this is only for people in this city

00:04:25,120 --> 00:04:28,850
that the REE

00:04:26,720 --> 00:04:31,700
the global Internet is that these are

00:04:28,850 --> 00:04:33,590
actually things that require people to

00:04:31,700 --> 00:04:35,540
have global presences people travel

00:04:33,590 --> 00:04:39,110
people's servers are in different places

00:04:35,540 --> 00:04:41,120
and that really needs to be fast so the

00:04:39,110 --> 00:04:43,520
CDN just to sort of get that that

00:04:41,120 --> 00:04:46,130
baseline down the CDN which stands for

00:04:43,520 --> 00:04:47,660
content delivery network of course it's

00:04:46,130 --> 00:04:50,450
the idea that says look we're still

00:04:47,660 --> 00:04:52,880
gonna have our like hosting platform or

00:04:50,450 --> 00:04:54,200
our servers somewhere our origin that's

00:04:52,880 --> 00:04:56,060
where we're like pushing up our

00:04:54,200 --> 00:04:58,490
authoritative code keeping our

00:04:56,060 --> 00:05:00,260
authoritative database but instead of

00:04:58,490 --> 00:05:02,900
having just a single place around the

00:05:00,260 --> 00:05:05,630
world that we have to go to every single

00:05:02,900 --> 00:05:08,210
time we want to access the website we

00:05:05,630 --> 00:05:10,280
can actually create local caches of that

00:05:08,210 --> 00:05:13,160
in different places around the world

00:05:10,280 --> 00:05:15,590
that means that if we're smart with our

00:05:13,160 --> 00:05:18,200
caching we can take it so that we can go

00:05:15,590 --> 00:05:20,870
down to South America one time with our

00:05:18,200 --> 00:05:23,480
website store it in a cache and then

00:05:20,870 --> 00:05:25,760
anyone else who wants to access it can

00:05:23,480 --> 00:05:27,560
access it quite quickly because the time

00:05:25,760 --> 00:05:29,930
for example with inside of South America

00:05:27,560 --> 00:05:33,020
way faster than having to go across

00:05:29,930 --> 00:05:35,180
oceans and things like that and this is

00:05:33,020 --> 00:05:37,700
something that allows us to sort of in a

00:05:35,180 --> 00:05:40,520
technical sense create speed speeds

00:05:37,700 --> 00:05:43,310
because we can cut out a meaningful part

00:05:40,520 --> 00:05:45,830
of our actual delivery of the websites

00:05:43,310 --> 00:05:47,810
that's sort of the magic of this CDN you

00:05:45,830 --> 00:05:49,580
want like millions of people to come to

00:05:47,810 --> 00:05:51,740
your site and see your front page

00:05:49,580 --> 00:05:53,870
content to see your press release to

00:05:51,740 --> 00:05:55,790
engage with your content you're probably

00:05:53,870 --> 00:05:59,240
not gonna want to have them all go to

00:05:55,790 --> 00:06:01,340
the same place all bootstrap PHP all run

00:05:59,240 --> 00:06:04,160
through Drupal's whole runtime bootstrap

00:06:01,340 --> 00:06:07,160
and then send back files all the way to

00:06:04,160 --> 00:06:09,440
where people are instead we can cheat we

00:06:07,160 --> 00:06:12,169
can realize that most people want the

00:06:09,440 --> 00:06:15,440
same thing from our website foo bar dot

00:06:12,169 --> 00:06:16,820
CSS is gonna be the same for everyone it

00:06:15,440 --> 00:06:19,130
doesn't need to be automatically

00:06:16,820 --> 00:06:21,110
generated and minified every time that

00:06:19,130 --> 00:06:23,390
it's sent we could just do that request

00:06:21,110 --> 00:06:24,950
once on the first person in the whole

00:06:23,390 --> 00:06:27,140
world that wants to see it from our

00:06:24,950 --> 00:06:29,540
particular area and then every

00:06:27,140 --> 00:06:32,240
subsequent person we can just give them

00:06:29,540 --> 00:06:35,000
that right back and that's true for CSS

00:06:32,240 --> 00:06:37,849
files that's true for video and image

00:06:35,000 --> 00:06:39,610
assets it's also ultimately true for

00:06:37,849 --> 00:06:42,159
HTML if you

00:06:39,610 --> 00:06:44,949
go to one of your favorite websites view

00:06:42,159 --> 00:06:47,020
source see all the different HTML that's

00:06:44,949 --> 00:06:49,120
something that if you just want to see

00:06:47,020 --> 00:06:50,530
that same experience a million times for

00:06:49,120 --> 00:06:51,849
a million people if you're not

00:06:50,530 --> 00:06:54,009
customizing any of that or only

00:06:51,849 --> 00:06:56,409
customizing part of it the stuff that's

00:06:54,009 --> 00:06:58,330
the same can be delivered quickly and

00:06:56,409 --> 00:07:00,789
efficiently using a content delivery

00:06:58,330 --> 00:07:03,009
network and that's really I think at the

00:07:00,789 --> 00:07:06,250
heart and soul of what makes a CDN

00:07:03,009 --> 00:07:08,650
awesome it's also a technology that you

00:07:06,250 --> 00:07:10,949
can put all around the world that where

00:07:08,650 --> 00:07:14,560
people are we should have more and more

00:07:10,949 --> 00:07:16,840
points of presence for them all a CDN is

00:07:14,560 --> 00:07:20,319
doing at a baseline is caching content

00:07:16,840 --> 00:07:21,849
and so as the internet expands as people

00:07:20,319 --> 00:07:24,430
have more points of presence around the

00:07:21,849 --> 00:07:27,250
world the time to actually access these

00:07:24,430 --> 00:07:29,800
resources becomes less and less because

00:07:27,250 --> 00:07:31,779
we have more local and local access to

00:07:29,800 --> 00:07:33,550
it and this is how we can beat the speed

00:07:31,779 --> 00:07:36,370
of light this is how we can get around

00:07:33,550 --> 00:07:38,500
physics not by going faster but by

00:07:36,370 --> 00:07:40,930
having the experience of someone be

00:07:38,500 --> 00:07:43,479
faster because the website that I want

00:07:40,930 --> 00:07:46,569
if it's cacheable locally I can just

00:07:43,479 --> 00:07:49,089
access it directly from that cache and

00:07:46,569 --> 00:07:50,919
that's really excellent and now that may

00:07:49,089 --> 00:07:53,620
just seem like ground stakes to folks if

00:07:50,919 --> 00:07:55,779
you've used a CDN you know ok now it

00:07:53,620 --> 00:07:57,759
speeds up my site but you haven't used a

00:07:55,779 --> 00:07:59,710
CDN or you're wanting to sort of set it

00:07:57,759 --> 00:08:01,750
up I would definitely recommend to do

00:07:59,710 --> 00:08:04,210
this on all of your sites I think it's

00:08:01,750 --> 00:08:06,310
an important part of making a modern web

00:08:04,210 --> 00:08:08,529
and it creates also a lot of other

00:08:06,310 --> 00:08:11,409
benefits like things like putting on

00:08:08,529 --> 00:08:13,389
HTTPS certificates for example things

00:08:11,409 --> 00:08:15,069
like invalidation around the world these

00:08:13,389 --> 00:08:18,490
are problems that are easier to handle

00:08:15,069 --> 00:08:20,680
in a centralized centralized CDN kind of

00:08:18,490 --> 00:08:22,569
environment and setting it up is awesome

00:08:20,680 --> 00:08:25,360
because we're just making the smart

00:08:22,569 --> 00:08:27,039
pipes faster we're taking the different

00:08:25,360 --> 00:08:29,169
tubes that are otherwise the internet

00:08:27,039 --> 00:08:31,689
and we're making having skips we're

00:08:29,169 --> 00:08:34,120
having caches and we're really dialing

00:08:31,689 --> 00:08:35,740
it in and that may seem like a lot of

00:08:34,120 --> 00:08:37,719
magic and a lot of cool stuff that's

00:08:35,740 --> 00:08:39,909
happening just to make that work but

00:08:37,719 --> 00:08:41,680
lots of companies are providing this as

00:08:39,909 --> 00:08:43,870
a service you don't have to fly around

00:08:41,680 --> 00:08:44,769
the world and put servers everywhere to

00:08:43,870 --> 00:08:46,420
make this happen

00:08:44,769 --> 00:08:49,180
plenty of folks including Pantheon

00:08:46,420 --> 00:08:50,560
bundle is CDN with every site it's a

00:08:49,180 --> 00:08:53,410
great way to get up and running with

00:08:50,560 --> 00:08:55,300
that but it's not crazy hard to set up

00:08:53,410 --> 00:08:58,000
on your own configuring it does take

00:08:55,300 --> 00:09:00,129
some work but ultimately what a CDN is

00:08:58,000 --> 00:09:02,620
doing on a technical level is it's the

00:09:00,129 --> 00:09:04,870
first thing that people access you are

00:09:02,620 --> 00:09:06,910
part of the setup process of getting it

00:09:04,870 --> 00:09:09,459
to work is you point your dns for

00:09:06,910 --> 00:09:11,949
whatever domain you have and you point

00:09:09,459 --> 00:09:14,680
it at your you know your platform that

00:09:11,949 --> 00:09:16,870
has a CDN or one of these CDN companies

00:09:14,680 --> 00:09:20,910
and you say look anything to my website

00:09:16,870 --> 00:09:23,920
go to those people first and then on the

00:09:20,910 --> 00:09:26,410
CDN side you basically say okay where is

00:09:23,920 --> 00:09:28,269
my origin where is my back-end server

00:09:26,410 --> 00:09:30,790
where is that authoritative database

00:09:28,269 --> 00:09:32,949
going and that could be you know hosted

00:09:30,790 --> 00:09:34,629
wherever you want because the point of

00:09:32,949 --> 00:09:36,970
the CDN is that you need to have an

00:09:34,629 --> 00:09:38,410
origin that responds but it doesn't have

00:09:36,970 --> 00:09:40,750
to be all around the world it just has

00:09:38,410 --> 00:09:42,790
to be one place the CDN can access and

00:09:40,750 --> 00:09:44,649
then you're in this rainbow world of

00:09:42,790 --> 00:09:46,959
getting at least the basic stuff set up

00:09:44,649 --> 00:09:48,550
and hopefully that's not like a crazy

00:09:46,959 --> 00:09:50,620
amount of technical work for you if

00:09:48,550 --> 00:09:52,779
you're not actually running a CD and now

00:09:50,620 --> 00:09:55,839
I totally encourage you to try to dial

00:09:52,779 --> 00:09:59,319
one in after this talk because you will

00:09:55,839 --> 00:10:01,689
have faster speeds for your site you

00:09:59,319 --> 00:10:04,060
also have once you get that CDN sort of

00:10:01,689 --> 00:10:06,189
established you can do a lot of really

00:10:04,060 --> 00:10:08,410
cool things that are hard to do

00:10:06,189 --> 00:10:10,959
otherwise things sort of that get into

00:10:08,410 --> 00:10:13,360
that mastery of the CDN stuff that

00:10:10,959 --> 00:10:15,550
really excites me not only now but I

00:10:13,360 --> 00:10:18,100
also see so in the future because the

00:10:15,550 --> 00:10:20,740
possibilities are endless on the edge

00:10:18,100 --> 00:10:22,810
that a lot of the best stuff for the

00:10:20,740 --> 00:10:25,089
Internet is gonna happen at the edge and

00:10:22,810 --> 00:10:26,560
a lot of the stuff that Drupal is going

00:10:25,089 --> 00:10:29,290
to make happen is going to be even

00:10:26,560 --> 00:10:33,910
better when you have corresponding and

00:10:29,290 --> 00:10:36,250
complementary CDN delivery services and

00:10:33,910 --> 00:10:37,959
what are the stuff you can do well so

00:10:36,250 --> 00:10:40,480
the first thing is of course performance

00:10:37,959 --> 00:10:43,000
the CDN allows you to cache everything

00:10:40,480 --> 00:10:46,149
on those local points of presence and

00:10:43,000 --> 00:10:49,000
distribute it out now the problem with

00:10:46,149 --> 00:10:50,620
caching as we probably you know get from

00:10:49,000 --> 00:10:52,750
computer science or just our own web

00:10:50,620 --> 00:10:55,240
development life is that cache

00:10:52,750 --> 00:10:57,430
invalidation is a really hard problem if

00:10:55,240 --> 00:10:59,949
we actually make a change on our origin

00:10:57,430 --> 00:11:02,860
server post a new blog post change user

00:10:59,949 --> 00:11:05,050
profile the ultimate cache that is

00:11:02,860 --> 00:11:07,030
results is now going to be invalid in

00:11:05,050 --> 00:11:09,310
certain ways

00:11:07,030 --> 00:11:11,500
being able to selectively invalidate the

00:11:09,310 --> 00:11:14,500
cash I think it's a critical feature of

00:11:11,500 --> 00:11:17,230
a CDN that instead of saying I made a

00:11:14,500 --> 00:11:20,350
change to my website make every page at

00:11:17,230 --> 00:11:22,660
my website now uh not cashed and has to

00:11:20,350 --> 00:11:24,820
be regenerated can be a very bad plan

00:11:22,660 --> 00:11:26,980
especially when you have large websites

00:11:24,820 --> 00:11:28,900
with tens of thousands of pages you

00:11:26,980 --> 00:11:31,210
don't want that cache Stampede you don't

00:11:28,900 --> 00:11:34,060
want that overrun you want to be smart

00:11:31,210 --> 00:11:35,800
about your cache invalidation luckily in

00:11:34,060 --> 00:11:38,010
our Drupal 8 world we have one of my

00:11:35,800 --> 00:11:41,770
favorite features the cache API

00:11:38,010 --> 00:11:42,910
specifically the cache tag system if you

00:11:41,770 --> 00:11:45,070
haven't played around with this in

00:11:42,910 --> 00:11:46,180
Drupal 8 like no big deal like it's

00:11:45,070 --> 00:11:48,520
there for you

00:11:46,180 --> 00:11:50,380
Drupal is already really smart about how

00:11:48,520 --> 00:11:52,390
it handles content and so this is

00:11:50,380 --> 00:11:55,210
something that you can leverage to do

00:11:52,390 --> 00:11:57,010
selective cache invalidation because you

00:11:55,210 --> 00:12:00,040
could take sort of a web page this is an

00:11:57,010 --> 00:12:02,620
example of a web page front page of a

00:12:00,040 --> 00:12:04,810
web and these are the cache tags that

00:12:02,620 --> 00:12:08,260
actually make that up so you'll see that

00:12:04,810 --> 00:12:10,480
Drupal is is telling us that these are

00:12:08,260 --> 00:12:12,460
the different nodes that exist on that

00:12:10,480 --> 00:12:14,589
on that front page these are nodes

00:12:12,460 --> 00:12:17,110
obviously put on there it says we've got

00:12:14,589 --> 00:12:19,750
a few views that actually generate that

00:12:17,110 --> 00:12:21,760
content we have a user profile of the

00:12:19,750 --> 00:12:23,860
user that created them and then we have

00:12:21,760 --> 00:12:26,110
some individual files that are all there

00:12:23,860 --> 00:12:27,670
and those are all of course entity ID

00:12:26,110 --> 00:12:30,190
numbers that are referenced in the

00:12:27,670 --> 00:12:32,380
Drupal back-end but the important part

00:12:30,190 --> 00:12:34,480
of this is that when we want to make a

00:12:32,380 --> 00:12:36,520
decision like we've changed node 10

00:12:34,480 --> 00:12:39,339
we've changed some location data or

00:12:36,520 --> 00:12:40,960
we've changed some post that we want to

00:12:39,339 --> 00:12:43,210
make sure that the environments and

00:12:40,960 --> 00:12:45,610
different pages that are now different

00:12:43,210 --> 00:12:47,110
are going to be regenerated but the rest

00:12:45,610 --> 00:12:49,420
of the site can still remain in cache

00:12:47,110 --> 00:12:52,350
and that's what the cache tag lets us do

00:12:49,420 --> 00:12:55,000
it lets us say if we change of you only

00:12:52,350 --> 00:12:57,940
invalidate the pages for which that view

00:12:55,000 --> 00:12:59,920
appears and nothing else and that's

00:12:57,940 --> 00:13:02,140
something that we have tons of awesome

00:12:59,920 --> 00:13:03,910
capabilities inside of Drupal already

00:13:02,140 --> 00:13:06,460
that can make our CDN

00:13:03,910 --> 00:13:08,530
even smarter and even better that

00:13:06,460 --> 00:13:10,720
because we have our entities and our

00:13:08,530 --> 00:13:12,310
configuration types these are things

00:13:10,720 --> 00:13:15,220
that we can hook into and when they

00:13:12,310 --> 00:13:17,589
change we can go ahead and and if and

00:13:15,220 --> 00:13:20,290
invalidate those pages that use them and

00:13:17,589 --> 00:13:22,540
only those pages that use them

00:13:20,290 --> 00:13:24,880
and the cash tag system is really smart

00:13:22,540 --> 00:13:27,100
and extendable that you can create your

00:13:24,880 --> 00:13:29,500
own cash tags for your own custom stuff

00:13:27,100 --> 00:13:31,840
if you're using the entity's system you

00:13:29,500 --> 00:13:33,640
know and standard Drupal kind of objects

00:13:31,840 --> 00:13:35,380
this stuff is just gonna work for you

00:13:33,640 --> 00:13:37,150
because Drupal knows how to make it work

00:13:35,380 --> 00:13:39,430
you start building your own stuff

00:13:37,150 --> 00:13:42,070
awesome but it's no big deal

00:13:39,430 --> 00:13:43,900
to just extend the cash backend because

00:13:42,070 --> 00:13:46,300
you want to make it so that when a

00:13:43,900 --> 00:13:48,910
change happens on your site those pages

00:13:46,300 --> 00:13:51,940
get Reeb done and nothing else this is

00:13:48,910 --> 00:13:53,860
the fastest pathway to a fast website

00:13:51,940 --> 00:13:55,840
and that's something that's in Drupal

00:13:53,860 --> 00:13:58,150
core now will of course remain in Drupal

00:13:55,840 --> 00:14:00,730
core for Drupal 9 and is something that

00:13:58,150 --> 00:14:03,040
works very well with the CDN and I think

00:14:00,730 --> 00:14:05,560
part of mastering that process of using

00:14:03,040 --> 00:14:07,030
a CDN with your Drupal site starts with

00:14:05,560 --> 00:14:10,690
making sure that you're getting that

00:14:07,030 --> 00:14:12,390
select cache invalidation right and it's

00:14:10,690 --> 00:14:14,830
easy to work with you can easily

00:14:12,390 --> 00:14:17,080
invalidate the tags on your local you

00:14:14,830 --> 00:14:19,960
can also test it on the on the CDN and

00:14:17,080 --> 00:14:22,390
more truth Beauty to you with it with a

00:14:19,960 --> 00:14:23,860
fast web site and this is some of the

00:14:22,390 --> 00:14:27,220
debugging stuff when you get into it

00:14:23,860 --> 00:14:29,590
Drupal kicks this out a each time X -

00:14:27,220 --> 00:14:31,300
Drupal - cache tags so if you've ever

00:14:29,590 --> 00:14:33,640
been playing around with the headers and

00:14:31,300 --> 00:14:36,340
saw that this is what's going on and

00:14:33,640 --> 00:14:39,010
there's specific tags for any kind of

00:14:36,340 --> 00:14:41,710
configuration or entity content that you

00:14:39,010 --> 00:14:43,570
might have in the CMS and so I'm into

00:14:41,710 --> 00:14:45,340
that and I think if you're in a CDN

00:14:43,570 --> 00:14:48,910
you should be in a selective cache

00:14:45,340 --> 00:14:51,130
invalidation - second thing you can do

00:14:48,910 --> 00:14:53,020
in a CDN and this may be stuff that

00:14:51,130 --> 00:14:55,210
you're not as familiar with because it's

00:14:53,020 --> 00:14:58,180
still performance but it's not just like

00:14:55,210 --> 00:15:01,330
blind caching and this is the concept of

00:14:58,180 --> 00:15:04,390
optimizing images so Drupal has had a

00:15:01,330 --> 00:15:06,490
very strong strength in you know being

00:15:04,390 --> 00:15:09,280
able to you know take things like image

00:15:06,490 --> 00:15:11,290
styles or image cache and you know redo

00:15:09,280 --> 00:15:13,360
images and some people have done some

00:15:11,290 --> 00:15:16,480
very clever things with changing image

00:15:13,360 --> 00:15:18,790
sizes and and quality depending on the

00:15:16,480 --> 00:15:20,620
device that you're talking to and you

00:15:18,790 --> 00:15:23,080
know that's awesome right a mobile user

00:15:20,620 --> 00:15:26,050
is gonna want a different quality of

00:15:23,080 --> 00:15:28,630
image than somebody on a nice laptop or

00:15:26,050 --> 00:15:30,250
with nice Internet and now this is work

00:15:28,630 --> 00:15:32,440
that you can do on the Drupal

00:15:30,250 --> 00:15:33,410
application side I mean you can attack

00:15:32,440 --> 00:15:35,029
their connection

00:15:33,410 --> 00:15:36,949
you can try to figure out how fast they

00:15:35,029 --> 00:15:39,350
are you can change you know the

00:15:36,949 --> 00:15:41,720
different image image sources to reflect

00:15:39,350 --> 00:15:43,759
that in the JavaScript you can lazy load

00:15:41,720 --> 00:15:46,610
images depending you know you can do a

00:15:43,759 --> 00:15:48,889
lot of work yourself but why do that the

00:15:46,610 --> 00:15:51,259
problem of optimizing images is a pretty

00:15:48,889 --> 00:15:54,019
solved one at least for the general use

00:15:51,259 --> 00:15:56,660
case CD ends now offer the ability to

00:15:54,019 --> 00:15:59,300
say look I'm gonna make design my Drupal

00:15:56,660 --> 00:16:02,149
site with the most quality images and

00:15:59,300 --> 00:16:04,939
let me have the CDN figure out how fast

00:16:02,149 --> 00:16:07,490
the user is automatically rescale them

00:16:04,939 --> 00:16:09,620
down and do so all without touching your

00:16:07,490 --> 00:16:11,779
origin or your server at all this is

00:16:09,620 --> 00:16:13,519
something that just works and in the

00:16:11,779 --> 00:16:16,040
context of configuring and working with

00:16:13,519 --> 00:16:18,439
your CDN something I would recommend to

00:16:16,040 --> 00:16:20,629
all of you to do it's a huge level up

00:16:18,439 --> 00:16:22,339
for not only the performance but just

00:16:20,629 --> 00:16:25,610
like the straight-up experience of

00:16:22,339 --> 00:16:27,230
working with your site same things true

00:16:25,610 --> 00:16:29,660
with actually doing a/b testing

00:16:27,230 --> 00:16:32,149
personalization and some of this awesome

00:16:29,660 --> 00:16:35,000
stuff that's possible using the HTTP

00:16:32,149 --> 00:16:37,009
vary header so if previously you wanted

00:16:35,000 --> 00:16:40,279
to maybe have like you know different

00:16:37,009 --> 00:16:42,740
tasks try to kinds of home pages or two

00:16:40,279 --> 00:16:44,089
kinds of titles for a post that might be

00:16:42,740 --> 00:16:46,459
something that you could have Drupal do

00:16:44,089 --> 00:16:48,589
like Oh Drupal can randomly pick one of

00:16:46,459 --> 00:16:50,360
two pages and serve it but in the world

00:16:48,589 --> 00:16:52,880
where we want to cache that stuff we

00:16:50,360 --> 00:16:54,740
don't necessarily want to have Drupal

00:16:52,880 --> 00:16:56,899
making a random judgment every time we

00:16:54,740 --> 00:16:59,870
ask a page because now we're taxing the

00:16:56,899 --> 00:17:02,750
CMS instead we can just use this very

00:16:59,870 --> 00:17:05,390
powerful header HTTP very we can provide

00:17:02,750 --> 00:17:08,089
multiple variants for any asset on our

00:17:05,390 --> 00:17:10,280
CDN and we can have the choice happen on

00:17:08,089 --> 00:17:12,260
the edge layer between which which group

00:17:10,280 --> 00:17:14,360
goes into which thing and this can just

00:17:12,260 --> 00:17:16,309
be a 50/50 split or this can be

00:17:14,360 --> 00:17:20,030
something smarter and better this is

00:17:16,309 --> 00:17:21,829
totally possible on the CDN of course

00:17:20,030 --> 00:17:24,140
load balancing and uptime really

00:17:21,829 --> 00:17:26,569
important it's not just being fast it's

00:17:24,140 --> 00:17:28,520
also being available even the best

00:17:26,569 --> 00:17:30,710
clouds have weather and things can

00:17:28,520 --> 00:17:33,049
change you want to have redundancy in

00:17:30,710 --> 00:17:34,820
your infrastructure a CDN is a great

00:17:33,049 --> 00:17:37,159
place to actually be able to have

00:17:34,820 --> 00:17:39,200
multiple backends and multiple cache

00:17:37,159 --> 00:17:41,630
settings so that when people go to your

00:17:39,200 --> 00:17:43,760
site the CDN is smart so even if it

00:17:41,630 --> 00:17:45,530
can't find one at one origin you could

00:17:43,760 --> 00:17:46,790
have a backup origin and you could

00:17:45,530 --> 00:17:49,100
always be general

00:17:46,790 --> 00:17:51,260
and balancing between the different

00:17:49,100 --> 00:17:53,620
sites that you have this is a critical

00:17:51,260 --> 00:17:55,790
component of most modern web hosting

00:17:53,620 --> 00:17:58,130
platforms and something that CD ends

00:17:55,790 --> 00:17:59,480
make easy for you to do so the worst

00:17:58,130 --> 00:18:01,520
thing you want to do is spend less time

00:17:59,480 --> 00:18:03,200
making this great website get a bunch of

00:18:01,520 --> 00:18:05,870
traffic to it and have it fall over

00:18:03,200 --> 00:18:08,420
that's no good load balance it all the

00:18:05,870 --> 00:18:10,790
way you can also do some great stuff on

00:18:08,420 --> 00:18:13,070
the security front a lot of security TAC

00:18:10,790 --> 00:18:14,930
attacks look the same we're already

00:18:13,070 --> 00:18:17,270
filtering all the traffic coming to us

00:18:14,930 --> 00:18:19,850
all the requests let's just put in some

00:18:17,270 --> 00:18:22,970
like spam type filtering for web attacks

00:18:19,850 --> 00:18:25,250
we see mallow line queries the CDN s can

00:18:22,970 --> 00:18:27,440
block them if we see comment attack

00:18:25,250 --> 00:18:29,360
signatures the CDM can block them and

00:18:27,440 --> 00:18:33,380
putting those Web Application Firewall

00:18:29,360 --> 00:18:35,690
smarts in there are possible and maybe

00:18:33,380 --> 00:18:37,880
just maybe the Drupal Association will

00:18:35,690 --> 00:18:40,280
get this drupal steward operation out to

00:18:37,880 --> 00:18:42,170
the CDN s where when a security release

00:18:40,280 --> 00:18:43,850
for Drupal comes out instead of just

00:18:42,170 --> 00:18:46,520
getting a patch file to make your site

00:18:43,850 --> 00:18:48,680
faster the CDN could also hopefully

00:18:46,520 --> 00:18:51,170
ahead of time get access to a firewall

00:18:48,680 --> 00:18:53,990
rule so that attacks that effect people

00:18:51,170 --> 00:18:56,300
are blocked on the origin and don't even

00:18:53,990 --> 00:18:58,160
have to take take anything out of Drupal

00:18:56,300 --> 00:19:00,080
and this this improves a safer and

00:18:58,160 --> 00:19:02,720
better web for everyone and it's

00:19:00,080 --> 00:19:05,120
possible because when you control the

00:19:02,720 --> 00:19:07,070
origin when you control the CDN pathway

00:19:05,120 --> 00:19:08,840
you can make smart judgments about

00:19:07,070 --> 00:19:13,610
what's acceptable and not and you can

00:19:08,840 --> 00:19:14,900
dial in your security well not the final

00:19:13,610 --> 00:19:17,330
things I think is great that's probably

00:19:14,900 --> 00:19:19,280
my favorite feature of a CDN it's

00:19:17,330 --> 00:19:22,520
something that varnish offers it's

00:19:19,280 --> 00:19:24,380
called grace mode and it's basically an

00:19:22,520 --> 00:19:26,810
option that says in the world of

00:19:24,380 --> 00:19:29,890
websites it's better to have an old copy

00:19:26,810 --> 00:19:32,330
of my site than to have a 404 page and

00:19:29,890 --> 00:19:35,210
so if I create this rule if I turn on

00:19:32,330 --> 00:19:37,370
grace mode with my CDN all of the pages

00:19:35,210 --> 00:19:39,440
will be cached and hopefully it works

00:19:37,370 --> 00:19:41,570
the first time or subsequent times if

00:19:39,440 --> 00:19:43,520
something crazy happens let's say

00:19:41,570 --> 00:19:45,350
tomorrow and though and the server goes

00:19:43,520 --> 00:19:46,790
down you know Drupal blows up the server

00:19:45,350 --> 00:19:49,370
blows up not good

00:19:46,790 --> 00:19:51,020
of course normally if I tried to go to

00:19:49,370 --> 00:19:54,740
that server it would say page not sound

00:19:51,020 --> 00:19:55,820
air you know not not responsive one of

00:19:54,740 --> 00:19:57,530
these one of these error codes and

00:19:55,820 --> 00:19:59,690
that's obviously not good

00:19:57,530 --> 00:20:00,780
so how do you fix that well of course

00:19:59,690 --> 00:20:03,150
try to keep the server up

00:20:00,780 --> 00:20:05,280
but beyond that what you can do is you

00:20:03,150 --> 00:20:08,640
can tell the CDN look if you have a

00:20:05,280 --> 00:20:11,160
cache good copy keep that copy and if

00:20:08,640 --> 00:20:13,530
this origin doesn't reply for some

00:20:11,160 --> 00:20:15,600
reason correctly just give them the last

00:20:13,530 --> 00:20:18,150
known good copy because the last known

00:20:15,600 --> 00:20:19,920
good copy often is good enough and this

00:20:18,150 --> 00:20:23,340
will keep your site's rockin no matter

00:20:19,920 --> 00:20:25,530
what couple final things you can use the

00:20:23,340 --> 00:20:28,140
CDN s also to do really fancy stuff with

00:20:25,530 --> 00:20:30,330
domain masking you can have your d8 site

00:20:28,140 --> 00:20:32,610
be your main domain but have a forum

00:20:30,330 --> 00:20:34,620
site still live in d7 you can have a

00:20:32,610 --> 00:20:36,630
wordpress site all mixed into the same

00:20:34,620 --> 00:20:38,520
domain so the user experience is

00:20:36,630 --> 00:20:40,740
consistent but the different backends

00:20:38,520 --> 00:20:42,450
for the different URLs work with the

00:20:40,740 --> 00:20:44,520
different CMS's that you want to work

00:20:42,450 --> 00:20:46,440
with and that can be a great way also to

00:20:44,520 --> 00:20:48,000
do migrations bringing over part to your

00:20:46,440 --> 00:20:50,100
site and putting it inside of Drupal

00:20:48,000 --> 00:20:52,260
while the other site is still there and

00:20:50,100 --> 00:20:55,290
then of course for the future of this

00:20:52,260 --> 00:20:57,540
stuff if you can use things like HTTP 2

00:20:55,290 --> 00:21:00,030
which is a way better technology for

00:20:57,540 --> 00:21:02,070
working on the web instead of having to

00:21:00,030 --> 00:21:05,010
have those round trips happen for every

00:21:02,070 --> 00:21:07,320
single connection you can just multiplex

00:21:05,010 --> 00:21:09,510
that stuff and just throw assets down

00:21:07,320 --> 00:21:11,460
the pipe this can turn on the firehose

00:21:09,510 --> 00:21:13,290
of the web and make yourself even a

00:21:11,460 --> 00:21:14,880
faster and this is something that the

00:21:13,290 --> 00:21:16,440
CDN lets you do in de PUE have to do a

00:21:14,880 --> 00:21:17,130
bunch of configuration on your website

00:21:16,440 --> 00:21:19,380
to do this

00:21:17,130 --> 00:21:21,690
just pick a modern CDN and you're gonna

00:21:19,380 --> 00:21:23,490
go and this is the kind of performance

00:21:21,690 --> 00:21:26,520
stuff you can get instead of like almost

00:21:23,490 --> 00:21:29,550
a 4 second page load if we pull on a

00:21:26,520 --> 00:21:31,050
standard CDN we can really drop down the

00:21:29,550 --> 00:21:33,450
actual response time because it doesn't

00:21:31,050 --> 00:21:36,120
have to generate that and then if we put

00:21:33,450 --> 00:21:39,150
on HTTP 2 we can cut down even some of

00:21:36,120 --> 00:21:41,250
the TLS negotiation and deliver pages in

00:21:39,150 --> 00:21:43,950
like sub seconds which is ultimately

00:21:41,250 --> 00:21:45,900
where you want to be because search rank

00:21:43,950 --> 00:21:49,080
matters based on PageSpeed user

00:21:45,900 --> 00:21:50,790
satisfaction based on stage feed there's

00:21:49,080 --> 00:21:52,950
a study here that probably mirrors

00:21:50,790 --> 00:21:55,170
reality in a lot of ways which is if one

00:21:52,950 --> 00:21:57,120
second delay on your page time 100

00:21:55,170 --> 00:21:59,490
millisecond delay you know you're losing

00:21:57,120 --> 00:22:01,620
conversions you're losing page views

00:21:59,490 --> 00:22:04,380
you're losing people liking your site

00:22:01,620 --> 00:22:06,330
and like we spend a lot of time making

00:22:04,380 --> 00:22:08,640
great websites we pay people money we

00:22:06,330 --> 00:22:11,070
work late we we've spent all this time

00:22:08,640 --> 00:22:13,200
building expertise we want our stuff to

00:22:11,070 --> 00:22:14,380
be awesome so why not do something cool

00:22:13,200 --> 00:22:15,640
at the CDN and

00:22:14,380 --> 00:22:18,010
make sure that your websites are

00:22:15,640 --> 00:22:20,170
performing at the best because the

00:22:18,010 --> 00:22:21,880
future should be very fast there should

00:22:20,170 --> 00:22:24,070
be really great stuff on the edge and

00:22:21,880 --> 00:22:26,230
hopefully you'll join me in embracing

00:22:24,070 --> 00:22:29,370
CDNs as the awesome thing that they are

00:22:26,230 --> 00:22:29,370
thank you very much

00:22:34,740 --> 00:22:39,720

YouTube URL: https://www.youtube.com/watch?v=ao1tci-n3Ag


