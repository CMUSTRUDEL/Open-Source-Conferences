Title: DrupalCon Dublin 2016: Branch Out of Your Comfort Zone with Twig Templates
Publication date: 2016-09-27
Playlist: DrupalCon Dublin 2016
Description: 
	Drupal 8’s theming engine is now powered by Twig, but how do we turn over a new leaf after years spent using PHPTemplate to drive our themes? It’s time to take the plunge and discover how easy it is to start working with Twig today. Let’s put Twig under the microscope and compare what’s new and what’s stayed the same!
Captions: 
	00:00:00,000 --> 00:00:04,830
I just so you know the slides are

00:00:02,639 --> 00:00:06,089
already uploaded on the session so if

00:00:04,830 --> 00:00:09,480
you want to download them to follow

00:00:06,089 --> 00:00:10,710
along that would be great so you know

00:00:09,480 --> 00:00:13,139
there's a lot of code snippets and

00:00:10,710 --> 00:00:14,370
examples throughout this session and

00:00:13,139 --> 00:00:17,400
we're going to be comparing twig

00:00:14,370 --> 00:00:21,150
templates in PHP template from Drupal 7

00:00:17,400 --> 00:00:23,519
the pH TP template and Drupal 8 using

00:00:21,150 --> 00:00:25,800
twig so I'm really excited and let's get

00:00:23,519 --> 00:00:27,570
started so real quick my name is Larry

00:00:25,800 --> 00:00:30,330
will on gitane there's my twitter handle

00:00:27,570 --> 00:00:31,920
I work for chromatic we have team

00:00:30,330 --> 00:00:33,960
members all across the United States and

00:00:31,920 --> 00:00:37,590
in Europe check us out on Twitter or

00:00:33,960 --> 00:00:40,020
online let's just dive right into it so

00:00:37,590 --> 00:00:41,730
PHP template this is a theme engine if

00:00:40,020 --> 00:00:45,989
you're not familiar i'm sure many of us

00:00:41,730 --> 00:00:48,059
are that power is Drupal 7 themes it

00:00:45,989 --> 00:00:50,579
allows us to create reusable templates

00:00:48,059 --> 00:00:53,219
to render dynamic markup and it's a mix

00:00:50,579 --> 00:00:55,559
between HTML and PHP which is good and

00:00:53,219 --> 00:00:58,440
bad at the same time but when we move on

00:00:55,559 --> 00:01:03,960
to twig with Drupal 8 we have a major

00:00:58,440 --> 00:01:06,840
shift we're using twig as our theme

00:01:03,960 --> 00:01:09,479
engine and what is twig it's a compound

00:01:06,840 --> 00:01:12,450
macro language and it's all about

00:01:09,479 --> 00:01:16,290
abstraction now this is a big shift from

00:01:12,450 --> 00:01:18,659
Drupal 7 to Drupal 8 using twig but you

00:01:16,290 --> 00:01:20,159
might ask why are we using twig what was

00:01:18,659 --> 00:01:23,420
the impetus what was the reason that we

00:01:20,159 --> 00:01:26,509
changed and there are two major reasons

00:01:23,420 --> 00:01:30,119
the first reason the first reason is

00:01:26,509 --> 00:01:31,920
jobs if you know HTML you can quickly

00:01:30,119 --> 00:01:34,530
pick up on twig without having to

00:01:31,920 --> 00:01:38,070
program any sort of PHP that wasn't

00:01:34,530 --> 00:01:40,189
truly the case with Drupal 7 also with

00:01:38,070 --> 00:01:42,750
the abstraction and masks the complexity

00:01:40,189 --> 00:01:44,820
so that front end developers from a

00:01:42,750 --> 00:01:50,189
different paradigm are able to come into

00:01:44,820 --> 00:01:52,649
Drupal 8 and start building templates so

00:01:50,189 --> 00:01:54,210
twig walls off PHP completely so that we

00:01:52,649 --> 00:01:55,920
can just focus on learning twig and is

00:01:54,210 --> 00:01:59,430
conventions which is what we're going to

00:01:55,920 --> 00:02:03,000
do throughout this talk today so twig is

00:01:59,430 --> 00:02:05,969
not PHP just to be clear a few pros for

00:02:03,000 --> 00:02:07,890
twig it's easier in my opinion for non

00:02:05,969 --> 00:02:10,800
developers to pick up than PHP template

00:02:07,890 --> 00:02:12,989
in Drupal 7 is all you need to know is

00:02:10,800 --> 00:02:13,350
HTML and to a convention xand you can

00:02:12,989 --> 00:02:15,060
get

00:02:13,350 --> 00:02:16,500
arted so we're just going to be taking a

00:02:15,060 --> 00:02:18,930
closer look now if you're familiar with

00:02:16,500 --> 00:02:20,400
Drupal 7 and the theming system we're

00:02:18,930 --> 00:02:22,470
going to be doing a lot of comparison

00:02:20,400 --> 00:02:24,330
between Drupal 7 and Drupal 8 so you

00:02:22,470 --> 00:02:26,190
have a frame of reference if you're

00:02:24,330 --> 00:02:28,680
brand new to Drupal which is perfect and

00:02:26,190 --> 00:02:30,510
great we'll be introducing you to twig

00:02:28,680 --> 00:02:32,580
here and you'll also be able to backport

00:02:30,510 --> 00:02:34,230
some of that knowledge to Drupal 7 so

00:02:32,580 --> 00:02:38,520
let's just get started by taking a look

00:02:34,230 --> 00:02:42,750
at some code now these are both lifted

00:02:38,520 --> 00:02:46,020
from a core theme bartok one is from

00:02:42,750 --> 00:02:48,540
Drupal 7 the node TPL dot PHP one is

00:02:46,020 --> 00:02:50,430
from Drupal 8 the twig file at the

00:02:48,540 --> 00:02:52,200
bottom now they're both doing the exact

00:02:50,430 --> 00:02:54,900
same thing and as you can see the syntax

00:02:52,200 --> 00:02:57,630
is definitely different on the top we

00:02:54,900 --> 00:02:59,160
have PHP declarations littered

00:02:57,630 --> 00:03:02,490
throughout and in the bottom we have a

00:02:59,160 --> 00:03:06,090
bunch of curly braces now if anyone is

00:03:02,490 --> 00:03:08,550
familiar with Jekyll twig looks a lot

00:03:06,090 --> 00:03:10,740
like Jekyll so if you have any sort of

00:03:08,550 --> 00:03:16,680
experience with that it will be useful

00:03:10,740 --> 00:03:18,090
to keep that in mind so we're going to

00:03:16,680 --> 00:03:20,370
be going through each and every one of

00:03:18,090 --> 00:03:21,810
these topics systematically and

00:03:20,370 --> 00:03:23,520
comparing the difference between Drupal

00:03:21,810 --> 00:03:26,250
7 and Drupal 8 i'm going to be using

00:03:23,520 --> 00:03:30,470
drupal 7 in place of PHP template and

00:03:26,250 --> 00:03:32,310
Drupal 8 in terms of in place of twig so

00:03:30,470 --> 00:03:33,420
this is all that we're going to be

00:03:32,310 --> 00:03:34,770
covering we're going to go through each

00:03:33,420 --> 00:03:36,510
and every one of them and hopefully by

00:03:34,770 --> 00:03:38,190
the end you'll be familiar enough with

00:03:36,510 --> 00:03:40,020
Drupal 8 and twig that you can get

00:03:38,190 --> 00:03:43,560
started with creating templates will

00:03:40,020 --> 00:03:47,160
take with twig right away so let's look

00:03:43,560 --> 00:03:48,750
at creating templates in Drupal 7 we

00:03:47,160 --> 00:03:51,540
have all of these core templates that

00:03:48,750 --> 00:03:54,900
are available to us now there's a ton of

00:03:51,540 --> 00:03:56,400
these but they're super useful because

00:03:54,900 --> 00:04:00,090
if we want to create a template all we

00:03:56,400 --> 00:04:04,350
need to do is go and find our template

00:04:00,090 --> 00:04:06,150
file within modules / the star is a

00:04:04,350 --> 00:04:11,490
placeholder for the name of module like

00:04:06,150 --> 00:04:13,500
node and we can copy and paste the

00:04:11,490 --> 00:04:16,140
template file into our theme file and

00:04:13,500 --> 00:04:18,420
that template file in our theme file

00:04:16,140 --> 00:04:20,820
will then override what's being output

00:04:18,420 --> 00:04:23,910
by default so that's a super helpful way

00:04:20,820 --> 00:04:25,919
of creating our own templates and

00:04:23,910 --> 00:04:26,940
creating custom templates now if we

00:04:25,919 --> 00:04:29,130
create custom

00:04:26,940 --> 00:04:32,310
templates we have to deal with template

00:04:29,130 --> 00:04:35,190
dot PHP now in this example we are

00:04:32,310 --> 00:04:40,100
taking the node TPL dot PHP file and

00:04:35,190 --> 00:04:46,260
creating a promoted no TPL dot PHP file

00:04:40,100 --> 00:04:48,930
so that if we have a node that has the

00:04:46,260 --> 00:04:51,540
promote flag on it from our

00:04:48,930 --> 00:04:54,210
configuration we can tell it that we

00:04:51,540 --> 00:04:55,500
want to use the node promoted template

00:04:54,210 --> 00:04:57,330
file so we're using theme hook

00:04:55,500 --> 00:05:01,170
suggestions we're going to cover in

00:04:57,330 --> 00:05:02,700
great detail very soon but this is just

00:05:01,170 --> 00:05:05,310
a quick example of how we would create a

00:05:02,700 --> 00:05:06,630
custom template will revisit this soon

00:05:05,310 --> 00:05:09,090
enough but first let's take a look at

00:05:06,630 --> 00:05:15,270
how we create templates in Drupal 8 and

00:05:09,090 --> 00:05:18,440
twig so in Drupal 8 we don't have to

00:05:15,270 --> 00:05:21,030
explicitly define where a template lives

00:05:18,440 --> 00:05:23,940
we just have to place it in its expected

00:05:21,030 --> 00:05:29,100
home which is the templates directory of

00:05:23,940 --> 00:05:31,020
the theme this is all based on routing

00:05:29,100 --> 00:05:32,850
and it's also based on naming

00:05:31,020 --> 00:05:34,200
conventions these are two things that

00:05:32,850 --> 00:05:36,510
weird and what we're not going to cover

00:05:34,200 --> 00:05:37,530
routing in detail in this session but we

00:05:36,510 --> 00:05:39,570
are going to talk about naming

00:05:37,530 --> 00:05:41,190
conventions that we know how to create

00:05:39,570 --> 00:05:48,660
templates and how to override templates

00:05:41,190 --> 00:05:50,550
within twig and Drupal 8 also if you

00:05:48,660 --> 00:05:52,470
want to create sub directories within

00:05:50,550 --> 00:05:54,840
your template directory in your theme

00:05:52,470 --> 00:05:57,450
that is possible you're able to do that

00:05:54,840 --> 00:05:59,190
by altering the hook theme function or

00:05:57,450 --> 00:06:01,830
the hook theme registry ultra function

00:05:59,190 --> 00:06:03,810
if you for example wanted to have your

00:06:01,830 --> 00:06:06,150
custom theme templates and then within

00:06:03,810 --> 00:06:08,460
template something like custom templates

00:06:06,150 --> 00:06:10,620
for anything that is purely custom

00:06:08,460 --> 00:06:13,919
that's not based on any of the templates

00:06:10,620 --> 00:06:15,510
found in core when we talk about

00:06:13,919 --> 00:06:20,760
overriding default templates we're going

00:06:15,510 --> 00:06:23,430
to revisit what we just saw here we're

00:06:20,760 --> 00:06:26,280
overriding the page template in Drupal 7

00:06:23,430 --> 00:06:29,160
and giving it a page template for every

00:06:26,280 --> 00:06:32,340
single node type using template dot PHP

00:06:29,160 --> 00:06:36,229
and then the hook pre-process page

00:06:32,340 --> 00:06:39,900
function so we're checking to see if a

00:06:36,229 --> 00:06:43,560
variable for a node type is set

00:06:39,900 --> 00:06:49,470
we're going to set a theme book

00:06:43,560 --> 00:06:52,680
suggestion of the node type now there's

00:06:49,470 --> 00:06:54,270
a hierarchy of where templates are

00:06:52,680 --> 00:06:56,340
rendered and how they're rendered we're

00:06:54,270 --> 00:06:57,990
going to cover that in naming convention

00:06:56,340 --> 00:06:59,160
so keep naming conventions in the back

00:06:57,990 --> 00:07:00,840
of your mind it's something that we're

00:06:59,160 --> 00:07:04,050
going to talk about because it's really

00:07:00,840 --> 00:07:05,370
important and for me personally it took

00:07:04,050 --> 00:07:11,610
a while for me to wrap my mind around

00:07:05,370 --> 00:07:15,389
how certain templates got printed so in

00:07:11,610 --> 00:07:17,190
Drupal 8 it's much simpler we just have

00:07:15,389 --> 00:07:19,680
four steps these are directly from the

00:07:17,190 --> 00:07:24,030
documentation of how we would override a

00:07:19,680 --> 00:07:25,560
default template first you locate the

00:07:24,030 --> 00:07:27,900
template you wish to override which is

00:07:25,560 --> 00:07:29,340
usually in core you copy that template

00:07:27,900 --> 00:07:32,610
file into the location of your theme

00:07:29,340 --> 00:07:35,639
folder which is theme / or the name of

00:07:32,610 --> 00:07:36,900
your custom theme / templates rename

00:07:35,639 --> 00:07:39,720
that template according to naming

00:07:36,900 --> 00:07:41,250
conventions which will be looking at

00:07:39,720 --> 00:07:43,979
soon and then you modify that template

00:07:41,250 --> 00:07:46,470
to your liking now this is a really big

00:07:43,979 --> 00:07:49,550
overview of what we're actually going to

00:07:46,470 --> 00:07:52,710
be doing everything else is going to be

00:07:49,550 --> 00:07:53,970
it's not this is just like a top-down

00:07:52,710 --> 00:07:55,050
approach so we're looking at the very

00:07:53,970 --> 00:07:58,020
top and we're going to get into the

00:07:55,050 --> 00:08:00,740
specific details within our templates so

00:07:58,020 --> 00:08:03,870
now we have creating templates we have

00:08:00,740 --> 00:08:07,560
overriding default templates now let's

00:08:03,870 --> 00:08:08,580
look at the theme hook suggestions now

00:08:07,560 --> 00:08:11,400
if you didn't know a theme hook

00:08:08,580 --> 00:08:15,060
suggestion is an alternate template file

00:08:11,400 --> 00:08:16,169
to use for a particular instance now

00:08:15,060 --> 00:08:19,380
let's take a look at how these are done

00:08:16,169 --> 00:08:21,020
in Drupal 7 there are a lot of theme

00:08:19,380 --> 00:08:22,740
hooks that are available to us

00:08:21,020 --> 00:08:24,720
pre-process hooks are ones that are

00:08:22,740 --> 00:08:26,310
super popular people are usually very

00:08:24,720 --> 00:08:27,840
familiar with this is one that we've

00:08:26,310 --> 00:08:33,089
seen already when we were creating our

00:08:27,840 --> 00:08:36,000
own custom template and if you take a

00:08:33,089 --> 00:08:37,680
look though we're using hook theme

00:08:36,000 --> 00:08:41,219
suggestion right here instead of hook

00:08:37,680 --> 00:08:43,260
theme suggestions now that's a very key

00:08:41,219 --> 00:08:44,670
difference and it can lead to a lot of

00:08:43,260 --> 00:08:46,339
headaches if you're not familiar between

00:08:44,670 --> 00:08:48,870
the difference between theme hook

00:08:46,339 --> 00:08:50,250
suggestion and theme hook suggestion so

00:08:48,870 --> 00:08:53,490
let's take a look and just aiesec that

00:08:50,250 --> 00:08:59,490
really quick so they're not equal in 10

00:08:53,490 --> 00:09:02,010
PHP these things are not the same theme

00:08:59,490 --> 00:09:03,990
hook suggestion only accepts a single

00:09:02,010 --> 00:09:05,850
suggestion and that takes precedence so

00:09:03,990 --> 00:09:07,350
if you want to override something and

00:09:05,850 --> 00:09:09,709
you don't want there to be a fallback

00:09:07,350 --> 00:09:13,800
theme hug suggestion is the way to go

00:09:09,709 --> 00:09:15,839
now theme hook suggestions it takes an

00:09:13,800 --> 00:09:19,260
array of suggestions that you pass in

00:09:15,839 --> 00:09:21,959
and it it prioritizes them with the

00:09:19,260 --> 00:09:24,660
first in last out order and it cascades

00:09:21,959 --> 00:09:28,500
based on specificity and that all goes

00:09:24,660 --> 00:09:30,779
back to naming functions and that will

00:09:28,500 --> 00:09:33,209
discover and debugging will make this a

00:09:30,779 --> 00:09:35,520
lot easier so let's take a look at

00:09:33,209 --> 00:09:39,080
Drupal 8 really quick and the theme put

00:09:35,520 --> 00:09:39,080
suggestions that are available to us now

00:09:40,250 --> 00:09:44,820
we have several more theme hook

00:09:42,839 --> 00:09:47,640
suggestions that are available within

00:09:44,820 --> 00:09:49,920
Drupal 8 and this is all in the custom

00:09:47,640 --> 00:09:51,750
dot theme file I might have glazed over

00:09:49,920 --> 00:09:53,610
this earlier so in Drupal 7 you have

00:09:51,750 --> 00:09:56,399
template dot PHP where a lot of your

00:09:53,610 --> 00:09:59,010
pre-process functions and and hooks live

00:09:56,399 --> 00:10:02,160
for your theme in Drupal 8 we have a

00:09:59,010 --> 00:10:03,420
theme theme file since that's really

00:10:02,160 --> 00:10:06,329
confusing when you're looking at it on

00:10:03,420 --> 00:10:07,890
on a presentation for all of our

00:10:06,329 --> 00:10:11,339
examples in Drupal 8 we're going to be

00:10:07,890 --> 00:10:12,930
using custom dot theme so custom is the

00:10:11,339 --> 00:10:15,360
name of our theme theme is the name of

00:10:12,930 --> 00:10:17,310
the file and we have each of these

00:10:15,360 --> 00:10:19,140
suggestions and and what they do the

00:10:17,310 --> 00:10:22,829
first one it alters name suggestions for

00:10:19,140 --> 00:10:24,990
theme plugs second you can see for a

00:10:22,829 --> 00:10:26,880
specific hook and then finally alter

00:10:24,990 --> 00:10:30,209
suggestions for a specific theme hook

00:10:26,880 --> 00:10:34,380
now also different in Drupal 8 you can

00:10:30,209 --> 00:10:37,920
see that we have passed in by reference

00:10:34,380 --> 00:10:39,959
is this suggestions parameter on both of

00:10:37,920 --> 00:10:45,390
them now this is really important

00:10:39,959 --> 00:10:47,399
because it's really different from

00:10:45,390 --> 00:10:49,790
Drupal 7 that's something just to keep

00:10:47,399 --> 00:10:49,790
in mind

00:10:53,930 --> 00:10:58,940
have a dedicated hook here this is just

00:10:56,390 --> 00:11:02,440
a quick example of how we are our goal

00:10:58,940 --> 00:11:05,600
is to create a custom theme template

00:11:02,440 --> 00:11:09,110
using our hook theme suggestions hook

00:11:05,600 --> 00:11:11,540
alter so that we in the end call the

00:11:09,110 --> 00:11:13,790
right template for our file so what

00:11:11,540 --> 00:11:16,310
we're trying to do is we're going to

00:11:13,790 --> 00:11:19,490
modify the user template say hey we want

00:11:16,310 --> 00:11:22,100
our user to have specific templates for

00:11:19,490 --> 00:11:28,000
specific view modes which we said in our

00:11:22,100 --> 00:11:31,520
current figuration so when we do this

00:11:28,000 --> 00:11:32,779
this is what template this is what

00:11:31,520 --> 00:11:35,080
Drupal is going to be looking for in

00:11:32,779 --> 00:11:37,370
terms of a template will have our user

00:11:35,080 --> 00:11:38,899
custom view mode whatever that name is

00:11:37,370 --> 00:11:41,570
whatever the names you sent your

00:11:38,899 --> 00:11:45,200
configuration are that's how you would

00:11:41,570 --> 00:11:48,200
use a theme suggestion in Drupal 8 this

00:11:45,200 --> 00:11:50,330
is just a standard overview we're not

00:11:48,200 --> 00:11:53,060
going to go super deep into all the rest

00:11:50,330 --> 00:11:54,709
of the theme hook suggestions this is a

00:11:53,060 --> 00:11:56,839
great example for example if you want to

00:11:54,709 --> 00:11:59,209
modify node you can follow it in a

00:11:56,839 --> 00:12:03,250
similar fashion using custom suggestions

00:11:59,209 --> 00:12:05,360
underscore node alter so on and so forth

00:12:03,250 --> 00:12:07,130
now naming conventions is something I

00:12:05,360 --> 00:12:09,950
keep talking about and it's worth

00:12:07,130 --> 00:12:11,959
spending our time dissecting what naming

00:12:09,950 --> 00:12:17,270
conventions mean in Drupal 7 and Drupal

00:12:11,959 --> 00:12:21,230
8 because they're very similar for our

00:12:17,270 --> 00:12:24,440
example calm / no dash 1 so this is a

00:12:21,230 --> 00:12:26,000
front page of our example website naming

00:12:24,440 --> 00:12:30,500
conventions will determine the themes

00:12:26,000 --> 00:12:34,400
hierarchy of what template gets called

00:12:30,500 --> 00:12:36,589
in what situation so it starts from the

00:12:34,400 --> 00:12:39,470
most specific and it goes down to the

00:12:36,589 --> 00:12:42,110
least specific so it looks to see hey do

00:12:39,470 --> 00:12:45,589
you have a page dash dash front if your

00:12:42,110 --> 00:12:48,920
node / 1 is the front page if not we'll

00:12:45,589 --> 00:12:52,190
go to page desh desh no dash one if not

00:12:48,920 --> 00:12:53,570
page dash node and so I don't continue

00:12:52,190 --> 00:12:55,700
on down until it finds the right

00:12:53,570 --> 00:12:57,800
template to render and we set these

00:12:55,700 --> 00:13:01,010
things in template dot PHP using our

00:12:57,800 --> 00:13:02,660
theme hook suggestions but understanding

00:13:01,010 --> 00:13:06,079
the hierarchy is important especially

00:13:02,660 --> 00:13:07,370
when we come into Drupal 8 as you can

00:13:06,079 --> 00:13:09,350
see it follows a very

00:13:07,370 --> 00:13:13,400
similar hierarchy and this is just an

00:13:09,350 --> 00:13:14,990
example for page templates note that

00:13:13,400 --> 00:13:17,570
there are similar naming conventions for

00:13:14,990 --> 00:13:20,720
regions for blocks taxonomy terms

00:13:17,570 --> 00:13:22,670
comments fields search results there's a

00:13:20,720 --> 00:13:24,500
lot of patterns on drupal.org that are

00:13:22,670 --> 00:13:26,839
well documented I haven't included them

00:13:24,500 --> 00:13:29,630
all in this talk just because there are

00:13:26,839 --> 00:13:31,670
so many of them but they all follow the

00:13:29,630 --> 00:13:33,890
similar sort of hierarchy from the most

00:13:31,670 --> 00:13:36,500
specific to the least specific and you

00:13:33,890 --> 00:13:42,860
can set the specificity yourself so that

00:13:36,500 --> 00:13:47,420
you can determine which twig file gets

00:13:42,860 --> 00:13:50,540
called now let's talk about some of

00:13:47,420 --> 00:13:51,710
these the actual code within a twig file

00:13:50,540 --> 00:13:53,870
so we can understand and see the

00:13:51,710 --> 00:13:57,440
differences that are displayed first

00:13:53,870 --> 00:13:59,000
we're going to talk about variables now

00:13:57,440 --> 00:14:01,520
in template dot PHP we're revisiting

00:13:59,000 --> 00:14:03,710
this again we have our pre-processed

00:14:01,520 --> 00:14:05,420
function and we're setting it our

00:14:03,710 --> 00:14:07,850
variable of foo we're setting it to a

00:14:05,420 --> 00:14:10,040
simple string of bar and in our node

00:14:07,850 --> 00:14:15,080
template we are printing it out so we

00:14:10,040 --> 00:14:17,980
can access that by going to PHP print

00:14:15,080 --> 00:14:22,550
our variable foo and that will render

00:14:17,980 --> 00:14:24,470
bar a fairly straightforward example now

00:14:22,550 --> 00:14:28,730
let's look at what this looks like in

00:14:24,470 --> 00:14:30,230
Drupal 8 with twig the only difference

00:14:28,730 --> 00:14:32,350
at the top is that instead of template

00:14:30,230 --> 00:14:34,700
dot PHP we're using custom da theme

00:14:32,350 --> 00:14:36,560
we're still calling a pre-processed

00:14:34,700 --> 00:14:39,709
function we're setting the exact same

00:14:36,560 --> 00:14:41,209
way well within our twig file we don't

00:14:39,709 --> 00:14:43,100
have any of those PHP declarations

00:14:41,209 --> 00:14:45,920
anymore we just have opening curly

00:14:43,100 --> 00:14:50,260
braces the name of our variable closing

00:14:45,920 --> 00:14:52,190
curly braces now let's take a look at a

00:14:50,260 --> 00:14:54,620
comparison between the two as you can

00:14:52,190 --> 00:14:56,180
see at the very top exactly the same

00:14:54,620 --> 00:14:58,910
well there in Drupal 7 or Drupal 8

00:14:56,180 --> 00:15:01,760
within our node template file and within

00:14:58,910 --> 00:15:03,830
our node twig file the difference is

00:15:01,760 --> 00:15:07,700
clear based on the curly braces and the

00:15:03,830 --> 00:15:08,690
PHP declarations now this is a template

00:15:07,700 --> 00:15:12,110
of what we're going to be going through

00:15:08,690 --> 00:15:13,580
for the rest of this talk with the

00:15:12,110 --> 00:15:15,170
slides we're going to see Drupal 7 we're

00:15:13,580 --> 00:15:16,970
going to see Drupal 8 and then we'll do

00:15:15,170 --> 00:15:19,190
a direct comparison between the two so

00:15:16,970 --> 00:15:21,080
we can see how one translates to the

00:15:19,190 --> 00:15:26,750
other and vice versa

00:15:21,080 --> 00:15:29,150
so with conditionals it's important to

00:15:26,750 --> 00:15:31,520
remember that we don't want to have any

00:15:29,150 --> 00:15:35,150
real business logic within our template

00:15:31,520 --> 00:15:37,730
that's a really big no-no but we do want

00:15:35,150 --> 00:15:39,770
to have control over if things are

00:15:37,730 --> 00:15:42,770
displayed so for example conditional

00:15:39,770 --> 00:15:45,770
here we are checking to see if the URL

00:15:42,770 --> 00:15:49,610
variable exists if it does we're going

00:15:45,770 --> 00:15:51,290
to print our URL and as an anchor tag

00:15:49,610 --> 00:15:54,290
and then an image so you can click on

00:15:51,290 --> 00:15:55,730
the image go to the URL now if it

00:15:54,290 --> 00:15:59,380
doesn't exist you're going to print just

00:15:55,730 --> 00:15:59,380
the image through your images just there

00:15:59,650 --> 00:16:03,590
there's some notation that's you you

00:16:02,270 --> 00:16:06,440
should just be aware of there's

00:16:03,590 --> 00:16:09,110
semicolons after the conditional

00:16:06,440 --> 00:16:11,800
statements if you don't have those Ariel

00:16:09,110 --> 00:16:14,150
get some errors on your page

00:16:11,800 --> 00:16:16,490
conditionals in Drupal 8 it's very

00:16:14,150 --> 00:16:18,710
similar but we we have opening curly

00:16:16,490 --> 00:16:20,960
braces in the percentage sign and this

00:16:18,710 --> 00:16:24,650
in twig is something that's really

00:16:20,960 --> 00:16:26,920
special is that it's much more readable

00:16:24,650 --> 00:16:29,810
in my opinion so you have if you are el

00:16:26,920 --> 00:16:32,150
variable you can print it out print out

00:16:29,810 --> 00:16:36,920
your image otherwise just have your

00:16:32,150 --> 00:16:42,350
image as you can see they're very

00:16:36,920 --> 00:16:44,300
similar there are more conditionals that

00:16:42,350 --> 00:16:47,240
besides just if we want to take a look

00:16:44,300 --> 00:16:51,020
the sea of other conditionals like if

00:16:47,240 --> 00:16:52,730
set or empty so on the Left we have PHP

00:16:51,020 --> 00:16:55,070
template this looks a lot like just

00:16:52,730 --> 00:16:59,930
straight PHP you're checking if

00:16:55,070 --> 00:17:02,420
something's empty if not and you're also

00:16:59,930 --> 00:17:04,370
checking if something is is set on the

00:17:02,420 --> 00:17:08,089
left now what's interesting is on the

00:17:04,370 --> 00:17:12,190
right with twig we're using keywords

00:17:08,089 --> 00:17:17,030
that are sort of like natural language

00:17:12,190 --> 00:17:19,910
so if URL is not empty you'll print your

00:17:17,030 --> 00:17:21,680
link with your link and if URL is

00:17:19,910 --> 00:17:24,790
defined that's how you would define and

00:17:21,680 --> 00:17:24,790
is set within twig

00:17:26,179 --> 00:17:30,200
so following down this hole we're going

00:17:28,309 --> 00:17:32,450
to continue with control structures

00:17:30,200 --> 00:17:38,330
which is the logical next step after

00:17:32,450 --> 00:17:41,029
we've looked at conditionals so very

00:17:38,330 --> 00:17:43,039
common control structure is a loop now

00:17:41,029 --> 00:17:46,460
in PHP on the left we can see how a loop

00:17:43,039 --> 00:17:48,669
is defined we use a for each we have we

00:17:46,460 --> 00:17:51,440
iterate through them and we print rose

00:17:48,669 --> 00:17:55,879
PHP template we have to make all those

00:17:51,440 --> 00:18:00,440
PHP declarations throughout now let's

00:17:55,879 --> 00:18:03,049
take a look at this in twig it's not

00:18:00,440 --> 00:18:05,090
quite PHP it's not quite PHP template

00:18:03,049 --> 00:18:07,039
it's something in and of itself but it's

00:18:05,090 --> 00:18:12,259
also similar to natural language so if

00:18:07,039 --> 00:18:14,419
or row in rows show rogue content now

00:18:12,259 --> 00:18:17,059
this is our first exposure to dot

00:18:14,419 --> 00:18:19,570
notation which allows us to access an

00:18:17,059 --> 00:18:22,820
attribute on a variable and in this case

00:18:19,570 --> 00:18:23,960
each row has a content attribute and

00:18:22,820 --> 00:18:29,869
that's what we're going to be printing

00:18:23,960 --> 00:18:39,299
here PHP template versus twig we can see

00:18:29,869 --> 00:18:40,499
in this example just how they compare so

00:18:39,299 --> 00:18:45,090
important because they allow us to

00:18:40,499 --> 00:18:46,529
manipulate strings and arrays there are

00:18:45,090 --> 00:18:47,730
some that are available in both Drupal 7

00:18:46,529 --> 00:18:50,820
and 8 and we're just going to cover

00:18:47,730 --> 00:18:52,230
those in brief here so we're going to

00:18:50,820 --> 00:18:54,809
look at check plane translate

00:18:52,230 --> 00:19:00,989
translating with substitutions imploding

00:18:54,809 --> 00:19:06,059
and escaping each one of these has its

00:19:00,989 --> 00:19:08,549
own use so I'm sure many of us might be

00:19:06,059 --> 00:19:10,649
familiar with what each of these do the

00:19:08,549 --> 00:19:14,389
T function for example will allow us to

00:19:10,649 --> 00:19:16,710
translate a string I can also have

00:19:14,389 --> 00:19:18,509
substitutions that need to be translated

00:19:16,710 --> 00:19:20,639
we can implode an array so that things

00:19:18,509 --> 00:19:23,789
are concatenated and then we can also

00:19:20,639 --> 00:19:27,059
check plane which encodes special

00:19:23,789 --> 00:19:31,109
characters in a plain text string to

00:19:27,059 --> 00:19:33,919
display HTML now the echo and the print

00:19:31,109 --> 00:19:36,119
at the top and bottom those things are

00:19:33,919 --> 00:19:39,869
they're not relevant for this talk I

00:19:36,119 --> 00:19:42,840
just wanted to add a variety here now in

00:19:39,869 --> 00:19:46,429
twig we are doing the exact same thing

00:19:42,840 --> 00:19:49,350
but we have a different kind of notation

00:19:46,429 --> 00:19:51,749
we have our variable or string followed

00:19:49,350 --> 00:19:54,649
by a pipe and the filter that we mean to

00:19:51,749 --> 00:19:58,679
call notice that in the translation

00:19:54,649 --> 00:20:02,190
filters we are not passing passing in a

00:19:58,679 --> 00:20:05,070
variable directly that's a no-no for a

00:20:02,190 --> 00:20:07,230
variety of reasons the translation

00:20:05,070 --> 00:20:09,299
documentation online has a lot of best

00:20:07,230 --> 00:20:12,179
practices about how you translate links

00:20:09,299 --> 00:20:15,179
do's and don'ts etc but this is just an

00:20:12,179 --> 00:20:19,739
example of what translating looks like

00:20:15,179 --> 00:20:22,200
in twig note also that there are many

00:20:19,739 --> 00:20:24,389
more filters available to us in twig and

00:20:22,200 --> 00:20:26,460
Drupal 8 this is just an example of a

00:20:24,389 --> 00:20:28,769
few of the common ones just so that we

00:20:26,460 --> 00:20:30,720
can compare them with Drupal 7 if you

00:20:28,769 --> 00:20:34,169
compare left and right it's another

00:20:30,720 --> 00:20:41,549
example that you can see how each is

00:20:34,169 --> 00:20:45,119
translated to the other now in twig we

00:20:41,549 --> 00:20:47,070
have something special that we can chain

00:20:45,119 --> 00:20:48,899
different filters together so in this

00:20:47,070 --> 00:20:50,129
we're getting an array of usernames

00:20:48,899 --> 00:20:52,950
we're going to concatenate them with a

00:20:50,129 --> 00:20:54,960
safe join so printing out usernames

00:20:52,950 --> 00:20:56,610
then we're going to use another filter

00:20:54,960 --> 00:20:58,830
that's available to us called lower

00:20:56,610 --> 00:21:04,430
which is just going to output all of

00:20:58,830 --> 00:21:07,050
that text in lowercase so we are able to

00:21:04,430 --> 00:21:11,160
call multiple filters in a call now

00:21:07,050 --> 00:21:12,870
there is specific documentation on how

00:21:11,160 --> 00:21:16,260
to do this using this with translation

00:21:12,870 --> 00:21:17,550
gets really tricky and with links so if

00:21:16,260 --> 00:21:19,770
that's something you want to do be aware

00:21:17,550 --> 00:21:21,690
that there's some some security

00:21:19,770 --> 00:21:23,310
implication that and that it's

00:21:21,690 --> 00:21:25,200
worthwhile to check out the docs online

00:21:23,310 --> 00:21:27,270
about examples that are good and bad

00:21:25,200 --> 00:21:30,530
it's it's well documented but it's

00:21:27,270 --> 00:21:30,530
outside the scope of this talk

00:21:40,240 --> 00:21:45,850
okay links we're going to do a quick

00:21:43,420 --> 00:21:47,470
overview of links Drupal 7 we have a few

00:21:45,850 --> 00:21:50,140
utility functions that are available as

00:21:47,470 --> 00:21:52,240
available to us Drupal get path it

00:21:50,140 --> 00:21:54,429
returns the path of a system item path

00:21:52,240 --> 00:21:57,429
to fame returns a path to the current

00:21:54,429 --> 00:21:59,620
themed element we see that in template

00:21:57,429 --> 00:22:02,230
dot PHP we can define a custom URL

00:21:59,620 --> 00:22:04,030
variable and get the path to the node

00:22:02,230 --> 00:22:06,490
this is an example of how you translate

00:22:04,030 --> 00:22:09,880
the nodes path into a variable so you

00:22:06,490 --> 00:22:16,240
can print it out on the template and you

00:22:09,880 --> 00:22:21,309
do that in custom URL dot PHP below now

00:22:16,240 --> 00:22:23,620
in Drupal 8 we have two functions that

00:22:21,309 --> 00:22:26,950
help us generate links based on the

00:22:23,620 --> 00:22:29,490
route so the example I've used for the

00:22:26,950 --> 00:22:31,900
URL function could be used with a path

00:22:29,490 --> 00:22:34,420
this is just an example of how to get an

00:22:31,900 --> 00:22:36,520
absolute route and that's essentially

00:22:34,420 --> 00:22:39,190
the difference between URL and path one

00:22:36,520 --> 00:22:46,000
is relative and one gives you an

00:22:39,190 --> 00:22:48,370
absolute URL render raise our key value

00:22:46,000 --> 00:22:50,050
pair that we can pass to the render

00:22:48,370 --> 00:22:53,260
function within Drupal this already

00:22:50,050 --> 00:22:55,600
exists in Drupal 7 so let's take a look

00:22:53,260 --> 00:22:56,860
at how that's done in Drupal 7 before we

00:22:55,600 --> 00:23:02,320
take a look at what that means for

00:22:56,860 --> 00:23:04,020
Drupal 8 so on the Left we have template

00:23:02,320 --> 00:23:06,280
dot PHP and we have two different

00:23:04,020 --> 00:23:08,800
variables that are defying the exact

00:23:06,280 --> 00:23:13,300
same thing so in Drupal 7 we also have

00:23:08,800 --> 00:23:16,020
the theme function so we can call our

00:23:13,300 --> 00:23:18,610
theme function and pass it in parameters

00:23:16,020 --> 00:23:22,570
such as image and then an array with the

00:23:18,610 --> 00:23:25,210
path and then alt and then on the right

00:23:22,570 --> 00:23:27,190
we can print out that variable in our

00:23:25,210 --> 00:23:33,730
template with just a simple print in the

00:23:27,190 --> 00:23:35,350
variable name in using a render array we

00:23:33,730 --> 00:23:38,190
essentially set up the variable as an

00:23:35,350 --> 00:23:41,290
array so we're using all of the same

00:23:38,190 --> 00:23:43,809
parameters for our image but on the

00:23:41,290 --> 00:23:45,450
right in our page dot TPL dot PHP we're

00:23:43,809 --> 00:23:47,890
calling the render function and we're

00:23:45,450 --> 00:23:51,429
printing out the logo now if you just

00:23:47,890 --> 00:23:53,820
did a simple PHP print logo on a render

00:23:51,429 --> 00:23:55,590
array you're just going to see the words

00:23:53,820 --> 00:23:57,900
array on your page where you expect to

00:23:55,590 --> 00:23:59,250
see the image in this example so that's

00:23:57,900 --> 00:24:01,080
something you run into you remember that

00:23:59,250 --> 00:24:04,550
you have to call the render function on

00:24:01,080 --> 00:24:07,920
a render array for Drupal to render it

00:24:04,550 --> 00:24:10,980
now in Drupal 8 the theme function does

00:24:07,920 --> 00:24:14,340
not exist anymore we only use render

00:24:10,980 --> 00:24:20,730
arrays and we're generating our markup

00:24:14,340 --> 00:24:21,990
or custom mark up here so we print it

00:24:20,730 --> 00:24:24,120
out just like you print out a simple

00:24:21,990 --> 00:24:27,750
variable and this will be rendered by

00:24:24,120 --> 00:24:30,330
twig and the Drupal and Drupal so let's

00:24:27,750 --> 00:24:32,340
take a look at how each is done

00:24:30,330 --> 00:24:38,130
comparatively render arrays in Drupal 7

00:24:32,340 --> 00:24:39,990
& 8 we see that the way that we create

00:24:38,130 --> 00:24:43,590
the render array is exactly the same in

00:24:39,990 --> 00:24:45,270
Drupal 7 and Drupal 8 so if you start

00:24:43,590 --> 00:24:46,680
making a habit of using render arrays in

00:24:45,270 --> 00:24:48,720
Drupal 7 if that's something that you're

00:24:46,680 --> 00:24:50,370
doing the transition a Drupal 8 will be

00:24:48,720 --> 00:24:52,200
a lot easier the only thing you really

00:24:50,370 --> 00:24:53,780
need to be aware it was just the twig

00:24:52,200 --> 00:24:55,800
notation of calling in the variable

00:24:53,780 --> 00:24:59,630
because you don't have to call in the

00:24:55,800 --> 00:25:02,430
render function anymore which is great

00:24:59,630 --> 00:25:03,750
now there's a few deep dives in to

00:25:02,430 --> 00:25:05,130
render raise if you really want to

00:25:03,750 --> 00:25:06,720
understand all of the different

00:25:05,130 --> 00:25:07,920
parameters that can be passed and all

00:25:06,720 --> 00:25:10,230
the different things you want to do with

00:25:07,920 --> 00:25:12,000
render arrays when my colleagues Gus

00:25:10,230 --> 00:25:14,370
child's he has a blog post and then also

00:25:12,000 --> 00:25:16,230
Drupal session from drupalcon New

00:25:14,370 --> 00:25:23,880
Orleans about understanding render

00:25:16,230 --> 00:25:25,200
arrays in Drupal 7 and in Drupal 8 now

00:25:23,880 --> 00:25:28,620
this is probably my favorite part

00:25:25,200 --> 00:25:32,240
debugging is incredible in terms of

00:25:28,620 --> 00:25:35,310
helping us develop well and efficiently

00:25:32,240 --> 00:25:37,590
so in Drupal 7 we have the devel module

00:25:35,310 --> 00:25:41,310
and devel themer so in our template I

00:25:37,590 --> 00:25:43,980
PHP we can call our variables pass that

00:25:41,310 --> 00:25:46,260
into DPM and will see our output on the

00:25:43,980 --> 00:25:48,150
right which is a collapsible array that

00:25:46,260 --> 00:25:51,450
allows us to go through and check each

00:25:48,150 --> 00:25:53,880
and every variable that's available to

00:25:51,450 --> 00:25:59,400
us so that we can then modify it within

00:25:53,880 --> 00:26:01,650
our template dot PHP file now in our

00:25:59,400 --> 00:26:03,810
settings I PHP file we can set theme

00:26:01,650 --> 00:26:05,310
debug to true now this is something

00:26:03,810 --> 00:26:07,970
that's new and I don't know if

00:26:05,310 --> 00:26:10,980
everyone's using it yet but if you have

00:26:07,970 --> 00:26:13,590
7.33 or above it's something that was

00:26:10,980 --> 00:26:16,200
backported from Drupal 8 inches rupal

00:26:13,590 --> 00:26:18,539
seven and we'll see an example of what

00:26:16,200 --> 00:26:20,009
this looks like in Drupal 8 in a moment

00:26:18,539 --> 00:26:22,320
but it's the exact same output that's

00:26:20,009 --> 00:26:24,330
that's that's generated and it's very

00:26:22,320 --> 00:26:26,759
helpful in terms of understanding how

00:26:24,330 --> 00:26:32,340
naming conventions work in our theme and

00:26:26,759 --> 00:26:34,289
seeing what's being called in so the big

00:26:32,340 --> 00:26:39,120
block of text on the right this is an

00:26:34,289 --> 00:26:40,860
example of the debug being true so if

00:26:39,120 --> 00:26:43,919
you were to inspect in like chrome

00:26:40,860 --> 00:26:45,840
inspector or in Firebug you would see

00:26:43,919 --> 00:26:49,919
all of these comments within your HTML

00:26:45,840 --> 00:26:51,690
to show what the theme hook is called

00:26:49,919 --> 00:26:58,369
what the file name suggestions are

00:26:51,690 --> 00:27:01,320
available to us and then also the output

00:26:58,369 --> 00:27:02,669
where it begins and where it ends so

00:27:01,320 --> 00:27:05,519
this would be really helpful when you

00:27:02,669 --> 00:27:08,249
are new to Drupal 8 and twig theming to

00:27:05,519 --> 00:27:10,769
be sure to turn on in your services I am

00:27:08,249 --> 00:27:12,659
will file in the twee config the debug

00:27:10,769 --> 00:27:14,399
to true and then auto to reload to true

00:27:12,659 --> 00:27:17,549
as well because if you don't have debug

00:27:14,399 --> 00:27:19,559
to true than even using the bell module

00:27:17,549 --> 00:27:21,600
it you won't be able to do that and you

00:27:19,559 --> 00:27:24,210
also won't be able to do some of these

00:27:21,600 --> 00:27:26,669
functions so at the top we have within

00:27:24,210 --> 00:27:29,610
any of our HTML that twig files we can

00:27:26,669 --> 00:27:30,929
call dump which would just generate the

00:27:29,610 --> 00:27:32,669
list of all the variables that are

00:27:30,929 --> 00:27:34,590
available to us in the current context

00:27:32,669 --> 00:27:35,879
for our template so if you're in the

00:27:34,590 --> 00:27:37,860
node will generate all of the node

00:27:35,879 --> 00:27:39,419
variables if you want to look at a very

00:27:37,860 --> 00:27:41,450
specific variable you can actually pass

00:27:39,419 --> 00:27:44,129
that in and investigate it there and

00:27:41,450 --> 00:27:45,809
then the devel module it's also still

00:27:44,129 --> 00:27:49,230
available to us but instead of calling

00:27:45,809 --> 00:27:51,450
DPM we are calling kindt at the bottom

00:27:49,230 --> 00:27:52,919
it generates output that's very similar

00:27:51,450 --> 00:27:55,860
to what we saw on the last slide which

00:27:52,919 --> 00:28:01,710
is just a collapsible array of key value

00:27:55,860 --> 00:28:03,269
pairs that we can iterate through now

00:28:01,710 --> 00:28:05,100
coding standards are something that a

00:28:03,269 --> 00:28:07,409
lot of people take very seriously within

00:28:05,100 --> 00:28:09,299
every community so let's take a look at

00:28:07,409 --> 00:28:12,509
the coding standards within Drupal 7 and

00:28:09,299 --> 00:28:15,029
then with Drupal 8 we don't have to

00:28:12,509 --> 00:28:16,320
mention every single one of these but

00:28:15,029 --> 00:28:18,629
this is just something for a frame of

00:28:16,320 --> 00:28:21,620
reference of coding standards that are

00:28:18,629 --> 00:28:25,320
adopted in Drupal 7

00:28:21,620 --> 00:28:28,409
and drupal 8 we're adopting the coding

00:28:25,320 --> 00:28:32,070
standards and these are ones from the

00:28:28,409 --> 00:28:33,450
drupal documentation about what you

00:28:32,070 --> 00:28:36,090
should follow when you're using twig

00:28:33,450 --> 00:28:38,129
templates indenting the code inside of

00:28:36,090 --> 00:28:39,990
tags as we see in all these examples and

00:28:38,129 --> 00:28:42,210
then using lower case and underscored

00:28:39,990 --> 00:28:44,370
variables now this isn't all that we're

00:28:42,210 --> 00:28:46,200
are having to abide by because twig

00:28:44,370 --> 00:28:51,509
itself has amount of its own coding

00:28:46,200 --> 00:28:54,509
standards so you place only one space

00:28:51,509 --> 00:28:58,110
before after or before and after each of

00:28:54,509 --> 00:29:01,700
these elements here now remember that

00:28:58,110 --> 00:29:01,700
you can just go back and reference these

00:29:02,029 --> 00:29:08,039
twig also determines that there are no

00:29:04,289 --> 00:29:11,279
spaces before after before or after this

00:29:08,039 --> 00:29:13,440
so on twigs documentation has all this

00:29:11,279 --> 00:29:15,619
it's not as easily organized because

00:29:13,440 --> 00:29:18,419
it's just the list of things but this

00:29:15,619 --> 00:29:20,490
just shows a few if you need help

00:29:18,419 --> 00:29:27,059
because your coding standards are out of

00:29:20,490 --> 00:29:30,059
whack you can just reference this so

00:29:27,059 --> 00:29:31,610
this brings us to the end of our talk on

00:29:30,059 --> 00:29:35,789
twig so we have some time for questions

00:29:31,610 --> 00:29:45,210
just a reminder to join us on friday for

00:29:35,789 --> 00:29:47,220
our contributions sprints so we have

00:29:45,210 --> 00:29:48,840
some time for questions and answers real

00:29:47,220 --> 00:29:50,999
quick if you want to evaluate the

00:29:48,840 --> 00:29:53,940
session please do it's here if you want

00:29:50,999 --> 00:29:56,909
to leave to head out early that's

00:29:53,940 --> 00:30:00,539
perfectly great too but questions and

00:29:56,909 --> 00:30:03,379
answers yes oh and also could you come

00:30:00,539 --> 00:30:03,379
and use the mic please

00:30:07,549 --> 00:30:15,150
yeah hi from my experience when I use

00:30:11,760 --> 00:30:17,820
the Kint function into twig with 4

00:30:15,150 --> 00:30:20,760
gigabytes dedicated to PHP I got the

00:30:17,820 --> 00:30:22,500
memory exhaust exhausted error so you

00:30:20,760 --> 00:30:27,240
have to suggest any other ways to

00:30:22,500 --> 00:30:29,039
actually debug into twig yeah so a real

00:30:27,240 --> 00:30:31,650
quick follow-up question to you is where

00:30:29,039 --> 00:30:33,600
you're calling the kindt were you

00:30:31,650 --> 00:30:39,149
calling it in your theme or were you

00:30:33,600 --> 00:30:41,190
calling it in a template and in the twig

00:30:39,149 --> 00:30:43,980
file ok yeah so soaked and if you just

00:30:41,190 --> 00:30:46,049
call in Kent without passing in anything

00:30:43,980 --> 00:30:49,500
it's going to try to get all of the

00:30:46,049 --> 00:30:55,309
variables so are you passing the

00:30:49,500 --> 00:30:57,960
variable inside that is an interesting

00:30:55,309 --> 00:31:00,120
problem that have I know that it is

00:30:57,960 --> 00:31:02,340
common that if you call like the dump

00:31:00,120 --> 00:31:04,320
variable within twig or you call hint

00:31:02,340 --> 00:31:06,390
which is just doing a nicer version of

00:31:04,320 --> 00:31:10,049
that by rendering it into collapsible

00:31:06,390 --> 00:31:11,820
arrays depending on how your site set up

00:31:10,049 --> 00:31:14,549
there's a lot of custom variables or

00:31:11,820 --> 00:31:17,370
anything it can cause a lot of issues

00:31:14,549 --> 00:31:21,600
now in your example specifically I would

00:31:17,370 --> 00:31:23,130
try to go to the most specific twig file

00:31:21,600 --> 00:31:26,760
that you can find that you need to look

00:31:23,130 --> 00:31:29,940
at and if that doesn't work we can

00:31:26,760 --> 00:31:31,710
exchange our details after this and then

00:31:29,940 --> 00:31:40,909
we can we can go back and forth about

00:31:31,710 --> 00:31:40,909
how best to resolve that yes

00:31:42,960 --> 00:31:48,929
and so what's twig like in terms of

00:31:46,279 --> 00:31:50,159
evering like is it quite a hike or like

00:31:48,929 --> 00:31:52,679
PHP it'll give your white screens of

00:31:50,159 --> 00:31:55,919
death if you get the syntax wrong we're

00:31:52,679 --> 00:31:57,539
quite forgiving or and also where does

00:31:55,919 --> 00:32:00,179
it look does it look like betta

00:31:57,539 --> 00:32:02,460
error logs and stuff yeah so so Twitter

00:32:00,179 --> 00:32:03,720
is a part of symphony and if you there

00:32:02,460 --> 00:32:07,950
there's something that I kind of glazed

00:32:03,720 --> 00:32:09,899
over with this and with debugging if you

00:32:07,950 --> 00:32:13,020
install the Drupal console you can have

00:32:09,899 --> 00:32:14,909
a lot more information now you can find

00:32:13,020 --> 00:32:17,520
that on drupal.org about how to download

00:32:14,909 --> 00:32:19,409
and install your Drupal console so that

00:32:17,520 --> 00:32:21,750
you could take a look at those areas

00:32:19,409 --> 00:32:23,580
that are returned so Symphony itself has

00:32:21,750 --> 00:32:25,470
its own especially the error logging

00:32:23,580 --> 00:32:26,970
that we can take a look at which is

00:32:25,470 --> 00:32:30,110
which twigs and the extension from

00:32:26,970 --> 00:32:33,330
Drupal also kind of hooks into that so

00:32:30,110 --> 00:32:35,039
wide screens of death in my experience I

00:32:33,330 --> 00:32:40,169
have experienced them so that is

00:32:35,039 --> 00:32:43,140
frustrating still but we do have a few

00:32:40,169 --> 00:32:44,789
more tools to help us so the biggest

00:32:43,140 --> 00:32:47,429
thing in my experience that has been

00:32:44,789 --> 00:32:49,830
helpful is just turning on the theme

00:32:47,429 --> 00:32:51,539
debug if you have that on then you can

00:32:49,830 --> 00:32:52,950
slowly go through your code to make sure

00:32:51,539 --> 00:32:55,380
where things are happening and if

00:32:52,950 --> 00:32:56,850
they're happening correctly also just to

00:32:55,380 --> 00:32:58,230
note that I forgive me that I didn't

00:32:56,850 --> 00:33:00,000
mention when you turn on theme debug

00:32:58,230 --> 00:33:01,049
when you deploy to production be sure to

00:33:00,000 --> 00:33:04,580
turn it off because you'll just ruin

00:33:01,049 --> 00:33:04,580
everything so just keep that in mind

00:33:11,520 --> 00:33:16,630
thank you so so it gives you a lot of

00:33:14,290 --> 00:33:19,870
power with filters and all kinds of

00:33:16,630 --> 00:33:23,770
stuff have you seen any changes in the

00:33:19,870 --> 00:33:26,890
way you build template files with

00:33:23,770 --> 00:33:28,900
regards to business logic or you is it

00:33:26,890 --> 00:33:31,330
possible to do more of that in twig

00:33:28,900 --> 00:33:33,370
files since you can do a lot more with a

00:33:31,330 --> 00:33:36,850
lot less code or would you recommend

00:33:33,370 --> 00:33:40,540
still keeping all of it in reprocess

00:33:36,850 --> 00:33:42,730
functions so it depends on your use case

00:33:40,540 --> 00:33:44,620
but my preference is just to keep those

00:33:42,730 --> 00:33:46,420
either in proof process functions or

00:33:44,620 --> 00:33:48,160
it's something that we didn't cover in

00:33:46,420 --> 00:33:50,860
this talk about theming is to have

00:33:48,160 --> 00:33:53,350
custom modules that then have their own

00:33:50,860 --> 00:33:55,330
custom template files within them which

00:33:53,350 --> 00:33:56,860
can also abide by similar naming

00:33:55,330 --> 00:34:00,130
conventions to override certain things

00:33:56,860 --> 00:34:02,740
so that we keep even though filters are

00:34:00,130 --> 00:34:04,270
super powerful there it has been a lot

00:34:02,740 --> 00:34:06,610
of discussion online about the use of

00:34:04,270 --> 00:34:08,379
those and a lot of great examples of

00:34:06,610 --> 00:34:10,360
what not to do when you're using

00:34:08,379 --> 00:34:12,760
different filters specifically when it

00:34:10,360 --> 00:34:14,889
comes to translation links or anything

00:34:12,760 --> 00:34:16,419
that a user might be entering into your

00:34:14,889 --> 00:34:18,429
system that is displayed in the twig

00:34:16,419 --> 00:34:21,340
file is something to be very cognizant

00:34:18,429 --> 00:34:23,860
of how we would handle that so keeping

00:34:21,340 --> 00:34:25,720
those in like that business logic in its

00:34:23,860 --> 00:34:28,080
own separate place is the current

00:34:25,720 --> 00:34:28,080
preference

00:34:42,179 --> 00:34:47,730
well if there are no other questions

00:34:45,440 --> 00:34:49,379
since this is the last session I wanted

00:34:47,730 --> 00:34:52,520
to make sure the short and sweet so we

00:34:49,379 --> 00:34:54,869
can all start our nights a little early

00:34:52,520 --> 00:34:56,639
be sure to evaluate the session

00:34:54,869 --> 00:34:59,220
drupal.org download the slides if you

00:34:56,639 --> 00:35:02,160
want some reference all of my

00:34:59,220 --> 00:35:03,809
information is also on this slide I mean

00:35:02,160 --> 00:35:05,040
is also on the session online so if you

00:35:03,809 --> 00:35:07,020
want to contact me directly about

00:35:05,040 --> 00:35:08,839
anything you've seen here today feel

00:35:07,020 --> 00:35:12,089
free to do so another thing the plug

00:35:08,839 --> 00:35:13,710
there's a twig channel on slack with a

00:35:12,089 --> 00:35:15,440
lot of very very friendly and helpful

00:35:13,710 --> 00:35:18,990
people if you have any more questions

00:35:15,440 --> 00:35:20,730
just go that twig channel i'll post that

00:35:18,990 --> 00:35:22,980
i led in my session so that that link is

00:35:20,730 --> 00:35:26,369
there as well so that you could continue

00:35:22,980 --> 00:35:29,869
learning drupal 8 and twig with some

00:35:26,369 --> 00:35:29,869

YouTube URL: https://www.youtube.com/watch?v=9qhJS0cQAn4


