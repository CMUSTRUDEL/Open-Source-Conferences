Title: DrupalCon Sydney 2013: Twig, and the new theme layer in Drupal 8
Publication date: 2013-03-29
Playlist: DrupalCon Sydney - February 2013
Description: 
	Drupal 8 has a new theme engine: Twig. Twig provides several advantages over PHPtemplate, our previous theme engine, including: Security, Performance (probably), and Ease of Use.

Though we all know and love PHPTemplate, Drupal is not really using the PHPTemplate theme engine anymore. In order to overcome the shortfalls we encountered, we solved problems by creating a Drupal-specific combination of PHPTemplate and giant renderable "Arrays of Doom". Though the current solution was infinitely flexible for those who understand it - we've managed to produce a theme layer that is painfully frustrating to use, for all the people who needed it most.

Front-end developers who want to write their own HTML, CSS, and JavaScript, and who are experts in those areas, have been forced to learn PHP and understand the inner workings of Drupal in ways that were never intended.

The theme layer is also the place where people who are new to Drupal, including many of our current core developers, first get their start. By making this entry point unapproachable and territory for Drupal experts only, we're not only frustrating the front-end developer community, but possibly turning away potential contributors, by making the first step too high.

The move to Twig means we can take a good hard look at all the markup generated by Drupal core. We're working hard to create a Drupal Theming wonderland where things are consistent, intuitive, and easy to work with.

In addition to moving to Twig, the rest of the system is also getting an overhaul. We've already identified over 40 theme functions in core that can be removed or consolidated, and we're working hard on creating a Theme Component Library so all markup coming out of Drupal can be consistent.

In this session We'll point out some of the problems we faced with PHPTemplate and Renderables, and show how these issues are being addressed through the move to Twig. There's still a lot to do, and some things we still haven't decided on yet, but we're definitely making progress.

Come see what template files will look like in Drupal 8, and learn how you can get involved in making a better Tommorrow for your favorite CMS.
Captions: 
	00:00:04,250 --> 00:00:21,270
we've got Morton DK diff killer we've

00:00:13,410 --> 00:00:23,609
got John Alvin world-class lover and

00:00:21,270 --> 00:00:29,250
we've got peers warmer Symphony

00:00:23,609 --> 00:00:30,300
foreigner so this is the twig eighth

00:00:29,250 --> 00:00:36,480
session I'm not going to say anything

00:00:30,300 --> 00:00:37,410
else all right hello everybody um does

00:00:36,480 --> 00:00:38,940
anyone want to do a different

00:00:37,410 --> 00:00:41,280
introduction should I just skip this

00:00:38,940 --> 00:00:43,379
slide okay we're all on twitter if you

00:00:41,280 --> 00:00:45,390
want to like ask us questions action to

00:00:43,379 --> 00:00:49,940
be clear that they were joking about

00:00:45,390 --> 00:00:53,039
HTML classes when they gave me my title

00:00:49,940 --> 00:00:56,610
that is a complete lie John is actually

00:00:53,039 --> 00:01:00,949
a first-class lover alright skipping

00:00:56,610 --> 00:01:03,329
this slide so we wanted to start off

00:01:00,949 --> 00:01:06,140
first by talking about why we're

00:01:03,329 --> 00:01:08,400
changing the theme system in Drupal 8 um

00:01:06,140 --> 00:01:09,720
and so I want to say there are some

00:01:08,400 --> 00:01:12,510
really positive things about the dreams

00:01:09,720 --> 00:01:13,950
drew the theme system in Drupal 7 mainly

00:01:12,510 --> 00:01:15,600
that you can do whatever the heck you

00:01:13,950 --> 00:01:17,700
want with it as long as you know what

00:01:15,600 --> 00:01:19,770
you doing unfortunately there were a lot

00:01:17,700 --> 00:01:22,680
of negative things as well so we'll talk

00:01:19,770 --> 00:01:25,619
a little bit about those first starters

00:01:22,680 --> 00:01:28,380
the syntax of our template files only

00:01:25,619 --> 00:01:30,479
exists in the world of Drupal it started

00:01:28,380 --> 00:01:32,100
from PHP template which was a templating

00:01:30,479 --> 00:01:34,470
language that existed elsewhere and in

00:01:32,100 --> 00:01:35,670
Drupal 7 we completely changed it into

00:01:34,470 --> 00:01:37,890
something it didn't exist anywhere else

00:01:35,670 --> 00:01:41,130
by adding the existence of calls like

00:01:37,890 --> 00:01:43,259
render right from our template um so

00:01:41,130 --> 00:01:46,649
this is something that people outside of

00:01:43,259 --> 00:01:48,360
Drupal aren't familiar with there's a

00:01:46,649 --> 00:01:50,310
really confusing way that we deal with

00:01:48,360 --> 00:01:51,810
variables or sometimes these variables

00:01:50,310 --> 00:01:53,280
or objects and sometimes they're arrays

00:01:51,810 --> 00:01:55,020
and we reference them in different ways

00:01:53,280 --> 00:01:56,700
so if you're taking people are non

00:01:55,020 --> 00:01:58,259
developers and trying to get them to use

00:01:56,700 --> 00:02:00,840
template files they need to understand

00:01:58,259 --> 00:02:02,880
data structures in a way that isn't

00:02:00,840 --> 00:02:05,729
really necessary for their normal

00:02:02,880 --> 00:02:09,179
everyday job so that's really confusing

00:02:05,729 --> 00:02:11,160
for new people when we print things in

00:02:09,179 --> 00:02:13,300
template files in Drupal 7 sometimes we

00:02:11,160 --> 00:02:15,610
just print the variable for into classes

00:02:13,300 --> 00:02:16,990
sometimes we print render a variable

00:02:15,610 --> 00:02:19,960
which is also really confusing because

00:02:16,990 --> 00:02:21,280
it sounds a little redundant but we do

00:02:19,960 --> 00:02:22,660
it all over the place in different ways

00:02:21,280 --> 00:02:24,100
and that's also really hard for people

00:02:22,660 --> 00:02:25,450
to get a handle on when can I just print

00:02:24,100 --> 00:02:27,160
something or when do I have to render it

00:02:25,450 --> 00:02:32,110
so it's confusing for new people as well

00:02:27,160 --> 00:02:34,480
a PHP template is just PHP PHP is not

00:02:32,110 --> 00:02:36,370
terribly secure so you can do horrible

00:02:34,480 --> 00:02:38,380
things from any template anywhere if you

00:02:36,370 --> 00:02:40,690
want to when I was preparing this slide

00:02:38,380 --> 00:02:44,340
I accidentally dropped my node table by

00:02:40,690 --> 00:02:50,760
refreshing a page i was looking at so

00:02:44,340 --> 00:02:53,410
that didn't go so well don't do that

00:02:50,760 --> 00:02:54,730
there's a lot of stuff in our existing

00:02:53,410 --> 00:02:57,130
theme system we have way too many

00:02:54,730 --> 00:02:59,380
template files in core alone if you

00:02:57,130 --> 00:03:01,270
wanted to remove all of your classes

00:02:59,380 --> 00:03:02,800
from places you've got a lot of work to

00:03:01,270 --> 00:03:04,930
do just to get to a clean starting point

00:03:02,800 --> 00:03:07,240
and to make things even worse we don't

00:03:04,930 --> 00:03:09,640
just have template files in Drupal 7 we

00:03:07,240 --> 00:03:11,620
also have themed functions and there are

00:03:09,640 --> 00:03:13,240
hundreds of themed functions so

00:03:11,620 --> 00:03:14,920
sometimes your HTML is coming from a

00:03:13,240 --> 00:03:16,360
template file sometimes coming from a

00:03:14,920 --> 00:03:18,310
theme function trying to figure out

00:03:16,360 --> 00:03:20,080
where the source of this code is that

00:03:18,310 --> 00:03:21,910
you're frustrated with in your theme is

00:03:20,080 --> 00:03:29,610
sometimes really hard just can't track

00:03:21,910 --> 00:03:32,560
it down this is a simplified version of

00:03:29,610 --> 00:03:34,900
the theme system in Drupal 7 so if you

00:03:32,560 --> 00:03:37,959
wanted to know what was being passed

00:03:34,900 --> 00:03:39,370
from one place to another well you're

00:03:37,959 --> 00:03:41,650
not going to figure it out there's just

00:03:39,370 --> 00:03:43,450
too much stuff going on and this is this

00:03:41,650 --> 00:03:45,340
is kind of the nature of open source

00:03:43,450 --> 00:03:46,480
where you start with one solution and a

00:03:45,340 --> 00:03:47,500
couple others that are like oh we need

00:03:46,480 --> 00:03:48,400
this thing and then you add it and

00:03:47,500 --> 00:03:50,200
you're like only need this other thing

00:03:48,400 --> 00:03:51,459
you add that to you own it and then here

00:03:50,200 --> 00:03:53,680
you are ten years later and you're like

00:03:51,459 --> 00:03:55,660
we have a lot of things going on and

00:03:53,680 --> 00:03:57,820
it's no wonder that nobody can figure

00:03:55,660 --> 00:04:01,870
this out John made this diagram do you

00:03:57,820 --> 00:04:04,150
wanna talk a little bit about how yeah

00:04:01,870 --> 00:04:06,130
so I gave a core conversation drupalcon

00:04:04,150 --> 00:04:07,810
San Francisco before Drupal 7 was

00:04:06,130 --> 00:04:09,550
released I'm like this is what we're

00:04:07,810 --> 00:04:12,220
dealing with right now like and I tried

00:04:09,550 --> 00:04:14,230
to do to do a 60 second overview of this

00:04:12,220 --> 00:04:15,880
entire thing and I got really close but

00:04:14,230 --> 00:04:17,890
it was actually took me about 90 seconds

00:04:15,880 --> 00:04:19,390
to explain everything i ministered core

00:04:17,890 --> 00:04:21,489
developers and at the time I figured

00:04:19,390 --> 00:04:22,690
there were maybe two or three people an

00:04:21,489 --> 00:04:26,440
entire world who understood the

00:04:22,690 --> 00:04:34,540
whole thing it is just massively

00:04:26,440 --> 00:04:36,190
massively evil it and it turned out

00:04:34,540 --> 00:04:39,420
there was other symbology also sort of

00:04:36,190 --> 00:04:41,170
embedded in this as well the next slide

00:04:39,420 --> 00:04:47,680
you don't have the other side okay

00:04:41,170 --> 00:04:51,610
that's fine this one's better so all of

00:04:47,680 --> 00:04:53,950
these so all of these things added up to

00:04:51,610 --> 00:04:56,950
Drupal being way too hard for new people

00:04:53,950 --> 00:04:58,390
to figure out how to learn and there's a

00:04:56,950 --> 00:04:59,770
lot of people who come to Drupal from

00:04:58,390 --> 00:05:02,110
other programming backgrounds are

00:04:59,770 --> 00:05:03,310
working in other areas of the web in the

00:05:02,110 --> 00:05:05,140
first place they try and change

00:05:03,310 --> 00:05:06,790
something is the theme system they go

00:05:05,140 --> 00:05:08,950
okay I'm an install Drupal let's see if

00:05:06,790 --> 00:05:10,660
I can work in HTML I know HTML that's

00:05:08,950 --> 00:05:12,430
the universal language of the web and

00:05:10,660 --> 00:05:14,230
they try and start with a theme system

00:05:12,430 --> 00:05:15,490
feel like oh my god I can't do this is

00:05:14,230 --> 00:05:16,660
really hard their stuff going on

00:05:15,490 --> 00:05:18,220
everywhere I don't understand what this

00:05:16,660 --> 00:05:19,840
render thing is what doesn't when is it

00:05:18,220 --> 00:05:21,760
an object one is an array how do i print

00:05:19,840 --> 00:05:23,920
it do I need to sanitize it or not where

00:05:21,760 --> 00:05:26,140
is it coming from and it just it becomes

00:05:23,920 --> 00:05:27,790
a detriment to the rest of the good

00:05:26,140 --> 00:05:30,070
stuff that Drupal does that new people

00:05:27,790 --> 00:05:31,419
just can't get into it very easily I'm a

00:05:30,070 --> 00:05:32,950
developer I started in the theme layer a

00:05:31,419 --> 00:05:34,180
lot of current core developers started

00:05:32,950 --> 00:05:36,460
in the theme layer that's just how you

00:05:34,180 --> 00:05:37,990
get into it and this should not be the

00:05:36,460 --> 00:05:42,130
most frustrating part of working with

00:05:37,990 --> 00:05:44,620
Drupal so here's this list of stuff that

00:05:42,130 --> 00:05:46,510
we wanted to fix in Drupal 8 the fact

00:05:44,620 --> 00:05:48,010
that our template files are Drupal

00:05:46,510 --> 00:05:49,300
specific we've got mixed data types

00:05:48,010 --> 00:05:51,100
we've got different methods of printing

00:05:49,300 --> 00:05:53,140
stuff PHP template itself is really

00:05:51,100 --> 00:05:54,700
insecure we've got two ways of

00:05:53,140 --> 00:05:56,590
overriding markup templates and theme

00:05:54,700 --> 00:05:58,450
functions we have too much stuff going

00:05:56,590 --> 00:05:59,919
on too much of both templates and theme

00:05:58,450 --> 00:06:01,780
functions we've got a really complicated

00:05:59,919 --> 00:06:04,450
mix of all of the subsystems that add up

00:06:01,780 --> 00:06:05,740
in the drupal theme layer and that just

00:06:04,450 --> 00:06:07,750
makes everything way too hard to learn

00:06:05,740 --> 00:06:11,710
so let's see if we can tackle this list

00:06:07,750 --> 00:06:13,840
of problems so interpolate the first

00:06:11,710 --> 00:06:16,210
thing we've decided to do is change our

00:06:13,840 --> 00:06:17,650
theme engine so instead of using PHP

00:06:16,210 --> 00:06:19,000
template which we've had around for a

00:06:17,650 --> 00:06:22,470
really long time we're going to use

00:06:19,000 --> 00:06:25,510
something new called twig so twig is a

00:06:22,470 --> 00:06:27,610
well-documented open source PHP

00:06:25,510 --> 00:06:29,980
templating language that most of you may

00:06:27,610 --> 00:06:31,960
or may not have heard of and it's

00:06:29,980 --> 00:06:33,039
already in existence in the internet

00:06:31,960 --> 00:06:34,720
it's not something we're making up

00:06:33,039 --> 00:06:37,540
ourselves which is good

00:06:34,720 --> 00:06:39,460
it's extensible so if it doesn't do

00:06:37,540 --> 00:06:41,350
something that Drupal needs it to do we

00:06:39,460 --> 00:06:43,000
can write an extension for twig to make

00:06:41,350 --> 00:06:46,660
it work for Drupal and we have which is

00:06:43,000 --> 00:06:49,050
good it's secure in PHP templates you

00:06:46,660 --> 00:06:55,960
cannot accidentally drop your node table

00:06:49,050 --> 00:06:58,150
you can't accidentally I will not accept

00:06:55,960 --> 00:07:03,430
patches that allow you to write sequel

00:06:58,150 --> 00:07:05,710
beer is your template files you can with

00:07:03,430 --> 00:07:08,980
it will not be accepted all right if you

00:07:05,710 --> 00:07:10,570
if you want to shoot if you want to

00:07:08,980 --> 00:07:13,210
shoot yourself in the foot you can do it

00:07:10,570 --> 00:07:18,850
on your own website we're not gonna let

00:07:13,210 --> 00:07:21,010
it into core github does not count okay

00:07:18,850 --> 00:07:22,660
it's also really well tested there's a

00:07:21,010 --> 00:07:26,620
bunch of sites out there already using

00:07:22,660 --> 00:07:28,510
twig and it's unit tested it's also

00:07:26,620 --> 00:07:30,520
pretty fast compared to other templating

00:07:28,510 --> 00:07:33,730
languages out there obviously PHP is

00:07:30,520 --> 00:07:34,660
really fast it's it's faster than some

00:07:33,730 --> 00:07:36,310
other things you might have heard of

00:07:34,660 --> 00:07:37,720
likes nerdy which we used to have in

00:07:36,310 --> 00:07:40,840
previous versions of Drupal which is

00:07:37,720 --> 00:07:42,960
good it works in your IDE so if you're a

00:07:40,840 --> 00:07:45,220
developer and you want to have debugging

00:07:42,960 --> 00:07:47,430
there are plugins for all your IDs that

00:07:45,220 --> 00:07:50,590
can recognize twig which is really great

00:07:47,430 --> 00:07:51,880
and it's a recognizable syntax so those

00:07:50,590 --> 00:07:53,410
of you are like oh no I've got to learn

00:07:51,880 --> 00:07:55,570
something new to work with Drupal don't

00:07:53,410 --> 00:07:57,729
worry you can read it it reads just like

00:07:55,570 --> 00:07:59,860
logic like English like other things you

00:07:57,729 --> 00:08:01,540
may have seen on the web so it's not

00:07:59,860 --> 00:08:02,530
going to be scary and foreign and anyone

00:08:01,540 --> 00:08:04,570
who's worked in any one of these

00:08:02,530 --> 00:08:07,810
languages before we'll just pick it up

00:08:04,570 --> 00:08:09,580
really easily it's also written by the

00:08:07,810 --> 00:08:11,290
same guy who wrote symphony which is

00:08:09,580 --> 00:08:13,290
also injure blade so it works really

00:08:11,290 --> 00:08:15,550
well with that and there's a lot of

00:08:13,290 --> 00:08:16,600
philosophies that jive really well with

00:08:15,550 --> 00:08:21,280
how we're doing everything else in

00:08:16,600 --> 00:08:22,810
Drupal which is good so we had a sprint

00:08:21,280 --> 00:08:25,300
at the end of the Bay Area drupalcamp

00:08:22,810 --> 00:08:26,590
this year to try and figure out some

00:08:25,300 --> 00:08:28,570
principles that we should use when

00:08:26,590 --> 00:08:31,390
refactoring the entire theme layer

00:08:28,570 --> 00:08:35,530
injure bleah the first one is that we

00:08:31,390 --> 00:08:39,640
want to start with nothing so rather

00:08:35,530 --> 00:08:41,770
than having a complicated assumption of

00:08:39,640 --> 00:08:43,900
what people might want to try and do we

00:08:41,770 --> 00:08:45,730
wanted to start with 0 and add to it so

00:08:43,900 --> 00:08:47,200
this is like right now in Drupal you

00:08:45,730 --> 00:08:48,190
start with everything and try and remove

00:08:47,200 --> 00:08:49,180
what you don't want

00:08:48,190 --> 00:08:50,650
we're going to try and turn that around

00:08:49,180 --> 00:08:52,330
the other way and start with only what

00:08:50,650 --> 00:08:53,560
we want if people want a div they can

00:08:52,330 --> 00:08:54,910
add themselves we're not going to put it

00:08:53,560 --> 00:08:56,140
in there for them you don't know if

00:08:54,910 --> 00:08:57,340
we're actually going to get this done

00:08:56,140 --> 00:09:01,990
this is what we want these are the

00:08:57,340 --> 00:09:03,730
principles that's what we want we're

00:09:01,990 --> 00:09:05,950
going to build from use cases so right

00:09:03,730 --> 00:09:07,780
now in Drupal 7 we have built a system

00:09:05,950 --> 00:09:09,670
where anything is possible because we

00:09:07,780 --> 00:09:11,770
assume that someone will want to do

00:09:09,670 --> 00:09:13,270
everything at some point but we don't

00:09:11,770 --> 00:09:15,100
have any use cases the back that up or

00:09:13,270 --> 00:09:17,170
like well maybe someone might want to

00:09:15,100 --> 00:09:19,000
add this thing in this way and we'll

00:09:17,170 --> 00:09:20,020
just make it possible we're not going to

00:09:19,000 --> 00:09:21,730
do that we're going to say look we know

00:09:20,020 --> 00:09:22,960
what people want ninety percent of the

00:09:21,730 --> 00:09:24,820
time and we're going to build them that

00:09:22,960 --> 00:09:27,160
and if they have some crazy edge case

00:09:24,820 --> 00:09:29,260
and that one percent or ten percent that

00:09:27,160 --> 00:09:30,130
comes up they can do it themselves we're

00:09:29,260 --> 00:09:32,170
not going to put all of this

00:09:30,130 --> 00:09:34,680
complication in decor for the edge cases

00:09:32,170 --> 00:09:37,390
that don't we don't really know exist

00:09:34,680 --> 00:09:40,330
we're going to provide tools so rather

00:09:37,390 --> 00:09:41,890
than trying to solve everything from the

00:09:40,330 --> 00:09:43,510
beginning we're going to solve the

00:09:41,890 --> 00:09:45,520
ninety percent use case and give that

00:09:43,510 --> 00:09:48,360
ten percent the tools they need to do

00:09:45,520 --> 00:09:51,730
what they want so you want to write an

00:09:48,360 --> 00:09:52,780
extension for twig you can do that but

00:09:51,730 --> 00:09:55,750
we're not going to make it solve all the

00:09:52,780 --> 00:09:57,430
problems out of the box we're going to

00:09:55,750 --> 00:09:58,720
try and consolidate stuff we've got way

00:09:57,430 --> 00:10:01,000
too many template files and way too many

00:09:58,720 --> 00:10:03,040
theme functions let's recycle let's use

00:10:01,000 --> 00:10:04,150
the same code to write an item list

00:10:03,040 --> 00:10:05,620
every time you write an item list

00:10:04,150 --> 00:10:08,230
whether it's a menu or whether it's a

00:10:05,620 --> 00:10:09,250
well or UL or whatever it's just going

00:10:08,230 --> 00:10:11,680
to be the same it's not going to have

00:10:09,250 --> 00:10:13,960
different divs depending on where it's

00:10:11,680 --> 00:10:16,090
called same thing for tables we want to

00:10:13,960 --> 00:10:18,490
have some components so we can reuse

00:10:16,090 --> 00:10:21,330
throughout core rather than having every

00:10:18,490 --> 00:10:24,970
module provide its own mark up a

00:10:21,330 --> 00:10:29,800
visibility we want people to know what's

00:10:24,970 --> 00:10:31,060
going on um just wig is pretty good this

00:10:29,800 --> 00:10:32,470
already when you look at something you

00:10:31,060 --> 00:10:34,600
can kind of tell what's going on but we

00:10:32,470 --> 00:10:35,830
don't want to abstract things we don't

00:10:34,600 --> 00:10:38,860
want to hide things we want everything

00:10:35,830 --> 00:10:40,330
to be able to be kind of guessable right

00:10:38,860 --> 00:10:42,700
when you're like oh I need to override a

00:10:40,330 --> 00:10:44,080
menu you're going to instantly look for

00:10:42,700 --> 00:10:45,730
a menu template you're not going to look

00:10:44,080 --> 00:10:47,740
for an item list template so we're going

00:10:45,730 --> 00:10:49,390
to give you a menu template just stuff

00:10:47,740 --> 00:10:50,890
like that that makes Drupal a lot more

00:10:49,390 --> 00:10:52,720
intuitive rather than nowadays you

00:10:50,890 --> 00:10:54,400
collect them one place I don't have to

00:10:52,720 --> 00:10:57,040
go through sister told us to find that

00:10:54,400 --> 00:10:57,950
HTML gpo PHP file kind of beginning to

00:10:57,040 --> 00:11:01,010
make sense where

00:10:57,950 --> 00:11:03,290
were there maybe instead of what we have

00:11:01,010 --> 00:11:04,580
now where we kind of have you you go you

00:11:03,290 --> 00:11:07,250
have to go through systems you have to

00:11:04,580 --> 00:11:08,210
go go trace your hunting in groups yeah

00:11:07,250 --> 00:11:12,380
so we're going to try and make it a lot

00:11:08,210 --> 00:11:18,890
easier to find everything too so we'll

00:11:12,380 --> 00:11:20,720
see how perfect no that's a task yeah

00:11:18,890 --> 00:11:22,220
alright so we're also gonna try to make

00:11:20,720 --> 00:11:23,840
everything a lot more consistent right

00:11:22,220 --> 00:11:25,160
now depending on which piece of content

00:11:23,840 --> 00:11:25,970
is coming out in which part of the page

00:11:25,160 --> 00:11:27,440
it can be rendered completely

00:11:25,970 --> 00:11:28,730
differently it can have its own style

00:11:27,440 --> 00:11:32,270
sheet you can look really different it

00:11:28,730 --> 00:11:34,280
can have extra dibs or not if we can

00:11:32,270 --> 00:11:37,850
start to consolidate and use the same

00:11:34,280 --> 00:11:39,560
functions everywhere or templates then

00:11:37,850 --> 00:11:41,030
the code will start to be the same

00:11:39,560 --> 00:11:42,950
everywhere which makes a lot easier for

00:11:41,030 --> 00:11:44,300
friend developers to style like oh it's

00:11:42,950 --> 00:11:46,310
not this table that's different from

00:11:44,300 --> 00:11:48,620
every other table I can style all tables

00:11:46,310 --> 00:11:51,260
at once um so hopefully that will help a

00:11:48,620 --> 00:11:53,300
lot too and we're not going to try and

00:11:51,260 --> 00:11:55,040
dumb it down too much in Drupal 7

00:11:53,300 --> 00:11:56,750
there's a lot of this like oo femurs

00:11:55,040 --> 00:11:58,580
aren't going to understand that but it

00:11:56,750 --> 00:12:00,380
turns out that like if we make something

00:11:58,580 --> 00:12:02,060
that makes sense they can learn it and

00:12:00,380 --> 00:12:04,490
if we make something that doesn't make

00:12:02,060 --> 00:12:06,080
sense no one can learn it so we're going

00:12:04,490 --> 00:12:07,550
to try not to dump it down when we don't

00:12:06,080 --> 00:12:09,140
have to sometimes there are really

00:12:07,550 --> 00:12:10,910
complicated problems and they require

00:12:09,140 --> 00:12:13,100
complicated solutions and we're just

00:12:10,910 --> 00:12:14,330
going to do it and when a complicated

00:12:13,100 --> 00:12:15,860
solution is necessary we're going to

00:12:14,330 --> 00:12:17,510
trust that our friend community can

00:12:15,860 --> 00:12:20,990
learn it we're gonna make it easier but

00:12:17,510 --> 00:12:22,790
I'm gonna do it and the last step is

00:12:20,990 --> 00:12:26,090
that the way stuff is organized needs to

00:12:22,790 --> 00:12:28,370
be driven by the semantics and not like

00:12:26,090 --> 00:12:31,010
a programmatic deconstruction of what's

00:12:28,370 --> 00:12:33,350
being written in HTML a really good

00:12:31,010 --> 00:12:36,470
example is the item lists right like

00:12:33,350 --> 00:12:38,270
there are two specific elements for an

00:12:36,470 --> 00:12:39,680
unordered and an ordered list in spite

00:12:38,270 --> 00:12:41,270
of the fact that they both contain list

00:12:39,680 --> 00:12:43,460
items and there's a reason for those

00:12:41,270 --> 00:12:45,410
being separate in Drupal we had one

00:12:43,460 --> 00:12:46,700
function because the developers looked

00:12:45,410 --> 00:12:48,050
at it and thought oh it's an ally tag

00:12:46,700 --> 00:12:50,060
that's exactly the same either way we'll

00:12:48,050 --> 00:12:53,180
just flip but it's semantically a

00:12:50,060 --> 00:12:55,310
different thing and so we need our code

00:12:53,180 --> 00:12:57,380
in the theme layer to produce markup

00:12:55,310 --> 00:12:58,850
semantically the way front-end

00:12:57,380 --> 00:13:00,860
developers think about it and when

00:12:58,850 --> 00:13:02,390
things start to work the way people

00:13:00,860 --> 00:13:04,430
naturally think about them everything

00:13:02,390 --> 00:13:06,560
will make a lot more sense so take kind

00:13:04,430 --> 00:13:09,089
of the whole idea be organizing this is

00:13:06,560 --> 00:13:12,059
moving focus for being an

00:13:09,089 --> 00:13:13,620
a system built by the developers but

00:13:12,059 --> 00:13:15,449
more system that makes sense to

00:13:13,620 --> 00:13:17,759
front-end developers that's kind of the

00:13:15,449 --> 00:13:20,189
whole idea I know it's crazy talk but

00:13:17,759 --> 00:13:22,110
that's kind of the whole idea we just

00:13:20,189 --> 00:13:23,579
figured out over the years that maybe it

00:13:22,110 --> 00:13:26,100
made more sense maybe you could educate

00:13:23,579 --> 00:13:28,319
more content develops into using too

00:13:26,100 --> 00:13:30,269
because it made sense instead of giving

00:13:28,319 --> 00:13:32,670
them the constant variable as the only

00:13:30,269 --> 00:13:34,230
option in the notes and they can then

00:13:32,670 --> 00:13:37,019
use the next four years of bitching and

00:13:34,230 --> 00:13:38,610
moaning so we're hoping to make things

00:13:37,019 --> 00:13:39,930
work the way they're supposed to work

00:13:38,610 --> 00:13:42,629
and not the way developers think they

00:13:39,930 --> 00:13:47,279
should work all right so who wants to

00:13:42,629 --> 00:13:48,629
see twig all right so I've got some

00:13:47,279 --> 00:13:50,519
examples of templates that we've already

00:13:48,629 --> 00:13:51,329
converted some of these screenshots are

00:13:50,519 --> 00:13:52,709
a little old they might have been

00:13:51,329 --> 00:13:55,170
changed since then but generally

00:13:52,709 --> 00:13:57,600
speaking any time you want to print a

00:13:55,170 --> 00:14:00,779
variable you use double curly braces to

00:13:57,600 --> 00:14:04,620
print it any time you want to run a

00:14:00,779 --> 00:14:07,139
command you use a screw a curly brace in

00:14:04,620 --> 00:14:09,480
a % and you put your little logic inside

00:14:07,139 --> 00:14:11,009
there and any time you want add a

00:14:09,480 --> 00:14:13,649
comment it's a curly brace in a pound

00:14:11,009 --> 00:14:22,620
sign to add a comment people like that

00:14:13,649 --> 00:14:24,569
comment so the syntax should be really

00:14:22,620 --> 00:14:25,860
simple and intuitive it's very

00:14:24,569 --> 00:14:31,410
straightforward it just says what it

00:14:25,860 --> 00:14:32,759
does generally speaking all of our theme

00:14:31,410 --> 00:14:35,069
functions are going to be replaced with

00:14:32,759 --> 00:14:38,370
template files so only be one way to

00:14:35,069 --> 00:14:39,899
override markup from anywhere it is

00:14:38,370 --> 00:14:42,029
crazy but it's going to be awesome and

00:14:39,899 --> 00:14:44,339
there's going to be a heck of a lot less

00:14:42,029 --> 00:14:47,759
code because as it turns out it takes a

00:14:44,339 --> 00:14:49,319
lot less code to just write HTML than it

00:14:47,759 --> 00:14:55,829
does to write a PHP function to produce

00:14:49,319 --> 00:15:06,959
HTML HTML and the curly brace twig stuff

00:14:55,829 --> 00:15:09,779
yeah you're out of luck yeah all right

00:15:06,959 --> 00:15:13,110
so the user name function just becomes a

00:15:09,779 --> 00:15:16,499
link tag or a span tag the image

00:15:13,110 --> 00:15:20,870
function just becomes an image tag the

00:15:16,499 --> 00:15:20,870
link function just becomes a link tag

00:15:21,379 --> 00:15:47,160
right back to back to sanity yes yeah so

00:15:44,579 --> 00:15:50,309
so when you go to print something in

00:15:47,160 --> 00:15:53,100
twig it'll sanitize it for you like you

00:15:50,309 --> 00:15:54,629
can take any like node right and in in

00:15:53,100 --> 00:15:56,009
Drupal 7 you were responsible if you

00:15:54,629 --> 00:15:57,179
wanted to pull something out of a field

00:15:56,009 --> 00:15:59,220
you've got to clean it up and make sure

00:15:57,179 --> 00:16:01,259
it was safe to display because of this

00:15:59,220 --> 00:16:03,449
problem like one hundred percent of all

00:16:01,259 --> 00:16:05,790
themes are insecure was a little

00:16:03,449 --> 00:16:07,110
rounding error and they're right this is

00:16:05,790 --> 00:16:08,910
going to prevent that you will never

00:16:07,110 --> 00:16:11,069
have to sanitize your own data because

00:16:08,910 --> 00:16:13,049
twig does it for you so twig can handle

00:16:11,069 --> 00:16:14,549
the translating and sanitizing you just

00:16:13,049 --> 00:16:16,819
say print and it'll be like I know we

00:16:14,549 --> 00:16:18,720
need to take care of this for you so um

00:16:16,819 --> 00:16:20,670
twig will make everything a lot more

00:16:18,720 --> 00:16:22,829
secure because of that because we don't

00:16:20,670 --> 00:16:24,120
need to put that responsibility into the

00:16:22,829 --> 00:16:25,620
hands of people maybe you never seen

00:16:24,120 --> 00:16:27,899
Drupal before and no that's important or

00:16:25,620 --> 00:16:29,610
any database driven system right we're

00:16:27,899 --> 00:16:32,899
don't care this just says you can print

00:16:29,610 --> 00:16:35,069
it and it'll need all that stuff for you

00:16:32,899 --> 00:16:37,889
it turns out this is an example of our

00:16:35,069 --> 00:16:40,529
theme item list function which in Drupal

00:16:37,889 --> 00:16:43,370
7 was really messy when you turn into

00:16:40,529 --> 00:16:46,370
twig it's actually kind of elegant so

00:16:43,370 --> 00:16:46,370
yes

00:16:50,440 --> 00:16:55,850
so we don't need to prepare variables in

00:16:53,750 --> 00:16:57,950
twig because it all happens instead of

00:16:55,850 --> 00:16:59,990
before you render the template while

00:16:57,950 --> 00:17:02,690
you're rendering the template so you can

00:16:59,990 --> 00:17:05,300
say print items and it'll split them all

00:17:02,690 --> 00:17:06,800
out or you can say print items item and

00:17:05,300 --> 00:17:08,390
it will print out one or you can say I

00:17:06,800 --> 00:17:09,620
print items content no print out

00:17:08,390 --> 00:17:12,140
whatever's inside that so there's

00:17:09,620 --> 00:17:13,459
everything should be drillable right now

00:17:12,140 --> 00:17:15,010
if you look at your plate it doesn't do

00:17:13,459 --> 00:17:18,050
that we haven't built all of the

00:17:15,010 --> 00:17:20,300
flattening compress a complicated object

00:17:18,050 --> 00:17:21,559
into string functions in yet but we can

00:17:20,300 --> 00:17:23,809
do that and that's what we're shooting

00:17:21,559 --> 00:17:26,150
for so it's you should if you wanted to

00:17:23,809 --> 00:17:27,500
print a link inside a menu you should be

00:17:26,150 --> 00:17:30,559
able to write a template file and just

00:17:27,500 --> 00:17:32,330
print menu item dot link content and get

00:17:30,559 --> 00:17:33,679
only a piece of that out if you want and

00:17:32,330 --> 00:17:36,410
it'll be secure and it'll be safe to

00:17:33,679 --> 00:17:37,640
just drop that into your file it's not

00:17:36,410 --> 00:17:45,710
done yet but that's what we're shooting

00:17:37,640 --> 00:17:47,809
for so we we don't know um I want to

00:17:45,710 --> 00:17:52,400
kill them all but we need to make sure

00:17:47,809 --> 00:17:55,429
that before we before we remove that

00:17:52,400 --> 00:17:56,660
tool that we have a comparable tool for

00:17:55,429 --> 00:17:58,010
front-end developers to be able to do

00:17:56,660 --> 00:17:59,570
the same thing you want to add a

00:17:58,010 --> 00:18:00,980
variable to your template file you want

00:17:59,570 --> 00:18:02,660
to change variable in that template file

00:18:00,980 --> 00:18:04,400
you've got to have a way to do it so

00:18:02,660 --> 00:18:05,900
right now what we're doing is taking all

00:18:04,400 --> 00:18:07,520
the logic out of the template files and

00:18:05,900 --> 00:18:08,600
moving in to pre-process the next step

00:18:07,520 --> 00:18:09,860
is to take all the preprocessed

00:18:08,600 --> 00:18:13,220
functions and turn them into twig

00:18:09,860 --> 00:18:15,260
rendering magic but we've got to make

00:18:13,220 --> 00:18:18,170
sure that there's a twig render magic

00:18:15,260 --> 00:18:20,450
alter something right so that so that

00:18:18,170 --> 00:18:21,620
whoever's using a template file can

00:18:20,450 --> 00:18:23,270
still change what they need to change

00:18:21,620 --> 00:18:24,980
and we haven't figured that step out yet

00:18:23,270 --> 00:18:26,240
so right now i'm going to say they're

00:18:24,980 --> 00:18:27,650
still going to be preprocessed because

00:18:26,240 --> 00:18:38,570
we're not taking tools away that's

00:18:27,650 --> 00:18:41,650
really important no eventually yes

00:18:38,570 --> 00:18:43,820
before jablay chips I hope we'll see and

00:18:41,650 --> 00:18:45,590
okay so here's all the problems with

00:18:43,820 --> 00:18:48,410
Drupal 7 let's see if we've addressed

00:18:45,590 --> 00:18:50,240
some of these um so drupal specific

00:18:48,410 --> 00:18:52,850
template conveying funkin functions

00:18:50,240 --> 00:18:56,720
we've got twig it excels elsewhere in

00:18:52,850 --> 00:18:58,700
the world fixed mixed data types

00:18:56,720 --> 00:19:01,010
sometimes we have an arrow sometimes we

00:18:58,700 --> 00:19:02,419
have square brackets all template

00:19:01,010 --> 00:19:02,750
variables in twig it doesn't matter

00:19:02,419 --> 00:19:04,490
whether

00:19:02,750 --> 00:19:06,380
it's an object or an array or string

00:19:04,490 --> 00:19:12,890
already are all printed in exactly the

00:19:06,380 --> 00:19:14,720
same way fixed different methods of

00:19:12,890 --> 00:19:16,610
printing whether you print or print

00:19:14,720 --> 00:19:18,380
render guess what we've removed all

00:19:16,610 --> 00:19:22,370
calls to the render function from all

00:19:18,380 --> 00:19:24,500
templates in twig fixed PHP template

00:19:22,370 --> 00:19:28,400
being insecure twig will not let you run

00:19:24,500 --> 00:19:29,960
a sequel query without alteration and

00:19:28,400 --> 00:19:34,400
we're not going to let it do that in

00:19:29,960 --> 00:19:36,140
core automatically sanitized fixed two

00:19:34,400 --> 00:19:38,090
ways override markup templates and theme

00:19:36,140 --> 00:19:39,710
functions and way too many of both or

00:19:38,090 --> 00:19:41,270
eliminating all fame functions so

00:19:39,710 --> 00:19:45,200
that'll only be one way and

00:19:41,270 --> 00:19:48,040
consolidating a same time fixed too many

00:19:45,200 --> 00:19:50,090
of everything we've got most of these

00:19:48,040 --> 00:19:51,590
consolidated already but there's some

00:19:50,090 --> 00:19:53,300
core is just we give some help on so if

00:19:51,590 --> 00:19:56,570
you're around this weekend that'll get

00:19:53,300 --> 00:19:58,250
fixed shortly and our complicated mix of

00:19:56,570 --> 00:20:00,290
subsystem let's let's see how we're

00:19:58,250 --> 00:20:02,390
doing the fat shears where we started

00:20:00,290 --> 00:20:04,520
right where we had a way too much stuff

00:20:02,390 --> 00:20:06,530
we're removing theme functions that

00:20:04,520 --> 00:20:08,300
means all theme overrides are also going

00:20:06,530 --> 00:20:09,920
to be removed which means in your custom

00:20:08,300 --> 00:20:11,630
theme you'll just be overriding

00:20:09,920 --> 00:20:15,080
templates so that one removes two layers

00:20:11,630 --> 00:20:16,700
already process functions only existed

00:20:15,080 --> 00:20:19,220
for the purpose of flattening things

00:20:16,700 --> 00:20:20,510
like arrays into strings we don't need

00:20:19,220 --> 00:20:23,420
that we can do that for us so that's

00:20:20,510 --> 00:20:24,800
obviously out render I'll calls to

00:20:23,420 --> 00:20:27,050
render can remove from template files

00:20:24,800 --> 00:20:28,940
this will still exist as Drupal internal

00:20:27,050 --> 00:20:30,410
but it's not going to be part of your

00:20:28,940 --> 00:20:32,780
everyday life you don't need to worry

00:20:30,410 --> 00:20:35,360
about render Drupal render all that so

00:20:32,780 --> 00:20:37,700
that's gon hook page alter will go away

00:20:35,360 --> 00:20:39,620
because we're switching to the blocks

00:20:37,700 --> 00:20:40,760
and layout system so it's going to be a

00:20:39,620 --> 00:20:42,680
little bit different how we deal with

00:20:40,760 --> 00:20:44,920
that but we won't have that as part of

00:20:42,680 --> 00:20:47,000
our theme system anymore either

00:20:44,920 --> 00:20:48,620
preprocess functions I talked about we

00:20:47,000 --> 00:20:50,000
want to kill them we're not really sure

00:20:48,620 --> 00:20:52,190
whether we can or not least in this

00:20:50,000 --> 00:20:53,450
release cycle eventually we should be

00:20:52,190 --> 00:20:56,450
able to get rid of them entirely and

00:20:53,450 --> 00:20:58,910
that's a lot of pieces of our theme

00:20:56,450 --> 00:21:01,640
system they've been removed it's a

00:20:58,910 --> 00:21:03,800
little better right still has the kind

00:21:01,640 --> 00:21:05,630
of like satanic star there in the middle

00:21:03,800 --> 00:21:08,870
but you know where you arrange the

00:21:05,630 --> 00:21:12,710
bubbles something right so that's a lot

00:21:08,870 --> 00:21:14,720
better okay so most things are fixed

00:21:12,710 --> 00:21:16,120
except for this whole difficult to learn

00:21:14,720 --> 00:21:17,920
thing where

00:21:16,120 --> 00:21:19,270
being that will get taken care of too by

00:21:17,920 --> 00:21:20,590
doing everything really consistently

00:21:19,270 --> 00:21:23,740
treating our theme functions the same

00:21:20,590 --> 00:21:25,540
treating our styles and classes and div

00:21:23,740 --> 00:21:27,130
tags and all of that the same all across

00:21:25,540 --> 00:21:28,690
core if it's consistent people should be

00:21:27,130 --> 00:21:32,530
able to guess what's going on and that

00:21:28,690 --> 00:21:33,670
should make that better deal so let's

00:21:32,530 --> 00:21:35,230
talk about some other awesome things

00:21:33,670 --> 00:21:37,480
that we may or may not be able to do

00:21:35,230 --> 00:21:40,590
with weight do you want to talk a little

00:21:37,480 --> 00:21:43,420
bit about twig template inheritance okay

00:21:40,590 --> 00:21:45,210
so one of the really cool features of

00:21:43,420 --> 00:21:47,560
twigs your ability to override

00:21:45,210 --> 00:21:49,480
components of the templates I'm not sure

00:21:47,560 --> 00:21:53,920
how this is intend to being implemented

00:21:49,480 --> 00:21:58,180
in a integral but you have arrived okay

00:21:53,920 --> 00:22:02,140
so there's an ability for one template

00:21:58,180 --> 00:22:04,120
to inherit a super template usually in a

00:22:02,140 --> 00:22:05,950
simple contexts and layout so you can

00:22:04,120 --> 00:22:08,130
have a template describing maybe a a

00:22:05,950 --> 00:22:11,380
feed of posts and that inheriting your

00:22:08,130 --> 00:22:12,790
site layout in turn and it does it in a

00:22:11,380 --> 00:22:14,290
very simple and elegant way I don't know

00:22:12,790 --> 00:22:16,630
if we've got an example of a template

00:22:14,290 --> 00:22:19,330
like that but it is a relatively simple

00:22:16,630 --> 00:22:22,120
process of doing there's also an

00:22:19,330 --> 00:22:23,920
override sort of a hierarchy we can

00:22:22,120 --> 00:22:26,200
actually override templates have been

00:22:23,920 --> 00:22:28,000
placed into twigs so should you need to

00:22:26,200 --> 00:22:29,500
override something like something i'd

00:22:28,000 --> 00:22:32,560
imagine that William would be being

00:22:29,500 --> 00:22:35,170
built into Drupal core like display page

00:22:32,560 --> 00:22:37,360
you can write customizations over the

00:22:35,170 --> 00:22:39,490
top of that so you can really get your

00:22:37,360 --> 00:22:44,500
own presentation layer working really

00:22:39,490 --> 00:22:46,000
easily so yeah so this idea of Twitter

00:22:44,500 --> 00:22:50,170
template inheritance how many people

00:22:46,000 --> 00:22:54,850
have like a theme that has like 5 or 7

00:22:50,170 --> 00:22:58,690
or 80 node T pls and their theme yeah so

00:22:54,850 --> 00:23:00,220
the so my idea of how the template

00:22:58,690 --> 00:23:02,560
inherence is to work would be basically

00:23:00,220 --> 00:23:04,960
you you have your one node TPL and then

00:23:02,560 --> 00:23:06,550
a lot of those other ppl files are

00:23:04,960 --> 00:23:08,650
basically that's like one line that you

00:23:06,550 --> 00:23:10,960
want to change so you can mark up in the

00:23:08,650 --> 00:23:13,180
sort of the the base node TPL to say

00:23:10,960 --> 00:23:16,810
this section i want to be able to change

00:23:13,180 --> 00:23:20,080
in my variance or what are the what are

00:23:16,810 --> 00:23:22,390
they called into it hit it yeah yeah so

00:23:20,080 --> 00:23:23,920
see ya you mark this one section and

00:23:22,390 --> 00:23:27,070
said this is a part that I want to

00:23:23,920 --> 00:23:29,440
change it you call that a twig block yay

00:23:27,070 --> 00:23:32,769
naming conflicts anyway

00:23:29,440 --> 00:23:34,960
and then in your other node TPL file you

00:23:32,769 --> 00:23:37,299
don't repeat every single line you just

00:23:34,960 --> 00:23:40,269
say okay I'm inheriting from the node

00:23:37,299 --> 00:23:41,830
twig file and this is the one block that

00:23:40,269 --> 00:23:43,570
I want to change and when you go and

00:23:41,830 --> 00:23:45,190
open it make it's a lot clearer what's

00:23:43,570 --> 00:23:46,870
going on you don't have to do like a

00:23:45,190 --> 00:23:49,090
diff and see what's different between

00:23:46,870 --> 00:23:51,639
why is there so many note EPL's it's

00:23:49,090 --> 00:23:59,500
really clear that I'm just changing this

00:23:51,639 --> 00:24:07,299
one bit is it all in my head I don't

00:23:59,500 --> 00:24:18,820
know there's really great code samples

00:24:07,299 --> 00:24:21,539
of everything on there twig page it's

00:24:18,820 --> 00:24:23,710
also called a block which gone out I

00:24:21,539 --> 00:24:27,100
opened an issue to change name of blocks

00:24:23,710 --> 00:24:28,629
in Drupal but that didn't fly so we

00:24:27,100 --> 00:24:30,429
probably gonna call the match week or

00:24:28,629 --> 00:24:32,889
something yeah we're just gonna call the

00:24:30,429 --> 00:24:38,490
block it well figure yeah I don't know

00:24:32,889 --> 00:24:38,490
well it's it's a code block

00:24:54,179 --> 00:25:14,590
it's really straight hard yes one more

00:24:59,650 --> 00:25:15,640
question so well if you look at template

00:25:14,590 --> 00:25:17,140
vows today there's actually a lot of

00:25:15,640 --> 00:25:19,480
logic and are ready looks a lot of like

00:25:17,140 --> 00:25:22,059
if this thing exists print it or if this

00:25:19,480 --> 00:25:23,770
is a whatever print that so we right now

00:25:22,059 --> 00:25:26,409
are doing exactly the same thing in twig

00:25:23,770 --> 00:25:28,059
as we're doing in PHP template there

00:25:26,409 --> 00:25:29,740
will be ability to change that around a

00:25:28,059 --> 00:25:32,230
little when we have more twig stuff

00:25:29,740 --> 00:25:34,809
right now it's kind of the same so I

00:25:32,230 --> 00:25:37,720
just want to say so again in in Drupal 7

00:25:34,809 --> 00:25:38,799
a lot of these times we have we have

00:25:37,720 --> 00:25:40,570
these things that are in the system

00:25:38,799 --> 00:25:42,700
already and like oh we have this other

00:25:40,570 --> 00:25:45,429
completely different idea and we have

00:25:42,700 --> 00:25:48,190
the system that needs that's implemented

00:25:45,429 --> 00:25:50,320
in the same way that we need to like get

00:25:48,190 --> 00:25:52,210
into the system so then they just like

00:25:50,320 --> 00:25:54,429
tack on this extra functionality like

00:25:52,210 --> 00:25:56,230
theme of suggestions being done inside

00:25:54,429 --> 00:25:57,940
pre-process functions which is just

00:25:56,230 --> 00:26:00,190
supposed to be about variables suddenly

00:25:57,940 --> 00:26:02,799
you're changing the control flow of

00:26:00,190 --> 00:26:04,480
which template file you're using inside

00:26:02,799 --> 00:26:07,419
a mechanism that was meant to be I'm

00:26:04,480 --> 00:26:08,830
just altering variables right that

00:26:07,419 --> 00:26:11,399
doesn't make a lot of that kind of what

00:26:08,830 --> 00:26:11,399
you're talking about or

00:26:22,990 --> 00:26:30,290
so yeah so so variables in twig files

00:26:28,220 --> 00:26:31,850
work completely differently than they

00:26:30,290 --> 00:26:33,559
work in PHP template because in PHP

00:26:31,850 --> 00:26:35,360
template you like have to go mmm does

00:26:33,559 --> 00:26:37,220
somebody want this variable I know I'll

00:26:35,360 --> 00:26:39,710
go and like a render it and create it or

00:26:37,220 --> 00:26:41,330
at least create a render array for it so

00:26:39,710 --> 00:26:44,690
they do all this work to create all

00:26:41,330 --> 00:26:47,679
these variables just in case the themer

00:26:44,690 --> 00:26:50,150
wants to use it in twig it's like okay

00:26:47,679 --> 00:26:53,299
I'm going to tell the twig system that

00:26:50,150 --> 00:26:56,660
these variables can be made if you ask

00:26:53,299 --> 00:26:58,309
me to make them right and then when you

00:26:56,660 --> 00:27:00,710
render the template it goes oh I

00:26:58,309 --> 00:27:06,380
actually do need this variable and then

00:27:00,710 --> 00:27:09,049
go and grab it there's a huge potential

00:27:06,380 --> 00:27:10,190
performance gain because right now what

00:27:09,049 --> 00:27:11,510
we're doing is a little bit wasteful

00:27:10,190 --> 00:27:12,890
with all of this preparation of

00:27:11,510 --> 00:27:15,640
variables that may never get printed to

00:27:12,890 --> 00:27:17,960
the page we're with twig it's kind of a

00:27:15,640 --> 00:27:19,790
inside out as opposed to an outside in

00:27:17,960 --> 00:27:21,290
process where you wait until the

00:27:19,790 --> 00:27:22,880
template file gets rendered and then

00:27:21,290 --> 00:27:24,260
twig says what's in this template file

00:27:22,880 --> 00:27:26,690
oh it's this variable let me go make

00:27:24,260 --> 00:27:27,860
that for you whereas PHP template was

00:27:26,690 --> 00:27:28,790
like when we make all these variables

00:27:27,860 --> 00:27:30,679
and then when they're called we'll just

00:27:28,790 --> 00:27:32,600
spit them out so that's part of why we

00:27:30,679 --> 00:27:35,570
can get rid of pre process is because

00:27:32,600 --> 00:27:38,030
that whole phase of preparing stuff

00:27:35,570 --> 00:27:41,150
doesn't need to exist anymore we just

00:27:38,030 --> 00:27:43,549
need to make sure what was that right

00:27:41,150 --> 00:27:46,340
it's like a mid process right like while

00:27:43,549 --> 00:27:51,200
we're printing stuff will make it and in

00:27:46,340 --> 00:27:53,030
and PHP PHP template was was kind of

00:27:51,200 --> 00:27:54,710
sloppy and how it did all of this twig

00:27:53,030 --> 00:27:56,809
is really elegant and that all of your

00:27:54,710 --> 00:27:58,520
template files get compiled into classes

00:27:56,809 --> 00:28:00,110
and they can get saved in memory which

00:27:58,520 --> 00:28:02,990
could also be really fast too if you

00:28:00,110 --> 00:28:05,600
have one node with 300 comments on it in

00:28:02,990 --> 00:28:07,010
PHP template that file needs to get rid

00:28:05,600 --> 00:28:08,450
from disk three hundred times and have

00:28:07,010 --> 00:28:10,429
those variables inserted or if you're

00:28:08,450 --> 00:28:12,530
using a PC it gets stat three hundred

00:28:10,429 --> 00:28:14,690
times and that's expensive if you have a

00:28:12,530 --> 00:28:16,370
class in memory you just execute it 300

00:28:14,690 --> 00:28:17,870
times and that's really fast so this is

00:28:16,370 --> 00:28:20,030
the kind of thing where like it says

00:28:17,870 --> 00:28:21,919
much TBD because we actually haven't had

00:28:20,030 --> 00:28:23,540
enough of it done to do any legitimate

00:28:21,919 --> 00:28:25,520
benchmarking but there's a potential

00:28:23,540 --> 00:28:26,840
here for a huge gain not only in

00:28:25,520 --> 00:28:29,240
performance but in like the amount of

00:28:26,840 --> 00:28:30,740
memory it takes to build a page right

00:28:29,240 --> 00:28:32,720
when you have a giant renderer

00:28:30,740 --> 00:28:34,340
that's sitting there waiting for parts

00:28:32,720 --> 00:28:35,480
of it to be rendered or maybe all of it

00:28:34,340 --> 00:28:38,030
depending on which part of the cycle

00:28:35,480 --> 00:28:39,050
you're in it's messy but here you're

00:28:38,030 --> 00:28:41,120
just like you know we don't need any of

00:28:39,050 --> 00:28:42,800
that until the time that we render it

00:28:41,120 --> 00:28:45,140
and then we can go and get only what we

00:28:42,800 --> 00:28:47,540
need and print that to the page so it

00:28:45,140 --> 00:28:52,340
will be really nice if we can get all

00:28:47,540 --> 00:28:54,020
this other stuff out of there be good so

00:28:52,340 --> 00:28:56,270
in Drupal 8 we're going to have this

00:28:54,020 --> 00:28:57,770
concept of context that will exist all

00:28:56,270 --> 00:29:00,230
the time and we haven't actually done a

00:28:57,770 --> 00:29:02,780
lot of work with the blocks and layouts

00:29:00,230 --> 00:29:04,429
people to figure out how twig will have

00:29:02,780 --> 00:29:06,830
access to that but we know that it will

00:29:04,429 --> 00:29:09,140
so there will be a bunch of stuff that's

00:29:06,830 --> 00:29:10,550
available in kind of a global context

00:29:09,140 --> 00:29:12,860
that you can use to figure out like

00:29:10,550 --> 00:29:14,240
who's looking at the page how does it

00:29:12,860 --> 00:29:15,920
need to be displayed is this going to

00:29:14,240 --> 00:29:17,809
like a web services requesters it being

00:29:15,920 --> 00:29:19,190
printed to a browser like is it mobile

00:29:17,809 --> 00:29:21,500
or not like there's a bunch of factors

00:29:19,190 --> 00:29:23,450
that go into that like global context of

00:29:21,500 --> 00:29:24,530
how this content should be created that

00:29:23,450 --> 00:29:27,500
twit can then use to print things

00:29:24,530 --> 00:29:32,420
differently even so it could be really

00:29:27,500 --> 00:29:33,770
cool we haven't built it yet and then

00:29:32,420 --> 00:29:35,540
this last bullet point this is going to

00:29:33,770 --> 00:29:38,150
exist in in controlling so don't get too

00:29:35,540 --> 00:29:40,730
excited but we were talking about this

00:29:38,150 --> 00:29:42,890
in Munich where it's possible for the

00:29:40,730 --> 00:29:45,020
first time in history for your Drupal

00:29:42,890 --> 00:29:47,000
site to be aware of what's going on in

00:29:45,020 --> 00:29:48,740
your template files so right now if

00:29:47,000 --> 00:29:50,150
you're a themer and you're like why are

00:29:48,740 --> 00:29:51,740
there all these if statements to see if

00:29:50,150 --> 00:29:53,420
variables or set before stuff's getting

00:29:51,740 --> 00:29:55,160
printed I don't care whether somebody

00:29:53,420 --> 00:29:57,200
went to the system page and like changed

00:29:55,160 --> 00:29:58,880
my whatever i'm just going to print what

00:29:57,200 --> 00:30:01,040
i want to print and what that does is it

00:29:58,880 --> 00:30:03,350
breaks drupal's interface right like I

00:30:01,040 --> 00:30:04,820
said no I don't want a menu here and

00:30:03,350 --> 00:30:06,530
it's like well it printed anyway because

00:30:04,820 --> 00:30:08,510
I removed the if test in my template

00:30:06,530 --> 00:30:10,280
file to see if it was supposed to print

00:30:08,510 --> 00:30:11,360
or not so now your interface is broken

00:30:10,280 --> 00:30:13,610
and that can be really frustrated

00:30:11,360 --> 00:30:15,020
frustrating for for end-users not to

00:30:13,610 --> 00:30:17,120
understand that their theme isn't

00:30:15,020 --> 00:30:20,210
respecting these Drupal settings well

00:30:17,120 --> 00:30:22,730
now we have the ability for the theme to

00:30:20,210 --> 00:30:24,140
read the template files and say hey this

00:30:22,730 --> 00:30:25,970
is getting printed whether that setting

00:30:24,140 --> 00:30:27,620
is set or not so I'm going to disable

00:30:25,970 --> 00:30:29,150
the user interface so that whoever's

00:30:27,620 --> 00:30:30,980
looking at this page doesn't think they

00:30:29,150 --> 00:30:32,540
can turn off the menu or doesn't think

00:30:30,980 --> 00:30:35,679
they can turn off the user pictures or

00:30:32,540 --> 00:30:35,679
whatever it is but

00:30:37,980 --> 00:30:42,850
that's kind of negates six months later

00:30:40,660 --> 00:30:44,860
our project we had this idea of the

00:30:42,850 --> 00:30:47,350
ideal markup that you need it and then

00:30:44,860 --> 00:30:48,610
your six down Thunder down the built the

00:30:47,350 --> 00:30:50,440
clients come back and want to change

00:30:48,610 --> 00:30:52,450
something in the under note page and

00:30:50,440 --> 00:30:55,420
want to drag it around or you forgot

00:30:52,450 --> 00:30:59,230
that you kind of custom build everything

00:30:55,420 --> 00:31:01,120
in this there's no tibial and kind of

00:30:59,230 --> 00:31:03,130
instead of using the scope couple of

00:31:01,120 --> 00:31:04,660
hours to figure out why is my cash McKim

00:31:03,130 --> 00:31:07,450
this data out and so forth and so forth

00:31:04,660 --> 00:31:09,220
but can actually make this magic land of

00:31:07,450 --> 00:31:11,470
unicorns where we can have an idea of

00:31:09,220 --> 00:31:13,180
what actually goes on so if you take

00:31:11,470 --> 00:31:15,100
this one step further and say okay well

00:31:13,180 --> 00:31:17,290
if the user interface can be based on

00:31:15,100 --> 00:31:21,820
the template files maybe we can just

00:31:17,290 --> 00:31:23,560
write the template files first okay

00:31:21,820 --> 00:31:25,330
that's direction I was expecting okay so

00:31:23,560 --> 00:31:26,920
if you are like I want to write template

00:31:25,330 --> 00:31:28,660
files from my sight you write a bunch of

00:31:26,920 --> 00:31:29,890
HTML code you drop in the variables you

00:31:28,660 --> 00:31:30,850
want to drop in we can have something

00:31:29,890 --> 00:31:32,410
that tells you what the names of those

00:31:30,850 --> 00:31:34,210
variables are you put them into your

00:31:32,410 --> 00:31:35,980
drupal site and then triple go so here

00:31:34,210 --> 00:31:46,360
you go I've created everything you need

00:31:35,980 --> 00:31:48,130
to match that yeah yeah that's the

00:31:46,360 --> 00:31:50,620
that's the possible performance gains

00:31:48,130 --> 00:31:52,240
thing yeah so I mean menus are cash

00:31:50,620 --> 00:31:54,130
anyway so it's not a big deal but there

00:31:52,240 --> 00:31:59,110
are things like that that are going to

00:31:54,130 --> 00:32:00,910
be yeah it's down to one we're talking

00:31:59,110 --> 00:32:02,440
about how to get new people into this I

00:32:00,910 --> 00:32:04,030
mean the first reaction you got when you

00:32:02,440 --> 00:32:05,860
call in to look on these cheap yellow

00:32:04,030 --> 00:32:07,870
files was where does all this crap come

00:32:05,860 --> 00:32:09,580
from instead of I have this ideal markup

00:32:07,870 --> 00:32:11,590
I know works in old Belson's every

00:32:09,580 --> 00:32:13,150
mobile phone at blah blah blah so you

00:32:11,590 --> 00:32:15,220
can actually now have new people coming

00:32:13,150 --> 00:32:18,460
in that doesn't know the magic of

00:32:15,220 --> 00:32:21,250
trouble and no just right up mark up and

00:32:18,460 --> 00:32:23,410
make this nope double curly bracket kind

00:32:21,250 --> 00:32:25,390
of thing put the title in here like if

00:32:23,410 --> 00:32:27,760
the other same template system would do

00:32:25,390 --> 00:32:30,700
so it's kind of when we're talking about

00:32:27,760 --> 00:32:32,560
the is it is this going to be hard for

00:32:30,700 --> 00:32:34,900
new people to learn we kind of expect it

00:32:32,560 --> 00:32:36,400
to be natural to learn like hey write

00:32:34,900 --> 00:32:40,290
your markup and put your elbows in and

00:32:36,400 --> 00:32:40,290
you're done kind of magic way

00:32:47,740 --> 00:32:56,420
well III know it's some some front-end

00:32:53,960 --> 00:32:57,980
meetups I run we will have hard hard

00:32:56,420 --> 00:33:00,710
time to find issues to and moan

00:32:57,980 --> 00:33:05,420
about so we need to like change that way

00:33:00,710 --> 00:33:07,190
of communicating I know that the SQL

00:33:05,420 --> 00:33:11,050
module has kind of come out and get help

00:33:07,190 --> 00:33:13,460
will help us with that but still yeah

00:33:11,050 --> 00:33:15,830
I've been developing a PHP for a long

00:33:13,460 --> 00:33:18,650
time and when I approached Drupal it

00:33:15,830 --> 00:33:19,880
seems very very foreign to me so trying

00:33:18,650 --> 00:33:21,590
to tie this into the broader community

00:33:19,880 --> 00:33:36,470
I'm just going to have a few wins to

00:33:21,590 --> 00:33:38,960
drag new people into Drupal world all

00:33:36,470 --> 00:33:40,700
right so one one one last thing on our

00:33:38,960 --> 00:33:42,590
Bowl list here's the second one is done

00:33:40,700 --> 00:33:44,600
we're going to try and build some really

00:33:42,590 --> 00:33:46,280
awesome variable inspector so if you get

00:33:44,600 --> 00:33:47,630
a template that says menu you don't

00:33:46,280 --> 00:33:49,460
really know what's in that menu you can

00:33:47,630 --> 00:33:50,750
say hey twig what's in this menu and

00:33:49,460 --> 00:33:52,310
it'll be like here all the variables

00:33:50,750 --> 00:33:54,380
that you can print and I'll work a

00:33:52,310 --> 00:33:55,730
little bit we hope like the token drill

00:33:54,380 --> 00:33:56,930
system right now you're like oh look

00:33:55,730 --> 00:33:58,040
there's a note and you click on it and

00:33:56,930 --> 00:34:00,320
is like here's all the stuff in the node

00:33:58,040 --> 00:34:01,460
you can click through this is one of

00:34:00,320 --> 00:34:03,620
these things we were hoping to get done

00:34:01,460 --> 00:34:04,970
by two weeks from now so if anyone wants

00:34:03,620 --> 00:34:06,380
to work on that this weekend we're going

00:34:04,970 --> 00:34:08,330
to be sprinting and you can help us but

00:34:06,380 --> 00:34:11,690
um that can definitely get in i think

00:34:08,330 --> 00:34:13,940
even maybe we can sell it we can get it

00:34:11,690 --> 00:34:15,520
in after but so we're hoping to make it

00:34:13,940 --> 00:34:19,300
really easy for people to figure out

00:34:15,520 --> 00:34:19,300
what they can do in your files

00:34:22,559 --> 00:34:27,010
so this whole thing like I actually

00:34:25,450 --> 00:34:28,629
wrote a new theme layer for drupal

00:34:27,010 --> 00:34:31,480
called token template that did exactly

00:34:28,629 --> 00:34:33,790
that but there's a lot of reasons a lot

00:34:31,480 --> 00:34:35,230
of people didn't like that um so what

00:34:33,790 --> 00:34:37,569
we're going to end up doing is there's a

00:34:35,230 --> 00:34:39,700
lot of similarities between like tokens

00:34:37,569 --> 00:34:41,799
flatten and sanitized and produce output

00:34:39,700 --> 00:34:43,569
and so we can use all the functions that

00:34:41,799 --> 00:34:46,119
we're using and tokens to flatten and

00:34:43,569 --> 00:34:48,369
sanitize output in the render system and

00:34:46,119 --> 00:34:49,510
so they'll be recycling right where we

00:34:48,369 --> 00:34:50,859
don't have to rewrite a lot of this

00:34:49,510 --> 00:34:52,599
stuff because it already exists but

00:34:50,859 --> 00:34:54,309
we're not actually using token that's

00:34:52,599 --> 00:34:56,079
also kind of a Drupal ism right whereas

00:34:54,309 --> 00:35:00,819
we'd rather just use like the way it

00:34:56,079 --> 00:35:02,980
does it so the decision of whether we

00:35:00,819 --> 00:35:04,869
would use twig or like token template or

00:35:02,980 --> 00:35:07,270
something we had a sprint that Jen

00:35:04,869 --> 00:35:09,339
helped organize last March was it so

00:35:07,270 --> 00:35:11,380
less than a year ago and we we spent

00:35:09,339 --> 00:35:13,270
like three days just like going over all

00:35:11,380 --> 00:35:14,530
the different problems and you know

00:35:13,270 --> 00:35:17,559
that's where the slides were what are

00:35:14,530 --> 00:35:18,849
the problems what are how can we solve

00:35:17,559 --> 00:35:20,770
all those problems and then we started

00:35:18,849 --> 00:35:22,359
looking at systems that could help us

00:35:20,770 --> 00:35:24,549
solve the system when we looked at twig

00:35:22,359 --> 00:35:29,500
we're like okay yeah check check check

00:35:24,549 --> 00:35:31,299
check check it was like okay thing is

00:35:29,500 --> 00:35:32,770
that that normally what the way this

00:35:31,299 --> 00:35:34,690
have been done in Drupal world is a

00:35:32,770 --> 00:35:37,480
bunch of developers sit down in the room

00:35:34,690 --> 00:35:39,940
and decide something great in developer

00:35:37,480 --> 00:35:43,569
land and then a year and a half later

00:35:39,940 --> 00:35:45,490
they gave that to fronting land and the

00:35:43,569 --> 00:35:47,740
peasants will rise and against you

00:35:45,490 --> 00:35:49,420
scream at the developers and we did it

00:35:47,740 --> 00:35:52,720
another way around we had a conference

00:35:49,420 --> 00:35:54,190
in in Amsterdam at that same waiver same

00:35:52,720 --> 00:35:57,130
weekend fronting the first one ten

00:35:54,190 --> 00:35:58,480
United mayra basically had no I was

00:35:57,130 --> 00:36:00,940
expecting three people to show up so the

00:35:58,480 --> 00:36:03,339
coach spent and we had about 80 people

00:36:00,940 --> 00:36:04,569
showing up at all all in all in 15 to 20

00:36:03,339 --> 00:36:06,460
people are just sitting down just say

00:36:04,569 --> 00:36:08,859
okay let's identify what our real

00:36:06,460 --> 00:36:12,130
problem is we then sent that to San

00:36:08,859 --> 00:36:14,740
Francisco we then went to the bar got

00:36:12,130 --> 00:36:16,839
piss-drunk and the next morning magic

00:36:14,740 --> 00:36:20,020
happens that was the day when when

00:36:16,839 --> 00:36:22,630
chicks had solved all the solutions yeah

00:36:20,020 --> 00:36:24,160
yeah so yeah our strategy was basically

00:36:22,630 --> 00:36:25,540
instead of it just being developers

00:36:24,160 --> 00:36:27,880
which is how we got the render system

00:36:25,540 --> 00:36:32,530
the the developers got together in like

00:36:27,880 --> 00:36:34,240
drupalcon second which I didn't attend

00:36:32,530 --> 00:36:35,859
and like decided this is a render system

00:36:34,240 --> 00:36:37,239
and then Drupal 7 development

00:36:35,859 --> 00:36:39,730
and and I was working merrily on

00:36:37,239 --> 00:36:42,220
cleaning up the TP l's and then all of a

00:36:39,730 --> 00:36:51,390
sudden right before code freeze render

00:36:42,220 --> 00:36:51,390
system lands and like wat da and

00:36:52,259 --> 00:37:04,059
yeah so um I immediately did not like

00:37:01,869 --> 00:37:05,680
render system at all but it was just me

00:37:04,059 --> 00:37:07,779
and all these developers and there

00:37:05,680 --> 00:37:09,430
wasn't any other team people who are

00:37:07,779 --> 00:37:11,200
sort of in the queue and active and it

00:37:09,430 --> 00:37:14,650
was like it was way too late by the time

00:37:11,200 --> 00:37:16,720
it already was in Drupal 7 like ah so

00:37:14,650 --> 00:37:19,180
this time we decided okay let's get

00:37:16,720 --> 00:37:22,180
developers and front-end developers in

00:37:19,180 --> 00:37:25,809
the same room so we had we had c HX we

00:37:22,180 --> 00:37:28,420
had FL gen sia on skype like 24 hours we

00:37:25,809 --> 00:37:31,529
had Chris Vander water who's the blocks

00:37:28,420 --> 00:37:34,289
and layoffs initiative lead myself Jen

00:37:31,529 --> 00:37:37,960
and and then we actually opened up a

00:37:34,289 --> 00:37:40,029
Google+ Hangout her well oh yeah WebEx

00:37:37,960 --> 00:37:41,980
when we had all these other front-end

00:37:40,029 --> 00:37:45,130
developers who who joined in remotely

00:37:41,980 --> 00:37:51,190
and so all of us together came up with

00:37:45,130 --> 00:37:53,170
the twig solution about the first day

00:37:51,190 --> 00:37:56,109
that you had a demo of the dude who did

00:37:53,170 --> 00:37:57,519
a version of my team the mothership it

00:37:56,109 --> 00:37:59,019
renamed it with the mothertree can

00:37:57,519 --> 00:38:00,700
actually implemented trick into

00:37:59,019 --> 00:38:03,220
themselves the demo of it was people

00:38:00,700 --> 00:38:04,809
like now we don't need anything new just

00:38:03,220 --> 00:38:06,809
need something clean and then we saw

00:38:04,809 --> 00:38:10,029
that especially the block things like

00:38:06,809 --> 00:38:13,119
holy we could get the John John can

00:38:10,029 --> 00:38:14,680
I get that No so what actually happened

00:38:13,119 --> 00:38:16,089
on the last I have this day of this

00:38:14,680 --> 00:38:17,799
conference we kind of saw what was

00:38:16,089 --> 00:38:19,630
coming out of San Francisco and like

00:38:17,799 --> 00:38:21,039
okay let's just figured out people

00:38:19,630 --> 00:38:22,509
actually likes this so we should

00:38:21,039 --> 00:38:24,309
actually push forward with it or should

00:38:22,509 --> 00:38:25,749
we just like hide in the hole it'll kind

00:38:24,309 --> 00:38:27,700
of a room this size of people like

00:38:25,749 --> 00:38:29,769
there's actually interesting sessions

00:38:27,700 --> 00:38:31,390
going on in this one just come here we

00:38:29,769 --> 00:38:33,670
gonna be few about what they did in San

00:38:31,390 --> 00:38:35,589
Francisco and the kind of feeling got

00:38:33,670 --> 00:38:37,480
already at that point so early on the

00:38:35,589 --> 00:38:39,549
process this was exactly what people

00:38:37,480 --> 00:38:41,049
have been waiting for and which kind of

00:38:39,549 --> 00:38:42,220
made me feel happy because I just

00:38:41,049 --> 00:38:46,859
thought it was me was being a little

00:38:42,220 --> 00:38:46,859
 for six years it wasn't

00:38:48,850 --> 00:38:52,490
so this was a Munich where we had this

00:38:51,110 --> 00:38:53,870
session and we're like did people

00:38:52,490 --> 00:38:55,970
actually want this like it's what we

00:38:53,870 --> 00:39:02,420
want and everyone wanted it and it was

00:38:55,970 --> 00:39:03,650
like oh well we can do that too so so

00:39:02,420 --> 00:39:05,810
that's another thing right we haven't

00:39:03,650 --> 00:39:08,030
mentioned that yet but like we can't

00:39:05,810 --> 00:39:09,230
have some people use WordPress right

00:39:08,030 --> 00:39:10,400
there's like these editors where you can

00:39:09,230 --> 00:39:11,600
like open up like here's your style

00:39:10,400 --> 00:39:13,010
sheet here's your template and you can

00:39:11,600 --> 00:39:14,720
like actually edit them in your browser

00:39:13,010 --> 00:39:16,490
we can't do that in pH becomes like

00:39:14,720 --> 00:39:18,860
because it's horribly insecure to expose

00:39:16,490 --> 00:39:20,360
PHP code in the browser but toy code is

00:39:18,860 --> 00:39:21,980
safe we can do that it when we want to

00:39:20,360 --> 00:39:23,660
in the core but in contribs someone can

00:39:21,980 --> 00:39:24,950
write a module that gives you a UI that

00:39:23,660 --> 00:39:27,590
lets you edit all yours does anybody

00:39:24,950 --> 00:39:31,640
remember the contemplate module yeah

00:39:27,590 --> 00:39:33,860
don't use that but but if it got

00:39:31,640 --> 00:39:35,540
converted to be twig based it would be

00:39:33,860 --> 00:39:37,730
perfectly acceptable solution you can

00:39:35,540 --> 00:39:46,040
install it in triple eight so

00:39:37,730 --> 00:39:47,840
contemplating it can come back yeah yeah

00:39:46,040 --> 00:39:50,150
so there's a bunch of really stuff you

00:39:47,840 --> 00:39:52,670
can you can use twig for email templates

00:39:50,150 --> 00:39:55,190
there's also like a JavaScript framework

00:39:52,670 --> 00:39:56,990
like twix JSI guess so that you can use

00:39:55,190 --> 00:39:59,240
your node template whether that knows

00:39:56,990 --> 00:40:00,890
that notice rendered like in PHP on your

00:39:59,240 --> 00:40:02,810
server or whether it's rendered like

00:40:00,890 --> 00:40:04,730
client-side and some kind of external

00:40:02,810 --> 00:40:06,560
thing so there's a lot of really awesome

00:40:04,730 --> 00:40:12,880
places where twig can be recycled

00:40:06,560 --> 00:40:12,880
everywhere what do you say

00:40:16,000 --> 00:40:20,680
feel are there is so is there any big

00:40:17,890 --> 00:40:21,730
change to field for matters well I mean

00:40:20,680 --> 00:40:24,010
the biggest change is that there's no

00:40:21,730 --> 00:40:25,840
theme functions anymore right so all of

00:40:24,010 --> 00:40:29,800
your for matters will be using template

00:40:25,840 --> 00:40:31,660
files um I mean we're doing a lot of

00:40:29,800 --> 00:40:34,960
work on field templates anyway because

00:40:31,660 --> 00:40:37,000
they're so bad but so it's a really

00:40:34,960 --> 00:40:39,160
great question field for manners I know

00:40:37,000 --> 00:40:40,570
a little bit about them but why don't

00:40:39,160 --> 00:40:43,450
you come to the sprint and you and I can

00:40:40,570 --> 00:40:48,130
talk and we'll figured out the answer

00:40:43,450 --> 00:40:51,610
okay all right so speaking of how people

00:40:48,130 --> 00:40:53,830
can help us we've got a lot of stuff

00:40:51,610 --> 00:40:55,180
that we've completed right like we've

00:40:53,830 --> 00:40:56,560
got a bunch of template files that need

00:40:55,180 --> 00:40:58,330
to be converted to twig which is in our

00:40:56,560 --> 00:41:00,490
done in our sandbox but we need to move

00:40:58,330 --> 00:41:01,660
that to core we've got to convert some

00:41:00,490 --> 00:41:03,130
more theme functions I think there's

00:41:01,660 --> 00:41:05,350
like 20 left or something there's not

00:41:03,130 --> 00:41:06,310
very many into template files and

00:41:05,350 --> 00:41:08,740
there's some pretty good documentation

00:41:06,310 --> 00:41:10,930
on how to do that um we've got to create

00:41:08,740 --> 00:41:11,890
and test patches against core so we're

00:41:10,930 --> 00:41:13,570
trying to take all of the work that

00:41:11,890 --> 00:41:15,760
we've already done and just put it into

00:41:13,570 --> 00:41:17,590
core really fast because we've got two

00:41:15,760 --> 00:41:18,610
weeks to do it and we can use a lot of

00:41:17,590 --> 00:41:21,250
help with that so if you can write

00:41:18,610 --> 00:41:24,640
patches we need you in that room on

00:41:21,250 --> 00:41:25,840
Saturday and then we also have a bunch

00:41:24,640 --> 00:41:27,820
of people want to clean up the mark-up

00:41:25,840 --> 00:41:29,620
that's in core jon is going to be

00:41:27,820 --> 00:41:30,670
sprinting on cleaning up the CSS so it

00:41:29,620 --> 00:41:31,780
might be really good to have people want

00:41:30,670 --> 00:41:33,280
to clean up the mark-up working with

00:41:31,780 --> 00:41:34,780
people when it clean Sam that CSS we

00:41:33,280 --> 00:41:37,270
don't break everything same time which

00:41:34,780 --> 00:41:38,800
is good um and we have issues where you

00:41:37,270 --> 00:41:40,330
can just write HTML you don't need to

00:41:38,800 --> 00:41:41,890
write a patch don't need install Drupal

00:41:40,330 --> 00:41:43,810
you just want to show me the HTML you

00:41:41,890 --> 00:41:48,460
want tell us what you want and then we

00:41:43,810 --> 00:41:51,340
can fix it what is it what kind of

00:41:48,460 --> 00:41:52,930
markup is it that we as knowledge of

00:41:51,340 --> 00:41:55,360
people who knows the front end and how

00:41:52,930 --> 00:41:57,280
browsers interact with it what is it

00:41:55,360 --> 00:41:58,960
that we need instead of going the other

00:41:57,280 --> 00:42:00,490
way around I know it's kind of in

00:41:58,960 --> 00:42:01,990
trouble and is against everything that

00:42:00,490 --> 00:42:03,880
we have always thought there were and

00:42:01,990 --> 00:42:05,590
it's kind of a revolution and we can see

00:42:03,880 --> 00:42:07,990
the red flags and how the people storm

00:42:05,590 --> 00:42:11,230
towards the castle be kind of these

00:42:07,990 --> 00:42:13,030
people to that mean it's I mean we are

00:42:11,230 --> 00:42:14,410
like four or five people and I got hit

00:42:13,030 --> 00:42:15,760
by all kinds of stuff the last two

00:42:14,410 --> 00:42:18,730
months so I didn't have the time to do

00:42:15,760 --> 00:42:20,920
it and we a lot of this is just sitting

00:42:18,730 --> 00:42:22,090
down and actually just nope walking

00:42:20,920 --> 00:42:23,740
through the templates and figure out

00:42:22,090 --> 00:42:25,930
what is it that I want to have you how

00:42:23,740 --> 00:42:28,270
is that how is that my menu should look

00:42:25,930 --> 00:42:29,470
how shoot this list thing look how

00:42:28,270 --> 00:42:32,380
should that thing

00:42:29,470 --> 00:42:34,359
I mean it's just defining it so we can

00:42:32,380 --> 00:42:36,280
actually pass it further down to people

00:42:34,359 --> 00:42:39,040
who know how to get this thing into code

00:42:36,280 --> 00:42:40,750
that's kind of one of the most important

00:42:39,040 --> 00:42:43,240
things that at this point and and the

00:42:40,750 --> 00:42:44,500
problem is that well I pretty much of

00:42:43,240 --> 00:42:46,780
hackles John for a couple of years

00:42:44,500 --> 00:42:48,849
because he was responsible for the evil

00:42:46,780 --> 00:42:50,530
isn't ruble seven and John has now

00:42:48,849 --> 00:42:54,119
passed the tourists out to me because

00:42:50,530 --> 00:42:55,930
apparently I have been the loudest about

00:42:54,119 --> 00:42:57,730
everything that's been wrong so

00:42:55,930 --> 00:42:59,619
apparently now everything that's going

00:42:57,730 --> 00:43:03,910
to be wrong and Drupal 8 is going to be

00:42:59,619 --> 00:43:06,010
my fault right so I know I think myself

00:43:03,910 --> 00:43:07,660
being brilliant but i'm pretty sure i'm

00:43:06,010 --> 00:43:09,580
not that clever citing need some people

00:43:07,660 --> 00:43:12,790
to help you take the fall down which

00:43:09,580 --> 00:43:14,560
means but it speeds the react we need

00:43:12,790 --> 00:43:16,180
more than one face to look at the marker

00:43:14,560 --> 00:43:17,890
we look at the code and look at the CSS

00:43:16,180 --> 00:43:20,560
I mean John has an excellent post right

00:43:17,890 --> 00:43:23,500
now waiting around the whole how do we

00:43:20,560 --> 00:43:25,660
name CSS if he makes any mistakes right

00:43:23,500 --> 00:43:27,640
now that stuff gets into core we are

00:43:25,660 --> 00:43:30,280
gonna be burned down with that crap for

00:43:27,640 --> 00:43:32,050
years me that's me that's that's the

00:43:30,280 --> 00:43:34,000
problem you make one tiny mistake now

00:43:32,050 --> 00:43:36,040
and we're going to have a lot of fun

00:43:34,000 --> 00:43:38,500
with that each and every day for the

00:43:36,040 --> 00:43:41,700
next couple of years sprinter tomorrow

00:43:38,500 --> 00:43:50,230
can be titled our responsibility shared

00:43:41,700 --> 00:43:52,180
no yeah it's um actually I am I have a

00:43:50,230 --> 00:43:55,320
session later today that's kind of try

00:43:52,180 --> 00:43:57,940
to wrap up know everything why stuff

00:43:55,320 --> 00:44:00,190
started out as it did and why we ended

00:43:57,940 --> 00:44:01,930
up in this kind of it's not a nightmare

00:44:00,190 --> 00:44:06,040
because we have flow learn to work

00:44:01,930 --> 00:44:07,630
around with it but this kind of maybe

00:44:06,040 --> 00:44:09,550
I've just been here so long so it's not

00:44:07,630 --> 00:44:11,950
a nightmare for me anymore because of

00:44:09,550 --> 00:44:14,920
from from Scandinavia shows just always

00:44:11,950 --> 00:44:16,720
talk and maybe that's the thing and

00:44:14,920 --> 00:44:18,849
being down here in the Sun is kind of

00:44:16,720 --> 00:44:20,650
like that yellow thing out there i'm

00:44:18,849 --> 00:44:22,390
getting a little bit fatty off anyway

00:44:20,650 --> 00:44:23,950
sweet that the thing is that right now

00:44:22,390 --> 00:44:27,250
had we have for the first time actually

00:44:23,950 --> 00:44:29,470
and an idea of holy crap developers are

00:44:27,250 --> 00:44:32,980
listening to funded developers oh my god

00:44:29,470 --> 00:44:34,839
crazy talk with what okay so what we

00:44:32,980 --> 00:44:37,320
need to do is get all the front-end

00:44:34,839 --> 00:44:37,320
developers

00:44:41,880 --> 00:44:49,990
yeah he's got such and such so if any of

00:44:48,970 --> 00:44:51,400
you are friend developers and have

00:44:49,990 --> 00:44:52,869
opinions on what we should be doing in

00:44:51,400 --> 00:44:54,460
Drupal we need your input tell us what

00:44:52,869 --> 00:44:56,619
you want and we can try to make some

00:44:54,460 --> 00:44:58,240
changes um we've got to configure out

00:44:56,619 --> 00:44:59,470
how to consolidate more of our template

00:44:58,240 --> 00:45:00,910
files we've got issues against almost

00:44:59,470 --> 00:45:02,140
everything in court but we need people

00:45:00,910 --> 00:45:04,299
the right patches to do people the test

00:45:02,140 --> 00:45:06,460
patches many people to log on and just

00:45:04,299 --> 00:45:08,380
say I agree with this whatever just so

00:45:06,460 --> 00:45:11,500
the core people know it's important and

00:45:08,380 --> 00:45:13,839
then we also need to be able to rethink

00:45:11,500 --> 00:45:15,490
the template suggestion process there's

00:45:13,839 --> 00:45:17,079
a really complicated issue so if you're

00:45:15,490 --> 00:45:18,819
super developer and want to figure out

00:45:17,079 --> 00:45:20,680
how to solve some really hard problems

00:45:18,819 --> 00:45:23,950
there are some issues around that as

00:45:20,680 --> 00:45:25,779
well and then we want to make it really

00:45:23,950 --> 00:45:26,859
easy to change your template files in

00:45:25,779 --> 00:45:29,079
different places there's a patch for

00:45:26,859 --> 00:45:30,970
that too and then the last thing is

00:45:29,079 --> 00:45:33,670
trying to figure out how to redo

00:45:30,970 --> 00:45:34,869
pre-process which this is not urgent but

00:45:33,670 --> 00:45:35,980
we need people to start thinking about

00:45:34,869 --> 00:45:37,029
it because there's a lot of work to do

00:45:35,980 --> 00:45:38,799
once we figure out what we're going to

00:45:37,029 --> 00:45:40,869
do and then we've got to start

00:45:38,799 --> 00:45:42,160
converting things all into twig format

00:45:40,869 --> 00:45:43,450
too so there's a lot of stuff we're

00:45:42,160 --> 00:45:48,519
going to be doing at the sprint on

00:45:43,450 --> 00:45:50,650
Saturday so everybody put your hand up

00:45:48,519 --> 00:45:55,240
if you've written HTML or CSS or

00:45:50,650 --> 00:45:57,369
JavaScript before keep them up everybody

00:45:55,240 --> 00:46:01,029
keep them up okay put your hand down if

00:45:57,369 --> 00:46:03,009
you've written a patch before put your

00:46:01,029 --> 00:46:07,930
hand down if you've you've all written

00:46:03,009 --> 00:46:09,700
patches before okay keep you keep your

00:46:07,930 --> 00:46:12,609
hand up if you haven't written patches

00:46:09,700 --> 00:46:14,200
before keep your hand up if you haven't

00:46:12,609 --> 00:46:15,460
written tests before keep your hand up

00:46:14,200 --> 00:46:17,619
if you haven't contributed to call

00:46:15,460 --> 00:46:21,700
before so tomorrow morning before the

00:46:17,619 --> 00:46:23,559
sprint there is a how to contribute so

00:46:21,700 --> 00:46:26,759
come along to that okay everybody with

00:46:23,559 --> 00:46:26,759
their hand up come along to that one

00:46:28,589 --> 00:46:31,829
what was that

00:46:34,150 --> 00:46:44,390
so the html5 initiative is basically

00:46:38,120 --> 00:46:47,990
finished up already and i'm pretty sure

00:46:44,390 --> 00:46:49,550
Arya's in the template files already so

00:46:47,990 --> 00:46:52,390
they just came along for the ride when

00:46:49,550 --> 00:46:52,390
they got converted to twig

00:47:22,170 --> 00:47:26,760
so we're doing a subset of the list we

00:47:24,660 --> 00:47:28,370
just talked about tomorrow this print so

00:47:26,760 --> 00:47:30,840
if you want to come out we need you um

00:47:28,370 --> 00:47:43,050
and we've got maybe like five minutes

00:47:30,840 --> 00:47:45,270
for questions I'm I think we did that

00:47:43,050 --> 00:47:58,050
already we're trying to get away from

00:47:45,270 --> 00:48:01,500
that right but but yeah so the the the

00:47:58,050 --> 00:48:03,150
problem so the thing that the magic that

00:48:01,500 --> 00:48:05,820
happens in the background is basically

00:48:03,150 --> 00:48:08,040
it is a new syntax right it's a strict

00:48:05,820 --> 00:48:10,620
syntax which is been around for a while

00:48:08,040 --> 00:48:12,480
a lot of other projects are developing

00:48:10,620 --> 00:48:14,760
or using the same syntax even though i'm

00:48:12,480 --> 00:48:16,650
not using the twig syntax or they're not

00:48:14,760 --> 00:48:20,760
using the twig system they still have

00:48:16,650 --> 00:48:22,290
the same syntax but the the magic in the

00:48:20,760 --> 00:48:25,340
background for the twig system is it

00:48:22,290 --> 00:48:28,620
takes that syntax and it actually

00:48:25,340 --> 00:48:31,980
converts it it it compiles it from that

00:48:28,620 --> 00:48:36,030
into an actual PHP snippet of code and

00:48:31,980 --> 00:48:37,800
then caches that right so when you're

00:48:36,030 --> 00:48:40,050
actually loading a page you're not even

00:48:37,800 --> 00:48:42,870
looking at the twig files anymore you're

00:48:40,050 --> 00:48:45,140
just pulling up these PHP snippets that

00:48:42,870 --> 00:48:45,140
are

00:49:14,120 --> 00:49:25,610
so so yeah and I would just say that

00:49:19,680 --> 00:49:25,610
that as a templating language PHP sucks

00:49:31,070 --> 00:49:48,840
go ahead I don't believe I I don't think

00:49:46,920 --> 00:49:51,840
that it prevents anything and it has all

00:49:48,840 --> 00:49:53,160
the control structures that so it

00:49:51,840 --> 00:49:55,770
provides all the regular control

00:49:53,160 --> 00:49:57,510
structures that you'd expect loops if

00:49:55,770 --> 00:49:58,650
condition statements and all that and

00:49:57,510 --> 00:50:00,480
you can also get one step further

00:49:58,650 --> 00:50:02,100
nationally tell twig which of those

00:50:00,480 --> 00:50:03,810
control control structures you want it

00:50:02,100 --> 00:50:05,370
to be able to give the front-end

00:50:03,810 --> 00:50:26,870
developers access to so you can modify

00:50:05,370 --> 00:50:26,870
that yeah right that's you can

00:50:47,440 --> 00:50:54,530
PHP would be why use a template engine

00:50:51,140 --> 00:50:58,130
we can just use PHP PHP is a template

00:50:54,530 --> 00:50:59,869
language and back then I i think it was

00:50:58,130 --> 00:51:02,030
like seven or eight years ago there were

00:50:59,869 --> 00:51:05,569
there were template engines around you

00:51:02,030 --> 00:51:06,920
know there was smarty and others what do

00:51:05,569 --> 00:51:11,359
you say to that how is it different

00:51:06,920 --> 00:51:14,510
today why is twig a better option why

00:51:11,359 --> 00:51:16,549
did we decide PHP was the template

00:51:14,510 --> 00:51:17,960
language for us and now a template

00:51:16,549 --> 00:51:32,599
language is the template language for us

00:51:17,960 --> 00:51:33,950
yeah yeah so I've been doing drupal for

00:51:32,599 --> 00:51:35,809
eight years now and I remember this is

00:51:33,950 --> 00:51:38,750
Adrian Russo who came up with the PHP

00:51:35,809 --> 00:51:42,859
template language and if you look at the

00:51:38,750 --> 00:51:44,690
alternatives at the time smarty was not

00:51:42,859 --> 00:51:50,119
the smarty it is today right it was

00:51:44,690 --> 00:51:52,069
really well yeah you know that it wasn't

00:51:50,119 --> 00:51:53,839
until like three or four years later

00:51:52,069 --> 00:51:56,960
that another templating language was

00:51:53,839 --> 00:51:58,849
developed called attack was it it was

00:51:56,960 --> 00:52:00,829
the opposite it had an option name of

00:51:58,849 --> 00:52:04,910
smarties and I remember this it wasn't

00:52:00,829 --> 00:52:06,200
dummy it was like yeah it was something

00:52:04,910 --> 00:52:08,059
similar to that it was it was called

00:52:06,200 --> 00:52:10,160
dummy because it was like I'm trying to

00:52:08,059 --> 00:52:12,829
not do all the stupid stuff that smart

00:52:10,160 --> 00:52:14,210
he's doing that they weren't written in

00:52:12,829 --> 00:52:15,619
a way that was actually particularly

00:52:14,210 --> 00:52:17,299
fast they were very slow because they

00:52:15,619 --> 00:52:19,119
were trying to interpret their own

00:52:17,299 --> 00:52:22,039
syntax on the fly every time you

00:52:19,119 --> 00:52:23,750
requested them so PHP template was a

00:52:22,039 --> 00:52:31,730
really good alternative to those

00:52:23,750 --> 00:52:34,400
templating languages at the time really

00:52:31,730 --> 00:52:36,200
new stuff in PHP right where we could

00:52:34,400 --> 00:52:37,279
have used it in Drupal 6 because Drupal

00:52:36,200 --> 00:52:38,690
sites didn't support a new enough

00:52:37,279 --> 00:52:40,670
version of PHP to do all the stuff that

00:52:38,690 --> 00:52:42,260
wake does so now we have cool new toys

00:52:40,670 --> 00:52:43,849
and someone wrote a template language

00:52:42,260 --> 00:52:46,520
that uses the cool new toys and makes it

00:52:43,849 --> 00:52:48,380
performant twig is object-oriented it's

00:52:46,520 --> 00:52:50,690
really fast there's like a bunch of

00:52:48,380 --> 00:52:52,460
stuff that we can do with twig that we

00:52:50,690 --> 00:52:54,020
can't do in PHP template we can sanitize

00:52:52,460 --> 00:52:55,410
everything automatically we can run

00:52:54,020 --> 00:52:57,210
functions like tea

00:52:55,410 --> 00:52:58,740
developers don't have to we can but no

00:52:57,210 --> 00:53:00,950
one has to understand data structures

00:52:58,740 --> 00:53:03,420
like there's just a lot of places where

00:53:00,950 --> 00:53:04,559
we've come out on top so is one of these

00:53:03,420 --> 00:53:05,880
things were like yeah we solve this

00:53:04,559 --> 00:53:08,400
problem years ago but technology

00:53:05,880 --> 00:53:10,140
advances fast so let's reevaluate this

00:53:08,400 --> 00:53:13,319
problem and the solutions that are out

00:53:10,140 --> 00:53:15,539
there and think about it again goes that

00:53:13,319 --> 00:53:18,720
this is the perfect in solution for

00:53:15,539 --> 00:53:20,430
everything is kind of chicks kind of

00:53:18,720 --> 00:53:22,230
came up with trick first and try to hunt

00:53:20,430 --> 00:53:25,289
people down in Denver during the code

00:53:22,230 --> 00:53:28,770
sprint where against theme system pretty

00:53:25,289 --> 00:53:30,030
much got killed over a table and the

00:53:28,770 --> 00:53:31,920
reason that chicks want to have in

00:53:30,030 --> 00:53:34,740
because this whole sandboxing thing and

00:53:31,920 --> 00:53:36,569
no other of us just want to have an easy

00:53:34,740 --> 00:53:38,970
way to drill down to bearable so it's

00:53:36,569 --> 00:53:41,099
kind of a match made of as much other

00:53:38,970 --> 00:53:42,630
technology got hey I get my little thing

00:53:41,099 --> 00:53:43,950
any I get my little thing and I get my

00:53:42,630 --> 00:53:45,630
other thing and you have this bastard

00:53:43,950 --> 00:53:47,880
child but then suddenly we forgot the

00:53:45,630 --> 00:53:49,799
bastard child here's actually somebody

00:53:47,880 --> 00:53:51,359
voted for us and we can use it and

00:53:49,799 --> 00:53:53,609
everybody seems to be happy at this

00:53:51,359 --> 00:53:57,240
point in three years we will probably be

00:53:53,609 --> 00:53:59,670
angry as hell so I actually I didn't

00:53:57,240 --> 00:54:01,349
want twig I thought PHP was much better

00:53:59,670 --> 00:54:03,089
and we should just all sanitized her own

00:54:01,349 --> 00:54:04,740
variables and do it whatever in PHP but

00:54:03,089 --> 00:54:06,480
it turns out that everybody else wanted

00:54:04,740 --> 00:54:07,980
twig and I was like well if everyone is

00:54:06,480 --> 00:54:09,980
happy with this solution then that's

00:54:07,980 --> 00:54:12,660
obviously the way we should move forward

00:54:09,980 --> 00:54:14,670
and I would just like to add that I was

00:54:12,660 --> 00:54:16,230
also not a fan of twig when we went into

00:54:14,670 --> 00:54:18,359
that sprint deciding what we were going

00:54:16,230 --> 00:54:20,010
to do I was like okay I don't I don't

00:54:18,359 --> 00:54:23,430
think we want to go to another scripting

00:54:20,010 --> 00:54:25,049
language right and when we went through

00:54:23,430 --> 00:54:26,700
the problem space and went through the

00:54:25,049 --> 00:54:30,869
possible solutions then twig just became

00:54:26,700 --> 00:54:32,880
an obvious choice just really quick

00:54:30,869 --> 00:54:34,619
question I've never used twig before but

00:54:32,880 --> 00:54:37,349
i have used liquid or they like is

00:54:34,619 --> 00:54:39,119
liquid based on twig it's those who were

00:54:37,349 --> 00:54:41,940
familiar with liquid syntax and things

00:54:39,119 --> 00:54:43,829
like Shopify and it looks really

00:54:41,940 --> 00:54:48,660
familiar like very much to say are they

00:54:43,829 --> 00:54:50,069
in the same family so using Jekyll or

00:54:48,660 --> 00:54:53,520
something like that but a liquid layouts

00:54:50,069 --> 00:54:54,450
or right okay so yeah I don't know which

00:54:53,520 --> 00:54:56,970
one came for us I think they were

00:54:54,450 --> 00:55:00,569
actually in conjunction because I'm so

00:54:56,970 --> 00:55:03,450
Jekyll's off a ruby platform and they

00:55:00,569 --> 00:55:06,940
both have shared from Django I think the

00:55:03,450 --> 00:55:10,329
Django heritage so yeah similar heritage

00:55:06,940 --> 00:55:12,390
I think one of the things that we is

00:55:10,329 --> 00:55:15,040
really important about this is actually

00:55:12,390 --> 00:55:16,540
really from outside the Drupal world and

00:55:15,040 --> 00:55:20,619
I think that's something that sometimes

00:55:16,540 --> 00:55:22,300
we forget but if you look at happy cog

00:55:20,619 --> 00:55:24,280
if you look at clear left if you look at

00:55:22,300 --> 00:55:26,680
some of the the very best thinkers in

00:55:24,280 --> 00:55:28,300
the wider web world the reasons they've

00:55:26,680 --> 00:55:29,740
stayed away from something like Drupal

00:55:28,300 --> 00:55:31,450
is because it doesn't give them the

00:55:29,740 --> 00:55:33,400
control over what's coming out of it and

00:55:31,450 --> 00:55:35,470
this is finally a chance to actually use

00:55:33,400 --> 00:55:37,240
something similar to expression engine

00:55:35,470 --> 00:55:39,190
or some of these other platforms that do

00:55:37,240 --> 00:55:40,780
do a very good job of it while still

00:55:39,190 --> 00:55:42,790
keeping what's important about Drupal

00:55:40,780 --> 00:55:44,890
with the flexibility of the content

00:55:42,790 --> 00:55:47,140
modeling and everything else so I mean I

00:55:44,890 --> 00:55:49,150
don't I'm not enough of a developer to

00:55:47,140 --> 00:55:51,369
have that great an opinion of the

00:55:49,150 --> 00:55:53,500
technical merits but just in order to

00:55:51,369 --> 00:55:55,180
put it on a level playing field and make

00:55:53,500 --> 00:55:57,099
it the platform that someone like Jeremy

00:55:55,180 --> 00:55:58,960
Keith would pick up and use I think

00:55:57,099 --> 00:56:04,900
that's an admirable goal and it's worth

00:55:58,960 --> 00:56:06,280
it one thing I just want to kind of keep

00:56:04,900 --> 00:56:08,200
in perspective is that we keep talking

00:56:06,280 --> 00:56:10,030
about like twig exists elsewhere in the

00:56:08,200 --> 00:56:11,470
world but there are less front-end

00:56:10,030 --> 00:56:13,329
developers that no twig then there are

00:56:11,470 --> 00:56:15,130
front-end developers that no Drupal so

00:56:13,329 --> 00:56:17,079
we do kind of need to keep that in check

00:56:15,130 --> 00:56:21,849
and be like all it exists but it's like

00:56:17,079 --> 00:56:23,980
yeah you know but I mean it's probably

00:56:21,849 --> 00:56:27,430
the easiest language I've ever written

00:56:23,980 --> 00:56:31,990
ever ever it's it's like oh let me just

00:56:27,430 --> 00:56:35,859
get this group right okay done yeah it's

00:56:31,990 --> 00:56:37,450
um yeah it's gonna be the same crap

00:56:35,859 --> 00:56:40,000
anyways and then somebody kind of

00:56:37,450 --> 00:56:45,250
frustrate the hell of a hell of a out of

00:56:40,000 --> 00:56:48,400
us blood yeah exactly yeah so it's no

00:56:45,250 --> 00:56:49,810
it's I mean it's gonna be I don't think

00:56:48,400 --> 00:56:51,280
we're gonna have any problem with that

00:56:49,810 --> 00:56:52,990
that was actually one of the ground

00:56:51,280 --> 00:56:55,780
rules the thing about not dumbing it

00:56:52,990 --> 00:56:57,490
down that this whole I mean it Michael

00:56:55,780 --> 00:56:58,960
we got might gonna have some menu cheap

00:56:57,490 --> 00:57:00,609
your files it's gonna be hell as to look

00:56:58,960 --> 00:57:02,349
at but is there trying to drag that

00:57:00,609 --> 00:57:04,540
variable out of thin air and figuring

00:57:02,349 --> 00:57:05,890
out where does that come from we kind of

00:57:04,540 --> 00:57:08,230
can see it now what roll down through

00:57:05,890 --> 00:57:11,040
it'll print it out on the page instead

00:57:08,230 --> 00:57:11,040
they did the wave

00:57:16,590 --> 00:57:26,260
one of you nice of core was your good

00:57:18,820 --> 00:57:32,730
base theme you guys can work on triple 9

00:57:26,260 --> 00:57:32,730
I already have a triple 9 module out so

00:57:53,070 --> 00:57:58,750
yeah it's I mean it's definitely like in

00:57:56,860 --> 00:57:59,770
the world right where it was the kind of

00:57:58,750 --> 00:58:01,030
thing where like I was writing something

00:57:59,770 --> 00:58:03,100
and someone's like hey have you heard of

00:58:01,030 --> 00:58:04,630
the snow I was like no so it definitely

00:58:03,100 --> 00:58:05,920
wasn't in the front of our mind but it's

00:58:04,630 --> 00:58:09,190
the kind of thing where it's like I can

00:58:05,920 --> 00:58:10,360
totally see that as a control and it's

00:58:09,190 --> 00:58:12,730
like tada everything works the way you

00:58:10,360 --> 00:58:13,780
wanted to so it's definitely like this

00:58:12,730 --> 00:58:15,190
is one of these things where when we

00:58:13,780 --> 00:58:18,250
first decided on twig we had a very

00:58:15,190 --> 00:58:19,450
limited set of requirements and then as

00:58:18,250 --> 00:58:20,680
we've been working with it's like oh we

00:58:19,450 --> 00:58:21,790
also get this we also get this feels

00:58:20,680 --> 00:58:23,230
like this that's look at this and

00:58:21,790 --> 00:58:24,400
there's just this all the stuff that you

00:58:23,230 --> 00:58:26,830
can do that we didn't even think about

00:58:24,400 --> 00:58:28,210
yeah and this is exactly what to parade

00:58:26,830 --> 00:58:29,530
about open source of course rights

00:58:28,210 --> 00:58:31,360
because you the more people who are

00:58:29,530 --> 00:58:33,910
contributing to it to the more solutions

00:58:31,360 --> 00:58:35,560
that you end up with so instead of just

00:58:33,910 --> 00:58:37,030
drupal developers working on the twig

00:58:35,560 --> 00:58:38,320
system we have all these like other

00:58:37,030 --> 00:58:40,930
people who are also using the twig

00:58:38,320 --> 00:58:42,940
system and we end up with a better more

00:58:40,930 --> 00:58:44,380
you know more robust more flexible

00:58:42,940 --> 00:58:46,360
system than we could have come up with

00:58:44,380 --> 00:58:48,310
other cells the thing that we came up

00:58:46,360 --> 00:58:50,670
with by ourselves was Drupal 7 steam

00:58:48,310 --> 00:58:50,670
system

00:59:02,760 --> 00:59:08,490
I don't think that's a goals by anything

00:59:05,120 --> 00:59:09,990
and where it's probably going to be the

00:59:08,490 --> 00:59:13,050
same issue I mean so there's a bunch of

00:59:09,990 --> 00:59:14,610
like licensing inclusion stuff that we

00:59:13,050 --> 00:59:16,380
haven't quite figured out where like

00:59:14,610 --> 00:59:18,540
drupal has it set of rules but like we

00:59:16,380 --> 00:59:20,130
break them when we feel like it um I

00:59:18,540 --> 00:59:21,510
think that what's going to happen is

00:59:20,130 --> 00:59:23,640
Drupal 7 is going to ship with whatever

00:59:21,510 --> 00:59:25,350
version of twig ships with and then

00:59:23,640 --> 00:59:26,370
there's going to be at some point a new

00:59:25,350 --> 00:59:29,640
version of twig and then there's going

00:59:26,370 --> 00:59:31,590
to be a contributor because it's so

00:59:29,640 --> 00:59:33,540
ingrained in everything that Drupal does

00:59:31,590 --> 00:59:35,160
like when you get a new version of

00:59:33,540 --> 00:59:36,690
jQuery you have to provide all of the

00:59:35,160 --> 00:59:39,750
new functions that rewrite it's gonna be

00:59:36,690 --> 00:59:42,780
the same thing only a lot more work so

00:59:39,750 --> 00:59:44,820
well we'll see I mean it could be that

00:59:42,780 --> 00:59:46,290
you know drupal sevens around for two

00:59:44,820 --> 00:59:47,550
year or Drupal 8 around for two years

00:59:46,290 --> 00:59:49,170
and we've got to deal with it for two

00:59:47,550 --> 00:59:51,030
years but I don't know if someone gets

00:59:49,170 --> 00:59:52,200
angry enough they'll write something I I

00:59:51,030 --> 00:59:53,700
think that's an excellent question

00:59:52,200 --> 00:59:55,080
because it makes me think of something

00:59:53,700 --> 00:59:56,460
that I hadn't thought of it before so

00:59:55,080 --> 00:59:58,170
that the problem with the jQuery region

00:59:56,460 --> 01:00:00,180
where we couldn't update to jQuery was

00:59:58,170 --> 01:00:03,000
because we'd written our you know our

01:00:00,180 --> 01:00:04,440
libraries built on top of a jQuery in a

01:00:03,000 --> 01:00:06,240
way that wasn't really the best

01:00:04,440 --> 01:00:08,250
practices and so they were really tied

01:00:06,240 --> 01:00:09,420
to that specific version of jQuery and

01:00:08,250 --> 01:00:10,680
when you had the new version of jQuery

01:00:09,420 --> 01:00:13,410
than we would have essentially would had

01:00:10,680 --> 01:00:15,300
rewrite all of our jquery stuff so i

01:00:13,410 --> 01:00:16,890
think that we need to be really careful

01:00:15,300 --> 01:00:18,660
with the way we write our filters

01:00:16,890 --> 01:00:20,730
because those are the things that we're

01:00:18,660 --> 01:00:24,140
tying heavily to the way twig works

01:00:20,730 --> 01:00:26,220
right now and if that system changes so

01:00:24,140 --> 01:00:28,080
this would be an excellent question to

01:00:26,220 --> 01:00:31,920
like ask trees or ask the other

01:00:28,080 --> 01:00:33,200
initiative leads at the Drupal 8 core

01:00:31,920 --> 01:00:35,730
conversation later this afternoon

01:00:33,200 --> 01:00:37,530
because it's not just twig it's all

01:00:35,730 --> 01:00:41,790
these other symphony components that

01:00:37,530 --> 01:00:43,170
that complies to the symphony community

01:00:41,790 --> 01:00:44,340
is really aware about how these

01:00:43,170 --> 01:00:45,540
components are being integrating to

01:00:44,340 --> 01:00:47,280
other projects so backwards

01:00:45,540 --> 01:00:49,290
compatibility and making sure upgrades

01:00:47,280 --> 01:00:52,350
don't break what's a people are using

01:00:49,290 --> 01:00:56,070
them is a really high priority for the

01:00:52,350 --> 01:00:58,140
community okay we're we're out of time

01:00:56,070 --> 01:01:00,510
it's lunchtime now though so if you want

01:00:58,140 --> 01:01:02,610
to grab these guys before you leave and

01:01:00,510 --> 01:01:05,330
force them to not have lunch otherwise

01:01:02,610 --> 01:01:05,330
thank our team

01:01:10,830 --> 01:01:15,280
for a great conversation and please do

01:01:13,570 --> 01:01:18,300
consider coming to the code sprint

01:01:15,280 --> 01:01:23,440
tomorrow or the how to contribute

01:01:18,300 --> 01:01:25,560
session tomorrow please thank you very

01:01:23,440 --> 01:01:25,560

YouTube URL: https://www.youtube.com/watch?v=U6nxHsL4y9Y


