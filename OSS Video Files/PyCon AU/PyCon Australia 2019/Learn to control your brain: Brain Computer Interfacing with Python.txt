Title: Learn to control your brain: Brain Computer Interfacing with Python
Publication date: 2019-08-03
Playlist: PyCon Australia 2019
Description: 
	Johan van der Meer

Neurofeedback is a brain-computer interface where a person’s own brain waves are audio/visually presented back in real-time after they’ve been recorded and filtered within a few milliseconds. We present methods to allow people to see their own brainwaves with python.

https://2019.pycon-au.org/talks/learn-to-control-your-brain-brain-computer-interfacing-with-python

PyCon AU, the national Python Language conference, is on again this August in Sydney, at the International Convention Centre, Sydney, August 2 - 6 2019.

Video licence: CC BY-NC-SA 4.0 - https://creativecommons.org/licenses/by-nc-sa/4.0/

Python, PyCon, PyConAU

Fri Aug  2 16:40:00 2019 at Cockle Bay
Captions: 
	00:00:01,190 --> 00:00:07,200
welcome to the next talk

00:00:03,259 --> 00:00:09,630
we have johann van der Meer and he's a

00:00:07,200 --> 00:00:13,200
neuroscientist currently working at the

00:00:09,630 --> 00:00:17,369
qim our Birkhoff her medical research

00:00:13,200 --> 00:00:18,840
institute in Brisbane and he's been

00:00:17,369 --> 00:00:20,970
fascinated with Python which has

00:00:18,840 --> 00:00:22,410
recently been strengthened by having

00:00:20,970 --> 00:00:24,810
chosen to use it for somebody's own

00:00:22,410 --> 00:00:27,359
research on brain computer interfacing

00:00:24,810 --> 00:00:30,090
and neurofeedback training which is what

00:00:27,359 --> 00:00:37,890
he's talking about today so let's

00:00:30,090 --> 00:00:40,890
welcome thanks very much

00:00:37,890 --> 00:00:42,329
also for the chance to present some of

00:00:40,890 --> 00:00:49,410
the things that I've been doing in

00:00:42,329 --> 00:00:50,760
Python so yeah the outline of my talk in

00:00:49,410 --> 00:00:53,520
the beginning I will talk a little bit

00:00:50,760 --> 00:00:56,309
about the signals from the brain what

00:00:53,520 --> 00:01:00,329
are they what they are composed of what

00:00:56,309 --> 00:01:03,539
we're ago what we're doing with them and

00:01:00,329 --> 00:01:05,519
how to analyze them then in a BCI

00:01:03,539 --> 00:01:07,560
context as a brain computer interface

00:01:05,519 --> 00:01:11,430
what kind of things can you do with

00:01:07,560 --> 00:01:13,320
these signals then I will share very

00:01:11,430 --> 00:01:15,299
shortly touched a little bit on what

00:01:13,320 --> 00:01:19,170
kind of research questions I am occupied

00:01:15,299 --> 00:01:23,640
with but I guess the main meat of the

00:01:19,170 --> 00:01:27,840
talk is how you spied on to further my

00:01:23,640 --> 00:01:30,299
research goals so I hope to explain that

00:01:27,840 --> 00:01:32,340
bear in mind I've only been seriously

00:01:30,299 --> 00:01:35,280
programming in Python for about a year

00:01:32,340 --> 00:01:40,070
or so so if I show any code and you

00:01:35,280 --> 00:01:46,950
think oh this is really really ugly be

00:01:40,070 --> 00:01:50,850
forgiving so yeah first the BCI and what

00:01:46,950 --> 00:01:55,829
it is in a way that I use it basically

00:01:50,850 --> 00:01:59,180
it's a loop between the brain a device

00:01:55,829 --> 00:02:03,140
with which you measure brain activity

00:01:59,180 --> 00:02:06,840
real-time analysis of these signals and

00:02:03,140 --> 00:02:09,179
some audio or visual feedback stimulus

00:02:06,840 --> 00:02:11,069
that you put back into the brain well

00:02:09,179 --> 00:02:12,459
it's not directly it's not more or less

00:02:11,069 --> 00:02:15,610
indirectly you

00:02:12,459 --> 00:02:17,860
something beep or you you change some

00:02:15,610 --> 00:02:20,349
visual properties of a stimulus that you

00:02:17,860 --> 00:02:25,680
didn't see you are here but anyway it

00:02:20,349 --> 00:02:28,959
comes back into the brain the EEG signal

00:02:25,680 --> 00:02:32,459
it is generated because the brain is

00:02:28,959 --> 00:02:35,890
composed of many neurons several

00:02:32,459 --> 00:02:38,310
billions of neurons when neurons fire

00:02:35,890 --> 00:02:42,780
that is like the basic building block of

00:02:38,310 --> 00:02:45,730
my brain function and cognition

00:02:42,780 --> 00:02:48,609
electrically charged ions start flowing

00:02:45,730 --> 00:02:50,200
from the extracellular space into the

00:02:48,609 --> 00:02:53,530
neuron and this generates kind of like

00:02:50,200 --> 00:02:55,900
an electrical field well the field of

00:02:53,530 --> 00:02:58,209
one neuron is kind of small if many

00:02:55,900 --> 00:03:00,670
neurons are firing simultaneously it

00:02:58,209 --> 00:03:03,040
generates a net magnetic field that you

00:03:00,670 --> 00:03:06,040
can measure even outside of the brain on

00:03:03,040 --> 00:03:07,870
top of the scalp with a electrodes you

00:03:06,040 --> 00:03:10,000
can measure the brain signal for many

00:03:07,870 --> 00:03:13,900
different positions on the brain and

00:03:10,000 --> 00:03:18,340
that gives you your EEG signal that's we

00:03:13,900 --> 00:03:23,500
are working with this is an example of a

00:03:18,340 --> 00:03:25,449
eg signal the first five seconds the the

00:03:23,500 --> 00:03:27,250
participant has the eyes open in the

00:03:25,449 --> 00:03:30,220
last five seconds to participants eyes

00:03:27,250 --> 00:03:33,099
closed so the signal properties as you

00:03:30,220 --> 00:03:35,349
can clearly see it changes depending on

00:03:33,099 --> 00:03:36,730
what people are currently doing so this

00:03:35,349 --> 00:03:39,970
is kind of like internally generated

00:03:36,730 --> 00:03:46,329
change in the properties of your brain

00:03:39,970 --> 00:03:48,729
signal a slight remark about the EEG

00:03:46,329 --> 00:03:50,769
signal because we're measuring outside

00:03:48,729 --> 00:03:53,829
with scalp or outside of the brain on

00:03:50,769 --> 00:03:56,949
top of scalp basically the quality of

00:03:53,829 --> 00:03:59,169
the signal is not gray so I have a

00:03:56,949 --> 00:04:02,409
picture here of like a neighbor playing

00:03:59,169 --> 00:04:04,419
very loud music the the EEG you can

00:04:02,409 --> 00:04:07,209
compare it with that you are in the

00:04:04,419 --> 00:04:08,829
middle of the middle house and you hear

00:04:07,209 --> 00:04:10,000
the music from your neighbor but you

00:04:08,829 --> 00:04:11,799
don't really hear all the interesting

00:04:10,000 --> 00:04:13,299
bits of the music it might hear been in

00:04:11,799 --> 00:04:17,199
music starts you might hear any music

00:04:13,299 --> 00:04:19,690
stops you might hear that your neighbor

00:04:17,199 --> 00:04:21,389
changes the music and you wish he would

00:04:19,690 --> 00:04:23,849
stop that

00:04:21,389 --> 00:04:28,949
the the amount of information that you

00:04:23,849 --> 00:04:31,439
can get is a little bit limited so then

00:04:28,949 --> 00:04:33,509
some words on how these signals are

00:04:31,439 --> 00:04:37,349
analyzed well

00:04:33,509 --> 00:04:39,180
most often used or maybe not most often

00:04:37,349 --> 00:04:41,400
but an often used a method is a

00:04:39,180 --> 00:04:43,650
frequency analysis so basically you look

00:04:41,400 --> 00:04:46,680
at all kinds of different types of waves

00:04:43,650 --> 00:04:50,759
you have more slow waves you have a bit

00:04:46,680 --> 00:04:53,280
faster waves even faster waves faster

00:04:50,759 --> 00:04:56,520
waves even still and probably the more

00:04:53,280 --> 00:04:58,919
faster waves that you can measure the

00:04:56,520 --> 00:05:01,889
scale is one second

00:04:58,919 --> 00:05:03,960
the algorithm as you see is like ten

00:05:01,889 --> 00:05:06,360
oscillations per second and this is the

00:05:03,960 --> 00:05:10,229
rhythm that's most prominently present

00:05:06,360 --> 00:05:13,469
in EEG signal if you close your eyes in

00:05:10,229 --> 00:05:15,750
most people not everybody and what

00:05:13,469 --> 00:05:17,969
researchers are looking at is with these

00:05:15,750 --> 00:05:21,120
kinds of different kinds of waves how

00:05:17,969 --> 00:05:21,479
much of these waves are present in the

00:05:21,120 --> 00:05:25,620
signal

00:05:21,479 --> 00:05:26,310
what's also looked at is where inside

00:05:25,620 --> 00:05:28,409
this wave

00:05:26,310 --> 00:05:30,449
are you currently at are you at the top

00:05:28,409 --> 00:05:33,229
or at the bottom of this wave what

00:05:30,449 --> 00:05:36,000
people are also looking at is like the

00:05:33,229 --> 00:05:37,620
common wave between different electrode

00:05:36,000 --> 00:05:38,699
sites these are all interesting

00:05:37,620 --> 00:05:43,139
properties to look at if you're

00:05:38,699 --> 00:05:45,539
interested in the brain so these waves

00:05:43,139 --> 00:05:47,610
that are internally generated but they

00:05:45,539 --> 00:05:50,370
can also be externally generated for

00:05:47,610 --> 00:05:54,120
example you have experiments where your

00:05:50,370 --> 00:05:56,219
participant hears beep and as a result

00:05:54,120 --> 00:05:59,520
of this beep some of these frequency

00:05:56,219 --> 00:06:07,080
properties change shortly after the beep

00:05:59,520 --> 00:06:08,849
for example about 302 to 300

00:06:07,080 --> 00:06:11,339
milliseconds to 2,000 milliseconds after

00:06:08,849 --> 00:06:13,460
the beep some properties of the

00:06:11,339 --> 00:06:17,969
algorithm are increased and their

00:06:13,460 --> 00:06:20,339
quality fog response so the Python

00:06:17,969 --> 00:06:21,539
library as far as I can tell to look at

00:06:20,339 --> 00:06:22,319
all of these waves and all of these

00:06:21,539 --> 00:06:27,060
different properties

00:06:22,319 --> 00:06:32,250
it's called M&E Python and this is what

00:06:27,060 --> 00:06:34,860
I try to use quite a lot for at least

00:06:32,250 --> 00:06:37,889
for the offline analysis sort of so far

00:06:34,860 --> 00:06:39,629
I'm talking about analysis that is not

00:06:37,889 --> 00:06:40,860
really in real time but you you have all

00:06:39,629 --> 00:06:42,780
the data here if all the time in the

00:06:40,860 --> 00:06:45,960
world and you can look at the data and

00:06:42,780 --> 00:06:47,969
see what it's made of then a little bit

00:06:45,960 --> 00:06:51,689
more about signal and quality so you can

00:06:47,969 --> 00:06:55,740
measure the brain signal from outside of

00:06:51,689 --> 00:06:57,900
the scalp it is non-invasive the signal

00:06:55,740 --> 00:07:00,900
quality is relatively poor but you can

00:06:57,900 --> 00:07:03,000
quantify quantize between maybe two or

00:07:00,900 --> 00:07:04,710
three different kinds of states in this

00:07:03,000 --> 00:07:08,340
way

00:07:04,710 --> 00:07:10,349
other methods or means used in BCI

00:07:08,340 --> 00:07:11,580
research is that you measure inside the

00:07:10,349 --> 00:07:13,949
brain it's a little bit more invasive

00:07:11,580 --> 00:07:16,050
because she needs open scalp actually

00:07:13,949 --> 00:07:20,370
put electrodes on top of the cortex or

00:07:16,050 --> 00:07:24,120
deep inside of the brain or you put a

00:07:20,370 --> 00:07:27,120
micro electro grid on the motor cortex

00:07:24,120 --> 00:07:29,879
that is like the picture with the in the

00:07:27,120 --> 00:07:33,000
middle over there especially with that

00:07:29,879 --> 00:07:34,860
methods you really have kind of like a

00:07:33,000 --> 00:07:36,900
high fidelity signal so because you

00:07:34,860 --> 00:07:38,729
measure have so many tips have so many

00:07:36,900 --> 00:07:40,830
signals you can do really cool

00:07:38,729 --> 00:07:43,589
experiments like exerting a real

00:07:40,830 --> 00:07:49,729
fine-grained control over a robot arm so

00:07:43,589 --> 00:07:51,839
this lady has difficulty moving and as

00:07:49,729 --> 00:07:54,180
revalidated for a surgical procedure

00:07:51,839 --> 00:07:55,919
she has implanted one of these micro

00:07:54,180 --> 00:07:57,960
electric grids on top of motor cortex

00:07:55,919 --> 00:08:00,960
and if death is able to very precisely

00:07:57,960 --> 00:08:03,900
control the motor arm picking up like a

00:08:00,960 --> 00:08:05,789
can of a drink and allowing her

00:08:03,900 --> 00:08:07,650
basically to drink whereas normally

00:08:05,789 --> 00:08:10,469
without such a procedure this would not

00:08:07,650 --> 00:08:14,699
be possible so that is a nice

00:08:10,469 --> 00:08:17,430
application of BCI research taking

00:08:14,699 --> 00:08:19,529
things further but I'm not going to talk

00:08:17,430 --> 00:08:22,979
too much about it is the company called

00:08:19,529 --> 00:08:24,719
neural link they really even more

00:08:22,979 --> 00:08:26,969
increase the amount of contact points

00:08:24,719 --> 00:08:29,250
you can put inside for the cortex and

00:08:26,969 --> 00:08:31,979
what they're doing is really really cool

00:08:29,250 --> 00:08:34,649
right now I just show you links so that

00:08:31,979 --> 00:08:38,699
if you maybe later we watch this talk

00:08:34,649 --> 00:08:41,490
you can find up sign back one article

00:08:38,699 --> 00:08:44,680
talking about this approach as well as

00:08:41,490 --> 00:08:46,990
YouTube video that I can recommend

00:08:44,680 --> 00:08:49,360
so anyway but for the rest of my talk

00:08:46,990 --> 00:08:51,670
mostly talk about the EEG and the reason

00:08:49,360 --> 00:08:54,790
is because it's non-invasive it's

00:08:51,670 --> 00:08:55,300
portable and you can do it relatively

00:08:54,790 --> 00:08:57,220
cheaply

00:08:55,300 --> 00:09:01,720
you don't have to spend a lot of money

00:08:57,220 --> 00:09:04,990
to do this sort of thing then some words

00:09:01,720 --> 00:09:06,970
on the real time analysis so how do you

00:09:04,990 --> 00:09:13,480
get the signal in real time

00:09:06,970 --> 00:09:15,070
Oh luckily it is a salt problem and the

00:09:13,480 --> 00:09:17,590
package that you need to use is

00:09:15,070 --> 00:09:23,050
basically called lab stream layer this

00:09:17,590 --> 00:09:26,890
is AC library with like ports to C++ and

00:09:23,050 --> 00:09:29,800
also Python it allows you to extract the

00:09:26,890 --> 00:09:33,850
data in real time from many different

00:09:29,800 --> 00:09:36,520
kinds of clinical EEG devices and you

00:09:33,850 --> 00:09:39,550
can bring it in to memory of your

00:09:36,520 --> 00:09:45,400
computer so a little bit of example

00:09:39,550 --> 00:09:48,370
codes basically you import a library you

00:09:45,400 --> 00:09:50,380
define an amplifier called amp and then

00:09:48,370 --> 00:09:51,670
you have your while loop and this is

00:09:50,380 --> 00:09:54,190
actually your neuro feedback loop

00:09:51,670 --> 00:09:57,490
because this keeps going on and on until

00:09:54,190 --> 00:09:59,800
you tell it to stop and then you get a

00:09:57,490 --> 00:10:02,290
little bit of data with a get on the

00:09:59,800 --> 00:10:08,140
score data methods so it's just the core

00:10:02,290 --> 00:10:11,260
of real-time data access in Python and

00:10:08,140 --> 00:10:13,420
then yeah any time you get a little bit

00:10:11,260 --> 00:10:15,550
of data you you get a tiny bit of data

00:10:13,420 --> 00:10:18,700
so sometimes you get a hundred samples

00:10:15,550 --> 00:10:22,090
of data which can amount to twenty

00:10:18,700 --> 00:10:23,620
milliseconds only it depends on fast

00:10:22,090 --> 00:10:27,670
loopy sometimes you get two hundred

00:10:23,620 --> 00:10:31,120
samples but anytime you get a little bit

00:10:27,670 --> 00:10:34,480
of data so how this is used in BCI

00:10:31,120 --> 00:10:38,170
research is that you have to little bit

00:10:34,480 --> 00:10:39,580
of data and you need to decode it in

00:10:38,170 --> 00:10:42,970
some way you need to figure out what it

00:10:39,580 --> 00:10:46,110
means and with that you can help

00:10:42,970 --> 00:10:48,910
communicate so you have these spellers

00:10:46,110 --> 00:10:50,560
it's a certain experiment in which you

00:10:48,910 --> 00:10:53,650
have to look at the specific letter and

00:10:50,560 --> 00:10:55,540
then using BCI approach you can figure

00:10:53,650 --> 00:10:57,680
out which role and which column are

00:10:55,540 --> 00:10:59,180
currently in

00:10:57,680 --> 00:11:02,839
codes and then you can figure out what

00:10:59,180 --> 00:11:05,360
kind of letter it is you can use the

00:11:02,839 --> 00:11:08,240
brain signal also to some assistive

00:11:05,360 --> 00:11:10,940
methods where you help people drive

00:11:08,240 --> 00:11:15,430
around in wheelchair and there's a lot

00:11:10,940 --> 00:11:18,230
of work also going on in virtual reality

00:11:15,430 --> 00:11:22,160
nice movie I can remake this avatar

00:11:18,230 --> 00:11:24,890
which is that's approaches well so what

00:11:22,160 --> 00:11:26,300
you don't really see when you look at

00:11:24,890 --> 00:11:28,310
these approaches from when they reported

00:11:26,300 --> 00:11:30,740
that they do require a lot of work so

00:11:28,310 --> 00:11:34,310
you need to do a very careful pre

00:11:30,740 --> 00:11:38,300
measurements where you kind of like

00:11:34,310 --> 00:11:40,610
train your decoder and also train your

00:11:38,300 --> 00:11:44,540
participants in order to operate these

00:11:40,610 --> 00:11:50,770
devices so this is an active area of

00:11:44,540 --> 00:11:56,690
research another application of BCI is

00:11:50,770 --> 00:11:59,149
neurofeedback learning so in some mental

00:11:56,690 --> 00:12:01,070
health disorders for example attention

00:11:59,149 --> 00:12:05,180
deficit hyperactivity disorder or

00:12:01,070 --> 00:12:07,190
depression or if you have a persistent

00:12:05,180 --> 00:12:10,459
chronic ringing in your ear called

00:12:07,190 --> 00:12:13,100
tinnitus there are experiments have

00:12:10,459 --> 00:12:16,339
shown that the brain rhythms are

00:12:13,100 --> 00:12:18,080
slightly kind of offbeat so this little

00:12:16,339 --> 00:12:19,850
bit too much for a couple of the Tito

00:12:18,080 --> 00:12:22,940
rhythm there's a little bit too less of

00:12:19,850 --> 00:12:24,890
the bitter rhythm and the idea is that

00:12:22,940 --> 00:12:28,700
if you can normalize this rhythm somehow

00:12:24,890 --> 00:12:31,850
you can restore normal function or at

00:12:28,700 --> 00:12:36,740
least improve your your lot in life okay

00:12:31,850 --> 00:12:40,820
and the way to like change your rhythms

00:12:36,740 --> 00:12:45,230
is through training so and the training

00:12:40,820 --> 00:12:47,660
and conditioning is basically if as an

00:12:45,230 --> 00:12:49,250
analogy if if you are small and you want

00:12:47,660 --> 00:12:52,220
to learn how to walk you see people

00:12:49,250 --> 00:12:53,750
walking you want to imitate it and you

00:12:52,220 --> 00:12:56,089
have kind of like a feedback loop that

00:12:53,750 --> 00:12:58,010
is really fast so you try to take some

00:12:56,089 --> 00:13:00,890
steps and then you fall and then your

00:12:58,010 --> 00:13:02,450
brain knows this it knows because your

00:13:00,890 --> 00:13:04,130
muscle has receptors you have two

00:13:02,450 --> 00:13:06,970
semicircular channels that immediately

00:13:04,130 --> 00:13:09,770
pick up if something is not going right

00:13:06,970 --> 00:13:10,970
you also take a can take a look what is

00:13:09,770 --> 00:13:13,009
going on and

00:13:10,970 --> 00:13:16,069
this this feedback loop allow you to

00:13:13,009 --> 00:13:18,620
iteratively through painstaking effort

00:13:16,069 --> 00:13:22,399
in the end learn how to walk if a brain

00:13:18,620 --> 00:13:25,009
rhythm it's less straightforward because

00:13:22,399 --> 00:13:28,189
you can't really see what it is so your

00:13:25,009 --> 00:13:29,750
brain doesn't know so the idea of

00:13:28,189 --> 00:13:31,939
neurofeedback research is that if you

00:13:29,750 --> 00:13:34,310
expose these brainwaves to the brain

00:13:31,939 --> 00:13:37,310
using a visual audio stimulus you can

00:13:34,310 --> 00:13:39,949
through iterative effort learn how to

00:13:37,310 --> 00:13:43,730
change or increase or decrease some of

00:13:39,949 --> 00:13:47,420
your brain rhythms and how that looks

00:13:43,730 --> 00:13:49,790
like is that you have a task the task is

00:13:47,420 --> 00:13:51,980
like a threshold the line is your

00:13:49,790 --> 00:13:54,560
current brain activity like a rhythm and

00:13:51,980 --> 00:13:57,259
people are instructed to push their

00:13:54,560 --> 00:13:58,209
brain activity over thresholds and this

00:13:57,259 --> 00:14:02,480
is repeated

00:13:58,209 --> 00:14:07,459
well perhaps hundreds of times over a

00:14:02,480 --> 00:14:11,360
timespan probably on the order of six

00:14:07,459 --> 00:14:15,279
weeks maybe ten weeks sometimes twenty

00:14:11,360 --> 00:14:18,079
sessions are used where people come into

00:14:15,279 --> 00:14:20,930
flight clinics do neurofeedback training

00:14:18,079 --> 00:14:25,160
for us for like half an hour and then go

00:14:20,930 --> 00:14:28,490
home where each of the neurofeedback

00:14:25,160 --> 00:14:30,500
training issues is divided up in sizable

00:14:28,490 --> 00:14:35,180
chunks of maybe five to six to seven

00:14:30,500 --> 00:14:39,139
minutes of training so the idea is that

00:14:35,180 --> 00:14:41,720
you train your brain rhythm to normalize

00:14:39,139 --> 00:14:43,879
and then you kind of like get the

00:14:41,720 --> 00:14:48,769
benefit so this is the neurofeedback

00:14:43,879 --> 00:14:52,519
training research questions are that are

00:14:48,769 --> 00:14:54,050
that you find quite common is like one

00:14:52,519 --> 00:14:55,939
of them is how much information can you

00:14:54,050 --> 00:15:00,410
extract from the EEG signal and what

00:14:55,939 --> 00:15:03,069
strategies for that what our brain

00:15:00,410 --> 00:15:05,899
mechanisms that are involved and

00:15:03,069 --> 00:15:07,970
research questions that are I am most

00:15:05,899 --> 00:15:10,069
interested in is how well can people

00:15:07,970 --> 00:15:12,230
really learn to change modify the brain

00:15:10,069 --> 00:15:16,209
rhythms and its neuro feedback loop

00:15:12,230 --> 00:15:19,100
learning really effective in everyone

00:15:16,209 --> 00:15:22,600
for this I use an MRI scanner to scan

00:15:19,100 --> 00:15:27,170
while eg neurofeedback is going on

00:15:22,600 --> 00:15:29,890
that's MRI partes talk in and of itself

00:15:27,170 --> 00:15:32,900
that I'm not going to go further into

00:15:29,890 --> 00:15:34,760
but now I'm going to talk about yeah

00:15:32,900 --> 00:15:36,440
kind of like the frustrations that that

00:15:34,760 --> 00:15:42,770
I encountered when I try to do BCI

00:15:36,440 --> 00:15:44,870
research so some of the obstacles that I

00:15:42,770 --> 00:15:46,580
encountered is that most labs have

00:15:44,870 --> 00:15:50,090
neurofeedback setup with a very specific

00:15:46,580 --> 00:15:54,920
amplifier very specific computers with

00:15:50,090 --> 00:15:56,960
the stimulus software licensed it runs

00:15:54,920 --> 00:15:59,960
only on Windows or it runs only on Mac

00:15:56,960 --> 00:16:02,680
and yeah it's it's kind of like

00:15:59,960 --> 00:16:08,930
impossible to do it anywhere else and I

00:16:02,680 --> 00:16:11,000
would like to have methods that I cannot

00:16:08,930 --> 00:16:13,010
just do in the lab but can just deploy

00:16:11,000 --> 00:16:14,420
anywhere so if I want to collaborate

00:16:13,010 --> 00:16:16,250
with differently at a different location

00:16:14,420 --> 00:16:18,620
and once we have the same methods that I

00:16:16,250 --> 00:16:23,000
use in my lab somewhere else as well so

00:16:18,620 --> 00:16:26,320
something needs to be deployable it will

00:16:23,000 --> 00:16:30,050
also be really nice to be able to teach

00:16:26,320 --> 00:16:32,390
like it you can have the software on a

00:16:30,050 --> 00:16:34,100
laptop maybe a cheap EEG system that you

00:16:32,390 --> 00:16:36,200
can give to a couple of students you

00:16:34,100 --> 00:16:40,340
send them out in the field and you can

00:16:36,200 --> 00:16:42,470
gather data and this also allows you to

00:16:40,340 --> 00:16:45,470
reproduce like any findings that you

00:16:42,470 --> 00:16:49,280
have in one lab to a different lab so

00:16:45,470 --> 00:16:51,530
and then the program language that come

00:16:49,280 --> 00:16:58,640
floating upwards more or less naturally

00:16:51,530 --> 00:17:02,120
is right in order for to deploy the

00:16:58,640 --> 00:17:06,380
neurofeedback approaches I use Conda and

00:17:02,120 --> 00:17:07,910
get at the bottom I show a link to an

00:17:06,380 --> 00:17:11,120
article that's kind of like inspired me

00:17:07,910 --> 00:17:14,930
to do it like that basically in order to

00:17:11,120 --> 00:17:16,850
deploy these despite and proaches is you

00:17:14,930 --> 00:17:19,430
you go to get help you download a git

00:17:16,850 --> 00:17:21,290
repository the kotappa story contains an

00:17:19,430 --> 00:17:23,120
environment file and then you can create

00:17:21,290 --> 00:17:25,870
the environment of Conda and and you go

00:17:23,120 --> 00:17:28,580
into the environments and you can start

00:17:25,870 --> 00:17:30,650
its impact is not as easy as that

00:17:28,580 --> 00:17:32,420
because

00:17:30,650 --> 00:17:35,570
there are sometimes problems for example

00:17:32,420 --> 00:17:38,360
if you're on a to Rome Network then

00:17:35,570 --> 00:17:41,870
sometimes people cannot verify the

00:17:38,360 --> 00:17:46,070
package that you want to download so but

00:17:41,870 --> 00:17:48,650
but in a case the the main message is in

00:17:46,070 --> 00:17:50,660
the end this doesn't work and so I use

00:17:48,650 --> 00:17:52,430
these parts are ready to setup

00:17:50,660 --> 00:17:56,320
neurofeedback systems around Brisbane

00:17:52,430 --> 00:18:00,140
and also around Newcastle in Australia

00:17:56,320 --> 00:18:02,630
so if I go to a lab then usually they

00:18:00,140 --> 00:18:05,960
already have an EEG system it's a

00:18:02,630 --> 00:18:09,200
computer and the most complexity that

00:18:05,960 --> 00:18:10,820
you have is that you the EEG net is

00:18:09,200 --> 00:18:12,470
connected to the computer and a stimulus

00:18:10,820 --> 00:18:14,540
presentation computer sent some markers

00:18:12,470 --> 00:18:16,429
to the data acquisition computer this is

00:18:14,540 --> 00:18:19,640
all offline so you know neurofeedback

00:18:16,429 --> 00:18:24,200
yet in order to upgrade the system with

00:18:19,640 --> 00:18:26,630
neurofeedback approach I use a switch

00:18:24,200 --> 00:18:29,030
with Ethernet cables connecting both

00:18:26,630 --> 00:18:32,480
those computers to a real-time laptop on

00:18:29,030 --> 00:18:36,050
the stimulation computer I install like

00:18:32,480 --> 00:18:40,460
a stimulation environment that enables

00:18:36,050 --> 00:18:42,860
me to show audio and visual stimuli and

00:18:40,460 --> 00:18:46,960
on the real-time computer runs all the

00:18:42,860 --> 00:18:53,660
necessary tools to do real-time analysis

00:18:46,960 --> 00:18:56,330
these stimulation environments I and the

00:18:53,660 --> 00:18:58,630
real-time data can flow through the

00:18:56,330 --> 00:19:01,280
network to the real-time computer and

00:18:58,630 --> 00:19:02,900
the real-time computer also needs to

00:19:01,280 --> 00:19:05,179
send some signals to the simulation

00:19:02,900 --> 00:19:09,160
computer to change the presentation and

00:19:05,179 --> 00:19:11,809
stimuli so the neurofeedback

00:19:09,160 --> 00:19:13,580
works with neurofeedback steam

00:19:11,809 --> 00:19:16,640
environment there's a cool new

00:19:13,580 --> 00:19:20,059
environments it's unfortunately still

00:19:16,640 --> 00:19:22,490
uses Python 2.7 the main components are

00:19:20,059 --> 00:19:25,610
psycho pi for generating all kinds of

00:19:22,490 --> 00:19:27,980
visual and audio stimuli and coupled

00:19:25,610 --> 00:19:30,590
with that is a PF package which takes

00:19:27,980 --> 00:19:32,840
care of the network traffic between the

00:19:30,590 --> 00:19:36,230
stimulation computer and the real-time

00:19:32,840 --> 00:19:38,170
analysis computer things also need to

00:19:36,230 --> 00:19:41,929
run concurrently and for this I use

00:19:38,170 --> 00:19:44,120
Python 2.7 async i/o which is called

00:19:41,929 --> 00:19:46,500
troll ears

00:19:44,120 --> 00:19:49,890
in the end I would like to convert this

00:19:46,500 --> 00:19:54,660
to Python 3 but I haven't had a time yes

00:19:49,890 --> 00:19:56,970
I use spider to do edits and the the

00:19:54,660 --> 00:19:58,770
stimulation also has a nice GUI

00:19:56,970 --> 00:20:01,650
which you can select the different

00:19:58,770 --> 00:20:05,610
stimuli and change parameters before you

00:20:01,650 --> 00:20:08,130
start the experiment these are the case

00:20:05,610 --> 00:20:13,620
of repositories we refined the software

00:20:08,130 --> 00:20:15,930
so you can also get started yeah is -

00:20:13,620 --> 00:20:19,140
piff how to have to steer it it's like -

00:20:15,930 --> 00:20:21,270
you can define an object called BCI net

00:20:19,140 --> 00:20:23,270
you can ask it what kind of a feedbacks

00:20:21,270 --> 00:20:26,340
are there what kind of experiments are

00:20:23,270 --> 00:20:28,320
currently on a stimulation computer you

00:20:26,340 --> 00:20:31,140
before the experiment starts you can

00:20:28,320 --> 00:20:33,480
send signals that change the properties

00:20:31,140 --> 00:20:35,190
of the stimulation before you start then

00:20:33,480 --> 00:20:38,850
you can like start it with the play

00:20:35,190 --> 00:20:40,560
commands and during the runtime of the

00:20:38,850 --> 00:20:43,200
experiments you can send signals that

00:20:40,560 --> 00:20:47,060
will update your stimulation for example

00:20:43,200 --> 00:20:50,220
your line with this send signal approach

00:20:47,060 --> 00:20:54,770
you can also make other stimuli with

00:20:50,220 --> 00:20:59,130
it's and I give some examples of that

00:20:54,770 --> 00:21:04,980
for example this checkerboard something

00:20:59,130 --> 00:21:08,360
where you need to follow the eyes so I'm

00:21:04,980 --> 00:21:08,360
gonna see if we can go to the next lines

00:21:12,970 --> 00:21:16,729
right then something about concurrency

00:21:16,129 --> 00:21:20,570
and trollese

00:21:16,729 --> 00:21:23,019
I use async yo to take care of their

00:21:20,570 --> 00:21:25,460
concurrency so sometimes you need to

00:21:23,019 --> 00:21:27,349
draw the stimuli on the screen while at

00:21:25,460 --> 00:21:28,999
the same time monitoring incoming

00:21:27,349 --> 00:21:34,789
network traffic that changes some kind

00:21:28,999 --> 00:21:36,559
of a property the async yo loop doesn't

00:21:34,789 --> 00:21:40,099
really care if a function that you're

00:21:36,559 --> 00:21:41,960
evaluating crashes or not so when I try

00:21:40,099 --> 00:21:44,749
this for the first time things crash and

00:21:41,960 --> 00:21:47,989
you have no error message to to to look

00:21:44,749 --> 00:21:50,029
at and this is because this library is

00:21:47,989 --> 00:21:52,249
not made for experiments is made for

00:21:50,029 --> 00:21:53,450
like handling Network traffic's and if

00:21:52,249 --> 00:21:55,909
there's one of the income connection

00:21:53,450 --> 00:21:59,989
fails it shouldn't care so I make my own

00:21:55,909 --> 00:22:01,820
crashing burn protocol or methods

00:21:59,989 --> 00:22:04,070
everything goes through the methods and

00:22:01,820 --> 00:22:07,729
if something fails you loop crashes and

00:22:04,070 --> 00:22:13,519
use some print statement to say error in

00:22:07,729 --> 00:22:15,859
terms of a sink or yeah network traffic

00:22:13,519 --> 00:22:19,220
is done with a sink or and this is

00:22:15,859 --> 00:22:21,559
libraries and don't understand I want to

00:22:19,220 --> 00:22:23,690
convert at at some point that's well if

00:22:21,559 --> 00:22:28,099
anyone has any helpful hints with that

00:22:23,690 --> 00:22:30,739
please let me know after the talk then

00:22:28,099 --> 00:22:33,349
the real-time environments this runs on

00:22:30,739 --> 00:22:36,169
the real-time computer base it's Python

00:22:33,349 --> 00:22:38,509
3 I use to Jupiter notebook because it

00:22:36,169 --> 00:22:40,729
allows me to use the cells to document

00:22:38,509 --> 00:22:42,830
the experiments to explain what is going

00:22:40,729 --> 00:22:45,710
on what experiment it needs to be doing

00:22:42,830 --> 00:22:48,619
it allows me to start the stimulation

00:22:45,710 --> 00:22:50,809
computer to do real-time analysis to

00:22:48,619 --> 00:22:54,429
start to stop the camera that I also

00:22:50,809 --> 00:22:57,889
have and it's a really convenient way to

00:22:54,429 --> 00:22:59,179
like iteratively go through your

00:22:57,889 --> 00:23:03,109
experiment if something needs to be

00:22:59,179 --> 00:23:07,690
redone you can just redo it again these

00:23:03,109 --> 00:23:09,619
are the repositories that I use for it

00:23:07,690 --> 00:23:12,919
the packages for doing real-time

00:23:09,619 --> 00:23:16,190
analysis is NF me lab I used the VM

00:23:12,919 --> 00:23:18,080
package any Python as well there's open

00:23:16,190 --> 00:23:20,359
vibe for which I'll show you some of the

00:23:18,080 --> 00:23:23,330
methods and I don't actually use any

00:23:20,359 --> 00:23:24,620
methods from BCI PI but it's a Python

00:23:23,330 --> 00:23:26,150
library which

00:23:24,620 --> 00:23:35,180
real-time feedback so I mentioned it

00:23:26,150 --> 00:23:37,040
here yeah so this very shortly analysis

00:23:35,180 --> 00:23:38,840
pipeline you see the newer feedback loop

00:23:37,040 --> 00:23:42,350
that's as well true you get some data

00:23:38,840 --> 00:23:44,750
from the amplifier and you kind of like

00:23:42,350 --> 00:23:46,340
go through analysis pipeline in which

00:23:44,750 --> 00:23:49,340
you select some channels you apply a

00:23:46,340 --> 00:23:51,590
filter you take an absolute value of the

00:23:49,340 --> 00:23:52,880
signal and then at the very end you send

00:23:51,590 --> 00:23:58,010
it to the simulation computer for

00:23:52,880 --> 00:23:59,870
display and then the top figure is what

00:23:58,010 --> 00:24:01,400
you show on the real-time computer and

00:23:59,870 --> 00:24:05,120
the bottom figure is what you see then

00:24:01,400 --> 00:24:10,700
on the simulation computer and in this

00:24:05,120 --> 00:24:19,970
way first your feedback setups are done

00:24:10,700 --> 00:24:22,250
oh that's funny anyway here are the

00:24:19,970 --> 00:24:24,710
repositories that I use you can check

00:24:22,250 --> 00:24:28,460
them out they're still bit for preview

00:24:24,710 --> 00:24:29,809
repositories of be kind with that I

00:24:28,460 --> 00:24:32,720
would like to acknowledge some of my

00:24:29,809 --> 00:24:36,080
collaborators there are guys in Brisbane

00:24:32,720 --> 00:24:39,080
on the left column there are guys in

00:24:36,080 --> 00:24:40,790
tubing a market work and also some

00:24:39,080 --> 00:24:42,860
Finnish people and sometimes people

00:24:40,790 --> 00:24:44,600
write that I'd like to thank you for

00:24:42,860 --> 00:24:53,480
your attention

00:24:44,600 --> 00:24:53,480
[Applause]

00:24:59,690 --> 00:25:06,800
my cool so thank you

00:25:03,110 --> 00:25:10,220
some of us might be wondering how we can

00:25:06,800 --> 00:25:12,770
get our hands on playing with some EEG

00:25:10,220 --> 00:25:17,360
neurofeedback without the budget of a

00:25:12,770 --> 00:25:19,760
neuroscience lab thank you that's an

00:25:17,360 --> 00:25:21,080
excellent question I also encountered

00:25:19,760 --> 00:25:23,179
this problem because I mean the

00:25:21,080 --> 00:25:24,830
amplifier is the most expensive bit of

00:25:23,179 --> 00:25:27,920
equipment for the rest you just need a

00:25:24,830 --> 00:25:35,230
laptop so I looked around and there's

00:25:27,920 --> 00:25:35,230
this open BCI initiative where you can

00:25:36,190 --> 00:25:45,740
it's not there anymore anyway and these

00:25:41,240 --> 00:25:47,990
guys they make affordable BCI systems

00:25:45,740 --> 00:25:51,320
that also support life swimming layer so

00:25:47,990 --> 00:25:53,600
actually order two of those and with

00:25:51,320 --> 00:25:59,540
that as I try to more or less deploy

00:25:53,600 --> 00:26:01,250
neurofeedback myself as well hey yeah I

00:25:59,540 --> 00:26:03,500
just wanted to ask about the simulation

00:26:01,250 --> 00:26:06,010
thing you had where the brain activity

00:26:03,500 --> 00:26:08,240
was going up and down yeah so is it that

00:26:06,010 --> 00:26:09,860
someone is watching the screen and when

00:26:08,240 --> 00:26:11,480
their brain activity goes below the

00:26:09,860 --> 00:26:14,450
threshold they're shown some stimulation

00:26:11,480 --> 00:26:16,190
which is supposed to boost the brain

00:26:14,450 --> 00:26:18,380
activity so it goes up to the threshold

00:26:16,190 --> 00:26:21,070
and it sort of keeps it like that is

00:26:18,380 --> 00:26:23,270
that how it works so how it works is

00:26:21,070 --> 00:26:26,480
they're supposed to concentrate on their

00:26:23,270 --> 00:26:29,200
brain activity if it's over the

00:26:26,480 --> 00:26:32,090
threshold for at least 200 milliseconds

00:26:29,200 --> 00:26:37,210
which it's kind of like a threshold that

00:26:32,090 --> 00:26:39,260
you said they are rewarded in a way by I

00:26:37,210 --> 00:26:40,670
because the experiment tells them that

00:26:39,260 --> 00:26:42,890
this is what they're supposed to do

00:26:40,670 --> 00:26:45,200
and it tells them by making a little

00:26:42,890 --> 00:26:48,080
green patch this did you see how this is

00:26:45,200 --> 00:26:50,870
good there's a counter like increments

00:26:48,080 --> 00:26:53,990
so there's also another signal and they

00:26:50,870 --> 00:26:56,570
also hear audio tone so all of these

00:26:53,990 --> 00:26:57,860
three things just tell the people okay

00:26:56,570 --> 00:27:00,610
this is good

00:26:57,860 --> 00:27:00,610
do more

00:27:01,760 --> 00:27:06,240
then brain already naturally fluctuates

00:27:04,500 --> 00:27:09,570
in a way so you set the threshold in

00:27:06,240 --> 00:27:14,610
such a way that they get about like 10

00:27:09,570 --> 00:27:18,059
to 15 percent correct and just by

00:27:14,610 --> 00:27:21,450
concentrating on it then if people can

00:27:18,059 --> 00:27:26,010
actually learn how to improve the

00:27:21,450 --> 00:27:28,140
likelihood of getting more hits and how

00:27:26,010 --> 00:27:29,610
the brain exactly learns it that's good

00:27:28,140 --> 00:27:33,570
question that's also the thing that I

00:27:29,610 --> 00:27:35,820
try to look at with the MRI scanner it

00:27:33,570 --> 00:27:37,530
requires a lot of repetition and there

00:27:35,820 --> 00:27:49,520
are also people that don't really learn

00:27:37,530 --> 00:27:54,150
that well let's say you want to build

00:27:49,520 --> 00:27:55,080
machine learning system which uses

00:27:54,150 --> 00:27:57,630
neurofeedback

00:27:55,080 --> 00:28:01,350
to restore the normal activity of the

00:27:57,630 --> 00:28:06,360
brain for let's say tinnitus how good is

00:28:01,350 --> 00:28:08,910
the system to profile a brain with

00:28:06,360 --> 00:28:13,500
tinnitus and a brain with no tinnitus or

00:28:08,910 --> 00:28:16,800
any other state for example could you

00:28:13,500 --> 00:28:20,780
please yeah the question yeah so what's

00:28:16,800 --> 00:28:22,950
the quality of a EEG system to

00:28:20,780 --> 00:28:25,170
distinguish between a brain with a

00:28:22,950 --> 00:28:29,429
certain activity and another time of

00:28:25,170 --> 00:28:31,460
activity I see yeah this two years

00:28:29,429 --> 00:28:36,990
machine learning methods for this is

00:28:31,460 --> 00:28:41,220
also an active area of research I think

00:28:36,990 --> 00:28:42,809
you can get average effects like if you

00:28:41,220 --> 00:28:44,130
have a group of people with tinnitus in

00:28:42,809 --> 00:28:46,380
a group of people without tinnitus

00:28:44,130 --> 00:28:48,929
you're more likely to figure out all

00:28:46,380 --> 00:28:51,240
this brain with and a dislocation show

00:28:48,929 --> 00:28:53,750
some abnormalities it's quite difficult

00:28:51,240 --> 00:28:56,400
to do this as a subject super specific

00:28:53,750 --> 00:28:59,640
level and I think the quality of eg

00:28:56,400 --> 00:29:03,720
signal intrinsically might not be

00:28:59,640 --> 00:29:08,090
sufficient enough it might be in some

00:29:03,720 --> 00:29:08,090
cases but yeah not always

00:29:08,919 --> 00:29:13,179
do we have any more questions

00:29:24,560 --> 00:29:29,750
thank you for the talk so I've been

00:29:28,370 --> 00:29:31,400
noticing on the internet there's been

00:29:29,750 --> 00:29:34,190
flooding these things around called

00:29:31,400 --> 00:29:36,950
these particular types of music I think

00:29:34,190 --> 00:29:39,010
they call it be normal beats mm-hmm and

00:29:36,950 --> 00:29:41,720
I say it's supposed to stimulate certain

00:29:39,010 --> 00:29:45,070
runways to help you focus is anything do

00:29:41,720 --> 00:29:48,410
this is this actually like legit thing

00:29:45,070 --> 00:29:51,350
because these systems I can imagine that

00:29:48,410 --> 00:29:54,200
like your brainwaves kind of like

00:29:51,350 --> 00:29:56,690
follower stimulus that's that you give

00:29:54,200 --> 00:29:59,390
for example if you show people a

00:29:56,690 --> 00:30:01,730
checkerboard that alternates with 10

00:29:59,390 --> 00:30:04,660
times per second your brainwave will

00:30:01,730 --> 00:30:07,460
imitate that also if 10 times per second

00:30:04,660 --> 00:30:12,100
in terms of like music and with these

00:30:07,460 --> 00:30:15,680
beats I would be a little bit skeptical

00:30:12,100 --> 00:30:20,420
I would like to measure it and validated

00:30:15,680 --> 00:30:23,660
before I say something about well that's

00:30:20,420 --> 00:30:25,530
what we have time for today so thank you

00:30:23,660 --> 00:30:31,490
again yo

00:30:25,530 --> 00:30:31,490

YouTube URL: https://www.youtube.com/watch?v=d6YJpZBx4X8


