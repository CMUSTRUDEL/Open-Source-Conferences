Title: Debian in the modern pipeline
Publication date: 2017-12-06
Playlist: DebConf 17
Description: 
	by Fredy P.
by Ernesto Guevara

At: DebConf17
https://debconf17.debconf.org/
Room: Bo
Scheduled start: 2017-08-08 17:00:00
Captions: 
	00:00:04,640 --> 00:00:11,340
we are just in time to start the

00:00:07,649 --> 00:00:14,990
workshop so I think you could start the

00:00:11,340 --> 00:00:14,990
transmission right now

00:00:29,620 --> 00:00:39,309
okay so welcome to the workshop debian

00:00:35,410 --> 00:00:43,809
in the modern pipeline for this workshop

00:00:39,309 --> 00:00:47,080
we did a special setup in LAN because

00:00:43,809 --> 00:00:49,360
some technical restriction we got when

00:00:47,080 --> 00:00:51,730
we were doing the the workshop so we

00:00:49,360 --> 00:00:54,640
decided to do it in a LAN to be sure

00:00:51,730 --> 00:00:59,530
everything will works or the mast of the

00:00:54,640 --> 00:01:01,660
workshop will works so for the people

00:00:59,530 --> 00:01:05,410
that will really do the workshop and not

00:01:01,660 --> 00:01:08,560
just follow me in the screen you got a

00:01:05,410 --> 00:01:12,520
small ticket and that ticket you will

00:01:08,560 --> 00:01:16,090
have an IP and we are using an IP

00:01:12,520 --> 00:01:22,030
address and you will have a user and

00:01:16,090 --> 00:01:24,100
password okay so for the whole workshop

00:01:22,030 --> 00:01:26,950
we will use that user and password so

00:01:24,100 --> 00:01:29,560
keep it with you and when we ask for use

00:01:26,950 --> 00:01:30,369
that one in the documentation please use

00:01:29,560 --> 00:01:32,890
that one

00:01:30,369 --> 00:01:36,399
do not use another one do not create a

00:01:32,890 --> 00:01:38,500
new account because if you do that then

00:01:36,399 --> 00:01:42,990
we will not work and we will lose all

00:01:38,500 --> 00:01:47,740
the time we did doing the setup so

00:01:42,990 --> 00:01:49,390
please go there use follow the

00:01:47,740 --> 00:01:58,690
instruction in the in the end small

00:01:49,390 --> 00:02:02,920
ticket please I think would be good idea

00:01:58,690 --> 00:02:08,890
to turn off the Wi-Fi to do not have a

00:02:02,920 --> 00:02:13,200
network complex by the way if is working

00:02:08,890 --> 00:02:13,200
will not be mandatory okay

00:02:15,440 --> 00:02:23,670
so during the time people will start

00:02:19,640 --> 00:02:26,760
basically coming to hear what using but

00:02:23,670 --> 00:02:29,640
using the and Ilan I want to say to the

00:02:26,760 --> 00:02:32,610
people that is use listening by internet

00:02:29,640 --> 00:02:34,260
it's not a real domain is induced in

00:02:32,610 --> 00:02:39,030
your land so if you go there you will

00:02:34,260 --> 00:02:42,690
get nothing after the workshop we will

00:02:39,030 --> 00:02:44,930
see if we could get a way to do like the

00:02:42,690 --> 00:02:49,640
whole repository public in in another

00:02:44,930 --> 00:02:54,360
way for now we have just the land set up

00:02:49,640 --> 00:02:56,520
and basically the idea is that the

00:02:54,360 --> 00:03:00,630
people doing the workshop supposed to

00:02:56,520 --> 00:03:05,120
come into this website and please click

00:03:00,630 --> 00:03:08,120
in here check in before to do any other

00:03:05,120 --> 00:03:08,120
step

00:03:15,420 --> 00:03:27,520
okay so do not do an account just click

00:03:18,970 --> 00:03:31,920
and check in we are here so basically

00:03:27,520 --> 00:03:39,820
there is setup we require for this

00:03:31,920 --> 00:03:42,790
workshop please that you will read us

00:03:39,820 --> 00:03:46,980
ticket in red is the small paper ticket

00:03:42,790 --> 00:03:50,200
you got with a username and password so

00:03:46,980 --> 00:03:52,960
if you are supposed to be here everyone

00:03:50,200 --> 00:03:55,960
in that is in the workshop are in this

00:03:52,960 --> 00:03:58,360
page right now okay so please follow the

00:03:55,960 --> 00:04:04,510
instructions if you have any question

00:03:58,360 --> 00:04:09,040
just ask me or ask her hey we will be

00:04:04,510 --> 00:04:12,870
happy to help you okay during the time

00:04:09,040 --> 00:04:17,890
people will do that I will explain

00:04:12,870 --> 00:04:20,650
basically we have a local git love

00:04:17,890 --> 00:04:24,250
installation people will do a small

00:04:20,650 --> 00:04:29,320
stuff to get access into that get lab

00:04:24,250 --> 00:04:34,620
and also people will do a basic setup

00:04:29,320 --> 00:04:38,910
like doing a runner installation and

00:04:34,620 --> 00:04:43,510
planning some repositories and

00:04:38,910 --> 00:04:49,450
installing some software doing adding

00:04:43,510 --> 00:04:51,550
the SSH key in to take it laughs that's

00:04:49,450 --> 00:04:57,360
like in the in the general way that they

00:04:51,550 --> 00:05:02,760
you will - ok so I will explain first

00:04:57,360 --> 00:05:10,080
who we are so basically a the workshop

00:05:02,760 --> 00:05:14,740
is something we did with Jorge Jorge

00:05:10,080 --> 00:05:15,310
Ernesto Guevara cuenca and me my name is

00:05:14,740 --> 00:05:21,150
Freddy

00:05:15,310 --> 00:05:22,930
Julio ok so we bought volunteer at

00:05:21,150 --> 00:05:24,060
fundaciÃ³n charisma

00:05:22,930 --> 00:05:28,730
if you

00:05:24,060 --> 00:05:34,190
more information about the the Forellis

00:05:28,730 --> 00:05:37,740
charisma dot org dot well using key

00:05:34,190 --> 00:05:45,500
we are volunteering a sysadmin for that

00:05:37,740 --> 00:05:48,030
or organization that is e f like

00:05:45,500 --> 00:05:53,280
organization in my country we are from

00:05:48,030 --> 00:05:56,360
colombia but this this one is smaller

00:05:53,280 --> 00:06:00,630
that Electronic Frontier Foundation okay

00:05:56,360 --> 00:06:06,990
so we bought also we work as admin

00:06:00,630 --> 00:06:13,490
devups outside charisma we started using

00:06:06,990 --> 00:06:16,080
the via in 2002 we bought our members of

00:06:13,490 --> 00:06:23,250
hack boot that is the hacker space in

00:06:16,080 --> 00:06:26,639
Bogota and we are friends but I live in

00:06:23,250 --> 00:06:39,060
Montreal and for hey live in Colombia in

00:06:26,639 --> 00:06:41,880
Bogota we want to say thanks for some

00:06:39,060 --> 00:06:44,729
people and organization the first I want

00:06:41,880 --> 00:06:49,110
to say who Leon is their last moment

00:06:44,729 --> 00:06:51,240
come here and help us so that's awesome

00:06:49,110 --> 00:06:55,260
because we were like having a lot of

00:06:51,240 --> 00:06:57,150
problems and he just come to help us in

00:06:55,260 --> 00:07:02,940
the last moment so thank you very much

00:06:57,150 --> 00:07:08,400
for your time we want to say thank you

00:07:02,940 --> 00:07:10,740
to charisma because they give us the go

00:07:08,400 --> 00:07:14,520
to move their infrastructure into

00:07:10,740 --> 00:07:18,000
debuffs will give more details in the

00:07:14,520 --> 00:07:21,229
next slide but basically when you have

00:07:18,000 --> 00:07:25,320
an idea you want to try a new technology

00:07:21,229 --> 00:07:27,389
is not certainly nice if you have used

00:07:25,320 --> 00:07:29,610
your laptop and you doesn't have a real

00:07:27,389 --> 00:07:33,289
problem to solve and you will not have

00:07:29,610 --> 00:07:40,349
like something real project at the

00:07:33,289 --> 00:07:44,639
so charisma was a great place and we got

00:07:40,349 --> 00:07:46,919
like we wanted to change always working

00:07:44,639 --> 00:07:51,780
there because we was having lots of

00:07:46,919 --> 00:07:57,060
problems when we started their season

00:07:51,780 --> 00:08:00,240
means hack bo I write that in Spanish

00:07:57,060 --> 00:08:03,479
because we say in that way in the in the

00:08:00,240 --> 00:08:06,330
hackerspaces el espacio and the karela

00:08:03,479 --> 00:08:07,199
Mejia will be like the place where magic

00:08:06,330 --> 00:08:10,800
happens

00:08:07,199 --> 00:08:14,009
why hack ba because the most we know

00:08:10,800 --> 00:08:16,560
about debuffs and all these new

00:08:14,009 --> 00:08:21,870
technologies is because we take some

00:08:16,560 --> 00:08:24,690
time in my holidays or or holidays to

00:08:21,870 --> 00:08:28,469
stay in the hacker space and start doing

00:08:24,690 --> 00:08:33,959
some workshops learning so basically the

00:08:28,469 --> 00:08:35,760
most we know we learn in that space the

00:08:33,959 --> 00:08:39,680
DEF CON we want to say thank you because

00:08:35,760 --> 00:08:46,050
we choose or workshop and that push us

00:08:39,680 --> 00:08:48,600
to to finish the project we started in

00:08:46,050 --> 00:08:51,209
charisma or okay to move forward the

00:08:48,600 --> 00:08:54,209
project because is not already done and

00:08:51,209 --> 00:08:56,279
because we are so happy to share that we

00:08:54,209 --> 00:08:59,700
learn because we know that open source

00:08:56,279 --> 00:09:01,649
free software is about sharing so we are

00:08:59,700 --> 00:09:03,480
so happy to share the knowledge we got

00:09:01,649 --> 00:09:08,339
in all that time and with this

00:09:03,480 --> 00:09:10,860
experience personally I want to say

00:09:08,339 --> 00:09:13,320
thank you to serve warfare Linux because

00:09:10,860 --> 00:09:15,690
it's the company I work for and they

00:09:13,320 --> 00:09:17,040
give me the permission to attend the

00:09:15,690 --> 00:09:21,029
event

00:09:17,040 --> 00:09:22,950
so basically sometimes it's hard you

00:09:21,029 --> 00:09:24,839
have a nice heaven but your company

00:09:22,950 --> 00:09:26,520
don't give you the permission to go so I

00:09:24,839 --> 00:09:29,730
want to thank you my company because

00:09:26,520 --> 00:09:33,110
they give me the time also to do the to

00:09:29,730 --> 00:09:33,110
prepare the workshop

00:09:34,160 --> 00:09:40,259
finally this is another view of the

00:09:37,829 --> 00:09:44,220
technologies were using this project I

00:09:40,259 --> 00:09:46,949
want to say docker weather and is not

00:09:44,220 --> 00:09:51,870
there because for the workshop we didn't

00:09:46,949 --> 00:09:54,689
finish it the docker pipeline we did the

00:09:51,870 --> 00:09:55,430
pipeline before but to do it in the

00:09:54,689 --> 00:09:59,250
workshop

00:09:55,430 --> 00:10:02,879
was required to integrate that with a

00:09:59,250 --> 00:10:05,069
new work with it and adapt all that they

00:10:02,879 --> 00:10:08,009
work with it before to do it in the

00:10:05,069 --> 00:10:11,819
workshop so well I want to say sorry for

00:10:08,009 --> 00:10:16,410
that but I will explain you in general

00:10:11,819 --> 00:10:19,040
way we have the debian in the center of

00:10:16,410 --> 00:10:24,329
the equation because we love the debian

00:10:19,040 --> 00:10:30,660
so we try to use Vivian as much as we

00:10:24,329 --> 00:10:39,569
can we are using I think the next one

00:10:30,660 --> 00:10:46,069
will be proxmox is the machine we used

00:10:39,569 --> 00:10:49,379
to have all the VMS and we are using

00:10:46,069 --> 00:10:51,209
different technologies like avian that

00:10:49,379 --> 00:10:54,750
will that is the depth knowledge II that

00:10:51,209 --> 00:10:58,079
prÃ³ximos use for virtual machines and we

00:10:54,750 --> 00:11:05,639
are using also vagrant and bare 12 bucks

00:10:58,079 --> 00:11:10,829
for do tests in the inner laptops ok we

00:11:05,639 --> 00:11:15,120
are using packer that is the tool that

00:11:10,829 --> 00:11:17,819
helped us to build images I will give

00:11:15,120 --> 00:11:21,269
you more details after so basically we

00:11:17,819 --> 00:11:24,509
will do Debian images for Travian and

00:11:21,269 --> 00:11:27,809
for built well box like one shot using

00:11:24,509 --> 00:11:32,509
Packer and we are using ansible for

00:11:27,809 --> 00:11:32,509
provision in conflict files management

00:11:32,809 --> 00:11:43,110
for automated test we are using server

00:11:37,290 --> 00:11:47,339
spec and to like put everything in

00:11:43,110 --> 00:11:50,040
in just one place to do pipeline and

00:11:47,339 --> 00:11:54,750
have a repository we are using it lab

00:11:50,040 --> 00:11:58,260
but we are using it lab with CI okay for

00:11:54,750 --> 00:12:03,149
people that doesn't now get lab CI get

00:11:58,260 --> 00:12:08,100
lab blue same as jenkees do but have

00:12:03,149 --> 00:12:10,440
everything inside good luck so is easier

00:12:08,100 --> 00:12:15,269
to get in under starting if you want to

00:12:10,440 --> 00:12:20,279
try that you can do that from the get

00:12:15,269 --> 00:12:27,050
lab comm website okay so everyone

00:12:20,279 --> 00:12:27,050
finishes the work the workstation setup

00:12:40,610 --> 00:12:48,920
so we will use white moment don't you

00:12:46,019 --> 00:12:55,110
know people that is there have any

00:12:48,920 --> 00:12:59,970
question any particular expectation for

00:12:55,110 --> 00:13:03,600
the conference we've been I think could

00:12:59,970 --> 00:13:12,000
be nice to know who people you tell me

00:13:03,600 --> 00:13:15,440
who are seaside mean developer okay now

00:13:12,000 --> 00:13:15,440
it's just right now

00:13:21,269 --> 00:13:27,990
yeah just follow the instructions one by

00:13:25,720 --> 00:13:27,990
one

00:13:30,100 --> 00:13:35,320
so for the people doing the workshop use

00:13:33,130 --> 00:13:38,130
continue following the structures I will

00:13:35,320 --> 00:13:40,540
talk about some situations in the

00:13:38,130 --> 00:13:42,640
charisma foundation but follow the

00:13:40,540 --> 00:13:46,510
instruction the idea is that people that

00:13:42,640 --> 00:13:48,580
is listening and watching us from

00:13:46,510 --> 00:13:50,560
internet and people that is there will

00:13:48,580 --> 00:13:53,610
have something during the time you are

00:13:50,560 --> 00:13:53,610
doing the setup okay

00:13:59,970 --> 00:14:09,269
so I think many people will ask but I

00:14:06,749 --> 00:14:19,349
think the first person we suppose to

00:14:09,269 --> 00:14:24,959
answer is what and why so basically the

00:14:19,349 --> 00:14:28,459
idea is as I told you before we work for

00:14:24,959 --> 00:14:30,720
us we we volunteer with a small

00:14:28,459 --> 00:14:34,459
organization in our country that is a

00:14:30,720 --> 00:14:34,459
kind of Electronic Frontier Foundation

00:14:35,149 --> 00:14:44,339
our idea is to take the control over the

00:14:39,839 --> 00:14:46,529
whole cycle for web apps in that case is

00:14:44,339 --> 00:14:51,559
campaigns that these people is doing

00:14:46,529 --> 00:14:58,409
like for example related with privacy in

00:14:51,559 --> 00:15:02,959
organization so that we are we want to

00:14:58,409 --> 00:15:04,949
do is to have infrastructure Asaka

00:15:02,959 --> 00:15:11,159
continuous integration and continuous

00:15:04,949 --> 00:15:15,239
delivery because we want self documented

00:15:11,159 --> 00:15:18,539
and automated infrastructure and we want

00:15:15,239 --> 00:15:21,470
to have the apps source code under or

00:15:18,539 --> 00:15:27,689
control so I will explain first part is

00:15:21,470 --> 00:15:29,489
the problem we want to solve is the

00:15:27,689 --> 00:15:35,339
infrastructure we have we actually have

00:15:29,489 --> 00:15:37,079
have a for documentation and we got like

00:15:35,339 --> 00:15:39,629
everything working from the previous

00:15:37,079 --> 00:15:43,829
system in good we have no idea what they

00:15:39,629 --> 00:15:47,069
do before and every time we'll have a

00:15:43,829 --> 00:15:49,979
problem or a new project will have to go

00:15:47,069 --> 00:15:52,589
to run with all the config file and try

00:15:49,979 --> 00:15:55,709
to realize what is happening by example

00:15:52,589 --> 00:15:58,289
when I started in assisting we got a

00:15:55,709 --> 00:16:00,929
problem with the email and take me some

00:15:58,289 --> 00:16:03,449
time to realize that was not used one

00:16:00,929 --> 00:16:07,200
server that was a proximal server with

00:16:03,449 --> 00:16:11,339
many virtual machines inside one of the

00:16:07,200 --> 00:16:15,120
dr. machine was the simbra doing the the

00:16:11,339 --> 00:16:17,820
mail as a mail server and we have also

00:16:15,120 --> 00:16:21,329
like reverse proxy and another machine

00:16:17,820 --> 00:16:24,810
in there but basically we have no

00:16:21,329 --> 00:16:30,690
documentation about this setup we have

00:16:24,810 --> 00:16:35,190
just like a general network map the

00:16:30,690 --> 00:16:41,850
other problem we want to solve is we got

00:16:35,190 --> 00:16:45,139
problems with people doing the web

00:16:41,850 --> 00:16:48,810
develop development for charisma

00:16:45,139 --> 00:16:51,620
basically that was happening was they

00:16:48,810 --> 00:16:56,010
were paying some people to do some

00:16:51,620 --> 00:17:01,110
websites for campaigns and they were

00:16:56,010 --> 00:17:07,439
using in most cases WordPress the

00:17:01,110 --> 00:17:12,900
provider give to the organization the

00:17:07,439 --> 00:17:15,380
final like WordPress ready to go we got

00:17:12,900 --> 00:17:20,270
problems during the process because

00:17:15,380 --> 00:17:23,760
compability compatibility and because

00:17:20,270 --> 00:17:28,620
was not possible to reproduce that the

00:17:23,760 --> 00:17:32,340
developer did was basically a house so

00:17:28,620 --> 00:17:37,770
we changed that starting from now we

00:17:32,340 --> 00:17:40,260
will have ups doing not using WordPress

00:17:37,770 --> 00:17:43,200
but using frameworks and the output will

00:17:40,260 --> 00:17:45,419
be a website that will be our deploy in

00:17:43,200 --> 00:17:50,820
an automated way in the fresh destructor

00:17:45,419 --> 00:17:54,360
ok and build trusted trusted

00:17:50,820 --> 00:17:57,150
infrastructure I'm sorry aunt restrictor

00:17:54,360 --> 00:18:04,049
English is my third language I'm sorry

00:17:57,150 --> 00:18:07,520
it's not clear enough okay most people

00:18:04,049 --> 00:18:12,420
will ask why we decide to build our own

00:18:07,520 --> 00:18:15,490
Debian images when you can get your

00:18:12,420 --> 00:18:18,970
not your own a Debian image other people

00:18:15,490 --> 00:18:23,650
deep from the internet basically is

00:18:18,970 --> 00:18:27,490
about trust because we need to be

00:18:23,650 --> 00:18:30,790
current with our values and with that we

00:18:27,490 --> 00:18:34,540
advocate for so we're advocating for

00:18:30,790 --> 00:18:36,790
privacy and we say to the government

00:18:34,540 --> 00:18:38,530
that that they are doing or the way they

00:18:36,790 --> 00:18:41,980
are doing is not good

00:18:38,530 --> 00:18:45,880
we have to be capable to do it right

00:18:41,980 --> 00:18:50,230
inside because if we do not do that will

00:18:45,880 --> 00:18:53,770
not be current and because also we could

00:18:50,230 --> 00:18:58,350
be target from attacks because it's an

00:18:53,770 --> 00:19:03,520
organization that advocates for freedom

00:18:58,350 --> 00:19:07,470
privacy so it's very important to to

00:19:03,520 --> 00:19:07,470
have infrastructure to you you can trust

00:19:13,780 --> 00:19:21,110
basically there is in the Internet

00:19:16,880 --> 00:19:23,630
well now slogan about that that is there

00:19:21,110 --> 00:19:27,110
is no cloud is used someone else

00:19:23,630 --> 00:19:29,480
computer so I know there is a lot of

00:19:27,110 --> 00:19:32,510
description about it you supposed to use

00:19:29,480 --> 00:19:34,429
and trust the cloud but in our case and

00:19:32,510 --> 00:19:36,919
because the kind of foreign state of

00:19:34,429 --> 00:19:39,740
organization we are we decide to do not

00:19:36,919 --> 00:19:43,549
trust the cloud to have our dedicated

00:19:39,740 --> 00:19:46,510
server and to build or devil images and

00:19:43,549 --> 00:19:49,250
to integrate everything using a pipeline

00:19:46,510 --> 00:19:55,610
and that is that people in the workshop

00:19:49,250 --> 00:19:58,010
will win - and many people maybe will

00:19:55,610 --> 00:20:01,130
ask why we are using just one dedicated

00:19:58,010 --> 00:20:03,530
server basically is because is the only

00:20:01,130 --> 00:20:07,250
dedicated server we have in the in

00:20:03,530 --> 00:20:10,360
charisma so is that's why we doesn't

00:20:07,250 --> 00:20:16,340
have any staging different for for

00:20:10,360 --> 00:20:21,950
another server for staging and now this

00:20:16,340 --> 00:20:23,929
is the overview and to talk to the other

00:20:21,950 --> 00:20:27,140
people what the people doing the

00:20:23,929 --> 00:20:32,330
workshop will do okay there is the

00:20:27,140 --> 00:20:37,850
technology the dynamic Packer basically

00:20:32,330 --> 00:20:42,640
that backer do is beautiful machine

00:20:37,850 --> 00:20:46,970
images and deploys in cloud providers

00:20:42,640 --> 00:20:51,320
the idea that you could centralize your

00:20:46,970 --> 00:20:55,549
base images in just one place and in

00:20:51,320 --> 00:20:57,980
that way you could from that place start

00:20:55,549 --> 00:21:02,990
doing your base images and deploying

00:20:57,980 --> 00:21:06,200
your VM in the place you prefer it could

00:21:02,990 --> 00:21:10,640
be if you have if you use Amazon Amazon

00:21:06,200 --> 00:21:13,490
if you use Google Google and but in all

00:21:10,640 --> 00:21:17,950
cases proxmox in a dedicated server

00:21:13,490 --> 00:21:22,810
basically the input fake Packer takes is

00:21:17,950 --> 00:21:27,540
Debian JSON template for Packer

00:21:22,810 --> 00:21:36,390
the proceed config file from Debian

00:21:27,540 --> 00:21:36,390
everyone here now proceed here

00:21:37,170 --> 00:21:47,880
proceed you know who there is someone

00:21:43,000 --> 00:21:52,840
here that does not now proceed okay

00:21:47,880 --> 00:21:56,890
proceed is like the system that Devon

00:21:52,840 --> 00:22:00,280
have to automate installations so

00:21:56,890 --> 00:22:04,690
basically if you want to do a setup that

00:22:00,280 --> 00:22:07,360
will start and install Debian and you

00:22:04,690 --> 00:22:12,630
want to put in there all the parameters

00:22:07,360 --> 00:22:15,540
you usually put in the Debian installer

00:22:12,630 --> 00:22:18,310
proceed is the technology in the VN that

00:22:15,540 --> 00:22:20,680
helps you to do that so basically it's a

00:22:18,310 --> 00:22:23,400
config file when you will write the

00:22:20,680 --> 00:22:26,230
answer for the questions

00:22:23,400 --> 00:22:28,480
Debian installer do when you are doing

00:22:26,230 --> 00:22:32,020
the installation in that way

00:22:28,480 --> 00:22:35,910
the installation will will be automated

00:22:32,020 --> 00:22:42,520
and will not require human intervention

00:22:35,910 --> 00:22:46,930
okay so and the the other attempt for

00:22:42,520 --> 00:22:50,350
the input is Debian easel image and you

00:22:46,930 --> 00:22:55,780
will have to provide the checksum to be

00:22:50,350 --> 00:23:00,160
sure you are using the the right one and

00:22:55,780 --> 00:23:03,100
in our case in the output will be we

00:23:00,160 --> 00:23:06,700
call that be chaos that is based

00:23:03,100 --> 00:23:12,190
charisma operative system is is a box

00:23:06,700 --> 00:23:19,660
for vagrant and we will get also in the

00:23:12,190 --> 00:23:23,560
output Parker no cuoco KVM virtual

00:23:19,660 --> 00:23:26,950
machine basically you supposed to be

00:23:23,560 --> 00:23:30,700
capable to do all the virtual machines

00:23:26,950 --> 00:23:32,860
in parallel using Packer but in your

00:23:30,700 --> 00:23:34,669
case is not possible because we are

00:23:32,860 --> 00:23:40,759
using juice or laptop

00:23:34,669 --> 00:23:43,009
and you the virtualization technology

00:23:40,759 --> 00:23:45,350
technology who is linked it with the

00:23:43,009 --> 00:23:47,539
processor so if you are using one

00:23:45,350 --> 00:23:51,590
technology for batouala session the

00:23:47,539 --> 00:23:54,190
other one will not be capable to work so

00:23:51,590 --> 00:23:57,830
that's why we are not using parallel

00:23:54,190 --> 00:24:01,700
building in Packer so we are doing that

00:23:57,830 --> 00:24:05,619
in a serial way so we'll take some time

00:24:01,700 --> 00:24:10,909
before to get an image working a

00:24:05,619 --> 00:24:14,989
functional image okay we choose and

00:24:10,909 --> 00:24:18,169
support for provisioning so basically

00:24:14,989 --> 00:24:26,059
that we will have in in the input for

00:24:18,169 --> 00:24:29,869
ansible will be it depends if we will

00:24:26,059 --> 00:24:34,940
use in the local context for development

00:24:29,869 --> 00:24:38,509
we will use the background box but I

00:24:34,940 --> 00:24:41,450
mean this is like the right was the

00:24:38,509 --> 00:24:44,659
cuoco KVM image because is the one we

00:24:41,450 --> 00:24:46,970
will use in proxmox so basically

00:24:44,659 --> 00:24:50,450
depending what you are doing if you are

00:24:46,970 --> 00:24:54,019
doing some test provisioning test you

00:24:50,450 --> 00:24:56,659
supposed to use that to do that directly

00:24:54,019 --> 00:25:01,399
in your laptop using vagrant technology

00:24:56,659 --> 00:25:04,279
so you have one box image that is the

00:25:01,399 --> 00:25:06,289
same that you will have in the kook of

00:25:04,279 --> 00:25:10,190
Technology in production so you will run

00:25:06,289 --> 00:25:13,129
an see boulder and after when that work

00:25:10,190 --> 00:25:17,690
you will be capable to move that into

00:25:13,129 --> 00:25:21,470
production to be honest in your case to

00:25:17,690 --> 00:25:25,999
finish that we are working directly in

00:25:21,470 --> 00:25:27,440
the production that is not really

00:25:25,999 --> 00:25:31,850
production because this is juice

00:25:27,440 --> 00:25:36,559
workshop ok and the other input for

00:25:31,850 --> 00:25:41,779
ansible is the playbook and that will

00:25:36,559 --> 00:25:46,909
give us ansible as output is a virtual

00:25:41,779 --> 00:25:49,060
machine provisional in proxmox using

00:25:46,909 --> 00:25:55,550
proxmox api

00:25:49,060 --> 00:26:00,640
okay we are using service pack for

00:25:55,550 --> 00:26:07,280
automated tests most people doing devups

00:26:00,640 --> 00:26:11,990
today is not doing automated tests but

00:26:07,280 --> 00:26:14,660
is something especially Jorge Jorge is

00:26:11,990 --> 00:26:17,540
working a lot because Wheaton is but it

00:26:14,660 --> 00:26:19,520
is certainly important to have an

00:26:17,540 --> 00:26:23,540
automated test before to deploy

00:26:19,520 --> 00:26:28,550
something so the technology we are using

00:26:23,540 --> 00:26:34,040
for that is server spec and in the input

00:26:28,550 --> 00:26:38,200
we will have a unit test file and in the

00:26:34,040 --> 00:26:42,260
output we will have the test report if

00:26:38,200 --> 00:26:47,480
we do that in the right way you supposed

00:26:42,260 --> 00:26:49,760
to start doing the unit test file

00:26:47,480 --> 00:26:52,670
because from the beginning you supposed

00:26:49,760 --> 00:26:55,280
to know what you will have at the end so

00:26:52,670 --> 00:26:57,140
basically if you want to do that in the

00:26:55,280 --> 00:26:59,900
right way you will start taking the

00:26:57,140 --> 00:27:03,740
requirements right in your unit test

00:26:59,900 --> 00:27:07,310
file after you will do your work and

00:27:03,740 --> 00:27:09,980
when you build this test file will

00:27:07,310 --> 00:27:11,570
verify if everything you want and you

00:27:09,980 --> 00:27:18,470
want it to have at the end

00:27:11,570 --> 00:27:24,350
is there or is not and finally we are we

00:27:18,470 --> 00:27:29,290
are using get lab CI with his runner for

00:27:24,350 --> 00:27:33,920
our pipelines that we have in the input

00:27:29,290 --> 00:27:34,960
could be a push or could be a mesh in

00:27:33,920 --> 00:27:40,240
the

00:27:34,960 --> 00:27:45,640
git repository and if you do that and

00:27:40,240 --> 00:27:49,420
you previously register runner could be

00:27:45,640 --> 00:27:51,610
in your own local machine or in the

00:27:49,420 --> 00:27:57,070
server if you want to push that

00:27:51,610 --> 00:28:02,950
production that will Tiger the pipeline

00:27:57,070 --> 00:28:10,240
and the pipeline basic basically is the

00:28:02,950 --> 00:28:13,950
way you will like take every like step

00:28:10,240 --> 00:28:17,650
we mentioned before and you will like

00:28:13,950 --> 00:28:20,140
put all together to get that deployed in

00:28:17,650 --> 00:28:23,400
the place you want to deploy that we

00:28:20,140 --> 00:28:25,900
will build and will deploy so basically

00:28:23,400 --> 00:28:28,360
at the end that you will have it you

00:28:25,900 --> 00:28:31,420
push and you go into the grid lab

00:28:28,360 --> 00:28:35,560
interface and you will look in there the

00:28:31,420 --> 00:28:38,680
build and at the end if the if you do

00:28:35,560 --> 00:28:42,430
that in the right way if the automated

00:28:38,680 --> 00:28:47,020
test is good the bill will be deployed

00:28:42,430 --> 00:28:51,460
in the staging or production environment

00:28:47,020 --> 00:28:52,970
depending how you are using that and if

00:28:51,460 --> 00:28:56,340
the

00:28:52,970 --> 00:28:59,490
automated test fail then you will do not

00:28:56,340 --> 00:29:03,149
have a deep eye but you have to do that

00:28:59,490 --> 00:29:06,990
in explicit way it means if you do not

00:29:03,149 --> 00:29:11,850
write like the small the small GML or

00:29:06,990 --> 00:29:14,389
script that will give to get love the

00:29:11,850 --> 00:29:18,330
instruction to go or don't go to the

00:29:14,389 --> 00:29:21,749
deployment he will not realize that by

00:29:18,330 --> 00:29:25,259
himself because he will not know which

00:29:21,749 --> 00:29:32,970
technology you are using for tests in an

00:29:25,259 --> 00:29:37,529
automated way ok so we will verify a

00:29:32,970 --> 00:29:41,190
whole host going the workshop for people

00:29:37,529 --> 00:29:51,749
that is really doing that in here so

00:29:41,190 --> 00:29:57,019
everyone finish the check-in and I don't

00:29:51,749 --> 00:29:59,549
know if we you will have a way to take

00:29:57,019 --> 00:30:05,519
like question by Twitter or something

00:29:59,549 --> 00:30:12,139
like that by IRC George or actually in

00:30:05,519 --> 00:30:16,139
the IRC so if if someone is looking this

00:30:12,139 --> 00:30:22,789
workshop and have any question could ask

00:30:16,139 --> 00:30:22,789
in the the DEF CON channel

00:30:28,660 --> 00:30:36,530
and we have a specific wrong

00:30:31,720 --> 00:30:38,990
boo okay I'm sorry I thank you very much

00:30:36,530 --> 00:30:44,360
so we have a specific room in the ERC so

00:30:38,990 --> 00:30:47,440
is is boo that is the same name for the

00:30:44,360 --> 00:30:47,440
place we are right now

00:31:42,100 --> 00:32:03,190
so Bo the channel for the channel yeah

00:31:54,789 --> 00:32:03,190
this Deb comes 17 - boo okay

00:32:19,410 --> 00:32:26,370
if you're Jews right now look in the

00:32:22,020 --> 00:32:37,230
screen in the search box for Firefox I

00:32:26,370 --> 00:32:41,060
just write a channel yes one or two I

00:32:37,230 --> 00:32:41,060
think is one yeah

00:33:40,870 --> 00:33:50,070
I will just take a tour to verify how is

00:33:46,360 --> 00:33:50,070
going in the table

00:34:10,520 --> 00:34:22,470
yes wait wait there so basically you are

00:34:14,129 --> 00:34:32,129
ready so yes

00:34:22,470 --> 00:34:37,490
Jorge URL para que cambia total a para

00:34:32,129 --> 00:34:37,490
cambiar el en algÃºn Falcao

00:34:49,870 --> 00:34:52,870
okay

00:35:17,490 --> 00:35:24,360
you just open your terminal and cut

00:35:20,740 --> 00:35:24,360
steel cut 45

00:35:37,520 --> 00:35:40,520
like

00:35:41,890 --> 00:35:44,890
yeah

00:36:00,990 --> 00:36:11,250
so basically at this point in the

00:36:03,850 --> 00:36:11,250
workshop most people will do all set up

00:36:11,410 --> 00:36:17,950
they are ready to start doing the the

00:36:17,170 --> 00:36:39,490
building

00:36:17,950 --> 00:36:54,580
so at this point okay so basically we

00:36:39,490 --> 00:37:00,640
take the place the idea is the CI Aviva

00:36:54,580 --> 00:37:08,910
take the information from me from this

00:37:00,640 --> 00:37:08,910
way develop dduba dduba GI latina

00:37:12,960 --> 00:37:22,510
a spring that and for you for under 70

00:37:19,780 --> 00:37:26,890
overview the CI the integration or for

00:37:22,510 --> 00:37:29,680
the product so basically that Harvey is

00:37:26,890 --> 00:37:31,450
talking about is when I talk about the

00:37:29,680 --> 00:37:34,869
whole technologies and the input and the

00:37:31,450 --> 00:37:38,289
output as I hope you did love is the one

00:37:34,869 --> 00:37:41,170
that we like integrate everything and do

00:37:38,289 --> 00:37:44,740
everything step by step it means the

00:37:41,170 --> 00:37:48,549
pipeline so is using this config file

00:37:44,740 --> 00:37:52,660
that the runner that is agent that will

00:37:48,549 --> 00:37:56,980
run in the server for production or

00:37:52,660 --> 00:37:59,650
inter laptop when you are doing tests we

00:37:56,980 --> 00:38:04,589
take this file and Winx will execute

00:37:59,650 --> 00:38:07,500
everything we have in here so for

00:38:04,589 --> 00:38:11,799
workshop is very important to change the

00:38:07,500 --> 00:38:19,450
tag because when you are using it lovely

00:38:11,799 --> 00:38:22,690
could have many runners in the project

00:38:19,450 --> 00:38:27,430
so the idea that each one will use their

00:38:22,690 --> 00:38:30,490
own laptop for the build so to use your

00:38:27,430 --> 00:38:33,910
own laptop you suppose you have to

00:38:30,490 --> 00:38:37,660
change the tag for your user

00:38:33,910 --> 00:38:41,230
the one you got in the ticket and the

00:38:37,660 --> 00:38:45,339
one you used to register the Quetelet

00:38:41,230 --> 00:38:51,490
runner and the one you use to login in

00:38:45,339 --> 00:38:54,940
good luck okay in that way when the

00:38:51,490 --> 00:38:57,289
pipeline will start and we'll send that

00:38:54,940 --> 00:39:01,049
to the

00:38:57,289 --> 00:39:02,039
runner that will run in a laptop before

00:39:01,049 --> 00:39:05,429
to do that

00:39:02,039 --> 00:39:08,309
good luck we will decide where he will

00:39:05,429 --> 00:39:13,259
send up in this case you will put that

00:39:08,309 --> 00:39:16,319
tag and if the only registered running

00:39:13,259 --> 00:39:21,169
with that tag is your laptop tank will

00:39:16,319 --> 00:39:25,259
run in your laptop if you use a tag that

00:39:21,169 --> 00:39:27,749
doesn't match any runner it means any

00:39:25,259 --> 00:39:30,239
computer running and the runner agent

00:39:27,749 --> 00:39:33,989
you will happen a bit because there is

00:39:30,239 --> 00:39:38,939
no where no place to do the debit no

00:39:33,989 --> 00:39:43,739
computer if you use another user and

00:39:38,939 --> 00:39:46,140
your bill you will do your build in the

00:39:43,739 --> 00:39:49,140
workstation from the person may be

00:39:46,140 --> 00:39:52,469
beside you or you will get not built

00:39:49,140 --> 00:40:03,359
because there is no one using that that

00:39:52,469 --> 00:40:09,319
no no computer okay yeah the idea was

00:40:03,359 --> 00:40:12,299
loose yeah thanks for calling me that

00:40:09,319 --> 00:40:16,019
yeah please don't use that self because

00:40:12,299 --> 00:40:20,969
the idea was to do that D sir good juice

00:40:16,019 --> 00:40:22,890
change directly the tag is three times

00:40:20,969 --> 00:40:26,459
you have to change that so digital

00:40:22,890 --> 00:40:29,309
Freddy is the runner I am running in my

00:40:26,459 --> 00:40:32,520
laptop so do not use that because if not

00:40:29,309 --> 00:40:38,520
all will push that in my

00:40:32,520 --> 00:40:58,860
I will kill ya it super buddy did you

00:40:38,520 --> 00:41:04,410
say one two three four and basically the

00:40:58,860 --> 00:41:11,270
idea is you will test that is working in

00:41:04,410 --> 00:41:15,660
your laptop so yeah so for four people

00:41:11,270 --> 00:41:19,610
listening I will leave her Jorge to

00:41:15,660 --> 00:41:22,800
explain the pipeline I want to say

00:41:19,610 --> 00:41:26,580
everything we are doing in here is a

00:41:22,800 --> 00:41:29,160
setup for a workshop it's not ready for

00:41:26,580 --> 00:41:30,810
production so the idea is you will the

00:41:29,160 --> 00:41:33,480
people doing the working in the workshop

00:41:30,810 --> 00:41:36,150
is learning how to do that but when you

00:41:33,480 --> 00:41:38,750
go to production you have to change lot

00:41:36,150 --> 00:41:43,080
of things because security restrictions

00:41:38,750 --> 00:41:45,510
because you have also to do it these fix

00:41:43,080 --> 00:41:49,170
in the infrastructure you actually have

00:41:45,510 --> 00:41:51,500
because most cases you will have the

00:41:49,170 --> 00:41:53,820
opportunity to start from scratch

00:41:51,500 --> 00:41:56,369
usually when you are season means there

00:41:53,820 --> 00:42:00,000
is something there and you will go there

00:41:56,369 --> 00:42:03,240
to modify to change to improve

00:42:00,000 --> 00:42:08,180
everything you have in place ok so go

00:42:03,240 --> 00:42:08,180
ahead Jorge I will give you the edge

00:42:21,100 --> 00:42:32,200
well basically we have an a way to order

00:42:26,560 --> 00:42:38,910
the the execution of of the pipe we have

00:42:32,200 --> 00:42:42,390
three-stage build test and deploy in

00:42:38,910 --> 00:42:50,710
this file we define jobs

00:42:42,390 --> 00:42:59,430
this job will with running in parallel

00:42:50,710 --> 00:43:04,890
for the same stage what is mean we have

00:42:59,430 --> 00:43:11,520
three tops in this part okay we have

00:43:04,890 --> 00:43:11,520
packet server spec and deploy artifacts

00:43:12,360 --> 00:43:19,570
Parker is the build stage the middle

00:43:15,910 --> 00:43:29,070
station and in this point we will build

00:43:19,570 --> 00:43:35,200
the day the image the images are the dot

00:43:29,070 --> 00:43:40,060
QC o w2 the interest down the name of

00:43:35,200 --> 00:43:44,970
the job the stage of the stage that that

00:43:40,060 --> 00:43:44,970
will be used for this job the tax

00:43:45,480 --> 00:43:57,630
destructions a huge can can be are of

00:43:51,310 --> 00:44:06,850
screed and a catchy let's spin catchy

00:43:57,630 --> 00:44:12,240
you know we can we can have more more

00:44:06,850 --> 00:44:16,060
jobs per stage if we have two jobs or or

00:44:12,240 --> 00:44:18,310
any number of jobs the jobs will be

00:44:16,060 --> 00:44:21,520
executing in parallel okay

00:44:18,310 --> 00:44:27,700
but in this case we need we need

00:44:21,520 --> 00:44:32,380
the jobs you know wine and but then we

00:44:27,700 --> 00:44:40,990
we have only one job per station okay

00:44:32,380 --> 00:44:44,140
this job spreading was say will be will

00:44:40,990 --> 00:44:53,650
build the image one per one the first

00:44:44,140 --> 00:44:58,770
one is the Cuomo image then we use if

00:44:53,650 --> 00:45:01,570
you check the rating of this repository

00:44:58,770 --> 00:45:03,670
the same instruction are hurt well this

00:45:01,570 --> 00:45:08,130
is the real me

00:45:03,670 --> 00:45:12,040
we can find only only one instruction

00:45:08,130 --> 00:45:19,530
for build for build the two image but

00:45:12,040 --> 00:45:26,100
here we can we will split the execution

00:45:19,530 --> 00:45:26,100
right then

00:45:28,200 --> 00:45:36,340
this builds of course will we image some

00:45:31,450 --> 00:45:43,270
images will be in the vacant box built

00:45:36,340 --> 00:45:46,900
by this line that I am showing here will

00:45:43,270 --> 00:45:50,110
will be in the box directory then we can

00:45:46,900 --> 00:45:52,660
shake the electronic catch a is the

00:45:50,110 --> 00:45:57,220
method for for shared information from

00:45:52,660 --> 00:46:00,100
job to job then if if we don't do catch

00:45:57,220 --> 00:46:06,970
it then in the next in the next job we

00:46:00,100 --> 00:46:09,910
can we we can't find that that that

00:46:06,970 --> 00:46:13,090
image in the next door we will use that

00:46:09,910 --> 00:46:16,500
box in the neck in the next door for do

00:46:13,090 --> 00:46:16,500
a test okay

00:46:21,670 --> 00:46:28,640
okay there is one the next one the

00:46:25,789 --> 00:46:36,799
server respect is for is for is for run

00:46:28,640 --> 00:46:41,450
day is following the test and it's the

00:46:36,799 --> 00:46:44,960
same idea this just we are several

00:46:41,450 --> 00:46:50,890
respect is fighting Robert and we we

00:46:44,960 --> 00:46:58,309
will use gems we will resolve a bundle

00:46:50,890 --> 00:47:03,789
okay and the tests will be run in the

00:46:58,309 --> 00:47:03,789
filter box a recently created image

00:47:05,799 --> 00:47:13,940
finally then we have our deploy

00:47:09,710 --> 00:47:17,260
artifacts job this is the third the

00:47:13,940 --> 00:47:17,260
third stage deployed

00:47:27,559 --> 00:47:35,959
yeah that's is a important thing from

00:47:31,890 --> 00:47:40,140
job to top if we are in different stage

00:47:35,959 --> 00:47:46,679
the next one will not run if the if the

00:47:40,140 --> 00:47:49,619
previous job will not finish well and

00:47:46,679 --> 00:47:52,439
that is idea if you if the in this

00:47:49,619 --> 00:48:03,650
example in general if the test is not

00:47:52,439 --> 00:48:08,009
possible then you can deploy the isn't

00:48:03,650 --> 00:48:14,640
the fact is they built is successful but

00:48:08,009 --> 00:48:22,169
if not run the test well then you don't

00:48:14,640 --> 00:48:28,949
deploy okay don't not just build well

00:48:22,169 --> 00:48:36,559
you need to pass the test okay II

00:48:28,949 --> 00:48:36,559
finally we got

00:48:42,619 --> 00:48:52,499
this will be fine

00:48:45,289 --> 00:48:54,839
fail because we need to create a

00:48:52,499 --> 00:48:59,839
directory in the protocol server for

00:48:54,839 --> 00:49:09,210
poorest image created with women and

00:48:59,839 --> 00:49:15,930
after copying image okay but we don't

00:49:09,210 --> 00:49:21,019
have catch it here then this file will

00:49:15,930 --> 00:49:21,019
be non-existent okay

00:49:23,480 --> 00:49:34,130
let's do the example to fail after but

00:49:30,040 --> 00:49:39,920
we create a virtual machine template in

00:49:34,130 --> 00:49:43,150
the in the proximal superficial I'll

00:49:39,920 --> 00:49:49,270
finally create virtual machine for all

00:49:43,150 --> 00:49:54,170
rotten plate okay that is the overview

00:49:49,270 --> 00:49:54,980
but we can check the detail in the files

00:49:54,170 --> 00:50:05,570
in the repository

00:49:54,980 --> 00:50:10,370
okay then the people the proofing is

00:50:05,570 --> 00:50:16,430
there the Packer build in tones then we

00:50:10,370 --> 00:50:23,860
we have attention when we have to define

00:50:16,430 --> 00:50:23,860
the images to to build Debian

00:50:46,460 --> 00:50:49,390
get rollin

00:50:53,190 --> 00:50:55,819
but wait

00:50:55,950 --> 00:51:17,950
the guy's not the wrong tape you reach

00:50:59,380 --> 00:51:21,640
it did you push their weapon okay no

00:51:17,950 --> 00:51:25,030
problem just I want to want to start a

00:51:21,640 --> 00:51:55,630
little bit we are doing and then build

00:51:25,030 --> 00:52:00,990
all the stops we have basically three

00:51:55,630 --> 00:52:00,990
sections here the first one is builders

00:52:01,830 --> 00:52:16,410
the second one is commissioners and the

00:52:11,680 --> 00:52:16,410
true one is postprocessors okay

00:52:33,230 --> 00:52:41,210
other variables then we have this size

00:52:41,360 --> 00:52:52,560
okay we define variables just for for

00:52:47,870 --> 00:52:59,340
for easy trade minutes the octa-pie okay

00:52:52,560 --> 00:53:01,920
we define decides a name new URL and is

00:52:59,340 --> 00:53:06,870
a checksum type we need this

00:53:01,920 --> 00:53:09,900
this section is for for this image user

00:53:06,870 --> 00:53:14,460
full names is for an user in the in the

00:53:09,900 --> 00:53:17,400
in the image that will be create a

00:53:14,460 --> 00:53:26,850
password and a scription for virtual

00:53:17,400 --> 00:53:29,720
machine version then we have choose the

00:53:26,850 --> 00:53:29,720
type of builder

00:53:32,460 --> 00:53:40,920
mr. parameters that we defining the

00:53:35,850 --> 00:53:44,150
variables Oh finally and from the most

00:53:40,920 --> 00:53:52,170
important part is this good common is

00:53:44,150 --> 00:53:56,490
how Packer will be run the installer for

00:53:52,170 --> 00:53:59,660
the installation that syntax to us that

00:53:56,490 --> 00:54:04,530
commands are just a Debian installer

00:53:59,660 --> 00:54:11,270
commands okay the install Auto

00:54:04,530 --> 00:54:14,360
VGA purity interface URL pass the passwd

00:54:11,270 --> 00:54:16,860
use her full name all of that our

00:54:14,360 --> 00:54:21,470
parameters or darian for for daylian

00:54:16,860 --> 00:54:27,780
installation okay

00:54:21,470 --> 00:54:34,170
sudo command and this last one is vm

00:54:27,780 --> 00:54:35,160
name is the is the name dad with the

00:54:34,170 --> 00:54:42,030
Packer will be free

00:54:35,160 --> 00:54:45,810
the image in the hard-disk after that we

00:54:42,030 --> 00:54:47,430
have a virtual box then this is the same

00:54:45,810 --> 00:54:50,550
idea okay

00:54:47,430 --> 00:54:52,110
then we have a beam under tool box

00:54:50,550 --> 00:54:55,650
whoever for the vector machine see the

00:54:52,110 --> 00:55:01,770
proximal server and butyl box for the

00:54:55,650 --> 00:55:05,460
rocks to do the test the boot come on is

00:55:01,770 --> 00:55:10,380
the same but just another another

00:55:05,460 --> 00:55:15,420
builder there that does the second

00:55:10,380 --> 00:55:24,120
section provides provisioners we got

00:55:15,420 --> 00:55:27,240
here a script to to set to set an

00:55:24,120 --> 00:55:35,190
interface and an ink network interface

00:55:27,240 --> 00:55:42,830
card scripts interfaces just right it's

00:55:35,190 --> 00:55:45,420
a network interfaces file finally

00:55:42,830 --> 00:55:48,090
another script for provision they Vega

00:55:45,420 --> 00:55:50,300
Vega machine for we capable to to use

00:55:48,090 --> 00:55:50,300
that

00:56:07,599 --> 00:56:17,510
now finally we have a post processor

00:56:11,559 --> 00:56:20,540
Raven and this built avatar we the

00:56:17,510 --> 00:56:27,010
vehicle and box the idea is we first

00:56:20,540 --> 00:56:31,849
create each section used the previous

00:56:27,010 --> 00:56:37,760
section artifact if we create here in

00:56:31,849 --> 00:56:41,510
the beautiful box I saw on a virtual

00:56:37,760 --> 00:56:43,970
machine for build twelve box then this

00:56:41,510 --> 00:56:55,640
post processor will be used to create

00:56:43,970 --> 00:56:58,940
them the diagram box ok I think that is

00:56:55,640 --> 00:57:05,650
the main idea if gives you the hands and

00:56:58,940 --> 00:57:05,650
questions we are clear until here

00:57:07,900 --> 00:57:14,859
ok now let's continue let's continue

00:57:11,680 --> 00:57:14,859
explain that

00:57:23,800 --> 00:57:32,060
what part is not open source I can I can

00:57:27,440 --> 00:57:49,670
I don't know about that okay I I know

00:57:32,060 --> 00:57:54,200
it's but the Enterprise Edition is the

00:57:49,670 --> 00:58:04,250
same communication with support okay yes

00:57:54,200 --> 00:58:21,940
that is the interpretation Russian are

00:58:04,250 --> 00:58:21,940
you sure do you know

00:58:35,489 --> 00:58:52,589
now it is Isola Hipparchus of all

00:58:40,150 --> 00:58:52,589
building the next part

00:59:25,820 --> 00:59:37,070
there is we have four there is ready for

00:59:33,830 --> 00:59:39,290
place but really you need before that if

00:59:37,070 --> 00:59:43,270
you don't have these configurations you

00:59:39,290 --> 00:59:46,130
need to create the environment for test

00:59:43,270 --> 00:59:49,300
you can't do these we serve respect

00:59:46,130 --> 00:59:54,260
something like server aspect in it and

00:59:49,300 --> 00:59:56,990
it will ask you for for some information

00:59:54,260 --> 01:00:02,200
like if your environment is UNIX windows

00:59:56,990 --> 01:00:05,810
if you are using vagrant or just yes age

01:00:02,200 --> 01:00:14,540
SSH service or connect to a servers to

01:00:05,810 --> 01:00:20,300
do the test we can view that in this

01:00:14,540 --> 01:00:23,050
moment that is ready now okay inside the

01:00:20,300 --> 01:00:32,300
spec directory

01:00:23,050 --> 01:00:36,680
we got another directory the idea is if

01:00:32,300 --> 01:00:39,530
you have more machines to do test you

01:00:36,680 --> 01:00:43,190
will find the number they know the

01:00:39,530 --> 01:00:46,790
domain name or the IP address for for

01:00:43,190 --> 01:00:51,320
that machines to do the test inside each

01:00:46,790 --> 01:00:58,850
directory will be the test for each one

01:00:51,320 --> 01:01:01,940
of them then a vagrant creator by

01:00:58,850 --> 01:01:05,420
default machine with the name default

01:01:01,940 --> 01:01:11,290
then we have a default directory for

01:01:05,420 --> 01:01:11,290
that and we have the test

01:01:13,990 --> 01:01:23,720
service pack a did you know is right

01:01:17,960 --> 01:01:25,700
eros pack in Ruby while ISA test with in

01:01:23,720 --> 01:01:29,800
the same way we have some respect a test

01:01:25,700 --> 01:01:33,920
suite writen in Ruby for servers

01:01:29,800 --> 01:01:39,470
machines you can you can do the test and

01:01:33,920 --> 01:01:43,910
test do you need to use describe a type

01:01:39,470 --> 01:01:47,660
of test this one is for file then the

01:01:43,910 --> 01:01:58,369
type of test file which file will you

01:01:47,660 --> 01:02:02,290
test the test and then the content of

01:01:58,369 --> 01:02:06,590
the of this file so much that string

01:02:02,290 --> 01:02:11,390
okay and the same file we are doing

01:02:06,590 --> 01:02:15,859
today two tests we have another test

01:02:11,390 --> 01:02:20,359
which the type of type command to

01:02:15,859 --> 01:02:26,030
execute a pata get update then we

01:02:20,359 --> 01:02:36,640
captured a CD out to to to match the

01:02:26,030 --> 01:02:41,089
output and but come on but why we are

01:02:36,640 --> 01:02:44,330
testing much in depth Debian that are

01:02:41,089 --> 01:02:47,210
and why security well if you the

01:02:44,330 --> 01:02:50,859
candidate will be returned the meters

01:02:47,210 --> 01:02:56,530
that you are using and you know when

01:02:50,859 --> 01:03:00,290
when we set the proceed file we use

01:02:56,530 --> 01:03:04,070
these mirrors then we'll be much then

01:03:00,290 --> 01:03:08,089
okay yeah of course the the the exit

01:03:04,070 --> 01:03:12,940
status should be equal to zero or they

01:03:08,089 --> 01:03:12,940
will be okay for the output

01:03:13,740 --> 01:03:20,000
the other driver yes we will show you

01:03:17,160 --> 01:03:20,000
the proceed

01:03:29,620 --> 01:03:40,150
okay this is the proceed pipe and the

01:03:35,860 --> 01:03:43,230
pulse configuration is this one the

01:03:40,150 --> 01:03:48,270
locality then we need to use a scope

01:03:43,230 --> 01:03:53,800
cultural our country yeah yeah in us

01:03:48,270 --> 01:03:59,220
then we have fun or does is default

01:03:53,800 --> 01:04:03,910
configurations I will show you just that

01:03:59,220 --> 01:04:06,730
that configure is that we we do change

01:04:03,910 --> 01:04:09,700
the other ones no the other ones are

01:04:06,730 --> 01:04:13,540
default yeah

01:04:09,700 --> 01:04:18,280
the complaint we do confining the manual

01:04:13,540 --> 01:04:20,470
for for installation don't don't don't

01:04:18,280 --> 01:04:25,120
have this configuration then we said

01:04:20,470 --> 01:04:33,390
this this mirror well really ISA is not

01:04:25,120 --> 01:04:33,390
a mere ELISA CD

01:04:55,300 --> 01:05:08,180
okay then we set a password for their

01:04:58,490 --> 01:05:13,580
root the default user that we create in

01:05:08,180 --> 01:05:23,540
the JSON file for Packer will be in the

01:05:13,580 --> 01:05:31,840
pseudo group the timezone we want to use

01:05:23,540 --> 01:05:31,840
LVM a multi partition option

01:05:42,390 --> 01:05:49,560
or morals okay this is not default but

01:05:46,650 --> 01:05:57,150
we are using non free country and of

01:05:49,560 --> 01:06:01,400
course securities some package open in

01:05:57,150 --> 01:06:10,910
seas OpenSSH server pseudo and PV at

01:06:01,400 --> 01:06:18,020
full operate and that is all just then

01:06:10,910 --> 01:06:18,020
we see the test well

01:06:21,920 --> 01:06:24,579
fourth

01:06:29,840 --> 01:08:01,410
okay okay yeah we are we are they will

01:08:00,720 --> 01:08:03,950
be there

01:08:01,410 --> 01:08:03,950
bye

01:08:15,900 --> 01:08:23,460
we will be will have yeah and this is

01:08:21,029 --> 01:08:26,460
certainly important because as we are

01:08:23,460 --> 01:08:30,960
using this one as a base if we have a

01:08:26,460 --> 01:08:32,549
spoken to experiment and come after when

01:08:30,960 --> 01:08:37,409
someone wants to deploy an application

01:08:32,549 --> 01:08:40,440
with right quad will take home any space

01:08:37,409 --> 01:09:17,640
we need and we're so basically that we

01:08:40,440 --> 01:09:22,140
will do and we will partition okay

01:09:17,640 --> 01:09:27,349
waitin for them watching yeah this

01:09:22,140 --> 01:09:34,730
building it's normal

01:09:27,349 --> 01:09:40,579
at this point but 16 minutes is I think

01:09:34,730 --> 01:09:45,679
it's a long time for which procedure

01:09:40,579 --> 01:09:51,880
hubs you have money well that will

01:09:45,679 --> 01:09:51,880
depend on that all is working now well

01:09:52,060 --> 01:09:56,619
then we are clear with the test right

01:09:57,040 --> 01:10:08,079
yeah is the time because they're running

01:10:55,300 --> 01:11:04,340
no it's Ronnie if most the time is is

01:11:02,449 --> 01:11:08,000
the same result of service package if

01:11:04,340 --> 01:11:11,300
you check mark in the fact you you can

01:11:08,000 --> 01:11:14,540
do you can do add more tests to the your

01:11:11,300 --> 01:11:18,429
pipeline to to go to a production and do

01:11:14,540 --> 01:11:18,429
that type of tests

01:11:19,010 --> 01:11:24,970
the bus could start the box

01:11:36,160 --> 01:11:49,480
well they the next step in the pipeline

01:11:41,870 --> 01:11:49,480
is deploying in this case the deploy is

01:11:49,660 --> 01:11:59,690
create a template from the qmo image and

01:11:56,470 --> 01:12:06,260
build on virtual machine okay

01:11:59,690 --> 01:12:10,390
that part is writing in answer okay then

01:12:06,260 --> 01:12:16,460
we will check and see what there is a

01:12:10,390 --> 01:12:25,250
specific configuration but you need to

01:12:16,460 --> 01:12:29,660
have a hosts file I mean the hosts file

01:12:25,250 --> 01:12:32,540
do you have the server's that do will do

01:12:29,660 --> 01:12:37,040
the configurations that do right okay we

01:12:32,540 --> 01:12:42,260
have those local host if you need to run

01:12:37,040 --> 01:12:45,950
some something local in your machine PV

01:12:42,260 --> 01:12:50,110
and civil host is the is that is this

01:12:45,950 --> 01:12:56,090
host our our upper visual for the

01:12:50,110 --> 01:12:57,980
workshop doctor stating v1 is the new

01:12:56,090 --> 01:13:03,830
virtual machine that will be created

01:12:57,980 --> 01:13:08,510
okay don't we have just dream and this

01:13:03,830 --> 01:13:10,790
file is Khaled inventory Nancy well we

01:13:08,510 --> 01:13:16,310
have an inventory this is our inventory

01:13:10,790 --> 01:13:20,480
and you can set other options for that

01:13:16,310 --> 01:13:25,090
host and then you then we have this

01:13:20,480 --> 01:13:32,750
directory host bars okay and these pair

01:13:25,090 --> 01:13:53,750
per server we have a verse 5 okay

01:13:32,750 --> 01:13:57,160
they use for the corner as you will be

01:13:53,750 --> 01:13:57,160
used to

01:14:13,960 --> 01:14:21,580
and super collection Walker the that

01:14:18,700 --> 01:14:37,680
means that you will not use a cc to

01:14:21,580 --> 01:14:37,680
connect now

01:14:40,380 --> 01:14:54,190
did you know okay yeah actually we have

01:14:48,900 --> 01:14:59,380
many options to people they to do the

01:14:54,190 --> 01:15:02,040
configurations that we want but we have

01:14:59,380 --> 01:15:02,040
only votes

01:15:26,510 --> 01:16:37,800
API that will not run and you will use

01:16:34,520 --> 01:16:44,389
to create new machines from there so

01:16:37,800 --> 01:16:47,389
basically you will to a new one when

01:16:44,389 --> 01:16:47,389
there

01:16:49,070 --> 01:16:52,550
where your soul

01:17:02,150 --> 01:17:05,150
creativity

01:17:16,809 --> 01:17:35,369
then we a town built on a team from the

01:17:22,300 --> 01:17:35,369
deplete the the template is passing we

01:17:43,440 --> 01:18:00,929
only have five chickens we can take and

01:17:53,909 --> 01:18:00,929
you can create another another disc to

01:18:04,619 --> 01:18:11,520
then resize the repo machine which is

01:18:15,570 --> 01:18:19,800
undefined the number of course

01:18:36,290 --> 01:18:53,070
the the last the last one we are not

01:18:40,770 --> 01:19:00,440
using to create users for this user we

01:18:53,070 --> 01:19:01,910
create our group correct roads who is in

01:19:00,440 --> 01:19:17,340
Sulu

01:19:01,910 --> 01:19:19,620
they weekly producer values at least our

01:19:17,340 --> 01:19:22,860
configuration function will use for the

01:19:19,620 --> 01:19:25,980
different operations so it's important

01:19:22,860 --> 01:19:32,280
to say at this point ansible is using a

01:19:25,980 --> 01:19:37,620
password the password we use virtual

01:19:32,280 --> 01:19:43,130
machine so basically that we are also

01:19:37,620 --> 01:19:46,500
some security stuff like change password

01:19:43,130 --> 01:19:49,620
harboring for as such but the first

01:19:46,500 --> 01:19:51,090
thing we need to use export direct into

01:19:49,620 --> 01:19:54,900
that machine and not using a password

01:19:51,090 --> 01:19:57,350
because is the right one is to have a

01:19:54,900 --> 01:19:57,350
user

01:20:09,040 --> 01:21:06,760
so after that what works but we really

01:21:00,140 --> 01:21:06,760
need to create at the point

01:21:20,420 --> 01:21:25,340
we are using that words in these files

01:21:32,530 --> 01:21:35,160
okay

01:22:46,590 --> 01:22:50,699
this one is we are

01:23:06,800 --> 01:23:13,390
and something important to say about the

01:23:09,740 --> 01:23:15,470
constant doctor is when you are doing

01:23:13,390 --> 01:23:20,180
infrastructure as a car and you are

01:23:15,470 --> 01:23:22,160
doing also see I see deeper for junior

01:23:20,180 --> 01:23:25,190
organizations you will have a different

01:23:22,160 --> 01:23:26,990
pipeline for infrastructure and will

01:23:25,190 --> 01:23:30,650
have another project with another

01:23:26,990 --> 01:23:35,530
pipeline to deploy the application so

01:23:30,650 --> 01:23:38,900
basically with the first part and after

01:23:35,530 --> 01:23:42,710
is depending when someone comes to you

01:23:38,900 --> 01:23:45,800
with some requirements it require you

01:23:42,710 --> 01:23:49,820
will deploy a new virtual machine it's

01:23:45,800 --> 01:23:56,470
not and you will burn another pipeline

01:23:49,820 --> 01:23:56,470
you will do use for the new application

01:24:05,420 --> 01:24:13,190
so basically we are designing for the

01:24:09,350 --> 01:24:14,929
infrastructure first step and after you

01:24:13,190 --> 01:24:17,510
have to do another project with the

01:24:14,929 --> 01:24:20,080
application and the pipeline for for the

01:24:17,510 --> 01:24:20,080
application

01:24:32,850 --> 01:24:35,510
okay

01:25:16,190 --> 01:25:27,889
a provider for Parker please not working

01:25:33,739 --> 01:25:45,119
very front because the box we have the

01:25:38,969 --> 01:25:46,139
paper inside when you run back it's not

01:25:45,119 --> 01:25:54,059
taking that

01:25:46,139 --> 01:25:57,570
that's height so we are the right place

01:25:54,059 --> 01:26:00,159
we from also that the park package for

01:25:57,570 --> 01:26:03,879
Damien is

01:26:00,159 --> 01:26:08,499
he's a very very old version if someone

01:26:03,879 --> 01:26:11,199
want to try to take this package someone

01:26:08,499 --> 01:26:48,449
already did it but never really did it

01:26:11,199 --> 01:26:52,389
so they did not produce still under

01:26:48,449 --> 01:26:55,959
proceed doctrine take the first name and

01:26:52,389 --> 01:26:59,590
that's a very very certain it's an all

01:26:55,959 --> 01:27:02,699
problem I think this time we would take

01:26:59,590 --> 01:27:05,999
time to check if there is a book record

01:27:02,699 --> 01:27:05,999
if not

01:27:47,890 --> 01:28:06,260
yeah we say is hard because every time

01:27:56,210 --> 01:28:15,710
you want to so if you say you have to be

01:28:06,260 --> 01:28:18,739
food and again beautiful in proxmox and

01:28:15,710 --> 01:28:23,480
you will just calm down you be sure that

01:28:18,739 --> 01:28:28,360
works what's also interesting like to it

01:28:23,480 --> 01:28:28,360
was hard always like what was first

01:28:29,290 --> 01:28:34,430
because we were we were thinking we will

01:28:31,969 --> 01:28:37,430
do that that way because is in an

01:28:34,430 --> 01:28:42,580
automated way that is not right now so

01:28:37,430 --> 01:28:42,580
will be after so we change the approach

01:28:46,920 --> 01:28:54,580
why don't you use some simple packaging

01:28:51,660 --> 01:29:00,300
because you say to install support from

01:28:54,580 --> 01:29:00,300
people because they build packages

01:29:07,590 --> 01:29:28,080
because we are now using this we are you

01:29:14,250 --> 01:29:28,080
we are using people and I was using mark

01:29:33,480 --> 01:29:49,510
version because within the easy way is

01:29:44,890 --> 01:29:53,010
if you have use IBM technology the whole

01:29:49,510 --> 01:29:57,570
process because you are using box

01:29:53,010 --> 01:30:03,600
opportunity to use that also hiding it -

01:29:57,570 --> 01:30:03,600
because there is you have all the time -

01:30:05,430 --> 01:30:13,810
and you can put that production and if

01:30:08,320 --> 01:30:16,750
you do not use products use KBM I think

01:30:13,810 --> 01:30:19,900
will be easier and more you will be

01:30:16,750 --> 01:30:23,020
always just working in the same artifact

01:30:19,900 --> 01:30:25,510
so that you did here will be exactly the

01:30:23,020 --> 01:30:27,640
same here is exactly the same if you are

01:30:25,510 --> 01:30:31,180
in another virtualization technology

01:30:27,640 --> 01:30:33,910
something happens that is not a pattern

01:30:31,180 --> 01:30:39,210
but I certainly with you will be easier

01:30:33,910 --> 01:30:39,210
if you take KVM and you use

01:30:40,010 --> 01:30:47,370
well basically is that so if you right

01:30:44,219 --> 01:30:54,540
now is the end of the workshop and do

01:30:47,370 --> 01:31:03,000
you want anymore from away savoir-faire

01:30:54,540 --> 01:31:06,230
Linux ten thank you very much we know

01:31:03,000 --> 01:31:06,230
that was hard

01:31:06,300 --> 01:31:14,040
we know that was hard to follow even

01:31:09,180 --> 01:31:16,560
here just was it was hard so by the way

01:31:14,040 --> 01:31:19,130
that we're happy to share this knowledge

01:31:16,560 --> 01:31:19,130

YouTube URL: https://www.youtube.com/watch?v=IHybK22gwJQ


