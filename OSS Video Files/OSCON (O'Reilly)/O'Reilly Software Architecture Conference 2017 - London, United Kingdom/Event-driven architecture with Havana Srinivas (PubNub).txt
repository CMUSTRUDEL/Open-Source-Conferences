Title: Event-driven architecture with Havana Srinivas (PubNub)
Publication date: 2017-10-18
Playlist: O'Reilly Software Architecture Conference 2017 - London, United Kingdom
Description: 
	Subscribe to O'Reilly on YouTube: http://goo.gl/n3QSYi

Follow O'Reilly on: 
Twitter: http://twitter.com/oreillymedia
Facebook: http://facebook.com/OReilly
Instagram: https://www.instagram.com/oreillymedia
LinkedIn: https://www.linkedin.com/company-beta/8459/
Captions: 
	00:00:00,060 --> 00:00:03,629
hi this is Mike Henrickson from software

00:00:01,709 --> 00:00:06,810
architecture in London I'm here with Bob

00:00:03,629 --> 00:00:08,370
Neff from PubNub yes so hi

00:00:06,810 --> 00:00:11,550
so can you unpack a little bit about

00:00:08,370 --> 00:00:13,410
what PubNub does yeah for sure so Pabna

00:00:11,550 --> 00:00:15,480
provides real time infrastructure as a

00:00:13,410 --> 00:00:19,080
service so if you were trying to build

00:00:15,480 --> 00:00:21,210
an expectation or an IOT application or

00:00:19,080 --> 00:00:23,189
think even multiplayer game where you

00:00:21,210 --> 00:00:25,140
have all these devices and when I say

00:00:23,189 --> 00:00:28,050
devices it could be your laptop mobile

00:00:25,140 --> 00:00:30,150
phones or it could be a IOT devices out

00:00:28,050 --> 00:00:32,460
in the field or dashboards whatever it

00:00:30,150 --> 00:00:34,800
is that you want to connect we do that

00:00:32,460 --> 00:00:37,800
in real time so we've built out this

00:00:34,800 --> 00:00:39,870
huge highly distributed network where

00:00:37,800 --> 00:00:42,149
all of these devices can connect you and

00:00:39,870 --> 00:00:46,039
send data bi-directionally between each

00:00:42,149 --> 00:00:49,950
other so you could connect my Amazon

00:00:46,039 --> 00:00:53,309
Alexa devices and my Google home device

00:00:49,950 --> 00:00:55,320
together exactly so as long as that

00:00:53,309 --> 00:00:57,539
device can connect to the internet it

00:00:55,320 --> 00:00:59,219
can speak Putnam and if it can speak

00:00:57,539 --> 00:01:02,160
partner they can now talk to each other

00:00:59,219 --> 00:01:03,930
using one of our 70 different SDKs so

00:01:02,160 --> 00:01:05,519
when I said you can any device in the

00:01:03,930 --> 00:01:09,060
world I literally mean that because we

00:01:05,519 --> 00:01:11,700
have 70 different SDKs and so you choose

00:01:09,060 --> 00:01:13,650
your device you slap an SDK on it and

00:01:11,700 --> 00:01:15,930
now they can send data between each

00:01:13,650 --> 00:01:18,270
other in real time and then I say real

00:01:15,930 --> 00:01:20,220
time it's it's around 250 milliseconds

00:01:18,270 --> 00:01:21,869
so you could be in Australia I could be

00:01:20,220 --> 00:01:23,520
in California we're still talking to

00:01:21,869 --> 00:01:25,530
each other as if we were right next to

00:01:23,520 --> 00:01:27,509
each other so the whole point with real

00:01:25,530 --> 00:01:30,060
time is like hey as it happens in the

00:01:27,509 --> 00:01:32,460
real world we want we want to make that

00:01:30,060 --> 00:01:34,350
online experience just like that

00:01:32,460 --> 00:01:37,439
so it's seamless so it makes these apps

00:01:34,350 --> 00:01:39,509
more enjoyable to use because you're no

00:01:37,439 --> 00:01:40,680
longer refreshing the page or pressing

00:01:39,509 --> 00:01:42,659
the refresh button to get more

00:01:40,680 --> 00:01:44,520
information as it happens it's being

00:01:42,659 --> 00:01:46,649
pushed down to you so you're building

00:01:44,520 --> 00:01:48,540
that infrastructure for developers than

00:01:46,649 --> 00:01:50,970
to write their apps sitting on top of

00:01:48,540 --> 00:01:53,759
that real time infrastructure exactly so

00:01:50,970 --> 00:01:55,380
we believe that people shouldn't be

00:01:53,759 --> 00:01:58,469
wasting that time reinventing the wheel

00:01:55,380 --> 00:01:59,969
so we it's an interesting story because

00:01:58,469 --> 00:02:01,560
I found as they started building a

00:01:59,969 --> 00:02:02,700
real-time chat application themselves

00:02:01,560 --> 00:02:04,170
and they realize this are there all

00:02:02,700 --> 00:02:06,420
these pain points when trying to scale

00:02:04,170 --> 00:02:08,099
it out because you no longer maintain

00:02:06,420 --> 00:02:10,080
that latency or you have to worry about

00:02:08,099 --> 00:02:11,770
security you remain and how to scale

00:02:10,080 --> 00:02:13,660
this if I have a million use

00:02:11,770 --> 00:02:15,310
hitting my application so they've

00:02:13,660 --> 00:02:17,620
decided that there's probably more

00:02:15,310 --> 00:02:18,850
people facing the same pain points let's

00:02:17,620 --> 00:02:21,220
go ahead and build this real-time

00:02:18,850 --> 00:02:24,040
infrastructure so anyone in the gaming

00:02:21,220 --> 00:02:26,230
field or a collaboration space a home

00:02:24,040 --> 00:02:28,600
automation they all need this real-time

00:02:26,230 --> 00:02:31,270
infrastructure so we said hey let's make

00:02:28,600 --> 00:02:33,880
this accessible to these developers so

00:02:31,270 --> 00:02:35,980
now they use us as building blocks for

00:02:33,880 --> 00:02:38,650
their application so how do you discover

00:02:35,980 --> 00:02:40,870
new devices because you know the IOT

00:02:38,650 --> 00:02:42,730
world is changing really quickly you

00:02:40,870 --> 00:02:44,680
know how do you discover new devices

00:02:42,730 --> 00:02:47,530
that's so true because I used to work

00:02:44,680 --> 00:02:49,630
with IOT two years ago and literally

00:02:47,530 --> 00:02:51,970
every day there's a cheaper faster

00:02:49,630 --> 00:02:53,020
device that they want to use and the

00:02:51,970 --> 00:02:55,120
great thing is they all connect to the

00:02:53,020 --> 00:02:56,920
internet they're all amazing but what we

00:02:55,120 --> 00:03:00,700
decided was we've built as very

00:02:56,920 --> 00:03:05,230
low-level C SDK which can be tweaked to

00:03:00,700 --> 00:03:07,510
see uh since the C programming yeah sure

00:03:05,230 --> 00:03:09,760
so we've built this out and also for

00:03:07,510 --> 00:03:11,380
Raspberry Pi for Arduinos and all the

00:03:09,760 --> 00:03:13,360
slew of ports that come along with it

00:03:11,380 --> 00:03:16,540
like anything that Aetna does microchip

00:03:13,360 --> 00:03:18,220
anyone Birds we have SDKs for them so we

00:03:16,540 --> 00:03:19,510
tried it based on the demand that comes

00:03:18,220 --> 00:03:21,730
in like developer comes and says hey we

00:03:19,510 --> 00:03:23,470
have this new device can it fit in our

00:03:21,730 --> 00:03:25,150
team of developers we try to tweak it

00:03:23,470 --> 00:03:26,560
and make that possible for them so we

00:03:25,150 --> 00:03:28,600
can make it as small as possible because

00:03:26,560 --> 00:03:30,520
all these devices have a very small

00:03:28,600 --> 00:03:32,650
footprint so we make sure that any

00:03:30,520 --> 00:03:35,410
device can use our SDK and we also have

00:03:32,650 --> 00:03:38,020
a rest-based API so you don't have to

00:03:35,410 --> 00:03:40,330
use a particular SDK but you just make

00:03:38,020 --> 00:03:41,980
rest calls from the device to problem so

00:03:40,330 --> 00:03:43,930
do you see any patterns with the

00:03:41,980 --> 00:03:45,580
customers and the people that are using

00:03:43,930 --> 00:03:48,400
pub nub do you see any things that

00:03:45,580 --> 00:03:50,200
people are repeatedly doing yeah that

00:03:48,400 --> 00:03:52,630
they want that you could share with

00:03:50,200 --> 00:03:54,760
other people yeah for sure so even when

00:03:52,630 --> 00:03:57,250
we started out PubNub it was just a

00:03:54,760 --> 00:03:59,320
pub/sub messaging system between all of

00:03:57,250 --> 00:04:01,060
these devices and we realized that a lot

00:03:59,320 --> 00:04:02,740
more people wanted us to store their

00:04:01,060 --> 00:04:04,510
data and so we introduced a storage

00:04:02,740 --> 00:04:06,100
feature and then somebody came along and

00:04:04,510 --> 00:04:08,500
said hey I'm building this chat app I'm

00:04:06,100 --> 00:04:10,480
able to communicate between devices but

00:04:08,500 --> 00:04:12,100
now how do I figure out if someone's

00:04:10,480 --> 00:04:13,900
come online like how do I know like you

00:04:12,100 --> 00:04:15,580
know in Skype you see the green dot the

00:04:13,900 --> 00:04:17,350
red dot all these different statuses and

00:04:15,580 --> 00:04:19,390
so we're like okay so now people want

00:04:17,350 --> 00:04:22,360
present so let's add that and our most

00:04:19,390 --> 00:04:23,630
recent we realized that people always

00:04:22,360 --> 00:04:25,490
have to do some kind of

00:04:23,630 --> 00:04:26,870
processing of all the data that's going

00:04:25,490 --> 00:04:28,970
between devices like you want to do

00:04:26,870 --> 00:04:30,980
sentiment analysis I'll filter out some

00:04:28,970 --> 00:04:33,560
data if someone's sending stupid things

00:04:30,980 --> 00:04:35,360
on chat right so people who are pushing

00:04:33,560 --> 00:04:37,700
all the data back into their servers

00:04:35,360 --> 00:04:39,290
doing that processing there and pushing

00:04:37,700 --> 00:04:41,930
it back into partner which was

00:04:39,290 --> 00:04:44,780
inefficient we were like let's make our

00:04:41,930 --> 00:04:47,150
network programmable so they put small

00:04:44,780 --> 00:04:50,060
pieces of business logic on PubNub and

00:04:47,150 --> 00:04:52,070
so now as data flows between all of

00:04:50,060 --> 00:04:54,290
these devices we would do two a time

00:04:52,070 --> 00:04:55,850
data processing for them we're not

00:04:54,290 --> 00:04:57,200
talking about big data or not have one

00:04:55,850 --> 00:05:00,230
machine learning but small things like

00:04:57,200 --> 00:05:01,880
hey at mentions or translating a message

00:05:00,230 --> 00:05:03,560
of filtering out content things like

00:05:01,880 --> 00:05:06,440
that which need to be real-time and can

00:05:03,560 --> 00:05:09,140
be done very quickly we now allow

00:05:06,440 --> 00:05:11,510
developers to spin up micro services on

00:05:09,140 --> 00:05:12,980
a network to do so so it's like we see

00:05:11,510 --> 00:05:14,540
all these trends that people are like

00:05:12,980 --> 00:05:16,130
people always are saying hey these are

00:05:14,540 --> 00:05:18,260
our pain points and then we go ahead and

00:05:16,130 --> 00:05:19,370
build that on our network so we're

00:05:18,260 --> 00:05:20,600
always talking to developers trying to

00:05:19,370 --> 00:05:22,520
figure out what they want or what they

00:05:20,600 --> 00:05:25,820
need and try to make our system better

00:05:22,520 --> 00:05:27,470
but could someone in you know put in the

00:05:25,820 --> 00:05:29,720
loop here could they put machine

00:05:27,470 --> 00:05:32,810
learning and AI in that loop like say

00:05:29,720 --> 00:05:35,660
they had a smog sensor in city large

00:05:32,810 --> 00:05:37,520
cities that once you get to a certain

00:05:35,660 --> 00:05:39,260
threshold the machine learning turns on

00:05:37,520 --> 00:05:40,550
and you figure out things and then

00:05:39,260 --> 00:05:43,250
lights turn on and around the city

00:05:40,550 --> 00:05:44,750
people have to stop driving yeah yeah so

00:05:43,250 --> 00:05:46,910
this kind of real-time alerts right

00:05:44,750 --> 00:05:48,650
because maybe with your example like

00:05:46,910 --> 00:05:50,750
there's a threshold if it goes above

00:05:48,650 --> 00:05:53,300
this value we need to broadcast out a

00:05:50,750 --> 00:05:54,560
message to everybody that's exactly what

00:05:53,300 --> 00:05:57,440
we're trying to solve with functions

00:05:54,560 --> 00:05:58,880
because with PubNub itself you have the

00:05:57,440 --> 00:06:00,590
ability to send out a message to

00:05:58,880 --> 00:06:03,980
millions and millions of users with just

00:06:00,590 --> 00:06:06,410
one publish API and so combining that

00:06:03,980 --> 00:06:08,060
with these functions which lets you hit

00:06:06,410 --> 00:06:11,210
maybe a third-party service like Azure

00:06:08,060 --> 00:06:12,740
or micro I mean I BM or Watson any of

00:06:11,210 --> 00:06:15,410
these services to do that machine

00:06:12,740 --> 00:06:17,690
language processing you can do that from

00:06:15,410 --> 00:06:19,340
within a function and let that trigger

00:06:17,690 --> 00:06:20,920
something else so we're hoping that

00:06:19,340 --> 00:06:23,240
people move towards this very

00:06:20,920 --> 00:06:25,220
event-driven architecture which makes

00:06:23,240 --> 00:06:26,570
app very loosely coupled so that hey

00:06:25,220 --> 00:06:28,130
event X happened

00:06:26,570 --> 00:06:30,410
let me trigger something else oh this

00:06:28,130 --> 00:06:32,090
happened let me reach out like publish a

00:06:30,410 --> 00:06:33,259
message if this happened that means

00:06:32,090 --> 00:06:35,029
stored in a database

00:06:33,259 --> 00:06:37,550
so if it becomes event-driven that way

00:06:35,029 --> 00:06:39,529
then it's easier to build out that

00:06:37,550 --> 00:06:41,509
application and scale it so PubNub could

00:06:39,529 --> 00:06:43,999
be in the loop in that very easily yeah

00:06:41,509 --> 00:06:47,749
definitely so we I mean the PM's did a

00:06:43,999 --> 00:06:50,210
good job and even I found it so we we we

00:06:47,749 --> 00:06:51,770
foresaw this and so we built out our

00:06:50,210 --> 00:06:53,960
architecture to be able to fit in a

00:06:51,770 --> 00:06:55,909
plugin to existing systems that can

00:06:53,960 --> 00:06:58,939
trigger out a function so you're at a

00:06:55,909 --> 00:07:01,610
software architecture event yeah so why

00:06:58,939 --> 00:07:03,560
I mean I I get the architecture of what

00:07:01,610 --> 00:07:06,139
you're doing with at the edge and all

00:07:03,560 --> 00:07:08,240
the IOT devices but are the architects

00:07:06,139 --> 00:07:11,029
the ones that are going to be using the

00:07:08,240 --> 00:07:13,580
PubNub type service real-time yeah I

00:07:11,029 --> 00:07:15,460
mean so PubNub is a service that you

00:07:13,580 --> 00:07:17,659
have to integrate within your existing

00:07:15,460 --> 00:07:20,150
application and the architects are the

00:07:17,659 --> 00:07:22,249
ones who know broadly speaking from a

00:07:20,150 --> 00:07:24,529
higher perspective how everything fits

00:07:22,249 --> 00:07:26,449
in and so if we're able to talk to them

00:07:24,529 --> 00:07:27,860
they will now convey to their developer

00:07:26,449 --> 00:07:29,330
saying hey this is a great product it

00:07:27,860 --> 00:07:32,569
works well with the rest of the systems

00:07:29,330 --> 00:07:35,180
we have for our application so why don't

00:07:32,569 --> 00:07:37,069
we use them so I think it's a great

00:07:35,180 --> 00:07:39,680
place so we've been talking to suffer

00:07:37,069 --> 00:07:41,330
the last two days and it's been very

00:07:39,680 --> 00:07:43,789
interesting they're like hey we're using

00:07:41,330 --> 00:07:45,259
Kafka can problem work with this or why

00:07:43,789 --> 00:07:48,080
would I use problem versus something

00:07:45,259 --> 00:07:49,909
else and so all these very strategic

00:07:48,080 --> 00:07:52,009
questions or discussions that need to be

00:07:49,909 --> 00:07:53,930
had before a developer can actually pick

00:07:52,009 --> 00:07:56,330
up our SDK and work with it so I think

00:07:53,930 --> 00:07:57,680
it's it's been great and at the same

00:07:56,330 --> 00:07:59,389
time we're learning too because we're

00:07:57,680 --> 00:08:01,159
like okay people seem to be using a lot

00:07:59,389 --> 00:08:03,349
of these services so now we know how

00:08:01,159 --> 00:08:05,180
exactly it position ours with the rest

00:08:03,349 --> 00:08:07,249
of it so it's been a great fit excellent

00:08:05,180 --> 00:08:08,870
so Bodnar if we sit down twelve months

00:08:07,249 --> 00:08:12,169
from now yeah and have this conversation

00:08:08,870 --> 00:08:14,029
what will change for PubNub during that

00:08:12,169 --> 00:08:16,339
12 months I mean 12 months is a long

00:08:14,029 --> 00:08:17,899
time yeah what what do you see on your

00:08:16,339 --> 00:08:19,789
horizon that will change the way you

00:08:17,899 --> 00:08:22,039
guys do things yeah I mean so we're all

00:08:19,789 --> 00:08:25,669
always adding new functionalities to

00:08:22,039 --> 00:08:27,560
Pabna but again to ramp up time for

00:08:25,669 --> 00:08:30,169
developers to use any new feature that

00:08:27,560 --> 00:08:31,610
we launched is pretty long because you

00:08:30,169 --> 00:08:33,349
know they have to rethink the way they

00:08:31,610 --> 00:08:35,870
architect their application they have to

00:08:33,349 --> 00:08:38,149
now trust another service to do

00:08:35,870 --> 00:08:40,279
something for them especially when we

00:08:38,149 --> 00:08:42,769
make it so easy to build something there

00:08:40,279 --> 00:08:43,310
they're trusting us to power their role

00:08:42,769 --> 00:08:46,220
time

00:08:43,310 --> 00:08:47,990
and so it takes a while actually like 12

00:08:46,220 --> 00:08:50,060
months seems like a lot of time but

00:08:47,990 --> 00:08:52,160
we're seeing slow adoption of the

00:08:50,060 --> 00:08:54,980
function people are using it as you know

00:08:52,160 --> 00:08:57,500
added extensibility to their application

00:08:54,980 --> 00:08:59,300
but we're hoping that more people use

00:08:57,500 --> 00:09:00,740
this and like the event of an

00:08:59,300 --> 00:09:02,510
architecture that was talking more

00:09:00,740 --> 00:09:04,070
people build out these loosely coupled

00:09:02,510 --> 00:09:06,230
apps that make it so easy to unlock

00:09:04,070 --> 00:09:09,589
value from multiple cloud vendors and

00:09:06,230 --> 00:09:12,230
PubNub included so hoping that you know

00:09:09,589 --> 00:09:13,700
we see more amazing real-time

00:09:12,230 --> 00:09:15,620
application the people of it that's one

00:09:13,700 --> 00:09:17,240
great thing of working in patna we kind

00:09:15,620 --> 00:09:18,920
of see what everyone around the world

00:09:17,240 --> 00:09:21,410
what kind of new applications they're

00:09:18,920 --> 00:09:24,650
building so we're really hoping that

00:09:21,410 --> 00:09:26,450
that truly takes off and a lot more

00:09:24,650 --> 00:09:27,230
people are using minute excellent Bhavna

00:09:26,450 --> 00:09:29,089
we look forward to that conversation

00:09:27,230 --> 00:09:32,110
thank you yeah of course it was nice

00:09:29,089 --> 00:09:32,110
talking to you thank you

00:09:38,600 --> 00:09:40,660

YouTube URL: https://www.youtube.com/watch?v=Mi7SczJW7eA


