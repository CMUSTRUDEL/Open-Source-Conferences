Title: Building Kubernetes-native applications with Kris Nova (Heptio)
Publication date: 2018-10-08
Playlist: O'Reilly Velocity Conference 2018 - New York, New York
Description: 
	Subscribe to O'Reilly on YouTube: http://goo.gl/n3QSYi

Follow O'Reilly on: 
Twitter: http://twitter.com/oreillymedia
Facebook: http://facebook.com/OReilly
Instagram: https://www.instagram.com/oreillymedia
LinkedIn: https://www.linkedin.com/company-beta/8459/
Captions: 
	00:00:00,000 --> 00:00:05,279
hi Roger McGough is here velocity New

00:00:02,520 --> 00:00:07,170
York 2018 I'm here with Chris Nova the

00:00:05,279 --> 00:00:09,870
senior developer advocate at hefty Oh

00:00:07,170 --> 00:00:11,790
welcome Chris hi thanks me yeah so what

00:00:09,870 --> 00:00:12,269
does a cloud native infrastructure mean

00:00:11,790 --> 00:00:15,000
to you

00:00:12,269 --> 00:00:16,230
cloud native infrastructure uh well I

00:00:15,000 --> 00:00:19,500
think the first thing that comes to mind

00:00:16,230 --> 00:00:21,660
is my book cloud infrastructure I can

00:00:19,500 --> 00:00:24,750
see that yeah but I I don't know it's

00:00:21,660 --> 00:00:26,519
it's kind of tricky to to define i I

00:00:24,750 --> 00:00:29,580
think if you look at the patterns behind

00:00:26,519 --> 00:00:31,470
cloud native application development and

00:00:29,580 --> 00:00:33,110
apply a lot of those lessons and those a

00:00:31,470 --> 00:00:35,910
lot of a lot of those philosophies to

00:00:33,110 --> 00:00:38,129
managing and mutating infrastructure in

00:00:35,910 --> 00:00:39,420
your your stack I think that's where

00:00:38,129 --> 00:00:41,850
cloud native infrastructure starts to

00:00:39,420 --> 00:00:44,129
come to life and really seeing is you

00:00:41,850 --> 00:00:45,780
know taking these ideas and writing

00:00:44,129 --> 00:00:48,690
software to manage our infrastructure

00:00:45,780 --> 00:00:50,460
mm-hmm so I'm guessing it also means

00:00:48,690 --> 00:00:53,430
something about cloud first it's like

00:00:50,460 --> 00:00:55,739
that's the implied assumption and that

00:00:53,430 --> 00:00:58,739
means you get the easy procurement the

00:00:55,739 --> 00:01:00,359
easy scaling room totally I you know a

00:00:58,739 --> 00:01:02,129
lot of these patterns wouldn't exist if

00:01:00,359 --> 00:01:04,710
we didn't have the cloud where we could

00:01:02,129 --> 00:01:06,390
just you know send an HTTP request up to

00:01:04,710 --> 00:01:07,770
somewhere and there's this magical pool

00:01:06,390 --> 00:01:09,119
of resources that appears to be

00:01:07,770 --> 00:01:11,070
never-ending and you just get

00:01:09,119 --> 00:01:12,540
pre-compute or you know relatively free

00:01:11,070 --> 00:01:17,310
forbidden engineering but somebody's

00:01:12,540 --> 00:01:19,500
gonna pay for it yeah so you mix it's

00:01:17,310 --> 00:01:22,200
nothing but a declarative infrastructure

00:01:19,500 --> 00:01:23,939
I'm curious what you mean um so yeah the

00:01:22,200 --> 00:01:26,009
word declarative is like an interesting

00:01:23,939 --> 00:01:27,210
word especially in kubernetes which is

00:01:26,009 --> 00:01:30,750
where a lot of the the cloud native

00:01:27,210 --> 00:01:32,820
topics come from to me when I when I say

00:01:30,750 --> 00:01:35,100
declarative it just sort of it means

00:01:32,820 --> 00:01:38,280
this idea of defining some abstraction

00:01:35,100 --> 00:01:40,020
some state and you know saving that in

00:01:38,280 --> 00:01:41,520
the API server in kubernetes and then

00:01:40,020 --> 00:01:44,430
you'll have this controller operator

00:01:41,520 --> 00:01:45,750
that reads and reconciles that state and

00:01:44,430 --> 00:01:47,159
again applying that to infrastructure

00:01:45,750 --> 00:01:48,810
you know how do how do we scale our

00:01:47,159 --> 00:01:51,060
cluster or what is our load balancer

00:01:48,810 --> 00:01:53,130
look like what are our firewalls look

00:01:51,060 --> 00:01:56,100
like and you know having a controller to

00:01:53,130 --> 00:01:59,009
enforce that over time mm-hmm so what is

00:01:56,100 --> 00:01:59,930
the kubernetes cluster API oh that's

00:01:59,009 --> 00:02:02,600
such a great question

00:01:59,930 --> 00:02:06,229
so the kubernetes cluster API

00:02:02,600 --> 00:02:08,119
is a great example of a bad name it's

00:02:06,229 --> 00:02:10,369
really like a cluster of framework that

00:02:08,119 --> 00:02:13,580
has an API and there's a lot of tooling

00:02:10,369 --> 00:02:16,760
in place to help engineers build their

00:02:13,580 --> 00:02:19,730
own implementation for this API the the

00:02:16,760 --> 00:02:22,190
TLDR of it is about a year and a half

00:02:19,730 --> 00:02:23,930
ago myself a couple of the other

00:02:22,190 --> 00:02:26,330
infrastructure engineers and kubernetes

00:02:23,930 --> 00:02:29,209
upstream a handful of folks from Google

00:02:26,330 --> 00:02:31,520
Robert Bailey it's one of the other

00:02:29,209 --> 00:02:33,050
organizers of the group now we kind of

00:02:31,520 --> 00:02:35,000
got together and said you know we're

00:02:33,050 --> 00:02:37,010
tired of the fragmented infrastructure

00:02:35,000 --> 00:02:39,080
space in kubernetes everybody has a

00:02:37,010 --> 00:02:40,370
different way of doing something and a

00:02:39,080 --> 00:02:41,720
different way of representing something

00:02:40,370 --> 00:02:44,360
we would like to bring the community

00:02:41,720 --> 00:02:46,519
together so we started working on a

00:02:44,360 --> 00:02:48,590
standardized API friends infrastructure

00:02:46,519 --> 00:02:50,780
and then we started to write tooling to

00:02:48,590 --> 00:02:52,580
make it easy for various cloud providers

00:02:50,780 --> 00:02:55,400
to have an implementation right now

00:02:52,580 --> 00:02:58,580
Google has one myself and a handful of

00:02:55,400 --> 00:02:59,900
folks at hep tio are working on an AWS

00:02:58,580 --> 00:03:00,530
implementation there's one for

00:02:59,900 --> 00:03:02,230
digitalocean

00:03:00,530 --> 00:03:04,700
I think VMware has been working on one

00:03:02,230 --> 00:03:06,560
so it's just finally the community

00:03:04,700 --> 00:03:08,810
coming together and agreeing on how to

00:03:06,560 --> 00:03:11,660
represent our infrastructure mm-hmm this

00:03:08,810 --> 00:03:14,600
is like rest-based is it um I mean it's

00:03:11,660 --> 00:03:16,430
it's using a kubernetes CRD well it

00:03:14,600 --> 00:03:18,350
should be I'm not sure if that pull

00:03:16,430 --> 00:03:20,989
request got merged it the long-term goal

00:03:18,350 --> 00:03:22,640
is for it to be a kubernetes Cid which

00:03:20,989 --> 00:03:24,709
basically is just a way of representing

00:03:22,640 --> 00:03:26,930
an arbitrary object in the kubernetes

00:03:24,709 --> 00:03:28,250
datastore and so there's not really

00:03:26,930 --> 00:03:30,230
different endpoints you would call you

00:03:28,250 --> 00:03:33,350
would use the kubernetes tooling as it

00:03:30,230 --> 00:03:35,660
stands to interact that object we're

00:03:33,350 --> 00:03:37,549
seeing on our safari platform we see a

00:03:35,660 --> 00:03:39,950
lot of people getting more and more

00:03:37,549 --> 00:03:41,320
interested in kubernetes do you think

00:03:39,950 --> 00:03:45,260
kubernetes is ready for the enterprise

00:03:41,320 --> 00:03:46,579
absolutely um my talk tomorrow at 2 p.m.

00:03:45,260 --> 00:03:49,670
is called moving an enterprise

00:03:46,579 --> 00:03:51,109
application to kubernetes I think you

00:03:49,670 --> 00:03:53,120
know one of the big questions I bring up

00:03:51,109 --> 00:03:55,129
in the talk is it's not if kubernetes is

00:03:53,120 --> 00:03:57,560
ready for the enterprise is it

00:03:55,129 --> 00:04:00,019
it's if your enterprise application is

00:03:57,560 --> 00:04:02,239
ready for kubernetes and if you're gonna

00:04:00,019 --> 00:04:04,370
find value and benefit from from a move

00:04:02,239 --> 00:04:06,950
to kubernetes we're finding the trend is

00:04:04,370 --> 00:04:09,349
that most folks have a lot to gain from

00:04:06,950 --> 00:04:11,180
moving to kubernetes we just want to

00:04:09,349 --> 00:04:12,680
remind folks that it does come at sort

00:04:11,180 --> 00:04:14,480
of a bit of an investment there's a cost

00:04:12,680 --> 00:04:15,859
associated with that we just want to

00:04:14,480 --> 00:04:18,380
demonstrate that the value outweighs

00:04:15,859 --> 00:04:20,930
that cost mm-hmm and it's a class most

00:04:18,380 --> 00:04:22,910
like resource time is it I mean it's a

00:04:20,930 --> 00:04:24,800
lot kubernetes is you're introducing

00:04:22,910 --> 00:04:26,449
complexity at first and then that

00:04:24,800 --> 00:04:28,250
complexity stabilizes and actually

00:04:26,449 --> 00:04:30,289
reduces complexity for your team moving

00:04:28,250 --> 00:04:32,780
forward so I think the cost is

00:04:30,289 --> 00:04:35,660
everything from engineer hours to just

00:04:32,780 --> 00:04:37,820
general learning curve to rethinking

00:04:35,660 --> 00:04:40,789
about how we're building and developing

00:04:37,820 --> 00:04:42,050
and running our applications so how long

00:04:40,789 --> 00:04:44,030
do you think it takes for some to become

00:04:42,050 --> 00:04:47,660
kubernetes native to become kubernetes

00:04:44,030 --> 00:04:48,889
native um so I think I feel cheesy

00:04:47,660 --> 00:04:51,620
saying this but I feel like it's a

00:04:48,889 --> 00:04:53,810
lifetime of learning like I look at

00:04:51,620 --> 00:04:55,820
myself and you know being a Linux user

00:04:53,810 --> 00:04:59,419
I'm a full-time Linux user whenever I

00:04:55,820 --> 00:05:02,060
develop I I don't think I am or will

00:04:59,419 --> 00:05:03,530
ever be complete on that journey I think

00:05:02,060 --> 00:05:05,120
it's a lifetime of learning I feel like

00:05:03,530 --> 00:05:07,190
you know within a couple of months you

00:05:05,120 --> 00:05:09,530
learn the basics of kubernetes and then

00:05:07,190 --> 00:05:11,210
you spend you know the rest of your

00:05:09,530 --> 00:05:13,430
career learning more as the tooling

00:05:11,210 --> 00:05:16,639
progresses and as your you know specific

00:05:13,430 --> 00:05:17,509
journey progresses I would say it's just

00:05:16,639 --> 00:05:18,979
as some of those words a lot of

00:05:17,509 --> 00:05:20,240
engineers that's exactly the kind of

00:05:18,979 --> 00:05:22,669
attitude that makes someone a great

00:05:20,240 --> 00:05:24,139
engineer oh thanks so that there's

00:05:22,669 --> 00:05:27,650
always something else to learn about

00:05:24,139 --> 00:05:30,409
something yes like I do you know we do a

00:05:27,650 --> 00:05:32,150
weekly webinar an FTO I call TGI K and

00:05:30,409 --> 00:05:33,710
every week we're able to come up with a

00:05:32,150 --> 00:05:35,449
handful of things that have changed

00:05:33,710 --> 00:05:37,460
since the previous week and cloud native

00:05:35,449 --> 00:05:39,409
so you know it's out there if you look

00:05:37,460 --> 00:05:40,669
for it you just gotta you know you have

00:05:39,409 --> 00:05:42,050
to know where to look it I'll be ready

00:05:40,669 --> 00:05:44,840
for it and how would you say the

00:05:42,050 --> 00:05:47,360
maturity is at this point of kubernetes

00:05:44,840 --> 00:05:48,919
yeah in terms of you've mentioned that

00:05:47,360 --> 00:05:51,440
there's a lot of changes and in the kind

00:05:48,919 --> 00:05:52,610
of modern era of there's a lot of

00:05:51,440 --> 00:05:56,479
releases and

00:05:52,610 --> 00:05:59,629
constant updating in terms of that like

00:05:56,479 --> 00:06:02,180
kind of curve of of change how do you

00:05:59,629 --> 00:06:03,620
think um well I think you know we've

00:06:02,180 --> 00:06:07,400
been at a point where you can run a

00:06:03,620 --> 00:06:09,530
basic application in kubernetes well for

00:06:07,400 --> 00:06:11,479
quite some time now a lot of the changes

00:06:09,530 --> 00:06:13,849
we'll see you today is making very like

00:06:11,479 --> 00:06:16,430
Anish improvements that there's two very

00:06:13,849 --> 00:06:18,379
specific East cases tuning the network

00:06:16,430 --> 00:06:20,870
like getting it ready for scale things

00:06:18,379 --> 00:06:23,120
like that so I think it's I think it's

00:06:20,870 --> 00:06:25,129
there it it's ready already I think you

00:06:23,120 --> 00:06:26,930
know as as you go on the cloud native

00:06:25,129 --> 00:06:28,490
journey you're gonna learn more about

00:06:26,930 --> 00:06:28,849
specific things that are important to

00:06:28,490 --> 00:06:30,800
you

00:06:28,849 --> 00:06:33,250
that sounds great well thanks for your

00:06:30,800 --> 00:06:33,250

YouTube URL: https://www.youtube.com/watch?v=I1G8xDcr72Y


