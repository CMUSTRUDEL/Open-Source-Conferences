Title: Understanding and Managing Security Events (sponsored by Oracle Dyn) - Laurent Gil
Publication date: 2018-10-09
Playlist: O'Reilly Velocity Conference 2018 - New York, New York
Description: 
	This keynote will present the latest cybersecurity research findings based on real-world security operations and will share innovative approaches to managing and mitigating security events at the cloud edge.

Subscribe to O'Reilly on YouTube: http://goo.gl/n3QSYi

Follow O'Reilly on: 
Twitter: http://twitter.com/oreillymedia
Facebook: http://facebook.com/OReilly
Instagram: https://www.instagram.com/oreillymedia
LinkedIn: https://www.linkedin.com/company-beta/8459/
Captions: 
	00:00:00,089 --> 00:00:05,780
thank you guys so it's very it's a

00:00:02,970 --> 00:00:05,780
pleasure to be here

00:00:05,850 --> 00:00:10,710
I was the founder of a company called

00:00:07,950 --> 00:00:14,130
Zen edge and my company was acquired by

00:00:10,710 --> 00:00:15,690
Oracle five months ago so it's a double

00:00:14,130 --> 00:00:20,010
pleasure to be here and to be able to

00:00:15,690 --> 00:00:23,039
speak to these fantastic audience I want

00:00:20,010 --> 00:00:25,170
to talk to you about you versus the

00:00:23,039 --> 00:00:28,140
Internet and it's true I did change some

00:00:25,170 --> 00:00:30,929
of these slides because I wanted to show

00:00:28,140 --> 00:00:32,969
you some latest result of cybersecurity

00:00:30,929 --> 00:00:36,239
attacks that we have identified in the

00:00:32,969 --> 00:00:39,660
past few days so anatomy of an attack

00:00:36,239 --> 00:00:43,980
here is what happened this was in July

00:00:39,660 --> 00:00:49,320
of this year so three months ago an ISP

00:00:43,980 --> 00:00:52,219
in Indonesia suffered to advertise five

00:00:49,320 --> 00:00:54,629
IP blocks that do not belong to them

00:00:52,219 --> 00:00:57,329
advertised 5fe blocks means that

00:00:54,629 --> 00:00:59,850
temporarily for the internet it looks

00:00:57,329 --> 00:01:03,650
like all the machines that are that

00:00:59,850 --> 00:01:06,119
belong to these IP addresses belong to

00:01:03,650 --> 00:01:09,390
this is B so all the traffic that

00:01:06,119 --> 00:01:14,000
normally goes to q9 networks in Canada

00:01:09,390 --> 00:01:17,520
was going for 30 minutes - that is B in

00:01:14,000 --> 00:01:19,890
Indonesia something very weird was

00:01:17,520 --> 00:01:21,750
happening and it didn't happen only once

00:01:19,890 --> 00:01:23,490
actually happened a few times this is

00:01:21,750 --> 00:01:26,670
just an example of it happened a few

00:01:23,490 --> 00:01:29,640
times over a few days the second hijack

00:01:26,670 --> 00:01:32,159
was done by extreme I was a hack inside

00:01:29,640 --> 00:01:36,299
extreme broadband which is another ISP

00:01:32,159 --> 00:01:37,979
in Malaysia for the same IP blocks so

00:01:36,299 --> 00:01:40,350
something weird is happening for these

00:01:37,979 --> 00:01:42,420
certain minutes to a few hours the

00:01:40,350 --> 00:01:45,869
entire traffic that normally goes let's

00:01:42,420 --> 00:01:50,100
say to some machines in q9 in Canada is

00:01:45,869 --> 00:01:53,520
now being redirected entirely into some

00:01:50,100 --> 00:01:57,960
obscure cloud services in Indonesia or

00:01:53,520 --> 00:02:00,950
Malaysia unfortunately one of these IP

00:01:57,960 --> 00:02:04,500
was used by a financial institution a

00:02:00,950 --> 00:02:07,200
very large payment gateway that is used

00:02:04,500 --> 00:02:09,239
by a lot of e-commerce companies this

00:02:07,200 --> 00:02:11,830
financial institution was using this IP

00:02:09,239 --> 00:02:15,150
as their DNS server

00:02:11,830 --> 00:02:19,000
so what happened there is any traffic

00:02:15,150 --> 00:02:21,490
going to the payment gateway of that

00:02:19,000 --> 00:02:25,360
financial institution that is normally

00:02:21,490 --> 00:02:29,320
hosted in q9 in Canada the traffic to

00:02:25,360 --> 00:02:31,410
that DNS is being redirected to a server

00:02:29,320 --> 00:02:35,050
in Indonesia and then in Malaysia

00:02:31,410 --> 00:02:37,720
because it's a DNS server the resolver

00:02:35,050 --> 00:02:40,000
of that query point the site of the

00:02:37,720 --> 00:02:42,460
payment gateway to a different location

00:02:40,000 --> 00:02:45,280
and that was the IP address that was

00:02:42,460 --> 00:02:47,350
used and at first we thought this was in

00:02:45,280 --> 00:02:49,990
coração and then we find out that this

00:02:47,350 --> 00:02:52,330
machine was in Ukraine in Luhansk in

00:02:49,990 --> 00:02:54,970
East Ukraine so here's what happened

00:02:52,330 --> 00:02:57,160
during this attack anybody going to an

00:02:54,970 --> 00:02:59,380
e-commerce company making a payment

00:02:57,160 --> 00:03:02,710
using that financial institution as a

00:02:59,380 --> 00:03:06,460
payment gateway would instead receive a

00:03:02,710 --> 00:03:09,730
site that looks like the payment gateway

00:03:06,460 --> 00:03:12,220
of that financial institution but in

00:03:09,730 --> 00:03:16,000
fact instead of sending your credit card

00:03:12,220 --> 00:03:19,150
number to that financial company you

00:03:16,000 --> 00:03:23,830
were giving this away to a team of

00:03:19,150 --> 00:03:26,650
hackers in the Ukraine the only way to

00:03:23,830 --> 00:03:28,690
find this out is if you ensure that all

00:03:26,650 --> 00:03:30,489
your applications are effectively all

00:03:28,690 --> 00:03:32,560
the DNS resolver of your applications

00:03:30,489 --> 00:03:34,860
are effectively pointing to your

00:03:32,560 --> 00:03:37,780
application and not someone else

00:03:34,860 --> 00:03:40,060
this happened five times since then the

00:03:37,780 --> 00:03:42,370
first attack was in April to Amazon and

00:03:40,060 --> 00:03:45,370
there was a few attacks on the 6th of

00:03:42,370 --> 00:03:49,560
July we think that this is just the

00:03:45,370 --> 00:03:49,560
beginning of a new type of DNS hijacking

00:03:49,890 --> 00:03:57,100
of course q9 network in Canada noticed

00:03:54,670 --> 00:03:59,200
it after a few some time and they

00:03:57,100 --> 00:04:01,750
started to realize the IP they started

00:03:59,200 --> 00:04:04,420
to say to the Internet hey these five

00:04:01,750 --> 00:04:06,550
blocks that people thought we're in

00:04:04,420 --> 00:04:08,530
Indonesia they are not in Indonesia and

00:04:06,550 --> 00:04:10,840
they are in Canada please send us back

00:04:08,530 --> 00:04:13,600
the traffic but the hackers were very

00:04:10,840 --> 00:04:16,720
smart they did a TTL a time to leave on

00:04:13,600 --> 00:04:18,700
their DNS query of five hours so if you

00:04:16,720 --> 00:04:21,010
are a consumer and you keep going back

00:04:18,700 --> 00:04:22,870
to that ecommerce company to buy stuff

00:04:21,010 --> 00:04:24,820
for five hours

00:04:22,870 --> 00:04:25,510
you are going to be redirected to a

00:04:24,820 --> 00:04:28,450
server in the

00:04:25,510 --> 00:04:31,420
Ukraine so these are the kind of things

00:04:28,450 --> 00:04:34,600
we see online I have a few more example

00:04:31,420 --> 00:04:39,340
of similar thing so another customer

00:04:34,600 --> 00:04:41,350
versus the fantastic customer it's a

00:04:39,340 --> 00:04:43,210
place where you go online and if you

00:04:41,350 --> 00:04:44,680
want to see all the dentist in New York

00:04:43,210 --> 00:04:47,440
you go online you type the word dentist

00:04:44,680 --> 00:04:49,780
you press ENTER you say and you receive

00:04:47,440 --> 00:04:52,570
the list of dentist in New York and you

00:04:49,780 --> 00:04:55,180
can call them our booking appointment

00:04:52,570 --> 00:04:57,310
this is a very useful tool it's been

00:04:55,180 --> 00:05:00,280
used by a lot of companies all over the

00:04:57,310 --> 00:05:02,140
world so you have you and humans and end

00:05:00,280 --> 00:05:03,490
users as well so you can see all the

00:05:02,140 --> 00:05:06,000
dentist in New York when you're looking

00:05:03,490 --> 00:05:09,340
for this here is a normal traffic of

00:05:06,000 --> 00:05:13,300
that website so it's normal at night

00:05:09,340 --> 00:05:15,970
nobody's using it and then when the day

00:05:13,300 --> 00:05:17,830
start we start to look for dentist

00:05:15,970 --> 00:05:19,720
during the day we take some lunch comes

00:05:17,830 --> 00:05:23,010
back in the afternoon and then he dies

00:05:19,720 --> 00:05:24,550
at night this is a typical graph of

00:05:23,010 --> 00:05:27,310
Internet traffic

00:05:24,550 --> 00:05:31,540
however you may notice something at 2:00

00:05:27,310 --> 00:05:34,660
and 4:00 a.m. this is local time in you

00:05:31,540 --> 00:05:36,580
in Europe so this is mid day here in New

00:05:34,660 --> 00:05:38,920
York between 2:00 and 4:00 a.m. there is

00:05:36,580 --> 00:05:40,960
a small increase of traffic you see in

00:05:38,920 --> 00:05:42,880
the green in the bottom line and they

00:05:40,960 --> 00:05:45,730
started to puzzle us and we looked at it

00:05:42,880 --> 00:05:47,890
this was in fact traffic that was

00:05:45,730 --> 00:05:50,110
blocked by some of the most

00:05:47,890 --> 00:05:52,510
sophisticated but management tools that

00:05:50,110 --> 00:05:56,140
we have this is a real customer this is

00:05:52,510 --> 00:05:59,340
real data between 2:00 a.m. assault

00:05:56,140 --> 00:06:03,040
between 4:00 a.m. and 8:00 a.m. that day

00:05:59,340 --> 00:06:06,250
there is a huge amount of requests that

00:06:03,040 --> 00:06:08,950
our machine says hey these are not human

00:06:06,250 --> 00:06:10,900
requests they look like bot requests and

00:06:08,950 --> 00:06:13,510
so this puzzle is a little bit and we

00:06:10,900 --> 00:06:16,030
start to look at what is this where they

00:06:13,510 --> 00:06:17,940
come from and what is the purpose of

00:06:16,030 --> 00:06:19,750
this so the first thing we do is well

00:06:17,940 --> 00:06:22,690
how many IPs

00:06:19,750 --> 00:06:27,370
are the bad guys using and the answer is

00:06:22,690 --> 00:06:29,950
too many meaning so many that are spread

00:06:27,370 --> 00:06:32,230
everywhere that you actually cannot have

00:06:29,950 --> 00:06:34,870
any this can be cannot give you any

00:06:32,230 --> 00:06:37,300
information on who are the bad guys they

00:06:34,870 --> 00:06:38,840
are using a very sophisticated very

00:06:37,300 --> 00:06:41,660
spread

00:06:38,840 --> 00:06:45,020
but that there was more than 500 of

00:06:41,660 --> 00:06:47,750
these we also look at some of the more

00:06:45,020 --> 00:06:50,600
traditional way of identifying BOTS and

00:06:47,750 --> 00:06:52,580
you see between 4:00 and 6:00 a.m. there

00:06:50,600 --> 00:06:56,330
is no increase of traffic here here is

00:06:52,580 --> 00:06:59,840
our bot manager using simpler bot

00:06:56,330 --> 00:07:02,330
detection simpler means are using Chrome

00:06:59,840 --> 00:07:04,970
and you're using Safari are using edge

00:07:02,330 --> 00:07:07,310
or Internet Explorer and if the answer

00:07:04,970 --> 00:07:09,500
is no you're probably not human you're

00:07:07,310 --> 00:07:11,810
public but this spot were very

00:07:09,500 --> 00:07:15,290
sophisticated because they were using

00:07:11,810 --> 00:07:17,300
some techniques that were simulating

00:07:15,290 --> 00:07:19,729
very very well what the end user

00:07:17,300 --> 00:07:22,340
machines would be the only way we were

00:07:19,729 --> 00:07:26,000
able to identify these guys is by using

00:07:22,340 --> 00:07:28,940
some butt detection that are linked to

00:07:26,000 --> 00:07:30,830
the user behavior and in fact we look at

00:07:28,940 --> 00:07:33,560
what these guys were doing they were

00:07:30,830 --> 00:07:35,419
they were going to the site they were

00:07:33,560 --> 00:07:37,940
looking for dentist in New York the only

00:07:35,419 --> 00:07:40,490
thing they would do is click Next this

00:07:37,940 --> 00:07:42,530
was a crawler they were stealing our

00:07:40,490 --> 00:07:44,990
customer information that's the only

00:07:42,530 --> 00:07:47,539
thing they would they were doing I have

00:07:44,990 --> 00:07:49,310
more examples this is an airline I go

00:07:47,539 --> 00:07:50,750
first on this one this is a brochure way

00:07:49,310 --> 00:07:53,660
of the airline this is also a real

00:07:50,750 --> 00:07:55,250
customer of us this is where you put

00:07:53,660 --> 00:07:57,229
your city pair you want to fly from

00:07:55,250 --> 00:07:59,630
Singapore to Hong Kong you press ok and

00:07:57,229 --> 00:08:03,169
then you go to the booking site which is

00:07:59,630 --> 00:08:05,030
this one for the user this look the same

00:08:03,169 --> 00:08:07,340
it's the same application well

00:08:05,030 --> 00:08:11,690
unfortunately the first one the brochure

00:08:07,340 --> 00:08:15,410
where is in Hong Kong SoftLayer the

00:08:11,690 --> 00:08:18,320
booking site is in Sydney at WS Sydney

00:08:15,410 --> 00:08:20,660
AWS had a very weak application security

00:08:18,320 --> 00:08:22,880
or Application Firewall the Hong Kong

00:08:20,660 --> 00:08:24,979
one has great one the Sydney one did not

00:08:22,880 --> 00:08:27,650
the Sydney one is where you booked and

00:08:24,979 --> 00:08:29,599
put your critical number this is an

00:08:27,650 --> 00:08:31,849
example of what the bad guys were doing

00:08:29,599 --> 00:08:35,209
they were crawling the booking site

00:08:31,849 --> 00:08:37,430
looking for pricing of city pair

00:08:35,209 --> 00:08:40,070
it's a crawler again it's called data

00:08:37,430 --> 00:08:42,740
intelligence they are stealing pricing

00:08:40,070 --> 00:08:45,620
of city pairs so they can sell this

00:08:42,740 --> 00:08:49,430
again to their cut to the competition of

00:08:45,620 --> 00:08:52,340
this airline this so in this is a rare

00:08:49,430 --> 00:08:55,630
case where we call unquote hack the hack

00:08:52,340 --> 00:08:58,510
meaning we went into the hackers site

00:08:55,630 --> 00:09:00,950
they were based in in the Czech Republic

00:08:58,510 --> 00:09:02,750
this site the hackers which would need

00:09:00,950 --> 00:09:04,610
some cyber security system because they

00:09:02,750 --> 00:09:07,730
didn't have any password to their

00:09:04,610 --> 00:09:09,530
machines and we actually found we found

00:09:07,730 --> 00:09:12,020
this file this file was not from our

00:09:09,530 --> 00:09:14,840
client but this one this file was still

00:09:12,020 --> 00:09:17,740
stolen by the hackers if he's pricing

00:09:14,840 --> 00:09:23,180
for a steeper between Lisbon and

00:09:17,740 --> 00:09:26,180
Budapest in 2013 so this is these were

00:09:23,180 --> 00:09:28,460
real bad guys stealing public

00:09:26,180 --> 00:09:30,440
information for the purpose of reselling

00:09:28,460 --> 00:09:35,150
that information of that intelligence to

00:09:30,440 --> 00:09:37,040
other airlines then my last example is

00:09:35,150 --> 00:09:39,800
one of my favorite one sometimes there

00:09:37,040 --> 00:09:41,690
are outages but not always this is a

00:09:39,800 --> 00:09:44,240
country that had three our teachers in

00:09:41,690 --> 00:09:47,030
June this is the zoom of one day of the

00:09:44,240 --> 00:09:50,360
OTS the entire country was off for two

00:09:47,030 --> 00:09:52,880
hours well it was not an outage the

00:09:50,360 --> 00:09:54,500
country is Syria and they block the

00:09:52,880 --> 00:09:57,080
internet of the whole place for two

00:09:54,500 --> 00:09:59,600
hours because it was a an exam that day

00:09:57,080 --> 00:10:04,250
and they didn't want high school student

00:09:59,600 --> 00:10:05,780
to look online for the answers so so our

00:10:04,250 --> 00:10:07,430
job is sometimes funny we think oh my

00:10:05,780 --> 00:10:10,100
god there's an attack there's no attack

00:10:07,430 --> 00:10:11,720
this is just something that the country

00:10:10,100 --> 00:10:14,690
did the same thing happen in Iraq the

00:10:11,720 --> 00:10:18,920
same week and the last one is one of my

00:10:14,690 --> 00:10:20,630
favorite the entire internet of one

00:10:18,920 --> 00:10:23,780
country in Asia

00:10:20,630 --> 00:10:29,780
normally use access from China and from

00:10:23,780 --> 00:10:33,740
Russia as you can see here at 12 on June

00:10:29,780 --> 00:10:39,250
11 that country decided to receive

00:10:33,740 --> 00:10:43,670
Internet access only for Russia June 11

00:10:39,250 --> 00:10:45,920
the country is North Korea June 11 is

00:10:43,670 --> 00:10:50,140
when Kim jong-il met the President Trump

00:10:45,920 --> 00:10:52,730
in Singapore June 11 is also the day

00:10:50,140 --> 00:10:56,330
where we started to see a lot of small

00:10:52,730 --> 00:10:58,960
attacks coming from Russia to Singapore

00:10:56,330 --> 00:11:02,330
and they were looking at government

00:10:58,960 --> 00:11:05,240
assets but we don't take any conclusion

00:11:02,330 --> 00:11:06,170
here we're not sure of this but it is

00:11:05,240 --> 00:11:09,170
weird thing

00:11:06,170 --> 00:11:11,260
say that the same day as the leader of

00:11:09,170 --> 00:11:14,690
two countries are meeting in Singapore

00:11:11,260 --> 00:11:17,560
the entire internet of that country is

00:11:14,690 --> 00:11:19,760
being served from a Russian ISP and

00:11:17,560 --> 00:11:24,140
there are a lot of Russian attacks

00:11:19,760 --> 00:11:27,260
coming to Singapore during 11 so these

00:11:24,140 --> 00:11:29,600
are kind of things we see from time to

00:11:27,260 --> 00:11:31,580
time we see a lot more of course if you

00:11:29,600 --> 00:11:34,670
want more stories please visit us at our

00:11:31,580 --> 00:11:37,100
booth and almost all of the example I'll

00:11:34,670 --> 00:11:39,410
show you here there exists a lot of

00:11:37,100 --> 00:11:40,850
solutions and platform that handle these

00:11:39,410 --> 00:11:43,040
that they take these attacks that

00:11:40,850 --> 00:11:45,500
mitigate them we're not the only one

00:11:43,040 --> 00:11:50,870
that do this but we do it very very well

00:11:45,500 --> 00:11:52,070
because these were my products and we

00:11:50,870 --> 00:11:54,500
have also a lot of colleagues in this

00:11:52,070 --> 00:11:56,110
room that do this very well as well so

00:11:54,500 --> 00:12:01,019
thank you very much for your time

00:11:56,110 --> 00:12:01,019
[Applause]

00:12:06,000 --> 00:12:08,060

YouTube URL: https://www.youtube.com/watch?v=KPOwahlgdQU


