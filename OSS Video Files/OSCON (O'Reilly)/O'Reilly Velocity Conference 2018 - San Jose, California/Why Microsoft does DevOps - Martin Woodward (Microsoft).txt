Title: Why Microsoft does DevOps - Martin Woodward (Microsoft)
Publication date: 2018-06-13
Playlist: O'Reilly Velocity Conference 2018 - San Jose, California
Description: 
	Martin Woodward leads a whistle-stop tour of Microsoft's seven-year DevOps journey, explaining why the company embarked on this transformation and what benefits it has already seen.

Join us in person at the O'Reilly Velocity Conference to learn to build and manage performant, distributed, resilient, and highly available websites and applications. Learn more: https://oreil.ly/2LFc8Gw

Subscribe to O'Reilly on YouTube: http://goo.gl/n3QSYi

Follow O'Reilly on: 
Twitter: http://twitter.com/oreillymedia
Facebook: http://facebook.com/OReilly
Instagram: https://www.instagram.com/oreillymedia
LinkedIn: https://www.linkedin.com/company-beta/8459/
Captions: 
	00:00:01,740 --> 00:00:07,779
hey everybody my name is Martin Woodard

00:00:05,620 --> 00:00:09,670
Martin whoo at Microsoft comics want to

00:00:07,779 --> 00:00:11,770
email me or at Martin wouldwould if you

00:00:09,670 --> 00:00:14,500
want to shout abuse at me on Twitter I

00:00:11,770 --> 00:00:16,240
work on a thing called V STS visual

00:00:14,500 --> 00:00:18,519
studio team services the James mentioned

00:00:16,240 --> 00:00:21,070
and that's a collection of tools to help

00:00:18,519 --> 00:00:23,169
your software team collaborate so agile

00:00:21,070 --> 00:00:25,089
tracking build release management source

00:00:23,169 --> 00:00:27,339
control all that sort of stuff now we

00:00:25,089 --> 00:00:29,529
have millions of people who use that you

00:00:27,339 --> 00:00:32,680
know for real work but we also use it

00:00:29,529 --> 00:00:34,960
inside Microsoft as well to build and

00:00:32,680 --> 00:00:38,050
deploy the tools that we you use you

00:00:34,960 --> 00:00:41,079
know office Windows Azure and VSDs

00:00:38,050 --> 00:00:43,239
itself are all built using V SES so what

00:00:41,079 --> 00:00:45,370
I wanted to do today was to just sort of

00:00:43,239 --> 00:00:48,670
spend some time and talk about why we do

00:00:45,370 --> 00:00:50,859
devops here in Microsoft and then later

00:00:48,670 --> 00:00:52,899
on this afternoon I kind of explain why

00:00:50,859 --> 00:00:55,480
sort of how we do that so let's talk

00:00:52,899 --> 00:00:57,309
about the Y first so to give you kind of

00:00:55,480 --> 00:00:59,530
some insight as to the scale of the

00:00:57,309 --> 00:01:01,570
problem we have to deal with building

00:00:59,530 --> 00:01:04,059
the engineering tools for Microsoft

00:01:01,570 --> 00:01:06,070
here's some vanity metrics for us so

00:01:04,059 --> 00:01:08,560
first of all if we look at the number of

00:01:06,070 --> 00:01:11,200
engineers using VSDs today it's around

00:01:08,560 --> 00:01:14,830
about 78,000 people all working together

00:01:11,200 --> 00:01:16,780
in one system now when I am sat on a

00:01:14,830 --> 00:01:18,310
meeting you know really bored late at

00:01:16,780 --> 00:01:20,260
night I don't know about you I like to

00:01:18,310 --> 00:01:22,270
work out how much that costs how much

00:01:20,260 --> 00:01:24,490
that really long in terminal conference

00:01:22,270 --> 00:01:26,590
call is costing Microsoft so let's do

00:01:24,490 --> 00:01:29,620
that here so if we take 78,000 people

00:01:26,590 --> 00:01:32,410
and if we were to save a second to their

00:01:29,620 --> 00:01:34,600
day we could get three extra people for

00:01:32,410 --> 00:01:37,570
free you know the work a minutes a day

00:01:34,600 --> 00:01:39,970
160 odd people and then if we could save

00:01:37,570 --> 00:01:43,600
an hour or a day nearly 10,000 people

00:01:39,970 --> 00:01:45,760
added to the company that if you turn

00:01:43,600 --> 00:01:47,620
into money roughly that's about two

00:01:45,760 --> 00:01:50,890
billion dollars a year if we could save

00:01:47,620 --> 00:01:54,010
an hour a day when I started builds were

00:01:50,890 --> 00:01:55,660
taking 19 hours okay we're trying to get

00:01:54,010 --> 00:01:56,800
them down to 5 minutes for trying to

00:01:55,660 --> 00:01:58,120
improve collaboration so it's pretty

00:01:56,800 --> 00:02:00,340
easy to try and make some of that money

00:01:58,120 --> 00:02:02,190
back to pay review time at Microsoft's

00:02:00,340 --> 00:02:04,780
with my boss's listing that's awesome

00:02:02,190 --> 00:02:07,870
and some other some just crazy big

00:02:04,780 --> 00:02:10,920
numbers we've we do roughly 4 million

00:02:07,870 --> 00:02:13,150
builds a year a month sorry around fifty

00:02:10,920 --> 00:02:14,799
five hundred million test executions a

00:02:13,150 --> 00:02:15,610
day here's the big number this is why we

00:02:14,799 --> 00:02:20,620
do dev up

00:02:15,610 --> 00:02:23,110
we do 42,000 deployments per day so you

00:02:20,620 --> 00:02:25,590
can't do that unless you have take this

00:02:23,110 --> 00:02:28,720
massive problem and break it down into

00:02:25,590 --> 00:02:30,940
lots of individual DevOps teams who are

00:02:28,720 --> 00:02:33,880
being working sustainably and who are

00:02:30,940 --> 00:02:36,160
trying to continuously improve in

00:02:33,880 --> 00:02:38,110
Microsoft shipping is a feature is a

00:02:36,160 --> 00:02:39,850
phrase that's been long passed down the

00:02:38,110 --> 00:02:41,590
corridors we used to have these shipping

00:02:39,850 --> 00:02:43,990
awards in Microsoft and they used to put

00:02:41,590 --> 00:02:45,370
a plaque in the pavement in the sidewalk

00:02:43,990 --> 00:02:47,260
whenever you released you know every 2

00:02:45,370 --> 00:02:50,560
or 3 years we don't do that anymore when

00:02:47,260 --> 00:02:52,480
we're shipping 42,000 times a day so we

00:02:50,560 --> 00:02:55,090
needed to do a culture change where we

00:02:52,480 --> 00:02:57,340
were releasing early releasing often and

00:02:55,090 --> 00:02:58,810
failing fast and we need to say invest

00:02:57,340 --> 00:03:01,120
in our infrastructure to help people

00:02:58,810 --> 00:03:03,400
ship when you're doing this it's

00:03:01,120 --> 00:03:05,410
important all the teams have a common

00:03:03,400 --> 00:03:08,080
definition of done so that they're all

00:03:05,410 --> 00:03:10,870
delivering the same we started DevOps by

00:03:08,080 --> 00:03:12,790
going to add jail and when we did agile

00:03:10,870 --> 00:03:14,830
our definition of doom was potentially

00:03:12,790 --> 00:03:17,050
shippable there's a lot of wriggle room

00:03:14,830 --> 00:03:18,610
in potentially shippable so we changed

00:03:17,050 --> 00:03:20,800
that very quickly to it's actually

00:03:18,610 --> 00:03:22,270
running in production it's no good

00:03:20,800 --> 00:03:25,090
running in production really really

00:03:22,270 --> 00:03:27,010
really fast if you don't know if you're

00:03:25,090 --> 00:03:29,320
making things better or not so we have

00:03:27,010 --> 00:03:31,150
to collect telemetry and then test if

00:03:29,320 --> 00:03:33,130
that deployment has made it better or

00:03:31,150 --> 00:03:38,620
not and so that's our definition of done

00:03:33,130 --> 00:03:40,960
now who here test in production first of

00:03:38,620 --> 00:03:42,700
all ok ok it's a trick question

00:03:40,960 --> 00:03:44,680
everybody testing production your

00:03:42,700 --> 00:03:46,990
business lives or fails depending on how

00:03:44,680 --> 00:03:48,700
it's working in production so we need

00:03:46,990 --> 00:03:51,520
you to build some tools and technologies

00:03:48,700 --> 00:03:52,870
around that to help us actually admit

00:03:51,520 --> 00:03:54,250
we're doing it in production and then

00:03:52,870 --> 00:03:56,620
work around it so we have progressive

00:03:54,250 --> 00:03:58,330
exposure we do feature flags all that

00:03:56,620 --> 00:04:01,090
sort of thing because it doesn't matter

00:03:58,330 --> 00:04:03,730
how clever your feature is if your

00:04:01,090 --> 00:04:05,140
customers using it and if they're not

00:04:03,730 --> 00:04:07,780
getting value from it then it doesn't

00:04:05,140 --> 00:04:10,240
exist it's not there so we need it again

00:04:07,780 --> 00:04:12,490
build a culture of just customer

00:04:10,240 --> 00:04:14,950
obsession everything is about getting

00:04:12,490 --> 00:04:16,540
value into customers hands everything is

00:04:14,950 --> 00:04:18,580
about building this live site culture

00:04:16,540 --> 00:04:19,690
what is running now for a customer is

00:04:18,580 --> 00:04:21,760
what matters

00:04:19,690 --> 00:04:23,950
so that extends down to some of the

00:04:21,760 --> 00:04:25,690
metrics we take these are the things

00:04:23,950 --> 00:04:27,400
that we do look at in terms of you know

00:04:25,690 --> 00:04:28,790
what metrics we collect and these are

00:04:27,400 --> 00:04:31,700
the things we don't so

00:04:28,790 --> 00:04:33,320
impact not activity and it's also

00:04:31,700 --> 00:04:35,840
important we have sustainable teams

00:04:33,320 --> 00:04:37,520
DevOps is about continual improvement

00:04:35,840 --> 00:04:39,170
it's not supposed to be about continuous

00:04:37,520 --> 00:04:41,530
fire drills so you need to build

00:04:39,170 --> 00:04:43,760
sustainability into that process as well

00:04:41,530 --> 00:04:45,380
we do some few things which I'll talk

00:04:43,760 --> 00:04:47,120
about this afternoon in terms of how we

00:04:45,380 --> 00:04:48,890
do our teams one of the things we do is

00:04:47,120 --> 00:04:50,270
we actually have self forming teams and

00:04:48,890 --> 00:04:52,400
they get to pick which thing they work

00:04:50,270 --> 00:04:55,340
on which is crazy and scary as a manager

00:04:52,400 --> 00:04:56,900
but there we go finally the other thing

00:04:55,340 --> 00:04:58,820
of cool to change I don't know if you've

00:04:56,900 --> 00:05:01,070
noticed we've had a bit of a culture

00:04:58,820 --> 00:05:03,620
change at Microsoft gone from that whole

00:05:01,070 --> 00:05:05,480
Linux is a cancer thing to you know on

00:05:03,620 --> 00:05:08,180
you CEO kind of like some Linux a lot

00:05:05,480 --> 00:05:09,440
better we're investing a lot more in

00:05:08,180 --> 00:05:11,420
open-source we've been doing a lot more

00:05:09,440 --> 00:05:13,310
open source and you might have noticed

00:05:11,420 --> 00:05:14,900
if you were on the internet last week

00:05:13,310 --> 00:05:16,630
that we kind of went and splashed out

00:05:14,900 --> 00:05:19,130
and bought get hopper which was cool

00:05:16,630 --> 00:05:20,510
that's actually we haven't done the

00:05:19,130 --> 00:05:21,710
acquisition yet we've github but it's

00:05:20,510 --> 00:05:22,850
gonna you know it's going through

00:05:21,710 --> 00:05:24,290
regulatory approval and stuff so

00:05:22,850 --> 00:05:26,510
hopefully by the end of the year we'll

00:05:24,290 --> 00:05:28,280
require them in a minute or two

00:05:26,510 --> 00:05:30,740
completely separate companies but even

00:05:28,280 --> 00:05:32,270
when github comes into Microsoft as part

00:05:30,740 --> 00:05:34,400
of the Microsoft family it's going to be

00:05:32,270 --> 00:05:37,130
completely separate standalone division

00:05:34,400 --> 00:05:39,590
and NAT Friedman who's my boss currently

00:05:37,130 --> 00:05:41,240
he's gonna be their new CEO and he's

00:05:39,590 --> 00:05:42,650
used to work on gnome used to work on

00:05:41,240 --> 00:05:45,080
xamarin I can't really think of a better

00:05:42,650 --> 00:05:47,240
person to be their next CEO and now he

00:05:45,080 --> 00:05:49,790
gets to bring the resources of Microsoft

00:05:47,240 --> 00:05:51,560
and use that to you know fund all this

00:05:49,790 --> 00:05:54,230
open-source investment which is great I

00:05:51,560 --> 00:05:55,550
can't take any credit for this what I

00:05:54,230 --> 00:05:56,990
can't take credit for is I was the

00:05:55,550 --> 00:05:59,120
person who created the github or GaN

00:05:56,990 --> 00:06:01,130
Microsoft so yay it's now one of the

00:05:59,120 --> 00:06:02,690
biggest logs in Microsoft and I work

00:06:01,130 --> 00:06:05,180
with a bunch of my colleagues in that

00:06:02,690 --> 00:06:08,300
org working on open source which is

00:06:05,180 --> 00:06:10,190
awesome and also over 50% of our

00:06:08,300 --> 00:06:11,570
contributions now for some of the bigger

00:06:10,190 --> 00:06:13,450
projects come from outside of the

00:06:11,570 --> 00:06:16,010
company so I just wanted to thank you

00:06:13,450 --> 00:06:17,420
thanks for all the the conversations

00:06:16,010 --> 00:06:18,890
we've had here at velocity over the

00:06:17,420 --> 00:06:21,320
years that helped us improve our DevOps

00:06:18,890 --> 00:06:23,600
practices thanks for engaging in our

00:06:21,320 --> 00:06:26,450
open source helping change Microsoft one

00:06:23,600 --> 00:06:29,420
pull request at a time and then finally

00:06:26,450 --> 00:06:31,280
you know thanks for listening ok if you

00:06:29,420 --> 00:06:33,470
want to carry on the conversation thank

00:06:31,280 --> 00:06:35,330
you I'll get off quicker promise if you

00:06:33,470 --> 00:06:37,400
want to carry on the conversation I'll

00:06:35,330 --> 00:06:39,020
be talking this afternoon it's a bunch

00:06:37,400 --> 00:06:40,669
of people who've been working at the be

00:06:39,020 --> 00:06:42,320
Manning who be up the booth working at

00:06:40,669 --> 00:06:44,210
the booth so Bridgette Eric and Brian

00:06:42,320 --> 00:06:45,800
and then finally if you want a more

00:06:44,210 --> 00:06:47,120
technique technical talk Elena's going

00:06:45,800 --> 00:06:49,370
to be speaking same times me

00:06:47,120 --> 00:06:51,590
Donovan speaking tomorrow and then they

00:06:49,370 --> 00:06:53,030
always awesome Jessica Beecher will be

00:06:51,590 --> 00:06:56,770
doing talking about retrospectives

00:06:53,030 --> 00:06:56,770

YouTube URL: https://www.youtube.com/watch?v=X4uziBlC728


