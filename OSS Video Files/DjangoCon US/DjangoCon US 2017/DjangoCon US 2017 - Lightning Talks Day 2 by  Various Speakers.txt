Title: DjangoCon US 2017 - Lightning Talks Day 2 by  Various Speakers
Publication date: 2018-11-14
Playlist: DjangoCon US 2017
Description: 
	DjangoCon US 2017 - Lightning Talks Day 2 by  Various Speakers

00:00 Filipe Ximenes
05:42 Paul Bailey 
10:53 Richard Latimer 
14:30 ??? 
19:14 James Bennett 
24:11 Wayne Merry 
28:54 Tim Allen
34:23 Vic Yang 
35:26 Dan Dietz

This talk was presented at: https://2017.djangocon.us/schedule/

LINKS:
Follow DjangCon US ðŸ‘‡
https://twitter.com/djangocon

Follow DEFNA ðŸ‘‡
https://twitter.com/defnado
https://www.defna.org/
Captions: 
	00:00:00,000 --> 00:00:18,189
[Music]

00:00:14,099 --> 00:00:20,560
all right so I'm flipping this is Flavio

00:00:18,189 --> 00:00:24,220
we are both from Brazil and we work at

00:00:20,560 --> 00:00:26,340
vinta we are partners there and we are

00:00:24,220 --> 00:00:30,880
going to talk to you about fix my jungle

00:00:26,340 --> 00:00:33,969
so this started when we used to program

00:00:30,880 --> 00:00:36,130
in angular 1 and angular 1 had this

00:00:33,969 --> 00:00:38,739
thing where whenever displaying an error

00:00:36,130 --> 00:00:42,190
you could click on the on the link in

00:00:38,739 --> 00:00:45,040
the console and you it took you for like

00:00:42,190 --> 00:00:47,770
a web page where you could see something

00:00:45,040 --> 00:00:50,740
about error how to fix it what was it

00:00:47,770 --> 00:00:53,470
and we father was pretty good so we

00:00:50,740 --> 00:00:55,720
decided to do it for Django and that's

00:00:53,470 --> 00:01:00,540
when we created fix my Django and we are

00:00:55,720 --> 00:01:00,540
going to show you in a live demo now ok

00:01:01,710 --> 00:01:11,770
some code that has a bug like hope you

00:01:09,070 --> 00:01:14,560
can see it has have a view with a

00:01:11,770 --> 00:01:18,749
template that does not exist and then on

00:01:14,560 --> 00:01:25,240
the URLs I just try to use that view and

00:01:18,749 --> 00:01:28,270
when hosting open that view it shows

00:01:25,240 --> 00:01:30,340
that the broken template the plate does

00:01:28,270 --> 00:01:31,959
not exist and it says that fixed my

00:01:30,340 --> 00:01:36,189
jungle may have a solution for the

00:01:31,959 --> 00:01:38,259
exception when we click it it goes to

00:01:36,189 --> 00:01:41,649
fix my jungle website filtering by the

00:01:38,259 --> 00:01:44,319
exception type we just saw by which

00:01:41,649 --> 00:01:48,039
model it was raised by which line and

00:01:44,319 --> 00:01:50,020
then we can click and we are able to see

00:01:48,039 --> 00:01:52,450
more information about the exception the

00:01:50,020 --> 00:01:56,079
trace back that generates that exception

00:01:52,450 --> 00:01:59,229
this trace back is like sanitizer

00:01:56,079 --> 00:02:02,200
because it doesn't show you show the the

00:01:59,229 --> 00:02:04,359
environment before the site packages so

00:02:02,200 --> 00:02:06,310
it will not show your home page your

00:02:04,359 --> 00:02:09,190
home directory or something like that

00:02:06,310 --> 00:02:11,260
and then show how to help reduce this

00:02:09,190 --> 00:02:14,349
bug and how to fix it you should verify

00:02:11,260 --> 00:02:16,239
if there are any spare wearers if the

00:02:14,349 --> 00:02:20,189
template name is correct if the folders

00:02:16,239 --> 00:02:22,650
are correctly configured on templates

00:02:20,189 --> 00:02:24,599
setting

00:02:22,650 --> 00:02:27,810
to install fix my jungle you just need

00:02:24,599 --> 00:02:32,069
to peeping style fix my jungle and go

00:02:27,810 --> 00:02:34,319
into the settings and adhere to

00:02:32,069 --> 00:02:37,260
installed apps and by doing this we

00:02:34,319 --> 00:02:40,260
override the default error page for

00:02:37,260 --> 00:02:42,810
django development server to be able to

00:02:40,260 --> 00:02:45,840
have that this link that i showed to you

00:02:42,810 --> 00:02:48,629
if the resection doesn't exist in fix my

00:02:45,840 --> 00:02:50,159
jungle you can contribute with it so for

00:02:48,629 --> 00:02:52,680
example here are not a case where you

00:02:50,159 --> 00:02:54,900
can add there or to fix my channel and

00:02:52,680 --> 00:02:57,419
when you click it it you see that we

00:02:54,900 --> 00:03:00,150
already got the exception information

00:02:57,419 --> 00:03:02,970
that you just saw and we don't have it

00:03:00,150 --> 00:03:05,010
and you can add some information about

00:03:02,970 --> 00:03:13,799
how to reproduce and someone else can

00:03:05,010 --> 00:03:16,829
help you on how to solve this alright so

00:03:13,799 --> 00:03:19,230
fix my jungle is a open source project

00:03:16,829 --> 00:03:23,909
it's on github you have to go to slash

00:03:19,230 --> 00:03:25,169
fix my jungle out together and the

00:03:23,909 --> 00:03:28,769
history of the projects pretty much we

00:03:25,169 --> 00:03:33,829
created these two years ago we used it

00:03:28,769 --> 00:03:37,139
internally in atlanta but the thing was

00:03:33,829 --> 00:03:39,359
we wanted to gather some initial data so

00:03:37,139 --> 00:03:42,599
like after after that we could publicize

00:03:39,359 --> 00:03:46,530
it more that's actually why we couldn't

00:03:42,599 --> 00:03:49,439
get this out because we didn't got much

00:03:46,530 --> 00:03:52,259
engagement even inside the company and

00:03:49,439 --> 00:03:54,299
we think that was pretty much because of

00:03:52,259 --> 00:03:58,199
the way we are doing stuff so we

00:03:54,299 --> 00:04:01,799
nowadays we show the link we it will be

00:03:58,199 --> 00:04:07,319
good to like actually show the the full

00:04:01,799 --> 00:04:10,019
resolution in the jungle page so next

00:04:07,319 --> 00:04:13,220
steps would be we got a couple bugs with

00:04:10,019 --> 00:04:18,180
didn't we kind of stop working on this

00:04:13,220 --> 00:04:20,970
field time ago so we do have bugs we

00:04:18,180 --> 00:04:23,550
need to add support for maybe there's

00:04:20,970 --> 00:04:27,270
some some bugs on python tree and django

00:04:23,550 --> 00:04:30,270
the latest versions so yeah we need to

00:04:27,270 --> 00:04:32,340
display the how to fix they are inside

00:04:30,270 --> 00:04:37,080
the the

00:04:32,340 --> 00:04:40,350
we would like to have so you could like

00:04:37,080 --> 00:04:44,670
submit the have that form for severe or

00:04:40,350 --> 00:04:46,530
inside the January page as well and it

00:04:44,670 --> 00:04:49,860
would be good you have tickling for so

00:04:46,530 --> 00:04:51,510
like anyone could contribute so we'll be

00:04:49,860 --> 00:04:53,700
here for Sprint's and we would like to

00:04:51,510 --> 00:04:57,900
work on this and so if you want to help

00:04:53,700 --> 00:05:16,500
us out just talk to us thank you do we

00:04:57,900 --> 00:05:19,320
have time all right so we got so as I

00:05:16,500 --> 00:05:20,310
said we are from Brazil and we have a

00:05:19,320 --> 00:05:22,440
pike on there

00:05:20,310 --> 00:05:25,470
it's called Python Brazil and it is

00:05:22,440 --> 00:05:28,260
going to happen from the 6th to the 11th

00:05:25,470 --> 00:05:29,610
of October so if you want to come please

00:05:28,260 --> 00:05:30,650
let me know I can help you out with

00:05:29,610 --> 00:05:32,940
anything

00:05:30,650 --> 00:05:35,640
unfortunately the talks are all in

00:05:32,940 --> 00:05:38,520
Portuguese so it might find might have

00:05:35,640 --> 00:05:45,270
some trouble but you are welcome thank

00:05:38,520 --> 00:05:48,960
you all right yes Django is a little

00:05:45,270 --> 00:05:51,300
package I put together so just a little

00:05:48,960 --> 00:05:53,010
bit about me first I'm an instructor at

00:05:51,300 --> 00:05:56,430
a boot camp in Houston called digital

00:05:53,010 --> 00:05:58,380
crafts I'm also using Django to build a

00:05:56,430 --> 00:06:00,600
Google assistant voice app so if anyone

00:05:58,380 --> 00:06:02,340
wants to talk about that come see me

00:06:00,600 --> 00:06:04,590
after the talk if you set those little

00:06:02,340 --> 00:06:07,500
words probably 80% of you on your phone

00:06:04,590 --> 00:06:10,560
actually would bring it up and follow me

00:06:07,500 --> 00:06:12,480
on Twitter I'm the pizza Panther so what

00:06:10,560 --> 00:06:14,910
is the Zen of Django it's just some

00:06:12,480 --> 00:06:17,130
tools I put together to streamline and

00:06:14,910 --> 00:06:20,040
get you started with Django a little bit

00:06:17,130 --> 00:06:23,310
easier so I have a little bit of

00:06:20,040 --> 00:06:25,320
flexibility with the curriculum I teach

00:06:23,310 --> 00:06:28,980
so you know I'm a Django guy I wanted to

00:06:25,320 --> 00:06:30,660
teach my boot campers some Django so I

00:06:28,980 --> 00:06:32,670
probably a part of it was my fault I

00:06:30,660 --> 00:06:34,080
went through it too fast but you know I

00:06:32,670 --> 00:06:39,020
started seeing some of the pain points

00:06:34,080 --> 00:06:42,090
of getting newcomers to start Django

00:06:39,020 --> 00:06:44,620
some of the pain points I found right

00:06:42,090 --> 00:06:46,600
you need regex and urls that's not

00:06:44,620 --> 00:06:49,419
necessarily like an easy thing for a

00:06:46,600 --> 00:06:51,240
newcomer coming to programming and some

00:06:49,419 --> 00:06:53,560
of the stuff to write is just with

00:06:51,240 --> 00:06:55,570
developing Python it's not necessarily a

00:06:53,560 --> 00:06:57,699
Django thing so you got to worry about

00:06:55,570 --> 00:06:59,410
package management you got to worry

00:06:57,699 --> 00:07:02,380
about not committing your secret key

00:06:59,410 --> 00:07:04,590
even I've done this after like ten years

00:07:02,380 --> 00:07:07,630
of development thankfully there's that

00:07:04,590 --> 00:07:10,000
guy who like follows all the public

00:07:07,630 --> 00:07:11,440
projects and make sure you don't don't

00:07:10,000 --> 00:07:16,030
commit that secret key I got that email

00:07:11,440 --> 00:07:19,750
so thank you whoever that is there's no

00:07:16,030 --> 00:07:21,190
like built-in production server static

00:07:19,750 --> 00:07:23,260
files you got to worry about how you're

00:07:21,190 --> 00:07:25,570
going to deploy that and then switching

00:07:23,260 --> 00:07:27,550
from your production to your development

00:07:25,570 --> 00:07:29,380
settings so I create this a little

00:07:27,550 --> 00:07:31,720
package called the Zen of Django the

00:07:29,380 --> 00:07:33,729
kind of put this all together make it

00:07:31,720 --> 00:07:35,320
easier to start out so you don't have to

00:07:33,729 --> 00:07:38,949
necessarily worry about some of these

00:07:35,320 --> 00:07:41,530
things so the first thing simplified

00:07:38,949 --> 00:07:43,560
urls so instead of using regex

00:07:41,530 --> 00:07:46,479
i stoled like the flask style and

00:07:43,560 --> 00:07:49,780
basically you can Mitch mix a match

00:07:46,479 --> 00:07:51,669
between the Zen URL and the Django URL

00:07:49,780 --> 00:07:54,789
it's actually just converting it to

00:07:51,669 --> 00:07:57,610
regex for you but I think that's a lot

00:07:54,789 --> 00:07:59,470
easier to understand I grew up on Perl

00:07:57,610 --> 00:08:02,500
and you know I eat regex for breakfast

00:07:59,470 --> 00:08:04,270
but I still know that like I don't

00:08:02,500 --> 00:08:06,660
really want to use a regex lot so I

00:08:04,270 --> 00:08:09,430
think this simplifies the URLs a lot

00:08:06,660 --> 00:08:11,200
let's see the next thing package

00:08:09,430 --> 00:08:13,840
management so you get a requirements

00:08:11,200 --> 00:08:17,590
text automatically generate it with

00:08:13,840 --> 00:08:20,620
whatever packages are already there I've

00:08:17,590 --> 00:08:22,870
also included pip save so just like with

00:08:20,620 --> 00:08:25,690
NPM where you can install a package and

00:08:22,870 --> 00:08:30,210
then it saves it to your package file or

00:08:25,690 --> 00:08:30,210
requirements text so that's built in

00:08:30,360 --> 00:08:37,719
auto-generated get ignore you know I had

00:08:34,990 --> 00:08:40,810
people again committing their database

00:08:37,719 --> 00:08:43,450
their sequel Lite databases so just get

00:08:40,810 --> 00:08:47,440
rid of that problem dot E and V with

00:08:43,450 --> 00:08:48,670
your secret key again is initialized for

00:08:47,440 --> 00:08:52,870
you so you don't have to worry about

00:08:48,670 --> 00:08:56,110
committing your secrets and deployment

00:08:52,870 --> 00:08:58,030
so I think Michael risky is pretty much

00:08:56,110 --> 00:09:00,670
the preferred method so I've built

00:08:58,030 --> 00:09:03,940
that in from the genu was micro whiskey

00:09:00,670 --> 00:09:06,880
prac package white noise for static

00:09:03,940 --> 00:09:08,470
files that's all built-in and then you

00:09:06,880 --> 00:09:10,800
know the project template is

00:09:08,470 --> 00:09:13,090
automatically set up to switch between

00:09:10,800 --> 00:09:15,880
your development settings and your

00:09:13,090 --> 00:09:19,090
production settings and you can see down

00:09:15,880 --> 00:09:20,710
here at the bottom I put in a dev server

00:09:19,090 --> 00:09:22,930
so you kind of know what you're running

00:09:20,710 --> 00:09:24,760
that's just actually an alias to run

00:09:22,930 --> 00:09:26,980
server and then when you want to switch

00:09:24,760 --> 00:09:29,470
to production you just run the prod

00:09:26,980 --> 00:09:33,370
server which will run Django micro

00:09:29,470 --> 00:09:36,520
whiskey for you all right so let's see

00:09:33,370 --> 00:09:42,660
if I can have a demo fail here so I'm

00:09:36,520 --> 00:09:53,620
gonna go through it here so we'll do a

00:09:42,660 --> 00:09:55,900
Python virtual env here so I get time

00:09:53,620 --> 00:10:01,600
for like Network calls here that are

00:09:55,900 --> 00:10:05,020
slow alright so I made my virtual

00:10:01,600 --> 00:10:10,450
environment now I'm gonna do pip install

00:10:05,020 --> 00:10:11,980
DJ's in and get that installed you can

00:10:10,450 --> 00:10:14,560
see it's installing a bunch of stuff for

00:10:11,980 --> 00:10:19,360
me and let's see if I can get to the

00:10:14,560 --> 00:10:22,900
final thing so you can just start your

00:10:19,360 --> 00:10:28,990
project instead of using the Django

00:10:22,900 --> 00:10:31,450
Start project and the kind of issue some

00:10:28,990 --> 00:10:33,640
recommended settings and I guess I

00:10:31,450 --> 00:10:36,150
showed them to use the test so we'll

00:10:33,640 --> 00:10:36,150
just use that

00:10:36,560 --> 00:10:42,569
and there you got your get ignore you

00:10:39,810 --> 00:10:47,759
got your requirements and then if you

00:10:42,569 --> 00:10:54,389
can see it here dingdong got your

00:10:47,759 --> 00:10:56,639
Handy's and your secret key all right my

00:10:54,389 --> 00:10:59,060
name's Richard Latimer creator a P track

00:10:56,639 --> 00:11:01,440
along with Sarah Ellis from indeed so

00:10:59,060 --> 00:11:03,930
this is a tracking pixel library what is

00:11:01,440 --> 00:11:07,079
a tracking pixel it's a image tag

00:11:03,930 --> 00:11:08,339
typically one by one pixel transparent

00:11:07,079 --> 00:11:11,519
and there's a unique URL that's

00:11:08,339 --> 00:11:13,649
associated with that here this is kind

00:11:11,519 --> 00:11:16,769
of the two typical flows you have this

00:11:13,649 --> 00:11:19,050
small image that loads on an email or a

00:11:16,769 --> 00:11:21,329
web page when it's loaded when the views

00:11:19,050 --> 00:11:23,190
or visits or opens the email you then

00:11:21,329 --> 00:11:25,860
execute a logging function in new log

00:11:23,190 --> 00:11:27,660
that this user visited the page so this

00:11:25,860 --> 00:11:29,940
is really useful because we like to

00:11:27,660 --> 00:11:31,529
track email open rates you can log that

00:11:29,940 --> 00:11:34,889
data and then you can see click-through

00:11:31,529 --> 00:11:36,750
rates so then if you have your own

00:11:34,889 --> 00:11:38,850
tracking pixels you could do a/b testing

00:11:36,750 --> 00:11:40,740
so I could try one subject line versus

00:11:38,850 --> 00:11:42,779
another subject line split it among my

00:11:40,740 --> 00:11:45,779
users see who's opening more of those

00:11:42,779 --> 00:11:47,040
emails with the goals of P track looked

00:11:45,779 --> 00:11:50,069
at various different ways people are

00:11:47,040 --> 00:11:51,449
doing tracking pixels and try to do it

00:11:50,069 --> 00:11:55,170
the Gengo way with the best of it those

00:11:51,449 --> 00:11:58,230
ideas so on there's no database the data

00:11:55,170 --> 00:11:59,730
is based we put it inside of the URL you

00:11:58,230 --> 00:12:01,829
have flexibility with the metrics so

00:11:59,730 --> 00:12:03,750
you're not based on a unique ID P track

00:12:01,829 --> 00:12:07,050
gives you you get to decide the metrics

00:12:03,750 --> 00:12:09,810
it's secure so these metrics are encoded

00:12:07,050 --> 00:12:11,939
and then encrypted into a URL and then

00:12:09,810 --> 00:12:14,880
it's fast when this decryption and

00:12:11,939 --> 00:12:17,009
decoding phase it happens in our product

00:12:14,880 --> 00:12:19,800
production settings within 80

00:12:17,009 --> 00:12:21,240
milliseconds or lower so here's what a

00:12:19,800 --> 00:12:24,209
typical flow would look like for P track

00:12:21,240 --> 00:12:26,009
so you load the P track module you load

00:12:24,209 --> 00:12:27,990
the P track template tag you can have

00:12:26,009 --> 00:12:29,970
arguments so here we have our test name

00:12:27,990 --> 00:12:31,740
email test one and then maybe you want

00:12:29,970 --> 00:12:33,630
to find some distinct information about

00:12:31,740 --> 00:12:35,850
users so you could pass in the user ID

00:12:33,630 --> 00:12:39,779
you could do some distinct email open

00:12:35,850 --> 00:12:43,319
rates etc then what links that template

00:12:39,779 --> 00:12:45,600
to your logging is you instantiate a

00:12:43,319 --> 00:12:47,819
version of a tracking pixel there's a

00:12:45,600 --> 00:12:49,320
callback routine called record you have

00:12:47,819 --> 00:12:51,600
access to your request

00:12:49,320 --> 00:12:53,580
so you could see through that info what

00:12:51,600 --> 00:12:55,980
male clients are accessing you or what

00:12:53,580 --> 00:12:57,840
users are visiting your webpage you can

00:12:55,980 --> 00:13:00,080
access your arguments and you can access

00:12:57,840 --> 00:13:03,330
your key value arguments and finally

00:13:00,080 --> 00:13:05,490
these say here custom tracking pixel you

00:13:03,330 --> 00:13:07,200
register with P track you can actually

00:13:05,490 --> 00:13:08,550
chain these together so if you want to

00:13:07,200 --> 00:13:11,340
split up your code how you do your

00:13:08,550 --> 00:13:13,590
tracking pixels it's up to you there's

00:13:11,340 --> 00:13:17,130
no guarantee on the order they execute

00:13:13,590 --> 00:13:18,690
but you can chain them together for a

00:13:17,130 --> 00:13:21,150
few extensions say you want to do

00:13:18,690 --> 00:13:22,920
internal email tests so you want to say

00:13:21,150 --> 00:13:24,810
you know people aren't opening my

00:13:22,920 --> 00:13:26,250
surveys I want to do see mail subject

00:13:24,810 --> 00:13:28,530
test see what people are doing you

00:13:26,250 --> 00:13:30,960
actually can do this so most mail

00:13:28,530 --> 00:13:33,150
providers proxy your tracking your

00:13:30,960 --> 00:13:34,590
images so you can't actually just host

00:13:33,150 --> 00:13:36,540
it from your internal network what you

00:13:34,590 --> 00:13:40,050
can do here is you can deploy a mirror

00:13:36,540 --> 00:13:42,060
version of your of of your site but you

00:13:40,050 --> 00:13:44,820
know just a thin client so it's merely

00:13:42,060 --> 00:13:46,680
there for tracking pixels and you have

00:13:44,820 --> 00:13:49,140
you can define your app URL where the

00:13:46,680 --> 00:13:51,240
tracking pixel would be loaded and then

00:13:49,140 --> 00:13:54,780
you share a secret key for encryption

00:13:51,240 --> 00:13:56,730
and decryption of the metrics if you

00:13:54,780 --> 00:13:58,140
don't want to use the encryption scheme

00:13:56,730 --> 00:14:00,840
that comes with P track we're using PI

00:13:58,140 --> 00:14:04,230
NaCl you can define your own encoder and

00:14:00,840 --> 00:14:05,820
use it there instead and Python 3

00:14:04,230 --> 00:14:07,950
supports coming soon

00:14:05,820 --> 00:14:10,110
this is the first Django project indeed

00:14:07,950 --> 00:14:12,450
has open source so was pushing to get

00:14:10,110 --> 00:14:14,220
that up before this before coming here

00:14:12,450 --> 00:14:15,960
so after that we'll working on Python 3

00:14:14,220 --> 00:14:19,830
and hoping to contribute more to the

00:14:15,960 --> 00:14:21,960
community so here's our github you can

00:14:19,830 --> 00:14:23,910
actually pip install using Django - P

00:14:21,960 --> 00:14:29,060
track and want to open if there's any

00:14:23,910 --> 00:14:29,060
questions alright thank you thank you

00:14:30,980 --> 00:14:35,040
alright hi my name is Johan Heller I

00:14:33,360 --> 00:14:38,210
work for over comm and I'm here to talk

00:14:35,040 --> 00:14:41,490
about non locking migrations and Django

00:14:38,210 --> 00:14:42,630
so everybody likes dogs and I like

00:14:41,490 --> 00:14:45,360
Django so let's mix the two things

00:14:42,630 --> 00:14:47,310
together so dog model and just has a

00:14:45,360 --> 00:14:49,680
name field we're gonna add a birthday

00:14:47,310 --> 00:14:52,100
field to that because dogs love

00:14:49,680 --> 00:14:55,440
receiving birthday cards in the mail

00:14:52,100 --> 00:14:56,910
well-known fact and has a database call

00:14:55,440 --> 00:15:00,120
our database index so we can make query

00:14:56,910 --> 00:15:01,680
on it fast making a migration in Django

00:15:00,120 --> 00:15:02,769
is super easy you just call make

00:15:01,680 --> 00:15:03,910
migrations

00:15:02,769 --> 00:15:06,189
you pass arguments too if you want more

00:15:03,910 --> 00:15:09,009
custom but that works it will spit out a

00:15:06,189 --> 00:15:11,079
migration looks like this it's actually

00:15:09,009 --> 00:15:15,459
a really really handy feature of Django

00:15:11,079 --> 00:15:17,920
the migrations subsystem a keep track of

00:15:15,459 --> 00:15:18,879
dependencies it has all the operations

00:15:17,920 --> 00:15:21,160
it's going to do its database

00:15:18,879 --> 00:15:22,179
independent so this is it can be run

00:15:21,160 --> 00:15:26,049
across multiple different database

00:15:22,179 --> 00:15:27,970
backends really handy feature so then

00:15:26,049 --> 00:15:30,100
you actually want to run your migration

00:15:27,970 --> 00:15:31,869
on productions your run migrate and

00:15:30,100 --> 00:15:33,999
Django will take that migration file and

00:15:31,869 --> 00:15:35,860
make this sequel this is database

00:15:33,999 --> 00:15:37,629
dependent so it will change the sequel

00:15:35,860 --> 00:15:38,949
slightly the only difference between

00:15:37,629 --> 00:15:41,470
postcards on my sequel here is the

00:15:38,949 --> 00:15:43,149
coding but that it's pretty standard

00:15:41,470 --> 00:15:44,889
sequel so we're gonna go ahead and run

00:15:43,149 --> 00:15:47,230
that as we'll give that to my sequel

00:15:44,889 --> 00:15:50,829
that's the database system that we use

00:15:47,230 --> 00:15:56,049
at rover and my sequel does this with

00:15:50,829 --> 00:15:58,540
that so what happens there is the the

00:15:56,049 --> 00:16:00,910
both the alter adding the column and

00:15:58,540 --> 00:16:03,579
adding the index lock the table for

00:16:00,910 --> 00:16:05,199
writes while it's doing that and if you

00:16:03,579 --> 00:16:06,639
have a very large table the table will

00:16:05,199 --> 00:16:08,649
remain locked for writes for a long time

00:16:06,639 --> 00:16:10,779
which means no users can add dogs during

00:16:08,649 --> 00:16:12,249
that time which makes for really unhappy

00:16:10,779 --> 00:16:16,269
users because people love to talk about

00:16:12,249 --> 00:16:18,459
their dogs and add them to a website so

00:16:16,269 --> 00:16:21,579
what can we do about that

00:16:18,459 --> 00:16:22,899
so my sequel 5.6 added some features for

00:16:21,579 --> 00:16:26,619
supporting sort of non-locking

00:16:22,899 --> 00:16:28,119
operations and how we take advantage of

00:16:26,619 --> 00:16:30,850
those is we can just alter the sequel

00:16:28,119 --> 00:16:34,660
that Django generated for us to add a

00:16:30,850 --> 00:16:36,790
couple more parameters so that it

00:16:34,660 --> 00:16:40,420
doesn't block just a quick side note

00:16:36,790 --> 00:16:43,929
here alter table uses commas and create

00:16:40,420 --> 00:16:46,149
index doesn't and if you don't get that

00:16:43,929 --> 00:16:48,009
right it errors with syntax errors and I

00:16:46,149 --> 00:16:52,899
just it just infuriates me that that's

00:16:48,009 --> 00:16:54,309
the case so going back to the actual

00:16:52,899 --> 00:16:56,799
full sequel here the things we added are

00:16:54,309 --> 00:16:58,419
the algorithm in place which tells my

00:16:56,799 --> 00:17:01,809
sequel that you want to use the in place

00:16:58,419 --> 00:17:03,549
sort of upgrade of the table and not a

00:17:01,809 --> 00:17:06,220
copy operation which is the sort of

00:17:03,549 --> 00:17:07,750
other choice a quick note it sounds like

00:17:06,220 --> 00:17:09,220
in place would be faster than copy it's

00:17:07,750 --> 00:17:11,350
actually not it's actually slower and

00:17:09,220 --> 00:17:12,579
adds more load on your database but it

00:17:11,350 --> 00:17:14,529
has the advantage of it doesn't lock

00:17:12,579 --> 00:17:16,299
things so you can expect worst

00:17:14,529 --> 00:17:16,570
performance for the migrations like the

00:17:16,299 --> 00:17:19,120
law

00:17:16,570 --> 00:17:21,130
and they'll be doing more work but they

00:17:19,120 --> 00:17:22,240
won't lock lock none here is sort of

00:17:21,130 --> 00:17:24,220
just saying the same thing like please

00:17:22,240 --> 00:17:25,390
don't take any locks um it doesn't

00:17:24,220 --> 00:17:27,300
actually mean no locks

00:17:25,390 --> 00:17:29,500
it just means less locks for less time

00:17:27,300 --> 00:17:34,690
because it's my sequel so it sort of

00:17:29,500 --> 00:17:37,540
doesn't do what it says and I don't here

00:17:34,690 --> 00:17:38,890
is if you run it like this and it has to

00:17:37,540 --> 00:17:40,210
take a lock to do the thing you wanted

00:17:38,890 --> 00:17:42,520
to do it will just fail it won't

00:17:40,210 --> 00:17:45,610
silently downgrade to taking locks which

00:17:42,520 --> 00:17:47,050
is actually really handy all right so

00:17:45,610 --> 00:17:51,400
how do we use that with Django so Django

00:17:47,050 --> 00:17:52,780
has a run sequel migrations operation so

00:17:51,400 --> 00:17:54,610
we can just specify our owns a sequel

00:17:52,780 --> 00:17:56,890
and reverse Atika our variables that are

00:17:54,610 --> 00:17:58,120
off the slide so but they just are the

00:17:56,890 --> 00:17:59,290
same things we saw before in the reverse

00:17:58,120 --> 00:18:01,390
of that and you specify the state

00:17:59,290 --> 00:18:03,730
operations so the migration system knows

00:18:01,390 --> 00:18:04,000
what's going on and then you're like oh

00:18:03,730 --> 00:18:05,530
yeah

00:18:04,000 --> 00:18:08,530
awesome like this is working really well

00:18:05,530 --> 00:18:11,200
and then you realize that this is part

00:18:08,530 --> 00:18:13,180
of the dot describing all the

00:18:11,200 --> 00:18:15,850
limitations of this system so basically

00:18:13,180 --> 00:18:18,700
every single operation has a different

00:18:15,850 --> 00:18:21,490
set of limits and restrictions on how it

00:18:18,700 --> 00:18:24,460
works I can't fit it on a single slide

00:18:21,490 --> 00:18:26,410
even though I get really really tiny the

00:18:24,460 --> 00:18:27,280
sort of big ones to point out are you

00:18:26,410 --> 00:18:29,560
requires nodb

00:18:27,280 --> 00:18:30,670
it requires my sequel 5 or 6 or later it

00:18:29,560 --> 00:18:33,550
requires that your table have been

00:18:30,670 --> 00:18:35,820
created in my sequel 5.6 or later or you

00:18:33,550 --> 00:18:38,140
have done a copy operation on that table

00:18:35,820 --> 00:18:39,460
which you also can't my sequel won't

00:18:38,140 --> 00:18:41,290
tell you if it's done that you just have

00:18:39,460 --> 00:18:47,080
to know based on dates and things it's

00:18:41,290 --> 00:18:48,640
pretty annoying yeah this doesn't exist

00:18:47,080 --> 00:18:51,340
yet will exist like it you can go there

00:18:48,640 --> 00:18:52,750
but there's nothing there but this is

00:18:51,340 --> 00:18:57,220
what I'm planning on sprinting on which

00:18:52,750 --> 00:18:58,480
is adding the migrations system to or

00:18:57,220 --> 00:19:02,410
adding a database back-end that adds

00:18:58,480 --> 00:19:06,070
these parameters for you at the end just

00:19:02,410 --> 00:19:09,760
a shame plug I work for over comm and so

00:19:06,070 --> 00:19:12,060
if you like Python Django or dogs come

00:19:09,760 --> 00:19:12,060
talk to me

00:19:15,120 --> 00:19:20,530
so hi some of you may be worried about

00:19:19,240 --> 00:19:22,780
starting your first django application

00:19:20,530 --> 00:19:24,880
or writing your first bit of code I'm

00:19:22,780 --> 00:19:26,590
here to tell you that I have at least

00:19:24,880 --> 00:19:29,560
one that I've been maintaining for over

00:19:26,590 --> 00:19:30,910
10 years and I'm still worried but it

00:19:29,560 --> 00:19:33,360
gets better and you learn a lot of

00:19:30,910 --> 00:19:35,820
things so let me tell you a little story

00:19:33,360 --> 00:19:39,000
when I take you back to a simpler time

00:19:35,820 --> 00:19:42,700
when the world made sense it was a year

00:19:39,000 --> 00:19:44,830
2007 and Django had been out for about a

00:19:42,700 --> 00:19:47,860
year and people kept coming up with

00:19:44,830 --> 00:19:49,270
these so people kept coming up with

00:19:47,860 --> 00:19:50,860
these cool things that they figured out

00:19:49,270 --> 00:19:52,600
how to do with Django and they wanted a

00:19:50,860 --> 00:19:54,250
way to share it but Python packaging

00:19:52,600 --> 00:19:56,680
wasn't that great yet so I built this

00:19:54,250 --> 00:19:58,300
website called Django snippets org which

00:19:56,680 --> 00:20:00,190
still exists but is maintained by other

00:19:58,300 --> 00:20:01,360
people and was a place you could share

00:20:00,190 --> 00:20:04,210
these little bits of code that you'd

00:20:01,360 --> 00:20:06,460
figured out but I needed a way to let

00:20:04,210 --> 00:20:09,130
people sign up for it and have an

00:20:06,460 --> 00:20:11,130
account there so I did something silly I

00:20:09,130 --> 00:20:15,490
started writing a Django application

00:20:11,130 --> 00:20:17,350
this is February of 2007 the initial

00:20:15,490 --> 00:20:20,350
commit of an application now known as

00:20:17,350 --> 00:20:22,150
Django registration this has been around

00:20:20,350 --> 00:20:23,590
for a while it was originally Google

00:20:22,150 --> 00:20:25,480
code and subversion then it was

00:20:23,590 --> 00:20:28,900
mercurial on bitbucket now it's get on

00:20:25,480 --> 00:20:30,580
github django registration was built on

00:20:28,900 --> 00:20:32,080
a thing that i was really pushing hard

00:20:30,580 --> 00:20:34,150
at the time which is the idea that a

00:20:32,080 --> 00:20:35,290
django application should do one thing

00:20:34,150 --> 00:20:37,840
and do it really well

00:20:35,290 --> 00:20:40,330
so in this case it was just about

00:20:37,840 --> 00:20:43,090
signing up user accounts nothing else

00:20:40,330 --> 00:20:45,700
not filling in a profile not you know

00:20:43,090 --> 00:20:49,000
letting them connect other things just

00:20:45,700 --> 00:20:52,930
sign up user account unfortunately there

00:20:49,000 --> 00:20:54,520
are some things that are hard so back

00:20:52,930 --> 00:20:57,310
then Django did not have class-based

00:20:54,520 --> 00:20:58,780
views if you wanted flexible extensible

00:20:57,310 --> 00:21:00,610
apps that people get add-on

00:20:58,780 --> 00:21:02,620
functionality to you had to add a bunch

00:21:00,610 --> 00:21:05,380
of arguments on to your function based

00:21:02,620 --> 00:21:07,180
views I tried to do default templates

00:21:05,380 --> 00:21:09,340
eventually I tried to do custom user

00:21:07,180 --> 00:21:11,680
models and also I had a dose of real

00:21:09,340 --> 00:21:13,000
life in the middle of it so this is the

00:21:11,680 --> 00:21:15,310
sort of thing you used to have to do

00:21:13,000 --> 00:21:17,170
with a function based django view you

00:21:15,310 --> 00:21:19,360
just kept piling in more and more and

00:21:17,170 --> 00:21:20,800
more keyword arguments there some of the

00:21:19,360 --> 00:21:23,380
worst that I've seen is if you go back

00:21:20,800 --> 00:21:24,790
and look in the Django repository just

00:21:23,380 --> 00:21:26,590
before we switched over to class-based

00:21:24,790 --> 00:21:28,659
generic views some of them have dead

00:21:26,590 --> 00:21:30,070
missions that look like this because of

00:21:28,659 --> 00:21:31,150
how many different keyword arguments

00:21:30,070 --> 00:21:32,529
they had to take for all the

00:21:31,150 --> 00:21:34,390
functionality that they were supposed to

00:21:32,529 --> 00:21:36,760
handle fortunately now we have

00:21:34,390 --> 00:21:39,100
class-based views Jango registration now

00:21:36,760 --> 00:21:41,830
uses class-based views says lesson

00:21:39,100 --> 00:21:44,409
number one if something is painful look

00:21:41,830 --> 00:21:46,179
at what Jango is doing now and maybe see

00:21:44,409 --> 00:21:48,130
if you can steer it in a direction that

00:21:46,179 --> 00:21:50,169
it will get better in this case

00:21:48,130 --> 00:21:53,770
class-based views solved a whole lot of

00:21:50,169 --> 00:21:56,320
problems this one I was never able to

00:21:53,770 --> 00:21:57,970
solve people really really like having

00:21:56,320 --> 00:21:59,230
default templates in an application that

00:21:57,970 --> 00:22:00,820
they can just plug in and it works

00:21:59,230 --> 00:22:03,159
unfortunately it's really really

00:22:00,820 --> 00:22:05,140
difficult especially if it's something

00:22:03,159 --> 00:22:07,000
like say user registration where you

00:22:05,140 --> 00:22:08,620
don't know in advance even what kind of

00:22:07,000 --> 00:22:10,090
form they're going to use what kind of

00:22:08,620 --> 00:22:12,820
fields it will collect what kind of

00:22:10,090 --> 00:22:14,350
workflow it will have shipping a single

00:22:12,820 --> 00:22:16,690
set of templates that work for all of

00:22:14,350 --> 00:22:18,130
that is just impossible eventually I

00:22:16,690 --> 00:22:20,289
gave up every once in a while about

00:22:18,130 --> 00:22:21,789
twice a year someone still files an

00:22:20,289 --> 00:22:23,799
issue at github saying could you please

00:22:21,789 --> 00:22:25,720
provide default templates and I say I

00:22:23,799 --> 00:22:27,090
would really like to but unfortunately I

00:22:25,720 --> 00:22:29,559
can't

00:22:27,090 --> 00:22:32,230
then Django went and came up with this

00:22:29,559 --> 00:22:33,970
custom user model thing before this

00:22:32,230 --> 00:22:37,149
Django registration only had to deal

00:22:33,970 --> 00:22:39,340
with one user model and you knew what it

00:22:37,149 --> 00:22:42,399
looked like it was Django to contribute

00:22:39,340 --> 00:22:44,590
user now suddenly anybody can have

00:22:42,399 --> 00:22:47,470
pretty much any user they want at first

00:22:44,590 --> 00:22:50,559
Django registration just kind of we're

00:22:47,470 --> 00:22:52,870
not going to do that now actually it

00:22:50,559 --> 00:22:55,419
does support custom user models that was

00:22:52,870 --> 00:22:57,309
a bit of work if you want to go look in

00:22:55,419 --> 00:22:59,649
the code you can find lots of places

00:22:57,309 --> 00:23:01,860
where it does get user model or foreign

00:22:59,649 --> 00:23:04,390
keys to settings dot auth user model

00:23:01,860 --> 00:23:06,760
support got there eventually although it

00:23:04,390 --> 00:23:08,470
is still probably kind of buggy the last

00:23:06,760 --> 00:23:11,919
two bug-fix releases i've had to do

00:23:08,470 --> 00:23:15,100
involved custom users here's the real

00:23:11,919 --> 00:23:17,740
killer this is two views of my github

00:23:15,100 --> 00:23:19,240
contribution graph one of them is what

00:23:17,740 --> 00:23:20,799
you see if you're logged in as me and

00:23:19,240 --> 00:23:22,840
can see all the private repositories

00:23:20,799 --> 00:23:24,730
that I do my daily work in the other is

00:23:22,840 --> 00:23:26,080
what you see if you're a random person

00:23:24,730 --> 00:23:28,630
who's not me looking at my github

00:23:26,080 --> 00:23:30,190
profile as you can tell from this about

00:23:28,630 --> 00:23:33,850
two-thirds of all the coding I do

00:23:30,190 --> 00:23:37,550
happens in private repositories this

00:23:33,850 --> 00:23:39,410
means I have very little time so

00:23:37,550 --> 00:23:41,210
for a couple years I kind of dropped the

00:23:39,410 --> 00:23:42,730
ball on Django registration some people

00:23:41,210 --> 00:23:45,110
forked it tried to keep it alive

00:23:42,730 --> 00:23:47,810
thankfully now I'm back with some time

00:23:45,110 --> 00:23:49,730
and able to do this but it's a thing

00:23:47,810 --> 00:23:51,160
that happens don't be ashamed of it it

00:23:49,730 --> 00:23:53,420
will happen to you

00:23:51,160 --> 00:23:55,100
Django registration has grown some new

00:23:53,420 --> 00:23:57,680
things which you can read about in the

00:23:55,100 --> 00:23:59,450
release notes activation with H Mack

00:23:57,680 --> 00:24:01,520
reserve name validator disallowing

00:23:59,450 --> 00:24:03,020
sketchy unicode's if you want to hear

00:24:01,520 --> 00:24:05,030
about sketchy Unicode come talk to me or

00:24:03,020 --> 00:24:15,050
Katie McLaughlin and there will be a

00:24:05,030 --> 00:24:17,090
future alrighty so I'm here to talk

00:24:15,050 --> 00:24:19,940
about how flexibility saves you money

00:24:17,090 --> 00:24:27,680
and it gets you diversity for less than

00:24:19,940 --> 00:24:31,340
free alrighty so the the old way that

00:24:27,680 --> 00:24:33,560
things work the old hey char model if if

00:24:31,340 --> 00:24:38,690
you're thinking about a big company is

00:24:33,560 --> 00:24:41,810
that someone's born then they get

00:24:38,690 --> 00:24:43,640
educated then they go and work for 40

00:24:41,810 --> 00:24:47,420
years and then they retire and then

00:24:43,640 --> 00:24:49,220
finally they don't live anymore the

00:24:47,420 --> 00:24:52,910
thing is that that doesn't really work

00:24:49,220 --> 00:24:57,520
in the modern era because there's things

00:24:52,910 --> 00:25:00,370
that happen people people have kids

00:24:57,520 --> 00:25:03,310
families have need say you might have a

00:25:00,370 --> 00:25:08,140
parent who needs help and you're a

00:25:03,310 --> 00:25:11,830
caregiver so the old model of of just

00:25:08,140 --> 00:25:14,030
being born educating work and retiring

00:25:11,830 --> 00:25:15,950
it just doesn't really sort of fit the

00:25:14,030 --> 00:25:18,560
mold so only a minority of people really

00:25:15,950 --> 00:25:20,810
can do that now the reason this has

00:25:18,560 --> 00:25:23,390
diversity implications is this impacts

00:25:20,810 --> 00:25:26,330
women more than men but it's impacting

00:25:23,390 --> 00:25:29,050
men more than it used to so this affects

00:25:26,330 --> 00:25:29,050
all of us

00:25:29,330 --> 00:25:38,300
and the answer is we need flexible

00:25:32,810 --> 00:25:39,980
workplaces and I want to think about I

00:25:38,300 --> 00:25:43,190
want to just quickly go through two

00:25:39,980 --> 00:25:45,530
examples one is a large Australian Bank

00:25:43,190 --> 00:25:47,150
where the CEO a few years ago said that

00:25:45,530 --> 00:25:49,040
they're going to have flexibility in

00:25:47,150 --> 00:25:50,780
every position and they are going to

00:25:49,040 --> 00:25:51,049
find flexibility when people thought

00:25:50,780 --> 00:25:53,210
there

00:25:51,049 --> 00:25:56,029
was no flexibility so it's like some

00:25:53,210 --> 00:25:57,470
jobs they could work from home but if

00:25:56,029 --> 00:25:59,690
you're a bank teller you can't really

00:25:57,470 --> 00:26:03,590
work from home you need to be your

00:25:59,690 --> 00:26:05,989
customer-facing but they they went

00:26:03,590 --> 00:26:08,419
through and say well how do if someone's

00:26:05,989 --> 00:26:09,710
doing that work how much they actually

00:26:08,419 --> 00:26:12,200
customer-facing

00:26:09,710 --> 00:26:13,940
how much like if you've got ten people

00:26:12,200 --> 00:26:15,769
that are in the branch maybe only two or

00:26:13,940 --> 00:26:17,419
three actually customer-facing at one

00:26:15,769 --> 00:26:21,440
point in time so there is still

00:26:17,419 --> 00:26:23,269
opportunity for flexibility and so when

00:26:21,440 --> 00:26:24,320
they went about doing this and they roll

00:26:23,269 --> 00:26:26,840
this throughout the whole organization

00:26:24,320 --> 00:26:28,789
over said we use they found that their

00:26:26,840 --> 00:26:32,929
metrics on attracting and retaining

00:26:28,789 --> 00:26:35,629
women significantly increased many of

00:26:32,929 --> 00:26:37,850
their of their staff that would go off

00:26:35,629 --> 00:26:40,299
on family leave would find that the

00:26:37,850 --> 00:26:43,429
progression back to work was far more

00:26:40,299 --> 00:26:48,200
smooth and also worked much better when

00:26:43,429 --> 00:26:49,970
the having young children and the little

00:26:48,200 --> 00:26:51,859
simple things like meowida you move in a

00:26:49,970 --> 00:26:55,820
different office so they could pick up

00:26:51,859 --> 00:26:58,129
their kids from from from sport started

00:26:55,820 --> 00:27:00,679
to really come in into play the bank

00:26:58,129 --> 00:27:03,289
sees it as a key part of the competitive

00:27:00,679 --> 00:27:06,200
advantage because other employers are

00:27:03,289 --> 00:27:09,679
just demanding that you work 9 to 5 or 8

00:27:06,200 --> 00:27:14,629
to whatever and or if your IT then 7 to

00:27:09,679 --> 00:27:17,509
10 p.m. which unfortunately that's

00:27:14,629 --> 00:27:20,989
really it's it's a myth for sustainable

00:27:17,509 --> 00:27:23,269
productivity so that's a big example

00:27:20,989 --> 00:27:25,340
I'll give a few personal examples from

00:27:23,269 --> 00:27:28,009
the the organization and I'm involved in

00:27:25,340 --> 00:27:30,350
one you say we've got the we've got one

00:27:28,009 --> 00:27:32,809
of our one of our people involved is as

00:27:30,350 --> 00:27:35,210
someone who's very skilled she's got a

00:27:32,809 --> 00:27:36,739
few kids she can't work five days a week

00:27:35,210 --> 00:27:38,720
she doesn't want to work five days a

00:27:36,739 --> 00:27:41,179
week she certainly doesn't want to work

00:27:38,720 --> 00:27:42,190
9:00 to 5:00 she's got to pick up the

00:27:41,179 --> 00:27:44,840
kids from school

00:27:42,190 --> 00:27:47,179
her husband is a teacher and he can't

00:27:44,840 --> 00:27:51,109
pick up at a different school and he

00:27:47,179 --> 00:27:54,649
can't pick up the kids and she doesn't

00:27:51,109 --> 00:27:58,429
want to use afterschool childcare and so

00:27:54,649 --> 00:28:00,649
and I'm like yo that's all fine we're

00:27:58,429 --> 00:28:02,779
working collaboratively on our project

00:28:00,649 --> 00:28:04,429
and I don't need you to be present at

00:28:02,779 --> 00:28:06,049
particular times

00:28:04,429 --> 00:28:09,980
and she's like well that's fantastic

00:28:06,049 --> 00:28:12,110
that just fits my needs exactly what I

00:28:09,980 --> 00:28:13,429
want the second example is someone who's

00:28:12,110 --> 00:28:15,740
also very skilled and got a few

00:28:13,429 --> 00:28:17,749
university degrees but she's developed a

00:28:15,740 --> 00:28:20,929
condition where she can only really work

00:28:17,749 --> 00:28:23,360
about eight hours a week and but then a

00:28:20,929 --> 00:28:25,820
really productive eight hours

00:28:23,360 --> 00:28:27,230
she cannot she's on the Disability

00:28:25,820 --> 00:28:30,019
Support pension she can't get

00:28:27,230 --> 00:28:33,169
traditional work at all but she's a very

00:28:30,019 --> 00:28:34,759
valuable member of our team so the core

00:28:33,169 --> 00:28:37,519
message in all of this if you're

00:28:34,759 --> 00:28:39,919
involved in a start-up or or you're in

00:28:37,519 --> 00:28:41,840
some position where you need to make

00:28:39,919 --> 00:28:45,139
these these kind of hiring decisions

00:28:41,840 --> 00:28:47,450
then what are you going to miss out on

00:28:45,139 --> 00:28:49,759
if you're not flexible in the way that

00:28:47,450 --> 00:28:51,850
you go bit about employing people thank

00:28:49,759 --> 00:28:51,850
you

00:28:55,539 --> 00:28:59,029
alrighty it would have really sucked if

00:28:57,470 --> 00:29:00,110
I couldn't gotten the AV to work after

00:28:59,029 --> 00:29:00,799
the running around I've been doing but

00:29:00,110 --> 00:29:02,809
I'm gonna talk to you about

00:29:00,799 --> 00:29:04,249
introspective restful api some postcards

00:29:02,809 --> 00:29:06,100
and Django and how it will make your

00:29:04,249 --> 00:29:08,299
entire life better but not really so

00:29:06,100 --> 00:29:09,919
words is where I work that short for

00:29:08,299 --> 00:29:11,179
word and research data services it's a

00:29:09,919 --> 00:29:13,279
single source for leading global

00:29:11,179 --> 00:29:16,519
research databases so we have a lot of

00:29:13,279 --> 00:29:18,590
data we have over 450 institutions

00:29:16,519 --> 00:29:20,869
worldwide who subscribed to our product

00:29:18,590 --> 00:29:22,429
and 50% of that growth has been

00:29:20,869 --> 00:29:24,769
international over the past five years

00:29:22,429 --> 00:29:27,230
so the upshot of this is we have 50,000

00:29:24,769 --> 00:29:31,070
active users who access this these data

00:29:27,230 --> 00:29:34,009
by web SSH remote connects and we

00:29:31,070 --> 00:29:38,360
support SSH via the cloud SAS are Python

00:29:34,009 --> 00:29:41,389
the web and more we have 358 350 raw

00:29:38,360 --> 00:29:43,820
terabytes of data and 2 petabytes of

00:29:41,389 --> 00:29:46,549
total storage that we've gathered since

00:29:43,820 --> 00:29:48,529
1992 and we're continuing expansion

00:29:46,549 --> 00:29:50,779
beyond financial data when I started

00:29:48,529 --> 00:29:53,690
everything ran on a single Sun e 20

00:29:50,779 --> 00:29:56,799
thousand before we maxed out the RAM CPU

00:29:53,690 --> 00:29:59,119
and pegged the CPU at 100% capacity in

00:29:56,799 --> 00:30:02,029
2009 we switched over to see if white

00:29:59,119 --> 00:30:03,769
linux box is backed by net app we've

00:30:02,029 --> 00:30:06,799
used sun grid engine Oracle Grid Engine

00:30:03,769 --> 00:30:09,649
Unova grid engine and LDAP to support

00:30:06,799 --> 00:30:11,450
that horizontal scalability permissions

00:30:09,649 --> 00:30:13,399
and ACLs are always a big concern for us

00:30:11,450 --> 00:30:14,720
because our 450 customers each have

00:30:13,399 --> 00:30:17,509
access to a different financial data

00:30:14,720 --> 00:30:18,130
sets from different vendors so you can

00:30:17,509 --> 00:30:19,270
do the

00:30:18,130 --> 00:30:21,880
yourself on how many different

00:30:19,270 --> 00:30:25,840
permutations that is we also made some

00:30:21,880 --> 00:30:27,220
very dubious database decisions spoiler

00:30:25,840 --> 00:30:28,450
alert' Postgres has made everything

00:30:27,220 --> 00:30:30,850
better

00:30:28,450 --> 00:30:33,610
all data was stored in SAS data format

00:30:30,850 --> 00:30:36,100
in a cryptic format called 7b dead we

00:30:33,610 --> 00:30:37,780
had MySQL for website data we then

00:30:36,100 --> 00:30:40,900
switched to sequel server for website

00:30:37,780 --> 00:30:42,670
data we then had research data except

00:30:40,900 --> 00:30:46,210
for the New York Stock Exchange trades

00:30:42,670 --> 00:30:49,020
in quotes database in Oracle and we

00:30:46,210 --> 00:30:52,230
stole this problem with permissions so

00:30:49,020 --> 00:30:54,430
so postgrads to the rescue

00:30:52,230 --> 00:30:55,840
there was apprehension by the heads of

00:30:54,430 --> 00:30:57,670
our division that we were throwing yet

00:30:55,840 --> 00:30:59,830
another database into the mix while

00:30:57,670 --> 00:31:01,600
promising once again that this would be

00:30:59,830 --> 00:31:03,040
the one all be all solution and they

00:31:01,600 --> 00:31:05,380
were concerned that yes we were going to

00:31:03,040 --> 00:31:07,810
now have Postgres an edition MySQL

00:31:05,380 --> 00:31:11,680
sequel server assess if you include LDAP

00:31:07,810 --> 00:31:13,510
B DB and you know rightly so but all

00:31:11,680 --> 00:31:15,010
research data was successfully loaded

00:31:13,510 --> 00:31:16,930
into Postgres first time we des have

00:31:15,010 --> 00:31:18,990
ever been able to do that sequel server

00:31:16,930 --> 00:31:24,130
failed miserably oracle failed miserably

00:31:18,990 --> 00:31:27,190
mysql we didn't even try Postgres was

00:31:24,130 --> 00:31:29,290
was backing post-credits now back in

00:31:27,190 --> 00:31:31,660
django for the website as well

00:31:29,290 --> 00:31:35,220
Django and wagtail are now in our mix

00:31:31,660 --> 00:31:37,750
instead of ColdFusion PHP and WordPress

00:31:35,220 --> 00:31:41,260
we have integration with LDAP and

00:31:37,750 --> 00:31:42,820
permissions ACLs and a goal we're still

00:31:41,260 --> 00:31:46,060
working on is making Postgres the

00:31:42,820 --> 00:31:49,900
canonical source for all of these ACLs

00:31:46,060 --> 00:31:51,580
we need to apply to all of our data we'd

00:31:49,900 --> 00:31:53,560
promised we'd eliminate at least one of

00:31:51,580 --> 00:31:55,720
these databases within six months and

00:31:53,560 --> 00:32:00,250
we've actually done two good by Oracle

00:31:55,720 --> 00:32:01,510
goodbye MySQL and we've actually gotten

00:32:00,250 --> 00:32:03,520
the entire New York Stock Exchange

00:32:01,510 --> 00:32:05,710
trades and quotes databases that's

00:32:03,520 --> 00:32:09,010
growing by 1.5 terabytes a month into

00:32:05,710 --> 00:32:11,680
Postgres it's a very narrow database but

00:32:09,010 --> 00:32:13,420
a very tall database because you've got

00:32:11,680 --> 00:32:15,550
to imagine every bid trading quote going

00:32:13,420 --> 00:32:20,740
across the NYC it's a hell of a lot of

00:32:15,550 --> 00:32:23,080
data we have shuttered and closed our

00:32:20,740 --> 00:32:24,820
WordPress satellite site in favor of

00:32:23,080 --> 00:32:26,470
wagtail which if you haven't used it

00:32:24,820 --> 00:32:28,240
it's the only CMS I've used in my life

00:32:26,470 --> 00:32:30,390
that I haven't absolutely hated after a

00:32:28,240 --> 00:32:31,980
year and actually still love

00:32:30,390 --> 00:32:33,390
so give it it I've got to give a

00:32:31,980 --> 00:32:35,250
shout-out to torch box because it's

00:32:33,390 --> 00:32:36,780
absolutely lovely so we still some

00:32:35,250 --> 00:32:38,760
sequel server around but that's going to

00:32:36,780 --> 00:32:40,230
be the next way the next one mostly on

00:32:38,760 --> 00:32:41,820
the way out but some of our data vendors

00:32:40,230 --> 00:32:44,760
have it as a dependency so it may never

00:32:41,820 --> 00:32:46,200
go so foundation complete now we wanted

00:32:44,760 --> 00:32:48,240
to build a restful api because we can

00:32:46,200 --> 00:32:53,700
let people access directly through our

00:32:48,240 --> 00:32:55,080
SAS various other ways but we never had

00:32:53,700 --> 00:32:57,300
a way that we could easily build a

00:32:55,080 --> 00:33:00,720
restful api and we have over 20,000

00:32:57,300 --> 00:33:04,350
basic datasets and tables available in

00:33:00,720 --> 00:33:06,690
Postgres now so when when words was

00:33:04,350 --> 00:33:08,790
started in 1992 is made to dump data to

00:33:06,690 --> 00:33:10,620
Lotus 1-2-3 so brilliant financial

00:33:08,790 --> 00:33:12,510
faculty around the world could use a

00:33:10,620 --> 00:33:15,690
tool they knew how to use Lotus 1-2-3 at

00:33:12,510 --> 00:33:17,370
the time and in 2017 we created a

00:33:15,690 --> 00:33:19,200
restful api to anywhere because a

00:33:17,370 --> 00:33:20,340
fortune 50 client of ours most of our

00:33:19,200 --> 00:33:23,340
clients are business schools but we've

00:33:20,340 --> 00:33:26,430
got some corporate clients really wanted

00:33:23,340 --> 00:33:29,010
to be able to hit a restful endpoint so

00:33:26,430 --> 00:33:30,840
we use Django rest framework we

00:33:29,010 --> 00:33:33,000
automatically introspected Postgres to

00:33:30,840 --> 00:33:34,700
create serializers filters models and

00:33:33,000 --> 00:33:37,830
permissions code generated by

00:33:34,700 --> 00:33:39,270
introspecting PostgreSQL and we have web

00:33:37,830 --> 00:33:41,010
browser belen points for the user

00:33:39,270 --> 00:33:42,840
filters were created for any columns

00:33:41,010 --> 00:33:48,450
that were indexed in postgrads SQL

00:33:42,840 --> 00:33:52,800
automatically so let's do a quick quick

00:33:48,450 --> 00:33:54,180
quick quick demo okay we're going

00:33:52,800 --> 00:33:56,720
through the code there we've gone

00:33:54,180 --> 00:33:59,840
through the code

00:33:56,720 --> 00:34:02,000
and right here here at the code to call

00:33:59,840 --> 00:34:04,730
the actual end point using IBM's q-tip

00:34:02,000 --> 00:34:06,140
and right here we're running against the

00:34:04,730 --> 00:34:09,530
actual end point and we're gonna get

00:34:06,140 --> 00:34:14,530
every end of month data price for IBM

00:34:09,530 --> 00:34:14,530
since 1925 with the volume and the price

00:34:16,780 --> 00:34:31,550
and this is what 20,000 endpoints looks

00:34:20,660 --> 00:34:35,120
like thank you I'm Vivian and I'm from

00:34:31,550 --> 00:34:37,430
UC Irvine is a very short talk for me

00:34:35,120 --> 00:34:42,260
it's my first time so I'm first attendee

00:34:37,430 --> 00:34:45,950
here well I'm here because I want to

00:34:42,260 --> 00:34:50,510
find a job so I gradualist mom and they

00:34:45,950 --> 00:34:53,900
say yesterday I had a picnic with in

00:34:50,510 --> 00:34:56,990
that place and thanks for the chase

00:34:53,900 --> 00:35:00,380
Peter and Tristan yeah like encouraged

00:34:56,990 --> 00:35:10,190
me to stay here so I'm looking for a job

00:35:00,380 --> 00:35:12,260
here so why you should hire me because

00:35:10,190 --> 00:35:16,220
I'm self-motivated I'm willing to endure

00:35:12,260 --> 00:35:23,720
and good habits of writing code most

00:35:16,220 --> 00:35:26,110
important abuse Jenko yeah lastly thank

00:35:23,720 --> 00:35:26,110
you

00:35:28,920 --> 00:35:35,290
okay so I wanted to just give a quick

00:35:32,320 --> 00:35:36,490
talk about keeping bees because it came

00:35:35,290 --> 00:35:39,670
up at breakfast this morning

00:35:36,490 --> 00:35:42,040
I am actually not a beekeeper my wife is

00:35:39,670 --> 00:35:45,190
the beekeeper she's awesome at running

00:35:42,040 --> 00:35:47,980
an apiary that we have at our house but

00:35:45,190 --> 00:35:49,120
because of all of the things I've

00:35:47,980 --> 00:35:51,250
learned from her I thought it would be

00:35:49,120 --> 00:35:53,080
cool to share some of them with you

00:35:51,250 --> 00:35:55,450
so this first picture I've got all of

00:35:53,080 --> 00:35:58,360
the photos are from the bees that she

00:35:55,450 --> 00:36:02,020
keeps you'll see the kind of classic

00:35:58,360 --> 00:36:04,090
comb shape it's not all honeycomb some

00:36:02,020 --> 00:36:05,920
of it is brood comb and it's my

00:36:04,090 --> 00:36:09,100
understanding is it's shaped they

00:36:05,920 --> 00:36:12,670
extrude the wax and they stamp it out

00:36:09,100 --> 00:36:14,350
and so the shape of that classic hexagon

00:36:12,670 --> 00:36:18,910
shape is from the shape of their head as

00:36:14,350 --> 00:36:21,370
they press the wax if you want to keep

00:36:18,910 --> 00:36:24,010
bees you'll need some boxes so there are

00:36:21,370 --> 00:36:26,500
brood boxes and the typical way of

00:36:24,010 --> 00:36:27,910
keeping bees is that those boxes are

00:36:26,500 --> 00:36:31,630
filled with frames so there's usually

00:36:27,910 --> 00:36:34,510
ten frames in a box and the bees will

00:36:31,630 --> 00:36:36,580
kind of start building out their their

00:36:34,510 --> 00:36:40,210
comb whether that's brood comb or honey

00:36:36,580 --> 00:36:41,920
comb in those frames and so that's a

00:36:40,210 --> 00:36:45,670
photo of some of the boxes and frames

00:36:41,920 --> 00:36:47,860
that we we have if you want to get those

00:36:45,670 --> 00:36:50,140
boxes filled with bees you can actually

00:36:47,860 --> 00:36:53,250
buy packaged bees they come in these

00:36:50,140 --> 00:36:56,140
little boxes you see in the front of the

00:36:53,250 --> 00:36:57,820
the hives there and there's I think

00:36:56,140 --> 00:36:59,590
there's about 10,000 in there and

00:36:57,820 --> 00:37:01,000
there's a metal can that has sugar syrup

00:36:59,590 --> 00:37:03,490
so that they have something to eat in

00:37:01,000 --> 00:37:05,290
transit and you just pop the lid off and

00:37:03,490 --> 00:37:07,300
then you take the can out and then you

00:37:05,290 --> 00:37:08,770
pour the bees into the box it's the

00:37:07,300 --> 00:37:10,840
craziest thing like cornering bees I've

00:37:08,770 --> 00:37:13,330
never seen that before but you just dump

00:37:10,840 --> 00:37:15,490
the 10,000 bees in there if you don't

00:37:13,330 --> 00:37:18,550
have packaged bees you can collect a

00:37:15,490 --> 00:37:21,790
swarm when you see like a bunch of bees

00:37:18,550 --> 00:37:23,680
out there actually really docile at that

00:37:21,790 --> 00:37:25,180
point and they all come together and you

00:37:23,680 --> 00:37:27,340
can just usually just cut the branch off

00:37:25,180 --> 00:37:29,290
that they're they're hanging on and then

00:37:27,340 --> 00:37:30,970
you set them on top of an empty box and

00:37:29,290 --> 00:37:33,310
they just kind of melt down into the box

00:37:30,970 --> 00:37:36,640
and they're like ah I'm at home so it's

00:37:33,310 --> 00:37:38,290
really fun to watch them do that this is

00:37:36,640 --> 00:37:39,730
a photo of some bees that are on the

00:37:38,290 --> 00:37:40,740
front of the box that's called the

00:37:39,730 --> 00:37:42,450
landing board

00:37:40,740 --> 00:37:44,460
because they fly in they land right

00:37:42,450 --> 00:37:46,350
there and if you look really closely you

00:37:44,460 --> 00:37:48,030
can see the pollen baskets that they

00:37:46,350 --> 00:37:49,560
have like on those back legs they stuff

00:37:48,030 --> 00:37:51,540
them full of pollen and they bring it

00:37:49,560 --> 00:37:54,450
back the pollen is actually protein so

00:37:51,540 --> 00:37:57,570
they eat pollen besides nectar that

00:37:54,450 --> 00:37:59,190
they'll gather and so you'll also notice

00:37:57,570 --> 00:38:01,650
there's that board that there's that

00:37:59,190 --> 00:38:03,450
kind of like white strip there there's

00:38:01,650 --> 00:38:05,160
an entrance reducer that you can put on

00:38:03,450 --> 00:38:06,540
the hive once you first load them in

00:38:05,160 --> 00:38:08,700
there this helps them defend their hive

00:38:06,540 --> 00:38:10,410
so normally they have a nice big place

00:38:08,700 --> 00:38:12,660
on that a landing board they can come

00:38:10,410 --> 00:38:14,430
and go but at certain times a year you

00:38:12,660 --> 00:38:17,220
put the entrance reducer on there and it

00:38:14,430 --> 00:38:20,010
helps them manage their hive so they

00:38:17,220 --> 00:38:22,980
keep pests out and stuff like that this

00:38:20,010 --> 00:38:26,160
is what a brood frame looks like so they

00:38:22,980 --> 00:38:28,380
the Queen lays eggs into the comb and

00:38:26,160 --> 00:38:29,640
then they cap it and then you have these

00:38:28,380 --> 00:38:31,440
that maintain it and you can actually

00:38:29,640 --> 00:38:33,180
just lift these frames right out it's

00:38:31,440 --> 00:38:35,310
super cool if you ever have an

00:38:33,180 --> 00:38:38,010
opportunity to go to an apiary or

00:38:35,310 --> 00:38:39,960
somebody that keeps bees ask them to

00:38:38,010 --> 00:38:41,970
crack the Box open and pull a frame out

00:38:39,960 --> 00:38:44,250
and check it out it's really neat a lot

00:38:41,970 --> 00:38:45,690
of times my wife will use she has like a

00:38:44,250 --> 00:38:47,280
beekeeping suit and all that stuff but

00:38:45,690 --> 00:38:49,560
sometimes I'll just go out there with

00:38:47,280 --> 00:38:51,380
her and you know just you just go use

00:38:49,560 --> 00:38:54,450
your bare hands it's usually pretty cool

00:38:51,380 --> 00:38:56,160
and one of the interesting things is the

00:38:54,450 --> 00:38:58,320
bees actually glue these frames in they

00:38:56,160 --> 00:39:02,310
have something called propolis that's

00:38:58,320 --> 00:39:05,010
like superglue it's ridiculously strong

00:39:02,310 --> 00:39:06,570
and hard and they will glue things

00:39:05,010 --> 00:39:08,910
together like they glue the boxes

00:39:06,570 --> 00:39:10,530
together they glue the frames down and

00:39:08,910 --> 00:39:12,119
so you'll have like a beekeeping tool I

00:39:10,530 --> 00:39:14,340
didn't have a photo of one but it's this

00:39:12,119 --> 00:39:15,869
metal kind of like knife looking thing

00:39:14,340 --> 00:39:17,940
that beekeepers will use to crack the

00:39:15,869 --> 00:39:19,290
boxes open and break that propolis but

00:39:17,940 --> 00:39:20,940
you can actually scrape the purple this

00:39:19,290 --> 00:39:22,710
out and then melt it down and then use

00:39:20,940 --> 00:39:24,180
it to do all kinds of different things

00:39:22,710 --> 00:39:25,890
so for instance like if you had like a

00:39:24,180 --> 00:39:27,240
bad cut on your finger something you can

00:39:25,890 --> 00:39:29,130
use it just like you would superglue

00:39:27,240 --> 00:39:31,619
instead of getting stitches you can just

00:39:29,130 --> 00:39:36,050
glue it shut with propolis it's crazy

00:39:31,619 --> 00:39:38,220
it's ridiculously hard strong stuff

00:39:36,050 --> 00:39:40,980
these also do something that's

00:39:38,220 --> 00:39:42,750
interesting called bearding when it gets

00:39:40,980 --> 00:39:44,550
hot they actually gather on the outside

00:39:42,750 --> 00:39:47,190
of the box and so they will cover the

00:39:44,550 --> 00:39:48,750
outside of the hives and they actually

00:39:47,190 --> 00:39:49,440
look like they're dripping down like a

00:39:48,750 --> 00:39:51,780
big beard

00:39:49,440 --> 00:39:53,580
this photo kind of shows a bunch on the

00:39:51,780 --> 00:39:55,200
outside they're not like

00:39:53,580 --> 00:39:57,690
but they another interesting fact is

00:39:55,200 --> 00:39:59,550
they don't fly at night so in the

00:39:57,690 --> 00:40:02,340
evening they all kind of just walk

00:39:59,550 --> 00:40:03,720
around and they don't do any flying and

00:40:02,340 --> 00:40:05,580
so it's just something I thought was

00:40:03,720 --> 00:40:07,110
interesting and the waggle dance this is

00:40:05,580 --> 00:40:09,690
also something interesting that bees do

00:40:07,110 --> 00:40:11,790
they actually do this they spin and

00:40:09,690 --> 00:40:14,520
vibrate and that kind of tells other

00:40:11,790 --> 00:40:16,740
bees where flowers and sources of nectar

00:40:14,520 --> 00:40:18,480
are located and it's so well known that

00:40:16,740 --> 00:40:21,000
you can actually put set up a camera

00:40:18,480 --> 00:40:23,550
watch the bees and then calculate where

00:40:21,000 --> 00:40:26,040
those sources of flowers and stuff are

00:40:23,550 --> 00:40:28,170
at and you could like fly a drone out

00:40:26,040 --> 00:40:29,850
there and go look at where the bees are

00:40:28,170 --> 00:40:33,330
head and when they come back from

00:40:29,850 --> 00:40:34,980
getting the nectar they produce honey

00:40:33,330 --> 00:40:36,060
and then you can extract it out of the

00:40:34,980 --> 00:40:38,550
frames and this is what it looks like

00:40:36,060 --> 00:40:45,959
when you're extracting

00:40:38,550 --> 00:40:45,959

YouTube URL: https://www.youtube.com/watch?v=xaFAhpqCAl0


