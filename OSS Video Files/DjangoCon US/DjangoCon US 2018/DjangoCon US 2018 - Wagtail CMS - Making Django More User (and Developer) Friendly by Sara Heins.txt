Title: DjangoCon US 2018 - Wagtail CMS - Making Django More User (and Developer) Friendly by Sara Heins
Publication date: 2018-11-08
Playlist: DjangoCon US 2018
Description: 
	Django is a robust framework that can handle a lot of complex problems. However, if your goal is to get a simple marketing website up and running, it can be a little too complicated - especially for beginners who are new to frameworks. The admin itself can also appear clunky and confusing to users, and the path to creating a new type of page is paved with views, urls, templates and more!

Wouldnâ€™t it be nice to have an intuitive UI for the admin, and a quick, templated way to create pages in just a few lines of code?

Enter Wagtail - a simple, yet elegant, content management system. With a beautiful admin (great for your clients), a Page class that abstracts things like url structures and views (great for beginners) and built-in WYSIWYG page models (great for on-the-fly content customization), you can focus on getting a flexible site up and running while still having the power of Django to solve complex problems (like querying) when you need it.

This talk will teach you the basics of how Wagtail can save you time and effort by not re-inventing the CMS wheel. Itâ€™s aimed at anyone who wants a more user-friendly, out-of-the-box CMS, whether youâ€™re a beginner who is struggling to grasp the concepts of a framework or a seasoned developer looking to streamline this aspect of your project.

This talk was presented at: https://2018.djangocon.us/talk/wagtail-cms-making-django-more-user-and/

LINKS:
Follow Sara Heins ðŸ‘‡
On Twitter: https://twitter.com/saraheinstweets
Official homepage: https://github.com/sheins

Follow DjangCon US ðŸ‘‡
https://twitter.com/djangocon

Follow DEFNA ðŸ‘‡
https://twitter.com/defnado
https://www.defna.org/
Captions: 
	00:00:00,050 --> 00:00:07,709
[Music]

00:00:15,440 --> 00:00:20,100
hi everyone

00:00:17,160 --> 00:00:22,230
hopefully all can hear me okay I am very

00:00:20,100 --> 00:00:24,359
excited to be here to talk about wagtail

00:00:22,230 --> 00:00:26,580
CMS and how it makes Django more user

00:00:24,359 --> 00:00:29,250
and developer friendly my name is Sarah

00:00:26,580 --> 00:00:31,590
Hines a little bit about me I'm a

00:00:29,250 --> 00:00:33,510
self-taught developer I was the program

00:00:31,590 --> 00:00:35,820
director for Django girls Kansas City

00:00:33,510 --> 00:00:38,040
for the past two years I've spoken at

00:00:35,820 --> 00:00:40,590
Django Connie you this past summer about

00:00:38,040 --> 00:00:42,000
how to get more women in tech and I was

00:00:40,590 --> 00:00:44,160
a wagtail developer for the past three

00:00:42,000 --> 00:00:46,879
years I recently switched jobs but I've

00:00:44,160 --> 00:00:49,260
used wagtail for quite some time

00:00:46,879 --> 00:00:50,489
so just jumping right in on the agenda

00:00:49,260 --> 00:00:52,379
for today we're going to talk about what

00:00:50,489 --> 00:00:54,629
wagtail is if you're not familiar we

00:00:52,379 --> 00:00:56,219
will build a blog site together and then

00:00:54,629 --> 00:00:59,399
we'll extend that sites functionality

00:00:56,219 --> 00:01:01,590
with some cool new features it's what is

00:00:59,399 --> 00:01:03,870
wagtail well it's a content management

00:01:01,590 --> 00:01:05,850
system for Django and you might think

00:01:03,870 --> 00:01:08,189
why do we need a content management

00:01:05,850 --> 00:01:10,320
system for Django doesn't Django already

00:01:08,189 --> 00:01:13,320
have a really great admin that we can

00:01:10,320 --> 00:01:14,909
interact with and I'd have to agree with

00:01:13,320 --> 00:01:17,250
the two scoops of Django authors saying

00:01:14,909 --> 00:01:20,549
that the Django admin was not intended

00:01:17,250 --> 00:01:23,520
for the end user and here it is quick

00:01:20,549 --> 00:01:26,430
refresher I mean it's fine like you know

00:01:23,520 --> 00:01:28,979
you can go in two groups as a developer

00:01:26,430 --> 00:01:30,900
and add a class or an instance of a

00:01:28,979 --> 00:01:32,689
class and change your models there but

00:01:30,900 --> 00:01:35,490
if you're just a non-technical person

00:01:32,689 --> 00:01:38,670
you don't really understand what this

00:01:35,490 --> 00:01:40,650
layout means you might get lost and

00:01:38,670 --> 00:01:42,899
there's not really a good hierarchy to

00:01:40,650 --> 00:01:44,579
like how to edit things so it's not the

00:01:42,899 --> 00:01:46,140
best graphical user interface but it's

00:01:44,579 --> 00:01:47,220
great for you know developers who know

00:01:46,140 --> 00:01:49,920
exactly what they're doing and what

00:01:47,220 --> 00:01:52,649
needs to be done so some pros about

00:01:49,920 --> 00:01:55,530
wagtail there is rapid page development

00:01:52,649 --> 00:01:57,719
as a programmer there's a beautiful user

00:01:55,530 --> 00:02:00,540
friendly admin and it's beginner

00:01:57,719 --> 00:02:02,189
friendly especially for developers some

00:02:00,540 --> 00:02:05,729
cons there's not as much documentation

00:02:02,189 --> 00:02:08,250
the people that you use wagtail that's a

00:02:05,729 --> 00:02:10,920
subset of Django it's not very high and

00:02:08,250 --> 00:02:12,090
so since there are fewer users there

00:02:10,920 --> 00:02:13,140
aren't going to be as many of your

00:02:12,090 --> 00:02:15,360
questions around

00:02:13,140 --> 00:02:18,900
overflow already which is kind of a

00:02:15,360 --> 00:02:21,140
bummer there's a reaction when my

00:02:18,900 --> 00:02:23,340
question is not on stackoverflow already

00:02:21,140 --> 00:02:27,450
there's always the source code though

00:02:23,340 --> 00:02:29,340
right so it's pretty simple to use so

00:02:27,450 --> 00:02:31,410
hopefully most of your questions are

00:02:29,340 --> 00:02:34,950
already answered okay

00:02:31,410 --> 00:02:36,330
so let's build a site for every good

00:02:34,950 --> 00:02:38,610
conference talk you don't want to have a

00:02:36,330 --> 00:02:40,500
theme and so I recently moved from

00:02:38,610 --> 00:02:43,290
Kansas City to Seattle so I thought hey

00:02:40,500 --> 00:02:44,880
let's build a blog website that helps

00:02:43,290 --> 00:02:47,130
teach people from the Midwest or the

00:02:44,880 --> 00:02:48,720
East Coast adjust to their new lifestyle

00:02:47,130 --> 00:02:52,590
in the Pacific Northwest because it can

00:02:48,720 --> 00:02:53,940
be very different so yeah there's lots

00:02:52,590 --> 00:02:56,040
of new Seattle lights coming in a

00:02:53,940 --> 00:03:00,020
thousand per week so let's let's build

00:02:56,040 --> 00:03:03,450
them some tips and tricks for surviving

00:03:00,020 --> 00:03:05,130
your goals as the webmaster you want to

00:03:03,450 --> 00:03:07,260
get your site up and running fast you

00:03:05,130 --> 00:03:08,790
have a day job let's say and although

00:03:07,260 --> 00:03:11,880
you do want to help other people get to

00:03:08,790 --> 00:03:13,320
know the new city this isn't how you

00:03:11,880 --> 00:03:14,970
want to spend all of your free time so

00:03:13,320 --> 00:03:17,130
you need to get it up friend anything

00:03:14,970 --> 00:03:18,750
fast and you need to be as hands-off as

00:03:17,130 --> 00:03:20,250
possible after the site's live you don't

00:03:18,750 --> 00:03:22,380
want to push up a bunch of code you want

00:03:20,250 --> 00:03:26,610
it to be very easy to just write a blog

00:03:22,380 --> 00:03:28,080
post whenever you want okay so we'll get

00:03:26,610 --> 00:03:30,060
started here this should look pretty

00:03:28,080 --> 00:03:32,700
similar to Jing go at this point you do

00:03:30,060 --> 00:03:34,140
a pip install of wagtail you do wagtails

00:03:32,700 --> 00:03:36,720
start and then your project name we're

00:03:34,140 --> 00:03:38,549
calling ours surviving Seattle you

00:03:36,720 --> 00:03:41,310
change directories and to your project

00:03:38,549 --> 00:03:43,170
install requirements migrate creates

00:03:41,310 --> 00:03:44,549
super user run server all that good

00:03:43,170 --> 00:03:47,340
stuff that you're probably used to if

00:03:44,549 --> 00:03:50,250
you use Jango before so when you run

00:03:47,340 --> 00:03:52,110
server you get something like this this

00:03:50,250 --> 00:03:54,060
is kind of ugly that's fine it's just a

00:03:52,110 --> 00:03:56,010
temporary home page template we're gonna

00:03:54,060 --> 00:03:59,130
get rid of it pretty quickly but if you

00:03:56,010 --> 00:04:01,170
follow that link to the admin this is a

00:03:59,130 --> 00:04:02,910
lot different than the jingo admin and

00:04:01,170 --> 00:04:05,730
you notice the Django admin was a little

00:04:02,910 --> 00:04:07,739
bit ugly and this is quite beautiful and

00:04:05,730 --> 00:04:09,690
it's way more intuitive you know that

00:04:07,739 --> 00:04:12,120
you're making a website and you're going

00:04:09,690 --> 00:04:13,799
to add pages this is a blog site it's

00:04:12,120 --> 00:04:15,120
easy to see oh there's a big button

00:04:13,799 --> 00:04:17,609
that's probably where I'm gonna end up

00:04:15,120 --> 00:04:20,220
adding my pages there's a settings on

00:04:17,609 --> 00:04:25,650
the left-hand here you know where to add

00:04:20,220 --> 00:04:26,730
images it's a lot more intuitive so back

00:04:25,650 --> 00:04:29,790
to these commands that

00:04:26,730 --> 00:04:31,770
we just ran wagtail starts reviving

00:04:29,790 --> 00:04:33,060
seattle that's a lot like starting up a

00:04:31,770 --> 00:04:35,250
Django project and it does start a

00:04:33,060 --> 00:04:36,810
Django project for you but it does a lot

00:04:35,250 --> 00:04:37,520
of other really cool things for you as

00:04:36,810 --> 00:04:40,200
well

00:04:37,520 --> 00:04:42,930
you get for free this really cool home

00:04:40,200 --> 00:04:44,760
app and in that home app you'll see a

00:04:42,930 --> 00:04:46,770
special home underscore page HTML

00:04:44,760 --> 00:04:48,540
template and you'll also see your

00:04:46,770 --> 00:04:50,610
existing models and you can tell there's

00:04:48,540 --> 00:04:51,900
a migration right here so we know

00:04:50,610 --> 00:04:54,060
there's something going on in our models

00:04:51,900 --> 00:04:55,860
already although not a whole lot is

00:04:54,060 --> 00:04:59,670
happening but it's just kind of a

00:04:55,860 --> 00:05:01,500
preference for what's coming next so in

00:04:59,670 --> 00:05:03,960
your models you'll see that you'll have

00:05:01,500 --> 00:05:07,020
a class it's called home page in title

00:05:03,960 --> 00:05:09,060
case the last word of your class has to

00:05:07,020 --> 00:05:11,130
be page and then you have a

00:05:09,060 --> 00:05:15,210
corresponding home underscore page which

00:05:11,130 --> 00:05:17,520
is your class name but in snake case and

00:05:15,210 --> 00:05:19,460
if you do these things correctly a lot

00:05:17,520 --> 00:05:22,770
of magic happens

00:05:19,460 --> 00:05:23,220
spec to the home model stuff I here's

00:05:22,770 --> 00:05:27,180
what we've got

00:05:23,220 --> 00:05:28,740
so we've got this really cool whack tail

00:05:27,180 --> 00:05:30,060
core models import page and that's what

00:05:28,740 --> 00:05:32,340
we're going to inherit from and we've

00:05:30,060 --> 00:05:35,820
got this home page class and that does a

00:05:32,340 --> 00:05:37,290
lot of stuff for us already this awesome

00:05:35,820 --> 00:05:39,690
naming convention lets you forget about

00:05:37,290 --> 00:05:41,520
views you don't have to write any URLs

00:05:39,690 --> 00:05:44,280
and you can really just focus on making

00:05:41,520 --> 00:05:47,730
pages and spinning up models and getting

00:05:44,280 --> 00:05:50,220
your site up and ready fast so to make

00:05:47,730 --> 00:05:52,770
this a little bit more interesting we're

00:05:50,220 --> 00:05:54,870
gonna add some models to our class so

00:05:52,770 --> 00:05:56,670
here we've got this new thing called a

00:05:54,870 --> 00:05:59,310
rich text field and that is from the

00:05:56,670 --> 00:06:01,740
wagtail core fields this is kind of like

00:05:59,310 --> 00:06:05,220
a text field with Django except for it's

00:06:01,740 --> 00:06:07,590
on steroids and it allows you to get

00:06:05,220 --> 00:06:10,080
this cool WYSIWYG or what you see it's

00:06:07,590 --> 00:06:12,060
what you get editor in the admin and so

00:06:10,080 --> 00:06:14,010
you can do things like add headings that

00:06:12,060 --> 00:06:15,150
bullet points all these really cool

00:06:14,010 --> 00:06:17,880
features that you don't have to write in

00:06:15,150 --> 00:06:20,070
markdown or HTML so it makes adding it

00:06:17,880 --> 00:06:21,810
in the admin really easy you also have

00:06:20,070 --> 00:06:23,670
this thing called content panels at the

00:06:21,810 --> 00:06:25,350
bottom and this is how you declare what

00:06:23,670 --> 00:06:27,480
you want to show up in the wagtail admin

00:06:25,350 --> 00:06:28,950
when you want to add your content so

00:06:27,480 --> 00:06:30,270
instead of you know going to like an

00:06:28,950 --> 00:06:32,760
admin dot PI file or something like that

00:06:30,270 --> 00:06:35,760
you just declare it right here so cool

00:06:32,760 --> 00:06:38,420
so I'm gonna show a video of what this

00:06:35,760 --> 00:06:38,420
looks like

00:06:42,200 --> 00:06:47,790
sure okay so we're gonna create a home

00:06:45,840 --> 00:06:49,980
page here in the WAC tale admin you can

00:06:47,790 --> 00:06:52,740
see how easy it is we're to add a child

00:06:49,980 --> 00:06:53,730
page to our root we'll add a title here

00:06:52,740 --> 00:06:56,580
we're going to call it

00:06:53,730 --> 00:06:59,190
surviving Seattle well add some content

00:06:56,580 --> 00:07:01,610
you can see here's your WYSIWYG editor

00:06:59,190 --> 00:07:04,230
you can add a bunch of cool stuff there

00:07:01,610 --> 00:07:05,940
this is your promote panel the slug

00:07:04,230 --> 00:07:08,010
comes from the title that you just gave

00:07:05,940 --> 00:07:09,030
it Auto populates and we're gonna show

00:07:08,010 --> 00:07:12,210
in menus which is something we'll talk

00:07:09,030 --> 00:07:13,980
about later now we'll go into settings

00:07:12,210 --> 00:07:15,510
and we're gonna change the site from the

00:07:13,980 --> 00:07:18,120
default home page templates see the new

00:07:15,510 --> 00:07:21,240
one we just created so we changed the

00:07:18,120 --> 00:07:25,440
root page here and we'll select the new

00:07:21,240 --> 00:07:26,820
one and hit save okay cool

00:07:25,440 --> 00:07:28,560
now we go back and we just want to

00:07:26,820 --> 00:07:29,910
double check that the change we made

00:07:28,560 --> 00:07:32,430
actually worked and we see this globe

00:07:29,910 --> 00:07:34,620
and that means that that is actually our

00:07:32,430 --> 00:07:36,860
new home page so everything worked out

00:07:34,620 --> 00:07:36,860
fine

00:07:40,190 --> 00:07:43,730
okay so if we went to that site now it

00:07:42,230 --> 00:07:45,260
would still show that really ugly and

00:07:43,730 --> 00:07:46,990
default the homepage because we haven't

00:07:45,260 --> 00:07:49,790
done anything to the template yet so

00:07:46,990 --> 00:07:52,010
let's go back and this is a pretty

00:07:49,790 --> 00:07:53,720
standard gen Django template extends

00:07:52,010 --> 00:07:55,780
from a base you've got your block

00:07:53,720 --> 00:08:01,310
content that you know you can swap out

00:07:55,780 --> 00:08:02,720
so again there's the ugly one we want to

00:08:01,310 --> 00:08:05,030
who's just a reference back to the model

00:08:02,720 --> 00:08:07,940
we added it was a body we're gonna plop

00:08:05,030 --> 00:08:11,030
that into our content and now we've got

00:08:07,940 --> 00:08:12,980
page title and page body with this rich

00:08:11,030 --> 00:08:15,140
text filter and that rich text filter

00:08:12,980 --> 00:08:18,050
lets you use those rich text fields that

00:08:15,140 --> 00:08:19,550
we added in our models and that's what

00:08:18,050 --> 00:08:21,440
displays everything nicely if you leave

00:08:19,550 --> 00:08:25,520
that off you're gonna get some weird

00:08:21,440 --> 00:08:26,840
behavior on the front end so cool also

00:08:25,520 --> 00:08:29,390
just want to point out pages your

00:08:26,840 --> 00:08:30,560
context so you see page the title or

00:08:29,390 --> 00:08:32,960
page type body

00:08:30,560 --> 00:08:33,469
you can also use self dot title or self

00:08:32,960 --> 00:08:36,140
dot funny

00:08:33,469 --> 00:08:37,910
it's just something might build us okay

00:08:36,140 --> 00:08:41,120
cool so now if we go to our localhost

00:08:37,910 --> 00:08:43,160
you can see our new site surviving this

00:08:41,120 --> 00:08:45,860
yeah well we've got a nice little body

00:08:43,160 --> 00:08:48,350
there and everything is looking good so

00:08:45,860 --> 00:08:49,880
far so we're gonna extend this

00:08:48,350 --> 00:08:51,290
functionality a little bit further

00:08:49,880 --> 00:08:53,410
it was the home page just kind of like

00:08:51,290 --> 00:08:55,490
the hello world of web development so

00:08:53,410 --> 00:08:59,090
let's do something a little more

00:08:55,490 --> 00:09:00,980
interesting so you're gonna start apt

00:08:59,090 --> 00:09:03,770
just like Django we're gonna make one

00:09:00,980 --> 00:09:06,290
called blog and in the blog models we're

00:09:03,770 --> 00:09:08,600
gonna make this blog index page again

00:09:06,290 --> 00:09:11,260
this is title case the last word is page

00:09:08,600 --> 00:09:14,390
and inherits from the wagtail page class

00:09:11,260 --> 00:09:16,610
we're gonna just add some simple models

00:09:14,390 --> 00:09:18,560
here char field rich text field great

00:09:16,610 --> 00:09:21,710
we'll add content panels that we make

00:09:18,560 --> 00:09:24,470
sure it shows up in the admin now we'll

00:09:21,710 --> 00:09:27,470
create a corresponding template and we

00:09:24,470 --> 00:09:29,930
just created blog index page the class

00:09:27,470 --> 00:09:32,870
and so this has the corresponding snake

00:09:29,930 --> 00:09:35,090
case that's where all the magic happens

00:09:32,870 --> 00:09:39,770
which you'll see you soon okay

00:09:35,090 --> 00:09:41,870
so this in blog index page HTML we've

00:09:39,770 --> 00:09:43,850
got some some interesting things here

00:09:41,870 --> 00:09:46,400
we're just gonna use our title body

00:09:43,850 --> 00:09:48,740
subtitle great nothing super interesting

00:09:46,400 --> 00:09:51,589
yet and then we zoom in for this for

00:09:48,740 --> 00:09:53,089
loop at the bottom and some cool stuff

00:09:51,589 --> 00:09:55,550
is going on here

00:09:53,089 --> 00:09:58,009
we've got four posts and page Duquette

00:09:55,550 --> 00:09:59,990
children and page here is the blog index

00:09:58,009 --> 00:10:02,120
page and we haven't made any blog posts

00:09:59,990 --> 00:10:03,379
yet or even a blog post class but we

00:10:02,120 --> 00:10:05,180
know in the future we're gonna want to

00:10:03,379 --> 00:10:07,490
display all the posts that belong to the

00:10:05,180 --> 00:10:09,529
index page so that's where the get

00:10:07,490 --> 00:10:11,029
children goes and doing that in the

00:10:09,529 --> 00:10:13,360
wagtail admin would get children is

00:10:11,029 --> 00:10:17,209
really super simple

00:10:13,360 --> 00:10:19,490
you'll also notice to get the link to

00:10:17,209 --> 00:10:21,829
the blog post you can just use this

00:10:19,490 --> 00:10:24,499
really simple tag called page URL and

00:10:21,829 --> 00:10:29,269
pass it page object and it makes linky

00:10:24,499 --> 00:10:30,829
and opposed really super simple okay so

00:10:29,269 --> 00:10:32,449
now we're gonna make a blog page class

00:10:30,829 --> 00:10:34,160
and this is gonna be for the individual

00:10:32,449 --> 00:10:42,680
posts that we'll want to display on the

00:10:34,160 --> 00:10:44,689
blog index page okay so back to our blog

00:10:42,680 --> 00:10:46,009
models this is gonna go beneath your

00:10:44,689 --> 00:10:48,459
blog index page we're just gonna make a

00:10:46,009 --> 00:10:51,559
simple class called blog page again

00:10:48,459 --> 00:10:53,600
title case this word has to be page and

00:10:51,559 --> 00:10:55,129
it inherits from the page we're gonna

00:10:53,600 --> 00:10:58,610
make some models things that make sense

00:10:55,129 --> 00:10:59,240
for a blog state summary body all sounds

00:10:58,610 --> 00:11:01,250
good

00:10:59,240 --> 00:11:02,629
below that we add our content panels to

00:11:01,250 --> 00:11:07,309
make sure it shows up in the wagtail

00:11:02,629 --> 00:11:11,660
admin and now we make our template okay

00:11:07,309 --> 00:11:14,420
so here we go we've got this is another

00:11:11,660 --> 00:11:16,699
way you can do URLs really easily in

00:11:14,420 --> 00:11:19,370
wagtail you do page you can use get

00:11:16,699 --> 00:11:21,319
parent to get the parent URL and then

00:11:19,370 --> 00:11:24,160
that's a really good way to return to

00:11:21,319 --> 00:11:24,160
the blog category

00:11:36,499 --> 00:11:41,059
all right cool

00:11:39,709 --> 00:11:44,269
so we're gonna add our block category

00:11:41,059 --> 00:11:46,189
page here select blog index page lat

00:11:44,269 --> 00:11:48,199
title we're gonna call this category

00:11:46,189 --> 00:11:50,749
hiking tips and tricks something that

00:11:48,199 --> 00:11:59,239
you might want to do in Seattle we're

00:11:50,749 --> 00:12:02,269
just gonna add a body here all right

00:11:59,239 --> 00:12:04,759
cool publish that and then we're going

00:12:02,269 --> 00:12:07,209
to add a blog post to this blog category

00:12:04,759 --> 00:12:09,259
so we're going to add the blog page type

00:12:07,209 --> 00:12:12,139
we're going to call it don't forget the

00:12:09,259 --> 00:12:13,789
ten essentials which is if anyone goes

00:12:12,139 --> 00:12:16,009
hiking you know those are the things you

00:12:13,789 --> 00:12:17,929
need to bring it's got a really good

00:12:16,009 --> 00:12:20,719
date picker we're gonna add a summary

00:12:17,929 --> 00:12:24,319
we're just gonna copy pasta some some

00:12:20,719 --> 00:12:27,019
text from social good it's um because

00:12:24,319 --> 00:12:31,039
we're in the Pacific Northwest alright

00:12:27,019 --> 00:12:33,199
we're gonna publish that great so that

00:12:31,039 --> 00:12:42,679
was pretty simple and then if you go

00:12:33,199 --> 00:12:44,179
back to the front-facing look at your

00:12:42,679 --> 00:12:47,509
URL structure so this is the blog

00:12:44,179 --> 00:12:49,909
category this is your pay yeah your post

00:12:47,509 --> 00:12:54,169
and it just does that for you like I

00:12:49,909 --> 00:12:56,479
didn't write any views I write any weird

00:12:54,169 --> 00:12:58,999
regular expressions and URLs I hate

00:12:56,479 --> 00:13:00,559
writing regular expressions and I didn't

00:12:58,999 --> 00:13:02,569
have to remember any like weird URL

00:13:00,559 --> 00:13:04,579
syntax when linking to it and the

00:13:02,569 --> 00:13:05,899
template so it's all pretty easy we

00:13:04,579 --> 00:13:07,429
didn't do a whole lot of work and we

00:13:05,899 --> 00:13:10,549
have a pretty functional blog site

00:13:07,429 --> 00:13:12,439
already and then just to kind of see how

00:13:10,549 --> 00:13:16,129
the scales I added a few more blog posts

00:13:12,439 --> 00:13:17,720
and categories and when I did that it

00:13:16,129 --> 00:13:18,589
looks good but the post order was a

00:13:17,720 --> 00:13:21,319
little bit strange

00:13:18,589 --> 00:13:23,779
by using get children to display so

00:13:21,319 --> 00:13:26,089
you'll see my first post July first

00:13:23,779 --> 00:13:28,759
and then the next post August first and

00:13:26,089 --> 00:13:31,069
then the last post August 28th now you

00:13:28,759 --> 00:13:33,199
know when you're posting on blogs you

00:13:31,069 --> 00:13:34,969
know people are going to be expecting

00:13:33,199 --> 00:13:38,359
that a newest blog comes from the top

00:13:34,969 --> 00:13:40,789
and this is pretty easy to do rather

00:13:38,359 --> 00:13:43,489
than this like we're the oldest post is

00:13:40,789 --> 00:13:44,989
at the top so let's display these a

00:13:43,489 --> 00:13:47,929
little bit more intuitively and we can

00:13:44,989 --> 00:13:49,820
do this pretty easily so we're going to

00:13:47,929 --> 00:13:55,130
override the get contacts method for

00:13:49,820 --> 00:13:58,820
the blog index page we've got them in a

00:13:55,130 --> 00:14:00,860
little bit self dot get children self

00:13:58,820 --> 00:14:04,340
being the blog index page get children

00:14:00,860 --> 00:14:06,290
being the blog post here we only want to

00:14:04,340 --> 00:14:08,030
select the live ones you can do drafts

00:14:06,290 --> 00:14:10,550
in wagtail but we don't want to display

00:14:08,030 --> 00:14:12,650
any drafts and then we're gonna order by

00:14:10,550 --> 00:14:14,900
the descending first published at so

00:14:12,650 --> 00:14:16,520
that little negative sign just means to

00:14:14,900 --> 00:14:20,660
do the opposite so it's pretty much like

00:14:16,520 --> 00:14:22,460
saying last published at and then we add

00:14:20,660 --> 00:14:25,550
the blog pages to the context we can

00:14:22,460 --> 00:14:26,960
reference it back in the template and

00:14:25,550 --> 00:14:29,570
there we go now on our blog index page

00:14:26,960 --> 00:14:30,860
we can replace and our for loop page get

00:14:29,570 --> 00:14:33,890
children we just replace it with blog

00:14:30,860 --> 00:14:36,430
pages so that's what it used to look

00:14:33,890 --> 00:14:38,990
like this is what we're changing it to

00:14:36,430 --> 00:14:44,150
and cool now we've got it in the right

00:14:38,990 --> 00:14:45,500
order that was pretty easy alright now

00:14:44,150 --> 00:14:48,130
we want to do something we want to add

00:14:45,500 --> 00:14:50,030
all the blog categories to the homepage

00:14:48,130 --> 00:14:51,530
and we don't really care what order

00:14:50,030 --> 00:14:55,520
they're in because it's kind of up to

00:14:51,530 --> 00:14:57,170
the content editor or us because you

00:14:55,520 --> 00:14:59,270
know blog posts it makes sense to do

00:14:57,170 --> 00:15:01,160
them in descending order but you know

00:14:59,270 --> 00:15:04,970
the categories are just kind of how we

00:15:01,160 --> 00:15:06,470
feel in the moment so using page

00:15:04,970 --> 00:15:09,200
Duquette children is totally fine here

00:15:06,470 --> 00:15:10,880
so in the homepage we're going to loop

00:15:09,200 --> 00:15:14,060
through all the home pages children

00:15:10,880 --> 00:15:15,800
which is our blog index pages and then

00:15:14,060 --> 00:15:18,080
just list the title in the body so

00:15:15,800 --> 00:15:21,680
pretty simple there and you get

00:15:18,080 --> 00:15:23,440
something like this so we've got hiking

00:15:21,680 --> 00:15:25,250
tips and tricks surviving the rain

00:15:23,440 --> 00:15:28,570
pretending to like Dave Matthews Band

00:15:25,250 --> 00:15:30,890
which has been the hardest one for me

00:15:28,570 --> 00:15:33,320
public transportation options and

00:15:30,890 --> 00:15:35,150
dressing and all black I did not wear my

00:15:33,320 --> 00:15:37,850
Seattle attire today it was a little too

00:15:35,150 --> 00:15:43,420
hot for for San Diego but normally I'm

00:15:37,850 --> 00:15:45,920
in all neutrals now alright alright so

00:15:43,420 --> 00:15:48,170
this is if you do want to change the

00:15:45,920 --> 00:15:49,910
order let's say that you know I realize

00:15:48,170 --> 00:15:51,950
now that it rains nine months out of the

00:15:49,910 --> 00:15:53,630
year in Seattle so maybe surviving the

00:15:51,950 --> 00:15:55,460
rain is a little bit more important than

00:15:53,630 --> 00:15:57,380
hiking tips and tricks and we want to

00:15:55,460 --> 00:16:02,270
change the order of that Michael makes

00:15:57,380 --> 00:16:04,450
it really easy so one last video for you

00:16:02,270 --> 00:16:04,450
mom

00:16:07,270 --> 00:16:13,169
[Music]

00:16:09,469 --> 00:16:16,529
okay before I start so the default order

00:16:13,169 --> 00:16:18,269
that it shows is the last page that you

00:16:16,529 --> 00:16:19,619
edited so which was really nice if you

00:16:18,269 --> 00:16:26,999
find yourself going back and editing a

00:16:19,619 --> 00:16:28,679
page but to get to the ordering you just

00:16:26,999 --> 00:16:30,029
hit this little ordering button it puts

00:16:28,679 --> 00:16:31,919
it in the real order and you just drag

00:16:30,029 --> 00:16:34,169
and drop and I don't know if you've ever

00:16:31,919 --> 00:16:36,089
tried to like change the order of

00:16:34,169 --> 00:16:39,389
something in the Django admin but it's

00:16:36,089 --> 00:16:40,829
not very fun so this is this is really

00:16:39,389 --> 00:16:43,499
helpful especially if you're trying to

00:16:40,829 --> 00:16:45,059
like help your content team who's who

00:16:43,499 --> 00:16:46,739
wants to change the order of stuff on

00:16:45,059 --> 00:16:48,989
their whim and it's not there's not

00:16:46,739 --> 00:16:59,879
really a logical reason behind it this

00:16:48,989 --> 00:17:01,709
is really helpful so we will now see

00:16:59,879 --> 00:17:03,509
that surviving the rain is up above

00:17:01,709 --> 00:17:06,809
hiking tips and tricks that was pretty

00:17:03,509 --> 00:17:08,970
easy okay so what else can we do we've

00:17:06,809 --> 00:17:10,439
already made a blog there's a couple

00:17:08,970 --> 00:17:12,480
ways we can extend the site

00:17:10,439 --> 00:17:15,659
functionality based on what we already

00:17:12,480 --> 00:17:17,339
learned today so wet tiller valves

00:17:15,659 --> 00:17:20,129
around the concept of hierarchical tree

00:17:17,339 --> 00:17:21,480
structures if you have a computer

00:17:20,129 --> 00:17:24,329
science degree you're I'm sure you're

00:17:21,480 --> 00:17:26,039
very familiar with trees if you do not

00:17:24,329 --> 00:17:27,360
have a computer science degree you also

00:17:26,039 --> 00:17:29,999
are familiar with trees you might just

00:17:27,360 --> 00:17:31,980
not know it yet this is this is our tree

00:17:29,999 --> 00:17:33,779
structure right here we've got a

00:17:31,980 --> 00:17:35,190
homepage was a root we have a bunch of

00:17:33,779 --> 00:17:37,679
children these are our blog posts

00:17:35,190 --> 00:17:40,580
categories and then these children have

00:17:37,679 --> 00:17:43,019
their own children so these blog posts

00:17:40,580 --> 00:17:44,940
so you've used this but with like your

00:17:43,019 --> 00:17:47,279
operating system you can change

00:17:44,940 --> 00:17:50,249
directories down into like a child

00:17:47,279 --> 00:17:52,200
folder and then list those files in the

00:17:50,249 --> 00:17:55,289
directory it's all kind of the same

00:17:52,200 --> 00:17:56,999
concept here so because it's set up like

00:17:55,289 --> 00:17:58,499
this this gives you access to a lot of

00:17:56,999 --> 00:18:00,299
cool methods that you can take advantage

00:17:58,499 --> 00:18:02,519
of so we've already talked about get

00:18:00,299 --> 00:18:05,669
children get parent but you can also do

00:18:02,519 --> 00:18:07,769
get ancestors for like great

00:18:05,669 --> 00:18:09,690
grandchildren or great grandparents and

00:18:07,769 --> 00:18:12,600
siblings that's another relationship

00:18:09,690 --> 00:18:14,309
that's really powerful you also can use

00:18:12,600 --> 00:18:16,160
these in that query sets as well which

00:18:14,309 --> 00:18:17,900
is really nice

00:18:16,160 --> 00:18:18,890
like these two things do the same

00:18:17,900 --> 00:18:21,710
depending on what you're trying to

00:18:18,890 --> 00:18:23,690
accomplish and this makes creating

00:18:21,710 --> 00:18:25,789
navbar is really easy and our site right

00:18:23,690 --> 00:18:26,929
now is really lacking navigation so

00:18:25,789 --> 00:18:28,910
we're just going to make a quick

00:18:26,929 --> 00:18:29,450
template tag and kind of tie it all

00:18:28,910 --> 00:18:31,610
together

00:18:29,450 --> 00:18:35,059
so we're gonna start off by creating an

00:18:31,610 --> 00:18:37,640
app text at pi here's kind of the full

00:18:35,059 --> 00:18:39,410
text but we'll zoom in to focus on the

00:18:37,640 --> 00:18:43,520
good stuff so we're gonna make this get

00:18:39,410 --> 00:18:45,740
nav bar we'll do we want to get the main

00:18:43,520 --> 00:18:48,590
site and then from that site get the

00:18:45,740 --> 00:18:50,570
root page these things if you're

00:18:48,590 --> 00:18:53,120
wondering where like site objects come

00:18:50,570 --> 00:18:56,150
from in the first video whenever we

00:18:53,120 --> 00:18:58,730
changed the default homepage or the

00:18:56,150 --> 00:19:01,070
default route page this is where it

00:18:58,730 --> 00:19:03,020
comes from and this is your default site

00:19:01,070 --> 00:19:05,120
you can have multiple sites running away

00:19:03,020 --> 00:19:07,370
till that's all out of scope for the

00:19:05,120 --> 00:19:10,700
presentation so in this instance it's

00:19:07,370 --> 00:19:13,549
just the default site and then we want

00:19:10,700 --> 00:19:15,200
to do homepage get children to get all

00:19:13,549 --> 00:19:17,659
those blog categories we only want the

00:19:15,200 --> 00:19:20,120
live ones and then there's something new

00:19:17,659 --> 00:19:23,240
called in menu and this is a really

00:19:20,120 --> 00:19:24,890
great little tool too as well so you'll

00:19:23,240 --> 00:19:26,809
see that this is when you're editing a

00:19:24,890 --> 00:19:28,520
page content is where you would add the

00:19:26,809 --> 00:19:30,260
new text and titles and things and the

00:19:28,520 --> 00:19:32,570
promote panel has all this extra fun

00:19:30,260 --> 00:19:35,090
stuff like your slugs but also this

00:19:32,570 --> 00:19:36,470
little boolean to show in menus so

00:19:35,090 --> 00:19:37,760
sometimes you don't want to show every

00:19:36,470 --> 00:19:39,590
single menu and your navigation

00:19:37,760 --> 00:19:42,650
sometimes you do so you can toggle that

00:19:39,590 --> 00:19:44,590
on and off there then you just return

00:19:42,650 --> 00:19:47,299
pages so you can use it in your template

00:19:44,590 --> 00:19:50,030
okay so now we make the actual template

00:19:47,299 --> 00:19:51,710
for the template tag called nav bar this

00:19:50,030 --> 00:19:53,480
is really simple for loop just look

00:19:51,710 --> 00:19:57,950
through your pages we just spit out the

00:19:53,480 --> 00:19:59,780
page URL and the page title load that

00:19:57,950 --> 00:20:02,929
and the basis HTML so you see it on

00:19:59,780 --> 00:20:04,880
every page cool there's us loading our

00:20:02,929 --> 00:20:08,990
template tags there's us calling that

00:20:04,880 --> 00:20:10,909
method and then cool so we've got now we

00:20:08,990 --> 00:20:13,370
can access any of these blog categories

00:20:10,909 --> 00:20:14,720
from any page on the site you can take

00:20:13,370 --> 00:20:15,620
this a step further too with all the

00:20:14,720 --> 00:20:18,520
things that we've kind of learned

00:20:15,620 --> 00:20:20,419
already you can create an app drop down

00:20:18,520 --> 00:20:21,919
because you can nest get children

00:20:20,419 --> 00:20:25,130
indefinitely so it makes it really easy

00:20:21,919 --> 00:20:26,540
to do something like this where you

00:20:25,130 --> 00:20:27,580
display all the blog posts underneath

00:20:26,540 --> 00:20:31,080
the blog category

00:20:27,580 --> 00:20:33,220
and you do that pretty quickly so

00:20:31,080 --> 00:20:35,290
hopefully I learned a little bit about

00:20:33,220 --> 00:20:38,650
wagtail today we built a site together

00:20:35,290 --> 00:20:40,390
in about 25 minutes and then we extended

00:20:38,650 --> 00:20:43,690
that site with the new navbar

00:20:40,390 --> 00:20:46,000
functionality now I like barely scratch

00:20:43,690 --> 00:20:47,830
the surface of wagtail in the past 20

00:20:46,000 --> 00:20:48,520
minutes there is so much more it can do

00:20:47,830 --> 00:20:49,750
for you

00:20:48,520 --> 00:20:51,160
but those are some of my favorite

00:20:49,750 --> 00:20:53,860
features for like small marketing

00:20:51,160 --> 00:20:55,600
websites I encourage you if you found

00:20:53,860 --> 00:20:57,490
this talk useful to go explore their

00:20:55,600 --> 00:20:59,980
other their other features that they've

00:20:57,490 --> 00:21:01,270
got and if you're interested in looking

00:20:59,980 --> 00:21:04,480
at these slides later you can find them

00:21:01,270 --> 00:21:06,100
at s hei NS github that IO slash back

00:21:04,480 --> 00:21:07,900
tail and that's all I have for today

00:21:06,100 --> 00:21:13,459
thanks so much for coming to my talk

00:21:07,900 --> 00:21:13,459

YouTube URL: https://www.youtube.com/watch?v=jVf4TesDI3U


