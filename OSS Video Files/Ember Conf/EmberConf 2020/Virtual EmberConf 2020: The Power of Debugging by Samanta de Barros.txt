Title: Virtual EmberConf 2020: The Power of Debugging by Samanta de Barros
Publication date: 2020-03-26
Playlist: EmberConf 2020
Description: 
	The Power of Debugging by Samanta de Barros

Several tools can help us when trying to find a bug in our code, knowing them can be a very helpful skill. But finding bugs is not the only thing we can get from debugging.

In this talk, we’ll walk through a series of challenges, and aided by the different debugging tools at our disposal, we will not only fix the issues we have but also learn about Ember, how an Ember app is structured and how to find what you’re looking for, even in production code.
Captions: 
	                              [Music]                               hi everyone my name is Samantha thanks                               for being here                               virtually even today I will be talking                               about the power of the backing and my                               ideas to not only show you a few tricks                               but how you can use these tools to go                               beyond just debugging so my journey with                               the baton started several years ago back                                in college I didn't know coding before                                that and my professors philosophy was                                mostly to teach us the abstracts of                                programming and not so much the tools                                that meant that we were left to figure                                those things out by ourselves so in my                                case in the beginning I would use no                                parts program and yeah I meant doing                                everything manually now I'd love to say                                that it took me just a little bit to                                learn about all the other tools that I                                could use to make my experience easy                                easier but one year later I was still                                programming in notepad and just with a                                different language but then when I                                didn't know what was happening with my                                app when there was a bug already was                                just like exploding not functional at                                all I would add a print F that is like                                an equivalent for console.log and when I                                had likes you already aware my code was                                breaking I would literally just add                                printf everywhere like one per line of                                code thankfully after a while I did                                learn about IDs and bugging tools and                                this was from the days that I would call                                in dotnet and use Visual Studio for                                debugging one of the things that I miss                                the most about that debugger is being                                able to just keep skip lines of code the                                professor still has a habit I guess it's                                a difficult feature to have but it was                                super helpful nowadays I'm worth                                developer mostly so I spent most of my                                day my working day on the browser                                and the debugging tools that I use are                                the ones that come with the browser I                                also use the editor of course but a lot                                of my time is spent here                                so let's start with some of the                                challenges that I faced like all my                                years coding and I will walk you through                                them and like we can see how the                                magnitudes help us through this so one                                of the challenges that we usually face                                is mostly the difference between                                debugging or finding issues in                                development versus production so in                                development you actually have access to                                the code and you can change things and                                sort of see how they behave and if                                production does not know that's easy but                                we still have things we can do so to                                demonstrate this I have a backup and                                let's say I have this application that                                is asking me a math question I answer it                                and saying oh we have like it's not the                                right answer and I'm like I'm fish or                                that's the right answer so if you've                                worked on top and you know probably                                where is the issue happening so you will                                usually just go to like your editor okay                                yes I know this error is happening on                                this component I can just add that                                bugger here and save and sort of start                                debugging Oh first to answer that's what                                your it's happening and yeah you can                                step through the code see why start                                working then I'm like oh actually I                                shouldn't have parsed the answer is an                                integer because it's not always going to                                be one then you can go back to your code                                fix the issue and go on with your life                                another way to do this will be just just                                that break point on the actual source                                here on the browser now if you've ever                                looked through the sources tab of your                                ember app you will see that you have                                here like where your base is located and                                then you have an asset folder and this                                assets folder is going to have all the                                JavaScript and also CSS and other assets                                but what should we care about here is                                most of the JavaScript and you will find                                folders for the ember framework that's                                like this amber folder glimmer also                                amber testing this Adam tree output                                folder will actually contain all the                                code for every atom that you have                                included in your app so if you never                                 ever need to actually debug that code                                 you can just walk through there and open                                 it and at breaking points now let's say                                 I hadn't put a breakpoint here I have                                 everything closed you will find always a                                 folder that has your app name in it and                                 inside you will see all the app code                                 mapped pretty much as you see it on your                                 computer in development and I can just                                 go where I know the issue is and also                                 put a breakpoint answer                                 and yeah we go back to like the same                                 point and we can see the same thing                                 without having to change our code and                                 reload the app you can also find here a                                 few other things that help you in                                 debugging I'm not going to go through                                 all of them but yeah mostly you can                                 watch variables to see how they change                                 you can see where you cause like the                                 stack trace here you can actually see                                 the variables we have declared and you                                 can even change their value so let's say                                 I want to make this gold pass just                                 because I want to continue working on                                 the app and I just change it there you                                 can see the breakpoints and several                                 other stuff so here now I've changed my                                 solutions just so the code can pass and                                 I yeah                                 just resumed okay we can continue like                                 working on the app now this is perfect                                 and it's easy to see in production sorry                                 in development but the actual question                                 is how do we find the same thing when                                 we're in production and we don't have                                 our code not that way so let's see the                                 same up opened in a production                                 environment if I go to the sources tab I                                 see the access folder also but I don't                                 see like all the folders mapped and I                                 have four files here the one that has                                 your app name and a fingerprint will be                                 the one that has all the app code so                                 everything you've developed and you will                                 see founders file that has all the                                 framework code so everything related to                                 Ambur every add-on you have added                                 external libraries that may not be Adams                                 and the same thing for the CSS like you                                 have one for your styles so yeah here my                                 styles and you have one for styles are                                 added by Adams like I don't have any                                 here so it's empty now how do you find                                 the codes of the bug here in production                                 you will see that even though this is a                                 mini fire fire                                 and like yeah you don't actually have                                 all the variable names                                 you still have some strings that name                                 the modules that we have declared so you                                 can see for instance you can find the                                 adapter you can see here a component                                 definition actually this is manager but                                 here a component if we want to see it in                                 a nicer way you can just click the                                 prettify let's go back this icon and                                 this will generate like a different tab                                 but it has the same code but prints are                                 nice it's printed nicely so you can                                 actually find it easier in debugger so I                                 will issue here what's happening in                                 component so we can just search for the                                 name of the component we want to debug                                 now you will see a lot of this is                                 initialization initialization code                                 that's a hard word and if we keep                                 looking we will eventually find I did                                 like our functions here you can see you                                 have the a valid answer and this is                                 pretty much the same color with buggy                                 before just format it differently and we                                 can also set a breakpoint there just                                 right this thing and in this case I can                                 still access the variables and let's say                                 I want to just change this one to make                                 the code path and you can just go set                                 the value I want and I know I the                                 comparison will work now and I can just                                 continue                                 yeah and that's how we can prove it is                                 the same thing with it in development                                 but here in production so back to our                                 slides a small recap of this section you                                 can usually to all the debugging on the                                 sources tab without changing your code                                 you can just set breakpoints there you                                 will find                                 while you're in development the up                                 structured pretty much a series in your                                 computer you can access the scope                                 section to view the value of the                                 variables you have and also change them                                 if you need to and just remember that in                                 production this script will be all in                                 one file but you can do the pretty                                 formatting and also the back there so                                 next what happened when we have external                                 libraries and how can we pack them in                                 case issues like sometimes issues will                                 not be your fault they will be actually                                 someone else's code yeah                                 going back to our app and I'm going to                                 try to book this level and I see an                                 error look at the message it's not like                                 we know is happening in the route but                                 the message itself is not saying much                                 and yeah the stack trace is not that                                 helpful either so sometimes one of the                                 issues that we have with ember is that                                 you will see a lot of the internal code                                 in your stack trace and you may not                                 actually find where the issues beginning                                 but in this case we know it is happening                                 when we try to navigate to the route so                                 let's just open that route here                                 so here I have my model and I'm using                                 this is like the instance of a external                                 library that I'm using to load the data                                 I can set a few breakpoints like maybe                                 it's failing when I initialize it                                 maybe it's failing there may be failing                                 here who knows step through it the part                                 works this is actually I promise so I                                 need to sort of continue and my car is                                 not actually stopping here so I guess                                 it's failing inside this method so let's                                 just try to step inside it here so now                                 we are on the actual definition of the                                 function on the library and we can step                                 through it and out now I find foundatio                                 it's not like something on my goals I                                 can just go to like the github of that                                 person and say hey you have a book okay                                 like yes you can do that but let's just                                 see what there are other options we have                                 here one of the things that I can do on                                 the sources tab which is actually change                                 the code and save it and this will allow                                 me to try this function as without                                 change                                 so I commented that line dos throwing                                 the exception and I can just skip it                                 yeah and now I get the results I want it                                 cool                                 so one thing that I would like to point                                 out here is the difference between atoms                                 and external libraries like this is an                                 NPM library during import change through                                 ember auto import and here like on the                                 source tab I will find it below this                                 little cloud that is emerald to import                                 and like the differences add-ons I will                                 actually found find them in the other                                 folder but you can still see like put                                 the code of both on type of libraries so                                 yeah like if you want to pack and you                                 have these other libraries you can just                                 open them add a breakpoint somewhere and                                 see what happens if you're curious to                                 see how something works yeah so I think                                 that's it for this case let's go back to                                 our slides                                 so just to recap yeah sometimes you will                                 find issues that are not exactly on the                                 core balance to party libraries and                                 don't be afraid to step in them like                                 this was a very simple example but                                 sometimes it will help you find where                                 the actual risk of error is coming from                                 so for instance this talk was inspired                                 because we had a similar problem in                                 production where we were interacting                                 with third-party library and the error                                 message that we were getting was not                                 helpful as oh it's not for them like                                 they couldn't reproduce the issue we                                 were having but we didn't know exactly                                 what was original error and we had to                                 sort of fair debug from someone else's                                 computer while having the code                                 introduction and by using both the                                 formatting of the Ember code and then                                 being able to step on the actual library                                 we managed to find the original error                                 message and that's something we could                                 use to actually contact like third-party                                 library that was useful another                                 third-party library and give them the                                 information they need                                 to fixation so sometimes you will step                                 into code that will look weird to you                                 you don't have to understand it like I                                 don't understand most have to go to step                                 to utilize mine but you may still find                                 the information you need even if you                                 don't really understand the code or you                                 don't really get fixation you can edit                                 on site just as I did if you want to try                                 something                                 yeah like change the code a little bit                                 maybe you won't like something's filling                                 it's specific point but you actually                                 need to see what happens afterwards                                 yeah like this can work also just                                 remember the difference between where                                 the add-on called lies versus the                                 improvement library code now the third                                 challenge I want to walk you through                                 today is what happens when you have an                                 app and someone reports an issue but                                 that's not something you actually                                 developed it happens a lot I guess in                                 every developers life that you end up                                 coding in an app that you didn't started                                 from scratch and sometimes especially                                 when you're doing the project that can                                 be like super hard to figure out I'm                                 special because people really want to                                 fix you we used to fix the issue and                                 you're like where do I start                                 so let's go back to the app now let's                                 say I have this memory game like I think                                 I don't know if we all nobody special                                 basically you have to like guess or                                 remember where the cars were and when                                 you have to that fail we actually want                                 them to like turn back I said it did but                                 don't we don't want them to like take                                 that long really like because we cannot                                 do anything so let's say your manager                                 comes and says yeah I have this issue                                 is happening but I want it fixed by                                 yesterday I didn't now we have the amber                                 inspector and one thing that I like to                                 use it for is learning on Europe                                 especially this view is very helpful                                 because even if you don't will like you                                 don't know straightaway where things are                                 you can astley see what components make                                 this thing and you can actually start to                                 figure out where you should start                                 looking for like possible issues so here                                 now I have like my route and then link                                 to that's not what is happening I mean                                 start really I guess then I have a big                                 component called memory game and several                                 memory cards component one good thing                                 that I figure just recently is that you                                 can actually click here you will be                                 taken to like that instance of the                                 component this the embrace factor has a                                 lot of helpful tools I won't walk you                                 through them today but you can find                                 other talks and actually the guys I had                                 a lot has a lot of information                                 yeah so you can learn how to use these                                 tools they are very helpful so now I                                 know how my components are called                                 and I can finally say mmm I have a                                 feeling that the memory game is the one                                 that is causing us issues so I can go to                                 the sources tab again and I can go to                                 components and open memory game                                 and you know this image I'll show you                                 some code I can see the template here um                                 yeah it's pretty interesting to see I                                 can see my property's been initialized                                 and mmm looking and I have a hint like I                                 have a function here called called card                                 click that receives a card so I'm going                                 to add a debugger here and see what                                 happens                                 so yeah now I'm checking that the                                 unzipped cards funny name is not running                                 I'm comparing two cars I only have one I                                 started to flipped my son my sleep art                                 to it then I asked if we came past so                                 yeah that works fine now I have this up                                 sleeps card and they step through it and                                 I can see that the cars didn't match and                                 I got to call this task and this is a                                 member can create the task yeah this is                                 just and I think like I sort of know                                 some of these properties and I sort of I                                 think this is a task and we can try like                                 stepping into it whenever you step into                                 this is actually an Amber code for                                 getting like when you got to need to get                                 property of something so like we're                                 getting these tasks from the component                                 we don't want to actually step into that                                 so we can step out and go back yeah                                 we don't want to go for that one neither                                 now I should try to again step into it                                 you will actually be taken to cold ice                                 for American currency                                 now the thing is we won't really see                                 like where the task is fine                                 but I really want to actually divide the                                 task itself not under concurrency code                                 in this case so I'm just going to pull                                 that bugger here and one way to do this                                 because we can try to find this card's                                 function and yeah it's like I cannot                                 find the actual code so when it's like                                 you're having a hard time finding the                                 actual definition of a function you can                                 use this thing that the chrome tools                                 tool is like you take like here it's a                                 task and the actual function for the                                 task is this one and whenever you have a                                 function you will add the function                                 location and a link to the actual file                                 so we can click there and now I can                                 actually debug that one and yeah now I                                 see Oh actually where's have this big                                 number here like we'll probably want to                                 have half a second not                                                  we want to as we did before and just                                 edit it yeah we go back we try it and                                 it's not not really working now the                                 reason why these doesn't work as it did                                 when we changed the other case is                                 because this file is actually the source                                 map is not the actual J's file for your                                 app now how do we find the actual J's                                 file this one now here you will find I                                 J's file with your app's name if you                                 open it you will see the similar sort                                 the one we saw in production but                                 actually                                 not minified and you can also find this                                 memory card component here sorry so it's                                 the same code and this thing like if we                                 went to the back this one you'll notice                                 that it will take you to the source                                 mapped file that is because it's                                 actually easier for you to the about                                 that one but if you want to actually                                 make changes to just try it out you need                                 to do it on the whole file so we should                                 find that number we want to change so                                 here we have two tasks you can try                                 changing it and then now we see like we                                 can actually see it work okay so it                                 small recap use the inspector like                                 there's a lot of information you can get                                 from Europe from there and it will help                                 you especially in the beginning of a                                 project that you don't know to figure                                 out the models you have the structure of                                 a page and a lot of other things if you                                 don't know where a function is a finding                                 you have enough hard time figuring it                                 out but you do have access to the                                 instance you can always go to a function                                 location and remember that if you need                                 to edit something to just try it out                                 usually you should do it on the actual                                 app file I'm not on the source map now                                 other talks that you can see that will                                 have a lot more information related also                                 to bug and also to ember debugging are                                 listed here also don't forget to read                                 the guides there's a lot of information                                 there both for chrome tools Firefox                                 holes and the inspector thank you for                                 listening                                 again my name is Samantha I'm a software                                 developer fan simply                                 and hope you had a nice time                                 [Applause]
YouTube URL: https://www.youtube.com/watch?v=d29kpZWvhQY


