Title: Brent Vatne - Introduction to building a universal app with React Native and Expo
Publication date: 2020-03-01
Playlist: AgentConf 2020
Description: 
	Introduction to building a universal app with React Native and Expo
Captions: 
	00:00:00,000 --> 00:00:05,460
I just feel like it's a very community

00:00:03,330 --> 00:00:08,940
driven conference it also is a lot of

00:00:05,460 --> 00:00:10,800
quality and people are just nice hi my

00:00:08,940 --> 00:00:11,770
name is Sarah and this is agent Compton

00:00:10,800 --> 00:00:15,460
don't

00:00:11,770 --> 00:00:18,140
[Music]

00:00:15,460 --> 00:00:20,539
amazing venue Austria is beautiful

00:00:18,140 --> 00:00:25,320
meeting all the people in the community

00:00:20,539 --> 00:00:32,650
and getting to go and hang out and ski

00:00:25,320 --> 00:00:38,239
[Music]

00:00:32,650 --> 00:00:40,010
high right and it won't just be any kind

00:00:38,239 --> 00:00:42,620
of live coding there is a little bit of

00:00:40,010 --> 00:00:46,160
dependency on the network so fingers

00:00:42,620 --> 00:00:48,020
crossed that that'll go okay so yeah

00:00:46,160 --> 00:00:49,809
let's let's film app for iOS Android and

00:00:48,020 --> 00:00:53,090
web we're gonna use react for that and

00:00:49,809 --> 00:00:55,489
this got the wrong one up here let me

00:00:53,090 --> 00:00:58,070
just grab this remote so I'm gonna be

00:00:55,489 --> 00:01:01,309
switching between two slides and and

00:00:58,070 --> 00:01:02,809
this thing this thing's not playing cool

00:01:01,309 --> 00:01:05,570
no video playing it was a fun gift

00:01:02,809 --> 00:01:08,720
doesn't really matter in fact it's not

00:01:05,570 --> 00:01:10,550
even updating at all on the slides we

00:01:08,720 --> 00:01:13,220
got our initial technical difficulty

00:01:10,550 --> 00:01:15,830
caused by maybe the network not where I

00:01:13,220 --> 00:01:17,360
expected it there we go okay maybe

00:01:15,830 --> 00:01:20,630
videos are a bad thing on this

00:01:17,360 --> 00:01:22,729
connection so first thing we're going to

00:01:20,630 --> 00:01:26,149
do for this app is actually get an idea

00:01:22,729 --> 00:01:29,509
of what we want it to look like so I'm

00:01:26,149 --> 00:01:31,310
using X Khaled raw comm which a couple

00:01:29,509 --> 00:01:33,319
people here have contributed to I know

00:01:31,310 --> 00:01:36,229
Jared and Max I saw them on the

00:01:33,319 --> 00:01:37,729
contributors list it was created by

00:01:36,229 --> 00:01:40,580
Christopher Shadow who's one of the guys

00:01:37,729 --> 00:01:42,380
that created react native and it's just

00:01:40,580 --> 00:01:43,940
this little sketch drawing tool for

00:01:42,380 --> 00:01:46,099
doing quick mock-ups in the browser so

00:01:43,940 --> 00:01:47,810
our first screen in the app we're gonna

00:01:46,099 --> 00:01:49,399
make gonna make this thing called image

00:01:47,810 --> 00:01:51,860
share will have like a little banner

00:01:49,399 --> 00:01:53,270
image I'll have some instructional text

00:01:51,860 --> 00:01:55,849
and then there's going to be a button

00:01:53,270 --> 00:01:57,709
there when we press the button it should

00:01:55,849 --> 00:02:00,800
show us a list of some photos that we

00:01:57,709 --> 00:02:05,509
have on our device and we can pick a

00:02:00,800 --> 00:02:09,200
photo or cancel it once we pick the

00:02:05,509 --> 00:02:12,680
photo we can see the photo inside of our

00:02:09,200 --> 00:02:14,360
app and outside of the picker UI and

00:02:12,680 --> 00:02:17,180
then we can press this button that says

00:02:14,360 --> 00:02:20,000
share this photo and when we press that

00:02:17,180 --> 00:02:21,530
this overlay will come over which you're

00:02:20,000 --> 00:02:23,720
probably all familiar with just the

00:02:21,530 --> 00:02:24,650
whatever the operating system overlay is

00:02:23,720 --> 00:02:26,150
for doing

00:02:24,650 --> 00:02:28,129
sharing on the platform that you're

00:02:26,150 --> 00:02:34,010
using and give us options for sharing

00:02:28,129 --> 00:02:35,510
with their friends or or whoever so the

00:02:34,010 --> 00:02:38,090
first thing we need to do here is

00:02:35,510 --> 00:02:40,760
initialize a new app if every one or a

00:02:38,090 --> 00:02:43,129
few people even have installed EXO CLI

00:02:40,760 --> 00:02:44,720
you can do exponent image share for

00:02:43,129 --> 00:02:46,900
using snack just go to snack dot X Pro

00:02:44,720 --> 00:02:49,609
dot IO and you'll get a new thing there

00:02:46,900 --> 00:02:52,189
and it's important to start it with the

00:02:49,609 --> 00:02:55,010
tunnel connection while we're here at

00:02:52,189 --> 00:02:56,329
this conference because on a lot of

00:02:55,010 --> 00:02:58,370
networks you're not able to connect to

00:02:56,329 --> 00:02:59,900
other devices on the network so it's

00:02:58,370 --> 00:03:02,030
kind of basically uses this thing called

00:02:59,900 --> 00:03:04,519
an grok to make your machine accessible

00:03:02,030 --> 00:03:05,269
anywhere on the internet so it's a

00:03:04,519 --> 00:03:07,670
little bit slower

00:03:05,269 --> 00:03:11,750
the result of using tunnel versus using

00:03:07,670 --> 00:03:15,049
LAN or localhost but thanks to fast

00:03:11,750 --> 00:03:16,730
refresh which Riki mentioned earlier it

00:03:15,049 --> 00:03:18,019
pretty much only pay the cost when you

00:03:16,730 --> 00:03:22,939
do a full reload of the app otherwise

00:03:18,019 --> 00:03:25,819
it's quite quick so we're going to do

00:03:22,939 --> 00:03:28,430
that and in fact I skipped that part

00:03:25,819 --> 00:03:30,829
specifically because I didn't want to

00:03:28,430 --> 00:03:33,410
run yarn or npm install on this network

00:03:30,829 --> 00:03:35,120
while i'm here and you can hopefully do

00:03:33,410 --> 00:03:36,470
that in the audience while you're

00:03:35,120 --> 00:03:38,000
watching but it's a little more

00:03:36,470 --> 00:03:40,370
stressful when you're waiting for NPM to

00:03:38,000 --> 00:03:42,620
install on stage so I'm not going to do

00:03:40,370 --> 00:03:44,690
that so what we get basically is this

00:03:42,620 --> 00:03:45,859
when we initialize a new project it's a

00:03:44,690 --> 00:03:47,750
little bit different on snack you can

00:03:45,859 --> 00:03:49,819
just delete any of the other nonsense

00:03:47,750 --> 00:03:52,190
that's unrelated to the stuff you see

00:03:49,819 --> 00:03:55,729
here and just have this view component

00:03:52,190 --> 00:03:57,530
with some text inside of it and and a

00:03:55,729 --> 00:04:00,260
few little things that will we'll look

00:03:57,530 --> 00:04:03,799
at some more in a moment so I'm going to

00:04:00,260 --> 00:04:06,709
run expo start here I'm actually just

00:04:03,799 --> 00:04:08,090
going to use localhost

00:04:06,709 --> 00:04:10,069
in this case because I'm going to use a

00:04:08,090 --> 00:04:11,659
simulator I didn't want to ask people to

00:04:10,069 --> 00:04:14,000
try and get simulators or emulators

00:04:11,659 --> 00:04:15,799
installed flood trickier potentially

00:04:14,000 --> 00:04:18,590
than just installing the app on your

00:04:15,799 --> 00:04:22,760
phone but it's it's quicker as well if

00:04:18,590 --> 00:04:24,860
you can use the simulator so that starts

00:04:22,760 --> 00:04:27,919
the server up for us it's starting up

00:04:24,860 --> 00:04:29,389
this thing called Metro bundler which is

00:04:27,919 --> 00:04:32,990
like Facebook's

00:04:29,389 --> 00:04:35,719
version of web pack it's used by react

00:04:32,990 --> 00:04:38,090
native in order to bundle your app it

00:04:35,719 --> 00:04:38,900
actually also starts web pack because we

00:04:38,090 --> 00:04:41,990
use web pack

00:04:38,900 --> 00:04:43,759
for the website of things so once that

00:04:41,990 --> 00:04:45,410
starts we see this thing with the QR

00:04:43,759 --> 00:04:49,460
code so you can scan that from your

00:04:45,410 --> 00:04:51,970
phone can also open the developer tools

00:04:49,460 --> 00:04:55,970
this is just another UI for using these

00:04:51,970 --> 00:04:58,669
terminal based developer tools that some

00:04:55,970 --> 00:05:04,460
people prefer I do not so I will close

00:04:58,669 --> 00:05:08,139
it and open up the iOS simulator so

00:05:04,460 --> 00:05:17,720
that's opening up this Expo client here

00:05:08,139 --> 00:05:20,270
and connecting and it's loading okay so

00:05:17,720 --> 00:05:23,330
we have this thing I initialized the

00:05:20,270 --> 00:05:26,030
project using the blank typescript

00:05:23,330 --> 00:05:27,260
template but if you're not familiar with

00:05:26,030 --> 00:05:29,900
typescript you can just use the regular

00:05:27,260 --> 00:05:32,510
blank template just kind of handy to get

00:05:29,900 --> 00:05:33,289
the auto completion features the FPS

00:05:32,510 --> 00:05:40,460
code gives you if you're using

00:05:33,289 --> 00:05:43,550
typescript so let's jump back to this so

00:05:40,460 --> 00:05:45,530
this is what we have currently and we're

00:05:43,550 --> 00:05:47,510
going to just update some text so we can

00:05:45,530 --> 00:05:51,800
see it change we're going to change the

00:05:47,510 --> 00:05:53,780
built-in text to this one and just to

00:05:51,800 --> 00:05:54,889
note that on future slides anything

00:05:53,780 --> 00:05:56,240
that's highlighted in yellow will be

00:05:54,889 --> 00:05:58,159
something that's changed from a previous

00:05:56,240 --> 00:05:59,659
example and if it's not highlighted at

00:05:58,159 --> 00:06:05,930
all you can just assume it it didn't

00:05:59,659 --> 00:06:08,659
change so let's jump back to this one

00:06:05,930 --> 00:06:11,380
and I'll increase the font size a little

00:06:08,659 --> 00:06:11,380
bit for you

00:06:20,260 --> 00:06:30,100
okay and so we can see this side-by-side

00:06:23,650 --> 00:06:32,760
let's close my memes folder let's get

00:06:30,100 --> 00:06:36,400
that there okay so now when I save it

00:06:32,760 --> 00:06:39,310
okay let's take a second but yeah there

00:06:36,400 --> 00:06:42,100
we go so we have our first change to the

00:06:39,310 --> 00:06:43,780
app complete let's jump back to the

00:06:42,100 --> 00:06:47,590
slides and see what we have to do next

00:06:43,780 --> 00:06:57,670
oh that's very comparable size actually

00:06:47,590 --> 00:06:59,770
that's working well cool okay oh yeah so

00:06:57,670 --> 00:07:03,280
we're gonna look now at styling this

00:06:59,770 --> 00:07:05,560
text I think most people here have web

00:07:03,280 --> 00:07:08,770
development experience so this will look

00:07:05,560 --> 00:07:10,390
kind of familiar to you but if you don't

00:07:08,770 --> 00:07:12,340
don't worry about it we're just going to

00:07:10,390 --> 00:07:13,690
be typing things based off of what I put

00:07:12,340 --> 00:07:16,000
up there and you don't have to stress

00:07:13,690 --> 00:07:18,190
about not understanding it that can come

00:07:16,000 --> 00:07:22,870
later for now is just let's just do this

00:07:18,190 --> 00:07:24,010
stuff so first thing we need to do to

00:07:22,870 --> 00:07:26,220
make this a little bit readable I'm

00:07:24,010 --> 00:07:28,450
gonna just move this to another line I

00:07:26,220 --> 00:07:31,120
would use prettier to do that but I just

00:07:28,450 --> 00:07:34,270
want to make it a little more clear so

00:07:31,120 --> 00:07:41,530
I'm going to set the color let's jump

00:07:34,270 --> 00:07:48,250
back like that to 888 and font size to

00:07:41,530 --> 00:07:49,740
18 okay so two things here again if

00:07:48,250 --> 00:07:51,670
you're not familiar with with web at all

00:07:49,740 --> 00:07:54,880
you're probably at least familiar with

00:07:51,670 --> 00:07:56,710
hex color codes so this shouldn't be too

00:07:54,880 --> 00:07:58,960
new for you I hope the name of the

00:07:56,710 --> 00:08:01,330
property to set it is just color font

00:07:58,960 --> 00:08:03,580
size if you're coming from the web

00:08:01,330 --> 00:08:06,310
you'll see that it's camel case instead

00:08:03,580 --> 00:08:07,860
of snake case so all of the styles are

00:08:06,310 --> 00:08:10,900
very similar to CSS in the browser

00:08:07,860 --> 00:08:13,450
except they're typically the camel case

00:08:10,900 --> 00:08:15,610
version of that another thing that might

00:08:13,450 --> 00:08:19,360
stand out is that there is no unit on

00:08:15,610 --> 00:08:22,690
font size and that basically just you

00:08:19,360 --> 00:08:24,520
can think of it as pixels and that kind

00:08:22,690 --> 00:08:26,410
of just factors in for you the density

00:08:24,520 --> 00:08:27,630
of the display so you don't have to

00:08:26,410 --> 00:08:30,390
worry about that

00:08:27,630 --> 00:08:37,050
I hope that didn't just disconnect let's

00:08:30,390 --> 00:08:38,250
find out oh yeah still there okay so the

00:08:37,050 --> 00:08:44,580
next thing we're gonna look at is adding

00:08:38,250 --> 00:08:47,100
images so there's this logo file that

00:08:44,580 --> 00:08:49,260
we're going to download and then put it

00:08:47,100 --> 00:08:52,290
into our project directory and load that

00:08:49,260 --> 00:08:54,720
up we put this in something called the

00:08:52,290 --> 00:08:56,280
assets directory so you're probably

00:08:54,720 --> 00:08:57,930
familiar with this term already but if

00:08:56,280 --> 00:09:00,810
not just to clarify an asset is

00:08:57,930 --> 00:09:04,590
basically like any and it can even be

00:09:00,810 --> 00:09:06,330
the code but like image font sound video

00:09:04,590 --> 00:09:08,730
anything like that that you're you

00:09:06,330 --> 00:09:17,580
include in your project beyond typically

00:09:08,730 --> 00:09:20,220
the source code that runs it so please

00:09:17,580 --> 00:09:23,190
share logo I was surprised that this

00:09:20,220 --> 00:09:27,120
short name was available but it seems

00:09:23,190 --> 00:09:28,920
like still a lot of names available a

00:09:27,120 --> 00:09:31,260
bitly okay this is not working

00:09:28,920 --> 00:09:35,840
particularly well that's fine because I

00:09:31,260 --> 00:09:35,840
can just open it from another directory

00:09:44,490 --> 00:09:55,800
we'll have these two maybe I do need

00:09:48,390 --> 00:09:58,260
this one and there we go with Internet

00:09:55,800 --> 00:09:59,670
connectivity I'll come back to this in a

00:09:58,260 --> 00:10:03,209
second for now I'm just going to use the

00:09:59,670 --> 00:10:08,600
this icon asset for our image and just

00:10:03,209 --> 00:10:08,600
call it logo so I'm gonna put that here

00:10:15,560 --> 00:10:21,000
okay now we can go back to our code and

00:10:19,040 --> 00:10:26,220
have a look at how we're going to

00:10:21,000 --> 00:10:28,470
implement this so once we have this file

00:10:26,220 --> 00:10:30,690
in our project we need to import the

00:10:28,470 --> 00:10:32,790
image component from react native it's

00:10:30,690 --> 00:10:36,180
one of the primitives that is built into

00:10:32,790 --> 00:10:38,250
react native to to basically accomplish

00:10:36,180 --> 00:10:40,800
the most common sort of tasks that you

00:10:38,250 --> 00:10:42,390
need for building an app some of them

00:10:40,800 --> 00:10:44,490
that we've seen so far right we've seen

00:10:42,390 --> 00:10:46,200
text the view image is another primitive

00:10:44,490 --> 00:10:49,410
that's just widely used and therefore

00:10:46,200 --> 00:10:51,320
included in in react native it's the

00:10:49,410 --> 00:10:55,380
thing that other things build on top of

00:10:51,320 --> 00:10:59,040
and we need to also import the logo

00:10:55,380 --> 00:11:01,170
image so we can use the same kind of

00:10:59,040 --> 00:11:03,390
syntax for that import it from the

00:11:01,170 --> 00:11:05,310
assets logo directory and then we use

00:11:03,390 --> 00:11:07,950
the image component give it a source of

00:11:05,310 --> 00:11:14,029
the logo and give it some width and

00:11:07,950 --> 00:11:14,029
height style so let's go do that here

00:11:34,930 --> 00:11:40,519
don't have to worry about that okay so

00:11:38,089 --> 00:11:41,899
we have this thing showing up this

00:11:40,519 --> 00:11:50,920
actually loaded now so we can go ahead

00:11:41,899 --> 00:12:01,459
and save it into the coding not expose

00:11:50,920 --> 00:12:03,890
image share assets okay and matches fast

00:12:01,459 --> 00:12:05,390
refresh so it's already there I'm just

00:12:03,890 --> 00:12:09,290
gonna ignore this type script there for

00:12:05,390 --> 00:12:11,300
now it doesn't matter okay so that's a

00:12:09,290 --> 00:12:15,640
good good first step

00:12:11,300 --> 00:12:18,470
similar to what I was saying about fonts

00:12:15,640 --> 00:12:21,320
with font size 18 the same applies

00:12:18,470 --> 00:12:25,579
through the width and height here they

00:12:21,320 --> 00:12:29,060
translate on web to pixels and on native

00:12:25,579 --> 00:12:31,209
to some notion of something that you can

00:12:29,060 --> 00:12:34,790
think of as pixels but it's more

00:12:31,209 --> 00:12:36,800
appropriate to points is usually the

00:12:34,790 --> 00:12:38,690
name that it's referred to as another

00:12:36,800 --> 00:12:42,829
thing to to factor in is that there are

00:12:38,690 --> 00:12:45,470
no MS or REMS in react native so if you

00:12:42,829 --> 00:12:46,279
use that there are just other ways that

00:12:45,470 --> 00:12:52,730
you need to implement that

00:12:46,279 --> 00:12:55,700
programmatically currently another way

00:12:52,730 --> 00:12:59,990
we can use images is by just providing a

00:12:55,700 --> 00:13:01,670
URI to a remote image resource so

00:12:59,990 --> 00:13:03,500
anywhere on the web so this should be

00:13:01,670 --> 00:13:05,360
very familiar if you've used web before

00:13:03,500 --> 00:13:07,610
for images the only difference is that

00:13:05,360 --> 00:13:10,100
you have to actually explicitly say that

00:13:07,610 --> 00:13:11,779
it comes from this URI if you're not

00:13:10,100 --> 00:13:14,690
familiar with the term URI you could

00:13:11,779 --> 00:13:16,070
basically just Street UI and URL is the

00:13:14,690 --> 00:13:18,430
same thing technically there are some

00:13:16,070 --> 00:13:21,410
small differences in the definition but

00:13:18,430 --> 00:13:23,209
as far as usage and react native and

00:13:21,410 --> 00:13:25,010
expo goes just look at whatever the

00:13:23,209 --> 00:13:26,810
documentation says and you'll be fine

00:13:25,010 --> 00:13:28,399
I'm not going to change that here

00:13:26,810 --> 00:13:31,220
because I don't want to add another

00:13:28,399 --> 00:13:35,360
dependency to the network we'll just

00:13:31,220 --> 00:13:37,399
move ahead to the next thing so the app

00:13:35,360 --> 00:13:40,010
is getting a little bit messy in terms

00:13:37,399 --> 00:13:42,640
of our styling we have a few things that

00:13:40,010 --> 00:13:44,470
are styled in line

00:13:42,640 --> 00:13:46,360
so let's just clean it up a little bit

00:13:44,470 --> 00:13:48,070
so it's kind of easier to read we're

00:13:46,360 --> 00:13:52,210
just going to move some of these styles

00:13:48,070 --> 00:13:55,480
out into the stylesheet create call give

00:13:52,210 --> 00:13:58,090
them some names and then also kind of

00:13:55,480 --> 00:14:00,640
clean up the appearance a little bit out

00:13:58,090 --> 00:14:02,890
a little bit of margin so that it's you

00:14:00,640 --> 00:14:05,050
know a little more properly spaced out

00:14:02,890 --> 00:14:07,060
because if we look at Yap right now

00:14:05,050 --> 00:14:08,620
right there's a little could use some

00:14:07,060 --> 00:14:09,850
space between the logo and the text I

00:14:08,620 --> 00:14:11,650
mean we're not trying to build the

00:14:09,850 --> 00:14:13,930
nicest looking up here but we can at

00:14:11,650 --> 00:14:17,740
least take one small step towards it so

00:14:13,930 --> 00:14:20,650
I'm gonna copy this over we'll just call

00:14:17,740 --> 00:14:33,720
this thousand instructions jump down

00:14:20,650 --> 00:14:33,720
here this is instructions that's logo

00:14:47,580 --> 00:14:54,310
okay so that's the same and as we saw we

00:14:51,100 --> 00:14:57,430
added a margin bottom here which I'm

00:14:54,310 --> 00:14:59,590
just gonna Express 10 and then we also

00:14:57,430 --> 00:15:02,650
use this property called margin

00:14:59,590 --> 00:15:04,360
horizontal and gave it 15 on the text

00:15:02,650 --> 00:15:06,280
it's not actually making a difference

00:15:04,360 --> 00:15:07,720
here but on certain screen sizes if the

00:15:06,280 --> 00:15:10,360
text is butting up against the side of

00:15:07,720 --> 00:15:12,370
the screen then this will help just to

00:15:10,360 --> 00:15:15,010
give it a little bit of space with the

00:15:12,370 --> 00:15:16,360
side and margin horizontal is kind of

00:15:15,010 --> 00:15:18,520
interesting it's actually not a property

00:15:16,360 --> 00:15:20,550
that exists on the web there are a few

00:15:18,520 --> 00:15:24,190
things like this in react native there's

00:15:20,550 --> 00:15:27,280
margin and padding horizontal and same

00:15:24,190 --> 00:15:29,280
with vertical and that is essentially

00:15:27,280 --> 00:15:32,430
just the nice shorthand for the usual

00:15:29,280 --> 00:15:35,350
difficult to read trick of like padding

00:15:32,430 --> 00:15:39,430
something and then the actual value and

00:15:35,350 --> 00:15:41,050
the other way around and or like a

00:15:39,430 --> 00:15:43,110
workaround for having to say padding

00:15:41,050 --> 00:15:49,630
left base padding right this

00:15:43,110 --> 00:15:51,910
okay let's go back to slides now we're

00:15:49,630 --> 00:15:54,100
going to add some interactivity so we're

00:15:51,910 --> 00:15:56,590
going to create a button to do this

00:15:54,100 --> 00:15:59,260
we're going to use anything called

00:15:56,590 --> 00:16:02,410
touchable opacity and we're going to

00:15:59,260 --> 00:16:04,270
wrap some text in this touchable opacity

00:16:02,410 --> 00:16:06,430
component and then tell it when you

00:16:04,270 --> 00:16:10,570
press on the touchable opacity that it

00:16:06,430 --> 00:16:14,050
should show an alert the alert function

00:16:10,570 --> 00:16:16,540
here is something that is also the same

00:16:14,050 --> 00:16:19,570
API is on the web and on iOS on Android

00:16:16,540 --> 00:17:05,110
this will just translate to a simple

00:16:19,570 --> 00:17:07,839
native alert dialog save that okay now

00:17:05,110 --> 00:17:11,650
we have this button and we press on it

00:17:07,839 --> 00:17:14,620
and it just says hello world so we built

00:17:11,650 --> 00:17:17,140
our basic interactivity into the app of

00:17:14,620 --> 00:17:18,550
course this doesn't actually do what we

00:17:17,140 --> 00:17:20,670
want yet but we'll look at that in a

00:17:18,550 --> 00:17:26,160
moment

00:17:20,670 --> 00:17:30,790
so again we can refactor this out into a

00:17:26,160 --> 00:17:33,450
couple of style properties just to clean

00:17:30,790 --> 00:17:33,450
it up a little bit

00:17:36,740 --> 00:18:08,250
thanks sir style stop button and we'll

00:17:49,080 --> 00:18:13,500
do button text as well okay so no change

00:18:08,250 --> 00:18:15,120
is perfect let's jump over here okay

00:18:13,500 --> 00:18:17,070
at this point if you haven't used react

00:18:15,120 --> 00:18:19,860
native before you might be like wow

00:18:17,070 --> 00:18:21,480
that's a lot of things especially if you

00:18:19,860 --> 00:18:22,980
don't have a web background or you

00:18:21,480 --> 00:18:24,030
haven't use react I mean they're

00:18:22,980 --> 00:18:26,309
probably a lot of people who haven't use

00:18:24,030 --> 00:18:27,480
react before and certainly with these

00:18:26,309 --> 00:18:30,210
lights I feel a little bit like that

00:18:27,480 --> 00:18:31,590
right now it's quite hot on here but

00:18:30,210 --> 00:18:34,679
don't worry it'll be fine

00:18:31,590 --> 00:18:37,230
we'll get there so we're gonna look now

00:18:34,679 --> 00:18:38,940
at picking an image in the app so when

00:18:37,230 --> 00:18:41,370
we press this button it just says hello

00:18:38,940 --> 00:18:43,919
world that is not at all what we want

00:18:41,370 --> 00:18:46,500
what we're building is indeed minimally

00:18:43,919 --> 00:18:47,580
useful possibly somewhat useless but

00:18:46,500 --> 00:18:49,740
it's certainly more useful than just

00:18:47,580 --> 00:18:54,330
alerting hello world so let's move

00:18:49,740 --> 00:18:55,500
towards that too to be able to do this

00:18:54,330 --> 00:18:57,240
we're going to need to install this

00:18:55,500 --> 00:18:58,770
library called expo image picker there a

00:18:57,240 --> 00:19:01,290
variety of ways that you can do this but

00:18:58,770 --> 00:19:02,910
this is one that's built into expo and

00:19:01,290 --> 00:19:05,910
so it'll be the easiest thing for us to

00:19:02,910 --> 00:19:08,190
do there's a lot of functionality like

00:19:05,910 --> 00:19:10,410
image picking and sharing which we'll

00:19:08,190 --> 00:19:14,190
see later that is not built specifically

00:19:10,410 --> 00:19:17,010
into react native and the reason is that

00:19:14,190 --> 00:19:19,950
react native itself is intended to just

00:19:17,010 --> 00:19:21,540
be this like core of the pieces that you

00:19:19,950 --> 00:19:25,250
build on top of it's the infrastructure

00:19:21,540 --> 00:19:27,960
that you need to then create these other

00:19:25,250 --> 00:19:30,630
libraries and other AP is that you use

00:19:27,960 --> 00:19:34,290
to interact with with the rest of the

00:19:30,630 --> 00:19:36,990
native API ecosystem and if it were to

00:19:34,290 --> 00:19:41,100
try to cover all the possible use cases

00:19:36,990 --> 00:19:43,260
that you could do using api's on ios and

00:19:41,100 --> 00:19:45,260
android it would just be an unfathomably

00:19:43,260 --> 00:19:47,480
large project that would

00:19:45,260 --> 00:19:49,700
it'd be impossible to use in my opinion

00:19:47,480 --> 00:19:51,650
so so it's nice we have this separation

00:19:49,700 --> 00:19:53,180
between react native Corps itself trying

00:19:51,650 --> 00:19:54,560
to be really good at building these

00:19:53,180 --> 00:19:56,960
primitives and giving you the

00:19:54,560 --> 00:19:58,760
infrastructure to to then extend it

00:19:56,960 --> 00:20:01,100
yourself and do these other things with

00:19:58,760 --> 00:20:03,760
it so we're gonna run Expo install and

00:20:01,100 --> 00:20:06,890
this is basically just a wrapper around

00:20:03,760 --> 00:20:08,180
NPM install or yarn install and it picks

00:20:06,890 --> 00:20:10,280
a version of the package that you're

00:20:08,180 --> 00:20:13,790
installing that is compatible with your

00:20:10,280 --> 00:20:16,490
project so let's jump over and do that

00:20:13,790 --> 00:20:21,880
and this is one area of network

00:20:16,490 --> 00:20:23,180
dependency but it'll probably be fine

00:20:21,880 --> 00:20:27,380
yeah

00:20:23,180 --> 00:20:29,660
nice so as you can see it ended up

00:20:27,380 --> 00:20:34,690
calling yarn yarn add expo image picker

00:20:29,660 --> 00:20:38,060
at 8.0 point 1 so we have that and now

00:20:34,690 --> 00:20:41,690
we can use it so we need to import it

00:20:38,060 --> 00:20:44,870
and then creating a function here

00:20:41,690 --> 00:20:46,580
basically to use as our callback when we

00:20:44,870 --> 00:20:49,340
press on the touchable opacity button

00:20:46,580 --> 00:20:51,530
and it will launch the image picker and

00:20:49,340 --> 00:20:53,930
then it's just going to log the results

00:20:51,530 --> 00:20:55,820
so we can have a look at what the result

00:20:53,930 --> 00:20:59,390
is when we pick it so we know then how

00:20:55,820 --> 00:21:01,720
we can take that and use it to share the

00:20:59,390 --> 00:21:01,720
result

00:21:18,340 --> 00:21:24,190
the first thing that we need to do is

00:21:20,379 --> 00:21:29,009
ask for permissions typically a lot of

00:21:24,190 --> 00:21:31,989
the capabilities that you would use on

00:21:29,009 --> 00:21:36,460
native devices that involve interacting

00:21:31,989 --> 00:21:39,340
with files on your system or interacting

00:21:36,460 --> 00:21:41,649
with some device API like using the

00:21:39,340 --> 00:21:44,019
camera those sorts of things are

00:21:41,649 --> 00:21:46,570
typically behind a permission so that

00:21:44,019 --> 00:21:49,149
not every app could just silently go

00:21:46,570 --> 00:21:53,469
ahead and and have a lot of capabilities

00:21:49,149 --> 00:21:56,109
to wreak havoc on your system so we can

00:21:53,469 --> 00:21:57,159
do that by just calling this request

00:21:56,109 --> 00:21:59,469
camera roll permissions

00:21:57,159 --> 00:22:03,849
async function and then we're going to

00:21:59,469 --> 00:22:07,299
check if it's granted as you can see the

00:22:03,849 --> 00:22:09,700
expo API is like image picker I'll use

00:22:07,299 --> 00:22:12,879
typescript so we got autocomplete on the

00:22:09,700 --> 00:22:15,609
results and on the different functions

00:22:12,879 --> 00:22:19,570
available on image picker and we can

00:22:15,609 --> 00:22:23,259
then say permissions to access camera

00:22:19,570 --> 00:22:27,190
role required I'll do a sad face on this

00:22:23,259 --> 00:22:30,839
one in return okay so we know at this

00:22:27,190 --> 00:22:34,599
point we have permissions to access the

00:22:30,839 --> 00:22:37,330
camera roll camera roll is just a name

00:22:34,599 --> 00:22:40,409
that is used I think primarily on iOS

00:22:37,330 --> 00:22:43,029
actually for the photos that are in

00:22:40,409 --> 00:22:44,409
stored on your device or even in the

00:22:43,029 --> 00:22:45,609
cloud potentially I guess that's a

00:22:44,409 --> 00:22:47,019
throwback for people that maybe haven't

00:22:45,609 --> 00:22:50,799
used analog cameras there's a role

00:22:47,019 --> 00:22:53,469
inside of your camera for films probably

00:22:50,799 --> 00:23:00,779
a few of you here and then we're going

00:22:53,469 --> 00:23:05,859
to log the picker picker results results

00:23:00,779 --> 00:23:08,889
okay so that reloaded I don't know how

00:23:05,859 --> 00:23:10,389
much I trust that yeah I don't I don't

00:23:08,889 --> 00:23:11,859
know I should trust that I just didn't

00:23:10,389 --> 00:23:16,119
have the call back okay so I need to go

00:23:11,859 --> 00:23:20,259
down here and do open image picker you

00:23:16,119 --> 00:23:22,719
sync right it's gonna ask us permissions

00:23:20,259 --> 00:23:25,679
we'll just allow that or did I deny that

00:23:22,719 --> 00:23:25,679
oh shoot

00:23:26,850 --> 00:23:33,860
oh I did it wrong oh yeah good call good

00:23:31,440 --> 00:23:33,860
catch Daniel

00:23:35,179 --> 00:23:40,049
so the iOS simulator is a little bit

00:23:37,259 --> 00:23:41,789
slow at opening it at first but we could

00:23:40,049 --> 00:23:43,740
see there's these beautiful stock photos

00:23:41,789 --> 00:23:45,600
that come with the simulator so if you

00:23:43,740 --> 00:23:48,210
picked that I don't know we don't see

00:23:45,600 --> 00:23:50,149
anything but we have to do is go over

00:23:48,210 --> 00:23:53,549
here to the terminal and we could see

00:23:50,149 --> 00:23:55,980
the result is this object with a URI

00:23:53,549 --> 00:23:57,809
that points to where this file is

00:23:55,980 --> 00:24:00,539
located at and tells us width and height

00:23:57,809 --> 00:24:03,389
and so on cool so we can use that

00:24:00,539 --> 00:24:05,100
information now to display the image in

00:24:03,389 --> 00:24:07,019
our app we already know how to show an

00:24:05,100 --> 00:24:10,289
image we know what to do if we have a

00:24:07,019 --> 00:24:18,929
URI path to the image so let's do that

00:24:10,289 --> 00:24:23,159
here we need to first stash this away

00:24:18,929 --> 00:24:25,559
somewhere so that we can update the the

00:24:23,159 --> 00:24:27,240
actual render result here if you're not

00:24:25,559 --> 00:24:30,419
familiar with react don't worry about it

00:24:27,240 --> 00:24:33,960
this is just basically some way that we

00:24:30,419 --> 00:24:36,389
can manage state and update the UI thank

00:24:33,960 --> 00:24:38,730
you Sarah is a lifesaver here because

00:24:36,389 --> 00:24:47,120
I'm constantly forgetting to switch

00:24:38,730 --> 00:24:50,029
between the two you know and we can just

00:24:47,120 --> 00:24:53,039
well yeah one thing we want to do is

00:24:50,029 --> 00:24:54,570
check the picker result so if it's

00:24:53,039 --> 00:24:56,460
canceled it's possible that someone will

00:24:54,570 --> 00:24:59,070
press the cancel button and I'm going to

00:24:56,460 --> 00:25:00,509
use equals true yeah then we'll just

00:24:59,070 --> 00:25:02,429
exit we don't need to do anything

00:25:00,509 --> 00:25:05,070
otherwise we're going to set the

00:25:02,429 --> 00:25:07,169
selected image and they're gonna call it

00:25:05,070 --> 00:25:16,400
local URI cuz it's the path on our

00:25:07,169 --> 00:25:21,020
system to picker results okay

00:25:16,400 --> 00:25:23,630
and I'll format that and now before

00:25:21,020 --> 00:25:25,730
doing this what we're going to do is

00:25:23,630 --> 00:25:28,960
render a completely different UI in the

00:25:25,730 --> 00:25:28,960
case where we have a selected image

00:25:29,170 --> 00:25:35,600
we're going to return same view that we

00:25:33,710 --> 00:26:00,140
have as our normal wrapper

00:25:35,600 --> 00:26:04,550
we have styles there and that should be

00:26:00,140 --> 00:26:08,059
good so if I do that go here pick an

00:26:04,550 --> 00:26:10,120
image choose this thing there we go so

00:26:08,059 --> 00:26:13,850
now we can see the image in our app so

00:26:10,120 --> 00:26:17,300
yeah we're getting closer to our mock-up

00:26:13,850 --> 00:26:19,760
right if you might remember we had a

00:26:17,300 --> 00:26:21,860
button they were able to press that

00:26:19,760 --> 00:26:23,630
button show the image picker and then

00:26:21,860 --> 00:26:33,890
see the image that we picked along with

00:26:23,630 --> 00:26:36,710
a button to share that let's get the

00:26:33,890 --> 00:26:42,110
next slide right here okay

00:26:36,710 --> 00:26:45,290
so sharing image we need to install Expo

00:26:42,110 --> 00:26:56,179
sharing for this one so I'll just jump

00:26:45,290 --> 00:26:58,150
back here switch over there and that's

00:26:56,179 --> 00:27:01,490
good

00:26:58,150 --> 00:27:04,700
and now we just use the API basically so

00:27:01,490 --> 00:27:05,930
you know import it call it like pretty

00:27:04,700 --> 00:27:07,850
similar sort of pattern to what we just

00:27:05,930 --> 00:27:10,370
did with the image picker we're gonna

00:27:07,850 --> 00:27:14,450
you reuse our button styles to add a

00:27:10,370 --> 00:27:22,810
button for sharing the photo so let's go

00:27:14,450 --> 00:27:22,810
ahead and do that and for storing from

00:27:38,320 --> 00:27:43,550
so it's possible that some devices won't

00:27:40,790 --> 00:27:46,310
have sharing available so let's a check

00:27:43,550 --> 00:27:49,730
for this first and just oh sharing isn't

00:27:46,310 --> 00:27:53,240
available and then we'll return

00:27:49,730 --> 00:27:58,420
otherwise we're going to sharing share a

00:27:53,240 --> 00:28:00,590
sink selected image dot local you're on

00:27:58,420 --> 00:28:02,090
lastly we just need to add that button

00:28:00,590 --> 00:28:05,200
I'm just gonna copy and paste this one

00:28:02,090 --> 00:28:10,610
because it's the same thing basically

00:28:05,200 --> 00:28:13,550
and instead just going to say share this

00:28:10,610 --> 00:28:18,070
photo and instead of that it's gonna say

00:28:13,550 --> 00:28:22,100
open share dialog I think okay thanks to

00:28:18,070 --> 00:28:23,540
fast refresh we see that right away I'm

00:28:22,100 --> 00:28:26,390
gonna take a moment though to make this

00:28:23,540 --> 00:28:31,600
a little bit prettier cuz really don't

00:28:26,390 --> 00:28:31,600
like the look of this button let's add

00:28:32,860 --> 00:28:41,240
cool it's pretty amazing isn't it thank

00:28:37,790 --> 00:28:43,820
you Dan anyone else a member of the

00:28:41,240 --> 00:28:45,770
Church of Dan yeah have you seen it yeah

00:28:43,820 --> 00:28:53,570
we've got Ricky up here he can't be the

00:28:45,770 --> 00:28:55,400
only one I know okay so this is great

00:28:53,570 --> 00:28:58,010
but we haven't really tried it on like

00:28:55,400 --> 00:29:00,680
other platforms yet right we haven't

00:28:58,010 --> 00:29:01,910
tried it on web or Android we're gonna

00:29:00,680 --> 00:29:04,220
save us the effort of trying it on

00:29:01,910 --> 00:29:05,280
Android but I am going to open it in the

00:29:04,220 --> 00:29:08,700
web browser and

00:29:05,280 --> 00:29:12,120
let's see how that goes for us I think

00:29:08,700 --> 00:29:14,670
it's a doing a build for us you

00:29:12,120 --> 00:29:17,810
know webpack do anything not the fastest

00:29:14,670 --> 00:29:21,120
thing but it's happening okay here we go

00:29:17,810 --> 00:29:25,080
cool so that's like pretty good just

00:29:21,120 --> 00:29:27,150
working right away on web I can now pop

00:29:25,080 --> 00:29:30,600
open the image picker choose a photo of

00:29:27,150 --> 00:29:31,800
my dog see that now I'm gonna press

00:29:30,600 --> 00:29:35,700
share this photo

00:29:31,800 --> 00:29:39,120
oh no it's not available that's no good

00:29:35,700 --> 00:29:41,270
right we cannot currently share on the

00:29:39,120 --> 00:29:43,800
web which is kind of annoying because

00:29:41,270 --> 00:29:46,500
it'd be great if the code that we use to

00:29:43,800 --> 00:29:50,790
be able to do this here if that will

00:29:46,500 --> 00:29:52,950
eventually load to be able to do this

00:29:50,790 --> 00:29:57,720
and pop open this nice dialog if I would

00:29:52,950 --> 00:29:59,790
just work on web also so sometimes you

00:29:57,720 --> 00:30:02,790
hit these these moments and you feel

00:29:59,790 --> 00:30:04,710
kind of like that right this is often

00:30:02,790 --> 00:30:10,050
what I feel like doing a cross-platform

00:30:04,710 --> 00:30:11,580
development so how are we gonna deal

00:30:10,050 --> 00:30:13,320
with this we have to somehow handle

00:30:11,580 --> 00:30:14,810
these differences between between our

00:30:13,320 --> 00:30:18,480
platforms if we look at the

00:30:14,810 --> 00:30:20,160
documentation page for Expo sharing we

00:30:18,480 --> 00:30:22,890
could see that it does indeed support

00:30:20,160 --> 00:30:24,630
all of these platforms but underneath

00:30:22,890 --> 00:30:28,380
that there are a few warnings applying

00:30:24,630 --> 00:30:30,300
to web one of them is that it doesn't

00:30:28,380 --> 00:30:32,790
just work on every browser this is a

00:30:30,300 --> 00:30:35,910
fairly new API the web share API and so

00:30:32,790 --> 00:30:37,470
we need to take that into account and

00:30:35,910 --> 00:30:39,840
just acknowledge it it sometimes won't

00:30:37,470 --> 00:30:41,580
be available we also can't share local

00:30:39,840 --> 00:30:46,260
files remember I used local your eyes

00:30:41,580 --> 00:30:48,740
the value that I'm storing and we just

00:30:46,260 --> 00:30:51,180
get a path to this image on our device

00:30:48,740 --> 00:30:52,320
it's technically possible unlike the

00:30:51,180 --> 00:30:54,630
newest versions of Chrome for Android

00:30:52,320 --> 00:30:57,450
but let's not worry about that right now

00:30:54,630 --> 00:30:59,880
so if we look at the cape of the support

00:30:57,450 --> 00:31:07,230
for the web share API it's not very

00:30:59,880 --> 00:31:09,120
widespread and with another gift yeah so

00:31:07,230 --> 00:31:10,350
that we're still webs getting a lot

00:31:09,120 --> 00:31:11,180
better but it sometimes does feel like

00:31:10,350 --> 00:31:13,650
that

00:31:11,180 --> 00:31:15,690
so the main limitations are it's not

00:31:13,650 --> 00:31:17,920
supported by every browser and we can't

00:31:15,690 --> 00:31:21,610
share local files

00:31:17,920 --> 00:31:23,170
okay so we can just implement like a

00:31:21,610 --> 00:31:27,100
kind of polyfill for this is like a

00:31:23,170 --> 00:31:28,840
little workaround I created this little

00:31:27,100 --> 00:31:30,520
library called up anonymous sharing is

00:31:28,840 --> 00:31:34,060
it googled like where can i upload

00:31:30,520 --> 00:31:35,200
images for free without an API key so

00:31:34,060 --> 00:31:37,840
that I could share this easily with

00:31:35,200 --> 00:31:39,910
people so if this turns into some weird

00:31:37,840 --> 00:31:42,220
like hacker site or whatever at some

00:31:39,910 --> 00:31:43,990
point like it's not on me I don't know

00:31:42,220 --> 00:31:45,580
what what will exist that had not miss

00:31:43,990 --> 00:31:48,970
files that I owe in a week or even

00:31:45,580 --> 00:31:50,560
tomorrow but it works for now so let's

00:31:48,970 --> 00:31:53,410
do this

00:31:50,560 --> 00:31:55,540
so we can use exploits all here as well

00:31:53,410 --> 00:31:57,040
safely because Expo doesn't know

00:31:55,540 --> 00:31:58,690
anything about this library and it'll

00:31:57,040 --> 00:32:03,520
just go up whatever all just passes

00:31:58,690 --> 00:32:05,890
through it and family yarn okay so let's

00:32:03,520 --> 00:32:07,630
install that and then use it and our

00:32:05,890 --> 00:32:09,880
basic strategy here is because we can't

00:32:07,630 --> 00:32:12,070
share local files and we know that we

00:32:09,880 --> 00:32:14,020
can't have access to the native share

00:32:12,070 --> 00:32:15,940
dialog in some situations what we're

00:32:14,020 --> 00:32:19,090
going to do is upload the file somewhere

00:32:15,940 --> 00:32:20,380
one run web and get a remote URL for it

00:32:19,090 --> 00:32:22,420
then we can share with anyone on the web

00:32:20,380 --> 00:32:24,460
and then we're going to just show an

00:32:22,420 --> 00:32:28,690
alert with the path to that and say hey

00:32:24,460 --> 00:32:33,850
go ahead share this with someone so if

00:32:28,690 --> 00:32:41,470
we go back picture of my dog we can now

00:32:33,850 --> 00:32:44,310
install that and that'll go I'm just

00:32:41,470 --> 00:32:48,690
going to trust that it's going to work

00:32:44,310 --> 00:32:53,400
and it just exports this one function

00:32:48,690 --> 00:32:53,400
that will just upload the file for us

00:32:54,060 --> 00:33:02,160
there's another quirk that I should

00:32:58,630 --> 00:33:06,070
mention while I'm just writing this code

00:33:02,160 --> 00:33:09,670
with with the web which is that you

00:33:06,070 --> 00:33:11,560
actually have to when using the share

00:33:09,670 --> 00:33:13,810
API do it immediately after an

00:33:11,560 --> 00:33:15,790
interaction with the browser so that

00:33:13,810 --> 00:33:18,550
people can't just pop open a share for

00:33:15,790 --> 00:33:20,800
you when you go to their site without

00:33:18,550 --> 00:33:22,150
you clicking on anything so we're going

00:33:20,800 --> 00:33:24,970
to upload the file as soon as the image

00:33:22,150 --> 00:33:26,350
is picked rather than waiting to press

00:33:24,970 --> 00:33:28,060
the share button because if we wait for

00:33:26,350 --> 00:33:29,630
them to press the share button and then

00:33:28,060 --> 00:33:31,490
we start the upload and then

00:33:29,630 --> 00:33:33,860
the uploads finish then we do share it's

00:33:31,490 --> 00:33:36,380
just not gonna work good I need to

00:33:33,860 --> 00:33:39,140
import this platform API from react

00:33:36,380 --> 00:33:40,370
native again this is a primitive like

00:33:39,140 --> 00:33:42,020
something built in to react native

00:33:40,370 --> 00:33:44,630
because it tells you how do I switch

00:33:42,020 --> 00:33:46,730
between some behavior on web some

00:33:44,630 --> 00:33:49,520
behavior on iOS on Windows on Android

00:33:46,730 --> 00:33:51,320
and so we're going to just fork the

00:33:49,520 --> 00:33:53,870
behavior a little bit in this case we

00:33:51,320 --> 00:33:57,200
know that in the case of not being on

00:33:53,870 --> 00:34:00,830
web we can just do this but here we need

00:33:57,200 --> 00:34:04,550
to do upload to not as files async

00:34:00,830 --> 00:34:10,550
picker result locally so we can just

00:34:04,550 --> 00:34:13,540
trust that what this thing does oh sorry

00:34:10,550 --> 00:34:18,200
not pick a result it should just be URI

00:34:13,540 --> 00:34:20,929
yeah so we can trust that what this is

00:34:18,200 --> 00:34:24,409
going to do is just upload the file and

00:34:20,929 --> 00:34:26,899
then return a URL that we can go to to

00:34:24,409 --> 00:34:28,220
find the image obviously there's no

00:34:26,899 --> 00:34:30,830
error handling here so if it doesn't

00:34:28,220 --> 00:34:33,590
work out but this is a dental app so I'm

00:34:30,830 --> 00:34:37,690
not going to bore you with try catch and

00:34:33,590 --> 00:34:41,090
retries and so on I'll just do no here

00:34:37,690 --> 00:34:44,450
okay and then lastly we need to change

00:34:41,090 --> 00:34:48,440
this so we can say the image is

00:34:44,450 --> 00:34:52,970
available for sharing at selected image

00:34:48,440 --> 00:34:55,840
remote and that's only if it's not

00:34:52,970 --> 00:35:01,400
available and otherwise we're going to

00:34:55,840 --> 00:35:02,480
share the if we have the remote your eye

00:35:01,400 --> 00:35:05,540
we're going to share that otherwise

00:35:02,480 --> 00:35:09,080
we'll just share their local one and so

00:35:05,540 --> 00:35:11,080
now on web depending on our upload speed

00:35:09,080 --> 00:35:14,390
I'm just going to reload this to be safe

00:35:11,080 --> 00:35:15,860
depending on our upload speed might take

00:35:14,390 --> 00:35:18,200
a second to show okay

00:35:15,860 --> 00:35:20,690
and now when I share this right it'll

00:35:18,200 --> 00:35:22,310
say you can go here

00:35:20,690 --> 00:35:23,420
you tell the sights a little bit sketchy

00:35:22,310 --> 00:35:24,830
because I think it's gonna open a pop-up

00:35:23,420 --> 00:35:26,120
or something when I as soon as I

00:35:24,830 --> 00:35:30,760
interact with it yeah there we go

00:35:26,120 --> 00:35:30,760
but hey it works right so cool so hey

00:35:35,200 --> 00:35:42,290
all right we're making pretty good

00:35:37,310 --> 00:35:43,130
progress here so now I want to have a

00:35:42,290 --> 00:35:44,269
look at

00:35:43,130 --> 00:35:45,920
some other things we've kind of like

00:35:44,269 --> 00:35:49,759
functionally completed the app it does

00:35:45,920 --> 00:35:50,930
what we want it to do but there's a few

00:35:49,759 --> 00:35:53,809
other things that we need to do before

00:35:50,930 --> 00:35:56,150
like you actually ship an app to the App

00:35:53,809 --> 00:35:58,339
Store so you probably want some kind of

00:35:56,150 --> 00:35:59,599
splash screen which is the thing that

00:35:58,339 --> 00:36:01,730
you see when you open the app and it

00:35:59,599 --> 00:36:03,769
shows maybe a logo or whatever before

00:36:01,730 --> 00:36:05,420
your app loads and then there's the app

00:36:03,769 --> 00:36:08,329
icons so the thing that they see on the

00:36:05,420 --> 00:36:10,279
home screen so let's start with the

00:36:08,329 --> 00:36:13,730
splash screen so you could just download

00:36:10,279 --> 00:36:15,470
this that bitly share splash I'm going

00:36:13,730 --> 00:36:17,809
to copy it from that local directory

00:36:15,470 --> 00:36:24,019
because I have not had good luck right

00:36:17,809 --> 00:36:28,609
now with bitly and basically just need

00:36:24,019 --> 00:36:32,150
to override overwrite rather the the

00:36:28,609 --> 00:36:33,380
splash image inside of our directory so

00:36:32,150 --> 00:36:35,660
right now our splash image just looks

00:36:33,380 --> 00:36:38,390
like this we can verify what that looks

00:36:35,660 --> 00:36:39,799
like by refreshing the app right it's

00:36:38,390 --> 00:36:43,309
kind of goes away pretty quickly but you

00:36:39,799 --> 00:36:48,200
can see it's just this thing now if we

00:36:43,309 --> 00:36:49,900
replace it and then refresh the app but

00:36:48,200 --> 00:36:53,240
you can see the splash images like that

00:36:49,900 --> 00:36:54,859
one small problem is that we have bars

00:36:53,240 --> 00:36:56,720
kind of on the top of the screen here

00:36:54,859 --> 00:37:01,039
and this is because the splash image is

00:36:56,720 --> 00:37:02,359
just a certain it's a fixed obviously

00:37:01,039 --> 00:37:05,809
it's a single image so there's one

00:37:02,359 --> 00:37:08,029
aspect ratio to it and in this case it

00:37:05,809 --> 00:37:09,950
isn't taking up the full screen and

00:37:08,029 --> 00:37:12,170
there's no way to make a single image

00:37:09,950 --> 00:37:14,089
that is of the aspect ratio that takes

00:37:12,170 --> 00:37:15,740
up the full screen of every screen so

00:37:14,089 --> 00:37:19,759
naturally we need to do something to

00:37:15,740 --> 00:37:23,750
fill in the space around that so to do

00:37:19,759 --> 00:37:27,289
that we can get into this configuration

00:37:23,750 --> 00:37:29,329
file called app JSON so this exists in

00:37:27,289 --> 00:37:31,640
every react native project if you're

00:37:29,329 --> 00:37:32,990
using the expo manage workflow don't

00:37:31,640 --> 00:37:34,839
worry about that word you can see if you

00:37:32,990 --> 00:37:37,849
go to the docs you'll see what it means

00:37:34,839 --> 00:37:39,470
you under the expo key are able to

00:37:37,849 --> 00:37:42,829
configure a lot of different properties

00:37:39,470 --> 00:37:46,009
so one of them is under splash we see

00:37:42,829 --> 00:37:48,349
give a path to the splash image which we

00:37:46,009 --> 00:37:50,900
saw already asset splash set a resize

00:37:48,349 --> 00:37:54,700
mode to contain which just says make it

00:37:50,900 --> 00:37:57,859
fit within the screen regardless of

00:37:54,700 --> 00:38:00,739
you know the the dimensions of it but

00:37:57,859 --> 00:38:05,390
never stretch the thing always maintain

00:38:00,739 --> 00:38:07,009
the aspect ratio and lastly we're adding

00:38:05,390 --> 00:38:08,210
this property called background color so

00:38:07,009 --> 00:38:09,859
we're going to set a background color

00:38:08,210 --> 00:38:12,140
for the splash screen so that it will be

00:38:09,859 --> 00:38:14,299
black behind the image this way we'll go

00:38:12,140 --> 00:38:21,079
edge to edge and fill up the entire

00:38:14,299 --> 00:38:24,049
thing so for Jim Peck so you know I

00:38:21,079 --> 00:38:28,400
thought JSON go down to background color

00:38:24,049 --> 00:38:33,170
a weird quirk with this one is that you

00:38:28,400 --> 00:38:35,450
actually have to use the not the short

00:38:33,170 --> 00:38:39,950
version the actual like full length six

00:38:35,450 --> 00:38:43,190
character hex code it's just the weird

00:38:39,950 --> 00:38:44,989
thing with native colors but anyways we

00:38:43,190 --> 00:38:46,999
should probably fix that you can see now

00:38:44,989 --> 00:38:48,980
that on the top of the screen right it's

00:38:46,999 --> 00:38:51,859
like black and it's taking up the the

00:38:48,980 --> 00:38:54,410
full screen the next thing we want to do

00:38:51,859 --> 00:38:56,930
is customize the app icon we can kind of

00:38:54,410 --> 00:38:59,539
get a quick look of the app icon next

00:38:56,930 --> 00:39:01,190
let's jump back here by just opening up

00:38:59,539 --> 00:39:03,799
this menu you can see right now it's

00:39:01,190 --> 00:39:09,650
currently this but we want to change

00:39:03,799 --> 00:39:11,450
that so that it is instead this thing so

00:39:09,650 --> 00:39:17,420
I'm just gonna copy that over again from

00:39:11,450 --> 00:39:19,249
here let's see if it'll pick up from

00:39:17,420 --> 00:39:20,630
caching okay sometimes it's a little

00:39:19,249 --> 00:39:25,749
tricky with the cache so I'm just going

00:39:20,630 --> 00:39:25,749
to rename it let's call it icon 2 and

00:39:25,869 --> 00:39:35,079
there we go okay so we see it there cool

00:39:32,920 --> 00:39:38,869
in this case I'm just using a single

00:39:35,079 --> 00:39:40,190
icon for web iOS and Android

00:39:38,869 --> 00:39:42,529
there are ways you could specify

00:39:40,190 --> 00:39:44,869
different icons you probably want to for

00:39:42,529 --> 00:39:47,269
a real app because the shapes aren't the

00:39:44,869 --> 00:39:49,099
same and you can provide adaptive icons

00:39:47,269 --> 00:39:50,690
for Android and so on that's all in the

00:39:49,099 --> 00:39:53,930
documentation so don't worry about it

00:39:50,690 --> 00:39:56,180
right now let's have a quick look now at

00:39:53,930 --> 00:39:57,980
the release build process so we have

00:39:56,180 --> 00:40:00,200
this app that's working in development I

00:39:57,980 --> 00:40:04,309
want to now put it somewhere where

00:40:00,200 --> 00:40:07,740
people can use it so we're gonna start

00:40:04,309 --> 00:40:09,330
with web which is the easiest one to do

00:40:07,740 --> 00:40:11,460
all we need to do is run Expo build web

00:40:09,330 --> 00:40:15,119
it's pretty similar to doing any sort of

00:40:11,460 --> 00:40:17,700
build on a web project great react app

00:40:15,119 --> 00:40:19,200
or whichever tool you like to use it'll

00:40:17,700 --> 00:40:21,540
just create an optimized build with web

00:40:19,200 --> 00:40:24,119
pack and as well it's going to generate

00:40:21,540 --> 00:40:27,990
a PW a manifest based off the

00:40:24,119 --> 00:40:31,200
information in app dot JSON and lastly

00:40:27,990 --> 00:40:35,550
is going to take our icon image and

00:40:31,200 --> 00:40:38,369
create PW a icons from it so that's done

00:40:35,550 --> 00:40:43,860
and we could go into build web I believe

00:40:38,369 --> 00:40:47,310
it's called web build and I'm just going

00:40:43,860 --> 00:40:48,930
to deploy it to you now which if you

00:40:47,310 --> 00:40:50,850
haven't used is great but neckla is

00:40:48,930 --> 00:40:53,850
great you know guess amplify is great

00:40:50,850 --> 00:40:59,790
you can take your pick of static hosting

00:40:53,850 --> 00:41:02,790
services all right I'm going to alias

00:40:59,790 --> 00:41:05,280
this well no I don't bother let's just

00:41:02,790 --> 00:41:08,580
go there okay so now we can go here it's

00:41:05,280 --> 00:41:15,630
deployed I'm gonna actually open it in

00:41:08,580 --> 00:41:18,630
Safari just to change things up and you

00:41:15,630 --> 00:41:20,460
might have noticed if you had read

00:41:18,630 --> 00:41:23,820
carefully one of the previous slides

00:41:20,460 --> 00:41:26,070
about limitations on the web that you

00:41:23,820 --> 00:41:29,130
need to be using HTTPS to use the web

00:41:26,070 --> 00:41:31,320
share API and so Safari on Mac actually

00:41:29,130 --> 00:41:33,900
supports web share if you're using HTTP

00:41:31,320 --> 00:41:35,970
which I am here in this case so now I

00:41:33,900 --> 00:41:38,790
get this dialog that allows me to choose

00:41:35,970 --> 00:41:40,650
like messages and now it'll share the

00:41:38,790 --> 00:41:42,869
file URL and I can just pick a recipient

00:41:40,650 --> 00:41:45,390
for it in Chrome it'll just still do the

00:41:42,869 --> 00:41:54,330
dialog the alert dialog because we don't

00:41:45,390 --> 00:41:55,830
have access to the API okay we're

00:41:54,330 --> 00:41:57,600
getting pretty close to 45 minutes in

00:41:55,830 --> 00:42:00,300
but I started a couple minutes late so I

00:41:57,600 --> 00:42:05,280
would go a couple minutes over Sarah

00:42:00,300 --> 00:42:08,070
gives me her approval okay so for

00:42:05,280 --> 00:42:09,810
Android we would basically put this in

00:42:08,070 --> 00:42:12,750
our app dot JSON so we need to provide a

00:42:09,810 --> 00:42:15,060
unique package name that's just if

00:42:12,750 --> 00:42:16,859
you've ever looked at the URL for an app

00:42:15,060 --> 00:42:18,910
on the Play Store you'll see that at the

00:42:16,859 --> 00:42:21,339
end of it it has a package name

00:42:18,910 --> 00:42:22,690
so it's usually like calm dot whatever

00:42:21,339 --> 00:42:24,760
your company name is and then whatever

00:42:22,690 --> 00:42:26,380
your app name is don't overthink it it

00:42:24,760 --> 00:42:27,579
doesn't really matter that said you're

00:42:26,380 --> 00:42:29,260
stuck with it forever as long as you use

00:42:27,579 --> 00:42:30,700
the app so think about it a little bit

00:42:29,260 --> 00:42:32,410
but not too much

00:42:30,700 --> 00:42:34,210
you need that balance I'm not going to

00:42:32,410 --> 00:42:37,660
show you that one because it's kind of

00:42:34,210 --> 00:42:38,680
boring we could do the same for iOS

00:42:37,660 --> 00:42:41,490
except it's called bundle identifier

00:42:38,680 --> 00:42:44,289
follows the same reverse DNS notation

00:42:41,490 --> 00:42:46,720
you give the same name if you want and

00:42:44,289 --> 00:42:49,299
then you run build iOS and I will show

00:42:46,720 --> 00:42:51,760
you this one really quick because it's a

00:42:49,299 --> 00:42:53,680
little bit faster than the Android one

00:42:51,760 --> 00:42:58,690
provided that I just do a simulator

00:42:53,680 --> 00:43:05,170
build so let's open up and under here I

00:42:58,690 --> 00:43:10,869
can add a little fire sh agent explode

00:43:05,170 --> 00:43:13,420
example alright and now I can run just

00:43:10,869 --> 00:43:17,819
going to do a simulator build this will

00:43:13,420 --> 00:43:21,369
do o builded the app and give us a oh

00:43:17,819 --> 00:43:25,770
look I have some transparency my icon in

00:43:21,369 --> 00:43:33,190
that case let's just open in essence

00:43:25,770 --> 00:43:35,079
that's my bad let's take this and crop

00:43:33,190 --> 00:43:36,730
it or something hopefully it doesn't

00:43:35,079 --> 00:43:39,180
complain about it being not one or two

00:43:36,730 --> 00:43:44,049
four I don't remember if we do that

00:43:39,180 --> 00:43:45,279
please don't validate the dimensions we

00:43:44,049 --> 00:43:46,690
should validate the dimension so if we

00:43:45,279 --> 00:43:48,670
do we actually are doing a good thing

00:43:46,690 --> 00:43:57,099
but if we don't and it works I'm also

00:43:48,670 --> 00:43:58,510
not mad so it's kind of win-win here so

00:43:57,099 --> 00:44:01,420
it's gonna publish oh yeah see there we

00:43:58,510 --> 00:44:06,940
go we validate it perfect great thanks a

00:44:01,420 --> 00:44:08,890
lot alright you know whatever I'll show

00:44:06,940 --> 00:44:10,420
you later if you want or just go to the

00:44:08,890 --> 00:44:14,650
website

00:44:10,420 --> 00:44:16,140
so once we've created these binaries we

00:44:14,650 --> 00:44:18,609
can actually submit those to the store

00:44:16,140 --> 00:44:21,670
and then we can update them over-the-air

00:44:18,609 --> 00:44:23,680
so we could just run this command X blow

00:44:21,670 --> 00:44:26,289
publish and this will go ahead and

00:44:23,680 --> 00:44:28,210
provide a new version of the app to the

00:44:26,289 --> 00:44:29,529
users and so though the next time they

00:44:28,210 --> 00:44:31,270
load their app it'll be downloaded in

00:44:29,529 --> 00:44:31,900
the background and then when they close

00:44:31,270 --> 00:44:34,960
and reopen

00:44:31,900 --> 00:44:36,309
the update will be applied for them

00:44:34,960 --> 00:44:40,029
you can configure how you want that to

00:44:36,309 --> 00:44:41,529
work again in app tell JSON we just have

00:44:40,029 --> 00:44:43,180
some default values there documented

00:44:41,529 --> 00:44:45,549
there you can also control it

00:44:43,180 --> 00:44:47,170
programmatically so if you want to check

00:44:45,549 --> 00:44:49,539
for the updates manually when the app

00:44:47,170 --> 00:44:50,890
starts maybe show a dialog saying okay

00:44:49,539 --> 00:44:54,849
there's this update available do you

00:44:50,890 --> 00:44:57,309
want to restart you can do that too yes

00:44:54,849 --> 00:44:59,170
so that's that's about it if you want to

00:44:57,309 --> 00:45:00,789
learn more you can go to this link it

00:44:59,170 --> 00:45:03,190
just brings you to the expo Docs there's

00:45:00,789 --> 00:45:04,839
a page after this walkthrough that I

00:45:03,190 --> 00:45:06,520
basically just gave you which is

00:45:04,839 --> 00:45:08,740
something that I just wrote up for the

00:45:06,520 --> 00:45:10,000
documentation as well so if you didn't

00:45:08,740 --> 00:45:11,920
follow along and you want to go back

00:45:10,000 --> 00:45:13,230
through and do that you can go to the

00:45:11,920 --> 00:45:15,730
documentation just go to the tutorial

00:45:13,230 --> 00:45:20,020
and you'll end up on this learning more

00:45:15,730 --> 00:45:21,840
page right after that so yeah thanks

00:45:20,020 --> 00:45:27,409
[Laughter]

00:45:21,840 --> 00:45:27,409

YouTube URL: https://www.youtube.com/watch?v=Mfs0JgkKxeY


