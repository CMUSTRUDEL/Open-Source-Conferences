Title: Conditionally Change the Template of Your Component | Preston Lamb | Lightning Talks 2021 #ngconf
Publication date: 2021-05-31
Playlist: ng-conf 2021 Lightning Talks
Description: 
	Updating the UI of your application can take a lot of time, especially if your application is big. One way to update components one at a time while reusing the logic of the component is by conditionally selecting an HTML page for your template using environment variables.

Learn the best ways to build reliable web applications, write quality code, choose scalable architectures, and create effective automated tests at the Reliable Web Summit this August 26-27, 2021. Powered by the team at ng-conf.

Get your ticket ðŸ‘‰ https://reliablewebsummit.com/

ng-conf is a multi-day Angular conference focused on delivering the highest quality training in the Angular JavaScript framework. 1000's of developers from across the globe join together to attend talks and workshops by the Angular team and other community experts.

Follow us on twitter https://twitter.com/ngconfâ€‹ 
Official Website: https://www.ng-conf.org/
Captions: 
	00:00:04,820 --> 00:00:07,869
[Music]

00:00:08,400 --> 00:00:12,080
all right well thank you everyone for

00:00:10,000 --> 00:00:13,679
uh for being here thanks brooke for the

00:00:12,080 --> 00:00:15,519
opportunity like she said i'm going to

00:00:13,679 --> 00:00:17,039
talk today about conditionally swapping

00:00:15,519 --> 00:00:21,080
out your angular templates

00:00:17,039 --> 00:00:22,240
based on some condition um real quick

00:00:21,080 --> 00:00:24,160
[Music]

00:00:22,240 --> 00:00:26,320
my name is preston lamb i'm a full stack

00:00:24,160 --> 00:00:29,119
developer i live in utah

00:00:26,320 --> 00:00:32,079
i'm an angular gde and you can find me

00:00:29,119 --> 00:00:34,079
on github at pjlm12

00:00:32,079 --> 00:00:35,520
and then on twitter and instagram at

00:00:34,079 --> 00:00:38,640
prestonjlam so

00:00:35,520 --> 00:00:40,000
definitely reach out to me and i like

00:00:38,640 --> 00:00:43,040
interacting with people and

00:00:40,000 --> 00:00:44,160
meeting new people on on twitter so

00:00:43,040 --> 00:00:47,360
we'll just jump right in

00:00:44,160 --> 00:00:50,800
um so a little background um

00:00:47,360 --> 00:00:54,160
i recently um at work was

00:00:50,800 --> 00:00:57,520
uh we work in an nx workspace

00:00:54,160 --> 00:00:58,480
and we needed to start moving some

00:00:57,520 --> 00:01:00,399
components

00:00:58,480 --> 00:01:01,600
from our old design system which was

00:01:00,399 --> 00:01:04,080
built on bootstrap

00:01:01,600 --> 00:01:06,720
to a new design system that was built on

00:01:04,080 --> 00:01:08,880
tailwind and i didn't want to have to

00:01:06,720 --> 00:01:10,720
recreate all those components and we're

00:01:08,880 --> 00:01:12,080
going to use those

00:01:10,720 --> 00:01:14,159
like we're sharing those components

00:01:12,080 --> 00:01:14,960
between two different apps and one is

00:01:14,159 --> 00:01:17,759
already

00:01:14,960 --> 00:01:19,840
on tailwind and one isn't quite yet and

00:01:17,759 --> 00:01:21,520
so i didn't want to duplicate all of

00:01:19,840 --> 00:01:22,320
those components and use them in two

00:01:21,520 --> 00:01:24,320
spots

00:01:22,320 --> 00:01:25,520
and so i thought well there's got to be

00:01:24,320 --> 00:01:28,720
a way that i can

00:01:25,520 --> 00:01:31,520
in app a use bootstrap and then app

00:01:28,720 --> 00:01:33,040
b use tailwind and then once we get app

00:01:31,520 --> 00:01:34,880
a upgraded i can just

00:01:33,040 --> 00:01:36,479
turn off the bootstrap altogether and

00:01:34,880 --> 00:01:39,119
we'll just use tailwind

00:01:36,479 --> 00:01:40,240
and so that was my end goal was how do i

00:01:39,119 --> 00:01:43,680
get to that point

00:01:40,240 --> 00:01:46,799
so i thought um i just thought i'd

00:01:43,680 --> 00:01:48,960
try it out and see what happens if i uh

00:01:46,799 --> 00:01:50,560
if i used a conditional statement inside

00:01:48,960 --> 00:01:52,799
the component decorator

00:01:50,560 --> 00:01:54,240
and so the first thing that i did was i

00:01:52,799 --> 00:01:57,600
went to the environment file

00:01:54,240 --> 00:01:58,640
um and i added a new attribute like you

00:01:57,600 --> 00:02:01,520
can see here

00:01:58,640 --> 00:02:03,360
i use tailwind template and in one app i

00:02:01,520 --> 00:02:05,439
set this to false and then the other app

00:02:03,360 --> 00:02:07,680
i set it to true

00:02:05,439 --> 00:02:08,800
but in this example we'll start with it

00:02:07,680 --> 00:02:11,840
being false

00:02:08,800 --> 00:02:12,800
and then in the component i just used a

00:02:11,840 --> 00:02:17,200
ternary

00:02:12,800 --> 00:02:19,280
operator in the template url and

00:02:17,200 --> 00:02:21,280
imported the environment file and if

00:02:19,280 --> 00:02:23,920
used tell in template is true

00:02:21,280 --> 00:02:25,120
then i told it to use this component

00:02:23,920 --> 00:02:27,040
template file

00:02:25,120 --> 00:02:28,959
and then if it was false use the the

00:02:27,040 --> 00:02:30,560
default one that was already created for

00:02:28,959 --> 00:02:31,840
me

00:02:30,560 --> 00:02:33,680
you can also do the same thing with

00:02:31,840 --> 00:02:35,360
style urls if you want

00:02:33,680 --> 00:02:36,879
and honestly you could do it with the

00:02:35,360 --> 00:02:38,720
selector too if you wanted

00:02:36,879 --> 00:02:40,080
you could use the ternary in all three

00:02:38,720 --> 00:02:42,959
of those situations

00:02:40,080 --> 00:02:45,280
but um i for the for this example i'm

00:02:42,959 --> 00:02:46,800
just going to do the template url

00:02:45,280 --> 00:02:49,040
and then if we look real quick at what

00:02:46,800 --> 00:02:50,959
the template urls are

00:02:49,040 --> 00:02:52,720
if it's uh if it's just the default

00:02:50,959 --> 00:02:54,560
template if i have it say

00:02:52,720 --> 00:02:56,800
saying that we're just using the default

00:02:54,560 --> 00:02:59,200
template with our old style guide

00:02:56,800 --> 00:03:01,599
and if it's the new one using tailwind

00:02:59,200 --> 00:03:06,000
then i just have this text on the screen

00:03:01,599 --> 00:03:08,480
so again in my environment file i have

00:03:06,000 --> 00:03:09,920
oops sorry i've used telling template

00:03:08,480 --> 00:03:12,080
set to false

00:03:09,920 --> 00:03:13,120
so if we go over to the browser we can

00:03:12,080 --> 00:03:15,920
see that

00:03:13,120 --> 00:03:16,400
this is the default template um the one

00:03:15,920 --> 00:03:19,440
that

00:03:16,400 --> 00:03:20,720
was generated with the application and

00:03:19,440 --> 00:03:24,159
then if i come in here

00:03:20,720 --> 00:03:26,159
and i change this to true

00:03:24,159 --> 00:03:27,200
and we wait for it to compile and we go

00:03:26,159 --> 00:03:29,360
back over here

00:03:27,200 --> 00:03:30,959
then now we can see that on the screen

00:03:29,360 --> 00:03:32,239
it says that this is the new template

00:03:30,959 --> 00:03:35,599
with our new style guide

00:03:32,239 --> 00:03:39,519
or using tailwind in this example

00:03:35,599 --> 00:03:41,920
and if you switch it back again then

00:03:39,519 --> 00:03:44,000
when it recompiles and reloads then

00:03:41,920 --> 00:03:46,480
we're back to our default template

00:03:44,000 --> 00:03:47,680
default template this has worked really

00:03:46,480 --> 00:03:49,680
pretty well for us

00:03:47,680 --> 00:03:50,959
i wouldn't necessarily do this all the

00:03:49,680 --> 00:03:54,000
time

00:03:50,959 --> 00:03:57,360
i would say that it's it's best to do in

00:03:54,000 --> 00:04:00,000
kind of limited situations in addition

00:03:57,360 --> 00:04:02,720
one of the downfalls let me change this

00:04:00,000 --> 00:04:02,720
back to true

00:04:03,120 --> 00:04:07,040
and then i'm going to come over here to

00:04:04,640 --> 00:04:09,599
the to the template

00:04:07,040 --> 00:04:10,560
file that uses the tailwind one and i'm

00:04:09,599 --> 00:04:15,439
just going to add

00:04:10,560 --> 00:04:18,160
a little more here

00:04:15,439 --> 00:04:19,759
um i found that and it might work in

00:04:18,160 --> 00:04:22,960
this one

00:04:19,759 --> 00:04:23,520
nope it didn't oh it did okay so in in

00:04:22,960 --> 00:04:26,800
our

00:04:23,520 --> 00:04:27,600
nx workspace um when i would add or when

00:04:26,800 --> 00:04:30,320
i change

00:04:27,600 --> 00:04:31,440
the the template within the tailwind

00:04:30,320 --> 00:04:33,520
file

00:04:31,440 --> 00:04:34,479
it doesn't always update automatically

00:04:33,520 --> 00:04:37,120
for me um

00:04:34,479 --> 00:04:37,919
and that might be the nx workspace setup

00:04:37,120 --> 00:04:39,520
that we have

00:04:37,919 --> 00:04:41,840
it could be the difference between there

00:04:39,520 --> 00:04:42,720
and here but i have found that in some

00:04:41,840 --> 00:04:45,120
cases

00:04:42,720 --> 00:04:45,919
the language server doesn't always

00:04:45,120 --> 00:04:48,400
connect

00:04:45,919 --> 00:04:49,040
quite as well so i don't always have

00:04:48,400 --> 00:04:51,759
auto

00:04:49,040 --> 00:04:53,520
complete and some of those things but

00:04:51,759 --> 00:04:55,520
those minor inconveniences

00:04:53,520 --> 00:04:56,960
were worth it for us to not have to

00:04:55,520 --> 00:04:59,040
duplicate all the logic

00:04:56,960 --> 00:05:00,800
because this should be kind of like a

00:04:59,040 --> 00:05:02,400
temporary thing for us

00:05:00,800 --> 00:05:04,560
and over the course of the next couple

00:05:02,400 --> 00:05:06,160
months we'll be updating components and

00:05:04,560 --> 00:05:09,600
we'll be able to

00:05:06,160 --> 00:05:11,600
use the new style guide and then

00:05:09,600 --> 00:05:12,880
once we're completely moved over we'll

00:05:11,600 --> 00:05:16,320
remove the old one

00:05:12,880 --> 00:05:19,680
so uh it's definitely um a

00:05:16,320 --> 00:05:21,600
viable option um but uh

00:05:19,680 --> 00:05:23,680
i probably i still wouldn't use it all

00:05:21,600 --> 00:05:24,080
the time but it's worked really well so

00:05:23,680 --> 00:05:26,800
if you

00:05:24,080 --> 00:05:28,560
are in the process of moving over an

00:05:26,800 --> 00:05:30,479
application

00:05:28,560 --> 00:05:31,600
from one style guide to another i would

00:05:30,479 --> 00:05:35,120
definitely

00:05:31,600 --> 00:05:37,280
check out this option and i wrote um

00:05:35,120 --> 00:05:38,639
i wrote a blog post on this recently on

00:05:37,280 --> 00:05:42,000
the ngconf blog

00:05:38,639 --> 00:05:43,440
and then i have a demo repo as well so i

00:05:42,000 --> 00:05:45,280
will tweet those

00:05:43,440 --> 00:05:46,880
right as soon as i'm done with this talk

00:05:45,280 --> 00:05:49,759
so go follow me on twitter

00:05:46,880 --> 00:05:50,479
and you can get links to the article and

00:05:49,759 --> 00:05:53,199
to the

00:05:50,479 --> 00:06:04,479
to the repository and that's all i have

00:05:53,199 --> 00:06:04,479

YouTube URL: https://www.youtube.com/watch?v=Gc2kNGGRdSs


