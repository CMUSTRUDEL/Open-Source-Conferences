Title: Real time Collaboration Tools | Raship Shah | EnterpriseNG 2020 #ngconf
Publication date: 2021-02-01
Playlist: EnterpriseNG: Lightning Talks
Description: 
	ng-conf is a three-day Angular conference focused on delivering the highest quality training in the Angular JavaScript framework. 1500+ developers from across the globe converge on Salt Lake City, UT every year to attend talks and workshops by the Angular team and community experts.

Follow us on twitter https://twitter.com/ngconf
Official Website: https://www.ng-conf.org/
Captions: 
	00:00:04,710 --> 00:00:08,809
[Music]

00:00:14,240 --> 00:00:18,800
okay

00:00:15,280 --> 00:00:19,359
so a little bit about me i'm uh uh i'm a

00:00:18,800 --> 00:00:20,960
husband

00:00:19,359 --> 00:00:22,800
you know this this hierarchy used to

00:00:20,960 --> 00:00:26,320
look a little different before

00:00:22,800 --> 00:00:29,199
um i'm a husband uh a son

00:00:26,320 --> 00:00:30,240
a father a teacher i worked i spent

00:00:29,199 --> 00:00:32,880
about

00:00:30,240 --> 00:00:34,160
10 years at the university just doing a

00:00:32,880 --> 00:00:37,280
lot of research and

00:00:34,160 --> 00:00:40,719
development and now i

00:00:37,280 --> 00:00:43,120
am a full-time angular developer so

00:00:40,719 --> 00:00:44,320
um one of the things that i've always

00:00:43,120 --> 00:00:46,320
been interested uh

00:00:44,320 --> 00:00:48,800
you know ever since i started teaching

00:00:46,320 --> 00:00:51,840
was just to be able to

00:00:48,800 --> 00:00:52,879
uh deliver live content to students uh

00:00:51,840 --> 00:00:56,160
be able to teach

00:00:52,879 --> 00:00:59,199
a lot of things and communicate and

00:00:56,160 --> 00:01:02,239
and so on so um as you can uh

00:00:59,199 --> 00:01:04,080
notice here what is involved in building

00:01:02,239 --> 00:01:07,360
a real-time communication

00:01:04,080 --> 00:01:08,000
uh tool um so many big companies do it

00:01:07,360 --> 00:01:11,280
google

00:01:08,000 --> 00:01:11,600
has plenty of tools docs sheets yeah

00:01:11,280 --> 00:01:12,960
that

00:01:11,600 --> 00:01:15,200
you know many of you guys might have

00:01:12,960 --> 00:01:18,720
used you've got some real-time

00:01:15,200 --> 00:01:20,479
uh productivity tools here um your myro

00:01:18,720 --> 00:01:22,000
slack we use it uh

00:01:20,479 --> 00:01:23,840
regular basis you've got all these

00:01:22,000 --> 00:01:24,159
real-time tools you're using one right

00:01:23,840 --> 00:01:27,520
now

00:01:24,159 --> 00:01:29,119
zoom um webex google me all of these are

00:01:27,520 --> 00:01:31,840
pretty fantastic so

00:01:29,119 --> 00:01:33,360
um you know i have always been uh

00:01:31,840 --> 00:01:35,600
curious and interested

00:01:33,360 --> 00:01:36,960
in being able to use these things and

00:01:35,600 --> 00:01:40,079
actually not only

00:01:36,960 --> 00:01:40,880
use but also um build upon it and

00:01:40,079 --> 00:01:42,799
especially

00:01:40,880 --> 00:01:44,640
given the time that we're in right now

00:01:42,799 --> 00:01:47,280
with the pandemic and everything

00:01:44,640 --> 00:01:49,520
it the the need for these tools have

00:01:47,280 --> 00:01:52,399
actually increased significantly

00:01:49,520 --> 00:01:54,799
so you know what is it what is it

00:01:52,399 --> 00:01:55,520
required to actually build a tool like

00:01:54,799 --> 00:01:58,240
that

00:01:55,520 --> 00:01:59,439
well i think it's pretty um

00:01:58,240 --> 00:02:02,320
straightforward you

00:01:59,439 --> 00:02:03,840
need a socket connection um so a socket

00:02:02,320 --> 00:02:05,920
connection as you can

00:02:03,840 --> 00:02:07,360
you can see in a picture is the term is

00:02:05,920 --> 00:02:09,599
derived literally from

00:02:07,360 --> 00:02:11,280
you know putting those wires together

00:02:09,599 --> 00:02:14,560
into those plugs

00:02:11,280 --> 00:02:14,959
um and and there is a great presentation

00:02:14,560 --> 00:02:17,680
by

00:02:14,959 --> 00:02:18,319
by dan uh tomorrow who's going to talk

00:02:17,680 --> 00:02:20,000
about

00:02:18,319 --> 00:02:21,760
you know microsoft has built a

00:02:20,000 --> 00:02:23,280
technology which actually makes this

00:02:21,760 --> 00:02:25,920
really really easy

00:02:23,280 --> 00:02:27,040
uh you know in using the the fluid

00:02:25,920 --> 00:02:29,360
framework

00:02:27,040 --> 00:02:30,959
but um regardless of that so once you

00:02:29,360 --> 00:02:33,360
have the socket connection

00:02:30,959 --> 00:02:34,000
the only other thing you really need is

00:02:33,360 --> 00:02:37,040
a switch

00:02:34,000 --> 00:02:38,319
or some kind of a ui and you know what

00:02:37,040 --> 00:02:41,360
are the tool better

00:02:38,319 --> 00:02:42,080
than angular to actually uh to do this

00:02:41,360 --> 00:02:45,360
so

00:02:42,080 --> 00:02:48,000
what i wanted to do here is i wanted to

00:02:45,360 --> 00:02:51,280
kind of show you guys how easy it is

00:02:48,000 --> 00:02:53,360
to build a tool from scratch um

00:02:51,280 --> 00:02:54,560
you know using angular as as a core

00:02:53,360 --> 00:02:58,400
technology so

00:02:54,560 --> 00:03:01,360
um and i don't know if if this exists

00:02:58,400 --> 00:03:02,239
um outside in real world scenarios today

00:03:01,360 --> 00:03:03,920
but uh

00:03:02,239 --> 00:03:05,680
if you if you just think about it right

00:03:03,920 --> 00:03:08,959
i've got this scalable

00:03:05,680 --> 00:03:12,400
vector graphics and svg layer and

00:03:08,959 --> 00:03:13,040
um if i start writing um if i start

00:03:12,400 --> 00:03:15,599
writing

00:03:13,040 --> 00:03:16,080
uh you know on on this board as you can

00:03:15,599 --> 00:03:19,280
see

00:03:16,080 --> 00:03:22,239
svg events is uh

00:03:19,280 --> 00:03:22,720
constructing the the paths dynamically

00:03:22,239 --> 00:03:25,280
and

00:03:22,720 --> 00:03:26,239
i want to just kind of you know take you

00:03:25,280 --> 00:03:28,319
guys towards

00:03:26,239 --> 00:03:29,519
what's involved in actually building

00:03:28,319 --> 00:03:33,040
something like this

00:03:29,519 --> 00:03:36,560
so if i dive deeper into the code

00:03:33,040 --> 00:03:39,760
what you'll notice is that we have um

00:03:36,560 --> 00:03:41,440
a component and this isn't a very

00:03:39,760 --> 00:03:42,720
popular feature of angular i haven't

00:03:41,440 --> 00:03:46,000
seen a lot of people

00:03:42,720 --> 00:03:49,840
actually use this today but angular

00:03:46,000 --> 00:03:50,720
lets you directly put svg as a template

00:03:49,840 --> 00:03:53,680
url

00:03:50,720 --> 00:03:55,280
uh for anybody who's coded web before

00:03:53,680 --> 00:03:57,920
will probably realize that this

00:03:55,280 --> 00:04:00,720
is extremely difficult you have to

00:03:57,920 --> 00:04:04,080
always use these special selectors

00:04:00,720 --> 00:04:06,959
and like create element dot uh

00:04:04,080 --> 00:04:09,200
you know document.create element ns so

00:04:06,959 --> 00:04:11,519
you always have to specify a namespace

00:04:09,200 --> 00:04:13,439
so you can not just use standard

00:04:11,519 --> 00:04:15,760
document query selectors

00:04:13,439 --> 00:04:17,199
you have to go ahead and use a lot of

00:04:15,760 --> 00:04:20,959
these um

00:04:17,199 --> 00:04:22,720
you know strange extension commands for

00:04:20,959 --> 00:04:25,360
vector graphics now angular makes this

00:04:22,720 --> 00:04:28,479
really simple so what i was able to do

00:04:25,360 --> 00:04:31,759
is just put together an svg element and

00:04:28,479 --> 00:04:34,560
go ahead and build an a loop

00:04:31,759 --> 00:04:35,199
of all the svg elements that i may have

00:04:34,560 --> 00:04:38,400
uh

00:04:35,199 --> 00:04:40,000
code the svg as dynamically as

00:04:38,400 --> 00:04:41,520
you know i wish with all the different

00:04:40,000 --> 00:04:45,040
attributes um

00:04:41,520 --> 00:04:48,639
and and just like that uh by attaching

00:04:45,040 --> 00:04:49,440
uh the events of uh what you know your

00:04:48,639 --> 00:04:52,560
mouse events

00:04:49,440 --> 00:04:54,080
uh what may have you i was able to go

00:04:52,560 --> 00:04:57,680
ahead and create this

00:04:54,080 --> 00:04:59,680
interactive whiteboard now if you are

00:04:57,680 --> 00:05:01,840
interested in actually

00:04:59,680 --> 00:05:03,039
you know looking at this in a live

00:05:01,840 --> 00:05:06,160
fashion

00:05:03,039 --> 00:05:09,680
what i have done is i've deployed this

00:05:06,160 --> 00:05:10,000
on a website and i can even go ahead and

00:05:09,680 --> 00:05:12,560
share

00:05:10,000 --> 00:05:14,240
a link with you guys if you want to just

00:05:12,560 --> 00:05:17,759
go ahead and

00:05:14,240 --> 00:05:19,840
interact with it um it should allow you

00:05:17,759 --> 00:05:21,840
to kind of just join the session i see

00:05:19,840 --> 00:05:24,320
uh some of my friends might have already

00:05:21,840 --> 00:05:27,840
joined the session i'm gonna use

00:05:24,320 --> 00:05:28,479
um my son's ipad here um i don't know if

00:05:27,840 --> 00:05:31,199
i can

00:05:28,479 --> 00:05:34,160
see my video here but i'm gonna use my

00:05:31,199 --> 00:05:39,600
son's ipad here with the apple pencil

00:05:34,160 --> 00:05:42,639
and i'm gonna try and

00:05:39,600 --> 00:05:46,000
right okay

00:05:42,639 --> 00:05:49,840
so what you um what you'll notice here

00:05:46,000 --> 00:05:52,720
is okay and there are multiple people

00:05:49,840 --> 00:05:54,720
who can actually join and write so

00:05:52,720 --> 00:05:56,639
what i've done is uh just so that

00:05:54,720 --> 00:05:59,440
whiteboard doesn't go crazy

00:05:56,639 --> 00:06:01,680
uh what i've done is i've got like up to

00:05:59,440 --> 00:06:04,639
five participants and and hundred

00:06:01,680 --> 00:06:06,080
attendees so if people are coming and

00:06:04,639 --> 00:06:08,960
joining and looking at

00:06:06,080 --> 00:06:10,000
what it is they they actually can it's a

00:06:08,960 --> 00:06:13,360
collaborative

00:06:10,000 --> 00:06:16,240
whiteboard tool um so everybody else

00:06:13,360 --> 00:06:18,000
if it says attendee here um if it's not

00:06:16,240 --> 00:06:18,840
a participant then all you can do is

00:06:18,000 --> 00:06:22,400
just

00:06:18,840 --> 00:06:25,360
um read uh you know

00:06:22,400 --> 00:06:26,479
it's like a read-only thing um and uh

00:06:25,360 --> 00:06:29,440
what else i

00:06:26,479 --> 00:06:29,759
wanted to uh what else can i do here so

00:06:29,440 --> 00:06:32,639
the

00:06:29,759 --> 00:06:34,080
the best part about the the vectors uh

00:06:32,639 --> 00:06:36,960
as you can imagine

00:06:34,080 --> 00:06:37,759
is that you know no matter what it is on

00:06:36,960 --> 00:06:41,520
here

00:06:37,759 --> 00:06:44,880
um you get uh pixel accurate

00:06:41,520 --> 00:06:47,680
information um even when you resize

00:06:44,880 --> 00:06:48,400
into a really small screen so you know

00:06:47,680 --> 00:06:50,639
you when you're

00:06:48,400 --> 00:06:51,919
loading this on on a mobile platform or

00:06:50,639 --> 00:06:54,240
anything as such

00:06:51,919 --> 00:06:55,039
it just goes ahead and you know comes up

00:06:54,240 --> 00:06:56,720
so you can

00:06:55,039 --> 00:06:58,479
i think whoever is writing is also

00:06:56,720 --> 00:07:01,759
creating at the same time

00:06:58,479 --> 00:07:04,560
um and uh you know this this

00:07:01,759 --> 00:07:06,080
is basically what it works so using

00:07:04,560 --> 00:07:09,280
socket connection

00:07:06,080 --> 00:07:11,280
um just a simple angular script to

00:07:09,280 --> 00:07:12,560
go ahead and you know put together your

00:07:11,280 --> 00:07:15,599
svg uh

00:07:12,560 --> 00:07:15,840
element i'm able to go ahead and build

00:07:15,599 --> 00:07:20,479
an

00:07:15,840 --> 00:07:23,199
interactive whiteboard mechanism so

00:07:20,479 --> 00:07:24,160
that's uh um you know that's in a

00:07:23,199 --> 00:07:27,759
nutshell i'm

00:07:24,160 --> 00:07:31,280
happy to go through uh the the code here

00:07:27,759 --> 00:07:32,000
um you know as you can as you can see

00:07:31,280 --> 00:07:35,199
here

00:07:32,000 --> 00:07:35,919
i'm using the dimensions of whatever the

00:07:35,199 --> 00:07:38,880
element is

00:07:35,919 --> 00:07:40,080
that the white board the svg object is

00:07:38,880 --> 00:07:42,639
is inside

00:07:40,080 --> 00:07:44,560
uh you've got this view box so i'm

00:07:42,639 --> 00:07:45,919
matching the the dimension that's

00:07:44,560 --> 00:07:47,680
extremely important

00:07:45,919 --> 00:07:49,039
because when you're going in a narrow

00:07:47,680 --> 00:07:51,680
screen or a wider screen

00:07:49,039 --> 00:07:52,639
your elements automatically match your

00:07:51,680 --> 00:07:56,080
aspect ratio

00:07:52,639 --> 00:07:59,120
and uh go up and beyond um

00:07:56,080 --> 00:08:00,720
i'm checking for a touch event uh i hope

00:07:59,120 --> 00:08:03,120
i'm hoping at some point angular will

00:08:00,720 --> 00:08:05,599
have a better mechanism to detect

00:08:03,120 --> 00:08:07,440
a touch event i just have a little

00:08:05,599 --> 00:08:09,680
private function to detect if it's a

00:08:07,440 --> 00:08:13,199
touch event or a regular mouse event

00:08:09,680 --> 00:08:15,840
um universal event um

00:08:13,199 --> 00:08:17,840
is basically giving me um if it's a

00:08:15,840 --> 00:08:21,199
touch event it's gonna give me

00:08:17,840 --> 00:08:25,599
uh what i have uh what i'm able to find

00:08:21,199 --> 00:08:26,240
by simply uh what i'm able to find by by

00:08:25,599 --> 00:08:29,280
taking that

00:08:26,240 --> 00:08:30,479
offset because svg is at a level i need

00:08:29,280 --> 00:08:32,959
to identify how much

00:08:30,479 --> 00:08:34,399
distance it is from the top left or or

00:08:32,959 --> 00:08:37,519
top uh

00:08:34,399 --> 00:08:40,479
from top and and left and so i'm

00:08:37,519 --> 00:08:41,680
basically taking those dimensions out um

00:08:40,479 --> 00:08:44,800
other than that i'm

00:08:41,680 --> 00:08:45,600
doing some uh fine tuning for the events

00:08:44,800 --> 00:08:47,440
because

00:08:45,600 --> 00:08:49,200
as you guys probably know the mouse

00:08:47,440 --> 00:08:52,240
events will give you

00:08:49,200 --> 00:08:54,959
a precision of up to like eight to ten

00:08:52,240 --> 00:08:58,080
different decimal values so i'm just

00:08:54,959 --> 00:09:01,040
shrinking it down to just three digits

00:08:58,080 --> 00:09:02,640
at the point and here are my events so

00:09:01,040 --> 00:09:04,080
if i'm just going to start collapsing

00:09:02,640 --> 00:09:06,240
this logic here

00:09:04,080 --> 00:09:08,000
i've got a start event i've got an in

00:09:06,240 --> 00:09:09,519
progress event so when you start and

00:09:08,000 --> 00:09:12,720
then you start writing

00:09:09,519 --> 00:09:14,240
and then i've got a stop event um this

00:09:12,720 --> 00:09:14,880
is all the code i have as you can see

00:09:14,240 --> 00:09:17,920
it's like

00:09:14,880 --> 00:09:22,240
about 100 lines of code all within a

00:09:17,920 --> 00:09:23,839
single file and i've got myself a

00:09:22,240 --> 00:09:27,440
collaboration whiteboard so

00:09:23,839 --> 00:09:30,560
what you see is i've got this websocket

00:09:27,440 --> 00:09:31,200
event handler here as well so as i'm

00:09:30,560 --> 00:09:33,920
writing

00:09:31,200 --> 00:09:34,240
as i'm going through each of my events

00:09:33,920 --> 00:09:37,760
i'm

00:09:34,240 --> 00:09:40,959
also able to send the event across

00:09:37,760 --> 00:09:43,680
uh to the other side um

00:09:40,959 --> 00:09:45,200
and and that's what the websocket

00:09:43,680 --> 00:09:47,600
service actually does

00:09:45,200 --> 00:09:48,800
obviously we are on a limited time so

00:09:47,600 --> 00:09:51,120
i'm kind of just

00:09:48,800 --> 00:09:52,240
speeding up the the process i won't be

00:09:51,120 --> 00:09:54,800
able to go into

00:09:52,240 --> 00:09:55,839
a websocket connection and how that

00:09:54,800 --> 00:09:58,720
actually works

00:09:55,839 --> 00:10:00,000
but it's that's also super interesting

00:09:58,720 --> 00:10:01,519
and i think there is a great

00:10:00,000 --> 00:10:03,200
presentation tomorrow

00:10:01,519 --> 00:10:05,360
that you'll actually learn more about

00:10:03,200 --> 00:10:08,560
this um

00:10:05,360 --> 00:10:09,120
that's pretty much it what i wanted to

00:10:08,560 --> 00:10:11,200
share

00:10:09,120 --> 00:10:13,120
with everyone again i just encourage

00:10:11,200 --> 00:10:15,360
everyone to you know go ahead

00:10:13,120 --> 00:10:18,720
and build and more collaboration tools

00:10:15,360 --> 00:10:21,200
like that i i um certainly

00:10:18,720 --> 00:10:22,399
want to you know keep uh i certainly

00:10:21,200 --> 00:10:25,760
want to keep building more

00:10:22,399 --> 00:10:27,440
upon these things and uh yeah

00:10:25,760 --> 00:10:30,560
if i get to learn something from you

00:10:27,440 --> 00:10:33,839
guys it'll be great as well

00:10:30,560 --> 00:10:33,839
that's all

00:10:36,380 --> 00:10:40,929

YouTube URL: https://www.youtube.com/watch?v=1p9YsEKYL64


