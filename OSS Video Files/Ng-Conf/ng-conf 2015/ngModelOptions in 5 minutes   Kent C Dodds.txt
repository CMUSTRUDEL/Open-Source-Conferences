Title: ngModelOptions in 5 minutes   Kent C Dodds
Publication date: 2015-03-05
Playlist: ng-conf 2015
Description: 
	www.ng-conf.org

ng-conf is a two day, single track conference focused on delivering the highest quality training in the Angular JavaScript framework. 500 to 700 Developers from across the country will converge on beautiful Salt Lake City, UT to participate in training sessions by the Google Angular team, and other Angular experts. In addition to the invaluable training, ng-conf will deliver a premier conference experience for attendees, providing opportunities to network with other developers, relax at social events, and engage in some of the unique entertainment opportunities available in Utah.
Captions: 
	00:00:00,000 --> 00:00:00,170


00:00:00,170 --> 00:00:01,420
MALE SPEAKER: Good luck, Kent.

00:00:01,420 --> 00:00:02,461
KENT C. DODDS: Thank you.

00:00:02,461 --> 00:00:03,840
[APPLAUSE]

00:00:03,840 --> 00:00:06,114


00:00:06,114 --> 00:00:06,780
Hello, everyone.

00:00:06,780 --> 00:00:07,840
My name is Kent C. Dodds.

00:00:07,840 --> 00:00:09,980
I work for a company called Alianza.

00:00:09,980 --> 00:00:11,760
It totally rocks.

00:00:11,760 --> 00:00:13,860
And this is some more information about me.

00:00:13,860 --> 00:00:15,980
This is a five-minute talk, so you're

00:00:15,980 --> 00:00:18,800
going to get a fire hose on NG model options.

00:00:18,800 --> 00:00:20,430
It's going to be great.

00:00:20,430 --> 00:00:22,940
So just for those who don't know,

00:00:22,940 --> 00:00:24,580
NG model options is a directive that

00:00:24,580 --> 00:00:26,910
was introduced in Angular 1.3.

00:00:26,910 --> 00:00:30,190
You stick it on the same element as you put your NG model on,

00:00:30,190 --> 00:00:32,500
and then you provide it an object,

00:00:32,500 --> 00:00:37,070
which we're specifying here on our view model, our controller.

00:00:37,070 --> 00:00:39,710
And then there are some configurations

00:00:39,710 --> 00:00:40,720
that you can provide.

00:00:40,720 --> 00:00:43,490
And basically, NG model options provides you

00:00:43,490 --> 00:00:45,950
with a little bit more control on how

00:00:45,950 --> 00:00:47,570
Angular updates your model.

00:00:47,570 --> 00:00:50,040
So without any further ado, let's go ahead

00:00:50,040 --> 00:00:51,745
and look at how this works.

00:00:51,745 --> 00:00:53,370
So we just have a very simple app here.

00:00:53,370 --> 00:00:55,245
And I'm just going to really quickly show you

00:00:55,245 --> 00:00:57,540
all the features that are available

00:00:57,540 --> 00:01:00,270
for your applications.

00:01:00,270 --> 00:01:02,310
So first Update On and Debounce.

00:01:02,310 --> 00:01:04,690
These are two really, really awesome features.

00:01:04,690 --> 00:01:08,160
So we say Update On, and then we specify a string.

00:01:08,160 --> 00:01:11,310
So instead of the default behavior,

00:01:11,310 --> 00:01:12,322
we're going to say blur.

00:01:12,322 --> 00:01:13,530
We want it to update on blur.

00:01:13,530 --> 00:01:16,944
So if I say hello NG conf, and then I click away,

00:01:16,944 --> 00:01:18,110
then the model gets updated.

00:01:18,110 --> 00:01:20,480
You see the full name of the user is updated there.

00:01:20,480 --> 00:01:23,310
And if I take that away, then I click away,

00:01:23,310 --> 00:01:24,855
and it gets updated then.

00:01:24,855 --> 00:01:25,730
That's less exciting.

00:01:25,730 --> 00:01:28,140


00:01:28,140 --> 00:01:29,640
Something that's kind of interesting

00:01:29,640 --> 00:01:31,098
about this-- something you probably

00:01:31,098 --> 00:01:35,372
would never want to do-- but you say any event in here that

00:01:35,372 --> 00:01:36,080
would make sense.

00:01:36,080 --> 00:01:39,830
So you say mouse out-- or better, over--

00:01:39,830 --> 00:01:42,540
and we say hello NG conf.

00:01:42,540 --> 00:01:45,800
And I haven't blurred yet, but if I mouse over, it updates.

00:01:45,800 --> 00:01:47,645
So any event in there will work.

00:01:47,645 --> 00:01:48,270
Don't use that.

00:01:48,270 --> 00:01:48,849
That's weird.

00:01:48,849 --> 00:01:49,890
Your users will be like--

00:01:49,890 --> 00:01:51,240
[LAUGHTER]

00:01:51,240 --> 00:01:54,490
But where this gets really cool is you can say default.

00:01:54,490 --> 00:01:56,170
That is not an event.

00:01:56,170 --> 00:01:59,140
That is just the default.

00:01:59,140 --> 00:02:03,630
And here in combination with debounce, it gets really cool.

00:02:03,630 --> 00:02:05,160
So you specify a debounce object.

00:02:05,160 --> 00:02:06,743
This debounce can actually technically

00:02:06,743 --> 00:02:10,229
be an integer that will just debounce the default behavior.

00:02:10,229 --> 00:02:13,060
But we want it to debounce differently for default

00:02:13,060 --> 00:02:13,570
and blur.

00:02:13,570 --> 00:02:15,570
So we'll say default.

00:02:15,570 --> 00:02:19,060
We want it to debounce after 1 second.

00:02:19,060 --> 00:02:22,880
And blur will have it debounce zero milliseconds.

00:02:22,880 --> 00:02:26,370
And so then if I say hello NG conf,

00:02:26,370 --> 00:02:28,590
it waits for a whole second, and then it updates.

00:02:28,590 --> 00:02:31,430
If I take that away and then blur, it updates immediately.

00:02:31,430 --> 00:02:33,810
And for those watching at home, if you didn't catch that,

00:02:33,810 --> 00:02:36,326
that's cool.

00:02:36,326 --> 00:02:38,100
[LAUGHTER]

00:02:38,100 --> 00:02:41,260
So here, now we're going to go into our getter setter.

00:02:41,260 --> 00:02:44,080
What we're doing here is I'm taking the user, assigning

00:02:44,080 --> 00:02:46,240
the full name property to a function that

00:02:46,240 --> 00:02:47,550
is a getter setter function.

00:02:47,550 --> 00:02:50,530
And so what you see in here right now is, what on earth?

00:02:50,530 --> 00:02:51,686
It's the function.

00:02:51,686 --> 00:02:53,560
Your users are like, what does function mean?

00:02:53,560 --> 00:02:57,150
And you're like, oh, sorry, let me fix that for you.

00:02:57,150 --> 00:03:00,967
We say getter setter as true, and now it

00:03:00,967 --> 00:03:02,050
makes sense to your users.

00:03:02,050 --> 00:03:03,675
And you're like, oh, OK, text required.

00:03:03,675 --> 00:03:04,430
Great.

00:03:04,430 --> 00:03:07,640
And so now we can say hello world.

00:03:07,640 --> 00:03:09,542
And that's not all that interesting.

00:03:09,542 --> 00:03:11,000
But what really is happening, if we

00:03:11,000 --> 00:03:15,990
look at the markup-- we go down here-- what we're doing is,

00:03:15,990 --> 00:03:17,800
in this span, we're binding this.

00:03:17,800 --> 00:03:19,550
We're actually invoking our getter setter.

00:03:19,550 --> 00:03:24,941
So it's actually being sort of bounded to a function.

00:03:24,941 --> 00:03:26,815
But what really is happening is we're storing

00:03:26,815 --> 00:03:29,200
the internal value ourselves.

00:03:29,200 --> 00:03:31,390
And so you have a little bit of power there.

00:03:31,390 --> 00:03:33,020
One thing that you need to be aware of

00:03:33,020 --> 00:03:37,200
is, if I say hello world, there's validation on this.

00:03:37,200 --> 00:03:40,250
And so if I backspace, I am still backspacing,

00:03:40,250 --> 00:03:41,850
but nothing is happening.

00:03:41,850 --> 00:03:43,730
And the reason for that is, if I were

00:03:43,730 --> 00:03:46,010
to backspace one more, that sets the field to invalid,

00:03:46,010 --> 00:03:48,910
because it has min length of five.

00:03:48,910 --> 00:03:51,490
And so if I deleted that, set to tune valid,

00:03:51,490 --> 00:03:52,780
it is now undefined.

00:03:52,780 --> 00:03:54,540
And so when my getter setter is called,

00:03:54,540 --> 00:03:56,960
it's called with undefined, and nothing

00:03:56,960 --> 00:03:58,410
happens to my internal state.

00:03:58,410 --> 00:04:04,140
And so to overcome this, you say, allow invalid is true.

00:04:04,140 --> 00:04:06,385
And then this all works as you would expect.

00:04:06,385 --> 00:04:09,460


00:04:09,460 --> 00:04:12,850
It's now invalid, and that's OK.

00:04:12,850 --> 00:04:17,459
The model will still get set to whatever you specify,

00:04:17,459 --> 00:04:18,880
regardless of validation.

00:04:18,880 --> 00:04:20,380
This is not default behavior, so you

00:04:20,380 --> 00:04:24,540
need to be careful with this, just like everything in life.

00:04:24,540 --> 00:04:27,730
OK, one last thing.

00:04:27,730 --> 00:04:29,540
Time zone.

00:04:29,540 --> 00:04:34,770
So the only option available with time zone is UTC.

00:04:34,770 --> 00:04:38,090
And here, if I specify-- I change the input type to time.

00:04:38,090 --> 00:04:38,590
Sorry.

00:04:38,590 --> 00:04:40,410
I like to throw you out there.

00:04:40,410 --> 00:04:46,690
But if I say 1 AM, and you look at the actual model value,

00:04:46,690 --> 00:04:49,630
it's saying Wednesday, December 31st at 18:00.

00:04:49,630 --> 00:04:51,310
That is not what you see here.

00:04:51,310 --> 00:04:54,070
And so this provides you the ability

00:04:54,070 --> 00:04:58,140
to have the view value be specified in one time zone

00:04:58,140 --> 00:05:02,100
but the actual model value be specified in the browser's

00:05:02,100 --> 00:05:03,390
local time zone.

00:05:03,390 --> 00:05:07,020
So that is NG model options in five minutes.

00:05:07,020 --> 00:05:10,620
If you are interested in getting a deeper dive in each

00:05:10,620 --> 00:05:13,800
of these options, I have lessons on each one

00:05:13,800 --> 00:05:15,490
of these concepts on Egghead.

00:05:15,490 --> 00:05:18,910
So feel free to explore and learn.

00:05:18,910 --> 00:05:20,450
If you're very serious about forms,

00:05:20,450 --> 00:05:23,440
then I highly recommend using Angular Formly.

00:05:23,440 --> 00:05:27,430
It is the bomb.

00:05:27,430 --> 00:05:29,810
And please ask me questions.

00:05:29,810 --> 00:05:32,970
This takes you to the Reddit questions for NG model

00:05:32,970 --> 00:05:35,350
options and Angular Formly.

00:05:35,350 --> 00:05:37,400
So ask me questions on there.

00:05:37,400 --> 00:05:43,110
Hit me up on here, or on Github.

00:05:43,110 --> 00:05:44,770
And thank you very much.

00:05:44,770 --> 00:05:47,520
[APPLAUSE]


YouTube URL: https://www.youtube.com/watch?v=k3t3ov6xHDw


