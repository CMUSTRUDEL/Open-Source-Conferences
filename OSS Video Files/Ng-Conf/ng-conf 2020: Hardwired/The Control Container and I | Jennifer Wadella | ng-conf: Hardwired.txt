Title: The Control Container and I | Jennifer Wadella | ng-conf: Hardwired
Publication date: 2020-09-15
Playlist: ng-conf 2020: Hardwired
Description: 
	Get your free ticket to EnterpriseNG conference Keynote: https://ng-conf.org

Once I use the ControlContainer, my form life will change. Cause once you use the ControlContainer nested forms aren’t strange. No Rob Wormald is unproud of you, no Ward Bell acts ashamed. And all FormControls have to obey you when by the ControlContainer you’re acclaimed. And or this gift or this curse I have inside, maybe at last I’ll know why – when we are hand in hand, the ControlContainer and I.

Watch all the ng-conf: Hardwired presentations/videos at https://videos.ng-conf.org

ng-conf is a three-day Angular conference focused on delivering the highest quality training in the Angular JavaScript framework. 1500+ developers from across the globe converge on Salt Lake City, UT every year to attend talks and workshops by the Angular team and community experts.

ng-conf: Hardwired is brought to you by:
- https://thinkster.io/ The best Angular and JavaScript tutorials on the web
- https://herodevs.com/ Engineering and consulting by web development experts
- https://xlts.dev/  Extended support for AngularJS

Follow us on twitter https://twitter.com/ngconf
Official Website: https://www.ng-conf.org/
Captions: 
	00:00:00,180 --> 00:00:02,970
[Music]

00:00:02,400 --> 00:00:16,630
[Applause]

00:00:02,970 --> 00:00:16,630
[Music]

00:00:17,199 --> 00:00:19,520
all right

00:00:18,000 --> 00:00:21,520
i'm excited to be here it's just super

00:00:19,520 --> 00:00:22,800
fun to watch everybody in the chat um i

00:00:21,520 --> 00:00:25,039
was really worried about

00:00:22,800 --> 00:00:26,320
conferences going online but oh my gosh

00:00:25,039 --> 00:00:29,519
y'all it's

00:00:26,320 --> 00:00:32,960
been killing it this is such a great

00:00:29,519 --> 00:00:34,719
um community makes me really happy so we

00:00:32,960 --> 00:00:36,880
uh today are going to be talking about

00:00:34,719 --> 00:00:37,840
the control container in angular

00:00:36,880 --> 00:00:40,000
and we're going to talk a little bit

00:00:37,840 --> 00:00:41,680
about tom nook too uh my name is

00:00:40,000 --> 00:00:43,040
jennifer wadella if you're interested in

00:00:41,680 --> 00:00:43,920
following me on twitter you can follow

00:00:43,040 --> 00:00:46,719
me live online

00:00:43,920 --> 00:00:48,160
study i lead angular consulting at a

00:00:46,719 --> 00:00:49,360
company called betovi and i would

00:00:48,160 --> 00:00:53,199
consider myself a

00:00:49,360 --> 00:00:53,199
pretty expert tarantula catcher

00:00:54,960 --> 00:01:00,719
i'm struggling y'all um quarantine

00:00:58,079 --> 00:01:01,520
has been hard uh it's it's been really

00:01:00,719 --> 00:01:03,359
rough on me

00:01:01,520 --> 00:01:05,439
and this picture is so true like my

00:01:03,359 --> 00:01:07,119
sanity is hanging on by a shred

00:01:05,439 --> 00:01:09,119
and that shred right now is animal

00:01:07,119 --> 00:01:10,720
crossing so i've been playing

00:01:09,119 --> 00:01:12,799
a lot of that when i'm not sitting at my

00:01:10,720 --> 00:01:14,720
computer writing angular code

00:01:12,799 --> 00:01:17,439
um and like i'm really good at animal

00:01:14,720 --> 00:01:19,600
crossing like i am so good

00:01:17,439 --> 00:01:21,680
that tom nook like our raccoon

00:01:19,600 --> 00:01:22,320
capitalist overlord keeps asking me for

00:01:21,680 --> 00:01:25,040
favors

00:01:22,320 --> 00:01:26,799
like he needs me to help him do stuff

00:01:25,040 --> 00:01:28,560
around his island that's how good i am

00:01:26,799 --> 00:01:30,640
at animal crossing like i don't want to

00:01:28,560 --> 00:01:32,880
brag but i'm pretty awesome

00:01:30,640 --> 00:01:34,240
uh and so most recently thomas come to

00:01:32,880 --> 00:01:36,000
me and he's like hey jennifer

00:01:34,240 --> 00:01:38,000
like we have all these new island

00:01:36,000 --> 00:01:39,200
residents moving in like thank you so

00:01:38,000 --> 00:01:40,880
much for bringing all these people to

00:01:39,200 --> 00:01:42,640
our island but you know

00:01:40,880 --> 00:01:45,040
my point of sale system is is really

00:01:42,640 --> 00:01:47,360
flat slacking and i need a better way

00:01:45,040 --> 00:01:49,119
for um people to apply for home loans to

00:01:47,360 --> 00:01:50,799
to get their first house

00:01:49,119 --> 00:01:53,280
um to start to get upgrades for their

00:01:50,799 --> 00:01:54,240
houses so like i i know you write code

00:01:53,280 --> 00:01:56,079
like can you

00:01:54,240 --> 00:01:57,600
can you build me um some sort of like

00:01:56,079 --> 00:01:59,360
pos

00:01:57,600 --> 00:02:01,200
and i just have he has a couple

00:01:59,360 --> 00:02:01,920
requirements for for this point of sale

00:02:01,200 --> 00:02:03,759
system

00:02:01,920 --> 00:02:05,520
uh he wants it to be really easy to use

00:02:03,759 --> 00:02:06,240
both for himself and for people moving

00:02:05,520 --> 00:02:08,319
to the island

00:02:06,240 --> 00:02:09,440
and so he's like all right go ahead and

00:02:08,319 --> 00:02:11,680
build this one

00:02:09,440 --> 00:02:13,440
um if you would like to hang out and

00:02:11,680 --> 00:02:15,680
play around with this app along

00:02:13,440 --> 00:02:17,520
while i'm talking here is the link if

00:02:15,680 --> 00:02:18,879
you are an animal crossing fan and are

00:02:17,520 --> 00:02:20,640
looking for more friends i would

00:02:18,879 --> 00:02:22,319
encourage you to enter your switch code

00:02:20,640 --> 00:02:23,760
in this application and

00:02:22,319 --> 00:02:26,640
we can all play with each other and have

00:02:23,760 --> 00:02:28,800
a blast throughout this quarantine

00:02:26,640 --> 00:02:30,319
but uh back to our application tom's got

00:02:28,800 --> 00:02:30,720
a couple requirements for me first of

00:02:30,319 --> 00:02:32,400
all

00:02:30,720 --> 00:02:35,040
he wants this app to show outstanding

00:02:32,400 --> 00:02:37,599
loans so we can quickly go in and see

00:02:35,040 --> 00:02:38,959
how much money we all owe him uh to make

00:02:37,599 --> 00:02:40,720
our house

00:02:38,959 --> 00:02:42,800
he also wants a really easy way to

00:02:40,720 --> 00:02:44,400
create new loans and along with it being

00:02:42,800 --> 00:02:45,920
easy it needs to have a really simple

00:02:44,400 --> 00:02:48,239
interface

00:02:45,920 --> 00:02:49,440
so i i've been around the block with

00:02:48,239 --> 00:02:51,440
angular forms this

00:02:49,440 --> 00:02:53,280
isn't a huge deal for me so i go ahead

00:02:51,440 --> 00:02:54,640
and start working on this application

00:02:53,280 --> 00:02:55,760
i'm like all right i'm probably going to

00:02:54,640 --> 00:02:56,640
have a loan structure that looks

00:02:55,760 --> 00:02:58,560
something like this

00:02:56,640 --> 00:03:00,400
we definitely want to know our loan

00:02:58,560 --> 00:03:01,920
applicants names maybe we want to be

00:03:00,400 --> 00:03:04,080
able to get their friend code we want to

00:03:01,920 --> 00:03:05,920
know what island they're from uh

00:03:04,080 --> 00:03:07,599
what loan type they're working on what

00:03:05,920 --> 00:03:09,360
the cost of that loan is and allow them

00:03:07,599 --> 00:03:10,640
to make an initial deposit maybe some of

00:03:09,360 --> 00:03:12,319
the people on the island have been

00:03:10,640 --> 00:03:13,360
saving up for a while and they want to

00:03:12,319 --> 00:03:16,080
make a

00:03:13,360 --> 00:03:17,519
deposit uh and also select their their

00:03:16,080 --> 00:03:19,040
roof color and then

00:03:17,519 --> 00:03:21,200
we'll show them whatever their their

00:03:19,040 --> 00:03:24,560
balance

00:03:21,200 --> 00:03:26,959
deposits so

00:03:24,560 --> 00:03:28,159
simple enough uh i can go in and i can

00:03:26,959 --> 00:03:29,840
create a form for this

00:03:28,159 --> 00:03:31,440
uh where i'm getting all those values

00:03:29,840 --> 00:03:33,599
everything is going to be required

00:03:31,440 --> 00:03:34,480
except for the friend code in case

00:03:33,599 --> 00:03:37,040
social they don't

00:03:34,480 --> 00:03:38,560
share them but everything else is going

00:03:37,040 --> 00:03:40,000
to be required for them to go ahead and

00:03:38,560 --> 00:03:42,720
apply for this home loan

00:03:40,000 --> 00:03:42,720
for it to go into

00:03:43,599 --> 00:03:46,640
uh so i go ahead and i create a pretty

00:03:45,440 --> 00:03:48,879
easy form here

00:03:46,640 --> 00:03:49,920
where i am finding my my loan

00:03:48,879 --> 00:03:51,200
application uh

00:03:49,920 --> 00:03:53,519
form group that i've created via the

00:03:51,200 --> 00:03:55,120
form group directive and i'm using uh

00:03:53,519 --> 00:04:00,239
the form control name directive

00:03:55,120 --> 00:04:03,280
to tie all of my elements back to

00:04:00,239 --> 00:04:05,519
uh so pretty simple i'm pretty proud of

00:04:03,280 --> 00:04:07,200
myself i've got some like sliders going

00:04:05,519 --> 00:04:09,680
on so we can toggle or

00:04:07,200 --> 00:04:12,560
slide what our deposit looks like all

00:04:09,680 --> 00:04:12,560
sorts of great stuff

00:04:12,879 --> 00:04:16,639
so it's gonna look something like this

00:04:14,640 --> 00:04:18,400
um i've got my very fancy

00:04:16,639 --> 00:04:20,239
application isabelle is there to help me

00:04:18,400 --> 00:04:23,360
through every step of the way

00:04:20,239 --> 00:04:25,040
uh and figuring out what so

00:04:23,360 --> 00:04:27,199
like i'm feeling pretty good about this

00:04:25,040 --> 00:04:28,880
this is a really great experience for

00:04:27,199 --> 00:04:30,160
our potential island users i think it's

00:04:28,880 --> 00:04:30,880
gonna be a really great experience for

00:04:30,160 --> 00:04:32,560
tom

00:04:30,880 --> 00:04:34,720
um so i'm really excited to go and show

00:04:32,560 --> 00:04:34,720
this

00:04:35,680 --> 00:04:39,199
but i do and he looks at it and he's

00:04:37,520 --> 00:04:41,120
like well

00:04:39,199 --> 00:04:43,280
i i guess it's okay but you know what i

00:04:41,120 --> 00:04:45,199
feel like it would really be a lot more

00:04:43,280 --> 00:04:46,880
simple for users if we had like kind of

00:04:45,199 --> 00:04:47,360
a multi-step where they only had to fill

00:04:46,880 --> 00:04:49,120
out

00:04:47,360 --> 00:04:50,160
a couple form fields each step of the

00:04:49,120 --> 00:04:50,880
application so they don't get

00:04:50,160 --> 00:04:52,880
overwhelmed

00:04:50,880 --> 00:04:54,400
you know that this is a very small

00:04:52,880 --> 00:04:55,360
island some people might be a little

00:04:54,400 --> 00:04:58,960
more

00:04:55,360 --> 00:05:00,160
minded uh we need to make this form is

00:04:58,960 --> 00:05:02,880
really easy for them

00:05:00,160 --> 00:05:04,400
so i'm like okay tom i can i can make

00:05:02,880 --> 00:05:07,520
that happen

00:05:04,400 --> 00:05:09,680
so i go back to my code and uh i

00:05:07,520 --> 00:05:11,199
think okay well the first page let's say

00:05:09,680 --> 00:05:11,919
we want to show just like personal

00:05:11,199 --> 00:05:13,600
information

00:05:11,919 --> 00:05:15,440
we'll show our first name our last name

00:05:13,600 --> 00:05:17,360
and code and our address

00:05:15,440 --> 00:05:19,199
uh the second page will allow the user

00:05:17,360 --> 00:05:19,919
to select the loan type and the roof

00:05:19,199 --> 00:05:21,440
color

00:05:19,919 --> 00:05:23,280
and then the third page will allow the

00:05:21,440 --> 00:05:24,080
user to make some sort of deposit and

00:05:23,280 --> 00:05:25,680
then display

00:05:24,080 --> 00:05:27,680
uh the remaining amount they will have

00:05:25,680 --> 00:05:29,600
due based on deposit

00:05:27,680 --> 00:05:30,960
um and you know maybe uh we're going to

00:05:29,600 --> 00:05:32,240
be repeating the address fields

00:05:30,960 --> 00:05:33,199
throughout the application in different

00:05:32,240 --> 00:05:35,360
areas if

00:05:33,199 --> 00:05:37,120
you allow user to update their loan or

00:05:35,360 --> 00:05:38,000
maybe pay off their house and they

00:05:37,120 --> 00:05:40,720
decide they want to move

00:05:38,000 --> 00:05:42,880
it their address for that um it would

00:05:40,720 --> 00:05:46,160
probably be a good idea to go ahead and

00:05:42,880 --> 00:05:46,160
pull out those address fields

00:05:47,600 --> 00:05:52,000
so got a pretty good idea of what i'm

00:05:49,600 --> 00:05:53,680
going to do so i go back to my code base

00:05:52,000 --> 00:05:55,199
uh and the first thing i do is i take my

00:05:53,680 --> 00:05:55,600
form and i'm like all right well i want

00:05:55,199 --> 00:05:58,160
to have

00:05:55,600 --> 00:05:59,759
multi-steps across different routes so

00:05:58,160 --> 00:06:01,600
i'm just going to slap the router outlet

00:05:59,759 --> 00:06:02,000
inside of my loan application and it'll

00:06:01,600 --> 00:06:04,319
be

00:06:02,000 --> 00:06:05,120
really easy for me to um just kind of

00:06:04,319 --> 00:06:07,199
put all my

00:06:05,120 --> 00:06:10,240
different form pieces uh different

00:06:07,199 --> 00:06:12,400
components rendered by the route and

00:06:10,240 --> 00:06:14,639
um i think that'll probe uh provide a

00:06:12,400 --> 00:06:16,800
really solid use

00:06:14,639 --> 00:06:17,840
i love this he's gonna maybe maybe

00:06:16,800 --> 00:06:22,319
discount

00:06:17,840 --> 00:06:26,400
i have to give him probably not

00:06:22,319 --> 00:06:29,120
a girl um so i go ahead and i want to

00:06:26,400 --> 00:06:31,440
take out my step one

00:06:29,120 --> 00:06:32,720
um so i'm just going to pull my form

00:06:31,440 --> 00:06:35,039
controls for my first name

00:06:32,720 --> 00:06:38,319
my last name for the switch code i've

00:06:35,039 --> 00:06:38,319
got some addresses that i've

00:06:38,720 --> 00:06:42,160
so i'm going to put that that's going to

00:06:40,080 --> 00:06:45,360
be inside of my

00:06:42,160 --> 00:06:47,600
first component displaying it my

00:06:45,360 --> 00:06:49,520
uh so i go ahead i compile this code

00:06:47,600 --> 00:06:53,440
ready to go

00:06:49,520 --> 00:06:56,960
and yikes i have got an error

00:06:53,440 --> 00:06:58,639
what does form control name must be used

00:06:56,960 --> 00:07:02,800
with

00:06:58,639 --> 00:07:04,720
do you want to add a form

00:07:02,800 --> 00:07:06,240
well i do i do have that form group

00:07:04,720 --> 00:07:09,840
directive right like i did that

00:07:06,240 --> 00:07:12,720
um and i have that in the router um so

00:07:09,840 --> 00:07:14,160
why what's happening so i've got my form

00:07:12,720 --> 00:07:16,880
control names that um

00:07:14,160 --> 00:07:19,199
are trying to look up by string what

00:07:16,880 --> 00:07:23,759
that control is for my form

00:07:19,199 --> 00:07:26,479
do i not have maybe i don't have access

00:07:23,759 --> 00:07:26,479
that must be

00:07:27,360 --> 00:07:33,120
yeah okay so all right here's my problem

00:07:30,479 --> 00:07:35,280
um my form control name that um i'm

00:07:33,120 --> 00:07:39,919
looking up does not have a form group

00:07:35,280 --> 00:07:39,919
confined so how do we figure out

00:07:42,840 --> 00:07:45,440
that

00:07:44,080 --> 00:07:47,919
because i well i'm definitely going to

00:07:45,440 --> 00:07:50,720
need a way to

00:07:47,919 --> 00:07:51,840
all right so let's figure this out let's

00:07:50,720 --> 00:07:53,199
figure this out

00:07:51,840 --> 00:07:54,720
uh there's a really great class

00:07:53,199 --> 00:07:55,599
available in angular called the control

00:07:54,720 --> 00:07:57,120
container

00:07:55,599 --> 00:07:58,639
um and this is a base class for

00:07:57,120 --> 00:08:00,160
directives that contain multiple

00:07:58,639 --> 00:08:04,960
registered

00:08:00,160 --> 00:08:04,960
ng and it's only used by the the form

00:08:05,039 --> 00:08:08,000
all right so let's let's break that down

00:08:06,400 --> 00:08:09,440
a little bit what is that actually a

00:08:08,000 --> 00:08:12,160
base cost for directors that contain

00:08:09,440 --> 00:08:13,919
multiple registered and

00:08:12,160 --> 00:08:15,360
okay so that means this is going to be

00:08:13,919 --> 00:08:18,000
some sort of directive

00:08:15,360 --> 00:08:18,479
that has uh multiple controls inside of

00:08:18,000 --> 00:08:21,280
it so

00:08:18,479 --> 00:08:22,639
like our form group created our form

00:08:21,280 --> 00:08:23,599
group and then inside of there we had a

00:08:22,639 --> 00:08:25,199
form control

00:08:23,599 --> 00:08:28,000
for each piece of data we need to

00:08:25,199 --> 00:08:29,440
collect from our user to their loan app

00:08:28,000 --> 00:08:31,759
that's what's going on there is it's

00:08:29,440 --> 00:08:33,919
going to walk up um

00:08:31,759 --> 00:08:35,760
the tree and look to find a directive

00:08:33,919 --> 00:08:36,719
that has those those multiple registered

00:08:35,760 --> 00:08:38,479
instances

00:08:36,719 --> 00:08:41,039
so that's our way that we can go ahead

00:08:38,479 --> 00:08:43,839
and access our form group directive from

00:08:41,039 --> 00:08:43,839
wherever we are

00:08:44,720 --> 00:08:50,080
all right so um we can

00:08:48,560 --> 00:08:52,080
handle this situation in a couple

00:08:50,080 --> 00:08:53,760
different ways we need to basically make

00:08:52,080 --> 00:08:55,440
our control container providable

00:08:53,760 --> 00:08:58,720
available to those child components that

00:08:55,440 --> 00:09:00,959
we have nested inside the route

00:08:58,720 --> 00:09:02,080
so if we look at option one we can

00:09:00,959 --> 00:09:04,160
inject it in

00:09:02,080 --> 00:09:06,399
in the view provider's array inside of

00:09:04,160 --> 00:09:08,240
our child

00:09:06,399 --> 00:09:09,760
so in our view providers we're going to

00:09:08,240 --> 00:09:11,040
provide control container

00:09:09,760 --> 00:09:12,800
and we're going to say that we want to

00:09:11,040 --> 00:09:13,440
use the existing form group directive

00:09:12,800 --> 00:09:15,920
and so

00:09:13,440 --> 00:09:17,760
the view provider is going to make um

00:09:15,920 --> 00:09:19,600
the the control container

00:09:17,760 --> 00:09:22,640
available just to the component that

00:09:19,600 --> 00:09:24,080
we're using it in so it's going to walk

00:09:22,640 --> 00:09:26,160
up the tree and then it's going to look

00:09:24,080 --> 00:09:27,279
for find our formula directive and

00:09:26,160 --> 00:09:29,279
know that we're going to want to use

00:09:27,279 --> 00:09:29,680
that and allow us to access that in our

00:09:29,279 --> 00:09:34,720
next

00:09:29,680 --> 00:09:36,399
component um so if i go ahead and i

00:09:34,720 --> 00:09:38,640
provide it to my view provider i don't

00:09:36,399 --> 00:09:41,600
have to do anything to change um

00:09:38,640 --> 00:09:42,720
my html that i've got my my form control

00:09:41,600 --> 00:09:44,720
names in

00:09:42,720 --> 00:09:46,240
uh it's just going to be able to find it

00:09:44,720 --> 00:09:47,760
we have no errors like

00:09:46,240 --> 00:09:49,279
we're in business this is a great

00:09:47,760 --> 00:09:51,920
solution um

00:09:49,279 --> 00:09:53,600
we don't have to worry about uh any any

00:09:51,920 --> 00:09:55,440
more errors about not being able to find

00:09:53,600 --> 00:09:58,560
our form

00:09:55,440 --> 00:10:00,080
okay uh so that might be kind of tedious

00:09:58,560 --> 00:10:01,440
though because in this situation we

00:10:00,080 --> 00:10:02,560
would have to go in every child

00:10:01,440 --> 00:10:05,200
component

00:10:02,560 --> 00:10:06,800
and in our view providers um inject that

00:10:05,200 --> 00:10:09,920
control container with uh

00:10:06,800 --> 00:10:12,320
and use existing of our form group um so

00:10:09,920 --> 00:10:14,240
maybe a more pragmatic way would be to

00:10:12,320 --> 00:10:16,720
inject it in the provider of our parent

00:10:14,240 --> 00:10:18,560
component um and so what this is gonna

00:10:16,720 --> 00:10:21,040
do if we uh

00:10:18,560 --> 00:10:21,839
inject this in our parent providers is

00:10:21,040 --> 00:10:24,240
it's going to make

00:10:21,839 --> 00:10:26,160
the control container available to all

00:10:24,240 --> 00:10:28,480
of our child components so

00:10:26,160 --> 00:10:30,000
the step one component that i'll have it

00:10:28,480 --> 00:10:31,920
access to if i want to put it inside a

00:10:30,000 --> 00:10:33,600
nested address component

00:10:31,920 --> 00:10:34,959
i will have access to that parent form

00:10:33,600 --> 00:10:36,640
group directive so that will make it

00:10:34,959 --> 00:10:39,120
available to everybody

00:10:36,640 --> 00:10:39,760
um so this is a really great solution if

00:10:39,120 --> 00:10:41,600
you

00:10:39,760 --> 00:10:45,120
all you need to do is handle your

00:10:41,600 --> 00:10:45,120
binding via form control name

00:10:45,680 --> 00:10:49,519
however um there are a lot of situations

00:10:48,079 --> 00:10:51,519
that we might actually need to

00:10:49,519 --> 00:10:54,240
access our form controls

00:10:51,519 --> 00:10:54,240
programmatically

00:10:54,320 --> 00:10:57,760
so let's say we have a setup like this

00:10:56,959 --> 00:10:59,440
and i

00:10:57,760 --> 00:11:00,959
want to make sure that the user can't

00:10:59,440 --> 00:11:04,399
move to the next step until

00:11:00,959 --> 00:11:07,040
i have the validity of a certain form

00:11:04,399 --> 00:11:09,040
so maybe i want to know that my first

00:11:07,040 --> 00:11:10,800
name form control is valid before i

00:11:09,040 --> 00:11:14,720
enable my next step

00:11:10,800 --> 00:11:17,760
um how do we go about getting a hold

00:11:14,720 --> 00:11:17,760
of that form control

00:11:18,959 --> 00:11:23,120
uh so option number three is uh to

00:11:21,200 --> 00:11:23,839
inject via the constructor of our child

00:11:23,120 --> 00:11:25,360
components

00:11:23,839 --> 00:11:27,040
and so again this might be a little bit

00:11:25,360 --> 00:11:28,240
more repetitive

00:11:27,040 --> 00:11:29,760
because we're having to do it on every

00:11:28,240 --> 00:11:31,680
cut child instance that we want to have

00:11:29,760 --> 00:11:33,360
programmatic access to our our form

00:11:31,680 --> 00:11:36,640
controls or our form control

00:11:33,360 --> 00:11:37,200
group in so this will look something

00:11:36,640 --> 00:11:40,079
like this

00:11:37,200 --> 00:11:42,720
where we're going to go ahead and inject

00:11:40,079 --> 00:11:45,200
this in our control container

00:11:42,720 --> 00:11:46,959
or excuse me um uh inject this in our

00:11:45,200 --> 00:11:47,279
constructor and then we'll have access

00:11:46,959 --> 00:11:50,720
to

00:11:47,279 --> 00:11:51,680
our public control container um so this

00:11:50,720 --> 00:11:53,839
will allow us to do

00:11:51,680 --> 00:11:56,240
uh our our normal uh reactive forms

00:11:53,839 --> 00:11:58,160
methodology where we can

00:11:56,240 --> 00:11:59,360
get our control so when the control

00:11:58,160 --> 00:12:02,320
container control is going to

00:11:59,360 --> 00:12:05,120
uh refer to that form group directive

00:12:02,320 --> 00:12:05,120
that i have set

00:12:05,360 --> 00:12:08,480
um and so that is going to allow us to

00:12:07,519 --> 00:12:10,880
call get on

00:12:08,480 --> 00:12:11,760
whatever form control by that string

00:12:10,880 --> 00:12:13,760
name that we want

00:12:11,760 --> 00:12:14,959
and get any properties on that so in

00:12:13,760 --> 00:12:16,079
this case i might want to check the

00:12:14,959 --> 00:12:18,320
valid property

00:12:16,079 --> 00:12:19,760
um we can have that access to get

00:12:18,320 --> 00:12:21,120
everything that we need to do

00:12:19,760 --> 00:12:23,760
the important thing to remember in this

00:12:21,120 --> 00:12:25,839
case if you are no longer using the view

00:12:23,760 --> 00:12:28,560
providers or providers is we do need to

00:12:25,839 --> 00:12:28,880
um bind that form group um provided by

00:12:28,560 --> 00:12:30,000
or

00:12:28,880 --> 00:12:31,760
that we're getting access to via the

00:12:30,000 --> 00:12:32,639
control container in a form group

00:12:31,760 --> 00:12:36,079
directive again

00:12:32,639 --> 00:12:39,200
so our form control names

00:12:36,079 --> 00:12:41,360
so i don't want that to possibly

00:12:39,200 --> 00:12:43,440
um so from there we can start to do

00:12:41,360 --> 00:12:44,000
really complex things uh where we can

00:12:43,440 --> 00:12:46,560
actually

00:12:44,000 --> 00:12:47,360
start listening to our controls um if

00:12:46,560 --> 00:12:49,839
maybe we

00:12:47,360 --> 00:12:50,959
in a certain step of our wizard uh we

00:12:49,839 --> 00:12:52,720
want to

00:12:50,959 --> 00:12:54,639
understand what our loan type is so in

00:12:52,720 --> 00:12:57,839
step two we will set our

00:12:54,639 --> 00:12:59,120
loan type um and then in step three

00:12:57,839 --> 00:13:00,800
we're going to take a deposit but we

00:12:59,120 --> 00:13:02,880
want to know what that loan

00:13:00,800 --> 00:13:04,000
type is so then we can get the amount of

00:13:02,880 --> 00:13:05,600
that loan type

00:13:04,000 --> 00:13:07,120
and then subtract the deposit from that

00:13:05,600 --> 00:13:08,399
loan amount to show the use of the

00:13:07,120 --> 00:13:09,600
remaining balance that's what will

00:13:08,399 --> 00:13:11,200
happen

00:13:09,600 --> 00:13:13,680
um so that allows us to handle

00:13:11,200 --> 00:13:14,079
situations um so if you haven't looked

00:13:13,680 --> 00:13:16,959
at

00:13:14,079 --> 00:13:17,920
uh the uh sample application that i've

00:13:16,959 --> 00:13:19,360
built for tom

00:13:17,920 --> 00:13:22,160
uh this is kind of what it looks like

00:13:19,360 --> 00:13:22,480
now where our next button is disabled i

00:13:22,160 --> 00:13:24,160
have

00:13:22,480 --> 00:13:26,480
a couple different form controls going

00:13:24,160 --> 00:13:29,120
on um

00:13:26,480 --> 00:13:31,200
that i'm able to fill out and it's going

00:13:29,120 --> 00:13:33,760
to check the validity on these changes

00:13:31,200 --> 00:13:35,680
and then once all of my required fields

00:13:33,760 --> 00:13:37,839
have been filled out i can go ahead and

00:13:35,680 --> 00:13:40,240
progress

00:13:37,839 --> 00:13:41,680
um so here i can select my loan type

00:13:40,240 --> 00:13:42,959
it's going to show me the cost of

00:13:41,680 --> 00:13:44,880
whatever that loan type is

00:13:42,959 --> 00:13:46,480
i can select my color because tom is

00:13:44,880 --> 00:13:47,440
very considerate and lets us change our

00:13:46,480 --> 00:13:50,160
roof color for

00:13:47,440 --> 00:13:51,279
free we can change our roof color for

00:13:50,160 --> 00:13:52,880
free

00:13:51,279 --> 00:13:55,760
every time we pay him this amount of

00:13:52,880 --> 00:13:58,000
money um and then go on and then i can

00:13:55,760 --> 00:13:59,519
see my remaining amount due is that 198

00:13:58,000 --> 00:14:02,240
000 bells

00:13:59,519 --> 00:14:03,680
and then i can see how my deposit

00:14:02,240 --> 00:14:05,120
changes the amount remaining that i will

00:14:03,680 --> 00:14:07,920
have to and i can go ahead

00:14:05,120 --> 00:14:09,040
and submit my application memory of my

00:14:07,920 --> 00:14:11,199
loan

00:14:09,040 --> 00:14:13,920
so pretty pretty cool stuff that we're

00:14:11,199 --> 00:14:13,920
working on here

00:14:15,519 --> 00:14:19,040
all right uh so in summary if you are

00:14:17,920 --> 00:14:21,760
dealing with

00:14:19,040 --> 00:14:23,120
nested form controls um or nested

00:14:21,760 --> 00:14:25,279
components that you're wanting to have

00:14:23,120 --> 00:14:26,320
one cohesive form group which is my

00:14:25,279 --> 00:14:28,639
preference because

00:14:26,320 --> 00:14:30,240
you have um the ability to call dot

00:14:28,639 --> 00:14:31,839
valid on that form group and

00:14:30,240 --> 00:14:33,600
check the validity of all the controls

00:14:31,839 --> 00:14:35,040
within it you can use the control

00:14:33,600 --> 00:14:38,800
container to give

00:14:35,040 --> 00:14:38,800
your components access to your parent

00:14:39,040 --> 00:14:43,360
uh so the demo app again is available

00:14:41,600 --> 00:14:45,760
online i would encourage you all

00:14:43,360 --> 00:14:47,600
to enter your switch codes in there um

00:14:45,760 --> 00:14:48,959
if you're interested in the code or need

00:14:47,600 --> 00:14:51,440
more examples um

00:14:48,959 --> 00:14:52,720
i have the code base available there

00:14:51,440 --> 00:14:54,399
special friend to my thank

00:14:52,720 --> 00:14:56,800
my friend matt warger for hooking me up

00:14:54,399 --> 00:14:58,639
with the api so it can be interactive

00:14:56,800 --> 00:15:01,839
for you all today

00:14:58,639 --> 00:15:03,519
um i hope this has been helpful uh i

00:15:01,839 --> 00:15:05,839
know that i've given talks on angular

00:15:03,519 --> 00:15:07,360
forms before and this is a really common

00:15:05,839 --> 00:15:08,959
problem that a lot of people

00:15:07,360 --> 00:15:11,279
come and tell me they're like hey how do

00:15:08,959 --> 00:15:14,720
i deal with nesting components

00:15:11,279 --> 00:15:16,720
and being able to get access to my

00:15:14,720 --> 00:15:17,760
form group directive across all these

00:15:16,720 --> 00:15:20,720
different situations

00:15:17,760 --> 00:15:22,320
so control container is a very elegant

00:15:20,720 --> 00:15:23,040
solution for a lot of that so i hope

00:15:22,320 --> 00:15:25,279
this is helpful

00:15:23,040 --> 00:15:26,800
i hope you all can now create nested

00:15:25,279 --> 00:15:30,560
forms to your heart's content

00:15:26,800 --> 00:15:32,399
and have a blast um and while i'm here

00:15:30,560 --> 00:15:34,399
because we're all isolated come play

00:15:32,399 --> 00:15:36,160
with me uh i would like to be friends

00:15:34,399 --> 00:15:40,000
with you here is my switch code

00:15:36,160 --> 00:15:41,680
um it's also at the top of my slides um

00:15:40,000 --> 00:15:44,320
so look forward to seeing you on the

00:15:41,680 --> 00:15:47,360
chat looking forward to seeing you all

00:15:44,320 --> 00:15:49,680
on each other's islands if you have any

00:15:47,360 --> 00:15:50,720
questions i am super excited to see them

00:15:49,680 --> 00:15:52,639
in the chat

00:15:50,720 --> 00:15:53,700
and once again slides are available here

00:15:52,639 --> 00:15:57,470
and my code

00:15:53,700 --> 00:16:00,549
[Music]

00:15:57,470 --> 00:16:00,549
[Applause]

00:16:01,110 --> 00:16:08,210
[Music]

00:16:03,590 --> 00:16:08,210
[Applause]

00:16:09,120 --> 00:16:11,199

YouTube URL: https://www.youtube.com/watch?v=Ovpm8qZYvQY


