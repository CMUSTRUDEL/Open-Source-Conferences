Title: Letâ€™s Build A Form Around It - Sani Yusuf
Publication date: 2018-11-16
Playlist: ng-conf 2018
Description: 
	ng-conf is a two day, single track conference focused on delivering the highest quality training in the Angular JavaScript framework. 1500+ developers from across the country will converge on beautiful Salt Lake City, UT to participate in training sessions by the Google Angular team, and other Angular experts. In addition to the invaluable training, ng-conf will deliver a premier conference experience for attendees, providing opportunities to network with other developers, relax at social events, and engage in some of the unique entertainment opportunities available in Utah.
Captions: 
	00:00:00,000 --> 00:00:06,740
[Applause]

00:00:03,380 --> 00:00:09,510
Wow 1,500 people

00:00:06,740 --> 00:00:13,259
good-morning ng-conf how's everybody

00:00:09,510 --> 00:00:16,109
doing today that's what I like energy

00:00:13,259 --> 00:00:18,180
energy energy energy Naru so yeah thank

00:00:16,109 --> 00:00:20,220
you for the introduction today you'll

00:00:18,180 --> 00:00:23,369
have form around it so I'm going to

00:00:20,220 --> 00:00:26,630
deconstruct a bit about angular reactive

00:00:23,369 --> 00:00:29,369
forms so let's get started let's get the

00:00:26,630 --> 00:00:32,579
boring stuff out of the way don't mind

00:00:29,369 --> 00:00:35,489
my little dating profile picture my name

00:00:32,579 --> 00:00:37,140
is sunny Yousef I'm a Google developer

00:00:35,489 --> 00:00:40,079
expert that picture was taken out of

00:00:37,140 --> 00:00:42,360
conference actually so yeah groov

00:00:40,079 --> 00:00:44,160
developer expert on the web so angular

00:00:42,360 --> 00:00:45,000
stuff and I do a lot of ionic stuff as

00:00:44,160 --> 00:00:46,469
well

00:00:45,000 --> 00:00:48,390
I'm also an angular bootcamp instructor

00:00:46,469 --> 00:00:50,100
so I go around parts of the states and

00:00:48,390 --> 00:00:52,860
part of your teaching people angular

00:00:50,100 --> 00:00:54,420
lucky me I'm also building this great

00:00:52,860 --> 00:00:54,930
thing called UI school so you can check

00:00:54,420 --> 00:00:55,920
that out

00:00:54,930 --> 00:00:59,570
you are those go I don't know how we

00:00:55,920 --> 00:01:03,210
pulled off that domain name but yeah and

00:00:59,570 --> 00:01:06,180
avatar is the best movie of all time you

00:01:03,210 --> 00:01:09,630
cannot say anything else if you have not

00:01:06,180 --> 00:01:12,990
seen that movie you need to we cannot be

00:01:09,630 --> 00:01:16,080
friends exactly the blue people not that

00:01:12,990 --> 00:01:17,820
other thing yeah exactly

00:01:16,080 --> 00:01:20,490
all right so you can find me online at

00:01:17,820 --> 00:01:23,909
sound youssef if you find anyone that

00:01:20,490 --> 00:01:26,250
looks this good with that username just

00:01:23,909 --> 00:01:29,460
let me know so I can see them thank you

00:01:26,250 --> 00:01:32,700
very much let's talk about forms forms

00:01:29,460 --> 00:01:34,110
forms forms forms actually have the

00:01:32,700 --> 00:01:36,210
ability to make or break your business

00:01:34,110 --> 00:01:38,700
you never thought that was a form did

00:01:36,210 --> 00:01:41,640
you this is the most profitable form in

00:01:38,700 --> 00:01:42,840
the world you use it every day but

00:01:41,640 --> 00:01:44,670
you've never thought about it as a form

00:01:42,840 --> 00:01:48,180
have you cuz you just go you know why

00:01:44,670 --> 00:01:49,829
cuz it works whenever your form works

00:01:48,180 --> 00:01:51,420
you don't think of it as a form when it

00:01:49,829 --> 00:01:55,439
doesn't work then you remember it's a

00:01:51,420 --> 00:02:00,930
form you use them every day as well

00:01:55,439 --> 00:02:04,710
Facebook Twitter iMessage what's that at

00:02:00,930 --> 00:02:06,930
every single point every day you're

00:02:04,710 --> 00:02:09,300
using a form one way or the other but

00:02:06,930 --> 00:02:13,170
you don't think about it as a form why

00:02:09,300 --> 00:02:16,250
again because it actually works

00:02:13,170 --> 00:02:19,140
and that's the most important thing so

00:02:16,250 --> 00:02:21,319
let us see some pretty terrible forms

00:02:19,140 --> 00:02:26,430
who wants to see some terrible forms

00:02:21,319 --> 00:02:29,880
exactly Wow so much negativity guys want

00:02:26,430 --> 00:02:33,620
to see terrible forms whoa Jesus all

00:02:29,880 --> 00:02:36,030
right let me make my damn mistake first

00:02:33,620 --> 00:02:43,860
don't you know these forms when you just

00:02:36,030 --> 00:02:45,810
go www how this is wrong that is wrong

00:02:43,860 --> 00:02:47,459
you're gonna die this is just read

00:02:45,810 --> 00:02:49,470
everywhere you need to put eight

00:02:47,459 --> 00:02:51,720
parata's password like let me type the

00:02:49,470 --> 00:02:55,830
bloody password first then you can tell

00:02:51,720 --> 00:02:57,120
me and and for any example I show

00:02:55,830 --> 00:03:00,750
there's a stack with its link you can

00:02:57,120 --> 00:03:04,500
see there after don't let me submit if

00:03:00,750 --> 00:03:06,870
I'm doing something wrong you should

00:03:04,500 --> 00:03:08,130
never let a user submit a form if you

00:03:06,870 --> 00:03:08,610
know that they already do something

00:03:08,130 --> 00:03:10,980
wrong

00:03:08,610 --> 00:03:12,840
why like be very clear about the

00:03:10,980 --> 00:03:15,269
information that is mandatory that you

00:03:12,840 --> 00:03:17,549
need because there's no point for me to

00:03:15,269 --> 00:03:19,350
submit a form if for example you need me

00:03:17,549 --> 00:03:19,590
to enter a password that's 8 characters

00:03:19,350 --> 00:03:21,720
long

00:03:19,590 --> 00:03:24,000
don't let me submit the form and then

00:03:21,720 --> 00:03:26,190
come back and tell me you need eight

00:03:24,000 --> 00:03:28,019
characters password doesn't make sense

00:03:26,190 --> 00:03:31,410
you're wasting my time I'm gonna go

00:03:28,019 --> 00:03:33,269
somewhere else and spend my money but

00:03:31,410 --> 00:03:34,950
there are some exceptions call to

00:03:33,269 --> 00:03:38,180
actions and acquisition buttons those

00:03:34,950 --> 00:03:40,380
there are some exceptions to this rule

00:03:38,180 --> 00:03:43,200
focus only on what I'm currently doing

00:03:40,380 --> 00:03:46,260
wrong I know you have like 10 different

00:03:43,200 --> 00:03:48,390
input fields but I want to just focus on

00:03:46,260 --> 00:03:51,269
what I'm doing wrong like if I'm you

00:03:48,390 --> 00:03:52,680
know this form here I'm typing the last

00:03:51,269 --> 00:03:54,299
name I haven't touched any other thing

00:03:52,680 --> 00:03:56,880
but the form is already telling me I

00:03:54,299 --> 00:03:59,760
need to enter a first name like can you

00:03:56,880 --> 00:04:01,260
just focus on what I'm doing you know so

00:03:59,760 --> 00:04:03,630
focus only because users can only

00:04:01,260 --> 00:04:06,329
interact with one input field at a time

00:04:03,630 --> 00:04:08,040
so that's very important and and it's

00:04:06,329 --> 00:04:09,150
important for you to know when the users

00:04:08,040 --> 00:04:11,970
are interact and when they've touched

00:04:09,150 --> 00:04:16,739
something when they've left very very

00:04:11,970 --> 00:04:18,930
very important an exam or derp sometimes

00:04:16,739 --> 00:04:20,789
they make exception to this so if you

00:04:18,930 --> 00:04:22,860
need users to fill your form in a

00:04:20,789 --> 00:04:24,510
specific order sometimes you can like

00:04:22,860 --> 00:04:25,950
Facebook for example when you're using

00:04:24,510 --> 00:04:26,940
Facebook and you put your last name

00:04:25,950 --> 00:04:28,200
before your first name

00:04:26,940 --> 00:04:30,120
first name field would be red because

00:04:28,200 --> 00:04:32,730
like hey we need this because we need to

00:04:30,120 --> 00:04:39,000
spy on you really this first name you

00:04:32,730 --> 00:04:41,640
know and this guy this one nobody likes

00:04:39,000 --> 00:04:44,370
that one when you just walk into a page

00:04:41,640 --> 00:04:46,650
and you see this long form think about

00:04:44,370 --> 00:04:50,010
taxes you know that's why nobody likes

00:04:46,650 --> 00:04:52,470
filling taxes because it's like oh man

00:04:50,010 --> 00:04:55,350
and it's like if you refresh the page

00:04:52,470 --> 00:04:57,030
you're dude and that kind of thing so

00:04:55,350 --> 00:04:58,290
it's like phones actually have a direct

00:04:57,030 --> 00:05:00,420
effect on how we feel

00:04:58,290 --> 00:05:02,790
cuz if a form is nice you don't think

00:05:00,420 --> 00:05:05,240
about it like Google search you just say

00:05:02,790 --> 00:05:07,140
hey you helped me you know do my work

00:05:05,240 --> 00:05:10,080
stackoverflow this this this Dada Dada

00:05:07,140 --> 00:05:12,270
Dada and and it works but when it's too

00:05:10,080 --> 00:05:14,040
long or it's it's making you feel some

00:05:12,270 --> 00:05:17,750
type of way you you you don't feel

00:05:14,040 --> 00:05:20,400
inclined to fill the form

00:05:17,750 --> 00:05:22,980
another one is and should I only have to

00:05:20,400 --> 00:05:25,080
submit the form once there is no point

00:05:22,980 --> 00:05:27,930
in the trip to the server and make Kimmy

00:05:25,080 --> 00:05:29,880
come back right so if I'm filling this

00:05:27,930 --> 00:05:31,980
form here and you know I choose a

00:05:29,880 --> 00:05:33,600
username and the first name and then

00:05:31,980 --> 00:05:35,010
you're telling me oh by the way that

00:05:33,600 --> 00:05:37,410
username is taken after I've clicked

00:05:35,010 --> 00:05:40,169
submit you could have just told me that

00:05:37,410 --> 00:05:43,110
you know like told me hey this username

00:05:40,169 --> 00:05:46,230
is not available has been taken so that

00:05:43,110 --> 00:05:50,430
I can type a new username capisce don't

00:05:46,230 --> 00:05:52,020
let me submit that's what I say don't do

00:05:50,430 --> 00:05:55,320
it if you're building those types of

00:05:52,020 --> 00:05:58,050
forms stop right now stop stop don't

00:05:55,320 --> 00:06:01,980
build those forms how can we create

00:05:58,050 --> 00:06:03,180
better forms in angular right how can we

00:06:01,980 --> 00:06:04,440
actually create better for cuz this is

00:06:03,180 --> 00:06:08,250
an angular conference this is an angular

00:06:04,440 --> 00:06:10,740
talk right I introduced you to reactive

00:06:08,250 --> 00:06:14,130
forms if you have not heard of reactive

00:06:10,740 --> 00:06:15,930
forms congratulations this is the best

00:06:14,130 --> 00:06:17,370
thing that's ever happened to me and

00:06:15,930 --> 00:06:19,230
there are two types of forms in angular

00:06:17,370 --> 00:06:22,290
there's the template forms please don't

00:06:19,230 --> 00:06:26,340
use and we have reactive forms please

00:06:22,290 --> 00:06:29,010
use so what are the features of reactive

00:06:26,340 --> 00:06:31,530
forms reactive forms they can observe

00:06:29,010 --> 00:06:33,480
they'll be observant what do I mean by

00:06:31,530 --> 00:06:35,190
they're observant they know when you're

00:06:33,480 --> 00:06:37,050
typing something they know when you've

00:06:35,190 --> 00:06:39,539
touched the field they know when you've

00:06:37,050 --> 00:06:40,710
left the field you know they know when

00:06:39,539 --> 00:06:43,050
the field is valid

00:06:40,710 --> 00:06:45,270
they know when it's invalid so it allows

00:06:43,050 --> 00:06:47,310
you to focus and just given a user a

00:06:45,270 --> 00:06:49,530
great experience instead of like

00:06:47,310 --> 00:06:51,300
constantly meddling around think about

00:06:49,530 --> 00:06:55,950
jQuery forms those were the good old

00:06:51,300 --> 00:06:59,160
days no interesting times they need to

00:06:55,950 --> 00:07:02,640
have empathy you need to think like the

00:06:59,160 --> 00:07:04,890
user because your user is typing say for

00:07:02,640 --> 00:07:07,770
example the user is typing something

00:07:04,890 --> 00:07:11,250
like a an American phone number and a

00:07:07,770 --> 00:07:13,470
lot of some websites say 3 3 4 correct 3

00:07:11,250 --> 00:07:14,970
3 4 but if the user just decides to type

00:07:13,470 --> 00:07:17,430
everything without the dashes or maybe

00:07:14,970 --> 00:07:19,650
he decides to use the - maybe you should

00:07:17,430 --> 00:07:20,910
allow them you can do that validation on

00:07:19,650 --> 00:07:23,280
your own you know you can remove the

00:07:20,910 --> 00:07:25,820
dashes because that's what they used in

00:07:23,280 --> 00:07:29,100
the UK in our postcode system is

00:07:25,820 --> 00:07:30,720
alphanumeric of 4 3 up to 4 and then

00:07:29,100 --> 00:07:32,370
another alpha in America for and most of

00:07:30,720 --> 00:07:34,350
the times you put a space but if the

00:07:32,370 --> 00:07:36,180
user does not put a space forgive them

00:07:34,350 --> 00:07:37,170
because you already have the rules they

00:07:36,180 --> 00:07:39,060
should have empathy

00:07:37,170 --> 00:07:41,300
she empathize with the user you should

00:07:39,060 --> 00:07:43,670
focus on what they're currently doing

00:07:41,300 --> 00:07:45,870
you should be able to compose forms

00:07:43,670 --> 00:07:47,910
reactive forms are composable you should

00:07:45,870 --> 00:07:50,730
be able to take some business logic from

00:07:47,910 --> 00:07:52,770
your you know manager that doesn't want

00:07:50,730 --> 00:07:54,330
to give you a pay rise and just

00:07:52,770 --> 00:07:56,400
implement that you know because you know

00:07:54,330 --> 00:08:00,480
managers we need this by tomorrow

00:07:56,400 --> 00:08:02,280
come code it yourself you know they just

00:08:00,480 --> 00:08:03,960
think it's easy this needs to happen

00:08:02,280 --> 00:08:07,440
that's what we have a sprint it's called

00:08:03,960 --> 00:08:09,630
the Sprint extend they should be

00:08:07,440 --> 00:08:12,750
extendable what do I mean by extend

00:08:09,630 --> 00:08:15,270
sometimes what forms do the normal

00:08:12,750 --> 00:08:16,920
things like HTML gives is not enough so

00:08:15,270 --> 00:08:19,140
you need to extend to have maybe some

00:08:16,920 --> 00:08:21,030
custom logic your own forms think of

00:08:19,140 --> 00:08:23,490
things like ionic where they have ion

00:08:21,030 --> 00:08:28,560
text area ion input because you need

00:08:23,490 --> 00:08:29,760
some some specific things reactive form

00:08:28,560 --> 00:08:32,180
building blocks so let's look at the

00:08:29,760 --> 00:08:34,800
building blocks of reactive forms

00:08:32,180 --> 00:08:36,540
everything inherits from this granddaddy

00:08:34,800 --> 00:08:39,720
called the abstract control that's the

00:08:36,540 --> 00:08:41,790
base abstract you cannot create a member

00:08:39,720 --> 00:08:45,600
of that but you have the form control

00:08:41,790 --> 00:08:47,490
the form group and the form array so to

00:08:45,600 --> 00:08:49,080
get started with reactive forms you just

00:08:47,490 --> 00:08:51,120
import the reactive forms module from

00:08:49,080 --> 00:08:53,970
angular forms and you put it in your

00:08:51,120 --> 00:08:55,140
imports block and you're good to go

00:08:53,970 --> 00:08:56,280
all right and that gives you a lot of

00:08:55,140 --> 00:08:58,190
things so let's talk about the first one

00:08:56,280 --> 00:09:00,660
which is the primitive the form control

00:08:58,190 --> 00:09:03,450
the form control is when you need to

00:09:00,660 --> 00:09:06,270
just bind one specific input element or

00:09:03,450 --> 00:09:08,010
some form element just one not in a

00:09:06,270 --> 00:09:10,920
group you just need that Google search

00:09:08,010 --> 00:09:13,260
for example it's just one input book you

00:09:10,920 --> 00:09:14,580
can use a form control and you create

00:09:13,260 --> 00:09:17,150
the form controller the instance and

00:09:14,580 --> 00:09:21,240
then you bind it via the form control

00:09:17,150 --> 00:09:22,920
once you code directive or property that

00:09:21,240 --> 00:09:25,470
it comes from the reactive forms on your

00:09:22,920 --> 00:09:30,390
inputs and then that would know how to

00:09:25,470 --> 00:09:31,680
add specific things to the template the

00:09:30,390 --> 00:09:33,600
next one is the form group and this is

00:09:31,680 --> 00:09:35,370
the most widely used one it works mainly

00:09:33,600 --> 00:09:37,560
with the form element this is when you

00:09:35,370 --> 00:09:39,600
have an aggregated set of fields you

00:09:37,560 --> 00:09:41,490
know and you want to construct a form

00:09:39,600 --> 00:09:43,170
and it's used to aggregate group

00:09:41,490 --> 00:09:46,110
controls and it gives you an object

00:09:43,170 --> 00:09:48,390
based API so you access the controls as

00:09:46,110 --> 00:09:51,540
an object and this is what it looks like

00:09:48,390 --> 00:09:54,330
actually so you instantiate that you

00:09:51,540 --> 00:09:56,340
know you instantiate the the form group

00:09:54,330 --> 00:09:58,680
and then you add a bunch of form

00:09:56,340 --> 00:10:00,180
controls but actually it's not only form

00:09:58,680 --> 00:10:02,190
controls you can add in that form group

00:10:00,180 --> 00:10:04,860
you can also aggregate any abstract

00:10:02,190 --> 00:10:06,780
control so it could be a form control it

00:10:04,860 --> 00:10:08,340
could be a form group or also a form

00:10:06,780 --> 00:10:11,220
array which we're going to see shortly

00:10:08,340 --> 00:10:13,860
that gives you a real power to aggregate

00:10:11,220 --> 00:10:16,320
so many things and the form array is

00:10:13,860 --> 00:10:19,380
basically just like a phone group but it

00:10:16,320 --> 00:10:21,050
gives you an array like syntax so if you

00:10:19,380 --> 00:10:24,180
have like for example a bunch of pages

00:10:21,050 --> 00:10:26,430
page 1 2 3 4 you like examinations for

00:10:24,180 --> 00:10:27,840
example and you want to keep States

00:10:26,430 --> 00:10:30,300
between each page you can use a full

00:10:27,840 --> 00:10:32,310
array for that and it's very very

00:10:30,300 --> 00:10:34,200
similar to the form group and if the

00:10:32,310 --> 00:10:37,170
same thing with the form group it not

00:10:34,200 --> 00:10:39,180
only uses the you you don't only have to

00:10:37,170 --> 00:10:41,700
put form controls in there you can also

00:10:39,180 --> 00:10:43,470
add any abstract controls so any one of

00:10:41,700 --> 00:10:45,570
those new could be a form group or a

00:10:43,470 --> 00:10:49,260
form array itself so you can aggregate

00:10:45,570 --> 00:10:51,540
as much as possible so you also have a

00:10:49,260 --> 00:10:53,070
declarative approach to forms where you

00:10:51,540 --> 00:10:55,380
can just declare using the form builder

00:10:53,070 --> 00:10:58,800
and this is probably my preferred way of

00:10:55,380 --> 00:11:04,740
creating reactive form elements demo

00:10:58,800 --> 00:11:05,970
time did I did I did copyright I told

00:11:04,740 --> 00:11:07,639
you I was a Viking never seen a black

00:11:05,970 --> 00:11:10,800
vacuum before have yeah

00:11:07,639 --> 00:11:14,660
exactly so we're gonna demo a couple of

00:11:10,800 --> 00:11:17,970
things value change built-in validation

00:11:14,660 --> 00:11:20,129
composition custom validation and my

00:11:17,970 --> 00:11:23,360
favorite one which is custom async

00:11:20,129 --> 00:11:27,529
validation who wants to see some code

00:11:23,360 --> 00:11:29,339
good who wants to see some code that's

00:11:27,529 --> 00:11:32,970
more like it

00:11:29,339 --> 00:11:34,800
alright so let's go ahead so the first

00:11:32,970 --> 00:11:38,189
thing we're going to see is I took time

00:11:34,800 --> 00:11:41,370
last night you know to build Twitter

00:11:38,189 --> 00:11:44,189
again exactly I basically built Twitter

00:11:41,370 --> 00:11:48,149
and you can see the state of the form

00:11:44,189 --> 00:11:53,790
right now here so I'm going to end this

00:11:48,149 --> 00:11:56,250
slideshow here and and I'm gonna do this

00:11:53,790 --> 00:11:57,990
so I build Twitter and this is on

00:11:56,250 --> 00:11:59,459
stackless you have access and you can

00:11:57,990 --> 00:12:01,829
see the state of the current form I can

00:11:59,459 --> 00:12:03,810
tell when the form is touched invalid

00:12:01,829 --> 00:12:05,009
pristine right now its pristine because

00:12:03,810 --> 00:12:07,170
I haven't touched but soon as I touch

00:12:05,009 --> 00:12:09,689
something you can see it's dirty now you

00:12:07,170 --> 00:12:12,600
know and it's what's the code and as

00:12:09,689 --> 00:12:16,199
soon as I leave the focus is now touched

00:12:12,600 --> 00:12:18,209
and you can see the what's the code the

00:12:16,199 --> 00:12:19,620
Twitter count here I can type type type

00:12:18,209 --> 00:12:21,509
and I can calculate that so let's

00:12:19,620 --> 00:12:23,310
actually look at the code for this so

00:12:21,509 --> 00:12:24,750
quickly if you actually look at the code

00:12:23,310 --> 00:12:27,360
for this the Twitter form control code

00:12:24,750 --> 00:12:29,009
all I created was a form control and

00:12:27,360 --> 00:12:31,470
this form control I said it has to be

00:12:29,009 --> 00:12:33,839
required that's the validation rule that

00:12:31,470 --> 00:12:37,110
I said so if it's not required I cannot

00:12:33,839 --> 00:12:40,829
see the validation would not succeed and

00:12:37,110 --> 00:12:42,750
I'm also using ACM observable here to

00:12:40,829 --> 00:12:44,519
use the value changes which is what you

00:12:42,750 --> 00:12:46,410
used to check when a value of that

00:12:44,519 --> 00:12:48,029
particular form has changed and I'm

00:12:46,410 --> 00:12:50,339
doing max character count so I'm saying

00:12:48,029 --> 00:12:52,230
280 - whatever the current values length

00:12:50,339 --> 00:12:55,139
is to see how many characters I have

00:12:52,230 --> 00:12:57,120
left and on the HTML side of things you

00:12:55,139 --> 00:12:59,309
can just ignore this bit all I want you

00:12:57,120 --> 00:13:02,550
to focus on is here where I bind that

00:12:59,309 --> 00:13:04,529
form control to that and that's that

00:13:02,550 --> 00:13:07,139
particular form control has all those

00:13:04,529 --> 00:13:08,430
properties file a valid invalid and

00:13:07,139 --> 00:13:11,550
things like that and that's what I'm

00:13:08,430 --> 00:13:14,459
using to do the touch on touch I'm

00:13:11,550 --> 00:13:17,220
saying if it's untouched ng-if if it's

00:13:14,459 --> 00:13:19,559
valid invalid pristine dirty and there

00:13:17,220 --> 00:13:20,730
other fields that you can use you can

00:13:19,559 --> 00:13:24,060
check the state you can

00:13:20,730 --> 00:13:26,300
so many things so this is how I pretty

00:13:24,060 --> 00:13:30,959
much just built this pretty quickly and

00:13:26,300 --> 00:13:32,699
and if I just remove that here you can

00:13:30,959 --> 00:13:34,860
see that the button is disabled why

00:13:32,699 --> 00:13:35,550
because the form is not valid what makes

00:13:34,860 --> 00:13:37,769
the form valid

00:13:35,550 --> 00:13:40,350
it can only be valid if all the

00:13:37,769 --> 00:13:43,649
validation rules are set and that's why

00:13:40,350 --> 00:13:46,380
I bound here the the disabled feature of

00:13:43,649 --> 00:13:49,889
the button to the cur the form control

00:13:46,380 --> 00:13:51,720
itself say it's invalid property so if

00:13:49,889 --> 00:13:53,730
it's invalid the form is disabled but

00:13:51,720 --> 00:13:56,850
soon as is valid it becomes enabled and

00:13:53,730 --> 00:14:00,829
I can submit so let's move on to the

00:13:56,850 --> 00:14:05,209
next demo the next demo I have here is

00:14:00,829 --> 00:14:07,380
this guy very very very popular because

00:14:05,209 --> 00:14:09,029
sometimes you don't want to validate on

00:14:07,380 --> 00:14:11,370
the form control itself you want to

00:14:09,029 --> 00:14:12,630
validate on the form so here I need to

00:14:11,370 --> 00:14:15,269
make sure that the password and the

00:14:12,630 --> 00:14:17,130
confirm password match but they don't

00:14:15,269 --> 00:14:19,380
know about each other they isolate so

00:14:17,130 --> 00:14:21,329
the form control the form group itself

00:14:19,380 --> 00:14:24,449
is what would do that and you can see a

00:14:21,329 --> 00:14:27,260
little table of each particular what's

00:14:24,449 --> 00:14:30,149
it called form country so if I say Sani

00:14:27,260 --> 00:14:32,819
gmail.com now it's valid you can see the

00:14:30,149 --> 00:14:35,579
table it's been it's the it's still

00:14:32,819 --> 00:14:37,800
untouched and as soon as I go out it's

00:14:35,579 --> 00:14:40,260
been touched it's dirty and it's valid

00:14:37,800 --> 00:14:41,610
dirty means the value has changed for

00:14:40,260 --> 00:14:43,110
password I'm just gonna put the most

00:14:41,610 --> 00:14:46,889
secure password which is one two three

00:14:43,110 --> 00:14:49,709
four five and and you can see confirm

00:14:46,889 --> 00:14:53,579
password is still invalid right and if I

00:14:49,709 --> 00:14:55,560
come here and I say a B C passwords

00:14:53,579 --> 00:14:57,180
don't match but you see that I waited

00:14:55,560 --> 00:14:59,579
until the user left the confirm password

00:14:57,180 --> 00:15:01,410
to display that so I waited until they

00:14:59,579 --> 00:15:03,089
untouched I didn't just say yeah a

00:15:01,410 --> 00:15:04,470
passwords not match and I'm like just

00:15:03,089 --> 00:15:06,779
give me a chance to fill the bloody

00:15:04,470 --> 00:15:08,880
thing you know but when I go and write

00:15:06,779 --> 00:15:10,800
one two and you see the submit button is

00:15:08,880 --> 00:15:12,420
disabled but if I go and write a most

00:15:10,800 --> 00:15:15,149
secure pass one of the world one two

00:15:12,420 --> 00:15:17,459
three four five suddenly the submit

00:15:15,149 --> 00:15:19,230
button is enabled I don't need to wait

00:15:17,459 --> 00:15:21,000
for you to untouched because I want you

00:15:19,230 --> 00:15:22,709
to be able to submit as soon as game

00:15:21,000 --> 00:15:26,069
match and let's go ahead and look at

00:15:22,709 --> 00:15:29,279
this code here all I did is created a

00:15:26,069 --> 00:15:31,829
form group with some elements and what I

00:15:29,279 --> 00:15:34,380
did is I just created a custom validator

00:15:31,829 --> 00:15:36,510
which is of just a pure function that in

00:15:34,380 --> 00:15:38,250
checks in the forum group itself and all

00:15:36,510 --> 00:15:39,930
I'm doing is getting that forum group

00:15:38,250 --> 00:15:42,420
accessing the control called password

00:15:39,930 --> 00:15:44,670
accesses the auto control called confirm

00:15:42,420 --> 00:15:47,670
password and I'm saying if their values

00:15:44,670 --> 00:15:50,790
match return null that means we're good

00:15:47,670 --> 00:15:52,800
to go only return me an error if the

00:15:50,790 --> 00:15:55,110
values don't match so like a flip

00:15:52,800 --> 00:15:57,240
boolean and that makes sense so I'm only

00:15:55,110 --> 00:15:58,830
returning something the name of the

00:15:57,240 --> 00:16:01,110
errors passwords don't match and if we

00:15:58,830 --> 00:16:03,000
look at the HTML here what you do is you

00:16:01,110 --> 00:16:04,950
bind the form group property to the form

00:16:03,000 --> 00:16:07,590
group and here you use the form control

00:16:04,950 --> 00:16:10,830
name the form control name only works

00:16:07,590 --> 00:16:12,570
within a nested context of a form group

00:16:10,830 --> 00:16:14,190
and you can have as many things and

00:16:12,570 --> 00:16:17,790
that's how I'm able to do all these

00:16:14,190 --> 00:16:18,450
things like does it have an error has it

00:16:17,790 --> 00:16:21,060
been touched

00:16:18,450 --> 00:16:22,530
does password and so I'm here I'm saying

00:16:21,060 --> 00:16:25,910
if it has an error of called password

00:16:22,530 --> 00:16:28,350
match and password has been touched and

00:16:25,910 --> 00:16:31,050
confirm password has been touched then I

00:16:28,350 --> 00:16:32,700
show the error so that's all it is

00:16:31,050 --> 00:16:34,500
pretty much for that one so I have a

00:16:32,700 --> 00:16:36,480
last demo that I'm actually gonna show

00:16:34,500 --> 00:16:39,630
and this one took awhile cuz I only

00:16:36,480 --> 00:16:41,100
fixed it like ten minutes before this

00:16:39,630 --> 00:16:44,070
talk so thanks to all the guys that

00:16:41,100 --> 00:16:45,630
helped me out Chris Max him there are

00:16:44,070 --> 00:16:46,890
these forms where sometimes you enter

00:16:45,630 --> 00:16:48,780
I'll give you an example of what

00:16:46,890 --> 00:16:50,010
inspired me for this form so I bought a

00:16:48,780 --> 00:16:53,250
SIM card the first time I came to

00:16:50,010 --> 00:16:55,350
America and when I'm back I need to like

00:16:53,250 --> 00:16:57,120
replenish the credit but on the website

00:16:55,350 --> 00:16:58,890
they don't allow me to enter a UK

00:16:57,120 --> 00:17:00,210
postcode I'm like that doesn't make

00:16:58,890 --> 00:17:02,010
though your whole business is about

00:17:00,210 --> 00:17:03,810
people traveling well you don't let me

00:17:02,010 --> 00:17:06,449
into a UK postcode so I can't actually

00:17:03,810 --> 00:17:08,939
pay for stuff because your post goes out

00:17:06,449 --> 00:17:10,470
five numbers while ours is different so

00:17:08,939 --> 00:17:12,810
I have to actually all physically call

00:17:10,470 --> 00:17:14,970
them so but it's very similar when

00:17:12,810 --> 00:17:17,490
you're ordering some stuff sometimes you

00:17:14,970 --> 00:17:18,900
want to know if people can deliver to

00:17:17,490 --> 00:17:21,959
you you don't want to send that trip to

00:17:18,900 --> 00:17:24,930
the server but you need to make a server

00:17:21,959 --> 00:17:26,520
call HTTP call angular reactive forms

00:17:24,930 --> 00:17:28,290
has something called a Singh validators

00:17:26,520 --> 00:17:30,570
that will actually send a HTTP call and

00:17:28,290 --> 00:17:32,940
wait for you to come back to calculate

00:17:30,570 --> 00:17:35,010
the validity of a specific form control

00:17:32,940 --> 00:17:36,810
or form group so let's use the zip code

00:17:35,010 --> 00:17:38,820
for example I've written this code where

00:17:36,810 --> 00:17:40,350
I only deliver to Beverly Hills

00:17:38,820 --> 00:17:42,810
California if you don't live in

00:17:40,350 --> 00:17:45,780
California I'm sorry you're not cool

00:17:42,810 --> 00:17:47,100
enough so so who does not live in

00:17:45,780 --> 00:17:47,880
California who can tell me where you

00:17:47,100 --> 00:17:54,690
live

00:17:47,880 --> 00:17:57,120
yes okay postcode zip code one nine one

00:17:54,690 --> 00:18:02,850
three zero so we did not deliver to your

00:17:57,120 --> 00:18:05,039
hood sir not cool enough yes and this is

00:18:02,850 --> 00:18:08,640
using a real API called zip apart is if

00:18:05,039 --> 00:18:10,169
the zippopotamas zip apart must sleep

00:18:08,640 --> 00:18:13,380
sorry African education it's not my

00:18:10,169 --> 00:18:16,110
fault so that's the API you just pass a

00:18:13,380 --> 00:18:20,100
postcode and it returns you a bunch of

00:18:16,110 --> 00:18:24,150
things but sir let's who lives in

00:18:20,100 --> 00:18:28,159
California California all right postcode

00:18:24,150 --> 00:18:33,480
tell me where you live nine two six zero

00:18:28,159 --> 00:18:34,950
four so sir we deliver to you now I can

00:18:33,480 --> 00:18:36,450
take you to see Facebook you can add

00:18:34,950 --> 00:18:38,780
some people's information nicely and

00:18:36,450 --> 00:18:42,570
they'll give it to you live on stage

00:18:38,780 --> 00:18:44,720
exactly very easy now I know where you

00:18:42,570 --> 00:18:44,720
live

00:18:45,110 --> 00:18:48,000
thank you

00:18:46,500 --> 00:18:49,530
so let's quickly round up and look at

00:18:48,000 --> 00:18:51,059
how that works all you do is you create

00:18:49,530 --> 00:18:53,010
an async validator which is just a

00:18:51,059 --> 00:18:54,690
function and you inject stuff into it

00:18:53,010 --> 00:18:57,360
I'm injecting HTTP because I need to

00:18:54,690 --> 00:18:58,860
make a rule HDB call and I return a

00:18:57,360 --> 00:19:01,710
function that gives me access to the

00:18:58,860 --> 00:19:04,020
actual form control itself that I

00:19:01,710 --> 00:19:05,940
associated it with is the input zip and

00:19:04,020 --> 00:19:08,460
I make that call and if everything is

00:19:05,940 --> 00:19:10,440
good I return and observable of no but

00:19:08,460 --> 00:19:12,720
if I have a problem I return observable

00:19:10,440 --> 00:19:14,909
of something which is in this case state

00:19:12,720 --> 00:19:16,409
delivery only delivered to California

00:19:14,909 --> 00:19:17,610
pretty cool stuff

00:19:16,409 --> 00:19:19,650
and I think this is really good this is

00:19:17,610 --> 00:19:21,179
what you used to do things like check if

00:19:19,650 --> 00:19:23,400
a username is available or things like

00:19:21,179 --> 00:19:28,520
that you can use something like that so

00:19:23,400 --> 00:19:33,030
let's go back to the slides there we go

00:19:28,520 --> 00:19:36,750
welcome evike in mama I made it all

00:19:33,030 --> 00:19:39,360
right so let's round up to get started

00:19:36,750 --> 00:19:40,830
today you can check or every single

00:19:39,360 --> 00:19:42,299
thing I've demoed is on stack stack

00:19:40,830 --> 00:19:45,870
plates so you can go there and live

00:19:42,299 --> 00:19:48,600
check it out you can check out the

00:19:45,870 --> 00:19:50,549
angular guide you can ask me a question

00:19:48,600 --> 00:19:50,940
and Sandi use of Twitter you can follow

00:19:50,549 --> 00:19:52,919
me

00:19:50,940 --> 00:19:54,240
I might not follow you back I look on I

00:19:52,919 --> 00:19:55,620
kind of look cooler if I have more

00:19:54,240 --> 00:19:59,190
followers and people I'm following so

00:19:55,620 --> 00:20:00,630
I'm sorry yeah you can learn them like

00:19:59,190 --> 00:20:01,740
because I'm teaching this stuff on UI

00:20:00,630 --> 00:20:03,240
school

00:20:01,740 --> 00:20:05,130
you can learn impress in an angular

00:20:03,240 --> 00:20:07,110
bootcut or calm if you want to come to

00:20:05,130 --> 00:20:09,900
one of our classes and without further

00:20:07,110 --> 00:20:13,350
ado I would like to say thank you very

00:20:09,900 --> 00:20:14,880
much ng-conf 1500 people pleasures all

00:20:13,350 --> 00:20:19,149
mine thank you very much

00:20:14,880 --> 00:20:19,149

YouTube URL: https://www.youtube.com/watch?v=7ZbVSewN21A


