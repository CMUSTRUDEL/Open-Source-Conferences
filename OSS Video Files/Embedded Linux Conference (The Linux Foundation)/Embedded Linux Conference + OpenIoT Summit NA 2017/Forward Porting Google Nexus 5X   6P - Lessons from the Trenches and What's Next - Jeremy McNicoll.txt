Title: Forward Porting Google Nexus 5X   6P - Lessons from the Trenches and What's Next - Jeremy McNicoll
Publication date: 2017-02-27
Playlist: Embedded Linux Conference + OpenIoT Summit NA 2017
Description: 
	Forward Porting Google Nexus 5X / 6P - Lessons from the Trenches and What's Next - Jeremy McNicoll, Red Hat

An overview will be provided on the mainlining effort for Nexus 5X (msm8992) and Nexus 6P (msm8994), how we got here and where are we going. As well we plan on discussing what was learned from this experience and offer some tips for those brave (stubborn) enough to try something like this for themselves. This talk will provide a lighthearted overview on how (and why) we managed to get basic board support(1 CPU , serial, INITRD) mainlined to help kick off community participation. 

Originally this effort was planning on curing world hunger, but reality set in very quickly after an initial assessment of the MSM kernel tree vs. mainline and what it would take to move everything forward. Those interested in helping out may receive some parting gifts. 

About Jeremy McNicoll
Jeremy McNicoll works for Red Hat on the Platform Enablement team. He gets excited by very deep technically challenging problems and rides his trike for therapeutic purposes.
Captions: 
	00:00:00,030 --> 00:00:04,500
so I'd like to thank everybody for

00:00:02,060 --> 00:00:07,740
turning up right after lunch hopefully

00:00:04,500 --> 00:00:10,500
don't fall asleep and if you haven't had

00:00:07,740 --> 00:00:12,269
a chance try the food carts here they

00:00:10,500 --> 00:00:13,650
are absolutely fantastic there's a whole

00:00:12,269 --> 00:00:16,170
cluster of them and there's not just the

00:00:13,650 --> 00:00:17,880
one cluster close to here but there's a

00:00:16,170 --> 00:00:22,080
couple of other spots around the city

00:00:17,880 --> 00:00:24,539
that have just some fantastic food that

00:00:22,080 --> 00:00:26,359
you're never going to get in most other

00:00:24,539 --> 00:00:29,760
places in the u.s. it's a really good

00:00:26,359 --> 00:00:32,369
ethnic variety and a good combination of

00:00:29,760 --> 00:00:35,760
different things to try so thumbs up to

00:00:32,369 --> 00:00:38,940
the food carts in Portland so I'm Jeremy

00:00:35,760 --> 00:00:46,140
McNichol I'm from Red Hat and I decided

00:00:38,940 --> 00:00:50,600
to take on the large task of trying to

00:00:46,140 --> 00:00:55,949
get the Nexus 5x and 6p mainline

00:00:50,600 --> 00:00:58,649
so here's a brief overview of Who am I

00:00:55,949 --> 00:01:01,949
so if you recognize me and you were ever

00:00:58,649 --> 00:01:04,769
at an Ottawa Linux symposium I grew up

00:01:01,949 --> 00:01:09,689
in Ottawa and I pretty much went to most

00:01:04,769 --> 00:01:12,600
of the Oasis in Ottawa I was a repeat

00:01:09,689 --> 00:01:15,780
offender and a regular attendee of the

00:01:12,600 --> 00:01:17,640
local Linux community in Ottawa so if

00:01:15,780 --> 00:01:21,020
you've been to Ottawa and attended a

00:01:17,640 --> 00:01:21,020
tour last you probably recognize me

00:01:22,400 --> 00:01:28,680
these are some of the toys that keep me

00:01:25,350 --> 00:01:33,119
sane beyond playing with bits and bytes

00:01:28,680 --> 00:01:36,630
I love being outside I love bikes and

00:01:33,119 --> 00:01:38,880
riding bikes I recently went to maybe a

00:01:36,630 --> 00:01:40,170
year ago two years ago I went to Europe

00:01:38,880 --> 00:01:43,680
and while I was there I went to

00:01:40,170 --> 00:01:47,100
Amsterdam it was absolute bike heaven so

00:01:43,680 --> 00:01:50,880
this is on the left that's my trike that

00:01:47,100 --> 00:01:53,340
I used to ride in Ottawa I only had a

00:01:50,880 --> 00:01:54,960
cycling season of four months whereas

00:01:53,340 --> 00:01:58,649
now I'm in California and I get 12

00:01:54,960 --> 00:02:00,180
months a year which is just great and on

00:01:58,649 --> 00:02:02,219
the right hand side that's the Brompton

00:02:00,180 --> 00:02:04,229
I purchased when I was in Amsterdam and

00:02:02,219 --> 00:02:05,729
that's as I was purchasing it I took a

00:02:04,229 --> 00:02:07,110
picture of it it folds up into that

00:02:05,729 --> 00:02:09,000
suitcase and I can travel with it

00:02:07,110 --> 00:02:11,220
anywhere I recently went to Japan and

00:02:09,000 --> 00:02:13,530
took it with me and traveled everywhere

00:02:11,220 --> 00:02:15,120
on bike it was just awesome I haven't

00:02:13,530 --> 00:02:17,940
me here I did some riding this morning

00:02:15,120 --> 00:02:20,819
and there's my bike at the top my

00:02:17,940 --> 00:02:22,500
Brompton on top with a picture of it the

00:02:20,819 --> 00:02:24,420
Golden Gate Bridge in the background I

00:02:22,500 --> 00:02:26,970
live a couple of blocks from the Golden

00:02:24,420 --> 00:02:29,580
Gate Bridge right now so that's a little

00:02:26,970 --> 00:02:33,980
bit about myself and how what makes me

00:02:29,580 --> 00:02:36,660
tick so why did I take on this effort

00:02:33,980 --> 00:02:39,390
two people here I think it's really

00:02:36,660 --> 00:02:41,970
obvious the answer to people here

00:02:39,390 --> 00:02:43,800
because I know you guys get it is why

00:02:41,970 --> 00:02:48,720
not there's no mainline support for it

00:02:43,800 --> 00:02:51,480
and the really simple answer is why not

00:02:48,720 --> 00:02:55,560
let's just do it it's fun it's something

00:02:51,480 --> 00:03:01,230
I enjoy it's something that it's

00:02:55,560 --> 00:03:03,030
interesting it's challenging it's stuff

00:03:01,230 --> 00:03:04,860
that just keeps me it's better than

00:03:03,030 --> 00:03:07,560
watching TV or playing video games I

00:03:04,860 --> 00:03:09,989
mean that's it's more intellectually

00:03:07,560 --> 00:03:11,400
stimulating than watching TV so but you

00:03:09,989 --> 00:03:13,709
can do both at the same time I mean

00:03:11,400 --> 00:03:16,650
that's the sort of attitude that I have

00:03:13,709 --> 00:03:18,989
towards this it's a I almost feels like

00:03:16,650 --> 00:03:20,820
a hobby more than didn't work and when

00:03:18,989 --> 00:03:24,690
it feels like that it doesn't really

00:03:20,820 --> 00:03:26,760
it's not tedious it's not difficult to

00:03:24,690 --> 00:03:27,810
motivate yourself because you're not

00:03:26,760 --> 00:03:30,420
being forced to do it

00:03:27,810 --> 00:03:34,590
so it's it that's why I didn't mind

00:03:30,420 --> 00:03:39,140
taking it on when I took it on it was

00:03:34,590 --> 00:03:40,950
the current latest generation phone and

00:03:39,140 --> 00:03:42,780
I thought it would be a lot of fun

00:03:40,950 --> 00:03:46,079
because I know at some point Google is

00:03:42,780 --> 00:03:47,760
going to drop support for it and at that

00:03:46,079 --> 00:03:49,890
point when they drop support for it

00:03:47,760 --> 00:03:51,450
there are people in the community here

00:03:49,890 --> 00:03:54,120
that are going to want to keep playing

00:03:51,450 --> 00:03:56,040
with it for example the XDA community

00:03:54,120 --> 00:03:59,760
continues to hack on these phones long

00:03:56,040 --> 00:04:02,340
after they've been dropped by the

00:03:59,760 --> 00:04:04,350
mainline people or by Google or by

00:04:02,340 --> 00:04:08,280
whoever else that's pushing these phones

00:04:04,350 --> 00:04:10,310
as well I thought it'd be useful to do

00:04:08,280 --> 00:04:14,220
sort of the flagship phones so that

00:04:10,310 --> 00:04:17,190
others other vendors would hopefully get

00:04:14,220 --> 00:04:19,829
inspired to follow suit and say ok look

00:04:17,190 --> 00:04:22,169
this phone is mainlined maybe we should

00:04:19,829 --> 00:04:24,210
try to put in the effort to mainline our

00:04:22,169 --> 00:04:27,450
phones as well so sort of like saying ok

00:04:24,210 --> 00:04:28,740
look here's the cookie cutter exam

00:04:27,450 --> 00:04:30,720
of how you can go about getting your

00:04:28,740 --> 00:04:33,810
phone mainlined and the types of things

00:04:30,720 --> 00:04:35,790
you have to concern yourself with maybe

00:04:33,810 --> 00:04:37,440
other vendors can follow suit and and

00:04:35,790 --> 00:04:39,360
follow in the path that's gonna maybe

00:04:37,440 --> 00:04:41,610
inspire them to do the right thing

00:04:39,360 --> 00:04:43,440
instead of just putting their code

00:04:41,610 --> 00:04:45,720
somewhere to follow the letter of the

00:04:43,440 --> 00:04:48,510
GPL actually trying to get it into the

00:04:45,720 --> 00:04:50,580
main kernel and running there's no other

00:04:48,510 --> 00:04:53,160
reason for me motivation wise other than

00:04:50,580 --> 00:04:57,170
it's fun I work for the platform

00:04:53,160 --> 00:05:01,140
enablement team at Red Hat and this is

00:04:57,170 --> 00:05:05,070
our job or our job descriptions are kind

00:05:01,140 --> 00:05:10,500
of like we do whatever we don't really

00:05:05,070 --> 00:05:13,950
have a set job description so my job is

00:05:10,500 --> 00:05:15,060
typically supporting a row so that's our

00:05:13,950 --> 00:05:18,110
bread and butter that's where we make

00:05:15,060 --> 00:05:20,820
our money but my boss has said to me

00:05:18,110 --> 00:05:22,740
okay you can I want you to support rel

00:05:20,820 --> 00:05:24,030
but I want you to find things in the

00:05:22,740 --> 00:05:26,430
community you find interesting that you

00:05:24,030 --> 00:05:28,770
want to work on so I took this on I

00:05:26,430 --> 00:05:31,230
thought this would be a lot of fun and

00:05:28,770 --> 00:05:32,730
it's been very challenging and it's it's

00:05:31,230 --> 00:05:37,770
quite interesting I'm learning a lot

00:05:32,730 --> 00:05:39,860
about phones I had a fair background in

00:05:37,770 --> 00:05:44,010
the embedded world and the PowerPC world

00:05:39,860 --> 00:05:46,530
and then jumping into the foam world was

00:05:44,010 --> 00:05:48,240
a I guess some people would say a rude

00:05:46,530 --> 00:05:50,790
awakening or an absolute i opening

00:05:48,240 --> 00:05:53,000
experience that how the phone world does

00:05:50,790 --> 00:05:58,170
things compared to the simplistic

00:05:53,000 --> 00:06:01,740
PowerPC world is very very different

00:05:58,170 --> 00:06:05,490
I was I was quite it was definitely

00:06:01,740 --> 00:06:08,640
eye-opening I you know I just decided to

00:06:05,490 --> 00:06:11,100
jump in wholeheartedly and very naive

00:06:08,640 --> 00:06:15,030
kind of view go for it let's see what

00:06:11,100 --> 00:06:16,740
happens and I'll tell you the story

00:06:15,030 --> 00:06:19,050
about what happened so here's the specs

00:06:16,740 --> 00:06:22,290
I decided to actually include a slide

00:06:19,050 --> 00:06:24,660
and if when I post these with the specs

00:06:22,290 --> 00:06:26,040
for the phone themselves so that if you

00:06:24,660 --> 00:06:30,510
want to look at it I just took it from

00:06:26,040 --> 00:06:32,730
XDA arena and I grabbed the 5x and as

00:06:30,510 --> 00:06:33,720
well as it's pretty small but I made it

00:06:32,730 --> 00:06:35,100
small on purpose so I could fit

00:06:33,720 --> 00:06:38,010
everything in so if you can't read it I

00:06:35,100 --> 00:06:39,420
understand later on you'll be able to

00:06:38,010 --> 00:06:41,220
pull it up the specs are pretty

00:06:39,420 --> 00:06:43,080
straightforward they're all in the web

00:06:41,220 --> 00:06:47,310
publicly-available nothing nothing

00:06:43,080 --> 00:06:48,330
hidden I've got a list at the end of my

00:06:47,310 --> 00:06:50,430
presentation

00:06:48,330 --> 00:06:53,340
with links and references and I've

00:06:50,430 --> 00:06:55,230
included these links and references with

00:06:53,340 --> 00:06:58,950
that so you can just pull it up and look

00:06:55,230 --> 00:07:02,370
at it there or just google it exact same

00:06:58,950 --> 00:07:03,900
thing here is the specs what it came

00:07:02,370 --> 00:07:05,670
with it as time and things like that the

00:07:03,900 --> 00:07:09,450
dimensions so much memory it had the

00:07:05,670 --> 00:07:11,310
storage before I began there's some

00:07:09,450 --> 00:07:14,220
terminology some marketing terminology

00:07:11,310 --> 00:07:17,250
and then the terminology that the common

00:07:14,220 --> 00:07:19,350
engineer's normal folks tend to use I'm

00:07:17,250 --> 00:07:22,470
probably gonna use eight nine ninety-two

00:07:19,350 --> 00:07:26,490
which is on the 5x the marketing term is

00:07:22,470 --> 00:07:29,430
Snapdragon 808 it so just bear with me

00:07:26,490 --> 00:07:31,140
I'm gonna constantly use eighty nine

00:07:29,430 --> 00:07:33,810
ninety two verses eight and nine ninety

00:07:31,140 --> 00:07:36,120
four that's why I put I can't seem to

00:07:33,810 --> 00:07:38,340
remember the marketing terms I stick to

00:07:36,120 --> 00:07:40,260
the the more technical terms it's easier

00:07:38,340 --> 00:07:41,610
to remember for me and then the other

00:07:40,260 --> 00:07:43,470
term you're gonna want to get used to is

00:07:41,610 --> 00:07:47,910
downstream so downstream is anything

00:07:43,470 --> 00:07:50,160
that's not in kernel.org be it MSM three

00:07:47,910 --> 00:07:52,590
ten the one that's published on Google

00:07:50,160 --> 00:07:54,990
or published on quote Aurora I consider

00:07:52,590 --> 00:07:56,580
that downstream and those are the terms

00:07:54,990 --> 00:07:59,010
that I'm going to use throughout this

00:07:56,580 --> 00:08:01,500
just so that you're familiar with it and

00:07:59,010 --> 00:08:03,540
the integration branch is something that

00:08:01,500 --> 00:08:07,800
the llanera folks who are doing a

00:08:03,540 --> 00:08:09,420
fantastic job at mainlining things they

00:08:07,800 --> 00:08:12,900
have something called an integration

00:08:09,420 --> 00:08:14,910
branch and that's also a term and it's

00:08:12,900 --> 00:08:18,510
I've got a link to it at the end of my

00:08:14,910 --> 00:08:19,890
presentation they call they use the term

00:08:18,510 --> 00:08:21,060
integration branches where they put all

00:08:19,890 --> 00:08:22,830
their all the different pieces that

00:08:21,060 --> 00:08:25,680
people are working on into one common

00:08:22,830 --> 00:08:27,300
spot so people can work as a team xinlin

00:08:25,680 --> 00:08:29,430
arrow on these on these sorts of things

00:08:27,300 --> 00:08:31,680
so where did this all start

00:08:29,430 --> 00:08:33,210
the last ELC and San Diego that I

00:08:31,680 --> 00:08:36,030
attended I think there was other real

00:08:33,210 --> 00:08:40,500
C's or other conferences the one that I

00:08:36,030 --> 00:08:43,500
went to was in San Diego and I was kind

00:08:40,500 --> 00:08:47,910
of poking around the idea of trying to

00:08:43,500 --> 00:08:49,950
get the Nexus 5 ax mainlined because I

00:08:47,910 --> 00:08:52,440
was looking at it and I said okay maybe

00:08:49,950 --> 00:08:54,210
I'll go take a look and see if the phone

00:08:52,440 --> 00:08:54,690
is working with the latest in various

00:08:54,210 --> 00:08:56,699
kernel

00:08:54,690 --> 00:08:58,980
sure enough it wasn't there I saw

00:08:56,699 --> 00:09:03,209
different bits and pieces about things

00:08:58,980 --> 00:09:04,800
that were working and weren't working

00:09:03,209 --> 00:09:06,870
and I was like okay what is what is this

00:09:04,800 --> 00:09:09,300
maybe it'll actually just work so I went

00:09:06,870 --> 00:09:11,129
and bought the phone and I turned up to

00:09:09,300 --> 00:09:12,120
the conference it was like a week before

00:09:11,129 --> 00:09:13,920
the conference turned up to the

00:09:12,120 --> 00:09:15,269
conference and ran into a bunch of

00:09:13,920 --> 00:09:16,769
people from Ottawa that I knew that

00:09:15,269 --> 00:09:18,089
working for Allan arrow or other people

00:09:16,769 --> 00:09:20,939
that different companies from Ottawa

00:09:18,089 --> 00:09:23,160
that I'd already knew and talked to them

00:09:20,939 --> 00:09:25,410
and said hey I've got this phone I'd

00:09:23,160 --> 00:09:27,689
like to try to get it to work on main

00:09:25,410 --> 00:09:29,069
line and their initial reaction is a

00:09:27,689 --> 00:09:31,680
little chuckle and then they're like are

00:09:29,069 --> 00:09:34,949
you sure yeah why not I'd be great fun

00:09:31,680 --> 00:09:36,959
sure so they're like okay so how do I

00:09:34,949 --> 00:09:39,180
get serial console as an embedded person

00:09:36,959 --> 00:09:42,829
the first thing out of my mind is I need

00:09:39,180 --> 00:09:46,199
cereal and that was the first challenge

00:09:42,829 --> 00:09:47,850
because of the great people there and

00:09:46,199 --> 00:09:51,149
the great people within the community it

00:09:47,850 --> 00:09:56,310
was a matter of me talking to these

00:09:51,149 --> 00:09:57,870
people and saying you know okay I want

00:09:56,310 --> 00:10:00,269
to actually try to get this phone

00:09:57,870 --> 00:10:03,120
working I mean I said well how hard

00:10:00,269 --> 00:10:04,290
could it be you've got downstream

00:10:03,120 --> 00:10:06,810
support you've got a kernel that's

00:10:04,290 --> 00:10:09,720
already published by Qualcomm or Google

00:10:06,810 --> 00:10:11,819
I mean it's 310 based it was at the time

00:10:09,720 --> 00:10:13,350
it was four three or four four I said

00:10:11,819 --> 00:10:15,480
that's pretty small Delta it can't be

00:10:13,350 --> 00:10:17,550
that bad I mean nothing's really changed

00:10:15,480 --> 00:10:20,329
I mean how hard can it be is just to do

00:10:17,550 --> 00:10:23,730
a diff and you're off to the races and

00:10:20,329 --> 00:10:26,939
then I ran into oh there Steven Boyd's

00:10:23,730 --> 00:10:30,019
presentation on the MSM Fork and it was

00:10:26,939 --> 00:10:33,540
like 1.5 billion lines of code

00:10:30,019 --> 00:10:35,910
okay that's when I sort of reality set

00:10:33,540 --> 00:10:37,860
in and I'm like this may be a little bit

00:10:35,910 --> 00:10:42,329
more challenging than I originally

00:10:37,860 --> 00:10:45,660
anticipated so so I said you know what

00:10:42,329 --> 00:10:47,130
why not this is this is I'm a glutton

00:10:45,660 --> 00:10:50,600
for punishment so let's just let's just

00:10:47,130 --> 00:10:53,819
do this and have fun so I actually I

00:10:50,600 --> 00:10:57,149
actually decided to go at it a whole hog

00:10:53,819 --> 00:10:59,100
and and and then have fun and see what

00:10:57,149 --> 00:11:01,079
would happen so I talked to the people

00:10:59,100 --> 00:11:02,519
at the conference I said you know what

00:11:01,079 --> 00:11:05,809
do i do where do I even start

00:11:02,519 --> 00:11:08,020
so because they were people were just so

00:11:05,809 --> 00:11:10,510
helpful and considerate

00:11:08,020 --> 00:11:12,520
and calling typical of the Linux

00:11:10,510 --> 00:11:14,860
community and it's it's something I

00:11:12,520 --> 00:11:17,649
can't emphasize enough that regardless

00:11:14,860 --> 00:11:20,440
of the fact that people are in all these

00:11:17,649 --> 00:11:22,990
different companies and every every

00:11:20,440 --> 00:11:25,240
other company has got you know they're

00:11:22,990 --> 00:11:27,520
all differing opinions about how to do

00:11:25,240 --> 00:11:28,959
things at the upper levels but the

00:11:27,520 --> 00:11:30,940
people that attend these things and the

00:11:28,959 --> 00:11:34,470
Linux people within these companies all

00:11:30,940 --> 00:11:38,890
have the same sort of mentality of

00:11:34,470 --> 00:11:42,399
helpfulness willing to offer advice even

00:11:38,890 --> 00:11:45,490
if you don't want it you know reach out

00:11:42,399 --> 00:11:47,770
to people whenever somebody asks for

00:11:45,490 --> 00:11:48,910
help I mean this is this is typical of

00:11:47,770 --> 00:11:52,420
the community that I was used to in

00:11:48,910 --> 00:11:54,839
Ottawa and I'm seeing it continuing on

00:11:52,420 --> 00:11:58,570
you know obviously it's not perfect but

00:11:54,839 --> 00:12:00,730
it's actually a very good thing to see

00:11:58,570 --> 00:12:02,980
and to be part of and that's what one of

00:12:00,730 --> 00:12:04,120
the reasons why I wanted to I wanted to

00:12:02,980 --> 00:12:07,510
do this I thought it'd be fun to give

00:12:04,120 --> 00:12:09,430
back a bit to something that you know

00:12:07,510 --> 00:12:11,170
there was no support for it's fun let's

00:12:09,430 --> 00:12:16,930
just get it working the typical the next

00:12:11,170 --> 00:12:19,540
mentality of why not and at at that

00:12:16,930 --> 00:12:22,180
embedded conference in San Diego at the

00:12:19,540 --> 00:12:25,000
end of the day of the that I was asking

00:12:22,180 --> 00:12:28,480
about building a debug table I was able

00:12:25,000 --> 00:12:30,579
to walk away that night I drove to Fry's

00:12:28,480 --> 00:12:34,470
there's a Fry's in San Diego I literally

00:12:30,579 --> 00:12:38,970
drove to Fry's at night and bought the

00:12:34,470 --> 00:12:41,800
board that the llanera folks suggested

00:12:38,970 --> 00:12:45,160
that they used for a lot of their

00:12:41,800 --> 00:12:46,570
targets for their lab and it was simply

00:12:45,160 --> 00:12:49,779
one of these boards that you get for

00:12:46,570 --> 00:12:53,950
like I don't know what you call it

00:12:49,779 --> 00:12:55,930
Arduino or those BeagleBone black sand

00:12:53,950 --> 00:12:58,959
it's just an FTDI chip set with 3.3

00:12:55,930 --> 00:13:01,060
volts and 5 volts switchable and you

00:12:58,959 --> 00:13:04,329
just had to I said to buy a cable with

00:13:01,060 --> 00:13:07,829
the ear jack that plugs into the phone's

00:13:04,329 --> 00:13:07,829
let me grab the two phones here

00:13:09,880 --> 00:13:16,340
so here's the two phones when I turned

00:13:12,320 --> 00:13:18,950
up to San Diego I literally had the

00:13:16,340 --> 00:13:20,660
Nexus 5x in my hands and I said you know

00:13:18,950 --> 00:13:22,220
this is this is this is what I want to

00:13:20,660 --> 00:13:23,780
do I just got a phone I got a charging

00:13:22,220 --> 00:13:26,030
cable how do I get to the real console

00:13:23,780 --> 00:13:28,220
and they said you know somebody that I

00:13:26,030 --> 00:13:29,540
knew that was part of lunaire Oh

00:13:28,220 --> 00:13:31,220
introduced me to somebody else

00:13:29,540 --> 00:13:33,080
introduced me somebody else and that

00:13:31,220 --> 00:13:35,360
person was like this is what you need

00:13:33,080 --> 00:13:38,480
here's the equipment that you need you

00:13:35,360 --> 00:13:40,250
know cut the wire here split it these

00:13:38,480 --> 00:13:40,580
are the colors that go here here and

00:13:40,250 --> 00:13:43,460
here

00:13:40,580 --> 00:13:46,640
and literally that night every time I

00:13:43,460 --> 00:13:48,590
travel I carry duct tape and you know

00:13:46,640 --> 00:13:51,350
toenail toenail clippers and literally

00:13:48,590 --> 00:13:54,470
that's the picture of that night when I

00:13:51,350 --> 00:13:57,740
got back after the conference I cut the

00:13:54,470 --> 00:13:59,420
wire stripped it and attached it to the

00:13:57,740 --> 00:14:01,520
board that I bought at Fry's in San

00:13:59,420 --> 00:14:04,850
Diego and I had a fully functioning

00:14:01,520 --> 00:14:06,980
debug cable within five or six hours of

00:14:04,850 --> 00:14:09,290
asking how to get it to work so it's a

00:14:06,980 --> 00:14:12,850
true testament to you know duct tape and

00:14:09,290 --> 00:14:15,170
and the the helpfulness of the community

00:14:12,850 --> 00:14:16,640
so that's that's a picture of yeah you

00:14:15,170 --> 00:14:19,460
can get it working without all kinds of

00:14:16,640 --> 00:14:21,980
fancy soldering and electronics and all

00:14:19,460 --> 00:14:27,280
this fun stuff just you know it's it's

00:14:21,980 --> 00:14:29,030
the way a real work happens and then the

00:14:27,280 --> 00:14:31,310
while I was there I was talking to

00:14:29,030 --> 00:14:33,170
different people and they said okay you

00:14:31,310 --> 00:14:37,010
know once you get up and running you're

00:14:33,170 --> 00:14:38,270
gonna have various problems that aren't

00:14:37,010 --> 00:14:41,600
things that at the time things weren't

00:14:38,270 --> 00:14:42,200
mainline so Stephen Boyd there he is

00:14:41,600 --> 00:14:44,180
right there

00:14:42,200 --> 00:14:46,240
was kind enough to put me in touch with

00:14:44,180 --> 00:14:50,750
a guy in Germany by the name of

00:14:46,240 --> 00:14:52,550
Bastian kosher and he had done the

00:14:50,750 --> 00:14:58,120
global clock support or the baseline

00:14:52,550 --> 00:15:03,770
support for clocks which was common for

00:14:58,120 --> 00:15:07,640
a loud was common between the 5x and 6p

00:15:03,770 --> 00:15:10,880
or the 89 92 and the 89 94 so I

00:15:07,640 --> 00:15:12,770
contacted him and while I was you know

00:15:10,880 --> 00:15:15,589
contacting different people and and

00:15:12,770 --> 00:15:17,510
contacting the guy in Germany and trying

00:15:15,589 --> 00:15:20,839
to get the information from him and get

00:15:17,510 --> 00:15:22,620
his patches I started looking at the

00:15:20,839 --> 00:15:25,110
Delta between

00:15:22,620 --> 00:15:27,780
3:10 and and whatever mainline was to

00:15:25,110 --> 00:15:29,730
see just a diff to see what I could do

00:15:27,780 --> 00:15:32,040
and see if it was possible and think

00:15:29,730 --> 00:15:33,690
through possible scenarios and I thought

00:15:32,040 --> 00:15:35,700
ok I could try to do the whole phone at

00:15:33,690 --> 00:15:37,050
once which is kind of foolish I've been

00:15:35,700 --> 00:15:38,790
in this industry long enough and I've

00:15:37,050 --> 00:15:41,390
done enough in bed at work that trying

00:15:38,790 --> 00:15:44,430
to do the whole phone in one fell swoop

00:15:41,390 --> 00:15:46,560
would just be almost impossible so I

00:15:44,430 --> 00:15:48,690
thought okay what would be the best way

00:15:46,560 --> 00:15:52,350
to approach this so that it's the least

00:15:48,690 --> 00:15:55,530
amount of work to get people going who

00:15:52,350 --> 00:15:57,690
would possibly want to help and I

00:15:55,530 --> 00:16:01,710
thought okay the easiest thing would be

00:15:57,690 --> 00:16:04,350
one CPU running off in an it Rd with

00:16:01,710 --> 00:16:05,940
serial or debug serial so that's the way

00:16:04,350 --> 00:16:08,580
that I approached it I thought that is

00:16:05,940 --> 00:16:10,410
the least amount of work to allow things

00:16:08,580 --> 00:16:12,390
to happen in parallel and get that main

00:16:10,410 --> 00:16:14,550
line work on on getting that main line

00:16:12,390 --> 00:16:17,010
once that's main line then people can

00:16:14,550 --> 00:16:19,550
start adding pieces and can start

00:16:17,010 --> 00:16:21,930
looking at other stuff in parallel and

00:16:19,550 --> 00:16:23,430
that's the whole idea if you try to do

00:16:21,930 --> 00:16:25,920
the whole thing yourself it'll take you

00:16:23,430 --> 00:16:27,990
six months you'll have to rebase things

00:16:25,920 --> 00:16:32,160
will change so much whereas if you get

00:16:27,990 --> 00:16:33,840
some initial work in main line you your

00:16:32,160 --> 00:16:37,110
stuff is going to get carry-forward and

00:16:33,840 --> 00:16:39,240
anybody that changes an API or an ABI or

00:16:37,110 --> 00:16:41,010
whatever you want to call it has to make

00:16:39,240 --> 00:16:42,330
sure that your stuff continues to work

00:16:41,010 --> 00:16:44,010
and that's sort of the agreement the

00:16:42,330 --> 00:16:45,870
unwritten agreement within the community

00:16:44,010 --> 00:16:47,820
but if you make a sweeping change you've

00:16:45,870 --> 00:16:50,730
got to verify that everything is working

00:16:47,820 --> 00:16:52,050
or at least contact the person somebody

00:16:50,730 --> 00:16:53,220
that has the hardware they can test it

00:16:52,050 --> 00:16:56,100
for you to make sure you haven't broken

00:16:53,220 --> 00:16:59,550
anything so this is why I wanted to get

00:16:56,100 --> 00:17:01,200
it you know in early and often one

00:16:59,550 --> 00:17:03,510
people will change it for you and

00:17:01,200 --> 00:17:06,540
maintain it for you too it's going to

00:17:03,510 --> 00:17:08,820
allow other people just to get going and

00:17:06,540 --> 00:17:11,310
to help out as much as possible and that

00:17:08,820 --> 00:17:13,710
was kind of my goal so I put together a

00:17:11,310 --> 00:17:15,120
quick list of what's working instead of

00:17:13,710 --> 00:17:18,720
saying this is what I need help with or

00:17:15,120 --> 00:17:20,460
this is what's remaining I thought why

00:17:18,720 --> 00:17:24,060
don't I just make a quick list of what I

00:17:20,460 --> 00:17:26,310
know is currently functioning as of two

00:17:24,060 --> 00:17:30,270
nights ago three nights ago and where

00:17:26,310 --> 00:17:34,050
things stand you'll look at so we have

00:17:30,270 --> 00:17:35,900
one CPU going on both phones I tested it

00:17:34,050 --> 00:17:39,180
it's fully functioning

00:17:35,900 --> 00:17:40,980
so I got both both phones fully

00:17:39,180 --> 00:17:44,190
functioning at this point I can test

00:17:40,980 --> 00:17:45,900
both of them now I've got an idiot Rd or

00:17:44,190 --> 00:17:48,930
ramdisk what do you want to call it

00:17:45,900 --> 00:17:52,200
I've got debug serial through the debug

00:17:48,930 --> 00:17:55,200
port that should be here somewhere

00:17:52,200 --> 00:17:58,260
I didn't bring it with me

00:17:55,200 --> 00:17:58,740
I forgot the debug cable back in the

00:17:58,260 --> 00:18:02,910
hotel

00:17:58,740 --> 00:18:08,190
I've got onboard storage going I sent

00:18:02,910 --> 00:18:10,380
out some onboard SDHC I and MMC patches

00:18:08,190 --> 00:18:11,880
I don't think I'm not sure if they've

00:18:10,380 --> 00:18:16,140
been picked up I have to loop back and

00:18:11,880 --> 00:18:19,200
see I know the clocks the clock work for

00:18:16,140 --> 00:18:21,570
that was merged but the actual DT or

00:18:19,200 --> 00:18:23,850
device tree changes I'm not sure where

00:18:21,570 --> 00:18:25,920
they stand if they haven't been merged

00:18:23,850 --> 00:18:27,570
at this point I'll loop back around in a

00:18:25,920 --> 00:18:31,110
couple of days and do a resend of the

00:18:27,570 --> 00:18:34,770
latest version of DT key changes to see

00:18:31,110 --> 00:18:37,770
to get some more eyes on them for review

00:18:34,770 --> 00:18:40,860
the pin control stuff from the llanera

00:18:37,770 --> 00:18:45,900
folks I did maybe 85% of it myself

00:18:40,860 --> 00:18:47,490
and then the llanera folks had I think

00:18:45,900 --> 00:18:50,970
they had already started it or they had

00:18:47,490 --> 00:18:53,310
something which was close and they were

00:18:50,970 --> 00:18:56,010
able to I believe is Michael Scott sent

00:18:53,310 --> 00:18:57,720
something out and it got merged so the

00:18:56,010 --> 00:19:02,280
pin control stuff is fully functioning

00:18:57,720 --> 00:19:07,920
now and I'm you know after I send out

00:19:02,280 --> 00:19:10,500
the MMC or SDHC I stuff I was discussing

00:19:07,920 --> 00:19:12,300
people different ideas with people of

00:19:10,500 --> 00:19:16,350
plumbers and I looked at the various

00:19:12,300 --> 00:19:18,720
things that they know that we're working

00:19:16,350 --> 00:19:20,070
or were not and I wasn't sure you know

00:19:18,720 --> 00:19:22,710
what was the next piece I wanted to

00:19:20,070 --> 00:19:25,620
tackle and I had some discussions I

00:19:22,710 --> 00:19:27,870
thought that instead of me telling you

00:19:25,620 --> 00:19:30,630
know standing around and and talking to

00:19:27,870 --> 00:19:31,830
you guys I'm just saying you know okay

00:19:30,630 --> 00:19:35,180
this is where it's at this is what we've

00:19:31,830 --> 00:19:37,350
done here's a few things I would like to

00:19:35,180 --> 00:19:39,390
have sort of an open discussion or a

00:19:37,350 --> 00:19:41,490
brainstorming session with you guys for

00:19:39,390 --> 00:19:43,950
the different pieces that we could

00:19:41,490 --> 00:19:45,450
potentially notice but I said we I don't

00:19:43,950 --> 00:19:48,900
want it to be me and like you guys to

00:19:45,450 --> 00:19:51,180
help so we could potentially tackle

00:19:48,900 --> 00:19:56,430
next or some of the pieces that would

00:19:51,180 --> 00:19:59,070
give us the most bang for our buck yes

00:19:56,430 --> 00:20:02,190
all the patches have been submitted SDHC

00:19:59,070 --> 00:20:05,510
i or the on-board storage has i don't

00:20:02,190 --> 00:20:09,360
know if it's been mainline but literally

00:20:05,510 --> 00:20:13,770
as you can see here it's in 410 rc1 it

00:20:09,360 --> 00:20:15,390
got picked up and the honour it is if

00:20:13,770 --> 00:20:18,870
you want to use it all you need a debug

00:20:15,390 --> 00:20:20,130
cable and doing an it rd you can take a

00:20:18,870 --> 00:20:23,310
look at the at the end of my

00:20:20,130 --> 00:20:24,960
presentation i've included a list of

00:20:23,310 --> 00:20:29,190
references and as part of those

00:20:24,960 --> 00:20:33,210
references I've got my lead into my

00:20:29,190 --> 00:20:36,390
initial changes had a set of had a bunch

00:20:33,210 --> 00:20:38,910
of details on the compiler I used the

00:20:36,390 --> 00:20:40,470
branch and things like that so it's just

00:20:38,910 --> 00:20:42,900
a matter of getting a cross compiler

00:20:40,470 --> 00:20:45,900
going from llanera or wherever you want

00:20:42,900 --> 00:20:48,180
and compile it up and then load it onto

00:20:45,900 --> 00:20:50,040
your aren't your phone it's pretty

00:20:48,180 --> 00:20:50,990
straightforward it's it it's actually

00:20:50,040 --> 00:20:54,270
working

00:20:50,990 --> 00:20:55,950
that is one commit that it didn't go in

00:20:54,270 --> 00:21:00,290
into one big chunk it went in through

00:20:55,950 --> 00:21:01,880
device tree through DT bindings through

00:21:00,290 --> 00:21:06,750
what else

00:21:01,880 --> 00:21:09,510
some config changes and then the actual

00:21:06,750 --> 00:21:10,670
device tree changes themselves but it's

00:21:09,510 --> 00:21:13,050
all been mainlined

00:21:10,670 --> 00:21:18,650
and the clocks are there as well the

00:21:13,050 --> 00:21:21,570
clocks went through the clock tree so I

00:21:18,650 --> 00:21:24,810
just want to give full credit and and

00:21:21,570 --> 00:21:27,960
thumbs up to Bastion Koecher he did a

00:21:24,810 --> 00:21:30,060
hope I didn't miss pronounce his name he

00:21:27,960 --> 00:21:32,970
did a fantastic job and getting these

00:21:30,060 --> 00:21:35,010
global clocks working if it wasn't for

00:21:32,970 --> 00:21:38,820
him I think I would have been scratching

00:21:35,010 --> 00:21:40,020
my head a lot longer and he he really

00:21:38,820 --> 00:21:42,150
pulled it together and he did a great

00:21:40,020 --> 00:21:45,150
job I was quite impressed with his

00:21:42,150 --> 00:21:47,370
effort in getting the clocks being able

00:21:45,150 --> 00:21:51,860
to pull the clocks together and working

00:21:47,370 --> 00:21:55,560
so it's a true testament to you know

00:21:51,860 --> 00:21:57,360
geographically diverse people talking

00:21:55,560 --> 00:21:59,010
and working together for a common

00:21:57,360 --> 00:22:02,790
interest was was actually quite nice to

00:21:59,010 --> 00:22:07,740
see so here's an example

00:22:02,790 --> 00:22:10,830
of what was needed for yeah the yellow

00:22:07,740 --> 00:22:12,900
okay so I highlighted the yellow on

00:22:10,830 --> 00:22:15,180
purpose so it's there to show you that

00:22:12,900 --> 00:22:16,920
the string that I highlighted if you

00:22:15,180 --> 00:22:20,610
look it's all the same string it's it's

00:22:16,920 --> 00:22:22,320
BL SP one underscore UART one underscore

00:22:20,610 --> 00:22:26,070
apps underscore o'clock underscore

00:22:22,320 --> 00:22:29,310
source if your forward porting anything

00:22:26,070 --> 00:22:31,710
at all please try to keep the names

00:22:29,310 --> 00:22:33,870
similar because it's going to make

00:22:31,710 --> 00:22:37,050
people's lives when you're rapping to

00:22:33,870 --> 00:22:38,760
trees a little bit easier and it's gonna

00:22:37,050 --> 00:22:40,680
make you know from my perspective

00:22:38,760 --> 00:22:42,540
gripping trees and looking at the older

00:22:40,680 --> 00:22:44,970
kernel versus a newer kernel try to

00:22:42,540 --> 00:22:46,920
understand what was done before versus

00:22:44,970 --> 00:22:48,960
now for example on the MS I'm eighty

00:22:46,920 --> 00:22:50,670
nine ninety six trying to look at the

00:22:48,960 --> 00:22:53,550
older kernels comparing it to what's

00:22:50,670 --> 00:22:55,680
there now keep the names the same to

00:22:53,550 --> 00:22:57,750
make people's lives easier or at least

00:22:55,680 --> 00:23:02,010
as close as possible so you get some

00:22:57,750 --> 00:23:04,530
kind of clue as to what this variable or

00:23:02,010 --> 00:23:08,280
what this thing does or is that was the

00:23:04,530 --> 00:23:11,340
one problem I had so this is an example

00:23:08,280 --> 00:23:14,850
of what was done on the left is main

00:23:11,340 --> 00:23:17,100
line and that is what he used as a

00:23:14,850 --> 00:23:20,040
reference the eighty nine sixteen

00:23:17,100 --> 00:23:23,700
because it was in the three ten kernel

00:23:20,040 --> 00:23:25,110
at the time and there's the main line

00:23:23,700 --> 00:23:27,930
version so you can see it's fairly

00:23:25,110 --> 00:23:30,660
similar but there's enough differences

00:23:27,930 --> 00:23:33,000
that if you're sort of like okay it's

00:23:30,660 --> 00:23:37,770
not quite the same but similar enough

00:23:33,000 --> 00:23:39,840
that you can kind of guess but there's

00:23:37,770 --> 00:23:41,550
other problems there's other little

00:23:39,840 --> 00:23:43,680
subtleties and some of the some of the

00:23:41,550 --> 00:23:45,080
names aren't quite similar and some of

00:23:43,680 --> 00:23:47,010
the clocks aren't quite similar so

00:23:45,080 --> 00:23:50,340
that's where you start getting tripped

00:23:47,010 --> 00:23:51,870
up it is it is the other issue that we

00:23:50,340 --> 00:23:53,970
had and the other issue that he wanted

00:23:51,870 --> 00:23:55,620
me to bring up to make sure people are

00:23:53,970 --> 00:24:00,000
aware of is the lack of documentation

00:23:55,620 --> 00:24:03,900
there's nothing out there produced by

00:24:00,000 --> 00:24:08,490
the vendors to give to the public so I

00:24:03,900 --> 00:24:10,740
wanted to when I first set out I wanted

00:24:08,490 --> 00:24:12,300
to go and find the documentation for

00:24:10,740 --> 00:24:13,530
this before I started and I couldn't

00:24:12,300 --> 00:24:16,580
find it anywhere

00:24:13,530 --> 00:24:21,300
I knew people in Qualcomm who had the

00:24:16,580 --> 00:24:24,990
ability to provide the documentation to

00:24:21,300 --> 00:24:27,690
us and they still even on an NDA they

00:24:24,990 --> 00:24:31,140
still wouldn't provide it to us so I was

00:24:27,690 --> 00:24:33,600
I was it's unfortunate I'm not gonna

00:24:31,140 --> 00:24:35,240
judge either way that's not why I'm here

00:24:33,600 --> 00:24:37,380
I'm just trying to let people know that

00:24:35,240 --> 00:24:40,170
having the documentation would be a nice

00:24:37,380 --> 00:24:42,480
thing but it's not essential if the code

00:24:40,170 --> 00:24:43,770
is published you can use the code as a

00:24:42,480 --> 00:24:48,240
reference it makes life a little bit

00:24:43,770 --> 00:24:52,230
more difficult but it is doable so you

00:24:48,240 --> 00:24:54,510
know I I don't care either way hey

00:24:52,230 --> 00:24:56,700
ideally documentation and having it

00:24:54,510 --> 00:24:59,870
available freely an opening and being

00:24:56,700 --> 00:25:03,240
able to sign an NDA would be even better

00:24:59,870 --> 00:25:05,850
but using downstream code is fine

00:25:03,240 --> 00:25:07,890
that way when somebody reviews your code

00:25:05,850 --> 00:25:09,990
and says hey you haven't done it quite

00:25:07,890 --> 00:25:13,500
correctly well that's how downstream did

00:25:09,990 --> 00:25:15,240
it sorry you know unless you somebody

00:25:13,500 --> 00:25:17,910
from Qualcomm or quote Aurora

00:25:15,240 --> 00:25:19,710
Orlin arrow can explain to me why it was

00:25:17,910 --> 00:25:22,530
done like that before

00:25:19,710 --> 00:25:26,280
that's what you're gonna get so that's

00:25:22,530 --> 00:25:29,150
what happens it's it just benefits

00:25:26,280 --> 00:25:33,680
everybody if somebody can explain it or

00:25:29,150 --> 00:25:37,200
if the documentation available but -

00:25:33,680 --> 00:25:41,960
Qualcomm and Cort Aurora and lunaire

00:25:37,200 --> 00:25:45,200
owes credit they've been fantastic at

00:25:41,960 --> 00:25:49,050
providing document not documentation but

00:25:45,200 --> 00:25:50,100
answers on IRC and through email and

00:25:49,050 --> 00:25:51,840
they've been very cooperative and

00:25:50,100 --> 00:25:53,730
collaborative from the different people

00:25:51,840 --> 00:25:56,040
I've worked with I've got nothing but

00:25:53,730 --> 00:25:58,980
praise for them as a company to work

00:25:56,040 --> 00:26:01,380
with and collaborate with as well as the

00:25:58,980 --> 00:26:04,650
people at llanera so this is an example

00:26:01,380 --> 00:26:07,430
and it kind of looks close but it's so

00:26:04,650 --> 00:26:09,540
slight it's it's different enough that

00:26:07,430 --> 00:26:11,460
it's not something you want to tackle

00:26:09,540 --> 00:26:13,710
after a couple of years you want to be

00:26:11,460 --> 00:26:15,390
pretty you know a cup of coffee and then

00:26:13,710 --> 00:26:17,010
scratch your head a little bit and you

00:26:15,390 --> 00:26:18,900
can see there's some subtleties and some

00:26:17,010 --> 00:26:22,230
some similarities that you can probably

00:26:18,900 --> 00:26:26,029
tackle it here's another example of the

00:26:22,230 --> 00:26:30,440
downstream version versus the

00:26:26,029 --> 00:26:35,289
mainline version of oh that's actually

00:26:30,440 --> 00:26:37,669
should be on the left it should be 96

00:26:35,289 --> 00:26:38,239
that's a typo I'll fix that before I

00:26:37,669 --> 00:26:42,259
post it

00:26:38,239 --> 00:26:44,210
so as you can see okay so this is an

00:26:42,259 --> 00:26:45,710
actually no it's not this is the version

00:26:44,210 --> 00:26:49,190
that I'm looking at because I'm looking

00:26:45,710 --> 00:26:50,479
at PCI and I'm trying to figure out

00:26:49,190 --> 00:26:54,529
because one of the things I'm thinking

00:26:50,479 --> 00:26:56,299
about tackling next is bluetooth and PCI

00:26:54,529 --> 00:26:58,909
is one of them and I'm trying to figure

00:26:56,299 --> 00:27:01,729
out okay how does what PCI clocks and

00:26:58,909 --> 00:27:04,039
what branches do I need and I know that

00:27:01,729 --> 00:27:05,659
the eighty nine ninety two clocks are

00:27:04,039 --> 00:27:07,789
fairly similar I think they're fairly

00:27:05,659 --> 00:27:09,619
similar to the eighty nine ninety six so

00:27:07,789 --> 00:27:11,570
I'm trying to find some breadcrumbs in

00:27:09,619 --> 00:27:14,690
the current version of the nine ninety

00:27:11,570 --> 00:27:17,659
six that I can use to understand the

00:27:14,690 --> 00:27:19,669
eighty nine ninety two versions so in

00:27:17,659 --> 00:27:21,289
the downstream so these are the kind of

00:27:19,669 --> 00:27:22,639
things that you have to sort of get

00:27:21,289 --> 00:27:24,979
right brace yourself for when you're

00:27:22,639 --> 00:27:26,899
looking there's you kinda have to guess

00:27:24,979 --> 00:27:29,659
and maybe hope that some of the

00:27:26,899 --> 00:27:31,309
breadcrumbs of what's there match up

00:27:29,659 --> 00:27:34,149
what you can find and see if you can

00:27:31,309 --> 00:27:37,039
kind of connect the dots so here's a

00:27:34,149 --> 00:27:41,539
quick sampling of the files that are

00:27:37,039 --> 00:27:44,149
available in downstream on the top is

00:27:41,539 --> 00:27:47,570
downstream on the bottom is main line

00:27:44,149 --> 00:27:49,549
and main line there's not that many

00:27:47,570 --> 00:27:51,889
clocks hopefully we'll get the clock

00:27:49,549 --> 00:27:54,049
people to add a few more but that's just

00:27:51,889 --> 00:27:58,099
my hopefulness and wishful thinking and

00:27:54,049 --> 00:28:01,039
then the top window is what's there for

00:27:58,099 --> 00:28:03,349
the downstream stuff and you'll see that

00:28:01,039 --> 00:28:05,059
it's there's a lot of them and there's a

00:28:03,349 --> 00:28:07,369
lot of various clocks and a lot of

00:28:05,059 --> 00:28:09,200
different things that you try to match

00:28:07,369 --> 00:28:11,869
them up and try to piece it together and

00:28:09,200 --> 00:28:15,710
it's it's it gets kind of it can be kind

00:28:11,869 --> 00:28:17,989
of difficult I was using 310 as a

00:28:15,710 --> 00:28:19,249
reference but somebody from llanera

00:28:17,989 --> 00:28:23,029
pointed out that there was actually a

00:28:19,249 --> 00:28:25,580
318 version which matched up with the 89

00:28:23,029 --> 00:28:27,379
96 so now I've been using that and it's

00:28:25,580 --> 00:28:30,169
been kind of helpful I couldn't find it

00:28:27,379 --> 00:28:32,059
before but it took some click here click

00:28:30,169 --> 00:28:33,559
there click there go to corridor and

00:28:32,059 --> 00:28:36,710
click there click there do this click

00:28:33,559 --> 00:28:38,269
there oh there it is sweet so then once

00:28:36,710 --> 00:28:39,350
I finally found somebody show me where

00:28:38,269 --> 00:28:43,520
to find it

00:28:39,350 --> 00:28:46,160
I was able to find the 89 96 stuff and

00:28:43,520 --> 00:28:47,480
match that up some of the things that

00:28:46,160 --> 00:28:50,030
I've learned along the way some of the

00:28:47,480 --> 00:28:51,860
things I'd like to pass on to you guys

00:28:50,030 --> 00:28:58,039
that I think to be useful if you want to

00:28:51,860 --> 00:28:59,660
tackle something like this is try to get

00:28:58,039 --> 00:29:02,390
things sent upstream as fast as possible

00:28:59,660 --> 00:29:05,780
don't let things sit stale in your trees

00:29:02,390 --> 00:29:08,900
or in your repos or or whatever it is

00:29:05,780 --> 00:29:11,570
the faster you get it to some kind of

00:29:08,900 --> 00:29:13,940
mailing list for review the faster other

00:29:11,570 --> 00:29:15,169
people can pick off patches and try them

00:29:13,940 --> 00:29:16,159
for you so that's one of things that

00:29:15,169 --> 00:29:18,049
I've been doing actually I've been

00:29:16,159 --> 00:29:19,460
looking at some of the stuff of llanera

00:29:18,049 --> 00:29:21,559
folks have been doing or the quota or

00:29:19,460 --> 00:29:22,850
and I'm like oh off of mailing this I'm

00:29:21,559 --> 00:29:25,429
like oh I could let me try that patch

00:29:22,850 --> 00:29:27,919
that could be useful for me I'll go and

00:29:25,429 --> 00:29:30,289
grab it put it my tree and either make a

00:29:27,919 --> 00:29:31,880
change to my code and it'll turn out

00:29:30,289 --> 00:29:35,179
something that actually works and then I

00:29:31,880 --> 00:29:38,600
can add my tested by or I can offer some

00:29:35,179 --> 00:29:41,240
suggestions to them or like the ping

00:29:38,600 --> 00:29:43,370
control I found some errors in some

00:29:41,240 --> 00:29:45,320
initial versions of the ping control

00:29:43,370 --> 00:29:48,049
that I had done myself without

00:29:45,320 --> 00:29:49,669
documentation pointing out that yes you

00:29:48,049 --> 00:29:52,010
missed two or three little things here

00:29:49,669 --> 00:29:55,010
and they were able to update it so be

00:29:52,010 --> 00:29:57,559
active get involved try to see what's

00:29:55,010 --> 00:30:00,140
there and try to keep an eye on the

00:29:57,559 --> 00:30:02,000
mailing list and also jump onto IRC

00:30:00,140 --> 00:30:04,250
periodically because that's where a lot

00:30:02,000 --> 00:30:07,309
of the stuff gets resolved or a lot of

00:30:04,250 --> 00:30:10,940
the questions get answered the people on

00:30:07,309 --> 00:30:14,179
IRC the MSM IRC mailing list that's at

00:30:10,940 --> 00:30:15,890
the end of the presentation they've been

00:30:14,179 --> 00:30:19,280
fantastic and answering questions I

00:30:15,890 --> 00:30:22,549
encourage you to join ask them questions

00:30:19,280 --> 00:30:23,900
be active even if even if you don't have

00:30:22,549 --> 00:30:26,780
a phone or you're not interested forward

00:30:23,900 --> 00:30:27,470
reporting get in and look at some of the

00:30:26,780 --> 00:30:32,870
patches

00:30:27,470 --> 00:30:36,770
ask questions get involved introduce

00:30:32,870 --> 00:30:39,230
people that want to be part of this into

00:30:36,770 --> 00:30:43,400
that there's thousands of ways that you

00:30:39,230 --> 00:30:45,650
can get involved as a as a contributor

00:30:43,400 --> 00:30:49,610
to the community not just by submitting

00:30:45,650 --> 00:30:52,250
code but reviewing code maybe putting

00:30:49,610 --> 00:30:53,240
together some instructions looking for

00:30:52,250 --> 00:30:56,240
typos spelling

00:30:53,240 --> 00:30:57,620
steak's just eyeballing things I can

00:30:56,240 --> 00:31:02,210
think of thousands of things that you

00:30:57,620 --> 00:31:04,040
can do as an individual so some of the

00:31:02,210 --> 00:31:07,550
things so somebody asking at one point

00:31:04,040 --> 00:31:10,820
when I was at plumbers what's the end

00:31:07,550 --> 00:31:13,340
goal or what's the final thing that I

00:31:10,820 --> 00:31:15,350
want to see happen with this I'm not

00:31:13,340 --> 00:31:18,200
necessarily interested in seeing this

00:31:15,350 --> 00:31:20,480
thing fully mainlined or working 100%

00:31:18,200 --> 00:31:22,490
mainline the thing that I think would be

00:31:20,480 --> 00:31:25,250
more important to me or what I'd rather

00:31:22,490 --> 00:31:28,310
see and be more rewarding is that

00:31:25,250 --> 00:31:29,180
somebody from the community or somebody

00:31:28,310 --> 00:31:31,340
not necessary from the community

00:31:29,180 --> 00:31:33,860
somebody that's new to Linux that wants

00:31:31,340 --> 00:31:36,380
to try kernel hacking or wants to

00:31:33,860 --> 00:31:38,960
consider going down the path of working

00:31:36,380 --> 00:31:40,910
on the Linux kernel maybe has a phone

00:31:38,960 --> 00:31:42,890
like this and says okay I'm gonna go and

00:31:40,910 --> 00:31:45,110
build this debug cable like follow any

00:31:42,890 --> 00:31:47,180
instructions they put it together they

00:31:45,110 --> 00:31:49,910
see some of the downstream code they get

00:31:47,180 --> 00:31:52,420
it working they create their own patch

00:31:49,910 --> 00:31:55,490
and then they submit it upstream and

00:31:52,420 --> 00:31:58,520
they would get it you know into mainline

00:31:55,490 --> 00:32:02,180
it would encourage them to consider the

00:31:58,520 --> 00:32:04,130
path of going down the kernel hacking or

00:32:02,180 --> 00:32:07,850
kernel development path that and then

00:32:04,130 --> 00:32:12,410
that to me would be a far more rewarding

00:32:07,850 --> 00:32:14,830
and be far more interesting to me to see

00:32:12,410 --> 00:32:17,260
somebody do something like that versus

00:32:14,830 --> 00:32:19,850
getting the whole phone working because

00:32:17,260 --> 00:32:23,390
it's you know it's just a phone it's

00:32:19,850 --> 00:32:25,910
just a device but having people you know

00:32:23,390 --> 00:32:28,070
inspire somebody or motivate somebody to

00:32:25,910 --> 00:32:29,510
actually get involved in this community

00:32:28,070 --> 00:32:32,030
that's never been part of it before I

00:32:29,510 --> 00:32:34,820
think that's far far more rewarding as a

00:32:32,030 --> 00:32:35,930
as a person maybe 10 years ago I would

00:32:34,820 --> 00:32:38,810
have said yeah we can cure world hunger

00:32:35,930 --> 00:32:41,540
we'll get the whole thing working I'm a

00:32:38,810 --> 00:32:46,820
lot more realistic now I've been around

00:32:41,540 --> 00:32:49,190
I know full well that sometimes you're

00:32:46,820 --> 00:32:52,130
your rose-colored glasses aren't

00:32:49,190 --> 00:32:53,810
necessarily as rosy as you think they

00:32:52,130 --> 00:32:56,060
are and sometimes you can't necessarily

00:32:53,810 --> 00:32:59,180
get everything going but I would love to

00:32:56,060 --> 00:33:01,520
see people knew what the community get

00:32:59,180 --> 00:33:05,140
involved and actually be part of it that

00:33:01,520 --> 00:33:09,100
to me would be a lot more rewarding

00:33:05,140 --> 00:33:11,140
seeing the phone fully functioning some

00:33:09,100 --> 00:33:12,970
of the things that that as I'm kind of

00:33:11,140 --> 00:33:15,190
summarizing that some of the things that

00:33:12,970 --> 00:33:18,670
I see is everybody's sort of hell-bent

00:33:15,190 --> 00:33:21,550
on getting their name on X number of

00:33:18,670 --> 00:33:24,130
lines of code changed in the kernel I am

00:33:21,550 --> 00:33:27,490
just as happy seeing my name on reviewed

00:33:24,130 --> 00:33:29,950
by or tested by or I helped with

00:33:27,490 --> 00:33:34,810
whatever or provide feedback to people

00:33:29,950 --> 00:33:36,850
or being able to just to be a number two

00:33:34,810 --> 00:33:42,160
in somebody's patch that they've put in

00:33:36,850 --> 00:33:43,240
a lot of effort into that to me says you

00:33:42,160 --> 00:33:45,550
know taking a step back and actually

00:33:43,240 --> 00:33:47,530
being the guy on the side providing

00:33:45,550 --> 00:33:49,900
support to somebody else is very

00:33:47,530 --> 00:33:52,750
valuable because when I was going

00:33:49,900 --> 00:33:55,030
through this and I was like at v4 or v5

00:33:52,750 --> 00:33:57,310
and I was getting frustrated and believe

00:33:55,030 --> 00:33:59,650
it or not there were people that I never

00:33:57,310 --> 00:34:00,880
knew were paying attention to these I

00:33:59,650 --> 00:34:02,950
would have dreamed they were paying

00:34:00,880 --> 00:34:04,720
attention to these patches and them in

00:34:02,950 --> 00:34:07,660
the mailing list and they actually sent

00:34:04,720 --> 00:34:09,280
me an email directly and said it's great

00:34:07,660 --> 00:34:11,470
to see that you're working on this keep

00:34:09,280 --> 00:34:13,110
going I see that you're getting it looks

00:34:11,470 --> 00:34:16,030
like you're getting frustrated you know

00:34:13,110 --> 00:34:18,780
continue on cheerleader rah rah rah sort

00:34:16,030 --> 00:34:20,860
of mentality that's just as valuable as

00:34:18,780 --> 00:34:23,350
submitting code into the kernel in my

00:34:20,860 --> 00:34:25,810
opinion the guy that's you know been

00:34:23,350 --> 00:34:28,419
sort of beaten on or or is trying to get

00:34:25,810 --> 00:34:30,250
the stuff done it's frustrated and

00:34:28,419 --> 00:34:31,929
having somebody motivate them or or

00:34:30,250 --> 00:34:34,330
giving them that inspiration is very

00:34:31,929 --> 00:34:39,310
valuable so consider that as a

00:34:34,330 --> 00:34:41,830
contribution as well it's it's don't a

00:34:39,310 --> 00:34:43,360
lot of people that are that I talk to

00:34:41,830 --> 00:34:46,120
her or their mentality is okay

00:34:43,360 --> 00:34:48,040
it's big and scary it's ugly it's not

00:34:46,120 --> 00:34:50,560
people are very supportive or they're

00:34:48,040 --> 00:34:52,800
willing to help my experience and doing

00:34:50,560 --> 00:34:55,929
this was actually very positive and

00:34:52,800 --> 00:35:00,010
please give it a whirl try it don't be

00:34:55,929 --> 00:35:01,960
afraid it's it's something that you have

00:35:00,010 --> 00:35:05,230
to try and you have to you have to do

00:35:01,960 --> 00:35:06,490
this so at this point I was gonna kind

00:35:05,230 --> 00:35:08,560
of brain what I want to do is brainstorm

00:35:06,490 --> 00:35:14,230
we've got 15 minutes left I want to

00:35:08,560 --> 00:35:17,200
brainstorm with you guys ideas on and

00:35:14,230 --> 00:35:18,840
reasoning behind the next subsystem that

00:35:17,200 --> 00:35:21,120
hopefully

00:35:18,840 --> 00:35:24,000
as a community could tackle not just me

00:35:21,120 --> 00:35:27,720
but I guess it will be me you know if

00:35:24,000 --> 00:35:31,110
you guys could ideally try to help it

00:35:27,720 --> 00:35:33,840
would be fantastic so the reason why I

00:35:31,110 --> 00:35:36,150
did the initial one CPU and NRD was

00:35:33,840 --> 00:35:37,500
because and get it main line as fast as

00:35:36,150 --> 00:35:39,660
possible so other people can get

00:35:37,500 --> 00:35:41,460
involved now I'm thinking okay I've got

00:35:39,660 --> 00:35:44,550
the on-board storage working the patch

00:35:41,460 --> 00:35:45,540
has been out there they have a mainline

00:35:44,550 --> 00:35:47,670
or not and I'm not sure if they've got

00:35:45,540 --> 00:35:49,410
picked up I'll loop back around and get

00:35:47,670 --> 00:35:50,910
them let's pretend that they're fully

00:35:49,410 --> 00:35:53,190
functioning and they are mainline so

00:35:50,910 --> 00:35:55,080
what's left what are some of the

00:35:53,190 --> 00:35:59,430
subsystems that we could tackle next and

00:35:55,080 --> 00:36:01,320
it would be the screen okay so if

00:35:59,430 --> 00:36:05,970
somebody having a screen there yeah

00:36:01,320 --> 00:36:07,700
that's all fine and dandy but how do you

00:36:05,970 --> 00:36:10,500
type you know what do you use the type

00:36:07,700 --> 00:36:12,930
USB I was thinking at plumbers USB would

00:36:10,500 --> 00:36:15,170
be a good candidate Wi-Fi i2c spy I'm

00:36:12,930 --> 00:36:18,630
just dreaming off different subsystems

00:36:15,170 --> 00:36:20,700
can anybody think of a difference a

00:36:18,630 --> 00:36:22,890
subsystem that would be I guess we had

00:36:20,700 --> 00:36:24,600
need a microphone or speak loud and I'll

00:36:22,890 --> 00:36:30,660
repeat it so that the recordings can

00:36:24,600 --> 00:36:32,100
capture it go ahead yeah I leave mine

00:36:30,660 --> 00:36:34,440
connected to my computer the whole time

00:36:32,100 --> 00:36:36,390
I don't actually I okay to be honest I

00:36:34,440 --> 00:36:38,520
don't consider this a phone I just use

00:36:36,390 --> 00:36:40,830
it as an embedded board so if I take it

00:36:38,520 --> 00:36:43,020
to a coffee shop it's not a bear board

00:36:40,830 --> 00:36:45,000
and it doesn't look that bad at it to me

00:36:43,020 --> 00:36:46,890
it's just an embedded target there's no

00:36:45,000 --> 00:36:48,390
difference between a bear board and and

00:36:46,890 --> 00:36:51,390
this phone it has serial

00:36:48,390 --> 00:36:54,000
I have CPU I treat like an embedded

00:36:51,390 --> 00:36:55,410
target as an embedded guy I can just

00:36:54,000 --> 00:36:58,020
leave it on a table and it looks like

00:36:55,410 --> 00:36:59,790
it's being charged so you're right

00:36:58,020 --> 00:37:03,750
battery charging so maybe all the narrow

00:36:59,790 --> 00:37:06,470
folks could start tackling that I wanted

00:37:03,750 --> 00:37:09,690
to I was thinking more in terms of a

00:37:06,470 --> 00:37:15,140
subsystem I turned it on somehow a

00:37:09,690 --> 00:37:17,790
subsystem that would allow people to

00:37:15,140 --> 00:37:21,480
build off of the stuff that's already

00:37:17,790 --> 00:37:25,740
there maybe not having a debug cable

00:37:21,480 --> 00:37:28,200
maybe if they want it I think maybe

00:37:25,740 --> 00:37:31,700
Bluetooth would be the next one or USB

00:37:28,200 --> 00:37:34,310
I'm not sure what state USB is

00:37:31,700 --> 00:37:37,310
currently in mainline or if it's if it's

00:37:34,310 --> 00:37:39,470
close enough because you could if USB

00:37:37,310 --> 00:37:41,630
was close enough that we could maybe use

00:37:39,470 --> 00:37:43,760
that get that working and you could

00:37:41,630 --> 00:37:45,920
actually log in to the device and and

00:37:43,760 --> 00:37:48,440
work like that and then you could use

00:37:45,920 --> 00:37:51,020
crash dump and then you know what would

00:37:48,440 --> 00:37:53,930
be the well via a common comment sense

00:37:51,020 --> 00:37:57,079
order of things that could be tackled

00:37:53,930 --> 00:38:01,220
you know I'm paying Bluetooth USB Wi-Fi

00:37:57,079 --> 00:38:03,980
so you can you can get maybe you could

00:38:01,220 --> 00:38:04,550
log into the device with maybe a drop

00:38:03,980 --> 00:38:07,220
bear

00:38:04,550 --> 00:38:10,339
I'm trying okay so I'm trying to do

00:38:07,220 --> 00:38:13,490
everything using an init Rd and that has

00:38:10,339 --> 00:38:15,920
proved to be very difficult I've run

00:38:13,490 --> 00:38:18,079
into problems with it I can't seem to

00:38:15,920 --> 00:38:20,359
get around this bigger than 2.1 Meg's

00:38:18,079 --> 00:38:22,160
for some reason I've moved the RAM disk

00:38:20,359 --> 00:38:24,140
around in memory and different places

00:38:22,160 --> 00:38:27,410
I've tried all the different

00:38:24,140 --> 00:38:29,510
combinations when you do a make boot

00:38:27,410 --> 00:38:31,880
image I just can't seem for the life of

00:38:29,510 --> 00:38:36,530
me to get anything more than 2 Meg's

00:38:31,880 --> 00:38:38,180
working so if anybody here knows how to

00:38:36,530 --> 00:38:41,690
get a l'heure the reason being is I

00:38:38,180 --> 00:38:43,760
don't want to wipe out what's on the

00:38:41,690 --> 00:38:46,609
phone I want to keep it intact so I can

00:38:43,760 --> 00:38:48,410
go back and look at what was done in 310

00:38:46,609 --> 00:38:50,119
so I can get because I don't have

00:38:48,410 --> 00:38:51,619
documentation I need to return to be

00:38:50,119 --> 00:38:53,150
functioning so I need a fully

00:38:51,619 --> 00:38:55,790
functioning phone so I can poke it

00:38:53,150 --> 00:38:57,650
Bluetooth or poke at PC I print stuff

00:38:55,790 --> 00:39:00,440
out in a serial console so I can see

00:38:57,650 --> 00:39:01,970
what's going on that again is something

00:39:00,440 --> 00:39:04,310
that I encourage you to it's a great

00:39:01,970 --> 00:39:05,630
skill to learn is that figure out the

00:39:04,310 --> 00:39:08,119
subsystem you want to tackle and then

00:39:05,630 --> 00:39:14,569
try to chase you know track down old

00:39:08,119 --> 00:39:17,420
code because you can you can learn a lot

00:39:14,569 --> 00:39:18,829
about different subsystems by forward

00:39:17,420 --> 00:39:21,770
porting it so if you want to learn

00:39:18,829 --> 00:39:23,750
something a PCI forward port PCI you can

00:39:21,770 --> 00:39:25,640
track down the code in the old code and

00:39:23,750 --> 00:39:28,880
then you can you know what all kinds of

00:39:25,640 --> 00:39:30,170
prints all over the place and then try

00:39:28,880 --> 00:39:32,089
to get the new stuff working that's an

00:39:30,170 --> 00:39:33,920
amazing way to learn how this stuff

00:39:32,089 --> 00:39:36,560
works I would definitely encourage

00:39:33,920 --> 00:39:39,440
everybody to try something like this

00:39:36,560 --> 00:39:42,050
it's a unbelievably great learning

00:39:39,440 --> 00:39:43,690
experience so I decided to tackle

00:39:42,050 --> 00:39:45,470
Bluetooth because I thought all right

00:39:43,690 --> 00:39:46,700
USB at a time

00:39:45,470 --> 00:39:48,170
I was thinking about it may not have

00:39:46,700 --> 00:39:50,840
been all that stable may not have been

00:39:48,170 --> 00:39:52,820
quite there yet or mature so I thought

00:39:50,840 --> 00:39:56,330
Bluetooth I'll tackle that so here's the

00:39:52,820 --> 00:39:59,000
logic behind Bluetooth and the path that

00:39:56,330 --> 00:40:03,619
I took and and the way that I did it

00:39:59,000 --> 00:40:05,030
hopefully some of the tips and the way

00:40:03,619 --> 00:40:06,650
that I'm doing it will be beneficial to

00:40:05,030 --> 00:40:08,420
others and you can maybe learn something

00:40:06,650 --> 00:40:09,500
from it and I would like to learn

00:40:08,420 --> 00:40:12,109
something from you guys if you can

00:40:09,500 --> 00:40:13,880
suggest things from me to me as well so

00:40:12,109 --> 00:40:16,310
if you look at it the first thing I did

00:40:13,880 --> 00:40:17,930
was I went to the teardown site there's

00:40:16,310 --> 00:40:19,910
a place in Ottawa where I'm from it's

00:40:17,930 --> 00:40:23,150
actually Kannada chip works who does

00:40:19,910 --> 00:40:25,700
reverse engineering of products to

00:40:23,150 --> 00:40:27,140
describe what's in each of these

00:40:25,700 --> 00:40:31,270
different ones so I went to the teardown

00:40:27,140 --> 00:40:35,330
side I wanted chip works and I found

00:40:31,270 --> 00:40:37,430
what was actually on the phone for

00:40:35,330 --> 00:40:39,680
Bluetooth the 5x and 6p apparently have

00:40:37,430 --> 00:40:43,400
different Wi-Fi modules but this phone

00:40:39,680 --> 00:40:47,150
has the QCA six one seven four and if

00:40:43,400 --> 00:40:48,980
that's the device itself and it also

00:40:47,150 --> 00:40:53,210
putting bread crumbs in the older

00:40:48,980 --> 00:40:56,450
kernels it also actually has using tty

00:40:53,210 --> 00:40:58,760
HS zero as its way of communicating so

00:40:56,450 --> 00:41:01,849
it goes to the PCI so this chip is on a

00:40:58,760 --> 00:41:03,890
PCI bus and it the Bluetooth software

00:41:01,849 --> 00:41:09,140
the Bluetooth Android Bluetooth stack

00:41:03,890 --> 00:41:11,390
talks to it through tty HS zero then I

00:41:09,140 --> 00:41:13,010
looked at different things on the web to

00:41:11,390 --> 00:41:14,570
try to figure out okay how does this all

00:41:13,010 --> 00:41:17,900
fit together I don't really know much

00:41:14,570 --> 00:41:19,700
about Bluetooth so I decided to go and

00:41:17,900 --> 00:41:22,480
poke around and try to understand these

00:41:19,700 --> 00:41:24,560
things so I found some stuff on the

00:41:22,480 --> 00:41:27,050
different code Aurora in different

00:41:24,560 --> 00:41:29,089
places for lay Bluetooth and I found

00:41:27,050 --> 00:41:31,790
that there's different reset commands

00:41:29,089 --> 00:41:33,260
you got to hit it with a GPIO to turn on

00:41:31,790 --> 00:41:35,150
Bluetooth you've got to send the reset

00:41:33,260 --> 00:41:38,210
command and then all the data starts

00:41:35,150 --> 00:41:40,339
flowing when you get through the serial

00:41:38,210 --> 00:41:42,050
console after you do this initial stuff

00:41:40,339 --> 00:41:44,390
so these are some breadcrumbs that I'm

00:41:42,050 --> 00:41:48,950
able to actually get some logic and try

00:41:44,390 --> 00:41:51,230
to understand the different things so

00:41:48,950 --> 00:41:52,400
here's kind of the thing after poking

00:41:51,230 --> 00:41:54,290
around and looking around here's the

00:41:52,400 --> 00:41:55,430
things that I think I need I'm sure

00:41:54,290 --> 00:41:56,810
there's gonna be a lot more I'm sure I'm

00:41:55,430 --> 00:41:58,820
gonna trip over all kinds of different

00:41:56,810 --> 00:41:59,440
things that I never anticipated but this

00:41:58,820 --> 00:42:01,240
is kind of

00:41:59,440 --> 00:42:03,400
logic behind the start poking around

00:42:01,240 --> 00:42:05,560
kind of looking at downstream I

00:42:03,400 --> 00:42:09,369
understand a basic flow so here's what I

00:42:05,560 --> 00:42:12,550
think I'm gonna need PCIe clocks the

00:42:09,369 --> 00:42:15,880
five clocks as well I'd like to thank

00:42:12,550 --> 00:42:18,760
another llanera person for pointing me

00:42:15,880 --> 00:42:21,640
at their PCIe enablement for the MSM

00:42:18,760 --> 00:42:23,349
eighty nine ninety six it gave me some

00:42:21,640 --> 00:42:25,359
clues as to some of the things I'm gonna

00:42:23,349 --> 00:42:28,540
need to get going so again another

00:42:25,359 --> 00:42:31,180
another thumbs up to the kudos to the

00:42:28,540 --> 00:42:32,530
Dylan arrow folks so I'm going to need

00:42:31,180 --> 00:42:36,510
to get the fire working I'm gonna need

00:42:32,530 --> 00:42:39,400
to get again the PCIe there's a chip and

00:42:36,510 --> 00:42:43,990
after beating around Google I found that

00:42:39,400 --> 00:42:46,450
the QCA 61 74 is supported by the Astros

00:42:43,990 --> 00:42:48,069
10k chip I don't know much about the

00:42:46,450 --> 00:42:50,650
code I'm still kind of trying to figure

00:42:48,069 --> 00:42:52,720
it out I am what I think I'm gonna do is

00:42:50,650 --> 00:42:55,349
I'm gonna try and use the back ports I'm

00:42:52,720 --> 00:43:00,190
gonna try and get the a throws chip

00:42:55,349 --> 00:43:02,170
working on the three the the the 10k

00:43:00,190 --> 00:43:05,800
code I'm gonna try to get it working on

00:43:02,170 --> 00:43:08,890
the 310 kernel using the back ports I'm

00:43:05,800 --> 00:43:10,750
in it as an experiment to see if that

00:43:08,890 --> 00:43:12,430
works if that works and that tells me

00:43:10,750 --> 00:43:14,710
that the code is actually functioning

00:43:12,430 --> 00:43:17,410
and I can use the mainline version of

00:43:14,710 --> 00:43:21,579
that so I found that the back port

00:43:17,410 --> 00:43:25,240
people have support for the a throws the

00:43:21,579 --> 00:43:28,599
latest and greatest a throws 10 K driver

00:43:25,240 --> 00:43:30,910
working on 310 using the back ports

00:43:28,599 --> 00:43:32,980
project so that's something that I'm

00:43:30,910 --> 00:43:35,170
gonna actually look at try to understand

00:43:32,980 --> 00:43:38,680
the code to verify that it's actually

00:43:35,170 --> 00:43:41,200
functioning I know I need to get RPM s

00:43:38,680 --> 00:43:43,630
SMD communication working that's another

00:43:41,200 --> 00:43:45,460
thing it sort of works there's some

00:43:43,630 --> 00:43:48,730
gotchas here and there that I need to

00:43:45,460 --> 00:43:50,760
iron out and discuss with Bjorn I don't

00:43:48,730 --> 00:43:54,400
know if he's here I'll track them down

00:43:50,760 --> 00:43:57,040
there's also some looser space work for

00:43:54,400 --> 00:43:59,800
Blues and the firmware that I need to

00:43:57,040 --> 00:44:02,109
look at I haven't quite figured out

00:43:59,800 --> 00:44:03,730
those pieces yet I'm thinking the

00:44:02,109 --> 00:44:07,150
easiest way at this point would be to

00:44:03,730 --> 00:44:08,170
use Blues instead of the Android Bionic

00:44:07,150 --> 00:44:10,180
because it seems like there's more

00:44:08,170 --> 00:44:12,790
information about blues so this is where

00:44:10,180 --> 00:44:14,890
I'm trying to get I'm trying to use a

00:44:12,790 --> 00:44:16,770
I'm trying to avoid modifying the

00:44:14,890 --> 00:44:19,270
onboard storage as much as possible or

00:44:16,770 --> 00:44:21,880
because I can't get in an RV running I'm

00:44:19,270 --> 00:44:24,160
trying to figure out okay is there a

00:44:21,880 --> 00:44:26,620
partition on the phone that I can use to

00:44:24,160 --> 00:44:27,370
put the stuff that I need on there

00:44:26,620 --> 00:44:29,830
because there's like forty five

00:44:27,370 --> 00:44:34,230
partitions or something like that so I

00:44:29,830 --> 00:44:36,400
would like to maybe put a ram disk on

00:44:34,230 --> 00:44:39,490
there and then maybe do a chore route

00:44:36,400 --> 00:44:41,890
once I boot from a ram disk chroot into

00:44:39,490 --> 00:44:42,940
a to one of the partitions and go from

00:44:41,890 --> 00:44:45,610
there because I kind of want to leave

00:44:42,940 --> 00:44:47,290
the phone alone so that's where if

00:44:45,610 --> 00:44:49,090
anybody has any suggestions or any any

00:44:47,290 --> 00:44:51,130
follow up with me out of very much

00:44:49,090 --> 00:44:53,140
appreciate it send me an email come and

00:44:51,130 --> 00:44:55,690
talk to me afterwards raise your hand

00:44:53,140 --> 00:44:57,970
and offer suggestions so I'm here to

00:44:55,690 --> 00:45:00,160
solicit help anybody that wants to

00:44:57,970 --> 00:45:03,790
participate anybody wants to help I have

00:45:00,160 --> 00:45:05,380
debug cables that the Google folks are

00:45:03,790 --> 00:45:07,150
kind enough to give me they've made them

00:45:05,380 --> 00:45:09,490
they didn't have the duct tape versions

00:45:07,150 --> 00:45:11,710
they did it more professionally looking

00:45:09,490 --> 00:45:14,440
but I prefer duct tape that's just my

00:45:11,710 --> 00:45:18,310
way of doing things it's the way I roll

00:45:14,440 --> 00:45:20,380
and I there's there's so much things to

00:45:18,310 --> 00:45:22,600
be done if you have a phone it's no

00:45:20,380 --> 00:45:24,610
longer the latest and greatest so you

00:45:22,600 --> 00:45:26,530
can sacrifice it maybe if you want to

00:45:24,610 --> 00:45:28,900
play with it let me know I've got some

00:45:26,530 --> 00:45:31,630
debug cables I can give to people I made

00:45:28,900 --> 00:45:32,950
a couple I've given one or two away I've

00:45:31,630 --> 00:45:34,600
got a bunch at home I was gonna bring

00:45:32,950 --> 00:45:36,760
him with me to give them out here but I

00:45:34,600 --> 00:45:38,530
forgot them at home unfortunately I'll

00:45:36,760 --> 00:45:39,820
mail them to you I don't mind spending

00:45:38,530 --> 00:45:43,930
three or four dollars mailing them to

00:45:39,820 --> 00:45:47,290
people and and and hopefully people be

00:45:43,930 --> 00:45:49,270
willing to help out so here's a few

00:45:47,290 --> 00:45:53,050
things that I can think up up the top of

00:45:49,270 --> 00:45:56,470
my head that I know need some help or

00:45:53,050 --> 00:45:58,630
some work the RAM disk I need help with

00:45:56,470 --> 00:46:00,670
that immediately so that I can continue

00:45:58,630 --> 00:46:03,070
my work or point me to a partition that

00:46:00,670 --> 00:46:06,460
I can explode a ram disk to sort of

00:46:03,070 --> 00:46:08,530
intrude into as I said earlier anybody

00:46:06,460 --> 00:46:11,980
wants to take on a subsystem please do

00:46:08,530 --> 00:46:14,590
so don't look at me as owning this thing

00:46:11,980 --> 00:46:19,600
completely myself that's not something

00:46:14,590 --> 00:46:21,370
I'm doing I did the initial heavy

00:46:19,600 --> 00:46:23,770
lifting now it's up to you guys to help

00:46:21,370 --> 00:46:26,140
out hopefully you guys can define ways

00:46:23,770 --> 00:46:29,499
to help out and and

00:46:26,140 --> 00:46:31,900
this just because it was one cereal and

00:46:29,499 --> 00:46:33,880
and and it sounds like we know one CPU

00:46:31,900 --> 00:46:36,309
cereal and in it I do know that's not

00:46:33,880 --> 00:46:37,569
very much oh yes it is it's it's a lot

00:46:36,309 --> 00:46:38,499
more work than you think it's when

00:46:37,569 --> 00:46:39,999
there's nothing coming out of the

00:46:38,499 --> 00:46:42,430
console you have no idea what's going on

00:46:39,999 --> 00:46:44,289
at least now you have a console and some

00:46:42,430 --> 00:46:46,660
cereal debugs you've got some ways of

00:46:44,289 --> 00:46:50,109
finding out what's going on you can

00:46:46,660 --> 00:46:53,289
always use KGB over cereal but yeah

00:46:50,109 --> 00:46:56,829
depends on your view of KGB and let's

00:46:53,289 --> 00:46:59,160
not go down that road you can help me

00:46:56,829 --> 00:47:01,420
investigate the various subsystems

00:46:59,160 --> 00:47:03,069
explain some of the different aspects of

00:47:01,420 --> 00:47:04,269
Android that I may not be familiar with

00:47:03,069 --> 00:47:06,489
because I'm coming from the embedded

00:47:04,269 --> 00:47:10,359
systems background and roll my own

00:47:06,489 --> 00:47:14,170
innate Rd I haven't really had a chance

00:47:10,359 --> 00:47:16,660
I tried building Android the full ASP

00:47:14,170 --> 00:47:18,849
and it took I think half a day and I

00:47:16,660 --> 00:47:21,549
gave up I just kept building and I just

00:47:18,849 --> 00:47:23,589
oh it's just too long I said I can't you

00:47:21,549 --> 00:47:26,410
know I can do my own in it already in

00:47:23,589 --> 00:47:28,259
like 25 minutes I don't want to wait

00:47:26,410 --> 00:47:33,430
half a day for this thing to build so I

00:47:28,259 --> 00:47:36,369
gave up on that if you have any interest

00:47:33,430 --> 00:47:38,289
or in playing with the kernel or getting

00:47:36,369 --> 00:47:41,440
involved please come and talk to me I

00:47:38,289 --> 00:47:44,019
would like to work with you I would love

00:47:41,440 --> 00:47:46,319
to see as I said no I would love to see

00:47:44,019 --> 00:47:48,880
somebody who's never tackled this before

00:47:46,319 --> 00:47:51,160
expressing interest and and and get

00:47:48,880 --> 00:47:53,140
involved and learn and turn it into a

00:47:51,160 --> 00:47:54,460
potential career that to me would be

00:47:53,140 --> 00:47:58,089
more rewarding than seeing the whole

00:47:54,460 --> 00:48:00,099
phone functioning that speaks volumes

00:47:58,089 --> 00:48:02,019
for the community and that's just my

00:48:00,099 --> 00:48:05,430
opinion I guess maybe as I get older I

00:48:02,019 --> 00:48:08,289
kind of see more of the getting people

00:48:05,430 --> 00:48:12,130
involved rather than changing a world

00:48:08,289 --> 00:48:15,670
it's more seeing people learning and and

00:48:12,130 --> 00:48:17,289
and growing than necessarily getting

00:48:15,670 --> 00:48:20,739
everything functioning and changing the

00:48:17,289 --> 00:48:24,130
world documentation is also an area that

00:48:20,739 --> 00:48:26,140
people could help out with a wiki update

00:48:24,130 --> 00:48:27,910
some wiki's or point me to some wiki's

00:48:26,140 --> 00:48:30,130
that I could add things to that I've

00:48:27,910 --> 00:48:32,470
I've tripped over or I've seen or or

00:48:30,130 --> 00:48:37,900
there would be a value here's my list of

00:48:32,470 --> 00:48:39,470
references and links and Stephen mention

00:48:37,900 --> 00:48:42,080
of Stephen Boyd's presentation

00:48:39,470 --> 00:48:44,900
you to blink and the debug cable I put

00:48:42,080 --> 00:48:48,200
together the the link there as well as

00:48:44,900 --> 00:48:51,200
Google has published the Gerber files

00:48:48,200 --> 00:48:54,980
and all the like the actual schematics

00:48:51,200 --> 00:48:56,540
for it so if anybody knows how to build

00:48:54,980 --> 00:48:57,710
anything like that or is willing to do

00:48:56,540 --> 00:48:59,230
that come and talk to me because it

00:48:57,710 --> 00:49:01,820
would be really cool if we could do a

00:48:59,230 --> 00:49:04,849
run of a hundred of them or 200 of them

00:49:01,820 --> 00:49:06,440
a three hundred of them and for a cheap

00:49:04,849 --> 00:49:08,780
price and then maybe we could get a

00:49:06,440 --> 00:49:09,859
company that's got some money to build

00:49:08,780 --> 00:49:11,150
them and then we could give them out to

00:49:09,859 --> 00:49:13,580
people in the community as a community

00:49:11,150 --> 00:49:14,810
donation or something like that that was

00:49:13,580 --> 00:49:17,810
something I was discussing with the

00:49:14,810 --> 00:49:18,650
llanera folks a while ago doing a run of

00:49:17,810 --> 00:49:21,080
two or three hundred

00:49:18,650 --> 00:49:23,570
finding a company to pay for them and

00:49:21,080 --> 00:49:27,050
then handing them out to people that are

00:49:23,570 --> 00:49:29,690
interested in volunteering that's pretty

00:49:27,050 --> 00:49:33,530
much all I wanted to discuss any

00:49:29,690 --> 00:49:37,760
questions or comments or suggestions

00:49:33,530 --> 00:49:39,740
I've got two minutes left I can repeat

00:49:37,760 --> 00:49:42,320
it I don't think it's a microphone I'll

00:49:39,740 --> 00:49:46,160
just repeat what your question is so

00:49:42,320 --> 00:49:47,690
that people recording at home so anybody

00:49:46,160 --> 00:49:54,220
have any questions or comments or

00:49:47,690 --> 00:49:54,220
suggestions anybody willing to volunteer

00:49:56,740 --> 00:50:00,080
there low-hanging fruit I agree the

00:49:58,910 --> 00:50:09,980
low-hanging fruit but what would it buy

00:50:00,080 --> 00:50:11,990
us touch okay I have to see peripherals

00:50:09,980 --> 00:50:13,820
okay but I got to figure out what the

00:50:11,990 --> 00:50:15,140
peripherals are I don't have any

00:50:13,820 --> 00:50:17,540
documentation I got to figure out what

00:50:15,140 --> 00:50:21,440
peripherals are hanging off of I to see

00:50:17,540 --> 00:50:23,119
first touch okay so there's a lot of

00:50:21,440 --> 00:50:24,920
things that I don't know that I'm just

00:50:23,119 --> 00:50:26,270
trying to figure out as I go along so

00:50:24,920 --> 00:50:29,240
I'm not gonna pretend that I actually

00:50:26,270 --> 00:50:31,070
know how this works I just look at it

00:50:29,240 --> 00:50:32,240
and say okay this looks like an

00:50:31,070 --> 00:50:35,420
interesting thing maybe I will learn

00:50:32,240 --> 00:50:37,280
this and that's that's what I find fun

00:50:35,420 --> 00:50:39,050
and interesting and and motivating and

00:50:37,280 --> 00:50:41,900
that's one of the reasons why I did it

00:50:39,050 --> 00:50:43,940
is there any other any other comments or

00:50:41,900 --> 00:50:48,730
questions anybody way back there that I

00:50:43,940 --> 00:50:48,730
can't see well anybody you have to come

00:50:52,510 --> 00:50:59,030
spy ICC sensors what would the sensors

00:50:55,549 --> 00:51:00,530
give us what would it by us like I'm

00:50:59,030 --> 00:51:02,480
thinking like Bluetooth so people in law

00:51:00,530 --> 00:51:04,579
again and start developing but why would

00:51:02,480 --> 00:51:06,319
what we the motivation for doing by to

00:51:04,579 --> 00:51:10,069
see spy and sensors what would be the

00:51:06,319 --> 00:51:11,510
motivation low-hanging fruit okay so

00:51:10,069 --> 00:51:19,880
that other people can pick off different

00:51:11,510 --> 00:51:20,930
peripherals you can't access the sensors

00:51:19,880 --> 00:51:31,220
you got you got eyes speak louder so I

00:51:20,930 --> 00:51:32,299
can repeat it because it's not I didn't

00:51:31,220 --> 00:51:37,540
I didn't catch all of it you have to

00:51:32,299 --> 00:51:37,540
repeat it okay

00:51:43,930 --> 00:51:49,130
mainline mu code so after this come and

00:51:47,330 --> 00:51:50,720
talk to me and I'll give you my card and

00:51:49,130 --> 00:51:52,940
send me some more details I'd be great

00:51:50,720 --> 00:51:54,560
that's something that I'd like to see I

00:51:52,940 --> 00:51:57,380
don't know enough about it I have to

00:51:54,560 --> 00:52:00,260
start learning something so any other

00:51:57,380 --> 00:52:02,390
questions I literally am out of time we

00:52:00,260 --> 00:52:05,300
started two minutes late but that's fine

00:52:02,390 --> 00:52:09,650
anybody else any other questions

00:52:05,300 --> 00:52:13,430
comments concerns anybody want a free

00:52:09,650 --> 00:52:17,780
cable for volunteering to help anybody

00:52:13,430 --> 00:52:20,060
anybody I'm just okay you'll take one

00:52:17,780 --> 00:52:23,170
okay come in come in come and talk to me

00:52:20,060 --> 00:52:25,730
so see me outside I'll stand outside

00:52:23,170 --> 00:52:28,070
obviously I'm pretty easy to find with

00:52:25,730 --> 00:52:29,480
my orange shirt so come and see me

00:52:28,070 --> 00:52:31,310
outside after this so the next people

00:52:29,480 --> 00:52:34,040
can get in and we can discuss things

00:52:31,310 --> 00:52:35,450
further thank you very much and thanks

00:52:34,040 --> 00:52:36,120
for attending appreciate everybody's

00:52:35,450 --> 00:52:39,360
time

00:52:36,120 --> 00:52:39,360

YouTube URL: https://www.youtube.com/watch?v=77tuFtM4gjA


