Title: Flathub: The State of the Union - BartÅ‚omiej Piotrowski
Publication date: 2020-11-15
Playlist: Linux App Summit 2020 Talks
Description: 
	Flathub is a build and distribution service for Linux desktop applications. Between 2017 and 2020, it went from 0 to over 900 apps working on all major distributions. Handling hundreds of builds a week, it delivers terabytes of data to its users every month. In this talk, we'll review what makes Flathub fly, the current status, and what the future may bring.
Captions: 
	00:00:01,280 --> 00:00:06,640
thanks um hello everyone

00:00:03,360 --> 00:00:09,760
and uh actually let me share my camera

00:00:06,640 --> 00:00:14,000
um because it turns out it

00:00:09,760 --> 00:00:14,000
might be better to look at me as well

00:00:15,759 --> 00:00:22,960
can you see me i hope you can

00:00:19,920 --> 00:00:25,920
um yes yeah so

00:00:22,960 --> 00:00:27,680
welcome to my living room and good

00:00:25,920 --> 00:00:28,840
morning or good evening it depends on

00:00:27,680 --> 00:00:31,840
whether you live

00:00:28,840 --> 00:00:35,440
um my name is bartomi petrovsky

00:00:31,840 --> 00:00:38,640
and just as regina said it's

00:00:35,440 --> 00:00:41,840
most likely not pronounceable to you so

00:00:38,640 --> 00:00:45,280
um just feel free to call me

00:00:41,840 --> 00:00:45,840
bart like bart simpson maybe a little

00:00:45,280 --> 00:00:48,719
bit

00:00:45,840 --> 00:00:49,920
less creepy i hope um yeah so i'm here

00:00:48,719 --> 00:00:53,199
to talk about flat hub

00:00:49,920 --> 00:00:53,760
um not just about what have we been

00:00:53,199 --> 00:00:56,640
doing

00:00:53,760 --> 00:00:59,440
for last year but also what flat hub is

00:00:56,640 --> 00:01:03,199
in general

00:00:59,440 --> 00:01:05,280
yeah few words about me um

00:01:03,199 --> 00:01:07,520
i have been arch linux developer for

00:01:05,280 --> 00:01:11,280
past nine years

00:01:07,520 --> 00:01:14,080
making and maintaining a lot of packages

00:01:11,280 --> 00:01:15,040
uh probably more that anyone has ever

00:01:14,080 --> 00:01:18,479
wished for

00:01:15,040 --> 00:01:21,759
um professionally i'm working

00:01:18,479 --> 00:01:22,799
on infrastructure in general currently

00:01:21,759 --> 00:01:25,840
on

00:01:22,799 --> 00:01:28,799
on non-foundation

00:01:25,840 --> 00:01:29,119
but i'm also helping up guys with uh you

00:01:28,799 --> 00:01:33,680
know

00:01:29,119 --> 00:01:38,000
summit so so so there is that um

00:01:33,680 --> 00:01:40,640
so let's move on um

00:01:38,000 --> 00:01:43,680
so i assume that most of you will know

00:01:40,640 --> 00:01:46,799
what flat hub is but

00:01:43,680 --> 00:01:48,079
let's talk about about what flat hub is

00:01:46,799 --> 00:01:50,640
trying to solve

00:01:48,079 --> 00:01:52,560
so let's imagine for a moment that you

00:01:50,640 --> 00:01:55,040
just wrote an app for linux

00:01:52,560 --> 00:01:57,840
let's say it's something that is not

00:01:55,040 --> 00:02:00,399
probably a game changer

00:01:57,840 --> 00:02:01,200
i don't know an app for making a perfect

00:02:00,399 --> 00:02:05,600
tiramisu

00:02:01,200 --> 00:02:08,319
or in general cooking recipes and

00:02:05,600 --> 00:02:10,640
you are pretty much sure that everything

00:02:08,319 --> 00:02:13,520
is ready and your app is great

00:02:10,640 --> 00:02:15,360
but then after few months of starting at

00:02:13,520 --> 00:02:18,720
your github you realize that

00:02:15,360 --> 00:02:21,520
no one is using it so

00:02:18,720 --> 00:02:23,920
you start looking at various linux

00:02:21,520 --> 00:02:24,560
distributions and how to actually put

00:02:23,920 --> 00:02:27,920
your app

00:02:24,560 --> 00:02:30,239
into repositories so

00:02:27,920 --> 00:02:31,280
you start let's say from fedora because

00:02:30,239 --> 00:02:34,160
that's what

00:02:31,280 --> 00:02:35,440
you are using daily after copy pasting

00:02:34,160 --> 00:02:38,080
this and that from

00:02:35,440 --> 00:02:38,560
random documentation and blog posts you

00:02:38,080 --> 00:02:41,599
arrive

00:02:38,560 --> 00:02:45,680
at this point

00:02:41,599 --> 00:02:48,480
very very easy uh very easy stuff right

00:02:45,680 --> 00:02:49,280
everything is obvious license some are a

00:02:48,480 --> 00:02:53,040
bunch of

00:02:49,280 --> 00:02:54,640
weird sections that run possibly macros

00:02:53,040 --> 00:02:57,280
you don't know but because you copy

00:02:54,640 --> 00:02:59,920
pasted this nobody has time to actually

00:02:57,280 --> 00:03:01,680
understand every line of this because

00:02:59,920 --> 00:03:03,920
lots of this is just

00:03:01,680 --> 00:03:05,120
a common knowledge among package

00:03:03,920 --> 00:03:08,480
maintainers

00:03:05,120 --> 00:03:08,879
so everything is great your package rpm

00:03:08,480 --> 00:03:11,760
is

00:03:08,879 --> 00:03:12,800
ready and some people are able to

00:03:11,760 --> 00:03:15,040
install your app

00:03:12,800 --> 00:03:16,560
but then someone else comes and asks you

00:03:15,040 --> 00:03:19,200
for a debian package

00:03:16,560 --> 00:03:21,120
so you have managed to create a package

00:03:19,200 --> 00:03:24,879
for fedora so what can be

00:03:21,120 --> 00:03:28,560
hard about debian right well

00:03:24,879 --> 00:03:29,519
this this is just two pages of table of

00:03:28,560 --> 00:03:33,440
contents for

00:03:29,519 --> 00:03:36,319
debian packaging um so

00:03:33,440 --> 00:03:38,319
after reading all of this and creating

00:03:36,319 --> 00:03:39,920
uh debian package and azure notes

00:03:38,319 --> 00:03:42,959
package manjaro package

00:03:39,920 --> 00:03:45,040
and every single other distribution

00:03:42,959 --> 00:03:46,159
you realize that all you have been doing

00:03:45,040 --> 00:03:49,280
for past

00:03:46,159 --> 00:03:51,120
nine months is making packages so you

00:03:49,280 --> 00:03:53,120
are no longer a developer of

00:03:51,120 --> 00:03:55,360
software you are now a package

00:03:53,120 --> 00:03:59,519
maintainer and that's what you are doing

00:03:55,360 --> 00:04:01,760
for most of your time so

00:03:59,519 --> 00:04:03,439
that's probably not what you hoped for

00:04:01,760 --> 00:04:07,120
when you brought your

00:04:03,439 --> 00:04:10,720
small tiramisu up right so

00:04:07,120 --> 00:04:14,319
the goal of flat hub is to be place

00:04:10,720 --> 00:04:17,519
of your application um

00:04:14,319 --> 00:04:21,199
which is accomplished by using flat pack

00:04:17,519 --> 00:04:23,520
uh if you have listened to alex stock

00:04:21,199 --> 00:04:25,680
one hour ago i think then you know more

00:04:23,520 --> 00:04:28,880
or less what flatback does so

00:04:25,680 --> 00:04:31,360
i won't be repeating a lot of this

00:04:28,880 --> 00:04:32,000
but the general idea is that flat hub is

00:04:31,360 --> 00:04:34,960
the

00:04:32,000 --> 00:04:36,080
build and distribution service for your

00:04:34,960 --> 00:04:38,880
application using

00:04:36,080 --> 00:04:39,280
flatback given that someone else takes

00:04:38,880 --> 00:04:41,280
off

00:04:39,280 --> 00:04:42,880
takes care of all the infrastructure and

00:04:41,280 --> 00:04:46,560
all the knobs that

00:04:42,880 --> 00:04:49,440
you would need to care otherwise

00:04:46,560 --> 00:04:52,320
and this is accomplished by very simple

00:04:49,440 --> 00:04:55,680
json or yaml

00:04:52,320 --> 00:04:59,440
so there is very few

00:04:55,680 --> 00:05:02,080
magic commands involved

00:04:59,440 --> 00:05:03,360
so this is a very very basic manifest

00:05:02,080 --> 00:05:08,840
that you could

00:05:03,360 --> 00:05:11,280
use to to build and run a new hello app

00:05:08,840 --> 00:05:11,919
um this is actually using flatback

00:05:11,280 --> 00:05:14,160
builder

00:05:11,919 --> 00:05:15,120
in the background which is a single

00:05:14,160 --> 00:05:18,400
command to

00:05:15,120 --> 00:05:18,720
to do all the fancy stuff um that flat

00:05:18,400 --> 00:05:21,520
pack

00:05:18,720 --> 00:05:22,560
does under the hood uh but the general

00:05:21,520 --> 00:05:25,919
idea is that

00:05:22,560 --> 00:05:27,120
it's simple it's json on the armor just

00:05:25,919 --> 00:05:29,440
a bunch of lines

00:05:27,120 --> 00:05:30,800
without any shell scripts or anything

00:05:29,440 --> 00:05:34,160
else

00:05:30,800 --> 00:05:36,479
and yeah so

00:05:34,160 --> 00:05:38,479
when you have this and you actually

00:05:36,479 --> 00:05:41,759
manage to to get this on flat hub

00:05:38,479 --> 00:05:44,320
then or any other store using flashback

00:05:41,759 --> 00:05:45,039
then you basically build it once and run

00:05:44,320 --> 00:05:48,320
everywhere

00:05:45,039 --> 00:05:51,199
because flat pack is portable tool

00:05:48,320 --> 00:05:53,600
and you can use it on any distribution

00:05:51,199 --> 00:05:56,720
whether it's ubuntu fedora or

00:05:53,600 --> 00:05:59,759
chrome os or alpine linux which

00:05:56,720 --> 00:06:01,360
is completely different from usual

00:05:59,759 --> 00:06:04,840
linux distributions that people are

00:06:01,360 --> 00:06:07,520
using then everything should work just

00:06:04,840 --> 00:06:10,319
fine so

00:06:07,520 --> 00:06:11,440
uh just so you don't need to actually

00:06:10,319 --> 00:06:14,080
bother with

00:06:11,440 --> 00:06:15,199
building your own linux distribution to

00:06:14,080 --> 00:06:17,919
build your own app

00:06:15,199 --> 00:06:19,199
there is a common runtime called free

00:06:17,919 --> 00:06:22,960
desktop sdk

00:06:19,199 --> 00:06:26,160
which is a base runtime with gtk

00:06:22,960 --> 00:06:28,960
and all the other based linux

00:06:26,160 --> 00:06:29,600
libraries and on top of this we have

00:06:28,960 --> 00:06:32,160
gnome

00:06:29,600 --> 00:06:33,520
and kde runtimes which are also

00:06:32,160 --> 00:06:36,160
maintained

00:06:33,520 --> 00:06:36,560
separately a separate project although

00:06:36,160 --> 00:06:39,680
as

00:06:36,560 --> 00:06:40,560
usually some people are helping out

00:06:39,680 --> 00:06:43,280
everywhere

00:06:40,560 --> 00:06:44,960
which is absolutely great this way we

00:06:43,280 --> 00:06:47,360
can ensure that

00:06:44,960 --> 00:06:48,000
first of all you as a maintainer don't

00:06:47,360 --> 00:06:51,360
need to

00:06:48,000 --> 00:06:54,400
think about um whatever runtime is

00:06:51,360 --> 00:06:56,319
and someone else is handling security

00:06:54,400 --> 00:06:57,440
updates and bug fixes and everything

00:06:56,319 --> 00:07:00,000
else

00:06:57,440 --> 00:07:01,199
however as on up maintainer you are not

00:07:00,000 --> 00:07:03,039
limited to just

00:07:01,199 --> 00:07:04,960
what runtimes provides but you can also

00:07:03,039 --> 00:07:07,840
bundle specific dependencies that

00:07:04,960 --> 00:07:09,120
only your app needs so you don't need to

00:07:07,840 --> 00:07:11,919
care about

00:07:09,120 --> 00:07:12,960
openssl but if your application needs to

00:07:11,919 --> 00:07:16,320
leave tiramisu

00:07:12,960 --> 00:07:19,430
then you are good to go to bundle this

00:07:16,320 --> 00:07:19,430
[Music]

00:07:20,800 --> 00:07:24,080
yeah and the most important part about

00:07:22,960 --> 00:07:27,199
flat pack

00:07:24,080 --> 00:07:28,479
and in a way about flat hat is that flat

00:07:27,199 --> 00:07:32,240
pack is not

00:07:28,479 --> 00:07:33,840
tied to single store so white flat hub

00:07:32,240 --> 00:07:36,960
is de facto place to

00:07:33,840 --> 00:07:40,080
get your app built

00:07:36,960 --> 00:07:40,479
or or get your apps from then there's

00:07:40,080 --> 00:07:44,720
also

00:07:40,479 --> 00:07:47,840
an elementary

00:07:44,720 --> 00:07:51,120
on the way and fedora also has its own

00:07:47,840 --> 00:07:52,319
so flat pack itself is independent and

00:07:51,120 --> 00:07:55,280
flat hub

00:07:52,319 --> 00:07:56,840
while obviously again some people work

00:07:55,280 --> 00:08:00,400
on both stuff

00:07:56,840 --> 00:08:00,400
um it's not

00:08:01,199 --> 00:08:04,960
driving flat back development

00:08:05,199 --> 00:08:08,720
and flathead itself on the same note is

00:08:07,919 --> 00:08:11,599
completely

00:08:08,720 --> 00:08:12,080
independent committee project with lots

00:08:11,599 --> 00:08:15,520
of people

00:08:12,080 --> 00:08:19,360
involved some of the companies donating

00:08:15,520 --> 00:08:22,000
time are red hat endless or code thing

00:08:19,360 --> 00:08:24,800
and also multiple hardware sponsors or

00:08:22,000 --> 00:08:26,240
service sponsors help out with flat hub

00:08:24,800 --> 00:08:29,440
which is

00:08:26,240 --> 00:08:30,479
mighty beasts providing some base

00:08:29,440 --> 00:08:33,839
servers that

00:08:30,479 --> 00:08:36,240
are serving their repo as a fastly which

00:08:33,839 --> 00:08:40,080
which does the cdn or equinix metal

00:08:36,240 --> 00:08:42,719
which donates or they build infra

00:08:40,080 --> 00:08:43,440
there's obviously many more companies

00:08:42,719 --> 00:08:45,839
helping

00:08:43,440 --> 00:08:47,120
out either with flashback or flat hub

00:08:45,839 --> 00:08:50,399
runtimes or

00:08:47,120 --> 00:08:51,600
helping out with various services that

00:08:50,399 --> 00:08:55,040
flat hub is using

00:08:51,600 --> 00:08:55,600
which i obviously we are all thankful

00:08:55,040 --> 00:08:58,640
for

00:08:55,600 --> 00:09:01,920
uh but uh

00:08:58,640 --> 00:09:04,880
i i i it's not possible that i will

00:09:01,920 --> 00:09:05,600
remember everyone so sorry if i forgot

00:09:04,880 --> 00:09:08,080
about you

00:09:05,600 --> 00:09:10,160
and uh i'm pretty sure we are listed on

00:09:08,080 --> 00:09:13,839
our website

00:09:10,160 --> 00:09:17,360
so this is what flat hub is

00:09:13,839 --> 00:09:21,120
let's talk about what we have been doing

00:09:17,360 --> 00:09:24,399
or plan to do in the future

00:09:21,120 --> 00:09:25,279
so this is a graph of flat up

00:09:24,399 --> 00:09:28,480
applications

00:09:25,279 --> 00:09:30,160
from september um the

00:09:28,480 --> 00:09:31,760
latest graph is a little bit wrong

00:09:30,160 --> 00:09:34,800
because we broke

00:09:31,760 --> 00:09:38,080
the api used to calculate

00:09:34,800 --> 00:09:39,360
available apps but the bottom line of

00:09:38,080 --> 00:09:41,600
this graph is that

00:09:39,360 --> 00:09:43,200
we have a steady growth first since

00:09:41,600 --> 00:09:48,480
laptop started

00:09:43,200 --> 00:09:50,720
and we are currently at 961 applications

00:09:48,480 --> 00:09:51,600
and in fact there's a little bit more

00:09:50,720 --> 00:09:54,080
because

00:09:51,600 --> 00:09:55,040
since i created the slides we have added

00:09:54,080 --> 00:09:57,279
two more

00:09:55,040 --> 00:09:59,440
and uh there's a number of apps

00:09:57,279 --> 00:10:02,560
available only in flat hub beta

00:09:59,440 --> 00:10:05,920
for various reasons like chrome but

00:10:02,560 --> 00:10:09,839
also chromium brave browser

00:10:05,920 --> 00:10:12,959
um and few more so we are

00:10:09,839 --> 00:10:14,480
getting pretty close to one thousand um

00:10:12,959 --> 00:10:18,240
whether we will actually get to one

00:10:14,480 --> 00:10:18,240
thousand who will this year we will see

00:10:18,959 --> 00:10:22,720
however the number of apps doesn't mean

00:10:22,240 --> 00:10:26,000
much

00:10:22,720 --> 00:10:29,440
if you have no users

00:10:26,000 --> 00:10:32,480
so let's see at something

00:10:29,440 --> 00:10:34,959
more interesting than just number of the

00:10:32,480 --> 00:10:37,600
applications

00:10:34,959 --> 00:10:38,480
this is the graph of flat hub downloads

00:10:37,600 --> 00:10:41,920
which is

00:10:38,480 --> 00:10:45,600
well very unreadable because

00:10:41,920 --> 00:10:48,880
the traffic differs depending on the

00:10:45,600 --> 00:10:51,040
available updates and then it starts on

00:10:48,880 --> 00:10:52,800
non-trivial to calculate when someone's

00:10:51,040 --> 00:10:56,480
actually installing a new app

00:10:52,800 --> 00:10:59,200
or just updating it uh

00:10:56,480 --> 00:11:01,120
however the the gist of this trend is

00:10:59,200 --> 00:11:04,000
that

00:11:01,120 --> 00:11:04,560
more people are using flat hub since we

00:11:04,000 --> 00:11:07,839
started

00:11:04,560 --> 00:11:10,959
which obviously is a great thing

00:11:07,839 --> 00:11:11,600
more or actually better better place to

00:11:10,959 --> 00:11:13,519
check

00:11:11,600 --> 00:11:15,680
whether we have more users or not would

00:11:13,519 --> 00:11:18,480
be cdn provided by fastly

00:11:15,680 --> 00:11:20,160
so here we go as you can see the the

00:11:18,480 --> 00:11:24,000
graph is

00:11:20,160 --> 00:11:25,680
increasingly growing the black lines are

00:11:24,000 --> 00:11:27,279
the moments when i was trying to improve

00:11:25,680 --> 00:11:28,399
something in the configuration usually

00:11:27,279 --> 00:11:31,600
breaking something

00:11:28,399 --> 00:11:34,160
which which is you can see here

00:11:31,600 --> 00:11:36,560
this this laws in the graph this is

00:11:34,160 --> 00:11:39,120
usually me breaking something

00:11:36,560 --> 00:11:39,839
um yeah but things are pretty stable

00:11:39,120 --> 00:11:43,519
these days

00:11:39,839 --> 00:11:47,519
and yeah we have only more

00:11:43,519 --> 00:11:49,920
traffic nowadays um

00:11:47,519 --> 00:11:52,079
yeah and the funny thing about growth is

00:11:49,920 --> 00:11:52,720
that at some point we just couldn't keep

00:11:52,079 --> 00:11:56,320
up with

00:11:52,720 --> 00:11:59,519
the traffic so at some point

00:11:56,320 --> 00:12:02,399
uh our servers decided that uh

00:11:59,519 --> 00:12:03,440
we no longer are able to surf all the

00:12:02,399 --> 00:12:05,920
requests that

00:12:03,440 --> 00:12:06,639
were coming from the cdn so as you can

00:12:05,920 --> 00:12:09,360
see

00:12:06,639 --> 00:12:10,480
this is called mislatency in in cdn

00:12:09,360 --> 00:12:14,800
terms

00:12:10,480 --> 00:12:17,680
and this growth of mislatancy

00:12:14,800 --> 00:12:18,720
was just causing errors uh pretty much

00:12:17,680 --> 00:12:21,279
meaning that

00:12:18,720 --> 00:12:23,680
we were unable or actually you were

00:12:21,279 --> 00:12:26,800
unable to install new applications or

00:12:23,680 --> 00:12:28,720
runtimes so

00:12:26,800 --> 00:12:30,560
with my infrastructure hat on the

00:12:28,720 --> 00:12:33,680
biggest changes here is that we

00:12:30,560 --> 00:12:37,440
actually work properly these days

00:12:33,680 --> 00:12:40,000
and everything works

00:12:37,440 --> 00:12:43,360
fast when you for example try to

00:12:40,000 --> 00:12:47,600
download something bigger from flat hub

00:12:43,360 --> 00:12:47,600
um yeah

00:12:48,160 --> 00:12:51,760
the biggest addition this year is

00:12:51,040 --> 00:12:54,800
firefox

00:12:51,760 --> 00:12:56,240
which has been in the works for like two

00:12:54,800 --> 00:12:59,519
years i think

00:12:56,240 --> 00:13:02,720
with many many people involved um

00:12:59,519 --> 00:13:06,240
so nowadays firefox is on

00:13:02,720 --> 00:13:06,800
flat hub on both flat up stable and flat

00:13:06,240 --> 00:13:10,399
hub

00:13:06,800 --> 00:13:13,279
beta and it's not

00:13:10,399 --> 00:13:14,959
maintained by us or some random shady

00:13:13,279 --> 00:13:18,240
guy who submitted this but

00:13:14,959 --> 00:13:21,279
just by mozilla themselves so

00:13:18,240 --> 00:13:23,680
new versions of firefox are published

00:13:21,279 --> 00:13:25,440
on the same day when the release happens

00:13:23,680 --> 00:13:27,519
and it's actually plugged in into

00:13:25,440 --> 00:13:29,920
mozilla's automation so when

00:13:27,519 --> 00:13:32,079
new i don't know windows installers or

00:13:29,920 --> 00:13:32,639
linux servers are uploaded to ftp

00:13:32,079 --> 00:13:36,639
servers

00:13:32,639 --> 00:13:36,639
it's also pushed directly to flat hub

00:13:36,720 --> 00:13:43,279
i'm actually using this since february

00:13:40,000 --> 00:13:45,760
and it works just great i

00:13:43,279 --> 00:13:47,600
literally removed firefox shipped with

00:13:45,760 --> 00:13:51,120
fedora because

00:13:47,600 --> 00:13:52,639
why wouldn't i it's mozilla's firefox

00:13:51,120 --> 00:13:54,639
work just fine

00:13:52,639 --> 00:13:57,199
there's also a better version available

00:13:54,639 --> 00:14:00,160
in firefox in flathop beta

00:13:57,199 --> 00:14:00,720
so if you are interested in testing new

00:14:00,160 --> 00:14:03,199
features

00:14:00,720 --> 00:14:03,760
then please give it a shot and in the

00:14:03,199 --> 00:14:06,320
future

00:14:03,760 --> 00:14:08,480
we also plan to ship nicely and

00:14:06,320 --> 00:14:10,959
developer edition so you can

00:14:08,480 --> 00:14:12,480
test basically full life cycle of

00:14:10,959 --> 00:14:16,000
firefox with for

00:14:12,480 --> 00:14:18,959
installable apps um

00:14:16,000 --> 00:14:19,519
yeah so basically everything is great

00:14:18,959 --> 00:14:22,800
right

00:14:19,519 --> 00:14:25,040
um graphs are growing

00:14:22,800 --> 00:14:25,920
new apps are being submitted and

00:14:25,040 --> 00:14:28,959
published

00:14:25,920 --> 00:14:33,440
and there is nothing to complain about

00:14:28,959 --> 00:14:33,440
um yeah so

00:14:33,839 --> 00:14:37,199
my opinion usual opinion is that

00:14:36,399 --> 00:14:40,000
everything

00:14:37,199 --> 00:14:41,040
could be better um because i'm from

00:14:40,000 --> 00:14:42,800
poland

00:14:41,040 --> 00:14:44,959
and if there's a single thing we are

00:14:42,800 --> 00:14:48,320
good at it's complaining

00:14:44,959 --> 00:14:51,760
uh so let's have a look at

00:14:48,320 --> 00:14:55,040
um what we planned to improve

00:14:51,760 --> 00:14:56,839
or what could be improved but there are

00:14:55,040 --> 00:14:59,760
no

00:14:56,839 --> 00:15:02,399
answers so

00:14:59,760 --> 00:15:04,560
one of the changes you likely haven't

00:15:02,399 --> 00:15:06,560
noticed because it's completely

00:15:04,560 --> 00:15:10,320
hidden stuff is that we have a new

00:15:06,560 --> 00:15:14,160
backend which is why we broke

00:15:10,320 --> 00:15:18,079
graphs of new apps that andrew can

00:15:14,160 --> 00:15:19,920
tell you about in the chat um

00:15:18,079 --> 00:15:21,440
the new backend is written in python so

00:15:19,920 --> 00:15:23,600
this is actually great because

00:15:21,440 --> 00:15:24,560
more people can contribute the the whole

00:15:23,600 --> 00:15:26,880
one was in java

00:15:24,560 --> 00:15:29,120
and it turns out that most of java

00:15:26,880 --> 00:15:29,600
developer developers are apparently busy

00:15:29,120 --> 00:15:31,920
with

00:15:29,600 --> 00:15:32,800
writing android enterprise stuff instead

00:15:31,920 --> 00:15:35,920
of

00:15:32,800 --> 00:15:39,920
contributing to open source so that's

00:15:35,920 --> 00:15:41,680
good news one of the changes that new

00:15:39,920 --> 00:15:44,800
backend brought was

00:15:41,680 --> 00:15:48,240
a new search which sounds great

00:15:44,800 --> 00:15:50,079
but results are pretty terrible so for

00:15:48,240 --> 00:15:52,800
example if you go to flathub.org

00:15:50,079 --> 00:15:53,199
right now and type video into the search

00:15:52,800 --> 00:15:55,920
bar

00:15:53,199 --> 00:15:56,240
and you are pretty sure that you will

00:15:55,920 --> 00:16:00,240
see

00:15:56,240 --> 00:16:03,600
ptv on the very bottom of the results so

00:16:00,240 --> 00:16:06,800
there is a lot of room for improvements

00:16:03,600 --> 00:16:08,000
either by right now switching the tool

00:16:06,800 --> 00:16:11,279
used for providing

00:16:08,000 --> 00:16:14,000
search or whatever else i'm

00:16:11,279 --> 00:16:16,160
mostly hammering servers and not writing

00:16:14,000 --> 00:16:18,160
back and services so

00:16:16,160 --> 00:16:19,759
i'm always open to to hear some

00:16:18,160 --> 00:16:23,040
suggestions

00:16:19,759 --> 00:16:25,360
um the other thing is

00:16:23,040 --> 00:16:28,800
the website website hasn't changed much

00:16:25,360 --> 00:16:28,800
since flat hub exists

00:16:29,680 --> 00:16:33,519
which is again not a terrible thing

00:16:32,240 --> 00:16:35,680
because

00:16:33,519 --> 00:16:36,560
the website itself looks great however

00:16:35,680 --> 00:16:40,079
it could

00:16:36,560 --> 00:16:41,600
be better so some folks from the

00:16:40,079 --> 00:16:44,480
community

00:16:41,600 --> 00:16:45,519
are working on new websites and new

00:16:44,480 --> 00:16:49,199
design which will

00:16:45,519 --> 00:16:52,959
look more like gnome software or

00:16:49,199 --> 00:16:54,560
kde discover um if you

00:16:52,959 --> 00:16:56,160
zoom in on the flight you can actually

00:16:54,560 --> 00:16:59,199
see the uh

00:16:56,160 --> 00:17:02,639
actual address where this however

00:16:59,199 --> 00:17:04,559
it's obviously not being automatically

00:17:02,639 --> 00:17:06,720
updated on a new

00:17:04,559 --> 00:17:07,600
update or anything like this this is

00:17:06,720 --> 00:17:10,319
just a proof

00:17:07,600 --> 00:17:12,160
of concept how things may look in the

00:17:10,319 --> 00:17:15,600
future

00:17:12,160 --> 00:17:15,600
and on that note

00:17:15,760 --> 00:17:19,120
the details of the apps will also look

00:17:18,400 --> 00:17:21,120
differently

00:17:19,120 --> 00:17:22,160
this is more or less how it currently

00:17:21,120 --> 00:17:25,600
looks like

00:17:22,160 --> 00:17:28,319
so a logo short description screenshots

00:17:25,600 --> 00:17:29,120
longer description and some additional

00:17:28,319 --> 00:17:33,280
information

00:17:29,120 --> 00:17:37,039
and urls to various websites

00:17:33,280 --> 00:17:40,160
the current idea is like this however

00:17:37,039 --> 00:17:44,640
this also brings many questions

00:17:40,160 --> 00:17:46,720
of what could be also included so

00:17:44,640 --> 00:17:48,640
for example gnome software and kd

00:17:46,720 --> 00:17:52,320
discover have access to

00:17:48,640 --> 00:17:55,039
odrs which has some reviews then

00:17:52,320 --> 00:17:56,000
the question is whether we really want

00:17:55,039 --> 00:17:57,840
to

00:17:56,000 --> 00:18:00,000
show some random reviews when there is

00:17:57,840 --> 00:18:03,120
no easy way to tell whether

00:18:00,000 --> 00:18:04,799
someone reviewed the app on fedora or

00:18:03,120 --> 00:18:08,000
debian or arch

00:18:04,799 --> 00:18:09,280
or actually from platform then we are

00:18:08,000 --> 00:18:13,280
also wondering how to

00:18:09,280 --> 00:18:16,559
show console applications because

00:18:13,280 --> 00:18:18,640
that count of apps from before

00:18:16,559 --> 00:18:20,400
didn't include them because at the

00:18:18,640 --> 00:18:23,919
moment we are ignoring

00:18:20,400 --> 00:18:28,000
existence of cli apps

00:18:23,919 --> 00:18:30,880
and then some applications as well

00:18:28,000 --> 00:18:32,160
have extensions whether they provide

00:18:30,880 --> 00:18:35,280
some

00:18:32,160 --> 00:18:38,480
fancy features for chat or

00:18:35,280 --> 00:18:41,440
uh i don't know bluegate plugins for for

00:18:38,480 --> 00:18:42,799
viewing youtube videos in totem that's

00:18:41,440 --> 00:18:46,000
currently completely not

00:18:42,799 --> 00:18:47,120
displayed on the website hurting well

00:18:46,000 --> 00:18:50,320
discoverability of

00:18:47,120 --> 00:18:53,840
features um

00:18:50,320 --> 00:18:57,360
yeah so obviously we will see this is

00:18:53,840 --> 00:19:00,720
all work in progress

00:18:57,360 --> 00:19:05,280
i see myself complaining about initials

00:19:00,720 --> 00:19:05,280
um that happens sorry

00:19:05,520 --> 00:19:14,400
um yeah so that's about user facing part

00:19:10,559 --> 00:19:17,120
however uh one thing i'm

00:19:14,400 --> 00:19:19,280
very unhappy about is the general

00:19:17,120 --> 00:19:22,960
developer experience

00:19:19,280 --> 00:19:25,600
um so for example

00:19:22,960 --> 00:19:28,000
this is how the submission process looks

00:19:25,600 --> 00:19:31,039
nowadays so you need to fork our main

00:19:28,000 --> 00:19:33,200
git repository on github then

00:19:31,039 --> 00:19:34,960
create new branch from specific branch

00:19:33,200 --> 00:19:38,080
called new pr

00:19:34,960 --> 00:19:40,880
add your manifesto commit push

00:19:38,080 --> 00:19:41,360
blah blah blah and create a new request

00:19:40,880 --> 00:19:44,320
to that

00:19:41,360 --> 00:19:45,600
original repository uh making sure that

00:19:44,320 --> 00:19:48,640
we have pressed

00:19:45,600 --> 00:19:51,600
the good button for origin branch and

00:19:48,640 --> 00:19:54,799
then you are waiting for the review from

00:19:51,600 --> 00:19:58,160
me or for other people

00:19:54,799 --> 00:20:01,840
that are reviewing new submissions

00:19:58,160 --> 00:20:03,840
and then when you build kicks in

00:20:01,840 --> 00:20:05,600
it turns out that for some reason you

00:20:03,840 --> 00:20:08,080
are missing icon files

00:20:05,600 --> 00:20:08,960
or you are missing meta info file in

00:20:08,080 --> 00:20:12,799
general

00:20:08,960 --> 00:20:16,320
then arch 64

00:20:12,799 --> 00:20:18,480
also face to build something else has to

00:20:16,320 --> 00:20:21,520
be because you have no network access

00:20:18,480 --> 00:20:24,799
then it turns out that you have left

00:20:21,520 --> 00:20:27,280
lots of static libraries

00:20:24,799 --> 00:20:28,320
in your application meaning that your

00:20:27,280 --> 00:20:31,280
app is

00:20:28,320 --> 00:20:33,520
much bigger than it should be or because

00:20:31,280 --> 00:20:36,080
you are not very interested in tracking

00:20:33,520 --> 00:20:37,600
numbers you forgot

00:20:36,080 --> 00:20:39,679
that there is a new around time

00:20:37,600 --> 00:20:41,760
available so you have using

00:20:39,679 --> 00:20:44,320
the old one which might be not

00:20:41,760 --> 00:20:48,960
maintained anymore or for long

00:20:44,320 --> 00:20:48,960
so to actually fix that

00:20:49,120 --> 00:20:56,720
i'm thinking about preparing some

00:20:53,520 --> 00:20:57,520
i don't know inter but this is very very

00:20:56,720 --> 00:21:02,159
long

00:20:57,520 --> 00:21:06,159
um very very long uh

00:21:02,159 --> 00:21:09,679
subject so our documentation is poor

00:21:06,159 --> 00:21:12,799
um there's no winter

00:21:09,679 --> 00:21:14,640
so we are actually going

00:21:12,799 --> 00:21:17,039
line by line looking at the ammo files

00:21:14,640 --> 00:21:17,840
doing 3d phase and then leaving comments

00:21:17,039 --> 00:21:20,559
that something

00:21:17,840 --> 00:21:21,440
is wrong what could be to know better

00:21:20,559 --> 00:21:24,799
and

00:21:21,440 --> 00:21:27,280
for submission that's

00:21:24,799 --> 00:21:28,000
again my slides are not changing i'm

00:21:27,280 --> 00:21:30,960
talking

00:21:28,000 --> 00:21:32,799
still about the same stuff i will change

00:21:30,960 --> 00:21:36,000
slides in a minute

00:21:32,799 --> 00:21:38,240
uh yeah so we could provide a web ui for

00:21:36,000 --> 00:21:40,159
easier submission using github api for

00:21:38,240 --> 00:21:45,360
example or maybe just some

00:21:40,159 --> 00:21:48,480
simple upload upload form um

00:21:45,360 --> 00:21:51,520
yeah this is basically something that's

00:21:48,480 --> 00:21:52,720
very open to discussion and we would

00:21:51,520 --> 00:21:55,760
love to hear

00:21:52,720 --> 00:21:57,520
how the ideal process would look like

00:21:55,760 --> 00:22:01,360
maybe based on your experiences with

00:21:57,520 --> 00:22:01,360
google play or apple store

00:22:03,280 --> 00:22:08,559
the other thing is that when you are a

00:22:05,919 --> 00:22:10,400
maintainer

00:22:08,559 --> 00:22:11,919
you could probably use more automation

00:22:10,400 --> 00:22:13,760
because at the moment you are pretty

00:22:11,919 --> 00:22:17,039
much on your own so

00:22:13,760 --> 00:22:18,000
when you release is out which you might

00:22:17,039 --> 00:22:20,640
not know about

00:22:18,000 --> 00:22:21,600
you should bump it or at some point it

00:22:20,640 --> 00:22:24,080
will produce

00:22:21,600 --> 00:22:24,960
a warning that your runtime is

00:22:24,080 --> 00:22:26,799
unmaintained

00:22:24,960 --> 00:22:28,559
but it will be displayed only to users

00:22:26,799 --> 00:22:30,559
and not to you so

00:22:28,559 --> 00:22:32,400
what would be cool is to actually notify

00:22:30,559 --> 00:22:33,919
maintainers that there are new runtime

00:22:32,400 --> 00:22:36,159
reviews

00:22:33,919 --> 00:22:36,159
um

00:22:38,320 --> 00:22:43,120
cve tracker um so when you're bundling

00:22:41,760 --> 00:22:45,840
your dependencies

00:22:43,120 --> 00:22:46,960
something could be checking whether they

00:22:45,840 --> 00:22:49,039
are outdated or not

00:22:46,960 --> 00:22:50,640
this is currently missing there are

00:22:49,039 --> 00:22:51,600
there are various tools that are

00:22:50,640 --> 00:22:53,280
providing

00:22:51,600 --> 00:22:55,280
such features but we are currently not

00:22:53,280 --> 00:22:58,720
using them at all

00:22:55,280 --> 00:23:02,080
and in the results some people complain

00:22:58,720 --> 00:23:02,400
that apps are checking updated libraries

00:23:02,080 --> 00:23:06,000
and

00:23:02,400 --> 00:23:09,039
and so on and so on and that i think

00:23:06,000 --> 00:23:11,120
that at least i as a developer would

00:23:09,039 --> 00:23:14,320
personally be interested in

00:23:11,120 --> 00:23:16,880
would be um that when i create

00:23:14,320 --> 00:23:17,440
a new release on my original repo with

00:23:16,880 --> 00:23:20,960
the code

00:23:17,440 --> 00:23:23,440
then something picks it up and tries to

00:23:20,960 --> 00:23:24,640
figure out whether it builds on flat hub

00:23:23,440 --> 00:23:26,640
or not and then just

00:23:24,640 --> 00:23:28,640
leaves and open the request that we can

00:23:26,640 --> 00:23:31,039
accept and

00:23:28,640 --> 00:23:31,039
it's done

00:23:32,320 --> 00:23:37,120
so obviously being a community open

00:23:35,520 --> 00:23:40,240
source project

00:23:37,120 --> 00:23:45,120
we need help so this

00:23:40,240 --> 00:23:45,120
is again vast subject

00:23:45,360 --> 00:23:49,600
most important thing obviously is that

00:23:47,039 --> 00:23:51,200
we want new applications so

00:23:49,600 --> 00:23:53,279
if there's something that you are using

00:23:51,200 --> 00:23:55,440
or would like to be using but

00:23:53,279 --> 00:23:57,120
your distribution is not packaging this

00:23:55,440 --> 00:24:00,320
please submit your app

00:23:57,120 --> 00:24:04,159
however first talk to the

00:24:00,320 --> 00:24:07,200
applications developers um

00:24:04,159 --> 00:24:07,520
and this is actually kind of chicken and

00:24:07,200 --> 00:24:10,799
that

00:24:07,520 --> 00:24:13,360
problem because uh

00:24:10,799 --> 00:24:15,600
we technically could be rejecting

00:24:13,360 --> 00:24:17,279
applications that are not accepted by

00:24:15,600 --> 00:24:18,880
option developers however we wouldn't

00:24:17,279 --> 00:24:23,360
have applications at all that

00:24:18,880 --> 00:24:24,480
so doing developer advocacy job is also

00:24:23,360 --> 00:24:27,360
very important so

00:24:24,480 --> 00:24:28,799
poking upstream is right i could be

00:24:27,360 --> 00:24:31,600
using flat pack and

00:24:28,799 --> 00:24:32,080
why it's great it's it's very important

00:24:31,600 --> 00:24:35,120
job

00:24:32,080 --> 00:24:37,440
um yeah as i've said before

00:24:35,120 --> 00:24:39,840
documentation is other terrible so

00:24:37,440 --> 00:24:41,039
if you have any general remarks about

00:24:39,840 --> 00:24:43,200
documentation or

00:24:41,039 --> 00:24:44,159
would like to write a proper

00:24:43,200 --> 00:24:47,520
documentation

00:24:44,159 --> 00:24:50,640
to us to be much much

00:24:47,520 --> 00:24:53,360
appreciated and

00:24:50,640 --> 00:24:54,320
development of course because i'm

00:24:53,360 --> 00:24:55,919
terrible at this

00:24:54,320 --> 00:24:57,760
and while you have some people working

00:24:55,919 --> 00:25:00,880
on that and

00:24:57,760 --> 00:25:04,240
it's always nice to

00:25:00,880 --> 00:25:07,279
hear what could have been done better

00:25:04,240 --> 00:25:10,400
and if you are already a maintainer

00:25:07,279 --> 00:25:12,720
please reach out to us because sometimes

00:25:10,400 --> 00:25:15,840
it's very hard to know what is wrong

00:25:12,720 --> 00:25:15,840
when you are not

00:25:16,480 --> 00:25:21,360
outsider so being here for over three

00:25:19,840 --> 00:25:23,840
years working with that hub

00:25:21,360 --> 00:25:24,480
i take some things for granted we all do

00:25:23,840 --> 00:25:28,000
so

00:25:24,480 --> 00:25:31,440
if you have any feedback even even very

00:25:28,000 --> 00:25:33,520
general one not uh not nothing

00:25:31,440 --> 00:25:35,679
nothing specific but just hey your

00:25:33,520 --> 00:25:36,960
documentation sucks please get in touch

00:25:35,679 --> 00:25:39,760
that's

00:25:36,960 --> 00:25:42,640
gonna be very helpful even if without

00:25:39,760 --> 00:25:45,039
even without details

00:25:42,640 --> 00:25:45,039
thank you

00:25:46,880 --> 00:25:51,279
i assume there are questions in short

00:25:49,039 --> 00:25:51,279
notes

00:25:51,760 --> 00:25:55,200
yeah my name is bartomi that l with

00:25:54,640 --> 00:25:58,480
slash

00:25:55,200 --> 00:26:00,000
is way in my in my language it's pretty

00:25:58,480 --> 00:26:01,679
crazy don't think about this stuff for

00:26:00,000 --> 00:26:05,360
too long

00:26:01,679 --> 00:26:07,520
um thank you so much okay yeah

00:26:05,360 --> 00:26:10,240
um thank you for your talk it was um

00:26:07,520 --> 00:26:12,640
quite um engaging on the chat and um

00:26:10,240 --> 00:26:13,600
interesting as well i see that you

00:26:12,640 --> 00:26:15,760
started with the first

00:26:13,600 --> 00:26:16,720
question of course i also want to know

00:26:15,760 --> 00:26:19,679
how

00:26:16,720 --> 00:26:19,679
your name is yeah

00:26:20,320 --> 00:26:24,000
okay and so i'll just go on to the

00:26:23,520 --> 00:26:27,520
second

00:26:24,000 --> 00:26:29,919
question are there plans to provide devs

00:26:27,520 --> 00:26:32,320
we use flat or to distribute apps to get

00:26:29,919 --> 00:26:35,520
a report on how many downloads how many

00:26:32,320 --> 00:26:38,400
clicks on donate

00:26:35,520 --> 00:26:39,840
um yeah absolutely i mean there are

00:26:38,400 --> 00:26:41,679
plans for almost everything

00:26:39,840 --> 00:26:43,039
and we are actually moving slowly

00:26:41,679 --> 00:26:46,320
towards having

00:26:43,039 --> 00:26:49,840
a proper proper statistics page

00:26:46,320 --> 00:26:50,559
available to anyone there is a raw data

00:26:49,840 --> 00:26:53,360
available

00:26:50,559 --> 00:26:56,320
on the website i have it somewhere in

00:26:53,360 --> 00:26:56,320
the slides here

00:26:59,600 --> 00:27:03,679
here in the bottom right corner is

00:27:02,400 --> 00:27:07,840
flathop.org

00:27:03,679 --> 00:27:10,799
stats so this is raw json files that

00:27:07,840 --> 00:27:12,400
you can use to produce a graph or

00:27:10,799 --> 00:27:14,480
whatever but we plan to integrate this

00:27:12,400 --> 00:27:17,600
into the website

00:27:14,480 --> 00:27:19,520
okay great thank you um next question is

00:27:17,600 --> 00:27:21,679
how long does it take

00:27:19,520 --> 00:27:23,440
on average for a project to get to get

00:27:21,679 --> 00:27:26,399
reviewed

00:27:23,440 --> 00:27:27,039
so nobody is technically paid on working

00:27:26,399 --> 00:27:30,240
on

00:27:27,039 --> 00:27:33,520
flat hubs so it usually takes a day

00:27:30,240 --> 00:27:34,720
two or three but rarely the longer than

00:27:33,520 --> 00:27:37,360
this

00:27:34,720 --> 00:27:38,240
um we usually have some feedback so it's

00:27:37,360 --> 00:27:41,919
a little bit of

00:27:38,240 --> 00:27:45,120
ping pong game until we arrive at some

00:27:41,919 --> 00:27:47,279
accessible solution but it rarely takes

00:27:45,120 --> 00:27:50,000
longer than a week

00:27:47,279 --> 00:27:51,840
okay um um great we still have more

00:27:50,000 --> 00:27:54,480
questions coming up so i'm just gonna

00:27:51,840 --> 00:27:56,960
do that as fast as i can so what is the

00:27:54,480 --> 00:27:57,279
workflow when you already have the flat

00:27:56,960 --> 00:28:02,559
uh

00:27:57,279 --> 00:28:05,679
packages on files in the apps git repo

00:28:02,559 --> 00:28:08,880
so yeah the workflow

00:28:05,679 --> 00:28:12,159
is pretty much i i have described this

00:28:08,880 --> 00:28:14,880
in the slide somewhere which

00:28:12,159 --> 00:28:16,720
is not ideal but it is what it is so you

00:28:14,880 --> 00:28:19,600
fork the main flathead repo

00:28:16,720 --> 00:28:21,200
add your files there and then submit

00:28:19,600 --> 00:28:23,039
this as a pull request

00:28:21,200 --> 00:28:25,440
and then eventually you will create a

00:28:23,039 --> 00:28:27,520
new repository under

00:28:25,440 --> 00:28:30,720
a flathead organization on github where

00:28:27,520 --> 00:28:34,399
only the manifest should be stored

00:28:30,720 --> 00:28:38,320
great so on to the fifth question

00:28:34,399 --> 00:28:41,279
what is the current project governance

00:28:38,320 --> 00:28:42,080
um yeah so that's a little bit tricky we

00:28:41,279 --> 00:28:45,200
have had

00:28:42,080 --> 00:28:48,399
a call on governance few months back

00:28:45,200 --> 00:28:51,200
with gnome and kde false but

00:28:48,399 --> 00:28:54,159
a little bit like with um any open

00:28:51,200 --> 00:28:57,440
source project it's uh dual crazy so

00:28:54,159 --> 00:28:59,440
if someone comes up and does the work

00:28:57,440 --> 00:29:02,000
then he is usually the one deciding

00:28:59,440 --> 00:29:02,000
about something

00:29:02,159 --> 00:29:06,480
interesting um so i think the last

00:29:05,279 --> 00:29:08,880
question is going to be

00:29:06,480 --> 00:29:11,120
has any projects been removed from flat

00:29:08,880 --> 00:29:11,120
off

00:29:11,200 --> 00:29:17,520
um oh

00:29:14,480 --> 00:29:20,880
from the top of my mind we have removed

00:29:17,520 --> 00:29:23,120
an application that cassidy from

00:29:20,880 --> 00:29:27,840
elementary did because it had been

00:29:23,120 --> 00:29:30,039
submitted without his permission

00:29:27,840 --> 00:29:33,039
i don't think anything else has been

00:29:30,039 --> 00:29:33,039

YouTube URL: https://www.youtube.com/watch?v=IqHEx-Lug8k


