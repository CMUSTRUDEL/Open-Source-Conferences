Title: Serving for the win: Deployments and hosting for the rest of us - Phil Hawksworth | JSHeroes 2018
Publication date: 2018-05-09
Playlist: JSHeroes 2018
Description: 
	You’ve chosen your frameworks and libraries. You’ve learned how to write code which satisfies the buzzword and performance gods. Now you need to serve it to a global audience, and make things easy to preview, to test, to sign-off, and to evolve.

This talk looks at some case studies of projects making common mistakes, and some which benefit from a better approach.

We’ll explore tools and techniques which ease the path to production. Things anyone can do to boost confidence in every release. And ways to optimise our hosting for performance, hassle free localisation and genuine A/B testing.
Captions: 
	00:00:01,840 --> 00:00:04,899
[Music]

00:00:09,980 --> 00:00:13,440
well that's it that's a terrifying

00:00:11,849 --> 00:00:16,920
introduction would you like to tell a

00:00:13,440 --> 00:00:20,010
joke okay so thanks for a lovely a

00:00:16,920 --> 00:00:21,390
lovely welcome hello first of all as you

00:00:20,010 --> 00:00:23,880
just heard yet my name is my name is

00:00:21,390 --> 00:00:25,410
Phil hooks with I'm conscious we're

00:00:23,880 --> 00:00:27,869
probably not going to get to questions

00:00:25,410 --> 00:00:29,039
it's a bit of a tight time slot but I'll

00:00:27,869 --> 00:00:31,289
be around if you want to ask questions

00:00:29,039 --> 00:00:32,160
come and find me or you can tweet them

00:00:31,289 --> 00:00:34,800
at me

00:00:32,160 --> 00:00:37,440
my twitter name is just my name so it's

00:00:34,800 --> 00:00:39,809
easy at least for me to remember if not

00:00:37,440 --> 00:00:42,210
for you so but please any questions

00:00:39,809 --> 00:00:43,890
comments if you disagree tweet them at

00:00:42,210 --> 00:00:46,350
me or come and come and find me I'll be

00:00:43,890 --> 00:00:48,090
happy to chat I'm a few people so far

00:00:46,350 --> 00:00:50,010
over the last couple of days have been a

00:00:48,090 --> 00:00:51,989
little bit cautious about you know the

00:00:50,010 --> 00:00:55,469
label of Jay as heroes and being kind of

00:00:51,989 --> 00:00:57,930
dubbed a hero not so for me I'm quite

00:00:55,469 --> 00:01:00,930
I'm trying to encourage it to be honest

00:00:57,930 --> 00:01:02,910
this is a an illustration the a

00:01:00,930 --> 00:01:03,930
colleague of mine once did of me as a

00:01:02,910 --> 00:01:06,540
superhero

00:01:03,930 --> 00:01:07,680
I was delighted about that except it

00:01:06,540 --> 00:01:09,810
turned out that it wasn't me as a

00:01:07,680 --> 00:01:12,390
superhero is actually a villain because

00:01:09,810 --> 00:01:14,430
this is a ministration that was done by

00:01:12,390 --> 00:01:16,170
a creative director and agency I worked

00:01:14,430 --> 00:01:17,970
out at the point that I was the

00:01:16,170 --> 00:01:20,310
technology director there and his

00:01:17,970 --> 00:01:24,000
friendly nickname for me was the dream

00:01:20,310 --> 00:01:26,340
crusher and so so that's the label that

00:01:24,000 --> 00:01:28,080
I was uncomfortable having but this is

00:01:26,340 --> 00:01:30,659
actually illustrating he did of me

00:01:28,080 --> 00:01:33,150
actually crushing one of his dreams so

00:01:30,659 --> 00:01:34,560
you could see that that was like um and

00:01:33,150 --> 00:01:36,630
so he went on to kind of create this

00:01:34,560 --> 00:01:39,479
illustration and if you look closely at

00:01:36,630 --> 00:01:41,970
the buckle there that actually is the

00:01:39,479 --> 00:01:44,820
dream being crushed he went and did this

00:01:41,970 --> 00:01:47,310
entire brand exploration for me he was

00:01:44,820 --> 00:01:50,520
he was very thorough so not so much a

00:01:47,310 --> 00:01:52,860
hero but a villain which is troubling

00:01:50,520 --> 00:01:55,500
because like many of you here I'd love

00:01:52,860 --> 00:01:57,060
making things you know my history is in

00:01:55,500 --> 00:01:58,350
building things for the web of doing

00:01:57,060 --> 00:02:01,200
that been doing that for about 20 years

00:01:58,350 --> 00:02:03,570
and that's been a variety of places a

00:02:01,200 --> 00:02:05,310
few different kind of client-side places

00:02:03,570 --> 00:02:07,079
I've been a few different agencies and

00:02:05,310 --> 00:02:08,729
more recently I joined a company called

00:02:07,079 --> 00:02:09,959
net defy and I'll talk a little bit

00:02:08,729 --> 00:02:12,300
about that I don't want this to be a

00:02:09,959 --> 00:02:14,040
sales pitch for net Liffe I you would

00:02:12,300 --> 00:02:15,750
thank me for that especially at 4

00:02:14,040 --> 00:02:18,840
o'clock in the afternoon on day 2 with a

00:02:15,750 --> 00:02:20,970
busy busy conference but so net if I do

00:02:18,840 --> 00:02:22,740
kind of web hosting and automation

00:02:20,970 --> 00:02:24,090
trying to make it easier for people to

00:02:22,740 --> 00:02:27,270
build things and get them out onto the

00:02:24,090 --> 00:02:28,650
web so my kind of track record at

00:02:27,270 --> 00:02:30,330
different conferences and doing

00:02:28,650 --> 00:02:31,290
different talks has been influenced by

00:02:30,330 --> 00:02:33,090
my background

00:02:31,290 --> 00:02:35,910
now I mentioned I've worked a number of

00:02:33,090 --> 00:02:37,350
agencies when you work at an agency you

00:02:35,910 --> 00:02:39,720
often have to work with clients

00:02:37,350 --> 00:02:42,510
infrastructure and that can be painful

00:02:39,720 --> 00:02:44,790
at times so I did this talk once upon a

00:02:42,510 --> 00:02:46,410
time called I can smell your CMS which

00:02:44,790 --> 00:02:48,690
was all about you know the fact that

00:02:46,410 --> 00:02:51,180
content management systems litter your

00:02:48,690 --> 00:02:53,010
beautiful code with their own junk and

00:02:51,180 --> 00:02:54,450
so that was a very much a bit of therapy

00:02:53,010 --> 00:02:56,280
for me talking about content management

00:02:54,450 --> 00:02:58,680
systems and I followed that up with a

00:02:56,280 --> 00:03:00,150
talk about static sites and how static

00:02:58,680 --> 00:03:02,850
sites can go further than maybe you

00:03:00,150 --> 00:03:04,560
might expect I'm painfully aware that

00:03:02,850 --> 00:03:07,800
two talks one about content management

00:03:04,560 --> 00:03:10,320
systems one about static sites that

00:03:07,800 --> 00:03:12,330
doesn't sound very exciting so for this

00:03:10,320 --> 00:03:14,370
talk I wanted to you know I kind of

00:03:12,330 --> 00:03:15,870
wanted to jazz it up a little bit which

00:03:14,370 --> 00:03:18,239
is why I went for this rather natty

00:03:15,870 --> 00:03:20,209
title of serving for the win deployments

00:03:18,239 --> 00:03:22,380
and hosting for the rest of us now

00:03:20,209 --> 00:03:23,820
actually in the context of all of the

00:03:22,380 --> 00:03:26,880
other things I've seen over the last day

00:03:23,820 --> 00:03:29,670
or so that's not very exciting either so

00:03:26,880 --> 00:03:32,550
I thought I'd jazz it up a bit hopefully

00:03:29,670 --> 00:03:34,140
now you're excited because you know it's

00:03:32,550 --> 00:03:35,910
kind of tough tough after things like

00:03:34,140 --> 00:03:37,440
seeing all of the talks and things like

00:03:35,910 --> 00:03:39,540
Stephanie's amazing to amazing talks

00:03:37,440 --> 00:03:41,670
with all the LEDs and all those exciting

00:03:39,540 --> 00:03:43,050
stuff this might be a bit dry and you

00:03:41,670 --> 00:03:45,660
know actually it's not something that's

00:03:43,050 --> 00:03:47,760
necessarily very exotic or very new this

00:03:45,660 --> 00:03:49,530
is kind of a talk about fundamentals

00:03:47,760 --> 00:03:52,020
because now we learn a lot at

00:03:49,530 --> 00:03:54,300
conferences we learn a lot of this one

00:03:52,020 --> 00:03:56,880
we've had 21 talks already and Counting

00:03:54,300 --> 00:03:59,010
this is talk 22 so I hope you're hanging

00:03:56,880 --> 00:04:01,620
in there Bravo for still being awake and

00:03:59,010 --> 00:04:03,239
kind of ready to learn you know and so

00:04:01,620 --> 00:04:05,010
we kind of you learn all of these things

00:04:03,239 --> 00:04:06,810
whether that's you know using iterators

00:04:05,010 --> 00:04:08,640
and recursion like we heard in Annie

00:04:06,810 --> 00:04:11,550
Anna's talk earlier on or you know

00:04:08,640 --> 00:04:13,470
things like view and serverless the

00:04:11,550 --> 00:04:14,489
things we're hearing from Sarah all the

00:04:13,470 --> 00:04:15,750
kind of things I heard from his house

00:04:14,489 --> 00:04:17,970
earlier on where he was talking about

00:04:15,750 --> 00:04:21,960
how zero is not zero

00:04:17,970 --> 00:04:22,950
and it's true and it's false I'm not

00:04:21,960 --> 00:04:25,960
really surprised there are so many

00:04:22,950 --> 00:04:30,410
questions for math

00:04:25,960 --> 00:04:32,000
and so I guess I guess my point really

00:04:30,410 --> 00:04:34,340
is that you know combining all of the

00:04:32,000 --> 00:04:36,340
things that we learn a conference you

00:04:34,340 --> 00:04:39,110
know just a theory is a kind of a waste

00:04:36,340 --> 00:04:41,030
and confining these learnings to our

00:04:39,110 --> 00:04:42,740
local development violence is also kind

00:04:41,030 --> 00:04:44,300
of a waste you know really we want to

00:04:42,740 --> 00:04:46,130
make sure that all this good stuff stuff

00:04:44,300 --> 00:04:48,860
actually reaches our users and gets out

00:04:46,130 --> 00:04:50,900
into the world to do that takes a

00:04:48,860 --> 00:04:53,690
certain kind of a mindset and it kind of

00:04:50,900 --> 00:04:55,490
takes a certain set of processes to do

00:04:53,690 --> 00:04:57,200
that and that's what I really want to

00:04:55,490 --> 00:04:59,180
talk about now I know what you're

00:04:57,200 --> 00:05:01,820
thinking you're thinking great half an

00:04:59,180 --> 00:05:05,030
hour of slides about process and that's

00:05:01,820 --> 00:05:06,350
that's not unfair and so what I really

00:05:05,030 --> 00:05:08,570
want to do is try and try and make that

00:05:06,350 --> 00:05:10,700
interesting so over the next 25 minutes

00:05:08,570 --> 00:05:12,680
or so I'm gonna talk a little bit about

00:05:10,700 --> 00:05:15,620
where it hurts in software development

00:05:12,680 --> 00:05:18,139
and in web development in particular I'm

00:05:15,620 --> 00:05:20,750
gonna do that and talk a few took over a

00:05:18,139 --> 00:05:21,889
few stories things from my past projects

00:05:20,750 --> 00:05:24,260
I've worked on that either have gone

00:05:21,889 --> 00:05:25,700
very well or have maybe gone not quite

00:05:24,260 --> 00:05:27,530
so well and maybe the lessons from that

00:05:25,700 --> 00:05:29,270
and then I'll try and wrap up with some

00:05:27,530 --> 00:05:31,310
talk about you know the mindsets and

00:05:29,270 --> 00:05:32,750
maybe some of the rules resources that

00:05:31,310 --> 00:05:35,960
can help us you know be a bit more

00:05:32,750 --> 00:05:37,610
successful so that's that's the plan so

00:05:35,960 --> 00:05:39,830
where does it hurt

00:05:37,610 --> 00:05:42,169
let's let's start there so it's probably

00:05:39,830 --> 00:05:43,669
not too much of a news flash you know to

00:05:42,169 --> 00:05:46,610
learn there you know projects usually

00:05:43,669 --> 00:05:48,470
involve clients they involve deadlines

00:05:46,610 --> 00:05:50,810
they involve you know often quite a lot

00:05:48,470 --> 00:05:52,100
of complexity and that can result in

00:05:50,810 --> 00:05:53,450
some sleepless nights if you're

00:05:52,100 --> 00:05:55,970
responsible for you know getting

00:05:53,450 --> 00:05:58,280
something delivered you know if we look

00:05:55,970 --> 00:06:00,229
at the you know the perfect project

00:05:58,280 --> 00:06:02,300
timeline and start you know go from

00:06:00,229 --> 00:06:04,400
start to finish and see how this unpacks

00:06:02,300 --> 00:06:06,860
well you know we start hopefully with

00:06:04,400 --> 00:06:10,580
some kind of a brief from the client and

00:06:06,860 --> 00:06:12,560
then we end with the awards any any

00:06:10,580 --> 00:06:14,660
questions at this point is that is that

00:06:12,560 --> 00:06:18,710
reasonable okay so well in actual fact

00:06:14,660 --> 00:06:19,700
it's it's rarely perfect actually when

00:06:18,710 --> 00:06:21,770
we look at it in a bit more detail

00:06:19,700 --> 00:06:23,539
because no actually you'll notice no

00:06:21,770 --> 00:06:24,680
work has been done here yeah at some

00:06:23,539 --> 00:06:26,930
point we need to actually start doing

00:06:24,680 --> 00:06:29,870
some work and at some point we'll

00:06:26,930 --> 00:06:31,430
hopefully launch something before we can

00:06:29,870 --> 00:06:32,720
start doing the work and after we've got

00:06:31,430 --> 00:06:34,669
the brief we'll probably have some kind

00:06:32,720 --> 00:06:36,409
of scoping exercise we'll figure out

00:06:34,669 --> 00:06:39,169
exactly what it is we're going to going

00:06:36,409 --> 00:06:40,849
to try and build and before we launch it

00:06:39,169 --> 00:06:42,680
the client is likely to want to kind of

00:06:40,849 --> 00:06:46,340
sign it off and confirm we've built what

00:06:42,680 --> 00:06:48,139
they were expecting so you know before

00:06:46,340 --> 00:06:49,219
they sign that off chances are there's

00:06:48,139 --> 00:06:50,689
going to be wanted they're going to want

00:06:49,219 --> 00:06:52,879
to have some kind of a review to kind of

00:06:50,689 --> 00:06:53,990
make sure if for things as expected and

00:06:52,879 --> 00:06:55,550
so with those things in place we'll

00:06:53,990 --> 00:06:57,529
maybe start doing the work and start

00:06:55,550 --> 00:07:00,469
kind of creating things for people to

00:06:57,529 --> 00:07:01,999
see after we've been going a while at

00:07:00,469 --> 00:07:03,319
that point we'll take a look at it the

00:07:01,999 --> 00:07:05,719
client will take a look at it and then

00:07:03,319 --> 00:07:07,909
we'll Reese cope that often happens at

00:07:05,719 --> 00:07:09,620
that point so we'll now figure out what

00:07:07,909 --> 00:07:10,999
we should have been making and then we

00:07:09,620 --> 00:07:12,319
get back into building things again

00:07:10,999 --> 00:07:13,969
we're starting to go a bit faster now

00:07:12,319 --> 00:07:15,650
you know the works getting a bit denser

00:07:13,969 --> 00:07:18,259
we may be picking up the pace a little

00:07:15,650 --> 00:07:19,729
bit to reach this client review so now

00:07:18,259 --> 00:07:22,580
that we can be confident that we'll get

00:07:19,729 --> 00:07:24,020
to sign off and then we'll have to make

00:07:22,580 --> 00:07:25,789
changes because the client has some

00:07:24,020 --> 00:07:27,229
feedback so things will start you know

00:07:25,789 --> 00:07:29,210
the pace will really pick up now we're

00:07:27,229 --> 00:07:30,830
working with a bit of urgency maybe some

00:07:29,210 --> 00:07:33,050
of our kind of fundamentals some of our

00:07:30,830 --> 00:07:34,339
processes aren't quite standing up to

00:07:33,050 --> 00:07:36,319
what we're having to do coz we're making

00:07:34,339 --> 00:07:38,060
compromises that's the risky bit because

00:07:36,319 --> 00:07:39,409
then something happens which that

00:07:38,060 --> 00:07:40,909
shouldn't be on that should be on the

00:07:39,409 --> 00:07:42,830
line right we know that that's in the

00:07:40,909 --> 00:07:44,389
wrong place but something's gone awry

00:07:42,830 --> 00:07:46,370
there so now we're having to scramble to

00:07:44,389 --> 00:07:47,960
get the project back on track hopefully

00:07:46,370 --> 00:07:49,930
the next deploy will be perfect okay

00:07:47,960 --> 00:07:52,460
well that's not perfect that's

00:07:49,930 --> 00:07:54,259
inexplicably a piece of fruit and it's

00:07:52,460 --> 00:07:56,509
not on the project timeline where we'd

00:07:54,259 --> 00:07:58,639
expect it so things are starting to kind

00:07:56,509 --> 00:08:00,560
of unravel a little bit we scramble we

00:07:58,639 --> 00:08:02,870
do some more work to get back on line so

00:08:00,560 --> 00:08:04,279
we can get to the final sign-off we get

00:08:02,870 --> 00:08:06,050
there that client gives us the go-ahead

00:08:04,279 --> 00:08:08,689
except it's not final sign-off it's

00:08:06,050 --> 00:08:10,550
final sign-off so there's some more work

00:08:08,689 --> 00:08:13,490
that happens after the final sign-off

00:08:10,550 --> 00:08:15,259
then we get to launch and then happily

00:08:13,490 --> 00:08:17,089
the works out there so we just have to

00:08:15,259 --> 00:08:18,889
do a few more things to get the fixes

00:08:17,089 --> 00:08:21,259
done and then and then we're done so you

00:08:18,889 --> 00:08:22,969
can see that you know even without

00:08:21,259 --> 00:08:24,379
really looking at what we're doing we

00:08:22,969 --> 00:08:26,479
know that you know there's some

00:08:24,379 --> 00:08:28,969
complexity in projects like this there's

00:08:26,479 --> 00:08:30,349
a time of kind of scrambling sweaty palm

00:08:28,969 --> 00:08:32,449
moments which means they're on launch

00:08:30,349 --> 00:08:35,120
day you know actually hitting the button

00:08:32,449 --> 00:08:37,669
to go live can be nerve-racking I stole

00:08:35,120 --> 00:08:39,740
this directly from MailChimp anyone who

00:08:37,669 --> 00:08:41,630
sent out a bit yeah there's a few people

00:08:39,740 --> 00:08:43,070
that's exactly what it feels like when

00:08:41,630 --> 00:08:45,079
you know you're going to be arriving in

00:08:43,070 --> 00:08:46,910
the inbox of lots of people project

00:08:45,079 --> 00:08:48,550
launch days can be very much like that

00:08:46,910 --> 00:08:50,209
and they shouldn't really need to be but

00:08:48,550 --> 00:08:52,100
projects can be hard

00:08:50,209 --> 00:08:52,850
of course they are you know projects

00:08:52,100 --> 00:08:54,829
often in

00:08:52,850 --> 00:08:57,740
a lot of learning they involve a lot of

00:08:54,829 --> 00:08:59,209
change and it's how we manage that can

00:08:57,740 --> 00:09:00,829
you know really dictate how

00:08:59,209 --> 00:09:03,889
nerve-wracking it is to deploy something

00:09:00,829 --> 00:09:05,509
on go live day now infrastructure has

00:09:03,889 --> 00:09:07,699
changed over the years if we kind of

00:09:05,509 --> 00:09:09,949
look at our approach to infrastructure

00:09:07,699 --> 00:09:11,899
and how that's changed over time we can

00:09:09,949 --> 00:09:14,480
see that there has been a lot of changes

00:09:11,899 --> 00:09:16,910
once upon a time we were you know we're

00:09:14,480 --> 00:09:19,639
managing our own hardware we were buying

00:09:16,910 --> 00:09:21,170
racks we were building server rooms were

00:09:19,639 --> 00:09:23,839
making sure they were fire retardants

00:09:21,170 --> 00:09:26,029
and cooling an infrastructure in there

00:09:23,839 --> 00:09:27,829
that we'd provide and you know later on

00:09:26,029 --> 00:09:29,779
maybe we started renting some rack space

00:09:27,829 --> 00:09:32,480
in a in a facility I don't mean rack

00:09:29,779 --> 00:09:34,940
space I mean space in a rack so not rack

00:09:32,480 --> 00:09:37,190
space but rack space it's confusing

00:09:34,940 --> 00:09:39,170
but yeah we know we'd be buying space in

00:09:37,190 --> 00:09:40,790
a facility that would do everything but

00:09:39,170 --> 00:09:42,649
the server and we drop the server in and

00:09:40,790 --> 00:09:44,149
then manage it there then later on it

00:09:42,649 --> 00:09:45,769
started to get to being virtual service

00:09:44,149 --> 00:09:49,490
maybe something like Rackspace again

00:09:45,769 --> 00:09:50,779
confusing this is actual Rackspace and

00:09:49,490 --> 00:09:52,040
it kept on moving you know things have

00:09:50,779 --> 00:09:53,720
kept on progressing now there's things

00:09:52,040 --> 00:09:56,630
like software as-a-service and you've

00:09:53,720 --> 00:09:58,699
already seen at least one talked in this

00:09:56,630 --> 00:09:59,930
in this conference about functions as a

00:09:58,699 --> 00:10:02,329
service you know this so-called

00:09:59,930 --> 00:10:03,680
serverless infrastructure where yes we

00:10:02,329 --> 00:10:05,660
know there are servers involved but you

00:10:03,680 --> 00:10:07,160
don't have to take care of them so you

00:10:05,660 --> 00:10:08,810
know functions as a service where you're

00:10:07,160 --> 00:10:11,240
actually just buying cycle time for your

00:10:08,810 --> 00:10:14,060
functions so as our you know approach to

00:10:11,240 --> 00:10:16,279
infrastructure has really really changed

00:10:14,060 --> 00:10:18,350
and evolved over the years that really

00:10:16,279 --> 00:10:20,120
needs to change our deployment

00:10:18,350 --> 00:10:21,589
conventions as well and sometimes we're

00:10:20,120 --> 00:10:23,750
kind of holding on to things of the past

00:10:21,589 --> 00:10:24,680
a little bit when our approach kind of

00:10:23,750 --> 00:10:26,329
gets updated

00:10:24,680 --> 00:10:29,689
you know things things can really help

00:10:26,329 --> 00:10:32,120
us so it's kind of hurts when we're

00:10:29,689 --> 00:10:33,620
managing change in a project how it

00:10:32,120 --> 00:10:34,970
hurts when we're managing the unknowable

00:10:33,620 --> 00:10:37,220
because we never know all the answers

00:10:34,970 --> 00:10:39,620
when we start a project and it's usually

00:10:37,220 --> 00:10:41,750
at that kind of the the right-hand end

00:10:39,620 --> 00:10:43,490
of that that line where things were

00:10:41,750 --> 00:10:45,050
getting a little bit choppy that's you

00:10:43,490 --> 00:10:46,430
know that's when it when it hurts at

00:10:45,050 --> 00:10:49,490
crunch time and when the pressure really

00:10:46,430 --> 00:10:51,199
mounts so I want to just kind of get

00:10:49,490 --> 00:10:54,980
into the stories as fast as I can

00:10:51,199 --> 00:10:56,480
so story number one is deploying on my

00:10:54,980 --> 00:10:58,339
first day now this is something that

00:10:56,480 --> 00:11:02,949
happened to me a few jobs ago where I

00:10:58,339 --> 00:11:05,920
joined an agency and on my first day

00:11:02,949 --> 00:11:07,179
the team was doing they were going live

00:11:05,920 --> 00:11:09,299
on a project they've been working on for

00:11:07,179 --> 00:11:11,949
a while and it was a large nationwide

00:11:09,299 --> 00:11:13,809
healthcare site so the site that it

00:11:11,949 --> 00:11:17,170
really mattered it was very high-profile

00:11:13,809 --> 00:11:18,730
a big deal for the agency um so I was

00:11:17,170 --> 00:11:20,559
being shown around the office you know

00:11:18,730 --> 00:11:22,269
it was my first day I'd been shown where

00:11:20,559 --> 00:11:24,369
the toilets were I'd been shown where

00:11:22,269 --> 00:11:26,529
the coffee was but before I had to put

00:11:24,369 --> 00:11:28,540
any coffee into my coffee mug my new

00:11:26,529 --> 00:11:31,089
boss said this said we're having

00:11:28,540 --> 00:11:33,399
problems can you help the site should

00:11:31,089 --> 00:11:36,129
have gone live on Friday now this was a

00:11:33,399 --> 00:11:37,989
Monday morning so but anyway this this

00:11:36,129 --> 00:11:39,730
kind of sentence kind of raises a few

00:11:37,989 --> 00:11:41,199
questions for me anyway the fact that a

00:11:39,730 --> 00:11:43,239
big site should have gone live on a

00:11:41,199 --> 00:11:44,109
Friday that's another talk we'll worry

00:11:43,239 --> 00:11:45,819
about that another time

00:11:44,109 --> 00:11:47,679
but here the next question he asked was

00:11:45,819 --> 00:11:50,169
you know can you help the team figure

00:11:47,679 --> 00:11:52,299
out the deployment and I thought sure

00:11:50,169 --> 00:11:54,029
yeah I'll lend a hand you know All Hands

00:11:52,299 --> 00:11:56,739
to the pumps let me let me get involved

00:11:54,029 --> 00:11:59,499
and so really what we're talking about

00:11:56,739 --> 00:12:00,759
here is Owen yes the fruit has changed

00:11:59,499 --> 00:12:02,350
but that's because you never know what

00:12:00,759 --> 00:12:04,299
that's going to be that's very much true

00:12:02,350 --> 00:12:06,220
of deployments that happen there you can

00:12:04,299 --> 00:12:07,540
never tell what you're gonna get but

00:12:06,220 --> 00:12:09,160
what was happening in this this

00:12:07,540 --> 00:12:10,839
environment was that we were trying to

00:12:09,160 --> 00:12:12,639
figure out deployment here you know

00:12:10,839 --> 00:12:14,889
right at launch time and maybe just a

00:12:12,639 --> 00:12:16,209
bit afterwards of course that's not

00:12:14,889 --> 00:12:18,209
where they'd hoped for they hope to do

00:12:16,209 --> 00:12:23,139
it a bit earlier they hope to do it

00:12:18,209 --> 00:12:24,819
there because figures doing that is no

00:12:23,139 --> 00:12:26,739
fun and they didn't need to do it until

00:12:24,819 --> 00:12:28,389
it goes live so that's that was the plan

00:12:26,739 --> 00:12:30,819
so the timing of that as you might

00:12:28,389 --> 00:12:31,779
imagine it's not it's not ideal but I

00:12:30,819 --> 00:12:36,970
actually want to talk about the

00:12:31,779 --> 00:12:38,290
deployment process itself okay so this

00:12:36,970 --> 00:12:39,669
should look kind of familiar to lots of

00:12:38,290 --> 00:12:41,769
people you know we had a production

00:12:39,669 --> 00:12:43,839
environment where our website needed to

00:12:41,769 --> 00:12:45,850
live and we had a staging environment

00:12:43,839 --> 00:12:48,129
where the website happily was at the

00:12:45,850 --> 00:12:50,079
moment the eagle-eyed amongst you will

00:12:48,129 --> 00:12:52,119
probably notice that these two things

00:12:50,079 --> 00:12:53,679
are not currently the same now that's

00:12:52,119 --> 00:12:55,239
that's obviously a problem we want these

00:12:53,679 --> 00:12:57,789
environments to be the perfect facsimile

00:12:55,239 --> 00:12:59,799
of each other so that we have confidence

00:12:57,789 --> 00:13:02,649
in what we're deploying the problem here

00:12:59,799 --> 00:13:05,079
was that the deploy process involved two

00:13:02,649 --> 00:13:06,459
ftp windows into two environments and

00:13:05,079 --> 00:13:08,980
someone manually dragging and dropping

00:13:06,459 --> 00:13:10,209
files from one to the other and then

00:13:08,980 --> 00:13:14,829
hitting reload in their browser and

00:13:10,209 --> 00:13:17,050
going nope and then doing another one

00:13:14,829 --> 00:13:19,689
and then over over time

00:13:17,050 --> 00:13:22,119
as frustration and kind of panic started

00:13:19,689 --> 00:13:24,009
to mount our developer will call him Bob

00:13:22,119 --> 00:13:25,629
started also dragging some files from

00:13:24,009 --> 00:13:27,910
his local development environment over

00:13:25,629 --> 00:13:31,059
to over to live as well pick a staging

00:13:27,910 --> 00:13:32,439
SHM aging and then Alice got involved as

00:13:31,059 --> 00:13:34,420
well and she was dragging things from

00:13:32,439 --> 00:13:36,550
her other slightly different looking

00:13:34,420 --> 00:13:37,899
environments as well and so this is this

00:13:36,550 --> 00:13:41,079
is a little bit of a problem because

00:13:37,899 --> 00:13:43,269
because of FTP you know we've got we end

00:13:41,079 --> 00:13:44,589
up in this this environment where you

00:13:43,269 --> 00:13:46,329
know we're kind of got an unknowable

00:13:44,589 --> 00:13:48,249
state we don't really know what the

00:13:46,329 --> 00:13:50,800
state of any of the environments now is

00:13:48,249 --> 00:13:52,959
and it's also an unrepeatable process so

00:13:50,800 --> 00:13:55,449
even once we've got it right we don't

00:13:52,959 --> 00:13:59,619
necessarily know how we've got there so

00:13:55,449 --> 00:14:01,749
you know did it go live yes it did I'm

00:13:59,619 --> 00:14:04,920
happy to say it did go live was it

00:14:01,749 --> 00:14:07,389
correct yes it was it probably was

00:14:04,920 --> 00:14:09,100
honestly I don't know if we can ever say

00:14:07,389 --> 00:14:12,819
if it was really great the client signed

00:14:09,100 --> 00:14:14,230
it off so fine the most important

00:14:12,819 --> 00:14:16,209
question though is how did the next

00:14:14,230 --> 00:14:17,860
deployment go because you know once

00:14:16,209 --> 00:14:19,360
we've got there how can we be sure that

00:14:17,860 --> 00:14:21,579
we can do the next one comfortably I'm

00:14:19,360 --> 00:14:23,679
not ready to talk about it yeah it was

00:14:21,579 --> 00:14:25,569
almost 10 years ago and I'm almost there

00:14:23,679 --> 00:14:29,290
I'll keep you posted

00:14:25,569 --> 00:14:31,029
do I need a hug yes I do now all is not

00:14:29,290 --> 00:14:33,189
lost here because there are some lessons

00:14:31,029 --> 00:14:35,259
to learn along the way from this and the

00:14:33,189 --> 00:14:37,269
first one that I'd share is that you

00:14:35,259 --> 00:14:39,160
know version control should really

00:14:37,269 --> 00:14:41,049
extend all the way to your deployments

00:14:39,160 --> 00:14:42,730
version control was being used at this

00:14:41,049 --> 00:14:45,009
agency but it was kind of being used as

00:14:42,730 --> 00:14:46,600
a place to keep the project rather than

00:14:45,009 --> 00:14:49,119
something that fed the process through

00:14:46,600 --> 00:14:51,279
deployment so it only is as good really

00:14:49,119 --> 00:14:52,929
as far as it reaches so we really want

00:14:51,279 --> 00:14:55,869
to reach the deployment environment with

00:14:52,929 --> 00:14:57,279
our with our version control um the next

00:14:55,869 --> 00:14:59,679
lesson I'd say is that human

00:14:57,279 --> 00:15:01,420
intervention in deployments is really

00:14:59,679 --> 00:15:03,610
undesirable we're not very good as

00:15:01,420 --> 00:15:05,350
humans doing the same thing repeatedly

00:15:03,610 --> 00:15:07,209
and predictably every time without

00:15:05,350 --> 00:15:09,069
screwing it up so if we can get

00:15:07,209 --> 00:15:11,499
ourselves out of that process as much as

00:15:09,069 --> 00:15:13,749
possible all the better and the last one

00:15:11,499 --> 00:15:16,240
is the you know holistic deploys are far

00:15:13,749 --> 00:15:18,100
preferable to piecemeal deploys so in

00:15:16,240 --> 00:15:20,110
other words this kind of dragging one

00:15:18,100 --> 00:15:21,970
file at a time and changing the state of

00:15:20,110 --> 00:15:24,040
your production server piece by piece is

00:15:21,970 --> 00:15:26,199
is nowhere near as good as actually

00:15:24,040 --> 00:15:28,059
producing an entire deployment that

00:15:26,199 --> 00:15:29,190
you're confident with and then and then

00:15:28,059 --> 00:15:31,920
shipping that so

00:15:29,190 --> 00:15:36,270
we'll return to that in a second okay

00:15:31,920 --> 00:15:38,460
let's move on to Story number two so

00:15:36,270 --> 00:15:40,950
this one is a project called searching

00:15:38,460 --> 00:15:43,920
for Syria which I worked on at the last

00:15:40,950 --> 00:15:47,180
agency I was at an agency called RGA and

00:15:43,920 --> 00:15:52,200
this canoe is this gonna play I wonder

00:15:47,180 --> 00:15:54,570
maybe potentially okay maybe not well

00:15:52,200 --> 00:15:58,380
regardless this is a site that was built

00:15:54,570 --> 00:16:00,600
by a client which was Google along with

00:15:58,380 --> 00:16:03,510
another client which was the UNHCR which

00:16:00,600 --> 00:16:06,270
is the United Nations High Commission

00:16:03,510 --> 00:16:08,490
for Refugees and the purpose of this

00:16:06,270 --> 00:16:11,130
site was to really share the plight of

00:16:08,490 --> 00:16:13,650
Syrian refugees and really show the fact

00:16:11,130 --> 00:16:15,030
that you know this was a country that

00:16:13,650 --> 00:16:16,710
was very similar to lots of other

00:16:15,030 --> 00:16:18,630
countries and we really should think of

00:16:16,710 --> 00:16:20,130
it a little bit differently and think

00:16:18,630 --> 00:16:21,810
about how we could actually help so it's

00:16:20,130 --> 00:16:24,960
a project that I was particularly proud

00:16:21,810 --> 00:16:27,450
of it was a project that was fairly

00:16:24,960 --> 00:16:29,610
complex in terms of its if its messaging

00:16:27,450 --> 00:16:31,980
it had lots of change over the time of

00:16:29,610 --> 00:16:34,380
the project as you might imagine we had

00:16:31,980 --> 00:16:36,240
you know a great deal of political

00:16:34,380 --> 00:16:38,100
sensitivity not just in terms of what we

00:16:36,240 --> 00:16:39,780
were saying but also how are we saying

00:16:38,100 --> 00:16:42,120
it how would the different parties be

00:16:39,780 --> 00:16:43,920
you know considered when we're talking

00:16:42,120 --> 00:16:45,420
about this kind of subject it doesn't

00:16:43,920 --> 00:16:46,680
want to be soo preachy it doesn't want

00:16:45,420 --> 00:16:48,930
to look like we're trying to push a

00:16:46,680 --> 00:16:51,810
particular agenda or set of products or

00:16:48,930 --> 00:16:53,910
anything like that and there's a great

00:16:51,810 --> 00:16:55,110
deal of diversity in the stakeholders

00:16:53,910 --> 00:16:56,400
lots of different people had very

00:16:55,110 --> 00:16:59,520
different views about what this should

00:16:56,400 --> 00:17:01,230
be so couple that with the fact that was

00:16:59,520 --> 00:17:03,510
gonna have a global launch into lots of

00:17:01,230 --> 00:17:04,949
languages into lots of countries this is

00:17:03,510 --> 00:17:08,189
a project I didn't want to mess up so

00:17:04,949 --> 00:17:10,290
this was not gonna cut it for me so this

00:17:08,189 --> 00:17:11,850
kind of process wasn't going to be okay

00:17:10,290 --> 00:17:14,400
so the first thing we wanted to do here

00:17:11,850 --> 00:17:16,380
is change when we figured out deployment

00:17:14,400 --> 00:17:18,990
and do that as early as we possibly

00:17:16,380 --> 00:17:20,970
could which we certainly did and once

00:17:18,990 --> 00:17:23,040
we've done that yes they're still going

00:17:20,970 --> 00:17:25,140
to be that kind of troublesome time at

00:17:23,040 --> 00:17:26,790
the end of the project but with every

00:17:25,140 --> 00:17:29,100
deployment that we did you know we were

00:17:26,790 --> 00:17:30,990
proving the deployment process proving

00:17:29,100 --> 00:17:32,970
the environments throughout the process

00:17:30,990 --> 00:17:35,370
so these things that were kind of on

00:17:32,970 --> 00:17:36,510
there or off the happy path we could we

00:17:35,370 --> 00:17:37,920
could be confident that those would go

00:17:36,510 --> 00:17:40,860
away and there'd be other things to keep

00:17:37,920 --> 00:17:42,310
us occupied now the platform that we

00:17:40,860 --> 00:17:44,290
built this on top of given that was

00:17:42,310 --> 00:17:45,700
a project for Google is you might expect

00:17:44,290 --> 00:17:47,260
would be using Google infrastructure and

00:17:45,700 --> 00:17:48,910
that's certainly what we did we use

00:17:47,260 --> 00:17:51,340
Google Cloud compute and we're using App

00:17:48,910 --> 00:17:52,990
Engine for this and this worked out

00:17:51,340 --> 00:17:54,400
really nicely for us because we had to

00:17:52,990 --> 00:17:55,720
think a little bit about what kind of

00:17:54,400 --> 00:17:57,520
deliveries we're going to have to have

00:17:55,720 --> 00:17:59,680
across the project we're gonna have to

00:17:57,520 --> 00:18:00,850
deliver things to our QA team we're

00:17:59,680 --> 00:18:02,290
gonna have to deliver things so that

00:18:00,850 --> 00:18:03,430
produces so that we could be sure that

00:18:02,290 --> 00:18:05,940
we're progressing in the way that we

00:18:03,430 --> 00:18:08,410
were we hope for we'd have to do

00:18:05,940 --> 00:18:09,880
deliveries to the translation teams that

00:18:08,410 --> 00:18:12,100
would translate the content at the site

00:18:09,880 --> 00:18:13,630
do some localization as well and then

00:18:12,100 --> 00:18:15,970
get those things back into the site and

00:18:13,630 --> 00:18:17,170
then validate all of that the client we

00:18:15,970 --> 00:18:18,700
needed to have deliveries that they

00:18:17,170 --> 00:18:19,900
could review and you can be certain that

00:18:18,700 --> 00:18:21,850
the clients bosses because of the

00:18:19,900 --> 00:18:23,350
sensitivity of this also wanted to

00:18:21,850 --> 00:18:24,910
review things and of course ultimately

00:18:23,350 --> 00:18:25,630
we needed to deliver something to the

00:18:24,910 --> 00:18:28,180
public at large

00:18:25,630 --> 00:18:29,950
so we had this this kind of ambition

00:18:28,180 --> 00:18:31,570
where you know we wanted to make sure

00:18:29,950 --> 00:18:33,550
that we could deliver any version of the

00:18:31,570 --> 00:18:35,800
sides at any time throughout the length

00:18:33,550 --> 00:18:37,540
of the project and so the way that we

00:18:35,800 --> 00:18:39,850
tackled this was by employing our friend

00:18:37,540 --> 00:18:41,230
version control now the way that we did

00:18:39,850 --> 00:18:43,630
it was that we'd we made this decision

00:18:41,230 --> 00:18:45,670
that you know every tag every time that

00:18:43,630 --> 00:18:48,010
we tagged the site in our git repository

00:18:45,670 --> 00:18:49,390
that would automatically generate a

00:18:48,010 --> 00:18:52,240
version of a site that would be

00:18:49,390 --> 00:18:55,690
available as a resource at a URL now I

00:18:52,240 --> 00:18:58,030
love URLs URLs are the web superpower

00:18:55,690 --> 00:18:59,290
and I hopefully hopefully be amongst

00:18:58,030 --> 00:19:02,140
friends and saying that I'm a bit of a

00:18:59,290 --> 00:19:03,750
URL nerd in this room but there is an

00:19:02,140 --> 00:19:05,950
attribute of URLs which is not great

00:19:03,750 --> 00:19:07,540
which is kind of troubling to me it's

00:19:05,950 --> 00:19:09,400
something that a friend of mine shared

00:19:07,540 --> 00:19:10,960
with me a few years ago and I make it my

00:19:09,400 --> 00:19:12,640
business to share it with everyone else

00:19:10,960 --> 00:19:15,610
because I don't want to be damaged alone

00:19:12,640 --> 00:19:18,370
and that is that every URL starts with

00:19:15,610 --> 00:19:20,110
HTTP double mer and my friend alec

00:19:18,370 --> 00:19:21,190
sexton told me about this and if you're

00:19:20,110 --> 00:19:23,650
trying to figure out where the double

00:19:21,190 --> 00:19:28,420
marries there is as there's the double

00:19:23,650 --> 00:19:31,840
mer right there this this information

00:19:28,420 --> 00:19:33,610
adds nothing to the talk whatsoever

00:19:31,840 --> 00:19:35,320
but I feel it's my responsibility to

00:19:33,610 --> 00:19:37,330
share this knowledge so I'm not damaged

00:19:35,320 --> 00:19:41,650
alone you'll never look at another URL

00:19:37,330 --> 00:19:43,840
in the same way sorry about that okay

00:19:41,650 --> 00:19:45,910
what are we talking about at tags okay

00:19:43,840 --> 00:19:47,800
so every time we tag the code it would

00:19:45,910 --> 00:19:49,930
yield a version of the site that we'd be

00:19:47,800 --> 00:19:51,580
able to review later on now this was

00:19:49,930 --> 00:19:54,070
this was huge let me show you how this

00:19:51,580 --> 00:19:55,690
worked so we needed to get our site from

00:19:54,070 --> 00:19:57,610
its development environment over to

00:19:55,690 --> 00:19:59,799
the production environment so we did

00:19:57,610 --> 00:20:01,960
this via via get that's where all of our

00:19:59,799 --> 00:20:03,639
code is being managed and so we had a

00:20:01,960 --> 00:20:05,860
continuous integration server I think it

00:20:03,639 --> 00:20:08,200
was Jenkins in this instance and that

00:20:05,860 --> 00:20:10,179
was watching gate and whenever something

00:20:08,200 --> 00:20:12,159
was tagged in get that would run our

00:20:10,179 --> 00:20:13,629
build generate a version of the site

00:20:12,159 --> 00:20:15,759
that would push to the staging

00:20:13,629 --> 00:20:17,500
environment automatically and then at

00:20:15,759 --> 00:20:19,960
some point we could move that over to

00:20:17,500 --> 00:20:21,820
production now in actual fact having

00:20:19,960 --> 00:20:23,649
these to do environment staging and

00:20:21,820 --> 00:20:25,629
production isn't actually our deal we

00:20:23,649 --> 00:20:27,879
want to unify these things and that's

00:20:25,629 --> 00:20:30,190
something that we got through using

00:20:27,879 --> 00:20:33,009
Google Cloud compute so this is a view

00:20:30,190 --> 00:20:34,389
of the console in App Engine now sadly

00:20:33,009 --> 00:20:35,919
this isn't a view of the console on this

00:20:34,389 --> 00:20:38,289
project because I took the screen shot

00:20:35,919 --> 00:20:42,220
after after I left the company but it's

00:20:38,289 --> 00:20:44,049
very very representative of what we saw

00:20:42,220 --> 00:20:46,059
so if we just look at the particular

00:20:44,049 --> 00:20:47,769
part of interest here and what we can

00:20:46,059 --> 00:20:49,029
see is that every version of the site

00:20:47,769 --> 00:20:51,279
now whoever was working on this

00:20:49,029 --> 00:20:53,679
particular project they were versioning

00:20:51,279 --> 00:20:55,779
things with a date stamp but each

00:20:53,679 --> 00:20:57,610
version is there in the environment and

00:20:55,779 --> 00:20:59,769
a veil will available to route traffic

00:20:57,610 --> 00:21:01,990
to all of the traffic here has been

00:20:59,769 --> 00:21:03,669
reviewing routed to the to the latest

00:21:01,990 --> 00:21:05,559
version but what you can do is you can

00:21:03,669 --> 00:21:08,230
also access any of the previous versions

00:21:05,559 --> 00:21:10,090
on a particular URL that includes that

00:21:08,230 --> 00:21:11,649
version and then at any time you can

00:21:10,090 --> 00:21:13,809
start shaping the traffic from one place

00:21:11,649 --> 00:21:15,610
to another now this is great because it

00:21:13,809 --> 00:21:18,250
means that we move from this kind of

00:21:15,610 --> 00:21:19,870
setup over to this kind of setup where

00:21:18,250 --> 00:21:21,850
we don't have two different environments

00:21:19,870 --> 00:21:23,110
that we have to keep the same we've got

00:21:21,850 --> 00:21:24,879
one thing it's the production

00:21:23,110 --> 00:21:26,470
environment and if that works then we

00:21:24,879 --> 00:21:28,629
know we're going to be in good shape so

00:21:26,470 --> 00:21:31,269
you know over time what we can do is now

00:21:28,629 --> 00:21:33,100
each new version comes in oops each new

00:21:31,269 --> 00:21:35,320
version comes in and that gets staged

00:21:33,100 --> 00:21:37,659
there so we can access that via via a

00:21:35,320 --> 00:21:39,460
URL and then when we're happy with which

00:21:37,659 --> 00:21:42,549
one we want to go live then we can

00:21:39,460 --> 00:21:44,769
change to the latest one and just simply

00:21:42,549 --> 00:21:47,110
be shaping traffic on the same on the

00:21:44,769 --> 00:21:48,490
same environment so this is great

00:21:47,110 --> 00:21:50,860
because it means that all of the demos

00:21:48,490 --> 00:21:52,240
all of the discussion all of the tests

00:21:50,860 --> 00:21:53,919
that we're running the issues that are

00:21:52,240 --> 00:21:55,539
being logs and even the sign-off that's

00:21:53,919 --> 00:21:57,370
been done against known versions of the

00:21:55,539 --> 00:21:59,470
site we know that because the version is

00:21:57,370 --> 00:22:00,940
right there in the URL and that's great

00:21:59,470 --> 00:22:03,039
you know happy doing things against

00:22:00,940 --> 00:22:05,409
known versions is just is just a big win

00:22:03,039 --> 00:22:07,720
so let's move on to the lessons from

00:22:05,409 --> 00:22:09,520
that as I just said addressable and

00:22:07,720 --> 00:22:11,560
accessible build versions

00:22:09,520 --> 00:22:13,180
a huge win for the project kiss you you

00:22:11,560 --> 00:22:15,540
can be looking at things knowing that

00:22:13,180 --> 00:22:18,310
you're all looking at the same thing

00:22:15,540 --> 00:22:20,110
deciding when and what to tag requires

00:22:18,310 --> 00:22:21,370
some coordination that's something I

00:22:20,110 --> 00:22:22,960
might do a little bit differently rather

00:22:21,370 --> 00:22:24,580
than people deciding what's going to

00:22:22,960 --> 00:22:25,620
generate a build I think we can do

00:22:24,580 --> 00:22:28,660
better than that

00:22:25,620 --> 00:22:30,910
but key to this is they're immutable

00:22:28,660 --> 00:22:33,400
deploys to a production environment

00:22:30,910 --> 00:22:35,050
completely remove any uncertainty well

00:22:33,400 --> 00:22:37,120
completely that's a dangerous thing to

00:22:35,050 --> 00:22:39,190
say but removes uncertainty from the

00:22:37,120 --> 00:22:41,320
from the launch day because now we're

00:22:39,190 --> 00:22:43,480
hat we know that each version has its

00:22:41,320 --> 00:22:44,920
own integrity and we're on the same

00:22:43,480 --> 00:22:46,930
environment that ultimately we'll be

00:22:44,920 --> 00:22:52,540
serving the site for when we push that

00:22:46,930 --> 00:22:54,640
button okay let's move on so Story

00:22:52,540 --> 00:22:57,130
number three is Netta five buildings

00:22:54,640 --> 00:22:59,230
that define so I joined net if I just

00:22:57,130 --> 00:23:01,570
earn in December so I haven't been there

00:22:59,230 --> 00:23:03,880
a very long time and I joined that if I

00:23:01,570 --> 00:23:05,740
at a point that we were doing a bit of a

00:23:03,880 --> 00:23:07,270
redesign and a rebuild of the website

00:23:05,740 --> 00:23:09,610
which is great because I got to see some

00:23:07,270 --> 00:23:11,140
of the processes in play so this is the

00:23:09,610 --> 00:23:12,970
site that we were working on and things

00:23:11,140 --> 00:23:15,610
have been things have been changing

00:23:12,970 --> 00:23:17,830
there but as you might imagine since we

00:23:15,610 --> 00:23:20,560
host sites we're going to be hosting it

00:23:17,830 --> 00:23:22,120
ourselves on our own infrastructure so

00:23:20,560 --> 00:23:24,280
that means that you know net fi comm

00:23:22,120 --> 00:23:27,640
it's a jam stack site hosted on net if I

00:23:24,280 --> 00:23:29,410
using net the phi2 net fi neckla fie I'm

00:23:27,640 --> 00:23:31,840
conscious that that feels a little bit

00:23:29,410 --> 00:23:33,840
like Inception you know and Jana was

00:23:31,840 --> 00:23:36,130
talking about you know tail call

00:23:33,840 --> 00:23:38,380
optimization earlier on talking about

00:23:36,130 --> 00:23:40,060
inception I don't want to make this

00:23:38,380 --> 00:23:42,640
sounds too complicated and it's really

00:23:40,060 --> 00:23:44,620
not let's look at the look at this

00:23:42,640 --> 00:23:47,140
picture again so this is the environment

00:23:44,620 --> 00:23:50,050
we had in the last example with with on

00:23:47,140 --> 00:23:52,180
Google Cloud compute and using Jenkins

00:23:50,050 --> 00:23:54,850
for the CI the way the net Lefroy works

00:23:52,180 --> 00:23:56,200
is actually the the CI and the CD

00:23:54,850 --> 00:23:58,530
infrastructure and the host

00:23:56,200 --> 00:24:02,320
infrastructure all within live within

00:23:58,530 --> 00:24:03,850
what within the same place so so here

00:24:02,320 --> 00:24:06,820
Netta Phi is watching for changing

00:24:03,850 --> 00:24:08,950
changes in get running the the build

00:24:06,820 --> 00:24:11,680
itself and then deploying to its CDN on

00:24:08,950 --> 00:24:12,940
your behalf this is great because this

00:24:11,680 --> 00:24:14,800
means that our get based workflow

00:24:12,940 --> 00:24:15,910
reaches all the way through to

00:24:14,800 --> 00:24:18,370
production like I was talking about

00:24:15,910 --> 00:24:20,320
earlier on well I'll show some examples

00:24:18,370 --> 00:24:22,390
of that in just a second but I also just

00:24:20,320 --> 00:24:23,320
want to like call out this term so I

00:24:22,390 --> 00:24:25,300
drop that in very

00:24:23,320 --> 00:24:27,160
very casually earlier on and I'm

00:24:25,300 --> 00:24:28,930
confident that it doesn't really mean a

00:24:27,160 --> 00:24:30,520
lot to a lot of people and that's that's

00:24:28,930 --> 00:24:32,800
reasonable so let me just explain what

00:24:30,520 --> 00:24:34,270
that is so the jam stack is a phrase

00:24:32,800 --> 00:24:36,340
that's kind of emerging a little bit and

00:24:34,270 --> 00:24:39,310
it's talking about JavaScript API is a

00:24:36,340 --> 00:24:41,860
markup you could talk about it being you

00:24:39,310 --> 00:24:43,330
know a new term for static sites but

00:24:41,860 --> 00:24:45,190
actually it kind of goes a bit further

00:24:43,330 --> 00:24:48,280
than that let me let me unpack a little

00:24:45,190 --> 00:24:50,860
bit more about what that is so in this

00:24:48,280 --> 00:24:52,450
in this scenario you know a lot of a lot

00:24:50,860 --> 00:24:55,210
of times we can build sites with some

00:24:52,450 --> 00:24:56,560
quota some kind of build step or static

00:24:55,210 --> 00:24:58,540
site generation or something of that

00:24:56,560 --> 00:25:00,520
nature so in our development environment

00:24:58,540 --> 00:25:02,230
if we've got a build like this that that

00:25:00,520 --> 00:25:04,030
takes maybe our markup and some other

00:25:02,230 --> 00:25:04,380
front-end assets maybe some JavaScript

00:25:04,030 --> 00:25:06,730
as well

00:25:04,380 --> 00:25:08,770
packages are those up maybe apply some

00:25:06,730 --> 00:25:11,800
templates and then outputs a site that

00:25:08,770 --> 00:25:14,890
is a static you know static deploy blast

00:25:11,800 --> 00:25:16,810
that we can get out to the CDN that's

00:25:14,890 --> 00:25:18,570
the essence of a jam stack site except

00:25:16,810 --> 00:25:21,970
you know we've got no API is in there

00:25:18,570 --> 00:25:24,190
api's can be cooled on at Build time to

00:25:21,970 --> 00:25:25,810
no source our content for from perhaps a

00:25:24,190 --> 00:25:28,090
headless CMS such as something like

00:25:25,810 --> 00:25:30,070
content full or other data sources that

00:25:28,090 --> 00:25:31,950
we might be pulling in enriching our

00:25:30,070 --> 00:25:34,810
site and then producing this deployable

00:25:31,950 --> 00:25:36,580
deployable asset now of course once it's

00:25:34,810 --> 00:25:38,950
deployed this this kind of statically

00:25:36,580 --> 00:25:40,090
hosted site that itself could contain

00:25:38,950 --> 00:25:42,070
Java scripts you know we could be

00:25:40,090 --> 00:25:44,380
packaging that up and that then can be

00:25:42,070 --> 00:25:46,930
calling api's as well enriching the

00:25:44,380 --> 00:25:48,370
behavior further at that stage as well

00:25:46,930 --> 00:25:49,990
and that's kind of what I'm talking

00:25:48,370 --> 00:25:52,810
about when I'm talking about a jam stack

00:25:49,990 --> 00:25:54,550
site so in the context of net Liffe I

00:25:52,810 --> 00:25:57,700
which I mentioned was a jam stack size

00:25:54,550 --> 00:26:00,070
you know we're creating this UI the site

00:25:57,700 --> 00:26:02,110
at the front-end but then the api's and

00:26:00,070 --> 00:26:04,000
the things behind here you know the the

00:26:02,110 --> 00:26:05,680
the background of the product at the

00:26:04,000 --> 00:26:06,940
fire that we're managing that's all kind

00:26:05,680 --> 00:26:08,530
of upstream of us we're not really

00:26:06,940 --> 00:26:10,420
worrying about that in this context this

00:26:08,530 --> 00:26:12,700
is the project to build out the UI and

00:26:10,420 --> 00:26:14,830
the site that sits atop that so I

00:26:12,700 --> 00:26:16,900
mentioned that builds are based on you

00:26:14,830 --> 00:26:19,660
know on git activity they're based on

00:26:16,900 --> 00:26:21,010
git commits so we have kind of a history

00:26:19,660 --> 00:26:23,680
so I'm just going to show you kind of

00:26:21,010 --> 00:26:25,530
quickly what things look like in a fire

00:26:23,680 --> 00:26:28,150
kind of similar to as we looked at in in

00:26:25,530 --> 00:26:30,400
Google cloud compute so once I go into a

00:26:28,150 --> 00:26:31,990
site I can look at the deploys and I can

00:26:30,400 --> 00:26:33,430
look back through over the history of

00:26:31,990 --> 00:26:35,080
all of the deploys that have been done

00:26:33,430 --> 00:26:36,500
you see some with publish there's one

00:26:35,080 --> 00:26:38,690
that's failed different

00:26:36,500 --> 00:26:40,070
types of deploys that have happened but

00:26:38,690 --> 00:26:42,230
ultimately you know if we go and dig

00:26:40,070 --> 00:26:43,880
into one production build we can see all

00:26:42,230 --> 00:26:46,520
of the logs that happened when the build

00:26:43,880 --> 00:26:48,890
was run when it was generated we can

00:26:46,520 --> 00:26:50,480
even look through to see in github what

00:26:48,890 --> 00:26:52,490
the commit was that triggered that build

00:26:50,480 --> 00:26:53,990
and then we can go off and look at a

00:26:52,490 --> 00:26:55,070
production version of that build was

00:26:53,990 --> 00:26:57,590
paused there for a second

00:26:55,070 --> 00:26:58,610
you might may just be able to make out

00:26:57,590 --> 00:27:01,640
it's a little bit small on the screen

00:26:58,610 --> 00:27:04,040
but the URL there that's a unique URL

00:27:01,640 --> 00:27:06,260
which is reek to that instance of the

00:27:04,040 --> 00:27:08,090
site that deploy that's an immutable

00:27:06,260 --> 00:27:09,620
build that you can always browse I

00:27:08,090 --> 00:27:11,690
mentioned kind of URLs for the win

00:27:09,620 --> 00:27:13,280
that's there in perpetuity so that's

00:27:11,690 --> 00:27:15,830
always something you can share and kind

00:27:13,280 --> 00:27:18,260
of have people test against so that's

00:27:15,830 --> 00:27:21,050
that's kind of the way that deploys look

00:27:18,260 --> 00:27:22,940
in net defi and again what we're talking

00:27:21,050 --> 00:27:26,600
about there is you know the the site

00:27:22,940 --> 00:27:28,430
that's output to the CDN since we have

00:27:26,600 --> 00:27:30,230
that kind of decoupling it means that

00:27:28,430 --> 00:27:32,690
you can step back and forward through

00:27:30,230 --> 00:27:34,700
your versions you know very easily by

00:27:32,690 --> 00:27:36,260
going and looking at that deployed URL

00:27:34,700 --> 00:27:39,200
and since they speak to the same

00:27:36,260 --> 00:27:41,420
versioned api that gives you quite a lot

00:27:39,200 --> 00:27:44,060
of flexibility and a lot of control this

00:27:41,420 --> 00:27:46,640
is a view of net the Phi as it was two

00:27:44,060 --> 00:27:48,020
years ago this is the same UI that I

00:27:46,640 --> 00:27:50,180
just showed you but the two year old

00:27:48,020 --> 00:27:51,650
version these aren't screenshots that

00:27:50,180 --> 00:27:53,090
were captured well they were spin shops

00:27:51,650 --> 00:27:55,010
that were captured from you know

00:27:53,090 --> 00:27:57,170
recently from a real deployment because

00:27:55,010 --> 00:27:59,780
what I actually did was I just went to

00:27:57,170 --> 00:28:01,490
that URL and looked at the site as it

00:27:59,780 --> 00:28:03,830
was then it was still accessing the same

00:28:01,490 --> 00:28:05,750
API I was still able to use things in

00:28:03,830 --> 00:28:09,260
exactly the same way this is it a year

00:28:05,750 --> 00:28:11,300
later and this is it as it is now now

00:28:09,260 --> 00:28:13,970
obviously I wouldn't necessarily roll

00:28:11,300 --> 00:28:16,400
things back two years but knowing that

00:28:13,970 --> 00:28:18,290
you can roll a UI forward and backwards

00:28:16,400 --> 00:28:19,670
through your different deploys gives you

00:28:18,290 --> 00:28:21,050
a lot of freedom and a lot of

00:28:19,670 --> 00:28:23,120
flexibility and it's kind of peace of

00:28:21,050 --> 00:28:27,280
mind all good as times getting on

00:28:23,120 --> 00:28:29,840
quickly okay so I also mentioned that

00:28:27,280 --> 00:28:32,090
this is kind of automation based on get

00:28:29,840 --> 00:28:33,470
to get activity so we can build on the

00:28:32,090 --> 00:28:34,880
kind of conventions that we use for

00:28:33,470 --> 00:28:36,920
other things as well so we can build on

00:28:34,880 --> 00:28:39,410
pull requests so I just wanted to show

00:28:36,920 --> 00:28:41,480
you a quick look at creating builds from

00:28:39,410 --> 00:28:43,640
a pull request so rather than actually

00:28:41,480 --> 00:28:45,920
deciding that we've merged some code and

00:28:43,640 --> 00:28:47,450
that's good to go even creating a pull

00:28:45,920 --> 00:28:49,460
request and this is looking at the view

00:28:47,450 --> 00:28:52,220
of a pull request in github

00:28:49,460 --> 00:28:54,529
here in the conversation about that pull

00:28:52,220 --> 00:28:57,169
request we've automatically generated a

00:28:54,529 --> 00:28:57,919
build and put the link to that into the

00:28:57,169 --> 00:29:00,289
conversation

00:28:57,919 --> 00:29:03,350
so just to recap what that is that's a

00:29:00,289 --> 00:29:05,029
link to a few of the site as it will

00:29:03,350 --> 00:29:06,950
look in the future if you choose to

00:29:05,029 --> 00:29:09,500
merge that request in so that's kind of

00:29:06,950 --> 00:29:12,049
looking into the future which I find is

00:29:09,500 --> 00:29:13,789
kind of a crazy superpower when you can

00:29:12,049 --> 00:29:15,740
look at you know how things will look

00:29:13,789 --> 00:29:17,360
versus how things look now and then

00:29:15,740 --> 00:29:19,220
decide whether you want to merge in that

00:29:17,360 --> 00:29:21,110
code or not it's really powerful I'm

00:29:19,220 --> 00:29:22,730
gonna move on in the interest of time so

00:29:21,110 --> 00:29:26,029
this gives this kind of confidence in

00:29:22,730 --> 00:29:27,529
the future state of the project rattling

00:29:26,029 --> 00:29:29,750
through some lessons quickly so

00:29:27,529 --> 00:29:31,730
embracing version control conventions

00:29:29,750 --> 00:29:33,559
room meet removes the need to reinvent

00:29:31,730 --> 00:29:35,299
them no we we often find ourselves

00:29:33,559 --> 00:29:38,210
reinventing some of the tasks that

00:29:35,299 --> 00:29:40,700
version control already does for for us

00:29:38,210 --> 00:29:44,210
so building on top of that actually can

00:29:40,700 --> 00:29:45,770
be much simpler for us um reducing the

00:29:44,210 --> 00:29:47,270
friction to building things and

00:29:45,770 --> 00:29:49,250
deploying things just brings all kinds

00:29:47,270 --> 00:29:51,799
of agility and confidence if you know

00:29:49,250 --> 00:29:54,320
that you can deploy things many times an

00:29:51,799 --> 00:29:56,620
hour many times a minute perhaps it

00:29:54,320 --> 00:30:00,080
means that deploying is much less

00:29:56,620 --> 00:30:02,090
worrisome and no static sites or these

00:30:00,080 --> 00:30:04,309
Jam stack sites can go so much further

00:30:02,090 --> 00:30:05,899
than just a static experience because

00:30:04,309 --> 00:30:07,370
they're talking to api's and they can be

00:30:05,899 --> 00:30:09,890
enriched in ways that you might not

00:30:07,370 --> 00:30:11,270
think of immediately okay so I'm rapidly

00:30:09,890 --> 00:30:13,960
run out of running out of time so I want

00:30:11,270 --> 00:30:16,250
to get to mindsets and resources um

00:30:13,960 --> 00:30:17,899
other things can do some of these

00:30:16,250 --> 00:30:19,549
capabilities that I showed you very very

00:30:17,899 --> 00:30:21,049
quickly there so certainly things like

00:30:19,549 --> 00:30:22,640
Jenkins can do your continuous

00:30:21,049 --> 00:30:25,130
integration your continuous deployment

00:30:22,640 --> 00:30:26,390
and sites like circle CI which are a

00:30:25,130 --> 00:30:29,500
software-as-a-service

00:30:26,390 --> 00:30:32,149
version of that and do can do likewise

00:30:29,500 --> 00:30:34,010
I'd really recommend checking out some

00:30:32,149 --> 00:30:36,350
of the resources both at Jam stacked org

00:30:34,010 --> 00:30:38,539
and also the new dynamic to org which

00:30:36,350 --> 00:30:40,669
has all kinds of writings about these

00:30:38,539 --> 00:30:42,169
kind of approaches these kind of

00:30:40,669 --> 00:30:44,690
architectures and I think it's a really

00:30:42,169 --> 00:30:46,250
useful resource as is the power of

00:30:44,690 --> 00:30:48,649
server let's talk info which is a site

00:30:46,250 --> 00:30:50,659
that Chris Koya pulled together pulling

00:30:48,649 --> 00:30:52,789
in all of these resources together about

00:30:50,659 --> 00:30:55,399
serverless Infrastructure Jam stack

00:30:52,789 --> 00:30:56,929
infrastructure and the like um I think

00:30:55,399 --> 00:30:57,770
that's a really useful wanted to check

00:30:56,929 --> 00:31:00,919
out there's a wealth of information

00:30:57,770 --> 00:31:02,480
there and when it comes to mindsets it

00:31:00,919 --> 00:31:03,020
might not be a surprise to you to hear

00:31:02,480 --> 00:31:05,300
me say

00:31:03,020 --> 00:31:07,610
just go for version control for

00:31:05,300 --> 00:31:08,780
everything you know the further it can

00:31:07,610 --> 00:31:11,300
reach into your production environment

00:31:08,780 --> 00:31:13,370
and your deploy processes the better you

00:31:11,300 --> 00:31:14,900
know if if deployments are scripted then

00:31:13,370 --> 00:31:16,400
you can version those as well which

00:31:14,900 --> 00:31:18,920
brings me to this point in this kind of

00:31:16,400 --> 00:31:21,440
note on deployment make it scripted so

00:31:18,920 --> 00:31:23,540
that you're you can actually iterate

00:31:21,440 --> 00:31:25,730
that over time change the script that

00:31:23,540 --> 00:31:28,550
runs as things change that can be

00:31:25,730 --> 00:31:30,710
versioned as well make it automated sit

00:31:28,550 --> 00:31:32,420
on top of the kind of structures the

00:31:30,710 --> 00:31:34,130
kind of behaviors that you already do so

00:31:32,420 --> 00:31:37,970
you can trigger things within your

00:31:34,130 --> 00:31:40,340
day-to-day workflow make it real there's

00:31:37,970 --> 00:31:42,590
no point having deployments that you

00:31:40,340 --> 00:31:43,840
know do do deployments to environments

00:31:42,590 --> 00:31:45,800
that you're not actually going to use

00:31:43,840 --> 00:31:47,780
try and get to the point that you're

00:31:45,800 --> 00:31:49,820
making changes on the real environment

00:31:47,780 --> 00:31:53,330
that things will be working on later on

00:31:49,820 --> 00:31:55,010
that'll make things really a lot more

00:31:53,330 --> 00:31:56,660
robust for you particularly as you make

00:31:55,010 --> 00:31:58,550
it first make it at the beginning so you

00:31:56,660 --> 00:32:02,810
get a chance to refine and fine-tune

00:31:58,550 --> 00:32:04,130
that over time um Sahara said at the

00:32:02,810 --> 00:32:07,450
very beginning of the day you know I

00:32:04,130 --> 00:32:10,370
feed on chaos and that's that's great

00:32:07,450 --> 00:32:11,930
and you should always expect times of

00:32:10,370 --> 00:32:13,910
chaos in a project you know no matter

00:32:11,930 --> 00:32:15,710
how much work you do up front things are

00:32:13,910 --> 00:32:16,550
always going to get chaotic towards the

00:32:15,710 --> 00:32:18,860
end of the project

00:32:16,550 --> 00:32:20,420
but don't let chaos be introduced by

00:32:18,860 --> 00:32:22,280
poor processes or things that you might

00:32:20,420 --> 00:32:24,650
have been able to kind of abstract away

00:32:22,280 --> 00:32:27,140
um it's an awfully big stack at the

00:32:24,650 --> 00:32:28,760
moment there's a lot to learn we've seen

00:32:27,140 --> 00:32:31,790
a lot of that over the last couple of

00:32:28,760 --> 00:32:33,830
days and I would suggest don't be shy

00:32:31,790 --> 00:32:35,990
about using the expertise the skills of

00:32:33,830 --> 00:32:37,730
others because some of these problems

00:32:35,990 --> 00:32:39,920
have been solved by people who make that

00:32:37,730 --> 00:32:42,770
their domain expertise and you can

00:32:39,920 --> 00:32:44,300
really leverage that conferences like

00:32:42,770 --> 00:32:45,800
this I think give all kinds of

00:32:44,300 --> 00:32:47,570
inspiration for the things that we could

00:32:45,800 --> 00:32:49,700
be doing the ways that we could be

00:32:47,570 --> 00:32:51,620
working and we're kind of you know we're

00:32:49,700 --> 00:32:53,900
in this together which is what I love

00:32:51,620 --> 00:32:55,850
about events like this so with that said

00:32:53,900 --> 00:32:57,560
no build beautiful things whether

00:32:55,850 --> 00:32:59,330
they're visually beautiful or they just

00:32:57,560 --> 00:33:01,580
do a really good job of what we're

00:32:59,330 --> 00:33:03,140
trying to achieve bring solutions to the

00:33:01,580 --> 00:33:06,050
people that we we need to deliver

00:33:03,140 --> 00:33:08,480
projects to with that apologies I'm a

00:33:06,050 --> 00:33:10,760
couple of minutes over my slides online

00:33:08,480 --> 00:33:14,240
now it's Hawks works comm which is my

00:33:10,760 --> 00:33:15,470
site slash talks /j s heroes I'll be

00:33:14,240 --> 00:33:16,820
around if you'd like to ask me questions

00:33:15,470 --> 00:33:18,409
or wag your finger

00:33:16,820 --> 00:33:20,659
because you disagree and you love

00:33:18,409 --> 00:33:22,759
deploying with FTP and that's that's

00:33:20,659 --> 00:33:24,150
fine with that thanks ever so much I

00:33:22,759 --> 00:33:29,140
appreciate it thanks for your time

00:33:24,150 --> 00:33:29,140
[Applause]

00:33:29,690 --> 00:33:32,809

YouTube URL: https://www.youtube.com/watch?v=ttL4K-WLJ-c


