Title: Fontastic web performance - Monica Dinculescu | JSHeroes 2018
Publication date: 2018-05-02
Playlist: JSHeroes 2018
Description: 
	Web fonts are awesome. They make your sans-serifs slabby, your headers special and your website look gorgeous. But fonts are a resource, and downloading resources always comes as a cost — if you don’t load web fonts efficiently, what you get instead are phantom underlines, blank pages, and user rage. Let’s talk about ways to avoid this, and what new platform features are here to help us deliver pretty (but also!) fast experiences to everyone.
Captions: 
	00:00:01,840 --> 00:00:04,899
[Music]

00:00:10,759 --> 00:00:15,420
hi everyone it's true I lived in

00:00:13,469 --> 00:00:16,920
Bucharest for 15 years and I never got

00:00:15,420 --> 00:00:18,330
to go to Cluj because when I lived in

00:00:16,920 --> 00:00:20,369
Bucharest there were no planes or

00:00:18,330 --> 00:00:22,439
highways there's still no highways so

00:00:20,369 --> 00:00:23,730
we'd take like eight hours to go to Cluj

00:00:22,439 --> 00:00:24,990
and my mother would be like there's no

00:00:23,730 --> 00:00:28,260
way we're spending eight hours in a car

00:00:24,990 --> 00:00:30,779
together so here I am now we're gonna

00:00:28,260 --> 00:00:33,120
talk about funds I'm Monica I'm not

00:00:30,779 --> 00:00:34,649
Waldorf on Twitter and github in

00:00:33,120 --> 00:00:36,809
internet places where you might want to

00:00:34,649 --> 00:00:38,520
check it out and I'm really excited

00:00:36,809 --> 00:00:39,840
about France oh I work on a polymer team

00:00:38,520 --> 00:00:41,489
most of the time so I talk about web

00:00:39,840 --> 00:00:42,660
components and polymer which is a

00:00:41,489 --> 00:00:44,520
library that helps you write web

00:00:42,660 --> 00:00:45,719
components but I won't be talking about

00:00:44,520 --> 00:00:48,420
that today so if you want to chat about

00:00:45,719 --> 00:00:49,980
that find me anywhere in a break I'd

00:00:48,420 --> 00:00:52,890
love to nerd out about web components

00:00:49,980 --> 00:00:54,809
with you I love them so much but I

00:00:52,890 --> 00:00:56,280
really like fonts I've always liked Fonz

00:00:54,809 --> 00:00:58,410
I wanted to be a font designer at some

00:00:56,280 --> 00:01:00,690
point for like a hot minute thankfully I

00:00:58,410 --> 00:01:03,149
didn't do that I know everybody likes

00:01:00,690 --> 00:01:05,129
fonts because your slides are pretty and

00:01:03,149 --> 00:01:08,790
have custom fonts J's heroes this isn't

00:01:05,129 --> 00:01:10,650
on this is a custom font and last year I

00:01:08,790 --> 00:01:13,619
think somebody did a survey in HTTP

00:01:10,650 --> 00:01:15,689
archive and 68% of websites use web

00:01:13,619 --> 00:01:19,380
fonts that's like more than half of

00:01:15,689 --> 00:01:21,360
every website out there I think Google

00:01:19,380 --> 00:01:22,860
web fonts did like their have they're

00:01:21,360 --> 00:01:25,530
like seven year anniversary something

00:01:22,860 --> 00:01:27,659
and they figured out that the Google web

00:01:25,530 --> 00:01:30,990
fonts have been used in over 17 trillion

00:01:27,659 --> 00:01:32,790
web views that's like two thousand views

00:01:30,990 --> 00:01:34,380
per person in the universe for the last

00:01:32,790 --> 00:01:37,170
seven years that's like at least one web

00:01:34,380 --> 00:01:38,610
one today web fonts are everywhere web

00:01:37,170 --> 00:01:39,000
fonts are beautiful this is why we like

00:01:38,610 --> 00:01:41,759
them

00:01:39,000 --> 00:01:43,950
this is Helen Holmes's web page about

00:01:41,759 --> 00:01:45,600
called type as you're right

00:01:43,950 --> 00:01:47,159
she gave a really good talk about the

00:01:45,600 --> 00:01:49,229
history of typography and how it applies

00:01:47,159 --> 00:01:51,090
to web typography strongly recommend

00:01:49,229 --> 00:01:52,979
checking it out if you care about it but

00:01:51,090 --> 00:01:54,630
it looks beautiful it looks like a print

00:01:52,979 --> 00:01:56,969
magazine but it's not it's just a

00:01:54,630 --> 00:02:00,360
website this is a site called hello

00:01:56,969 --> 00:02:02,369
happy org that takes Google web fonts

00:02:00,360 --> 00:02:05,070
and pairs them together to see how they

00:02:02,369 --> 00:02:06,600
might match and which goes with what and

00:02:05,070 --> 00:02:08,369
they make it look beautiful they make it

00:02:06,600 --> 00:02:11,220
again look like print magazines which

00:02:08,369 --> 00:02:13,050
have a good nice artsy feel about them

00:02:11,220 --> 00:02:13,890
and this is a New Yorker it's my

00:02:13,050 --> 00:02:15,120
favorite

00:02:13,890 --> 00:02:17,220
magazine in the world it's a New York

00:02:15,120 --> 00:02:19,860
magazine about culture and politics and

00:02:17,220 --> 00:02:22,140
you know just common life but it's

00:02:19,860 --> 00:02:24,630
strongly associated with this font this

00:02:22,140 --> 00:02:27,959
one was designed by via Irvine in 1920

00:02:24,630 --> 00:02:29,850
and since then the New Yorker has always

00:02:27,959 --> 00:02:32,459
used this point for every headline for

00:02:29,850 --> 00:02:33,810
every title they've ever had even when

00:02:32,459 --> 00:02:35,670
the New Yorker came to the web if they

00:02:33,810 --> 00:02:37,470
didn't have this website this web font

00:02:35,670 --> 00:02:39,810
nobody would believe them that this was

00:02:37,470 --> 00:02:42,060
in fact the New Yorker that's how that's

00:02:39,810 --> 00:02:43,620
how associated with this font this is so

00:02:42,060 --> 00:02:45,840
web fonts are very important for brands

00:02:43,620 --> 00:02:47,820
it's how we say this is our brand this

00:02:45,840 --> 00:02:49,140
is the New Yorker my vines are so

00:02:47,820 --> 00:02:50,880
terrible I didn't want to shame

00:02:49,140 --> 00:02:52,920
anybody's website so I put all of the

00:02:50,880 --> 00:02:54,510
funds that I can think of on Hacker News

00:02:52,920 --> 00:02:57,570
and it looks even worse than it normally

00:02:54,510 --> 00:02:58,920
does and in particular not only does it

00:02:57,570 --> 00:03:01,320
look hideous but it's actually

00:02:58,920 --> 00:03:03,060
incredibly slow because with one's are

00:03:01,320 --> 00:03:05,130
kind of expensive to load and this is

00:03:03,060 --> 00:03:06,630
what this talk is about there's three

00:03:05,130 --> 00:03:08,550
things that you care about with web

00:03:06,630 --> 00:03:10,110
fonts the first one and if you use

00:03:08,550 --> 00:03:11,910
something like Google web fonts or a web

00:03:10,110 --> 00:03:13,769
font provider you might see this a lot

00:03:11,910 --> 00:03:16,170
you import a style sheet that takes you

00:03:13,769 --> 00:03:18,480
to a place that place isn't the font

00:03:16,170 --> 00:03:20,310
file itself that place is a font file of

00:03:18,480 --> 00:03:22,350
one face definition and a front face

00:03:20,310 --> 00:03:24,269
definition is basically a way we tell

00:03:22,350 --> 00:03:25,950
the browser hey I'm gonna have this font

00:03:24,269 --> 00:03:27,900
ready for you this font is gonna be a

00:03:25,950 --> 00:03:29,640
fun family of Roboto so if you ever see

00:03:27,900 --> 00:03:31,739
Roboto this is what I care and in

00:03:29,640 --> 00:03:34,829
particular here I'm saying that you have

00:03:31,739 --> 00:03:36,600
a weight of norm of 400 and a style of

00:03:34,829 --> 00:03:38,250
normal if you have like italic or bold

00:03:36,600 --> 00:03:40,049
you would have another font face

00:03:38,250 --> 00:03:42,390
definition so these are like the

00:03:40,049 --> 00:03:44,100
descriptions of a font that you can use

00:03:42,390 --> 00:03:46,140
in your site and then the source that it

00:03:44,100 --> 00:03:47,970
comes from and you can like use the

00:03:46,140 --> 00:03:49,620
different sources such like try to use

00:03:47,970 --> 00:03:52,230
the local one if it exists maybe it has

00:03:49,620 --> 00:03:54,480
a different name and so on and then the

00:03:52,230 --> 00:03:56,280
last part about using a web font is the

00:03:54,480 --> 00:03:57,750
actually using bit so it's like this

00:03:56,280 --> 00:04:00,660
thing wherever you're like I actually

00:03:57,750 --> 00:04:02,610
want to use Roboto so here you say fun

00:04:00,660 --> 00:04:05,280
family Roboto to me and I want to use

00:04:02,610 --> 00:04:07,019
the font family Roboto here whereas the

00:04:05,280 --> 00:04:08,160
previous one family Roboto said these

00:04:07,019 --> 00:04:10,290
are the things that the font family

00:04:08,160 --> 00:04:11,220
Roboto couldn't do so this is why

00:04:10,290 --> 00:04:12,079
they're sort of similar and they're

00:04:11,220 --> 00:04:15,030
always go together

00:04:12,079 --> 00:04:16,440
my favorite description of the problem

00:04:15,030 --> 00:04:18,180
with web fonts comes with Zack

00:04:16,440 --> 00:04:20,120
Leatherman he calls it the Mitt Romney

00:04:18,180 --> 00:04:23,010
web font problem and it goes like this

00:04:20,120 --> 00:04:26,660
two years ago we have America had an

00:04:23,010 --> 00:04:29,090
election everybody knows it went great

00:04:26,660 --> 00:04:31,310
but at that point when things were still

00:04:29,090 --> 00:04:33,470
looking promising and undecided Mitt

00:04:31,310 --> 00:04:35,420
Romney who was one of the candidates may

00:04:33,470 --> 00:04:37,400
or may not was announcing his candidacy

00:04:35,420 --> 00:04:38,210
to the president it was not sure he was

00:04:37,400 --> 00:04:41,570
gonna run or not

00:04:38,210 --> 00:04:43,610
so slate ran this article that James

00:04:41,570 --> 00:04:45,620
McBride took a - it took a picture of

00:04:43,610 --> 00:04:48,290
and basically when he loaded it it said

00:04:45,620 --> 00:04:49,640
MIT Romney is running for president and

00:04:48,290 --> 00:04:51,740
then you waited three seconds and he

00:04:49,640 --> 00:04:53,510
turns out he was not running for

00:04:51,740 --> 00:04:55,310
president and that's because the knot

00:04:53,510 --> 00:04:56,660
was a different font it was an italic

00:04:55,310 --> 00:04:57,980
font face and it was getting loaded

00:04:56,660 --> 00:04:59,810
separately and you were in a slow

00:04:57,980 --> 00:05:02,000
connection so it took extra long to get

00:04:59,810 --> 00:05:04,700
there this is the Mitt Romney web font

00:05:02,000 --> 00:05:08,210
loading problem and what you see here is

00:05:04,700 --> 00:05:10,490
called a fight or a flash of invisible

00:05:08,210 --> 00:05:12,710
text and this is when you see nothing

00:05:10,490 --> 00:05:14,660
for a while and then you see text inside

00:05:12,710 --> 00:05:16,340
of it so first we paint something

00:05:14,660 --> 00:05:18,860
invisible and then we switch to about

00:05:16,340 --> 00:05:21,170
fund flash of invisible text the other

00:05:18,860 --> 00:05:23,690
problem that we have with web fonts is a

00:05:21,170 --> 00:05:25,670
flash of unstyled text and this happens

00:05:23,690 --> 00:05:28,130
whenever we see something in a fallback

00:05:25,670 --> 00:05:29,330
font like a really ugly sans serif and

00:05:28,130 --> 00:05:30,860
then we wait a little bit and then we

00:05:29,330 --> 00:05:34,100
switch to the web font that you actually

00:05:30,860 --> 00:05:36,710
want to use if you get to pick one of

00:05:34,100 --> 00:05:38,270
them always pick to have longer fout

00:05:36,710 --> 00:05:40,250
than fight to fight is really bad

00:05:38,270 --> 00:05:42,260
because you see nothing your goal as a

00:05:40,250 --> 00:05:43,820
you know a content provider is to

00:05:42,260 --> 00:05:45,860
actually get content to your User

00:05:43,820 --> 00:05:48,860
Content this king is a thing that

00:05:45,860 --> 00:05:50,390
typography people will say and the

00:05:48,860 --> 00:05:52,400
reason why we have these problems is

00:05:50,390 --> 00:05:53,690
because browser is in general as

00:05:52,400 --> 00:05:55,970
somebody who works on browsers have a

00:05:53,690 --> 00:05:58,490
ton of opinions about everything but in

00:05:55,970 --> 00:06:00,830
particularly web fonts because they tend

00:05:58,490 --> 00:06:04,580
to affect everything so I'm gonna tell

00:06:00,830 --> 00:06:07,070
you let me fix this okay so this is how

00:06:04,580 --> 00:06:07,970
one's get loaded in a browser and this

00:06:07,070 --> 00:06:09,740
is why it's sort of a little bit

00:06:07,970 --> 00:06:12,080
complicated you're gonna go to a page

00:06:09,740 --> 00:06:13,760
your index.html you're gonna get it from

00:06:12,080 --> 00:06:15,350
the cloud you're gonna be like hey cloud

00:06:13,760 --> 00:06:17,570
give me this file comes back to the

00:06:15,350 --> 00:06:19,040
browser and the browser starts crunching

00:06:17,570 --> 00:06:20,570
on it and starts crunching on and it

00:06:19,040 --> 00:06:21,770
starts crunching in and goes aha I've

00:06:20,570 --> 00:06:24,260
seen something of interest on this page

00:06:21,770 --> 00:06:25,970
and that could be that link style sheet

00:06:24,260 --> 00:06:27,980
that I've showed you before this is what

00:06:25,970 --> 00:06:30,290
normally happens on like smaller

00:06:27,980 --> 00:06:31,550
websites and at this point the Rose is

00:06:30,290 --> 00:06:33,800
gonna go as sweet I'm gonna go download

00:06:31,550 --> 00:06:35,240
this this file but this is the first

00:06:33,800 --> 00:06:36,560
interesting thing about style sheets

00:06:35,240 --> 00:06:38,270
that you might not know is that they're

00:06:36,560 --> 00:06:39,680
called render blocking so when the

00:06:38,270 --> 00:06:40,460
browser starts downloading a style sheet

00:06:39,680 --> 00:06:42,470
it stops

00:06:40,460 --> 00:06:43,940
painting to the screen this is why if

00:06:42,470 --> 00:06:45,110
you have an enormous tell shoot that

00:06:43,940 --> 00:06:46,730
you're trying to download it's really

00:06:45,110 --> 00:06:48,830
bad for performance because you can't

00:06:46,730 --> 00:06:50,960
paint anything while we're downloading

00:06:48,830 --> 00:06:53,300
the stylesheet this is because if you've

00:06:50,960 --> 00:06:55,220
seen a website recently that has like

00:06:53,300 --> 00:06:56,690
its Styles completely borked like none

00:06:55,220 --> 00:06:58,310
of the styles are applied it looks

00:06:56,690 --> 00:06:59,840
terrible and it's not even clear what

00:06:58,310 --> 00:07:00,710
that browse of what that website is

00:06:59,840 --> 00:07:02,480
trying to convey

00:07:00,710 --> 00:07:04,730
so we're blocking painting while we're

00:07:02,480 --> 00:07:05,780
downloading the stylesheet and that it

00:07:04,730 --> 00:07:07,760
comes back and it comes back without

00:07:05,780 --> 00:07:09,890
font font face definition that I've said

00:07:07,760 --> 00:07:12,080
before and it can have you know all of

00:07:09,890 --> 00:07:14,060
the details as before and the browser is

00:07:12,080 --> 00:07:15,260
gonna move on and start crunching answer

00:07:14,060 --> 00:07:15,920
question answer crunching and it's gonna

00:07:15,260 --> 00:07:17,150
go aha

00:07:15,920 --> 00:07:19,400
I've seen something else of interest on

00:07:17,150 --> 00:07:21,800
this page I want to use you know Roboto

00:07:19,400 --> 00:07:23,030
for this div and here is the dirty

00:07:21,800 --> 00:07:25,490
secret of web fonts

00:07:23,030 --> 00:07:28,910
up until this point you haven't actually

00:07:25,490 --> 00:07:30,410
downloaded the font in the front face

00:07:28,910 --> 00:07:32,420
definition all you've said is like

00:07:30,410 --> 00:07:35,780
listen at some point in the future I

00:07:32,420 --> 00:07:37,490
might have this font that I need and

00:07:35,780 --> 00:07:39,320
it's like its source is gonna be at font

00:07:37,490 --> 00:07:41,150
dial off to over there but I haven't

00:07:39,320 --> 00:07:43,190
actually downloaded this file and that's

00:07:41,150 --> 00:07:44,600
because browsers will never do any work

00:07:43,190 --> 00:07:47,720
that you don't ask them to do they don't

00:07:44,600 --> 00:07:49,340
they don't just do work for funsies so

00:07:47,720 --> 00:07:51,920
maybe you never use this font maybe

00:07:49,340 --> 00:07:54,380
you're like super keen and put 700 you

00:07:51,920 --> 00:07:56,180
know fun phaser finishes and in the head

00:07:54,380 --> 00:07:57,800
of your website but never actually use

00:07:56,180 --> 00:07:59,720
them the browser is not gonna download

00:07:57,800 --> 00:08:01,910
those and this is where you get that

00:07:59,720 --> 00:08:03,890
flash of invisible text because we

00:08:01,910 --> 00:08:07,580
didn't actually have the font ready when

00:08:03,890 --> 00:08:09,080
we started using it which leads us to

00:08:07,580 --> 00:08:11,000
the next question about web fonts which

00:08:09,080 --> 00:08:13,190
is well how does the you know browser

00:08:11,000 --> 00:08:15,080
decide what to paint to the screen if it

00:08:13,190 --> 00:08:18,470
has the font or not and this is the font

00:08:15,080 --> 00:08:20,630
life cycle so when the browser finally

00:08:18,470 --> 00:08:24,200
sees that line that says div fun family

00:08:20,630 --> 00:08:26,360
Roboto it goes well do I have Roboto and

00:08:24,200 --> 00:08:28,280
in this case it didn't so you know if it

00:08:26,360 --> 00:08:29,690
has it great for example if you've

00:08:28,280 --> 00:08:32,900
already loaded it because somebody else

00:08:29,690 --> 00:08:33,980
used Roboto on that page or maybe you

00:08:32,900 --> 00:08:35,300
know you have it in the disk cache

00:08:33,980 --> 00:08:36,980
because you've been to this website

00:08:35,300 --> 00:08:38,720
before so it's loaded it and saved it in

00:08:36,980 --> 00:08:40,610
the cache if it has it it goes great

00:08:38,720 --> 00:08:43,880
awesome paint everything in Roboto

00:08:40,610 --> 00:08:45,590
moving on but if it doesn't it goes in

00:08:43,880 --> 00:08:46,850
what is called the block period and then

00:08:45,590 --> 00:08:48,620
the block period is when we paint

00:08:46,850 --> 00:08:50,420
everything as invisible so this is why

00:08:48,620 --> 00:08:51,680
we get that flash of invisible text we

00:08:50,420 --> 00:08:53,090
have to stop for a little bit while

00:08:51,680 --> 00:08:53,480
we're trying to download this one and

00:08:53,090 --> 00:08:55,459
then

00:08:53,480 --> 00:08:57,920
paint everything as invisible and the

00:08:55,459 --> 00:09:00,290
length of this period changes based on

00:08:57,920 --> 00:09:01,550
browsers it used to be infinity on the

00:09:00,290 --> 00:09:04,040
previous version of Safari

00:09:01,550 --> 00:09:05,510
it used to be zero in 911 it's three

00:09:04,040 --> 00:09:08,060
seconds in chrome and now water in

00:09:05,510 --> 00:09:09,709
Safari and I think Firefox so we block

00:09:08,060 --> 00:09:11,240
we do nothing basically we're paint

00:09:09,709 --> 00:09:13,310
invisible things to the screen for three

00:09:11,240 --> 00:09:15,380
seconds and then we go alright cool

00:09:13,310 --> 00:09:16,670
do I have Roboto now the three seconds

00:09:15,380 --> 00:09:19,519
is kind of enough time to download a

00:09:16,670 --> 00:09:22,220
font file and then if you do awesome

00:09:19,519 --> 00:09:23,810
rendering Roboto but if we don't we go

00:09:22,220 --> 00:09:25,579
in what's called the swamp period so at

00:09:23,810 --> 00:09:27,199
this point over three seconds have

00:09:25,579 --> 00:09:28,730
passed you haven't you know printed

00:09:27,199 --> 00:09:30,620
anything to the screen and the browser

00:09:28,730 --> 00:09:31,910
goes this is enough we need to show

00:09:30,620 --> 00:09:34,519
something to the user the users gonna

00:09:31,910 --> 00:09:36,110
leave this page otherwise so we swap we

00:09:34,519 --> 00:09:38,029
use the fallback font in this case

00:09:36,110 --> 00:09:39,320
sans-serif is the first full full back

00:09:38,029 --> 00:09:42,320
line which is like this system

00:09:39,320 --> 00:09:44,740
sans-serif on your on your computer it

00:09:42,320 --> 00:09:46,720
could be whole then I go on a Mac or

00:09:44,740 --> 00:09:49,579
whatever other

00:09:46,720 --> 00:09:50,750
Arial on Windows or whatever so then

00:09:49,579 --> 00:09:52,279
we're gonna paint something in the

00:09:50,750 --> 00:09:54,230
fallback font because some content is

00:09:52,279 --> 00:09:56,630
always better than no content at all and

00:09:54,230 --> 00:09:58,670
then after a while this could again be

00:09:56,630 --> 00:10:01,519
three seconds or like some length of

00:09:58,670 --> 00:10:03,410
time if we find the font if we're gonna

00:10:01,519 --> 00:10:05,089
render in it and if we don't the

00:10:03,410 --> 00:10:07,430
brother's gonna go and go in this fail

00:10:05,089 --> 00:10:08,959
phase and basically what if I didn't

00:10:07,430 --> 00:10:10,940
actually write Roboto what if I wrote

00:10:08,959 --> 00:10:12,410
MOBOT oh that's not a font that exists

00:10:10,940 --> 00:10:13,850
we end up in this fail phase where the

00:10:12,410 --> 00:10:15,230
browser was like I have no idea what

00:10:13,850 --> 00:10:16,670
this font you're asking me to paint is

00:10:15,230 --> 00:10:19,430
you didn't give me the right file I

00:10:16,670 --> 00:10:22,190
don't seem to able to have it let's just

00:10:19,430 --> 00:10:24,649
move on so these are the three stages

00:10:22,190 --> 00:10:27,110
that a web font can be in at any time

00:10:24,649 --> 00:10:29,329
and what this looks like in real life

00:10:27,110 --> 00:10:32,899
is like this so this is gonna be a video

00:10:29,329 --> 00:10:35,149
of all of these like stage is loading on

00:10:32,899 --> 00:10:36,649
and it's not a fake video the reason why

00:10:35,149 --> 00:10:38,480
I wrote this talk is because I went to

00:10:36,649 --> 00:10:40,880
Taiwan where I had like 2g internet for

00:10:38,480 --> 00:10:42,470
a week and what you're about to see is

00:10:40,880 --> 00:10:44,120
what I basically saw for every single

00:10:42,470 --> 00:10:47,209
website that I try to visit and is this

00:10:44,120 --> 00:10:49,760
we see nothing for a while

00:10:47,209 --> 00:10:52,399
three seconds yes Sarah oh my god pretty

00:10:49,760 --> 00:10:55,250
says serif I think that's actually a

00:10:52,399 --> 00:10:57,829
serif so that's the the first bit was

00:10:55,250 --> 00:10:58,279
the flash of unstyled text and the next

00:10:57,829 --> 00:10:59,779
one

00:10:58,279 --> 00:11:01,760
the invisible text and the next one was

00:10:59,779 --> 00:11:03,529
the flash of unstyled text my favorite

00:11:01,760 --> 00:11:04,699
part of this demo is the thing at the

00:11:03,529 --> 00:11:07,220
beginning where you see this like

00:11:04,699 --> 00:11:08,540
phantom underlines and bullets

00:11:07,220 --> 00:11:11,300
and that's because the browser paints

00:11:08,540 --> 00:11:12,860
the text invisible not the decorations

00:11:11,300 --> 00:11:14,960
of the text invisible so if you have

00:11:12,860 --> 00:11:16,640
underlines because they're links they're

00:11:14,960 --> 00:11:19,010
getting painted if you have bullets

00:11:16,640 --> 00:11:21,110
they're getting painted that code is

00:11:19,010 --> 00:11:22,460
using like quarry a knee or whatever the

00:11:21,110 --> 00:11:23,420
mono spaced one is it's definitely

00:11:22,460 --> 00:11:25,580
getting painting because we have that

00:11:23,420 --> 00:11:27,860
fund so what you see is like this

00:11:25,580 --> 00:11:31,010
horrifying ghost mansion of what could

00:11:27,860 --> 00:11:34,100
be funds but in fact is not which is

00:11:31,010 --> 00:11:35,990
great again in that video the first part

00:11:34,100 --> 00:11:37,910
was a flash of an invisible text which

00:11:35,990 --> 00:11:41,690
is from the block period and the next

00:11:37,910 --> 00:11:43,160
one is the unstyled text and at this

00:11:41,690 --> 00:11:44,480
point I can take a step back because I

00:11:43,160 --> 00:11:47,660
know I did it I was like listen I know

00:11:44,480 --> 00:11:50,600
how to solve this entire problem make me

00:11:47,660 --> 00:11:51,860
president of browser engineers you

00:11:50,600 --> 00:11:53,240
should just have no block period at all

00:11:51,860 --> 00:11:54,140
right just make that one zero always

00:11:53,240 --> 00:11:55,550
print something to the screen

00:11:54,140 --> 00:11:58,190
everything's gonna be amazing

00:11:55,550 --> 00:11:59,570
and now a story the reason why we have a

00:11:58,190 --> 00:12:01,310
blog period in the first place is

00:11:59,570 --> 00:12:03,380
because there's a lot of cases in which

00:12:01,310 --> 00:12:05,450
showing a full back font doesn't make

00:12:03,380 --> 00:12:09,500
sense the reason why we have wife wants

00:12:05,450 --> 00:12:11,420
to begin with is that back in the day

00:12:09,500 --> 00:12:13,390
David Hyatt used to work for WebKit and

00:12:11,420 --> 00:12:16,220
he was like one of the WebKit engineers

00:12:13,390 --> 00:12:17,570
and apart from working on WebKit he also

00:12:16,220 --> 00:12:19,520
works on something called iBooks which

00:12:17,570 --> 00:12:22,970
is now an application to just you know

00:12:19,520 --> 00:12:25,040
see read books but at the time I was in

00:12:22,970 --> 00:12:26,840
a browser and that's why he needed web

00:12:25,040 --> 00:12:29,210
fonts because books tend to be typeset

00:12:26,840 --> 00:12:32,060
in a particular font that the editor and

00:12:29,210 --> 00:12:33,170
the author agree on and he was like well

00:12:32,060 --> 00:12:34,610
I want something better than like I

00:12:33,170 --> 00:12:36,800
don't know creamy water wherever the

00:12:34,610 --> 00:12:38,360
modern fund at the time was so he was

00:12:36,800 --> 00:12:41,240
like sweet I'm gonna download a whip on

00:12:38,360 --> 00:12:43,040
in the browser and for him the blog

00:12:41,240 --> 00:12:44,840
period made the most sense because when

00:12:43,040 --> 00:12:46,970
you get a physical book you don't like

00:12:44,840 --> 00:12:48,260
first open it it's in Comic Sans blink a

00:12:46,970 --> 00:12:50,240
couple of times and then you see it

00:12:48,260 --> 00:12:52,339
types it in something pretty you open it

00:12:50,240 --> 00:12:54,500
and it's always the correct font so for

00:12:52,339 --> 00:12:56,180
him for iBooks they made no sense to

00:12:54,500 --> 00:12:58,580
have this fallback period so he was like

00:12:56,180 --> 00:13:00,020
listen block and paint nothing until you

00:12:58,580 --> 00:13:01,640
have something good to paint and then

00:13:00,020 --> 00:13:03,980
the person will just read that book like

00:13:01,640 --> 00:13:06,040
a normal prison and the book period was

00:13:03,980 --> 00:13:08,510
infinity for a very long time until

00:13:06,040 --> 00:13:09,980
chrome engineers were like okay infinity

00:13:08,510 --> 00:13:11,450
turns out to be really bad if you have a

00:13:09,980 --> 00:13:13,760
slow connection because you just never

00:13:11,450 --> 00:13:16,970
see anything so they decrease it three

00:13:13,760 --> 00:13:18,530
seconds and here we are so great now we

00:13:16,970 --> 00:13:20,350
know why fonts are really shitty but

00:13:18,530 --> 00:13:22,360
what can we do about this

00:13:20,350 --> 00:13:24,700
well we can control these periods we can

00:13:22,360 --> 00:13:27,010
control this like blocking and swapping

00:13:24,700 --> 00:13:28,300
period and the most important thing that

00:13:27,010 --> 00:13:30,880
you should get out of this is that

00:13:28,300 --> 00:13:33,130
invisible text is way way way WAY worse

00:13:30,880 --> 00:13:34,870
than ugly text ugly text means you can

00:13:33,130 --> 00:13:36,160
read something it's not the prettiest

00:13:34,870 --> 00:13:38,500
thing but you can at least like you know

00:13:36,160 --> 00:13:39,910
get the news invisible text means that

00:13:38,500 --> 00:13:42,270
you're looking at a blank page with

00:13:39,910 --> 00:13:44,590
weird underlines on it and go great

00:13:42,270 --> 00:13:46,210
so let's minimize the splash of

00:13:44,590 --> 00:13:47,470
invisible text this is our goal we're a

00:13:46,210 --> 00:13:51,340
browser and we're you know web

00:13:47,470 --> 00:13:53,320
developers we can do this the easiest

00:13:51,340 --> 00:13:55,420
answer is you know you know what's

00:13:53,320 --> 00:13:57,160
faster than a web font no web font at

00:13:55,420 --> 00:13:58,630
all if you don't need a web fun don't

00:13:57,160 --> 00:14:00,100
use a web font if you're just using a

00:13:58,630 --> 00:14:02,980
web fun for like a slightly prettier

00:14:00,100 --> 00:14:04,660
sans serif or you're like body copy in

00:14:02,980 --> 00:14:06,340
your site is like a news agency you

00:14:04,660 --> 00:14:09,010
probably don't need that web fun for the

00:14:06,340 --> 00:14:11,430
body copy so just don't use it use

00:14:09,010 --> 00:14:13,810
something in the in the browsers

00:14:11,430 --> 00:14:15,460
operating system stack this is something

00:14:13,810 --> 00:14:17,830
that I copy from github every single

00:14:15,460 --> 00:14:20,020
time this is their font family that they

00:14:17,830 --> 00:14:21,880
use on github.com and it basically uses

00:14:20,020 --> 00:14:24,190
you know your system font and then your

00:14:21,880 --> 00:14:25,180
max system font there's another like - -

00:14:24,190 --> 00:14:28,240
system font

00:14:25,180 --> 00:14:30,040
I think attribute as well and then they

00:14:28,240 --> 00:14:31,960
start falling back to like well maybe

00:14:30,040 --> 00:14:33,640
he'll veticon maybe Arial maybe like the

00:14:31,960 --> 00:14:35,410
emoji font in case this is like an

00:14:33,640 --> 00:14:37,030
actual emoji and so on there's a really

00:14:35,410 --> 00:14:38,200
good stack if you just want like a

00:14:37,030 --> 00:14:39,700
regular website this is what I use for

00:14:38,200 --> 00:14:42,220
basically anything that I built for the

00:14:39,700 --> 00:14:44,530
body content it works great but if you

00:14:42,220 --> 00:14:46,780
really really really need a web font

00:14:44,530 --> 00:14:50,050
just try to download the smallest web

00:14:46,780 --> 00:14:52,900
one that you can karolina and i don't

00:14:50,050 --> 00:14:55,330
want to butcher her name su score she's

00:14:52,900 --> 00:14:59,170
at fox on on twitter i definitely put

00:14:55,330 --> 00:15:01,750
her to name it has all consonants she

00:14:59,170 --> 00:15:04,150
has a great blog post and talk from last

00:15:01,750 --> 00:15:06,010
year called the state of the web and in

00:15:04,150 --> 00:15:07,690
it she goes through every single thing

00:15:06,010 --> 00:15:09,460
that he can optimize on a website and in

00:15:07,690 --> 00:15:13,270
particular she goes into great detail

00:15:09,460 --> 00:15:16,540
about what all of the different font

00:15:13,270 --> 00:15:19,810
file versions and versions mean in

00:15:16,540 --> 00:15:21,130
particular her conclusion says woof - is

00:15:19,810 --> 00:15:23,110
the smallest it's the most compressed

00:15:21,130 --> 00:15:25,660
file so it's the least bytes you have to

00:15:23,110 --> 00:15:28,000
download it doesn't work in i eleven but

00:15:25,660 --> 00:15:30,370
and in IE 11 you can fall back to like a

00:15:28,000 --> 00:15:33,100
different format so on most of your know

00:15:30,370 --> 00:15:34,180
modern browsers you should download a

00:15:33,100 --> 00:15:37,150
wife to file

00:15:34,180 --> 00:15:38,470
most like the most compression means

00:15:37,150 --> 00:15:41,440
that it's gonna be the fastest download

00:15:38,470 --> 00:15:43,330
but that isn't quite enough because you

00:15:41,440 --> 00:15:46,060
can download even fewer things then just

00:15:43,330 --> 00:15:48,010
bytes most fonts that are designed are

00:15:46,060 --> 00:15:49,780
designed to cover like a multitude of

00:15:48,010 --> 00:15:52,210
languages for example Romanian has like

00:15:49,780 --> 00:15:53,920
SS with commas and a z' with hats which

00:15:52,210 --> 00:15:55,330
English doesn't have if you know you're

00:15:53,920 --> 00:15:57,940
writing a website that only requires

00:15:55,330 --> 00:15:59,140
English characters just download only

00:15:57,940 --> 00:16:02,050
the characters that you need for that

00:15:59,140 --> 00:16:04,600
and we can do this with a couple of

00:16:02,050 --> 00:16:06,820
tools and Unicode range so Unicode range

00:16:04,600 --> 00:16:08,950
tells the browser this one family is

00:16:06,820 --> 00:16:10,840
only available for like the letters

00:16:08,950 --> 00:16:13,060
between a and Zed or whatever that range

00:16:10,840 --> 00:16:14,470
is for anything else you know use the

00:16:13,060 --> 00:16:17,080
fallback point because this point is not

00:16:14,470 --> 00:16:18,760
going to give it to you actually I saw

00:16:17,080 --> 00:16:20,920
if you saw I don't want to pick on him

00:16:18,760 --> 00:16:22,960
but Dominic's last slide has had more to

00:16:20,920 --> 00:16:24,910
mask in an italic font but that's it

00:16:22,960 --> 00:16:26,700
didn't believe belong to that font so

00:16:24,910 --> 00:16:28,780
it's like a non italic letter because

00:16:26,700 --> 00:16:30,100
the browser was like well I don't have

00:16:28,780 --> 00:16:31,870
that letter in this font so I'm just

00:16:30,100 --> 00:16:34,420
gonna use the next one which was just a

00:16:31,870 --> 00:16:36,160
regular just a regular font which is

00:16:34,420 --> 00:16:38,230
exactly what this does this is exactly

00:16:36,160 --> 00:16:40,210
what this means now in order for that

00:16:38,230 --> 00:16:42,130
font file to also be smaller you have to

00:16:40,210 --> 00:16:44,830
use a tool that it strips away all of

00:16:42,130 --> 00:16:45,550
the the Unicode characters that you

00:16:44,830 --> 00:16:48,280
don't want

00:16:45,550 --> 00:16:50,080
I think Zack Leatherman has a tool and a

00:16:48,280 --> 00:16:51,520
blog post about this generally if you

00:16:50,080 --> 00:16:53,680
have any questions about what should I

00:16:51,520 --> 00:16:55,810
do with this weird web fun situation the

00:16:53,680 --> 00:16:59,350
answer is go see what Zack other man has

00:16:55,810 --> 00:17:00,880
written about this so good so now we

00:16:59,350 --> 00:17:04,360
have you know the most compressed file

00:17:00,880 --> 00:17:06,490
only the characters that we need we can

00:17:04,360 --> 00:17:08,470
download all of these things earlier so

00:17:06,490 --> 00:17:10,630
if you remember when we were downloading

00:17:08,470 --> 00:17:12,459
when when I was showing you when the

00:17:10,630 --> 00:17:13,690
browser actually downloads the fund we

00:17:12,459 --> 00:17:15,459
didn't actually start downloading in the

00:17:13,690 --> 00:17:18,310
frontal way late in the page where we

00:17:15,459 --> 00:17:20,110
actually used that font in a selector so

00:17:18,310 --> 00:17:22,120
we need to somehow tell the browser to

00:17:20,110 --> 00:17:24,160
just download that font earlier even if

00:17:22,120 --> 00:17:26,830
he doesn't believe us that you know it

00:17:24,160 --> 00:17:28,890
should download it they write this is

00:17:26,830 --> 00:17:31,180
the file and then we can do this with

00:17:28,890 --> 00:17:32,710
link rel equals preload which is a new

00:17:31,180 --> 00:17:34,570
spec in the browser that's basically a

00:17:32,710 --> 00:17:36,520
hint from us the web developers to the

00:17:34,570 --> 00:17:38,410
browser that you like pinkie swear

00:17:36,520 --> 00:17:39,730
you're really gonna need this file now

00:17:38,410 --> 00:17:41,410
the browser doesn't really believe you

00:17:39,730 --> 00:17:42,970
so you have to like it really has to

00:17:41,410 --> 00:17:44,530
trust you on this one so you go listen

00:17:42,970 --> 00:17:47,020
browser I know you don't think so but I

00:17:44,530 --> 00:17:48,049
really need this file downloaded now of

00:17:47,020 --> 00:17:49,129
course the

00:17:48,049 --> 00:17:50,840
trick here is that you can't just put

00:17:49,129 --> 00:17:52,070
preload on everything because then the

00:17:50,840 --> 00:17:53,389
browser is not gonna trust you and is

00:17:52,070 --> 00:17:55,820
gonna be like your banana pants you just

00:17:53,389 --> 00:17:57,289
want everything download it now and the

00:17:55,820 --> 00:17:59,239
browser is really good at optimizing the

00:17:57,289 --> 00:18:00,769
things that you need to download so only

00:17:59,239 --> 00:18:02,779
use this sparingly for like you know the

00:18:00,769 --> 00:18:04,669
really crucial scripts or images or

00:18:02,779 --> 00:18:08,450
fonts that you want to download really

00:18:04,669 --> 00:18:10,460
early awesome so now we've done all of

00:18:08,450 --> 00:18:12,980
the work the file that we want is the

00:18:10,460 --> 00:18:14,809
smallest it's as early as possible but

00:18:12,980 --> 00:18:17,539
we're still going to get a flash of

00:18:14,809 --> 00:18:19,549
invisible text because it's still not

00:18:17,539 --> 00:18:21,350
gonna be like instant with the page load

00:18:19,549 --> 00:18:23,869
and this is where font face observer

00:18:21,350 --> 00:18:25,820
comes in font face observer is an

00:18:23,869 --> 00:18:29,090
awesome little JavaScript library it's

00:18:25,820 --> 00:18:31,009
like 4k I think it's written by Bram

00:18:29,090 --> 00:18:33,169
Stine and it basically lets you control

00:18:31,009 --> 00:18:34,519
that block and swap period it's

00:18:33,169 --> 00:18:37,100
basically what you want from the

00:18:34,519 --> 00:18:38,720
universe and if you remember anything

00:18:37,100 --> 00:18:40,700
from this talk is going to be like this

00:18:38,720 --> 00:18:44,269
thing right here so pay attention font

00:18:40,700 --> 00:18:46,820
face observer it is great so the way you

00:18:44,269 --> 00:18:48,649
normally use web fonts is you slap one

00:18:46,820 --> 00:18:50,480
of them on a body or something and then

00:18:48,649 --> 00:18:52,340
you know we rely on the browser to know

00:18:50,480 --> 00:18:54,769
how to do the swapping but instead what

00:18:52,340 --> 00:18:56,809
we can do is put that in a special class

00:18:54,769 --> 00:18:59,239
and then by default on the body we

00:18:56,809 --> 00:19:01,070
render things in the fallback font and

00:18:59,239 --> 00:19:02,570
the idea here is that when I'm confident

00:19:01,070 --> 00:19:04,789
and good and ready that I have actually

00:19:02,570 --> 00:19:07,190
downloaded Roboto I can manually put

00:19:04,789 --> 00:19:09,559
that class on the body and then switch

00:19:07,190 --> 00:19:11,869
the font myself now this is exactly what

00:19:09,559 --> 00:19:13,580
fun face observer does you can create a

00:19:11,869 --> 00:19:15,289
fun face observer for a particular font

00:19:13,580 --> 00:19:17,359
that you want and then try to load it

00:19:15,289 --> 00:19:18,710
and then when it gets loaded the library

00:19:17,359 --> 00:19:21,289
will give you a promise and then in this

00:19:18,710 --> 00:19:23,629
promise you can you know set the class

00:19:21,289 --> 00:19:25,940
list the class on that body element or

00:19:23,629 --> 00:19:27,320
whatever element you want to render in a

00:19:25,940 --> 00:19:28,850
web font but you can do also smart

00:19:27,320 --> 00:19:31,009
things you can have a timer and be like

00:19:28,850 --> 00:19:32,690
well how long did it actually take for

00:19:31,009 --> 00:19:34,879
this font to download was it like 15

00:19:32,690 --> 00:19:36,379
seconds if it was I promise you that

00:19:34,879 --> 00:19:37,850
like 15 seconds and to reading this

00:19:36,379 --> 00:19:39,710
BuzzFeed article I'm gonna get really

00:19:37,850 --> 00:19:41,149
grumpy if you then just switch the web

00:19:39,710 --> 00:19:44,359
font and relay out everything for me and

00:19:41,149 --> 00:19:45,950
I miss my spot so don't do that so you

00:19:44,359 --> 00:19:50,179
can do very smart things with fun face

00:19:45,950 --> 00:19:51,440
observers and I'm really excited this

00:19:50,179 --> 00:19:53,539
library existed for a very long time

00:19:51,440 --> 00:19:55,549
because it basically told browser

00:19:53,539 --> 00:19:58,609
engineers that they have to do that they

00:19:55,549 --> 00:20:00,320
have to give this power of controlling

00:19:58,609 --> 00:20:01,550
the block and the Swap period to actual

00:20:00,320 --> 00:20:03,290
developers

00:20:01,550 --> 00:20:04,580
and because I work on browsers this is

00:20:03,290 --> 00:20:06,559
the thing I'm very excited about because

00:20:04,580 --> 00:20:09,200
there's a new selector in CSS that

00:20:06,559 --> 00:20:10,730
basically lets you exactly do that and

00:20:09,200 --> 00:20:13,070
that is fine display optional so fine

00:20:10,730 --> 00:20:14,690
display is and you attribute and you can

00:20:13,070 --> 00:20:16,970
put it in that front face definition and

00:20:14,690 --> 00:20:18,350
it basically tells the browser listen up

00:20:16,970 --> 00:20:20,870
browser I know you want to do your

00:20:18,350 --> 00:20:22,370
classic thing when loading fonts but I

00:20:20,870 --> 00:20:24,830
know better and you should listen to me

00:20:22,370 --> 00:20:26,179
and it is amazing every time you get to

00:20:24,830 --> 00:20:27,559
do the browser you get to tell the

00:20:26,179 --> 00:20:30,380
browser to do what you want them to do

00:20:27,559 --> 00:20:32,270
is excellent so here's how it works

00:20:30,380 --> 00:20:34,670
you have that fun face definition and

00:20:32,270 --> 00:20:36,200
you put it in the front face definition

00:20:34,670 --> 00:20:38,000
and fine display has different options

00:20:36,200 --> 00:20:39,350
so you can have different loading

00:20:38,000 --> 00:20:41,030
options for different fonts that you

00:20:39,350 --> 00:20:42,380
have because some fonts you might

00:20:41,030 --> 00:20:44,030
actually want to block something like

00:20:42,380 --> 00:20:46,340
icon fonts and I'll show you this

00:20:44,030 --> 00:20:48,860
diagram in a second but again it's based

00:20:46,340 --> 00:20:51,590
it it applies to a particular font face

00:20:48,860 --> 00:20:54,050
definition so not your entire web font

00:20:51,590 --> 00:20:55,940
stack at once and here's the four

00:20:54,050 --> 00:20:57,470
different options it can have fun

00:20:55,940 --> 00:20:58,910
display block which is the default one

00:20:57,470 --> 00:21:03,110
that I've basically been telling you for

00:20:58,910 --> 00:21:04,910
20 minutes is you do not think you block

00:21:03,110 --> 00:21:06,050
for 3 set for in most three seconds

00:21:04,910 --> 00:21:08,150
while you're waiting for the font and

00:21:06,050 --> 00:21:09,679
then you paint in the fallback font for

00:21:08,150 --> 00:21:11,860
a while and then if you when you get it

00:21:09,679 --> 00:21:14,809
you paint in the web font this is great

00:21:11,860 --> 00:21:16,340
this is also Auto the next was this

00:21:14,809 --> 00:21:18,500
fourth one is place swap which is a

00:21:16,340 --> 00:21:22,010
little bit different in the sense that

00:21:18,500 --> 00:21:23,600
it pains 0 seconds of invisible text

00:21:22,010 --> 00:21:26,120
it's that hold on I'm gonna fix the web

00:21:23,600 --> 00:21:27,740
you know idea that I had that's fine

00:21:26,120 --> 00:21:29,960
display swap so it basically never pains

00:21:27,740 --> 00:21:31,340
invisible text it instantly paints the

00:21:29,960 --> 00:21:33,230
fallback text and then waits and waits

00:21:31,340 --> 00:21:36,440
and waits until it finally gets the web

00:21:33,230 --> 00:21:39,050
font and then it paints in that finest

00:21:36,440 --> 00:21:41,360
my fallback is a little bit even smarter

00:21:39,050 --> 00:21:43,340
than this it gives you a very small

00:21:41,360 --> 00:21:45,380
block period so it's something like a

00:21:43,340 --> 00:21:46,820
hundred milliseconds this isn't long

00:21:45,380 --> 00:21:48,710
enough for you to download the font this

00:21:46,820 --> 00:21:50,690
is just long enough to get it from the

00:21:48,710 --> 00:21:52,640
web font cache so if you've been to this

00:21:50,690 --> 00:21:54,559
page before you've cashed this font and

00:21:52,640 --> 00:21:56,690
it's ready for the next use if it's not

00:21:54,559 --> 00:21:58,670
in the web font cash you move on and you

00:21:56,690 --> 00:22:00,620
paint in the fallback font and when you

00:21:58,670 --> 00:22:03,679
get the the web font you switch to that

00:22:00,620 --> 00:22:05,179
so and I think this actually like waits

00:22:03,679 --> 00:22:06,490
for three seconds and if the whipped one

00:22:05,179 --> 00:22:10,190
never comes

00:22:06,490 --> 00:22:11,510
you you still switch so sorry and then

00:22:10,190 --> 00:22:12,710
the next one is fun it's playoff tional

00:22:11,510 --> 00:22:14,900
this is why it's perfect because it's

00:22:12,710 --> 00:22:17,360
exactly the behavior you want for

00:22:14,900 --> 00:22:19,280
a body of text so again it wastes 300

00:22:17,360 --> 00:22:22,070
milliseconds if the font is ready you

00:22:19,280 --> 00:22:23,720
can use it and if not so if it's ready

00:22:22,070 --> 00:22:25,400
you use it but if it's not you painted

00:22:23,720 --> 00:22:27,800
the fallback font and you never switch

00:22:25,400 --> 00:22:29,510
again this is why it's really good if

00:22:27,800 --> 00:22:31,880
you have something where your

00:22:29,510 --> 00:22:33,530
application or your website is mostly

00:22:31,880 --> 00:22:35,900
content-based if you just want to read

00:22:33,530 --> 00:22:37,430
the news or a blog post or something the

00:22:35,900 --> 00:22:38,870
user doesn't really care what Fon do you

00:22:37,430 --> 00:22:40,310
read it in they just really want to read

00:22:38,870 --> 00:22:42,260
the text so fine display optional is

00:22:40,310 --> 00:22:44,450
perfect for that if you have the pretext

00:22:42,260 --> 00:22:46,130
you get to use it if you don't just give

00:22:44,450 --> 00:22:48,890
to you the user a font and they'll be

00:22:46,130 --> 00:22:50,840
happy with it find this way block is

00:22:48,890 --> 00:22:53,690
something that you need for something

00:22:50,840 --> 00:22:55,790
like icon fonts or font like brand fonts

00:22:53,690 --> 00:22:59,750
where there's no acceptable fallback for

00:22:55,790 --> 00:23:00,800
you to use what this looks in real time

00:22:59,750 --> 00:23:03,530
is like this so I made this a little

00:23:00,800 --> 00:23:06,440
demo and at the top it's a very slow

00:23:03,530 --> 00:23:08,330
server so the idle a returning the font

00:23:06,440 --> 00:23:10,640
by like 4 seconds and at the bottom it's

00:23:08,330 --> 00:23:11,960
like a fast connection and the idea here

00:23:10,640 --> 00:23:13,280
is we like the fast connection is

00:23:11,960 --> 00:23:14,810
probably like the Wi-Fi that you have in

00:23:13,280 --> 00:23:15,980
your house and the slow connection is

00:23:14,810 --> 00:23:18,760
you know when you're roaming and you

00:23:15,980 --> 00:23:21,290
have to G and everything's slow in that

00:23:18,760 --> 00:23:23,510
corner you see nothing for a very long

00:23:21,290 --> 00:23:25,550
time that's the default browser behavior

00:23:23,510 --> 00:23:27,590
the fine display optional is the one

00:23:25,550 --> 00:23:30,500
where you saw text instantly it was ugly

00:23:27,590 --> 00:23:32,930
but hey it was text and this is by

00:23:30,500 --> 00:23:35,870
controlling how you load fonts is really

00:23:32,930 --> 00:23:38,030
important so this is awesome we have now

00:23:35,870 --> 00:23:39,980
done everything we can to minimize the

00:23:38,030 --> 00:23:41,720
flash of invisible text when we're lucky

00:23:39,980 --> 00:23:44,240
we don't even have any invisible text

00:23:41,720 --> 00:23:46,910
fine display optional works in Chrome

00:23:44,240 --> 00:23:48,380
and Safari and Firefox I believe so it's

00:23:46,910 --> 00:23:50,960
actually available in most of the

00:23:48,380 --> 00:23:52,880
browsers that you probably care about so

00:23:50,960 --> 00:23:54,590
now that we down this one now let's talk

00:23:52,880 --> 00:23:59,300
about minimizing the unstyled text

00:23:54,590 --> 00:24:00,580
because that's still a problem and the

00:23:59,300 --> 00:24:02,780
only thing that you can do with

00:24:00,580 --> 00:24:04,220
minimizing the end style text it's like

00:24:02,780 --> 00:24:06,050
making sure that your fonts look the

00:24:04,220 --> 00:24:08,270
same have less of a jarring transition

00:24:06,050 --> 00:24:10,190
between your fallback font which is like

00:24:08,270 --> 00:24:13,550
your ugly sans serif and you're like

00:24:10,190 --> 00:24:14,840
you're a web font that you want and dim

00:24:13,550 --> 00:24:17,810
brown came up with a really good trick

00:24:14,840 --> 00:24:19,430
for this where basically you line up the

00:24:17,810 --> 00:24:20,600
two fonts that you care about on top of

00:24:19,430 --> 00:24:22,100
each other and you look how different

00:24:20,600 --> 00:24:23,690
they are and they're obviously going to

00:24:22,100 --> 00:24:24,770
be different the font sizes aren't going

00:24:23,690 --> 00:24:26,720
to be the same the letter spacing

00:24:24,770 --> 00:24:28,280
between characters isn't going to be the

00:24:26,720 --> 00:24:29,900
same but if you

00:24:28,280 --> 00:24:31,670
get to adjust them a little bit so you

00:24:29,900 --> 00:24:33,410
get to like adjust some of the X Heights

00:24:31,670 --> 00:24:35,930
and the Wits between them the Fonz can

00:24:33,410 --> 00:24:37,910
look closer and closer together and they

00:24:35,930 --> 00:24:39,830
can at least look sorely sort of the

00:24:37,910 --> 00:24:41,210
same size so then when you flip from one

00:24:39,830 --> 00:24:42,800
to the other you don't like a relay out

00:24:41,210 --> 00:24:44,450
the whole page and images start jumping

00:24:42,800 --> 00:24:47,930
around because all of the lines are

00:24:44,450 --> 00:24:49,250
longer and you get extra characters this

00:24:47,930 --> 00:24:51,230
is kind of annoying to do on your on

00:24:49,250 --> 00:24:52,850
your own so I built this tool called

00:24:51,230 --> 00:24:56,090
font style matter that basically lets

00:24:52,850 --> 00:25:00,980
you load two fonts from google fonts of

00:24:56,090 --> 00:25:02,000
fallback font and a web font and then

00:25:00,980 --> 00:25:03,680
actually play with all of these

00:25:02,000 --> 00:25:05,300
variables that you might want to use so

00:25:03,680 --> 00:25:06,920
here at the bottom you see how the

00:25:05,300 --> 00:25:08,780
different that you take the two fonts

00:25:06,920 --> 00:25:11,180
are initially and then you can start

00:25:08,780 --> 00:25:13,010
adjusting the font size of your fallback

00:25:11,180 --> 00:25:14,690
font so that it looks more like what the

00:25:13,010 --> 00:25:16,310
future will be and then by the end they

00:25:14,690 --> 00:25:18,410
look sort of similar that you don't even

00:25:16,310 --> 00:25:19,820
see the the Jane could between them

00:25:18,410 --> 00:25:21,950
switching which is kind of great because

00:25:19,820 --> 00:25:24,140
that means your website is gonna look

00:25:21,950 --> 00:25:26,660
sort of okay even if it's doing this

00:25:24,140 --> 00:25:28,550
flip in between the fonts this is

00:25:26,660 --> 00:25:30,380
awesome now we have fixed our flash of

00:25:28,550 --> 00:25:32,600
invisible text we fixed our flash of

00:25:30,380 --> 00:25:34,250
unstyled text we basically have fixed

00:25:32,600 --> 00:25:37,100
all of web front loading let's talk

00:25:34,250 --> 00:25:39,470
about fun things with web fonts because

00:25:37,100 --> 00:25:41,680
what ones are still really awesome and

00:25:39,470 --> 00:25:44,030
the first exciting thing that I found is

00:25:41,680 --> 00:25:45,950
icon fonts and I kind of answer non-new

00:25:44,030 --> 00:25:48,850
I know everybody's used an icon a font

00:25:45,950 --> 00:25:51,410
they've been around for like 74 years

00:25:48,850 --> 00:25:52,700
but I recently saw has seen a new way of

00:25:51,410 --> 00:25:53,900
doing icon fonts which I thought was

00:25:52,700 --> 00:25:56,510
really interesting and that's using

00:25:53,900 --> 00:26:00,440
ligatures so ligature is a really

00:25:56,510 --> 00:26:02,900
awesome fun construct where letters look

00:26:00,440 --> 00:26:04,550
like something most of the time but when

00:26:02,900 --> 00:26:06,500
two letters are next to each other they

00:26:04,550 --> 00:26:10,550
look a little bit different so f and I

00:26:06,500 --> 00:26:12,680
are a good a good ligature because an FN

00:26:10,550 --> 00:26:14,240
and I together have like a smooshed top

00:26:12,680 --> 00:26:16,280
where like the dot of the eye comes into

00:26:14,240 --> 00:26:18,200
the F and it looks kind of weird but

00:26:16,280 --> 00:26:19,760
what the fun does is basically has like

00:26:18,200 --> 00:26:21,170
this list of ligature so when it sees

00:26:19,760 --> 00:26:22,700
two of these characters together it

00:26:21,170 --> 00:26:25,100
paints a completely different glyph in

00:26:22,700 --> 00:26:27,200
this particular case and way nicer F&I

00:26:25,100 --> 00:26:29,270
together so what the material design

00:26:27,200 --> 00:26:31,970
icon font does is that if you see here

00:26:29,270 --> 00:26:33,950
at the bottom you don't actually have

00:26:31,970 --> 00:26:35,270
like a class like how you normally use

00:26:33,950 --> 00:26:37,070
font awesome or something where you have

00:26:35,270 --> 00:26:38,990
like an image or like a class and then

00:26:37,070 --> 00:26:41,510
it swaps an image inside of it you just

00:26:38,990 --> 00:26:42,260
have the word settings and the font has

00:26:41,510 --> 00:26:44,510
settings as

00:26:42,260 --> 00:26:46,490
literature that transforms into you know

00:26:44,510 --> 00:26:49,700
the gear of that so it basically just

00:26:46,490 --> 00:26:51,050
uses ligatures to do icon to do icons

00:26:49,700 --> 00:26:53,630
which is kind of awesome and I haven't

00:26:51,050 --> 00:26:54,920
seen that before of course the most

00:26:53,630 --> 00:26:56,810
awesome thing about fonts is that you

00:26:54,920 --> 00:26:59,690
should just make your own why not it's

00:26:56,810 --> 00:27:01,310
kind of easy it is it takes two steps to

00:26:59,690 --> 00:27:03,050
do your own font the first one is to

00:27:01,310 --> 00:27:05,240
draw some things like those things on

00:27:03,050 --> 00:27:06,830
the board and then there's no other step

00:27:05,240 --> 00:27:08,450
to because there's a lot of sites and

00:27:06,830 --> 00:27:10,310
applications to actually just put that

00:27:08,450 --> 00:27:12,260
as a fun together

00:27:10,310 --> 00:27:14,120
fantastic done meme is a site that I

00:27:12,260 --> 00:27:16,640
really like that basically lets you

00:27:14,120 --> 00:27:19,610
specify what Unicode character you want

00:27:16,640 --> 00:27:21,200
a particular image to show up for I'm

00:27:19,610 --> 00:27:22,850
obsessed with emoji so obviously the

00:27:21,200 --> 00:27:25,100
only fund a favorite John was an emoji

00:27:22,850 --> 00:27:27,310
fund and this is how I did it I

00:27:25,100 --> 00:27:30,200
basically specified all of the you know

00:27:27,310 --> 00:27:32,240
Unicode characters for hearts and arrows

00:27:30,200 --> 00:27:33,110
and music and stuff like that and then I

00:27:32,240 --> 00:27:36,260
drew by hand

00:27:33,110 --> 00:27:37,850
the original $19.99 da Comeau emoji font

00:27:36,260 --> 00:27:40,490
and then we just put them together and

00:27:37,850 --> 00:27:41,690
then you get this at the top is what the

00:27:40,490 --> 00:27:43,670
emoji would look like if the font

00:27:41,690 --> 00:27:45,380
weren't applied and at the bottom is if

00:27:43,670 --> 00:27:47,000
the font is applied it's just the font

00:27:45,380 --> 00:27:48,440
so you don't have to do anything your

00:27:47,000 --> 00:27:50,810
markup doesn't change it's kind of

00:27:48,440 --> 00:27:53,600
Awesome the other kind of new thing

00:27:50,810 --> 00:27:55,580
about fonts is variable funds and

00:27:53,600 --> 00:27:57,170
they're basically sorcery they're super

00:27:55,580 --> 00:28:00,530
new and barely supported than you are

00:27:57,170 --> 00:28:02,840
but they're incredibly exciting the way

00:28:00,530 --> 00:28:05,300
you normally use fonts is that you have

00:28:02,840 --> 00:28:07,700
different font files so you have like a

00:28:05,300 --> 00:28:09,890
condensed Roboto and a wide Roboto and a

00:28:07,700 --> 00:28:11,840
bold Roboto an italic Roboto and these

00:28:09,890 --> 00:28:13,670
are all different files that you have to

00:28:11,840 --> 00:28:14,930
download over and over again and then

00:28:13,670 --> 00:28:17,750
you have to know which one you want to

00:28:14,930 --> 00:28:20,530
use but with a variable font you

00:28:17,750 --> 00:28:22,430
basically have one font file and like

00:28:20,530 --> 00:28:24,080
witchcraft in the background that

00:28:22,430 --> 00:28:25,880
basically interpolates between all of

00:28:24,080 --> 00:28:29,000
these values so you can have like a

00:28:25,880 --> 00:28:31,070
weight of 125 that doesn't mean it gets

00:28:29,000 --> 00:28:33,350
rounded down to 100 it just means the

00:28:31,070 --> 00:28:37,220
weight is 125 it's like slightly fatter

00:28:33,350 --> 00:28:38,750
than a hundred but not as fat as 200 and

00:28:37,220 --> 00:28:40,820
the way you use it is with one variation

00:28:38,750 --> 00:28:42,740
settings so if a font is a variable fund

00:28:40,820 --> 00:28:44,540
it documents these like variation

00:28:42,740 --> 00:28:46,340
settings that it cares about in this

00:28:44,540 --> 00:28:47,660
particular case weight and width and

00:28:46,340 --> 00:28:50,090
then you can give it some sort of like

00:28:47,660 --> 00:28:53,000
you know float number value for what you

00:28:50,090 --> 00:28:54,440
want the value to be in practice it

00:28:53,000 --> 00:28:55,700
looks like this this is a demo from

00:28:54,440 --> 00:28:57,620
access process

00:28:55,700 --> 00:28:59,420
and it's a hole collapsed revoir and you

00:28:57,620 --> 00:29:01,700
can make it as wide as you want and

00:28:59,420 --> 00:29:03,530
these are again not like discrete

00:29:01,700 --> 00:29:05,570
increments that a fun designer has drawn

00:29:03,530 --> 00:29:08,450
you have one fun file and you just like

00:29:05,570 --> 00:29:10,250
pick different heights and widths it's

00:29:08,450 --> 00:29:12,380
very exciting for fonts that have

00:29:10,250 --> 00:29:15,250
decorations so this is a font where you

00:29:12,380 --> 00:29:17,390
can control like the hooves and the

00:29:15,250 --> 00:29:19,610
concavity so you can add all of these

00:29:17,390 --> 00:29:21,710
decorations so that you can you know

00:29:19,610 --> 00:29:25,430
more customize your website it's like

00:29:21,710 --> 00:29:27,350
depending on what happens to it and

00:29:25,430 --> 00:29:29,090
again in here you have I don't know why

00:29:27,350 --> 00:29:30,950
all the fun variation settings are like

00:29:29,090 --> 00:29:33,080
named very cryptically where you have to

00:29:30,950 --> 00:29:37,820
think for seven minutes what CN might be

00:29:33,080 --> 00:29:40,010
I think it's concavity fr is fringes but

00:29:37,820 --> 00:29:41,210
then there they are and once you figure

00:29:40,010 --> 00:29:42,980
out what you want you can just adjust

00:29:41,210 --> 00:29:46,010
those properties and combine them

00:29:42,980 --> 00:29:47,540
together a really awesome demo I've seen

00:29:46,010 --> 00:29:49,220
is with icon phones this is not

00:29:47,540 --> 00:29:52,220
accessible obviously so we still have to

00:29:49,220 --> 00:29:54,140
do extra work for it but you have a web

00:29:52,220 --> 00:29:55,610
font that's icons that has variation

00:29:54,140 --> 00:29:58,580
settings that you can make you know the

00:29:55,610 --> 00:30:00,290
cat move and the move and the moon come

00:29:58,580 --> 00:30:01,850
in and out and the the biker you can

00:30:00,290 --> 00:30:04,220
just make a biker move throughout your

00:30:01,850 --> 00:30:07,550
entire screen with like one web font and

00:30:04,220 --> 00:30:09,500
a character so I made this demo called

00:30:07,550 --> 00:30:11,750
variable lizards where you just have the

00:30:09,500 --> 00:30:13,580
lizard moving on a screen why not just

00:30:11,750 --> 00:30:16,390
do that that's a great screen saver it's

00:30:13,580 --> 00:30:18,650
soothing it's calming it's moving down

00:30:16,390 --> 00:30:20,570
so that's it for web fonts these are my

00:30:18,650 --> 00:30:23,360
favorite resources Bram Stine recently

00:30:20,570 --> 00:30:25,790
wrote a web font handbook it's available

00:30:23,360 --> 00:30:28,250
online it's wonderful Helen Holmes has a

00:30:25,790 --> 00:30:29,750
lot of material on this and Zach Lowe

00:30:28,250 --> 00:30:32,120
Thurman has literally written every

00:30:29,750 --> 00:30:33,440
single blog post about web fonts that

00:30:32,120 --> 00:30:34,970
you will ever need in your life so I

00:30:33,440 --> 00:30:37,400
recommend following him on Twitter and

00:30:34,970 --> 00:30:40,040
everything and that's it use web fonts

00:30:37,400 --> 00:30:44,250
correctly thank you

00:30:40,040 --> 00:30:47,369
[Applause]

00:30:44,250 --> 00:30:47,369

YouTube URL: https://www.youtube.com/watch?v=WsFirqL4lBI


