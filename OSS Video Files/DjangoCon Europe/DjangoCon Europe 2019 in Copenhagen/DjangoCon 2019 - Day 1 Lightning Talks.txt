Title: DjangoCon 2019 - Day 1 Lightning Talks
Publication date: 2019-04-23
Playlist: DjangoCon Europe 2019 in Copenhagen
Description: 
	Lightning talk host:  Russell Keith-Magee, https://twitter.com/freakboy3742

Lightning talk 1: ...

Lightning talk 2: ...

Lightning talk 3: ...

Lightning talk 4: ...

Lightning talk 5: ...
Captions: 
	00:00:01,579 --> 00:00:04,729
okay so a lightning talk let's set the

00:00:03,529 --> 00:00:06,050
rules so everybody knows who they are

00:00:04,729 --> 00:00:07,250
especially the people down the front

00:00:06,050 --> 00:00:09,290
here are going to have to abide by the

00:00:07,250 --> 00:00:12,350
rules a lightning talk is a five-minute

00:00:09,290 --> 00:00:14,240
talk about any topic you want and when I

00:00:12,350 --> 00:00:16,129
say any topic it can be any topic at all

00:00:14,240 --> 00:00:18,230
I have seen fantastic lightning talks

00:00:16,129 --> 00:00:19,460
from Simon Willison one of the original

00:00:18,230 --> 00:00:21,949
people in the Django project all about

00:00:19,460 --> 00:00:23,689
Zeppelin's and we do actually have a

00:00:21,949 --> 00:00:25,730
talk on Ellis today about something that

00:00:23,689 --> 00:00:28,069
I know is not Django or code related

00:00:25,730 --> 00:00:30,409
lightning talks are an amazing way to

00:00:28,069 --> 00:00:31,759
get experience speaking if you have

00:00:30,409 --> 00:00:33,350
never spoken in front of a large

00:00:31,759 --> 00:00:35,480
audience before a lightning talk is a

00:00:33,350 --> 00:00:37,609
perfect opportunity for you to learn how

00:00:35,480 --> 00:00:39,620
to speak in public to get experience

00:00:37,609 --> 00:00:41,480
speaking in public and see if maybe it's

00:00:39,620 --> 00:00:43,670
mixed year-round when the call for

00:00:41,480 --> 00:00:45,469
papers comes up if you want to want to

00:00:43,670 --> 00:00:46,879
get involved the key thing about

00:00:45,469 --> 00:00:48,469
lightning talks though is it but we say

00:00:46,879 --> 00:00:49,640
it's five minutes there is a five minute

00:00:48,469 --> 00:00:51,890
limit there is a there will be a five

00:00:49,640 --> 00:00:53,929
minute timer down the bottom here when

00:00:51,890 --> 00:00:56,600
that timer runs out the time is out we

00:00:53,929 --> 00:00:57,980
we will sweep you off the stage and make

00:00:56,600 --> 00:01:00,079
sure that you are off the stage for the

00:00:57,980 --> 00:01:01,699
next speaker can come up on stage but

00:01:00,079 --> 00:01:04,430
your talk can be shorter than five

00:01:01,699 --> 00:01:06,260
minutes if you so choose you do not have

00:01:04,430 --> 00:01:07,370
to use the full five minutes if you just

00:01:06,260 --> 00:01:10,820
need to get up and announce something

00:01:07,370 --> 00:01:12,560
you can do that too so with that I am

00:01:10,820 --> 00:01:15,470
now wish to introduce our first

00:01:12,560 --> 00:01:16,820
lightning speaker today Craig Anderson I

00:01:15,470 --> 00:01:18,680
have no idea what they're speaking about

00:01:16,820 --> 00:01:20,890
so everyone please welcome Craig to the

00:01:18,680 --> 00:01:20,890
stage

00:01:26,329 --> 00:01:34,280
thank you very much so people who don't

00:01:31,939 --> 00:01:37,610
know what black is there's in the Python

00:01:34,280 --> 00:01:39,829
package can you raise your hand okay

00:01:37,610 --> 00:01:42,259
so there's some people here okay and

00:01:39,829 --> 00:01:44,500
hopefully if you work with teams this

00:01:42,259 --> 00:01:48,740
will make your life a bit better

00:01:44,500 --> 00:01:51,110
yep so I'm I'm Craig there's like

00:01:48,740 --> 00:01:53,179
Twitter and website you can find out

00:01:51,110 --> 00:01:58,310
more about me if you want to get in

00:01:53,179 --> 00:02:04,009
touch please do so yes black is a Python

00:01:58,310 --> 00:02:07,729
auto formatter it will help you kind of

00:02:04,009 --> 00:02:10,450
basically avoid the situation yeah this

00:02:07,729 --> 00:02:13,099
phone thing is not going to work for me

00:02:10,450 --> 00:02:15,650
yeah it'll avoid the situation of bike

00:02:13,099 --> 00:02:19,880
shedding now if you're unfamiliar with

00:02:15,650 --> 00:02:22,730
what bike shedding is it's basically the

00:02:19,880 --> 00:02:25,640
tendency for a technical team to just

00:02:22,730 --> 00:02:28,069
get bogged down in a lot of unnecessary

00:02:25,640 --> 00:02:30,410
technical dip well unimportant technical

00:02:28,069 --> 00:02:32,329
detail I suppose in a similar way that

00:02:30,410 --> 00:02:34,250
if you are building a bike shed one of

00:02:32,329 --> 00:02:39,620
the least important things is the color

00:02:34,250 --> 00:02:40,359
that it's painted so yeah why is this

00:02:39,620 --> 00:02:45,769
important

00:02:40,359 --> 00:02:49,040
so like you can use pepe and pepe it is

00:02:45,769 --> 00:02:52,040
great of course hopefully we're all

00:02:49,040 --> 00:02:55,420
using that but it doesn't kind of go to

00:02:52,040 --> 00:02:57,889
the kind of man you should details of

00:02:55,420 --> 00:03:00,049
like exactly how a lot of your code

00:02:57,889 --> 00:03:01,609
should be formatted so you might end up

00:03:00,049 --> 00:03:02,720
with lots of pull requests that look

00:03:01,609 --> 00:03:04,340
like this which is the exact same

00:03:02,720 --> 00:03:08,930
functional code but just somebody's

00:03:04,340 --> 00:03:10,609
preferring one style over another so

00:03:08,930 --> 00:03:13,639
yeah that's one way you can go you can

00:03:10,609 --> 00:03:17,510
also kind of go to the and come up with

00:03:13,639 --> 00:03:19,250
your own formatting guidelines that can

00:03:17,510 --> 00:03:22,220
be difficult to come up with that can be

00:03:19,250 --> 00:03:23,870
even more difficult to enforce and it

00:03:22,220 --> 00:03:25,880
can become maybe it says more about me

00:03:23,870 --> 00:03:28,160
but it can become a bit emotional when

00:03:25,880 --> 00:03:30,380
you're kind of debating oh I prefer you

00:03:28,160 --> 00:03:32,259
know this like legs or you know my

00:03:30,380 --> 00:03:35,479
colleague prefers a longer line length

00:03:32,259 --> 00:03:36,799
so black kind of makes makes a decision

00:03:35,479 --> 00:03:37,480
and they're just okay

00:03:36,799 --> 00:03:41,819
this is the way it's

00:03:37,480 --> 00:03:44,530
to be so what it looks like you get a

00:03:41,819 --> 00:03:46,930
really messy mess of code

00:03:44,530 --> 00:03:48,810
uh-huh hopefully you can see that that's

00:03:46,930 --> 00:03:54,220
from an example that they have a line

00:03:48,810 --> 00:03:58,630
and it takes you to this which is quite

00:03:54,220 --> 00:04:04,090
nice recently formatted yeah and Peppe

00:03:58,630 --> 00:04:06,640
compliant except whenever I've shown

00:04:04,090 --> 00:04:08,349
this to developers and whenever when I

00:04:06,640 --> 00:04:11,860
saw it for the first time I self I

00:04:08,349 --> 00:04:14,349
thought yeah that's great but I prefer

00:04:11,860 --> 00:04:21,130
things to be done in this way like I

00:04:14,349 --> 00:04:26,380
prefer so at times actually I want it

00:04:21,130 --> 00:04:28,510
stopped cool I can go forever yeah but

00:04:26,380 --> 00:04:30,250
like you know for example I don't

00:04:28,510 --> 00:04:31,960
necessarily like the fact that there's

00:04:30,250 --> 00:04:34,960
all of these whitespace and these lists

00:04:31,960 --> 00:04:39,850
or I don't like I prefer single quotes

00:04:34,960 --> 00:04:42,840
over double quotes basically like you

00:04:39,850 --> 00:04:45,600
know what black is saying to you is that

00:04:42,840 --> 00:04:48,490
yeah you know you give up that control

00:04:45,600 --> 00:04:49,810
and the advantage that you get is all of

00:04:48,490 --> 00:04:53,770
a sudden that you're just kind of you're

00:04:49,810 --> 00:04:56,080
freed from all of this yeah all of this

00:04:53,770 --> 00:04:57,820
extra stuff that you need to worry about

00:04:56,080 --> 00:05:01,930
all of this extra cognitive load anytime

00:04:57,820 --> 00:05:03,430
you write code and yeah it saves you

00:05:01,930 --> 00:05:06,880
from having to decide which color your

00:05:03,430 --> 00:05:08,680
bike shirt is supposed to be it's on

00:05:06,880 --> 00:05:10,889
github if you're looking to read me

00:05:08,680 --> 00:05:13,300
there is lots of kind of really detailed

00:05:10,889 --> 00:05:14,919
kind of discussion as to why the

00:05:13,300 --> 00:05:17,229
decisions have been made that have been

00:05:14,919 --> 00:05:20,560
made they pretty much convinced me that

00:05:17,229 --> 00:05:22,330
everything I thought was a bit funny was

00:05:20,560 --> 00:05:26,919
actually a better idea than what I

00:05:22,330 --> 00:05:28,890
thought yeah and there's me again and

00:05:26,919 --> 00:05:34,570
thank you very much for your time

00:05:28,890 --> 00:05:34,570
[Applause]

00:05:40,039 --> 00:05:44,789
it robs me of my opportunity I usually

00:05:43,469 --> 00:05:46,979
fill the space in between here with a

00:05:44,789 --> 00:05:48,629
little bit of a story I do have an

00:05:46,979 --> 00:05:50,610
interesting piece of history about about

00:05:48,629 --> 00:05:52,169
Denmark that I've discovered just having

00:05:50,610 --> 00:05:53,879
arrived here in the first time but I

00:05:52,169 --> 00:05:54,449
will now invite to the stage our next

00:05:53,879 --> 00:05:57,900
speaker

00:05:54,449 --> 00:06:00,120
Raoul Tavares who is going to speak

00:05:57,900 --> 00:06:01,259
without slides so second thing you can

00:06:00,120 --> 00:06:09,930
know about Lonny talks you don't have to

00:06:01,259 --> 00:06:14,939
use slides hello fellow Jiang gone out

00:06:09,930 --> 00:06:18,419
thank you for being here before I begin

00:06:14,939 --> 00:06:20,810
let me share with you that I have been

00:06:18,419 --> 00:06:24,150
having two loves in my life

00:06:20,810 --> 00:06:28,819
one is programming another one is

00:06:24,150 --> 00:06:31,759
psychology so far programming is winning

00:06:28,819 --> 00:06:35,060
however I found some knowledge about

00:06:31,759 --> 00:06:38,520
psychology what is full in programming

00:06:35,060 --> 00:06:42,379
even some people can look at it in some

00:06:38,520 --> 00:06:46,770
kind of completely unrelated stuff

00:06:42,379 --> 00:06:50,310
psychology principally the psychology of

00:06:46,770 --> 00:06:54,259
perception can be very useful when we

00:06:50,310 --> 00:07:01,709
are building user interfaces behaviorism

00:06:54,259 --> 00:07:04,709
can be very useful when we want our

00:07:01,709 --> 00:07:07,740
users to look more to one of other

00:07:04,709 --> 00:07:11,240
characteristics and psychology about

00:07:07,740 --> 00:07:16,800
people also it's very useful to know

00:07:11,240 --> 00:07:22,129
ourselves programmers have been called a

00:07:16,800 --> 00:07:26,959
lot of strange things nerds geeks

00:07:22,129 --> 00:07:29,879
anti-socials lacking of social abilities

00:07:26,959 --> 00:07:33,270
there is some kind of good examples

00:07:29,879 --> 00:07:35,459
about that for example a fictional

00:07:33,270 --> 00:07:38,969
character that is Sheldon Cooper from

00:07:35,459 --> 00:07:42,139
Big Bang Theory what a very real one

00:07:38,969 --> 00:07:45,259
that is Steve Jobs that is almost

00:07:42,139 --> 00:07:50,909
diagnosed with autism

00:07:45,259 --> 00:07:54,149
last year in Europe I turn in head in

00:07:50,909 --> 00:07:58,069
have the opportunity to see a very

00:07:54,149 --> 00:08:02,789
wonderful presentation from a person

00:07:58,069 --> 00:08:07,759
with a very appropriated name called ed

00:08:02,789 --> 00:08:12,479
singleton that presented himself as a

00:08:07,759 --> 00:08:16,049
diagnosis with autism and asperger and I

00:08:12,479 --> 00:08:20,369
found very brave for a person to step

00:08:16,049 --> 00:08:24,029
ahead with that presentation that some

00:08:20,369 --> 00:08:28,919
of the people could feel some kind of

00:08:24,029 --> 00:08:32,930
shaming it's it's wonderful and he said

00:08:28,919 --> 00:08:38,899
that some of the characteristics that

00:08:32,930 --> 00:08:41,519
comply with this set of behaviors

00:08:38,899 --> 00:08:45,139
incidentally the same characteristics

00:08:41,519 --> 00:08:49,620
that built an excellent programmer like

00:08:45,139 --> 00:08:55,500
pattern recognition extreme ability to

00:08:49,620 --> 00:08:58,620
focus attention to detail OCD can be

00:08:55,500 --> 00:08:59,100
obsessed obsessive compulsive disorder

00:08:58,620 --> 00:09:01,949
okay

00:08:59,100 --> 00:09:02,730
disorder is a walk waffle nine forget

00:09:01,949 --> 00:09:06,389
about it

00:09:02,730 --> 00:09:09,750
OCD can see very upsetting for the

00:09:06,389 --> 00:09:13,829
people around us but it's excellent when

00:09:09,750 --> 00:09:18,750
we have to fit a bit in their exact

00:09:13,829 --> 00:09:24,290
place and not somewhere else so next

00:09:18,750 --> 00:09:27,600
time someone talked about your personal

00:09:24,290 --> 00:09:32,430
characteristics like well strange

00:09:27,600 --> 00:09:34,769
creatures don't like people it's normal

00:09:32,430 --> 00:09:38,790
from the psychological point of view

00:09:34,769 --> 00:09:44,759
that people with extreme ability of

00:09:38,790 --> 00:09:47,639
focus feel suddenly overwhelmed by being

00:09:44,759 --> 00:09:52,019
in the middle of lots of people or by

00:09:47,639 --> 00:09:56,790
extreme noise around us so next time

00:09:52,019 --> 00:10:01,500
someone makes a comment about some of

00:09:56,790 --> 00:10:04,680
the peculiarities of any one of us

00:10:01,500 --> 00:10:06,900
think about that probably it would

00:10:04,680 --> 00:10:09,810
exactly be the same

00:10:06,900 --> 00:10:15,990
that makes you an excellent programmer

00:10:09,810 --> 00:10:21,750
and step ahead and just make strengths

00:10:15,990 --> 00:10:23,670
from what others can call a weakness now

00:10:21,750 --> 00:10:26,730
perhaps some of us can be can be

00:10:23,670 --> 00:10:30,120
thinking okay easy for him because it's

00:10:26,730 --> 00:10:32,670
a tall guy natural a senior it's easy to

00:10:30,120 --> 00:10:36,060
be there let me share a little secret

00:10:32,670 --> 00:10:39,360
with you standing here and I'm perfectly

00:10:36,060 --> 00:10:41,880
terrified and I have to fight myself

00:10:39,360 --> 00:10:44,250
several times to withdraw my my

00:10:41,880 --> 00:10:45,320
application to the light talk thank you

00:10:44,250 --> 00:10:55,790
very much

00:10:45,320 --> 00:10:58,769
[Applause]

00:10:55,790 --> 00:11:01,199
thank you very much Raul okay so while

00:10:58,769 --> 00:11:02,879
we get our next speaker set up little

00:11:01,199 --> 00:11:04,499
back in Danish history about a thousand

00:11:02,879 --> 00:11:06,959
years ago there was a big tournament

00:11:04,499 --> 00:11:08,850
between the Knights of three neighboring

00:11:06,959 --> 00:11:11,369
kingdoms they all came together and his

00:11:08,850 --> 00:11:12,990
big fields it all came equidistant this

00:11:11,369 --> 00:11:17,579
big triangular field they all met in to

00:11:12,990 --> 00:11:19,230
have this this big competition and a big

00:11:17,579 --> 00:11:21,509
tournament competition and one of those

00:11:19,230 --> 00:11:23,610
one of the series of knights his castle

00:11:21,509 --> 00:11:26,399
was very very rich and they he came with

00:11:23,610 --> 00:11:28,290
a huge posse of Squires like 20

00:11:26,399 --> 00:11:30,779
different Squires and wagons full of

00:11:28,290 --> 00:11:33,300
food and and supplies and what-have-you

00:11:30,779 --> 00:11:34,860
and the second camp came in made him

00:11:33,300 --> 00:11:36,449
quite as many Squires I still had fair

00:11:34,860 --> 00:11:38,189
few they like ten Squires came along

00:11:36,449 --> 00:11:40,170
with horses full of all fill of all

00:11:38,189 --> 00:11:41,129
their foods and supplies we'll finally

00:11:40,170 --> 00:11:42,959
about the rest of the story in just a

00:11:41,129 --> 00:11:51,569
moment just after NATO Alexander speaks

00:11:42,959 --> 00:11:53,790
to us thank you very much hello so I'll

00:11:51,569 --> 00:11:55,889
try to do this in five minutes and I

00:11:53,790 --> 00:11:58,079
will definitely fail so we will be

00:11:55,889 --> 00:12:00,629
posting all of the code on our github

00:11:58,079 --> 00:12:03,149
page very soon and I will now go through

00:12:00,629 --> 00:12:05,790
the code just we'll try to quickly go

00:12:03,149 --> 00:12:08,009
through a high-level overview what I

00:12:05,790 --> 00:12:10,050
want to talk about is how we were able

00:12:08,009 --> 00:12:13,259
to use feature toggles in migrating

00:12:10,050 --> 00:12:15,569
models in production with zero downtime

00:12:13,259 --> 00:12:17,629
if you already attended the workshop

00:12:15,569 --> 00:12:20,249
this morning sorry for the repetition

00:12:17,629 --> 00:12:22,709
but this is just a five minute overview

00:12:20,249 --> 00:12:24,449
okay so quickly let's take a very

00:12:22,709 --> 00:12:26,459
high-level view you start out by

00:12:24,449 --> 00:12:28,679
creating your new schema you need an

00:12:26,459 --> 00:12:30,480
initial synchronization script and an

00:12:28,679 --> 00:12:32,040
auto synchronization script the

00:12:30,480 --> 00:12:33,269
difference between the two is that one

00:12:32,040 --> 00:12:35,069
will migrate the data that already

00:12:33,269 --> 00:12:37,319
exists in the database and the other

00:12:35,069 --> 00:12:39,600
will continuously migrate data as you

00:12:37,319 --> 00:12:41,999
use both the new models and the old

00:12:39,600 --> 00:12:43,920
models at the same time this is done so

00:12:41,999 --> 00:12:47,160
that we have zero downtime we don't

00:12:43,920 --> 00:12:49,319
pause the production application then

00:12:47,160 --> 00:12:51,540
the next point is you will start adding

00:12:49,319 --> 00:12:53,850
your feature toggle switch and you will

00:12:51,540 --> 00:12:56,509
make it always use the old models at the

00:12:53,850 --> 00:12:58,980
beginning this way again zero downtime

00:12:56,509 --> 00:13:01,439
once you're done with that you leave it

00:12:58,980 --> 00:13:03,480
up for a while while it synchronizes and

00:13:01,439 --> 00:13:05,309
you check again after a while to make

00:13:03,480 --> 00:13:07,690
sure that nothing went wrong and they

00:13:05,309 --> 00:13:10,690
are in fact synchronized correctly

00:13:07,690 --> 00:13:12,580
then once you are okay with it

00:13:10,690 --> 00:13:14,860
everything is fine you check that you

00:13:12,580 --> 00:13:17,830
can switch the toggle to the new models

00:13:14,860 --> 00:13:19,840
this way you are again in production no

00:13:17,830 --> 00:13:21,010
downtime using the new models if

00:13:19,840 --> 00:13:24,670
something goes wrong you can immediately

00:13:21,010 --> 00:13:27,280
switch back so you can do a sanity check

00:13:24,670 --> 00:13:28,690
after a while everything is fine at this

00:13:27,280 --> 00:13:30,850
point you can remove the old models

00:13:28,690 --> 00:13:34,600
remove the switch and deploy again again

00:13:30,850 --> 00:13:36,730
zero downtime so what did we do we made

00:13:34,600 --> 00:13:37,870
a very generic version of the initial

00:13:36,730 --> 00:13:40,060
synchronization and the auto

00:13:37,870 --> 00:13:42,070
synchronization script then we created a

00:13:40,060 --> 00:13:43,390
way of basically describing the models

00:13:42,070 --> 00:13:45,070
and how they translate into each other

00:13:43,390 --> 00:13:47,500
so that every time we want to migrate

00:13:45,070 --> 00:13:49,390
with zero downtime all you do is just

00:13:47,500 --> 00:13:51,010
create the way that the models are

00:13:49,390 --> 00:13:53,200
described and no longer have to create

00:13:51,010 --> 00:13:55,600
any type of synchronization well not any

00:13:53,200 --> 00:13:58,780
type some but you use you make use of

00:13:55,600 --> 00:13:59,920
the synchronization script all right so

00:13:58,780 --> 00:14:02,620
let's talk about what are the different

00:13:59,920 --> 00:14:04,960
types of migration or model migration

00:14:02,620 --> 00:14:06,640
one-to-one so one model is being

00:14:04,960 --> 00:14:09,010
translated into another new model

00:14:06,640 --> 00:14:10,750
another type is one model is being

00:14:09,010 --> 00:14:13,600
translated into multiple new models and

00:14:10,750 --> 00:14:15,160
the last is the opposite so that is a

00:14:13,600 --> 00:14:16,990
quick example of one model going to

00:14:15,160 --> 00:14:18,520
another that is a quick example of

00:14:16,990 --> 00:14:21,820
one-to-many that's the quick example of

00:14:18,520 --> 00:14:23,590
a t1 and some more examples but but but

00:14:21,820 --> 00:14:24,970
but there is a big problem here when I'm

00:14:23,590 --> 00:14:26,410
doing one-to-one it's completely fine

00:14:24,970 --> 00:14:27,820
because I can use the primary key to

00:14:26,410 --> 00:14:30,070
check that the old model and the new

00:14:27,820 --> 00:14:32,050
model are the ones that match together I

00:14:30,070 --> 00:14:33,520
mean the nuances on the old instance but

00:14:32,050 --> 00:14:35,290
when I'm doing many to one or one to

00:14:33,520 --> 00:14:37,180
many it's a big problem because I cannot

00:14:35,290 --> 00:14:38,680
use the primary key it will duplicate so

00:14:37,180 --> 00:14:40,570
what do I do I create a body model

00:14:38,680 --> 00:14:42,100
what's a body model just a simple model

00:14:40,570 --> 00:14:43,720
that connects the old model with the new

00:14:42,100 --> 00:14:50,650
model what does it look like like this

00:14:43,720 --> 00:14:52,120
but ok we go into model descriptors so

00:14:50,650 --> 00:14:53,770
what's the model description a way to

00:14:52,120 --> 00:14:55,480
describe how a model is translated

00:14:53,770 --> 00:14:58,480
obviously you can read all of this code

00:14:55,480 --> 00:15:00,130
but anyways it's quite fine because we

00:14:58,480 --> 00:15:02,440
will post all of this on github and I

00:15:00,130 --> 00:15:04,480
have one minute and 50 seconds so base

00:15:02,440 --> 00:15:06,250
class permissions what do we do that is

00:15:04,480 --> 00:15:08,380
the part that is actually interesting we

00:15:06,250 --> 00:15:11,560
create the space classes that do the

00:15:08,380 --> 00:15:17,860
synchronization for us okay

00:15:11,560 --> 00:15:18,280
so I'll zoom in a little bit and ah yeah

00:15:17,860 --> 00:15:20,230
there we go

00:15:18,280 --> 00:15:20,830
basically I override the delete methods

00:15:20,230 --> 00:15:23,110
and

00:15:20,830 --> 00:15:25,150
save methods and I add some pre-imposed

00:15:23,110 --> 00:15:30,490
to the functions in case I need to run

00:15:25,150 --> 00:15:33,340
some pre or post delete functions okay

00:15:30,490 --> 00:15:34,750
yeah so I'm not gonna go through the

00:15:33,340 --> 00:15:38,230
code it's impossible to go through the

00:15:34,750 --> 00:15:40,660
code now okay but I give you a quick

00:15:38,230 --> 00:15:42,280
basically a quick point is you will

00:15:40,660 --> 00:15:43,660
whenever your saving you check whether

00:15:42,280 --> 00:15:46,240
you're the source model or the target

00:15:43,660 --> 00:15:48,850
model and accordingly decide to call the

00:15:46,240 --> 00:15:50,290
other instance of the new model or the

00:15:48,850 --> 00:15:56,740
old model depending on where your toggle

00:15:50,290 --> 00:15:58,930
switch is then the other interesting

00:15:56,740 --> 00:16:01,330
part is the synchronizer that might seem

00:15:58,930 --> 00:16:03,610
big but it's not big it's just simply

00:16:01,330 --> 00:16:05,260
running three main things one is

00:16:03,610 --> 00:16:06,760
explaining if there are any field

00:16:05,260 --> 00:16:08,680
mappings so a field that is beating

00:16:06,760 --> 00:16:10,240
about being mapped to a new field just

00:16:08,680 --> 00:16:12,250
the same way from the old model to the

00:16:10,240 --> 00:16:13,810
new model but let's use source model and

00:16:12,250 --> 00:16:15,460
target model because we can be

00:16:13,810 --> 00:16:17,440
synchronizing in both ways then the

00:16:15,460 --> 00:16:19,390
other part is checking which fields are

00:16:17,440 --> 00:16:20,950
optional so that we do not get any

00:16:19,390 --> 00:16:22,500
errors because of something being null

00:16:20,950 --> 00:16:24,940
while we don't expect it to be now and

00:16:22,500 --> 00:16:26,530
finally we have some field functions

00:16:24,940 --> 00:16:27,730
basically when I want to translate

00:16:26,530 --> 00:16:29,350
something that is a bit more complex

00:16:27,730 --> 00:16:31,330
that say multiple fields being

00:16:29,350 --> 00:16:36,250
translated into one field I have 20

00:16:31,330 --> 00:16:37,900
seconds I can do this and sorry yeah

00:16:36,250 --> 00:16:40,570
field functions basically give you a lot

00:16:37,900 --> 00:16:42,280
of a lot of freedom because you get the

00:16:40,570 --> 00:16:43,540
source instance and according to it you

00:16:42,280 --> 00:16:45,130
return the value of the field that

00:16:43,540 --> 00:16:47,320
should be translated am I out of time

00:16:45,130 --> 00:16:49,530
please say no okay thank you so much

00:16:47,320 --> 00:16:49,530
guys

00:16:54,130 --> 00:16:57,890
thank you very thank you very much Nader

00:16:56,510 --> 00:17:00,020
okay well we're next bigger get set up

00:16:57,890 --> 00:17:01,370
we've got our two sets of Squires one of

00:17:00,020 --> 00:17:02,990
the very large group of Squires and lots

00:17:01,370 --> 00:17:04,880
of supplies some was not so many Squires

00:17:02,990 --> 00:17:06,230
buts but still a lot of supplies the

00:17:04,880 --> 00:17:07,520
third pie third group that turned up

00:17:06,230 --> 00:17:09,410
there was a single night on a single

00:17:07,520 --> 00:17:10,970
Squire and when he set up his when they

00:17:09,410 --> 00:17:12,620
came in he came with a single beaten up

00:17:10,970 --> 00:17:13,880
pot that he had always food in and a

00:17:12,620 --> 00:17:15,770
noose that was that word that he was

00:17:13,880 --> 00:17:17,209
used to tie just tie up and hang up next

00:17:15,770 --> 00:17:18,350
to the pot the pot would be hung from a

00:17:17,209 --> 00:17:21,199
tree the noose would be hung from a tree

00:17:18,350 --> 00:17:22,970
to scare away any of the the Raiders and

00:17:21,199 --> 00:17:25,250
bandits that might come and steal the

00:17:22,970 --> 00:17:29,410
food overnight the story will continue

00:17:25,250 --> 00:17:29,410
right after Patrick emini oh thank you

00:17:32,410 --> 00:17:36,380
everyone I'm gonna be really quick

00:17:34,280 --> 00:17:37,610
because this talk is like 60 slides and

00:17:36,380 --> 00:17:40,220
I don't have much time

00:17:37,610 --> 00:17:44,770
I can engineer a verb in I live in

00:17:40,220 --> 00:17:46,820
London and regions with Italian resort

00:17:44,770 --> 00:17:48,590
so I've been working on a library called

00:17:46,820 --> 00:17:50,630
strawberry but first of all who's been

00:17:48,590 --> 00:17:53,630
using graphical in production or was

00:17:50,630 --> 00:17:54,920
familiar with it so not many so I'm

00:17:53,630 --> 00:17:57,380
gonna do a like a quick introduction

00:17:54,920 --> 00:17:59,360
what it is so let's go back for a moment

00:17:57,380 --> 00:18:01,730
and we used to have like simple web page

00:17:59,360 --> 00:18:03,830
composed by ischium and documents and we

00:18:01,730 --> 00:18:05,530
used to navigate between them using

00:18:03,830 --> 00:18:08,270
links and then the old page will refresh

00:18:05,530 --> 00:18:10,370
but then we start building ups and the

00:18:08,270 --> 00:18:11,600
requirement changed so we start having a

00:18:10,370 --> 00:18:13,850
single page application mobile

00:18:11,600 --> 00:18:15,830
applications and so on so we start

00:18:13,850 --> 00:18:19,490
creating ap has to communicate between

00:18:15,830 --> 00:18:23,000
back-end and clients and we use rest

00:18:19,490 --> 00:18:25,070
this one this one which is basically a

00:18:23,000 --> 00:18:27,559
way to exchange it a between a back-end

00:18:25,070 --> 00:18:29,300
and a server using HTTP and normal

00:18:27,559 --> 00:18:32,360
adjacent but you can change the data

00:18:29,300 --> 00:18:34,730
formats I guess so yeah you were to get

00:18:32,360 --> 00:18:36,800
patch personally to basically do

00:18:34,730 --> 00:18:38,360
operation server as we start to build

00:18:36,800 --> 00:18:40,850
like more complicated complex

00:18:38,360 --> 00:18:42,290
application rest in really scale so we

00:18:40,850 --> 00:18:43,550
start looking for something better and

00:18:42,290 --> 00:18:46,160
this is something better could be

00:18:43,550 --> 00:18:48,650
graafian which is a specification

00:18:46,160 --> 00:18:51,140
invented by Facebook in 2013 and

00:18:48,650 --> 00:18:53,540
released as open source in 2015 I think

00:18:51,140 --> 00:18:56,780
and it's a basically the query language

00:18:53,540 --> 00:18:59,480
allows you to specify the data that you

00:18:56,780 --> 00:19:01,890
want do a queen on your back-end and

00:18:59,480 --> 00:19:04,950
then get to just the data that you want

00:19:01,890 --> 00:19:06,450
we can use the HTTP or what circuits so

00:19:04,950 --> 00:19:08,429
on there's only one single endpoint

00:19:06,450 --> 00:19:09,870
which where you can request the data

00:19:08,429 --> 00:19:12,679
that you want and looks like this so you

00:19:09,870 --> 00:19:15,120
do a post request 2 / graphic UL and

00:19:12,679 --> 00:19:17,190
then you get data back so what does it

00:19:15,120 --> 00:19:19,830
look like this is a simple query where

00:19:17,190 --> 00:19:21,480
I'm basically requesting a list of films

00:19:19,830 --> 00:19:22,890
with a title and the language is in

00:19:21,480 --> 00:19:24,539
English and then the name of the

00:19:22,890 --> 00:19:26,340
director and then response will be

00:19:24,539 --> 00:19:28,950
summed electives so it's basically the

00:19:26,340 --> 00:19:30,360
same it's like it it's a JSON case with

00:19:28,950 --> 00:19:31,679
the data that you've been requested we

00:19:30,360 --> 00:19:33,590
can change all the data and request

00:19:31,679 --> 00:19:35,909
different that I finish something else

00:19:33,590 --> 00:19:38,789
once the batter is declarative so

00:19:35,909 --> 00:19:42,090
basically you are only asking for that

00:19:38,789 --> 00:19:44,039
you want on the fetch a fetching it is

00:19:42,090 --> 00:19:45,539
typed so basically all the schemas that

00:19:44,039 --> 00:19:48,630
you have our API they have types

00:19:45,539 --> 00:19:51,450
so it's documenting you get like IDs

00:19:48,630 --> 00:19:53,940
where you can get data and also you can

00:19:51,450 --> 00:19:56,880
get documentation and there are some

00:19:53,940 --> 00:19:58,110
options with Python it's going to talk

00:19:56,880 --> 00:19:59,750
about the one I'm working on because I

00:19:58,110 --> 00:20:02,220
don't have much time Scott strawberry

00:19:59,750 --> 00:20:04,049
and I'm working on because I just want

00:20:02,220 --> 00:20:06,630
to have some side project for fun and

00:20:04,049 --> 00:20:08,130
learning like new Python features and

00:20:06,630 --> 00:20:10,679
also experiment with new graphical

00:20:08,130 --> 00:20:12,840
features and improving your system

00:20:10,679 --> 00:20:14,700
because it's quite like graph can in

00:20:12,840 --> 00:20:16,530
Python is quite new I guess so how does

00:20:14,700 --> 00:20:18,510
it work it's based on data classes which

00:20:16,530 --> 00:20:20,100
is if you're familiar with its

00:20:18,510 --> 00:20:22,740
particular class where you define the

00:20:20,100 --> 00:20:24,450
fields and the types all together and

00:20:22,740 --> 00:20:27,059
then the generate in each application

00:20:24,450 --> 00:20:29,159
material equality method and so on and

00:20:27,059 --> 00:20:30,200
we can same you can use the same

00:20:29,159 --> 00:20:32,820
approach for graph QL

00:20:30,200 --> 00:20:35,100
so let's see an example so this is thick

00:20:32,820 --> 00:20:38,610
with addy schema that way before so we

00:20:35,100 --> 00:20:40,200
can define a type director using the

00:20:38,610 --> 00:20:43,289
decorator so berry type and then define

00:20:40,200 --> 00:20:46,010
the name and this is it's the same for

00:20:43,289 --> 00:20:49,409
all the other basically old or the other

00:20:46,010 --> 00:20:52,520
types and we grow all together like this

00:20:49,409 --> 00:20:56,210
I should have a damaged ni first time

00:20:52,520 --> 00:20:56,210
you know so

00:20:58,030 --> 00:21:04,910
yes I'm gonna so I'm going to define a

00:21:02,570 --> 00:21:06,890
type called color then I'm going to

00:21:04,910 --> 00:21:09,380
define simple query then a mutation a

00:21:06,890 --> 00:21:12,590
mutation is basically a way to do any

00:21:09,380 --> 00:21:15,340
operation with side effects so this one

00:21:12,590 --> 00:21:18,950
is gonna basically publish an update in

00:21:15,340 --> 00:21:20,270
pub sub lab and then returning okay and

00:21:18,950 --> 00:21:23,290
then I have a subscription which is

00:21:20,270 --> 00:21:25,670
basically a way to register an event and

00:21:23,290 --> 00:21:28,010
this one is basically gonna list since

00:21:25,670 --> 00:21:29,450
it's gonna subscribe to the pub sub that

00:21:28,010 --> 00:21:31,429
we have and then it's gonna listen to

00:21:29,450 --> 00:21:32,720
all the updates it's going to fetch the

00:21:31,429 --> 00:21:39,490
the colors and then it's going to return

00:21:32,720 --> 00:21:42,230
for every message the color and yeah

00:21:39,490 --> 00:21:45,650
yeah basically the damage like this if

00:21:42,230 --> 00:21:48,710
you wanna yeah changes colors basically

00:21:45,650 --> 00:21:51,710
its front end is react and back end is

00:21:48,710 --> 00:21:54,080
Python is using WebSocket to communicate

00:21:51,710 --> 00:21:56,960
with the graphical API yeah it's

00:21:54,080 --> 00:22:00,380
basically done in 59 so code is quite

00:21:56,960 --> 00:22:05,240
nice actually this API and if you want

00:22:00,380 --> 00:22:08,270
to know more about too many desktops you

00:22:05,240 --> 00:22:10,070
can go on story the rocks or talk to me

00:22:08,270 --> 00:22:11,200
in person at the conference that is it

00:22:10,070 --> 00:22:17,520
Springs thank you

00:22:11,200 --> 00:22:23,250
[Applause]

00:22:17,520 --> 00:22:25,440
Thank You Patrick okay and so the three

00:22:23,250 --> 00:22:26,520
sets of Knights have all turned up and

00:22:25,440 --> 00:22:27,659
they've all come to this field and I

00:22:26,520 --> 00:22:28,559
have their first day of tournament you

00:22:27,659 --> 00:22:30,510
know the first day of talking but they

00:22:28,559 --> 00:22:31,610
have a great big feast as you as you do

00:22:30,510 --> 00:22:35,270
at the end of a first ever tournament

00:22:31,610 --> 00:22:38,309
and at the end of the first day that

00:22:35,270 --> 00:22:40,049
first day of feasts the the first the

00:22:38,309 --> 00:22:41,880
two large sets of knights and Squires

00:22:40,049 --> 00:22:44,130
they just kind of go to bed basically

00:22:41,880 --> 00:22:45,419
and the third the third night to sit one

00:22:44,130 --> 00:22:47,520
with a single he goes and hangs

00:22:45,419 --> 00:22:49,590
all the supplies leftover up in the up

00:22:47,520 --> 00:22:51,659
in the pot with the noose next to it

00:22:49,590 --> 00:22:52,919
and the next day all the rats have

00:22:51,659 --> 00:22:54,120
gotten into the food for the other two

00:22:52,919 --> 00:22:56,820
counts but the rats haven't gotten into

00:22:54,120 --> 00:22:58,830
the camp with the the pot up in the tree

00:22:56,820 --> 00:23:00,120
and the bandits have come and stole and

00:22:58,830 --> 00:23:01,500
what food was leftover from the other

00:23:00,120 --> 00:23:02,730
two cats but because there's a new stair

00:23:01,500 --> 00:23:05,279
they didn't go anywhere near that pot

00:23:02,730 --> 00:23:07,799
and so everyone was kind of wondering

00:23:05,279 --> 00:23:10,919
well what does what does this teach us

00:23:07,799 --> 00:23:13,080
about about the Squires and after

00:23:10,919 --> 00:23:15,660
Andrews hammer sure till it talks to us

00:23:13,080 --> 00:23:21,859
about bicycling you got to find out

00:23:15,660 --> 00:23:24,989
[Applause]

00:23:21,859 --> 00:23:30,269
but we need them a Mac expert to fix the

00:23:24,989 --> 00:23:32,789
screen sharing two of them all right

00:23:30,269 --> 00:23:37,769
while we do that and I don't know

00:23:32,789 --> 00:23:39,239
anything about Genco yeah I don't know

00:23:37,769 --> 00:23:40,979
anything about coding actually I'm a

00:23:39,239 --> 00:23:45,179
biker it and I'm here to prime you're in

00:23:40,979 --> 00:23:47,309
cycling in Copenhagen now like most

00:23:45,179 --> 00:23:49,979
cities cook making has bicycle shop

00:23:47,309 --> 00:23:52,979
cultures we have bike polo players we

00:23:49,979 --> 00:23:56,249
have cargo bike racers we have bike

00:23:52,979 --> 00:23:58,589
warriors we have even a wall of death

00:23:56,249 --> 00:24:00,419
riders but what sets code making apart

00:23:58,589 --> 00:24:02,190
is these guys ordinary people going from

00:24:00,419 --> 00:24:04,229
A to B every day

00:24:02,190 --> 00:24:05,429
in fact the bicyclists overtaking the

00:24:04,229 --> 00:24:08,969
car is the primary mode of

00:24:05,429 --> 00:24:11,820
transportation in Copenhagen and along

00:24:08,969 --> 00:24:14,219
with that it has also taken over much of

00:24:11,820 --> 00:24:17,729
the traffic culture usually associated

00:24:14,219 --> 00:24:20,129
with with cars and that means that this

00:24:17,729 --> 00:24:21,959
shortest way of explaining how to ride a

00:24:20,129 --> 00:24:23,489
bike in Copenhagen is that you should

00:24:21,959 --> 00:24:27,329
write your bike like you're driving a

00:24:23,489 --> 00:24:29,219
car and that means you stick to the

00:24:27,329 --> 00:24:30,809
right you keep in your lane whether

00:24:29,219 --> 00:24:34,529
you're on the street on a bike path

00:24:30,809 --> 00:24:38,479
stick to the right you don't ever go in

00:24:34,529 --> 00:24:41,509
the wrong direction just don't do it

00:24:38,479 --> 00:24:43,739
completely unacceptable in in Copenhagen

00:24:41,509 --> 00:24:47,429
also to not violence sidewalks

00:24:43,739 --> 00:24:50,129
pedestrian streets or in parks it's also

00:24:47,429 --> 00:24:54,089
important to look around as you put in a

00:24:50,129 --> 00:24:56,070
car orient yourself it's also important

00:24:54,089 --> 00:24:57,690
to use your indicators but you don't

00:24:56,070 --> 00:25:00,570
have any indicators it's a bike so we

00:24:57,690 --> 00:25:03,450
use your arms this is a stop sign turn

00:25:00,570 --> 00:25:06,919
left sign surprisingly turn right sign

00:25:03,450 --> 00:25:10,769
you'll see it on the streets as well

00:25:06,919 --> 00:25:12,329
yeah we have those then once you on the

00:25:10,769 --> 00:25:15,059
street you'll see that we have really

00:25:12,329 --> 00:25:17,309
nice bicycle infrastructure most of the

00:25:15,059 --> 00:25:22,259
bike lanes like this separated bike

00:25:17,309 --> 00:25:24,809
lanes with a clip between the sidewalk

00:25:22,259 --> 00:25:27,109
and the and the bicycle lane and also

00:25:24,809 --> 00:25:29,909
between the street and the bicycle lane

00:25:27,109 --> 00:25:32,129
you'll also see these signs that means

00:25:29,909 --> 00:25:33,530
you're doing it right it indicates

00:25:32,129 --> 00:25:35,630
you're on a pice on

00:25:33,530 --> 00:25:36,890
claim if you see it upside down you're

00:25:35,630 --> 00:25:38,570
doing it wrong because you're in the

00:25:36,890 --> 00:25:40,640
wrong direction

00:25:38,570 --> 00:25:42,200
these are nice to know these triangles

00:25:40,640 --> 00:25:43,850
they're called Shakti if they mean that

00:25:42,200 --> 00:25:46,610
you should stop even if it doesn't say

00:25:43,850 --> 00:25:50,390
stop so they have to yield for traffic

00:25:46,610 --> 00:25:52,990
coming from both sides at intersections

00:25:50,390 --> 00:25:55,310
first of all in Danish traffic culture

00:25:52,990 --> 00:25:56,930
traffic lights are not suggestions

00:25:55,310 --> 00:25:59,600
everybody will expect you to actually

00:25:56,930 --> 00:26:03,710
follow them in many cases they even

00:25:59,600 --> 00:26:07,610
these really cute little bike lights for

00:26:03,710 --> 00:26:09,380
for bikes when it comes to turns right

00:26:07,610 --> 00:26:11,480
turns are pretty straightforward as long

00:26:09,380 --> 00:26:14,840
as there are no pedestrians here you can

00:26:11,480 --> 00:26:17,690
turn right if the light is green left

00:26:14,840 --> 00:26:20,090
chains a bit more complicated here in

00:26:17,690 --> 00:26:21,620
that we don't do the left hook as you do

00:26:20,090 --> 00:26:23,330
in many other countries mainly because

00:26:21,620 --> 00:26:25,310
there's so many bicycles in the street

00:26:23,330 --> 00:26:27,260
that it just won't work what we do

00:26:25,310 --> 00:26:29,390
instead is that we go to the opposite

00:26:27,260 --> 00:26:32,510
corner wait there when the light turns

00:26:29,390 --> 00:26:34,820
green we go looks something like this

00:26:32,510 --> 00:26:37,750
lots of people waiting to turn and there

00:26:34,820 --> 00:26:41,600
I go when it comes to safety I have

00:26:37,750 --> 00:26:43,340
three points first point is that

00:26:41,600 --> 00:26:46,850
statistically the most dangerous

00:26:43,340 --> 00:26:49,040
situation in Danish making traffic is

00:26:46,850 --> 00:26:50,660
right training trucks because the

00:26:49,040 --> 00:26:52,640
drivers can't necessarily see you so you

00:26:50,660 --> 00:26:55,960
should really have a close look at those

00:26:52,640 --> 00:26:58,520
guys if possible try to get eye contact

00:26:55,960 --> 00:27:00,560
second point is use lights after dark

00:26:58,520 --> 00:27:02,780
you can buy them all over the place

00:27:00,560 --> 00:27:06,710
including in 7 and 11 so it easier to

00:27:02,780 --> 00:27:09,710
get some lights third and final point is

00:27:06,710 --> 00:27:11,210
that cycling is super safe in Copenhagen

00:27:09,710 --> 00:27:14,540
there's a lot of safety in numbers

00:27:11,210 --> 00:27:16,880
drivers are used to cyclists in fact we

00:27:14,540 --> 00:27:18,590
have something like 4 million kilometers

00:27:16,880 --> 00:27:21,050
cycle between every serious accident so

00:27:18,590 --> 00:27:23,390
you're very likely to be safe so my

00:27:21,050 --> 00:27:25,010
point is get on the bike explore

00:27:23,390 --> 00:27:27,200
Copenhagen is the best way to see the

00:27:25,010 --> 00:27:34,609
city that's my talk

00:27:27,200 --> 00:27:34,609
[Applause]

00:27:35,190 --> 00:27:39,910
thank you very much okay so historians

00:27:37,930 --> 00:27:41,350
are looking back on history and there's

00:27:39,910 --> 00:27:42,640
they've heard the story about these

00:27:41,350 --> 00:27:44,320
Knights coming together in this

00:27:42,640 --> 00:27:45,400
triangular field with their Squires and

00:27:44,320 --> 00:27:47,559
they're wondering what can they learn

00:27:45,400 --> 00:27:49,240
from the lesson of these Squires and the

00:27:47,559 --> 00:27:50,680
way they treated their food and whether

00:27:49,240 --> 00:27:51,850
one of them had their pot in the tree

00:27:50,680 --> 00:27:53,380
with the with the noose next to it and

00:27:51,850 --> 00:27:55,480
the lesson really if you think about it

00:27:53,380 --> 00:27:57,850
it's quite simple the squire of the

00:27:55,480 --> 00:28:07,540
hypotenuse is equal to the sum of the

00:27:57,850 --> 00:28:09,010
Squires any other two sides I'm back

00:28:07,540 --> 00:28:12,820
tomorrow and you're gonna get another

00:28:09,010 --> 00:28:14,320
one of those thank you very much to our

00:28:12,820 --> 00:28:17,380
lightning talks biggest tonight today

00:28:14,320 --> 00:28:18,580
Craig roll Nader Patrick and Andreas we

00:28:17,380 --> 00:28:19,990
will have another round of - and

00:28:18,580 --> 00:28:22,600
lightning talks tomorrow if you wish to

00:28:19,990 --> 00:28:23,920
be up and here present your wares talk

00:28:22,600 --> 00:28:25,840
about what you're interested in tell us

00:28:23,920 --> 00:28:28,059
about cycling or psychology or whatever

00:28:25,840 --> 00:28:29,440
Django project are involved in please go

00:28:28,059 --> 00:28:31,510
and submit a lightning talk we'd like to

00:28:29,440 --> 00:28:33,990
have a lot more talk stupid people don't

00:28:31,510 --> 00:28:36,190
to share around with us we have one last

00:28:33,990 --> 00:28:39,280
speaker here to talk about what's coming

00:28:36,190 --> 00:28:40,809
after though after this and the

00:28:39,280 --> 00:28:42,700
procedure for the rest of this evening I

00:28:40,809 --> 00:28:43,780
will see you all tomorrow and I hope I

00:28:42,700 --> 00:28:46,240
see everybody here bright and early

00:28:43,780 --> 00:28:47,170
tomorrow morning for day two of Django

00:28:46,240 --> 00:28:52,189
con Europe

00:28:47,170 --> 00:28:52,189

YouTube URL: https://www.youtube.com/watch?v=TAhBIzOjo2c


