Title: Grids in React Native - Hunt for the Scrolly Grail - React Native - July 2019
Publication date: 2019-07-31
Playlist: React Native London
Description: 
	Presented by Paul McCabe

In react-native, making a grid with sticky rows and cols is hard. Here are some do’s, don’ts, and a method that actually works...

_

About Pusher Sessions:

We're bringing the meetup to you. With Sessions, you can watch recordings of top-notch talks from developer meetups -- wherever and whenever you want.

Meetups are a great way to learn from our peers and to keep up with the latest trends and technologies. As developers ourselves, we at Pusher wanted to bring this great content to more people... So we built Sessions. On Sessions, you can watch talks that interest you and subscribe to be notified when new content gets added.

If you run a meetup and want to get involved, kindly get in touch.

_

About Pusher:

Pusher is a hosted service with APIs, developer tools and open source libraries that greatly simplify integrating real-time functionality into web and mobile applications. 

Pusher will automatically scale when required, removing all the pain of setting up and maintaining a secure, real-time infrastructure. 

Pusher is already trusted to do so by thousands of developers and companies like GitHub, MailChimp, the Financial Times, Buffer and many more. 

Getting started takes just a few seconds: simply go to pusher.com and create a free account. Happy hacking!
Captions: 
	00:00:00,000 --> 00:00:06,150
hello everyone I'm Paul I work for a

00:00:02,429 --> 00:00:08,790
company called and a plan and I doubt

00:00:06,150 --> 00:00:11,519
many people in this room who haven't

00:00:08,790 --> 00:00:17,730
worked for Ana plan know what Ana plan

00:00:11,519 --> 00:00:19,230
is does or why we exist so Ana plan is a

00:00:17,730 --> 00:00:23,039
company produced as a platform for

00:00:19,230 --> 00:00:24,840
planning in the name and what I say

00:00:23,039 --> 00:00:27,090
planning I mean all kinds of planning

00:00:24,840 --> 00:00:30,359
we're talking about businesses that want

00:00:27,090 --> 00:00:34,320
to plan their finances for the next year

00:00:30,359 --> 00:00:36,329
10 years 20 years want to do their

00:00:34,320 --> 00:00:37,800
supply chain and work out what they're

00:00:36,329 --> 00:00:40,170
gonna produce in what factories when

00:00:37,800 --> 00:00:41,489
want to do working out what their head

00:00:40,170 --> 00:00:43,200
counts are going to be you know are we

00:00:41,489 --> 00:00:44,879
going to need to hire more people to

00:00:43,200 --> 00:00:46,170
fulfill these roles to do these things

00:00:44,879 --> 00:00:48,600
what's that going to cost how does that

00:00:46,170 --> 00:00:51,539
feed into our supply chain habits that

00:00:48,600 --> 00:00:52,800
feed into our finances and allows you to

00:00:51,539 --> 00:00:57,059
really connect all of that business

00:00:52,800 --> 00:00:59,699
planning together it's actually a pretty

00:00:57,059 --> 00:01:02,430
cool piece of software but it's all kind

00:00:59,699 --> 00:01:04,880
of aimed at really big enterprise

00:01:02,430 --> 00:01:07,229
companies which is why hardly anyone

00:01:04,880 --> 00:01:10,500
really knows about us unless you happen

00:01:07,229 --> 00:01:11,760
to be you know the CFO of you know one

00:01:10,500 --> 00:01:14,820
of the 2,000 biggest companies in the

00:01:11,760 --> 00:01:18,060
world the technologies that we build on

00:01:14,820 --> 00:01:20,580
is kind of cool there's a lot of Java

00:01:18,060 --> 00:01:24,360
going on on the backend we run our own

00:01:20,580 --> 00:01:27,840
private cloud and as it's a cloud-based

00:01:24,360 --> 00:01:29,670
platform most people are accessing us

00:01:27,840 --> 00:01:32,189
through web browsers and so lots of

00:01:29,670 --> 00:01:34,710
javascript on the front end but we've

00:01:32,189 --> 00:01:37,470
never done a mobile app before and so

00:01:34,710 --> 00:01:40,290
about nine or ten months ago I joined a

00:01:37,470 --> 00:01:41,729
team and a plan starting that very first

00:01:40,290 --> 00:01:44,340
mobile app and we decided to do it with

00:01:41,729 --> 00:01:46,890
react native which is maybe not a

00:01:44,340 --> 00:01:48,210
surprise given I'm standing here and we

00:01:46,890 --> 00:01:49,770
just I didn't react to it for all the

00:01:48,210 --> 00:01:51,149
reason that you would expect so being

00:01:49,770 --> 00:01:52,290
able to bring in those guys who are

00:01:51,149 --> 00:01:54,570
already doing our JavaScript front-end

00:01:52,290 --> 00:01:55,950
in react and leverage some of the

00:01:54,570 --> 00:01:58,590
knowledge and expertise that they

00:01:55,950 --> 00:02:00,930
already have being able to hire you know

00:01:58,590 --> 00:02:02,640
a cross-functional team with with which

00:02:00,930 --> 00:02:04,500
already has that react knowledge from

00:02:02,640 --> 00:02:06,119
the web and bring them into the native

00:02:04,500 --> 00:02:08,039
landscape and not tying ourselves down

00:02:06,119 --> 00:02:09,629
to developing two code bases for two

00:02:08,039 --> 00:02:10,950
different platforms you guys will all

00:02:09,629 --> 00:02:13,470
know this so I can elaborate too much

00:02:10,950 --> 00:02:16,380
more so that's around plan on that

00:02:13,470 --> 00:02:18,150
that's what I do and this talk is about

00:02:16,380 --> 00:02:20,220
the hunt for the scroller growl grids

00:02:18,150 --> 00:02:24,240
and react native and I'm going to start

00:02:20,220 --> 00:02:25,920
off by saying what what is a grid

00:02:24,240 --> 00:02:29,220
because it's probably a useful thing to

00:02:25,920 --> 00:02:31,050
define here we've got an example of what

00:02:29,220 --> 00:02:34,110
might look like a worksheet in something

00:02:31,050 --> 00:02:36,720
like Excel a table of some kind of

00:02:34,110 --> 00:02:39,030
content of some kind of data may be

00:02:36,720 --> 00:02:41,130
formatted maybe with some interesting

00:02:39,030 --> 00:02:46,830
information in sorry I'm in nerd that's

00:02:41,130 --> 00:02:49,170
why it's all board game related and we

00:02:46,830 --> 00:02:50,580
want to be able to view this you know in

00:02:49,170 --> 00:02:51,990
a way that is good for humans to

00:02:50,580 --> 00:02:53,459
actually look through things so the

00:02:51,990 --> 00:02:55,050
first thing I do is talk about a few

00:02:53,459 --> 00:02:58,590
assumptions about what we're going to

00:02:55,050 --> 00:03:01,110
really want here so at some point there

00:02:58,590 --> 00:03:05,220
will be lots of data and when I say lots

00:03:01,110 --> 00:03:07,920
of data I mean not kind of terabytes and

00:03:05,220 --> 00:03:09,540
and you know billions of rows of data

00:03:07,920 --> 00:03:11,880
but we're talking you know enough that a

00:03:09,540 --> 00:03:13,410
human needs to be able to comprehend it

00:03:11,880 --> 00:03:14,730
and be able to navigate around that and

00:03:13,410 --> 00:03:16,380
try and work out what's going on and

00:03:14,730 --> 00:03:18,330
can't do that at a glance necessarily

00:03:16,380 --> 00:03:19,950
I'm also going to assume that humans

00:03:18,330 --> 00:03:21,989
think in rows rather than columns and

00:03:19,950 --> 00:03:24,420
what I mean by that is I'm assuming that

00:03:21,989 --> 00:03:26,670
I'm going to have more rows in this grid

00:03:24,420 --> 00:03:28,500
then I'm going to have columns I'm

00:03:26,670 --> 00:03:31,290
making that assumption it might not be

00:03:28,500 --> 00:03:32,640
true for everyone's use case so just

00:03:31,290 --> 00:03:33,989
keep that in mind when you're thinking

00:03:32,640 --> 00:03:36,540
about the solutions that I'm presenting

00:03:33,989 --> 00:03:37,860
here and I'm gonna assume that we want

00:03:36,540 --> 00:03:42,930
to work in JavaScript because it's the

00:03:37,860 --> 00:03:44,640
best so because of that I'm just going

00:03:42,930 --> 00:03:45,930
to show you what the shape of the data

00:03:44,640 --> 00:03:46,860
that I'm gonna be talking about and all

00:03:45,930 --> 00:03:50,370
of my examples is going to look like

00:03:46,860 --> 00:03:52,230
here so we have the idea of a grid which

00:03:50,370 --> 00:03:54,620
is going to be this array of data we

00:03:52,230 --> 00:03:57,420
have rows which are going to be objects

00:03:54,620 --> 00:03:58,950
you'll notice that rows have IDs and in

00:03:57,420 --> 00:04:00,810
this case cells have IDs as well that's

00:03:58,950 --> 00:04:02,310
me cheating because we need to put keys

00:04:00,810 --> 00:04:04,200
in in react native and I'm making it

00:04:02,310 --> 00:04:10,260
easy for myself by just baking that into

00:04:04,200 --> 00:04:12,570
my data so grid array of rows rows array

00:04:10,260 --> 00:04:15,959
of cells which include the data that we

00:04:12,570 --> 00:04:18,359
want to display in our grid and this is

00:04:15,959 --> 00:04:20,220
what a you know some code that we just

00:04:18,359 --> 00:04:23,669
display a basic grid looks like so we've

00:04:20,220 --> 00:04:26,310
got a nice view with another view with

00:04:23,669 --> 00:04:27,270
cells which are more views it's just

00:04:26,310 --> 00:04:30,000
drawing boxes on the screen

00:04:27,270 --> 00:04:31,500
it can't be that hard and we can kind of

00:04:30,000 --> 00:04:34,830
see just illustrated there where those

00:04:31,500 --> 00:04:38,190
things lie on this you know phone

00:04:34,830 --> 00:04:39,960
rendering that with some test data in

00:04:38,190 --> 00:04:42,300
this case it's also useful to me to

00:04:39,960 --> 00:04:43,680
point out that the ABC and the numbers

00:04:42,300 --> 00:04:45,419
down the left-hand side are baked into

00:04:43,680 --> 00:04:48,919
my data in this case as well so they're

00:04:45,419 --> 00:04:53,669
not separate to my data in this example

00:04:48,919 --> 00:04:55,169
but you know that's a grid a very small

00:04:53,669 --> 00:04:56,400
part of the grid that we can see there

00:04:55,169 --> 00:04:58,169
and more than likely we're going to have

00:04:56,400 --> 00:05:01,050
a grid of data which is huge it's going

00:04:58,169 --> 00:05:02,159
to have way more data in and we've got a

00:05:01,050 --> 00:05:03,870
small screen we want to be able to

00:05:02,159 --> 00:05:05,550
navigate that data and what if the thing

00:05:03,870 --> 00:05:08,280
that I want to look at is actually you

00:05:05,550 --> 00:05:10,020
know somewhere off my screen there's

00:05:08,280 --> 00:05:12,509
lots of ways in which we've tried to do

00:05:10,020 --> 00:05:14,909
this in the past you know in the web in

00:05:12,509 --> 00:05:15,720
the 90s you had paging on tables and

00:05:14,909 --> 00:05:18,270
things like that

00:05:15,720 --> 00:05:20,069
then we introduced the idea of filtering

00:05:18,270 --> 00:05:22,080
and searching so that you could control

00:05:20,069 --> 00:05:23,969
what was in that view but with today's

00:05:22,080 --> 00:05:25,919
mobile phones and touch sensitive

00:05:23,969 --> 00:05:28,169
devices scrolling is really the natural

00:05:25,919 --> 00:05:31,800
way that people tend to interact with

00:05:28,169 --> 00:05:33,990
you know this kind of data and it's been

00:05:31,800 --> 00:05:35,819
going to quite a move towards that so

00:05:33,990 --> 00:05:38,280
how do we make that nice what is our

00:05:35,819 --> 00:05:41,190
scrolling Grail well I'm going to

00:05:38,280 --> 00:05:43,680
straight-up tell you now sorry there's

00:05:41,190 --> 00:05:46,050
no such thing there is just a bunch of

00:05:43,680 --> 00:05:47,789
trade-offs so really this this talk I've

00:05:46,050 --> 00:05:49,289
lied to you all already there is no

00:05:47,789 --> 00:05:51,810
scholarly Grail but we're going to talk

00:05:49,289 --> 00:05:54,210
about you know ways you can get close

00:05:51,810 --> 00:05:56,190
and hopefully achieve what you want to

00:05:54,210 --> 00:05:57,569
achieve and in this case what is my

00:05:56,190 --> 00:05:59,610
scrolling Grail well my scrolling Grail

00:05:57,569 --> 00:06:02,250
is I want smooth scrolling and iOS and

00:05:59,610 --> 00:06:04,830
Android important give a good user

00:06:02,250 --> 00:06:06,779
experience ability to fix columns and

00:06:04,830 --> 00:06:08,430
headers in place and it's kind of a

00:06:06,779 --> 00:06:10,139
fourth one in there as well which is the

00:06:08,430 --> 00:06:12,180
ability to scroll in two directions at

00:06:10,139 --> 00:06:14,250
once and you'll see why that's the case

00:06:12,180 --> 00:06:16,229
just a really quick overview of some

00:06:14,250 --> 00:06:17,849
components you're all probably doing

00:06:16,229 --> 00:06:20,180
react native so you you're probably all

00:06:17,849 --> 00:06:22,590
aware of scroll views and flat lists

00:06:20,180 --> 00:06:24,419
scroll views if the content is bigger

00:06:22,590 --> 00:06:26,190
than the view it lets you scroll but

00:06:24,419 --> 00:06:27,779
only in one direction at a time so you

00:06:26,190 --> 00:06:29,940
can either set it to go horizontally or

00:06:27,779 --> 00:06:32,430
vertically and but it gives some nice

00:06:29,940 --> 00:06:33,930
things like you get bounced on iOS and

00:06:32,430 --> 00:06:36,089
you get momentum and things like that

00:06:33,930 --> 00:06:40,289
which is all kind of cool and flat lists

00:06:36,089 --> 00:06:41,370
which is similar but doesn't do

00:06:40,289 --> 00:06:43,530
something which the score

00:06:41,370 --> 00:06:44,760
which in a scrollview you give it the

00:06:43,530 --> 00:06:46,350
content is going to render all of that

00:06:44,760 --> 00:06:48,120
content even it's really far off screen

00:06:46,350 --> 00:06:49,650
and if you've got you know ten thousand

00:06:48,120 --> 00:06:52,050
rows of data and your grid you don't

00:06:49,650 --> 00:06:54,780
really want to render past row fifty

00:06:52,050 --> 00:06:57,449
properly so this does some

00:06:54,780 --> 00:06:59,010
virtualization for you and has lots of

00:06:57,449 --> 00:06:59,430
convenient functions that help you out

00:06:59,010 --> 00:07:01,910
with that

00:06:59,430 --> 00:07:04,430
etc etc and again lets you scroll

00:07:01,910 --> 00:07:07,199
content when it's bigger than the view

00:07:04,430 --> 00:07:10,740
all super useful and we can use these to

00:07:07,199 --> 00:07:12,660
make a really basic scrolling grid that

00:07:10,740 --> 00:07:16,050
goes in horizontal and vertical

00:07:12,660 --> 00:07:19,290
scrolling so very much like my own

00:07:16,050 --> 00:07:21,270
lyrics are a ping everything in a scroll

00:07:19,290 --> 00:07:26,850
view and a flat list and giving that the

00:07:21,270 --> 00:07:28,770
relative functions this is a little gift

00:07:26,850 --> 00:07:30,210
showing you what that looks like and it

00:07:28,770 --> 00:07:32,460
does work great like it works works

00:07:30,210 --> 00:07:34,440
really well and if all you need is the

00:07:32,460 --> 00:07:34,889
ability to look through a bunch of data

00:07:34,440 --> 00:07:36,539
like that

00:07:34,889 --> 00:07:39,350
great you're done you guys can leave

00:07:36,539 --> 00:07:43,169
well stick around for the other talks

00:07:39,350 --> 00:07:46,800
but more than likely you want to do a

00:07:43,169 --> 00:07:48,419
bit more than that so Oscar only Grail

00:07:46,800 --> 00:07:50,550
we said was going to be fixed headers

00:07:48,419 --> 00:07:54,150
fixed columns well okay let's start with

00:07:50,550 --> 00:07:55,860
the easy one fixed header flat list

00:07:54,150 --> 00:07:58,680
gives us a proper we can just stick some

00:07:55,860 --> 00:08:01,169
some rows to the to the top of the grid

00:07:58,680 --> 00:08:03,240
as it were so easy peasy we've got that

00:08:01,169 --> 00:08:04,650
row stuck to the top and we've still got

00:08:03,240 --> 00:08:06,630
all the lovely things like a bit of

00:08:04,650 --> 00:08:08,300
bounce at the end there and and all of

00:08:06,630 --> 00:08:12,630
our momentum and things like that

00:08:08,300 --> 00:08:16,110
fixing a column is a bit harder we can't

00:08:12,630 --> 00:08:18,030
just do things like pinning the first

00:08:16,110 --> 00:08:19,349
cell in our row to the front of it

00:08:18,030 --> 00:08:20,520
because we thought a scroll view which

00:08:19,349 --> 00:08:23,039
we're inside so we're just going to

00:08:20,520 --> 00:08:24,419
scroll past that in which case you have

00:08:23,039 --> 00:08:27,120
to start doing all sorts of maths to

00:08:24,419 --> 00:08:29,310
offset where that cell is kind of

00:08:27,120 --> 00:08:33,510
absolutely positioned to be back inside

00:08:29,310 --> 00:08:36,539
the viewport and it gets a bit horrible

00:08:33,510 --> 00:08:37,950
so what we can do is actually let's

00:08:36,539 --> 00:08:40,169
let's have another flat list let's put

00:08:37,950 --> 00:08:41,789
something next draw a scroll view which

00:08:40,169 --> 00:08:44,839
is going to contain those first cells to

00:08:41,789 --> 00:08:47,700
stick them in place on one side and

00:08:44,839 --> 00:08:49,440
that's great but now we've got two

00:08:47,700 --> 00:08:52,680
separate flat lists so when we scroll

00:08:49,440 --> 00:08:57,480
horizontally oops

00:08:52,680 --> 00:08:59,010
we chose poorly so we can try and fix

00:08:57,480 --> 00:09:00,420
that by sinking the two columns together

00:08:59,010 --> 00:09:03,540
now this doesn't come across great in

00:09:00,420 --> 00:09:05,430
this gift but you can see where there's

00:09:03,540 --> 00:09:07,440
a little bit of lag between the two as I

00:09:05,430 --> 00:09:10,500
go up and down with scrolling there and

00:09:07,440 --> 00:09:12,899
that's because we're trying to say when

00:09:10,500 --> 00:09:14,430
I scroll this one if this is the one

00:09:12,899 --> 00:09:16,980
where the scroll event happened from

00:09:14,430 --> 00:09:18,899
scroll that other one too

00:09:16,980 --> 00:09:21,510
and fundamentally we run into problems

00:09:18,899 --> 00:09:23,850
with sending commands down the native

00:09:21,510 --> 00:09:28,820
bridge and saying do this and now do

00:09:23,850 --> 00:09:31,220
that and well as I say we chose poorly

00:09:28,820 --> 00:09:33,720
so let's have a quick conversation about

00:09:31,220 --> 00:09:37,320
the native bridge here so and there's

00:09:33,720 --> 00:09:39,870
Jeff Bridges to help me whoops so how

00:09:37,320 --> 00:09:41,279
does you know on a very high level what

00:09:39,870 --> 00:09:44,190
is it doing well when we communicate

00:09:41,279 --> 00:09:45,870
with native land to ask an actual

00:09:44,190 --> 00:09:48,630
whatever the underlying scroll component

00:09:45,870 --> 00:09:50,339
is in iOS or Android it's actually a

00:09:48,630 --> 00:09:53,339
command that's being sent over that

00:09:50,339 --> 00:09:56,250
bridge it's not you know your code

00:09:53,339 --> 00:09:57,660
that's being run in that in that native

00:09:56,250 --> 00:09:59,820
land your code is generally being run on

00:09:57,660 --> 00:10:01,110
your JavaScript thread of which there is

00:09:59,820 --> 00:10:03,000
one and you don't really wanna block

00:10:01,110 --> 00:10:05,459
that up so we're sending at the moment a

00:10:03,000 --> 00:10:07,709
command effectively the touch touch

00:10:05,459 --> 00:10:09,209
event is happening one thing is

00:10:07,709 --> 00:10:10,830
scrolling it's coming back up to us

00:10:09,209 --> 00:10:14,910
within sending another command back down

00:10:10,830 --> 00:10:16,080
that bridge Jeff Bridges and it's

00:10:14,910 --> 00:10:17,730
selling the other ones drawn there and

00:10:16,080 --> 00:10:21,029
so you're always going to get that kind

00:10:17,730 --> 00:10:22,589
of off by a couple of frames render it

00:10:21,029 --> 00:10:24,660
actually you don't really notice it on

00:10:22,589 --> 00:10:27,390
iOS weirdly and I'm not quite sure why

00:10:24,660 --> 00:10:29,400
it's just better at not having that

00:10:27,390 --> 00:10:33,000
getting out of sync maybe it matches the

00:10:29,400 --> 00:10:34,380
commands more before it renders them but

00:10:33,000 --> 00:10:36,420
for whatever reason it's really obvious

00:10:34,380 --> 00:10:39,150
on Android so kind of sticks that

00:10:36,420 --> 00:10:42,839
solution in the mud and this is where

00:10:39,150 --> 00:10:45,690
pam responder comes to the rescue in the

00:10:42,839 --> 00:10:47,250
we can wrap everything in this pan

00:10:45,690 --> 00:10:49,320
responder and rather than responding to

00:10:47,250 --> 00:10:51,540
the touch events in our scroll viewer in

00:10:49,320 --> 00:10:54,510
our flat list we now delegate that upper

00:10:51,540 --> 00:10:56,640
level and the power responder can then

00:10:54,510 --> 00:10:59,010
tell both of those things to scroll at

00:10:56,640 --> 00:11:03,660
pretty much the same time so you don't

00:10:59,010 --> 00:11:05,250
see that delay you do have in theory a

00:11:03,660 --> 00:11:06,000
delay between the touch event happening

00:11:05,250 --> 00:11:08,190
then and

00:11:06,000 --> 00:11:09,870
Oh scrolling happening but it is very

00:11:08,190 --> 00:11:14,670
minimal because you know modern modern

00:11:09,870 --> 00:11:16,470
phones are pretty fast right and gives

00:11:14,670 --> 00:11:17,730
us another really good thing which is

00:11:16,470 --> 00:11:19,200
that we can scroll in in a horizontal

00:11:17,730 --> 00:11:21,960
direction because we're tracking

00:11:19,200 --> 00:11:23,910
scrolling with one component and we're

00:11:21,960 --> 00:11:25,650
telling two different or in this case

00:11:23,910 --> 00:11:27,420
three different scrolling items two

00:11:25,650 --> 00:11:29,190
Scrolls and we've got the two flat lists

00:11:27,420 --> 00:11:30,210
and the horizontal scroll view we can

00:11:29,190 --> 00:11:31,710
tell them all to scroll at the same time

00:11:30,210 --> 00:11:33,360
we can calculate the vector and go okay

00:11:31,710 --> 00:11:35,120
well I actually into Scroll in a

00:11:33,360 --> 00:11:38,670
diagonal direction which is really nice

00:11:35,120 --> 00:11:40,740
so here's an example of some pan

00:11:38,670 --> 00:11:42,900
responder with some maths in it that

00:11:40,740 --> 00:11:44,280
we're doing and an Android phone where

00:11:42,900 --> 00:11:47,160
you can see we're scrolling around in

00:11:44,280 --> 00:11:48,060
two directions at once I'm not going to

00:11:47,160 --> 00:11:51,570
go through that code because I don't

00:11:48,060 --> 00:11:53,700
have time but you will notice that this

00:11:51,570 --> 00:11:56,100
header at the top here kind of jumps up

00:11:53,700 --> 00:11:58,650
and down for some reasons I've tried to

00:11:56,100 --> 00:12:00,750
make it as obvious as I can it's really

00:11:58,650 --> 00:12:02,010
annoying I still have no idea after

00:12:00,750 --> 00:12:03,690
working on this solution for quite a

00:12:02,010 --> 00:12:05,040
while why that happened so if anyone can

00:12:03,690 --> 00:12:07,650
tell me that'd be great

00:12:05,040 --> 00:12:09,240
only happens on Android doesn't matter

00:12:07,650 --> 00:12:11,280
how new your Android device is you see

00:12:09,240 --> 00:12:14,640
this happening when using this kind of

00:12:11,280 --> 00:12:19,230
solution to scroll those in and out and

00:12:14,640 --> 00:12:22,380
right so what do we do about that well

00:12:19,230 --> 00:12:24,150
we cheat a little what we're going to do

00:12:22,380 --> 00:12:25,350
is put a fixed header over the top of

00:12:24,150 --> 00:12:26,730
that so we're not going to render that

00:12:25,350 --> 00:12:28,020
sticky header so we're going to ignore

00:12:26,730 --> 00:12:31,350
that solution that we had from the very

00:12:28,020 --> 00:12:33,720
beginning and actually you know render

00:12:31,350 --> 00:12:35,850
that ourselves at the top of our scroll

00:12:33,720 --> 00:12:37,650
view and glue it to the top or more

00:12:35,850 --> 00:12:40,080
likely to the top of the view that's

00:12:37,650 --> 00:12:41,700
surrounding the scroll view to keep it

00:12:40,080 --> 00:12:43,170
there so it'll sorry it still has to be

00:12:41,700 --> 00:12:46,410
insert inside scroll view so that we can

00:12:43,170 --> 00:12:47,910
scroll it left and right but when we

00:12:46,410 --> 00:12:52,020
scroll up and down it's still stuck at

00:12:47,910 --> 00:12:53,520
the top and that works pretty well so on

00:12:52,020 --> 00:12:57,060
Android now exactly the same code base

00:12:53,520 --> 00:12:58,860
but with us rendering that header it's

00:12:57,060 --> 00:13:00,750
quite nice we've got that 2d scrolling

00:12:58,860 --> 00:13:02,030
we've got our lovely column stuck to the

00:13:00,750 --> 00:13:04,200
left with what I had our step to the top

00:13:02,030 --> 00:13:05,970
but we've lost some things and this is

00:13:04,200 --> 00:13:07,350
why I say there is no such thing as the

00:13:05,970 --> 00:13:09,750
scrolling Grail because we've now lost

00:13:07,350 --> 00:13:11,280
all the lovely momentum and bounce that

00:13:09,750 --> 00:13:12,510
we had for free from those components

00:13:11,280 --> 00:13:13,740
because we're driving everything from

00:13:12,510 --> 00:13:15,390
this pamorah smaller that's just giving

00:13:13,740 --> 00:13:17,310
us this is where you touch started this

00:13:15,390 --> 00:13:19,860
is where your touch ended it does give

00:13:17,310 --> 00:13:22,610
us information about the velocity so

00:13:19,860 --> 00:13:24,600
how fast you were making that gesture

00:13:22,610 --> 00:13:27,300
which is super useful cause it means

00:13:24,600 --> 00:13:29,130
that you can start implementing the

00:13:27,300 --> 00:13:30,750
momentum and the bounce and other things

00:13:29,130 --> 00:13:33,000
yourself but you do have to do it

00:13:30,750 --> 00:13:35,519
yourself and not need that but you're

00:13:33,000 --> 00:13:37,649
going to be adding all that maths in to

00:13:35,519 --> 00:13:39,480
the point where someone is is making

00:13:37,649 --> 00:13:40,860
that gesture and adding more time

00:13:39,480 --> 00:13:42,660
between someone making that gesture and

00:13:40,860 --> 00:13:45,089
you telling all three of these views to

00:13:42,660 --> 00:13:48,200
scroll you don't necessarily want to add

00:13:45,089 --> 00:13:51,450
a huge amount of JavaScript logic there

00:13:48,200 --> 00:13:54,720
but it can take quite a bit and I can

00:13:51,450 --> 00:13:57,089
prove that because well I did it so you

00:13:54,720 --> 00:13:58,500
can see here this is the ANA plan mobile

00:13:57,089 --> 00:14:01,140
app as it stands at home it's completely

00:13:58,500 --> 00:14:02,190
unreleased that hopefully will be

00:14:01,140 --> 00:14:03,899
eventually and you can see that we've

00:14:02,190 --> 00:14:05,700
got the ability to fling and have that

00:14:03,899 --> 00:14:07,260
momentum in there and we also can do

00:14:05,700 --> 00:14:09,149
other fun things with this now so you

00:14:07,260 --> 00:14:11,880
can see how that column on the left-hand

00:14:09,149 --> 00:14:14,490
side isn't fixed until we stop on which

00:14:11,880 --> 00:14:16,290
point it comes back in so you can do all

00:14:14,490 --> 00:14:17,790
sorts of other cool bits and pieces and

00:14:16,290 --> 00:14:20,160
with this technique you can pin more

00:14:17,790 --> 00:14:23,070
than one column and more than one row to

00:14:20,160 --> 00:14:25,350
the top and the side just to show that

00:14:23,070 --> 00:14:27,600
the an apply an app isn't just some

00:14:25,350 --> 00:14:29,790
weird Excel ripoff there's some other

00:14:27,600 --> 00:14:31,829
views of you know other things that it

00:14:29,790 --> 00:14:34,160
that it's going to display users so the

00:14:31,829 --> 00:14:37,709
ability to filter through data and have

00:14:34,160 --> 00:14:39,300
interesting boards with key values for

00:14:37,709 --> 00:14:42,329
your executive to look at and go why are

00:14:39,300 --> 00:14:46,860
we losing that much money and so on and

00:14:42,329 --> 00:14:48,690
so forth so that is where we're at with

00:14:46,860 --> 00:14:49,880
our grid at the moment we're going to do

00:14:48,690 --> 00:14:54,269
some more cool stuff with it hopefully

00:14:49,880 --> 00:14:57,529
and I describe what what I've talked to

00:14:54,269 --> 00:14:59,399
you about today as a pattern rather than

00:14:57,529 --> 00:15:01,410
something that I would produce as a

00:14:59,399 --> 00:15:03,540
library because for each person they're

00:15:01,410 --> 00:15:04,920
trade-offs or for each product they're

00:15:03,540 --> 00:15:07,290
trade-offs are going to be different you

00:15:04,920 --> 00:15:08,790
don't necessarily want to follow this

00:15:07,290 --> 00:15:12,089
exact pattern but hopefully it gives you

00:15:08,790 --> 00:15:14,100
an idea of a way of tackling this

00:15:12,089 --> 00:15:17,130
problem and of composing these

00:15:14,100 --> 00:15:21,449
components together purely in retina tip

00:15:17,130 --> 00:15:25,589
URI in JavaScript to do that so a

00:15:21,449 --> 00:15:28,800
Billiken tree we're hiring slide and a

00:15:25,589 --> 00:15:30,600
plan I joined the London office when we

00:15:28,800 --> 00:15:33,390
were about 25 people I think we're about

00:15:30,600 --> 00:15:34,050
150 people now that was less than two

00:15:33,390 --> 00:15:37,800
years ago we

00:15:34,050 --> 00:15:39,480
growing we we need more engineers we

00:15:37,800 --> 00:15:41,700
want people who are interested in

00:15:39,480 --> 00:15:44,490
reacting reactive we are hiring for

00:15:41,700 --> 00:15:45,990
mobile engineers on a team so if I

00:15:44,490 --> 00:15:48,630
haven't annoyed you too much and you

00:15:45,990 --> 00:15:50,519
would fancy working with me check out

00:15:48,630 --> 00:15:53,130
Chris an appellate comm come and speak

00:15:50,519 --> 00:15:55,350
to me later grab some of the swag that

00:15:53,130 --> 00:15:57,420
surrounds and give us a shout out but as

00:15:55,350 --> 00:16:00,240
I said at the very beginning we have a

00:15:57,420 --> 00:16:03,480
wide technology status Java we do

00:16:00,240 --> 00:16:05,399
c-sharp we do a bunch of Kotlin at the

00:16:03,480 --> 00:16:08,010
moment as well lots of JavaScript on the

00:16:05,399 --> 00:16:10,380
web as well if any of these things

00:16:08,010 --> 00:16:11,940
appeal to you please give us a shout a

00:16:10,380 --> 00:16:14,070
couple more bits and pieces quickly

00:16:11,940 --> 00:16:16,890
before I try and take some questions if

00:16:14,070 --> 00:16:20,100
you own an Android phone and you happen

00:16:16,890 --> 00:16:20,720
to have the x-bow app installed and our

00:16:20,100 --> 00:16:23,339
big ask

00:16:20,720 --> 00:16:25,589
there's a QR code I can't see many

00:16:23,339 --> 00:16:28,470
people reaching for their phones I will

00:16:25,589 --> 00:16:30,000
put this back up in a moment but also

00:16:28,470 --> 00:16:33,839
all the code examples from this talk are

00:16:30,000 --> 00:16:37,350
available on github so if you want to

00:16:33,839 --> 00:16:40,140
run any of those gifts yourself have a

00:16:37,350 --> 00:16:43,500
look at just search for beyal winters on

00:16:40,140 --> 00:16:45,930
github yeah sorry and I'm sure you'll

00:16:43,500 --> 00:16:49,110
find the code examples I'm going to

00:16:45,930 --> 00:16:55,229
flick back to a QR code leave that up

00:16:49,110 --> 00:16:55,229

YouTube URL: https://www.youtube.com/watch?v=NHQXLHwpImU


