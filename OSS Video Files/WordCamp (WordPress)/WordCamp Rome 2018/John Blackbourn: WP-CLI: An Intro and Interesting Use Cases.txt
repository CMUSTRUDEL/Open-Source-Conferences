Title: John Blackbourn: WP-CLI: An Intro and Interesting Use Cases
Publication date: 2019-05-09
Playlist: WordCamp Rome 2018
Description: 
	WP-CLI is the command line interface for WordPress. In this talk, John will introduce the core concepts of WP-CLI, talk about how to use it to manage your websites, and cover a few interesting use cases for it.
If you’ve never heard of WP-CLI, or you’re an experienced user, hopefully there will be something of interest for you in this talk.

Presentation slides: https://speakerdeck.com/johnbillion/wp-cli-an-intro-and-interesting-use-cases
WPTV link: https://wordpress.tv/2019/04/14/john-blackbourn-wp-cli-an-intro-and-interesting-use-cases/
Captions: 
	00:00:00,980 --> 00:00:08,509
[Music]

00:00:09,530 --> 00:00:17,210
a duty and if you are gonna follow me on

00:00:14,700 --> 00:00:19,710
Twitter I'm on there after odd billion

00:00:17,210 --> 00:00:24,269
I'll tweet out some links a bit late or

00:00:19,710 --> 00:00:26,939
missing something talking about and what

00:00:24,269 --> 00:00:31,130
do you think of when you think of the

00:00:26,939 --> 00:00:34,950
WordPress interface it's probably this

00:00:31,130 --> 00:00:36,660
the admin area of WordPress but this is

00:00:34,950 --> 00:00:37,410
actually just one way to interact with

00:00:36,660 --> 00:00:40,739
WordPress

00:00:37,410 --> 00:00:41,640
for example there's this landing area as

00:00:40,739 --> 00:00:46,079
Ajax

00:00:41,640 --> 00:00:49,050
there's the REST API XML RPC our assess

00:00:46,079 --> 00:00:51,090
Pete's themes themselves these are a way

00:00:49,050 --> 00:00:52,289
of interacting with WordPress and

00:00:51,090 --> 00:00:56,300
leaving comments these are all

00:00:52,289 --> 00:00:56,300
interfaces to WordPress

00:00:59,379 --> 00:01:03,910
so WP CLI is another interface to

00:01:02,530 --> 00:01:06,939
WordPress it's the command line

00:01:03,910 --> 00:01:09,159
interface the project goal is to offer a

00:01:06,939 --> 00:01:11,680
complete alternative to the WordPress

00:01:09,159 --> 00:01:14,140
admin area for any action you might want

00:01:11,680 --> 00:01:18,100
to perform in the WordPress area admin

00:01:14,140 --> 00:01:21,460
area there should be a compatible WP CLI

00:01:18,100 --> 00:01:25,030
command now you can find out all the

00:01:21,460 --> 00:01:27,840
information about WPC live on WP - CLI

00:01:25,030 --> 00:01:30,850
org it's a separate project to WordPress

00:01:27,840 --> 00:01:33,369
unlike some other CMS's such as Drupal

00:01:30,850 --> 00:01:35,649
where you get the COI tool built in this

00:01:33,369 --> 00:01:37,270
is a separate project is managed on

00:01:35,649 --> 00:01:40,210
github if you want to contribute all

00:01:37,270 --> 00:01:42,490
that the information is on there I'm not

00:01:40,210 --> 00:01:44,740
going to talk about installing WP CLI

00:01:42,490 --> 00:01:48,119
it's a fairly straightforward process

00:01:44,740 --> 00:01:50,799
and also if you use some WordPress

00:01:48,119 --> 00:01:53,289
focused posts such as SiteGround

00:01:50,799 --> 00:01:54,850
you'll find that they already include WP

00:01:53,289 --> 00:02:00,240
c line so you don't need to worry about

00:01:54,850 --> 00:02:03,780
installing it and here's the interface

00:02:00,240 --> 00:02:06,250
it's yeah it's not very intuitive is it

00:02:03,780 --> 00:02:07,600
how do we get started with this

00:02:06,250 --> 00:02:11,380
this doesn't look a lot like the

00:02:07,600 --> 00:02:12,820
WordPress admin area now you can start

00:02:11,380 --> 00:02:14,230
typing things in here and see what

00:02:12,820 --> 00:02:17,769
happens that's probably a good approach

00:02:14,230 --> 00:02:20,380
here a good way to get started though is

00:02:17,769 --> 00:02:23,440
to take a look at the built-in help

00:02:20,380 --> 00:02:26,769
manuals WPC live has got a complete help

00:02:23,440 --> 00:02:28,959
manual built into it and you can type WP

00:02:26,769 --> 00:02:31,930
help to get you started and it'll list

00:02:28,959 --> 00:02:34,390
all of the available commands for WP c

00:02:31,930 --> 00:02:35,920
is a good way of learning which kind of

00:02:34,390 --> 00:02:39,670
commands are available what sort of

00:02:35,920 --> 00:02:41,739
things WP c lying and do you can also

00:02:39,670 --> 00:02:43,720
float double ub help followed by an

00:02:41,739 --> 00:02:45,760
individual command names such as plug-in

00:02:43,720 --> 00:02:48,220
or user and we'll give you all of the

00:02:45,760 --> 00:02:50,590
available options and information about

00:02:48,220 --> 00:02:52,299
that individual command but quite often

00:02:50,590 --> 00:02:53,829
what I find is I start typing out a

00:02:52,299 --> 00:02:55,959
command and then I realize I can't

00:02:53,829 --> 00:02:58,959
remember the rest of it so you can just

00:02:55,959 --> 00:03:00,370
type - - help on the end of it and again

00:02:58,959 --> 00:03:03,030
that will give you the same help

00:03:00,370 --> 00:03:03,030
information

00:03:03,260 --> 00:03:07,819
but there's a really interesting feature

00:03:04,819 --> 00:03:11,269
of WPC I called guided interactive mode

00:03:07,819 --> 00:03:12,709
it's this flag vehicle - prompt what

00:03:11,269 --> 00:03:15,830
this means is you can type don't you

00:03:12,709 --> 00:03:17,569
appear in a single command and you don't

00:03:15,830 --> 00:03:20,660
have to remember all of the rest of the

00:03:17,569 --> 00:03:22,940
flags that are part of that command it

00:03:20,660 --> 00:03:24,830
will prompt you for those options so a

00:03:22,940 --> 00:03:27,049
good one for this is adding a user to

00:03:24,830 --> 00:03:29,090
your site for example WP user act

00:03:27,049 --> 00:03:31,069
instead of having to remember the name

00:03:29,090 --> 00:03:33,409
of all the fields for the user name for

00:03:31,069 --> 00:03:36,470
their email address for their role you

00:03:33,409 --> 00:03:38,660
can poke - - prompt and wpl I will guide

00:03:36,470 --> 00:03:41,690
you through each of those fields it's a

00:03:38,660 --> 00:03:45,590
really good way to get started using WPC

00:03:41,690 --> 00:03:47,989
line so that I've helped and - - prompt

00:03:45,590 --> 00:03:52,430
these are the two ways to really suck

00:03:47,989 --> 00:03:54,140
and use the WPT i'm there's also an

00:03:52,430 --> 00:03:55,459
online version of the help that don't

00:03:54,140 --> 00:03:57,739
you've needs out to see like the hawk

00:03:55,459 --> 00:04:00,530
you can find a handbook link at the top

00:03:57,739 --> 00:04:03,049
there that is a really good introduction

00:04:00,530 --> 00:04:06,260
to WP Zillow and all of the available

00:04:03,049 --> 00:04:09,650
commands are on WPC live to org as well

00:04:06,260 --> 00:04:12,230
now the good thing about the commands on

00:04:09,650 --> 00:04:14,900
the WPC aligning website is they are

00:04:12,230 --> 00:04:17,810
actually generated directly from WP

00:04:14,900 --> 00:04:20,329
Xilai itself so documentation is always

00:04:17,810 --> 00:04:22,370
exactly mirrored so if you fancy

00:04:20,329 --> 00:04:24,020
browsing some commands to see what

00:04:22,370 --> 00:04:27,919
commands are available you can go onto

00:04:24,020 --> 00:04:30,860
the website or you can type WP help into

00:04:27,919 --> 00:04:33,530
WP CI and that will give you exactly the

00:04:30,860 --> 00:04:37,130
same information now the build process

00:04:33,530 --> 00:04:43,849
for WP c like builds a documentation on

00:04:37,130 --> 00:04:45,560
the WP to CLI website another top tip is

00:04:43,849 --> 00:04:48,910
that commands generally follow this

00:04:45,560 --> 00:04:52,400
structure of WP followed by a noun and

00:04:48,910 --> 00:04:55,160
followed by a verb so for example WP

00:04:52,400 --> 00:04:58,310
user create is a command that creates

00:04:55,160 --> 00:05:02,300
users WP plug-in installed as a command

00:04:58,310 --> 00:05:03,470
that installs a plugin WP post meta add

00:05:02,300 --> 00:05:06,260
as a commander adds

00:05:03,470 --> 00:05:08,270
post meta now you get the idea that's

00:05:06,260 --> 00:05:10,910
generally true but not always there are

00:05:08,270 --> 00:05:13,340
a couple of exceptions for example WP

00:05:10,910 --> 00:05:16,430
import it's great WordPress tradition

00:05:13,340 --> 00:05:18,470
having an exception to it all the rules

00:05:16,430 --> 00:05:19,940
and but as a general rule you'll find

00:05:18,470 --> 00:05:24,229
that all the commands are structured in

00:05:19,940 --> 00:05:26,270
a very similar manner now there are two

00:05:24,229 --> 00:05:28,160
ways to use WP GI so far I've been

00:05:26,270 --> 00:05:30,380
talking about one off usage in the

00:05:28,160 --> 00:05:33,530
terminal for example here we can type in

00:05:30,380 --> 00:05:36,139
directly into a terminal WP user create

00:05:33,530 --> 00:05:40,820
and then the details of the user and

00:05:36,139 --> 00:05:43,100
that goes ahead and creates the user you

00:05:40,820 --> 00:05:44,990
can type in a command such as WP plug-in

00:05:43,100 --> 00:05:46,910
list and this is a good example of the

00:05:44,990 --> 00:05:50,449
kind of tabular output that you'll see a

00:05:46,910 --> 00:05:53,389
lot in WP CI it's really useful it's a

00:05:50,449 --> 00:05:57,229
really clear way of representing data in

00:05:53,389 --> 00:05:59,060
your terminal you can also specify which

00:05:57,229 --> 00:06:00,949
format you would like for the output so

00:05:59,060 --> 00:06:03,410
the default is a table that you can get

00:06:00,949 --> 00:06:06,110
CSV output you can get JSON output

00:06:03,410 --> 00:06:07,880
channel output several others and this

00:06:06,110 --> 00:06:12,020
is generally the interface that you can

00:06:07,880 --> 00:06:14,240
see on the command line but this isn't

00:06:12,020 --> 00:06:18,080
Union to the only way to interface with

00:06:14,240 --> 00:06:22,250
W piece alone you can also script

00:06:18,080 --> 00:06:24,200
WPC line typically for a batch script so

00:06:22,250 --> 00:06:27,440
for example here we've got a script that

00:06:24,200 --> 00:06:31,130
downloads WordPress if it's not already

00:06:27,440 --> 00:06:33,889
there it creates a configuration file

00:06:31,130 --> 00:06:35,960
and it will populate it with the details

00:06:33,889 --> 00:06:37,400
that you type in now you can carry on

00:06:35,960 --> 00:06:39,380
from here you can do a complete

00:06:37,400 --> 00:06:42,289
WordPress installation you can set up

00:06:39,380 --> 00:06:44,389
users you can set up the initial plugins

00:06:42,289 --> 00:06:46,070
and themes and you can script all of

00:06:44,389 --> 00:06:48,199
these so next time you want to set up a

00:06:46,070 --> 00:06:49,550
wordpress site instead of doing it

00:06:48,199 --> 00:06:51,680
manually instead of downloading

00:06:49,550 --> 00:06:54,199
wordpress from the worth questa website

00:06:51,680 --> 00:06:55,729
you can just run this script type in a

00:06:54,199 --> 00:06:57,910
few parameters and bam that will go

00:06:55,729 --> 00:07:00,770
through the whole process of downloading

00:06:57,910 --> 00:07:03,139
configuring and installing witness this

00:07:00,770 --> 00:07:04,460
is really useful for spinning up the

00:07:03,139 --> 00:07:06,560
test website if you want to test

00:07:04,460 --> 00:07:08,949
something out with WordPress it's also

00:07:06,560 --> 00:07:11,479
handy every time you need to start a new

00:07:08,949 --> 00:07:13,280
website for example for a new plan

00:07:11,479 --> 00:07:15,169
instead of going through all these

00:07:13,280 --> 00:07:18,199
manual steps each time you can have a

00:07:15,169 --> 00:07:20,180
nice shell script and you reuse passing

00:07:18,199 --> 00:07:22,250
some parameters that are relevant to

00:07:20,180 --> 00:07:24,700
that project and bam you've got a new

00:07:22,250 --> 00:07:27,980
WordPress websites one up

00:07:24,700 --> 00:07:30,590
so this is really where the power of WPS

00:07:27,980 --> 00:07:32,840
and eye comes in is scripting it to do

00:07:30,590 --> 00:07:34,610
what you want when you're finding that

00:07:32,840 --> 00:07:39,770
you're doing repetitive tasks in

00:07:34,610 --> 00:07:42,020
WordPress and so the WPC I project

00:07:39,770 --> 00:07:44,030
claims to be a complete alternative to

00:07:42,020 --> 00:07:47,090
the word for admin and this is mostly

00:07:44,030 --> 00:07:49,130
true you can do almost everything in WPC

00:07:47,090 --> 00:07:51,860
like you can do in the admin area and

00:07:49,130 --> 00:07:53,720
you can also be more things in WPC light

00:07:51,860 --> 00:07:56,420
than you can do in the admin area I'll

00:07:53,720 --> 00:07:57,950
get to those shortly okay let's take a

00:07:56,420 --> 00:07:59,990
quick look at some of the admin screens

00:07:57,950 --> 00:08:02,810
in WordPress and see what the

00:07:59,990 --> 00:08:04,580
corresponding commands are so probably

00:08:02,810 --> 00:08:06,620
the most common one is managing posts

00:08:04,580 --> 00:08:08,990
because it's managing the content in

00:08:06,620 --> 00:08:11,150
your WordPress site for example WP post

00:08:08,990 --> 00:08:14,300
lists this will show you a nice tabular

00:08:11,150 --> 00:08:16,850
output the posts on your site are you

00:08:14,300 --> 00:08:18,710
can create posts with WP CI by plugging

00:08:16,850 --> 00:08:20,810
in all the practice for example the

00:08:18,710 --> 00:08:24,320
title and the content and the author and

00:08:20,810 --> 00:08:26,330
the category and tags this is an

00:08:24,320 --> 00:08:28,640
interesting one WP post edit this will

00:08:26,330 --> 00:08:31,490
actually open up the editor that you've

00:08:28,640 --> 00:08:34,640
configured in your command line to edit

00:08:31,490 --> 00:08:37,010
the post content on the on the post for

00:08:34,640 --> 00:08:38,570
example if you configured VIN more if

00:08:37,010 --> 00:08:41,270
you configure the phpstorm

00:08:38,570 --> 00:08:43,039
I'll open up that editor you can sit

00:08:41,270 --> 00:08:46,070
there and type out a full blog post for

00:08:43,039 --> 00:08:49,040
example and save it once you close it

00:08:46,070 --> 00:08:51,890
WP so I will save that back to the

00:08:49,040 --> 00:08:54,230
pendants now you can manage your

00:08:51,890 --> 00:08:56,720
categories through W term list and

00:08:54,230 --> 00:08:59,900
passing in the category taxonomy names

00:08:56,720 --> 00:09:01,100
and st. for post Oaks so so far all of

00:08:59,900 --> 00:09:02,720
those things that we can do in the

00:09:01,100 --> 00:09:07,370
questions menu we can do equally as well

00:09:02,720 --> 00:09:09,650
in WPC life you can manage media in WP

00:09:07,370 --> 00:09:12,320
CLI unfortunately you can't see

00:09:09,650 --> 00:09:15,070
thumbnail images in WP silly I'm sure

00:09:12,320 --> 00:09:17,210
someone's tried to write an ASCII art

00:09:15,070 --> 00:09:18,280
interpreter but we we haven't got one

00:09:17,210 --> 00:09:20,270
yet

00:09:18,280 --> 00:09:22,220
and there's a couple of things you can

00:09:20,270 --> 00:09:24,380
do which you can't actually do yet in

00:09:22,220 --> 00:09:27,740
the admin area for example WP media

00:09:24,380 --> 00:09:30,560
import and take a full URL to a file and

00:09:27,740 --> 00:09:32,060
it will download that file import it

00:09:30,560 --> 00:09:33,380
into WordPress and save it as an

00:09:32,060 --> 00:09:35,839
attachment that's not a very easy

00:09:33,380 --> 00:09:38,450
process to do manually through your web

00:09:35,839 --> 00:09:40,280
browser and WP

00:09:38,450 --> 00:09:42,350
regenerate now you may have heard of a

00:09:40,280 --> 00:09:44,660
plug-in called regenerate thumbnails if

00:09:42,350 --> 00:09:46,400
you change with thumbnail sizes and you

00:09:44,660 --> 00:09:48,470
need to regenerate all you give them now

00:09:46,400 --> 00:09:49,700
so you might have tried that plug-in but

00:09:48,470 --> 00:09:52,310
that functionality you've built right

00:09:49,700 --> 00:09:54,530
into the WPC line it's much faster it's

00:09:52,310 --> 00:09:57,080
much more performant you can target

00:09:54,530 --> 00:10:00,290
specific attachments if you want so all

00:09:57,080 --> 00:10:01,700
of that is in there I'm managing pages

00:10:00,290 --> 00:10:03,560
it's just the same as posts the

00:10:01,700 --> 00:10:05,930
difference is that we use a post type

00:10:03,560 --> 00:10:08,420
flag here to specify a close quote and

00:10:05,930 --> 00:10:10,420
again you can create pages all that kind

00:10:08,420 --> 00:10:12,740
of stuff

00:10:10,420 --> 00:10:17,180
comments you can manage comment to 3w

00:10:12,740 --> 00:10:19,160
PCI the standard method is just to list

00:10:17,180 --> 00:10:21,140
the comments that you can also approve

00:10:19,160 --> 00:10:23,510
individual comments mark them as spam

00:10:21,140 --> 00:10:24,920
all the same kind of comment management

00:10:23,510 --> 00:10:31,520
tools that you've got in the admin area

00:10:24,920 --> 00:10:33,290
or in WP CI these again in the admin

00:10:31,520 --> 00:10:35,750
area of no press you're managing themes

00:10:33,290 --> 00:10:37,460
you get those nice big thumbnails of the

00:10:35,750 --> 00:10:39,650
theme unfortunately we don't get back in

00:10:37,460 --> 00:10:41,480
WPC line but apart from that you can do

00:10:39,650 --> 00:10:43,730
all of the theme management that you'd

00:10:41,480 --> 00:10:45,980
otherwise be able to do susanti you can

00:10:43,730 --> 00:10:48,530
install a theme and you can activate it

00:10:45,980 --> 00:10:51,470
immediately in one step you can even

00:10:48,530 --> 00:10:52,970
certain theme mods you know what the key

00:10:51,470 --> 00:10:54,560
names are there for the individual

00:10:52,970 --> 00:10:58,400
settings for a theme you can set the

00:10:54,560 --> 00:10:59,690
rates directly and WPC like if you're

00:10:58,400 --> 00:11:01,610
feeling really brave or really

00:10:59,690 --> 00:11:04,490
adventurous you can even start to manage

00:11:01,610 --> 00:11:06,500
widgets and add menus in WP sealer

00:11:04,490 --> 00:11:08,210
it's not very easy it's not very

00:11:06,500 --> 00:11:11,000
intuitive because you had lots of

00:11:08,210 --> 00:11:12,380
prancer listen you need to use but for

00:11:11,000 --> 00:11:14,720
example if you're building out an

00:11:12,380 --> 00:11:16,550
automated script that managers widgets

00:11:14,720 --> 00:11:20,930
or nav menus you can manage those

00:11:16,550 --> 00:11:23,150
completely through WPC live I one thing

00:11:20,930 --> 00:11:26,780
you can do though is bring up the theme

00:11:23,150 --> 00:11:29,330
editor in WPC line there have been some

00:11:26,780 --> 00:11:34,070
attempts to do that but so far we

00:11:29,330 --> 00:11:36,890
haven't got that in WPC on buggins this

00:11:34,070 --> 00:11:39,770
is also a function you'll find yourself

00:11:36,890 --> 00:11:42,230
using a lot the steps to installing a

00:11:39,770 --> 00:11:45,440
plug-in in WordPress is a bit of a slow

00:11:42,230 --> 00:11:48,000
one using WP c ly you can quickly

00:11:45,440 --> 00:11:52,230
install and activate plugins

00:11:48,000 --> 00:11:53,939
just a few touches at the keyboard you

00:11:52,230 --> 00:11:56,610
can also search plugins this is really

00:11:53,939 --> 00:11:58,410
handy if you're not in the mood for

00:11:56,610 --> 00:12:00,839
searching through the admin area of

00:11:58,410 --> 00:12:02,819
WordPress just put in a search term show

00:12:00,839 --> 00:12:04,740
you all of the search results and again

00:12:02,819 --> 00:12:10,319
you can then go ahead and install

00:12:04,740 --> 00:12:11,819
plugins from that point user management

00:12:10,319 --> 00:12:14,430
again you can manage all that the users

00:12:11,819 --> 00:12:17,069
on your site enlist users you can search

00:12:14,430 --> 00:12:19,410
users based on the user name on their

00:12:17,069 --> 00:12:22,439
email addresses or any other field you

00:12:19,410 --> 00:12:24,540
can restrict the list to roles you can

00:12:22,439 --> 00:12:26,610
create users this again is a really

00:12:24,540 --> 00:12:28,259
quick way of creating user instead of

00:12:26,610 --> 00:12:31,470
having to fill out all the fields in the

00:12:28,259 --> 00:12:33,449
admin area and you can update users

00:12:31,470 --> 00:12:35,879
quite often if you have a user who's

00:12:33,449 --> 00:12:37,649
forgotten their password use this way

00:12:35,879 --> 00:12:41,329
actually is just updating it for them

00:12:37,649 --> 00:12:41,329
and then go and send them a password

00:12:41,959 --> 00:12:47,519
finally we'll take a look at the

00:12:44,610 --> 00:12:49,019
settings so all of the setting screens

00:12:47,519 --> 00:12:51,779
in WordPress are actually just an

00:12:49,019 --> 00:12:54,870
interface to options in WordPress so

00:12:51,779 --> 00:12:57,149
WPVI excuse me WP CI

00:12:54,870 --> 00:12:59,699
lets you get options so you can read it

00:12:57,149 --> 00:13:01,319
from the database you can update options

00:12:59,699 --> 00:13:04,079
for example if you've forgotten your

00:13:01,319 --> 00:13:06,449
email address the or admin area you can

00:13:04,079 --> 00:13:08,699
change that quickly and you can you can

00:13:06,449 --> 00:13:10,680
search options if you can't quite

00:13:08,699 --> 00:13:13,800
remember the exact option name that you

00:13:10,680 --> 00:13:15,540
want to pitch for that thing there's a

00:13:13,800 --> 00:13:17,339
strange exception for the rewrite rules

00:13:15,540 --> 00:13:20,220
in WordPress these are managed through a

00:13:17,339 --> 00:13:22,319
separate command called WP rewrite this

00:13:20,220 --> 00:13:24,449
is really handy for the initial setup

00:13:22,319 --> 00:13:27,809
over the website if you want to always

00:13:24,449 --> 00:13:30,750
set a particular rewrite and URL rewrite

00:13:27,809 --> 00:13:32,850
structure you can use this command and

00:13:30,750 --> 00:13:35,879
you can do that in your script so when

00:13:32,850 --> 00:13:39,439
you set up your site you've got your URL

00:13:35,879 --> 00:13:39,439
rewrite set up have you always want

00:13:40,540 --> 00:13:46,130
so those are some of the things you can

00:13:43,220 --> 00:13:47,840
do if W PCI but why would you do that

00:13:46,130 --> 00:13:49,490
why would you choose to sit there and

00:13:47,840 --> 00:13:51,640
type things in the clan line when you

00:13:49,490 --> 00:13:54,460
can do it just as easily by clicking

00:13:51,640 --> 00:13:57,860
pointing and clicking in your browser

00:13:54,460 --> 00:14:00,050
well if they look WPC like it's fast

00:13:57,860 --> 00:14:02,330
these are the steps you need to take to

00:14:00,050 --> 00:14:05,090
install a new plugin through the admin

00:14:02,330 --> 00:14:06,530
area of workers now you put a finding

00:14:05,090 --> 00:14:08,270
admin area you've got a login with

00:14:06,530 --> 00:14:10,550
username and password go to the plugins

00:14:08,270 --> 00:14:12,530
screen go to add new set the plug-in

00:14:10,550 --> 00:14:15,410
name find getting the results click

00:14:12,530 --> 00:14:19,130
install click active activate it's a

00:14:15,410 --> 00:14:20,870
little bit long-winded with WP CI this

00:14:19,130 --> 00:14:23,300
is all you need to do this is the

00:14:20,870 --> 00:14:27,560
command to install and activate plug-in

00:14:23,300 --> 00:14:29,780
in one go WP plug-in install time to be

00:14:27,560 --> 00:14:32,420
plugin and then this - - activating

00:14:29,780 --> 00:14:35,210
flagman activated so when I'm working

00:14:32,420 --> 00:14:37,190
for my local WordPress websites I find

00:14:35,210 --> 00:14:40,370
that if I want to try out a new plug-in

00:14:37,190 --> 00:14:42,650
I'll just open up WP Xilai and type that

00:14:40,370 --> 00:14:44,960
in there and bam I've immediately got

00:14:42,650 --> 00:14:46,610
that plug-in installed and activated on

00:14:44,960 --> 00:14:53,690
my site without having to go through the

00:14:46,610 --> 00:14:56,320
avenue but WP c lies efficient to bulk

00:14:53,690 --> 00:14:59,780
managing users in WordPress isn't a very

00:14:56,320 --> 00:15:01,640
easy thing to do for example if let's

00:14:59,780 --> 00:15:03,080
say you wanted to update the user role

00:15:01,640 --> 00:15:05,060
of a bunch of users you would have to

00:15:03,080 --> 00:15:07,670
individually go into each user and

00:15:05,060 --> 00:15:09,920
change that user role we don't you PC lo

00:15:07,670 --> 00:15:13,010
you can run a command like this don't

00:15:09,920 --> 00:15:15,170
you P user update I will search for all

00:15:13,010 --> 00:15:18,200
of the users stop that I've got example

00:15:15,170 --> 00:15:20,870
calm in their email address and then

00:15:18,200 --> 00:15:23,480
we'll set their role to any subscriber

00:15:20,870 --> 00:15:25,940
this flag here and you can see here the

00:15:23,480 --> 00:15:28,700
WP so I just go Bam Bam Bam Bam Bam Bam

00:15:25,940 --> 00:15:30,950
Bam updates all of these users now

00:15:28,700 --> 00:15:33,380
imagine if you've got thousands of users

00:15:30,950 --> 00:15:35,300
on your site that's gonna save you a lot

00:15:33,380 --> 00:15:38,150
of time you can just let that sit there

00:15:35,300 --> 00:15:39,320
and run it doesn't run instantly but you

00:15:38,150 --> 00:15:42,160
know it's certainly a lot quicker than

00:15:39,320 --> 00:15:46,250
going into all of those individual users

00:15:42,160 --> 00:15:49,640
in the admin area this is actually one

00:15:46,250 --> 00:15:51,620
of the things I really use WPC like for

00:15:49,640 --> 00:15:52,190
a lot is managing users that's one of

00:15:51,620 --> 00:15:54,949
the

00:15:52,190 --> 00:15:59,420
the areas where it really performs the

00:15:54,949 --> 00:16:01,579
admin in afterlife if you maintain a

00:15:59,420 --> 00:16:03,889
wordpress multi-site installation you

00:16:01,579 --> 00:16:07,240
really should be using WPS you know

00:16:03,889 --> 00:16:11,420
because it makes things a lot easier for

00:16:07,240 --> 00:16:14,389
example you can target an individual

00:16:11,420 --> 00:16:17,089
site on the network using the - that URL

00:16:14,389 --> 00:16:18,860
on its own so if we type WP plugin list

00:16:17,089 --> 00:16:20,750
and we pass in this URL it's going to

00:16:18,860 --> 00:16:24,339
list all of the plugins that are active

00:16:20,750 --> 00:16:27,050
on that particular site on the network

00:16:24,339 --> 00:16:29,810
user management again this is a lot

00:16:27,050 --> 00:16:33,319
easier we can set an individual role for

00:16:29,810 --> 00:16:35,180
a user on an individual site so for

00:16:33,319 --> 00:16:37,009
example if you've got a new user on the

00:16:35,180 --> 00:16:39,800
network and they're not yet a member of

00:16:37,009 --> 00:16:40,879
an individual site and script that where

00:16:39,800 --> 00:16:43,629
you can type it in and it will

00:16:40,879 --> 00:16:46,610
immediately set that user's role to

00:16:43,629 --> 00:16:49,009
allow them to specify on that individual

00:16:46,610 --> 00:16:51,500
site again if you've got a high number

00:16:49,009 --> 00:16:53,300
of websites on your network you'll be

00:16:51,500 --> 00:16:55,069
able to loop through all of the sites on

00:16:53,300 --> 00:16:57,139
the network and add all of those users

00:16:55,069 --> 00:16:58,490
very quickly we try to do that in the

00:16:57,139 --> 00:17:02,720
admin area that's going to take you a

00:16:58,490 --> 00:17:05,150
long time again option management this

00:17:02,720 --> 00:17:06,770
is all done through the URL parameter oh

00:17:05,150 --> 00:17:08,900
there's a few other things you can do

00:17:06,770 --> 00:17:11,120
with regard to multi-site you can list

00:17:08,900 --> 00:17:13,069
sites you can create sites again I'm

00:17:11,120 --> 00:17:14,959
using the DEF LEPPARD prompt flag here

00:17:13,069 --> 00:17:16,549
which means you can have to remember the

00:17:14,959 --> 00:17:18,890
name of all of the flags so you don't

00:17:16,549 --> 00:17:20,809
have to take in the URL and the site

00:17:18,890 --> 00:17:22,880
title and the admin email address

00:17:20,809 --> 00:17:27,199
drop those and it will go and create

00:17:22,880 --> 00:17:29,450
that site for you nicely and quickly and

00:17:27,199 --> 00:17:32,000
then a command key which you might not

00:17:29,450 --> 00:17:34,220
find you use very option but very often

00:17:32,000 --> 00:17:36,080
the network options so if you go to the

00:17:34,220 --> 00:17:39,470
settings screen in the network admin

00:17:36,080 --> 00:17:41,809
area in WP CI this is technically called

00:17:39,470 --> 00:17:44,210
Network meta and you can manage all of

00:17:41,809 --> 00:17:47,230
those network settings from WPT simply

00:17:44,210 --> 00:17:51,289
if you find anything

00:17:47,230 --> 00:17:53,390
does anybody know about multi network

00:17:51,289 --> 00:17:56,360
support in multi site you can actually

00:17:53,390 --> 00:17:58,309
have this is like a little-known feature

00:17:56,360 --> 00:18:01,299
in multi site you can actually have

00:17:58,309 --> 00:18:04,070
multiple multi sites on the same network

00:18:01,299 --> 00:18:05,380
it's not very dominating so don't be pci

00:18:04,070 --> 00:18:08,740
supports this

00:18:05,380 --> 00:18:10,420
by passing in network ID there so you've

00:18:08,740 --> 00:18:16,930
got full support for the functionality

00:18:10,420 --> 00:18:18,490
in multi-site if some things that you

00:18:16,930 --> 00:18:20,290
might not immediately think up you can

00:18:18,490 --> 00:18:24,610
enhance the security of your website

00:18:20,290 --> 00:18:26,320
using W PCI users administrators on your

00:18:24,610 --> 00:18:28,300
site will be able to edit themes and

00:18:26,320 --> 00:18:30,190
plugins and install themes and perform

00:18:28,300 --> 00:18:34,390
updates if you don't want them doing

00:18:30,190 --> 00:18:36,580
that you can add this definition into

00:18:34,390 --> 00:18:38,440
your config file but disable site

00:18:36,580 --> 00:18:40,960
functionality you can even set back

00:18:38,440 --> 00:18:44,500
through WPS and I itself with an WP

00:18:40,960 --> 00:18:47,080
company command but the problem then is

00:18:44,500 --> 00:18:49,330
that you can't go into the admin area

00:18:47,080 --> 00:18:53,290
you can't manage updates and plugins and

00:18:49,330 --> 00:18:55,630
themes only PCI though is unaffected by

00:18:53,290 --> 00:18:57,370
this command so if you continue to use W

00:18:55,630 --> 00:18:59,830
PCI on a slight way you've got

00:18:57,370 --> 00:19:02,020
disallowed file not set to true you'll

00:18:59,830 --> 00:19:03,760
still be able to install languages

00:19:02,020 --> 00:19:06,760
you'll be able to install plugins and

00:19:03,760 --> 00:19:10,600
themes you'll even be able to perform

00:19:06,760 --> 00:19:13,300
updates because the way W PCI works it

00:19:10,600 --> 00:19:16,990
doesn't take into account this disallow

00:19:13,300 --> 00:19:18,970
file mods constant so it means you can

00:19:16,990 --> 00:19:20,260
lock down the admin area so your

00:19:18,970 --> 00:19:21,550
administrators aren't going to go in

00:19:20,260 --> 00:19:24,070
there and mess things up by running

00:19:21,550 --> 00:19:26,050
updates and installing new plugins but

00:19:24,070 --> 00:19:28,720
you can still manage those herself

00:19:26,050 --> 00:19:34,330
through WBC I this is a really powerful

00:19:28,720 --> 00:19:36,160
feature that we keep doing our hands up

00:19:34,330 --> 00:19:38,290
if you ever had a WordPress website that

00:19:36,160 --> 00:19:40,060
has got a blank screen on it because

00:19:38,290 --> 00:19:41,770
you've got a fatal PHP error and you

00:19:40,060 --> 00:19:43,390
can't log into the admin area if you

00:19:41,770 --> 00:19:46,510
can't manage your users you can't do

00:19:43,390 --> 00:19:49,450
anything WPC like stop it's really handy

00:19:46,510 --> 00:19:52,450
flag puts skip plugins so you can run

00:19:49,450 --> 00:19:55,030
any command and attach the skip plug-in

00:19:52,450 --> 00:19:57,250
swag to the end of it and it will skip

00:19:55,030 --> 00:19:59,110
the loading of those plugins

00:19:57,250 --> 00:20:01,120
either all of the plugins here or an

00:19:59,110 --> 00:20:02,350
individual plug-in name or even themes

00:20:01,120 --> 00:20:05,350
although that doesn't make much sense

00:20:02,350 --> 00:20:06,730
and it will load WordPress and it will

00:20:05,350 --> 00:20:09,670
allow you to interact with WordPress

00:20:06,730 --> 00:20:11,980
without that plug-in included on that

00:20:09,670 --> 00:20:15,250
particular request this is a really good

00:20:11,980 --> 00:20:16,790
way to get yourself out of this problem

00:20:15,250 --> 00:20:18,320
where you've got a fatal error

00:20:16,790 --> 00:20:21,050
your sight and you can't manage it so

00:20:18,320 --> 00:20:23,210
that's a good one to remember there's

00:20:21,050 --> 00:20:25,730
also a - - require flag this will allow

00:20:23,210 --> 00:20:27,350
you to include a PHP file before it

00:20:25,730 --> 00:20:30,350
loads wordpress from before it loads

00:20:27,350 --> 00:20:33,740
many commands that you run typically you

00:20:30,350 --> 00:20:35,720
can you use this to write a little bit

00:20:33,740 --> 00:20:38,750
of PHP code that maybe fixes whatever

00:20:35,720 --> 00:20:40,370
error you've run into run it once it

00:20:38,750 --> 00:20:44,260
will include that file then it will load

00:20:40,370 --> 00:20:47,270
WordPress and we've fixed your problem

00:20:44,260 --> 00:20:50,300
and finally also you can one run WP

00:20:47,270 --> 00:20:52,880
Solari bug note with - - debug that will

00:20:50,300 --> 00:20:59,720
show all of the PHP warnings and notices

00:20:52,880 --> 00:21:02,750
that otherwise get hidden by WP - I'm so

00:20:59,720 --> 00:21:05,120
good fourth exercise when you start to

00:21:02,750 --> 00:21:07,940
use WP C Line is what do you do

00:21:05,120 --> 00:21:10,310
repeatedly on your site that you should

00:21:07,940 --> 00:21:13,070
be able to automate never think about it

00:21:10,310 --> 00:21:14,510
but the installation of WordPress to

00:21:13,070 --> 00:21:16,460
start with is a good one but user

00:21:14,510 --> 00:21:18,110
management is another one maybe those

00:21:16,460 --> 00:21:19,910
things that you do repeatedly on your

00:21:18,110 --> 00:21:22,220
site you think that it'd be great if I

00:21:19,910 --> 00:21:28,820
can automate this should be able to

00:21:22,220 --> 00:21:31,220
automate it with WP see right now you

00:21:28,820 --> 00:21:33,730
can administer remote web sites with WP

00:21:31,220 --> 00:21:35,990
i this is a really handy feature if

00:21:33,730 --> 00:21:38,180
you've got a production website on a

00:21:35,990 --> 00:21:41,120
server and you normally SSH into the

00:21:38,180 --> 00:21:44,270
server and then perform some actions WP

00:21:41,120 --> 00:21:46,820
CI as a concept called aliases and it's

00:21:44,270 --> 00:21:49,130
this app syntax here and in your

00:21:46,820 --> 00:21:52,670
configuration file for WPC ie you can

00:21:49,130 --> 00:21:55,460
set up path to files you can set up the

00:21:52,670 --> 00:21:58,760
SSH credentials every time you run this

00:21:55,460 --> 00:22:02,570
command with a prod WPC live behind the

00:21:58,760 --> 00:22:05,120
scenes will SSH into that server it will

00:22:02,570 --> 00:22:07,010
navigate to the directory specified it

00:22:05,120 --> 00:22:08,570
will run the command it will show you

00:22:07,010 --> 00:22:11,540
the output and then it will disconnect

00:22:08,570 --> 00:22:12,950
from SSH it does it all in one means you

00:22:11,540 --> 00:22:15,710
don't have to remember those SSH

00:22:12,950 --> 00:22:19,190
configurations every time you want to

00:22:15,710 --> 00:22:21,500
manage a remote site and it's handy also

00:22:19,190 --> 00:22:24,890
for local sites not just for SSH so for

00:22:21,500 --> 00:22:27,230
example this is a site this is a path to

00:22:24,890 --> 00:22:28,059
a site on my local machine I can decide

00:22:27,230 --> 00:22:31,330
successfully

00:22:28,059 --> 00:22:33,279
you know for example WP active even I'm

00:22:31,330 --> 00:22:35,559
not in that directory when I'm managing

00:22:33,279 --> 00:22:37,889
it so these are aliases these are really

00:22:35,559 --> 00:22:37,889
useful

00:22:39,999 --> 00:22:44,769
how about converting a site to HTTPS

00:22:42,539 --> 00:22:46,629
HTTPS is becoming very important these

00:22:44,769 --> 00:22:48,909
days for SEO and performance and

00:22:46,629 --> 00:22:52,299
security you can easily promote your

00:22:48,909 --> 00:22:55,539
entire site to HTTPS with the WP search

00:22:52,299 --> 00:22:59,739
for placement here we're switching from

00:22:55,539 --> 00:23:01,899
HTTP protocol HTTP and what would what

00:22:59,739 --> 00:23:05,289
WP 0 will do is go through your entire

00:23:01,899 --> 00:23:07,839
database it will show you all of the

00:23:05,289 --> 00:23:09,599
fields that it's replaced but the key

00:23:07,839 --> 00:23:11,919
thing is that this is aware of

00:23:09,599 --> 00:23:13,690
serialized data so if you've put a

00:23:11,919 --> 00:23:17,440
plug-in on your site maybe that is

00:23:13,690 --> 00:23:19,989
storing data in a serialized array WP

00:23:17,440 --> 00:23:21,609
seal I won't mess that up like you would

00:23:19,989 --> 00:23:24,279
if we did a regular search replace

00:23:21,609 --> 00:23:28,179
through - through L so this is a really

00:23:24,279 --> 00:23:29,559
handy command also you just want to

00:23:28,179 --> 00:23:30,759
change your domain name to point

00:23:29,559 --> 00:23:35,440
somewhere else again

00:23:30,759 --> 00:23:36,549
WP search replace this is one I found

00:23:35,440 --> 00:23:40,210
quite recently

00:23:36,549 --> 00:23:41,950
you can quickly connect to MySQL using

00:23:40,210 --> 00:23:43,929
the credentials that are in your WP

00:23:41,950 --> 00:23:46,659
config file so let's say you need to

00:23:43,929 --> 00:23:49,659
connect to my spell to run a command but

00:23:46,659 --> 00:23:51,249
who remembers their my spell username

00:23:49,659 --> 00:23:52,330
and password usually what you're going

00:23:51,249 --> 00:23:55,539
to do is you're going to go and find

00:23:52,330 --> 00:23:57,039
your WP config file find those glenn

00:23:55,539 --> 00:23:57,580
cheales in there and paste them in the

00:23:57,039 --> 00:24:02,080
command line

00:23:57,580 --> 00:24:03,519
this shortcut here called WP DB CLI what

00:24:02,080 --> 00:24:05,499
it does is it reads those credentials

00:24:03,519 --> 00:24:06,609
straight out with your plan big file so

00:24:05,499 --> 00:24:09,969
you don't need to go and find them

00:24:06,609 --> 00:24:12,099
yourself and it just opens up a MySQL

00:24:09,969 --> 00:24:15,339
command line you can run your SQL

00:24:12,099 --> 00:24:19,929
commands and we haven't had to go and

00:24:15,339 --> 00:24:22,960
find those credentials it's a bit of a

00:24:19,929 --> 00:24:27,159
crazy one you can blog via the WP CLI I

00:24:22,960 --> 00:24:30,759
wouldn't recommend it but you can WP

00:24:27,159 --> 00:24:32,440
post create this is a command that will

00:24:30,759 --> 00:24:35,019
create a post but there's an interesting

00:24:32,440 --> 00:24:36,849
player capable - - in it and again this

00:24:35,019 --> 00:24:38,870
opens up the editor that you've

00:24:36,849 --> 00:24:40,820
configured on your command line see

00:24:38,870 --> 00:24:43,010
type out full contents of your photos

00:24:40,820 --> 00:24:46,370
and when you save it and close your

00:24:43,010 --> 00:24:48,680
editor WPC long to save that as a post

00:24:46,370 --> 00:24:51,110
to the database and there's an

00:24:48,680 --> 00:24:53,840
equivalent as well WP post edit get the

00:24:51,110 --> 00:24:55,640
post ID and again open up to the editor

00:24:53,840 --> 00:24:57,550
that you've configured so you can edit

00:24:55,640 --> 00:24:59,210
that post on the command line

00:24:57,550 --> 00:25:01,730
probably not some of that you're gonna

00:24:59,210 --> 00:25:05,030
do very often it's not going to replace

00:25:01,730 --> 00:25:06,520
Guttenberg anytime yet but it's there if

00:25:05,030 --> 00:25:09,500
you need it in an emergency

00:25:06,520 --> 00:25:16,370
maybe we'll have a Guttenberg block

00:25:09,500 --> 00:25:18,830
builder in WPC Longmeadow and there's a

00:25:16,370 --> 00:25:21,200
really interesting page on the WPC a

00:25:18,830 --> 00:25:23,210
website called shell friends is in the

00:25:21,200 --> 00:25:26,200
handbook if you just go on there and

00:25:23,210 --> 00:25:28,550
search with shell friends this page

00:25:26,200 --> 00:25:32,809
introduces you to a lot of the

00:25:28,550 --> 00:25:35,570
foundational functionality of the

00:25:32,809 --> 00:25:38,200
command line that isn't specific to WPC

00:25:35,570 --> 00:25:41,929
lines so for example interpolation here

00:25:38,200 --> 00:25:45,470
piping these are all features of the

00:25:41,929 --> 00:25:48,620
command line that will help you use WPC

00:25:45,470 --> 00:25:50,600
live much more efficiently for example

00:25:48,620 --> 00:25:52,760
what we're doing here is we're running a

00:25:50,600 --> 00:25:55,790
command WP post list and fetching the

00:25:52,760 --> 00:25:57,740
IDS and then we're passing it into WP

00:25:55,790 --> 00:26:00,470
post delete in order to delete the bunch

00:25:57,740 --> 00:26:01,910
of posts and here we're using piping to

00:26:00,470 --> 00:26:03,980
effect a list of all the available

00:26:01,910 --> 00:26:05,750
languages and then automatically install

00:26:03,980 --> 00:26:07,370
them so if you want to set the

00:26:05,750 --> 00:26:09,559
multilingual site you can do that in one

00:26:07,370 --> 00:26:11,360
command so if you're not very familiar

00:26:09,559 --> 00:26:13,670
with a lot of the concepts of the

00:26:11,360 --> 00:26:16,610
command line this shell frames page on

00:26:13,670 --> 00:26:19,640
the WPI website is a really useful one

00:26:16,610 --> 00:26:22,450
to get some tips and tricks on how to

00:26:19,640 --> 00:26:22,450
get started there

00:26:22,480 --> 00:26:29,450
so that's WWI bug I also started a

00:26:26,809 --> 00:26:31,100
newsletter called WP CI tips

00:26:29,450 --> 00:26:32,690
unfortunately often neglected this a

00:26:31,100 --> 00:26:35,179
little bit over the summer I had a bit

00:26:32,690 --> 00:26:37,160
of an extended summer break but if you

00:26:35,179 --> 00:26:40,400
go to the WP dash to see our top tips

00:26:37,160 --> 00:26:42,740
you can sign up and I'll start sending

00:26:40,400 --> 00:26:46,250
out monthly email newsletter again with

00:26:42,740 --> 00:26:49,130
tips using WP CLI news on new features

00:26:46,250 --> 00:26:50,789
in WP c ly that kind of thing so you can

00:26:49,130 --> 00:26:54,249
sign up there

00:26:50,789 --> 00:26:56,930
and that's it for me thanks very much

00:26:54,249 --> 00:26:58,900
does anybody

00:26:56,930 --> 00:27:07,940
[Applause]

00:26:58,900 --> 00:27:07,940

YouTube URL: https://www.youtube.com/watch?v=cNYh_s2laf0


