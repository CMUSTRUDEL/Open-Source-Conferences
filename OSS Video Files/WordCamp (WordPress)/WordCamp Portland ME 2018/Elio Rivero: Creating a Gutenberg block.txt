Title: Elio Rivero: Creating a Gutenberg block
Publication date: 2019-04-13
Playlist: WordCamp Portland ME 2018
Description: 
	Gutenberg is making waves in the WordPress community and changing how we compose content forever. So what’s the essential new stuff that Gutenberg brings to content authoring? We’ll focus on the block–the brick that builds our content–and will learn how to build a nifty Gutenberg block from scratch to offer our customers an easy and predictable way to compose their content.

WPTV link: https://wordpress.tv/2019/02/02/elio-rivero-creating-a-gutenberg-block/
Captions: 
	00:00:03,990 --> 00:00:10,200
hi morning happy that you're here

00:00:07,620 --> 00:00:14,150
how are you having fun enjoying the

00:00:10,200 --> 00:00:16,740
talks okay so we're gonna talk about

00:00:14,150 --> 00:00:18,240
creating a Guttenberg block Guttenberg

00:00:16,740 --> 00:00:21,960
has you know is the hot topic right now

00:00:18,240 --> 00:00:26,360
and it's coming soon in November 19 or

00:00:21,960 --> 00:00:31,800
maybe in January we'll see how that goes

00:00:26,360 --> 00:00:35,579
so let's start I'm gonna introduce

00:00:31,800 --> 00:00:39,030
myself and alia I'm from Argentina it's

00:00:35,579 --> 00:00:42,089
in the top the tip of South America and

00:00:39,030 --> 00:00:51,300
I travel all the way here because I love

00:00:42,089 --> 00:00:53,730
you all I love you too so what I want to

00:00:51,300 --> 00:00:56,159
do with this talk is about a domestic I

00:00:53,730 --> 00:00:58,969
a little the process of creating go to

00:00:56,159 --> 00:01:03,320
more blocks because there are a lot of

00:00:58,969 --> 00:01:05,309
components involved in creating a block

00:01:03,320 --> 00:01:08,670
previously when we were creating

00:01:05,309 --> 00:01:11,509
creating the plugins we were just using

00:01:08,670 --> 00:01:17,270
PHP but right now we have to use PHP

00:01:11,509 --> 00:01:24,170
JavaScript react Babel a lot of other

00:01:17,270 --> 00:01:28,110
black magic stuff so let's start with

00:01:24,170 --> 00:01:31,530
with a little bit of what has been

00:01:28,110 --> 00:01:35,579
happening in in WordPress and regarding

00:01:31,530 --> 00:01:40,229
content authoring in the beginning the

00:01:35,579 --> 00:01:42,950
spirit of math flew on the water and

00:01:40,229 --> 00:01:46,500
developed this this was the original

00:01:42,950 --> 00:01:52,020
editor didn't do much but it was there

00:01:46,500 --> 00:01:53,609
what started everything and I started

00:01:52,020 --> 00:01:57,250
making history and it's a reason that

00:01:53,609 --> 00:02:00,400
we're here today eventually we got the

00:01:57,250 --> 00:02:02,980
this very nice editor that back in its

00:02:00,400 --> 00:02:05,560
time not even expression engine had an

00:02:02,980 --> 00:02:09,369
editor has powerful as this one is this

00:02:05,560 --> 00:02:12,730
is a tiny NC and the original version

00:02:09,369 --> 00:02:16,360
only had the tiny MCE and didn't have

00:02:12,730 --> 00:02:18,900
the HTML tab so you have to go and

00:02:16,360 --> 00:02:21,760
deactivate it through other settings

00:02:18,900 --> 00:02:24,100
right now we currently we have the

00:02:21,760 --> 00:02:27,190
option of switching very quickly between

00:02:24,100 --> 00:02:31,450
the two modes and eventually this was

00:02:27,190 --> 00:02:34,600
fine for a long time we democratize

00:02:31,450 --> 00:02:37,630
publishing and WordPress was thriving

00:02:34,600 --> 00:02:41,890
but eventually business owners needed

00:02:37,630 --> 00:02:46,660
more more more content and more ways to

00:02:41,890 --> 00:02:50,020
build in their content so we started

00:02:46,660 --> 00:02:54,240
with the page builders there are very

00:02:50,020 --> 00:02:57,220
successful in nowadays one of the I

00:02:54,240 --> 00:03:00,100
compile here one of the what I think are

00:02:57,220 --> 00:03:04,120
they the best ones and their kind but

00:03:00,100 --> 00:03:06,940
they all have a one significant flaw

00:03:04,120 --> 00:03:08,709
between but it's not it's not their

00:03:06,940 --> 00:03:14,440
great the thing is that they're not

00:03:08,709 --> 00:03:17,080
compatible between themselves so if when

00:03:14,440 --> 00:03:19,540
you start with one you're you're stuck

00:03:17,080 --> 00:03:22,830
with that one for for better or worse

00:03:19,540 --> 00:03:26,470
you have to continue use it forever so

00:03:22,830 --> 00:03:28,510
now we have Gutenberg that is like a

00:03:26,470 --> 00:03:32,170
page builder it's not a full page

00:03:28,510 --> 00:03:35,320
builder right now but this can't it's

00:03:32,170 --> 00:03:38,200
fully compatible between all the all the

00:03:35,320 --> 00:03:41,049
workers installations right now it's

00:03:38,200 --> 00:03:43,840
only a content builder but the idea I

00:03:41,049 --> 00:03:49,330
study it will eventually be a full site

00:03:43,840 --> 00:03:53,110
builder so Gutenberg if you still

00:03:49,330 --> 00:03:55,660
haven't got much into it you can find

00:03:53,110 --> 00:03:58,420
more information about Gutenberg in this

00:03:55,660 --> 00:03:59,049
links the documentation is a great place

00:03:58,420 --> 00:04:01,840
to start

00:03:59,049 --> 00:04:04,269
and you have a demo in the the general

00:04:01,840 --> 00:04:08,700
information and of course you can

00:04:04,269 --> 00:04:10,630
contribute with code or racing issues

00:04:08,700 --> 00:04:14,530
filing bogging reports

00:04:10,630 --> 00:04:16,750
in in development or repo right now

00:04:14,530 --> 00:04:23,890
she's still under development so they're

00:04:16,750 --> 00:04:26,890
taking all the help they can and this is

00:04:23,890 --> 00:04:31,450
what Gutenberg looks like when you when

00:04:26,890 --> 00:04:33,370
you start with it it's just a blank

00:04:31,450 --> 00:04:44,610
slate just like the current classic

00:04:33,370 --> 00:04:48,090
editor but it has some very interesting

00:04:44,610 --> 00:04:48,090
interesting things

00:04:54,330 --> 00:05:02,810
it's very very easy to use very very

00:04:58,169 --> 00:05:09,810
fast to work with you get the previews

00:05:02,810 --> 00:05:12,680
instantly you have all the time this bar

00:05:09,810 --> 00:05:15,659
on the right side that provides a

00:05:12,680 --> 00:05:22,110
contextual options to whatever block

00:05:15,659 --> 00:05:24,960
you're selecting the way to to discover

00:05:22,110 --> 00:05:28,050
a Gutenberg blog or to find it to insert

00:05:24,960 --> 00:05:32,550
it is to search for it or like we see in

00:05:28,050 --> 00:05:36,289
the example to type slash and yours and

00:05:32,550 --> 00:05:36,289
you can choose a block

00:05:43,130 --> 00:05:48,620
one of the most interesting interesting

00:05:46,200 --> 00:05:53,250
things that you can not only add a

00:05:48,620 --> 00:05:58,320
content like block quotes or images but

00:05:53,250 --> 00:06:01,520
also complete widgets I know that there

00:05:58,320 --> 00:06:05,910
are some some people developing a widget

00:06:01,520 --> 00:06:09,540
that connect to a Google spreadsheet

00:06:05,910 --> 00:06:12,930
I'm fetching data from that and create a

00:06:09,540 --> 00:06:16,130
chart like a bar chart or pie chart all

00:06:12,930 --> 00:06:23,580
in real time and that's amazing that

00:06:16,130 --> 00:06:25,260
that's a future and what what did the

00:06:23,580 --> 00:06:29,460
content look like if you see it in the

00:06:25,260 --> 00:06:31,740
HTML tab and it looks like this but

00:06:29,460 --> 00:06:34,560
don't be fooled about about it because

00:06:31,740 --> 00:06:37,680
this is just an HTML or representation

00:06:34,560 --> 00:06:41,130
the what it really looks like under the

00:06:37,680 --> 00:06:45,620
hood is like this because Gutenberg is

00:06:41,130 --> 00:06:49,200
all JavaScript and it's a an object tree

00:06:45,620 --> 00:06:51,420
with all the different all the all the

00:06:49,200 --> 00:06:55,200
blocks are different objects with all

00:06:51,420 --> 00:06:58,290
different properties in them the

00:06:55,200 --> 00:07:01,590
structure of a good number plug-in that

00:06:58,290 --> 00:07:05,220
will create a block it's very simple

00:07:01,590 --> 00:07:07,980
actually we just have the the PHP that

00:07:05,220 --> 00:07:10,380
will initialize the the the plug-in will

00:07:07,980 --> 00:07:13,080
in cue the files in the admin and the

00:07:10,380 --> 00:07:15,810
front end we have the of course the Jes

00:07:13,080 --> 00:07:18,510
that will be the block itself and we

00:07:15,810 --> 00:07:21,120
have some styling for the block in that

00:07:18,510 --> 00:07:24,660
you can add in the admin in the editor

00:07:21,120 --> 00:07:30,300
or in the front end too so it's super

00:07:24,660 --> 00:07:35,940
easy but what why make it easy let's

00:07:30,300 --> 00:07:40,010
complicate it for a little bit sorry

00:07:35,940 --> 00:07:40,010
I like no way

00:07:40,420 --> 00:07:47,460
we're gonna this is a nice setup for if

00:07:44,800 --> 00:07:51,130
we only are going to create one block

00:07:47,460 --> 00:07:53,920
that's very simple but we might have to

00:07:51,130 --> 00:07:57,220
create one plug-in that have several

00:07:53,920 --> 00:07:58,890
blocks in different folders we have to

00:07:57,220 --> 00:08:02,110
have a way to manage all that

00:07:58,890 --> 00:08:04,900
concatenate those files compressed in

00:08:02,110 --> 00:08:07,750
jes compresses CSS so we're going to

00:08:04,900 --> 00:08:11,830
introduce the this complexity but we're

00:08:07,750 --> 00:08:14,350
going to try to make it simple so the

00:08:11,830 --> 00:08:16,240
first one that we need is the NPM given

00:08:14,350 --> 00:08:19,030
the package manager to get all the

00:08:16,240 --> 00:08:22,090
dependencies that the preowned the

00:08:19,030 --> 00:08:24,670
previous person mentioned that it wasn't

00:08:22,090 --> 00:08:27,220
that good which I agree because right

00:08:24,670 --> 00:08:30,610
now I have like 24 thousand files in the

00:08:27,220 --> 00:08:31,210
normal in their dependencies but it is

00:08:30,610 --> 00:08:35,770
what it is

00:08:31,210 --> 00:08:38,140
so in the the dependencies that we need

00:08:35,770 --> 00:08:41,290
for a good number block are actually

00:08:38,140 --> 00:08:47,910
quite simple we just need a bunch of

00:08:41,290 --> 00:08:51,310
bubble packages we need web pack to

00:08:47,910 --> 00:08:57,640
package everything and output our final

00:08:51,310 --> 00:09:01,330
files and and we will define a build and

00:08:57,640 --> 00:09:03,250
a watch to build the final the final

00:09:01,330 --> 00:09:07,000
file that will be understood by the

00:09:03,250 --> 00:09:09,250
browser and use for a plugin so one of

00:09:07,000 --> 00:09:13,860
the the most important thing that I

00:09:09,250 --> 00:09:15,970
highlighted this in this slide is this

00:09:13,860 --> 00:09:21,580
display will plug-in that transform

00:09:15,970 --> 00:09:25,090
react into into regular jes that can be

00:09:21,580 --> 00:09:28,300
understood by doing the browser we will

00:09:25,090 --> 00:09:32,200
you probably know it's a transformer

00:09:28,300 --> 00:09:35,590
that takes syntax from es6 or some other

00:09:32,200 --> 00:09:38,050
weird things like JSX and converts it to

00:09:35,590 --> 00:09:43,390
es5 that can be understood by any

00:09:38,050 --> 00:09:46,480
browser what we need to do here is the

00:09:43,390 --> 00:09:49,050
important thing is this transform

00:09:46,480 --> 00:09:52,840
reaction yes we instruct this to be

00:09:49,050 --> 00:09:54,010
we're gonna see in a minute WP element

00:09:52,840 --> 00:10:00,940
create element

00:09:54,010 --> 00:10:02,710
that syntax is what creates a object you

00:10:00,940 --> 00:10:05,860
will you will see it looks like a tag

00:10:02,710 --> 00:10:08,880
you probably saw JSX already will write

00:10:05,860 --> 00:10:12,850
it as a tag but it will create an object

00:10:08,880 --> 00:10:16,570
and this is what this transform does you

00:10:12,850 --> 00:10:19,660
can write the the JSX code or yes next

00:10:16,570 --> 00:10:21,960
whatever you want to call it and Babel

00:10:19,660 --> 00:10:25,060
will transform it to this syntax that

00:10:21,960 --> 00:10:30,250
they suggest a function call that would

00:10:25,060 --> 00:10:32,740
return an an object is that clear so far

00:10:30,250 --> 00:10:36,310
or if you have any questions you can

00:10:32,740 --> 00:10:39,150
stop me so that's about by in Babel we

00:10:36,310 --> 00:10:43,300
don't need anything else from from it

00:10:39,150 --> 00:10:46,720
will move to web pack a web pack is what

00:10:43,300 --> 00:10:51,700
we will use to compile earlier our Jes

00:10:46,720 --> 00:10:55,480
and our our CSS into the final files and

00:10:51,700 --> 00:10:58,990
this is what it looks like there

00:10:55,480 --> 00:11:02,710
interesting things here are the entry

00:10:58,990 --> 00:11:08,500
object where we can define a path to our

00:11:02,710 --> 00:11:10,570
source file and the output will be then

00:11:08,500 --> 00:11:12,640
the one that says file name it's the

00:11:10,570 --> 00:11:16,540
final file that will be loaded by the

00:11:12,640 --> 00:11:19,420
browser and if you see here in loaders

00:11:16,540 --> 00:11:21,820
we have Babel loader that is what we

00:11:19,420 --> 00:11:25,390
will use to transform the syntax and

00:11:21,820 --> 00:11:30,400
finally we have this this line that will

00:11:25,390 --> 00:11:33,900
compress all the Jes sometimes the web

00:11:30,400 --> 00:11:38,260
pack configuration files are quite

00:11:33,900 --> 00:11:43,000
esoteric but this is all we need for a

00:11:38,260 --> 00:11:46,810
good number block so let's move on to

00:11:43,000 --> 00:11:50,590
actually create on the plugin we will

00:11:46,810 --> 00:11:55,870
need like we said for a plug-in HS PHP

00:11:50,590 --> 00:11:59,200
is and CSS the rest is just tools and

00:11:55,870 --> 00:12:00,190
the first one is like in any plugin and

00:11:59,200 --> 00:12:02,770
the PHP file

00:12:00,190 --> 00:12:04,450
I left outside all the the plug-in

00:12:02,770 --> 00:12:07,210
headers because obviously they don't fit

00:12:04,450 --> 00:12:08,920
in there in the slide but I'll give you

00:12:07,210 --> 00:12:12,250
the repo afterward

00:12:08,920 --> 00:12:17,890
you can see there the headers that are

00:12:12,250 --> 00:12:24,190
like any other plugin so we will call

00:12:17,890 --> 00:12:26,950
this function on the init a hook and we

00:12:24,190 --> 00:12:30,340
have some a new function in Guttenberg

00:12:26,950 --> 00:12:33,520
that is this register block type that we

00:12:30,340 --> 00:12:37,240
can pass the name of our and the idea

00:12:33,520 --> 00:12:40,450
for block registers several attributes

00:12:37,240 --> 00:12:44,440
for that in this case we're interested

00:12:40,450 --> 00:12:48,130
in register and a to slide sheet one for

00:12:44,440 --> 00:12:51,900
the front and one for the editor and the

00:12:48,130 --> 00:12:57,760
shyest there will be the UI of our block

00:12:51,900 --> 00:13:05,650
will register all the all those we with

00:12:57,760 --> 00:13:09,010
this call and that that's all for a PHP

00:13:05,650 --> 00:13:11,920
and the block show yes is the

00:13:09,010 --> 00:13:14,800
interesting part this is what it looks

00:13:11,920 --> 00:13:18,820
like this is what a Guttenberg block

00:13:14,800 --> 00:13:21,570
looks like so let's see first the the

00:13:18,820 --> 00:13:25,210
first line imports the

00:13:21,570 --> 00:13:28,300
internationalization a function the two

00:13:25,210 --> 00:13:31,170
underscores and then we've registered a

00:13:28,300 --> 00:13:36,190
block type you'll notice is the same

00:13:31,170 --> 00:13:41,020
garden breaks slash fall than before we

00:13:36,190 --> 00:13:44,290
set a title an icon a category to be

00:13:41,020 --> 00:13:47,590
inserted because when you search for a

00:13:44,290 --> 00:13:50,560
block you have groups of blocks and all

00:13:47,590 --> 00:13:53,740
those are categorized and we insert this

00:13:50,560 --> 00:13:55,180
in the layout category and we have some

00:13:53,740 --> 00:13:56,890
attributes these attributes are

00:13:55,180 --> 00:13:59,800
important because those are the things

00:13:56,890 --> 00:14:03,910
that we'll be able to edit through our

00:13:59,800 --> 00:14:06,700
block UI and these attributes will are

00:14:03,910 --> 00:14:09,540
dynamic and can be changed not only by

00:14:06,700 --> 00:14:12,370
us but we'll see that we can

00:14:09,540 --> 00:14:12,850
programmatically programmatically change

00:14:12,370 --> 00:14:16,589
it

00:14:12,850 --> 00:14:19,720
for example the ID and these two

00:14:16,589 --> 00:14:21,970
functions are the idiot is why we will

00:14:19,720 --> 00:14:22,209
build the block UI and the other one

00:14:21,970 --> 00:14:24,639
will

00:14:22,209 --> 00:14:31,240
save the final HTML that will be will be

00:14:24,639 --> 00:14:35,019
displaying in the front end so these two

00:14:31,240 --> 00:14:37,569
functions the function to create a the

00:14:35,019 --> 00:14:40,179
UI and the function to save receive some

00:14:37,569 --> 00:14:43,929
properties these are all the properties

00:14:40,179 --> 00:14:47,259
you can you can check them if you lock

00:14:43,929 --> 00:14:49,509
them using a console dot log in the in

00:14:47,259 --> 00:14:52,899
the console you can check them and you

00:14:49,509 --> 00:14:54,670
will see they get all these the ones

00:14:52,899 --> 00:14:58,809
that are interesting for us they are the

00:14:54,670 --> 00:15:02,170
attributes because that's what we'll be

00:14:58,809 --> 00:15:05,499
working with and our users will be

00:15:02,170 --> 00:15:06,879
working with and also you see that in

00:15:05,499 --> 00:15:11,790
the same attributes are passed to the

00:15:06,879 --> 00:15:15,100
save the save function the inner blocks

00:15:11,790 --> 00:15:19,809
is there but we're not getting to it

00:15:15,100 --> 00:15:21,819
it's a property when you because in good

00:15:19,809 --> 00:15:25,420
team where you can put a blocks within

00:15:21,819 --> 00:15:30,730
other blocks it's a thing that is still

00:15:25,420 --> 00:15:31,689
in under development we'll start with an

00:15:30,730 --> 00:15:35,559
easy one

00:15:31,689 --> 00:15:39,279
saving the block and saving the block is

00:15:35,559 --> 00:15:42,220
just writing the HTML that will be

00:15:39,279 --> 00:15:45,459
display in the front end what we write

00:15:42,220 --> 00:15:48,369
here will be what we save and what will

00:15:45,459 --> 00:15:52,110
be display in the front end for this we

00:15:48,369 --> 00:15:56,470
need to import our rich text rich text

00:15:52,110 --> 00:15:59,529
editor and we use a tag then you will

00:15:56,470 --> 00:16:02,920
see rich text dot content that tag is

00:15:59,529 --> 00:16:06,069
specifically for a writing the content

00:16:02,920 --> 00:16:09,399
that has been entered by the user using

00:16:06,069 --> 00:16:18,399
the rich text component the rich text a

00:16:09,399 --> 00:16:21,579
text box and no not nominee a this is

00:16:18,399 --> 00:16:24,519
not too much too difficult all the

00:16:21,579 --> 00:16:28,749
attributes are what the user edits the

00:16:24,519 --> 00:16:32,139
title and what will be on there and what

00:16:28,749 --> 00:16:34,529
will be rebuild our entry like and just

00:16:32,139 --> 00:16:34,529
like that

00:16:34,920 --> 00:16:47,890
what when we save this what will then

00:16:40,840 --> 00:16:58,750
what the block will do is this so you we

00:16:47,890 --> 00:17:02,620
have the title and the reveal this is a

00:16:58,750 --> 00:17:08,610
when we we save this it will render it

00:17:02,620 --> 00:17:08,610
will render that toggle or collapsible

00:17:08,730 --> 00:17:16,959
so far is very clear so let's get to the

00:17:14,709 --> 00:17:21,400
wild part which is a train and a block

00:17:16,959 --> 00:17:24,939
you I the block you is there is much

00:17:21,400 --> 00:17:29,320
more complex we have a lot of components

00:17:24,939 --> 00:17:33,310
to you to to use in our UI all are

00:17:29,320 --> 00:17:35,790
predefined in in WordPress we have a

00:17:33,310 --> 00:17:42,040
these two packages they will import

00:17:35,790 --> 00:17:47,080
components from and I'm gonna I'm gonna

00:17:42,040 --> 00:17:51,670
use a class for this you can also a use

00:17:47,080 --> 00:17:54,130
a function like in the Edit like in the

00:17:51,670 --> 00:17:58,000
say property we were just using a

00:17:54,130 --> 00:18:01,990
function an animal uh neuro function but

00:17:58,000 --> 00:18:04,570
for the eated property you can use a J's

00:18:01,990 --> 00:18:07,150
class and you can take advantage of all

00:18:04,570 --> 00:18:08,680
the component life cycles because let's

00:18:07,150 --> 00:18:11,800
not forget that this is under the hood

00:18:08,680 --> 00:18:14,650
this is react so we we get access to all

00:18:11,800 --> 00:18:18,520
the a company indeed update and all the

00:18:14,650 --> 00:18:21,190
all the component lifecycle so we're

00:18:18,520 --> 00:18:25,570
going to import all these components the

00:18:21,190 --> 00:18:28,540
rich text to enter our text a button

00:18:25,570 --> 00:18:31,810
that will be that we'll use to create a

00:18:28,540 --> 00:18:34,060
new question I just wanted to add that

00:18:31,810 --> 00:18:37,270
so you can see that you can create a

00:18:34,060 --> 00:18:39,010
block from within another block without

00:18:37,270 --> 00:18:44,130
having to go and search for a block

00:18:39,010 --> 00:18:46,810
again and you can quickly create one and

00:18:44,130 --> 00:18:48,160
the class initially looks like this

00:18:46,810 --> 00:18:50,290
which just have there

00:18:48,160 --> 00:18:53,310
structure that will receive all the

00:18:50,290 --> 00:18:57,340
arguments remember that we say that we

00:18:53,310 --> 00:19:02,050
go backwards a little bit dated property

00:18:57,340 --> 00:19:06,310
receives all this this properties this

00:19:02,050 --> 00:19:08,500
is whether we're a second up accepting

00:19:06,310 --> 00:19:10,900
this in the constructor and the render

00:19:08,500 --> 00:19:15,180
function is the one that will render the

00:19:10,900 --> 00:19:18,640
final UI for the user to enter the data

00:19:15,180 --> 00:19:21,340
so initially we get we used to set up

00:19:18,640 --> 00:19:23,140
something in the constructor we pass all

00:19:21,340 --> 00:19:26,560
the the properties to the parent class

00:19:23,140 --> 00:19:30,280
which is the component which is a class

00:19:26,560 --> 00:19:37,090
provided by Gutenberg it's what we need

00:19:30,280 --> 00:19:37,780
to extend to create a block AJC thanks

00:19:37,090 --> 00:19:52,090
for coming

00:19:37,780 --> 00:19:56,380
it's 11:45 or you have a private test so

00:19:52,090 --> 00:19:59,380
if you so previously I we were using has

00:19:56,380 --> 00:20:01,900
attributes to be editable in the block

00:19:59,380 --> 00:20:05,680
the title the reveal and there was an ID

00:20:01,900 --> 00:20:10,480
I need this ID for for the front-end to

00:20:05,680 --> 00:20:13,390
be able to to toggle they they the

00:20:10,480 --> 00:20:16,060
drop-down because it's a CSS only

00:20:13,390 --> 00:20:18,250
drop-down it's not a Jess one I didn't

00:20:16,060 --> 00:20:20,740
want to in queue another file to make it

00:20:18,250 --> 00:20:24,160
come more complex and I don't know if

00:20:20,740 --> 00:20:27,070
you ever did a Google using only CSS but

00:20:24,160 --> 00:20:30,540
the technique is to use a checkbox and

00:20:27,070 --> 00:20:35,230
when the checkbox is check out and you

00:20:30,540 --> 00:20:39,510
display the you use a it's a it's a self

00:20:35,230 --> 00:20:42,430
self selector the semicolon checkers and

00:20:39,510 --> 00:20:46,360
you select the size link and you can

00:20:42,430 --> 00:20:49,780
display it but to do that you had to be

00:20:46,360 --> 00:20:54,340
in the same level so I need the ID to

00:20:49,780 --> 00:20:55,870
reference it so we set the ID and it's

00:20:54,340 --> 00:20:57,480
one of the properties that they and the

00:20:55,870 --> 00:21:00,910
component receives

00:20:57,480 --> 00:21:01,930
if if you create a neural function you

00:21:00,910 --> 00:21:04,000
cannot do this

00:21:01,930 --> 00:21:07,990
because the ID will change every time

00:21:04,000 --> 00:21:13,270
you use select to edit it anyone which a

00:21:07,990 --> 00:21:15,640
saver properly properly and since this

00:21:13,270 --> 00:21:19,720
is a class the class is initialized only

00:21:15,640 --> 00:21:24,340
once and the idea is set set once and

00:21:19,720 --> 00:21:26,260
forever that's the reason why I'm using

00:21:24,340 --> 00:21:30,550
this class and saving the ID in the

00:21:26,260 --> 00:21:33,210
constructor because obviously the

00:21:30,550 --> 00:21:37,930
constructor runs before any other

00:21:33,210 --> 00:21:43,420
component event or lifecycle so we set

00:21:37,930 --> 00:21:45,610
up to two methods in this class what

00:21:43,420 --> 00:21:49,060
these methods will do is to when

00:21:45,610 --> 00:21:51,640
whenever a user enter some text in the

00:21:49,060 --> 00:21:52,960
text boxes it will change the title it

00:21:51,640 --> 00:21:56,620
will update it in the attributes

00:21:52,960 --> 00:21:58,750
remember that the blocks are object

00:21:56,620 --> 00:22:02,500
three and they will have data attributes

00:21:58,750 --> 00:22:06,880
of that object the same for the for the

00:22:02,500 --> 00:22:09,220
answer and the add new fault

00:22:06,880 --> 00:22:11,800
is that we'll be using in the button to

00:22:09,220 --> 00:22:15,460
create a new a new block from within the

00:22:11,800 --> 00:22:19,060
the previous block and it uses in this

00:22:15,460 --> 00:22:22,180
API to insert blocks after you can also

00:22:19,060 --> 00:22:24,010
insert blocks before and if you see it

00:22:22,180 --> 00:22:26,800
will refer it just call this function

00:22:24,010 --> 00:22:28,930
create block and use the same ID so I

00:22:26,800 --> 00:22:31,780
will create the same block obviously you

00:22:28,930 --> 00:22:37,090
can add another ID and create whatever

00:22:31,780 --> 00:22:39,220
block you can think of and finally we'll

00:22:37,090 --> 00:22:42,760
get all the the properties that we need

00:22:39,220 --> 00:22:49,390
for the render function and we'll see

00:22:42,760 --> 00:22:52,720
how the UI looks like in the return so

00:22:49,390 --> 00:22:57,910
this is all the all the UI that will be

00:22:52,720 --> 00:23:00,490
rendered first we're using this

00:22:57,910 --> 00:23:02,770
component the rich text and the tag name

00:23:00,490 --> 00:23:07,120
is a label we'll see later when we see

00:23:02,770 --> 00:23:09,850
the CSS for the editor that Gutenberg

00:23:07,120 --> 00:23:12,400
will actually create a label tag it's

00:23:09,850 --> 00:23:15,850
not fake it with an ID tag or an input

00:23:12,400 --> 00:23:20,049
tag is is really a label type so

00:23:15,850 --> 00:23:22,360
can use it for the styling purposes we

00:23:20,049 --> 00:23:24,730
set a placeholder so user know what to

00:23:22,360 --> 00:23:26,320
do when they see their because if you

00:23:24,730 --> 00:23:30,370
don't see the placeholder they will just

00:23:26,320 --> 00:23:33,010
insert a block that is purely white they

00:23:30,370 --> 00:23:36,450
will be lost and or the value of that

00:23:33,010 --> 00:23:39,549
will be they attribute the title and

00:23:36,450 --> 00:23:42,460
whenever that the component changes the

00:23:39,549 --> 00:23:45,250
user enter some text it will update and

00:23:42,460 --> 00:23:48,850
the attribute on the object and that

00:23:45,250 --> 00:23:51,490
will be always displayed if we see the

00:23:48,850 --> 00:23:53,830
the next section the this section will

00:23:51,490 --> 00:23:56,230
be only displayed when the component is

00:23:53,830 --> 00:24:00,010
selected when the block is selected it

00:23:56,230 --> 00:24:03,429
will display a second text box to enter

00:24:00,010 --> 00:24:08,200
the answer or text to rebuild and the

00:24:03,429 --> 00:24:12,870
button to add a new new block in the

00:24:08,200 --> 00:24:15,100
class name I also added a edit class

00:24:12,870 --> 00:24:17,049
whenever the the block is selected

00:24:15,100 --> 00:24:19,480
because I don't want to rely on there

00:24:17,049 --> 00:24:22,090
there are some classes in the in go

00:24:19,480 --> 00:24:25,000
chamber like is selected is typing but

00:24:22,090 --> 00:24:28,630
since this changing all the time I don't

00:24:25,000 --> 00:24:31,590
want to rely on them for now once once

00:24:28,630 --> 00:24:34,419
Gutenberg is final release it won't be

00:24:31,590 --> 00:24:37,299
it will be backwards compatible right

00:24:34,419 --> 00:24:42,400
now it's not so they're changing and

00:24:37,299 --> 00:24:45,730
breaking all the time finally once we

00:24:42,400 --> 00:24:49,330
have all these all this ready we export

00:24:45,730 --> 00:24:52,780
the class and we can use it we can

00:24:49,330 --> 00:24:56,909
import it from the the new file and use

00:24:52,780 --> 00:25:00,429
it when we are registered or our block

00:24:56,909 --> 00:25:04,000
before seeing how this works in the how

00:25:00,429 --> 00:25:07,150
the UI works let's see two other

00:25:04,000 --> 00:25:09,700
interesting properties in that we can

00:25:07,150 --> 00:25:13,419
use when registering the block keywords

00:25:09,700 --> 00:25:17,710
helps discover in a block so if you were

00:25:13,419 --> 00:25:21,010
registering a new block and you your

00:25:17,710 --> 00:25:23,740
users are not a word about it maybe they

00:25:21,010 --> 00:25:25,790
will find it while typing in the search

00:25:23,740 --> 00:25:28,940
box

00:25:25,790 --> 00:25:32,870
so you can add some keywords to make it

00:25:28,940 --> 00:25:40,400
discoverable it's limited to three so

00:25:32,870 --> 00:25:43,130
choose wisely this is how it works so

00:25:40,400 --> 00:25:45,620
that the block name is false but you can

00:25:43,130 --> 00:25:48,860
type some of the keywords and it will be

00:25:45,620 --> 00:25:54,350
displayed for that I think there is some

00:25:48,860 --> 00:25:58,450
work around the type in a category and

00:25:54,350 --> 00:25:58,450
getting them in the blocks in a category

00:25:59,140 --> 00:26:07,310
and the other interesting property is

00:26:02,630 --> 00:26:09,860
the this anchor the supports it's a it's

00:26:07,310 --> 00:26:13,010
an object that has many properties one

00:26:09,860 --> 00:26:17,990
of them is the anchor what this does is

00:26:13,010 --> 00:26:24,200
when you select the block you get this

00:26:17,990 --> 00:26:26,770
new field in the sidebar that you can

00:26:24,200 --> 00:26:26,770
link to it

00:26:31,750 --> 00:26:37,140
so when you're in front end you can

00:26:33,640 --> 00:26:41,110
click on it and jump to the component

00:26:37,140 --> 00:26:43,450
it's pretty pretty nice for a table of

00:26:41,110 --> 00:26:47,760
content or going to different sections

00:26:43,450 --> 00:26:52,590
of a page it's pretty nice

00:26:47,760 --> 00:26:55,480
finally we need to add some styling and

00:26:52,590 --> 00:26:57,970
if you remember before we will register

00:26:55,480 --> 00:27:02,850
two style sheets one for the front and

00:26:57,970 --> 00:27:05,380
one for the editor and the different and

00:27:02,850 --> 00:27:08,740
different and a style sheet is

00:27:05,380 --> 00:27:11,500
Merilee styling some things doesn't do

00:27:08,740 --> 00:27:13,419
much the interesting one is like I

00:27:11,500 --> 00:27:16,960
mentioned before that we'll be using

00:27:13,419 --> 00:27:19,570
real in the same tags that we have in

00:27:16,960 --> 00:27:23,230
the front and the same tanks will be in

00:27:19,570 --> 00:27:26,370
Guttenberg in the in the UI and that's

00:27:23,230 --> 00:27:31,299
pretty nice because we kind of style a I

00:27:26,370 --> 00:27:34,179
actually use this as an example but if

00:27:31,299 --> 00:27:36,640
you choose your selectors carefully you

00:27:34,179 --> 00:27:38,860
can only use this style sheet and in

00:27:36,640 --> 00:27:42,760
queue the same style sheet in the UI and

00:27:38,860 --> 00:27:46,750
in the front end but for simple purposes

00:27:42,760 --> 00:27:50,710
saying I did this so finally let's use

00:27:46,750 --> 00:27:56,710
the block will rely on another property

00:27:50,710 --> 00:28:01,960
of NPM we're gonna build or or block use

00:27:56,710 --> 00:28:07,240
some webpack NPM run build and they say

00:28:01,960 --> 00:28:11,890
SS build if you say we'll grab the edit

00:28:07,240 --> 00:28:14,409
J's file that has the the the JavaScript

00:28:11,890 --> 00:28:19,419
class and the blocks is and we'll build

00:28:14,409 --> 00:28:22,020
it all together so this is the final UI

00:28:19,419 --> 00:28:22,020
of the block

00:28:24,010 --> 00:28:29,790
notice that the the Chevron changes when

00:28:27,610 --> 00:28:29,790
it

00:28:46,180 --> 00:28:51,040
and that's the that's the button no

00:28:48,730 --> 00:28:54,070
these are the the previous question and

00:28:51,040 --> 00:29:00,520
the text of reveal was hidden and the

00:28:54,070 --> 00:29:02,260
chevron changes all this makes a very

00:29:00,520 --> 00:29:07,410
nice experience for the users because

00:29:02,260 --> 00:29:07,410
they are editing what they will be seen

00:29:12,210 --> 00:29:18,550
so that's pretty much it again the links

00:29:16,720 --> 00:29:21,760
are for general information the

00:29:18,550 --> 00:29:26,470
documentation and the repo is right

00:29:21,760 --> 00:29:29,440
there github I will be tweeting the the

00:29:26,470 --> 00:29:32,800
slides afterwards I need to export the

00:29:29,440 --> 00:29:37,740
PDF and the finish I forgot my password

00:29:32,800 --> 00:29:43,450
for speaker deck and it's reset it so

00:29:37,740 --> 00:29:46,060
one final one final request this time is

00:29:43,450 --> 00:29:49,360
that a Gutenberg is under heavy

00:29:46,060 --> 00:29:54,460
development and we need every one of you

00:29:49,360 --> 00:29:58,420
to go on help and submit bugs whatever

00:29:54,460 --> 00:30:01,420
test the things anything that you can do

00:29:58,420 --> 00:30:04,030
will will help to make a Gutenberg a

00:30:01,420 --> 00:30:08,450
better experience for everyone and

00:30:04,030 --> 00:30:15,390
that's it thank you

00:30:08,450 --> 00:30:20,160
[Applause]

00:30:15,390 --> 00:30:20,160
so if you have any questions yeah

00:30:39,830 --> 00:30:43,690
so you want to read that kooky

00:30:46,940 --> 00:30:55,170
in a front end that would be something

00:30:52,559 --> 00:30:57,059
that you can do in the in the UI I mean

00:30:55,170 --> 00:30:59,160
it's better if you do energy in the UI

00:30:57,059 --> 00:31:02,430
because if the user and the user will

00:30:59,160 --> 00:31:08,300
see their what is going on and they will

00:31:02,430 --> 00:31:08,300
not have surprises later is that seven

00:31:20,530 --> 00:31:26,470
yeah oh no yeah you can do that me from

00:31:23,680 --> 00:31:30,040
10 - you can in cue a separate file for

00:31:26,470 --> 00:31:33,670
a front-end is file and do it in there

00:31:30,040 --> 00:31:36,480
in the front end yeah I mean you can do

00:31:33,670 --> 00:31:36,480
it both ways

00:31:59,370 --> 00:32:02,370
Elementor

00:32:02,900 --> 00:32:08,800
it's funny because Elementor there's a

00:32:06,500 --> 00:32:12,440
there's a controversy about Elementor

00:32:08,800 --> 00:32:16,070
the free version in war pisode org is

00:32:12,440 --> 00:32:18,680
GPL but it doesn't do much as far as I

00:32:16,070 --> 00:32:21,470
know and they have a paid version that

00:32:18,680 --> 00:32:23,930
is not GPL and it has been brought to

00:32:21,470 --> 00:32:25,940
their attention a few times during the

00:32:23,930 --> 00:32:28,490
last year and they are not changing the

00:32:25,940 --> 00:32:31,790
license so of course they won't go with

00:32:28,490 --> 00:32:35,630
Elementor besides a good chamber has

00:32:31,790 --> 00:32:47,180
been under development for Ramos what

00:32:35,630 --> 00:32:50,660
two years yeah yeah Gutenberg is is

00:32:47,180 --> 00:32:54,670
coming from wordpress.org all the core

00:32:50,660 --> 00:32:58,760
team that is committed to make the

00:32:54,670 --> 00:33:01,030
WordPress to keep it open and free for

00:32:58,760 --> 00:33:01,030
everyone

00:33:24,810 --> 00:33:27,710
let's see

00:33:42,460 --> 00:33:47,770
if you give me

00:33:44,420 --> 00:33:47,770
one second

00:33:50,530 --> 00:33:57,690
ah you're not saying this

00:33:58,940 --> 00:34:01,540
yeah

00:34:10,600 --> 00:34:17,539
[Music]

00:34:18,979 --> 00:34:21,979
and

00:34:27,140 --> 00:34:33,440
what I have it was this one

00:34:42,860 --> 00:34:47,760
okay

00:34:44,550 --> 00:34:50,879
I cannot close there that's however I

00:34:47,760 --> 00:34:59,910
will close this one this is what you

00:34:50,879 --> 00:35:02,090
wanted to see right yeah no wait it's

00:34:59,910 --> 00:35:02,090
not

00:35:08,050 --> 00:35:21,790
oh this one yeah yeah this is this is

00:35:15,340 --> 00:35:25,450
the one so yeah this is Taurus and HTML

00:35:21,790 --> 00:35:29,080
and if you notice the the attributes are

00:35:25,450 --> 00:35:31,750
set to a the element level for example

00:35:29,080 --> 00:35:33,760
the ID that doesn't rely on that was set

00:35:31,750 --> 00:35:36,970
in the constructor of the class is set

00:35:33,760 --> 00:35:40,590
to the component level but the other

00:35:36,970 --> 00:35:45,090
ones are said to are inserted within the

00:35:40,590 --> 00:35:45,090
in the tags that they are using

00:35:58,190 --> 00:36:04,299
from the Gutenberg team or from a

00:36:01,640 --> 00:36:04,299
developer perspective

00:36:10,770 --> 00:36:16,290
you can migrate the block in the

00:36:14,349 --> 00:36:20,020
documentation

00:36:16,290 --> 00:36:22,660
there is a there is a section dedicated

00:36:20,020 --> 00:36:25,510
to but because yeah that was a concern

00:36:22,660 --> 00:36:30,010
that whenever a block changes the the

00:36:25,510 --> 00:36:32,050
markup it will be rendering invalid if

00:36:30,010 --> 00:36:35,260
if a new version doesn't accept that

00:36:32,050 --> 00:36:38,680
that markup so there are paths to

00:36:35,260 --> 00:36:42,430
migrate that and there's even a new

00:36:38,680 --> 00:36:45,190
thing that whenever you inserted a block

00:36:42,430 --> 00:36:47,560
like this I knew later disable the

00:36:45,190 --> 00:36:52,090
plug-in that inserted it you will get a

00:36:47,560 --> 00:36:54,190
message saying that that that that block

00:36:52,090 --> 00:36:57,760
was inserted by a certain plugin that is

00:36:54,190 --> 00:37:01,119
not longer available so you will know

00:36:57,760 --> 00:37:03,790
what is going on and you can fix that

00:37:01,119 --> 00:37:08,040
but yeah there's a there's a way to

00:37:03,790 --> 00:37:08,040
migrate all markup to new market

00:37:18,300 --> 00:37:23,760
yes yes

00:37:31,109 --> 00:37:38,789
I'm yeah like I said in the talk you can

00:37:35,670 --> 00:37:42,359
just use a PHP file for to initialize

00:37:38,789 --> 00:37:45,329
the plugin and write in Jaya's without

00:37:42,359 --> 00:37:47,009
using the babel you can write all the

00:37:45,329 --> 00:37:50,069
other functions because it will be

00:37:47,009 --> 00:37:52,640
longer because you need to I'll go back

00:37:50,069 --> 00:37:52,640
to the slides

00:38:06,580 --> 00:38:09,630
where are you

00:38:11,680 --> 00:38:22,680
ya know so if you don't want to use any

00:38:20,410 --> 00:38:26,950
of that you will have to write this

00:38:22,680 --> 00:38:30,760
which is not not that weird you just

00:38:26,950 --> 00:38:33,820
created element you set the tag the

00:38:30,760 --> 00:38:39,040
class and a text that will be within

00:38:33,820 --> 00:38:39,670
there within the P tags you can do it

00:38:39,040 --> 00:38:43,120
without it

00:38:39,670 --> 00:38:45,370
of course it might be not in minor scale

00:38:43,120 --> 00:38:51,400
well if you eventually end up with a

00:38:45,370 --> 00:38:54,970
file that is super huge honestly yes

00:38:51,400 --> 00:38:58,540
next with weather so but yeah it's

00:38:54,970 --> 00:39:01,080
possible you just need to write

00:38:58,540 --> 00:39:01,080
JavaScript

00:39:05,580 --> 00:39:09,320
I have it right here

00:39:19,130 --> 00:39:26,799

YouTube URL: https://www.youtube.com/watch?v=kRo1b9gPfRE


