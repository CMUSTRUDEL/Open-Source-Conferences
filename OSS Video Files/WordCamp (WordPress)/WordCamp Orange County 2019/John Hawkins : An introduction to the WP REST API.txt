Title: John Hawkins : An introduction to the WP REST API
Publication date: 2019-05-14
Playlist: WordCamp Orange County 2019
Description: 
	In this presentation, I’m going to give a brief introduction to the WP REST API, how to create custom end points, and some tools you can use to test your API as you’re developing it!

WPTV link: https://wordpress.tv/2019/05/11/john-hawkins-an-introduction-to-the-wp-rest-api/
Captions: 
	00:00:04,540 --> 00:00:10,090
John Hawkins John has been building

00:00:08,559 --> 00:00:11,019
things on the internet for over two

00:00:10,090 --> 00:00:14,020
decades

00:00:11,019 --> 00:00:16,330
he found WordPress in the summer of 2003

00:00:14,020 --> 00:00:18,880
and has been fully immersed in it ever

00:00:16,330 --> 00:00:21,310
since John was the organizer of the

00:00:18,880 --> 00:00:24,160
first work camp conference in Las Vegas

00:00:21,310 --> 00:00:27,840
in 2009 and hasn't been and has been

00:00:24,160 --> 00:00:31,390
involved with it almost every year since

00:00:27,840 --> 00:00:33,430
he founded and organizes the monthly Las

00:00:31,390 --> 00:00:35,829
Vegas WordPress meetup where he's a

00:00:33,430 --> 00:00:37,210
frequent presenter and has traveled the

00:00:35,829 --> 00:00:40,229
country speaking at WordPress

00:00:37,210 --> 00:00:47,260
conferences from coast to coast

00:00:40,229 --> 00:00:49,120
take it away John good morning all right

00:00:47,260 --> 00:00:50,530
I will not be offended if anybody gets

00:00:49,120 --> 00:00:53,350
up and leaves at any point during this

00:00:50,530 --> 00:00:56,319
you're free to go so on the third

00:00:53,350 --> 00:01:00,909
Wednesday of each month in Vegas I

00:00:56,319 --> 00:01:03,489
organized the WordPress Vegas Meetup we

00:01:00,909 --> 00:01:06,400
are always looking for new presenters

00:01:03,489 --> 00:01:09,220
and so I always tell people you've got

00:01:06,400 --> 00:01:10,780
an idea we want to hear you come up and

00:01:09,220 --> 00:01:12,970
do like a 15 minute presentation though

00:01:10,780 --> 00:01:16,030
we always get the exact same response

00:01:12,970 --> 00:01:18,280
oh I'm no expert I can't go do that and

00:01:16,030 --> 00:01:20,470
we're not looking for experts like the

00:01:18,280 --> 00:01:22,960
whole idea behind speaking at a

00:01:20,470 --> 00:01:25,530
WordPress meetup is that thing that

00:01:22,960 --> 00:01:28,000
you've been working on trying to solve

00:01:25,530 --> 00:01:29,950
once you solve it there's still somebody

00:01:28,000 --> 00:01:32,020
else who's still trying to get that

00:01:29,950 --> 00:01:34,390
thing solved so you getting up on stage

00:01:32,020 --> 00:01:37,660
and talking about it whether you're an

00:01:34,390 --> 00:01:39,190
expert or not is a great thing you where

00:01:37,660 --> 00:01:43,060
actually you're going to help somebody I

00:01:39,190 --> 00:01:45,580
promise you today I'm gonna be talking

00:01:43,060 --> 00:01:49,750
about just give you a little bit of an

00:01:45,580 --> 00:01:52,900
introduction to the WP REST API hello my

00:01:49,750 --> 00:01:54,550
name is John and I am no expert so but I

00:01:52,900 --> 00:01:58,450
did stay at a Holiday Inn Express last

00:01:54,550 --> 00:02:02,140
night so that's not going for me this

00:01:58,450 --> 00:02:03,310
right here is a talk where I'm just

00:02:02,140 --> 00:02:05,590
going to tell you what we're gonna cover

00:02:03,310 --> 00:02:08,019
today we're going to talk about what the

00:02:05,590 --> 00:02:10,030
heck the race REST API is anybody ever

00:02:08,019 --> 00:02:13,180
anybody have no idea what I'm talking

00:02:10,030 --> 00:02:16,260
about when I say the REST API awesome my

00:02:13,180 --> 00:02:16,260
sister over there that's great

00:02:17,030 --> 00:02:20,580
so we're gonna talk about the rest API

00:02:19,080 --> 00:02:22,110
so I'll tell you about a bit about what

00:02:20,580 --> 00:02:24,569
it is I'm going to tell you about how I

00:02:22,110 --> 00:02:26,670
got into it and the the problem that I

00:02:24,569 --> 00:02:31,590
was trying to solve that kind of forced

00:02:26,670 --> 00:02:32,880
me to learn about the REST API and for

00:02:31,590 --> 00:02:35,880
me when I'm trying to figure something

00:02:32,880 --> 00:02:36,870
out it's always a really like you need

00:02:35,880 --> 00:02:39,860
to have kind of like a real-world

00:02:36,870 --> 00:02:43,530
problem to solve so I'm gonna talk about

00:02:39,860 --> 00:02:45,390
what I would have done previously before

00:02:43,530 --> 00:02:47,100
using the REST API how I would have

00:02:45,390 --> 00:02:49,560
tried to have solved this issue which I

00:02:47,100 --> 00:02:50,880
did try to do previous to using it how I

00:02:49,560 --> 00:02:54,989
would have done it before using the REST

00:02:50,880 --> 00:02:57,750
API then how I use the REST API for

00:02:54,989 --> 00:03:00,360
 profits and at the end I'll talk

00:02:57,750 --> 00:03:03,870
about some tools that I used that that

00:03:00,360 --> 00:03:05,190
really were basically the difference

00:03:03,870 --> 00:03:08,010
between actually making this thing work

00:03:05,190 --> 00:03:10,349
and not within a reasonable amount of

00:03:08,010 --> 00:03:11,250
time and then because I'm not going to

00:03:10,349 --> 00:03:13,530
be able to teach you an entire

00:03:11,250 --> 00:03:16,290
presentation I'm not going to teach you

00:03:13,530 --> 00:03:17,790
the REST API in 45 minutes I'll just

00:03:16,290 --> 00:03:21,090
show you some other places that you can

00:03:17,790 --> 00:03:25,530
go and check out so what is the word

00:03:21,090 --> 00:03:29,549
press rest api so obvious let you read

00:03:25,530 --> 00:03:32,609
that so the rest api is basically a way

00:03:29,549 --> 00:03:34,260
of passing data back and forth into

00:03:32,609 --> 00:03:37,019
wordpress and then having a kind of spit

00:03:34,260 --> 00:03:39,690
out data it enables developers to create

00:03:37,019 --> 00:03:41,670
and read an update WordPress content

00:03:39,690 --> 00:03:43,170
from client-side JavaScript which I

00:03:41,670 --> 00:03:45,870
don't write JavaScript by the way and

00:03:43,170 --> 00:03:48,209
from external applications even those

00:03:45,870 --> 00:03:51,180
written in languages beyond PHP I'm a

00:03:48,209 --> 00:03:54,450
PHP developer so I typically would build

00:03:51,180 --> 00:03:55,889
everything that I do in PHP javascript

00:03:54,450 --> 00:03:58,560
is the thing that I keep saying I'm

00:03:55,889 --> 00:04:02,850
gonna learn that's on my list one day

00:03:58,560 --> 00:04:05,130
one day so when you're talking about the

00:04:02,850 --> 00:04:08,760
REST API there are these things called

00:04:05,130 --> 00:04:11,130
methods for me these are the these are

00:04:08,760 --> 00:04:14,760
the things that you can do with the rest

00:04:11,130 --> 00:04:17,100
api the rest api is about you can get

00:04:14,760 --> 00:04:19,139
data so you can retrieve data from a

00:04:17,100 --> 00:04:21,209
server you can post data so if you

00:04:19,139 --> 00:04:23,400
wanted to send the data to a server you

00:04:21,209 --> 00:04:25,169
can put data which is like changing or

00:04:23,400 --> 00:04:28,169
updating data on the server so if you

00:04:25,169 --> 00:04:28,840
wanted to make changes to the title of a

00:04:28,169 --> 00:04:31,540
post

00:04:28,840 --> 00:04:33,580
or two if you've got to see a custom

00:04:31,540 --> 00:04:35,290
post type and you want to do inject some

00:04:33,580 --> 00:04:38,020
new data you could do that through a put

00:04:35,290 --> 00:04:39,550
or you can delete so I no longer need

00:04:38,020 --> 00:04:43,510
that item I'm gonna go in there and I'm

00:04:39,550 --> 00:04:46,180
gonna just delete it so there are some

00:04:43,510 --> 00:04:49,570
other rest api terms that if you are

00:04:46,180 --> 00:04:52,240
going to really get into digging in and

00:04:49,570 --> 00:04:54,040
learning the rest api these are some

00:04:52,240 --> 00:04:56,440
other terms that you're gonna run into

00:04:54,040 --> 00:04:58,389
routes and endpoints and requests and

00:04:56,440 --> 00:04:59,620
responses and schema and controller

00:04:58,389 --> 00:05:01,240
classes and i'm going to talk about

00:04:59,620 --> 00:05:03,340
maybe one or two of those this entire

00:05:01,240 --> 00:05:05,770
session and but these are some other

00:05:03,340 --> 00:05:08,560
ones that you're going to run into this

00:05:05,770 --> 00:05:10,240
is probably a good point of just getting

00:05:08,560 --> 00:05:12,820
a so when you're going and looking

00:05:10,240 --> 00:05:15,280
things up these are gonna be some terms

00:05:12,820 --> 00:05:16,720
that you're gonna run into so let's talk

00:05:15,280 --> 00:05:19,479
about the problem that i was trying to

00:05:16,720 --> 00:05:20,950
solve I had a client and it always

00:05:19,479 --> 00:05:24,190
starts like that right I had this client

00:05:20,950 --> 00:05:27,760
not this crazy idea so the central

00:05:24,190 --> 00:05:31,060
website was built in WordPress

00:05:27,760 --> 00:05:33,400
data was gonna be being posted in from a

00:05:31,060 --> 00:05:35,020
third-party site was gonna collect some

00:05:33,400 --> 00:05:37,419
of that data I was gonna process some of

00:05:35,020 --> 00:05:40,120
the data data then make some decisions

00:05:37,419 --> 00:05:43,210
based on the data that came in and then

00:05:40,120 --> 00:05:46,030
I was going to post data out to a third

00:05:43,210 --> 00:05:48,520
party location get some data back blah

00:05:46,030 --> 00:05:50,530
blah blah and then display the

00:05:48,520 --> 00:05:52,630
appropriate information to the client it

00:05:50,530 --> 00:05:54,849
art to the to the website visitor at the

00:05:52,630 --> 00:05:57,340
end and it looked kind of like this so

00:05:54,849 --> 00:05:59,080
the yellow block the yellow box up there

00:05:57,340 --> 00:06:01,419
was somebody else posting data in to us

00:05:59,080 --> 00:06:04,570
all those blue boxes in there are

00:06:01,419 --> 00:06:07,330
WordPress either storing data making

00:06:04,570 --> 00:06:09,250
decision and then doing something with

00:06:07,330 --> 00:06:11,560
the data and then that orange block is

00:06:09,250 --> 00:06:15,520
us kind of posting out to another spot

00:06:11,560 --> 00:06:18,460
blah blah blah if this had been it if

00:06:15,520 --> 00:06:20,200
this had been the entire project I still

00:06:18,460 --> 00:06:22,360
wouldn't needed the rest API this was

00:06:20,200 --> 00:06:25,120
great I was I had all of this we had it

00:06:22,360 --> 00:06:26,349
all built and then of course the client

00:06:25,120 --> 00:06:28,900
says oh by the way there's this one

00:06:26,349 --> 00:06:31,840
other little thing there's always that

00:06:28,900 --> 00:06:34,479
one other little thing this process was

00:06:31,840 --> 00:06:36,430
they were taking leads leaves were kind

00:06:34,479 --> 00:06:38,740
of coming in and they were trying to

00:06:36,430 --> 00:06:40,930
qualify those leads and then they had a

00:06:38,740 --> 00:06:42,550
call center and so what the call center

00:06:40,930 --> 00:06:43,070
was doing is we would send the data and

00:06:42,550 --> 00:06:45,860
it would go into

00:06:43,070 --> 00:06:49,940
call center queue and then the call

00:06:45,860 --> 00:06:52,280
center would do this where they would

00:06:49,940 --> 00:06:53,630
then call and get the person on the

00:06:52,280 --> 00:06:56,480
phone and as soon as they got that

00:06:53,630 --> 00:06:59,690
person on the phone they needed to get

00:06:56,480 --> 00:07:01,160
real-time data about who the person was

00:06:59,690 --> 00:07:03,800
that they were going to be talking to

00:07:01,160 --> 00:07:06,200
and none of that who the buyer was and

00:07:03,800 --> 00:07:08,930
all of the the buyer information all had

00:07:06,200 --> 00:07:10,520
to happen in real time there wasn't it

00:07:08,930 --> 00:07:12,080
wasn't like I could have done it all at

00:07:10,520 --> 00:07:14,720
the beginning and then just thrown it

00:07:12,080 --> 00:07:17,030
all out of initially no they couldn't

00:07:14,720 --> 00:07:19,940
they couldn't know any information about

00:07:17,030 --> 00:07:20,750
who the buyer was until it was happening

00:07:19,940 --> 00:07:27,230
in real time

00:07:20,750 --> 00:07:29,390
so so that was fun okay I'm like that's

00:07:27,230 --> 00:07:31,820
fantastic I have no idea how to do what

00:07:29,390 --> 00:07:35,630
you're asking me to do let's figure it

00:07:31,820 --> 00:07:37,220
out so so talk about a little bit about

00:07:35,630 --> 00:07:40,580
how I would normally solve that issue

00:07:37,220 --> 00:07:43,970
and so for me call it the impostor

00:07:40,580 --> 00:07:46,340
syndrome but I've always kind of

00:07:43,970 --> 00:07:48,170
considered things like the REST API like

00:07:46,340 --> 00:07:51,290
that's for like real developers I just

00:07:48,170 --> 00:07:53,890
kind of tinker around with PHP a little

00:07:51,290 --> 00:07:56,900
bit and it looks like this when I type

00:07:53,890 --> 00:07:59,870
so I would always typically fall back to

00:07:56,900 --> 00:08:01,010
methods that I'm familiar with and so

00:07:59,870 --> 00:08:03,860
I'm going to show you a couple of those

00:08:01,010 --> 00:08:05,960
options and the first one is well I'm

00:08:03,860 --> 00:08:08,870
gonna build a short code short codes are

00:08:05,960 --> 00:08:10,340
fantastic they are super powerful and

00:08:08,870 --> 00:08:12,170
you can do a lot of stuff one of the

00:08:10,340 --> 00:08:15,320
things that they do very very well is

00:08:12,170 --> 00:08:17,420
hide chunks of code from your clients

00:08:15,320 --> 00:08:18,740
and don't let them screw things up when

00:08:17,420 --> 00:08:20,900
they're in the editor which is a lot of

00:08:18,740 --> 00:08:29,690
fun so if I was going to do something

00:08:20,900 --> 00:08:31,280
with the anybody built a short code this

00:08:29,690 --> 00:08:32,780
is a really simple process right I'm

00:08:31,280 --> 00:08:35,990
gonna create a short code and it's going

00:08:32,780 --> 00:08:38,930
to be called process the data and once

00:08:35,990 --> 00:08:40,940
if if if a page loads and that short

00:08:38,930 --> 00:08:44,600
short code is on there it's going to run

00:08:40,940 --> 00:08:46,820
the this particular my short code

00:08:44,600 --> 00:08:47,750
function and then in there all I'm going

00:08:46,820 --> 00:08:49,310
to do is I'm going to do something

00:08:47,750 --> 00:08:53,050
really simple we're gonna check to make

00:08:49,310 --> 00:08:54,610
sure that I'll make the slides available

00:08:53,050 --> 00:08:58,090
do that you can try to figure out let

00:08:54,610 --> 00:09:03,190
that md5 hashes it actually says you're

00:08:58,090 --> 00:09:06,100
your mom okay

00:09:03,190 --> 00:09:10,870
and I don't know why you need something

00:09:06,100 --> 00:09:12,670
and I'm like so in here this is like a

00:09:10,870 --> 00:09:14,920
really simple way of kind of going about

00:09:12,670 --> 00:09:16,690
it so I'm just checking to see if

00:09:14,920 --> 00:09:20,080
they've sent me the proper secret code

00:09:16,690 --> 00:09:21,910
and if they have did they send me for an

00:09:20,080 --> 00:09:23,110
ask or are they sending me an update

00:09:21,910 --> 00:09:25,450
because there's kind of two different

00:09:23,110 --> 00:09:26,920
processes they needed to do and based on

00:09:25,450 --> 00:09:27,550
that I'm gonna just run one of two

00:09:26,920 --> 00:09:32,140
functions

00:09:27,550 --> 00:09:34,570
piece of cake no problem you throw it up

00:09:32,140 --> 00:09:38,410
on to you create a wordpress page you

00:09:34,570 --> 00:09:40,630
throw your data in there and it just is

00:09:38,410 --> 00:09:43,990
anytime somebody goes to the processed

00:09:40,630 --> 00:09:46,360
data page it's gonna run my script and

00:09:43,990 --> 00:09:50,440
try to then do something with it

00:09:46,360 --> 00:09:53,470
great there's challenges the first one

00:09:50,440 --> 00:09:56,230
is a little bit of a silly challenge but

00:09:53,470 --> 00:09:59,290
it's for me it's those nagging things

00:09:56,230 --> 00:10:01,660
that kind of bother me about ways that

00:09:59,290 --> 00:10:03,790
we kind of solve things and it's as

00:10:01,660 --> 00:10:07,330
simple as this that processed data is

00:10:03,790 --> 00:10:10,390
now a page that exists on this person's

00:10:07,330 --> 00:10:14,050
website so if they don't know any better

00:10:10,390 --> 00:10:16,330
that page can get indexed and now that

00:10:14,050 --> 00:10:17,620
can just be a page that gets people are

00:10:16,330 --> 00:10:20,470
like oh I'm gonna click on that as a

00:10:17,620 --> 00:10:22,090
search result they're gonna get nothing

00:10:20,470 --> 00:10:24,280
or they're gonna get like some weird

00:10:22,090 --> 00:10:26,620
error so obviously there's ways around

00:10:24,280 --> 00:10:29,080
it but it's just it's one more thing and

00:10:26,620 --> 00:10:30,610
not only that now you've got if a

00:10:29,080 --> 00:10:33,880
client's in there and they go what does

00:10:30,610 --> 00:10:36,910
process data do doli Oh process data

00:10:33,880 --> 00:10:38,730
doesn't do anything now thanks pal but

00:10:36,910 --> 00:10:42,400
yeah so it's just kind of a silly one

00:10:38,730 --> 00:10:45,550
the bigger problem with the with it was

00:10:42,400 --> 00:10:48,040
the it's you know a short code is mainly

00:10:45,550 --> 00:10:49,870
used for yeah I can process data behind

00:10:48,040 --> 00:10:51,630
the scenes but the idea is that it's

00:10:49,870 --> 00:10:55,960
going to then display some sort of

00:10:51,630 --> 00:10:57,640
response on the screen which obviously

00:10:55,960 --> 00:10:59,620
for my call center that wasn't really

00:10:57,640 --> 00:11:01,180
gonna be helpful because they they

00:10:59,620 --> 00:11:02,710
didn't need to see it they need to do

00:11:01,180 --> 00:11:05,350
get that data and bringing that data

00:11:02,710 --> 00:11:07,410
back into their system so that they can

00:11:05,350 --> 00:11:09,459
actually do something with it so

00:11:07,410 --> 00:11:11,560
as easy as that would have been

00:11:09,459 --> 00:11:12,100
shortcodes we're kind of out of the

00:11:11,560 --> 00:11:15,310
question

00:11:12,100 --> 00:11:16,899
so option two I am sure that there's

00:11:15,310 --> 00:11:18,490
actually a technical term for what I'm

00:11:16,899 --> 00:11:20,800
about to show you but I've always just

00:11:18,490 --> 00:11:22,959
called it the listener so what is the

00:11:20,800 --> 00:11:25,930
listener the pollution er is basically

00:11:22,959 --> 00:11:27,760
it looks a lot like the code from the

00:11:25,930 --> 00:11:29,980
short code the only difference is I've

00:11:27,760 --> 00:11:33,850
kind of created this as an action that

00:11:29,980 --> 00:11:37,180
is hooked to the init function inside of

00:11:33,850 --> 00:11:39,459
WordPress which super simple

00:11:37,180 --> 00:11:42,370
anytime WordPress goes to load it hits

00:11:39,459 --> 00:11:44,500
that in it area and it says great as

00:11:42,370 --> 00:11:47,440
soon as an it happens I'm going to go

00:11:44,500 --> 00:11:50,500
and process this data the problems with

00:11:47,440 --> 00:11:52,660
this are this is going the Annette runs

00:11:50,500 --> 00:11:55,149
on every page load whether it's

00:11:52,660 --> 00:11:58,600
front-end or back-end obviously I could

00:11:55,149 --> 00:12:00,310
have probably found a a different hook

00:11:58,600 --> 00:12:01,810
to connected to it didn't have to be on

00:12:00,310 --> 00:12:04,060
in it it could be on something different

00:12:01,810 --> 00:12:07,060
but still you kind of run into that same

00:12:04,060 --> 00:12:10,089
basic problem which is it's going to run

00:12:07,060 --> 00:12:13,380
all the time on a certain set of pages

00:12:10,089 --> 00:12:17,709
and since I'm looking for posted data

00:12:13,380 --> 00:12:19,660
that means if somebody is going to fill

00:12:17,709 --> 00:12:22,270
out a contact form or fill out any sort

00:12:19,660 --> 00:12:25,209
of form on your website this process was

00:12:22,270 --> 00:12:28,420
going to then run and try to process

00:12:25,209 --> 00:12:31,360
data and not that it's the end of the

00:12:28,420 --> 00:12:33,160
world but you know it's just one more

00:12:31,360 --> 00:12:36,300
thing and it's not clean and there there

00:12:33,160 --> 00:12:39,880
should be a different way there was

00:12:36,300 --> 00:12:42,730
we'll talk about that and also by the

00:12:39,880 --> 00:12:45,610
way that the biggest problem with this

00:12:42,730 --> 00:12:48,220
one would have been that with this one

00:12:45,610 --> 00:12:53,529
or the shortcode really is I would have

00:12:48,220 --> 00:12:56,140
needed to build my own my notes are like

00:12:53,529 --> 00:12:58,660
on the next screen so the challenges the

00:12:56,140 --> 00:13:01,420
the the biggest problem was I would have

00:12:58,660 --> 00:13:03,370
needed to design and build a way of

00:13:01,420 --> 00:13:06,760
packaging up that data and then

00:13:03,370 --> 00:13:10,870
delivering it back to the back to the

00:13:06,760 --> 00:13:12,699
call center and that's a pain it's a

00:13:10,870 --> 00:13:14,649
pain that it was it was gonna be a lot

00:13:12,699 --> 00:13:16,810
of extra code that I would have had to

00:13:14,649 --> 00:13:18,520
have written and maintained and if they

00:13:16,810 --> 00:13:19,350
ever changed anything I would be the one

00:13:18,520 --> 00:13:22,890
who had to kind of go

00:13:19,350 --> 00:13:25,260
and do that so both of my kind of

00:13:22,890 --> 00:13:27,060
previous here's how I would do it we're

00:13:25,260 --> 00:13:29,280
kind of out the window and so that's

00:13:27,060 --> 00:13:31,110
when I'm like alright let's just go take

00:13:29,280 --> 00:13:34,080
a look at the rest API so the REST API

00:13:31,110 --> 00:13:35,760
to the rescue so like anything new when

00:13:34,080 --> 00:13:38,610
I first started messing with the REST

00:13:35,760 --> 00:13:40,980
API I was overwhelmed I'm like this just

00:13:38,610 --> 00:13:42,210
seems like it's so it's so big there's

00:13:40,980 --> 00:13:44,300
so many different things you can do with

00:13:42,210 --> 00:13:47,340
it again this is for real developers but

00:13:44,300 --> 00:13:48,780
so let's we're gonna kind of take this

00:13:47,340 --> 00:13:51,270
we're gonna strip it down and we're

00:13:48,780 --> 00:13:55,470
going to talk about the absolute basics

00:13:51,270 --> 00:13:57,750
of getting into this because all of the

00:13:55,470 --> 00:14:00,360
challenges that I had were kind of

00:13:57,750 --> 00:14:02,850
already taken care of for us in with the

00:14:00,360 --> 00:14:05,310
REST API so the way that it works is

00:14:02,850 --> 00:14:06,660
you're going to create a route and a

00:14:05,310 --> 00:14:10,470
route is basically like you're gonna

00:14:06,660 --> 00:14:11,010
tell people this is this is where you're

00:14:10,470 --> 00:14:12,240
gonna go

00:14:11,010 --> 00:14:13,860
this was actually another one of the big

00:14:12,240 --> 00:14:17,070
things was because I didn't want to have

00:14:13,860 --> 00:14:20,280
two people going to process - data so

00:14:17,070 --> 00:14:21,870
these routes they exist in WordPress and

00:14:20,280 --> 00:14:23,850
I'll show you a couple of examples these

00:14:21,870 --> 00:14:25,440
these exist on your WordPress website

00:14:23,850 --> 00:14:29,520
right now and you may not even know that

00:14:25,440 --> 00:14:32,820
so if you use pretty links just pretty

00:14:29,520 --> 00:14:33,900
permalinks you can go to slash WP - JSON

00:14:32,820 --> 00:14:35,970
you can do this on your own website

00:14:33,900 --> 00:14:39,480
right now and you are gonna get a big

00:14:35,970 --> 00:14:41,580
JSON package of data and you can do a

00:14:39,480 --> 00:14:44,520
ton of stuff with that data or nothing

00:14:41,580 --> 00:14:47,040
it just exists it's there but somebody

00:14:44,520 --> 00:14:49,950
could the idea behind that if you think

00:14:47,040 --> 00:14:51,960
about like like a desktop tool you

00:14:49,950 --> 00:14:55,050
wouldn't necessarily like a desktop tool

00:14:51,960 --> 00:14:57,480
if you wanted to build like a like a Mac

00:14:55,050 --> 00:14:59,580
native app let's say you could have that

00:14:57,480 --> 00:15:01,110
and reach out to these API points and

00:14:59,580 --> 00:15:02,580
all of that data WordPress is already

00:15:01,110 --> 00:15:05,400
just kind of serving you that data you

00:15:02,580 --> 00:15:06,570
can kind of grab it and and then display

00:15:05,400 --> 00:15:09,990
it and do whatever the heck you want

00:15:06,570 --> 00:15:11,640
with it so this is what it looks like if

00:15:09,990 --> 00:15:13,290
you've got pretty permalinks and this is

00:15:11,640 --> 00:15:16,500
what it looks like if you don't use

00:15:13,290 --> 00:15:18,780
pretty permalinks the obvious answer

00:15:16,500 --> 00:15:21,750
here is use pretty permalinks because

00:15:18,780 --> 00:15:26,430
it's it's just such a clean process for

00:15:21,750 --> 00:15:28,710
doing that so WordPress has a number of

00:15:26,430 --> 00:15:30,510
built-in endpoints and I'm not going to

00:15:28,710 --> 00:15:32,220
there's a there's a long list of it but

00:15:30,510 --> 00:15:34,230
I mean you can get like posts and pages

00:15:32,220 --> 00:15:36,400
and author

00:15:34,230 --> 00:15:38,620
pretty much everything if it's if it

00:15:36,400 --> 00:15:41,710
exists inside of kind of like core

00:15:38,620 --> 00:15:45,130
WordPress there is a JSON endpoint for

00:15:41,710 --> 00:15:47,400
it so like this one up here WP / v -

00:15:45,130 --> 00:15:49,540
slash posts this is going to give you

00:15:47,400 --> 00:15:51,040
I'm not sure if it gives you all of the

00:15:49,540 --> 00:15:54,220
posts or if only gives you the the first

00:15:51,040 --> 00:15:55,810
10 like a like a per page thing but it's

00:15:54,220 --> 00:15:57,340
gonna give you a bunch of posts and so

00:15:55,810 --> 00:16:02,470
it doesn't really matter it's a give

00:15:57,340 --> 00:16:04,480
them all the per page okay so you would

00:16:02,470 --> 00:16:08,530
you'd by default you would see the the

00:16:04,480 --> 00:16:09,610
latest 10 blog posts one of the other

00:16:08,530 --> 00:16:11,980
things that you can do with these

00:16:09,610 --> 00:16:13,660
endpoints which is kind of fun and I'm

00:16:11,980 --> 00:16:16,450
gonna talk about it about this much is

00:16:13,660 --> 00:16:19,210
you can see like I've added slash one

00:16:16,450 --> 00:16:21,010
two three on to the end of that API on

00:16:19,210 --> 00:16:22,390
to the end of that endpoint and what

00:16:21,010 --> 00:16:24,250
this will do is they'll actually just

00:16:22,390 --> 00:16:27,490
give you the information for that

00:16:24,250 --> 00:16:29,830
particular post post ID number one two

00:16:27,490 --> 00:16:31,840
three so again if you think about that

00:16:29,830 --> 00:16:35,050
idea of building like a Mac native

00:16:31,840 --> 00:16:37,840
desktop app and you said first I want to

00:16:35,050 --> 00:16:40,210
display a list of all recent posts you

00:16:37,840 --> 00:16:42,310
would go to that other API point or if

00:16:40,210 --> 00:16:44,020
you go oh they've clicked on a link now

00:16:42,310 --> 00:16:46,120
I just need to grab all the data for

00:16:44,020 --> 00:16:48,460
that one particular post you can do that

00:16:46,120 --> 00:16:51,160
too and that's all built in when you

00:16:48,460 --> 00:16:52,780
were building your own API endpoints you

00:16:51,160 --> 00:16:54,670
can do this exact same thing and I have

00:16:52,780 --> 00:16:57,960
a slide that will show you the code in a

00:16:54,670 --> 00:17:00,310
it's a couple of slides ahead but this

00:16:57,960 --> 00:17:02,560
this actually ends up using some like

00:17:00,310 --> 00:17:05,319
regular expression stuff and if you

00:17:02,560 --> 00:17:07,689
thought or if me imposter syndrome here

00:17:05,319 --> 00:17:12,459
thought that the idea of using the REST

00:17:07,689 --> 00:17:15,459
API was above me regex is that's in a

00:17:12,459 --> 00:17:16,689
different not even not even close if you

00:17:15,459 --> 00:17:18,699
have any questions at this point let me

00:17:16,689 --> 00:17:24,459
just stop I'll take another drink and we

00:17:18,699 --> 00:17:29,380
have any good questions good jokes all

00:17:24,459 --> 00:17:33,760
right good now I get so what is this

00:17:29,380 --> 00:17:36,730
going to look like okay so this is me

00:17:33,760 --> 00:17:41,110
creating a route this is a very simple

00:17:36,730 --> 00:17:43,480
route when you're doing this route the

00:17:41,110 --> 00:17:44,650
way that this works is I'm registering a

00:17:43,480 --> 00:17:46,070
new route and all I'm doing is I'm

00:17:44,650 --> 00:17:49,640
basically telling work

00:17:46,070 --> 00:17:52,760
you should start to expect new things to

00:17:49,640 --> 00:17:55,010
happen at this URL so register rest

00:17:52,760 --> 00:18:00,080
route this is going to be that slash WP

00:17:55,010 --> 00:18:01,130
dash JSON slash client name slash v1 you

00:18:00,080 --> 00:18:02,150
can put whatever you want there it

00:18:01,130 --> 00:18:05,060
doesn't really matter you can put

00:18:02,150 --> 00:18:07,610
anything you want and then slash data

00:18:05,060 --> 00:18:09,380
Handler and it's at the end of that

00:18:07,610 --> 00:18:13,670
where that data handler is and I think

00:18:09,380 --> 00:18:16,370
it's actually it's on its that side so

00:18:13,670 --> 00:18:18,530
you can see that little question mark P

00:18:16,370 --> 00:18:19,760
slash D that's the regex stuff that is

00:18:18,530 --> 00:18:24,290
actually pulling that one little piece

00:18:19,760 --> 00:18:25,520
of data so alright so this is basically

00:18:24,290 --> 00:18:27,770
tells WordPress we're going to create a

00:18:25,520 --> 00:18:29,360
new route it includes a namespace that's

00:18:27,770 --> 00:18:32,060
that first part there that's called the

00:18:29,360 --> 00:18:34,910
namespace for then the second part is

00:18:32,060 --> 00:18:38,240
actually the route so if I wanted to I

00:18:34,910 --> 00:18:41,210
could use different where that is I can

00:18:38,240 --> 00:18:44,330
I could create different elements inside

00:18:41,210 --> 00:18:47,330
of there for for what types of things

00:18:44,330 --> 00:18:49,550
that I wanted that that API to do so for

00:18:47,330 --> 00:18:53,210
me I was really trying to keep this very

00:18:49,550 --> 00:18:55,370
very simple so all of my stuff is

00:18:53,210 --> 00:18:57,770
actually just just lives I don't care

00:18:55,370 --> 00:18:59,570
whether they're going to be did whether

00:18:57,770 --> 00:19:01,700
they're sending me the data for the

00:18:59,570 --> 00:19:03,920
first time or if they're later sending

00:19:01,700 --> 00:19:05,660
me one of those update quests or like

00:19:03,920 --> 00:19:07,430
some of them they do and asked and some

00:19:05,660 --> 00:19:10,130
of them they do an update if they do and

00:19:07,430 --> 00:19:12,110
ask I need to I need to go do all of my

00:19:10,130 --> 00:19:14,690
big lookups and then send them back a

00:19:12,110 --> 00:19:16,850
bunch of data but later on after they've

00:19:14,690 --> 00:19:20,120
actually talked to that person they will

00:19:16,850 --> 00:19:23,480
do a an update so they'll say hey we

00:19:20,120 --> 00:19:26,030
talked to that person and it's a go or

00:19:23,480 --> 00:19:27,980
they talk to that person and or the I

00:19:26,030 --> 00:19:29,990
didn't talk to that person I tried to

00:19:27,980 --> 00:19:32,150
and I need to call them back at 7 p.m.

00:19:29,990 --> 00:19:35,240
and so they might send me one of those

00:19:32,150 --> 00:19:36,920
so I could have created separate

00:19:35,240 --> 00:19:39,440
endpoints for each one of those and just

00:19:36,920 --> 00:19:41,840
assumed hey anytime anybody hits this

00:19:39,440 --> 00:19:43,700
endpoint I know that this is what

00:19:41,840 --> 00:19:45,860
they're trying to do but for me I was

00:19:43,700 --> 00:19:47,620
trying to make it easy in two ways one I

00:19:45,860 --> 00:19:49,850
was trying to make it easy for me to

00:19:47,620 --> 00:19:51,470
keep all of this in just one little

00:19:49,850 --> 00:19:52,970
bucket and two was really trying to make

00:19:51,470 --> 00:19:55,340
it easy on the person on the other end

00:19:52,970 --> 00:19:57,610
where I just said when you send to me

00:19:55,340 --> 00:19:59,309
all of the data you can just send me a

00:19:57,610 --> 00:20:02,129
modifier in there

00:19:59,309 --> 00:20:04,950
a status or a mode and I'll show that to

00:20:02,129 --> 00:20:07,860
you in just a second but so in here

00:20:04,950 --> 00:20:10,590
based on this setup our URL would end up

00:20:07,860 --> 00:20:14,159
looking like this down here so WP / JSON

00:20:10,590 --> 00:20:16,620
client name v1 data handler so now

00:20:14,159 --> 00:20:18,659
WordPress knows that that thing exists

00:20:16,620 --> 00:20:21,809
and is going to just sit there and wait

00:20:18,659 --> 00:20:24,419
for data to be coming in only on this

00:20:21,809 --> 00:20:26,039
URL if they were to post to the main

00:20:24,419 --> 00:20:27,149
page of WordPress WordPress is like I

00:20:26,039 --> 00:20:29,249
don't know what you're trying to do I

00:20:27,149 --> 00:20:31,409
don't care and it's gonna just ignore it

00:20:29,249 --> 00:20:34,860
which means no extra processing

00:20:31,409 --> 00:20:37,350
behind-the-scenes so somebody fills out

00:20:34,860 --> 00:20:40,350
of gravity form whatever none of that

00:20:37,350 --> 00:20:43,769
matters my code is in a separate space

00:20:40,350 --> 00:20:45,840
and it is really unlikely that the

00:20:43,769 --> 00:20:47,850
client is gonna go break this cuz they

00:20:45,840 --> 00:20:49,919
first off the client has no idea this

00:20:47,850 --> 00:20:52,649
even exists they just know that it works

00:20:49,919 --> 00:20:55,080
behind the scenes or hey great so that's

00:20:52,649 --> 00:20:58,409
that's why this is another really great

00:20:55,080 --> 00:21:00,480
way of kind of going about that alright

00:20:58,409 --> 00:21:03,419
so I'll tell you oh yeah the the regex

00:21:00,480 --> 00:21:05,340
this was a whole slide all about regex

00:21:03,419 --> 00:21:08,460
so if I wanted to I could say data

00:21:05,340 --> 00:21:12,320
handle or 456 so they were gonna send me

00:21:08,460 --> 00:21:16,139
an update about post 456 this was

00:21:12,320 --> 00:21:18,360
overkill for my project it might not be

00:21:16,139 --> 00:21:20,909
for yours or actually this is probably a

00:21:18,360 --> 00:21:22,440
really this is one of those things where

00:21:20,909 --> 00:21:23,759
if I were to probably test it I've got

00:21:22,440 --> 00:21:24,899
 that was easier than I thought it

00:21:23,759 --> 00:21:29,070
was gonna be I should have done it that

00:21:24,899 --> 00:21:30,480
way so what this happens the the last

00:21:29,070 --> 00:21:34,110
thing you're gonna see right here is the

00:21:30,480 --> 00:21:37,139
callback so what happens is when data

00:21:34,110 --> 00:21:39,389
gets posted to their if they send it if

00:21:37,139 --> 00:21:40,769
you were to try to go to this this URL

00:21:39,389 --> 00:21:42,509
which obviously don't because I don't

00:21:40,769 --> 00:21:45,149
own your site comm which would be really

00:21:42,509 --> 00:21:47,759
a cool domain name down but if you were

00:21:45,149 --> 00:21:49,950
to put that into your address bar in the

00:21:47,759 --> 00:21:53,100
address bar that is a get request as

00:21:49,950 --> 00:21:54,929
compared to a post request so even if

00:21:53,100 --> 00:21:58,320
you were to try to do this on the actual

00:21:54,929 --> 00:22:00,149
website you would just get hey no I

00:21:58,320 --> 00:22:02,970
think the the response is something like

00:22:00,149 --> 00:22:05,429
no routers setup or no endpoint is set

00:22:02,970 --> 00:22:09,240
up so WordPress is gonna basically say I

00:22:05,429 --> 00:22:12,509
was expecting a post of data you tried

00:22:09,240 --> 00:22:12,690
to send me a get request go away I don't

00:22:12,509 --> 00:22:13,800
care

00:22:12,690 --> 00:22:15,840
what you're trying to do just I'm not

00:22:13,800 --> 00:22:17,430
gonna do anything again this is great

00:22:15,840 --> 00:22:19,440
because there's no real processing power

00:22:17,430 --> 00:22:22,980
it got to just right there and said I

00:22:19,440 --> 00:22:25,740
don't talk about moved on so here's our

00:22:22,980 --> 00:22:28,560
URL what it's gonna do though is if you

00:22:25,740 --> 00:22:31,560
do pass that data in and it goes to that

00:22:28,560 --> 00:22:34,370
right URL then you it'll hit my callback

00:22:31,560 --> 00:22:36,800
function so now my callback function

00:22:34,370 --> 00:22:40,290
it's really pretty simple

00:22:36,800 --> 00:22:42,680
grab some data and it takes this data

00:22:40,290 --> 00:22:45,810
and it's going to do that request

00:22:42,680 --> 00:22:48,750
WordPress has a lot of built-in

00:22:45,810 --> 00:22:51,540
functions that make kind of dealing with

00:22:48,750 --> 00:22:55,590
the data that come in super simple so

00:22:51,540 --> 00:22:57,690
this get JSON params I'm taking and I'm

00:22:55,590 --> 00:22:59,610
turning that into I'm putting all of

00:22:57,690 --> 00:23:01,770
that into this little one variable

00:22:59,610 --> 00:23:04,920
called data and all of that data just

00:23:01,770 --> 00:23:07,200
comes in as a nice little array and now

00:23:04,920 --> 00:23:07,860
I can really do whatever the heck I want

00:23:07,200 --> 00:23:11,400
with it

00:23:07,860 --> 00:23:13,590
so you see I've kind of created a yeah

00:23:11,400 --> 00:23:16,290
so this is really just the shell of the

00:23:13,590 --> 00:23:18,330
function and some super handy functions

00:23:16,290 --> 00:23:19,230
da da the thinking yeah I already said

00:23:18,330 --> 00:23:21,390
all of that great

00:23:19,230 --> 00:23:24,060
okay so let's kind of build a little bit

00:23:21,390 --> 00:23:27,510
further so after I've got my data the

00:23:24,060 --> 00:23:31,140
next thing that I'm gonna do is which

00:23:27,510 --> 00:23:33,180
allowed keys I'm gonna check to see that

00:23:31,140 --> 00:23:35,580
they are sending me their proper key

00:23:33,180 --> 00:23:38,190
because I don't if it's not my call

00:23:35,580 --> 00:23:40,320
center sending data to this let's just

00:23:38,190 --> 00:23:44,190
say randomly somebody figured out how to

00:23:40,320 --> 00:23:46,620
find my JSON route and are by my REST

00:23:44,190 --> 00:23:48,840
API route I wouldn't want them just

00:23:46,620 --> 00:23:52,380
anybody being able to send me updated

00:23:48,840 --> 00:23:54,180
updates for any of my posts I don't want

00:23:52,380 --> 00:23:56,760
them to be able to change the status of

00:23:54,180 --> 00:24:01,230
a client's call records that would be

00:23:56,760 --> 00:24:04,200
bad so because I only have one call

00:24:01,230 --> 00:24:06,540
center ever sending this in I just

00:24:04,200 --> 00:24:10,350
hard-coded it so I basically said here's

00:24:06,540 --> 00:24:12,480
an allowed key did the data match it it

00:24:10,350 --> 00:24:14,640
did great I'm gonna keep processing it

00:24:12,480 --> 00:24:17,580
didn't good go away

00:24:14,640 --> 00:24:20,640
if if this particular client were to

00:24:17,580 --> 00:24:23,060
have a whole bunch of different call

00:24:20,640 --> 00:24:25,770
centers or folks that were potentially

00:24:23,060 --> 00:24:26,759
going to pass in data I would probably

00:24:25,770 --> 00:24:29,039
create

00:24:26,759 --> 00:24:31,829
user for each one of those folks and

00:24:29,039 --> 00:24:34,079
then attach this as metadata and then do

00:24:31,829 --> 00:24:37,320
like a look-up on as the data was being

00:24:34,079 --> 00:24:38,940
processed but again trying to keep it

00:24:37,320 --> 00:24:40,829
simple I'm trying to not make it

00:24:38,940 --> 00:24:43,199
overkill for what was needed on this

00:24:40,829 --> 00:24:45,479
project I just kept it super simple and

00:24:43,199 --> 00:24:46,919
then I basically I'm gonna just strip

00:24:45,479 --> 00:24:48,749
out I'm gonna grab some data and you can

00:24:46,919 --> 00:24:49,889
see I'm kind of escaping all the data I

00:24:48,749 --> 00:24:51,809
want to make sure that they're not going

00:24:49,889 --> 00:24:54,089
to send me anything that is going to be

00:24:51,809 --> 00:24:57,329
harmful and I just kind of extract some

00:24:54,089 --> 00:24:59,309
variables and made them very easy to to

00:24:57,329 --> 00:25:01,319
so that when I'm doing stuff later on in

00:24:59,309 --> 00:25:03,659
the code they're easy so this is the key

00:25:01,319 --> 00:25:04,829
this is their ID this is that mode that

00:25:03,659 --> 00:25:06,119
I was talking about whether it's gonna

00:25:04,829 --> 00:25:10,440
be an ask or whether it's gonna be an

00:25:06,119 --> 00:25:13,440
update and then if it is when one of the

00:25:10,440 --> 00:25:15,690
modes has a lead status which is just a

00:25:13,440 --> 00:25:17,789
number one to eight or nine like

00:25:15,690 --> 00:25:19,169
different statuses for what that is so

00:25:17,789 --> 00:25:21,119
I'm going to just kind of create those

00:25:19,169 --> 00:25:23,339
as variables and then I can use them a

00:25:21,119 --> 00:25:25,169
little bit further down in the process

00:25:23,339 --> 00:25:27,239
and then down below that I'm gonna just

00:25:25,169 --> 00:25:31,949
start doing some checks so I think the

00:25:27,239 --> 00:25:34,019
first one is yeah so is the key is the

00:25:31,949 --> 00:25:38,219
key that they sent me does it match that

00:25:34,019 --> 00:25:40,139
allowed key this is fun this remember I

00:25:38,219 --> 00:25:42,179
was talking about how WordPress has some

00:25:40,139 --> 00:25:45,239
built-in functions and one of the best

00:25:42,179 --> 00:25:49,289
ones is this rest insure response this

00:25:45,239 --> 00:25:50,940
is the absolute lifesaver if I wasn't if

00:25:49,289 --> 00:25:52,499
back when we were talking about the

00:25:50,940 --> 00:25:55,079
other way like that building a listener

00:25:52,499 --> 00:25:57,509
and I said that I would have to figure

00:25:55,079 --> 00:26:00,089
out a way of packaging up that data and

00:25:57,509 --> 00:26:02,429
then sending it back to the call center

00:26:00,089 --> 00:26:04,649
and I would have to formulate what that

00:26:02,429 --> 00:26:07,409
stuff look like yeah I don't have to do

00:26:04,649 --> 00:26:09,839
that now all I have to do is say I'm

00:26:07,409 --> 00:26:12,539
gonna return this particular function

00:26:09,839 --> 00:26:14,519
and then I just make an array so the

00:26:12,539 --> 00:26:15,059
array can literally be anything that I

00:26:14,519 --> 00:26:19,259
want

00:26:15,059 --> 00:26:21,839
so I've got a document that I told the

00:26:19,259 --> 00:26:23,549
call center you can expect to get back a

00:26:21,839 --> 00:26:25,559
couple of different things you can get a

00:26:23,549 --> 00:26:28,139
code that code is going to be whether or

00:26:25,559 --> 00:26:28,769
not it's a like I'm gonna tell them what

00:26:28,139 --> 00:26:32,429
the error is

00:26:28,769 --> 00:26:34,649
it was an invalid key so if it was if

00:26:32,429 --> 00:26:36,899
this if their key was wrong I'm gonna

00:26:34,649 --> 00:26:39,539
tell them hey you sent me the wrong key

00:26:36,899 --> 00:26:39,890
and I can send him a message and I can

00:26:39,539 --> 00:26:42,560
do us

00:26:39,890 --> 00:26:45,680
status so I like all of my starer

00:26:42,560 --> 00:26:59,570
statuses are 100 other statuses are like

00:26:45,680 --> 00:27:04,210
200 300 and 400 etc so yeah this is I

00:26:59,570 --> 00:27:04,210
mean the API key is different

00:27:06,220 --> 00:27:17,510
what I did change some stuff so it's not

00:27:10,760 --> 00:27:21,920
a hundred percent but yes it's not

00:27:17,510 --> 00:27:26,810
actually a syntax error so it has to be

00:27:21,920 --> 00:27:29,180
exact so not equal they so it's not

00:27:26,810 --> 00:27:33,290
equal and then not exact is what this is

00:27:29,180 --> 00:27:38,180
so yeah good yeah not actually wrong

00:27:33,290 --> 00:27:42,440
sweet by the way finding a syntax error

00:27:38,180 --> 00:27:46,100
in my code not a stretch like like where

00:27:42,440 --> 00:27:48,980
is it and we're this far in and you only

00:27:46,100 --> 00:27:53,060
found one so and I thought we're doing

00:27:48,980 --> 00:27:56,600
pretty good Oh being nice cool you guys

00:27:53,060 --> 00:28:01,070
are alright that's funny I was thinking

00:27:56,600 --> 00:28:04,940
did I run this code yeah so then there's

00:28:01,070 --> 00:28:07,370
a couple of other checks good I do a

00:28:04,940 --> 00:28:09,800
couple of other checks to make sure I

00:28:07,370 --> 00:28:11,840
created a an array of the different

00:28:09,800 --> 00:28:14,090
modes that I was kind of going to be

00:28:11,840 --> 00:28:15,770
expecting and then I just check to see

00:28:14,090 --> 00:28:20,810
if it's one of those modes four eight no

00:28:15,770 --> 00:28:23,890
big deal and then the post data oh yeah

00:28:20,810 --> 00:28:27,680
do we have I do a lookup at this point

00:28:23,890 --> 00:28:29,480
to see if if the ideas in the database

00:28:27,680 --> 00:28:34,040
oh yeah it is okay great you can go

00:28:29,480 --> 00:28:36,110
through if not go away so I'm just I'm

00:28:34,040 --> 00:28:38,660
doing all these checks before I do any

00:28:36,110 --> 00:28:41,060
of the actual processing I'm just trying

00:28:38,660 --> 00:28:44,900
to figure out I'm gonna kick them out

00:28:41,060 --> 00:28:46,730
any point that doesn't make it like

00:28:44,900 --> 00:28:48,290
anything that could be potentially wrong

00:28:46,730 --> 00:28:50,180
I'm just kind of doing at the top of it

00:28:48,290 --> 00:28:50,590
and then down at the bottom it's kind of

00:28:50,180 --> 00:28:54,310
where

00:28:50,590 --> 00:28:55,690
where the magic happens so with I'm

00:28:54,310 --> 00:28:57,190
gonna read this because I wrote a lot of

00:28:55,690 --> 00:28:58,450
a lot of text so when the call center

00:28:57,190 --> 00:29:02,140
gets the lead on the phone they ping the

00:28:58,450 --> 00:29:04,180
rest API with a motive ask so first we

00:29:02,140 --> 00:29:06,550
do the global status just in case the

00:29:04,180 --> 00:29:08,110
step fails if not I do this blah blah

00:29:06,550 --> 00:29:12,670
but I already said all of that it was

00:29:08,110 --> 00:29:16,090
like there was a whole slide ago let's

00:29:12,670 --> 00:29:19,270
see what do we do here okay so they're

00:29:16,090 --> 00:29:21,040
doing an ask so the mode comes in as an

00:29:19,270 --> 00:29:23,760
ask and I said great I'm gonna

00:29:21,040 --> 00:29:26,650
immediately I'm gonna do an update

00:29:23,760 --> 00:29:28,630
status I'm gonna do an update post meta

00:29:26,650 --> 00:29:31,840
I'm gonna create a global status

00:29:28,630 --> 00:29:33,310
basically saying now I will tell you I'm

00:29:31,840 --> 00:29:35,380
returning all of this stuff in real time

00:29:33,310 --> 00:29:36,820
and when I say it's real time I think

00:29:35,380 --> 00:29:38,800
they're getting it back in like a

00:29:36,820 --> 00:29:42,190
quarter of a second it's ridiculous how

00:29:38,800 --> 00:29:44,770
fast it is so the idea of doing this

00:29:42,190 --> 00:29:47,890
update post meta at the very very top is

00:29:44,770 --> 00:29:49,510
kind of silly because that exists for

00:29:47,890 --> 00:29:51,310
about a quarter of a second it's in

00:29:49,510 --> 00:29:53,830
there and then I'm gonna do another one

00:29:51,310 --> 00:29:55,600
a second later but I actually do this on

00:29:53,830 --> 00:29:58,480
purpose because if for whatever reason

00:29:55,600 --> 00:30:00,760
when I post out to the other folks and

00:29:58,480 --> 00:30:03,130
I'm supposed to be getting data back if

00:30:00,760 --> 00:30:05,770
for whatever reason something breaks

00:30:03,130 --> 00:30:09,790
I'll know about it because the global

00:30:05,770 --> 00:30:11,620
status should this yeah pending if

00:30:09,790 --> 00:30:13,000
somebody were to like load up the list

00:30:11,620 --> 00:30:14,830
of all of the different leads and they

00:30:13,000 --> 00:30:16,150
see something that is marked as pending

00:30:14,830 --> 00:30:17,940
well there's a problem

00:30:16,150 --> 00:30:22,210
something broke somewhere along the way

00:30:17,940 --> 00:30:24,340
any future version of this my idea was

00:30:22,210 --> 00:30:26,320
that I would create a little button like

00:30:24,340 --> 00:30:28,090
on the dashboard so when they're looking

00:30:26,320 --> 00:30:30,130
at their list of all of their leads if

00:30:28,090 --> 00:30:31,420
they see any of that say pending there

00:30:30,130 --> 00:30:33,640
would be another button like right next

00:30:31,420 --> 00:30:35,080
to this like okay just reprocess because

00:30:33,640 --> 00:30:37,000
I would have already had all that data

00:30:35,080 --> 00:30:38,890
out I already had everything that they

00:30:37,000 --> 00:30:41,620
had sent in kind of stored and ready to

00:30:38,890 --> 00:30:44,070
go but for whatever reason the internet

00:30:41,620 --> 00:30:46,090
was just broken for 30 seconds and

00:30:44,070 --> 00:30:49,720
probably because of my typos on the

00:30:46,090 --> 00:30:51,040
previous page they would see that as

00:30:49,720 --> 00:30:53,110
pending and I'd be able to click it and

00:30:51,040 --> 00:30:54,940
then reprocess the data I never got to

00:30:53,110 --> 00:30:56,320
that point by the way none of this

00:30:54,940 --> 00:30:58,030
actually launched to the client stop

00:30:56,320 --> 00:30:58,420
like I built all over this and then it

00:30:58,030 --> 00:31:00,610
didn't

00:30:58,420 --> 00:31:02,970
welcome to client work he build all this

00:31:00,610 --> 00:31:09,240
fun stuff oh I got paid

00:31:02,970 --> 00:31:10,980
oh yeah that happens first so once I did

00:31:09,240 --> 00:31:12,630
that then I'm doing a find a buyer the

00:31:10,980 --> 00:31:15,150
find buyer is actually the piece that is

00:31:12,630 --> 00:31:16,410
going out and calling the third-party

00:31:15,150 --> 00:31:18,630
system that returns all the buyer

00:31:16,410 --> 00:31:22,170
information to me and for when they do

00:31:18,630 --> 00:31:24,060
that I'm basically getting back a I'm

00:31:22,170 --> 00:31:26,730
basically getting back an array so if I

00:31:24,060 --> 00:31:29,430
don't see an array then I basically know

00:31:26,730 --> 00:31:31,020
that there was no buyer and I returned

00:31:29,430 --> 00:31:32,790
that back to the client or to the call

00:31:31,020 --> 00:31:34,080
center and then they get that awkward

00:31:32,790 --> 00:31:35,760
thing up hey I know that you were trying

00:31:34,080 --> 00:31:37,340
to do that we don't have a buyer so I've

00:31:35,760 --> 00:31:41,400
got nobody for you to talk to by click

00:31:37,340 --> 00:31:43,020
so oops and then you can see I'm doing

00:31:41,400 --> 00:31:45,270
that update post meeting again whether

00:31:43,020 --> 00:31:53,090
it was a sold lead or whether it was a

00:31:45,270 --> 00:31:56,820
no buyer so real simple stuff okay oh

00:31:53,090 --> 00:31:58,740
yeah so this was I'm not gonna really

00:31:56,820 --> 00:32:00,720
get into what the the folks were sending

00:31:58,740 --> 00:32:02,930
me back but this is basically what it

00:32:00,720 --> 00:32:05,160
looks like so when they send it back

00:32:02,930 --> 00:32:06,780
because I don't want to have to be the

00:32:05,160 --> 00:32:08,280
one who's kind of processing all of that

00:32:06,780 --> 00:32:09,960
data and turning it into something fancy

00:32:08,280 --> 00:32:12,390
all I'm doing is turning it in an array

00:32:09,960 --> 00:32:14,850
so here's the buyer data as an array

00:32:12,390 --> 00:32:16,920
which is the status is gonna be success

00:32:14,850 --> 00:32:19,310
and then I'm looking up in our database

00:32:16,920 --> 00:32:22,890
because I store all of that data again

00:32:19,310 --> 00:32:25,230
bio-data is their name their phone email

00:32:22,890 --> 00:32:28,070
the URL and then I'm just returning that

00:32:25,230 --> 00:32:32,310
back with that nice little function that

00:32:28,070 --> 00:32:34,710
rest return response and I just send

00:32:32,310 --> 00:32:41,670
them all that information it's super

00:32:34,710 --> 00:32:48,620
simple yeah and then this is what I send

00:32:41,670 --> 00:32:48,620
back to the call center thank you

00:32:48,809 --> 00:32:55,469
yeah so on their side this is now just a

00:32:52,200 --> 00:32:57,330
small little chunk of JSON data that

00:32:55,469 --> 00:32:59,519
they can get and then they can process

00:32:57,330 --> 00:33:01,259
the same like I was processing it on the

00:32:59,519 --> 00:33:04,999
other side they know that they're

00:33:01,259 --> 00:33:04,999
getting ready to call Tyler Durden oh

00:33:05,269 --> 00:33:12,570
there's a lot of talking all right

00:33:07,739 --> 00:33:15,539
questions so far yes all ready to go do

00:33:12,570 --> 00:33:28,710
this yes I'm gonna go back to the

00:33:15,539 --> 00:33:31,289
beginning so what I do typically so the

00:33:28,710 --> 00:33:33,359
question was I've written all this code

00:33:31,289 --> 00:33:35,789
where does it live does it live inside

00:33:33,359 --> 00:33:37,919
of like functions that PHP for me what I

00:33:35,789 --> 00:33:39,719
typically do anytime I'm building

00:33:37,919 --> 00:33:42,210
something like this for the client I

00:33:39,719 --> 00:33:43,529
don't want to tie it to their theme so

00:33:42,210 --> 00:33:46,559
I'm not gonna put it in the theme

00:33:43,529 --> 00:33:48,599
because the whole idea is this is really

00:33:46,559 --> 00:33:50,219
kind of be agnostic to to the theme and

00:33:48,599 --> 00:33:51,659
it is this has nothing to do with the

00:33:50,219 --> 00:33:54,869
theme so what I'll do is I'll actually

00:33:51,659 --> 00:33:56,399
create a very simple plug-in I almost

00:33:54,869 --> 00:33:58,259
for all my clients I typically will

00:33:56,399 --> 00:34:00,899
create something called a core

00:33:58,259 --> 00:34:03,119
functionality plug-in and so then I have

00:34:00,899 --> 00:34:04,919
a spot that is just the functions file

00:34:03,119 --> 00:34:07,619
or in this case it's a series of files

00:34:04,919 --> 00:34:09,109
that is part of a plug-in and so they

00:34:07,619 --> 00:34:11,909
can kind of go activated or deactivated

00:34:09,109 --> 00:34:15,179
hopefully they don't deactivate it that

00:34:11,909 --> 00:34:17,460
would be bad thank you mu plugins I

00:34:15,179 --> 00:34:19,710
could do that I don't because then I can

00:34:17,460 --> 00:34:21,539
never remember it's there and forget

00:34:19,710 --> 00:34:24,289
about it how does this even work I don't

00:34:21,539 --> 00:34:24,289
even know Oh

00:34:28,260 --> 00:34:35,609
question is what is my text editor that

00:34:30,329 --> 00:34:36,569
is sebuah no that's V s code yeah this

00:34:35,609 --> 00:34:38,760
is V s code

00:34:36,569 --> 00:34:41,970
yeah it's V s code and I have an

00:34:38,760 --> 00:34:44,129
absolute crap ton of extensions and I

00:34:41,970 --> 00:34:45,960
would tell you that I'm really smart and

00:34:44,129 --> 00:34:52,020
figured out all these extensions use

00:34:45,960 --> 00:34:54,210
that is not the case yes that it's super

00:34:52,020 --> 00:34:56,069
handy also and you can immediately go oh

00:34:54,210 --> 00:34:58,890
that's where it's indented wrong yeah

00:34:56,069 --> 00:35:01,619
it's a it's an extension for V s code if

00:34:58,890 --> 00:35:04,040
if you want you can email me and I will

00:35:01,619 --> 00:35:08,210
a buddy of mine has like a whole list of

00:35:04,040 --> 00:35:08,210
extensions and that's what I did I just

00:35:08,359 --> 00:35:19,950
BS code mac and windows everything right

00:35:11,160 --> 00:35:22,760
Mac Windows Linux yeah I could try yeah

00:35:19,950 --> 00:35:29,130
I'll put these online oh yes

00:35:22,760 --> 00:35:30,089
yes maybe yes code is free I love that

00:35:29,130 --> 00:35:31,559
yeah yeah

00:35:30,089 --> 00:35:33,750
the yes code is awesome and I actually

00:35:31,559 --> 00:35:38,040
just switch to I've been a sublime user

00:35:33,750 --> 00:35:40,260
for years and years and years and at my

00:35:38,040 --> 00:35:44,490
previous company they were all switching

00:35:40,260 --> 00:35:46,349
to vs code and oh so good it's really

00:35:44,490 --> 00:35:50,609
it's really good it's gotta get built

00:35:46,349 --> 00:35:54,089
right in it's it's fantastic all right

00:35:50,609 --> 00:35:56,250
so let's talk tools when you were

00:35:54,089 --> 00:35:57,690
dealing with JSON data whether you're

00:35:56,250 --> 00:36:01,950
the one creating it or whether the one

00:35:57,690 --> 00:36:05,369
you're consuming it there is it looks

00:36:01,950 --> 00:36:08,099
like a big blob of text like this is a

00:36:05,369 --> 00:36:10,319
this is oppai the way I think this is if

00:36:08,099 --> 00:36:12,210
you go to slash WP JSON like this is

00:36:10,319 --> 00:36:15,619
that's what you're gonna get and like it

00:36:12,210 --> 00:36:18,720
is just a crap-ton of just useless data

00:36:15,619 --> 00:36:21,510
there is a Chrome extension called JSON

00:36:18,720 --> 00:36:22,829
format err that just automatically has a

00:36:21,510 --> 00:36:25,140
little toggle over there and you can

00:36:22,829 --> 00:36:27,059
switch back and forth into this pretty

00:36:25,140 --> 00:36:28,950
view and actually see what you're

00:36:27,059 --> 00:36:30,089
getting we have five minutes so if you

00:36:28,950 --> 00:36:31,380
have questions getting ready to ask them

00:36:30,089 --> 00:36:36,569
quickly

00:36:31,380 --> 00:36:39,480
so yeah just super simple oh do they

00:36:36,569 --> 00:36:46,170
Oh auda matically nice chrome does not

00:36:39,480 --> 00:36:49,130
it was like here you go this plug-in

00:36:46,170 --> 00:36:53,430
post ban anybody ever heard a post man

00:36:49,130 --> 00:36:55,619
yeah this thing is fantastic this is

00:36:53,430 --> 00:36:57,869
honestly the difference between me

00:36:55,619 --> 00:36:59,970
building this project and not building

00:36:57,869 --> 00:37:02,609
this project I'm gonna just show you

00:36:59,970 --> 00:37:06,480
what this thing does testing your API

00:37:02,609 --> 00:37:08,369
okay so this is the the screen and let

00:37:06,480 --> 00:37:11,520
me see here so up at the very top I'm

00:37:08,369 --> 00:37:13,500
writing the URL that I want this to be

00:37:11,520 --> 00:37:14,970
tested at so you can see that I've got

00:37:13,500 --> 00:37:17,160
it going to my example

00:37:14,970 --> 00:37:18,960
local and then the endpoint that we've

00:37:17,160 --> 00:37:21,720
been talking about this entire time and

00:37:18,960 --> 00:37:24,630
then in the body I've created just a

00:37:21,720 --> 00:37:29,550
little bit of a JSON package which is

00:37:24,630 --> 00:37:31,560
the key the mode and the ID so this is

00:37:29,550 --> 00:37:33,600
the the clients key or I mean the call

00:37:31,560 --> 00:37:36,240
center is key what mode they want to I

00:37:33,600 --> 00:37:39,270
want to test them doing an ask and then

00:37:36,240 --> 00:37:42,090
an ID and then you hit the blue button

00:37:39,270 --> 00:37:44,160
up there that says send it sends it and

00:37:42,090 --> 00:37:46,530
it shoots you back this little package

00:37:44,160 --> 00:37:48,390
of data or it sends you back an error

00:37:46,530 --> 00:37:49,860
message which it sends you back a lot of

00:37:48,390 --> 00:37:52,740
error messages before you actually get

00:37:49,860 --> 00:37:56,760
it to send you back actual data a lot of

00:37:52,740 --> 00:37:59,100
error messages yes but being able to hit

00:37:56,760 --> 00:38:01,320
that send button make one change in your

00:37:59,100 --> 00:38:03,450
code hit the send button make one chain

00:38:01,320 --> 00:38:06,480
in your code hit this and what like it

00:38:03,450 --> 00:38:10,110
is a repeating thing for like four days

00:38:06,480 --> 00:38:11,790
oh like if there's data it's the

00:38:10,110 --> 00:38:16,290
best it is the absolute best

00:38:11,790 --> 00:38:20,250
so postman they have it's free they do

00:38:16,290 --> 00:38:23,190
have some paid tiers I liked it so much

00:38:20,250 --> 00:38:25,110
I wanted to just go and purchase it but

00:38:23,190 --> 00:38:27,000
none of their paid stuff like applied to

00:38:25,110 --> 00:38:30,840
me at all because it's kind of like team

00:38:27,000 --> 00:38:32,820
related stuff or none of it applied so I

00:38:30,840 --> 00:38:36,210
got to give them money some other way I

00:38:32,820 --> 00:38:38,250
guess and here's the learn more which is

00:38:36,210 --> 00:38:40,730
I'm going to just give you one URL other

00:38:38,250 --> 00:38:43,560
than Google and and some searching

00:38:40,730 --> 00:38:46,980
developer dot wordpress.org slash rest -

00:38:43,560 --> 00:38:49,170
API everything under the Sun is right

00:38:46,980 --> 00:39:00,540
there like you can go it'll it'll give

00:38:49,170 --> 00:39:03,960
you any of that any questions yeah how

00:39:00,540 --> 00:39:06,810
is the REST API especially if you're an

00:39:03,960 --> 00:39:10,110
you are an agency that work with

00:39:06,810 --> 00:39:11,820
different clients with different hosting

00:39:10,110 --> 00:39:14,400
companies with different WordPress

00:39:11,820 --> 00:39:17,760
versions different plugins once we

00:39:14,400 --> 00:39:21,180
create our REST API that help us to give

00:39:17,760 --> 00:39:24,330
us the version of the WordPress version

00:39:21,180 --> 00:39:26,580
of plugins because sometimes you cannot

00:39:24,330 --> 00:39:27,360
even access to the throughs

00:39:26,580 --> 00:39:32,730
SSA

00:39:27,360 --> 00:39:35,580
to run some commencing CLI so it give us

00:39:32,730 --> 00:39:38,070
all the information that we need it and

00:39:35,580 --> 00:39:41,880
then we use it in our own custom

00:39:38,070 --> 00:39:44,760
dashboard all the information of all

00:39:41,880 --> 00:39:47,430
your clients because all the claims have

00:39:44,760 --> 00:39:50,010
different needs different servers

00:39:47,430 --> 00:39:53,160
different anything yeah so it was very

00:39:50,010 --> 00:39:54,510
useful to having one dashboard oh that's

00:39:53,160 --> 00:39:55,590
awesome I'd love to see a screenshot of

00:39:54,510 --> 00:39:57,960
that that'd be fantastic

00:39:55,590 --> 00:40:00,390
yeah it is it's as soon as you find the

00:39:57,960 --> 00:40:02,490
the need or the data that you can you

00:40:00,390 --> 00:40:05,070
have access to to get from all these

00:40:02,490 --> 00:40:06,720
different locations then it's really

00:40:05,070 --> 00:40:08,250
just a matter of like once you've got

00:40:06,720 --> 00:40:10,530
all this data what am I gonna do with it

00:40:08,250 --> 00:40:13,800
like building a building at your own

00:40:10,530 --> 00:40:15,780
internal dashboard is awesome I love

00:40:13,800 --> 00:40:19,200
that idea for sure Robert did you have a

00:40:15,780 --> 00:40:20,480
question or a statement or over here go

00:40:19,200 --> 00:40:23,100
ahead

00:40:20,480 --> 00:40:24,600
umm now that you've done this like have

00:40:23,100 --> 00:40:26,670
you found other use cases where have you

00:40:24,600 --> 00:40:31,110
started like redoing anything like is

00:40:26,670 --> 00:40:35,490
this created like a whole new so I have

00:40:31,110 --> 00:40:38,100
a regular day job where I also build

00:40:35,490 --> 00:40:40,320
WordPress stuff all day which is fun so

00:40:38,100 --> 00:40:43,470
I haven't had anything where I'm just

00:40:40,320 --> 00:40:47,660
gonna go back and do that thing but I do

00:40:43,470 --> 00:40:49,740
now at least consider it an option

00:40:47,660 --> 00:40:51,930
something in my tool bag where I'm like

00:40:49,740 --> 00:40:55,650
it alright well I could at least run the

00:40:51,930 --> 00:40:57,330
idea where before it was it it did it

00:40:55,650 --> 00:40:59,430
just felt like it was that's something

00:40:57,330 --> 00:41:02,220
that other people do I I don't I don't

00:40:59,430 --> 00:41:03,810
do that somebody else does that but yeah

00:41:02,220 --> 00:41:06,420
like like she was saying the idea of

00:41:03,810 --> 00:41:07,770
creating a dashboard for of pulling in

00:41:06,420 --> 00:41:12,270
your data from a whole bunch of

00:41:07,770 --> 00:41:13,650
different locations Robert I think

00:41:12,270 --> 00:41:15,830
you're gonna ask me your go one more

00:41:13,650 --> 00:41:15,830
question

00:41:32,730 --> 00:41:38,140
yeah yeah awesome

00:41:36,130 --> 00:41:39,460
all right well I'm not going anywhere

00:41:38,140 --> 00:41:41,590
I'll be here all day so if you have any

00:41:39,460 --> 00:41:43,440
other questions hit me up otherwise you

00:41:41,590 --> 00:41:46,590
can find me at Johnny Vegas you calm

00:41:43,440 --> 00:41:46,590

YouTube URL: https://www.youtube.com/watch?v=p8ho2T0cJi4


