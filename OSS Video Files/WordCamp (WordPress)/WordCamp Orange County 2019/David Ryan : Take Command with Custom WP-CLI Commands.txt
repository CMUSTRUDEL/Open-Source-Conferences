Title: David Ryan : Take Command with Custom WP-CLI Commands
Publication date: 2019-05-14
Playlist: WordCamp Orange County 2019
Description: 
	WPTV link: https://wordpress.tv/2019/05/11/david-ryan-take-command-with-custom-wp-cli-commands/
Captions: 
	00:00:05,280 --> 00:00:09,900
Dave Ryan is an interdisciplinary

00:00:06,680 --> 00:00:12,230
wordpress developer at Bluehost where he

00:00:09,900 --> 00:00:14,429
focuses on helping build WordPress and

00:00:12,230 --> 00:00:16,950
supporting the WordPress community in

00:00:14,429 --> 00:00:19,470
the past dave has worked for large

00:00:16,950 --> 00:00:21,900
publishers and universities scaling

00:00:19,470 --> 00:00:24,410
high-traffic WordPress sites by blending

00:00:21,900 --> 00:00:28,050
his skills for information design

00:00:24,410 --> 00:00:35,489
journalism and web development David

00:00:28,050 --> 00:00:37,110
Ryan thank you David hey everyone it's

00:00:35,489 --> 00:00:39,059
really great to be here today just

00:00:37,110 --> 00:00:41,700
wanted to start out by saying a big

00:00:39,059 --> 00:00:43,950
thank you to the bird camp Orange County

00:00:41,700 --> 00:00:46,379
organizers they've put on a really great

00:00:43,950 --> 00:00:49,670
word camp this weekend so thank you so

00:00:46,379 --> 00:00:52,430
much all you guys have done this weekend

00:00:49,670 --> 00:00:55,050
so today we're here to talk about

00:00:52,430 --> 00:00:56,940
something that I never knew would be a

00:00:55,050 --> 00:00:59,280
passion of mine I kind of fell into

00:00:56,940 --> 00:01:01,649
development sideways through graphic

00:00:59,280 --> 00:01:04,500
design and so I always thought I'd be

00:01:01,649 --> 00:01:06,810
working on pixel perfect interfaces and

00:01:04,500 --> 00:01:09,900
never really thought that I'd be

00:01:06,810 --> 00:01:12,180
tackling command lines but for the kind

00:01:09,900 --> 00:01:15,720
of gruntal like them and they're very

00:01:12,180 --> 00:01:19,409
sort of singular focus so we're gonna

00:01:15,720 --> 00:01:22,380
dive in and I am Dave Ryan ad with a

00:01:19,409 --> 00:01:25,530
zero on Twitter and other places if

00:01:22,380 --> 00:01:27,780
you're looking for me so what is WPC you

00:01:25,530 --> 00:01:31,350
live here in the room has used WP CLI

00:01:27,780 --> 00:01:34,670
yeah okay so I'm about half so just real

00:01:31,350 --> 00:01:39,119
quick don't pee CLI is another interface

00:01:34,670 --> 00:01:41,579
to work with WordPress so on on the left

00:01:39,119 --> 00:01:43,710
here we have the WordPress admin right

00:01:41,579 --> 00:01:46,200
it's the hello world post that comes

00:01:43,710 --> 00:01:49,049
with WordPress and that is our post list

00:01:46,200 --> 00:01:50,840
in the admin and then on the right here

00:01:49,049 --> 00:01:53,820
is a screenshot of my terminal window

00:01:50,840 --> 00:01:57,060
where I'm logged into my server and if I

00:01:53,820 --> 00:02:00,060
use the WP command and then I use the

00:01:57,060 --> 00:02:02,790
post list sub command I can get a list

00:02:00,060 --> 00:02:05,009
of posts and I get that kind of wonky

00:02:02,790 --> 00:02:06,840
little table in there with the ASCII

00:02:05,009 --> 00:02:11,130
characters but it gives me really the

00:02:06,840 --> 00:02:14,730
same data so the WP CLI can be used to

00:02:11,130 --> 00:02:16,080
view or modify any data in WordPress

00:02:14,730 --> 00:02:19,030
anything you can do in the WordPress

00:02:16,080 --> 00:02:22,180
admin as well as run some

00:02:19,030 --> 00:02:24,430
server-side code maybe you're jumping

00:02:22,180 --> 00:02:27,300
into your my sequel shell maybe you were

00:02:24,430 --> 00:02:30,070
executing a file or evaluating some code

00:02:27,300 --> 00:02:32,560
but it can go beyond just working with

00:02:30,070 --> 00:02:34,000
data in WordPress you can use it to to

00:02:32,560 --> 00:02:35,080
run things outside of WordPress and you

00:02:34,000 --> 00:02:39,460
actually don't even need to load

00:02:35,080 --> 00:02:42,460
WordPress at all to use the WPC line so

00:02:39,460 --> 00:02:45,760
I also like to think of the WP CLI kind

00:02:42,460 --> 00:02:47,650
of similar to a bank's phone tree when I

00:02:45,760 --> 00:02:50,110
call my bank they asked me to

00:02:47,650 --> 00:02:52,420
authenticate with the last for my social

00:02:50,110 --> 00:02:55,870
or the last you know four characters in

00:02:52,420 --> 00:02:58,780
my account number same way when I SSH

00:02:55,870 --> 00:03:02,050
into my server I'm giving some kind of

00:02:58,780 --> 00:03:05,170
identity file and username when I log

00:03:02,050 --> 00:03:07,900
into my server so once I'm in there I

00:03:05,170 --> 00:03:09,300
start I'm presented with a menu press

00:03:07,900 --> 00:03:12,160
one to speak with a representative

00:03:09,300 --> 00:03:14,140
fretts to for a status update on this

00:03:12,160 --> 00:03:17,770
press three a file of fraud claim and

00:03:14,140 --> 00:03:21,010
similar thing if I go into WP CLI and I

00:03:17,770 --> 00:03:23,410
go into my terminal and I type WP I'm

00:03:21,010 --> 00:03:26,380
gonna get a menu with all of my options

00:03:23,410 --> 00:03:28,269
that I would have to work with so maybe

00:03:26,380 --> 00:03:30,040
it's posts maybe I want to list in my

00:03:28,269 --> 00:03:32,980
posts or I want to update a post or

00:03:30,040 --> 00:03:34,989
insert a post or delete a post can work

00:03:32,980 --> 00:03:36,880
with the users can work with images can

00:03:34,989 --> 00:03:40,870
work with all the data that's stored in

00:03:36,880 --> 00:03:43,060
WordPress so why would someone want to

00:03:40,870 --> 00:03:44,890
use WP CLI over the WordPress admin

00:03:43,060 --> 00:03:46,600
right you know the WordPress admin is

00:03:44,890 --> 00:03:49,090
pretty pretty intuitive it's pretty easy

00:03:46,600 --> 00:03:54,040
to log into what's the benefit of using

00:03:49,090 --> 00:03:56,440
WP CLI partially it's time I'm not a big

00:03:54,040 --> 00:03:58,510
believer in saving time a big believer

00:03:56,440 --> 00:04:02,080
in reallocating time for more useful

00:03:58,510 --> 00:04:08,140
tasks and if you're doing repetitive

00:04:02,080 --> 00:04:11,019
tasks say updating a custom field on 50

00:04:08,140 --> 00:04:12,790
WordPress posts clicking through 50

00:04:11,019 --> 00:04:14,950
WordPress posts finding your meta box

00:04:12,790 --> 00:04:17,350
scrolling yeah it's pretty quick it's

00:04:14,950 --> 00:04:19,419
pretty easy that time adds up over time

00:04:17,350 --> 00:04:22,660
and if those are tasks that you're doing

00:04:19,419 --> 00:04:25,510
repetitive every single day there's ways

00:04:22,660 --> 00:04:28,150
to kind of automate that with WP CLI and

00:04:25,510 --> 00:04:30,400
not necessarily save time but you're

00:04:28,150 --> 00:04:32,200
gonna spend a lot less time on that task

00:04:30,400 --> 00:04:34,200
and then be able to use that time for

00:04:32,200 --> 00:04:37,060
some

00:04:34,200 --> 00:04:39,550
so the other reason you'd probably want

00:04:37,060 --> 00:04:41,230
to consider using WPC lie over just

00:04:39,550 --> 00:04:42,640
using the admin interface is that you

00:04:41,230 --> 00:04:45,250
can do some really cool things with it

00:04:42,640 --> 00:04:48,910
in addition to getting that table I can

00:04:45,250 --> 00:04:51,970
get a JSON formatted array here of that

00:04:48,910 --> 00:04:54,760
post data I can also get a CSB or a

00:04:51,970 --> 00:04:58,360
Gamal representative representation of

00:04:54,760 --> 00:05:00,970
that post data and there's often

00:04:58,360 --> 00:05:04,210
multiple ways to do something with WP

00:05:00,970 --> 00:05:09,010
CLI if I have an option in my WordPress

00:05:04,210 --> 00:05:11,200
database called W COC is awesome and I

00:05:09,010 --> 00:05:14,710
want to update that I can do it through

00:05:11,200 --> 00:05:17,740
the option update command I can say WP

00:05:14,710 --> 00:05:20,320
eval to run some PHP code and then just

00:05:17,740 --> 00:05:24,040
straight run some code in my show right

00:05:20,320 --> 00:05:27,400
there I can say WP DB query and drop

00:05:24,040 --> 00:05:29,710
into a my sequel shell or I could write

00:05:27,400 --> 00:05:33,180
a custom command that handles this on

00:05:29,710 --> 00:05:36,610
its own there's also some additional

00:05:33,180 --> 00:05:41,590
third-party packages that you could use

00:05:36,610 --> 00:05:43,090
there is a WP CLI restful package that

00:05:41,590 --> 00:05:47,890
lets you interact with the WordPress

00:05:43,090 --> 00:05:52,150
REST API via the WP CLI and that package

00:05:47,890 --> 00:05:54,070
would let me also update this option but

00:05:52,150 --> 00:05:56,590
in addition to just running simple

00:05:54,070 --> 00:05:59,500
commands working with the one type of

00:05:56,590 --> 00:06:01,660
data the real power of W CLI I think

00:05:59,500 --> 00:06:04,180
comes in and the workflow is in chaining

00:06:01,660 --> 00:06:07,660
that you can do so I used to work in

00:06:04,180 --> 00:06:11,200
enterprise publishing and sometimes our

00:06:07,660 --> 00:06:13,870
editorial team would put together say 50

00:06:11,200 --> 00:06:15,430
posts to go and publish and we would

00:06:13,870 --> 00:06:17,050
schedule them in WordPress which would

00:06:15,430 --> 00:06:21,340
create a cron job and WordPress to go

00:06:17,050 --> 00:06:24,010
and publish these posts and sometimes

00:06:21,340 --> 00:06:25,780
those cron jobs would fail and so we

00:06:24,010 --> 00:06:27,850
would get a support ticket from our

00:06:25,780 --> 00:06:30,070
content team saying huh why did my

00:06:27,850 --> 00:06:30,520
content not publish and can someone help

00:06:30,070 --> 00:06:32,470
me with that

00:06:30,520 --> 00:06:36,850
so that I don't have to click through 50

00:06:32,470 --> 00:06:39,850
posts so in this query here I'm saying

00:06:36,850 --> 00:06:45,289
get me a list of posts and I want to get

00:06:39,850 --> 00:06:47,629
the ID but in the category 3 5 7 8

00:06:45,289 --> 00:06:52,189
whatever that category is let's say it's

00:06:47,629 --> 00:06:55,550
my environment category I'm gonna get

00:06:52,189 --> 00:06:58,669
all my posts back in my environment

00:06:55,550 --> 00:07:01,759
category and then using a little tool

00:06:58,669 --> 00:07:03,889
called X arts I can pass the results of

00:07:01,759 --> 00:07:08,389
this list we're just going to return me

00:07:03,889 --> 00:07:11,869
a list of ID's to the next command so

00:07:08,389 --> 00:07:13,369
here I say I have one parameter this

00:07:11,869 --> 00:07:15,490
becomes my variable in these little

00:07:13,369 --> 00:07:18,199
brackets you can actually use other

00:07:15,490 --> 00:07:24,139
characters there but I like those and

00:07:18,199 --> 00:07:28,129
then execute a WP post term set so for

00:07:24,139 --> 00:07:30,259
every post in this category go and make

00:07:28,129 --> 00:07:33,020
it a video or go and publish that post

00:07:30,259 --> 00:07:36,409
so you can take the results of one query

00:07:33,020 --> 00:07:39,020
and pass them to your next command and

00:07:36,409 --> 00:07:42,559
there's a few ways to do this you can

00:07:39,020 --> 00:07:43,969
also use some really cool operators like

00:07:42,559 --> 00:07:47,419
if you're working in a multi-site

00:07:43,969 --> 00:07:50,029
installation and you have say 10 sites

00:07:47,419 --> 00:07:53,300
and you need to update a term medicate

00:07:50,029 --> 00:07:55,249
you re keyed the key and your PHP files

00:07:53,300 --> 00:07:56,899
and you need to switch from your o key

00:07:55,249 --> 00:07:59,569
to your new key you can do a search

00:07:56,899 --> 00:08:02,089
replace but you can use that wildcard

00:07:59,569 --> 00:08:08,930
star operator to say just loop over any

00:08:02,089 --> 00:08:11,870
table that is a WP term meta table so

00:08:08,930 --> 00:08:13,189
ywp CLI is great we can chain these

00:08:11,870 --> 00:08:15,259
commands together which gives us

00:08:13,189 --> 00:08:19,009
powerful conditions and queries and

00:08:15,259 --> 00:08:22,849
logic there's also a prompt flag if I

00:08:19,009 --> 00:08:24,649
type WP dash dash prompt that's going to

00:08:22,849 --> 00:08:26,719
enter an interactive mode that's going

00:08:24,649 --> 00:08:29,360
to let me step through each of the

00:08:26,719 --> 00:08:32,209
options so I think one of the scary

00:08:29,360 --> 00:08:33,860
things about the CLI is it feels like

00:08:32,209 --> 00:08:36,500
there's all this stuff that you need to

00:08:33,860 --> 00:08:39,050
learn and memorize to be able to use it

00:08:36,500 --> 00:08:41,959
and there are two commands that really

00:08:39,050 --> 00:08:44,449
make it much easier that you don't have

00:08:41,959 --> 00:08:45,769
to memorize most of the CLI one of those

00:08:44,449 --> 00:08:47,480
is prompt which puts me in that

00:08:45,769 --> 00:08:50,990
interactive mode it tells me what each

00:08:47,480 --> 00:08:55,569
potential option or flag is and the

00:08:50,990 --> 00:08:59,150
other one is help I can say WP help

00:08:55,569 --> 00:09:01,220
posts or post and that will give me

00:08:59,150 --> 00:09:06,440
all of these sub commands available on

00:09:01,220 --> 00:09:09,710
post and within the WP CLI there are 44

00:09:06,440 --> 00:09:11,779
core commands and so there's a ton of

00:09:09,710 --> 00:09:13,910
possibilities for how you can use those

00:09:11,779 --> 00:09:15,920
core commands and in addition to those

00:09:13,910 --> 00:09:19,100
core commands there are dozens of

00:09:15,920 --> 00:09:22,730
popular packages package is sort of like

00:09:19,100 --> 00:09:25,700
a plug-in for WP CLI that you can

00:09:22,730 --> 00:09:30,680
install and it works just as a custom

00:09:25,700 --> 00:09:32,779
command so why would someone want to go

00:09:30,680 --> 00:09:35,120
and create custom commands have all

00:09:32,779 --> 00:09:37,640
these i-44 commands in core I have

00:09:35,120 --> 00:09:41,870
dozens of others why would I need to go

00:09:37,640 --> 00:09:44,210
and make my custom command well I think

00:09:41,870 --> 00:09:46,220
part of one thing if you've started to

00:09:44,210 --> 00:09:48,100
use WP CLI enough that you've started to

00:09:46,220 --> 00:09:51,770
do is you've probably started to execute

00:09:48,100 --> 00:09:54,890
WP CLI commands in a bash file or maybe

00:09:51,770 --> 00:09:57,410
you've stored them in an alias on your

00:09:54,890 --> 00:10:00,860
machine and that's great it's a quick

00:09:57,410 --> 00:10:04,070
shortcut to get to that command and run

00:10:00,860 --> 00:10:05,750
it in a way that makes sense to you but

00:10:04,070 --> 00:10:08,360
there's some downsides because hard

00:10:05,750 --> 00:10:10,940
drives fail shell scripts can have

00:10:08,360 --> 00:10:12,830
permission issues and often somehow we

00:10:10,940 --> 00:10:16,820
don't commit those to version control as

00:10:12,830 --> 00:10:19,250
much as we really should and it's easier

00:10:16,820 --> 00:10:23,810
to run defensive checks in your code in

00:10:19,250 --> 00:10:27,230
PHP than it is in bash so you're more

00:10:23,810 --> 00:10:29,480
likely to do them and so I think it's

00:10:27,230 --> 00:10:33,050
there it's much easier to create a safe

00:10:29,480 --> 00:10:37,130
custom WP CLI command then a safe bash

00:10:33,050 --> 00:10:38,900
script so the other cool thing is that

00:10:37,130 --> 00:10:41,630
by running a custom command you're not

00:10:38,900 --> 00:10:43,610
necessarily leaving all the benefits of

00:10:41,630 --> 00:10:47,120
a bash script behind you

00:10:43,610 --> 00:10:49,279
you can intermix shell commands and PHP

00:10:47,120 --> 00:10:55,370
so it's kind of like being able to write

00:10:49,279 --> 00:10:57,740
PHP in a bash file the other benefit I

00:10:55,370 --> 00:11:00,680
didn't mention is that so those custom

00:10:57,740 --> 00:11:02,810
commands can live in both the WordPress

00:11:00,680 --> 00:11:06,110
plugin or one of those WP CLI packages

00:11:02,810 --> 00:11:09,560
you can also install a plug-in or

00:11:06,110 --> 00:11:12,680
package remotely on another server using

00:11:09,560 --> 00:11:16,850
your local copy of WP CLI so you

00:11:12,680 --> 00:11:18,770
can add an alias to vvv Orlando or local

00:11:16,850 --> 00:11:21,680
with flywheel that lets you communicate

00:11:18,770 --> 00:11:26,899
with your remote server and then just

00:11:21,680 --> 00:11:31,130
use an alias to say WP production you

00:11:26,899 --> 00:11:34,070
know plug-in install query monitor so

00:11:31,130 --> 00:11:37,220
you can use those aliases to have one WP

00:11:34,070 --> 00:11:39,140
CLI talk to another and that's really

00:11:37,220 --> 00:11:41,290
where if you're managing an agency if

00:11:39,140 --> 00:11:45,440
you're managing multiple installations

00:11:41,290 --> 00:11:47,720
configuring that that yamo file to have

00:11:45,440 --> 00:11:51,200
your environments in it and being able

00:11:47,720 --> 00:11:53,839
to use WP CLI from one location instead

00:11:51,200 --> 00:11:56,480
of having to learn how to SSH into 17

00:11:53,839 --> 00:11:59,000
different servers that's where the magic

00:11:56,480 --> 00:12:04,990
can really happen you could also set up

00:11:59,000 --> 00:12:07,640
a a mix of aliases so I could say WP all

00:12:04,990 --> 00:12:10,940
install classic editor which was

00:12:07,640 --> 00:12:14,959
something that the WP CLI account

00:12:10,940 --> 00:12:17,570
tweeted out before the 5.0 launch so I

00:12:14,959 --> 00:12:19,459
if I manage a hundred sites through WP

00:12:17,570 --> 00:12:22,279
CLI that would let me install that

00:12:19,459 --> 00:12:27,110
plug-in a hundred times on different

00:12:22,279 --> 00:12:28,730
sites simultaneously so how do I

00:12:27,110 --> 00:12:30,980
register one of these custom commands

00:12:28,730 --> 00:12:33,740
they're pretty straightforward if you've

00:12:30,980 --> 00:12:36,950
worked with PHP they they aren't they're

00:12:33,740 --> 00:12:40,690
much simpler than I thought they were so

00:12:36,950 --> 00:12:44,930
before you use any of the WP CLI

00:12:40,690 --> 00:12:46,990
internal API this add command you really

00:12:44,930 --> 00:12:48,860
want to make sure that it's available so

00:12:46,990 --> 00:12:50,810
make sure you have some kind of

00:12:48,860 --> 00:12:54,170
defensive check before you try to add

00:12:50,810 --> 00:12:57,380
these commands so if WP CLI is an

00:12:54,170 --> 00:13:00,050
available stop running but here I'm

00:12:57,380 --> 00:13:05,060
gonna add my command I have my WP

00:13:00,050 --> 00:13:07,250
pewpewpew command here and here in the

00:13:05,060 --> 00:13:09,680
second parameter it's just a call a

00:13:07,250 --> 00:13:12,560
callback callable function so that could

00:13:09,680 --> 00:13:14,779
be here an anonymous function it could

00:13:12,560 --> 00:13:18,380
be a function name it could be a class

00:13:14,779 --> 00:13:20,300
it could be a name spaced class and then

00:13:18,380 --> 00:13:23,360
that third parameter there which is an

00:13:20,300 --> 00:13:25,740
array just has a bunch of options you

00:13:23,360 --> 00:13:28,200
can put the descriptions in

00:13:25,740 --> 00:13:29,490
for your help command you can put in

00:13:28,200 --> 00:13:31,650
like a long description a short

00:13:29,490 --> 00:13:34,950
description but then there's also this

00:13:31,650 --> 00:13:37,560
concept of when the same way that

00:13:34,950 --> 00:13:40,170
WordPress has a hook system inside of it

00:13:37,560 --> 00:13:43,830
that says I want to run this code at

00:13:40,170 --> 00:13:47,490
this time in my application there's a

00:13:43,830 --> 00:13:49,680
hook system in WP CLI and so if you want

00:13:47,490 --> 00:13:52,020
to run your command before WordPress

00:13:49,680 --> 00:13:54,060
loads which sometimes you have to do if

00:13:52,020 --> 00:13:56,310
you want to use some of the core

00:13:54,060 --> 00:13:59,580
commands there is a core command called

00:13:56,310 --> 00:14:02,460
WP core download which lets you download

00:13:59,580 --> 00:14:07,080
WordPress core but if you wanted to use

00:14:02,460 --> 00:14:11,700
WP core download in your custom command

00:14:07,080 --> 00:14:18,690
you would need this when before WP load

00:14:11,700 --> 00:14:21,390
be able to use that function so what are

00:14:18,690 --> 00:14:24,780
some of the properties of a good custom

00:14:21,390 --> 00:14:26,460
command one of them and this isn't

00:14:24,780 --> 00:14:27,900
really a technical term it's more of an

00:14:26,460 --> 00:14:30,990
English term is parallel construction

00:14:27,900 --> 00:14:33,570
and this extends out into naming your

00:14:30,990 --> 00:14:36,600
functions and other pieces of code but

00:14:33,570 --> 00:14:39,960
it's the idea that words have pairings

00:14:36,600 --> 00:14:42,900
and that you would stop what you started

00:14:39,960 --> 00:14:47,250
and you would end what you began and you

00:14:42,900 --> 00:14:50,550
wouldn't start and then end you want to

00:14:47,250 --> 00:14:54,420
find these words that make sense

00:14:50,550 --> 00:15:00,150
together when you're writing commands so

00:14:54,420 --> 00:15:02,160
if you have ADD don't have delete you

00:15:00,150 --> 00:15:07,680
should have create and delete and add

00:15:02,160 --> 00:15:10,710
and remove you also want to try to mimic

00:15:07,680 --> 00:15:12,900
a lot of the arguments and core and as

00:15:10,710 --> 00:15:14,340
well as just other common CLI tools I

00:15:12,900 --> 00:15:17,010
think this is one of the biggest

00:15:14,340 --> 00:15:19,620
mistakes I have made as I've started

00:15:17,010 --> 00:15:21,930
diving into custom commands is let me

00:15:19,620 --> 00:15:26,640
make a very unique discreet name for

00:15:21,930 --> 00:15:29,130
this but that adds cognitive load it

00:15:26,640 --> 00:15:31,140
means that that's one more thing someone

00:15:29,130 --> 00:15:35,460
has to learn about your custom command

00:15:31,140 --> 00:15:37,830
so if there's an equivalent or something

00:15:35,460 --> 00:15:39,089
kind of similar and core or just

00:15:37,830 --> 00:15:42,149
something that's common

00:15:39,089 --> 00:15:45,329
in an other sea life packages that you

00:15:42,149 --> 00:15:48,779
use trying to make sure that it mirrors

00:15:45,329 --> 00:15:52,529
that so don't come up with your own like

00:15:48,779 --> 00:15:55,259
test flag try to use dry run which is

00:15:52,529 --> 00:15:57,089
the flag that WP CLI uses to let you

00:15:55,259 --> 00:15:59,219
execute a command and see what the

00:15:57,089 --> 00:16:06,409
results would be without actually

00:15:59,219 --> 00:16:09,359
affecting that result so in addition to

00:16:06,409 --> 00:16:12,899
to try to mimic those core and common

00:16:09,359 --> 00:16:15,749
arcs there are a bunch of parameters and

00:16:12,899 --> 00:16:17,639
WP CLI that aren't global but very

00:16:15,749 --> 00:16:18,989
common one of those is the format

00:16:17,639 --> 00:16:22,939
command you use it whenever you're

00:16:18,989 --> 00:16:27,089
working with an object in WordPress so

00:16:22,939 --> 00:16:29,369
it's not baked in out of the box that if

00:16:27,089 --> 00:16:32,849
that you could say format JSON format

00:16:29,369 --> 00:16:35,519
llamo for your custom command but it

00:16:32,849 --> 00:16:38,159
adds an immense level of value if you

00:16:35,519 --> 00:16:41,999
can work with your data in different

00:16:38,159 --> 00:16:44,129
formats so you know obviously don't over

00:16:41,999 --> 00:16:47,399
engineer something but consider adding

00:16:44,129 --> 00:16:50,849
you know adjacent export for your

00:16:47,399 --> 00:16:53,269
command consider adding a CSV export for

00:16:50,849 --> 00:16:53,269
your command

00:16:55,379 --> 00:16:59,669
there's also built a few other built-in

00:16:57,569 --> 00:17:02,249
tools so there's prompts which let me

00:16:59,669 --> 00:17:04,110
stop the command from running and ask

00:17:02,249 --> 00:17:06,539
are you really sure you want to do this

00:17:04,110 --> 00:17:10,230
before continuing often if you're gonna

00:17:06,539 --> 00:17:11,939
run you know delete or a very expensive

00:17:10,230 --> 00:17:13,949
operation on your database you might

00:17:11,939 --> 00:17:17,850
want to just double check it wasn't an

00:17:13,949 --> 00:17:21,089
accidental you know quick finger typo at

00:17:17,850 --> 00:17:22,679
the same point in time you want to make

00:17:21,089 --> 00:17:25,230
sure that all your prompts can be

00:17:22,679 --> 00:17:26,970
overridden programmatically which means

00:17:25,230 --> 00:17:29,309
that if you're gonna try to stop a

00:17:26,970 --> 00:17:32,070
command make sure that there's a way

00:17:29,309 --> 00:17:35,549
that someone can add a flag that says

00:17:32,070 --> 00:17:37,740
bypass let me just script this so that

00:17:35,549 --> 00:17:40,529
if you have a bash script or something

00:17:37,740 --> 00:17:42,330
else that's relying on your command it

00:17:40,529 --> 00:17:44,190
can still continue to execute and it

00:17:42,330 --> 00:17:48,480
doesn't have to have a human there to do

00:17:44,190 --> 00:17:50,879
it there's also a progress bar so if

00:17:48,480 --> 00:17:52,700
you're running an operation on say a

00:17:50,879 --> 00:17:54,860
thousand posts

00:17:52,700 --> 00:17:57,560
or whatever operation your command does

00:17:54,860 --> 00:18:01,310
is very expensive and it's looping over

00:17:57,560 --> 00:18:04,580
items there is a built-in progress bar

00:18:01,310 --> 00:18:07,640
that will create a time estimate for you

00:18:04,580 --> 00:18:11,660
and all sorts of fun stuff and you just

00:18:07,640 --> 00:18:15,400
sort of run a command and say alright

00:18:11,660 --> 00:18:19,910
next tick to the next progress tick mark

00:18:15,400 --> 00:18:23,000
in your for each loop and then a dry run

00:18:19,910 --> 00:18:25,760
parameter is really really helpful if

00:18:23,000 --> 00:18:28,430
your operation is doing something kind

00:18:25,760 --> 00:18:31,820
of dangerous enough or that you really

00:18:28,430 --> 00:18:33,890
would want to add that prompt again it's

00:18:31,820 --> 00:18:37,010
really nice to see that this search and

00:18:33,890 --> 00:18:40,900
replace is going to affect 23 database

00:18:37,010 --> 00:18:43,400
rows before I go and actually run those

00:18:40,900 --> 00:18:53,570
so now I just wanted to take a quick

00:18:43,400 --> 00:18:57,440
look some commands so I use lando for my

00:18:53,570 --> 00:18:59,540
local development lately and I'd say

00:18:57,440 --> 00:19:01,940
probably about once a week I end up

00:18:59,540 --> 00:19:04,640
spinning up a new WordPress website and

00:19:01,940 --> 00:19:06,410
it's fairly straightforward I you know

00:19:04,640 --> 00:19:09,050
but it probably takes me about 20

00:19:06,410 --> 00:19:11,510
minutes to go through and delete all the

00:19:09,050 --> 00:19:14,420
default HelloWorld content and all the

00:19:11,510 --> 00:19:17,780
widgets and set up all the settings how

00:19:14,420 --> 00:19:21,740
I want them so I wrote a little command

00:19:17,780 --> 00:19:24,290
that I can use any time I want to spin

00:19:21,740 --> 00:19:26,900
up a new environment and bring down all

00:19:24,290 --> 00:19:29,660
of the plugins and packages and settings

00:19:26,900 --> 00:19:33,860
that I want to work in in my local dev

00:19:29,660 --> 00:19:35,810
environment so here I'm again running a

00:19:33,860 --> 00:19:37,340
conditional check to make sure CLI is

00:19:35,810 --> 00:19:39,740
available before I go and try to add a

00:19:37,340 --> 00:19:42,380
command to it I'm just using the auto

00:19:39,740 --> 00:19:46,820
loader here to load in some namespaced

00:19:42,380 --> 00:19:50,120
files and then here I add my command so

00:19:46,820 --> 00:19:53,690
i WP CLI add command

00:19:50,120 --> 00:19:56,690
there's a string here Lando the second

00:19:53,690 --> 00:20:00,590
parameter is that callable parameter so

00:19:56,690 --> 00:20:03,860
I'm doing at the namespace for my Lando

00:20:00,590 --> 00:20:06,020
Cloud City command and then I have an

00:20:03,860 --> 00:20:07,880
array here where I'm saying

00:20:06,020 --> 00:20:09,530
run this command before wordpress loads

00:20:07,880 --> 00:20:12,230
because i'm gonna need to do one of

00:20:09,530 --> 00:20:21,500
those WP core downloads and wordpress

00:20:12,230 --> 00:20:28,130
isn't going to be available yet so that

00:20:21,500 --> 00:20:29,840
loads up this CLI file so i have a name

00:20:28,130 --> 00:20:31,910
space so i have to have a use statement

00:20:29,840 --> 00:20:34,850
at the top so that i can access those

00:20:31,910 --> 00:20:38,150
those global that global namespace and

00:20:34,850 --> 00:20:41,600
i'm using the I'm extending the WP CLI

00:20:38,150 --> 00:20:47,990
command base class and I have my class

00:20:41,600 --> 00:20:53,900
command and then right here I have my

00:20:47,990 --> 00:20:57,290
function install so in here I do a few

00:20:53,900 --> 00:21:00,050
basic checks I check if there is this

00:20:57,290 --> 00:21:02,750
this first args array or what are called

00:21:00,050 --> 00:21:05,330
positional arguments so those are

00:21:02,750 --> 00:21:09,980
whatever happened after a space so if I

00:21:05,330 --> 00:21:14,510
say WP post delete seven seven would be

00:21:09,980 --> 00:21:18,160
my zero argument my arms you for that

00:21:14,510 --> 00:21:21,860
command and then associative args are

00:21:18,160 --> 00:21:23,390
flags that have a key and a value so you

00:21:21,860 --> 00:21:26,240
have your positional commands which

00:21:23,390 --> 00:21:28,250
happen in an order after your command or

00:21:26,240 --> 00:21:30,890
sub command and then you have flags

00:21:28,250 --> 00:21:32,600
which are probably little bit familiar a

00:21:30,890 --> 00:21:37,190
little bit more familiar kind of like a

00:21:32,600 --> 00:21:40,040
query string so here I'm checking to

00:21:37,190 --> 00:21:44,450
make sure you know if if I've got my

00:21:40,040 --> 00:21:49,670
first positional argument or if a flag

00:21:44,450 --> 00:21:54,290
of URL has been set then create a URL

00:21:49,670 --> 00:21:58,070
variable now if you haven't used lando

00:21:54,290 --> 00:22:02,870
it creates sites by default with a

00:21:58,070 --> 00:22:05,120
subdomain Ln do site on your machine so

00:22:02,870 --> 00:22:08,150
here I set it up such that if I didn't

00:22:05,120 --> 00:22:11,000
want to have to type the whole URL every

00:22:08,150 --> 00:22:13,220
time I use this command it will check to

00:22:11,000 --> 00:22:17,570
see if Ln do that site is in that string

00:22:13,220 --> 00:22:20,970
and if it's not it will just put the

00:22:17,570 --> 00:22:25,080
value I passed into the URL

00:22:20,970 --> 00:22:29,760
so instead of having to type WP Lando

00:22:25,080 --> 00:22:32,000
install Bluehost and then HTTP or sorry

00:22:29,760 --> 00:22:35,430
instead of typing the WP plan to install

00:22:32,000 --> 00:22:38,720
HTTP Blue Hose lndia's site

00:22:35,430 --> 00:22:42,600
I could just say WP LAN to install

00:22:38,720 --> 00:22:46,830
Bluehost and that will install a site at

00:22:42,600 --> 00:22:53,820
that URL and here I'm using the internal

00:22:46,830 --> 00:22:56,250
API the error to halt and say site URL

00:22:53,820 --> 00:22:58,980
is required and then I'm here this is

00:22:56,250 --> 00:23:01,620
one of my biggest tips as you halt or

00:22:58,980 --> 00:23:05,220
sort of break the output of your command

00:23:01,620 --> 00:23:09,810
try to add some tips in there for

00:23:05,220 --> 00:23:13,260
yourself so you know try using URL slug

00:23:09,810 --> 00:23:15,060
or the actual URL and then it's like oh

00:23:13,260 --> 00:23:20,520
yeah I forgot I need to go do that and

00:23:15,060 --> 00:23:22,710
then you can rerun the command so here I

00:23:20,520 --> 00:23:25,020
have a public function any public

00:23:22,710 --> 00:23:30,860
function in this class becomes a sub

00:23:25,020 --> 00:23:35,760
command so if I have a public function

00:23:30,860 --> 00:23:39,690
uninstall that would instantly become WP

00:23:35,760 --> 00:23:43,410
Lando uninstall but protective functions

00:23:39,690 --> 00:23:46,860
and here do not become commands so I'd

00:23:43,410 --> 00:23:48,930
like to have a sort of a bunch of logic

00:23:46,860 --> 00:23:51,450
in a put in the public command and then

00:23:48,930 --> 00:23:53,760
run most of my code in some kind of

00:23:51,450 --> 00:23:57,780
protected command or separate those out

00:23:53,760 --> 00:24:00,930
into multiple functions in the class so

00:23:57,780 --> 00:24:02,010
here we can see that I've run an install

00:24:00,930 --> 00:24:05,070
I am saying

00:24:02,010 --> 00:24:09,600
first we run a WP CLI update then

00:24:05,070 --> 00:24:12,810
download WordPress core then create a WP

00:24:09,600 --> 00:24:17,520
config file with the following database

00:24:12,810 --> 00:24:19,350
username options etc this is the default

00:24:17,520 --> 00:24:21,360
that comes with lando right here so I'm

00:24:19,350 --> 00:24:27,860
just piping that through and then run a

00:24:21,360 --> 00:24:30,840
WP core install and here I'm taking the

00:24:27,860 --> 00:24:32,460
values that I'm parsed up here and

00:24:30,840 --> 00:24:35,429
install the URL

00:24:32,460 --> 00:24:38,519
and the title of the site and I'm

00:24:35,429 --> 00:24:40,110
running and install saying setup this

00:24:38,519 --> 00:24:43,529
WordPress site expect it to be at this

00:24:40,110 --> 00:24:45,690
URL expect this title set of an admin

00:24:43,529 --> 00:24:49,019
user called Lando with a password called

00:24:45,690 --> 00:24:51,149
Lando install a bunch of those WP CLI

00:24:49,019 --> 00:24:56,220
packages that don't come with core that

00:24:51,149 --> 00:24:58,590
have some cool features there is a WP

00:24:56,220 --> 00:25:00,299
revisions CLI package in here that lets

00:24:58,590 --> 00:25:01,440
you access post revisions that's pretty

00:25:00,299 --> 00:25:04,980
cool

00:25:01,440 --> 00:25:09,200
another one is WP sec which will compare

00:25:04,980 --> 00:25:19,320
your install against the WP Boehm

00:25:09,200 --> 00:25:21,869
database run command hook is really cool

00:25:19,320 --> 00:25:23,429
it has some features kind of similar to

00:25:21,869 --> 00:25:26,269
New Relic if you've ever used a new

00:25:23,429 --> 00:25:28,590
relic where you could look at a hook and

00:25:26,269 --> 00:25:30,990
where query monitor has some similar

00:25:28,590 --> 00:25:33,360
features where you can say what is

00:25:30,990 --> 00:25:40,350
attached to WP n queue scripts so I

00:25:33,360 --> 00:25:43,409
could say WP hook WP n Q scripts and see

00:25:40,350 --> 00:25:45,690
all of the code that's executing on that

00:25:43,409 --> 00:25:47,039
action Hulk and WordPress and so if I'm

00:25:45,690 --> 00:25:49,200
trying to debug something and I'm trying

00:25:47,039 --> 00:25:51,360
to see is my action running that would

00:25:49,200 --> 00:25:54,059
be a cool way to see my assets are

00:25:51,360 --> 00:25:57,690
registered or that code isn't quite

00:25:54,059 --> 00:26:00,029
making it their site empty is a really

00:25:57,690 --> 00:26:02,669
great command it will delete all the

00:26:00,029 --> 00:26:06,779
default content in WordPress without

00:26:02,669 --> 00:26:11,820
messing with the settings table so it

00:26:06,779 --> 00:26:15,419
will delete posts pages widgets any

00:26:11,820 --> 00:26:18,419
default data in there and then that WP

00:26:15,419 --> 00:26:21,690
CLI restful package is where you can

00:26:18,419 --> 00:26:28,919
interact with the REST API via the WP

00:26:21,690 --> 00:26:31,559
CLI it's awesome so I run some updates I

00:26:28,919 --> 00:26:33,389
set some options I set up some user meta

00:26:31,559 --> 00:26:37,019
I prefer my library in the list mode

00:26:33,389 --> 00:26:40,590
instead of the grid mode I wipe out some

00:26:37,019 --> 00:26:43,350
of the default themes I do a plug-in

00:26:40,590 --> 00:26:45,749
install and here I have an array at the

00:26:43,350 --> 00:26:46,350
top of this file called developer

00:26:45,749 --> 00:26:53,519
plugins

00:26:46,350 --> 00:26:55,649
and I just run a little implode and

00:26:53,519 --> 00:26:58,320
separate each item in that array with a

00:26:55,649 --> 00:27:00,000
space so I can say plug and install and

00:26:58,320 --> 00:27:02,789
that will space out each of these

00:27:00,000 --> 00:27:10,289
plugins download seven nine plugins

00:27:02,789 --> 00:27:12,570
there and that's about it

00:27:10,289 --> 00:27:15,330
at the bottom of this file another thing

00:27:12,570 --> 00:27:17,159
I recommend if you're making one command

00:27:15,330 --> 00:27:19,679
you're probably going to want to some

00:27:17,159 --> 00:27:21,779
helper functions within your class if

00:27:19,679 --> 00:27:24,029
you're making a series of commands

00:27:21,779 --> 00:27:26,070
I'd recommend making an abstract class

00:27:24,029 --> 00:27:29,700
of your own

00:27:26,070 --> 00:27:33,539
maybe abstract Dave's abstract command

00:27:29,700 --> 00:27:36,179
extends WP CLI command and then extend

00:27:33,539 --> 00:27:38,039
that class from all of your command

00:27:36,179 --> 00:27:45,600
classes so that you can put all of your

00:27:38,039 --> 00:27:52,049
helper functions in one place and we're

00:27:45,600 --> 00:27:53,909
gonna risk a live demo how about that so

00:27:52,049 --> 00:27:57,289
it's fun to talk about this stuff there

00:27:53,909 --> 00:27:57,289
being cooler actually see it

00:28:07,490 --> 00:28:15,380
all right so I'm gonna get my Lando

00:28:12,450 --> 00:28:15,380
machine started here

00:28:15,620 --> 00:28:25,020
pretty sure it's aria and then when I

00:28:22,080 --> 00:28:27,510
when I type my commands you're gonna see

00:28:25,020 --> 00:28:31,200
that I prefix them with Lando so I'm

00:28:27,510 --> 00:28:34,650
gonna type Land OWP instead of Justin WP

00:28:31,200 --> 00:28:37,260
that is not part of WP CLI that's just

00:28:34,650 --> 00:28:41,370
how my machine is set up to access

00:28:37,260 --> 00:28:44,190
Ceylon you could either SSH into your

00:28:41,370 --> 00:28:47,100
Lando box or it has a setup of command

00:28:44,190 --> 00:28:49,470
pass-throughs where when I type land OWP

00:28:47,100 --> 00:28:53,790
it takes that command and then it goes

00:28:49,470 --> 00:28:55,950
in and execute that in my remote box so

00:28:53,790 --> 00:29:01,580
it's just a little shortcut that lets me

00:28:55,950 --> 00:29:08,820
not have to SSH in so I'm going to first

00:29:01,580 --> 00:29:10,080
so I didn't clear this out so we're just

00:29:08,820 --> 00:29:15,680
gonna set it up in the beginning half of

00:29:10,080 --> 00:29:15,680
that yes

00:29:23,130 --> 00:29:30,040
kill all the things so I'm gonna make a

00:29:26,620 --> 00:29:36,510
directory for camp OC sale and oh and

00:29:30,040 --> 00:29:36,510
knit make a wordpress site

00:29:47,950 --> 00:29:52,910
so part there is no one I actually

00:29:50,000 --> 00:29:58,010
wanted to do this is that you can see WP

00:29:52,910 --> 00:30:01,700
CLI being downloaded by Lando so WP CLI

00:29:58,010 --> 00:30:03,620
is in what's called a for package a for

00:30:01,700 --> 00:30:06,320
package in simplest terms is just a

00:30:03,620 --> 00:30:08,540
bunch of PHP code assembled into one

00:30:06,320 --> 00:30:12,110
file in some way that's almost like a

00:30:08,540 --> 00:30:17,510
zip directory of code but it lets you

00:30:12,110 --> 00:30:20,140
put it in a spot on your system where

00:30:17,510 --> 00:30:23,870
you can make it executable and then

00:30:20,140 --> 00:30:27,830
whenever you type WP it's just piping

00:30:23,870 --> 00:30:35,210
all of all of your commands through to

00:30:27,830 --> 00:30:41,260
this one P har file so did it not show

00:30:35,210 --> 00:30:45,020
that I guess if I type land o WP oh

00:30:41,260 --> 00:31:00,620
great the joys of live demos let's see

00:30:45,020 --> 00:31:05,740
if I have another site set up so I get

00:31:00,620 --> 00:31:05,740
that started up for their idea

00:31:09,190 --> 00:31:15,700
so when I type WP this is what I would

00:31:12,220 --> 00:31:17,229
see on my screen so man did WordPress

00:31:15,700 --> 00:31:19,389
through the command line and then I have

00:31:17,229 --> 00:31:22,059
a list of all of the sub commands that

00:31:19,389 --> 00:31:25,149
come in core as well as anything that I

00:31:22,059 --> 00:31:27,519
have installed via a package so most of

00:31:25,149 --> 00:31:29,859
these are default commands you might

00:31:27,519 --> 00:31:31,570
notice that one of them is AIG let's

00:31:29,859 --> 00:31:37,629
give them in my Bluehost site and we

00:31:31,570 --> 00:31:39,369
have a command called AIG and then I've

00:31:37,629 --> 00:31:40,809
installed some other packages on this

00:31:39,369 --> 00:31:45,700
site so you can see that the rest

00:31:40,809 --> 00:31:51,759
command is available so I can say land o

00:31:45,700 --> 00:31:54,099
WP help rest I can see all the commands

00:31:51,759 --> 00:31:57,070
that come available with that package so

00:31:54,099 --> 00:32:00,789
I could say WP rest page and start

00:31:57,070 --> 00:32:17,379
interacting with page endpoints on the

00:32:00,789 --> 00:32:21,279
WordPress REST API lando dr. kaar sorry

00:32:17,379 --> 00:32:23,979
the WP dr. command is really kind of

00:32:21,279 --> 00:32:25,629
cool it lets you run a series of checks

00:32:23,979 --> 00:32:28,210
to diagnose issues with your WordPress

00:32:25,629 --> 00:32:29,649
site it's not one of the core packages

00:32:28,210 --> 00:32:33,399
but it was one of those packages I had

00:32:29,649 --> 00:32:34,570
in my package install list here I don't

00:32:33,399 --> 00:32:36,940
know if this is gonna work so I don't

00:32:34,570 --> 00:32:40,929
know if I already have it here I'm gonna

00:32:36,940 --> 00:32:48,460
do a land OWP package install and so I'm

00:32:40,929 --> 00:32:50,580
gonna say go out to github I did that

00:32:48,460 --> 00:32:50,580
run

00:32:52,530 --> 00:32:58,480
so glad to get hub find this repo

00:32:55,270 --> 00:32:59,200
I might get mad cuz I've already

00:32:58,480 --> 00:33:02,230
installed it

00:32:59,200 --> 00:33:03,790
we'll see it's basically going to go out

00:33:02,230 --> 00:33:07,750
and do a composer installed is gonna

00:33:03,790 --> 00:33:12,070
take a few minutes but after this is

00:33:07,750 --> 00:33:14,200
done I can use my WP Lando command

00:33:12,070 --> 00:33:15,820
within this install to try to run a

00:33:14,200 --> 00:33:17,020
wordpress install it's not gonna let me

00:33:15,820 --> 00:33:24,360
do that because I already have WordPress

00:33:17,020 --> 00:33:30,250
installed but cool now I have Lando WP

00:33:24,360 --> 00:33:32,350
Lando and it's gonna say to use this you

00:33:30,250 --> 00:33:37,050
have to use WP LAN to install okay and

00:33:32,350 --> 00:33:38,980
of WP Ian's Lando install the post and

00:33:37,050 --> 00:33:41,610
it's probably gonna be mad

00:33:38,980 --> 00:33:44,170
it says cool alright it tried to update

00:33:41,610 --> 00:33:46,930
WP CLI which is the first thing in my

00:33:44,170 --> 00:33:51,070
install file but then it errored out and

00:33:46,930 --> 00:33:52,630
it halted I ended my my instance and it

00:33:51,070 --> 00:33:53,950
says WordPress files seem to already be

00:33:52,630 --> 00:33:56,110
present here so I tried to download

00:33:53,950 --> 00:33:57,820
WordPress a conditional check within the

00:33:56,110 --> 00:34:01,090
command said WordPress is already there

00:33:57,820 --> 00:34:03,720
I'm done so that is one thing to know

00:34:01,090 --> 00:34:07,450
about custom commands if something fails

00:34:03,720 --> 00:34:09,790
in your command your command will halt

00:34:07,450 --> 00:34:11,169
right where your failure happens so if

00:34:09,790 --> 00:34:14,669
you have other things that you expect to

00:34:11,169 --> 00:34:17,080
happen after that those will not happen

00:34:14,669 --> 00:34:19,000
so it's part of the reason it's really

00:34:17,080 --> 00:34:20,350
important to be doing defensive checks

00:34:19,000 --> 00:34:22,659
in your code make sure

00:34:20,350 --> 00:34:33,040
is this really a string is it really not

00:34:22,659 --> 00:34:40,060
empty all right well the other thing I

00:34:33,040 --> 00:34:43,720
have is there's some cielab commands

00:34:40,060 --> 00:34:45,280
I've worked on for EIG and one of the

00:34:43,720 --> 00:34:48,909
kind of interesting use cases I had to

00:34:45,280 --> 00:34:51,520
solve here is that had half a dozen

00:34:48,909 --> 00:34:54,220
commands but the way this was initially

00:34:51,520 --> 00:34:56,649
set up they were registered under like a

00:34:54,220 --> 00:34:58,390
dozen different aliases so I had to have

00:34:56,649 --> 00:35:03,850
basically the same command registered

00:34:58,390 --> 00:35:05,290
under 12 different aliases so you can

00:35:03,850 --> 00:35:06,910
use the same command under different

00:35:05,290 --> 00:35:10,210
aliases if that's something that makes

00:35:06,910 --> 00:35:13,240
sense in a large company or client

00:35:10,210 --> 00:35:15,460
you're working with so all of the

00:35:13,240 --> 00:35:16,180
commands here are are registered to

00:35:15,460 --> 00:35:21,810
Bluehost

00:35:16,180 --> 00:35:21,810
as well as to I page as well as to be IG

00:35:26,460 --> 00:35:33,850
so you can loop over all your commands

00:35:31,330 --> 00:35:37,300
I've run a check here to say is this

00:35:33,850 --> 00:35:40,960
command supported on is this command

00:35:37,300 --> 00:35:42,460
supported on this particular brand maybe

00:35:40,960 --> 00:35:45,490
on a command it's only compatible with

00:35:42,460 --> 00:35:49,240
Bluehost but you know I page can't use

00:35:45,490 --> 00:35:51,760
it something like that so it's a lot of

00:35:49,240 --> 00:35:55,000
really fun things you can do with WP CLI

00:35:51,760 --> 00:35:56,620
to look for opportunities to script part

00:35:55,000 --> 00:35:58,110
of your workflows so look at things

00:35:56,620 --> 00:36:00,790
you're doing frequently whether that's

00:35:58,110 --> 00:36:03,220
setting up WordPress installs whether

00:36:00,790 --> 00:36:05,610
that whether you have a sort of

00:36:03,220 --> 00:36:08,380
methodical setup that you go through

00:36:05,610 --> 00:36:10,630
every time you check a site or maybe

00:36:08,380 --> 00:36:12,100
there's an audit a site audit you do for

00:36:10,630 --> 00:36:15,130
customers and there's some things you

00:36:12,100 --> 00:36:17,970
could automate in that but it's also

00:36:15,130 --> 00:36:20,320
just a really great tool to be able to

00:36:17,970 --> 00:36:23,710
tie WordPress and deeper into your

00:36:20,320 --> 00:36:26,980
server you can set up cron tabs that go

00:36:23,710 --> 00:36:29,170
out and execute WP CLI commands and

00:36:26,980 --> 00:36:32,470
really sort of get more automation going

00:36:29,170 --> 00:36:34,720
in your site so that's all I have for

00:36:32,470 --> 00:36:36,880
today so thank you all for coming I have

00:36:34,720 --> 00:36:47,820
a minute or two for questions so I'm

00:36:36,880 --> 00:36:52,110
happy to chat up any questions yeah oh I

00:36:47,820 --> 00:36:56,440
don't know oh we're gonna do it live so

00:36:52,110 --> 00:36:59,640
does Ellen I don't know why I can't

00:36:56,440 --> 00:36:59,640
remember why but I needed Ellen

00:37:03,750 --> 00:37:08,319
yeah that's right that's public now so

00:37:06,220 --> 00:37:11,470
if you wanted to go out to github.com

00:37:08,319 --> 00:37:13,599
slash Dave Ryan take a look at this

00:37:11,470 --> 00:37:17,020
little custom command class I have set

00:37:13,599 --> 00:37:19,180
up you can go and modify it to your

00:37:17,020 --> 00:37:29,640
liking and have a little setup on line

00:37:19,180 --> 00:37:38,220
up for yourself yeah I don't know

00:37:29,640 --> 00:37:41,290
okay sure anyone else yeah the Kennedy

00:37:38,220 --> 00:37:44,349
so how would I put a link to them in the

00:37:41,290 --> 00:37:45,910
github repos readme so so they

00:37:44,349 --> 00:37:57,369
everything will be on that little github

00:37:45,910 --> 00:38:00,819
repo Dave Ryan slash WP dash Lando I'm

00:37:57,369 --> 00:38:06,220
working on there we got so Dave Ryan the

00:38:00,819 --> 00:38:08,770
D is a 0 WP Lando and if you want to go

00:38:06,220 --> 00:38:10,599
and create a custom command and you're

00:38:08,770 --> 00:38:13,060
not really sure how to get started you

00:38:10,599 --> 00:38:15,520
can use the WP CLI to get started there

00:38:13,060 --> 00:38:17,530
is ace command in the WPC I called

00:38:15,520 --> 00:38:21,220
scaffold it will create a boilerplate

00:38:17,530 --> 00:38:23,829
plug-in for you a boilerplate theme unit

00:38:21,220 --> 00:38:26,800
tests that's all sorts of cool stuff but

00:38:23,829 --> 00:38:29,500
it will also scaffold a WP CLI package

00:38:26,800 --> 00:38:32,500
for you so that you can pretty much just

00:38:29,500 --> 00:38:34,930
get started and it's even generates unit

00:38:32,500 --> 00:38:41,069
functional tests in there and a few

00:38:34,930 --> 00:38:49,450
other few other niceties so anyone else

00:38:41,069 --> 00:38:50,980
all right yeah I'm not sure about what I

00:38:49,450 --> 00:38:54,490
find myself using most frequently I

00:38:50,980 --> 00:38:56,440
think it's that's kind of mixed favors

00:38:54,490 --> 00:38:58,630
definitely search replace I think search

00:38:56,440 --> 00:39:02,140
replace is the most powerful command +

00:38:58,630 --> 00:39:03,849
WP CLI it was actually I think not not

00:39:02,140 --> 00:39:06,700
quite a fork but sort of like a fork and

00:39:03,849 --> 00:39:08,530
copy of another plug-in that used to do

00:39:06,700 --> 00:39:11,770
it in a graphic user interface in the

00:39:08,530 --> 00:39:12,400
admin I really like the wild-card

00:39:11,770 --> 00:39:16,660
feature

00:39:12,400 --> 00:39:19,000
multi-site and the dry run in there is

00:39:16,660 --> 00:39:21,549
really powerful so if I'm expecting to

00:39:19,000 --> 00:39:23,680
update 50 rows and I can get it you know

00:39:21,549 --> 00:39:28,500
oh we were about to update 50 rows if

00:39:23,680 --> 00:39:28,500
you do this just very very comforting so

00:39:30,000 --> 00:39:35,430
alright let's go how so much thanks so

00:39:32,950 --> 00:39:35,430

YouTube URL: https://www.youtube.com/watch?v=CC07nGAFr60


