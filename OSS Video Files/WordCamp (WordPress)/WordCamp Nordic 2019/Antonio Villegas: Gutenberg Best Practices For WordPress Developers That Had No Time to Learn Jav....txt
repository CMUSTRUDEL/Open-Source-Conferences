Title: Antonio Villegas: Gutenberg Best Practices For WordPress Developers That Had No Time to Learn Jav...
Publication date: 2019-09-08
Playlist: WordCamp Nordic 2019
Description: 
	The new WordPress block editor (a.k.a. Gutenberg) is a radical change for developers used to working with PHP. If you needed to learn JavaScript deeply and quickly to update your plugins and keep everything working, you may still feel a bit overwhelmed. The development of blocks represents a major challenge for all of us not proficient in JavaScript. In this talk we will show you a set of good practices to follow when developing with Gutenberg, as well as typical mistakes that you should avoid so that your code doesn’t break anything.

Presentation slides: https://drive.google.com/file/d/1UYu32-oCAnr0Fx7KFUnlNJ_YGlF11JLX/view?usp=sharing
WPTV link: https://wordpress.tv/2019/06/10/antonio-villegas-gutenberg-best-practices-for-wordpress-developers-that-had-no-time-to-learn-javascript-deeply/
Captions: 
	00:00:00,060 --> 00:00:04,020
well thank you very much for being here

00:00:02,580 --> 00:00:06,420
today

00:00:04,020 --> 00:00:10,019
my name is Antonio I come from Barcelona

00:00:06,420 --> 00:00:16,740
where I live where I work we have had

00:00:10,019 --> 00:00:18,869
different weather and well I work

00:00:16,740 --> 00:00:20,850
developing planning for WordPress in my

00:00:18,869 --> 00:00:23,100
own company now your software we are a

00:00:20,850 --> 00:00:28,980
very very small company only three

00:00:23,100 --> 00:00:33,719
people and well let's start with the

00:00:28,980 --> 00:00:38,280
topic do you know that guy yeah Matt

00:00:33,719 --> 00:00:41,610
Mullenweg in the state of the world 2015

00:00:38,280 --> 00:00:45,629
work on us say the following that we

00:00:41,610 --> 00:00:47,730
should learn JavaScript Ripley so my

00:00:45,629 --> 00:00:54,230
question for you guys is the jeweller

00:00:47,730 --> 00:00:54,230
there was creep deeply because I don't I

00:00:55,160 --> 00:01:04,680
didn't I didn't learn JavaScript lately

00:00:58,370 --> 00:01:07,140
and the reason is because being a small

00:01:04,680 --> 00:01:10,650
company you have very limited resources

00:01:07,140 --> 00:01:17,520
with limited time and I had the time to

00:01:10,650 --> 00:01:19,470
learn JavaScript deeply also it wasn't a

00:01:17,520 --> 00:01:21,450
priority to learn JavaScript deeply for

00:01:19,470 --> 00:01:25,830
my business because my plan is working

00:01:21,450 --> 00:01:28,970
so back in 2015 I have no idea Gutenberg

00:01:25,830 --> 00:01:34,579
was in the cook in the kitchen I think

00:01:28,970 --> 00:01:38,869
so the problem becomes a pre became a

00:01:34,579 --> 00:01:41,280
priority when in last December Gutenberg

00:01:38,869 --> 00:01:45,329
finally was an on-set with a release

00:01:41,280 --> 00:01:49,170
date it was at that moment when I think

00:01:45,329 --> 00:01:51,240
I thought that well we had a problem we

00:01:49,170 --> 00:01:54,659
need to make our problems compact

00:01:51,240 --> 00:01:57,960
compatible with Gutenberg and the new

00:01:54,659 --> 00:02:00,840
editor in order to continue with our

00:01:57,960 --> 00:02:05,430
business so I started learning

00:02:00,840 --> 00:02:07,950
JavaScript deeply at that moment and I

00:02:05,430 --> 00:02:11,340
discovered that learning JavaScript is

00:02:07,950 --> 00:02:13,750
not only learning javascript is learning

00:02:11,340 --> 00:02:15,910
the rip Gutenberg and all

00:02:13,750 --> 00:02:18,730
this stuff that you can see here because

00:02:15,910 --> 00:02:23,890
everybody is using it including

00:02:18,730 --> 00:02:32,070
Gutenberg so well here you have two

00:02:23,890 --> 00:02:32,070
options first one is complain and sorry

00:02:32,100 --> 00:02:47,560
okay now I'm complaining okay the first

00:02:44,020 --> 00:02:50,470
one is complain you know you can yell at

00:02:47,560 --> 00:02:53,500
the sky and say why me why me but this

00:02:50,470 --> 00:02:57,850
won't do anything you'll have the

00:02:53,500 --> 00:03:00,420
problem already so being an open source

00:02:57,850 --> 00:03:04,239
community like WordPress we have the

00:03:00,420 --> 00:03:07,900
benefit of looking at the source code of

00:03:04,239 --> 00:03:10,600
other plugins other plugins from other

00:03:07,900 --> 00:03:17,650
companies now have more resources than I

00:03:10,600 --> 00:03:20,500
have so that's what I did so in order to

00:03:17,650 --> 00:03:23,430
start you need modern build process but

00:03:20,500 --> 00:03:26,110
I didn't know how to create one so I

00:03:23,430 --> 00:03:27,880
explored the the most common plugins

00:03:26,110 --> 00:03:34,320
that had the resources to adapt to

00:03:27,880 --> 00:03:37,690
timber before that I could so with that

00:03:34,320 --> 00:03:40,450
plugins I investigated how they how they

00:03:37,690 --> 00:03:42,970
did all the things and they were using

00:03:40,450 --> 00:03:47,230
compiler transpilers linters banners and

00:03:42,970 --> 00:03:50,890
all just that stuff that we saw that so

00:03:47,230 --> 00:03:52,829
here so I extracted that information

00:03:50,890 --> 00:03:55,360
understand what they did and create

00:03:52,829 --> 00:03:58,060
WordPress blog editor boilerplate that

00:03:55,360 --> 00:04:02,590
is a belief I'm available for free for

00:03:58,060 --> 00:04:04,540
you to use so you have to not worry

00:04:02,590 --> 00:04:07,200
about all this stuff because you can

00:04:04,540 --> 00:04:10,180
download it and start creating your

00:04:07,200 --> 00:04:12,420
projects on top of that without all the

00:04:10,180 --> 00:04:18,700
problems that configurations are

00:04:12,420 --> 00:04:22,270
introduced so now I was able to write

00:04:18,700 --> 00:04:24,280
JavaScript on top of something the

00:04:22,270 --> 00:04:26,590
problem is that I was reading Gutenberg

00:04:24,280 --> 00:04:29,139
that can the JavaScript code in

00:04:26,590 --> 00:04:33,130
inside and I couldn't understand

00:04:29,139 --> 00:04:35,740
anything about that because because the

00:04:33,130 --> 00:04:38,230
syntax was really different of course

00:04:35,740 --> 00:04:41,380
I'm not developer I know how to program

00:04:38,230 --> 00:04:44,940
but all these tough object the

00:04:41,380 --> 00:04:47,740
structuring latent cones on that

00:04:44,940 --> 00:04:52,830
construction that you see right there

00:04:47,740 --> 00:04:56,380
are new for me so in order to start

00:04:52,830 --> 00:04:58,870
writing JavaScript instead of learning

00:04:56,380 --> 00:05:01,740
JavaScript deeply what I needed at first

00:04:58,870 --> 00:05:06,250
was to understand the syntax behind that

00:05:01,740 --> 00:05:09,400
so it took me a couple of hours not more

00:05:06,250 --> 00:05:12,550
and I was ready after doing some

00:05:09,400 --> 00:05:16,270
tutorials to to be ready to to learn and

00:05:12,550 --> 00:05:17,950
understand the damn code number code so

00:05:16,270 --> 00:05:21,100
my recommendation is that you start by

00:05:17,950 --> 00:05:26,620
understanding the JavaScript model and

00:05:21,100 --> 00:05:30,160
syntax then maybe you think well I need

00:05:26,620 --> 00:05:32,260
to also learn proactively wrong you

00:05:30,160 --> 00:05:36,210
don't need to understand anything about

00:05:32,260 --> 00:05:38,950
react when working on top of Gutenberg

00:05:36,210 --> 00:05:43,120
what you really need is to understand

00:05:38,950 --> 00:05:45,370
the JSX syntax which is kind of HTML

00:05:43,120 --> 00:05:47,890
with superpowers that allows you to

00:05:45,370 --> 00:05:52,360
create user interfaces on top of

00:05:47,890 --> 00:05:57,580
Gutenberg here's a nice example that

00:05:52,360 --> 00:06:01,270
uses a heading attack but also there are

00:05:57,580 --> 00:06:01,930
other components inside Guttenberg that

00:06:01,270 --> 00:06:04,690
you can reuse

00:06:01,930 --> 00:06:05,889
so don't reinvent the wheel don't start

00:06:04,690 --> 00:06:08,530
from scratch there are a lot of

00:06:05,889 --> 00:06:10,570
components like here color picker that

00:06:08,530 --> 00:06:17,080
it's already including bearer for you to

00:06:10,570 --> 00:06:20,200
use another thing that was really really

00:06:17,080 --> 00:06:22,060
surprising to me was that everybody was

00:06:20,200 --> 00:06:24,760
talking about in tutorials on internet

00:06:22,060 --> 00:06:27,400
about register block type which is the

00:06:24,760 --> 00:06:29,190
main function behind Gutenberg that

00:06:27,400 --> 00:06:32,560
allows you to create new jobs every

00:06:29,190 --> 00:06:34,930
single tutorial out there is explaining

00:06:32,560 --> 00:06:37,570
how this function works and how you can

00:06:34,930 --> 00:06:40,100
create new blocks inside Guttenberg but

00:06:37,570 --> 00:06:42,440
nobody told me that there are

00:06:40,100 --> 00:06:47,090
lots of functions for you to use as a

00:06:42,440 --> 00:06:49,340
developer so I'm not going to explain

00:06:47,090 --> 00:06:51,710
anything about register block type today

00:06:49,340 --> 00:06:54,440
because it's easy to find on internet

00:06:51,710 --> 00:06:56,900
I'm going to explain a couple of methods

00:06:54,440 --> 00:07:00,610
that are very interesting and very

00:06:56,900 --> 00:07:00,610
powerful and less popular

00:07:01,300 --> 00:07:07,790
the first one is registered plane that's

00:07:05,660 --> 00:07:11,540
a method that allows you to be include

00:07:07,790 --> 00:07:13,550
are an extension in the editor that

00:07:11,540 --> 00:07:15,770
appears in the sidebar off of the

00:07:13,550 --> 00:07:18,380
observatory itself so it's really easy

00:07:15,770 --> 00:07:21,170
to use you use you only need to to call

00:07:18,380 --> 00:07:24,890
the register plugin function include a

00:07:21,170 --> 00:07:26,510
name in an a configuration including the

00:07:24,890 --> 00:07:30,500
icon that you want to show in this case

00:07:26,510 --> 00:07:32,810
hurt which is the her - icon and which

00:07:30,500 --> 00:07:36,800
is the component that you want to to

00:07:32,810 --> 00:07:40,400
render and the component is also very

00:07:36,800 --> 00:07:42,950
easy to understand this component is

00:07:40,400 --> 00:07:45,980
just a function that returns some JSX

00:07:42,950 --> 00:07:48,410
which is a fragment another reusable

00:07:45,980 --> 00:07:50,780
component that wraps everything and

00:07:48,410 --> 00:07:53,990
inside you have a plug-in sidebar more

00:07:50,780 --> 00:07:56,720
menu item which is an item in the menu

00:07:53,990 --> 00:07:58,640
and the sidebar itself

00:07:56,720 --> 00:08:02,990
that includes in this case a color

00:07:58,640 --> 00:08:07,190
picker only by doing that you can have

00:08:02,990 --> 00:08:10,310
all that you can see there my plan with

00:08:07,190 --> 00:08:15,710
the health icon and the sidebar with the

00:08:10,310 --> 00:08:20,600
color picker that is he so finally

00:08:15,710 --> 00:08:27,100
writing components in in Gutenberg is

00:08:20,600 --> 00:08:30,230
nothing more difficult than that another

00:08:27,100 --> 00:08:35,570
very very powerful method that maybe

00:08:30,230 --> 00:08:38,510
nobody of you now is the subscribe'

00:08:35,570 --> 00:08:41,450
method inside the data package that

00:08:38,510 --> 00:08:44,750
method allows you to put inside a

00:08:41,450 --> 00:08:47,589
listener function that will listen all

00:08:44,750 --> 00:08:50,630
the changes in the editor so anytime

00:08:47,589 --> 00:08:53,260
changes occurs in the editor your

00:08:50,630 --> 00:08:53,260
function will execute

00:08:53,450 --> 00:08:59,450
it's an example imagine that I want to

00:08:56,410 --> 00:09:03,350
call the function on title change from

00:08:59,450 --> 00:09:03,970
malfunctions anytime that the title of

00:09:03,350 --> 00:09:07,430
the post

00:09:03,970 --> 00:09:13,340
changes so I call the SUBSCRIBE and

00:09:07,430 --> 00:09:16,340
inside I put a function where these two

00:09:13,340 --> 00:09:19,820
lines get me the title of the post and

00:09:16,340 --> 00:09:22,190
then I call the untitled change but

00:09:19,820 --> 00:09:24,860
please if you want to use the SUBSCRIBE

00:09:22,190 --> 00:09:26,750
method take into account that this

00:09:24,860 --> 00:09:30,170
willing will introduce a performance

00:09:26,750 --> 00:09:33,980
issue because anytime our changes occurs

00:09:30,170 --> 00:09:34,910
in the in the editor tooth function will

00:09:33,980 --> 00:09:38,000
be executed

00:09:34,910 --> 00:09:39,770
not every time that the title changes so

00:09:38,000 --> 00:09:44,690
anytime that you use the SUBSCRIBE

00:09:39,770 --> 00:09:48,560
method please use a condition like that

00:09:44,690 --> 00:09:51,380
I just added and if that checks whether

00:09:48,560 --> 00:09:57,130
the title has changed or not and if it

00:09:51,380 --> 00:10:00,890
didn't get returned but this has some

00:09:57,130 --> 00:10:04,910
some particularities for example let's

00:10:00,890 --> 00:10:07,430
say that you write the code on top which

00:10:04,910 --> 00:10:10,790
is another call to the SUBSCRIBE method

00:10:07,430 --> 00:10:15,710
and you include your function that do

00:10:10,790 --> 00:10:18,170
something and then I write the function

00:10:15,710 --> 00:10:21,080
in the bottom that only calls our

00:10:18,170 --> 00:10:24,110
console you lock if due to that you

00:10:21,080 --> 00:10:26,210
subscribe it first so every time I

00:10:24,110 --> 00:10:28,070
changes of course in the editor your

00:10:26,210 --> 00:10:30,260
function will execute but your function

00:10:28,070 --> 00:10:33,050
has an error that will throw an execute

00:10:30,260 --> 00:10:39,440
and an exception that will stop the

00:10:33,050 --> 00:10:42,710
execution so my code will never run my

00:10:39,440 --> 00:10:45,500
suggestion here is that you need to be

00:10:42,710 --> 00:10:49,760
aware that you are not alone that even

00:10:45,500 --> 00:10:53,990
though you won't produce a quite

00:10:49,760 --> 00:10:55,880
discreet of death like in PHP you should

00:10:53,990 --> 00:10:58,250
write the day the JavaScript code

00:10:55,880 --> 00:11:02,560
respectfully or otherwise you may write

00:10:58,250 --> 00:11:06,560
a remark you may break things

00:11:02,560 --> 00:11:09,260
so finally we come back to the

00:11:06,560 --> 00:11:11,810
beginning about learning JavaScript

00:11:09,260 --> 00:11:15,529
deeply that that was our assignment

00:11:11,810 --> 00:11:18,490
according to Matt but in my opinion what

00:11:15,529 --> 00:11:22,520
you should do is learn Gutenberg

00:11:18,490 --> 00:11:24,350
shallowly not deeply and then start

00:11:22,520 --> 00:11:28,930
developing quickly because that way

00:11:24,350 --> 00:11:31,550
you'll be able to react faster and to

00:11:28,930 --> 00:11:35,060
have a big picture of the project and

00:11:31,550 --> 00:11:38,270
then go deep with what you really are

00:11:35,060 --> 00:11:39,710
interested on doing so that's pretty

00:11:38,270 --> 00:11:40,770
much what we have today

00:11:39,710 --> 00:11:41,710
thank you

00:11:40,770 --> 00:11:45,770
[Applause]

00:11:41,710 --> 00:11:48,419
[Music]

00:11:45,770 --> 00:11:48,419

YouTube URL: https://www.youtube.com/watch?v=5JYTw9mMfWI


