Title: Jenny Wong: Getting ready for PHP7.2
Publication date: 2019-09-08
Playlist: WordCamp Nordic 2019
Description: 
	At the State of the Word, it was announced that one of the upcoming focuses of the WordPress project is raising the minimum version requirement of PHP.
WordPress core is already PHP7.2 compatible but are your plugins and themes?
In this talk, Jenny will be looking at the steps needed to check if plugins and themes are compatible, and the lessons learned from doing the steps.
Are you PHPrepared?

Presentation slides: https://drive.google.com/open?id=1dg1H91jOWg340LRv7EYcrydqUdPsGcyt
WPTV link: https://wordpress.tv/2019/06/14/jenny-wong-getting-ready-for-php7-2/
Captions: 
	00:00:00,030 --> 00:00:09,630
yeah hello okay it works fantastic okay

00:00:06,690 --> 00:00:11,700
time started hi everyone

00:00:09,630 --> 00:00:12,990
gosh there are more seats at the front

00:00:11,700 --> 00:00:14,250
if you do want to come to the front

00:00:12,990 --> 00:00:16,890
that's cool

00:00:14,250 --> 00:00:18,270
my name is Jenny as Sonia just mentioned

00:00:16,890 --> 00:00:22,920
and I want to talk to you today about

00:00:18,270 --> 00:00:25,320
getting ready for PHP 7.2 I really

00:00:22,920 --> 00:00:28,920
should have updated the top title

00:00:25,320 --> 00:00:30,720
because really it should be 7.3 it's

00:00:28,920 --> 00:00:34,140
just that when I submitted my talk I

00:00:30,720 --> 00:00:38,250
kind of forgot that updates happen which

00:00:34,140 --> 00:00:38,940
is ironic so what is PHP let's start at

00:00:38,250 --> 00:00:41,520
the beginning

00:00:38,940 --> 00:00:44,450
PHP is part of the foundation of

00:00:41,520 --> 00:00:46,590
WordPress it's the primary thing

00:00:44,450 --> 00:00:49,530
probably with technology that WordPress

00:00:46,590 --> 00:00:51,059
runs on top of amongst other things and

00:00:49,530 --> 00:00:53,550
it's an important part of WordPress

00:00:51,059 --> 00:00:56,789
without PHP we don't really have

00:00:53,550 --> 00:00:58,980
WordPress as we expect it today there

00:00:56,789 --> 00:01:06,689
are three current supported versions of

00:00:58,980 --> 00:01:10,130
PHP 7.1 7.2 and 7.3 and if you go on the

00:01:06,689 --> 00:01:12,570
php.net website you'll be able to see

00:01:10,130 --> 00:01:14,939
what the roadmap of these supported

00:01:12,570 --> 00:01:16,920
versions are I want to highlight one

00:01:14,939 --> 00:01:19,020
particular thing on here which is the

00:01:16,920 --> 00:01:22,320
way they talk about active support and

00:01:19,020 --> 00:01:25,170
security support so once a version of

00:01:22,320 --> 00:01:27,479
PHP is released it has active support

00:01:25,170 --> 00:01:29,250
for about two years which means that bug

00:01:27,479 --> 00:01:30,900
fixes will happen and there are small

00:01:29,250 --> 00:01:33,390
increments and then it turns into

00:01:30,900 --> 00:01:35,189
security support for one year where

00:01:33,390 --> 00:01:37,259
you're only security critical things

00:01:35,189 --> 00:01:40,229
happen and that's quite important

00:01:37,259 --> 00:01:44,670
because even today security releases for

00:01:40,229 --> 00:01:48,659
PHP 71 72 and 73 were released I think

00:01:44,670 --> 00:01:51,570
this morning or last night now you've

00:01:48,659 --> 00:01:53,310
probably noticed that 7.1 is in orange

00:01:51,570 --> 00:01:55,590
and I've highlighted it even more here

00:01:53,310 --> 00:01:57,290
and that's because the active support if

00:01:55,590 --> 00:02:01,380
everyone remembers what today's date is

00:01:57,290 --> 00:02:03,030
ended last December and the security

00:02:01,380 --> 00:02:06,110
support has started which means we've

00:02:03,030 --> 00:02:08,580
got eight months before that is also

00:02:06,110 --> 00:02:11,000
end-of-life which makes me feel like

00:02:08,580 --> 00:02:11,000
this cat

00:02:11,019 --> 00:02:14,870
so if we're going to talk about

00:02:12,709 --> 00:02:18,290
WordPress and PHP we should actually

00:02:14,870 --> 00:02:21,349
look at what versions of PHP people are

00:02:18,290 --> 00:02:23,060
using to run their WordPress sites and

00:02:21,349 --> 00:02:25,310
there is a pie chart for that because

00:02:23,060 --> 00:02:27,739
there always is on the wordpress.org

00:02:25,310 --> 00:02:29,629
website there's a lovely page called

00:02:27,739 --> 00:02:32,299
stats and you can find out lots of

00:02:29,629 --> 00:02:36,519
information like WordPress stats and on

00:02:32,299 --> 00:02:40,040
PHP stats and this is the stats form not

00:02:36,519 --> 00:02:41,269
today but yesterday and I doubt they've

00:02:40,040 --> 00:02:43,430
really changed that much overnight

00:02:41,269 --> 00:02:45,650
unless you've all gone and upgraded PHP

00:02:43,430 --> 00:02:48,790
which is fantastic and I can just get

00:02:45,650 --> 00:02:53,030
off stage what you can see from this is

00:02:48,790 --> 00:02:56,530
over half or just under half of versions

00:02:53,030 --> 00:02:59,720
of PHP people are using a 5.6 and 7.0

00:02:56,530 --> 00:03:03,200
now the end of life for those two

00:02:59,720 --> 00:03:05,930
editions of PHP was December last year

00:03:03,200 --> 00:03:08,420
so these are not gained any of the

00:03:05,930 --> 00:03:12,400
security updates that were released this

00:03:08,420 --> 00:03:15,880
morning which makes me feel like this

00:03:12,400 --> 00:03:19,819
the whole greyed out area is all the

00:03:15,880 --> 00:03:22,730
unsupported non secure versions of PHP

00:03:19,819 --> 00:03:25,370
and it makes me just cry a little bit

00:03:22,730 --> 00:03:31,430
inside and it's not just one zombie it's

00:03:25,370 --> 00:03:34,400
really a whole army of them and it is

00:03:31,430 --> 00:03:36,290
funny and I have done let's talk

00:03:34,400 --> 00:03:39,230
multiple times in different iterations

00:03:36,290 --> 00:03:42,440
and the PI for supported versions is

00:03:39,230 --> 00:03:44,080
getting bigger but we all have a hand in

00:03:42,440 --> 00:03:47,860
this

00:03:44,080 --> 00:03:51,370
we need to check if we have a zombie PHP

00:03:47,860 --> 00:03:53,710
lurking in one of our websites how many

00:03:51,370 --> 00:03:57,400
of you here can be confident that you

00:03:53,710 --> 00:04:02,170
have a current version of PHP winning

00:03:57,400 --> 00:04:04,600
your websites that's not all of you so

00:04:02,170 --> 00:04:07,120
some of you have homework to do but it's

00:04:04,600 --> 00:04:08,440
really easy there is always a plug-in

00:04:07,120 --> 00:04:11,920
for everything in WordPress and this

00:04:08,440 --> 00:04:13,990
includes PHP you can download the site

00:04:11,920 --> 00:04:16,359
health check plug-in and that will tell

00:04:13,990 --> 00:04:18,130
you what version of PHP you are running

00:04:16,359 --> 00:04:19,780
so you don't have to try and work out

00:04:18,130 --> 00:04:21,850
where it isn't cPanel you can just look

00:04:19,780 --> 00:04:23,260
on the inside of WordPress and it will

00:04:21,850 --> 00:04:25,210
tell you in the dashboard which is

00:04:23,260 --> 00:04:28,090
fantastic

00:04:25,210 --> 00:04:29,950
the good news WordPress works on all the

00:04:28,090 --> 00:04:31,540
latest versions of PHP it's one of the

00:04:29,950 --> 00:04:34,090
first projects to run on the latest

00:04:31,540 --> 00:04:36,850
versions of PHP so we are doing good in

00:04:34,090 --> 00:04:39,640
that sense but it's always the custom

00:04:36,850 --> 00:04:43,780
code the plugins the themes that we

00:04:39,640 --> 00:04:46,270
actually need to check there's a tour

00:04:43,780 --> 00:04:48,300
for it like all good things in the tech

00:04:46,270 --> 00:04:50,950
world there's a tool for everything and

00:04:48,300 --> 00:04:53,770
there's a tool called static analyzers

00:04:50,950 --> 00:04:57,520
in the tech world and basically they're

00:04:53,770 --> 00:04:59,260
spell checkers if you they check for

00:04:57,520 --> 00:05:00,580
your spelling mistakes in your code and

00:04:59,260 --> 00:05:02,770
they will check against different

00:05:00,580 --> 00:05:04,840
versions of PHP but they do not check

00:05:02,770 --> 00:05:07,120
that this code makes sense so the

00:05:04,840 --> 00:05:10,060
center's might be gibberish and it will

00:05:07,120 --> 00:05:13,630
pass so if you're not a developer but

00:05:10,060 --> 00:05:16,510
you want to see whether your website can

00:05:13,630 --> 00:05:20,380
be running on a later version of PHP you

00:05:16,510 --> 00:05:21,580
can there are solutions for you like all

00:05:20,380 --> 00:05:26,530
good things in word place like I just

00:05:21,580 --> 00:05:29,380
said there's a plugin for it the lovely

00:05:26,530 --> 00:05:31,480
people at W engine made a plug-in of PHP

00:05:29,380 --> 00:05:34,060
compatibility checker and so you can

00:05:31,480 --> 00:05:36,250
download this it gives you a screen like

00:05:34,060 --> 00:05:38,020
this unfortunately it doesn't do 73 at

00:05:36,250 --> 00:05:41,770
the moment but I did talk to them last

00:05:38,020 --> 00:05:44,500
night and it does throw up to P to be 72

00:05:41,770 --> 00:05:46,990
at the moment and you can also scan

00:05:44,500 --> 00:05:49,120
between active plugins and themes or

00:05:46,990 --> 00:05:51,630
scan all plugins and themes I recommend

00:05:49,120 --> 00:05:55,500
all plugins and themes and I recommend

00:05:51,630 --> 00:05:58,740
7.2 because 7.0 is already dead

00:05:55,500 --> 00:06:01,350
you and our researchers search result

00:05:58,740 --> 00:06:03,030
page like this and it means that you

00:06:01,350 --> 00:06:04,740
will know which plugins and which themes

00:06:03,030 --> 00:06:07,740
are compatible and which are not and

00:06:04,740 --> 00:06:09,720
which are gonna have issues with so now

00:06:07,740 --> 00:06:11,520
I know - you're a developer or you a

00:06:09,720 --> 00:06:13,380
techy person and you're working on a

00:06:11,520 --> 00:06:15,470
project and you want to check if your

00:06:13,380 --> 00:06:18,540
code is actually going to work on

00:06:15,470 --> 00:06:19,620
seven-point-three as you go along there

00:06:18,540 --> 00:06:21,600
are tools for this

00:06:19,620 --> 00:06:23,520
now that's twelve minute talk I'm not

00:06:21,600 --> 00:06:25,140
gonna explain how you do this but

00:06:23,520 --> 00:06:27,060
there's a good thing called Google and

00:06:25,140 --> 00:06:30,540
other search engines are available and

00:06:27,060 --> 00:06:32,850
so you can just search these tools it is

00:06:30,540 --> 00:06:34,980
pretty simple for somebody who doesn't

00:06:32,850 --> 00:06:37,200
write that much code anymore I even

00:06:34,980 --> 00:06:40,140
managed to do it yesterday so you can

00:06:37,200 --> 00:06:44,280
all do it too and I would like to

00:06:40,140 --> 00:06:45,930
highlight PHP compatibility WP because

00:06:44,280 --> 00:06:48,150
that actually removes some of the false

00:06:45,930 --> 00:06:51,270
positives that you'll see in the regular

00:06:48,150 --> 00:06:56,010
PHP compatibility one that the whole PHP

00:06:51,270 --> 00:07:00,390
community uses where in your development

00:06:56,010 --> 00:07:03,110
workflow you might do this you might do

00:07:00,390 --> 00:07:06,060
this locally manually on your terminal

00:07:03,110 --> 00:07:08,130
you might do this as a pre-commit hook

00:07:06,060 --> 00:07:10,800
and you might do this as a

00:07:08,130 --> 00:07:12,720
pre-deployment hook as well depending

00:07:10,800 --> 00:07:15,810
what kind of system you're using in your

00:07:12,720 --> 00:07:18,960
company or on your in your own workflow

00:07:15,810 --> 00:07:21,630
I tend to do it locally just because I'd

00:07:18,960 --> 00:07:23,250
rather see my mistakes myself before the

00:07:21,630 --> 00:07:25,210
rest of my colleagues see it

00:07:23,250 --> 00:07:27,610
please up to you

00:07:25,210 --> 00:07:29,229
if you run it locally on the terminal

00:07:27,610 --> 00:07:31,210
this is what the one of the first things

00:07:29,229 --> 00:07:33,460
you see which if you're not a developer

00:07:31,210 --> 00:07:36,400
or you kind of don't like the terminal

00:07:33,460 --> 00:07:38,350
it can be a bit daunting but it's not

00:07:36,400 --> 00:07:41,080
too bad it's just a graphical

00:07:38,350 --> 00:07:43,120
representation of what's going on so it

00:07:41,080 --> 00:07:45,400
tells you the number of files it's

00:07:43,120 --> 00:07:48,220
checking so that this was a very basic

00:07:45,400 --> 00:07:50,919
version of WordPress if it's got any

00:07:48,220 --> 00:07:52,990
dots that's a good sign if there's

00:07:50,919 --> 00:07:55,750
letters that's a bit more problematic

00:07:52,990 --> 00:07:59,110
and what you want to aim for is no

00:07:55,750 --> 00:08:02,410
letters basically so especially no E's

00:07:59,110 --> 00:08:04,150
no errors found warnings you can get

00:08:02,410 --> 00:08:07,300
away with it without it but I recommend

00:08:04,150 --> 00:08:09,070
listening to them and s is I haven't

00:08:07,300 --> 00:08:11,220
actually worked out why that happens so

00:08:09,070 --> 00:08:13,750
someone can tell me later that's great

00:08:11,220 --> 00:08:15,490
after it does all the scans you end up

00:08:13,750 --> 00:08:19,030
with a report of all the errors and the

00:08:15,490 --> 00:08:22,639
warnings and it ends up like this and

00:08:19,030 --> 00:08:24,889
this is really useful too

00:08:22,639 --> 00:08:27,770
you end up with information about which

00:08:24,889 --> 00:08:30,680
file the error or the warning was in it

00:08:27,770 --> 00:08:32,630
tells you exactly what line in that file

00:08:30,680 --> 00:08:34,039
they found the error doesn't mean the

00:08:32,630 --> 00:08:35,779
code was there it might be somewhere

00:08:34,039 --> 00:08:37,669
else but it also tells you what type if

00:08:35,779 --> 00:08:39,500
it's a warning or an error and most

00:08:37,669 --> 00:08:42,289
importantly which is why I think it's

00:08:39,500 --> 00:08:44,000
important is this piece of information

00:08:42,289 --> 00:08:48,019
at the bottom of each one in the

00:08:44,000 --> 00:08:50,660
brackets which is the rule that the

00:08:48,019 --> 00:08:53,329
error broke on so you can actually take

00:08:50,660 --> 00:08:55,940
that wall put it into search engine of

00:08:53,329 --> 00:08:57,529
your choice and find out what's going on

00:08:55,940 --> 00:08:59,149
and what's a lots of people have

00:08:57,529 --> 00:09:01,130
documented how to fix these things

00:08:59,149 --> 00:09:04,600
because a lot of people have already

00:09:01,130 --> 00:09:06,740
migrated up to later versions of PHP I

00:09:04,600 --> 00:09:08,230
also mentioned WordPress coding

00:09:06,740 --> 00:09:10,399
standards which will tell you about

00:09:08,230 --> 00:09:13,029
deprecated functions in WordPress as

00:09:10,399 --> 00:09:16,190
well as in PHP so please also use that

00:09:13,029 --> 00:09:17,899
so if you have a site which has errors

00:09:16,190 --> 00:09:21,500
then you need to migrate it's like

00:09:17,899 --> 00:09:25,730
moving home your best friend will vary

00:09:21,500 --> 00:09:28,310
the php.net manual and in there the

00:09:25,730 --> 00:09:31,399
documentation is very verbose and they

00:09:28,310 --> 00:09:33,019
have examples of how to move stuff so

00:09:31,399 --> 00:09:34,940
they tell you like the backwards

00:09:33,019 --> 00:09:36,769
compatibility x' what's deprecated and

00:09:34,940 --> 00:09:40,360
new functions that you can use and also

00:09:36,769 --> 00:09:42,260
the changes which are kind of important

00:09:40,360 --> 00:09:44,589
so if you're going to start migrating

00:09:42,260 --> 00:09:47,449
your codebase depending on where you are

00:09:44,589 --> 00:09:49,910
they're large the larger the numbers of

00:09:47,449 --> 00:09:52,160
PHP you're having to migrate from and to

00:09:49,910 --> 00:09:54,230
the more work it's going to be generally

00:09:52,160 --> 00:09:57,079
if you have to migrate from anything

00:09:54,230 --> 00:09:59,000
which is five five point something to

00:09:57,079 --> 00:10:01,040
seven that's where the most of the work

00:09:59,000 --> 00:10:03,769
is and the lower the number the more

00:10:01,040 --> 00:10:05,870
work you need to do but start at your

00:10:03,769 --> 00:10:07,100
current PHP version use the static

00:10:05,870 --> 00:10:10,399
analyzer to work out where these

00:10:07,100 --> 00:10:12,440
problems are going to be check PHP not

00:10:10,399 --> 00:10:14,750
natural what you need to do and then do

00:10:12,440 --> 00:10:16,670
it and keep repeating this until you get

00:10:14,750 --> 00:10:19,910
to where you want to be and on the

00:10:16,670 --> 00:10:23,120
appendices to the side here he actually

00:10:19,910 --> 00:10:25,670
has every single migration from 4.0 all

00:10:23,120 --> 00:10:27,280
the way to 7.3 so you can do the whole

00:10:25,670 --> 00:10:29,530
entire migration

00:10:27,280 --> 00:10:31,210
they are some caveats because it's

00:10:29,530 --> 00:10:34,600
technology and it wouldn't be technology

00:10:31,210 --> 00:10:39,010
without caveats some functions outputs

00:10:34,600 --> 00:10:40,930
in PHP have changed their outcome which

00:10:39,010 --> 00:10:43,330
means if you're expecting a particular

00:10:40,930 --> 00:10:46,900
thing it might be something else which

00:10:43,330 --> 00:10:49,690
is fun a static analyzer a spell checker

00:10:46,900 --> 00:10:51,790
is never going to find that for you so

00:10:49,690 --> 00:10:53,440
you might end up with quirks when your

00:10:51,790 --> 00:10:55,330
clients is working on it or you test

00:10:53,440 --> 00:10:57,690
things and those are runtime errors and

00:10:55,330 --> 00:11:01,210
they can't be detected by spell checker

00:10:57,690 --> 00:11:03,580
there are lots of upsize though better

00:11:01,210 --> 00:11:05,650
performance if you're on a small site

00:11:03,580 --> 00:11:07,450
it's it's not going to see much

00:11:05,650 --> 00:11:10,120
significance but if you're in a big site

00:11:07,450 --> 00:11:12,520
you're gonna see at least the benchmark

00:11:10,120 --> 00:11:14,530
around double the amount in terms of

00:11:12,520 --> 00:11:16,900
performance if you want to save polar

00:11:14,530 --> 00:11:18,940
bears but you're grazing to anything

00:11:16,900 --> 00:11:21,010
higher than PHP 7 you're gonna be using

00:11:18,940 --> 00:11:24,250
less computing resources which means

00:11:21,010 --> 00:11:27,370
more polar bears happy it means that

00:11:24,250 --> 00:11:29,650
bugs that we have been hashing together

00:11:27,370 --> 00:11:31,720
and plus the putting pluses on and out

00:11:29,650 --> 00:11:34,780
effects especially things like PHP

00:11:31,720 --> 00:11:37,720
date/time it also means we get security

00:11:34,780 --> 00:11:39,700
support so that's always a win and

00:11:37,720 --> 00:11:42,730
there's lots and lots and lots of other

00:11:39,700 --> 00:11:44,860
new features and functions what twelve

00:11:42,730 --> 00:11:46,300
minutes and one minutes ago so if you

00:11:44,860 --> 00:11:48,580
care about keeping your WordPress site

00:11:46,300 --> 00:11:50,620
up to date then you should also care

00:11:48,580 --> 00:11:52,420
about keeping your stack up to date the

00:11:50,620 --> 00:11:54,750
foundations of your house are super

00:11:52,420 --> 00:11:57,370
important and this is no different

00:11:54,750 --> 00:11:59,410
developers and hosting companies are

00:11:57,370 --> 00:12:02,490
your friends yes we charge you because

00:11:59,410 --> 00:12:07,160
we need to eat money eat and

00:12:02,490 --> 00:12:09,630
eat and pay our mortgages and I live but

00:12:07,160 --> 00:12:11,700
if you're looking author there's way

00:12:09,630 --> 00:12:13,890
more information there's lots of work in

00:12:11,700 --> 00:12:16,170
the community that we've been doing so

00:12:13,890 --> 00:12:17,850
we can actually set the standard for

00:12:16,170 --> 00:12:20,430
everyone and there's a whole bunch of

00:12:17,850 --> 00:12:23,550
resources on the internet but my

00:12:20,430 --> 00:12:26,910
favorite is they will Lorna Jane talk at

00:12:23,550 --> 00:12:29,250
work I'm London in 2015 which was a long

00:12:26,910 --> 00:12:33,680
time ago and also a whole bunch of stuff

00:12:29,250 --> 00:12:33,680
there my slides will be online ketose

00:12:34,200 --> 00:12:40,750

YouTube URL: https://www.youtube.com/watch?v=xUq4A8Om2Sw


