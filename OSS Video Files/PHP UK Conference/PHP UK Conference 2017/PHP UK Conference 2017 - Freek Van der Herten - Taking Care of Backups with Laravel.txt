Title: PHP UK Conference 2017 - Freek Van der Herten - Taking Care of Backups with Laravel
Publication date: 2017-04-03
Playlist: PHP UK Conference 2017
Description: 
	Thanks to all the excellent resources on server management many developers are now setting up and administrating their own servers. If you are one of them you can't count on anybody else but yourself to backup the data of your clients. We'll cover the backup issues presented when using modern hosting such as Linode and DigitalOcean. Then we'll review some enterprise grade solutions. Finally we'll dive deep into implementing a backup system using Laravel 5's filesystem abstraction.
Captions: 
	00:00:04,280 --> 00:00:11,240
welcome to my talk I'm going to talk

00:00:06,350 --> 00:00:12,920
about taking backups with laravel my

00:00:11,240 --> 00:00:15,080
name is Frank from the Hilton I'm a

00:00:12,920 --> 00:00:18,789
partner and a developer at a company

00:00:15,080 --> 00:00:21,349
called Spa see like probably many of you

00:00:18,789 --> 00:00:24,619
I'm active on twitter my handle this

00:00:21,349 --> 00:00:27,349
freak Mercer and I have my own blog

00:00:24,619 --> 00:00:31,360
where I talk about laravel development

00:00:27,349 --> 00:00:34,790
and modern PHP development in general

00:00:31,360 --> 00:00:39,320
together with these two awesome guys I

00:00:34,790 --> 00:00:41,450
organized the PHP Antwerp user group if

00:00:39,320 --> 00:00:43,700
you ever in the vicinity of enter and

00:00:41,450 --> 00:00:45,830
we'll speak at our user group contact us

00:00:43,700 --> 00:00:50,630
we're happy with every speaker and with

00:00:45,830 --> 00:00:52,940
every level and length of talk now my

00:00:50,630 --> 00:00:55,970
company has been around since 2000

00:00:52,940 --> 00:00:58,460
century we create websites applications

00:00:55,970 --> 00:01:00,890
and web shops and we're quite small

00:00:58,460 --> 00:01:03,860
we're only with for developers and one

00:01:00,890 --> 00:01:09,320
manager that guides us and we specialize

00:01:03,860 --> 00:01:12,170
in laravel development now before I give

00:01:09,320 --> 00:01:14,180
my talk on the backups I want to talk a

00:01:12,170 --> 00:01:18,770
little bit about open source software

00:01:14,180 --> 00:01:21,770
first now in my company we use a lot of

00:01:18,770 --> 00:01:24,020
open source software we use nginx we use

00:01:21,770 --> 00:01:26,180
laravel we use Ubuntu basically

00:01:24,020 --> 00:01:28,340
everything listed at this slide when

00:01:26,180 --> 00:01:31,490
they open up composed of JSON package

00:01:28,340 --> 00:01:36,170
package dot Jason and all those things

00:01:31,490 --> 00:01:38,240
are free of use and without open source

00:01:36,170 --> 00:01:40,970
software our company couldn't really

00:01:38,240 --> 00:01:43,010
exists and I bet that many of you thank

00:01:40,970 --> 00:01:48,080
your job due to the fact that open

00:01:43,010 --> 00:01:51,500
source software exists to so because we

00:01:48,080 --> 00:01:54,140
use a lot of it we try to give back and

00:01:51,500 --> 00:01:57,799
we also create a lot of open source

00:01:54,140 --> 00:02:00,590
software we currently have 90 packages

00:01:57,799 --> 00:02:03,290
licitum packages most of them are

00:02:00,590 --> 00:02:06,400
laravel but we've got quite a few

00:02:03,290 --> 00:02:09,439
favorite agnostic PHP ones as well and

00:02:06,400 --> 00:02:12,319
recently we bought we broke two million

00:02:09,439 --> 00:02:14,360
download mark and currently packages are

00:02:12,319 --> 00:02:16,700
being downloaded at a rate of three

00:02:14,360 --> 00:02:17,420
hundred thousands a month which is great

00:02:16,700 --> 00:02:21,650
at our

00:02:17,420 --> 00:02:24,739
is being used a little humblebrag this

00:02:21,650 --> 00:02:26,989
is the giddap award site which just sums

00:02:24,739 --> 00:02:30,110
up the amount of stars that get up

00:02:26,989 --> 00:02:33,260
repost of an organization half and see

00:02:30,110 --> 00:02:35,870
there's laravel at the top with 50,000

00:02:33,260 --> 00:02:40,130
stars but we're at number six worldwide

00:02:35,870 --> 00:02:46,130
so this is really great and we like the

00:02:40,130 --> 00:02:49,160
fact that people star our repos creating

00:02:46,130 --> 00:02:52,940
open source software for us has a lot of

00:02:49,160 --> 00:02:57,620
benefits first and foremost we learn a

00:02:52,940 --> 00:03:02,150
lot by just creating the software and by

00:02:57,620 --> 00:03:04,340
the issues that are our users post

00:03:02,150 --> 00:03:07,160
because with every issue we see that as

00:03:04,340 --> 00:03:10,670
a chance to learn same with a PR that's

00:03:07,160 --> 00:03:14,120
get sendin the benefit for us is that we

00:03:10,670 --> 00:03:15,590
can see the perspective from from

00:03:14,120 --> 00:03:19,519
another program or how we would

00:03:15,590 --> 00:03:23,239
approaches and the benefit for the guy

00:03:19,519 --> 00:03:25,310
or woman that post PR is that I get a

00:03:23,239 --> 00:03:29,380
free code review so it's it's a win for

00:03:25,310 --> 00:03:31,730
everybody every everybody is learning

00:03:29,380 --> 00:03:33,829
another benefit is that we're also

00:03:31,730 --> 00:03:36,799
forced to write documentation and tests

00:03:33,829 --> 00:03:39,590
some sometimes in a client project we

00:03:36,799 --> 00:03:41,900
don't have really time for that but with

00:03:39,590 --> 00:03:44,810
open source software you really must

00:03:41,900 --> 00:03:46,549
write documentation every because if you

00:03:44,810 --> 00:03:49,040
don't have documentation nobody will use

00:03:46,549 --> 00:03:51,079
your software if you don't write tests

00:03:49,040 --> 00:03:56,390
yeah then it's a little bit scary to

00:03:51,079 --> 00:04:01,420
change the software there's a commercial

00:03:56,390 --> 00:04:05,030
aspect to it it's of it as well it shows

00:04:01,420 --> 00:04:06,560
the quality of our work if you take a

00:04:05,030 --> 00:04:08,870
look at the source code and I hope

00:04:06,560 --> 00:04:12,920
you'll conclude that we know our way

00:04:08,870 --> 00:04:16,010
around PHP and laravel and of course we

00:04:12,920 --> 00:04:19,130
use those packages in our own project as

00:04:16,010 --> 00:04:23,650
well so if we open up our composing Oh

00:04:19,130 --> 00:04:26,990
Jason a lot of our own things are there

00:04:23,650 --> 00:04:28,960
I'd like to take some time to very

00:04:26,990 --> 00:04:30,699
quickly introduce a few

00:04:28,960 --> 00:04:33,550
after expected jizz to you maybe they

00:04:30,699 --> 00:04:36,819
could be helpful to your next project

00:04:33,550 --> 00:04:40,630
so the first one is larval specific one

00:04:36,819 --> 00:04:42,759
larval media library and in short this

00:04:40,630 --> 00:04:46,180
one can associate files with eloquent

00:04:42,759 --> 00:04:48,639
models so you have a news item mobile

00:04:46,180 --> 00:04:50,349
and you have a file then you can it put

00:04:48,639 --> 00:04:53,710
it in a collection of images

00:04:50,349 --> 00:04:55,479
it's second line of code if you have an

00:04:53,710 --> 00:04:57,880
image in that collection you can

00:04:55,479 --> 00:05:00,400
generate an URL to that so you can

00:04:57,880 --> 00:05:03,099
display it on your site now the package

00:05:00,400 --> 00:05:05,650
can also convert images it can generate

00:05:03,099 --> 00:05:08,380
thumbnails and such and it can also give

00:05:05,650 --> 00:05:10,210
you URLs to those thumbnails and if

00:05:08,380 --> 00:05:12,310
you're working with big files then

00:05:10,210 --> 00:05:14,979
you'll be happy to know that the package

00:05:12,310 --> 00:05:18,910
has support for external file systems so

00:05:14,979 --> 00:05:22,960
it's very easy to handle a big file and

00:05:18,910 --> 00:05:24,270
just copy it over to s3 so that's made

00:05:22,960 --> 00:05:28,150
your library

00:05:24,270 --> 00:05:32,680
we've also also created a dashboard so

00:05:28,150 --> 00:05:34,509
this is this is displayed on a TV hang

00:05:32,680 --> 00:05:38,259
in our office it uses the latest

00:05:34,509 --> 00:05:41,289
versions of laravel and view and it's

00:05:38,259 --> 00:05:43,960
easily extensible to add tiles to it's

00:05:41,289 --> 00:05:49,270
not going to explain it in depth here

00:05:43,960 --> 00:05:51,969
that's a talk on its own next this is

00:05:49,270 --> 00:05:54,340
something we use ourselves as well it's

00:05:51,969 --> 00:05:58,240
an uptime monitor we use this to check

00:05:54,340 --> 00:06:00,940
if the size of our clients are up now

00:05:58,240 --> 00:06:02,919
there are a lot of other alternatives

00:06:00,940 --> 00:06:06,159
that you can use like optimum uptime

00:06:02,919 --> 00:06:08,500
Robert and such the benefit of the of

00:06:06,159 --> 00:06:11,469
our uptime monitor is that it's that

00:06:08,500 --> 00:06:14,830
it's free and you can add as many hosts

00:06:11,469 --> 00:06:16,360
as you want so it can notify you if I

00:06:14,830 --> 00:06:19,449
ask like when something goes wrong

00:06:16,360 --> 00:06:22,030
so the first screenshot there from our

00:06:19,449 --> 00:06:25,780
selectional laravel is down can notify

00:06:22,030 --> 00:06:28,150
you that a site comes back up there's a

00:06:25,780 --> 00:06:31,810
second screenshot and as a bonus it can

00:06:28,150 --> 00:06:34,150
also warn you when an ssl certificate is

00:06:31,810 --> 00:06:37,330
going to expire so a few days before it

00:06:34,150 --> 00:06:40,210
expires you'll get the notification so

00:06:37,330 --> 00:06:42,590
your site won't won't go down you still

00:06:40,210 --> 00:06:46,940
have time to refresh your certificate

00:06:42,590 --> 00:06:51,410
so that's up diameter um

00:06:46,940 --> 00:06:53,810
fractal istic I love the fractal package

00:06:51,410 --> 00:06:55,850
from the leek for those who don't know

00:06:53,810 --> 00:06:58,850
that that's a package that can transform

00:06:55,850 --> 00:07:04,070
data to a format that it can be easily

00:06:58,850 --> 00:07:07,070
used in your api's and I use the fractal

00:07:04,070 --> 00:07:08,810
package from the leek now basically on

00:07:07,070 --> 00:07:11,540
every project but it's a little bit

00:07:08,810 --> 00:07:14,510
unwieldy to work with you have an array

00:07:11,540 --> 00:07:16,840
with data then you have to instantiate a

00:07:14,510 --> 00:07:19,880
manager then you have to create a

00:07:16,840 --> 00:07:22,100
collection a resource which is a

00:07:19,880 --> 00:07:24,560
collection of books and a transformer

00:07:22,100 --> 00:07:26,720
then you have to ask the manager to

00:07:24,560 --> 00:07:29,480
parse some includes to include the

00:07:26,720 --> 00:07:31,310
characters of the data and then you have

00:07:29,480 --> 00:07:33,200
to ask the manager to create data for

00:07:31,310 --> 00:07:36,290
the resource and add it to the array I

00:07:33,200 --> 00:07:38,150
can't remember this so I made a wrapper

00:07:36,290 --> 00:07:40,100
around it that makes it very simple so

00:07:38,150 --> 00:07:42,320
you create an instance of fractal you

00:07:40,100 --> 00:07:43,820
give it a collection you transform it

00:07:42,320 --> 00:07:45,170
with a certain class you include the

00:07:43,820 --> 00:07:47,390
characters and you are going to

00:07:45,170 --> 00:07:52,820
transform that to an array which is in

00:07:47,390 --> 00:07:55,160
my mind much easier to to use the last

00:07:52,820 --> 00:07:58,360
one the last one that I'm going to touch

00:07:55,160 --> 00:08:01,430
home very quickly is our response cash

00:07:58,360 --> 00:08:03,440
package and this one can be used to

00:08:01,430 --> 00:08:06,170
speed up your laravel application

00:08:03,440 --> 00:08:08,510
immensely and it does that just by

00:08:06,170 --> 00:08:10,300
caching your response so whenever a

00:08:08,510 --> 00:08:13,340
request comes in to your application

00:08:10,300 --> 00:08:15,380
laravel will handle it and make a

00:08:13,340 --> 00:08:17,900
response that we are going to save that

00:08:15,380 --> 00:08:19,850
response so the next time the same

00:08:17,900 --> 00:08:21,890
request comes in we're not going to

00:08:19,850 --> 00:08:24,050
start the pyrovile entirely we're just

00:08:21,890 --> 00:08:27,680
going to send the saved response and

00:08:24,050 --> 00:08:31,610
this makes your application much faster

00:08:27,680 --> 00:08:33,500
now if you ever heard of varnish varnish

00:08:31,610 --> 00:08:37,010
dust there's a little bit of the same

00:08:33,500 --> 00:08:40,040
but varnish goes a step further varnish

00:08:37,010 --> 00:08:43,640
doesn't even start up peach B when it

00:08:40,040 --> 00:08:47,990
has cached something so varnish is a lot

00:08:43,640 --> 00:08:50,540
faster than this package but advantage

00:08:47,990 --> 00:08:54,110
of using larval response cache is that

00:08:50,540 --> 00:08:55,769
unlike varnish the whole package can be

00:08:54,110 --> 00:08:58,230
configured in your

00:08:55,769 --> 00:08:59,970
rfl application and with varnish you

00:08:58,230 --> 00:09:01,739
have to install extra software on your

00:08:59,970 --> 00:09:04,949
server and you have to learn how to

00:09:01,739 --> 00:09:07,499
configure varnish with this package you

00:09:04,949 --> 00:09:09,920
can basically use it with the knowledge

00:09:07,499 --> 00:09:12,929
you already have

00:09:09,920 --> 00:09:15,540
so that's few of our packages you'll

00:09:12,929 --> 00:09:18,149
find a big list on our company website

00:09:15,540 --> 00:09:22,019
for the larval specific ones we also

00:09:18,149 --> 00:09:23,329
have a page for the framework agnostic

00:09:22,019 --> 00:09:27,059
one so check it out

00:09:23,329 --> 00:09:29,999
now I should maybe have told you this

00:09:27,059 --> 00:09:33,089
earlier those packages are not free they

00:09:29,999 --> 00:09:36,929
have a special license called postcard

00:09:33,089 --> 00:09:39,329
wear so if any of our packages makes it

00:09:36,929 --> 00:09:42,179
into your production environments you're

00:09:39,329 --> 00:09:43,739
required to send us a postcard and we

00:09:42,179 --> 00:09:46,079
have a wall and our office with all the

00:09:43,739 --> 00:09:48,329
postcards from people and we are going

00:09:46,079 --> 00:09:51,869
to plan and we're going to put them on

00:09:48,329 --> 00:09:57,149
our website soon as well so that's the

00:09:51,869 --> 00:10:01,379
postcard we're a bit ok now that's out

00:09:57,149 --> 00:10:03,179
of the way let's talk about backups now

00:10:01,379 --> 00:10:05,490
the first thing that I'm going to say

00:10:03,179 --> 00:10:09,299
about this is there is really no

00:10:05,490 --> 00:10:11,730
one-size-fits-all for backups everybody

00:10:09,299 --> 00:10:14,639
does it a little bit differently and it

00:10:11,730 --> 00:10:18,449
depends on a lot of factors most

00:10:14,639 --> 00:10:20,279
important one is how your team is

00:10:18,449 --> 00:10:22,379
organized how big your company's

00:10:20,279 --> 00:10:25,110
probably Facebook is going to manage

00:10:22,379 --> 00:10:28,019
backups in an entirely other way than a

00:10:25,110 --> 00:10:29,850
small startup and everything that I'm

00:10:28,019 --> 00:10:32,850
going to say during this talk is really

00:10:29,850 --> 00:10:35,490
targeted at a company like spa C where

00:10:32,850 --> 00:10:40,369
there are only a few developers a lot of

00:10:35,490 --> 00:10:45,569
projects and no dedicated dev ops team

00:10:40,369 --> 00:10:49,679
so how did we do hosting in our company

00:10:45,569 --> 00:10:53,669
in the past up until a few years ago we

00:10:49,679 --> 00:10:56,399
made relatively smallish sites and we

00:10:53,669 --> 00:10:59,309
used shared hosting it worked perfectly

00:10:56,399 --> 00:11:02,399
for us the backups were done by a

00:10:59,309 --> 00:11:04,110
hosting provider we didn't really have

00:11:02,399 --> 00:11:08,160
to do anything regarding backup to

00:11:04,110 --> 00:11:09,450
ourselves when we accidentally deleted a

00:11:08,160 --> 00:11:12,390
file or dropped

00:11:09,450 --> 00:11:15,420
a base we phoned up our hosting provider

00:11:12,390 --> 00:11:18,390
and we just hope that they could restore

00:11:15,420 --> 00:11:22,760
the database or the file so that was our

00:11:18,390 --> 00:11:27,890
backup process excuse me

00:11:22,760 --> 00:11:31,590
but as a company we grew and now we get

00:11:27,890 --> 00:11:33,960
larger projects where we make bigger

00:11:31,590 --> 00:11:36,600
applications and we learned quite a bit

00:11:33,960 --> 00:11:39,780
about server management there are

00:11:36,600 --> 00:11:42,480
excellent resources nowadays to get your

00:11:39,780 --> 00:11:44,670
feet wet with server management one of

00:11:42,480 --> 00:11:47,690
my favorite sites for that is service

00:11:44,670 --> 00:11:52,520
for hackers which provides very good

00:11:47,690 --> 00:11:56,630
tutorials targeted at people with no

00:11:52,520 --> 00:12:00,210
develop earlier DevOps experience and

00:11:56,630 --> 00:12:05,430
instead of using shared hosting all our

00:12:00,210 --> 00:12:08,460
sites are now hosted on digital ocean so

00:12:05,430 --> 00:12:10,140
it's unmanaged and we use laravel Forge

00:12:08,460 --> 00:12:15,030
and ansible

00:12:10,140 --> 00:12:17,730
to provision those so that's nice but

00:12:15,030 --> 00:12:22,260
it's not always that nice let's tell a

00:12:17,730 --> 00:12:22,680
few horror stories so this happened to

00:12:22,260 --> 00:12:26,370
me

00:12:22,680 --> 00:12:28,640
so last year one fine morning I got this

00:12:26,370 --> 00:12:31,470
mail from support from digitalocean

00:12:28,640 --> 00:12:33,210
earlier today our client operations team

00:12:31,470 --> 00:12:35,430
was alerted to some performance issues

00:12:33,210 --> 00:12:38,040
affecting the physical droplet at the

00:12:35,430 --> 00:12:40,680
physical server that hosts your droplet

00:12:38,040 --> 00:12:42,690
the damage was serious enough that this

00:12:40,680 --> 00:12:47,850
droplet was lost and not able to be

00:12:42,690 --> 00:12:50,040
restored so if I summarize this sentence

00:12:47,850 --> 00:12:50,490
and they're just saying your server is

00:12:50,040 --> 00:12:54,480
gone

00:12:50,490 --> 00:12:55,920
sorry and five minutes later I got a

00:12:54,480 --> 00:13:00,540
mail I kid you not

00:12:55,920 --> 00:13:03,660
with titled with subject booyah you have

00:13:00,540 --> 00:13:05,550
received five dollars of credit so that

00:13:03,660 --> 00:13:08,010
that wasn't that good our server was

00:13:05,550 --> 00:13:12,600
just gone from the one minute to the

00:13:08,010 --> 00:13:14,640
next poof so I don't want really bash on

00:13:12,600 --> 00:13:16,980
on digital ocean for this because this

00:13:14,640 --> 00:13:19,350
can basically happen at any provider and

00:13:16,980 --> 00:13:22,980
if you google around a bit then finds

00:13:19,350 --> 00:13:25,579
similar stories for every major

00:13:22,980 --> 00:13:28,490
cloud hosting provider this is a male

00:13:25,579 --> 00:13:32,149
central user of Rackspace that

00:13:28,490 --> 00:13:37,370
experienced the same thing as as we did

00:13:32,149 --> 00:13:39,990
so you might think okay those fancy

00:13:37,370 --> 00:13:42,170
cloud service providers they provide

00:13:39,990 --> 00:13:48,149
backups as well so I'm just going to

00:13:42,170 --> 00:13:51,660
mark that checkbox let him back up my

00:13:48,149 --> 00:13:54,810
sights and I'm I'm good right well

00:13:51,660 --> 00:13:57,000
here's the third horror story it's one

00:13:54,810 --> 00:13:59,220
byte a lot well who made the larval

00:13:57,000 --> 00:14:03,839
framework and in the beginning of last

00:13:59,220 --> 00:14:06,959
year there was a big denial of service

00:14:03,839 --> 00:14:10,290
attack at @ly note so all the service

00:14:06,959 --> 00:14:12,120
were down but yeah it takes the backup

00:14:10,290 --> 00:14:14,100
box or a thought yeah I have backups I'm

00:14:12,120 --> 00:14:18,690
just going to restore it and then I'm

00:14:14,100 --> 00:14:20,880
good again but what did he find that the

00:14:18,690 --> 00:14:23,639
entire data center of Linode was down

00:14:20,880 --> 00:14:27,420
and sure he could see in the interface

00:14:23,639 --> 00:14:29,160
that he had made backups but the backups

00:14:27,420 --> 00:14:31,860
can only be restored in the same data

00:14:29,160 --> 00:14:35,040
center so literally he couldn't restore

00:14:31,860 --> 00:14:38,040
his backups and yeah he always sites

00:14:35,040 --> 00:14:44,089
were down for for a few days this is not

00:14:38,040 --> 00:14:47,069
good so what can we we learn on this

00:14:44,089 --> 00:14:49,500
relying on on digital ocean backups or

00:14:47,069 --> 00:14:52,949
in general backups of your cloud service

00:14:49,500 --> 00:14:57,540
provider really isn't enough and in the

00:14:52,949 --> 00:15:01,769
case of digital ocean they only take

00:14:57,540 --> 00:15:04,829
weekly snapshots so potentially a lot of

00:15:01,769 --> 00:15:08,160
data could get lost if your server

00:15:04,829 --> 00:15:09,949
crashes on Friday and weekly snapshot

00:15:08,160 --> 00:15:12,389
was taken on a Monday then

00:15:09,949 --> 00:15:16,050
congratulations you've just lost data

00:15:12,389 --> 00:15:18,240
for an entire week and also as Taylor

00:15:16,050 --> 00:15:21,899
learned if the data center is down

00:15:18,240 --> 00:15:24,269
backups can't be accessed or restored so

00:15:21,899 --> 00:15:27,380
lying on the backups of your cloud

00:15:24,269 --> 00:15:32,160
service provider certainly is not enough

00:15:27,380 --> 00:15:34,920
how can we solve this well it's very

00:15:32,160 --> 00:15:38,130
simple actually just don't put your

00:15:34,920 --> 00:15:41,370
eggs in one basket take care of your own

00:15:38,130 --> 00:15:45,779
backups as well and there are a lot of

00:15:41,370 --> 00:15:49,350
options to do this first one a bash

00:15:45,779 --> 00:15:52,740
script second one you can use a hosted

00:15:49,350 --> 00:15:54,990
service for that or you can use open

00:15:52,740 --> 00:15:57,930
source packages that can help you let's

00:15:54,990 --> 00:16:01,620
dive in into each of these options so

00:15:57,930 --> 00:16:04,170
the first one the bash script now I've

00:16:01,620 --> 00:16:09,120
mentioned service for for hackers before

00:16:04,170 --> 00:16:13,470
and Chris Fidel we runs the site made a

00:16:09,120 --> 00:16:16,529
script to backup a droplet a server to

00:16:13,470 --> 00:16:19,589
to s3 and what it does it dumps a

00:16:16,529 --> 00:16:22,110
database with MySQL dump and it uploads

00:16:19,589 --> 00:16:28,440
the dump plus the files that you want to

00:16:22,110 --> 00:16:30,420
backup 2 to s 3 and he explains how how

00:16:28,440 --> 00:16:34,560
to schedule the script with grunt so it

00:16:30,420 --> 00:16:38,010
runs frequently now the downside of this

00:16:34,560 --> 00:16:40,680
script is it works really well but the

00:16:38,010 --> 00:16:42,269
only thing that bothers me a bit is that

00:16:40,680 --> 00:16:46,500
there are no notifications when

00:16:42,269 --> 00:16:49,170
something goes wrong if your Chrome has

00:16:46,500 --> 00:16:51,630
problems or if the script for any reason

00:16:49,170 --> 00:16:53,160
has problems you won't get notified of

00:16:51,630 --> 00:16:55,560
that and you think you have backup speed

00:16:53,160 --> 00:17:02,070
you don't have backups which is not that

00:16:55,560 --> 00:17:04,230
good next option you have a hosted

00:17:02,070 --> 00:17:06,900
service and I picked automatic dot IO

00:17:04,230 --> 00:17:09,959
here because it's a little bit down in

00:17:06,900 --> 00:17:13,290
the larval cupidity it's basically

00:17:09,959 --> 00:17:16,290
backups as a service it's not free it'll

00:17:13,290 --> 00:17:18,540
cost you but they bring a lot of nice

00:17:16,290 --> 00:17:20,309
things to the table at Haven easy-to-use

00:17:18,540 --> 00:17:22,319
interface where you can figure what

00:17:20,309 --> 00:17:26,640
should be back up and what not and you

00:17:22,319 --> 00:17:30,380
can also use their own storage which

00:17:26,640 --> 00:17:33,450
will cost you a bit or you can attach s3

00:17:30,380 --> 00:17:37,710
to their service or everything that you

00:17:33,450 --> 00:17:41,700
want to backup is in is in s3 but this

00:17:37,710 --> 00:17:46,110
will cost you a little bit open source

00:17:41,700 --> 00:17:49,059
after there's a great backup solution

00:17:46,110 --> 00:17:52,240
God called Beca PC that I use myself

00:17:49,059 --> 00:17:56,529
- it's it's open-source software and

00:17:52,240 --> 00:17:59,710
it's free it can be installed installed

00:17:56,529 --> 00:18:03,879
onto a control server and then it'll

00:17:59,710 --> 00:18:06,190
just SSH into every server that needs to

00:18:03,879 --> 00:18:09,820
be back up and it will use our sink to

00:18:06,190 --> 00:18:13,120
copy the files over - it's a local hard

00:18:09,820 --> 00:18:15,759
drive of the control server now a very

00:18:13,120 --> 00:18:19,749
cool feature of this package is that it

00:18:15,759 --> 00:18:21,549
can use hard links to save disk space it

00:18:19,749 --> 00:18:24,279
works a little bit like Apple style

00:18:21,549 --> 00:18:27,129
machine so if the software detects that

00:18:24,279 --> 00:18:30,970
two files are the same it only will

00:18:27,129 --> 00:18:33,039
store it once on the disk but if you

00:18:30,970 --> 00:18:35,649
list the files you will actually see

00:18:33,039 --> 00:18:37,600
separate separate entries but they

00:18:35,649 --> 00:18:41,080
basically point to the same physical

00:18:37,600 --> 00:18:47,980
size on disk so that this can result

00:18:41,080 --> 00:18:52,809
into an impressive gain in in in disk

00:18:47,980 --> 00:18:55,659
space certainly for PHP projects if you

00:18:52,809 --> 00:18:57,909
have a lot of the same sites mostly you

00:18:55,659 --> 00:19:00,820
have the same files in your vendor

00:18:57,909 --> 00:19:06,490
folder and will always store a unique

00:19:00,820 --> 00:19:09,340
file once there the only downside of of

00:19:06,490 --> 00:19:11,409
packet PC is that some system

00:19:09,340 --> 00:19:14,710
administration knowledge is required to

00:19:11,409 --> 00:19:16,720
set it up it really isn't easy software

00:19:14,710 --> 00:19:19,720
you need to know your way around the

00:19:16,720 --> 00:19:23,110
server and how you configure mail

00:19:19,720 --> 00:19:24,610
servers or a little bit and if I'm

00:19:23,110 --> 00:19:28,629
honest the the interface is really

00:19:24,610 --> 00:19:31,679
buttery it is but but it doesn't job so

00:19:28,629 --> 00:19:31,679
I'll give it that

00:19:31,980 --> 00:19:38,889
so last year I thought wouldn't it be

00:19:35,619 --> 00:19:41,679
very nice if we had a very easy to use

00:19:38,889 --> 00:19:43,840
backup solution because how hard can can

00:19:41,679 --> 00:19:46,749
the problem be really because laravel

00:19:43,840 --> 00:19:50,649
provides already a lot of the things to

00:19:46,749 --> 00:19:53,230
make a great backup solution so I put in

00:19:50,649 --> 00:19:55,990
some work and created my own package

00:19:53,230 --> 00:19:58,170
called laravel backup which I'm going to

00:19:55,990 --> 00:20:02,010
introduce to you now

00:19:58,170 --> 00:20:02,280
so in short what can this package do for

00:20:02,010 --> 00:20:06,210
you

00:20:02,280 --> 00:20:09,630
it can back up files and database is to

00:20:06,210 --> 00:20:12,890
one or more file systems it can clean up

00:20:09,630 --> 00:20:16,170
older backups it can send notifications

00:20:12,890 --> 00:20:19,460
when something goes wrong and it can

00:20:16,170 --> 00:20:22,860
easily be installed into any powerful

00:20:19,460 --> 00:20:25,050
application so the package is gaining

00:20:22,860 --> 00:20:29,670
some popularity it has now been

00:20:25,050 --> 00:20:33,150
downloaded for over 250,000 times and it

00:20:29,670 --> 00:20:37,770
is being downloaded thousand times a day

00:20:33,150 --> 00:20:39,900
now so in that little drop at the end of

00:20:37,770 --> 00:20:43,710
the graph that's Christmas and New Year

00:20:39,900 --> 00:20:47,240
you see that on every package on on

00:20:43,710 --> 00:20:50,700
packages yeah PHP developers take

00:20:47,240 --> 00:20:55,080
massively time free at that time which

00:20:50,700 --> 00:20:59,160
is good so let's dive in a little more

00:20:55,080 --> 00:21:01,110
in detail into what a package can do so

00:20:59,160 --> 00:21:02,820
the package is called laravel backup so

00:21:01,110 --> 00:21:05,910
it's good that it can backup files and

00:21:02,820 --> 00:21:08,700
data bases how does it do that well you

00:21:05,910 --> 00:21:12,930
can in a configuration file can select

00:21:08,700 --> 00:21:15,330
files that need to be backed up and the

00:21:12,930 --> 00:21:19,200
package can also dump your database to

00:21:15,330 --> 00:21:22,470
an SQL file and all those files will get

00:21:19,200 --> 00:21:26,220
zipped and that zip file will be copy it

00:21:22,470 --> 00:21:28,320
over to an external file system or to

00:21:26,220 --> 00:21:32,610
the local file system it's it's what you

00:21:28,320 --> 00:21:37,740
want you can even let copy to to

00:21:32,610 --> 00:21:40,910
multiple file systems at once it can

00:21:37,740 --> 00:21:44,400
also clean up alt backups because

00:21:40,910 --> 00:21:46,710
backups can certainly take a lot of

00:21:44,400 --> 00:21:49,830
storage and if you're using something

00:21:46,710 --> 00:21:53,340
like s3 you are going to pay for every

00:21:49,830 --> 00:21:57,260
byte you use and it isn't really

00:21:53,340 --> 00:22:00,570
necessary to keep larger backups from

00:21:57,260 --> 00:22:04,710
from every day from three years ago

00:22:00,570 --> 00:22:08,160
that's just insane to to keep those so

00:22:04,710 --> 00:22:11,260
the package has an artisan task to clean

00:22:08,160 --> 00:22:15,360
up the older backups in the same way

00:22:11,260 --> 00:22:19,660
and this task is fully configurable and

00:22:15,360 --> 00:22:21,580
what is also building in that artisan

00:22:19,660 --> 00:22:24,220
task is no matter how you configure it

00:22:21,580 --> 00:22:26,200
or misconfigure it it will never delete

00:22:24,220 --> 00:22:28,450
the youngest backup zone whatever you do

00:22:26,200 --> 00:22:30,790
with that clean command you'll always

00:22:28,450 --> 00:22:35,020
keep one backup tester that's the

00:22:30,790 --> 00:22:37,990
failsafe and to delete backups it uses

00:22:35,020 --> 00:22:41,920
the grandfather father-son rotation

00:22:37,990 --> 00:22:45,100
scheme I programmed this clean up clause

00:22:41,920 --> 00:22:46,540
and later on I found out hey there's a

00:22:45,100 --> 00:22:49,200
there's a name for this it's called

00:22:46,540 --> 00:22:53,560
grandfather father-son let's explain

00:22:49,200 --> 00:22:56,760
that that schema so imagine that you

00:22:53,560 --> 00:23:01,180
have every backup that you made for like

00:22:56,760 --> 00:23:04,240
three years on a disk somewhere if you

00:23:01,180 --> 00:23:08,290
run the cleanup what does it do it will

00:23:04,240 --> 00:23:11,080
for a specified amount of time it will

00:23:08,290 --> 00:23:12,760
just keep every backup for like the

00:23:11,080 --> 00:23:15,850
first seven days or something if you'll

00:23:12,760 --> 00:23:19,120
just keep every packet then after the

00:23:15,850 --> 00:23:22,030
the first seven days it'll delete every

00:23:19,120 --> 00:23:25,330
backup except one per day so you have

00:23:22,030 --> 00:23:28,330
daily backups after that period it will

00:23:25,330 --> 00:23:29,500
only keep weekly backups then monthly

00:23:28,330 --> 00:23:33,730
backups and so on

00:23:29,500 --> 00:23:37,510
so you have a lot of recent backups but

00:23:33,730 --> 00:23:39,720
you have less of backups that that are

00:23:37,510 --> 00:23:43,380
further down in the past that's how that

00:23:39,720 --> 00:23:43,380
rotation scheme works

00:23:43,440 --> 00:23:50,950
what can a package also do it can

00:23:46,120 --> 00:23:53,980
monitor your backups so it can detect a

00:23:50,950 --> 00:23:58,390
plan no backups were made in a certain

00:23:53,980 --> 00:24:00,700
amount of days and it can also detect if

00:23:58,390 --> 00:24:03,430
there is too much storage being used

00:24:00,700 --> 00:24:07,870
like I've set this tree to cost you

00:24:03,430 --> 00:24:11,170
money if for your little site you're

00:24:07,870 --> 00:24:12,970
going to keep backups for like 15

00:24:11,170 --> 00:24:16,210
terabyte there's probably something

00:24:12,970 --> 00:24:20,170
wrong and the monitoring part of the

00:24:16,210 --> 00:24:22,870
package is also fully configurable when

00:24:20,170 --> 00:24:24,820
certain things happen when certain

00:24:22,870 --> 00:24:28,000
events take place like a backup

00:24:24,820 --> 00:24:30,490
failed or the youngest backup is too old

00:24:28,000 --> 00:24:33,720
or the backup uses too much storage the

00:24:30,490 --> 00:24:36,279
packets can notify you of this fact and

00:24:33,720 --> 00:24:39,580
the notification part is also fully

00:24:36,279 --> 00:24:42,100
configurable out of the box it has

00:24:39,580 --> 00:24:45,750
support for mail slack telegram and

00:24:42,100 --> 00:24:50,049
pushover but we leverage larval native

00:24:45,750 --> 00:24:52,120
notification capability so if you want

00:24:50,049 --> 00:24:55,120
to have your notification delivered via

00:24:52,120 --> 00:24:59,620
another way it's very easy to add your

00:24:55,120 --> 00:25:03,159
own driver to it there's even a

00:24:59,620 --> 00:25:07,809
community effort where people are

00:25:03,159 --> 00:25:10,809
creating drivers for all notification

00:25:07,809 --> 00:25:14,799
channels and I think there are already

00:25:10,809 --> 00:25:17,980
50 different packages there if you want

00:25:14,799 --> 00:25:20,740
to take a look it's it's on on get up

00:25:17,980 --> 00:25:23,409
you'll find all those notification

00:25:20,740 --> 00:25:26,169
channel packages so basically the

00:25:23,409 --> 00:25:29,769
package can send you notification via

00:25:26,169 --> 00:25:32,440
every platform that you want so I can

00:25:29,769 --> 00:25:34,389
talk a lot of parties but I think it's

00:25:32,440 --> 00:25:38,490
better if I'd demonstrated so you get a

00:25:34,389 --> 00:25:41,860
little bit the feel of it let's do it

00:25:38,490 --> 00:25:47,139
I'm just going to let this guy stop

00:25:41,860 --> 00:25:50,320
bouncing let's go into laravel project

00:25:47,139 --> 00:25:54,250
that I that I prepared so this is

00:25:50,320 --> 00:25:58,419
basically a laravel application those

00:25:54,250 --> 00:26:01,240
who use larval recognize structure and I

00:25:58,419 --> 00:26:04,840
have just installed the backup package

00:26:01,240 --> 00:26:08,710
into it now the package can be

00:26:04,840 --> 00:26:11,350
configured if I configure file by a

00:26:08,710 --> 00:26:14,289
configure file called larval backup

00:26:11,350 --> 00:26:16,029
let's review what's what's in this file

00:26:14,289 --> 00:26:22,330
is it big enough can everybody read this

00:26:16,029 --> 00:26:24,669
okay so the the configuration is split

00:26:22,330 --> 00:26:28,330
up into four different sections first

00:26:24,669 --> 00:26:31,000
you have backup then you have

00:26:28,330 --> 00:26:33,250
notification where you can configure

00:26:31,000 --> 00:26:35,049
everything regarding notifications now

00:26:33,250 --> 00:26:36,580
we have the the monitoring part that you

00:26:35,049 --> 00:26:37,690
can configure it and then you have to

00:26:36,580 --> 00:26:40,360
clean up part

00:26:37,690 --> 00:26:43,990
can be configured let's take a look at

00:26:40,360 --> 00:26:46,990
the backup part first so that one is

00:26:43,990 --> 00:26:50,019
split up in the source what are we going

00:26:46,990 --> 00:26:55,000
to backup and the destination to where

00:26:50,019 --> 00:26:56,889
are we going to send those backups if I

00:26:55,000 --> 00:27:00,250
look at the source then we have files

00:26:56,889 --> 00:27:03,519
that we can backup and databases we can

00:27:00,250 --> 00:27:05,289
Beckett so if I take a look at files we

00:27:03,519 --> 00:27:07,750
are going to include our entire

00:27:05,289 --> 00:27:09,340
application here and we can exclude some

00:27:07,750 --> 00:27:11,590
directories like the vendor at the node

00:27:09,340 --> 00:27:14,019
modules photo folder because yeah you

00:27:11,590 --> 00:27:17,169
can build that up that isn't necessary

00:27:14,019 --> 00:27:18,970
to backup now in a real life case you're

00:27:17,169 --> 00:27:20,710
not going to backup the entire

00:27:18,970 --> 00:27:23,019
application you're going to backup a

00:27:20,710 --> 00:27:25,690
directory that has your user generated

00:27:23,019 --> 00:27:28,649
content like the the uploads or

00:27:25,690 --> 00:27:32,049
something like that

00:27:28,649 --> 00:27:36,879
and here you can see that we are going

00:27:32,049 --> 00:27:40,990
to backup the MySQL database and that

00:27:36,879 --> 00:27:43,210
MySQL key that corresponds to the name

00:27:40,990 --> 00:27:45,779
of the database that is being configured

00:27:43,210 --> 00:27:49,419
in the database part of a flower well

00:27:45,779 --> 00:27:51,909
let me make it a little bit smaller so

00:27:49,419 --> 00:27:53,620
here you can see that larvell has some

00:27:51,909 --> 00:27:55,059
connections and we have the MySQL

00:27:53,620 --> 00:27:57,370
connection here and you can see that the

00:27:55,059 --> 00:28:00,250
credentials are being set here so they

00:27:57,370 --> 00:28:03,399
are not necessary to specify credentials

00:28:00,250 --> 00:28:07,360
in the backup file of a flower file

00:28:03,399 --> 00:28:10,509
backup itself so we're going to backup

00:28:07,360 --> 00:28:13,990
some files the database to where we are

00:28:10,509 --> 00:28:16,350
going to back it up well that can be

00:28:13,990 --> 00:28:20,139
configured in the destination part and

00:28:16,350 --> 00:28:23,110
laravel has built-in support for using

00:28:20,139 --> 00:28:26,440
multiple file systems it calls those

00:28:23,110 --> 00:28:29,019
file systems disks and you can put names

00:28:26,440 --> 00:28:33,129
of disks here and I have a disk called

00:28:29,019 --> 00:28:35,740
backups here let me show you where those

00:28:33,129 --> 00:28:37,480
disks can be configured so a large file

00:28:35,740 --> 00:28:41,129
comes out it comes out of the box with

00:28:37,480 --> 00:28:43,179
the file systems configuration file if I

00:28:41,129 --> 00:28:45,279
open this one up

00:28:43,179 --> 00:28:47,230
then you can see that disks are being

00:28:45,279 --> 00:28:49,970
configured here we have a disk called

00:28:47,230 --> 00:28:52,610
back up with a

00:28:49,970 --> 00:28:55,670
local driver so it's local directory and

00:28:52,610 --> 00:28:58,940
in the root we can see which directory

00:28:55,670 --> 00:29:01,880
that is so the backup disks is is a

00:28:58,940 --> 00:29:03,950
local directory you can see here that

00:29:01,880 --> 00:29:06,980
there are a few other disks configured

00:29:03,950 --> 00:29:09,640
like s3 which we are going to use a

00:29:06,980 --> 00:29:19,520
little bit later on in the presentation

00:29:09,640 --> 00:29:23,450
okay so this again okay let's go over to

00:29:19,520 --> 00:29:27,350
the command line so I'm here in the

00:29:23,450 --> 00:29:29,780
directory of our demo application for

00:29:27,350 --> 00:29:33,530
those who don't know laravel pyrovile

00:29:29,780 --> 00:29:37,040
has a task runner called artisan which

00:29:33,530 --> 00:29:40,910
can be used to perform command line

00:29:37,040 --> 00:29:42,560
tasks and you can see that by installing

00:29:40,910 --> 00:29:46,550
our package you gain a few commands

00:29:42,560 --> 00:29:49,810
clean command list monitor and run now

00:29:46,550 --> 00:29:56,300
the run command that takes care of

00:29:49,810 --> 00:29:58,250
backups the clean command that that will

00:29:56,300 --> 00:30:01,520
clean up your older backups and

00:29:58,250 --> 00:30:05,530
monitoring command that will send out

00:30:01,520 --> 00:30:07,700
notifications now those commands you can

00:30:05,530 --> 00:30:10,310
execute them on the command line which

00:30:07,700 --> 00:30:14,360
I'm going to do later but laravel also

00:30:10,310 --> 00:30:16,010
has a built-in scheduler which can

00:30:14,360 --> 00:30:21,350
execute the commands for you

00:30:16,010 --> 00:30:23,510
and the scheduler you can add commands

00:30:21,350 --> 00:30:26,390
to the schedule in the console kernel of

00:30:23,510 --> 00:30:29,480
a floor eval you can see here it's just

00:30:26,390 --> 00:30:32,600
a demo thing you can put any value you

00:30:29,480 --> 00:30:34,700
want I've scheduled the backup ronk

00:30:32,600 --> 00:30:36,860
amount to run daily at 2:00 o'clock at

00:30:34,700 --> 00:30:40,210
night the cleanup command that 10

00:30:36,860 --> 00:30:43,820
minutes later and the monitoring command

00:30:40,210 --> 00:30:46,490
5 minutes later but you can schedule it

00:30:43,820 --> 00:30:48,770
any way that you want but for this

00:30:46,490 --> 00:30:54,890
demonstration we are going to manually

00:30:48,770 --> 00:30:58,670
run those commands so probably shouldn't

00:30:54,890 --> 00:31:01,430
let you see this I have an alias a which

00:30:58,670 --> 00:31:03,200
is alias to PHP artisan so I just have

00:31:01,430 --> 00:31:07,549
to type a2 to

00:31:03,200 --> 00:31:10,970
cute artisan if I run backup list now

00:31:07,549 --> 00:31:13,340
you can see there are no backups present

00:31:10,970 --> 00:31:16,340
which is not good so it's it's not

00:31:13,340 --> 00:31:18,740
healthy to have no backups at all you

00:31:16,340 --> 00:31:21,590
can see here the name of my application

00:31:18,740 --> 00:31:26,019
and disks to where the backups are going

00:31:21,590 --> 00:31:29,240
to be stored so if I run backup run here

00:31:26,019 --> 00:31:31,549
you can see it that was very fast that

00:31:29,240 --> 00:31:33,169
it has dumped the database it has

00:31:31,549 --> 00:31:33,889
determined the files that need to be

00:31:33,169 --> 00:31:37,010
backed up

00:31:33,889 --> 00:31:39,830
it has zipped files it has create the

00:31:37,010 --> 00:31:43,330
zip file for those files it has copied

00:31:39,830 --> 00:31:46,700
them over to that disclaim and it has

00:31:43,330 --> 00:31:48,860
has been copying that tip over and

00:31:46,700 --> 00:31:53,080
that's successfully done so the backup

00:31:48,860 --> 00:31:57,620
is completed ok let's take a look at

00:31:53,080 --> 00:31:59,779
that storage directory where the backups

00:31:57,620 --> 00:32:02,419
start and sure enough we can see I'm

00:31:59,779 --> 00:32:05,240
going to open up oh that's big in the

00:32:02,419 --> 00:32:07,519
finder here reveal in finder we have a

00:32:05,240 --> 00:32:10,880
zip file here if I open it up you can

00:32:07,519 --> 00:32:12,620
see here that we have our dumped my Seco

00:32:10,880 --> 00:32:15,320
file and that we have our entire

00:32:12,620 --> 00:32:21,399
application inside this backups all our

00:32:15,320 --> 00:32:25,460
backup is successful cool okay so that's

00:32:21,399 --> 00:32:29,600
backing up let's go back to the

00:32:25,460 --> 00:32:35,230
configuration file and talk a little bit

00:32:29,600 --> 00:32:38,779
about what are we going to do

00:32:35,230 --> 00:32:42,159
maybe the monitoring part here so the

00:32:38,779 --> 00:32:46,549
monitoring part that's the part that

00:32:42,159 --> 00:32:50,059
will notify you when your backups are

00:32:46,549 --> 00:32:53,210
unhealthy and when you're and here you

00:32:50,059 --> 00:32:55,279
can configure how the package will

00:32:53,210 --> 00:32:57,799
determine if your backups are healthy so

00:32:55,279 --> 00:33:01,639
the newest backup should not be older

00:32:57,799 --> 00:33:03,110
than one day so if your latest backups

00:33:01,639 --> 00:33:05,240
seven days old

00:33:03,110 --> 00:33:07,789
then you will you will get one by this

00:33:05,240 --> 00:33:10,070
and there's there's something wrong and

00:33:07,789 --> 00:33:12,049
the storage used may not be higher than

00:33:10,070 --> 00:33:14,240
megabytes now for this demo

00:33:12,049 --> 00:33:15,910
demonstration I've set it to 30k in

00:33:14,240 --> 00:33:18,340
production you are going to

00:33:15,910 --> 00:33:22,930
probably set this to to a much higher

00:33:18,340 --> 00:33:27,430
value okay so back ups cannot be higher

00:33:22,930 --> 00:33:29,890
than 30k let's let's make it a little

00:33:27,430 --> 00:33:33,280
bit higher so if you run back up list

00:33:29,890 --> 00:33:34,990
you can see the backups that are being

00:33:33,280 --> 00:33:37,750
made you can see here that the newest

00:33:34,990 --> 00:33:42,640
backup was was two minutes ago and we

00:33:37,750 --> 00:33:44,530
are using now 11 K of storage let's make

00:33:42,640 --> 00:33:47,340
another backup okay

00:33:44,530 --> 00:33:52,540
then we use a little bit more search

00:33:47,340 --> 00:33:55,030
backup run okay good and if I run backup

00:33:52,540 --> 00:33:57,310
list now you can see that the backups

00:33:55,030 --> 00:34:00,730
are not healthy and before that they

00:33:57,310 --> 00:34:04,330
were healthy and the reason for that is

00:34:00,730 --> 00:34:07,230
that we use too much space so I'm

00:34:04,330 --> 00:34:14,160
running these commands here now locally

00:34:07,230 --> 00:34:22,870
I'm going stop you can't handle that oh

00:34:14,160 --> 00:34:27,790
sorry quit if I run the backup monitor

00:34:22,870 --> 00:34:32,200
now let's dive into the configuration

00:34:27,790 --> 00:34:35,490
here first then it will notify me and

00:34:32,200 --> 00:34:39,310
here you can set up the notifications

00:34:35,490 --> 00:34:41,860
this is a bit the formatting is slightly

00:34:39,310 --> 00:34:44,560
off because the resolution is a little

00:34:41,860 --> 00:34:46,300
bit low as you can see here that if an

00:34:44,560 --> 00:34:49,060
unhealthy backup was found

00:34:46,300 --> 00:34:51,610
I want a notification via slack and

00:34:49,060 --> 00:34:54,310
that's what we are going to do now so if

00:34:51,610 --> 00:34:55,690
I run the backup monitor now you can see

00:34:54,310 --> 00:34:58,990
here that the backups on backups are

00:34:55,690 --> 00:35:01,570
considered unhealthy good good but if I

00:34:58,990 --> 00:35:04,300
go to my slack channel I can see here

00:35:01,570 --> 00:35:07,090
that we have notification now the back

00:35:04,300 --> 00:35:08,830
at all my site are unhealthy and you get

00:35:07,090 --> 00:35:11,500
some statistics of why they are

00:35:08,830 --> 00:35:14,590
considered unhealthy so that's how that

00:35:11,500 --> 00:35:19,390
works so now I can close like so it

00:35:14,590 --> 00:35:21,910
won't bounce again okay how can we fix

00:35:19,390 --> 00:35:24,250
this situation we have used too much

00:35:21,910 --> 00:35:26,410
storage well for that we are going to

00:35:24,250 --> 00:35:27,470
run the clean command but before I do

00:35:26,410 --> 00:35:30,710
that

00:35:27,470 --> 00:35:33,440
just take a look at how that clean

00:35:30,710 --> 00:35:35,420
command can be configured so in the

00:35:33,440 --> 00:35:40,369
configuration file we have a key here

00:35:35,420 --> 00:35:42,590
for cleanup and we have a cleanup

00:35:40,369 --> 00:35:44,900
strategy here which contains that

00:35:42,590 --> 00:35:47,030
grandfather father-son rotation scheme I

00:35:44,900 --> 00:35:49,670
was talking about if you don't like the

00:35:47,030 --> 00:35:53,210
scheme you can just implement your own

00:35:49,670 --> 00:35:55,520
cleaning logic here but I think for the

00:35:53,210 --> 00:35:59,599
most part this is a good strategy

00:35:55,520 --> 00:36:01,880
and here you can see that the period of

00:35:59,599 --> 00:36:03,260
the that grandfather father-son rotation

00:36:01,880 --> 00:36:06,140
scheme those periods can be configured

00:36:03,260 --> 00:36:08,869
here so keep all backups for seven days

00:36:06,140 --> 00:36:11,260
after that keep all the daily backups

00:36:08,869 --> 00:36:17,869
for 16 days and keep all the weekly

00:36:11,260 --> 00:36:21,470
backups for 8 days and so on and after

00:36:17,869 --> 00:36:24,410
it has done that it will apply this rule

00:36:21,470 --> 00:36:28,130
delete all those backups when using more

00:36:24,410 --> 00:36:31,820
megabytes than then 30 K so it will

00:36:28,130 --> 00:36:36,260
delete backups starting from the oldest

00:36:31,820 --> 00:36:40,940
one until it reaches this number so

00:36:36,260 --> 00:36:44,240
let's let's run that now so again if I

00:36:40,940 --> 00:36:45,320
run backup list here you can see we use

00:36:44,240 --> 00:36:50,810
too much storage

00:36:45,320 --> 00:36:54,410
if I run backup clean now it has deleted

00:36:50,810 --> 00:36:57,560
one backup so it's under that 30 K and

00:36:54,410 --> 00:37:01,270
the backups are considered to healthy

00:36:57,560 --> 00:37:01,270
now so that's how that works

00:37:01,390 --> 00:37:10,300
let's lastly demonstrate that it can

00:37:04,130 --> 00:37:13,580
also copy the backups to s3 so if I

00:37:10,300 --> 00:37:19,339
comment this out and come to that in the

00:37:13,580 --> 00:37:26,690
monitor as well and if I run backup list

00:37:19,339 --> 00:37:29,119
now I backup list now you can see here

00:37:26,690 --> 00:37:31,910
we have another disk here now as tree

00:37:29,119 --> 00:37:34,220
and those backups are considered

00:37:31,910 --> 00:37:37,849
unhealthy because there are no beds

00:37:34,220 --> 00:37:40,670
present and if I open up my droplet this

00:37:37,849 --> 00:37:41,430
is a view of my droplets you can see

00:37:40,670 --> 00:37:46,099
that

00:37:41,430 --> 00:37:51,930
is completely empty if I run back up

00:37:46,099 --> 00:37:55,140
well now they can see here that it will

00:37:51,930 --> 00:37:57,480
not only have as copy to zip to a

00:37:55,140 --> 00:38:00,839
disclaim backups it has also copied to

00:37:57,480 --> 00:38:04,710
the zip to disclaimed s tree let's

00:38:00,839 --> 00:38:07,319
refresh our a street droplet and sure

00:38:04,710 --> 00:38:11,250
enough we have a new directory here with

00:38:07,319 --> 00:38:18,480
a backup of the application of today if

00:38:11,250 --> 00:38:20,130
I run backup list again and yet this

00:38:18,480 --> 00:38:22,020
little bit slower because it used an

00:38:20,130 --> 00:38:24,720
internet connection right now you can

00:38:22,020 --> 00:38:26,369
see here that those backups of s3 are

00:38:24,720 --> 00:38:28,980
healthy but the local backups aren't

00:38:26,369 --> 00:38:36,300
there again so let's fix that by running

00:38:28,980 --> 00:38:40,260
back up clean and if I run backup list

00:38:36,300 --> 00:38:43,020
again then all backups should be healthy

00:38:40,260 --> 00:38:46,230
and I've backup my application to two

00:38:43,020 --> 00:38:50,490
separate file systems so that's that's

00:38:46,230 --> 00:38:53,220
how that works so that concludes our

00:38:50,490 --> 00:38:58,829
little tour of the package and what it

00:38:53,220 --> 00:39:00,869
what it can do for you some best

00:38:58,829 --> 00:39:04,109
practices for monitoring your

00:39:00,869 --> 00:39:06,540
application so I've demonstrated here

00:39:04,109 --> 00:39:09,900
that I run the monitor inside the

00:39:06,540 --> 00:39:12,960
application that that needs to be backed

00:39:09,900 --> 00:39:14,910
up but you should be aware that your

00:39:12,960 --> 00:39:18,059
allow file application can break if you

00:39:14,910 --> 00:39:22,309
have like for instance a syntax error in

00:39:18,059 --> 00:39:25,440
inside your index dot PHP file your

00:39:22,309 --> 00:39:27,720
laravel application won't run your

00:39:25,440 --> 00:39:29,760
backups won't be made but the monitoring

00:39:27,720 --> 00:39:31,559
part which sends a notification won't

00:39:29,760 --> 00:39:34,650
run as well so we won't be notified

00:39:31,559 --> 00:39:36,359
that's that's bad or maybe your server

00:39:34,650 --> 00:39:40,170
may be down then you don't get

00:39:36,359 --> 00:39:43,770
notifications or backups so what I

00:39:40,170 --> 00:39:47,119
encourage you to do is just install the

00:39:43,770 --> 00:39:50,760
package inside a lot of our application

00:39:47,119 --> 00:39:53,099
on a separate server and monitor the

00:39:50,760 --> 00:39:54,119
backups of all your applications from

00:39:53,099 --> 00:39:56,400
there so

00:39:54,119 --> 00:39:58,529
in a little scheme it's this you have

00:39:56,400 --> 00:40:03,450
your applications on the top they have

00:39:58,529 --> 00:40:05,819
all they all all are using the backup

00:40:03,450 --> 00:40:08,369
package and they backup to a large

00:40:05,819 --> 00:40:10,619
external disk and then at the bottom we

00:40:08,369 --> 00:40:14,249
have our monitoring server which will

00:40:10,619 --> 00:40:18,480
just take a look at those at the backups

00:40:14,249 --> 00:40:21,390
of that backup disk let me to make it a

00:40:18,480 --> 00:40:23,940
little bit more clear let's head over to

00:40:21,390 --> 00:40:26,999
the configuration file again you'll have

00:40:23,940 --> 00:40:29,130
here monitor backups you can see here

00:40:26,999 --> 00:40:34,230
that it's an array so you can monitor

00:40:29,130 --> 00:40:36,599
multiple with monitor multiple backups

00:40:34,230 --> 00:40:39,150
as well so you can here you can put

00:40:36,599 --> 00:40:42,839
right the name of the second application

00:40:39,150 --> 00:40:47,119
here and you can monitor as many backups

00:40:42,839 --> 00:40:50,910
as you want so that's how that works

00:40:47,119 --> 00:40:54,180
you can also use the package to backup

00:40:50,910 --> 00:40:57,390
normal level applications how can we do

00:40:54,180 --> 00:40:59,880
this well it's it's very easy you have

00:40:57,390 --> 00:41:02,099
your server with which runs your symfony

00:40:59,880 --> 00:41:05,059
application over your worth of WordPress

00:41:02,099 --> 00:41:08,130
application or whatever you just need to

00:41:05,059 --> 00:41:10,410
install a laravel application on that

00:41:08,130 --> 00:41:12,539
same server and just point all the

00:41:10,410 --> 00:41:14,369
configuration to the directories of your

00:41:12,539 --> 00:41:16,259
symfony application or your WordPress

00:41:14,369 --> 00:41:20,160
application and just use the backup

00:41:16,259 --> 00:41:24,739
package it's it's it's very simple so

00:41:20,160 --> 00:41:28,529
that's how that works so in conclusion

00:41:24,739 --> 00:41:30,960
what are the benefits of our backup

00:41:28,529 --> 00:41:33,720
package it can back up things to

00:41:30,960 --> 00:41:36,329
multiple file systems you will get

00:41:33,720 --> 00:41:40,529
notified when something goes wrong can

00:41:36,329 --> 00:41:42,720
clean up all the backups it's very easy

00:41:40,529 --> 00:41:45,839
to install you don't need to have any

00:41:42,720 --> 00:41:49,339
system administration knowledge for that

00:41:45,839 --> 00:41:53,460
and it will only cost you one postcard

00:41:49,339 --> 00:41:54,779
now there are only there are also a few

00:41:53,460 --> 00:41:58,680
drawbacks as well

00:41:54,779 --> 00:42:02,400
I had only use this application for a

00:41:58,680 --> 00:42:06,130
small two to medium sized apps if you

00:42:02,400 --> 00:42:09,940
have a larger app probably your

00:42:06,130 --> 00:42:14,860
going to have dedicated DevOps team let

00:42:09,940 --> 00:42:18,790
them handle your backup now the drawback

00:42:14,860 --> 00:42:21,940
is that this package can consume quite a

00:42:18,790 --> 00:42:23,920
bit of disk space while backing up so um

00:42:21,940 --> 00:42:26,320
on the server that needs to be backup

00:42:23,920 --> 00:42:29,110
because it has to create a sip on the on

00:42:26,320 --> 00:42:32,140
the same on the on the same disk so you

00:42:29,110 --> 00:42:34,240
should have enough free space on your

00:42:32,140 --> 00:42:37,630
disk so in order for that sip to be

00:42:34,240 --> 00:42:42,250
created and your application also has

00:42:37,630 --> 00:42:44,010
credentials to access the backups which

00:42:42,250 --> 00:42:47,740
you should be aware of if one of your

00:42:44,010 --> 00:42:50,890
servers gets hacked then your the

00:42:47,740 --> 00:42:52,900
attacker might gain the passwords to

00:42:50,890 --> 00:42:54,690
your backups as well you should be aware

00:42:52,900 --> 00:42:58,930
of that as well

00:42:54,690 --> 00:43:01,060
currently there are no restore options

00:42:58,930 --> 00:43:04,840
built in the package and I don't think

00:43:01,060 --> 00:43:08,890
they will ever be automated to restore

00:43:04,840 --> 00:43:11,080
options because I think every incident

00:43:08,890 --> 00:43:15,250
needs to be solved a little different

00:43:11,080 --> 00:43:16,990
sometimes you restore just one file

00:43:15,250 --> 00:43:20,050
sometimes you restore an entire

00:43:16,990 --> 00:43:22,540
directory sometimes you just restore a

00:43:20,050 --> 00:43:24,730
table sometimes a whole the whole

00:43:22,540 --> 00:43:25,120
database and I think when something goes

00:43:24,730 --> 00:43:27,420
wrong

00:43:25,120 --> 00:43:29,920
that that's what I like I like to

00:43:27,420 --> 00:43:31,810
investigate and fix it myself so I know

00:43:29,920 --> 00:43:34,390
what what is it going on

00:43:31,810 --> 00:43:36,880
I think the automated restore options

00:43:34,390 --> 00:43:39,700
can be a little bit dangerous as well so

00:43:36,880 --> 00:43:44,080
that's why I haven't included them in in

00:43:39,700 --> 00:43:46,870
the package so everything that I've said

00:43:44,080 --> 00:43:48,880
during this talk is also noted in the

00:43:46,870 --> 00:43:52,600
documentation of the package we have a

00:43:48,880 --> 00:43:56,500
documentation site where you can find

00:43:52,600 --> 00:44:00,430
everything that you need to get started

00:43:56,500 --> 00:44:03,700
with this with this package so what are

00:44:00,430 --> 00:44:08,500
the requirements to use this we maintain

00:44:03,700 --> 00:44:10,150
two major versions version 4 is the most

00:44:08,500 --> 00:44:13,010
modern one

00:44:10,150 --> 00:44:16,370
you're required to have PHP seven

00:44:13,010 --> 00:44:19,850
running it works in laravel 5.3 and 5.4

00:44:16,370 --> 00:44:21,890
and it uses levels native notification

00:44:19,850 --> 00:44:24,590
capability so you can use any driver

00:44:21,890 --> 00:44:28,580
that you want to do CentOS notifications

00:44:24,590 --> 00:44:33,140
and the older version that works fine

00:44:28,580 --> 00:44:36,350
with PHP 5 and can be used in to Marvel

00:44:33,140 --> 00:44:38,270
5.1 and 5.2 and it has a custom

00:44:36,350 --> 00:44:39,830
notification system because laravel

00:44:38,270 --> 00:44:41,990
didn't have any notification

00:44:39,830 --> 00:44:45,740
capabilities back then and we have

00:44:41,990 --> 00:44:52,210
built-in support for mail for lock for

00:44:45,740 --> 00:44:56,450
slack pushover and telegram so this talk

00:44:52,210 --> 00:44:59,150
summarized in one slide do not rely

00:44:56,450 --> 00:45:02,630
solely on the backups of your service

00:44:59,150 --> 00:45:05,120
provider take care of your own backups

00:45:02,630 --> 00:45:08,090
as well there are many options available

00:45:05,120 --> 00:45:12,410
you have that DIY script you have open

00:45:08,090 --> 00:45:15,050
source software and maybe IRL backup can

00:45:12,410 --> 00:45:18,830
help you out as well and it'll only cost

00:45:15,050 --> 00:45:21,410
you one postcard so that's everything

00:45:18,830 --> 00:45:23,710
that I wanted to say about this are

00:45:21,410 --> 00:45:31,100
there any questions

00:45:23,710 --> 00:45:33,230
yeah what if you don't have my as well

00:45:31,100 --> 00:45:35,870
as database can you skip the database

00:45:33,230 --> 00:45:38,810
and just backup the files yeah then you

00:45:35,870 --> 00:45:40,550
just leave the database part empty and

00:45:38,810 --> 00:45:49,700
it won't dump anything at all so then

00:45:40,550 --> 00:45:52,070
you are just back opening files ok so I

00:45:49,700 --> 00:45:55,060
mean you said like this is for a small

00:45:52,070 --> 00:45:56,200
and medium sized application right yeah

00:45:55,060 --> 00:45:59,870
[Music]

00:45:56,200 --> 00:46:02,180
so I would say for medium sized

00:45:59,870 --> 00:46:04,850
application sometimes we have I mean we

00:46:02,180 --> 00:46:08,360
pretty much use AWS I think everyone

00:46:04,850 --> 00:46:12,770
most of them started moving in AWS now

00:46:08,360 --> 00:46:14,390
and then a Douglas has its own backup

00:46:12,770 --> 00:46:17,330
system right mm-hmm

00:46:14,390 --> 00:46:20,150
so I feel like it's good for a small

00:46:17,330 --> 00:46:23,869
application for deaf people who just

00:46:20,150 --> 00:46:27,140
manage one or two a small website yeah

00:46:23,869 --> 00:46:31,840
I'm trying to understand was I'm how we

00:46:27,140 --> 00:46:34,550
can utilize this tool who already have

00:46:31,840 --> 00:46:37,820
hosted in aid of this and they have you

00:46:34,550 --> 00:46:40,130
know their own backup system so your

00:46:37,820 --> 00:46:45,290
question is if you say wait I feel like

00:46:40,130 --> 00:46:49,670
it's little I mean our and say it's it's

00:46:45,290 --> 00:46:52,100
not useful but I feel like you know for

00:46:49,670 --> 00:46:55,850
example it's um I have a small website

00:46:52,100 --> 00:46:59,030
but I'm hosting on a SS and it has its

00:46:55,850 --> 00:47:01,130
own backup system yeah right in that

00:46:59,030 --> 00:47:05,359
case I suppose if they don't use this

00:47:01,130 --> 00:47:07,520
one because I have you know back of an e

00:47:05,359 --> 00:47:11,630
SS and whenever I'd like to restore I

00:47:07,520 --> 00:47:14,060
can go and restore yeah I've tried to

00:47:11,630 --> 00:47:16,790
emphasis during the talk that everybody

00:47:14,060 --> 00:47:18,950
has its own strategy of doing things and

00:47:16,790 --> 00:47:22,220
you should do what what feels best you

00:47:18,950 --> 00:47:25,010
right I want to underline that don't

00:47:22,220 --> 00:47:27,619
really rely on one partner rely on

00:47:25,010 --> 00:47:30,350
something something else instead and I

00:47:27,619 --> 00:47:33,290
really don't care which other thing that

00:47:30,350 --> 00:47:36,350
is it doesn't have to be our our package

00:47:33,290 --> 00:47:38,390
as well you should do what feels good to

00:47:36,350 --> 00:47:40,850
you and what's appropriate for your

00:47:38,390 --> 00:47:42,470
application and for yet the people in

00:47:40,850 --> 00:47:45,770
your team if you have somebody in your

00:47:42,470 --> 00:47:49,340
team that those Amazon services and RDS

00:47:45,770 --> 00:47:52,510
really well yeah just use that so it's

00:47:49,340 --> 00:47:52,510
really different for everybody

00:48:55,549 --> 00:49:02,089
to download a stream backups again

00:49:04,489 --> 00:49:10,079
well it isn't it isn't automated but if

00:49:08,160 --> 00:49:24,269
it's on this tree you can do with

00:49:10,079 --> 00:49:36,989
efferent that you want sorry yeah yeah

00:49:24,269 --> 00:49:39,119
yeah that's manual process yeah yeah

00:49:36,989 --> 00:49:40,650
let's discuss this after the

00:49:39,119 --> 00:49:42,660
presentation if you have any questions

00:49:40,650 --> 00:49:47,789
more I'll be happy to show you around a

00:49:42,660 --> 00:49:50,190
little bit okay um I was wondering if as

00:49:47,789 --> 00:49:52,019
I said if someone gains access to this

00:49:50,190 --> 00:49:54,089
website he also has access to your

00:49:52,019 --> 00:49:57,210
backup service mm-hmm because you have

00:49:54,089 --> 00:49:58,499
to store your login credentials are the

00:49:57,210 --> 00:50:02,460
backups themselves is there a way to

00:49:58,499 --> 00:50:05,460
encrypt them so yeah so the package

00:50:02,460 --> 00:50:07,769
itself doesn't have any options tool to

00:50:05,460 --> 00:50:10,859
encrypt them but you can figure you can

00:50:07,769 --> 00:50:12,539
configure an s3 bucket in such that all

00:50:10,859 --> 00:50:14,609
contents that it's written on there will

00:50:12,539 --> 00:50:16,260
be encrypted by by a street so that's

00:50:14,609 --> 00:50:20,880
how you can can

00:50:16,260 --> 00:50:24,330
do that and one way to mitigate a

00:50:20,880 --> 00:50:27,780
problem of if one of your sides get

00:50:24,330 --> 00:50:31,500
hacked and the attacker can gain every

00:50:27,780 --> 00:50:34,140
every backup you can add users to s3

00:50:31,500 --> 00:50:37,410
that only have right capabilities but no

00:50:34,140 --> 00:50:40,290
read capability so that's one way to

00:50:37,410 --> 00:50:43,380
protect your backups on this tree as

00:50:40,290 --> 00:50:48,570
well so you can encrypt them there you

00:50:43,380 --> 00:50:50,280
can use good good credentials to only

00:50:48,570 --> 00:50:52,920
write them so that's how you can solve

00:50:50,280 --> 00:50:56,040
that problem I've got another question

00:50:52,920 --> 00:50:59,340
what is a little bit like the one before

00:50:56,040 --> 00:51:00,570
I think you said it would be a good good

00:50:59,340 --> 00:51:03,420
things you said have a separate server

00:51:00,570 --> 00:51:05,490
as the monitoring server yeah but will

00:51:03,420 --> 00:51:07,590
there be a feature and in the future

00:51:05,490 --> 00:51:09,450
that you can set up a separate backup

00:51:07,590 --> 00:51:11,760
server that not connects to another

00:51:09,450 --> 00:51:16,770
server to do an upload but doing

00:51:11,760 --> 00:51:20,130
download and save it locally so the

00:51:16,770 --> 00:51:23,840
question is how the backups can also be

00:51:20,130 --> 00:51:27,210
copied over to another server right yeah

00:51:23,840 --> 00:51:29,040
so that you don't have to install your

00:51:27,210 --> 00:51:32,940
backup package on the server you have

00:51:29,040 --> 00:51:35,460
okay but on the backup server yeah that

00:51:32,940 --> 00:51:38,220
isn't supported by this this package if

00:51:35,460 --> 00:51:42,210
you want that then I suggest you use

00:51:38,220 --> 00:51:44,730
something like backup PC which does

00:51:42,210 --> 00:51:47,790
allow that which walks into a server and

00:51:44,730 --> 00:51:50,240
sa connection and are things that but

00:51:47,790 --> 00:51:53,070
that's an all different strategy and

00:51:50,240 --> 00:51:55,200
that makes it a little bit more

00:51:53,070 --> 00:51:58,680
difficult to configure but it's a good

00:51:55,200 --> 00:52:00,360
idea to do might have it some sometimes

00:51:58,680 --> 00:52:03,630
yeah yeah I'll because I like the

00:52:00,360 --> 00:52:05,550
packaged stuff so don't know if

00:52:03,630 --> 00:52:07,350
something goes wrong so like your s3

00:52:05,550 --> 00:52:08,430
credentials have changed or permissions

00:52:07,350 --> 00:52:10,590
on the file systems you get

00:52:08,430 --> 00:52:11,250
notifications for that all it just fell

00:52:10,590 --> 00:52:13,650
silent

00:52:11,250 --> 00:52:15,240
sorry will imperil silently or will we

00:52:13,650 --> 00:52:17,610
get slack notifications come proves

00:52:15,240 --> 00:52:21,020
you'll get slack notifications that the

00:52:17,610 --> 00:52:24,120
backup has has failed so whenever that

00:52:21,020 --> 00:52:25,890
copying process fails an exception will

00:52:24,120 --> 00:52:29,720
get your own package will catch that

00:52:25,890 --> 00:52:29,720
exception and send you a notification

00:52:32,940 --> 00:52:43,930
okay I'm sorry when you backup files

00:52:36,900 --> 00:52:46,720
every time you backup all fires well um

00:52:43,930 --> 00:52:48,370
I haven't touched upon it in the

00:52:46,720 --> 00:52:51,130
presentation because I consider it a

00:52:48,370 --> 00:52:55,690
little bit more advanced feature but

00:52:51,130 --> 00:52:58,150
whenever a backup is is being made right

00:52:55,690 --> 00:53:00,630
before the zip file is created the

00:52:58,150 --> 00:53:03,850
application will send out an event

00:53:00,630 --> 00:53:06,940
containing all the files that will be

00:53:03,850 --> 00:53:11,500
backed up and you can catch that event

00:53:06,940 --> 00:53:13,840
and there's a there's a way of letting

00:53:11,500 --> 00:53:16,570
the package no not this file not this

00:53:13,840 --> 00:53:19,480
file not this file or at this file so

00:53:16,570 --> 00:53:21,400
you can add your logic yourself to it if

00:53:19,480 --> 00:53:26,590
you want to have specialized things you

00:53:21,400 --> 00:53:30,400
could for instance say that when the

00:53:26,590 --> 00:53:34,870
event is is it's fired and you're

00:53:30,400 --> 00:53:37,480
catching the event and it's let's say

00:53:34,870 --> 00:53:39,250
it's a weekday I'm not going to back up

00:53:37,480 --> 00:53:41,530
these files I'm only going to do that in

00:53:39,250 --> 00:53:44,940
the weekend that's how you can can do

00:53:41,530 --> 00:53:44,940
that that's covered in the documentation

00:53:47,370 --> 00:53:51,990
more questions yeah one in the back

00:54:01,330 --> 00:54:11,700
when somebody hacked your site what if

00:54:05,470 --> 00:54:15,640
you create maybe you plan to create a

00:54:11,700 --> 00:54:19,660
manager like a rapper something for

00:54:15,640 --> 00:54:26,880
these backups so the the backup software

00:54:19,660 --> 00:54:26,880
itself is he starting to each server but

00:54:26,970 --> 00:54:36,220
manager into the dedicated server which

00:54:32,320 --> 00:54:39,940
is starts and downloads the results the

00:54:36,220 --> 00:54:41,880
the backup files from from each server

00:54:39,940 --> 00:54:45,830
and you can

00:54:41,880 --> 00:54:45,830
you need only to take care about the

00:54:48,680 --> 00:54:54,930
that's exactly what the backup PC

00:54:51,450 --> 00:54:57,720
package does it it will just go into

00:54:54,930 --> 00:54:59,970
every sir and it will back everything up

00:54:57,720 --> 00:55:02,430
but for a sake of simplicity this

00:54:59,970 --> 00:55:05,310
package does it a little bit different

00:55:02,430 --> 00:55:08,580
so yeah if you only have one application

00:55:05,310 --> 00:55:13,260
you just can use your own application

00:55:08,580 --> 00:55:16,920
for managing the backups the emphasis

00:55:13,260 --> 00:55:19,740
here is on simplicity but I I do

00:55:16,920 --> 00:55:22,920
recognize that there is also value in

00:55:19,740 --> 00:55:25,140
doing it the other way around and in my

00:55:22,920 --> 00:55:27,950
company how how we do things is we do

00:55:25,140 --> 00:55:31,430
them both actually we use our package to

00:55:27,950 --> 00:55:35,100
to to create backups but we also use

00:55:31,430 --> 00:55:37,530
backup PC to copy all over everything so

00:55:35,100 --> 00:55:41,060
we do it yeah we have like three backups

00:55:37,530 --> 00:55:45,780
for for every server and what cloud

00:55:41,060 --> 00:55:49,980
hosting provider does already so you

00:55:45,780 --> 00:55:53,250
have it depends on you know how you of

00:55:49,980 --> 00:55:55,890
your personal preference I think I think

00:55:53,250 --> 00:56:00,540
the main lines always do multiple

00:55:55,890 --> 00:56:02,970
backups okay just a really quick

00:56:00,540 --> 00:56:05,910
question what does it you had talked

00:56:02,970 --> 00:56:07,230
about being able to install this in its

00:56:05,910 --> 00:56:09,780
own and laravel app that you could then

00:56:07,230 --> 00:56:12,090
backup non layer bail projects yeah so

00:56:09,780 --> 00:56:14,720
what is what does the package actually

00:56:12,090 --> 00:56:17,340
rely on laravel wise that you could

00:56:14,720 --> 00:56:20,040
install it itself without having to

00:56:17,340 --> 00:56:22,800
install full level application well

00:56:20,040 --> 00:56:26,640
laravel already gives you a lot of

00:56:22,800 --> 00:56:31,340
components to easily work with like for

00:56:26,640 --> 00:56:34,320
instance the external file system part

00:56:31,340 --> 00:56:37,530
where you this can be easily configured

00:56:34,320 --> 00:56:40,140
to to copy them over to external file

00:56:37,530 --> 00:56:42,930
systems laravel gives you that larvell

00:56:40,140 --> 00:56:45,120
also has the whole system for the

00:56:42,930 --> 00:56:46,980
notification drivers so everybody can

00:56:45,120 --> 00:56:49,110
just add little driver and the

00:56:46,980 --> 00:56:49,650
notification via that that channel will

00:56:49,110 --> 00:56:53,280
work

00:56:49,650 --> 00:56:55,380
and yeah we also use the scheduler of

00:56:53,280 --> 00:56:58,650
laravel with which you can

00:56:55,380 --> 00:57:00,329
easily schedule those those commands so

00:56:58,650 --> 00:57:03,150
there's a lot of infrastructure that

00:57:00,329 --> 00:57:05,730
larval has that we can simply use now I

00:57:03,150 --> 00:57:08,099
do recognize it can also be built with

00:57:05,730 --> 00:57:10,980
custom components like everything can be

00:57:08,099 --> 00:57:14,640
built with with custom components but I

00:57:10,980 --> 00:57:16,799
thought this is for me the easiest way

00:57:14,640 --> 00:57:19,799
to to take care of this because I use

00:57:16,799 --> 00:57:22,859
our well quite a lot and for me it was

00:57:19,799 --> 00:57:24,869
the easiest way to implement such a

00:57:22,859 --> 00:57:27,630
system in a fast rate because I'm very

00:57:24,869 --> 00:57:30,240
familiar with with those components and

00:57:27,630 --> 00:57:32,759
I think for people inside larval

00:57:30,240 --> 00:57:34,769
community it's it's it's really easy to

00:57:32,759 --> 00:57:38,430
work with and I think for people outside

00:57:34,769 --> 00:57:41,009
of our FL it really isn't that hard to

00:57:38,430 --> 00:57:44,059
get started with it because every single

00:57:41,009 --> 00:57:47,430
component is very good configured so

00:57:44,059 --> 00:57:52,019
yeah it's it's I think I've made the

00:57:47,430 --> 00:57:54,230
larval because I just know it well okay

00:57:52,019 --> 00:57:54,230
okay

00:57:55,140 --> 00:58:02,609
any more questions okay then I think

00:57:59,849 --> 00:58:04,529
we're done I've copied over the slides

00:58:02,609 --> 00:58:08,759
of this presentation to speaker that if

00:58:04,529 --> 00:58:10,680
you want to look at them again I want to

00:58:08,759 --> 00:58:14,640
grow a little bit as a speaker so I

00:58:10,680 --> 00:58:16,829
welcome any feedback on on joint in take

00:58:14,640 --> 00:58:19,319
a look on our company website on the

00:58:16,829 --> 00:58:21,029
officers page maybe we've used we have

00:58:19,319 --> 00:58:25,230
we have made something that you can use

00:58:21,029 --> 00:58:27,119
and if you're interested in laravel

00:58:25,230 --> 00:58:28,859
amount of PHP developments take a look

00:58:27,119 --> 00:58:30,630
at my blog or subscribe to my newsletter

00:58:28,859 --> 00:58:33,230
so that's it

00:58:30,630 --> 00:58:33,230
thank you

00:58:34,640 --> 00:58:38,040

YouTube URL: https://www.youtube.com/watch?v=klPNJypmIWQ


