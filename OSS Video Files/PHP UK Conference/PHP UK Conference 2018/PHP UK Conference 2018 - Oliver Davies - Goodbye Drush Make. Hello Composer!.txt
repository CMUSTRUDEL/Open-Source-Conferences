Title: PHP UK Conference 2018 - Oliver Davies - Goodbye Drush Make. Hello Composer!
Publication date: 2018-03-27
Playlist: PHP UK Conference 2018
Description: 
	One of the main outcomes of Drupal 8 was "getting off the island" with third-party code included in core and adopting modern best practices from the wider PHP ecosystem - including Composer, PHP's dependency manager. Included to manage core's dependencies, it has also gained traction in the contrib space with the creation of the Drupal Composer project, and the Drupal Packagist and now native endpoints on Drupal.org exposing contrib project metadata. In this session, we'll learn how to fully manage a Drupal 7 or Drupal 8 website including contributed modules and themes and external libraries with Composer.
Captions: 
	00:00:05,629 --> 00:00:10,469
yeah thanks very much so yeah probably

00:00:08,280 --> 00:00:13,530
too many screens at the moment

00:00:10,469 --> 00:00:17,000
so yes my name is Oliver today I'm gonna

00:00:13,530 --> 00:00:19,520
be talking about dressmaking composer I

00:00:17,000 --> 00:00:22,140
did have an alternative slide for this

00:00:19,520 --> 00:00:24,779
which is Josh make his dead long live

00:00:22,140 --> 00:00:26,369
composer when I first started summing

00:00:24,779 --> 00:00:28,590
this talk for Drupal conferences a

00:00:26,369 --> 00:00:30,660
couple of years ago this statement

00:00:28,590 --> 00:00:34,800
wasn't technically accurate though now

00:00:30,660 --> 00:00:38,129
it is so yeah we're we talking a lot of

00:00:34,800 --> 00:00:40,110
a Drupal today anybody started being is

00:00:38,129 --> 00:00:42,030
anybody here use Drupal at the moment

00:00:40,110 --> 00:00:45,090
for things I think quite a few people

00:00:42,030 --> 00:00:50,910
call a few people who's been using

00:00:45,090 --> 00:00:52,949
Drupal 8 okay cool also we're talking

00:00:50,910 --> 00:00:55,289
about composer so I guess most of us

00:00:52,949 --> 00:00:57,480
here be used to using composer right so

00:00:55,289 --> 00:00:59,879
yet when I've given this talk at say

00:00:57,480 --> 00:01:01,829
people camps and groups before composer

00:00:59,879 --> 00:01:04,049
first name was quite a new thing so it's

00:01:01,829 --> 00:01:05,909
phrase of entry-level what composers

00:01:04,049 --> 00:01:07,260
reason why it does I'm assuming here I

00:01:05,909 --> 00:01:13,729
can sort of skip over some of that

00:01:07,260 --> 00:01:17,130
probably because Drupal 8 loves composer

00:01:13,729 --> 00:01:20,369
it's a little bit about me I'm a full

00:01:17,130 --> 00:01:22,860
stack web dev man says Hagen I work

00:01:20,369 --> 00:01:27,479
primarily with Drupal medium Drupal sits

00:01:22,860 --> 00:01:30,750
about 2008 more recently I've started

00:01:27,479 --> 00:01:33,540
doing some Symphony and some laravel

00:01:30,750 --> 00:01:35,130
work as well and I guess just quickly to

00:01:33,540 --> 00:01:37,229
carry on from Gary's point with his

00:01:35,130 --> 00:01:39,390
closing keynote yesterday about trying

00:01:37,229 --> 00:01:41,820
new tools and different programming

00:01:39,390 --> 00:01:43,979
languages I also suggest if you're using

00:01:41,820 --> 00:01:46,500
one framework or one CMS to try some

00:01:43,979 --> 00:01:48,600
others as well I've taken quite a lot of

00:01:46,500 --> 00:01:50,640
inspiration from the work that I found

00:01:48,600 --> 00:01:53,130
in Symphony and laravel and brought that

00:01:50,640 --> 00:01:55,799
back into my Drupal work I've used quite

00:01:53,130 --> 00:01:58,799
a few symfony components that not native

00:01:55,799 --> 00:02:00,509
to Drupal at that time and a big

00:01:58,799 --> 00:02:04,710
proponent of using now of our

00:02:00,509 --> 00:02:06,329
collections in my code as well so I'm

00:02:04,710 --> 00:02:08,670
one of the lead developers at a company

00:02:06,329 --> 00:02:09,479
called Microsoft we're a drupal

00:02:08,670 --> 00:02:12,269
specially

00:02:09,479 --> 00:02:14,640
agency based in Bristol and we're one of

00:02:12,269 --> 00:02:19,110
the largest specialists Drupal companies

00:02:14,640 --> 00:02:21,989
in the UK Acquia certified Drupal 8

00:02:19,110 --> 00:02:24,239
grandma so it sounds pretty cool I've

00:02:21,989 --> 00:02:29,250
contributed to triple 7 and triple a

00:02:24,239 --> 00:02:32,940
call and I maintain a number of Drupal

00:02:29,250 --> 00:02:35,310
modules and PHP libraries as well

00:02:32,940 --> 00:02:38,220
I also co-organized the PHP Southwest

00:02:35,310 --> 00:02:40,739
ease grew up in Bristol also the Drupal

00:02:38,220 --> 00:02:42,690
Bristol user group as well as the Drupal

00:02:40,739 --> 00:02:46,440
camp that we do in Bristol every year as

00:02:42,690 --> 00:02:49,920
well there's two goals is coming out of

00:02:46,440 --> 00:02:52,680
this talk the first one comes from White

00:02:49,920 --> 00:02:54,959
House doing this drupal events if you're

00:02:52,680 --> 00:02:56,760
a drupal person not using composer and

00:02:54,959 --> 00:02:58,730
hopefully i convinced you've learned

00:02:56,760 --> 00:03:01,950
this talk that you should be doing in

00:02:58,730 --> 00:03:04,290
but also if you're sort of PHP person

00:03:01,950 --> 00:03:07,319
just just generalize a little bit too

00:03:04,290 --> 00:03:10,920
much and you've maybe looked at drupal

00:03:07,319 --> 00:03:12,569
maybe a cup of years ago maybe you're

00:03:10,920 --> 00:03:14,940
not considering it for projects right

00:03:12,569 --> 00:03:17,160
now and hopefully you can sort of change

00:03:14,940 --> 00:03:18,450
your mind on that as well and either

00:03:17,160 --> 00:03:20,569
sort of consider drupal for your

00:03:18,450 --> 00:03:25,019
projects or sort of reconsider if you've

00:03:20,569 --> 00:03:26,970
decided not to use it at some point so

00:03:25,019 --> 00:03:28,200
just in case people aren't familiar I'm

00:03:26,970 --> 00:03:31,590
going to just cover a little bit more

00:03:28,200 --> 00:03:33,660
triple A's so it's a PHP content

00:03:31,590 --> 00:03:35,849
management framework and so I don't

00:03:33,660 --> 00:03:38,430
necessarily ten use the term CMS or

00:03:35,849 --> 00:03:39,959
content management system I tend to

00:03:38,430 --> 00:03:42,780
refer to as a counter magical framework

00:03:39,959 --> 00:03:45,690
because it's a tool for sanity building

00:03:42,780 --> 00:03:46,919
your own CMS so everything is sort of in

00:03:45,690 --> 00:03:48,630
your control you can build your own

00:03:46,919 --> 00:03:50,519
content types you're an entities your

00:03:48,630 --> 00:03:53,669
own fields your own data stretch your

00:03:50,519 --> 00:03:58,109
open list pages you're not locked into a

00:03:53,669 --> 00:03:59,430
standard set of those things it's

00:03:58,109 --> 00:04:02,459
completely flexible it's completely up

00:03:59,430 --> 00:04:06,389
to you as the site builder to build what

00:04:02,459 --> 00:04:08,250
you want to use it's open source so all

00:04:06,389 --> 00:04:11,160
of the Drupal code is hosting ontraport

00:04:08,250 --> 00:04:14,120
or org as well as all of the contributed

00:04:11,160 --> 00:04:16,709
modules and themes and distributions

00:04:14,120 --> 00:04:19,070
Kathy yeah most of them are hosted on

00:04:16,709 --> 00:04:23,010
there that's sort of the official place

00:04:19,070 --> 00:04:25,860
some of them are hosted on github

00:04:23,010 --> 00:04:27,360
or other places and again in most cases

00:04:25,860 --> 00:04:29,130
that was a sort of mirrored back to

00:04:27,360 --> 00:04:32,370
Drupal to organ people are pushing

00:04:29,130 --> 00:04:34,230
commits back and forth but Diderot is

00:04:32,370 --> 00:04:36,060
where like what the issue queues are and

00:04:34,230 --> 00:04:40,380
like that type of thing where all our

00:04:36,060 --> 00:04:43,200
contribution system is all hosted it's

00:04:40,380 --> 00:04:44,820
modular so you download a core core

00:04:43,200 --> 00:04:45,390
gives you X amount of functionality at

00:04:44,820 --> 00:04:48,180
the box

00:04:45,390 --> 00:04:49,350
but if you want commerce for example I

00:04:48,180 --> 00:04:51,000
massive commerce quite a few times

00:04:49,350 --> 00:04:54,330
during this talk you could download

00:04:51,000 --> 00:04:56,790
extra modules install them and that

00:04:54,330 --> 00:04:58,980
gives you more stuff so essentially

00:04:56,790 --> 00:05:03,870
symphony bundles it's the same sort of

00:04:58,980 --> 00:05:05,880
for energy distributions so you could

00:05:03,870 --> 00:05:07,830
download pupil core when you install

00:05:05,880 --> 00:05:10,230
Drupal the first time some people

00:05:07,830 --> 00:05:12,300
probably remember this that you see two

00:05:10,230 --> 00:05:14,490
options and you see minimal and you see

00:05:12,300 --> 00:05:16,230
standard and you pick what you which

00:05:14,490 --> 00:05:18,030
version you want to install these are

00:05:16,230 --> 00:05:19,980
distributions so you can install the

00:05:18,030 --> 00:05:22,020
minimal distribution and get the minimal

00:05:19,980 --> 00:05:24,210
amount of stuff and you build it all up

00:05:22,020 --> 00:05:25,800
from scratch or you choose the standard

00:05:24,210 --> 00:05:27,420
distribution and it gives you more out

00:05:25,800 --> 00:05:29,880
of the box gives you your articles

00:05:27,420 --> 00:05:32,220
content type your pages and some sort of

00:05:29,880 --> 00:05:36,000
same defaults there maybe 9 times out of

00:05:32,220 --> 00:05:37,620
10 projects you can't want to use there

00:05:36,000 --> 00:05:39,120
are other distributions so if you're

00:05:37,620 --> 00:05:42,030
building a social network if you're

00:05:39,120 --> 00:05:47,610
building a magazine website if you're

00:05:42,030 --> 00:05:50,670
building anything that yeah various

00:05:47,610 --> 00:05:53,070
things they're prepackaged versions you

00:05:50,670 --> 00:05:54,870
can use that already have modules that

00:05:53,070 --> 00:05:57,240
you'll need installed and pre-configured

00:05:54,870 --> 00:05:59,850
already for you yeah we'll talk about

00:05:57,240 --> 00:06:02,640
those a little bit more as well try to

00:05:59,850 --> 00:06:05,790
Drupal 8 the code was mostly procedural

00:06:02,640 --> 00:06:08,130
so I think Drupal 6 my side involved

00:06:05,790 --> 00:06:10,490
everything's procedural so very

00:06:08,130 --> 00:06:14,160
WordPress II I guess if I can say that

00:06:10,490 --> 00:06:16,710
Drupal 7 started using opportunity code

00:06:14,160 --> 00:06:19,110
in places so the database abstraction

00:06:16,710 --> 00:06:22,470
layer was object orientated the

00:06:19,110 --> 00:06:24,420
migration modules were portrayed where

00:06:22,470 --> 00:06:28,380
it's in Drupal 8 we've gone very much

00:06:24,420 --> 00:06:30,720
low in all in on object oriented code

00:06:28,380 --> 00:06:32,970
and so he got off the island I guess is

00:06:30,720 --> 00:06:35,030
the phrase that we use 10 years should

00:06:32,970 --> 00:06:36,470
you play

00:06:35,030 --> 00:06:38,600
and we've adopted the principle of

00:06:36,470 --> 00:06:41,140
property found elsewhere rather than not

00:06:38,600 --> 00:06:43,970
invented here so we've been bringing in

00:06:41,140 --> 00:06:45,050
third-party code and use them as part of

00:06:43,970 --> 00:06:47,810
Drupal rather than writing everything

00:06:45,050 --> 00:06:50,780
ourselves and likewise in the tool room

00:06:47,810 --> 00:06:53,780
they reuse so all of our issue queues

00:06:50,780 --> 00:06:55,310
are built using Drupal drush make which

00:06:53,780 --> 00:06:57,920
we need talked a lot about in a minute

00:06:55,310 --> 00:06:59,990
it'll sleep probably based for Drupal

00:06:57,920 --> 00:07:02,210
and those things are sort of now being

00:06:59,990 --> 00:07:04,430
phased out and best practice energy

00:07:02,210 --> 00:07:07,270
standard tools sort of coming in and

00:07:04,430 --> 00:07:12,140
simple tasks there's another example

00:07:07,270 --> 00:07:16,010
should get to yes Drupal 8 is awesome so

00:07:12,140 --> 00:07:17,420
do slight Drupal sales pitch because of

00:07:16,010 --> 00:07:19,730
the tools that we've been using so

00:07:17,420 --> 00:07:24,080
object-oriented code Symphony code

00:07:19,730 --> 00:07:26,000
composer guzzle PHP unit for using parts

00:07:24,080 --> 00:07:29,840
and reusing parts of doctrine using

00:07:26,000 --> 00:07:31,370
stack we're using modern libraries that

00:07:29,840 --> 00:07:34,310
rather than again write everything else

00:07:31,370 --> 00:07:35,990
out which is pretty awesome at the last

00:07:34,310 --> 00:07:37,760
count they work on to the symphony

00:07:35,990 --> 00:07:40,730
project page sixteen symfony components

00:07:37,760 --> 00:07:42,470
used in Drupal 8 which is again pretty

00:07:40,730 --> 00:07:44,300
awesome again if you know those

00:07:42,470 --> 00:07:47,930
components you could then pick them up

00:07:44,300 --> 00:07:49,700
and then reuse them in Drupal so

00:07:47,930 --> 00:07:52,580
reusable knowledge me is a big I think

00:07:49,700 --> 00:07:54,950
on the side effect of a smooth to object

00:07:52,580 --> 00:07:58,010
orientated code there's an example

00:07:54,950 --> 00:07:59,510
recently so story i've sat with one of

00:07:58,010 --> 00:08:00,890
our developers in the week and

00:07:59,510 --> 00:08:04,580
implementing a feature in the

00:08:00,890 --> 00:08:07,430
triple-eight site where a user logs in

00:08:04,580 --> 00:08:09,410
we check if they accepted the terms of

00:08:07,430 --> 00:08:11,000
conditions of the website if they have

00:08:09,410 --> 00:08:13,460
we can just redirect them off to the

00:08:11,000 --> 00:08:15,620
home page or wherever we need to

00:08:13,460 --> 00:08:16,820
redirect them to if they hadn't three to

00:08:15,620 --> 00:08:19,220
take them to the terms and conditions

00:08:16,820 --> 00:08:23,420
page for them to accept before we can

00:08:19,220 --> 00:08:25,700
proceed so we had a checkbox a boolean

00:08:23,420 --> 00:08:27,680
field onto the user object that was what

00:08:25,700 --> 00:08:29,930
we were checking when they logged in and

00:08:27,680 --> 00:08:33,919
so what we ended up implementing

00:08:29,930 --> 00:08:37,070
was the first version was phrase of

00:08:33,919 --> 00:08:40,220
Drupal seven ish we then refactored it

00:08:37,070 --> 00:08:42,430
to use be more modern using a service

00:08:40,220 --> 00:08:44,750
class which we call the Tim's enforcer

00:08:42,430 --> 00:08:46,430
that was responsible for all of our

00:08:44,750 --> 00:08:48,150
figuring out do they have the box

00:08:46,430 --> 00:08:49,680
checked do

00:08:48,150 --> 00:08:52,350
that logic is encapsulated there and

00:08:49,680 --> 00:08:55,380
then we just reference that from the

00:08:52,350 --> 00:08:56,700
three or four entry points that where we

00:08:55,380 --> 00:08:59,850
have to reference it from so when they

00:08:56,700 --> 00:09:02,370
log in when they register and I think

00:08:59,850 --> 00:09:05,310
they were two or three others as well so

00:09:02,370 --> 00:09:10,140
using a face service class or our

00:09:05,310 --> 00:09:11,490
service class approach this is reusable

00:09:10,140 --> 00:09:13,440
because then I was working on some

00:09:11,490 --> 00:09:15,330
Symphony code that nine took my laptop

00:09:13,440 --> 00:09:17,100
into work the next day and said this is

00:09:15,330 --> 00:09:18,750
what I've been doing a symphony this is

00:09:17,100 --> 00:09:20,910
using exactly the same approach using

00:09:18,750 --> 00:09:22,920
service classes just a slight difference

00:09:20,910 --> 00:09:25,440
that's way calling it from Drupal hooks

00:09:22,920 --> 00:09:28,410
Robbins from Lynn a controller but the

00:09:25,440 --> 00:09:29,970
principle is exactly the same I think

00:09:28,410 --> 00:09:32,520
it's that reusable knowledge now we're

00:09:29,970 --> 00:09:34,380
not sort of just learning Drupal 7 like

00:09:32,520 --> 00:09:37,050
we would have been before and learning

00:09:34,380 --> 00:09:39,240
about hooks and just drupal specific

00:09:37,050 --> 00:09:41,880
things we're learning about techniques

00:09:39,240 --> 00:09:44,130
that can be reused across other projects

00:09:41,880 --> 00:09:46,770
and other frameworks and I think that's

00:09:44,130 --> 00:09:49,920
why we're seeing traditionals of Drupal

00:09:46,770 --> 00:09:52,530
agencies now expanding and working with

00:09:49,920 --> 00:09:54,360
symphony and laravel another other

00:09:52,530 --> 00:09:59,130
frameworks as well and also vice versa

00:09:54,360 --> 00:10:02,100
so I think that's pretty awesome I'm

00:09:59,130 --> 00:10:07,070
Josh if anyone's not familiar with drush

00:10:02,100 --> 00:10:09,240
drush is essentially the Drupal CLI and

00:10:07,070 --> 00:10:11,880
so it's the command-line interface for

00:10:09,240 --> 00:10:13,920
Drupal and so if you're thinking amps

00:10:11,880 --> 00:10:18,450
have been console for Symphony or

00:10:13,920 --> 00:10:20,600
artisan for laravel slight difference

00:10:18,450 --> 00:10:23,100
being it's not included with Drupal core

00:10:20,600 --> 00:10:24,990
so it's hosted on github rather than on

00:10:23,100 --> 00:10:26,970
Drupal too old it's quite its own

00:10:24,990 --> 00:10:29,640
release cycle it's a sort of separate

00:10:26,970 --> 00:10:33,630
separate project I think it was first

00:10:29,640 --> 00:10:36,570
released for Drupal 5 back in 2007 so

00:10:33,630 --> 00:10:40,500
even since before I was involved with a

00:10:36,570 --> 00:10:41,760
project at home and there's a few

00:10:40,500 --> 00:10:43,890
different ways we can go about setting

00:10:41,760 --> 00:10:46,290
up Drupal projects so I'm gonna cover

00:10:43,890 --> 00:10:48,660
sort of all three of them the first is

00:10:46,290 --> 00:10:50,910
download all the things and I think this

00:10:48,660 --> 00:10:53,640
is how he is how I started out and I

00:10:50,910 --> 00:10:56,460
think most others do as well it's just

00:10:53,640 --> 00:10:58,050
to go to triple to org find the Drupal

00:10:56,460 --> 00:10:59,970
project page or the module pages the

00:10:58,050 --> 00:11:02,250
page for the module that you want to

00:10:59,970 --> 00:11:05,130
install you get option

00:11:02,250 --> 00:11:07,200
four zip files or tardy zip files and

00:11:05,130 --> 00:11:08,850
you download them you copy and put them

00:11:07,200 --> 00:11:13,770
into the right place in repository and

00:11:08,850 --> 00:11:15,930
that's how you install modules drush

00:11:13,770 --> 00:11:17,400
does offer a DL command so a download

00:11:15,930 --> 00:11:20,850
command which sort of does the same

00:11:17,400 --> 00:11:22,680
thing for you so you rush the l path

00:11:20,850 --> 00:11:25,320
although they'd sort of automates that

00:11:22,680 --> 00:11:27,600
step and then you just commit everything

00:11:25,320 --> 00:11:31,230
it's your one big repository and push it

00:11:27,600 --> 00:11:33,690
and that's fine that's great it's for

00:11:31,230 --> 00:11:36,630
the easiest way to set up get set up

00:11:33,690 --> 00:11:39,150
initially but I think in the long term

00:11:36,630 --> 00:11:40,740
probably more difficult to maintain if

00:11:39,150 --> 00:11:42,240
you want to then update a module you

00:11:40,740 --> 00:11:43,920
have to delete the old files they need

00:11:42,240 --> 00:11:46,080
to download the new files from scratch

00:11:43,920 --> 00:11:48,900
you to copy and paste and replace the

00:11:46,080 --> 00:11:52,650
existing files so I can be quite time

00:11:48,900 --> 00:11:54,720
consuming and liberties another downside

00:11:52,650 --> 00:11:56,970
to this is then you've got Drupal core

00:11:54,720 --> 00:12:00,540
you've got or you can trim codes or your

00:11:56,970 --> 00:12:02,240
extra modules and themes if you into

00:12:00,540 --> 00:12:04,560
your positive project repository as well

00:12:02,240 --> 00:12:07,860
and and vendor code as well if you're

00:12:04,560 --> 00:12:10,770
using composer in that cell so option

00:12:07,860 --> 00:12:13,140
two is drush make and rush make is a

00:12:10,770 --> 00:12:15,330
tool there were technically an extension

00:12:13,140 --> 00:12:18,600
for drush which allows you to define

00:12:15,330 --> 00:12:20,880
your project as code so the first

00:12:18,600 --> 00:12:24,090
version you serve in ini any style

00:12:20,880 --> 00:12:26,490
syntax there's now a yeah more version

00:12:24,090 --> 00:12:28,530
as well so you can use it to create your

00:12:26,490 --> 00:12:30,540
own projects or you can use it to create

00:12:28,530 --> 00:12:31,980
reusable distributions so those

00:12:30,540 --> 00:12:34,380
distributions as I mentioned before like

00:12:31,980 --> 00:12:36,810
commerce kickstart for example it's

00:12:34,380 --> 00:12:41,700
using at rush make file to say which

00:12:36,810 --> 00:12:44,190
modules that distribution includes this

00:12:41,700 --> 00:12:48,540
is an example so this is using any

00:12:44,190 --> 00:12:51,090
syntax we call the file my project

00:12:48,540 --> 00:12:54,480
something don't make start by defining

00:12:51,090 --> 00:12:57,540
the API version and version of core so

00:12:54,480 --> 00:12:59,070
this is from Drupal seven and we can

00:12:57,540 --> 00:13:00,720
start listing our project so the first

00:12:59,070 --> 00:13:03,540
thing we want to list is is Drupal

00:13:00,720 --> 00:13:06,030
itself we can define it as being cool

00:13:03,540 --> 00:13:09,240
and then specified the version so in

00:13:06,030 --> 00:13:11,010
this case reason 751

00:13:09,240 --> 00:13:14,040
we can expand on that and then pull in

00:13:11,010 --> 00:13:16,399
additional project so path autumn module

00:13:14,040 --> 00:13:19,920
allows for automatically generate

00:13:16,399 --> 00:13:24,269
human-readable paths so we can install

00:13:19,920 --> 00:13:26,310
that meeting the saw version 1.3 and if

00:13:24,269 --> 00:13:27,990
for example the best best practice least

00:13:26,310 --> 00:13:30,269
the way I prefer to do things is to put

00:13:27,990 --> 00:13:32,700
all my controls in a directory called

00:13:30,269 --> 00:13:34,860
contribs I'm accustomed modules in a

00:13:32,700 --> 00:13:37,529
directory called custom so we can do

00:13:34,860 --> 00:13:39,240
that by specifying sub day and also if

00:13:37,529 --> 00:13:42,860
we want to apply patches we can we can

00:13:39,240 --> 00:13:45,089
apply patches using the patch key and

00:13:42,860 --> 00:13:48,570
then once you've got that we can then

00:13:45,089 --> 00:13:52,019
run rush make far name output directory

00:13:48,570 --> 00:13:53,690
so build Drupal bristl don't make out

00:13:52,019 --> 00:13:56,310
put that into a directory called build

00:13:53,690 --> 00:13:58,589
and it gives you this output so it tells

00:13:56,310 --> 00:14:03,269
you that it's running then just list the

00:13:58,589 --> 00:14:05,820
files that it's download for you this is

00:14:03,269 --> 00:14:07,620
great until you try to rebuild it so you

00:14:05,820 --> 00:14:09,720
have another module or you add a new

00:14:07,620 --> 00:14:11,880
theme or you update something you think

00:14:09,720 --> 00:14:13,290
ok I'll just run - make again I tells

00:14:11,880 --> 00:14:16,019
you that the path already exists and

00:14:13,290 --> 00:14:19,769
then exits for the Venera code this is

00:14:16,019 --> 00:14:23,490
not great so few limitations of drush

00:14:19,769 --> 00:14:25,350
make this triple specific so this was

00:14:23,490 --> 00:14:27,180
finally I mean this was there's a great

00:14:25,350 --> 00:14:29,329
solution for a few years ago before

00:14:27,180 --> 00:14:32,130
composer release or join the party I

00:14:29,329 --> 00:14:36,120
prefer to use you suppose I use the

00:14:32,130 --> 00:14:38,070
modern stop doing you need to use

00:14:36,120 --> 00:14:39,390
multiple repositories or at least I have

00:14:38,070 --> 00:14:41,790
been when I've used this head up before

00:14:39,390 --> 00:14:44,550
so bite rush make file lives in one git

00:14:41,790 --> 00:14:46,860
repository my custom modules go into

00:14:44,550 --> 00:14:49,140
another repository of custom themes

00:14:46,860 --> 00:14:51,269
likewise and everything else oh and then

00:14:49,140 --> 00:14:54,120
once actually built that goes to another

00:14:51,269 --> 00:14:55,440
repository so we've now got for three or

00:14:54,120 --> 00:14:59,220
four things depending on how complex

00:14:55,440 --> 00:15:00,839
your project is which is technical debt

00:14:59,220 --> 00:15:03,990
I guess in a way but just hard to

00:15:00,839 --> 00:15:05,790
maintain going forward kind of date the

00:15:03,990 --> 00:15:08,610
existing build you just saw that that's

00:15:05,790 --> 00:15:11,010
that's quite annoying you need to run an

00:15:08,610 --> 00:15:13,680
extra sort of step let's say compile it

00:15:11,010 --> 00:15:16,079
so you may be able to use Jenkins or

00:15:13,680 --> 00:15:18,120
some sort of CI tool when you push an

00:15:16,079 --> 00:15:19,620
update you'll make file it pulls your

00:15:18,120 --> 00:15:21,060
other modules in and it downloads

00:15:19,620 --> 00:15:22,860
everything again push it to another

00:15:21,060 --> 00:15:26,100
repository and that's the one that gets

00:15:22,860 --> 00:15:27,570
deployed and also need to define

00:15:26,100 --> 00:15:29,930
specific versions

00:15:27,570 --> 00:15:36,390
if you recall with saying install Drupal

00:15:29,930 --> 00:15:38,100
7.5 3 5 4 or power 4 to 1.3 it's very

00:15:36,390 --> 00:15:39,480
very specific and then that's the

00:15:38,100 --> 00:15:41,490
version 8 installs if you want to

00:15:39,480 --> 00:15:44,100
install the next version you have to

00:15:41,490 --> 00:15:45,870
increase the number by one and rerun

00:15:44,100 --> 00:15:49,710
through the whole process again which is

00:15:45,870 --> 00:15:52,650
it's not great so Josh make it's not a

00:15:49,710 --> 00:15:54,120
dependency manager it's just a case it's

00:15:52,650 --> 00:15:58,130
just a tool that tech parses your file

00:15:54,120 --> 00:15:58,130
most automates the downloading of things

00:15:59,990 --> 00:16:04,470
so I'm not quite sure who actually said

00:16:02,820 --> 00:16:06,990
this quote I seen from I recall it from

00:16:04,470 --> 00:16:09,180
somewhere I think it was Ryan from from

00:16:06,990 --> 00:16:10,950
comments codes but I might be wrong but

00:16:09,180 --> 00:16:12,690
somebody said if you're not using a

00:16:10,950 --> 00:16:15,540
dependency manager you're the dependency

00:16:12,690 --> 00:16:17,700
manager so it's up to me or whoever it's

00:16:15,540 --> 00:16:19,140
building the site to figure out which

00:16:17,700 --> 00:16:20,910
versions work with which other versions

00:16:19,140 --> 00:16:22,680
and make sure everything so it fits

00:16:20,910 --> 00:16:27,210
together and I don't want that

00:16:22,680 --> 00:16:29,670
responsibility really ok I'm a very

00:16:27,210 --> 00:16:32,600
short video for doing for trusts make

00:16:29,670 --> 00:16:32,600
let's see if we can get this to work

00:16:37,210 --> 00:17:04,690
and do a bronze ring it's okay so he'll

00:17:02,260 --> 00:17:06,610
start just by cutting out the bank file

00:17:04,690 --> 00:17:09,400
so in this case is called my project

00:17:06,610 --> 00:17:12,010
they'll make got the same converting

00:17:09,400 --> 00:17:14,080
that we had before we could then run

00:17:12,010 --> 00:17:16,960
crush and make a project name the

00:17:14,080 --> 00:17:19,210
directory it's just gonna start to begin

00:17:16,960 --> 00:17:21,790
the project download the things that we

00:17:19,210 --> 00:17:23,290
want to tell it to download and we can

00:17:21,790 --> 00:17:36,240
stop making an editor and see what it's

00:17:23,290 --> 00:17:41,710
done that's pretty much cool and again

00:17:36,240 --> 00:17:42,670
gone okay so the point that sort of

00:17:41,710 --> 00:17:46,630
makes this talk a little bit more

00:17:42,670 --> 00:17:50,050
relevant again is trust make extension

00:17:46,630 --> 00:17:52,210
was removed in rush nine so it's no

00:17:50,050 --> 00:17:55,060
longer there and it's being deprecated

00:17:52,210 --> 00:17:57,070
in favor of composer actually when I'm

00:17:55,060 --> 00:17:59,950
let's see the commit logs for drush and

00:17:57,070 --> 00:18:04,450
it says don't replace trust make with

00:17:59,950 --> 00:18:08,380
composer so option three is is composing

00:18:04,450 --> 00:18:10,060
again Drupal 8 Bluffs composer so again

00:18:08,380 --> 00:18:11,560
I I'm still gonna put a slide in and

00:18:10,060 --> 00:18:14,470
explain a bit what composer is in case

00:18:11,560 --> 00:18:16,780
it doesn't know would you find and so

00:18:14,470 --> 00:18:19,090
it's a dependency manager for PHP so we

00:18:16,780 --> 00:18:21,190
specify which versions we want to use or

00:18:19,090 --> 00:18:22,600
minimum versions of composer then

00:18:21,190 --> 00:18:24,490
figures out which versions are

00:18:22,600 --> 00:18:26,260
compatible based on what we give it so

00:18:24,490 --> 00:18:29,560
we don't need to figure that out

00:18:26,260 --> 00:18:31,690
composer can do that for us downwards

00:18:29,560 --> 00:18:33,670
packages into a vendor directory not

00:18:31,690 --> 00:18:35,620
hundred percent true we'll get to that

00:18:33,670 --> 00:18:38,770
in a minute but that's usually usually

00:18:35,620 --> 00:18:40,720
does it devil's packages from one or

00:18:38,770 --> 00:18:43,120
more repositories so this is pretty

00:18:40,720 --> 00:18:45,040
important for this set up I'll see the

00:18:43,120 --> 00:18:48,370
main repository the default repository

00:18:45,040 --> 00:18:49,930
it's packed gist Drupal torge exposes

00:18:48,370 --> 00:18:52,000
its own end points and

00:18:49,930 --> 00:18:54,820
there was a drupal packages which is a

00:18:52,000 --> 00:18:58,210
separate repository that was around for

00:18:54,820 --> 00:19:00,490
a while that was then deprecated once

00:18:58,210 --> 00:19:03,850
the actual composer practice to put in

00:19:00,490 --> 00:19:04,990
place on drupal.org so we could add more

00:19:03,850 --> 00:19:08,230
than one level straight as you'll see in

00:19:04,990 --> 00:19:10,750
a minute and the cool thing is that we

00:19:08,230 --> 00:19:13,480
can actually ignore Drupal core entirely

00:19:10,750 --> 00:19:16,630
because we can sort as a dependency we

00:19:13,480 --> 00:19:17,800
can remove all of our contribute to pull

00:19:16,630 --> 00:19:19,690
up our contributed modules into our

00:19:17,800 --> 00:19:22,120
repository and all of our vendors I

00:19:19,690 --> 00:19:24,370
would also can be ignored so we have

00:19:22,120 --> 00:19:25,840
less files and our repository which

00:19:24,370 --> 00:19:28,420
means we can clog it faster which is

00:19:25,840 --> 00:19:30,550
which is great if we doing code reviews

00:19:28,420 --> 00:19:32,200
then we get smaller code reviews because

00:19:30,550 --> 00:19:34,120
we don't get the commits that says

00:19:32,200 --> 00:19:35,770
updated core and we get a thousand files

00:19:34,120 --> 00:19:38,920
or more so change however many get

00:19:35,770 --> 00:19:43,300
logged and show us and that also means

00:19:38,920 --> 00:19:45,280
that the team will spend less time code

00:19:43,300 --> 00:19:48,490
reviewing because there's less to code

00:19:45,280 --> 00:19:50,440
review and reconvene have to work around

00:19:48,490 --> 00:19:52,870
with the files you want to ignore that's

00:19:50,440 --> 00:19:55,750
not there I mean the team then could be

00:19:52,870 --> 00:19:58,390
more focused on just reviewing what we

00:19:55,750 --> 00:20:00,930
need to review so I eat all the custom

00:19:58,390 --> 00:20:03,640
code that we've that we've written and

00:20:00,930 --> 00:20:06,070
we're able to write minimum required

00:20:03,640 --> 00:20:09,160
versions so rather than rush making me

00:20:06,070 --> 00:20:12,670
so we have to solve 1.3 we can say is

00:20:09,160 --> 00:20:14,380
composing we also saw 1.3 plus and then

00:20:12,670 --> 00:20:16,270
everything is want to run a composer

00:20:14,380 --> 00:20:18,070
install it's gonna or an update it's

00:20:16,270 --> 00:20:19,960
gonna then figure out for us which

00:20:18,070 --> 00:20:22,570
divisions that fit together so there's

00:20:19,960 --> 00:20:23,860
less of a maintenance cost involved here

00:20:22,570 --> 00:20:26,170
because we don't have to manually update

00:20:23,860 --> 00:20:27,790
one point three to one point four so

00:20:26,170 --> 00:20:32,410
composer figures that out for us which

00:20:27,790 --> 00:20:35,020
is which is nice so here's an example of

00:20:32,410 --> 00:20:36,910
using composer to require Silex

00:20:35,020 --> 00:20:38,200
because again once we did this at a

00:20:36,910 --> 00:20:40,570
Drupal camp people haven't seen this

00:20:38,200 --> 00:20:43,930
before again I'm assuming this is sort

00:20:40,570 --> 00:20:45,190
of familiar to most people we can say

00:20:43,930 --> 00:20:47,710
composed to require Silex

00:20:45,190 --> 00:20:50,410
and because Silex depends on pimple

00:20:47,710 --> 00:20:52,390
installs at all as well so again Josh

00:20:50,410 --> 00:20:54,490
make because it's not a dependency

00:20:52,390 --> 00:20:56,170
manager you could say he install path

00:20:54,490 --> 00:20:56,680
also and it would just download path

00:20:56,170 --> 00:20:59,590
also

00:20:56,680 --> 00:21:01,540
path also has dependencies that Josh

00:20:59,590 --> 00:21:03,490
mate doesn't know that so you have to be

00:21:01,540 --> 00:21:07,110
specific and give it every module

00:21:03,490 --> 00:21:09,760
you want to install compose it doesn't

00:21:07,110 --> 00:21:10,929
that's what in our compose a JSON file

00:21:09,760 --> 00:21:14,140
this is what we get by ringing the

00:21:10,929 --> 00:21:17,559
command and we all know this already so

00:21:14,140 --> 00:21:19,450
composing Drupal specifically Trooper

00:21:17,559 --> 00:21:21,670
eight uses composer for all this

00:21:19,450 --> 00:21:23,940
dependency management as I mentioned in

00:21:21,670 --> 00:21:27,720
pulling code from symphonies end stack

00:21:23,940 --> 00:21:31,870
doctrine etc this is all done using

00:21:27,720 --> 00:21:35,620
composer and also also voting as all

00:21:31,870 --> 00:21:38,200
done through composer so do the first

00:21:35,620 --> 00:21:41,020
versions of Drupal 8 so Drupal 8 point

00:21:38,200 --> 00:21:44,020
zero point something like a defender

00:21:41,020 --> 00:21:45,880
directory in call it's no longer there

00:21:44,020 --> 00:21:49,570
which is which is awesome we figured out

00:21:45,880 --> 00:21:51,340
that or loading problem and Drupal seven

00:21:49,570 --> 00:21:52,870
which is still still around still

00:21:51,340 --> 00:21:55,510
support is still stable

00:21:52,870 --> 00:21:58,390
and will be for some time and does not

00:21:55,510 --> 00:21:59,380
use composer at all because there's no

00:21:58,390 --> 00:22:01,990
need for it at the moment

00:21:59,380 --> 00:22:03,820
I guess so we're not putting in aids so

00:22:01,990 --> 00:22:06,610
dependencies from third parties really

00:22:03,820 --> 00:22:09,880
or if we are we're using modules like

00:22:06,610 --> 00:22:12,460
composer manager or EXOR to load which

00:22:09,880 --> 00:22:15,309
gives you sort of psr-4 they're also

00:22:12,460 --> 00:22:18,010
loading all modules like libraries which

00:22:15,309 --> 00:22:20,320
is sort of try to do a composer does be

00:22:18,010 --> 00:22:22,690
reference library suspiciously and it's

00:22:20,320 --> 00:22:25,630
still up to you to put them into the

00:22:22,690 --> 00:22:30,970
right place and and sort of manage them

00:22:25,630 --> 00:22:33,600
so okay so now we saw a crash course or

00:22:30,970 --> 00:22:36,429
crash reminder on composer how do we use

00:22:33,600 --> 00:22:38,650
coasted build ripple and there's two

00:22:36,429 --> 00:22:40,300
ways we could do this there's a package

00:22:38,650 --> 00:22:46,300
called Drupal Drupal which is available

00:22:40,300 --> 00:22:49,990
on packages which is just cool there's

00:22:46,300 --> 00:22:53,470
also a drupal composer duple composer

00:22:49,990 --> 00:22:54,820
Drupal project which is not maintained

00:22:53,470 --> 00:22:57,100
by the core maintenance it's a separate

00:22:54,820 --> 00:22:59,980
project by some of the quarters but it's

00:22:57,100 --> 00:23:00,630
not own official so a Drupal project and

00:22:59,980 --> 00:23:03,910
that's

00:23:00,630 --> 00:23:06,130
includes core as a dependency I talked

00:23:03,910 --> 00:23:08,050
about that in my own so both of these we

00:23:06,130 --> 00:23:11,260
couldn't install with composer create

00:23:08,050 --> 00:23:14,059
project because their packages too so

00:23:11,260 --> 00:23:16,009
you can require triple triple

00:23:14,059 --> 00:23:18,200
so we're gonna require at least 8.4

00:23:16,009 --> 00:23:21,649
through an eight point four point four

00:23:18,200 --> 00:23:22,489
believes right now or we can use compose

00:23:21,649 --> 00:23:24,710
a create project

00:23:22,489 --> 00:23:27,349
I mean he's Drupal composer Drupal

00:23:24,710 --> 00:23:30,289
projects try saying that ten times

00:23:27,349 --> 00:23:35,320
really fast again give it a slight name

00:23:30,289 --> 00:23:38,359
and set the stability level etcetera so

00:23:35,320 --> 00:23:43,309
let's just compare those two so Drupal

00:23:38,359 --> 00:23:47,509
Drupal is say minimal I just call so no

00:23:43,309 --> 00:23:51,080
extras or anything in there and you get

00:23:47,509 --> 00:23:54,559
core at the end there's the root level

00:23:51,080 --> 00:23:56,210
of what of that project Lee and the

00:23:54,559 --> 00:23:59,899
triple composer project is different and

00:23:56,210 --> 00:24:03,019
it uses its own composer Jason and

00:23:59,899 --> 00:24:04,849
rather than its it's right

00:24:03,019 --> 00:24:06,950
so the original one is going to install

00:24:04,849 --> 00:24:09,229
core as the rule of your as a center of

00:24:06,950 --> 00:24:10,460
your project the Drupal project compose

00:24:09,229 --> 00:24:13,339
the scruples compose the truthful

00:24:10,460 --> 00:24:15,649
project doesn't it requires core as a

00:24:13,339 --> 00:24:18,889
dependency of that project and then all

00:24:15,649 --> 00:24:21,169
of your extra module depends of that

00:24:18,889 --> 00:24:23,299
so rather than as altering course

00:24:21,169 --> 00:24:25,759
compose a JSON file we're altering our

00:24:23,299 --> 00:24:28,639
projects in post a JSON file which to me

00:24:25,759 --> 00:24:31,369
seems a lot more sensible so this isn't

00:24:28,639 --> 00:24:34,789
sort of sort of sums them but Symphony

00:24:31,369 --> 00:24:37,700
Scouts and I guess in some way the other

00:24:34,789 --> 00:24:40,700
big advantage is the Drupal Composer

00:24:37,700 --> 00:24:44,299
Drupal project it's available for Drupal

00:24:40,700 --> 00:24:46,759
8 and also for Drupal 7 so again

00:24:44,299 --> 00:24:49,519
composer in natively in core is only for

00:24:46,759 --> 00:24:52,009
Drupal 8 not triple 7 but if you want to

00:24:49,519 --> 00:24:54,139
go down this route we can do Drupal 7

00:24:52,009 --> 00:24:57,369
with composer and pull it all depends

00:24:54,139 --> 00:25:00,830
that way which is great

00:24:57,369 --> 00:25:04,339
suppose you those dependencies and I

00:25:00,830 --> 00:25:06,109
said we can install Drupal two org where

00:25:04,339 --> 00:25:08,450
all the modules are hosted and themes

00:25:06,109 --> 00:25:09,919
are hosted expose it's an endpoint so

00:25:08,450 --> 00:25:12,649
there's a subdirectory called packages

00:25:09,919 --> 00:25:14,599
doc triples org and we can install that

00:25:12,649 --> 00:25:17,119
as a repository into our composer to

00:25:14,599 --> 00:25:19,519
JSON file the triple composer Drupal

00:25:17,119 --> 00:25:21,080
project does this for us but we can also

00:25:19,519 --> 00:25:24,259
do it manually if you want to go down

00:25:21,080 --> 00:25:27,099
the other path and then we get this

00:25:24,259 --> 00:25:30,619
enough octopus JSON file again

00:25:27,099 --> 00:25:31,249
obviously this is obviously this is for

00:25:30,619 --> 00:25:33,469
Drupal 8

00:25:31,249 --> 00:25:37,999
it's slash eight if you wanted rupal

00:25:33,469 --> 00:25:41,179
seven would be flash 7 so configure

00:25:37,999 --> 00:25:43,219
in-house and so traditionally all of

00:25:41,179 --> 00:25:43,789
your libraries and we saw things like

00:25:43,219 --> 00:25:46,999
composer

00:25:43,789 --> 00:25:48,469
go into a vendor directory awesome this

00:25:46,999 --> 00:25:51,859
uses a plug-in called composer

00:25:48,469 --> 00:25:53,959
installers and it means that we can put

00:25:51,859 --> 00:25:56,719
things where you want to put them and

00:25:53,959 --> 00:25:59,209
also a triple expects them to be so if

00:25:56,719 --> 00:26:01,729
you're installing a cryptid module

00:25:59,209 --> 00:26:04,399
Drupal expect ripple 8 at least respect

00:26:01,729 --> 00:26:06,139
that have been the modules directory if

00:26:04,399 --> 00:26:08,359
you're doing it in a Drupal 7 project

00:26:06,139 --> 00:26:11,479
will be sites flash something slash

00:26:08,359 --> 00:26:13,549
modules and again sort of best practice

00:26:11,479 --> 00:26:15,379
will say if it's a contribute also one

00:26:13,549 --> 00:26:18,379
that's available on Drupal the org it

00:26:15,379 --> 00:26:20,959
goes modules can trib what's your name

00:26:18,379 --> 00:26:23,649
if it's custom module modules custom or

00:26:20,959 --> 00:26:26,450
module sites slash modules custom

00:26:23,649 --> 00:26:29,809
likewise for themes themes contribs

00:26:26,450 --> 00:26:31,759
custom and again profiles if we can we

00:26:29,809 --> 00:26:35,809
install commerce kickstart as it as a

00:26:31,759 --> 00:26:37,489
profile or any others we can store that

00:26:35,809 --> 00:26:39,799
into the profiles directory and it does

00:26:37,489 --> 00:26:42,019
this using the type key so within each

00:26:39,799 --> 00:26:43,789
module to compose JSON file it was a

00:26:42,019 --> 00:26:45,489
type and the type can be a Drupal module

00:26:43,789 --> 00:26:47,690
or Drupal profile Drupal thing and

00:26:45,489 --> 00:26:53,149
because of that it's put into the right

00:26:47,690 --> 00:26:54,859
directory and Drupal can can find it so

00:26:53,149 --> 00:26:57,469
once you've got that in place we can

00:26:54,859 --> 00:27:02,059
disease composer to require Drupal

00:26:57,469 --> 00:27:04,369
modules and themes so we've now got the

00:27:02,059 --> 00:27:06,320
Drupal / namespace available so again

00:27:04,369 --> 00:27:08,329
it's not from packages is coming from

00:27:06,320 --> 00:27:11,749
Drupal to org because we've added the

00:27:08,329 --> 00:27:12,979
repository we can then pull this in so

00:27:11,749 --> 00:27:15,889
in this case we can save and gone to

00:27:12,979 --> 00:27:18,139
install the path alter module again we

00:27:15,889 --> 00:27:23,029
can install the least 1.0 because it's

00:27:18,139 --> 00:27:25,039
slightly old slide and yeah this is

00:27:23,029 --> 00:27:26,959
gonna installed path ultimate oh but I

00:27:25,039 --> 00:27:29,179
said path also has dependencies so path

00:27:26,959 --> 00:27:30,049
also relies on token and path all to

00:27:29,179 --> 00:27:32,239
rights on CTools

00:27:30,049 --> 00:27:34,309
and because we using kaposin a composer

00:27:32,239 --> 00:27:36,049
knows that and download those forests

00:27:34,309 --> 00:27:38,629
well that's handed so we've moved

00:27:36,049 --> 00:27:39,500
removed two lines of our file

00:27:38,629 --> 00:27:41,809
essentially

00:27:39,500 --> 00:27:43,780
but less old less mental Oh had for us

00:27:41,809 --> 00:27:45,679
because Capote knows these things

00:27:43,780 --> 00:27:49,100
awesome

00:27:45,679 --> 00:27:52,059
also super modules may have dependencies

00:27:49,100 --> 00:27:54,620
that are not other Drupal modules so

00:27:52,059 --> 00:27:58,159
commerce is a figure example of this

00:27:54,620 --> 00:28:02,169
commerce guys were one of the sort of

00:27:58,159 --> 00:28:06,020
for as I say for think is one of the big

00:28:02,169 --> 00:28:08,120
drivers I guess of composer so when they

00:28:06,020 --> 00:28:09,890
start to rewrite Drupal commerce for

00:28:08,120 --> 00:28:16,220
Drupal 8 they side literally from

00:28:09,890 --> 00:28:17,840
scratch and so start from scratch but

00:28:16,220 --> 00:28:20,570
then rather than keeping all the

00:28:17,840 --> 00:28:23,510
business logic for writing things like

00:28:20,570 --> 00:28:25,400
addresses and tax keeping that or they

00:28:23,510 --> 00:28:28,460
all than the Drupal modules they decide

00:28:25,400 --> 00:28:30,740
to write PHP agnostic framework a cannot

00:28:28,460 --> 00:28:33,020
stick PHP libraries and that they could

00:28:30,740 --> 00:28:34,880
then reuse so that the modules are very

00:28:33,020 --> 00:28:37,669
small and they're just referencing the

00:28:34,880 --> 00:28:40,760
language they've already written which

00:28:37,669 --> 00:28:43,010
are available on packages using the

00:28:40,760 --> 00:28:44,240
commerce guys namespace which is great

00:28:43,010 --> 00:28:47,750
for them because then we can then reuse

00:28:44,240 --> 00:28:49,789
those libraries in Drupal and I think

00:28:47,750 --> 00:28:52,700
foxy car and Magento and other severe

00:28:49,789 --> 00:28:55,610
commerce projects and yes this is great

00:28:52,700 --> 00:28:58,309
so by requiring the Drupal address

00:28:55,610 --> 00:29:00,679
module it knows that need to pull in the

00:28:58,309 --> 00:29:05,030
commerce guys addressing library and it

00:29:00,679 --> 00:29:07,220
will just do that for us adding theme so

00:29:05,030 --> 00:29:10,100
we can have if you ask site to look nice

00:29:07,220 --> 00:29:11,960
to me to install a theme exactly the

00:29:10,100 --> 00:29:13,640
same way that's in this case we can

00:29:11,960 --> 00:29:18,020
install a theme called Omega it's gonna

00:29:13,640 --> 00:29:20,659
be leave some maker five patching so

00:29:18,020 --> 00:29:22,850
occasionally we have to patch things and

00:29:20,659 --> 00:29:26,059
we can do this if installing and compose

00:29:22,850 --> 00:29:27,320
apache its plugin excuse me

00:29:26,059 --> 00:29:30,260
and then within our composed to JSON

00:29:27,320 --> 00:29:33,380
file within the extra here we can just

00:29:30,260 --> 00:29:34,880
define patches start by just telling it

00:29:33,380 --> 00:29:37,090
which projects we're gonna main

00:29:34,880 --> 00:29:40,159
packed so Drupal Drupal in case of core

00:29:37,090 --> 00:29:41,929
we give it a short description and then

00:29:40,159 --> 00:29:44,840
a link to the patch that we want to pull

00:29:41,929 --> 00:29:47,179
in so and this one's coming from an

00:29:44,840 --> 00:29:52,130
issue queue on drupal.org issue

00:29:47,179 --> 00:29:53,330
node 1 5 4 3 etc which is cool we can

00:29:52,130 --> 00:29:55,100
also pull in

00:29:53,330 --> 00:29:57,289
local patches which my Frank but

00:29:55,100 --> 00:30:00,320
recently so if you're working on a

00:29:57,289 --> 00:30:02,480
project and you need to patch something

00:30:00,320 --> 00:30:04,659
that's on you so for you you can keep

00:30:02,480 --> 00:30:08,649
patches directory in your repository and

00:30:04,659 --> 00:30:12,799
pull them in that way which is great

00:30:08,649 --> 00:30:13,940
dating so again I think this is most

00:30:12,799 --> 00:30:18,169
people who just sort of know this I

00:30:13,940 --> 00:30:23,419
guess and so we can use compose it

00:30:18,169 --> 00:30:24,710
install and update local code mm-hmm so

00:30:23,419 --> 00:30:26,539
he can compose install top their

00:30:24,710 --> 00:30:29,029
diversions then can post it up lock or

00:30:26,539 --> 00:30:30,799
we can use could put install to install

00:30:29,029 --> 00:30:35,299
them from the law firm yeah those are

00:30:30,799 --> 00:30:37,190
backwards it's great so it just means to

00:30:35,299 --> 00:30:39,289
install Drupal it's an update our people

00:30:37,190 --> 00:30:43,039
project we can just then use compose

00:30:39,289 --> 00:30:45,590
update command and then also think with

00:30:43,039 --> 00:30:47,899
the pen sees is default but I can just

00:30:45,590 --> 00:30:49,789
include it anyway this will go through

00:30:47,899 --> 00:30:51,769
our whole project that just update

00:30:49,789 --> 00:30:53,980
everything and then once we've done that

00:30:51,769 --> 00:30:58,809
we can understand use composer install

00:30:53,980 --> 00:31:02,980
to install everything ok another demo

00:30:58,809 --> 00:31:02,980
see if I can remember to do this system

00:31:11,590 --> 00:31:14,190
yeah

00:31:18,530 --> 00:31:23,750
okay well you can see that okay so in

00:31:21,980 --> 00:31:26,720
this case we're gonna sort duple a

00:31:23,750 --> 00:31:28,670
Drupal 8 site completely from scratch so

00:31:26,720 --> 00:31:30,650
we can use the composer create project

00:31:28,670 --> 00:31:33,230
command pull in the triple composer

00:31:30,650 --> 00:31:36,170
Drupal project project we're going to

00:31:33,230 --> 00:31:40,220
call it in my Drupal site and set the

00:31:36,170 --> 00:31:41,960
stability as we were doing before cool

00:31:40,220 --> 00:31:45,470
so in a second we can see it's

00:31:41,960 --> 00:31:47,510
installing everything I'm just crazy

00:31:45,470 --> 00:31:49,310
that my triple site directory it's

00:31:47,510 --> 00:31:53,810
pulling in all our packages or the

00:31:49,310 --> 00:31:58,880
symphony projects Gazal as we see in

00:31:53,810 --> 00:32:01,330
there twig defy dev PHP documenter PHP

00:31:58,880 --> 00:32:06,320
unit for units for our unit testing now

00:32:01,330 --> 00:32:09,740
B hat then framework doctoring cache

00:32:06,320 --> 00:32:11,030
Drupal core itself that one takes a few

00:32:09,740 --> 00:32:13,850
seconds I didn't do that for dramatic

00:32:11,030 --> 00:32:14,990
pause I once it's done that and there's

00:32:13,850 --> 00:32:17,780
another project and they called Drupal

00:32:14,990 --> 00:32:19,940
scaffold which will create if you can

00:32:17,780 --> 00:32:22,400
see at the bottom here create a site's

00:32:19,940 --> 00:32:24,790
default setting stop HP and also a size

00:32:22,400 --> 00:32:27,200
default files directory so these are

00:32:24,790 --> 00:32:29,000
what files or directories mean to

00:32:27,200 --> 00:32:31,640
creates an order for Drupal to sort of

00:32:29,000 --> 00:32:33,320
run I guess and then signs of PHP is

00:32:31,640 --> 00:32:35,930
where you put your database credentials

00:32:33,320 --> 00:32:37,640
and everything if people don't know so

00:32:35,930 --> 00:32:41,060
Drupal scaffold does that for us

00:32:37,640 --> 00:32:45,790
I think that runs by using a composer

00:32:41,060 --> 00:32:49,130
script on post install which is great

00:32:45,790 --> 00:32:51,650
cool it's once that's run I can see the

00:32:49,130 --> 00:32:53,150
into that directory and think we're

00:32:51,650 --> 00:32:54,770
gonna open yeah we're gonna open this up

00:32:53,150 --> 00:32:56,990
first and sublime to see what's going on

00:32:54,770 --> 00:33:00,290
we can see that it's created this whole

00:32:56,990 --> 00:33:02,030
directory structure for us so it's kept

00:33:00,290 --> 00:33:05,780
so it's installed Rush's parvis

00:33:02,030 --> 00:33:07,220
dependencies as well which is awesome we

00:33:05,780 --> 00:33:08,750
have some composer scripts we have a

00:33:07,220 --> 00:33:10,850
vendor directory where it's installed

00:33:08,750 --> 00:33:12,050
all the vendor packages this is also

00:33:10,850 --> 00:33:14,120
great because it's outside of the

00:33:12,050 --> 00:33:15,080
doctorate which is great for security as

00:33:14,120 --> 00:33:17,170
well

00:33:15,080 --> 00:33:19,310
Drupal lives within the web directory

00:33:17,170 --> 00:33:20,840
and we can see that there's probably

00:33:19,310 --> 00:33:23,560
have no controls at all because we

00:33:20,840 --> 00:33:23,560
haven't install any

00:33:24,190 --> 00:33:28,990
do next we'll try the open September and

00:33:26,770 --> 00:33:33,310
any second now we should have a triple

00:33:28,990 --> 00:33:33,670
Eight's I'd pop up any second now there

00:33:33,310 --> 00:33:36,010
you go

00:33:33,670 --> 00:33:39,280
so this is the Drupal 8 install page

00:33:36,010 --> 00:33:40,570
this is Drupal 8 4 4 we could choose a

00:33:39,280 --> 00:33:43,600
language because Drupal 8 is really

00:33:40,570 --> 00:33:44,980
awesome for multilingual as well these

00:33:43,600 --> 00:33:46,720
are the standard installation profiles

00:33:44,980 --> 00:33:51,390
are we gonna use standard in this case

00:33:46,720 --> 00:33:53,560
we can put in our database credentials

00:33:51,390 --> 00:33:55,660
re-secure credentials for this one sort

00:33:53,560 --> 00:33:58,240
them in doctor containers so I can just

00:33:55,660 --> 00:33:59,770
set them to Drupal triple but also I'm

00:33:58,240 --> 00:34:05,230
running it with the DB container so I

00:33:59,770 --> 00:34:08,710
need to set that as the host and then

00:34:05,230 --> 00:34:10,090
second pupils going to install first

00:34:08,710 --> 00:34:13,480
hold a little bit there it takes a few

00:34:10,090 --> 00:34:15,970
minutes to run normally 40 modules are

00:34:13,480 --> 00:34:18,010
sorted in within the standard profile so

00:34:15,970 --> 00:34:19,390
that takes a few minutes and then once

00:34:18,010 --> 00:34:22,960
this is running we can start configuring

00:34:19,390 --> 00:34:24,370
the site give it our site name of admin

00:34:22,960 --> 00:34:28,090
I wouldn't suggest you to admin on

00:34:24,370 --> 00:34:30,429
production but locally it's fine my pass

00:34:28,090 --> 00:34:38,440
passwords and configure our time zones

00:34:30,429 --> 00:34:40,690
and then just go ahead and continue any

00:34:38,440 --> 00:34:43,480
second now right today we have Drupal 8

00:34:40,690 --> 00:34:44,530
installed awesome so yeah I mean haven't

00:34:43,480 --> 00:34:46,690
all we've had to run to do this is just

00:34:44,530 --> 00:34:48,880
run one command which is was composed to

00:34:46,690 --> 00:34:52,540
require triple triple quadruple project

00:34:48,880 --> 00:34:54,580
awesome we can click on the extend but

00:34:52,540 --> 00:34:56,440
another in the navbar these are our

00:34:54,580 --> 00:34:58,750
modules that we've got installed and

00:34:56,440 --> 00:35:00,340
current evenly got cool modules if we

00:34:58,750 --> 00:35:03,790
search for path also we don't have one

00:35:00,340 --> 00:35:06,730
and we haven't told it install it but

00:35:03,790 --> 00:35:10,270
what we can do is supposed to require

00:35:06,730 --> 00:35:13,090
Drupal that pathauto you've already seen

00:35:10,270 --> 00:35:15,610
this will go to drupal.org trans

00:35:13,090 --> 00:35:18,280
downward path also also it's all the

00:35:15,610 --> 00:35:23,980
dependencies for path or two so we

00:35:18,280 --> 00:35:26,190
should CC tools we should see token he

00:35:23,980 --> 00:35:26,190
said

00:35:26,819 --> 00:35:35,049
grab some awesome okay so you can see

00:35:33,190 --> 00:35:38,559
token that we can see ctools and we can

00:35:35,049 --> 00:35:40,630
see pathol too awesome so yeah if you go

00:35:38,559 --> 00:35:42,220
back to sublime we go so web directory

00:35:40,630 --> 00:35:43,990
doing modules we now have a new

00:35:42,220 --> 00:35:48,549
contributor actory let me get off three

00:35:43,990 --> 00:35:52,599
modules go back to our Drupal site we

00:35:48,549 --> 00:35:54,849
can refresh the page and search again

00:35:52,599 --> 00:35:56,710
so for path although we don't have path

00:35:54,849 --> 00:36:01,559
also we can go ahead we can enable it we

00:35:56,710 --> 00:36:01,559
can install it we have a Drupal 8 site

00:36:14,950 --> 00:36:23,109
cool so we an example so the Drupal

00:36:21,070 --> 00:36:28,710
Bristol websites of the Drupal Bristol

00:36:23,109 --> 00:36:31,720
user group and all hosted on github and

00:36:28,710 --> 00:36:35,200
this is we use the triple compose the

00:36:31,720 --> 00:36:39,150
Drupal project the maintain website so

00:36:35,200 --> 00:36:41,890
we can go there and check that out and

00:36:39,150 --> 00:36:43,960
see I guess in summary Drupal is awesome

00:36:41,890 --> 00:36:47,530
composers also awesome use them both

00:36:43,960 --> 00:36:50,050
together more modules and more

00:36:47,530 --> 00:36:52,599
distributions are moving to composer so

00:36:50,050 --> 00:36:54,940
as I said commerce is a very big

00:36:52,599 --> 00:36:55,990
proponent composer because of the route

00:36:54,940 --> 00:36:59,200
they're putting actually their own

00:36:55,990 --> 00:37:03,130
libraries other modules so MailChimp

00:36:59,200 --> 00:37:08,589
comes to mind pulls in the MailChimp API

00:37:03,130 --> 00:37:11,710
for PHP from think oh and CGI solar will

00:37:08,589 --> 00:37:15,220
pull in and the Sulli solarium saying

00:37:11,710 --> 00:37:18,460
that right library there are others is

00:37:15,220 --> 00:37:22,359
definite trend of Drupal modules doing

00:37:18,460 --> 00:37:25,680
less and Drupal PHP libraries doing more

00:37:22,359 --> 00:37:30,130
than those being pulled into Drupal

00:37:25,680 --> 00:37:33,010
distributions so I say Drupal Josh make

00:37:30,130 --> 00:37:34,869
is the default way or has been for

00:37:33,010 --> 00:37:37,569
defying our distributions to install

00:37:34,869 --> 00:37:39,099
this also is changing because Trust has

00:37:37,569 --> 00:37:41,099
gone away just makers got away in

00:37:39,099 --> 00:37:43,980
interest 9 and we're seeing

00:37:41,099 --> 00:37:47,170
distributions like Acquia lightning a

00:37:43,980 --> 00:37:49,240
hosted on github because Drupal dog

00:37:47,170 --> 00:37:53,230
doesn't yet support composer base

00:37:49,240 --> 00:37:56,079
distributions the Aqua lightning is for

00:37:53,230 --> 00:37:58,270
new harnesses at the moment its host on

00:37:56,079 --> 00:38:00,760
github and uses packages it was

00:37:58,270 --> 00:38:03,099
available on packages within the back

00:38:00,760 --> 00:38:05,530
reading space there's a definite trend

00:38:03,099 --> 00:38:10,619
of that being happening more and more

00:38:05,530 --> 00:38:14,680
and I guess in my opinion using a poser

00:38:10,619 --> 00:38:16,480
enforces best practice so we don't have

00:38:14,680 --> 00:38:19,060
to go into I've taken over projects

00:38:16,480 --> 00:38:21,940
before and then update module X and

00:38:19,060 --> 00:38:23,200
modulate X module X has been hacked

00:38:21,940 --> 00:38:25,060
because they want to change the ordering

00:38:23,200 --> 00:38:26,980
of something and then updating the

00:38:25,060 --> 00:38:29,170
module breaks everything

00:38:26,980 --> 00:38:31,930
and so we can't do that anymore we don't

00:38:29,170 --> 00:38:33,850
have that in I would do people come

00:38:31,930 --> 00:38:35,170
generally can't do that anymore because

00:38:33,850 --> 00:38:37,180
that module doesn't exist in the

00:38:35,170 --> 00:38:38,980
repository so we have to then start

00:38:37,180 --> 00:38:41,170
writing let's say start writing patches

00:38:38,980 --> 00:38:43,119
for those modules I think it's a

00:38:41,170 --> 00:38:46,420
byproduct of that increased contribution

00:38:43,119 --> 00:38:48,850
so again big open source thing around

00:38:46,420 --> 00:38:50,800
Drupal and contributing the core and two

00:38:48,850 --> 00:38:53,619
modules if you've written a patch to fix

00:38:50,800 --> 00:38:55,540
a problem already then why not just

00:38:53,619 --> 00:38:58,900
submit that patch to Drupal dog and back

00:38:55,540 --> 00:39:00,580
to the whole project so and it's there's

00:38:58,900 --> 00:39:03,070
a quite the interesting thing recently

00:39:00,580 --> 00:39:06,369
about Drupal dog issue Hughes is that if

00:39:03,070 --> 00:39:09,160
you're working on issues from half of a

00:39:06,369 --> 00:39:11,800
company you can tag both yourself and

00:39:09,160 --> 00:39:14,680
the company that you work for and also

00:39:11,800 --> 00:39:17,230
clients that you work for if they fit on

00:39:14,680 --> 00:39:19,990
those organizations and everybody gets

00:39:17,230 --> 00:39:21,460
credit for doing that and then one of

00:39:19,990 --> 00:39:23,890
the byproducts is there's a marketplace

00:39:21,460 --> 00:39:26,350
listing and the marketplace listing is

00:39:23,890 --> 00:39:29,290
altered by how much contribution people

00:39:26,350 --> 00:39:32,350
have done so the company I say the

00:39:29,290 --> 00:39:34,630
company become companies will get better

00:39:32,350 --> 00:39:36,340
the exposure in places like the

00:39:34,630 --> 00:39:40,000
marketplace because they're contributing

00:39:36,340 --> 00:39:45,040
more as well as yeah dev happiness etc

00:39:40,000 --> 00:39:47,590
etc so yes use composer and some

00:39:45,040 --> 00:39:50,680
resources associate composer is we get

00:39:47,590 --> 00:39:53,020
composer Symphony comm projects Drupal

00:39:50,680 --> 00:39:55,480
is this Drupal project patient Symphony

00:39:53,020 --> 00:39:58,420
where it outlines the components that

00:39:55,480 --> 00:40:00,190
we're currently using this documentation

00:39:58,420 --> 00:40:02,320
pages on through port org that explains

00:40:00,190 --> 00:40:04,630
how to do more that's what I've just

00:40:02,320 --> 00:40:06,670
already shown and then this is the

00:40:04,630 --> 00:40:09,030
github link to the Drupal composer

00:40:06,670 --> 00:40:09,030

YouTube URL: https://www.youtube.com/watch?v=ZL2FtRTX9Y8


