Title: PHP UK 2018 - Liam Wiltshire - London Calling: Creating a customisable, multi-tenanted i18n solution
Publication date: 2018-03-27
Playlist: PHP UK Conference 2018
Description: 
	Buycraft is a multi-tenanted gCommerce platform for Minecraft. Having supported over 500,000 servers around the world, it needs to support a whole range of languages. Centralised i10n sucks - users can't customise it, if the application doesn't have a language file then you can't use that language, and users cannot add their own strings to translate. This is exactly how Buycraft worked - what's a dev to do? Join Liam to find out how Buycraft investigated, hacked and 'borrowed' code to solve this problem to provide a fully flexible, i10n layer for all their customers.
Captions: 
	00:00:03,550 --> 00:00:06,050
it's often said that the world is a big

00:00:05,810 --> 00:00:08,809
place

00:00:06,050 --> 00:00:11,330
and yet the Internet has this uncanny

00:00:08,809 --> 00:00:15,709
ability to make it a really really small

00:00:11,330 --> 00:00:17,480
place every day we might be conversing

00:00:15,709 --> 00:00:19,039
with users anywhere in the world they

00:00:17,480 --> 00:00:21,250
might be your next-door neighbor they

00:00:19,039 --> 00:00:25,160
could literally be half a world away

00:00:21,250 --> 00:00:27,289
often you wouldn't even know yep from an

00:00:25,160 --> 00:00:29,060
old touristic point of view yeah it's

00:00:27,289 --> 00:00:31,789
nice to say oh yeah we should make our

00:00:29,060 --> 00:00:33,230
applications usable by as many people as

00:00:31,789 --> 00:00:36,770
possible regardless of whether they're

00:00:33,230 --> 00:00:40,090
in the UK or Europe or you know China or

00:00:36,770 --> 00:00:44,719
wherever else more realistically though

00:00:40,090 --> 00:00:47,510
commercially it's often an imperative so

00:00:44,719 --> 00:00:49,340
that's what we talk about just before I

00:00:47,510 --> 00:00:52,070
go on you know just like to say thank

00:00:49,340 --> 00:00:55,100
you to the organizers and volunteers I

00:00:52,070 --> 00:00:57,920
think this is my fourth or fifth pH for

00:00:55,100 --> 00:00:59,510
UK I've kind of lost count every year

00:00:57,920 --> 00:01:02,750
they do a fantastic job

00:00:59,510 --> 00:01:05,600
you know jerry-san the volunteers the

00:01:02,750 --> 00:01:07,280
a/v crews you know and this conference

00:01:05,600 --> 00:01:09,590
wouldn't be what it is without those

00:01:07,280 --> 00:01:12,320
people so you know for myself you know

00:01:09,590 --> 00:01:15,920
thanks to those guys so my name is Liam

00:01:12,320 --> 00:01:18,650
Wilshire says there I'm a senior PHP

00:01:15,920 --> 00:01:22,490
developer and business manager so hands

00:01:18,650 --> 00:01:26,540
up who hate salespeople yeah I get to

00:01:22,490 --> 00:01:28,040
hate myself because business manager is

00:01:26,540 --> 00:01:30,170
basically glorified ringing people and

00:01:28,040 --> 00:01:32,380
trying to sell them enterprise it's fine

00:01:30,170 --> 00:01:35,510
and I work for this company called TEDx

00:01:32,380 --> 00:01:38,750
now you've heard of us were a fairly

00:01:35,510 --> 00:01:42,080
small company but effectively we run a

00:01:38,750 --> 00:01:46,790
SAS G commerce platform for sandbox

00:01:42,080 --> 00:01:48,710
games such as that one it's minecraft

00:01:46,790 --> 00:01:50,000
which is awesome because my kids think

00:01:48,710 --> 00:01:52,160
it's great because I get to speak to

00:01:50,000 --> 00:01:54,110
these youtubers and stuff and I have no

00:01:52,160 --> 00:01:56,120
idea who they are and yeah it's like oh

00:01:54,110 --> 00:01:58,400
you spoke to this guy's like yeah he's a

00:01:56,120 --> 00:02:00,500
customer but they think is awesome so

00:01:58,400 --> 00:02:03,550
I've been cool the last 18 months I've

00:02:00,500 --> 00:02:04,790
been cool for the first time in my life

00:02:03,550 --> 00:02:06,200
now

00:02:04,790 --> 00:02:08,509
that would probably make a good company

00:02:06,200 --> 00:02:11,390
logo and I've global Express shipping or

00:02:08,509 --> 00:02:14,450
something but actually as I said the

00:02:11,390 --> 00:02:16,400
world is a big place but all the while

00:02:14,450 --> 00:02:18,709
instant access is growing world

00:02:16,400 --> 00:02:23,510
why'd you know in all corners of the

00:02:18,709 --> 00:02:25,220
globe not that blokes have corners yeah

00:02:23,510 --> 00:02:26,360
there are massively expanding markets

00:02:25,220 --> 00:02:31,159
that are opening up and they are

00:02:26,360 --> 00:02:32,900
opportunities for anyone who is selling

00:02:31,159 --> 00:02:33,200
a service or a product or whatever that

00:02:32,900 --> 00:02:36,920
might be

00:02:33,200 --> 00:02:39,200
on the internet now most of these do not

00:02:36,920 --> 00:02:41,450
use English as their mother tongue yes

00:02:39,200 --> 00:02:43,970
you could say well a fair number of

00:02:41,450 --> 00:02:46,329
people probably do speak English firstly

00:02:43,970 --> 00:02:48,680
that is a horrible assumption to make

00:02:46,329 --> 00:02:50,659
secondly it's not true

00:02:48,680 --> 00:02:52,970
yes yeah there are of course our English

00:02:50,659 --> 00:02:56,750
speakers you know saying is well I speak

00:02:52,970 --> 00:02:58,220
a tiny bit of French and you know a lot

00:02:56,750 --> 00:02:59,870
of French people speak far better

00:02:58,220 --> 00:03:02,090
English than I do French and that's just

00:02:59,870 --> 00:03:03,950
a fact but there are also plenty of

00:03:02,090 --> 00:03:05,840
people that you know don't speak English

00:03:03,950 --> 00:03:07,700
you know hardly at all and certainly if

00:03:05,840 --> 00:03:09,560
you're talking something technical it

00:03:07,700 --> 00:03:13,909
wouldn't be accessible to those people

00:03:09,560 --> 00:03:15,859
so you're missing that opportunity I've

00:03:13,909 --> 00:03:17,269
pulled up some statistics now these are

00:03:15,859 --> 00:03:19,819
to do with the the digital gaming

00:03:17,269 --> 00:03:22,190
industry because that's what we do but

00:03:19,819 --> 00:03:24,560
you can find very similar numbers for

00:03:22,190 --> 00:03:27,199
for anything now the global digital

00:03:24,560 --> 00:03:30,709
games market is now worth over a hundred

00:03:27,199 --> 00:03:34,579
billion dollars a year that's an obscene

00:03:30,709 --> 00:03:36,709
amount of money a lot of that you know

00:03:34,579 --> 00:03:38,959
is is mobile gaming now minecraft has a

00:03:36,709 --> 00:03:43,459
mobile gaming version and we take

00:03:38,959 --> 00:03:44,810
advantage of that as well and previously

00:03:43,459 --> 00:03:47,959
it would have been the case that you

00:03:44,810 --> 00:03:50,690
know most digital spend was in Europe in

00:03:47,959 --> 00:03:54,889
North America these days it's not even

00:03:50,690 --> 00:03:59,329
half you know China spends more on

00:03:54,889 --> 00:04:00,530
digital gaming than the USA so why would

00:03:59,329 --> 00:04:04,489
you not want to take advantage of that

00:04:00,530 --> 00:04:06,319
market you know and you know equally in

00:04:04,489 --> 00:04:07,849
China as it says their secondary sales

00:04:06,319 --> 00:04:09,949
so that's not buying the game itself

00:04:07,849 --> 00:04:12,560
that's buying power-ups or add-ons or

00:04:09,949 --> 00:04:17,239
extra lives or all the sorts of things

00:04:12,560 --> 00:04:19,130
that we sell counts for 88% of their

00:04:17,239 --> 00:04:22,010
market so of that over half of the

00:04:19,130 --> 00:04:25,279
market the global market they have 80%

00:04:22,010 --> 00:04:28,310
of that is secondary sales so that makes

00:04:25,279 --> 00:04:30,120
a lot of sense so before we go on I see

00:04:28,310 --> 00:04:33,000
the the title of the talk has

00:04:30,120 --> 00:04:35,070
you know a letter I and then over 18 and

00:04:33,000 --> 00:04:35,930
that's running it so let's talk about

00:04:35,070 --> 00:04:39,180
what that means

00:04:35,930 --> 00:04:41,370
internationalization now this is a quote

00:04:39,180 --> 00:04:43,550
that I've stole from I think Wikipedia

00:04:41,370 --> 00:04:46,770
should have put sauce on there I'm sorry

00:04:43,550 --> 00:04:49,860
but first internationalization is the

00:04:46,770 --> 00:04:52,680
process or the concept of the process to

00:04:49,860 --> 00:04:54,870
make an application international that

00:04:52,680 --> 00:04:57,210
is to make it support or make you able

00:04:54,870 --> 00:05:00,330
to support virtually any language or

00:04:57,210 --> 00:05:04,860
local setting on earth or maybe one day

00:05:00,330 --> 00:05:07,590
on Mars recording it there's another

00:05:04,860 --> 00:05:10,889
term that after is used alongside and

00:05:07,590 --> 00:05:12,750
can be confused with and that's that

00:05:10,889 --> 00:05:15,780
that's a lowercase L not capitalized

00:05:12,750 --> 00:05:18,630
because that'd be really confusing l10n

00:05:15,780 --> 00:05:20,490
which is localization now that's the

00:05:18,630 --> 00:05:22,169
process or apparently the concept of the

00:05:20,490 --> 00:05:25,979
process again to make an application

00:05:22,169 --> 00:05:30,539
localized which is to say it works for a

00:05:25,979 --> 00:05:32,539
given local and concrete context so the

00:05:30,539 --> 00:05:35,220
easy way of saying this is that

00:05:32,539 --> 00:05:37,139
localization is taking what you have and

00:05:35,220 --> 00:05:40,729
going right I am going to make it work

00:05:37,139 --> 00:05:42,990
for insert locale here whereas

00:05:40,729 --> 00:05:47,729
internationalization is providing a

00:05:42,990 --> 00:05:50,400
framework or a way of localizing without

00:05:47,729 --> 00:05:52,169
in this example us having to involved

00:05:50,400 --> 00:05:53,490
every time so we don't want to have to

00:05:52,169 --> 00:05:56,130
get involved every time someone wants to

00:05:53,490 --> 00:05:58,770
localize it for China or for Vietnam or

00:05:56,130 --> 00:06:00,240
fir yeah Brazil or whatever actually we

00:05:58,770 --> 00:06:02,190
don't want to have to get involved every

00:06:00,240 --> 00:06:04,889
single time that happens we just want to

00:06:02,190 --> 00:06:08,250
provide a framework to allow people to

00:06:04,889 --> 00:06:10,530
do this I've already mentioned I work

00:06:08,250 --> 00:06:13,650
for my craft this isn't a bad craft

00:06:10,530 --> 00:06:17,910
pitch particularly so very briefly what

00:06:13,650 --> 00:06:18,949
we do we are a G Commons platform as I

00:06:17,910 --> 00:06:20,669
mentioned for sandbox games

00:06:18,949 --> 00:06:23,130
predominately at the moment that's

00:06:20,669 --> 00:06:24,960
minecraft however we are in the process

00:06:23,130 --> 00:06:26,310
of working with a couple of Studios to

00:06:24,960 --> 00:06:28,770
actually integrate the platform into

00:06:26,310 --> 00:06:30,360
some upcoming games which is why more

00:06:28,770 --> 00:06:33,449
now more than ever this is an important

00:06:30,360 --> 00:06:35,580
thing for us we operate a SAS platform

00:06:33,449 --> 00:06:37,530
as I mentioned normally if I'm talking

00:06:35,580 --> 00:06:39,300
to non-technical people I describe it as

00:06:37,530 --> 00:06:40,169
Shopify for Minecraft because it's about

00:06:39,300 --> 00:06:43,360
the only way you get people to

00:06:40,169 --> 00:06:46,990
understand what we do so we do that

00:06:43,360 --> 00:06:49,930
we are global we serve about just over

00:06:46,990 --> 00:06:51,909
1/2 million web stores and the actual

00:06:49,930 --> 00:06:53,800
web store owners come from it's like

00:06:51,909 --> 00:06:56,650
more than that now it's about 170 for

00:06:53,800 --> 00:06:58,360
our different countries and then those

00:06:56,650 --> 00:07:01,689
web stores combined we've handled over

00:06:58,360 --> 00:07:05,199
16 million payments from 255 countries

00:07:01,689 --> 00:07:06,669
and so quite obviously being able to

00:07:05,199 --> 00:07:07,719
support different locales different

00:07:06,669 --> 00:07:11,710
languages that sort of thing is

00:07:07,719 --> 00:07:16,659
important to us so we all we've always

00:07:11,710 --> 00:07:18,129
had some form of language support this

00:07:16,659 --> 00:07:21,490
isn't the current solution anymore but

00:07:18,129 --> 00:07:23,319
this is kind of where we were so we had

00:07:21,490 --> 00:07:25,810
a limited range of languages sometimes

00:07:23,319 --> 00:07:27,069
about 12 and when you went to a webstore

00:07:25,810 --> 00:07:30,340
you could pick one of those languages

00:07:27,069 --> 00:07:33,219
and then we had a centralised list of

00:07:30,340 --> 00:07:35,860
translations that would just PHP arrays

00:07:33,219 --> 00:07:37,840
that's it so you would have total

00:07:35,860 --> 00:07:40,000
username which I think in English was

00:07:37,840 --> 00:07:43,180
something like to access this Web Store

00:07:40,000 --> 00:07:47,830
please provide your username and that's

00:07:43,180 --> 00:07:49,180
it and then there was a lang function

00:07:47,830 --> 00:07:52,779
that you could use in your templates and

00:07:49,180 --> 00:07:55,449
you provided the shortcode and assuming

00:07:52,779 --> 00:08:01,900
the translation existed it would then

00:07:55,449 --> 00:08:04,330
display this wasn't very good I mean I'm

00:08:01,900 --> 00:08:06,129
glad because if I could go well that's

00:08:04,330 --> 00:08:08,229
perfect thank you and good night this

00:08:06,129 --> 00:08:12,419
would be a very short talk thankfully

00:08:08,229 --> 00:08:15,069
for me there are some problems with it

00:08:12,419 --> 00:08:17,710
first of all we had a restricted

00:08:15,069 --> 00:08:19,990
language set now just as a complete

00:08:17,710 --> 00:08:22,360
aside if you don't know these xkcd

00:08:19,990 --> 00:08:26,830
comics they're brilliant do check them

00:08:22,360 --> 00:08:29,020
out I use them a lot we had a restricted

00:08:26,830 --> 00:08:31,449
language set and what I mean by that is

00:08:29,020 --> 00:08:34,360
that because the language lists were

00:08:31,449 --> 00:08:36,130
centralized if we as int FX hadn't

00:08:34,360 --> 00:08:38,380
provided a translation for it you

00:08:36,130 --> 00:08:40,959
couldn't use it so we had people writing

00:08:38,380 --> 00:08:42,779
from you know Estonia for example was

00:08:40,959 --> 00:08:46,089
one going I'll create a new translation

00:08:42,779 --> 00:08:46,990
well kind of no there isn't one and we

00:08:46,089 --> 00:08:50,140
would get around to getting one done

00:08:46,990 --> 00:08:51,520
eventually but it took you know it took

00:08:50,140 --> 00:08:55,390
time and we didn't get them done

00:08:51,520 --> 00:08:56,319
unfortunately and we've had issues in

00:08:55,390 --> 00:08:57,190
the past where we've outsourced

00:08:56,319 --> 00:08:58,480
translations and

00:08:57,190 --> 00:09:00,910
I said well I've done these translations

00:08:58,480 --> 00:09:02,230
for you we've loaded them up into an

00:09:00,910 --> 00:09:04,570
array and gone there you like your

00:09:02,230 --> 00:09:06,100
language and someone like a we later

00:09:04,570 --> 00:09:08,800
pointed out that when the translations

00:09:06,100 --> 00:09:12,880
basically went hue by craft I don't see

00:09:08,800 --> 00:09:14,110
we didn't know because we couldn't check

00:09:12,880 --> 00:09:18,670
them so we didn't speak the language so

00:09:14,110 --> 00:09:21,940
that wasn't great the second problem was

00:09:18,670 --> 00:09:24,070
that it only supports default strings so

00:09:21,940 --> 00:09:26,410
as you saw they were a centralized array

00:09:24,070 --> 00:09:29,410
and we had a short code and a

00:09:26,410 --> 00:09:30,910
translation well if you created your own

00:09:29,410 --> 00:09:33,370
webstore templates which you could do

00:09:30,910 --> 00:09:35,440
you might have strings that aren't in

00:09:33,370 --> 00:09:37,480
our default language pack you might have

00:09:35,440 --> 00:09:39,420
changed the wording for that you know

00:09:37,480 --> 00:09:41,770
provide your username to log in message

00:09:39,420 --> 00:09:43,420
more if that's the case tough you can't

00:09:41,770 --> 00:09:47,950
translate it you were stuck with

00:09:43,420 --> 00:09:48,760
whatever string you've entered that

00:09:47,950 --> 00:09:50,590
again

00:09:48,760 --> 00:09:52,420
meant that you ended up with mismatches

00:09:50,590 --> 00:09:53,800
because you have stores where for some

00:09:52,420 --> 00:09:55,420
places that perhaps so using the default

00:09:53,800 --> 00:09:58,240
strings some places they've written

00:09:55,420 --> 00:10:00,310
their own so if I put it in to say Dutch

00:09:58,240 --> 00:10:01,870
some stuff will come up in English

00:10:00,310 --> 00:10:03,640
because it couldn't find a translation

00:10:01,870 --> 00:10:06,040
other stuff would then be translated

00:10:03,640 --> 00:10:09,730
into Dutch which is probably almost

00:10:06,040 --> 00:10:12,340
worse you know in a weird way so that

00:10:09,730 --> 00:10:15,730
was an idea and that was a high

00:10:12,340 --> 00:10:18,940
maintenance cost every time we added a

00:10:15,730 --> 00:10:20,140
new feature that changed the webstore

00:10:18,940 --> 00:10:22,600
templates would probably add a new

00:10:20,140 --> 00:10:26,050
strength so for example recently we've

00:10:22,600 --> 00:10:27,040
added a gift card feature now we now

00:10:26,050 --> 00:10:29,500
have to go through every single language

00:10:27,040 --> 00:10:31,450
and translate you know if you have a

00:10:29,500 --> 00:10:34,540
gift card provide your number here in to

00:10:31,450 --> 00:10:37,060
all the languages that we support which

00:10:34,540 --> 00:10:39,160
I'm embarrassed to say often didn't

00:10:37,060 --> 00:10:40,120
happen so there are strings that even

00:10:39,160 --> 00:10:42,670
we've provided that there aren't

00:10:40,120 --> 00:10:46,900
translations for and again if it did

00:10:42,670 --> 00:10:48,640
happen it was probably delayed and we

00:10:46,900 --> 00:10:51,820
could only guess at how accurate the

00:10:48,640 --> 00:10:56,530
translations were so none of these are

00:10:51,820 --> 00:10:58,780
great my favorite slide the best trust

00:10:56,530 --> 00:11:01,870
exercise ever except of course if

00:10:58,780 --> 00:11:04,089
they're not going to catch you um we

00:11:01,870 --> 00:11:06,190
didn't have fall backs as you saw there

00:11:04,089 --> 00:11:09,370
was a you had a short code and a

00:11:06,190 --> 00:11:11,260
translation so if I went okay well Lang

00:11:09,370 --> 00:11:13,630
total dot new username

00:11:11,260 --> 00:11:16,060
if that translation didn't exist in a

00:11:13,630 --> 00:11:17,470
given language packed there wasn't a

00:11:16,060 --> 00:11:21,250
default it could fall back - it would

00:11:17,470 --> 00:11:25,420
just display an empty string so all

00:11:21,250 --> 00:11:27,100
these things were you know and it gotta

00:11:25,420 --> 00:11:28,870
got us to this point but we were looking

00:11:27,100 --> 00:11:31,810
ATS going we need to do better we should

00:11:28,870 --> 00:11:33,760
be doing better so we decided that we

00:11:31,810 --> 00:11:36,400
were going to rework all of this so we

00:11:33,760 --> 00:11:38,920
set out some aims we wanted to produce

00:11:36,400 --> 00:11:40,840
an internationalization layer that

00:11:38,920 --> 00:11:43,090
allows users to customize the

00:11:40,840 --> 00:11:45,040
translations to fit them in other words

00:11:43,090 --> 00:11:47,350
we shouldn't be dictating this is the

00:11:45,040 --> 00:11:49,360
translation you will use they should be

00:11:47,350 --> 00:11:51,670
able to pick or define their own

00:11:49,360 --> 00:11:53,770
translations this should include

00:11:51,670 --> 00:11:54,940
supporting custom strings so if I've

00:11:53,770 --> 00:11:56,500
gone while I don't like the default

00:11:54,940 --> 00:11:58,510
wording on the the webstore I've changed

00:11:56,500 --> 00:12:01,060
it to this they should be uh provide

00:11:58,510 --> 00:12:03,520
translations for that as well or in fact

00:12:01,060 --> 00:12:05,350
new languages as I said we could only

00:12:03,520 --> 00:12:07,750
support a limited subset of languages

00:12:05,350 --> 00:12:09,790
but there are hundreds of languages

00:12:07,750 --> 00:12:11,200
around the world being used why can't

00:12:09,790 --> 00:12:13,780
they provide a language for their

00:12:11,200 --> 00:12:16,570
webstore to suit them it needs to be

00:12:13,780 --> 00:12:18,310
fast we sit with you know we put power a

00:12:16,570 --> 00:12:20,950
lot of web stores we don't want a slow

00:12:18,310 --> 00:12:24,910
solution and it needs to be easy for

00:12:20,950 --> 00:12:26,190
non-technical store owners to update so

00:12:24,910 --> 00:12:28,900
first of all we looked at some options

00:12:26,190 --> 00:12:30,610
now there's one option that's fairly

00:12:28,900 --> 00:12:34,620
obvious or was fairly obvious to me

00:12:30,610 --> 00:12:37,030
anyway which is Junior get text now I

00:12:34,620 --> 00:12:39,820
couldn't really find a witty comment a

00:12:37,030 --> 00:12:44,290
witty comic to illustrate junior get

00:12:39,820 --> 00:12:49,960
text it's not that funny thing so here's

00:12:44,290 --> 00:12:54,130
a llama their reasons llama do you get

00:12:49,960 --> 00:12:58,530
text get text is it is a set of tools

00:12:54,130 --> 00:13:01,720
and libraries to allow developers to

00:12:58,530 --> 00:13:07,210
produce multilingual messaging that's

00:13:01,720 --> 00:13:11,490
what it does it's used by a huge number

00:13:07,210 --> 00:13:13,780
of serve platforms like WordPress so

00:13:11,490 --> 00:13:16,240
yeah we went ok that's the first we're

00:13:13,780 --> 00:13:19,300
going to look at there were some good

00:13:16,240 --> 00:13:20,710
reasons to look at that it is mature PHP

00:13:19,300 --> 00:13:23,950
already has a get text compatible

00:13:20,710 --> 00:13:24,730
library although actually a lot of PHP

00:13:23,950 --> 00:13:27,190
framework

00:13:24,730 --> 00:13:31,180
and CMS's that use get text don't use

00:13:27,190 --> 00:13:33,610
the PHP library never mind there are

00:13:31,180 --> 00:13:34,660
plenty of examples of it in use every

00:13:33,610 --> 00:13:37,720
one can provide their own translation

00:13:34,660 --> 00:13:41,639
files you can create a dot Pio file and

00:13:37,720 --> 00:13:44,740
define you the translations and great

00:13:41,639 --> 00:13:46,959
it's fast because those Pio files get

00:13:44,740 --> 00:13:49,779
compiled down to demo files which were

00:13:46,959 --> 00:13:52,329
machine readable and it supports plural

00:13:49,779 --> 00:13:53,769
so on the face of it it takes a lot of

00:13:52,329 --> 00:13:57,579
boxes and we're like okay this might

00:13:53,769 --> 00:14:00,040
actually be our solution there are some

00:13:57,579 --> 00:14:02,230
downsides to it though first of all it

00:14:00,040 --> 00:14:03,970
doesn't support placeholders now what I

00:14:02,230 --> 00:14:06,250
mean by placeholders is if you're saying

00:14:03,970 --> 00:14:09,100
something like are you sure you want to

00:14:06,250 --> 00:14:10,240
block and then another player name you

00:14:09,100 --> 00:14:14,110
don't know what that other player name

00:14:10,240 --> 00:14:15,699
is so the way around this with get text

00:14:14,110 --> 00:14:18,399
is they expect you to use like a s

00:14:15,699 --> 00:14:20,740
printf function or something similar to

00:14:18,399 --> 00:14:23,620
then provide those arguments separately

00:14:20,740 --> 00:14:25,449
and then replace them in well that's

00:14:23,620 --> 00:14:28,389
fine if you're technical and you

00:14:25,449 --> 00:14:30,430
understand what that is but if I'm

00:14:28,389 --> 00:14:32,560
non-technical ID last thing I want to do

00:14:30,430 --> 00:14:34,000
an out create my custom template test go

00:14:32,560 --> 00:14:35,410
and read a big load of documentation to

00:14:34,000 --> 00:14:38,470
go oh well what are the placeholders in

00:14:35,410 --> 00:14:39,579
this string I I should just have to look

00:14:38,470 --> 00:14:41,319
at string you know what the placeholders

00:14:39,579 --> 00:14:43,360
are I should have to look at oh you sure

00:14:41,319 --> 00:14:50,350
you want to block name and go oh that's

00:14:43,360 --> 00:14:54,690
a name so that was a problem and it's

00:14:50,350 --> 00:14:59,380
lovely it's not very user friendly so

00:14:54,690 --> 00:15:02,889
that's a translation file forget text as

00:14:59,380 --> 00:15:05,589
load of headers I don't know what half

00:15:02,889 --> 00:15:08,860
of those do and then you've got these

00:15:05,589 --> 00:15:12,730
you know quite elongated sets of

00:15:08,860 --> 00:15:14,319
translations now yeah don't get me wrong

00:15:12,730 --> 00:15:15,730
our server owners are running minecraft

00:15:14,319 --> 00:15:18,940
servers they're not come you know

00:15:15,730 --> 00:15:21,279
they're not technically clueless by any

00:15:18,940 --> 00:15:24,339
shape or form but this would be very new

00:15:21,279 --> 00:15:26,500
this is something that they would never

00:15:24,339 --> 00:15:28,000
seen before and for a lot of them would

00:15:26,500 --> 00:15:29,380
be off-putting the last thing you want

00:15:28,000 --> 00:15:31,240
to be doing is dealing with something

00:15:29,380 --> 00:15:33,130
like that yes you can download

00:15:31,240 --> 00:15:35,140
additional editors like Pio edit or

00:15:33,130 --> 00:15:37,240
whatever else to do this for you but

00:15:35,140 --> 00:15:38,420
you're you're introducing barriers that

00:15:37,240 --> 00:15:41,000
we don't really want

00:15:38,420 --> 00:15:43,070
so we kind of looked at it and went you

00:15:41,000 --> 00:15:45,590
know if it was an internal product if we

00:15:43,070 --> 00:15:46,940
were selling directly to consumers then

00:15:45,590 --> 00:15:49,280
actually this probably would be perfect

00:15:46,940 --> 00:15:50,810
because we know how this works we know

00:15:49,280 --> 00:15:53,390
how to write them we know how sprint F

00:15:50,810 --> 00:15:56,120
works whatever else happy days

00:15:53,390 --> 00:15:58,970
but because we're not the ones writing

00:15:56,120 --> 00:16:03,700
the translations it got across the file

00:15:58,970 --> 00:16:06,740
list now see a nice little are our logo

00:16:03,700 --> 00:16:11,450
I've not mentioned this yes this yet alt

00:16:06,740 --> 00:16:14,920
code base is laravel so it made sense to

00:16:11,450 --> 00:16:18,290
look at they look a at a built in option

00:16:14,920 --> 00:16:23,240
yeah we use laravel there are some bits

00:16:18,290 --> 00:16:24,530
of it that we don't use facades in fact

00:16:23,240 --> 00:16:28,640
can we cut that because I want to speak

00:16:24,530 --> 00:16:30,350
it Lara Connie you thanks but it does a

00:16:28,640 --> 00:16:32,450
good job for our application and it

00:16:30,350 --> 00:16:38,780
works well so there is a translation

00:16:32,450 --> 00:16:41,480
package for laravel using the default

00:16:38,780 --> 00:16:42,770
tools is a good kind of starting point

00:16:41,480 --> 00:16:44,930
if you have built-in tools whatever

00:16:42,770 --> 00:16:46,670
framework or CMS whatever you're using

00:16:44,930 --> 00:16:49,670
if there is a tool to do a job that's

00:16:46,670 --> 00:16:51,260
built-in it makes sense to use it if at

00:16:49,670 --> 00:16:56,630
all possible rather than loading in more

00:16:51,260 --> 00:17:01,550
stuff so yeah it's built in because it's

00:16:56,630 --> 00:17:04,970
a level built in package lots of rural

00:17:01,550 --> 00:17:07,160
extensions already support it it's been

00:17:04,970 --> 00:17:11,990
around since version 4 so it is fairly

00:17:07,160 --> 00:17:14,420
mature so yeah there were some real

00:17:11,990 --> 00:17:16,880
reasons to use it it supports florals so

00:17:14,420 --> 00:17:18,320
here's one example here apples there is

00:17:16,880 --> 00:17:19,339
one I for there are many apples we have

00:17:18,320 --> 00:17:21,770
florists support great

00:17:19,339 --> 00:17:23,750
it has readable placeholders when I

00:17:21,770 --> 00:17:25,790
realized this I was basically skipping

00:17:23,750 --> 00:17:28,130
around the office you know goodbye name

00:17:25,790 --> 00:17:29,510
well that's a name an actual fact the

00:17:28,130 --> 00:17:31,550
way it does it is really clever so you

00:17:29,510 --> 00:17:33,110
can change the casing of the placeholder

00:17:31,550 --> 00:17:35,510
and it'll automatically change the

00:17:33,110 --> 00:17:37,550
casing of the string you injecting into

00:17:35,510 --> 00:17:39,670
either make it all uppercase or title

00:17:37,550 --> 00:17:43,190
case or lower case which is pretty cool

00:17:39,670 --> 00:17:44,720
and translations are stored as a rate so

00:17:43,190 --> 00:17:46,970
it's pretty fast so at the moment we're

00:17:44,720 --> 00:17:50,810
looking good we were really going there

00:17:46,970 --> 00:17:52,480
seems like a really good solution then

00:17:50,810 --> 00:17:55,910
we found some

00:17:52,480 --> 00:17:57,380
downsize to it so first of all the

00:17:55,910 --> 00:18:02,330
translations are all stored as a race

00:17:57,380 --> 00:18:03,799
very similarly to the way we did it so

00:18:02,330 --> 00:18:05,240
that's not very user-friendly you again

00:18:03,799 --> 00:18:07,190
we're not writing these translations

00:18:05,240 --> 00:18:10,429
we're relying on the store owners to

00:18:07,190 --> 00:18:15,169
write PHP arrays I can see a problem

00:18:10,429 --> 00:18:18,740
with that so okay then also translations

00:18:15,169 --> 00:18:20,750
are stored on the file system now we

00:18:18,740 --> 00:18:23,270
have half a million web stores that

00:18:20,750 --> 00:18:26,000
could write their own translations we

00:18:23,270 --> 00:18:28,970
scale across about 10 to 15 AWS

00:18:26,000 --> 00:18:32,540
instances so we're gonna have a

00:18:28,970 --> 00:18:35,600
centralized file system storing possibly

00:18:32,540 --> 00:18:38,270
five million translations I'm thinking

00:18:35,600 --> 00:18:42,820
no probably not a good idea

00:18:38,270 --> 00:18:45,200
but anyway and also the translation key

00:18:42,820 --> 00:18:47,360
it's still a short code which means you

00:18:45,200 --> 00:18:51,679
don't have a fallback now that has

00:18:47,360 --> 00:18:53,750
because I could see I saw a fake his

00:18:51,679 --> 00:18:55,730
eyes went up that has now been fixed in

00:18:53,750 --> 00:18:58,040
later versions of laravel they are now

00:18:55,730 --> 00:19:02,240
actually the full strings we're still

00:18:58,040 --> 00:19:04,400
running Laval 5 - so yeah was there

00:19:02,240 --> 00:19:05,750
that's a bit of a problem and also I did

00:19:04,400 --> 00:19:07,400
look at this clause and you know as much

00:19:05,750 --> 00:19:10,309
as I was happy that this poor support is

00:19:07,400 --> 00:19:12,260
here having a pipe separator and in

00:19:10,309 --> 00:19:14,059
other cases which will come on to the

00:19:12,260 --> 00:19:16,940
syntax gets more and more unwieldy to

00:19:14,059 --> 00:19:19,760
support different plurals so that was a

00:19:16,940 --> 00:19:21,169
bit of a question mark and then I've

00:19:19,760 --> 00:19:23,600
already mentioned fake I'm gonna do it

00:19:21,169 --> 00:19:25,820
again I was doing some research and went

00:19:23,600 --> 00:19:29,120
hold on we can saw the translations in a

00:19:25,820 --> 00:19:31,390
database freaks organization did an

00:19:29,120 --> 00:19:35,120
awesome blog post on writing a custom

00:19:31,390 --> 00:19:37,340
file one of the services that he uses

00:19:35,120 --> 00:19:38,450
anyway to then actually not get them

00:19:37,340 --> 00:19:40,760
from the file system but skip it from

00:19:38,450 --> 00:19:42,590
the DB so I was like oh my goodness this

00:19:40,760 --> 00:19:44,570
will work I can make this work this is

00:19:42,590 --> 00:19:46,640
gonna be awesome so I can load them from

00:19:44,570 --> 00:19:48,049
the DB awesome which now means I can

00:19:46,640 --> 00:19:49,250
have them written in whatever format I

00:19:48,049 --> 00:19:50,510
want because we'll just store them the

00:19:49,250 --> 00:19:55,429
DB and then load them back out into the

00:19:50,510 --> 00:19:57,020
right happy days yeah great and you know

00:19:55,429 --> 00:19:58,309
we'll even upgrade to a new version of

00:19:57,020 --> 00:20:03,010
laravel I'm ok with this

00:19:58,309 --> 00:20:05,130
we need to anyway so we're now winning

00:20:03,010 --> 00:20:07,860
except we're not

00:20:05,130 --> 00:20:10,410
I thought we were winning I thought we

00:20:07,860 --> 00:20:12,990
had the the solution but I'd forgotten a

00:20:10,410 --> 00:20:14,190
few things and again if we can cut this

00:20:12,990 --> 00:20:15,350
but again so I can get into Larrick on

00:20:14,190 --> 00:20:19,470
that'd be great

00:20:15,350 --> 00:20:22,890
we do use laravel we don't use it

00:20:19,470 --> 00:20:25,560
everywhere now some of our webstore code

00:20:22,890 --> 00:20:27,890
is still legacy I say legacy because I

00:20:25,560 --> 00:20:31,520
refuse to write the word code igniter -

00:20:27,890 --> 00:20:33,630
[Laughter]

00:20:31,520 --> 00:20:36,960
we've all got it we've all got those

00:20:33,630 --> 00:20:38,040
little bits in whatever and there's no

00:20:36,960 --> 00:20:40,920
guarantee we're always going to use

00:20:38,040 --> 00:20:43,280
laravel what if we decide to write a

00:20:40,920 --> 00:20:45,300
brand new JS front-end and we want the

00:20:43,280 --> 00:20:47,970
installations happen on the front end

00:20:45,300 --> 00:20:49,730
what if you write a mobile app we want

00:20:47,970 --> 00:20:54,840
something where we can take the same

00:20:49,730 --> 00:20:58,710
essential concept and put it any way now

00:20:54,840 --> 00:21:01,200
I would go on an out on a limb and say

00:20:58,710 --> 00:21:04,190
writing your own solution to anything is

00:21:01,200 --> 00:21:09,480
probably a bad idea

00:21:04,190 --> 00:21:10,830
yeah so we rolled our own which I mean

00:21:09,480 --> 00:21:12,390
this this is a good this is another good

00:21:10,830 --> 00:21:15,960
comic commit strip if no one reads this

00:21:12,390 --> 00:21:18,620
I think the guys that write the user

00:21:15,960 --> 00:21:20,610
base in France the translations the

00:21:18,620 --> 00:21:22,860
screens not great so I'll tell you what

00:21:20,610 --> 00:21:24,540
it says it says hey so you found at

00:21:22,860 --> 00:21:27,180
least 40 open-source plugins that would

00:21:24,540 --> 00:21:28,740
do what we need right yeah and you can't

00:21:27,180 --> 00:21:32,010
decide which one would be best for this

00:21:28,740 --> 00:21:35,160
project yeah it's basically impossible

00:21:32,010 --> 00:21:36,780
so at what moment exactly did that crazy

00:21:35,160 --> 00:21:40,850
brain of yours conclude that the best

00:21:36,780 --> 00:21:45,120
solution would be to develop plug-in 41

00:21:40,850 --> 00:21:46,920
but that's what we've done I think that

00:21:45,120 --> 00:21:49,170
where it came to was that we had very

00:21:46,920 --> 00:21:53,070
specific ideas of how we wanted this to

00:21:49,170 --> 00:21:56,580
work and everything else seemed to

00:21:53,070 --> 00:21:58,770
require a compromise somewhere and I'm

00:21:56,580 --> 00:21:59,720
quite a stubborn person and I don't want

00:21:58,770 --> 00:22:02,850
to compromise

00:21:59,720 --> 00:22:06,510
so we have our requirements it must

00:22:02,850 --> 00:22:08,460
support plurals the key should be the

00:22:06,510 --> 00:22:11,280
default translation and it should have

00:22:08,460 --> 00:22:12,600
readable placeholders it needs to be we

00:22:11,280 --> 00:22:16,110
need to be able to have it overwritten

00:22:12,600 --> 00:22:17,730
and customized on a per user basis in a

00:22:16,110 --> 00:22:18,659
format that our store owners can

00:22:17,730 --> 00:22:20,789
understand

00:22:18,659 --> 00:22:24,419
it needs to support languages that we

00:22:20,789 --> 00:22:25,769
don't even know exist and we should be

00:22:24,419 --> 00:22:29,489
able to load the translations into

00:22:25,769 --> 00:22:30,690
arrays for speed which basically means

00:22:29,489 --> 00:22:32,789
what we did is we all right what do you

00:22:30,690 --> 00:22:34,529
like from get text what do we like from

00:22:32,789 --> 00:22:37,619
illuminate translation and mashed it

00:22:34,529 --> 00:22:40,259
together now you probably noticed that

00:22:37,619 --> 00:22:45,119
one of my top hit listings has always

00:22:40,259 --> 00:22:47,609
been plurals I was incredibly naive

00:22:45,119 --> 00:22:50,279
about plurals embarrassingly naive about

00:22:47,609 --> 00:22:52,169
plurals I had kind of always just taken

00:22:50,279 --> 00:22:54,389
them for granted even though actually

00:22:52,169 --> 00:22:55,799
you know from speaking a small amount of

00:22:54,389 --> 00:22:56,369
French I knew that actually there were

00:22:55,799 --> 00:22:58,590
differences

00:22:56,369 --> 00:23:02,580
I just always went oh well it's an apple

00:22:58,590 --> 00:23:07,049
to apples 59 bajillion apples yeah but

00:23:02,580 --> 00:23:09,989
that's it right you know so the plural

00:23:07,049 --> 00:23:12,599
rules that I know of that can be only

00:23:09,989 --> 00:23:14,159
one flop form so some languages mainly

00:23:12,599 --> 00:23:16,080
Asian languages like Japanese Korean

00:23:14,159 --> 00:23:19,259
have no plural it's the same form

00:23:16,080 --> 00:23:21,869
regardless some of them have two forms

00:23:19,259 --> 00:23:24,330
where the singular is only used for the

00:23:21,869 --> 00:23:26,729
count of one so that's like English you

00:23:24,330 --> 00:23:29,129
have no apples or two apples but you

00:23:26,729 --> 00:23:31,139
have one apple some have the two forms

00:23:29,129 --> 00:23:34,320
but actually the singular version is

00:23:31,139 --> 00:23:37,889
used for 0 and 1 such as French and some

00:23:34,320 --> 00:23:39,869
forms of Portuguese I think there are

00:23:37,889 --> 00:23:41,879
three forms 3 forms with different

00:23:39,869 --> 00:23:44,249
special cases 3 forms where you have a

00:23:41,879 --> 00:23:46,340
special case if it ends in 0 0 so

00:23:44,249 --> 00:23:49,979
hundred is are different to 99 and 101

00:23:46,340 --> 00:23:53,460
obviously 3 forms with special cases for

00:23:49,979 --> 00:23:56,879
numbers between 12 and 19 again

00:23:53,460 --> 00:24:01,080
why not three forms special cases 1 2 3

00:23:56,879 --> 00:24:03,330
4 unless it's 1 to 14 what and it goes

00:24:01,080 --> 00:24:06,659
on we've not finished 3 form special

00:24:03,330 --> 00:24:08,820
cases for 1 2 3 and 4 3 forms with a

00:24:06,659 --> 00:24:10,919
special case for 1 and some numbers

00:24:08,820 --> 00:24:13,919
ending 2 into 3 or 4 but not all of them

00:24:10,919 --> 00:24:19,169
and there's another one in my favorite

00:24:13,919 --> 00:24:20,460
six forms which is Arabic Allah you know

00:24:19,169 --> 00:24:22,379
I've read this so many times

00:24:20,460 --> 00:24:24,119
I still don't actions and how it works I

00:24:22,379 --> 00:24:25,889
try and I put random numbers in and try

00:24:24,119 --> 00:24:28,259
and guess which form it is and I get it

00:24:25,889 --> 00:24:30,479
wrong about 85% of the time but

00:24:28,259 --> 00:24:32,429
basically there's a special case for 1 &

00:24:30,479 --> 00:24:35,490
2 & then

00:24:32,429 --> 00:24:39,360
special cases for n 0 2 or 0 3 so like

00:24:35,490 --> 00:24:43,139
102 103 and then there's a different

00:24:39,360 --> 00:24:50,879
ending for 11 through 299 and I don't

00:24:43,139 --> 00:24:53,279
get it I am confused so that was fun and

00:24:50,879 --> 00:24:57,149
it taught me how little I know about the

00:24:53,279 --> 00:24:59,340
world at the same time so cool so we

00:24:57,149 --> 00:25:03,659
need a solution that can handle any

00:24:59,340 --> 00:25:05,369
imaginable rule apparently including

00:25:03,659 --> 00:25:09,809
those ones that we have no idea how they

00:25:05,369 --> 00:25:11,070
work so we kind of spent a lot of time

00:25:09,809 --> 00:25:13,320
looking at this and coming up with

00:25:11,070 --> 00:25:15,029
solutions and when I mentioned earlier

00:25:13,320 --> 00:25:17,909
that lava valves pluralization the

00:25:15,029 --> 00:25:19,919
syntax gets very hairy because you have

00:25:17,909 --> 00:25:22,369
to write effectively regular expressions

00:25:19,919 --> 00:25:25,259
to define which forms use in which cases

00:25:22,369 --> 00:25:27,659
delimited by pipes we can see why that's

00:25:25,259 --> 00:25:28,860
going to be a problem so we went that's

00:25:27,659 --> 00:25:31,440
not what we're doing that's not a good

00:25:28,860 --> 00:25:34,200
time so it's not the most

00:25:31,440 --> 00:25:37,499
straightforward but we did decide to

00:25:34,200 --> 00:25:38,999
borrow get texts way of doing it mainly

00:25:37,499 --> 00:25:40,320
because we know it works and we couldn't

00:25:38,999 --> 00:25:42,779
understand it well enough ourselves to

00:25:40,320 --> 00:25:46,619
find an alternative it is complicated

00:25:42,779 --> 00:25:48,389
the rules look like this but thankfully

00:25:46,619 --> 00:25:49,950
there is a published list of rules for

00:25:48,389 --> 00:25:51,960
basically every language in the world

00:25:49,950 --> 00:25:54,269
which we've linked to far knowledge base

00:25:51,960 --> 00:25:55,799
and gone look when if you're writing a

00:25:54,269 --> 00:25:57,659
translation for new language you don't

00:25:55,799 --> 00:26:00,869
get the rule from there it's fine so

00:25:57,659 --> 00:26:03,809
that's what we did now we need a parser

00:26:00,869 --> 00:26:06,659
for these rules I never thought I was

00:26:03,809 --> 00:26:09,509
going to say this but Drupal came to our

00:26:06,659 --> 00:26:12,299
rescue all right you know I I love

00:26:09,509 --> 00:26:13,169
Drupal I don't use it very much but I

00:26:12,299 --> 00:26:15,499
never thought I was gonna end up

00:26:13,169 --> 00:26:18,659
stealing code from it but here we go

00:26:15,499 --> 00:26:21,210
Drupal uses get text however like

00:26:18,659 --> 00:26:24,389
WordPress it doesn't use PHP native

00:26:21,210 --> 00:26:26,970
functions which means quite handily they

00:26:24,389 --> 00:26:28,379
have to be able to parse PN files which

00:26:26,970 --> 00:26:30,929
of course means they have to add to pass

00:26:28,379 --> 00:26:36,619
headers which means they have to have to

00:26:30,929 --> 00:26:38,970
pass plurals win so I went into github

00:26:36,619 --> 00:26:41,580
took there found there their code for

00:26:38,970 --> 00:26:43,830
parsing the PIO headers one in there and

00:26:41,580 --> 00:26:45,630
one for taking for calculating plurals

00:26:43,830 --> 00:26:48,840
and run away

00:26:45,630 --> 00:26:51,270
so we have Drupal code to actually work

00:26:48,840 --> 00:26:54,450
out the plural forms based on plural

00:26:51,270 --> 00:26:56,970
headers awesome which means we have

00:26:54,450 --> 00:26:59,520
something like this we have a rule that

00:26:56,970 --> 00:27:01,680
basically says you have the the base key

00:26:59,520 --> 00:27:03,630
should always be the singular just

00:27:01,680 --> 00:27:05,430
because it made things easy but there

00:27:03,630 --> 00:27:07,530
are two forms in English you have an

00:27:05,430 --> 00:27:10,290
item in your basket and you have items

00:27:07,530 --> 00:27:12,810
in your basket and then you just call a

00:27:10,290 --> 00:27:16,230
template function underscore P thank you

00:27:12,810 --> 00:27:18,000
WordPress to provide that and then it

00:27:16,230 --> 00:27:20,460
takes an argument for the length and

00:27:18,000 --> 00:27:22,470
it'll pass that to our plural rule

00:27:20,460 --> 00:27:24,390
parser and go right so I've got six

00:27:22,470 --> 00:27:24,990
which form do I need and it'll go I need

00:27:24,390 --> 00:27:26,910
four one

00:27:24,990 --> 00:27:28,440
all you need for form two and then you

00:27:26,910 --> 00:27:32,910
load that from the translation file

00:27:28,440 --> 00:27:35,820
which I'll show you later so finally our

00:27:32,910 --> 00:27:43,110
first requirement is ticked only four to

00:27:35,820 --> 00:27:45,180
go as I mentioned we wanted we want to

00:27:43,110 --> 00:27:46,230
always ensure there was a default what

00:27:45,180 --> 00:27:48,090
we didn't want to do is end up in

00:27:46,230 --> 00:27:50,550
situations where nothing got displayed

00:27:48,090 --> 00:27:51,960
because that's horrible it's not the PHP

00:27:50,550 --> 00:27:54,900
way we don't do that we keep going

00:27:51,960 --> 00:28:00,270
regardless I know we don't tell you more

00:27:54,900 --> 00:28:01,800
to joke so we wanted a solution that

00:28:00,270 --> 00:28:03,810
would use the key as the fallback in

00:28:01,800 --> 00:28:06,300
other words we weren't using short codes

00:28:03,810 --> 00:28:07,980
we would always you know worst case

00:28:06,300 --> 00:28:09,870
scenario the thing that was the thing

00:28:07,980 --> 00:28:15,780
you were asking is translate is what you

00:28:09,870 --> 00:28:17,190
would get back but that was fine it also

00:28:15,780 --> 00:28:19,230
makes templates more readable because

00:28:17,190 --> 00:28:21,840
rather than that saying like title doc

00:28:19,230 --> 00:28:25,470
continue or button doc continue and you

00:28:21,840 --> 00:28:27,150
being me it's quite clear that's that

00:28:25,470 --> 00:28:28,920
means no matter what you know that says

00:28:27,150 --> 00:28:30,240
click here to continue you go well that

00:28:28,920 --> 00:28:33,540
makes that really easy to understand

00:28:30,240 --> 00:28:35,790
happy days it's not exactly difficult to

00:28:33,540 --> 00:28:38,190
do because we go out well do we have

00:28:35,790 --> 00:28:40,620
this string in our translations if we

00:28:38,190 --> 00:28:42,870
don't we just return the key that we

00:28:40,620 --> 00:28:45,390
were given in the first place simple

00:28:42,870 --> 00:28:48,600
right we also wanted readable

00:28:45,390 --> 00:28:51,630
placeholders now as I mentioned get text

00:28:48,600 --> 00:28:54,090
doesn't necessarily do this which means

00:28:51,630 --> 00:28:55,530
it can make the placeholders meanings

00:28:54,090 --> 00:28:57,750
quite a bleak unless you have the

00:28:55,530 --> 00:28:59,160
documentation to hand which I can tell

00:28:57,750 --> 00:29:02,550
you our custom

00:28:59,160 --> 00:29:07,470
often ducked because well we haven't got

00:29:02,550 --> 00:29:10,050
documentation for some of it so that's

00:29:07,470 --> 00:29:11,670
fine but again by having those readable

00:29:10,050 --> 00:29:13,170
placeholders again you're making it

00:29:11,670 --> 00:29:15,120
really clear what this means this is a

00:29:13,170 --> 00:29:17,250
translation are you sure you wish to

00:29:15,120 --> 00:29:19,950
delete item name from your basket user

00:29:17,250 --> 00:29:21,930
name well even without looking at any

00:29:19,950 --> 00:29:24,000
documentation or having the replacements

00:29:21,930 --> 00:29:27,870
there it's instantly obvious what that

00:29:24,000 --> 00:29:30,840
string does so that's what we did

00:29:27,870 --> 00:29:32,640
and again that underscores code

00:29:30,840 --> 00:29:35,520
translation function again stolen from

00:29:32,640 --> 00:29:38,880
WordPress Thank You Kim take a second

00:29:35,520 --> 00:29:40,320
argument which has just an object of

00:29:38,880 --> 00:29:42,060
replacements so we're gonna replace out

00:29:40,320 --> 00:29:44,310
- name with the name of the package I'm

00:29:42,060 --> 00:29:46,470
gonna replace user name with the basket

00:29:44,310 --> 00:29:47,700
username you'll notice that we don't use

00:29:46,470 --> 00:29:52,080
blade templates even though it's in

00:29:47,700 --> 00:29:53,760
laravel we use twig because no actual

00:29:52,080 --> 00:29:56,070
reason it's just a decision that's made

00:29:53,760 --> 00:29:57,450
way back when so if you are if you're

00:29:56,070 --> 00:29:59,430
kind of moving slow eval but you're used

00:29:57,450 --> 00:30:02,460
to kind say simply templating there's an

00:29:59,430 --> 00:30:06,420
awesome an awesome package called twig

00:30:02,460 --> 00:30:09,120
bridge that does exactly this and again

00:30:06,420 --> 00:30:11,460
we you know our do replacements function

00:30:09,120 --> 00:30:15,000
takes the string and array of

00:30:11,460 --> 00:30:17,280
replacements if it exists and loops

00:30:15,000 --> 00:30:19,920
through and the places the placeholder

00:30:17,280 --> 00:30:21,390
out with the value set and what's a

00:30:19,920 --> 00:30:23,670
string nice and simple

00:30:21,390 --> 00:30:25,830
we've now takes off two requirements

00:30:23,670 --> 00:30:27,680
between a half climate we're getting

00:30:25,830 --> 00:30:30,420
there it's awesome

00:30:27,680 --> 00:30:32,460
postal customization this was a big deal

00:30:30,420 --> 00:30:33,780
the whole point of this is that we

00:30:32,460 --> 00:30:36,150
wanted the web stores to be able to

00:30:33,780 --> 00:30:39,150
control their own destiny or at least

00:30:36,150 --> 00:30:40,710
their translations if they want to

00:30:39,150 --> 00:30:43,050
replace our default translations if they

00:30:40,710 --> 00:30:45,390
decide that our German for welcome to my

00:30:43,050 --> 00:30:46,650
store is terrible that's okay they

00:30:45,390 --> 00:30:49,050
should be able to do that that is their

00:30:46,650 --> 00:30:51,810
right if they want to add custom strings

00:30:49,050 --> 00:30:52,890
they need to be able to do that or you

00:30:51,810 --> 00:30:55,110
know there might be more to add a new

00:30:52,890 --> 00:30:56,520
languages we said so we thought about

00:30:55,110 --> 00:31:00,240
how we're gonna get people to provide

00:30:56,520 --> 00:31:03,030
this data and we settled on Jason now

00:31:00,240 --> 00:31:06,690
it's not the simplest solution of course

00:31:03,030 --> 00:31:09,360
but bear in mind most of our customers

00:31:06,690 --> 00:31:10,860
run minecraft servers they know what

00:31:09,360 --> 00:31:12,480
Jason is they know how it works

00:31:10,860 --> 00:31:14,490
so

00:31:12,480 --> 00:31:17,100
we decided it was a that was a

00:31:14,490 --> 00:31:19,680
reasonable expectation at that level and

00:31:17,100 --> 00:31:21,210
as I said we wanted to turn these and

00:31:19,680 --> 00:31:23,910
things into arrays so we could set them

00:31:21,210 --> 00:31:25,710
to up cash or whatever else well doing

00:31:23,910 --> 00:31:28,380
it with Jason doesn't get much more

00:31:25,710 --> 00:31:30,570
straightforward so that's what we did

00:31:28,380 --> 00:31:30,960
and a translation looks something like

00:31:30,570 --> 00:31:32,370
this

00:31:30,960 --> 00:31:34,710
you have a couple of meta headers the

00:31:32,370 --> 00:31:37,380
locale that plural rule as we mentioned

00:31:34,710 --> 00:31:39,270
the name of the language and then you

00:31:37,380 --> 00:31:42,380
translations and there's a there's one

00:31:39,270 --> 00:31:44,370
there with a placeholder and a plural

00:31:42,380 --> 00:31:45,690
that's fairly readable you can read that

00:31:44,370 --> 00:31:48,210
and go I can see what those translations

00:31:45,690 --> 00:31:51,180
are you could kind of quite easily add a

00:31:48,210 --> 00:31:52,410
new translation if you needed to the

00:31:51,180 --> 00:31:54,180
only thing that's a little bit complex

00:31:52,410 --> 00:31:56,940
is that plural which we provide it

00:31:54,180 --> 00:31:59,100
provide in the knowledge base so that

00:31:56,940 --> 00:32:00,900
works quite well and it's proven really

00:31:59,100 --> 00:32:02,520
popular I mean the first day we launched

00:32:00,900 --> 00:32:04,380
this feature I think we had 300 web

00:32:02,520 --> 00:32:06,630
stores add their own custom translation

00:32:04,380 --> 00:32:08,700
on day one most more probably only

00:32:06,630 --> 00:32:09,870
adding in one string but the point is

00:32:08,700 --> 00:32:15,270
they could do it and they could do it

00:32:09,870 --> 00:32:16,440
easily and quickly but as I mentioned we

00:32:15,270 --> 00:32:18,720
only want our merchants to be able to

00:32:16,440 --> 00:32:20,280
replace one or two if they have one new

00:32:18,720 --> 00:32:22,560
string or they disagree with our

00:32:20,280 --> 00:32:23,970
translation for one thing it doesn't

00:32:22,560 --> 00:32:26,250
make sense that they have to upload an

00:32:23,970 --> 00:32:28,170
entire file of all the translations to

00:32:26,250 --> 00:32:31,650
replace one thing so we needed

00:32:28,170 --> 00:32:33,330
inheritance so it's quite

00:32:31,650 --> 00:32:34,740
straightforward every translation and

00:32:33,330 --> 00:32:38,730
that's not working awesome

00:32:34,740 --> 00:32:40,980
provides a locale so we can quite in

00:32:38,730 --> 00:32:43,410
quite a simple way go right well if

00:32:40,980 --> 00:32:45,860
they've provided their locale if we have

00:32:43,410 --> 00:32:48,630
a translation that matches that locale

00:32:45,860 --> 00:32:50,010
we can then kind of load you know have

00:32:48,630 --> 00:32:51,390
theirs inherit art so if they've got a

00:32:50,010 --> 00:32:53,970
string that doesn't exist we'll use our

00:32:51,390 --> 00:32:55,410
one so the control panel flat looks a

00:32:53,970 --> 00:32:58,170
bit like this the projectors not

00:32:55,410 --> 00:33:00,360
brilliant apologies but here that's in

00:32:58,170 --> 00:33:03,510
the NGB so it'll use mine

00:33:00,360 --> 00:33:05,370
my en-gb translation first if there's a

00:33:03,510 --> 00:33:07,410
string that I don't have it will then go

00:33:05,370 --> 00:33:09,420
oh well there's a default one here in GB

00:33:07,410 --> 00:33:12,210
so I will then use the translations from

00:33:09,420 --> 00:33:14,850
that that was quite an easy thing to do

00:33:12,210 --> 00:33:17,490
just a little fallback chain we check if

00:33:14,850 --> 00:33:18,780
it's in there translation if it's not we

00:33:17,490 --> 00:33:21,720
check if it's in the parent translation

00:33:18,780 --> 00:33:24,929
and if it's not we used the base

00:33:21,720 --> 00:33:28,030
strength simple

00:33:24,929 --> 00:33:31,750
we've now takes off all of these little

00:33:28,030 --> 00:33:33,700
requirements I'm a happy man um I think

00:33:31,750 --> 00:33:35,320
I pretty much did the the truffle

00:33:33,700 --> 00:33:38,880
shuffle in the office it was great

00:33:35,320 --> 00:33:42,070
everyone loved it I'm showing my age now

00:33:38,880 --> 00:33:43,960
so one of the things we did say

00:33:42,070 --> 00:33:47,530
originally was that it needed to be fast

00:33:43,960 --> 00:33:50,440
so how does this perform you know as a

00:33:47,530 --> 00:33:51,659
peak times we do support we do serve a

00:33:50,440 --> 00:33:55,090
lot of traffic

00:33:51,659 --> 00:33:57,159
weirdly on Christmas Day Christmas Day

00:33:55,090 --> 00:33:58,960
is like a crazy day in Minecraft food I

00:33:57,159 --> 00:34:01,150
have no idea why I've got one web store

00:33:58,960 --> 00:34:03,730
that I think made like in December last

00:34:01,150 --> 00:34:05,080
year made a million dollars and most

00:34:03,730 --> 00:34:09,070
that was on Christmas Day it was weird

00:34:05,080 --> 00:34:12,280
anyway relevant so yes it has generated

00:34:09,070 --> 00:34:15,490
actually be crews because each each page

00:34:12,280 --> 00:34:18,190
that we liked we have to grab their

00:34:15,490 --> 00:34:20,560
translation file and maybe grab a base

00:34:18,190 --> 00:34:23,859
translation file to queries doesn't

00:34:20,560 --> 00:34:26,710
sound like a lot but you know if we're

00:34:23,859 --> 00:34:27,159
talking sixty thousand page views a

00:34:26,710 --> 00:34:30,970
minute

00:34:27,159 --> 00:34:35,950
that's 120 thousand DB queries that's

00:34:30,970 --> 00:34:38,320
not good but yeah that's fine then there

00:34:35,950 --> 00:34:39,550
is some extra logic exactly small marks

00:34:38,320 --> 00:34:42,580
for logic because we have to pass those

00:34:39,550 --> 00:34:44,169
JSON files we then have to check whether

00:34:42,580 --> 00:34:45,609
the string exists in there there

00:34:44,169 --> 00:34:46,899
translation object and if it doesn't

00:34:45,609 --> 00:34:50,980
check if it exists in our translation

00:34:46,899 --> 00:34:52,929
object and yadda yadda yadda then also

00:34:50,980 --> 00:34:54,460
could involve more memory because these

00:34:52,929 --> 00:34:55,990
translation files are quite big and

00:34:54,460 --> 00:34:59,170
you're loading two of these big JSON

00:34:55,990 --> 00:35:02,230
files into arrays to hold for the the

00:34:59,170 --> 00:35:06,400
generation of the page but does any of

00:35:02,230 --> 00:35:09,220
this matter no really I mean the actual

00:35:06,400 --> 00:35:10,900
the performance we tried it and even as

00:35:09,220 --> 00:35:13,450
it was it was fine it really wasn't

00:35:10,900 --> 00:35:17,710
making that big a difference but it

00:35:13,450 --> 00:35:20,800
annoyed me the LDP Cruz was a bit of a

00:35:17,710 --> 00:35:22,660
problem and that probably needed fixing

00:35:20,800 --> 00:35:24,220
the rest of it I just went home and went

00:35:22,660 --> 00:35:27,609
I don't like the fact it does everything

00:35:24,220 --> 00:35:28,960
twice it made me grumpy so I fixed it

00:35:27,609 --> 00:35:31,540
anyway

00:35:28,960 --> 00:35:32,830
that's quite easy you know we just

00:35:31,540 --> 00:35:35,740
basically merge everything and then

00:35:32,830 --> 00:35:37,930
cache it so you know we know that the

00:35:35,740 --> 00:35:40,569
strings either can or can't match

00:35:37,930 --> 00:35:41,770
to locales but if we take our rain and

00:35:40,569 --> 00:35:43,660
then we load those over the top

00:35:41,770 --> 00:35:45,160
anyone's it replaces is fine because we

00:35:43,660 --> 00:35:46,720
should be using their translation and

00:35:45,160 --> 00:35:49,540
only it doesn't it should use ours

00:35:46,720 --> 00:35:53,230
anyway so we can do that and we now have

00:35:49,540 --> 00:35:56,619
one array with for the translations we

00:35:53,230 --> 00:35:59,079
can then cache that so we just you know

00:35:56,619 --> 00:36:01,410
store it as not cache and everyone wins

00:35:59,079 --> 00:36:04,990
and now we'd have to touch the DB at all

00:36:01,410 --> 00:36:08,770
and we just yeah happy days so we are

00:36:04,990 --> 00:36:12,540
now winning finally except we're not

00:36:08,770 --> 00:36:15,520
winning because cache is my friend

00:36:12,540 --> 00:36:19,300
except it's not so we have external

00:36:15,520 --> 00:36:21,880
caches we get a lot of DDoS issues

00:36:19,300 --> 00:36:25,300
because in the minecraft industry as

00:36:21,880 --> 00:36:26,829
attacks going on all the time and so we

00:36:25,300 --> 00:36:29,260
use CloudFlare to help with our DDoS

00:36:26,829 --> 00:36:30,760
protection and as part of that they

00:36:29,260 --> 00:36:32,950
cache all the webstore home pages

00:36:30,760 --> 00:36:34,329
someone hits a web store homepage they

00:36:32,950 --> 00:36:36,099
cache it which that means if anyone else

00:36:34,329 --> 00:36:40,329
visits it they get served the cache for

00:36:36,099 --> 00:36:41,890
like two minutes right and because this

00:36:40,329 --> 00:36:43,510
is kind of saying that we've added on we

00:36:41,890 --> 00:36:46,109
don't have separate URLs for each

00:36:43,510 --> 00:36:49,990
language you can see where this is going

00:36:46,109 --> 00:36:51,670
so in theory what happens is I go to a

00:36:49,990 --> 00:36:54,069
web store go oh I would like this in

00:36:51,670 --> 00:36:56,500
German I click the German option in the

00:36:54,069 --> 00:36:59,319
drop-down it sets a cojito say we should

00:36:56,500 --> 00:37:04,839
be serving this site for this user in

00:36:59,319 --> 00:37:09,819
German but if CloudFlare has a cache it

00:37:04,839 --> 00:37:12,280
doesn't set the cookie and even more fun

00:37:09,819 --> 00:37:14,650
than that is if someone had a cookie and

00:37:12,280 --> 00:37:16,119
then they visited that website first and

00:37:14,650 --> 00:37:18,040
there wasn't a cloud fly cache because

00:37:16,119 --> 00:37:20,410
it had been invalidated they get the

00:37:18,040 --> 00:37:21,880
site in German me is someone who doesn't

00:37:20,410 --> 00:37:24,069
speak German go to the web store I go

00:37:21,880 --> 00:37:25,270
why is this funny in German because even

00:37:24,069 --> 00:37:26,710
though it should be in another language

00:37:25,270 --> 00:37:29,770
it's not is now in German because that's

00:37:26,710 --> 00:37:34,180
what's been cached so yeah we had some

00:37:29,770 --> 00:37:37,089
problems so we said mr. CloudFlare can

00:37:34,180 --> 00:37:39,160
we have some set for it cash register -

00:37:37,089 --> 00:37:42,640
rolls please now they're written in Lua

00:37:39,160 --> 00:37:45,280
which I had something so there we are

00:37:42,640 --> 00:37:47,410
but that's fine so now we in Lua have a

00:37:45,280 --> 00:37:50,650
custom cache key which is based on

00:37:47,410 --> 00:37:51,610
variables we check if there's a query

00:37:50,650 --> 00:37:53,470
string and

00:37:51,610 --> 00:37:57,400
we get it to set some or cookie and we

00:37:53,470 --> 00:37:59,200
use that in the cache the cache key oh

00:37:57,400 --> 00:38:01,000
and if they came from increased ring

00:37:59,200 --> 00:38:02,700
then we get CloudFlare to set the cookie

00:38:01,000 --> 00:38:05,620
on our behalf

00:38:02,700 --> 00:38:08,590
finally now after all that we are now

00:38:05,620 --> 00:38:12,580
actually winning you can see where this

00:38:08,590 --> 00:38:16,260
is going so next question I'm gonna tell

00:38:12,580 --> 00:38:20,200
you that's a date what date is it anyone

00:38:16,260 --> 00:38:23,020
it could be the 1st of February 2003 it

00:38:20,200 --> 00:38:25,510
could be the 3rd for every 2001 it could

00:38:23,020 --> 00:38:27,480
be the 2nd of January 2003 or probably

00:38:25,510 --> 00:38:31,920
some other days as well I've got no idea

00:38:27,480 --> 00:38:35,080
this was our first kind of mistake

00:38:31,920 --> 00:38:38,560
localization and internationalization is

00:38:35,080 --> 00:38:40,060
more than just language yeah our first

00:38:38,560 --> 00:38:41,200
step was getting the language stuff

00:38:40,060 --> 00:38:43,000
sorted out because that's the most

00:38:41,200 --> 00:38:46,330
visible thing but it doesn't stop there

00:38:43,000 --> 00:38:47,830
it's much bigger than that so we have to

00:38:46,330 --> 00:38:50,020
look at things like handling numbers

00:38:47,830 --> 00:38:52,600
handling dates and current scene and

00:38:50,020 --> 00:38:54,970
things like that so this is something

00:38:52,600 --> 00:38:56,410
that is an ongoing project the the other

00:38:54,970 --> 00:38:58,240
stuffs live and we're now fixing this

00:38:56,410 --> 00:39:00,760
when we realized that we should done in

00:38:58,240 --> 00:39:01,960
the first place so we have some new

00:39:00,760 --> 00:39:04,510
matter headers when you create your own

00:39:01,960 --> 00:39:05,860
locale you can specify a date format you

00:39:04,510 --> 00:39:07,840
can specify what the decimal point

00:39:05,860 --> 00:39:11,830
should be so obviously in the UK that

00:39:07,840 --> 00:39:13,210
tends to be a dot but in Europe for

00:39:11,830 --> 00:39:15,100
example it tends to be a comma which

00:39:13,210 --> 00:39:17,260
gets really confusing if you don't know

00:39:15,100 --> 00:39:18,880
which one you're using and thousand

00:39:17,260 --> 00:39:20,350
separators which in some places they

00:39:18,880 --> 00:39:22,780
don't use them so that can be an empty

00:39:20,350 --> 00:39:25,390
string and then we provided a new

00:39:22,780 --> 00:39:29,200
underscore d function again copying the

00:39:25,390 --> 00:39:31,240
same kind of name rules as word press to

00:39:29,200 --> 00:39:34,360
format a date and an underscore and

00:39:31,240 --> 00:39:36,190
function to format a number we'll

00:39:34,360 --> 00:39:37,540
probably take this further still for

00:39:36,190 --> 00:39:39,010
example when you have to choose which

00:39:37,540 --> 00:39:41,110
side the currency symbol goes because

00:39:39,010 --> 00:39:42,880
for some locales the currency symbol

00:39:41,110 --> 00:39:45,670
would go after the number and something

00:39:42,880 --> 00:39:48,460
goes before whatever but you know this

00:39:45,670 --> 00:39:51,960
is a still a significant improvement so

00:39:48,460 --> 00:39:55,090
now we are winning except we're not

00:39:51,960 --> 00:39:57,880
which the fact they're still you know 14

00:39:55,090 --> 00:40:00,460
slides to go as a bit of a giveaway it's

00:39:57,880 --> 00:40:02,800
fine can anyone guess what this map

00:40:00,460 --> 00:40:04,120
shows it's not it actually doesn't show

00:40:02,800 --> 00:40:07,110
to you about it anyone fancy having a

00:40:04,120 --> 00:40:07,110
guess so what that maps showing

00:40:08,050 --> 00:40:14,830
different language speakers good guess

00:40:10,430 --> 00:40:18,170
it's not but yeah well if I give you a

00:40:14,830 --> 00:40:19,730
doesn't show great well I would give you

00:40:18,170 --> 00:40:25,000
those keys what it actually shows is

00:40:19,730 --> 00:40:28,690
what payment methods countries use now I

00:40:25,000 --> 00:40:31,010
being a privileged white male as I am

00:40:28,690 --> 00:40:32,270
assume that everyone use credit cards

00:40:31,010 --> 00:40:36,520
and PayPal I mean that's what you'll use

00:40:32,270 --> 00:40:40,070
right except it's not who knew

00:40:36,520 --> 00:40:43,190
apparently lots of people anyway so yeah

00:40:40,070 --> 00:40:45,050
for example I can't read these for

00:40:43,190 --> 00:40:47,119
example in Germany they do and in fact a

00:40:45,050 --> 00:40:48,530
lot minion man mainland Europe they do a

00:40:47,119 --> 00:40:50,330
lot of kind of bank transfer type

00:40:48,530 --> 00:40:52,070
payments it's not like me logging into

00:40:50,330 --> 00:40:54,560
my online banking and doing it but they

00:40:52,070 --> 00:40:56,859
have things like I deal and things like

00:40:54,560 --> 00:40:59,450
that that they use for things like that

00:40:56,859 --> 00:41:00,890
you look at North America actually has

00:40:59,450 --> 00:41:03,350
mainly credit cards and PayPal that's

00:41:00,890 --> 00:41:05,900
fine except Mexico where they do use

00:41:03,350 --> 00:41:07,940
credit cards but they also have cash

00:41:05,900 --> 00:41:09,560
based methods there's one Oh xxxx oh

00:41:07,940 --> 00:41:10,670
where you little you get a code and

00:41:09,560 --> 00:41:14,510
going to a store and you give them money

00:41:10,670 --> 00:41:16,520
and things like that and you know again

00:41:14,510 --> 00:41:19,640
bank transfer type methods are popular

00:41:16,520 --> 00:41:23,510
South America it's even more fragmented

00:41:19,640 --> 00:41:24,830
still and in Asia I have no idea there's

00:41:23,510 --> 00:41:25,700
there's lots there's lots and lots and

00:41:24,830 --> 00:41:28,790
lots and lots of different payment

00:41:25,700 --> 00:41:31,340
methods so credit and debit cards are

00:41:28,790 --> 00:41:32,359
not global and as much as they were

00:41:31,340 --> 00:41:35,900
trying convince you otherwise

00:41:32,359 --> 00:41:38,030
neither is PayPal and this applies

00:41:35,900 --> 00:41:39,890
double when we look at our merchants

00:41:38,030 --> 00:41:41,780
markets which tend to be younger players

00:41:39,890 --> 00:41:44,600
that's probably even less chance they've

00:41:41,780 --> 00:41:47,720
got a credit card and less definite to

00:41:44,600 --> 00:41:50,320
parents or something so you know that's

00:41:47,720 --> 00:41:53,420
that's thing that we have to consider

00:41:50,320 --> 00:41:56,450
different payment methods are stronger

00:41:53,420 --> 00:41:57,650
in different areas now one things we did

00:41:56,450 --> 00:42:00,080
is we spoke to our merchants who aren't

00:41:57,650 --> 00:42:03,050
hey what payment methods would make your

00:42:00,080 --> 00:42:05,180
life easier if we supported them and we

00:42:03,050 --> 00:42:07,670
cheated a little bit we found some

00:42:05,180 --> 00:42:09,350
suppliers that offer multiple payment

00:42:07,670 --> 00:42:11,450
methods so I don't if any of you guys

00:42:09,350 --> 00:42:13,040
have seen the the developers from Molly

00:42:11,450 --> 00:42:14,930
being walking around and Molly hoodies

00:42:13,040 --> 00:42:16,970
for last couple of days we use that

00:42:14,930 --> 00:42:18,560
because they support lots of kind of

00:42:16,970 --> 00:42:19,940
mainland Europe methods paysafecard

00:42:18,560 --> 00:42:22,010
ideal

00:42:19,940 --> 00:42:25,550
things like that perfect so that takes a

00:42:22,010 --> 00:42:28,160
lot of boxes other ones like eggs Ola

00:42:25,550 --> 00:42:32,210
because they they offer more or less

00:42:28,160 --> 00:42:34,810
everything so this gave our payment

00:42:32,210 --> 00:42:36,950
methods are much broader reach

00:42:34,810 --> 00:42:39,020
realistically though we cannot support

00:42:36,950 --> 00:42:41,390
every get we're in the world for start I

00:42:39,020 --> 00:42:43,190
mean our control panel is big enough as

00:42:41,390 --> 00:42:45,650
it is if you went pick which gateways

00:42:43,190 --> 00:42:47,780
you want from these 6000 that wouldn't

00:42:45,650 --> 00:42:49,700
be useful so we didn't do that but what

00:42:47,780 --> 00:42:51,860
we have done is provide a way for

00:42:49,700 --> 00:42:54,680
merchants to do it themselves in the

00:42:51,860 --> 00:42:55,970
same ways the translations so they can

00:42:54,680 --> 00:42:58,100
now integrate their own payment with

00:42:55,970 --> 00:42:59,930
methods they're not a first-class

00:42:58,100 --> 00:43:01,160
citizen in the same way so you kind of

00:42:59,930 --> 00:43:02,840
have to go through the checkout and say

00:43:01,160 --> 00:43:04,130
they can't let their own load going you

00:43:02,840 --> 00:43:05,810
go yeah I want that payment method and

00:43:04,130 --> 00:43:06,950
then it redirects to a page where they

00:43:05,810 --> 00:43:09,140
can then have some JavaScript or

00:43:06,950 --> 00:43:11,900
whatever else to then bounce it on so

00:43:09,140 --> 00:43:13,790
it's not quite a slicker process but it

00:43:11,900 --> 00:43:15,620
exists now if you want to support Pargo

00:43:13,790 --> 00:43:17,060
facil in argentina or you want to

00:43:15,620 --> 00:43:19,220
support some of the Gateway that I don't

00:43:17,060 --> 00:43:21,380
know about in China or Japan or whatever

00:43:19,220 --> 00:43:23,180
else you can do it

00:43:21,380 --> 00:43:25,730
as I said they go through the checkout

00:43:23,180 --> 00:43:28,310
they then we then create a payment but

00:43:25,730 --> 00:43:31,550
run it be completed it's pending we then

00:43:28,310 --> 00:43:34,400
provide a way for them to redirect which

00:43:31,550 --> 00:43:36,140
could be a form or some JavaScript and

00:43:34,400 --> 00:43:37,820
they pop in there and then when the

00:43:36,140 --> 00:43:39,620
payment is completed and they presume to

00:43:37,820 --> 00:43:41,780
get some notification back on their end

00:43:39,620 --> 00:43:43,610
we then have an API for them to check

00:43:41,780 --> 00:43:44,930
the payment so they can check that the

00:43:43,610 --> 00:43:46,820
amounts match and the currencies match

00:43:44,930 --> 00:43:48,800
and whatever else actually mean that's

00:43:46,820 --> 00:43:51,070
fine we then give them another API to

00:43:48,800 --> 00:43:53,600
say yes that payments been completed and

00:43:51,070 --> 00:43:54,770
then the normal fulfillment process that

00:43:53,600 --> 00:43:57,050
would normally happen from one of our

00:43:54,770 --> 00:43:59,120
gateways kicks in so they can now

00:43:57,050 --> 00:44:06,200
integrate any payment method they want

00:43:59,120 --> 00:44:09,010
this is cool so yeah we don't know

00:44:06,200 --> 00:44:11,780
everything you know I'm aware of this

00:44:09,010 --> 00:44:13,010
our merchants know far more about the

00:44:11,780 --> 00:44:15,020
people they are selling to them we're

00:44:13,010 --> 00:44:16,130
ever going to we can speak to them and

00:44:15,020 --> 00:44:17,450
we have phone calls with them regularly

00:44:16,130 --> 00:44:20,990
but we're still not going to know

00:44:17,450 --> 00:44:23,750
everything but what we were trying to do

00:44:20,990 --> 00:44:25,610
is reduce the support requests if people

00:44:23,750 --> 00:44:27,080
can provide that information further

00:44:25,610 --> 00:44:28,850
themselves and by extension their

00:44:27,080 --> 00:44:31,100
customers can find that information for

00:44:28,850 --> 00:44:33,020
themselves our merchants are getting

00:44:31,100 --> 00:44:33,810
less support requests we're getting less

00:44:33,020 --> 00:44:36,210
for requests

00:44:33,810 --> 00:44:37,770
and that goes for any company if you're

00:44:36,210 --> 00:44:38,220
selling across the world but your

00:44:37,770 --> 00:44:40,200
webstore

00:44:38,220 --> 00:44:42,060
your website's only in English you're

00:44:40,200 --> 00:44:42,870
going to have people that perhaps their

00:44:42,060 --> 00:44:44,850
English isn't their first language

00:44:42,870 --> 00:44:46,980
they'll probably ask you questions where

00:44:44,850 --> 00:44:49,670
the answer is on the website but not in

00:44:46,980 --> 00:44:53,040
a readily accessible format for then you

00:44:49,670 --> 00:44:54,570
know our solution is portable this is

00:44:53,040 --> 00:44:57,870
one of the things for us we do use our

00:44:54,570 --> 00:45:00,420
eval and other things but we might

00:44:57,870 --> 00:45:02,040
change that in the future and this same

00:45:00,420 --> 00:45:04,320
approach with these same layers of

00:45:02,040 --> 00:45:06,810
providing a JSON object to an array and

00:45:04,320 --> 00:45:11,220
then be able to replace them works in a

00:45:06,810 --> 00:45:12,810
spa I'd work a mobile app yeah there are

00:45:11,220 --> 00:45:17,130
things that we still need to do our

00:45:12,810 --> 00:45:18,510
messages are still in English and as I

00:45:17,130 --> 00:45:20,310
mentioned we want to look at currencies

00:45:18,510 --> 00:45:22,800
and the way our plugins work because

00:45:20,310 --> 00:45:25,230
ultimately you know with any web

00:45:22,800 --> 00:45:28,020
application or web service the more

00:45:25,230 --> 00:45:31,080
usable the application is the more

00:45:28,020 --> 00:45:36,510
successful it's going to be but I think

00:45:31,080 --> 00:45:38,930
finally we can say we're winning thank

00:45:36,510 --> 00:45:38,930

YouTube URL: https://www.youtube.com/watch?v=WCAIQdvvAaA


