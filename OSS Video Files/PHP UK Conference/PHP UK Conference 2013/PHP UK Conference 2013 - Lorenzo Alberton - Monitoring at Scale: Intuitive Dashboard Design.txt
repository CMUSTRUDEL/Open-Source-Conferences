Title: PHP UK Conference 2013 - Lorenzo Alberton - Monitoring at Scale: Intuitive Dashboard Design
Publication date: 2013-05-09
Playlist: PHP UK Conference 2013
Description: 
	At a certain scale, millions of events happen every second, and all of them are important to evaluate the health of the system. If not handled correctly, such a volume of information can overwhelm both the infrastructure that needs to support them, and people who have to make a sense out of thousands of signals and make decisions upon them, fast. By understanding how our rational mind works, how people process information, we can present data so it's more evident and intuitive. This talk will explain how to collect useful metrics, and to create the perfect monitoring dashboard to organise and display them, letting our intuition operate automatically and quickly, and saving attention and mental effort to activities that demand it.

Slides: http://www.slideshare.net/quipo/monitoring-at-scale-intuitive-dashboard-design
Captions: 
	00:00:08,830 --> 00:00:13,780
so I don't know if like you agree with

00:00:11,260 --> 00:00:16,540
me but I think this has been a really

00:00:13,780 --> 00:00:20,410
good conference so far we learnt new

00:00:16,540 --> 00:00:22,330
tricks we learn learn to how to design

00:00:20,410 --> 00:00:26,170
better software how to make it more

00:00:22,330 --> 00:00:28,510
resilient and now we are gonna see what

00:00:26,170 --> 00:00:30,960
happens next that is how to keep the

00:00:28,510 --> 00:00:34,570
system running and usually that is done

00:00:30,960 --> 00:00:38,019
just by observing how the system behaves

00:00:34,570 --> 00:00:42,730
and making sure that nothing is missing

00:00:38,019 --> 00:00:46,770
from our outlook so a very quick word

00:00:42,730 --> 00:00:51,309
about myself I work a data sift where we

00:00:46,770 --> 00:00:54,910
ingest process augment and filter about

00:00:51,309 --> 00:00:59,199
10,000 messages messages per second we

00:00:54,910 --> 00:01:01,780
get between five holes in real time and

00:00:59,199 --> 00:01:04,149
many resources if you are interested in

00:01:01,780 --> 00:01:06,700
knowing about what we do that's linked

00:01:04,149 --> 00:01:10,180
there explains our architecture it's a

00:01:06,700 --> 00:01:12,399
bit old but still relevant in the past

00:01:10,180 --> 00:01:17,319
few years I've been really lucky to be

00:01:12,399 --> 00:01:18,970
on several large-scale projects and from

00:01:17,319 --> 00:01:22,300
those projects and from people I work

00:01:18,970 --> 00:01:25,209
with I learned a lot about what means to

00:01:22,300 --> 00:01:27,729
keep those complex systems up and I

00:01:25,209 --> 00:01:29,410
certainly know and I now understand the

00:01:27,729 --> 00:01:34,300
importance of monitoring and good

00:01:29,410 --> 00:01:37,830
reporting so we live in an age where

00:01:34,300 --> 00:01:41,950
everything is big everything is complex

00:01:37,830 --> 00:01:46,750
and to handle the complexity we have a

00:01:41,950 --> 00:01:51,130
lot of parts of that form our overall

00:01:46,750 --> 00:01:54,399
platform but this means that anytime

00:01:51,130 --> 00:01:57,729
time can be really a big problem for the

00:01:54,399 --> 00:02:00,190
business and if we we start seeing

00:01:57,729 --> 00:02:03,340
problems like we don't have any output

00:02:00,190 --> 00:02:06,099
from our system then it's difficult to

00:02:03,340 --> 00:02:08,619
find out where the actual problem is in

00:02:06,099 --> 00:02:11,050
the architecture that can be a thousand

00:02:08,619 --> 00:02:13,890
things to it that can go wrong so it's

00:02:11,050 --> 00:02:18,210
very important to understand obviously

00:02:13,890 --> 00:02:20,950
also observability is a critical feature

00:02:18,210 --> 00:02:24,550
so you have to make money

00:02:20,950 --> 00:02:26,890
hooks into your application to collect

00:02:24,550 --> 00:02:30,489
all the metrics you can and of course

00:02:26,890 --> 00:02:33,220
collecting metrics is just one part of

00:02:30,489 --> 00:02:34,900
it partly the over a problem because if

00:02:33,220 --> 00:02:37,660
you don't look at them they are pretty

00:02:34,900 --> 00:02:41,970
useless and the good reporting is

00:02:37,660 --> 00:02:44,260
usually really really difficult and

00:02:41,970 --> 00:02:46,030
especially when you are able to handle

00:02:44,260 --> 00:02:48,489
millions and millions of events per

00:02:46,030 --> 00:02:53,680
second spotting the important ones is

00:02:48,489 --> 00:02:58,000
really hard so what I came to realize is

00:02:53,680 --> 00:03:02,319
that the dashboards and the BI tools in

00:02:58,000 --> 00:03:04,630
the past 20-30 years have not done a

00:03:02,319 --> 00:03:07,150
very good job at helping us at this task

00:03:04,630 --> 00:03:09,700
they are they probably missed the point

00:03:07,150 --> 00:03:13,329
entirely focusing on all sort of wrong

00:03:09,700 --> 00:03:15,370
problems and they fail at communicating

00:03:13,329 --> 00:03:17,410
which is the most important thing the

00:03:15,370 --> 00:03:18,400
most important feature we want from a

00:03:17,410 --> 00:03:22,690
good

00:03:18,400 --> 00:03:25,900
- boredom monitoring dashboard so the I

00:03:22,690 --> 00:03:28,660
I think that monitoring dashboards are

00:03:25,900 --> 00:03:32,829
too important to be left in the hands of

00:03:28,660 --> 00:03:36,069
pie chart lovers so let's see a few

00:03:32,829 --> 00:03:39,250
things that we can do to make dashboards

00:03:36,069 --> 00:03:42,910
better and I would do it by taking a

00:03:39,250 --> 00:03:46,510
step back and understanding who is gonna

00:03:42,910 --> 00:03:47,290
use dashboards and that's humans it's

00:03:46,510 --> 00:03:49,389
not machines

00:03:47,290 --> 00:03:52,450
like I was saying in his keynote

00:03:49,389 --> 00:03:55,269
yesterday we need to think about humans

00:03:52,450 --> 00:03:58,299
first and to the so we need to

00:03:55,269 --> 00:04:00,579
understand a little bit about how we

00:03:58,299 --> 00:04:03,310
think and how I make my decision in

00:04:00,579 --> 00:04:07,540
decisions that's what we usually call

00:04:03,310 --> 00:04:10,150
cognitive science this whole talk is

00:04:07,540 --> 00:04:10,780
heavily inspired by this book I read

00:04:10,150 --> 00:04:15,430
last year

00:04:10,780 --> 00:04:18,160
it's about statistics economics and how

00:04:15,430 --> 00:04:21,160
we think and how make decisions and I

00:04:18,160 --> 00:04:23,380
thought that many other things in these

00:04:21,160 --> 00:04:26,830
wonderful books apply to system

00:04:23,380 --> 00:04:29,440
monitoring as well so this book is a

00:04:26,830 --> 00:04:31,990
tale of two systems and those two

00:04:29,440 --> 00:04:33,310
systems are the modes that our brain

00:04:31,990 --> 00:04:37,740
operates on

00:04:33,310 --> 00:04:41,230
there is a one mode which is fast and

00:04:37,740 --> 00:04:44,410
apparently doesn't require an afford

00:04:41,230 --> 00:04:46,419
like a strain 2+2 we we know it's for we

00:04:44,410 --> 00:04:50,310
don't need to think about the operation

00:04:46,419 --> 00:04:55,030
itself and we can call these system one

00:04:50,310 --> 00:04:58,360
many ways intuition instinct gut feeling

00:04:55,030 --> 00:05:01,930
and then we have a slower thinking mode

00:04:58,360 --> 00:05:05,820
so that's something that requires a lot

00:05:01,930 --> 00:05:08,500
of attention there is a thoughtful like

00:05:05,820 --> 00:05:11,260
computing the other operation it's not

00:05:08,500 --> 00:05:14,380
impossible but we need to recollect the

00:05:11,260 --> 00:05:15,730
only steps on how to solve it then we

00:05:14,380 --> 00:05:18,340
need to keep in mind all the

00:05:15,730 --> 00:05:21,130
intermediate results and finally we we

00:05:18,340 --> 00:05:23,950
can after a lot of athwart answer the

00:05:21,130 --> 00:05:29,250
question and most of the times we don't

00:05:23,950 --> 00:05:32,290
give in here so we we don't bother the

00:05:29,250 --> 00:05:35,050
the reason why the distinction is very

00:05:32,290 --> 00:05:38,229
important is that we have only a finite

00:05:35,050 --> 00:05:40,419
capacity for the second during the day

00:05:38,229 --> 00:05:43,570
we can only allocate so much attention

00:05:40,419 --> 00:05:46,240
to tasks so it's very very important

00:05:43,570 --> 00:05:49,870
that we preserve the tension as much as

00:05:46,240 --> 00:05:53,440
you can for when we need it and in

00:05:49,870 --> 00:05:55,600
normal mode we should really rely on our

00:05:53,440 --> 00:05:57,750
intuition our instinct as much as

00:05:55,600 --> 00:05:57,750
possible

00:05:57,789 --> 00:06:04,470
mind you D system to the slow thinking

00:06:01,510 --> 00:06:08,050
is always there to double-check to

00:06:04,470 --> 00:06:11,410
regulate what the intuition is is coming

00:06:08,050 --> 00:06:15,250
up with but is a bit as I said is a

00:06:11,410 --> 00:06:20,620
limited and can only be used so not so

00:06:15,250 --> 00:06:23,229
much so the first system system one fast

00:06:20,620 --> 00:06:27,400
thinking is there primarily for one

00:06:23,229 --> 00:06:29,700
function it's there to model our what we

00:06:27,400 --> 00:06:32,950
consider in normality is there to

00:06:29,700 --> 00:06:35,530
qualify the environment around us under

00:06:32,950 --> 00:06:38,979
normal conditions because once we know

00:06:35,530 --> 00:06:42,099
what what is normal then we can be

00:06:38,979 --> 00:06:44,910
surprised we can be surprised by what is

00:06:42,099 --> 00:06:47,610
not normal what can be

00:06:44,910 --> 00:06:50,640
threat to our environment and so that's

00:06:47,610 --> 00:06:53,310
when we switch on our attention and make

00:06:50,640 --> 00:06:56,730
it out really do their hard work because

00:06:53,310 --> 00:07:01,320
if that's when we really need to explain

00:06:56,730 --> 00:07:05,070
our energy so how does this relate

00:07:01,320 --> 00:07:06,960
monitoring dashboards well in my view my

00:07:05,070 --> 00:07:08,070
team dashboard should be there in the

00:07:06,960 --> 00:07:12,330
background

00:07:08,070 --> 00:07:14,190
giving after a very quick look even as a

00:07:12,330 --> 00:07:18,510
warm feeling that everything is normal

00:07:14,190 --> 00:07:20,250
and then we have alerts that can trigger

00:07:18,510 --> 00:07:24,450
something else they can create a

00:07:20,250 --> 00:07:26,940
surprise so we can then switch on our

00:07:24,450 --> 00:07:29,460
attention and focus on the problem that

00:07:26,940 --> 00:07:31,410
was recognized as body system and we can

00:07:29,460 --> 00:07:35,490
then expand the energy actually

00:07:31,410 --> 00:07:37,800
debugging the problem we this is a

00:07:35,490 --> 00:07:39,990
picture a picture of all our all the

00:07:37,800 --> 00:07:42,930
monitoring world and as you can see we

00:07:39,990 --> 00:07:44,520
also have a siren or weather connected

00:07:42,930 --> 00:07:45,210
to a Xena's alert whenever there is

00:07:44,520 --> 00:07:47,820
something wrong

00:07:45,210 --> 00:07:51,360
it sounds so it's a very effective way

00:07:47,820 --> 00:07:57,750
of attracting a correlation so there are

00:07:51,360 --> 00:07:59,730
many ways we can do use to to improve

00:07:57,750 --> 00:08:04,170
the way we have tracked our attention by

00:07:59,730 --> 00:08:06,480
not wasting our CPU cycle cycles and

00:08:04,170 --> 00:08:08,990
only color the attentional important

00:08:06,480 --> 00:08:13,500
stuff in color and over imagery

00:08:08,990 --> 00:08:15,810
definitely make it harder to spot

00:08:13,500 --> 00:08:21,000
important information so take this graph

00:08:15,810 --> 00:08:24,450
and take this one now it's immediate

00:08:21,000 --> 00:08:27,420
that these is what we should focus on

00:08:24,450 --> 00:08:29,700
this is we only highlight things that

00:08:27,420 --> 00:08:32,940
are problematic we shouldn't really care

00:08:29,700 --> 00:08:34,950
about and analyze what what's in the

00:08:32,940 --> 00:08:39,110
board I should the dashboard should tell

00:08:34,950 --> 00:08:41,960
us immediately it should really call our

00:08:39,110 --> 00:08:46,320
ability to process information visually

00:08:41,960 --> 00:08:48,690
the other mistake we often make is we

00:08:46,320 --> 00:08:52,170
add a lot of data onto our dashboards

00:08:48,690 --> 00:08:54,300
and we often require a read long

00:08:52,170 --> 00:08:57,089
descriptions just to make sense of

00:08:54,300 --> 00:08:58,410
what's in the graph this is a beautiful

00:08:57,089 --> 00:09:01,800
infographics very good

00:08:58,410 --> 00:09:04,080
almost 150 years ago and it represents

00:09:01,800 --> 00:09:07,020
the march to Napoleon's army on to

00:09:04,080 --> 00:09:08,640
Moscow and I believe it's a masterpiece

00:09:07,020 --> 00:09:13,800
of information density

00:09:08,640 --> 00:09:17,310
it shows the path of the army along town

00:09:13,800 --> 00:09:19,980
by town after town up to Moscow it shows

00:09:17,310 --> 00:09:22,860
the size of the army as it which is

00:09:19,980 --> 00:09:25,530
Moscow and the black line is decided the

00:09:22,860 --> 00:09:29,280
army that comes back home from from

00:09:25,530 --> 00:09:32,640
Moscow and you can also see here the

00:09:29,280 --> 00:09:36,480
temperature that happened to be at a

00:09:32,640 --> 00:09:40,140
time while whilst the army was in in

00:09:36,480 --> 00:09:42,510
each different city now this is a great

00:09:40,140 --> 00:09:44,580
great infographic but I think this is a

00:09:42,510 --> 00:09:48,180
perfect example of what the dashboard

00:09:44,580 --> 00:09:51,390
should not be because I don't want to

00:09:48,180 --> 00:09:53,670
spend 15 minutes reading a graph reading

00:09:51,390 --> 00:09:56,910
legend reading description just makes

00:09:53,670 --> 00:09:59,190
sense of the dashboard that completely

00:09:56,910 --> 00:10:03,780
consumes my attention and I can't do

00:09:59,190 --> 00:10:06,810
anything as afterwards one thing the

00:10:03,780 --> 00:10:10,140
previous graph was good at is that it

00:10:06,810 --> 00:10:12,150
gave numbers a visual shape if you take

00:10:10,140 --> 00:10:15,030
those numbers that are really important

00:10:12,150 --> 00:10:17,640
and you try to memorize a field and I

00:10:15,030 --> 00:10:19,890
bet you can't remember more than two

00:10:17,640 --> 00:10:22,650
three four if you have a really good

00:10:19,890 --> 00:10:25,710
short-term memory but give it a visual

00:10:22,650 --> 00:10:28,220
shape and our brain our visual cortex

00:10:25,710 --> 00:10:31,050
can take a snapshot at the graph and

00:10:28,220 --> 00:10:34,560
immediately memorize the whole shape so

00:10:31,050 --> 00:10:39,750
we can hold it 12 14 15 values at one

00:10:34,560 --> 00:10:42,180
time and they're effectively dashboards

00:10:39,750 --> 00:10:44,400
are not analysis tools there are

00:10:42,180 --> 00:10:46,290
analytics dashboards but monitoring

00:10:44,400 --> 00:10:49,080
dashboards are not analytics tools so

00:10:46,290 --> 00:10:51,810
when we cram them with tons of data like

00:10:49,080 --> 00:10:54,390
like this these are in this example all

00:10:51,810 --> 00:10:58,050
I'm reminded of is something like these

00:10:54,390 --> 00:11:00,660
and I'm overwhelmed by a sense of doom

00:10:58,050 --> 00:11:02,490
and despair and I think I'm never gonna

00:11:00,660 --> 00:11:04,260
be able to understand this stuff and I'm

00:11:02,490 --> 00:11:04,800
gonna die and don't want to I'm too

00:11:04,260 --> 00:11:09,510
young for that

00:11:04,800 --> 00:11:12,360
so I think that we need to really

00:11:09,510 --> 00:11:15,080
understand what we don't need the heat

00:11:12,360 --> 00:11:17,430
we don't need to analyze things in

00:11:15,080 --> 00:11:21,450
monitoring dashboards are there only

00:11:17,430 --> 00:11:25,470
exists to answer one question one simple

00:11:21,450 --> 00:11:28,800
question is everything right is there

00:11:25,470 --> 00:11:31,590
any issue now the see you later so

00:11:28,800 --> 00:11:34,050
that's all the basic function of monitor

00:11:31,590 --> 00:11:36,320
graph is there to tell us everything is

00:11:34,050 --> 00:11:39,840
fine or no actually there is a problem

00:11:36,320 --> 00:11:42,750
with otherwise a complex dashboard can

00:11:39,840 --> 00:11:45,150
freeze a lot of fatigue in our brain so

00:11:42,750 --> 00:11:47,580
it depletes the final capacity for

00:11:45,150 --> 00:11:49,020
attention that we might have and we no

00:11:47,580 --> 00:11:53,630
longer have it when when we're living

00:11:49,020 --> 00:11:57,390
limit needed so in order to preserve

00:11:53,630 --> 00:12:01,620
attention our brain press plays all sort

00:11:57,390 --> 00:12:03,780
of tricks on Harper mind so take it is a

00:12:01,620 --> 00:12:07,500
question for instance it's a brain

00:12:03,780 --> 00:12:10,200
teaser and it's not particularly

00:12:07,500 --> 00:12:12,420
difficult but especially if we are tired

00:12:10,200 --> 00:12:15,660
like now after two days of a listen to

00:12:12,420 --> 00:12:19,860
people talking all our brain is actually

00:12:15,660 --> 00:12:24,600
reading is 555 on under the answer must

00:12:19,860 --> 00:12:27,690
be 100 now of course so what happens

00:12:24,600 --> 00:12:30,770
here is that the intuition is suggesting

00:12:27,690 --> 00:12:35,040
an answer which is not always correct

00:12:30,770 --> 00:12:38,490
and of course our the system to the our

00:12:35,040 --> 00:12:41,490
capacity for attention can reject the

00:12:38,490 --> 00:12:45,720
answer that was given by system one by

00:12:41,490 --> 00:12:48,090
faster thinking you can really spend

00:12:45,720 --> 00:12:50,790
some of the final capacity and work out

00:12:48,090 --> 00:12:54,600
that the correct analysis the correct

00:12:50,790 --> 00:12:57,660
answer is actually fine but our

00:12:54,600 --> 00:13:02,550
attention is often lazy so it often

00:12:57,660 --> 00:13:06,720
endorses a heuristic answer that in an

00:13:02,550 --> 00:13:09,720
instant come up with comes up with so

00:13:06,720 --> 00:13:13,980
what happens there whenever we're tired

00:13:09,720 --> 00:13:16,290
our brain tends to swap out a difficult

00:13:13,980 --> 00:13:18,990
question a difficult task for an easier

00:13:16,290 --> 00:13:22,740
one it applies a heuristic there is an

00:13:18,990 --> 00:13:24,610
optimistic way a cheaper way or getting

00:13:22,740 --> 00:13:28,139
a result

00:13:24,610 --> 00:13:33,449
so whenever I see something like these a

00:13:28,139 --> 00:13:37,179
dashboard full of graphs and maybe

00:13:33,449 --> 00:13:39,730
covered in tiny little text my brain can

00:13:37,179 --> 00:13:42,699
my brain can decide what to do you can

00:13:39,730 --> 00:13:45,910
either spend somebody find the capacity

00:13:42,699 --> 00:13:49,529
or use it up to figure it out and

00:13:45,910 --> 00:13:54,069
actually understand what's going on or

00:13:49,529 --> 00:13:56,290
if we are lazy it can choose to take to

00:13:54,069 --> 00:13:59,470
swap out the difficult task for an easy

00:13:56,290 --> 00:14:01,660
one like thinking whether I can give the

00:13:59,470 --> 00:14:06,189
guy who created this dashboard a book on

00:14:01,660 --> 00:14:07,839
usability what about these dashboards it

00:14:06,189 --> 00:14:10,239
said why can't we create these kind of

00:14:07,839 --> 00:14:10,720
dashboards it requires not tension

00:14:10,239 --> 00:14:14,170
whatsoever

00:14:10,720 --> 00:14:16,660
we immediately see the green color

00:14:14,170 --> 00:14:19,329
they're big that's what happens now

00:14:16,660 --> 00:14:21,970
that's the e3 in the past hour and then

00:14:19,329 --> 00:14:24,269
down below with a decreasing sizes we

00:14:21,970 --> 00:14:27,279
have the history so we can also relate

00:14:24,269 --> 00:14:30,879
now to a few minutes ago over a few

00:14:27,279 --> 00:14:33,790
hours ago these requires not tension

00:14:30,879 --> 00:14:37,809
these is like in our intuition we do all

00:14:33,790 --> 00:14:41,259
the work is so much more effective and

00:14:37,809 --> 00:14:45,149
in order to make sense to us information

00:14:41,259 --> 00:14:48,790
also needs to be organized appropriately

00:14:45,149 --> 00:14:52,509
and again we should think who the user

00:14:48,790 --> 00:14:55,049
is it's a person it's not a machine

00:14:52,509 --> 00:14:58,299
so again instead of organizing

00:14:55,049 --> 00:14:59,980
dashboards and graphs in a dashboard by

00:14:58,299 --> 00:15:03,249
the means of production instead of

00:14:59,980 --> 00:15:06,429
making the machines life easier by

00:15:03,249 --> 00:15:09,549
grouping all the dashboards by the tool

00:15:06,429 --> 00:15:13,779
that were used to drag those graphs we

00:15:09,549 --> 00:15:16,509
could make our life easier and instead

00:15:13,779 --> 00:15:20,019
we could organize information by context

00:15:16,509 --> 00:15:23,169
by the service that actually makes sense

00:15:20,019 --> 00:15:26,589
to us as users of the platform of the

00:15:23,169 --> 00:15:29,499
system so whenever there is a problem

00:15:26,589 --> 00:15:33,579
our dashboard should alert us on which

00:15:29,499 --> 00:15:35,949
problem is under trouble and then we

00:15:33,579 --> 00:15:37,059
have all the information there to

00:15:35,949 --> 00:15:38,949
analyze the

00:15:37,059 --> 00:15:40,809
the problem it could be badly it could

00:15:38,949 --> 00:15:43,599
be item in transactions it could be

00:15:40,809 --> 00:15:46,779
locking at that point we don't need to

00:15:43,599 --> 00:15:49,959
look at ten different graphs in ten

00:15:46,779 --> 00:15:52,749
different locations it's all there we

00:15:49,959 --> 00:15:56,649
could even go as far as adding some

00:15:52,749 --> 00:15:58,709
ancillary information to the other view

00:15:56,649 --> 00:16:02,399
that I showed a couple slides ago

00:15:58,709 --> 00:16:05,529
because that's useful to our brain to

00:16:02,399 --> 00:16:10,989
remember what happened in conjunction

00:16:05,529 --> 00:16:14,049
with certain events they are mistake we

00:16:10,989 --> 00:16:15,039
often make is we don't let information

00:16:14,049 --> 00:16:17,679
speak for itself

00:16:15,039 --> 00:16:21,039
we don't display it information in its

00:16:17,679 --> 00:16:24,399
simplest terms so we need to have

00:16:21,039 --> 00:16:26,889
embellishments of all sorts to to steal

00:16:24,399 --> 00:16:29,469
attention I mean this is a classic

00:16:26,889 --> 00:16:32,499
example example isn't it beautiful

00:16:29,469 --> 00:16:35,769
it's a speedometer reminds of reminds us

00:16:32,499 --> 00:16:39,459
of a cool car and it has all sort of not

00:16:35,769 --> 00:16:40,449
a thing spike a tidy effect glass

00:16:39,459 --> 00:16:44,249
perfection

00:16:40,449 --> 00:16:49,209
it has bouncing needle so it looks real

00:16:44,249 --> 00:16:51,399
so we think about stuff we can add to

00:16:49,209 --> 00:16:54,069
this this thing just to make a bathroom

00:16:51,399 --> 00:16:59,829
battery looks even better so a point we

00:16:54,069 --> 00:17:04,539
probably go a bit overboard so this kind

00:16:59,829 --> 00:17:06,579
of a scheme Oracle dashboards are a bit

00:17:04,539 --> 00:17:09,429
pointless because they steal attention

00:17:06,579 --> 00:17:12,159
from the data from the information

00:17:09,429 --> 00:17:14,919
this looks pretty no without the bacon

00:17:12,159 --> 00:17:16,299
maybe looks pretty but it doesn't tell

00:17:14,919 --> 00:17:19,269
us anything

00:17:16,299 --> 00:17:25,139
not only until we go beyond the shiny

00:17:19,269 --> 00:17:29,259
things pie charts on our peeve of mine

00:17:25,139 --> 00:17:31,720
they they are difficult to understand

00:17:29,259 --> 00:17:35,830
why because our brain can't really

00:17:31,720 --> 00:17:39,269
compare round shapes as easily as square

00:17:35,830 --> 00:17:43,169
shapes so it's difficult for us to

00:17:39,269 --> 00:17:47,619
understand who is taking the most of

00:17:43,169 --> 00:17:50,110
that single resource and especially if

00:17:47,619 --> 00:17:50,650
we apply other embellishments like a 3d

00:17:50,110 --> 00:17:52,780
shape

00:17:50,650 --> 00:17:54,520
then we distort information which is the

00:17:52,780 --> 00:17:56,710
worst thing we could do because we

00:17:54,520 --> 00:18:00,340
distort the value of the data and we

00:17:56,710 --> 00:18:03,490
sacrifice accuracy for just a static

00:18:00,340 --> 00:18:06,520
appeal this could be replaced by a bar

00:18:03,490 --> 00:18:10,330
chart takes up about the same space on

00:18:06,520 --> 00:18:14,620
screen and it's actually easy to sort

00:18:10,330 --> 00:18:19,420
and compare the values anyway back to

00:18:14,620 --> 00:18:22,320
our friend our brain as I mentioned our

00:18:19,420 --> 00:18:26,920
main mind plays all sort of tricks to

00:18:22,320 --> 00:18:31,150
conserve attention so let's learn one or

00:18:26,920 --> 00:18:34,630
two things about the brain the first

00:18:31,150 --> 00:18:37,330
fact is our machine is our brain is a

00:18:34,630 --> 00:18:40,420
machine for jumping to conclusions even

00:18:37,330 --> 00:18:43,930
where there is very little evidence then

00:18:40,420 --> 00:18:48,460
we fabricate stories we fill the gaps

00:18:43,930 --> 00:18:50,800
and we tend to create a full picture

00:18:48,460 --> 00:18:53,890
even if we don't have all the elements

00:18:50,800 --> 00:18:56,400
to judge what's going on take this

00:18:53,890 --> 00:19:02,740
example what would your even first line

00:18:56,400 --> 00:19:04,390
ABC second line 12 13 14 and unless we

00:19:02,740 --> 00:19:07,210
really pay attention we don't even see

00:19:04,390 --> 00:19:11,260
that a piece of information up there is

00:19:07,210 --> 00:19:13,780
at least ambiguous an example if we read

00:19:11,260 --> 00:19:16,750
something like these and approach the

00:19:13,780 --> 00:19:19,030
bank the society we live in kind of

00:19:16,750 --> 00:19:21,460
primes our brain into thinking about

00:19:19,030 --> 00:19:23,020
this woman who is a businesswoman as

00:19:21,460 --> 00:19:28,000
she's going to the bank to make a

00:19:23,020 --> 00:19:31,990
deposit or to sign a contract for

00:19:28,000 --> 00:19:34,390
mortgage and not from one minute we

00:19:31,990 --> 00:19:37,840
think that maybe it could be another

00:19:34,390 --> 00:19:40,230
kind of Bank maybe she's a on a boat and

00:19:37,840 --> 00:19:42,730
she's approaching the bank of river so

00:19:40,230 --> 00:19:45,250
as you can see our brain is very good

00:19:42,730 --> 00:19:50,530
making up things and creating context

00:19:45,250 --> 00:19:52,420
even when it's not complete so how so

00:19:50,530 --> 00:19:54,970
this is where our brain can really bite

00:19:52,420 --> 00:19:58,180
us this is an example of something that

00:19:54,970 --> 00:20:01,720
happened in production it was a while

00:19:58,180 --> 00:20:03,850
ago each of those lines represents the

00:20:01,720 --> 00:20:06,010
throughput of a single server and we

00:20:03,850 --> 00:20:10,630
summer Knowles processing the same kind

00:20:06,010 --> 00:20:14,080
of information at one point we added the

00:20:10,630 --> 00:20:16,800
cliff and the conclusion from this graph

00:20:14,080 --> 00:20:20,230
is we're losing the data we are screwed

00:20:16,800 --> 00:20:23,830
this is all information we have we know

00:20:20,230 --> 00:20:25,870
what's happening right now luckily for

00:20:23,830 --> 00:20:28,810
us this was not the only formation we

00:20:25,870 --> 00:20:30,430
had we could compare from the

00:20:28,810 --> 00:20:32,560
information given by this graph with

00:20:30,430 --> 00:20:36,280
other graphs like system load on the

00:20:32,560 --> 00:20:38,710
server's the throughput at Network level

00:20:36,280 --> 00:20:42,940
between different hosts and there

00:20:38,710 --> 00:20:46,840
everything was fine so it happened that

00:20:42,940 --> 00:20:50,290
the statistics server rebooted and when

00:20:46,840 --> 00:20:53,350
it came up again he didn't bring up the

00:20:50,290 --> 00:20:56,800
network interface that was a team to

00:20:53,350 --> 00:20:59,800
receive the events so again this is an

00:20:56,800 --> 00:21:02,130
example of a conclusion make based on

00:20:59,800 --> 00:21:05,170
limit information that can be wrong

00:21:02,130 --> 00:21:07,990
luckily for us this was a case where we

00:21:05,170 --> 00:21:10,060
were wrong so without the ability of

00:21:07,990 --> 00:21:14,020
analyzing data under multiple

00:21:10,060 --> 00:21:17,070
perspective we can miss out we can skip

00:21:14,020 --> 00:21:20,620
we can lose the minimal information that

00:21:17,070 --> 00:21:21,850
comes from horizon data from different

00:21:20,620 --> 00:21:24,550
facets different views and different

00:21:21,850 --> 00:21:26,350
perspectives and maybe there is only one

00:21:24,550 --> 00:21:28,170
of them only one of those perspectives

00:21:26,350 --> 00:21:33,040
that actually makes sense

00:21:28,170 --> 00:21:35,200
so an easy way of cross-referencing two

00:21:33,040 --> 00:21:37,510
different kinds of information or at

00:21:35,200 --> 00:21:40,090
least two different views over the same

00:21:37,510 --> 00:21:42,880
data is a crosstab like this one so you

00:21:40,090 --> 00:21:49,980
can analyze the graph vertically by

00:21:42,880 --> 00:21:49,980
service or horizontally by resource

00:21:52,330 --> 00:21:58,660
by the way in order to jump to

00:21:55,090 --> 00:22:01,150
conclusions our brain sometimes doesn't

00:21:58,660 --> 00:22:04,000
need any evidence at all not even a

00:22:01,150 --> 00:22:09,400
shred of it all it takes is a little

00:22:04,000 --> 00:22:12,280
bias so information we have based on

00:22:09,400 --> 00:22:15,370
previous experiences based on emotions

00:22:12,280 --> 00:22:18,280
they are related to something so taking

00:22:15,370 --> 00:22:20,230
for instance programming languages we

00:22:18,280 --> 00:22:23,980
might have a very high opinion of C++

00:22:20,230 --> 00:22:27,250
code as a fast efficient rock-solid and

00:22:23,980 --> 00:22:29,500
maybe Java can only remind us of null

00:22:27,250 --> 00:22:33,010
pointer exceptions garbage collections

00:22:29,500 --> 00:22:37,390
or what neither nightmare so if we end

00:22:33,010 --> 00:22:39,970
up having a pipeline that is inside is a

00:22:37,390 --> 00:22:40,920
form by different components written in

00:22:39,970 --> 00:22:44,440
different languages

00:22:40,920 --> 00:22:47,410
whenever the pipeline as a whole doesn't

00:22:44,440 --> 00:22:49,630
do its work then we jump to the

00:22:47,410 --> 00:22:52,060
conclusion that it must be different

00:22:49,630 --> 00:22:54,880
languages in the component written in

00:22:52,060 --> 00:22:58,980
pure language so we use our bias to

00:22:54,880 --> 00:23:04,110
decide what what is we like real reality

00:22:58,980 --> 00:23:04,110
so we failed to look at evidence first

00:23:04,900 --> 00:23:13,210
as I showed you our brain is really good

00:23:08,080 --> 00:23:15,820
at creating associations and I want to

00:23:13,210 --> 00:23:19,240
run an experiment with you I'm gonna

00:23:15,820 --> 00:23:22,060
show in the next slide a word I want you

00:23:19,240 --> 00:23:24,100
to say this would a word where one

00:23:22,060 --> 00:23:28,950
letter is missing and what you to say

00:23:24,100 --> 00:23:28,950
the entire word okay you ready

00:23:31,309 --> 00:23:37,620
everyone's had almost every one set of

00:23:33,779 --> 00:23:40,470
soap and we almost fail to see that

00:23:37,620 --> 00:23:44,100
there are at least like three words slap

00:23:40,470 --> 00:23:46,799
snap or swap that could Phoebe fully get

00:23:44,100 --> 00:23:47,970
videos so again what happened here well

00:23:46,799 --> 00:23:51,659
I played a trick on you

00:23:47,970 --> 00:23:55,669
I showed a word which is wash before the

00:23:51,659 --> 00:23:57,480
experiment the prime deal into making a

00:23:55,669 --> 00:24:00,539
correlation with the other words that

00:23:57,480 --> 00:24:02,070
were possible in our brain given is

00:24:00,539 --> 00:24:04,860
really good at creating this kind of

00:24:02,070 --> 00:24:08,250
Association associations discarded all

00:24:04,860 --> 00:24:15,000
the other options that hadn't a strong

00:24:08,250 --> 00:24:18,169
link like wash and soap so we use this

00:24:15,000 --> 00:24:21,809
tension for pattern matching how can we

00:24:18,169 --> 00:24:25,889
exploit these inner ability of our brain

00:24:21,809 --> 00:24:28,740
to help us doing a better job when we

00:24:25,889 --> 00:24:31,850
monitor systems well we should really

00:24:28,740 --> 00:24:34,620
use this capacity that we have is a

00:24:31,850 --> 00:24:37,200
natural capacity so we we should use

00:24:34,620 --> 00:24:38,519
conventions like the sentiment

00:24:37,200 --> 00:24:42,179
associated with colors

00:24:38,519 --> 00:24:44,039
bringing good red bad or familiarity

00:24:42,179 --> 00:24:47,519
with shade with certain shapes that

00:24:44,039 --> 00:24:53,340
remind remind us of very specific things

00:24:47,519 --> 00:24:56,279
or even sounds they evoke emotions so as

00:24:53,340 --> 00:25:00,210
an example of a shape that evokes an

00:24:56,279 --> 00:25:03,269
emotion take this graph whenever we see

00:25:00,210 --> 00:25:07,700
our moisture dashboard filled with a

00:25:03,269 --> 00:25:12,450
very tall graph and very spiky kind of a

00:25:07,700 --> 00:25:16,940
wave there then we we get scared with

00:25:12,450 --> 00:25:20,460
panic we think everything is on fire and

00:25:16,940 --> 00:25:24,269
most of the times we do so unnecessarily

00:25:20,460 --> 00:25:28,500
because what we do is we simply forget

00:25:24,269 --> 00:25:32,460
to normalize the data so if the data is

00:25:28,500 --> 00:25:34,500
quite flat it's not very spiky it can

00:25:32,460 --> 00:25:38,730
fill the screen because the dashboard

00:25:34,500 --> 00:25:40,549
tools usually by default maximize the

00:25:38,730 --> 00:25:43,680
shape on the screen on the available

00:25:40,549 --> 00:25:46,590
real estate so

00:25:43,680 --> 00:25:48,560
these shape evokes a very different

00:25:46,590 --> 00:25:51,780
different emotion from the previous one

00:25:48,560 --> 00:25:55,110
these shapes tells us okay there is

00:25:51,780 --> 00:25:58,110
plenty of headroom everything is fine so

00:25:55,110 --> 00:26:00,480
in the previous case we woke up our

00:25:58,110 --> 00:26:05,460
tension we consumed some Oh defined

00:26:00,480 --> 00:26:08,370
capacity for nothing now we've seen

00:26:05,460 --> 00:26:13,200
things that our mind plays to conserve

00:26:08,370 --> 00:26:15,690
attention so let's see some other

00:26:13,200 --> 00:26:18,810
examples on how we can rely on our

00:26:15,690 --> 00:26:21,600
intuition to constantly monitor what's

00:26:18,810 --> 00:26:24,810
happening in the background and actually

00:26:21,600 --> 00:26:28,170
a conservative tension for when we need

00:26:24,810 --> 00:26:30,950
it on a more practical note when talking

00:26:28,170 --> 00:26:33,860
about real-time monitoring

00:26:30,950 --> 00:26:38,100
just a mention of your tools we can use

00:26:33,860 --> 00:26:39,540
twelve hours of course it's important to

00:26:38,100 --> 00:26:41,910
have an arsenal of different tools

00:26:39,540 --> 00:26:44,160
because we have things that are

00:26:41,910 --> 00:26:47,160
specialized for a certain domain we have

00:26:44,160 --> 00:26:49,410
very good network monitoring tools we

00:26:47,160 --> 00:26:52,470
have a very good system load of

00:26:49,410 --> 00:26:56,040
monitoring tools we have application

00:26:52,470 --> 00:27:01,830
metrics we can use or use a business

00:26:56,040 --> 00:27:04,320
rules that we can measure and let's not

00:27:01,830 --> 00:27:08,870
forget about unconventional ways of

00:27:04,320 --> 00:27:08,870
alertness they are really effective

00:27:12,380 --> 00:27:16,549
getting started with international

00:27:14,900 --> 00:27:19,130
instrumentation is really easy

00:27:16,549 --> 00:27:20,840
there are even EVMS you can download and

00:27:19,130 --> 00:27:23,360
they are prepackaged that they come with

00:27:20,840 --> 00:27:25,580
all sorts of monitoring tools you can

00:27:23,360 --> 00:27:28,700
already use they are ready ready to be

00:27:25,580 --> 00:27:31,220
used data see if we are quite happy with

00:27:28,700 --> 00:27:35,510
a two of them in particular which are

00:27:31,220 --> 00:27:40,250
study anger fight that's D is a demon

00:27:35,510 --> 00:27:42,620
created Etsy to send a lot of events in

00:27:40,250 --> 00:27:45,260
a non-blocking mode via UDP so it's very

00:27:42,620 --> 00:27:48,200
cheap to throw a lot of those designs

00:27:45,260 --> 00:27:50,270
and provide is a library to collect

00:27:48,200 --> 00:27:52,419
those metrics and display them in a

00:27:50,270 --> 00:27:56,000
graphical way and then analyze the data

00:27:52,419 --> 00:27:58,280
stare very easy to to generate those

00:27:56,000 --> 00:28:00,549
emails and we can have a different event

00:27:58,280 --> 00:28:04,100
start it types of designs one is a

00:28:00,549 --> 00:28:06,770
simple counter or an absolute value and

00:28:04,100 --> 00:28:11,299
the other one is a timing information so

00:28:06,770 --> 00:28:15,380
these two metric types alone cover most

00:28:11,299 --> 00:28:19,669
of the our needs to help us we should

00:28:15,380 --> 00:28:22,400
also remember that it's a good to

00:28:19,669 --> 00:28:25,280
structure the namespace to give a

00:28:22,400 --> 00:28:27,620
hierarchy to the matrix the names of

00:28:25,280 --> 00:28:31,460
each metric so it's easier to navigate

00:28:27,620 --> 00:28:34,940
them and retrieve them later and this is

00:28:31,460 --> 00:28:36,770
the an example of a graphite output so

00:28:34,940 --> 00:28:39,470
it's a graph we can compare different

00:28:36,770 --> 00:28:42,799
values on the same screen we can apply

00:28:39,470 --> 00:28:44,390
functions to reach them we can create

00:28:42,799 --> 00:28:46,970
different moving average is a

00:28:44,390 --> 00:28:48,980
differential all sort of things so it's

00:28:46,970 --> 00:28:51,409
really really easy point-and-click and

00:28:48,980 --> 00:28:55,220
off you go you can a stretch graph

00:28:51,409 --> 00:28:58,100
compress it was really really easy I'm

00:28:55,220 --> 00:29:00,710
going to open up I'm disease on a common

00:28:58,100 --> 00:29:05,929
mistake we make when looking at real

00:29:00,710 --> 00:29:08,840
time matrix and this is all due to this

00:29:05,929 --> 00:29:11,780
shape we are very familiar with this

00:29:08,840 --> 00:29:14,750
shape it's a bell curve it appears all

00:29:11,780 --> 00:29:18,200
over the place in every single possible

00:29:14,750 --> 00:29:21,230
thing you can imagine the distribution

00:29:18,200 --> 00:29:24,650
of the lines is a day often modeled

00:29:21,230 --> 00:29:25,820
after this curve and what this means is

00:29:24,650 --> 00:29:29,690
that

00:29:25,820 --> 00:29:32,210
the majority advance is clustering

00:29:29,690 --> 00:29:34,490
around the center of the curve and then

00:29:32,210 --> 00:29:37,220
we have a two long tails before and

00:29:34,490 --> 00:29:41,000
after where we have a lot less events

00:29:37,220 --> 00:29:44,480
that happened there so we might make the

00:29:41,000 --> 00:29:47,330
mistake of ignoring the two sides and

00:29:44,480 --> 00:29:50,060
only focusing on the center so all we do

00:29:47,330 --> 00:29:53,270
is we think about the average value and

00:29:50,060 --> 00:29:54,740
that's all we see it slightly but the

00:29:53,270 --> 00:29:58,280
way you would look at this curve would

00:29:54,740 --> 00:30:01,850
be to analyze the standard deviation

00:29:58,280 --> 00:30:06,620
between the average and the current

00:30:01,850 --> 00:30:08,540
value so if it if it fits the first area

00:30:06,620 --> 00:30:12,140
within one standard deviation of the

00:30:08,540 --> 00:30:15,380
mean then that means that 30% of the

00:30:12,140 --> 00:30:17,560
values fit in this video so if we are

00:30:15,380 --> 00:30:19,910
multiple latency for instance it means

00:30:17,560 --> 00:30:24,110
33% of alternative transactions are

00:30:19,910 --> 00:30:26,270
within that latency two times the

00:30:24,110 --> 00:30:28,820
standard deviation is already over the

00:30:26,270 --> 00:30:30,410
majority and finally we have outliers

00:30:28,820 --> 00:30:32,390
outside two times three standard

00:30:30,410 --> 00:30:37,520
deviation so that's where we should

00:30:32,390 --> 00:30:41,930
focus a when I create an alert however

00:30:37,520 --> 00:30:44,150
in real life these barely happens what

00:30:41,930 --> 00:30:46,750
the real distribution in most cases

00:30:44,150 --> 00:30:50,180
looks more like this so we have a

00:30:46,750 --> 00:30:53,110
limited number of events at transactions

00:30:50,180 --> 00:30:56,290
that happen really really quickly

00:30:53,110 --> 00:30:59,510
usually because we have cached values or

00:30:56,290 --> 00:31:02,660
because we have failure and usually we

00:30:59,510 --> 00:31:05,210
fail fast and then we have a very long

00:31:02,660 --> 00:31:08,420
tail of other events to happen most

00:31:05,210 --> 00:31:11,380
lowly so what is a quite obvious from

00:31:08,420 --> 00:31:14,920
this graph is that the average looks

00:31:11,380 --> 00:31:18,920
actually faster than most transactions

00:31:14,920 --> 00:31:23,750
so this is where we should pay a little

00:31:18,920 --> 00:31:25,700
bit and attention so average per cell

00:31:23,750 --> 00:31:29,090
doesn't give you any idea about

00:31:25,700 --> 00:31:29,920
distribution so my suggestion is almost

00:31:29,090 --> 00:31:33,650
to ignore it

00:31:29,920 --> 00:31:36,710
instead monitor a bomb just like the

00:31:33,650 --> 00:31:38,100
50th and the ninth 90th percentile maybe

00:31:36,710 --> 00:31:40,799
00:31:38,100 --> 00:31:42,830
50 percentile because they give a much

00:31:40,799 --> 00:31:45,870
better idea idea or the distribution

00:31:42,830 --> 00:31:48,480
cell for instance the dark blue area

00:31:45,870 --> 00:31:52,679
means that 50% of your transactions

00:31:48,480 --> 00:31:55,289
happen before 20 milliseconds or

00:31:52,679 --> 00:31:59,450
whatever it value is below that value

00:31:55,289 --> 00:32:02,340
and we have distribution over the other

00:31:59,450 --> 00:32:05,039
transactions that can go up to 200

00:32:02,340 --> 00:32:07,169
milliseconds almost so this is a more

00:32:05,039 --> 00:32:12,120
representative of what happens for real

00:32:07,169 --> 00:32:14,700
and the given the 50th percentage is

00:32:12,120 --> 00:32:17,490
usually more stable than the average is

00:32:14,700 --> 00:32:22,440
also easier to set a threshold on it so

00:32:17,490 --> 00:32:25,740
we can see that we can monitor spikes in

00:32:22,440 --> 00:32:30,929
the 50% percentage and we can spot when

00:32:25,740 --> 00:32:33,210
things go bad as I mentioned earlier our

00:32:30,929 --> 00:32:36,659
brain is really good at the technique

00:32:33,210 --> 00:32:40,070
butters so let's have a look at few

00:32:36,659 --> 00:32:42,870
shapes that we should recognize when we

00:32:40,070 --> 00:32:46,110
work with a real-time systems and see

00:32:42,870 --> 00:32:49,530
whether we recognize them make something

00:32:46,110 --> 00:32:54,270
with that I already mentioned this sort

00:32:49,530 --> 00:32:56,970
of shape and I didn't quite explain what

00:32:54,270 --> 00:32:59,940
happens in this case well what happens

00:32:56,970 --> 00:33:02,159
in this case is first of all if we are

00:32:59,940 --> 00:33:05,630
calm and relaxed we start panicking

00:33:02,159 --> 00:33:09,780
because we see everything on fire then

00:33:05,630 --> 00:33:12,780
once we are with our tension switched on

00:33:09,780 --> 00:33:13,230
we might remember to have a look at the

00:33:12,780 --> 00:33:15,690
baseline

00:33:13,230 --> 00:33:18,360
so we might have a look at a different

00:33:15,690 --> 00:33:22,260
parts and part of the system to see what

00:33:18,360 --> 00:33:25,980
the expected value for this graph should

00:33:22,260 --> 00:33:27,510
be and then we decide whether it was

00:33:25,980 --> 00:33:30,059
appropriate to panic or not

00:33:27,510 --> 00:33:33,000
so instead always remember to normalize

00:33:30,059 --> 00:33:36,980
the data and make the baseline obvious

00:33:33,000 --> 00:33:40,320
so we can see how much Headroom we have

00:33:36,980 --> 00:33:42,570
even better let the Machine determine

00:33:40,320 --> 00:33:45,809
what baseline is or what the baseline

00:33:42,570 --> 00:33:47,970
should be we do also the things with

00:33:45,809 --> 00:33:50,970
machine learning today it's not the

00:33:47,970 --> 00:33:51,840
difficult to analyze topic analyze

00:33:50,970 --> 00:33:53,730
latest

00:33:51,840 --> 00:33:56,220
see and is different things and the

00:33:53,730 --> 00:33:58,890
create a model of what normal should be

00:33:56,220 --> 00:34:04,559
and alert when normality is no longer

00:33:58,890 --> 00:34:07,890
true of course not all kinds of metrics

00:34:04,559 --> 00:34:11,369
have can have a linear threshold so your

00:34:07,890 --> 00:34:12,810
website might have visitors that come to

00:34:11,369 --> 00:34:17,810
your site different types of the day

00:34:12,810 --> 00:34:20,369
maybe the the traffic is a higher

00:34:17,810 --> 00:34:25,649
highest in the morning or just after

00:34:20,369 --> 00:34:28,770
lunch and then it goes down for a during

00:34:25,649 --> 00:34:31,230
the night so what we would like to have

00:34:28,770 --> 00:34:34,889
is some kind of system that can create

00:34:31,230 --> 00:34:38,879
this snake like shape around what's good

00:34:34,889 --> 00:34:43,320
so we are still able to detect spikes

00:34:38,879 --> 00:34:45,000
they are not normal but it's obvious

00:34:43,320 --> 00:34:47,460
that it's not easy to create those

00:34:45,000 --> 00:34:50,010
shapes because even if the pattern is

00:34:47,460 --> 00:34:52,919
more or less the same every day it's not

00:34:50,010 --> 00:34:56,129
exactly the same every day so there is a

00:34:52,919 --> 00:34:58,200
little trick you can play with a fight

00:34:56,129 --> 00:35:00,660
you apply one single function to your

00:34:58,200 --> 00:35:03,839
data its derivative and that will

00:35:00,660 --> 00:35:06,390
effectively flatten your curve and then

00:35:03,839 --> 00:35:08,010
it's much easier to set a band there

00:35:06,390 --> 00:35:10,710
that you can consider normality and

00:35:08,010 --> 00:35:14,010
everything that is outside this band

00:35:10,710 --> 00:35:20,010
then can be triggered as an alert

00:35:14,010 --> 00:35:23,160
because if an anomaly as an example of

00:35:20,010 --> 00:35:26,700
the need to cross-reference different

00:35:23,160 --> 00:35:31,260
views over the same data here it is this

00:35:26,700 --> 00:35:35,190
is again the traffic on each node on our

00:35:31,260 --> 00:35:38,190
platform server node by node what you

00:35:35,190 --> 00:35:42,599
might not have spotted is that one node

00:35:38,190 --> 00:35:45,500
at one point went away because these

00:35:42,599 --> 00:35:49,170
this graph is very useful to give us

00:35:45,500 --> 00:35:50,820
another view of the overall traffic but

00:35:49,170 --> 00:35:53,820
it's not very good at telling us what's

00:35:50,820 --> 00:35:56,130
happening in each single node so we can

00:35:53,820 --> 00:35:58,680
have a different view where we simply

00:35:56,130 --> 00:36:00,359
draw a line for each node traffic

00:35:58,680 --> 00:36:03,589
generator on each node and we can

00:36:00,359 --> 00:36:05,490
immediately see when one a ban is not

00:36:03,589 --> 00:36:10,890
overlapping the others as

00:36:05,490 --> 00:36:15,390
Jude and I are after you might recognize

00:36:10,890 --> 00:36:18,090
if you've done some audio editing if

00:36:15,390 --> 00:36:21,090
these when some values look like they

00:36:18,090 --> 00:36:24,450
are clipped so you see like a flat area

00:36:21,090 --> 00:36:26,790
and this is usually happens when the

00:36:24,450 --> 00:36:30,240
resource you're trying to use is

00:36:26,790 --> 00:36:33,360
exhausted saturated or it could mean

00:36:30,240 --> 00:36:35,490
that there is timeout so after that

00:36:33,360 --> 00:36:35,940
point your application is not respond

00:36:35,490 --> 00:36:40,320
anymore

00:36:35,940 --> 00:36:44,940
so no shape you should learn to acquire

00:36:40,320 --> 00:36:47,250
as a intuitive and finally we can see

00:36:44,940 --> 00:36:50,640
here another kind of traffic that is

00:36:47,250 --> 00:36:52,650
quite common as well we might see spikes

00:36:50,640 --> 00:36:55,770
that happened more or less at the same

00:36:52,650 --> 00:36:57,510
time day after day and the first thing

00:36:55,770 --> 00:37:01,830
to do in this case is to look at your

00:36:57,510 --> 00:37:04,890
cron jobs okay so one last example I

00:37:01,830 --> 00:37:08,040
want to pull everything I said so far

00:37:04,890 --> 00:37:10,650
together and I want to show you a great

00:37:08,040 --> 00:37:14,460
way of creating dashboards my own

00:37:10,650 --> 00:37:18,030
dashboards that perfectly respond to the

00:37:14,460 --> 00:37:21,570
question we had before so who is the

00:37:18,030 --> 00:37:24,510
target humans not machines and how we

00:37:21,570 --> 00:37:27,600
can make our life easier to understand

00:37:24,510 --> 00:37:31,859
what's going on without using up too

00:37:27,600 --> 00:37:35,490
much of our attention we know heat maps

00:37:31,859 --> 00:37:38,850
they are usually applied to geographical

00:37:35,490 --> 00:37:41,640
context or we think about eye tracking

00:37:38,850 --> 00:37:44,820
software on a webpage but there are

00:37:41,640 --> 00:37:48,359
other types of heat maps like these ones

00:37:44,820 --> 00:37:51,510
I showed you one earlier that are very

00:37:48,359 --> 00:37:54,119
very effective so color coding would

00:37:51,510 --> 00:37:57,119
have the health of the system mins after

00:37:54,119 --> 00:37:59,790
minute hour after hour is a great way of

00:37:57,119 --> 00:38:01,859
a immediately seeing the state of the

00:37:59,790 --> 00:38:04,200
platform as a whole without requiring

00:38:01,859 --> 00:38:06,510
any attention we can just go a the the

00:38:04,200 --> 00:38:08,720
graph okay all fine I'll carry on with

00:38:06,510 --> 00:38:12,150
whatever I was doing

00:38:08,720 --> 00:38:15,170
but we can also use a different kind of

00:38:12,150 --> 00:38:19,180
a heat map in this case this is a

00:38:15,170 --> 00:38:22,089
picture of our old networking gear so

00:38:19,180 --> 00:38:25,750
how the switches and the routers were

00:38:22,089 --> 00:38:28,059
connected and we can use some tools to

00:38:25,750 --> 00:38:31,000
make those lines representing the

00:38:28,059 --> 00:38:33,460
traffic between em two nulls alive so

00:38:31,000 --> 00:38:36,930
they constantly tell us the state of

00:38:33,460 --> 00:38:40,930
those links are they overloaded or not

00:38:36,930 --> 00:38:43,480
this is a more recent picture of our

00:38:40,930 --> 00:38:45,640
network we have to upgrade to thinking a

00:38:43,480 --> 00:38:48,910
bit links and very very fast switches

00:38:45,640 --> 00:38:51,130
and again this is a quite helpful

00:38:48,910 --> 00:38:53,079
because the toughest traffic is

00:38:51,130 --> 00:38:55,839
color-coded and we see when there is a

00:38:53,079 --> 00:38:58,569
bottleneck between any two nodes but

00:38:55,839 --> 00:39:01,270
this is nice and dandy but it's not

00:38:58,569 --> 00:39:06,130
enough because it doesn't give us any

00:39:01,270 --> 00:39:08,470
context apart from bandwidth so there is

00:39:06,130 --> 00:39:11,559
a nice tool called a cacti which is

00:39:08,470 --> 00:39:15,839
actually a horrible tool but can be used

00:39:11,559 --> 00:39:19,030
in a nice way to monitor data that is a

00:39:15,839 --> 00:39:21,730
sort of network related and there is a

00:39:19,030 --> 00:39:24,250
PHP plugin called the weather map that

00:39:21,730 --> 00:39:27,490
can be used with in conjunction with

00:39:24,250 --> 00:39:29,740
cacti to give shape whatever shape we

00:39:27,490 --> 00:39:31,839
want to the data that we want to display

00:39:29,740 --> 00:39:34,210
it away pneumatics we are collecting and

00:39:31,839 --> 00:39:36,880
so we can do something like this we can

00:39:34,210 --> 00:39:39,670
have a background image representing our

00:39:36,880 --> 00:39:43,780
architecture our system so all these

00:39:39,670 --> 00:39:46,390
services and we can show again we can

00:39:43,780 --> 00:39:50,440
draw lines between nodes to show

00:39:46,390 --> 00:39:52,750
bandwidth to show latency so we can see

00:39:50,440 --> 00:39:55,809
whether a single augmentation service in

00:39:52,750 --> 00:39:58,780
that case is a timing out or we have a

00:39:55,809 --> 00:40:01,000
queue with a slow per user and sensor

00:39:58,780 --> 00:40:03,010
it's color coded we can emit a spot

00:40:01,000 --> 00:40:05,380
where the problem is not tension

00:40:03,010 --> 00:40:08,710
required we like our visual cortex do

00:40:05,380 --> 00:40:12,730
all the work and this can be used even

00:40:08,710 --> 00:40:17,140
for system load metrics like CPU or

00:40:12,730 --> 00:40:19,299
memory load on a single node or we can

00:40:17,140 --> 00:40:22,030
check if we have a load in the big

00:40:19,299 --> 00:40:25,869
queries or if a disk is running out of

00:40:22,030 --> 00:40:28,869
space so as you can as you can see this

00:40:25,869 --> 00:40:31,630
is an entirely new way of designing

00:40:28,869 --> 00:40:32,539
monitor dashboards I hope you agree it's

00:40:31,630 --> 00:40:35,150
much nice

00:40:32,539 --> 00:40:39,279
away than what the cacti ID photo shows

00:40:35,150 --> 00:40:42,259
us with pointless graphs to conclude

00:40:39,279 --> 00:40:44,989
almost build time I am aware that

00:40:42,259 --> 00:40:47,779
everyone is tired and you know I used up

00:40:44,989 --> 00:40:50,359
whatever was left of your attention I

00:40:47,779 --> 00:40:53,269
just want to cover a quick summary what

00:40:50,359 --> 00:40:56,209
we've seen so information density

00:40:53,269 --> 00:40:56,779
density is of course important but don't

00:40:56,209 --> 00:41:00,619
overdo it

00:40:56,779 --> 00:41:03,679
so keep the the thing is you should use

00:41:00,619 --> 00:41:06,589
colors when it's appropriate to the song

00:41:03,679 --> 00:41:08,150
but not many only use colors to attract

00:41:06,589 --> 00:41:12,109
attention to things that require

00:41:08,150 --> 00:41:14,660
attention simplify things we don't want

00:41:12,109 --> 00:41:16,849
to spend the time analyzing things every

00:41:14,660 --> 00:41:21,049
time we look at dashboard it should be

00:41:16,849 --> 00:41:23,660
emitted they're obvious and then use

00:41:21,049 --> 00:41:26,329
tools that the Machine provides or use

00:41:23,660 --> 00:41:29,119
machine resources to calculate normally

00:41:26,329 --> 00:41:32,119
was normality to modern normality and to

00:41:29,119 --> 00:41:35,239
trigger alerts when those events deviate

00:41:32,119 --> 00:41:38,269
from the norm and appeal to your

00:41:35,239 --> 00:41:40,789
intuition conserve your attention these

00:41:38,269 --> 00:41:42,729
are some references shameless plug

00:41:40,789 --> 00:41:47,469
where higher if you are interested I

00:41:42,729 --> 00:41:47,469
thank you very much for listening so far

00:41:51,590 --> 00:42:02,550
are there any questions yeah hi your

00:41:58,890 --> 00:42:04,380
weather map just a few slides back can

00:42:02,550 --> 00:42:08,790
say cacti yet in the footer it says

00:42:04,380 --> 00:42:12,180
graphite now that the PHP plug in the

00:42:08,790 --> 00:42:15,090
there is a PHP plug-in that can also

00:42:12,180 --> 00:42:18,270
receive data from a bigger file API so

00:42:15,090 --> 00:42:20,940
you can use cacti for network matrix you

00:42:18,270 --> 00:42:22,680
can get everything else from application

00:42:20,940 --> 00:42:25,200
matrix coming from Nick a file API so I

00:42:22,680 --> 00:42:28,500
can use both you can use pneumatics

00:42:25,200 --> 00:42:33,060
coming from die or from graphite all

00:42:28,500 --> 00:42:34,860
right very very powerful yeah that's a

00:42:33,060 --> 00:42:42,480
plugin that a colleague of mine wrote by

00:42:34,860 --> 00:42:45,180
wife yeah when you using the derivative

00:42:42,480 --> 00:42:48,390
form using in graphite to flatten out

00:42:45,180 --> 00:42:49,920
like periodic graphs you mentioned you

00:42:48,390 --> 00:42:52,470
then alerts when there's a deviation

00:42:49,920 --> 00:42:54,830
from from that norm yeah of course you

00:42:52,470 --> 00:42:57,750
what sort of things you use for that

00:42:54,830 --> 00:43:00,810
well at the point you you need to decide

00:42:57,750 --> 00:43:03,300
what your title is so you you need to

00:43:00,810 --> 00:43:04,080
decide what's normal what can be

00:43:03,300 --> 00:43:07,440
considered normal

00:43:04,080 --> 00:43:12,600
so every time you have something

00:43:07,440 --> 00:43:16,020
deviates from the x-axis over a certain

00:43:12,600 --> 00:43:18,420
value twenty milliseconds or fifty

00:43:16,020 --> 00:43:21,660
transactions under connections whatever

00:43:18,420 --> 00:43:25,350
the value you're monitoring is then you

00:43:21,660 --> 00:43:28,410
can decide that that is close to your

00:43:25,350 --> 00:43:31,470
Headroom so you might decide to alert on

00:43:28,410 --> 00:43:33,270
based on specific resource so how would

00:43:31,470 --> 00:43:35,910
you actually let do you have something

00:43:33,270 --> 00:43:39,720
monitoring graphing well you can either

00:43:35,910 --> 00:43:41,880
use graphite to emit the information via

00:43:39,720 --> 00:43:44,640
dpi you can then analyze the numbers a

00:43:41,880 --> 00:43:47,730
perfect use case for this is a kind of

00:43:44,640 --> 00:43:50,550
use or even stock yes yesterday about a

00:43:47,730 --> 00:43:53,220
complex event processing with a class it

00:43:50,550 --> 00:43:55,080
could be a feed into using that kind of

00:43:53,220 --> 00:43:59,400
system so you elaborate information that

00:43:55,080 --> 00:44:02,050
way or you pipe data into xenos where

00:43:59,400 --> 00:44:04,900
you can define all sort of triggers

00:44:02,050 --> 00:44:07,869
alert that way so you define your error

00:44:04,900 --> 00:44:10,060
condition and then you like designers

00:44:07,869 --> 00:44:16,840
triggered if you are using Thanos for a

00:44:10,060 --> 00:44:21,369
similar tool and a question

00:44:16,840 --> 00:44:24,070
yep the beginning of the talk you had a

00:44:21,369 --> 00:44:27,520
photo showing what you described as the

00:44:24,070 --> 00:44:30,550
old data sift dashboards yes I rather TV

00:44:27,520 --> 00:44:32,110
screens you know what they like now did

00:44:30,550 --> 00:44:34,570
I retain any of the sort of things that

00:44:32,110 --> 00:44:38,860
we saw on that yeah there are similar

00:44:34,570 --> 00:44:41,170
they we have just more of them so we

00:44:38,860 --> 00:44:43,180
actually have think eight or ten

00:44:41,170 --> 00:44:45,640
different monitors where we can because

00:44:43,180 --> 00:44:48,100
the platform keeps going so we have more

00:44:45,640 --> 00:44:49,810
and more things to look look after so we

00:44:48,100 --> 00:44:52,210
want to have at least the most important

00:44:49,810 --> 00:44:54,610
metrics dear every time for a quick

00:44:52,210 --> 00:44:56,320
glance so we don't have to look at many

00:44:54,610 --> 00:44:59,530
different tabs and our browse retrieve

00:44:56,320 --> 00:45:02,910
information so they are pretty much the

00:44:59,530 --> 00:45:06,220
same we we also have a specialized

00:45:02,910 --> 00:45:09,270
graphs like the web weather map I just

00:45:06,220 --> 00:45:13,119
showed you for the network links we have

00:45:09,270 --> 00:45:16,420
even information about the health of the

00:45:13,119 --> 00:45:19,030
system after deployments or we are even

00:45:16,420 --> 00:45:22,000
I have a deployment timeline there so we

00:45:19,030 --> 00:45:24,820
can immediately correlate problems to

00:45:22,000 --> 00:45:28,930
certain events so any information that

00:45:24,820 --> 00:45:31,390
can be emitted to the process and can

00:45:28,930 --> 00:45:33,960
help help us may be doing the first step

00:45:31,390 --> 00:45:33,960
analysis

00:45:36,079 --> 00:45:47,359
anyone else yep it's wondering about the

00:45:43,699 --> 00:45:48,979
cascading failures and how that so that

00:45:47,359 --> 00:45:50,809
you might have your one system causing

00:45:48,979 --> 00:45:52,519
alert and it's just cascading but you

00:45:50,809 --> 00:45:54,109
actually only care about the primary

00:45:52,519 --> 00:45:55,579
cause like you have any systems or

00:45:54,109 --> 00:45:57,920
techniques for dealing with that so

00:45:55,579 --> 00:46:01,069
you're just not Pogo boned by that's

00:45:57,920 --> 00:46:02,749
when only one is actually important but

00:46:01,069 --> 00:46:06,829
yes you know I think her for cascading

00:46:02,749 --> 00:46:09,400
error the time component is important so

00:46:06,829 --> 00:46:14,119
and I think we have an hour monitoring

00:46:09,400 --> 00:46:16,910
graph is just a list of events happening

00:46:14,119 --> 00:46:18,679
in the system so a list of failures so

00:46:16,910 --> 00:46:22,390
we can simply go in order

00:46:18,679 --> 00:46:24,799
what what what happened first and the

00:46:22,390 --> 00:46:28,069
focus our attention on the first item

00:46:24,799 --> 00:46:30,859
first sometimes the Divine's don't

00:46:28,069 --> 00:46:33,109
really arrive in the same order but if

00:46:30,859 --> 00:46:36,319
it's not the first in the second and at

00:46:33,109 --> 00:46:39,279
that point our attention is switched on

00:46:36,319 --> 00:46:39,279
and we can figure it out

00:46:43,140 --> 00:46:49,920
one last question or beer time

00:46:50,520 --> 00:46:55,500
yeah I guess that's it thank you very

00:46:52,750 --> 00:46:55,500
much yes

00:47:06,260 --> 00:47:08,320

YouTube URL: https://www.youtube.com/watch?v=zHSb4NNr_XE


