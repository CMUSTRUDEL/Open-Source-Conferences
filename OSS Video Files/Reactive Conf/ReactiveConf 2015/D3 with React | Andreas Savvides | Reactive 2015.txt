Title: D3 with React | Andreas Savvides | Reactive 2015
Publication date: 2017-06-29
Playlist: ReactiveConf 2015
Description: 
	d3 has been the de facto standard when it comes to data visualisations for a while now and React has recently emerged as the go-to library for building user interfaces. d3 and React are both data-centric libraries, making them a natural fit; d3 takes a data-driven approach and React aims to solve the problem of data changing over time in the context of building large applications. 
There have been various approaches documented on how to effectively use d3 and React together. In this talk, I will be going through a number of these approaches, talking about what I have learned from them and how I go about creating reusable chart components for large scale applications.

Andreas is a full-stack, product-driven Software Engineer who enjoys building interactive single page applications with rich data visualisations.
Captions: 
	00:00:05,339 --> 00:00:11,740
thank you hi everyone

00:00:08,680 --> 00:00:13,689
so I'm Andres I work for Twitter I'm

00:00:11,740 --> 00:00:17,019
sure you can tell from all the birds

00:00:13,689 --> 00:00:19,000
everywhere so I'll be talking about d3

00:00:17,019 --> 00:00:21,220
with react you already heard a little

00:00:19,000 --> 00:00:23,710
bit about d3 and react yesterday when

00:00:21,220 --> 00:00:26,740
Cohen spoke about victory Jas I'll be

00:00:23,710 --> 00:00:28,420
taking a slightly different angle but

00:00:26,740 --> 00:00:30,880
before I get started with the d3 and

00:00:28,420 --> 00:00:32,619
react side of things I am gonna be

00:00:30,880 --> 00:00:35,129
taking just two minutes of your time to

00:00:32,619 --> 00:00:37,629
talk about a slightly different subject

00:00:35,129 --> 00:00:40,210
it's a slightly sensitive subject as

00:00:37,629 --> 00:00:42,129
well and but I think it should be

00:00:40,210 --> 00:00:44,199
brought up and I think this is the right

00:00:42,129 --> 00:00:49,359
crowd for it as well

00:00:44,199 --> 00:00:52,049
so I'm just gonna go ahead the world of

00:00:49,359 --> 00:00:54,789
tech has a diversity problem right and

00:00:52,049 --> 00:00:57,940
that's a problem that we all need to own

00:00:54,789 --> 00:01:00,549
up to so it I don't think it's fair to

00:00:57,940 --> 00:01:03,399
put heat on conference organisers or

00:01:00,549 --> 00:01:06,100
employers alone it's it's all of our

00:01:03,399 --> 00:01:09,010
responsibilities to to actually tackle

00:01:06,100 --> 00:01:11,260
this problem it's a hard problem we all

00:01:09,010 --> 00:01:12,790
have biases right I'm not pointing the

00:01:11,260 --> 00:01:15,730
finger at anyone I'm pointing the finger

00:01:12,790 --> 00:01:16,780
at everyone in the world if you haven't

00:01:15,730 --> 00:01:18,670
watched Facebook's

00:01:16,780 --> 00:01:21,190
managing unconscious bias then you

00:01:18,670 --> 00:01:22,720
should go watch it because we all have

00:01:21,190 --> 00:01:24,910
biases and it's just a matter of

00:01:22,720 --> 00:01:27,490
accepting them and knowing that we're

00:01:24,910 --> 00:01:29,230
doing this so this is just a call to

00:01:27,490 --> 00:01:31,270
arms I just want to tell all of you that

00:01:29,230 --> 00:01:35,890
like we should all be running together

00:01:31,270 --> 00:01:39,460
to fix this problem and I I think the

00:01:35,890 --> 00:01:41,260
best way to do it is to just get

00:01:39,460 --> 00:01:43,330
everyone behind it and I don't know what

00:01:41,260 --> 00:01:45,360
you know I don't have all the answers I

00:01:43,330 --> 00:01:48,940
don't know how to fix this problem alone

00:01:45,360 --> 00:01:50,740
so I have a suggestion and maybe I'll be

00:01:48,940 --> 00:01:55,350
the only one that gets on in on this

00:01:50,740 --> 00:01:58,390
suggestion but I say make tech diverse

00:01:55,350 --> 00:02:00,190
use that hashtag share your ideas on how

00:01:58,390 --> 00:02:02,260
you could make the world of tech more

00:02:00,190 --> 00:02:05,020
diverse I think it's important for all

00:02:02,260 --> 00:02:07,659
of us I think the more ideas we have the

00:02:05,020 --> 00:02:09,729
better we can make things and you know

00:02:07,659 --> 00:02:11,409
going forward we can like work in an

00:02:09,729 --> 00:02:14,739
industry that we're all proud of and we

00:02:11,409 --> 00:02:16,840
all believe in but yeah thanks thanks

00:02:14,739 --> 00:02:19,200
for hearing me out on this subject I

00:02:16,840 --> 00:02:21,270
tweeted about it just now as well

00:02:19,200 --> 00:02:22,980
if you see other people tweeting with

00:02:21,270 --> 00:02:25,110
this hashtag with a good idea

00:02:22,980 --> 00:02:28,380
I say spread the word the more people

00:02:25,110 --> 00:02:30,900
that see it the better but again I'll

00:02:28,380 --> 00:02:32,850
reiterate on what I just said it's

00:02:30,900 --> 00:02:34,290
everyone's responsibility and I'm not

00:02:32,850 --> 00:02:36,990
trying to point any fingers at anyone

00:02:34,290 --> 00:02:39,630
and again I'm gonna reiterate that you

00:02:36,990 --> 00:02:41,700
know in in in reactives case they did a

00:02:39,630 --> 00:02:43,770
lot they heard a lot of feedback and

00:02:41,700 --> 00:02:45,480
they did a lot to try and make this

00:02:43,770 --> 00:02:47,400
conference as diverse as they could but

00:02:45,480 --> 00:02:48,810
they're not conference experts and

00:02:47,400 --> 00:02:50,640
they're not diversity experts

00:02:48,810 --> 00:02:52,260
none of us really are but like the more

00:02:50,640 --> 00:02:52,590
we talk about it the better we'll get at

00:02:52,260 --> 00:03:03,300
it

00:02:52,590 --> 00:03:07,010
so yeah let's make it happen so

00:03:03,300 --> 00:03:09,300
completely changing subject t3 and react

00:03:07,010 --> 00:03:12,480
so if you think about these two

00:03:09,300 --> 00:03:14,040
libraries they have they have a huge

00:03:12,480 --> 00:03:15,510
similarity in that it's all about the

00:03:14,040 --> 00:03:17,610
dates all right you give some data and

00:03:15,510 --> 00:03:19,230
something happens in two slightly

00:03:17,610 --> 00:03:20,940
different contexts one is all about the

00:03:19,230 --> 00:03:22,470
data visualization and the other one is

00:03:20,940 --> 00:03:25,739
all about the views and what you see in

00:03:22,470 --> 00:03:27,480
front of you you you'd think that

00:03:25,739 --> 00:03:29,850
they're very easy to work with together

00:03:27,480 --> 00:03:32,519
and that they're a natural fit but not

00:03:29,850 --> 00:03:35,670
quite just because if you think about

00:03:32,519 --> 00:03:37,170
react it's all about the virtual gone

00:03:35,670 --> 00:03:38,400
you don't want to actually touch the

00:03:37,170 --> 00:03:41,190
dorm itself you want to work inside the

00:03:38,400 --> 00:03:42,959
virtual dome whereas d3 does the exact

00:03:41,190 --> 00:03:45,420
opposite it's all about binding itself

00:03:42,959 --> 00:03:47,970
on the dorm and you know doing

00:03:45,420 --> 00:03:50,430
everything there and then so it's it's

00:03:47,970 --> 00:03:53,370
in a way two different worlds and it's

00:03:50,430 --> 00:03:54,360
an interesting world and kind of there's

00:03:53,370 --> 00:03:57,900
been a whole bunch of different

00:03:54,360 --> 00:04:01,620
approaches to try and sort of figure out

00:03:57,900 --> 00:04:03,390
how to combine d3 with react so I'm just

00:04:01,620 --> 00:04:05,070
gonna go briefly through like two or

00:04:03,390 --> 00:04:07,200
three of those that were the highlights

00:04:05,070 --> 00:04:11,370
for me at least the most interesting

00:04:07,200 --> 00:04:14,040
ones and the ones that sort of like made

00:04:11,370 --> 00:04:16,380
me think what's the best way to do this

00:04:14,040 --> 00:04:20,540
so one of the first posts that I read on

00:04:16,380 --> 00:04:22,350
this was from binary Consulting Bible

00:04:20,540 --> 00:04:24,680
stuffing but I think it's actually

00:04:22,350 --> 00:04:26,479
Barnard consulting

00:04:24,680 --> 00:04:28,400
there's this there's a really nice blog

00:04:26,479 --> 00:04:30,800
post talking about manipulating SVG

00:04:28,400 --> 00:04:33,410
elements with react and it was talking

00:04:30,800 --> 00:04:35,240
about is this the future of charting it

00:04:33,410 --> 00:04:37,040
was a very interesting read and if

00:04:35,240 --> 00:04:39,290
you're interested in like the history of

00:04:37,040 --> 00:04:40,550
like sort of like how people have used

00:04:39,290 --> 00:04:43,010
these three and react together you

00:04:40,550 --> 00:04:45,830
should read it it's quite cool

00:04:43,010 --> 00:04:48,430
then there was Nicolas Harry talking

00:04:45,830 --> 00:04:53,330
about letting each library do its thing

00:04:48,430 --> 00:04:55,460
and then relatively more recently Colin

00:04:53,330 --> 00:04:58,160
who spoke yesterday wrote a really good

00:04:55,460 --> 00:05:01,910
blog post titled III for maths react for

00:04:58,160 --> 00:05:03,229
rendering and using layouts and I was

00:05:01,910 --> 00:05:04,610
really excited when I read that I was

00:05:03,229 --> 00:05:05,660
really interested and then when I found

00:05:04,610 --> 00:05:08,060
out that the polling was actually

00:05:05,660 --> 00:05:10,280
speaking here a few weeks ago or months

00:05:08,060 --> 00:05:11,870
now I sent him a message and I'm like

00:05:10,280 --> 00:05:13,490
you know whoa you're speaking that's

00:05:11,870 --> 00:05:15,440
great and then he's like oh remember

00:05:13,490 --> 00:05:17,660
that blog post well you know victory is

00:05:15,440 --> 00:05:20,690
a continuation of it so I heard all

00:05:17,660 --> 00:05:22,639
about it so that was really great so

00:05:20,690 --> 00:05:24,650
these are just a handful of solutions

00:05:22,639 --> 00:05:26,600
that call quite a bit of traction people

00:05:24,650 --> 00:05:28,039
were talking about them quite a bit a

00:05:26,600 --> 00:05:31,340
lot of people tried various different

00:05:28,039 --> 00:05:32,990
things and then the natural question to

00:05:31,340 --> 00:05:34,880
this is so what's the best way what

00:05:32,990 --> 00:05:38,510
should I be doing how should I be using

00:05:34,880 --> 00:05:41,960
d3 and react together my answer is it

00:05:38,510 --> 00:05:43,729
very much depends so are you starting

00:05:41,960 --> 00:05:46,669
from scratch are you working on a

00:05:43,729 --> 00:05:48,620
greenfield project then my advice is go

00:05:46,669 --> 00:05:50,360
use something like Victor ejs because

00:05:48,620 --> 00:05:52,960
it's it's nice and easy

00:05:50,360 --> 00:05:54,620
Colin talked all about it yesterday and

00:05:52,960 --> 00:05:56,960
especially if you're not comfortable

00:05:54,620 --> 00:06:00,110
with the three and its syntax then I say

00:05:56,960 --> 00:06:01,789
go for it on the flip side though are

00:06:00,110 --> 00:06:03,620
you if you're rewriting an existing app

00:06:01,789 --> 00:06:05,510
then chances are that you have something

00:06:03,620 --> 00:06:07,039
like a backbone up with my own ed and

00:06:05,510 --> 00:06:10,520
then you have your d3 charts already

00:06:07,039 --> 00:06:12,800
there do you actually want to rewrite

00:06:10,520 --> 00:06:14,690
everything in one go do you want to

00:06:12,800 --> 00:06:17,960
actually integrate react in d3 very

00:06:14,690 --> 00:06:21,650
closely that's that's more complicated

00:06:17,960 --> 00:06:22,370
and then the other question is is what

00:06:21,650 --> 00:06:24,860
you need out there

00:06:22,370 --> 00:06:25,940
so Victor ejs is very cool for example

00:06:24,860 --> 00:06:28,220
it's got like a handful of

00:06:25,940 --> 00:06:29,599
visualizations available but maybe you

00:06:28,220 --> 00:06:32,479
are after something that's not out there

00:06:29,599 --> 00:06:34,580
and you need to use pure d3 so what's

00:06:32,479 --> 00:06:38,190
the best way to combine pure d3 with

00:06:34,580 --> 00:06:41,460
react and then do you actually

00:06:38,190 --> 00:06:44,340
have time we all love to refactor or

00:06:41,460 --> 00:06:45,630
well at least I do but it's it's a

00:06:44,340 --> 00:06:47,700
matter of do you have the time to

00:06:45,630 --> 00:06:49,050
refactor can you can you stop pushing

00:06:47,700 --> 00:06:51,930
out features so that you can rewrite

00:06:49,050 --> 00:06:54,990
something it's always that balance that

00:06:51,930 --> 00:06:58,290
you need to figure out so it's it's not

00:06:54,990 --> 00:07:00,780
really an easy question and then we all

00:06:58,290 --> 00:07:02,280
kind of go crazy as front-end developers

00:07:00,780 --> 00:07:04,830
when something new comes up we want to

00:07:02,280 --> 00:07:07,020
change everything to whatever is new and

00:07:04,830 --> 00:07:09,270
cool like we all want to go crazy on

00:07:07,020 --> 00:07:11,580
reacting everything if you see anything

00:07:09,270 --> 00:07:13,830
that don't react you panic people talk

00:07:11,580 --> 00:07:16,980
about jQuery and people in this room

00:07:13,830 --> 00:07:18,930
like whoa jQuery that's crazy but a

00:07:16,980 --> 00:07:21,360
couple of years ago three years ago you

00:07:18,930 --> 00:07:25,830
were all writing jQuery so don't lie to

00:07:21,360 --> 00:07:27,540
yourselves so you know that the

00:07:25,830 --> 00:07:30,050
temptation is there to like want to

00:07:27,540 --> 00:07:32,760
actually react absolutely everything but

00:07:30,050 --> 00:07:36,150
the truth is changing everything in one

00:07:32,760 --> 00:07:39,210
go is risky I think most of you would

00:07:36,150 --> 00:07:40,500
have probably experienced this trying to

00:07:39,210 --> 00:07:41,850
change too many things at a time will

00:07:40,500 --> 00:07:44,220
break many more things that you can

00:07:41,850 --> 00:07:48,720
imagine and I don't think that's

00:07:44,220 --> 00:07:51,360
something we want to do and then the

00:07:48,720 --> 00:07:54,900
other thing is getting react to do all

00:07:51,360 --> 00:07:56,400
the work in terms of what d3 does is not

00:07:54,900 --> 00:07:59,550
actually a walk in the park it's not a

00:07:56,400 --> 00:08:02,430
very easy thing to do if if you want

00:07:59,550 --> 00:08:05,760
someone to actually vouch for this just

00:08:02,430 --> 00:08:07,440
ask Colin and look at Victor ejs very

00:08:05,760 --> 00:08:09,240
impressive project but obviously it

00:08:07,440 --> 00:08:14,520
takes it takes hard work to do that

00:08:09,240 --> 00:08:17,010
right and then for whoever has watched

00:08:14,520 --> 00:08:19,740
this talk by Ryan Florence at react

00:08:17,010 --> 00:08:23,070
Europe that was titled on we ride reacts

00:08:19,740 --> 00:08:25,050
he spoke all about how you shouldn't be

00:08:23,070 --> 00:08:26,400
going wild rewriting absolutely

00:08:25,050 --> 00:08:29,940
everything take it one step at a time

00:08:26,400 --> 00:08:31,530
one component at a time and and I agree

00:08:29,940 --> 00:08:33,930
on this and I think like in the context

00:08:31,530 --> 00:08:35,669
of d3 like it makes sense to do that as

00:08:33,930 --> 00:08:37,490
well so if you have a large application

00:08:35,669 --> 00:08:40,950
and you have d3 visualizations as well

00:08:37,490 --> 00:08:42,839
don't be tempted to say okay I need to I

00:08:40,950 --> 00:08:44,760
need to rewrite all my visualizations to

00:08:42,839 --> 00:08:47,510
be in line with react I need react to do

00:08:44,760 --> 00:08:50,130
the rendering I say take a step back

00:08:47,510 --> 00:08:51,840
start rewriting your views and keep your

00:08:50,130 --> 00:08:53,760
d3 visualizations as they are

00:08:51,840 --> 00:08:55,500
like you can do that it's it's it's not

00:08:53,760 --> 00:08:58,230
impossible to do and then you can slowly

00:08:55,500 --> 00:08:59,850
transition if you feel like you know you

00:08:58,230 --> 00:09:01,500
want that kind of syntax you won't react

00:08:59,850 --> 00:09:07,620
to do everything for you you can do that

00:09:01,500 --> 00:09:10,410
it's okay so based on like Nicolas Aires

00:09:07,620 --> 00:09:14,640
blog post and like his idea of mapping

00:09:10,410 --> 00:09:18,450
basically reacts lifecycle methods to

00:09:14,640 --> 00:09:21,900
creation updating and removing of a over

00:09:18,450 --> 00:09:23,100
d3 chart I sort of I built a little

00:09:21,900 --> 00:09:26,580
something

00:09:23,100 --> 00:09:28,080
get up pages there it's it's nothing

00:09:26,580 --> 00:09:30,150
complicated it's actually quite simple

00:09:28,080 --> 00:09:32,610
the idea is that you just make sure that

00:09:30,150 --> 00:09:34,170
every time something like so when the

00:09:32,610 --> 00:09:36,690
component does mount you want to create

00:09:34,170 --> 00:09:38,880
your chart so once once you have access

00:09:36,690 --> 00:09:40,590
to the dorm you want to let d3 loose on

00:09:38,880 --> 00:09:42,210
the dorm into its thing you don't need

00:09:40,590 --> 00:09:43,850
to change anything else as long as

00:09:42,210 --> 00:09:46,560
you're mapping your functions correctly

00:09:43,850 --> 00:09:48,450
on every event that's happening within a

00:09:46,560 --> 00:09:51,050
reactor then you're okay you don't need

00:09:48,450 --> 00:09:56,550
to worry about anything else

00:09:51,050 --> 00:09:58,380
so before we dive into some code I'm

00:09:56,550 --> 00:10:04,130
just gonna reference this because I use

00:09:58,380 --> 00:10:06,930
classes and I sleep at night thankfully

00:10:04,130 --> 00:10:08,700
but yeah just I want to put it out there

00:10:06,930 --> 00:10:10,830
and if any of you are scared of classes

00:10:08,700 --> 00:10:12,930
or really disapproving read this it's a

00:10:10,830 --> 00:10:14,040
pretty interesting read it's not saying

00:10:12,930 --> 00:10:15,450
that classes are the best thing in the

00:10:14,040 --> 00:10:17,190
world it's just saying that you know if

00:10:15,450 --> 00:10:18,930
you use them the right way they're okay

00:10:17,190 --> 00:10:20,790
and you it's just a matter of

00:10:18,930 --> 00:10:24,780
understanding how they're meant to be

00:10:20,790 --> 00:10:40,020
used so I'm just gonna go straight into

00:10:24,780 --> 00:10:46,050
some code let me just move this okay can

00:10:40,020 --> 00:10:48,300
you hear me yeah you don't need to read

00:10:46,050 --> 00:10:50,720
it but just as a note there's there's a

00:10:48,300 --> 00:10:54,600
nice readme so you can have a look at it

00:10:50,720 --> 00:10:58,020
so the idea is that there's there's a

00:10:54,600 --> 00:11:00,000
base chart right that all charts inherit

00:10:58,020 --> 00:11:02,490
form and it's just one level inheritance

00:11:00,000 --> 00:11:04,110
so I'm not going crazy I'm keeping and

00:11:02,490 --> 00:11:06,930
sticking to the rules listening to Dan

00:11:04,110 --> 00:11:09,220
Abramov so I can sleep at night

00:11:06,930 --> 00:11:11,410
I'm just sharing some functionality like

00:11:09,220 --> 00:11:13,000
adding tooltips and like colors and like

00:11:11,410 --> 00:11:15,310
what happens when the mouse moves and

00:11:13,000 --> 00:11:17,190
how you place those tooltips so that's

00:11:15,310 --> 00:11:19,960
the purpose of the base class really

00:11:17,190 --> 00:11:24,220
beyond that you have like the create

00:11:19,960 --> 00:11:25,570
update and unmount functions this is

00:11:24,220 --> 00:11:27,130
usually called remove but I just called

00:11:25,570 --> 00:11:30,399
it on mount just so that it Maps

00:11:27,130 --> 00:11:33,399
perfectly to component will unmount did

00:11:30,399 --> 00:11:35,649
unmount I think it just makes a little

00:11:33,399 --> 00:11:38,950
bit more sense but I'm open to feedback

00:11:35,649 --> 00:11:42,060
if people think it's crazy and then the

00:11:38,950 --> 00:11:44,350
the chart component itself it's just on

00:11:42,060 --> 00:11:46,810
what you can make use of as part of this

00:11:44,350 --> 00:11:48,339
library so you can just specify what

00:11:46,810 --> 00:11:51,070
kind of chart you want so there's three

00:11:48,339 --> 00:11:53,010
already there hopefully you can all see

00:11:51,070 --> 00:11:56,950
by the way let me know if I need to zoom

00:11:53,010 --> 00:11:59,080
feel free to shout it's all good yes you

00:11:56,950 --> 00:12:00,790
can you can sort of specify the kind of

00:11:59,080 --> 00:12:02,380
chart you want and everything will be

00:12:00,790 --> 00:12:05,830
handled for you and it's really simple

00:12:02,380 --> 00:12:08,589
code it's it's nothing crazy and there's

00:12:05,830 --> 00:12:10,900
a whole bunch of examples and I'm I'm a

00:12:08,589 --> 00:12:13,029
big fan of learning by example so I've

00:12:10,900 --> 00:12:21,550
got the examples running which is great

00:12:13,029 --> 00:12:24,520
and the right here and the other page is

00:12:21,550 --> 00:12:29,140
just here if the internet works maybe

00:12:24,520 --> 00:12:31,330
not okay Wow all I was going to do was

00:12:29,140 --> 00:12:34,330
just go to the to the actual repository

00:12:31,330 --> 00:12:36,730
and look at the issues and basically

00:12:34,330 --> 00:12:38,320
pick one and work on it with you just

00:12:36,730 --> 00:12:41,529
here like just a really small one

00:12:38,320 --> 00:12:43,060
hopefully I can pull it off but okay so

00:12:41,529 --> 00:12:44,950
we've got a whole bunch of examples here

00:12:43,060 --> 00:12:47,620
some visualizations that are created in

00:12:44,950 --> 00:12:52,450
pure react wrapped in a really

00:12:47,620 --> 00:12:55,329
lightweight sorry in pure d3 wrapped in

00:12:52,450 --> 00:12:57,459
a very lightweight react component so

00:12:55,329 --> 00:13:00,040
there's a bunch of examples here for

00:12:57,459 --> 00:13:02,529
whatever is supported the one thing that

00:13:00,040 --> 00:13:05,020
I haven't done is show an example where

00:13:02,529 --> 00:13:07,690
the charts update so it's just a matter

00:13:05,020 --> 00:13:10,029
of changing the props so I'm gonna go

00:13:07,690 --> 00:13:12,450
ahead and do that so I'm gonna change

00:13:10,029 --> 00:13:15,279
the bar chart so as you see here there's

00:13:12,450 --> 00:13:17,079
example bar chart that's a reactive

00:13:15,279 --> 00:13:20,299
component

00:13:17,079 --> 00:13:23,239
we have a state which has the data x and

00:13:20,299 --> 00:13:24,799
y values and some data there and then

00:13:23,239 --> 00:13:27,649
for actually creating the chart itself

00:13:24,799 --> 00:13:29,119
all you need to do is pass in some

00:13:27,649 --> 00:13:31,879
information like the type of chart you

00:13:29,119 --> 00:13:34,489
want some dimensions and whether you

00:13:31,879 --> 00:13:43,579
want to show the tooltips or not so if

00:13:34,489 --> 00:13:51,529
we want this to update let's do this so

00:13:43,579 --> 00:13:54,679
let's set a timeout and let's say I

00:13:51,529 --> 00:14:01,039
don't know three seconds and then once

00:13:54,679 --> 00:14:05,779
this happens let's change the state and

00:14:01,039 --> 00:14:10,579
let's just grab this and make some

00:14:05,779 --> 00:14:17,149
changes to this so let's bring this down

00:14:10,579 --> 00:14:21,169
to a just random numbers here and if we

00:14:17,149 --> 00:14:26,119
save that change anything else probably

00:14:21,169 --> 00:14:38,919
not okay so three two one

00:14:26,119 --> 00:14:38,919
no update sorry oh

00:14:49,860 --> 00:14:59,810
wait where did I miss this ah yes that

00:14:57,660 --> 00:14:59,810
is true

00:15:00,120 --> 00:15:03,440
good point

00:15:13,279 --> 00:15:16,699
why should the

00:15:20,400 --> 00:15:24,560
after the brachot like here

00:15:35,459 --> 00:15:39,209
mount what

00:15:43,630 --> 00:15:48,120
I'm just hearing just hearing voices

00:15:51,120 --> 00:15:54,960
okay sorry

00:15:57,030 --> 00:16:09,340
thank you it's quite stressful doing

00:16:06,040 --> 00:16:13,300
this you know thank you though sorry I

00:16:09,340 --> 00:16:16,540
thought it was a context thing and

00:16:13,300 --> 00:16:26,350
that's why life coding is not easy

00:16:16,540 --> 00:16:28,740
yeah believe this work now yeah okay

00:16:26,350 --> 00:16:34,840
great

00:16:28,740 --> 00:16:38,320
so let's go back to this okay so the

00:16:34,840 --> 00:16:41,370
question is obviously there's some some

00:16:38,320 --> 00:16:43,570
pre-made charts that you can make use of

00:16:41,370 --> 00:16:46,060
but the real question is how does this

00:16:43,570 --> 00:16:48,670
help you with my existing charts and

00:16:46,060 --> 00:16:50,470
this is the the nice bit for me at least

00:16:48,670 --> 00:16:52,090
like if you have existing charts or you

00:16:50,470 --> 00:16:55,360
can all you need to do is say that you

00:16:52,090 --> 00:16:57,220
have type costume specify your you have

00:16:55,360 --> 00:16:59,050
a custom chart and I'll just pass that

00:16:57,220 --> 00:17:02,650
chart in and everything will be handled

00:16:59,050 --> 00:17:04,990
for you there are some expectations that

00:17:02,650 --> 00:17:08,410
you actually that you actually have a

00:17:04,990 --> 00:17:11,680
create update and mount function within

00:17:08,410 --> 00:17:13,449
your some custom chart in this case so

00:17:11,680 --> 00:17:14,890
in terms of like rewriting something

00:17:13,449 --> 00:17:16,780
that already exists chances are you

00:17:14,890 --> 00:17:18,189
won't have to do very much because these

00:17:16,780 --> 00:17:21,660
three components you already build them

00:17:18,189 --> 00:17:25,660
in that way so that's that's quite handy

00:17:21,660 --> 00:17:28,050
so I'm gonna do some more coding good

00:17:25,660 --> 00:17:28,050
luck to me

00:17:35,260 --> 00:17:42,350
right so what what I really want to show

00:17:38,690 --> 00:17:44,750
is how if you have an existing d3 chart

00:17:42,350 --> 00:17:46,420
you can just easily pass it in and let

00:17:44,750 --> 00:17:51,710
this all do its thing

00:17:46,420 --> 00:17:56,000
so let's write some d3 who actually

00:17:51,710 --> 00:17:58,220
enjoys writing d3 yay it's not just me

00:17:56,000 --> 00:18:02,960
okay hopefully I won't mess this one up

00:17:58,220 --> 00:18:06,050
so let's use a class because just

00:18:02,960 --> 00:18:10,640
because so I'm just going to create a

00:18:06,050 --> 00:18:15,200
simple bar chart and then okay we need a

00:18:10,640 --> 00:18:18,020
constructor that passes the element so

00:18:15,200 --> 00:18:20,090
the reason why I need this is because

00:18:18,020 --> 00:18:23,059
inside Charlotte J yes when you're

00:18:20,090 --> 00:18:24,650
creating when you're initializing the

00:18:23,059 --> 00:18:27,260
chart you're actually passing the

00:18:24,650 --> 00:18:28,640
element as well as some properties I'm

00:18:27,260 --> 00:18:30,200
gonna ignore the properties because I'm

00:18:28,640 --> 00:18:35,590
not gonna make use of them in any way

00:18:30,200 --> 00:18:39,380
right now so I've got the constructor

00:18:35,590 --> 00:18:46,690
and then we want to create a chart given

00:18:39,380 --> 00:18:46,690
some data so let's create a linear scale

00:18:50,140 --> 00:18:58,160
okay and then let's give it a domain and

00:18:55,820 --> 00:18:59,960
let's just assume that the day that

00:18:58,160 --> 00:19:02,900
we're gonna get is just gonna be a list

00:18:59,960 --> 00:19:05,990
of numbers so just two three four

00:19:02,900 --> 00:19:11,750
whatever it might be so the maximum for

00:19:05,990 --> 00:19:15,290
this domain will be data cool and then

00:19:11,750 --> 00:19:19,220
we can just give around them range and

00:19:15,290 --> 00:19:20,870
let's say 0 to 420 just something around

00:19:19,220 --> 00:19:22,490
them really you can you can pass it as a

00:19:20,870 --> 00:19:23,960
variable of some sort you can pass it

00:19:22,490 --> 00:19:28,670
with the props we don't want to do that

00:19:23,960 --> 00:19:33,170
now okay so d3 dot select so we select

00:19:28,670 --> 00:19:36,290
the element and then we select all the

00:19:33,170 --> 00:19:38,210
things I was saying yesterday they'll be

00:19:36,290 --> 00:19:41,059
fun if you could actually rename select

00:19:38,210 --> 00:19:42,500
all to select all the things maybe

00:19:41,059 --> 00:19:44,720
that's just me being very excited about

00:19:42,500 --> 00:19:47,190
something very minor so we're gonna

00:19:44,720 --> 00:19:53,130
getting ourselves into a div

00:19:47,190 --> 00:19:58,760
let's pass in the data next up we want

00:19:53,130 --> 00:20:02,220
to open object we want to enter and

00:19:58,760 --> 00:20:04,740
append some divs so it's going to be a

00:20:02,220 --> 00:20:06,990
really simple no-no as we Gino I think

00:20:04,740 --> 00:20:08,270
we're just doing this just keeping it

00:20:06,990 --> 00:20:12,179
simple

00:20:08,270 --> 00:20:17,640
okay so we've appended a div and and we

00:20:12,179 --> 00:20:24,049
want to style these things so most

00:20:17,640 --> 00:20:24,049
important style is the width so we want

00:20:24,919 --> 00:20:34,409
we want to return basically using this

00:20:32,490 --> 00:20:35,490
linear scale that we've created we want

00:20:34,409 --> 00:20:37,710
to get the value and we're going to

00:20:35,490 --> 00:20:40,740
return out into pixels and because we

00:20:37,710 --> 00:20:45,390
have a range going up to 420 then it

00:20:40,740 --> 00:20:48,960
will fall within that range and now

00:20:45,390 --> 00:20:51,750
let's add some more styles and as you

00:20:48,960 --> 00:21:03,240
see in line styles styles in JavaScript

00:20:51,750 --> 00:21:11,720
d3 let's just give it color background

00:21:03,240 --> 00:21:11,720
color and let's give it blue okay oh

00:21:14,539 --> 00:21:21,020
yeah I love this this is taking pair

00:21:18,900 --> 00:21:26,120
programming to a whole new level

00:21:21,020 --> 00:21:29,220
it's conference programming okay text

00:21:26,120 --> 00:21:34,049
are we gonna say we just want to return

00:21:29,220 --> 00:21:39,179
the D okay cool

00:21:34,049 --> 00:21:43,770
okay we're at a good place we don't

00:21:39,179 --> 00:21:48,270
update just ignore for now and for

00:21:43,770 --> 00:21:49,530
unmounting let's say this to remove so

00:21:48,270 --> 00:21:53,730
we make sure that the element is removed

00:21:49,530 --> 00:21:56,669
when we're all done okay so we have an

00:21:53,730 --> 00:21:59,620
actual bar chart and now we can create a

00:21:56,669 --> 00:22:13,320
component very much like

00:21:59,620 --> 00:22:13,320
this one so another custom chart oh okay

00:22:14,190 --> 00:22:19,030
so we have some props

00:22:16,150 --> 00:22:22,320
I'm just weary of time so I'm just going

00:22:19,030 --> 00:22:22,320
ahead and going a little bit faster

00:22:24,510 --> 00:22:35,200
let's just throw in some data in there

00:22:28,110 --> 00:22:43,750
okay and then for rendering we just want

00:22:35,200 --> 00:22:47,040
to return let's just literally return

00:22:43,750 --> 00:22:47,040
the chart we don't need anything else

00:22:48,300 --> 00:22:57,700
and type equals to custom and the custom

00:22:54,309 --> 00:23:03,400
chart that we want to pass there no too

00:22:57,700 --> 00:23:08,860
many returns okay

00:23:03,400 --> 00:23:13,540
yes going crazy here Oh No

00:23:08,860 --> 00:23:14,020
okay there you go okay that's a bit

00:23:13,540 --> 00:23:16,840
better

00:23:14,020 --> 00:23:24,400
custom charge let's say we want to pass

00:23:16,840 --> 00:23:27,640
the bar chart and then the data is this

00:23:24,400 --> 00:23:35,370
state or data am i doing anything else

00:23:27,640 --> 00:23:35,370
silly where bracket 20 brackets

00:23:42,340 --> 00:24:09,140
yes now we have data all right I love

00:24:00,410 --> 00:24:11,930
this oh I really need to transfer that

00:24:09,140 --> 00:24:16,910
license okay

00:24:11,930 --> 00:24:25,160
so yay so there's the chart it's not

00:24:16,910 --> 00:24:28,220
very fancy it's it's not very fancy but

00:24:25,160 --> 00:24:30,050
just a simple way to showcase that you

00:24:28,220 --> 00:24:31,880
can just have some d3 you can throw it

00:24:30,050 --> 00:24:33,920
inside this as long as you built it in

00:24:31,880 --> 00:24:35,900
that structure and the rest will be

00:24:33,920 --> 00:24:37,970
handled for you if you want to update it

00:24:35,900 --> 00:24:40,930
then just write the d3 code inside the

00:24:37,970 --> 00:24:45,680
update function and it will do the trick

00:24:40,930 --> 00:24:48,650
so let's go back here so we've seen some

00:24:45,680 --> 00:24:51,140
code which is great and I'm just gonna

00:24:48,650 --> 00:24:52,910
say hey how does this improve the

00:24:51,140 --> 00:24:55,340
developer experience which is something

00:24:52,910 --> 00:25:01,070
that sort of gained a lot of traction

00:24:55,340 --> 00:25:02,150
I'd react Europe so it's nice and easy

00:25:01,070 --> 00:25:03,410
to integrate with your react

00:25:02,150 --> 00:25:07,850
complications you don't have to rewrite

00:25:03,410 --> 00:25:09,500
any of your d3 which is quite handy you

00:25:07,850 --> 00:25:11,480
can use your existing d3 visualizations

00:25:09,500 --> 00:25:13,430
and if you like writing the three like

00:25:11,480 --> 00:25:17,210
the two people that in this room like to

00:25:13,430 --> 00:25:18,830
write d3 yeah you for us but also you

00:25:17,210 --> 00:25:20,630
know if you have someone in your team

00:25:18,830 --> 00:25:22,130
that really enjoys writing d3 and they

00:25:20,630 --> 00:25:23,690
want to keep writing things in d3 and

00:25:22,130 --> 00:25:26,600
they want the power then you can give

00:25:23,690 --> 00:25:28,280
that to them which is quite nice and

00:25:26,600 --> 00:25:31,730
then you can keep creating things in the

00:25:28,280 --> 00:25:33,380
same way that you've always done and

00:25:31,730 --> 00:25:36,770
then you don't you don't need to worry

00:25:33,380 --> 00:25:38,690
about taking apart d3s approach if

00:25:36,770 --> 00:25:40,670
that's what you're interested in I say

00:25:38,690 --> 00:25:42,290
check out victory contribute to victory

00:25:40,670 --> 00:25:44,000
because that's a very cool project and

00:25:42,290 --> 00:25:46,130
it's not an easy thing to do to take

00:25:44,000 --> 00:25:49,330
what d3 does and transfer it to be

00:25:46,130 --> 00:25:49,330
within the context of react

00:25:49,340 --> 00:25:53,420
and then yeah I mean for me it's about

00:25:51,500 --> 00:25:56,540
utilizing what each library is messed up

00:25:53,420 --> 00:26:00,260
and just doing the best that you can

00:25:56,540 --> 00:26:02,390
with all you have and that's it for me I

00:26:00,260 --> 00:26:04,250
think I'm within my time thank you for

00:26:02,390 --> 00:26:06,290
listening to me thank you for watching

00:26:04,250 --> 00:26:16,880
me live code and fail miserably thank

00:26:06,290 --> 00:26:18,410
you for for helping out we're good with

00:26:16,880 --> 00:26:24,950
time so you have time for questions

00:26:18,410 --> 00:26:27,470
right now here's the camera anyway okay

00:26:24,950 --> 00:26:28,880
so well I like these three but it's not

00:26:27,470 --> 00:26:32,660
the only player right any good

00:26:28,880 --> 00:26:34,520
alternatives when to use what umm I mean

00:26:32,660 --> 00:26:38,180
at least as far as I'm concerned in

00:26:34,520 --> 00:26:39,980
terms of data visualizations I in any

00:26:38,180 --> 00:26:41,360
way like this might be controversial but

00:26:39,980 --> 00:26:44,450
I do think d3 is pretty much the only

00:26:41,360 --> 00:26:47,150
player if like the expressiveness and

00:26:44,450 --> 00:26:48,650
power that you get is incredible there's

00:26:47,150 --> 00:26:51,230
lots of libraries that are built on top

00:26:48,650 --> 00:26:54,290
of d3 that you could make use of there

00:26:51,230 --> 00:26:57,830
is there's c3 which is really nice

00:26:54,290 --> 00:27:00,140
library it's actively developed and the

00:26:57,830 --> 00:27:01,730
person behind it is very nice person so

00:27:00,140 --> 00:27:03,140
you know it's it's a good community to

00:27:01,730 --> 00:27:06,290
be a part of

00:27:03,140 --> 00:27:08,210
there's also nvd 3 but I don't know how

00:27:06,290 --> 00:27:10,670
actively that's maintained that was

00:27:08,210 --> 00:27:12,590
pretty good and pretty quick but in

00:27:10,670 --> 00:27:15,470
terms of standalone libraries for me d3

00:27:12,590 --> 00:27:17,870
is the one I wouldn't I wouldn't I mean

00:27:15,470 --> 00:27:21,800
I've tried a few others but I don't

00:27:17,870 --> 00:27:23,240
think any have the power the d3 has it's

00:27:21,800 --> 00:27:25,040
it's worth taking the time to actually

00:27:23,240 --> 00:27:26,360
understand how these three works so this

00:27:25,040 --> 00:27:28,340
is something that Colin touched on

00:27:26,360 --> 00:27:31,040
yesterday saying how there's this

00:27:28,340 --> 00:27:33,110
culture in d3 land where people

00:27:31,040 --> 00:27:34,730
literally just copy-paste gist's and

00:27:33,110 --> 00:27:36,770
then they don't even understand how that

00:27:34,730 --> 00:27:38,330
code works it's great to get a chart up

00:27:36,770 --> 00:27:41,390
and running without understanding how it

00:27:38,330 --> 00:27:43,160
works ta like but really you want to

00:27:41,390 --> 00:27:44,660
understand how everything falls into

00:27:43,160 --> 00:27:45,890
place and then once you understand that

00:27:44,660 --> 00:27:49,100
you'll be able to create these revisions

00:27:45,890 --> 00:27:51,530
really quickly and you'll be able to do

00:27:49,100 --> 00:27:54,350
anything you want really

00:27:51,530 --> 00:27:55,940
20 seconds okay next one why is everyone

00:27:54,350 --> 00:27:57,680
only considering Ezra gu and talking

00:27:55,940 --> 00:27:59,390
about data visualizations why don't we

00:27:57,680 --> 00:28:01,350
embrace the usage of canvas with react

00:27:59,390 --> 00:28:03,600
when it comes to database

00:28:01,350 --> 00:28:05,940
that's a good point I mean count 10

00:28:03,600 --> 00:28:08,670
seconds um canvas is cool I haven't done

00:28:05,940 --> 00:28:11,790
very much with it but yes I agree we

00:28:08,670 --> 00:28:12,560
should write 3 seconds thank you very

00:28:11,790 --> 00:28:16,460
much

00:28:12,560 --> 00:28:16,460

YouTube URL: https://www.youtube.com/watch?v=NFTWq10bYcs


